id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-tempest-skiplist~master~I26a99895fda8be4a34dc1b801d15b03b0b39e852,openstack/openstack-tempest-skiplist,master,I26a99895fda8be4a34dc1b801d15b03b0b39e852,Adds c9 scenario010-standalone to octavia tests,MERGED,2022-01-19 12:37:28.000000000,2022-01-24 17:41:15.000000000,2022-01-19 13:03:27.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 12:37:28.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/98dab0b513a692ccf7755252bc17f0bde97fe2d5', 'message': 'Adds c9 scenario010-standalone to octavia tests\n\nSkips failing octavia tests for tripleo-ci-centos-9-scenario010-standalone\n\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1958384\nChange-Id: I26a99895fda8be4a34dc1b801d15b03b0b39e852\n'}]",1,825304,98dab0b513a692ccf7755252bc17f0bde97fe2d5,8,2,1,32458,,,0,"Adds c9 scenario010-standalone to octavia tests

Skips failing octavia tests for tripleo-ci-centos-9-scenario010-standalone

Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1958384
Change-Id: I26a99895fda8be4a34dc1b801d15b03b0b39e852
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/04/825304/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,98dab0b513a692ccf7755252bc17f0bde97fe2d5,, - test: 'octavia_tempest_plugin.tests.scenario.v2.test_load_balancer.LoadBalancerScenarioTest.test_load_balancer_ipv4_CRUD' deployment: - 'overcloud' releases: - name: master reason: show_loadbalancer provisioning_status updated to an invalid state of ERROR installers: - 'tripleo' lp: https://bugs.launchpad.net/tripleo/+bug/1958384 jobs: - tripleo-ci-centos-9-scenario010-standalone - test: 'octavia_tempest_plugin.tests.scenario.v2.test_healthmonitor.HealthMonitorScenarioTest' deployment: - 'overcloud' releases: - name: master reason: show_loadbalancer provisioning_status updated to an invalid state of ERROR installers: - 'tripleo' lp: https://bugs.launchpad.net/tripleo/+bug/1958384 jobs: - tripleo-ci-centos-9-scenario010-standalone - test: 'octavia_tempest_plugin.tests.scenario.v2.test_listener.ListenerScenarioTest' deployment: - 'overcloud' releases: - name: master reason: show_loadbalancer provisioning_status updated to an invalid state of ERROR installers: - 'tripleo' lp: https://bugs.launchpad.net/tripleo/+bug/1958384 jobs: - tripleo-ci-centos-9-scenario010-standalone - test: 'octavia_tempest_plugin.tests.scenario.v2.test_member.MemberScenarioTest' deployment: - 'overcloud' releases: - name: master reason: show_loadbalancer provisioning_status updated to an invalid state of ERROR installers: - 'tripleo' lp: https://bugs.launchpad.net/tripleo/+bug/1958384 jobs: - tripleo-ci-centos-9-scenario010-standalone,,44,0
openstack%2Fpuppet-murano~master~I4f7bdca9d1d306c014110d3e017eb0e17aacecb4,openstack/puppet-murano,master,I4f7bdca9d1d306c014110d3e017eb0e17aacecb4,Do not test detail of keystone::auth::service_identity,MERGED,2022-01-24 06:31:17.000000000,2022-01-24 17:40:05.000000000,2022-01-24 17:40:05.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-24 06:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/fbe6c8a067be329213d9c2f44cda21875ad620ad', 'message': 'Do not test detail of keystone::auth::service_identity\n\n... but test interfaces of that resource type. This helps us avoid\ndirect breakage caused by any change in puppet-keystone.\n\nChange-Id: I4f7bdca9d1d306c014110d3e017eb0e17aacecb4\n'}, {'number': 2, 'created': '2022-01-24 07:03:57.000000000', 'files': ['spec/classes/murano_keystone_cfapi_auth_spec.rb', 'spec/classes/murano_keystone_auth_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/7cae4ca51c7749b50f731c2f5ede8f0d66c1300e', 'message': 'Do not test detail of keystone::auth::service_identity\n\n... but test interfaces of that resource type. This helps us avoid\ndirect breakage caused by any change in puppet-keystone.\n\nChange-Id: I4f7bdca9d1d306c014110d3e017eb0e17aacecb4\n'}]",0,826016,7cae4ca51c7749b50f731c2f5ede8f0d66c1300e,9,3,2,9816,,,0,"Do not test detail of keystone::auth::service_identity

... but test interfaces of that resource type. This helps us avoid
direct breakage caused by any change in puppet-keystone.

Change-Id: I4f7bdca9d1d306c014110d3e017eb0e17aacecb4
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/16/826016/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/murano_keystone_cfapi_auth_spec.rb', 'spec/classes/murano_keystone_auth_spec.rb']",2,fbe6c8a067be329213d9c2f44cda21875ad620ad,auth-ut,"# # Unit tests for murano::keystone::auth # shared_examples_for 'murano::keystone::auth' do context 'with default class parameters' do { :password => 'murano_password' } it { is_expected.to contain_keystone__resource__service_identity('murano').with( :configure_user => true, :configure_user_role => true, :configure_endpoint => true, :service_name => 'murano', :service_type => 'application-catalog', :service_description => 'Murano Application Catalog', :region => 'RegionOne', :auth_name => 'murano', :password => 'murano_password', :email => 'murano@localhost', :tenant => 'services', :public_url => 'http://127.0.0.1:8082', :internal_url => 'http://127.0.0.1:8082', :admin_url => 'http://127.0.0.1:8082', ) } context 'when overriding parameters' do { :password => 'murano_password', :auth_name => 'alt_murano', :email => 'alt_murano@alt_localhost', :tenant => 'alt_service', :configure_endpoint => false, :configure_user => false, :configure_user_role => false, :service_description => 'Alternative Murano Application Catalog', :service_name => 'alt_service', :service_type => 'alt_application-catalog', :region => 'RegionTwo', :public_url => 'https://10.10.10.10:80', :internal_url => 'http://10.10.10.11:81', :admin_url => 'http://10.10.10.12:81' } it { is_expected.to contain_keystone__resource__service_identity('murano').with( :configure_user => false, :configure_user_role => false, :configure_endpoint => false, :service_name => 'alt_service', :service_type => 'alt_application-catalog', :service_description => 'Alternative Murano Application Catalog', :region => 'RegionTwo', :auth_name => 'alt_murano', :password => 'murano_password', :email => 'alt_murano@alt_localhost', :tenant => 'alt_service', :public_url => 'https://10.10.10.10:80', :internal_url => 'http://10.10.10.11:81', :admin_url => 'http://10.10.10.12:81', ) } :supported_os => OSDefaults.get_supported_os it_behaves_like 'murano::keystone::auth'"," shared_examples_for 'murano keystone auth' do describe 'with default class parameters' do { :password => 'murano_password', :tenant => 'foobar' } it { is_expected.to contain_keystone_user('murano').with( :ensure => 'present', :password => 'murano_password', ) } it { is_expected.to contain_keystone_user_role('murano@foobar').with( :ensure => 'present', :roles => ['admin'] )} it { is_expected.to contain_keystone_service('murano::application-catalog').with( :ensure => 'present', :description => 'Murano Application Catalog' ) } it { is_expected.to contain_keystone_endpoint('RegionOne/murano::application-catalog').with( :ensure => 'present', :public_url => ""http://127.0.0.1:8082"", :admin_url => ""http://127.0.0.1:8082"", :internal_url => ""http://127.0.0.1:8082"" ) } describe 'with endpoint parameters' do { :password => 'murano_password', :public_url => 'https://10.10.10.10:80', :internal_url => 'http://10.10.10.11:81', :admin_url => 'http://10.10.10.12:81' } it { is_expected.to contain_keystone_endpoint('RegionOne/murano::application-catalog').with( :ensure => 'present', :public_url => 'https://10.10.10.10:80', :internal_url => 'http://10.10.10.11:81', :admin_url => 'http://10.10.10.12:81' ) } end describe 'when overriding auth and service name' do let :params do { :password => 'foo', :service_name => 'muranoy', :auth_name => 'muranoy' } end it { is_expected.to contain_keystone_user('muranoy') } it { is_expected.to contain_keystone_user_role('muranoy@services') } it { is_expected.to contain_keystone_service('muranoy::application-catalog') } it { is_expected.to contain_keystone_endpoint('RegionOne/muranoy::application-catalog') } end describe 'when not configuring user and role' do let :params do { :password => 'foo', :configure_user => false, :configure_user_role => false } end it { is_expected.to_not contain_keystone_user('murano') } it { is_expected.to_not contain_keystone_user_role('murano@services') } :supported_os => OSDefaults.get_supported_os it_behaves_like 'murano keystone auth'",112,117
openstack%2Fpuppet-cloudkitty~master~Ia12867af22002b6a6d1e40e9ded60c92d493023b,openstack/puppet-cloudkitty,master,Ia12867af22002b6a6d1e40e9ded60c92d493023b,Accept system scope credentials for Keystone API request,MERGED,2022-01-24 05:43:11.000000000,2022-01-24 17:38:00.000000000,2022-01-24 17:34:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-24 05:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/b4482abcde7c2dbe44b06371153c9ab791b4557a', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ia12867af22002b6a6d1e40e9ded60c92d493023b\n'}, {'number': 2, 'created': '2022-01-24 06:01:36.000000000', 'files': ['spec/classes/cloudkitty_keystone_auth_spec.rb', 'spec/classes/cloudkitty_keystone_authtoken_spec.rb', 'releasenotes/notes/system_scope-keystone-be4e70a45c419d25.yaml', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/6c3336b5d9f0bd35bdbb187c9d633229391f228a', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ia12867af22002b6a6d1e40e9ded60c92d493023b\n'}]",0,826008,6c3336b5d9f0bd35bdbb187c9d633229391f228a,10,3,2,9816,,,0,"Accept system scope credentials for Keystone API request

This change is the first step to support secure RBAC and allows usage
of system scope credentials for Keystone API request.

This change covers the following two items.
 - assignment of system scope roles to system user
 - credential parameters for authtoken middleware

Depends-on: https://review.opendev.org/804325
Change-Id: Ia12867af22002b6a6d1e40e9ded60c92d493023b
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/08/826008/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cloudkitty_keystone_auth_spec.rb', 'releasenotes/notes/system_scope-keystone-be4e70a45c419d25.yaml', 'spec/classes/cloudkitty_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp']",5,b4482abcde7c2dbe44b06371153c9ab791b4557a,system-scope-params,"# [*roles*] # (Optional) List of roles assigned to aodh user. # Defaults to ['admin'] # # [*system_scope*] # (Optional) Scope for system operations. # Defaults to 'all' # # [*system_roles*] # (Optional) List of system roles assigned to aodh user. # Defaults to [] # $roles = ['admin'], $system_scope = 'all', $system_roles = [], roles => $roles, system_scope => $system_scope, system_roles => $system_roles,",,49,0
openstack%2Fpuppet-trove~master~I3ace0192837442a4d3952cc7b75ed2e93426effa,openstack/puppet-trove,master,I3ace0192837442a4d3952cc7b75ed2e93426effa,Do not test detail of keystone::auth::service_identity,MERGED,2022-01-24 06:24:41.000000000,2022-01-24 17:37:11.000000000,2022-01-24 17:37:11.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-24 06:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/abccfa4c7378c5bf1e95bbb13f38255acef0fd75', 'message': 'Do not test detail of keystone::auth::service_identity\n\n... but test interfaces of that resource type. This helps us avoid\ndirect breakage caused by any change in puppet-keystone.\n\nChange-Id: I3ace0192837442a4d3952cc7b75ed2e93426effa\n'}, {'number': 2, 'created': '2022-01-24 06:25:09.000000000', 'files': ['spec/classes/trove_keystone_auth_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/2a28f521ecfe54113d20015a1d22ba33648309b0', 'message': 'Do not test detail of keystone::auth::service_identity\n\n... but test interfaces of that resource type. This helps us avoid\ndirect breakage caused by any change in puppet-keystone.\n\nChange-Id: I3ace0192837442a4d3952cc7b75ed2e93426effa\n'}]",0,826015,2a28f521ecfe54113d20015a1d22ba33648309b0,8,3,2,9816,,,0,"Do not test detail of keystone::auth::service_identity

... but test interfaces of that resource type. This helps us avoid
direct breakage caused by any change in puppet-keystone.

Change-Id: I3ace0192837442a4d3952cc7b75ed2e93426effa
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/15/826015/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/trove_keystone_auth_spec.rb'],1,abccfa4c7378c5bf1e95bbb13f38255acef0fd75,auth-ut," { :password => 'trove_password' } it { is_expected.to contain_keystone__resource__service_identity('trove').with( :configure_user => true, :configure_user_role => true, :configure_endpoint => true, :service_name => 'trove', :service_type => 'database', :service_description => 'Trove Database Service', :region => 'RegionOne', :auth_name => 'trove', :password => 'trove_password', :email => 'trove@localhost', :tenant => 'services', :roles => ['admin'], :system_scope => 'all', :system_roles => [], :public_url => 'http://127.0.0.1:8779/v1.0/%(tenant_id)s', :internal_url => 'http://127.0.0.1:8779/v1.0/%(tenant_id)s', :admin_url => 'http://127.0.0.1:8779/v1.0/%(tenant_id)s', context 'when overriding parameters' do { :password => 'trove_password', :auth_name => 'alt_trove', :email => 'alt_trove@alt_localhost', :tenant => 'alt_service', :roles => ['admin', 'service'], :system_scope => 'alt_all', :system_roles => ['admin', 'member', 'reader'], :configure_endpoint => false, :configure_user => false, :service_description => 'Alternative Trove Database Service', :service_name => 'alt_service', :service_type => 'alt_database', :region => 'RegionTwo', :public_url => 'https://10.10.10.10:80', :internal_url => 'http://10.10.10.11:81', :admin_url => 'http://10.10.10.12:81' } it { is_expected.to contain_keystone__resource__service_identity('trove').with( :configure_user => false, :configure_user_role => false, :configure_endpoint => false, :service_name => 'alt_service', :service_type => 'alt_database', :service_description => 'Alternative Trove Database Service', :region => 'RegionTwo', :auth_name => 'alt_trove', :password => 'trove_password', :email => 'alt_trove@alt_localhost', :tenant => 'alt_service', :roles => ['admin', 'service'], :system_scope => 'alt_all', :system_roles => ['admin', 'member', 'reader'], :public_url => 'https://10.10.10.10:80', :internal_url => 'http://10.10.10.11:81', :admin_url => 'http://10.10.10.12:81', ) } :supported_os => OSDefaults.get_supported_os it_behaves_like 'trove::keystone::auth'","# Copyright (C) 2014 eNovance SAS <licensing@enovance.com> # # Author: Emilien Macchi <emilien.macchi@enovance.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # { :password => 'trove_password', :tenant => 'foobar' } it { is_expected.to contain_keystone_user('trove').with( :ensure => 'present', :password => 'trove_password', ) } it { is_expected.to contain_keystone_user_role('trove@foobar').with( :ensure => 'present', :roles => ['admin'] )} it { is_expected.to contain_keystone_service('trove::database').with( :ensure => 'present', :description => 'Trove Database Service' ) } it { is_expected.to contain_keystone_endpoint('RegionOne/trove::database').with( :ensure => 'present', :public_url => ""http://127.0.0.1:8779/v1.0/%(tenant_id)s"", :admin_url => ""http://127.0.0.1:8779/v1.0/%(tenant_id)s"", :internal_url => ""http://127.0.0.1:8779/v1.0/%(tenant_id)s"" context 'when configuring trove-server' do let :pre_condition do ""class { 'trove::server': auth_password => 'test' }"" end { :password => 'trove_password', :tenant => 'foobar' } end end context 'when overriding endpoint URLs' do let :params do { :password => 'passw0rd', :public_url => 'https://10.10.10.10:80/v1.0/%(tenant_id)s', :internal_url => 'http://10.10.10.11:81/v1.0/%(tenant_id)s', :admin_url => 'http://10.10.10.12:81/v1.0/%(tenant_id)s' } end it { is_expected.to contain_keystone_endpoint('RegionOne/trove::database').with( :ensure => 'present', :public_url => 'https://10.10.10.10:80/v1.0/%(tenant_id)s', :internal_url => 'http://10.10.10.11:81/v1.0/%(tenant_id)s', :admin_url => 'http://10.10.10.12:81/v1.0/%(tenant_id)s' ) } end context 'when overriding auth name' do let :params do { :password => 'foo', :auth_name => 'trovey' } end it { is_expected.to contain_keystone_user('trovey') } it { is_expected.to contain_keystone_user_role('trovey@services') } it { is_expected.to contain_keystone_service('trove::database') } it { is_expected.to contain_keystone_endpoint('RegionOne/trove::database') } end context 'when overriding service name' do let :params do { :service_name => 'trove_service', :auth_name => 'trove', :password => 'trove_password' } end it { is_expected.to contain_keystone_user('trove') } it { is_expected.to contain_keystone_user_role('trove@services') } it { is_expected.to contain_keystone_service('trove_service::database') } it { is_expected.to contain_keystone_endpoint('RegionOne/trove_service::database') } end context 'when disabling endpoint configuration' do let :params do { :configure_endpoint => false, :password => 'trove_password' } end it { is_expected.to_not contain_keystone_endpoint('RegionOne/neutron::database') } end context 'when disabling user and user_role configuration' do let :params do { :configure_user => false, :service_name => 'trove', :auth_name => 'trove', :password => 'trove_password' } it { is_expected.to_not contain_keystone_user('trove') } it { is_expected.to_not contain_keystone_user_role('trove@services') } it { is_expected.to contain_keystone_service('trove::database') } it { is_expected.to contain_keystone_endpoint('RegionOne/trove::database') } :supported_os => OSDefaults.get_supported_os it_configures 'trove::keystone::auth'",58,112
openstack%2Fpuppet-tacker~master~I4d0180b7d357ad225c7d49786e45f307dfdec582,openstack/puppet-tacker,master,I4d0180b7d357ad225c7d49786e45f307dfdec582,Do not test authtoken parameters directly,MERGED,2022-01-24 02:42:21.000000000,2022-01-24 17:37:09.000000000,2022-01-24 17:37:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-24 02:42:21.000000000', 'files': ['spec/classes/tacker_keystone_authtoken_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/94b824dcbb0e0a78d91a84590aa901e92cf2ca4d', 'message': 'Do not test authtoken parameters directly\n\nThe authtoken parameters are not managed directly but managed by\nthe keystone::resource::authtoken class. Thus we should avoid testing\nparameters directly otherwise any change in the resource type can\ncause test failures.\n\nChange-Id: I4d0180b7d357ad225c7d49786e45f307dfdec582\n'}]",0,825999,94b824dcbb0e0a78d91a84590aa901e92cf2ca4d,7,3,1,9816,,,0,"Do not test authtoken parameters directly

The authtoken parameters are not managed directly but managed by
the keystone::resource::authtoken class. Thus we should avoid testing
parameters directly otherwise any change in the resource type can
cause test failures.

Change-Id: I4d0180b7d357ad225c7d49786e45f307dfdec582
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/99/825999/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/tacker_keystone_authtoken_spec.rb'],1,94b824dcbb0e0a78d91a84590aa901e92cf2ca4d,authtoken-ut," shared_examples 'tacker::keystone::authtoken' do is_expected.to contain_keystone__resource__authtoken('tacker_config').with( :username => 'tacker', :password => 'tacker_password', :auth_url => 'http://localhost:5000', :project_name => 'services', :user_domain_name => 'Default', :project_domain_name => 'Default', :insecure => '<SERVICE DEFAULT>', :auth_section => '<SERVICE DEFAULT>', :auth_type => 'password', :www_authenticate_uri => 'http://localhost:5000', :auth_version => '<SERVICE DEFAULT>', :cache => '<SERVICE DEFAULT>', :cafile => '<SERVICE DEFAULT>', :certfile => '<SERVICE DEFAULT>', :delay_auth_decision => '<SERVICE DEFAULT>', :enforce_token_bind => '<SERVICE DEFAULT>', :http_connect_timeout => '<SERVICE DEFAULT>', :http_request_max_retries => '<SERVICE DEFAULT>', :include_service_catalog => '<SERVICE DEFAULT>', :keyfile => '<SERVICE DEFAULT>', :memcache_pool_conn_get_timeout => '<SERVICE DEFAULT>', :memcache_pool_dead_retry => '<SERVICE DEFAULT>', :memcache_pool_maxsize => '<SERVICE DEFAULT>', :memcache_pool_socket_timeout => '<SERVICE DEFAULT>', :memcache_pool_unused_timeout => '<SERVICE DEFAULT>', :memcache_secret_key => '<SERVICE DEFAULT>', :memcache_security_strategy => '<SERVICE DEFAULT>', :memcache_use_advanced_pool => '<SERVICE DEFAULT>', :memcached_servers => '<SERVICE DEFAULT>', :manage_memcache_package => false, :region_name => '<SERVICE DEFAULT>', :token_cache_time => '<SERVICE DEFAULT>', :service_token_roles => '<SERVICE DEFAULT>', :service_token_roles_required => '<SERVICE DEFAULT>', :service_type => '<SERVICE DEFAULT>', :interface => '<SERVICE DEFAULT>', ) :www_authenticate_uri => 'https://10.0.0.1:9999/', :username => 'myuser', :password => 'mypasswd', :auth_url => 'http://127.0.0.1:5000', :project_name => 'service_project', :user_domain_name => 'domainX', :project_domain_name => 'domainX', :insecure => false, :auth_section => 'new_section', :auth_type => 'password', :auth_version => 'v3', :cache => 'somevalue', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :delay_auth_decision => false, :enforce_token_bind => 'permissive', :http_connect_timeout => '300', :http_request_max_retries => '3', :include_service_catalog => true, :keyfile => 'keyfile', :memcache_pool_conn_get_timeout => '9', :memcache_pool_dead_retry => '302', :memcache_pool_maxsize => '11', :memcache_pool_socket_timeout => '2', :memcache_pool_unused_timeout => '61', :memcache_secret_key => 'secret_key', :memcache_security_strategy => 'ENCRYPT', :memcache_use_advanced_pool => true, :memcached_servers => ['memcached01:11211','memcached02:11211'], :manage_memcache_package => true, :region_name => 'region2', :token_cache_time => '301', :service_token_roles => ['service'], :service_token_roles_required => false, :service_type => 'identity', :interface => 'internal', is_expected.to contain_keystone__resource__authtoken('tacker_config').with( :www_authenticate_uri => 'https://10.0.0.1:9999/', :username => 'myuser', :password => 'mypasswd', :auth_url => 'http://127.0.0.1:5000', :project_name => 'service_project', :user_domain_name => 'domainX', :project_domain_name => 'domainX', :insecure => false, :auth_section => 'new_section', :auth_type => 'password', :auth_version => 'v3', :cache => 'somevalue', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :delay_auth_decision => false, :enforce_token_bind => 'permissive', :http_connect_timeout => '300', :http_request_max_retries => '3', :include_service_catalog => true, :keyfile => 'keyfile', :memcache_pool_conn_get_timeout => '9', :memcache_pool_dead_retry => '302', :memcache_pool_maxsize => '11', :memcache_pool_socket_timeout => '2', :memcache_pool_unused_timeout => '61', :memcache_secret_key => 'secret_key', :memcache_security_strategy => 'ENCRYPT', :memcache_use_advanced_pool => true, :memcached_servers => ['memcached01:11211','memcached02:11211'], :manage_memcache_package => true, :region_name => 'region2', :token_cache_time => '301', :service_token_roles => ['service'], :service_token_roles_required => false, :service_type => 'identity', :interface => 'internal', ) it_configures 'tacker::keystone::authtoken'"," shared_examples 'tacker authtoken' do context 'without required password parameter' do before { params.delete(:password) } it { expect { is_expected.to raise_error(Puppet::Error) } } end is_expected.to contain_tacker_config('keystone_authtoken/username').with_value('tacker') is_expected.to contain_tacker_config('keystone_authtoken/password').with_value('tacker_password') is_expected.to contain_tacker_config('keystone_authtoken/auth_url').with_value('http://localhost:5000') is_expected.to contain_tacker_config('keystone_authtoken/project_name').with_value('services') is_expected.to contain_tacker_config('keystone_authtoken/user_domain_name').with_value('Default') is_expected.to contain_tacker_config('keystone_authtoken/project_domain_name').with_value('Default') is_expected.to contain_tacker_config('keystone_authtoken/insecure').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/auth_section').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/auth_type').with_value('password') is_expected.to contain_tacker_config('keystone_authtoken/www_authenticate_uri').with_value('http://localhost:5000') is_expected.to contain_tacker_config('keystone_authtoken/auth_version').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/cache').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/cafile').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/certfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/delay_auth_decision').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/enforce_token_bind').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/http_connect_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/http_request_max_retries').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/include_service_catalog').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/keyfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/memcache_pool_conn_get_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/memcache_pool_dead_retry').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/memcache_pool_maxsize').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/memcache_pool_socket_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/memcache_pool_unused_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/memcache_secret_key').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/memcache_security_strategy').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/memcache_use_advanced_pool').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/memcached_servers').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/region_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/token_cache_time').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/service_token_roles').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/service_token_roles_required').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/service_type').with_value('<SERVICE DEFAULT>') is_expected.to contain_tacker_config('keystone_authtoken/interface').with_value('<SERVICE DEFAULT>') :www_authenticate_uri => 'https://10.0.0.1:9999/', :username => 'myuser', :password => 'mypasswd', :auth_url => 'https://127.0.0.1:5000', :project_name => 'service_project', :user_domain_name => 'domainX', :project_domain_name => 'domainX', :insecure => false, :auth_section => 'new_section', :auth_type => 'password', :auth_version => 'v3', :cache => 'somevalue', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :delay_auth_decision => false, :enforce_token_bind => 'permissive', :http_connect_timeout => '300', :http_request_max_retries => '3', :include_service_catalog => true, :keyfile => 'keyfile', :memcache_pool_conn_get_timeout => '9', :memcache_pool_dead_retry => '302', :memcache_pool_maxsize => '11', :memcache_pool_socket_timeout => '2', :memcache_pool_unused_timeout => '61', :memcache_secret_key => 'secret_key', :memcache_security_strategy => 'ENCRYPT', :memcache_use_advanced_pool => true, :memcached_servers => ['memcached01:11211','memcached02:11211'], :manage_memcache_package => true, :region_name => 'region2', :token_cache_time => '301', :service_token_roles => ['service'], :service_token_roles_required => false, :service_type => 'identity', :interface => 'internal', is_expected.to contain_tacker_config('keystone_authtoken/www_authenticate_uri').with_value('https://10.0.0.1:9999/') is_expected.to contain_tacker_config('keystone_authtoken/username').with_value(params[:username]) is_expected.to contain_tacker_config('keystone_authtoken/password').with_value(params[:password]).with_secret(true) is_expected.to contain_tacker_config('keystone_authtoken/auth_url').with_value(params[:auth_url]) is_expected.to contain_tacker_config('keystone_authtoken/project_name').with_value(params[:project_name]) is_expected.to contain_tacker_config('keystone_authtoken/user_domain_name').with_value(params[:user_domain_name]) is_expected.to contain_tacker_config('keystone_authtoken/project_domain_name').with_value(params[:project_domain_name]) is_expected.to contain_tacker_config('keystone_authtoken/insecure').with_value(params[:insecure]) is_expected.to contain_tacker_config('keystone_authtoken/auth_section').with_value(params[:auth_section]) is_expected.to contain_tacker_config('keystone_authtoken/auth_type').with_value(params[:auth_type]) is_expected.to contain_tacker_config('keystone_authtoken/auth_version').with_value(params[:auth_version]) is_expected.to contain_tacker_config('keystone_authtoken/cache').with_value(params[:cache]) is_expected.to contain_tacker_config('keystone_authtoken/cafile').with_value(params[:cafile]) is_expected.to contain_tacker_config('keystone_authtoken/certfile').with_value(params[:certfile]) is_expected.to contain_tacker_config('keystone_authtoken/delay_auth_decision').with_value(params[:delay_auth_decision]) is_expected.to contain_tacker_config('keystone_authtoken/enforce_token_bind').with_value(params[:enforce_token_bind]) is_expected.to contain_tacker_config('keystone_authtoken/http_connect_timeout').with_value(params[:http_connect_timeout]) is_expected.to contain_tacker_config('keystone_authtoken/http_request_max_retries').with_value(params[:http_request_max_retries]) is_expected.to contain_tacker_config('keystone_authtoken/include_service_catalog').with_value(params[:include_service_catalog]) is_expected.to contain_tacker_config('keystone_authtoken/keyfile').with_value(params[:keyfile]) is_expected.to contain_tacker_config('keystone_authtoken/memcache_pool_conn_get_timeout').with_value(params[:memcache_pool_conn_get_timeout]) is_expected.to contain_tacker_config('keystone_authtoken/memcache_pool_dead_retry').with_value(params[:memcache_pool_dead_retry]) is_expected.to contain_tacker_config('keystone_authtoken/memcache_pool_maxsize').with_value(params[:memcache_pool_maxsize]) is_expected.to contain_tacker_config('keystone_authtoken/memcache_pool_socket_timeout').with_value(params[:memcache_pool_socket_timeout]) is_expected.to contain_tacker_config('keystone_authtoken/memcache_pool_unused_timeout').with_value(params[:memcache_pool_unused_timeout]) is_expected.to contain_tacker_config('keystone_authtoken/memcache_secret_key').with_value(params[:memcache_secret_key]) is_expected.to contain_tacker_config('keystone_authtoken/memcache_security_strategy').with_value(params[:memcache_security_strategy]) is_expected.to contain_tacker_config('keystone_authtoken/memcache_use_advanced_pool').with_value(params[:memcache_use_advanced_pool]) is_expected.to contain_tacker_config('keystone_authtoken/memcached_servers').with_value('memcached01:11211,memcached02:11211') is_expected.to contain_tacker_config('keystone_authtoken/region_name').with_value(params[:region_name]) is_expected.to contain_tacker_config('keystone_authtoken/token_cache_time').with_value(params[:token_cache_time]) is_expected.to contain_tacker_config('keystone_authtoken/service_token_roles').with_value(params[:service_token_roles]) is_expected.to contain_tacker_config('keystone_authtoken/service_token_roles_required').with_value(params[:service_token_roles_required]) is_expected.to contain_tacker_config('keystone_authtoken/service_type').with_value(params[:service_type]) is_expected.to contain_tacker_config('keystone_authtoken/interface').with_value(params[:interface]) end it 'installs python memcache package' do is_expected.to contain_package('python-memcache') it_configures 'tacker authtoken'",114,117
openstack%2Fpuppet-sahara~master~Ib90f1fe6a920ede14c97c9dc53beadc2eb6e618b,openstack/puppet-sahara,master,Ib90f1fe6a920ede14c97c9dc53beadc2eb6e618b,Do not test authtoken parameters directly,MERGED,2022-01-24 02:41:24.000000000,2022-01-24 17:36:42.000000000,2022-01-24 17:36:42.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-24 02:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/5d27a97dd67b1863a99c13a76a4df1ce245de4b8', 'message': 'Do not test authtoken parameters directly\n\nThe authtoken parameters are not managed directly but managed by\nthe keystone::resource::authtoken class. Thus we should avoid testing\nparameters directly otherwise any change in the resource type can\ncause test failures.\n\nChange-Id: Ib90f1fe6a920ede14c97c9dc53beadc2eb6e618b\n'}, {'number': 2, 'created': '2022-01-24 04:09:43.000000000', 'files': ['spec/classes/sahara_keystone_authtoken_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/5e00b383f08a1f48f3c200e7482646f0c53bd86d', 'message': 'Do not test authtoken parameters directly\n\nThe authtoken parameters are not managed directly but managed by\nthe keystone::resource::authtoken class. Thus we should avoid testing\nparameters directly otherwise any change in the resource type can\ncause test failures.\n\nChange-Id: Ib90f1fe6a920ede14c97c9dc53beadc2eb6e618b\n'}]",0,825997,5e00b383f08a1f48f3c200e7482646f0c53bd86d,9,3,2,9816,,,0,"Do not test authtoken parameters directly

The authtoken parameters are not managed directly but managed by
the keystone::resource::authtoken class. Thus we should avoid testing
parameters directly otherwise any change in the resource type can
cause test failures.

Change-Id: Ib90f1fe6a920ede14c97c9dc53beadc2eb6e618b
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/97/825997/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/sahara_keystone_authtoken_spec.rb'],1,5d27a97dd67b1863a99c13a76a4df1ce245de4b8,authtoken-ut," shared_examples 'sahara::keystone::authtoken' do is_expected.to contain_keystone__resource__authtoken('sahara_config').with( :username => 'sahara', :password => 'sahara_password', :auth_url => 'http://localhost:5000', :project_name => 'services', :user_domain_name => 'Default', :project_domain_name => 'Default', :insecure => '<SERVICE DEFAULT>', :auth_section => '<SERVICE DEFAULT>', :auth_type => 'password', :www_authenticate_uri => 'http://localhost:5000', :auth_version => '<SERVICE DEFAULT>', :cache => '<SERVICE DEFAULT>', :cafile => '<SERVICE DEFAULT>', :certfile => '<SERVICE DEFAULT>', :delay_auth_decision => '<SERVICE DEFAULT>', :enforce_token_bind => '<SERVICE DEFAULT>', :http_connect_timeout => '<SERVICE DEFAULT>', :http_request_max_retries => '<SERVICE DEFAULT>', :include_service_catalog => '<SERVICE DEFAULT>', :keyfile => '<SERVICE DEFAULT>', :memcache_pool_conn_get_timeout => '<SERVICE DEFAULT>', :memcache_pool_dead_retry => '<SERVICE DEFAULT>', :memcache_pool_maxsize => '<SERVICE DEFAULT>', :memcache_pool_socket_timeout => '<SERVICE DEFAULT>', :memcache_pool_unused_timeout => '<SERVICE DEFAULT>', :memcache_secret_key => '<SERVICE DEFAULT>', :memcache_security_strategy => '<SERVICE DEFAULT>', :memcache_use_advanced_pool => '<SERVICE DEFAULT>', :memcached_servers => '<SERVICE DEFAULT>', :manage_memcache_package => false, :region_name => '<SERVICE DEFAULT>', :token_cache_time => '<SERVICE DEFAULT>', :service_token_roles => '<SERVICE DEFAULT>', :service_token_roles_required => '<SERVICE DEFAULT>', :service_type => '<SERVICE DEFAULT>', :interface => '<SERVICE DEFAULT>', ) :auth_url => 'http://127.0.0.1:5000', is_expected.to contain_keystone__resource__authtoken('sahara_config').with( :www_authenticate_uri => 'https://10.0.0.1:9999/', :username => 'myuser', :password => 'mypasswd', :auth_url => 'http://127.0.0.1:5000', :project_name => 'service_project', :user_domain_name => 'domainX', :project_domain_name => 'domainX', :insecure => false, :auth_section => 'new_section', :auth_type => 'password', :auth_version => 'v3', :cache => 'somevalue', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :delay_auth_decision => false, :enforce_token_bind => 'permissive', :http_connect_timeout => '300', :http_request_max_retries => '3', :include_service_catalog => true, :keyfile => 'keyfile', :memcache_pool_conn_get_timeout => '9', :memcache_pool_dead_retry => '302', :memcache_pool_maxsize => '11', :memcache_pool_socket_timeout => '2', :memcache_pool_unused_timeout => '61', :memcache_secret_key => 'secret_key', :memcache_security_strategy => 'ENCRYPT', :memcache_use_advanced_pool => true, :memcached_servers => ['memcached01:11211','memcached02:11211'], :manage_memcache_package => true, :region_name => 'region2', :token_cache_time => '301', :service_token_roles => ['service'], :service_token_roles_required => false, :service_type => 'identity', :interface => 'internal', ) it_configures 'sahara::keystone::authtoken'"," shared_examples 'sahara authtoken' do is_expected.to contain_sahara_config('keystone_authtoken/username').with_value('sahara') is_expected.to contain_sahara_config('keystone_authtoken/password').with_value('sahara_password') is_expected.to contain_sahara_config('keystone_authtoken/auth_url').with_value('http://127.0.0.1:5000/') is_expected.to contain_sahara_config('keystone_authtoken/project_name').with_value('services') is_expected.to contain_sahara_config('keystone_authtoken/user_domain_name').with_value('Default') is_expected.to contain_sahara_config('keystone_authtoken/project_domain_name').with_value('Default') is_expected.to contain_sahara_config('keystone_authtoken/insecure').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/auth_section').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/auth_type').with_value('password') is_expected.to contain_sahara_config('keystone_authtoken/www_authenticate_uri').with_value('http://127.0.0.1:5000/') is_expected.to contain_sahara_config('keystone_authtoken/auth_version').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/cache').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/cafile').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/certfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/delay_auth_decision').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/enforce_token_bind').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/http_connect_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/http_request_max_retries').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/include_service_catalog').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/keyfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/memcache_pool_conn_get_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/memcache_pool_dead_retry').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/memcache_pool_maxsize').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/memcache_pool_socket_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/memcache_pool_unused_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/memcache_secret_key').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/memcache_security_strategy').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/memcache_use_advanced_pool').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/memcached_servers').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/region_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/token_cache_time').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/service_token_roles').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/service_token_roles_required').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/service_type').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('keystone_authtoken/interface').with_value('<SERVICE DEFAULT>') is_expected.to contain_sahara_config('trustee/username').with_value('sahara') is_expected.to contain_sahara_config('trustee/password').with_value('sahara_password') is_expected.to contain_sahara_config('trustee/auth_url').with_value('http://127.0.0.1:5000/') is_expected.to contain_sahara_config('trustee/project_name').with_value('services') is_expected.to contain_sahara_config('trustee/user_domain_name').with_value('Default') is_expected.to contain_sahara_config('trustee/project_domain_name').with_value('Default') :auth_url => 'http://:127.0.0.1:5000', is_expected.to contain_sahara_config('keystone_authtoken/www_authenticate_uri').with_value('https://10.0.0.1:9999/') is_expected.to contain_sahara_config('keystone_authtoken/username').with_value(params[:username]) is_expected.to contain_sahara_config('keystone_authtoken/password').with_value(params[:password]).with_secret(true) is_expected.to contain_sahara_config('keystone_authtoken/auth_url').with_value(params[:auth_url]) is_expected.to contain_sahara_config('keystone_authtoken/project_name').with_value(params[:project_name]) is_expected.to contain_sahara_config('keystone_authtoken/user_domain_name').with_value(params[:user_domain_name]) is_expected.to contain_sahara_config('keystone_authtoken/project_domain_name').with_value(params[:project_domain_name]) is_expected.to contain_sahara_config('keystone_authtoken/insecure').with_value(params[:insecure]) is_expected.to contain_sahara_config('keystone_authtoken/auth_section').with_value(params[:auth_section]) is_expected.to contain_sahara_config('keystone_authtoken/auth_type').with_value(params[:auth_type]) is_expected.to contain_sahara_config('keystone_authtoken/auth_version').with_value(params[:auth_version]) is_expected.to contain_sahara_config('keystone_authtoken/cache').with_value(params[:cache]) is_expected.to contain_sahara_config('keystone_authtoken/cafile').with_value(params[:cafile]) is_expected.to contain_sahara_config('keystone_authtoken/certfile').with_value(params[:certfile]) is_expected.to contain_sahara_config('keystone_authtoken/delay_auth_decision').with_value(params[:delay_auth_decision]) is_expected.to contain_sahara_config('keystone_authtoken/enforce_token_bind').with_value(params[:enforce_token_bind]) is_expected.to contain_sahara_config('keystone_authtoken/http_connect_timeout').with_value(params[:http_connect_timeout]) is_expected.to contain_sahara_config('keystone_authtoken/http_request_max_retries').with_value(params[:http_request_max_retries]) is_expected.to contain_sahara_config('keystone_authtoken/include_service_catalog').with_value(params[:include_service_catalog]) is_expected.to contain_sahara_config('keystone_authtoken/keyfile').with_value(params[:keyfile]) is_expected.to contain_sahara_config('keystone_authtoken/memcache_pool_conn_get_timeout').with_value(params[:memcache_pool_conn_get_timeout]) is_expected.to contain_sahara_config('keystone_authtoken/memcache_pool_dead_retry').with_value(params[:memcache_pool_dead_retry]) is_expected.to contain_sahara_config('keystone_authtoken/memcache_pool_maxsize').with_value(params[:memcache_pool_maxsize]) is_expected.to contain_sahara_config('keystone_authtoken/memcache_pool_socket_timeout').with_value(params[:memcache_pool_socket_timeout]) is_expected.to contain_sahara_config('keystone_authtoken/memcache_pool_unused_timeout').with_value(params[:memcache_pool_unused_timeout]) is_expected.to contain_sahara_config('keystone_authtoken/memcache_secret_key').with_value(params[:memcache_secret_key]) is_expected.to contain_sahara_config('keystone_authtoken/memcache_security_strategy').with_value(params[:memcache_security_strategy]) is_expected.to contain_sahara_config('keystone_authtoken/memcache_use_advanced_pool').with_value(params[:memcache_use_advanced_pool]) is_expected.to contain_sahara_config('keystone_authtoken/memcached_servers').with_value('memcached01:11211,memcached02:11211') is_expected.to contain_sahara_config('keystone_authtoken/region_name').with_value(params[:region_name]) is_expected.to contain_sahara_config('keystone_authtoken/token_cache_time').with_value(params[:token_cache_time]) is_expected.to contain_sahara_config('keystone_authtoken/service_token_roles').with_value(params[:service_token_roles]) is_expected.to contain_sahara_config('keystone_authtoken/service_token_roles_required').with_value(params[:service_token_roles_required]) is_expected.to contain_sahara_config('keystone_authtoken/service_type').with_value(params[:service_type]) is_expected.to contain_sahara_config('keystone_authtoken/interface').with_value(params[:interface]) is_expected.to contain_sahara_config('trustee/username').with_value(params[:username]) is_expected.to contain_sahara_config('trustee/password').with_value(params[:password]).with_secret(true) is_expected.to contain_sahara_config('trustee/auth_url').with_value(params[:auth_url]) is_expected.to contain_sahara_config('trustee/project_name').with_value(params[:project_name]) is_expected.to contain_sahara_config('trustee/user_domain_name').with_value(params[:user_domain_name]) is_expected.to contain_sahara_config('trustee/project_domain_name').with_value(params[:project_domain_name]) end it 'installs python memcache package' do is_expected.to contain_package('python-memcache') it_configures 'sahara authtoken'",79,89
openstack%2Fpuppet-cloudkitty~master~Ic6864a4713ad5e9c2bc865d201e5e133866d9e60,openstack/puppet-cloudkitty,master,Ic6864a4713ad5e9c2bc865d201e5e133866d9e60,Do not test authtoken parameters directly,MERGED,2022-01-24 02:36:33.000000000,2022-01-24 17:29:56.000000000,2022-01-24 17:29:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-24 02:36:33.000000000', 'files': ['spec/classes/cloudkitty_keystone_authtoken_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/847e4f7e495ab80f6a3487ba49020d0e881e0979', 'message': 'Do not test authtoken parameters directly\n\nThe authtoken parameters are not managed directly but managed by\nthe keystone::resource::authtoken class. Thus we should avoid testing\nparameters directly otherwise any change in the resource type can\ncause test failures.\n\nChange-Id: Ic6864a4713ad5e9c2bc865d201e5e133866d9e60\n'}]",0,825995,847e4f7e495ab80f6a3487ba49020d0e881e0979,7,3,1,9816,,,0,"Do not test authtoken parameters directly

The authtoken parameters are not managed directly but managed by
the keystone::resource::authtoken class. Thus we should avoid testing
parameters directly otherwise any change in the resource type can
cause test failures.

Change-Id: Ic6864a4713ad5e9c2bc865d201e5e133866d9e60
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/95/825995/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/cloudkitty_keystone_authtoken_spec.rb'],1,847e4f7e495ab80f6a3487ba49020d0e881e0979,authtoken-ut," { :password => 'cloudkitty_password', } shared_examples 'cloudkitty::keystone::authtoken' do is_expected.to contain_keystone__resource__authtoken('cloudkitty_config').with( :username => 'cloudkitty', :password => 'cloudkitty_password', :auth_url => 'http://localhost:5000', :project_name => 'services', :user_domain_name => 'Default', :project_domain_name => 'Default', :insecure => '<SERVICE DEFAULT>', :auth_section => '<SERVICE DEFAULT>', :auth_type => 'password', :www_authenticate_uri => 'http://localhost:5000', :auth_version => '<SERVICE DEFAULT>', :cache => '<SERVICE DEFAULT>', :cafile => '<SERVICE DEFAULT>', :certfile => '<SERVICE DEFAULT>', :delay_auth_decision => '<SERVICE DEFAULT>', :enforce_token_bind => '<SERVICE DEFAULT>', :http_connect_timeout => '<SERVICE DEFAULT>', :http_request_max_retries => '<SERVICE DEFAULT>', :include_service_catalog => '<SERVICE DEFAULT>', :keyfile => '<SERVICE DEFAULT>', :memcache_pool_conn_get_timeout => '<SERVICE DEFAULT>', :memcache_pool_dead_retry => '<SERVICE DEFAULT>', :memcache_pool_maxsize => '<SERVICE DEFAULT>', :memcache_pool_socket_timeout => '<SERVICE DEFAULT>', :memcache_pool_unused_timeout => '<SERVICE DEFAULT>', :memcache_secret_key => '<SERVICE DEFAULT>', :memcache_security_strategy => '<SERVICE DEFAULT>', :memcache_use_advanced_pool => '<SERVICE DEFAULT>', :memcached_servers => '<SERVICE DEFAULT>', :manage_memcache_package => false, :region_name => '<SERVICE DEFAULT>', :token_cache_time => '<SERVICE DEFAULT>', :service_token_roles => '<SERVICE DEFAULT>', :service_token_roles_required => '<SERVICE DEFAULT>', :service_type => '<SERVICE DEFAULT>', :interface => '<SERVICE DEFAULT>', ) :auth_url => 'http://127.0.0.1:5000', is_expected.to contain_keystone__resource__authtoken('cloudkitty_config').with( :www_authenticate_uri => 'https://10.0.0.1:9999/', :username => 'myuser', :password => 'mypasswd', :auth_url => 'http://127.0.0.1:5000', :project_name => 'service_project', :user_domain_name => 'domainX', :project_domain_name => 'domainX', :insecure => false, :auth_section => 'new_section', :auth_type => 'password', :auth_version => 'v3', :cache => 'somevalue', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :delay_auth_decision => false, :enforce_token_bind => 'permissive', :http_connect_timeout => '300', :http_request_max_retries => '3', :include_service_catalog => true, :keyfile => 'keyfile', :memcache_pool_conn_get_timeout => '9', :memcache_pool_dead_retry => '302', :memcache_pool_maxsize => '11', :memcache_pool_socket_timeout => '2', :memcache_pool_unused_timeout => '61', :memcache_secret_key => 'secret_key', :memcache_security_strategy => 'ENCRYPT', :memcache_use_advanced_pool => true, :memcached_servers => ['memcached01:11211','memcached02:11211'], :manage_memcache_package => true, :region_name => 'region2', :token_cache_time => '301', :service_token_roles => ['service'], :service_token_roles_required => false, :service_type => 'identity', :interface => 'internal', ) it_configures 'cloudkitty::keystone::authtoken'"," { :password => 'secrete', } shared_examples 'cloudkitty authtoken' do is_expected.to contain_cloudkitty_config('keystone_authtoken/username').with_value('cloudkitty') is_expected.to contain_cloudkitty_config('keystone_authtoken/password').with_value('secrete') is_expected.to contain_cloudkitty_config('keystone_authtoken/auth_url').with_value('http://localhost:5000') is_expected.to contain_cloudkitty_config('keystone_authtoken/project_name').with_value('services') is_expected.to contain_cloudkitty_config('keystone_authtoken/user_domain_name').with_value('Default') is_expected.to contain_cloudkitty_config('keystone_authtoken/project_domain_name').with_value('Default') is_expected.to contain_cloudkitty_config('keystone_authtoken/insecure').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/auth_section').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/auth_type').with_value('password') is_expected.to contain_cloudkitty_config('keystone_authtoken/www_authenticate_uri').with_value('http://localhost:5000') is_expected.to contain_cloudkitty_config('keystone_authtoken/auth_version').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/cache').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/cafile').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/certfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/delay_auth_decision').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/enforce_token_bind').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/http_connect_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/http_request_max_retries').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/include_service_catalog').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/keyfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/memcache_pool_conn_get_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/memcache_pool_dead_retry').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/memcache_pool_maxsize').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/memcache_pool_socket_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/memcache_pool_unused_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/memcache_secret_key').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/memcache_security_strategy').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/memcache_use_advanced_pool').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/memcached_servers').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/region_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/token_cache_time').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/service_token_roles').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/service_token_roles_required').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/service_type').with_value('<SERVICE DEFAULT>') is_expected.to contain_cloudkitty_config('keystone_authtoken/interface').with_value('<SERVICE DEFAULT>') :auth_url => 'https://127.0.0.1:5000', is_expected.to contain_cloudkitty_config('keystone_authtoken/www_authenticate_uri').with_value('https://10.0.0.1:9999/') is_expected.to contain_cloudkitty_config('keystone_authtoken/username').with_value(params[:username]) is_expected.to contain_cloudkitty_config('keystone_authtoken/password').with_value(params[:password]).with_secret(true) is_expected.to contain_cloudkitty_config('keystone_authtoken/auth_url').with_value(params[:auth_url]) is_expected.to contain_cloudkitty_config('keystone_authtoken/project_name').with_value(params[:project_name]) is_expected.to contain_cloudkitty_config('keystone_authtoken/user_domain_name').with_value(params[:user_domain_name]) is_expected.to contain_cloudkitty_config('keystone_authtoken/project_domain_name').with_value(params[:project_domain_name]) is_expected.to contain_cloudkitty_config('keystone_authtoken/insecure').with_value(params[:insecure]) is_expected.to contain_cloudkitty_config('keystone_authtoken/auth_section').with_value(params[:auth_section]) is_expected.to contain_cloudkitty_config('keystone_authtoken/auth_type').with_value(params[:auth_type]) is_expected.to contain_cloudkitty_config('keystone_authtoken/auth_version').with_value(params[:auth_version]) is_expected.to contain_cloudkitty_config('keystone_authtoken/cache').with_value(params[:cache]) is_expected.to contain_cloudkitty_config('keystone_authtoken/cafile').with_value(params[:cafile]) is_expected.to contain_cloudkitty_config('keystone_authtoken/certfile').with_value(params[:certfile]) is_expected.to contain_cloudkitty_config('keystone_authtoken/delay_auth_decision').with_value(params[:delay_auth_decision]) is_expected.to contain_cloudkitty_config('keystone_authtoken/enforce_token_bind').with_value(params[:enforce_token_bind]) is_expected.to contain_cloudkitty_config('keystone_authtoken/http_connect_timeout').with_value(params[:http_connect_timeout]) is_expected.to contain_cloudkitty_config('keystone_authtoken/http_request_max_retries').with_value(params[:http_request_max_retries]) is_expected.to contain_cloudkitty_config('keystone_authtoken/include_service_catalog').with_value(params[:include_service_catalog]) is_expected.to contain_cloudkitty_config('keystone_authtoken/keyfile').with_value(params[:keyfile]) is_expected.to contain_cloudkitty_config('keystone_authtoken/memcache_pool_conn_get_timeout').with_value(params[:memcache_pool_conn_get_timeout]) is_expected.to contain_cloudkitty_config('keystone_authtoken/memcache_pool_dead_retry').with_value(params[:memcache_pool_dead_retry]) is_expected.to contain_cloudkitty_config('keystone_authtoken/memcache_pool_maxsize').with_value(params[:memcache_pool_maxsize]) is_expected.to contain_cloudkitty_config('keystone_authtoken/memcache_pool_socket_timeout').with_value(params[:memcache_pool_socket_timeout]) is_expected.to contain_cloudkitty_config('keystone_authtoken/memcache_pool_unused_timeout').with_value(params[:memcache_pool_unused_timeout]) is_expected.to contain_cloudkitty_config('keystone_authtoken/memcache_secret_key').with_value(params[:memcache_secret_key]) is_expected.to contain_cloudkitty_config('keystone_authtoken/memcache_security_strategy').with_value(params[:memcache_security_strategy]) is_expected.to contain_cloudkitty_config('keystone_authtoken/memcache_use_advanced_pool').with_value(params[:memcache_use_advanced_pool]) is_expected.to contain_cloudkitty_config('keystone_authtoken/memcached_servers').with_value('memcached01:11211,memcached02:11211') is_expected.to contain_cloudkitty_config('keystone_authtoken/region_name').with_value(params[:region_name]) is_expected.to contain_cloudkitty_config('keystone_authtoken/token_cache_time').with_value(params[:token_cache_time]) is_expected.to contain_cloudkitty_config('keystone_authtoken/service_token_roles').with_value(params[:service_token_roles]) is_expected.to contain_cloudkitty_config('keystone_authtoken/service_token_roles_required').with_value(params[:service_token_roles_required]) is_expected.to contain_cloudkitty_config('keystone_authtoken/service_type').with_value(params[:service_type]) is_expected.to contain_cloudkitty_config('keystone_authtoken/interface').with_value(params[:interface]) end it 'installs python memcache package' do is_expected.to contain_package('python-memcache') it_configures 'cloudkitty authtoken'",80,78
openstack%2Fpuppet-ec2api~master~I57471c563a4a72ada8f8611b94a8e2a1e7b2df3e,openstack/puppet-ec2api,master,I57471c563a4a72ada8f8611b94a8e2a1e7b2df3e,Do not test authtoken parameters directly,MERGED,2022-01-24 02:30:16.000000000,2022-01-24 17:29:37.000000000,2022-01-24 17:29:37.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-24 02:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/3e05edb0dfa9219288f72f02bf0aee5a8464b925', 'message': 'Do not test authtoken parameters directly\n\nThe authtoken parameters are not managed directly but managed by\nthe keystone::resource::authtoken class. Thus we should avoid testing\nparameters directly otherwise any change in the resource type can\ncause test failures.\n\nChange-Id: I57471c563a4a72ada8f8611b94a8e2a1e7b2df3e\n'}, {'number': 2, 'created': '2022-01-24 02:36:03.000000000', 'files': ['spec/classes/ec2api_keystone_authtoken_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/67a614a46e28e6920b0b0d3aa18e80a540dd625d', 'message': 'Do not test authtoken parameters directly\n\nThe authtoken parameters are not managed directly but managed by\nthe keystone::resource::authtoken class. Thus we should avoid testing\nparameters directly otherwise any change in the resource type can\ncause test failures.\n\nChange-Id: I57471c563a4a72ada8f8611b94a8e2a1e7b2df3e\n'}]",0,825994,67a614a46e28e6920b0b0d3aa18e80a540dd625d,8,3,2,9816,,,0,"Do not test authtoken parameters directly

The authtoken parameters are not managed directly but managed by
the keystone::resource::authtoken class. Thus we should avoid testing
parameters directly otherwise any change in the resource type can
cause test failures.

Change-Id: I57471c563a4a72ada8f8611b94a8e2a1e7b2df3e
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/94/825994/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/ec2api_keystone_authtoken_spec.rb'],1,3e05edb0dfa9219288f72f02bf0aee5a8464b925,authtoken-ut," shared_examples 'ec2api::keystone::authtoken' do is_expected.to contain_keystone__resource__authtoken('ec2api_config').with( :username => 'ec2api', :password => 'ec2api_password', :auth_url => 'http://localhost:5000', :project_name => 'services', :user_domain_name => 'Default', :project_domain_name => 'Default', :insecure => '<SERVICE DEFAULT>', :auth_section => '<SERVICE DEFAULT>', :auth_type => 'password', :www_authenticate_uri => 'http://localhost:5000', :auth_version => '<SERVICE DEFAULT>', :cache => '<SERVICE DEFAULT>', :cafile => '<SERVICE DEFAULT>', :certfile => '<SERVICE DEFAULT>', :delay_auth_decision => '<SERVICE DEFAULT>', :enforce_token_bind => '<SERVICE DEFAULT>', :http_connect_timeout => '<SERVICE DEFAULT>', :http_request_max_retries => '<SERVICE DEFAULT>', :include_service_catalog => '<SERVICE DEFAULT>', :keyfile => '<SERVICE DEFAULT>', :memcache_pool_conn_get_timeout => '<SERVICE DEFAULT>', :memcache_pool_dead_retry => '<SERVICE DEFAULT>', :memcache_pool_maxsize => '<SERVICE DEFAULT>', :memcache_pool_socket_timeout => '<SERVICE DEFAULT>', :memcache_pool_unused_timeout => '<SERVICE DEFAULT>', :memcache_secret_key => '<SERVICE DEFAULT>', :memcache_security_strategy => '<SERVICE DEFAULT>', :memcache_use_advanced_pool => '<SERVICE DEFAULT>', :memcached_servers => '<SERVICE DEFAULT>', :manage_memcache_package => false, :region_name => '<SERVICE DEFAULT>', :token_cache_time => '<SERVICE DEFAULT>', :service_token_roles => '<SERVICE DEFAULT>', :service_token_roles_required => '<SERVICE DEFAULT>', :service_type => '<SERVICE DEFAULT>', :interface => '<SERVICE DEFAULT>', ) :www_authenticate_uri => 'https://10.0.0.1:9999/', :username => 'myuser', :password => 'mypasswd', :auth_url => 'http://127.0.0.1:5000', :project_name => 'service_project', :user_domain_name => 'domainX', :project_domain_name => 'domainX', :insecure => false, :auth_section => 'new_section', :auth_type => 'password', :auth_version => 'v3', :cache => 'somevalue', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :delay_auth_decision => false, :enforce_token_bind => 'permissive', :http_connect_timeout => '300', :http_request_max_retries => '3', :include_service_catalog => true, :keyfile => 'keyfile', :memcache_pool_conn_get_timeout => '9', :memcache_pool_dead_retry => '302', :memcache_pool_maxsize => '11', :memcache_pool_socket_timeout => '2', :memcache_pool_unused_timeout => '61', :memcache_secret_key => 'secret_key', :memcache_security_strategy => 'ENCRYPT', :memcache_use_advanced_pool => true, :memcached_servers => ['memcached01:11211','memcached02:11211'], :manage_memcache_package => true, :region_name => 'region2', :token_cache_time => '301', :service_token_roles => ['service'], :service_token_roles_required => false, :service_type => 'identity', :interface => 'internal', is_expected.to contain_keystone__resource__authtoken('ec2api_config').with( :www_authenticate_uri => 'https://10.0.0.1:9999/', :username => 'myuser', :password => 'mypasswd', :auth_url => 'http://127.0.0.1:5000', :project_name => 'service_project', :user_domain_name => 'domainX', :project_domain_name => 'domainX', :insecure => false, :auth_section => 'new_section', :auth_type => 'password', :auth_version => 'v3', :cache => 'somevalue', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :delay_auth_decision => false, :enforce_token_bind => 'permissive', :http_connect_timeout => '300', :http_request_max_retries => '3', :include_service_catalog => true, :keyfile => 'keyfile', :memcache_pool_conn_get_timeout => '9', :memcache_pool_dead_retry => '302', :memcache_pool_maxsize => '11', :memcache_pool_socket_timeout => '2', :memcache_pool_unused_timeout => '61', :memcache_secret_key => 'secret_key', :memcache_security_strategy => 'ENCRYPT', :memcache_use_advanced_pool => true, :memcached_servers => ['memcached01:11211','memcached02:11211'], :manage_memcache_package => true, :region_name => 'region2', :token_cache_time => '301', :service_token_roles => ['service'], :service_token_roles_required => false, :service_type => 'identity', :interface => 'internal', ) end end context 'when overriding parameters via params hash' do before do params.merge!({ :username => 'myuser', :params => { 'username' => 'myotheruser' }, }) it 'configure keystone_authtoken' do is_expected.to contain_keystone__resource__authtoken('ec2api_config').with( :username => 'myotheruser', ) it_configures 'ec2api::keystone::authtoken'"," shared_examples_for 'ec2api authtoken' do context 'without required password parameter' do before { params.delete(:password) } it { expect { is_expected.to raise_error(Puppet::Error) } } end is_expected.to contain_ec2api_config('keystone_authtoken/username').with_value('ec2api') is_expected.to contain_ec2api_config('keystone_authtoken/password').with_value('ec2api_password') is_expected.to contain_ec2api_config('keystone_authtoken/auth_url').with_value('http://localhost:5000') is_expected.to contain_ec2api_config('keystone_authtoken/project_name').with_value('services') is_expected.to contain_ec2api_config('keystone_authtoken/user_domain_name').with_value('Default') is_expected.to contain_ec2api_config('keystone_authtoken/project_domain_name').with_value('Default') is_expected.to contain_ec2api_config('keystone_authtoken/insecure').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/auth_section').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/auth_type').with_value('password') is_expected.to contain_ec2api_config('keystone_authtoken/www_authenticate_uri').with_value('http://localhost:5000') is_expected.to contain_ec2api_config('keystone_authtoken/auth_version').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/cache').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/cafile').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/certfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/delay_auth_decision').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/enforce_token_bind').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/http_connect_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/http_request_max_retries').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/include_service_catalog').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/keyfile').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/memcache_pool_conn_get_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/memcache_pool_dead_retry').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/memcache_pool_maxsize').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/memcache_pool_socket_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/memcache_pool_unused_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/memcache_secret_key').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/memcache_security_strategy').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/memcache_use_advanced_pool').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/memcached_servers').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/region_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/token_cache_time').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/service_token_roles').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/service_token_roles_required').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/service_type').with_value('<SERVICE DEFAULT>') is_expected.to contain_ec2api_config('keystone_authtoken/interface').with_value('<SERVICE DEFAULT>') :www_authenticate_uri => 'https://10.0.0.1:9999/', :username => 'myuser', :password => 'mypasswd', :auth_url => 'http://:127.0.0.1:5000', :project_name => 'service_project', :user_domain_name => 'domainX', :project_domain_name => 'domainX', :insecure => false, :auth_section => 'new_section', :auth_type => 'password', :auth_version => 'v3', :cache => 'somevalue', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :delay_auth_decision => false, :enforce_token_bind => 'permissive', :http_connect_timeout => '300', :http_request_max_retries => '3', :include_service_catalog => true, :keyfile => 'keyfile', :memcache_pool_conn_get_timeout => '9', :memcache_pool_dead_retry => '302', :memcache_pool_maxsize => '11', :memcache_pool_socket_timeout => '2', :memcache_pool_unused_timeout => '61', :memcache_secret_key => 'secret_key', :memcache_security_strategy => 'ENCRYPT', :memcache_use_advanced_pool => true, :memcached_servers => ['memcached01:11211','memcached02:11211'], :manage_memcache_package => true, :region_name => 'region2', :token_cache_time => '301', :service_token_roles => ['service'], :service_token_roles_required => false, :service_type => 'identity', :interface => 'internal', is_expected.to contain_ec2api_config('keystone_authtoken/www_authenticate_uri').with_value('https://10.0.0.1:9999/') is_expected.to contain_ec2api_config('keystone_authtoken/username').with_value(params[:username]) is_expected.to contain_ec2api_config('keystone_authtoken/password').with_value(params[:password]).with_secret(true) is_expected.to contain_ec2api_config('keystone_authtoken/auth_url').with_value(params[:auth_url]) is_expected.to contain_ec2api_config('keystone_authtoken/project_name').with_value(params[:project_name]) is_expected.to contain_ec2api_config('keystone_authtoken/user_domain_name').with_value(params[:user_domain_name]) is_expected.to contain_ec2api_config('keystone_authtoken/project_domain_name').with_value(params[:project_domain_name]) is_expected.to contain_ec2api_config('keystone_authtoken/insecure').with_value(params[:insecure]) is_expected.to contain_ec2api_config('keystone_authtoken/auth_section').with_value(params[:auth_section]) is_expected.to contain_ec2api_config('keystone_authtoken/auth_type').with_value(params[:auth_type]) is_expected.to contain_ec2api_config('keystone_authtoken/auth_version').with_value(params[:auth_version]) is_expected.to contain_ec2api_config('keystone_authtoken/cache').with_value(params[:cache]) is_expected.to contain_ec2api_config('keystone_authtoken/cafile').with_value(params[:cafile]) is_expected.to contain_ec2api_config('keystone_authtoken/certfile').with_value(params[:certfile]) is_expected.to contain_ec2api_config('keystone_authtoken/delay_auth_decision').with_value(params[:delay_auth_decision]) is_expected.to contain_ec2api_config('keystone_authtoken/enforce_token_bind').with_value(params[:enforce_token_bind]) is_expected.to contain_ec2api_config('keystone_authtoken/http_connect_timeout').with_value(params[:http_connect_timeout]) is_expected.to contain_ec2api_config('keystone_authtoken/http_request_max_retries').with_value(params[:http_request_max_retries]) is_expected.to contain_ec2api_config('keystone_authtoken/include_service_catalog').with_value(params[:include_service_catalog]) is_expected.to contain_ec2api_config('keystone_authtoken/keyfile').with_value(params[:keyfile]) is_expected.to contain_ec2api_config('keystone_authtoken/memcache_pool_conn_get_timeout').with_value(params[:memcache_pool_conn_get_timeout]) is_expected.to contain_ec2api_config('keystone_authtoken/memcache_pool_dead_retry').with_value(params[:memcache_pool_dead_retry]) is_expected.to contain_ec2api_config('keystone_authtoken/memcache_pool_maxsize').with_value(params[:memcache_pool_maxsize]) is_expected.to contain_ec2api_config('keystone_authtoken/memcache_pool_socket_timeout').with_value(params[:memcache_pool_socket_timeout]) is_expected.to contain_ec2api_config('keystone_authtoken/memcache_pool_unused_timeout').with_value(params[:memcache_pool_unused_timeout]) is_expected.to contain_ec2api_config('keystone_authtoken/memcache_secret_key').with_value(params[:memcache_secret_key]) is_expected.to contain_ec2api_config('keystone_authtoken/memcache_security_strategy').with_value(params[:memcache_security_strategy]) is_expected.to contain_ec2api_config('keystone_authtoken/memcache_use_advanced_pool').with_value(params[:memcache_use_advanced_pool]) is_expected.to contain_ec2api_config('keystone_authtoken/memcached_servers').with_value('memcached01:11211,memcached02:11211') is_expected.to contain_ec2api_config('keystone_authtoken/region_name').with_value(params[:region_name]) is_expected.to contain_ec2api_config('keystone_authtoken/token_cache_time').with_value(params[:token_cache_time]) is_expected.to contain_ec2api_config('keystone_authtoken/service_token_roles').with_value(params[:service_token_roles]) is_expected.to contain_ec2api_config('keystone_authtoken/service_token_roles_required').with_value(params[:service_token_roles_required]) is_expected.to contain_ec2api_config('keystone_authtoken/service_type').with_value(params[:service_type]) is_expected.to contain_ec2api_config('keystone_authtoken/interface').with_value(params[:interface]) it 'installs python memcache package' do is_expected.to contain_package('python-memcache') it_configures 'ec2api authtoken'",128,117
openstack%2Fpuppet-ceilometer~master~If1172824c6f446602632632ad749aed48fb5abfa,openstack/puppet-ceilometer,master,If1172824c6f446602632632ad749aed48fb5abfa,Do not test detail of keystone::auth::service_identity,MERGED,2022-01-22 12:20:34.000000000,2022-01-24 17:29:20.000000000,2022-01-24 17:29:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-22 12:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/a263d91be6c8459a4b358eff6544c2a47c0ee68f', 'message': 'Do not test detail of keystone::auth::service_identity\n\n... but test interfaces of that resource type. This helps us avoid\ndirect breakage caused by any change in puppet-keystone.\n\nChange-Id: If1172824c6f446602632632ad749aed48fb5abfa\n'}, {'number': 2, 'created': '2022-01-22 12:25:07.000000000', 'files': ['spec/classes/ceilometer_keystone_auth_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/bcb4265b2b485642ff9015f9e82e885c2aab1d13', 'message': 'Do not test detail of keystone::auth::service_identity\n\n... but test interfaces of that resource type. This helps us avoid\ndirect breakage caused by any change in puppet-keystone.\n\nChange-Id: If1172824c6f446602632632ad749aed48fb5abfa\n'}]",0,825916,bcb4265b2b485642ff9015f9e82e885c2aab1d13,10,3,2,9816,,,0,"Do not test detail of keystone::auth::service_identity

... but test interfaces of that resource type. This helps us avoid
direct breakage caused by any change in puppet-keystone.

Change-Id: If1172824c6f446602632632ad749aed48fb5abfa
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/16/825916/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/ceilometer_keystone_auth_spec.rb'],1,a263d91be6c8459a4b358eff6544c2a47c0ee68f,auth-ut,"# # Unit tests for ceilometer::keystone::auth # shared_examples_for 'ceilometer::keystone::auth' do context 'with default class parameters' do let :params do { :password => 'ceilometer_password' } end it { is_expected.to contain_keystone__resource__service_identity('ceilometer').with( :configure_user => true, :configure_user_role => true, :configure_endpoint => false, :configure_service => false, :region => 'RegionOne', :auth_name => 'ceilometer', :password => 'ceilometer_password', :email => 'ceilometer@localhost', :tenant => 'services', ) } context 'when overriding parameters' do let :params do { :password => 'ceilometer_password', :auth_name => 'alt_ceilometer', :email => 'alt_ceilometer@alt_localhost', :tenant => 'alt_service', :roles => ['admin', 'service'], :configure_user => false, :configure_user_role => false, :region => 'RegionTwo' } end it { is_expected.to contain_keystone__resource__service_identity('ceilometer').with( :configure_user => false, :configure_user_role => false, :configure_endpoint => false, :configure_service => false, :region => 'RegionTwo', :auth_name => 'alt_ceilometer', :password => 'ceilometer_password', :email => 'alt_ceilometer@alt_localhost', :tenant => 'alt_service', ) } :supported_os => OSDefaults.get_supported_os facts.merge!(OSDefaults.get_facts()) it_behaves_like 'ceilometer::keystone::auth'"," let :default_params do { :email => 'ceilometer@localhost', :auth_name => 'ceilometer', :region => 'RegionOne', :tenant => 'services', } end shared_examples_for 'ceilometer keystone auth' do context 'without the required password parameter' do it { expect { is_expected.to raise_error(Puppet::Error) } } let :params do { :password => 'ceil0met3r-passZord' } context 'with the required parameters' do it 'configures ceilometer user' do is_expected.to contain_keystone_user( default_params[:auth_name] ).with( :ensure => 'present', :password => params[:password], :email => default_params[:email], ) end it 'configures ceilometer user roles' do is_expected.to contain_keystone_user_role(""#{default_params[:auth_name]}@#{default_params[:tenant]}"").with( :ensure => 'present', ) end end context 'with overridden parameters' do before do params.merge!({ :email => 'mighty-ceilometer@remotehost', :auth_name => 'mighty-ceilometer', :region => 'RegionFortyTwo', :tenant => 'mighty-services', }) end it 'configures ceilometer user' do is_expected.to contain_keystone_user( params[:auth_name] ).with( :ensure => 'present', :password => params[:password], :email => params[:email], ) end it 'configures ceilometer user roles' do is_expected.to contain_keystone_user_role(""#{params[:auth_name]}@#{params[:tenant]}"").with( :ensure => 'present', ) end end context 'when disabling user configuration' do before do params.merge!( :configure_user => false ) end it { is_expected.to_not contain_keystone_user('ceilometer') } it { is_expected.to contain_keystone_user_role('ceilometer@services') } end context 'when disabling user and role configuration' do before do params.merge!( :configure_user => false, :configure_user_role => false ) end it { is_expected.to_not contain_keystone_user('ceilometer') } it { is_expected.to_not contain_keystone_user_role('ceilometer@services') } end :supported_os => OSDefaults.get_supported_os facts.merge(OSDefaults.get_facts()) it_behaves_like 'ceilometer keystone auth'",46,82
openstack%2Fpuppet-barbican~master~I2582c9d0df640c3fd7f7f7d6ecae981b0b9591a5,openstack/puppet-barbican,master,I2582c9d0df640c3fd7f7f7d6ecae981b0b9591a5,Avoid testing details of oslo::messaging(::*),MERGED,2022-01-23 09:27:07.000000000,2022-01-24 17:25:58.000000000,2022-01-24 17:25:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-23 09:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/a3bc99e3411388115feeff2ea9db2385d26a252c', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: I2582c9d0df640c3fd7f7f7d6ecae981b0b9591a5\n'}, {'number': 2, 'created': '2022-01-23 13:31:09.000000000', 'files': ['spec/classes/barbican_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/d7804328abbe630e56cf43b35f24a06322d5e9ae', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: I2582c9d0df640c3fd7f7f7d6ecae981b0b9591a5\n'}]",0,825959,d7804328abbe630e56cf43b35f24a06322d5e9ae,9,3,2,9816,,,0,"Avoid testing details of oslo::messaging(::*)

... so that any change in puppet-oslo would not directly break unit
tests.

Change-Id: I2582c9d0df640c3fd7f7f7d6ecae981b0b9591a5
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/59/825959/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/barbican_api_spec.rb'],1,a3bc99e3411388115feeff2ea9db2385d26a252c,oslo-messaging-ut," is_expected.to contain_oslo__messaging__default('barbican_config').with( :transport_url => param_hash[:default_transport_url], :rpc_response_timeout => param_hash[:rpc_response_timeout], :control_exchange => param_hash[:control_exchange] is_expected.to contain_oslo__messaging__notifications('barbican_config').with( :transport_url => param_hash[:notification_transport_url], :driver => param_hash[:notification_driver], :topics => param_hash[:notification_topics] ) is_expected.to contain_oslo__messaging__rabbit('aodh_config').with( :rabbit_use_ssl => param_hash[:rabbit_use_ssl], :heartbeat_timeout_threshold => param_hash[:rabbit_heartbeat_timeout_threshold], :heartbeat_rate => param_hash[:rabbit_heartbeat_rate], :heartbeat_in_pthread => param_hash[:rabbit_heartbeat_in_pthread], :kombu_reconnect_delay => param_hash[:kombu_reconnect_delay], :kombu_failover_strategy => param_hash[:kombu_failover_strategy], :kombu_ssl_ca_certs => param_hash[:kombu_ssl_ca_certs], :kombu_ssl_certfile => param_hash[:kombu_ssl_certfile], :kombu_ssl_keyfile => param_hash[:kombu_ssl_keyfile], :kombu_ssl_version => param_hash[:kombu_ssl_version], )"," is_expected.to contain_barbican_config('DEFAULT/transport_url').with_value(param_hash[:default_transport_url]) is_expected.to contain_barbican_config('DEFAULT/rpc_response_timeout').with_value(param_hash[:rpc_response_timeout]) is_expected.to contain_barbican_config('DEFAULT/control_exchange').with_value(param_hash[:control_exchange]) is_expected.to contain_barbican_config('oslo_messaging_notifications/transport_url').with_value(param_hash[:notification_transport_url]) is_expected.to contain_barbican_config('oslo_messaging_notifications/driver').with_value(param_hash[:notification_driver]) is_expected.to contain_barbican_config('oslo_messaging_notifications/topics').with_value(param_hash[:notification_topics]) is_expected.to contain_barbican_config('oslo_messaging_rabbit/heartbeat_timeout_threshold').with_value(param_hash[:rabbit_heartbeat_timeout_threshold]) is_expected.to contain_barbican_config('oslo_messaging_rabbit/heartbeat_rate').with_value(param_hash[:rabbit_heartbeat_rate]) is_expected.to contain_barbican_config('oslo_messaging_rabbit/heartbeat_in_pthread').with_value(param_hash[:rabbit_heartbeat_in_pthread]) is_expected.to contain_oslo__messaging__rabbit('barbican_config').with( :rabbit_use_ssl => true, :kombu_ssl_ca_certs => 'path_to_certs', :kombu_ssl_certfile => 'path_to_certfile', :kombu_ssl_keyfile => 'path_to_keyfile', :kombu_ssl_version => '1.2', end it 'configures kombu params' do is_expected.to contain_barbican_config('oslo_messaging_rabbit/kombu_reconnect_delay').with_value(param_hash[:kombu_reconnect_delay]) is_expected.to contain_barbican_config('oslo_messaging_rabbit/kombu_failover_strategy').with_value(param_hash[:kombu_failover_strategy])",21,20
openstack%2Fproject-config~master~I938c163d8735eb9fd20142f4e2ff366728a5eec7,openstack/project-config,master,I938c163d8735eb9fd20142f4e2ff366728a5eec7,Adding nested-virt pools for centos-9-stream,MERGED,2022-01-20 08:07:29.000000000,2022-01-24 17:03:33.000000000,2022-01-24 16:55:47.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 9976}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-20 08:07:29.000000000', 'files': ['nodepool/nl04.opendev.org.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9b4d8e38fe589b4248908f9b538945a70b251d75', 'message': 'Adding nested-virt pools for centos-9-stream\n\nChange-Id: I938c163d8735eb9fd20142f4e2ff366728a5eec7\n'}]",0,825435,9b4d8e38fe589b4248908f9b538945a70b251d75,9,5,1,29244,,,0,"Adding nested-virt pools for centos-9-stream

Change-Id: I938c163d8735eb9fd20142f4e2ff366728a5eec7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/35/825435/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl04.opendev.org.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml']",3,9b4d8e38fe589b4248908f9b538945a70b251d75,, - name: nested-virt-centos-9-stream min-ready: 0 - name: nested-virt-centos-9-stream min-ram: 8000 flavor-name: v2-highcpu-8 boot-from-volume: true volume-size: 80 diskimage: centos-9-stream key-name: infra-root-keys-2020-05-13,,23,0
openstack%2Fswift~master~I6f8354e33828f3969fe76d865fe5a8ea35866e33,openstack/swift,master,I6f8354e33828f3969fe76d865fe5a8ea35866e33,Get rid of pipeline_property (harder),ABANDONED,2022-01-12 17:34:30.000000000,2022-01-24 16:23:11.000000000,,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 17:34:30.000000000', 'files': ['test/unit/common/test_internal_client.py', 'swift/common/wsgi.py', 'test/unit/common/middleware/helpers.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/bd5ba8e601c9cf3b1f8cd5d866b42276ae7ae713', 'message': 'Get rid of pipeline_property (harder)\n\nChange-Id: I6f8354e33828f3969fe76d865fe5a8ea35866e33\n'}]",6,824471,bd5ba8e601c9cf3b1f8cd5d866b42276ae7ae713,9,3,1,1179,,,0,"Get rid of pipeline_property (harder)

Change-Id: I6f8354e33828f3969fe76d865fe5a8ea35866e33
",git fetch https://review.opendev.org/openstack/swift refs/changes/71/824471/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_internal_client.py', 'swift/common/wsgi.py', 'test/unit/common/middleware/helpers.py', 'swift/common/internal_client.py']",4,bd5ba8e601c9cf3b1f8cd5d866b42276ae7ae713,bug/1883324,"from swift.common.constraints import AUTO_CREATE_ACCOUNT_PREFIX self.get_object_ring = self.app._pipeline_final_app.get_object_ring self.container_ring = self.app._pipeline_final_app.container_ring self.account_ring = self.app._pipeline_final_app.account_ring self.auto_create_account_prefix = getattr(self.app._pipeline_final_app, 'auto_create_account_prefix', AUTO_CREATE_ACCOUNT_PREFIX)", get_object_ring = pipeline_property('get_object_ring') container_ring = pipeline_property('container_ring') account_ring = pipeline_property('account_ring') auto_create_account_prefix = pipeline_property( 'auto_create_account_prefix'),11,8
openstack%2Fswift~master~I37260f81e86331ae666bb7e69f622cf663f725a8,openstack/swift,master,I37260f81e86331ae666bb7e69f622cf663f725a8,Do the obvoius thing with final app,ABANDONED,2022-01-14 16:38:34.000000000,2022-01-24 16:22:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-14 16:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4d2933c178bc2ace8bb00fb0b41328a0f6d57dc2', 'message': 'Do the obvoius thing with final app\n\n... and fix up the bad fakes with some new helpers\n... and drop mocking loadapp when passing in a fake will do\n\nChange-Id: I37260f81e86331ae666bb7e69f622cf663f725a8\n'}, {'number': 2, 'created': '2022-01-14 16:59:30.000000000', 'files': ['test/unit/obj/test_expirer.py', 'test/unit/common/test_internal_client.py', 'test/unit/container/test_reconciler.py', 'test/unit/common/middleware/helpers.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/92d6f07e711eb7b79079a95175ab455897ec576b', 'message': 'Do the obvoius thing with final app\n\n... and fix up the bad fakes with some new helpers\n... and drop mocking loadapp when passing in a fake will do\n\nChange-Id: I37260f81e86331ae666bb7e69f622cf663f725a8\n'}]",0,824732,92d6f07e711eb7b79079a95175ab455897ec576b,5,1,2,1179,,,0,"Do the obvoius thing with final app

... and fix up the bad fakes with some new helpers
... and drop mocking loadapp when passing in a fake will do

Change-Id: I37260f81e86331ae666bb7e69f622cf663f725a8
",git fetch https://review.opendev.org/openstack/swift refs/changes/32/824732/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_expirer.py', 'test/unit/common/test_internal_client.py', 'test/unit/common/middleware/helpers.py', 'swift/common/internal_client.py']",4,4d2933c178bc2ace8bb00fb0b41328a0f6d57dc2,bug/1883324, self.get_object_ring = self.app._pipeline_final_app.get_object_ring self.container_ring = self.app._pipeline_final_app.container_ring self.account_ring = self.app._pipeline_final_app.account_ring self.auto_create_account_prefix = \ self.app._pipeline_final_app.auto_create_account_prefix,"from swift.common.constraints import AUTO_CREATE_ACCOUNT_PREFIX def __getattr__(self, name): if name in ( 'get_object_ring', 'container_ring', 'account_ring', 'auto_create_account_prefix', ): return getattr(self.app._pipeline_final_app, name) # expect AttributeError return super(InternalClient, self).__getattr__(name)",20,35
openstack%2Ftripleo-ci~master~Ibddb250b6bbb0a98e9963784016ae00422ece843,openstack/tripleo-ci,master,Ibddb250b6bbb0a98e9963784016ae00422ece843,"Revert ""Revert ""Make standalone-ipa job non-voting during debug""""",ABANDONED,2022-01-24 16:07:47.000000000,2022-01-24 16:11:49.000000000,,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 30750}]","[{'number': 1, 'created': '2022-01-24 16:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5dd0dd804436c0380dc1e580ce586f7cb81391ba', 'message': 'Revert ""Revert ""Make standalone-ipa job non-voting during debug""""\n\nThis reverts commit 70a392b842cf6dda153895b49693709ae1dac757.\n\nReason for revert: job passing\n\nChange-Id: Ibddb250b6bbb0a98e9963784016ae00422ece843\n'}, {'number': 2, 'created': '2022-01-24 16:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e3a576159c690f4f963b4bd95d9df437dd4fede0', 'message': 'Revert ""Revert ""Make standalone-ipa job non-voting during debug""""\n\nThis reverts commit 70a392b842cf6dda153895b49693709ae1dac757.\n\nReason for revert: job passing\n\nChange-Id: Ibddb250b6bbb0a98e9963784016ae00422ece843\n'}]",0,826059,e3a576159c690f4f963b4bd95d9df437dd4fede0,3,9,2,9976,,,0,"Revert ""Revert ""Make standalone-ipa job non-voting during debug""""

This reverts commit 70a392b842cf6dda153895b49693709ae1dac757.

Reason for revert: job passing

Change-Id: Ibddb250b6bbb0a98e9963784016ae00422ece843
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/59/826059/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,5dd0dd804436c0380dc1e580ce586f7cb81391ba,ipa-non-voting, voting: false, gate: queue: tripleo jobs: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-standalone-on-multinode-ipa: files: *tls_ipa_files vars: *ipa_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider,1,9
openstack%2Ftripleo-ci~master~I752e4cae6712208a7d18d8b7a386dc074d4b3971,openstack/tripleo-ci,master,I752e4cae6712208a7d18d8b7a386dc074d4b3971,"Revert ""Make standalone-ipa job non-voting during debug""",MERGED,2021-12-23 11:30:56.000000000,2022-01-24 16:07:47.000000000,2022-01-06 16:41:05.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-12-23 11:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3e72fb25d515690fca6610cb2d1c3df09c93a723', 'message': 'Revert ""Make standalone-ipa job non-voting during debug""\n\nThis reverts commit 6fbe6c5022cd98bdae234ab014252dbbdbaf3077.\n\nReason for revert: Try get this job to pass\n\nChange-Id: I752e4cae6712208a7d18d8b7a386dc074d4b3971\n'}, {'number': 2, 'created': '2021-12-23 20:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7af9f4ff27b8ce6d338cfeec6d29f48998385949', 'message': 'Revert ""Make standalone-ipa job non-voting during debug""\n\nThis reverts commit 6fbe6c5022cd98bdae234ab014252dbbdbaf3077.\n\nReason for revert: Try get this job to pass\n\nChange-Id: I752e4cae6712208a7d18d8b7a386dc074d4b3971\n'}, {'number': 3, 'created': '2021-12-24 11:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2db8f83ecb8b47b44f4560caa09a4741ac1d1ee4', 'message': 'Revert ""Make standalone-ipa job non-voting during debug""\n\nThis reverts commit 6fbe6c5022cd98bdae234ab014252dbbdbaf3077.\n\nReason for revert: Try get this job to pass\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/822858/\n\nChange-Id: I752e4cae6712208a7d18d8b7a386dc074d4b3971\n'}, {'number': 4, 'created': '2021-12-24 16:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/aa9225909972f04025d816219a275a6e3265e401', 'message': 'Revert ""Make standalone-ipa job non-voting during debug""\n\nThis reverts commit 6fbe6c5022cd98bdae234ab014252dbbdbaf3077.\n\nReason for revert: Try get this job to pass\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/822858/\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/822826\n\nChange-Id: I752e4cae6712208a7d18d8b7a386dc074d4b3971\n'}, {'number': 5, 'created': '2021-12-27 04:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/063fa1dece94999872af33e0a8794f1108c6f2f6', 'message': 'Revert ""Make standalone-ipa job non-voting during debug""\n\nThis reverts commit 6fbe6c5022cd98bdae234ab014252dbbdbaf3077.\n\nReason for revert: Try get this job to pass\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822791\n\nChange-Id: I752e4cae6712208a7d18d8b7a386dc074d4b3971\n'}, {'number': 6, 'created': '2022-01-03 19:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0715f1f5c43b73dfefb0c92cca6ed54a67574a90', 'message': 'Revert ""Make standalone-ipa job non-voting during debug""\n\nThis reverts commit 6fbe6c5022cd98bdae234ab014252dbbdbaf3077.\n\nReason for revert: Try get this job to pass\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822791\n\nChange-Id: I752e4cae6712208a7d18d8b7a386dc074d4b3971\n'}, {'number': 7, 'created': '2022-01-03 19:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/af78814e2389d63cc9c2f8c17e0171cde5736b32', 'message': 'Revert ""Make standalone-ipa job non-voting during debug""\n\nThis reverts commit 6fbe6c5022cd98bdae234ab014252dbbdbaf3077.\n\nReason for revert: Try get this job to pass\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/822858/\n\nChange-Id: I752e4cae6712208a7d18d8b7a386dc074d4b3971\n'}, {'number': 8, 'created': '2022-01-04 15:18:56.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/70a392b842cf6dda153895b49693709ae1dac757', 'message': 'Revert ""Make standalone-ipa job non-voting during debug""\n\nThis reverts commit 6fbe6c5022cd98bdae234ab014252dbbdbaf3077.\n\nReason for revert: Try get this job to pass\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/822858/\n\nChange-Id: I752e4cae6712208a7d18d8b7a386dc074d4b3971\n'}]",8,822792,70a392b842cf6dda153895b49693709ae1dac757,48,10,8,9976,,,0,"Revert ""Make standalone-ipa job non-voting during debug""

This reverts commit 6fbe6c5022cd98bdae234ab014252dbbdbaf3077.

Reason for revert: Try get this job to pass

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/822858/

Change-Id: I752e4cae6712208a7d18d8b7a386dc074d4b3971
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/92/822792/7 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,3e72fb25d515690fca6610cb2d1c3df09c93a723,ipa-non-voting, gate: queue: tripleo jobs: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-standalone-on-multinode-ipa: files: *tls_ipa_files vars: *ipa_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider, voting: false,9,1
openstack%2Fironic~master~Ie7e76c466bc55319316e269db05c1057aa5a45f2,openstack/ironic,master,Ie7e76c466bc55319316e269db05c1057aa5a45f2,Add missing field param to 'next' link for GET /chassis?,ABANDONED,2017-09-29 00:33:44.000000000,2022-01-24 15:49:08.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22255}, {'_account_id': 22348}, {'_account_id': 27039}]","[{'number': 1, 'created': '2017-09-29 00:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/42b21195a6204c2cfcb01f72e63fda25b6d55875', 'message': ""Add missing field param to 'next' link for GET /chassis?\n\nThis fixes the 'next' link (in the response of a 'GET /chassis?fields=..'\nrequest) to include the missing 'fields' parameter that was in the\noriginal request.\n\nChange-Id: Ie7e76c466bc55319316e269db05c1057aa5a45f2\nPartial-Bug: #1715541\n""}, {'number': 2, 'created': '2017-11-03 01:12:59.000000000', 'files': ['ironic/api/controllers/v1/chassis.py', 'ironic/tests/unit/api/controllers/v1/test_chassis.py', 'releasenotes/notes/next-link-for-chassis-acf66450ad097659.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a3d46b4befe3b744e0810df1063f514b4a39c7b8', 'message': ""Add missing field param to 'next' link for GET /chassis?\n\nThis fixes the 'next' link (in the response of a 'GET /chassis?fields=..'\nrequest) to include the missing 'fields' parameter that was in the\noriginal request.\n\nChange-Id: Ie7e76c466bc55319316e269db05c1057aa5a45f2\nPartial-Bug: #1715541\n""}]",2,508368,a3d46b4befe3b744e0810df1063f514b4a39c7b8,37,12,2,6618,,,0,"Add missing field param to 'next' link for GET /chassis?

This fixes the 'next' link (in the response of a 'GET /chassis?fields=..'
request) to include the missing 'fields' parameter that was in the
original request.

Change-Id: Ie7e76c466bc55319316e269db05c1057aa5a45f2
Partial-Bug: #1715541
",git fetch https://review.opendev.org/openstack/ironic refs/changes/68/508368/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/chassis.py', 'ironic/tests/unit/api/controllers/v1/test_chassis.py', 'releasenotes/notes/next-link-for-chassis-acf66450ad097659.yaml']",3,42b21195a6204c2cfcb01f72e63fda25b6d55875,bug/1715541,--- fixes: - | Fixes the ``next`` link (in the response of a ``GET /chassis?fields=`` request) to include the missing 'fields' query parameter that was in the original request. ,,81,10
openstack%2Fironic~master~I1309fb504f92c1ab3586c3abf4fc5d0e7ccbbd7d,openstack/ironic,master,I1309fb504f92c1ab3586c3abf4fc5d0e7ccbbd7d,Add missing query parameters to 'next' link for GET /nodes?...,ABANDONED,2017-09-21 16:30:20.000000000,2022-01-24 15:48:53.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 10118}, {'_account_id': 13689}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 27039}]","[{'number': 1, 'created': '2017-09-21 16:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9defb6feea39d61976cee70a94dd3eabb832da65', 'message': ""Add missing query parameters to 'next' link for GET /nodes?...\n\nThis fixes the 'next' link (in the response of a 'GET /nodes?' request) to\ninclude these missing query parameters that were in the original request:\n\n- the link was missing these query parameters from the original request:\n  - 'driver'\n  - 'fields'\n  - 'provision_state'\n  - 'resource_class'\n\n- the link was missing these query parameters if they had been set to\n  False in the original request:\n  -'associated'\n  - 'maintenance'\n\nThis also includes a change to properly handle the case where 'fields' is\nspecified without the 'uuid' field. Not only was the link missing\nthe 'fields' query parameter, but the marker/UUID was incorrect.\n\nChange-Id: I1309fb504f92c1ab3586c3abf4fc5d0e7ccbbd7d\nCloses-Bug: #1715541\nCloses-Bug: #1718726\n""}, {'number': 2, 'created': '2017-09-21 16:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/640d429f03eab40e9e08e37dc071a1029474db06', 'message': ""Add missing query parameters to 'next' link for GET /nodes?...\n\nThis fixes the 'next' link (in the response of a 'GET /nodes?' request) to\ninclude these missing query parameters that were in the original request:\n\n- the link was missing these query parameters from the original request:\n  - 'driver'\n  - 'fields'\n  - 'provision_state'\n  - 'resource_class'\n\n- the link was missing these query parameters if they had been set to\n  False in the original request:\n  -'associated'\n  - 'maintenance'\n\nThis also includes a change to properly handle the case where 'fields' is\nspecified without the 'uuid' field. Not only was the link missing\nthe 'fields' query parameter, but the marker/UUID was incorrect.\n\nChange-Id: I1309fb504f92c1ab3586c3abf4fc5d0e7ccbbd7d\nCloses-Bug: #1715541\nCloses-Bug: #1718726\n""}, {'number': 3, 'created': '2017-09-27 16:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dd0f19d7521009e7262a33d88a5ac10a54e12777', 'message': ""Add missing query parameters to 'next' link for GET /nodes?...\n\nThis fixes the 'next' link (in the response of a 'GET /nodes?' request) to\ninclude these missing query parameters that were in the original request:\n\n- the link was missing these query parameters from the original request:\n  - 'driver'\n  - 'fields'\n  - 'provision_state'\n  - 'resource_class'\n\n- the link was missing these query parameters if they had been set to\n  False in the original request:\n  -'associated'\n  - 'maintenance'\n\nThis also includes a change to properly handle the case where 'fields' is\nspecified without the 'uuid' field. Not only was the link missing\nthe 'fields' query parameter, but the marker/UUID was incorrect.\n\nChange-Id: I1309fb504f92c1ab3586c3abf4fc5d0e7ccbbd7d\nPartial-Bug: #1715541\nCloses-Bug: #1718726\n""}, {'number': 4, 'created': '2017-09-27 16:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/69b4a104a7640d78b770b94d46a14be3a0928b54', 'message': ""Add missing query parameters to 'next' link for GET /nodes?...\n\nThis fixes the 'next' link (in the response of a 'GET /nodes?' request) to\ninclude these missing query parameters that were in the original request:\n\n- the link was missing these query parameters from the original request:\n  - 'driver'\n  - 'fields'\n  - 'provision_state'\n  - 'resource_class'\n\n- the link was missing these query parameters if they had been set to\n  False in the original request:\n  -'associated'\n  - 'maintenance'\n\nThis also includes a change to properly handle the case where 'fields' is\nspecified without the 'uuid' field. Not only was the link missing\nthe 'fields' query parameter, but the marker/UUID was incorrect.\n\nChange-Id: I1309fb504f92c1ab3586c3abf4fc5d0e7ccbbd7d\nPartial-Bug: #1715541\nCloses-Bug: #1718726\n""}, {'number': 5, 'created': '2017-09-28 21:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ea2c2de849510a9d12cf061beae85900f1fbe66a', 'message': ""Add missing query parameters to 'next' link for GET /nodes?...\n\nThis fixes the 'next' link (in the response of a 'GET /nodes?' request) to\ninclude these missing query parameters that were in the original request:\n\n- the link was missing these query parameters from the original request:\n  - 'driver'\n  - 'fields'\n  - 'provision_state'\n  - 'resource_class'\n\n- the link was missing these query parameters if they had been set to\n  False in the original request:\n  -'associated'\n  - 'maintenance'\n\nThis also includes a change to properly handle the case where 'fields' is\nspecified without the 'uuid' field. Not only was the link missing\nthe 'fields' query parameter, but the marker/UUID was incorrect.\n\nChange-Id: I1309fb504f92c1ab3586c3abf4fc5d0e7ccbbd7d\nPartial-Bug: #1715541\nCloses-Bug: #1718726\n""}, {'number': 6, 'created': '2017-09-28 21:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d6797e505fcef8762aec50ce0bab5beb00498df3', 'message': ""Add missing query parameters to 'next' link for GET /nodes?...\n\nThis fixes the 'next' link (in the response of a 'GET /nodes?' request) to\ninclude these missing query parameters that were in the original request:\n\n- the link was missing these query parameters from the original request:\n  - 'driver'\n  - 'fields'\n  - 'provision_state'\n  - 'resource_class'\n\n- the link was missing these query parameters if they had been set to\n  False in the original request:\n  -'associated'\n  - 'maintenance'\n\nThis also includes a change to properly handle the case where 'fields' is\nspecified without the 'uuid' field. Not only was the link missing\nthe 'fields' query parameter, but the marker/UUID was incorrect.\n\nChange-Id: I1309fb504f92c1ab3586c3abf4fc5d0e7ccbbd7d\nPartial-Bug: #1715541\nCloses-Bug: #1718726\n""}, {'number': 7, 'created': '2017-11-03 01:12:36.000000000', 'files': ['ironic/api/controllers/v1/collection.py', 'releasenotes/notes/next-link-for-nodes-24c58738a98920f4.yaml', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d4c520d33043a5416fb62d9fd2987be8127e81e6', 'message': ""Add missing query parameters to 'next' link for GET /nodes?...\n\nThis fixes the 'next' link (in the response of a 'GET /nodes?' request) to\ninclude these missing query parameters that were in the original request:\n\n- the link was missing these query parameters from the original request:\n  - 'driver'\n  - 'fields'\n  - 'provision_state'\n  - 'resource_class'\n\n- the link was missing these query parameters if they had been set to\n  False in the original request:\n  -'associated'\n  - 'maintenance'\n\nThis also includes a change to properly handle the case where 'fields' is\nspecified without the 'uuid' field. Not only was the link missing\nthe 'fields' query parameter, but the marker/UUID was incorrect.\n\nChange-Id: I1309fb504f92c1ab3586c3abf4fc5d0e7ccbbd7d\nPartial-Bug: #1715541\nCloses-Bug: #1718726\n""}]",10,506280,d4c520d33043a5416fb62d9fd2987be8127e81e6,44,11,7,6618,,,0,"Add missing query parameters to 'next' link for GET /nodes?...

This fixes the 'next' link (in the response of a 'GET /nodes?' request) to
include these missing query parameters that were in the original request:

- the link was missing these query parameters from the original request:
  - 'driver'
  - 'fields'
  - 'provision_state'
  - 'resource_class'

- the link was missing these query parameters if they had been set to
  False in the original request:
  -'associated'
  - 'maintenance'

This also includes a change to properly handle the case where 'fields' is
specified without the 'uuid' field. Not only was the link missing
the 'fields' query parameter, but the marker/UUID was incorrect.

Change-Id: I1309fb504f92c1ab3586c3abf4fc5d0e7ccbbd7d
Partial-Bug: #1715541
Closes-Bug: #1718726
",git fetch https://review.opendev.org/openstack/ironic refs/changes/80/506280/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/collection.py', 'releasenotes/notes/next-link-for-nodes-24c58738a98920f4.yaml', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/node.py']",4,9defb6feea39d61976cee70a94dd3eabb832da65,bug/1715541," def convert_with_links(nodes, limit, url=None, fields_in_response=None, **kwargs): """"""Convert the nodes to the representation needed for the response. This generates the information needed for the response, including links associated with the nodes. :param nodes: list of RPC nodes (objects.node.Node) :param limit: maximum number of resources to return in a single result :param url: resource part in the path of the 'next' URL :param fields_in_response: list of the node's fields to include in the response :param **kwargs: parameters for the query string part of the 'next' URL """""" collection.nodes = [ Node.convert_with_links(n, fields=fields_in_response) for n in nodes] marker_uuid = None if nodes: # The UUID of the last node in the list, needed for generating # the 'next' link. (This is to handle the case where the response # doesn't include the UUIDs so the info is not available in # collection.nodes.) marker_uuid = nodes[-1].uuid collection.next = collection.get_next(limit, url=url, marker=marker_uuid, **kwargs) resource_url=None, fields=None, specified_fields=False): """"""Get the nodes. This gets the information for the requested nodes, :param chassis_uuid: Optional UUID of a chassis, to get only nodes for that chassis. :param instance_uuid: Optional UUID of an instance, to find the node associated with that instance. :param associated: Optional Boolean, whether to return a list of associated (with an instance) or unassociated nodes. May be combined with other parameters. :param maintenance: Optional Boolean value that indicates whether to get nodes in maintenance mode (""True""), or not in maintenance mode (""False""). :param provision_state: Optional string value to get only nodes in that provision state. :param marker: pagination marker for large data sets. :param limit: maximum number of resources to return in a single result. This value cannot be larger than the value of max_limit in the [api] section of the ironic configuration, or only max_limit resources will be returned. :param sort_key: column to sort results by. Default: id. :param sort_dir: direction to sort. ""asc"" or ""desc"". Default: asc. :param driver: Optional string value to get only nodes using that driver. :param resource_class: Optional string value to get only nodes with that resource_class. :param resource_url: Optional resource string to be used in the path of the 'next' URL :param fields: Optional, a list with a specified set of fields of the resource to be returned. :param specified_fields: A Boolean; True if the fields were specified in the request; False otherwise. """""" parameters = {'sort_key': sort_key, 'sort_dir': sort_dir} parameters['associated'] = associated parameters['maintenance'] = maintenance parameters['provision_state'] = provision_state parameters['driver'] = driver parameters['resource_class'] = resource_class if specified_fields: parameters['fields'] = ','.join(fields) fields_in_response=fields, specified_fields = True specified_fields = False fields=fields, specified_fields=specified_fields)"," def convert_with_links(nodes, limit, url=None, fields=None, **kwargs): collection.nodes = [Node.convert_with_links(n, fields=fields) for n in nodes] collection.next = collection.get_next(limit, url=url, **kwargs) resource_url=None, fields=None): parameters = {'sort_key': sort_key, 'sort_dir': sort_dir} if associated: parameters['associated'] = associated if maintenance: parameters['maintenance'] = maintenance fields=fields, fields=fields)",131,17
openstack%2Fironic~master~I62016bd6319a612bd0c59f496481cae88a182032,openstack/ironic,master,I62016bd6319a612bd0c59f496481cae88a182032,Migrates docs from wiki,MERGED,2022-01-14 23:55:08.000000000,2022-01-24 14:54:08.000000000,2022-01-24 14:51:11.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-14 23:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bfce3a8323eb312a324872672e21c5efeac9ca0b', 'message': 'Migrates docs from wiki\n\nMoves legacy documentation from the wiki.\n\nPlease note, this has stripped out upgrade notes in some links in part\nbecause links are broken, and those versions should have long ago exited\nproduction, meaning this is largely for contextual information retention\nby the project.\n\n* https://wiki.openstack.org/wiki/ReleaseNotes/Kilo#OpenStack_Bare_Metal_service_.28Ironic.29\n* https://wiki.openstack.org/wiki/Ironic/ReleaseNotes/Juno\n* https://wiki.openstack.org/wiki/Ironic/ReleaseNotes/Icehouse\n\nChange-Id: I62016bd6319a612bd0c59f496481cae88a182032\n'}, {'number': 2, 'created': '2022-01-15 00:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b1808c7b0403c4b6b377a4d56408a80fba16b9ff', 'message': 'Migrates docs from wiki\n\nMoves legacy documentation from the wiki.\n\nPlease note, this has stripped out upgrade notes in some links in part\nbecause links are broken, and those versions should have long ago exited\nproduction, meaning this is largely for contextual information retention\nby the project.\n\n* https://wiki.openstack.org/wiki/ReleaseNotes/Kilo#OpenStack_Bare_Metal_service_.28Ironic.29\n* https://wiki.openstack.org/wiki/Ironic/ReleaseNotes/Juno\n* https://wiki.openstack.org/wiki/Ironic/ReleaseNotes/Icehouse\n\nChange-Id: I62016bd6319a612bd0c59f496481cae88a182032\n'}, {'number': 3, 'created': '2022-01-20 18:18:24.000000000', 'files': ['releasenotes/source/kilo.rst', 'releasenotes/source/index.rst', 'releasenotes/source/icehouse.rst', 'releasenotes/source/juno.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ce6a28d0d2e7d64264b105e59f2a163c13e9b977', 'message': 'Migrates docs from wiki\n\nMoves legacy documentation from the wiki.\n\nPlease note, this has stripped out upgrade notes in some links in part\nbecause links are broken, and those versions should have long ago exited\nproduction, meaning this is largely for contextual information retention\nby the project.\n\n* https://wiki.openstack.org/wiki/ReleaseNotes/Kilo#OpenStack_Bare_Metal_service_.28Ironic.29\n* https://wiki.openstack.org/wiki/Ironic/ReleaseNotes/Juno\n* https://wiki.openstack.org/wiki/Ironic/ReleaseNotes/Icehouse\n\nChange-Id: I62016bd6319a612bd0c59f496481cae88a182032\n'}]",10,824808,ce6a28d0d2e7d64264b105e59f2a163c13e9b977,18,3,3,11655,,,0,"Migrates docs from wiki

Moves legacy documentation from the wiki.

Please note, this has stripped out upgrade notes in some links in part
because links are broken, and those versions should have long ago exited
production, meaning this is largely for contextual information retention
by the project.

* https://wiki.openstack.org/wiki/ReleaseNotes/Kilo#OpenStack_Bare_Metal_service_.28Ironic.29
* https://wiki.openstack.org/wiki/Ironic/ReleaseNotes/Juno
* https://wiki.openstack.org/wiki/Ironic/ReleaseNotes/Icehouse

Change-Id: I62016bd6319a612bd0c59f496481cae88a182032
",git fetch https://review.opendev.org/openstack/ironic refs/changes/08/824808/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/kilo.rst', 'releasenotes/source/icehouse.rst', 'releasenotes/source/juno.rst']",3,bfce3a8323eb312a324872672e21c5efeac9ca0b,,"============================================= Juno Series (2014.2 - 2014.2.1) Release Notes ============================================= Key Features ============ * The Nova ""ironic"" driver is in the Nova code base. In Icehouse, the Nova ""ironic"" driver was not in the Nova code base. Now that it is in the Nova code base, it is no longer necessary to install Ironic on the nova-compute hosts. * nova rebuild is supported by the nova.virt.ironic driver * however, the optional --preserve-ephemeral flag is not supported by ""agent""-based deploy drivers. * IPMI sensor data can be emitted (eg to Ceilometer) * New hardware drivers: DRAC power & management driver, iLO power & virtual-media deploy driver, SNMP power driver, iBoot PDU power driver * New ""agent"" family of deploy drivers * Neutron dependency has been removed. * It is possible to use an external static DHCP configuration with agent-based drivers (eg, agent_ipmitool) or no DHCP at all with iLO-based drivers (eg, agent_ilo and iscsi_ilo) * UEFI and iPXE boot support is available in some drivers * Serial-over-LAN console is supported. The IPMItool and NativeIPMI drivers support serial console. Known Issues ============ * IPMI passwords are visible to users with cloud admin privileges, via Ironic's API. * Running more than one nova-compute process is not officially supported. While Ironic does include a ClusteredComputeManager, which allows running more than one nova-compute process with Ironic, it should be considered experimental and has many known problems. * Drivers using the ""agent"" deploy mechanism differ in their functionality from those using the ""pxe"" deploy mechanism in the following ways: * agent requires a whole-disk image, and does not support ""rebuild --preserve-ephemeral""; ""pxe"" requires a partition image, and supports ""rebuild --preserve-ephemeral"" * nodes deployed by the ""agent"" drivers will boot from the local disk; nodes deployed by the ""pxe"" drivers can not boot from local disk, and will always require a net boot (whether via pxe, ipxe, or virtual-media) ",,122,0
openstack%2Freleases~master~Ice340f41b2f6327c38116483854e938d277b3c6b,openstack/releases,master,Ice340f41b2f6327c38116483854e938d277b3c6b,fix(deliverables): add missing keystone release notes,MERGED,2021-12-17 20:09:31.000000000,2022-01-24 14:53:35.000000000,2022-01-24 14:53:35.000000000,"[{'_account_id': 5046}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-12-17 20:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d1f9e6c09044ded174ba0fdff2a24c1717e3c872', 'message': 'fix(deliverables): add missing keystone release notes\n\nChange-Id: Ice340f41b2f6327c38116483854e938d277b3c6b\n'}, {'number': 2, 'created': '2021-12-20 22:43:02.000000000', 'files': ['deliverables/xena/keystone.yaml', 'deliverables/wallaby/keystone.yaml', 'deliverables/victoria/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6643a5ae821d5f2e03744cac5a2bd48d3f0cf440', 'message': ""fix(deliverables): add missing keystone release notes\n\nThe release pages for Xena, Wallaby and Victoria are\nmissing the release notes for Keystone even though\nthey have been written.\n\nThis change adds the release notes for Keystone so\nusers don't get confused thinking there are no\nrelease notes.\n\nChange-Id: Ice340f41b2f6327c38116483854e938d277b3c6b\n""}]",2,822199,6643a5ae821d5f2e03744cac5a2bd48d3f0cf440,10,6,2,17440,,,0,"fix(deliverables): add missing keystone release notes

The release pages for Xena, Wallaby and Victoria are
missing the release notes for Keystone even though
they have been written.

This change adds the release notes for Keystone so
users don't get confused thinking there are no
release notes.

Change-Id: Ice340f41b2f6327c38116483854e938d277b3c6b
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/822199/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/keystone.yaml', 'deliverables/wallaby/keystone.yaml', 'deliverables/victoria/keystone.yaml']",3,d1f9e6c09044ded174ba0fdff2a24c1717e3c872,,release-notes: https://docs.openstack.org/releasenotes/keystone/victoria.html,,3,0
openstack%2Fcharm-cinder-solidfire~master~I6353afbe068838ccc60b268c21d9e2d2473891be,openstack/charm-cinder-solidfire,master,I6353afbe068838ccc60b268c21d9e2d2473891be,Add .gitreview and .zuul.yaml,MERGED,2022-01-18 16:17:04.000000000,2022-01-24 14:46:05.000000000,2022-01-24 14:46:05.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-01-18 16:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-solidfire/commit/e177ea25b56d22ef1c9427881600a68a4f54a3c0', 'message': 'Add .gitreview and .zuul.yaml\n\nChange-Id: I6353afbe068838ccc60b268c21d9e2d2473891be\n'}, {'number': 2, 'created': '2022-01-18 16:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-solidfire/commit/381f06e19c41e87a1af26f6fa0ec892c87b0a7f5', 'message': 'Add .gitreview and .zuul.yaml\n\nChange-Id: I6353afbe068838ccc60b268c21d9e2d2473891be\n'}, {'number': 3, 'created': '2022-01-21 17:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-solidfire/commit/67648e4ae9627827daa8a59fe1f48de8b35189f2', 'message': 'Add .gitreview and .zuul.yaml\n\nDisables one func test because of need for hardware\n\nChange-Id: I6353afbe068838ccc60b268c21d9e2d2473891be\n'}, {'number': 4, 'created': '2022-01-21 18:00:05.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'osci.yaml', '.gitreview', '.zuul.yaml', 'tests/tests_cinder_solidfire.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-solidfire/commit/4b6958984393033137f48465865d4c53816f7868', 'message': 'Add .gitreview and .zuul.yaml\n\nAdds zOSCI config\nDisables one func test because of need for hardware\n\nChange-Id: I6353afbe068838ccc60b268c21d9e2d2473891be\n'}]",0,825137,4b6958984393033137f48465865d4c53816f7868,11,2,4,33741,,,0,"Add .gitreview and .zuul.yaml

Adds zOSCI config
Disables one func test because of need for hardware

Change-Id: I6353afbe068838ccc60b268c21d9e2d2473891be
",git fetch https://review.opendev.org/openstack/charm-cinder-solidfire refs/changes/37/825137/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', '.gitreview', '.zuul.yaml']",3,e177ea25b56d22ef1c9427881600a68a4f54a3c0,zuul,- project: templates: - openstack-python3-ussuri-jobs - openstack-cover-jobs ,,9,1
openstack%2Freleases~master~I8ef64f405d0e9588d49c99e6a955ddd88f39d521,openstack/releases,master,I8ef64f405d0e9588d49c99e6a955ddd88f39d521,Release os-ken for stable/wallaby,MERGED,2022-01-24 12:50:45.000000000,2022-01-24 14:45:19.000000000,2022-01-24 14:45:19.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-24 12:50:45.000000000', 'files': ['deliverables/wallaby/os-ken.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c03ee89dbf6cf067e82327f2549af3df9e69d589', 'message': ""Release os-ken for stable/wallaby\n\n$ git log --no-merges --oneline 1.4.0...018d755f\n018d755f Avoid missing key 'password' for neighbor_add\n7619c024 Avoid logging MD5 password for BGP add neighbor\n99361db1 Add requirements.txt to tox environment\n2c434939 Update TOX_CONSTRAINTS_FILE for stable/wallaby\n5ed7d999 Update .gitreview for stable/wallaby\n\nChange-Id: I8ef64f405d0e9588d49c99e6a955ddd88f39d521\n""}]",1,826083,c03ee89dbf6cf067e82327f2549af3df9e69d589,8,7,1,8313,,,0,"Release os-ken for stable/wallaby

$ git log --no-merges --oneline 1.4.0...018d755f
018d755f Avoid missing key 'password' for neighbor_add
7619c024 Avoid logging MD5 password for BGP add neighbor
99361db1 Add requirements.txt to tox environment
2c434939 Update TOX_CONSTRAINTS_FILE for stable/wallaby
5ed7d999 Update .gitreview for stable/wallaby

Change-Id: I8ef64f405d0e9588d49c99e6a955ddd88f39d521
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/826083/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/os-ken.yaml'],1,c03ee89dbf6cf067e82327f2549af3df9e69d589,ovsken_141_wallaby, - version: 1.4.1 projects: - repo: openstack/os-ken hash: 018d755fd7426902256891f39cb21b51d52b7f17,,4,0
openstack%2Fcharm-cinder-nimblestorage~master~Ib27b75b09fae3ad36b73d9d2109261edde892248,openstack/charm-cinder-nimblestorage,master,Ib27b75b09fae3ad36b73d9d2109261edde892248,Add .gitreview and .zuul.yaml files,MERGED,2022-01-18 16:16:49.000000000,2022-01-24 14:41:44.000000000,2022-01-24 14:41:44.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-01-18 16:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-nimblestorage/commit/462fcc8a590da25e28a483f989c7dac8c85cf05c', 'message': 'Add .gitreview and .zuul.yaml files\n\nChange-Id: Ib27b75b09fae3ad36b73d9d2109261edde892248\n'}, {'number': 2, 'created': '2022-01-21 17:17:26.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/tests.yaml', 'tests/bundles/xenial-ocata.yaml', '.gitreview', 'tests/tests_cinder_nimblestorage.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-nimblestorage/commit/35c5b97a01fc2a6ed4f0d82768deb24445b710d1', 'message': 'Add .gitreview and .zuul.yaml files\n\nDisables one func test because of need for hardware\n\nChange-Id: Ib27b75b09fae3ad36b73d9d2109261edde892248\n'}]",0,825136,35c5b97a01fc2a6ed4f0d82768deb24445b710d1,8,2,2,33741,,,0,"Add .gitreview and .zuul.yaml files

Disables one func test because of need for hardware

Change-Id: Ib27b75b09fae3ad36b73d9d2109261edde892248
",git fetch https://review.opendev.org/openstack/charm-cinder-nimblestorage refs/changes/36/825136/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/bionic-rocky.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/tests.yaml', 'tests/bundles/xenial-ocata.yaml', '.gitreview', '.zuul.yaml']",6,462fcc8a590da25e28a483f989c7dac8c85cf05c,zuul,- project: templates: - openstack-python3-ussuri-jobs - openstack-cover-jobs ,,21,8
openstack%2Freleases~master~I7b6ff4c1f3c539eb4f82ce8a0f66e87f6c531b58,openstack/releases,master,I7b6ff4c1f3c539eb4f82ce8a0f66e87f6c531b58,Release ovsdbapp for stable/wallaby,MERGED,2022-01-24 12:46:23.000000000,2022-01-24 14:38:50.000000000,2022-01-24 14:38:50.000000000,"[{'_account_id': 841}, {'_account_id': 5756}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-24 12:46:23.000000000', 'files': ['deliverables/wallaby/ovsdbapp.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9167f64d3fba652c209890888e07638cf0aca129', 'message': 'Release ovsdbapp for stable/wallaby\n\n$ git log --no-merges --oneline 1.9.0...8304251\n8304251 Actually close the connection in Connection.stop()\n66918f9 Don\'t spam retries 100s of times a second\nd0cc492 Add an active wait in the ""Backend.lookup""\n007c0f6 Fix docs job\nf6a19a3 Update TOX_CONSTRAINTS_FILE for stable/wallaby\n875be60 Update .gitreview for stable/wallaby\n\nChange-Id: I7b6ff4c1f3c539eb4f82ce8a0f66e87f6c531b58\n'}]",1,826082,9167f64d3fba652c209890888e07638cf0aca129,8,8,1,8313,,,0,"Release ovsdbapp for stable/wallaby

$ git log --no-merges --oneline 1.9.0...8304251
8304251 Actually close the connection in Connection.stop()
66918f9 Don't spam retries 100s of times a second
d0cc492 Add an active wait in the ""Backend.lookup""
007c0f6 Fix docs job
f6a19a3 Update TOX_CONSTRAINTS_FILE for stable/wallaby
875be60 Update .gitreview for stable/wallaby

Change-Id: I7b6ff4c1f3c539eb4f82ce8a0f66e87f6c531b58
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/826082/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ovsdbapp.yaml'],1,9167f64d3fba652c209890888e07638cf0aca129,ovsdbapp_191_wallaby, - version: 1.9.1 projects: - repo: openstack/ovsdbapp hash: 83042517857c0b00aea572fa8d224416692a2213,,4,0
openstack%2Fcinder~master~I925697cca1a4a10dcccd630dc14d24c1735b3a0a,openstack/cinder,master,I925697cca1a4a10dcccd630dc14d24c1735b3a0a,PowerMax Driver - Re-use existing initiator group/host.,MERGED,2021-04-23 14:44:23.000000000,2022-01-24 14:36:30.000000000,2022-01-24 14:33:19.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 12670}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32266}]","[{'number': 1, 'created': '2021-04-23 14:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fa05dbc36543218bde742023ce9d7c8d61cfb5f5', 'message': ""PowerMax Driver - Re-use existing initiator group/host.\n\nWhen we query an initiator group/host based on it's contained\ninitiator(s) it will not be found unless there is an entry\nin the login table.  It is possible for an initiator\ngroup/host to exist and not be in the login table, so when we\nattempt to create it using it's OpenStack name\nOS-<shortHostName>-<protocol>-IG, it may fail with an\n'Host already exists' error, and need to be manually deleted.\n\nThis fix checks for the existence of the initiator group/host\nbased on it's OpenStack name OS-<shortHostName>-<protocol>-IG.\nIf it already exists, we will check that the contained\ninitiator(s) match those in the connector object and reuse it.\n\nChange-Id: I925697cca1a4a10dcccd630dc14d24c1735b3a0a\n""}, {'number': 2, 'created': '2021-05-26 17:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/65b799167c73e08ac5a0518abe4c93ba3798f3e1', 'message': ""PowerMax Driver - Re-use existing initiator group/host.\n\nWhen we query an initiator group/host based on it's contained\ninitiator(s) it will not be found unless there is an entry\nin the login table.  It is possible for an initiator\ngroup/host to exist and not be in the login table, so when we\nattempt to create it using it's OpenStack name\nOS-<shortHostName>-<protocol>-IG, it may fail with an\n'Host already exists' error, and need to be manually deleted.\n\nThis fix checks for the existence of the initiator group/host\nbased on it's OpenStack name OS-<shortHostName>-<protocol>-IG.\nIf it already exists, we will check that the contained\ninitiator(s) match those in the connector object and reuse it.\n\nChange-Id: I925697cca1a4a10dcccd630dc14d24c1735b3a0a\n""}, {'number': 3, 'created': '2021-06-01 10:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/49ed552d87466867d2e0107eea56195cac2b88ed', 'message': ""PowerMax Driver - Re-use existing initiator group/host.\n\nWhen we query an initiator group/host based on it's contained\ninitiator(s) it will not be found unless there is an entry\nin the login table.  It is possible for an initiator\ngroup/host to exist and not be in the login table, so when we\nattempt to create it using it's OpenStack name\nOS-<shortHostName>-<protocol>-IG, it may fail with an\n'Host already exists' error, and need to be manually deleted.\n\nThis fix checks for the existence of the initiator group/host\nbased on it's OpenStack name OS-<shortHostName>-<protocol>-IG.\nIf it already exists, we will check that the contained\ninitiator(s) match those in the connector object and reuse it.\n\nChange-Id: I925697cca1a4a10dcccd630dc14d24c1735b3a0a\n""}, {'number': 4, 'created': '2021-09-16 09:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0dcc622c9c2caed21226ebf5f0bface6fec03b80', 'message': ""PowerMax Driver - Re-use existing initiator group/host.\n\nWhen we query an initiator group/host based on it's contained\ninitiator(s) it will not be found unless there is an entry\nin the login table.  It is possible for an initiator\ngroup/host to exist and not be in the login table, so when we\nattempt to create it using it's OpenStack name\nOS-<shortHostName>-<protocol>-IG, it may fail with an\n'Host already exists' error, and need to be manually deleted.\n\nThis fix checks for the existence of the initiator group/host\nbased on it's OpenStack name OS-<shortHostName>-<protocol>-IG.\nIf it already exists, we will check that the contained\ninitiator(s) match those in the connector object and reuse it.\n\nChange-Id: I925697cca1a4a10dcccd630dc14d24c1735b3a0a\n""}, {'number': 5, 'created': '2021-11-16 15:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0b5dde13c2af41ba182f4f5a418ac50b4611588', 'message': ""PowerMax Driver - Re-use existing initiator group/host.\n\nWhen we query an initiator group/host based on it's contained\ninitiator(s) it will not be found unless there is an entry\nin the login table.  It is possible for an initiator\ngroup/host to exist and not be in the login table, so when we\nattempt to create it using it's OpenStack name\nOS-<shortHostName>-<protocol>-IG, it may fail with an\n'Host already exists' error, and need to be manually deleted.\n\nThis fix checks for the existence of the initiator group/host\nbased on it's OpenStack name OS-<shortHostName>-<protocol>-IG.\nIf it already exists, we will check that the contained\ninitiator(s) match those in the connector object and reuse it.\n\nChange-Id: I925697cca1a4a10dcccd630dc14d24c1735b3a0a\n""}, {'number': 6, 'created': '2021-11-18 17:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7e99d21b7da7db1a775312790f7d74547a9d9879', 'message': ""PowerMax Driver - Re-use existing initiator group/host.\n\nWhen we query an initiator group/host based on it's contained\ninitiator(s) it will not be found unless there is an entry\nin the login table.  It is possible for an initiator\ngroup/host to exist and not be in the login table, so when we\nattempt to create it using it's OpenStack name\nOS-<shortHostName>-<protocol>-IG, it may fail with an\n'Host already exists' error, and need to be manually deleted.\n\nThis fix checks for the existence of the initiator group/host\nbased on it's OpenStack name OS-<shortHostName>-<protocol>-IG.\nIf it already exists, we will check that the contained\ninitiator(s) match those in the connector object and reuse it.\n\nChange-Id: I925697cca1a4a10dcccd630dc14d24c1735b3a0a\n""}, {'number': 7, 'created': '2021-11-26 13:58:22.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'releasenotes/notes/powermax-existing-host-092f7daf29053d82.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_fake_objects.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_masking.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/97cd6052ae434d660be078023096d8cee2acbc14', 'message': ""PowerMax Driver - Re-use existing initiator group/host.\n\nWhen we query an initiator group/host based on it's contained\ninitiator(s) it will not be found unless there is an entry\nin the login table.  It is possible for an initiator\ngroup/host to exist and not be in the login table, so when we\nattempt to create it using it's OpenStack name\nOS-<shortHostName>-<protocol>-IG, it may fail with an\n'Host already exists' error, and need to be manually deleted.\n\nThis fix checks for the existence of the initiator group/host\nbased on it's OpenStack name OS-<shortHostName>-<protocol>-IG.\nIf it already exists, we will check that the contained\ninitiator(s) match those in the connector object and reuse it.\n\nChange-Id: I925697cca1a4a10dcccd630dc14d24c1735b3a0a\n""}]",21,787764,97cd6052ae434d660be078023096d8cee2acbc14,187,7,7,12670,,,0,"PowerMax Driver - Re-use existing initiator group/host.

When we query an initiator group/host based on it's contained
initiator(s) it will not be found unless there is an entry
in the login table.  It is possible for an initiator
group/host to exist and not be in the login table, so when we
attempt to create it using it's OpenStack name
OS-<shortHostName>-<protocol>-IG, it may fail with an
'Host already exists' error, and need to be manually deleted.

This fix checks for the existence of the initiator group/host
based on it's OpenStack name OS-<shortHostName>-<protocol>-IG.
If it already exists, we will check that the contained
initiator(s) match those in the connector object and reuse it.

Change-Id: I925697cca1a4a10dcccd630dc14d24c1735b3a0a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/787764/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'releasenotes/notes/powermax-existing-host-092f7daf29053d82.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_fake_objects.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_masking.py']",6,fa05dbc36543218bde742023ce9d7c8d61cfb5f5,," rest.PowerMaxRest, 'get_initiator_group', side_effect=[None, None]) @mock.patch.object( def test_get_or_create_initiator_group( self, mock_create_ig, mock_find_ig, mock_get_ig): mock_create_ig.assert_called() @mock.patch.object( rest.PowerMaxRest, 'get_initiator_group', return_value=tpd.PowerMaxData.initiator_group_iscsi) @mock.patch.object( masking.PowerMaxMasking, '_find_initiator_group', return_value=None) @mock.patch.object( masking.PowerMaxMasking, '_create_initiator_group') def test_get_or_create_initiator_group_not_logged_in( self, mock_create_ig, mock_find_ig, mock_get_ig): found_init_group, msg = ( self.driver.masking._get_or_create_initiator_group( self.data.array, self.data.initiatorgroup_name_i, self.data.connector, self.extra_specs)) mock_create_ig.assert_not_called() self.assertIsNone(msg) @mock.patch.object( rest.PowerMaxRest, 'get_initiator_group', side_effect=[tpd.PowerMaxData.initiator_group_fc, tpd.PowerMaxData.initiator_group_empty]) @mock.patch.object( masking.PowerMaxMasking, '_find_initiator_group', return_value=None) @mock.patch.object( masking.PowerMaxMasking, '_create_initiator_group') def test_get_or_create_initiator_group_not_logged_in_exception( self, mock_create_ig, mock_find_ig, mock_get_ig): self.assertRaises( exception.VolumeBackendAPIException, self.driver.masking._get_or_create_initiator_group, self.data.array, self.data.initiatorgroup_name_i, self.data.connector, self.extra_specs) self.assertRaises( exception.VolumeBackendAPIException, self.driver.masking._get_or_create_initiator_group, self.data.array, self.data.initiatorgroup_name_i, self.data.connector, self.extra_specs) "," def test_get_or_create_initiator_group(self, mock_create_ig, mock_find_ig):",116,13
openstack%2Fopenstack-ansible~stable%2Fwallaby~I9b973a12c4d6be72478919e54531c88257216b86,openstack/openstack-ansible,stable/wallaby,I9b973a12c4d6be72478919e54531c88257216b86,Remove CI jobs for centos-8,MERGED,2022-01-13 13:56:26.000000000,2022-01-24 14:36:01.000000000,2022-01-24 14:30:12.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-13 13:56:26.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/playbooks/pre-gate-cleanup.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/839f97ab2999e2ef26531a147aa7a637b37bcc53', 'message': 'Remove CI jobs for centos-8\n\nCentos-8 is becoming EOL so we remove the CI jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-qdrouterd/+/824537\n(cherry-picked from commit 81c24da82298f735170e516fe436d6582f527d52)\n\nChange-Id: I9b973a12c4d6be72478919e54531c88257216b86\n'}]",1,824569,839f97ab2999e2ef26531a147aa7a637b37bcc53,13,3,1,25023,,,0,"Remove CI jobs for centos-8

Centos-8 is becoming EOL so we remove the CI jobs.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-qdrouterd/+/824537
(cherry-picked from commit 81c24da82298f735170e516fe436d6582f527d52)

Change-Id: I9b973a12c4d6be72478919e54531c88257216b86
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/69/824569/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/playbooks/pre-gate-cleanup.yml', 'zuul.d/jobs.yaml']",3,839f97ab2999e2ef26531a147aa7a637b37bcc53,osa/remove-centos8,,# centos 8 - job: name: openstack-ansible-deploy-aio_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-infra_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-hosts_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-hosts_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_ceph-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-upgrade-aio_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 timeout: 10800 - job: name: openstack-ansible-upgrade-infra_lxc-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 timeout: 10800 - job: name: openstack-ansible-deploy-aio_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_telemetry_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 - job: name: openstack-ansible-deploy-aio_distro_metal-centos-8 parent: openstack-ansible-deploy-aio-distro nodeset: centos-8 - job: name: openstack-ansible-upgrade-aio_ceph-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 timeout: 10800 - job: name: openstack-ansible-upgrade-aio_metal-centos-8 parent: openstack-ansible-deploy-aio nodeset: centos-8 timeout: 10800,0,88
openstack%2Fcinder~master~Ie38062a20bb289673b1c76c80dcc57ec04b61aa4,openstack/cinder,master,Ie38062a20bb289673b1c76c80dcc57ec04b61aa4,requests.packages.urllib3.disable_warnings: Module patch check for attributes.,NEW,2022-01-17 08:46:04.000000000,2022-01-24 14:25:18.000000000,,"[{'_account_id': 4523}, {'_account_id': 12670}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32029}, {'_account_id': 33431}]","[{'number': 1, 'created': '2022-01-17 08:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9b708805d72c9e6bc17b403a948b6046795d4ab', 'message': ""requests.packages.urllib3.disable_warnings: Module patch check for attributes.\n\nThere is a possible installation bug in 'requests' library module for python, that causes the imported library packages not being accessable, when installed using pip, by module path 'requests.packages.urllib3'. The check makes sure that library was installed properly.\n\nSigned-off-by: mionsz <milosz.linkiewicz@intel.com>\nChange-Id: Ie38062a20bb289673b1c76c80dcc57ec04b61aa4\n""}, {'number': 2, 'created': '2022-01-17 08:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/895e46477c1cf760f57ca282e2fe81690ced71cd', 'message': ""requests.packages.urllib3.disable_warnings: Module patch check for attributes.\n\nThere is a possible installation bug in 'requests' library module for python, that causes the imported library packages not being accessable, when installed using pip, by module path 'requests.packages.urllib3'. The check makes sure that library was installed properly.\n\nSigned-off-by: mionsz <milosz.linkiewicz@intel.com>\nChange-Id: Ie38062a20bb289673b1c76c80dcc57ec04b61aa4\n""}, {'number': 3, 'created': '2022-01-17 20:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d367f4f30ffe7e5d1472ecc34bdaa8143c3a9a9e', 'message': ""requests.packages.urllib3.disable_warnings: Module patch check for attributes.\n\nThere is a possible installation bug in 'requests' library module for python, that causes the imported library packages not being accessable, when installed using pip, by module path 'requests.packages.urllib3'. The check makes sure that library was installed properly.\n\nSigned-off-by: mionsz <milosz.linkiewicz@intel.com>\nChange-Id: Ie38062a20bb289673b1c76c80dcc57ec04b61aa4\n""}, {'number': 4, 'created': '2022-01-18 09:23:37.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7397cc36f41f9d5d59d4ea6ce5e82a6a20969174', 'message': ""requests.packages.urllib3.disable_warnings: Module patch check for attributes.\n\nThere is a possible installation bug in 'requests' library module for python, that causes the imported library packages not being accessable, when installed using pip, by module path 'requests.packages.urllib3'. The check makes sure that library was installed properly.\n\nSigned-off-by: mionsz <milosz.linkiewicz@intel.com>\nChange-Id: Ie38062a20bb289673b1c76c80dcc57ec04b61aa4\n""}]",20,824895,7397cc36f41f9d5d59d4ea6ce5e82a6a20969174,87,6,4,34444,,,0,"requests.packages.urllib3.disable_warnings: Module patch check for attributes.

There is a possible installation bug in 'requests' library module for python, that causes the imported library packages not being accessable, when installed using pip, by module path 'requests.packages.urllib3'. The check makes sure that library was installed properly.

Signed-off-by: mionsz <milosz.linkiewicz@intel.com>
Change-Id: Ie38062a20bb289673b1c76c80dcc57ec04b61aa4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/824895/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,c9b708805d72c9e6bc17b403a948b6046795d4ab,," if ""packages"" in dir(requests): if ""urllib3"" in dir(requests.packages): LOG.warning(""Suppressing requests library SSL Warnings. Success"") requests.packages.urllib3.disable_warnings( requests.packages.urllib3.exceptions.InsecureRequestWarning) requests.packages.urllib3.disable_warnings( requests.packages.urllib3.exceptions.InsecurePlatformWarning) else: LOG.warning(""Failed suppressing requests library SSL Warnings. No urllib3 in requests.packages"") else: LOG.warning(""Failed suppressing requests library SSL Warnings. No packages in module requests"") "," LOG.warning(""Suppressing requests library SSL Warnings"") requests.packages.urllib3.disable_warnings( requests.packages.urllib3.exceptions.InsecureRequestWarning) requests.packages.urllib3.disable_warnings( requests.packages.urllib3.exceptions.InsecurePlatformWarning)",10,5
openstack%2Fkolla-ansible~stable%2Fwallaby~I6e49730fab79eb786565d7a427314b6bc5ddbfe2,openstack/kolla-ansible,stable/wallaby,I6e49730fab79eb786565d7a427314b6bc5ddbfe2,"Revert ""[CI] [to-revert] Avoid upgrades on CentOS Stream 8""",MERGED,2022-01-20 09:51:55.000000000,2022-01-24 14:23:34.000000000,2022-01-24 14:18:03.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-20 09:51:55.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff92636dd618c599d7d787a10aaba5b03b39dec8', 'message': 'Revert ""[CI] [to-revert] Avoid upgrades on CentOS Stream 8""\n\nThis reverts commit 4bdd9202cb332baee917ab9e6a6055cd8130905b.\n\nReason for revert: Ping bug fixed\n\nChange-Id: I6e49730fab79eb786565d7a427314b6bc5ddbfe2\n'}]",1,825452,ff92636dd618c599d7d787a10aaba5b03b39dec8,10,2,1,14826,,,0,"Revert ""[CI] [to-revert] Avoid upgrades on CentOS Stream 8""

This reverts commit 4bdd9202cb332baee917ab9e6a6055cd8130905b.

Reason for revert: Ping bug fixed

Change-Id: I6e49730fab79eb786565d7a427314b6bc5ddbfe2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/825452/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ff92636dd618c599d7d787a10aaba5b03b39dec8,centos8-ping-pain-stable/xena-stable/wallaby, - kolla-ansible-centos8s-source-upgrade - kolla-ansible-centos8s-source-upgrade-cephadm - kolla-ansible-centos8s-source-upgrade,,3,0
openstack%2Fopenstacksdk~master~Iceb4377082d678b825774a69d211a158c64211b2,openstack/openstacksdk,master,Iceb4377082d678b825774a69d211a158c64211b2,Merge feature/r1 branch into master,MERGED,2022-01-10 11:00:11.000000000,2022-01-24 14:13:57.000000000,2022-01-24 14:09:12.000000000,"[{'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32667}]","[{'number': 1, 'created': '2022-01-10 11:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2b7b88d6a219bd100431ee2c9bba0c153f6ad81c', 'message': ""Merge remote-tracking branch 'origin/feature/r1' into merge-branch\n\nChange-Id: Iceb4377082d678b825774a69d211a158c64211b2\n""}, {'number': 2, 'created': '2022-01-14 17:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/43da826f02a54b94a6f6a8e9c923e899978bd5ce', 'message': 'Merge feature/r1 branch into master\n\nDepends-On: https://review.opendev.org/c/openstack/python-openstackclient/+/824746\nDepends-On: https://review.opendev.org/c/openstack/python-openstackclient/+/824733\n\nChange-Id: Iceb4377082d678b825774a69d211a158c64211b2\n'}, {'number': 3, 'created': '2022-01-17 10:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/380656263bcc07e15afc2cca64d5408723ca48a6', 'message': 'Merge feature/r1 branch into master\n\nDepends-On: https://review.opendev.org/c/openstack/python-openstackclient/+/824746\nDepends-On: https://review.opendev.org/c/openstack/python-openstackclient/+/824733\nDepends-On: https://review.opendev.org/c/openstack/osc-lib/+/824909\n\nChange-Id: Iceb4377082d678b825774a69d211a158c64211b2\n'}, {'number': 4, 'created': '2022-01-17 15:34:56.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6c0209bf5a653c092bad07212d4213a70168ad7f', 'message': 'Merge feature/r1 branch into master\n\nDepends-On: https://review.opendev.org/c/openstack/osc-lib/+/824909\n\nChange-Id: Iceb4377082d678b825774a69d211a158c64211b2\n'}]",5,823961,6c0209bf5a653c092bad07212d4213a70168ad7f,21,4,4,27900,,,0,"Merge feature/r1 branch into master

Depends-On: https://review.opendev.org/c/openstack/osc-lib/+/824909

Change-Id: Iceb4377082d678b825774a69d211a158c64211b2
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/61/823961/4 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2b7b88d6a219bd100431ee2c9bba0c153f6ad81c,merge-branch,,defaultbranch=feature/r1,0,1
openstack%2Fcloudkitty-tempest-plugin~master~Ic97e2850acef4eb530cee3591e479d30064758b8,openstack/cloudkitty-tempest-plugin,master,Ic97e2850acef4eb530cee3591e479d30064758b8,WIP: Add tests for /v2/dataframes endpoints,NEW,2019-09-27 12:36:12.000000000,2022-01-24 14:12:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-09-27 12:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/7089078ce17579f6073bcc469597f08323d365a9', 'message': 'WIP: Add tests for /v2/dataframes endpoints\n\nTests for /v2/dataframes endpoints with GET and POST\nHTTP verbs have been added to the CK Tempest plugin.\n\nChange-Id: Ic97e2850acef4eb530cee3591e479d30064758b8\n'}, {'number': 2, 'created': '2019-10-14 12:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/b6ab16bc3662822401aa0716fb9d3c7a00cfdb5c', 'message': 'WIP: Add tests for /v2/dataframes endpoints\n\nTests for /v2/dataframes endpoints with GET and POST\nHTTP verbs have been added to the CK Tempest plugin.\n\nChange-Id: Ic97e2850acef4eb530cee3591e479d30064758b8\n'}, {'number': 3, 'created': '2019-11-18 17:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/5f40351f085b43821bc6d43d0b50457391228b20', 'message': 'WIP: Add tests for /v2/dataframes endpoints\n\nTests for /v2/dataframes endpoints with GET and POST\nHTTP verbs have been added to the CK Tempest plugin.\n\nChange-Id: Ic97e2850acef4eb530cee3591e479d30064758b8\n'}, {'number': 4, 'created': '2019-11-26 09:39:11.000000000', 'files': ['cloudkitty_tempest_plugin/tests/api/v1/test_cloudkitty_api.py', 'cloudkitty_tempest_plugin/tests/api/v2/test_cloudkitty_api.py', 'cloudkitty_tempest_plugin/tests/api/base.py', 'cloudkitty_tempest_plugin/tests/api/v1/test_pyscript_api.py', 'cloudkitty_tempest_plugin/tests/api/v1/test_hashmap_api.py', 'cloudkitty_tempest_plugin/services/client.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/e25be7115fedd915031a40752945d8ad7c05a321', 'message': 'WIP: Add tests for /v2/dataframes endpoints\n\nTests for /v2/dataframes endpoints with GET and POST\nHTTP verbs have been added to the CK Tempest plugin.\n\nChange-Id: Ic97e2850acef4eb530cee3591e479d30064758b8\n'}]",0,685344,e25be7115fedd915031a40752945d8ad7c05a321,14,3,4,29503,,,0,"WIP: Add tests for /v2/dataframes endpoints

Tests for /v2/dataframes endpoints with GET and POST
HTTP verbs have been added to the CK Tempest plugin.

Change-Id: Ic97e2850acef4eb530cee3591e479d30064758b8
",git fetch https://review.opendev.org/openstack/cloudkitty-tempest-plugin refs/changes/44/685344/4 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty_tempest_plugin/tests/api/test_cloudkitty_api.py', 'cloudkitty_tempest_plugin/tests/api/test_pyscript_api.py', 'cloudkitty_tempest_plugin/tests/api/test_hashmap_api.py', 'cloudkitty_tempest_plugin/tests/api/base.py', 'cloudkitty_tempest_plugin/services/client.py']",5,7089078ce17579f6073bcc469597f08323d365a9,,"from six.moves.urllib.parse import urlencode @staticmethod def serialize_params(params): ret = [] for k, v in params.items(): if isinstance(v, dict): for subk, subv in v.items(): ret.append((k, '{}:{}'.format(subk, subv))) elif v is not None: ret.append((k, v)) return urlencode(ret) def _do_request(self, method, uri, body=None, params=None, expected_code=200): uri = '{}?{}'.format( uri, self.serialize_params(params), ) if params else uri class RatingClientV1(RatingClient): """"""Implementation of cloudkittyclient for testing purposes"""""" api_version = 'v1' class RatingClientV2(RatingClient): """"""Implementation of cloudkittyclient for testing purposes"""""" api_version = 'v2' def add_dataframes(self, dataframes=[]): uri = '/dataframes' request_body = { 'dataframes': dataframes, } return self._do_request('POST', uri, body=self.serialize(request_body), expected_code=204) def get_dataframes(self, offset=None, limit=None, begin=None, end=None, filters=None): uri = '/dataframes' request_params = { 'offset': offset, 'limit': limit, 'begin': begin, 'end': end, 'filters': filters, } return self._do_request('GET', uri, params=request_params) self.set_rating_clients() def set_rating_clients(self): self.rating_client_v1 = RatingClientV1(self.auth_provider, **self.rating_params) self.rating_client_v2 = RatingClientV2(self.auth_provider, **self.rating_params)"," api_version = 'v1' def _do_request(self, method, uri, body=None, expected_code=200): self.set_rating_client() def set_rating_client(self): self.rating_client = RatingClient(self.auth_provider, **self.rating_params)",220,89
openstack%2Fkolla-ansible~stable%2Fxena~I231d54fc17d31ff201418a61f9bb67155d5d9763,openstack/kolla-ansible,stable/xena,I231d54fc17d31ff201418a61f9bb67155d5d9763,"Revert ""[CI] [to-revert] Avoid upgrades on CentOS Stream 8""",MERGED,2022-01-20 09:51:40.000000000,2022-01-24 13:56:07.000000000,2022-01-24 13:51:21.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-20 09:51:40.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/107636766238c0a14b7885eea8920aba0fc1974f', 'message': 'Revert ""[CI] [to-revert] Avoid upgrades on CentOS Stream 8""\n\nThis reverts commit 1b6bd8d33b3a5d50f9919d7590ec26c0cf784757.\n\nReason for revert: Ping bug fixed\n\nChange-Id: I231d54fc17d31ff201418a61f9bb67155d5d9763\n'}]",1,825451,107636766238c0a14b7885eea8920aba0fc1974f,10,2,1,14826,,,0,"Revert ""[CI] [to-revert] Avoid upgrades on CentOS Stream 8""

This reverts commit 1b6bd8d33b3a5d50f9919d7590ec26c0cf784757.

Reason for revert: Ping bug fixed

Change-Id: I231d54fc17d31ff201418a61f9bb67155d5d9763
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/825451/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,107636766238c0a14b7885eea8920aba0fc1974f,centos8-ping-pain-stable/xena, - kolla-ansible-centos8s-source-upgrade - kolla-ansible-centos8s-source-upgrade-cephadm - kolla-ansible-centos8s-source-upgrade - kolla-ansible-centos8s-source-swift-upgrade,,4,0
openstack%2Ftripleo-repos~master~I8724c7225441a7717d189c19d63d3169239a91e8,openstack/tripleo-repos,master,I8724c7225441a7717d189c19d63d3169239a91e8,Keep centos 8 for train/victoria/ussuri with Nautilus,MERGED,2022-01-24 08:17:26.000000000,2022-01-24 13:24:40.000000000,2022-01-24 13:24:40.000000000,"[{'_account_id': 6796}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 18002}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 30750}]","[{'number': 1, 'created': '2022-01-24 08:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/2178ca1fada07791ff03c9d913acdf6af7c262e7', 'message': 'Keep centos 8 for train/victoria/ussuri with Nautilus\n\nWhen Ceph Nautilus is used (Train/Victoria/Ussuri) Centos 8 repos\nshould be kept.\nThis is required because Nautilus has never been migrated to 8-stream.\n\nChange-Id: I8724c7225441a7717d189c19d63d3169239a91e8\n'}, {'number': 2, 'created': '2022-01-24 08:20:04.000000000', 'files': ['plugins/module_utils/tripleo_repos/main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/8c402732195f680e7bf8197030cb5a25d45df5a9', 'message': 'Keep centos 8 for train/victoria/ussuri with Nautilus\n\nWhen Ceph Nautilus is used (Train/Victoria/Ussuri) Centos 8 repos\nshould be kept.\nThis is required because Nautilus has never been migrated to 8-stream.\n\nCloses-Bug: #1958782\nChange-Id: I8724c7225441a7717d189c19d63d3169239a91e8\n'}]",4,826025,8c402732195f680e7bf8197030cb5a25d45df5a9,15,9,2,25402,,,0,"Keep centos 8 for train/victoria/ussuri with Nautilus

When Ceph Nautilus is used (Train/Victoria/Ussuri) Centos 8 repos
should be kept.
This is required because Nautilus has never been migrated to 8-stream.

Closes-Bug: #1958782
Change-Id: I8724c7225441a7717d189c19d63d3169239a91e8
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/25/826025/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/module_utils/tripleo_repos/main.py'],1,2178ca1fada07791ff03c9d913acdf6af7c262e7,, centos_release = '8' if release == 'nautilus' else '8-stream', centos_release = '8-stream',1,1
openstack%2Fansible-collection-kolla~master~I0f7670e7cb418e335c6db8474c199b35e816cc16,openstack/ansible-collection-kolla,master,I0f7670e7cb418e335c6db8474c199b35e816cc16,Import baremetal role from kolla-ansible,MERGED,2021-12-02 13:09:37.000000000,2022-01-24 13:13:11.000000000,2022-01-24 13:05:49.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-12-02 13:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/e7e8825002a5ea6d4e8fa5b770c1b335df0bab39', 'message': 'Import baremetal role from kolla-ansible\n\nRole imported from kolla-ansible@999e3dbc97adc42917c527e8f845fd8779df559c\n\nChange-Id: I0f7670e7cb418e335c6db8474c199b35e816cc16\n'}, {'number': 2, 'created': '2021-12-06 16:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/c1d29fe674e26b18cbe2c88fe23ecc8d7bd6a58c', 'message': 'Import baremetal role from kolla-ansible\n\nRole imported from kolla-ansible@999e3dbc97adc42917c527e8f845fd8779df559c\n\nChange-Id: I0f7670e7cb418e335c6db8474c199b35e816cc16\n'}, {'number': 3, 'created': '2021-12-06 16:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/e507b83edc28a52af39b0420a4b76e1d647c435b', 'message': 'Import baremetal role from kolla-ansible\n\nRole imported from kolla-ansible@999e3dbc97adc42917c527e8f845fd8779df559c\n\nChange-Id: I0f7670e7cb418e335c6db8474c199b35e816cc16\n'}, {'number': 4, 'created': '2021-12-07 15:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/87b2ba0c138f4e7710727ac2d974552ea8fe5ca1', 'message': 'Import baremetal role from kolla-ansible\n\nRole imported from kolla-ansible@999e3dbc97adc42917c527e8f845fd8779df559c\n\nChange-Id: I0f7670e7cb418e335c6db8474c199b35e816cc16\n'}, {'number': 5, 'created': '2021-12-08 11:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/21d664ec2de506bbe7fe153448fb42882fcd48f6', 'message': ""Import baremetal role from kolla-ansible\n\nRole imported from kolla-ansible@999e3dbc97adc42917c527e8f845fd8779df559c\n\nFixes an 'issue' found by Ansible sanity checks in the zun-cni.j2\ntemplate, replacing the shebang #!/bin/bash with #!/usr/bin/env bash.\n\nChange-Id: I0f7670e7cb418e335c6db8474c199b35e816cc16\n""}, {'number': 6, 'created': '2021-12-08 17:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/957d47951b1ad4ea6a415a7c38ad8c51c2109fc6', 'message': ""Import baremetal role from kolla-ansible\n\nRole imported from kolla-ansible@999e3dbc97adc42917c527e8f845fd8779df559c\n\nFixes an 'issue' found by Ansible sanity checks in the zun-cni.j2\ntemplate, replacing the shebang #!/bin/bash with #!/usr/bin/env bash.\n\nChange-Id: I0f7670e7cb418e335c6db8474c199b35e816cc16\n""}, {'number': 7, 'created': '2021-12-09 12:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/edc68758038988d03b788fa5a5a74f7df954ccb3', 'message': ""Import baremetal role from kolla-ansible\n\nRole imported from kolla-ansible@999e3dbc97adc42917c527e8f845fd8779df559c\n\nFixes an 'issue' found by Ansible sanity checks in the zun-cni.j2\ntemplate, replacing the shebang #!/bin/bash with #!/usr/bin/env bash.\n\nChange-Id: I0f7670e7cb418e335c6db8474c199b35e816cc16\n""}, {'number': 8, 'created': '2022-01-18 11:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/4bcf009e43dbe03b47b1adc54d912fb01b482631', 'message': ""Import baremetal role from kolla-ansible\n\nRole imported from kolla-ansible@999e3dbc97adc42917c527e8f845fd8779df559c\n\nFixes an 'issue' found by Ansible sanity checks in the zun-cni.j2\ntemplate, replacing the shebang #!/bin/bash with #!/usr/bin/env bash.\n\nChange-Id: I0f7670e7cb418e335c6db8474c199b35e816cc16\n""}, {'number': 9, 'created': '2022-01-18 11:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/6d4d073b59c866da23e3c5193aac4e2cc24b7ff8', 'message': ""Import baremetal role from kolla-ansible\n\nRole imported from kolla-ansible@999e3dbc97adc42917c527e8f845fd8779df559c\n\nFixes an 'issue' found by Ansible sanity checks in the zun-cni.j2\ntemplate, replacing the shebang #!/bin/bash with #!/usr/bin/env bash.\n\nChange-Id: I0f7670e7cb418e335c6db8474c199b35e816cc16\n""}, {'number': 10, 'created': '2022-01-18 20:03:52.000000000', 'files': ['roles/baremetal/defaults/main.yml', 'roles/baremetal/tasks/pre-install.yml', 'roles/baremetal/templates/10-zun-cni.conf.j2', 'roles/baremetal/tasks/post-install.yml', 'roles/baremetal/templates/docker_systemd_service.j2', 'roles/baremetal/vars/main.yml', 'roles/baremetal/templates/containerd_config.toml.j2', 'roles/baremetal/tasks/check.yml', 'roles/baremetal/tasks/install.yml', 'roles/baremetal/tasks/main.yml', 'roles/baremetal/templates/zun-cni.j2', 'roles/baremetal/tasks/configure-containerd-for-zun.yml', 'roles/baremetal/tasks/bootstrap-servers.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/6d619505065b7131c8999d79c8a125e144ee6bc5', 'message': ""Import baremetal role from kolla-ansible\n\nRole imported from kolla-ansible@646868ebf4a94583d2bc6e6441551885479a6dd9\n\nFixes an 'issue' found by Ansible sanity checks in the zun-cni.j2\ntemplate, replacing the shebang #!/bin/bash with #!/usr/bin/env bash.\n\nChange-Id: I0f7670e7cb418e335c6db8474c199b35e816cc16\n""}]",0,820168,6d619505065b7131c8999d79c8a125e144ee6bc5,26,3,10,14826,,,0,"Import baremetal role from kolla-ansible

Role imported from kolla-ansible@646868ebf4a94583d2bc6e6441551885479a6dd9

Fixes an 'issue' found by Ansible sanity checks in the zun-cni.j2
template, replacing the shebang #!/bin/bash with #!/usr/bin/env bash.

Change-Id: I0f7670e7cb418e335c6db8474c199b35e816cc16
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/68/820168/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/baremetal/defaults/main.yml', 'roles/baremetal/tasks/pre-install.yml', 'roles/baremetal/templates/10-zun-cni.conf.j2', 'roles/baremetal/tasks/post-install.yml', 'roles/baremetal/templates/docker_systemd_service.j2', 'roles/baremetal/vars/main.yml', 'roles/baremetal/templates/containerd_config.toml.j2', 'roles/baremetal/tasks/check.yml', 'roles/baremetal/tasks/install.yml', 'roles/baremetal/tasks/main.yml', 'roles/baremetal/templates/zun-cni.j2', 'roles/baremetal/tasks/configure-containerd-for-zun.yml', 'roles/baremetal/tasks/bootstrap-servers.yml']",13,e7e8825002a5ea6d4e8fa5b770c1b335df0bab39,,"--- - import_tasks: pre-install.yml - import_tasks: install.yml - import_tasks: post-install.yml - include_tasks: configure-containerd-for-zun.yml when: - containerd_configure_for_zun|bool - ""'zun-cni-daemon' in group_names"" ",,749,0
openstack%2Fansible-collection-kolla~master~I09ab26b9383d3d415bba735fc0d72e7c88a288b4,openstack/ansible-collection-kolla,master,I09ab26b9383d3d415bba735fc0d72e7c88a288b4,Initialise Ansible collection,MERGED,2021-12-02 13:09:37.000000000,2022-01-24 13:12:02.000000000,2022-01-24 13:05:44.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-12-02 13:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/db40ebec5cce8a2a044144a12cc4864ea07614eb', 'message': 'Initial Cookiecutter Commit\n\nMade a few changes to the cookiecutter output, including removing the\npython module structure.\n\nChange-Id: I09ab26b9383d3d415bba735fc0d72e7c88a288b4\n'}, {'number': 2, 'created': '2022-01-17 11:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/362bf41925860fd263a570b3639158281f2584a7', 'message': 'Initialise Ansible collection\n\nThis change was created using the OpenStack cookiecutter. A few changes\nwere made to the cookiecutter output, including removing the python\nmodule structure.\n\nNext, the Ansible collection directory structure was initiatilised via:\n\n    ansible-galaxy collection init openstack.kolla\n\ngalaxy.yml has been updated to add project metadata.\n\nSome of the basic repository content has been adapted from\nkolla-ansible.\n\nThe documentation has been cleansed of boilerplate, and the contributor\nguide initialised.\n\nCI jobs for docs have been added.\n\nChange-Id: I09ab26b9383d3d415bba735fc0d72e7c88a288b4\n'}, {'number': 3, 'created': '2022-01-17 11:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/6ad9f2c96809d590655255d4f83e8bce12e2f1c7', 'message': 'Initialise Ansible collection\n\nThis change was created using the OpenStack cookiecutter. A few changes\nwere made to the cookiecutter output, including removing the python\nmodule structure.\n\nNext, the Ansible collection directory structure was initiatilised via:\n\n    ansible-galaxy collection init openstack.kolla\n\ngalaxy.yml has been updated to add project metadata.\n\nSome of the basic repository content has been adapted from\nkolla-ansible.\n\nThe documentation has been cleansed of boilerplate, and the contributor\nguide initialised.\n\nCI jobs for docs have been added.\n\nChange-Id: I09ab26b9383d3d415bba735fc0d72e7c88a288b4\n'}, {'number': 4, 'created': '2022-01-17 16:24:30.000000000', 'files': ['galaxy.yml', '.gitignore', '.yamllint', 'test-requirements.txt', 'setup.py', 'releasenotes/source/_templates/.placeholder', 'COPYING', 'doc/source/contributor/contributing.rst', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'requirements.txt', 'doc/source/contributor/index.rst', 'releasenotes/source/_static/.placeholder', '.coveragerc', '.stestr.conf', 'doc/source/conf.py', 'releasenotes/source/index.rst', 'README.md', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'zuul.d/project.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini', 'HACKING.rst', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/a3acb4efb0ab84ed1a5fb9cb3f7bb7b9785abed6', 'message': 'Initialise Ansible collection\n\nThis change was created using the OpenStack cookiecutter. A few changes\nwere made to the cookiecutter output, including removing the python\nmodule structure.\n\nNext, the Ansible collection directory structure was initiatilised via:\n\n    ansible-galaxy collection init openstack.kolla\n\ngalaxy.yml has been updated to add project metadata.\n\nSome of the basic repository content has been adapted from\nkolla-ansible.\n\nThe documentation has been cleansed of boilerplate, and the contributor\nguide initialised.\n\nCI jobs for docs have been added.\n\nChange-Id: I09ab26b9383d3d415bba735fc0d72e7c88a288b4\n'}]",8,820165,a3acb4efb0ab84ed1a5fb9cb3f7bb7b9785abed6,18,3,4,14826,,,0,"Initialise Ansible collection

This change was created using the OpenStack cookiecutter. A few changes
were made to the cookiecutter output, including removing the python
module structure.

Next, the Ansible collection directory structure was initiatilised via:

    ansible-galaxy collection init openstack.kolla

galaxy.yml has been updated to add project metadata.

Some of the basic repository content has been adapted from
kolla-ansible.

The documentation has been cleansed of boilerplate, and the contributor
guide initialised.

CI jobs for docs have been added.

Change-Id: I09ab26b9383d3d415bba735fc0d72e7c88a288b4
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/65/820165/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', '.gitignore', 'doc/source/install/index.rst', 'test-requirements.txt', 'doc/source/library/index.rst', 'README.rst', 'setup.py', 'doc/source/install/get_started.rst', 'releasenotes/source/_templates/.placeholder', 'doc/source/contributor/contributing.rst', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'doc/source/install/install-ubuntu.rst', 'requirements.txt', 'doc/source/contributor/index.rst', 'doc/source/install/common_configure.rst', 'releasenotes/source/_static/.placeholder', 'doc/source/install/next-steps.rst', '.coveragerc', 'LICENSE', '.stestr.conf', 'doc/source/reference/index.rst', 'doc/source/user/index.rst', 'doc/source/install/common_prerequisites.rst', '.mailmap', 'doc/source/conf.py', 'lower-constraints.txt', 'releasenotes/source/index.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst', 'doc/source/configuration/index.rst', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'doc/source/install/verify.rst', 'doc/source/cli/index.rst', 'doc/source/install/install.rst', 'doc/requirements.txt', 'doc/source/readme.rst', 'setup.cfg', 'tox.ini', 'HACKING.rst', 'releasenotes/source/conf.py']",42,db40ebec5cce8a2a044144a12cc4864ea07614eb,,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # This file is execfile()d with the current directory set to its # containing dir. # # Note that not all possible configuration values are present in this # autogenerated file. # # All configuration values have a default; values that are commented out # serve to show the default. # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. project = u'ansible-collection-kolla Release Notes' copyright = u'2017, OpenStack Developers' # openstackdocstheme options openstackdocs_repo_name = 'openstack/ansible-collection-kolla' openstackdocs_bug_project = 'ansible-collection-kolla' openstackdocs_bug_tag = '' openstackdocs_auto_name = 'False' # The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'native' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. # html_use_index = True # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. # html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'ansible-collection-kollaReleaseNotesdoc' # -- Options for LaTeX output --------------------------------------------- latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'ansible-collection-kollaReleaseNotes.tex', u'ansible-collection-kolla Release Notes Documentation', u'OpenStack Foundation', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. # latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. # latex_use_parts = False # If true, show page references after internal links. # latex_show_pagerefs = False # If true, show URL addresses after external links. # latex_show_urls = False # Documents to append as an appendix to all manuals. # latex_appendices = [] # If false, no module index is generated. # latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'ansible-collection-kollarereleasenotes', u'ansible-collection-kolla Release Notes Documentation', [u'OpenStack Foundation'], 1) ] # If true, show URL addresses after external links. # man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'ansible-collection-kolla ReleaseNotes', u'ansible-collection-kolla Release Notes Documentation', u'OpenStack Foundation', 'ansible-collection-kollaReleaseNotes', 'One line description of project.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. # texinfo_appendices = [] # If false, no module index is generated. # texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. # texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. # texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ",,1193,0
openstack%2Fansible-collection-kolla~master~I89fb9ccf03e445d1830dd5d525021cc5679d54a1,openstack/ansible-collection-kolla,master,I89fb9ccf03e445d1830dd5d525021cc5679d54a1,CI: add ansible-lint to linters job,MERGED,2021-12-09 12:14:02.000000000,2022-01-24 13:05:47.000000000,2022-01-24 13:05:47.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-12-09 12:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/cca3d095e8cb6d9046604cf33978d1b4496099e3', 'message': 'CI: add ansible-lint to linters job\n\nAdapted from kolla-ansible setup.\n\nChange-Id: I89fb9ccf03e445d1830dd5d525021cc5679d54a1\n'}, {'number': 2, 'created': '2022-01-17 11:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/d3c8f577dd0e4c2d320cc7aa842276ad92f22218', 'message': 'CI: add ansible-lint to linters job\n\nAdapted from kolla-ansible setup.\n\nChange-Id: I89fb9ccf03e445d1830dd5d525021cc5679d54a1\n'}, {'number': 3, 'created': '2022-01-17 11:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/0204897e21aba89a3b5ea1b85d22d985005b294b', 'message': 'CI: add ansible-lint to linters job\n\nAdapted from kolla-ansible setup.\n\nChange-Id: I89fb9ccf03e445d1830dd5d525021cc5679d54a1\n'}, {'number': 4, 'created': '2022-01-18 11:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/fa91c92d6ce03fafab07c5e6f48e3e2d24ff4ee0', 'message': 'CI: add ansible-lint to linters job\n\nAdapted from kolla-ansible setup.\n\nChange-Id: I89fb9ccf03e445d1830dd5d525021cc5679d54a1\n'}, {'number': 5, 'created': '2022-01-18 11:34:24.000000000', 'files': ['test-requirements.txt', 'tox.ini', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/5ac4536244fda97b62d5c7cc9706762145749f3d', 'message': 'CI: add ansible-lint to linters job\n\nAdapted from kolla-ansible setup.\n\nChange-Id: I89fb9ccf03e445d1830dd5d525021cc5679d54a1\n'}]",2,821200,5ac4536244fda97b62d5c7cc9706762145749f3d,16,3,5,14826,,,0,"CI: add ansible-lint to linters job

Adapted from kolla-ansible setup.

Change-Id: I89fb9ccf03e445d1830dd5d525021cc5679d54a1
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/00/821200/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini', '.ansible-lint']",3,cca3d095e8cb6d9046604cf33978d1b4496099e3,gerrit,--- use_default_rules: true skip_list: # [E503] Tasks that run when changed should likely be handlers # TODO(mnasiadka): Rework roles to do handlers instead of when: *.changed - no-handler # [E208] permissions not mentioned # FIXME(mnasiadka): Rework file/template to include permissions - risky-file-permissions # [unnamed-task] All tasks should be named # FIXME(mgoddard): Add names to all tasks - unnamed-task # [ignore-errors] Use failed_when and specify error conditions instead of using ignore_errors # FIXME(mgoddard): Use failed_when instead of ignore_errors - ignore-errors ,,22,1
openstack%2Fansible-collection-kolla~master~I494b6d62c67ab66255f7a6a9e229f14021d48800,openstack/ansible-collection-kolla,master,I494b6d62c67ab66255f7a6a9e229f14021d48800,CI: run ansible-test sanity checks,MERGED,2021-12-07 15:20:38.000000000,2022-01-24 13:05:46.000000000,2022-01-24 13:05:46.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-12-07 15:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/c2578d537cbb140e859ca3626f6279ee1cea7641', 'message': 'CI: run ansible-test sanity checks\n\nThe script has been adapted from one in ansible-collections-openstack.\n\nChange-Id: I494b6d62c67ab66255f7a6a9e229f14021d48800\n'}, {'number': 2, 'created': '2021-12-08 17:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/3e7ad65fc5e7b4c672fb28b2928ef30ead2c0225', 'message': 'CI: run ansible-test sanity checks\n\nThe script has been adapted from one in ansible-collections-openstack.\n\nChange-Id: I494b6d62c67ab66255f7a6a9e229f14021d48800\n'}, {'number': 3, 'created': '2022-01-17 11:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/efb11bbac9bc9477a434ef4e98d04e6098f093f1', 'message': 'CI: run ansible-test sanity checks\n\nThe script has been adapted from one in ansible-collections-openstack.\n\nChange-Id: I494b6d62c67ab66255f7a6a9e229f14021d48800\n'}, {'number': 4, 'created': '2022-01-17 11:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/aa5175ba67fa9ef643f176831c379fd8084323fb', 'message': 'CI: run ansible-test sanity checks\n\nThe script has been adapted from one in ansible-collections-openstack.\n\nChange-Id: I494b6d62c67ab66255f7a6a9e229f14021d48800\n'}, {'number': 5, 'created': '2022-01-18 11:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/cdb132026e83a3dce2a30afd0b609690cf169a81', 'message': 'CI: run ansible-test sanity checks\n\nThe script has been adapted from one in ansible-collections-openstack.\n\nChange-Id: I494b6d62c67ab66255f7a6a9e229f14021d48800\n'}, {'number': 6, 'created': '2022-01-18 11:34:17.000000000', 'files': ['galaxy.yml', 'tools/run-ansible-sanity.sh', 'test-requirements.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/54d545a614f5c3e31b58d7d4713a400160b7bae4', 'message': 'CI: run ansible-test sanity checks\n\nThe script has been adapted from one in ansible-collections-openstack.\n\nChange-Id: I494b6d62c67ab66255f7a6a9e229f14021d48800\n'}]",5,820902,54d545a614f5c3e31b58d7d4713a400160b7bae4,20,3,6,14826,,,0,"CI: run ansible-test sanity checks

The script has been adapted from one in ansible-collections-openstack.

Change-Id: I494b6d62c67ab66255f7a6a9e229f14021d48800
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/02/820902/2 && git format-patch -1 --stdout FETCH_HEAD,"['galaxy.yml', 'tools/run-ansible-sanity.sh', 'test-requirements.txt', 'tox.ini']",4,c2578d537cbb140e859ca3626f6279ee1cea7641,gerrit,passenv = * {[testenv:ansible-sanity]commands} [testenv:ansible-sanity] deps = {[testenv:linters]deps} commands = {toxinidir}/tools/run-ansible-sanity.sh {toxinidir},,53,0
openstack%2Fopenstack-tempest-skiplist~master~Ifcadbf47ad3ec5cea82f83e6a8dd54dbad5e8af7,openstack/openstack-tempest-skiplist,master,Ifcadbf47ad3ec5cea82f83e6a8dd54dbad5e8af7,"Revert ""Move test_trunk_subport_lifecycle to skip list""",MERGED,2022-01-05 07:18:12.000000000,2022-01-24 12:29:16.000000000,2022-01-24 12:27:41.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-01-05 07:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/3d33b3f3cfe33b2cacce8db7fd55e8d5d670b3f8', 'message': 'Revert ""Move test_trunk_subport_lifecycle to skip list""\n\nThis reverts commit 1356cdb8866cdc81c3fbb08ce91e965b0f1331d7.\n\nChange-Id: Ifcadbf47ad3ec5cea82f83e6a8dd54dbad5e8af7\n'}, {'number': 2, 'created': '2022-01-21 12:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/06ea897ef2cd5b4283c9083a7ff915145026ad46', 'message': 'Revert ""Move test_trunk_subport_lifecycle to skip list""\n\nThis reverts commit 1356cdb8866cdc81c3fbb08ce91e965b0f1331d7.\n\nChange-Id: Ifcadbf47ad3ec5cea82f83e6a8dd54dbad5e8af7\n'}, {'number': 3, 'created': '2022-01-24 07:15:13.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/b3f7cbb5cf5d4d6a8899323f1f25f5dbcafc2273', 'message': 'Revert ""Move test_trunk_subport_lifecycle to skip list""\n\nThis reverts commit 1356cdb8866cdc81c3fbb08ce91e965b0f1331d7.\n\nCloses-Bug: #1956233\nChange-Id: Ifcadbf47ad3ec5cea82f83e6a8dd54dbad5e8af7\n'}]",0,823480,b3f7cbb5cf5d4d6a8899323f1f25f5dbcafc2273,12,6,3,11975,,,0,"Revert ""Move test_trunk_subport_lifecycle to skip list""

This reverts commit 1356cdb8866cdc81c3fbb08ce91e965b0f1331d7.

Closes-Bug: #1956233
Change-Id: Ifcadbf47ad3ec5cea82f83e6a8dd54dbad5e8af7
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/80/823480/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,3d33b3f3cfe33b2cacce8db7fd55e8d5d670b3f8,bug/1956233,, - test: 'neutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_trunk_subport_lifecycle' deployment: - 'overcloud' releases: - name: master reason: Test timed out waiting for port <> to transition to get status DOWN installers: - 'tripleo' lp: https://bugs.launchpad.net/tripleo/+bug/1956233 jobs: - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-master - periodic-tripleo-ci-centos-8-ovb-1ctlr_2comp-featureset020-master - periodic-tripleo-ci-centos-9-standalone-full-tempest-scenario-master,0,13
openstack%2Foslo.utils~stable%2Fvictoria~Ia02154a1eb04434658a21adf82599ae55302e310,openstack/oslo.utils,stable/victoria,Ia02154a1eb04434658a21adf82599ae55302e310,Dropping lower constraints testing,MERGED,2022-01-19 14:24:17.000000000,2022-01-24 12:21:12.000000000,2022-01-24 12:15:01.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-19 14:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/7758e63636f06f1fda02ff036221c292275f63de', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ia02154a1eb04434658a21adf82599ae55302e310\n(cherry picked from commit c4e3576c63f8f12dc1b2c3ff9bf0350042cd1703)\n'}, {'number': 2, 'created': '2022-01-19 14:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/40bf54d889422b608411b739f1d319e3ac318094', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ia02154a1eb04434658a21adf82599ae55302e310\n(cherry picked from commit c4e3576c63f8f12dc1b2c3ff9bf0350042cd1703)\n'}, {'number': 3, 'created': '2022-01-19 14:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/411b19d1fda0e0b6b85dd5e0c271e2418dedbbda', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\nContain also the patch[2] to remove the tox environment and the patch[3] to\nremove the lower-constraints.txt file.\n\nhttps://review.opendev.org/c/openstack/oslo.utils/+/787867\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2] https://review.opendev.org/c/openstack/oslo.utils/+/772630\n[3] https://review.opendev.org/c/openstack/oslo.utils/+/787867\n\nChange-Id: Ia02154a1eb04434658a21adf82599ae55302e310\n(cherry picked from commit c4e3576c63f8f12dc1b2c3ff9bf0350042cd1703)\n'}, {'number': 4, 'created': '2022-01-20 10:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/f84b3f3fa38ab619ab776283192e8d58f3dd4cee', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\nContain also the patch[2] to remove the tox environment and the patch[3] to\nremove the lower-constraints.txt file.\n\nhttps://review.opendev.org/c/openstack/oslo.utils/+/787867\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2] https://review.opendev.org/c/openstack/oslo.utils/+/772630\n[3] https://review.opendev.org/c/openstack/oslo.utils/+/787867\n\nChange-Id: Ia02154a1eb04434658a21adf82599ae55302e310\n(cherry picked from commit c4e3576c63f8f12dc1b2c3ff9bf0350042cd1703)\n'}, {'number': 5, 'created': '2022-01-21 10:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/d5c66691def7b3a583cb0081835d8b5718ca7412', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\nContain also the patch[2] to remove the tox environment and the patch[3] to\nremove the lower-constraints.txt file.\n\nhttps://review.opendev.org/c/openstack/oslo.utils/+/787867\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2] https://review.opendev.org/c/openstack/oslo.utils/+/772630\n[3] https://review.opendev.org/c/openstack/oslo.utils/+/787867\n\nChange-Id: Ia02154a1eb04434658a21adf82599ae55302e310\n(cherry picked from commit 4cc3a558244769017ed5d8c3a6e4a63429d1e8e9)\n(cherry picked from commit c4e3576c63f8f12dc1b2c3ff9bf0350042cd1703)\n'}, {'number': 6, 'created': '2022-01-24 09:13:57.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/125617dcb444739eb19e2d4f3372b65fa49e926a', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\nContain also the patch[2] to remove the tox environment and the patch[3] to\nremove the lower-constraints.txt file.\n\nhttps://review.opendev.org/c/openstack/oslo.utils/+/787867\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2] https://review.opendev.org/c/openstack/oslo.utils/+/772630\n[3] https://review.opendev.org/c/openstack/oslo.utils/+/787867\n\nChange-Id: Ia02154a1eb04434658a21adf82599ae55302e310\n(cherry picked from commit 4cc3a558244769017ed5d8c3a6e4a63429d1e8e9)\n(cherry picked from commit c4e3576c63f8f12dc1b2c3ff9bf0350042cd1703)\n'}]",8,825316,125617dcb444739eb19e2d4f3372b65fa49e926a,27,3,6,31245,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

Contain also the patch[2] to remove the tox environment and the patch[3] to
remove the lower-constraints.txt file.

https://review.opendev.org/c/openstack/oslo.utils/+/787867

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html
[2] https://review.opendev.org/c/openstack/oslo.utils/+/772630
[3] https://review.opendev.org/c/openstack/oslo.utils/+/787867

Change-Id: Ia02154a1eb04434658a21adf82599ae55302e310
(cherry picked from commit 4cc3a558244769017ed5d8c3a6e4a63429d1e8e9)
(cherry picked from commit c4e3576c63f8f12dc1b2c3ff9bf0350042cd1703)
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/16/825316/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7758e63636f06f1fda02ff036221c292275f63de,,, - openstack-lower-constraints-jobs,0,1
openstack%2Fansible-role-qdrouterd~stable%2Fwallaby~I2991e5f58f086ace6e5238b28450a5503129e49c,openstack/ansible-role-qdrouterd,stable/wallaby,I2991e5f58f086ace6e5238b28450a5503129e49c,Remove centos-8 job and tidy role metadata,MERGED,2022-01-13 13:30:36.000000000,2022-01-24 12:10:34.000000000,2022-01-24 12:04:48.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-13 13:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/90520b1889a2ef327070b5fbc23069c40821fd6e', 'message': 'Remove centos-8 job and tidy role metadata\n\nChange-Id: I2991e5f58f086ace6e5238b28450a5503129e49c\n(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)\n'}, {'number': 2, 'created': '2022-01-13 14:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/a68f69835b3783cd3814e8f4af0a27b1693f33aa', 'message': 'Remove centos-8 job and tidy role metadata\n\nAlso add the PKI role to the role requirements otherwise the tests all\nfail straight away.\n\nChange-Id: I2991e5f58f086ace6e5238b28450a5503129e49c\n(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)\n'}, {'number': 3, 'created': '2022-01-21 17:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/094dbcc586774aef26c92e1fa7fca4a8e0f5d410', 'message': 'Remove centos-8 job and tidy role metadata\n\nAlso add the PKI role to the role requirements otherwise the tests all\nfail straight away.\n\nChange-Id: I2991e5f58f086ace6e5238b28450a5503129e49c\n(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)\n'}, {'number': 4, 'created': '2022-01-21 17:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/f146fd8eab41e18384cce2b29def87afef1f2957', 'message': 'Remove centos-8 job and tidy role metadata\n\nAlso add the PKI role to the role requirements otherwise the tests all\nfail straight away.\n\nChange-Id: I2991e5f58f086ace6e5238b28450a5503129e49c\n(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)\n'}, {'number': 5, 'created': '2022-01-21 17:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/6839e3748760b879dc57a794e18a1edf586bb38a', 'message': 'Remove centos-8 job and tidy role metadata\n\nAlso add the PKI role to the role requirements otherwise the tests all\nfail straight away.\n\nChange-Id: I2991e5f58f086ace6e5238b28450a5503129e49c\n(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)\n'}, {'number': 6, 'created': '2022-01-21 18:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/9a6f4d53f0bf95c733040e362efa2bef016c6407', 'message': 'Remove centos-8 job and tidy role metadata\n\nAlso add the PKI and plugins role to the role requirements otherwise the tests all\nfail straight away.\n\nChange-Id: I2991e5f58f086ace6e5238b28450a5503129e49c\n(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)\n'}, {'number': 7, 'created': '2022-01-21 19:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/29fb47ea18d3e0ba8cfa1f97559829e990d1cb3b', 'message': 'Remove centos-8 job and tidy role metadata\n\nAlso add the PKI and plugins role to the role requirements otherwise the tests all\nfail straight away.\n\nChange-Id: I2991e5f58f086ace6e5238b28450a5503129e49c\n(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)\n'}, {'number': 8, 'created': '2022-01-21 19:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/b868ffd4c1aae9a56e24a70d2018412f018a0cc1', 'message': 'Remove centos-8 job and tidy role metadata\n\nAlso add the PKI and plugins role to the role requirements otherwise the tests all\nfail straight away.\n\nChange-Id: I2991e5f58f086ace6e5238b28450a5503129e49c\n(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)\n'}, {'number': 9, 'created': '2022-01-21 20:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/89e5c0a71090c8f4c640e1a34713e733077b0f10', 'message': 'Remove centos-8 job and tidy role metadata\n\nAlso add the PKI and plugins role to the role requirements otherwise the tests all\nfail straight away.\n\nChange-Id: I2991e5f58f086ace6e5238b28450a5503129e49c\n(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)\n'}, {'number': 10, 'created': '2022-01-21 20:25:51.000000000', 'files': ['tests/ansible-role-requirements.yml', '.gitreview', 'examples/playbook.yml', 'zuul.d/project.yaml', 'tox.ini', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/dae22fa4e0b68185ca1c081e00bc7e732f166af7', 'message': 'Remove centos-8 job and tidy role metadata\n\nAlso add the PKI role to the role requirements otherwise the tests all\nfail straight away.\n\nChange-Id: I2991e5f58f086ace6e5238b28450a5503129e49c\n(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)\n'}]",3,824537,dae22fa4e0b68185ca1c081e00bc7e732f166af7,27,3,10,25023,,,0,"Remove centos-8 job and tidy role metadata

Also add the PKI role to the role requirements otherwise the tests all
fail straight away.

Change-Id: I2991e5f58f086ace6e5238b28450a5503129e49c
(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)
",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/37/824537/10 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'meta/main.yml']",2,90520b1889a2ef327070b5fbc23069c40821fd6e,osa/remove-centos8, - focal, - xenial,1,3
openstack%2Fironic~stable%2Fxena~Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e,openstack/ironic,stable/xena,Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e,Remove redfish cache entry upon errors,MERGED,2021-12-06 19:54:58.000000000,2022-01-24 11:57:36.000000000,2022-01-24 11:53:16.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-12-06 19:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/01997c8418b9e6ade47437b09dd9412310b90eac', 'message': ""Remove redfish cache entry upon errors\n\nSome transient errors can ultimately cause the client to need to be\ncompletely restarted due to cached connection data.\n\nIronic now explicitly removes the cache entry when a sushy\nAccessError or python AttributeError is detected originating\nfrom the library. This will now result in the prior cached connection\nobject to be discarded, and upon the next attempt to interact with\nthe same node, a new connection will be launched.\n\nThis will result in new sessions being created, but in all likelihood\nthe prior session had already timed out or had been administratively\nremoved. Sushy's code, as of\nhttps://review.opendev.org/c/openstack/sushy/+/820076\nwill raise SessionService lookup access errors as AccessErrors.\nPrior to that change, they should have been raised as AttributeError\nas the previous call sould have returned None to be used as an object.\n\n*Also* Includes follow-up change Ia59f774c9340e3a6fa63418afedf12098c709052\nsquashed into this change.\n\nChange-Id: Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e\nStory: 2009719\nTask: 44107\n(cherry picked from commit 1439af27ba2bd31fb85369754c648a45ee9ca14b)\n""}, {'number': 2, 'created': '2021-12-06 21:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ab5495eecb409b37ad853a679032d6cdb4fefc72', 'message': ""Remove redfish cache entry upon errors\n\nSome transient errors can ultimately cause the client to need to be\ncompletely restarted due to cached connection data.\n\nIronic now explicitly removes the cache entry when a sushy\nAccessError or python AttributeError is detected originating\nfrom the library. This will now result in the prior cached connection\nobject to be discarded, and upon the next attempt to interact with\nthe same node, a new connection will be launched.\n\nThis will result in new sessions being created, but in all likelihood\nthe prior session had already timed out or had been administratively\nremoved. Sushy's code, as of\nhttps://review.opendev.org/c/openstack/sushy/+/820076\nwill raise SessionService lookup access errors as AccessErrors.\nPrior to that change, they should have been raised as AttributeError\nas the previous call sould have returned None to be used as an object.\n\n*Also* Includes follow-up change Ia59f774c9340e3a6fa63418afedf12098c709052\nsquashed into this change, and necessary backport friendly mock of\nAccessError which had changed since this release of ironic.\n\nChange-Id: Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e\nStory: 2009719\nTask: 44107\n(cherry picked from commit 1439af27ba2bd31fb85369754c648a45ee9ca14b)\n(cherry picked from commit 01997c8418b9e6ade47437b09dd9412310b90eac)\n(cherry picked from commit e3e7deaf48a5315fe10350e8a87b2fcc4e189406)\n""}, {'number': 3, 'created': '2021-12-07 17:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/18b83384382d580622156e033784899769b452eb', 'message': ""Remove redfish cache entry upon errors\n\nSome transient errors can ultimately cause the client to need to be\ncompletely restarted due to cached connection data.\n\nIronic now explicitly removes the cache entry when a sushy\nAccessError or python AttributeError is detected originating\nfrom the library. This will now result in the prior cached connection\nobject to be discarded, and upon the next attempt to interact with\nthe same node, a new connection will be launched.\n\nThis will result in new sessions being created, but in all likelihood\nthe prior session had already timed out or had been administratively\nremoved. Sushy's code, as of\nhttps://review.opendev.org/c/openstack/sushy/+/820076\nwill raise SessionService lookup access errors as AccessErrors.\nPrior to that change, they should have been raised as AttributeError\nas the previous call sould have returned None to be used as an object.\n\n*Also* Includes follow-up change Ia59f774c9340e3a6fa63418afedf12098c709052\nsquashed into this change, and necessary backport friendly mock of\nAccessError which had changed since this release of ironic.\n\nChange-Id: Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e\nStory: 2009719\nTask: 44107\n(cherry picked from commit 1439af27ba2bd31fb85369754c648a45ee9ca14b)\n(cherry picked from commit 01997c8418b9e6ade47437b09dd9412310b90eac)\n(cherry picked from commit e3e7deaf48a5315fe10350e8a87b2fcc4e189406)\n""}, {'number': 4, 'created': '2021-12-08 17:22:22.000000000', 'files': ['ironic/drivers/modules/redfish/utils.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'releasenotes/notes/redfish-connection-cache-pool-accesserror-743e39a2f017b990.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bb929d508582dae01e6b807d7e534fe5b0d20a11', 'message': ""Remove redfish cache entry upon errors\n\nSome transient errors can ultimately cause the client to need to be\ncompletely restarted due to cached connection data.\n\nIronic now explicitly removes the cache entry when a sushy\nAccessError or python AttributeError is detected originating\nfrom the library. This will now result in the prior cached connection\nobject to be discarded, and upon the next attempt to interact with\nthe same node, a new connection will be launched.\n\nThis will result in new sessions being created, but in all likelihood\nthe prior session had already timed out or had been administratively\nremoved. Sushy's code, as of\nhttps://review.opendev.org/c/openstack/sushy/+/820076\nwill raise SessionService lookup access errors as AccessErrors.\nPrior to that change, they should have been raised as AttributeError\nas the previous call sould have returned None to be used as an object.\n\n*Also* Includes follow-up change Ia59f774c9340e3a6fa63418afedf12098c709052\nsquashed into this change, and necessary backport friendly mock of\nAccessError which had changed since this release of ironic.\n\nChange-Id: Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e\nStory: 2009719\nTask: 44107\n(cherry picked from commit 1439af27ba2bd31fb85369754c648a45ee9ca14b)\n(cherry picked from commit 01997c8418b9e6ade47437b09dd9412310b90eac)\n(cherry picked from commit e3e7deaf48a5315fe10350e8a87b2fcc4e189406)\n""}]",5,820588,bb929d508582dae01e6b807d7e534fe5b0d20a11,36,3,4,11655,,,0,"Remove redfish cache entry upon errors

Some transient errors can ultimately cause the client to need to be
completely restarted due to cached connection data.

Ironic now explicitly removes the cache entry when a sushy
AccessError or python AttributeError is detected originating
from the library. This will now result in the prior cached connection
object to be discarded, and upon the next attempt to interact with
the same node, a new connection will be launched.

This will result in new sessions being created, but in all likelihood
the prior session had already timed out or had been administratively
removed. Sushy's code, as of
https://review.opendev.org/c/openstack/sushy/+/820076
will raise SessionService lookup access errors as AccessErrors.
Prior to that change, they should have been raised as AttributeError
as the previous call sould have returned None to be used as an object.

*Also* Includes follow-up change Ia59f774c9340e3a6fa63418afedf12098c709052
squashed into this change, and necessary backport friendly mock of
AccessError which had changed since this release of ironic.

Change-Id: Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e
Story: 2009719
Task: 44107
(cherry picked from commit 1439af27ba2bd31fb85369754c648a45ee9ca14b)
(cherry picked from commit 01997c8418b9e6ade47437b09dd9412310b90eac)
(cherry picked from commit e3e7deaf48a5315fe10350e8a87b2fcc4e189406)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/88/820588/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/utils.py', 'releasenotes/notes/redfish-connection-cache-pool-accesserror-743e39a2f017b990.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_utils.py']",3,01997c8418b9e6ade47437b09dd9412310b90eac,," fake_conn = mock.Mock() mock_sushy.return_value = fake_conn @mock.patch.object(time, 'sleep', lambda seconds: None) @mock.patch.object(sushy, 'Sushy', autospec=True) @mock.patch('ironic.drivers.modules.redfish.utils.' 'SessionCache._sessions', {}) def test_get_system_resource_access_error_retry(self, mock_sushy): # Sushy access errors HTTP Errors class fake_response(object): status_code = 401 body = None def json(): return {} fake_conn = mock_sushy.return_value fake_system = mock.Mock() fake_conn.get_system.side_effect = iter( [ sushy.exceptions.AccessError( method='GET', url='http://path/to/url', response=fake_response), fake_system, ]) self.assertRaises(exception.RedfishError, redfish_utils.get_system, self.node) # Retry, as in next power sync perhaps client = redfish_utils.get_system(self.node) client('foo') expected_get_system_calls = [ mock.call(self.parsed_driver_info['system_id']), mock.call(self.parsed_driver_info['system_id']), ] fake_conn.get_system.assert_has_calls(expected_get_system_calls) fake_system.assert_called_with('foo') self.assertEqual(fake_conn.get_system.call_count, 2) @mock.patch.object(time, 'sleep', lambda seconds: None) @mock.patch.object(sushy, 'Sushy', autospec=True) @mock.patch('ironic.drivers.modules.redfish.utils.' 'SessionCache._sessions', {}) def test_get_system_resource_attribute_error(self, mock_sushy): fake_conn = mock_sushy.return_value fake_system = mock.Mock() fake_conn.get_system.side_effect = iter( [ AttributeError, fake_system, ]) # We need to check for AttributeError explicitly as # otherwise we break existing tests if we try to catch # it explicitly. self.assertRaises(exception.RedfishError, redfish_utils.get_system, self.node) # Retry, as in next power sync perhaps client = redfish_utils.get_system(self.node) client('bar') expected_get_system_calls = [ mock.call(self.parsed_driver_info['system_id']), mock.call(self.parsed_driver_info['system_id']), ] fake_conn.get_system.assert_has_calls(expected_get_system_calls) fake_system.assert_called_once_with('bar') self.assertEqual(fake_conn.get_system.call_count, 2)", fake_conn = mock_sushy.return_value,111,1
openstack%2Fneutron~master~I570b2251da8a4a25d155ba838346b24afafd727f,openstack/neutron,master,I570b2251da8a4a25d155ba838346b24afafd727f,[OVN] Check new added segments in OVN mech driver,MERGED,2021-11-05 15:42:17.000000000,2022-01-24 11:57:35.000000000,2022-01-24 11:46:52.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-11-05 15:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2aff3c346da728cda2329a8e5aedc766ba4ad59', 'message': '[WIP][OVN] Check new added segments in OVN mech driver\n\nTODO: add description\n\nCloses-Bug: #1949967\nChange-Id: I570b2251da8a4a25d155ba838346b24afafd727f\n'}, {'number': 2, 'created': '2021-11-05 15:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/13a805187193f326b51893fa7d0aa3df45a281bc', 'message': '[WIP][OVN] Check new added segments in OVN mech driver\n\nTODO: add description\n\nCloses-Bug: #1949967\nChange-Id: I570b2251da8a4a25d155ba838346b24afafd727f\n'}, {'number': 3, 'created': '2021-11-10 14:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43e9e8ee0fced15318b9f4a48b00dcf2d37ad5c5', 'message': '[OVN] Check new added segments in OVN mech driver\n\nCheck new segments added to OVN mechanism driver. This mechanism\ndriver does not inherit from ``SimpleAgentMechanismDriverBase``\nbecause OVN has no agents (NOTE 1). However OVN mechanism driver\nrequires an OVN controller service in each deployed chassis. This\nis how OVN driver knows the hosts using this backend.\n\nThe segments, attached to an external network (connected to a\nphysical network), can be mapped to a host if ther is a chassis (OVN\ncontroller agent) in this host.\n\nNOTE 1: OVN provides agent API compatibility, presenting the\ncontroller and the metadata services as agents. But OVN mechanism\ndriver has no control or provides any information (via RPC) to\nthose services.\n\nCloses-Bug: #1949967\nChange-Id: I570b2251da8a4a25d155ba838346b24afafd727f\n'}, {'number': 4, 'created': '2021-11-11 11:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/409109e4448841faa6de6dd9882362a902aea80f', 'message': '[OVN] Check new added segments in OVN mech driver\n\nCheck new segments added to OVN mechanism driver. This mechanism\ndriver does not inherit from ``SimpleAgentMechanismDriverBase``\nbecause OVN has no agents (NOTE 1). However OVN mechanism driver\nrequires an OVN controller service in each deployed chassis. This\nis how OVN driver knows the hosts using this backend.\n\nThe segments, attached to an external network (connected to a\nphysical network), can be mapped to a host if ther is a chassis (OVN\ncontroller agent) in this host.\n\nNOTE 1: OVN provides agent API compatibility, presenting the\ncontroller and the metadata services as agents. But OVN mechanism\ndriver has no control or provides any information (via RPC) to\nthose services.\n\nCloses-Bug: #1949967\nChange-Id: I570b2251da8a4a25d155ba838346b24afafd727f\n'}, {'number': 5, 'created': '2021-11-12 08:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da75ec978bcbd44603f71d611fd049dea8a96bd4', 'message': '[OVN] Check new added segments in OVN mech driver\n\nCheck new segments added to OVN mechanism driver. This mechanism\ndriver does not inherit from ``SimpleAgentMechanismDriverBase``\nbecause OVN has no agents (NOTE 1). However OVN mechanism driver\nrequires an OVN controller service in each deployed chassis. This\nis how OVN driver knows the hosts using this backend.\n\nThe segments, attached to an external network (connected to a\nphysical network), can be mapped to a host if ther is a chassis (OVN\ncontroller agent) in this host.\n\nNOTE 1: OVN provides agent API compatibility, presenting the\ncontroller and the metadata services as agents. But OVN mechanism\ndriver has no control or provides any information (via RPC) to\nthose services.\n\nCloses-Bug: #1949967\nChange-Id: I570b2251da8a4a25d155ba838346b24afafd727f\n'}, {'number': 6, 'created': '2021-11-19 08:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e698ecf16ff057e9e8c03ce3834a21c0228f806', 'message': '[OVN] Check new added segments in OVN mech driver\n\nCheck new segments added to OVN mechanism driver. This mechanism\ndriver does not inherit from ``SimpleAgentMechanismDriverBase``\nbecause OVN has no agents (NOTE 1). However OVN mechanism driver\nrequires an OVN controller service in each deployed chassis. This\nis how OVN driver knows the hosts using this backend.\n\nThe segments, attached to an external network (connected to a\nphysical network), can be mapped to a host if ther is a chassis (OVN\ncontroller agent) in this host.\n\nNOTE 1: OVN provides agent API compatibility, presenting the\ncontroller and the metadata services as agents. But OVN mechanism\ndriver has no control or provides any information (via RPC) to\nthose services.\n\nCloses-Bug: #1949967\nChange-Id: I570b2251da8a4a25d155ba838346b24afafd727f\n'}, {'number': 7, 'created': '2021-11-23 16:21:51.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/mech_driver/test_mech_openvswitch.py', 'neutron/tests/unit/plugins/ml2/drivers/macvtap/mech_driver/test_mech_macvtap.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/mech_sriov/mech_driver/mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/mech_driver/test_mech_linuxbridge.py', 'neutron/tests/unit/plugins/ml2/_test_mech_agent.py', 'neutron/plugins/ml2/drivers/mech_agent.py', 'neutron/common/ovn/constants.py', 'neutron/tests/unit/plugins/ml2/drivers/mech_sriov/mech_driver/test_mech_sriov_nic_switch.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8427c82dae38154df70400f7d2fe69f0d6c3354', 'message': '[OVN] Check new added segments in OVN mech driver\n\nCheck new segments added to OVN mechanism driver. This mechanism\ndriver does not inherit from ``SimpleAgentMechanismDriverBase``\nbecause OVN has no agents (NOTE 1). However OVN mechanism driver\nrequires an OVN controller service in each deployed chassis. This\nis how OVN driver knows the hosts using this backend.\n\nThe segments, attached to an external network (connected to a\nphysical network), can be mapped to a host if ther is a chassis (OVN\ncontroller agent) in this host.\n\nNOTE 1: OVN provides agent API compatibility, presenting the\ncontroller and the metadata services as agents. But OVN mechanism\ndriver has no control or provides any information (via RPC) to\nthose services.\n\nCloses-Bug: #1949967\nChange-Id: I570b2251da8a4a25d155ba838346b24afafd727f\n'}]",9,816856,c8427c82dae38154df70400f7d2fe69f0d6c3354,42,6,7,16688,,,0,"[OVN] Check new added segments in OVN mech driver

Check new segments added to OVN mechanism driver. This mechanism
driver does not inherit from ``SimpleAgentMechanismDriverBase``
because OVN has no agents (NOTE 1). However OVN mechanism driver
requires an OVN controller service in each deployed chassis. This
is how OVN driver knows the hosts using this backend.

The segments, attached to an external network (connected to a
physical network), can be mapped to a host if ther is a chassis (OVN
controller agent) in this host.

NOTE 1: OVN provides agent API compatibility, presenting the
controller and the metadata services as agents. But OVN mechanism
driver has no control or provides any information (via RPC) to
those services.

Closes-Bug: #1949967
Change-Id: I570b2251da8a4a25d155ba838346b24afafd727f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/816856/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/mech_sriov/mech_driver/mech_driver.py', 'neutron/plugins/ml2/drivers/mech_agent.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",4,e2aff3c346da728cda2329a8e5aedc766ba4ad59,bug/1949967,"from neutron_lib.utils import helpers self.agent_types = (ovn_const.OVN_CONTROLLER_AGENT, ovn_const.OVN_CONTROLLER_GW_AGENT) def check_segment_for_agent(self, segment, agent): """"""Check if the OVN controller agent br mappings has segment physnet"""""" if agent['agent_type'] not in self.agent_types: return False br_mappings = agent.get('configurations', {}).get('bridge-mappings') mapping_dict = helpers.parse_mappings(br_mappings.split(','), unique_values=False) return segment['physical_network'] in mapping_dict ",,21,2
openstack%2Ftripleo-ansible~stable%2Fwallaby~I34b63d159b2d3407ab3636150851327a31812459,openstack/tripleo-ansible,stable/wallaby,I34b63d159b2d3407ab3636150851327a31812459,Switch to centos-8-stream nodesets,MERGED,2022-01-23 23:00:02.000000000,2022-01-24 11:53:51.000000000,2022-01-24 11:53:51.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-23 23:00:02.000000000', 'files': ['zuul.d/molecule.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/57ef5b6dbab920e36a427e7c5a74c183fc1e26b9', 'message': ""Switch to centos-8-stream nodesets\n\nWe still have references to centos-8 nodeset which is going away. Let's\nswitch to centos-8-stream instead.\n\nChange-Id: I34b63d159b2d3407ab3636150851327a31812459\n(cherry picked from commit a45ac23df17dffc3d5621c6ece320b4815ecce81)\n""}]",0,825937,57ef5b6dbab920e36a427e7c5a74c183fc1e26b9,6,2,1,14985,,,0,"Switch to centos-8-stream nodesets

We still have references to centos-8 nodeset which is going away. Let's
switch to centos-8-stream instead.

Change-Id: I34b63d159b2d3407ab3636150851327a31812459
(cherry picked from commit a45ac23df17dffc3d5621c6ece320b4815ecce81)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/37/825937/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'zuul.d/layout.yaml']",2,57ef5b6dbab920e36a427e7c5a74c183fc1e26b9,node-set-stable/wallaby, nodeset: centos-8-stream, nodeset: centos-8,2,2
openstack%2Fneutron~master~Ic9e8586991866ebca0b24bfe691e541c198d18d7,openstack/neutron,master,Ic9e8586991866ebca0b24bfe691e541c198d18d7,[OVN][Placement] Make the Placement reporter compatible with OVN,MERGED,2021-12-15 15:07:15.000000000,2022-01-24 11:53:35.000000000,2022-01-24 11:46:46.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-12-15 15:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb86663fd2775371a181f31a7124adbdce750b7f', 'message': '[OVN][Placement] Make the Placement reporter compatible with OVN\n\nMake the ""PlacementReportPlugin"" and the ""PlacementReporterAgents""\nclasses compatible with agent-less mechanism drivers. OVN mechanism\ndriver cannot report any agent to the supported agent type list.\n\nPartial-Bug: #1578989\nChange-Id: Ic9e8586991866ebca0b24bfe691e541c198d18d7\n'}, {'number': 2, 'created': '2021-12-16 16:49:15.000000000', 'files': ['neutron/services/placement_report/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ae8eba7e73e050369478ba095c03371ed5f5718', 'message': '[OVN][Placement] Make the Placement reporter compatible with OVN\n\nMake the ""PlacementReportPlugin"" and the ""PlacementReporterAgents""\nclasses compatible with agent-less mechanism drivers. OVN mechanism\ndriver cannot report any agent to the supported agent type list.\n\nPartial-Bug: #1578989\nChange-Id: Ic9e8586991866ebca0b24bfe691e541c198d18d7\n'}]",0,821855,0ae8eba7e73e050369478ba095c03371ed5f5718,21,9,2,16688,,,0,"[OVN][Placement] Make the Placement reporter compatible with OVN

Make the ""PlacementReportPlugin"" and the ""PlacementReporterAgents""
classes compatible with agent-less mechanism drivers. OVN mechanism
driver cannot report any agent to the supported agent type list.

Partial-Bug: #1578989
Change-Id: Ic9e8586991866ebca0b24bfe691e541c198d18d7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/821855/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/placement_report/plugin.py'],1,eb86663fd2775371a181f31a7124adbdce750b7f,bug/1578989," self._supported_agent_types = None if self._supported_agent_types is None: if (driver.obj.resource_provider_uuid5_namespace is not None and hasattr(driver.obj, 'agent_type') and driver.obj.agent_type)] supported_agents = ', '.join(self._supported_agent_types) or 'None' supported_agents)"," self._supported_agent_types = [] if not self._supported_agent_types: if driver.obj.resource_provider_uuid5_namespace is not None] ', '.join(self._supported_agent_types))",7,4
openstack%2Freleases~master~Ib3b01b2d34f023774863c0577fc226b2fbf4a764,openstack/releases,master,Ib3b01b2d34f023774863c0577fc226b2fbf4a764,Release neutron-lib 2.19.0 for Yoga,MERGED,2022-01-24 07:36:07.000000000,2022-01-24 11:53:03.000000000,2022-01-24 11:53:03.000000000,"[{'_account_id': 308}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-24 07:36:07.000000000', 'files': ['deliverables/yoga/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5b3c081c37e4bc878eb30c22f5a9d50151e740bd', 'message': 'Release neutron-lib 2.19.0 for Yoga\n\nChange-Id: Ib3b01b2d34f023774863c0577fc226b2fbf4a764\n'}]",1,826021,5b3c081c37e4bc878eb30c22f5a9d50151e740bd,11,5,1,11975,,,0,"Release neutron-lib 2.19.0 for Yoga

Change-Id: Ib3b01b2d34f023774863c0577fc226b2fbf4a764
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/826021/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/neutron-lib.yaml'],1,5b3c081c37e4bc878eb30c22f5a9d50151e740bd,new-neutron-lib-release, - version: 2.19.0 projects: - repo: openstack/neutron-lib hash: ab53b339febc3683a96a25a212e8362dbbea12a4,,4,0
openstack%2Ftempest~master~Ibe9166091011c08644cba783b7db77124cb17417,openstack/tempest,master,Ibe9166091011c08644cba783b7db77124cb17417,Make broken tempest-full-py3-opensuse15 job only until stable/xena,MERGED,2021-11-03 20:50:05.000000000,2022-01-24 11:52:32.000000000,2022-01-24 11:46:42.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-11-03 20:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/86d51da84baf31f73efad886d146c1beaeacbedf', 'message': ""Remove broken tempest-full-py3-opensuse15 job\n\ntempest-full-py3-opensuse15 is failing all the time[1] and\nopensuse is not tested/supported distro in testing runtime\nor devstack anymore. So let's remove opensuse broken job from\ntempest too.\n\nChange-Id: Ibe9166091011c08644cba783b7db77124cb17417\n""}, {'number': 2, 'created': '2022-01-22 01:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c3b853b0af9aceca5e560529fe918469c163c1bb', 'message': ""Remove broken tempest-full-py3-opensuse15 job\n\ntempest-full-py3-opensuse15 is failing all the time and\nopensuse is not tested/supported distro in testing runtime\nor devstack anymore. So let's remove opensuse broken job from\ntempest too.\n\nChange-Id: Ibe9166091011c08644cba783b7db77124cb17417\n""}, {'number': 3, 'created': '2022-01-22 01:44:03.000000000', 'files': ['zuul.d/stable-jobs.yaml', 'zuul.d/tempest-specific.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e6b7056d84d806357e88624958c856a3e7d7e88e', 'message': 'Make broken tempest-full-py3-opensuse15 job only until stable/xena\n\ntempest-full-py3-opensuse15 is failing all the time and\nopensuse is not tested/supported distro in testing runtime\nor devstack anymore. These job is removed from master gate\nbut it is in use until stable/xena.\n\n- https://review.opendev.org/q/topic:%22remove-tempest-full-py3-opensuse15%22+(status:open%20OR%20status:merged)\n\nModifying it for until stable/xena only.\n\nChange-Id: Ibe9166091011c08644cba783b7db77124cb17417\n'}]",3,816569,e6b7056d84d806357e88624958c856a3e7d7e88e,13,3,3,8556,,,0,"Make broken tempest-full-py3-opensuse15 job only until stable/xena

tempest-full-py3-opensuse15 is failing all the time and
opensuse is not tested/supported distro in testing runtime
or devstack anymore. These job is removed from master gate
but it is in use until stable/xena.

- https://review.opendev.org/q/topic:%22remove-tempest-full-py3-opensuse15%22+(status:open%20OR%20status:merged)

Modifying it for until stable/xena only.

Change-Id: Ibe9166091011c08644cba783b7db77124cb17417
",git fetch https://review.opendev.org/openstack/tempest refs/changes/69/816569/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/tempest-specific.yaml']",2,86d51da84baf31f73efad886d146c1beaeacbedf,remove-tempest-full-py3-opensuse15,, name: tempest-full-py3-opensuse15 parent: tempest-full-py3 nodeset: devstack-single-node-opensuse-15 description: | Base integration test with Neutron networking and py36 running on openSUSE Leap 15.x voting: false - job:,0,11
openstack%2Freleases~master~I78a02642b92a1a91977a642cea7b22e721265c62,openstack/releases,master,I78a02642b92a1a91977a642cea7b22e721265c62,Create ansible-role-chrony release,MERGED,2022-01-19 14:41:03.000000000,2022-01-24 11:40:49.000000000,2022-01-24 11:40:49.000000000,"[{'_account_id': 308}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 14:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7c522ecc42d31ada870a66859a0b3a197d06c90a', 'message': ""Create ansible-role-chrony release\n\nWe've recently added a new service to work around issues with\nNetworkManager and need to release the role.\n\nChange-Id: I78a02642b92a1a91977a642cea7b22e721265c62\n""}, {'number': 2, 'created': '2022-01-20 14:55:51.000000000', 'files': ['deliverables/_independent/ansible-role-chrony.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1f94fb091ebd6bc8592938719793ca673b45bf35', 'message': ""Create ansible-role-chrony release\n\nWe've recently added a new service to work around issues with\nNetworkManager and need to release the role.\n\nChange-Id: I78a02642b92a1a91977a642cea7b22e721265c62\n""}]",0,825323,1f94fb091ebd6bc8592938719793ca673b45bf35,13,7,2,14985,,,0,"Create ansible-role-chrony release

We've recently added a new service to work around issues with
NetworkManager and need to release the role.

Change-Id: I78a02642b92a1a91977a642cea7b22e721265c62
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/825323/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/ansible-role-chrony.yaml'],1,7c522ecc42d31ada870a66859a0b3a197d06c90a,chrony-release, - version: 1.1.0 projects: - repo: openstack/ansible-role-chrony hash: 14b34c20e5825fca216ae810aa8e50910c90578d,,4,0
openstack%2Freleases~master~Id7665ba8e8904201f322a1102236fb24a55df8db,openstack/releases,master,Id7665ba8e8904201f322a1102236fb24a55df8db,Release oslo.service for stable/victoria,MERGED,2022-01-21 14:10:41.000000000,2022-01-24 11:40:46.000000000,2022-01-24 11:40:46.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-01-21 14:10:41.000000000', 'files': ['deliverables/victoria/oslo.service.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0561cfae9f7a1fc26f1e306c1be9c1ede4046947', 'message': 'Release oslo.service for stable/victoria\n\nThis release picks up new commits to oslo.service since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 2.4.0..615cfad\n615cfad Make debug option of wsgi server configurable\nee19ff3 Unbreak lower constraints\n4017909 Update TOX_CONSTRAINTS_FILE for stable/victoria\nbb2a341 Update .gitreview for stable/victoria\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Id7665ba8e8904201f322a1102236fb24a55df8db\n'}]",2,825808,0561cfae9f7a1fc26f1e306c1be9c1ede4046947,9,5,1,17685,,,0,"Release oslo.service for stable/victoria

This release picks up new commits to oslo.service since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 2.4.0..615cfad
615cfad Make debug option of wsgi server configurable
ee19ff3 Unbreak lower constraints
4017909 Update TOX_CONSTRAINTS_FILE for stable/victoria
bb2a341 Update .gitreview for stable/victoria

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Id7665ba8e8904201f322a1102236fb24a55df8db
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/825808/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/oslo.service.yaml'],1,0561cfae9f7a1fc26f1e306c1be9c1ede4046947,victoria-stable, - version: 2.4.1 projects: - repo: openstack/oslo.service hash: 615cfad757f8537dfdeed94e40b5393a38f2adca,,4,0
openstack%2Freleases~master~I5632ab4d3679b64bd52b1abc25b2e0b08cc35f80,openstack/releases,master,I5632ab4d3679b64bd52b1abc25b2e0b08cc35f80,Release kolla for stable/victoria,MERGED,2022-01-21 13:18:10.000000000,2022-01-24 11:38:39.000000000,2022-01-24 11:38:39.000000000,"[{'_account_id': 308}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-01-21 13:18:10.000000000', 'files': ['deliverables/victoria/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d91047fa12c43b3fd95e7786097a2bc8a08607e4', 'message': 'Release kolla for stable/victoria\n\nThis release picks up new commits to kolla since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 11.2.0..1c455b5b6\nbfc4c8e3c [CI] Stop testing non-stream CentOS\n464d15175 Fix variable name\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I5632ab4d3679b64bd52b1abc25b2e0b08cc35f80\n'}]",1,825792,d91047fa12c43b3fd95e7786097a2bc8a08607e4,9,5,1,17685,,,0,"Release kolla for stable/victoria

This release picks up new commits to kolla since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 11.2.0..1c455b5b6
bfc4c8e3c [CI] Stop testing non-stream CentOS
464d15175 Fix variable name

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I5632ab4d3679b64bd52b1abc25b2e0b08cc35f80
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/825792/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/kolla.yaml'],1,d91047fa12c43b3fd95e7786097a2bc8a08607e4,victoria-stable, - version: 11.2.1 projects: - repo: openstack/kolla hash: 1c455b5b6ee728d4892a697c191efb25e4fbbf67,,4,0
openstack%2Freleases~master~I7f5c22aba1a42a853c0a662a48df84fe4d7f66a8,openstack/releases,master,I7f5c22aba1a42a853c0a662a48df84fe4d7f66a8,Release kolla-ansible for stable/victoria,MERGED,2022-01-21 13:16:27.000000000,2022-01-24 11:37:18.000000000,2022-01-24 11:37:18.000000000,"[{'_account_id': 308}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-01-21 13:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e5ca050302082d2ba2f89fb06b93bf620451fc45', 'message': 'Release kolla-ansible for stable/victoria\n\nThis release picks up new commits to kolla-ansible since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 11.2.0..5b31b52f7\n1c510c33e [CI] [to-revert] Avoid upgrades on CentOS Stream 8\n69b7bb93f Fix permission denied errors with ping on c8s\ne80acd625 Add logrotate to libvirt service\n1dd2e4f3d Access to zun container fails when tls_external enabled.\n153fa1ad6 Add logrotate configuration for placement service\ncb73051bc rabbitmq: enable/disable prometheus plugin follow up\nf67a1d1ec docs: adjust to current defaults\n46544622e Support enable/disable rabbitmq prometheus plugins\n1a87ed1a0 CI: check-logs - add another exception\n145e64d5c Move project_name and kolla_role_name to role vars\nc257359dc [CI] Stop testing non-stream CentOS\nd5fe6a38c horizon: move horizon_enable_tls_backend to group_vars\nb97372923 Add ironic-inspector policy configuration\nf14caa1e6 Add ovn_sb_connection to octavia.conf\nfe1e6b465 Fix aodh wsgi config file in Debuntu binary\ndc5f3700f Register resources info for octavia upgrading\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I7f5c22aba1a42a853c0a662a48df84fe4d7f66a8\n'}, {'number': 2, 'created': '2022-01-24 09:58:10.000000000', 'files': ['deliverables/victoria/kolla-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0f04345afec8247a132fa534455cf098b3fd542d', 'message': 'Release kolla-ansible for stable/victoria\n\nThis release picks up new commits to kolla-ansible since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 11.2.0..5b31b52f7\n1c510c33e [CI] [to-revert] Avoid upgrades on CentOS Stream 8\n69b7bb93f Fix permission denied errors with ping on c8s\ne80acd625 Add logrotate to libvirt service\n1dd2e4f3d Access to zun container fails when tls_external enabled.\n153fa1ad6 Add logrotate configuration for placement service\ncb73051bc rabbitmq: enable/disable prometheus plugin follow up\nf67a1d1ec docs: adjust to current defaults\n46544622e Support enable/disable rabbitmq prometheus plugins\n1a87ed1a0 CI: check-logs - add another exception\n145e64d5c Move project_name and kolla_role_name to role vars\nc257359dc [CI] Stop testing non-stream CentOS\nd5fe6a38c horizon: move horizon_enable_tls_backend to group_vars\nb97372923 Add ironic-inspector policy configuration\nf14caa1e6 Add ovn_sb_connection to octavia.conf\nfe1e6b465 Fix aodh wsgi config file in Debuntu binary\ndc5f3700f Register resources info for octavia upgrading\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I7f5c22aba1a42a853c0a662a48df84fe4d7f66a8\n'}]",1,825790,0f04345afec8247a132fa534455cf098b3fd542d,11,5,2,17685,,,0,"Release kolla-ansible for stable/victoria

This release picks up new commits to kolla-ansible since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 11.2.0..5b31b52f7
1c510c33e [CI] [to-revert] Avoid upgrades on CentOS Stream 8
69b7bb93f Fix permission denied errors with ping on c8s
e80acd625 Add logrotate to libvirt service
1dd2e4f3d Access to zun container fails when tls_external enabled.
153fa1ad6 Add logrotate configuration for placement service
cb73051bc rabbitmq: enable/disable prometheus plugin follow up
f67a1d1ec docs: adjust to current defaults
46544622e Support enable/disable rabbitmq prometheus plugins
1a87ed1a0 CI: check-logs - add another exception
145e64d5c Move project_name and kolla_role_name to role vars
c257359dc [CI] Stop testing non-stream CentOS
d5fe6a38c horizon: move horizon_enable_tls_backend to group_vars
b97372923 Add ironic-inspector policy configuration
f14caa1e6 Add ovn_sb_connection to octavia.conf
fe1e6b465 Fix aodh wsgi config file in Debuntu binary
dc5f3700f Register resources info for octavia upgrading

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I7f5c22aba1a42a853c0a662a48df84fe4d7f66a8
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/825790/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/kolla-ansible.yaml'],1,e5ca050302082d2ba2f89fb06b93bf620451fc45,victoria-stable, - version: 11.3.0 projects: - repo: openstack/kolla-ansible hash: 5b31b52f7481481eaedb22fa03cf854aab0886af,,4,0
openstack%2Freleases~master~Ie1fa3096e84253d76ce20c979821c2f7a31bd400,openstack/releases,master,Ie1fa3096e84253d76ce20c979821c2f7a31bd400,Release python-ironicclient for stable/victoria,MERGED,2022-01-21 15:06:00.000000000,2022-01-24 11:37:15.000000000,2022-01-24 11:37:15.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-21 15:06:00.000000000', 'files': ['deliverables/victoria/python-ironicclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9dec2c86d6f28cbe630585d07a8e0164e4a15c0c', 'message': 'Release python-ironicclient for stable/victoria\n\nThis release picks up new commits to python-ironicclient since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 4.4.0..2e6778f\n2e6778f Make baremetal --debug actually work\n0187ffb Fix --fields network_data\n8ae1c79 Remove lower-constraints job\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ie1fa3096e84253d76ce20c979821c2f7a31bd400\n'}]",2,825817,9dec2c86d6f28cbe630585d07a8e0164e4a15c0c,10,6,1,17685,,,0,"Release python-ironicclient for stable/victoria

This release picks up new commits to python-ironicclient since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 4.4.0..2e6778f
2e6778f Make baremetal --debug actually work
0187ffb Fix --fields network_data
8ae1c79 Remove lower-constraints job

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ie1fa3096e84253d76ce20c979821c2f7a31bd400
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/825817/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/python-ironicclient.yaml'],1,9dec2c86d6f28cbe630585d07a8e0164e4a15c0c,victoria-stable, - version: 4.4.1 projects: - repo: openstack/python-ironicclient hash: 2e6778fe6d795783fb71a8910c202ca32cd70c39,,4,0
openstack%2Freleases~master~Ib27d51485700555369a9bf51bafbe3f1da9a5b72,openstack/releases,master,Ib27d51485700555369a9bf51bafbe3f1da9a5b72,Release sushy for stable/victoria,MERGED,2022-01-21 15:30:04.000000000,2022-01-24 11:37:13.000000000,2022-01-24 11:37:13.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-21 15:30:04.000000000', 'files': ['deliverables/victoria/sushy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/496507cae344adafc855122787bac0c2b0bf8526', 'message': 'Release sushy for stable/victoria\n\nThis release picks up new commits to sushy since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 3.4.4..ef9bc98\nef9bc98 Revert ""Raise an AccessError with SessionService init""\nb7a71f1 Raise an AccessError with SessionService init\ndba7d1a Fix Processor.sub_processors\nefd47e3 Protect Connector against empty auth object\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ib27d51485700555369a9bf51bafbe3f1da9a5b72\n'}]",1,825823,496507cae344adafc855122787bac0c2b0bf8526,9,6,1,17685,,,0,"Release sushy for stable/victoria

This release picks up new commits to sushy since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 3.4.4..ef9bc98
ef9bc98 Revert ""Raise an AccessError with SessionService init""
b7a71f1 Raise an AccessError with SessionService init
dba7d1a Fix Processor.sub_processors
efd47e3 Protect Connector against empty auth object

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ib27d51485700555369a9bf51bafbe3f1da9a5b72
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/825823/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/sushy.yaml'],1,496507cae344adafc855122787bac0c2b0bf8526,victoria-stable, - version: 3.4.5 projects: - repo: openstack/sushy hash: ef9bc98f0870d405fbfc8318ebe7952d06d5240d,,4,0
openstack%2Freleases~master~Ic2859b8be6cb19d380948a11e4872c69b035c09c,openstack/releases,master,Ic2859b8be6cb19d380948a11e4872c69b035c09c,Release ironic-lib for stable/victoria,MERGED,2022-01-21 11:54:48.000000000,2022-01-24 11:37:10.000000000,2022-01-24 11:37:10.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-21 11:54:48.000000000', 'files': ['deliverables/victoria/ironic-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2c61b75973f32094fbb5326395af2698a6e326af', 'message': 'Release ironic-lib for stable/victoria\n\nThis release picks up new commits to ironic-lib since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 4.4.1..b117e63\nb117e63 utils.execute: log stdout and stderr even on failure\nf4cabc0 Limit the number of malloc arenas for qemu-img convert\nd27b4a2 Raise qemu-img memory limit to 2 GiB\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ic2859b8be6cb19d380948a11e4872c69b035c09c\n'}]",1,825775,2c61b75973f32094fbb5326395af2698a6e326af,9,6,1,17685,,,0,"Release ironic-lib for stable/victoria

This release picks up new commits to ironic-lib since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 4.4.1..b117e63
b117e63 utils.execute: log stdout and stderr even on failure
f4cabc0 Limit the number of malloc arenas for qemu-img convert
d27b4a2 Raise qemu-img memory limit to 2 GiB

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ic2859b8be6cb19d380948a11e4872c69b035c09c
",git fetch https://review.opendev.org/openstack/releases refs/changes/75/825775/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/ironic-lib.yaml'],1,2c61b75973f32094fbb5326395af2698a6e326af,victoria-stable, - version: 4.4.2 projects: - repo: openstack/ironic-lib hash: b117e63ecd33360a0980d62a7718e5493060058b,,4,0
openstack%2Freleases~master~I386d00daf4719089deea69fa8cf1ceafae256062,openstack/releases,master,I386d00daf4719089deea69fa8cf1ceafae256062,Release networking-generic-switch for stable/victoria,MERGED,2022-01-21 13:49:15.000000000,2022-01-24 11:37:08.000000000,2022-01-24 11:37:08.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-21 13:49:15.000000000', 'files': ['deliverables/victoria/networking-generic-switch.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d55c2fdf1b851753fda87b9a68a5f73fd1a03d66', 'message': 'Release networking-generic-switch for stable/victoria\n\nThis release picks up new commits to networking-generic-switch since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 4.0.0..8c1a1c7\n8c1a1c7 Fix command syntax in Juniper driver\n79aa400 Remove lower-constraints job\nf7e74b0 Add documentation for Cumulus Linux NCLU\nef45de9 Update TOX_CONSTRAINTS_FILE for stable/victoria\nb4f8536 Update .gitreview for stable/victoria\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I386d00daf4719089deea69fa8cf1ceafae256062\n'}]",1,825801,d55c2fdf1b851753fda87b9a68a5f73fd1a03d66,9,6,1,17685,,,0,"Release networking-generic-switch for stable/victoria

This release picks up new commits to networking-generic-switch since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 4.0.0..8c1a1c7
8c1a1c7 Fix command syntax in Juniper driver
79aa400 Remove lower-constraints job
f7e74b0 Add documentation for Cumulus Linux NCLU
ef45de9 Update TOX_CONSTRAINTS_FILE for stable/victoria
b4f8536 Update .gitreview for stable/victoria

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I386d00daf4719089deea69fa8cf1ceafae256062
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/825801/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/networking-generic-switch.yaml'],1,d55c2fdf1b851753fda87b9a68a5f73fd1a03d66,victoria-stable, - version: 4.0.1 projects: - repo: openstack/networking-generic-switch hash: 8c1a1c7a7fd59ae147ddf07c09166c1597a56bef,,4,0
openstack%2Freleases~master~I73124800edd56495bec31749c6e8716377281ce5,openstack/releases,master,I73124800edd56495bec31749c6e8716377281ce5,Release watcher-dashboard for stable/victoria,MERGED,2022-01-21 15:51:12.000000000,2022-01-24 11:37:05.000000000,2022-01-24 11:37:05.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2022-01-21 15:51:12.000000000', 'files': ['deliverables/victoria/watcher-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0b0858ef1cc39ee8fdaabf9294133be46f60f0b9', 'message': 'Release watcher-dashboard for stable/victoria\n\nThis release picks up new commits to watcher-dashboard since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 4.0.0..4498a25\n4498a25 Fix broken devstack install\n745cada Fix create audit fail from audit_template\n87e4366 Dropping lower constraints testing\nced2f04 Update TOX_CONSTRAINTS_FILE for stable/victoria\nb6942bb Update .gitreview for stable/victoria\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I73124800edd56495bec31749c6e8716377281ce5\n'}]",2,825828,0b0858ef1cc39ee8fdaabf9294133be46f60f0b9,9,5,1,17685,,,0,"Release watcher-dashboard for stable/victoria

This release picks up new commits to watcher-dashboard since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 4.0.0..4498a25
4498a25 Fix broken devstack install
745cada Fix create audit fail from audit_template
87e4366 Dropping lower constraints testing
ced2f04 Update TOX_CONSTRAINTS_FILE for stable/victoria
b6942bb Update .gitreview for stable/victoria

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I73124800edd56495bec31749c6e8716377281ce5
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/825828/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/watcher-dashboard.yaml'],1,0b0858ef1cc39ee8fdaabf9294133be46f60f0b9,victoria-stable, - version: 4.0.1 projects: - repo: openstack/watcher-dashboard hash: 4498a25d7e91aa1737a46f6016a2bf7d0bf92a31,,4,0
openstack%2Freleases~master~I2c354abb8b13d31cccbc0129291c5a25df2909dc,openstack/releases,master,I2c354abb8b13d31cccbc0129291c5a25df2909dc,Release glance-store for stable/victoria,MERGED,2022-01-21 18:48:13.000000000,2022-01-24 11:37:02.000000000,2022-01-24 11:37:02.000000000,"[{'_account_id': 308}, {'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 18:48:13.000000000', 'files': ['deliverables/victoria/glance-store.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/38d7fbe48e0cb10568c17c5e8d93d459b6db58ed', 'message': 'Release glance-store for stable/victoria\n\nThis release picks up new commits to glance-store since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 2.3.0..e43a56f\ne43a56f Pass multipath config while creating connector object\nff8df6d Drop lower-constraints job\n177b803 Update TOX_CONSTRAINTS_FILE for stable/victoria\n7f88a4d Update .gitreview for stable/victoria\n\nChange-Id: I2c354abb8b13d31cccbc0129291c5a25df2909dc\n'}]",2,825874,38d7fbe48e0cb10568c17c5e8d93d459b6db58ed,9,5,1,17685,,,0,"Release glance-store for stable/victoria

This release picks up new commits to glance-store since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 2.3.0..e43a56f
e43a56f Pass multipath config while creating connector object
ff8df6d Drop lower-constraints job
177b803 Update TOX_CONSTRAINTS_FILE for stable/victoria
7f88a4d Update .gitreview for stable/victoria

Change-Id: I2c354abb8b13d31cccbc0129291c5a25df2909dc
",git fetch https://review.opendev.org/openstack/releases refs/changes/74/825874/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/glance-store.yaml'],1,38d7fbe48e0cb10568c17c5e8d93d459b6db58ed,victoria-stable, - version: 2.3.1 projects: - repo: openstack/glance_store hash: e43a56fb9b772703214e39f3371cc2ff00e06d4d,,4,0
openstack%2Freleases~master~I0dd2a898d7b47f118537c31e52ed1ac252cefdc8,openstack/releases,master,I0dd2a898d7b47f118537c31e52ed1ac252cefdc8,Release ceilometer for stable/victoria,MERGED,2022-01-21 11:16:59.000000000,2022-01-24 11:36:22.000000000,2022-01-24 11:36:22.000000000,"[{'_account_id': 308}, {'_account_id': 4264}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 11:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7fd74380069c4c177bd101e96edc90f40c37e083', 'message': 'Release ceilometer for stable/victoria\n\nThis release picks up new commits to ceilometer since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 15.0.0..e33a1f7d\ne33a1f7d Remove jobs corresponds to obselete featuresets\n3f73d8ba Fix CA file for Swift pollster\n4bb02413 Do not install libvirt python bindings from pip\n564a2ca6 [Stable-only] Pin Gnocchi to a specific release\n418af55c [stable-only] Add font for PDF generation and fix lower constraints\ne953512d Cap tenacity < 7.0.0\ne555e938 Update TOX_CONSTRAINTS_FILE for stable/victoria\nbb6dda05 Update .gitreview for stable/victoria\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I0dd2a898d7b47f118537c31e52ed1ac252cefdc8\n'}, {'number': 2, 'created': '2022-01-21 16:29:25.000000000', 'files': ['deliverables/victoria/ceilometer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/19a5cea4f171cc8785a7f9fb13983adac5269d46', 'message': 'Release ceilometer for stable/victoria\n\nThis release picks up new commits to ceilometer since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 15.0.0..e33a1f7d\ne33a1f7d Remove jobs corresponds to obselete featuresets\n3f73d8ba Fix CA file for Swift pollster\n4bb02413 Do not install libvirt python bindings from pip\n564a2ca6 [Stable-only] Pin Gnocchi to a specific release\n418af55c [stable-only] Add font for PDF generation and fix lower constraints\ne953512d Cap tenacity < 7.0.0\ne555e938 Update TOX_CONSTRAINTS_FILE for stable/victoria\nbb6dda05 Update .gitreview for stable/victoria\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I0dd2a898d7b47f118537c31e52ed1ac252cefdc8\n'}]",4,825764,19a5cea4f171cc8785a7f9fb13983adac5269d46,14,4,2,17685,,,0,"Release ceilometer for stable/victoria

This release picks up new commits to ceilometer since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 15.0.0..e33a1f7d
e33a1f7d Remove jobs corresponds to obselete featuresets
3f73d8ba Fix CA file for Swift pollster
4bb02413 Do not install libvirt python bindings from pip
564a2ca6 [Stable-only] Pin Gnocchi to a specific release
418af55c [stable-only] Add font for PDF generation and fix lower constraints
e953512d Cap tenacity < 7.0.0
e555e938 Update TOX_CONSTRAINTS_FILE for stable/victoria
bb6dda05 Update .gitreview for stable/victoria

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I0dd2a898d7b47f118537c31e52ed1ac252cefdc8
",git fetch https://review.opendev.org/openstack/releases refs/changes/64/825764/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/ceilometer.yaml'],1,7fd74380069c4c177bd101e96edc90f40c37e083,victoria-stable, - version: 15.0.1 projects: - repo: openstack/ceilometer hash: e33a1f7dd6386bc3cbb45c41c3f0a74e03b5f1f5,,4,0
openstack%2Fironic~stable%2Fvictoria~Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e,openstack/ironic,stable/victoria,Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e,Remove redfish cache entry upon errors,MERGED,2021-12-07 19:03:05.000000000,2022-01-24 11:33:47.000000000,2022-01-24 11:31:59.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32029}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-12-07 19:03:05.000000000', 'files': ['ironic/drivers/modules/redfish/utils.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'releasenotes/notes/redfish-connection-cache-pool-accesserror-743e39a2f017b990.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3e3afc3254aa7bf2c27033ac9f0aa5f503dff9b0', 'message': ""Remove redfish cache entry upon errors\n\nSome transient errors can ultimately cause the client to need to be\ncompletely restarted due to cached connection data.\n\nIronic now explicitly removes the cache entry when a sushy\nAccessError or python AttributeError is detected originating\nfrom the library. This will now result in the prior cached connection\nobject to be discarded, and upon the next attempt to interact with\nthe same node, a new connection will be launched.\n\nThis will result in new sessions being created, but in all likelihood\nthe prior session had already timed out or had been administratively\nremoved. Sushy's code, as of\nhttps://review.opendev.org/c/openstack/sushy/+/820076\nwill raise SessionService lookup access errors as AccessErrors.\nPrior to that change, they should have been raised as AttributeError\nas the previous call sould have returned None to be used as an object.\n\n*Also* Includes follow-up change Ia59f774c9340e3a6fa63418afedf12098c709052\nsquashed into this change, and necessary backport friendly mock of\nAccessError which had changed since this release of ironic.\n\nChange-Id: Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e\nStory: 2009719\nTask: 44107\n(cherry picked from commit 1439af27ba2bd31fb85369754c648a45ee9ca14b)\n(cherry picked from commit 01997c8418b9e6ade47437b09dd9412310b90eac)\n(cherry picked from commit e3e7deaf48a5315fe10350e8a87b2fcc4e189406)\n(cherry picked from commit ab5495eecb409b37ad853a679032d6cdb4fefc72)\n(cherry picked from commit e57aa7598b220bb2d1fd8fcc0aab6132926d5cce)\n""}]",3,820934,3e3afc3254aa7bf2c27033ac9f0aa5f503dff9b0,19,5,1,11655,,,0,"Remove redfish cache entry upon errors

Some transient errors can ultimately cause the client to need to be
completely restarted due to cached connection data.

Ironic now explicitly removes the cache entry when a sushy
AccessError or python AttributeError is detected originating
from the library. This will now result in the prior cached connection
object to be discarded, and upon the next attempt to interact with
the same node, a new connection will be launched.

This will result in new sessions being created, but in all likelihood
the prior session had already timed out or had been administratively
removed. Sushy's code, as of
https://review.opendev.org/c/openstack/sushy/+/820076
will raise SessionService lookup access errors as AccessErrors.
Prior to that change, they should have been raised as AttributeError
as the previous call sould have returned None to be used as an object.

*Also* Includes follow-up change Ia59f774c9340e3a6fa63418afedf12098c709052
squashed into this change, and necessary backport friendly mock of
AccessError which had changed since this release of ironic.

Change-Id: Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e
Story: 2009719
Task: 44107
(cherry picked from commit 1439af27ba2bd31fb85369754c648a45ee9ca14b)
(cherry picked from commit 01997c8418b9e6ade47437b09dd9412310b90eac)
(cherry picked from commit e3e7deaf48a5315fe10350e8a87b2fcc4e189406)
(cherry picked from commit ab5495eecb409b37ad853a679032d6cdb4fefc72)
(cherry picked from commit e57aa7598b220bb2d1fd8fcc0aab6132926d5cce)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/34/820934/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/utils.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'releasenotes/notes/redfish-connection-cache-pool-accesserror-743e39a2f017b990.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_utils.py']",4,3e3afc3254aa7bf2c27033ac9f0aa5f503dff9b0,,"import time fake_conn = mock.Mock() mock_sushy.return_value = fake_conn @mock.patch.object(time, 'sleep', lambda seconds: None) @mock.patch.object(sushy, 'Sushy', autospec=True) @mock.patch('ironic.drivers.modules.redfish.utils.' 'SessionCache._sessions', {}) def test_get_system_resource_access_error_retry(self, mock_sushy): # Sushy access errors HTTP Errors class fake_response(object): status_code = 401 body = None def json(): return {} fake_conn = mock_sushy.return_value fake_system = mock.Mock() fake_conn.get_system.side_effect = iter( [ sushy.exceptions.AccessError( method='GET', url='http://path/to/url', response=fake_response), fake_system, ]) self.assertRaises(exception.RedfishError, redfish_utils.get_system, self.node) # Retry, as in next power sync perhaps client = redfish_utils.get_system(self.node) client('foo') expected_get_system_calls = [ mock.call(self.parsed_driver_info['system_id']), mock.call(self.parsed_driver_info['system_id']), ] fake_conn.get_system.assert_has_calls(expected_get_system_calls) fake_system.assert_called_with('foo') self.assertEqual(fake_conn.get_system.call_count, 2) @mock.patch.object(time, 'sleep', lambda seconds: None) @mock.patch.object(sushy, 'Sushy', autospec=True) @mock.patch('ironic.drivers.modules.redfish.utils.' 'SessionCache._sessions', {}) def test_get_system_resource_attribute_error(self, mock_sushy): fake_conn = mock_sushy.return_value fake_system = mock.Mock() fake_conn.get_system.side_effect = iter( [ AttributeError, fake_system, ]) # We need to check for AttributeError explicitly as # otherwise we break existing tests if we try to catch # it explicitly. self.assertRaises(exception.RedfishError, redfish_utils.get_system, self.node) # Retry, as in next power sync perhaps client = redfish_utils.get_system(self.node) client('bar') expected_get_system_calls = [ mock.call(self.parsed_driver_info['system_id']), mock.call(self.parsed_driver_info['system_id']), ] fake_conn.get_system.assert_has_calls(expected_get_system_calls) fake_system.assert_called_once_with('bar') self.assertEqual(fake_conn.get_system.call_count, 2) ", fake_conn = mock_sushy.return_value,114,1
openstack%2Freleases~master~I1974787bc7ca04933fc0333f41a481941f1d32de,openstack/releases,master,I1974787bc7ca04933fc0333f41a481941f1d32de,Release octavia-dashboard for stable/victoria,MERGED,2022-01-21 13:56:34.000000000,2022-01-24 11:33:39.000000000,2022-01-24 11:33:39.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-01-21 13:56:34.000000000', 'files': ['deliverables/victoria/octavia-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/84a5047bb0f3674075b0ec30041ce8396eace94f', 'message': 'Release octavia-dashboard for stable/victoria\n\nThis release picks up new commits to octavia-dashboard since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 6.0.0..2f1d320\n3aef1f7 Change the Octavia Barbican namespace\na66eb7e Imported Translations from Zanata\n3954cda Imported Translations from Zanata\na5371c5 Disable Load Balancers panel when Octavia service is not deployed\n6f2ef77 Drop lower-constraints job\n1b8a97d Imported Translations from Zanata\n9737576 Imported Translations from Zanata\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I1974787bc7ca04933fc0333f41a481941f1d32de\n'}]",2,825803,84a5047bb0f3674075b0ec30041ce8396eace94f,9,6,1,17685,,,0,"Release octavia-dashboard for stable/victoria

This release picks up new commits to octavia-dashboard since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 6.0.0..2f1d320
3aef1f7 Change the Octavia Barbican namespace
a66eb7e Imported Translations from Zanata
3954cda Imported Translations from Zanata
a5371c5 Disable Load Balancers panel when Octavia service is not deployed
6f2ef77 Drop lower-constraints job
1b8a97d Imported Translations from Zanata
9737576 Imported Translations from Zanata

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I1974787bc7ca04933fc0333f41a481941f1d32de
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/825803/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/octavia-dashboard.yaml'],1,84a5047bb0f3674075b0ec30041ce8396eace94f,victoria-stable, - version: 6.0.1 projects: - repo: openstack/octavia-dashboard hash: 2f1d320104a112d63f7b5e2651e6ace733e0689b,,4,0
openstack%2Freleases~master~I72c88086255658a35c019bbf81fe57a7a80eb5ea,openstack/releases,master,I72c88086255658a35c019bbf81fe57a7a80eb5ea,Release magnum for stable/victoria,MERGED,2022-01-21 13:23:19.000000000,2022-01-24 11:33:37.000000000,2022-01-24 11:33:37.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 13:23:19.000000000', 'files': ['deliverables/victoria/magnum.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ba2f10668b91637cb155ecf24eccf41158ee3ac9', 'message': 'Release magnum for stable/victoria\n\nThis release picks up new commits to magnum since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 11.2.0..4b1ba075\n4b1ba075 Refix --registry-enabled\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I72c88086255658a35c019bbf81fe57a7a80eb5ea\n'}]",1,825795,ba2f10668b91637cb155ecf24eccf41158ee3ac9,9,4,1,17685,,,0,"Release magnum for stable/victoria

This release picks up new commits to magnum since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 11.2.0..4b1ba075
4b1ba075 Refix --registry-enabled

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I72c88086255658a35c019bbf81fe57a7a80eb5ea
",git fetch https://review.opendev.org/openstack/releases refs/changes/95/825795/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/magnum.yaml'],1,ba2f10668b91637cb155ecf24eccf41158ee3ac9,victoria-stable," - Kubernetes cluster owner can now do CA cert rotate to re-generate CA of the cluster, service account keys and the certs of all nodes. - version: 11.2.1 projects: - repo: openstack/magnum hash: 4b1ba075ff0e5785cddba605e313a0aa82d84fb3"," - Kubernetes cluster owner can now do CA cert rotate to re-generate CA of the cluster, service account keys and the certs of all nodes.",6,2
openstack%2Freleases~master~I8a6086b60b0520533caedcfcc7b318d5359ff32d,openstack/releases,master,I8a6086b60b0520533caedcfcc7b318d5359ff32d,Release cloudkitty for stable/victoria,MERGED,2022-01-21 11:35:02.000000000,2022-01-24 11:33:35.000000000,2022-01-24 11:33:35.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-01-21 11:35:02.000000000', 'files': ['deliverables/victoria/cloudkitty.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/173799b5d291504bbc47bea8cdaafd67394acd1f', 'message': 'Release cloudkitty for stable/victoria\n\nThis release picks up new commits to cloudkitty since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 13.0.1..28f8bd4\n28f8bd4 Fix quote API\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I8a6086b60b0520533caedcfcc7b318d5359ff32d\n'}]",1,825768,173799b5d291504bbc47bea8cdaafd67394acd1f,9,4,1,17685,,,0,"Release cloudkitty for stable/victoria

This release picks up new commits to cloudkitty since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 13.0.1..28f8bd4
28f8bd4 Fix quote API

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I8a6086b60b0520533caedcfcc7b318d5359ff32d
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/825768/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/cloudkitty.yaml'],1,173799b5d291504bbc47bea8cdaafd67394acd1f,victoria-stable, - version: 13.0.2 projects: - repo: openstack/cloudkitty hash: 28f8bd4a73672bde2ecb3ccbe73f148a0706185b,,4,0
openstack%2Freleases~master~Ib6107c3f900b7946d34d2e0c39bcdf8bb6d0d50c,openstack/releases,master,Ib6107c3f900b7946d34d2e0c39bcdf8bb6d0d50c,Release cloudkitty-dashboard for stable/victoria,MERGED,2022-01-21 11:34:12.000000000,2022-01-24 11:33:32.000000000,2022-01-24 11:33:32.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-01-21 11:34:12.000000000', 'files': ['deliverables/victoria/cloudkitty-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ef21ed364e5726572a7e06b12d926c920f4bd6e4', 'message': 'Release cloudkitty-dashboard for stable/victoria\n\nThis release picks up new commits to cloudkitty-dashboard since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 11.0.0..2a24f55\n2a24f55 Respect endpoint type specified in Horizon\nea6adc2 Update TOX_CONSTRAINTS_FILE for stable/victoria\nfbb4510 Update .gitreview for stable/victoria\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: Ib6107c3f900b7946d34d2e0c39bcdf8bb6d0d50c\n'}]",1,825767,ef21ed364e5726572a7e06b12d926c920f4bd6e4,9,4,1,17685,,,0,"Release cloudkitty-dashboard for stable/victoria

This release picks up new commits to cloudkitty-dashboard since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 11.0.0..2a24f55
2a24f55 Respect endpoint type specified in Horizon
ea6adc2 Update TOX_CONSTRAINTS_FILE for stable/victoria
fbb4510 Update .gitreview for stable/victoria

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: Ib6107c3f900b7946d34d2e0c39bcdf8bb6d0d50c
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/825767/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/cloudkitty-dashboard.yaml'],1,ef21ed364e5726572a7e06b12d926c920f4bd6e4,victoria-stable, - version: 11.0.1 projects: - repo: openstack/cloudkitty-dashboard hash: 2a24f55f83a070c9f6207cb4caba314820665ce3,,4,0
openstack%2Freleases~master~I1d016ce777798891367aa1f772ad7c00ced6272e,openstack/releases,master,I1d016ce777798891367aa1f772ad7c00ced6272e,Release ec2-api for stable/victoria,MERGED,2022-01-21 11:42:06.000000000,2022-01-24 11:33:18.000000000,2022-01-24 11:33:18.000000000,"[{'_account_id': 308}, {'_account_id': 10234}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 11:42:06.000000000', 'files': ['deliverables/victoria/ec2-api.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f5e4e65b01fbcf4bf5f6eee72086091f3f097831', 'message': 'Release ec2-api for stable/victoria\n\nThis release picks up new commits to ec2-api since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 11.0.0..2fff77e\nb2686a2 various fixes\nee4f8f9 Run TripleO jobs on CentOS8 instead of CentOS7\n4fec7cd Update TOX_CONSTRAINTS_FILE for stable/victoria\n7102fec Update .gitreview for stable/victoria\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I1d016ce777798891367aa1f772ad7c00ced6272e\n'}]",1,825770,f5e4e65b01fbcf4bf5f6eee72086091f3f097831,9,4,1,17685,,,0,"Release ec2-api for stable/victoria

This release picks up new commits to ec2-api since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 11.0.0..2fff77e
b2686a2 various fixes
ee4f8f9 Run TripleO jobs on CentOS8 instead of CentOS7
4fec7cd Update TOX_CONSTRAINTS_FILE for stable/victoria
7102fec Update .gitreview for stable/victoria

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I1d016ce777798891367aa1f772ad7c00ced6272e
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/825770/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/ec2-api.yaml'],1,f5e4e65b01fbcf4bf5f6eee72086091f3f097831,victoria-stable, - version: 11.1.0 projects: - repo: openstack/ec2-api hash: 2fff77e0e8680cee03a8dcf6f2c877164b8b9c10,,4,0
openstack%2Freleases~master~I449f5a921bd15b15fb4f323383662eb694492871,openstack/releases,master,I449f5a921bd15b15fb4f323383662eb694492871,Release python-manilaclient 3.2.0,MERGED,2022-01-20 15:53:57.000000000,2022-01-24 11:33:15.000000000,2022-01-24 11:33:15.000000000,"[{'_account_id': 308}, {'_account_id': 9003}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-20 15:53:57.000000000', 'files': ['deliverables/yoga/python-manilaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4e0f52b7a423c0abb9bf46347e376ae4338cc938', 'message': ""Release python-manilaclient 3.2.0\n\nContains fixes and features used by manila's\ndevstack plugin.\n\nChange-Id: I449f5a921bd15b15fb4f323383662eb694492871\nCloses-Bug: #1958193\n""}]",1,825538,4e0f52b7a423c0abb9bf46347e376ae4338cc938,10,6,1,16643,,,0,"Release python-manilaclient 3.2.0

Contains fixes and features used by manila's
devstack plugin.

Change-Id: I449f5a921bd15b15fb4f323383662eb694492871
Closes-Bug: #1958193
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/825538/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-manilaclient.yaml'],1,4e0f52b7a423c0abb9bf46347e376ae4338cc938,manila, - version: 3.2.0 projects: - repo: openstack/python-manilaclient hash: f9aee522ef2452f0e9d17e620b701bfc7aee6dae,,4,0
openstack%2Fneutron~master~I2dfbb750363c5e73fafd436667abb445f275174b,openstack/neutron,master,I2dfbb750363c5e73fafd436667abb445f275174b,DVR: Populate ARP entries of the allowed_address_pairs to the routers,NEW,2018-09-10 17:55:36.000000000,2022-01-24 11:29:20.000000000,,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 5367}, {'_account_id': 5948}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7016}, {'_account_id': 7249}, {'_account_id': 8313}, {'_account_id': 8788}, {'_account_id': 8871}, {'_account_id': 8976}, {'_account_id': 9531}, {'_account_id': 9542}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10237}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15309}, {'_account_id': 15752}, {'_account_id': 16011}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23913}, {'_account_id': 26553}, {'_account_id': 26622}, {'_account_id': 29963}]","[{'number': 1, 'created': '2018-09-10 17:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60b53f3ac0068c5f2456d8235e35b764cc700400', 'message': '(WIP)DVR: Update permanent ARP entries for allowed_address_pair IPs\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the GARP packet processor running in the\ncompute node can listen on a specific Tunnel interface created for\nthis purpose.\nThe OVS flow rule is added to filter the GARP packet and forward or\noutput the packet to the Tunnel port for the packet processor to pick.\nThe packet processor should pick the packet, retrieve the MAC and\nIP and then send an RPC message to the Neutron Server, to update\nthe ARP entries on all nodes.\n\nThis patch address the issue mentioned above.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 2, 'created': '2018-09-24 17:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b0950dd5f3f0e11650e9d5fa79d0c986f8658e16', 'message': '(WIP)DVR: Update permanent ARP entries for allowed_address_pair IPs\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the GARP packet processor running in the\ncompute node can listen on a specific Tunnel interface created for\nthis purpose.\nThe OVS flow rule is added to filter the GARP packet and forward or\noutput the packet to the Tunnel port for the packet processor to pick.\nThe packet processor should pick the packet, retrieve the MAC and\nIP and then send an RPC message to the Neutron Server, to update\nthe ARP entries on all nodes.\n\nThis patch address the issue mentioned above.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 3, 'created': '2018-09-24 18:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/42b96cef628f6dd093ba10182c8d1a79876fa8a7', 'message': '(WIP)DVR: Update permanent ARP entries for allowed_address_pair IPs\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the GARP packet processor running in the\ncompute node can listen on a specific Tunnel interface created for\nthis purpose.\nThe OVS flow rule is added to filter the GARP packet and forward or\noutput the packet to the Tunnel port for the packet processor to pick.\nThe packet processor should pick the packet, retrieve the MAC and\nIP and then send an RPC message to the Neutron Server, to update\nthe ARP entries on all nodes.\n\nThis patch address the issue mentioned above.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 4, 'created': '2018-09-24 22:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c9941fb72333c5eaf3a9909d2241ffcbe2a8f2d', 'message': '(WIP)DVR: Update permanent ARP entries for allowed_address_pair IPs\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then inserts an openflow\nrule into the ARP Responder table and then sends the packet out to\nthe normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 5, 'created': '2018-10-30 00:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a701d3bff5856d223ac34977d026b83b02a4eafe', 'message': '(WIP)DVR: Update permanent ARP entries for allowed_address_pair IPs\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 6, 'created': '2018-10-30 00:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/28ae0f7b14a54d7bb7f1f962c879eaac954857a5', 'message': '(WIP)DVR: Update permanent ARP entries for allowed_address_pair IPs\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 7, 'created': '2018-10-30 00:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b68f5c7a52102b6bb122738e1443b660252a288a', 'message': '(WIP)DVR: Update permanent ARP entries for allowed_address_pair IPs\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 8, 'created': '2018-10-30 18:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/771b0b3f3150326fcaf95cc08166961cba35c7ea', 'message': '(WIP)DVR: Update permanent ARP entries for allowed_address_pair IPs\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 9, 'created': '2018-10-31 23:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/729aa36713f0daa2df208a8e479215f5deaebf0f', 'message': '(WIP)DVR: Update permanent ARP entries for allowed_address_pair IPs\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 10, 'created': '2018-11-02 23:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15fb3e91c5af5dbb108e451d0a7c8f2607739067', 'message': '(WIP)DVR: Update permanent ARP entries for allowed_address_pair IPs\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 11, 'created': '2018-11-06 08:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/095daf5cb6b0aaa181deac93ff50701b91ada878', 'message': '(WIP)DVR: Update permanent ARP entries for allowed_address_pair IPs\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 12, 'created': '2018-11-07 18:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea04d5faaad92a765c33d8341cd02e54c336d3b7', 'message': '(WIP)DVR: Update permanent ARP entries for allowed_address_pair IPs\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 13, 'created': '2018-11-07 18:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c4870d3a706b3444d465f078697cfc7771ebbbf', 'message': '(WIP)DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 14, 'created': '2018-11-08 18:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/97087a15056f7e2f62ecf4df7162f0098f5f9427', 'message': '(WIP)DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 15, 'created': '2018-11-10 00:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/58ecf419af14f38dbe1adb750fae62aea4b79a17', 'message': '(WIP)DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 16, 'created': '2018-11-13 08:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f74faccaf39ad1e7825e7f53889efeee275d8a40', 'message': '(WIP)DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 17, 'created': '2018-11-13 23:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/66ec31f91f194493e5de8afe04c20d8630c5aa0b', 'message': '(WIP)DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 18, 'created': '2018-11-13 23:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/215419aed73a80892f3f3b14d1dfb638d7380177', 'message': '(WIP)DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 19, 'created': '2018-11-15 09:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/11b0b3baa76a6deb4ad95119f6efa2a42a29d940', 'message': '(WIP)DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 20, 'created': '2018-11-15 09:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1a0491810233f5b9d950a103469bf489ec1194e', 'message': '(WIP)DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 21, 'created': '2018-11-15 21:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d637d428788565de6ae1b90385aa623531f674c6', 'message': '(WIP)DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 22, 'created': '2018-11-21 01:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09f20d8abdc4a08821bdb585fb2b14a80d29bc78', 'message': '(WIP)DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 23, 'created': '2018-11-27 01:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/344fe4139576c5c52fd2a069c088b9329d08374c', 'message': '(WIP)DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 24, 'created': '2018-11-28 00:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d7d6686e3e4cf36d5a45cded6faf64d31fa591a', 'message': '(WIP)DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 25, 'created': '2018-11-29 23:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40790c9f239b319ab99a47bdc1e083db4de959ff', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 26, 'created': '2018-12-14 18:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2873a85c077a7e983c48a58d847a2afffd366394', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 27, 'created': '2018-12-17 20:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d86275efc9416179b2ebfb3a4d68164de12161ca', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 28, 'created': '2018-12-18 01:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7fdc8cb885a1639e073f31ba102292600115863', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 29, 'created': '2018-12-20 00:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1bad67640fd4d535ae1d6f351ace680739a7845', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then if sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 30, 'created': '2019-01-02 19:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2613ff583e5a33812a18affbf517431e81fc371a', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 31, 'created': '2019-01-03 08:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f49bda9bbc57f3bd0a75cdbb9e97bed0d8d414ba', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 32, 'created': '2019-01-04 00:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cce59894f7c5d61cf32465a334166fd90fd48d82', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 33, 'created': '2019-02-05 00:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/988ed30a5b239d3c8f9034172037f7ef9d796004', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 34, 'created': '2019-04-01 22:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2cdf56e9e185c0f1e0876f2fe4ba469febc8d07a', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 35, 'created': '2019-04-16 22:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1571a6e8d05f1f8b4b2b4fa79c3a5c2a44fbaaa7', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 36, 'created': '2019-04-17 23:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca016af63e2900bc36a55226ce34c0a07d20c588', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 37, 'created': '2019-05-13 22:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/faac24873c35d177af59a1c217bc3e007263a417', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nRelated-Bug: #1774459\n'}, {'number': 38, 'created': '2019-06-18 19:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a947169f767f0961d2891256b1210dd6819778ee', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 39, 'created': '2019-09-25 19:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8233f15f35becc9432ba03489bca89762b526dd6', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 40, 'created': '2019-09-26 18:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0262d33ba82e6298b6b2f0e682c4b7cc951e351f', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 41, 'created': '2019-10-02 21:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2987f8f8be54cb479267e72e92fb91199150e61', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 42, 'created': '2019-12-02 20:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3cd8b329e999edbfc99b0f8b121f4aefe3a8ca29', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 43, 'created': '2020-08-10 14:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fbfcd3052305cde280fef199b3dea0d716f151fd', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 44, 'created': '2020-08-28 13:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14362d60f471305bb54fb1e7f3cb04cc15e0d37a', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 45, 'created': '2020-09-08 10:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/73d25f764ddcf59181529596d058915ee8d2972b', 'message': 'DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 46, 'created': '2020-09-08 12:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a258397ca36c0804de44e959960c9a2f782e95b2', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 47, 'created': '2020-09-10 07:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/048804332fba86e23d627a8d8db3d3f846c5ae84', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 48, 'created': '2020-09-11 11:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ca5de3908729dc1e31aeda003605cbeb32c3567', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 49, 'created': '2020-09-18 15:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/67c0faa1bef3daa3270fbf995f0b374407911745', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 50, 'created': '2020-09-23 20:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/052364732c0bd7c335bb5da48bc7115726471ef8', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 51, 'created': '2020-09-24 08:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/273aa24bbbdcb56c75ff5844ee63f7ade3c8f103', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 52, 'created': '2020-09-25 15:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd43d62c0422e1b4cfae6f9d6be16756a6f0b501', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 53, 'created': '2020-09-30 07:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a509717b5e525fe9e720f3e6a5aa0cfe35edc236', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 54, 'created': '2020-10-06 06:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b3e0df50f71213fc7e42410a745715c68462786', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 55, 'created': '2020-10-13 13:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/42dbfd0a8936d0289e0a3769145ba67d3c597c47', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 56, 'created': '2020-10-29 10:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5745bedc027adc1ad7dd9020ae5eae83e1d9ce4e', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 57, 'created': '2020-11-09 21:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c693f5325bc06ebafe8cc56eea4eb432b524c1f9', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 58, 'created': '2020-11-16 14:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a1236b5453f0a3ce61d03b493727995aa0617a9', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 59, 'created': '2020-11-19 07:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e22cf3757da8b6507d4ff62be56c459d990aa7bf', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 60, 'created': '2020-11-24 12:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2325a38fe2a8cfaab59bfd2aef0f9d3c2b0d1c18', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 61, 'created': '2020-11-24 12:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce53152338408a26359676fa884759439ece7554', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 62, 'created': '2020-12-10 13:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab543c997900dbe98bb8f7acaceb4d3c84f4de34', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 63, 'created': '2020-12-21 11:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/08efbef181df7ce3092b021ec9ceefb8efd12460', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 64, 'created': '2021-01-08 08:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6cc646afa0fcac07a89cf64f74af294b6086863', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 65, 'created': '2021-01-13 11:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f69274091e2f1fb9fce0c5403b7e2c634caa2a10', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nThe Controller will verify the packet and then insert an openflow\nrule into the ARP Responder table. Then it sends out the packet out\nto FLOOD_TO_TUN for normal flow.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 66, 'created': '2021-04-28 11:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e996b82563c118ac55fdedb6065473a7d4a84653', 'message': ""DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nTODO: described here L2 pop and allowed_address_pairs modifications\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 67, 'created': '2021-05-06 14:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8f8cc90f2ec37180589ac6ad36a3ae234b5e9d8', 'message': ""WIP DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nTODO: described here L2 pop and allowed_address_pairs modifications\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 68, 'created': '2021-05-06 14:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c6a8088c2a2cc8e662594e691822f10d8f14e8f', 'message': ""WIP DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nTODO: described here L2 pop and allowed_address_pairs modifications\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 69, 'created': '2021-05-07 10:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e77c58fbcaf6a91c27922e00271a26e5e756436', 'message': ""WIP DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nTODO: described here L2 pop and allowed_address_pairs modifications\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 70, 'created': '2021-05-07 13:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8906cef8cf6bf81e053f2bdd9da7851a0d4d31c7', 'message': ""WIP DVR: Add ARP responder flows for allowed_address_pair IP\n\nThe ARP entry for the allowed_address_pair IP does not change based\non the GARP issued by any keepalived instance, since DVR does the\nARP table update through the control plane, and does not allow any\nARP requests to get out of the node.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nTODO: described here L2 pop and allowed_address_pairs modifications\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting 'allowed_address_pair_arp_responder' config option in\nthe neutron-ovs-agent's config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n""}, {'number': 71, 'created': '2021-05-13 09:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2caa855acd572f8469e4684e6a9d2f2c071ec0f8', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 72, 'created': '2021-05-13 10:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0221fe66de0bb35b744b78da19375b61e97875cc', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 73, 'created': '2021-05-13 10:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8af9d9d6e254655433834bfe4d7332cb75338f0', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 74, 'created': '2021-05-18 11:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/321b1f11e9cd9ce2a184035a2634e2819ce2912a', 'message': 'WIP DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 75, 'created': '2021-05-20 14:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b4f381d2d636d405413f6c7e31b3041aefe2659', 'message': 'WIP DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 76, 'created': '2021-05-20 15:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93639e2f477d5dc07f2e25e6bd1ea4269e462a52', 'message': 'WIP DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 77, 'created': '2021-05-25 15:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3b08a0dfe58faf3c12141c004fd565baa841dfb', 'message': 'WIP DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 78, 'created': '2021-05-27 15:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd99cf08b36b0add7fa4fced5837e7e896b90f05', 'message': 'WIP DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 79, 'created': '2021-05-31 15:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb11b06c2d5629ea44f0d6531f6ab5f7657a0855', 'message': 'WIP DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 80, 'created': '2021-06-02 11:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c90aa433fcf8849734b35e6e9c43a7fde68f4da', 'message': 'WIP DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 81, 'created': '2021-06-02 13:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d793b22efd95f74d779898f9145c02b30002d51', 'message': 'WIP DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 82, 'created': '2021-06-02 14:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c2156e37ca3abf1cac2158a6228c00f1070ac95', 'message': 'WIP DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 83, 'created': '2021-06-02 15:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ae332fa10337f223a5fac932f5c27dfb6d560c7', 'message': 'WIP DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 84, 'created': '2021-06-02 19:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/687d261d93351989aca990878cb97181507ae129', 'message': 'WIP DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 85, 'created': '2021-06-03 06:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ade64cd5d0f603efdb4d138b960233602040ba25', 'message': 'WIP DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 86, 'created': '2021-06-04 12:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/887f3202a37c4edc022e3e6e949270a0960db8ec', 'message': 'WIP DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 87, 'created': '2021-06-08 11:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a4f536ec7284bf0ba30a533505421f64bc19671', 'message': 'WIP DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 88, 'created': '2021-06-08 13:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c844ad26fe4c16bf3b52508a19943ddc1b805008', 'message': 'WIP DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795325\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 89, 'created': '2021-06-09 12:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e57d3a39a39d0bda015f2ac6abb65a1c5e07f72a', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795325\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 90, 'created': '2021-06-10 15:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e27785d20831bc40ba255c7af921d0d39d40f475', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795325\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 91, 'created': '2021-06-11 13:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc9e570cae63172f3f2a368f29de2268b4ae9faf', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795325\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 92, 'created': '2021-06-11 14:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96b54e9cb1e521ce5540da956265c0ba0fbaa6bc', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795325\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 93, 'created': '2021-06-18 11:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d561dc0361a869e149a7b24075987ab4d6766bdc', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795325\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 94, 'created': '2021-06-23 10:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d423fbae37cfcd299ead58623feb645074c09d5', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795325\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 95, 'created': '2021-07-08 14:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e598c470b7bd2bde885e3b26c45693e5cbfc95fc', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795325\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 96, 'created': '2021-07-20 09:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ea2ed4c58c5d05ef2abeeff071be830e4e49db6', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795325\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 97, 'created': '2021-08-05 07:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/498d55f3ae7a2722b3bfb0219d976a1b46740c58', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795325\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 98, 'created': '2021-08-09 10:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc19ac7295f95559a8a487e0097312a6bedd57d6', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795325\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 99, 'created': '2021-08-18 07:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/45b9e38e241898defa112384d5de478a3825a328', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795325\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 100, 'created': '2021-09-07 13:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/912ee76398d02a2c46e3ccbc4d5d96d268a3e068', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795325\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 101, 'created': '2021-10-06 14:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b0ba226c51292a20a9a14fc720247ca34f08f15', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795325\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 102, 'created': '2022-01-04 14:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/57159f7fdb25a31cdac114b3fcb3f78e4a301753', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795325\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 103, 'created': '2022-01-04 20:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5390edd8ecfac84251caaa617f9f24d7cce9e5b', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795325\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 104, 'created': '2022-01-05 15:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e2b827f5ba9b7bcc4b1d2aec9404a7ae64d6527', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/794788\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/795325\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}, {'number': 105, 'created': '2022-01-24 08:13:51.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/vlanmanager.py', 'neutron/db/l3_dvr_db.py', 'neutron/extensions/_allowedaddresspairs_active_vip_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'doc/source/admin/deploy-ovs-ha-dvr.rst', 'neutron/common/utils.py', 'neutron/agent/securitygroups_rpc.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/tests/unit/objects/test_objects.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py', 'doc/source/admin/figures/DVR_with_VIP.png', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py', 'neutron/common/_constants.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/extensions/allowed_address_pairs_active_vip.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_vlanmanager.py', 'neutron/plugins/ml2/rpc.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_tun.py', 'neutron/tests/unit/objects/port/extensions/test_allowedaddresspairs.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'doc/source/admin/figures/DVR_with_VIP.drawio', 'neutron/tests/unit/common/test_utils.py', 'releasenotes/notes/dvr-arp-responder-3277cfec41230224.yaml', 'neutron/agent/rpc.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/tests/unit/db/test_allowedaddresspairs_db.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/migration/alembic_migrations/versions/yoga/expand/d863c3bdc0c5_add_active_allowed_address_pairs.py', 'neutron/objects/port/extensions/allowedaddresspairs.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_tun.py', 'neutron/db/models/allowed_address_pair.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/781b7fdf747305855f0a8b4411c7bd9fcdfb6e39', 'message': 'DVR: Populate ARP entries of the allowed_address_pairs to the routers\n\nIn the DVR case, all ARP entries which are needed for routers are\npopulated to them through the control plane. That causes problem with\nthe ARP entries for the allowed_address_pair IP which does not change\nbased on the GARP issued by any keepalived instance.\n\nTo solve this problem the OpenFlow controller running in the\nNetwork/Compute Nodes can monitor the GARP packets for the configured\nAllowed_address_pair IP and forward it to the Controller.\n\nController checks how many address pairs with same (ip_address,\nnetwork_id) are configured. If there is more than one such entries, that\nmeans that this is used as ""virtual IP address"" and only one of those\nentries should be active. All others are marked as inactive.\nFinally controller will then populate new arp_entries for active\nallowed_address_pairs to the dvr routers.\n\nThis new behaviour is optional and disabled by default. It can be\nenabled by setting \'monitor_allowed_address_pair_garp\' config option in\nthe neutron-ovs-agent\'s config to True.\n\nThis patch address the issue mentioned above with native openflow\ncontroller.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\nCo-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\n\nChange-Id: I2dfbb750363c5e73fafd436667abb445f275174b\nCloses-Bug: #1774459\n'}]",630,601336,781b7fdf747305855f0a8b4411c7bd9fcdfb6e39,649,30,105,7016,,,0,"DVR: Populate ARP entries of the allowed_address_pairs to the routers

In the DVR case, all ARP entries which are needed for routers are
populated to them through the control plane. That causes problem with
the ARP entries for the allowed_address_pair IP which does not change
based on the GARP issued by any keepalived instance.

To solve this problem the OpenFlow controller running in the
Network/Compute Nodes can monitor the GARP packets for the configured
Allowed_address_pair IP and forward it to the Controller.

Controller checks how many address pairs with same (ip_address,
network_id) are configured. If there is more than one such entries, that
means that this is used as ""virtual IP address"" and only one of those
entries should be active. All others are marked as inactive.
Finally controller will then populate new arp_entries for active
allowed_address_pairs to the dvr routers.

This new behaviour is optional and disabled by default. It can be
enabled by setting 'monitor_allowed_address_pair_garp' config option in
the neutron-ovs-agent's config to True.

This patch address the issue mentioned above with native openflow
controller.

Co-Authored-By: Slawek Kaplonski <skaplons@redhat.com>
Co-Authored-By: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>

Change-Id: I2dfbb750363c5e73fafd436667abb445f275174b
Closes-Bug: #1774459
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/601336/104 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_tun.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py']",3,60b53f3ac0068c5f2456d8235e35b764cc700400,bug/1928466,GARP_SNOOP_TABLE = 26,,68,1
openstack%2Fkolla-ansible~stable%2Ftrain~I50d28ea31c3c29322974b91a72a2bd7999324ac7,openstack/kolla-ansible,stable/train,I50d28ea31c3c29322974b91a72a2bd7999324ac7,[baremetal]: Use $releasever in docker-ce repo,MERGED,2022-01-24 08:59:47.000000000,2022-01-24 11:27:16.000000000,2022-01-24 11:25:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-01-24 08:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/163e65a2ef987e69a01e22936c395e3730f16a19', 'message': '[baremetal]: Use $releasever in docker-ce repo\n\nUpdate to CentOS 8 versions of packages in docker-ce repo (that are\nnow available)\n\nChange-Id: I50d28ea31c3c29322974b91a72a2bd7999324ac7\n(cherry picked from commit 883b79a1a522bc8b9cc4ed22870356d64a96fa6c)\n(cherry picked from commit 2a7197a6a5afb3b71214dffabca1104eaf15200f)\n'}, {'number': 2, 'created': '2022-01-24 09:00:21.000000000', 'files': ['releasenotes/notes/docker-repo-centos-8-edc2412c57a2762c.yaml', 'ansible/roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e7f1eb92f4ac3afe0cf809381a97c87b24b68235', 'message': '[baremetal]: Use $releasever in docker-ce repo\n\nUpdate to CentOS 8 versions of packages in docker-ce repo (that are\nnow available)\n\nChange-Id: I50d28ea31c3c29322974b91a72a2bd7999324ac7\n(cherry picked from commit 883b79a1a522bc8b9cc4ed22870356d64a96fa6c)\n(cherry picked from commit 2a7197a6a5afb3b71214dffabca1104eaf15200f)\n'}]",0,825945,e7f1eb92f4ac3afe0cf809381a97c87b24b68235,11,4,2,14826,,,0,"[baremetal]: Use $releasever in docker-ce repo

Update to CentOS 8 versions of packages in docker-ce repo (that are
now available)

Change-Id: I50d28ea31c3c29322974b91a72a2bd7999324ac7
(cherry picked from commit 883b79a1a522bc8b9cc4ed22870356d64a96fa6c)
(cherry picked from commit 2a7197a6a5afb3b71214dffabca1104eaf15200f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/825945/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/docker-repo-centos-8-edc2412c57a2762c.yaml', 'ansible/roles/baremetal/defaults/main.yml']",2,163e65a2ef987e69a01e22936c395e3730f16a19,use_centos8_docker-stable/ussuri-stable/train,"<<<<<<< HEAD (e98a86 Access to zun container fails when tls_external enabled.)======= docker_yum_baseurl: ""{{ docker_yum_url }}/$releasever/$basearch/stable"" >>>>>>> CHANGE (2a7197 [baremetal]: Use $releasever in docker-ce repo)",,9,0
openstack%2Fkolla-ansible~stable%2Fxena~I5d6af3707c3de4466699f1a0e6ff2f2e2fe4e123,openstack/kolla-ansible,stable/xena,I5d6af3707c3de4466699f1a0e6ff2f2e2fe4e123,Add logrotate to libvirt service,MERGED,2022-01-14 15:39:19.000000000,2022-01-24 11:25:26.000000000,2022-01-24 11:23:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-14 15:39:19.000000000', 'files': ['ansible/roles/common/templates/cron-logrotate-nova-libvirt.conf.j2', 'ansible/roles/common/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/72be14b3fa3ed2dea0659c18d6ea17b02ef78e73', 'message': 'Add logrotate to libvirt service\n\nChange-Id: I5d6af3707c3de4466699f1a0e6ff2f2e2fe4e123\n(cherry picked from commit f17bd2db7714571830f6604986e2b157806868a7)\n'}]",3,824728,72be14b3fa3ed2dea0659c18d6ea17b02ef78e73,15,4,1,9545,,,0,"Add logrotate to libvirt service

Change-Id: I5d6af3707c3de4466699f1a0e6ff2f2e2fe4e123
(cherry picked from commit f17bd2db7714571830f6604986e2b157806868a7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/28/824728/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/cron-logrotate-nova-libvirt.conf.j2', 'ansible/roles/common/tasks/config.yml']",2,72be14b3fa3ed2dea0659c18d6ea17b02ef78e73,," - { name: ""nova-libvirt"", enabled: ""{{ enable_nova | bool and nova_compute_virt_type in ['kvm', 'qemu'] }}"" }",,4,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I80f8319b2cf2e4ae09904a08532cde5ec0385fa3,openstack/kolla-ansible,stable/victoria,I80f8319b2cf2e4ae09904a08532cde5ec0385fa3,Use Docker healthchecks for ironic-neutron-agent services,MERGED,2022-01-20 10:06:08.000000000,2022-01-24 11:25:09.000000000,2022-01-24 11:23:33.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-20 10:06:08.000000000', 'files': ['ansible/roles/neutron/defaults/main.yml', 'ansible/roles/neutron/defaults/releasenotes/notes/implement-docker-healthchecks-for-ironic-neutron-agent-61ec4d0d237da075.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/149e6dd79515725e0a7b3340293a237209d560c4', 'message': 'Use Docker healthchecks for ironic-neutron-agent services\n\nThis change enables the use of Docker healthchecks for ironic-neutron-agent services.\n\nChange-Id: I80f8319b2cf2e4ae09904a08532cde5ec0385fa3\nImplements: blueprint container-health-check\n'}]",2,825461,149e6dd79515725e0a7b3340293a237209d560c4,15,3,1,32029,,,0,"Use Docker healthchecks for ironic-neutron-agent services

This change enables the use of Docker healthchecks for ironic-neutron-agent services.

Change-Id: I80f8319b2cf2e4ae09904a08532cde5ec0385fa3
Implements: blueprint container-health-check
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/61/825461/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/defaults/main.yml', 'ansible/roles/neutron/defaults/releasenotes/notes/implement-docker-healthchecks-for-ironic-neutron-agent-61ec4d0d237da075.yaml']",2,149e6dd79515725e0a7b3340293a237209d560c4,container-health-check-stable/victoria,--- features: - | Implements container healthchecks for ironic-neutron-agent service. See `blueprint <https://blueprints.launchpad.net/kolla-ansible/+spec/container-health-check>`__ ,,20,0
openstack%2Fkolla-ansible~stable%2Fxena~I80f8319b2cf2e4ae09904a08532cde5ec0385fa3,openstack/kolla-ansible,stable/xena,I80f8319b2cf2e4ae09904a08532cde5ec0385fa3,Use Docker healthchecks for ironic-neutron-agent services,MERGED,2022-01-21 19:19:47.000000000,2022-01-24 11:21:02.000000000,2022-01-24 11:18:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-21 19:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0ebbd5d6dabf54ba9928678bb1e09cf7f829cb81', 'message': 'Use Docker healthchecks for ironic-neutron-agent services\n\nThis change enables the use of Docker healthchecks for ironic-neutron-agent services.\n\nChange-Id: I80f8319b2cf2e4ae09904a08532cde5ec0385fa3\nImplements: blueprint container-health-check\n(cherry picked from commit 98c6a4b65a1567731a858b80c2cba3118617b0e3)\n'}, {'number': 2, 'created': '2022-01-22 08:05:57.000000000', 'files': ['ansible/roles/neutron/defaults/main.yml', 'ansible/roles/neutron/defaults/releasenotes/notes/implement-docker-healthchecks-for-ironic-neutron-agent-61ec4d0d237da075.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e891bfdf21a609aa4622cf6f7dd8f671061d892a', 'message': 'Use Docker healthchecks for ironic-neutron-agent services\n\nThis change enables the use of Docker healthchecks for ironic-neutron-agent services.\n\nChange-Id: I80f8319b2cf2e4ae09904a08532cde5ec0385fa3\nImplements: blueprint container-health-check\n(cherry picked from commit 98c6a4b65a1567731a858b80c2cba3118617b0e3)\n'}]",0,825851,e891bfdf21a609aa4622cf6f7dd8f671061d892a,13,4,2,30491,,,0,"Use Docker healthchecks for ironic-neutron-agent services

This change enables the use of Docker healthchecks for ironic-neutron-agent services.

Change-Id: I80f8319b2cf2e4ae09904a08532cde5ec0385fa3
Implements: blueprint container-health-check
(cherry picked from commit 98c6a4b65a1567731a858b80c2cba3118617b0e3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/825851/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/defaults/main.yml', 'ansible/roles/neutron/defaults/releasenotes/notes/implement-docker-healthchecks-for-ironic-neutron-agent-61ec4d0d237da075.yaml']",2,0ebbd5d6dabf54ba9928678bb1e09cf7f829cb81,container-health-check-stable/xena,--- features: - | Implements container healthchecks for ironic-neutron-agent service. See `blueprint <https://blueprints.launchpad.net/kolla-ansible/+spec/container-health-check>`__ ,,20,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I80f8319b2cf2e4ae09904a08532cde5ec0385fa3,openstack/kolla-ansible,stable/wallaby,I80f8319b2cf2e4ae09904a08532cde5ec0385fa3,Use Docker healthchecks for ironic-neutron-agent services,MERGED,2022-01-20 10:06:54.000000000,2022-01-24 11:21:01.000000000,2022-01-24 11:18:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-20 10:06:54.000000000', 'files': ['ansible/roles/neutron/defaults/main.yml', 'ansible/roles/neutron/defaults/releasenotes/notes/implement-docker-healthchecks-for-ironic-neutron-agent-61ec4d0d237da075.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/30d23f3801b37330d0fe7394a20330ff53b92e99', 'message': 'Use Docker healthchecks for ironic-neutron-agent services\n\nThis change enables the use of Docker healthchecks for ironic-neutron-agent services.\n\nChange-Id: I80f8319b2cf2e4ae09904a08532cde5ec0385fa3\nImplements: blueprint container-health-check\n'}]",2,825462,30d23f3801b37330d0fe7394a20330ff53b92e99,15,3,1,32029,,,0,"Use Docker healthchecks for ironic-neutron-agent services

This change enables the use of Docker healthchecks for ironic-neutron-agent services.

Change-Id: I80f8319b2cf2e4ae09904a08532cde5ec0385fa3
Implements: blueprint container-health-check
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/62/825462/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/defaults/main.yml', 'ansible/roles/neutron/defaults/releasenotes/notes/implement-docker-healthchecks-for-ironic-neutron-agent-61ec4d0d237da075.yaml']",2,30d23f3801b37330d0fe7394a20330ff53b92e99,container-health-check-stable/wallaby,--- features: - | Implements container healthchecks for ironic-neutron-agent service. See `blueprint <https://blueprints.launchpad.net/kolla-ansible/+spec/container-health-check>`__ ,,20,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I9fb4b25514f5890adfac2f4007ec4a819fc9f566,openstack/kolla-ansible,stable/victoria,I9fb4b25514f5890adfac2f4007ec4a819fc9f566,Continue to run all actions if one action failed in curator,MERGED,2022-01-20 09:58:50.000000000,2022-01-24 11:20:56.000000000,2022-01-24 11:18:37.000000000,"[{'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-20 09:58:50.000000000', 'files': ['releasenotes/notes/bug-1954720-4fc48610a56f3e98.yaml', 'ansible/roles/elasticsearch/templates/elasticsearch-curator-actions.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7fefa5a546b8faace5c2d9ca1b75d245336edf78', 'message': 'Continue to run all actions if one action failed in curator\n\nThis patch also configure delete indices action before close indices.\nmore info check curator source code[0].\n\n[0] https://github.com/elastic/curator/blob/ac5db911a1b4266908540bbaf44f697be85bb028/curator/cli.py#L217-L224\n\nChange-Id: I9fb4b25514f5890adfac2f4007ec4a819fc9f566\nCloses-Bug: #1954720\n(cherry picked from commit 6e3f741ace5993598985b8fb01e0ab6ddf0a84db)\n'}]",1,825459,7fefa5a546b8faace5c2d9ca1b75d245336edf78,12,5,1,14826,,,0,"Continue to run all actions if one action failed in curator

This patch also configure delete indices action before close indices.
more info check curator source code[0].

[0] https://github.com/elastic/curator/blob/ac5db911a1b4266908540bbaf44f697be85bb028/curator/cli.py#L217-L224

Change-Id: I9fb4b25514f5890adfac2f4007ec4a819fc9f566
Closes-Bug: #1954720
(cherry picked from commit 6e3f741ace5993598985b8fb01e0ab6ddf0a84db)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/825459/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1954720-4fc48610a56f3e98.yaml', 'ansible/roles/elasticsearch/templates/elasticsearch-curator-actions.yml.j2']",2,7fefa5a546b8faace5c2d9ca1b75d245336edf78,," continue_if_exception: True 2: action: close description: >- Closes indices options: ignore_empty_list: True continue_if_exception: True filters: - filtertype: pattern kind: prefix value: ""{{ elasticsearch_curator_index_pattern }}"" - filtertype: age source: name direction: older timestring: '%Y.%m.%d' unit: days unit_count: ""{{ elasticsearch_curator_soft_retention_period_days }}"""," action: close description: >- Closes indices options: ignore_empty_list: True filters: - filtertype: pattern kind: prefix value: ""{{ elasticsearch_curator_index_pattern }}"" - filtertype: age source: name direction: older timestring: '%Y.%m.%d' unit: days unit_count: ""{{ elasticsearch_curator_soft_retention_period_days }}"" 2:",24,16
openstack%2Fkolla-ansible~stable%2Fwallaby~I9fb4b25514f5890adfac2f4007ec4a819fc9f566,openstack/kolla-ansible,stable/wallaby,I9fb4b25514f5890adfac2f4007ec4a819fc9f566,Continue to run all actions if one action failed in curator,MERGED,2022-01-20 09:58:41.000000000,2022-01-24 11:16:20.000000000,2022-01-24 11:14:34.000000000,"[{'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-20 09:58:41.000000000', 'files': ['releasenotes/notes/bug-1954720-4fc48610a56f3e98.yaml', 'ansible/roles/elasticsearch/templates/elasticsearch-curator-actions.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b710043655f144804b653d3b8bf3189b45e79a11', 'message': 'Continue to run all actions if one action failed in curator\n\nThis patch also configure delete indices action before close indices.\nmore info check curator source code[0].\n\n[0] https://github.com/elastic/curator/blob/ac5db911a1b4266908540bbaf44f697be85bb028/curator/cli.py#L217-L224\n\nChange-Id: I9fb4b25514f5890adfac2f4007ec4a819fc9f566\nCloses-Bug: #1954720\n(cherry picked from commit 6e3f741ace5993598985b8fb01e0ab6ddf0a84db)\n'}]",1,825458,b710043655f144804b653d3b8bf3189b45e79a11,11,4,1,14826,,,0,"Continue to run all actions if one action failed in curator

This patch also configure delete indices action before close indices.
more info check curator source code[0].

[0] https://github.com/elastic/curator/blob/ac5db911a1b4266908540bbaf44f697be85bb028/curator/cli.py#L217-L224

Change-Id: I9fb4b25514f5890adfac2f4007ec4a819fc9f566
Closes-Bug: #1954720
(cherry picked from commit 6e3f741ace5993598985b8fb01e0ab6ddf0a84db)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/825458/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1954720-4fc48610a56f3e98.yaml', 'ansible/roles/elasticsearch/templates/elasticsearch-curator-actions.yml.j2']",2,b710043655f144804b653d3b8bf3189b45e79a11,," continue_if_exception: True 2: action: close description: >- Closes indices options: ignore_empty_list: True continue_if_exception: True filters: - filtertype: pattern kind: prefix value: ""{{ elasticsearch_curator_index_pattern }}"" - filtertype: age source: name direction: older timestring: '%Y.%m.%d' unit: days unit_count: ""{{ elasticsearch_curator_soft_retention_period_days }}"""," action: close description: >- Closes indices options: ignore_empty_list: True filters: - filtertype: pattern kind: prefix value: ""{{ elasticsearch_curator_index_pattern }}"" - filtertype: age source: name direction: older timestring: '%Y.%m.%d' unit: days unit_count: ""{{ elasticsearch_curator_soft_retention_period_days }}"" 2:",24,16
openstack%2Fneutron~master~I55f25f56f87bfa2a5e330cdf4c1087e8d4082b29,openstack/neutron,master,I55f25f56f87bfa2a5e330cdf4c1087e8d4082b29,"[OVN] Prevent OVS to OVN migration if firewall ""iptables_hybrid""",MERGED,2021-11-17 15:30:18.000000000,2022-01-24 11:14:53.000000000,2022-01-24 11:12:59.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 29350}, {'_account_id': 32586}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-11-17 15:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1213d0420f2a7eb504fbc76cfa9a37481ae01a06', 'message': '[OVN] Prevent OVS to OVN migration if firewall ""iptables_hybrid""\n\nPrevent the OVS to OVN migration if any node has the OVS agent\nfirewall set to ""iptables_hybrid"". If present, the migration will\nexit. This check is implemented in the OVN migration script for\nTripleO environments.\n\nCloses-Bug: #1951272\nChange-Id: I55f25f56f87bfa2a5e330cdf4c1087e8d4082b29\n'}, {'number': 2, 'created': '2021-11-18 18:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a1746affd14a4da676839600caff71aaa3e7272', 'message': '[OVN] Prevent OVS to OVN migration if firewall ""iptables_hybrid""\n\nPrevent the OVS to OVN migration if any node has the OVS agent\nfirewall set to ""iptables_hybrid"". If present, the migration will\nexit. This check is implemented in the OVN migration script for\nTripleO environments.\n\nCloses-Bug: #1951272\nChange-Id: I55f25f56f87bfa2a5e330cdf4c1087e8d4082b29\n'}, {'number': 3, 'created': '2022-01-07 14:56:41.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/pre-checks/ovn-controllers/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/ovn-migration.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2aa1bbabe355243e109d898eabf87acded2fef2f', 'message': '[OVN] Prevent OVS to OVN migration if firewall ""iptables_hybrid""\n\nPrevent the OVS to OVN migration if any node has the OVS agent\nfirewall set to ""iptables_hybrid"". If present, the migration will\nexit. This check is implemented in the OVN migration script for\nTripleO environments.\n\nCloses-Bug: #1951272\nChange-Id: I55f25f56f87bfa2a5e330cdf4c1087e8d4082b29\n'}]",21,818239,2aa1bbabe355243e109d898eabf87acded2fef2f,44,10,3,16688,,,0,"[OVN] Prevent OVS to OVN migration if firewall ""iptables_hybrid""

Prevent the OVS to OVN migration if any node has the OVS agent
firewall set to ""iptables_hybrid"". If present, the migration will
exit. This check is implemented in the OVN migration script for
TripleO environments.

Closes-Bug: #1951272
Change-Id: I55f25f56f87bfa2a5e330cdf4c1087e8d4082b29
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/818239/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ovn_migration/tripleo_environment/playbooks/ovn-migration.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/pre-checks/controllers/tasks/main.yml']",2,1213d0420f2a7eb504fbc76cfa9a37481ae01a06,bug/1951272,"--- - name: Read OVS agent firewall configuration shell: > podman exec neutron_ovs_agent /bin/sh -c ""cat /etc/neutron/plugins/ml2/openvswitch_agent.ini | grep firewall_driver | cut -f2 -d'='"" register: ovs_firewall - name: Check OVS agent firewall is not using ""iptables_hybrid"" option assert: that: - ""'iptables_hybrid' != ovs_firewall.stdout"" fail_msg: ""OVS agent firewall cannot be 'iptables_hybrid', migration will not continue"" ",,20,0
openstack%2Fkolla-ansible~stable%2Fxena~I9fb4b25514f5890adfac2f4007ec4a819fc9f566,openstack/kolla-ansible,stable/xena,I9fb4b25514f5890adfac2f4007ec4a819fc9f566,Continue to run all actions if one action failed in curator,MERGED,2022-01-20 09:58:15.000000000,2022-01-24 11:13:39.000000000,2022-01-24 11:11:53.000000000,"[{'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-20 09:58:15.000000000', 'files': ['releasenotes/notes/bug-1954720-4fc48610a56f3e98.yaml', 'ansible/roles/elasticsearch/templates/elasticsearch-curator-actions.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/51fff9cf94691f2cd4f3b8d462072eed471fa414', 'message': 'Continue to run all actions if one action failed in curator\n\nThis patch also configure delete indices action before close indices.\nmore info check curator source code[0].\n\n[0] https://github.com/elastic/curator/blob/ac5db911a1b4266908540bbaf44f697be85bb028/curator/cli.py#L217-L224\n\nChange-Id: I9fb4b25514f5890adfac2f4007ec4a819fc9f566\nCloses-Bug: #1954720\n(cherry picked from commit 6e3f741ace5993598985b8fb01e0ab6ddf0a84db)\n'}]",1,825457,51fff9cf94691f2cd4f3b8d462072eed471fa414,12,5,1,14826,,,0,"Continue to run all actions if one action failed in curator

This patch also configure delete indices action before close indices.
more info check curator source code[0].

[0] https://github.com/elastic/curator/blob/ac5db911a1b4266908540bbaf44f697be85bb028/curator/cli.py#L217-L224

Change-Id: I9fb4b25514f5890adfac2f4007ec4a819fc9f566
Closes-Bug: #1954720
(cherry picked from commit 6e3f741ace5993598985b8fb01e0ab6ddf0a84db)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/825457/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1954720-4fc48610a56f3e98.yaml', 'ansible/roles/elasticsearch/templates/elasticsearch-curator-actions.yml.j2']",2,51fff9cf94691f2cd4f3b8d462072eed471fa414,," continue_if_exception: True 2: action: close description: >- Closes indices options: ignore_empty_list: True continue_if_exception: True filters: - filtertype: pattern kind: prefix value: ""{{ elasticsearch_curator_index_pattern }}"" - filtertype: age source: name direction: older timestring: '%Y.%m.%d' unit: days unit_count: ""{{ elasticsearch_curator_soft_retention_period_days }}"""," action: close description: >- Closes indices options: ignore_empty_list: True filters: - filtertype: pattern kind: prefix value: ""{{ elasticsearch_curator_index_pattern }}"" - filtertype: age source: name direction: older timestring: '%Y.%m.%d' unit: days unit_count: ""{{ elasticsearch_curator_soft_retention_period_days }}"" 2:",24,16
openstack%2Fkuryr-tempest-plugin~master~Id19f85625901b35900f9441aace8fe8938cb1d68,openstack/kuryr-tempest-plugin,master,Id19f85625901b35900f9441aace8fe8938cb1d68,Add test_service_with_not_ready_endpoints test,MERGED,2021-12-21 08:57:50.000000000,2022-01-24 11:09:40.000000000,2022-01-24 11:06:37.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-12-21 08:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/07ec0de1db88c290233b8aa79c9b556b47bdd212', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a dummy readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}, {'number': 2, 'created': '2021-12-21 08:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/b4b28f0a18615c6328511beaacedc00c0d6e9a2c', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a dummy readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}, {'number': 3, 'created': '2021-12-21 15:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/a7276cc3919e0641968a66f276856e579629a91d', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a dummy readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}, {'number': 4, 'created': '2021-12-21 22:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/bcf42eb852ac4e8ed8c622fd5804979dff4a716e', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a dummy readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}, {'number': 5, 'created': '2021-12-22 10:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/7ebf510af3c8239eef0da9fbfec2016c49683d47', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a dummy readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}, {'number': 6, 'created': '2021-12-22 10:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/aa0dee47ee206213ce04031f3768a431e3c4e5dd', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a dummy readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}, {'number': 7, 'created': '2021-12-22 22:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/5fe5c8aba8504419df0f4b85444f459ededd778d', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a dummy readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}, {'number': 8, 'created': '2021-12-23 15:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/67874b1f92059792a0e33c87897280914bad8dc2', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a dummy readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}, {'number': 9, 'created': '2022-01-03 11:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/5a62cea2574c72ca435f4a75b21cc8ca13d30a5b', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a failing readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}, {'number': 10, 'created': '2022-01-03 15:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/316dd38b5dcd69cfe62df769462a9ab8c1b22ac9', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a failing readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}, {'number': 11, 'created': '2022-01-05 13:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/3c28a3c789bd91cea05281b72585fe0d9b37c6c0', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a failing readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}, {'number': 12, 'created': '2022-01-10 15:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/a8ba5a7e5e180a260b7e43638ab302cdd6bba89a', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a failing readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}, {'number': 13, 'created': '2022-01-10 15:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/d77f34f3f3266e30cd6bc3f7643b5058b60fa34a', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a failing readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}, {'number': 14, 'created': '2022-01-11 17:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/275bb2a6650afeb8c05f9b5e10d572b6abd5ec6a', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a failing readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}, {'number': 15, 'created': '2022-01-11 21:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/6492f096578ad4cc786c23d9480fc90e8dba1329', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a failing readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}, {'number': 16, 'created': '2022-01-12 14:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/5fcc05065ccb2f613474d7fb75e1bce6e521c191', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a failing readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}, {'number': 17, 'created': '2022-01-13 12:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/aea7ae2a35dbee2d6cc21e4a0da1969628373fee', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a failing readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}, {'number': 18, 'created': '2022-01-13 18:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/00bb809b4feb1890dbeddf7b4bd750aed3da9bf3', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a failing readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}, {'number': 19, 'created': '2022-01-14 18:24:17.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/tests/scenario/consts.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/2ffdd2f47560087a242a3731f831dfb51ed2b149', 'message': 'Add test_service_with_not_ready_endpoints test\n\nThis test case automates the issue described in\nBZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.\n\nThe new test case:\n - creates a deployment with a failing readiness probe so all\n   the pods are not ready\n - creates a service for the deployment (where the endpoints\n   are not ready)\n - it checks Kuryr pods are not restarted\n\nChange-Id: Id19f85625901b35900f9441aace8fe8938cb1d68\n'}]",29,822409,2ffdd2f47560087a242a3731f831dfb51ed2b149,56,6,19,27086,,,0,"Add test_service_with_not_ready_endpoints test

This test case automates the issue described in
BZ https://bugzilla.redhat.com/show_bug.cgi?id=1980957.

The new test case:
 - creates a deployment with a failing readiness probe so all
   the pods are not ready
 - creates a service for the deployment (where the endpoints
   are not ready)
 - it checks Kuryr pods are not restarted

Change-Id: Id19f85625901b35900f9441aace8fe8938cb1d68
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/09/822409/16 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/tests/scenario/base.py']",2,07ec0de1db88c290233b8aa79c9b556b47bdd212,services," def get_pods_status_num(cls, namespace=""default"", label="""", num_pods=1, status=""Running""): pods = cls.get_pod_name_list(namespace=namespace, label_selector=label) status_pods = sum(filter(None, [cls.get_pod_status(p) == status for p in pods])) return (num_pods == status_pods) @classmethod labels={""app"": ""demo""}, probe=False): if probe: for container in template[""spec""][""containers""]: container[""readinessProbe""] = {""httpGet"": {""path"": ""/healthz"", ""port"": 8089}, ""initialDelaySeconds"": 2, ""timeoutSeconds"": 1} @classmethod def get_pod_containers_restarts(cls, pod_names, namespace='default'): containers = {} for pod_name in pod_names: containers[pod_name] = {} pod = cls.k8s_client.CoreV1Api().read_namespaced_pod(pod_name, namespace) for container in pod.status.container_statuses: containers[pod_name][container.name] = container.restart_count return containers"," labels={""app"": ""demo""}):",79,1
openstack%2Fkuryr-tempest-plugin~master~I1acba9f407de084f19d9ee12fb6e95de03d578df,openstack/kuryr-tempest-plugin,master,I1acba9f407de084f19d9ee12fb6e95de03d578df,Amend check_sg_rules_for_np() method,MERGED,2022-01-14 18:16:15.000000000,2022-01-24 11:08:22.000000000,2022-01-24 11:06:31.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-01-14 18:16:15.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/base_network_policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/d9a93bcba9dd3360ce3de3fc81bef10452bf40c5', 'message': ""Amend check_sg_rules_for_np() method\n\nMove ingress_cidrs_found and egress_cidrs_initialization to\ninside the while loop so they're cleared in each iteration.\nMove rule match comprobation outside the rules for loop.\n\nChange-Id: I1acba9f407de084f19d9ee12fb6e95de03d578df\n""}]",2,824770,d9a93bcba9dd3360ce3de3fc81bef10452bf40c5,10,4,1,27086,,,0,"Amend check_sg_rules_for_np() method

Move ingress_cidrs_found and egress_cidrs_initialization to
inside the while loop so they're cleared in each iteration.
Move rule match comprobation outside the rules for loop.

Change-Id: I1acba9f407de084f19d9ee12fb6e95de03d578df
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/70/824770/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/base_network_policy.py'],1,d9a93bcba9dd3360ce3de3fc81bef10452bf40c5,kuryr_test_np, ingress_cidrs_found = set() egress_cidrs_found = set() if (ingress_cidrs_should_exist.issubset(ingress_cidrs_found) and (not ingress_cidrs_shouldnt_exist or not ingress_cidrs_shouldnt_exist.issubset( ingress_cidrs_found)) and egress_cidrs_should_exist.issubset(egress_cidrs_found) and (not egress_cidrs_shouldnt_exist or not egress_cidrs_shouldnt_exist.issubset( egress_cidrs_found))): rules_match = True time.sleep(1) , ingress_cidrs_found = set() egress_cidrs_found = set() if (ingress_cidrs_should_exist.issubset(ingress_cidrs_found) and (not ingress_cidrs_shouldnt_exist or not ingress_cidrs_shouldnt_exist.issubset( ingress_cidrs_found)) and egress_cidrs_should_exist.issubset(egress_cidrs_found) and (not egress_cidrs_shouldnt_exist or not egress_cidrs_shouldnt_exist.issubset( egress_cidrs_found))): rules_match = True else: time.sleep(10),14,13
openstack%2Fkuryr-tempest-plugin~master~I8c2d6e8e66d707fcf22311456c0584a6167acea1,openstack/kuryr-tempest-plugin,master,I8c2d6e8e66d707fcf22311456c0584a6167acea1,Define new test_endpoints_object_removal config option,MERGED,2022-01-13 12:37:29.000000000,2022-01-24 11:06:35.000000000,2022-01-24 11:06:35.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-01-13 12:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/8f65f3e3f3d4992d2babf89773733feda4e24031', 'message': ""Define new test_lb_member_removal config option\n\nThere are some old kuryr-kubernetes versions that don't\nsupport LB pool members removal upon endpoint deletion.\nFor such cases, and in order to be able to run the test\negress_np_to_service_wo_selectors for all the versions,\na new configuration option test_lb_member_removal is\ndefined.\n\nIt's expected to set test_lb_member_removal to False in\nthose environments where the removal is not supported,\nand keep it to the default True value in the rest of\nthem.\n\nChange-Id: I8c2d6e8e66d707fcf22311456c0584a6167acea1\n""}, {'number': 2, 'created': '2022-01-13 12:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/f0943879f92968f7e1e9f9175f1e58a15b86e4f4', 'message': ""Define new test_lb_member_removal config option\n\nThere are some old kuryr-kubernetes versions that don't\nsupport LB pool members removal upon endpoint deletion.\nFor such cases, and in order to be able to run the test\ntest_service_without_selector for all the versions, a\nnew configuration option test_lb_member_removal is\ndefined.\n\nIt's expected to set test_lb_member_removal to False in\nthose environments where the removal is not supported,\nand keep it to the default True value in the rest of\nthem.\n\nChange-Id: I8c2d6e8e66d707fcf22311456c0584a6167acea1\n""}, {'number': 3, 'created': '2022-01-14 18:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/7e3b9498df7b6811382e521092b99ca25c802635', 'message': ""Define new test_lb_member_removal config option\n\nThere are some old kuryr-kubernetes versions that don't\nsupport LB pool members removal upon endpoint deletion.\nFor such cases, and in order to be able to run the test\ntest_service_without_selector for all the versions, a\nnew configuration option test_lb_member_removal is\ndefined.\n\nIt's expected to set test_lb_member_removal to False in\nthose environments where the removal is not supported,\nand keep it to the default True value in the rest of\nthem.\n\nChange-Id: I8c2d6e8e66d707fcf22311456c0584a6167acea1\n""}, {'number': 4, 'created': '2022-01-19 22:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/34d8b20709c2279311bc3e3f9670f206dece8c11', 'message': ""Define new test_endpoints_object_removal config option\n\nThere are some old kuryr-kubernetes versions that don't\nsupport LB pool members removal upon endpoint deletion.\nFor such cases, and in order to be able to run the test\ntest_service_without_selector for all the versions, a\nnew configuration option test_endpoints_object_removal\nis defined.\n\nIt's expected to set test_endpoints_object_removal to\nFalse in those environments where the removal is not\nsupported, and keep it to the default True value in\nthe rest of them.\n\nChange-Id: I8c2d6e8e66d707fcf22311456c0584a6167acea1\n""}, {'number': 5, 'created': '2022-01-19 22:24:24.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/635cf80fc584c21157059e0ccd0eeb6a86be169a', 'message': ""Define new test_endpoints_object_removal config option\n\nThere are some old kuryr-kubernetes versions that don't\nsupport LB pool members removal upon endpoint deletion.\nFor such cases, and in order to be able to run the test\ntest_service_without_selector for all the versions, a\nnew configuration option test_endpoints_object_removal\nis defined.\n\nIt's expected to set test_endpoints_object_removal to\nFalse in those environments where the removal is not\nsupported, and keep it to the default True value in\nthe rest of them.\n\nChange-Id: I8c2d6e8e66d707fcf22311456c0584a6167acea1\n""}]",4,824557,635cf80fc584c21157059e0ccd0eeb6a86be169a,19,4,5,27086,,,0,"Define new test_endpoints_object_removal config option

There are some old kuryr-kubernetes versions that don't
support LB pool members removal upon endpoint deletion.
For such cases, and in order to be able to run the test
test_service_without_selector for all the versions, a
new configuration option test_endpoints_object_removal
is defined.

It's expected to set test_endpoints_object_removal to
False in those environments where the removal is not
supported, and keep it to the default True value in
the rest of them.

Change-Id: I8c2d6e8e66d707fcf22311456c0584a6167acea1
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/57/824557/4 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/config.py']",2,8f65f3e3f3d4992d2babf89773733feda4e24031,services_without_selector," cfg.BoolOpt(""test_lb_member_removal"", default=True, help=""Whether LB member removal from LB pools are checked or "" ""not""),",,9,5
openstack%2Fkuryr-tempest-plugin~master~Ia926be7d43c0f06b775a35092fe644c0c7b78b1d,openstack/kuryr-tempest-plugin,master,Ia926be7d43c0f06b775a35092fe644c0c7b78b1d,Fix lb_reconcile_timeout exception formatting,MERGED,2022-01-18 23:09:03.000000000,2022-01-24 11:06:33.000000000,2022-01-24 11:06:33.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-01-18 23:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/22971e0b0430f6b9c298d6de44764b8a42225eec', 'message': 'Fix lb_reconcile_timeout exception formatting\n\nIt was complaining about string formatting when the timeouts\nwere being reached:\nTypeError: not all arguments converted during string formatting\n\nChange-Id: Ia926be7d43c0f06b775a35092fe644c0c7b78b1d\n'}, {'number': 2, 'created': '2022-01-18 23:09:39.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_service.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/fca8e581417349fc43abe98c7b14e75380086645', 'message': 'Fix lb_reconcile_timeout exception formatting\n\nIt was complaining about string formatting when the timeouts\nwere being reached:\nTypeError: not all arguments converted during string formatting\n\nChange-Id: Ia926be7d43c0f06b775a35092fe644c0c7b78b1d\n'}]",1,825182,fca8e581417349fc43abe98c7b14e75380086645,10,4,2,27086,,,0,"Fix lb_reconcile_timeout exception formatting

It was complaining about string formatting when the timeouts
were being reached:
TypeError: not all arguments converted during string formatting

Change-Id: Ia926be7d43c0f06b775a35092fe644c0c7b78b1d
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/82/825182/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/test_service.py'],1,22971e0b0430f6b9c298d6de44764b8a42225eec,reconciliation_timeouts," "" deleted"" % klb_crd_id) msg = ('Timed out waiting for LoadBalancer %s reconciliation' %"," "" deleted"", klb_crd_id) msg = ('Timed out waiting for LoadBalancer %s reconciliation',",2,2
openstack%2Ftripleo-ansible~stable%2Fvictoria~I3ef3728f042024033b5f48b89b97d9ac3ef08614,openstack/tripleo-ansible,stable/victoria,I3ef3728f042024033b5f48b89b97d9ac3ef08614,Default route on ctlplane in CI ipv6 nic config,MERGED,2022-01-17 21:32:30.000000000,2022-01-24 11:06:32.000000000,2022-01-24 02:02:26.000000000,"[{'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}, {'_account_id': 29775}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-01-17 21:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6d16e6b882e8f8064de439c1771d397fd24e9ab2', 'message': 'Default route on ctlplane in CI ipv6 nic config\n\nThis template is used by featureset035 in CI, Overcloud nodes in fs035\ncurrently have no outside connectivity. Details in Closes-Bug.\n\nMoving default route to ctlplane for CI usecase, CI Ipv4 nic config\ntemplate also have default route on ctlplane[1].\n\nIt seems we created this template following the older nic template [2]\nwhich we use in older branches, which have two default route - one on\nctlplane and one on external network, which seems wrong.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_network_config/templates/ci/multiple_nics.j2#L9-L11\n[2] https://github.com/openstack/tripleo-heat-templates/blob/stable/train/ci/environments/network/multiple-nics-ipv6/nic-configs/controller.yaml#L182-L196\n\nCloses-Bug: #1958116\nCloses-Bug: #1952391\nChange-Id: I3ef3728f042024033b5f48b89b97d9ac3ef08614\n(cherry picked from commit 6f7f53de73b313e4b6cafd97aab645232f5a799f)\n'}, {'number': 2, 'created': '2022-01-20 16:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/73fa5b36e13906b186435b8d1fd4e85665b372c3', 'message': 'Default route on ctlplane in CI ipv6 nic config\n\nThis template is used by featureset035 in CI, Overcloud nodes in fs035\ncurrently have no outside connectivity. Details in Closes-Bug.\n\nMoving default route to ctlplane for CI usecase, CI Ipv4 nic config\ntemplate also have default route on ctlplane[1].\n\nIt seems we created this template following the older nic template [2]\nwhich we use in older branches, which have two default route - one on\nctlplane and one on external network, which seems wrong.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_network_config/templates/ci/multiple_nics.j2#L9-L11\n[2] https://github.com/openstack/tripleo-heat-templates/blob/stable/train/ci/environments/network/multiple-nics-ipv6/nic-configs/controller.yaml#L182-L196\n\nCloses-Bug: #1958116\nCloses-Bug: #1952391\nChange-Id: I3ef3728f042024033b5f48b89b97d9ac3ef08614\n(cherry picked from commit 6f7f53de73b313e4b6cafd97aab645232f5a799f)\n'}, {'number': 3, 'created': '2022-01-21 21:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5a5b8c9cdd20e68ef76c2eaa73953038731838d1', 'message': 'Default route on ctlplane in CI ipv6 nic config\n\nThis template is used by featureset035 in CI, Overcloud nodes in fs035\ncurrently have no outside connectivity. Details in Closes-Bug.\n\nMoving default route to ctlplane for CI usecase, CI Ipv4 nic config\ntemplate also have default route on ctlplane[1].\n\nIt seems we created this template following the older nic template [2]\nwhich we use in older branches, which have two default route - one on\nctlplane and one on external network, which seems wrong.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_network_config/templates/ci/multiple_nics.j2#L9-L11\n[2] https://github.com/openstack/tripleo-heat-templates/blob/stable/train/ci/environments/network/multiple-nics-ipv6/nic-configs/controller.yaml#L182-L196\n\nCloses-Bug: #1958116\nCloses-Bug: #1952391\nChange-Id: I3ef3728f042024033b5f48b89b97d9ac3ef08614\n(cherry picked from commit 6f7f53de73b313e4b6cafd97aab645232f5a799f)\n'}, {'number': 4, 'created': '2022-01-23 15:40:55.000000000', 'files': ['tripleo_ansible/roles/tripleo_network_config/templates/ci/multiple_nics_ipv6.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bc60336d7c003b5041ac5a32e4fc58a2f9c95f00', 'message': 'Default route on ctlplane in CI ipv6 nic config\n\nThis template is used by featureset035 in CI, Overcloud nodes in fs035\ncurrently have no outside connectivity. Details in Closes-Bug.\n\nMoving default route to ctlplane for CI usecase, CI Ipv4 nic config\ntemplate also have default route on ctlplane[1].\n\nIt seems we created this template following the older nic template [2]\nwhich we use in older branches, which have two default route - one on\nctlplane and one on external network, which seems wrong.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_network_config/templates/ci/multiple_nics.j2#L9-L11\n[2] https://github.com/openstack/tripleo-heat-templates/blob/stable/train/ci/environments/network/multiple-nics-ipv6/nic-configs/controller.yaml#L182-L196\n\nCloses-Bug: #1958116\nCloses-Bug: #1952391\nChange-Id: I3ef3728f042024033b5f48b89b97d9ac3ef08614\n(cherry picked from commit 6f7f53de73b313e4b6cafd97aab645232f5a799f)\n'}]",8,824961,bc60336d7c003b5041ac5a32e4fc58a2f9c95f00,28,8,4,24245,,,0,"Default route on ctlplane in CI ipv6 nic config

This template is used by featureset035 in CI, Overcloud nodes in fs035
currently have no outside connectivity. Details in Closes-Bug.

Moving default route to ctlplane for CI usecase, CI Ipv4 nic config
template also have default route on ctlplane[1].

It seems we created this template following the older nic template [2]
which we use in older branches, which have two default route - one on
ctlplane and one on external network, which seems wrong.

[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_network_config/templates/ci/multiple_nics.j2#L9-L11
[2] https://github.com/openstack/tripleo-heat-templates/blob/stable/train/ci/environments/network/multiple-nics-ipv6/nic-configs/controller.yaml#L182-L196

Closes-Bug: #1958116
Closes-Bug: #1952391
Change-Id: I3ef3728f042024033b5f48b89b97d9ac3ef08614
(cherry picked from commit 6f7f53de73b313e4b6cafd97aab645232f5a799f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/61/824961/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_network_config/templates/ci/multiple_nics_ipv6.j2'],1,6d16e6b882e8f8064de439c1771d397fd24e9ab2,bug/1952391-stable/victoria, routes: - default: true next_hop: {{ ctlplane_gateway_ip }} - ip_netmask: ::/0, - default: true ip_netmask: ::/0,4,2
openstack%2Ftripleo-ansible~stable%2Fvictoria~Ib364542e12e57d95747ad612377ad020bb276723,openstack/tripleo-ansible,stable/victoria,Ib364542e12e57d95747ad612377ad020bb276723,Fix network molecule job,MERGED,2022-01-22 14:10:03.000000000,2022-01-24 11:06:12.000000000,2022-01-23 20:02:41.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-01-22 14:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/89e8769ded7aead2e37af1792fbc569e77ffbccf', 'message': 'Fix network molecule job\n\nChange-Id: Ib364542e12e57d95747ad612377ad020bb276723\n'}, {'number': 2, 'created': '2022-01-22 14:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c8261ef6b3d43cce570b54f6d43bba07a64ac2e6', 'message': 'Fix network molecule job\n\nChange-Id: Ib364542e12e57d95747ad612377ad020bb276723\n'}, {'number': 3, 'created': '2022-01-23 14:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a0699479dd00e48df4ca6d93667b2afd021d3810', 'message': 'Fix network molecule job\n\nChange-Id: Ib364542e12e57d95747ad612377ad020bb276723\n'}, {'number': 4, 'created': '2022-01-23 14:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ffd49f6a89b2889d4c961160d73ba6b1220a7c0a', 'message': 'Fix network molecule job\n\nChange-Id: Ib364542e12e57d95747ad612377ad020bb276723\n'}, {'number': 5, 'created': '2022-01-23 15:31:06.000000000', 'files': ['tripleo_ansible/roles/tripleo_network_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f1a24e39efdfb809d955e1cd47d918fde336aa32', 'message': 'Fix network molecule job\n\nChange-Id: Ib364542e12e57d95747ad612377ad020bb276723\n'}]",0,825928,f1a24e39efdfb809d955e1cd47d918fde336aa32,16,4,5,10969,,,0,"Fix network molecule job

Change-Id: Ib364542e12e57d95747ad612377ad020bb276723
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/825928/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_network_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/converge.yml']",3,89e8769ded7aead2e37af1792fbc569e77ffbccf,vivi, ctlplane_mtu: 1500 ctlplane_ip: 203.0.113.1 neutron_public_interface_name: dummy0 - ip_address: 203.0.113.3 - 203.0.113.0/24 subnets: - cidr: 203.0.113.0/24 - ip_address: 203.0.113.1 - 203.0.113.0/24 subnets: - cidr: 203.0.113.0/24 - ip_address: 203.0.113.1 - 203.0.113.0/24 subnets: - cidr: 203.0.113.0/24, local_mtu: 1500 ctlplane_ip: 192.168.24.1 neutron_public_interface_name: tap0 - ip_address: 192.168.24.3 - 192.168.24.0/24 subnets: - cidr: 192.168.24.0/24 - ip_address: 192.168.24.1 - 192.168.24.0/24 subnets: - cidr: 192.168.24.0/24 - ip_address: 192.168.24.1 - 192.168.24.0/24 subnets: - cidr: 192.168.24.0/24,36,37
openstack%2Ftripleo-ansible~stable%2Fvictoria~I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6,openstack/tripleo-ansible,stable/victoria,I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6,Set the ansible-lint version to v5.3.2,MERGED,2022-01-18 14:49:20.000000000,2022-01-24 11:05:39.000000000,2022-01-23 16:37:13.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-01-18 14:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/96b2cd94253355dbdccb4c03ca24253ea6f3cb13', 'message': 'Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\n'}, {'number': 2, 'created': '2022-01-18 14:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7ca203500d947677b1d75262b9c93ee2231b83ef', 'message': 'Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\n'}, {'number': 3, 'created': '2022-01-18 14:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/45ee3a45b8050a0e44e46e6a612d2dcc0e045de5', 'message': 'Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\n'}, {'number': 4, 'created': '2022-01-18 16:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/046cd1604852774f5eb77df16c7d725865b7e91d', 'message': 'Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\n'}, {'number': 5, 'created': '2022-01-19 08:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/15d2a12e75ae30ebdd1e04f71432b28301e28146', 'message': ""[Victoria-Only]Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nRemove RoleNames ansible-lint custom rule\n\nAs this rule has been merged upstream, we don't need it anymore locally.\n\nDue to ansible-lint bump,\nIt also mocks many modules and roles coming from\ntripleo_ansible to pass the --syntax-check.\n\nIt also moves few playbooks to exclude_path due to undefined\nvars.\n\nNote: It is not a clean cherry-pick as ansible-lint bumps brings lots\nof errors.\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\nSigned-off-by: Ananya <anbanerj@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}, {'number': 6, 'created': '2022-01-19 08:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/44a3a9774b16c2999dd6d3b0f6abe5797df82da1', 'message': ""[Victoria-Only]Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nRemove RoleNames ansible-lint custom rule\n\nAs this rule has been merged upstream, we don't need it anymore locally.\n\nDue to ansible-lint bump,\nIt also mocks many modules and roles coming from\ntripleo_ansible to pass the --syntax-check.\n\nIt also moves few playbooks to exclude_path due to undefined\nvars and removes empty playbooks.\n\nNote: It is not a clean cherry-pick as ansible-lint bumps brings lots\nof errors.\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\nSigned-off-by: Ananya <anbanerj@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n""}, {'number': 7, 'created': '2022-01-21 05:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/532bf4f32145586d142f70e82065069f0dfdd31d', 'message': 'Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nFixes RoleNames.py script.\n\nNote: It is not a clean cherry-pick as ansible-lint bumps brings lots\nof errors.\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\nSigned-off-by: Ananya <anbanerj@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2022-01-21 05:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/655b0a811c6170b0ac273f7fcb2b9ee583d7b4c2', 'message': 'Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nFixes RoleNames.py script.\n\nNote: It is not a clean cherry-pick as ansible-lint bumps brings lots\nof errors.\n\nIt removes empty-check error on playbook.\n```\n_skeleton_role_/molecule/default/verify.yml\ntripleo_ansible/playbooks/ceph_deactivate_mds.yaml\ntripleo_ansible/playbooks/cli-overcloud-backup.yaml\ntripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/verify.yml\ntripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/verify.yml\ntripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/verify.yml\ntripleo_ansible/roles/tripleo_create_admin/molecule/addkey/verify.yml\ntripleo_ansible/roles/tripleo_create_admin/molecule/default/verify.yml\ntripleo_ansible/roles/tripleo_create_admin/molecule/keygen/verify.yml\ntripleo_ansible/roles/tripleo_derived_parameters/molecule/default/verify.yml\ntripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/verify.yml\ntripleo_ansible/roles/tripleo_nvdimm/molecule/default/verify.yml\ntripleo_ansible/roles/tripleo_puppet_cache/molecule/default/verify.yml\ntripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/verify.yml\n```\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\nSigned-off-by: Ananya <anbanerj@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 9, 'created': '2022-01-21 05:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ca9ba8ca76493d0fa7c06fb2575339cb6c6b2565', 'message': 'Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nFixes RoleNames.py script.\n\nNote: It is not a clean cherry-pick as ansible-lint bumps brings lots\nof errors.\n\nIt removes empty-check error on playbook.\n```\n_skeleton_role_/molecule/default/verify.yml\ntripleo_ansible/playbooks/ceph_deactivate_mds.yaml\ntripleo_ansible/playbooks/cli-overcloud-backup.yaml\ntripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/verify.yml\ntripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/verify.yml\ntripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/verify.yml\ntripleo_ansible/roles/tripleo_create_admin/molecule/addkey/verify.yml\ntripleo_ansible/roles/tripleo_create_admin/molecule/default/verify.yml\ntripleo_ansible/roles/tripleo_create_admin/molecule/keygen/verify.yml\ntripleo_ansible/roles/tripleo_derived_parameters/molecule/default/verify.yml\ntripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/verify.yml\ntripleo_ansible/roles/tripleo_nvdimm/molecule/default/verify.yml\ntripleo_ansible/roles/tripleo_puppet_cache/molecule/default/verify.yml\ntripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/verify.yml\n```\nIt moves following files to exclude path.\n```\ntripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/container-configs.yml\ntripleo_ansible/playbooks/ceph_deactivate_mds.yaml\ntripleo_ansible/playbooks/cli-overcloud-backup.yaml\n```\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\nSigned-off-by: Ananya <anbanerj@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 10, 'created': '2022-01-21 07:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bdb2ba0e94f523375996cdf02a6fe4bc83c98576', 'message': 'Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nIt also includes cherry-pick of https://review.opendev.org/c/openstack/tripleo-ansible/+/779180\n```\nUpgrade ansible-lint to 5.0\n\n- remove role name rule as is included in newer versions\n- added .cache folder to git ignore (used by linter)\n- enabled optional yamllint run on ansible-lint\n- assured repository has a valid root requirements.yml (so linter can make use of it)\n- assured that we do not mix playbooks with non playbooks inside same folders\n- renamed undocumented ""role"" argument received by import_role to official ""name"".\n- added mocked roles/modules to avoid linter errors (ideally they should be provided by\n  requiremetns.yml).\n```\nChange-Id: I14b855f8a15afccaf4973e2a612aa7e9eae3bfa5\n(cherry picked from commit af40f9ff8eac8ac7ecb2a29344362afb9db21f95)\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\nSigned-off-by: Ananya <anbanerj@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 11, 'created': '2022-01-21 07:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8fa7abdfdd3f7ab583ac2a3e9ddc3255dc2a4950', 'message': 'Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nIt also includes cherry-pick of https://review.opendev.org/c/openstack/tripleo-ansible/+/779180\n```\nUpgrade ansible-lint to 5.0\n\n- remove role name rule as is included in newer versions\n- added .cache folder to git ignore (used by linter)\n- enabled optional yamllint run on ansible-lint\n- assured repository has a valid root requirements.yml (so linter can make use of it)\n- assured that we do not mix playbooks with non playbooks inside same folders\n- renamed undocumented ""role"" argument received by import_role to official ""name"".\n- added mocked roles/modules to avoid linter errors (ideally they should be provided by\n  requiremetns.yml).\n```\nChange-Id: I14b855f8a15afccaf4973e2a612aa7e9eae3bfa5\n(cherry picked from commit af40f9ff8eac8ac7ecb2a29344362afb9db21f95)\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\nSigned-off-by: Ananya <anbanerj@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 12, 'created': '2022-01-21 08:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/82cc76712bf7f3990321dfddb8daf5453a5b5564', 'message': 'Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nIt also includes cherry-pick of https://review.opendev.org/c/openstack/tripleo-ansible/+/779180\n```\nUpgrade ansible-lint to 5.0\n\n- remove role name rule as is included in newer versions\n- added .cache folder to git ignore (used by linter)\n- enabled optional yamllint run on ansible-lint\n- assured repository has a valid root requirements.yml (so linter can make use of it)\n- assured that we do not mix playbooks with non playbooks inside same folders\n- renamed undocumented ""role"" argument received by import_role to official ""name"".\n- added mocked roles/modules to avoid linter errors (ideally they should be provided by\n  requiremetns.yml).\n```\nrequirements.yml is removed from this cherry-pick as it is not needed\nhere.\n\nChange-Id: I14b855f8a15afccaf4973e2a612aa7e9eae3bfa5\n(cherry picked from commit af40f9ff8eac8ac7ecb2a29344362afb9db21f95)\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\nSigned-off-by: Ananya <anbanerj@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 13, 'created': '2022-01-21 09:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0dd35103be14ded522182e65d85f5e38caf1a2c2', 'message': 'Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nIt also includes cherry-pick of https://review.opendev.org/c/openstack/tripleo-ansible/+/779180\n```\nUpgrade ansible-lint to 5.0\n\n- remove role name rule as is included in newer versions\n- added .cache folder to git ignore (used by linter)\n- enabled optional yamllint run on ansible-lint\n- assured repository has a valid root requirements.yml (so linter can make use of it)\n- assured that we do not mix playbooks with non playbooks inside same folders\n- renamed undocumented ""role"" argument received by import_role to official ""name"".\n- added mocked roles/modules to avoid linter errors (ideally they should be provided by\n  requiremetns.yml).\n```\nrequirements.yml is removed from this cherry-pick as it is not needed\nhere.\n\nUse centos8 image to fix following issue\n```\nfile /etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release from install of containers-common-2:1-6.module_el8.6.0+954+963caf36.noarch conflicts with file from package redhat-release-8.2-1.0.el8.x86_64\n```\nChange-Id: I14b855f8a15afccaf4973e2a612aa7e9eae3bfa5\n(cherry picked from commit af40f9ff8eac8ac7ecb2a29344362afb9db21f95)\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\nSigned-off-by: Ananya <anbanerj@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 14, 'created': '2022-01-21 12:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b20f127e95f66cbc3b581ea6613145ea5d91310c', 'message': 'Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nIt also includes cherry-pick of https://review.opendev.org/c/openstack/tripleo-ansible/+/779180\n```\nUpgrade ansible-lint to 5.0\n\n- remove role name rule as is included in newer versions\n- added .cache folder to git ignore (used by linter)\n- enabled optional yamllint run on ansible-lint\n- assured repository has a valid root requirements.yml (so linter can make use of it)\n- assured that we do not mix playbooks with non playbooks inside same folders\n- renamed undocumented ""role"" argument received by import_role to official ""name"".\n- added mocked roles/modules to avoid linter errors (ideally they should be provided by\n  requiremetns.yml).\n```\nrequirements.yml is removed from this cherry-pick as it is not needed\nhere.\n\nUse centos8 image to fix following issue\n```\nfile /etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release from install of containers-common-2:1-6.module_el8.6.0+954+963caf36.noarch conflicts with file from package redhat-release-8.2-1.0.el8.x86_64\n```\nChange-Id: I14b855f8a15afccaf4973e2a612aa7e9eae3bfa5\n(cherry picked from commit af40f9ff8eac8ac7ecb2a29344362afb9db21f95)\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\nSigned-off-by: Ananya <anbanerj@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 15, 'created': '2022-01-21 15:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e8fcba54fd2aa53b48a00ec241136f631575b10f', 'message': 'Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nIt also includes cherry-pick of https://review.opendev.org/c/openstack/tripleo-ansible/+/779180\n```\nUpgrade ansible-lint to 5.0\n\n- remove role name rule as is included in newer versions\n- added .cache folder to git ignore (used by linter)\n- enabled optional yamllint run on ansible-lint\n- assured repository has a valid root requirements.yml (so linter can make use of it)\n- assured that we do not mix playbooks with non playbooks inside same folders\n- renamed undocumented ""role"" argument received by import_role to official ""name"".\n- added mocked roles/modules to avoid linter errors (ideally they should be provided by\n  requiremetns.yml).\n```\nrequirements.yml is removed from this cherry-pick as it is not needed\nhere.\n\nUse centos8 image to fix following issue\n```\nfile /etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release from install of containers-common-2:1-6.module_el8.6.0+954+963caf36.noarch conflicts with file from package redhat-release-8.2-1.0.el8.x86_64\n```\nPin to container-tools:3.0 will fix the issue.\n\nChange-Id: I14b855f8a15afccaf4973e2a612aa7e9eae3bfa5\n(cherry picked from commit af40f9ff8eac8ac7ecb2a29344362afb9db21f95)\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\nSigned-off-by: Ananya <anbanerj@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 16, 'created': '2022-01-21 15:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a63ebf11eb9284b57b7b92bec42065a10d6f9799', 'message': 'Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nIt also includes cherry-pick of https://review.opendev.org/c/openstack/tripleo-ansible/+/779180\n```\nUpgrade ansible-lint to 5.0\n\n- remove role name rule as is included in newer versions\n- added .cache folder to git ignore (used by linter)\n- enabled optional yamllint run on ansible-lint\n- assured repository has a valid root requirements.yml (so linter can make use of it)\n- assured that we do not mix playbooks with non playbooks inside same folders\n- renamed undocumented ""role"" argument received by import_role to official ""name"".\n- added mocked roles/modules to avoid linter errors (ideally they should be provided by\n  requiremetns.yml).\n```\nrequirements.yml is removed from this cherry-pick as it is not needed\nhere.\n\nUse centos8 image to fix following issue\n```\nfile /etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release from install of containers-common-2:1-6.module_el8.6.0+954+963caf36.noarch conflicts with file from package redhat-release-8.2-1.0.el8.x86_64\n```\nPin to container-tools:3.0 will fix the issue.\n\nChange-Id: I14b855f8a15afccaf4973e2a612aa7e9eae3bfa5\n(cherry picked from commit af40f9ff8eac8ac7ecb2a29344362afb9db21f95)\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\nSigned-off-by: Ananya <anbanerj@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 17, 'created': '2022-01-22 04:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/45e3c703dbeeb17f890e606f036484f5b28c2be0', 'message': 'Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nIt also includes cherry-pick of https://review.opendev.org/c/openstack/tripleo-ansible/+/779180\n```\nUpgrade ansible-lint to 5.0\n\n- remove role name rule as is included in newer versions\n- added .cache folder to git ignore (used by linter)\n- enabled optional yamllint run on ansible-lint\n- assured repository has a valid root requirements.yml (so linter can make use of it)\n- assured that we do not mix playbooks with non playbooks inside same folders\n- renamed undocumented ""role"" argument received by import_role to official ""name"".\n- added mocked roles/modules to avoid linter errors (ideally they should be provided by\n  requiremetns.yml).\n```\nrequirements.yml is removed from this cherry-pick as it is not needed\nhere.\n\nUse centos8 image to fix following issue\n```\nfile /etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release from install of containers-common-2:1-6.module_el8.6.0+954+963caf36.noarch conflicts with file from package redhat-release-8.2-1.0.el8.x86_64\n```\nPin to container-tools:3.0 will fix the issue.\n\nChange-Id: I14b855f8a15afccaf4973e2a612aa7e9eae3bfa5\n(cherry picked from commit af40f9ff8eac8ac7ecb2a29344362afb9db21f95)\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\nSigned-off-by: Ananya <anbanerj@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 18, 'created': '2022-01-22 04:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b03ebc14de571d81e8386fd04cb2be5dcfb7e0a3', 'message': 'Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nIt also includes cherry-pick of https://review.opendev.org/c/openstack/tripleo-ansible/+/779180\n```\nUpgrade ansible-lint to 5.0\n\n- remove role name rule as is included in newer versions\n- added .cache folder to git ignore (used by linter)\n- enabled optional yamllint run on ansible-lint\n- assured repository has a valid root requirements.yml (so linter can make use of it)\n- assured that we do not mix playbooks with non playbooks inside same folders\n- renamed undocumented ""role"" argument received by import_role to official ""name"".\n- added mocked roles/modules to avoid linter errors (ideally they should be provided by\n  requiremetns.yml).\n```\nrequirements.yml is removed from this cherry-pick as it is not needed\nhere.\n\nUse centos8 image to fix following issue\n```\nfile /etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release from install of containers-common-2:1-6.module_el8.6.0+954+963caf36.noarch conflicts with file from package redhat-release-8.2-1.0.el8.x86_64\n```\nPin to container-tools:3.0 will fix the issue.\n\nChange-Id: I14b855f8a15afccaf4973e2a612aa7e9eae3bfa5\n(cherry picked from commit af40f9ff8eac8ac7ecb2a29344362afb9db21f95)\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\nSigned-off-by: Ananya <anbanerj@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 19, 'created': '2022-01-22 05:00:31.000000000', 'files': ['galaxy.yml', '.gitignore', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/verify.yml', '_skeleton_role_/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/verify.yml', '.pre-commit-config.yaml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/files/container-configs.yml', 'tripleo_ansible/ansible-role-requirements.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/templates/mock-hieradata.j2.yaml', 'tripleo_ansible/playbooks/ceph_deactivate_mds.yaml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/verify.yml', '.ansible-lint_rules/RoleNames.py', 'tripleo_ansible/roles/tripleo_nvdimm/molecule/default/prepare.yml', '.ansible-lint', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/converge.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/verify.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/verify.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/default/verify.yml', 'zuul.d/playbooks/pre.yml', 'tripleo_ansible/roles/tripleo_nvdimm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nvdimm/molecule/default/verify.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/549545e78237057ac4285e926f69d9cbc47c8d6a', 'message': 'Set the ansible-lint version to v5.3.2\n\nThe ansible-lint version used is v5.0.2. This path increases the version\nof the ansible-lint on the .pre-commit-config.yaml\n\nIt also includes cherry-pick of https://review.opendev.org/c/openstack/tripleo-ansible/+/779180\n```\nUpgrade ansible-lint to 5.0\n\n- remove role name rule as is included in newer versions\n- added .cache folder to git ignore (used by linter)\n- enabled optional yamllint run on ansible-lint\n- assured repository has a valid root requirements.yml (so linter can make use of it)\n- assured that we do not mix playbooks with non playbooks inside same folders\n- renamed undocumented ""role"" argument received by import_role to official ""name"".\n- added mocked roles/modules to avoid linter errors (ideally they should be provided by\n  requiremetns.yml).\n```\nrequirements.yml is removed from this cherry-pick as it is not needed\nhere.\n\nUse centos8 image to fix following issue\n```\nfile /etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release from install of containers-common-2:1-6.module_el8.6.0+954+963caf36.noarch conflicts with file from package redhat-release-8.2-1.0.el8.x86_64\n```\nPin to container-tools:3.0 will fix the issue.\n\nChange-Id: I14b855f8a15afccaf4973e2a612aa7e9eae3bfa5\n(cherry picked from commit af40f9ff8eac8ac7ecb2a29344362afb9db21f95)\n\nRelated-bug: #1956902\nChange-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6\n(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)\nSigned-off-by: Ananya <anbanerj@redhat.com>\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",13,825059,549545e78237057ac4285e926f69d9cbc47c8d6a,51,8,19,32458,,,0,"Set the ansible-lint version to v5.3.2

The ansible-lint version used is v5.0.2. This path increases the version
of the ansible-lint on the .pre-commit-config.yaml

It also includes cherry-pick of https://review.opendev.org/c/openstack/tripleo-ansible/+/779180
```
Upgrade ansible-lint to 5.0

- remove role name rule as is included in newer versions
- added .cache folder to git ignore (used by linter)
- enabled optional yamllint run on ansible-lint
- assured repository has a valid root requirements.yml (so linter can make use of it)
- assured that we do not mix playbooks with non playbooks inside same folders
- renamed undocumented ""role"" argument received by import_role to official ""name"".
- added mocked roles/modules to avoid linter errors (ideally they should be provided by
  requiremetns.yml).
```
requirements.yml is removed from this cherry-pick as it is not needed
here.

Use centos8 image to fix following issue
```
file /etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release from install of containers-common-2:1-6.module_el8.6.0+954+963caf36.noarch conflicts with file from package redhat-release-8.2-1.0.el8.x86_64
```
Pin to container-tools:3.0 will fix the issue.

Change-Id: I14b855f8a15afccaf4973e2a612aa7e9eae3bfa5
(cherry picked from commit af40f9ff8eac8ac7ecb2a29344362afb9db21f95)

Related-bug: #1956902
Change-Id: I36e1327a2cc3c66ef4662b473e0fd03fe97cccf6
(cherry picked from commit 60ef62e9f21279a9dbfcdb9e3943e8490f6bbbb3)
Signed-off-by: Ananya <anbanerj@redhat.com>
Co-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/59/825059/18 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,96b2cd94253355dbdccb4c03ca24253ea6f3cb13,bug/1956902-stable/victoria,<<<<<<< HEAD (6fc91a Use service_net_map for ganesha_vip)======= - repo: https://github.com/ansible-community/ansible-lint rev: v5.3.2 >>>>>>> CHANGE (60ef62 Set the ansible-lint version to v5.3.2),,5,0
openstack%2Fkuryr-kubernetes~master~I123dc706e14aa3edae06a165d6c0c09e99ef28d6,openstack/kuryr-kubernetes,master,I123dc706e14aa3edae06a165d6c0c09e99ef28d6,Ignore Pod event if Pod is Pending with no Node set,MERGED,2022-01-07 14:50:22.000000000,2022-01-24 10:49:38.000000000,2022-01-24 10:47:58.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-01-07 14:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9793b369abcecd72fe13581a670ccfcb85782a0c', 'message': ""Ignore Pod event if Pod is Pending with no Node set\n\nIt's possible that a Pod had a nodeName configured and\nKuryr started handling it, but after a while it was not\nscheduled in that node anymore. This impacts the processing\nof the Pod event as there are steps in between that the\nPod object is retrieved again with possibly no nodeName\nassigned, making the controller to constantly retry for an\nevent that should be ignored.\n\nCloses-bug: 1956767\nChange-Id: I123dc706e14aa3edae06a165d6c0c09e99ef28d6\n""}, {'number': 2, 'created': '2022-01-19 15:08:11.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f36f869fb3efcf6786e0e0c8bbbe03d5a7466637', 'message': ""Ignore Pod event if Pod is Pending with no Node set\n\nIt's possible that a Pod had a nodeName configured and\nKuryr started handling it, but after a while it was not\nscheduled in that node anymore. This impacts the processing\nof the Pod event as there are steps in between that the\nPod object is retrieved again with possibly no nodeName\nassigned, making the controller to constantly retry for an\nevent that should be ignored.\n\nCloses-bug: 1956767\nChange-Id: I123dc706e14aa3edae06a165d6c0c09e99ef28d6\n""}]",9,823812,f36f869fb3efcf6786e0e0c8bbbe03d5a7466637,19,4,2,27032,,,0,"Ignore Pod event if Pod is Pending with no Node set

It's possible that a Pod had a nodeName configured and
Kuryr started handling it, but after a while it was not
scheduled in that node anymore. This impacts the processing
of the Pod event as there are steps in between that the
Pod object is retrieved again with possibly no nodeName
assigned, making the controller to constantly retry for an
event that should be ignored.

Closes-bug: 1956767
Change-Id: I123dc706e14aa3edae06a165d6c0c09e99ef28d6
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/12/823812/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py']",2,9793b369abcecd72fe13581a670ccfcb85782a0c,bug/1956767," def test_request_vif_multi_vif_pod_without_host(self): cls = vif_pool.MultiVIFPool m_driver = mock.MagicMock(spec=cls) pod = get_pod_obj().copy() del pod['spec']['nodeName'] project_id = str(uuid.uuid4()) subnets = mock.sentinel.subnets security_groups = [mock.sentinel.security_groups] m_driver._vif_drvs = {} m_driver._vif_drvs['nested-vlan'] = 'NestedVIFPool' m_driver._get_pod_vif_type.side_effect = KeyError resp = cls.request_vif(m_driver, pod, project_id, subnets, security_groups) self.assertIsNone(resp) ",,22,1
openstack%2Fkolla~stable%2Fxena~I042da2234d0a06f1b7ddcac9eb6db8b86f13d205,openstack/kolla,stable/xena,I042da2234d0a06f1b7ddcac9eb6db8b86f13d205,magnum: fix issue with keystone auth default policy,MERGED,2022-01-20 09:57:40.000000000,2022-01-24 10:21:56.000000000,2022-01-24 10:19:49.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32029}, {'_account_id': 32238}, {'_account_id': 34017}]","[{'number': 1, 'created': '2022-01-20 09:57:40.000000000', 'files': ['docker/magnum/magnum-base/Dockerfile.j2', 'releasenotes/notes/magnum-keystone-auth-default-policy-e16f7bb558aa4b14.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9f5755fe47fed4ceeed7a2229d133bcef55ba3bd', 'message': 'magnum: fix issue with keystone auth default policy\n\nCloses-Bug: #1957159\nChange-Id: I042da2234d0a06f1b7ddcac9eb6db8b86f13d205\n(cherry picked from commit 0a536f47a8e077d37ccff3b3201512c2b793b0ab)\n'}]",1,825454,9f5755fe47fed4ceeed7a2229d133bcef55ba3bd,14,6,1,14826,,,0,"magnum: fix issue with keystone auth default policy

Closes-Bug: #1957159
Change-Id: I042da2234d0a06f1b7ddcac9eb6db8b86f13d205
(cherry picked from commit 0a536f47a8e077d37ccff3b3201512c2b793b0ab)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/54/825454/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/magnum/magnum-base/Dockerfile.j2', 'releasenotes/notes/magnum-keystone-auth-default-policy-e16f7bb558aa4b14.yaml']",2,9f5755fe47fed4ceeed7a2229d133bcef55ba3bd,,--- fixes: - | Fixes an issue with missing Magnum Keystone auth default policy. `LP#1957159 <https://launchpad.net/bugs/1957159>`__ ,,6,0
openstack%2Fkolla~stable%2Fwallaby~I042da2234d0a06f1b7ddcac9eb6db8b86f13d205,openstack/kolla,stable/wallaby,I042da2234d0a06f1b7ddcac9eb6db8b86f13d205,magnum: fix issue with keystone auth default policy,MERGED,2022-01-20 09:57:48.000000000,2022-01-24 10:21:56.000000000,2022-01-24 10:19:46.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32238}, {'_account_id': 34017}]","[{'number': 1, 'created': '2022-01-20 09:57:48.000000000', 'files': ['docker/magnum/magnum-base/Dockerfile.j2', 'releasenotes/notes/magnum-keystone-auth-default-policy-e16f7bb558aa4b14.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/59adcfd80ad19e67d16cae3f23117d3ff4a1a1bc', 'message': 'magnum: fix issue with keystone auth default policy\n\nCloses-Bug: #1957159\nChange-Id: I042da2234d0a06f1b7ddcac9eb6db8b86f13d205\n(cherry picked from commit 0a536f47a8e077d37ccff3b3201512c2b793b0ab)\n'}]",2,825455,59adcfd80ad19e67d16cae3f23117d3ff4a1a1bc,16,5,1,14826,,,0,"magnum: fix issue with keystone auth default policy

Closes-Bug: #1957159
Change-Id: I042da2234d0a06f1b7ddcac9eb6db8b86f13d205
(cherry picked from commit 0a536f47a8e077d37ccff3b3201512c2b793b0ab)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/825455/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/magnum/magnum-base/Dockerfile.j2', 'releasenotes/notes/magnum-keystone-auth-default-policy-e16f7bb558aa4b14.yaml']",2,59adcfd80ad19e67d16cae3f23117d3ff4a1a1bc,,--- fixes: - | Fixes an issue with missing Magnum Keystone auth default policy. `LP#1957159 <https://launchpad.net/bugs/1957159>`__ ,,6,0
openstack%2Fpuppet-keystone~master~I6a15b93c3fe07ed2d9c05490a490ab4a20e4727f,openstack/puppet-keystone,master,I6a15b93c3fe07ed2d9c05490a490ab4a20e4727f,Use systemctl to restart the keystone service,MERGED,2022-01-11 01:51:36.000000000,2022-01-24 10:14:53.000000000,2022-01-24 10:14:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 01:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/a7c7c9e0f51685f333556217c87c7e143546ccd7', 'message': 'Use systemctl to restart the keystone service\n\n... instead of the service command which is deprecated.\n\nChange-Id: I6a15b93c3fe07ed2d9c05490a490ab4a20e4727f\nCloses-Bug: #1957023\n'}, {'number': 2, 'created': '2022-01-11 02:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/1976b54ae8f9a0f7da921b5b00b02a728f740db2', 'message': 'Use systemctl to restart the keystone service\n\n... instead of the service command which is deprecated.\n\nChange-Id: I6a15b93c3fe07ed2d9c05490a490ab4a20e4727f\nCloses-Bug: #1957023\n'}, {'number': 3, 'created': '2022-01-12 16:00:23.000000000', 'files': ['manifests/init.pp', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/15f35ba9f9e4aa5082a0a00a911a783695ac59a1', 'message': 'Use systemctl to restart the keystone service\n\n... instead of the service command which is deprecated. The systemctl\ncommand is now hard-coded because all OS versions we currently support\nnow use the systemd provider to manage services.\n\nChange-Id: I6a15b93c3fe07ed2d9c05490a490ab4a20e4727f\nCloses-Bug: #1957023\n'}]",4,824080,15f35ba9f9e4aa5082a0a00a911a783695ac59a1,14,3,3,9816,,,0,"Use systemctl to restart the keystone service

... instead of the service command which is deprecated. The systemctl
command is now hard-coded because all OS versions we currently support
now use the systemd provider to manage services.

Change-Id: I6a15b93c3fe07ed2d9c05490a490ab4a20e4727f
Closes-Bug: #1957023
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/80/824080/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/keystone_init_spec.rb']",2,a7c7c9e0f51685f333556217c87c7e143546ccd7,bug/1957023," 'command' => ""systemctl restart #{platform_params[:httpd_service_name]}"", 'command' => ""systemctl restart #{platform_params[:service_name]}"","," 'command' => ""service #{platform_params[:httpd_service_name]} restart"", 'command' => ""service #{platform_params[:service_name]} restart"",",3,3
openstack%2Fkolla~stable%2Fvictoria~I042da2234d0a06f1b7ddcac9eb6db8b86f13d205,openstack/kolla,stable/victoria,I042da2234d0a06f1b7ddcac9eb6db8b86f13d205,magnum: fix issue with keystone auth default policy,MERGED,2022-01-20 09:58:01.000000000,2022-01-24 10:14:41.000000000,2022-01-24 10:12:46.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32238}, {'_account_id': 34017}]","[{'number': 1, 'created': '2022-01-20 09:58:01.000000000', 'files': ['docker/magnum/magnum-base/Dockerfile.j2', 'releasenotes/notes/magnum-keystone-auth-default-policy-e16f7bb558aa4b14.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ca6951744f273f20bcf05916f090ee84abb163ea', 'message': 'magnum: fix issue with keystone auth default policy\n\nCloses-Bug: #1957159\nChange-Id: I042da2234d0a06f1b7ddcac9eb6db8b86f13d205\n(cherry picked from commit 0a536f47a8e077d37ccff3b3201512c2b793b0ab)\n'}]",4,825456,ca6951744f273f20bcf05916f090ee84abb163ea,20,5,1,14826,,,0,"magnum: fix issue with keystone auth default policy

Closes-Bug: #1957159
Change-Id: I042da2234d0a06f1b7ddcac9eb6db8b86f13d205
(cherry picked from commit 0a536f47a8e077d37ccff3b3201512c2b793b0ab)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/56/825456/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/magnum/magnum-base/Dockerfile.j2', 'releasenotes/notes/magnum-keystone-auth-default-policy-e16f7bb558aa4b14.yaml']",2,ca6951744f273f20bcf05916f090ee84abb163ea,,--- fixes: - | Fixes an issue with missing Magnum Keystone auth default policy. `LP#1957159 <https://launchpad.net/bugs/1957159>`__ ,,6,0
openstack%2Fneutron-lib~master~Ieee1ca092e572ad4696105962fbc6de675454657,openstack/neutron-lib,master,Ieee1ca092e572ad4696105962fbc6de675454657,Enforce policy for qos_policy_id attribute,MERGED,2022-01-18 11:27:03.000000000,2022-01-24 10:14:31.000000000,2022-01-24 10:12:36.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-18 11:27:03.000000000', 'files': ['neutron_lib/api/definitions/qos.py', 'releasenotes/notes/bug-1957175-6b2705d4772df7de.yaml', 'neutron_lib/api/definitions/qos_fip.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/cf54989be21e1229eae6a34af5b84c2bfc5aface', 'message': ""Enforce policy for qos_policy_id attribute\n\nCurrently while updating 'qos_policy_id', authorization policies\nare not enforced and as a result it can be set or unset over\nport/network/fip by an unauthorized user.\n\nThis patch fixes it by setting 'enforce_policy' to True\nfor this attribute.\n\nCloses-Bug: #1957175\nChange-Id: Ieee1ca092e572ad4696105962fbc6de675454657\n""}]",2,825088,cf54989be21e1229eae6a34af5b84c2bfc5aface,11,6,1,13861,,,0,"Enforce policy for qos_policy_id attribute

Currently while updating 'qos_policy_id', authorization policies
are not enforced and as a result it can be set or unset over
port/network/fip by an unauthorized user.

This patch fixes it by setting 'enforce_policy' to True
for this attribute.

Closes-Bug: #1957175
Change-Id: Ieee1ca092e572ad4696105962fbc6de675454657
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/88/825088/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/definitions/qos.py', 'releasenotes/notes/bug-1957175-6b2705d4772df7de.yaml', 'neutron_lib/api/definitions/qos_fip.py']",3,cf54989be21e1229eae6a34af5b84c2bfc5aface,bug/1957175," 'enforce_policy': True,",,10,0
openstack%2Fkolla-ansible~master~Ib522f6ea5949b8b7d7c9ddb5fd0e6bb5700474b2,openstack/kolla-ansible,master,Ib522f6ea5949b8b7d7c9ddb5fd0e6bb5700474b2,Enable Keystone scope enforcement,NEW,2022-01-19 23:14:33.000000000,2022-01-24 09:47:16.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 23:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0b67c76117ce9d37a9249b7386c2eb2f646399e3', 'message': 'Enable Keystone scope enforcement\n\nEnable the Keystone scope validation flags as part of RBAC effort. Add new\nadmin-openrc-system-scope.sh which sets admin user to use the system scoped\nrole. Update tests as required.\n\nChange-Id: Ib522f6ea5949b8b7d7c9ddb5fd0e6bb5700474b2\nSigned-off-by: james kirsch <generalfuzz@gmail.com>\n'}, {'number': 2, 'created': '2022-01-20 00:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a820f904a965acbcceda58602c4cc1e82749ac54', 'message': 'Enable Keystone scope enforcement\n\nEnable the Keystone scope validation flags as part of RBAC effort. Add new\nadmin-openrc-system-scope.sh which sets admin user to use the system scoped\nrole. Update tests as required.\n\nChange-Id: Ib522f6ea5949b8b7d7c9ddb5fd0e6bb5700474b2\nSigned-off-by: james kirsch <generalfuzz@gmail.com>\n'}, {'number': 3, 'created': '2022-01-20 18:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1eda237e0876ad552531e06c86d3c6bdd57cb910', 'message': 'Enable Keystone scope enforcement\n\nEnable the Keystone scope validation flags as part of RBAC effort. Add new\nadmin-openrc-system-scope.sh which sets admin user to use the system scoped\nrole. Update tests as required.\n\nChange-Id: Ib522f6ea5949b8b7d7c9ddb5fd0e6bb5700474b2\nSigned-off-by: james kirsch <generalfuzz@gmail.com>\n'}, {'number': 4, 'created': '2022-01-20 23:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/09671bb1bfa7e6938ee5f6c032aac26f1392ca06', 'message': 'Enable Keystone scope enforcement\n\nEnable the Keystone scope validation flags as part of RBAC effort. Add new\nadmin-openrc-system-scope.sh which sets admin user to use the system scoped\nrole. Update tests as required.\n\nChange-Id: Ib522f6ea5949b8b7d7c9ddb5fd0e6bb5700474b2\nSigned-off-by: james kirsch <generalfuzz@gmail.com>\n'}, {'number': 5, 'created': '2022-01-21 17:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eebc77d42e6b4b37d433606524999b43741b5d72', 'message': 'Enable Keystone scope enforcement\n\nEnable the Keystone scope validation flags as part of RBAC effort. Add new\nadmin-openrc-system-scope.sh which sets admin user to use the system scoped\nrole. Update tests as required.\n\nChange-Id: Ib522f6ea5949b8b7d7c9ddb5fd0e6bb5700474b2\nSigned-off-by: james kirsch <generalfuzz@gmail.com>\n'}, {'number': 6, 'created': '2022-01-21 21:37:03.000000000', 'files': ['ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/octavia/tasks/get_resources_info.yml', 'ansible/roles/octavia/tasks/prepare.yml', 'tests/check-config.sh', 'ansible/post-deploy.yml', 'tests/test-monasca.sh', 'tests/test-ironic.sh', 'ansible/roles/common/templates/admin-openrc-system-scope.sh.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d3e8d0e296901495f029f56073acca245ae00310', 'message': 'Enable Keystone scope enforcement\n\nEnable the Keystone scope validation flags as part of RBAC effort. Add new\nadmin-openrc-system-scope.sh which sets admin user to use the system scoped\nrole. Update tests as required.\n\nChange-Id: Ib522f6ea5949b8b7d7c9ddb5fd0e6bb5700474b2\nSigned-off-by: james kirsch <generalfuzz@gmail.com>\n'}]",7,825406,d3e8d0e296901495f029f56073acca245ae00310,21,2,6,30810,,,0,"Enable Keystone scope enforcement

Enable the Keystone scope validation flags as part of RBAC effort. Add new
admin-openrc-system-scope.sh which sets admin user to use the system scoped
role. Update tests as required.

Change-Id: Ib522f6ea5949b8b7d7c9ddb5fd0e6bb5700474b2
Signed-off-by: james kirsch <generalfuzz@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/825406/6 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/templates/keystone.conf.j2', 'tests/check-config.sh', 'ansible/post-deploy.yml', 'ansible/roles/common/templates/admin-openrc-system-scope.sh.j2', 'tests/test-ironic.sh']",5,0b67c76117ce9d37a9249b7386c2eb2f646399e3,keystone-system-scope, . /etc/kolla/admin-openrc-system-scope.sh . /etc/kolla/admin-openrc.sh,,44,2
openstack%2Fopenstack-helm~master~I6c0bb2efc0ec9a4c227e48ed14f0d5bad526e76f,openstack/openstack-helm,master,I6c0bb2efc0ec9a4c227e48ed14f0d5bad526e76f,Fix OPENSTACK_API_VERSION,MERGED,2022-01-12 03:22:35.000000000,2022-01-24 09:39:04.000000000,2022-01-24 09:36:51.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 33519}]","[{'number': 1, 'created': '2022-01-12 03:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/af55f253d32773f95721179f22e9338c5944b24f', 'message': 'Fix OPENSTACK_API_VERSION\n\nFix container_infra api version value to container-infra.\n\nChange-Id: I6c0bb2efc0ec9a4c227e48ed14f0d5bad526e76f\n'}, {'number': 2, 'created': '2022-01-17 04:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7b0686afcc23c26cc30fbf6666cd6b2050d4669d', 'message': 'Fix OPENSTACK_API_VERSION\n\nFix container_infra api version value to container-infra.\n\nChange-Id: I6c0bb2efc0ec9a4c227e48ed14f0d5bad526e76f\n'}, {'number': 3, 'created': '2022-01-17 10:33:46.000000000', 'files': ['horizon/Chart.yaml', 'releasenotes/notes/horizon.yaml', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4f8208e37102077f9faed90454e9dccf93755c47', 'message': 'Fix OPENSTACK_API_VERSION\n\nFix container_infra api version value to container-infra.\n\nChange-Id: I6c0bb2efc0ec9a4c227e48ed14f0d5bad526e76f\n'}]",2,824277,4f8208e37102077f9faed90454e9dccf93755c47,16,5,3,33130,,,0,"Fix OPENSTACK_API_VERSION

Fix container_infra api version value to container-infra.

Change-Id: I6c0bb2efc0ec9a4c227e48ed14f0d5bad526e76f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/77/824277/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/Chart.yaml', 'releasenotes/notes/horizon.yaml', 'horizon/values.yaml']",3,af55f253d32773f95721179f22e9338c5944b24f,horizon-api-fix," ""container-infra"": {{ .Values.conf.horizon.local_settings.config.openstack_api_versions.container_infra }}"," ""container_infra"": {{ .Values.conf.horizon.local_settings.config.openstack_api_versions.container_infra }}",3,2
openstack%2Foslo.limit~master~Iaab1f0d5eb0da9a667267537d86f6c70bc8db51d,openstack/oslo.limit,master,Iaab1f0d5eb0da9a667267537d86f6c70bc8db51d,Make calculate_usage() work if limits are missing,MERGED,2021-08-30 14:50:21.000000000,2022-01-24 09:33:41.000000000,2022-01-24 09:31:57.000000000,"[{'_account_id': 4690}, {'_account_id': 5046}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-30 14:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/e9c038ef3bb035909fbd421eb7a679fad410ca04', 'message': 'Make calculate_usage() work if limits are missing\n\nThe calculate_usage interface was added recently to allow consumers\nto probe limits and usage without requiring the enforce behavior\nworkflow. If a limit was passed to it that was not registered in\nkeystone, get_project_limits() would raise a ProjectOverLimit\nexception itself to abort the process immediately, providing the\n""unregistered means zero"" behavior. This works fine for the enforce\nworkflow, but not the calculate one.\n\nThis changes get_project_limits() to just return a zero limit for\na missing one, which will be considered by the enforce workflow in\nthe same way, keeping the existing behavior. It will merely be\nreported by the calculate workflow, which is the desired change.\n\nChange-Id: Iaab1f0d5eb0da9a667267537d86f6c70bc8db51d\n'}, {'number': 2, 'created': '2022-01-10 20:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/a9615e052ae6f618c4c2bcf26805eecb7653dc5e', 'message': 'Make calculate_usage() work if limits are missing\n\nThe calculate_usage interface was added recently to allow consumers\nto probe limits and usage without requiring the enforce behavior\nworkflow. If a limit was passed to it that was not registered in\nkeystone, get_project_limits() would raise a ProjectOverLimit\nexception itself to abort the process immediately, providing the\n""unregistered means zero"" behavior. This works fine for the enforce\nworkflow, but not the calculate one.\n\nThis changes get_project_limits() to just return a zero limit for\na missing one, which will be considered by the enforce workflow in\nthe same way, keeping the existing behavior. It will merely be\nreported by the calculate workflow, which is the desired change.\n\nChange-Id: Iaab1f0d5eb0da9a667267537d86f6c70bc8db51d\n'}, {'number': 3, 'created': '2022-01-10 20:38:27.000000000', 'files': ['doc/source/user/usage.rst', 'oslo_limit/tests/test_limit.py', 'oslo_limit/limit.py'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/a49f3a04d02ef6fe43423eda313d9115588f0287', 'message': 'Make calculate_usage() work if limits are missing\n\nThe calculate_usage interface was added recently to allow consumers\nto probe limits and usage without requiring the enforce behavior\nworkflow. If a limit was passed to it that was not registered in\nkeystone, get_project_limits() would raise a ProjectOverLimit\nexception itself to abort the process immediately, providing the\n""unregistered means zero"" behavior. This works fine for the enforce\nworkflow, but not the calculate one.\n\nThis changes get_project_limits() to just return a zero limit for\na missing one, which will be considered by the enforce workflow in\nthe same way, keeping the existing behavior. It will merely be\nreported by the calculate workflow, which is the desired change.\n\nChange-Id: Iaab1f0d5eb0da9a667267537d86f6c70bc8db51d\n'}]",10,806604,a49f3a04d02ef6fe43423eda313d9115588f0287,24,5,3,4393,,,0,"Make calculate_usage() work if limits are missing

The calculate_usage interface was added recently to allow consumers
to probe limits and usage without requiring the enforce behavior
workflow. If a limit was passed to it that was not registered in
keystone, get_project_limits() would raise a ProjectOverLimit
exception itself to abort the process immediately, providing the
""unregistered means zero"" behavior. This works fine for the enforce
workflow, but not the calculate one.

This changes get_project_limits() to just return a zero limit for
a missing one, which will be considered by the enforce workflow in
the same way, keeping the existing behavior. It will merely be
reported by the calculate workflow, which is the desired change.

Change-Id: Iaab1f0d5eb0da9a667267537d86f6c70bc8db51d
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/04/806604/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/usage.rst', 'oslo_limit/tests/test_limit.py', 'oslo_limit/limit.py']",3,e9c038ef3bb035909fbd421eb7a679fad410ca04,fix-bug," If a limit is not found, it will be considered to be zero (i.e. no quota) except _LimitNotFound: limit = 0 project_limits.append((resource_name, limit))"," We will raise ClaimExceedsLimit if no limit is found to ensure that all clients of this library react to this situation in the same way. :raises exception.ClaimExceedsLimit: if no limit is found missing_limits = [] project_limits.append((resource_name, limit)) except _LimitNotFound: missing_limits.append(resource_name) if len(missing_limits) > 0: over_limit_list = [exception.OverLimitInfo(name, 0, 0, 0) for name in missing_limits] raise exception.ProjectOverLimit(project_id, over_limit_list)",53,36
openstack%2Ftacker~master~Ibf9310c4ddffcc41e23eea8c5dfd212fd3a9a145,openstack/tacker,master,Ibf9310c4ddffcc41e23eea8c5dfd212fd3a9a145,Fix filter data creation,MERGED,2021-12-10 02:06:36.000000000,2022-01-24 09:24:46.000000000,2022-01-24 09:23:05.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-12-10 02:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e26042f4c87bb78fcc02d1076b25ac36cf48a50e', 'message': '[WIP] Fix filter data creation\n\nChange-Id: Ibf9310c4ddffcc41e23eea8c5dfd212fd3a9a145\n'}, {'number': 2, 'created': '2021-12-10 09:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f3a237378a729489e98f830204fcac66d7227590', 'message': ""[WIP] Fix filter data creation\n\nThe tacker-server returns 500 error if a reuqest body of the\nsubscription creation [1] that doesn't have\n`vfnInstanceSubscriptionFilter` parameter, although it's an optional\nparameter.\n\nThe happens simply beacuse the `vfnInstanceSubscriptionFilter` is not\nhandled as an optional paramter in the current codes.\n\nThis patch fixes such codes to correctly handle the request without a\n`vfnInstanceSubscriptionFilter` parameter.\n\n[1]:\nhttps://docs.openstack.org/api-ref/nfv-orchestration/v1/vnflcm.html?expanded=create-a-new-subscription-detail\n\nChange-Id: Ibf9310c4ddffcc41e23eea8c5dfd212fd3a9a145\nCloses-bug: #1947303\n""}, {'number': 3, 'created': '2021-12-16 11:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8bd0fd3c8ac2163bda1aac1e20c8bad2af2961f9', 'message': ""Fix filter data creation\n\nThe tacker-server returns 500 error if a reuqest body of the\nsubscription creation [1] that doesn't have\n`vfnInstanceSubscriptionFilter` parameter, although it's an optional\nparameter.\n\nThe happens simply beacuse the `vfnInstanceSubscriptionFilter` is not\nhandled as an optional paramter in the current codes.\n\nThis patch fixes such codes to correctly handle the request without a\n`vfnInstanceSubscriptionFilter` parameter.\n\n[1]:\nhttps://docs.openstack.org/api-ref/nfv-orchestration/v1/vnflcm.html?expanded=create-a-new-subscription-detail\n\nChange-Id: Ibf9310c4ddffcc41e23eea8c5dfd212fd3a9a145\nCloses-bug: #1947303\n""}, {'number': 4, 'created': '2021-12-17 04:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/626d236afc870bc7f08ba0029c84d6f38459d8bd', 'message': ""Fix filter data creation\n\nThe tacker-server returns 500 error if a reuqest body of the\nsubscription creation [1] that doesn't have\n`vfnInstanceSubscriptionFilter` parameter, although it's an optional\nparameter.\n\nThe happens simply beacuse the `vfnInstanceSubscriptionFilter` is not\nhandled as an optional paramter in the current codes.\n\nThis patch fixes such codes to correctly handle the request without a\n`vfnInstanceSubscriptionFilter` parameter.\n\n[1]:\nhttps://docs.openstack.org/api-ref/nfv-orchestration/v1/vnflcm.html?expanded=create-a-new-subscription-detail\n\nChange-Id: Ibf9310c4ddffcc41e23eea8c5dfd212fd3a9a145\nCloses-bug: #1947303\n""}, {'number': 5, 'created': '2021-12-17 08:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3d5b28a21fce76d5db1fab5b9eec91751bed6447', 'message': ""Fix filter data creation\n\nThe tacker-server returns 500 error if a reuqest body of the\nsubscription creation [1] that doesn't have\n`vfnInstanceSubscriptionFilter` parameter, although it's an optional\nparameter.\n\nThe happens simply beacuse the `vfnInstanceSubscriptionFilter` is not\nhandled as an optional paramter in the current codes.\n\nThis patch fixes such codes to correctly handle the request without a\n`vfnInstanceSubscriptionFilter` parameter.\n\n[1]:\nhttps://docs.openstack.org/api-ref/nfv-orchestration/v1/vnflcm.html?expanded=create-a-new-subscription-detail\n\nChange-Id: Ibf9310c4ddffcc41e23eea8c5dfd212fd3a9a145\nCloses-bug: #1947303\n""}, {'number': 6, 'created': '2021-12-20 00:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ab201352c729f68b7ab37d8a9f70d0834e862600', 'message': ""Fix filter data creation\n\nThe tacker-server returns 500 error if a reuqest body of the\nsubscription creation [1] that doesn't have\n`vfnInstanceSubscriptionFilter` parameter, although it's an optional\nparameter.\n\nThe happens simply beacuse the `vfnInstanceSubscriptionFilter` is not\nhandled as an optional paramter in the current codes.\n\nThis patch fixes such codes to correctly handle the request without a\n`vfnInstanceSubscriptionFilter` parameter.\n\n[1]:\nhttps://docs.openstack.org/api-ref/nfv-orchestration/v1/vnflcm.html?expanded=create-a-new-subscription-detail\n\nChange-Id: Ibf9310c4ddffcc41e23eea8c5dfd212fd3a9a145\nCloses-bug: #1947303\n""}, {'number': 7, 'created': '2022-01-17 07:21:51.000000000', 'files': ['tacker/tests/unit/objects/fakes.py', 'tacker/objects/vnf_lcm_subscriptions.py', 'tacker/tests/unit/objects/test_vnf_lcm_subscriptions.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/ccb0dd3d383a314a8bda62e2353aea6bdd805f80', 'message': ""Fix filter data creation\n\nThe tacker-server returns 500 error if a request body of the\nsubscription creation [1] that doesn't have\n`vnfInstanceSubscriptionFilter` parameter, although it's an optional\nparameter.\n\nThe happens simply because the `vnfInstanceSubscriptionFilter` is not\nhandled as an optional parameter in the current codes.\n\nThis patch fixes such codes to correctly handle the request without a\n`vnfInstanceSubscriptionFilter` parameter.\n\n[1]:\nhttps://docs.openstack.org/api-ref/nfv-orchestration/v1/vnflcm.html?expanded=create-a-new-subscription-detail\n\nChange-Id: Ibf9310c4ddffcc41e23eea8c5dfd212fd3a9a145\nCloses-bug: #1947303\n""}]",31,821357,ccb0dd3d383a314a8bda62e2353aea6bdd805f80,27,5,7,33455,,,0,"Fix filter data creation

The tacker-server returns 500 error if a request body of the
subscription creation [1] that doesn't have
`vnfInstanceSubscriptionFilter` parameter, although it's an optional
parameter.

The happens simply because the `vnfInstanceSubscriptionFilter` is not
handled as an optional parameter in the current codes.

This patch fixes such codes to correctly handle the request without a
`vnfInstanceSubscriptionFilter` parameter.

[1]:
https://docs.openstack.org/api-ref/nfv-orchestration/v1/vnflcm.html?expanded=create-a-new-subscription-detail

Change-Id: Ibf9310c4ddffcc41e23eea8c5dfd212fd3a9a145
Closes-bug: #1947303
",git fetch https://review.opendev.org/openstack/tacker refs/changes/57/821357/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/objects/vnf_lcm_subscriptions.py'],1,e26042f4c87bb78fcc02d1076b25ac36cf48a50e,821357," vnf_products_from_providers = ( filter.get('vnfInstanceSubscriptionFilter', {}) .get('vnfProductsFromProviders')) ", vnf_instance_subscription_filter = \ filter.get('vnfInstanceSubscriptionFilter') vnf_products_from_providers = \ vnf_instance_subscription_filter.get( 'vnfProductsFromProviders'),4,5
openstack%2Ftacker~master~Ib005fb3a783f4a63c3d536f97490fa6fc2d64cab,openstack/tacker,master,Ib005fb3a783f4a63c3d536f97490fa6fc2d64cab,Resolve TODOs in v2 API attribute selector/filter,MERGED,2021-12-24 05:47:37.000000000,2022-01-24 09:21:38.000000000,2022-01-24 09:20:05.000000000,"[{'_account_id': 4149}, {'_account_id': 9200}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31857}, {'_account_id': 32581}, {'_account_id': 34226}]","[{'number': 1, 'created': '2021-12-24 05:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/053bd2235c295701fd4e30ed3239b1cdfb81ae2b', 'message': 'Implement missing functionalities in the attribute selector and filter\n\nIn the attribute filter, use of @key is now supported. Also incorrect\nhandling of boolean values is fixed.\nCardinality zero checks in the attribute selector now work even in nested\nattributes.\n\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nChange-Id: Ib005fb3a783f4a63c3d536f97490fa6fc2d64cab\n'}, {'number': 2, 'created': '2022-01-07 02:03:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3e029e698f403bd996f7994bbee6a833b69ac700', 'message': 'Implement missing functionalities in the attribute selector and filter\n\nIn the attribute filter, use of @key is now supported. Also incorrect\nhandling of boolean values is fixed.\nCardinality zero checks in the attribute selector now work even in nested\nattributes.\n\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nChange-Id: Ib005fb3a783f4a63c3d536f97490fa6fc2d64cab\n'}, {'number': 3, 'created': '2022-01-14 08:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/04f134720b47e7a4794e33b8f7c701bcdc424b81', 'message': 'Make the v2 API follow the spec better\n\nSome functionalities in the attribute selector and filter were\nmissing.  In the attribute filter, use of @key is now supported.\nAlso incorrect handling of boolean values is fixed.\n\nCardinality zero checks in the attribute selector now work even in\nnested attributes.\n\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nChange-Id: Ib005fb3a783f4a63c3d536f97490fa6fc2d64cab\n'}, {'number': 4, 'created': '2022-01-19 01:10:30.000000000', 'files': ['tacker/sol_refactored/controller/vnflcm_view.py', 'tacker/tests/unit/sol_refactored/controller/test_vnflcm_view.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/f9547f5e433626e807dc151fb934f9d908c472cf', 'message': 'Resolve TODOs in v2 API attribute selector/filter\n\nSome functionalities in the attribute selector and filter were\nmissing.  In the attribute filter, use of @key is now supported.\nAlso incorrect handling of boolean values is fixed.\n\nCardinality zero checks in the attribute selector now work even in\nnested attributes.\n\nImplements: blueprint support-nfv-solv3-query-vnf-instances\nImplements: blueprint support-nfv-solv3-query-operation-occurrences\nChange-Id: Ib005fb3a783f4a63c3d536f97490fa6fc2d64cab\n'}]",32,822872,f9547f5e433626e807dc151fb934f9d908c472cf,31,9,4,9200,,,0,"Resolve TODOs in v2 API attribute selector/filter

Some functionalities in the attribute selector and filter were
missing.  In the attribute filter, use of @key is now supported.
Also incorrect handling of boolean values is fixed.

Cardinality zero checks in the attribute selector now work even in
nested attributes.

Implements: blueprint support-nfv-solv3-query-vnf-instances
Implements: blueprint support-nfv-solv3-query-operation-occurrences
Change-Id: Ib005fb3a783f4a63c3d536f97490fa6fc2d64cab
",git fetch https://review.opendev.org/openstack/tacker refs/changes/72/822872/3 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/sol_refactored/controller/vnflcm_view.py', 'tacker/tests/unit/sol_refactored/controller/test_vnflcm_view.py']",2,053bd2235c295701fd4e30ed3239b1cdfb81ae2b,bp/support-nfv-solv3-query-vnf-instances," ['foo', 'bar'], ['false']) def test_match_key(self): fexp = vnflcm_view.FilterExpr('eq', ['foo', vnflcm_view.KeyAttribute()], ['abc']) self.assertFalse(fexp.match({'foo': {'bar': True}})) self.assertTrue(fexp.match({'foo': {'abc': False}})) f5 = builder.parse_filter(""(eq,foo/@key,'abc')"") self.assertEqual(len(f5), 1) self.assertEqual(len(f5[0].attr), 2) self.assertEqual(f5[0].attr[0], 'foo') self.assertIsInstance(f5[0].attr[1], vnflcm_view.KeyAttribute) self.assertEqual(len(f5[0].values), 1) "," ['foo/bar'], ['false'])",51,12
openstack%2Fpuppet-ovn~master~Ib98072753cda70be530c900bd9296a8a576a2a66,openstack/puppet-ovn,master,Ib98072753cda70be530c900bd9296a8a576a2a66,Ensure external_ids:ovn-bridge-mappings is purged,MERGED,2022-01-21 12:59:33.000000000,2022-01-24 09:17:24.000000000,2022-01-24 09:17:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 12:59:33.000000000', 'files': ['manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/faef816496713d8ab4b11713735803b87dcace5b', 'message': 'Ensure external_ids:ovn-bridge-mappings is purged\n\n... when ovn_bridge_mappings is empty, otherwise any old configuration\nis not removed during update.\n\nChange-Id: Ib98072753cda70be530c900bd9296a8a576a2a66\n'}]",2,825782,faef816496713d8ab4b11713735803b87dcace5b,13,3,1,9816,,,0,"Ensure external_ids:ovn-bridge-mappings is purged

... when ovn_bridge_mappings is empty, otherwise any old configuration
is not removed during update.

Change-Id: Ib98072753cda70be530c900bd9296a8a576a2a66
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/82/825782/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/controller.pp'],1,faef816496713d8ab4b11713735803b87dcace5b,, $bridge_items = { 'external_ids:ovn-bridge-mappings' => { 'ensure' => 'absent' } }, $bridge_items = {},3,1
openstack%2Fpuppet-ceilometer~master~I0579cd61806133d90b8214c7d671e6f651038d87,openstack/puppet-ceilometer,master,I0579cd61806133d90b8214c7d671e6f651038d87,Avoid testing details of oslo::messaging(::*),MERGED,2022-01-21 14:33:30.000000000,2022-01-24 09:04:32.000000000,2022-01-24 09:04:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 14:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/48aad717023cf5ca04a98efbfe6be68b38a80451', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: I0579cd61806133d90b8214c7d671e6f651038d87\n'}, {'number': 2, 'created': '2022-01-21 14:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/97b4866f139ab8e2af0a7ff68f4a3cae835aa97c', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: I0579cd61806133d90b8214c7d671e6f651038d87\n'}, {'number': 3, 'created': '2022-01-21 14:49:59.000000000', 'files': ['spec/classes/ceilometer_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/453cc408784648c6092279159121250eeb62ccbe', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: I0579cd61806133d90b8214c7d671e6f651038d87\n'}]",1,825813,453cc408784648c6092279159121250eeb62ccbe,14,3,3,9816,,,0,"Avoid testing details of oslo::messaging(::*)

... so that any change in puppet-oslo would not directly break unit
tests.

Change-Id: I0579cd61806133d90b8214c7d671e6f651038d87
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/13/825813/3 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/ceilometer_init_spec.rb'],1,48aad717023cf5ca04a98efbfe6be68b38a80451,oslo-messaging-ut," it_configures 'rabbit without HA support' it_configures 'rabbit without HA support' is_expected.to contain_oslo__messaging__default('ceilometer_config').with( :executor_thread_pool_size => '<SERVICE DEFAULT>', :transport_url => '<SERVICE DEFAULT>', :rpc_response_timeout => '<SERVICE DEFAULT>', :control_exchange => '<SERVICE DEFAULT>' ) is_expected.to contain_oslo__messaging__notifications('ceilometer_config').with( :transport_url => '<SERVICE DEFAULT>', :driver => '<SERVICE DEFAULT>', :topics => 'notifications' ) is_expected.to contain_oslo__messaging__default('ceilometer_config').with( :executor_thread_pool_size => '128', :transport_url => 'rabbit://rabbit_user:password@localhost:5673', :rpc_response_timeout => '120', :control_exchange => 'ceilometer' ) :notification_driver => 'messagingv2', is_expected.to contain_oslo__messaging__notifications('ceilometer_config').with( :transport_url => 'rabbit://rabbit_user:password@localhost:5673', :driver => 'messagingv2', :topics => ['notifications', 'custom'] ) shared_examples_for 'rabbit without HA support' do is_expected.to contain_oslo__messaging__rabbit('ceilometer_config').with( :rabbit_ha_queues => '<SERVICE DEFAULT>', :heartbeat_timeout_threshold => '<SERVICE DEFAULT>', :heartbeat_rate => '<SERVICE DEFAULT>', :heartbeat_in_pthread => '<SERVICE DEFAULT>', :rabbit_qos_prefetch_count => '<SERVICE DEFAULT>', :amqp_durable_queues => '<SERVICE DEFAULT>', :kombu_reconnect_delay => '<SERVICE DEFAULT>', :kombu_failover_strategy => '<SERVICE DEFAULT>', :kombu_compression => '<SERVICE DEFAULT>', ) is_expected.to contain_oslo__messaging__rabbit('ceilometer_config').with( :rabbit_ha_queues => params[:rabbit_ha_queues] ) is_expected.to contain_oslo__messaging__rabbit('ceilometer_config').with( :amqp_durable_queues => params[:amqp_durable_queues] ) it { is_expected.to contain_oslo__messaging__rabbit('ceilometer_config').with( :heartbeat_timeout_threshold => '60', :heartbeat_rate => '10', :heartbeat_in_pthread => true, ) } it { is_expected.to contain_oslo__messaging__amqp('ceilometer_config').with( :server_request_prefix => '<SERVICE DEFAULT>', :broadcast_prefix => '<SERVICE DEFAULT>', :group_request_prefix => '<SERVICE DEFAULT>', :container_name => '<SERVICE DEFAULT>', :idle_timeout => '<SERVICE DEFAULT>', :trace => '<SERVICE DEFAULT>', :ssl_ca_file => '<SERVICE DEFAULT>', :ssl_cert_file => '<SERVICE DEFAULT>', :ssl_key_file => '<SERVICE DEFAULT>', :sasl_mechanisms => '<SERVICE DEFAULT>', :sasl_config_dir => '<SERVICE DEFAULT>', :sasl_config_name => '<SERVICE DEFAULT>', :username => '<SERVICE DEFAULT>', :password => '<SERVICE DEFAULT>', ) } it { is_expected.to contain_oslo__messaging__amqp('ceilometer_config').with( :server_request_prefix => '<SERVICE DEFAULT>', :broadcast_prefix => '<SERVICE DEFAULT>', :group_request_prefix => '<SERVICE DEFAULT>', :container_name => '<SERVICE DEFAULT>', :idle_timeout => '60', :trace => true, :ssl_ca_file => '/path/to/ca.cert', :ssl_cert_file => '/path/to/certfile', :ssl_key_file => '/path/to/key', :sasl_mechanisms => '<SERVICE DEFAULT>', :sasl_config_dir => '<SERVICE DEFAULT>', :sasl_config_name => '<SERVICE DEFAULT>', :username => 'amqp_user', :password => 'password', ) }"," let :rabbit_params do { :rabbit_qos_prefetch_count => 10, } end before { params.merge!( rabbit_params ) } it_configures 'rabbit without HA support (with backward compatibility)' before { params.merge!( rabbit_params ) } it_configures 'rabbit without HA support (without backward compatibility)' is_expected.to contain_ceilometer_config('DEFAULT/executor_thread_pool_size').with_value('<SERVICE DEFAULT>') is_expected.to contain_ceilometer_config('DEFAULT/transport_url').with_value('<SERVICE DEFAULT>') is_expected.to contain_ceilometer_config('DEFAULT/rpc_response_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_ceilometer_config('DEFAULT/control_exchange').with_value('<SERVICE DEFAULT>') is_expected.to contain_ceilometer_config('oslo_messaging_notifications/topics').with_value('notifications') is_expected.to contain_ceilometer_config('oslo_messaging_notifications/driver').with_value('<SERVICE DEFAULT>') is_expected.to contain_ceilometer_config('oslo_messaging_notifications/transport_url').with_value('<SERVICE DEFAULT>') is_expected.to contain_ceilometer_config('DEFAULT/executor_thread_pool_size').with_value('128') is_expected.to contain_ceilometer_config('DEFAULT/transport_url').with_value('rabbit://rabbit_user:password@localhost:5673') is_expected.to contain_ceilometer_config('DEFAULT/rpc_response_timeout').with_value('120') is_expected.to contain_ceilometer_config('DEFAULT/control_exchange').with_value('ceilometer') :notification_driver => 'messagingv1', is_expected.to contain_ceilometer_config('oslo_messaging_notifications/topics').with_value('notifications,custom') is_expected.to contain_ceilometer_config('oslo_messaging_notifications/driver').with_value('messagingv1') is_expected.to contain_ceilometer_config('oslo_messaging_notifications/transport_url').with_value('rabbit://rabbit_user:password@localhost:5673') shared_examples_for 'rabbit without HA support (with backward compatibility)' do is_expected.to contain_ceilometer_config('oslo_messaging_rabbit/heartbeat_timeout_threshold').with_value('<SERVICE DEFAULT>') is_expected.to contain_ceilometer_config('oslo_messaging_rabbit/heartbeat_rate').with_value('<SERVICE DEFAULT>') is_expected.to contain_ceilometer_config('oslo_messaging_rabbit/heartbeat_in_pthread').with_value('<SERVICE DEFAULT>') it { is_expected.to contain_ceilometer_config('oslo_messaging_rabbit/rabbit_qos_prefetch_count').with_value( params[:rabbit_qos_prefetch_count] ) } it { is_expected.to contain_ceilometer_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_rabbit/kombu_failover_strategy').with_value('<SERVICE DEFAULT>') } end shared_examples_for 'rabbit without HA support (without backward compatibility)' do it 'configures rabbit' do is_expected.to contain_ceilometer_config('oslo_messaging_rabbit/heartbeat_timeout_threshold').with_value('<SERVICE DEFAULT>') is_expected.to contain_ceilometer_config('oslo_messaging_rabbit/heartbeat_rate').with_value('<SERVICE DEFAULT>') is_expected.to contain_ceilometer_config('oslo_messaging_rabbit/heartbeat_in_pthread').with_value('<SERVICE DEFAULT>') end it { is_expected.to contain_ceilometer_config('oslo_messaging_rabbit/rabbit_qos_prefetch_count').with_value( params[:rabbit_qos_prefetch_count] ) } it { is_expected.to contain_ceilometer_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_rabbit/kombu_failover_strategy').with_value('<SERVICE DEFAULT>') } is_expected.to contain_ceilometer_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value( params[:rabbit_ha_queues] ) is_expected.to contain_ceilometer_config('oslo_messaging_rabbit/amqp_durable_queues').with_value(true) it { is_expected.to contain_ceilometer_config('oslo_messaging_rabbit/heartbeat_timeout_threshold').with_value('60') } it { is_expected.to contain_ceilometer_config('oslo_messaging_rabbit/heartbeat_rate').with_value('10') } it { is_expected.to contain_ceilometer_config('oslo_messaging_rabbit/heartbeat_in_pthread').with_value(true) } context ""with SSL wrongly configured"" do context 'with kombu_ssl_ca_certs parameter' do before { params.merge!(:kombu_ssl_ca_certs => '/path/to/ca.crt') } it_raises 'a Puppet::Error', /The kombu_ssl_ca_certs parameter requires rabbit_use_ssl to be set to true/ end context 'with kombu_ssl_certfile parameter' do before { params.merge!(:kombu_ssl_certfile => '/path/to/ssl/cert/file') } it_raises 'a Puppet::Error', /The kombu_ssl_certfile parameter requires rabbit_use_ssl to be set to true/ end context 'with kombu_ssl_keyfile parameter' do before { params.merge!(:kombu_ssl_keyfile => '/path/to/ssl/keyfile') } it_raises 'a Puppet::Error', /The kombu_ssl_keyfile parameter requires rabbit_use_ssl to be set to true/ end end it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/server_request_prefix').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/broadcast_prefix').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/group_request_prefix').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/container_name').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/idle_timeout').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/trace').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/ssl_ca_file').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/ssl_cert_file').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/ssl_key_file').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/ssl_key_password').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/sasl_mechanisms').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/sasl_config_dir').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/sasl_config_name').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/username').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/password').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/server_request_prefix').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/broadcast_prefix').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/group_request_prefix').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/container_name').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/idle_timeout').with_value('60') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/trace').with_value('true') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/ssl_ca_file').with_value('/path/to/ca.cert') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/ssl_cert_file').with_value('/path/to/certfile') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/ssl_key_file').with_value('/path/to/key') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/sasl_mechanisms').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/sasl_config_dir').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/sasl_config_name').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/username').with_value('amqp_user') } it { is_expected.to contain_ceilometer_config('oslo_messaging_amqp/password').with_value('password') }",80,98
openstack%2Fhorizon~master~Ica1a16522421a697efdab882afe6d9c08ff05e0b,openstack/horizon,master,Ica1a16522421a697efdab882afe6d9c08ff05e0b,Fix hardcoded link error in sphinx 4.4.0,MERGED,2022-01-19 20:17:25.000000000,2022-01-24 08:58:33.000000000,2022-01-24 08:57:03.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-01-19 20:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/007055f4efb93ee76d0e5dc6ed5c2dd5e0f983ff', 'message': 'Fix hardcoded link error in sphinx 4.4.0\n\nhorizon doc job is failing because sphinx 4.4.0 raise\xa0an\xa0error\nfor the hardcoded extlinks link [1]. This patch fixes those links\nto unblock the doc gate job.\n\nCloses-Bug: #1958290\nChange-Id: I52865e7b4c7ee2b9cace450778405a5e62b46e40\n\n[1] https://github.com/sphinx-doc/sphinx/pull/9800\n\nChange-Id: Ica1a16522421a697efdab882afe6d9c08ff05e0b\n'}, {'number': 2, 'created': '2022-01-20 05:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/31c292a51ff9bc6cdc7b0bdce2f98538224a8bf8', 'message': 'Fix hardcoded link error in sphinx 4.4.0\n\nhorizon doc job is failing because sphinx 4.4.0 raise\xa0an\xa0error\nfor the hardcoded extlinks link [1]. This patch fixes those links\nto unblock the doc gate job.\n\nCloses-Bug: #1958290\n[1] https://github.com/sphinx-doc/sphinx/pull/9800\n\nChange-Id: Ica1a16522421a697efdab882afe6d9c08ff05e0b\n'}, {'number': 3, 'created': '2022-01-21 04:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/05210b1b9b046710464aabfb3fd908bd749c22d5', 'message': 'Fix hardcoded link error in sphinx 4.4.0\n\nhorizon doc job is failing because sphinx 4.4.0 raise\xa0an\xa0error\nfor the hardcoded extlinks link [1]. This patch fixes those links\nto unblock the doc gate job.\n\nCloses-Bug: #1958290\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\n\n[1] https://github.com/sphinx-doc/sphinx/pull/9800\n\nChange-Id: Ica1a16522421a697efdab882afe6d9c08ff05e0b\n'}, {'number': 4, 'created': '2022-01-21 06:12:19.000000000', 'files': ['doc/source/contributor/testing.rst', 'doc/source/contributor/contributing.rst', 'doc/source/configuration/settings.rst', 'doc/source/contributor/topics/code-style.rst', 'doc/source/contributor/tutorials/table_actions.rst', 'doc/source/contributor/quickstart.rst', 'doc/source/contributor/tutorials/dashboard.rst', 'doc/source/contributor/policies/horizon-bugs.rst', 'doc/source/install/from-source.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/83f864f490d9e7dbbc90bf14893c364de9311349', 'message': 'Fix hardcoded link error in sphinx 4.4.0\n\nhorizon doc job is failing because sphinx 4.4.0 raise\xa0an\xa0error\nfor the hardcoded extlinks link [1]. This patch fixes those links\nto unblock the doc gate job.\n\nCloses-Bug: #1958290\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\n\n[1] https://github.com/sphinx-doc/sphinx/pull/9800\n\nChange-Id: Ica1a16522421a697efdab882afe6d9c08ff05e0b\n'}]",34,825393,83f864f490d9e7dbbc90bf14893c364de9311349,21,6,4,29313,,,0,"Fix hardcoded link error in sphinx 4.4.0

horizon doc job is failing because sphinx 4.4.0 raise an error
for the hardcoded extlinks link [1]. This patch fixes those links
to unblock the doc gate job.

Closes-Bug: #1958290
Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>

[1] https://github.com/sphinx-doc/sphinx/pull/9800

Change-Id: Ica1a16522421a697efdab882afe6d9c08ff05e0b
",git fetch https://review.opendev.org/openstack/horizon refs/changes/93/825393/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'doc/source/contributor/testing.rst', 'doc/source/configuration/settings.rst', 'doc/source/contributor/topics/code-style.rst', 'doc/source/contributor/tutorials/table_actions.rst', 'doc/source/contributor/quickstart.rst', 'doc/source/contributor/tutorials/dashboard.rst', 'doc/source/contributor/policies/horizon-bugs.rst', 'doc/source/install/from-source.rst']",9,007055f4efb93ee76d0e5dc6ed5c2dd5e0f983ff,, ':opendev-repo:`openstack/devstack/src/branch/master/files/apache-horizon.template`', https://opendev.org/openstack/devstack/src/branch/master/files/apache-horizon.template,30,31
openstack%2Fpuppet-octavia~master~I6a2686a4e33c75d863ae146a3af37d416e01a655,openstack/puppet-octavia,master,I6a2686a4e33c75d863ae146a3af37d416e01a655,Add support for more connection tunables in [haprpoxy_amphora],MERGED,2022-01-10 07:59:18.000000000,2022-01-24 08:47:08.000000000,2022-01-24 08:45:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 07:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/db2102f3ff353590ba3a3101cbd8b172a3f15551', 'message': 'Add support for more connection tunables in [haprpoxy_amphora]\n\nThis change adds support for the following tunable parameters in\nthe haproxy_amphora section.\n\n - active_connection_max_retries\n - active_connection_interval\n - faiolver_connection_max_retries\n - faiolver_connection_interval\n\nChange-Id: I6a2686a4e33c75d863ae146a3af37d416e01a655\n'}, {'number': 2, 'created': '2022-01-10 08:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/a8391b4eaf99274c383b7fdddc8106c430f61da2', 'message': 'Add support for more connection tunables in [haprpoxy_amphora]\n\nThis change adds support for the following tunable parameters in\nthe haproxy_amphora section.\n\n - active_connection_max_retries\n - active_connection_interval\n - faiolver_connection_max_retries\n - faiolver_connection_interval\n\nChange-Id: I6a2686a4e33c75d863ae146a3af37d416e01a655\n'}, {'number': 3, 'created': '2022-01-16 02:05:21.000000000', 'files': ['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/haproxy_amphora-connection-opts-abb413396c1d98b8.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/ca3c4cc1c166c473ecf3935936c3ef4946d4c43f', 'message': 'Add support for more connection tunables in [haprpoxy_amphora]\n\nThis change adds support for the following tunable parameters in\nthe haproxy_amphora section.\n\n - active_connection_max_retries\n - active_connection_retry_interval\n - faiolver_connection_max_retries\n - faiolver_connection_retry_interval\n\nChange-Id: I6a2686a4e33c75d863ae146a3af37d416e01a655\n'}]",1,823938,ca3c4cc1c166c473ecf3935936c3ef4946d4c43f,13,3,3,9816,,,0,"Add support for more connection tunables in [haprpoxy_amphora]

This change adds support for the following tunable parameters in
the haproxy_amphora section.

 - active_connection_max_retries
 - active_connection_retry_interval
 - faiolver_connection_max_retries
 - faiolver_connection_retry_interval

Change-Id: I6a2686a4e33c75d863ae146a3af37d416e01a655
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/38/823938/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/haproxy_amphora-connection-opts-abb413396c1d98b8.yaml']",3,db2102f3ff353590ba3a3101cbd8b172a3f15551,connection-opts,--- features: - | The following parameters have been added to the ``octavia::controller`` class. - ``active_connection_max_retries`` - ``active_connection_retry_interval`` - ``failover_connection_max_retries`` - ``failover_connection_retry_interval`` ,,163,115
openstack%2Fdiskimage-builder~master~Idbd37581fa6c98d5c8c9bd45166c735af4067da2,openstack/diskimage-builder,master,Idbd37581fa6c98d5c8c9bd45166c735af4067da2,Add rocky-container element,ABANDONED,2022-01-24 08:33:34.000000000,2022-01-24 08:35:27.000000000,,[],"[{'number': 1, 'created': '2022-01-24 08:33:34.000000000', 'files': ['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/rocky-container/element-deps', 'diskimage_builder/elements/rocky-container/package-installs.yaml', 'diskimage_builder/elements/rocky-container/test-elements/build-succeeds/README.rst', 'diskimage_builder/elements/rocky-container/test-elements/build-succeeds/element-deps', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/rocky-container/pkg-map', 'diskimage_builder/elements/rocky-container/containerfiles/8', 'diskimage_builder/elements/rocky-container/environment.d/10-01-rockylinux-distro-name.bash', 'diskimage_builder/elements/rocky-container/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/rocky-container/README.rst', 'diskimage_builder/elements/svc-map/extra-data.d/10-merge-svc-map-files'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ee881926acd2ed8b80a6f8e4f1b36208eb06a53f', 'message': 'Add rocky-container element\n\nChange-Id: Idbd37581fa6c98d5c8c9bd45166c735af4067da2\n'}]",0,826027,ee881926acd2ed8b80a6f8e4f1b36208eb06a53f,2,0,1,22629,,,0,"Add rocky-container element

Change-Id: Idbd37581fa6c98d5c8c9bd45166c735af4067da2
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/27/826027/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/rocky-container/element-deps', 'diskimage_builder/elements/rocky-container/package-installs.yaml', 'diskimage_builder/elements/rocky-container/test-elements/build-succeeds/README.rst', 'diskimage_builder/elements/rocky-container/test-elements/build-succeeds/element-deps', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/rocky-container/pkg-map', 'diskimage_builder/elements/rocky-container/containerfiles/8', 'diskimage_builder/elements/rocky-container/environment.d/10-01-rockylinux-distro-name.bash', 'diskimage_builder/elements/rocky-container/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/rocky-container/README.rst', 'diskimage_builder/elements/svc-map/extra-data.d/10-merge-svc-map-files']",12,ee881926acd2ed8b80a6f8e4f1b36208eb06a53f,," if distro in ['centos', 'centos7', 'fedora', 'rhel', 'rhel7', 'rocky']:"," if distro in ['centos', 'centos7', 'fedora', 'rhel', 'rhel7']:",61,2
openstack%2Fpuppet-octavia~master~I4bf4fb963c07907a503662e035b256422032c90a,openstack/puppet-octavia,master,I4bf4fb963c07907a503662e035b256422032c90a,Avoid testing details of oslo::messaging(::*),MERGED,2022-01-21 12:36:02.000000000,2022-01-24 08:28:41.000000000,2022-01-24 08:28:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 12:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/8b1c79ec6e073e3c9cadca958dadde5aa19edcbd', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: I4bf4fb963c07907a503662e035b256422032c90a\n'}, {'number': 2, 'created': '2022-01-21 13:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/1cc08d5fc5d8354b58c6dc45e82bd79aab24bccc', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: I4bf4fb963c07907a503662e035b256422032c90a\n'}, {'number': 3, 'created': '2022-01-21 13:49:55.000000000', 'files': ['spec/classes/octavia_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/aa6219daa046f34028dc6c9e81be233ba0054354', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: I4bf4fb963c07907a503662e035b256422032c90a\n'}]",1,825779,aa6219daa046f34028dc6c9e81be233ba0054354,13,3,3,9816,,,0,"Avoid testing details of oslo::messaging(::*)

... so that any change in puppet-oslo would not directly break unit
tests.

Change-Id: I4bf4fb963c07907a503662e035b256422032c90a
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/79/825779/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/octavia_init_spec.rb'],1,8b1c79ec6e073e3c9cadca958dadde5aa19edcbd,oslo-messaging-ut," should contain_oslo__messaging__default('octavia_config').with( :transport_url => '<SERVICE DEFAULT>', :rcp_response_timeout => '<SERVICE DEFAULT>', :control_exchange => '<SERVICE DEFAULT>', ) should contain_oslo__messaging__rabbit('octavia_config').with( :rabbit_ha_queues => '<SERVICE DEFAULT>', :heartbeat_timeout_threshold => '<SERVICE DEFAULT>', :heartbeat_rate => '<SERVICE DEFAULT>', :heartbeat_in_pthread => '<SERVICE DEFAULT>', :rabbit_use_ssl => '<SERVICE DEFAULT>', :kombu_reconnect_delay => '<SERVICE DEFAULT>', :kombu_failover_strategy => '<SERVICE DEFAULT>', :kombu_ssl_version => '<SERVICE DEFAULT>', :kombu_ssl_keyfile => '<SERVICE DEFAULT>', :kombu_ssl_certfile => '<SERVICE DEFAULT>', :kombu_ssl_ca_certs => '<SERVICE DEFAULT>', :kombu_compression => '<SERVICE DEFAULT>', :amqp_durable_queues => '<SERVICE DEFAULT>', ) is_expected.to contain_oslo__messaging__amqp('octavia_config').with( :server_request_prefix => '<SERVICE DEFAULT>', :broadcast_prefix => '<SERVICE DEFAULT>', :group_request_prefix => '<SERVICE DEFAULT>', :container_name => '<SERVICE DEFAULT>', :idle_timeout => '<SERVICE DEFAULT>', :trace => '<SERVICE DEFAULT>', :ssl_ca_file => '<SERVICE DEFAULT>', :ssl_cert_file => '<SERVICE DEFAULT>', :ssl_key_file => '<SERVICE DEFAULT>', :sasl_mechanisms => '<SERVICE DEFAULT>', :sasl_config_dir => '<SERVICE DEFAULT>', :sasl_config_name => '<SERVICE DEFAULT>', :username => '<SERVICE DEFAULT>', :password => '<SERVICE DEFAULT>', ) should contain_oslo__messaging__notifications('octavia_config').with( :transport_url => '<SERVICE DEFAULT>', :driver => '<SERVICE DEFAULT>', :topics => '<SERVICE DEFAULT>', ) :rabbit_ha_queues => true, :kombu_reconnect_delay => '5.0', :amqp_durable_queues => true, should contain_oslo__messaging__default('octavia_config').with( :transport_url => 'rabbit://rabbit_user:password@localhost:5673', :rcp_response_timeout => '120', :control_exchange => 'octavia', ) should contain_oslo__messaging__rabbit('octavia_config').with( :rabbit_ha_queues => true, :heartbeat_timeout_threshold => '60', :heartbeat_rate => '10', :heartbeat_in_pthead => true, :rabbit_use_ssl => '<SERVICE DEFAULT>', :kombu_reconnect_delay => '5.0', :kombu_failover_strategy => 'shuffle', :kombu_ssl_version => '<SERVICE DEFAULT>', :kombu_ssl_keyfile => '<SERVICE DEFAULT>', :kombu_ssl_certfile => '<SERVICE DEFAULT>', :kombu_ssl_ca_certs => '<SERVICE DEFAULT>', :kombu_compression => 'gzip', :amqp_durable_queues => true, ) should contain_oslo__messaging__notifications('octavia_config').with( :transport_url => 'rabbit://rabbit_user:password@localhost:5673', :driver => 'ceilometer.compute.octavia_notifier', :topics => 'openstack', ) { :rabbit_use_ssl => true, } is_expected.to contain_oslo__messaging__default('octavia_config').with( :transport_url => 'amqp://amqp_user:password@localhost:5672' ) is_expected.to contain_oslo__messaging__amqp('octavia_config').with( :server_request_prefix => '<SERVICE DEFAULT>', :broadcast_prefix => '<SERVICE DEFAULT>', :group_request_prefix => '<SERVICE DEFAULT>', :container_name => '<SERVICE DEFAULT>', :idle_timeout => '60', :trace => true, :ssl_ca_file => '/etc/ca.cert', :ssl_cert_file => '/etc/certfile', :ssl_key_file => '/etc/key', :sasl_mechanisms => '<SERVICE DEFAULT>', :sasl_config_dir => '<SERVICE DEFAULT>', :sasl_config_name => '<SERVICE DEFAULT>', :username => 'amqp_user', :password => 'password', )"," is_expected.to contain_octavia_config('DEFAULT/transport_url').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('DEFAULT/rpc_response_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('DEFAULT/control_exchange').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_rabbit/heartbeat_timeout_threshold').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_rabbit/heartbeat_rate').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_rabbit/heartbeat_in_pthread').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_rabbit/kombu_compression').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_rabbit/kombu_failover_strategy').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_notifications/transport_url').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_notifications/driver').with_value('<SERVICE DEFAULT>') :rabbit_ha_queues => 'undef', is_expected.to contain_octavia_config('DEFAULT/transport_url').with_value('rabbit://rabbit_user:password@localhost:5673') is_expected.to contain_octavia_config('DEFAULT/rpc_response_timeout').with_value('120') is_expected.to contain_octavia_config('DEFAULT/control_exchange').with_value('octavia') is_expected.to contain_octavia_config('oslo_messaging_rabbit/heartbeat_timeout_threshold').with_value('60') is_expected.to contain_octavia_config('oslo_messaging_rabbit/heartbeat_rate').with_value('10') is_expected.to contain_octavia_config('oslo_messaging_rabbit/heartbeat_in_pthread').with_value(true) is_expected.to contain_octavia_config('oslo_messaging_rabbit/kombu_compression').with_value('gzip') is_expected.to contain_octavia_config('oslo_messaging_rabbit/kombu_failover_strategy').with_value('shuffle') is_expected.to contain_octavia_config('oslo_messaging_notifications/transport_url').with_value('rabbit://rabbit_user:password@localhost:5673') is_expected.to contain_octavia_config('oslo_messaging_notifications/driver').with_value('ceilometer.compute.octavia_notifier') is_expected.to contain_octavia_config('oslo_messaging_notifications/topics').with_value('openstack') context 'with multiple notification_driver' do before { params.merge!( :notification_driver => ['ceilometer.compute.octavia_notifier', 'octavia.openstack.common.notifier.rpc_notifier']) } it { is_expected.to contain_octavia_config('oslo_messaging_notifications/driver').with_value( ['ceilometer.compute.octavia_notifier', 'octavia.openstack.common.notifier.rpc_notifier'] ) } end context 'with kombu_reconnect_delay set to 5.0' do let :params do { :kombu_reconnect_delay => '5.0' } end it 'configures rabbit' do is_expected.to contain_octavia_config('oslo_messaging_rabbit/kombu_reconnect_delay').with_value('5.0') end end context 'with rabbit_ha_queues set to true' do let :params do { :rabbit_ha_queues => 'true' } end it 'configures rabbit' do is_expected.to contain_octavia_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value(true) end end context 'with rabbit_ha_queues set to false' do let :params do { :rabbit_ha_queues => 'false' } end it 'configures rabbit' do is_expected.to contain_octavia_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value(false) end end context 'with amqp_durable_queues parameter' do let :params do { :amqp_durable_queues => 'true' } end it 'configures rabbit' do is_expected.to contain_octavia_config('oslo_messaging_rabbit/amqp_durable_queues').with_value(true) end end { :rabbit_use_ssl => true, } context 'with amqp default parameters' do it 'configures amqp' do is_expected.to contain_octavia_config('oslo_messaging_amqp/server_request_prefix').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_amqp/broadcast_prefix').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_amqp/group_request_prefix').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_amqp/container_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_amqp/idle_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_amqp/trace').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_amqp/ssl_ca_file').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_amqp/ssl_cert_file').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_amqp/ssl_key_file').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_amqp/ssl_key_password').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_amqp/sasl_mechanisms').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_amqp/sasl_config_dir').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_amqp/sasl_config_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_amqp/username').with_value('<SERVICE DEFAULT>') is_expected.to contain_octavia_config('oslo_messaging_amqp/password').with_value('<SERVICE DEFAULT>') end end is_expected.to contain_octavia_config('DEFAULT/transport_url').with_value('amqp://amqp_user:password@localhost:5672') is_expected.to contain_octavia_config('oslo_messaging_amqp/idle_timeout').with_value('60') is_expected.to contain_octavia_config('oslo_messaging_amqp/trace').with_value('true') is_expected.to contain_octavia_config('oslo_messaging_amqp/ssl_ca_file').with_value('/etc/ca.cert') is_expected.to contain_octavia_config('oslo_messaging_amqp/ssl_cert_file').with_value('/etc/certfile') is_expected.to contain_octavia_config('oslo_messaging_amqp/ssl_key_file').with_value('/etc/key') is_expected.to contain_octavia_config('oslo_messaging_amqp/username').with_value('amqp_user') is_expected.to contain_octavia_config('oslo_messaging_amqp/password').with_value('password')",89,100
openstack%2Fpuppet-openstack-guide~master~Id3f5be399805fd8512b04e494bb8aedbe5628d5b,openstack/puppet-openstack-guide,master,Id3f5be399805fd8512b04e494bb8aedbe5628d5b,Remove remaining reference to puppet-senlin,MERGED,2022-01-22 14:24:58.000000000,2022-01-24 08:20:04.000000000,2022-01-24 08:17:01.000000000,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-22 14:24:58.000000000', 'files': ['doc/source/install/releases.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/73bc22c389b86620fa41c946a48b905827d419e6', 'message': 'Remove remaining reference to puppet-senlin\n\nThis removes the remaining reference to puppet-senlin which was already\nretired. The reference should have been removed by [1].\n\n[1] 5426a849cdbcffc3de7d3c392e5d72814c301f42\n\nChange-Id: Id3f5be399805fd8512b04e494bb8aedbe5628d5b\n'}]",0,825950,73bc22c389b86620fa41c946a48b905827d419e6,7,2,1,9816,,,0,"Remove remaining reference to puppet-senlin

This removes the remaining reference to puppet-senlin which was already
retired. The reference should have been removed by [1].

[1] 5426a849cdbcffc3de7d3c392e5d72814c301f42

Change-Id: Id3f5be399805fd8512b04e494bb8aedbe5628d5b
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/50/825950/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/releases.rst'],1,73bc22c389b86620fa41c946a48b905827d419e6,,,.. _puppet-senlin: https://opendev.org/openstack/puppet-senlin,0,1
openstack%2Fpuppet-openstack-guide~master~Id2b0e948ce61b42fc105968d03ad184f0d4f36f7,openstack/puppet-openstack-guide,master,Id2b0e948ce61b42fc105968d03ad184f0d4f36f7,Fix broken links,MERGED,2022-01-22 14:30:10.000000000,2022-01-24 08:18:48.000000000,2022-01-24 08:16:57.000000000,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-22 14:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/9795445fb9f1edb30c8140578cef230f7a513a60', 'message': 'Fix broken reference to mailing-list.html\n\nChange-Id: Id2b0e948ce61b42fc105968d03ad184f0d4f36f7\n'}, {'number': 2, 'created': '2022-01-22 14:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/0eebf589708c310b33d6f076970800bd94abd6cd', 'message': 'Fix broken links\n\nChange-Id: Id2b0e948ce61b42fc105968d03ad184f0d4f36f7\n'}, {'number': 3, 'created': '2022-01-22 14:47:39.000000000', 'files': ['doc/source/contributor/testing.rst', 'doc/source/contributor/coding-style.rst', 'doc/source/install/getting-started.rst', 'doc/source/contributor/talk-to-us.rst', 'doc/source/install/supported-platforms.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/d004968ac60260938cd4ffa253cd3c2655004c79', 'message': 'Fix broken links\n\n... and replace usage of absolute url by relative url for internal\nreference.\n\nChange-Id: Id2b0e948ce61b42fc105968d03ad184f0d4f36f7\n'}]",0,825952,d004968ac60260938cd4ffa253cd3c2655004c79,10,2,3,9816,,,0,"Fix broken links

... and replace usage of absolute url by relative url for internal
reference.

Change-Id: Id2b0e948ce61b42fc105968d03ad184f0d4f36f7
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/52/825952/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/talk-to-us.rst'],1,9795445fb9f1edb30c8140578cef230f7a513a60,,* Join the conversation on our `Mailing list <http://docs.openstack.org/developer/puppet-openstack-guide/contributors/mailing-list.html>`_.,* Join the conversation on our `Mailing list <http://docs.openstack.org/developer/puppet-openstack-guide/mailing-list.html>`_.,1,1
openstack%2Fpuppet-openstack-guide~master~I0446bafe5ccc18461aec78a141a1846b1183fcc7,openstack/puppet-openstack-guide,master,I0446bafe5ccc18461aec78a141a1846b1183fcc7,Remove reference to puppet-tripleo,MERGED,2022-01-22 14:26:35.000000000,2022-01-24 08:17:00.000000000,2022-01-24 08:17:00.000000000,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-22 14:26:35.000000000', 'files': ['doc/source/contributor/module-list.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/7659d327d8b5b407b9457e38fd31b3b0eafe3368', 'message': 'Remove reference to puppet-tripleo\n\n... because puppet-tripleo is maintained under a different governance.\n\nChange-Id: I0446bafe5ccc18461aec78a141a1846b1183fcc7\n'}]",0,825951,7659d327d8b5b407b9457e38fd31b3b0eafe3368,6,2,1,9816,,,0,"Remove reference to puppet-tripleo

... because puppet-tripleo is maintained under a different governance.

Change-Id: I0446bafe5ccc18461aec78a141a1846b1183fcc7
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/51/825951/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/module-list.rst'],1,7659d327d8b5b407b9457e38fd31b3b0eafe3368,,,* `Deployment <http://opendev.org/openstack/puppet-tripleo/>`_ (*TripleO*),0,1
openstack%2Fpuppet-openstack-guide~master~Ic81e014de1f3fcc4d6ae7a6a10743015ee671277,openstack/puppet-openstack-guide,master,Ic81e014de1f3fcc4d6ae7a6a10743015ee671277,Remove duplicate contents,MERGED,2022-01-22 14:37:58.000000000,2022-01-24 08:16:58.000000000,2022-01-24 08:16:58.000000000,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-22 14:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/a52a7fb58742b2ae647f74b79379244d1396ed1e', 'message': 'Remove duplicate contents\n\nThe way to contact the team is already explained in a different page\n(contributor/talk-to-us.html).\n\nChange-Id: Ic81e014de1f3fcc4d6ae7a6a10743015ee671277\n'}, {'number': 2, 'created': '2022-01-22 14:48:27.000000000', 'files': ['doc/source/contributor/coding-style.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/5e2b6be665dd37ef9cbcc6e10691c5dc130b2c14', 'message': 'Remove duplicate contents\n\nThe way to contact the team is already explained in a different page\n(contributor/talk-to-us.html).\n\nChange-Id: Ic81e014de1f3fcc4d6ae7a6a10743015ee671277\n'}]",0,825953,5e2b6be665dd37ef9cbcc6e10691c5dc130b2c14,8,2,2,9816,,,0,"Remove duplicate contents

The way to contact the team is already explained in a different page
(contributor/talk-to-us.html).

Change-Id: Ic81e014de1f3fcc4d6ae7a6a10743015ee671277
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/53/825953/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/coding-style.rst'],1,a52a7fb58742b2ae647f74b79379244d1396ed1e,,," Asking for review ================= Different ways to get reviewsː - Go on IRC ``#puppet-openstack`` (OFTC) and gently ask for reviews. If you need to discuss about already reviewed code, you can ping the reviewers. - Add your patch on the Puppet OpenStack `meeting <https://docs.openstack.org/puppet-openstack-guide/latest/puppet-openstack-guide/contributor/meetings.html>`_ Agenda (in Open Discussion section). - Use the `Mailing list <https://docs.openstack.org/puppet-openstack-guide/latest/puppet-openstack-guide/contributor/mailing-list.html>`_. ",0,13
openstack%2Fpuppet-openstack-guide~master~I6ea10f6c4aa1bd2aa306be2702b7f503159c06c8,openstack/puppet-openstack-guide,master,I6ea10f6c4aa1bd2aa306be2702b7f503159c06c8,Update supported version of Ubuntu,MERGED,2022-01-22 14:51:09.000000000,2022-01-24 08:13:35.000000000,2022-01-24 08:12:18.000000000,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-22 14:51:09.000000000', 'files': ['doc/source/install/supported-platforms.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/b884bad97c8fc63019f1bf99783ceb7605b2adac', 'message': 'Update supported version of Ubuntu\n\nChange-Id: I6ea10f6c4aa1bd2aa306be2702b7f503159c06c8\n'}]",0,825954,b884bad97c8fc63019f1bf99783ceb7605b2adac,7,2,1,9816,,,0,"Update supported version of Ubuntu

Change-Id: I6ea10f6c4aa1bd2aa306be2702b7f503159c06c8
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/54/825954/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/supported-platforms.rst'],1,b884bad97c8fc63019f1bf99783ceb7605b2adac,ubuntu,- Ubuntu 18.04 (Bionic) with Rocky up to Victoria - Ubuntu 20.04 (Focal) with Wallaby and beyond,- Ubuntu 18.04 (Bionic) with Rocky and beyond,2,1
openstack%2Fopenstack-helm~master~I021092db825472f8ecbae30edea175374839504d,openstack/openstack-helm,master,I021092db825472f8ecbae30edea175374839504d,Removed policy from values,ABANDONED,2022-01-24 06:58:08.000000000,2022-01-24 07:55:03.000000000,,[],"[{'number': 1, 'created': '2022-01-24 06:58:08.000000000', 'files': ['aodh/Chart.yaml', 'releasenotes/notes/aodh.yaml', 'aodh/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0c89568228b61208b46b57cf890bc0f42ae7236c', 'message': 'Removed policy from values\n\nOpenstack projects have the default policy embed in code. For this reason, policies present in values file have been removed.\n\nChange-Id: I021092db825472f8ecbae30edea175374839504d\n'}]",0,826018,0c89568228b61208b46b57cf890bc0f42ae7236c,2,0,1,33130,,,0,"Removed policy from values

Openstack projects have the default policy embed in code. For this reason, policies present in values file have been removed.

Change-Id: I021092db825472f8ecbae30edea175374839504d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/18/826018/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/Chart.yaml', 'releasenotes/notes/aodh.yaml', 'aodh/values.yaml']",3,0c89568228b61208b46b57cf890bc0f42ae7236c,remove-policy-aodh, policy: {}, policy: context_is_admin: 'role:admin' segregation: 'rule:context_is_admin' admin_or_owner: 'rule:context_is_admin or project_id:%(project_id)s' default: 'rule:admin_or_owner' telemetry:get_alarm: 'rule:admin_or_owner' telemetry:get_alarms: 'rule:admin_or_owner' telemetry:query_alarm: 'rule:admin_or_owner' telemetry:create_alarm: '' telemetry:change_alarm: 'rule:admin_or_owner' telemetry:delete_alarm: 'rule:admin_or_owner' telemetry:get_alarm_state: 'rule:admin_or_owner' telemetry:change_alarm_state: 'rule:admin_or_owner' telemetry:alarm_history: 'rule:admin_or_owner' telemetry:query_alarm_history: 'rule:admin_or_owner',3,16
openstack%2Fkuryr~master~Ia634d0b7bd1cba49eec8823da25946b58d208b00,openstack/kuryr,master,Ia634d0b7bd1cba49eec8823da25946b58d208b00,Update python testing classifier,NEW,2022-01-19 00:50:06.000000000,2022-01-24 07:35:44.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-01-19 00:50:06.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/0a2a5767b2e97ca5390cd0317c97f1e2ecbef701', 'message': 'Update python testing classifier\n\nChange-Id: Ia634d0b7bd1cba49eec8823da25946b58d208b00\n'}]",1,825196,0a2a5767b2e97ca5390cd0317c97f1e2ecbef701,4,3,1,33881,,,0,"Update python testing classifier

Change-Id: Ia634d0b7bd1cba49eec8823da25946b58d208b00
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/96/825196/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,0a2a5767b2e97ca5390cd0317c97f1e2ecbef701,,"envlist = py39,pep8","envlist = py38,pep8",2,1
openstack%2Ftripleo-quickstart~master~I11ad7c193540f23064a35131476f3dcd7250a98e,openstack/tripleo-quickstart,master,I11ad7c193540f23064a35131476f3dcd7250a98e,Increase the command timeout to get cico node,MERGED,2022-01-21 16:27:47.000000000,2022-01-24 06:07:30.000000000,2022-01-24 00:31:10.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-01-21 16:27:47.000000000', 'files': ['ci-scripts/get-node.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fbd0f074f31897c230d5c809e13aae341da0f42f', 'message': ""Increase the command timeout to get cico node\n\nWe can't have more than 5 requests/sessions (still active)\nin the last 5 minutes. So, we need to increase the timeout\nfrom 6m to 15m.\n\nChange-Id: I11ad7c193540f23064a35131476f3dcd7250a98e\n""}]",3,825835,fbd0f074f31897c230d5c809e13aae341da0f42f,18,6,1,31068,,,0,"Increase the command timeout to get cico node

We can't have more than 5 requests/sessions (still active)
in the last 5 minutes. So, we need to increase the timeout
from 6m to 15m.

Change-Id: I11ad7c193540f23064a35131476f3dcd7250a98e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/35/825835/1 && git format-patch -1 --stdout FETCH_HEAD,['ci-scripts/get-node.sh'],1,fbd0f074f31897c230d5c809e13aae341da0f42f,, --retry-count 15 \, --retry-count 6 \,1,1
openstack%2Frequirements~master~I89b23a167a73f67616d2f951a1a24f3ce49f74df,openstack/requirements,master,I89b23a167a73f67616d2f951a1a24f3ce49f74df,Updated from generate-constraints,MERGED,2022-01-24 02:42:14.000000000,2022-01-24 05:55:37.000000000,2022-01-24 05:54:15.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-24 02:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/9046ef87f56a61b7d9f62a4527a5ed61e726e06a', 'message': 'Updated from generate-constraints\n\nChange-Id: I89b23a167a73f67616d2f951a1a24f3ce49f74df\n'}, {'number': 2, 'created': '2022-01-24 02:49:44.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2075d89ac59f3a9362912fb62109c6e01bdfe12b', 'message': 'Updated from generate-constraints\n\nChange-Id: I89b23a167a73f67616d2f951a1a24f3ce49f74df\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,825998,2075d89ac59f3a9362912fb62109c6e01bdfe12b,10,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I89b23a167a73f67616d2f951a1a24f3ce49f74df
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/98/825998/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9046ef87f56a61b7d9f62a4527a5ed61e726e06a,openstack/requirements/constraints/noclob,rcssmin===1.1.0moto===3.0.0XStatic-Angular===1.8.2.1SQLAlchemy===1.4.31paramiko===2.9.2pycryptodomex===3.13.0pkg_resources===0.0.0django-compressor===3.1boto3===1.20.41autopage===0.5.0asgiref===3.4.1;python_version=='3.6' asgiref===3.5.0;python_version=='3.8'pyparsing===3.0.7botocore===1.23.41dulwich===0.20.31rjsmin===1.2.0fasteners===0.17.2,rcssmin===1.0.6moto===2.3.2XStatic-Angular===1.5.8.0SQLAlchemy===1.4.30paramiko===2.8.1pycryptodomex===3.12.0django-compressor===2.4.1boto3===1.20.39autopage===0.4.0asgiref===3.4.1pyparsing===3.0.6botocore===1.23.39dulwich===0.20.30rjsmin===1.1.0fasteners===0.16.3setuptools===59.6.0;python_version=='3.6' setuptools===60.5.0;python_version=='3.8',17,17
openstack%2Fhorizon~master~I18d0d2105ea54ba02f8979ab7a15a75a0425b8c7,openstack/horizon,master,I18d0d2105ea54ba02f8979ab7a15a75a0425b8c7,Add a Note Under Install and configure Section in documentation,ABANDONED,2022-01-17 18:28:04.000000000,2022-01-24 04:51:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-17 18:28:04.000000000', 'files': ['doc/source/install/install-ubuntu.rst', 'doc/source/install/install-debian.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c3191a895e250fcc00a5607dd35db6e6687acd46', 'message': 'Add a Note Under Install and configure Section in documentation\n\nThis patch adds a note to use keystone port 5000 while configuring horizon\nfor all distros like ubuntu/debian/rdo/obs under the install and configure\nsection. Right now if a user tries to set up an OpenStack env. manually\nusing documentation [1], [2] leads to some confusion.\n\nCloses-Bug: #1910476\nCloses-Bug: #1926096\nCloses-Bug: #1950919\nCloses-Bug: #1956437\nCloses-Bug: #1892279\nCloses-Bug: #1903320\nChange-Id: I18d0d2105ea54ba02f8979ab7a15a75a0425b8c7\n'}]",0,825001,c3191a895e250fcc00a5607dd35db6e6687acd46,3,1,1,29313,,,0,"Add a Note Under Install and configure Section in documentation

This patch adds a note to use keystone port 5000 while configuring horizon
for all distros like ubuntu/debian/rdo/obs under the install and configure
section. Right now if a user tries to set up an OpenStack env. manually
using documentation [1], [2] leads to some confusion.

Closes-Bug: #1910476
Closes-Bug: #1926096
Closes-Bug: #1950919
Closes-Bug: #1956437
Closes-Bug: #1892279
Closes-Bug: #1903320
Change-Id: I18d0d2105ea54ba02f8979ab7a15a75a0425b8c7
",git fetch https://review.opendev.org/openstack/horizon refs/changes/01/825001/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/install-ubuntu.rst', 'doc/source/install/install-debian.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst']",4,c3191a895e250fcc00a5607dd35db6e6687acd46,," .. note:: In case your keystone run at 5000 port then you would mentioned keystone port here as well i.e. OPENSTACK_KEYSTONE_URL = ""http://%s:5000/identity/v3"" % OPENSTACK_HOST ",,24,0
openstack%2Ftacker-specs~master~I449c0c6096f0b7500d4570373804670766628ee1,openstack/tacker-specs,master,I449c0c6096f0b7500d4570373804670766628ee1,Add CentOS Stream Testing in Zuul,MERGED,2021-10-18 14:41:10.000000000,2022-01-24 01:45:44.000000000,2022-01-24 01:44:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}]","[{'number': 1, 'created': '2021-10-18 14:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/bb5391948c3048de38c8f18b66b3866a1b8b33ac', 'message': 'Add CentOS Stream Testing in Zuul\n\nCurrently OpenStack is tested only on Ubuntu OS. However, some\ncommercial sysytems use Fedora family OS.\n\nTo check that Tacker works properly on Fedora family OS, we plan\nto add testsets on CentOS Stream 8 nodeset to the testsets\nin Zuul.\n\nChange-Id: I449c0c6096f0b7500d4570373804670766628ee1\nImplements: blueprint use-robot-api-tests\n'}, {'number': 2, 'created': '2021-10-18 14:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/08791b833c3d2cc214340acc0eb23bba3bc4e6f8', 'message': 'Add CentOS Stream Testing in Zuul\n\nCurrently OpenStack is tested only on Ubuntu OS. However, some\ncommercial sysytems use Fedora family OS.\n\nTo check that Tacker works properly on Fedora family OS, we plan\nto add testsets on CentOS Stream 8 nodeset to the testsets\nin Zuul.\n\nChange-Id: I449c0c6096f0b7500d4570373804670766628ee1\nImplements: blueprint centos-stream-testing\n'}, {'number': 3, 'created': '2022-01-14 14:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/fb5f92713006f100fc1e491815d1c7797545ad1d', 'message': 'Add CentOS Stream Testing in Zuul\n\nCurrently OpenStack is tested only on Ubuntu OS. However, some\ncommercial sysytems use Fedora family OS.\n\nTo check that Tacker works properly on Fedora family OS, we plan\nto add testsets on CentOS Stream 8 nodeset to the testsets\nin Zuul.\n\nChange-Id: I449c0c6096f0b7500d4570373804670766628ee1\nImplements: blueprint centos-stream-testing\n'}, {'number': 4, 'created': '2022-01-18 01:48:11.000000000', 'files': ['specs/yoga/centos-stream-zuul.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/58fbb8ce4ba4c3e3634c780d79c05cdf87fcd84c', 'message': 'Add CentOS Stream Testing in Zuul\n\nCurrently OpenStack is tested only on Ubuntu OS. However, some\ncommercial systems use Fedora family OS.\n\nTo check that Tacker works properly on Fedora family OS, we plan\nto add testsets on CentOS Stream 8 nodeset to the testsets\nin Zuul.\n\nChange-Id: I449c0c6096f0b7500d4570373804670766628ee1\nImplements: blueprint centos-stream-testing\n'}]",16,814436,58fbb8ce4ba4c3e3634c780d79c05cdf87fcd84c,19,3,4,17255,,,0,"Add CentOS Stream Testing in Zuul

Currently OpenStack is tested only on Ubuntu OS. However, some
commercial systems use Fedora family OS.

To check that Tacker works properly on Fedora family OS, we plan
to add testsets on CentOS Stream 8 nodeset to the testsets
in Zuul.

Change-Id: I449c0c6096f0b7500d4570373804670766628ee1
Implements: blueprint centos-stream-testing
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/36/814436/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/centos-stream-zuul.rst'],1,bb5391948c3048de38c8f18b66b3866a1b8b33ac,bp/centos-stream-testing,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================= Add CentOS Stream Testing in Zuul ================================= https://blueprints.launchpad.net/tacker/+spec/centos-stream-testing This proposal aims to test Tacker on CentOS Stream in Zuul. Problem description =================== Currently OpenStack is tested only on Ubuntu OS. However, some commercial sysytems use Fedora family OS. Some users want to know Tacker works properly on Fedora family OS. Proposed change =============== To check that Tacker works properly on Fedora family OS, we plan to add testsets on CentOS Stream 8 nodeset to the testsets in Zuul. Target testsets are the following: * tacker-functional-devstack-multinode-sol * tacker-functional-devstack-multinode-sol-separated-nfvo * tacker-functional-devstack-multinode-sol-kubernetes * tacker-functional-devstack-multinode-sol-v2 The above is a list of testsets on Ubuntu. We will create new testsets changing nodeset definition of the above testsets from Ubuntu to CentOS Stream 8. The new testsets will be non-voting tests. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- (T.B.D.) Work Items ---------- * Add new testsets on CentOS Stream 8 Dependencies ============ None Testing ======= * Add new testsets on CentOS Stream 8 Documentation Impact ==================== None References ========== None ",,120,0
openstack%2Ffreezer-dr~master~Ie06892d9aca8c4e755b4befb27e6a1e896050611,openstack/freezer-dr,master,Ie06892d9aca8c4e755b4befb27e6a1e896050611,Clean up extra spaces,ABANDONED,2021-09-15 07:48:07.000000000,2022-01-24 01:37:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-15 07:48:07.000000000', 'files': ['freezer_dr/evacuators/common/driver.py'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/2202f408b8d8b9da0a89aa7f30ab6d08f000960e', 'message': 'Clean up extra spaces\n\nAlthough these errors are not important, they affect the code specification.\n\nChange-Id: Ie06892d9aca8c4e755b4befb27e6a1e896050611\n'}]",0,809152,2202f408b8d8b9da0a89aa7f30ab6d08f000960e,5,1,1,30449,,,0,"Clean up extra spaces

Although these errors are not important, they affect the code specification.

Change-Id: Ie06892d9aca8c4e755b4befb27e6a1e896050611
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/52/809152/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_dr/evacuators/common/driver.py'],1,2202f408b8d8b9da0a89aa7f30ab6d08f000960e,, :param evacuator_conf: A dict of arguments that got loaded from the configuration file! :return: Two lists; the first one will be the succeeded nodes and the, :param evacuator_conf: A dict of arguments that got loaded from the configuration file! :return: Two lists; the first one will be the succeeded nodes and the ,3,3
openstack%2Fcinder~master~I8a5900d4fc141de4ee46f1e27d7fa9349fd58a7d,openstack/cinder,master,I8a5900d4fc141de4ee46f1e27d7fa9349fd58a7d,fix 'huawei dorado v6' FC initiator can be added to host,ABANDONED,2022-01-22 03:30:59.000000000,2022-01-24 01:24:15.000000000,,[],"[{'number': 1, 'created': '2022-01-22 03:30:59.000000000', 'files': ['cinder/volume/drivers/huawei/constants.py', 'cinder/volume/drivers/huawei/huawei_conf.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/huawei_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6fa7fd54b5efac316e27661116a31f870a841289', 'message': ""fix 'huawei dorado v6' FC initiator can be added to host\n\nchange the fc initiator filter conditions. we add a config\nmin_fc_ini_online when the number of online fc initiator\nmore than the min_fc_ini_online, the online initiator will\nadded to host\n\nCloses-Bug: #1942218\nChange-Id: I8a5900d4fc141de4ee46f1e27d7fa9349fd58a7d\n""}]",0,825912,6fa7fd54b5efac316e27661116a31f870a841289,5,0,1,34247,,,0,"fix 'huawei dorado v6' FC initiator can be added to host

change the fc initiator filter conditions. we add a config
min_fc_ini_online when the number of online fc initiator
more than the min_fc_ini_online, the online initiator will
added to host

Closes-Bug: #1942218
Change-Id: I8a5900d4fc141de4ee46f1e27d7fa9349fd58a7d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/825912/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/huawei/constants.py', 'cinder/volume/drivers/huawei/huawei_conf.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/huawei_driver.py']",4,6fa7fd54b5efac316e27661116a31f870a841289,bug/1942218," wwns.remove(wwn) msg = ((""Can't add FC initiator %(wwn)s to host "" ""%(host)s, please check if this initiator has"" "" been added to other host or isn't present "" ""on array."") % {""wwn"": wwn, ""host"": host_id}) LOG.warning(msg) if (self.configuration.min_fc_ini_online == constants.DEFAULT_MINIMUM_FC_INITIATOR_ONLINE): wwns_in_host = ( self.client.get_host_fc_initiators(host_id)) iqns_in_host = ( self.client.get_host_iscsi_initiators(host_id)) if not (wwns_in_host or iqns_in_host or self.client.is_host_associated_to_hostgroup( host_id)): self.client.remove_host(host_id) msg = (""There is an FC initiator in an invalid "" ""state. If you want to continue to attach "" ""volume to host, configure MinFCIniOnline "" ""in the XML file."") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) if len(wwns) < self.configuration.min_fc_ini_online: msg = ((""The number of online FC initiator %(wwns)s less than"" "" the set number: %(set)s."") % {""wwns"": wwns, ""set"": self.configuration.min_fc_ini_online}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) ", wwns_in_host = ( self.client.get_host_fc_initiators(host_id)) iqns_in_host = ( self.client.get_host_iscsi_initiators(host_id)) if not (wwns_in_host or iqns_in_host or self.client.is_host_associated_to_hostgroup(host_id)): self.client.remove_host(host_id),56,7
openstack%2Ftempest~master~I2d4316a7f3c88cae32b3898744d13de39446a62d,openstack/tempest,master,I2d4316a7f3c88cae32b3898744d13de39446a62d,Update aggregate tests for bug#1907775,MERGED,2021-12-14 04:41:29.000000000,2022-01-24 01:13:44.000000000,2022-01-24 01:12:01.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}]","[{'number': 1, 'created': '2021-12-14 04:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/21c6cba9d5269a414597ff911aa38bc342255de4', 'message': 'Update aggregate tests for bug#1907775\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/821423\nChange-Id: I2d4316a7f3c88cae32b3898744d13de39446a62d\n'}, {'number': 2, 'created': '2021-12-14 12:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/68558d2f20266c5462e53e454d79b3a0b7893102', 'message': 'Update aggregate tests for bug#1907775\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/821423\nChange-Id: I2d4316a7f3c88cae32b3898744d13de39446a62d\n'}, {'number': 3, 'created': '2021-12-14 17:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e8f2308e80612c6ca8bf397f016cebbe271ea8e4', 'message': 'Update aggregate tests for bug#1907775\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/821423\nChange-Id: I2d4316a7f3c88cae32b3898744d13de39446a62d\n'}, {'number': 4, 'created': '2021-12-14 23:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4db2110c66497c366f9f75e891daafe58eaf8f0c', 'message': 'Update aggregate tests for bug#1907775\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/821423\nChange-Id: I2d4316a7f3c88cae32b3898744d13de39446a62d\n'}, {'number': 5, 'created': '2022-01-17 13:47:06.000000000', 'files': ['tempest/api/compute/admin/test_aggregates.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4f94ea018d893e0e4afab2a1f2a1e592ee8171e9', 'message': 'Update aggregate tests for bug#1907775\n\nCo-Authored-By: Ghanshyam <gmann@ghanshyammann.com>\n\nChange-Id: I2d4316a7f3c88cae32b3898744d13de39446a62d\n'}]",8,821647,4f94ea018d893e0e4afab2a1f2a1e592ee8171e9,25,4,5,8556,,,0,"Update aggregate tests for bug#1907775

Co-Authored-By: Ghanshyam <gmann@ghanshyammann.com>

Change-Id: I2d4316a7f3c88cae32b3898744d13de39446a62d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/47/821647/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/test_aggregates_basic_ops.py', 'tempest/common/compute.py', 'tempest/api/compute/admin/test_aggregates.py']",3,21c6cba9d5269a414597ff911aa38bc342255de4,bug/1907775,"from tempest.common import compute as commonfrom tempest.common import waiters # Find a host that has not been added to other availability zone, # and no servers on that host. host = common.get_host_with_no_az_no_servers( self.os_admin.hypervisor_client, self.client) if not host: raise self.skipException(""All hosts are already in other "" ""availability zones or have servers, so "" ""can't add host to aggregate."") body = (self.client.add_host(aggregate['id'], host=host) self.assertIn(host, body['hosts']) body = (self.client.remove_host(aggregate['id'], host=host) ['aggregate']) self.assertEqual(aggregate_name, body['name']) self.assertEqual(aggregate['availability_zone'], body['availability_zone']) self.assertNotIn(host, body['hosts']) # Find a host that has not been added to other availability zone, # and no servers on that host. host = common.get_host_with_no_az_no_servers( self.os_admin.hypervisor_client, self.client) if not host: raise self.skipException(""All hosts are already in other "" ""availability zones or have servers, so "" ""can't add host to aggregate."") self.client.add_host(aggregate['id'], host=host) host=host) self.assertIn(host, agg['hosts']) # Find a host that has not been added to other availability zone, # and no servers on that host. host = common.get_host_with_no_az_no_servers( self.os_admin.hypervisor_client, self.client) if not host: raise self.skipException(""All hosts are already in other "" ""availability zones or have servers, so "" ""can't add host to aggregate."") self.client.add_host(aggregate['id'], host=host) host=host) self.assertIn(host, body['hosts']) # and no servers on that host. host = common.get_host_with_no_az_no_servers( self.os_admin.hypervisor_client, self.client) if not host: ""availability zones or have servers, so "" ""can't add host to aggregate."") self.client.delete_server(server['id']) # NOTE(gmann): We need to wait for the server to delete before # addCleanup remove the host from aggregate. waiters.wait_for_server_termination(self.client, server['id']) # Find a host that has not been added to other availability zone, # and no servers on that host. host = common.get_host_with_no_az_no_servers( self.os_admin.hypervisor_client, self.client) if not host: raise self.skipException(""All hosts are already in other "" ""availability zones or have servers, so "" ""can't add host to aggregate."") self.client.add_host(aggregate['id'], host=host) self.client.remove_host(aggregate['id'], host=host)","import testtools cls.host = None hypers = cls.os_admin.hypervisor_client.list_hypervisors( detail=True)['hypervisors'] if CONF.compute.hypervisor_type: hypers = [hyper for hyper in hypers if (hyper['hypervisor_type'] == CONF.compute.hypervisor_type)] cls.hosts_available = [hyper['service']['host'] for hyper in hypers if (hyper['state'] == 'up' and hyper['status'] == 'enabled')] if cls.hosts_available: cls.host = cls.hosts_available[0] else: msg = ""no available compute node found"" if CONF.compute.hypervisor_type: msg += "" for hypervisor_type %s"" % CONF.compute.hypervisor_type raise testtools.TestCase.failureException(msg) body = (self.client.add_host(aggregate['id'], host=self.host) ['aggregate']) self.assertEqual(aggregate_name, body['name']) self.assertEqual(aggregate['availability_zone'], body['availability_zone']) self.assertIn(self.host, body['hosts']) body = (self.client.remove_host(aggregate['id'], host=self.host) self.assertNotIn(self.host, body['hosts']) self.client.add_host(aggregate['id'], host=self.host) host=self.host) self.assertIn(self.host, agg['hosts']) self.client.add_host(aggregate['id'], host=self.host) host=self.host) self.assertIn(self.host, body['hosts']) # for one host can't be added to different availability zones. aggregates = self.client.list_aggregates()['aggregates'] hosts_in_zone = [] for agg in aggregates: if agg['availability_zone']: hosts_in_zone.extend(agg['hosts']) hosts = [v for v in self.hosts_available if v not in hosts_in_zone] if not hosts: ""availability zones, so can't add "" ""host to aggregate. \nAggregates list: "" ""%s"" % aggregates) host = hosts[0] self.client.add_host(aggregate['id'], host=self.host) self.client.remove_host(aggregate['id'], host=self.host)",118,74
openstack%2Fpuppet-nova~stable%2Fussuri~I67a121d133c623dc1d07a0ae67f2af1f237d3227,openstack/puppet-nova,stable/ussuri,I67a121d133c623dc1d07a0ae67f2af1f237d3227,Add support for build_failure_weight_multiplier,ABANDONED,2022-01-23 23:41:56.000000000,2022-01-23 23:43:13.000000000,,[],"[{'number': 1, 'created': '2022-01-23 23:41:56.000000000', 'files': ['manifests/scheduler/filter.pp', 'releasenotes/notes/scheduler-filter-build_failure_weight_multiplier-a2d2c112d7bfaee4.yaml', 'spec/classes/nova_scheduler_filter_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9bb6a6cf6c83808c0a9550a96afe4d5325802632', 'message': 'Add support for build_failure_weight_multiplier\n\n... and improve unit test coverage.\n\nChange-Id: I67a121d133c623dc1d07a0ae67f2af1f237d3227\n(cherry picked from commit 09e13388bb2e7bbce0e5976104a7682de7c1de7a)\n'}]",0,825980,9bb6a6cf6c83808c0a9550a96afe4d5325802632,2,0,1,9816,,,0,"Add support for build_failure_weight_multiplier

... and improve unit test coverage.

Change-Id: I67a121d133c623dc1d07a0ae67f2af1f237d3227
(cherry picked from commit 09e13388bb2e7bbce0e5976104a7682de7c1de7a)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/80/825980/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/scheduler/filter.pp', 'releasenotes/notes/scheduler-filter-build_failure_weight_multiplier-a2d2c112d7bfaee4.yaml', 'spec/classes/nova_scheduler_filter_spec.rb']",3,9bb6a6cf6c83808c0a9550a96afe4d5325802632,," it { is_expected.to contain_nova_config('filter_scheduler/build_failure_weight_multiplier').with_value('<SERVICE DEFAULT>') } context 'when overriding params' do :scheduler_host_subset_size => '3', :max_io_ops_per_host => '16', :max_instances_per_host => '100', :scheduler_available_filters => ['nova_filter1','nova_filter2'], :scheduler_weight_classes => 'nova.scheduler.weights.compute.BuildFailureWeigher', :periodic_task_interval => 120, :track_instance_changes => true, :ram_weight_multiplier => 10, :cpu_weight_multiplier => 20, :disk_weight_multiplier => 30, :io_ops_weight_multiplier => 40, :soft_affinity_weight_multiplier => 50, :soft_anti_affinity_weight_multiplier => 60, :build_failure_weight_multiplier => 100, it { is_expected.to contain_nova_config('scheduler/periodic_task_interval').with_value(120) } it { is_expected.to contain_nova_config('filter_scheduler/host_subset_size').with_value('3') } it { is_expected.to contain_nova_config('filter_scheduler/max_io_ops_per_host').with_value('16') } it { is_expected.to contain_nova_config('filter_scheduler/max_instances_per_host').with_value('100') } it { is_expected.to contain_nova_config('filter_scheduler/track_instance_changes').with_value(true) } it { is_expected.to contain_nova_config('filter_scheduler/ram_weight_multiplier').with_value(10) } it { is_expected.to contain_nova_config('filter_scheduler/cpu_weight_multiplier').with_value(20) } it { is_expected.to contain_nova_config('filter_scheduler/disk_weight_multiplier').with_value(30) } it { is_expected.to contain_nova_config('filter_scheduler/io_ops_weight_multiplier').with_value(40) } it { is_expected.to contain_nova_config('filter_scheduler/soft_affinity_weight_multiplier').with_value(50) } it { is_expected.to contain_nova_config('filter_scheduler/soft_anti_affinity_weight_multiplier').with_value(60) } it { is_expected.to contain_nova_config('filter_scheduler/build_failure_weight_multiplier').with_value(100) }"," context 'when overriding params with non-empty arrays' do :scheduler_available_filters => ['nova_filter1','nova_filter2']",42,2
openstack%2Fnova~master~Iaf63f4b526665da2f5ae3a51c07b30b6bb80381b,openstack/nova,master,Iaf63f4b526665da2f5ae3a51c07b30b6bb80381b,tests: Use correct microversion for server group tests,NEW,2020-12-22 11:45:56.000000000,2022-01-23 19:55:14.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-22 11:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e7207287bca972eb642051421178a079384158a', 'message': ""tests: Use correct microversion for server group tests\n\nA number of tests were not setting the correct microversion for the\nrequest, meaning we weren't testing against the version expected.\nCorrect this.\n\nChange-Id: Iaf63f4b526665da2f5ae3a51c07b30b6bb80381b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-07-23 14:29:19.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_server_groups.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d44447336c564e3179e019a6bca392651fe12428', 'message': ""tests: Use correct microversion for server group tests\n\nA number of tests were not setting the correct microversion for the\nrequest, meaning we weren't testing against the version expected. There\nare also a few tests testing policy when we have specific policy tests\nin place for same. Correct both.\n\nChange-Id: Iaf63f4b526665da2f5ae3a51c07b30b6bb80381b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,768196,d44447336c564e3179e019a6bca392651fe12428,9,2,2,15334,,,0,"tests: Use correct microversion for server group tests

A number of tests were not setting the correct microversion for the
request, meaning we weren't testing against the version expected. There
are also a few tests testing policy when we have specific policy tests
in place for same. Correct both.

Change-Id: Iaf63f4b526665da2f5ae3a51c07b30b6bb80381b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/768196/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/api/openstack/compute/test_server_groups.py'],1,8e7207287bca972eb642051421178a079384158a,bp/status-version-bumps," self.req = fakes.HTTPRequest.blank( '', version=self.wsgi_api_version) self.admin_req = fakes.HTTPRequest.blank( '', version=self.wsgi_api_version, use_admin_context=True) self.foo_req = fakes.HTTPRequest.blank( '', version=self.wsgi_api_version, project_id='foo') sgroup = server_group_template(policies=policies) sgroup = server_group_template(policies=['affinity']) sgroup = server_group_template(policies=['affinity']) sgroup = server_group_template(policy=policy, rules=rules or {}) res_dict = self.controller.create( self.req, body={'server_group': sgroup}) g_uuid = self._create_server_group_normal(policy=policy) res_dict = self.controller.show(self.req, g_uuid) res_dict = self.controller.show(self.req, g_uuid) sgroup = server_group_template( policy='affinity', rules={'max_server_per_host': 3}) self.controller.create, self.req, body={'server_group': sgroup}) self.req, body={'server_group': sgroup}) def test_create_server_group_rbac_default(self): sgroup = server_group_template(policy='affinity') # test as admin self.controller.create(self.admin_req, body={'server_group': sgroup}) # test as non-admin self.controller.create(self.req, body={'server_group': sgroup}) def test_create_server_group_rbac_admin_only(self): sgroup = server_group_template(policy='affinity') # override policy to restrict to admin rule_name = sg_policies.POLICY_ROOT % 'create' rules = {rule_name: 'is_admin:True'} self.policy.set_rules(rules, overwrite=False) # check for success as admin self.controller.create(self.admin_req, body={'server_group': sgroup}) # check for failure as non-admin exc = self.assertRaises( exception.PolicyNotAuthorized, self.controller.create, self.req, body={'server_group': sgroup}) self.assertEqual( ""Policy doesn't allow %s to be performed."" % rule_name, exc.format_message()) def test_policies_since_264(self): self.req, body={'server_group': sgroup}) self.assertRaises( self.validation_error, self.controller.create, self.req, body={'server_group': sgroup}) def test_create_server_group_with_non_alphanumeric_in_name(self): # The fix for bug #1434335 expanded the allowable character set # for server group names to include non-alphanumeric characters # if they are printable. sgroup = server_group_template( name='good* $%name', policy='affinity') res_dict = self.controller.create( self.req, body={'server_group': sgroup}) self.assertEqual(res_dict['server_group']['name'], 'good* $%name') self.assertRaises( self.validation_error, self.controller.create, self.req, body={'server_group': sgroup}) self.assertRaises( self.validation_error, self.controller.create, self.req, body={'server_group': sgroup}) self.assertRaises( self.validation_error, self.controller.create, self.req, body={'server_group': sgroup}) self.assertRaises( self.validation_error, self.controller.create, self.req, body={'server_group': sgroup}) self.assertRaises( self.validation_error, self.controller.create, self.req, body={'server_group': sgroup})"," self.req = fakes.HTTPRequest.blank('') self.admin_req = fakes.HTTPRequest.blank('', use_admin_context=True) self.foo_req = fakes.HTTPRequest.blank('', project_id='foo') sgroup = server_group_template() sgroup['policies'] = policies sgroup = server_group_template() sgroup['policies'] = ['affinity'] sgroup = server_group_template() sgroup['policies'] = ['affinity'] req = fakes.HTTPRequest.blank('', version=self.wsgi_api_version) sgroup = server_group_template() sgroup['rules'] = rules or {} sgroup['policy'] = policy res_dict = self.controller.create(req, body={'server_group': sgroup}) g_uuid = self._create_server_group_normal( policy=policy) res_dict = self._display_server_group(g_uuid) def _display_server_group(self, uuid): req = fakes.HTTPRequest.blank('', version=self.wsgi_api_version) group = self.controller.show(req, uuid) return group res_dict = self._display_server_group(g_uuid) req = fakes.HTTPRequest.blank('', version=self.wsgi_api_version) sgroup = server_group_template(policy='affinity', rules={'max_server_per_host': 3}) self.controller.create, req, body={'server_group': sgroup}) req = fakes.HTTPRequest.blank('', version=self.wsgi_api_version) req, body={'server_group': sgroup}) def test_policies_since_264(self): req = fakes.HTTPRequest.blank('', version=self.wsgi_api_version) req, body={'server_group': sgroup}) req = fakes.HTTPRequest.blank('', version=self.wsgi_api_version) self.assertRaises(self.validation_error, self.controller.create, req, body={'server_group': sgroup}) req = fakes.HTTPRequest.blank('', version=self.wsgi_api_version) self.assertRaises(self.validation_error, self.controller.create, req, body={'server_group': sgroup}) self.assertRaises(self.validation_error, self.controller.create, req, body={'server_group': sgroup}) self.assertRaises(self.validation_error, self.controller.create, req, body={'server_group': sgroup}) self.assertRaises(self.validation_error, self.controller.create, req, body={'server_group': sgroup}) req = fakes.HTTPRequest.blank('', version=self.wsgi_api_version) self.assertRaises(self.validation_error, self.controller.create, req, body={'server_group': sgroup})",78,47
openstack%2Ftripleo-ansible~stable%2Fvictoria~I81885cbd0e2c56a7762494c9fba42d223dcbebbf,openstack/tripleo-ansible,stable/victoria,I81885cbd0e2c56a7762494c9fba42d223dcbebbf,Making tripleo-ansible-centos-8-molecule-tripleo_network_config non voting,ABANDONED,2022-01-21 14:36:37.000000000,2022-01-23 18:37:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-21 14:36:37.000000000', 'files': ['zuul.d/molecule.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/670285da0a35de2664841639d14089e103bd209b', 'message': 'Making tripleo-ansible-centos-8-molecule-tripleo_network_config non voting\n\nMaking tripleo-ansible-centos-8-molecule-tripleo_network_config non voting\ntill it is fixed. Reasons and details https://hackmd.io/giEO3JA1Q9i5IQoteeNwMg\n\nChange-Id: I81885cbd0e2c56a7762494c9fba42d223dcbebbf\n'}]",1,825814,670285da0a35de2664841639d14089e103bd209b,4,1,1,32458,,,0,"Making tripleo-ansible-centos-8-molecule-tripleo_network_config non voting

Making tripleo-ansible-centos-8-molecule-tripleo_network_config non voting
till it is fixed. Reasons and details https://hackmd.io/giEO3JA1Q9i5IQoteeNwMg

Change-Id: I81885cbd0e2c56a7762494c9fba42d223dcbebbf
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/14/825814/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/molecule.yaml'],1,670285da0a35de2664841639d14089e103bd209b,, voting: false, - tripleo-ansible-centos-8-molecule-tripleo_network_config,1,1
openstack%2Fnova~master~I84f5b73adddf42831f1d9e129c25bf955e6eda78,openstack/nova,master,I84f5b73adddf42831f1d9e129c25bf955e6eda78,conf: Allow cinderclient and os_brick to independently log at DEBUG,MERGED,2021-12-03 18:22:01.000000000,2022-01-23 03:59:51.000000000,2022-01-23 03:58:10.000000000,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-12-03 18:22:01.000000000', 'files': ['releasenotes/notes/cinder-debug-c522618d82987971.yaml', 'nova/conf/cinder.py', 'nova/config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/159016a4c3fcc8204b769fb41cdab84f2becfc1b', 'message': 'conf: Allow cinderclient and os_brick to independently log at DEBUG\n\nThis change adds a simple [cinder]debug configurable to allow\ncinderclient and os_brick to be made to log at DEBUG independently of\nthe rest of Nova.\n\nChange-Id: I84f5b73adddf42831f1d9e129c25bf955e6eda78\n'}]",2,820399,159016a4c3fcc8204b769fb41cdab84f2becfc1b,15,5,1,10135,,,0,"conf: Allow cinderclient and os_brick to independently log at DEBUG

This change adds a simple [cinder]debug configurable to allow
cinderclient and os_brick to be made to log at DEBUG independently of
the rest of Nova.

Change-Id: I84f5b73adddf42831f1d9e129c25bf955e6eda78
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/820399/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cinder-debug-c522618d82987971.yaml', 'nova/conf/cinder.py', 'nova/config.py']",3,159016a4c3fcc8204b769fb41cdab84f2becfc1b,," # Allow cinderclient and os_brick to log at DEBUG without Nova if CONF.cinder.debug: extra_default_log_levels += ['cinderclient=DEBUG', 'os_brick=DEBUG'] ",,17,0
openstack%2Frequirements~master~I10f91bd7d8d1734aef2163883a5d1bc1e11c0a69,openstack/requirements,master,I10f91bd7d8d1734aef2163883a5d1bc1e11c0a69,Updated from generate-constraints,ABANDONED,2022-01-23 02:44:13.000000000,2022-01-23 03:23:28.000000000,,[],"[{'number': 1, 'created': '2022-01-23 02:44:13.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a27a6dfc351191fd7947d7095203052e27db8068', 'message': 'Updated from generate-constraints\n\nChange-Id: I10f91bd7d8d1734aef2163883a5d1bc1e11c0a69\n'}]",0,825958,a27a6dfc351191fd7947d7095203052e27db8068,3,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I10f91bd7d8d1734aef2163883a5d1bc1e11c0a69
",git fetch https://review.opendev.org/openstack/requirements refs/changes/58/825958/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a27a6dfc351191fd7947d7095203052e27db8068,openstack/requirements/constraints,rcssmin===1.1.0moto===3.0.0XStatic-Angular===1.8.2.1SQLAlchemy===1.4.31paramiko===2.9.2pkg_resources===0.0.0django-compressor===3.1boto3===1.20.41autopage===0.5.0asgiref===3.4.1;python_version=='3.6' asgiref===3.5.0;python_version=='3.8'pyparsing===3.0.7botocore===1.23.41dulwich===0.20.31rjsmin===1.2.0fasteners===0.17.2,rcssmin===1.0.6moto===2.3.2XStatic-Angular===1.5.8.0SQLAlchemy===1.4.30paramiko===2.8.1django-compressor===2.4.1boto3===1.20.39autopage===0.4.0asgiref===3.4.1pyparsing===3.0.6botocore===1.23.39dulwich===0.20.30rjsmin===1.1.0fasteners===0.16.3setuptools===59.6.0;python_version=='3.6' setuptools===60.5.0;python_version=='3.8',16,16
openstack%2Fmanila~stable%2Fxena~If2a68f9f12e163fccffbf1c70946e5c97d7063d1,openstack/manila,stable/xena,If2a68f9f12e163fccffbf1c70946e5c97d7063d1,Configure correct Tempest venv upper constraints,ABANDONED,2022-01-21 21:45:57.000000000,2022-01-23 00:47:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-21 21:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0c29c4478d93623a78105c9a01cd56747a2160d3', 'message': 'Configure correct Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n\nExample: stable/train tempest cap\n- https://review.opendev.org/c/openstack/manila/+/825246\n\nmanila run tempest tests via contrib/ci/post_test_hook.sh\nand it use master constraints even for stable branches when we need\nto use stable constraints. using master constraints end up recreating\nthe Tempest venv and flush the already installed tempest plugins\nand their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nIt does not impact master or any stable branch use master tempest\nbut will take care is we start using stable constraints in any of the\nolder stable. Doing it from master so that we do not need to do this\non every stable branch (say when yoga become stable branch)\nwhen they are cut.\n\nRelated-Bug: #1922597\n\nChange-Id: If2a68f9f12e163fccffbf1c70946e5c97d7063d1\n'}, {'number': 2, 'created': '2022-01-21 21:47:32.000000000', 'files': ['contrib/ci/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/6800015c7503213f15aaafeb2af152ffcf11e250', 'message': 'Configure correct Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n\nExample: stable/train tempest cap\n- https://review.opendev.org/c/openstack/manila/+/825246\n\nmanila run tempest tests via contrib/ci/post_test_hook.sh\nand it use master constraints even for stable branches when we need\nto use stable constraints. using master constraints end up recreating\nthe Tempest venv and flush the already installed tempest plugins\nand their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nIt does not impact master or any stable branch use master tempest\nbut will take care is we start using stable constraints in any of the\nolder stable. Doing it from master so that we do not need to do this\non every stable branch (say when yoga become stable branch)\nwhen they are cut.\n\nRelated-Bug: #1922597\n\nChange-Id: If2a68f9f12e163fccffbf1c70946e5c97d7063d1\n(cherry picked from commit 01c0a716b144ffbb0e93a130e07a2e85d5a4c48c)\n'}]",0,825852,6800015c7503213f15aaafeb2af152ffcf11e250,8,1,2,8556,,,0,"Configure correct Tempest venv upper constraints

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch

Example: stable/train tempest cap
- https://review.opendev.org/c/openstack/manila/+/825246

manila run tempest tests via contrib/ci/post_test_hook.sh
and it use master constraints even for stable branches when we need
to use stable constraints. using master constraints end up recreating
the Tempest venv and flush the already installed tempest plugins
and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

It does not impact master or any stable branch use master tempest
but will take care is we start using stable constraints in any of the
older stable. Doing it from master so that we do not need to do this
on every stable branch (say when yoga become stable branch)
when they are cut.

Related-Bug: #1922597

Change-Id: If2a68f9f12e163fccffbf1c70946e5c97d7063d1
(cherry picked from commit 01c0a716b144ffbb0e93a130e07a2e85d5a4c48c)
",git fetch https://review.opendev.org/openstack/manila refs/changes/52/825852/2 && git format-patch -1 --stdout FETCH_HEAD,['contrib/ci/post_test_hook.sh'],1,0c29c4478d93623a78105c9a01cd56747a2160d3,standardize-tempest-tox-constraints,"# NOTE(gmann): If gate explicitly set the non master # constraints to use for Tempest venv then use the same # while running the tests too otherwise, it will recreate # the Tempest venv due to constraints mismatch. # recreation of Tempest venv can flush the initially installed # tempest plugins and their deps. # We cap EMstate stable branch with older Tempest and stable # constraints. TEMPEST_VENV_UPPER_CONSTRAINTS=$(set +o xtrace && source $BASE_DEVSTACK_DIR/stackrc && echo $TEMPEST_VENV_UPPER_CONSTRAINTS) if [[ ""$TEMPEST_VENV_UPPER_CONSTRAINTS"" != ""master"" ]]; then echo ""Using $TEMPEST_VENV_UPPER_CONSTRAINTS constraints in Tempest virtual env."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS export TOX_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS fi",,18,0
openstack%2Fmanila~stable%2Fwallaby~If2a68f9f12e163fccffbf1c70946e5c97d7063d1,openstack/manila,stable/wallaby,If2a68f9f12e163fccffbf1c70946e5c97d7063d1,Configure correct Tempest venv upper constraints,ABANDONED,2022-01-21 21:50:28.000000000,2022-01-23 00:47:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-21 21:50:28.000000000', 'files': ['contrib/ci/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/8531d8d3304cfbb43c4515aac1017c9771e42a25', 'message': 'Configure correct Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n\nExample: stable/train tempest cap\n- https://review.opendev.org/c/openstack/manila/+/825246\n\nmanila run tempest tests via contrib/ci/post_test_hook.sh\nand it use master constraints even for stable branches when we need\nto use stable constraints. using master constraints end up recreating\nthe Tempest venv and flush the already installed tempest plugins\nand their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nIt does not impact master or any stable branch use master tempest\nbut will take care is we start using stable constraints in any of the\nolder stable. Doing it from master so that we do not need to do this\non every stable branch (say when yoga become stable branch)\nwhen they are cut.\n\nRelated-Bug: #1922597\n\nChange-Id: If2a68f9f12e163fccffbf1c70946e5c97d7063d1\n(cherry picked from commit 01c0a716b144ffbb0e93a130e07a2e85d5a4c48c)\n(cherry picked from commit 6800015c7503213f15aaafeb2af152ffcf11e250)\n'}]",0,825887,8531d8d3304cfbb43c4515aac1017c9771e42a25,6,1,1,8556,,,0,"Configure correct Tempest venv upper constraints

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch

Example: stable/train tempest cap
- https://review.opendev.org/c/openstack/manila/+/825246

manila run tempest tests via contrib/ci/post_test_hook.sh
and it use master constraints even for stable branches when we need
to use stable constraints. using master constraints end up recreating
the Tempest venv and flush the already installed tempest plugins
and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

It does not impact master or any stable branch use master tempest
but will take care is we start using stable constraints in any of the
older stable. Doing it from master so that we do not need to do this
on every stable branch (say when yoga become stable branch)
when they are cut.

Related-Bug: #1922597

Change-Id: If2a68f9f12e163fccffbf1c70946e5c97d7063d1
(cherry picked from commit 01c0a716b144ffbb0e93a130e07a2e85d5a4c48c)
(cherry picked from commit 6800015c7503213f15aaafeb2af152ffcf11e250)
",git fetch https://review.opendev.org/openstack/manila refs/changes/87/825887/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/ci/post_test_hook.sh'],1,8531d8d3304cfbb43c4515aac1017c9771e42a25,standardize-tempest-tox-constraints,"# NOTE(gmann): If gate explicitly set the non master # constraints to use for Tempest venv then use the same # while running the tests too otherwise, it will recreate # the Tempest venv due to constraints mismatch. # recreation of Tempest venv can flush the initially installed # tempest plugins and their deps. # We cap EMstate stable branch with older Tempest and stable # constraints. TEMPEST_VENV_UPPER_CONSTRAINTS=$(set +o xtrace && source $BASE_DEVSTACK_DIR/stackrc && echo $TEMPEST_VENV_UPPER_CONSTRAINTS) if [[ ""$TEMPEST_VENV_UPPER_CONSTRAINTS"" != ""master"" ]]; then echo ""Using $TEMPEST_VENV_UPPER_CONSTRAINTS constraints in Tempest virtual env."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS export TOX_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS fi",,18,0
openstack%2Fmanila~stable%2Fvictoria~If2a68f9f12e163fccffbf1c70946e5c97d7063d1,openstack/manila,stable/victoria,If2a68f9f12e163fccffbf1c70946e5c97d7063d1,Configure correct Tempest venv upper constraints,ABANDONED,2022-01-21 21:51:13.000000000,2022-01-23 00:47:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-21 21:51:13.000000000', 'files': ['contrib/ci/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/cae97436da11eb111d67664e12a6b1b1d069a88b', 'message': 'Configure correct Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n\nExample: stable/train tempest cap\n- https://review.opendev.org/c/openstack/manila/+/825246\n\nmanila run tempest tests via contrib/ci/post_test_hook.sh\nand it use master constraints even for stable branches when we need\nto use stable constraints. using master constraints end up recreating\nthe Tempest venv and flush the already installed tempest plugins\nand their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nIt does not impact master or any stable branch use master tempest\nbut will take care is we start using stable constraints in any of the\nolder stable. Doing it from master so that we do not need to do this\non every stable branch (say when yoga become stable branch)\nwhen they are cut.\n\nRelated-Bug: #1922597\n\nChange-Id: If2a68f9f12e163fccffbf1c70946e5c97d7063d1\n(cherry picked from commit 01c0a716b144ffbb0e93a130e07a2e85d5a4c48c)\n(cherry picked from commit 6800015c7503213f15aaafeb2af152ffcf11e250)\n(cherry picked from commit 8531d8d3304cfbb43c4515aac1017c9771e42a25)\n'}]",0,825888,cae97436da11eb111d67664e12a6b1b1d069a88b,6,1,1,8556,,,0,"Configure correct Tempest venv upper constraints

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch

Example: stable/train tempest cap
- https://review.opendev.org/c/openstack/manila/+/825246

manila run tempest tests via contrib/ci/post_test_hook.sh
and it use master constraints even for stable branches when we need
to use stable constraints. using master constraints end up recreating
the Tempest venv and flush the already installed tempest plugins
and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

It does not impact master or any stable branch use master tempest
but will take care is we start using stable constraints in any of the
older stable. Doing it from master so that we do not need to do this
on every stable branch (say when yoga become stable branch)
when they are cut.

Related-Bug: #1922597

Change-Id: If2a68f9f12e163fccffbf1c70946e5c97d7063d1
(cherry picked from commit 01c0a716b144ffbb0e93a130e07a2e85d5a4c48c)
(cherry picked from commit 6800015c7503213f15aaafeb2af152ffcf11e250)
(cherry picked from commit 8531d8d3304cfbb43c4515aac1017c9771e42a25)
",git fetch https://review.opendev.org/openstack/manila refs/changes/88/825888/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/ci/post_test_hook.sh'],1,cae97436da11eb111d67664e12a6b1b1d069a88b,standardize-tempest-tox-constraints,"# NOTE(gmann): If gate explicitly set the non master # constraints to use for Tempest venv then use the same # while running the tests too otherwise, it will recreate # the Tempest venv due to constraints mismatch. # recreation of Tempest venv can flush the initially installed # tempest plugins and their deps. # We cap EMstate stable branch with older Tempest and stable # constraints. TEMPEST_VENV_UPPER_CONSTRAINTS=$(set +o xtrace && source $BASE_DEVSTACK_DIR/stackrc && echo $TEMPEST_VENV_UPPER_CONSTRAINTS) if [[ ""$TEMPEST_VENV_UPPER_CONSTRAINTS"" != ""master"" ]]; then echo ""Using $TEMPEST_VENV_UPPER_CONSTRAINTS constraints in Tempest virtual env."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS export TOX_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS fi",,18,0
openstack%2Fmanila~master~If2a68f9f12e163fccffbf1c70946e5c97d7063d1,openstack/manila,master,If2a68f9f12e163fccffbf1c70946e5c97d7063d1,Configure correct Tempest venv upper constraints,ABANDONED,2022-01-21 21:44:44.000000000,2022-01-23 00:47:04.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 21:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/01c0a716b144ffbb0e93a130e07a2e85d5a4c48c', 'message': 'Configure correct Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n\nExample: stable/train tempest cap\n- https://review.opendev.org/c/openstack/manila/+/825246\n\nmanila run tempest tests via contrib/ci/post_test_hook.sh\nand it use master constraints even for stable branches when we need\nto use stable constraints. using master constraints end up recreating\nthe Tempest venv and flush the already installed tempest plugins\nand their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nIt does not impact master or any stable branch use master tempest\nbut will take care is we start using stable constraints in any of the\nolder stable. Doing it from master so that we do not need to do this\non every stable branch (say when yoga become stable branch)\nwhen they are cut.\n\nRelated-Bug: #1922597\n\nChange-Id: If2a68f9f12e163fccffbf1c70946e5c97d7063d1\n'}, {'number': 2, 'created': '2022-01-21 23:51:15.000000000', 'files': ['contrib/ci/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/cfa69c959c0422b6281c7af499ae417f0e0fbf40', 'message': 'Configure correct Tempest venv upper constraints\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n\nExample: stable/train tempest cap\n- https://review.opendev.org/c/openstack/manila/+/825246\n\nmanila run tempest tests via contrib/ci/post_test_hook.sh\nand it use master constraints even for stable branches when we need\nto use stable constraints. using master constraints end up recreating\nthe Tempest venv and flush the already installed tempest plugins\nand their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nIt does not impact master or any stable branch use master tempest\nbut will take care is we start using stable constraints in any of the\nolder stable. Doing it from master so that we do not need to do this\non every stable branch (say when yoga become stable branch)\nwhen they are cut.\n\nRelated-Bug: #1922597\n\nChange-Id: If2a68f9f12e163fccffbf1c70946e5c97d7063d1\n'}]",2,825886,cfa69c959c0422b6281c7af499ae417f0e0fbf40,17,2,2,8556,,,0,"Configure correct Tempest venv upper constraints

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch

Example: stable/train tempest cap
- https://review.opendev.org/c/openstack/manila/+/825246

manila run tempest tests via contrib/ci/post_test_hook.sh
and it use master constraints even for stable branches when we need
to use stable constraints. using master constraints end up recreating
the Tempest venv and flush the already installed tempest plugins
and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

It does not impact master or any stable branch use master tempest
but will take care is we start using stable constraints in any of the
older stable. Doing it from master so that we do not need to do this
on every stable branch (say when yoga become stable branch)
when they are cut.

Related-Bug: #1922597

Change-Id: If2a68f9f12e163fccffbf1c70946e5c97d7063d1
",git fetch https://review.opendev.org/openstack/manila refs/changes/86/825886/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/ci/post_test_hook.sh'],1,01c0a716b144ffbb0e93a130e07a2e85d5a4c48c,standardize-tempest-tox-constraints,"# NOTE(gmann): If gate explicitly set the non master # constraints to use for Tempest venv then use the same # while running the tests too otherwise, it will recreate # the Tempest venv due to constraints mismatch. # recreation of Tempest venv can flush the initially installed # tempest plugins and their deps. # We cap EMstate stable branch with older Tempest and stable # constraints. TEMPEST_VENV_UPPER_CONSTRAINTS=$(set +o xtrace && source $BASE_DEVSTACK_DIR/stackrc && echo $TEMPEST_VENV_UPPER_CONSTRAINTS) if [[ ""$TEMPEST_VENV_UPPER_CONSTRAINTS"" != ""master"" ]]; then echo ""Using $TEMPEST_VENV_UPPER_CONSTRAINTS constraints in Tempest virtual env."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS export TOX_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS fi",,18,0
openstack%2Fnova~master~Ic14d2b13cbf0369fc752d457d73d65488e6df3f9,openstack/nova,master,Ic14d2b13cbf0369fc752d457d73d65488e6df3f9,nova-next: Deploy noVNC from source instead of packages,MERGED,2021-11-04 18:34:33.000000000,2022-01-22 23:07:58.000000000,2022-01-22 02:18:09.000000000,"[{'_account_id': 4690}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-04 18:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa5666bdba46ad2ed4cf87fd3819642ef0479d70', 'message': ""nova-next: Deploy noVNC from source instead of packages\n\nTo help improve early detection of issues with newer noVNC releases the\nnova-next job now deploys directly from source with the branch\ncontrolled via devstack's NOVNC_BRANCH configurable.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/816736\nChange-Id: Ic14d2b13cbf0369fc752d457d73d65488e6df3f9\n""}, {'number': 2, 'created': '2021-11-05 11:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58b24a086da361b6c46314599f44ea82650e08bb', 'message': ""nova-next: Deploy noVNC from source instead of packages\n\nTo help improve early detection of issues with newer noVNC releases the\nnova-next job now deploys directly from source with the branch\ncontrolled via devstack's NOVNC_BRANCH configurable.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/816736\nChange-Id: Ic14d2b13cbf0369fc752d457d73d65488e6df3f9\n""}, {'number': 3, 'created': '2021-11-05 13:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6781816d9e6015b30191ad2a28ed7b9f3054316', 'message': ""nova-next: Deploy noVNC from source instead of packages\n\nTo help improve early detection of issues with newer noVNC releases the\nnova-next job now deploys directly from source with the branch\ncontrolled via devstack's NOVNC_BRANCH configurable.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/816736\nChange-Id: Ic14d2b13cbf0369fc752d457d73d65488e6df3f9\n""}, {'number': 4, 'created': '2021-11-05 13:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a429e086de1ac18c16df461112f4c63a61c209a7', 'message': 'nova-next: Deploy noVNC from source instead of packages\n\nTo help improve early detection of issues with newer noVNC releases the\nnova-next job now deploys directly from source.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/816736\nChange-Id: Ic14d2b13cbf0369fc752d457d73d65488e6df3f9\n'}, {'number': 5, 'created': '2021-11-05 20:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8288de86b83274c9dfa903c4a4fd9029f603269c', 'message': 'nova-next: Deploy noVNC from source instead of packages\n\nTo help improve early detection of issues with newer noVNC releases the\nnova-next job now deploys directly from source.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/816736\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/816902\n\nChange-Id: Ic14d2b13cbf0369fc752d457d73d65488e6df3f9\n'}, {'number': 6, 'created': '2021-11-06 06:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9a0a0aa45f7df47d551cb9c0401aef805b9523b', 'message': 'nova-next: Deploy noVNC from source instead of packages\n\nTo help improve early detection of issues with newer noVNC releases the\nnova-next job now deploys directly from source.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/816736\n\nChange-Id: Ic14d2b13cbf0369fc752d457d73d65488e6df3f9\n'}, {'number': 7, 'created': '2021-12-03 12:09:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/40c0f7fdd9c2f99eac9cd8d137fbce97a6ecd30e', 'message': 'nova-next: Deploy noVNC from source instead of packages\n\nTo help improve early detection of issues with newer noVNC releases the\nnova-next job now deploys directly from source.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/816736\n\nChange-Id: Ic14d2b13cbf0369fc752d457d73d65488e6df3f9\n'}]",11,816738,40c0f7fdd9c2f99eac9cd8d137fbce97a6ecd30e,83,3,7,10135,,,0,"nova-next: Deploy noVNC from source instead of packages

To help improve early detection of issues with newer noVNC releases the
nova-next job now deploys directly from source.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/816736

Change-Id: Ic14d2b13cbf0369fc752d457d73d65488e6df3f9
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/816738/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fa5666bdba46ad2ed4cf87fd3819642ef0479d70,," Starting in Yoga, the job tests noVNC from source. # Added in Yoga. NOVNC_FROM_PACKAGE: False",,3,0
openstack%2Ftripleo-heat-templates~master~I42affc28bf3622aa621496d53d64d60f8379ea71,openstack/tripleo-heat-templates,master,I42affc28bf3622aa621496d53d64d60f8379ea71,"Revert ""Update cell0 db connection, if required""",MERGED,2022-01-21 13:52:35.000000000,2022-01-22 22:18:53.000000000,2022-01-22 22:18:53.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 27419}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-01-21 13:52:35.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db63209ae3b9e516d41a7785dc5e8e34cb94dc98', 'message': 'Revert ""Update cell0 db connection, if required""\n\nThis reverts commit 3983bc7445276a7183689466c613fdf62c446126.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1958580\n\nChange-Id: I42affc28bf3622aa621496d53d64d60f8379ea71\n'}]",4,825741,db63209ae3b9e516d41a7785dc5e8e34cb94dc98,12,11,1,9976,,,0,"Revert ""Update cell0 db connection, if required""

This reverts commit 3983bc7445276a7183689466c613fdf62c446126.

Reason for revert: https://bugs.launchpad.net/tripleo/+bug/1958580

Change-Id: I42affc28bf3622aa621496d53d64d60f8379ea71
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/825741/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-api-container-puppet.yaml'],1,db63209ae3b9e516d41a7785dc5e8e34cb94dc98,," command: str_replace: template: ""/usr/bin/bootstrap_host_exec nova_api su nova -s /bin/bash -c '/usr/bin/nova-manage cell_v2 map_cell0 --database_connection=\""CELL0DB\""'"" params: CELL0DB: list_join: - '' - - '{scheme}' - '://' - '{username}' - ':' - '{password}' - '@' - if: - mysql_ipv6_use_ip_address - '[{hostname}]' - '{hostname}' - '/' - 'nova_cell0' - '?' - '{query}'"," command: ""/usr/bin/bootstrap_host_exec nova_api /nova_api_map_cell0.sh"" nova_api_map_cell0.sh: mode: ""0700"" content: str_replace: template: | #!/bin/bash CLIST=$(su nova -s /bin/bash -c ""nova-manage cell_v2 list_cells"") CELLID=$(printf ""$CLIST"" | sed -e '1,3d' -e '$d' | awk -F ' *| *' '$2 == ""cell0"" {print $4}') CELLDBC=$(printf ""$CLIST"" | sed -e '1,3d' -e '$d' | awk -F ' *| *' '$2 == ""cell0"" {print $8}') if [ ""$CELLID"" ]; then if [ ! ""$CELLDBC"" = ""CELL0DB"" ]; then # NOTE(bogdando): cached data must be updated w/ SIGHUP # for all the scheduler, conductor, API service workers. # For now that's achieved as the containers get recreated echo ""(cellv2) Updating cell0 cell_v2 cell $CELLID"" su nova -s /bin/bash -c ""/usr/bin/nova-manage cell_v2 update_cell --cell_uuid $CELLID --name=cell0 --database_connection='CELL0DB'"" fi else echo ""(cellv2) Creating cell0 cell_v2 cell"" su nova -s /bin/bash -c ""/usr/bin/nova-manage cell_v2 map_cell0 --database_connection='CELL0DB'"" fi # skip DB sync as the conductor container executes it later params: CELL0DB: list_join: - '' - - '{scheme}' - '://' - '{username}' - ':' - '{password}' - '@' - if: - mysql_ipv6_use_ip_address - '[{hostname}]' - '{hostname}' - '/' - 'nova_cell0' - '?' - '{query}' - /var/lib/container-config-scripts/nova_api_map_cell0.sh:/nova_api_map_cell0.sh:ro",22,43
openstack%2Fpuppet-tripleo~stable%2Ftrain~I05f9a8e4332be9bea2c623202c01b1c133045852,openstack/puppet-tripleo,stable/train,I05f9a8e4332be9bea2c623202c01b1c133045852,Horizon: Enable heat-dashboard configurations,MERGED,2022-01-13 14:42:40.000000000,2022-01-22 19:46:09.000000000,2022-01-22 19:46:09.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-13 14:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f431564c08f60fa656a6017ca47f0438ca493de4', 'message': 'Horizon: Enable heat-dashboard configurations\n\nDepends-on: https://review.opendev.org/806259\nChange-Id: I05f9a8e4332be9bea2c623202c01b1c133045852\n(cherry picked from commit a194d727856904a56072950cb6692da9e71b0587)\n(cherry picked from commit ac8482e9668a4c0ef6fa231211c10e843afd6682)\n(cherry picked from commit e61d0d1b06b252ae226bbcb2b427e6a4ec65d752)\n(cherry picked from commit f39d49bdcfbd6a9ccd7e9c315d8e2dfb23613411)\n'}, {'number': 2, 'created': '2022-01-13 23:47:05.000000000', 'files': ['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b68ec285e2151ea91d92ef78788b492a6e8ce9d3', 'message': 'Horizon: Enable heat-dashboard configurations\n\nBackport note:\nFixed the lint error by including a class by absolute name.\n\nDepends-on: https://review.opendev.org/806259\nChange-Id: I05f9a8e4332be9bea2c623202c01b1c133045852\n(cherry picked from commit a194d727856904a56072950cb6692da9e71b0587)\n(cherry picked from commit ac8482e9668a4c0ef6fa231211c10e843afd6682)\n(cherry picked from commit e61d0d1b06b252ae226bbcb2b427e6a4ec65d752)\n(cherry picked from commit f39d49bdcfbd6a9ccd7e9c315d8e2dfb23613411)\n'}]",1,824542,b68ec285e2151ea91d92ef78788b492a6e8ce9d3,22,4,2,9816,,,0,"Horizon: Enable heat-dashboard configurations

Backport note:
Fixed the lint error by including a class by absolute name.

Depends-on: https://review.opendev.org/806259
Change-Id: I05f9a8e4332be9bea2c623202c01b1c133045852
(cherry picked from commit a194d727856904a56072950cb6692da9e71b0587)
(cherry picked from commit ac8482e9668a4c0ef6fa231211c10e843afd6682)
(cherry picked from commit e61d0d1b06b252ae226bbcb2b427e6a4ec65d752)
(cherry picked from commit f39d49bdcfbd6a9ccd7e9c315d8e2dfb23613411)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/42/824542/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb']",2,f431564c08f60fa656a6017ca47f0438ca493de4,puppet-horizon-dashboards-stable/train," is_expected.to_not contain_class('horizon::dashboards::heat') is_expected.to_not contain_class('horizon::dashboards::heat') is_expected.to_not contain_class('horizon::dashboards::heat') is_expected.to_not contain_class('horizon::dashboards::heat') is_expected.to contain_class('apache::mod::remoteip') is_expected.to contain_class('apache::mod::status') end end context 'with step 4 and heat enabled' do let(:params) { { :step => 4, :bootstrap_node => 'node.example.com', :heat_api_enabled => true, } } it 'should trigger complete configuration with heat dashboard' do is_expected.to contain_class('horizon') is_expected.to contain_class('horizon::dashboards::heat')",,28,0
openstack%2Fpuppet-neutron~master~I620b49937d01cae5b9a5af74fac8bb4e91ab3e86,openstack/puppet-neutron,master,I620b49937d01cae5b9a5af74fac8bb4e91ab3e86,Accept system scope credential for Designate API request,MERGED,2022-01-17 12:53:06.000000000,2022-01-22 18:21:10.000000000,2022-01-22 18:19:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-17 12:53:06.000000000', 'files': ['manifests/designate.pp', 'spec/classes/neutron_designate_spec.rb', 'releasenotes/notes/system_scope-designate-e5bbd73fc8e59f0b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/71711d8031e6110cb6e45d21ea9daefcfef1f4b9', 'message': 'Accept system scope credential for Designate API request\n\nCurrently Neutron uses the user credential in [designate] section to\ncreate a zone and PTR record. When SRBAC is enforced is Designate,\nthe former API call is available for both project member and system\nadmin but the latter API call is limited for system admin.\n\nThis change allows usage of system-scoped credential instead of\nproject-scoped one, so that the required API calls are permitted when\nDesignate enforces SRBAC.\n\nChange-Id: I620b49937d01cae5b9a5af74fac8bb4e91ab3e86\n'}]",2,824935,71711d8031e6110cb6e45d21ea9daefcfef1f4b9,17,3,1,9816,,,0,"Accept system scope credential for Designate API request

Currently Neutron uses the user credential in [designate] section to
create a zone and PTR record. When SRBAC is enforced is Designate,
the former API call is available for both project member and system
admin but the latter API call is limited for system admin.

This change allows usage of system-scoped credential instead of
project-scoped one, so that the required API calls are permitted when
Designate enforces SRBAC.

Change-Id: I620b49937d01cae5b9a5af74fac8bb4e91ab3e86
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/35/824935/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/designate.pp', 'spec/classes/neutron_designate_spec.rb', 'releasenotes/notes/system_scope-designate-e5bbd73fc8e59f0b.yaml']",3,71711d8031e6110cb6e45d21ea9daefcfef1f4b9,system-scope-params,--- features: - | The ``system_scope`` parameter has been added to the ``neutron::designate`` class. ,,53,12
openstack%2Fkolla-ansible~stable%2Fvictoria~I3584e50c4e16291938eabdc62370e3e1ac990e11,openstack/kolla-ansible,stable/victoria,I3584e50c4e16291938eabdc62370e3e1ac990e11,"Revert ""[CI] [to-revert] Avoid upgrades on CentOS Stream 8""",MERGED,2022-01-20 09:52:08.000000000,2022-01-22 17:10:17.000000000,2022-01-22 17:06:51.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-20 09:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/335c688e3f9f9f94bd626506e8b7e09478ae5013', 'message': 'Revert ""[CI] [to-revert] Avoid upgrades on CentOS Stream 8""\n\nThis reverts commit 1c510c33ea9c62bc4aed8b506dd0e75b60e63905.\n\nReason for revert: Ping bug fixed\n\nChange-Id: I3584e50c4e16291938eabdc62370e3e1ac990e11\n'}, {'number': 2, 'created': '2022-01-22 14:38:35.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e011846ec58ea9459b8ba4e1ce1c8c56db748ee3', 'message': 'Revert ""[CI] [to-revert] Avoid upgrades on CentOS Stream 8""\n\nThis reverts commit 1c510c33ea9c62bc4aed8b506dd0e75b60e63905.\n\nReason for revert: Ping bug fixed\n\nChange-Id: I3584e50c4e16291938eabdc62370e3e1ac990e11\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/825933\n'}]",0,825453,e011846ec58ea9459b8ba4e1ce1c8c56db748ee3,10,2,2,14826,,,0,"Revert ""[CI] [to-revert] Avoid upgrades on CentOS Stream 8""

This reverts commit 1c510c33ea9c62bc4aed8b506dd0e75b60e63905.

Reason for revert: Ping bug fixed

Change-Id: I3584e50c4e16291938eabdc62370e3e1ac990e11
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/825933
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/825453/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,335c688e3f9f9f94bd626506e8b7e09478ae5013,centos8-ping-pain-stable/xena-stable/wallaby-stable/victoria, - kolla-ansible-centos8s-source-upgrade - kolla-ansible-centos8s-source-upgrade-ceph-ansible - kolla-ansible-centos8s-source-upgrade,,3,0
openstack%2Fkolla-ansible~stable%2Fussuri~I30c2a7b6850350901b15fe196175508634c8e9a5,openstack/kolla-ansible,stable/ussuri,I30c2a7b6850350901b15fe196175508634c8e9a5,Fix permission denied errors with ping on c8s,MERGED,2022-01-22 14:37:28.000000000,2022-01-22 16:54:03.000000000,2022-01-22 16:52:46.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-22 14:37:28.000000000', 'files': ['roles/multi-node-managed-addressing/tasks/main.yml', 'ansible/roles/baremetal/tasks/pre-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f68912240ea227e88d8f791af0b7cffa2ff09ee3', 'message': 'Fix permission denied errors with ping on c8s\n\nThey seem to think ping is too dangerous for normal users.\n\nCo-Authored-By: Pierre Riteau <pierre@stackhpc.com>\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/824968\nChange-Id: I30c2a7b6850350901b15fe196175508634c8e9a5\n(cherry picked from commit e6cfaee10ce64afe8f5dd5ea9560ffa2c0b4ea90)\n(cherry picked from commit 69b7bb93f1721dbcd8b7779346ed48bd9bbb4533)\n'}]",1,825933,f68912240ea227e88d8f791af0b7cffa2ff09ee3,9,3,1,30491,,,0,"Fix permission denied errors with ping on c8s

They seem to think ping is too dangerous for normal users.

Co-Authored-By: Pierre Riteau <pierre@stackhpc.com>
Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/824968
Change-Id: I30c2a7b6850350901b15fe196175508634c8e9a5
(cherry picked from commit e6cfaee10ce64afe8f5dd5ea9560ffa2c0b4ea90)
(cherry picked from commit 69b7bb93f1721dbcd8b7779346ed48bd9bbb4533)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/825933/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/multi-node-managed-addressing/tasks/main.yml', 'ansible/roles/baremetal/tasks/pre-install.yml']",2,f68912240ea227e88d8f791af0b7cffa2ff09ee3,centos8-ping-pain-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,"- name: Ensure unprivileged users can use ping become: true sysctl: name: net.ipv4.ping_group_range value: '0 2147483647' state: present sysctl_file: ""{{ kolla_sysctl_conf_path }}"" when: ansible_facts.os_family == 'RedHat' ",,10,0
openstack%2Fdevstack~master~I6f0cf0d00a1f470008323eca62923422a3c44a48,openstack/devstack,master,I6f0cf0d00a1f470008323eca62923422a3c44a48,Use distro pip everywhere,ABANDONED,2022-01-22 12:59:29.000000000,2022-01-22 15:57:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-22 12:59:29.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b7b1280e67a8f1d671fc2599da857301d9a7fe6f', 'message': 'Use distro pip everywhere\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I6f0cf0d00a1f470008323eca62923422a3c44a48\n'}]",0,825921,b7b1280e67a8f1d671fc2599da857301d9a7fe6f,3,1,1,13252,,,0,"Use distro pip everywhere

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I6f0cf0d00a1f470008323eca62923422a3c44a48
",git fetch https://review.opendev.org/openstack/devstack refs/changes/21/825921/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,b7b1280e67a8f1d671fc2599da857301d9a7fe6f,distro-pip,"# NOTE(frickler) 2022-01-22 : get-pip.py now breaks the pip installation # when running a second time, e.g. when re-stacking after a unstack.sh. # Currently we seem to be good to go with distro pip version, leave # the code in place in case we need it again in the future. # if [[ ""$OFFLINE"" != ""True"" ]]; then # PYPI_ALTERNATIVE_URL=${PYPI_ALTERNATIVE_URL:-""""} $TOP_DIR/tools/install_pip.sh # fi","if [[ ""$OFFLINE"" != ""True"" ]]; then PYPI_ALTERNATIVE_URL=${PYPI_ALTERNATIVE_URL:-""""} $TOP_DIR/tools/install_pip.sh fi",7,3
openstack%2Ftripleo-image-elements~stable%2Fwallaby~I683050dbceb79c9123fcefb16e34dc6085c93d85,openstack/tripleo-image-elements,stable/wallaby,I683050dbceb79c9123fcefb16e34dc6085c93d85,delorean-repo remove yum_plugin_priorities_package,MERGED,2022-01-21 16:44:49.000000000,2022-01-22 13:18:59.000000000,2022-01-22 01:17:04.000000000,"[{'_account_id': 4571}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-21 16:44:49.000000000', 'files': ['elements/delorean-repo/pre-install.d/03-install-yum-priorities', 'elements/delorean-repo/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/6883abc86cfa250216c6ac64734f0bc5615b7cc4', 'message': 'delorean-repo remove yum_plugin_priorities_package\n\nWith this patch, we are removing yum_plugin_priorities_package\nfrom delorean-repo element as a part of refactoring\nto only support centos/rhel 8/9.\n\nAs these are the only thing defined in file - pkg-map and\n03-install-yum-priorities, We are dropping these files.\n\nThis repo have stable branches, so train builds should be using\nstable/train of tripleo-image-elements.\n\nChange-Id: I683050dbceb79c9123fcefb16e34dc6085c93d85\n(cherry picked from commit cf9dd68ef7553f5970d049192007cc5665e6c7e7)\n'}]",0,825749,6883abc86cfa250216c6ac64734f0bc5615b7cc4,8,6,1,29775,,,0,"delorean-repo remove yum_plugin_priorities_package

With this patch, we are removing yum_plugin_priorities_package
from delorean-repo element as a part of refactoring
to only support centos/rhel 8/9.

As these are the only thing defined in file - pkg-map and
03-install-yum-priorities, We are dropping these files.

This repo have stable branches, so train builds should be using
stable/train of tripleo-image-elements.

Change-Id: I683050dbceb79c9123fcefb16e34dc6085c93d85
(cherry picked from commit cf9dd68ef7553f5970d049192007cc5665e6c7e7)
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/49/825749/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/delorean-repo/pre-install.d/03-install-yum-priorities', 'elements/delorean-repo/pkg-map']",2,6883abc86cfa250216c6ac64734f0bc5615b7cc4,,,"{ ""release"": { ""centos"": { ""8"": { ""yum_plugin_priorities_package"": """" } } }, ""default"": { ""yum_plugin_priorities_package"": ""yum-plugin-priorities"" } } ",0,17
openstack%2Fdevstack~stable%2Fwallaby~I65304f66b3fe9c372fad8d4b521d0219833c1bf1,openstack/devstack,stable/wallaby,I65304f66b3fe9c372fad8d4b521d0219833c1bf1,Stop installing Tempest at system wide for stable branch,MERGED,2022-01-17 16:26:47.000000000,2022-01-22 12:41:36.000000000,2022-01-22 12:40:17.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-17 16:26:47.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e6a482444899d9224869036c80c09d6ec2753dac', 'message': 'Stop installing Tempest at system wide for stable branch\n\nAs added in notes for INSTALL_TEMPEST variable we need to set\nthis as False for stable branch so that devstack does not\ninstall Tempest at system wide.\n\n- https://github.com/openstack/devstack/blob/stable/xena/lib/tempest#L61\n\nThis should be done at the time when we cut the stable branch but\nwe forgot to do that for wallaby and xena. I have updated the QA\nrelease wiki[1] for this to take care in future.\n\n[1] https://wiki.openstack.org/wiki/QA/releases#Projects_with_only_Branches\n\nChange-Id: I65304f66b3fe9c372fad8d4b521d0219833c1bf1\n'}]",1,824956,e6a482444899d9224869036c80c09d6ec2753dac,8,3,1,8556,,,0,"Stop installing Tempest at system wide for stable branch

As added in notes for INSTALL_TEMPEST variable we need to set
this as False for stable branch so that devstack does not
install Tempest at system wide.

- https://github.com/openstack/devstack/blob/stable/xena/lib/tempest#L61

This should be done at the time when we cut the stable branch but
we forgot to do that for wallaby and xena. I have updated the QA
release wiki[1] for this to take care in future.

[1] https://wiki.openstack.org/wiki/QA/releases#Projects_with_only_Branches

Change-Id: I65304f66b3fe9c372fad8d4b521d0219833c1bf1
",git fetch https://review.opendev.org/openstack/devstack refs/changes/56/824956/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,e6a482444899d9224869036c80c09d6ec2753dac,,"INSTALL_TEMPEST=${INSTALL_TEMPEST:-""False""}","INSTALL_TEMPEST=${INSTALL_TEMPEST:-""True""}",1,1
openstack%2Fdevstack~stable%2Fxena~I65304f66b3fe9c372fad8d4b521d0219833c1bf1,openstack/devstack,stable/xena,I65304f66b3fe9c372fad8d4b521d0219833c1bf1,Stop installing Tempest at system wide for stable branch,MERGED,2022-01-17 16:26:26.000000000,2022-01-22 12:36:20.000000000,2022-01-22 12:35:01.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-17 16:26:26.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/092894cefbe3f7b530966e51c3bd831a8ab23830', 'message': 'Stop installing Tempest at system wide for stable branch\n\nAs added in notes for INSTALL_TEMPEST variable we need to set\nthis as False for stable branch so that devstack does not\ninstall Tempest at system wide.\n\n- https://github.com/openstack/devstack/blob/stable/xena/lib/tempest#L61\n\nThis should be done at the time when we cut the stable branch but\nwe forgot to do that for wallaby and xena. I have updated the QA\nrelease wiki[1] for this to take care in future.\n\n[1] https://wiki.openstack.org/wiki/QA/releases#Projects_with_only_Branches\n\nChange-Id: I65304f66b3fe9c372fad8d4b521d0219833c1bf1\n'}]",2,824991,092894cefbe3f7b530966e51c3bd831a8ab23830,8,3,1,8556,,,0,"Stop installing Tempest at system wide for stable branch

As added in notes for INSTALL_TEMPEST variable we need to set
this as False for stable branch so that devstack does not
install Tempest at system wide.

- https://github.com/openstack/devstack/blob/stable/xena/lib/tempest#L61

This should be done at the time when we cut the stable branch but
we forgot to do that for wallaby and xena. I have updated the QA
release wiki[1] for this to take care in future.

[1] https://wiki.openstack.org/wiki/QA/releases#Projects_with_only_Branches

Change-Id: I65304f66b3fe9c372fad8d4b521d0219833c1bf1
",git fetch https://review.opendev.org/openstack/devstack refs/changes/91/824991/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,092894cefbe3f7b530966e51c3bd831a8ab23830,,"INSTALL_TEMPEST=${INSTALL_TEMPEST:-""False""}","INSTALL_TEMPEST=${INSTALL_TEMPEST:-""True""}",1,1
openstack%2Fcinder~stable%2Fwallaby~Ibb089a5e8dd3ce41c4bb83d7092c435db3c8d669,openstack/cinder,stable/wallaby,Ibb089a5e8dd3ce41c4bb83d7092c435db3c8d669,Remove broken tempest-full-py3-opensuse15 job,ABANDONED,2022-01-22 01:37:30.000000000,2022-01-22 10:41:22.000000000,,[],"[{'number': 1, 'created': '2022-01-22 01:37:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0e071f21fbb7054a8f9412c66cb34ad2640f123', 'message': ""Remove broken tempest-full-py3-opensuse15 job\n\ntempest-full-py3-opensuse15 is failing all the time[1] and\nopensuse is not tested/supported distro in testing runtime\nor devstack anymore. So let's remove opensuse broken job from\ntempest too.\n\nNeeded-By: https://review.opendev.org/c/openstack/tempest/+/816569\n\n[1] https://zuul.opendev.org/t/openstack/builds?job_name=tempest-full-py3-opensuse15\n\nChange-Id: Ibb089a5e8dd3ce41c4bb83d7092c435db3c8d669\n(cherry picked from commit 96384e139b6f8773aad1ba1720ff7fb1d8b4fcce)\n""}]",0,825932,d0e071f21fbb7054a8f9412c66cb34ad2640f123,3,0,1,8556,,,0,"Remove broken tempest-full-py3-opensuse15 job

tempest-full-py3-opensuse15 is failing all the time[1] and
opensuse is not tested/supported distro in testing runtime
or devstack anymore. So let's remove opensuse broken job from
tempest too.

Needed-By: https://review.opendev.org/c/openstack/tempest/+/816569

[1] https://zuul.opendev.org/t/openstack/builds?job_name=tempest-full-py3-opensuse15

Change-Id: Ibb089a5e8dd3ce41c4bb83d7092c435db3c8d669
(cherry picked from commit 96384e139b6f8773aad1ba1720ff7fb1d8b4fcce)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/825932/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d0e071f21fbb7054a8f9412c66cb34ad2640f123,remove-tempest-full-py3-opensuse15-stable/xena-stable/wallaby,, - tempest-full-py3-opensuse15: irrelevant-files: *gate-irrelevant-files,0,2
openstack%2Fcinder~stable%2Fxena~Ibb089a5e8dd3ce41c4bb83d7092c435db3c8d669,openstack/cinder,stable/xena,Ibb089a5e8dd3ce41c4bb83d7092c435db3c8d669,Remove broken tempest-full-py3-opensuse15 job,ABANDONED,2022-01-22 01:37:15.000000000,2022-01-22 09:30:29.000000000,,[],"[{'number': 1, 'created': '2022-01-22 01:37:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a2e564b54aaa059fe5552d599957c48722bc063', 'message': ""Remove broken tempest-full-py3-opensuse15 job\n\ntempest-full-py3-opensuse15 is failing all the time[1] and\nopensuse is not tested/supported distro in testing runtime\nor devstack anymore. So let's remove opensuse broken job from\ntempest too.\n\nNeeded-By: https://review.opendev.org/c/openstack/tempest/+/816569\n\n[1] https://zuul.opendev.org/t/openstack/builds?job_name=tempest-full-py3-opensuse15\n\nChange-Id: Ibb089a5e8dd3ce41c4bb83d7092c435db3c8d669\n(cherry picked from commit 96384e139b6f8773aad1ba1720ff7fb1d8b4fcce)\n""}]",0,825931,6a2e564b54aaa059fe5552d599957c48722bc063,3,0,1,8556,,,0,"Remove broken tempest-full-py3-opensuse15 job

tempest-full-py3-opensuse15 is failing all the time[1] and
opensuse is not tested/supported distro in testing runtime
or devstack anymore. So let's remove opensuse broken job from
tempest too.

Needed-By: https://review.opendev.org/c/openstack/tempest/+/816569

[1] https://zuul.opendev.org/t/openstack/builds?job_name=tempest-full-py3-opensuse15

Change-Id: Ibb089a5e8dd3ce41c4bb83d7092c435db3c8d669
(cherry picked from commit 96384e139b6f8773aad1ba1720ff7fb1d8b4fcce)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/825931/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6a2e564b54aaa059fe5552d599957c48722bc063,remove-tempest-full-py3-opensuse15-stable/xena,, - tempest-full-py3-opensuse15: irrelevant-files: *gate-irrelevant-files,0,2
openstack%2Fopenstack-helm~master~I29645d70f6f8d1502ccb3dc421f56e37129f4949,openstack/openstack-helm,master,I29645d70f6f8d1502ccb3dc421f56e37129f4949,Set default workers count for controller workers to one,ABANDONED,2021-07-27 10:34:30.000000000,2022-01-22 05:31:10.000000000,,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-07-27 10:34:30.000000000', 'files': ['octavia/Chart.yaml', 'releasenotes/notes/octavia.yaml', 'octavia/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6eccae2a85bbfd2103e61e5f221c9c59a1ebd7cd', 'message': 'Set default workers count for controller workers to one\n\nAs of now in some components default workers is set to one and for some different. For ideally running one process for pod and scale pod replicas if necessary, set the default number of workers count to 1.\n\nChange-Id: I29645d70f6f8d1502ccb3dc421f56e37129f4949\n'}]",0,802451,6eccae2a85bbfd2103e61e5f221c9c59a1ebd7cd,25,5,1,33130,,,0,"Set default workers count for controller workers to one

As of now in some components default workers is set to one and for some different. For ideally running one process for pod and scale pod replicas if necessary, set the default number of workers count to 1.

Change-Id: I29645d70f6f8d1502ccb3dc421f56e37129f4949
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/51/802451/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/Chart.yaml', 'releasenotes/notes/octavia.yaml', 'octavia/values.yaml']",3,6eccae2a85bbfd2103e61e5f221c9c59a1ebd7cd,default-workers, workers: 1, workers: 2,3,2
openstack%2Fopenstack-helm~master~Ic8706e2318edbd3710d296067f630381c4bd0f9d,openstack/openstack-helm,master,Ic8706e2318edbd3710d296067f630381c4bd0f9d,Change default workers for rpc_workers to one,ABANDONED,2021-07-27 10:53:38.000000000,2022-01-22 05:30:48.000000000,,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 10:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/66016efd271bfce2946735132e2205981ff103cc', 'message': 'Change default workers for rpc_workers to one\n\nAs currently, number of rpc_workers is 4. So as to maintain the single process per pod and scale the pod if necessary, number of rpc_worker is set to 1.\n\nChange-Id: Ic8706e2318edbd3710d296067f630381c4bd0f9d\n'}, {'number': 2, 'created': '2021-08-03 08:16:18.000000000', 'files': ['neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml', 'neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/506ab3b6a8540f1cf465b877b32e3c11010f1b32', 'message': 'Change default workers for rpc_workers to one\n\nAs currently, number of rpc_workers is 4. So as to maintain the single process per pod and scale the pod if necessary, number of rpc_worker is set to 1. Apart from this, it change will have the consistent number of the worker count 1 accorss all the modules.\n\nChange-Id: Ic8706e2318edbd3710d296067f630381c4bd0f9d\n'}]",0,802455,506ab3b6a8540f1cf465b877b32e3c11010f1b32,25,3,2,33130,,,0,"Change default workers for rpc_workers to one

As currently, number of rpc_workers is 4. So as to maintain the single process per pod and scale the pod if necessary, number of rpc_worker is set to 1. Apart from this, it change will have the consistent number of the worker count 1 accorss all the modules.

Change-Id: Ic8706e2318edbd3710d296067f630381c4bd0f9d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/55/802455/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml', 'neutron/values.yaml']",3,66016efd271bfce2946735132e2205981ff103cc,neutron-default-workers, rpc_workers: 1, rpc_workers: 4,3,2
openstack%2Ftempest~master~Ifdb97e6dd4b4aeb707f366fe869bb22e707b13b8,openstack/tempest,master,Ifdb97e6dd4b4aeb707f366fe869bb22e707b13b8,edit check result and make sure the query result correct,MERGED,2020-12-02 06:36:23.000000000,2022-01-22 03:40:08.000000000,2022-01-22 03:35:21.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-12-02 06:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bd86c8e23e0d9bd432c01a23459edbdefdbe6483', 'message': 'edit check result\n\nedit check result, make sure the query result correct\n\nChange-Id: Ifdb97e6dd4b4aeb707f366fe869bb22e707b13b8\n'}, {'number': 2, 'created': '2020-12-16 01:31:46.000000000', 'files': ['tempest/api/compute/admin/test_agents.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/da34773534b50b72fb4445c368b0a5ea3e1264fa', 'message': 'edit check result and make sure the query result correct\n\nIn the line 116 of file test_agents.py, the function is query agent by hypervisor, but query result check cannot make sure all members of query result is right. So add result check, make sure all the query members is right. \n\nChange-Id: Ifdb97e6dd4b4aeb707f366fe869bb22e707b13b8\n'}]",3,765063,da34773534b50b72fb4445c368b0a5ea3e1264fa,14,3,2,30643,,,0,"edit check result and make sure the query result correct

In the line 116 of file test_agents.py, the function is query agent by hypervisor, but query result check cannot make sure all members of query result is right. So add result check, make sure all the query members is right. 

Change-Id: Ifdb97e6dd4b4aeb707f366fe869bb22e707b13b8
",git fetch https://review.opendev.org/openstack/tempest refs/changes/63/765063/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_agents.py'],1,bd86c8e23e0d9bd432c01a23459edbdefdbe6483,fix1105," for agent in agents: self.assertEqual(agent_xen['hypervisor'], agent['hypervisor'])",,2,0
openstack%2Fcinder-tempest-plugin~master~Ie78224ee67e9731f0c61e02c6a64bfa9e43fbef0,openstack/cinder-tempest-plugin,master,Ie78224ee67e9731f0c61e02c6a64bfa9e43fbef0,Cap cinder-tempest-plugin version for stable/train,MERGED,2022-01-21 03:13:55.000000000,2022-01-22 03:35:24.000000000,2022-01-22 03:35:24.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 03:13:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/fc98b2866ec894bce8a79fc647ac601e5c39df49', 'message': 'Cap cinder-tempest-plugin version for stable/train\n\nWe are capping stable/train testing with Tempest\n26.1.0 (choosing 26.1.0 because of bug#1955418)\n- https://review.opendev.org/c/openstack/tempest/+/822339\n\nTo have compatible cinder-tempest-plugin version for\nTempest 26.1.0 and stable/train testing, we need to cap\nit with 1.3.0.\n\nChange-Id: Ie78224ee67e9731f0c61e02c6a64bfa9e43fbef0\n'}]",2,825708,fc98b2866ec894bce8a79fc647ac601e5c39df49,13,3,1,8556,,,0,"Cap cinder-tempest-plugin version for stable/train

We are capping stable/train testing with Tempest
26.1.0 (choosing 26.1.0 because of bug#1955418)
- https://review.opendev.org/c/openstack/tempest/+/822339

To have compatible cinder-tempest-plugin version for
Tempest 26.1.0 and stable/train testing, we need to cap
it with 1.3.0.

Change-Id: Ie78224ee67e9731f0c61e02c6a64bfa9e43fbef0
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/08/825708/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fc98b2866ec894bce8a79fc647ac601e5c39df49,train-tempest-cap," branches: ^(?!stable/(ocata|pike|queens|rocky|stein|train)).*$ with cinderlib tests to run on stable/train testing. branches: stable/train parent: cinder-tempest-plugin-lvm-barbican-base-abstract roles: - zuul: opendev.org/openstack/cinderlib required-projects: - opendev.org/openstack/cinderlib - name: opendev.org/openstack/cinder-tempest-plugin override-checkout: 1.3.0 run: playbooks/tempest-and-cinderlib-run.yaml # Required to collect the tox-based logs of the cinderlib functional tests post-run: playbooks/post-cinderlib.yaml vars: fetch_subunit_output_additional_dirs: - ""{{ ansible_user_dir }}/{{ zuul.projects['opendev.org/openstack/cinderlib'].src_dir }}"" tempest_test_exclude_list: '{{ ansible_user_dir }}/{{ zuul.projects[""opendev.org/openstack/tempest""].src_dir }}/tools/tempest-integrated-gate-storage-exclude-list.txt' - job: name: cinder-tempest-plugin-lvm-barbican-base description: | This is a base job for lvm with lio & tgt targets", branches: ^(?!stable/(ocata|pike|queens|rocky|stein)).*$,22,1
openstack%2Frequirements~master~I819110eb24602f8a75cb0e55ceab623c61ac88aa,openstack/requirements,master,I819110eb24602f8a75cb0e55ceab623c61ac88aa,Updated from generate-constraints,ABANDONED,2022-01-22 02:56:51.000000000,2022-01-22 03:27:54.000000000,,[],"[{'number': 1, 'created': '2022-01-22 02:56:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9e1bf730db3dcb338395059f9e82b8fd46f47d4d', 'message': 'Updated from generate-constraints\n\nChange-Id: I819110eb24602f8a75cb0e55ceab623c61ac88aa\n'}]",0,825911,9e1bf730db3dcb338395059f9e82b8fd46f47d4d,3,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I819110eb24602f8a75cb0e55ceab623c61ac88aa
",git fetch https://review.opendev.org/openstack/requirements refs/changes/11/825911/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9e1bf730db3dcb338395059f9e82b8fd46f47d4d,openstack/requirements/constraints,rcssmin===1.1.0moto===3.0.0XStatic-Angular===1.8.2.1SQLAlchemy===1.4.31paramiko===2.9.2pkg_resources===0.0.0django-compressor===3.1boto3===1.20.41autopage===0.5.0pyparsing===3.0.7botocore===1.23.41dulwich===0.20.31rjsmin===1.2.0fasteners===0.17.2,rcssmin===1.0.6moto===2.3.2XStatic-Angular===1.5.8.0SQLAlchemy===1.4.30paramiko===2.8.1django-compressor===2.4.1boto3===1.20.39autopage===0.4.0pyparsing===3.0.6botocore===1.23.39dulwich===0.20.30rjsmin===1.1.0fasteners===0.16.3setuptools===59.6.0;python_version=='3.6' setuptools===60.5.0;python_version=='3.8',14,15
openstack%2Ftempest~master~I60edae592ffce4fec26ef77c6a49541a07be1073,openstack/tempest,master,I60edae592ffce4fec26ef77c6a49541a07be1073,add schemas members for image,MERGED,2020-01-14 00:44:17.000000000,2022-01-22 03:09:07.000000000,2022-01-22 03:05:57.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-14 00:44:17.000000000', 'files': ['tempest/tests/lib/services/image/v2/test_schemas_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2023a841eea3e5398c6ff9a65186435d8f7f3650', 'message': 'add schemas members for image\n\nChange-Id: I60edae592ffce4fec26ef77c6a49541a07be1073\n'}]",0,702316,2023a841eea3e5398c6ff9a65186435d8f7f3650,7,2,1,31280,,,0,"add schemas members for image

Change-Id: I60edae592ffce4fec26ef77c6a49541a07be1073
",git fetch https://review.opendev.org/openstack/tempest refs/changes/16/702316/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/services/image/v2/test_schemas_client.py'],1,2023a841eea3e5398c6ff9a65186435d8f7f3650,fix1," def _test_show_schema_members(self, bytes_body=False): self.check_service_client_function( self.client.show_schema, 'tempest.lib.common.rest_client.RestClient.get', self.FAKE_SHOW_SCHEMA, bytes_body, schema=""members"") def test_show_schema_members_with_str_body(self): self._test_show_schema_members() def test_show_schema_members_with_bytes_body(self): self._test_show_schema_members(bytes_body=True) ",,14,0
openstack%2Ftempest~master~Ia23e2d29e1475b8d11d570b3a7bd40e3f3e94d6a,openstack/tempest,master,Ia23e2d29e1475b8d11d570b3a7bd40e3f3e94d6a,delete all items of the group type spec,MERGED,2021-11-10 09:36:15.000000000,2022-01-22 03:07:36.000000000,2022-01-22 03:05:54.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-10 09:36:15.000000000', 'files': ['tempest/api/volume/admin/test_group_type_specs.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/41234352ac0088c85b5666e552734eb53b5f2fba', 'message': 'delete all items of the group type spec\n\ndelete all items of the group type spec to complete testcase\n\nChange-Id: Ia23e2d29e1475b8d11d570b3a7bd40e3f3e94d6a\n'}]",0,817371,41234352ac0088c85b5666e552734eb53b5f2fba,7,2,1,30409,,,0,"delete all items of the group type spec

delete all items of the group type spec to complete testcase

Change-Id: Ia23e2d29e1475b8d11d570b3a7bd40e3f3e94d6a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/71/817371/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_group_type_specs.py'],1,41234352ac0088c85b5666e552734eb53b5f2fba,master3," delete_keys = ['key1', 'key2', 'key3'] for it in delete_keys: self.admin_group_types_client.delete_group_type_specs_item( group_type['id'], it) self.assertRaises( lib_exc.NotFound, self.admin_group_types_client.show_group_type_specs_item, group_type['id'], it)"," delete_key = 'key1' self.admin_group_types_client.delete_group_type_specs_item( group_type['id'], delete_key) self.assertRaises( lib_exc.NotFound, self.admin_group_types_client.show_group_type_specs_item, group_type['id'], delete_key)",8,7
openstack%2Ftripleo-heat-templates~master~I712c1c04630b31820f2a6800e3d36e2fd708a00d,openstack/tripleo-heat-templates,master,I712c1c04630b31820f2a6800e3d36e2fd708a00d,Nova: Configure [keystone] parameters,MERGED,2022-01-12 13:23:49.000000000,2022-01-22 03:03:21.000000000,2022-01-22 03:03:21.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-01-12 13:23:49.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dfeb0e643509d5be3e62993c05e9ef96e569b170', 'message': 'Nova: Configure [keystone] parameters\n\n... so that nova can verify project ids in some API calls.\n\nNOTE:\nThis change has no effect until puppet-tripleo is updated. We need this\nupdate first to avoid the failure caused by the missing password\nparameter.\n\nDepends-on: https://review.opendev.org/824367\nChange-Id: I712c1c04630b31820f2a6800e3d36e2fd708a00d\n'}]",1,824435,dfeb0e643509d5be3e62993c05e9ef96e569b170,13,5,1,9816,,,0,"Nova: Configure [keystone] parameters

... so that nova can verify project ids in some API calls.

NOTE:
This change has no effect until puppet-tripleo is updated. We need this
update first to avoid the failure caused by the missing password
parameter.

Depends-on: https://review.opendev.org/824367
Change-Id: I712c1c04630b31820f2a6800e3d36e2fd708a00d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/824435/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml']",2,dfeb0e643509d5be3e62993c05e9ef96e569b170,nova-keystone, # NOTE(tkajinam): Make sure the default (services) is overridden nova::cinder::project_name: 'service',,9,0
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I91ef7d5f69fd01aa872e87740eea9484846284d7,openstack/puppet-tripleo,stable/victoria,I91ef7d5f69fd01aa872e87740eea9484846284d7,Octavia: configure services endpoints,MERGED,2022-01-17 16:20:53.000000000,2022-01-22 03:03:19.000000000,2022-01-22 03:03:19.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-17 16:20:53.000000000', 'files': ['manifests/profile/base/octavia/worker.pp', 'manifests/profile/base/octavia/housekeeping.pp', 'manifests/profile/base/octavia/health_manager.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/55331858b012dd736b6934f6793a39074005a4e0', 'message': ""Octavia: configure services endpoints\n\nAdd puppet-octavia certificates, neutron, glance, cinder manifests for\noctavia controller services, enabling the customization of the\nconfiguration of the endpoints.\nThis commit would fix issues on composable networker nodes that don't\nhave any access to the public API endpoints.\n\nChange-Id: I91ef7d5f69fd01aa872e87740eea9484846284d7\n(cherry picked from commit 23a9600a371ce15a9aa57a0084290249e38872b5)\n""}]",1,824985,55331858b012dd736b6934f6793a39074005a4e0,11,3,1,29244,,,0,"Octavia: configure services endpoints

Add puppet-octavia certificates, neutron, glance, cinder manifests for
octavia controller services, enabling the customization of the
configuration of the endpoints.
This commit would fix issues on composable networker nodes that don't
have any access to the public API endpoints.

Change-Id: I91ef7d5f69fd01aa872e87740eea9484846284d7
(cherry picked from commit 23a9600a371ce15a9aa57a0084290249e38872b5)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/85/824985/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/octavia/worker.pp', 'manifests/profile/base/octavia/housekeeping.pp', 'manifests/profile/base/octavia/health_manager.pp']",3,55331858b012dd736b6934f6793a39074005a4e0,, include octavia::neutron include octavia::glance,,7,0
openstack%2Fos-net-config~stable%2Ftrain~If607c83c4309c636ccbe03789410f2a2301258d2,openstack/os-net-config,stable/train,If607c83c4309c636ccbe03789410f2a2301258d2,Adding steering_mode config to sriov_pf object,MERGED,2022-01-19 21:38:40.000000000,2022-01-22 02:48:15.000000000,2022-01-22 02:44:15.000000000,"[{'_account_id': 7144}, {'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 21:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/b67365df1b0a41fc8763747701ee04b75a063fb9', 'message': 'Adding steering_mode config to sriov_pf object\n\nThe Current behavioure is to enable smfs software steering\nby default when moving to switchdev, in some cases we need\nit to be in dmfs mode (FW steering), so adding steering_mode\nconfig to sriov_pf object to make it configrable\n\nChange-Id: If607c83c4309c636ccbe03789410f2a2301258d2\n(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)\n'}, {'number': 2, 'created': '2022-01-19 22:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/de29f4e0049b72891d9d0a5b5751c7d94ef2843d', 'message': 'Adding steering_mode config to sriov_pf object\n\nThe Current behavioure is to enable smfs software steering\nby default when moving to switchdev, in some cases we need\nit to be in dmfs mode (FW steering), so adding steering_mode\nconfig to sriov_pf object to make it configrable\n\nChange-Id: If607c83c4309c636ccbe03789410f2a2301258d2\n(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)\n'}, {'number': 3, 'created': '2022-01-20 07:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e4171ac55f8232e1ed61874aacf38344aa47c024', 'message': 'Adding steering_mode config to sriov_pf object\n\nThe Current behavioure is to enable smfs software steering\nby default when moving to switchdev, in some cases we need\nit to be in dmfs mode (FW steering), so adding steering_mode\nconfig to sriov_pf object to make it configrable\n\nChange-Id: If607c83c4309c636ccbe03789410f2a2301258d2\n(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)\n'}, {'number': 4, 'created': '2022-01-20 10:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3019cf597532170db2f6a3b030e7e7416efe3f8d', 'message': 'Adding steering_mode config to sriov_pf object\n\nThe Current behavioure is to enable smfs software steering\nby default when moving to switchdev, in some cases we need\nit to be in dmfs mode (FW steering), so adding steering_mode\nconfig to sriov_pf object to make it configrable\n\nChange-Id: If607c83c4309c636ccbe03789410f2a2301258d2\n(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)\n'}, {'number': 5, 'created': '2022-01-20 10:56:18.000000000', 'files': ['os_net_config/schema.yaml', 'os_net_config/utils.py', 'os_net_config/tests/test_objects.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py', 'etc/os-net-config/samples/sriov_pf_switchdev.json', 'etc/os-net-config/samples/sriov_pf_switchdev.yaml', 'os_net_config/objects.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f560c5608f6150fedc92d045dd9eceb199e8912d', 'message': 'Adding steering_mode config to sriov_pf object\n\nThe Current behavioure is to enable smfs software steering\nby default when moving to switchdev, in some cases we need\nit to be in dmfs mode (FW steering), so adding steering_mode\nconfig to sriov_pf object to make it configrable\n\nChange-Id: If607c83c4309c636ccbe03789410f2a2301258d2\n(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)\n'}]",257,825224,f560c5608f6150fedc92d045dd9eceb199e8912d,20,7,5,25241,,,0,"Adding steering_mode config to sriov_pf object

The Current behavioure is to enable smfs software steering
by default when moving to switchdev, in some cases we need
it to be in dmfs mode (FW steering), so adding steering_mode
config to sriov_pf object to make it configrable

Change-Id: If607c83c4309c636ccbe03789410f2a2301258d2
(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/24/825224/4 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/schema.yaml', 'os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_objects.py', 'os_net_config/impl_ifcfg.py', 'etc/os-net-config/samples/sriov_pf_switchdev.json', 'etc/os-net-config/samples/sriov_pf_switchdev.yaml', 'os_net_config/objects.py', 'os_net_config/sriov_config.py']",9,b67365df1b0a41fc8763747701ee04b75a063fb9,,"<<<<<<< HEAD (0b3130 The default max/min tx rates shall not halt deployment) ======= if not vdpa: # This is used for the sriov_bind_config dpdk_vfs_pcis_list += vf_pcis_list # Configure flow steering mode, default to smfs configure_flow_steering(item['name'], item.get('steering_mode', 'smfs')) # Configure switchdev mode configure_switchdev(item['name']) # Adding a udev rule to rename vf-representors else: trigger_udev_rule = add_udev_rule_for_vdpa_representors( item['name']) or trigger_udev_rule >>>>>>> CHANGE (7c7b32 Adding steering_mode config to sriov_pf object)def configure_flow_steering(pf_name, steering_mode):<<<<<<< HEAD (0b3130 The default max/min tx rates shall not halt deployment)======= f'pci/{pf_pci}', 'name', 'flow_steering_mode', 'value', steering_mode, 'cmode', 'runtime') logger.info(f""{pf_name}: Device pci/{pf_pci} is set to"" "" {steering_mode} steering mode."") >>>>>>> CHANGE (7c7b32 Adding steering_mode config to sriov_pf object) except processutils.ProcessExecutionError as exc: <<<<<<< HEAD (0b3130 The default max/min tx rates shall not halt deployment)======= logger.warning(f""{pf_name}: Could not set pci/{pf_pci} to"" f"" {steering_mode} steering mode: {exc}"") >>>>>>> CHANGE (7c7b32 Adding steering_mode config to sriov_pf object)",def configure_smfs_software_steering(pf_name): except processutils.ProcessExecutionError as exc:,157,2
openstack%2Ftripleo-heat-templates~master~Iedb3e2b8c503999aec8fde647d8d1692c9ee08c4,openstack/tripleo-heat-templates,master,Iedb3e2b8c503999aec8fde647d8d1692c9ee08c4,Check if passthrough user_config is decoded properly from hiera data,MERGED,2022-01-12 11:49:28.000000000,2022-01-22 02:44:28.000000000,2022-01-22 02:44:28.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 33688}]","[{'number': 1, 'created': '2022-01-12 11:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2778709b087b5f3bd35e7435eb97ae6d76551d40', 'message': 'Parsing of pci::passthrough hiera data was supposed to return a list of user configurations.\nSince a string was being returned, the derivation did not yield any results\nto override the user configuration.\nThis fix checks if the json load is decoded properly for the pci whitelist derivation\n\nChange-Id: Iedb3e2b8c503999aec8fde647d8d1692c9ee08c4\n'}, {'number': 2, 'created': '2022-01-13 14:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61366835cc602b9ce798235b3ec56e6bf0326300', 'message': 'Check if passthrough user_config is decoded properly from hiera data\n\nParsing of pci::passthrough hiera data was supposed to return a list of\nuser configurations. Since a string was being returned, the derivation\ndid not yield any results to override the user configuration.\nThis fix checks if the json load is decoded properly for the pci whitelist derivation\n\nChange-Id: Iedb3e2b8c503999aec8fde647d8d1692c9ee08c4\n'}, {'number': 3, 'created': '2022-01-19 08:27:34.000000000', 'files': ['deployment/neutron/derive_pci_passthrough_whitelist.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e36f44cadd2dd887e7ef29c25437e9b8cd67a1ac', 'message': 'Check if passthrough user_config is decoded properly from hiera data\n\nParsing of pci::passthrough hiera data was supposed to return a list of\nuser configurations. Since a string was being returned, the derivation\ndid not yield any results to override the user configuration.\nThis fix checks if the json load is decoded properly for the pci whitelist derivation\n\nChange-Id: Iedb3e2b8c503999aec8fde647d8d1692c9ee08c4\n'}]",6,824402,e36f44cadd2dd887e7ef29c25437e9b8cd67a1ac,29,7,3,33688,,,0,"Check if passthrough user_config is decoded properly from hiera data

Parsing of pci::passthrough hiera data was supposed to return a list of
user configurations. Since a string was being returned, the derivation
did not yield any results to override the user configuration.
This fix checks if the json load is decoded properly for the pci whitelist derivation

Change-Id: Iedb3e2b8c503999aec8fde647d8d1692c9ee08c4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/824402/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/derive_pci_passthrough_whitelist.py'],1,2778709b087b5f3bd35e7435eb97ae6d76551d40,usr_cfg_load," data = json.loads(out) ''' Check the data type of first json decode ''' if isinstance(data, str): ''' Decode once again to get the list ''' return (json.loads(data)) elif isinstance(data, list): return data """"""Check if user config list is valid """""" try: user_configs.pop() except (IndexError): raise ", return json.loads(out),13,1
openstack%2Ftripleo-heat-templates~master~I926aa8fc048af07036b923055b365314b3a5e843,openstack/tripleo-heat-templates,master,I926aa8fc048af07036b923055b365314b3a5e843,Missing OVN Parameters,MERGED,2022-01-12 09:02:23.000000000,2022-01-22 02:44:23.000000000,2022-01-22 02:44:23.000000000,"[{'_account_id': 8655}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30229}]","[{'number': 1, 'created': '2022-01-12 09:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85ea3cfe58f9f2e9864350781e63c2888b89e52f', 'message': 'Missing OVN Parameters\n\nAdded required OVN parameters in OVN DPDK and OVN SRIOV services\nyaml files.\n\nChange-Id: I926aa8fc048af07036b923055b365314b3a5e843\n'}, {'number': 2, 'created': '2022-01-12 09:03:33.000000000', 'files': ['environments/services/neutron-ovn-dpdk.yaml', 'environments/services/neutron-ovn-sriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1f6142b9f73c400b1a5f93f71050d94bebcd633', 'message': 'Missing OVN Parameters\n\nAdded required OVN parameters in OVN DPDK and OVN SRIOV services\nyaml files.\n\nChange-Id: I926aa8fc048af07036b923055b365314b3a5e843\n'}]",3,824357,a1f6142b9f73c400b1a5f93f71050d94bebcd633,18,6,2,22865,,,0,"Missing OVN Parameters

Added required OVN parameters in OVN DPDK and OVN SRIOV services
yaml files.

Change-Id: I926aa8fc048af07036b923055b365314b3a5e843
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/824357/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-ovn-dpdk.yaml', 'environments/services/neutron-ovn-sriov.yaml']",2,85ea3cfe58f9f2e9864350781e63c2888b89e52f,ovn-migration-parameters," ControllerParameters: OVNCMSOptions: ""enable-chassis-as-gw""",,6,0
openstack%2Fpuppet-tripleo~master~I66de56a07a12443414b5e960ba1a3c655a83abe7,openstack/puppet-tripleo,master,I66de56a07a12443414b5e960ba1a3c655a83abe7,"Add flag for rabbitmq fips_mode, defaulting to false",MERGED,2022-01-20 16:39:04.000000000,2022-01-22 02:44:17.000000000,2022-01-22 02:44:17.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-20 16:39:04.000000000', 'files': ['manifests/profile/base/rabbitmq.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1916e8021cfa64e7ed3415733df3b537dc301611', 'message': 'Add flag for rabbitmq fips_mode, defaulting to false\n\nChange-Id: I66de56a07a12443414b5e960ba1a3c655a83abe7\n'}]",0,825632,1916e8021cfa64e7ed3415733df3b537dc301611,7,3,1,9257,,,0,"Add flag for rabbitmq fips_mode, defaulting to false

Change-Id: I66de56a07a12443414b5e960ba1a3c655a83abe7
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/32/825632/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/rabbitmq.pp'],1,1916e8021cfa64e7ed3415733df3b537dc301611,rabbitmq-fips-mode,"# [*fips_mode*] # (Optional) Whether the erlang crypto app is configured for FIPS mode or not. # Defaults to false # $fips_mode = false, $rabbitmq_additional_erl_args = ""\""${additional_erl_args_real} -ssl_dist_optfile /etc/rabbitmq/ssl-dist.conf -crypto fips_mode ${fips_mode}\"""""," $rabbitmq_additional_erl_args = ""\""${additional_erl_args_real} -ssl_dist_optfile /etc/rabbitmq/ssl-dist.conf\""""",6,1
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~I846177ab6bade1ff31923a662392f58297369e5c,openstack/tripleo-puppet-elements,stable/wallaby,I846177ab6bade1ff31923a662392f58297369e5c,Update overcloud-agent element pkg-map,MERGED,2022-01-21 16:43:45.000000000,2022-01-22 01:17:06.000000000,2022-01-22 01:17:06.000000000,"[{'_account_id': 4571}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-21 16:43:45.000000000', 'files': ['elements/overcloud-agent/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/3506e681c5fb59e200cb48f89c982e407d1f5f15', 'message': 'Update overcloud-agent element pkg-map\n\nUpdating defaults to reflect latest release and removing\nthe ""release"" section as we don\'t need to handle exceptions\nseparetely now.\n\nChange-Id: I846177ab6bade1ff31923a662392f58297369e5c\n(cherry picked from commit 29988ab34ba35dffa9e4402830bdfe4b9cd12e79)\n'}]",0,825748,3506e681c5fb59e200cb48f89c982e407d1f5f15,7,6,1,29775,,,0,"Update overcloud-agent element pkg-map

Updating defaults to reflect latest release and removing
the ""release"" section as we don't need to handle exceptions
separetely now.

Change-Id: I846177ab6bade1ff31923a662392f58297369e5c
(cherry picked from commit 29988ab34ba35dffa9e4402830bdfe4b9cd12e79)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/48/825748/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-agent/pkg-map'],1,3506e681c5fb59e200cb48f89c982e407d1f5f15,cs9-stable/wallaby," ""python-heat-agent"": ""python3-heat-agent"""," ""family"": { ""debian"": { ""os-collect-config"": ""python-os-collect-config"" } }, ""release"": { ""fedora"": { ""28"": { ""python-heat-agent"": ""python3-heat-agent"" } }, ""rhel"": { ""8"": { ""python-heat-agent"": ""python3-heat-agent"" } }, ""centos"": { ""8"": { ""python-heat-agent"": ""python3-heat-agent"" } } }, ""python-heat-agent"": ""python-heat-agent""",1,23
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~Ica02244aedf4f4192f8aedfab82e41fdbca47e77,openstack/tripleo-puppet-elements,stable/wallaby,Ica02244aedf4f4192f8aedfab82e41fdbca47e77,Update overcloud-base element pkg-map,MERGED,2022-01-21 16:48:09.000000000,2022-01-22 01:17:02.000000000,2022-01-22 01:17:02.000000000,"[{'_account_id': 4571}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-21 16:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/e307772ab34ebce924624b9c869c7da43fb86a0e', 'message': 'Update overcloud-base element pkg-map\n\nWith this patch, we are removing yum_plugin_priorities_package and\npython_ipaddr from overcloud-base element as a part of refactoring\nto only support centos/rhel 8/9.\n\nThis repo have stable branches, so train builds should be using\nstable/train of tripleo-puppet-elements.\n\nChange-Id: Ica02244aedf4f4192f8aedfab82e41fdbca47e77\n(cherry picked from commit fce5d94e021a948efc420d8f41a1ac3a97359e86)\n'}, {'number': 2, 'created': '2022-01-21 16:49:24.000000000', 'files': ['elements/overcloud-base/pre-install.d/01-install-yum-priorities', 'elements/overcloud-base/install.d/package-installs-overcloud-base', 'elements/overcloud-base/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/307a72cc705aa69a814dd189a3b9e17e593f350b', 'message': 'Update overcloud-base element pkg-map\n\nWith this patch, we are removing yum_plugin_priorities_package and\npython_ipaddr from overcloud-base element as a part of refactoring\nto only support centos/rhel 8/9.\n\nThis repo have stable branches, so train builds should be using\nstable/train of tripleo-puppet-elements.\n\nChange-Id: Ica02244aedf4f4192f8aedfab82e41fdbca47e77\n(cherry picked from commit fce5d94e021a948efc420d8f41a1ac3a97359e86)\n'}]",0,825850,307a72cc705aa69a814dd189a3b9e17e593f350b,9,6,2,29775,,,0,"Update overcloud-base element pkg-map

With this patch, we are removing yum_plugin_priorities_package and
python_ipaddr from overcloud-base element as a part of refactoring
to only support centos/rhel 8/9.

This repo have stable branches, so train builds should be using
stable/train of tripleo-puppet-elements.

Change-Id: Ica02244aedf4f4192f8aedfab82e41fdbca47e77
(cherry picked from commit fce5d94e021a948efc420d8f41a1ac3a97359e86)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/50/825850/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-base/pre-install.d/01-install-yum-priorities', 'elements/overcloud-base/install.d/package-installs-overcloud-base', 'elements/overcloud-base/pkg-map']",3,e307772ab34ebce924624b9c869c7da43fb86a0e,cs9-stable/wallaby,," ""release"": { ""rhel"": { ""8"": { ""yum_plugin_priorities_package"": """", ""python_ipaddr"": """" } }, ""centos"": { ""8"": { ""yum_plugin_priorities_package"": """", ""python_ipaddr"": """" }, ""9"": { ""yum_plugin_priorities_package"": """", ""python_ipaddr"": """" } } }, ""python_ipaddr"": ""python-ipaddr"", ""yum_plugin_priorities_package"": ""yum-plugin-priorities"",",3,21
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I209f1d4ed11ca23c163eb15a9f43b6e5a1238cad,openstack/tripleo-heat-templates,stable/train,I209f1d4ed11ca23c163eb15a9f43b6e5a1238cad,[train-only][ffwd] Resolve OVNDB data loss during upgrade,MERGED,2021-12-01 13:09:20.000000000,2022-01-22 01:16:59.000000000,2022-01-22 01:16:59.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-12-01 13:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/491ca705b69238192d6e947bb8a1ddb7bcf6609d', 'message': '[train-only][ffwd] Resolve OVNDB data loss during upgrade\n\nDue to possibility of new writes to db during Ctrl0 system\nupgrade we better copy the data from Ctrl1 to Ctrl0 during\nthe transfer data step.\n\nAt the same time we resolve race in ovn-controller shut down\nwhere ovn-controller stops but keeps hanging.\n\nResolves: rhbz#1942449\n\nChange-Id: I209f1d4ed11ca23c163eb15a9f43b6e5a1238cad\n'}, {'number': 2, 'created': '2021-12-01 18:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27a0b42a0ead7ace6e0e607e78e98f1485f4312b', 'message': '[train-only][ffwd] Resolve OVNDB data loss during upgrade\n\nDue to possibility of new writes to db during Ctrl0 system\nupgrade we better copy the data from Ctrl1 to Ctrl0 during\nthe transfer data step.\n\nAt the same time we resolve race in ovn-controller shut down\nwhere ovn-controller stops but keeps hanging.\n\nResolves: rhbz#1942449\n\nChange-Id: I209f1d4ed11ca23c163eb15a9f43b6e5a1238cad\n'}, {'number': 3, 'created': '2021-12-03 01:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da8481a63105369875d7c29928216c0aee59b86e', 'message': '[train-only][ffwd] Resolve OVNDB data loss during upgrade\n\nDue to possibility of new writes to db during Ctrl0 system\nupgrade we better copy the data from last master to Ctrl0\nduring the transfer data step.\n\nAt the same time we resolve race in ovn-controller shut down\nwhere ovn-controller stops but keeps hanging.\n\nResolves: rhbz#1942449\n\nChange-Id: I209f1d4ed11ca23c163eb15a9f43b6e5a1238cad\n'}, {'number': 4, 'created': '2021-12-06 12:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e67b7a12f6550e62b773d99f57460334d32d7af7', 'message': '[train-only][ffwd] Resolve OVNDB data loss during upgrade\n\nDue to possibility of new writes to db during Ctrl0 system\nupgrade we better copy the data from last master to Ctrl0\nduring the transfer data step.\n\nAt the same time we resolve race in ovn-controller shut down\nwhere ovn-controller stops but keeps hanging.\n\nResolves: rhbz#1942449\n\nChange-Id: I209f1d4ed11ca23c163eb15a9f43b6e5a1238cad\n'}, {'number': 5, 'created': '2021-12-14 10:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b0514cafc9e0597380b091f959db1ca695af830', 'message': '[train-only][ffwd] Resolve OVNDB data loss during upgrade\n\nDue to possibility of new writes to db during Ctrl0 system\nupgrade we better copy the data from last master to Ctrl0\nduring the transfer data step.\n\nAt the same time we resolve race in ovn-controller shut down\nwhere ovn-controller stops but keeps hanging.\n\nResolves: rhbz#1942449\nCloses-Bug: #1954754\n\nChange-Id: I209f1d4ed11ca23c163eb15a9f43b6e5a1238cad\n'}, {'number': 6, 'created': '2022-01-10 15:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/659c30c01a6cc3030495faba0656baf0a15ef8eb', 'message': '[train-only][ffwd] Resolve OVNDB data loss during upgrade\n\nDue to possibility of new writes to db during Ctrl0 system\nupgrade we better copy the data from last master to Ctrl0\nduring the transfer data step.\n\nAt the same time we resolve race in ovn-controller shut down\nwhere ovn-controller stops but keeps hanging.\n\nResolves: rhbz#1942449\n\nChange-Id: I209f1d4ed11ca23c163eb15a9f43b6e5a1238cad\n'}, {'number': 7, 'created': '2022-01-12 13:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bac99b5d76cf05ce1914b6a3633a0bb720de7970', 'message': '[train-only][ffwd] Resolve OVNDB data loss during upgrade\n\nDue to possibility of new writes to db during Ctrl0 system\nupgrade we better copy the data from last master to Ctrl0\nduring the transfer data step.\n\nAt the same time we resolve race in ovn-controller shut down\nwhere ovn-controller stops but keeps hanging.\n\nResolves: rhbz#1942449\n\nChange-Id: I209f1d4ed11ca23c163eb15a9f43b6e5a1238cad\n'}, {'number': 8, 'created': '2022-01-12 13:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0b323f7f0c4a8c3cc6571b56246e21baa0ccc038', 'message': '[train-only][ffwd] Resolve OVNDB data loss during upgrade\n\nDue to possibility of new writes to db during Ctrl0 system\nupgrade we better copy the data from last master to Ctrl0\nduring the transfer data step.\n\nAt the same time we resolve race in ovn-controller shut down\nwhere ovn-controller stops but keeps hanging.\n\nResolves: rhbz#1942449\n\nChange-Id: I209f1d4ed11ca23c163eb15a9f43b6e5a1238cad\n'}, {'number': 9, 'created': '2022-01-19 11:53:24.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a2533dd8eef38bb4604298faf4f316c5b3f03e0e', 'message': '[train-only][ffwd] Resolve OVNDB data loss during upgrade\n\nDue to possibility of new writes to db during Ctrl0 system\nupgrade we better copy the data from last master to Ctrl0\nduring the transfer data step.\n\nAt the same time we resolve race in ovn-controller shut down\nwhere ovn-controller stops but keeps hanging.\n\nResolves: rhbz#1942449\n\nChange-Id: I209f1d4ed11ca23c163eb15a9f43b6e5a1238cad\n'}]",16,820023,a2533dd8eef38bb4604298faf4f316c5b3f03e0e,58,8,9,11166,,,0,"[train-only][ffwd] Resolve OVNDB data loss during upgrade

Due to possibility of new writes to db during Ctrl0 system
upgrade we better copy the data from last master to Ctrl0
during the transfer data step.

At the same time we resolve race in ovn-controller shut down
where ovn-controller stops but keeps hanging.

Resolves: rhbz#1942449

Change-Id: I209f1d4ed11ca23c163eb15a9f43b6e5a1238cad
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/820023/6 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml']",2,491ca705b69238192d6e947bb8a1ddb7bcf6609d,," - name: Tell ovn_controller to clean up and stop but don't fail on it failed_when: false docker exec -u root ovn_controller bash -c ""if [ -f /usr/bin/ovn-appctl ] ; then ovn-appctl -t ovn-controller exit ; else ovs-appctl --timeout=30 -t ovn-controller exit ; fi"""," - name: Tell ovn_controller to clean up and stop docker exec -u root ovn_controller bash -c ""if [ -f /usr/bin/ovn-appctl ] ; then ovn-appctl -t ovn-controller exit ; else ovs-appctl -t ovn-controller exit ; fi""",24,2
openstack%2Fcinder~master~I553be293142c3e9525ca9aedfeb1a788830570cb,openstack/cinder,master,I553be293142c3e9525ca9aedfeb1a788830570cb,mypy: Allow mypy to pass with requests-packaged urllib3,MERGED,2022-01-18 15:46:46.000000000,2022-01-22 00:22:49.000000000,2022-01-22 00:20:57.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-18 15:46:46.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/54ac21f73b01a671c4e90d707fa2e49b3bf03d54', 'message': 'mypy: Allow mypy to pass with requests-packaged urllib3\n\nmypy fails with:\n    error: Module has no attribute ""packages""\n\nSet type ignores for requests.packages.urllib3.\n\nChange-Id: I553be293142c3e9525ca9aedfeb1a788830570cb\n'}]",5,825130,54ac21f73b01a671c4e90d707fa2e49b3bf03d54,34,3,1,4523,,,0,"mypy: Allow mypy to pass with requests-packaged urllib3

mypy fails with:
    error: Module has no attribute ""packages""

Set type ignores for requests.packages.urllib3.

Change-Id: I553be293142c3e9525ca9aedfeb1a788830570cb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/825130/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,54ac21f73b01a671c4e90d707fa2e49b3bf03d54,, rpu = requests.packages.urllib3 # type: ignore rpu.disable_warnings(rpu.exceptions.InsecureRequestWarning) rpu.disable_warnings(rpu.exceptions.InsecurePlatformWarning), requests.packages.urllib3.disable_warnings( requests.packages.urllib3.exceptions.InsecureRequestWarning) requests.packages.urllib3.disable_warnings( requests.packages.urllib3.exceptions.InsecurePlatformWarning),3,4
openstack%2Fkeystone~master~I14132dfced48ddc93c29ce2b4c20ed2cabc1dbd6,openstack/keystone,master,I14132dfced48ddc93c29ce2b4c20ed2cabc1dbd6,Explicitly check policy name in policy warning tests,MERGED,2021-11-30 19:08:56.000000000,2022-01-22 00:21:14.000000000,2022-01-22 00:19:12.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-30 19:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cbf6662020ce663c80243b57117808c2ab6a83fc', 'message': 'Explicitly check policy name in policy warning tests\n\nThis commit makes keystone tests for oslo policy\nwarning to check policy name explicitly. oslo policy\n3.10 modified the warning text to include the policy\nname as well as the check-str so new warning message\nverified in keystone test will not work on old\noslo policy (<3.10), so bumping the oslo.policy\nin requirements.txt\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/815820\nChange-Id: I14132dfced48ddc93c29ce2b4c20ed2cabc1dbd6\n'}, {'number': 2, 'created': '2021-12-17 00:26:21.000000000', 'files': ['keystone/tests/unit/test_policy.py', 'requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6f87111a924cc04e7782c767ecaa3eb7fc019cde', 'message': 'Explicitly check policy name in policy warning tests\n\nThis commit makes keystone tests for oslo policy\nwarning to check policy name explicitly. oslo policy\n3.10 modified the warning text to include the policy\nname as well as the check-str so new warning message\nverified in keystone test will not work on old\noslo policy (<3.10), so bumping the oslo.policy\nin requirements.txt\n\nChange-Id: I14132dfced48ddc93c29ce2b4c20ed2cabc1dbd6\n'}]",10,819916,6f87111a924cc04e7782c767ecaa3eb7fc019cde,40,7,2,8556,,,0,"Explicitly check policy name in policy warning tests

This commit makes keystone tests for oslo policy
warning to check policy name explicitly. oslo policy
3.10 modified the warning text to include the policy
name as well as the check-str so new warning message
verified in keystone test will not work on old
oslo policy (<3.10), so bumping the oslo.policy
in requirements.txt

Change-Id: I14132dfced48ddc93c29ce2b4c20ed2cabc1dbd6
",git fetch https://review.opendev.org/openstack/keystone refs/changes/16/819916/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_policy.py', 'requirements.txt']",2,cbf6662020ce663c80243b57117808c2ab6a83fc,test-policy,oslo.policy>=3.10.0 # Apache-2.0,oslo.policy>=3.7.0 # Apache-2.0,3,5
openstack%2Fcinder-tempest-plugin~master~Idd1c0ae5211764abb1d3b30735c1986b63005789,openstack/cinder-tempest-plugin,master,Idd1c0ae5211764abb1d3b30735c1986b63005789,Add stable/xena jobs on master gate,MERGED,2022-01-19 01:01:20.000000000,2022-01-22 00:02:48.000000000,2022-01-22 00:02:48.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 33987}]","[{'number': 1, 'created': '2022-01-19 01:01:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/ffd05a76c6dba18beb4838ad916edc53683502e5', 'message': 'Add stable/xena jobs on master gate\n\nWe have stable/xena released so we should add\ntheir job on master gate to keep branchless tempest\nplugins compatible to stable branch.\n\nThis also removes the stable/train job as that is in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Idd1c0ae5211764abb1d3b30735c1986b63005789\n'}]",2,825200,ffd05a76c6dba18beb4838ad916edc53683502e5,15,5,1,8556,,,0,"Add stable/xena jobs on master gate

We have stable/xena released so we should add
their job on master gate to keep branchless tempest
plugins compatible to stable branch.

This also removes the stable/train job as that is in EM
state now.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Idd1c0ae5211764abb1d3b30735c1986b63005789
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/00/825200/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ffd05a76c6dba18beb4838ad916edc53683502e5,xena-stable-jobs, - cinder-tempest-plugin-basic-xena - cinder-tempest-plugin-cbak-ceph-xena name: cinder-tempest-plugin-cbak-ceph-xena parent: cinder-tempest-plugin-cbak-ceph nodeset: openstack-single-node-focal override-checkout: stable/xena - job: name: cinder-tempest-plugin-basic-xena parent: cinder-tempest-plugin-basic nodeset: openstack-single-node-focal override-checkout: stable/xena - job:, - cinder-tempest-plugin-basic-train - cinder-tempest-plugin-cbak-ceph-train- job: name: cinder-tempest-plugin-cbak-ceph-train parent: cinder-tempest-plugin-cbak-ceph nodeset: openstack-single-node-bionic override-checkout: stable/train - job: name: cinder-tempest-plugin-basic-train parent: cinder-tempest-plugin-basic nodeset: openstack-single-node-bionic override-checkout: stable/train vars: devstack_localrc: USE_PYTHON3: True,14,17
openstack%2Fdevstack-plugin-ceph~stable%2Fstein~I8905261e88eee6f1556b8c7ef733f2d030003576,openstack/devstack-plugin-ceph,stable/stein,I8905261e88eee6f1556b8c7ef733f2d030003576,Moving the stable/rocky and older stable jobs to stable/stein,NEW,2021-09-28 22:59:44.000000000,2022-01-22 00:01:19.000000000,,"[{'_account_id': 4523}, {'_account_id': 4690}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-28 22:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/8e698218d66acc7e7151a717943a56970a39bcce', 'message': 'Moving the stable/rocky and odler stable jobs to stable/stein\n\nWe do not have the stable/rocky and older branch cut for\nthis plugin and their jobs exist in master branch. That is cauing\nissue in zuul job matcher logic.\n\nThis commit moving them to the oldest branch which is stable/stein\nand removing it from master\n- https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/811478/\n\nRelated-Bug: #1945358\nChange-Id: I8905261e88eee6f1556b8c7ef733f2d030003576\n'}, {'number': 2, 'created': '2021-09-28 23:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/a36fb7e4ef72522e7101b5d39650f9db3ad6926c', 'message': 'Moving the stable/rocky and odler stable jobs to stable/stein\n\nWe do not have the stable/rocky and older branch cut for\nthis plugin and their jobs exist in master branch. That is cauing\nissue in zuul job matcher logic.\n\nThis commit moving them to the oldest branch which is stable/stein\nand removing it from master\n- https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/811478/\n\nRelated-Bug: #1945358\nChange-Id: I8905261e88eee6f1556b8c7ef733f2d030003576\n'}, {'number': 3, 'created': '2021-09-28 23:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/bb403bf65803b3bb7e5580cfd68a1deb680430e6', 'message': 'Moving the stable/rocky and older stable jobs to stable/stein\n\nWe do not have the stable/rocky and older branch cut for\nthis plugin and their jobs exist in master branch. That is causing\nissue in zuul job matcher logic.\n\nThis commit moving them (in separate file to avoid accidental\nchanges) to the oldest branch which is stable/stein\nand removing it from master\n- https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/811478/\n\nRelated-Bug: #1945358\nChange-Id: I8905261e88eee6f1556b8c7ef733f2d030003576\n'}, {'number': 4, 'created': '2021-09-29 00:25:55.000000000', 'files': ['zuul.d/older-stable-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/d76f5723ccd26562fdd47a487aeec15797f2f449', 'message': 'Moving the stable/rocky and older stable jobs to stable/stein\n\nWe do not have the stable/rocky and older branch cut for\nthis plugin and their jobs exist in master branch. That is causing\nissue in zuul job matcher logic.\n\nThis commit moving them (in separate file to avoid accidental\nchanges) to the oldest branch which is stable/stein\nand removing it from master\n- https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/811478/\n\nRelated-Bug: #1945358\nChange-Id: I8905261e88eee6f1556b8c7ef733f2d030003576\n'}]",8,811510,d76f5723ccd26562fdd47a487aeec15797f2f449,21,4,4,8556,,,0,"Moving the stable/rocky and older stable jobs to stable/stein

We do not have the stable/rocky and older branch cut for
this plugin and their jobs exist in master branch. That is causing
issue in zuul job matcher logic.

This commit moving them (in separate file to avoid accidental
changes) to the oldest branch which is stable/stein
and removing it from master
- https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/811478/

Related-Bug: #1945358
Change-Id: I8905261e88eee6f1556b8c7ef733f2d030003576
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/10/811510/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/stable-jobs.yaml', 'zuul.d/project.yaml']",2,8e698218d66acc7e7151a717943a56970a39bcce,bug/1945358,"- job: name: devstack-plugin-ceph-tempest-base abstract: true parent: tempest-full description: | Base integration tests that runs with the ceph devstack plugin. Former names for this job where: * legacy-tempest-dsvm-full-devstack-plugin-ceph * gate-tempest-dsvm-full-devstack-plugin-ceph-ubuntu-xenial The original job included support for an un-used tempest-conf.sh: # If an in-repo configuration exists, source it. This will likely # override DEVSTACK_GATE_TEMPEST_REGEX to further refine the set of # tests being run. required-projects: - name: opendev.org/openstack/cinder-tempest-plugin override-checkout: stein-last - openstack/devstack-plugin-ceph irrelevant-files: &irrelevant-files - ^.*\.rst$ - ^doc/.*$ - ^tox.ini$ timeout: 7200 vars: devstack_plugins: devstack-plugin-ceph: https://opendev.org/openstack/devstack-plugin-ceph devstack_localrc: ENABLE_FILE_INJECTION: false TEMPEST_PLUGINS: '/opt/stack/cinder-tempest-plugin' ENABLE_VOLUME_MULTIATTACH: false TEMPEST_RUN_VALIDATION: false tox_envlist: all tempest_test_regex: | (^tempest\.(api|scenario\.test_encrypted_cinder_volumes|scenario\.test_volume|scenario\.test_shelve_instance)|(^cinder_tempest_plugin)) tempest_test_blacklist: '{{ ansible_user_dir }}/{{ zuul.projects[""opendev.org/openstack/devstack-plugin-ceph""].src_dir }}/tempest_skiplist.txt' - job: name: devstack-plugin-ceph-tempest parent: devstack-plugin-ceph-tempest-base description: | Integration tests that runs with the ceph devstack plugin and py27. vars: devstack_localrc: ENABLE_VOLUME_MULTIATTACH: true CEPH_RELEASE: ""nautilus"" - job: name: devstack-plugin-ceph-tempest-py3-base abstract: true parent: tempest-full-py3 description: | Base integration tests that runs with the ceph devstack plugin and py3. Former names for this job where: * legacy-tempest-dsvm-py35-full-devstack-plugin-ceph * gate-tempest-dsvm-py35-full-devstack-plugin-ceph-ubuntu-xenial-nv The original job included support for an un-used tempest-dsvm-ceph-rc hosted at /opt/stack/new/nova/devstack/tempest-dsvm-ceph-rc. required-projects: - name: opendev.org/openstack/cinder-tempest-plugin override-checkout: stein-last - openstack/devstack-plugin-ceph irrelevant-files: *irrelevant-files timeout: 7200 vars: devstack_localrc: ENABLE_FILE_INJECTION: false TEMPEST_PLUGINS: '/opt/stack/cinder-tempest-plugin' ENABLE_VOLUME_MULTIATTACH: false TEMPEST_RUN_VALIDATION: false devstack_plugins: devstack-plugin-ceph: https://opendev.org/openstack/devstack-plugin-ceph tox_envlist: all tempest_test_regex: | (^tempest\.(api|scenario\.test_encrypted_cinder_volumes|scenario\.test_volume|scenario\.test_shelve_instance)|(^cinder_tempest_plugin)) tempest_test_blacklist: '{{ ansible_user_dir }}/{{ zuul.projects[""opendev.org/openstack/devstack-plugin-ceph""].src_dir }}/tempest_skiplist.txt' - job: name: devstack-plugin-ceph-tempest-py3 parent: devstack-plugin-ceph-tempest-py3-base description: | Integration tests that runs with the ceph devstack plugin and py3. vars: devstack_localrc: ENABLE_VOLUME_MULTIATTACH: true CEPH_RELEASE: ""nautilus"" GANESHA_RELEASE: ""V2.8-stable"" - job: name: devstack-plugin-ceph-compute-local-ephemeral parent: devstack-plugin-ceph-tempest-py3-base description: | Integration tests that runs with the ceph devstack plugin and py3. This job does not configure Nova to use rbd for ephemeral storage. It also enables the direct download of images via rbd into the local imagecache for Nova. vars: devstack_local_conf: post-config: $NOVA_CONF: glance: enable_rbd_download: True rbd_user: glance rbd_ceph_conf: /etc/ceph/ceph.conf rbd_pool: images libvirt: images_type: default - job: name: devstack-plugin-ceph-cephfs-native description: | Runs manila tempest plugin tests with Native CephFS as a manila back end (DHSS=False) parent: manila-tempest-plugin-cephfs-native - job: name: devstack-plugin-ceph-cephfs-nfs description: | Runs manila tempest plugin tests with CephFS via NFS-Ganesha as a manila back end (DHSS=False) parent: manila-tempest-plugin-cephfs-nfs - job: name: devstack-plugin-ceph-tempest-fedora-latest parent: devstack-plugin-ceph-tempest-py3 description: | Integration tests that runs with the ceph devstack plugin on Fedora. nodeset: devstack-single-node-fedora-latest voting: false - job: name: devstack-plugin-ceph-multinode-tempest-py3 parent: tempest-multinode-full-py3 description: | Integration tests that runs the ceph device plugin across multiple nodes on py3. required-projects: - name: opendev.org/openstack/cinder-tempest-plugin override-checkout: stein-last - openstack/devstack-plugin-ceph timeout: 10800 voting: false vars: devstack_localrc: ENABLE_FILE_INJECTION: false ENABLE_VOLUME_MULTIATTACH: true TEMPEST_RUN_VALIDATION: false CINDER_CEPH_UUID: d531d2d4-3937-429c-b0c2-658fe41e82aa devstack_plugins: devstack-plugin-ceph: https://opendev.org/openstack/devstack-plugin-ceph tox_envlist: all tempest_plugins: - cinder-tempest-plugin tempest_test_regex: | (^tempest\.(api|scenario\.test_encrypted_cinder_volumes|scenario\.test_volume|scenario\.test_shelve_instance)|(^cinder_tempest_plugin)) tempest_test_blacklist: '{{ ansible_user_dir }}/{{ zuul.projects[""opendev.org/openstack/devstack-plugin-ceph""].src_dir }}/tempest_skiplist_multinode.txt' group-vars: subnode: devstack_localrc: REMOTE_CEPH: true CINDER_CEPH_UUID: d531d2d4-3937-429c-b0c2-658fe41e82aa - project-template: name: devstack-plugin-ceph-tempest-jobs description: | Runs devstack-plugin-ceph-tempest jobs. check: jobs: - devstack-plugin-ceph-tempest - devstack-plugin-ceph-tempest-py3 - devstack-plugin-ceph-cephfs-native: irrelevant-files: *irrelevant-files voting: false - devstack-plugin-ceph-cephfs-nfs: irrelevant-files: *irrelevant-files voting: false - devstack-plugin-ceph-tempest-fedora-latest - devstack-plugin-ceph-multinode-tempest-py3 gate: jobs: - devstack-plugin-ceph-tempest - devstack-plugin-ceph-tempest-py3 - project: templates: - devstack-plugin-ceph-tempest-jobs - publish-openstack-docs-pti check: jobs: - openstack-tox-bashate gate: jobs: - openstack-tox-bashate experimental: jobs: - devstack-plugin-ceph-compute-local-ephemeral ",,236,0
openstack%2Fcharm-octavia~stable%2F21.10~I43443d6fb37769f76991d2ab0ede6bd5abfc47ee,openstack/charm-octavia,stable/21.10,I43443d6fb37769f76991d2ab0ede6bd5abfc47ee,Update build.lock for moved nrpe-external-master interface,MERGED,2022-01-18 17:29:52.000000000,2022-01-21 23:51:58.000000000,2022-01-21 22:11:00.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-01-18 17:29:52.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/fa2005cabf5ca54bff93ff8d5e5a4e793e8fbf1a', 'message': ""Update build.lock for moved nrpe-external-master interface\n\nThe original repository for the npre-external-master repository was\nremoved and was re-uploaded [1].  This changed the commit hash for the\nbuild.lock.  This patch updates the commit hash to point to the head of\nthe new repository main branch as it hasn't changed since 2017.\n\n[1] - https://github.com/juju/layer-index/pull/120\n\nChange-Id: I43443d6fb37769f76991d2ab0ede6bd5abfc47ee\n""}]",5,825151,fa2005cabf5ca54bff93ff8d5e5a4e793e8fbf1a,17,4,1,20870,,,0,"Update build.lock for moved nrpe-external-master interface

The original repository for the npre-external-master repository was
removed and was re-uploaded [1].  This changed the commit hash for the
build.lock.  This patch updates the commit hash to point to the head of
the new repository main branch as it hasn't changed since 2017.

[1] - https://github.com/juju/layer-index/pull/120

Change-Id: I43443d6fb37769f76991d2ab0ede6bd5abfc47ee
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/51/825151/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,fa2005cabf5ca54bff93ff8d5e5a4e793e8fbf1a,update-nrpe-external-master-hash," ""item"": ""interface:nrpe-external-master"", ""url"": ""https://github.com/canonical/nrpe-external-master-interface"", ""vcs"": null, ""branch"": ""95d744d1dbc4d86fb0462283c9371619bf5bbc24"", ""commit"": ""95d744d1dbc4d86fb0462283c9371619bf5bbc24"""," ""item"": ""interface:nrpe-external-master"", ""vcs"": null, ""url"": ""https://github.com/cmars/nrpe-external-master-interface"", ""branch"": ""2e0e1fdea6d83b55078200aacb537d60013ec5bc"", ""commit"": ""2e0e1fdea6d83b55078200aacb537d60013ec5bc""",5,5
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I5e027e757ce0dcb9c086130cd8253c71558e216a,openstack/tripleo-heat-templates,stable/wallaby,I5e027e757ce0dcb9c086130cd8253c71558e216a,"Revert ""Update cell0 db connection, if required""",MERGED,2022-01-20 22:09:55.000000000,2022-01-21 23:48:49.000000000,2022-01-21 23:48:49.000000000,"[{'_account_id': 6926}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-20 22:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5bc3761cdbefb39f5c3c2bd81c541ca8155ec1cf', 'message': 'Revert ""Update cell0 db connection, if required""\n\nThis reverts commit 81c4c23f70fc4a917afce35e3588eee8081cf1e2.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1958580\n\nChange-Id: I5e027e757ce0dcb9c086130cd8253c71558e216a\n'}, {'number': 2, 'created': '2022-01-21 13:50:55.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b9a335918144b65494bcb8f012b308a3ad42cc49', 'message': 'Revert ""Update cell0 db connection, if required""\n\nThis reverts commit 81c4c23f70fc4a917afce35e3588eee8081cf1e2.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1958580\n\nChange-Id: I5e027e757ce0dcb9c086130cd8253c71558e216a\n'}]",1,825468,b9a335918144b65494bcb8f012b308a3ad42cc49,12,5,2,9976,,,0,"Revert ""Update cell0 db connection, if required""

This reverts commit 81c4c23f70fc4a917afce35e3588eee8081cf1e2.

Reason for revert: https://bugs.launchpad.net/tripleo/+bug/1958580

Change-Id: I5e027e757ce0dcb9c086130cd8253c71558e216a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/825468/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-api-container-puppet.yaml'],1,5bc3761cdbefb39f5c3c2bd81c541ca8155ec1cf,," command: str_replace: template: ""/usr/bin/bootstrap_host_exec nova_api su nova -s /bin/bash -c '/usr/bin/nova-manage cell_v2 map_cell0 --database_connection=\""CELL0DB\""'"" params: CELL0DB: list_join: - '' - - '{scheme}' - '://' - '{username}' - ':' - '{password}' - '@' - if: - mysql_ipv6_use_ip_address - '[{hostname}]' - '{hostname}' - '/' - 'nova_cell0' - '?' - '{query}'"," command: ""/usr/bin/bootstrap_host_exec nova_api /nova_api_map_cell0.sh"" nova_api_map_cell0.sh: mode: ""0700"" content: str_replace: template: | #!/bin/bash CLIST=$(su nova -s /bin/bash -c ""nova-manage cell_v2 list_cells"") CELLID=$(printf ""$CLIST"" | sed -e '1,3d' -e '$d' | awk -F ' *| *' '$2 == ""cell0"" {print $4}') CELLDBC=$(printf ""$CLIST"" | sed -e '1,3d' -e '$d' | awk -F ' *| *' '$2 == ""cell0"" {print $8}') if [ ""$CELLID"" ]; then if [ ! ""$CELLDBC"" = ""CELL0DB"" ]; then # NOTE(bogdando): cached data must be updated w/ SIGHUP # for all the scheduler, conductor, API service workers. # For now that's achieved as the containers get recreated echo ""(cellv2) Updating cell0 cell_v2 cell $CELLID"" su nova -s /bin/bash -c ""/usr/bin/nova-manage cell_v2 update_cell --cell_uuid $CELLID --name=cell0 --database_connection='CELL0DB'"" fi else echo ""(cellv2) Creating cell0 cell_v2 cell"" su nova -s /bin/bash -c ""/usr/bin/nova-manage cell_v2 map_cell0 --database_connection='CELL0DB'"" fi # skip DB sync as the conductor container executes it later params: CELL0DB: list_join: - '' - - '{scheme}' - '://' - '{username}' - ':' - '{password}' - '@' - if: - mysql_ipv6_use_ip_address - '[{hostname}]' - '{hostname}' - '/' - 'nova_cell0' - '?' - '{query}' - /var/lib/container-config-scripts/nova_api_map_cell0.sh:/nova_api_map_cell0.sh:ro",22,43
openstack%2Fironic~master~I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce,openstack/ironic,master,I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce,Fix Node Console Duplicate Sol Session,MERGED,2021-12-28 07:07:36.000000000,2022-01-21 23:32:58.000000000,2022-01-21 00:35:02.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 34306}]","[{'number': 1, 'created': '2021-12-28 07:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8f8a03265568c7f4e68527d398df17513ef9a661', 'message': 'Fix SOL releated issue\n\nThis patch add ""sol deactivate"" action before start\nnode console. So user could loggin successfully even\nif restart the node console.\n\nCloses-Bug: #2009762\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}, {'number': 2, 'created': '2021-12-28 10:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7a46e172efe99ba77714c2cdec486fc57ee1be51', 'message': 'Fix SOL releated issue\n\nThis patch add ""sol deactivate"" action before start\nnode console. So user could loggin successfully even\nif restart the node console.\n\nCloses-Bug: #2009762\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}, {'number': 3, 'created': '2021-12-29 01:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/72d3dfe5572beb322d18bfe73782d7bd22d7f891', 'message': 'Fix SOL releated issue\n\nThis patch add ""sol deactivate"" action before start\nnode console. So user could loggin successfully even\nif restart the node console.\n\nCloses-Bug: #2009762\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}, {'number': 4, 'created': '2021-12-29 04:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0acf2f26acc531c7e240de820aea2889a5b5d1a2', 'message': 'Fix SOL releated issue\n\nThis patch add ""sol deactivate"" action before start\nnode console. So user could loggin successfully even\nif restart the node console.\n\nCloses-Bug: #2009762\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}, {'number': 5, 'created': '2022-01-04 01:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c7d108eb917fa4e357bc848e4318b5b670fa9a39', 'message': 'Fix SOL releated issue\n\nThis patch add ""sol deactivate"" action before start\nnode console. So user could loggin successfully even\nif restart the node console.\n\n`Closes-Bug: #2009762 https://storyboard.openstack.org/#!/story/2009762`\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}, {'number': 6, 'created': '2022-01-04 01:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1acb4f147876888711e0afc930ea04ea70614e34', 'message': 'Fix SOL releated issue\n\nThis patch add ""sol deactivate"" action before start\nnode console. So user could loggin successfully even\nif restart the node console.\n\n`Closes-Bug: #2009762 <https://storyboard.openstack.org/#!/story/2009762>`_\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}, {'number': 7, 'created': '2022-01-04 01:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f34132b572bf799c5d35e201440b605550d539e1', 'message': 'Fix SOL releated issue\n\nThis patch add ""sol deactivate"" action before start\nnode console. So user could loggin successfully even\nif restart the node console.\n\nCloses-Bug: _#2009762: https://storyboard.openstack.org/#!/story/2009762\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}, {'number': 8, 'created': '2022-01-04 01:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5c8e0647e8f81b955af5a1ca3b13345522540a11', 'message': 'Fix SOL releated issue\n\nThis patch add ""sol deactivate"" action before start\nnode console. So user could loggin successfully even\nif restart the node console.\n\nCloses-Bug: https://storyboard.openstack.org/#!/story/2009762\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}, {'number': 9, 'created': '2022-01-05 01:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a1823d7a9faf50a8780aba43e3d1872259cacfee', 'message': 'Fix Node Console Duplicate Sol Session\n\nRestart node console may occasionally result in duplicated\nsol session. Especially, when a cluster deployed with multi\nironic-conductor backends, stop_console shutdown only one\nconsole process while another sol session remains.\n\nThis patch add ""sol deactivate"" action before start\nnode console.\n\nStory: https://storyboard.openstack.org/#!/story/2009762\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}, {'number': 10, 'created': '2022-01-05 01:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/41dfd093776cc04d7a52163d75292dd4a110828f', 'message': 'Fix Node Console Duplicate Sol Session\n\nRestart node console may occasionally result in duplicated\nsol session. Especially, when a cluster deployed with multi\nironic-conductor backends, stop_console action shutdown\nonly one console process while another sol session remains.\n\nThis patch add ""sol deactivate"" action before start\nnode console.\n\nStory: https://storyboard.openstack.org/#!/story/2009762\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}, {'number': 11, 'created': '2022-01-05 01:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e4c2dbe8b99b6191751534f3707720a4f13eb21f', 'message': 'Fix Node Console Duplicate Sol Session\n\nRestart node console may occasionally result in duplicated\nsol session. Especially, when a cluster deployed with multi\nironic-conductor backends, stop_console action shutdown\nonly one console process while another sol session remains.\n\nThis patch add ""sol deactivate"" action before start node\nconsole. Make sure the current connection always a success.\n\nStory: https://storyboard.openstack.org/#!/story/2009762\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}, {'number': 12, 'created': '2022-01-05 02:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c1546a1a8470ac1e0ee06b162cebe41b5bd13764', 'message': 'Fix Node Console Duplicate Sol Session\n\nRestart node console may occasionally result in duplicated\nsol session. Especially, when a cluster deployed with multi\nironic-conductor backends, stop_console action shutdown\nonly one console process while another sol session remains.\n\nThis patch add ""sol deactivate"" action before start node\nconsole. Make sure the current connection always a success.\n\nStory: https://storyboard.openstack.org/#!/story/2009762\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}, {'number': 13, 'created': '2022-01-05 03:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fd3c2b2165809ee8e7820b6a8dfd01e61b6c59a3', 'message': 'Fix Node Console Duplicate Sol Session\n\nRestart node console may occasionally result in duplicated\nsol session. Especially, when a cluster deployed with multi\nironic-conductor backends, stop_console action shutdown\nonly one console process while another sol session remains.\n\nThis patch add ""sol deactivate"" action before start node\nconsole. Make sure the current connection always a success.\n\nStory: https://storyboard.openstack.org/#!/story/2009762\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}, {'number': 14, 'created': '2022-01-05 03:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/66867ee96486e28bbda1fb1f62b41a8d5133d186', 'message': 'Fix Node Console Duplicate Sol Session\n\nRestart node console may occasionally result in duplicated\nsol session. Especially, when a cluster deployed with multi\nironic-conductor backends, stop_console action shutdown\nonly one console process while another sol session remains.\n\nThis patch add ""sol deactivate"" action before start node\nconsole. Make sure the current connection always a success.\n\nStory: https://storyboard.openstack.org/#!/story/2009762\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}, {'number': 15, 'created': '2022-01-06 00:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1243016d6692ac61e777263a1699746dd3d250bc', 'message': 'Fix Node Console Duplicate Sol Session\n\nRestart node console may occasionally result in duplicated\nsol session. Especially, when a cluster deployed with multi\nironic-conductor backends, stop_console action shutdown\nonly one console process while another sol session remains.\n\nThis patch add ""sol deactivate"" action before start node\nconsole. Make sure the current connection always a success.\n\nStory: 2009762\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}, {'number': 16, 'created': '2022-01-06 01:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/279471c0556d8aa1b718db6632ebc05ad1355124', 'message': 'Fix Node Console Duplicate Sol Session\n\nRestart node console may occasionally result in duplicated\nsol session. Especially, when a cluster deployed with multi\nironic-conductor backends, stop_console action shutdown\nonly one console process while another sol session remains.\n\nThis patch add ""sol deactivate"" action before start node\nconsole. Make sure the current connection always a success.\n\nStory: 2009762\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}, {'number': 17, 'created': '2022-01-17 10:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b9c067a67782819d325ad2a03a20ca6adf4bad41', 'message': 'Fix Node Console Duplicate Sol Session\n\nRestart node console may occasionally result in duplicated\nsol session. Especially, when a cluster deployed with multi\nironic-conductor backends, stop_console action shutdown\nonly one console process while another sol session remains.\n\nThis patch adds ""sol deactivate"" action before start node\nconsole. Make sure the current connection always a success.\n\nStory: 2009762\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}, {'number': 18, 'created': '2022-01-17 10:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7acc148deea04cfb854758ab824a0e0cca725d22', 'message': 'Fix Node Console Duplicate Sol Session\n\nRestart node console may occasionally result in duplicated\nsol session. Especially, when a cluster deployed with multi\nironic-conductor backends, stop_console action shutdown\nonly one console process while another sol session remains.\n\nThis patch adds ""sol deactivate"" action before start node\nconsole. Make sure the current connection always a success.\n\nStory: 2009762\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}, {'number': 19, 'created': '2022-01-20 18:42:14.000000000', 'files': ['releasenotes/notes/bug-2009762-403eac24c4823d2d.yaml', 'ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a2160f13af9559bd0a5b350f9317c21dc907feec', 'message': 'Fix Node Console Duplicate Sol Session\n\nRestart node console may occasionally result in duplicated\nsol session. Especially, when a cluster deployed with multi\nironic-conductor backends, stop_console action shutdown\nonly one console process while another sol session remains.\n\nThis patch adds ""sol deactivate"" action before start node\nconsole. Make sure the current connection always a success.\n\nStory: 2009762\nTask: 44233\nChange-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce\n'}]",41,823050,a2160f13af9559bd0a5b350f9317c21dc907feec,85,4,19,34306,,,0,"Fix Node Console Duplicate Sol Session

Restart node console may occasionally result in duplicated
sol session. Especially, when a cluster deployed with multi
ironic-conductor backends, stop_console action shutdown
only one console process while another sol session remains.

This patch adds ""sol deactivate"" action before start node
console. Make sure the current connection always a success.

Story: 2009762
Task: 44233
Change-Id: I5bc8666ff0b4ceab61ed6a8c794d6882783d6bce
",git fetch https://review.opendev.org/openstack/ironic refs/changes/50/823050/18 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ipmitool.py', 'ironic/tests/unit/drivers/modules/test_ipmitool.py']",2,8f8a03265568c7f4e68527d398df17513ef9a661,bug/2009762," @mock.patch.object(ipmi.IPMIShellinaboxConsole, ""_exec_stop_console"", autospec=True) def test_start_console(self, mock_exec_stop, mock_start, mock_alloc): mock_exec_stop.assert_called_once_with(self.console, driver_info) @mock.patch.object(ipmi.IPMIShellinaboxConsole, ""_exec_stop_console"", autospec=True) def test_start_console_with_port(self, mock_start, mock_exec_stop, mock_info, mock_alloc): driver_info = ipmi._parse_driver_info(task.node) mock_exec_stop.assert_called_once_with(self.console, driver_info) @mock.patch.object(ipmi.IPMIShellinaboxConsole, ""_exec_stop_console"", autospec=True) def test_start_console_alloc_port(self, mock_start, mock_exec_stop, mock_info, mock_alloc): driver_info = ipmi._parse_driver_info(task.node) mock_exec_stop.assert_called_once_with(self.console, driver_info) @mock.patch.object(ipmi, '_exec_ipmitool', autospec=True) def test__exec_stop_console(self, mock_exec): with task_manager.acquire(self.context, self.node.uuid) as task: driver_info = ipmi._parse_driver_info(task.node) self.console._exec_stop_console(driver_info) mock_exec.assert_called_once_with( driver_info, 'sol deactivate', check_exit_code=[0, 1]) "," def test_start_console(self, mock_start, mock_alloc): def test_start_console_with_port(self, mock_start, mock_info, mock_alloc): def test_start_console_alloc_port(self, mock_start, mock_info, mock_alloc):",38,3
openstack%2Fpuppet-tempest~master~I11ed3c7014b9c14bbbd1a08f98d3aa2dd947f74e,openstack/puppet-tempest,master,I11ed3c7014b9c14bbbd1a08f98d3aa2dd947f74e,Deprecate the change_password_available parameter,MERGED,2022-01-20 10:15:07.000000000,2022-01-21 23:21:43.000000000,2022-01-21 23:20:04.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-20 10:15:07.000000000', 'files': ['releasenotes/notes/deprecate-change_password_available-6368d13e5003c015.yaml', 'manifests/init.pp', 'spec/classes/tempest_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/5b8bae1452c201a676e59d587cfa912c8c3e1b98', 'message': 'Deprecate the change_password_available parameter\n\nThe [compute] change_password_available parameter was renamed in 2013\nby d5c9602bee0b9366bca1f118379f196a794ed907 but the corresponding\nparameter in puppet-tempest was not updated and still configuring\nthe old, unused parameter.\n\nThis change deprecates the parameter because it has has no effect for\na long time.\n\nCloses-Bug: #1958511\nChange-Id: I11ed3c7014b9c14bbbd1a08f98d3aa2dd947f74e\n'}]",1,825474,5b8bae1452c201a676e59d587cfa912c8c3e1b98,10,3,1,9816,,,0,"Deprecate the change_password_available parameter

The [compute] change_password_available parameter was renamed in 2013
by d5c9602bee0b9366bca1f118379f196a794ed907 but the corresponding
parameter in puppet-tempest was not updated and still configuring
the old, unused parameter.

This change deprecates the parameter because it has has no effect for
a long time.

Closes-Bug: #1958511
Change-Id: I11ed3c7014b9c14bbbd1a08f98d3aa2dd947f74e
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/74/825474/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-change_password_available-6368d13e5003c015.yaml', 'manifests/init.pp', 'spec/classes/tempest_init_spec.rb']",3,5b8bae1452c201a676e59d587cfa912c8c3e1b98,bug/1958511, is_expected.to contain_tempest_config('compute/change_password_available').with(:value => '<SERVICE DEFAULT>'), is_expected.to contain_tempest_config('compute/change_password_available').with(:value => nil),15,5
openstack%2Fpbr~master~I1e3a764b38be66b994d790768bc5eb9be4237444,openstack/pbr,master,I1e3a764b38be66b994d790768bc5eb9be4237444,remove explicit mock,MERGED,2020-12-19 16:09:37.000000000,2022-01-21 23:12:44.000000000,2022-01-21 23:11:10.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-12-19 16:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/91c1cb95e0a096ee8ffc2f5263d29ba437cb5aed', 'message': 'remove explicit mock\n\nThe explicit mock package is not required if you can use unittest.mock\nfrom python >= 3.3\n\nChange-Id: I1e3a764b38be66b994d790768bc5eb9be4237444\n'}, {'number': 2, 'created': '2021-04-22 09:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/8c4eafa33100f68bccc30575ac3113532e247f23', 'message': 'remove explicit mock\n\nThe explicit mock package is not required if you can use unittest.mock\nfrom python >= 3.3\n\nChange-Id: I1e3a764b38be66b994d790768bc5eb9be4237444\n'}, {'number': 3, 'created': '2022-01-19 15:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/d968d08dccf38c91ef0666a13c82d72d045c79b8', 'message': 'remove explicit mock\n\nThe explicit mock package is not required if you can use unittest.mock\nfrom python >= 3.3\n\nChange-Id: I1e3a764b38be66b994d790768bc5eb9be4237444\n'}, {'number': 4, 'created': '2022-01-21 09:39:28.000000000', 'files': ['test-requirements.txt', 'pbr/tests/test_packaging.py', 'pbr/tests/test_pbr_json.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/397b6fcdf953f7483805ff1501ec7f847fa372f3', 'message': 'remove explicit mock\n\nThe explicit mock package is not required if you can use unittest.mock\nfrom python >= 3.3\n\nChange-Id: I1e3a764b38be66b994d790768bc5eb9be4237444\n'}]",6,767972,397b6fcdf953f7483805ff1501ec7f847fa372f3,31,4,4,32857,,,0,"remove explicit mock

The explicit mock package is not required if you can use unittest.mock
from python >= 3.3

Change-Id: I1e3a764b38be66b994d790768bc5eb9be4237444
",git fetch https://review.opendev.org/openstack/pbr refs/changes/72/767972/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'pbr/tests/test_packaging.py', 'pbr/tests/test_pbr_json.py']",3,91c1cb95e0a096ee8ffc2f5263d29ba437cb5aed,remove_mock,try: from unittest import mock except ImportError: import mock,import mock,9,3
openstack%2Ftripleo-ansible~stable%2Fwallaby~I45b43110786e606978b1993f6570ee94b8804c22,openstack/tripleo-ansible,stable/wallaby,I45b43110786e606978b1993f6570ee94b8804c22,Fix virtual host for image-serve,MERGED,2022-01-20 14:49:45.000000000,2022-01-21 23:03:12.000000000,2022-01-21 23:03:12.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-20 14:49:45.000000000', 'files': ['tripleo_ansible/roles/tripleo_image_serve/templates/image-serve.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a2b01aaf602b084c98ad024422df9a1cf3acb873', 'message': ""Fix virtual host for image-serve\n\nToday only the hostname can be used for the image serve.  The image\nserve host needs to be an actual hostname for ipv6, but there's nothing\nthat should prevent it from listening on other hosts like localhost or\nbeing referenced via an ipv4 address.\n\nCloses-Bug: #1957988\nChange-Id: I45b43110786e606978b1993f6570ee94b8804c22\n(cherry picked from commit 9b2ffd10dccefcb5462a12ffb86d1eaf8b64adb5)\n""}]",1,825465,a2b01aaf602b084c98ad024422df9a1cf3acb873,11,3,1,14985,,,0,"Fix virtual host for image-serve

Today only the hostname can be used for the image serve.  The image
serve host needs to be an actual hostname for ipv6, but there's nothing
that should prevent it from listening on other hosts like localhost or
being referenced via an ipv4 address.

Closes-Bug: #1957988
Change-Id: I45b43110786e606978b1993f6570ee94b8804c22
(cherry picked from commit 9b2ffd10dccefcb5462a12ffb86d1eaf8b64adb5)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/65/825465/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_image_serve/templates/image-serve.conf.j2'],1,a2b01aaf602b084c98ad024422df9a1cf3acb873,fix-image-serve-stable/wallaby,<VirtualHost *:{{ tripleo_container_registry_port }}>,<VirtualHost {{ tripleo_container_registry_host }}:{{ tripleo_container_registry_port }}>,1,1
openstack%2Fneutron~stable%2Fwallaby~I5b716399cb8344b8a89b97378fcb4796654e6152,openstack/neutron,stable/wallaby,I5b716399cb8344b8a89b97378fcb4796654e6152,Fix OVS OVSNeutronAgent.reclaim_local_vlan(),MERGED,2022-01-20 09:51:48.000000000,2022-01-21 22:55:13.000000000,2022-01-21 22:51:38.000000000,"[{'_account_id': 8313}, {'_account_id': 11928}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-20 09:51:48.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fa04bec83c2f672ca3f51b97bd966b0cbafdc44', 'message': 'Fix OVS OVSNeutronAgent.reclaim_local_vlan()\n\nCloses-Bug: #1957931\n\nChange-Id: I5b716399cb8344b8a89b97378fcb4796654e6152\n(cherry picked from commit d033c9f93327b5845280bbc21e5a229555b905f4)\n'}]",3,825470,8fa04bec83c2f672ca3f51b97bd966b0cbafdc44,23,5,1,16688,,,0,"Fix OVS OVSNeutronAgent.reclaim_local_vlan()

Closes-Bug: #1957931

Change-Id: I5b716399cb8344b8a89b97378fcb4796654e6152
(cherry picked from commit d033c9f93327b5845280bbc21e5a229555b905f4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/825470/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,8fa04bec83c2f672ca3f51b97bd966b0cbafdc44,bug/1957931," with mock.patch.object(self.mod_agent.LOG, 'debug') as log_debug_fn: self.agent.reclaim_local_vlan('net999') log_debug_fn.assert_called_once_with( 'Network %s not used on agent.', 'net999', ) ",,8,1
openstack%2Ftripleo-ansible~master~I3e3692030b86e4afff6fc5e09cd763ee1e184cfa,openstack/tripleo-ansible,master,I3e3692030b86e4afff6fc5e09cd763ee1e184cfa,Disable cloud-init netconfig post os-net-config,MERGED,2022-01-19 09:26:55.000000000,2022-01-21 22:54:40.000000000,2022-01-21 22:46:47.000000000,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-01-19 09:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f4f579bedc0245a610fbc1fa88ce7949bdab2aa6', 'message': 'Disable cloud-init netconfig post os-net-config\n\nAfter a successfull os-net-config run disable network config\nin cloud-init.\n\nThere has been reports of cloud-init re-writing network config\nfiles on reboot, resulting in incorrect network configuration.\n\nCloses-Bug: #1958332\nChange-Id: I3e3692030b86e4afff6fc5e09cd763ee1e184cfa\n'}, {'number': 2, 'created': '2022-01-19 14:21:43.000000000', 'files': ['releasenotes/notes/disable-cloud-init-network-config-after-tripleo_network_config-1fea430985e1a3cd.yaml', 'tripleo_ansible/roles/tripleo_network_config/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/85bcbfb8a6d53cbcf2b727e0b0bf12b3e4281567', 'message': 'Disable cloud-init netconfig post os-net-config\n\nAfter a successfull os-net-config run disable network config\nin cloud-init.\n\nThere has been reports of cloud-init re-writing network config\nfiles on reboot, resulting in incorrect network configuration.\n\nCloses-Bug: #1958332\nChange-Id: I3e3692030b86e4afff6fc5e09cd763ee1e184cfa\n'}]",8,825278,85bcbfb8a6d53cbcf2b727e0b0bf12b3e4281567,23,7,2,24245,,,0,"Disable cloud-init netconfig post os-net-config

After a successfull os-net-config run disable network config
in cloud-init.

There has been reports of cloud-init re-writing network config
files on reboot, resulting in incorrect network configuration.

Closes-Bug: #1958332
Change-Id: I3e3692030b86e4afff6fc5e09cd763ee1e184cfa
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/78/825278/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/disable-cloud-init-network-config-after-tripleo_network_config-1fea430985e1a3cd.yaml', 'tripleo_ansible/roles/tripleo_network_config/tasks/main.yml']",2,f4f579bedc0245a610fbc1fa88ce7949bdab2aa6,bug/1958332, # LP Bug: https://bugs.launchpad.net/tripleo/+bug/1958332 - name: Disable cloud-init network config copy: content: | network: config: disabled dest: /etc/cloud/cloud.cfg.d/99-tripleo-disable-network-config.cfg when: - NetworkConfig_result.rc is defined - NetworkConfig_result.rc == 0 ,,20,0
openstack%2Ftripleo-ansible~master~I34b63d159b2d3407ab3636150851327a31812459,openstack/tripleo-ansible,master,I34b63d159b2d3407ab3636150851327a31812459,Switch to centos-8-stream nodesets,MERGED,2022-01-17 22:44:32.000000000,2022-01-21 22:46:50.000000000,2022-01-21 22:46:50.000000000,"[{'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-01-17 22:44:32.000000000', 'files': ['zuul.d/molecule.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a45ac23df17dffc3d5621c6ece320b4815ecce81', 'message': ""Switch to centos-8-stream nodesets\n\nWe still have references to centos-8 nodeset which is going away. Let's\nswitch to centos-8-stream instead.\n\nChange-Id: I34b63d159b2d3407ab3636150851327a31812459\n""}]",3,825020,a45ac23df17dffc3d5621c6ece320b4815ecce81,14,4,1,14985,,,0,"Switch to centos-8-stream nodesets

We still have references to centos-8 nodeset which is going away. Let's
switch to centos-8-stream instead.

Change-Id: I34b63d159b2d3407ab3636150851327a31812459
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/825020/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'zuul.d/layout.yaml']",2,a45ac23df17dffc3d5621c6ece320b4815ecce81,node-set, nodeset: centos-8-stream, nodeset: centos-8,2,2
openstack%2Fmanila~stable%2Ftrain~If44ff0fa428d452f3ed59c6df6e3866ec629ee4e,openstack/manila,stable/train,If44ff0fa428d452f3ed59c6df6e3866ec629ee4e,DNM: testing gate,ABANDONED,2022-01-21 06:01:39.000000000,2022-01-21 22:44:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-21 06:01:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/5551b7e160dea4cc1f1098d0870d6a30019b7c4e', 'message': 'DNM: testing gate\n\nChange-Id: If44ff0fa428d452f3ed59c6df6e3866ec629ee4e\n'}]",0,825712,5551b7e160dea4cc1f1098d0870d6a30019b7c4e,6,1,1,8556,,,0,"DNM: testing gate

Change-Id: If44ff0fa428d452f3ed59c6df6e3866ec629ee4e
",git fetch https://review.opendev.org/openstack/manila refs/changes/12/825712/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5551b7e160dea4cc1f1098d0870d6a30019b7c4e,,,,1,0
openstack%2Fproject-config~master~I588144098abb803874d12b48d28f211f0f0c5907,openstack/project-config,master,I588144098abb803874d12b48d28f211f0f0c5907,Add ansible-role-qdrouterd IRC reporting,MERGED,2022-01-21 20:10:11.000000000,2022-01-21 22:43:15.000000000,2022-01-21 22:12:54.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 20:10:11.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fcc4fef3cc7dc45c877807ee72bd335a3694d4ca', 'message': 'Add ansible-role-qdrouterd IRC reporting\n\nChange-Id: I588144098abb803874d12b48d28f211f0f0c5907\n'}]",0,825878,fcc4fef3cc7dc45c877807ee72bd335a3694d4ca,7,2,1,28619,,,0,"Add ansible-role-qdrouterd IRC reporting

Change-Id: I588144098abb803874d12b48d28f211f0f0c5907
",git fetch https://review.opendev.org/openstack/project-config refs/changes/78/825878/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,fcc4fef3cc7dc45c877807ee72bd335a3694d4ca,, - openstack/ansible-role-qdrouterd,,1,0
openstack%2Ftripleo-common~stable%2Fwallaby~I56c9b8ad3e600ac9188d07711080b6cd7cd2ad4d,openstack/tripleo-common,stable/wallaby,I56c9b8ad3e600ac9188d07711080b6cd7cd2ad4d,fixup if guard for tcib_release,MERGED,2022-01-18 15:28:32.000000000,2022-01-21 22:34:20.000000000,2022-01-21 22:30:02.000000000,"[{'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-18 15:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d49a23c14c157932138baee29be67596ee4ac8fc', 'message': ""fixup if guard\n\nif guard needs space after opening '['\n\nChange-Id: I56c9b8ad3e600ac9188d07711080b6cd7cd2ad4d\n""}, {'number': 2, 'created': '2022-01-18 15:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e35e2c32352c14ec94aff5b367bcaebf132de9c1', 'message': ""fixup if guard for tcib_release\n\nif guard needs space after opening '['\n\nChange-Id: I56c9b8ad3e600ac9188d07711080b6cd7cd2ad4d\n""}, {'number': 3, 'created': '2022-01-19 16:03:31.000000000', 'files': ['container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml', 'container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/278593aba053c26c0d0795f19e1fe04bf4e823c1', 'message': ""fixup if guard for tcib_release\n\nif guard needs space after opening '['\n\nChange-Id: I56c9b8ad3e600ac9188d07711080b6cd7cd2ad4d\n(cherry picked from commit a74fcf726fd45c4c39baca4e9381565b3ac36847)\n""}]",4,825125,278593aba053c26c0d0795f19e1fe04bf4e823c1,20,4,3,16282,,,0,"fixup if guard for tcib_release

if guard needs space after opening '['

Change-Id: I56c9b8ad3e600ac9188d07711080b6cd7cd2ad4d
(cherry picked from commit a74fcf726fd45c4c39baca4e9381565b3ac36847)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/25/825125/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml'],1,d49a23c14c157932138baee29be67596ee4ac8fc,,- run: if [ '{{ tcib_release }}' == '8' ]; then dnf -y install {{ tcib_packages['el8'] | join(' ') }}; fi,- run: if ['{{ tcib_release }}' == '8' ]; then dnf -y install {{ tcib_packages['el8'] | join(' ') }}; fi,1,1
openstack%2Fopenstack-ansible-tests~master~I7c4ef5da667cc157a9d263477afa50b8eb73149c,openstack/openstack-ansible-tests,master,I7c4ef5da667cc157a9d263477afa50b8eb73149c,Remove unused centos-8 functional job definitions,MERGED,2021-12-07 08:53:44.000000000,2022-01-21 22:32:34.000000000,2022-01-21 22:25:39.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-07 08:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/7eb161ad3b1d73057c1129acea047dc21fc683b2', 'message': 'Remove unused centos-8 functional job definitions\n\nDepends-On: I2991e5f58f086ace6e5238b28450a5503129e49c\nChange-Id: I7c4ef5da667cc157a9d263477afa50b8eb73149c\n'}, {'number': 2, 'created': '2022-01-13 14:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/93cdb742b506675fe2476688883566a80eda48c5', 'message': 'Remove unused centos-8 functional job definitions\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-qdrouterd/+/820672\nChange-Id: I7c4ef5da667cc157a9d263477afa50b8eb73149c\n'}, {'number': 3, 'created': '2022-01-21 16:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/cb26373eeed1c099e32a1a07a08a90daf2aa90a0', 'message': 'Remove unused centos-8 functional job definitions\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-qdrouterd/+/820672\nChange-Id: I7c4ef5da667cc157a9d263477afa50b8eb73149c\n'}, {'number': 4, 'created': '2022-01-21 16:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/dc3b70fdc28459df67f6af4a33e96348dd544f69', 'message': 'Remove unused centos-8 functional job definitions\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-qdrouterd/+/820672\nChange-Id: I7c4ef5da667cc157a9d263477afa50b8eb73149c\n'}, {'number': 5, 'created': '2022-01-21 20:58:31.000000000', 'files': ['zuul.d/project-templates.yaml', 'test-ansible-collection-requirements.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/d3a67b0b684f28ac23aa01a56ea9850d8cb2d91c', 'message': 'Remove unused centos-8 functional job definitions\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-qdrouterd/+/820672\nChange-Id: I7c4ef5da667cc157a9d263477afa50b8eb73149c\n'}]",3,820674,d3a67b0b684f28ac23aa01a56ea9850d8cb2d91c,28,5,5,25023,,,0,"Remove unused centos-8 functional job definitions

Depends-On: https://review.opendev.org/c/openstack/ansible-role-qdrouterd/+/820672
Change-Id: I7c4ef5da667cc157a9d263477afa50b8eb73149c
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/74/820674/5 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,7eb161ad3b1d73057c1129acea047dc21fc683b2,osa/remove-centos8,, name: openstack-ansible-functional-centos-8 parent: openstack-ansible-functional nodeset: centos-8 - job: name: openstack-ansible-functional-distro_install-centos-8 parent: openstack-ansible-functional nodeset: centos-8 vars: tox_env: distro_install - job:,0,21
openstack%2Fvalidations-libs~master~I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab,openstack/validations-libs,master,I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab,Validation actions refactor,MERGED,2021-07-29 15:00:23.000000000,2022-01-21 22:15:25.000000000,2022-01-21 22:12:29.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-07-29 15:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e0839fa8af301dd1d773edc6d46a94d78fdbffe1', 'message': 'Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTests adjusted.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n'}, {'number': 2, 'created': '2021-07-30 06:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/6860a60f357f764e2e2b8fcfe525dd1c42ce6383', 'message': 'Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTests adjusted.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n'}, {'number': 3, 'created': '2021-07-30 10:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c9525c7465714b8f76a0e2dd418b10ac868cbc54', 'message': 'Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n'}, {'number': 4, 'created': '2021-07-30 12:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/d41a40c858712d2fc5d8a5f743f9b02cb32a27b8', 'message': 'Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n'}, {'number': 5, 'created': '2021-08-02 05:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ef6d625e47fdb74994e7317ab0f0b90946ccfc9e', 'message': 'Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n'}, {'number': 6, 'created': '2021-08-02 05:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/83af2bd8dd41a1a1bdc032f25bdb9d12ef2cedf2', 'message': 'Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n'}, {'number': 7, 'created': '2021-08-17 12:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/bf52e81d6bb0c390533046f2d4aff1d0a4e5085c', 'message': 'Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n'}, {'number': 8, 'created': '2021-08-17 13:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ff9d00b131a902de6a99d4ef7bb89faa098c589c', 'message': 'Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n'}, {'number': 9, 'created': '2021-08-20 08:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8fc67e7cf966db445da8241152e96d598916831b', 'message': 'Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n'}, {'number': 10, 'created': '2021-10-13 07:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9457c812dc9d572d6fdc7b69d12f5fb38c9614e1', 'message': 'Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n'}, {'number': 11, 'created': '2021-11-24 10:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e4040abd186b300ec613d88a17299a3ccab4fe83', 'message': 'Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n'}, {'number': 12, 'created': '2021-11-26 15:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2e9086e3114ddb56fed6a8b802c5eebf6831abc3', 'message': 'Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n'}, {'number': 13, 'created': '2021-12-02 09:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/af565e04598dde519de738106dbfa46b24bd3ffa', 'message': 'Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n'}, {'number': 14, 'created': '2021-12-02 15:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/85252731cbfd80ac2a15ca41b353be76ef853958', 'message': 'Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n'}, {'number': 15, 'created': '2021-12-02 15:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7c4be2231f6f0d7a8e7d74c15cb83e9782b659c4', 'message': 'Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nLogging statements related to the run action\nin validation_actions.py were expanded.\n\nNew debug level logging statements introduced.\n\nOne of the testing constants in the fakes.py was altered\nas it was not accurate representation of the real data,\nand as such was breaking the new logging statements\nduring unit test runs.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n'}, {'number': 16, 'created': '2021-12-03 07:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/05749553bbb0c23c72c535c4def3b3c14ccb3123', 'message': 'Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nLogging statements related to the run action\nin validation_actions.py were expanded.\n\nNew debug level logging statements introduced.\n\nOne of the testing constants in the fakes.py was altered\nas it was not accurate representation of the real data,\nand as such was breaking the new logging statements\nduring unit test runs.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n'}, {'number': 17, 'created': '2022-01-03 12:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/faf7de20df62a92c1e48737b320a77c909c326f8', 'message': ""Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nLogging statements related to the run action\nin validation_actions.py were expanded.\n\nNew debug level logging statements introduced.\n\nOne of the testing constants in the fakes.py was altered\nas it was not accurate representation of the real data,\nand as such was breaking the new logging statements\nduring unit test runs.\n\nDeprecation notice for 'log_path' and 'groups' arguments,\nin both docstring and logging.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n""}, {'number': 18, 'created': '2022-01-04 10:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/86a5de3f7fb14dd20135032e67126d0e4e2d4619', 'message': ""Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nLogging statements related to the run action\nin validation_actions.py were expanded.\n\nNew debug level logging statements introduced.\n\nOne of the testing constants in the fakes.py was altered\nas it was not accurate representation of the real data,\nand as such was breaking the new logging statements\nduring unit test runs.\n\nDeprecation notice for 'log_path' and 'groups' arguments,\nin both docstring and logging.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n""}, {'number': 19, 'created': '2022-01-10 13:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/cae9549556856df0b5ea0cf204ecd174fa37de63', 'message': ""Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nLogging statements related to the run action\nin validation_actions.py were expanded.\n\nNew debug level logging statements introduced.\n\nOne of the testing constants in the fakes.py was altered\nas it was not accurate representation of the real data,\nand as such was breaking the new logging statements\nduring unit test runs.\n\nDeprecation notice for 'log_path' and 'groups' arguments,\nin both docstring and logging.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n""}, {'number': 20, 'created': '2022-01-10 13:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/24b20c6417fc6e446f44bf4d226ee7d6582329fb', 'message': ""Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nLogging statements related to the run action\nin validation_actions.py were expanded.\n\nNew debug level logging statements introduced.\n\nOne of the testing constants in the fakes.py was altered\nas it was not accurate representation of the real data,\nand as such was breaking the new logging statements\nduring unit test runs.\n\nDeprecation notice for 'log_path' and 'groups' arguments,\nin both docstring and logging.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n""}, {'number': 21, 'created': '2022-01-12 10:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c1f9791985a1da2978b1fdbfd15927475f629d18', 'message': ""Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nLogging statements related to the run action\nin validation_actions.py were expanded.\n\nNew debug level logging statements introduced.\n\nOne of the testing constants in the fakes.py was altered\nas it was not accurate representation of the real data,\nand as such was breaking the new logging statements\nduring unit test runs.\n\nDeprecation notice for 'log_path' and 'groups' arguments,\nin both docstring and logging.\n\nRedundat conditionals for argument types were removed.\n\nThe checks of the arguments are implemented\nin the function called in the subsequent statement.\n\nAs there is no scenario in which one set of these checks\npasses, while the other fails with the same values,\nwe can consider one of them to be redundant.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n""}, {'number': 22, 'created': '2022-01-14 10:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/d60eb7062e3aff9b4e61e802a5fe97e06809ab05', 'message': ""Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nLogging statements related to the run action\nin validation_actions.py were expanded.\n\nNew debug level logging statements introduced.\n\nOne of the testing constants in the fakes.py was altered\nas it was not accurate representation of the real data,\nand as such was breaking the new logging statements\nduring unit test runs.\n\nDeprecation notice for 'log_path' and 'groups' arguments,\nin both docstring and logging.\n\nRedundat conditionals for argument types were removed.\n\nThe checks of the arguments are implemented\nin the function called in the subsequent statement.\n\nAs there is no scenario in which one set of these checks\npasses, while the other fails with the same values,\nwe can consider one of them to be redundant.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n""}, {'number': 23, 'created': '2022-01-18 08:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c0a86e78133da8d76c7b8105f14330477c007a0b', 'message': ""Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nLogging statements related to the run action\nin validation_actions.py were expanded.\n\nNew debug level logging statements introduced.\n\nOne of the testing constants in the fakes.py was altered\nas it was not accurate representation of the real data,\nand as such was breaking the new logging statements\nduring unit test runs.\n\nDeprecation notice for 'log_path' and 'groups' arguments,\nin both docstring and logging.\n\nRedundat conditionals for argument types were removed.\n\nThe checks of the arguments are implemented\nin the function called in the subsequent statement.\n\nAs there is no scenario in which one set of these checks\npasses, while the other fails with the same values,\nwe can consider one of them to be redundant.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n""}, {'number': 24, 'created': '2022-01-18 12:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/90a46be62b3f3e72794872239e339af944f47551', 'message': ""Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nLogging statements related to the run action\nin validation_actions.py were expanded.\n\nNew debug level logging statements introduced.\n\nOne of the testing constants in the fakes.py was altered\nas it was not accurate representation of the real data,\nand as such was breaking the new logging statements\nduring unit test runs.\n\nDeprecation notice for 'log_path' and 'groups' arguments,\nin both docstring and logging.\n\nRedundat conditionals for argument types were removed.\n\nThe checks of the arguments are implemented\nin the function called in the subsequent statement.\n\nAs there is no scenario in which one set of these checks\npasses, while the other fails with the same values,\nwe can consider one of them to be redundant.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n""}, {'number': 25, 'created': '2022-01-18 12:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e05487c78c33cdf7562fb340caff0c36ed0644b4', 'message': ""Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nLogging statements related to the run action\nin validation_actions.py were expanded.\n\nNew debug level logging statements introduced.\n\nOne of the testing constants in the fakes.py was altered\nas it was not accurate representation of the real data,\nand as such was breaking the new logging statements\nduring unit test runs.\n\nDeprecation notice for 'log_path' and 'groups' arguments,\nin both docstring and logging.\n\nRedundant conditionals for argument types were removed.\n\nThe checks of the arguments are implemented\nin the function called in the subsequent statement.\n\nAs there is no scenario in which one set of these checks\npasses, while the other fails with the same values,\nwe can consider one of them to be redundant.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n""}, {'number': 26, 'created': '2022-01-19 15:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4c1495a98cbc5ef87fe38223d1a161b9b82b4d50', 'message': ""Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nLogging statements related to the run action\nin validation_actions.py were expanded.\n\nNew debug level logging statements introduced.\n\nOne of the testing constants in the fakes.py was altered\nas it was not accurate representation of the real data,\nand as such was breaking the new logging statements\nduring unit test runs.\n\nDeprecation notice for 'log_path' and 'groups' arguments,\nin both docstring and logging.\n\nRedundant conditionals for argument types were removed.\n\nThe checks of the arguments are implemented\nin the function called in the subsequent statement.\n\nAs there is no scenario in which one set of these checks\npasses, while the other fails with the same values,\nwe can consider one of them to be redundant.\n\nHelper function 'get_validations_details' without active references\nwas removed from utils submodule.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n""}, {'number': 27, 'created': '2022-01-21 12:37:39.000000000', 'files': ['validations_libs/tests/cli/test_list.py', 'validations_libs/cli/history.py', 'validations_libs/tests/cli/test_show.py', 'validations_libs/group.py', 'validations_libs/tests/test_group.py', 'validations_libs/tests/test_utils.py', 'validations_libs/validation_actions.py', 'validations_libs/cli/run.py', 'validations_libs/tests/cli/test_history.py', 'validations_libs/cli/show.py', 'validations_libs/tests/fakes.py', 'validations_libs/tests/cli/test_run.py', 'validations_libs/utils.py', 'validations_libs/tests/test_validation_actions.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b24d4ce7922f5cb6090a997aa566602a8890295b', 'message': ""Validation actions refactor\n\nUnused workdir argument of the run_validations method removed.\n\nHost and playbook skipping simplified.\n\nDocstrings adjusted, including some of the more important\ninline code examples.\n\nTest sensitivity to API changes was increased.\nMore strict assertions have been put on the calls made in CLI.\n\nLogging statements related to the run action\nin validation_actions.py were expanded.\n\nNew debug level logging statements introduced.\n\nOne of the testing constants in the fakes.py was altered\nas it was not accurate representation of the real data,\nand as such was breaking the new logging statements\nduring unit test runs.\n\nDeprecation notice for 'log_path' and 'groups' arguments,\nin both docstring and logging.\n\nRedundant conditionals for argument types were removed.\n\nThe checks of the arguments are implemented\nin the function called in the subsequent statement.\n\nAs there is no scenario in which one set of these checks\npasses, while the other fails with the same values,\nwe can consider one of them to be redundant.\n\nHelper function 'get_validations_details' without active references\nwas removed from utils submodule.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab\n""}]",35,802901,b24d4ce7922f5cb6090a997aa566602a8890295b,92,7,27,32926,,,0,"Validation actions refactor

Unused workdir argument of the run_validations method removed.

Host and playbook skipping simplified.

Docstrings adjusted, including some of the more important
inline code examples.

Test sensitivity to API changes was increased.
More strict assertions have been put on the calls made in CLI.

Logging statements related to the run action
in validation_actions.py were expanded.

New debug level logging statements introduced.

One of the testing constants in the fakes.py was altered
as it was not accurate representation of the real data,
and as such was breaking the new logging statements
during unit test runs.

Deprecation notice for 'log_path' and 'groups' arguments,
in both docstring and logging.

Redundant conditionals for argument types were removed.

The checks of the arguments are implemented
in the function called in the subsequent statement.

As there is no scenario in which one set of these checks
passes, while the other fails with the same values,
we can consider one of them to be redundant.

Helper function 'get_validations_details' without active references
was removed from utils submodule.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I781f6a6f9fc4bd558af56b648f0e0ee9f165dfab
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/01/802901/26 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/validation_actions.py', 'validations_libs/tests/test_validation_actions.py']",2,e0839fa8af301dd1d773edc6d46a94d78fdbffe1,change-802901," validation_name=['fake'], validations_dir='/tmp/foo') col, values = v_actions.group_information()"," validation_name='fake.yaml', validations_dir='/tmp/foo' ) col, values = v_actions.group_information('512e')",82,63
openstack%2Fpuppet-nova~master~I92fd649b4a546dd74fac81b5a9231712768ec707,openstack/puppet-nova,master,I92fd649b4a546dd74fac81b5a9231712768ec707,Avoid testing details of nova::db multiple times,MERGED,2022-01-21 11:07:44.000000000,2022-01-21 22:04:33.000000000,2022-01-21 22:04:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 11:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ba79b619528dbf298cedf197b11b3250b463761e', 'message': 'Avoid testing details of nova::db multiple times\n\nThis change drops some redundant test cases which assert functionality\nof nova::db class from spec files for different classes.\nThe nova::db class has its own spec file and is tested by that.\n\nChange-Id: I92fd649b4a546dd74fac81b5a9231712768ec707\n'}, {'number': 2, 'created': '2022-01-21 11:39:27.000000000', 'files': ['spec/classes/nova_api_spec.rb', 'spec/classes/nova_scheduler_spec.rb', 'spec/classes/nova_metadata_spec.rb', 'spec/classes/nova_conductor_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/053c6e77296c42dded655899950dab04e51371a0', 'message': 'Avoid testing details of nova::db multiple times\n\nThis change drops some redundant test cases which assert functionality\nof nova::db class from spec files for different classes.\nThe nova::db class has its own spec file and is tested by that.\n\nChange-Id: I92fd649b4a546dd74fac81b5a9231712768ec707\n'}]",0,825760,053c6e77296c42dded655899950dab04e51371a0,9,3,2,9816,,,0,"Avoid testing details of nova::db multiple times

This change drops some redundant test cases which assert functionality
of nova::db class from spec files for different classes.
The nova::db class has its own spec file and is tested by that.

Change-Id: I92fd649b4a546dd74fac81b5a9231712768ec707
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/60/825760/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_api_spec.rb', 'spec/classes/nova_scheduler_spec.rb', 'spec/classes/nova_metadata_spec.rb', 'spec/classes/nova_conductor_spec.rb']",4,ba79b619528dbf298cedf197b11b3250b463761e,,," context 'with overridden database parameters' do let :pre_condition do ""class { 'nova::db': database_connection => 'mysql://user:pass@db/db', slave_connection => 'mysql://user:pass@slave/db', database_connection_recycle_time => '30', } "" end it { is_expected.to contain_oslo__db('nova_config').with( :connection => 'mysql://user:pass@db/db', :slave_connection => 'mysql://user:pass@slave/db', :connection_recycle_time => '30', )} end ",0,88
openstack%2Fpuppet-nova~master~I3eb3ac65ee08f818ee5b8403548fb575cfe9675e,openstack/puppet-nova,master,I3eb3ac65ee08f818ee5b8403548fb575cfe9675e,Avoid testing details of oslo::db,MERGED,2022-01-21 10:57:43.000000000,2022-01-21 22:04:30.000000000,2022-01-21 22:04:30.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 10:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9767355f188d575ff2254bd80f9effce1e33ba1d', 'message': 'Avoid testing details of oslo::db\n\nChange-Id: I3eb3ac65ee08f818ee5b8403548fb575cfe9675e\n'}, {'number': 2, 'created': '2022-01-21 11:39:27.000000000', 'files': ['spec/classes/nova_api_spec.rb', 'spec/classes/nova_scheduler_spec.rb', 'spec/classes/nova_metadata_spec.rb', 'spec/classes/nova_conductor_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d62be4a321393b92d1748fcdb81de391ad15021d', 'message': 'Avoid testing details of oslo::db\n\nChange-Id: I3eb3ac65ee08f818ee5b8403548fb575cfe9675e\n'}]",0,825755,d62be4a321393b92d1748fcdb81de391ad15021d,9,3,2,9816,,,0,"Avoid testing details of oslo::db

Change-Id: I3eb3ac65ee08f818ee5b8403548fb575cfe9675e
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/55/825755/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_api_spec.rb', 'spec/classes/nova_scheduler_spec.rb', 'spec/classes/nova_metadata_spec.rb', 'spec/classes/nova_conductor_spec.rb']",4,9767355f188d575ff2254bd80f9effce1e33ba1d,,," context 'with default database parameters' do let :pre_condition do ""include nova::db"" end it { is_expected.to_not contain_nova_config('database/connection') } it { is_expected.to_not contain_nova_config('database/slave_connection') } it { is_expected.to_not contain_nova_config('database/connection_recycle_time').with_value('<SERVICE DEFAULT>') } end ",10,54
openstack%2Fcharm-manila~stable%2F21.10~I4869cd73e2c2e39ff17b07c568d64613d8d9fc9e,openstack/charm-manila,stable/21.10,I4869cd73e2c2e39ff17b07c568d64613d8d9fc9e,Update build.lock for moved nrpe-external-master interface,MERGED,2022-01-18 17:16:48.000000000,2022-01-21 21:54:26.000000000,2022-01-21 21:53:01.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-01-18 17:16:48.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/1067487c5a94257299acd4c7bb9e2380b0f00f9f', 'message': ""Update build.lock for moved nrpe-external-master interface\n\nThe original repository for the npre-external-master repository was\nremoved and was re-uploaded [1].  This changed the commit hash for the\nbuild.lock.  This patch updates the commit hash to point to the head of\nthe new repository main branch as it hasn't changed since 2017.\n\n[1] - https://github.com/juju/layer-index/pull/120\n\nChange-Id: I4869cd73e2c2e39ff17b07c568d64613d8d9fc9e\n""}]",9,825147,1067487c5a94257299acd4c7bb9e2380b0f00f9f,24,4,1,20870,,,0,"Update build.lock for moved nrpe-external-master interface

The original repository for the npre-external-master repository was
removed and was re-uploaded [1].  This changed the commit hash for the
build.lock.  This patch updates the commit hash to point to the head of
the new repository main branch as it hasn't changed since 2017.

[1] - https://github.com/juju/layer-index/pull/120

Change-Id: I4869cd73e2c2e39ff17b07c568d64613d8d9fc9e
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/47/825147/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,1067487c5a94257299acd4c7bb9e2380b0f00f9f,update-nrpe-external-master-hash," ""url"": ""https://github.com/canonical/nrpe-external-master-interface"", ""commit"": ""95d744d1dbc4d86fb0462283c9371619bf5bbc24""} "," ""url"": ""https://github.com/cmars/nrpe-external-master-interface"", ""commit"": ""2e0e1fdea6d83b55078200aacb537d60013ec5bc""}",3,3
openstack%2Fpuppet-ovn~master~Ia4577a48e38f4618cf2bb551341c1dc85e1dca06,openstack/puppet-ovn,master,Ia4577a48e38f4618cf2bb551341c1dc85e1dca06,Refactor logic to manage some external_ids parameters,MERGED,2022-01-21 12:59:33.000000000,2022-01-21 21:53:44.000000000,2022-01-21 21:53:44.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 12:59:33.000000000', 'files': ['manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/cee3df560e99d7aa8a41db7414c87256cba67a97', 'message': 'Refactor logic to manage some external_ids parameters\n\nThis change refactors logic to manage the following two parameters.\n - external_ids:ovn-transport-zones\n - external_ids:ovn-bridge-datapath-type\n\nThe main benefit of this change is that the logics to manage the same\nparameter is gathered in a single place and the if-else logic is made\nmore explicit.\n\nChange-Id: Ia4577a48e38f4618cf2bb551341c1dc85e1dca06\n'}]",0,825781,cee3df560e99d7aa8a41db7414c87256cba67a97,7,3,1,9816,,,0,"Refactor logic to manage some external_ids parameters

This change refactors logic to manage the following two parameters.
 - external_ids:ovn-transport-zones
 - external_ids:ovn-bridge-datapath-type

The main benefit of this change is that the logics to manage the same
parameter is gathered in a single place and the if-else logic is made
more explicit.

Change-Id: Ia4577a48e38f4618cf2bb551341c1dc85e1dca06
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/81/825781/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/controller.pp'],1,cee3df560e99d7aa8a41db7414c87256cba67a97,, $tz_items = { 'external_ids:ovn-transport-zones' => { 'ensure' => 'absent' } } $datapath_config = { 'external_ids:ovn-bridge-datapath-type' => { 'value' => $datapath_type } } } else { $datapath_config = { 'external_ids:ovn-bridge-datapath-type' => { 'ensure' => 'absent' } }," $tz_items = {} $datapath_config = { 'external_ids:ovn-bridge-datapath-type' => { 'value' => $datapath_type } } } else { $datapath_config = {} } else { # ovn-bridge-mappings is not defined. Clear the existing value if configured. vs_config { 'external_ids:ovn-bridge-mappings': ensure => absent, require => Service['openvswitch'] } } if empty($ovn_transport_zones) { # ovn-transport-zones is not defined. Clear the existing value if configured. vs_config { 'external_ids:ovn-transport-zones': ensure => absent, require => Service['openvswitch'] }",9,17
openstack%2Fcharm-ceph-rbd-mirror~stable%2F21.10~I000ee613a3739da6e218701e1e47a230dca3a8e3,openstack/charm-ceph-rbd-mirror,stable/21.10,I000ee613a3739da6e218701e1e47a230dca3a8e3,Update build.lock for moved nrpe-external-master interface,MERGED,2022-01-18 17:11:39.000000000,2022-01-21 21:53:12.000000000,2022-01-21 21:50:54.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-01-18 17:11:39.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/3b5d60f4566cd8bea990073b065aaa08b90ef14e', 'message': ""Update build.lock for moved nrpe-external-master interface\n\nThe original repository for the npre-external-master repository was\nremoved and was re-uploaded [1].  This changed the commit hash for the\nbuild.lock.  This patch updates the commit hash to point to the head of\nthe new repository main branch as it hasn't changed since 2017.\n\n[1] - https://github.com/juju/layer-index/pull/120\n\nChange-Id: I000ee613a3739da6e218701e1e47a230dca3a8e3\n""}]",3,825146,3b5d60f4566cd8bea990073b065aaa08b90ef14e,13,4,1,20870,,,0,"Update build.lock for moved nrpe-external-master interface

The original repository for the npre-external-master repository was
removed and was re-uploaded [1].  This changed the commit hash for the
build.lock.  This patch updates the commit hash to point to the head of
the new repository main branch as it hasn't changed since 2017.

[1] - https://github.com/juju/layer-index/pull/120

Change-Id: I000ee613a3739da6e218701e1e47a230dca3a8e3
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/46/825146/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,3b5d60f4566cd8bea990073b065aaa08b90ef14e,update-nrpe-external-master-hash," ""url"": ""https://github.com/canonical/nrpe-external-master-interface"", ""commit"": ""95d744d1dbc4d86fb0462283c9371619bf5bbc24""} "," ""url"": ""https://github.com/cmars/nrpe-external-master-interface"", ""commit"": ""2e0e1fdea6d83b55078200aacb537d60013ec5bc""}",3,3
openstack%2Fpuppet-ironic~master~I804b2e08f181c66add6f5060be240b348cef3b83,openstack/puppet-ironic,master,I804b2e08f181c66add6f5060be240b348cef3b83,Do not test details of oslo::db,MERGED,2022-01-21 03:44:56.000000000,2022-01-21 21:50:34.000000000,2022-01-21 21:50:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 03:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/6b0171a33fd73c8e90eefe958acb29133ed27532', 'message': 'Do not test details of oslo::db\n\nChange-Id: I804b2e08f181c66add6f5060be240b348cef3b83\n'}, {'number': 2, 'created': '2022-01-21 08:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/f1b47b5a795727b7e4ad09d1a7b07d3a9310b969', 'message': 'Do not test details of oslo::db\n\nChange-Id: I804b2e08f181c66add6f5060be240b348cef3b83\n'}, {'number': 3, 'created': '2022-01-21 12:41:15.000000000', 'files': ['spec/classes/ironic_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/c569db03580702b0e5b3fcf2e4b984b079093ad1', 'message': 'Do not test details of oslo::db\n\nChange-Id: I804b2e08f181c66add6f5060be240b348cef3b83\n'}]",1,825709,c569db03580702b0e5b3fcf2e4b984b079093ad1,13,3,3,9816,,,0,"Do not test details of oslo::db

Change-Id: I804b2e08f181c66add6f5060be240b348cef3b83
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/09/825709/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/ironic_init_spec.rb'],1,6b0171a33fd73c8e90eefe958acb29133ed27532,," # NOTE(tkajinam): This is actually implemented in oslo::db. Remove this # when removing the deprecated database_* parameters. is_expected.to contain_oslo__db('ironic_config').with( :database_connection => params[:database_connection], :database_max_retries => params[:database_max_retries], :database_connection_recycle_time => params[:database_idle_timeout], :database_retry_interval => params[:database_retry_interval] )", is_expected.to contain_ironic_config('database/connection').with_value(params[:database_connection]) is_expected.to contain_ironic_config('database/max_retries').with_value(params[:database_max_retries]) is_expected.to contain_ironic_config('database/connection_recycle_time').with_value(params[:database_idle_timeout]) is_expected.to contain_ironic_config('database/retry_interval').with_value(params[:database_retry_interval]),8,4
openstack%2Fpuppet-ironic~master~Ica45ea09818f1fd60ee074fa6f022001279a6a44,openstack/puppet-ironic,master,Ica45ea09818f1fd60ee074fa6f022001279a6a44,Avoid testing details of oslo::messaging(::*),MERGED,2022-01-21 00:15:52.000000000,2022-01-21 21:50:31.000000000,2022-01-21 21:50:31.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 00:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/f46ddd052ecb02b6329d1e73dd32e0bbb478eed2', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: Ica45ea09818f1fd60ee074fa6f022001279a6a44\n'}, {'number': 2, 'created': '2022-01-21 00:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/8747a86597bb0416d2073fd67f10d816394dc0b8', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: Ica45ea09818f1fd60ee074fa6f022001279a6a44\n'}, {'number': 3, 'created': '2022-01-21 01:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/bc3864907d71bd9b9e1c9b040ca98ffb7bfa9de8', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: Ica45ea09818f1fd60ee074fa6f022001279a6a44\n'}, {'number': 4, 'created': '2022-01-21 03:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/0e6226572d98288e7c3b437e974590902f75bf30', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: Ica45ea09818f1fd60ee074fa6f022001279a6a44\n'}, {'number': 5, 'created': '2022-01-21 12:39:57.000000000', 'files': ['spec/classes/ironic_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/07c5036fe326fb4fb993328f9939dd8e7227ab46', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: Ica45ea09818f1fd60ee074fa6f022001279a6a44\n'}]",0,825693,07c5036fe326fb4fb993328f9939dd8e7227ab46,15,3,5,9816,,,0,"Avoid testing details of oslo::messaging(::*)

... so that any change in puppet-oslo would not directly break unit
tests.

Change-Id: Ica45ea09818f1fd60ee074fa6f022001279a6a44
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/93/825693/4 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/ironic_init_spec.rb'],1,f46ddd052ecb02b6329d1e73dd32e0bbb478eed2,oslo-messaging-ut," is.expected.to conain_oslo__messaging__rabbit( :kombu_failover_strategy => '<SERVICE DEFAULT>' ) is_expected.to contain_ironic_config('DEFAULT/rpc_transport').with_value('<SERVICE DEFAULT>') is_expected.to contain_oslo__messaging__default('ironic_config').with( :executor_thread_pool_size => '<SERVICE DEFAULT>', :transport_url => '<SERVICE DEFAULT>', :rpc_response_timeout => '<SERVICE DEFAULT>', :control_exchange => '<SERVICE DEFAULT>' ) is_expected.to contain_oslo__messaging__rabbit('ironic_config').with( :heartbeat_in_pthread => '<SERVICE DEFAULT>' ) is_expected.to contain_oslo__messaging__rabbit('ironic_config').with( :rabbit_ha_queues => '<SERVICE DEFAULT>' ) is_expected.to contain_oslo__messaging__rabbit('ironic_config').with( :rabbit_ha_queues => true ) :rabbit_use_ssl => true, :rabbit_use_ssl => false, it { is_expected.to contain_oslo__messaging__rabbit('ironic_config').with( :amqp_durable_queues => '<SERVICE DEFAULT>' ) } it { is_expected.to contain_oslo__messaging__rabbit('ironic_config').with( :amqp_durable_queues => true ) } it { is_expected.to contain_oslo__messaging__notifications('ironic_config').with( :transport_url => '<SERVICE DEFAULT>', :driver => '<SERVICE DEFAULT>', :topics => '<SERVICE DEFAULT>', ) } :notification_transport_url => 'rabbit://rabbit_user:password@localhost:5673', :notification_topics => 'notifications' it { is_expected.to contain_oslo__messaging__notifications('ironic_config').with( :transport_url => 'rabbit://rabbit_user:password@localhost:5673', :driver => 'messagingv2', :topics => 'notifications', ) } it { is_expected.to contain_oslo__messaging__amqp('ironic_config').with( :server_request_prefix => '<SERVICE DEFAULT>', :broadcast_prefix => '<SERVICE DEFAULT>', :group_request_prefix => '<SERVICE DEFAULT>', :container_name => '<SERVICE DEFAULT>', :idle_timeout => '<SERVICE DEFAULT>', :trace => '<SERVICE DEFAULT>', :ssl_ca_file => '<SERVICE DEFAULT>', :ssl_cert_file => '<SERVICE DEFAULT>', :ssl_key_file => '<SERVICE DEFAULT>', :ssl_key_password => '<SERVICE DEFAULT>', :sasl_mechanisms => '<SERVICE DEFAULT>', :sasl_config_dir => '<SERVICE DEFAULT>', :sasl_config_name => '<SERVICE DEFAULT>', :username => '<SERVICE DEFAULT>', :password => '<SERVICE DEFAULT>', ) } end it { is_expected.to contain_oslo__messaging__amqp('heat_config').with( :server_request_prefix => '<SERVICE DEFAULT>', :broadcast_prefix => '<SERVICE DEFAULT>', :group_request_prefix => '<SERVICE DEFAULT>', :container_name => '<SERVICE DEFAULT>', :idle_timeout => '60', :trace => true, :ssl_ca_file => '/path/to/ca.cert', :ssl_cert_file => '/path/to/certfile', :ssl_key_file => '/path/to/key', :ssl_key_password => '<SERVICE DEFAULT>', :sasl_mechanisms => '<SERVICE DEFAULT>', :sasl_config_dir => '<SERVICE DEFAULT>', :sasl_config_name => '<SERVICE DEFAULT>', :username => 'amqp_user', :password => 'password', ) } it { is_expected.to contain_oslo__messaging__default('ironic_config').with( :rpc_response_timeout => '3628800', ) }"," is_expected.to contain_ironic_config('oslo_messaging_rabbit/kombu_failover_strategy').with_value('<SERVICE DEFAULT>') is_expected.to contain_ironic_config('DEFAULT/executor_thread_pool_size').with_value('<SERVICE DEFAULT>') is_expected.to contain_ironic_config('DEFAULT/rpc_response_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_ironic_config('DEFAULT/rpc_transport').with_value('<SERVICE DEFAULT>') is_expected.to contain_ironic_config('DEFAULT/control_exchange').with_value('<SERVICE DEFAULT>') is_expected.to contain_ironic_config('DEFAULT/transport_url').with_value('<SERVICE DEFAULT>').with_secret(true) is_expected.to contain_ironic_config('oslo_messaging_rabbit/heartbeat_in_pthread').with_value('<SERVICE DEFAULT>') is_expected.to contain_ironic_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value('<SERVICE DEFAULT>') is_expected.to contain_ironic_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value(true) :rabbit_use_ssl => true, :rabbit_use_ssl => false, it { is_expected.to contain_ironic_config('oslo_messaging_rabbit/amqp_durable_queues').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_rabbit/amqp_durable_queues').with_value(true) } it { is_expected.to contain_ironic_config('oslo_messaging_notifications/transport_url').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_notifications/driver').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_notifications/topics').with_value('<SERVICE DEFAULT>') } :notification_transport_url => 'http://host:port', it { is_expected.to contain_ironic_config('oslo_messaging_notifications/transport_url').with_value('http://host:port') } it { is_expected.to contain_ironic_config('oslo_messaging_notifications/driver').with_value('messagingv2') } it { is_expected.to contain_ironic_config('oslo_messaging_notifications/topics').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/server_request_prefix').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/broadcast_prefix').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/group_request_prefix').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/container_name').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/idle_timeout').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/trace').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/ssl_ca_file').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/ssl_cert_file').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/ssl_key_file').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/ssl_key_password').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/sasl_mechanisms').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/sasl_config_dir').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/sasl_config_name').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/username').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/password').with_value('<SERVICE DEFAULT>') } end it { is_expected.to contain_ironic_config('oslo_messaging_amqp/server_request_prefix').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/broadcast_prefix').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/group_request_prefix').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/container_name').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/idle_timeout').with_value('60') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/trace').with_value('true') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/ssl_ca_file').with_value('/path/to/ca.cert') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/ssl_cert_file').with_value('/path/to/certfile') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/ssl_key_file').with_value('/path/to/key') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/sasl_mechanisms').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/sasl_config_dir').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/sasl_config_name').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/username').with_value('amqp_user') } it { is_expected.to contain_ironic_config('oslo_messaging_amqp/password').with_value('password') } it { is_expected.to contain_ironic_config('DEFAULT/rpc_response_timeout').with_value('3628800') }",79,51
openstack%2Fpuppet-manila~master~Ie0cb7432de70c19b7138a458adf9bb61fb18d603,openstack/puppet-manila,master,Ie0cb7432de70c19b7138a458adf9bb61fb18d603,Do not test details of oslo::concurrency,MERGED,2022-01-21 08:06:57.000000000,2022-01-21 21:49:35.000000000,2022-01-21 21:49:35.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 08:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/90a2d4ce5681baebcef570f6c5b1071d62782c6f', 'message': 'Do not test details of oslo::concurrency\n\nChange-Id: Ie0cb7432de70c19b7138a458adf9bb61fb18d603\n'}, {'number': 2, 'created': '2022-01-21 08:27:27.000000000', 'files': ['spec/classes/manila_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/581597f5e115f7a299994df9a139acfc328dd4d9', 'message': 'Do not test details of oslo::concurrency\n\nChange-Id: Ie0cb7432de70c19b7138a458adf9bb61fb18d603\n'}]",0,825717,581597f5e115f7a299994df9a139acfc328dd4d9,9,3,2,9816,,,0,"Do not test details of oslo::concurrency

Change-Id: Ie0cb7432de70c19b7138a458adf9bb61fb18d603
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/17/825717/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/manila_init_spec.rb'],1,90a2d4ce5681baebcef570f6c5b1071d62782c6f,, is_expected.to contain_oslo__concurrency('manila_config').with :lock_path => '/tmp/manila/manila_locks', is_expected.to contain_manila_config('oslo_concurrency/lock_path').with( :value => '/tmp/manila/manila_locks',2,2
openstack%2Fpuppet-manila~master~I05b217a52d13e6e5f6a0a561ccaa1ad89d0efbae,openstack/puppet-manila,master,I05b217a52d13e6e5f6a0a561ccaa1ad89d0efbae,Avoid testing details of oslo::messaging(::*),MERGED,2022-01-21 03:55:29.000000000,2022-01-21 21:49:32.000000000,2022-01-21 21:49:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 03:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/4d8de065989f1e35a4cb6907fcf40ddb8851cfbe', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: I05b217a52d13e6e5f6a0a561ccaa1ad89d0efbae\n'}, {'number': 2, 'created': '2022-01-21 04:35:39.000000000', 'files': ['spec/classes/manila_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/10345f933f66b62c4c18da8a8bbf986a4f0c6e0a', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: I05b217a52d13e6e5f6a0a561ccaa1ad89d0efbae\n'}]",1,825710,10345f933f66b62c4c18da8a8bbf986a4f0c6e0a,11,3,2,9816,,,0,"Avoid testing details of oslo::messaging(::*)

... so that any change in puppet-oslo would not directly break unit
tests.

Change-Id: I05b217a52d13e6e5f6a0a561ccaa1ad89d0efbae
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/10/825710/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/manila_init_spec.rb'],1,4d8de065989f1e35a4cb6907fcf40ddb8851cfbe,oslo-messaging-ut," is_expected.to contain_oslo__messaging__default('manila_config').with( :transport_url => '<SERVICE DEFAULT>', :rpc_response_timeout => '<SERVICE DEFAULT>', :control_exchange => '<SERVICE DEFAULT>', is_expected.to contain_oslo__messaging__notifications('manila_config').with( :transport_url => '<SERVICE DEFAULT>', :driver => '<SERVICE DEFAULT>', :topics => '<SERVICE DEFAULT>', is_expected.to contain_oslo__messaging__rabbit('manila_config').with( :rabbit_use_ssl => '<SERVICE DEFAULT>', :amqp_durable_queues => '<SERVICE DEFAULT>', :rabbit_ha_queues => '<SERVICE DEFAULT>', :kombu_failover_strategy => '<SERVICE DEFAULT>', :heartbeat_in_pthread => '<SERVICE DEFAULT>', is_expected.to contain_oslo__messaging__rabbit('manila_config').with( :rabbit_ha_queues => true, it { is_expected.to contain_oslo__messaging__rabbit('manila_config').with( :amqp_durable_queues => false, )} it { is_expected.to contain_oslo__messaging__rabbit('manila_config').with( :amqp_durable_queues => true, )} it { is_expected.to contain_oslo__messaging__default('manila_config').with( :transport_url => 'rabbit://rabbit_user:password@localhost:5673', :rpc_response_timeout => '120', :control_exchange => 'manila', ) } it { is_expected.to contain_oslo__messaging__notifications('manila_config').with( :transport_url => 'rabbit://rabbit_user:password@localhost:5673' ) } it { is_expected.to contain_oslo__messaging__amqp('manila_config').with( :server_request_prefix => 'exclusive', :broadcast_prefix => 'broadcase', :group_request_prefix => 'unicast', :container_name => 'guest', :idle_timeout => '0', :trace => 'false', :ssl_ca_file => '<SERVICE DEFAULT>', :ssl_cert_file => '<SERVICE DEFAULT>', :ssl_key_file => '<SERVICE DEFAULT>', :sasl_mechanisms => '<SERVICE DEFAULT>', :sasl_config_dir => '<SERVICE DEFAULT>', :sasl_config_name => '<SERVICE DEFAULT>', :username => '<SERVICE DEFAULT>', :password => '<SERVICE DEFAULT>', ) }"," is_expected.to contain_manila_config('DEFAULT/transport_url').with( :value => '<SERVICE DEFAULT>' is_expected.to contain_manila_config('DEFAULT/rpc_response_timeout').with( :value => '<SERVICE DEFAULT>' is_expected.to contain_manila_config('oslo_messaging_notifications/transport_url').with( :value => '<SERVICE DEFAULT>' ) is_expected.to contain_manila_config('oslo_messaging_notifications/topics').with( :value => '<SERVICE DEFAULT>' ) is_expected.to contain_manila_config('oslo_messaging_notifications/driver').with( :value => 'messaging' ) is_expected.to contain_manila_config('DEFAULT/control_exchange').with( :value => '<SERVICE DEFAULT>' ) is_expected.to contain_manila_config('oslo_messaging_rabbit/amqp_durable_queues').with( :value => '<SERVICE DEFAULT>' ) is_expected.to contain_manila_config('oslo_messaging_rabbit/rabbit_ha_queues').with( :value => '<SERVICE DEFAULT>' ) is_expected.to contain_manila_config('oslo_messaging_rabbit/kombu_failover_strategy').with( :value => '<SERVICE DEFAULT>' ) is_expected.to contain_manila_config('oslo_messaging_rabbit/heartbeat_in_pthread').with( :value => '<SERVICE DEFAULT>' is_expected.to contain_oslo__messaging__rabbit('manila_config').with( :rabbit_use_ssl => '<SERVICE DEFAULT>', ) is_expected.to contain_manila_config('oslo_messaging_rabbit/rabbit_ha_queues').with( :value => true it { is_expected.to contain_manila_config('oslo_messaging_rabbit/amqp_durable_queues').with_value(false) } it { is_expected.to contain_manila_config('oslo_messaging_rabbit/amqp_durable_queues').with_value(true) } context 'with SSL socket options set wrongly configured' do let :params do { :use_ssl => true, :ca_file => '/path/to/ca', :key_file => '/path/to/key', } end it_raises 'a Puppet::Error', /The cert_file parameter is required when use_ssl is set to true/ end it { is_expected.to contain_manila_config('DEFAULT/transport_url').with_value('rabbit://rabbit_user:password@localhost:5673') } it { is_expected.to contain_manila_config('DEFAULT/rpc_response_timeout').with_value('120') } it { is_expected.to contain_manila_config('DEFAULT/control_exchange').with_value('manila') } it { is_expected.to contain_manila_config('oslo_messaging_notifications/transport_url').with_value('rabbit://rabbit_user:password@localhost:5673') } it { is_expected.to contain_manila_config('oslo_messaging_amqp/server_request_prefix').with_value('exclusive') } it { is_expected.to contain_manila_config('oslo_messaging_amqp/broadcast_prefix').with_value('broadcast') } it { is_expected.to contain_manila_config('oslo_messaging_amqp/group_request_prefix').with_value('unicast') } it { is_expected.to contain_manila_config('oslo_messaging_amqp/container_name').with_value('guest') } it { is_expected.to contain_manila_config('oslo_messaging_amqp/idle_timeout').with_value('0') } it { is_expected.to contain_manila_config('oslo_messaging_amqp/trace').with_value(false) } it { is_expected.to contain_manila_config('oslo_messaging_amqp/ssl_key_password').with_value('<SERVICE DEFAULT>')} it { is_expected.to contain_manila_config('oslo_messaging_amqp/ssl_ca_file').with_value('<SERVICE DEFAULT>')} it { is_expected.to contain_manila_config('oslo_messaging_amqp/ssl_cert_file').with_value('<SERVICE DEFAULT>')} it { is_expected.to contain_manila_config('oslo_messaging_amqp/ssl_key_file').with_value('<SERVICE DEFAULT>')} it { is_expected.to contain_manila_config('oslo_messaging_amqp/sasl_mechanisms').with_value('<SERVICE DEFAULT>')} it { is_expected.to contain_manila_config('oslo_messaging_amqp/sasl_config_dir').with_value('<SERVICE DEFAULT>')} it { is_expected.to contain_manila_config('oslo_messaging_amqp/sasl_config_name').with_value('<SERVICE DEFAULT>')} it { is_expected.to contain_manila_config('oslo_messaging_amqp/username').with_value('<SERVICE DEFAULT>')} it { is_expected.to contain_manila_config('oslo_messaging_amqp/password').with_value('<SERVICE DEFAULT>')}",47,65
openstack%2Fpuppet-murano~master~I4e17457d06c19a6ef27a72693589387950144592,openstack/puppet-murano,master,I4e17457d06c19a6ef27a72693589387950144592,Avoid testing details of oslo::db,MERGED,2022-01-21 10:59:18.000000000,2022-01-21 21:48:40.000000000,2022-01-21 21:48:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 10:59:18.000000000', 'files': ['spec/classes/murano_db_cfapi_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/a125465329d09bfd5062a30ee909ca6ce08e57a0', 'message': 'Avoid testing details of oslo::db\n\nChange-Id: I4e17457d06c19a6ef27a72693589387950144592\n'}]",0,825757,a125465329d09bfd5062a30ee909ca6ce08e57a0,7,3,1,9816,,,0,"Avoid testing details of oslo::db

Change-Id: I4e17457d06c19a6ef27a72693589387950144592
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/57/825757/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/murano_db_cfapi_spec.rb'],1,a125465329d09bfd5062a30ee909ca6ce08e57a0,, it { is_expected.to_not contain_oslo__db('murano_cfapi_config') }, it { is_expected.to_not contain_murano_cfapi_config('database/connection') } it { is_expected.to_not contain_murano_cfapi_config('database/idle_timeout') } it { is_expected.to_not contain_murano_cfapi_config('database/max_retries') } it { is_expected.to_not contain_murano_cfapi_config('database/retry_interval') } it { is_expected.to_not contain_murano_cfapi_config('database/max_pool_size') } it { is_expected.to_not contain_murano_cfapi_config('database/max_overflow') } it { is_expected.to_not contain_murano_cfapi_config('database/db_max_retries') },1,7
openstack%2Fopenstack-helm-images~master~Id959c942421a8fcd94ca9cdf15584e0a8dead74b,openstack/openstack-helm-images,master,Id959c942421a8fcd94ca9cdf15584e0a8dead74b,[test],ABANDONED,2021-10-12 05:25:26.000000000,2022-01-21 21:38:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-12 05:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9c6f93e5c0c5faf8e7c790a092e269a2e5f17e37', 'message': '[test]\n\nChange-Id: Id959c942421a8fcd94ca9cdf15584e0a8dead74b\n'}, {'number': 2, 'created': '2021-10-12 05:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ec5e0df671e326a7132cfb90f2e277df07211760', 'message': '[test]\n\nDepends-On: https://review.opendev.org/813574\nChange-Id: Id959c942421a8fcd94ca9cdf15584e0a8dead74b\n'}, {'number': 3, 'created': '2021-10-12 21:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/74f87d61a2829b485128c7e00f27fc73a1639939', 'message': '[test]\n\nDepends-On: https://review.opendev.org/813709\nChange-Id: Id959c942421a8fcd94ca9cdf15584e0a8dead74b\n'}, {'number': 4, 'created': '2021-10-14 14:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/b5e9a5ad896e304af990f4cb227eb6ae704cf2e0', 'message': '[test]\n\nDepends-On: https://review.opendev.org/813709\nChange-Id: Id959c942421a8fcd94ca9cdf15584e0a8dead74b\n'}, {'number': 5, 'created': '2021-10-26 16:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e9320a6c87bbc146e7fc2a011bf7423bdfc2fb41', 'message': '[test]\n\nDepends-On: https://review.opendev.org/813709\nChange-Id: Id959c942421a8fcd94ca9cdf15584e0a8dead74b\n'}]",5,813575,e9320a6c87bbc146e7fc2a011bf7423bdfc2fb41,21,1,5,8863,,,0,"[test]

Depends-On: https://review.opendev.org/813709
Change-Id: Id959c942421a8fcd94ca9cdf15584e0a8dead74b
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/75/813575/3 && git format-patch -1 --stdout FETCH_HEAD,[],0,9c6f93e5c0c5faf8e7c790a092e269a2e5f17e37,,,,0,0
openstack%2Fetcd3gw~master~I7aea549823a8313add284b635a88fd9fe0b50b03,openstack/etcd3gw,master,I7aea549823a8313add284b635a88fd9fe0b50b03,Add user/password authentication,ABANDONED,2021-04-12 21:28:33.000000000,2022-01-21 21:21:24.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-12 21:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/0efb18480ac43d98c4882a2d37debb4ed75347a2', 'message': 'Add user/password authentication\n\nThis change adds the ability to specify a user and password when setting\nup the client. An authentication token is fetched when the client is\nstarted that is used for future requests.\n\nChange-Id: I7aea549823a8313add284b635a88fd9fe0b50b03\n'}, {'number': 2, 'created': '2021-04-13 14:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/6751519954204419a24805525afe71c3236aa730', 'message': 'Add user/password authentication\n\nThis change adds the ability to specify a user and password when setting\nup the client. An authentication token is fetched when the client is\nstarted that is used for future requests.\n\nChange-Id: I7aea549823a8313add284b635a88fd9fe0b50b03\n'}, {'number': 3, 'created': '2021-04-13 14:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/f7c34ac1b03b65efaecac7e7a7ff54c13ce5e16c', 'message': 'Add user/password authentication\n\nThis change adds the ability to specify a user and password when setting\nup the client. An authentication token is fetched when the client is\nstarted that is used for future requests.\n\nChange-Id: I7aea549823a8313add284b635a88fd9fe0b50b03\n'}, {'number': 4, 'created': '2021-04-13 15:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/50c3a69922822df2618c88fc6a255e6bbc7d546d', 'message': 'Add user/password authentication\n\nThis change adds the ability to specify a user and password when setting\nup the client. An authentication token is fetched when the client is\nstarted that is used for future requests.\n\nChange-Id: I7aea549823a8313add284b635a88fd9fe0b50b03\n'}, {'number': 5, 'created': '2021-04-15 20:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/59a7fd93935f8748ae60700b7ecbcfb3c1e24870', 'message': 'Add user/password authentication\n\nThis change adds the ability to specify a user and password when setting\nup the client. An authentication token is attempt at request time.\n\nChange-Id: I7aea549823a8313add284b635a88fd9fe0b50b03\n'}, {'number': 6, 'created': '2021-04-16 14:12:24.000000000', 'files': ['releasenotes/notes/add-user-password-authentication-4a80c91cafe1e94d.yaml', 'etcd3gw/exceptions.py', 'etcd3gw/tests/test_client.py', 'etcd3gw/client.py'], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/81525aa9216ccba7aad0a8d724b79178ff1fc502', 'message': 'Add user/password authentication\n\nThis change adds the ability to specify a user and password when setting\nup the client. An authentication token is attempt at request time.\n\nChange-Id: I7aea549823a8313add284b635a88fd9fe0b50b03\n'}]",16,785978,81525aa9216ccba7aad0a8d724b79178ff1fc502,18,3,6,14985,,,0,"Add user/password authentication

This change adds the ability to specify a user and password when setting
up the client. An authentication token is attempt at request time.

Change-Id: I7aea549823a8313add284b635a88fd9fe0b50b03
",git fetch https://review.opendev.org/openstack/etcd3gw refs/changes/78/785978/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-user-password-authentication-4a80c91cafe1e94d.yaml', 'etcd3gw/exceptions.py', 'etcd3gw/tests/test_client.py', 'etcd3gw/client.py']",4,0efb18480ac43d98c4882a2d37debb4ed75347a2,authentication," api_path='/v3alpha/', username=None, password=None): self.username = username self.password = password self.token = None if username: self.authenticate() def authenticate(self): self.token = None payload = { ""name"": self.username, ""password"": self.password } delattr(self.session, 'auth') try: resp = self.post(self.get_url('/auth/authenticate'), json=payload) except Exception as e: raise exceptions.AuthenticationFailedError( 'Unable to fetch auth token', 'Auth failed') from e self.token = self.TokenAuth(resp.get('token', None)) setattr(self.session, 'auth', self.token) class TokenAuth: def __init__(self, token): self.token = token def __call__(self, r): r.headers['Authorization'] = self.token return r timeout=None, protocol=""http"", username=None, password=None): protocol=protocol, username=username, password=password)"," api_path='/v3alpha/'): timeout=None, protocol=""http""): protocol=protocol)",77,3
openstack%2Ftripleo-heat-templates~master~I6a00843a6d37dc454bd9206852f3e4e773ceaf26,openstack/tripleo-heat-templates,master,I6a00843a6d37dc454bd9206852f3e4e773ceaf26,[DNM] Troubleshooting ntp & ipa stuff,ABANDONED,2022-01-10 22:01:48.000000000,2022-01-21 21:20:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-10 22:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fff01196f43d7216cb5a895169ed998a8a24788b', 'message': '[DNM] Troubleshooting ntp & ipa stuff\n\nChange-Id: I6a00843a6d37dc454bd9206852f3e4e773ceaf26\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/824067\n'}, {'number': 2, 'created': '2022-01-11 16:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd7e2ae3f7fc2f63d1636837e3138c0a2ce55a14', 'message': '[DNM] Troubleshooting ntp & ipa stuff\n\nChange-Id: I6a00843a6d37dc454bd9206852f3e4e773ceaf26\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/824067\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/824208\n'}, {'number': 3, 'created': '2022-01-11 23:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb892f56e1f024f024c9c6e5da8c5e0b7585eca1', 'message': '[DNM] Troubleshooting ntp & ipa stuff\n\nChange-Id: I6a00843a6d37dc454bd9206852f3e4e773ceaf26\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/824248/\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/824208\n'}, {'number': 4, 'created': '2022-01-13 22:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df42ed02ee1c512e5a16bd31140517df6ab6853e', 'message': '[DNM] Troubleshooting ntp & ipa stuff\n\nChange-Id: I6a00843a6d37dc454bd9206852f3e4e773ceaf26\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/824635\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/824248/\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/824208\n'}, {'number': 5, 'created': '2022-01-18 15:47:06.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d28f7d75a40ca9358d4f2c303973e5242d4dbef2', 'message': '[DNM] Troubleshooting ntp & ipa stuff\n\nChange-Id: I6a00843a6d37dc454bd9206852f3e4e773ceaf26\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/824635\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/824996\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/824208\n'}]",14,824069,d28f7d75a40ca9358d4f2c303973e5242d4dbef2,55,2,5,14985,,,0,"[DNM] Troubleshooting ntp & ipa stuff

Change-Id: I6a00843a6d37dc454bd9206852f3e4e773ceaf26
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/824635
Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/824996
Depends-On: https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/824208
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/824069/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/timesync/chrony-baremetal-ansible.yaml', 'zuul.d/layout.yaml']",2,fff01196f43d7216cb5a895169ed998a8a24788b,bug/1955414, #- tripleo-undercloud-jobs-pipeline #- tripleo-multinode-container-minimal-pipeline #- tripleo-standalone-scenarios-pipeline #- tripleo-upgrades-master-pipeline #- tripleo-periodic-upgrades-master-pipeline, - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-minimal-pipeline - tripleo-standalone-scenarios-pipeline - tripleo-upgrades-master-pipeline - tripleo-periodic-upgrades-master-pipeline,11,5
openstack%2Ftripleo-heat-templates~master~I42044c51e33a44d2907a2a8d0636210f959c77b3,openstack/tripleo-heat-templates,master,I42044c51e33a44d2907a2a8d0636210f959c77b3,[DNM] ansible-role-chrony testing,ABANDONED,2022-01-17 18:56:53.000000000,2022-01-21 21:20:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-17 18:56:53.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09c9865a170a57edcc4465904879ab3200586849', 'message': '[DNM] ansible-role-chrony testing\n\nChange-Id: I42044c51e33a44d2907a2a8d0636210f959c77b3\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-chrony/+/825002\n'}]",4,825003,09c9865a170a57edcc4465904879ab3200586849,14,2,1,14985,,,0,"[DNM] ansible-role-chrony testing

Change-Id: I42044c51e33a44d2907a2a8d0636210f959c77b3
Depends-On: https://review.opendev.org/c/openstack/ansible-role-chrony/+/825002
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/825003/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/timesync/chrony-baremetal-ansible.yaml'],1,09c9865a170a57edcc4465904879ab3200586849,chrony-testing, and configure chronyd. # testing, and configure chronyd.,1,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Id27dba9fc2f36e9eeff09cce57e9153c74d2a392,openstack/tripleo-heat-templates,stable/victoria,Id27dba9fc2f36e9eeff09cce57e9153c74d2a392,Force chrony sources online,ABANDONED,2022-01-17 15:47:14.000000000,2022-01-21 21:20:10.000000000,,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-01-17 15:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba3e8861064ba9507d02b8eacdf4d3d145061d0a', 'message': ""Force chrony sources online\n\nNetworkManager can invoke onoffline which may offline the sources.\nDuring the deployment let's force the sources online prior to waiting\nfor them to sync.\n\nChange-Id: Id27dba9fc2f36e9eeff09cce57e9153c74d2a392\nRelated-Bug: #1958116\n""}, {'number': 2, 'created': '2022-01-17 17:26:09.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58b3897fba9fe1f5a7d9811f77858378192c994a', 'message': ""Force chrony sources online\n\nNetworkManager can invoke onoffline which may offline the sources.\nDuring the deployment let's force the sources online prior to waiting\nfor them to sync.\n\nChange-Id: Id27dba9fc2f36e9eeff09cce57e9153c74d2a392\nRelated-Bug: #1958116\n""}]",2,824954,58b3897fba9fe1f5a7d9811f77858378192c994a,12,6,2,14985,,,0,"Force chrony sources online

NetworkManager can invoke onoffline which may offline the sources.
During the deployment let's force the sources online prior to waiting
for them to sync.

Change-Id: Id27dba9fc2f36e9eeff09cce57e9153c74d2a392
Related-Bug: #1958116
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/824954/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/timesync/chrony-baremetal-ansible.yaml'],1,ba3e8861064ba9507d02b8eacdf4d3d145061d0a,bug/1958116-stable/victoria, - name: Force chrony online comand: chronyc online,,2,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id27dba9fc2f36e9eeff09cce57e9153c74d2a392,openstack/tripleo-heat-templates,stable/wallaby,Id27dba9fc2f36e9eeff09cce57e9153c74d2a392,Force chrony sources online,ABANDONED,2022-01-17 15:47:02.000000000,2022-01-21 21:20:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-17 15:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebb2a6ffab6316a46c9e4e251e4f8a6410843817', 'message': ""Force chrony sources online\n\nNetworkManager can invoke onoffline which may offline the sources.\nDuring the deployment let's force the sources online prior to waiting\nfor them to sync.\n\nChange-Id: Id27dba9fc2f36e9eeff09cce57e9153c74d2a392\nRelated-Bug: #1958116\n""}, {'number': 2, 'created': '2022-01-17 17:25:59.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7618db21fa958f190113c709491ab88fca1d532c', 'message': ""Force chrony sources online\n\nNetworkManager can invoke onoffline which may offline the sources.\nDuring the deployment let's force the sources online prior to waiting\nfor them to sync.\n\nChange-Id: Id27dba9fc2f36e9eeff09cce57e9153c74d2a392\nRelated-Bug: #1958116\n""}]",0,824953,7618db21fa958f190113c709491ab88fca1d532c,5,2,2,14985,,,0,"Force chrony sources online

NetworkManager can invoke onoffline which may offline the sources.
During the deployment let's force the sources online prior to waiting
for them to sync.

Change-Id: Id27dba9fc2f36e9eeff09cce57e9153c74d2a392
Related-Bug: #1958116
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/824953/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/timesync/chrony-baremetal-ansible.yaml'],1,ebb2a6ffab6316a46c9e4e251e4f8a6410843817,bug/1958116-stable/wallaby, - name: Force chrony online comand: chronyc online,,2,0
openstack%2Ftripleo-ci~master~I78340a3ddbb86b0d6bf192fc84d755c4fc3b31c6,openstack/tripleo-ci,master,I78340a3ddbb86b0d6bf192fc84d755c4fc3b31c6,[WIP] Allow swap size to be configurable on a job basis,ABANDONED,2022-01-07 20:14:47.000000000,2022-01-21 21:19:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-07 20:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6d0ebc2287f77a43d50efb17f929a4d91ffd19c3', 'message': '[WIP] Allow swap size to be configurable on a job basis\n\nChange-Id: I78340a3ddbb86b0d6bf192fc84d755c4fc3b31c6\n'}, {'number': 2, 'created': '2022-01-07 20:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0d4227d883fa29ef42cec548c61621cf9a57a55d', 'message': '[WIP] Allow swap size to be configurable on a job basis\n\nChange-Id: I78340a3ddbb86b0d6bf192fc84d755c4fc3b31c6\n'}, {'number': 3, 'created': '2022-01-07 21:08:38.000000000', 'files': ['roles/prepare-node/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/279628a7a561f755a13e0262fab29828eb678601', 'message': '[WIP] Allow swap size to be configurable on a job basis\n\nChange-Id: I78340a3ddbb86b0d6bf192fc84d755c4fc3b31c6\n'}]",0,823864,279628a7a561f755a13e0262fab29828eb678601,7,2,3,14985,,,0,"[WIP] Allow swap size to be configurable on a job basis

Change-Id: I78340a3ddbb86b0d6bf192fc84d755c4fc3b31c6
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/64/823864/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/prepare-node/tasks/main.yaml'],1,6d0ebc2287f77a43d50efb17f929a4d91ffd19c3,less-swap," configure_swap_size: ""{{ job.configure_swap_size|default(8192) }}""", configure_swap_size: 8192,1,1
openstack%2Fpython-tripleoclient~master~Ib96b732bd5013c831d67be4b2628bf06db703756,openstack/python-tripleoclient,master,Ib96b732bd5013c831d67be4b2628bf06db703756,Import task core into tripleoclient,ABANDONED,2021-06-15 19:37:21.000000000,2022-01-21 21:18:45.000000000,,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 19:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0907180a6969e77ac4b9b07492c3671197156952', 'message': '[WIP] Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 2, 'created': '2021-06-15 19:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/344615e0e99854443c5f97ed60b3c1c8fcb573b5', 'message': '[WIP] Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 3, 'created': '2021-06-15 20:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7b4a1596e079017d7e3143f5297a18065ad4bbca', 'message': '[WIP] Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 4, 'created': '2021-10-05 16:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/72e9607be291a552812b1e79c57eaa2af16a63b4', 'message': '[WIP] Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 5, 'created': '2021-10-05 16:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1e484fcf6587c20a73c9754fd4d5f8494395cd7e', 'message': '[WIP] Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 6, 'created': '2021-10-05 16:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7ee6986023fbdc36451c4a03ba5219c63ecbce6b', 'message': '[WIP] Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 7, 'created': '2021-10-05 16:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/aaac2833d1eda7ac8b7cdf65de7037a6434c4d01', 'message': '[WIP] Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 8, 'created': '2021-10-05 18:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6183e410e558ddc6410b33ff2bceb0a53284cb23', 'message': '[WIP] Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 9, 'created': '2021-10-05 18:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a832709c7145e584ae820f8e89fec734b77c2c02', 'message': '[WIP] Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 10, 'created': '2021-10-05 20:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e192af1f4e8b8654461ff07f049569f29869fd0d', 'message': '[WIP] Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/796533\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 11, 'created': '2021-10-05 20:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1c2c46229974b806fb9df6353a26750caa9ae344', 'message': '[WIP] Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nDepends-On: https://review.rdoproject.org/r/c/openstack/tripleoclient-distgit/+/35995\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 12, 'created': '2021-10-18 20:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/77cbb9d1063dae932996ec0c0b8d6e00afe8c402', 'message': '[WIP] Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nDepends-On: https://review.rdoproject.org/r/c/openstack/tripleoclient-distgit/+/35995\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 13, 'created': '2021-10-26 21:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a3bbc4f0c83d7ebaa20604c05600715bc27e091b', 'message': '[WIP] Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nRelated: https://review.rdoproject.org/r/c/openstack/tripleoclient-distgit/+/35995\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 14, 'created': '2021-10-28 20:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cf6017494f9ddaf235504d046fe7fe935e2d5cbc', 'message': 'Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nRelated: https://review.rdoproject.org/r/c/openstack/tripleoclient-distgit/+/35995\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 15, 'created': '2021-10-28 20:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/52e842f3641f8d80327c79ab597f115540d4e44a', 'message': 'Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nRelated: https://review.rdoproject.org/r/c/openstack/tripleoclient-distgit/+/35995\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 16, 'created': '2021-10-28 21:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a179a012c0b0c3c11eeb306189bfe002be84a038', 'message': 'Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nRelated: https://review.rdoproject.org/r/c/openstack/tripleoclient-distgit/+/35995\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 17, 'created': '2021-10-28 22:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a3a9d44bb10436986ab25519195fc2332c9cdf7d', 'message': 'Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/798747\nRelated: https://review.rdoproject.org/r/c/openstack/tripleoclient-distgit/+/35995\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 18, 'created': '2021-10-28 22:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8a9211314af1f0ea2481cac5479b5368e93cea79', 'message': 'Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/798747\nRelated: https://review.rdoproject.org/r/c/openstack/tripleoclient-distgit/+/35995\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 19, 'created': '2021-10-29 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3781f6dac2251e0bcd118aeeb21111431b1742b4', 'message': 'Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/798747\nDepends-On: https://review.rdoproject.org/r/c/openstack/tripleoclient-distgit/+/35995\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 20, 'created': '2021-10-29 20:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/821cdb6e0fdb883c42a918f8b5c7aade26ae1a50', 'message': 'Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/798747\nDepends-On: https://review.rdoproject.org/r/c/openstack/tripleoclient-distgit/+/35995\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 21, 'created': '2021-11-01 20:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f354166c6834a50c4999ee58585fbe7943f3eefd', 'message': 'Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/798747\nDepends-On: https://review.rdoproject.org/r/c/openstack/tripleoclient-distgit/+/35995\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}, {'number': 22, 'created': '2021-12-13 18:00:58.000000000', 'files': ['schema/roles.yaml', 'tripleoclient/tests/task_core/test_base.py', 'tripleoclient/tests/task_core/__init__.py', 'tripleoclient/tests/task_core/test_schema.py', 'tripleoclient/task_core/service.py', 'requirements.txt', 'contrib/example-tools/deployed2ansible.py', 'tripleoclient/task_core/logging.py', 'tripleoclient/tests/task_core/test_tasks.py', 'optional-requirements.txt', 'contrib/example-tools/directord2ansible.py', 'tripleoclient/task_core/tasks.py', 'tripleoclient/tests/task_core/test_utils.py', 'tripleoclient/task_core/__init__.py', 'schema/service.yaml', 'tripleoclient/tests/task_core/test_manager.py', 'tripleoclient/tests/task_core/test_inventory.py', 'tripleoclient/tests/task_core/test_service.py', 'tripleoclient/task_core/inventory.py', 'tripleoclient/task_core/schema.py', 'schema/inventory.yaml', 'tripleoclient/task_core/cmd.py', 'tripleoclient/task_core/exceptions.py', 'tripleoclient/task_core/utils.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/task_core/manager.py', 'tripleoclient/task_core/base.py', 'contrib/example-tools/deployed2directord.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4fee39544f4d0fe912c168d11e642aee52d7381e', 'message': 'Import task core into tripleoclient\n\nPull in task-core to build out support for using it instead of ansible\nrunner directly.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/798747\nDepends-On: https://review.rdoproject.org/r/c/openstack/tripleoclient-distgit/+/35995\nChange-Id: Ib96b732bd5013c831d67be4b2628bf06db703756\n'}]",13,796533,4fee39544f4d0fe912c168d11e642aee52d7381e,54,3,22,14985,,,0,"Import task core into tripleoclient

Pull in task-core to build out support for using it instead of ansible
runner directly.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/798747
Depends-On: https://review.rdoproject.org/r/c/openstack/tripleoclient-distgit/+/35995
Change-Id: Ib96b732bd5013c831d67be4b2628bf06db703756
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/33/796533/10 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/task_core/__init__.py', 'schema/roles.yaml', 'schema/service.yaml', 'tripleoclient/tests/task_core/test_base.py', 'tripleoclient/tests/task_core/test_inventory.py', 'tripleoclient/tests/task_core/test_service.py', 'tripleoclient/task_core/inventory.py', 'tripleoclient/task_core/schema.py', 'tripleoclient/tests/task_core/__init__.py', 'schema/inventory.yaml', 'tripleoclient/task_core/cmd.py', 'tripleoclient/tests/task_core/test_schema.py', 'tripleoclient/task_core/exceptions.py', 'tripleoclient/task_core/service.py', 'requirements.txt', 'tripleoclient/task_core/base.py', 'tripleoclient/tests/task_core/test_tasks.py', 'tripleoclient/task_core/tasks.py', 'setup.cfg']",19,0907180a6969e77ac4b9b07492c3671197156952,bp/unified-orchestration, share/python-tripleoclient/templates = templates/* share/python-tripleoclient/schema = schema/*console_scripts = task-core = tripleoclient.task_core.cmd:main task-core-example = tripleoclient.task_core.cmd:example task_core.task.types = service = tripleoclient.task_core.tasks:ServiceTask directord = tripleoclient.task_core.tasks:DirectordTask print = tripleoclient.task_core.tasks:PrintTask ansible_runner = tripleoclient.task_core.tasks:AnsibleRunnerTask , share/python-tripleoclient/templates = templates/*,1631,1
openstack%2Fpython-tripleoclient~master~I686d26da82cdcad90b814a998f24e1e3c4370ea0,openstack/python-tripleoclient,master,I686d26da82cdcad90b814a998f24e1e3c4370ea0,Use task-core for tripleo deploy,ABANDONED,2021-10-28 20:20:48.000000000,2022-01-21 21:18:37.000000000,,"[{'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-28 20:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2c70837d078c9fa06f600b7f38f6b3c3366893f3', 'message': 'Use task-core for tripleo deploy\n\nThis change swaps out the deployment execution to use task-core instead\nof ansible-runner for just the deployment actions.\n\nChange-Id: I686d26da82cdcad90b814a998f24e1e3c4370ea0\n'}, {'number': 2, 'created': '2021-10-28 20:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f7ad4f0559abb777d9ed5de66de04550adc76b38', 'message': 'Use task-core for tripleo deploy\n\nThis change swaps out the deployment execution to use task-core instead\nof ansible-runner for just the deployment actions.\n\nChange-Id: I686d26da82cdcad90b814a998f24e1e3c4370ea0\n'}, {'number': 3, 'created': '2021-10-28 21:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/23a0df28549ca087c538c83d60f9d16b66dbd552', 'message': 'Use task-core for tripleo deploy\n\nThis change swaps out the deployment execution to use task-core instead\nof ansible-runner for just the deployment actions.\n\nChange-Id: I686d26da82cdcad90b814a998f24e1e3c4370ea0\n'}, {'number': 4, 'created': '2021-10-28 21:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/34a7fc94a906b761a7ad19548f67c33b9354b0ba', 'message': 'Use task-core for tripleo deploy\n\nThis change swaps out the deployment execution to use task-core instead\nof ansible-runner for just the deployment actions.\n\nThis change also moves the logging level of the standalone output to\nINFO (previously >=WARN)\n\nChange-Id: I686d26da82cdcad90b814a998f24e1e3c4370ea0\n'}, {'number': 5, 'created': '2021-10-28 22:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c3e779120f040d647cde7336c89478dc6e9cfba9', 'message': 'Use task-core for tripleo deploy\n\nThis change swaps out the deployment execution to use task-core instead\nof ansible-runner for just the deployment actions.\n\nChange-Id: I686d26da82cdcad90b814a998f24e1e3c4370ea0\n'}, {'number': 6, 'created': '2021-10-28 22:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8f498701ae1ed5c003be2af52c639dd927abca19', 'message': 'Use task-core for tripleo deploy\n\nThis change swaps out the deployment execution to use task-core instead\nof ansible-runner for just the deployment actions.\n\nChange-Id: I686d26da82cdcad90b814a998f24e1e3c4370ea0\n'}, {'number': 7, 'created': '2021-10-28 22:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ce2f77f52906addd683ecd40c849d7b45c00f99a', 'message': 'Use task-core for tripleo deploy\n\nThis change swaps out the deployment execution to use task-core instead\nof ansible-runner for just the deployment actions.\n\nChange-Id: I686d26da82cdcad90b814a998f24e1e3c4370ea0\n'}, {'number': 8, 'created': '2021-10-28 22:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d73376b08ea2554e209a91031bb6000bcd85452b', 'message': 'Use task-core for tripleo deploy\n\nThis change swaps out the deployment execution to use task-core instead\nof ansible-runner for just the deployment actions.\n\nChange-Id: I686d26da82cdcad90b814a998f24e1e3c4370ea0\n'}, {'number': 9, 'created': '2021-10-29 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6d00f62063c789a12782bf2ffde4853bbd92a5d6', 'message': 'Use task-core for tripleo deploy\n\nThis change swaps out the deployment execution to use task-core instead\nof ansible-runner for just the deployment actions.\n\nChange-Id: I686d26da82cdcad90b814a998f24e1e3c4370ea0\n'}, {'number': 10, 'created': '2021-10-29 20:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e8acc5558879c2d789747a471990b92c8f2db75f', 'message': 'Use task-core for tripleo deploy\n\nThis change swaps out the deployment execution to use task-core instead\nof ansible-runner for just the deployment actions.\n\nChange-Id: I686d26da82cdcad90b814a998f24e1e3c4370ea0\n'}, {'number': 11, 'created': '2021-11-01 20:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/79def5abb947708192231aa793b16ac9b4619364', 'message': 'Use task-core for tripleo deploy\n\nThis change swaps out the deployment execution to use task-core instead\nof ansible-runner for just the deployment actions.\n\nChange-Id: I686d26da82cdcad90b814a998f24e1e3c4370ea0\n'}, {'number': 12, 'created': '2021-12-13 18:00:58.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/task_core/tasks.py', 'setup.cfg', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/50c9228f47be8d25876a1eac05520a43d642f327', 'message': 'Use task-core for tripleo deploy\n\nThis change swaps out the deployment execution to use task-core instead\nof ansible-runner for just the deployment actions.\n\nChange-Id: I686d26da82cdcad90b814a998f24e1e3c4370ea0\n'}]",7,815905,50c9228f47be8d25876a1eac05520a43d642f327,32,3,12,14985,,,0,"Use task-core for tripleo deploy

This change swaps out the deployment execution to use task-core instead
of ansible-runner for just the deployment actions.

Change-Id: I686d26da82cdcad90b814a998f24e1e3c4370ea0
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/05/815905/12 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'setup.cfg', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",5,2c70837d078c9fa06f600b7f38f6b3c3366893f3,bp/unified-orchestration," @mock.patch('tripleoclient.utils.run_task_core', autospec=True) mock_run_prepare, mock_task_core): mock_task_core.assert_called_once_with('/foo', 'undercloud')", mock_run_prepare):,65,12
openstack%2Fpython-tripleoclient~master~I5199019d782e2e8dfd65e9425b66db89b5c09a1e,openstack/python-tripleoclient,master,I5199019d782e2e8dfd65e9425b66db89b5c09a1e,Create code to provide deployer host info to deployment,ABANDONED,2021-10-18 20:04:36.000000000,2022-01-21 21:18:33.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-18 20:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/79dba5e99e5f816da8b0d56fb0c940d5386375b0', 'message': '[WIP] Create code to provide deployer host info to deployment\n\nChange-Id: I5199019d782e2e8dfd65e9425b66db89b5c09a1e\n'}, {'number': 2, 'created': '2021-10-26 19:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ba7a119555d54c1fe11c04ee783167e4688b7353', 'message': 'Create code to provide deployer host info to deployment\n\nAdd a utility to get the deployment host information for usage with\ntask-core. The DeployHost var is used by THT to pass information to the\nconfig-download process. This data is used to generate the\ndirectord/task-core inventories.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/798747\nRelated-Blueprint: unified-orchestration\nChange-Id: I5199019d782e2e8dfd65e9425b66db89b5c09a1e\n'}, {'number': 3, 'created': '2021-10-28 22:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ffae2faeaac7e0845c6a255e1b379f4fafba46bd', 'message': 'Create code to provide deployer host info to deployment\n\nAdd a utility to get the deployment host information for usage with\ntask-core. The DeployHost var is used by THT to pass information to the\nconfig-download process. This data is used to generate the\ndirectord/task-core inventories.\n\nRelated-Blueprint: unified-orchestration\nChange-Id: I5199019d782e2e8dfd65e9425b66db89b5c09a1e\n'}, {'number': 4, 'created': '2021-10-28 22:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/15c89fe224f408ae6ca9cfb9000e48e2269f1854', 'message': 'Create code to provide deployer host info to deployment\n\nAdd a utility to get the deployment host information for usage with\ntask-core. The DeployHost var is used by THT to pass information to the\nconfig-download process. This data is used to generate the\ndirectord/task-core inventories.\n\nRelated-Blueprint: unified-orchestration\nChange-Id: I5199019d782e2e8dfd65e9425b66db89b5c09a1e\n'}, {'number': 5, 'created': '2021-10-29 13:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/732dcd2a60e61fd34cd33c89ffeec8d24ec55603', 'message': 'Create code to provide deployer host info to deployment\n\nAdd a utility to get the deployment host information for usage with\ntask-core. The DeployHost var is used by THT to pass information to the\nconfig-download process. This data is used to generate the\ndirectord/task-core inventories.\n\nRelated-Blueprint: unified-orchestration\nChange-Id: I5199019d782e2e8dfd65e9425b66db89b5c09a1e\n'}, {'number': 6, 'created': '2021-10-29 20:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e7b56116a4a6d293e63ad99e5ba373cae6c8d6cb', 'message': 'Create code to provide deployer host info to deployment\n\nAdd a utility to get the deployment host information for usage with\ntask-core. The DeployHost var is used by THT to pass information to the\nconfig-download process. This data is used to generate the\ndirectord/task-core inventories.\n\nRelated-Blueprint: unified-orchestration\nChange-Id: I5199019d782e2e8dfd65e9425b66db89b5c09a1e\n'}, {'number': 7, 'created': '2021-11-01 20:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/03be42a790365db254cb352e34c07c85d7bbb176', 'message': 'Create code to provide deployer host info to deployment\n\nAdd a utility to get the deployment host information for usage with\ntask-core. The DeployHost var is used by THT to pass information to the\nconfig-download process. This data is used to generate the\ndirectord/task-core inventories.\n\nRelated-Blueprint: unified-orchestration\nChange-Id: I5199019d782e2e8dfd65e9425b66db89b5c09a1e\n'}, {'number': 8, 'created': '2021-12-13 18:00:58.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/192810af04a3a50d9a8640b9393d8ef46fe79055', 'message': 'Create code to provide deployer host info to deployment\n\nAdd a utility to get the deployment host information for usage with\ntask-core. The DeployHost var is used by THT to pass information to the\nconfig-download process. This data is used to generate the\ndirectord/task-core inventories.\n\nRelated-Blueprint: unified-orchestration\nChange-Id: I5199019d782e2e8dfd65e9425b66db89b5c09a1e\n'}]",2,814492,192810af04a3a50d9a8640b9393d8ef46fe79055,26,2,8,14985,,,0,"Create code to provide deployer host info to deployment

Add a utility to get the deployment host information for usage with
task-core. The DeployHost var is used by THT to pass information to the
config-download process. This data is used to generate the
directord/task-core inventories.

Related-Blueprint: unified-orchestration
Change-Id: I5199019d782e2e8dfd65e9425b66db89b5c09a1e
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/92/814492/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,79dba5e99e5f816da8b0d56fb0c940d5386375b0,bp/unified-orchestration,"def get_hosts_entry(hostname): cmd = ['getent', 'hosts', hostname] process = subprocess.Popen(cmd, stdout=subprocess.PIPE, universal_newlines=True) out, err = process.communicate() if process.returncode != 0: raise exceptions.DeploymentError('No entry for %s in /etc/hosts' % hostname) return out out = get_hosts_entry(ctlplane_hostname) def generate_deployer_host_data(hostname=None, overrides=None): if not hostname: # if no hostname provided, assume shortname.ctlplane hostname = '.'.join([get_short_hostname(), 'ctlplane']) out = get_hosts_entry(hostname) entry = cleanup_host_entry(out) deploy_addr = entry.split(' ')[0] deploy_host = hostname.split('.')[0] data = { 'DeployHost': { 'hostname': deploy_host, 'ip': deploy_addr, } } return data"," cmd = ['getent', 'hosts', ctlplane_hostname] process = subprocess.Popen(cmd, stdout=subprocess.PIPE, universal_newlines=True) out, err = process.communicate() if process.returncode != 0: raise exceptions.DeploymentError('No entry for %s in /etc/hosts' % ctlplane_hostname)",32,7
openstack%2Fpython-tripleoclient~master~Id355052cc3a557c00e852d7d0fd2cebe2e075098,openstack/python-tripleoclient,master,Id355052cc3a557c00e852d7d0fd2cebe2e075098,Use task-core for overcloud deploy,ABANDONED,2021-11-01 19:26:42.000000000,2022-01-21 21:18:30.000000000,,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-01 19:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b890ece8e697d20e8fe9b5a4be2cb0be8223d699', 'message': 'Use task-core for overcloud deploy\n\nThis change swaps out the deploy playbook exeuction for a task-core run\ninstead.\n\nChange-Id: Id355052cc3a557c00e852d7d0fd2cebe2e075098\nRelated-Blueprint: unified-orchestration\n'}, {'number': 2, 'created': '2021-11-01 20:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/95b3ef70ae178dfd9f099886cff53ad443fcab92', 'message': 'Use task-core for overcloud deploy\n\nThis change swaps out the deploy playbook exeuction for a task-core run\ninstead.\n\nChange-Id: Id355052cc3a557c00e852d7d0fd2cebe2e075098\nRelated-Blueprint: unified-orchestration\n'}, {'number': 3, 'created': '2021-11-01 20:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1061c132e99584f50052c5746402d4336a64dd0a', 'message': 'Use task-core for overcloud deploy\n\nThis change swaps out the deploy playbook exeuction for a task-core run\ninstead.\n\nChange-Id: Id355052cc3a557c00e852d7d0fd2cebe2e075098\nRelated-Blueprint: unified-orchestration\n'}, {'number': 4, 'created': '2021-11-01 21:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/008be875e982263e32aaf6c89e12ffea97fcc4de', 'message': 'Use task-core for overcloud deploy\n\nThis change swaps out the deploy playbook exeuction for a task-core run\ninstead.\n\nChange-Id: Id355052cc3a557c00e852d7d0fd2cebe2e075098\nRelated-Blueprint: unified-orchestration\n'}, {'number': 5, 'created': '2021-11-01 21:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7218b4e4392c15d15e5406e9f38906a0e6894480', 'message': 'Use task-core for overcloud deploy\n\nThis change swaps out the deploy playbook exeuction for a task-core run\ninstead.\n\nChange-Id: Id355052cc3a557c00e852d7d0fd2cebe2e075098\nRelated-Blueprint: unified-orchestration\n'}, {'number': 6, 'created': '2021-12-13 18:00:58.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e82e556b7a31110a53dc34167454a5e9ad4b8007', 'message': 'Use task-core for overcloud deploy\n\nThis change swaps out the deploy playbook exeuction for a task-core run\ninstead.\n\nChange-Id: Id355052cc3a557c00e852d7d0fd2cebe2e075098\nRelated-Blueprint: unified-orchestration\n'}]",0,816204,e82e556b7a31110a53dc34167454a5e9ad4b8007,13,3,6,14985,,,0,"Use task-core for overcloud deploy

This change swaps out the deploy playbook exeuction for a task-core run
instead.

Change-Id: Id355052cc3a557c00e852d7d0fd2cebe2e075098
Related-Blueprint: unified-orchestration
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/04/816204/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/v1/overcloud_deploy.py']",4,b890ece8e697d20e8fe9b5a4be2cb0be8223d699,bp/unified-orchestration, # task-core add deployer host info into heat params # TODO(mwhahaha): makes ure this is the correct spot for this deployment_options.update(utils.generate_deployer_host_data()) ,,97,47
openstack%2Floci~master~Id99bab9f136978db40a1d26053afa86dce711e22,openstack/loci,master,Id99bab9f136978db40a1d26053afa86dce711e22,Default to python3,ABANDONED,2021-02-15 22:52:39.000000000,2022-01-21 21:17:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-15 22:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/ce5b83f40d08229523da87a881d05421189be7c9', 'message': 'Default to python3\n\nIts the year 2021, LOCI should default to python3\n\nSigned-off-by: Pete Birley <pete@port.direct>\nChange-Id: Id99bab9f136978db40a1d26053afa86dce711e22\n'}, {'number': 2, 'created': '2021-02-16 14:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/dbd98eda5c611f3216839e983ef2b5b4d16fd642', 'message': 'Default to python3\n\nIts the year 2021, LOCI should default to python3\n\nSigned-off-by: Pete Birley <pete@port.direct>\nChange-Id: Id99bab9f136978db40a1d26053afa86dce711e22\n'}, {'number': 3, 'created': '2021-04-16 14:29:19.000000000', 'files': ['Dockerfile'], 'web_link': 'https://opendev.org/openstack/loci/commit/aedbe508af5741bfe72de3df3053acd3682b57f3', 'message': 'Default to python3\n\nIts the year 2021, LOCI should default to python3\n\nSigned-off-by: Pete Birley <pete@port.direct>\nChange-Id: Id99bab9f136978db40a1d26053afa86dce711e22\n'}]",2,775714,aedbe508af5741bfe72de3df3053acd3682b57f3,10,1,3,23928,,,0,"Default to python3

Its the year 2021, LOCI should default to python3

Signed-off-by: Pete Birley <pete@port.direct>
Change-Id: Id99bab9f136978db40a1d26053afa86dce711e22
",git fetch https://review.opendev.org/openstack/loci refs/changes/14/775714/1 && git format-patch -1 --stdout FETCH_HEAD,['Dockerfile'],1,ce5b83f40d08229523da87a881d05421189be7c9,,ARG PYTHON3=yes,ARG PYTHON3=no,1,1
openstack%2Fcinder~stable%2Fvictoria~Ia08c252d747148e624f8d9e8b0e43f94773421e0,openstack/cinder,stable/victoria,Ia08c252d747148e624f8d9e8b0e43f94773421e0,[RBD] Fix snapshot backup name,MERGED,2021-12-29 17:37:59.000000000,2022-01-21 21:17:15.000000000,2022-01-21 21:08:34.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12670}, {'_account_id': 14675}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}, {'_account_id': 32349}, {'_account_id': 32851}, {'_account_id': 33390}, {'_account_id': 33431}, {'_account_id': 33618}, {'_account_id': 34121}]","[{'number': 1, 'created': '2021-12-29 17:37:59.000000000', 'files': ['cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/239030522c391ac052a3cdd0b19ddaceb0a9fb59', 'message': '[RBD] Fix snapshot backup name\n\nWe always create a full backup for snapshots. It means we have to\ngenerate a correct buckup name for a base backup.\n\nCloses-Bug: #1860739\nChange-Id: Ia08c252d747148e624f8d9e8b0e43f94773421e0\n(cherry picked from commit f04d905a63fe02f5a660e9852bdacbc2bc0f9233)\n'}]",15,823170,239030522c391ac052a3cdd0b19ddaceb0a9fb59,42,19,1,33987,,,0,"[RBD] Fix snapshot backup name

We always create a full backup for snapshots. It means we have to
generate a correct buckup name for a base backup.

Closes-Bug: #1860739
Change-Id: Ia08c252d747148e624f8d9e8b0e43f94773421e0
(cherry picked from commit f04d905a63fe02f5a660e9852bdacbc2bc0f9233)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/823170/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/ceph.py'],1,239030522c391ac052a3cdd0b19ddaceb0a9fb59,bug/1860739," if backup.snapshot_id: backup_name = self._get_backup_base_name(volume_id) else: backup_name = self._get_backup_base_name(volume_id, backup=backup)"," backup_name = self._get_backup_base_name(volume_id, backup=backup)",4,1
openstack%2Fnova~master~I50ced59e3aa86e629702f0fece2c4cb990ebb1ed,openstack/nova,master,I50ced59e3aa86e629702f0fece2c4cb990ebb1ed,Update centos 8 py36 functional job nodeset to centos stream 8,MERGED,2022-01-13 18:06:20.000000000,2022-01-21 21:17:03.000000000,2022-01-21 21:08:39.000000000,"[{'_account_id': 4146}, {'_account_id': 4393}, {'_account_id': 6062}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-13 18:06:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/b88ca72c71ca6322981c93388ea0e3bda4511446', 'message': 'Update centos 8 py36 functional job nodeset to centos stream 8\n\ncentOS 8 image and nodeset is planned to be remove as centOS is\nEOLing soon.\n- http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html\n\nDevstack is also removing devstack-single-node-centos-8 nodeset\nwhich is used in nova py36 functional job\n- https://review.opendev.org/q/I36751569d92fbc5084b8308d423a75318ae7d406\n\nThis commit updates the nodeset in nove jobs to\ndevstack-single-node-centos-8-stream which will run functional\ntest on py36 env.\n\nChange-Id: I50ced59e3aa86e629702f0fece2c4cb990ebb1ed\n'}]",3,824637,b88ca72c71ca6322981c93388ea0e3bda4511446,31,5,1,8556,,,0,"Update centos 8 py36 functional job nodeset to centos stream 8

centOS 8 image and nodeset is planned to be remove as centOS is
EOLing soon.
- http://lists.openstack.org/pipermail/openstack-discuss/2022-January/026621.html

Devstack is also removing devstack-single-node-centos-8 nodeset
which is used in nova py36 functional job
- https://review.opendev.org/q/I36751569d92fbc5084b8308d423a75318ae7d406

This commit updates the nodeset in nove jobs to
devstack-single-node-centos-8-stream which will run functional
test on py36 env.

Change-Id: I50ced59e3aa86e629702f0fece2c4cb990ebb1ed
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/824637/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b88ca72c71ca6322981c93388ea0e3bda4511446,remove-centos-8, nodeset: devstack-single-node-centos-8-stream, nodeset: devstack-single-node-centos-8,1,1
openstack%2Fopenstack-helm~master~Id41d4f2faa3c3637201be504f83679b63137531b,openstack/openstack-helm,master,Id41d4f2faa3c3637201be504f83679b63137531b,Added PostgreSQL TLS support and snippets fixing cert permissions for Neutron,ABANDONED,2021-02-14 22:29:08.000000000,2022-01-21 21:07:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-14 22:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2e8f8f067b3461283be7ec66ba5aadd0b6ab591b', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Neutron\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Id41d4f2faa3c3637201be504f83679b63137531b\n'}, {'number': 2, 'created': '2021-02-14 22:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/84e82c7ca23b63737a9391bd9c5364f75eeffc03', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Neutron\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Id41d4f2faa3c3637201be504f83679b63137531b\n'}, {'number': 3, 'created': '2021-02-24 08:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/70f603e3c154685167cbdf87b1c18475dfbc6618', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Neutron\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Id41d4f2faa3c3637201be504f83679b63137531b\n'}, {'number': 4, 'created': '2021-02-26 19:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3847a607878b0444c7621827226fd4916fc83932', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Neutron\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Id41d4f2faa3c3637201be504f83679b63137531b\n'}, {'number': 5, 'created': '2021-05-02 15:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/624f20e666aa3dbbf454fd1311c1f6656f5f4459', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Neutron\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Id41d4f2faa3c3637201be504f83679b63137531b\n'}, {'number': 6, 'created': '2021-05-28 08:56:14.000000000', 'files': ['neutron/templates/deployment-server.yaml', 'neutron/templates/job-db-init.yaml', 'neutron/templates/job-db-drop.yaml', 'neutron/Chart.yaml', 'neutron/templates/job-db-sync.yaml', 'releasenotes/notes/neutron.yaml', 'neutron/templates/secret-db.yaml', 'neutron/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/004f2a1244cd578afb1eabf96c1dffb42db415fc', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Neutron\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/771773/\nChange-Id: Id41d4f2faa3c3637201be504f83679b63137531b\n'}]",0,775537,004f2a1244cd578afb1eabf96c1dffb42db415fc,24,2,6,32871,,,0,"Added PostgreSQL TLS support and snippets fixing cert permissions for Neutron

Due to psycopg2 enforcing file permissions and ownership on TLS
certificates during connections to PostgreSQL, this approach uses init
containers, because:
- 0600-or-less permissions are expected of TLS private keys, just
  mouting the subpath or specifying per-item permissions achieves this,
  however…
- certificates need to be owned by the in-container system user
  connecting to the database, which rarely ends up being the case

Depends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/771773/
Change-Id: Id41d4f2faa3c3637201be504f83679b63137531b
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/37/775537/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/deployment-server.yaml', 'neutron/templates/job-ks-user.yaml', 'neutron/templates/job-db-init.yaml', 'neutron/templates/job-db-drop.yaml', 'neutron/Chart.yaml', 'neutron/templates/job-db-sync.yaml', 'neutron/templates/ingress-server.yaml', 'neutron/templates/secret-db.yaml', 'neutron/templates/job-ks-service.yaml', 'neutron/templates/job-bootstrap.yaml', 'neutron/templates/pod-rally-test.yaml', 'neutron/templates/job-ks-endpoints.yaml', 'neutron/templates/configmap-etc.yaml']",13,2e8f8f067b3461283be7ec66ba5aadd0b6ab591b,postgresql-tls,"{{- $dbTlsSecret := default (default """" (index .Values.endpoints.oslo_db ""tlsSecret"")) (index (default (dict) (index (default (dict) (index .Values.endpoints.oslo_db.auth.admin ""secret"")) ""tls"")) ""internal"") }} {{- $dbEngine := first (splitList ""+"" (first (splitList "":"" .Values.endpoints.oslo_db.scheme))) }} {{- if and .Values.manifests.certificates $dbTlsSecret -}} {{- if eq $dbEngine ""mysql"" -}}{{- else if eq $dbEngine ""postgresql"" -}} {{- $_ := (printf ""%s?sslmode=verify-full&sslrootcert=/etc/mysql/certs/ca.crt&sslkey=/etc/mysql/certs/tls.key&sslcert=/etc/mysql/certs/tls.crt"" $connection ) | set .Values.conf.neutron.database ""connection"" -}} {{- else -}} {{- $_ := set .Values.conf.neutron.database ""connection"" $connection -}} {{- end -}}",{{- if .Values.manifests.certificates -}},55,19
openstack%2Fopenstack-helm-infra~master~Ib5dc5eef3f992445214f6d244d9352c3ee332a8a,openstack/openstack-helm-infra,master,Ib5dc5eef3f992445214f6d244d9352c3ee332a8a,Added PostgreSQL support for DB creation and TLS owner fixing snippet,ABANDONED,2021-01-21 09:27:04.000000000,2022-01-21 21:07:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-01-21 09:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0c49043b75740a69917f3d6622e0bc0e666cde03', 'message': 'Added TLS support to PostgreSQL and snippets fixing cert permissions\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mounting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib5dc5eef3f992445214f6d244d9352c3ee332a8a\n'}, {'number': 2, 'created': '2021-01-21 18:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2d77337d27479388c004018acd0e6a56414d0d06', 'message': 'Added TLS support to PostgreSQL and snippets fixing cert permissions\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mounting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib5dc5eef3f992445214f6d244d9352c3ee332a8a\n'}, {'number': 3, 'created': '2021-01-22 17:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9cd0104b430395e4aeeb652f1471a719854440a2', 'message': 'Added TLS support to PostgreSQL and snippets fixing cert permissions\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mounting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib5dc5eef3f992445214f6d244d9352c3ee332a8a\n'}, {'number': 4, 'created': '2021-01-22 23:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/90d28603d07cbd9e7337d8847c87dde623ca067f', 'message': 'Added TLS support to PostgreSQL and snippets fixing cert permissions\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mounting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib5dc5eef3f992445214f6d244d9352c3ee332a8a\n'}, {'number': 5, 'created': '2021-01-23 01:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9591d4e26fd52324fe51f64a3800b648e4f83705', 'message': 'Added TLS support to PostgreSQL and snippets fixing cert permissions\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mounting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib5dc5eef3f992445214f6d244d9352c3ee332a8a\n'}, {'number': 6, 'created': '2021-01-31 20:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6060a6a270b0886adeadf56745b197494f228816', 'message': 'Added TLS support to PostgreSQL and snippets fixing cert permissions\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mounting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib5dc5eef3f992445214f6d244d9352c3ee332a8a\n'}, {'number': 7, 'created': '2021-02-15 14:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6810ee1e2f75fa9e3ae03b6cb232de76bb4c36da', 'message': 'Added PostgreSQL support for DB creation and TLS owner fixing snippet\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mounting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib5dc5eef3f992445214f6d244d9352c3ee332a8a\n'}, {'number': 8, 'created': '2021-02-15 14:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dbb54ee0fca650fd349c11dfef868a7053a1c09d', 'message': 'Added PostgreSQL support for DB creation and TLS owner fixing snippet\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mounting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib5dc5eef3f992445214f6d244d9352c3ee332a8a\n'}, {'number': 9, 'created': '2021-02-15 17:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/64acbaedb4c950c09c587837768b65b2da6fdbaf', 'message': 'Added PostgreSQL support for DB creation and TLS owner fixing snippet\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mounting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib5dc5eef3f992445214f6d244d9352c3ee332a8a\n'}, {'number': 10, 'created': '2021-02-24 08:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e346aef0bb1f1a1fe59cdac29a930c8d837bd323', 'message': 'Added PostgreSQL support for DB creation and TLS owner fixing snippet\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mounting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib5dc5eef3f992445214f6d244d9352c3ee332a8a\n'}, {'number': 11, 'created': '2021-02-25 13:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2b0db11553f6073f8e59f87754a803e22182f69f', 'message': 'Added PostgreSQL support for DB creation and TLS owner fixing snippet\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mounting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib5dc5eef3f992445214f6d244d9352c3ee332a8a\n'}, {'number': 12, 'created': '2021-03-03 19:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/531014265c218500495d91f654099319be9e01eb', 'message': 'Added PostgreSQL support for DB creation and TLS owner fixing snippet\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mounting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib5dc5eef3f992445214f6d244d9352c3ee332a8a\n'}, {'number': 13, 'created': '2021-03-03 20:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c354a00751c82f54af69a7b9af3fd99171e88f3b', 'message': 'Added PostgreSQL support for DB creation and TLS owner fixing snippet\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mounting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib5dc5eef3f992445214f6d244d9352c3ee332a8a\n'}, {'number': 14, 'created': '2021-04-10 06:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eb7dfb45ff0798a9697771f28ed3ff6b7ea21afb', 'message': 'Added PostgreSQL support for DB creation and TLS owner fixing snippet\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mounting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib5dc5eef3f992445214f6d244d9352c3ee332a8a\n'}, {'number': 15, 'created': '2021-05-02 13:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d19355070dafe7281ad2cf4c51d3e31253c2b21d', 'message': 'Added PostgreSQL support for DB creation and TLS owner fixing snippet\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mounting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib5dc5eef3f992445214f6d244d9352c3ee332a8a\n'}, {'number': 16, 'created': '2021-05-28 08:41:41.000000000', 'files': ['helm-toolkit/templates/snippets/_tls_volume.tpl', 'postgresql/Chart.yaml', 'helm-toolkit/templates/snippets/_tls_owner_fix_init_container.tpl', 'helm-toolkit/templates/manifests/_job-db-init-mysql.tpl', 'postgresql/templates/statefulset.yaml', 'postgresql/values.yaml', 'helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml', 'releasenotes/notes/postgresql.yaml', 'postgresql/templates/configmap-etc.yaml', 'helm-toolkit/templates/scripts/_db-pg-init.sh.tpl', 'helm-toolkit/templates/manifests/_job-db-sync.tpl', 'helm-toolkit/templates/scripts/_db-drop.py.tpl', 'helm-toolkit/templates/manifests/_job-db-drop-mysql.tpl', 'helm-toolkit/templates/scripts/_db-init.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/13463dc443654478b0b470d62f1b4bb6d21936c8', 'message': 'Added PostgreSQL support for DB creation and TLS owner fixing snippet\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mounting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib5dc5eef3f992445214f6d244d9352c3ee332a8a\n'}]",2,771773,13463dc443654478b0b470d62f1b4bb6d21936c8,38,2,16,32871,,,0,"Added PostgreSQL support for DB creation and TLS owner fixing snippet

Due to psycopg2 enforcing file permissions and ownership on TLS
certificates during connections to PostgreSQL, this approach uses init
containers, because:
- 0600-or-less permissions are expected of TLS private keys, just
  mounting the subpath or specifying per-item permissions achieves this,
  however…
- certificates need to be owned by the in-container system user
  connecting to the database, which rarely ends up being the case

Change-Id: Ib5dc5eef3f992445214f6d244d9352c3ee332a8a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/73/771773/16 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/snippets/_tls_volume.tpl', 'helm-toolkit/templates/snippets/_tls_owner_fix_init_container.tpl', 'helm-toolkit/templates/manifests/_job-db-init-mysql.tpl', 'postgresql/templates/statefulset.yaml', 'postgresql/values.yaml', 'postgresql/values_overrides/tls.yaml', 'postgresql/templates/configmap-etc.yaml', 'helm-toolkit/templates/scripts/_db-pg-init.sh.tpl', 'helm-toolkit/templates/manifests/_job-db-sync.tpl', 'helm-toolkit/templates/scripts/_db-drop.py.tpl', 'postgresql/templates/tls.yaml', 'helm-toolkit/templates/manifests/_job-db-drop-mysql.tpl', 'helm-toolkit/templates/scripts/_db-init.py.tpl']",13,0c49043b75740a69917f3d6622e0bc0e666cde03,postgresql-tls," from urlparse import urlencode, urlunsplit from urllib.parse import urlencode, urlunsplit root_engine_url = urlunsplit([ drivername, '{user}:{pwd}@{host}:{port}'.format(user=root_user, pwd=root_password, host=host, port=port), '/postgres' if root_engine_full.engine.name == 'postgresql' else '/', urlencode(root_engine_full.url.query), '' ]) root_engine = create_engine(root_engine_url, connect_args=ssl_args, isolation_level='AUTOCOMMIT') user_engine = create_engine(user_db_conn, connect_args=ssl_args, isolation_level='AUTOCOMMIT')if root_engine.engine.name == 'mysql': # Create DB try: root_engine.execute(""CREATE DATABASE IF NOT EXISTS {0}"".format(database)) logger.info(""Created database {0}"".format(database)) except: logger.critical(""Could not create database {0}"".format(database)) raise # Create DB User try: root_engine.execute( ""CREATE USER IF NOT EXISTS \'{user}\'@\'%%\' IDENTIFIED BY \'{pwd}\'"".format( user=user, pwd=password)) root_engine.execute( ""GRANT ALL ON `{db}`.* TO \'{user}\'@\'%%\'"".format( db=database, user=user)) logger.info(""Created user {0} for {1}"".format(user, database)) except: logger.critical(""Could not create user {0} for {1}"".format(user, database)) raise elif root_engine.engine.name == 'postgresql': # Create DB User try: if not root_engine.execute( ""SELECT 1 FROM pg_catalog.pg_authid WHERE rolname = '{0}'"".format(user) ).fetchall(): root_engine.execute( ""CREATE ROLE {0} INHERIT LOGIN ENCRYPTED PASSWORD '{1}'"".format(user, password) ) logger.info(""Created user {0}"".format(user)) except: logger.critical(""Could not create user {0}"".format(user)) raise # Create DB try: if not root_engine.execute( ""SELECT 1 FROM pg_catalog.pg_database WHERE datname = '{0}'"".format(database) ).fetchall(): root_engine.execute( ""CREATE DATABASE {0} OWNER {1} ENCODING 'UTF8' LC_COLLATE 'en_US.UTF-8' LC_CTYPE 'en_US.UTF-8'"".format(database, user) ) logger.info(""Created database {0} with owner {1}"".format(database, user)) except: logger.critical(""Could not create database {0} with owner {1}"".format(database, user)) raise"," root_engine_url = ''.join([drivername, '://', root_user, ':', root_password, '@', host, ':', str (port)]) root_engine = create_engine(root_engine_url, connect_args=ssl_args) user_engine = create_engine(user_db_conn, connect_args=ssl_args)# Create DB try: root_engine.execute(""CREATE DATABASE IF NOT EXISTS {0}"".format(database)) logger.info(""Created database {0}"".format(database)) except: logger.critical(""Could not create database {0}"".format(database)) raise # Create DB User try: root_engine.execute( ""GRANT ALL ON `{0}`.* TO \'{1}\'@\'%%\' IDENTIFIED BY \'{2}\' {3}"".format( database, user, password, mysql_x509)) logger.info(""Created user {0} for {1}"".format(user, database)) except: logger.critical(""Could not create user {0} for {1}"".format(user, database)) raise",243,112
openstack%2Fopenstack-helm~master~I6b6b666628414b476240204c87f2d9d45a52980d,openstack/openstack-helm,master,I6b6b666628414b476240204c87f2d9d45a52980d,Added PostgreSQL TLS support and snippets fixing cert permissions for Glance,ABANDONED,2021-02-14 22:29:08.000000000,2022-01-21 21:07:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-14 22:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/da5eb3295cb4dc4f5205a766defeb8e3233b261d', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Glance\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: I6b6b666628414b476240204c87f2d9d45a52980d\n'}, {'number': 2, 'created': '2021-02-14 22:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9f7e53699b4199c58f0127728555d56b2263799c', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Glance\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: I6b6b666628414b476240204c87f2d9d45a52980d\n'}, {'number': 3, 'created': '2021-02-24 08:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ff24a3c7c01c2adaeb45ebce6644c7d0acb1d0ec', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Glance\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: I6b6b666628414b476240204c87f2d9d45a52980d\n'}, {'number': 4, 'created': '2021-02-26 06:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2fe0445451b21989fc5b9e707d254a88f2651dd6', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Glance\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: I6b6b666628414b476240204c87f2d9d45a52980d\n'}, {'number': 5, 'created': '2021-02-26 19:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ae706f2ec6772c7c7d6fdda272c3801ec5fae571', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Glance\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: I6b6b666628414b476240204c87f2d9d45a52980d\n'}, {'number': 6, 'created': '2021-05-02 14:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a7ef80a83e962ea343e4585faa026c00d6fe1e8d', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Glance\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: I6b6b666628414b476240204c87f2d9d45a52980d\n'}, {'number': 7, 'created': '2021-05-03 08:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a9a1cfceccf23bc09d8fef623b04dc18fcab8d10', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Glance\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: I6b6b666628414b476240204c87f2d9d45a52980d\n'}, {'number': 8, 'created': '2021-05-03 11:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/92450cccd49d7766784e1efd84ced4c1a2009dc5', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Glance\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: I6b6b666628414b476240204c87f2d9d45a52980d\n'}, {'number': 9, 'created': '2021-05-28 08:48:52.000000000', 'files': ['glance/Chart.yaml', 'glance/templates/job-db-drop.yaml', 'releasenotes/notes/glance.yaml', 'glance/templates/secret-db.yaml', 'glance/templates/job-db-init.yaml', 'glance/templates/deployment-api.yaml', 'glance/templates/configmap-etc.yaml', 'glance/templates/job-metadefs-load.yaml', 'glance/templates/job-db-sync.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0b93cfa1993bb557856c1b69020ba718bc779e8e', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Glance\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/771773/\nChange-Id: I6b6b666628414b476240204c87f2d9d45a52980d\n'}]",0,775533,0b93cfa1993bb557856c1b69020ba718bc779e8e,24,2,9,32871,,,0,"Added PostgreSQL TLS support and snippets fixing cert permissions for Glance

Due to psycopg2 enforcing file permissions and ownership on TLS
certificates during connections to PostgreSQL, this approach uses init
containers, because:
- 0600-or-less permissions are expected of TLS private keys, just
  mouting the subpath or specifying per-item permissions achieves this,
  however…
- certificates need to be owned by the in-container system user
  connecting to the database, which rarely ends up being the case

Depends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/771773/
Change-Id: I6b6b666628414b476240204c87f2d9d45a52980d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/33/775533/6 && git format-patch -1 --stdout FETCH_HEAD,"['glance/templates/job-db-drop.yaml', 'glance/templates/job-ks-user.yaml', 'glance/templates/secret-db.yaml', 'glance/templates/pod-rally-test.yaml', 'glance/templates/job-db-init.yaml', 'glance/templates/job-storage-init.yaml', 'glance/templates/configmap-etc.yaml', 'glance/templates/job-metadefs-load.yaml', 'glance/templates/job-bootstrap.yaml', 'glance/templates/job-ks-endpoints.yaml', 'glance/Chart.yaml', 'glance/templates/job-ks-service.yaml', 'glance/templates/ingress-registry.yaml', 'glance/templates/deployment-api.yaml', 'glance/templates/ingress-api.yaml', 'glance/templates/job-db-sync.yaml']",16,da5eb3295cb4dc4f5205a766defeb8e3233b261d,postgresql-tls,"{{- $dbTlsSecret := default (default """" (index .Values.endpoints.oslo_db ""tlsSecret"")) (index (default (dict) (index (default (dict) (index .Values.endpoints.oslo_db.auth.admin ""secret"")) ""tls"")) ""internal"") }} {{- if and .Values.manifests.certificates $dbTlsSecret -}} {{- $_ := set $dbSyncJob ""dbAdminTlsSecret"" $dbTlsSecret -}}","{{- if .Values.manifests.certificates -}} {{- $_ := set $dbSyncJob ""dbAdminTlsSecret"" .Values.endpoints.oslo_db.auth.admin.secret.tls.internal -}}",86,26
openstack%2Fopenstack-helm~master~I5120450aeb40c1d743cf1bcd7eba0bf5a03900b2,openstack/openstack-helm,master,I5120450aeb40c1d743cf1bcd7eba0bf5a03900b2,Fix neutron-ironic-agent init container,ABANDONED,2021-05-27 18:07:42.000000000,2022-01-21 21:07:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-05-27 18:07:42.000000000', 'files': ['neutron/templates/bin/_neutron-ironic-agent-init.sh.tpl', 'neutron/templates/deployment-ironic-agent.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1dd7f9e6a7a614ae42251ecc26186b057b0147ee', 'message': 'Fix neutron-ironic-agent init container\n\nThe neutron-ironic-agent fails to go up due to the fact that it tries\nto load /tmp/pod-shared/neutron-agent.ini which does not exist because\nthere is no init container that creates it.\n\nThis patch fixes it by creating an init container which creates it which\nshould allow the Ironic networking agent to bring up the pod\nsuccessfully.\n\nChange-Id: I5120450aeb40c1d743cf1bcd7eba0bf5a03900b2\n'}]",0,793487,1dd7f9e6a7a614ae42251ecc26186b057b0147ee,6,2,1,1004,,,0,"Fix neutron-ironic-agent init container

The neutron-ironic-agent fails to go up due to the fact that it tries
to load /tmp/pod-shared/neutron-agent.ini which does not exist because
there is no init container that creates it.

This patch fixes it by creating an init container which creates it which
should allow the Ironic networking agent to bring up the pod
successfully.

Change-Id: I5120450aeb40c1d743cf1bcd7eba0bf5a03900b2
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/87/793487/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/bin/_neutron-ironic-agent-init.sh.tpl', 'neutron/templates/deployment-ironic-agent.yaml']",2,1dd7f9e6a7a614ae42251ecc26186b057b0147ee,fix-ironic-agent," - name: neutron-ironic-agent-init {{ tuple $envAll ""neutron_ironic_agent"" | include ""helm-toolkit.snippets.image"" | indent 10 }} command: - /tmp/neutron-ironic-agent-init.sh volumeMounts: - name: pod-tmp mountPath: /tmp - name: neutron-bin mountPath: /tmp/neutron-ironic-agent-init.sh subPath: neutron-ironic-agent-init.sh readOnly: true",,36,0
openstack%2Fopenstack-helm~master~I4bb1d816519c44c910c16ac47c880b6c431ef4d8,openstack/openstack-helm,master,I4bb1d816519c44c910c16ac47c880b6c431ef4d8,Remove deprecated policies,ABANDONED,2020-12-24 01:21:48.000000000,2022-01-21 21:07:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2020-12-24 01:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/58b4df20430454ae5e1747ce6a0d54601af2ef67', 'message': ""Remove deprecated policies\n\nRemove deprecated policies in nova-policy.conf, those policies were\ndeprcated in commit\nhttps://review.opendev.org/c/openstack/nova/+/526258/,and some error log\nlike 'policy xxx was reprecated for removal in 17.0.0' appears.\n\nChange-Id: I4bb1d816519c44c910c16ac47c880b6c431ef4d8\n""}, {'number': 2, 'created': '2021-05-27 07:06:59.000000000', 'files': ['nova/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c5f842bea52f17ed4dd3a5526b420a856b1ac473', 'message': ""Remove deprecated policies\n\nRemove deprecated policies in nova-policy.conf, those policies were\ndeprcated in commit\nhttps://review.opendev.org/c/openstack/nova/+/526258/,and some error log\nlike 'policy xxx was reprecated for removal in 17.0.0' appears.\n\nChange-Id: I4bb1d816519c44c910c16ac47c880b6c431ef4d8\n""}]",0,768379,c5f842bea52f17ed4dd3a5526b420a856b1ac473,9,2,2,30858,,,0,"Remove deprecated policies

Remove deprecated policies in nova-policy.conf, those policies were
deprcated in commit
https://review.opendev.org/c/openstack/nova/+/526258/,and some error log
like 'policy xxx was reprecated for removal in 17.0.0' appears.

Change-Id: I4bb1d816519c44c910c16ac47c880b6c431ef4d8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/79/768379/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/values.yaml'],1,58b4df20430454ae5e1747ce6a0d54601af2ef67,," os_compute_api:os-hide-server-addresses:discoverable: ""@"" "," os_compute_api:os-config-drive: rule:admin_or_owner os_compute_api:os-extended-availability-zone: rule:admin_or_owner os_compute_api:os-extended-status: rule:admin_or_owner os_compute_api:os-extended-volumes: rule:admin_or_owner os_compute_api:os-flavor-access: rule:admin_or_owner os_compute_api:os-flavor-rxtx: rule:admin_or_owner os_compute_api:os-hide-server-addresses:discoverable: ""@"" os_compute_api:os-hide-server-addresses: is_admin:False os_compute_api:image-size: rule:admin_or_owner os_compute_api:os-keypairs: rule:admin_or_owner os_compute_api:os-security-groups: rule:admin_or_owner os_compute_api:os-server-usage: rule:admin_or_owner",1,12
openstack%2Fopenstack-helm-infra~master~I6bea6bb227ab3676c2c2c6fed40d2e1ea50e2981,openstack/openstack-helm-infra,master,I6bea6bb227ab3676c2c2c6fed40d2e1ea50e2981,Remove metacontroller and daemonjobs,ABANDONED,2020-12-07 19:09:29.000000000,2022-01-21 21:07:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-07 19:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a33be0b6f32e7e4154c938a2fadf8ab8a1013dea', 'message': '[RFC] remove metacontroller and daemonjobs\n\nThe upstream support for this is lacking.  Remove for now, we can\nalways resurrect later on when upstream maintenance issues are\nresolved.\n\nChange-Id: I6bea6bb227ab3676c2c2c6fed40d2e1ea50e2981\n'}, {'number': 2, 'created': '2021-05-24 21:44:41.000000000', 'files': ['daemonjob-controller/templates/service.yaml', 'metacontroller/values.yaml', 'daemonjob-controller/templates/job-image-repo-sync.yaml', 'daemonjob-controller/values.yaml', 'tools/deployment/common/metacontroller.sh', 'metacontroller/templates/service.yaml', 'daemonjob-controller/templates/configmap-bin.yaml', 'daemonjob-controller/templates/deployment.yaml', 'daemonjob-controller/templates/bin/_sync-hook.py.tpl', 'daemonjob-controller/Chart.yaml', 'metacontroller/Chart.yaml', 'metacontroller/templates/crds.yaml', 'tools/deployment/common/daemonjob-controller.sh', 'metacontroller/requirements.yaml', 'metacontroller/templates/job-image-repo-sync.yaml', 'daemonjob-controller/templates/crd.yaml', 'metacontroller/values_overrides/apparmor.yaml', 'daemonjob-controller/templates/composite-controller.yaml', 'zuul.d/project.yaml', 'metacontroller/templates/statefulset.yaml', 'zuul.d/jobs.yaml', 'daemonjob-controller/values_overrides/apparmor.yaml', 'daemonjob-controller/requirements.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/89388757da01e02fe993f8b30092970955ff40e5', 'message': 'Remove metacontroller and daemonjobs\n\nThe upstream support for this is lacking.  Remove for now, we can\nalways resurrect later on when upstream maintenance issues are\nresolved.\n\nChange-Id: I6bea6bb227ab3676c2c2c6fed40d2e1ea50e2981\n'}]",0,765852,89388757da01e02fe993f8b30092970955ff40e5,6,1,2,8898,,,0,"Remove metacontroller and daemonjobs

The upstream support for this is lacking.  Remove for now, we can
always resurrect later on when upstream maintenance issues are
resolved.

Change-Id: I6bea6bb227ab3676c2c2c6fed40d2e1ea50e2981
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/52/765852/1 && git format-patch -1 --stdout FETCH_HEAD,"['daemonjob-controller/templates/service.yaml', 'metacontroller/values.yaml', 'daemonjob-controller/templates/job-image-repo-sync.yaml', 'daemonjob-controller/values.yaml', 'tools/deployment/common/metacontroller.sh', 'metacontroller/templates/service.yaml', 'daemonjob-controller/templates/configmap-bin.yaml', 'daemonjob-controller/templates/deployment.yaml', 'daemonjob-controller/templates/bin/_sync-hook.py.tpl', 'daemonjob-controller/Chart.yaml', 'metacontroller/Chart.yaml', 'metacontroller/templates/crds.yaml', 'tools/deployment/common/daemonjob-controller.sh', 'metacontroller/requirements.yaml', 'metacontroller/templates/job-image-repo-sync.yaml', 'daemonjob-controller/templates/crd.yaml', 'metacontroller/values_overrides/apparmor.yaml', 'daemonjob-controller/templates/composite-controller.yaml', 'zuul.d/project.yaml', 'metacontroller/templates/statefulset.yaml', 'zuul.d/jobs.yaml', 'daemonjob-controller/values_overrides/apparmor.yaml', 'daemonjob-controller/requirements.yaml']",23,a33be0b6f32e7e4154c938a2fadf8ab8a1013dea,765852,,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. --- dependencies: - name: helm-toolkit repository: http://localhost:8879/charts version: "">= 0.1.0"" ... ",0,5400
openstack%2Fopenstack-helm-infra~master~I041a650028cc58e8ece06831ee782e56c225d823,openstack/openstack-helm-infra,master,I041a650028cc58e8ece06831ee782e56c225d823,"[RFC] [ingress] Disable monitoring by default, enable in gate",ABANDONED,2019-01-28 23:17:53.000000000,2022-01-21 21:07:32.000000000,,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-01-28 23:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/18bfa355b368865a61332580cd033048a7fbebda', 'message': '[ingress] Disable Prometheus monitoring by default\n\nChange-Id: I041a650028cc58e8ece06831ee782e56c225d823\n'}, {'number': 2, 'created': '2019-01-29 19:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a8d06e6c34b1b04399b07e770d4502fd26c53011', 'message': '[RFC] [ingress] Disable monitoring by default, enable in gate\n\nChange-Id: I041a650028cc58e8ece06831ee782e56c225d823\n'}, {'number': 3, 'created': '2019-01-29 20:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5b1c3554e4a8b09b5ece0716f8c315ecf4fdba95', 'message': '[RFC] [ingress] Disable monitoring by default, enable in gate\n\nChange-Id: I041a650028cc58e8ece06831ee782e56c225d823\n'}, {'number': 4, 'created': '2019-01-31 17:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/afcb6dec567954b82aaa6ad7bcf4efe8143c6a81', 'message': '[RFC] [ingress] Disable monitoring by default, enable in gate\n\nChange-Id: I041a650028cc58e8ece06831ee782e56c225d823\n'}, {'number': 5, 'created': '2019-01-31 18:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d47a1e8cf502ee8ce3ed5812fcb2900b6c1ebc39', 'message': '[RFC] [ingress] Disable monitoring by default, enable in gate\n\nChange-Id: I041a650028cc58e8ece06831ee782e56c225d823\n'}, {'number': 6, 'created': '2020-01-28 05:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5eec5f064ae249931326d218bedfed4a403a89d1', 'message': '[RFC] [ingress] Disable monitoring by default, enable in gate\n\nChange-Id: I041a650028cc58e8ece06831ee782e56c225d823\n'}, {'number': 7, 'created': '2020-03-20 04:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/568803ccf32fef9024781d13d4c2b0f2fdd39fe8', 'message': '[RFC] [ingress] Disable monitoring by default, enable in gate\n\nChange-Id: I041a650028cc58e8ece06831ee782e56c225d823\n'}, {'number': 8, 'created': '2020-04-23 22:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/866b6681dffa4cb37095b478d4a94b7347f89513', 'message': '[RFC] [ingress] Disable monitoring by default, enable in gate\n\nChange-Id: I041a650028cc58e8ece06831ee782e56c225d823\n'}, {'number': 9, 'created': '2020-08-05 00:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/788682081b20a91d803b707d9b20796cc2edf4e3', 'message': '[RFC] [ingress] Disable monitoring by default, enable in gate\n\nChange-Id: I041a650028cc58e8ece06831ee782e56c225d823\n'}, {'number': 10, 'created': '2020-09-21 04:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/086720545a2ce2c44d2ef1daeca6bfd94a9934f7', 'message': '[RFC] [ingress] Disable monitoring by default, enable in gate\n\nChange-Id: I041a650028cc58e8ece06831ee782e56c225d823\n'}, {'number': 11, 'created': '2020-11-24 00:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/94c25d26ac5a59feec78fc713f626bd35749391a', 'message': '[RFC] [ingress] Disable monitoring by default, enable in gate\n\nChange-Id: I041a650028cc58e8ece06831ee782e56c225d823\n'}, {'number': 12, 'created': '2021-05-24 21:45:47.000000000', 'files': ['tools/deployment/tenant-ceph/020-ingress.sh', 'tools/deployment/osh-infra-logging/010-ingress.sh', 'tools/deployment/common/020-ingress.sh', 'tools/deployment/keystone-auth/020-ingress.sh', 'tools/deployment/openstack-support/010-ingress.sh', 'ingress/values.yaml', 'tools/deployment/multinode/020-ingress.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/55bf4c5d2602dfa47f1aa0d399f3c5f5ed131e61', 'message': '[RFC] [ingress] Disable monitoring by default, enable in gate\n\nChange-Id: I041a650028cc58e8ece06831ee782e56c225d823\n'}]",1,633623,55bf4c5d2602dfa47f1aa0d399f3c5f5ed131e61,32,4,12,8898,,,0,"[RFC] [ingress] Disable monitoring by default, enable in gate

Change-Id: I041a650028cc58e8ece06831ee782e56c225d823
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/23/633623/9 && git format-patch -1 --stdout FETCH_HEAD,['ingress/values.yaml'],1,18bfa355b368865a61332580cd033048a7fbebda,promdis-ingress, enabled: false, enabled: true,1,1
openstack%2Fopenstack-helm-infra~master~Ia77e1da627b7f7e0056fc1ef13194c83222657d9,openstack/openstack-helm-infra,master,Ia77e1da627b7f7e0056fc1ef13194c83222657d9,fix(shell): polishes bash scripts,ABANDONED,2021-05-16 17:31:32.000000000,2022-01-21 21:07:29.000000000,,"[{'_account_id': 8898}, {'_account_id': 18256}, {'_account_id': 22348}, {'_account_id': 33173}]","[{'number': 1, 'created': '2021-05-16 17:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/090c3329c7ee9acae4aa6406af5eefc5f1fff19b', 'message': 'fix(shell): ppolish bash scripts\n\nFixes some issues in the shellscripts raised by shellcheck.\n\nChange-Id: Ia77e1da627b7f7e0056fc1ef13194c83222657d9\nSigned-off-by: Tin <tin@irrational.io>\n'}, {'number': 2, 'created': '2021-05-16 17:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a2311fe7da97dc67b1d74b76eb727fd7a6b3e8a5', 'message': 'fix(shell): polishes bash scripts\n\nFixes some issues in the shellscripts raised by shellcheck.\n\nChange-Id: Ia77e1da627b7f7e0056fc1ef13194c83222657d9\nSigned-off-by: Tin <tin@irrational.io>\n'}, {'number': 3, 'created': '2021-05-16 17:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/019f4b9489fae2bfce1a454952776018a1279e9e', 'message': 'fix(shell): polishes bash scripts\n\nFixes some issues in .sh raised by shellcheck.\n\nChange-Id: Ia77e1da627b7f7e0056fc1ef13194c83222657d9\nSigned-off-by: Tin <tin@irrational.io>\n'}, {'number': 4, 'created': '2021-05-18 02:06:07.000000000', 'files': ['tools/deployment/common/daemonjob-controller.sh', 'tools/deployment/apparmor/115-node-problem-detector.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2ff1f40aebf357d6b312f0f0c31820e2385334f8', 'message': 'fix(shell): polishes bash scripts\n\nFixes some issues in .sh raised by shellcheck.\n\nChange-Id: Ia77e1da627b7f7e0056fc1ef13194c83222657d9\nSigned-off-by: Tin <tin@irrational.io>\n'}]",2,791623,2ff1f40aebf357d6b312f0f0c31820e2385334f8,12,4,4,20466,,,0,"fix(shell): polishes bash scripts

Fixes some issues in .sh raised by shellcheck.

Change-Id: Ia77e1da627b7f7e0056fc1ef13194c83222657d9
Signed-off-by: Tin <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/23/791623/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/common/daemonjob-controller.sh', 'tools/deployment/apparmor/115-node-problem-detector.sh']",2,090c3329c7ee9acae4aa6406af5eefc5f1fff19b,fix/sh,#!/bin/bash ../osh-infra-monitoring/075-node-problem-detector.sh ,../osh-infra-monitoring/075-node-problem-detector.sh,4,2
openstack%2Fopenstack-helm-images~master~I57295f90d3d4317003776a3188ccdcf6c71ea41f,openstack/openstack-helm-images,master,I57295f90d3d4317003776a3188ccdcf6c71ea41f,Added Focal image for ceph-config-helper,ABANDONED,2021-05-14 12:00:42.000000000,2022-01-21 21:07:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-14 12:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4a3c8f5ef8934d15f7b2331c99bb509770dc7e93', 'message': 'Added Focal image for ceph-config-helper\n\nChange-Id: I57295f90d3d4317003776a3188ccdcf6c71ea41f\n'}, {'number': 2, 'created': '2021-05-14 12:04:28.000000000', 'files': ['ceph-config-helper/Dockerfile.ubuntu_focal', 'zuul.d/ceph-config-helper.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/04c963ad461e06671f9e1eaef26dc0c121ac891d', 'message': 'Added Focal image for ceph-config-helper\n\nChange-Id: I57295f90d3d4317003776a3188ccdcf6c71ea41f\n'}]",0,791446,04c963ad461e06671f9e1eaef26dc0c121ac891d,6,1,2,1004,,,0,"Added Focal image for ceph-config-helper

Change-Id: I57295f90d3d4317003776a3188ccdcf6c71ea41f
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/46/791446/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-config-helper/Dockerfile.ubuntu_focal'],1,4a3c8f5ef8934d15f7b2331c99bb509770dc7e93,add-ceph-config-helper-focal,"ARG FROM=docker.io/ubuntu:focal FROM ${FROM} LABEL maintainer=""mnaser@vexxhost.com"" ARG UBUNTU_RELEASE='focal' ARG CEPH_RELEASE=octopus ARG CEPH_RELEASE_TAG="""" ARG CEPH_REPO=http://download.ceph.com/debian-${CEPH_RELEASE}/ ARG CEPH_KEY=http://download.ceph.com/keys/release.asc ARG KUBE_VERSION=v1.16.2 ADD ${CEPH_KEY} /etc/apt/ceph-${CEPH_RELEASE}.key RUN set -ex ;\ export DEBIAN_FRONTEND=noninteractive ;\ apt-get update ;\ apt-get install --no-install-recommends -y apt-transport-https ca-certificates gnupg2 ;\ apt-key add /etc/apt/ceph-${CEPH_RELEASE}.key ;\ rm -f /etc/apt/ceph-${CEPH_RELEASE}.key ;\ echo deb ${CEPH_REPO} ${UBUNTU_RELEASE} main | tee /etc/apt/sources.list.d/ceph.list ;\ TMP_DIR=$(mktemp --directory) ;\ cd ${TMP_DIR} ;\ apt-get update ;\ if [ -z ""${CEPH_RELEASE_TAG}"" ]; then ceph=""ceph""; else ceph=""ceph=${CEPH_RELEASE_TAG}""; fi ;\ apt-get install --no-install-recommends -y \ ${ceph} \ curl \ gdisk \ jq \ python3 \ python3-openstackclient \ python3-swiftclient \ python3-yaml \ s3cmd \ udev ;\ curl -sSL https://dl.k8s.io/${KUBE_VERSION}/kubernetes-client-linux-amd64.tar.gz | tar -zxv --strip-components=1 ;\ mv ${TMP_DIR}/client/bin/kubectl /usr/bin/kubectl ;\ chmod +x /usr/bin/kubectl ;\ rm -rf ${TMP_DIR} ;\ rm -rf /var/lib/apt/lists/* ",,41,0
openstack%2Floci~master~I2ea7bd24c3f525ec0c00bd8568146fc3a7469ec2,openstack/loci,master,I2ea7bd24c3f525ec0c00bd8568146fc3a7469ec2,Allow customizing UCA release version,ABANDONED,2021-05-06 18:41:45.000000000,2022-01-21 21:07:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-06 18:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/316e8f41215e34e48035fda1b191cd68787ef5cf', 'message': 'Allow customizing UCA release version\n\nIt is possible that an Ubuntu release carries several different\nversions of OpenStack because of the UCA.  This patch allows you\nto customize the base image to point towards the specific UCA\npackages that you want.\n\nChange-Id: I2ea7bd24c3f525ec0c00bd8568146fc3a7469ec2\n'}, {'number': 2, 'created': '2021-05-06 23:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/e080ef3d4bc478c92b7789ff80baabfa777ae870', 'message': 'Allow customizing UCA release version\n\nIt is possible that an Ubuntu release carries several different\nversions of OpenStack because of the UCA.  This patch allows you\nto customize the base image to point towards the specific UCA\npackages that you want.\n\nChange-Id: I2ea7bd24c3f525ec0c00bd8568146fc3a7469ec2\n'}, {'number': 3, 'created': '2021-05-07 00:02:32.000000000', 'files': ['dockerfiles/ubuntu_xenial/sources.list', 'dockerfiles/ubuntu_focal/sources.list', 'dockerfiles/ubuntu_xenial/Dockerfile', 'dockerfiles/ubuntu_bionic/sources.list', 'dockerfiles/ubuntu_focal/Dockerfile', 'dockerfiles/ubuntu_bionic/Dockerfile'], 'web_link': 'https://opendev.org/openstack/loci/commit/1915e52b1c6d0d4dbadc667fb5d1c98e007ca12d', 'message': 'Allow customizing UCA release version\n\nIt is possible that an Ubuntu release carries several different\nversions of OpenStack because of the UCA.  This patch allows you\nto customize the base image to point towards the specific UCA\npackages that you want.\n\nChange-Id: I2ea7bd24c3f525ec0c00bd8568146fc3a7469ec2\n'}]",0,790143,1915e52b1c6d0d4dbadc667fb5d1c98e007ca12d,6,1,3,1004,,,0,"Allow customizing UCA release version

It is possible that an Ubuntu release carries several different
versions of OpenStack because of the UCA.  This patch allows you
to customize the base image to point towards the specific UCA
packages that you want.

Change-Id: I2ea7bd24c3f525ec0c00bd8568146fc3a7469ec2
",git fetch https://review.opendev.org/openstack/loci refs/changes/43/790143/1 && git format-patch -1 --stdout FETCH_HEAD,"['dockerfiles/ubuntu_xenial/sources.list', 'dockerfiles/ubuntu_focal/sources.list', 'dockerfiles/ubuntu_xenial/Dockerfile', 'dockerfiles/ubuntu_bionic/sources.list', 'dockerfiles/ubuntu_focal/Dockerfile', 'dockerfiles/ubuntu_bionic/Dockerfile']",6,316e8f41215e34e48035fda1b191cd68787ef5cf,,"ARG CLOUD_ARCHIVE_RELEASE=ussuri -e ""s|%%CLOUD_ARCHIVE_RELEASE%%|${CLOUD_ARCHIVE_RELEASE}|g"" \",,9,3
openstack%2Fopenstack-helm~master~I67bc26b9fc926ad947b3fb9d1b391c4693620a32,openstack/openstack-helm,master,I67bc26b9fc926ad947b3fb9d1b391c4693620a32,Fix Keystone warning for /etc/keystone/fernet_keys permission,ABANDONED,2021-05-06 03:54:19.000000000,2022-01-21 21:07:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-05-06 03:54:19.000000000', 'files': ['keystone/templates/bin/_fernet-manage.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/82d0840f314911ffe2a2f092264e4fa5ed954a4d', 'message': 'Fix Keystone warning for /etc/keystone/fernet_keys permission\n\nAttempts to fix the ""key_repository is world readable:\n/etc/keystone/fernet-keys/"" warning messages that frequently\nspams the keystone-api logs.\n\nChange-Id: I67bc26b9fc926ad947b3fb9d1b391c4693620a32\n'}]",2,789997,82d0840f314911ffe2a2f092264e4fa5ed954a4d,6,2,1,28275,,,0,"Fix Keystone warning for /etc/keystone/fernet_keys permission

Attempts to fix the ""key_repository is world readable:
/etc/keystone/fernet-keys/"" warning messages that frequently
spams the keystone-api logs.

Change-Id: I67bc26b9fc926ad947b3fb9d1b391c4693620a32
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/97/789997/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/templates/bin/_fernet-manage.py.tpl'],1,82d0840f314911ffe2a2f092264e4fa5ed954a4d,," os.makedirs(os.path.dirname(FERNET_DIR), mode=0o770)", os.makedirs(os.path.dirname(FERNET_DIR)),1,1
openstack%2Fopenstack-helm~master~Ib572e09151414355eb781ffda6e0fe38431fb274,openstack/openstack-helm,master,Ib572e09151414355eb781ffda6e0fe38431fb274,Added PostgreSQL TLS support and snippets fixing cert permissions for Placement,ABANDONED,2021-02-14 22:29:08.000000000,2022-01-21 21:06:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-14 22:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ed124b5d5685b934bd32802381494300815fb678', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Placement\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib572e09151414355eb781ffda6e0fe38431fb274\n'}, {'number': 2, 'created': '2021-02-14 22:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f6fef173c783e9ad2fb76730ad8ff7b0495caf25', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Placement\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib572e09151414355eb781ffda6e0fe38431fb274\n'}, {'number': 3, 'created': '2021-02-24 08:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c3fc645c589c4dd07798a9e8762011d1cd7a9305', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Placement\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib572e09151414355eb781ffda6e0fe38431fb274\n'}, {'number': 4, 'created': '2021-02-26 19:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1c0e9877aea7620402ef4f350804131c600aa0c5', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Placement\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib572e09151414355eb781ffda6e0fe38431fb274\n'}, {'number': 5, 'created': '2021-05-02 15:29:09.000000000', 'files': ['placement/templates/job-db-sync.yaml', 'placement/templates/job-db-migrate.yaml', 'placement/templates/job-db-drop.yaml', 'placement/templates/job-db-init.yaml', 'placement/templates/secret-db.yaml', 'releasenotes/notes/placement.yaml', 'placement/Chart.yaml', 'placement/templates/configmap-etc.yaml', 'placement/templates/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/34cf5928b708e7580ce1e54d24374a3db841b6a4', 'message': 'Added PostgreSQL TLS support and snippets fixing cert permissions for Placement\n\nDue to psycopg2 enforcing file permissions and ownership on TLS\ncertificates during connections to PostgreSQL, this approach uses init\ncontainers, because:\n- 0600-or-less permissions are expected of TLS private keys, just\n  mouting the subpath or specifying per-item permissions achieves this,\n  however…\n- certificates need to be owned by the in-container system user\n  connecting to the database, which rarely ends up being the case\n\nChange-Id: Ib572e09151414355eb781ffda6e0fe38431fb274\n'}]",0,775539,34cf5928b708e7580ce1e54d24374a3db841b6a4,12,2,5,32871,,,0,"Added PostgreSQL TLS support and snippets fixing cert permissions for Placement

Due to psycopg2 enforcing file permissions and ownership on TLS
certificates during connections to PostgreSQL, this approach uses init
containers, because:
- 0600-or-less permissions are expected of TLS private keys, just
  mouting the subpath or specifying per-item permissions achieves this,
  however…
- certificates need to be owned by the in-container system user
  connecting to the database, which rarely ends up being the case

Change-Id: Ib572e09151414355eb781ffda6e0fe38431fb274
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/39/775539/4 && git format-patch -1 --stdout FETCH_HEAD,"['placement/templates/secret-db.yaml', 'placement/templates/job-ks-user.yaml', 'placement/templates/configmap-etc.yaml', 'placement/templates/deployment.yaml', 'placement/templates/job-db-sync.yaml', 'placement/templates/job-db-migrate.yaml', 'placement/templates/job-db-drop.yaml', 'placement/templates/job-db-init.yaml', 'placement/templates/job-ks-service.yaml', 'placement/Chart.yaml', 'placement/templates/ingress.yaml', 'placement/templates/job-ks-endpoints.yaml']",12,ed124b5d5685b934bd32802381494300815fb678,postgresql-tls,"{{- if and .Values.manifests.certificates (index .Values.endpoints.identity.auth (default ""admin"" (index (default (dict) (index .Values ""bootstrap"")) ""ks_user"")) ""cacert"") -}}",{{- if .Values.manifests.certificates -}},71,19
openstack%2Fopenstack-helm~master~I3f01caaac1c2ed1b53eaec76ab1988e16073f0ef,openstack/openstack-helm,master,I3f01caaac1c2ed1b53eaec76ab1988e16073f0ef,[WIP]Adjust nova's discover_hosts mechanism,ABANDONED,2021-04-27 09:39:39.000000000,2022-01-21 21:06:50.000000000,,"[{'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2021-04-27 09:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2a789e0d8e2464b88d7135da6ccd353ad9f4dfc0', 'message': 'Adjust nova\'s discover_hosts mechanism\n\nIf there is no ""--by-service"", some hosts cannot be discovered automatically, which is very unfriendly to the discovery of baremetal.\n\nChange-Id: I3f01caaac1c2ed1b53eaec76ab1988e16073f0ef\n'}, {'number': 2, 'created': '2021-04-29 11:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8320003e2b436ca0de04ebfa46ee3c77c9eb9907', 'message': 'Adjust nova\'s discover_hosts mechanism\n\nIf there is no ""--by-service"", some hosts cannot be discovered automatically, which is very unfriendly to the discovery of baremetal.\n\nChange-Id: I3f01caaac1c2ed1b53eaec76ab1988e16073f0ef\n'}, {'number': 3, 'created': '2021-04-29 11:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c8dc0244c58b2fe6efc97ab727130fc13631501b', 'message': 'Adjust nova\'s discover_hosts mechanism\n\nIf there is no ""--by-service"", some hosts cannot be discovered automatically, which is very unfriendly to the discovery of baremetal.\n\nChange-Id: I3f01caaac1c2ed1b53eaec76ab1988e16073f0ef\n'}, {'number': 4, 'created': '2021-04-30 08:18:47.000000000', 'files': ['nova/templates/bin/_cell-setup.sh.tpl', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/557921df641aea734d1d41fde2c322268e2dec08', 'message': '[WIP]Adjust nova\'s discover_hosts mechanism\n\nIf there is no ""--by-service"", some hosts cannot be discovered automatically, which is very unfriendly to the discovery of baremetal.\n\nChange-Id: I3f01caaac1c2ed1b53eaec76ab1988e16073f0ef\n'}]",5,788232,557921df641aea734d1d41fde2c322268e2dec08,15,4,4,30449,,,0,"[WIP]Adjust nova's discover_hosts mechanism

If there is no ""--by-service"", some hosts cannot be discovered automatically, which is very unfriendly to the discovery of baremetal.

Change-Id: I3f01caaac1c2ed1b53eaec76ab1988e16073f0ef
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/32/788232/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/bin/_cell-setup.sh.tpl', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml']",3,2a789e0d8e2464b88d7135da6ccd353ad9f4dfc0,,version: 0.1.20,version: 0.1.19,3,2
openstack%2Fopenstack-helm-infra~master~I5b9d3c5956099b41f84aa998886f16bd2e0af882,openstack/openstack-helm-infra,master,I5b9d3c5956099b41f84aa998886f16bd2e0af882,upgrade Helm/Tiller version 2.17.0,ABANDONED,2021-04-28 07:40:47.000000000,2022-01-21 21:06:46.000000000,,"[{'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-04-28 07:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2e3c744522cbf7f998c0fdafeb43e37bb2799726', 'message': 'upgrade Helm/Tiller version 2.17.0\n\nChange-Id: I5b9d3c5956099b41f84aa998886f16bd2e0af882\n'}, {'number': 2, 'created': '2021-04-28 11:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7fcb72bd08e446724bcad4052f19173833315403', 'message': 'upgrade Helm/Tiller version 2.17.0\n\nChange-Id: I5b9d3c5956099b41f84aa998886f16bd2e0af882\n'}, {'number': 3, 'created': '2021-04-29 05:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/793a565c575c722bce9a9d5933205f3a21c7c550', 'message': 'upgrade Helm/Tiller version 2.17.0\n\nChange-Id: I5b9d3c5956099b41f84aa998886f16bd2e0af882\n'}, {'number': 4, 'created': '2021-04-29 09:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e752211bd6b2758b4624680523462fa538054054', 'message': 'upgrade Helm/Tiller version 2.17.0\n\nChange-Id: I5b9d3c5956099b41f84aa998886f16bd2e0af882\n'}, {'number': 5, 'created': '2021-04-29 12:16:32.000000000', 'files': ['tools/gate/divingbell/divingbell-tests.sh', 'tools/images/kubeadm-aio/Dockerfile', 'tiller/values.yaml', 'roles/build-images/defaults/main.yml', 'roles/build-helm-packages/defaults/main.yml', 'tiller/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ebb2fc3d8a0b7103040a43594cceded2ea84389c', 'message': 'upgrade Helm/Tiller version 2.17.0\n\nChange-Id: I5b9d3c5956099b41f84aa998886f16bd2e0af882\n'}]",0,788415,ebb2fc3d8a0b7103040a43594cceded2ea84389c,15,4,5,32729,,,0,"upgrade Helm/Tiller version 2.17.0

Change-Id: I5b9d3c5956099b41f84aa998886f16bd2e0af882
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/15/788415/3 && git format-patch -1 --stdout FETCH_HEAD,['tiller/values.yaml'],1,2e3c744522cbf7f998c0fdafeb43e37bb2799726,, tiller: gcr.io/kubernetes-helm/tiller:v2.17.0, tiller: gcr.io/kubernetes-helm/tiller:v2.16.9,1,1
openstack%2Fopenstack-helm~master~I6db64661d7e7f5c3b2cffe38c00155a6dadd2f3a,openstack/openstack-helm,master,I6db64661d7e7f5c3b2cffe38c00155a6dadd2f3a,feat(nova): add serial console support,ABANDONED,2021-04-23 21:58:05.000000000,2022-01-21 21:06:41.000000000,,"[{'_account_id': 8898}, {'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-04-23 21:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7ddc3e83cf77348f9f9a82285635dcfbbe5afbf8', 'message': 'feat: add serial console support to Nova\n\nChange-Id: I6db64661d7e7f5c3b2cffe38c00155a6dadd2f3a\n'}, {'number': 2, 'created': '2021-04-23 21:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/afcc37381ef52c08484f2c02b361a6fd8f089d1a', 'message': 'feat(nova): add serial console support\n\nChange-Id: I6db64661d7e7f5c3b2cffe38c00155a6dadd2f3a\n'}, {'number': 3, 'created': '2021-04-23 22:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7c5de663ebb0aa7355013ad645fbd29ae05a1329', 'message': 'feat(nova): add serial console support\n\nSome compute instances only support viewing the console or doing\ninitial configuration via a serial console. Examples of this include\nJuniper vMX which is a virtial Juniper router operating system and\nsome of their other products like vSRX.\n\nThis change introduces support for enabling and connecting to\nthe serial console of a Nova compute instance. Enabling it will\nautomatically add a serial console server to each compute instance\nby Nova. This also enables the Nova serial console proxy which allows\nclients to connect to the serial console.\n\nChange-Id: I6db64661d7e7f5c3b2cffe38c00155a6dadd2f3a\n'}, {'number': 4, 'created': '2021-04-23 22:29:26.000000000', 'files': ['nova/templates/bin/_nova-console-proxy-init.sh.tpl', 'nova/templates/bin/_nova-console-proxy-init-assets.sh.tpl', 'nova/templates/bin/_nova-compute-init.sh.tpl', 'nova/templates/bin/_nova-console-proxy.sh.tpl', 'nova/values.yaml', 'nova/templates/deployment-serialproxy.yaml', 'nova/templates/service-serialproxy.yaml', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml', 'nova/templates/deployment-novncproxy.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cee05ad5602ebe28641ec165f873a7d6a2d1f031', 'message': 'feat(nova): add serial console support\n\nSome compute instances only support viewing the console or doing\ninitial configuration via a serial console. Examples of this include\nJuniper vMX which is a virtial Juniper router operating system and\nsome of their other products like vSRX.\n\nThis change introduces support for enabling and connecting to\nthe serial console of a Nova compute instance. Enabling it will\nautomatically add a serial console server to each compute instance\nby Nova. This also enables the Nova serial console proxy which allows\nclients to connect to the serial console.\n\nChange-Id: I6db64661d7e7f5c3b2cffe38c00155a6dadd2f3a\n'}]",9,787824,cee05ad5602ebe28641ec165f873a7d6a2d1f031,16,7,4,17440,,,0,"feat(nova): add serial console support

Some compute instances only support viewing the console or doing
initial configuration via a serial console. Examples of this include
Juniper vMX which is a virtial Juniper router operating system and
some of their other products like vSRX.

This change introduces support for enabling and connecting to
the serial console of a Nova compute instance. Enabling it will
automatically add a serial console server to each compute instance
by Nova. This also enables the Nova serial console proxy which allows
clients to connect to the serial console.

Change-Id: I6db64661d7e7f5c3b2cffe38c00155a6dadd2f3a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/24/787824/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/bin/_nova-console-proxy-init.sh.tpl', 'nova/templates/bin/_nova-console-proxy-init-assets.sh.tpl', 'nova/templates/bin/_nova-compute-init.sh.tpl', 'nova/templates/bin/_nova-console-proxy.sh.tpl', 'nova/values.yaml', 'nova/templates/deployment-serialproxy.yaml', 'nova/templates/service-serialproxy.yaml', 'nova/Chart.yaml', 'nova/templates/deployment-novncproxy.yaml']",9,7ddc3e83cf77348f9f9a82285635dcfbbe5afbf8,nova-serial-console, env: - name: CONSOLE_KIND value: novnc env: - name: CONSOLE_KIND value: novnc env: - name: CONSOLE_KIND value: novnc,,314,15
openstack%2Fopenstack-helm~master~I84b7aa481693f4b2043521c5414f90620149b799,openstack/openstack-helm,master,I84b7aa481693f4b2043521c5414f90620149b799,[DNM] Testing TLS with Rabbit.,ABANDONED,2021-04-26 13:36:09.000000000,2022-01-21 21:06:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-26 13:36:09.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3f395708b5160a7905b0b47a4db5ff73fa9eef4f', 'message': '[DNM] Testing TLS with Rabbit.\n\nChange-Id: I84b7aa481693f4b2043521c5414f90620149b799\n'}]",0,787997,3f395708b5160a7905b0b47a4db5ff73fa9eef4f,4,1,1,24780,,,0,"[DNM] Testing TLS with Rabbit.

Change-Id: I84b7aa481693f4b2043521c5414f90620149b799
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/97/787997/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml']",2,3f395708b5160a7905b0b47a4db5ff73fa9eef4f,, openstack_release: train, nodeset: openstack-helm-single-16GB-node openstack_release: stein,2,2
openstack%2Fopenstack-helm~master~I02ceb7cc43ea746563e39834e13ff9ed9eb00afd,openstack/openstack-helm,master,I02ceb7cc43ea746563e39834e13ff9ed9eb00afd,Initial watcher helm chart,ABANDONED,2020-04-15 07:53:54.000000000,2022-01-21 21:06:32.000000000,,"[{'_account_id': 5575}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 29911}, {'_account_id': 30449}, {'_account_id': 31455}]","[{'number': 1, 'created': '2020-04-15 07:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d03df2f3f788a243d3ca7b9befe94bb7173a3e1c', 'message': 'Initial watcher helm chart\n\nAdds the initial helm chart for OpenStack Watcher.\n\nChange-Id: I02ceb7cc43ea746563e39834e13ff9ed9eb00afd\nCo-authored-by: Jose Castro Leon <jose.castro.leon@cern.ch>\n'}, {'number': 2, 'created': '2020-06-13 12:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/37fef1c8dcf6c33051f4955546f57246e2752014', 'message': 'Initial watcher helm chart\n\nAdds the initial helm chart for OpenStack Watcher. With job to test deployment\nin multinode setup.\n\nChange-Id: I02ceb7cc43ea746563e39834e13ff9ed9eb00afd\nCo-authored-by: Jose Castro Leon <jose.castro.leon@cern.ch>\n'}, {'number': 3, 'created': '2020-06-13 14:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/083c1d35e18555f33b2e72fa3dd0c3c06bb2dbab', 'message': 'Initial watcher helm chart\n\nAdds the initial helm chart for OpenStack Watcher. With job to test deployment\nin multinode setup.\n\nChange-Id: I02ceb7cc43ea746563e39834e13ff9ed9eb00afd\nCo-authored-by: Jose Castro Leon <jose.castro.leon@cern.ch>\n'}, {'number': 4, 'created': '2020-06-13 15:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2da91701f2fe7761a28ec766f376f16f6ddafaa5', 'message': 'Initial watcher helm chart\n\nAdds the initial helm chart for OpenStack Watcher. With job to test deployment\nin multinode setup.\n\nChange-Id: I02ceb7cc43ea746563e39834e13ff9ed9eb00afd\nCo-authored-by: Jose Castro Leon <jose.castro.leon@cern.ch>\n'}, {'number': 5, 'created': '2020-06-13 17:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/62247d28a69435305abf9fe09c843ea724f1987c', 'message': 'Initial watcher helm chart\n\nAdds the initial helm chart for OpenStack Watcher. With job to test deployment\nin multinode setup.\n\nChange-Id: I02ceb7cc43ea746563e39834e13ff9ed9eb00afd\nCo-authored-by: Jose Castro Leon <jose.castro.leon@cern.ch>\n'}, {'number': 6, 'created': '2020-07-03 06:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6113f9c8c3cc1b70dfbb39b1266ca699f9dee377', 'message': 'Initial watcher helm chart\n\nAdds the initial helm chart for OpenStack Watcher. Included is a zuul job to\ntest deployment in multinode setup.\n\nChange-Id: I02ceb7cc43ea746563e39834e13ff9ed9eb00afd\nCo-authored-by: Jose Castro Leon <jose.castro.leon@cern.ch>\n'}, {'number': 7, 'created': '2020-07-03 06:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b8e7ff565d7bae80421b7ef020e0293108499945', 'message': 'Initial watcher helm chart\n\nAdds the initial helm chart for OpenStack Watcher. Included is a zuul\njob to test deployment in multinode setup.\n\nChange-Id: I02ceb7cc43ea746563e39834e13ff9ed9eb00afd\nCo-authored-by: Jose Castro Leon <jose.castro.leon@cern.ch>\n'}, {'number': 8, 'created': '2020-08-16 09:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/796c1821171a3e6133001d0fa66ad11485b3c165', 'message': 'Initial watcher helm chart\n\nAdds the initial helm chart for OpenStack Watcher. Included is a zuul\njob to test deployment in multinode setup.\n\nChange-Id: I02ceb7cc43ea746563e39834e13ff9ed9eb00afd\nCo-authored-by: Jose Castro Leon <jose.castro.leon@cern.ch>\n'}, {'number': 9, 'created': '2020-09-30 17:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2fe4ea0bd6992edfad529828736372e51f848b09', 'message': 'Initial watcher helm chart\n\nAdds the initial helm chart for OpenStack Watcher. Included is a zuul\njob to test deployment in multinode setup.\n\nChange-Id: I02ceb7cc43ea746563e39834e13ff9ed9eb00afd\nCo-authored-by: Jose Castro Leon <jose.castro.leon@cern.ch>\n'}, {'number': 10, 'created': '2021-02-09 08:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e1e83577daf4495d7262e2186ba8e9fc52792bd3', 'message': 'Initial watcher helm chart\n\nAdds the initial helm chart for OpenStack Watcher. Included is a zuul\njob to test deployment in multinode setup.\n\nChange-Id: I02ceb7cc43ea746563e39834e13ff9ed9eb00afd\nCo-authored-by: Jose Castro Leon <jose.castro.leon@cern.ch>\n'}, {'number': 11, 'created': '2021-02-09 09:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fc9d3a9c09e48244557a2c1bc9ea793e1ec9dd86', 'message': 'Initial watcher helm chart\n\nAdds the initial helm chart for OpenStack Watcher. Included is a zuul\njob to test deployment in multinode setup.\n\nChange-Id: I02ceb7cc43ea746563e39834e13ff9ed9eb00afd\nCo-authored-by: Jose Castro Leon <jose.castro.leon@cern.ch>\n'}, {'number': 12, 'created': '2021-02-09 15:14:26.000000000', 'files': ['watcher/templates/job-image-repo-sync.yaml', 'watcher/templates/network_policy.yaml', 'watcher/requirements.yaml', 'watcher/templates/service-api.yaml', 'watcher/templates/job-db-drop.yaml', 'watcher/templates/job-db-sync.yaml', 'watcher/templates/job-ks-endpoints.yaml', 'watcher/templates/job-bootstrap.yaml', 'watcher/templates/secret-db.yaml', 'watcher/templates/pod-rally-test.yaml', 'watcher/templates/ingress-api.yaml', 'watcher/templates/job-ks-service.yaml', 'watcher/templates/pdb-api.yaml', 'watcher/templates/secret-rabbitmq.yaml', 'watcher/templates/job-db-init.yaml', 'watcher/templates/job-rabbit-init.yaml', 'tools/deployment/multinode/270-watcher.sh', 'watcher/templates/deployment-api.yaml', 'watcher/Chart.yaml', 'watcher/templates/configmap-etc.yaml', 'watcher/templates/deployment-applier.yaml', 'watcher/templates/job-ks-user.yaml', 'watcher/templates/service-ingress-api.yaml', 'watcher/templates/bin/_db-sync.sh.tpl', 'watcher/values.yaml', 'watcher/templates/configmap-bin.yaml', 'watcher/templates/bin/_bootstrap.sh.tpl', 'watcher/templates/bin/_watcher-api.sh.tpl', 'watcher/templates/bin/_watcher-applier.sh.tpl', 'watcher/templates/bin/_watcher-decision-engine.sh.tpl', 'watcher/templates/secret-keystone.yaml', 'watcher/templates/statefulset-decision-engine.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/43d31153119df3961f9692ca73640e93f7eef15c', 'message': 'Initial watcher helm chart\n\nAdds the initial helm chart for OpenStack Watcher. Included is a zuul\njob to test deployment in multinode setup.\n\nChange-Id: I02ceb7cc43ea746563e39834e13ff9ed9eb00afd\nCo-authored-by: Jose Castro Leon <jose.castro.leon@cern.ch>\n'}]",9,720140,43d31153119df3961f9692ca73640e93f7eef15c,53,10,12,29911,,,0,"Initial watcher helm chart

Adds the initial helm chart for OpenStack Watcher. Included is a zuul
job to test deployment in multinode setup.

Change-Id: I02ceb7cc43ea746563e39834e13ff9ed9eb00afd
Co-authored-by: Jose Castro Leon <jose.castro.leon@cern.ch>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/40/720140/5 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/templates/job-image-repo-sync.yaml', 'watcher/templates/network_policy.yaml', 'watcher/requirements.yaml', 'watcher/templates/service-api.yaml', 'watcher/templates/job-db-drop.yaml', 'watcher/templates/job-db-sync.yaml', 'watcher/templates/job-ks-endpoints.yaml', 'watcher/templates/job-bootstrap.yaml', 'watcher/templates/secret-db.yaml', 'watcher/templates/pod-rally-test.yaml', 'watcher/templates/ingress-api.yaml', 'watcher/templates/job-ks-service.yaml', 'watcher/templates/pdb-api.yaml', 'watcher/templates/secret-rabbitmq.yaml', 'watcher/templates/job-db-init.yaml', 'watcher/templates/job-rabbit-init.yaml', 'watcher/templates/deployment-api.yaml', 'watcher/Chart.yaml', 'watcher/templates/configmap-etc.yaml', 'watcher/templates/deployment-applier.yaml', 'watcher/templates/job-ks-user.yaml', 'watcher/templates/service-ingress-api.yaml', 'watcher/templates/bin/_db-sync.sh.tpl', 'watcher/values.yaml', 'watcher/templates/configmap-bin.yaml', 'watcher/templates/bin/_bootstrap.sh.tpl', 'watcher/templates/bin/_watcher-api.sh.tpl', 'watcher/templates/bin/_watcher-applier.sh.tpl', 'watcher/templates/bin/_watcher-decision-engine.sh.tpl', 'watcher/templates/secret-keystone.yaml', 'watcher/templates/statefulset-decision-engine.yaml']",31,d03df2f3f788a243d3ca7b9befe94bb7173a3e1c,change-720140-11,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.statefulset_decision_engine }} {{- $envAll := . }} {{- $mounts_watcher_decision_engine := .Values.pod.mounts.watcher_decision_engine.watcher_decision_engine }} {{- $mounts_watcher_decision_engine_init := .Values.pod.mounts.watcher_decision_engine.init_container }} {{- $serviceAccountName := ""watcher-decision-engine"" }} {{ tuple $envAll ""decision_engine"" $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} --- apiVersion: apps/v1 kind: StatefulSet metadata: name: watcher-decision-engine annotations: {{ tuple $envAll | include ""helm-toolkit.snippets.release_uuid"" }} labels: {{ tuple $envAll ""watcher"" ""decision-engine"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 4 }} spec: serviceName: watcher-decision-engine replicas: {{ .Values.pod.replicas.engine }} selector: matchLabels: {{ tuple $envAll ""watcher"" ""decision-engine"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 6 }} template: metadata: labels: {{ tuple $envAll ""watcher"" ""decision-engine"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} annotations: {{ tuple $envAll | include ""helm-toolkit.snippets.release_uuid"" | indent 8 }} spec: serviceAccountName: {{ $serviceAccountName }} affinity: {{ tuple $envAll ""watcher"" ""decision-engine"" | include ""helm-toolkit.snippets.kubernetes_pod_anti_affinity"" | indent 8 }} nodeSelector: {{ .Values.labels.decision_engine.node_selector_key }}: {{ .Values.labels.decision_engine.node_selector_value }} initContainers: {{ tuple $envAll ""decision-engine"" $mounts_watcher_decision_engine_init | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }} containers: - name: watcher-decision-engine {{ tuple $envAll ""watcher_decision_engine"" | include ""helm-toolkit.snippets.image"" | indent 10 }} {{ tuple $envAll $envAll.Values.pod.resources.decision_engine | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} securityContext: runAsUser: {{ .Values.pod.user.watcher.uid }} command: - /tmp/watcher-decision-engine.sh volumeMounts: - name: pod-etc-watcher mountPath: /etc/watcher - name: watcher-bin mountPath: /tmp/watcher-decision-engine.sh subPath: watcher-decision-engine.sh readOnly: true - name: watcher-etc mountPath: /etc/watcher/watcher.conf subPath: watcher.conf readOnly: true - name: watcher-etc mountPath: {{ .Values.conf.watcher.DEFAULT.log_config_append }} subPath: {{ base .Values.conf.watcher.DEFAULT.log_config_append }} readOnly: true {{ if $mounts_watcher_decision_engine.volumeMounts }}{{ toYaml $mounts_watcher_decision_engine.volumeMounts | indent 12 }}{{ end }} volumes: - name: pod-etc-watcher emptyDir: {} - name: watcher-bin configMap: name: watcher-bin defaultMode: 0555 - name: watcher-etc secret: secretName: watcher-etc defaultMode: 0444 {{ if $mounts_watcher_decision_engine.volumes }}{{ toYaml $mounts_watcher_decision_engine.volumes | indent 8 }}{{ end }} {{- end }} ",,1707,0
openstack%2Fopenstack-helm~master~Ie91a9f727ed825e831e12d0edb64bb4cb3aade1e,openstack/openstack-helm,master,Ie91a9f727ed825e831e12d0edb64bb4cb3aade1e,[DNM] JUST TO TEST OSH PS,ABANDONED,2021-04-14 21:45:21.000000000,2022-01-21 21:06:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-14 21:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/761da0d2b32cf7f5a51f098898a0d4f8e3e7abc2', 'message': '[DNM] JUST TO TEST OSH PS\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm-infra/+/770678\nChange-Id: Ie91a9f727ed825e831e12d0edb64bb4cb3aade1e\n'}, {'number': 2, 'created': '2021-04-21 22:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fdc417fa9985ba39d50478ed2487a7a9e138742c', 'message': '[DNM] JUST TO TEST OSH PS\n\n\nChange-Id: Ie91a9f727ed825e831e12d0edb64bb4cb3aade1e\n'}, {'number': 3, 'created': '2021-04-21 22:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/52b0a7164e6b848ca7482c858676f2647167e7cd', 'message': '[DNM] JUST TO TEST OSH PS\n\n\nChange-Id: Ie91a9f727ed825e831e12d0edb64bb4cb3aade1e\n'}, {'number': 4, 'created': '2021-04-22 13:26:25.000000000', 'files': ['cinder/values.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/05cffa42d41941b03397c69c7d8935a5620b19f1', 'message': '[DNM] JUST TO TEST OSH PS\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/787557\n\nChange-Id: Ie91a9f727ed825e831e12d0edb64bb4cb3aade1e\n'}]",0,786332,05cffa42d41941b03397c69c7d8935a5620b19f1,20,1,4,24780,,,0,"[DNM] JUST TO TEST OSH PS

Depends-on: https://review.opendev.org/c/openstack/openstack-helm/+/787557

Change-Id: Ie91a9f727ed825e831e12d0edb64bb4cb3aade1e
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/32/786332/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/values.yaml'],1,761da0d2b32cf7f5a51f098898a0d4f8e3e7abc2,change-786332-3,,,1,0
openstack%2Floci~master~I29cb5c63d42e34079d670c2daaaa7b88ceef4358,openstack/loci,master,I29cb5c63d42e34079d670c2daaaa7b88ceef4358,Remove parent project for plugin build,ABANDONED,2020-06-12 20:59:14.000000000,2022-01-21 21:06:05.000000000,,"[{'_account_id': 8863}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2020-06-12 20:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/29720caf2dcdde5b0d1dcedbb77798228c844b6f', 'message': 'Remove parent project for plugin build\n\nIn case if adding plugin to some component image AND plugin has parent\nproject as a depencency AND parent project is mentioned in constrains -\nparent project will be reinstalled according to constraints even if its\nversion satisfies requirements.txt of a plugin, that is barely desired.\n\nReusing PLUGIN argument here to carry parent project for plugin build.\nPlease note that parent project will still be reinstalled if a version\nof installed one # does not satisfy requirements.txt of a plugin\n\nThis is exactly the case for tap-as-a-service plugin and neutron that is\na part of constraints for non-master branches.\n\nChange-Id: I29cb5c63d42e34079d670c2daaaa7b88ceef4358\n'}, {'number': 2, 'created': '2020-06-12 20:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/94fdd3b7af6f1a2faab335e74ee2733c4dc4a006', 'message': 'Remove parent project for plugin build\n\nIn case if adding plugin to some component image AND plugin has parent\nproject as a depencency AND parent project is mentioned in constrains -\nparent project will be reinstalled according to constraints even if its\nversion satisfies requirements.txt of a plugin, that is barely desired.\n\nReusing PLUGIN argument here to carry parent project for plugin build.\nPlease note that parent project will still be reinstalled if a version\nof installed one # does not satisfy requirements.txt of a plugin\n\nThis is exactly the case for tap-as-a-service plugin and neutron that is\na part of constraints for non-master branches.\n\nChange-Id: I29cb5c63d42e34079d670c2daaaa7b88ceef4358\n'}, {'number': 3, 'created': '2020-06-15 20:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/dfefc6d75514039aa7576ef5a069d6f99f412753', 'message': 'Remove parent project for plugin build\n\nIn case if adding plugin to some component image AND plugin has parent\nproject as a depencency AND parent project is mentioned in constrains -\nparent project will be reinstalled according to constraints even if its\nversion satisfies requirements.txt of a plugin, that is barely desired.\n\nReusing PLUGIN argument here to carry parent project for plugin build.\nPlease note that parent project will still be reinstalled if a version\nof installed one # does not satisfy requirements.txt of a plugin\n\nThis is exactly the case for tap-as-a-service plugin and neutron that is\na part of constraints for non-master branches.\n\nChange-Id: I29cb5c63d42e34079d670c2daaaa7b88ceef4358\n'}, {'number': 4, 'created': '2020-06-15 20:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/65083c206292cb05ab3ae9c59b3a12f9cb711f55', 'message': 'Remove parent project for plugin build\n\nIn case if adding plugin to some component image AND plugin has parent\nproject as a depencency AND parent project is mentioned in constrains -\nparent project will be reinstalled according to constraints even if its\nversion satisfies requirements.txt of a plugin, that is barely desired.\n\nReusing PLUGIN argument here to carry parent project for plugin build.\nPlease note that parent project will still be reinstalled if a version\nof installed one # does not satisfy requirements.txt of a plugin\n\nThis is exactly the case for tap-as-a-service plugin and neutron that is\na part of constraints for non-master branches.\n\nChange-Id: I29cb5c63d42e34079d670c2daaaa7b88ceef4358\n'}, {'number': 5, 'created': '2020-06-22 19:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/6614fae6dbf12bc4e8443627c819af9e0292cc2a', 'message': 'Remove parent project for plugin build\n\nIn case if adding plugin to some component image AND plugin has parent\nproject as a depencency AND parent project is mentioned in constrains -\nparent project will be reinstalled according to constraints even if its\nversion satisfies requirements.txt of a plugin, that is barely desired.\n\nReusing PLUGIN argument here to carry parent project for plugin build.\nPlease note that parent project will still be reinstalled if a version\nof installed one # does not satisfy requirements.txt of a plugin\n\nThis is exactly the case for tap-as-a-service plugin and neutron that is\na part of constraints for non-master branches.\n\nChange-Id: I29cb5c63d42e34079d670c2daaaa7b88ceef4358\n'}, {'number': 6, 'created': '2020-07-03 15:41:45.000000000', 'files': ['scripts/fetch_wheels.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/7167761fb29103f7c8645aac751305876ac9f677', 'message': 'Remove parent project for plugin build\n\nIn case if adding plugin to some component image AND plugin has parent\nproject as a depencency AND parent project is mentioned in constrains -\nparent project will be reinstalled according to constraints even if its\nversion satisfies requirements.txt of a plugin, that is barely desired.\n\nReusing PLUGIN argument here to carry parent project for plugin build.\nPlease note that parent project will still be reinstalled if a version\nof installed one # does not satisfy requirements.txt of a plugin\n\nThis is exactly the case for tap-as-a-service plugin and neutron that is\na part of constraints for non-master branches.\n\nChange-Id: I29cb5c63d42e34079d670c2daaaa7b88ceef4358\n'}]",0,735394,7167761fb29103f7c8645aac751305876ac9f677,21,5,6,8863,,,0,"Remove parent project for plugin build

In case if adding plugin to some component image AND plugin has parent
project as a depencency AND parent project is mentioned in constrains -
parent project will be reinstalled according to constraints even if its
version satisfies requirements.txt of a plugin, that is barely desired.

Reusing PLUGIN argument here to carry parent project for plugin build.
Please note that parent project will still be reinstalled if a version
of installed one # does not satisfy requirements.txt of a plugin

This is exactly the case for tap-as-a-service plugin and neutron that is
a part of constraints for non-master branches.

Change-Id: I29cb5c63d42e34079d670c2daaaa7b88ceef4358
",git fetch https://review.opendev.org/openstack/loci refs/changes/94/735394/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/fetch_wheels.sh'],1,29720caf2dcdde5b0d1dcedbb77798228c844b6f,," # In case if adding plugin to some component image, plugin has parent project # as a depencency and parent project is mentioned in constrains - parent # project will be reinstalled according to constraints even if its version # satisfies requirements.txt of a plugin, that is barely desired. # Reusing PLUGIN argument here to carry parent project for plugin build. # Please note that parent project will still be reinstalled if a version # of installed one # does not satisfy requirements.txt of a plugin # This is exactly the case for tap-as-a-service plugin and neutron that is # a part of constraints for non-master branches. if [[ ""${PLUGIN}"" != ""no"" ]]; then sed -i ""/^${PLUGIN}===/d"" /tmp/wheels/upper-constraints.txt fi",,13,0
openstack%2Fopenstack-helm-images~master~Ie296d3c32ca6054583bcdaef47ff769e87ed885b,openstack/openstack-helm-images,master,Ie296d3c32ca6054583bcdaef47ff769e87ed885b,[test],ABANDONED,2021-04-13 14:53:40.000000000,2022-01-21 21:06:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-13 14:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c436d03b0466e8c426d961992a02cf77e61bb801', 'message': '[test]\n\nChange-Id: Ie296d3c32ca6054583bcdaef47ff769e87ed885b\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2021-04-13 15:08:47.000000000', 'files': ['zuul.d/calicoctl-utility.yaml', 'zuul.d/fluentd.yaml', 'zuul.d/ospurge.yaml', 'zuul.d/tempest.yaml', 'zuul.d/ceph-daemon.yaml', 'zuul.d/patroni.yaml', 'zuul.d/ceph-rbd-provisioner.yaml', 'zuul.d/osh-selenium.yaml', 'zuul.d/ceph-cephfs-provisioner.yaml', 'zuul.d/mini-mirror.yaml', 'zuul.d/nova-ssh.yaml', 'zuul.d/minikube-aio.yaml', 'zuul.d/ceph-utility.yaml', 'zuul.d/gate-utils.yaml', 'zuul.d/libvirt.yaml', 'zuul.d/base.yaml', 'zuul.d/ceph-config-helper.yaml', 'zuul.d/nagios.yaml', 'zuul.d/vbmc.yaml', 'zuul.d/prometheus-openstack-exporter.yaml', 'zuul.d/node-problem-detector.yaml', 'zuul.d/elasticsearch-s3.yaml', 'zuul.d/openstack-loci.yaml', 'zuul.d/mariadb.yaml', 'zuul.d/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/80795691c49360d39a4186f2e413ce3ca09e6370', 'message': '[test]\n\nChange-Id: Ie296d3c32ca6054583bcdaef47ff769e87ed885b\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,786061,80795691c49360d39a4186f2e413ce3ca09e6370,5,1,2,8863,,,0,"[test]

Change-Id: Ie296d3c32ca6054583bcdaef47ff769e87ed885b
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/61/786061/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,c436d03b0466e8c426d961992a02cf77e61bb801,,,,1,0
openstack%2Fopenstack-helm-infra~master~I918dfd2ceaa5f73ec00c196a827b6215b259fdcc,openstack/openstack-helm-infra,master,I918dfd2ceaa5f73ec00c196a827b6215b259fdcc,Removed keysize from certificate,ABANDONED,2021-03-25 06:13:01.000000000,2022-01-21 21:05:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-25 06:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/802b328a9e72932bdb00d4415cbf16139b85977f', 'message': 'Removed keysize from certificate\n\nAs ""keySize"" field has been removed from api io.cert-manager.v1.Certificate.spec, it was creating issue while installing charts with tls\nenabled. This patch removed the keysize field from chart manifest from helm-toolkit.\n\nChange-Id: I918dfd2ceaa5f73ec00c196a827b6215b259fdcc\n'}, {'number': 2, 'created': '2021-03-25 07:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6190a973092389f10fe3e9d783add2a62180b266', 'message': 'Removed keysize from certificate\n\nAs ""keySize"" field has been removed from api io.cert-manager.v1.Certificate.spec, it was creating issue while installing charts with tls\nenabled. This patch removed the keysize field from chart manifest from helm-toolkit.\n\nChange-Id: I918dfd2ceaa5f73ec00c196a827b6215b259fdcc\n'}, {'number': 3, 'created': '2021-03-31 08:55:27.000000000', 'files': ['helm-toolkit/templates/manifests/_certificates.tpl', 'helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a31e262c22ae1ebdcb922fc91bb42086f847c397', 'message': 'Removed keysize from certificate\n\nAs ""keySize"" field has been removed from api io.cert-manager.v1.Certificate.spec, it was creating issue while installing charts with tls\nenabled. This patch removed the keysize field from chart manifest from helm-toolkit. Having keysize will give issue with the v1 api though keySize  still exist on v1alpha1 apis.\n\nChange-Id: I918dfd2ceaa5f73ec00c196a827b6215b259fdcc\n'}]",0,782901,a31e262c22ae1ebdcb922fc91bb42086f847c397,9,1,3,33130,,,0,"Removed keysize from certificate

As ""keySize"" field has been removed from api io.cert-manager.v1.Certificate.spec, it was creating issue while installing charts with tls
enabled. This patch removed the keysize field from chart manifest from helm-toolkit. Having keysize will give issue with the v1 api though keySize  still exist on v1alpha1 apis.

Change-Id: I918dfd2ceaa5f73ec00c196a827b6215b259fdcc
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/01/782901/2 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/manifests/_certificates.tpl', 'helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml']",3,802b328a9e72932bdb00d4415cbf16139b85977f,certbot_specs_fix, - 0.2.8 Removed keySize from certificate manifest as it has been removed from apiVersion cert-manager.io/v1 ,,2,5
openstack%2Fopenstack-helm~master~I183c94c962545b9159772b1edc53c9a97a4460db,openstack/openstack-helm,master,I183c94c962545b9159772b1edc53c9a97a4460db,Fixed the jobAnnotation metadata position,ABANDONED,2021-03-25 06:32:24.000000000,2022-01-21 21:05:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-25 06:32:24.000000000', 'files': ['keystone/templates/job-db-init.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ea70ec1e1621c6a91d9cb08d02579a24ba62595b', 'message': 'Fixed the jobAnnotation metadata position\n\nChanges the position of the jobAnnotations metadata, moving it outside the certificates enabled condition block.\n\nChange-Id: I183c94c962545b9159772b1edc53c9a97a4460db\n'}]",0,782905,ea70ec1e1621c6a91d9cb08d02579a24ba62595b,3,1,1,33130,,,0,"Fixed the jobAnnotation metadata position

Changes the position of the jobAnnotations metadata, moving it outside the certificates enabled condition block.

Change-Id: I183c94c962545b9159772b1edc53c9a97a4460db
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/05/782905/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/job-db-init.yaml', 'releasenotes/notes/keystone.yaml', 'keystone/Chart.yaml']",3,ea70ec1e1621c6a91d9cb08d02579a24ba62595b,keystone_hook_fix,version: 0.1.12,version: 0.1.11,4,3
openstack%2Fopenstack-helm~master~I409fdf2c8d0132bfda55d5369c1643c765a375b4,openstack/openstack-helm,master,I409fdf2c8d0132bfda55d5369c1643c765a375b4,[WIP] Enable TLS for Barbican in ucp namespace,ABANDONED,2021-03-15 20:21:17.000000000,2022-01-21 21:05:25.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2021-03-15 20:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fa4df50f95cf9f7c84bafc827c14346918865f51', 'message': '[WIP] Enable TLS for Barbican in ucp namespace\n\nChange-Id: I409fdf2c8d0132bfda55d5369c1643c765a375b4\n'}, {'number': 2, 'created': '2021-03-16 13:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bb3a8de5ad316308d080e6e9098e35d317504002', 'message': '[WIP] Enable TLS for Barbican in ucp namespace\n\nChange-Id: I409fdf2c8d0132bfda55d5369c1643c765a375b4\n'}, {'number': 3, 'created': '2021-03-22 14:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/158f44d4fba69f924aadf14d8f48631273de7397', 'message': '[WIP] Enable TLS for Barbican in ucp namespace\n\nChange-Id: I409fdf2c8d0132bfda55d5369c1643c765a375b4\n'}, {'number': 4, 'created': '2021-03-22 21:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ec7cfa600028c7cd61e10c62efbb5df96bad2de8', 'message': '[WIP] Enable TLS for Barbican in ucp namespace\n\nChange-Id: I409fdf2c8d0132bfda55d5369c1643c765a375b4\n'}, {'number': 5, 'created': '2021-03-22 21:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4c2a96dfca57367c9562e1638866e198f3e1aaea', 'message': '[WIP] Enable TLS for Barbican in ucp namespace\n\nChange-Id: I409fdf2c8d0132bfda55d5369c1643c765a375b4\n'}, {'number': 6, 'created': '2021-03-22 21:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d9ff8984c0b702565b0c7fc2e917fb33de4cf5a6', 'message': '[WIP] Enable TLS for Barbican in ucp namespace\n\nChange-Id: I409fdf2c8d0132bfda55d5369c1643c765a375b4\n'}, {'number': 7, 'created': '2021-03-22 21:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/19545eebdebf430a19b12f794878257d717a4914', 'message': '[WIP] Enable TLS for Barbican in ucp namespace\n\nChange-Id: I409fdf2c8d0132bfda55d5369c1643c765a375b4\n'}, {'number': 8, 'created': '2021-03-22 21:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3ae15892274103ef2e56dfbbd2a9a86e212a7824', 'message': '[WIP] Enable TLS for Barbican in ucp namespace\n\nChange-Id: I409fdf2c8d0132bfda55d5369c1643c765a375b4\n'}, {'number': 9, 'created': '2021-03-23 00:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d3d8cbb2268caff4217a53562b8719bc0f733417', 'message': '[WIP] Enable TLS for Barbican in ucp namespace\n\nChange-Id: I409fdf2c8d0132bfda55d5369c1643c765a375b4\n'}, {'number': 10, 'created': '2021-03-23 00:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/620f24bf542f76d81f211f31ffe62dbc7cc972da', 'message': '[WIP] Enable TLS for Barbican in ucp namespace\n\nChange-Id: I409fdf2c8d0132bfda55d5369c1643c765a375b4\n'}, {'number': 11, 'created': '2021-03-23 00:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/325206995e719abd2e7df443478d95f21ab23d44', 'message': '[WIP] Enable TLS for Barbican in ucp namespace\n\nChange-Id: I409fdf2c8d0132bfda55d5369c1643c765a375b4\n'}, {'number': 12, 'created': '2021-03-23 01:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5741e6fbc383ee9bccadced0525b89892dc1e700', 'message': 'Enable TLS for Barbican in ucp namespace\n\nChange-Id: I409fdf2c8d0132bfda55d5369c1643c765a375b4\n'}, {'number': 13, 'created': '2021-03-23 01:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eea3fb7b939797c95a10610ba4e217f3418abd18', 'message': 'Enable TLS for Barbican in ucp namespace\n\nChange-Id: I409fdf2c8d0132bfda55d5369c1643c765a375b4\n'}, {'number': 14, 'created': '2021-03-23 10:26:00.000000000', 'files': ['releasenotes/notes/barbican.yaml', 'barbican/Chart.yaml', 'barbican/values_overrides/tls.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b972d5f06b6d00092bf2e61a22f9912f46235f92', 'message': '[WIP] Enable TLS for Barbican in ucp namespace\n\nChange-Id: I409fdf2c8d0132bfda55d5369c1643c765a375b4\n'}]",12,780665,b972d5f06b6d00092bf2e61a22f9912f46235f92,29,3,14,29298,,,0,"[WIP] Enable TLS for Barbican in ucp namespace

Change-Id: I409fdf2c8d0132bfda55d5369c1643c765a375b4
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/65/780665/13 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/values.yaml', 'barbican/values_overrides/tls.yaml']",2,fa4df50f95cf9f7c84bafc827c14346918865f51,,--- conf: barbican: ssl: 'on' pod: security_context: barbican: pod: runAsUser: 0 container: barbican_api: allowPrivilegeEscalation: false readOnlyRootFilesystem: true endpoints: identity: auth: admin: cacert: /etc/ssl/certs/openstack-helm.crt test: cacert: /etc/ssl/certs/openstack-helm.crt host_fqdn_override: default: tls: secretName: barbican-tls-api issuerRef: name: ca-issuer kind: ClusterIssuer scheme: default: https public: https port: api: default: 443 manifests: certificates: true ... ,,37,0
openstack%2Fopenstack-helm~master~I1138759c12e8fc6a4b497df60c10630674c5e4a1,openstack/openstack-helm,master,I1138759c12e8fc6a4b497df60c10630674c5e4a1,Added post-install and post-upgrade hook annotations.,ABANDONED,2021-03-23 09:23:21.000000000,2022-01-21 21:05:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-23 09:23:21.000000000', 'files': ['aodh/Chart.yaml', 'aodh/templates/deployment-api.yaml', 'aodh/templates/job-ks-user.yaml', 'aodh/templates/job-ks-service.yaml', 'aodh/templates/job-bootstrap.yaml', 'aodh/templates/job-rabbit-init.yaml', 'aodh/templates/job-db-sync.yaml', 'releasenotes/notes/aodh.yaml', 'aodh/templates/job-ks-endpoints.yaml', 'aodh/templates/job-db-init.yaml', 'aodh/templates/job-image-repo-sync.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dc6e8a38133c2cc5bbae5f8622ff677561f0c96f', 'message': 'Added post-install and post-upgrade hook annotations.\n\nChart upgrading was failing due to some immutable fields in job are needed to upgrade. For solving this issue, we have added the\nhelm.sh/hook annotations with post-install and post-upgrade values.\nAs for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,\ndb-init jobs need to run before db-sync and so on.\n\nChange-Id: I1138759c12e8fc6a4b497df60c10630674c5e4a1\n'}]",0,782382,dc6e8a38133c2cc5bbae5f8622ff677561f0c96f,3,1,1,33130,,,0,"Added post-install and post-upgrade hook annotations.

Chart upgrading was failing due to some immutable fields in job are needed to upgrade. For solving this issue, we have added the
helm.sh/hook annotations with post-install and post-upgrade values.
As for hook-weight annotations, we have added these to control the flow of the jobs with hook creation as the jobs are dependent. Like,
db-init jobs need to run before db-sync and so on.

Change-Id: I1138759c12e8fc6a4b497df60c10630674c5e4a1
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/82/782382/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/Chart.yaml', 'aodh/templates/deployment-api.yaml', 'aodh/templates/job-ks-service.yaml', 'aodh/templates/job-ks-user.yaml', 'aodh/templates/job-bootstrap.yaml', 'aodh/templates/job-rabbit-init.yaml', 'aodh/templates/job-db-sync.yaml', 'releasenotes/notes/aodh.yaml', 'aodh/templates/job-ks-endpoints.yaml', 'aodh/templates/job-db-init.yaml', 'aodh/templates/job-image-repo-sync.yaml']",11,dc6e8a38133c2cc5bbae5f8622ff677561f0c96f,aodh_annotations,"{{- define ""metadata.annotations.job.repo_sync"" }} helm.sh/hook: post-install,post-upgrade {{- end }} {{- $imageRepoSyncJob := dict ""envAll"" . ""serviceName"" ""aodh"" ""jobAnnotations"" (include ""metadata.annotations.job.repo_sync"" . | fromYaml) -}}","{{- $imageRepoSyncJob := dict ""envAll"" . ""serviceName"" ""aodh"" -}}",53,10
openstack%2Fopenstack-helm~master~Ibdc1184d7bfc7c5e46cc15b311da440330961b65,openstack/openstack-helm,master,Ibdc1184d7bfc7c5e46cc15b311da440330961b65,Switch to openstack-helm-single-16GB-node for compute kit,ABANDONED,2020-07-08 12:30:50.000000000,2022-01-21 21:03:55.000000000,,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2020-07-08 12:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0ce08b60a1510c182d48cfdfdc494a8919a7fb11', 'message': 'Switch to openstack-helm-single-16GB-node for compute kit\n\nWe had a too long jump here [0] switching from 8 to 32.\n16 should be enough.\n\n[0] https://review.opendev.org/#/c/737200/\n\nDepends-On: https://review.opendev.org/739967\nChange-Id: Ibdc1184d7bfc7c5e46cc15b311da440330961b65\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-08 20:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c0f6f92669994d408ebaf19b77cc526e1a6ee483', 'message': 'Switch to openstack-helm-single-16GB-node for compute kit\n\nWe had a too long jump here [0] switching from 8 to 32.\n16 should be enough.\n\n[0] https://review.opendev.org/#/c/737200/\n\nDepends-On: https://review.opendev.org/739967\nChange-Id: Ibdc1184d7bfc7c5e46cc15b311da440330961b65\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-08 20:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9867d831e9b2a7f63e4bb33aeb92ec2839d42ade', 'message': 'Switch to openstack-helm-single-16GB-node for compute kit\n\nWe had a too long jump here [0] switching from 8 to 32.\n16 should be enough.\n\n[0] https://review.opendev.org/#/c/737200/\n\nDepends-On: https://review.opendev.org/739967\nChange-Id: Ibdc1184d7bfc7c5e46cc15b311da440330961b65\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-07-09 03:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/58cc54cb1cb06857d4d41f9450785f5cf9d5a648', 'message': 'Switch to openstack-helm-single-16GB-node for compute kit\n\nWe had a too long jump here [0] switching from 8 to 32.\n16 should be enough.\n\n[0] https://review.opendev.org/#/c/737200/\n\nDepends-On: https://review.opendev.org/739967\nChange-Id: Ibdc1184d7bfc7c5e46cc15b311da440330961b65\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-07-09 03:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/573aa2bb91711ff2a556c3717fc3c40aa2140140', 'message': 'Switch to openstack-helm-single-16GB-node for compute kit\n\nWe had a too long jump here [0] switching from 8 to 32.\n16 should be enough.\n\n[0] https://review.opendev.org/#/c/737200/\n\nDepends-On: https://review.opendev.org/739967\nChange-Id: Ibdc1184d7bfc7c5e46cc15b311da440330961b65\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 6, 'created': '2020-07-09 03:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8c517615c02b5c1088b8579c1bd1cfdf3f79b846', 'message': 'Switch to openstack-helm-single-16GB-node for compute kit\n\nWe had a too long jump here [0] switching from 8 to 32.\n16 should be enough.\n\n[0] https://review.opendev.org/#/c/737200/\n\nDepends-On: https://review.opendev.org/739967\nChange-Id: Ibdc1184d7bfc7c5e46cc15b311da440330961b65\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 7, 'created': '2020-07-10 00:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f5bd60f34e5b4433f1f4260155c90e61ca1f8bcb', 'message': 'Switch to openstack-helm-single-16GB-node for compute kit\n\nWe had a too long jump here [0] switching from 8 to 32.\n16 should be enough.\n\n[0] https://review.opendev.org/#/c/737200/\n\nDepends-On: https://review.opendev.org/739967\nChange-Id: Ibdc1184d7bfc7c5e46cc15b311da440330961b65\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 8, 'created': '2020-07-23 02:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bb7739c9de90b2d2c7a08fd1bc2a3bdc40dba71c', 'message': 'Switch to openstack-helm-single-16GB-node for compute kit\n\nWe had a too long jump here [0] switching from 8 to 32.\n16 should be enough.\n\n[0] https://review.opendev.org/#/c/737200/\n\nDepends-On: https://review.opendev.org/739967\nChange-Id: Ibdc1184d7bfc7c5e46cc15b311da440330961b65\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 9, 'created': '2020-07-30 14:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/69683d49a3ff23846868c4550132b99c7bf58bb1', 'message': 'Switch to openstack-helm-single-16GB-node for compute kit\n\nWe had a too long jump here [0] switching from 8 to 32.\n16 should be enough.\n\n[0] https://review.opendev.org/#/c/737200/\n\nDepends-On: https://review.opendev.org/739967\nChange-Id: Ibdc1184d7bfc7c5e46cc15b311da440330961b65\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 10, 'created': '2020-08-07 05:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0196f2ac0add6aa036689c502de8f7030d6ebba5', 'message': 'Switch to openstack-helm-single-16GB-node for compute kit\n\nWe had a too long jump here [0] switching from 8 to 32.\n16 should be enough.\n\n[0] https://review.opendev.org/#/c/737200/\n\nDepends-On: https://review.opendev.org/739967\nChange-Id: Ibdc1184d7bfc7c5e46cc15b311da440330961b65\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 11, 'created': '2020-08-07 06:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c4fc4044f1f7c6d2f2161e7a136fccb750522ff9', 'message': 'Switch to openstack-helm-single-16GB-node for compute kit\n\nWe had a too long jump here [0] switching from 8 to 32.\n16 should be enough.\n\n[0] https://review.opendev.org/#/c/737200/\n\nDepends-On: https://review.opendev.org/739967\nChange-Id: Ibdc1184d7bfc7c5e46cc15b311da440330961b65\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 12, 'created': '2020-08-07 12:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5f20596fd5053e01578f0b36158006e183984389', 'message': 'Switch to openstack-helm-single-16GB-node for compute kit\n\nChange-Id: Ibdc1184d7bfc7c5e46cc15b311da440330961b65\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 13, 'created': '2020-08-07 13:03:09.000000000', 'files': ['zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a126b07139c7d1ed5962051bc4d99cf44bfa98de', 'message': 'Switch to openstack-helm-single-16GB-node for compute kit\n\nChange-Id: Ibdc1184d7bfc7c5e46cc15b311da440330961b65\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,739969,a126b07139c7d1ed5962051bc4d99cf44bfa98de,56,5,13,8863,,,0,"Switch to openstack-helm-single-16GB-node for compute kit

Change-Id: Ibdc1184d7bfc7c5e46cc15b311da440330961b65
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/69/739969/11 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs-openstack-helm.yaml'],1,0ce08b60a1510c182d48cfdfdc494a8919a7fb11,, nodeset: openstack-helm-single-16GB-node, nodeset: openstack-helm-single-32GB-node,1,1
openstack%2Fopenstack-helm~master~I0674c1b8fa1617441a6c183c3e2eae563155b515,openstack/openstack-helm,master,I0674c1b8fa1617441a6c183c3e2eae563155b515,"[WIP] [DNM] Add ""TMOUT"" parameter in the pods",ABANDONED,2020-09-29 09:07:14.000000000,2022-01-21 21:03:36.000000000,,"[{'_account_id': 11934}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30495}, {'_account_id': 30746}, {'_account_id': 31479}]","[{'number': 1, 'created': '2020-09-29 09:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/539d05248799f74a265812a270e66b5a986127c3', 'message': '[DNM] Add ""TMOUT"" parameter\n\nChange-Id: I0674c1b8fa1617441a6c183c3e2eae563155b515\n'}, {'number': 2, 'created': '2020-10-01 12:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7e9bee853cba0cc9376df9226839a91a800be606', 'message': '[DNM] Add ""TMOUT"" parameter\n\nChange-Id: I0674c1b8fa1617441a6c183c3e2eae563155b515\n'}, {'number': 3, 'created': '2020-10-01 15:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b680f8ed3ce31fd085784583a9cd7d2e8a18eb9b', 'message': '[DNM] Add ""TMOUT"" parameter\n\nChange-Id: I0674c1b8fa1617441a6c183c3e2eae563155b515\n'}, {'number': 4, 'created': '2020-10-13 15:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9e4a3d72d6e49dd04ac15e5ed282f88108efb563', 'message': '[DNM] Add ""TMOUT"" parameter\n\nChange-Id: I0674c1b8fa1617441a6c183c3e2eae563155b515\n'}, {'number': 5, 'created': '2020-10-14 13:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2a36f9dac9e7b42c1795e04754732c2152ca06ed', 'message': '[DNM] Add ""TMOUT"" parameter\n\nChange-Id: I0674c1b8fa1617441a6c183c3e2eae563155b515\n'}, {'number': 6, 'created': '2020-10-14 14:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fc7a08e3c026e93770fcddce0a0da83806cdf42f', 'message': '[DNM] Add ""TMOUT"" parameter\n\nChange-Id: I0674c1b8fa1617441a6c183c3e2eae563155b515\n'}, {'number': 7, 'created': '2020-10-19 12:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b3aba883181b2e5057ab6b9f2a0b069f22f3f283', 'message': '[DNM] Add ""TMOUT"" parameter\n\nChange-Id: I0674c1b8fa1617441a6c183c3e2eae563155b515\n'}, {'number': 8, 'created': '2020-10-21 10:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/772f510de418092f064431afff141b91926a5689', 'message': 'Add ""TMOUT"" parameter in the pods\n\nWhen logging into a POD with an interactive shell like bash, the ""TMOUT"" \nenvironment variable is not being set. This will result in orphaned \nsessions remaining active within the POD in the event of a network \ninterruption or otherwise unclean disconnect from the session. \n\nChange-Id: I0674c1b8fa1617441a6c183c3e2eae563155b515\n'}, {'number': 9, 'created': '2020-10-21 13:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d5a6bb9dde03d6521e4d1f3e3476df8968f4412a', 'message': 'Add ""TMOUT"" parameter in the pods\n\nWhen logging into a POD with an interactive shell like bash, the ""TMOUT"" \nenvironment variable is not being set. This will result in orphaned \nsessions remaining active within the POD in the event of a network \ninterruption or otherwise unclean disconnect from the session. \n\nChange-Id: I0674c1b8fa1617441a6c183c3e2eae563155b515\n'}, {'number': 10, 'created': '2020-10-22 14:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/12f850b7341e34f214e7192d5f444c1834a7d47a', 'message': 'Add ""TMOUT"" parameter in the pods\n\nWhen logging into a POD with an interactive shell like bash, the ""TMOUT"" \nenvironment variable is not being set. This will result in orphaned \nsessions remaining active within the POD in the event of a network \ninterruption or otherwise unclean disconnect from the session. \n\nChange-Id: I0674c1b8fa1617441a6c183c3e2eae563155b515\n'}, {'number': 11, 'created': '2020-10-22 14:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/13acd5ff665dad4c453e17d0bf3db19d2e7ed279', 'message': 'Add ""TMOUT"" parameter in the pods\n\nWhen logging into a POD with an interactive shell like bash, the ""TMOUT""\nenvironment variable is not being set. This will result in orphaned\nsessions remaining active within the POD in the event of a network\ninterruption or otherwise unclean disconnect from the session.\n\nChange-Id: I0674c1b8fa1617441a6c183c3e2eae563155b515\n'}, {'number': 12, 'created': '2020-10-22 16:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c1b22c2e14e432fae1c14cbf04556a7f32d016a9', 'message': 'Add ""TMOUT"" parameter in the pods\n\nWhen logging into a POD with an interactive shell like bash, the ""TMOUT""\nenvironment variable is not being set. This will result in orphaned\nsessions remaining active within the POD in the event of a network\ninterruption or otherwise unclean disconnect from the session.\n\nChange-Id: I0674c1b8fa1617441a6c183c3e2eae563155b515\n'}, {'number': 13, 'created': '2020-10-23 14:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ade17b1f97b804f5a3f6b46fd80b1cffa96bf714', 'message': 'Add ""TMOUT"" parameter in the pods\n\nWhen logging into a POD with an interactive shell like bash, the ""TMOUT""\nenvironment variable is not being set. This will result in orphaned\nsessions remaining active within the POD in the event of a network\ninterruption or otherwise unclean disconnect from the session.\n\nChange-Id: I0674c1b8fa1617441a6c183c3e2eae563155b515\n'}, {'number': 14, 'created': '2020-10-23 14:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c047e6e98962e2bc80a1f2b1afc29414c0b31764', 'message': '[WIP] [DNM] Add ""TMOUT"" parameter in the pods\n\nWhen logging into a POD with an interactive shell like bash, the ""TMOUT""\nenvironment variable is not being set. This will result in orphaned\nsessions remaining active within the POD in the event of a network\ninterruption or otherwise unclean disconnect from the session.\n\nChange-Id: I0674c1b8fa1617441a6c183c3e2eae563155b515\n'}, {'number': 15, 'created': '2020-10-23 16:52:27.000000000', 'files': ['neutron/templates/deployment-server.yaml', 'cinder/templates/deployment-volume.yaml', 'glance/templates/deployment-registry.yaml', 'heat/Chart.yaml', 'horizon/Chart.yaml', 'cinder/templates/deployment-backup.yaml', 'cinder/templates/deployment-api.yaml', 'nova/templates/deployment-novncproxy.yaml', 'cinder/Chart.yaml', 'heat/templates/deployment-cfn.yaml', 'neutron/templates/daemonset-netns-cleanup-cron.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'glance/templates/deployment-api.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'nova/templates/deployment-scheduler.yaml', 'heat/templates/deployment-engine.yaml', 'horizon/templates/deployment.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'nova/templates/deployment-conductor.yaml', 'neutron/Chart.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'nova/Chart.yaml', 'cinder/templates/deployment-scheduler.yaml', 'glance/Chart.yaml', 'heat/templates/deployment-api.yaml', 'keystone/templates/deployment-api.yaml', 'nova/templates/deployment-consoleauth.yaml', 'nova/templates/daemonset-compute.yaml', 'keystone/Chart.yaml', 'nova/templates/deployment-api-metadata.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/62c1f534cdd834f513f1bfdc67770ee6a61a3a4b', 'message': '[WIP] [DNM] Add ""TMOUT"" parameter in the pods\n\nWhen logging into a POD with an interactive shell like bash, the ""TMOUT""\nenvironment variable is not being set. This will result in orphaned\nsessions remaining active within the POD in the event of a network\ninterruption or otherwise unclean disconnect from the session.\n\nChange-Id: I0674c1b8fa1617441a6c183c3e2eae563155b515\n'}]",4,754942,62c1f534cdd834f513f1bfdc67770ee6a61a3a4b,56,8,15,31479,,,0,"[WIP] [DNM] Add ""TMOUT"" parameter in the pods

When logging into a POD with an interactive shell like bash, the ""TMOUT""
environment variable is not being set. This will result in orphaned
sessions remaining active within the POD in the event of a network
interruption or otherwise unclean disconnect from the session.

Change-Id: I0674c1b8fa1617441a6c183c3e2eae563155b515
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/42/754942/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/deployment-conductor.yaml', 'nova/templates/deployment-consoleauth.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/templates/deployment-api-metadata.yaml', 'nova/templates/deployment-novncproxy.yaml', 'nova/templates/deployment-scheduler.yaml']",6,539d05248799f74a265812a270e66b5a986127c3,," - name: TMOUT value: ""60""",,15,0
openstack%2Fopenstack-helm-infra~master~Ia734dcc3830b552d17b665e8922ee7b35aa98cc8,openstack/openstack-helm-infra,master,Ia734dcc3830b552d17b665e8922ee7b35aa98cc8,Fix elasticsearch issue with JVM 14,ABANDONED,2020-09-09 13:00:37.000000000,2022-01-21 21:03:23.000000000,,"[{'_account_id': 10068}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-09-09 13:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e3601e5ff6cedfac0bcdb1ccd9fd28aa7ed996ab', 'message': 'Fix elasticsearch issue with JVM 14\n\nDeleted jvm_options conflict with Elasticsearch above 7.7.0 and elasticsearch failed to start on bootstrap checks stage\n\nCloses-Bug: #1894985\n\nChange-Id: Ia734dcc3830b552d17b665e8922ee7b35aa98cc8\n'}, {'number': 2, 'created': '2020-09-10 01:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/29618be912727fb4742b9f11a54f36c403aa0ee4', 'message': 'Fix elasticsearch issue with JVM 14\n\nDeleted jvm_options conflict with Elasticsearch above 7.7.0 and elasticsearch failed to start on bootstrap checks stage\n\nCloses-Bug: #1894985\n\nChange-Id: Ia734dcc3830b552d17b665e8922ee7b35aa98cc8\n'}, {'number': 3, 'created': '2020-10-23 23:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6535bb0f40f2db02f47e5140186e0b1807785f03', 'message': 'Fix elasticsearch issue with JVM 14\n\nDeleted jvm_options conflict with Elasticsearch above 7.7.0 and elasticsearch failed to start on bootstrap checks stage\n\nCloses-Bug: #1894985\n\nChange-Id: Ia734dcc3830b552d17b665e8922ee7b35aa98cc8\n'}, {'number': 4, 'created': '2021-03-09 17:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e403e72371be9797b17cd97864271b950611f5a7', 'message': 'Fix elasticsearch issue with JVM 14\n\nDeleted jvm_options conflict with Elasticsearch above 7.7.0 and elasticsearch failed to start on bootstrap checks stage\n\nCloses-Bug: #1894985\n\nChange-Id: Ia734dcc3830b552d17b665e8922ee7b35aa98cc8\n'}, {'number': 5, 'created': '2021-03-10 16:03:54.000000000', 'files': ['elasticsearch/values.yaml', 'releasenotes/notes/elasticsearch.yaml', 'elasticsearch/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0a58a86978c93594ad84af4233b84120d3c09384', 'message': 'Fix elasticsearch issue with JVM 14\n\nDeleted jvm_options conflict with Elasticsearch above 7.7.0 and elasticsearch failed to start on bootstrap checks stage\n\nCloses-Bug: #1894985\n\nChange-Id: Ia734dcc3830b552d17b665e8922ee7b35aa98cc8\n'}]",2,750647,0a58a86978c93594ad84af4233b84120d3c09384,18,5,5,32408,,,0,"Fix elasticsearch issue with JVM 14

Deleted jvm_options conflict with Elasticsearch above 7.7.0 and elasticsearch failed to start on bootstrap checks stage

Closes-Bug: #1894985

Change-Id: Ia734dcc3830b552d17b665e8922ee7b35aa98cc8
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/47/750647/3 && git format-patch -1 --stdout FETCH_HEAD,['elasticsearch/values.yaml'],1,e3601e5ff6cedfac0bcdb1ccd9fd28aa7ed996ab,bug/1894985,, -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly,0,3
openstack%2Fopenstack-helm-infra~master~Icbc7e4ca5ec9cf3c4ef660e28b45978bccf65e53,openstack/openstack-helm-infra,master,Icbc7e4ca5ec9cf3c4ef660e28b45978bccf65e53,[ceph-client] correct the replication to health metrics pool,ABANDONED,2021-02-24 20:00:02.000000000,2022-01-21 21:03:18.000000000,,"[{'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-02-24 20:00:02.000000000', 'files': ['ceph-client/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2e788e2593f781616b10347c05d659761732830e', 'message': '[ceph-client] correct the replication to health metrics pool\n\nthis is to correct the pool replication to  allign with other pools.\n\nChange-Id: Icbc7e4ca5ec9cf3c4ef660e28b45978bccf65e53\n'}]",0,777457,2e788e2593f781616b10347c05d659761732830e,5,3,1,28372,,,0,"[ceph-client] correct the replication to health metrics pool

this is to correct the pool replication to  allign with other pools.

Change-Id: Icbc7e4ca5ec9cf3c4ef660e28b45978bccf65e53
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/57/777457/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/values.yaml'],1,2e788e2593f781616b10347c05d659761732830e,, replication: 3, replication: 1,1,1
openstack%2Fopenstack-helm~master~If69dff68a2c01f46acd4e04f93531371927d0412,openstack/openstack-helm,master,If69dff68a2c01f46acd4e04f93531371927d0412,Prevent nova 'hypervisor_address' from getting multiple values,ABANDONED,2020-03-30 02:00:43.000000000,2022-01-21 21:03:15.000000000,,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2020-03-30 02:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/83b5858d31bc0f36ef85e0b642bd5873b3adae8f', 'message': ""Prevent nova 'hypervisor_address' from getting multiple values\\\n\nChange-Id: If69dff68a2c01f46acd4e04f93531371927d0412\nCloses-Bug: #1869639\n""}, {'number': 2, 'created': '2021-03-08 16:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6c8eb8faecbd7f9a39a218380afcae4c93cb8966', 'message': ""Prevent nova 'hypervisor_address' from getting multiple values\\\n\nChange-Id: If69dff68a2c01f46acd4e04f93531371927d0412\nCloses-Bug: #1869639\n""}, {'number': 3, 'created': '2021-03-09 01:01:41.000000000', 'files': ['nova/templates/bin/_nova-compute-init.sh.tpl', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f6f41ff3b5c31b68607f5403f1ef9cf410e44a13', 'message': ""Prevent nova 'hypervisor_address' from getting multiple values\n\nChange-Id: If69dff68a2c01f46acd4e04f93531371927d0412\nCloses-Bug: #1869639\n""}]",3,715753,f6f41ff3b5c31b68607f5403f1ef9cf410e44a13,11,3,3,30858,,,0,"Prevent nova 'hypervisor_address' from getting multiple values

Change-Id: If69dff68a2c01f46acd4e04f93531371927d0412
Closes-Bug: #1869639
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/53/715753/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/bin/_nova-compute-init.sh.tpl'],1,83b5858d31bc0f36ef85e0b642bd5873b3adae8f,,"hypervisor_address=$(ip a s $hypervisor_interface | grep 'inet ' | awk '{print $2}' | awk -F ""/"" '{ print $1; exit}')","hypervisor_address=$(ip a s $hypervisor_interface | grep 'inet ' | awk '{print $2}' | awk -F ""/"" '{print $1}')",1,1
openstack%2Fopenstack-helm-infra~master~If78231c103aa1e2313a12c910f56454b25f90d64,openstack/openstack-helm-infra,master,If78231c103aa1e2313a12c910f56454b25f90d64,Set memory override rabbitmq conf value,ABANDONED,2021-01-21 22:51:44.000000000,2022-01-21 21:03:11.000000000,,"[{'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-01-21 22:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/febe95885bea8d6ce3c9140c99877af275bc8caf', 'message': ""[WIP] Set memory override rabbitmq conf value\n\nIf a resource limit is set for rabbitmq, the memory high watermark\nis not getting properly set based on that limit, but instead will\nsee the underlying system's ram value and set it accordingly. This\noften exceeds rabbitmq's recommended value (40% of available ram).\nAs such, this PS sets the override value to the cgroup limit in the\nrabbitmq.conf file prior to startup.\n\nChange-Id: If78231c103aa1e2313a12c910f56454b25f90d64\n""}, {'number': 2, 'created': '2021-01-22 18:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f96f6c2989c6cc9b30092c5311e34b9606eb31fe', 'message': ""Set memory override rabbitmq conf value\n\nIf a resource limit is set for rabbitmq, the memory high watermark\nis not getting properly set based on that limit, but instead will\nsee the underlying system's ram value and set it accordingly. This\noften exceeds rabbitmq's recommended value (40% of available ram).\nAs such, this PS sets the override value to the cgroup limit in the\nrabbitmq.conf file prior to startup.\n\nChange-Id: If78231c103aa1e2313a12c910f56454b25f90d64\n""}, {'number': 3, 'created': '2021-01-25 22:56:14.000000000', 'files': ['rabbitmq/Chart.yaml', 'rabbitmq/templates/bin/_rabbitmq-start.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/63e8c23623932d56f31d3574546b05be2a6d8d85', 'message': ""Set memory override rabbitmq conf value\n\nIf a resource limit is set for rabbitmq, the memory high watermark\nis not getting properly set based on that limit, but instead will\nsee the underlying system's ram value and set it accordingly. This\noften exceeds rabbitmq's recommended value (40% of available ram).\nAs such, this PS sets the override value to the cgroup limit in the\nrabbitmq.conf file prior to startup.\n\nChange-Id: If78231c103aa1e2313a12c910f56454b25f90d64\n""}]",2,771895,63e8c23623932d56f31d3574546b05be2a6d8d85,10,3,3,28275,,,0,"Set memory override rabbitmq conf value

If a resource limit is set for rabbitmq, the memory high watermark
is not getting properly set based on that limit, but instead will
see the underlying system's ram value and set it accordingly. This
often exceeds rabbitmq's recommended value (40% of available ram).
As such, this PS sets the override value to the cgroup limit in the
rabbitmq.conf file prior to startup.

Change-Id: If78231c103aa1e2313a12c910f56454b25f90d64
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/95/771895/3 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/templates/bin/_rabbitmq-start.sh.tpl'],1,febe95885bea8d6ce3c9140c99877af275bc8caf,,"function rabbit_set_config () { local configBase=""${RABBITMQ_CONFIG_FILE:-/etc/rabbitmq/rabbitmq}"" local configFile=""$configBase.conf"" [ -e ""$configFile"" ] || touch ""$configFile"" local key=""$1""; shift local val=""$1""; shift sed -ri \ ""s/^[[:space:]]*(${sedKey}[[:space:]]*=[[:space:]]*)\S.*\$/\1${sedVal}/"" \ ""$configFile"" if ! grep -qE ""^${sedKey}[[:space:]]*="" ""$configFile""; then sed -i -e '$a\' ""$configFile"" echo ""$key = $val"" >> ""$configFile"" fi } function check_and_set_rabbit_memory_config () { local memTotalKb= if [ -r /proc/meminfo ]; then memTotalKb=""$(awk -F ':? +' '$1 ==""MemTotal"" { print $2; exit }' /proc/meminfo)"" fi local memLimitB= if [ -r /sys/fs/cgroup/memory/memory.limit_in_bytes ]; then memLimitB=""$(awk -v totKb=""$memTotalKb"" '{ limB = $0; limKb = limB / 1024; if (!totKb || limKb < totKb) { printf ""%.0f\n"", limB; } }' /sys/fs/cgroup/memory/memory.limit_in_bytes)"" fi if [ -n ""$memLimitB"" ]; then rabbit_set_config 'total_memory_available_override_value' ""$memLimitB"" fi } check_and_set_rabbit_memory_config ",,44,0
openstack%2Fopenstack-helm~master~Ief7352f97c92d1fe5d275fddbcb4f91113fd33a0,openstack/openstack-helm,master,Ief7352f97c92d1fe5d275fddbcb4f91113fd33a0,[ceph] testing,ABANDONED,2021-02-24 20:11:05.000000000,2022-01-21 21:03:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-24 20:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fa85fa9493d11a53f3be2f16ab4c0d9921883e9c', 'message': '[ceph] testing\n\nChange-Id: Ief7352f97c92d1fe5d275fddbcb4f91113fd33a0\n'}, {'number': 2, 'created': '2021-02-24 20:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/af24931ec7f30f8c5efb211efa42fb1d6ee08171', 'message': '[ceph] testing\n\nChange-Id: Ief7352f97c92d1fe5d275fddbcb4f91113fd33a0\n'}, {'number': 3, 'created': '2021-02-24 20:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5de8379d00bb36cde75f158cb4a64d0bf94bf08a', 'message': '[ceph] testing\n\nChange-Id: Ief7352f97c92d1fe5d275fddbcb4f91113fd33a0\n'}, {'number': 4, 'created': '2021-02-24 21:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/796bf461a2fe383571b214fb50f1d0031f6c3595', 'message': '[ceph] testing\n\nChange-Id: Ief7352f97c92d1fe5d275fddbcb4f91113fd33a0\n'}, {'number': 5, 'created': '2021-02-24 22:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/87ec75f1300e513f9cf3212eae5b3018fe3447d6', 'message': '[ceph] testing\n\nChange-Id: Ief7352f97c92d1fe5d275fddbcb4f91113fd33a0\n'}, {'number': 6, 'created': '2021-02-24 23:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fd320f28267d8f2e2a50ed597d003dd8d8330105', 'message': '[ceph] testing\n\nChange-Id: Ief7352f97c92d1fe5d275fddbcb4f91113fd33a0\n'}, {'number': 7, 'created': '2021-02-25 04:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/98d3fc447bf1bb824f0db95f6139d13354a63c32', 'message': '[ceph] testing\n\nChange-Id: Ief7352f97c92d1fe5d275fddbcb4f91113fd33a0\n'}, {'number': 8, 'created': '2021-02-25 14:36:05.000000000', 'files': ['zuul.d/project.yaml', 'tools/deployment/multinode/030-ceph.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0a2b8e7c16709f112d54180c4f2b46df5791129e', 'message': '[ceph] testing\n\nChange-Id: Ief7352f97c92d1fe5d275fddbcb4f91113fd33a0\n'}]",0,777460,0a2b8e7c16709f112d54180c4f2b46df5791129e,14,1,8,28372,,,0,"[ceph] testing

Change-Id: Ief7352f97c92d1fe5d275fddbcb4f91113fd33a0
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/60/777460/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/multinode/030-ceph.sh'],1,fa85fa9493d11a53f3be2f16ab4c0d9921883e9c,,##,,1,0
openstack%2Fopenstack-helm-infra~master~I6b433464f382d35995f8869658f465036ca46874,openstack/openstack-helm-infra,master,I6b433464f382d35995f8869658f465036ca46874,[ingress] Prepare chart for new version,ABANDONED,2020-12-29 08:45:17.000000000,2022-01-21 21:03:03.000000000,,"[{'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 24816}]","[{'number': 1, 'created': '2020-12-29 08:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bad836891922dca06b6ff4f2118751a415c2369c', 'message': '[ingress] Prepare chart for new version\n\n* Add standart kubernetes labels\n* Grant rights to ingressclasses\n\nChange-Id: I6b433464f382d35995f8869658f465036ca46874\n'}, {'number': 2, 'created': '2020-12-31 10:42:55.000000000', 'files': ['ingress/Chart.yaml', 'ingress/templates/deployment-ingress.yaml', 'helm-toolkit/templates/snippets/_kubernetes_metadata_labels.tpl', 'helm-toolkit/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1b1e876b7fabd93229106b2c4a859e521c17853e', 'message': '[ingress] Prepare chart for new version\n\nThe current nginx-ingress version is outdated, while trying to switch\nto latest 0.43.0 [0] some issues were found, this patch address them\n\n* Add standart kubernetes labels\n* Grant rights to ingressclasses\n\n[0] https://github.com/kubernetes/ingress-nginx/releases\n\nChange-Id: I6b433464f382d35995f8869658f465036ca46874\n'}]",3,768718,1b1e876b7fabd93229106b2c4a859e521c17853e,13,4,2,14525,,,0,"[ingress] Prepare chart for new version

The current nginx-ingress version is outdated, while trying to switch
to latest 0.43.0 [0] some issues were found, this patch address them

* Add standart kubernetes labels
* Grant rights to ingressclasses

[0] https://github.com/kubernetes/ingress-nginx/releases

Change-Id: I6b433464f382d35995f8869658f465036ca46874
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/18/768718/2 && git format-patch -1 --stdout FETCH_HEAD,"['ingress/Chart.yaml', 'ingress/templates/deployment-ingress.yaml', 'helm-toolkit/templates/snippets/_kubernetes_metadata_labels.tpl', 'helm-toolkit/Chart.yaml']",4,bad836891922dca06b6ff4f2118751a415c2369c,uplsr-ingress,version: 0.1.6,version: 0.1.5,21,3
openstack%2Fopenstack-helm~master~I6c7c4828072aea31f0835c4d09a6713787e8f926,openstack/openstack-helm,master,I6c7c4828072aea31f0835c4d09a6713787e8f926,Add ussuri override values for compute-kit job,ABANDONED,2020-09-21 13:41:13.000000000,2022-01-21 21:02:59.000000000,,"[{'_account_id': 1004}, {'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30449}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-09-21 13:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6862d848af37610bf90a7df98b952b1e7bfef51b', 'message': 'WIP: Add ussuri compute-kit values\n\nChange-Id: I6c7c4828072aea31f0835c4d09a6713787e8f926\n'}, {'number': 2, 'created': '2020-09-21 14:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/45e0d2b30e1dcb321d328f3f6b8743ac8b61b3c3', 'message': 'Add ussuri override values for compute-kit job\n\nWe added ussuri CI job for this already but it is a dummy one.\nBecause there is no ussuri override value for services.\n\nChange-Id: I6c7c4828072aea31f0835c4d09a6713787e8f926\n'}, {'number': 3, 'created': '2020-09-21 15:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6766dc025bd869e2467ce7fed9626662c43dca9c', 'message': 'Add ussuri override values for compute-kit job\n\nWe added ussuri CI job for this already but it is a dummy one.\nBecause there is no ussuri override value for services.\n\nChange-Id: I6c7c4828072aea31f0835c4d09a6713787e8f926\n'}, {'number': 4, 'created': '2020-09-21 16:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d57c8a794417a84308833aee5db2d0d2465f2d75', 'message': 'Add ussuri override values for compute-kit job\n\nWe added ussuri CI job for this already but it is a dummy one.\nBecause there is no ussuri override value for services.\n\nChange-Id: I6c7c4828072aea31f0835c4d09a6713787e8f926\n'}, {'number': 5, 'created': '2020-09-21 17:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6e38c3c156e6d96a55d44ac31f864883088e9bd8', 'message': 'Add ussuri override values for compute-kit job\n\nWe added ussuri CI job for this already but it is a dummy one.\nBecause there is no ussuri override value for services.\n\nChange-Id: I6c7c4828072aea31f0835c4d09a6713787e8f926\n'}, {'number': 6, 'created': '2020-09-22 18:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a57826046ac3499767e23a0257eb8c9ad45fd559', 'message': 'Add ussuri override values for compute-kit job\n\nWe added ussuri CI job for this already but it is a dummy one.\nBecause there is no ussuri override value for services.\n\nChange-Id: I6c7c4828072aea31f0835c4d09a6713787e8f926\n'}, {'number': 7, 'created': '2020-09-22 18:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6d7e8913852a1c00034781035547c1deda91e527', 'message': 'Add ussuri override values for compute-kit job\n\nWe added ussuri CI job for this already but it is a dummy one.\nBecause there is no ussuri override value for services.\n\nChange-Id: I6c7c4828072aea31f0835c4d09a6713787e8f926\n'}, {'number': 8, 'created': '2020-09-22 21:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4466057d284e324d0272040503e15212434b893b', 'message': 'Add ussuri override values for compute-kit job\n\nWe added ussuri CI job for this already but it is a dummy one.\nBecause there is no ussuri override value for services.\n\nChange-Id: I6c7c4828072aea31f0835c4d09a6713787e8f926\n'}, {'number': 9, 'created': '2020-12-03 19:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d66ebd01dd339701ee5b4f07f7ee730b937f35bb', 'message': 'Add ussuri override values for compute-kit job\n\nWe added ussuri CI job for this already but it is a dummy one.\nBecause there is no ussuri override value for services.\n\nChange-Id: I6c7c4828072aea31f0835c4d09a6713787e8f926\n'}, {'number': 10, 'created': '2020-12-03 20:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1ab72e2c1133c5608a317bbc1b753624af161d03', 'message': 'Add ussuri override values for compute-kit job\n\nWe added ussuri CI job for this already but it is a dummy one.\nBecause there is no ussuri override value for services.\n\nChange-Id: I6c7c4828072aea31f0835c4d09a6713787e8f926\n'}, {'number': 11, 'created': '2020-12-04 17:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f2834d79e7fe26c7f5d2ecc61e810bd63e3949d9', 'message': 'Add ussuri override values for compute-kit job\n\nWe added ussuri CI job for this already but it is a dummy one.\nBecause there is no ussuri override value for services.\n\nChange-Id: I6c7c4828072aea31f0835c4d09a6713787e8f926\n'}, {'number': 12, 'created': '2021-02-18 02:57:03.000000000', 'files': ['nova/values_overrides/ussuri.yaml', 'glance/values_overrides/ussuri-ubuntu_bionic.yaml', 'heat/Chart.yaml', 'heat/values_overrides/ussuri-ubuntu_bionic.yaml', 'cinder/values_overrides/ussuri-ubuntu_bionic.yaml', 'neutron/values_overrides/ussuri-ubuntu_bionic.yaml', 'placement/values_overrides/ussuri-ubuntu_bionic.yaml', 'horizon/Chart.yaml', 'horizon/values_overrides/ussuri-ubuntu_bionic.yaml', 'neutron/Chart.yaml', 'nova/values_overrides/ussuri-ubuntu_bionic.yaml', 'nova/Chart.yaml', 'keystone/values_overrides/ussuri-ubuntu_bionic.yaml', 'glance/Chart.yaml', 'cinder/Chart.yaml', 'placement/Chart.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/57aa7cc5a6a43437e4811c6aca58cf4c31c2e127', 'message': 'Add ussuri override values for compute-kit job\n\nWe added ussuri CI job for this already but it is a dummy one.\nBecause there is no ussuri override value for services.\n\nChange-Id: I6c7c4828072aea31f0835c4d09a6713787e8f926\n'}]",1,752954,57aa7cc5a6a43437e4811c6aca58cf4c31c2e127,32,6,12,31746,,,0,"Add ussuri override values for compute-kit job

We added ussuri CI job for this already but it is a dummy one.
Because there is no ussuri override value for services.

Change-Id: I6c7c4828072aea31f0835c4d09a6713787e8f926
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/54/752954/12 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/values_overrides/ussuri-ubuntu_bionic.yaml', 'nova/values_overrides/ussuri.yaml', 'glance/values_overrides/ussuri-ubuntu_bionic.yaml', 'heat/values_overrides/ussuri-ubuntu_bionic.yaml', 'cinder/values_overrides/ussuri-ubuntu_bionic.yaml', 'neutron/values_overrides/ussuri-ubuntu_bionic.yaml', 'nova/values_overrides/ussuri-ubuntu_bionic.yaml']",7,6862d848af37610bf90a7df98b952b1e7bfef51b,,"--- images: tags: bootstrap: ""docker.io/openstackhelm/heat:ussuri-ubuntu_bionic"" db_drop: ""docker.io/openstackhelm/heat:ussuri-ubuntu_bionic"" db_init: ""docker.io/openstackhelm/heat:ussuri-ubuntu_bionic"" ks_user: ""docker.io/openstackhelm/heat:ussuri-ubuntu_bionic"" ks_service: ""docker.io/openstackhelm/heat:ussuri-ubuntu_bionic"" ks_endpoints: ""docker.io/openstackhelm/heat:ussuri-ubuntu_bionic"" nova_api: ""docker.io/openstackhelm/nova:ussuri-ubuntu_bionic"" nova_cell_setup: ""docker.io/openstackhelm/nova:ussuri-ubuntu_bionic"" nova_cell_setup_init: ""docker.io/openstackhelm/heat:ussuri-ubuntu_bionic"" nova_compute: ""docker.io/openstackhelm/nova:ussuri-ubuntu_bionic"" nova_compute_ssh: ""docker.io/openstackhelm/nova:ussuri-ubuntu_bionic"" nova_conductor: ""docker.io/openstackhelm/nova:ussuri-ubuntu_bionic"" nova_db_sync: ""docker.io/openstackhelm/nova:ussuri-ubuntu_bionic"" nova_novncproxy: ""docker.io/openstackhelm/nova:ussuri-ubuntu_bionic"" nova_novncproxy_assets: ""docker.io/openstackhelm/nova:ussuri-ubuntu_bionic"" nova_placement: ""docker.io/openstackhelm/placement:master-ubuntu_bionic-20200207"" nova_scheduler: ""docker.io/openstackhelm/nova:ussuri-ubuntu_bionic"" nova_spiceproxy: ""docker.io/openstackhelm/nova:ussuri-ubuntu_bionic"" nova_spiceproxy_assets: ""docker.io/openstackhelm/nova:ussuri-ubuntu_bionic"" nova_service_cleaner: ""docker.io/openstackhelm/ceph-config-helper:latest-ubuntu_bionic"" ... ",,136,0
openstack%2Fopenstack-helm-infra~master~Ibdffb4c70de3a921550f52b215074fb46c57d36c,openstack/openstack-helm-infra,master,Ibdffb4c70de3a921550f52b215074fb46c57d36c,Supplement tolerations in ceph manifests,ABANDONED,2020-09-30 16:54:53.000000000,2022-01-21 21:02:55.000000000,,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 31746}]","[{'number': 1, 'created': '2020-09-30 16:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/894f642aeb2f89b371c1c27fbbe3dacff6245810', 'message': 'Supplement tolerations in ceph manifests\n\nChange-Id: Ibdffb4c70de3a921550f52b215074fb46c57d36c\n'}, {'number': 2, 'created': '2020-09-30 16:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/184759d94369925f5925e9185f1489b202835677', 'message': 'Supplement tolerations in ceph manifests\n\nFocused on only ceph manifests.\nSome manifests have only nodeselectors but not tolerations.\nIt can result not scheduling pods.\n\nChange-Id: Ibdffb4c70de3a921550f52b215074fb46c57d36c\n'}, {'number': 3, 'created': '2020-09-30 16:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ee4317afcb3a0e105a5be0775cd08a6d742b4026', 'message': 'Supplement tolerations in ceph manifests\n\nFocused on only ceph manifests.\nSome manifests have only nodeselectors but not tolerations.\nIt can result not scheduling pods.\n\nChange-Id: Ibdffb4c70de3a921550f52b215074fb46c57d36c\n'}, {'number': 4, 'created': '2020-12-03 18:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b6a3c2ab05ddd85fcc3d1432bf834540c9391265', 'message': 'Supplement tolerations in ceph manifests\n\nFocused on only ceph manifests.\nSome manifests have only nodeselectors but not tolerations.\nIt can result not scheduling pods.\n\nChange-Id: Ibdffb4c70de3a921550f52b215074fb46c57d36c\n'}, {'number': 5, 'created': '2020-12-03 19:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/24e6351143a38366f079e1c58cb1b1e2ac3b77d2', 'message': 'Supplement tolerations in ceph manifests\n\nFocused on only ceph manifests.\nSome manifests have only nodeselectors but not tolerations.\nIt can result not scheduling pods.\n\nChange-Id: Ibdffb4c70de3a921550f52b215074fb46c57d36c\n'}, {'number': 6, 'created': '2020-12-04 17:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cee269753abae8de27d774776985bd39023bd8f8', 'message': 'Supplement tolerations in ceph manifests\n\nFocused on only ceph manifests.\nSome manifests have only nodeselectors but not tolerations.\nIt can result not scheduling pods.\n\nChange-Id: Ibdffb4c70de3a921550f52b215074fb46c57d36c\n'}, {'number': 7, 'created': '2020-12-09 12:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/96e7bb1baebfc9a699a5d7719a52e67ff844057c', 'message': 'Supplement tolerations in ceph manifests\n\nFocused on only ceph manifests.\nSome manifests have only nodeselectors but not tolerations.\nIt can result not scheduling pods.\n\nChange-Id: Ibdffb4c70de3a921550f52b215074fb46c57d36c\n'}, {'number': 8, 'created': '2020-12-09 12:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/098f5dcbe7404fe84dcedbea07995fc48c9384f5', 'message': 'Supplement tolerations in ceph manifests\n\nFocused on only ceph manifests.\nSome manifests have only nodeselectors but not tolerations.\nIt can result not scheduling pods.\n\nChange-Id: Ibdffb4c70de3a921550f52b215074fb46c57d36c\n'}, {'number': 9, 'created': '2021-01-04 20:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8defea345a65a06a3d0f69b3f8f550da80cc7a52', 'message': 'Supplement tolerations in ceph manifests\n\nFocused on only ceph manifests.\nSome manifests have only nodeselectors but not tolerations.\nIt can result not scheduling pods.\n\nChange-Id: Ibdffb4c70de3a921550f52b215074fb46c57d36c\n'}, {'number': 10, 'created': '2021-01-05 12:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c245334d2b71cc2e05f627c599507395c7b84fea', 'message': 'Supplement tolerations in ceph manifests\n\nFocused on only ceph manifests.\nSome manifests have only nodeselectors but not tolerations.\nIt can result not scheduling pods.\n\nChange-Id: Ibdffb4c70de3a921550f52b215074fb46c57d36c\n'}, {'number': 11, 'created': '2021-02-18 03:43:53.000000000', 'files': ['ceph-mon/templates/job-bootstrap.yaml', 'ceph-osd/templates/job-post-apply.yaml', 'ceph-rgw/templates/pod-helm-tests.yaml', 'ceph-client/templates/job-rbd-pool.yaml', 'ceph-osd/templates/daemonset-osd.yaml', 'ceph-provisioners/templates/job-cephfs-client-key.yaml', 'ceph-osd/Chart.yaml', 'ceph-client/templates/job-bootstrap.yaml', 'ceph-mon/templates/job-keyring.yaml', 'ceph-mon/templates/job-storage-admin-keys.yaml', 'ceph-provisioners/templates/job-namespace-client-key.yaml', 'ceph-rgw/templates/deployment-rgw.yaml', 'ceph-osd/templates/pod-helm-tests.yaml', 'ceph-osd/templates/job-bootstrap.yaml', 'ceph-provisioners/templates/job-bootstrap.yaml', 'ceph-client/Chart.yaml', 'ceph-rgw/templates/job-bootstrap.yaml', 'ceph-client/templates/pod-helm-tests.yaml', 'ceph-provisioners/templates/pod-helm-tests.yaml', 'ceph-rgw/templates/job-s3-admin.yaml', 'helm-toolkit/Chart.yaml', 'ceph-client/templates/cronjob-checkPGs.yaml', 'ceph-provisioners/templates/job-namespace-client-key-cleaner.yaml', 'ceph-rgw/templates/job-rgw-restart.yaml', 'ceph-mon/Chart.yaml', 'ceph-client/templates/cronjob-defragosds.yaml', 'ceph-mon/templates/daemonset-mon.yaml', 'ceph-rgw/templates/job-rgw-storage-init.yaml', 'ceph-mon/templates/deployment-moncheck.yaml', 'helm-toolkit/templates/snippets/_kubernetes_tolerations.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cfe5f93459905dd3c9df25e025e2b31914de7d51', 'message': 'Supplement tolerations in ceph manifests\n\nFocused on only ceph manifests.\nSome manifests have only nodeselectors but not tolerations.\nIt can result not scheduling pods.\n\nChange-Id: Ibdffb4c70de3a921550f52b215074fb46c57d36c\n'}]",0,755351,cfe5f93459905dd3c9df25e025e2b31914de7d51,25,3,11,31746,,,0,"Supplement tolerations in ceph manifests

Focused on only ceph manifests.
Some manifests have only nodeselectors but not tolerations.
It can result not scheduling pods.

Change-Id: Ibdffb4c70de3a921550f52b215074fb46c57d36c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/51/755351/5 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-mon/templates/job-bootstrap.yaml', 'ceph-osd/templates/job-post-apply.yaml', 'ceph-rgw/templates/pod-helm-tests.yaml', 'ceph-client/templates/job-rbd-pool.yaml', 'ceph-osd/templates/daemonset-osd.yaml', 'ceph-provisioners/templates/job-cephfs-client-key.yaml', 'ceph-client/templates/job-bootstrap.yaml', 'ceph-mon/templates/job-keyring.yaml', 'ceph-mon/templates/job-storage-admin-keys.yaml', 'ceph-provisioners/templates/job-namespace-client-key.yaml', 'ceph-rgw/templates/deployment-rgw.yaml', 'ceph-osd/templates/pod-helm-tests.yaml', 'ceph-osd/templates/job-bootstrap.yaml', 'ceph-provisioners/templates/job-bootstrap.yaml', 'ceph-rgw/templates/job-bootstrap.yaml', 'ceph-client/templates/pod-helm-tests.yaml', 'ceph-provisioners/templates/pod-helm-tests.yaml', 'ceph-rgw/templates/job-s3-admin.yaml', 'ceph-client/templates/cronjob-checkPGs.yaml', 'ceph-provisioners/templates/job-namespace-client-key-cleaner.yaml', 'ceph-rgw/templates/job-rgw-restart.yaml', 'ceph-client/templates/cronjob-defragosds.yaml', 'ceph-mon/templates/daemonset-mon.yaml', 'ceph-rgw/templates/job-rgw-storage-init.yaml', 'ceph-mon/templates/deployment-moncheck.yaml']",25,894f642aeb2f89b371c1c27fbbe3dacff6245810,," {{ tuple $envAll ""moncheck"" | include ""helm-toolkit.snippets.kubernetes_tolerations"" | indent 6 }}",,25,0
openstack%2Floci~master~I899580d4513950e95698c9dcf61fd80cc87d314c,openstack/loci,master,I899580d4513950e95698c9dcf61fd80cc87d314c,Update debian distro,ABANDONED,2021-02-15 22:34:56.000000000,2022-01-21 21:02:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-15 22:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/e66ffb928e9d0a8daff4859ced3c79f1994f71f3', 'message': 'Update debian distro\n\nThis PS moves the default debian ditro from stretch to buster.\n\nSigned-off-by: Pete Birley <pete@port.direct>\nChange-Id: I899580d4513950e95698c9dcf61fd80cc87d314c\n'}, {'number': 2, 'created': '2021-02-15 23:03:09.000000000', 'files': ['dockerfiles/debian/Dockerfile', 'dockerfiles/debian/sources.list'], 'web_link': 'https://opendev.org/openstack/loci/commit/54ed4904f0281cb3fff7932b1225f808c4d9aebe', 'message': 'Update debian distro\n\nThis PS moves the default debian ditro from stretch to buster.\n\nSigned-off-by: Pete Birley <pete@port.direct>\nChange-Id: I899580d4513950e95698c9dcf61fd80cc87d314c\n'}]",0,775713,54ed4904f0281cb3fff7932b1225f808c4d9aebe,4,1,2,23928,,,0,"Update debian distro

This PS moves the default debian ditro from stretch to buster.

Signed-off-by: Pete Birley <pete@port.direct>
Change-Id: I899580d4513950e95698c9dcf61fd80cc87d314c
",git fetch https://review.opendev.org/openstack/loci refs/changes/13/775713/2 && git format-patch -1 --stdout FETCH_HEAD,"['dockerfiles/debian/Dockerfile', 'dockerfiles/debian/sources.list']",2,e66ffb928e9d0a8daff4859ced3c79f1994f71f3,,deb %%DEBIAN_URL%% buster main deb %%DEBIAN_URL%% buster-updates main deb %%DEBIAN_URL%% buster-backports maindeb %%CEPH_URL%% buster main,deb %%DEBIAN_URL%% stretch main deb %%DEBIAN_URL%% stretch-updates main deb %%DEBIAN_URL%% stretch-backports maindeb %%CEPH_URL%% stretch main,6,6
openstack%2Fopenstack-helm~master~I9eab6302ed0d49025461c504ca11187bf2d2acac,openstack/openstack-helm,master,I9eab6302ed0d49025461c504ca11187bf2d2acac,Update horizon release notes to current,ABANDONED,2021-02-03 20:11:14.000000000,2022-01-21 21:02:39.000000000,,"[{'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-03 20:11:14.000000000', 'files': ['releasenotes/notes/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f1232b099bdbb2a30fd309cffa8b78e14206fbeb', 'message': 'Update horizon release notes to current\n\nChange-Id: I9eab6302ed0d49025461c504ca11187bf2d2acac\n'}]",3,773993,f1232b099bdbb2a30fd309cffa8b78e14206fbeb,7,4,1,24780,,,0,"Update horizon release notes to current

Change-Id: I9eab6302ed0d49025461c504ca11187bf2d2acac
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/93/773993/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/horizon.yaml'],1,f1232b099bdbb2a30fd309cffa8b78e14206fbeb,horizon-reno," - 0.1.1 Change helm-toolkit dependency version to "">= 0.1.0"" - 0.1.2 Enhance to avoid wrong version check for mysqlclient - 0.1.3 Update Password validator related settings - 0.1.4 Change issuer to clusterissuer - 0.1.5 Revert - Change issuer to clusterissuer",,5,0
openstack%2Fopenstack-helm~master~I9285512f96f8676b9a69b28b1fe6b05deb5ebfa4,openstack/openstack-helm,master,I9285512f96f8676b9a69b28b1fe6b05deb5ebfa4,Cleanup transport after completes,ABANDONED,2020-09-22 08:42:06.000000000,2022-01-21 21:02:34.000000000,,"[{'_account_id': 1004}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 22348}, {'_account_id': 29071}]","[{'number': 1, 'created': '2020-09-22 08:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6d87e9a2c2d5eeb1de999a8a7e18b4226d729131', 'message': 'Cleanup transport after completes\n\nChange-Id: I9285512f96f8676b9a69b28b1fe6b05deb5ebfa4\nstory: #2008178\n'}, {'number': 2, 'created': '2020-09-22 12:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/afccf5d7a26c90ac97a87bfd209a47a08a9674e4', 'message': 'Cleanup transport after completes\n\nChange-Id: I9285512f96f8676b9a69b28b1fe6b05deb5ebfa4\nstory: #2008178\n'}, {'number': 3, 'created': '2020-09-22 12:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8d543e5612e062104142c6fecc62504651ca9890', 'message': 'Cleanup transport after completes\n\nChange-Id: I9285512f96f8676b9a69b28b1fe6b05deb5ebfa4\nstory: #2008178\n'}, {'number': 4, 'created': '2020-09-22 14:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fe406103c4528f7dfd35118b9be8b45c55544a7c', 'message': 'Cleanup transport after completes\n\nChange-Id: I9285512f96f8676b9a69b28b1fe6b05deb5ebfa4\nstory: #2008178\n'}, {'number': 5, 'created': '2021-02-04 00:14:58.000000000', 'files': ['nova/templates/bin/_health-probe.py.tpl', 'neutron/templates/bin/_health-probe.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e9b672848d26ad127df0186ec6aab207c238d28d', 'message': 'Cleanup transport after completes\n\nChange-Id: I9285512f96f8676b9a69b28b1fe6b05deb5ebfa4\nstory: #2008178\n'}]",0,753250,e9b672848d26ad127df0186ec6aab207c238d28d,23,5,5,29071,,,0,"Cleanup transport after completes

Change-Id: I9285512f96f8676b9a69b28b1fe6b05deb5ebfa4
story: #2008178
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/50/753250/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/bin/_health-probe.py.tpl', 'neutron/templates/bin/_health-probe.py.tpl']",2,6d87e9a2c2d5eeb1de999a8a7e18b4226d729131,story/2008178, finally: try: transport.cleanup() except: pass,,10,0
openstack%2Fopenstack-helm-infra~master~I8a7532e12f87cca1d99a43d23bb43e6a506f997d,openstack/openstack-helm-infra,master,I8a7532e12f87cca1d99a43d23bb43e6a506f997d,[helm-toolkit] Check if password is correct before setting it,ABANDONED,2021-01-28 13:49:37.000000000,2022-01-21 21:02:29.000000000,,"[{'_account_id': 18256}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-28 13:49:37.000000000', 'files': ['helm-toolkit/Chart.yaml', 'helm-toolkit/templates/scripts/_ks-user.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e127ce2508541bd02534a0628ac621a7d1826dd9', 'message': '[helm-toolkit] Check if password is correct before setting it\n\nKeystone revoke tokens when we set password, even when it is not changed.\nThist patch adds extra check for existing password before trying to reset it.\n\nChange-Id: I8a7532e12f87cca1d99a43d23bb43e6a506f997d\n'}]",1,772880,e127ce2508541bd02534a0628ac621a7d1826dd9,4,2,1,14525,,,0,"[helm-toolkit] Check if password is correct before setting it

Keystone revoke tokens when we set password, even when it is not changed.
Thist patch adds extra check for existing password before trying to reset it.

Change-Id: I8a7532e12f87cca1d99a43d23bb43e6a506f997d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/80/772880/1 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/Chart.yaml', 'helm-toolkit/templates/scripts/_ks-user.sh.tpl']",2,e127ce2508541bd02534a0628ac621a7d1826dd9,auth-check,"if $(OS_REGION_NAME=${SERVICE_OS_REGION_NAME} \ OS_PROJECT_DOMAIN_NAME=${SERVICE_OS_PROJECT_DOMAIN_NAME} \ OS_PROJECT_NAME=${SERVICE_OS_PROJECT_NAME} \ OS_USER_DOMAIN_NAME=${SERVICE_OS_USER_DOMAIN_NAME} \ OS_USERNAME=${SERVICE_OS_USERNAME} \ OS_PASSWORD=${SERVICE_OS_PASSWORD} \ openstack token issue 2>&1 |grep ""(HTTP 401)"" -q); then echo ""Setting user password via: openstack user set --password=xxxxxxx ${USER_ID}"" openstack user set --password=""${SERVICE_OS_PASSWORD}"" ""${USER_ID}"" else echo ""The password is correct."" fi","echo ""Setting user password via: openstack user set --password=xxxxxxx ${USER_ID}"" openstack user set --password=""${SERVICE_OS_PASSWORD}"" ""${USER_ID}""",14,3
openstack%2Fopenstack-helm-infra~master~I4f9c1a0f5bb67518a7a00303819a467c4a2edb2b,openstack/openstack-helm-infra,master,I4f9c1a0f5bb67518a7a00303819a467c4a2edb2b,[WIP] Add in updates for Rabbitmq Health Check for new version This commit adds in new commands to use for the rabbitmq health check given the current command is depricated in the new version of the rabbitmq image.,ABANDONED,2021-01-27 16:46:05.000000000,2022-01-21 21:02:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-27 16:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1fa379073ea271a1d6f3c9d2d91931d04624a90e', 'message': '[WIP] Add in updates for Rabbitmq Health Check for new version\nThis commit adds in new commands to use for the rabbitmq\nhealth check given the current command is depricated in the\nnew version of the rabbitmq image.\n\nChange-Id: I4f9c1a0f5bb67518a7a00303819a467c4a2edb2b\n'}, {'number': 2, 'created': '2021-01-27 16:47:28.000000000', 'files': ['rabbitmq/templates/bin/_rabbitmq-liveness.sh.tpl', 'rabbitmq/templates/bin/_rabbitmq-readiness.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/196b7ef82f52730f6c85d384bd605570491b2cfc', 'message': '[WIP] Add in updates for Rabbitmq Health Check for new version\nThis commit adds in new commands to use for the rabbitmq\nhealth check given the current command is depricated in the\nnew version of the rabbitmq image.\n\nChange-Id: I4f9c1a0f5bb67518a7a00303819a467c4a2edb2b\n'}]",0,772743,196b7ef82f52730f6c85d384bd605570491b2cfc,4,1,2,28025,,,0,"[WIP] Add in updates for Rabbitmq Health Check for new version
This commit adds in new commands to use for the rabbitmq
health check given the current command is depricated in the
new version of the rabbitmq image.

Change-Id: I4f9c1a0f5bb67518a7a00303819a467c4a2edb2b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/43/772743/1 && git format-patch -1 --stdout FETCH_HEAD,"['rabbitmq/templates/bin/_rabbitmq-liveness.sh.tpl', 'rabbitmq/templates/bin/_rabbitmq-readiness.sh.tpl']",2,1fa379073ea271a1d6f3c9d2d91931d04624a90e,, exec rabbitmq-diagnostics ping, exec rabbitmqctl node_health_check,2,2
openstack%2Fopenstack-helm-infra~master~Ic336141d7760d384e3231c3d50deef3ea9aa3886,openstack/openstack-helm-infra,master,Ic336141d7760d384e3231c3d50deef3ea9aa3886,WIP Bump rabbit version to 3.8.7,ABANDONED,2021-01-26 19:06:27.000000000,2022-01-21 21:02:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-26 19:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5f8529847a18748f6e94a9b190a11d4f38310f0a', 'message': 'WIP Bump rabbit version to 3.8.7\n\nThis PS looks to bump rabbitmq to a newer version, as 3.7.x is now\nEOL.\n\nChange-Id: Ic336141d7760d384e3231c3d50deef3ea9aa3886\n'}, {'number': 2, 'created': '2021-01-26 19:17:03.000000000', 'files': ['rabbitmq/Chart.yaml', 'rabbitmq/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bc73361cb205fba3ab36695aafebc3b96ef03610', 'message': 'WIP Bump rabbit version to 3.8.7\n\nThis PS looks to bump rabbitmq to a newer version, as 3.7.x is now\nEOL.\n\nChange-Id: Ic336141d7760d384e3231c3d50deef3ea9aa3886\n'}]",0,772584,bc73361cb205fba3ab36695aafebc3b96ef03610,4,1,2,28275,,,0,"WIP Bump rabbit version to 3.8.7

This PS looks to bump rabbitmq to a newer version, as 3.7.x is now
EOL.

Change-Id: Ic336141d7760d384e3231c3d50deef3ea9aa3886
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/84/772584/2 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/values.yaml'],1,5f8529847a18748f6e94a9b190a11d4f38310f0a,, rabbitmq: docker.io/rabbitmq:3.8.7 scripted_test: docker.io/rabbitmq:3.8.7-management, rabbitmq: docker.io/rabbitmq:3.7.26 scripted_test: docker.io/rabbitmq:3.7.26-management,2,2
openstack%2Fopenstack-helm~master~I19f52d8531b0bb4cdda97bac7ca86097bbf330a8,openstack/openstack-helm,master,I19f52d8531b0bb4cdda97bac7ca86097bbf330a8,[neutron] Fix sriov deployment,ABANDONED,2021-01-06 08:39:32.000000000,2022-01-21 21:02:16.000000000,,"[{'_account_id': 18250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 08:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0c806ba622e5ece9db1e346568636e127235ed76', 'message': '[neutron] Fix sriov deployment\n\n* Drop unused ml2_conf_sriov.ini file\n* Fix sriov file location for readiness probe\n* Add liveness probe\n\nChange-Id: I19f52d8531b0bb4cdda97bac7ca86097bbf330a8\n'}, {'number': 2, 'created': '2021-01-06 11:04:21.000000000', 'files': ['neutron/templates/deployment-server.yaml', 'tools/overrides/backends/networking/compute-kit-sr-iov.sh', 'neutron/Chart.yaml', 'neutron/templates/bin/_neutron-server.sh.tpl', 'neutron/values.yaml', 'neutron/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e4332d90b3c4b16cd655aa0a8ec598f76b9275ad', 'message': '[neutron] Fix sriov deployment\n\n* Drop unused ml2_conf_sriov.ini file\n* Fix sriov file location for readiness probe\n* Add liveness probe\n\nChange-Id: I19f52d8531b0bb4cdda97bac7ca86097bbf330a8\n'}]",3,769472,e4332d90b3c4b16cd655aa0a8ec598f76b9275ad,10,2,2,14525,,,0,"[neutron] Fix sriov deployment

* Drop unused ml2_conf_sriov.ini file
* Fix sriov file location for readiness probe
* Add liveness probe

Change-Id: I19f52d8531b0bb4cdda97bac7ca86097bbf330a8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/72/769472/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/deployment-server.yaml', 'tools/overrides/backends/networking/compute-kit-sr-iov.sh', 'neutron/templates/bin/_neutron-server.sh.tpl', 'neutron/values.yaml', 'neutron/templates/configmap-etc.yaml']",5,0c806ba622e5ece9db1e346568636e127235ed76,sriov_master2,," ml2_conf_sriov.ini: {{ default ""\""\"""" (include ""helm-toolkit.utils.to_oslo_conf"" $envAll.Values.conf.plugins.ml2_conf_sriov | b64enc) }}",11,7
openstack%2Fopenstack-helm-infra~master~Ia044289fe5a671d6142a4cf3e9a3c30ae583cf65,openstack/openstack-helm-infra,master,Ia044289fe5a671d6142a4cf3e9a3c30ae583cf65,[ceph-client] Fixes logic in pg_validation() function to prevent the test from failing if some of PGs are in peering state.,ABANDONED,2020-12-28 22:02:24.000000000,2022-01-21 21:02:12.000000000,,"[{'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 24780}, {'_account_id': 32190}]","[{'number': 1, 'created': '2020-12-28 22:02:24.000000000', 'files': ['ceph-client/Chart.yaml', 'ceph-client/templates/bin/_helm-tests.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/de76541b0648a16403a41713bd847227d4dece45', 'message': '[ceph-client] Fixes logic in pg_validation() function\nto prevent the test from failing if some of PGs are in\npeering state.\n\nChange-Id: Ia044289fe5a671d6142a4cf3e9a3c30ae583cf65\n'}]",1,768614,de76541b0648a16403a41713bd847227d4dece45,8,5,1,32433,,,0,"[ceph-client] Fixes logic in pg_validation() function
to prevent the test from failing if some of PGs are in
peering state.

Change-Id: Ia044289fe5a671d6142a4cf3e9a3c30ae583cf65
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/14/768614/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-client/Chart.yaml', 'ceph-client/templates/bin/_helm-tests.sh.tpl']",2,de76541b0648a16403a41713bd847227d4dece45,," echo ""Very likely the cluster is rebalancing or recovering some PG's. Checking..."" # Some PGs could stuck. This is really bad situation and test must fail. current_status=$(ceph --cluster ${CLUSTER} pg stat | grep -E 'down|stuck') if [[ ${current_status} ]]; then echo ""Some PGs [ $current_status ] got stuck or down. This is critical error, exiting."" exit 1 fi # Some PGs could be inactive and not peering. Better we fail current_status=$(ceph --cluster ${CLUSTER} pg stat | grep -E 'peer|recover') if [[ -z ${current_status} ]]; then echo ""We are unsure what's happening: we don't have stuck PGs, but we have some beeing inactive and not peering. Exiting."" exit 1 fi # Some PGs are not in an active state but peering and cluster is recovering echo ""Some PGs are peering and/or cluster is recovering. This is normal ceph behavior and we can proceed with the next test.""", exit 1,16,2
openstack%2Fopenstack-helm-infra~master~I76422a8015be59ea60a63abd8c787088ed7cea9b,openstack/openstack-helm-infra,master,I76422a8015be59ea60a63abd8c787088ed7cea9b,[test],ABANDONED,2021-01-06 20:05:04.000000000,2022-01-21 21:02:07.000000000,,"[{'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2021-01-06 20:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/650e4158a2a9dd276591d3cea998feb80b99a96b', 'message': '[test]\n\nChange-Id: I76422a8015be59ea60a63abd8c787088ed7cea9b\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2021-01-06 20:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d0caf05811a61203b8dbe79c0525762ee082d9cb', 'message': '[test]\n\nChange-Id: I76422a8015be59ea60a63abd8c787088ed7cea9b\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2021-01-06 20:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/520819fd1de04d4bb6ef5dcea4a36d8e0d1779bb', 'message': '[test]\n\nChange-Id: I76422a8015be59ea60a63abd8c787088ed7cea9b\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2021-01-06 20:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/77490f45460665359d4ebae1782818ee651a5870', 'message': '[test]\n\nChange-Id: I76422a8015be59ea60a63abd8c787088ed7cea9b\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2021-01-06 21:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6e2d547daa412c9b53d469af8517d36ac4555b48', 'message': '[test]\n\nChange-Id: I76422a8015be59ea60a63abd8c787088ed7cea9b\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 6, 'created': '2021-01-06 21:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3c800853e0dc270227b160de2f0c1f50e84d09a0', 'message': '[test]\n\nChange-Id: I76422a8015be59ea60a63abd8c787088ed7cea9b\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 7, 'created': '2021-01-06 22:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dadf27a12dd1eb5f359bd1e30bfffaabe2899ec8', 'message': '[test]\n\nChange-Id: I76422a8015be59ea60a63abd8c787088ed7cea9b\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 8, 'created': '2021-01-07 15:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3924eac386e3042f245253639df1ff82968fce74', 'message': '[test]\n\nChange-Id: I76422a8015be59ea60a63abd8c787088ed7cea9b\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 9, 'created': '2021-01-07 15:54:29.000000000', 'files': ['ceph-osd/templates/bin/osd/ceph-volume/_init-with-ceph-volume.sh.tpl', 'tools/deployment/common/wait-for-pods.sh', 'tools/deployment/osh-infra-logging/020-ceph.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/88d4910823013812cfb94379bec7cf15a6f15c30', 'message': '[test]\n\nChange-Id: I76422a8015be59ea60a63abd8c787088ed7cea9b\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,769615,88d4910823013812cfb94379bec7cf15a6f15c30,13,2,9,8863,,,0,"[test]

Change-Id: I76422a8015be59ea60a63abd8c787088ed7cea9b
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/15/769615/9 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/bin/osd/ceph-volume/_init-with-ceph-volume.sh.tpl', 'tools/deployment/common/wait-for-pods.sh']",2,650e4158a2a9dd276591d3cea998feb80b99a96b,," if kubectl get pods -nceph | jq -r '.items[]|select(.status.phase==""Init:CrashLoopBackOff"")'; then kubectl logs -nceph -lapplication=ceph,component=osd -cosd-init exit 1 fi",,4,9
openstack%2Fopenstack-helm~master~Ic56a52ff9d85c9441076fd353f7697ccdde7abc6,openstack/openstack-helm,master,Ic56a52ff9d85c9441076fd353f7697ccdde7abc6,[neutron] Add sriov init hook,ABANDONED,2021-01-06 08:39:32.000000000,2022-01-21 21:02:02.000000000,,"[{'_account_id': 14525}, {'_account_id': 18256}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 08:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a610de7c10c6e18dee18ab7998f34223d206cd07', 'message': ""[neutron] Add sriov init hook\n\nThe current script is not flexible enough and doesn't\nwork for some NICs. This patch allows to pass initialization\nscript per sriov device.\n\nChange-Id: Ic56a52ff9d85c9441076fd353f7697ccdde7abc6\n""}, {'number': 2, 'created': '2021-01-06 11:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/33ef761996af934678e3ea86811a6e8bf5fe2993', 'message': ""[neutron] Add sriov init hook\n\nThe current script is not flexible enough and doesn't\nwork for some NICs. This patch allows to pass initialization\nscript per sriov device.\n\nChange-Id: Ic56a52ff9d85c9441076fd353f7697ccdde7abc6\n""}, {'number': 3, 'created': '2021-01-06 11:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/de02ac5b0338f0d348fd5020a0674f1768788f39', 'message': ""[neutron] Add sriov init hook\n\nThe current script is not flexible enough and doesn't\nwork for some NICs. This patch allows to pass initialization\nscript per sriov device.\n\nChange-Id: Ic56a52ff9d85c9441076fd353f7697ccdde7abc6\n""}, {'number': 4, 'created': '2021-01-08 14:00:52.000000000', 'files': ['neutron/Chart.yaml', 'neutron/templates/bin/_neutron-sriov-agent-init.sh.tpl', 'neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b070a777eece41db90366c0e2b61be8c566cc46b', 'message': ""[neutron] Add sriov init hook\n\nThe current script is not flexible enough and doesn't\nwork for some NICs. This patch allows to pass initialization\nscript per sriov device.\n\nChange-Id: Ic56a52ff9d85c9441076fd353f7697ccdde7abc6\n""}]",2,769473,b070a777eece41db90366c0e2b61be8c566cc46b,10,3,4,14525,,,0,"[neutron] Add sriov init hook

The current script is not flexible enough and doesn't
work for some NICs. This patch allows to pass initialization
script per sriov device.

Change-Id: Ic56a52ff9d85c9441076fd353f7697ccdde7abc6
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/73/769473/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/templates/bin/_neutron-sriov-agent-init.sh.tpl'],1,a610de7c10c6e18dee18ab7998f34223d206cd07,change-769473-3,"{{- if hasKey $sriov ""hooks"" }} {{- if hasKey $sriov.hooks ""init"" }} {{ $sriov.hooks.init }}{{- end }}","{{- if $sriov.promisc }} promisc_mode=""on"" {{- else }} promisc_mode=""off""ip link set {{ $sriov.device }} promisc ${promisc_mode} #NOTE(portdirect): get the bus that the port is on NIC_BUS=$(lshw -c network -businfo | awk '/{{ $sriov.device }}/ {print $1}') #NOTE(portdirect): get first port on the nic NIC_FIRST_PORT=$(lshw -c network -businfo | awk ""/${NIC_BUS%%.*}/ { print \$2; exit }"") #NOTE(portdirect): Enable promisc mode on the nic, by setting it for the 1st port ethtool --set-priv-flags ${NIC_FIRST_PORT} vf-true-promisc-support ${promisc_mode}",4,11
openstack%2Fopenstack-helm-infra~master~I440888583e68d7a565915242195f078d9c7382a3,openstack/openstack-helm-infra,master,I440888583e68d7a565915242195f078d9c7382a3,Use `kubepods.slice` as default path,ABANDONED,2020-09-04 01:51:56.000000000,2022-01-21 21:01:56.000000000,,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 30858}]","[{'number': 1, 'created': '2020-09-04 01:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/82293d0ccfb11954b90a3c78790528f044af4811', 'message': 'Use `kubepods.slice` as default path\n\nChange-Id: I440888583e68d7a565915242195f078d9c7382a3\nstory: #2008108\n'}, {'number': 2, 'created': '2020-11-24 05:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9897381986625c5f7113ec0ad05f8278789bd14a', 'message': 'Use `kubepods.slice` as default path\n\nChange-Id: I440888583e68d7a565915242195f078d9c7382a3\nstory: #2008108\n'}, {'number': 3, 'created': '2021-01-05 08:58:38.000000000', 'files': ['libvirt/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a12f0df90c52110192f336128cdc8ac66bed3311', 'message': 'Use `kubepods.slice` as default path\n\nChange-Id: I440888583e68d7a565915242195f078d9c7382a3\nstory: #2008108\n'}]",0,749858,a12f0df90c52110192f336128cdc8ac66bed3311,16,7,3,29071,,,0,"Use `kubepods.slice` as default path

Change-Id: I440888583e68d7a565915242195f078d9c7382a3
story: #2008108
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/58/749858/1 && git format-patch -1 --stdout FETCH_HEAD,['libvirt/values.yaml'],1,82293d0ccfb11954b90a3c78790528f044af4811,story/2008108," cgroup: ""kubepods.slice"""," cgroup: ""kubepods""",1,1
openstack%2Fkeystoneauth~master~I9e079e2f393a49a888e495f792aef9f47fcf20b7,openstack/keystoneauth,master,I9e079e2f393a49a888e495f792aef9f47fcf20b7,Remove elementtree deprecated methods,ABANDONED,2020-06-23 09:35:26.000000000,2022-01-21 21:01:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-23 09:35:26.000000000', 'files': ['keystoneauth1/tests/unit/matchers.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/1cb7653541ebfb6b78c6b3657bceb1ab3c49d5fb', 'message': 'Remove elementtree deprecated methods\n\nAll our supported runtimes [1] are compatible with the recommended\nalternatives.\n\n`Element.getchildren` [2] is deprecated since python 3.2 and will be removed\nin python 3.9, these changes switch usages to `list(elem)`.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-train\n[2] https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.getchildren\n\nChange-Id: I9e079e2f393a49a888e495f792aef9f47fcf20b7\n'}]",0,737475,1cb7653541ebfb6b78c6b3657bceb1ab3c49d5fb,5,3,1,28522,,,0,"Remove elementtree deprecated methods

All our supported runtimes [1] are compatible with the recommended
alternatives.

`Element.getchildren` [2] is deprecated since python 3.2 and will be removed
in python 3.9, these changes switch usages to `list(elem)`.

[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-train
[2] https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.getchildren

Change-Id: I9e079e2f393a49a888e495f792aef9f47fcf20b7
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/75/737475/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/tests/unit/matchers.py'],1,1cb7653541ebfb6b78c6b3657bceb1ab3c49d5fb,deprecated_elementtree," return sorted(list(doc), key=lambda el: el.tag)"," return sorted(doc.getchildren(), key=lambda el: el.tag)",1,1
openstack%2Fkeystone~master~I918d32068f4625cde4eb0babd8f229ad9f92aa26,openstack/keystone,master,I918d32068f4625cde4eb0babd8f229ad9f92aa26,Add py38 package metadata,ABANDONED,2020-08-14 00:32:54.000000000,2022-01-21 21:01:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-08-14 00:32:54.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9f8e48d905328f1826ac96b32cbe6e4b19d7cbc1', 'message': 'Add py38 package metadata\n\nChange-Id: I918d32068f4625cde4eb0babd8f229ad9f92aa26\n'}]",0,746252,9f8e48d905328f1826ac96b32cbe6e4b19d7cbc1,4,2,1,32211,,,0,"Add py38 package metadata

Change-Id: I918d32068f4625cde4eb0babd8f229ad9f92aa26
",git fetch https://review.opendev.org/openstack/keystone refs/changes/52/746252/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9f8e48d905328f1826ac96b32cbe6e4b19d7cbc1,, Programming Language :: Python :: 3.8,,1,0
openstack%2Fkeystone~master~I6b453d3c886fac4579983bdaa92349971dbf7983,openstack/keystone,master,I6b453d3c886fac4579983bdaa92349971dbf7983,Add missing test case in test_backends.py for assignments,ABANDONED,2020-08-11 17:02:27.000000000,2022-01-21 21:01:14.000000000,,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-11 17:02:27.000000000', 'files': ['keystone/tests/unit/assignment/test_backends.py', 'keystone/tests/unit/test_backend_ldap.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0d6ab831536634b18db9588a635c8daf3b59e8b9', 'message': 'Add missing test case in test_backends.py for assignments\n\nThis patch adds the missing test case of removing the role\nassignments for a user on project.\n\nChange-Id: I6b453d3c886fac4579983bdaa92349971dbf7983\n'}]",0,745710,0d6ab831536634b18db9588a635c8daf3b59e8b9,3,5,1,27621,,,0,"Add missing test case in test_backends.py for assignments

This patch adds the missing test case of removing the role
assignments for a user on project.

Change-Id: I6b453d3c886fac4579983bdaa92349971dbf7983
",git fetch https://review.opendev.org/openstack/keystone refs/changes/10/745710/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/assignment/test_backends.py', 'keystone/tests/unit/test_backend_ldap.py']",2,0d6ab831536634b18db9588a635c8daf3b59e8b9,, def test_get_and_remove_role_grant_by_user_and_project(self): self.skip_test_overrides('N/A: LDAP does not support multiple domains') ,,35,0
openstack%2Fkeystone~master~Iacdbce084dcb4a13ff621551b9381785a2c4eec3,openstack/keystone,master,Iacdbce084dcb4a13ff621551b9381785a2c4eec3,update the expression of version,ABANDONED,2020-08-05 11:45:43.000000000,2022-01-21 21:01:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 32211}]","[{'number': 1, 'created': '2020-08-05 11:45:43.000000000', 'files': ['keystone/version.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0d995183565b0f0e989a05a2f4555dcc26e680e3', 'message': 'update the expression of version\n\nChange-Id: Iacdbce084dcb4a13ff621551b9381785a2c4eec3\n'}]",1,744889,0d995183565b0f0e989a05a2f4555dcc26e680e3,5,3,1,32211,,,0,"update the expression of version

Change-Id: Iacdbce084dcb4a13ff621551b9381785a2c4eec3
",git fetch https://review.opendev.org/openstack/keystone refs/changes/89/744889/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/version.py'],1,0d995183565b0f0e989a05a2f4555dcc26e680e3,,RELEASE_VERSION = 'v3.14' return RELEASE_VERSION, return 'v3.14',2,1
openstack%2Fkeystone~master~I04909885b43574a0b4910e7e3344918de32521eb,openstack/keystone,master,I04909885b43574a0b4910e7e3344918de32521eb,Add test for endpoint group filters applied on getting token,ABANDONED,2020-07-28 09:15:49.000000000,2022-01-21 21:01:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-28 09:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9c099c516f966371888c75f176d5f68702a99692', 'message': 'Add test for endpoint group filters applied on getting token\n\nThis Patch adds the test case to confirm that the while fetching\ntoken endpoint group filters are applied which reduces the size\nof token.\n\nChange-Id: I04909885b43574a0b4910e7e3344918de32521eb\nCloses-Bug: #1405574\n'}, {'number': 2, 'created': '2020-07-28 10:18:37.000000000', 'files': ['keystone/tests/unit/test_associate_project_endpoint_extension.py', 'releasenotes/notes/bug-1405574-ad805070a5aaf125.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/53052846768cf0fb311d53b54dc78b9f85e9be6f', 'message': 'Add test for endpoint group filters applied on getting token\n\nThis Patch adds the test case to confirm that the while fetching\ntoken endpoint group filters are applied which reduces the size\nof token.\n\nChange-Id: I04909885b43574a0b4910e7e3344918de32521eb\nCloses-Bug: #1405574\n'}]",0,743489,53052846768cf0fb311d53b54dc78b9f85e9be6f,5,1,2,27621,,,0,"Add test for endpoint group filters applied on getting token

This Patch adds the test case to confirm that the while fetching
token endpoint group filters are applied which reduces the size
of token.

Change-Id: I04909885b43574a0b4910e7e3344918de32521eb
Closes-Bug: #1405574
",git fetch https://review.opendev.org/openstack/keystone refs/changes/89/743489/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_associate_project_endpoint_extension.py'],1,9c099c516f966371888c75f176d5f68702a99692,," class EndpointGroupTokenRequestTestCase(EndpointFilterTestCase): def test_apply_endpoint_group_filter_on_token_catalog(self): # create a project ref = unit.new_project_ref(domain_id=self.domain_id) r = self.post('/projects', body={'project': ref}) project_id = r.result['project']['id'] # create a service service_ref = unit.new_service_ref() r = self.post('/services', body={'service': service_ref}) service_id = r.result['service']['id'] # create a region region_ref = unit.new_region_ref() r = self.post('/regions', body={'region': region_ref}) region_id = r.result['region']['id'] # create three endpoints: two public and one admin endpoint_ref = unit.new_endpoint_ref(service_id=service_id, interface='public', region_id=region_id) self.post('/endpoints', body={'endpoint': endpoint_ref}) endpoint_ref = unit.new_endpoint_ref(service_id=service_id, interface='public', region_id=region_id ) self.post('/endpoints', body={'endpoint': endpoint_ref}) endpoint_ref = unit.new_endpoint_ref(service_id=service_id, interface='admin', region_id=region_id) self.post('/endpoints', body={'endpoint': endpoint_ref}) # grant the user a role on the project to ensure catalog is in token self.put( '/projects/%(project_id)s/users/%(user_id)s/roles/%(role_id)s' % { 'user_id': self.user['id'], 'project_id': project_id, 'role_id': self.role['id']}) # create an endpoint_group new_endpoint_group = { 'endpoint_group': { 'filters': { 'interface': 'admin', }, 'name': 'test_endpoint_group', } } r = self.post('/OS-EP-FILTER/endpoint_groups', body=new_endpoint_group) endpoint_group_id = r.result['endpoint_group']['id'] # grant endpoint_group on project self.put('/OS-EP-FILTER/endpoint_groups/%(endpoint_group_id)s' '/projects/%(project_id)s' % { 'endpoint_group_id': endpoint_group_id, 'project_id': project_id}) # we have more than three endpoints but here we can only get one auth_data = self.build_authentication_request( user_id=self.user['id'], password=self.user['password'], project_id=project_id) r = self.post('/auth/tokens', body=auth_data) self.assertValidProjectScopedTokenResponse( r, require_catalog=True, endpoint_filter=True, ep_filter_assoc=1) self.assertEqual(project_id, r.result['token']['project']['id'])",,73,0
openstack%2Fkeystonemiddleware~master~I0ca82de591559a628884dc398f7df0cd4fb1eee1,openstack/keystonemiddleware,master,I0ca82de591559a628884dc398f7df0cd4fb1eee1,drop use of pkg_resources,ABANDONED,2020-07-25 18:02:51.000000000,2022-01-21 21:00:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-07-25 18:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/8ef3e68d350d44c16f5639e713934df211358389', 'message': ""drop use of pkg_resources\n\nImporting pkg_resources scans all of the installed modules for data\nthat won't be used. Switch to using importlib.metdata, which more\nefficiently loads the metadata for a package.\n\nSince the name of the module where importlib.metadata is found depends\non the version of python, mocking a function in the library is more\ncomplicated. Provide a wrapper in the module that uses\nimportlib.metadata.version() so its tests can examine behavior using\ndifferent versions via mocks.\n\nChange-Id: I0ca82de591559a628884dc398f7df0cd4fb1eee1\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 2, 'created': '2020-07-25 20:17:43.000000000', 'files': ['requirements.txt', 'keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/_common/config.py', 'keystonemiddleware/tests/unit/auth_token/test_config.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/414ca53071a286477037c1a7117646f15c22cde6', 'message': ""drop use of pkg_resources\n\nImporting pkg_resources scans all of the installed modules for data\nthat won't be used. Switch to using importlib.metdata, which more\nefficiently loads the metadata for a package.\n\nSince the name of the module where importlib.metadata is found depends\non the version of python, mocking a function in the library is more\ncomplicated. Provide a wrapper in the module that uses\nimportlib.metadata.version() so its tests can examine behavior using\ndifferent versions via mocks.\n\nChange-Id: I0ca82de591559a628884dc398f7df0cd4fb1eee1\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",0,743039,414ca53071a286477037c1a7117646f15c22cde6,6,2,2,2472,,,0,"drop use of pkg_resources

Importing pkg_resources scans all of the installed modules for data
that won't be used. Switch to using importlib.metdata, which more
efficiently loads the metadata for a package.

Since the name of the module where importlib.metadata is found depends
on the version of python, mocking a function in the library is more
complicated. Provide a wrapper in the module that uses
importlib.metadata.version() so its tests can examine behavior using
different versions via mocks.

Change-Id: I0ca82de591559a628884dc398f7df0cd4fb1eee1
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/39/743039/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/_common/config.py', 'keystonemiddleware/tests/unit/auth_token/test_config.py']",4,8ef3e68d350d44c16f5639e713934df211358389,drop-pkg-resources," fake_pkg_version = mock.Mock() fake_pkg_version.return_value = project_version with mock.patch( 'keystonemiddleware._common.config._get_package_version', new=fake_pkg_version):"," fake_pkg_resources = mock.Mock() fake_pkg_resources.get_distribution().version = project_version with mock.patch('keystonemiddleware._common.config.pkg_resources', new=fake_pkg_resources):",36,25
openstack%2Fkeystone~master~Iea14bd0b417ce0c12ef13fac785be6fdcf43acbb,openstack/keystone,master,Iea14bd0b417ce0c12ef13fac785be6fdcf43acbb,Support for deprovisioning federated assignments,ABANDONED,2020-07-17 23:08:01.000000000,2022-01-21 21:00:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-07-17 23:08:01.000000000', 'files': ['keystone/conf/__init__.py', 'keystone/tests/unit/test_v3_federation.py', 'doc/source/admin/federation/mapping_combinations.rst', 'keystone/auth/plugins/mapped.py', 'keystone/conf/mapped.py', 'releasenotes/notes/bug-1888029-7dd9d43f50b0edaf.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/68e455fd21b79d337d7fb626b4d866c7c1fb5a16', 'message': 'Support for deprovisioning federated assignments\n\nDeployments that use federation mappings containing a ""projects"" rule\nwill automatically provision projects and role assignments for the\nfederated user within the federated IdP domain. However, users would\nnever lose these assignments, even if the federated IdP\'s representation\nof the user\'s groups/roles changed--auto-provisioned assignments are\nonly additive.\n\nThis commit adds a new ``remove_dangling_assignments`` configuration\noption, which defaults to ``False``. When set to ``True``, an incoming\nuser\'s assignments will be checked against the assignments returned by\nthe mapping rules. Any assignments that exist within the federated\ndomain for the user which are NOT returned by the mapping rules will be\nremoved. This does not affect any assignments on other domains.\n\nChange-Id: Iea14bd0b417ce0c12ef13fac785be6fdcf43acbb\nCloses-Bug: #1888029\n'}]",4,741785,68e455fd21b79d337d7fb626b4d866c7c1fb5a16,4,2,1,29100,,,0,"Support for deprovisioning federated assignments

Deployments that use federation mappings containing a ""projects"" rule
will automatically provision projects and role assignments for the
federated user within the federated IdP domain. However, users would
never lose these assignments, even if the federated IdP's representation
of the user's groups/roles changed--auto-provisioned assignments are
only additive.

This commit adds a new ``remove_dangling_assignments`` configuration
option, which defaults to ``False``. When set to ``True``, an incoming
user's assignments will be checked against the assignments returned by
the mapping rules. Any assignments that exist within the federated
domain for the user which are NOT returned by the mapping rules will be
removed. This does not affect any assignments on other domains.

Change-Id: Iea14bd0b417ce0c12ef13fac785be6fdcf43acbb
Closes-Bug: #1888029
",git fetch https://review.opendev.org/openstack/keystone refs/changes/85/741785/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/conf/__init__.py', 'keystone/tests/unit/test_v3_federation.py', 'doc/source/admin/federation/mapping_combinations.rst', 'keystone/auth/plugins/mapped.py', 'keystone/conf/mapped.py', 'releasenotes/notes/bug-1888029-7dd9d43f50b0edaf.yaml']",6,68e455fd21b79d337d7fb626b4d866c7c1fb5a16,bug/1888029,"--- features: - | [`bug 1888029 <https://bugs.launchpad.net/keystone/+bug/1888029>`_] Support for automatically deprovisioning role assignments that should no longer be mapped to federated users, either according to an updated mapping definition or changes to the user's group/roles on the external IdP. This is disabled by default but can be turned on via the new ``remove_dangling_assignments`` configuration option in the ``[mapped]`` group. ",,159,3
openstack%2Fkeystone~master~I390a26ab3d87480cb82c603e3b8712a9c8132e1b,openstack/keystone,master,I390a26ab3d87480cb82c603e3b8712a9c8132e1b,Direct-map multiple auto-provisioned projects,ABANDONED,2020-05-13 22:27:26.000000000,2022-01-21 21:00:37.000000000,,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28356}, {'_account_id': 29100}]","[{'number': 1, 'created': '2020-05-13 22:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/75cd152d7628e11c5ecef3c60b602aa4b56b3b04', 'message': 'Direct map auto-provision project names and roles\n\nThis adds support for direct-mapping auto-provisioned projects and\nroles, similarly to how the existing groups functionality works.\n\nNote: if mapping role names, the roles must already exist in the\nfederated domain for the mapping to succeed, as roles are not\nautomatically provisioned in the same way that projects are.\n\nChange-Id: I390a26ab3d87480cb82c603e3b8712a9c8132e1b\nCloses-Bug: #1878496\n'}, {'number': 2, 'created': '2020-05-13 23:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f3c35038a1cb2a7a2229ee46f489a303259e6d55', 'message': 'Direct map auto-provision project names and roles\n\nThis adds support for direct-mapping auto-provisioned projects and\nroles, similarly to how the existing groups functionality works.\n\nNote: if mapping role names, the roles must already exist in the\nfederated domain for the mapping to succeed, as roles are not\nautomatically provisioned in the same way that projects are.\n\nChange-Id: I390a26ab3d87480cb82c603e3b8712a9c8132e1b\nCloses-Bug: #1878496\n'}, {'number': 3, 'created': '2020-05-22 23:17:33.000000000', 'files': ['keystone/federation/utils.py', 'doc/source/admin/federation/mapping_combinations.rst', 'keystone/tests/unit/mapping_fixtures.py', 'keystone/tests/unit/contrib/federation/test_utils.py', 'releasenotes/notes/bug-1878496-a2c5166ecfe3ca1a.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/544d3723a750566941e701eccdacfa181b5bb75e', 'message': 'Direct-map multiple auto-provisioned projects\n\nThis adds support for direct-mapping auto-provisioned projects and\nroles, similarly to how the existing groups functionality works. Before,\nthere was some limited support for this, but notably it could not handle\nmultiple values for a direct-mapped assertion. So, it was not really\npossible to map something like OIDC_GROUPS to Projects.\n\nNote: if mapping role names, the roles must already exist in the\nfederated domain for the mapping to succeed, as roles are not\nautomatically provisioned in the same way that projects are.\n\nChange-Id: I390a26ab3d87480cb82c603e3b8712a9c8132e1b\nCloses-Bug: #1878496\n'}]",15,727891,544d3723a750566941e701eccdacfa181b5bb75e,13,5,3,29100,,,0,"Direct-map multiple auto-provisioned projects

This adds support for direct-mapping auto-provisioned projects and
roles, similarly to how the existing groups functionality works. Before,
there was some limited support for this, but notably it could not handle
multiple values for a direct-mapped assertion. So, it was not really
possible to map something like OIDC_GROUPS to Projects.

Note: if mapping role names, the roles must already exist in the
federated domain for the mapping to succeed, as roles are not
automatically provisioned in the same way that projects are.

Change-Id: I390a26ab3d87480cb82c603e3b8712a9c8132e1b
Closes-Bug: #1878496
",git fetch https://review.opendev.org/openstack/keystone refs/changes/91/727891/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/federation/utils.py', 'keystone/tests/unit/mapping_fixtures.py', 'keystone/tests/unit/contrib/federation/test_utils.py']",3,75cd152d7628e11c5ecef3c60b602aa4b56b3b04,direct-map-projects," def test_mapping_projects_mapped_name(self): mapping = mapping_fixtures.MAPPING_PROJECTS_MAPPED_NAME assertion = mapping_fixtures.EMPLOYEE_ASSERTION_MULTIPLE_GROUP_TYPES rp = mapping_utils.RuleProcessor(FAKE_MAPPING_ID, mapping['rules']) values = rp.process(assertion) expected_projects = [ { ""name"": ""BuildingX"", ""roles"": [{""name"": ""member""}] }, { ""name"": ""BuildingY"", ""roles"": [{""name"": ""member""}] } ] self.assertValidMappedUserObject(values) self.assertEqual(expected_projects, values['projects']) def test_mapping_projects_mapped_roles(self): mapping = mapping_fixtures.MAPPING_PROJECTS_MAPPED_ROLES assertion = mapping_fixtures.EMPLOYEE_ASSERTION_MULTIPLE_GROUP_TYPES rp = mapping_utils.RuleProcessor(FAKE_MAPPING_ID, mapping['rules']) values = rp.process(assertion) expected_username = mapping_fixtures.EMPLOYEE_ASSERTION['UserName'] expected_projects = [ { ""name"": ""Production"", ""roles"": [{""name"": ""Employee""}] }, { ""name"": ""Project for %s"" % expected_username, ""roles"": [{""name"": ""Admin""}] } ] self.assertValidMappedUserObject(values) self.assertEqual(expected_username, values['user']['name']) self.assertEqual(expected_projects, values['projects']) def test_mapping_projects_mapped_name_and_roles(self): mapping = mapping_fixtures.MAPPING_PROJECT_MAPPED_NAME_AND_ROLES assertion = mapping_fixtures.EMPLOYEE_ASSERTION_MULTIPLE_GROUP_TYPES rp = mapping_utils.RuleProcessor(FAKE_MAPPING_ID, mapping['rules']) values = rp.process(assertion) expected_projects = [ { ""name"": ""BuildingX"", ""roles"": [{""name"": ""Employee""}] }, { ""name"": ""BuildingY"", ""roles"": [{""name"": ""Employee""}] } ] self.assertValidMappedUserObject(values) self.assertEqual(expected_projects, values['projects']) ",,221,34
openstack%2Fkeystone~master~Iee97ed8fae90432d1982a1cfe4cf9a9d20312c3e,openstack/keystone,master,Iee97ed8fae90432d1982a1cfe4cf9a9d20312c3e,Documentation update - role inheritance added in admin Closes-Bug: #1737863,ABANDONED,2020-07-15 05:13:03.000000000,2022-01-21 21:00:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-15 05:13:03.000000000', 'files': ['doc/source/admin/role-inheritance.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0c501e669c28b04f38502137246a6131cc4f6352', 'message': 'Documentation update - role inheritance added in admin\nCloses-Bug: #1737863\n\nChange-Id: Iee97ed8fae90432d1982a1cfe4cf9a9d20312c3e\n'}]",0,741085,0c501e669c28b04f38502137246a6131cc4f6352,3,1,1,30907,,,0,"Documentation update - role inheritance added in admin
Closes-Bug: #1737863

Change-Id: Iee97ed8fae90432d1982a1cfe4cf9a9d20312c3e
",git fetch https://review.opendev.org/openstack/keystone refs/changes/85/741085/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/role-inheritance.rst'],1,0c501e669c28b04f38502137246a6131cc4f6352,,"Role Inheritance Keystone supports inheritance of roles from both projects and domains Enables projects to inherit role assignments from either their owning domains or projects that are higher in hierarchy.For Example, if project C is parent of project D and a user has role Echo on project C, the user also has role Echo on project D via role inheritance. ",,5,0
openstack%2Fkeystone~master~Iff43e584fd57eb33d721c2d42c7b5520a5351245,openstack/keystone,master,Iff43e584fd57eb33d721c2d42c7b5520a5351245,Not exposing unnecessary role assignments by v3/role_assignments,ABANDONED,2020-06-26 11:25:00.000000000,2022-01-21 21:00:25.000000000,,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-06-26 11:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bc773ce544ba1b002f5011c610867f936c3441cf', 'message': '[WIP] Not exposing unnecessary role assignments by v3/role_assignments\n\nChange-Id: Iff43e584fd57eb33d721c2d42c7b5520a5351245\nCloses-Bug: #1846817\n'}, {'number': 2, 'created': '2020-06-29 12:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/98e14da81d0770573701c9a58177faf0d83f1099', 'message': '[WIP] Not exposing unnecessary role assignments by v3/role_assignments\n\nChange-Id: Iff43e584fd57eb33d721c2d42c7b5520a5351245\nCloses-Bug: #1846817\n'}, {'number': 3, 'created': '2020-06-30 11:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/16d2b8d0e7e2e38a7bd6a53fa8abff8aaa766907', 'message': 'Not exposing unnecessary role assignments by v3/role_assignments\n\nAs per the implied role, admin is implied to have member as well\nas reader role. Thus for reader role for system user, keystone\nshould list the admin, member, role assignments for the user too.\nSame for member role for system user, the admin role assignments\nshould also be listed.\n\nThis fixes the filtering of list of system role assignments if\nrole_id is passed for system user.\n\nChange-Id: Iff43e584fd57eb33d721c2d42c7b5520a5351245\nCloses-Bug: #1846817\n'}, {'number': 4, 'created': '2020-06-30 11:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3d9b157497ea9e82a03c8cfe68fa0555e8fcef5f', 'message': 'Not exposing unnecessary role assignments by v3/role_assignments\n\nAs per the implied role, admin is implied to have member as well\nas reader role. Thus for reader role for system user, keystone\nshould list the admin, member, role assignments for the user too.\nSame for member role for system user, the admin role assignments\nshould also be listed.\n\nThis fixes the filtering of list of system role assignments if\nrole_id is passed for system user.\n\nChange-Id: Iff43e584fd57eb33d721c2d42c7b5520a5351245\nCloses-Bug: #1846817\n'}, {'number': 5, 'created': '2020-07-02 14:39:29.000000000', 'files': ['keystone/tests/unit/assignment/test_backends.py', 'keystone/assignment/core.py', 'releasenotes/notes/bug-1846817-1fe3584becb3f66e.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8fab9542d0a7717b6264c5d11045abcad722956b', 'message': 'Not exposing unnecessary role assignments by v3/role_assignments\n\nAs per the implied role, admin is implied to have member as well\nas reader role. Thus for reader role for system user, keystone\nshould list the admin, member, role assignments for the user too.\nSame for member role for system user, the admin role assignments\nshould also be listed.\n\nThis fixes the filtering of list of system role assignments if\nrole_id is passed for system user.\n\nChange-Id: Iff43e584fd57eb33d721c2d42c7b5520a5351245\nCloses-Bug: #1846817\n'}]",1,738190,8fab9542d0a7717b6264c5d11045abcad722956b,19,5,5,27621,,,0,"Not exposing unnecessary role assignments by v3/role_assignments

As per the implied role, admin is implied to have member as well
as reader role. Thus for reader role for system user, keystone
should list the admin, member, role assignments for the user too.
Same for member role for system user, the admin role assignments
should also be listed.

This fixes the filtering of list of system role assignments if
role_id is passed for system user.

Change-Id: Iff43e584fd57eb33d721c2d42c7b5520a5351245
Closes-Bug: #1846817
",git fetch https://review.opendev.org/openstack/keystone refs/changes/90/738190/5 && git format-patch -1 --stdout FETCH_HEAD,['keystone/assignment/core.py'],1,bc773ce544ba1b002f5011c610867f936c3441cf,bug/1846817," self.refs = None def fetch_prior_from_implied_role_ids(role_id, roles=[]): for ref in self.refs: if ref['implied_role_id'] == role_id: roles.append(ref['prior_role_id']) fetch_prior_from_implied_role_ids( ref['prior_role_id'], roles=roles) return roles if role_id: self.refs = PROVIDERS.role_api.list_role_inference_rules() roles = fetch_prior_from_implied_role_ids( role_id, roles=[role_id]) if sa['role_id'] in roles", if role_id: if role_id == sa['role_id'],12,1
openstack%2Fkeystone~master~Iac1544c6d22f20cb3653f69df243311ffe989fd2,openstack/keystone,master,Iac1544c6d22f20cb3653f69df243311ffe989fd2,fix error when using token was created from application credentials,ABANDONED,2020-05-13 15:45:58.000000000,2022-01-21 21:00:18.000000000,,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 8866}, {'_account_id': 22348}, {'_account_id': 28691}]","[{'number': 1, 'created': '2020-05-13 15:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a7f75e78e3b32c6aae287405f94c2e7ef1025e0b', 'message': 'fix error when using token was created from application credentials\n\nChange-Id: Iac1544c6d22f20cb3653f69df243311ffe989fd2\nCloses-Bug: #1878438\n'}, {'number': 2, 'created': '2020-05-13 17:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/81dc1bedda5e20f89f67c6f3e76faf5dac29df3c', 'message': 'fix error when using token was created from application credentials\n\nChange-Id: Iac1544c6d22f20cb3653f69df243311ffe989fd2\nCloses-Bug: #1878438\n'}, {'number': 3, 'created': '2020-06-10 13:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/40bab200d35dbca71d3cf86f231dd2995dd343bf', 'message': 'fix error when using token was created from application credentials\n\nChange-Id: Iac1544c6d22f20cb3653f69df243311ffe989fd2\nCloses-Bug: #1878438\n'}, {'number': 4, 'created': '2020-06-11 02:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c67de399cc513596630e6cdd5087e0a768357061', 'message': 'fix error when using token was created from application credentials\n\nChange-Id: Iac1544c6d22f20cb3653f69df243311ffe989fd2\nCloses-Bug: #1878438\n'}, {'number': 5, 'created': '2020-06-11 09:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f1936730b5c8cb9992c16c2d230208e6c0ffd9a4', 'message': 'fix error when using token was created from application credentials\n\nChange-Id: Iac1544c6d22f20cb3653f69df243311ffe989fd2\nCloses-Bug: #1878438\n'}, {'number': 6, 'created': '2020-06-12 03:07:47.000000000', 'files': ['keystone/tests/unit/test_v3_auth.py', 'keystone/tests/unit/ksfixtures/hacking.py', 'keystone/api/_shared/authentication.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/25a35d80ad1e99dd45bb09ee7b437d0c31acbc16', 'message': 'fix error when using token was created from application credentials\n\nChange-Id: Iac1544c6d22f20cb3653f69df243311ffe989fd2\nCloses-Bug: #1878438\n'}]",0,727808,25a35d80ad1e99dd45bb09ee7b437d0c31acbc16,21,5,6,28691,,,0,"fix error when using token was created from application credentials

Change-Id: Iac1544c6d22f20cb3653f69df243311ffe989fd2
Closes-Bug: #1878438
",git fetch https://review.opendev.org/openstack/keystone refs/changes/08/727808/6 && git format-patch -1 --stdout FETCH_HEAD,['keystone/api/_shared/authentication.py'],1,a7f75e78e3b32c6aae287405f94c2e7ef1025e0b,bug/1878438, if 'application_credential' in auth['identity']['methods']:, if 'application_credential' in method_names:,1,1
openstack%2Fkeystonemiddleware~master~I08bb6e7199ca58ecd082d3b6d18a0d462692b78f,openstack/keystonemiddleware,master,I08bb6e7199ca58ecd082d3b6d18a0d462692b78f,Fix context issue for neutron audit,ABANDONED,2017-09-30 04:53:13.000000000,2022-01-21 21:00:13.000000000,,"[{'_account_id': 3}, {'_account_id': 4428}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 8866}, {'_account_id': 9542}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 17645}, {'_account_id': 17860}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-30 04:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/301de12b2193be84d35ca7b0e97932c379938511', 'message': 'Fix context issue for neutron audit\n\nThe context for neutron should be request.context.get(""neutron_context"")\nOtherwise error will be raised:\n""ValueError: Circular reference detected"" because request.context for\nneutron contains \'neutron_context\', \'pagination_helper\' and \'sorting_helper\'\nobject which can not be encoded.\n\nChange-Id: I08bb6e7199ca58ecd082d3b6d18a0d462692b78f\nCloses-bug: #1720486\n'}, {'number': 2, 'created': '2019-07-12 14:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/173b90c8ce825b613757e5a4bd9ffef316dc7e57', 'message': 'Fix context issue for neutron audit\n\nWhen neutron sends it\'s context, that contains a ""neutron_context"" that\nis can not be encoded.  Neutron is changing to use ""service_context"" so\nthat a fix can be made here that is not service-specific.  Without this,\nenabling CADF in neutron will always break with the following error:\n\n""ERROR oslo_messaging.notify.messaging ValueError: Circular reference\ndetected""\n\nChange-Id: I08bb6e7199ca58ecd082d3b6d18a0d462692b78f\nCloses-bug: #1720486\nCo-Authored-By: Nate Johnston <nate.johnston@redhat.com>\n'}, {'number': 3, 'created': '2019-07-12 14:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/155a95464a38c6cdee0ddd8417e03557aa191b84', 'message': 'Fix context issue for neutron audit\n\nWhen neutron sends it\'s context, that contains a ""neutron_context"" that\nis can not be encoded.  Neutron is changing to use ""service_context"" so\nthat a fix can be made here that is not service-specific.  Without this,\nenabling CADF in neutron will always break with the following error:\n\n""ERROR oslo_messaging.notify.messaging ValueError: Circular reference\ndetected""\n\nThe Needed-By bug is the change in Neutron to use service_context\ninstead of neutron_context.\n\nNeeded-By: https://review.opendev.org/670570\nPartial-bug: #1720486\nCo-Authored-By: Nate Johnston <nate.johnston@redhat.com>\nChange-Id: I08bb6e7199ca58ecd082d3b6d18a0d462692b78f\n'}, {'number': 4, 'created': '2019-07-22 21:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/4c4cc006a27348afb4169ba21c290893c38270ac', 'message': 'Fix context issue for neutron audit\n\nWhen neutron sends it\'s context, that contains a ""neutron_context"" that\nis can not be encoded.  Neutron is changing to use ""service_context"" so\nthat a fix can be made here that is not service-specific.  Without this,\nenabling CADF in neutron will always break with the following error:\n\n""ERROR oslo_messaging.notify.messaging ValueError: Circular reference\ndetected""\n\nThe Needed-By bug is the change in Neutron to use service_context\ninstead of neutron_context.\n\nNeeded-By: https://review.opendev.org/670570\nPartial-bug: #1720486\nCo-Authored-By: Nate Johnston <nate.johnston@redhat.com>\nChange-Id: I08bb6e7199ca58ecd082d3b6d18a0d462692b78f\n'}, {'number': 5, 'created': '2019-07-26 22:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/0d3f0234d8ac35dd94ef07ba763ee0516e184dc8', 'message': 'Fix context issue for neutron audit\n\nWhen neutron sends it\'s context, that contains a ""neutron_context"" that\nis can not be encoded.  Neutron is changing to use ""service_context"" so\nthat a fix can be made here that is not service-specific.  Without this,\nenabling CADF in neutron will always break with the following error:\n\n""ERROR oslo_messaging.notify.messaging ValueError: Circular reference\ndetected""\n\nThe Needed-By bug is the change in Neutron to use service_context\ninstead of neutron_context.\n\nNeeded-By: https://review.opendev.org/670570\nPartial-bug: #1720486\nCo-Authored-By: Nate Johnston <nate.johnston@redhat.com>\nChange-Id: I08bb6e7199ca58ecd082d3b6d18a0d462692b78f\n'}, {'number': 6, 'created': '2019-10-11 11:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/e4b0a1203d643eb9c15e712623203e60dd617fbb', 'message': 'Fix context issue for neutron audit\n\nWhen neutron sends it\'s context, that contains a ""neutron_context"" that\nis can not be encoded.  Neutron is changing to use ""service_context"" so\nthat a fix can be made here that is not service-specific.  Without this,\nenabling CADF in neutron will always break with the following error:\n\n""ERROR oslo_messaging.notify.messaging ValueError: Circular reference\ndetected""\n\nThe Needed-By bug is the change in Neutron to use service_context\ninstead of neutron_context.\n\nNeeded-By: https://review.opendev.org/670570\nPartial-bug: #1720486\nCo-Authored-By: Nate Johnston <nate.johnston@redhat.com>\nChange-Id: I08bb6e7199ca58ecd082d3b6d18a0d462692b78f\n'}, {'number': 7, 'created': '2020-01-22 14:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/cc1022ad4e8221e704275ea67278d0a947a38cda', 'message': 'Fix context issue for neutron audit\n\nWhen neutron sends it\'s context, that contains a ""neutron_context"" that\nis can not be encoded.  Neutron is changing to use ""service_context"" so\nthat a fix can be made here that is not service-specific.  Without this,\nenabling CADF in neutron will always break with the following error:\n\n""ERROR oslo_messaging.notify.messaging ValueError: Circular reference\ndetected""\n\nThe Needed-By bug is the change in Neutron to use service_context\ninstead of neutron_context.\n\nNeeded-By: https://review.opendev.org/670570\nPartial-bug: #1720486\nCo-Authored-By: Nate Johnston <nate.johnston@redhat.com>\nChange-Id: I08bb6e7199ca58ecd082d3b6d18a0d462692b78f\n'}, {'number': 8, 'created': '2020-02-03 17:40:41.000000000', 'files': ['releasenotes/notes/service_context-8e51ef6b9ff29af4.yaml', 'keystonemiddleware/tests/unit/audit/test_audit_oslo_messaging.py', 'keystonemiddleware/audit/_notifier.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/cacff748293474e95b7161910bcedcedef92f60f', 'message': 'Fix context issue for neutron audit\n\nWhen neutron sends it\'s context, that contains a ""neutron_context"" that\nis can not be encoded.  Neutron is changing to use ""service_context"" so\nthat a fix can be made here that is not service-specific.  Without this,\nenabling CADF in neutron will always break with the following error:\n\n""ERROR oslo_messaging.notify.messaging ValueError: Circular reference\ndetected""\n\nThe Needed-By bug is the change in Neutron to use service_context\ninstead of neutron_context.\n\nNeeded-By: https://review.opendev.org/670570\nPartial-bug: #1720486\nCo-Authored-By: Nate Johnston <nate.johnston@redhat.com>\nChange-Id: I08bb6e7199ca58ecd082d3b6d18a0d462692b78f\n'}]",24,508659,cacff748293474e95b7161910bcedcedef92f60f,53,12,8,4428,,,0,"Fix context issue for neutron audit

When neutron sends it's context, that contains a ""neutron_context"" that
is can not be encoded.  Neutron is changing to use ""service_context"" so
that a fix can be made here that is not service-specific.  Without this,
enabling CADF in neutron will always break with the following error:

""ERROR oslo_messaging.notify.messaging ValueError: Circular reference
detected""

The Needed-By bug is the change in Neutron to use service_context
instead of neutron_context.

Needed-By: https://review.opendev.org/670570
Partial-bug: #1720486
Co-Authored-By: Nate Johnston <nate.johnston@redhat.com>
Change-Id: I08bb6e7199ca58ecd082d3b6d18a0d462692b78f
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/59/508659/8 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/audit/_notifier.py'],1,301de12b2193be84d35ca7b0e97932c379938511,bug/1720486," if ""neutron_context"" in context: context = context.get(""neutron_context"")",,2,0
openstack%2Fkeystone~master~I7dd0db1135898c4098093f54d759ff2384bf7714,openstack/keystone,master,I7dd0db1135898c4098093f54d759ff2384bf7714,Record last_active_at for local users using keystone as IdP,ABANDONED,2020-03-12 15:59:37.000000000,2022-01-21 21:00:08.000000000,,"[{'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 31241}]","[{'number': 1, 'created': '2020-03-12 15:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/76a8322a90122bafde7800cfc6807f1be1dc16ce', 'message': 'Also record last_active_at for local users using IdP to log in\n\nIf a user tries to log in after disable_user_account_days_inactive days,\nthe login is denied with 401, the log showing a ""User is disabled"".\n\nBefore this changeset, local users using an federated identity for login\ndid not get an updated last_active_at. Hence the login was denied 90\nafter account setup.\n\nChange-Id: I7dd0db1135898c4098093f54d759ff2384bf7714\n'}, {'number': 2, 'created': '2020-03-13 08:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c0852384d65030ac62c44e3a70a4db2b8184585f', 'message': 'Also record last_active_at for local users using IdP to log in\n\nIf a user tries to log in after disable_user_account_days_inactive days,\nthe login is denied with 401, the log showing a ""User is disabled"".\n\nBefore this changeset, local users using an federated identity for login\ndid not get an updated last_active_at. Hence the login was denied 90\nafter account setup.\n\nChange-Id: I7dd0db1135898c4098093f54d759ff2384bf7714\n'}, {'number': 3, 'created': '2020-04-30 13:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2ccaab87f797e714a4589f75fdf051366bb0df58', 'message': 'Also record last_active_at for local users using IdP to log in\n\nIf a user tries to log in after disable_user_account_days_inactive days,\nthe login is denied with 401, the log showing a ""User is disabled"".\n\nBefore this changeset, local users using an federated identity for login\ndid not get an updated last_active_at. Hence the login was denied 90\nafter account setup.\n\nCo-Authored-By: Vishakha Agarwal <agarwalvishakha18@gmail.com>\n\nChange-Id: I7dd0db1135898c4098093f54d759ff2384bf7714\n'}, {'number': 4, 'created': '2020-05-01 05:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/48af2e417228033a37250bd9c4ccc1a7d9f7b790', 'message': 'Also record last_active_at for local users using IdP to log in\n\nIf a user tries to log in after disable_user_account_days_inactive days,\nthe login is denied with 401, the log showing a ""User is disabled"".\n\nBefore this changeset, local users using an federated identity for login\ndid not get an updated last_active_at. Hence the login was denied 90\nafter account setup.\n\nCo-Authored-By: Vishakha Agarwal <agarwalvishakha18@gmail.com>\n\nChange-Id: I7dd0db1135898c4098093f54d759ff2384bf7714\n'}, {'number': 5, 'created': '2020-05-19 11:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d85cda323a91c98b35cf9c4ef0069f0e86ce4f53', 'message': 'Record last_active_at for local users using keystone as IdP\n\nIf a normal local user in keystone tries to log in after\ndisable_user_account_days_inactive days, the login is denied\nwith 401, the log showing a ""User is disabled"".\n\nBefore this ""last_active_at"" for local users using keystone\nas IDP was not updating. If the option disable_user_account\n_days_inactive is set in keystone.conf, and if the user logged\nin for federated_auth before the days set in disable_user_\naccount_days_inactive, the last active at was not updating and\nthe user used to get disabled after disable_user_account_days_\ninactive.\n\nAfter this patch user can view last_active_at set in the database\nfor local user using keystone as idp.\n\nCo-Authored-By: Vishakha Agarwal <agarwalvishakha18@gmail.com>\n\nChange-Id: I7dd0db1135898c4098093f54d759ff2384bf7714\n'}, {'number': 6, 'created': '2020-05-19 11:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cc4c12202cbc9d2249bc78c141712e8929f4560a', 'message': 'Record last_active_at for local users using keystone as IdP\n\nIf a normal local user in keystone tries to log in after\ndisable_user_account_days_inactive days, the login is denied\nwith 401, the log showing a ""User is disabled"".\n\nBefore this ""last_active_at"" for local users using keystone\nas IDP was not updating. If the option disable_user_account\n_days_inactive is set in keystone.conf, and if the user logged\nin for federated_auth before the days set in disable_user_\naccount_days_inactive, the last active at was not updating and\nthe user used to get disabled after disable_user_account_days_\ninactive.\n\nAfter this patch user can view last_active_at set in the database\nfor local user using keystone as idp.\n\nCo-Authored-By: Vishakha Agarwal <agarwalvishakha18@gmail.com>\n\nChange-Id: I7dd0db1135898c4098093f54d759ff2384bf7714\n'}, {'number': 7, 'created': '2020-05-19 11:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/822c5443479fac82f1b2403a4a29aa2760518d93', 'message': 'Record last_active_at for local users using keystone as IdP\n\nIf a normal local user in keystone tries to log in after\ndisable_user_account_days_inactive days, the login is denied\nwith 401, the log showing a ""User is disabled"".\n\nBefore this ""last_active_at"" for local users using keystone\nas IDP was not updating. If the option disable_user_account\n_days_inactive is set in keystone.conf, and if the user logged\nin for federated auth before the no. of days set in disable_user_\naccount_days_inactive, the ""last_active_at"" was not updating and\nthe user used to get disabled after disable_user_account_days_\ninactive.\n\nAfter this patch user can view last_active_at set in the database\nfor local user using keystone as idp.\n\nCo-Authored-By: Vishakha Agarwal <agarwalvishakha18@gmail.com>\n\nChange-Id: I7dd0db1135898c4098093f54d759ff2384bf7714\n'}, {'number': 8, 'created': '2020-05-21 11:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/34195166ec203f218f255d8e66e80ad40bf8af35', 'message': 'Record last_active_at for local users using keystone as IdP\n\nIf a normal local user in keystone tries to log in after\ndisable_user_account_days_inactive days, the login is denied\nwith 401, the log showing a ""User is disabled"".\n\nBefore this ""last_active_at"" for local users using federated\nidentity was not updating. If the option disable_user_account\n_days_inactive is set in keystone.conf, and if the federated\nuser logged in for federated auth before the no. of days set\nin disable_user_account_days_inactive, the ""last_active_at""\nwas not updating and the user used to get disabled after\ndisable_user_account_days_inactive.\n\nAfter this patch the federated user can continue to log in as\nlong as they are refreshing their active status by logging in\nregularly.\n\nCo-Authored-By: Vishakha Agarwal <agarwalvishakha18@gmail.com>\n\nChange-Id: I7dd0db1135898c4098093f54d759ff2384bf7714\n'}, {'number': 9, 'created': '2020-05-21 11:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/46b7822b66a53c07b93e2edd234c69ccc50677f1', 'message': 'Record last_active_at for local users using keystone as IdP\n\nIf a normal local user in keystone tries to log in after\ndisable_user_account_days_inactive days, the login is denied\nwith 401, the log showing a ""User is disabled"".\n\nBefore this ""last_active_at"" for local users using federated\nidentity was not updating. If the option disable_user_account\n_days_inactive is set in keystone.conf, and if the federated\nuser logged in for federated auth before the no. of days set\nin disable_user_account_days_inactive, the ""last_active_at""\nwas not updating and the user used to get disabled after\ndisable_user_account_days_inactive.\n\nAfter this patch the federated user can continue to log in as\nlong as they are refreshing their active status by logging in\nregularly.\n\nCo-Authored-By: Vishakha Agarwal <agarwalvishakha18@gmail.com>\n\nChange-Id: I7dd0db1135898c4098093f54d759ff2384bf7714\n'}, {'number': 10, 'created': '2020-05-21 12:10:01.000000000', 'files': ['keystone/tests/unit/test_v3_federation.py', 'keystone/auth/plugins/mapped.py', 'releasenotes/notes/update_last_active_for_ephemeral_users-24555a360168924d.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/066606e50d5de1ef6245e222cbc4b580068c0982', 'message': 'Record last_active_at for local users using keystone as IdP\n\nIf a normal local user in keystone tries to log in after\ndisable_user_account_days_inactive days, the login is denied\nwith 401, the log showing a ""User is disabled"".\n\nBefore this ""last_active_at"" for local users using federated\nidentity was not updating. If the option disable_user_account\n_days_inactive is set in keystone.conf, and if the federated\nuser logged in for federated auth before the no. of days set\nin disable_user_account_days_inactive, the ""last_active_at""\nwas not updating and the user used to get disabled after\ndisable_user_account_days_inactive.\n\nAfter this patch the federated user can continue to log in as\nlong as they are refreshing their active status by logging in\nregularly.\n\nCo-Authored-By: Vishakha Agarwal <agarwalvishakha18@gmail.com>\n\nChange-Id: I7dd0db1135898c4098093f54d759ff2384bf7714\n'}]",26,712724,066606e50d5de1ef6245e222cbc4b580068c0982,40,4,10,31241,,,0,"Record last_active_at for local users using keystone as IdP

If a normal local user in keystone tries to log in after
disable_user_account_days_inactive days, the login is denied
with 401, the log showing a ""User is disabled"".

Before this ""last_active_at"" for local users using federated
identity was not updating. If the option disable_user_account
_days_inactive is set in keystone.conf, and if the federated
user logged in for federated auth before the no. of days set
in disable_user_account_days_inactive, the ""last_active_at""
was not updating and the user used to get disabled after
disable_user_account_days_inactive.

After this patch the federated user can continue to log in as
long as they are refreshing their active status by logging in
regularly.

Co-Authored-By: Vishakha Agarwal <agarwalvishakha18@gmail.com>

Change-Id: I7dd0db1135898c4098093f54d759ff2384bf7714
",git fetch https://review.opendev.org/openstack/keystone refs/changes/24/712724/5 && git format-patch -1 --stdout FETCH_HEAD,['keystone/auth/plugins/mapped.py'],1,76a8322a90122bafde7800cfc6807f1be1dc16ce,last_active_at-for-federated-users--712724, PROVIDERS.shadow_users_api.set_last_active_at(response_data['user_id']),,1,0
openstack%2Fkeystone~master~I9d8983dd3c83f409aa782bdef160e56cb9bad75f,openstack/keystone,master,I9d8983dd3c83f409aa782bdef160e56cb9bad75f,Modified for mod_wsgi installation,ABANDONED,2020-06-18 19:27:24.000000000,2022-01-21 21:00:03.000000000,,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-06-18 19:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b7062944f370171c3186249a27b9bb5e7633a57a', 'message': 'Modified for mod_wsgi installation\n\nIn CentOS8 and RHEL8 package is now python3-mod_wsgi\n\nChange-Id: I9d8983dd3c83f409aa782bdef160e56cb9bad75f\n'}, {'number': 2, 'created': '2020-06-19 00:13:25.000000000', 'files': ['doc/source/install/keystone-install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c4bf928867fdd5163684f6c68606d6eb24ca6d03', 'message': 'Modified for mod_wsgi installation\n\nIn CentOS 8 and RHEL 8 package is now python3-mod_wsgi\n\nChange-Id: I9d8983dd3c83f409aa782bdef160e56cb9bad75f\n'}]",0,736810,c4bf928867fdd5163684f6c68606d6eb24ca6d03,7,3,2,15993,,,0,"Modified for mod_wsgi installation

In CentOS 8 and RHEL 8 package is now python3-mod_wsgi

Change-Id: I9d8983dd3c83f409aa782bdef160e56cb9bad75f
",git fetch https://review.opendev.org/openstack/keystone refs/changes/10/736810/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/keystone-install-rdo.rst'],1,b7062944f370171c3186249a27b9bb5e7633a57a,centos8, **For CentOS7 and RHEL7** **For CentOS8 and RHEL8** .. code-block:: console # yum install openstack-keystone httpd python3-mod_wsgi .. end ,,10,0
openstack%2Fkeystone~master~Ifa60c9984be49230f279c4ba2fb920a9d7b7d109,openstack/keystone,master,Ifa60c9984be49230f279c4ba2fb920a9d7b7d109,drop mock from lower-constraints,ABANDONED,2020-06-08 23:18:02.000000000,2022-01-21 20:59:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-06-08 23:18:02.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/61a815197dcedc3d4dcbf36d9b09d146e26e2548', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: Ifa60c9984be49230f279c4ba2fb920a9d7b7d109\n""}]",0,734358,61a815197dcedc3d4dcbf36d9b09d146e26e2548,4,2,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: Ifa60c9984be49230f279c4ba2fb920a9d7b7d109
",git fetch https://review.opendev.org/openstack/keystone refs/changes/58/734358/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,61a815197dcedc3d4dcbf36d9b09d146e26e2548,drop_mock,,mock==2.0.0,0,1
openstack%2Fkeystone~master~Iedccc36b2909d889d9dcb46273ed62cd7c450ad4,openstack/keystone,master,Iedccc36b2909d889d9dcb46273ed62cd7c450ad4,"""Unauthorized"" error message needs more hints",ABANDONED,2019-09-18 17:58:09.000000000,2022-01-21 20:59:48.000000000,,"[{'_account_id': 10068}, {'_account_id': 18044}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-09-18 17:58:09.000000000', 'files': ['keystone/exception.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a5af128532d6af1617c9ed54244c5a47c5a1829a', 'message': '""Unauthorized"" error message needs more hints\n\nAdded a better text for Unauthorized error msg,\nwhen authorization fails.\n\nChange-Id: Iedccc36b2909d889d9dcb46273ed62cd7c450ad4\nCloses-Bug: #1835303\n'}]",2,682955,a5af128532d6af1617c9ed54244c5a47c5a1829a,9,4,1,18044,,,0,"""Unauthorized"" error message needs more hints

Added a better text for Unauthorized error msg,
when authorization fails.

Change-Id: Iedccc36b2909d889d9dcb46273ed62cd7c450ad4
Closes-Bug: #1835303
",git fetch https://review.opendev.org/openstack/keystone refs/changes/55/682955/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/exception.py'],1,a5af128532d6af1617c9ed54244c5a47c5a1829a,bug/1835303," message_format = _(""Failed to authenticate."")"," message_format = _(""The request you have made requires authentication."")",1,1
openstack%2Fkeystone~master~Idc2ad60d4579f223ce3d83e8db36230d84044e14,openstack/keystone,master,Idc2ad60d4579f223ce3d83e8db36230d84044e14,[WIP] Extend bindep usage,ABANDONED,2018-03-02 14:20:40.000000000,2022-01-21 20:59:32.000000000,,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 14119}, {'_account_id': 20444}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-02 14:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4e481658b6845539ae15aabccaaab4efee957b8d', 'message': '[WIP] Extend bindep usage\n\nChange-Id: Idc2ad60d4579f223ce3d83e8db36230d84044e14\n'}, {'number': 2, 'created': '2018-03-02 14:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9b1817930095f40cf902bb436f22b55731242354', 'message': '[WIP] Extend bindep usage\n\nChange-Id: Idc2ad60d4579f223ce3d83e8db36230d84044e14\n'}, {'number': 3, 'created': '2018-03-06 15:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8f2e5143b592d275505e7ecbe7a424316e33ae6b', 'message': '[WIP] Extend bindep usage\n\nChange-Id: Idc2ad60d4579f223ce3d83e8db36230d84044e14\n'}, {'number': 4, 'created': '2018-05-08 22:15:34.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/2cb9591b413f02242341a9ed72ab11df32f872fc', 'message': '[WIP] Extend bindep usage\n\nChange-Id: Idc2ad60d4579f223ce3d83e8db36230d84044e14\n'}]",3,549223,2cb9591b413f02242341a9ed72ab11df32f872fc,20,6,4,14119,,,0,"[WIP] Extend bindep usage

Change-Id: Idc2ad60d4579f223ce3d83e8db36230d84044e14
",git fetch https://review.opendev.org/openstack/keystone refs/changes/23/549223/2 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,4e481658b6845539ae15aabccaaab4efee957b8d,bindep_keystone,gettext [!deploy] postgresql [!deploy] libffi-dev [platform:dpkg !deploy] libffi-devel [platform:rpm !deploy] libldap2-dev [platform:dpkg !deploy] libsasl2-dev [platform:dpkg !deploy] libsqlite3-dev [platform:dpkg !deploy] libssl-dev [platform:dpkg !deploy] libxml2-dev [platform:dpkg !deploy] libxslt1-dev [platform:dpkg !deploy] mysql-client [platform:dpkg !deploy] mysql-server [platform:dpkg !deploy] postgresql-client [platform:dpkg !deploy] postgresql-server-dev-all [platform:dpkg !deploy] python-all-dev [platform:dpkg !deploy] python3-all-dev [platform:dpkg !deploy] cyrus-sasl-devel [platform:rpm !deploy] libxml2-devel [platform:rpm !deploy] mariadb [platform:rpm !deploy] mariadb-devel [platform:rpm !deploy] mariadb-server [platform:rpm !deploy] openldap-devel [platform:rpm !deploy] openssl-devel [platform:rpm !deploy] postgresql-devel [platform:rpm !deploy] postgresql-server [platform:rpm !deploy] python-devel [platform:rpm !deploy] python3-devel [platform:fedora !deploy] python34-devel [platform:centos !deploy] libxml2 [deploy] libpython2.7 [platform:dpkg deploy !python3] libpython3.5 [platform:dpkg deploy python3] libldap-2.4-2 [platform:dpkg (deploy ldap !python3)] openldap [platform:rpm (deploy ldap !python3)],gettext postgresql libffi-dev [platform:dpkg] libffi-devel [platform:rpm] libldap2-dev [platform:dpkg] libsasl2-dev [platform:dpkg] libsqlite3-dev [platform:dpkg] libssl-dev [platform:dpkg] libxml2-dev [platform:dpkg] libxslt1-dev [platform:dpkg] mysql-client [platform:dpkg] mysql-server [platform:dpkg] postgresql-client [platform:dpkg] postgresql-server-dev-all [platform:dpkg] python-all-dev [platform:dpkg] python3-all-dev [platform:dpkg] cyrus-sasl-devel [platform:rpm] libxml2-devel [platform:rpm] mariadb [platform:rpm] mariadb-devel [platform:rpm] mariadb-server [platform:rpm] openldap-devel [platform:rpm] openssl-devel [platform:rpm] postgresql-devel [platform:rpm] postgresql-server [platform:rpm] python-devel [platform:rpm] python3-devel [platform:fedora] python34-devel [platform:centos],34,28
openstack%2Fkeystone~master~Ia8450dc45dad5ceb4661807f51de66b5d70a6207,openstack/keystone,master,Ia8450dc45dad5ceb4661807f51de66b5d70a6207,Change the min value of pool_retry_max to 1,MERGED,2022-01-11 10:41:16.000000000,2022-01-21 20:59:07.000000000,2022-01-21 20:56:08.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 8866}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 10:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b3d32fc6a6ff71d72d8a1878d721e224de19a61c', 'message': 'Change the min value of pool_retry_max to 1\n\nValue of 0 causes the pool to fail before it attempts to connect\nto ldap, raising MaxConnectionReachedError.\n\nChange-Id: Ia8450dc45dad5ceb4661807f51de66b5d70a6207\n'}, {'number': 2, 'created': '2022-01-18 10:42:13.000000000', 'files': ['keystone/conf/ldap.py', 'releasenotes/notes/change_min_pool_retry_max-f5e7c8d315401426.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f639c405345cdab2a020ff97f112ec67ba67fa80', 'message': 'Change the min value of pool_retry_max to 1\n\nValue of 0 causes the pool to fail before it attempts to connect\nto ldap, raising MaxConnectionReachedError.\n\nChange-Id: Ia8450dc45dad5ceb4661807f51de66b5d70a6207\n'}]",5,824140,f639c405345cdab2a020ff97f112ec67ba67fa80,21,6,2,14250,,,0,"Change the min value of pool_retry_max to 1

Value of 0 causes the pool to fail before it attempts to connect
to ldap, raising MaxConnectionReachedError.

Change-Id: Ia8450dc45dad5ceb4661807f51de66b5d70a6207
",git fetch https://review.opendev.org/openstack/keystone refs/changes/40/824140/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/conf/ldap.py'],1,b3d32fc6a6ff71d72d8a1878d721e224de19a61c,," min=1,The maximum number of times to attempt connecting to the LDAP server before aborting. A value of one makes only one connection attempt. This option has no effect unless `[ldap] use_pool` is also enabled."," min=0,The maximum number of times to attempt reconnecting to the LDAP server before aborting. A value of zero prevents retries. This option has no effect unless `[ldap] use_pool` is also enabled.",4,4
openstack%2Fkeystone~master~I390ae3e5e7227a1fbdd9686463246ab81d70ba0c,openstack/keystone,master,I390ae3e5e7227a1fbdd9686463246ab81d70ba0c,Fixed support of UTF-8 DN when using LDAP connection pool.,ABANDONED,2020-02-10 10:52:29.000000000,2022-01-21 20:58:53.000000000,,"[{'_account_id': 8482}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 31585}]","[{'number': 1, 'created': '2020-02-10 10:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/72ddf7f4cf145fa2d3665c2b6b91ec6d8424c0fb', 'message': 'Fixed support of ldap UTF8 encoded users DN\n\nRecently support of byte encoded attributes was dropped in python-ldap.\nChanges made in bug 1798184 addedd support of utf8. But after that changes\nkeystone during user login throws exception if that user have UTF-8 encoded\ncharacters in DN. Exception is thrown from _ldap_get_all during assembling query\ndue to fact that self.id_attr is ascii string and have bytes outside range(128).\nThis comes due to fact that in convert_ldap_result DN is not properly decoded.\n\nAdds UTF-8 decoding of DN in convert_ldap_result\n\nChange-Id: I390ae3e5e7227a1fbdd9686463246ab81d70ba0c\nCloses-Bug: #1862606\nRelated-Bug: #1798184\n'}, {'number': 2, 'created': '2020-02-10 10:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5366a336c03b0512be349ff28f04fd58e2d8444d', 'message': 'Fixed support of ldap UTF8 encoded users DN\n\nRecently support of byte encoded attributes was dropped in\npython-ldap. Changes made in bug 1798184 added support of utf8. But\nafter that changes keystone during user login throws exception if\nthat user have UTF-8 encoded characters in DN. Exception is thrown\nfrom _ldap_get_all during assembling query due to fact that\nself.id_attr is ascii string and have bytes outside range(128). This\ncomes due to fact that in convert_ldap_result DN is not properly\ndecoded.\n\nAdds UTF-8 decoding of DN in convert_ldap_result\n\nChange-Id: I390ae3e5e7227a1fbdd9686463246ab81d70ba0c\nCloses-Bug: #1862606\nRelated-Bug: #1798184\n'}, {'number': 3, 'created': '2020-02-17 14:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2d1f819aaf142daa4f91a37b30a7ae2c4685d560', 'message': 'Fixed support of UTF-8 encoded DN when using LDAP connection pool.\n\nRecently support of byte encoded attributes was dropped in\npython-ldap. Changes made in bug 1798184 added support of utf8. But\nafter that changes keystone during user login throws exception if\nthat user have UTF-8 encoded characters in DN and LDAP connection\npool is used. Exception is thrown from _ldap_get_all during\nassembling query due to fact that self.id_attr is ascii string and\nhave bytes outside range(128). This comes due to fact that in\nconvert_ldap_result DN is not properly decoded.\n\nAdds UTF-8 bytes_mode=False support to PooledLDAPHandler.\n\nChange-Id: I390ae3e5e7227a1fbdd9686463246ab81d70ba0c\nCloses-Bug: #1862606\nRelated-Bug: #1798184\n'}, {'number': 4, 'created': '2020-02-17 14:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/56c1797ecb58547db0e10845266b14901f96ff0f', 'message': 'Fixed support of UTF-8 DN when using LDAP connection pool.\n\nRecently support of byte encoded attributes was dropped in\npython-ldap. Changes made in bug 1798184 added support of utf8. But\nafter that changes keystone during user login throws exception if\nthat user have UTF-8 encoded characters in DN and LDAP connection\npool is used. Exception is thrown from _ldap_get_all during\nassembling query due to fact that self.id_attr is ascii string and\nhave bytes outside range(128). This comes due to fact that in\nconvert_ldap_result DN is not properly decoded.\n\nAdds UTF-8 bytes_mode=False support to PooledLDAPHandler.\n\nChange-Id: I390ae3e5e7227a1fbdd9686463246ab81d70ba0c\nCloses-Bug: #1862606\nRelated-Bug: #1798184\n'}, {'number': 5, 'created': '2020-02-18 13:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d983c9188518b1d2f8e89906bf2e3da11ca6aff9', 'message': 'Fixed support of UTF-8 DN when using LDAP connection pool.\n\nRecently support of byte encoded attributes was dropped in\npython-ldap. Changes made in bug 1798184 added support of utf8. But\nafter that changes keystone during user login throws exception if\nthat user have UTF-8 encoded characters in DN and LDAP connection\npool is used. Exception is thrown from _ldap_get_all during\nassembling query due to fact that self.id_attr is ascii string and\nhave bytes outside range(128). This comes due to fact that in\nconvert_ldap_result DN is not properly decoded.\n\nAdds UTF-8 bytes_mode=False support to PooledLDAPHandler.\n\nChange-Id: I390ae3e5e7227a1fbdd9686463246ab81d70ba0c\nCloses-Bug: #1862606\nRelated-Bug: #1798184\n'}, {'number': 6, 'created': '2020-02-19 13:51:23.000000000', 'files': ['keystone/identity/backends/ldap/common.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ffc3b4f844557446749101938b5bf190afc1b540', 'message': 'Fixed support of UTF-8 DN when using LDAP connection pool.\n\nRecently support of byte encoded attributes was dropped in\npython-ldap. Changes made in bug 1798184 added support of utf8. But\nafter that changes keystone during user login throws exception if\nthat user have UTF-8 encoded characters in DN and LDAP connection\npool is used. Exception is thrown from _ldap_get_all during\nassembling query due to fact that self.id_attr is ascii string and\nhave bytes outside range(128). This comes due to fact that in\nconvert_ldap_result DN is not properly decoded.\n\nAdds UTF-8 bytes_mode=False support to PooledLDAPHandler.\n\nChange-Id: I390ae3e5e7227a1fbdd9686463246ab81d70ba0c\nCloses-Bug: #1862606\nRelated-Bug: #1798184\n'}]",0,706791,ffc3b4f844557446749101938b5bf190afc1b540,23,4,6,29058,,,0,"Fixed support of UTF-8 DN when using LDAP connection pool.

Recently support of byte encoded attributes was dropped in
python-ldap. Changes made in bug 1798184 added support of utf8. But
after that changes keystone during user login throws exception if
that user have UTF-8 encoded characters in DN and LDAP connection
pool is used. Exception is thrown from _ldap_get_all during
assembling query due to fact that self.id_attr is ascii string and
have bytes outside range(128). This comes due to fact that in
convert_ldap_result DN is not properly decoded.

Adds UTF-8 bytes_mode=False support to PooledLDAPHandler.

Change-Id: I390ae3e5e7227a1fbdd9686463246ab81d70ba0c
Closes-Bug: #1862606
Related-Bug: #1798184
",git fetch https://review.opendev.org/openstack/keystone refs/changes/91/706791/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/backends/ldap/common.py'],1,72ddf7f4cf145fa2d3665c2b6b91ec6d8424c0fb,bug/1798184," py_result.append((utf8_decode(dn), ldap_attrs))"," py_result.append((dn, ldap_attrs))",1,1
openstack%2Fkeystone~master~I7e5b819e24e93bf25ce7e5feb7e727580ab188f8,openstack/keystone,master,I7e5b819e24e93bf25ce7e5feb7e727580ab188f8,don't validate trust in policy,ABANDONED,2017-07-10 15:47:32.000000000,2022-01-21 20:58:32.000000000,,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 10608}, {'_account_id': 13478}]","[{'number': 1, 'created': '2017-07-10 15:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0a7863d83a87f699f0f8f611da4b6045dbf9c030', 'message': ""don't validate trust in policy\n\nValidating that trustor_user_id matches the user making the request\nis the responsibility of the create_trust method, and it is already\ndone there [1]. That check should not be duplicated in the policy\nrule. This change removes that check from policy.\n\n[1] https://git.openstack.org/cgit/openstack/keystone/tree/keystone/trust/controllers.py#n130\n\nChange-Id: I7e5b819e24e93bf25ce7e5feb7e727580ab188f8\n""}, {'number': 2, 'created': '2017-07-11 19:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f45dd2db98c9c2ffe5f8be4149ca6c9b5913bfaa', 'message': ""don't validate trust in policy\n\nValidating that trustor_user_id matches the user making the request\nis not the responsibility of policy. It should be, and already is,\nchecked in code (keystone.trust.controllers.TrustV3.create_trust)\nduring input validation. This change removes the check from policy\nbut retains the check in the create_trust method.\n\nThis fixes a long-standing bug that we had hacked around with\ncommit 68a9bab1bb9843af43b000f8e8a22001b382f799.\n\nChange-Id: I7e5b819e24e93bf25ce7e5feb7e727580ab188f8\nCloses-Bug: #1133435\n""}, {'number': 3, 'created': '2017-07-17 17:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fb7070ca5cc908977349fc0b42a6a6409ac0d7bc', 'message': ""don't validate trust in policy\n\nValidating that trustor_user_id matches the user making the request\nis not the responsibility of policy. It should be, and already is,\nchecked in code (keystone.trust.controllers.TrustV3.create_trust)\nduring input validation. This change removes the check from policy\nbut retains the check in the create_trust method.\n\nThis fixes a long-standing bug that we had hacked around with\ncommit 68a9bab1bb9843af43b000f8e8a22001b382f799.\n\nChange-Id: I7e5b819e24e93bf25ce7e5feb7e727580ab188f8\nCloses-Bug: #1133435\n""}, {'number': 4, 'created': '2017-07-17 20:17:48.000000000', 'files': ['keystone/tests/unit/test_v3_trust.py', 'keystone/common/policies/trust.py', 'keystone/common/policies/base.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d5450b6446363423a10aa4dc452759b5fa05a01d', 'message': ""don't validate trust in policy\n\nValidating that trustor_user_id matches the user making the request\nis not the responsibility of policy. It should be, and already is,\nchecked in code (keystone.trust.controllers.TrustV3.create_trust)\nduring input validation. This change removes the check from policy\nbut retains the check in the create_trust method.\n\nThis fixes a long-standing bug that we had hacked around with\ncommit 68a9bab1bb9843af43b000f8e8a22001b382f799.\n\nChange-Id: I7e5b819e24e93bf25ce7e5feb7e727580ab188f8\nCloses-Bug: #1133435\n""}]",7,482190,d5450b6446363423a10aa4dc452759b5fa05a01d,23,4,4,10608,,,0,"don't validate trust in policy

Validating that trustor_user_id matches the user making the request
is not the responsibility of policy. It should be, and already is,
checked in code (keystone.trust.controllers.TrustV3.create_trust)
during input validation. This change removes the check from policy
but retains the check in the create_trust method.

This fixes a long-standing bug that we had hacked around with
commit 68a9bab1bb9843af43b000f8e8a22001b382f799.

Change-Id: I7e5b819e24e93bf25ce7e5feb7e727580ab188f8
Closes-Bug: #1133435
",git fetch https://review.opendev.org/openstack/keystone refs/changes/90/482190/3 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/policies/trust.py', 'keystone/common/policies/base.py']",2,0a7863d83a87f699f0f8f611da4b6045dbf9c030,bug/1133435,,RULE_TRUST_OWNER = 'user_id:%(trust.trustor_user_id)s',1,2
openstack%2Fkeystone~master~Idf6e1f65ddb07e85ce864477aead976fd9a6af27,openstack/keystone,master,Idf6e1f65ddb07e85ce864477aead976fd9a6af27,[WIP] Enables MySQL Cluster support for Keystone,ABANDONED,2017-02-08 23:47:17.000000000,2022-01-21 20:58:24.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 1390}, {'_account_id': 2218}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 11816}, {'_account_id': 13671}, {'_account_id': 17386}, {'_account_id': 17645}, {'_account_id': 19283}, {'_account_id': 22348}, {'_account_id': 22589}, {'_account_id': 23479}, {'_account_id': 24611}]","[{'number': 1, 'created': '2017-02-08 23:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7729450ac504e73fbf79e60d5fac4de94ca0059a', 'message': 'Closes-bug: 1662624\n\n Enables MySQL Cluster support for Keystone\n\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 2, 'created': '2017-02-09 22:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/188c77c2dab9af0be68fdcfa610c7e77243009cf', 'message': 'Enables MySQL Cluster support for Keystone\n\nImplements minor fixes to the SQL Alchemy scripts in Keystone to support the MySQL Cluster DB.\nThis includes the usage of the mysql_storage_engine setting from oslo.db from bug 1564110. This\nallows operators to select from MySQL (InnoDB) or MySQL Cluster (NDB) as the storage engine\nbackend. Additionaly, this patch implements minor fixes to the ordering of column changes to\nhandle the dropping and adding of foreign key constraints, as NDB is more strict on these\noperations.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 3, 'created': '2017-02-10 20:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0d7b46ad950e93a55a7cd73ce63f945fd3e852fe', 'message': 'Enables MySQL Cluster support for Keystone\n\nImplements minor fixes to the SQL Alchemy scripts in Keystone to support the MySQL Cluster DB.\nThis includes the usage of the mysql_storage_engine setting from oslo.db from bug 1564110. This\nallows operators to select from MySQL (InnoDB) or MySQL Cluster (NDB) as the storage engine\nbackend. Additionaly, this patch implements minor fixes to the ordering of column changes to\nhandle the dropping and adding of foreign key constraints, as NDB is more strict on these\noperations.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 4, 'created': '2017-02-23 22:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7ccc4f51d61f6f04624eb79528aeece7e29bc1de', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db from bug 1564110. This\nallows operators to select from MySQL (InnoDB) or MySQL Cluster (NDB) as the storage engine\nbackend. This patch implements minor fixes to the ordering of column changes to handle\nthe dropping and adding of foreign key constraints, as NDB is more strict on these\noperations.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 5, 'created': '2017-02-24 00:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9245c53046e0988a15fdbf22cd5a2f641dd5990b', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db from bug 1564110. This\nallows operators to select from MySQL (InnoDB) or MySQL Cluster (NDB) as the storage engine\nbackend. This patch implements minor fixes to the ordering of column changes to handle\nthe dropping and adding of foreign key constraints, as NDB is more strict on these\noperations.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 6, 'created': '2017-03-16 22:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d97afd3b46fbdfda7da59315716593eda661861d', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db from bug 1564110. This\nallows operators to select from MySQL (InnoDB) or MySQL Cluster (NDB) as the storage engine\nbackend. This patch implements minor fixes to the ordering of column changes to handle\nthe dropping and adding of foreign key constraints, as NDB is more strict on these\noperations.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 7, 'created': '2017-03-16 22:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a8d2c7027af4eee83311dd19c71c8d2a24a4fdc8', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and adding of foreign key constraints, as NDB is more\nstrict on these operations.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 8, 'created': '2017-04-17 17:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7f4d3d8fc3df96aff833c28b271828446f2cac4e', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and adding of foreign key constraints, as NDB is more\nstrict on these operations.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 9, 'created': '2017-07-06 22:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f1663c1a410cebb1c4cd8732294a5692170f7d23', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and adding of foreign key constraints, as NDB is more\nstrict on these operations.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 10, 'created': '2017-07-14 16:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2bb452c251097f0f6af358831434a8e3ab451f54', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and adding of foreign key constraints, as NDB is more\nstrict on these operations.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 11, 'created': '2017-07-14 17:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c63c567d5f15e783b053e3e76be2f7f963b7e7b0', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and adding of foreign key constraints, as NDB is more\nstrict on these operations.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 12, 'created': '2017-07-14 17:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5c73bf0c6cdcd3c671f92363e2eb7bff05176e0e', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and adding of foreign key constraints, as NDB is more\nstrict on these operations.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 13, 'created': '2017-07-14 18:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7e38beca82b68eb13eee4686670e387f6938c78b', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and adding of foreign key constraints, as NDB is more\nstrict on these operations.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I9f1fd2a87fdf75332de2339d3ff4f08ce9220dcf\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 14, 'created': '2017-08-09 20:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a32000f8827c3fc1b00ecab7adacd65e2f0f29f4', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and recreation of foreign key constraints, as NDB is more\nstrict on these operations. Lastly, it shifts the _get_fk_name() to\nuse get_fk_name from oslo.db.sqlalchemy.utils.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I7f9c830073bf9a30abce0aa4bb55b5c9cf661afe\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 15, 'created': '2017-08-14 19:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6adbf27e74510f5049a442df6eacd903a7409e78', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and recreation of foreign key constraints, as NDB is more\nstrict on these operations. Lastly, it shifts the _get_fk_name() to\nuse get_foreign_key_constraint_name() from oslo.db.sqlalchemy.utils.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I7f9c830073bf9a30abce0aa4bb55b5c9cf661afe\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 16, 'created': '2017-08-16 22:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d4d6981d5001b1e60c59953ff15c665b76f48799', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and recreation of foreign key constraints, as NDB is more\nstrict on these operations. Lastly, it shifts the _get_fk_name() to\nuse get_foreign_key_constraint_name() from oslo.db.sqlalchemy.utils.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I7f9c830073bf9a30abce0aa4bb55b5c9cf661afe\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 17, 'created': '2017-08-18 16:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/42a203d792948e61a9dade93843a8f0417ea4fdc', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and recreation of foreign key constraints, as NDB is more\nstrict on these operations. Lastly, it shifts the _get_fk_name() to\nuse get_foreign_key_constraint_name() from oslo.db.sqlalchemy.utils.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I76c0d82fddf38add0ca05be270264b6e2d043f7f\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 18, 'created': '2017-08-18 16:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f13f7c1674ee1d21ba171a4f4bcd4684c6a629e6', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and recreation of foreign key constraints, as NDB is more\nstrict on these operations. Lastly, it shifts the _get_fk_name() to\nuse get_foreign_key_constraint_name() and recreate_foreign_keys()\nfrom oslo.db.sqlalchemy.utils.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I76c0d82fddf38add0ca05be270264b6e2d043f7f\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 19, 'created': '2017-10-09 22:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/de38356a5bb8f64c713d6369e8aa8de3d46e1641', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and recreation of foreign key constraints, as NDB is more\nstrict on these operations. Lastly, it shifts the _get_fk_name() to\nuse get_foreign_key_constraint_name() and recreate_foreign_keys()\nfrom oslo.db.sqlalchemy.utils.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I76c0d82fddf38add0ca05be270264b6e2d043f7f\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 20, 'created': '2017-10-09 22:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fa466d2f7a6c0f3286dd0851847ca685713a678e', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and recreation of foreign key constraints, as NDB is more\nstrict on these operations. Lastly, it shifts the _get_fk_name() to\nuse get_foreign_key_constraint_name() and recreate_foreign_keys()\nfrom oslo.db.sqlalchemy.utils.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I76c0d82fddf38add0ca05be270264b6e2d043f7f\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 21, 'created': '2017-10-23 15:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d973205924517139a9fc1d280d0bb03b69c90d79', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and recreation of foreign key constraints, as NDB is more\nstrict on these operations. Lastly, it shifts the _get_fk_name() to\nuse get_foreign_key_constraint_name() and recreate_foreign_keys()\nfrom oslo.db.sqlalchemy.utils.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I76c0d82fddf38add0ca05be270264b6e2d043f7f\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 22, 'created': '2017-11-09 17:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/12b1f41ee44d6262ad595d71dd3d8fc3befedf88', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and recreation of foreign key constraints, as NDB is more\nstrict on these operations. Lastly, it shifts the _get_fk_name() to\nuse get_foreign_key_constraint_name() and recreate_foreign_keys()\nfrom oslo.db.sqlalchemy.utils.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I76c0d82fddf38add0ca05be270264b6e2d043f7f\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 23, 'created': '2017-12-11 19:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7745da12b8712bcc508b7c623dd70207175b69c6', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and recreation of foreign key constraints, as NDB is more\nstrict on these operations. Lastly, it shifts the _get_fk_name() to\nuse get_foreign_key_constraint_name() and recreate_foreign_keys()\nfrom oslo.db.sqlalchemy.utils.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I76c0d82fddf38add0ca05be270264b6e2d043f7f\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 24, 'created': '2018-02-05 16:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/54b16eac67fbe9067165f6f8336757703cf81a6f', 'message': 'Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and recreation of foreign key constraints, as NDB is more\nstrict on these operations. Lastly, it shifts the _get_fk_name() to\nuse get_foreign_key_constraint_name() and recreate_foreign_keys()\nfrom oslo.db.sqlalchemy.utils.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I76c0d82fddf38add0ca05be270264b6e2d043f7f\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 25, 'created': '2018-02-05 16:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dcd3aaea146c784a1e8314b2d5769077417664eb', 'message': '[WIP] Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and recreation of foreign key constraints, as NDB is more\nstrict on these operations. Lastly, it shifts the _get_fk_name() to\nuse get_foreign_key_constraint_name() and recreate_foreign_keys()\nfrom oslo.db.sqlalchemy.utils.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I76c0d82fddf38add0ca05be270264b6e2d043f7f\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 26, 'created': '2018-02-13 16:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ca00ed47a3be2d218ae6b934e5a9e9c3638be395', 'message': '[WIP] Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and recreation of foreign key constraints, as NDB is more\nstrict on these operations. Lastly, it shifts the _get_fk_name() to\nuse get_foreign_key_constraint_name() and recreate_foreign_keys()\nfrom oslo.db.sqlalchemy.utils.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I76c0d82fddf38add0ca05be270264b6e2d043f7f\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 27, 'created': '2018-02-14 10:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/af87afe2fa1faa670312cf550f810594d2e7e204', 'message': '[WIP] Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and recreation of foreign key constraints, as NDB is more\nstrict on these operations. Lastly, it shifts the _get_fk_name() to\nuse get_foreign_key_constraint_name() and recreate_foreign_keys()\nfrom oslo.db.sqlalchemy.utils.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I76c0d82fddf38add0ca05be270264b6e2d043f7f\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 28, 'created': '2018-03-26 18:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/490c655f5dfb28c47b35cab924567f7b220c34dd', 'message': '[WIP] Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and recreation of foreign key constraints, as NDB is more\nstrict on these operations. Lastly, it shifts the _get_fk_name() to\nuse get_foreign_key_constraint_name() and recreate_foreign_keys()\nfrom oslo.db.sqlalchemy.utils.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I76c0d82fddf38add0ca05be270264b6e2d043f7f\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}, {'number': 29, 'created': '2018-04-27 19:21:52.000000000', 'files': ['keystone/common/sql/contract_repo/versions/012_contract_add_domain_id_to_idp.py', 'keystone/common/sql/expand_repo/versions/033_expand_add_limits_tables.py', 'keystone/common/sql/contract_repo/versions/015_contract_update_federated_user_domain.py', 'releasenotes/notes/bug-1662624-1f3e2e6ff50b564c.yaml', 'keystone/common/sql/contract_repo/versions/014_contract_add_domain_id_to_user_table.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/419dd3d3b231099d488064ea4448a39c23e1085f', 'message': '[WIP] Enables MySQL Cluster support for Keystone\n\nThis enables the usage of the mysql_enable_ndb setting from oslo.db\nfrom bug 1564110. This allows operators to select from MySQL (InnoDB)\nor MySQL Cluster (NDB) as the storage engine backend. This patch\nimplements minor fixes to the ordering of column changes to handle\nthe dropping and recreation of foreign key constraints, as NDB is more\nstrict on these operations. Lastly, it shifts the _get_fk_name() to\nuse get_foreign_key_constraint_name() and recreate_foreign_keys()\nfrom oslo.db.sqlalchemy.utils.\n\nCloses-bug: 1662624\nImplements: blueprint mysql-cluster-support\nDepends-On: I76c0d82fddf38add0ca05be270264b6e2d043f7f\nChange-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27\n'}]",42,431229,419dd3d3b231099d488064ea4448a39c23e1085f,122,15,29,19283,,,0,"[WIP] Enables MySQL Cluster support for Keystone

This enables the usage of the mysql_enable_ndb setting from oslo.db
from bug 1564110. This allows operators to select from MySQL (InnoDB)
or MySQL Cluster (NDB) as the storage engine backend. This patch
implements minor fixes to the ordering of column changes to handle
the dropping and recreation of foreign key constraints, as NDB is more
strict on these operations. Lastly, it shifts the _get_fk_name() to
use get_foreign_key_constraint_name() and recreate_foreign_keys()
from oslo.db.sqlalchemy.utils.

Closes-bug: 1662624
Implements: blueprint mysql-cluster-support
Depends-On: I76c0d82fddf38add0ca05be270264b6e2d043f7f
Change-Id: Idf6e1f65ddb07e85ce864477aead976fd9a6af27
",git fetch https://review.opendev.org/openstack/keystone refs/changes/29/431229/3 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/contract_repo/versions/012_contract_add_domain_id_to_idp.py', 'keystone/common/sql/migrate_repo/versions/094_add_federated_user_table.py', 'keystone/common/sql/migrate_repo/versions/067_kilo.py', 'keystone/common/sql/migrate_repo/versions/073_insert_assignment_inherited_pk.py', 'keystone/common/sql/migrate_repo/versions/087_implied_roles.py', 'keystone/common/sql/migrate_repo/versions/103_add_nonlocal_user_table.py', 'keystone/common/sql/expand_repo/versions/016_expand_add_user_options.py', 'keystone/common/sql/migrate_repo/versions/081_add_endpoint_policy_table.py', 'keystone/common/sql/migrate_repo/versions/082_add_federation_tables.py', 'keystone/common/sql/migrate_repo/versions/075_confirm_config_registration.py']",10,7729450ac504e73fbf79e60d5fac4de94ca0059a,bug/1564110,"from oslo_config import cfgCONF = cfg.CONF mysql_engine=CONF.database.mysql_storage_engine,"," mysql_engine='InnoDB',",71,30
openstack%2Fkeystone~master~Id0e5b1ff8ad220352bf4bc425eed77f269369be6,openstack/keystone,master,Id0e5b1ff8ad220352bf4bc425eed77f269369be6,Use uuidutils instead of uuid.uuid4(),ABANDONED,2018-09-19 03:06:11.000000000,2022-01-21 20:57:51.000000000,,"[{'_account_id': 2218}, {'_account_id': 8482}, {'_account_id': 9610}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-09-19 03:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/065524926aab72f48829ef3300c6f538a068b395', 'message': 'Use uuidutils instead of uuid.uuid4()\n\nOslo_utils.uuidutils has a wrapper for generating uuids.\nWe should only use that function when generating\nuuids for consistency like\nhere:https://storyboard.openstack.org/#!/story/1082248\nBecause this are many modifications, I divided this fix two\ncommits. This is the first commit.\n\nChange-Id: Id0e5b1ff8ad220352bf4bc425eed77f269369be6\nPartial-Bug: #1792868\n'}, {'number': 2, 'created': '2018-09-19 08:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ce0f75fd7c874a611b65388f447ba12ef3a343b4', 'message': 'Use uuidutils instead of uuid.uuid4()\n\nOslo_utils.uuidutils has a wrapper for generating uuids.\nWe should only use that function when generating\nuuids for consistency like\nhere:https://storyboard.openstack.org/#!/story/1082248\nBecause this are many modifications, I divided this fix two\ncommits. This is the first commit.\n\nChange-Id: Id0e5b1ff8ad220352bf4bc425eed77f269369be6\nPartial-Bug: #1792868\n'}, {'number': 3, 'created': '2018-09-20 07:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/912c00730d2c4a3cc1934843f9bed54218591648', 'message': 'Use uuidutils instead of uuid.uuid4()\n\nOslo_utils.uuidutils has a wrapper for generating uuids.\nWe should only use that function when generating\nuuids for consistency like\nhere:https://storyboard.openstack.org/#!/story/1082248\nBecause this are many modifications, I divided this fix two\ncommits. This is the first commit.\n\nChange-Id: Id0e5b1ff8ad220352bf4bc425eed77f269369be6\nPartial-Bug: #1792868\n'}, {'number': 4, 'created': '2018-09-21 01:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/32f82d3859b2d310bbeb11fcd268e9e988c8b1d6', 'message': 'Use uuidutils instead of uuid.uuid4()\n\nOslo_utils.uuidutils has a wrapper for generating uuids.\nWe should only use that function when generating\nuuids for consistency like\nhere:https://storyboard.openstack.org/#!/story/1082248\nBecause this are many modifications, I divided this fix two\ncommits. This is the first commit.\n\nChange-Id: Id0e5b1ff8ad220352bf4bc425eed77f269369be6\nPartial-Bug: #1792868\n'}, {'number': 5, 'created': '2018-09-21 05:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/67229234ca438e025ea615ddb2cacf547be8105d', 'message': 'Use uuidutils instead of uuid.uuid4()\n\nOslo_utils.uuidutils has a wrapper for generating uuids.\nWe should only use that function when generating\nuuids for consistency like\nhere:https://storyboard.openstack.org/#!/story/1082248\nBecause this are many modifications, I divided this fix two\ncommits. This is the first commit.\n\nChange-Id: Id0e5b1ff8ad220352bf4bc425eed77f269369be6\nPartial-Bug: #1792868\n'}, {'number': 6, 'created': '2018-09-30 02:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6ffe6396ff88956431c70b0884f6f813d60f1e2d', 'message': 'Use uuidutils instead of uuid.uuid4()\n\nOslo_utils.uuidutils has a wrapper for generating uuids.\nWe should only use that function when generating\nuuids for consistency like\nhere:https://storyboard.openstack.org/#!/story/1082248\nBecause this are many modifications, I divided this fix two\ncommits. This is the first commit.\n\nChange-Id: Id0e5b1ff8ad220352bf4bc425eed77f269369be6\nPartial-Bug: #1792868\n'}, {'number': 7, 'created': '2018-09-30 05:53:53.000000000', 'files': ['keystone/tests/unit/test_auth_plugin.py', 'keystone/tests/unit/test_validation.py', 'keystone/tests/unit/test_v3.py', 'keystone/tests/unit/test_v3_resource.py', 'keystone/tests/unit/test_v3_policy.py', 'keystone/federation/idp.py', 'keystone/tests/unit/test_v3_domain_config.py', 'keystone/tests/unit/test_backend_ldap.py', 'keystone/tests/unit/test_cli.py', 'keystone/tests/unit/test_v3_federation.py', 'keystone/tests/unit/test_v3_protection.py', 'keystone/tests/unit/test_v3_trust.py', 'keystone/tests/unit/test_revoke.py', 'keystone/tests/unit/test_v3_auth.py', 'keystone/tests/unit/test_v3_credential.py', 'keystone/tests/unit/test_v3_identity.py', 'keystone/common/sql/data_migration_repo/versions/012_migrate_add_domain_id_to_idp.py', 'keystone/cmd/bootstrap.py', 'keystone/tests/unit/utils.py', 'keystone/identity/backends/ldap/core.py', 'keystone/tests/unit/test_backend_endpoint_policy.py', 'keystone/tests/unit/core.py', 'keystone/identity/core.py', 'keystone/auth/plugins/mapped.py', 'keystone/common/controller.py', 'keystone/server/flask/common.py', 'keystone/oauth1/backends/sql.py', 'keystone/tests/unit/test_associate_project_endpoint_extension.py', 'keystone/tests/unit/test_backend_id_mapping_sql.py', 'keystone/cmd/cli.py', 'keystone/tests/unit/test_v3_application_credential.py', 'keystone/tests/unit/test_backend_sql.py', 'keystone/tests/unit/test_exception.py', 'keystone/tests/unit/test_policy.py', 'keystone/contrib/ec2/controllers.py', 'keystone/tests/unit/filtering.py', 'keystone/endpoint_policy/backends/sql.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/tests/unit/test_v3_os_revoke.py', 'keystone/tests/unit/default_fixtures.py', 'keystone/tests/unit/test_v3_oauth1.py', 'keystone/tests/unit/test_v3_catalog.py', 'keystone/tests/unit/test_wsgi.py', 'keystone/tests/unit/test_v3_assignment.py', 'keystone/tests/unit/test_limits.py', 'keystone/tests/unit/test_backend_templated.py', 'keystone/federation/core.py', 'keystone/tests/unit/test_contrib_simple_cert.py', 'keystone/identity/shadow_backends/sql.py', 'keystone/tests/unit/test_middleware.py', 'keystone/tests/unit/test_shadow_users.py', 'keystone/oauth1/core.py', 'keystone/tests/unit/test_contrib_s3_core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/cb8f3ff56d2f606d7dadd43a01ac77dbc259e7cd', 'message': 'Use uuidutils instead of uuid.uuid4()\n\nOslo_utils.uuidutils has a wrapper for generating uuids.\nWe should only use that function when generating\nuuids for consistency like\nhere:https://storyboard.openstack.org/#!/story/1082248\nBecause this are many modifications, I divided this fix two\ncommits. This is the first commit.\n\nChange-Id: Id0e5b1ff8ad220352bf4bc425eed77f269369be6\nPartial-Bug: #1792868\n'}]",4,603542,cb8f3ff56d2f606d7dadd43a01ac77dbc259e7cd,32,5,7,9610,,,0,"Use uuidutils instead of uuid.uuid4()

Oslo_utils.uuidutils has a wrapper for generating uuids.
We should only use that function when generating
uuids for consistency like
here:https://storyboard.openstack.org/#!/story/1082248
Because this are many modifications, I divided this fix two
commits. This is the first commit.

Change-Id: Id0e5b1ff8ad220352bf4bc425eed77f269369be6
Partial-Bug: #1792868
",git fetch https://review.opendev.org/openstack/keystone refs/changes/42/603542/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_auth_plugin.py', 'keystone/tests/unit/test_validation.py', 'keystone/tests/unit/test_v3.py', 'keystone/tests/unit/test_v3_resource.py', 'keystone/tests/unit/test_v3_policy.py', 'keystone/federation/idp.py', 'keystone/tests/unit/test_v3_domain_config.py', 'keystone/tests/unit/test_backend_ldap.py', 'keystone/tests/unit/test_cli.py', 'keystone/tests/unit/test_v3_federation.py', 'keystone/tests/unit/test_v3_protection.py', 'keystone/tests/unit/test_v3_trust.py', 'keystone/tests/unit/test_revoke.py', 'keystone/tests/unit/test_v3_auth.py', 'keystone/tests/unit/test_v3_credential.py', 'keystone/tests/unit/test_v3_identity.py', 'keystone/common/sql/data_migration_repo/versions/012_migrate_add_domain_id_to_idp.py', 'keystone/cmd/bootstrap.py', 'keystone/tests/unit/utils.py', 'keystone/identity/backends/ldap/core.py', 'keystone/tests/unit/test_backend_endpoint_policy.py', 'keystone/tests/unit/core.py', 'keystone/identity/core.py', 'keystone/auth/plugins/mapped.py', 'keystone/common/controller.py', 'keystone/server/flask/common.py', 'keystone/oauth1/backends/sql.py', 'keystone/tests/unit/test_associate_project_endpoint_extension.py', 'keystone/tests/unit/test_backend_id_mapping_sql.py', 'keystone/cmd/cli.py', 'keystone/tests/unit/test_v3_application_credential.py', 'keystone/tests/unit/test_backend_sql.py', 'keystone/tests/unit/test_exception.py', 'keystone/tests/unit/test_policy.py', 'keystone/contrib/ec2/controllers.py', 'keystone/tests/unit/filtering.py', 'keystone/endpoint_policy/backends/sql.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/tests/unit/test_v3_os_revoke.py', 'keystone/tests/unit/default_fixtures.py', 'keystone/tests/unit/test_v3_oauth1.py', 'keystone/tests/unit/test_v3_catalog.py', 'keystone/tests/unit/test_wsgi.py', 'keystone/tests/unit/test_v3_assignment.py', 'keystone/tests/unit/test_limits.py', 'keystone/tests/unit/test_backend_templated.py', 'keystone/federation/core.py', 'keystone/tests/unit/test_contrib_simple_cert.py', 'keystone/identity/shadow_backends/sql.py', 'keystone/tests/unit/test_middleware.py', 'keystone/tests/unit/test_shadow_users.py', 'keystone/oauth1/core.py', 'keystone/tests/unit/test_contrib_s3_core.py']",53,065524926aab72f48829ef3300c6f538a068b395,bug/1792868, from oslo_utils import uuidutils 'signature': uuidutils.generate_uuid(False)} 'signature': uuidutils.generate_uuid(False)},import uuid 'signature': uuid.uuid4().hex} 'signature': uuid.uuid4().hex},1024,1032
openstack%2Fkeystone~master~If2872ef64eaae262c1a9ce2eb3f773ac2e922f4e,openstack/keystone,master,If2872ef64eaae262c1a9ce2eb3f773ac2e922f4e,Enable mutable config,ABANDONED,2018-07-24 16:07:38.000000000,2022-01-21 20:57:44.000000000,,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-24 16:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/851d44f7d39adcc546055027f109702000bbe31e', 'message': 'WIP - Enable mutable config\n\nblueprint mutable-config\n\nChange-Id: If2872ef64eaae262c1a9ce2eb3f773ac2e922f4e\n'}, {'number': 2, 'created': '2018-07-25 18:30:23.000000000', 'files': ['keystone/conf/__init__.py', 'keystone/tests/unit/test_config.py', 'releasenotes/notes/bp-mutable-config-5d3b25908957dcdd.yaml', 'keystone/server/flask/common.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/168dc144741ec3635a8d117a7355789ca2ac3a79', 'message': 'Enable mutable config\n\nThis enables support for reloading config files without restarting\nthe service. This is accomplished by checking the mtime of\nconfig files every time an API request hits the keystone server.\n\nA global before_request function with the flask framework,\ntherefore only APIs that have migrated to flask will trigger it\nto fire off.\n\nblueprint mutable-config\n\nChange-Id: If2872ef64eaae262c1a9ce2eb3f773ac2e922f4e\n'}]",15,585417,168dc144741ec3635a8d117a7355789ca2ac3a79,14,4,2,16465,,,0,"Enable mutable config

This enables support for reloading config files without restarting
the service. This is accomplished by checking the mtime of
config files every time an API request hits the keystone server.

A global before_request function with the flask framework,
therefore only APIs that have migrated to flask will trigger it
to fire off.

blueprint mutable-config

Change-Id: If2872ef64eaae262c1a9ce2eb3f773ac2e922f4e
",git fetch https://review.opendev.org/openstack/keystone refs/changes/17/585417/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/conf/__init__.py', 'keystone/server/flask/common.py']",2,851d44f7d39adcc546055027f109702000bbe31e,bp/mutable-config, self.__blueprint.before_request(keystone.conf.mutate_config),,19,0
openstack%2Fkeystone~master~I53cebe8717cfb462f8d9c7e5a5f6a4ad36ac2df6,openstack/keystone,master,I53cebe8717cfb462f8d9c7e5a5f6a4ad36ac2df6,Enable keystone-dsvm-py3-functional test on arm64,ABANDONED,2018-11-15 16:41:23.000000000,2022-01-21 20:57:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-15 16:41:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/69f758956d532250cd32cfebdd2bec0b5c32e214', 'message': 'Enable keystone-dsvm-py3-functional test on arm64\n\nAdd an arm64 variant of the keystone-dsvm-py3-functional test.\n\nChange-Id: I53cebe8717cfb462f8d9c7e5a5f6a4ad36ac2df6\n'}]",1,618217,69f758956d532250cd32cfebdd2bec0b5c32e214,5,1,1,6088,,,0,"Enable keystone-dsvm-py3-functional test on arm64

Add an arm64 variant of the keystone-dsvm-py3-functional test.

Change-Id: I53cebe8717cfb462f8d9c7e5a5f6a4ad36ac2df6
",git fetch https://review.opendev.org/openstack/keystone refs/changes/17/618217/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,69f758956d532250cd32cfebdd2bec0b5c32e214,ci-on-arm64, name: keystone-dsvm-py3-functional-arm64 parent: keystone-dsvm-py3-functional voting: false description: | Keystone DSVM py3 functional tests executed on arm64 nodeset: ubuntu-xenial-arm64 - job: - keystone-dsvm-py3-functional-arm64 - keystone-dsvm-py3-functional-arm64,,10,0
openstack%2Fkeystone~master~I8f13688369d2c950f01c8cbce5bdc4b79da765c6,openstack/keystone,master,I8f13688369d2c950f01c8cbce5bdc4b79da765c6,Fix --bootstrap-password's default password error,ABANDONED,2018-11-20 21:34:32.000000000,2022-01-21 20:57:26.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-20 21:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/37f72c2bc7d47a6975f74c20dc9ca38ab2047c7d', 'message': ""--bootstrap-password's default changed from 'none' to 'password'\n\nIn the add_argument_parser function, the default is\nset to 'None', which raises ValueError if the\nkeystone-manage bootstrap command is being called.\nBy setting the default to 'password', granted admin\non the system is now for user admin.\n\nChange-Id: I8f13688369d2c950f01c8cbce5bdc4b79da765c6\n""}, {'number': 2, 'created': '2018-11-20 22:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c54daff1e0f03243d0ae367c8ec71fb0db05fbee', 'message': ""Fix --bootstrap-password's default password error\n\nThe 'keystone-manage bootstrap' command is throwing\na ValueError, which indicate password is required to\nbe set by the user.\n\nChange-Id: I8f13688369d2c950f01c8cbce5bdc4b79da765c6\n""}, {'number': 3, 'created': '2018-11-21 07:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/94889f058d03459d683e308cd1253cedf10fee96', 'message': ""Fix --bootstrap-password's default password error\n\nThe 'keystone-manage bootstrap' command is throwing\na ValueError, which indicate password is required to\nbe set by the user.\n\nChange-Id: I8f13688369d2c950f01c8cbce5bdc4b79da765c6\n""}, {'number': 4, 'created': '2018-11-21 10:44:27.000000000', 'files': ['keystone/cmd/cli.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e1f4e58b1c1543357e3a79128a8774b0da9a4045', 'message': ""Fix --bootstrap-password's default password error\n\nThe 'keystone-manage bootstrap' command is showing\na traceback throwing a ValueError, which indicate\npassword is required to be set by the user.\n\nChange-Id: I8f13688369d2c950f01c8cbce5bdc4b79da765c6\n""}]",0,619101,e1f4e58b1c1543357e3a79128a8774b0da9a4045,14,2,4,29381,,,0,"Fix --bootstrap-password's default password error

The 'keystone-manage bootstrap' command is showing
a traceback throwing a ValueError, which indicate
password is required to be set by the user.

Change-Id: I8f13688369d2c950f01c8cbce5bdc4b79da765c6
",git fetch https://review.opendev.org/openstack/keystone refs/changes/01/619101/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/cmd/cli.py'],1,37f72c2bc7d47a6975f74c20dc9ca38ab2047c7d,614735," parser.add_argument('--bootstrap-password', default='password',"," parser.add_argument('--bootstrap-password', default=None,",1,1
openstack%2Fkeystone~master~Id0fa148d314e69bc91eea82fcbd7bc37a669be4b,openstack/keystone,master,Id0fa148d314e69bc91eea82fcbd7bc37a669be4b,Fix the dead URL,ABANDONED,2018-11-06 07:39:19.000000000,2022-01-21 20:57:22.000000000,,"[{'_account_id': 5046}, {'_account_id': 16523}, {'_account_id': 22348}, {'_account_id': 29548}]","[{'number': 1, 'created': '2018-11-06 07:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b5974fd151f6cf69b38f29b8fa4221ffda2e0f12', 'message': 'Fix the dead URL\n\nChange-Id: Id0fa148d314e69bc91eea82fcbd7bc37a669be4b\nCloses-Bug: #1801111\n'}, {'number': 2, 'created': '2018-11-12 07:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c0d844dd8873973019b19d788f9ac61ae9df0479', 'message': 'Fix the dead URL\n\nChange-Id: Id0fa148d314e69bc91eea82fcbd7bc37a669be4b\nCloses-Bug: #1801111\n'}, {'number': 3, 'created': '2018-11-12 07:20:13.000000000', 'files': ['api-ref/source/v3-ext/federation/auth/auth.inc'], 'web_link': 'https://opendev.org/openstack/keystone/commit/704580aa6b357c067e68410885df6fd119e7d61b', 'message': 'Fix the dead URL\n\nChange-Id: Id0fa148d314e69bc91eea82fcbd7bc37a669be4b\nCloses-Bug: #1801111\n'}]",4,615760,704580aa6b357c067e68410885df6fd119e7d61b,11,4,3,16523,,,0,"Fix the dead URL

Change-Id: Id0fa148d314e69bc91eea82fcbd7bc37a669be4b
Closes-Bug: #1801111
",git fetch https://review.opendev.org/openstack/keystone refs/changes/60/615760/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3-ext/federation/auth/auth.inc'],1,b5974fd151f6cf69b38f29b8fa4221ffda2e0f12,bug/1801111,<https://github.com/openstack-attic/identity-api/blob/master/v3/src/markdown/identity-api-v3.md#authentication-responses>`__,<identity-api-v3.md#authentication-responses>`__,1,1
openstack%2Fkeystone~master~I5d5974479ab36387912620e04f60775856b7b1cb,openstack/keystone,master,I5d5974479ab36387912620e04f60775856b7b1cb,Fix unicode character issue in ldap,ABANDONED,2019-04-22 18:31:06.000000000,2022-01-21 20:57:17.000000000,,"[{'_account_id': 8482}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 24131}]","[{'number': 1, 'created': '2019-04-22 18:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f57da40751e487ca767966f9c404ccedeb2850d5', 'message': 'Fix unicode character issue in ldap\n\nWhen using ldap as backend with python-2 with bytes_mode=False,\nthere are instances where ldap code fails due to unicode error\nas described in the LP bug. This fix addresses those scenarios.\n\nChange-Id: I5d5974479ab36387912620e04f60775856b7b1cb\nCloses-Bug: #1825867\n'}, {'number': 2, 'created': '2019-04-23 13:43:10.000000000', 'files': ['keystone/identity/backends/ldap/common.py', 'keystone/tests/unit/identity/backends/test_base.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e7f0a21f9ec674a81f39c8465bd3bbcdbba1a134', 'message': 'Fix unicode character issue in ldap\n\nWhen using ldap as backend with python-2 with bytes_mode=False,\nthere are instances where ldap code fails due to unicode error\nas described in the LP bug. This fix addresses those scenarios.\n\nChange-Id: I5d5974479ab36387912620e04f60775856b7b1cb\nCloses-Bug: #1825867\n'}]",0,654601,e7f0a21f9ec674a81f39c8465bd3bbcdbba1a134,12,4,2,24131,,,0,"Fix unicode character issue in ldap

When using ldap as backend with python-2 with bytes_mode=False,
there are instances where ldap code fails due to unicode error
as described in the LP bug. This fix addresses those scenarios.

Change-Id: I5d5974479ab36387912620e04f60775856b7b1cb
Closes-Bug: #1825867
",git fetch https://review.opendev.org/openstack/keystone refs/changes/01/654601/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/backends/ldap/common.py'],1,f57da40751e487ca767966f9c404ccedeb2850d5,bug/1825867," return ldap.dn.str2dn(utf8_encode(dn))[0][0][1] utf8_decode(object_id)), filter = utf8_decode(ldap_filter or self.ldap_filter or '') filter, self.object_class, self.id_attr)"," return ldap.dn.str2dn(dn)[0][0][1] six.text_type(object_id)), ldap_filter or self.ldap_filter or '', self.object_class, self.id_attr)",4,5
openstack%2Fkeystoneauth~master~Icadb6009fe27893a89122c01bcdab990b2389089,openstack/keystoneauth,master,Icadb6009fe27893a89122c01bcdab990b2389089,OIDC supports public clients,ABANDONED,2019-07-03 16:03:44.000000000,2022-01-21 20:57:02.000000000,,"[{'_account_id': 2}, {'_account_id': 2218}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 11022}, {'_account_id': 13063}, {'_account_id': 15054}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-07-03 16:03:44.000000000', 'files': ['keystoneauth1/identity/v3/oidc.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/042b0399df9155bfd9e86141981b460b5d11b9ca', 'message': ""OIDC supports public clients\n\nThe public clients don't have client secrets, so the keystoneauth cannot\nobtain a token. To support an authentication with a public client the\npayload should contain the `client_id` and the `requests_auth` attribute\nmust be None.\n\nChange-Id: Icadb6009fe27893a89122c01bcdab990b2389089\n""}]",2,668951,042b0399df9155bfd9e86141981b460b5d11b9ca,5,11,1,8911,,,0,"OIDC supports public clients

The public clients don't have client secrets, so the keystoneauth cannot
obtain a token. To support an authentication with a public client the
payload should contain the `client_id` and the `requests_auth` attribute
must be None.

Change-Id: Icadb6009fe27893a89122c01bcdab990b2389089
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/51/668951/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/identity/v3/oidc.py'],1,042b0399df9155bfd9e86141981b460b5d11b9ca,public_client," client_id, client_secret=None, client_auth = (self.client_id, self.client_secret) \ if self.client_secret else None if not self.client_secret and self.client_id: payload.setdefault(""client_id"", self.client_id) client_id, client_secret=None, client_id, client_secret=None, client_id, client_secret=None,"," client_id, client_secret, client_auth = (self.client_id, self.client_secret) client_id, client_secret, client_id, client_secret, client_id, client_secret,",8,5
openstack%2Fkeystone~master~I7959a5b50e32ce57b770e21563f2f9c40fffdfc0,openstack/keystone,master,I7959a5b50e32ce57b770e21563f2f9c40fffdfc0,[WIP] Run keystone grenade jobs,ABANDONED,2020-01-21 05:39:28.000000000,2022-01-21 20:56:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-01-21 05:39:28.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystone/commit/df255594ee3d68a03c5ca645e0d2ba9353a3a113', 'message': '[WIP] Run keystone grenade jobs\n\nChange-Id: I7959a5b50e32ce57b770e21563f2f9c40fffdfc0\n'}]",0,703541,df255594ee3d68a03c5ca645e0d2ba9353a3a113,7,2,1,27621,,,0,"[WIP] Run keystone grenade jobs

Change-Id: I7959a5b50e32ce57b770e21563f2f9c40fffdfc0
",git fetch https://review.opendev.org/openstack/keystone refs/changes/41/703541/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,df255594ee3d68a03c5ca645e0d2ba9353a3a113,,,,1,0
openstack%2Fkeystone~master~I67e10d93ea2db29ae1d40cdf878f8b8a3524a852,openstack/keystone,master,I67e10d93ea2db29ae1d40cdf878f8b8a3524a852,API implementation to get policy rules,ABANDONED,2017-05-09 12:04:55.000000000,2022-01-21 20:56:49.000000000,,"[{'_account_id': 5046}, {'_account_id': 8205}, {'_account_id': 23186}, {'_account_id': 25640}]","[{'number': 1, 'created': '2017-05-09 12:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/336b9955ba27d7ea851d40fe5930d6181904f9cb', 'message': ""API implementation to get policy rules\n\nThis patch implements API get policy rules.\nCurrently we don't have any mechanism to download identity policies\non any local/remote machine. This patch adds support for this.\nThis patch also ensures that only admin can download policy rules.\n\nChange-Id: I67e10d93ea2db29ae1d40cdf878f8b8a3524a852\nImplements: blueprint api-implemetation-required-to-download-identity-policies\n""}, {'number': 2, 'created': '2017-05-09 14:12:33.000000000', 'files': ['keystone/common/policy.py', 'keystone/identity/controllers.py', 'keystone/identity/routers.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/08b534e869092928e2c377bcaaf78585181a7c81', 'message': ""API implementation to get policy rules\n\nThis patch implements API get policy rules.\nCurrently we don't have any mechanism to download identity policies\non any local/remote machine. This patch adds support for this.\nThis patch also ensures that only admin can download policy rules.\n\nChange-Id: I67e10d93ea2db29ae1d40cdf878f8b8a3524a852\nImplements: blueprint api-implemetation-required-to-download-identity-policies\n""}]",2,463543,08b534e869092928e2c377bcaaf78585181a7c81,13,4,2,8205,,,0,"API implementation to get policy rules

This patch implements API get policy rules.
Currently we don't have any mechanism to download identity policies
on any local/remote machine. This patch adds support for this.
This patch also ensures that only admin can download policy rules.

Change-Id: I67e10d93ea2db29ae1d40cdf878f8b8a3524a852
Implements: blueprint api-implemetation-required-to-download-identity-policies
",git fetch https://review.opendev.org/openstack/keystone refs/changes/43/463543/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/policy.py', 'keystone/identity/controllers.py', 'keystone/identity/routers.py']",3,336b9955ba27d7ea851d40fe5930d6181904f9cb,bp/api-implemetation-required-to-download-identity-policies," policy_controller = controllers.PolicyV3() mapper.connect('/policy', controller=policy_controller, action='download_policy', conditions=dict(method=['GET']))",,25,0
openstack%2Fpycadf~master~I83c2aa99da035c6c7979eda19ca655f48fc4122a,openstack/pycadf,master,I83c2aa99da035c6c7979eda19ca655f48fc4122a,Follow the PTI for docs,ABANDONED,2019-09-27 17:15:30.000000000,2022-01-21 20:56:38.000000000,,"[{'_account_id': 8482}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-09-27 17:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pycadf/commit/f5bbf3efdda2903aae3effa186e24993ded9c6f6', 'message': ""Follow the PTI for docs\n\nUse sphinx-build instead of the pbr sphinx extention for building docs\nas instructed by the PTI[1].\n\nThis requires using the sphinxcontrib-apidoc plugin rather than the\nautodoc pbr extention. We also remove the reference to the ChangeLog\nfile that is usually generated by pbr and instead refer to the published\nreno release notes. Also fixes the header formatting for the index page,\nas the headers weren't rendering at all.\n\n[1] https://governance.openstack.org/tc/reference/pti/python.html\n\nChange-Id: I83c2aa99da035c6c7979eda19ca655f48fc4122a\n""}, {'number': 2, 'created': '2019-10-09 09:15:38.000000000', 'files': ['doc/source/index.rst', 'test-requirements.txt', 'doc/source/history.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/b5d4c3844539766e2e58b3a3659ae6152e5f56af', 'message': ""Follow the PTI for docs\n\nUse sphinx-build instead of the pbr sphinx extention for building docs\nas instructed by the PTI[1].\n\nWe also remove the reference to the ChangeLog file that is usually\ngenerated by pbr and instead refer to the published reno release notes.\nAlso fixes the header formatting for the index page, as the headers\nweren't rendering at all.\n\n[1] https://governance.openstack.org/tc/reference/pti/python.html\n\nChange-Id: I83c2aa99da035c6c7979eda19ca655f48fc4122a\n""}]",3,685432,b5d4c3844539766e2e58b3a3659ae6152e5f56af,11,4,2,27621,,,0,"Follow the PTI for docs

Use sphinx-build instead of the pbr sphinx extention for building docs
as instructed by the PTI[1].

We also remove the reference to the ChangeLog file that is usually
generated by pbr and instead refer to the published reno release notes.
Also fixes the header formatting for the index page, as the headers
weren't rendering at all.

[1] https://governance.openstack.org/tc/reference/pti/python.html

Change-Id: I83c2aa99da035c6c7979eda19ca655f48fc4122a
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/32/685432/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'test-requirements.txt', 'doc/source/history.rst', 'doc/source/conf.py', 'tox.ini']",5,f5bbf3efdda2903aae3effa186e24993ded9c6f6,685432,commands = sphinx-build -W -b html -d doc/build/doctrees doc/source doc/build/html,commands = python setup.py build_sphinx,21,11
openstack%2Fpycadf~master~Idd3d258375d1a242ffb74ae2c3ca684b77df9b06,openstack/pycadf,master,Idd3d258375d1a242ffb74ae2c3ca684b77df9b06,Update the min version of tox,ABANDONED,2019-04-09 09:44:00.000000000,2022-01-21 20:56:30.000000000,,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-04-09 09:44:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/40990779d3df2cd05f99535c999213858c366177', 'message': 'Update the min version of tox\n\nIn Train, we will use python3.6 and 3.7 for\nwhich the minimum tox version required is 2.5[1]\n\n[1]https://tox.readthedocs.io/en/latest/changelog.html#v2-6-0-2017-02-04\n\nChange-Id: Idd3d258375d1a242ffb74ae2c3ca684b77df9b06\n'}]",0,651173,40990779d3df2cd05f99535c999213858c366177,12,3,1,27621,,,0,"Update the min version of tox

In Train, we will use python3.6 and 3.7 for
which the minimum tox version required is 2.5[1]

[1]https://tox.readthedocs.io/en/latest/changelog.html#v2-6-0-2017-02-04

Change-Id: Idd3d258375d1a242ffb74ae2c3ca684b77df9b06
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/73/651173/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,40990779d3df2cd05f99535c999213858c366177,tox-min-version,minversion = 2.5.0,minversion = 2.0,1,1
openstack%2Fpycadf~master~I0dc7794814bc698867bb056f0d87fd456dd25e77,openstack/pycadf,master,I0dc7794814bc698867bb056f0d87fd456dd25e77,update git.openstack.org to opendev,ABANDONED,2019-04-28 09:03:49.000000000,2022-01-21 20:56:13.000000000,,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-28 09:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pycadf/commit/6020931777bf78b78b8069742a178bb420e5c99c', 'message': 'update git.openstack.org to opendev\n\nChange-Id: I0dc7794814bc698867bb056f0d87fd456dd25e77\n'}, {'number': 2, 'created': '2019-04-28 09:05:22.000000000', 'files': ['doc/source/index.rst', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/490c2395758a9ddbd5d5990bd1ef418a2922100d', 'message': 'update git.openstack.org to opendev\n\nChange-Id: I0dc7794814bc698867bb056f0d87fd456dd25e77\n'}]",0,656156,490c2395758a9ddbd5d5990bd1ef418a2922100d,6,2,2,30298,,,0,"update git.openstack.org to opendev

Change-Id: I0dc7794814bc698867bb056f0d87fd456dd25e77
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/56/656156/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'README.rst', 'tox.ini']",3,6020931777bf78b78b8069742a178bb420e5c99c,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},3,3
openstack%2Ftripleo-quickstart-extras~master~Ia56cfe62b74239c7acb3503fdf8548d4a9dc491a,openstack/tripleo-quickstart-extras,master,Ia56cfe62b74239c7acb3503fdf8548d4a9dc491a,Enable unbound as a dns source on the provider node,ABANDONED,2022-01-11 22:21:21.000000000,2022-01-21 20:52:20.000000000,,"[{'_account_id': 6926}, {'_account_id': 10969}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-11 22:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/35ba10de9fbfd2cf5af025c9bab730bb95eba1d3', 'message': ""Enable unbound as a dns source on the provider node\n\nWe're seeing issues with the IPA server and upstream queries. This\nchange reconfigures unbound on the provider node to listen on all\naddresses to act a resolver for other job nodes. This change also\nupdates the IPA server installation to use the provider node as a\nforwarder rather than the items we glean from the node unbound\nconfiguration. This should allow us to troubleshoot any forwarder\nrelated problems easier.\n\nChange-Id: Ia56cfe62b74239c7acb3503fdf8548d4a9dc491a\nRelated-Bug: #1957083\n""}, {'number': 2, 'created': '2022-01-11 22:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ab718a7dae9ddbdc5010e3d5d9bbad612a6f686c', 'message': ""Enable unbound as a dns source on the provider node\n\nWe're seeing issues with the IPA server and upstream queries. This\nchange reconfigures unbound on the provider node to listen on all\naddresses to act a resolver for other job nodes. This change also\nupdates the IPA server installation to use the provider node as a\nforwarder rather than the items we glean from the node unbound\nconfiguration. This should allow us to troubleshoot any forwarder\nrelated problems easier.\n\nChange-Id: Ia56cfe62b74239c7acb3503fdf8548d4a9dc491a\nRelated-Bug: #1957083\n""}, {'number': 3, 'created': '2022-01-11 23:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e3616ad9f302dd52a858f55df2ad2c08c851c8e3', 'message': ""Enable unbound as a dns source on the provider node\n\nWe're seeing issues with the IPA server and upstream queries. This\nchange reconfigures unbound on the provider node to listen on all\naddresses to act a resolver for other job nodes. This change also\nupdates the IPA server installation to use the provider node as a\nforwarder rather than the items we glean from the node unbound\nconfiguration. This should allow us to troubleshoot any forwarder\nrelated problems easier.\n\nChange-Id: Ia56cfe62b74239c7acb3503fdf8548d4a9dc491a\nRelated-Bug: #1957083\n""}, {'number': 4, 'created': '2022-01-12 09:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/58015317967e182a7062ddfca744bd43d13ee33e', 'message': ""Enable unbound as a dns source on the provider node\n\nWe're seeing issues with the IPA server and upstream queries. This\nchange reconfigures unbound on the provider node to listen on all\naddresses to act a resolver for other job nodes. This change also\nupdates the IPA server installation to use the provider node as a\nforwarder rather than the items we glean from the node unbound\nconfiguration. This should allow us to troubleshoot any forwarder\nrelated problems easier.\n\nChange-Id: Ia56cfe62b74239c7acb3503fdf8548d4a9dc491a\nRelated-Bug: #1957083\n""}, {'number': 5, 'created': '2022-01-12 15:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3c6331e806bf67e3d54becb98a0b7079a6be14cc', 'message': ""Enable unbound as a dns source on the provider node\n\nWe're seeing issues with the IPA server and upstream queries. This\nchange reconfigures unbound on the provider node to listen on all\naddresses to act a resolver for other job nodes. This change also\nupdates the IPA server installation to use the provider node as a\nforwarder rather than the items we glean from the node unbound\nconfiguration. This should allow us to troubleshoot any forwarder\nrelated problems easier.\n\nChange-Id: Ia56cfe62b74239c7acb3503fdf8548d4a9dc491a\nRelated-Bug: #1957083\n""}, {'number': 6, 'created': '2022-01-12 16:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d9d18b2b4a378998aed785bd185083261f3b14e8', 'message': ""Enable unbound as a dns source on the provider node\n\nWe're seeing issues with the IPA server and upstream queries. This\nchange reconfigures unbound on the provider node to listen on all\naddresses to act a resolver for other job nodes. This change also\nupdates the IPA server installation to use the provider node as a\nforwarder rather than the items we glean from the node unbound\nconfiguration. This should allow us to troubleshoot any forwarder\nrelated problems easier.\n\nChange-Id: Ia56cfe62b74239c7acb3503fdf8548d4a9dc491a\nRelated-Bug: #1957083\n""}, {'number': 7, 'created': '2022-01-13 16:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1deb05db16a94871f449ee9273d089637b8a6b23', 'message': ""Enable unbound as a dns source on the provider node\n\nWe're seeing issues with the IPA server and upstream queries. This\nchange reconfigures unbound on the provider node to listen on all\naddresses to act a resolver for other job nodes. This change also\nupdates the IPA server installation to use the provider node as a\nforwarder rather than the items we glean from the node unbound\nconfiguration. This should allow us to troubleshoot any forwarder\nrelated problems easier.\n\nChange-Id: Ia56cfe62b74239c7acb3503fdf8548d4a9dc491a\nRelated-Bug: #1957083\n""}, {'number': 8, 'created': '2022-01-13 16:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/76845e4706d6cbd557acc877f121a7520055459d', 'message': ""Enable unbound as a dns source on the provider node\n\nWe're seeing issues with the IPA server and upstream queries. This\nchange reconfigures unbound on the provider node to listen on all\naddresses to act a resolver for other job nodes. This change also\nupdates the IPA server installation to use the provider node as a\nforwarder rather than the items we glean from the node unbound\nconfiguration. This should allow us to troubleshoot any forwarder\nrelated problems easier.\n\nChange-Id: Ia56cfe62b74239c7acb3503fdf8548d4a9dc491a\nRelated-Bug: #1957083\n""}, {'number': 9, 'created': '2022-01-13 18:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/276035958143266cd88c38518e8779083691cb1d', 'message': ""Enable unbound as a dns source on the provider node\n\nWe're seeing issues with the IPA server and upstream queries. This\nchange reconfigures unbound on the provider node to listen on all\naddresses to act a resolver for other job nodes. This change also\nupdates the IPA server installation to use the provider node as a\nforwarder rather than the items we glean from the node unbound\nconfiguration. This should allow us to troubleshoot any forwarder\nrelated problems easier.\n\nChange-Id: Ia56cfe62b74239c7acb3503fdf8548d4a9dc491a\nRelated-Bug: #1957083\n""}, {'number': 10, 'created': '2022-01-14 19:44:13.000000000', 'files': ['roles/ipa-multinode/tasks/ipaserver-subnode-install.yml', 'playbooks/content-provider-containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b7f005f5605bfacf64ccd750ef5e5927607915da', 'message': ""Enable unbound as a dns source on the provider node\n\nWe're seeing issues with the IPA server and upstream queries. This\nchange reconfigures unbound on the provider node to listen on all\naddresses to act a resolver for other job nodes. This change also\nupdates the IPA server installation to use the provider node as a\nforwarder rather than the items we glean from the node unbound\nconfiguration. This should allow us to troubleshoot any forwarder\nrelated problems easier.\n\nChange-Id: Ia56cfe62b74239c7acb3503fdf8548d4a9dc491a\nRelated-Bug: #1957083\n""}]",10,824248,b7f005f5605bfacf64ccd750ef5e5927607915da,62,6,10,14985,,,0,"Enable unbound as a dns source on the provider node

We're seeing issues with the IPA server and upstream queries. This
change reconfigures unbound on the provider node to listen on all
addresses to act a resolver for other job nodes. This change also
updates the IPA server installation to use the provider node as a
forwarder rather than the items we glean from the node unbound
configuration. This should allow us to troubleshoot any forwarder
related problems easier.

Change-Id: Ia56cfe62b74239c7acb3503fdf8548d4a9dc491a
Related-Bug: #1957083
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/48/824248/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone/tasks/unbound.yml', 'roles/ipa-multinode/tasks/ipaserver-subnode-install.yml', 'playbooks/content-provider-containers.yml']",3,35ba10de9fbfd2cf5af025c9bab730bb95eba1d3,content-provider-dns, - name: Enable unbound listener include_role: name: standalone tasks_from: unbound apply: tags: - standalone,,57,23
openstack%2Fkolla-ansible~stable%2Fwallaby~I83e4cb48192c8024650a8d347363f6babb75ad90,openstack/kolla-ansible,stable/wallaby,I83e4cb48192c8024650a8d347363f6babb75ad90,Remove custom value of max_allowed_secret_in_bytes,MERGED,2022-01-18 21:02:07.000000000,2022-01-21 20:38:47.000000000,2022-01-21 20:35:30.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-18 21:02:07.000000000', 'files': ['releasenotes/notes/barbican-max-allowed-secret-size-1941307ab5d2a9fd.yaml', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e477227ca7281b189dd8b58ea9c1fe4b30e033bc', 'message': 'Remove custom value of max_allowed_secret_in_bytes\n\nBarbican has recently bumped max_allowed_secret_in_bytes from 10 KB to\n20 KB since the original value was too small for some certificates [1].\nRemove custom value from the barbican.conf template, which anyway was\nthe same as the default configuration before the recent upstream change.\n\nThe upstream change was backported to Wallaby and has been proposed to\nVictoria, Ussuri and Train [2], so this change should be backported too.\n\n[1] https://review.opendev.org/c/openstack/barbican/+/783381\n[2] https://review.opendev.org/q/I59d11c5c9c32128ab9d71eaecdf46dd2d789a8d1\n\nChange-Id: I83e4cb48192c8024650a8d347363f6babb75ad90\nCloses-Bug: #1957795\n(cherry picked from commit 20a3b14001f68d5f64aa70b124d7a6dcd6a4e777)\n'}]",0,825061,e477227ca7281b189dd8b58ea9c1fe4b30e033bc,9,3,1,15197,,,0,"Remove custom value of max_allowed_secret_in_bytes

Barbican has recently bumped max_allowed_secret_in_bytes from 10 KB to
20 KB since the original value was too small for some certificates [1].
Remove custom value from the barbican.conf template, which anyway was
the same as the default configuration before the recent upstream change.

The upstream change was backported to Wallaby and has been proposed to
Victoria, Ussuri and Train [2], so this change should be backported too.

[1] https://review.opendev.org/c/openstack/barbican/+/783381
[2] https://review.opendev.org/q/I59d11c5c9c32128ab9d71eaecdf46dd2d789a8d1

Change-Id: I83e4cb48192c8024650a8d347363f6babb75ad90
Closes-Bug: #1957795
(cherry picked from commit 20a3b14001f68d5f64aa70b124d7a6dcd6a4e777)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/61/825061/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/barbican-max-allowed-secret-size-1941307ab5d2a9fd.yaml', 'ansible/roles/barbican/templates/barbican.conf.j2']",2,e477227ca7281b189dd8b58ea9c1fe4b30e033bc,barbican-max-allowed-secret-size-stable/wallaby,,max_allowed_secret_in_bytes = 10000,7,1
openstack%2Fkolla-ansible~stable%2Fussuri~I83e4cb48192c8024650a8d347363f6babb75ad90,openstack/kolla-ansible,stable/ussuri,I83e4cb48192c8024650a8d347363f6babb75ad90,Remove custom value of max_allowed_secret_in_bytes,MERGED,2022-01-18 21:03:51.000000000,2022-01-21 20:38:21.000000000,2022-01-21 20:35:35.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-18 21:03:51.000000000', 'files': ['releasenotes/notes/barbican-max-allowed-secret-size-1941307ab5d2a9fd.yaml', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f7a8d021152d7011fc3c399533b01416b7795aa', 'message': 'Remove custom value of max_allowed_secret_in_bytes\n\nBarbican has recently bumped max_allowed_secret_in_bytes from 10 KB to\n20 KB since the original value was too small for some certificates [1].\nRemove custom value from the barbican.conf template, which anyway was\nthe same as the default configuration before the recent upstream change.\n\nThe upstream change was backported to Wallaby and has been proposed to\nVictoria, Ussuri and Train [2], so this change should be backported too.\n\n[1] https://review.opendev.org/c/openstack/barbican/+/783381\n[2] https://review.opendev.org/q/I59d11c5c9c32128ab9d71eaecdf46dd2d789a8d1\n\nChange-Id: I83e4cb48192c8024650a8d347363f6babb75ad90\nCloses-Bug: #1957795\n(cherry picked from commit 20a3b14001f68d5f64aa70b124d7a6dcd6a4e777)\n'}]",0,825063,1f7a8d021152d7011fc3c399533b01416b7795aa,9,3,1,15197,,,0,"Remove custom value of max_allowed_secret_in_bytes

Barbican has recently bumped max_allowed_secret_in_bytes from 10 KB to
20 KB since the original value was too small for some certificates [1].
Remove custom value from the barbican.conf template, which anyway was
the same as the default configuration before the recent upstream change.

The upstream change was backported to Wallaby and has been proposed to
Victoria, Ussuri and Train [2], so this change should be backported too.

[1] https://review.opendev.org/c/openstack/barbican/+/783381
[2] https://review.opendev.org/q/I59d11c5c9c32128ab9d71eaecdf46dd2d789a8d1

Change-Id: I83e4cb48192c8024650a8d347363f6babb75ad90
Closes-Bug: #1957795
(cherry picked from commit 20a3b14001f68d5f64aa70b124d7a6dcd6a4e777)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/825063/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/barbican-max-allowed-secret-size-1941307ab5d2a9fd.yaml', 'ansible/roles/barbican/templates/barbican.conf.j2']",2,1f7a8d021152d7011fc3c399533b01416b7795aa,barbican-max-allowed-secret-size-stable/ussuri,,max_allowed_secret_in_bytes = 10000,7,1
openstack%2Fkolla-ansible~stable%2Fvictoria~I83e4cb48192c8024650a8d347363f6babb75ad90,openstack/kolla-ansible,stable/victoria,I83e4cb48192c8024650a8d347363f6babb75ad90,Remove custom value of max_allowed_secret_in_bytes,MERGED,2022-01-18 21:03:25.000000000,2022-01-21 20:38:20.000000000,2022-01-21 20:35:33.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-18 21:03:25.000000000', 'files': ['releasenotes/notes/barbican-max-allowed-secret-size-1941307ab5d2a9fd.yaml', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/748c82751e8e6d01f8650ea9e2c28d7c03ed472b', 'message': 'Remove custom value of max_allowed_secret_in_bytes\n\nBarbican has recently bumped max_allowed_secret_in_bytes from 10 KB to\n20 KB since the original value was too small for some certificates [1].\nRemove custom value from the barbican.conf template, which anyway was\nthe same as the default configuration before the recent upstream change.\n\nThe upstream change was backported to Wallaby and has been proposed to\nVictoria, Ussuri and Train [2], so this change should be backported too.\n\n[1] https://review.opendev.org/c/openstack/barbican/+/783381\n[2] https://review.opendev.org/q/I59d11c5c9c32128ab9d71eaecdf46dd2d789a8d1\n\nChange-Id: I83e4cb48192c8024650a8d347363f6babb75ad90\nCloses-Bug: #1957795\n(cherry picked from commit 20a3b14001f68d5f64aa70b124d7a6dcd6a4e777)\n'}]",0,825062,748c82751e8e6d01f8650ea9e2c28d7c03ed472b,9,3,1,15197,,,0,"Remove custom value of max_allowed_secret_in_bytes

Barbican has recently bumped max_allowed_secret_in_bytes from 10 KB to
20 KB since the original value was too small for some certificates [1].
Remove custom value from the barbican.conf template, which anyway was
the same as the default configuration before the recent upstream change.

The upstream change was backported to Wallaby and has been proposed to
Victoria, Ussuri and Train [2], so this change should be backported too.

[1] https://review.opendev.org/c/openstack/barbican/+/783381
[2] https://review.opendev.org/q/I59d11c5c9c32128ab9d71eaecdf46dd2d789a8d1

Change-Id: I83e4cb48192c8024650a8d347363f6babb75ad90
Closes-Bug: #1957795
(cherry picked from commit 20a3b14001f68d5f64aa70b124d7a6dcd6a4e777)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/62/825062/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/barbican-max-allowed-secret-size-1941307ab5d2a9fd.yaml', 'ansible/roles/barbican/templates/barbican.conf.j2']",2,748c82751e8e6d01f8650ea9e2c28d7c03ed472b,barbican-max-allowed-secret-size-stable/victoria,,max_allowed_secret_in_bytes = 10000,7,1
openstack%2Fkolla-ansible~stable%2Fxena~I83e4cb48192c8024650a8d347363f6babb75ad90,openstack/kolla-ansible,stable/xena,I83e4cb48192c8024650a8d347363f6babb75ad90,Remove custom value of max_allowed_secret_in_bytes,MERGED,2022-01-18 21:01:56.000000000,2022-01-21 20:38:19.000000000,2022-01-21 20:35:28.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-18 21:01:56.000000000', 'files': ['releasenotes/notes/barbican-max-allowed-secret-size-1941307ab5d2a9fd.yaml', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c80d2068eaa57a61b9e46f6e08aa22bc030378e7', 'message': 'Remove custom value of max_allowed_secret_in_bytes\n\nBarbican has recently bumped max_allowed_secret_in_bytes from 10 KB to\n20 KB since the original value was too small for some certificates [1].\nRemove custom value from the barbican.conf template, which anyway was\nthe same as the default configuration before the recent upstream change.\n\nThe upstream change was backported to Wallaby and has been proposed to\nVictoria, Ussuri and Train [2], so this change should be backported too.\n\n[1] https://review.opendev.org/c/openstack/barbican/+/783381\n[2] https://review.opendev.org/q/I59d11c5c9c32128ab9d71eaecdf46dd2d789a8d1\n\nChange-Id: I83e4cb48192c8024650a8d347363f6babb75ad90\nCloses-Bug: #1957795\n(cherry picked from commit 20a3b14001f68d5f64aa70b124d7a6dcd6a4e777)\n'}]",0,825060,c80d2068eaa57a61b9e46f6e08aa22bc030378e7,9,3,1,15197,,,0,"Remove custom value of max_allowed_secret_in_bytes

Barbican has recently bumped max_allowed_secret_in_bytes from 10 KB to
20 KB since the original value was too small for some certificates [1].
Remove custom value from the barbican.conf template, which anyway was
the same as the default configuration before the recent upstream change.

The upstream change was backported to Wallaby and has been proposed to
Victoria, Ussuri and Train [2], so this change should be backported too.

[1] https://review.opendev.org/c/openstack/barbican/+/783381
[2] https://review.opendev.org/q/I59d11c5c9c32128ab9d71eaecdf46dd2d789a8d1

Change-Id: I83e4cb48192c8024650a8d347363f6babb75ad90
Closes-Bug: #1957795
(cherry picked from commit 20a3b14001f68d5f64aa70b124d7a6dcd6a4e777)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/825060/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/barbican-max-allowed-secret-size-1941307ab5d2a9fd.yaml', 'ansible/roles/barbican/templates/barbican.conf.j2']",2,c80d2068eaa57a61b9e46f6e08aa22bc030378e7,barbican-max-allowed-secret-size-stable/xena,,max_allowed_secret_in_bytes = 10000,7,1
openstack%2Fansible-role-qdrouterd~stable%2Fwallaby~I96078c6650bc32fc0944df5745bf8bb28cda77e9,openstack/ansible-role-qdrouterd,stable/wallaby,I96078c6650bc32fc0944df5745bf8bb28cda77e9,Update TOX_CONSTRAINTS_FILE for stable/wallaby,ABANDONED,2021-06-29 08:11:38.000000000,2022-01-21 20:26:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-29 08:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/667de8459888bec0c4bef266505dbe51d65de608', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I96078c6650bc32fc0944df5745bf8bb28cda77e9\n'}, {'number': 2, 'created': '2021-06-29 12:30:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/54f59b8c27c53c3720d71871aeff36e84be6b6a4', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I96078c6650bc32fc0944df5745bf8bb28cda77e9\n'}]",0,798445,54f59b8c27c53c3720d71871aeff36e84be6b6a4,10,2,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I96078c6650bc32fc0944df5745bf8bb28cda77e9
",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/45/798445/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,667de8459888bec0c4bef266505dbe51d65de608,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fansible-role-qdrouterd~stable%2Fwallaby~If2a66ce74d23530acce03e0c80e90e02ed68bdf1,openstack/ansible-role-qdrouterd,stable/wallaby,If2a66ce74d23530acce03e0c80e90e02ed68bdf1,Update .gitreview for stable/wallaby,ABANDONED,2021-06-29 08:11:20.000000000,2022-01-21 20:26:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-06-29 08:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/6258bef74a15fb29f048e46cf279c6bbfbd6b0bf', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: If2a66ce74d23530acce03e0c80e90e02ed68bdf1\n'}, {'number': 2, 'created': '2021-06-29 12:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/40a2ee48e197ab01451a0ea6e730e8e42fcdb6af', 'message': 'Update .gitreview for stable/wallaby\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/798664\nChange-Id: If2a66ce74d23530acce03e0c80e90e02ed68bdf1\n'}, {'number': 3, 'created': '2021-07-01 17:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/ae532d889c8d644457d5cceb32985fd6e123eea2', 'message': 'Update .gitreview for stable/wallaby\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/798664\nChange-Id: If2a66ce74d23530acce03e0c80e90e02ed68bdf1\n'}, {'number': 4, 'created': '2021-07-01 18:33:29.000000000', 'files': ['tests/ansible-role-requirements.yml', '.gitreview', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/aef53e85a6b896d4a7e91d950f55435eb66facad', 'message': 'Update .gitreview for stable/wallaby\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/798664\nChange-Id: If2a66ce74d23530acce03e0c80e90e02ed68bdf1\n'}]",0,798443,aef53e85a6b896d4a7e91d950f55435eb66facad,18,2,4,22816,,,0,"Update .gitreview for stable/wallaby

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/798664
Change-Id: If2a66ce74d23530acce03e0c80e90e02ed68bdf1
",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/43/798443/4 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,6258bef74a15fb29f048e46cf279c6bbfbd6b0bf,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fansible-role-qdrouterd~stable%2Fxena~I2991e5f58f086ace6e5238b28450a5503129e49c,openstack/ansible-role-qdrouterd,stable/xena,I2991e5f58f086ace6e5238b28450a5503129e49c,Remove centos-8 job and tidy role metadata,MERGED,2022-01-13 13:28:39.000000000,2022-01-21 20:16:01.000000000,2022-01-21 19:54:13.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-13 13:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/6a0598c90b7d88d42dc95f734ed398a5202be4cd', 'message': 'Remove centos-8 job and tidy role metadata\n\nChange-Id: I2991e5f58f086ace6e5238b28450a5503129e49c\n(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)\n'}, {'number': 2, 'created': '2022-01-13 14:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/7c5905282f5f93d53c9525e524c666788572630e', 'message': 'Remove centos-8 job and tidy role metadata\n\nChange-Id: I2991e5f58f086ace6e5238b28450a5503129e49c\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/824540\n(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)\n'}, {'number': 3, 'created': '2022-01-21 17:32:46.000000000', 'files': ['examples/playbook.yml', 'zuul.d/project.yaml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/f1e4809fdad87664acea4bdfaaab6dfc253f44c2', 'message': 'Remove centos-8 job and tidy role metadata\n\nChange-Id: I2991e5f58f086ace6e5238b28450a5503129e49c\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/824540\n(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)\n'}]",2,824564,f1e4809fdad87664acea4bdfaaab6dfc253f44c2,18,3,3,25023,,,0,"Remove centos-8 job and tidy role metadata

Change-Id: I2991e5f58f086ace6e5238b28450a5503129e49c
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/824540
(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)
",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/64/824564/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'meta/main.yml']",2,6a0598c90b7d88d42dc95f734ed398a5202be4cd,osa/remove-centos8, - focal, - xenial,1,3
openstack%2Fcharm-octavia~master~I5c182d3c985bdd6ca304bfa8c055241e6b6f0f68,openstack/charm-octavia,master,I5c182d3c985bdd6ca304bfa8c055241e6b6f0f68,Sync commands in README with CDG content,MERGED,2022-01-18 18:44:36.000000000,2022-01-21 19:37:24.000000000,2022-01-21 19:37:24.000000000,"[{'_account_id': 2424}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-18 18:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/7fc6cc93e6b68871c165ef1e6fc2b2ce79d33b9b', 'message': 'Sync commands in README with CDG content\n\nMake the commands in the README the same as those on the\nOctavia page of the CDG.\n\nDuplicated content will be removed and replaced with a\nlink to the CDG during the next review of the README.\n\nRelated-Bug: #1948506\nChange-Id: I5c182d3c985bdd6ca304bfa8c055241e6b6f0f68\n'}, {'number': 2, 'created': '2022-01-18 19:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/a6c31f0d3e79a505026cb31f5eeb85e104ab6377', 'message': 'Sync commands in README with CDG content\n\nMake the commands in the README the same as those on the\nOctavia page of the CDG.\n\nDuplicated content will be removed and replaced with a\nlink to the CDG during the next review of the README.\n\nRelated-Bug: #1948506\nChange-Id: I5c182d3c985bdd6ca304bfa8c055241e6b6f0f68\n'}, {'number': 3, 'created': '2022-01-18 21:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/254e0908c559920c7e092aac3addb9961293958f', 'message': 'Sync commands in README with CDG content\n\nMake the commands in the README the same as those on the\nOctavia page of the CDG.\n\nDuplicated content will be removed and replaced with a\nlink to the CDG during the next review of the README.\n\nRelated-Bug: #1948506\nChange-Id: I5c182d3c985bdd6ca304bfa8c055241e6b6f0f68\n'}, {'number': 4, 'created': '2022-01-19 17:04:52.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/8c95f18ca183e2614043da40a8d67671a4ed3387', 'message': 'Sync commands in README with CDG content\n\nMake the commands in the README the same as those on the\nOctavia page of the CDG.\n\nDuplicated content will be removed and replaced with a\nlink to the CDG during the next review of the README.\n\nRelated-Bug: #1948506\nChange-Id: I5c182d3c985bdd6ca304bfa8c055241e6b6f0f68\n'}]",3,825158,8c95f18ca183e2614043da40a8d67671a4ed3387,19,4,4,30561,,,0,"Sync commands in README with CDG content

Make the commands in the README the same as those on the
Octavia page of the CDG.

Duplicated content will be removed and replaced with a
link to the CDG during the next review of the README.

Related-Bug: #1948506
Change-Id: I5c182d3c985bdd6ca304bfa8c055241e6b6f0f68
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/58/825158/4 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,7fc6cc93e6b68871c165ef1e6fc2b2ce79d33b9b,lp1948506-fix-readme,,,1,0
openstack%2Fopenstack-helm~master~I547408a81c73b6b3db147582def6e8527e75a5c3,openstack/openstack-helm,master,I547408a81c73b6b3db147582def6e8527e75a5c3,Cleanup zuul jobs file and update releases,MERGED,2021-12-01 02:48:33.000000000,2022-01-21 19:34:31.000000000,2022-01-21 19:15:31.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-12-01 02:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3858fd856b935890ea707c75ce060b79ea797b08', 'message': 'Cleanup zuul jobs file and update releases\n\nThis change cleans up several redundant values and updates several\nopenstack release references to wallaby.\n\nChange-Id: I547408a81c73b6b3db147582def6e8527e75a5c3\n'}, {'number': 2, 'created': '2022-01-05 02:54:51.000000000', 'files': ['zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ded761cf6e9123ab52c35836003f2809fbb53fad', 'message': 'Cleanup zuul jobs file and update releases\n\nThis change cleans up several redundant values and updates several\nopenstack release references to wallaby.\n\nChange-Id: I547408a81c73b6b3db147582def6e8527e75a5c3\n'}]",0,819942,ded761cf6e9123ab52c35836003f2809fbb53fad,11,3,2,21420,,,0,"Cleanup zuul jobs file and update releases

This change cleans up several redundant values and updates several
openstack release references to wallaby.

Change-Id: I547408a81c73b6b3db147582def6e8527e75a5c3
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/42/819942/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs-openstack-helm.yaml'],1,3858fd856b935890ea707c75ce060b79ea797b08,update-release, openstack_release: wallaby container_distro_version: focal openstack_release: wallaby container_distro_version: focal openstack_release: wallaby container_distro_version: focal openstack_release: wallaby container_distro_version: focal openstack_release: wallaby container_distro_version: focal, osh_openstack_release: train openstack_release: train container_distro_version: bionic osh_params: openstack_release: train container_distro_name: ubuntu container_distro_version: bionic osh_params: openstack_release: train container_distro_name: ubuntu container_distro_version: bionic openstack_release: train container_distro_version: bionic openstack_release: train container_distro_version: bionic openstack_release: ussuri container_distro_version: bionic openstack_release: ussuri container_distro_version: bionic,10,19
openstack%2Fopenstack-helm~master~Ia127666cf89c8823ffb3ba2b5ebe7d62afa5f82b,openstack/openstack-helm,master,Ia127666cf89c8823ffb3ba2b5ebe7d62afa5f82b,Reduce duplicated memcache scripts,MERGED,2021-12-01 02:24:07.000000000,2022-01-21 19:32:44.000000000,2022-01-21 19:15:29.000000000,"[{'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-12-01 02:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ae208701383063292deeba3cf5beb7178c0f4ce4', 'message': 'Remove duplicate memcache script\n\nThis change removes a duplicate script that was not used for\ndeploying memcached.\n\nChange-Id: Ia127666cf89c8823ffb3ba2b5ebe7d62afa5f82b\n'}, {'number': 2, 'created': '2022-01-05 02:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9bbdee76445e447c59ba4e0be6c2dbfda8f0299b', 'message': 'Remove duplicate memcache script\n\nThis change removes a duplicate script that was not used for\ndeploying memcached.\n\nChange-Id: Ia127666cf89c8823ffb3ba2b5ebe7d62afa5f82b\n'}, {'number': 3, 'created': '2022-01-08 00:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/65ea513c8552900849e95361b15be2e10f2893c9', 'message': 'Reduce duplicated memcache scripts\n\nThis change reduces the amount of scripts used to deploy memcache\ndown to one by removing a duplicate and pointing the symlink\nto the component script.\n\nChange-Id: Ia127666cf89c8823ffb3ba2b5ebe7d62afa5f82b\n'}, {'number': 4, 'created': '2022-01-08 19:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8f1d74967deb5610b0ba956c814d387c749062cb', 'message': 'Reduce duplicated memcache scripts\n\nThis change reduces the amount of scripts used to deploy memcache\ndown to one by removing a duplicate and pointing the symlink\nto the component script.\n\nChange-Id: Ia127666cf89c8823ffb3ba2b5ebe7d62afa5f82b\n'}, {'number': 5, 'created': '2022-01-08 19:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2f1ff211e31e925b7926abb0d6ba2399710c4fc2', 'message': 'Reduce duplicated memcache scripts\n\nThis change reduces the amount of scripts used to deploy memcache\ndown to one by removing a duplicate and pointing the symlink\nto the component script.\n\nChange-Id: Ia127666cf89c8823ffb3ba2b5ebe7d62afa5f82b\n'}, {'number': 6, 'created': '2022-01-18 03:20:59.000000000', 'files': ['tools/deployment/baremetal/060-memcached.sh', 'tools/deployment/multinode/070-memcached.sh', 'tools/deployment/developer/ceph/070-memcached.sh', 'tools/deployment/common/memcached.sh', 'tools/deployment/developer/nfs/070-memcached.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5345b2a8127b5afa85496a208667b48666a8e70e', 'message': 'Reduce duplicated memcache scripts\n\nThis change reduces the amount of scripts used to deploy memcache\ndown to one by removing a duplicate and pointing the symlink\nto the component script.\n\nChange-Id: Ia127666cf89c8823ffb3ba2b5ebe7d62afa5f82b\n'}]",1,819941,5345b2a8127b5afa85496a208667b48666a8e70e,19,3,6,21420,,,0,"Reduce duplicated memcache scripts

This change reduces the amount of scripts used to deploy memcache
down to one by removing a duplicate and pointing the symlink
to the component script.

Change-Id: Ia127666cf89c8823ffb3ba2b5ebe7d62afa5f82b
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/41/819941/6 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/common/memcached.sh'],1,ae208701383063292deeba3cf5beb7178c0f4ce4,script-cleanup,,"#!/bin/bash # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -xe #NOTE: Get the over-rides to use export HELM_CHART_ROOT_PATH=""${HELM_CHART_ROOT_PATH:=""${OSH_INFRA_PATH:=""../openstack-helm-infra""}""}"" : ${OSH_EXTRA_HELM_ARGS_MEMCACHED:=""$(./tools/deployment/common/get-values-overrides.sh memcached)""} #NOTE: Lint and package chart make -C ${HELM_CHART_ROOT_PATH} memcached #NOTE: Deploy command : ${OSH_EXTRA_HELM_ARGS:=""""} helm upgrade --install memcached ${HELM_CHART_ROOT_PATH}/memcached \ --namespace=openstack \ ${OSH_EXTRA_HELM_ARGS} \ ${OSH_EXTRA_HELM_ARGS_MEMCACHED} #NOTE: Wait for deploy ./tools/deployment/common/wait-for-pods.sh openstack ",0,32
openstack%2Ftripleo-common~stable%2Fwallaby~Ic4b93138747003819d8a08eda1571f2133ad8d8d,openstack/tripleo-common,stable/wallaby,Ic4b93138747003819d8a08eda1571f2133ad8d8d,Add configs for RHEL 9 image,MERGED,2022-01-20 07:45:17.000000000,2022-01-21 18:34:09.000000000,2022-01-21 18:32:16.000000000,"[{'_account_id': 4571}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-01-20 07:45:17.000000000', 'files': ['image-yaml/overcloud-hardened-images-uefi-rhel9.yaml', 'image-yaml/overcloud-images-ceph-rhel9.yaml', 'image-yaml/overcloud-images-rhel9.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e74462fe7ac32d7ff81ec593cbb26cc2ef80d809', 'message': 'Add configs for RHEL 9 image\n\nWith this patch, We are addding config files\nfor RHEL9 image build.\n\nConfig for C9 was added in [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-common/+/806018\n\nChange-Id: Ic4b93138747003819d8a08eda1571f2133ad8d8d\n(cherry picked from commit bf7259784a92725fc0410208a1937595804d25f4)\n'}]",2,825227,e74462fe7ac32d7ff81ec593cbb26cc2ef80d809,16,7,1,29775,,,0,"Add configs for RHEL 9 image

With this patch, We are addding config files
for RHEL9 image build.

Config for C9 was added in [1].

[1] https://review.opendev.org/c/openstack/tripleo-common/+/806018

Change-Id: Ic4b93138747003819d8a08eda1571f2133ad8d8d
(cherry picked from commit bf7259784a92725fc0410208a1937595804d25f4)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/27/825227/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-hardened-images-uefi-rhel9.yaml', 'image-yaml/overcloud-images-ceph-rhel9.yaml', 'image-yaml/overcloud-images-rhel9.yaml']",3,e74462fe7ac32d7ff81ec593cbb26cc2ef80d809,cs9-stable/wallaby,"disk_images: - imagename: overcloud-full type: qcow2 distro: rhel release: 9 elements: - interface-names packages: - rhosp-release environment: FS_TYPE: xfs options: - ""--mkfs-options '-s size=4096'"" - imagename: ironic-python-agent type: qcow2 distro: rhel release: 9 elements: - selinux-permissive - interface-names ",,50,0
openstack%2Fneutron~stable%2Fussuri~I5b716399cb8344b8a89b97378fcb4796654e6152,openstack/neutron,stable/ussuri,I5b716399cb8344b8a89b97378fcb4796654e6152,Fix OVS OVSNeutronAgent.reclaim_local_vlan(),MERGED,2022-01-20 09:52:18.000000000,2022-01-21 17:41:26.000000000,2022-01-21 17:39:27.000000000,"[{'_account_id': 8313}, {'_account_id': 11928}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-20 09:52:18.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4affce8fe5a258d9a195702f17e09c50571cf40c', 'message': 'Fix OVS OVSNeutronAgent.reclaim_local_vlan()\n\nCloses-Bug: #1957931\n\nChange-Id: I5b716399cb8344b8a89b97378fcb4796654e6152\n(cherry picked from commit d033c9f93327b5845280bbc21e5a229555b905f4)\n'}]",0,825472,4affce8fe5a258d9a195702f17e09c50571cf40c,8,5,1,16688,,,0,"Fix OVS OVSNeutronAgent.reclaim_local_vlan()

Closes-Bug: #1957931

Change-Id: I5b716399cb8344b8a89b97378fcb4796654e6152
(cherry picked from commit d033c9f93327b5845280bbc21e5a229555b905f4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/825472/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,4affce8fe5a258d9a195702f17e09c50571cf40c,bug/1957931," with mock.patch.object(self.mod_agent.LOG, 'debug') as log_debug_fn: self.agent.reclaim_local_vlan('net999') log_debug_fn.assert_called_once_with( 'Network %s not used on agent.', 'net999', ) ",,8,1
openstack%2Fpuppet-nova~master~If2a95361e20c8829c64aa6a27e6fb1d0dc5c1ff2,openstack/puppet-nova,master,If2a95361e20c8829c64aa6a27e6fb1d0dc5c1ff2,Accept system scope credential for Keystone API request,MERGED,2022-01-12 13:19:49.000000000,2022-01-21 17:11:05.000000000,2022-01-21 17:02:15.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 13:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/deddff79ad629e29dba71555c362728117c4bae3', 'message': 'Accept system scope credential for Keystone API request\n\nWhen SRBAC is enforced, obtaining detail of a project requires system\nreader, domain reader of the user who actually belongs to the project.\nThis allows using system scope credential so that a system reader role\ncan be leveraged.\n\nChange-Id: If2a95361e20c8829c64aa6a27e6fb1d0dc5c1ff2\n'}, {'number': 2, 'created': '2022-01-13 03:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/28c3ef815171ec35365ccd4825dab1a063bd1ed0', 'message': 'Accept system scope credential for Keystone API request\n\nWhen SRBAC is enforced, obtaining detail of a project requires system\nreader, domain reader of the user who actually belongs to the project.\nThis allows using system scope credential so that a system reader role\ncan be leveraged.\n\nChange-Id: If2a95361e20c8829c64aa6a27e6fb1d0dc5c1ff2\n'}, {'number': 3, 'created': '2022-01-13 05:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6cc975feaccb4f974848a863da5dc3b4961d4550', 'message': 'Accept system scope credential for Keystone API request\n\nWhen SRBAC is enforced, obtaining detail of a project requires system\nreader, domain reader of the user who actually belongs to the project.\nThis allows using system scope credential so that a system reader role\ncan be leveraged.\n\nChange-Id: If2a95361e20c8829c64aa6a27e6fb1d0dc5c1ff2\n'}, {'number': 4, 'created': '2022-01-14 00:17:55.000000000', 'files': ['spec/classes/nova_keystone_spec.rb', 'manifests/keystone.pp', 'releasenotes/notes/system_scope-keystone-ed62f90dc93ea10d.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/63966683df905bbe04d8918f888ee53e6b6b4f9c', 'message': 'Accept system scope credential for Keystone API request\n\nWhen SRBAC is enforced, obtaining detail of a project requires system\nreader, domain reader of the user who actually belongs to the project.\nThis allows using system scope credential so that a system reader role\ncan be leveraged.\n\nChange-Id: If2a95361e20c8829c64aa6a27e6fb1d0dc5c1ff2\n'}]",4,824434,63966683df905bbe04d8918f888ee53e6b6b4f9c,25,4,4,9816,,,0,"Accept system scope credential for Keystone API request

When SRBAC is enforced, obtaining detail of a project requires system
reader, domain reader of the user who actually belongs to the project.
This allows using system scope credential so that a system reader role
can be leveraged.

Change-Id: If2a95361e20c8829c64aa6a27e6fb1d0dc5c1ff2
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/34/824434/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/keystone.pp', 'spec/classes/nova_keystone_spec.rb', 'releasenotes/notes/system_scope-keystone-ed62f90dc93ea10d.yaml']",3,deddff79ad629e29dba71555c362728117c4bae3,system-scope-params,--- features: - | The new ``system_scope`` parameter has been added to the ``nova::keystone`` class. ,,37,2
openstack%2Fneutron~stable%2Fvictoria~I5b716399cb8344b8a89b97378fcb4796654e6152,openstack/neutron,stable/victoria,I5b716399cb8344b8a89b97378fcb4796654e6152,Fix OVS OVSNeutronAgent.reclaim_local_vlan(),MERGED,2022-01-20 09:52:03.000000000,2022-01-21 17:11:00.000000000,2022-01-21 16:59:08.000000000,"[{'_account_id': 8313}, {'_account_id': 11928}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-20 09:52:03.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f47fdf4d0599c83249d042a89c0905a2dcd0b93e', 'message': 'Fix OVS OVSNeutronAgent.reclaim_local_vlan()\n\nCloses-Bug: #1957931\n\nChange-Id: I5b716399cb8344b8a89b97378fcb4796654e6152\n(cherry picked from commit d033c9f93327b5845280bbc21e5a229555b905f4)\n'}]",0,825471,f47fdf4d0599c83249d042a89c0905a2dcd0b93e,9,5,1,16688,,,0,"Fix OVS OVSNeutronAgent.reclaim_local_vlan()

Closes-Bug: #1957931

Change-Id: I5b716399cb8344b8a89b97378fcb4796654e6152
(cherry picked from commit d033c9f93327b5845280bbc21e5a229555b905f4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/825471/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,f47fdf4d0599c83249d042a89c0905a2dcd0b93e,bug/1957931," with mock.patch.object(self.mod_agent.LOG, 'debug') as log_debug_fn: self.agent.reclaim_local_vlan('net999') log_debug_fn.assert_called_once_with( 'Network %s not used on agent.', 'net999', ) ",,8,1
openstack%2Fkeystone~master~I0af417f0ab7d3937943b5f1c8097cc633f9aa46a,openstack/keystone,master,I0af417f0ab7d3937943b5f1c8097cc633f9aa46a,"replace os.urandom with secrets.token_bytes, that function more security.",ABANDONED,2021-12-23 16:07:07.000000000,2022-01-21 16:52:22.000000000,,"[{'_account_id': 2218}, {'_account_id': 16198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-23 16:07:07.000000000', 'files': ['keystone/api/users.py', 'keystone/tests/unit/core.py', 'keystone/common/cache/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9f93d44039f74bb9d21c609c7e28d734e231fb4c', 'message': 'replace os.urandom with secrets.token_bytes, that function more security.\n\nChange-Id: If0877968ba257fa913b03d512633f2d62e5d22de\n\nsecrets.token_bytes source code: https://github.com/python/cpython/blob/3.8/Lib/secrets.py\ntoken_bytes can deal with parameters is none, but os.urandom will raise\na typeError\n\nChange-Id: I7e6b1df5eac59bac33674934d7b3e8cdd16cea27\n\nhttps: //www.python.org/dev/peps/pep-0506/\nChange-Id: I0af417f0ab7d3937943b5f1c8097cc633f9aa46a\n'}]",0,822845,9f93d44039f74bb9d21c609c7e28d734e231fb4c,4,3,1,34392,,,0,"replace os.urandom with secrets.token_bytes, that function more security.

Change-Id: If0877968ba257fa913b03d512633f2d62e5d22de

secrets.token_bytes source code: https://github.com/python/cpython/blob/3.8/Lib/secrets.py
token_bytes can deal with parameters is none, but os.urandom will raise
a typeError

Change-Id: I7e6b1df5eac59bac33674934d7b3e8cdd16cea27

https: //www.python.org/dev/peps/pep-0506/
Change-Id: I0af417f0ab7d3937943b5f1c8097cc633f9aa46a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/45/822845/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/api/users.py', 'keystone/tests/unit/core.py', 'keystone/common/cache/core.py']",3,9f93d44039f74bb9d21c609c7e28d734e231fb4c,linjiangbieji,import secrets return secrets.token_bytes(10),import os return os.urandom(10),8,6
openstack%2Fkeystone~master~If0877968ba257fa913b03d512633f2d62e5d22de,openstack/keystone,master,If0877968ba257fa913b03d512633f2d62e5d22de,"replace os.urandom with secrets.token_bytes, that function more security.",ABANDONED,2021-12-22 17:45:30.000000000,2022-01-21 16:52:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-22 17:45:30.000000000', 'files': ['keystone/api/users.py', 'keystone/tests/unit/core.py', 'keystone/common/cache/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/029a006b9c20bf597b0e31a4b1ed6a9e2f94c338', 'message': 'replace os.urandom with secrets.token_bytes, that function more security.\n\nChange-Id: If0877968ba257fa913b03d512633f2d62e5d22de\n'}]",3,822752,029a006b9c20bf597b0e31a4b1ed6a9e2f94c338,5,1,1,34392,,,0,"replace os.urandom with secrets.token_bytes, that function more security.

Change-Id: If0877968ba257fa913b03d512633f2d62e5d22de
",git fetch https://review.opendev.org/openstack/keystone refs/changes/52/822752/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/api/users.py', 'keystone/tests/unit/core.py', 'keystone/common/cache/core.py']",3,029a006b9c20bf597b0e31a4b1ed6a9e2f94c338,linjiangbieji,import secrets return secrets.token_bytes(10), return os.urandom(10),8,4
openstack%2Fbifrost~master~I9dcefa386cda855f296100477aecc528a294048f,openstack/bifrost,master,I9dcefa386cda855f296100477aecc528a294048f,Stop exposing JSON RPC to the whole network,MERGED,2021-11-29 14:56:40.000000000,2022-01-21 16:48:20.000000000,2022-01-21 16:46:31.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-11-29 14:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/893954881783f3fdbadab9fd4caef90056d5a60e', 'message': ""Stop exposing JSON RPC to the whole network\n\nIt's an internal thing and should only be exposed externally in\na multi-node setting (which is rare with Bifrost).\n\nLimiting it to localhost allows not using TLS on it, which helps\navoiding eventlet issues and improves performance.\n\nChange-Id: I9dcefa386cda855f296100477aecc528a294048f\n""}, {'number': 2, 'created': '2021-11-29 16:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/343f5cf0d8f6e2a8e3c4300a17e42994f4d7f85a', 'message': ""Stop exposing JSON RPC to the whole network\n\nIt's an internal thing and should only be exposed externally in\na multi-node setting (which is rare with Bifrost).\n\nLimiting it to localhost allows not using TLS on it, which helps\navoiding eventlet issues and improves performance.\n\nChange-Id: I9dcefa386cda855f296100477aecc528a294048f\n""}, {'number': 3, 'created': '2021-11-30 12:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/069b935e482b2b724116ad4ea839d1c6db576854', 'message': ""Stop exposing JSON RPC to the whole network\n\nIt's an internal thing and should only be exposed externally in\na multi-node setting (which is rare with Bifrost).\n\nLimiting it to localhost allows not using TLS on it, which helps\navoiding eventlet issues and improves performance.\n\nChange-Id: I9dcefa386cda855f296100477aecc528a294048f\n""}, {'number': 4, 'created': '2021-11-30 12:41:57.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'releasenotes/notes/global-rpc-b399d65310367951.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3b6137196091d16c3cfc6486a972384bc59a2cb3', 'message': ""Stop exposing JSON RPC to the whole network\n\nIt's an internal thing and should only be exposed externally in\na multi-node setting (which is rare with Bifrost).\n\nLimiting it to localhost allows not using TLS on it, which helps\navoiding eventlet issues and improves performance.\n\nChange-Id: I9dcefa386cda855f296100477aecc528a294048f\n""}]",3,819649,3b6137196091d16c3cfc6486a972384bc59a2cb3,20,4,4,10239,,,0,"Stop exposing JSON RPC to the whole network

It's an internal thing and should only be exposed externally in
a multi-node setting (which is rare with Bifrost).

Limiting it to localhost allows not using TLS on it, which helps
avoiding eventlet issues and improves performance.

Change-Id: I9dcefa386cda855f296100477aecc528a294048f
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/49/819649/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'releasenotes/notes/global-rpc-b399d65310367951.yaml']",3,893954881783f3fdbadab9fd4caef90056d5a60e,global-rpc,"--- upgrade: - | JSON RPC is now available only on localhost and without TLS. If you need it exposed to the network (i.e. you're using Bifrost in a multi-node setting), set ``expose_json_rpc`` to ``true``. ",,15,0
openstack%2Felection~master~Ia3770d3c4cb94279627f4fc80b0b1b9285de28f5,openstack/election,master,Ia3770d3c4cb94279627f4fc80b0b1b9285de28f5,Add Ghanshyam Mann to election officials,MERGED,2022-01-17 19:40:04.000000000,2022-01-21 16:43:48.000000000,2022-01-21 16:42:06.000000000,"[{'_account_id': 2033}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-17 19:40:04.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/election/commit/243bd46555963438067fef50e619e529d1b31aff', 'message': 'Add Ghanshyam Mann to election officials\n\nChange-Id: Ia3770d3c4cb94279627f4fc80b0b1b9285de28f5\n'}]",2,825009,243bd46555963438067fef50e619e529d1b31aff,14,3,1,8556,,,0,"Add Ghanshyam Mann to election officials

Change-Id: Ia3770d3c4cb94279627f4fc80b0b1b9285de28f5
",git fetch https://review.opendev.org/openstack/election refs/changes/09/825009/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,243bd46555963438067fef50e619e529d1b31aff,,"* Ghanshyam Mann (gmann), gmann at ghanshyammann dot com",,1,0
openstack%2Fkolla-ansible~master~Ifacefcea3df084b0ebccb95f1cc0db0dc967bb23,openstack/kolla-ansible,master,Ifacefcea3df084b0ebccb95f1cc0db0dc967bb23,WIP: Adding support of podman deployment,ABANDONED,2022-01-21 16:37:35.000000000,2022-01-21 16:41:26.000000000,,[],"[{'number': 1, 'created': '2022-01-21 16:37:35.000000000', 'files': ['ansible/roles/common/tasks/bootstrap.yml', 'ansible/roles/nova-cell/tasks/create_cells_podman.yml', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/zookeeper/tasks/precheck.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/ironic/tasks/precheck.yml', 'ansible/roles/mariadb/tasks/restart_services.yml', 'ansible/roles/openvswitch/tasks/check-containers.yml', 'ansible/roles/vitrage/tasks/precheck.yml', 'tests/link-module-utils.sh', 'ansible/roles/murano/tasks/precheck.yml', 'ansible/roles/gnocchi/tasks/precheck.yml', 'ansible/roles/nova-cell/tasks/bootstrap.yml', 'ansible/roles/mariadb/tasks/precheck.yml', 'ansible/roles/mariadb/tasks/deploy-containers.yml', 'ansible/roles/rabbitmq/handlers/main.yml', 'ansible/roles/rabbitmq/tasks/restart_services.yml', 'ansible/roles/placement/tasks/precheck.yml', 'ansible/module_utils/proxy_import.py', 'ansible/roles/mariadb/handlers/main.yml', 'ansible/roles/octavia/tasks/precheck.yml', 'ansible/roles/kuryr/tasks/precheck.yml', 'ansible/roles/common/handlers/main.yml', 'ansible/roles/kibana/tasks/precheck.yml', 'ansible/roles/keystone/tasks/bootstrap.yml', 'ansible/roles/rabbitmq/tasks/precheck.yml', 'ansible/roles/baremetal/tasks/post-install.yml', 'ansible/roles/ovn/tasks/precheck.yml', 'ansible/roles/rabbitmq/tasks/bootstrap.yml', 'ansible/roles/bifrost/tasks/stop.yml', 'ansible/roles/senlin/tasks/precheck.yml', 'ansible/roles/blazar/tasks/precheck.yml', 'ansible/module_utils/templates/service_template.j2', 'ansible/roles/barbican/tasks/precheck.yml', 'ansible/roles/baremetal/tasks/pre-install.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/trove/tasks/precheck.yml', 'ansible/roles/mariadb/tasks/check.yml', 'ansible/roles/manila/tasks/precheck.yml', 'ansible/roles/nova/tasks/refresh_scheduler_cell_cache.yml', 'requirements.txt', 'ansible/roles/aodh/tasks/precheck.yml', 'ansible/roles/mariadb/tasks/bootstrap.yml', 'ansible/roles/nova-cell/tasks/get_cell_settings_podman.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/kafka/tasks/precheck.yml', 'ansible/roles/create_service_file/defaults/main.yml', 'ansible/roles/mariadb/tasks/backup.yml', 'ansible/roles/nova-cell/files/script.sh', 'ansible/roles/create_service_file/tasks/main.yml', 'ansible/roles/keystone/files/script.sh', 'ansible/library/kolla_toolbox.py', 'ansible/roles/openvswitch/tasks/post-config.yml', 'ansible/roles/keystone/tasks/register.yml', 'ansible/group_vars/all.yml', 'ansible/roles/swift/tasks/precheck.yml', 'ansible/library/kolla_docker.py', 'ansible/roles/prechecks/tasks/service_checks.yml', 'ansible/roles/grafana/tasks/precheck.yml', 'ansible/roles/tacker/tasks/precheck.yml', 'ansible/module_utils/kolla_docker_worker.py', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/keystone/tasks/distribute_fernet.yml', 'ansible/roles/common/tasks/check-containers.yml', 'ansible/roles/freezer/tasks/precheck.yml', 'ansible/roles/common/tasks/deploy.yml', 'ansible/roles/cyborg/tasks/precheck.yml', 'ansible/roles/solum/tasks/precheck.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/memcached/handlers/main.yml', 'ansible/roles/monasca/tasks/precheck.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/sahara/tasks/precheck.yml', 'etc/kolla/globals.yml', 'ansible/roles/loadbalancer/defaults/main.yml', 'ansible/roles/qdrouterd/tasks/precheck.yml', 'ansible/roles/nova-cell/tasks/precheck.yml', 'ansible/roles/iscsi/tasks/precheck.yml', 'ansible/roles/nova/tasks/precheck.yml', 'ansible/roles/nova-cell/tasks/bootstrap_upgrade.yml', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/roles/memcached/tasks/pull.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/module_utils/kolla_systemd_worker.py', 'ansible/roles/mariadb/tasks/recover_cluster.yml', 'ansible/roles/watcher/tasks/precheck.yml', 'ansible/roles/elasticsearch/tasks/precheck.yml', 'ansible/roles/cloudkitty/tasks/precheck.yml', 'ansible/roles/baremetal/tasks/install.yml', 'tools/cleanup-containers', 'ansible/roles/nova/defaults/main.yml', 'ansible/library/kolla_container_facts.py', 'ansible/roles/designate/tasks/precheck.yml', 'ansible/roles/heat/tasks/bootstrap.yml', 'ansible/roles/memcached/tasks/precheck.yml', 'ansible/roles/prometheus/tasks/precheck.yml', 'ansible/roles/zun/tasks/precheck.yml', 'ansible/roles/keystone/tasks/precheck.yml', 'ansible/roles/nova/tasks/reload_super_conductor.yml', 'ansible/roles/influxdb/tasks/precheck.yml', 'ansible/roles/glance/tasks/bootstrap_service.yml', 'ansible/roles/skydive/tasks/precheck.yml', 'ansible/roles/mistral/tasks/precheck.yml', 'ansible/roles/mariadb/tasks/check-containers.yml', 'ansible/roles/openvswitch/tasks/precheck.yml', 'ansible/roles/nova/tasks/bootstrap_upgrade.yml', 'ansible/roles/rabbitmq/tasks/check-containers.yml', 'ansible/roles/neutron/tasks/precheck.yml', 'ansible/roles/storm/tasks/precheck.yml', 'ansible/roles/nova/tasks/map_cell0_podman.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/keystone/tasks/bootstrap_service_podman.yml', 'ansible/roles/keystone/tasks/bootstrap_service.yml', 'ansible/module_utils/kolla_podman_worker.py', 'ansible/roles/redis/tasks/precheck.yml', 'ansible/roles/horizon/tasks/precheck.yml', 'ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/loadbalancer/tasks/precheck.yml', 'ansible/roles/nova/tasks/reload_api.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/module_utils/kolla_container_worker.py', 'ansible/roles/nova/tasks/bootstrap.yml', 'ansible/roles/glance/tasks/precheck.yml', 'ansible/roles/nova-cell/tasks/online_data_migrations.yml', 'ansible/roles/nova/tasks/upgrade_podman.yml', 'ansible/roles/masakari/tasks/precheck.yml', 'ansible/roles/baremetal/defaults/main.yml', 'ansible/roles/etcd/tasks/precheck.yml', 'ansible/roles/magnum/tasks/precheck.yml', 'ansible/roles/heat/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e65d3ea11ddc03cf6c5995bcdf5d9c501cc8a256', 'message': 'WIP: Adding support of podman deployment\n\nThis change adds basic deployment based on podman containers\non CentOS8 and Ubuntu-20.04.\n\nCo-authored-by: Martin Hiner <martin.hiner@tietoevry.com>\nSigned-off-by: Ivan Halomi <ivan.halomi@tietoevry.com>\nChange-Id: Ifacefcea3df084b0ebccb95f1cc0db0dc967bb23\n'}]",0,825837,e65d3ea11ddc03cf6c5995bcdf5d9c501cc8a256,2,0,1,33708,,,0,"WIP: Adding support of podman deployment

This change adds basic deployment based on podman containers
on CentOS8 and Ubuntu-20.04.

Co-authored-by: Martin Hiner <martin.hiner@tietoevry.com>
Signed-off-by: Ivan Halomi <ivan.halomi@tietoevry.com>
Change-Id: Ifacefcea3df084b0ebccb95f1cc0db0dc967bb23
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/825837/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/tasks/bootstrap.yml', 'ansible/roles/nova-cell/tasks/create_cells_podman.yml', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/zookeeper/tasks/precheck.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/ironic/tasks/precheck.yml', 'ansible/roles/mariadb/tasks/restart_services.yml', 'ansible/roles/openvswitch/tasks/check-containers.yml', 'ansible/roles/vitrage/tasks/precheck.yml', 'tests/link-module-utils.sh', 'ansible/roles/murano/tasks/precheck.yml', 'ansible/roles/gnocchi/tasks/precheck.yml', 'ansible/roles/nova-cell/tasks/bootstrap.yml', 'ansible/roles/mariadb/tasks/precheck.yml', 'ansible/roles/mariadb/tasks/deploy-containers.yml', 'ansible/roles/rabbitmq/handlers/main.yml', 'ansible/roles/rabbitmq/tasks/restart_services.yml', 'ansible/roles/placement/tasks/precheck.yml', 'ansible/module_utils/proxy_import.py', 'ansible/roles/mariadb/handlers/main.yml', 'ansible/roles/octavia/tasks/precheck.yml', 'ansible/roles/kuryr/tasks/precheck.yml', 'ansible/roles/common/handlers/main.yml', 'ansible/roles/kibana/tasks/precheck.yml', 'ansible/roles/keystone/tasks/bootstrap.yml', 'ansible/roles/rabbitmq/tasks/precheck.yml', 'ansible/roles/baremetal/tasks/post-install.yml', 'ansible/roles/ovn/tasks/precheck.yml', 'ansible/roles/rabbitmq/tasks/bootstrap.yml', 'ansible/roles/bifrost/tasks/stop.yml', 'ansible/roles/senlin/tasks/precheck.yml', 'ansible/roles/blazar/tasks/precheck.yml', 'ansible/module_utils/templates/service_template.j2', 'ansible/roles/barbican/tasks/precheck.yml', 'ansible/roles/baremetal/tasks/pre-install.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/trove/tasks/precheck.yml', 'ansible/roles/mariadb/tasks/check.yml', 'ansible/roles/manila/tasks/precheck.yml', 'ansible/roles/nova/tasks/refresh_scheduler_cell_cache.yml', 'requirements.txt', 'ansible/roles/aodh/tasks/precheck.yml', 'ansible/roles/mariadb/tasks/bootstrap.yml', 'ansible/roles/nova-cell/tasks/get_cell_settings_podman.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/kafka/tasks/precheck.yml', 'ansible/roles/create_service_file/defaults/main.yml', 'ansible/roles/mariadb/tasks/backup.yml', 'ansible/roles/nova-cell/files/script.sh', 'ansible/roles/create_service_file/tasks/main.yml', 'ansible/roles/keystone/files/script.sh', 'ansible/library/kolla_toolbox.py', 'ansible/roles/openvswitch/tasks/post-config.yml', 'ansible/roles/keystone/tasks/register.yml', 'ansible/group_vars/all.yml', 'ansible/roles/swift/tasks/precheck.yml', 'ansible/library/kolla_docker.py', 'ansible/roles/prechecks/tasks/service_checks.yml', 'ansible/roles/grafana/tasks/precheck.yml', 'ansible/roles/tacker/tasks/precheck.yml', 'ansible/module_utils/kolla_docker_worker.py', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/keystone/tasks/distribute_fernet.yml', 'ansible/roles/common/tasks/check-containers.yml', 'ansible/roles/freezer/tasks/precheck.yml', 'ansible/roles/common/tasks/deploy.yml', 'ansible/roles/cyborg/tasks/precheck.yml', 'ansible/roles/solum/tasks/precheck.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/memcached/handlers/main.yml', 'ansible/roles/monasca/tasks/precheck.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/sahara/tasks/precheck.yml', 'etc/kolla/globals.yml', 'ansible/roles/loadbalancer/defaults/main.yml', 'ansible/roles/qdrouterd/tasks/precheck.yml', 'ansible/roles/nova-cell/tasks/precheck.yml', 'ansible/roles/iscsi/tasks/precheck.yml', 'ansible/roles/nova/tasks/precheck.yml', 'ansible/roles/nova-cell/tasks/bootstrap_upgrade.yml', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/roles/memcached/tasks/pull.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/module_utils/kolla_systemd_worker.py', 'ansible/roles/mariadb/tasks/recover_cluster.yml', 'ansible/roles/watcher/tasks/precheck.yml', 'ansible/roles/elasticsearch/tasks/precheck.yml', 'ansible/roles/cloudkitty/tasks/precheck.yml', 'ansible/roles/baremetal/tasks/install.yml', 'tools/cleanup-containers', 'ansible/roles/nova/defaults/main.yml', 'ansible/library/kolla_container_facts.py', 'ansible/roles/designate/tasks/precheck.yml', 'ansible/roles/heat/tasks/bootstrap.yml', 'ansible/roles/memcached/tasks/precheck.yml', 'ansible/roles/prometheus/tasks/precheck.yml', 'ansible/roles/zun/tasks/precheck.yml', 'ansible/roles/keystone/tasks/precheck.yml', 'ansible/roles/nova/tasks/reload_super_conductor.yml', 'ansible/roles/influxdb/tasks/precheck.yml', 'ansible/roles/glance/tasks/bootstrap_service.yml', 'ansible/roles/skydive/tasks/precheck.yml', 'ansible/roles/mistral/tasks/precheck.yml', 'ansible/roles/mariadb/tasks/check-containers.yml', 'ansible/roles/openvswitch/tasks/precheck.yml', 'ansible/roles/nova/tasks/bootstrap_upgrade.yml', 'ansible/roles/rabbitmq/tasks/check-containers.yml', 'ansible/roles/neutron/tasks/precheck.yml', 'ansible/roles/storm/tasks/precheck.yml', 'ansible/roles/nova/tasks/map_cell0_podman.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/keystone/tasks/bootstrap_service_podman.yml', 'ansible/roles/keystone/tasks/bootstrap_service.yml', 'ansible/module_utils/kolla_podman_worker.py', 'ansible/roles/redis/tasks/precheck.yml', 'ansible/roles/horizon/tasks/precheck.yml', 'ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/loadbalancer/tasks/precheck.yml', 'ansible/roles/nova/tasks/reload_api.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/module_utils/kolla_container_worker.py', 'ansible/roles/nova/tasks/bootstrap.yml', 'ansible/roles/glance/tasks/precheck.yml', 'ansible/roles/nova-cell/tasks/online_data_migrations.yml', 'ansible/roles/nova/tasks/upgrade_podman.yml', 'ansible/roles/masakari/tasks/precheck.yml', 'ansible/roles/baremetal/defaults/main.yml', 'ansible/roles/etcd/tasks/precheck.yml', 'ansible/roles/magnum/tasks/precheck.yml', 'ansible/roles/heat/tasks/precheck.yml']",133,e65d3ea11ddc03cf6c5995bcdf5d9c501cc8a256,, container_engine: '{{ kolla_container_engine }}',,2238,526
openstack%2Fkolla~master~Ib3ecd73f9e39e320acb2c5f0962b8af9b1a817e9,openstack/kolla,master,Ib3ecd73f9e39e320acb2c5f0962b8af9b1a817e9,Mitigate two Log4j vulnerabilities in Apache Storm,MERGED,2022-01-13 21:35:47.000000000,2022-01-21 16:24:47.000000000,2022-01-21 16:22:26.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-13 21:35:47.000000000', 'files': ['releasenotes/notes/storm-log4j-vulnerability-mitigation-6746a8a0bb329485.yaml', 'docker/storm/storm-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/448e4f56aa6218a66b0074329d322c0b6089b2e6', 'message': 'Mitigate two Log4j vulnerabilities in Apache Storm\n\nThe Log4j version was bumped on GitHub [1] but it is still pending\ninclusion in a release of Apache Storm.\n\nApply the alternative mitigation recommended by Log4j [2] of removing\nthe JndiLookup class from the classpath.\n\n[1] https://github.com/apache/storm/pull/3427\n[2] https://logging.apache.org/log4j/2.x/security.html\n\nChange-Id: Ib3ecd73f9e39e320acb2c5f0962b8af9b1a817e9\n'}]",3,824651,448e4f56aa6218a66b0074329d322c0b6089b2e6,16,3,1,15197,,,0,"Mitigate two Log4j vulnerabilities in Apache Storm

The Log4j version was bumped on GitHub [1] but it is still pending
inclusion in a release of Apache Storm.

Apply the alternative mitigation recommended by Log4j [2] of removing
the JndiLookup class from the classpath.

[1] https://github.com/apache/storm/pull/3427
[2] https://logging.apache.org/log4j/2.x/security.html

Change-Id: Ib3ecd73f9e39e320acb2c5f0962b8af9b1a817e9
",git fetch https://review.opendev.org/openstack/kolla refs/changes/51/824651/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/storm-log4j-vulnerability-mitigation-6746a8a0bb329485.yaml', 'docker/storm/storm-base/Dockerfile.j2']",2,448e4f56aa6218a66b0074329d322c0b6089b2e6,apache-storm," 'zip', 'zip',# Mitigation for CVE-2021-44228 and CVE-2021-45046: remove the JndiLookup class # from the classpath RUN zip -q -d /opt/storm/lib/log4j-core-*.jar org/apache/logging/log4j/core/lookup/JndiLookup.class",,10,0
openstack%2Fci-log-processing~master~I6a209f180cbd95eeb52296d138e36edd90cd952d,openstack/ci-log-processing,master,I6a209f180cbd95eeb52296d138e36edd90cd952d,Change container image build workflow,MERGED,2022-01-13 14:56:48.000000000,2022-01-21 16:21:18.000000000,2022-01-21 16:19:31.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9311}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-13 14:56:48.000000000', 'files': ['loggearman/Dockerfile', 'Dockerfile'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/1a9763aaf4eae399cb0afcdbf437a6a1bedf798b', 'message': 'Change container image build workflow\n\nCurrent logscraper and loggearman container images were\nbuild on Debian buster release [1] and it was using multiple scripts [2]\nto install projects.\nThis commit is simplyfying the Dockerfiles and replacing container base\nimage from Debian buster to Centos 8 stream.\n\n[1] https://opendev.org/opendev/system-config/src/branch/master/docker/python-builder/Dockerfile#L19\n[2] https://opendev.org/opendev/system-config/src/branch/master/docker/python-builder\n\nChange-Id: I6a209f180cbd95eeb52296d138e36edd90cd952d\n'}]",0,824589,1a9763aaf4eae399cb0afcdbf437a6a1bedf798b,9,5,1,20676,,,0,"Change container image build workflow

Current logscraper and loggearman container images were
build on Debian buster release [1] and it was using multiple scripts [2]
to install projects.
This commit is simplyfying the Dockerfiles and replacing container base
image from Debian buster to Centos 8 stream.

[1] https://opendev.org/opendev/system-config/src/branch/master/docker/python-builder/Dockerfile#L19
[2] https://opendev.org/opendev/system-config/src/branch/master/docker/python-builder

Change-Id: I6a209f180cbd95eeb52296d138e36edd90cd952d
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/89/824589/1 && git format-patch -1 --stdout FETCH_HEAD,"['Dockerfile', 'loggearman/Dockerfile']",2,1a9763aaf4eae399cb0afcdbf437a6a1bedf798b,,# Copyright (C) 2022 Red HatFROM quay.io/centos/centos:stream8ENV PATH=~/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin RUN groupadd loggearman && \ useradd --home-dir /home/loggearman -g loggearman loggearman RUN dnf update -y && \ dnf install -y python3 python3-setuptools \ python3-devel python3-wheel \ python3-pip git RUN cd /tmp/src && \ pip3 install -r requirements.txt && \ python3 setup.py install && \ rm -rf /tmp/src RUN dnf remove -y python3-devel git && \ dnf autoremove -y && \ dnf clean all && \ rm -rf ~/.cache/pip USER loggearman,FROM docker.io/opendevorg/python-builder:3.8 as builderRUN assemble FROM docker.io/opendevorg/python-base:3.8 as loggearman COPY --from=builder /output/ /output RUN /output/install-from-bindep,42,11
openstack%2Ftripleo-common~master~Ia06c6770ea567656b5ce380826bdb120ca32a1a8,openstack/tripleo-common,master,Ia06c6770ea567656b5ce380826bdb120ca32a1a8,Reinstall centos-stream-release from centos repos,MERGED,2022-01-18 05:50:42.000000000,2022-01-21 16:20:24.000000000,2022-01-21 16:18:19.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-01-18 05:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a873ea95d2b691afbc1130d5510a867bef6116dd', 'message': '[WIP] Install centos-stream-release\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia06c6770ea567656b5ce380826bdb120ca32a1a8\n'}, {'number': 2, 'created': '2022-01-18 06:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5a76fa0161a33aa917b3ffa64f714ca1917b56df', 'message': 'Install centos-stream-release from centos repos\n\nIn CentOS Stream 8 and 9 container image, centos-stream-release\npackage is already available in the container image. But in UBI,\nit is not available. It can be installed from the base OS repo.\n\nIt removes the logic of downloading the centos-stream-release\nrpm and installing it. As it was added earlier when we were\nadding the initial support for EL9.\n\nCloses-Bug: #1958202\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia06c6770ea567656b5ce380826bdb120ca32a1a8\n'}, {'number': 3, 'created': '2022-01-18 07:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bdcb27639d6b282d730d410e4bba722aa3034c29', 'message': 'Install centos-stream-release from centos repos\n\nIn CentOS Stream 8 and 9 container image, centos-stream-release\npackage is already available in the container image. But in UBI,\nit is not available. It can be installed from the base OS repo.\n\nIt removes the logic of downloading the centos-stream-release\nrpm and installing it. As it was added earlier when we were\nadding the initial support for EL9.\n\nsince redhat-release is a part of centos-stream-release\npackage so we donot need to install explicitly.\n\nCloses-Bug: #1958202\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia06c6770ea567656b5ce380826bdb120ca32a1a8\n'}, {'number': 4, 'created': '2022-01-18 08:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d8b334ec27ec15e698f24d724fa880c2a0e75d21', 'message': 'Install centos-stream-release from centos repos\n\nIn CentOS Stream 8 and 9 container image, centos-stream-release\npackage is already available in the container image. But in UBI,\nit is not available. It can be installed from the base OS repo.\n\nIt removes the logic of downloading the centos-stream-release\nrpm and installing it. As it was added earlier when we were\nadding the initial support for EL9.\n\nsince redhat-release is a part of centos-stream-release\npackage so we donot need to install explicitly.\n\nCloses-Bug: #1958202\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia06c6770ea567656b5ce380826bdb120ca32a1a8\n'}, {'number': 5, 'created': '2022-01-18 09:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/915fc4c2d7851a4bcad6fe8b3ed02f380c3db5f5', 'message': ""Install centos-stream-release from centos repos\n\nIn CentOS Stream 8 and 9 container image, centos-stream-release\npackage is already available in the container image. But in UBI,\nit is not available. It can be installed from the base OS repo.\n\nIt removes the logic of downloading the centos-stream-release\nrpm and installing it. As it was added earlier when we were\nadding the initial support for EL9.\n\nsince redhat-release is a part of centos-stream-release\nIn UBI 8, redhat-release is a seperate package, so it's rpm\nneeds to be removed otherwise it will end up with skip broken\npackage.\n\nCloses-Bug: #1958202\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia06c6770ea567656b5ce380826bdb120ca32a1a8\n""}, {'number': 6, 'created': '2022-01-18 13:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/69f2a78e259e1ec4951a67eeb704dd23a2db89c0', 'message': ""reInstall centos-stream-release from centos repos\n\nIn CentOS Stream 8 and 9 container image, centos-stream-release\npackage is already available in the container image. But in UBI,\nit is not available. It can be installed from the base OS repo.\n\nIt removes the logic of downloading the centos-stream-release\nrpm and installing it. As it was added earlier when we were\nadding the initial support for EL9.\n\nsince redhat-release is a part of centos-stream-release\nIn UBI 8, redhat-release is a seperate package, so it's rpm\nneeds to be removed otherwise it will end up with skip broken\npackage.\n\nOn removing redhat-release, /etc/os-release file also gets deleted.\nSo we need to first remove redhat-release rpm if present and then\nreinstall centos-stream-release package.\n\nCloses-Bug: #1958202\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia06c6770ea567656b5ce380826bdb120ca32a1a8\n""}, {'number': 7, 'created': '2022-01-18 14:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/165dd6c1de536b382e3d5ca078348eff806d172b', 'message': ""Reinstall centos-stream-release from centos repos\n\nIn CentOS Stream 8 and 9 container image, centos-stream-release\npackage is already available in the container image. But in UBI,\nit is not available. It can be installed from the base OS repo.\n\nIt removes the logic of downloading the centos-stream-release\nrpm and installing it. As it was added earlier when we were\nadding the initial support for EL9.\n\nsince redhat-release is a part of centos-stream-release\nIn UBI 8, redhat-release is a seperate package, so it's rpm\nneeds to be removed otherwise it will end up with skip broken\npackage.\n\nOn removing redhat-release, /etc/os-release file also gets deleted.\nSo we need to first remove redhat-release rpm if present and then\nreinstall centos-stream-release package.\n\nCloses-Bug: #1958202\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia06c6770ea567656b5ce380826bdb120ca32a1a8\n""}, {'number': 8, 'created': '2022-01-18 15:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c5aeb58cf868811a3be6b2becc9c8d2a05864e4b', 'message': ""Reinstall centos-stream-release from centos repos\n\nIn CentOS Stream 8 and 9 container image, centos-stream-release\npackage is already available in the container image. But in UBI,\nit is not available. It can be installed from the base OS repo.\n\nIt removes the logic of downloading the centos-stream-release\nrpm and installing it. As it was added earlier when we were\nadding the initial support for EL9.\n\nsince redhat-release is a part of centos-stream-release\nIn UBI 8, redhat-release is a seperate package, so it's rpm\nneeds to be removed otherwise it will end up with skip broken\npackage.\n\nOn removing redhat-release, /etc/os-release file also gets deleted.\nSo we need to first remove redhat-release rpm if present and then\ninstall centos-stream-release package.\n\nIt also removes dnf-core-plugins package installation as we donot\nneed to download the centos-stream-release rpm.\n\nCloses-Bug: #1958202\nRelated-Bug: #1958240\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia06c6770ea567656b5ce380826bdb120ca32a1a8\n""}, {'number': 9, 'created': '2022-01-19 13:03:25.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b09fb3fef0896e812ca9ce3e6dc74f297494203a', 'message': ""Reinstall centos-stream-release from centos repos\n\nIn CentOS Stream 8 and 9 container image, centos-stream-release\npackage is already available in the container image. But in UBI,\nit is not available. It can be installed from the base OS repo.\n\nIt removes the logic of downloading the centos-stream-release\nrpm and installing it. As it was added earlier when we were\nadding the initial support for EL9.\n\nsince redhat-release is a part of centos-stream-release\nIn UBI 8, redhat-release is a seperate package, so it's rpm\nneeds to be removed otherwise it will end up with skip broken\npackage.\n\nOn removing redhat-release, /etc/os-release file also gets deleted.\nSo we need to first remove redhat-release rpm if present and then\ninstall centos-stream-release package.\n\nIt also removes dnf-core-plugins package installation as we donot\nneed to download the centos-stream-release rpm.\n\nCloses-Bug: #1958202\nRelated-Bug: #1958240\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia06c6770ea567656b5ce380826bdb120ca32a1a8\n""}]",30,825038,b09fb3fef0896e812ca9ce3e6dc74f297494203a,53,11,9,12393,,,0,"Reinstall centos-stream-release from centos repos

In CentOS Stream 8 and 9 container image, centos-stream-release
package is already available in the container image. But in UBI,
it is not available. It can be installed from the base OS repo.

It removes the logic of downloading the centos-stream-release
rpm and installing it. As it was added earlier when we were
adding the initial support for EL9.

since redhat-release is a part of centos-stream-release
In UBI 8, redhat-release is a seperate package, so it's rpm
needs to be removed otherwise it will end up with skip broken
package.

On removing redhat-release, /etc/os-release file also gets deleted.
So we need to first remove redhat-release rpm if present and then
install centos-stream-release package.

It also removes dnf-core-plugins package installation as we donot
need to download the centos-stream-release rpm.

Closes-Bug: #1958202
Related-Bug: #1958240

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ia06c6770ea567656b5ce380826bdb120ca32a1a8
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/38/825038/4 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,a873ea95d2b691afbc1130d5510a867bef6116dd,cs9, if [ '{{ tcib_distro }}' == 'centos' ];then dnf -y install dnf-plugins-core centos-stream-release &&, if [ '{{ tcib_distro }}' == 'centos' ];then dnf -y install dnf-plugins-core && dnf download centos*release &&,1,2
openstack%2Fswift~master~I58fe5d15f594d768e0324a2d9ccee9aca17e37b9,openstack/swift,master,I58fe5d15f594d768e0324a2d9ccee9aca17e37b9,Proxy: override user_agent with swift.user-agent,ABANDONED,2022-01-21 07:26:53.000000000,2022-01-21 16:18:37.000000000,,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 07:26:53.000000000', 'files': ['test/unit/obj/test_expirer.py', 'test/unit/common/test_internal_client.py', 'swift/common/internal_client.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/67be42a2fc21bbb7c20892ab4ddda86e13ed6da8', 'message': ""Proxy: override user_agent with swift.user-agent\n\n* Alternative!\n  See main Change-Id I5f7bf65b4e747b5a93b79328fac640b791ecdc95\n\n* The tests to check user-agent are removed for the draft review!\n\nThe proxy currently _ALWAYS_ overrides any user_agent in requests with\n`proxy-server <pid>`. This is what we want for any normal request. But\nwhen using the internal client, which itself uses it's own proxy server,\nwe'd rather use the internal client's defined user_agent, so we can\ntrack the source of the request in logs.\n\nThis patch adds a swift.user_agent to the request, so proxy\nwill use this as a user_agent in a request.\n\nChange-Id: I58fe5d15f594d768e0324a2d9ccee9aca17e37b9\nCloses-Bug: #1951304\n""}]",1,825713,67be42a2fc21bbb7c20892ab4ddda86e13ed6da8,5,2,1,597,,,0,"Proxy: override user_agent with swift.user-agent

* Alternative!
  See main Change-Id I5f7bf65b4e747b5a93b79328fac640b791ecdc95

* The tests to check user-agent are removed for the draft review!

The proxy currently _ALWAYS_ overrides any user_agent in requests with
`proxy-server <pid>`. This is what we want for any normal request. But
when using the internal client, which itself uses it's own proxy server,
we'd rather use the internal client's defined user_agent, so we can
track the source of the request in logs.

This patch adds a swift.user_agent to the request, so proxy
will use this as a user_agent in a request.

Change-Id: I58fe5d15f594d768e0324a2d9ccee9aca17e37b9
Closes-Bug: #1951304
",git fetch https://review.opendev.org/openstack/swift refs/changes/13/825713/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_expirer.py', 'test/unit/common/test_internal_client.py', 'swift/common/internal_client.py', 'swift/proxy/controllers/base.py']",4,67be42a2fc21bbb7c20892ab4ddda86e13ed6da8,c819387_alt1," headers['user-agent'] = \ orig_req.environ.get('swift.user-agent', 'proxy-server %s' % os.getpid())", headers['user-agent'] = 'proxy-server %s' % os.getpid(),129,152
openstack%2Ftripleo-puppet-elements~master~I846177ab6bade1ff31923a662392f58297369e5c,openstack/tripleo-puppet-elements,master,I846177ab6bade1ff31923a662392f58297369e5c,Update overcloud-agent element pkg-map,MERGED,2022-01-19 07:22:18.000000000,2022-01-21 16:18:26.000000000,2022-01-21 16:18:26.000000000,"[{'_account_id': 4571}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-19 07:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/8b72aa4cb1d7ddf0b9f318cf640b72a81ff4632e', 'message': ""Add config for EL9 in overcloud-agent element\n\nWith this patch, We are adding config for EL9 in overcloud-agent\nelement's pkg-map following EL8 example in same file.\n\nChange-Id: I846177ab6bade1ff31923a662392f58297369e5c\n""}, {'number': 2, 'created': '2022-01-20 08:41:14.000000000', 'files': ['elements/overcloud-agent/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/29988ab34ba35dffa9e4402830bdfe4b9cd12e79', 'message': 'Update overcloud-agent element pkg-map\n\nUpdating defaults to reflect latest release and removing\nthe ""release"" section as we don\'t need to handle exceptions\nseparetely now.\n\nChange-Id: I846177ab6bade1ff31923a662392f58297369e5c\n'}]",9,825263,29988ab34ba35dffa9e4402830bdfe4b9cd12e79,26,7,2,29775,,,0,"Update overcloud-agent element pkg-map

Updating defaults to reflect latest release and removing
the ""release"" section as we don't need to handle exceptions
separetely now.

Change-Id: I846177ab6bade1ff31923a662392f58297369e5c
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/63/825263/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-agent/pkg-map'],1,8b72aa4cb1d7ddf0b9f318cf640b72a81ff4632e,cs9," }, ""9"": { ""python-heat-agent"": ""python3-heat-agent"" }, ""9"": { ""python-heat-agent"": ""python3-heat-agent""",,6,0
openstack%2Ftripleo-image-elements~master~I683050dbceb79c9123fcefb16e34dc6085c93d85,openstack/tripleo-image-elements,master,I683050dbceb79c9123fcefb16e34dc6085c93d85,delorean-repo remove yum_plugin_priorities_package,MERGED,2022-01-21 00:36:45.000000000,2022-01-21 16:18:24.000000000,2022-01-21 16:18:24.000000000,"[{'_account_id': 4571}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-01-21 00:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/3710aed2f0e6261ee542b37987e3940e5eba43b1', 'message': 'delorean-repo remove yum_plugin_priorities_package\n\nWith this patch, we are removing yum_plugin_priorities_package\nfrom delorean-repo element as a part of refactoring\nto only support centos/rhel 8/9.\n\nThis repo have stable branches, so train builds should be using\nstable/train of tripleo-image-elements.\n\nChange-Id: I683050dbceb79c9123fcefb16e34dc6085c93d85\n'}, {'number': 2, 'created': '2022-01-21 00:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/82cc0c272a22b626a0ca44965c190d4d11f8c0ad', 'message': 'delorean-repo remove yum_plugin_priorities_package\n\nWith this patch, we are removing yum_plugin_priorities_package\nfrom delorean-repo element as a part of refactoring\nto only support centos/rhel 8/9.\n\nThis repo have stable branches, so train builds should be using\nstable/train of tripleo-image-elements.\n\nChange-Id: I683050dbceb79c9123fcefb16e34dc6085c93d85\n'}, {'number': 3, 'created': '2022-01-21 00:51:53.000000000', 'files': ['elements/delorean-repo/pre-install.d/03-install-yum-priorities', 'elements/delorean-repo/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/cf9dd68ef7553f5970d049192007cc5665e6c7e7', 'message': 'delorean-repo remove yum_plugin_priorities_package\n\nWith this patch, we are removing yum_plugin_priorities_package\nfrom delorean-repo element as a part of refactoring\nto only support centos/rhel 8/9.\n\nAs these are the only thing defined in file - pkg-map and\n03-install-yum-priorities, We are dropping these files.\n\nThis repo have stable branches, so train builds should be using\nstable/train of tripleo-image-elements.\n\nChange-Id: I683050dbceb79c9123fcefb16e34dc6085c93d85\n'}]",3,825696,cf9dd68ef7553f5970d049192007cc5665e6c7e7,14,7,3,29775,,,0,"delorean-repo remove yum_plugin_priorities_package

With this patch, we are removing yum_plugin_priorities_package
from delorean-repo element as a part of refactoring
to only support centos/rhel 8/9.

As these are the only thing defined in file - pkg-map and
03-install-yum-priorities, We are dropping these files.

This repo have stable branches, so train builds should be using
stable/train of tripleo-image-elements.

Change-Id: I683050dbceb79c9123fcefb16e34dc6085c93d85
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/96/825696/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/delorean-repo/pre-install.d/03-install-yum-priorities', 'elements/delorean-repo/pkg-map']",2,3710aed2f0e6261ee542b37987e3940e5eba43b1,," ""default"": {"," ""release"": { ""centos"": { ""8"": { ""yum_plugin_priorities_package"": """" } } }, ""default"": { ""yum_plugin_priorities_package"": ""yum-plugin-priorities""",1,9
openstack%2Ftripleo-puppet-elements~master~Ica02244aedf4f4192f8aedfab82e41fdbca47e77,openstack/tripleo-puppet-elements,master,Ica02244aedf4f4192f8aedfab82e41fdbca47e77,Update overcloud-base element pkg-map,MERGED,2022-01-19 07:00:22.000000000,2022-01-21 16:18:22.000000000,2022-01-21 16:18:22.000000000,"[{'_account_id': 4571}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-19 07:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/450a169571bb11aa893e9623124eadd09c1a57b3', 'message': 'Add config for RHEL9 in overcloud-base element\n\nSimiliar change was proposed for Centos9[1]\n\n[1] https://review.opendev.org/c/openstack/tripleo-puppet-elements/+/806019\n\nChange-Id: Ica02244aedf4f4192f8aedfab82e41fdbca47e77\n'}, {'number': 2, 'created': '2022-01-19 10:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/74ee7b163ea820122b268f156c96e0cb33841b05', 'message': 'Add config for RHEL9 in overcloud-base element\n\nSimiliar change was proposed for Centos9[1]\n\n[1] https://review.opendev.org/c/openstack/tripleo-puppet-elements/+/806019\n\nChange-Id: Ica02244aedf4f4192f8aedfab82e41fdbca47e77\n'}, {'number': 3, 'created': '2022-01-20 08:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/05b8095da9b93e5f02f793d558c59a55b4997b03', 'message': 'Update overcloud-base element pkg-map\n\nUpdating defaults to reflect latest release and removing\nthe ""release"" section as we don\'t need to handle exceptions\nseparetely now.\n\nChange-Id: Ica02244aedf4f4192f8aedfab82e41fdbca47e77\n'}, {'number': 4, 'created': '2022-01-21 00:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/a9b1934bbf0c0d5c5a20db0b120595ad37a6ffcd', 'message': 'Update overcloud-base element pkg-map\n\nWith this patch, we are removing yum_plugin_priorities_package and\npython_ipaddr from overcloud-base element as a part of refactoring\nto only support centos/rhel 8/9.\n\nThis repo have stable branches, so train builds should be using\nstable/train of tripleo-puppet-elements.\n\nChange-Id: Ica02244aedf4f4192f8aedfab82e41fdbca47e77\n'}, {'number': 5, 'created': '2022-01-21 00:42:56.000000000', 'files': ['elements/overcloud-base/pre-install.d/01-install-yum-priorities', 'elements/overcloud-base/install.d/package-installs-overcloud-base', 'elements/overcloud-base/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/fce5d94e021a948efc420d8f41a1ac3a97359e86', 'message': 'Update overcloud-base element pkg-map\n\nWith this patch, we are removing yum_plugin_priorities_package and\npython_ipaddr from overcloud-base element as a part of refactoring\nto only support centos/rhel 8/9.\n\nThis repo have stable branches, so train builds should be using\nstable/train of tripleo-puppet-elements.\n\nChange-Id: Ica02244aedf4f4192f8aedfab82e41fdbca47e77\n'}]",11,825259,fce5d94e021a948efc420d8f41a1ac3a97359e86,33,7,5,29775,,,0,"Update overcloud-base element pkg-map

With this patch, we are removing yum_plugin_priorities_package and
python_ipaddr from overcloud-base element as a part of refactoring
to only support centos/rhel 8/9.

This repo have stable branches, so train builds should be using
stable/train of tripleo-puppet-elements.

Change-Id: Ica02244aedf4f4192f8aedfab82e41fdbca47e77
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/59/825259/3 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-base/pkg-map'],1,450a169571bb11aa893e9623124eadd09c1a57b3,cs9," }, ""9"": { ""yum_plugin_priorities_package"": """", ""python_ipaddr"": """" }",,5,0
openstack%2Fpuppet-nova~master~I0993e2c9ed80d476ca984edf9d6167818a1cb1bb,openstack/puppet-nova,master,I0993e2c9ed80d476ca984edf9d6167818a1cb1bb,Remove inefficient usage of autorequire,MERGED,2022-01-20 13:51:41.000000000,2022-01-21 16:17:21.000000000,2022-01-21 16:17:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-20 13:51:41.000000000', 'files': ['lib/puppet/type/nova_flavor.rb', 'lib/puppet/type/nova_aggregate.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3b47f97063ce6d971bd04ccdf33a0398dd8cf15a', 'message': 'Remove inefficient usage of autorequire\n\nThis change removes inefficient usage of autorequire, with the wrong\nresource name(The resource name should include section name) in\nsome resource types. The necessary dependency is already enforced by\nanother autorequire which depends on service::end anchor.\n\nChange-Id: I0993e2c9ed80d476ca984edf9d6167818a1cb1bb\n'}]",1,825504,3b47f97063ce6d971bd04ccdf33a0398dd8cf15a,11,3,1,9816,,,0,"Remove inefficient usage of autorequire

This change removes inefficient usage of autorequire, with the wrong
resource name(The resource name should include section name) in
some resource types. The necessary dependency is already enforced by
another autorequire which depends on service::end anchor.

Change-Id: I0993e2c9ed80d476ca984edf9d6167818a1cb1bb
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/04/825504/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/nova_flavor.rb', 'lib/puppet/type/nova_aggregate.rb']",2,3b47f97063ce6d971bd04ccdf33a0398dd8cf15a,,," autorequire(:nova_config) do ['auth_url', 'project_name', 'username', 'password'] end ",0,8
openstack%2Fkolla-ansible~master~I2e7f2743d58f429d64cc40a1cdc02148f8028ad3,openstack/kolla-ansible,master,I2e7f2743d58f429d64cc40a1cdc02148f8028ad3,DNM: run all jobs with keystone scope enforced,ABANDONED,2022-01-20 09:14:44.000000000,2022-01-21 16:16:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-20 09:14:44.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d3523966b74b7fbf459327d0b27a852b52f048ae', 'message': 'DNM: run all jobs with keystone scope enforced\n\nChange-Id: I2e7f2743d58f429d64cc40a1cdc02148f8028ad3\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/825406\n'}]",0,825441,d3523966b74b7fbf459327d0b27a852b52f048ae,4,1,1,14826,,,0,"DNM: run all jobs with keystone scope enforced

Change-Id: I2e7f2743d58f429d64cc40a1cdc02148f8028ad3
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/825406
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/41/825441/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,d3523966b74b7fbf459327d0b27a852b52f048ae,, test: me,,1,0
openstack%2Felection~master~I263da27b3c39a5816e6c8961027337b02e7331d7,openstack/election,master,I263da27b3c39a5816e6c8961027337b02e7331d7,Remove hardcoded extlinks link from doc/source/conf,MERGED,2022-01-19 19:08:31.000000000,2022-01-21 16:00:57.000000000,2022-01-21 15:59:18.000000000,"[{'_account_id': 2033}, {'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 19:08:31.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/election/commit/1654740eee522e0db5f4b00df027d9d46d11dfae', 'message': ""Remove hardcoded extlinks link from doc/source/conf\n\nDoc job is failing because sphinx 4.4.0\nraise error for hardcoded extlinks link\n- https://github.com/sphinx-doc/sphinx/pull/9800\n\nWarning, treated as error for extlinks defined in the\ndoc/source/conf.py\n\nTo fix those error we need to replace all the 'https:/opendev.org/openstack/'\nwhich is defined as extlinks in all the ptl.rst files from previous\nrelease elections too. I think we just remove to define it as extlinks\nand keep full complete url in doc which does not harm.\n\nChange-Id: I263da27b3c39a5816e6c8961027337b02e7331d7\n""}]",0,825382,1654740eee522e0db5f4b00df027d9d46d11dfae,9,4,1,8556,,,0,"Remove hardcoded extlinks link from doc/source/conf

Doc job is failing because sphinx 4.4.0
raise error for hardcoded extlinks link
- https://github.com/sphinx-doc/sphinx/pull/9800

Warning, treated as error for extlinks defined in the
doc/source/conf.py

To fix those error we need to replace all the 'https:/opendev.org/openstack/'
which is defined as extlinks in all the ptl.rst files from previous
release elections too. I think we just remove to define it as extlinks
and keep full complete url in doc which does not harm.

Change-Id: I263da27b3c39a5816e6c8961027337b02e7331d7
",git fetch https://review.opendev.org/openstack/election refs/changes/82/825382/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,1654740eee522e0db5f4b00df027d9d46d11dfae,,,"# Define shorthand roles for making links to common destinations. extlinks = { 'repo': ('https://opendev.org/openstack/%s', ''), } ",0,5
openstack%2Fovn-octavia-provider~stable%2Fwallaby~I95860ae305c3d0c10859afb972d000328e23d614,openstack/ovn-octavia-provider,stable/wallaby,I95860ae305c3d0c10859afb972d000328e23d614,Set listeners back to ACTIVE upon pool/member action failures,MERGED,2022-01-19 12:07:19.000000000,2022-01-21 15:34:32.000000000,2022-01-21 15:32:23.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-01-19 12:07:19.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/f0b44088132dd84a2dea3d07d6e44fd01008a18d', 'message': 'Set listeners back to ACTIVE upon pool/member action failures\n\nThis patch ensure the listeners are set back from PENDING_UPDATE\nto ACTIVE in case of member or pool update failure.\n\nCloses-Bug: #1956745\nChange-Id: I95860ae305c3d0c10859afb972d000328e23d614\n(cherry picked from commit 4d01470f5e397bb6de1b10db9f839fa72697ff6b)\n'}]",0,825215,f0b44088132dd84a2dea3d07d6e44fd01008a18d,8,5,1,23567,,,0,"Set listeners back to ACTIVE upon pool/member action failures

This patch ensure the listeners are set back from PENDING_UPDATE
to ACTIVE in case of member or pool update failure.

Closes-Bug: #1956745
Change-Id: I95860ae305c3d0c10859afb972d000328e23d614
(cherry picked from commit 4d01470f5e397bb6de1b10db9f839fa72697ff6b)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/15/825215/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/helper.py']",2,f0b44088132dd84a2dea3d07d6e44fd01008a18d,," pool_listeners = [] try: pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status pool_listeners = [] try: pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status pool_listeners = [] pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status pool_listeners = [] pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status pool_listeners = [] pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status"," try: listener_id = None listener_id = key.split('_')[1] if listener_id: status[constants.LISTENERS] = [ {constants.ID: listener_id, constants.PROVISIONING_STATUS: constants.ACTIVE}] try: pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status",48,36
openstack%2Fansible-role-qdrouterd~stable%2Fvictoria~I2991e5f58f086ace6e5238b28450a5503129e49c,openstack/ansible-role-qdrouterd,stable/victoria,I2991e5f58f086ace6e5238b28450a5503129e49c,Remove centos-8 job and tidy role metadata,MERGED,2022-01-13 13:30:49.000000000,2022-01-21 14:41:37.000000000,2022-01-21 14:36:43.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-13 13:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/00506e8024f93c0aa9e1518f2761b8ae9a989970', 'message': 'Remove centos-8 job and tidy role metadata\n\nChange-Id: I2991e5f58f086ace6e5238b28450a5503129e49c\n(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)\n'}, {'number': 2, 'created': '2022-01-13 14:39:48.000000000', 'files': ['zuul.d/project.yaml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/16e63a72369911609d4c110586617ddc76fc6c9d', 'message': 'Remove centos-8 job and tidy role metadata\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/824541\nChange-Id: I2991e5f58f086ace6e5238b28450a5503129e49c\n(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)\n'}]",0,824538,16e63a72369911609d4c110586617ddc76fc6c9d,13,3,2,25023,,,0,"Remove centos-8 job and tidy role metadata

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/824541
Change-Id: I2991e5f58f086ace6e5238b28450a5503129e49c
(cherry picked from commit 8269806b9a5a152934987fc97727ee443fff1330)
",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/38/824538/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'meta/main.yml']",2,00506e8024f93c0aa9e1518f2761b8ae9a989970,osa/remove-centos8, - focal, - xenial,1,3
openstack%2Fnetworking-ovn~stable%2Ftrain~I136bffcf6a6adc7b99eff4e7b7fb649010274589,openstack/networking-ovn,stable/train,I136bffcf6a6adc7b99eff4e7b7fb649010274589,Set listeners back to ACTIVE upon pool/member action failures,MERGED,2022-01-19 12:32:03.000000000,2022-01-21 14:36:06.000000000,2022-01-21 14:33:23.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-01-19 12:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/08b1fb31e52e9e58b38813390b7724d8bf70a4cb', 'message': 'Set listeners back to ACTIVE upon pool/member action failures\n\nThis patch ensure the listeners are set back from PENDING_UPDATE\nto ACTIVE in case of member or pool update failure.\n\nFrom ovn-octavia-provider master:\n    https://review.opendev.org/c/openstack/ovn-octavia-provider/+/823544\n\nCloses-Bug: #1956745\n(manually cherri picked from commit\n4d01470f5e397bb6de1b10db9f839fa72697ff6b)\n\nChange-Id: I136bffcf6a6adc7b99eff4e7b7fb649010274589\n'}, {'number': 2, 'created': '2022-01-19 13:02:52.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a1e6e4bb9900fa2a117a8c299e0b1087a63ab54f', 'message': 'Set listeners back to ACTIVE upon pool/member action failures\n\nThis patch ensure the listeners are set back from PENDING_UPDATE\nto ACTIVE in case of member or pool update failure.\n\nFrom ovn-octavia-provider master:\n    https://review.opendev.org/c/openstack/ovn-octavia-provider/+/823544\n\nCloses-Bug: #1956745\n(manually cherry picked from commit\n4d01470f5e397bb6de1b10db9f839fa72697ff6b)\n\nChange-Id: I136bffcf6a6adc7b99eff4e7b7fb649010274589\n'}]",1,825303,a1e6e4bb9900fa2a117a8c299e0b1087a63ab54f,9,5,2,23567,,,0,"Set listeners back to ACTIVE upon pool/member action failures

This patch ensure the listeners are set back from PENDING_UPDATE
to ACTIVE in case of member or pool update failure.

From ovn-octavia-provider master:
    https://review.opendev.org/c/openstack/ovn-octavia-provider/+/823544

Closes-Bug: #1956745
(manually cherry picked from commit
4d01470f5e397bb6de1b10db9f839fa72697ff6b)

Change-Id: I136bffcf6a6adc7b99eff4e7b7fb649010274589
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/03/825303/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py']",2,08b1fb31e52e9e58b38813390b7724d8bf70a4cb,bug/1956745," 'provisioning_status': 'ACTIVE'}], 'listeners': []", 'provisioning_status': 'ACTIVE'}],43,39
openstack%2Fironic~master~Ia79ad659098c3e68432214782aeb5b8a9df99eb0,openstack/ironic,master,Ia79ad659098c3e68432214782aeb5b8a9df99eb0,Fix Mock objects as specs,MERGED,2021-12-10 06:30:50.000000000,2022-01-21 14:22:37.000000000,2022-01-21 14:20:30.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-10 06:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ef0e38e6446f6ca25c8bca90bb54ba651ac69477', 'message': '[WIP] Fix Mock objects as specs\n\nFor more info see https://bugs.python.org/issue43478\n\nChange-Id: Ia79ad659098c3e68432214782aeb5b8a9df99eb0\nStory: 2009736\nTask: 44161\n'}, {'number': 2, 'created': '2021-12-10 13:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa71281a3060ac5d189273f26875a56eeae90f50', 'message': '[WIP] Fix Mock objects as specs\n\nFor more info see https://bugs.python.org/issue43478\n\nChange-Id: Ia79ad659098c3e68432214782aeb5b8a9df99eb0\nStory: 2009736\nTask: 44161\n'}, {'number': 3, 'created': '2021-12-10 13:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d101cf47d10d355b320bf1f149801ba18dad9a81', 'message': '[WIP] Fix Mock objects as specs\n\nFor more info see https://bugs.python.org/issue43478\n\nChange-Id: Ia79ad659098c3e68432214782aeb5b8a9df99eb0\nStory: 2009736\nTask: 44161\n'}, {'number': 4, 'created': '2021-12-10 13:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/133efaed1abc58f5b2475aec69a2028f5d1013be', 'message': 'Fix Mock objects as specs\n\nIn Python 3.10 is not possible to use Mock objects as specs for Mock\ninstances anymore.\n\nFor more info see https://bugs.python.org/issue43478\n\nChange-Id: Ia79ad659098c3e68432214782aeb5b8a9df99eb0\nStory: 2009736\nTask: 44161\n'}, {'number': 5, 'created': '2021-12-13 08:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae81470eb992a301d7709d3692f8c5b15ecf7e22', 'message': 'Fix Mock objects as specs\n\nIn Python 3.10 is not possible to use Mock objects as specs for Mock\ninstances anymore.\n\nFor more info see https://bugs.python.org/issue43478\n\nChange-Id: Ia79ad659098c3e68432214782aeb5b8a9df99eb0\nStory: 2009736\nTask: 44161\n'}, {'number': 6, 'created': '2021-12-13 15:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae7c27d466b993716661f43d8ff42250d2419d81', 'message': '[WIP] Fix Mock objects as specs\n\nIn Python 3.10 is not possible to use Mock objects as specs for Mock\ninstances anymore.\n\nFor more info see https://bugs.python.org/issue43478\n\nChange-Id: Ia79ad659098c3e68432214782aeb5b8a9df99eb0\nStory: 2009736\nTask: 44161\n'}, {'number': 7, 'created': '2021-12-14 10:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7db73cdc02b2c1eb1de5a361a34efef6fdc4e2b6', 'message': '[WIP] Fix Mock objects as specs\n\nIn Python 3.10 is not possible to use Mock objects as specs for Mock\ninstances anymore.\n\nFor more info see https://bugs.python.org/issue43478\n\nChange-Id: Ia79ad659098c3e68432214782aeb5b8a9df99eb0\nStory: 2009736\nTask: 44161\n'}, {'number': 8, 'created': '2021-12-14 14:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fe540d4eda76731eae2813307ad57a8e6b2f91d4', 'message': '[WIP] Fix Mock objects as specs\n\nIn Python 3.10 is not possible to use Mock objects as specs for Mock\ninstances anymore.\n\nFor more info see https://bugs.python.org/issue43478\n\nChange-Id: Ia79ad659098c3e68432214782aeb5b8a9df99eb0\nStory: 2009736\nTask: 44161\n'}, {'number': 9, 'created': '2021-12-14 14:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/10da28ac2e410b98e17c9981d41ab38e6b85a496', 'message': '[WIP] Fix Mock objects as specs\n\nIn Python 3.10 is not possible to use Mock objects as specs for Mock\ninstances anymore.\n\nFor more info see https://bugs.python.org/issue43478\n\nChange-Id: Ia79ad659098c3e68432214782aeb5b8a9df99eb0\nStory: 2009736\nTask: 44161\n'}, {'number': 10, 'created': '2021-12-14 15:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c4102f42c8f89c14c9b1444cf82a3ca8eba3d3b9', 'message': '[WIP] Fix Mock objects as specs\n\nIn Python 3.10 is not possible to use Mock objects as specs for Mock\ninstances anymore.\n\nFor more info see https://bugs.python.org/issue43478\n\nChange-Id: Ia79ad659098c3e68432214782aeb5b8a9df99eb0\nStory: 2009736\nTask: 44161\n'}, {'number': 11, 'created': '2021-12-15 05:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f046df6e2d270373873a4dee8769f765a8e21ab4', 'message': '[WIP] Fix Mock objects as specs\n\nIn Python 3.10 is not possible to use Mock objects as specs for Mock\ninstances anymore.\n\nFor more info see https://bugs.python.org/issue43478\n\nChange-Id: Ia79ad659098c3e68432214782aeb5b8a9df99eb0\nStory: 2009736\nTask: 44161\n'}, {'number': 12, 'created': '2021-12-15 11:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/06b1cc9505583912b7cac5a00d2828f3fd90e6c3', 'message': '[WIP] Fix Mock objects as specs\n\nIn Python 3.10 is not possible to use Mock objects as specs for Mock\ninstances anymore.\n\nFor more info see https://bugs.python.org/issue43478\n\nChange-Id: Ia79ad659098c3e68432214782aeb5b8a9df99eb0\nStory: 2009736\nTask: 44161\n'}, {'number': 13, 'created': '2021-12-15 13:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3e1d96d43f81d568552717ed9dd9e5fcc555fc24', 'message': '[WIP] Fix Mock objects as specs\n\nIn Python 3.10 is not possible to use Mock objects as specs for Mock\ninstances anymore.\n\nFor more info see https://bugs.python.org/issue43478\n\nChange-Id: Ia79ad659098c3e68432214782aeb5b8a9df99eb0\nStory: 2009736\nTask: 44161\n'}, {'number': 14, 'created': '2021-12-15 13:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a57765e2d4c52a66515f5ca22b84422b16c7cb99', 'message': '[WIP] Fix Mock objects as specs\n\nIn Python 3.10 is not possible to use Mock objects as specs for Mock\ninstances anymore.\n\nFor more info see https://bugs.python.org/issue43478\n\nChange-Id: Ia79ad659098c3e68432214782aeb5b8a9df99eb0\nStory: 2009736\nTask: 44161\n'}, {'number': 15, 'created': '2021-12-15 14:59:19.000000000', 'files': ['ironic/tests/unit/drivers/modules/irmc/test_bios.py', 'ironic/tests/unit/drivers/modules/irmc/test_raid.py', 'ironic/tests/unit/drivers/modules/drac/test_common.py', 'ironic/tests/unit/drivers/modules/ibmc/test_management.py', 'ironic/tests/unit/drivers/modules/ilo/test_firmware_processor.py', 'ironic/tests/unit/drivers/modules/ibmc/test_vendor.py', 'ironic/tests/unit/drivers/modules/ilo/test_common.py', 'ironic/tests/unit/common/test_nova.py', 'ironic/tests/unit/drivers/modules/ibmc/test_power.py', 'ironic/tests/unit/drivers/modules/xclarity/test_common.py', 'ironic/tests/unit/drivers/modules/ibmc/test_raid.py', 'ironic/tests/unit/common/test_glance_service.py', 'ironic/tests/unit/drivers/modules/ibmc/test_utils.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f4c37bf11914f01e0deb67844000f806418ac59b', 'message': 'Fix Mock objects as specs\n\nIn Python 3.10 is not possible to use Mock objects as specs for Mock\ninstances anymore.\n\nFor more info see https://bugs.python.org/issue43478\n\nChange-Id: Ia79ad659098c3e68432214782aeb5b8a9df99eb0\nStory: 2009736\nTask: 44161\n'}]",18,821370,f4c37bf11914f01e0deb67844000f806418ac59b,59,4,15,23851,,,0,"Fix Mock objects as specs

In Python 3.10 is not possible to use Mock objects as specs for Mock
instances anymore.

For more info see https://bugs.python.org/issue43478

Change-Id: Ia79ad659098c3e68432214782aeb5b8a9df99eb0
Story: 2009736
Task: 44161
",git fetch https://review.opendev.org/openstack/ironic refs/changes/70/821370/3 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/drivers/modules/xclarity/test_common.py'],1,ef0e38e6446f6ca25c8bca90bb54ba651ac69477,fix-py310issue43478," @mock.patch.object(xclarity_client, 'Client', spec=object)"," @mock.patch.object(xclarity_client, 'Client', autospec=True)",1,1
openstack%2Ftripleo-ansible~stable%2Fvictoria~I14b855f8a15afccaf4973e2a612aa7e9eae3bfa5,openstack/tripleo-ansible,stable/victoria,I14b855f8a15afccaf4973e2a612aa7e9eae3bfa5,Upgrade ansible-lint to 5.0,ABANDONED,2022-01-21 14:19:58.000000000,2022-01-21 14:20:43.000000000,,[{'_account_id': 24162}],"[{'number': 1, 'created': '2022-01-21 14:19:58.000000000', 'files': ['.ansible-lint_rules/RoleNames.py', 'galaxy.yml', '.gitignore', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/vars/mock_ceph_keys.yml', '.ansible-lint', '.pre-commit-config.yaml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/files/container-configs.yml', 'tripleo_ansible/ansible-role-requirements.yml', 'tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/templates/mock-hieradata.j2.yaml', 'requirements.yml', 'tripleo_ansible/playbooks/ceph_deactivate_mds.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fd7c34bdbd716e1b3fb211f76931a92ee9dd09e3', 'message': 'Upgrade ansible-lint to 5.0\n\n- remove role name rule as is included in newer versions\n- added .cache folder to git ignore (used by linter)\n- enabled optional yamllint run on ansible-lint\n- assured repository has a valid root requirements.yml (so linter can make use of it)\n- assured that we do not mix playbooks with non playbooks inside same folders\n- renamed undocumented ""role"" argument received by import_role to official ""name"".\n- added mocked roles/modules to avoid linter errors (ideally they should be provided by\n  requiremetns.yml).\n\nChange-Id: I14b855f8a15afccaf4973e2a612aa7e9eae3bfa5\n(cherry picked from commit af40f9ff8eac8ac7ecb2a29344362afb9db21f95)\n'}]",0,825742,fd7c34bdbd716e1b3fb211f76931a92ee9dd09e3,2,1,1,32458,,,0,"Upgrade ansible-lint to 5.0

- remove role name rule as is included in newer versions
- added .cache folder to git ignore (used by linter)
- enabled optional yamllint run on ansible-lint
- assured repository has a valid root requirements.yml (so linter can make use of it)
- assured that we do not mix playbooks with non playbooks inside same folders
- renamed undocumented ""role"" argument received by import_role to official ""name"".
- added mocked roles/modules to avoid linter errors (ideally they should be provided by
  requiremetns.yml).

Change-Id: I14b855f8a15afccaf4973e2a612aa7e9eae3bfa5
(cherry picked from commit af40f9ff8eac8ac7ecb2a29344362afb9db21f95)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/825742/1 && git format-patch -1 --stdout FETCH_HEAD,"['.ansible-lint_rules/RoleNames.py', 'galaxy.yml', '.gitignore', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/vars/mock_ceph_keys.yml', '.ansible-lint', '.pre-commit-config.yaml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/files/container-configs.yml', 'tripleo_ansible/ansible-role-requirements.yml', 'tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/templates/mock-hieradata.j2.yaml', 'requirements.yml', 'tripleo_ansible/playbooks/ceph_deactivate_mds.yaml']",13,fd7c34bdbd716e1b3fb211f76931a92ee9dd09e3,," hosts: ""{{ groups[mon_group_name|default('mons')][0]|default([]) }}"""," hosts: ""{{ groups[mon_group_name|default('mons')][0] }}""",226,61
openstack%2Fpython-tripleoclient~stable%2Fussuri~I65fdbd0ffd42411196b0b3a25690670b76dda2c8,openstack/python-tripleoclient,stable/ussuri,I65fdbd0ffd42411196b0b3a25690670b76dda2c8,Use Validations libs Client for main validation entry point,MERGED,2022-01-06 08:57:10.000000000,2022-01-21 14:15:53.000000000,2022-01-21 14:13:38.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 08:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/83ba44d29cd96e3f5cba8c72e224a34562a6cc45', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/793797\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 2, 'created': '2022-01-18 22:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/706fdd044d2a4ba5cf747ccb8c5d10bec5c79226', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/793797\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 3, 'created': '2022-01-18 22:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7588009c1cd5638fb9f20fbd006e711701b96ac5', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/793797\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 4, 'created': '2022-01-18 23:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/741271efe37a847a98637933020ee0335c98ada8', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/793797\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 5, 'created': '2022-01-18 23:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1b975deb30761abff54eb7e7ad0ba40ca2a3dbec', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/793797\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 6, 'created': '2022-01-18 23:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/74ac1c747cbd2af0a9cdcc23d5c5f82fe375057a', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/793797\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 7, 'created': '2022-01-19 07:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0de009ba782deb36a89fb3a6e0511cfb03624eed', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/793797\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 8, 'created': '2022-01-20 10:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b06509fb1dd9f7a0b3a4ea5be4dd1436da2061f0', 'message': '[Wallaby-only] Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nAlso harmonizes validations-libs version constraints.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/793797\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 9, 'created': '2022-01-20 10:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9fb7ece7b94918a460ce6f7ef3f0f2db886bdf1c', 'message': '[Ussuri-only] Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nAlso harmonizes validations-libs version constraints.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/793797\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 10, 'created': '2022-01-20 14:34:33.000000000', 'files': ['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'requirements.txt', 'test-requirements.txt', 'tripleoclient/v1/tripleo_validator.py', 'tripleoclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1eb2a99ac114faa82358c3adf9b440ecba2d5451', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/793797\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}]",10,823641,1eb2a99ac114faa82358c3adf9b440ecba2d5451,34,4,10,16515,,,0,"Use Validations libs Client for main validation entry point

This patch implement validations-libs CLI in tripleo-validator
in order to converge and get only one entry point for the validations
in tripleo and Openstack.

Depends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574
Depends-On: https://review.opendev.org/c/openstack/requirements/+/793797

Change-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8
(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/41/823641/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'requirements.txt', 'test-requirements.txt', 'tripleoclient/v1/tripleo_validator.py', 'tripleoclient/tests/fakes.py']",5,83ba44d29cd96e3f5cba8c72e224a34562a6cc45,,import logging self.LOG = logging.getLogger('FakeApp'),,95,531
openstack%2Fironic-python-agent~master~Ieb23ec91dccda39b7948e3472531712b7b2da66c,openstack/ironic-python-agent,master,Ieb23ec91dccda39b7948e3472531712b7b2da66c,WIP Refactor: create image_download module,ABANDONED,2021-12-21 16:58:32.000000000,2022-01-21 13:55:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-21 16:58:32.000000000', 'files': ['ironic_python_agent/extensions/standby.py', 'ironic_python_agent/image_download.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3b4963fe80eca37abd69901dd381cb3dcdf0cc97', 'message': 'WIP Refactor: create image_download module\n\nChange-Id: Ieb23ec91dccda39b7948e3472531712b7b2da66c\n'}]",0,822536,3b4963fe80eca37abd69901dd381cb3dcdf0cc97,3,1,1,10239,,,0,"WIP Refactor: create image_download module

Change-Id: Ieb23ec91dccda39b7948e3472531712b7b2da66c
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/36/822536/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/extensions/standby.py', 'ironic_python_agent/image_download.py']",2,3b4963fe80eca37abd69901dd381cb3dcdf0cc97,image-download,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import hashlib import os import tempfile import time from urllib import parse as urlparse from oslo_config import cfg from oslo_log import log import requests from ironic_python_agent import errors from ironic_python_agent import utils CONF = cfg.CONF LOG = log.getLogger(__name__) IMAGE_CHUNK_SIZE = 1024 * 1024 # 1MB def _download_with_proxy(image_info, url, image_id): """"""Opens a download stream for the given URL. :param image_info: Image information dictionary. :param url: The URL string to request the image from. :param image_id: Image ID or URL for logging. :raises: ImageDownloadError if the download stream was not started properly. """""" no_proxy = image_info.get('no_proxy') if no_proxy: os.environ['no_proxy'] = no_proxy proxies = image_info.get('proxies', {}) verify, cert = utils.get_ssl_client_options(CONF) resp = None for attempt in range(CONF.image_download_connection_retries + 1): try: # NOTE(TheJulia) The get request below does the following: # * Performs dns lookups, if necessary # * Opens the TCP socket to the remote host # * Negotiates TLS, if applicable # * Checks cert validity, if necessary, which may be # more tcp socket connections. # * Issues the get request and then returns back to the caller the # handler which is used to stream the data into the agent. # While this all may be at risk of transitory interrupts, most of # these socket will have timeouts applied to them, although not # exactly just as the timeout value exists. The risk in transitory # failure is more so once we've started the download and we are # processing the incoming data. resp = requests.get(url, stream=True, proxies=proxies, verify=verify, cert=cert, timeout=CONF.image_download_connection_timeout) if resp.status_code != 200: msg = ('Received status code {} from {}, expected 200. ' 'Response body: {}').format(resp.status_code, url, resp.text) raise errors.ImageDownloadError(image_id, msg) except (errors.ImageDownloadError, requests.RequestException) as e: if (attempt == CONF.image_download_connection_retries # NOTE(dtantsur): do not retry 4xx status codes or (resp and resp.status_code < 500)): raise else: LOG.warning('Unable to connect to %s, retrying. Error: %s', url, e) time.sleep(CONF.image_download_connection_retry_interval) else: break return resp def _fetch_checksum(checksum, image_info): """"""Fetch checksum from remote location, if needed."""""" if not (checksum.startswith('http://') or checksum.startswith('https://')): # Not a remote checksum, return as it is. return checksum LOG.debug('Downloading checksums file from %s', checksum) resp = _download_with_proxy(image_info, checksum, checksum).text lines = [line.strip() for line in resp.split('\n') if line.strip()] if not lines: raise errors.ImageDownloadError(checksum, ""Empty checksum file"") elif len(lines) == 1: # Special case - checksums file with only the checksum itself if ' ' not in lines[0]: return lines[0] # FIXME(dtantsur): can we assume the same name for all images? expected_fname = os.path.basename(urlparse.urlparse( image_info['urls'][0]).path) for line in lines: checksum, fname = line.strip().split(None, 1) # The star symbol designates binary mode, which is the same as text # mode on GNU systems. if fname.strip().lstrip('*') == expected_fname: return checksum.strip() raise errors.ImageDownloadError( checksum, ""Checksum file does not contain name %s"" % expected_fname) class ImageDownload: """"""Helper class that opens a HTTP connection to download an image. This class opens a HTTP connection to download an image from a URL and create an iterator so the image can be downloaded in chunks. The MD5 hash of the image being downloaded is calculated on-the-fly. """""" def __init__(self, image_info, time_obj=None): """"""Initialize an instance of the ImageDownload class. Trys each URL in image_info successively until a URL returns a successful request code. Once the object is initialized, the user may retrieve chunks of the image through the standard python iterator interface until either the image is fully downloaded, or an error is encountered. :param image_info: Image information dictionary. :param time_obj: Optional time object to indicate when the image download began. Defaults to None. If None, then time.time() will be used to find the start time of the download. :raises: ImageDownloadError if starting the image download fails for any reason. """""" self._time = time_obj or time.time() self._image_info = image_info self._request = None # Determine the hash algorithm and value will be used for calculation # and verification, fallback to md5 if algorithm is not set or not # supported. algo = image_info.get('os_hash_algo') if algo and algo in hashlib.algorithms_available: self._hash_algo = hashlib.new(algo) self._expected_hash_value = image_info.get('os_hash_value') elif image_info.get('checksum'): try: self._hash_algo = hashlib.md5() except ValueError as e: message = ('Unable to proceed with image {} as the legacy ' 'checksum indicator has been used, which makes use ' 'the MD5 algorithm. This algorithm failed to load ' 'due to the underlying operating system. Error: ' '{}').format(image_info['id'], str(e)) LOG.error(message) raise errors.RESTError(details=message) self._expected_hash_value = image_info['checksum'] else: message = ('Unable to verify image {} with available checksums. ' 'Please make sure the specified \'os_hash_algo\' ' '(currently {}) is supported by this ramdisk, or ' 'provide a md5 checksum via the \'checksum\' ' 'field'.format(image_info['id'], image_info.get('os_hash_algo'))) LOG.error(message) raise errors.RESTError(details=message) self._expected_hash_value = _fetch_checksum(self._expected_hash_value, image_info) details = [] for url in image_info['urls']: try: LOG.info(""Attempting to download image from %s"", url) self._request = _download_with_proxy(image_info, url, image_info['id']) except errors.ImageDownloadError as e: failtime = time.time() - self._time log_msg = ('URL: {}; time: {} ' 'seconds. Error: {}').format( url, failtime, e.secondary_message) LOG.warning(log_msg) details.append(log_msg) continue else: break else: details = '\n '.join(details) raise errors.ImageDownloadError(image_info['id'], details) def __iter__(self): """"""Downloads and returns the next chunk of the image. :returns: A chunk of the image. Size of chunk is IMAGE_CHUNK_SIZE which is a constant in this module. """""" self._last_chunk_time = None for chunk in self._request.iter_content(IMAGE_CHUNK_SIZE): # Per requests forum posts/discussions, iter_content should # periodically yield to the caller for the client to do things # like stopwatch and potentially interrupt the download. # While this seems weird and doesn't exactly seem to match the # patterns in requests and urllib3, it does appear to be the # case. Field testing in environments where TCP sockets were # discovered in a read hanged state were navigated with # this code. if chunk: self._last_chunk_time = time.time() self._hash_algo.update(chunk) yield chunk elif (time.time() - self._last_chunk_time > CONF.image_download_connection_timeout): LOG.error('Timeout reached waiting for a chunk of data from ' 'a remote server.') raise errors.ImageDownloadError( self._image_info['id'], 'Timed out reading next chunk from webserver') def verify_image(self, image_location): """"""Verifies the checksum of the local images matches expectations. If this function does not raise ImageChecksumError then it is very likely that the local copy of the image was transmitted and stored correctly. :param image_location: The location of the local image. :raises: ImageChecksumError if the checksum of the local image does not match the checksum as reported by glance in image_info. """""" checksum = self._hash_algo.hexdigest() LOG.debug('Verifying image at %(image_location)s against ' '%(algo_name)s checksum %(checksum)s', {'image_location': image_location, 'algo_name': self._hash_algo.name, 'checksum': checksum}) if checksum != self._expected_hash_value: error_msg = errors.ImageChecksumError.details_str.format( image_location, self._image_info['id'], self._expected_hash_value, checksum) LOG.error(error_msg) raise errors.ImageChecksumError(image_location, self._image_info['id'], self._expected_hash_value, checksum) def image_location(image_info): """"""Get the location of the image in the local file system. :param image_info: Image information dictionary. :returns: The full, absolute path to the image as a string. """""" return os.path.join(tempfile.gettempdir(), image_info['id']) def download_image(image_info): """"""Downloads the specified image to the local file system. :param image_info: Image information dictionary. :raises: ImageDownloadError if the image download fails for any reason. :raises: ImageChecksumError if the downloaded image's checksum does not match the one reported in image_info. """""" starttime = time.time() location = image_location(image_info) for attempt in range(CONF.image_download_connection_retries + 1): try: image_download = ImageDownload(image_info, time_obj=starttime) with open(location, 'wb') as f: try: for chunk in image_download: f.write(chunk) except Exception as e: msg = 'Unable to write image to {}. Error: {}'.format( image_location, str(e)) raise errors.ImageDownloadError(image_info['id'], msg) except errors.ImageDownloadError as e: if attempt == CONF.image_download_connection_retries: raise else: LOG.warning('Image download failed, %(attempt)s of %(total)s: ' '%(error)s', {'attempt': attempt, 'total': CONF.image_download_connection_retries, 'error': e}) time.sleep(CONF.image_download_connection_retry_interval) else: break totaltime = time.time() - starttime LOG.info(""Image downloaded from %(image_location)s "" ""in %(totaltime)s seconds"", {'image_location': image_location, 'totaltime': totaltime}) image_download.verify_image(image_location) def stream_raw_image_onto_device(image_info, device): """"""Streams raw image data to specified local device. :param image_info: Image information dictionary. :param device: The disk name, as a string, on which to store the image. Example: '/dev/sda' :raises: ImageDownloadError if the image download encounters an error. :raises: ImageChecksumError if the checksum of the local image does not match the checksum as reported by glance in image_info. """""" starttime = time.time() total_retries = CONF.image_download_connection_retries for attempt in range(total_retries + 1): try: image_download = ImageDownload(image_info, time_obj=starttime) with open(device, 'wb+') as f: try: for chunk in image_download: f.write(chunk) except Exception as e: msg = ('Unable to write image to device {}. ' 'Error: {}').format(device, str(e)) raise errors.ImageDownloadError(image_info['id'], msg) except errors.ImageDownloadError as e: if attempt == CONF.image_download_connection_retries: raise else: LOG.warning('Image download failed, %(attempt)s of ' '%(total)s: %(error)s', {'attempt': attempt, 'total': total_retries, 'error': e}) time.sleep(CONF.image_download_connection_retry_interval) else: break totaltime = time.time() - starttime LOG.info(""Image streamed onto device %(device)s in %(totaltime)s "" ""seconds"", {'device': device, 'totaltime': totaltime}) # Verify if the checksum of the streamed image is correct image_download.verify_image(device) ",,352,320
openstack%2Ftripleo-heat-templates~master~I3b77d4fccd07d6a74ceb4f0651769f2b8f84d7fd,openstack/tripleo-heat-templates,master,I3b77d4fccd07d6a74ceb4f0651769f2b8f84d7fd,"Update cell0 db connection, if required",MERGED,2021-12-09 14:45:08.000000000,2022-01-21 13:52:35.000000000,2022-01-11 21:39:57.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-12-09 14:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c609f9bcc2a574b8b8a86aaa8a1b955f7f1c0ec7', 'message': 'WIP update cell0 db connection, if required\n\nChange-Id: I3b77d4fccd07d6a74ceb4f0651769f2b8f84d7fd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-12-09 16:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7142c7bbf0e6345e7c1d10781379863b1eeeefe8', 'message': 'Update cell0 db connection, if required\n\nWhenever we change the cells database connection, like FFU does,\nensure it is always updated for the default and cell0 cells.\n\nRelated: rhbz#2030191\nChange-Id: I3b77d4fccd07d6a74ceb4f0651769f2b8f84d7fd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2021-12-09 16:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2fd8f6326513a5f023c2dde632d0bcf87fcd3b95', 'message': 'Update cell0 db connection, if required\n\nWhenever we change the cells database connection, like FFU does,\nensure it is always updated for the default and cell0 cells.\n\nRelated: rhbz#2030191\nChange-Id: I3b77d4fccd07d6a74ceb4f0651769f2b8f84d7fd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2021-12-09 16:40:32.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3983bc7445276a7183689466c613fdf62c446126', 'message': 'Update cell0 db connection, if required\n\nWhenever we change the cells database connection, like FFU does,\nensure it is always updated for the default and cell0 cells.\n\nRelated: rhbz#2030191\nChange-Id: I3b77d4fccd07d6a74ceb4f0651769f2b8f84d7fd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",15,821230,3983bc7445276a7183689466c613fdf62c446126,26,10,4,6926,,,0,"Update cell0 db connection, if required

Whenever we change the cells database connection, like FFU does,
ensure it is always updated for the default and cell0 cells.

Related: rhbz#2030191
Change-Id: I3b77d4fccd07d6a74ceb4f0651769f2b8f84d7fd
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/821230/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-api-container-puppet.yaml'],1,c609f9bcc2a574b8b8a86aaa8a1b955f7f1c0ec7,," template: | #!/bin/bash CLIST=$(/usr/bin/bootstrap_host_exec nova_api su nova -s /bin/bash -c ""nova-manage cell_v2 list_cells"") CELLID=$(printf ""$CLIST"" | sed -e '1,3d' -e '$d' | awk -F ' *| *' '$2 == ""cell0"" {print $4}') CELLDBC=$(printf ""$CLIST"" | sed -e '1,3d' -e '$d' | awk -F ' *| *' '$2 == ""cell0"" {print $8}') if [ ""$CELLID"" ] && [ ! ""$CELLDBC"" = ""CELL0DB"" ]; then echo ""(cellv2) Updating cell0 cell_v2 cell $CELLID"" /usr/bin/bootstrap_host_exec nova_api su nova -s /bin/bash -c ""/usr/bin/nova-manage cell_v2 update_cell --cell_uuid $CELLID --name=cell0 --database_connection='CELL0DB'"" else echo ""(cellv2) Creating cell0 cell_v2 cell"" /usr/bin/bootstrap_host_exec nova_api su nova -s /bin/bash -c ""/usr/bin/nova-manage cell_v2 map_cell0 --database_connection='CELL0DB'"" fi"," template: ""/usr/bin/bootstrap_host_exec nova_api su nova -s /bin/bash -c '/usr/bin/nova-manage cell_v2 map_cell0 --database_connection=\""CELL0DB\""'""",12,1
openstack%2Fnova~master~Ia08d46948ecd3cee301d39c86c47fab91e8b8fbb,openstack/nova,master,Ia08d46948ecd3cee301d39c86c47fab91e8b8fbb,db: Remove unnecessary warning filters,MERGED,2021-11-12 11:27:19.000000000,2022-01-21 13:48:14.000000000,2022-01-21 13:44:48.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-12 11:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/675db7e27a71c0d1860dcec3cd66c3378ee70afb', 'message': ""db: Remove unnecessary warning filters\n\nWe've resolved these along the way.\n\nChange-Id: Ia08d46948ecd3cee301d39c86c47fab91e8b8fbb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-11-15 13:16:04.000000000', 'files': ['nova/tests/fixtures/nova.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3955ca48624200cda0a8a66d92cbd5a24d6b1a05', 'message': ""db: Remove unnecessary warning filters\n\nWe've resolved these along the way.\n\nChange-Id: Ia08d46948ecd3cee301d39c86c47fab91e8b8fbb\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,817748,3955ca48624200cda0a8a66d92cbd5a24d6b1a05,15,3,2,15334,,,0,"db: Remove unnecessary warning filters

We've resolved these along the way.

Change-Id: Ia08d46948ecd3cee301d39c86c47fab91e8b8fbb
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/817748/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures/nova.py'],1,675db7e27a71c0d1860dcec3cd66c3378ee70afb,sqlalchemy-20,," message=r'The Engine.execute\(\) method is considered legacy', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'ignore', module='nova',",0,6
openstack%2Fnova~master~I946b4c7926ba2583b84ab95a1fe7aedc6923d9f8,openstack/nova,master,I946b4c7926ba2583b84ab95a1fe7aedc6923d9f8,db: Remove use of 'bind' arguments,MERGED,2021-11-12 11:27:19.000000000,2022-01-21 13:46:48.000000000,2022-01-21 13:44:40.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-12 11:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79dcd301424d5c840f33e95e80311e282a2d795d', 'message': ""db: Remove use of 'bind' arguments\n\nResolve the following RemovedIn20Warning warnings:\n\n  The MetaData.bind argument is deprecated and will be removed in\n  SQLAlchemy 2.0.\n\n  The ``bind`` argument for schema methods that invoke SQL against an\n  engine or connection will be required in SQLAlchemy 2.0.\n\nChange-Id: I946b4c7926ba2583b84ab95a1fe7aedc6923d9f8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-11-15 13:16:04.000000000', 'files': ['nova/tests/functional/db/test_archive.py', 'nova/db/main/api.py', 'nova/db/main/legacy_migrations/versions/402_train.py', 'nova/tests/unit/db/main/test_api.py', 'nova/db/main/migrations/versions/8f2f1571d55b_initial_version.py', 'nova/tests/fixtures/nova.py', 'nova/db/api/legacy_migrations/versions/067_train.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eac61c5929e52baac59351b52c1ebf4399b2d3c4', 'message': ""db: Remove use of 'bind' arguments\n\nResolve the following RemovedIn20Warning warnings:\n\n  The MetaData.bind argument is deprecated and will be removed in\n  SQLAlchemy 2.0.\n\n  The ``bind`` argument for schema methods that invoke SQL against an\n  engine or connection will be required in SQLAlchemy 2.0.\n\nWe must retain a couple of workarounds to keep sqlalchemy-migrate happy.\nThis shouldn't be an issue since this library is not compatible with\nSQLAlchemy 2.x and will have to be removed (along with the legacy\nmigration files themselves) when we eventually support 2.x.\n\nChange-Id: I946b4c7926ba2583b84ab95a1fe7aedc6923d9f8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",5,817747,eac61c5929e52baac59351b52c1ebf4399b2d3c4,35,4,2,15334,,,0,"db: Remove use of 'bind' arguments

Resolve the following RemovedIn20Warning warnings:

  The MetaData.bind argument is deprecated and will be removed in
  SQLAlchemy 2.0.

  The ``bind`` argument for schema methods that invoke SQL against an
  engine or connection will be required in SQLAlchemy 2.0.

We must retain a couple of workarounds to keep sqlalchemy-migrate happy.
This shouldn't be an issue since this library is not compatible with
SQLAlchemy 2.x and will have to be removed (along with the legacy
migration files themselves) when we eventually support 2.x.

Change-Id: I946b4c7926ba2583b84ab95a1fe7aedc6923d9f8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/817747/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/main/api.py', 'nova/tests/fixtures/nova.py', 'nova/tests/unit/db/main/test_api.py']",3,79dcd301424d5c840f33e95e80311e282a2d795d,sqlalchemy-20," self.metadata = sa.MetaData() metadata = sa.MetaData() metadata.reflect(bind=self.engine) metadata = sa.MetaData() metadata.reflect(bind=self.engine) self.metadata, self.engine, tablename, max_rows=2, before=None, task_log=False, ) self.metadata, self.engine, tablename, max_rows=2, before=None, task_log=False, ) self.metadata, self.engine, tablename, max_rows=2, before=None, task_log=False, ) self.metadata, self.engine, ""instances"", max_rows=None, before=None, task_log=False) test_fixtures.OpportunisticDBTestMixin, test.NoDBTestCase, ): meta = sa.MetaData() meta.create_all(self.engine) self.addCleanup(meta.drop_all, self.engine)"," self.metadata = sa.MetaData(self.engine) metadata = sa.MetaData(bind=self.engine) metadata.reflect() metadata = sa.MetaData(bind=self.engine) metadata.reflect() self.metadata, tablename, max_rows=2, before=None, task_log=False) self.metadata, tablename, max_rows=2, before=None, task_log=False) self.metadata, tablename, max_rows=2, before=None, task_log=False) self.metadata, ""instances"", max_rows=None, before=None, task_log=False) test_fixtures.OpportunisticDBTestMixin, test.NoDBTestCase): meta = sa.MetaData(bind=self.engine) self.table.create() self.addCleanup(meta.drop_all)",29,32
openstack%2Fpuppet-designate~master~I1c3095561875cfa82e484c69173571ad6ba34428,openstack/puppet-designate,master,I1c3095561875cfa82e484c69173571ad6ba34428,Add an independent class for [network_api:neutron] parameters,MERGED,2022-01-17 15:00:36.000000000,2022-01-21 13:43:56.000000000,2022-01-21 13:42:11.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-17 15:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/fc52822879e2f867cd579fe4e4fb74df9e282a19', 'message': 'Add an independent class to manage [network_api:neutron] parameters\n\nChange-Id: I1c3095561875cfa82e484c69173571ad6ba34428\n'}, {'number': 2, 'created': '2022-01-17 15:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/2a33093351f80c2d03209ac2c22eb4d18f05e776', 'message': 'Add an independent class to manage [network_api:neutron] parameters\n\n... and improve coverage of the supported parameters.\n\nChange-Id: I1c3095561875cfa82e484c69173571ad6ba34428\n'}, {'number': 3, 'created': '2022-01-17 15:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/4661fbc598a2c637b7b13e57dfbae22f890d53d0', 'message': 'Add an independent class to manage [network_api:neutron] parameters\n\n... and improve coverage of the supported parameters.\n\nChange-Id: I1c3095561875cfa82e484c69173571ad6ba34428\n'}, {'number': 4, 'created': '2022-01-17 17:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/7865b4340ed7e6ec630c5b2acfcd402e4d3917ab', 'message': 'Add an independent class for [network_api:neutron] parameters\n\n... and improve coverage of the supported parameters.\n\nChange-Id: I1c3095561875cfa82e484c69173571ad6ba34428\n'}, {'number': 5, 'created': '2022-01-17 22:59:58.000000000', 'files': ['manifests/network_api/neutron.pp', 'manifests/init.pp', 'spec/classes/designate_network_api_neutron_spec.rb', 'releasenotes/notes/network_api-neutron-8b58605b37d1872f.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/09a2c6b46c5ba02f8290904dca195329f2ebeafb', 'message': 'Add an independent class for [network_api:neutron] parameters\n\n... and improve coverage of the supported parameters.\n\nChange-Id: I1c3095561875cfa82e484c69173571ad6ba34428\n'}]",1,824974,09a2c6b46c5ba02f8290904dca195329f2ebeafb,21,3,5,9816,,,0,"Add an independent class for [network_api:neutron] parameters

... and improve coverage of the supported parameters.

Change-Id: I1c3095561875cfa82e484c69173571ad6ba34428
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/74/824974/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/network_api/neutron.pp', 'manifests/init.pp', 'spec/classes/designate_network_api_neutron_spec.rb', 'releasenotes/notes/netwokr_api-neutron-394e4cb55416d0eb.yaml']",4,fc52822879e2f867cd579fe4e4fb74df9e282a19,network_api-neutron,--- features: - | The new ``designate::network_api::neutron`` class has been added. This class manages parmaeters in the ``[network_api:neutron]`` section. deprecations: - | The ``designate::neutron_endpoint_type`` parameter has been deprecated. Use the ``endpoint_type`` parameter of the new ``designate::network_api::neutron`` class. ,,118,5
openstack%2Fpuppet-manila~stable%2Fxena~Ifde59b58915dd00ec8edf136f4bb4a48d8446025,openstack/puppet-manila,stable/xena,Ifde59b58915dd00ec8edf136f4bb4a48d8446025,Add support for PowerMax driver,MERGED,2022-01-14 01:16:48.000000000,2022-01-21 13:42:02.000000000,2022-01-21 13:40:19.000000000,"[{'_account_id': 7130}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 01:16:48.000000000', 'files': ['releasenotes/notes/dellemc_powermax-6ded05263d935f14.yaml', 'manifests/backend/dellemc_powermax.pp', 'spec/defines/manila_backend_dellemc_powermax_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/636043245f315f387f62558e212e43033dcf1438', 'message': 'Add support for PowerMax driver\n\nDell EMC VMax was rebranded to PowerMax and the related driver and\nits parameters were renamed[1]. This change introduces a new resource\ntype to follow that rebranding.\nThe existing implementation to use old parameters will be deprecated\nand removed in a separate change.\n\n[1] 6995b9f9758f4b8526011954670da5602acb60cb\nPartial-bug: #1951131\nChange-Id: Ifde59b58915dd00ec8edf136f4bb4a48d8446025\n(cherry picked from commit 2e56767d7a9d8bd500bdbc094d4e22c2d5b71c12)\n'}]",2,824620,636043245f315f387f62558e212e43033dcf1438,14,4,1,9816,,,0,"Add support for PowerMax driver

Dell EMC VMax was rebranded to PowerMax and the related driver and
its parameters were renamed[1]. This change introduces a new resource
type to follow that rebranding.
The existing implementation to use old parameters will be deprecated
and removed in a separate change.

[1] 6995b9f9758f4b8526011954670da5602acb60cb
Partial-bug: #1951131
Change-Id: Ifde59b58915dd00ec8edf136f4bb4a48d8446025
(cherry picked from commit 2e56767d7a9d8bd500bdbc094d4e22c2d5b71c12)
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/20/824620/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/dellemc_powermax-6ded05263d935f14.yaml', 'manifests/backend/dellemc_powermax.pp', 'spec/defines/manila_backend_dellemc_powermax_spec.rb']",3,636043245f315f387f62558e212e43033dcf1438,powermax-stable/xena,"require 'spec_helper' describe 'manila::backend::dellemc_powermax' do let(:title) {'dellemc_powermax'} let :required_params do { :emc_nas_login => 'admin', :emc_nas_password => 'password', :emc_nas_server => '127.0.0.2', } end let :default_params do { :emc_share_backend => 'powermax', :powermax_server_container => '<SERVICE DEFAULT>', :powermax_share_data_pools => '<SERVICE DEFAULT>', :powermax_ethernet_ports => '<SERVICE DEFAULT>', :backend_availability_zone => '<SERVICE DEFAULT>', } end shared_examples_for 'dell emc powermax share driver' do let :params_hash do default_params.merge(params) end it 'configures dell emc powermax share driver' do is_expected.to contain_manila_config(""dellemc_powermax/share_driver"").with_value( 'manila.share.drivers.dell_emc.driver.EMCShareDriver') is_expected.to contain_manila_config(""dellemc_powermax/driver_handles_share_servers"").with_value(true) params_hash.each_pair do |config,value| is_expected.to contain_manila_config(""dellemc_powermax/#{config}"").with_value( value ) end end it 'marks emc_nas_password as secret' do is_expected.to contain_manila_config(""dellemc_powermax/emc_nas_password"").with_secret( true ) end end shared_examples 'manila::backend::dellemc_powermax' do context 'with default parameters' do let :params do required_params end it_configures 'dell emc powermax share driver' end context 'with provided parameters' do let :params do required_params.merge!({ :powermax_server_container => 'container1', :powermax_share_data_pools => '*', :powermax_ethernet_ports => 'eth1', :backend_availability_zone => 'my_zone', }) end it_configures 'dell emc powermax share driver' end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_behaves_like 'manila::backend::dellemc_powermax' end end end ",,198,0
openstack%2Fpuppet-manila~stable%2Fxena~Ie71914a547377efd8933835aeaf8d08c5e917b12,openstack/puppet-manila,stable/xena,Ie71914a547377efd8933835aeaf8d08c5e917b12,[Dell EMC drivers] Define defaults for emc_share_backend,MERGED,2022-01-14 01:09:29.000000000,2022-01-21 13:40:17.000000000,2022-01-21 13:40:17.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 01:09:29.000000000', 'files': ['spec/defines/manila_backend_dellemc_isilon_spec.rb', 'manifests/backend/dellemc_unity.pp', 'spec/defines/manila_backend_dellemc_vnx_spec.rb', 'spec/defines/manila_backend_dellemc_unity_spec.rb', 'manifests/backend/dellemc_vnx.pp', 'manifests/backend/dellemc_isilon.pp', 'manifests/backend/dellemc_vmax.pp', 'spec/defines/manila_backend_dellemc_vmax_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/57b1c81c6beabb41c30e5c2937d8f7c14bab17e5', 'message': '[Dell EMC drivers] Define defaults for emc_share_backend\n\nCurrently the emc_share_backend parameter is required. However this\nparameter should be set according to the backend and because we provide\nindependent resource types for individual backends, the expected value\nis predictable.\n\nThis change defines the default values and gets rid of that redundant\nrequirement. The parameter is still left so that this change can be\nbackportable.\n\nChange-Id: Ie71914a547377efd8933835aeaf8d08c5e917b12\n(cherry picked from commit 3476785793ec45552d8e8c60ad8efc2fa5c7223b)\n'}]",2,824619,57b1c81c6beabb41c30e5c2937d8f7c14bab17e5,13,3,1,9816,,,0,"[Dell EMC drivers] Define defaults for emc_share_backend

Currently the emc_share_backend parameter is required. However this
parameter should be set according to the backend and because we provide
independent resource types for individual backends, the expected value
is predictable.

This change defines the default values and gets rid of that redundant
requirement. The parameter is still left so that this change can be
backportable.

Change-Id: Ie71914a547377efd8933835aeaf8d08c5e917b12
(cherry picked from commit 3476785793ec45552d8e8c60ad8efc2fa5c7223b)
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/19/824619/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/manila_backend_dellemc_isilon_spec.rb', 'manifests/backend/dellemc_unity.pp', 'spec/defines/manila_backend_dellemc_vnx_spec.rb', 'spec/defines/manila_backend_dellemc_unity_spec.rb', 'manifests/backend/dellemc_vnx.pp', 'manifests/backend/dellemc_isilon.pp', 'manifests/backend/dellemc_vmax.pp', 'spec/defines/manila_backend_dellemc_vmax_spec.rb']",8,57b1c81c6beabb41c30e5c2937d8f7c14bab17e5,dellemc-stable/xena," :emc_share_backend => 'vmax',"," :emc_share_backend => 'vmax',",18,18
openstack%2Fironic~bugfix%2F18.1~Id603ae5a4a802dfc8f866b15c8d327d95eba9310,openstack/ironic,bugfix/18.1,Id603ae5a4a802dfc8f866b15c8d327d95eba9310,Set resource_url when getting all ports or portgroups,MERGED,2022-01-18 11:43:53.000000000,2022-01-21 13:14:54.000000000,2022-01-21 13:12:51.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-18 11:43:53.000000000', 'files': ['ironic/api/controllers/v1/port.py', 'releasenotes/notes/fix_pagination_resource_url_ports-8d2696a6a7ab012f.yaml', 'ironic/api/controllers/v1/portgroup.py', 'ironic/tests/unit/api/controllers/v1/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c2d7b2cbfbded1f70837d9cac5138065bd7b1faa', 'message': ""Set resource_url when getting all ports or portgroups\n\nSince the default value resource_url is None, make sure the\nparameter is set to 'ports' when getting all ports.\n\nChange-Id: Id603ae5a4a802dfc8f866b15c8d327d95eba9310\n(cherry picked from commit 2ac740e09d44bb91d0ec4180a1b5e500bc844f7c)\n""}]",1,825099,c2d7b2cbfbded1f70837d9cac5138065bd7b1faa,16,3,1,11292,,,0,"Set resource_url when getting all ports or portgroups

Since the default value resource_url is None, make sure the
parameter is set to 'ports' when getting all ports.

Change-Id: Id603ae5a4a802dfc8f866b15c8d327d95eba9310
(cherry picked from commit 2ac740e09d44bb91d0ec4180a1b5e500bc844f7c)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/99/825099/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/port.py', 'releasenotes/notes/fix_pagination_resource_url_ports-8d2696a6a7ab012f.yaml', 'ironic/api/controllers/v1/portgroup.py', 'ironic/tests/unit/api/controllers/v1/test_node.py']",4,c2d7b2cbfbded1f70837d9cac5138065bd7b1faa,," self.assertIn('portgroups', data['next']) self.assertIn('ports', data['next'])",,14,2
openstack%2Fkolla-ansible~master~I80f8319b2cf2e4ae09904a08532cde5ec0385fa3,openstack/kolla-ansible,master,I80f8319b2cf2e4ae09904a08532cde5ec0385fa3,Use Docker healthchecks for ironic-neutron-agent services,MERGED,2021-11-12 07:07:14.000000000,2022-01-21 13:13:44.000000000,2022-01-21 13:11:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-12 07:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e06a46b5ef21ff7b110cb102395e4fcc5dff53ba', 'message': 'Use Docker healthchecks for ironic-neutron-agent services\n\nThis change enables the use of Docker healthchecks for mariadb services.\n\nChange-Id: I80f8319b2cf2e4ae09904a08532cde5ec0385fa3\nImplements: blueprint container-health-check\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/785401\n'}, {'number': 2, 'created': '2021-11-17 11:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9fd3a4d8f1a2078d848d29970f327b1bd3fdda70', 'message': 'Use Docker healthchecks for ironic-neutron-agent services\n\nThis change enables the use of Docker healthchecks for ironic-neutron-agent services.\n\nChange-Id: I80f8319b2cf2e4ae09904a08532cde5ec0385fa3\nImplements: blueprint container-health-check\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/785401\n'}, {'number': 3, 'created': '2022-01-19 08:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15b64e224e5c29f2e2bf5f74ab3162b25ed11531', 'message': 'Use Docker healthchecks for ironic-neutron-agent services\n\nThis change enables the use of Docker healthchecks for ironic-neutron-agent services.\n\nChange-Id: I80f8319b2cf2e4ae09904a08532cde5ec0385fa3\nImplements: blueprint container-health-check\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/785401\n'}, {'number': 4, 'created': '2022-01-19 10:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d428532994b323debfe9ce6f1175a4ac53becbe0', 'message': 'Use Docker healthchecks for ironic-neutron-agent services\n\nThis change enables the use of Docker healthchecks for ironic-neutron-agent services.\n\nChange-Id: I80f8319b2cf2e4ae09904a08532cde5ec0385fa3\nImplements: blueprint container-health-check\n'}, {'number': 5, 'created': '2022-01-19 10:06:41.000000000', 'files': ['ansible/roles/neutron/defaults/main.yml', 'ansible/roles/neutron/defaults/releasenotes/notes/implement-docker-healthchecks-for-ironic-neutron-agent-61ec4d0d237da075.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/98c6a4b65a1567731a858b80c2cba3118617b0e3', 'message': 'Use Docker healthchecks for ironic-neutron-agent services\n\nThis change enables the use of Docker healthchecks for ironic-neutron-agent services.\n\nChange-Id: I80f8319b2cf2e4ae09904a08532cde5ec0385fa3\nImplements: blueprint container-health-check\n'}]",8,817706,98c6a4b65a1567731a858b80c2cba3118617b0e3,28,3,5,32029,,,0,"Use Docker healthchecks for ironic-neutron-agent services

This change enables the use of Docker healthchecks for ironic-neutron-agent services.

Change-Id: I80f8319b2cf2e4ae09904a08532cde5ec0385fa3
Implements: blueprint container-health-check
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/817706/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/defaults/main.yml', 'ansible/roles/neutron/defaults/releasenotes/notes/implement-docker-healthchecks-for-ironic-neutron-agent-61ec4d0d237da075.yaml']",2,e06a46b5ef21ff7b110cb102395e4fcc5dff53ba,container-health-check,--- features: - | Implements container healthchecks for ironic-neutron-agent service. See `blueprint <https://blueprints.launchpad.net/kolla-ansible/+spec/container-health-check>`__ ,,20,0
openstack%2Fcharm-nova-compute-nvidia-vgpu~master~Icce0e6325e61089f2b8c3bca74f442a460282379,openstack/charm-nova-compute-nvidia-vgpu,master,Icce0e6325e61089f2b8c3bca74f442a460282379,Add charmcraft.yaml for publishing to Charmhub,MERGED,2022-01-18 10:10:49.000000000,2022-01-21 13:09:00.000000000,2022-01-21 13:09:00.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-01-18 10:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/70a596ce86249e3eac745df3f2074d3d334bba53', 'message': 'Add charmcraft.yaml for publishing to Charmhub\n\nSee https://juju.is/docs/sdk/charmcraft-config\n\nChange-Id: Icce0e6325e61089f2b8c3bca74f442a460282379\n'}, {'number': 2, 'created': '2022-01-21 09:38:30.000000000', 'files': ['tests/README.md', 'requirements.txt', 'build-requirements.txt', 'charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/b4dcc38edacbd52f501f8ec7474f5b213f79bfa5', 'message': 'Add charmcraft.yaml for publishing to Charmhub\n\nSee https://juju.is/docs/sdk/charmcraft-config\n\nChange-Id: Icce0e6325e61089f2b8c3bca74f442a460282379\n'}]",12,825082,b4dcc38edacbd52f501f8ec7474f5b213f79bfa5,26,4,2,31289,,,0,"Add charmcraft.yaml for publishing to Charmhub

See https://juju.is/docs/sdk/charmcraft-config

Change-Id: Icce0e6325e61089f2b8c3bca74f442a460282379
",git fetch https://review.opendev.org/openstack/charm-nova-compute-nvidia-vgpu refs/changes/82/825082/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/README.md', 'requirements.txt', 'build-requirements.txt', 'charmcraft.yaml', 'tox.ini']",5,70a596ce86249e3eac745df3f2074d3d334bba53,charmcraft-yaml,"allowlist_externals = charmcraft# NOTE(lourot): charmcraft 1.0.0 used to generate # nova-compute-nvidia-vgpu.charm, which is the behaviour expected by OSCI. # However charmcraft 1.2.1 now generates # nova-compute-nvidia-vgpu_ubuntu-20.04-amd64.charm instead. In order to keep # the old behaviour we rename the file at the end. charmcraft clean mv nova-compute-nvidia-vgpu_*.charm nova-compute-nvidia-vgpu.charm",whitelist_externals =,39,5
openstack%2Fovn-octavia-provider~stable%2Fxena~I95860ae305c3d0c10859afb972d000328e23d614,openstack/ovn-octavia-provider,stable/xena,I95860ae305c3d0c10859afb972d000328e23d614,Set listeners back to ACTIVE upon pool/member action failures,MERGED,2022-01-19 12:06:21.000000000,2022-01-21 12:47:29.000000000,2022-01-21 12:45:49.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-01-19 12:06:21.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/bdfe09f0b09c947b540eb30f79f7fc24dc8812ce', 'message': 'Set listeners back to ACTIVE upon pool/member action failures\n\nThis patch ensure the listeners are set back from PENDING_UPDATE\nto ACTIVE in case of member or pool update failure.\n\nCloses-Bug: #1956745\nChange-Id: I95860ae305c3d0c10859afb972d000328e23d614\n(cherry picked from commit 4d01470f5e397bb6de1b10db9f839fa72697ff6b)\n'}]",2,825214,bdfe09f0b09c947b540eb30f79f7fc24dc8812ce,8,5,1,23567,,,0,"Set listeners back to ACTIVE upon pool/member action failures

This patch ensure the listeners are set back from PENDING_UPDATE
to ACTIVE in case of member or pool update failure.

Closes-Bug: #1956745
Change-Id: I95860ae305c3d0c10859afb972d000328e23d614
(cherry picked from commit 4d01470f5e397bb6de1b10db9f839fa72697ff6b)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/14/825214/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/helper.py']",2,bdfe09f0b09c947b540eb30f79f7fc24dc8812ce,," pool_listeners = [] try: pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status pool_listeners = [] try: pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status pool_listeners = [] pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status pool_listeners = [] pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status pool_listeners = [] pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status"," try: listener_id = None listener_id = key.split('_')[1] if listener_id: status[constants.LISTENERS] = [ {constants.ID: listener_id, constants.PROVISIONING_STATUS: constants.ACTIVE}] try: pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status pool_listeners = self._get_pool_listeners(ovn_lb, pool_key) listener_status = [] for listener in pool_listeners: listener_status.append( {constants.ID: listener, constants.PROVISIONING_STATUS: constants.ACTIVE}) status[constants.LISTENERS] = listener_status",48,36
openstack%2Fpuppet-aodh~master~I511a71b3e25e8cd8c2a7cb0b242d961ce8e916fd,openstack/puppet-aodh,master,I511a71b3e25e8cd8c2a7cb0b242d961ce8e916fd,Avoid testing details of oslo::messaging(::*),MERGED,2022-01-20 03:35:00.000000000,2022-01-21 12:42:22.000000000,2022-01-21 12:42:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-20 03:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/f126996d053c5d29115dc0beb7e8476d060f960f', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: I511a71b3e25e8cd8c2a7cb0b242d961ce8e916fd\n'}, {'number': 2, 'created': '2022-01-20 03:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/c40c9194f754366d8251cab3fcd1c4956f283894', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: I511a71b3e25e8cd8c2a7cb0b242d961ce8e916fd\n'}, {'number': 3, 'created': '2022-01-20 07:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/063bfa27f8abd48f1a1811ea4855b5823d3c0175', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: I511a71b3e25e8cd8c2a7cb0b242d961ce8e916fd\n'}, {'number': 4, 'created': '2022-01-20 07:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/d510505ac73d3647b8853e85b0b0d3f48377b4a5', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: I511a71b3e25e8cd8c2a7cb0b242d961ce8e916fd\n'}, {'number': 5, 'created': '2022-01-20 14:30:38.000000000', 'files': ['spec/classes/aodh_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/d398887c5119d44e120b7bc6f478ac350a05c625', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: I511a71b3e25e8cd8c2a7cb0b242d961ce8e916fd\n'}]",3,825422,d398887c5119d44e120b7bc6f478ac350a05c625,24,3,5,9816,,,0,"Avoid testing details of oslo::messaging(::*)

... so that any change in puppet-oslo would not directly break unit
tests.

Change-Id: I511a71b3e25e8cd8c2a7cb0b242d961ce8e916fd
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/22/825422/3 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/aodh_init_spec.rb'],1,f126996d053c5d29115dc0beb7e8476d060f960f,oslo-messaging-ut," is_expected.to contain_oslo__messaging__default('aodh_config').with( :executor_threadpool_size => '<SERVICE DEFAULT>', :transport_url => '<SERVICE DEFAULT>', :rpc_response_timeout => '<SERVICE DEFAULT>', :control_exchange => '<SERVICE DEFAULT>' ) is_expected.to contain_oslo__messaging_rabbit('aodh_config').with( :rabbit_ha_queues => '<SERVICE DEFAULT>', :heartbeat_timeout_threshold => '<SERVICE DEFAULT>', :heartbeat_rate => '<SERVICE DEFAULT>', :heartbeat_in_pthread => '<SERVICE DEFAULT>', :rabbit_use_ssl => '<SERVICE DEFAULT>', :kombu_reconnect_delay => '<SERVICE DEFAULT>', :kombu_failover_strategy => '<SERVICE DEFAULT>', :kombu_ssl_version => '<SERVICE DEFAULT>', :kombu_ssl_key_file => '<SERVICE DEFAULT>', :kombu_ssl_key_password => '<SERVICE DEFAULT>', :kombu_compression => '<SERVICE DEFAULT>', :amqp_durable_queues => '<SERVICE DEFAULT>', ) is_expected.to contain_oslo__messaging__amqp('aodh_config').with( :server_request_prefix => '<SERVICE DEFAULT>', :broadcast_prefix => '<SERVICE DEFAULT>', :group_request_prefix => '<SERVICE DEFAULT>', :container_name => '<SERVICE DEFAULT>', :idle_timeout => '<SERVICE DEFAULT>', :trace => '<SERVICE DEFAULT>', :ssl_ca_file => '<SERVICE DEFAULT>', :ssl_cert_file => '<SERVICE DEFAULT>', :ssl_key_file => '<SERVICE DEFAULT>', :sasl_mechanisms => '<SERVICE DEFAULT>', :sasl_config_dir => '<SERVICE DEFAULT>', :sasl_config_name => '<SERVICE DEFAULT>', :username => '<SERVICE DEFAULT>', :password => '<SERVICE DEFAULT>', ) is_expected.to contain_oslo__messaging__notifications('aodh_config').with( :transport_url => '<SERVICE DEFAULT>', :driver => '<SERVICE DEFAULT>', :topics => '<SERVICE DEFAULT>' ) end it 'configures other stuffs' do :rpc_response_timeout => '30', :control_exchange => 'aodh', :rabbit_use_ssl => true, :kombu_reconnect_delay => '5.0', :amqp_durable_queues => true, :kombu_ssl_ca_certs => '/etc/ca.cert', :kombu_ssl_certfile => '/etc/certfile', :kombu_ssl_keyfile => '/etc/key', :kombu_ssl_version => 'TLSv1', :rabbit_ha_queues => true, :rabbit_retry_interval => '1', :amqp_idle_timeout => '60', :amqp_trace => true, :amqp_ssl_ca_file => '/etc/ca.cert', :amqp_ssl_cert_file => '/etc/certfile', :amqp_ssl_key_file => '/etc/key', :amqp_username => 'amqp_user', :amqp_password => 'password', :package_ensure => '2012.1.1-15.el6', is_expected.to contain_oslo__messaging__default('aodh_config').with( :executor_threadpool_size => '128', :transport_url => 'rabbit://rabbit_user:password@localhost:5673', :rpc_response_timeout => '30', :control_exchange => 'aodh', ) is_expected.to contain_oslo__messaging__rabbit('aodh_config').with( :rabbit_use_ssl => true, :heartbeat_timeout_threshold => '60', :heartbeat_rate => '10', :heartbeat_in_pthread => true, :kombu_reconnect_delay => '5.0', :amqp_durable_queues => true, :kombu_compression => 'gzip', :kombu_ssl_ca_certs => '/etc/ca.cert', :kombu_ssl_certfile => '/etc/certfile', :kombu_ssl_keyfile => '/etc/key', :kombu_ssl_version => 'TLSv1', :rabbit_ha_queues => true, :rabbit_retry_interval => '1', ) is_expected.to contain_oslo__messaging__amqp('aodh_config').with( :idle_timeout => '60', :trace => true, :ssl_ca_file => '/etc/ca.cert', :ssl_cert_file => '/etc/certfile', :ssl_key_file => '/etc/key', :username => 'amqp_user', :password => 'password', ) is_expected.to contain_oslo__messaging__notifications('aodh_config').with( :transport_url => 'rabbit://rabbit_user:password@localhost:5673', :driver => 'ceilometer.compute.aodh_notifier', :topics => 'openstack', ) end it 'configures other stuffs' do"," is_expected.to contain_aodh_config('DEFAULT/executor_thread_pool_size').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('DEFAULT/transport_url').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('DEFAULT/rpc_response_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('DEFAULT/control_exchange').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_rabbit/heartbeat_timeout_threshold').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_rabbit/heartbeat_rate').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_rabbit/heartbeat_in_pthread').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_rabbit/kombu_compression').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_notifications/transport_url').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_notifications/driver').with_value('<SERVICE DEFAULT>') :rabbit_ha_queues => 'undef', :package_ensure => '2012.1.1-15.el6', is_expected.to contain_aodh_config('DEFAULT/executor_thread_pool_size').with_value('128') is_expected.to contain_aodh_config('DEFAULT/transport_url').with_value('rabbit://rabbit_user:password@localhost:5673') is_expected.to contain_aodh_config('oslo_messaging_rabbit/heartbeat_timeout_threshold').with_value('60') is_expected.to contain_aodh_config('oslo_messaging_rabbit/heartbeat_rate').with_value('10') is_expected.to contain_aodh_config('oslo_messaging_rabbit/heartbeat_in_pthread').with_value(true) is_expected.to contain_aodh_config('oslo_messaging_rabbit/kombu_compression').with_value('gzip') it 'configures various things' do is_expected.to contain_aodh_config('oslo_messaging_notifications/transport_url').with_value('rabbit://rabbit_user:password@localhost:5673') is_expected.to contain_aodh_config('oslo_messaging_notifications/driver').with_value('ceilometer.compute.aodh_notifier') is_expected.to contain_aodh_config('oslo_messaging_notifications/topics').with_value('openstack') end context 'with multiple notification_driver' do before { params.merge!( :notification_driver => ['ceilometer.compute.aodh_notifier', 'aodh.openstack.common.notifier.rpc_notifier']) } it { is_expected.to contain_aodh_config('oslo_messaging_notifications/driver').with_value( ['ceilometer.compute.aodh_notifier', 'aodh.openstack.common.notifier.rpc_notifier'] ) } end end context 'with kombu_reconnect_delay set to 5.0 and kombu_failover_strategy' do let :params do { :kombu_reconnect_delay => '5.0', :kombu_failover_strategy => 'test' } end it 'configures rabbit' do is_expected.to contain_aodh_config('oslo_messaging_rabbit/kombu_reconnect_delay').with_value('5.0') is_expected.to contain_aodh_config('oslo_messaging_rabbit/kombu_failover_strategy').with_value('test') end end context 'with rabbit_ha_queues set to true' do let :params do { :rabbit_ha_queues => 'true' } end it 'configures rabbit' do is_expected.to contain_aodh_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value(true) end end context 'with rabbit_ha_queues set to false' do let :params do { :rabbit_ha_queues => 'false' } end it 'configures rabbit' do is_expected.to contain_aodh_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value(false) end end context 'with amqp_durable_queues parameter' do let :params do { :amqp_durable_queues => 'true' } end it 'configures rabbit' do is_expected.to contain_aodh_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_rabbit/amqp_durable_queues').with_value(true) is_expected.to contain_oslo__messaging__rabbit('aodh_config').with( :rabbit_use_ssl => '<SERVICE DEFAULT>', ) end end context 'with rabbit ssl enabled with kombu' do let :params do { :rabbit_use_ssl => true, :kombu_ssl_ca_certs => '/etc/ca.cert', :kombu_ssl_certfile => '/etc/certfile', :kombu_ssl_keyfile => '/etc/key', :kombu_ssl_version => 'TLSv1', } end it { is_expected.to contain_oslo__messaging__rabbit('aodh_config').with( :rabbit_use_ssl => true, :kombu_ssl_ca_certs => '/etc/ca.cert', :kombu_ssl_certfile => '/etc/certfile', :kombu_ssl_keyfile => '/etc/key', :kombu_ssl_version => 'TLSv1', )} end context 'with rabbit ssl enabled without kombu' do let :params do { :rabbit_use_ssl => true, } end it { is_expected.to contain_oslo__messaging__rabbit('aodh_config').with( :rabbit_use_ssl => true, )} end context 'with default amqp parameters' do it 'configures amqp' do is_expected.to contain_aodh_config('oslo_messaging_amqp/server_request_prefix').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_amqp/broadcast_prefix').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_amqp/group_request_prefix').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_amqp/container_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_amqp/idle_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_amqp/trace').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_amqp/ssl_ca_file').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_amqp/ssl_cert_file').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_amqp/ssl_key_file').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_amqp/ssl_key_password').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_amqp/sasl_mechanisms').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_amqp/sasl_config_dir').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_amqp/sasl_config_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_amqp/username').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('oslo_messaging_amqp/password').with_value('<SERVICE DEFAULT>') end end context 'with overridden amqp parameters' do let :params do { :default_transport_url => 'amqp://amqp_user:password@localhost:5672', :amqp_idle_timeout => '60', :amqp_trace => true, :amqp_ssl_ca_file => '/etc/ca.cert', :amqp_ssl_cert_file => '/etc/certfile', :amqp_ssl_key_file => '/etc/key', :amqp_username => 'amqp_user', :amqp_password => 'password', } end it 'configures amqp' do is_expected.to contain_aodh_config('DEFAULT/transport_url').with_value('amqp://amqp_user:password@localhost:5672') is_expected.to contain_aodh_config('oslo_messaging_amqp/idle_timeout').with_value('60') is_expected.to contain_aodh_config('oslo_messaging_amqp/trace').with_value('true') is_expected.to contain_aodh_config('oslo_messaging_amqp/ssl_ca_file').with_value('/etc/ca.cert') is_expected.to contain_aodh_config('oslo_messaging_amqp/ssl_cert_file').with_value('/etc/certfile') is_expected.to contain_aodh_config('oslo_messaging_amqp/ssl_key_file').with_value('/etc/key') is_expected.to contain_aodh_config('oslo_messaging_amqp/username').with_value('amqp_user') is_expected.to contain_aodh_config('oslo_messaging_amqp/password').with_value('password') end",101,152
openstack%2Fkolla-ansible~master~I58d5f3d8e3512ee69a4d08438f4fd91ca15158b8,openstack/kolla-ansible,master,I58d5f3d8e3512ee69a4d08438f4fd91ca15158b8,[CI] Test Ironic when touching Neutron,MERGED,2022-01-19 10:06:18.000000000,2022-01-21 12:24:58.000000000,2022-01-21 12:18:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-19 10:06:18.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9619b67458d5fd0a2d50e3178a62abc6ea08990c', 'message': '[CI] Test Ironic when touching Neutron\n\nChanges to Neutron can also affect Ironic.\nNova was already triggering these jobs.\n\nChange-Id: I58d5f3d8e3512ee69a4d08438f4fd91ca15158b8\n'}]",1,825289,9619b67458d5fd0a2d50e3178a62abc6ea08990c,8,3,1,30491,,,0,"[CI] Test Ironic when touching Neutron

Changes to Neutron can also affect Ironic.
Nova was already triggering these jobs.

Change-Id: I58d5f3d8e3512ee69a4d08438f4fd91ca15158b8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/825289/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,9619b67458d5fd0a2d50e3178a62abc6ea08990c,ci-ironic-when-neutron, - ^ansible/roles/(ironic|neutron|nova|nova-cell)/, - ^ansible/roles/(ironic|nova|nova-cell)/,1,1
openstack%2Fbifrost~master~Iaa8585fb48e5db6c0d5063dca0d84c9d2300f0c9,openstack/bifrost,master,Iaa8585fb48e5db6c0d5063dca0d84c9d2300f0c9,Tighten permissions for PXE directories,MERGED,2022-01-11 11:24:09.000000000,2022-01-21 12:21:53.000000000,2022-01-21 12:17:38.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-11 11:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/42492a45d42d2638e4698da04bcb9d25f94fa2cd', 'message': 'Tighted permissions across the board\n\n* Make sure /etc directories are only readable by the services.\n* Make TFTP/HTTP directories not world readable by default.\n  Images may contain secrets, so regular users should not read them.\n\nAdd nginx and dnsmasq to the ironic group so that they can read ironic\nfiles that group accessible.\n\nChange-Id: Iaa8585fb48e5db6c0d5063dca0d84c9d2300f0c9\n'}, {'number': 2, 'created': '2022-01-11 12:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d7806039c2526779eb8c28562fce4ac5600b9a33', 'message': 'Tighted permissions across the board\n\n* Make sure /etc directories are only readable by the services.\n* Make TFTP/HTTP directories not world readable by default.\n  Images may contain secrets, so regular users should not read them.\n\nAdd nginx and dnsmasq to the ironic group so that they can read ironic\nfiles that group accessible.\n\nChange-Id: Iaa8585fb48e5db6c0d5063dca0d84c9d2300f0c9\n'}, {'number': 3, 'created': '2022-01-11 14:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/8d141dc0a8cb331c1afa046a50eb482cd1fbbd85', 'message': 'Tighten permissions across the board\n\n* Make sure /etc directories are only readable by the services.\n* Make the HTTP directory not world readable by default.\n  Images may contain secrets, so regular users should not read them.\n\nAdd nginx and dnsmasq to the ironic group so that they can read ironic\nfiles that are group accessible.\n\nChange-Id: Iaa8585fb48e5db6c0d5063dca0d84c9d2300f0c9\n'}, {'number': 4, 'created': '2022-01-14 11:56:56.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'scripts/collect-test-info.sh', 'releasenotes/notes/perm-8b4236c6eddf1f1f.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3cb96f1b67d31c2c9ad586562b3472bd7e2e8c59', 'message': 'Tighten permissions for PXE directories\n\nMake the HTTP directory not world readable by default.\nImages may contain secrets, so regular users should not read them.\n\nAdd nginx and dnsmasq to the ironic group so that they can read ironic\nfiles that are group accessible.\n\nChange-Id: Iaa8585fb48e5db6c0d5063dca0d84c9d2300f0c9\n'}]",1,824144,3cb96f1b67d31c2c9ad586562b3472bd7e2e8c59,19,3,4,10239,,,0,"Tighten permissions for PXE directories

Make the HTTP directory not world readable by default.
Images may contain secrets, so regular users should not read them.

Add nginx and dnsmasq to the ironic group so that they can read ironic
files that are group accessible.

Change-Id: Iaa8585fb48e5db6c0d5063dca0d84c9d2300f0c9
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/44/824144/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'releasenotes/notes/perm-8b4236c6eddf1f1f.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml']",6,42492a45d42d2638e4698da04bcb9d25f94fa2cd,perm, file: name={{ item }} owner=ironic group=ironic state=directory mode={{ boot_folder_permissions }}, file: name={{ item }} owner=ironic group=ironic state=directory mode=0755,35,14
openstack%2Fpuppet-openstack-integration~master~Id372bf9fdfa0cb1f6a7ad580249fde2fcc4b4860,openstack/puppet-openstack-integration,master,Id372bf9fdfa0cb1f6a7ad580249fde2fcc4b4860,WIP: Exclude kernel from package update,ABANDONED,2022-01-14 05:01:17.000000000,2022-01-21 12:14:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-14 05:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8d1a0ce42c4190eceb98bf5783e876f8d68b700d', 'message': 'WIP: Exclude kernel from package update\n\nChange-Id: Id372bf9fdfa0cb1f6a7ad580249fde2fcc4b4860\n'}, {'number': 2, 'created': '2022-01-14 07:13:20.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8ff337c358a1fc15a8a48e1155091ca2997a2261', 'message': 'WIP: Exclude kernel from package update\n\nChange-Id: Id372bf9fdfa0cb1f6a7ad580249fde2fcc4b4860\n'}]",0,824673,8ff337c358a1fc15a8a48e1155091ca2997a2261,5,1,2,9816,,,0,"WIP: Exclude kernel from package update

Change-Id: Id372bf9fdfa0cb1f6a7ad580249fde2fcc4b4860
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/73/824673/2 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,8d1a0ce42c4190eceb98bf5783e876f8d68b700d,, $SUDO $YUM update -y --exclude kernel, $SUDO $YUM update -y,1,1
openstack%2Fpuppet-glance~master~If7e1a5495d5a361e65794789f4526d8f06880500,openstack/puppet-glance,master,If7e1a5495d5a361e65794789f4526d8f06880500,DNM: testing ...,ABANDONED,2022-01-17 04:44:52.000000000,2022-01-21 12:14:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-17 04:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/2e91e21238572f20e697854fa22a31b2fb91a4aa', 'message': 'DNM: testing ...\n\nChange-Id: If7e1a5495d5a361e65794789f4526d8f06880500\n'}, {'number': 2, 'created': '2022-01-17 07:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/13ab610e88ecbe4581a2fcb31573add776e82111', 'message': 'DNM: testing ...\n\nChange-Id: If7e1a5495d5a361e65794789f4526d8f06880500\n'}, {'number': 3, 'created': '2022-01-17 09:46:54.000000000', 'files': ['manifests/backend/multistore/rbd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/afa3e767b840b004eb238f221059f1c5551636e4', 'message': 'DNM: testing ...\n\nChange-Id: If7e1a5495d5a361e65794789f4526d8f06880500\n'}]",0,824858,afa3e767b840b004eb238f221059f1c5551636e4,6,1,3,9816,,,0,"DNM: testing ...

Change-Id: If7e1a5495d5a361e65794789f4526d8f06880500
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/58/824858/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/backend/multistore/rbd.pp'],1,2e91e21238572f20e697854fa22a31b2fb91a4aa,, if $manage_packages and !defined(Package<| name == $::glance::params::pyceph_package_name|>) {, if $manage_packages and !defined(Package[$::glance::params::pyceph_package_name]) {,1,1
openstack%2Ftripleo-common~master~I5049e88872bfe3aa8072804cb67e8f7178951d9d,openstack/tripleo-common,master,I5049e88872bfe3aa8072804cb67e8f7178951d9d,Fix reference to undefined variables when heat-config times out,MERGED,2022-01-20 01:56:16.000000000,2022-01-21 11:55:44.000000000,2022-01-21 11:54:01.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-20 01:56:16.000000000', 'files': ['tripleo_common/templates/deployments.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2cd1fbd87bfde7ec318356178d1ca4c68859e916', 'message': ""Fix reference to undefined variables when heat-config times out\n\nWhen an async task times out, it doesn't register its result and\nthe subsequent task which refers to the result can't look up details\nlike stderr output or return code.\n\nThis change defines the default values to fix reference to unefined\nvariables.\n\nCloses-Bug: #1958471\nChange-Id: I5049e88872bfe3aa8072804cb67e8f7178951d9d\n""}]",0,825418,2cd1fbd87bfde7ec318356178d1ca4c68859e916,9,4,1,9816,,,0,"Fix reference to undefined variables when heat-config times out

When an async task times out, it doesn't register its result and
the subsequent task which refers to the result can't look up details
like stderr output or return code.

This change defines the default values to fix reference to unefined
variables.

Closes-Bug: #1958471
Change-Id: I5049e88872bfe3aa8072804cb67e8f7178951d9d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/18/825418/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/templates/deployments.yaml'],1,2cd1fbd87bfde7ec318356178d1ca4c68859e916,bug/1958471," - stderr: ""{{ deployment_async_result.stderr_lines | default(['Timed out']) }}"" - status_code: ""{{ deployment_async_result.rc | default(-1) }}"" failed_when: deployment_async_result.rc | default(-1) != 0"," - stderr: ""{{ deployment_async_result.stderr.split('\n') }}"" - status_code: ""{{ deployment_async_result.rc }}"" failed_when: deployment_async_result.rc != 0",3,3
openstack%2Fpuppet-neutron~master~I6f2833dc4dea7dad497c7802dc2c0cbd26bb6a2c,openstack/puppet-neutron,master,I6f2833dc4dea7dad497c7802dc2c0cbd26bb6a2c,designate: Deprecate the project_id parameter,MERGED,2022-01-17 11:05:34.000000000,2022-01-21 11:47:51.000000000,2022-01-21 11:46:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-17 11:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/20a56851f128bde6da711d3f16529b9cd2ca8db1', 'message': 'designate: Deprecate the project_id parameter\n\nThe project_name parameter is commonly used in Puppet OpenStack,\nbecause its value is predictable, and there are only a few modules\nwhich support the project_id parameter.\n\nThis deprecates the project_id parameter in neutron::designate, so that\nwe use project_name more widely.\n\nChange-Id: I6f2833dc4dea7dad497c7802dc2c0cbd26bb6a2c\n'}, {'number': 2, 'created': '2022-01-17 11:07:24.000000000', 'files': ['manifests/designate.pp', 'releasenotes/notes/deprecate-project_id-7aa6981537e33af2.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/a321b3ffa1066ced51622f15964572abf9326d12', 'message': 'designate: Deprecate the project_id parameter\n\nThe project_name parameter is commonly used in Puppet OpenStack,\nbecause its value is predictable, and there are only a few modules\nwhich support the project_id parameter.\n\nThis deprecates the project_id parameter in neutron::designate, so that\nwe use project_name more widely.\n\nChange-Id: I6f2833dc4dea7dad497c7802dc2c0cbd26bb6a2c\n'}]",0,824921,a321b3ffa1066ced51622f15964572abf9326d12,9,3,2,9816,,,0,"designate: Deprecate the project_id parameter

The project_name parameter is commonly used in Puppet OpenStack,
because its value is predictable, and there are only a few modules
which support the project_id parameter.

This deprecates the project_id parameter in neutron::designate, so that
we use project_name more widely.

Change-Id: I6f2833dc4dea7dad497c7802dc2c0cbd26bb6a2c
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/21/824921/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/designate.pp', 'releasenotes/notes/deprecate-project_id-7aa6981537e33af2.yaml']",2,20a56851f128bde6da711d3f16529b9cd2ca8db1,,--- deprecations: - | The ``neutron::designate::project_id`` parameter has been deprecated and will be removed in a future release. Use the ``project_name`` parameter instead. ,,20,6
openstack%2Fpuppet-neutron~master~Id71328af9c2b90101243cd9437c37bb50a2401fc,openstack/puppet-neutron,master,Id71328af9c2b90101243cd9437c37bb50a2401fc,Do not test details of oslo::concurrency,MERGED,2022-01-21 08:09:22.000000000,2022-01-21 11:46:13.000000000,2022-01-21 11:46:13.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 08:09:22.000000000', 'files': ['spec/classes/neutron_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/efdad37833c45cbf17b9d54ac07d97d3c7004150', 'message': 'Do not test details of oslo::concurrency\n\nChange-Id: Id71328af9c2b90101243cd9437c37bb50a2401fc\n'}]",0,825719,efdad37833c45cbf17b9d54ac07d97d3c7004150,7,3,1,9816,,,0,"Do not test details of oslo::concurrency

Change-Id: Id71328af9c2b90101243cd9437c37bb50a2401fc
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/19/825719/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/neutron_init_spec.rb'],1,efdad37833c45cbf17b9d54ac07d97d3c7004150,, should contain_oslo__concurrency('neutron_config').with( :lock_path => '$state_path/lock' ) should contain_oslo__concurrency('neutron_config').with( :lock_path => 'lock_path' ), should contain_neutron_config('oslo_concurrency/lock_path').with_value('$state_path/lock') should contain_neutron_config('oslo_concurrency/lock_path').with_value('lock_path'),6,2
openstack%2Fnetworking-ovn~stable%2Ftrain~I39e3b987b8546fd970a933b846ed23c8a2588258,openstack/networking-ovn,stable/train,I39e3b987b8546fd970a933b846ed23c8a2588258,ovn: Filter ACL columns when syncing the DB,MERGED,2021-11-18 20:11:09.000000000,2022-01-21 11:33:24.000000000,2022-01-21 11:31:48.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-18 20:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f725024347e2900fabaaf04817118966bcf82e49', 'message': 'ovn: Filter ACL columns when syncing the DB\n\nThe patch filters columns from OVN DB only to those that are used by the\novn mechanism driver. It means generated ACLs from Neutron DB and ACLs\nobtained from the OVN DB will always have the same columns. This is\nuseful for db sync script when comparing if given security group rule\nhas corresponding ACL in the OVN DB.\n\nCloses-Bug: #1951296\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\nChange-Id: I39e3b987b8546fd970a933b846ed23c8a2588258\n(cherry picked from commit 23b99e2f127731c85f63c88c7144aa0a111c4abf)\n'}, {'number': 2, 'created': '2021-11-18 20:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4c3c9ce630ee067297f9cacd609b3d4ad9e28773', 'message': 'ovn: Filter ACL columns when syncing the DB\n\nThe patch filters columns from OVN DB only to those that are used by the\novn mechanism driver. It means generated ACLs from Neutron DB and ACLs\nobtained from the OVN DB will always have the same columns. This is\nuseful for db sync script when comparing if given security group rule\nhas corresponding ACL in the OVN DB.\n\nCloses-Bug: #1951296\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\nChange-Id: I39e3b987b8546fd970a933b846ed23c8a2588258\n(cherry picked from commit 23b99e2f127731c85f63c88c7144aa0a111c4abf)\n'}, {'number': 3, 'created': '2021-11-29 00:22:40.000000000', 'files': ['networking_ovn/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/21bd7e8beff29bab43a49cb41d5fdae4e27c51d0', 'message': 'ovn: Filter ACL columns when syncing the DB\n\nThe patch filters columns from OVN DB only to those that are used by the\novn mechanism driver. It means generated ACLs from Neutron DB and ACLs\nobtained from the OVN DB will always have the same columns. This is\nuseful for db sync script when comparing if given security group rule\nhas corresponding ACL in the OVN DB.\n\nCloses-Bug: #1951296\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\nChange-Id: I39e3b987b8546fd970a933b846ed23c8a2588258\n(cherry picked from commit 23b99e2f127731c85f63c88c7144aa0a111c4abf)\n'}]",1,818460,21bd7e8beff29bab43a49cb41d5fdae4e27c51d0,12,3,3,8655,,,0,"ovn: Filter ACL columns when syncing the DB

The patch filters columns from OVN DB only to those that are used by the
ovn mechanism driver. It means generated ACLs from Neutron DB and ACLs
obtained from the OVN DB will always have the same columns. This is
useful for db sync script when comparing if given security group rule
has corresponding ACL in the OVN DB.

Closes-Bug: #1951296
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
Change-Id: I39e3b987b8546fd970a933b846ed23c8a2588258
(cherry picked from commit 23b99e2f127731c85f63c88c7144aa0a111c4abf)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/60/818460/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ovn_db_sync.py'],1,f725024347e2900fabaaf04817118966bcf82e49,bug/1951296-train," acl_columns = (self.ovn_api._tables['ACL'].columns.keys() & set(ovn_const.ACL_EXPECTED_COLUMNS_NBDB)) acl_columns.discard('external_ids') for pg in self.ovn_api.db_list_rows('Port_Group').execute(): acl_string = {k: getattr(acl, k) for k in acl_columns}"," port_groups = self.ovn_api.db_list_rows('Port_Group').execute() for pg in port_groups: acl_string = {} for acl_key in getattr(acl, ""_data"", {}): acl_string[acl_key] = getattr(acl, acl_key) acl_string.pop('meter') acl_string.pop('external_ids')",5,7
openstack%2Fopenstack-ansible~master~I390f538cf4b088e26bb172a242aa482ce67a80a8,openstack/openstack-ansible,master,I390f538cf4b088e26bb172a242aa482ce67a80a8,Drop hosts file distribution tasks,MERGED,2021-09-17 04:56:00.000000000,2022-01-21 11:00:00.000000000,2022-01-21 10:57:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}, {'_account_id': 32666}]","[{'number': 1, 'created': '2021-09-17 04:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/189493fb2d73a6b9cf1eda32e4ee1b469ce06b4a', 'message': 'Drop hosts file distribution tasks\n\nSince hosts file is now templated andn ot require running across all\nhosts, we can just drop that task.\n\nChange-Id: I390f538cf4b088e26bb172a242aa482ce67a80a8\n'}, {'number': 2, 'created': '2022-01-04 13:02:14.000000000', 'files': ['scripts/add-compute.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8cd65feae26f150bf0e39020598f37478e5761f3', 'message': 'Drop hosts file distribution tasks\n\nSince hosts file is now templated andn ot require running across all\nhosts, we can just drop that task.\n\nChange-Id: I390f538cf4b088e26bb172a242aa482ce67a80a8\n'}]",0,809521,8cd65feae26f150bf0e39020598f37478e5761f3,12,5,2,28619,,,0,"Drop hosts file distribution tasks

Since hosts file is now templated andn ot require running across all
hosts, we can just drop that task.

Change-Id: I390f538cf4b088e26bb172a242aa482ce67a80a8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/21/809521/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/add-compute.sh'],1,189493fb2d73a6b9cf1eda32e4ee1b469ce06b4a,,," RUN_TASKS+=(""${OSA_REPO_PATH}/playbooks/openstack-hosts-setup.yml --tags openstack_hosts-config,openstack-hosts"")",0,1
openstack%2Fglance~master~I6e1c64961f0feb920e45ef6a6ed29f2e32265768,openstack/glance,master,I6e1c64961f0feb920e45ef6a6ed29f2e32265768,Updating python testing as per Yoga testing runtime,MERGED,2021-11-24 23:43:16.000000000,2022-01-21 10:58:02.000000000,2022-01-21 10:50:44.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-11-24 23:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b0536390fe1eb35f78d8a8fb5c44939061c63f3f', 'message': 'Updating python testing as per Yoga testing runtime\n\nYoga testing runtime has been updated with py38 and py39\nas voting and removed the py36 testing. Unit tests update are\nhandled by the job template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/818609\n\nthis commit makes other required changes in fucntional jobs and\nupdate the metadata in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I6e1c64961f0feb920e45ef6a6ed29f2e32265768\n'}, {'number': 2, 'created': '2021-12-14 02:59:03.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/ed1183919a9281b62987086368db8b97757839a4', 'message': 'Updating python testing as per Yoga testing runtime\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are\nhandled by the job template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the functional and tips jobs to test\non py39, also update the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I6e1c64961f0feb920e45ef6a6ed29f2e32265768\n'}]",1,819198,ed1183919a9281b62987086368db8b97757839a4,13,6,2,8556,,,0,"Updating python testing as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are
handled by the job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the functional and tips jobs to test
on py39, also update the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: I6e1c64961f0feb920e45ef6a6ed29f2e32265768
",git fetch https://review.opendev.org/openstack/glance refs/changes/98/819198/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,b0536390fe1eb35f78d8a8fb5c44939061c63f3f,yoga-python-testing,"envlist = functional-py39,py39,py38,pep8 [testenv:debug-py39] commands = oslo_debug_helper {posargs}","envlist = functional-py38,py38,py36,pep8[testenv:functional-py36] setenv = {[testenv:functional]setenv} commands = {[testenv:functional]commands} [testenv:functional-py37] setenv = {[testenv:functional]setenv} commands = {[testenv:functional]commands} [testenv:debug-py36] commands = oslo_debug_helper {posargs} [testenv:debug-py37] commands = oslo_debug_helper {posargs} ",46,65
openstack%2Fmagnum~master~I10a6a4d72e9ec635f2c73d9fe64a8d136228f532,openstack/magnum,master,I10a6a4d72e9ec635f2c73d9fe64a8d136228f532,Support extra_network and extra_subnet labels,NEW,2021-02-16 10:18:13.000000000,2022-01-21 10:50:10.000000000,,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 34331}]","[{'number': 1, 'created': '2021-02-16 10:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/492ce98d23bc4c9d2027a55dedb9a8e5dc02e053', 'message': 'WIP: Support additional interface\n\nChange-Id: I10a6a4d72e9ec635f2c73d9fe64a8d136228f532\n'}, {'number': 2, 'created': '2021-02-26 11:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/05c68859705dae8012c1bcb66517e709f4872dcc', 'message': 'Support extra_network and extra_subnet labels\n\nThis allows users to add extra network interface to cluster nodes, e.g.\nstorage network.\n\nStory: 2002448\nTask: 21983\nChange-Id: I10a6a4d72e9ec635f2c73d9fe64a8d136228f532\n'}, {'number': 3, 'created': '2021-02-26 15:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2b6d4cd1e0b55e3ab18550acd64ef59c12954b2a', 'message': 'Support extra_network and extra_subnet labels\n\nThis allows users to add extra network interface to cluster nodes, e.g.\nstorage network.\n\nStory: 2002448\nTask: 21983\nChange-Id: I10a6a4d72e9ec635f2c73d9fe64a8d136228f532\n'}, {'number': 4, 'created': '2021-03-02 10:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8c5884a020fd9f4cda3e85b6b19f2b0f11af9e5e', 'message': 'Support extra_network and extra_subnet labels\n\nThis allows users to add extra network interface to cluster nodes, e.g.\nstorage network.\n\nStory: 2002448\nTask: 21983\nCo-Authored-By: Bharat Kunwar <bharat@stackhpc.com>\nChange-Id: I10a6a4d72e9ec635f2c73d9fe64a8d136228f532\n'}, {'number': 5, 'created': '2021-03-05 09:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/050a042adb696a337a3f255e088bb9708cd5ec83', 'message': 'Support extra_network and extra_subnet labels\n\nThis allows users to add extra network interface to cluster nodes, e.g.\nstorage network.\n\nStory: 2002448\nTask: 21983\nCo-Authored-By: Bharat Kunwar <bharat@stackhpc.com>\nChange-Id: I10a6a4d72e9ec635f2c73d9fe64a8d136228f532\n'}, {'number': 6, 'created': '2021-03-05 09:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c95378ceb5cc05af93b40c2f9d79bb4d0fc866b1', 'message': 'Support extra_network and extra_subnet labels\n\nThis allows users to add extra network interface to cluster nodes, e.g.\nstorage network.\n\nStory: 2002448\nTask: 21983\nCo-Authored-By: Bharat Kunwar <bharat@stackhpc.com>\nChange-Id: I10a6a4d72e9ec635f2c73d9fe64a8d136228f532\n'}, {'number': 7, 'created': '2021-03-05 09:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/15650c6ffbddcdb4e6e62099bda07f894d203286', 'message': 'Support extra_network and extra_subnet labels\n\nThis allows users to add extra network interface to cluster nodes, e.g.\nstorage network.\n\nStory: 2002448\nTask: 21983\nCo-Authored-By: Bharat Kunwar <bharat@stackhpc.com>\nChange-Id: I10a6a4d72e9ec635f2c73d9fe64a8d136228f532\n'}, {'number': 8, 'created': '2021-03-23 16:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cf1087a117869f46fc1584cafbe36695a8d9beb9', 'message': 'Support extra_network and extra_subnet labels\n\nThis allows users to add extra network interface to cluster nodes, e.g.\nstorage network.\n\nStory: 2002448\nTask: 21983\nCo-Authored-By: Bharat Kunwar <bharat@stackhpc.com>\n\nChange-Id: I10a6a4d72e9ec635f2c73d9fe64a8d136228f532\n'}, {'number': 9, 'created': '2021-03-29 13:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cb9b8bd4fafc7bb66aec04d9f47efc33158845b0', 'message': 'Support extra_network and extra_subnet labels\n\nThis allows users to add extra network interface to cluster nodes, e.g.\nstorage network.\n\nStory: 2002448\nTask: 21983\nCo-Authored-By: Bharat Kunwar <bharat@stackhpc.com>\n\nChange-Id: I10a6a4d72e9ec635f2c73d9fe64a8d136228f532\n'}, {'number': 10, 'created': '2021-03-29 13:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/66263d4b5f5f5f9f4c3a9b766f73d116c9dec9b7', 'message': 'Support extra_network and extra_subnet labels\n\nThis allows users to add extra network interface to cluster nodes, e.g.\nstorage network.\n\nStory: 2002448\nTask: 21983\nCo-Authored-By: Bharat Kunwar <bharat@stackhpc.com>\n\nChange-Id: I10a6a4d72e9ec635f2c73d9fe64a8d136228f532\n'}, {'number': 11, 'created': '2022-01-18 15:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e94a85d939bc7e1ee15f43a2e2eb90d1fe1d3adb', 'message': 'Support extra_network and extra_subnet labels\n\nThis allows users to add extra network interface to cluster nodes, e.g.\nstorage network.\n\nStory: 2002448\nTask: 21983\nCo-Authored-By: Bharat Kunwar <bharat@stackhpc.com>\n\nChange-Id: I10a6a4d72e9ec635f2c73d9fe64a8d136228f532\n'}, {'number': 12, 'created': '2022-01-19 14:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1490582d52a15a86c4023ef07da89c8618e99a1c', 'message': 'Support extra_network and extra_subnet labels\n\nThis allows users to add extra network interface to cluster nodes, e.g.\nstorage network.\n\nStory: 2002448\nTask: 21983\nCo-Authored-By: Bharat Kunwar <bharat@stackhpc.com>\n\nChange-Id: I10a6a4d72e9ec635f2c73d9fe64a8d136228f532\n'}, {'number': 13, 'created': '2022-01-20 16:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8a62cad1022b6ed5f84c6756448e9a668a474192', 'message': 'Support extra_network and extra_subnet labels\n\nThis allows users to add extra network interface to cluster nodes, e.g.\nstorage network.\n\nStory: 2002448\nTask: 21983\nCo-Authored-By: Bharat Kunwar <bharat@stackhpc.com>\n\nChange-Id: I10a6a4d72e9ec635f2c73d9fe64a8d136228f532\n'}, {'number': 14, 'created': '2022-01-21 08:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b90defbcf26a5dab5e6fb1d1a0d693162b2c3d86', 'message': 'Support extra_network and extra_subnet labels\n\nThis allows users to add extra network interface to cluster nodes, e.g.\nstorage network.\n\nStory: 2002448\nTask: 21983\nCo-Authored-By: Bharat Kunwar <bharat@stackhpc.com>\n\nChange-Id: I10a6a4d72e9ec635f2c73d9fe64a8d136228f532\n'}, {'number': 15, 'created': '2022-01-21 09:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f8b6f4e728ab0b9f5efac3ea3820c1ef9cfe04e5', 'message': 'Support extra_network and extra_subnet labels\n\nThis allows users to add extra network interface to cluster nodes, e.g.\nstorage network.\n\nStory: 2002448\nTask: 21983\nCo-Authored-By: Bharat Kunwar <bharat@stackhpc.com>\n\nChange-Id: I10a6a4d72e9ec635f2c73d9fe64a8d136228f532\n'}, {'number': 16, 'created': '2022-01-21 09:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d2684776f1a27380a0a92129d7526a4beee76018', 'message': 'Support extra_network and extra_subnet labels\n\nThis allows users to add extra network interface to cluster nodes, e.g.\nstorage network.\n\nStory: 2002448\nTask: 21983\nCo-Authored-By: Bharat Kunwar <bharat@stackhpc.com>\n\nChange-Id: I10a6a4d72e9ec635f2c73d9fe64a8d136228f532\n'}, {'number': 17, 'created': '2022-01-21 10:05:21.000000000', 'files': ['doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'releasenotes/notes/extra-network-interface-68bc169cb467a13e.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/3b414dc95bb24e3cf5c1c21742abfc9420314beb', 'message': 'Support extra_network and extra_subnet labels\n\nThis allows users to add extra network interface to cluster nodes, e.g.\nstorage network.\n\nStory: 2002448\nTask: 21983\nCo-Authored-By: Bharat Kunwar <bharat@stackhpc.com>\n\nChange-Id: I10a6a4d72e9ec635f2c73d9fe64a8d136228f532\n'}]",6,775793,3b414dc95bb24e3cf5c1c21742abfc9420314beb,37,5,17,22629,,,0,"Support extra_network and extra_subnet labels

This allows users to add extra network interface to cluster nodes, e.g.
storage network.

Story: 2002448
Task: 21983
Co-Authored-By: Bharat Kunwar <bharat@stackhpc.com>

Change-Id: I10a6a4d72e9ec635f2c73d9fe64a8d136228f532
",git fetch https://review.opendev.org/openstack/magnum refs/changes/93/775793/16 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml']",4,492ce98d23bc4c9d2027a55dedb9a8e5dc02e053,775793," additional_network: type: string description: > Additional network name to bind ports to instances additional_subnet: type: string description: > Additional subnet name additional_port: not: equals: - get_param: additional_network - '' - port: {if: [""additional_port"", {get_resource: kube_master_eth1}, """"]} - port: {if: [""additional_port"", {get_resource: kube_master_eth1}, """"]} kube_master_eth1: type: OS::Neutron::Port condition: additional_port properties: network: {get_param: additional_network} fixed_ips: - subnet: {get_param: additional_subnet} replacement_policy: AUTO ",,82,1
openstack%2Ftripleo-heat-templates~master~Ia6618111be285d6883bd7adfa2ac39d205d9fcc3,openstack/tripleo-heat-templates,master,Ia6618111be285d6883bd7adfa2ac39d205d9fcc3,Fix cloud-init detection rules,MERGED,2022-01-10 14:04:47.000000000,2022-01-21 10:49:01.000000000,2022-01-21 10:49:01.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-10 14:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f67db5f14a4121f5ffce567ddc58cb29bfb842f0', 'message': ""Fix cloud-init detection rules\n\nOnly wait for cloud init, when it's enabled and active.\nIf it's enabled but inactive (vendor preset: disabled), it can't be\nwaited. If it's active but disabled for the next reboot, it probably\nshouldn't be waited neither.\n\nChange-Id: Ia6618111be285d6883bd7adfa2ac39d205d9fcc3\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2022-01-17 13:20:20.000000000', 'files': ['common/deploy-steps-tasks-step-0.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cef35a45a9a84fd10bdb1959923449f617fbc3ad', 'message': ""Fix cloud-init detection rules\n\nDo not wait for cloud init, when it's disabled via kernel args.\n\nChange-Id: Ia6618111be285d6883bd7adfa2ac39d205d9fcc3\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",8,823994,cef35a45a9a84fd10bdb1959923449f617fbc3ad,21,7,2,6926,,,0,"Fix cloud-init detection rules

Do not wait for cloud init, when it's disabled via kernel args.

Change-Id: Ia6618111be285d6883bd7adfa2ac39d205d9fcc3
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/823994/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks-step-0.j2.yaml'],1,f67db5f14a4121f5ffce567ddc58cb29bfb842f0,, shell: systemctl is-enabled cloud-init.service && systemctl is-active cloud-init.service, shell: systemctl is-active cloud-init.service || systemctl is-enabled cloud-init.service,1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I67b7dc71542533607e3280b4fac3acfb95203b41,openstack/python-tripleoclient,stable/wallaby,I67b7dc71542533607e3280b4fac3acfb95203b41,Fix deploy templates arg validation,MERGED,2022-01-13 20:02:40.000000000,2022-01-21 10:46:33.000000000,2022-01-21 10:42:44.000000000,"[{'_account_id': 7353}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-13 20:02:40.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c870147325bed36da01f60694235a519e22ba707', 'message': ""Fix deploy templates arg validation\n\nWith the addition of the vip file validation, we broke the check for\nthe templates arg resulting in a stack trace if templates is not\nprovided rather then a user friendly error message. This change moves\nthe vip file validation to it's own check later in the process once the\nworking directory has been created. The working directory is not created\nuntil after the validation of params.\n\nNOTE: This has been reworked for wallaby as there was some refactoring\nin Xena that made this conflict a bunch.\n\nChange-Id: I67b7dc71542533607e3280b4fac3acfb95203b41\nCloses-Bug: #1955573\n(cherry picked from commit 6e0f514c8f656f9b934252d39a929fac90ba24b8)\n""}]",1,824642,c870147325bed36da01f60694235a519e22ba707,15,5,1,14985,,,0,"Fix deploy templates arg validation

With the addition of the vip file validation, we broke the check for
the templates arg resulting in a stack trace if templates is not
provided rather then a user friendly error message. This change moves
the vip file validation to it's own check later in the process once the
working directory has been created. The working directory is not created
until after the validation of params.

NOTE: This has been reworked for wallaby as there was some refactoring
in Xena that made this conflict a bunch.

Change-Id: I67b7dc71542533607e3280b4fac3acfb95203b41
Closes-Bug: #1955573
(cherry picked from commit 6e0f514c8f656f9b934252d39a929fac90ba24b8)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/42/824642/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,c870147325bed36da01f60694235a519e22ba707,bug/1955573," def _validate_args(self, parsed_args): def _validate_vip_file(self, stack, working_dir): # Check vip_file only used with network data v2 networks_file_path = utils.get_networks_file_path( working_dir, stack) if not utils.is_network_data_v2(networks_file_path): raise oscexc.CommandError( 'The --vip-file option can only be used in combination ' 'with a network data v2 format networks file. The ' 'provided file {} is network data v1 format'.format( networks_file_path)) self._validate_args(parsed_args) if parsed_args.vip_file: self._validate_vip_file(parsed_args.stack, self.working_dir)"," def _validate_args(self, parsed_args, working_dir): if parsed_args.vip_file: # Check vip_file only used with network data v2 networks_file_path = utils.get_networks_file_path( working_dir, parsed_args.stack) if not utils.is_network_data_v2(networks_file_path): raise oscexc.CommandError( 'The --vip-file option can only be used in combination ' 'with a network data v2 format networks file. The ' 'provided file {} is network data v1 format'.format( networks_file_path)) self._validate_args(parsed_args, self.working_dir)",30,21
openstack%2Ftempest~master~I42f4991d786e74512a666cc12b7901f5effcf10b,openstack/tempest,master,I42f4991d786e74512a666cc12b7901f5effcf10b,"Revert ""Revert ""Make centos8 stream job non voting for bug#1957941""""",MERGED,2022-01-21 05:56:22.000000000,2022-01-21 10:44:29.000000000,2022-01-21 10:39:13.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-21 05:56:22.000000000', 'files': ['zuul.d/tempest-specific.yaml', 'zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5eb51dc061ab5c1bcb78308a3f05b7156f8d9edf', 'message': 'Revert ""Revert ""Make centos8 stream job non voting for bug#1957941""""\n\nThis reverts commit 1e2fe4fb33cd1ef8f0067a3aa2ef8c10c0ba0d2a.\n\nReason for revert: they started failing again with RETRY_LIMIT  \n\nhttps://zuul.openstack.org/builds?job_name=tempest-integrated-compute-centos-8-stream&job_name=tempest+tempest-full-py3-centos-8-stream&skip=0\n\nChange-Id: I42f4991d786e74512a666cc12b7901f5effcf10b\n'}]",2,825730,5eb51dc061ab5c1bcb78308a3f05b7156f8d9edf,8,6,1,8556,,,0,"Revert ""Revert ""Make centos8 stream job non voting for bug#1957941""""

This reverts commit 1e2fe4fb33cd1ef8f0067a3aa2ef8c10c0ba0d2a.

Reason for revert: they started failing again with RETRY_LIMIT  

https://zuul.openstack.org/builds?job_name=tempest-integrated-compute-centos-8-stream&job_name=tempest+tempest-full-py3-centos-8-stream&skip=0

Change-Id: I42f4991d786e74512a666cc12b7901f5effcf10b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/30/825730/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-specific.yaml', 'zuul.d/integrated-gate.yaml']",2,5eb51dc061ab5c1bcb78308a3f05b7156f8d9edf,bug/1957941, # TODO(gmann): Make this job non voting until bug#1957941 if fixed. voting: false,,4,0
openstack%2Ftripleo-ansible~master~Ia0b54c1958453dff8e5b12c270c9b279c6c3cfa9,openstack/tripleo-ansible,master,Ia0b54c1958453dff8e5b12c270c9b279c6c3cfa9,The NFS directory parameter is hardcoded instead of re-used,MERGED,2022-01-10 15:47:31.000000000,2022-01-21 10:42:41.000000000,2022-01-21 10:42:41.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-10 15:47:31.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4ffee31c65814cda62a4c645d8b5d7fdefe824fa', 'message': 'The NFS directory parameter is hardcoded instead of re-used\n\nCurrently, the NFS directory is parameterizable, however the\nvariables that are used to configure the nfs url in ReaR are\nhardcoding the directory on the URL. This change removes that\nhardcode and replace it with the re-use of the variable.\n\nChange-Id: Ia0b54c1958453dff8e5b12c270c9b279c6c3cfa9\n'}]",12,824006,4ffee31c65814cda62a4c645d8b5d7fdefe824fa,35,5,1,32968,,,0,"The NFS directory parameter is hardcoded instead of re-used

Currently, the NFS directory is parameterizable, however the
variables that are used to configure the nfs url in ReaR are
hardcoding the directory on the URL. This change removes that
hardcode and replace it with the re-use of the variable.

Change-Id: Ia0b54c1958453dff8e5b12c270c9b279c6c3cfa9
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/824006/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/defaults/main.yml'],1,4ffee31c65814cda62a4c645d8b5d7fdefe824fa,nfs_directory,"tripleo_backup_and_restore_output_url: ""nfs://{{ tripleo_backup_and_restore_server }}{{ tripleo_backup_and_restore_shared_storage_folder }}"" tripleo_backup_and_restore_backup_url: ""nfs://{{ tripleo_backup_and_restore_server }}{{ tripleo_backup_and_restore_shared_storage_folder }}""","tripleo_backup_and_restore_output_url: ""nfs://{{ tripleo_backup_and_restore_server }}/ctl_plane_backups"" tripleo_backup_and_restore_backup_url: ""nfs://{{ tripleo_backup_and_restore_server }}/ctl_plane_backups""",2,2
openstack%2Fopenstack-ansible~master~I7798aeb6b374ce4b95db9ac415b1f8d9f5c334a6,openstack/openstack-ansible,master,I7798aeb6b374ce4b95db9ac415b1f8d9f5c334a6,Collect the contents of /etc/ssh during zuul job log gathering,MERGED,2022-01-20 10:15:58.000000000,2022-01-21 10:36:20.000000000,2022-01-21 10:33:37.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-01-20 10:15:58.000000000', 'files': ['scripts/log-collect.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1ba1940016a0e3cfdfdd51169d854d7b9e2b6abb', 'message': 'Collect the contents of /etc/ssh during zuul job log gathering\n\nChange-Id: I7798aeb6b374ce4b95db9ac415b1f8d9f5c334a6\n'}]",1,825475,1ba1940016a0e3cfdfdd51169d854d7b9e2b6abb,11,4,1,25023,,,0,"Collect the contents of /etc/ssh during zuul job log gathering

Change-Id: I7798aeb6b374ce4b95db9ac415b1f8d9f5c334a6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/75/825475/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/log-collect.sh'],1,1ba1940016a0e3cfdfdd51169d854d7b9e2b6abb,, ssh \,,1,0
openstack%2Fkolla-ansible~master~If52d6757c8c57a6a32b2cf2a481b748e25fc5607,openstack/kolla-ansible,master,If52d6757c8c57a6a32b2cf2a481b748e25fc5607,"Revert ""[CI] [to-revert] Avoid upgrades on CentOS Stream 8""",MERGED,2022-01-20 13:30:54.000000000,2022-01-21 10:09:07.000000000,2022-01-21 10:04:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32291}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-01-20 13:30:54.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/63141a191d6b8e5c95104179a04b517a7d4fdf15', 'message': 'Revert ""[CI] [to-revert] Avoid upgrades on CentOS Stream 8""\n\nThis reverts commit 9449bcfb705f6547dd1774c33fdcb65784b9a490.\n\nReason for revert: Ping bug fixed\n\nChange-Id: If52d6757c8c57a6a32b2cf2a481b748e25fc5607\n'}]",0,825464,63141a191d6b8e5c95104179a04b517a7d4fdf15,9,5,1,30491,,,0,"Revert ""[CI] [to-revert] Avoid upgrades on CentOS Stream 8""

This reverts commit 9449bcfb705f6547dd1774c33fdcb65784b9a490.

Reason for revert: Ping bug fixed

Change-Id: If52d6757c8c57a6a32b2cf2a481b748e25fc5607
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/825464/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,63141a191d6b8e5c95104179a04b517a7d4fdf15,centos8-ping-pain, - kolla-ansible-centos8s-source-upgrade - kolla-ansible-centos8s-source-upgrade-cephadm - kolla-ansible-centos8s-source-upgrade - kolla-ansible-centos8s-source-swift-upgrade,,4,0
openstack%2Fpbr~master~Ie9ae9c8943b6ca8afc8ce42ac1881f2e3be926e5,openstack/pbr,master,Ie9ae9c8943b6ca8afc8ce42ac1881f2e3be926e5,[DNM] trying reproduce CI error,ABANDONED,2022-01-20 15:53:04.000000000,2022-01-21 09:54:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-20 15:53:04.000000000', 'files': ['pbr/core.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/d663eba2b89c45da1273948c18f2b7e1377a8348', 'message': '[DNM] trying reproduce CI error\n\nChange-Id: Ie9ae9c8943b6ca8afc8ce42ac1881f2e3be926e5\n'}]",1,825537,d663eba2b89c45da1273948c18f2b7e1377a8348,4,1,1,28522,,,0,"[DNM] trying reproduce CI error

Change-Id: Ie9ae9c8943b6ca8afc8ce42ac1881f2e3be926e5
",git fetch https://review.opendev.org/openstack/pbr refs/changes/37/825537/1 && git format-patch -1 --stdout FETCH_HEAD,['pbr/core.py'],1,d663eba2b89c45da1273948c18f2b7e1377a8348,dnm,,,1,0
openstack%2Fpuppet-tempest~master~Ie66912eaa63d8951ba35e541b3bc95dc9651ba8f,openstack/puppet-tempest,master,Ie66912eaa63d8951ba35e541b3bc95dc9651ba8f,Do not test details of oslo::concurrency,MERGED,2022-01-21 08:13:40.000000000,2022-01-21 09:44:10.000000000,2022-01-21 09:44:10.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 08:13:40.000000000', 'files': ['spec/classes/tempest_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/794128fa38719c3302e581316ce5db8e599ed72f', 'message': 'Do not test details of oslo::concurrency\n\nChange-Id: Ie66912eaa63d8951ba35e541b3bc95dc9651ba8f\n'}]",0,825720,794128fa38719c3302e581316ce5db8e599ed72f,7,3,1,9816,,,0,"Do not test details of oslo::concurrency

Change-Id: Ie66912eaa63d8951ba35e541b3bc95dc9651ba8f
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/20/825720/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/tempest_init_spec.rb'],1,794128fa38719c3302e581316ce5db8e599ed72f,, is_expected.to contain_oslo__concurrency('tempest_config').with( :lock_path => '/var/lib/tempest' ), is_expected.to contain_tempest_config('oslo_concurrency/lock_path').with(:value => '/var/lib/tempest'),3,1
openstack%2Fpuppet-cinder~master~I1f084f25173f6a0b8f1a67fb8b57f765e66f7b20,openstack/puppet-cinder,master,I1f084f25173f6a0b8f1a67fb8b57f765e66f7b20,Do not test details of oslo::concurrency,MERGED,2022-01-21 08:05:03.000000000,2022-01-21 09:39:36.000000000,2022-01-21 09:39:36.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 08:05:03.000000000', 'files': ['spec/classes/cinder_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/1002a8252227de9de2fed38ccfb49e047137b629', 'message': 'Do not test details of oslo::concurrency\n\nChange-Id: I1f084f25173f6a0b8f1a67fb8b57f765e66f7b20\n'}]",0,825716,1002a8252227de9de2fed38ccfb49e047137b629,7,3,1,9816,,,0,"Do not test details of oslo::concurrency

Change-Id: I1f084f25173f6a0b8f1a67fb8b57f765e66f7b20
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/16/825716/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/cinder_init_spec.rb'],1,1002a8252227de9de2fed38ccfb49e047137b629,, is_expected.to contain_oslo__concurrency('cinder_config').with( :lock_path => '/var/lock/cinder' ) it { is_expected.to contain_oslo__concurrency('cinder_config').with( :lock_path => '/var/run/cinder.locks' ) }, is_expected.to contain_cinder_config('oslo_concurrency/lock_path').with(:value => '/var/lock/cinder') it { is_expected.to contain_cinder_config('oslo_concurrency/lock_path').with_value('/var/run/cinder.locks') },6,2
openstack%2Fvalidations-common~master~I9da5b306d59e1aab3b9fd9d9db7294b1c69655be,openstack/validations-common,master,I9da5b306d59e1aab3b9fd9d9db7294b1c69655be,Molecule test restoration,MERGED,2022-01-12 12:20:32.000000000,2022-01-21 09:30:33.000000000,2022-01-21 09:24:59.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-01-12 12:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/793b1c48c65a80134272ad8618f1f013c5b28677', 'message': 'Molecule test restoration\n\nSetting molecule to use centos8 stream instead of UBI8.\nChanging nodeset of the CI jobs to centos8 stream.\n\nAlso reenables the end-of-file-fixer and simplifies testenvs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9da5b306d59e1aab3b9fd9d9db7294b1c69655be\n'}, {'number': 2, 'created': '2022-01-13 09:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d5ef577f5a07d7e3415dc04b54e422de517b506a', 'message': 'Molecule test restoration\n\nSetting molecule to use centos8 stream instead of UBI8.\nChanging nodeset of the CI jobs to centos8 stream.\n\nAlso reenables the end-of-file-fixer and simplifies testenvs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9da5b306d59e1aab3b9fd9d9db7294b1c69655be\n'}, {'number': 3, 'created': '2022-01-13 12:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c9cd978f6b5053905d0267aa27ff7dde1e2a4936', 'message': 'Molecule test restoration\n\nSetting molecule to use centos8 stream instead of UBI8.\nChanging nodeset of the CI jobs to centos8 stream.\n\nAlso reenables the end-of-file-fixer and simplifies testenvs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9da5b306d59e1aab3b9fd9d9db7294b1c69655be\n'}, {'number': 4, 'created': '2022-01-13 14:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d5543f335bb61f5af799fb10a497d123dfc77e8c', 'message': 'Molecule test restoration\n\nSetting molecule to use centos8 stream instead of UBI8.\nChanging nodeset of the CI jobs to centos8 stream.\n\nAlso reenables the end-of-file-fixer and simplifies testenvs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9da5b306d59e1aab3b9fd9d9db7294b1c69655be\n'}, {'number': 5, 'created': '2022-01-13 15:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/1d87e172413be2aba1b5189bb32a6a59ee76761f', 'message': 'Molecule test restoration\n\nSetting molecule to use centos8 stream instead of UBI8.\nChanging nodeset of the CI jobs to centos8 stream.\n\nAlso reenables the end-of-file-fixer and simplifies testenvs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9da5b306d59e1aab3b9fd9d9db7294b1c69655be\n'}, {'number': 6, 'created': '2022-01-13 15:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/cf11de89508465bed790a09e455467e3454ed5ea', 'message': 'Molecule test restoration\n\nSetting molecule to use centos8 stream instead of UBI8.\nChanging nodeset of the CI jobs to centos8 stream.\n\nAlso reenables the end-of-file-fixer and simplifies testenvs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9da5b306d59e1aab3b9fd9d9db7294b1c69655be\n'}, {'number': 7, 'created': '2022-01-17 15:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9e1cee2677c248a7ab0d562b09e2979c4701776a', 'message': 'Molecule test restoration\n\nSetting molecule to use centos8 stream instead of UBI8.\nChanging nodeset of the CI jobs to centos8 stream.\n\nAlso reenables the end-of-file-fixer and simplifies testenvs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9da5b306d59e1aab3b9fd9d9db7294b1c69655be\n'}, {'number': 8, 'created': '2022-01-19 14:29:46.000000000', 'files': ['test-requirements.txt', '.zuul.yaml', 'tests/hosts.ini', 'playbooks/molecule/pre.yml', '.config/molecule/Dockerfile', 'scripts/bindep-install', 'validations_common/roles/service_status/molecule/systemd/molecule.yml', 'LICENSE', 'tox.ini', 'validations_common/roles/service_status/molecule/default/molecule.yml', '.config/molecule/config.yml', 'validations_common/roles/service_status/molecule/docker/molecule.yml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ae303b9aaec4054bb05e5fb2f071b61b79b0156e', 'message': 'Molecule test restoration\n\nSetting molecule to use centos8 stream instead of UBI8.\nChanging nodeset of the CI jobs to centos8 stream.\n\nAlso reenables the end-of-file-fixer and simplifies testenvs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9da5b306d59e1aab3b9fd9d9db7294b1c69655be\n'}]",2,824408,ae303b9aaec4054bb05e5fb2f071b61b79b0156e,21,4,8,32926,,,0,"Molecule test restoration

Setting molecule to use centos8 stream instead of UBI8.
Changing nodeset of the CI jobs to centos8 stream.

Also reenables the end-of-file-fixer and simplifies testenvs

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9da5b306d59e1aab3b9fd9d9db7294b1c69655be
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/08/824408/8 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', '.zuul.yaml', 'tests/hosts.ini', 'playbooks/molecule/pre.yml', '.config/molecule/Dockerfile', 'scripts/bindep-install', 'validations_common/roles/service_status/molecule/systemd/molecule.yml', 'LICENSE', 'tox.ini', 'validations_common/roles/service_status/molecule/default/molecule.yml', '.config/molecule/config.yml', 'validations_common/roles/service_status/molecule/docker/molecule.yml']",12,793b1c48c65a80134272ad8618f1f013c5b28677,molecule-centos8, - name: centos8 hostname: centos8 image: centos/centos:stream8 registry: url: quay.io, - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com,56,42
openstack%2Fneutron~master~I4542290eb3dc58a4e9a710076102669f81e916fd,openstack/neutron,master,I4542290eb3dc58a4e9a710076102669f81e916fd,Don't publish PROVISIONING_COMPLETE notification if there wasn't block,ABANDONED,2022-01-17 15:56:58.000000000,2022-01-21 09:22:38.000000000,,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-17 15:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f37da3edf4233fa7d63c0f76ab6788272913975', 'message': ""Don't publish PROVISIONING_COMPLETE notification if there wasn't block\n\nIf some entity, like e.g. DHCP sends information that provisioning of\nthe object by the entity is complete but there wasn't really\nprovisioning block for that object by that entity, don't send\nPROVISIONING_COMPLETE notification at all.\nSending it may cause unexpected switch of the e.g. port from DOWN to\nUP and send unexpected notifcation to the nova.\n\nRelated-Bug: #1953478\nChange-Id: I4542290eb3dc58a4e9a710076102669f81e916fd\n""}, {'number': 2, 'created': '2022-01-18 13:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bd4da745cd3a0b239529f53feda34f14c91152a', 'message': ""Don't publish PROVISIONING_COMPLETE notification if there wasn't block\n\nIf some entity, like e.g. DHCP sends information that provisioning of\nthe object by the entity is complete but there wasn't really\nprovisioning block for that object by that entity, don't send\nPROVISIONING_COMPLETE notification at all.\nSending it may cause unexpected switch of the e.g. port from DOWN to\nUP and send unexpected notifcation to the nova.\n\nThere are some types of port's device_owners, like router or dhcp ports\nwhich don't use provisioning blocks, but still when such ports are\nreported as UP on the L2 agent, there is need to trigger\nPROVISIONING_COMPLETE notification to update state of the port in\nthe database. To do that, PROVISIONING_COMPLETE notifications are\ntriggered for such types of ports always, even if there wasn't\nprovisioning lock for the object in the database.\n\nCloses-Bug: #1953478\nChange-Id: I4542290eb3dc58a4e9a710076102669f81e916fd\n""}, {'number': 3, 'created': '2022-01-19 12:05:18.000000000', 'files': ['neutron/plugins/ml2/rpc.py', 'neutron/tests/unit/plugins/ml2/test_rpc.py', 'neutron/db/provisioning_blocks.py', 'neutron/tests/unit/db/test_provisioning_blocks.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/74a06ab934e37798d8cd96f4106303eae5fb32fd', 'message': ""Don't publish PROVISIONING_COMPLETE notification if there wasn't block\n\nIf some entity, like e.g. DHCP sends information that provisioning of\nthe object by the entity is complete but there wasn't really\nprovisioning block for that object by that entity, don't send\nPROVISIONING_COMPLETE notification at all.\nSending it may cause unexpected switch of the e.g. port from DOWN to\nUP and send unexpected notifcation to the nova.\n\nThere are some types of port's device_owners, like router or dhcp ports\nwhich don't use provisioning blocks, but still when such ports are\nreported as UP on the L2 agent, there is need to trigger\nPROVISIONING_COMPLETE notification to update state of the port in\nthe database. To do that, PROVISIONING_COMPLETE notifications are\ntriggered for such types of ports always, even if there wasn't\nprovisioning lock for the object in the database.\n\nCloses-Bug: #1953478\nChange-Id: I4542290eb3dc58a4e9a710076102669f81e916fd\n""}]",7,824981,74a06ab934e37798d8cd96f4106303eae5fb32fd,21,5,3,11975,,,0,"Don't publish PROVISIONING_COMPLETE notification if there wasn't block

If some entity, like e.g. DHCP sends information that provisioning of
the object by the entity is complete but there wasn't really
provisioning block for that object by that entity, don't send
PROVISIONING_COMPLETE notification at all.
Sending it may cause unexpected switch of the e.g. port from DOWN to
UP and send unexpected notifcation to the nova.

There are some types of port's device_owners, like router or dhcp ports
which don't use provisioning blocks, but still when such ports are
reported as UP on the L2 agent, there is need to trigger
PROVISIONING_COMPLETE notification to update state of the port in
the database. To do that, PROVISIONING_COMPLETE notifications are
triggered for such types of ports always, even if there wasn't
provisioning lock for the object in the database.

Closes-Bug: #1953478
Change-Id: I4542290eb3dc58a4e9a710076102669f81e916fd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/824981/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/provisioning_blocks.py', 'neutron/tests/unit/db/test_provisioning_blocks.py']",2,9f37da3edf4233fa7d63c0f76ab6788272913975,bug/1953478," self.assertFalse(self.provisioned.called) self.provisioned.assert_not_called() pb.provisioning_complete(self.ctx, self.port.id, resources.PORT, 'entity1') self.assertEqual(self.port.id, payload.resource_id)"," self.assertTrue(self.provisioned.called) self.assertEqual(port2.id, payload.resource_id)",21,11
openstack%2Fkolla-ansible~master~I42957ce6f7eeff89085d5ea71d241ee6740fe356,openstack/kolla-ansible,master,I42957ce6f7eeff89085d5ea71d241ee6740fe356,Add service role to service users,NEW,2021-10-27 01:24:30.000000000,2022-01-21 09:06:42.000000000,,"[{'_account_id': 782}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-27 01:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fb81b49fe23134fe6f02357b51f36dc8adadf842', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration in all Openstack services to use system scoped tokens when\nauthenticating with Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: headphone james <headphonejames@gmail.com>\n'}, {'number': 2, 'created': '2021-10-27 18:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e800b3f208309a5039c268e3b36a717231b7761f', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration in all Openstack services to use system scoped tokens when\nauthenticating with Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: headphone james <headphonejames@gmail.com>\n'}, {'number': 3, 'created': '2021-10-27 23:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc2241ee76d6f1958a27e86b7dd7e7bf81ba0184', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration in all Openstack services to use system scoped tokens when\nauthenticating with Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\n'}, {'number': 4, 'created': '2021-10-28 16:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a6aba30684c612487cdead103a43e8265684ad86', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration in all Openstack services to use system scoped tokens when\nauthenticating with Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\n'}, {'number': 5, 'created': '2021-10-29 18:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aa2c9bd24915382ced75c391008ceb47e6a906b2', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration in all Openstack services to use system scoped tokens when\nauthenticating with Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\nSigned-off-by: headphone james <headphonejames@gmail.com>\n'}, {'number': 6, 'created': '2021-10-29 22:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5fa13f1488673905b25ed9f6887f8cad2dc6115a', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration in all Openstack services to use system scoped tokens when\nauthenticating with Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\nSigned-off-by: headphone james <headphonejames@gmail.com>\n'}, {'number': 7, 'created': '2021-10-29 23:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/db796c950382e5a612c2a75cf45e793e97f6703f', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration in all Openstack services to use system scoped tokens when\nauthenticating with Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\n'}, {'number': 8, 'created': '2021-11-01 22:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/404218380a27bb76b2a312b5042be7cf7e79d669', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration for [keystone_authtoken] section in all\nOpenstack services to use system scoped tokens when authenticating\nwith Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\nSigned-off-by: headphone james <headphonejames@gmail.com>\n'}, {'number': 9, 'created': '2021-11-02 00:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e60e74599a842f47da1434ab1c9990d819e3a14e', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration for [keystone_authtoken] section in all\nOpenstack services to use system scoped tokens when authenticating\nwith Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\n'}, {'number': 10, 'created': '2021-11-02 20:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3a09064b363b187fd92b77e458fd399f4c326644', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration for [keystone_authtoken] section in all\nOpenstack services to use system scoped tokens when authenticating\nwith Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\n'}, {'number': 11, 'created': '2021-11-05 19:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b0e618d1ba80a6c07c6de9159b7f3f136db10a85', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration for [keystone_authtoken] section in all\nOpenstack services to use system scoped tokens when authenticating\nwith Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\n'}, {'number': 12, 'created': '2021-11-05 19:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8216b3df0651b308acc3077eba8c351880cdc4a1', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration for [keystone_authtoken] section in all\nOpenstack services to use system scoped tokens when authenticating\nwith Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\n'}, {'number': 13, 'created': '2021-11-05 21:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/86bef10cf17d15cf05c941c632f47f8a585ae2aa', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration for [keystone_authtoken] section in all\nOpenstack services to use system scoped tokens when authenticating\nwith Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\n'}, {'number': 14, 'created': '2021-11-11 19:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aa06ef04784282eecad55af94793e2e8912a6346', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration for [keystone_authtoken] section in all\nOpenstack services to use system scoped tokens when authenticating\nwith Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\nSigned-off-by: james kirsch <generalfuzz@gmail.com>\n'}, {'number': 15, 'created': '2021-11-11 23:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/325e2a387103ff3222fc604125b021089d8b3da3', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration for [keystone_authtoken] section in all\nOpenstack services to use system scoped tokens when authenticating\nwith Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\nSigned-off-by: james kirsch <generalfuzz@gmail.com>\n'}, {'number': 16, 'created': '2021-11-13 00:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2b160276d6aafb1f1ba3eae44010fa3e676efa87', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration for [keystone_authtoken] section in all\nOpenstack services to use system scoped tokens when authenticating\nwith Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\n'}, {'number': 17, 'created': '2021-11-13 01:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9168dca86155822daf5317453bd81c7eade8423e', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration for [keystone_authtoken] section in all\nOpenstack services to use system scoped tokens when authenticating\nwith Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\n'}, {'number': 18, 'created': '2021-11-18 18:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/07a9d1046c7639e0d6ba99e91a538722c76f496f', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration for [keystone_authtoken] section in all\nOpenstack services to use system scoped tokens when authenticating\nwith Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\n'}, {'number': 19, 'created': '2021-11-18 18:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e3498a9c1963f24b0dbdde02a7d99d065f7163f1', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration for [keystone_authtoken] section in all\nOpenstack services to use system scoped tokens when authenticating\nwith Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\n'}, {'number': 20, 'created': '2021-11-18 21:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b96c1b0398e69ea13336fbc879392b4bd881470b', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration for [keystone_authtoken] section in all\nOpenstack services to use system scoped tokens when authenticating\nwith Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\n'}, {'number': 21, 'created': '2021-12-09 18:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/98c66f99a8111d26c29c5811f1d83b836858f92f', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration for [keystone_authtoken] section in all\nOpenstack services to use system scoped tokens when authenticating\nwith Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\nSigned-off-by: james kirsch <generalfuzz@gmail.com>\n'}, {'number': 22, 'created': '2021-12-10 18:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f7288aab2bfd68a73a4f59396ad0217a0044413b', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration for [keystone_authtoken] section in all\nOpenstack services to use system scoped tokens when authenticating\nwith Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\nSigned-off-by: james kirsch <generalfuzz@gmail.com>\n'}, {'number': 23, 'created': '2021-12-15 21:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/189a04d70a7c5aef8678645be868b3015339a415', 'message': 'Use system scoped tokens with Keystone\n\nUpdate configuration for [keystone_authtoken] section in all\nOpenstack services to use system scoped tokens when authenticating\nwith Keystone.\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\nSigned-off-by: james kirsch <generalfuzz@gmail.com>\n'}, {'number': 24, 'created': '2022-01-04 20:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/be47433bcf5f2d9b1c81bf68be6e12a83cf2c2b3', 'message': 'Add service role to service users\n\nAdd the service role to all service users. This is to support Keystone\npolicy validation as part of the RBAC efforts in Yoga time frame.\n\nThe wiki doc describing the work to support RBAC and system scope\nin Kolla-Ansible is:\n\nhttps://etherpad.opendev.org/p/enabling-system-scope-in-kolla-ansible\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: James Kirsch <generalfuzz@gmail.com>\nSigned-off-by: james kirsch <generalfuzz@gmail.com>\n'}, {'number': 25, 'created': '2022-01-04 22:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/46657da6121ba8cfed1b38c267318605e7d4ce4e', 'message': 'Add service role to service users\n\nAdd the service role to all service users. This is to support Keystone\npolicy validation as part of the RBAC efforts in Yoga time frame.\n\nThe wiki doc describing the work to support RBAC and system scope\nin Kolla-Ansible is:\n\nhttps://etherpad.opendev.org/p/enabling-system-scope-in-kolla-ansible\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\n'}, {'number': 26, 'created': '2022-01-05 00:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a6432a7ca755bb8ef026da3f9862cce1bd0a30de', 'message': 'Add service role to service users\n\nAdd the service role to all service users. This is to support Keystone\npolicy validation as part of the RBAC efforts in Yoga time frame.\n\nThe wiki doc describing the work to support RBAC and system scope\nin Kolla-Ansible is:\n\nhttps://etherpad.opendev.org/p/enabling-system-scope-in-kolla-ansible\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\n'}, {'number': 27, 'created': '2022-01-05 00:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/76ade34e1cfa45ecd9e4085099730c421e222c49', 'message': 'Add service role to service users\n\nAdd the service role to all service users. This is to support Keystone\npolicy validation as part of the RBAC efforts in Yoga time frame.\n\nThe wiki doc describing the work to support RBAC and system scope\nin Kolla-Ansible is:\n\nhttps://etherpad.opendev.org/p/enabling-system-scope-in-kolla-ansible\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\n'}, {'number': 28, 'created': '2022-01-18 02:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/da1c4b37e227644c1830bf7869adadf82512c317', 'message': 'Add service role to service users\n\nAdd the service role to all service users. This is to support Keystone\npolicy validation as part of the RBAC efforts in Yoga time frame.\n\nThe wiki doc describing the work to support RBAC and system scope\nin Kolla-Ansible is:\n\nhttps://etherpad.opendev.org/p/enabling-system-scope-in-kolla-ansible\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: james kirsch <generalfuzz@gmail.com>\n'}, {'number': 29, 'created': '2022-01-18 04:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eee69f2e644c75e4a24b8046d66c6d3fb199edf1', 'message': 'Add service role to service users\n\nAdd the service role to all service users. This is to support Keystone\npolicy validation as part of the RBAC efforts in Yoga time frame.\n\nThe wiki doc describing the work to support RBAC and system scope\nin Kolla-Ansible is:\n\nhttps://etherpad.opendev.org/p/enabling-system-scope-in-kolla-ansible\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: james kirsch <generalfuzz@gmail.com>\n'}, {'number': 30, 'created': '2022-01-18 21:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dced429fc1f7282cff5456932bf438a95d25f1b6', 'message': 'Add service role to service users\n\nAdd the service role to all service users. This is to support Keystone\npolicy validation as part of the RBAC efforts in Yoga time frame.\n\nThe wiki doc describing the work to support RBAC and system scope\nin Kolla-Ansible is:\n\nhttps://etherpad.opendev.org/p/enabling-system-scope-in-kolla-ansible\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: james kirsch <generalfuzz@gmail.com>\n'}, {'number': 31, 'created': '2022-01-19 17:30:52.000000000', 'files': ['ansible/roles/freezer/tasks/register.yml', 'ansible/roles/cyborg/tasks/register.yml', 'ansible/roles/magnum/tasks/upgrade.yml', 'ansible/roles/ceilometer/tasks/upgrade.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/blazar/tasks/upgrade.yml', 'ansible/roles/monasca/tasks/register.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/solum/tasks/upgrade.yml', 'ansible/roles/tacker/tasks/register.yml', 'ansible/roles/freezer/tasks/upgrade.yml', 'ansible/roles/nova/tasks/upgrade.yml', 'ansible/roles/zun/tasks/upgrade.yml', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/barbican/tasks/upgrade.yml', 'releasenotes/notes/add-service-role-to-service-users-79e178f0b1b82b23.yaml', 'ansible/roles/aodh/tasks/upgrade.yml', 'ansible/roles/glance/tasks/register.yml', 'ansible/roles/masakari/tasks/register.yml', 'ansible/roles/sahara/tasks/upgrade.yml', 'ansible/roles/kuryr/tasks/upgrade.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/keystone/tasks/upgrade.yml', 'ansible/roles/magnum/tasks/register.yml', 'ansible/roles/ceph-rgw/tasks/upgrade.yml', 'ansible/roles/trove/tasks/upgrade.yml', 'ansible/roles/swift/tasks/upgrade.yml', 'ansible/roles/designate/tasks/upgrade.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/ceph-rgw/tasks/register.yml', 'ansible/roles/monasca/tasks/upgrade.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/sahara/tasks/register.yml', 'ansible/roles/gnocchi/tasks/register.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/ceilometer/tasks/register.yml', 'ansible/roles/octavia/tasks/register.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/cloudkitty/tasks/register.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/neutron/tasks/register.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/cinder/tasks/register.yml', 'ansible/roles/glance/tasks/upgrade.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/senlin/tasks/register.yml', 'ansible/roles/keystone/tasks/register.yml', 'ansible/group_vars/all.yml', 'ansible/roles/watcher/tasks/register.yml', 'ansible/roles/tacker/tasks/upgrade.yml', 'ansible/roles/nova/tasks/register.yml', 'ansible/roles/senlin/tasks/upgrade.yml', 'ansible/roles/masakari/tasks/upgrade.yml', 'ansible/roles/cloudkitty/tasks/upgrade.yml', 'ansible/roles/murano/tasks/upgrade.yml', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/keystone/tasks/register_identity_providers.yml', 'ansible/roles/vitrage/tasks/register.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/octavia/tasks/upgrade.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/murano/tasks/register.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/manila/tasks/upgrade.yml', 'ansible/roles/heat/tasks/upgrade.yml', 'ansible/roles/neutron/tasks/upgrade.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/ceph-rgw/defaults/main.yml', 'ansible/roles/barbican/tasks/register.yml', 'ansible/roles/watcher/tasks/upgrade.yml', 'ansible/roles/ironic/tasks/upgrade.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/manila/tasks/register.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/ironic/tasks/register.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/swift/tasks/register.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/mistral/tasks/upgrade.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/kuryr/tasks/register.yml', 'ansible/roles/trove/tasks/register.yml', 'ansible/roles/mistral/tasks/register.yml', 'ansible/roles/blazar/tasks/register.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/aodh/tasks/register.yml', 'ansible/roles/designate/tasks/register.yml', 'ansible/roles/solum/tasks/register.yml', 'ansible/roles/zun/tasks/register.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/placement/tasks/upgrade.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/cinder/tasks/upgrade.yml', 'ansible/roles/placement/tasks/register.yml', 'ansible/roles/cyborg/tasks/upgrade.yml', 'ansible/roles/gnocchi/tasks/upgrade.yml', 'ansible/roles/vitrage/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d819babd30cd3f56e450ad19234556d3f43eb73e', 'message': 'Add service role to service users\n\nAdd the service role to all service users. This is to support Keystone\npolicy validation as part of the RBAC efforts in Yoga time frame.\n\nThe wiki doc describing the work to support RBAC and system scope\nin Kolla-Ansible is:\n\nhttps://etherpad.opendev.org/p/enabling-system-scope-in-kolla-ansible\n\nChange-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356\nSigned-off-by: james kirsch <generalfuzz@gmail.com>\n'}]",86,815577,d819babd30cd3f56e450ad19234556d3f43eb73e,107,3,31,30810,,,0,"Add service role to service users

Add the service role to all service users. This is to support Keystone
policy validation as part of the RBAC efforts in Yoga time frame.

The wiki doc describing the work to support RBAC and system scope
in Kolla-Ansible is:

https://etherpad.opendev.org/p/enabling-system-scope-in-kolla-ansible

Change-Id: I42957ce6f7eeff89085d5ea71d241ee6740fe356
Signed-off-by: james kirsch <generalfuzz@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/77/815577/25 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/keystone/tasks/register_identity_providers.yml', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/ceilometer/templates/ceilometer.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/service-ks-register/tasks/main.yml', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2']",35,fb81b49fe23134fe6f02357b51f36dc8adadf842,keystone-system-scope,system_scope = all,project_domain_id = {{ default_project_domain_id }} project_name = service,57,71
openstack%2Fmagnum~master~I894b89ade625eba2e5c71d1f9001af9e41a5de8b,openstack/magnum,master,I894b89ade625eba2e5c71d1f9001af9e41a5de8b,resolving comments,ABANDONED,2022-01-14 09:08:18.000000000,2022-01-21 08:49:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-14 09:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/76425d3f4be17f7dba4b93d211bfb45c70c8da68', 'message': 'resolving comments\n\nChange-Id: I894b89ade625eba2e5c71d1f9001af9e41a5de8b\n'}, {'number': 2, 'created': '2022-01-14 09:11:54.000000000', 'files': ['doc/source/user/index.rst', 'releasenotes/notes/calico-3.18-193c895134e9c3c1.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/bd3344a5ceea708792cf078143b1c819624eadf4', 'message': 'resolving comments\n\nChange-Id: I894b89ade625eba2e5c71d1f9001af9e41a5de8b\n'}]",0,824682,bd3344a5ceea708792cf078143b1c819624eadf4,4,1,2,34213,,,0,"resolving comments

Change-Id: I894b89ade625eba2e5c71d1f9001af9e41a5de8b
",git fetch https://review.opendev.org/openstack/magnum refs/changes/82/824682/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'releasenotes/notes/calico-3.18-193c895134e9c3c1.yaml']",2,76425d3f4be17f7dba4b93d211bfb45c70c8da68,calico-3.18,,"--- upgrade: - | Upgrade to calico_tag=v3.18.0. Additionally, use fixed subnet CIDR for IP_AUTODETECTION_METHOD supported from v3.16.x onwards. ",1,6
openstack%2Fneutron~stable%2Ftrain~I6a71926f416b411e88b8a3186e376e2556aefec7,openstack/neutron,stable/train,I6a71926f416b411e88b8a3186e376e2556aefec7,[Train Only] Fix queue import error issue,MERGED,2022-01-20 06:06:52.000000000,2022-01-21 08:45:48.000000000,2022-01-21 08:43:43.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-01-20 06:06:52.000000000', 'files': ['neutron/plugins/ml2/ovo_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0124181916a1a481d0e670a34596ac64d7e87769', 'message': '[Train Only] Fix queue import error issue\n\nOn C7 train tripleo jobs, while creating private\nnetwork, neutron server is showing the following\ntraceback.\n```\nImportError: No module named queue\n```\n\nOn Python 2.7, the module is Queue. It adds the\nfixes to keep py2 & py3 compatibility.\n\nCloses-Bug: #1958489\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I6a71926f416b411e88b8a3186e376e2556aefec7\n'}]",6,825425,0124181916a1a481d0e670a34596ac64d7e87769,20,6,1,12393,,,0,"[Train Only] Fix queue import error issue

On C7 train tripleo jobs, while creating private
network, neutron server is showing the following
traceback.
```
ImportError: No module named queue
```

On Python 2.7, the module is Queue. It adds the
fixes to keep py2 & py3 compatibility.

Closes-Bug: #1958489

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I6a71926f416b411e88b8a3186e376e2556aefec7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/825425/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/ovo_rpc.py'],1,0124181916a1a481d0e670a34596ac64d7e87769,,try: import queue except ImportError: import Queue as queue,import queue,4,1
openstack%2Fpbr~master~If372a33607fff884cd7bf888ee5a23a2fbb351b2,openstack/pbr,master,If372a33607fff884cd7bf888ee5a23a2fbb351b2,Don't test with setuptools local distutils,MERGED,2022-01-20 18:51:06.000000000,2022-01-21 08:34:05.000000000,2022-01-21 08:32:18.000000000,"[{'_account_id': 4146}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-20 18:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/686c93483deb5cb8f70c0edda2e34814078b430a', 'message': 'Don\'t test with setuptools local distutils\n\nWe noticed some aberrations in log level/threshold handling as of\nSetuptools 60.0.0, and the only substantive change for that release\ntoggles the default selection for its internal (""local"") distutils\nreplacement vs the ""stdlib"" one. For now, toggle the\nSETUPTOOLS_USE_DISTUTILS envvar in our testing back to the old\nvalue. This should be revisited once logging is handled better in\nSetuptools.\n\nChange-Id: If372a33607fff884cd7bf888ee5a23a2fbb351b2\n'}, {'number': 2, 'created': '2022-01-20 21:01:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/pbr/commit/c718425299af4f4df7b32adb90e8d183e101c6bc', 'message': 'Don\'t test with setuptools local distutils\n\nWe noticed some aberrations in log level/threshold handling as of\nSetuptools 60.0.0, and the only substantive change for that release\ntoggles the default selection for its internal (""local"") distutils\nreplacement vs the ""stdlib"" one. For now, toggle the\nSETUPTOOLS_USE_DISTUTILS envvar in our testing back to the old\nvalue. This should be revisited once logging is handled better in\nSetuptools. https://github.com/pypa/setuptools/issues/3038\n\nChange-Id: If372a33607fff884cd7bf888ee5a23a2fbb351b2\n'}]",0,825665,c718425299af4f4df7b32adb90e8d183e101c6bc,13,4,2,5263,,,0,"Don't test with setuptools local distutils

We noticed some aberrations in log level/threshold handling as of
Setuptools 60.0.0, and the only substantive change for that release
toggles the default selection for its internal (""local"") distutils
replacement vs the ""stdlib"" one. For now, toggle the
SETUPTOOLS_USE_DISTUTILS envvar in our testing back to the old
value. This should be revisited once logging is handled better in
Setuptools. https://github.com/pypa/setuptools/issues/3038

Change-Id: If372a33607fff884cd7bf888ee5a23a2fbb351b2
",git fetch https://review.opendev.org/openstack/pbr refs/changes/65/825665/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,686c93483deb5cb8f70c0edda2e34814078b430a,,# TODO(fungi): drop distutils override once logging improves in Setuptools SETUPTOOLS_USE_DISTUTILS=stdlib,,2,0
openstack%2Fcinder~stable%2Fwallaby~I3930bff90df835d9d8bbf7e6e91458db7e5654be,openstack/cinder,stable/wallaby,I3930bff90df835d9d8bbf7e6e91458db7e5654be,Volume transfers: Remove duplicate policy check,MERGED,2022-01-18 08:38:26.000000000,2022-01-21 07:49:16.000000000,2022-01-18 18:43:10.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-18 08:38:26.000000000', 'files': ['releasenotes/notes/fix-transfer-accept-policy-7594806372b14284.yaml', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b86da5d4073d9c50aed90c4d6ae6884138be6b06', 'message': ""Volume transfers: Remove duplicate policy check\n\nThere is an initial policy check in the transfers accept API[1]\nwhich validates correctly if the user is authorized to perform\nthe operation or not. However, we've a duplicate check in the volume\nAPI layer which passes a target object (volume) while authorizing\nwhich is wrong for this API. While authorizing, we enforce check on\nthe project id of the target object i.e. volume in this case which,\nbefore the transfer operation is completed, contains the project id\nof source project hence making the validation wrong.\nIn the case of transfers API, any project is able to accept the transfer\ngiven they've the auth key required to secure the transfer accept\nSo this patch removes the duplicate policy check.\n\n[1] https://opendev.org/openstack/cinder/src/branch/master/cinder/transfer/api.py#L225\n\nCloses-Bug: #1950474\nChange-Id: I3930bff90df835d9d8bbf7e6e91458db7e5654be\n(cherry picked from commit 7ba9935a6e1e8a572391563927acb086fdbe5e5c)\n(cherry picked from commit 46415541a790869d9f5a5a5cc821852730b98149)\n""}]",2,825046,b86da5d4073d9c50aed90c4d6ae6884138be6b06,21,3,1,27615,,,0,"Volume transfers: Remove duplicate policy check

There is an initial policy check in the transfers accept API[1]
which validates correctly if the user is authorized to perform
the operation or not. However, we've a duplicate check in the volume
API layer which passes a target object (volume) while authorizing
which is wrong for this API. While authorizing, we enforce check on
the project id of the target object i.e. volume in this case which,
before the transfer operation is completed, contains the project id
of source project hence making the validation wrong.
In the case of transfers API, any project is able to accept the transfer
given they've the auth key required to secure the transfer accept
So this patch removes the duplicate policy check.

[1] https://opendev.org/openstack/cinder/src/branch/master/cinder/transfer/api.py#L225

Closes-Bug: #1950474
Change-Id: I3930bff90df835d9d8bbf7e6e91458db7e5654be
(cherry picked from commit 7ba9935a6e1e8a572391563927acb086fdbe5e5c)
(cherry picked from commit 46415541a790869d9f5a5a5cc821852730b98149)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/825046/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-transfer-accept-policy-7594806372b14284.yaml', 'cinder/volume/api.py']",2,b86da5d4073d9c50aed90c4d6ae6884138be6b06,bug/1950474,,"from cinder.policies import volume_transfer as vol_transfer_policy context.authorize(vol_transfer_policy.ACCEPT_POLICY, target_obj=volume)",8,3
openstack%2Ftacker~master~I03dbfb577ca9158a75d1c249808dadda13d317b3,openstack/tacker,master,I03dbfb577ca9158a75d1c249808dadda13d317b3,support scale VNF task of v2 API,MERGED,2021-12-20 05:32:23.000000000,2022-01-21 07:08:36.000000000,2022-01-21 07:06:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 32581}, {'_account_id': 34226}]","[{'number': 1, 'created': '2021-12-20 05:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e3e00a9ab17f6c3a2689351ab93cb875daec8e43', 'message': 'support scale VNF task of v2 API\n\nThis patch implements scale VNF task defined in ETSI NFV-SOL003\nv3.3.1 5.4.5.\n\nRetry and rollback operation of scale API are also supported.\nNote that rollback operation is supported for scale out only.\nRollback operation of scale in is not supported.\n\nThis patch includes some refactorings to commonize scale code\nwith the code of existing APIs (i.e. instantiate and terminate)\nto avoid code duplication. For example making grant requests,\nmaking instantiatedVnfInfo and so on.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-scale-vnf\nChange-Id: I03dbfb577ca9158a75d1c249808dadda13d317b3\n'}, {'number': 2, 'created': '2021-12-20 22:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/bec2c8e1978a2c7f7913dd1c5849cf27102ea5f0', 'message': 'support scale VNF task of v2 API\n\nThis patch implements scale VNF task defined in ETSI NFV-SOL003\nv3.3.1 5.4.5.\n\nRetry and rollback operation of scale API are also supported.\nNote that rollback operation is supported for scale out only.\nRollback operation of scale in is not supported.\n\nThis patch includes some refactorings to commonize scale code\nwith the code of existing APIs (i.e. instantiate and terminate)\nto avoid code duplication. For example making grant requests,\nmaking instantiatedVnfInfo and so on.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-scale-vnf\nChange-Id: I03dbfb577ca9158a75d1c249808dadda13d317b3\n'}, {'number': 3, 'created': '2021-12-22 00:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5fe32c386a1207294b8a1c5ea35274556d7d4b44', 'message': 'support scale VNF task of v2 API\n\nThis patch implements scale VNF task defined in ETSI NFV-SOL003\nv3.3.1 5.4.5.\n\nRetry and rollback operation of scale API are also supported.\nNote that rollback operation is supported for scale out only.\nRollback operation of scale in is not supported.\n\nThis patch includes some refactorings to commonize scale code\nwith the code of existing APIs (i.e. instantiate and terminate)\nto avoid code duplication. For example making grant requests,\nmaking instantiatedVnfInfo and so on.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-scale-vnf\nChange-Id: I03dbfb577ca9158a75d1c249808dadda13d317b3\n'}, {'number': 4, 'created': '2021-12-22 02:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9fb9531ef7031161b2f037cf1816b4b8d79da82a', 'message': 'support scale VNF task of v2 API\n\nThis patch implements scale VNF task defined in ETSI NFV-SOL003\nv3.3.1 5.4.5.\n\nRetry and rollback operation of scale API are also supported.\nNote that rollback operation is supported for scale out only.\nRollback operation of scale in is not supported.\n\nThis patch includes some refactorings to commonize scale code\nwith the code of existing APIs (i.e. instantiate and terminate)\nto avoid code duplication. For example making grant requests,\nmaking instantiatedVnfInfo and so on.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-scale-vnf\nChange-Id: I03dbfb577ca9158a75d1c249808dadda13d317b3\n'}, {'number': 5, 'created': '2021-12-22 23:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/14fed99218fae96c567a7918e6bb1d4393274487', 'message': 'support scale VNF task of v2 API\n\nThis patch implements scale VNF task defined in ETSI NFV-SOL003\nv3.3.1 5.4.5.\n\nRetry and rollback operation of scale API are also supported.\nNote that rollback operation is supported for scale out only.\nRollback operation of scale in is not supported.\n\nThis patch includes some refactorings to commonize scale code\nwith the code of existing APIs (i.e. instantiate and terminate)\nto avoid code duplication. For example making grant requests,\nmaking instantiatedVnfInfo and so on.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-scale-vnf\nChange-Id: I03dbfb577ca9158a75d1c249808dadda13d317b3\n'}, {'number': 6, 'created': '2021-12-23 01:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d4660d85984a842e8bf8eede32097bcf8b635c3c', 'message': 'support scale VNF task of v2 API\n\nThis patch implements scale VNF task defined in ETSI NFV-SOL003\nv3.3.1 5.4.5.\n\nRetry and rollback operation of scale API are also supported.\nNote that rollback operation is supported for scale out only.\nRollback operation of scale in is not supported.\n\nThis patch includes some refactorings to commonize scale code\nwith the code of existing APIs (i.e. instantiate and terminate)\nto avoid code duplication. For example making grant requests,\nmaking instantiatedVnfInfo and so on.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-scale-vnf\nChange-Id: I03dbfb577ca9158a75d1c249808dadda13d317b3\n'}, {'number': 7, 'created': '2021-12-26 23:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/cf64c8a83bbd4aa7f5d59b9963d97cff09409583', 'message': 'support scale VNF task of v2 API\n\nThis patch implements scale VNF task defined in ETSI NFV-SOL003\nv3.3.1 5.4.5.\n\nRetry and rollback operation of scale API are also supported.\nNote that rollback operation is supported for scale out only.\nRollback operation of scale in is not supported.\n\nThis patch includes some refactorings to commonize scale code\nwith the code of existing APIs (i.e. instantiate and terminate)\nto avoid code duplication. For example making grant requests,\nmaking instantiatedVnfInfo and so on.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-scale-vnf\nChange-Id: I03dbfb577ca9158a75d1c249808dadda13d317b3\n'}, {'number': 8, 'created': '2022-01-04 22:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/93c308be0ba46faae92f0b7a1ef8e5d9a4ccf4e6', 'message': 'support scale VNF task of v2 API\n\nThis patch implements scale VNF task defined in ETSI NFV-SOL003\nv3.3.1 5.4.5.\n\nRetry and rollback operation of scale API are also supported.\nNote that rollback operation is supported for scale out only.\nRollback operation of scale in is not supported.\n\nThis patch includes some refactorings to commonize scale code\nwith the code of existing APIs (i.e. instantiate and terminate)\nto avoid code duplication. For example making grant requests,\nmaking instantiatedVnfInfo and so on.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-scale-vnf\nChange-Id: I03dbfb577ca9158a75d1c249808dadda13d317b3\n'}, {'number': 9, 'created': '2022-01-06 04:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/376324e9cbbf6d246a51021c741863a388b4e15b', 'message': 'support scale VNF task of v2 API\n\nThis patch implements scale VNF task defined in ETSI NFV-SOL003\nv3.3.1 5.4.5.\n\nRetry and rollback operation of scale API are also supported.\nNote that rollback operation is supported for scale out only.\nRollback operation of scale in is not supported.\n\nThis patch includes some refactorings to commonize scale code\nwith the code of existing APIs (i.e. instantiate and terminate)\nto avoid code duplication. For example making grant requests,\nmaking instantiatedVnfInfo and so on.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-scale-vnf\nChange-Id: I03dbfb577ca9158a75d1c249808dadda13d317b3\n'}, {'number': 10, 'created': '2022-01-06 23:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/250d918ff32f827e6ce24e79c14c824feda8aa45', 'message': 'support scale VNF task of v2 API\n\nThis patch implements scale VNF task defined in ETSI NFV-SOL003\nv3.3.1 5.4.5.\n\nRetry and rollback operation of scale API are also supported.\nNote that rollback operation is supported for scale out only.\nRollback operation of scale in is not supported.\n\nThis patch includes some refactorings to commonize scale code\nwith the code of existing APIs (i.e. instantiate and terminate)\nto avoid code duplication. For example making grant requests,\nmaking instantiatedVnfInfo and so on.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-scale-vnf\nChange-Id: I03dbfb577ca9158a75d1c249808dadda13d317b3\n'}, {'number': 11, 'created': '2022-01-07 04:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/521b10e36588a48396385e07e1b709a118764be8', 'message': 'support scale VNF task of v2 API\n\nThis patch implements scale VNF task defined in ETSI NFV-SOL003\nv3.3.1 5.4.5.\n\nRetry and rollback operation of scale API are also supported.\nNote that rollback operation is supported for scale out only.\nRollback operation of scale in is not supported.\n\nThis patch includes some refactorings to commonize scale code\nwith the code of existing APIs (i.e. instantiate and terminate)\nto avoid code duplication. For example making grant requests,\nmaking instantiatedVnfInfo and so on.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-scale-vnf\nChange-Id: I03dbfb577ca9158a75d1c249808dadda13d317b3\n'}, {'number': 12, 'created': '2022-01-12 04:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6e7cb13905dbfeae7fa19b27559f5fb72c85b6a4', 'message': 'support scale VNF task of v2 API\n\nThis patch implements scale VNF task defined in ETSI NFV-SOL003\nv3.3.1 5.4.5.\n\nRetry and rollback operation of scale API are also supported.\nNote that rollback operation is supported for scale out only.\nRollback operation of scale in is not supported.\n\nThis patch includes some refactorings to commonize scale code\nwith the code of existing APIs (i.e. instantiate and terminate)\nto avoid code duplication. For example making grant requests,\nmaking instantiatedVnfInfo and so on.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-scale-vnf\nChange-Id: I03dbfb577ca9158a75d1c249808dadda13d317b3\n'}, {'number': 13, 'created': '2022-01-13 05:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1169fa1d88687c43e20202e6c8bf6d219c32b3cd', 'message': 'support scale VNF task of v2 API\n\nThis patch implements scale VNF task defined in ETSI NFV-SOL003\nv3.3.1 5.4.5.\n\nRetry and rollback operation of scale API are also supported.\nNote that rollback operation is supported for scale out only.\nRollback operation of scale in is not supported.\n\nThis patch includes some refactorings to commonize scale code\nwith the code of existing APIs (i.e. instantiate and terminate)\nto avoid code duplication. For example making grant requests,\nmaking instantiatedVnfInfo and so on.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-scale-vnf\nChange-Id: I03dbfb577ca9158a75d1c249808dadda13d317b3\n'}, {'number': 14, 'created': '2022-01-18 22:56:09.000000000', 'files': ['tacker/sol_refactored/controller/vnflcm_v2.py', 'tacker/sol_refactored/infra_drivers/openstack/heat_utils.py', 'tacker/sol_refactored/common/vnf_instance_utils.py', 'tacker/sol_refactored/test-tools/cli.py', 'tacker/sol_refactored/conductor/vnflcm_driver_v2.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/BaseHOT/simple/sample1.yaml', 'tacker/sol_refactored/common/lcm_op_occ_utils.py', 'tacker/sol_refactored/common/vnfd_utils.py', 'tacker/sol_refactored/common/exceptions.py', 'tacker/tests/unit/sol_refactored/infra_drivers/openstack/test_openstack.py', 'tacker/sol_refactored/infra_drivers/openstack/userdata_default.py', 'tacker/tests/functional/sol_v2/samples/sample2/contents/BaseHOT/simple/sample2.yaml', 'tacker/tests/unit/sol_refactored/samples/sample1/UserData/userdata_default.py', 'tacker/sol_refactored/infra_drivers/openstack/userdata_main.py', 'tacker/tests/unit/sol_refactored/samples/sample1/BaseHOT/simple/ut_sample1.yaml', 'tacker/sol_refactored/infra_drivers/openstack/openstack.py', 'tacker/sol_refactored/api/schemas/vnflcm_v2.py', 'tacker/tests/unit/sol_refactored/common/test_lcm_op_occ_utils.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/UserData/userdata.py', 'tacker/tests/unit/sol_refactored/common/test_vnfd_utils.py', 'tacker/tests/unit/sol_refactored/infra_drivers/openstack/test_userdata_utils.py', 'tacker/tests/unit/sol_refactored/samples/sample1/Definitions/ut_sample1_df_simple.yaml', 'releasenotes/notes/add-v2-scale-api-b60e8fe329f6038b.yaml', 'tacker/sol_refactored/infra_drivers/openstack/userdata_utils.py', 'tacker/tests/unit/sol_refactored/controller/test_vnflcm_v2.py', 'tacker/sol_refactored/api/policies/vnflcm_v2.py', 'tacker/tests/unit/sol_refactored/conductor/test_vnflcm_driver_v2.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/55040a0e1ca063d469223cee2c095715e541561b', 'message': 'support scale VNF task of v2 API\n\nThis patch implements scale VNF task defined in ETSI NFV-SOL003\nv3.3.1 5.4.5.\n\nRetry and rollback operation of scale API are also supported.\nNote that rollback operation is supported for scale out only.\nRollback operation of scale in is not supported.\n\nThis patch includes some refactorings to commonize scale code\nwith the code of existing APIs (i.e. instantiate and terminate)\nto avoid code duplication. For example making grant requests,\nmaking instantiatedVnfInfo and so on.\n\nFunctional tests will be provided with another patch.\n\nImplements: blueprint support-nfv-solv3-scale-vnf\nChange-Id: I03dbfb577ca9158a75d1c249808dadda13d317b3\n'}]",146,822284,55040a0e1ca063d469223cee2c095715e541561b,84,7,14,4149,,,0,"support scale VNF task of v2 API

This patch implements scale VNF task defined in ETSI NFV-SOL003
v3.3.1 5.4.5.

Retry and rollback operation of scale API are also supported.
Note that rollback operation is supported for scale out only.
Rollback operation of scale in is not supported.

This patch includes some refactorings to commonize scale code
with the code of existing APIs (i.e. instantiate and terminate)
to avoid code duplication. For example making grant requests,
making instantiatedVnfInfo and so on.

Functional tests will be provided with another patch.

Implements: blueprint support-nfv-solv3-scale-vnf
Change-Id: I03dbfb577ca9158a75d1c249808dadda13d317b3
",git fetch https://review.opendev.org/openstack/tacker refs/changes/84/822284/3 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/sol_refactored/controller/vnflcm_v2.py', 'tacker/sol_refactored/infra_drivers/openstack/heat_utils.py', 'tacker/tests/functional/sol_v2/samples/sample2/contents/UserData/userdata_default.py', 'tacker/sol_refactored/test-tools/cli.py', 'tacker/sol_refactored/conductor/vnflcm_driver_v2.py', 'tacker/sol_refactored/infra_drivers/openstack/openstack.py', 'tacker/tests/functional/sol_v2/samples/sample1/contents/BaseHOT/simple/sample1.yaml', 'tacker/sol_refactored/common/lcm_op_occ_utils.py', 'tacker/sol_refactored/common/vnfd_utils.py', 'tacker/sol_refactored/api/schemas/vnflcm_v2.py', 'tacker/sol_refactored/common/exceptions.py', 'tacker/tests/unit/sol_refactored/common/test_lcm_op_occ_utils.py', 'tacker/tests/unit/sol_refactored/common/test_vnfd_utils.py', 'tacker/tests/unit/sol_refactored/infra_drivers/openstack/test_openstack.py', 'tacker/tests/unit/sol_refactored/infra_drivers/openstack/test_userdata_utils.py', 'releasenotes/notes/add-v2-scale-api-b60e8fe329f6038b.yaml', 'tacker/sol_refactored/infra_drivers/openstack/userdata_default.py', 'tacker/sol_refactored/infra_drivers/openstack/userdata_utils.py', 'tacker/tests/functional/sol_v2/samples/sample2/contents/BaseHOT/simple/sample2.yaml', 'tacker/tests/unit/sol_refactored/controller/test_vnflcm_v2.py', 'tacker/sol_refactored/api/policies/vnflcm_v2.py', 'tacker/tests/unit/sol_refactored/conductor/test_vnflcm_driver_v2.py', 'tacker/sol_refactored/infra_drivers/openstack/userdata_main.py']",23,e3e00a9ab17f6c3a2689351ab93cb875daec8e43,bp/support-nfv-solv3-scale-vnf,"def main(): method = getattr(klass, grant_req['operation'].lower()) stack_dict = method(req, inst, grant_req, grant, tmp_csar_dir) main()","def main(operation): if operation == 'INSTANTIATE': stack_dict = klass.instantiate( req, inst, grant_req, grant, tmp_csar_dir) else: raise Exception(""Unknown operation"") main(sys.argv[1])",4241,572
openstack%2Ftacker-specs~master~Id21a6c9ea90bbad942ccbeefb8c73235da8db74d,openstack/tacker-specs,master,Id21a6c9ea90bbad942ccbeefb8c73235da8db74d,Add multi-tenant policy on Lifecycle Management,MERGED,2021-04-20 07:44:15.000000000,2022-01-21 06:56:38.000000000,2022-01-21 06:55:13.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 32736}, {'_account_id': 33455}, {'_account_id': 34107}]","[{'number': 1, 'created': '2021-04-20 07:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/e53f07a7e4fd1ef5f77657452be3425a77ef4067', 'message': 'Add multi-tenant policy on Lifecycle Management\n\nCurrent Tacker has the following two problems in multi-tenant case.\n\n1) No restriction in assigning a tenant\n2) Notifying events on different tenants\n\nThis spec proposes changes in Tacker for solving them.\n\nChange-Id: Id21a6c9ea90bbad942ccbeefb8c73235da8db74d\n'}, {'number': 2, 'created': '2021-04-21 04:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/9ea4b3c50d98db064ae02baf913a4fde981bb120', 'message': 'Add multi-tenant policy on Lifecycle Management\n\nCurrent Tacker has the following two problems in multi-tenant case.\n\n1) No restriction in assigning a tenant\n2) Notifying events on different tenants\n\nThis spec proposes changes in Tacker for solving them.\n\nChange-Id: Id21a6c9ea90bbad942ccbeefb8c73235da8db74d\n'}, {'number': 3, 'created': '2021-06-23 00:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/330aa70c29b145b049f0aef6367002847d53578c', 'message': 'Add multi-tenant policy on Lifecycle Management\n\nCurrent Tacker has the following two problems in multi-tenant case.\n\n1) No restriction in assigning a tenant\n2) Notifying events on different tenants\n\nThis spec proposes changes in Tacker for solving them.\n\nChange-Id: Id21a6c9ea90bbad942ccbeefb8c73235da8db74d\n'}, {'number': 4, 'created': '2021-06-29 05:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/7d541fd75476ca55b36a4edf620e095cbff36305', 'message': 'Add multi-tenant policy on Lifecycle Management\n\nCurrent Tacker has the following two problems in multi-tenant case.\n\n1) No restriction in assigning a tenant\n2) Notifying events on different tenants\n\nThis spec proposes changes in Tacker for solving them.\n\nChange-Id: Id21a6c9ea90bbad942ccbeefb8c73235da8db74d\n'}, {'number': 5, 'created': '2021-07-12 10:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/6d213ffdc246d34e401661992ee8b955391734d2', 'message': 'Add multi-tenant policy on Lifecycle Management\n\nCurrent Tacker has the following two problems in multi-tenant case.\n\n1) No restriction in assigning a tenant\n2) Notifying events on different tenants\n\nThis spec proposes changes in Tacker for solving them.\n\nChange-Id: Id21a6c9ea90bbad942ccbeefb8c73235da8db74d\nImplements: blueprint multi-tenant-policy\n'}, {'number': 6, 'created': '2021-08-23 12:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/14b7767aa714df701ed797b684d071481d1a7f1a', 'message': 'Add multi-tenant policy on Lifecycle Management\n\nCurrent Tacker has the following two problems in multi-tenant case.\n\n1) No restriction in assigning a tenant\n2) Notifying events on different tenants\n\nThis spec proposes changes in Tacker for solving them.\n\nChange-Id: Id21a6c9ea90bbad942ccbeefb8c73235da8db74d\nImplements: blueprint multi-tenant-policy\n'}, {'number': 7, 'created': '2021-12-07 08:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/7cd7a48d65c370b46fe4cd2d102f40ed4a0cbc89', 'message': 'Add multi-tenant policy on Lifecycle Management\n\nCurrent Tacker has the following two problems in multi-tenant case.\n\n1) No restriction in assigning a tenant\n2) Notifying events on different tenants\n\nThis spec proposes changes in Tacker for solving them.\n\nChange-Id: Id21a6c9ea90bbad942ccbeefb8c73235da8db74d\nImplements: blueprint multi-tenant-policy\n'}, {'number': 8, 'created': '2021-12-28 09:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/017ecc3426fe43aa51205d205b840bc6a3e32d23', 'message': 'Add multi-tenant policy on Lifecycle Management\n\nCurrent Tacker has the following two problems in multi-tenant case.\n\n1) No restriction in assigning a tenant\n2) Notifying events on different tenants\n\nThis spec proposes changes in Tacker for solving them.\n\nChange-Id: Id21a6c9ea90bbad942ccbeefb8c73235da8db74d\nImplements: blueprint multi-tenant-policy\n'}, {'number': 9, 'created': '2021-12-29 04:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/bbe876d0af01809376e8f0416f75d20a209e4df5', 'message': 'Add multi-tenant policy on Lifecycle Management\n\nCurrent Tacker has the following two problems in multi-tenant case.\n\n1) No restriction in assigning a tenant\n2) Notifying events on different tenants\n\nThis spec proposes changes in Tacker for solving them.\n\nChange-Id: Id21a6c9ea90bbad942ccbeefb8c73235da8db74d\nImplements: blueprint multi-tenant-policy\n'}, {'number': 10, 'created': '2022-01-11 05:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/32a5c183c8e36662004726597cac3846d3d0df9d', 'message': 'Add multi-tenant policy on Lifecycle Management\n\nCurrent Tacker has the following two problems in multi-tenant case.\n\n1) No restriction in assigning a tenant\n2) Notifying events on different tenants\n\nThis spec proposes changes in Tacker for solving them.\n\nChange-Id: Id21a6c9ea90bbad942ccbeefb8c73235da8db74d\nImplements: blueprint multi-tenant-policy\n'}, {'number': 11, 'created': '2022-01-12 04:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/4f8285a9c3e1acd8a6c1469723f9f1e01f39690f', 'message': 'Add multi-tenant policy on Lifecycle Management\n\nCurrent Tacker has the following two problems in multi-tenant case.\n\n1) No restriction in assigning a tenant\n2) Notifying events on different tenants\n\nThis spec proposes changes in Tacker for solving them.\n\nChange-Id: Id21a6c9ea90bbad942ccbeefb8c73235da8db74d\nImplements: blueprint multi-tenant-policy\n'}, {'number': 12, 'created': '2022-01-12 09:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/0d39a421431dd116a8fdfcae33d89d48fe31c58d', 'message': 'Add multi-tenant policy on Lifecycle Management\n\nCurrent Tacker has the following two problems in multi-tenant case.\n\n1) No restriction in assigning a tenant\n2) Notifying events on different tenants\n\nThis spec proposes changes in Tacker for solving them.\n\nChange-Id: Id21a6c9ea90bbad942ccbeefb8c73235da8db74d\nImplements: blueprint multi-tenant-policy\n'}, {'number': 13, 'created': '2022-01-20 12:17:43.000000000', 'files': ['specs/yoga/multi-tenant-policy.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/15ac499286e2f478005256ce519ea2d1a05a24e0', 'message': 'Add multi-tenant policy on Lifecycle Management\n\nCurrent Tacker has the following two problems in multi-tenant case.\n\n1) No restriction in assigning a tenant\n2) Notifying events on different tenants\n\nThis spec proposes changes in Tacker for solving them.\n\nChange-Id: Id21a6c9ea90bbad942ccbeefb8c73235da8db74d\nImplements: blueprint multi-tenant-policy\n'}]",112,787135,15ac499286e2f478005256ce519ea2d1a05a24e0,54,8,13,31813,,,0,"Add multi-tenant policy on Lifecycle Management

Current Tacker has the following two problems in multi-tenant case.

1) No restriction in assigning a tenant
2) Notifying events on different tenants

This spec proposes changes in Tacker for solving them.

Change-Id: Id21a6c9ea90bbad942ccbeefb8c73235da8db74d
Implements: blueprint multi-tenant-policy
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/35/787135/7 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/multi-tenant-policy.rst'],1,e53f07a7e4fd1ef5f77657452be3425a77ef4067,bp/multi-tenant-policy,"=============================================== Add multi-tenant policy on Lifecycle Management =============================================== https://blueprints.launchpad.net/tacker/+spec/multi-tenant-policy This spec shows problems in Lifecycle Management on multi-tenant case and proposed changes to solve them. Problem description =================== In the current Tacker implementation, there are two problems in multi-tenant case. 1) No restriction in associating VIM and VNF with different tenants ------------------------------------------------------------------- Currently Tacker can associate a VIM with a VNF although each other belongs to the different tenant. In the following LCM procedure, for example, admin user can instantiate the VNF although it is created by non-admin user. Additionally, non-admin user cannot terminate the VNF although it is created by non-admin user. #. A non-admin user creates a VNF. #. Admin user instantiates the VNF with specifying a VIM which non-admin user doesn't belong to. #. The non-admin user terminates the VNF. This indicates admin user can refer to all of existing VIMs and VNFs although those belong to different tenants. 2) Notifying events on different tenants ---------------------------------------- In the current implementation, Subscription API can be set only Callback URL. In such a case, Notification can send status of Lifecycle Management operations which occurred in different tenants. Proposed change =============== In order to solve these problems, the following two changes are proposed. 1) Prohibiting VIM and VNF association created in different tenants ------------------------------------------------------------------- Tacker only allows to associate a VIM with a VNF which belongs to the same tenant as the VIM. The detail is the following: * If admin user who belongs to the different tenant trys to instantiate a VNF, it makes failure. * TBD 2) Specifing tenant in sending Notification ------------------------------------------- Notification is modified to check the tenant which is assigned during subscription sequence and then notify events to the specified tenant. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Koichi Edagawa <edagawa.kc@nec.com> Work Items ---------- * Modify the tenant policy to prohibit associating a VIM with a VNF which belongs to the different tenant as the VIM. * Modify Notification process to specify the tenant assigned during subscription sequence. * Change notifying events so that Notification is sent to specified tenants only. Dependencies ============ None Testing ======= Unit test cases will be added. Documentation Impact ==================== None References ========== None History ======= None ",,161,0
openstack%2Ftempest~master~Iafff24bf829da1d399fed4ca16a62f24196cd4af,openstack/tempest,master,Iafff24bf829da1d399fed4ca16a62f24196cd4af,"Revert ""Make centos8 stream job non voting for bug#1957941""",MERGED,2022-01-17 22:09:52.000000000,2022-01-21 05:56:22.000000000,2022-01-18 22:45:54.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-17 22:09:52.000000000', 'files': ['zuul.d/tempest-specific.yaml', 'zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1e2fe4fb33cd1ef8f0067a3aa2ef8c10c0ba0d2a', 'message': 'Revert ""Make centos8 stream job non voting for bug#1957941""\n\nThis reverts commit 0de0ebf0987c2cd92a3a880de822f3616480d2d5.\n\nReason for revert: Try with workaround merged in https://review.opendev.org/c/openstack/devstack/+/824862\n\nChange-Id: Iafff24bf829da1d399fed4ca16a62f24196cd4af\n'}]",4,824962,1e2fe4fb33cd1ef8f0067a3aa2ef8c10c0ba0d2a,14,5,1,8556,,,0,"Revert ""Make centos8 stream job non voting for bug#1957941""

This reverts commit 0de0ebf0987c2cd92a3a880de822f3616480d2d5.

Reason for revert: Try with workaround merged in https://review.opendev.org/c/openstack/devstack/+/824862

Change-Id: Iafff24bf829da1d399fed4ca16a62f24196cd4af
",git fetch https://review.opendev.org/openstack/tempest refs/changes/62/824962/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-specific.yaml', 'zuul.d/integrated-gate.yaml']",2,1e2fe4fb33cd1ef8f0067a3aa2ef8c10c0ba0d2a,bug/1957941,, # TODO(gmann): Make this job non voting until bug#1957941 if fixed. voting: false,0,4
openstack%2Fnova~master~I38e999954e2c91d049e1af5cda6dd0b4f8168a0e,openstack/nova,master,I38e999954e2c91d049e1af5cda6dd0b4f8168a0e,[doc] propose Review-Priority label for contribs,MERGED,2021-11-05 16:43:21.000000000,2022-01-21 05:00:03.000000000,2022-01-20 17:05:49.000000000,"[{'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-11-05 16:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52d32a77d00c7d942f4f63bdcf1b679d885360ea', 'message': '[doc] propose Review-Priority label for contribs\n\nAs we already discussed at the PTG, the consensus was to accept contributors\nto use this label for asking cores to review some changes.\n\nDocumenting it first so a dependent patch would then modify Gerrit once\nwe agree.\n\nChange-Id: I38e999954e2c91d049e1af5cda6dd0b4f8168a0e\n'}, {'number': 2, 'created': '2021-11-12 10:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db0519ffe706fbd198acf432815a457b48bc40dc', 'message': 'WIP: [doc] propose Review-Priority label for contribs\n\nAs we already discussed at the PTG, the consensus was to accept contributors\nto use this label for asking cores to review some changes.\n\nDocumenting it first so a dependent patch would then modify Gerrit once\nwe agree.\n\nChange-Id: I38e999954e2c91d049e1af5cda6dd0b4f8168a0e\n'}, {'number': 3, 'created': '2021-12-07 10:50:52.000000000', 'files': ['doc/source/contributor/process.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/890cd82b84751e6574045b40c5988cf88fec5662', 'message': '[doc] propose Review-Priority label for contribs\n\nAs we already discussed at the PTG, the consensus was to accept contributors\nto use this label for asking cores to review some changes.\n\nDocumenting it first so a dependent patch would then modify Gerrit once\nwe agree.\n\nChange-Id: I38e999954e2c91d049e1af5cda6dd0b4f8168a0e\n'}]",16,816861,890cd82b84751e6574045b40c5988cf88fec5662,32,6,3,7166,,,0,"[doc] propose Review-Priority label for contribs

As we already discussed at the PTG, the consensus was to accept contributors
to use this label for asking cores to review some changes.

Documenting it first so a dependent patch would then modify Gerrit once
we agree.

Change-Id: I38e999954e2c91d049e1af5cda6dd0b4f8168a0e
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/816861/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/process.rst'],1,52d32a77d00c7d942f4f63bdcf1b679d885360ea,review_prio,"second reviewer when needed. We also want contributors to be able to ""ping"" cores asynchronously by asking them to review their own changes.* Review-Priority is a label with 0, +1 or +2 values. * A contributor can set the Review-Priority flag to +1 to indicate they will want cores to review the patch but also that the contributor will also review too or reply any comment if they are the patch author. * A core sets the Review-Priority flag to +2 to indicate that they will help* We expect the contributors setting +1 for a patch that they will continue to look at the patch even if a core reviews it so they can either provide their own comments (if they are not the author) or reply to any comment and maybe providing a new revision (if they are the author). * We expect that the cores will limit the number of patches marked with +2 Review-Priority +2 set by other cores before they mark a new one as such to look at the list of patches with +1 or +2 mark to keep an overall view what is happening in nova.","second reviewer when needed.* Review-Priority is a label with 0 or +1 values, that can be set by the members of the core team * A core sets the Review-Priority flag to +1 to indicate that they will help* We expect that the cores will limit the number of patches marked with +1 Review-Priority +1 set by other cores before they mark a new one as such to look at the list of patches with +1 mark to keep an overall view what is happening in nova.* Does not (want to) solve the problem of discovering reviews that are ready to core review ",17,11
openstack%2Fpuppet-openstack-integration~master~I499477bf8cd03cc5ca7587ce6b23a8deb54c1d4e,openstack/puppet-openstack-integration,master,I499477bf8cd03cc5ca7587ce6b23a8deb54c1d4e,WIP: Test flavor names instead of flavor ids,ABANDONED,2022-01-21 03:03:03.000000000,2022-01-21 04:40:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-21 03:03:03.000000000', 'files': ['manifests/tempest.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/27aa5d36a28395890f9af0d5a249ed85822ebdff', 'message': 'WIP: Test flavor names instead of flavor ids\n\nChange-Id: I499477bf8cd03cc5ca7587ce6b23a8deb54c1d4e\n'}]",0,825706,27aa5d36a28395890f9af0d5a249ed85822ebdff,3,1,1,9816,,,0,"WIP: Test flavor names instead of flavor ids

Change-Id: I499477bf8cd03cc5ca7587ce6b23a8deb54c1d4e
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/06/825706/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/tempest.pp'],1,27aa5d36a28395890f9af0d5a249ed85822ebdff,flavor-test," flavor_ref => 'm1.nano', flavor_ref_alt => 'm1.micro', db_flavor_ref => 'm1.nano',"," flavor_ref => '42', flavor_ref_alt => '84', db_flavor_ref => '42',",3,3
openstack%2Fcinder~master~Iefd54ab86c048212e70b04bc09082bca0578ff07,openstack/cinder,master,Iefd54ab86c048212e70b04bc09082bca0578ff07,delete_nvmeof_target: detach controller before namespaces deletion,NEW,2022-01-17 20:24:13.000000000,2022-01-21 04:04:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 28050}]","[{'number': 1, 'created': '2022-01-17 20:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/69ecb0782f82835caae5eb644cd8376964b4accf', 'message': 'delete_nvmeof_target: detach controller before namespaces deletion\n\nDetach controller needs to be called before namespaces removal. The RPC call bdev_nvme_detach_controller removes all bdevs from the subsystem and then removes the controller itself. When RPC is called with all mandatory \'trid\' subfields and ctrl name, the ""ctrlrs"" structure is removed from the controller, when no more ctrlrs are present, the controller itself is removed.\n\nSigned-off-by: mionsz <milosz.linkiewicz@intel.com>\nChange-Id: Iefd54ab86c048212e70b04bc09082bca0578ff07\n'}, {'number': 2, 'created': '2022-01-17 20:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/56ea135577f0bce1a9bdfa9dc457ae4eb8e04f30', 'message': 'delete_nvmeof_target: detach controller before namespaces deletion\n\nDetach controller needs to be called before namespaces removal. The RPC call bdev_nvme_detach_controller removes all bdevs from the subsystem and then removes the controller itself. When RPC is called with all mandatory \'trid\' subfields and ctrl name, the ""ctrlrs"" structure is removed from the controller, when no more ctrlrs are present, the controller itself is removed.\n\nSigned-off-by: mionsz <milosz.linkiewicz@intel.com>\nChange-Id: Iefd54ab86c048212e70b04bc09082bca0578ff07\n'}, {'number': 3, 'created': '2022-01-17 20:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fec5801a555e6ddba4a0c6a946c5937ebacbb650', 'message': 'delete_nvmeof_target: detach controller before namespaces deletion\n\nDetach controller needs to be called before namespaces removal. The RPC call bdev_nvme_detach_controller removes all bdevs from the subsystem and then removes the controller itself. When RPC is called with all mandatory \'trid\' subfields and ctrl name, the ""ctrlrs"" structure is removed from the controller, when no more ctrlrs are present, the controller itself is removed.\n\nSigned-off-by: mionsz <milosz.linkiewicz@intel.com>\nChange-Id: Iefd54ab86c048212e70b04bc09082bca0578ff07\n'}, {'number': 4, 'created': '2022-01-18 09:23:55.000000000', 'files': ['cinder/volume/targets/spdknvmf.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bbcfbb0a26b9a62c06f742caa971c302d613d6cf', 'message': 'delete_nvmeof_target: detach controller before namespaces deletion\n\nDetach controller needs to be called before namespaces removal. The RPC call bdev_nvme_detach_controller removes all bdevs from the subsystem and then removes the controller itself. When RPC is called with all mandatory \'trid\' subfields and ctrl name, the ""ctrlrs"" structure is removed from the controller, when no more ctrlrs are present, the controller itself is removed.\n\nSigned-off-by: mionsz <milosz.linkiewicz@intel.com>\nChange-Id: Iefd54ab86c048212e70b04bc09082bca0578ff07\n'}]",0,825012,bbcfbb0a26b9a62c06f742caa971c302d613d6cf,76,2,4,34444,,,0,"delete_nvmeof_target: detach controller before namespaces deletion

Detach controller needs to be called before namespaces removal. The RPC call bdev_nvme_detach_controller removes all bdevs from the subsystem and then removes the controller itself. When RPC is called with all mandatory 'trid' subfields and ctrl name, the ""ctrlrs"" structure is removed from the controller, when no more ctrlrs are present, the controller itself is removed.

Signed-off-by: mionsz <milosz.linkiewicz@intel.com>
Change-Id: Iefd54ab86c048212e70b04bc09082bca0578ff07
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/825012/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/targets/spdknvmf.py'],1,69ecb0782f82835caae5eb644cd8376964b4accf,," def _get_subsystem_ns_dict_by_nqn(self, nqn): if nqn is not None: try: output = self._rpc_call('nvmf_get_subsystems') for subsystem in output[1:]: if nqn in subsystem['nqn']: return subsystem['namespaces'] except Exception as e: LOG.debug('SPDK ERROR: No ns in subsystem found: %s', e) def _delete_all_ns_from_subsystem(self, subsystem_nqn): LOG.debug('SPDK removing all ns from subsystem: %s', subsystem_nqn) ns_list = self._get_subsystem_ns_dict_by_nqn(subsystem_nqn) for ns in ns_list: try: params = {'nqn': subsystem_nqn, 'nsid': ns['nsid']} self._rpc_call('nvmf_subsystem_remove_ns', params) except Exception as e: LOG.debug('SPDK ERROR: subsystem ns not deleted: %s', e) def _get_bdev_ctrl_dict_by_nqn(self, target_nqn): LOG.debug('SPDK get controller by nqn: %s', target_nqn) try: bdev_ctrl_list = self._rpc_call('bdev_nvme_get_controllers') for bdev_ctrl in bdev_ctrl_list: for ctrls in bdev_ctrl['ctrlrs']: if 'trid' in ctrls: if 'subnqn' in ctrls['trid']: if target_nqn in ctrls['trid']['subnqn']: bdev_ctrl_trid = ctrls['trid'] bdev_ctrl_trid['name'] = bdev_ctrl['name'] return bdev_ctrl_trid except Exception as e: LOG.debug('SPDK ERROR: Could not get bdev_ctrl: %s', e) def _detach_nvmeof_controller(self, target_nqn): LOG.debug('SPDK detaching controller by nqn: %s', target_nqn) try: bdev_ctrl_trid = self._get_bdev_ctrl_dict_by_nqn(target_nqn) if bdev_ctrl_trid is not None: self._rpc_call('bdev_nvme_detach_controller', bdev_ctrl_trid) else: LOG.debug('SPDK ERROR: No bdev controller: %s', target_nqn) except Exception as e: LOG.debug('SPDK ERROR: Could not detach controller: %s', e) self._detach_nvmeof_controller(nqn) self._delete_all_ns_from_subsystem(nqn)"," def _get_namespaces_with_subsystem_nqn(self, nqn): output = self._rpc_call('nvmf_get_subsystems') if nqn is not None: for subsystem in output[1:]: if nqn in subsystem['nqn']: return subsystem['namespaces'] all_ns = self._get_namespaces_with_subsystem_nqn(nqn) for ns in all_ns: try: params = {'nqn': nqn, 'nsid': ns['nsid']} self._rpc_call('nvmf_subsystem_remove_ns', params) except Exception as e: LOG.debug('SPDK ERROR: subsystem ns not deleted: %s', e)",48,16
openstack%2Frequirements~master~Ic3920d591181877d4856c0bca1d6a38afeec9d58,openstack/requirements,master,Ic3920d591181877d4856c0bca1d6a38afeec9d58,Updated from generate-constraints,ABANDONED,2022-01-21 02:59:37.000000000,2022-01-21 03:59:44.000000000,,[],"[{'number': 1, 'created': '2022-01-21 02:59:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/df83fdd27ed2f65fbdd808318d63372e406d00f0', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic3920d591181877d4856c0bca1d6a38afeec9d58\n'}]",0,825704,df83fdd27ed2f65fbdd808318d63372e406d00f0,3,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: Ic3920d591181877d4856c0bca1d6a38afeec9d58
",git fetch https://review.opendev.org/openstack/requirements refs/changes/04/825704/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,df83fdd27ed2f65fbdd808318d63372e406d00f0,openstack/requirements/constraints,rcssmin===1.1.0XStatic-Angular===1.8.2.1SQLAlchemy===1.4.31paramiko===2.9.2pkg_resources===0.0.0django-compressor===3.1boto3===1.20.40botocore===1.23.40rjsmin===1.2.0fasteners===0.17.2,rcssmin===1.0.6XStatic-Angular===1.5.8.0SQLAlchemy===1.4.30paramiko===2.8.1django-compressor===2.4.1boto3===1.20.39botocore===1.23.39rjsmin===1.1.0fasteners===0.16.3setuptools===59.6.0;python_version=='3.6' setuptools===60.5.0;python_version=='3.8',10,11
openstack%2Fironic~master~I425b1915c73354af90329d5b3a1fb0a616adaa93,openstack/ironic,master,I425b1915c73354af90329d5b3a1fb0a616adaa93,ImageCache: respect Cache-Control: no-store,MERGED,2021-12-20 14:47:41.000000000,2022-01-21 03:35:52.000000000,2022-01-21 03:24:21.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-12-20 14:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8e629241ac3919369f85e19cdcfedbdf1c11cbe9', 'message': ""[WIP] ImageCache: respect Cache-Control: no-store\n\nDisable caching for file images: it's just waste of space.\n\nChange-Id: I425b1915c73354af90329d5b3a1fb0a616adaa93\n""}, {'number': 2, 'created': '2021-12-21 18:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/59a3c40243fed66e9da524703fc256a701ea4af2', 'message': ""[WIP] ImageCache: respect Cache-Control: no-store\n\nImages can be generated on fly, so let us respect the decision of the\nserver to disable caching.\n\nAlso disable caching for file images: it's just waste of space.\n\nChange-Id: I425b1915c73354af90329d5b3a1fb0a616adaa93\n""}, {'number': 3, 'created': '2021-12-21 18:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2ef162c9362b8012be75ebf5d7c23c85bf90cebb', 'message': ""[WIP] ImageCache: respect Cache-Control: no-store\n\nImages can be generated on fly, so let us respect the decision of the\nserver to disable caching.\n\nAlso disable caching for file images: it's just waste of space.\n\nChange-Id: I425b1915c73354af90329d5b3a1fb0a616adaa93\n""}, {'number': 4, 'created': '2022-01-07 15:28:12.000000000', 'files': ['ironic/drivers/modules/image_cache.py', 'ironic/tests/unit/drivers/modules/test_image_cache.py', 'ironic/tests/unit/common/test_image_service.py', 'releasenotes/notes/no-cache-df7caa45f3d8b6d7.yaml', 'ironic/common/image_service.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7043a414a8646eaf5841e87c3cf9a4790d0f8a39', 'message': ""ImageCache: respect Cache-Control: no-store\n\nImages can be generated on fly, so let us respect the decision of the\nserver to disable caching.\n\nAlso disable caching for file images: it's just waste of space.\n\nChange-Id: I425b1915c73354af90329d5b3a1fb0a616adaa93\n""}]",1,822329,7043a414a8646eaf5841e87c3cf9a4790d0f8a39,32,6,4,10239,,,0,"ImageCache: respect Cache-Control: no-store

Images can be generated on fly, so let us respect the decision of the
server to disable caching.

Also disable caching for file images: it's just waste of space.

Change-Id: I425b1915c73354af90329d5b3a1fb0a616adaa93
",git fetch https://review.opendev.org/openstack/ironic refs/changes/29/822329/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/image_cache.py', 'ironic/common/images.py', 'ironic/common/image_service.py']",3,8e629241ac3919369f85e19cdcfedbdf1c11cbe9,no-cache," :returns: dictionary of image properties. It has three of them: 'size', 'updated_at' and 'properties'. 'updated_at' attribute is a naive UTC datetime object. return self._info_from_headers(image_href, response.headers) def _info_from_headers(self, image_href, headers): image_size = headers.get('Content-Length') ""to HEAD/GET request."")) str_date = headers.get('Last-Modified') no_cache = 'no-store' in headers.get('Cache-Control', '') 'properties': {}, 'no_cache': no_cache, } def show(self, image_href): """"""Get dictionary of image properties. :param image_href: Image reference. :raises: exception.ImageRefValidationFailed if: * HEAD request failed; * HEAD request returned response code not equal to 200; * Content-Length header not found in response to HEAD request. :returns: dictionary of image properties. It has three of them: 'size', 'updated_at' and 'properties'. 'updated_at' attribute is a naive UTC datetime object. """""" response = self.validate_href(image_href) return self._info_from_headers(image_href, response.headers) :returns: dictionary of image properties. It has three of them: 'size', 'updated_at' and 'properties'. 'updated_at' attribute is a naive UTC datetime object. return self.show(image_href) 'properties': {}, # No point in caching local file images 'no_cache': True,"," def show(self, image_href): """"""Get dictionary of image properties. :param image_href: Image reference. :raises: exception.ImageRefValidationFailed if: * HEAD request failed; * HEAD request returned response code not equal to 200; * Content-Length header not found in response to HEAD request. :returns: dictionary of image properties. It has three of them: 'size', 'updated_at' and 'properties'. 'updated_at' attribute is a naive UTC datetime object. """""" response = self.validate_href(image_href) image_size = response.headers.get('Content-Length') ""to HEAD request."")) str_date = response.headers.get('Last-Modified') 'properties': {} } 'properties': {}",49,26
openstack%2Fneutron-lib~master~Id9840912b9d0018d008b6961d24dadbfaafc9f8e,openstack/neutron-lib,master,Id9840912b9d0018d008b6961d24dadbfaafc9f8e,"Add ""get_workers"" method to ""QuotaDriverAPI"" class",MERGED,2022-01-20 12:01:37.000000000,2022-01-21 02:35:00.000000000,2022-01-21 02:29:41.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-20 12:01:37.000000000', 'files': ['releasenotes/notes/quota-driver-api-get-workers-f540a81235dbf48d.yaml', 'neutron_lib/db/quota_api.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/04a87664c21824b69799326452fcb45c11c06b7e', 'message': 'Add ""get_workers"" method to ""QuotaDriverAPI"" class\n\nThis method returns the quota driver workers that needs to be spawned\nduring the plugin initialization.\n\nChange-Id: Id9840912b9d0018d008b6961d24dadbfaafc9f8e\nRelated-Bug: #1954662\n'}]",1,825490,04a87664c21824b69799326452fcb45c11c06b7e,10,4,1,16688,,,0,"Add ""get_workers"" method to ""QuotaDriverAPI"" class

This method returns the quota driver workers that needs to be spawned
during the plugin initialization.

Change-Id: Id9840912b9d0018d008b6961d24dadbfaafc9f8e
Related-Bug: #1954662
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/90/825490/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/quota-driver-api-get-workers-f540a81235dbf48d.yaml', 'neutron_lib/db/quota_api.py']",2,04a87664c21824b69799326452fcb45c11c06b7e,bug/1954662," @staticmethod @abc.abstractmethod def get_workers(): """"""Return the quota driver workers to be spawned during initialization This method returns the quota driver workers that needs to be spawned during the plugin initialization. For example, ``DbQuotaNoLockDriver`` requires a ``PeriodicWorker`` to clean up the expired reservations left in the database. :return: list of ``worker.BaseWorker`` or derived instances. """"""",,19,0
openstack%2Fdiskimage-builder~master~Ia76ed15dca891ab4f84b1f8a37c93500a1788ab6,openstack/diskimage-builder,master,Ia76ed15dca891ab4f84b1f8a37c93500a1788ab6,Verbosely curl when fetching fedora image list,NEW,2022-01-17 23:52:48.000000000,2022-01-21 01:32:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32411}]","[{'number': 1, 'created': '2022-01-17 23:52:48.000000000', 'files': ['diskimage_builder/elements/fedora/root.d/10-fedora-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d6c5e87d75c915bb37749ef4bd43ef09c7bc5892', 'message': 'Verbosely curl when fetching fedora image list\n\nSome fedora mirrors present the image listing in a way which breaks\nthe SUBRELEASE regex, but there is no way to know which mirrors cause\nthe failure.\n\nThis change always fetches the listing verbosely so that problematic\nmirrors can be identified.\n\nChange-Id: Ia76ed15dca891ab4f84b1f8a37c93500a1788ab6\n'}]",1,825026,d6c5e87d75c915bb37749ef4bd43ef09c7bc5892,10,3,1,4571,,,0,"Verbosely curl when fetching fedora image list

Some fedora mirrors present the image listing in a way which breaks
the SUBRELEASE regex, but there is no way to know which mirrors cause
the failure.

This change always fetches the listing verbosely so that problematic
mirrors can be identified.

Change-Id: Ia76ed15dca891ab4f84b1f8a37c93500a1788ab6
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/26/825026/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/fedora/root.d/10-fedora-cloud-image'],1,d6c5e87d75c915bb37749ef4bd43ef09c7bc5892,fedora-sub," SUBRELEASE=$(curl -Lvs $DIB_CLOUD_IMAGES/ | grep -o -P '(?<=Fedora-Cloud-Base-'${DIB_RELEASE}'-).*?(?=.'${ARCH}'.qcow2"")' | sort -r | head -1)"," SUBRELEASE=$(curl -Ls $DIB_CLOUD_IMAGES/ | grep -o -P '(?<=Fedora-Cloud-Base-'${DIB_RELEASE}'-).*?(?=.'${ARCH}'.qcow2"")' | sort -r | head -1)",1,1
openstack%2Fpbr~master~I88f5c09fac2d6b959a51c08cc3e27ef9a176f145,openstack/pbr,master,I88f5c09fac2d6b959a51c08cc3e27ef9a176f145,Make default envlist generic in tox.ini,ABANDONED,2020-10-12 06:19:58.000000000,2022-01-21 00:58:52.000000000,,"[{'_account_id': 4146}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31027}]","[{'number': 1, 'created': '2020-10-12 06:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/e4a8c2bcc1ac58be18548c1c7b499a6e8e1a90ab', 'message': ""bump py37 to py38 in tox.ini\n\nin 'victoria' cycle, we should test py38 by default.\n\nref:\n  https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: I88f5c09fac2d6b959a51c08cc3e27ef9a176f145\n""}, {'number': 2, 'created': '2021-03-31 16:56:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/pbr/commit/3a33f6948069cb9e1994f431e4b60140d72066b7', 'message': 'Make default envlist generic in tox.ini\n\nTo ease local testing we follow the recomandation of using `py` env name. Envlist does not\nhave any effect on CI/CD usage where we control versions.\n\nref:\n  https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: I88f5c09fac2d6b959a51c08cc3e27ef9a176f145\n'}]",1,757445,3a33f6948069cb9e1994f431e4b60140d72066b7,12,5,2,31027,,,0,"Make default envlist generic in tox.ini

To ease local testing we follow the recomandation of using `py` env name. Envlist does not
have any effect on CI/CD usage where we control versions.

ref:
  https://governance.openstack.org/tc/reference/runtimes/victoria.html

Change-Id: I88f5c09fac2d6b959a51c08cc3e27ef9a176f145
",git fetch https://review.opendev.org/openstack/pbr refs/changes/45/757445/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e4a8c2bcc1ac58be18548c1c7b499a6e8e1a90ab,,"envlist = pep8,py27,py38,docs","envlist = pep8,py27,py37,docs",1,1
openstack%2Fneutron~stable%2Fstein~I9f5bd8a1404dde3a0aa163ce72aef2961f537676,openstack/neutron,stable/stein,I9f5bd8a1404dde3a0aa163ce72aef2961f537676,"Do no use ""--strict"" for OF deletion in TRANSIENT_TABLE",MERGED,2021-12-06 09:09:18.000000000,2022-01-21 00:46:28.000000000,2022-01-21 00:43:23.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-06 09:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/635a42b04e762d097efaed4b3579994409c454f9', 'message': 'Do no use ""--strict"" for OF deletion in TRANSIENT_TABLE\n\nThere are two types of OF rules in TRANSIENT_TABLE:\n- With priority 100: these rules match by ""in_port"", that is a\n  unique identifier.\n- With priority 90: these rules match by MAC address and VLAN ID.\n  This combination (MAC, VLAN) is unique.\n\nThat means when a deleting an OF rule in TRANSIENT_TABLE, it is\nenough to specify the ""in_port"" or the (MAC, VLAN) tuple. The\n""--strict"" parameter, added to also define the priority, is not\nneeded.\n\nBy removing the ""--strict"" parameter, these deletion commands can\nbe executed synchronously at the end of the OVS deferred context,\nwhen all the OF rule commands (addition or deletion), are executed\nat the same time. That removes the small window, detected in the\nrelated bug, when the OF rule set for a port is not complete.\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n\nCloses-Bug: #1952770\nChange-Id: I9f5bd8a1404dde3a0aa163ce72aef2961f537676\n(cherry picked from commit ef7f673098c2a4574365f6f4ed20734f29309f08)\n'}, {'number': 2, 'created': '2021-12-13 10:13:30.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/557458e45052164d5fb32c1a3f3241131aec127c', 'message': 'Do no use ""--strict"" for OF deletion in TRANSIENT_TABLE\n\nThere are two types of OF rules in TRANSIENT_TABLE:\n- With priority 100: these rules match by ""in_port"", that is a\n  unique identifier.\n- With priority 90: these rules match by MAC address and VLAN ID.\n  This combination (MAC, VLAN) is unique.\n\nThat means when a deleting an OF rule in TRANSIENT_TABLE, it is\nenough to specify the ""in_port"" or the (MAC, VLAN) tuple. The\n""--strict"" parameter, added to also define the priority, is not\nneeded.\n\nBy removing the ""--strict"" parameter, these deletion commands can\nbe executed synchronously at the end of the OVS deferred context,\nwhen all the OF rule commands (addition or deletion), are executed\nat the same time. That removes the small window, detected in the\nrelated bug, when the OF rule set for a port is not complete.\n\nConflicts:\n    neutron/agent/linux/openvswitch_firewall/firewall.py\n    neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py\n\nCloses-Bug: #1952770\nChange-Id: I9f5bd8a1404dde3a0aa163ce72aef2961f537676\n(cherry picked from commit ef7f673098c2a4574365f6f4ed20734f29309f08)\n'}]",9,820481,557458e45052164d5fb32c1a3f3241131aec127c,26,4,2,11975,,,0,"Do no use ""--strict"" for OF deletion in TRANSIENT_TABLE

There are two types of OF rules in TRANSIENT_TABLE:
- With priority 100: these rules match by ""in_port"", that is a
  unique identifier.
- With priority 90: these rules match by MAC address and VLAN ID.
  This combination (MAC, VLAN) is unique.

That means when a deleting an OF rule in TRANSIENT_TABLE, it is
enough to specify the ""in_port"" or the (MAC, VLAN) tuple. The
""--strict"" parameter, added to also define the priority, is not
needed.

By removing the ""--strict"" parameter, these deletion commands can
be executed synchronously at the end of the OVS deferred context,
when all the OF rule commands (addition or deletion), are executed
at the same time. That removes the small window, detected in the
related bug, when the OF rule set for a port is not complete.

Conflicts:
    neutron/agent/linux/openvswitch_firewall/firewall.py
    neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py

Closes-Bug: #1952770
Change-Id: I9f5bd8a1404dde3a0aa163ce72aef2961f537676
(cherry picked from commit ef7f673098c2a4574365f6f4ed20734f29309f08)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/820481/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,635a42b04e762d097efaed4b3579994409c454f9,bug/1952770-stable/stein," call_args1 = {""table"": ovs_consts.TRANSIENT_TABLE, call_args2 = {""table"": ovs_consts.TRANSIENT_TABLE, self.mock_bridge.apply_flows.assert_called_once()"," call_args1 = {""strict"": True, ""priority"": 90, ""table"": ovs_consts.TRANSIENT_TABLE, call_args2 = {""strict"": True, ""priority"": 90, ""table"": ovs_consts.TRANSIENT_TABLE, ""strict"": True, ""priority"": 100, self.assertEqual(2, self.mock_bridge.apply_flows.call_count)",11,35
openstack%2Fironic~stable%2Fwallaby~Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e,openstack/ironic,stable/wallaby,Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e,Remove redfish cache entry upon errors,MERGED,2021-12-06 21:48:21.000000000,2022-01-21 00:37:17.000000000,2022-01-21 00:34:52.000000000,"[{'_account_id': 4571}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-12-06 21:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8b7e520c128a960fce32121f91f13ba118f076a2', 'message': ""Remove redfish cache entry upon errors\n\nSome transient errors can ultimately cause the client to need to be\ncompletely restarted due to cached connection data.\n\nIronic now explicitly removes the cache entry when a sushy\nAccessError or python AttributeError is detected originating\nfrom the library. This will now result in the prior cached connection\nobject to be discarded, and upon the next attempt to interact with\nthe same node, a new connection will be launched.\n\nThis will result in new sessions being created, but in all likelihood\nthe prior session had already timed out or had been administratively\nremoved. Sushy's code, as of\nhttps://review.opendev.org/c/openstack/sushy/+/820076\nwill raise SessionService lookup access errors as AccessErrors.\nPrior to that change, they should have been raised as AttributeError\nas the previous call sould have returned None to be used as an object.\n\n*Also* Includes follow-up change Ia59f774c9340e3a6fa63418afedf12098c709052\nsquashed into this change, and necessary backport friendly mock of\nAccessError which had changed since this release of ironic.\n\nChange-Id: Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e\nStory: 2009719\nTask: 44107\n(cherry picked from commit 1439af27ba2bd31fb85369754c648a45ee9ca14b)\n(cherry picked from commit 01997c8418b9e6ade47437b09dd9412310b90eac)\n(cherry picked from commit e3e7deaf48a5315fe10350e8a87b2fcc4e189406)\n(cherry picked from commit ab5495eecb409b37ad853a679032d6cdb4fefc72)\n""}, {'number': 2, 'created': '2021-12-07 18:52:52.000000000', 'files': ['ironic/drivers/modules/redfish/utils.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'releasenotes/notes/redfish-connection-cache-pool-accesserror-743e39a2f017b990.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e57aa7598b220bb2d1fd8fcc0aab6132926d5cce', 'message': ""Remove redfish cache entry upon errors\n\nSome transient errors can ultimately cause the client to need to be\ncompletely restarted due to cached connection data.\n\nIronic now explicitly removes the cache entry when a sushy\nAccessError or python AttributeError is detected originating\nfrom the library. This will now result in the prior cached connection\nobject to be discarded, and upon the next attempt to interact with\nthe same node, a new connection will be launched.\n\nThis will result in new sessions being created, but in all likelihood\nthe prior session had already timed out or had been administratively\nremoved. Sushy's code, as of\nhttps://review.opendev.org/c/openstack/sushy/+/820076\nwill raise SessionService lookup access errors as AccessErrors.\nPrior to that change, they should have been raised as AttributeError\nas the previous call sould have returned None to be used as an object.\n\n*Also* Includes follow-up change Ia59f774c9340e3a6fa63418afedf12098c709052\nsquashed into this change, and necessary backport friendly mock of\nAccessError which had changed since this release of ironic.\n\nChange-Id: Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e\nStory: 2009719\nTask: 44107\n(cherry picked from commit 1439af27ba2bd31fb85369754c648a45ee9ca14b)\n(cherry picked from commit 01997c8418b9e6ade47437b09dd9412310b90eac)\n(cherry picked from commit e3e7deaf48a5315fe10350e8a87b2fcc4e189406)\n(cherry picked from commit ab5495eecb409b37ad853a679032d6cdb4fefc72)\n""}]",6,820597,e57aa7598b220bb2d1fd8fcc0aab6132926d5cce,30,4,2,11655,,,0,"Remove redfish cache entry upon errors

Some transient errors can ultimately cause the client to need to be
completely restarted due to cached connection data.

Ironic now explicitly removes the cache entry when a sushy
AccessError or python AttributeError is detected originating
from the library. This will now result in the prior cached connection
object to be discarded, and upon the next attempt to interact with
the same node, a new connection will be launched.

This will result in new sessions being created, but in all likelihood
the prior session had already timed out or had been administratively
removed. Sushy's code, as of
https://review.opendev.org/c/openstack/sushy/+/820076
will raise SessionService lookup access errors as AccessErrors.
Prior to that change, they should have been raised as AttributeError
as the previous call sould have returned None to be used as an object.

*Also* Includes follow-up change Ia59f774c9340e3a6fa63418afedf12098c709052
squashed into this change, and necessary backport friendly mock of
AccessError which had changed since this release of ironic.

Change-Id: Icc6e5dd74d9f15e679a7e764fe49238ed6b8dc1e
Story: 2009719
Task: 44107
(cherry picked from commit 1439af27ba2bd31fb85369754c648a45ee9ca14b)
(cherry picked from commit 01997c8418b9e6ade47437b09dd9412310b90eac)
(cherry picked from commit e3e7deaf48a5315fe10350e8a87b2fcc4e189406)
(cherry picked from commit ab5495eecb409b37ad853a679032d6cdb4fefc72)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/97/820597/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/utils.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'releasenotes/notes/redfish-connection-cache-pool-accesserror-743e39a2f017b990.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_utils.py']",4,8b7e520c128a960fce32121f91f13ba118f076a2,," fake_conn = mock.Mock() mock_sushy.return_value = fake_conn @mock.patch.object(time, 'sleep', lambda seconds: None) @mock.patch.object(sushy, 'Sushy', autospec=True) @mock.patch('ironic.drivers.modules.redfish.utils.' 'SessionCache._sessions', {}) def test_wait_until_get_system_ready(self, mock_sushy): self.config(connection_attempts=2, group='redfish') uri = '/redfish/v1/Systems/FAKESYSTEM' fake_conn = mock_sushy.return_value fake_system = mock.Mock() fake_conn.get_system.side_effect = [ sushy.exceptions.BadRequestError('GET', uri, fake_system), fake_system ] response = redfish_utils.wait_until_get_system_ready(self.node) self.assertEqual(fake_system, response) self.assertEqual(fake_conn.get_system.call_count, 2) fake_conn.get_system.assert_called_with(uri) @mock.patch.object(time, 'sleep', lambda seconds: None) @mock.patch.object(sushy, 'Sushy', autospec=True) @mock.patch('ironic.drivers.modules.redfish.utils.' 'SessionCache._sessions', {}) def test_wait_until_get_system_ready_with_connection_error(self, mock_sushy): self.config(connection_attempts=2, group='redfish') uri = '/redfish/v1/Systems/FAKESYSTEM' fake_conn = mock_sushy.return_value fake_system = mock.Mock() fake_conn.get_system.side_effect = [ sushy.exceptions.BadRequestError('GET', uri, fake_system), sushy.exceptions.BadRequestError('GET', uri, fake_system) ] self.assertRaises(exception.RedfishConnectionError, redfish_utils.wait_until_get_system_ready, self.node) self.assertEqual(fake_conn.get_system.call_count, 2) @mock.patch.object(time, 'sleep', lambda seconds: None) @mock.patch.object(sushy, 'Sushy', autospec=True) @mock.patch('ironic.drivers.modules.redfish.utils.' 'SessionCache._sessions', {}) def test_get_system_resource_access_error_retry(self, mock_sushy): # Sushy access errors HTTP Errors class fake_response(object): status_code = 401 body = None def json(): return {} fake_conn = mock_sushy.return_value fake_system = mock.Mock() fake_conn.get_system.side_effect = iter( [ sushy.exceptions.AccessError( method='GET', url='http://path/to/url', response=fake_response), fake_system, ]) self.assertRaises(exception.RedfishError, redfish_utils.get_system, self.node) # Retry, as in next power sync perhaps client = redfish_utils.get_system(self.node) client('foo') expected_get_system_calls = [ mock.call(self.parsed_driver_info['system_id']), mock.call(self.parsed_driver_info['system_id']), ] fake_conn.get_system.assert_has_calls(expected_get_system_calls) fake_system.assert_called_with('foo') self.assertEqual(fake_conn.get_system.call_count, 2) @mock.patch.object(time, 'sleep', lambda seconds: None) @mock.patch.object(sushy, 'Sushy', autospec=True) @mock.patch('ironic.drivers.modules.redfish.utils.' 'SessionCache._sessions', {}) def test_get_system_resource_attribute_error(self, mock_sushy): fake_conn = mock_sushy.return_value fake_system = mock.Mock() fake_conn.get_system.side_effect = iter( [ AttributeError, fake_system, ]) # We need to check for AttributeError explicitly as # otherwise we break existing tests if we try to catch # it explicitly. self.assertRaises(exception.RedfishError, redfish_utils.get_system, self.node) # Retry, as in next power sync perhaps client = redfish_utils.get_system(self.node) client('bar') expected_get_system_calls = [ mock.call(self.parsed_driver_info['system_id']), mock.call(self.parsed_driver_info['system_id']), ] fake_conn.get_system.assert_has_calls(expected_get_system_calls) fake_system.assert_called_once_with('bar') self.assertEqual(fake_conn.get_system.call_count, 2) ", fake_conn = mock_sushy.return_value,150,1
openstack%2Fnova~stable%2Fussuri~Ie3129ee395427337e9abcef2f938012608f643e1,openstack/nova,stable/ussuri,Ie3129ee395427337e9abcef2f938012608f643e1,Ensure MAC addresses characters are in the same case,MERGED,2021-11-12 23:00:20.000000000,2022-01-21 00:35:17.000000000,2022-01-21 00:32:59.000000000,"[{'_account_id': 4690}, {'_account_id': 7130}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-11-12 23:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/126f86b107c67c9c75608dce69a9275fc89dd105', 'message': ""Ensure MAC addresses characters are in the same case\n\nCurrently neutron can report ports to have MAC addresses\nin upper case when they're created like that. In the meanwhile\nlibvirt configuration file always stores MAC in lower case\nwhich leads to KeyError while trying to retrieve migrate_vif.\n\nCloses-Bug: #1945646\nChange-Id: Ie3129ee395427337e9abcef2f938012608f643e1\n(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)\n""}, {'number': 2, 'created': '2021-12-23 13:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b47b4c7f42fe75ee2dd35ddcf55ec12bb7ee160f', 'message': ""Ensure MAC addresses characters are in the same case\n\nCurrently neutron can report ports to have MAC addresses\nin upper case when they're created like that. In the meanwhile\nlibvirt configuration file always stores MAC in lower case\nwhich leads to KeyError while trying to retrieve migrate_vif.\n\nConflicts:\n  nova/tests/unit/virt/libvirt/test_migration.py\n\nNote: conflict is caused by not having six.text_type removal patch\nI779bd1446dc1f070fa5100ccccda7881fa508d79 in stable/victoria.\nOriginal assertion method was preserved to resolve this conflict in\nstable/victoria and older stable branches.\n\nCloses-Bug: #1945646\nChange-Id: Ie3129ee395427337e9abcef2f938012608f643e1\n(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)\n(cherry picked from commit 63a6388f6a0265f84232731aba8aec1bff3c6d18)\n(cherry picked from commit 6c3d5de659e558e8f6ee353475b54ff3ca7240ee)\n""}, {'number': 3, 'created': '2021-12-23 14:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97f84cd37d4f36344fe5efab72988c09470492e1', 'message': ""Ensure MAC addresses characters are in the same case\n\nCurrently neutron can report ports to have MAC addresses\nin upper case when they're created like that. In the meanwhile\nlibvirt configuration file always stores MAC in lower case\nwhich leads to KeyError while trying to retrieve migrate_vif.\n\nConflicts:\n  nova/tests/unit/virt/libvirt/test_migration.py\n\nNote: conflict is caused by not having six.text_type removal patch\nI779bd1446dc1f070fa5100ccccda7881fa508d79 in stable/victoria.\nOriginal assertion method was preserved to resolve this conflict in\nstable/victoria and older stable branches.\n\nCloses-Bug: #1945646\nChange-Id: Ie3129ee395427337e9abcef2f938012608f643e1\n(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)\n(cherry picked from commit 63a6388f6a0265f84232731aba8aec1bff3c6d18)\n(cherry picked from commit 6c3d5de659e558e8f6ee353475b54ff3ca7240ee)\n(cherry picked from commit 28d0059c1f52e51add31bff50f1f6e443c938792)\n""}, {'number': 4, 'created': '2022-01-20 17:08:51.000000000', 'files': ['nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/184a3c976faed38907af148a533bc6e9faa410f5', 'message': ""Ensure MAC addresses characters are in the same case\n\nCurrently neutron can report ports to have MAC addresses\nin upper case when they're created like that. In the meanwhile\nlibvirt configuration file always stores MAC in lower case\nwhich leads to KeyError while trying to retrieve migrate_vif.\n\nCloses-Bug: #1945646\nChange-Id: Ie3129ee395427337e9abcef2f938012608f643e1\n(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)\n(cherry picked from commit 63a6388f6a0265f84232731aba8aec1bff3c6d18)\n(cherry picked from commit 6c3d5de659e558e8f6ee353475b54ff3ca7240ee)\n(cherry picked from commit 28d0059c1f52e51add31bff50f1f6e443c938792)\n""}]",11,817689,184a3c976faed38907af148a533bc6e9faa410f5,41,7,4,7130,,,0,"Ensure MAC addresses characters are in the same case

Currently neutron can report ports to have MAC addresses
in upper case when they're created like that. In the meanwhile
libvirt configuration file always stores MAC in lower case
which leads to KeyError while trying to retrieve migrate_vif.

Closes-Bug: #1945646
Change-Id: Ie3129ee395427337e9abcef2f938012608f643e1
(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)
(cherry picked from commit 63a6388f6a0265f84232731aba8aec1bff3c6d18)
(cherry picked from commit 6c3d5de659e558e8f6ee353475b54ff3ca7240ee)
(cherry picked from commit 28d0059c1f52e51add31bff50f1f6e443c938792)
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/817689/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py']",2,126f86b107c67c9c75608dce69a9275fc89dd105,bug/1945646," self.assertIn(""ca:fe:de:ad:be:ef"", str(ex)) def test_update_vif_xml_lower_case_mac(self): """"""Tests that the vif in the migrate data is not found in the existing guest interfaces. """""" conf = vconfig.LibvirtConfigGuestInterface() conf.net_type = ""bridge"" conf.source_dev = ""qbra188171c-ea"" conf.target_dev = ""tapa188171c-ea"" conf.mac_addr = ""DE:AD:BE:EF:CA:FE"" conf.model = ""virtio"" original_xml = """"""<domain> <uuid>3de6550a-8596-4937-8046-9d862036bca5</uuid> <devices> <interface type=""bridge""> <mac address=""de:ad:be:ef:ca:fe""/> <model type=""virtio""/> <source bridge=""qbra188171c-ea""/> <target dev=""tapa188171c-ea""/> <virtualport type=""openvswitch""> <parameters interfaceid=""%s""/> </virtualport> <address type='pci' domain='0x0000' bus='0x00' slot='0x04' function='0x0'/> </interface> </devices> </domain>"""""" % uuids.ovs expected_xml = """"""<domain> <uuid>3de6550a-8596-4937-8046-9d862036bca5</uuid> <devices> <interface type=""bridge""> <mac address=""DE:AD:BE:EF:CA:FE""/> <model type=""virtio""/> <source bridge=""qbra188171c-ea""/> <target dev=""tapa188171c-ea""/> <address type='pci' domain='0x0000' bus='0x00' slot='0x04' function='0x0'/> </interface> </devices> </domain>"""""" self._test_update_vif_xml(conf, original_xml, expected_xml)"," self.assertIn(""CA:FE:DE:AD:BE:EF"", six.text_type(ex))",51,3
openstack%2Fheat~master~I8f6c02b6271431f1f9728f3dbbb731fa21c117aa,openstack/heat,master,I8f6c02b6271431f1f9728f3dbbb731fa21c117aa,Implement secure RBAC for OS::Nova::* resource types,NEW,2022-01-17 08:31:35.000000000,2022-01-20 23:19:10.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-17 08:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e4ccde37f1f779590874d630f0d628e480e052ea', 'message': 'Implement secure RBAC for OS::Nova::* resource types\n\nThis is a series of follow-ups of implementation of secure RBAC[1],\nand updates the policy rules for the following three resource types\nto make them consistent with Nova.\n\n - OS::Nova::Flavor\n - OS::Nova::Quota\n - OS::Nova::HostAggregate\n\n[1] 93594c30eca3a52366e8138a583a00dbe5927d7d\n\nStory: 2009787\nTask: 44295\nChange-Id: I8f6c02b6271431f1f9728f3dbbb731fa21c117aa\n'}, {'number': 2, 'created': '2022-01-17 08:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/973e1873803c69b9e26d81479403847a78a82c4a', 'message': 'Implement secure RBAC for OS::Nova::* resource types\n\nThis is a series of follow-ups of implementation of secure RBAC[1],\nand updates the policy rules for the following three resource types\nto make them consistent with Nova.\n\n - OS::Nova::Flavor\n - OS::Nova::Quota\n - OS::Nova::HostAggregate\n\n[1] 93594c30eca3a52366e8138a583a00dbe5927d7d\n\nStory: 2009787\nTask: 44295\nChange-Id: I8f6c02b6271431f1f9728f3dbbb731fa21c117aa\n'}, {'number': 3, 'created': '2022-01-17 09:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f5f3a52ccc0c106859b5cbf122060912402cd842', 'message': 'Implement secure RBAC for OS::Nova::* resource types\n\nThis is a series of follow-ups of implementation of secure RBAC[1],\nand updates the policy rules for the following three resource types\nto make them consistent with Nova.\n\n - OS::Nova::Flavor\n - OS::Nova::Quota\n - OS::Nova::HostAggregate\n\n[1] 93594c30eca3a52366e8138a583a00dbe5927d7d\n\nStory: 2009787\nTask: 44295\nChange-Id: I8f6c02b6271431f1f9728f3dbbb731fa21c117aa\n'}, {'number': 4, 'created': '2022-01-17 10:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e6370efca49abcac221f92e756d5a640febdefd5', 'message': 'Implement secure RBAC for OS::Nova::* resource types\n\nThis is a series of follow-ups of implementation of secure RBAC[1],\nand updates the policy rules for the following three resource types\nto make them consistent with Nova.\n\n - OS::Nova::Flavor\n - OS::Nova::Quota\n - OS::Nova::HostAggregate\n\n[1] 93594c30eca3a52366e8138a583a00dbe5927d7d\n\nStory: 2009787\nTask: 44295\nChange-Id: I8f6c02b6271431f1f9728f3dbbb731fa21c117aa\n'}, {'number': 5, 'created': '2022-01-19 07:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/98f0360ab92ec454f27d3a788301004714ef5585', 'message': 'Implement secure RBAC for OS::Nova::* resource types\n\nThis is a series of follow-ups of implementation of secure RBAC[1],\nand updates the policy rules for the following three resource types\nto make them consistent with Nova.\n\n - OS::Nova::Flavor\n - OS::Nova::Quota\n - OS::Nova::HostAggregate\n\n[1] 93594c30eca3a52366e8138a583a00dbe5927d7d\n\nStory: 2009787\nTask: 44295\nChange-Id: I8f6c02b6271431f1f9728f3dbbb731fa21c117aa\n'}, {'number': 6, 'created': '2022-01-19 07:50:11.000000000', 'files': ['releasenotes/notes/support-rbac-for-nova-resource-types-e4833d7f4efc4261.yaml', 'heat/policies/resource_types.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/55299942f9502a0fd9e8a356b19b5160252a0fd4', 'message': 'Implement secure RBAC for OS::Nova::* resource types\n\nThis is a series of follow-ups of implementation of secure RBAC[1],\nand updates the policy rules for the following three resource types\nto make them consistent with Nova.\n\n - OS::Nova::Flavor\n - OS::Nova::Quota\n - OS::Nova::HostAggregate\n\n[1] 93594c30eca3a52366e8138a583a00dbe5927d7d\n\nStory: 2009787\nTask: 44295\nChange-Id: I8f6c02b6271431f1f9728f3dbbb731fa21c117aa\n'}]",1,824868,55299942f9502a0fd9e8a356b19b5160252a0fd4,15,2,6,9816,,,0,"Implement secure RBAC for OS::Nova::* resource types

This is a series of follow-ups of implementation of secure RBAC[1],
and updates the policy rules for the following three resource types
to make them consistent with Nova.

 - OS::Nova::Flavor
 - OS::Nova::Quota
 - OS::Nova::HostAggregate

[1] 93594c30eca3a52366e8138a583a00dbe5927d7d

Story: 2009787
Task: 44295
Change-Id: I8f6c02b6271431f1f9728f3dbbb731fa21c117aa
",git fetch https://review.opendev.org/openstack/heat refs/changes/68/824868/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/support-rbac-for-nova-resource-types-e4833d7f4efc4261.yaml', 'heat/policies/resource_types.py']",2,e4ccde37f1f779590874d630f0d628e480e052ea,story/2009787,"DEPRECATED_REASON = """""" The stack API now supports system scope and default roles. """""" deprecated_nova_flavor = policy.DeprecatedRule( name=POLICY_ROOT % 'OS::Nova::Flavor', check_str=base.SYSTEM_ADMIN, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.Yoga ) deprecated_nova_hostaggregate = policy.DeprecatedRule( name=POLICY_ROOT % 'OS::Nova::HostAggregate', check_str=base.SYSTEM_ADMIN, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.Yoga ) deprecated_nova_quota = policy.DeprecatedRule( name=POLICY_ROOT % 'OS::Nova::Quota', check_str=base.SYSTEM_ADMIN, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.Yoga ) check_str=base.RULE_SYSTEM_ADMIN, deprecated_rule=deprecated_nova_flavor), check_str=base.RULE_SYSTEM_ADMIN, deprecated_rule=deprecated_nova_quota), check_str=base.RULE_SYSTEM_ADMIN, deprecated_rule=deprecated_nova_hostaggregate),"," check_str=base.RULE_PROJECT_ADMIN), check_str=base.RULE_PROJECT_ADMIN), check_str=base.RULE_PROJECT_ADMIN),",41,3
openstack%2Ftempest~master~I09e773baedcffc8af5a88e0be1df38d14633ed74,openstack/tempest,master,I09e773baedcffc8af5a88e0be1df38d14633ed74,Add test coverage for bug 1943724,MERGED,2021-09-15 14:11:33.000000000,2022-01-20 22:26:02.000000000,2022-01-20 22:11:17.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-09-15 14:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3d9f12a1a1fe2fa47e4ece82146799634ddf116a', 'message': 'Reproduce bug 1943724\n\nRelated-Bug: #1943724\n\nChange-Id: I09e773baedcffc8af5a88e0be1df38d14633ed74\n'}, {'number': 2, 'created': '2021-09-15 15:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8ea8f328e03a65605fa7fcaf40e8147eb5638da1', 'message': 'Reproduce bug 1943724\n\nRelated-Bug: #1943724\n\nChange-Id: I09e773baedcffc8af5a88e0be1df38d14633ed74\n'}, {'number': 3, 'created': '2021-09-29 14:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f459b23783ab1bf0b33776d3b068eff0bb3e6e37', 'message': 'Reproduce bug 1943724\n\nRelated-Bug: #1943724\n\nChange-Id: I09e773baedcffc8af5a88e0be1df38d14633ed74\n'}, {'number': 4, 'created': '2021-11-02 16:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/527e4231c40d09a2e8ce69be981febb9344963a9', 'message': 'Reproduce bug 1943724\n\nRelated-Bug: #1943724\n\nChange-Id: I09e773baedcffc8af5a88e0be1df38d14633ed74\n'}, {'number': 5, 'created': '2021-12-10 10:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0d14d331b243a1d7cdf75771ed41622efd72bdcb', 'message': 'Add test coverage for bug 1943724\n\nNow that bug 1943724 is fixed in neutron we can extend the tempest test\ncoverage to show that changing the direction of the QoS minimum\nguaranteed bandwidth rule on a bound port is supported.\n\nRelated-Bug: #1943724\n\nChange-Id: I09e773baedcffc8af5a88e0be1df38d14633ed74\n'}, {'number': 6, 'created': '2021-12-10 11:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1615bf0946667402282743c315a881fbaa823a33', 'message': 'Add test coverage for bug 1943724\n\nNow that bug 1943724 is fixed in neutron we can extend the tempest test\ncoverage to show that changing the direction of the QoS minimum\nguaranteed bandwidth rule on a bound port is supported.\n\nRelated-Bug: #1943724\n\nChange-Id: I09e773baedcffc8af5a88e0be1df38d14633ed74\n'}, {'number': 7, 'created': '2022-01-13 16:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7b9fae8dfd1710a641a72cb49fda959fbac8fe0e', 'message': 'Add test coverage for bug 1943724\n\nNow that bug 1943724 is fixed in neutron we can extend the tempest test\ncoverage to show that changing the direction of the QoS minimum\nguaranteed bandwidth rule on a bound port is supported.\n\nRelated-Bug: #1943724\n\nChange-Id: I09e773baedcffc8af5a88e0be1df38d14633ed74\n'}, {'number': 8, 'created': '2022-01-14 15:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c6e7642a79610eb0bcc395b86e2fae0d6ece64ef', 'message': 'Add test coverage for bug 1943724\n\nNow that bug 1943724 is fixed in neutron we can extend the tempest test\ncoverage to show that changing the direction of the QoS minimum\nguaranteed bandwidth rule on a bound port is supported.\n\nRelated-Bug: #1943724\n\nChange-Id: I09e773baedcffc8af5a88e0be1df38d14633ed74\n'}, {'number': 9, 'created': '2022-01-14 16:58:07.000000000', 'files': ['tempest/scenario/test_network_qos_placement.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/770dc0060ffb3dad5f15cd8ef7295841f1131be6', 'message': 'Add test coverage for bug 1943724\n\nNow that bug 1943724 is fixed in neutron we can extend the tempest test\ncoverage to show that changing the direction of the QoS minimum\nguaranteed bandwidth rule on a bound port is supported.\n\nRelated-Bug: #1943724\n\nChange-Id: I09e773baedcffc8af5a88e0be1df38d14633ed74\n'}]",11,809198,770dc0060ffb3dad5f15cd8ef7295841f1131be6,34,4,9,9708,,,0,"Add test coverage for bug 1943724

Now that bug 1943724 is fixed in neutron we can extend the tempest test
coverage to show that changing the direction of the QoS minimum
guaranteed bandwidth rule on a bound port is supported.

Related-Bug: #1943724

Change-Id: I09e773baedcffc8af5a88e0be1df38d14633ed74
",git fetch https://review.opendev.org/openstack/tempest refs/changes/98/809198/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_minbw_allocation_placement.py'],1,3d9f12a1a1fe2fa47e4ece82146799634ddf116a,bug/1943724," EGRESS_RESOURCE_CLASS = ""NET_BW_EGR_KILOBIT_PER_SEC"" EGRESS_DIRECTION = 'egress' def _create_policy_and_min_bw_rule( self, name_prefix, min_kbps, direction=""ingress"" ): 'direction': direction, def _assert_allocation_is_as_expected( self, consumer, port_ids, min_kbps=SMALLEST_POSSIBLE_BW, expected_rc=INGRESS_RESOURCE_CLASS, ): if expected_rc in resources['resources']: resources['resources'][expected_rc]) self.assertTrue( bw_resource_in_alloc, f""expected {min_kbps} bandwidth allocation from {expected_rc} "" f""but instance has allocation {allocations} instead."" ) @decorators.idempotent_id('372b2728-cfed-469a-b5f6-b75779e1ccbe') @utils.services('compute', 'network') def test_qos_min_bw_allocation_update_policy_direction_change(self): """"""Test QoS min bw direction change on a bound port Related RFE in neutron: #1882804 The scenario is the following: * Have a port with QoS policy and minimum bandwidth rule with ingress direction * Boot a VM with the port. * Update the port with a new policy to egress direction in minimum bandwidth rule. * The allocation on placement side should be according to the new rules. """""" if not utils.is_network_feature_enabled('update_port_qos'): raise self.skipException(""update_port_qos feature is not enabled"") def create_policies(): self.qos_policy_ingress = self._create_policy_and_min_bw_rule( name_prefix='test_policy_ingress', min_kbps=self.BANDWIDTH_1, direction=self.INGRESS_DIRECTION, ) self.qos_policy_egress = self._create_policy_and_min_bw_rule( name_prefix='test_policy_egress', min_kbps=self.BANDWIDTH_1, direction=self.EGRESS_DIRECTION, ) self._create_network_and_qos_policies(create_policies) port = self.create_port( self.prov_network['id'], qos_policy_id=self.qos_policy_ingress['id']) server1 = self.create_server( networks=[{'port': port['id']}]) self._assert_allocation_is_as_expected( server1['id'], [port['id']], self.BANDWIDTH_1, expected_rc=self.INGRESS_RESOURCE_CLASS) self.ports_client.update_port( port['id'], qos_policy_id=self.qos_policy_egress['id']) # FIXME(gibi): This is bug 1943724 the allocation should have been from # EGRESS_RESOURCE_CLASS but it is still from INGRESS_RESOURCE_CLASS self._assert_allocation_is_as_expected( server1['id'], [port['id']], self.BANDWIDTH_1, expected_rc=self.INGRESS_RESOURCE_CLASS) self._assert_allocation_is_as_expected( server1['id'], [port['id']], 0, expected_rc=self.EGRESS_RESOURCE_CLASS) # When bug 1943724 is fixed this should pass # self._assert_allocation_is_as_expected( # server1['id'], [port['id']], self.BANDWIDTH_1, # expected_rc=self.EGRESS_RESOURCE_CLASS)"," def _create_policy_and_min_bw_rule(self, name_prefix, min_kbps): 'direction': self.INGRESS_DIRECTION def _assert_allocation_is_as_expected(self, consumer, port_ids, min_kbps=SMALLEST_POSSIBLE_BW): if self.INGRESS_RESOURCE_CLASS in resources['resources']: resources['resources'][self.INGRESS_RESOURCE_CLASS]) self.assertTrue(bw_resource_in_alloc)",78,7
openstack%2Frequirements~master~Ic8d1e05dc502bfa2a63b94c95f8c0eb821e596e3,openstack/requirements,master,Ic8d1e05dc502bfa2a63b94c95f8c0eb821e596e3,Updated from generate-constraints,MERGED,2022-01-20 02:42:13.000000000,2022-01-20 22:25:35.000000000,2022-01-20 22:11:22.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-20 02:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e62a0586254b438b38313af84787fb08091420f4', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic8d1e05dc502bfa2a63b94c95f8c0eb821e596e3\n'}, {'number': 2, 'created': '2022-01-20 15:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/22c8a2e5f617c7a95cc16eb109a5aab59f563559', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic8d1e05dc502bfa2a63b94c95f8c0eb821e596e3\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2022-01-20 17:16:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fc06c99a74fcf0e8af7625b3bc770622eef133f7', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic8d1e05dc502bfa2a63b94c95f8c0eb821e596e3\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,825419,fc06c99a74fcf0e8af7625b3bc770622eef133f7,16,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: Ic8d1e05dc502bfa2a63b94c95f8c0eb821e596e3
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/19/825419/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e62a0586254b438b38313af84787fb08091420f4,openstack/requirements/constraints/noclob,rcssmin===1.1.0types-enum34===1.1.8XStatic-Angular===1.8.2.1SQLAlchemy===1.4.30paramiko===2.9.2httpcore===0.14.5pkg_resources===0.0.0django-compressor===3.1google-api-python-client===2.36.0types-ipaddress===1.0.7boto3===1.20.39dogpile.cache===1.1.5botocore===1.23.39rjsmin===1.2.0dnspython===2.2.0fasteners===0.17.2,rcssmin===1.0.6types-enum34===1.1.3XStatic-Angular===1.5.8.0SQLAlchemy===1.4.29paramiko===2.8.1httpcore===0.14.4django-compressor===2.4.1google-api-python-client===2.35.0types-ipaddress===1.0.3boto3===1.20.37dogpile.cache===1.1.4botocore===1.23.37rjsmin===1.1.0dnspython===2.1.0fasteners===0.16.3setuptools===59.6.0;python_version=='3.6' setuptools===60.5.0;python_version=='3.8',16,17
openstack%2Fpython-manilaclient~stable%2Ftrain~I4a7de404bd02887e7a7b37fff8ce449846109cbb,openstack/python-manilaclient,stable/train,I4a7de404bd02887e7a7b37fff8ce449846109cbb,[CI] Fix CI jobs,MERGED,2022-01-18 22:23:09.000000000,2022-01-20 22:25:34.000000000,2022-01-20 22:10:14.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-01-18 22:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/57b12d1e80b74ac9d9fd7c15cab0189c241080ba', 'message': ""[CI] Fix CI jobs\n\nrally-dsvm-manila-multibackend and\nrally-dsvm-manila-multibackend-no-ss were old\njobs whose definition was removed a while ago, however,\nthe check pipeline on this repo had these jobs\nand this config error was not surfaced until\nrecently [1]. Replace these older jobs with the\ncorrect ones.\n\nThe lower constraints job should only be run on\nmaster, since it provides little value to stable branches\nwe've already shipped. We do not allow requirements\nchanges in these branches lightly. [2][3][4]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\n[2] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[3] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n[4] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html\nChange-Id: I4a7de404bd02887e7a7b37fff8ce449846109cbb\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 1f72195d316d8fc4fafad107c81d134aae2210b7)\n(cherry picked from commit 406ae1c65e63c30bdf68ee613ca753a5bd3e94ca)\n(cherry picked from commit 1412265e0a957ecb6462bbfc00e1dcc790e7fc28)\n(cherry picked from commit 3feef0c6b2a188c90fa9a6a0415f4dec9f536bd0)\n(cherry picked from commit 11d95ccefe1c1f17a123a578f500435e3c60f73c)\n""}, {'number': 2, 'created': '2022-01-18 22:24:33.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/5526d1f311d2b31ef7ce5383029f51ec16937b85', 'message': ""[CI] Fix CI jobs\n\nrally-dsvm-manila-multibackend and\nrally-dsvm-manila-multibackend-no-ss were old\njobs whose definition was removed a while ago, however,\nthe check pipeline on this repo had these jobs\nand this config error was not surfaced until\nrecently [1]. Replace these older jobs with the\ncorrect ones.\n\nThe lower constraints job should only be run on\nmaster, since it provides little value to stable branches\nwe've already shipped. We do not allow requirements\nchanges in these branches lightly. [2][3][4]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\n[2] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[3] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n[4] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html\nChange-Id: I4a7de404bd02887e7a7b37fff8ce449846109cbb\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 1f72195d316d8fc4fafad107c81d134aae2210b7)\n(cherry picked from commit 406ae1c65e63c30bdf68ee613ca753a5bd3e94ca)\n(cherry picked from commit 1412265e0a957ecb6462bbfc00e1dcc790e7fc28)\n(cherry picked from commit 3feef0c6b2a188c90fa9a6a0415f4dec9f536bd0)\n(cherry picked from commit 11d95ccefe1c1f17a123a578f500435e3c60f73c)\n""}]",2,825067,5526d1f311d2b31ef7ce5383029f51ec16937b85,13,3,2,16643,,,0,"[CI] Fix CI jobs

rally-dsvm-manila-multibackend and
rally-dsvm-manila-multibackend-no-ss were old
jobs whose definition was removed a while ago, however,
the check pipeline on this repo had these jobs
and this config error was not surfaced until
recently [1]. Replace these older jobs with the
correct ones.

The lower constraints job should only be run on
master, since it provides little value to stable branches
we've already shipped. We do not allow requirements
changes in these branches lightly. [2][3][4]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
[2] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html
[3] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020
[4] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html
Change-Id: I4a7de404bd02887e7a7b37fff8ce449846109cbb
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 1f72195d316d8fc4fafad107c81d134aae2210b7)
(cherry picked from commit 406ae1c65e63c30bdf68ee613ca753a5bd3e94ca)
(cherry picked from commit 1412265e0a957ecb6462bbfc00e1dcc790e7fc28)
(cherry picked from commit 3feef0c6b2a188c90fa9a6a0415f4dec9f536bd0)
(cherry picked from commit 11d95ccefe1c1f17a123a578f500435e3c60f73c)
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/67/825067/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,57b12d1e80b74ac9d9fd7c15cab0189c241080ba,ci-fixes-stable/train,<<<<<<< HEAD (cf01e7 Migrate functional job to native zuulv3)======= - openstack-python3-ussuri-jobs >>>>>>> CHANGE (11d95c [CI] Fix CI jobs) - manila-rally-ss: - manila-rally-no-ss:, - rally-dsvm-manila-multibackend: - rally-dsvm-manila-multibackend-no-ss:,6,2
openstack%2Fblazar~master~I58573b8b475650f9f3b19f188e1eddf9d00e0ef3,openstack/blazar,master,I58573b8b475650f9f3b19f188e1eddf9d00e0ef3,[WIP] Stop using context for Nova unless provided,NEW,2022-01-20 21:40:54.000000000,2022-01-20 22:16:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-20 21:40:54.000000000', 'files': ['blazar/utils/openstack/nova.py', 'blazar/tests/utils/openstack/test_nova.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/5b36b6c0c8952ddab5575b729b746cec47554a8f', 'message': '[WIP] Stop using context for Nova unless provided\n\nChange-Id: I58573b8b475650f9f3b19f188e1eddf9d00e0ef3\n'}]",0,825681,5b36b6c0c8952ddab5575b729b746cec47554a8f,2,1,1,15197,,,0,"[WIP] Stop using context for Nova unless provided

Change-Id: I58573b8b475650f9f3b19f188e1eddf9d00e0ef3
",git fetch https://review.opendev.org/openstack/blazar refs/changes/81/825681/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/utils/openstack/nova.py', 'blazar/tests/utils/openstack/test_nova.py']",2,5b36b6c0c8952ddab5575b729b746cec47554a8f,nova-wrapper-no-ctx," kwargs = {'ctx': self.ctx(), 'version': self.version}", kwargs = {'version': self.version},1,6
openstack%2Ftripleo-heat-templates~master~Ib00053921618263051a2d9730031acfe11d3d0ca,openstack/tripleo-heat-templates,master,Ib00053921618263051a2d9730031acfe11d3d0ca,"Revert ""Update cell0 db connection, if required""",ABANDONED,2022-01-20 22:10:06.000000000,2022-01-20 22:10:53.000000000,,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2022-01-20 22:10:06.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/948ad5f6ed65708d3735914e73907e38bd231223', 'message': 'Revert ""Update cell0 db connection, if required""\n\nThis reverts commit 3983bc7445276a7183689466c613fdf62c446126.\n\nReason for revert: https://bugs.launchpad.net/tripleo/+bug/1958580\n\nChange-Id: Ib00053921618263051a2d9730031acfe11d3d0ca\n'}]",0,825469,948ad5f6ed65708d3735914e73907e38bd231223,2,9,1,27419,,,0,"Revert ""Update cell0 db connection, if required""

This reverts commit 3983bc7445276a7183689466c613fdf62c446126.

Reason for revert: https://bugs.launchpad.net/tripleo/+bug/1958580

Change-Id: Ib00053921618263051a2d9730031acfe11d3d0ca
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/825469/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-api-container-puppet.yaml'],1,948ad5f6ed65708d3735914e73907e38bd231223,," command: str_replace: template: ""/usr/bin/bootstrap_host_exec nova_api su nova -s /bin/bash -c '/usr/bin/nova-manage cell_v2 map_cell0 --database_connection=\""CELL0DB\""'"" params: CELL0DB: list_join: - '' - - '{scheme}' - '://' - '{username}' - ':' - '{password}' - '@' - if: - mysql_ipv6_use_ip_address - '[{hostname}]' - '{hostname}' - '/' - 'nova_cell0' - '?' - '{query}'"," command: ""/usr/bin/bootstrap_host_exec nova_api /nova_api_map_cell0.sh"" nova_api_map_cell0.sh: mode: ""0700"" content: str_replace: template: | #!/bin/bash CLIST=$(su nova -s /bin/bash -c ""nova-manage cell_v2 list_cells"") CELLID=$(printf ""$CLIST"" | sed -e '1,3d' -e '$d' | awk -F ' *| *' '$2 == ""cell0"" {print $4}') CELLDBC=$(printf ""$CLIST"" | sed -e '1,3d' -e '$d' | awk -F ' *| *' '$2 == ""cell0"" {print $8}') if [ ""$CELLID"" ]; then if [ ! ""$CELLDBC"" = ""CELL0DB"" ]; then # NOTE(bogdando): cached data must be updated w/ SIGHUP # for all the scheduler, conductor, API service workers. # For now that's achieved as the containers get recreated echo ""(cellv2) Updating cell0 cell_v2 cell $CELLID"" su nova -s /bin/bash -c ""/usr/bin/nova-manage cell_v2 update_cell --cell_uuid $CELLID --name=cell0 --database_connection='CELL0DB'"" fi else echo ""(cellv2) Creating cell0 cell_v2 cell"" su nova -s /bin/bash -c ""/usr/bin/nova-manage cell_v2 map_cell0 --database_connection='CELL0DB'"" fi # skip DB sync as the conductor container executes it later params: CELL0DB: list_join: - '' - - '{scheme}' - '://' - '{username}' - ':' - '{password}' - '@' - if: - mysql_ipv6_use_ip_address - '[{hostname}]' - '{hostname}' - '/' - 'nova_cell0' - '?' - '{query}' - /var/lib/container-config-scripts/nova_api_map_cell0.sh:/nova_api_map_cell0.sh:ro",22,43
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I3b77d4fccd07d6a74ceb4f0651769f2b8f84d7fd,openstack/tripleo-heat-templates,stable/wallaby,I3b77d4fccd07d6a74ceb4f0651769f2b8f84d7fd,"Update cell0 db connection, if required",MERGED,2022-01-11 13:21:12.000000000,2022-01-20 22:09:55.000000000,2022-01-17 23:10:08.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-11 13:21:12.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/81c4c23f70fc4a917afce35e3588eee8081cf1e2', 'message': 'Update cell0 db connection, if required\n\nWhenever we change the cells database connection, like FFU does,\nensure it is always updated for the default and cell0 cells.\n\nRelated: rhbz#2030191\nChange-Id: I3b77d4fccd07d6a74ceb4f0651769f2b8f84d7fd\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,824151,81c4c23f70fc4a917afce35e3588eee8081cf1e2,13,4,1,6926,,,0,"Update cell0 db connection, if required

Whenever we change the cells database connection, like FFU does,
ensure it is always updated for the default and cell0 cells.

Related: rhbz#2030191
Change-Id: I3b77d4fccd07d6a74ceb4f0651769f2b8f84d7fd
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/824151/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-api-container-puppet.yaml'],1,81c4c23f70fc4a917afce35e3588eee8081cf1e2,," command: ""/usr/bin/bootstrap_host_exec nova_api /nova_api_map_cell0.sh"" nova_api_map_cell0.sh: mode: ""0700"" content: str_replace: template: | #!/bin/bash CLIST=$(su nova -s /bin/bash -c ""nova-manage cell_v2 list_cells"") CELLID=$(printf ""$CLIST"" | sed -e '1,3d' -e '$d' | awk -F ' *| *' '$2 == ""cell0"" {print $4}') CELLDBC=$(printf ""$CLIST"" | sed -e '1,3d' -e '$d' | awk -F ' *| *' '$2 == ""cell0"" {print $8}') if [ ""$CELLID"" ]; then if [ ! ""$CELLDBC"" = ""CELL0DB"" ]; then # NOTE(bogdando): cached data must be updated w/ SIGHUP # for all the scheduler, conductor, API service workers. # For now that's achieved as the containers get recreated echo ""(cellv2) Updating cell0 cell_v2 cell $CELLID"" su nova -s /bin/bash -c ""/usr/bin/nova-manage cell_v2 update_cell --cell_uuid $CELLID --name=cell0 --database_connection='CELL0DB'"" fi else echo ""(cellv2) Creating cell0 cell_v2 cell"" su nova -s /bin/bash -c ""/usr/bin/nova-manage cell_v2 map_cell0 --database_connection='CELL0DB'"" fi # skip DB sync as the conductor container executes it later params: CELL0DB: list_join: - '' - - '{scheme}' - '://' - '{username}' - ':' - '{password}' - '@' - if: - mysql_ipv6_use_ip_address - '[{hostname}]' - '{hostname}' - '/' - 'nova_cell0' - '?' - '{query}' - /var/lib/container-config-scripts/nova_api_map_cell0.sh:/nova_api_map_cell0.sh:ro"," command: str_replace: template: ""/usr/bin/bootstrap_host_exec nova_api su nova -s /bin/bash -c '/usr/bin/nova-manage cell_v2 map_cell0 --database_connection=\""CELL0DB\""'"" params: CELL0DB: list_join: - '' - - '{scheme}' - '://' - '{username}' - ':' - '{password}' - '@' - if: - mysql_ipv6_use_ip_address - '[{hostname}]' - '{hostname}' - '/' - 'nova_cell0' - '?' - '{query}'",43,22
openstack%2Fpuppet-designate~master~I9e9163e59e7b328be31ae709ada5a51fe740f174,openstack/puppet-designate,master,I9e9163e59e7b328be31ae709ada5a51fe740f174,Remove usage of custom os_package_type fact,MERGED,2022-01-20 14:26:41.000000000,2022-01-20 22:02:51.000000000,2022-01-20 22:02:51.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-20 14:26:41.000000000', 'files': ['manifests/wsgi/uwsgi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/59803417ecbbde9c49f855c32895811b7b0dc79b', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I9e9163e59e7b328be31ae709ada5a51fe740f174\n'}]",1,825511,59803417ecbbde9c49f855c32895811b7b0dc79b,9,3,1,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: I9e9163e59e7b328be31ae709ada5a51fe740f174
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/11/825511/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/uwsgi.pp'],1,59803417ecbbde9c49f855c32895811b7b0dc79b,remove-os_package_type, if $::operatingsystem != 'Debian' {, if $::os_package_type != 'debian'{,1,1
openstack%2Fos-net-config~stable%2Fussuri~If607c83c4309c636ccbe03789410f2a2301258d2,openstack/os-net-config,stable/ussuri,If607c83c4309c636ccbe03789410f2a2301258d2,Adding steering_mode config to sriov_pf object,MERGED,2022-01-19 21:38:07.000000000,2022-01-20 21:52:13.000000000,2022-01-20 21:50:11.000000000,"[{'_account_id': 7144}, {'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 21:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/aed0c12494e3ece9283b298dcbdbb3fef6b54d58', 'message': 'Adding steering_mode config to sriov_pf object\n\nThe Current behavioure is to enable smfs software steering\nby default when moving to switchdev, in some cases we need\nit to be in dmfs mode (FW steering), so adding steering_mode\nconfig to sriov_pf object to make it configrable\n\nChange-Id: If607c83c4309c636ccbe03789410f2a2301258d2\n(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)\n'}, {'number': 2, 'created': '2022-01-19 22:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/1baa2a62764970fe8490aa3e41107f81ea66de6a', 'message': 'Adding steering_mode config to sriov_pf object\n\nThe Current behavioure is to enable smfs software steering\nby default when moving to switchdev, in some cases we need\nit to be in dmfs mode (FW steering), so adding steering_mode\nconfig to sriov_pf object to make it configrable\n\nChange-Id: If607c83c4309c636ccbe03789410f2a2301258d2\n(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)\n'}, {'number': 3, 'created': '2022-01-19 22:17:06.000000000', 'files': ['os_net_config/schema.yaml', 'os_net_config/utils.py', 'os_net_config/tests/test_objects.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py', 'etc/os-net-config/samples/sriov_pf_switchdev.json', 'etc/os-net-config/samples/sriov_pf_switchdev.yaml', 'os_net_config/objects.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/96159f426d6d430b4c37f099688848bb0b290f59', 'message': 'Adding steering_mode config to sriov_pf object\n\nThe Current behavioure is to enable smfs software steering\nby default when moving to switchdev, in some cases we need\nit to be in dmfs mode (FW steering), so adding steering_mode\nconfig to sriov_pf object to make it configrable\n\nChange-Id: If607c83c4309c636ccbe03789410f2a2301258d2\n(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)\n'}]",0,825223,96159f426d6d430b4c37f099688848bb0b290f59,11,7,3,25241,,,0,"Adding steering_mode config to sriov_pf object

The Current behavioure is to enable smfs software steering
by default when moving to switchdev, in some cases we need
it to be in dmfs mode (FW steering), so adding steering_mode
config to sriov_pf object to make it configrable

Change-Id: If607c83c4309c636ccbe03789410f2a2301258d2
(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/23/825223/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/schema.yaml', 'os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_objects.py', 'os_net_config/impl_ifcfg.py', 'etc/os-net-config/samples/sriov_pf_switchdev.json', 'etc/os-net-config/samples/sriov_pf_switchdev.yaml', 'os_net_config/objects.py', 'os_net_config/sriov_config.py']",9,aed0c12494e3ece9283b298dcbdbb3fef6b54d58,,"<<<<<<< HEAD (1ee836 Merge ""Add ifcfg-* scripts on boot for Mellanox NIC interfac) ======= if not vdpa: # This is used for the sriov_bind_config dpdk_vfs_pcis_list += vf_pcis_list # Configure flow steering mode, default to smfs configure_flow_steering(item['name'], item.get('steering_mode', 'smfs')) # Configure switchdev mode configure_switchdev(item['name']) # Adding a udev rule to rename vf-representors else: trigger_udev_rule = add_udev_rule_for_vdpa_representors( item['name']) or trigger_udev_rule >>>>>>> CHANGE (7c7b32 Adding steering_mode config to sriov_pf object)def configure_flow_steering(pf_name, steering_mode):<<<<<<< HEAD (1ee836 Merge ""Add ifcfg-* scripts on boot for Mellanox NIC interfac)======= 'value', steering_mode, 'cmode', 'runtime') logger.info(f""{pf_name}: Device pci/{pf_pci} is set to"" "" {steering_mode} steering mode."") >>>>>>> CHANGE (7c7b32 Adding steering_mode config to sriov_pf object) except processutils.ProcessExecutionError as exc: <<<<<<< HEAD (1ee836 Merge ""Add ifcfg-* scripts on boot for Mellanox NIC interfac)======= logger.warning(f""{pf_name}: Could not set pci/{pf_pci} to"" f"" {steering_mode} steering mode: {exc}"") >>>>>>> CHANGE (7c7b32 Adding steering_mode config to sriov_pf object)",def configure_smfs_software_steering(pf_name): except processutils.ProcessExecutionError as exc:,155,2
openstack%2Fos-net-config~stable%2Fvictoria~If607c83c4309c636ccbe03789410f2a2301258d2,openstack/os-net-config,stable/victoria,If607c83c4309c636ccbe03789410f2a2301258d2,Adding steering_mode config to sriov_pf object,MERGED,2022-01-19 21:10:08.000000000,2022-01-20 21:52:12.000000000,2022-01-20 21:50:09.000000000,"[{'_account_id': 7144}, {'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 21:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/5baed270a6e28dcd6c8a392ead081b70ed353f3e', 'message': 'Adding steering_mode config to sriov_pf object\n\nThe Current behavioure is to enable smfs software steering\nby default when moving to switchdev, in some cases we need\nit to be in dmfs mode (FW steering), so adding steering_mode\nconfig to sriov_pf object to make it configrable\n\nChange-Id: If607c83c4309c636ccbe03789410f2a2301258d2\n(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)\n'}, {'number': 2, 'created': '2022-01-19 21:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/9d4fbbee0421f954aa0d7e31c50af3afd940a386', 'message': 'Adding steering_mode config to sriov_pf object\n\nThe Current behavioure is to enable smfs software steering\nby default when moving to switchdev, in some cases we need\nit to be in dmfs mode (FW steering), so adding steering_mode\nconfig to sriov_pf object to make it configrable\n\nChange-Id: If607c83c4309c636ccbe03789410f2a2301258d2\n(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)\n'}, {'number': 3, 'created': '2022-01-19 22:16:40.000000000', 'files': ['os_net_config/schema.yaml', 'os_net_config/utils.py', 'os_net_config/tests/test_objects.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py', 'etc/os-net-config/samples/sriov_pf_switchdev.json', 'etc/os-net-config/samples/sriov_pf_switchdev.yaml', 'os_net_config/objects.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/6694552ae468adbec98223a37ebdfc9a9990d635', 'message': 'Adding steering_mode config to sriov_pf object\n\nThe Current behavioure is to enable smfs software steering\nby default when moving to switchdev, in some cases we need\nit to be in dmfs mode (FW steering), so adding steering_mode\nconfig to sriov_pf object to make it configrable\n\nChange-Id: If607c83c4309c636ccbe03789410f2a2301258d2\n(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)\n'}]",0,825222,6694552ae468adbec98223a37ebdfc9a9990d635,11,7,3,25241,,,0,"Adding steering_mode config to sriov_pf object

The Current behavioure is to enable smfs software steering
by default when moving to switchdev, in some cases we need
it to be in dmfs mode (FW steering), so adding steering_mode
config to sriov_pf object to make it configrable

Change-Id: If607c83c4309c636ccbe03789410f2a2301258d2
(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/22/825222/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/schema.yaml', 'os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_objects.py', 'os_net_config/impl_ifcfg.py', 'etc/os-net-config/samples/sriov_pf_switchdev.json', 'etc/os-net-config/samples/sriov_pf_switchdev.yaml', 'os_net_config/objects.py', 'os_net_config/sriov_config.py']",9,5baed270a6e28dcd6c8a392ead081b70ed353f3e,,"<<<<<<< HEAD (3ce1bf The default max/min tx rates shall not halt deployment) ======= if not vdpa: # This is used for the sriov_bind_config dpdk_vfs_pcis_list += vf_pcis_list # Configure flow steering mode, default to smfs configure_flow_steering(item['name'], item.get('steering_mode', 'smfs')) # Configure switchdev mode configure_switchdev(item['name']) # Adding a udev rule to rename vf-representors else: trigger_udev_rule = add_udev_rule_for_vdpa_representors( item['name']) or trigger_udev_rule >>>>>>> CHANGE (7c7b32 Adding steering_mode config to sriov_pf object)def configure_flow_steering(pf_name, steering_mode):<<<<<<< HEAD (3ce1bf The default max/min tx rates shall not halt deployment)======= 'value', steering_mode, 'cmode', 'runtime') logger.info(f""{pf_name}: Device pci/{pf_pci} is set to"" "" {steering_mode} steering mode."") >>>>>>> CHANGE (7c7b32 Adding steering_mode config to sriov_pf object) except processutils.ProcessExecutionError as exc: <<<<<<< HEAD (3ce1bf The default max/min tx rates shall not halt deployment)======= logger.warning(f""{pf_name}: Could not set pci/{pf_pci} to"" f"" {steering_mode} steering mode: {exc}"") >>>>>>> CHANGE (7c7b32 Adding steering_mode config to sriov_pf object)",def configure_smfs_software_steering(pf_name): except processutils.ProcessExecutionError as exc:,155,2
openstack%2Fos-net-config~stable%2Fwallaby~If607c83c4309c636ccbe03789410f2a2301258d2,openstack/os-net-config,stable/wallaby,If607c83c4309c636ccbe03789410f2a2301258d2,Adding steering_mode config to sriov_pf object,MERGED,2022-01-19 20:36:22.000000000,2022-01-20 21:51:51.000000000,2022-01-20 21:50:07.000000000,"[{'_account_id': 7144}, {'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 14594}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 20:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e0cca716d1446dac9fd8b3a733a39d5e6f3e6ee6', 'message': 'Adding steering_mode config to sriov_pf object\n\nThe Current behavioure is to enable smfs software steering\nby default when moving to switchdev, in some cases we need\nit to be in dmfs mode (FW steering), so adding steering_mode\nconfig to sriov_pf object to make it configrable\n\nChange-Id: If607c83c4309c636ccbe03789410f2a2301258d2\n(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)\n'}, {'number': 2, 'created': '2022-01-19 20:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/15b5bf5b981738debe48f31602d49901e4a711eb', 'message': 'Adding steering_mode config to sriov_pf object\n\nThe Current behavioure is to enable smfs software steering\nby default when moving to switchdev, in some cases we need\nit to be in dmfs mode (FW steering), so adding steering_mode\nconfig to sriov_pf object to make it configrable\n\nChange-Id: If607c83c4309c636ccbe03789410f2a2301258d2\n(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)\n'}, {'number': 3, 'created': '2022-01-19 21:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/0fb13ef0b7493573a4a009b18aa8bcbf6c865994', 'message': 'Adding steering_mode config to sriov_pf object\n\nThe Current behavioure is to enable smfs software steering\nby default when moving to switchdev, in some cases we need\nit to be in dmfs mode (FW steering), so adding steering_mode\nconfig to sriov_pf object to make it configrable\n\nChange-Id: If607c83c4309c636ccbe03789410f2a2301258d2\n(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)\n'}, {'number': 4, 'created': '2022-01-19 22:16:07.000000000', 'files': ['os_net_config/schema.yaml', 'os_net_config/utils.py', 'os_net_config/tests/test_objects.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py', 'etc/os-net-config/samples/sriov_pf_switchdev.json', 'etc/os-net-config/samples/sriov_pf_switchdev.yaml', 'os_net_config/objects.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/8c86923243ecd948170dd8592771a92baa06711d', 'message': 'Adding steering_mode config to sriov_pf object\n\nThe Current behavioure is to enable smfs software steering\nby default when moving to switchdev, in some cases we need\nit to be in dmfs mode (FW steering), so adding steering_mode\nconfig to sriov_pf object to make it configrable\n\nChange-Id: If607c83c4309c636ccbe03789410f2a2301258d2\n(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)\n'}]",0,825221,8c86923243ecd948170dd8592771a92baa06711d,12,8,4,25241,,,0,"Adding steering_mode config to sriov_pf object

The Current behavioure is to enable smfs software steering
by default when moving to switchdev, in some cases we need
it to be in dmfs mode (FW steering), so adding steering_mode
config to sriov_pf object to make it configrable

Change-Id: If607c83c4309c636ccbe03789410f2a2301258d2
(cherry picked from commit 7c7b3267a84102a460bba3bfb75eb2d8008496aa)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/21/825221/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/schema.yaml', 'os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_objects.py', 'os_net_config/impl_ifcfg.py', 'etc/os-net-config/samples/sriov_pf_switchdev.json', 'etc/os-net-config/samples/sriov_pf_switchdev.yaml', 'os_net_config/objects.py', 'os_net_config/sriov_config.py']",9,e0cca716d1446dac9fd8b3a733a39d5e6f3e6ee6,,"<<<<<<< HEAD (a80966 Merge ""Change the pkey_id type from string to int"" into stab) ======= if not vdpa: # This is used for the sriov_bind_config dpdk_vfs_pcis_list += vf_pcis_list # Configure flow steering mode, default to smfs configure_flow_steering(item['name'], item.get('steering_mode', 'smfs')) # Configure switchdev mode configure_switchdev(item['name']) # Adding a udev rule to rename vf-representors else: trigger_udev_rule = add_udev_rule_for_vdpa_representors( item['name']) or trigger_udev_rule >>>>>>> CHANGE (7c7b32 Adding steering_mode config to sriov_pf object)def configure_flow_steering(pf_name, steering_mode):<<<<<<< HEAD (a80966 Merge ""Change the pkey_id type from string to int"" into stab)======= 'value', steering_mode, 'cmode', 'runtime') logger.info(f""{pf_name}: Device pci/{pf_pci} is set to"" "" {steering_mode} steering mode."") >>>>>>> CHANGE (7c7b32 Adding steering_mode config to sriov_pf object) except processutils.ProcessExecutionError as exc: <<<<<<< HEAD (a80966 Merge ""Change the pkey_id type from string to int"" into stab)======= logger.warning(f""{pf_name}: Could not set pci/{pf_pci} to"" f"" {steering_mode} steering mode: {exc}"") >>>>>>> CHANGE (7c7b32 Adding steering_mode config to sriov_pf object)",def configure_smfs_software_steering(pf_name): except processutils.ProcessExecutionError as exc:,108,9
openstack%2Ftripleo-quickstart-extras~master~I29d576d63e794a7a783fc8f954eb15f20977dd86,openstack/tripleo-quickstart-extras,master,I29d576d63e794a7a783fc8f954eb15f20977dd86,Add ipa named recursion back into the config,MERGED,2022-01-17 17:20:52.000000000,2022-01-20 21:50:04.000000000,2022-01-20 21:50:04.000000000,"[{'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-17 17:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b80d81f3527c00d49fca863ae88109b43e6f0067', 'message': ""Add ipa named recursion back into the config\n\nIn 8.2, recursion was disallowed by default in the IPA server\nconfiguration because it's generally not a good idea. However in CI\nwe're using the IPA server as the primary name resolver for the job so\nwe need to allow it because some clouds use external IPs only.  This is\na CI specific fix.\n\nChange-Id: I29d576d63e794a7a783fc8f954eb15f20977dd86\nRelated-Bug: #1957083\n""}, {'number': 2, 'created': '2022-01-17 20:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e714d4152a53b66c0c8b00c280b7109b747fa04c', 'message': ""Add ipa named recursion back into the config\n\nIn 8.2, recursion was disallowed by default in the IPA server\nconfiguration because it's generally not a good idea. However in CI\nwe're using the IPA server as the primary name resolver for the job so\nwe need to allow it because some clouds use external IPs only.  This is\na CI specific fix.\n\nChange-Id: I29d576d63e794a7a783fc8f954eb15f20977dd86\nRelated-Bug: #1957083\n""}, {'number': 3, 'created': '2022-01-18 15:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/58860ca2b3c43a107e8e88fc4808f74b96e9037f', 'message': ""Add ipa named recursion back into the config\n\nIn 8.2, recursion was disallowed by default in the IPA server\nconfiguration because it's generally not a good idea. However in CI\nwe're using the IPA server as the primary name resolver for the job so\nwe need to allow it because some clouds use external IPs only.  This is\na CI specific fix.\n\nChange-Id: I29d576d63e794a7a783fc8f954eb15f20977dd86\nRelated-Bug: #1957083\n""}, {'number': 4, 'created': '2022-01-18 15:21:36.000000000', 'files': ['roles/ipa-multinode/tasks/ipaserver-subnode-install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4cb5112398ed55c8f2dc02bdc8f9028937823159', 'message': ""Add ipa named recursion back into the config\n\nIn 8.2, recursion was disallowed by default in the IPA server\nconfiguration because it's generally not a good idea. However in CI\nwe're using the IPA server as the primary name resolver for the job so\nwe need to allow it because some clouds use external IPs only.  This is\na CI specific fix.\n\nChange-Id: I29d576d63e794a7a783fc8f954eb15f20977dd86\nRelated-Bug: #1957083\n""}]",2,824996,4cb5112398ed55c8f2dc02bdc8f9028937823159,26,5,4,14985,,,0,"Add ipa named recursion back into the config

In 8.2, recursion was disallowed by default in the IPA server
configuration because it's generally not a good idea. However in CI
we're using the IPA server as the primary name resolver for the job so
we need to allow it because some clouds use external IPs only.  This is
a CI specific fix.

Change-Id: I29d576d63e794a7a783fc8f954eb15f20977dd86
Related-Bug: #1957083
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/96/824996/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ipa-multinode/tasks/ipaserver-subnode-install.yml'],1,b80d81f3527c00d49fca863ae88109b43e6f0067,stupid-ipa,"# Add recusion back into ipa node to work around some clouds not using internal # networks for their nodes. LP#1957083, https://access.redhat.com/solutions/5753431 - name: Hack recursion back in to named become: true lineinfile: path: /etc/named/ipa-ext.conf line: ""allow-recursion { any; };"" ",,8,0
openstack%2Fironic-python-agent~master~I572093b144bc90a49cd76929c7e8685ed45d9f6e,openstack/ironic-python-agent,master,I572093b144bc90a49cd76929c7e8685ed45d9f6e,Burn-in: Dynamic network pairing,MERGED,2021-12-09 16:42:35.000000000,2022-01-20 21:19:45.000000000,2022-01-20 21:17:38.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-12-09 16:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/91904fe18e19bb3cee35e8cbc2edee652166c058', 'message': '[WIP] Burn-in: Dynamic network pairing\n\nPair nodes dynamically via a distributed coordination backend for\nnetwork burn-in.\n\n(misses tests, docs, reno)\n\nStory: #2007523\nTask: #42796\n\nChange-Id: I572093b144bc90a49cd76929c7e8685ed45d9f6e\n'}, {'number': 2, 'created': '2021-12-10 09:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5f3ae7593adf0148e144db407b4e3ad694b145ed', 'message': '[WIP] Burn-in: Dynamic network pairing\n\nPair nodes dynamically via a distributed coordination backend for\nnetwork burn-in.\n\n(misses tests)\n\nStory: #2007523\nTask: #42796\n\nChange-Id: I572093b144bc90a49cd76929c7e8685ed45d9f6e\n'}, {'number': 3, 'created': '2021-12-10 17:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e426414fee149901333891640f4062b15be922ac', 'message': 'Burn-in: Dynamic network pairing\n\nPair nodes dynamically via a distributed coordination backend for\nnetwork burn-in. The algorithm uses a group to pair nodes: after\nacquiring a lock, a first node joins the group, releases the lock,\nwaits for a second node, then they both leave, and release the lock\nfor the next pair.\n\nStory: #2007523\nTask: #42796\n\nChange-Id: I572093b144bc90a49cd76929c7e8685ed45d9f6e\n'}, {'number': 4, 'created': '2021-12-15 14:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9f0a91c6a911cdacf6be513aeeded9668f0bdb9c', 'message': 'Burn-in: Dynamic network pairing\n\nPair nodes dynamically via a distributed coordination backend for\nnetwork burn-in. The algorithm uses a group to pair nodes: after\nacquiring a lock, a first node joins the group, releases the lock,\nwaits for a second node, then they both leave, and release the lock\nfor the next pair.\n\nStory: #2007523\nTask: #42796\n\nChange-Id: I572093b144bc90a49cd76929c7e8685ed45d9f6e\n'}, {'number': 5, 'created': '2021-12-16 09:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b7f562f7c3c8acb0f91a3400a201a7731aa923bd', 'message': 'Burn-in: Dynamic network pairing\n\nPair nodes dynamically via a distributed coordination backend for\nnetwork burn-in. The algorithm uses a group to pair nodes: after\nacquiring a lock, a first node joins the group, releases the lock,\nwaits for a second node, then they both leave, and release the lock\nfor the next pair.\n\nStory: #2007523\nTask: #42796\n\nChange-Id: I572093b144bc90a49cd76929c7e8685ed45d9f6e\n'}, {'number': 6, 'created': '2021-12-16 10:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/33307511abd8d0bb479e45bcb99acd95b45be935', 'message': 'Burn-in: Dynamic network pairing\n\nPair nodes dynamically via a distributed coordination backend for\nnetwork burn-in. The algorithm uses a group to pair nodes: after\nacquiring a lock, a first node joins the group, releases the lock,\nwaits for a second node, then they both leave, and release the lock\nfor the next pair.\n\nStory: #2007523\nTask: #42796\n\nChange-Id: I572093b144bc90a49cd76929c7e8685ed45d9f6e\n'}, {'number': 7, 'created': '2022-01-10 10:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7995b1ac880a70e9480b14137cd91df12d107b7b', 'message': 'Burn-in: Dynamic network pairing\n\nPair nodes dynamically via a distributed coordination backend for\nnetwork burn-in. The algorithm uses a group to pair nodes: after\nacquiring a lock, a first node joins the group, releases the lock,\nwaits for a second node, then they both leave, and release the lock\nfor the next pair.\n\nStory: #2007523\nTask: #42796\n\nChange-Id: I572093b144bc90a49cd76929c7e8685ed45d9f6e\n'}, {'number': 8, 'created': '2022-01-10 10:33:34.000000000', 'files': ['ironic_python_agent/burnin.py', 'requirements.txt', 'releasenotes/notes/add_burnin_dynamic_network_pairing-33e398255050eb98.yaml', 'lower-constraints.txt', 'setup.cfg', 'ironic_python_agent/tests/unit/test_burnin.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7f15455d8d106a7d7ecdbc90e96f06d7e322ac4f', 'message': 'Burn-in: Dynamic network pairing\n\nPair nodes dynamically via a distributed coordination backend for\nnetwork burn-in. The algorithm uses a group to pair nodes: after\nacquiring a lock, a first node joins the group, releases the lock,\nwaits for a second node, then they both leave, and release the lock\nfor the next pair.\n\nStory: #2007523\nTask: #42796\n\nChange-Id: I572093b144bc90a49cd76929c7e8685ed45d9f6e\n'}]",35,821244,7f15455d8d106a7d7ecdbc90e96f06d7e322ac4f,27,4,8,11292,,,0,"Burn-in: Dynamic network pairing

Pair nodes dynamically via a distributed coordination backend for
network burn-in. The algorithm uses a group to pair nodes: after
acquiring a lock, a first node joins the group, releases the lock,
waits for a second node, then they both leave, and release the lock
for the next pair.

Story: #2007523
Task: #42796

Change-Id: I572093b144bc90a49cd76929c7e8685ed45d9f6e
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/44/821244/8 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/burnin.py', 'requirements.txt']",2,91904fe18e19bb3cee35e8cbc2edee652166c058,story_2007523_44102,tooz>=2.7.2 # Apache-2.0 kazoo>=2.8.0 # Apache-2.0,,133,16
openstack%2Fironic~master~I7d4c08082cadec399227ee4546e7353ff6bd2ae8,openstack/ironic,master,I7d4c08082cadec399227ee4546e7353ff6bd2ae8,Update idrac-redfish export configuration step,MERGED,2021-11-05 10:33:33.000000000,2022-01-20 21:03:50.000000000,2022-01-20 21:01:24.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-11-05 10:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d65cc4e64e9280b0a888f400d34e4a90ab4078b', 'message': 'Update idrac-redfish export configuration step\n\nAdd to ignore destructive settings during export. User can still put\nthose back during import manually.\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/816815\nChange-Id: I7d4c08082cadec399227ee4546e7353ff6bd2ae8\n'}, {'number': 2, 'created': '2022-01-14 11:18:03.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'doc/source/admin/drivers/idrac.rst', 'driver-requirements.txt', 'releasenotes/notes/update-idrac-redfish-management-export-conf-9fb17273c4d9a050.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/89cf1e7f6b5d406632da090a33c75b1b32571a21', 'message': 'Update idrac-redfish export configuration step\n\nAdd to ignore destructive settings during export. User can still put\nthose back during import manually.\n\nDepends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/816815\nChange-Id: I7d4c08082cadec399227ee4546e7353ff6bd2ae8\n'}]",1,816816,89cf1e7f6b5d406632da090a33c75b1b32571a21,17,5,2,27909,,,0,"Update idrac-redfish export configuration step

Add to ignore destructive settings during export. User can still put
those back during import manually.

Depends-On: https://review.opendev.org/c/x/sushy-oem-idrac/+/816815
Change-Id: I7d4c08082cadec399227ee4546e7353ff6bd2ae8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/16/816816/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py', 'doc/source/admin/drivers/idrac.rst', 'driver-requirements.txt', 'releasenotes/notes/update-idrac-redfish-management-export-conf-9fb17273c4d9a050.yaml']",5,2d65cc4e64e9280b0a888f400d34e4a90ab4078b,export-destroy,--- features: - | Updates ``idrac-redfish`` management interface export configuration step to not export iDRAC BMC connection settings to avoid overwriting those in another system when using unmodified configuration mold in import step. For import step it is still possible to add these settings back manually. ,,18,2
openstack%2Fkolla-ansible~master~Id57a672c69a2d5aa74e55f252d05bb756bbc945a,openstack/kolla-ansible,master,Id57a672c69a2d5aa74e55f252d05bb756bbc945a,Make nova_ssh listen on api_interface as well,MERGED,2022-01-10 17:13:40.000000000,2022-01-20 20:58:05.000000000,2022-01-20 20:53:06.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-01-10 17:13:40.000000000', 'files': ['ansible/roles/nova-cell/tasks/precheck.yml', 'releasenotes/notes/bug-1956976-8a2623ca1fbfd546.yaml', 'ansible/roles/nova-cell/templates/sshd_config.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/75b69ea7451ec311e53591b37a2d30eda35048c9', 'message': 'Make nova_ssh listen on api_interface as well\n\nThis is required as nova_compute tries to reach my_ip of the other\nnode when resizing an instance and my_ip is set to\napi_interface_address.\n\nThis potential issue was introduced with [1].\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/569131\n\nCloses-Bug: #1956976\nChange-Id: Id57a672c69a2d5aa74e55f252d05bb756bbc945a\n'}]",2,824036,75b69ea7451ec311e53591b37a2d30eda35048c9,13,4,1,30491,,,0,"Make nova_ssh listen on api_interface as well

This is required as nova_compute tries to reach my_ip of the other
node when resizing an instance and my_ip is set to
api_interface_address.

This potential issue was introduced with [1].

[1] https://review.opendev.org/c/openstack/kolla-ansible/+/569131

Closes-Bug: #1956976
Change-Id: Id57a672c69a2d5aa74e55f252d05bb756bbc945a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/824036/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/tasks/precheck.yml', 'releasenotes/notes/bug-1956976-8a2623ca1fbfd546.yaml', 'ansible/roles/nova-cell/templates/sshd_config.j2']",3,75b69ea7451ec311e53591b37a2d30eda35048c9,bug/1956976,ListenAddress {{ api_interface_address }} {% if migration_interface_address != api_interface_address %}{% endif %},,24,1
openstack%2Fkolla-ansible~master~I322500e7204eb129d7bf085006627e8c4aaaa934,openstack/kolla-ansible,master,I322500e7204eb129d7bf085006627e8c4aaaa934,Deprecate storage_interface variable,MERGED,2021-12-23 15:43:15.000000000,2022-01-20 20:56:17.000000000,2022-01-20 20:51:27.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 31506}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-12-23 15:43:15.000000000', 'files': ['releasenotes/notes/deprecate-storage-interface-8e82d446baff4da8.yaml', 'ansible/group_vars/all.yml', 'doc/source/admin/production-architecture-guide.rst', 'doc/source/reference/storage/swift-guide.rst', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8cc569306ae6cc5ce834222905b44542c48f2dec', 'message': 'Deprecate storage_interface variable\n\nPer [1] and exchange on IRC.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026437.html\n\nChange-Id: I322500e7204eb129d7bf085006627e8c4aaaa934\n'}]",3,822842,8cc569306ae6cc5ce834222905b44542c48f2dec,15,7,1,30491,,,0,"Deprecate storage_interface variable

Per [1] and exchange on IRC.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026437.html

Change-Id: I322500e7204eb129d7bf085006627e8c4aaaa934
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/822842/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-storage-interface-8e82d446baff4da8.yaml', 'ansible/group_vars/all.yml', 'doc/source/admin/production-architecture-guide.rst', 'doc/source/reference/storage/swift-guide.rst', 'etc/kolla/globals.yml']",5,8cc569306ae6cc5ce834222905b44542c48f2dec,deprecate-storage-interface-var,"# NOTE: storage_interface is deprecated, please set swift_storage_interface directly instead",,15,5
openstack%2Fkolla~master~I074d9d13f52c208c0f3d92ea060b3b9abb6a6b9e,openstack/kolla,master,I074d9d13f52c208c0f3d92ea060b3b9abb6a6b9e,Clean MariaDB/MySQL,MERGED,2021-10-02 09:29:45.000000000,2022-01-20 20:53:47.000000000,2022-01-20 20:51:22.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 32029}, {'_account_id': 34017}]","[{'number': 1, 'created': '2021-10-02 09:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/049410fa1a63a13daf198ea4a5fc7ff50e01e5cd', 'message': '[WIP] Clean MariaDB/MySQL\n\nWe are likely overinstalling these.\nPyMySQL should be enough.\n\nChange-Id: I074d9d13f52c208c0f3d92ea060b3b9abb6a6b9e\n'}, {'number': 2, 'created': '2021-10-02 14:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4cab65f4d6e4c2ff43e20f88ccef3a185a2921c9', 'message': '[WIP] Clean MariaDB/MySQL\n\nWe are likely overinstalling these.\nPyMySQL should be enough.\n\nChange-Id: I074d9d13f52c208c0f3d92ea060b3b9abb6a6b9e\n'}, {'number': 3, 'created': '2021-10-02 17:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/32995731dcf4af2d1a33acfb8747ab89f59f35c3', 'message': '[WIP] Clean MariaDB/MySQL\n\nWe are likely overinstalling these.\nPyMySQL should be enough.\n\nChange-Id: I074d9d13f52c208c0f3d92ea060b3b9abb6a6b9e\n'}, {'number': 4, 'created': '2021-10-02 17:41:36.000000000', 'files': ['docker/openstack-base/Dockerfile.j2', 'docker/barbican/barbican-base/Dockerfile.j2', 'docker/monasca/monasca-api/Dockerfile.j2', 'docker/placement/placement-base/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6b203efde7e60ae6ab63f230b4e9c944eb83c5a2', 'message': 'Clean MariaDB/MySQL\n\nWe are just overinstalling these.\nPyMySQL is enough nowadays.\n\nChange-Id: I074d9d13f52c208c0f3d92ea060b3b9abb6a6b9e\n'}]",5,812249,6b203efde7e60ae6ab63f230b4e9c944eb83c5a2,25,7,4,30491,,,0,"Clean MariaDB/MySQL

We are just overinstalling these.
PyMySQL is enough nowadays.

Change-Id: I074d9d13f52c208c0f3d92ea060b3b9abb6a6b9e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/49/812249/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/openstack-base/Dockerfile.j2', 'docker/barbican/barbican-base/Dockerfile.j2', 'docker/monasca/monasca-api/Dockerfile.j2', 'docker/placement/placement-base/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2']",5,049410fa1a63a13daf198ea4a5fc7ff50e01e5cd,clean-mariadb-mysql,," 'mariadb', 'mariadb-devel', 'libmariadb-dev-compat', 'mariadb-client', 'mysqlclient',",0,16
openstack%2Fkolla-ansible~master~I27496528c684c993a3e470265ba86cc29c136c7b,openstack/kolla-ansible,master,I27496528c684c993a3e470265ba86cc29c136c7b,[docs] swift: fix mentions of interfaces config,MERGED,2021-12-23 15:04:25.000000000,2022-01-20 20:53:23.000000000,2022-01-20 20:51:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-12-23 15:04:25.000000000', 'files': ['doc/source/reference/storage/swift-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f8457d2e41124ac1c8f4946688084afad420a597', 'message': '[docs] swift: fix mentions of interfaces config\n\nChange-Id: I27496528c684c993a3e470265ba86cc29c136c7b\n'}]",2,822840,f8457d2e41124ac1c8f4946688084afad420a597,11,5,1,30491,,,0,"[docs] swift: fix mentions of interfaces config

Change-Id: I27496528c684c993a3e470265ba86cc29c136c7b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/40/822840/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/storage/swift-guide.rst'],1,f8457d2e41124ac1c8f4946688084afad420a597,docs-swift-interface-fix,"The following interfaces are used by Swift: External API interface (``kolla_external_vip_interface``) This interface is used by users to access the Swift public API. Internal API interface (``api_interface``) This interface is used by users to access the Swift internal API. It is alsoSwift Storage interface (``swift_storage_interface``) This interface is used by the Swift proxy server to access the account,Swift replication interface (``swift_replication_interface``) This interface is used for Swift storage replication traffic.","The following networks are used by Swift: External API network (``kolla_external_vip_interface``) This network is used by users to access the Swift public API. Internal API network (``api_interface``) This network is used by users to access the Swift internal API. It is alsoSwift Storage network (``swift_storage_interface``) This network is used by the Swift proxy server to access the account,Swift replication network (``swift_replication_network``) This network is used for Swift storage replication traffic.",9,9
openstack%2Fopenstack-helm-infra~master~Ifcec5d32ebbe9d6bef837b7e638807eb7ec492be,openstack/openstack-helm-infra,master,Ifcec5d32ebbe9d6bef837b7e638807eb7ec492be,Added statefulset implementation for Kibana,ABANDONED,2022-01-17 21:54:18.000000000,2022-01-20 20:53:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-17 21:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fc8fbb9ab7bbdc3581e07cf47315d0b01bcab78f', 'message': 'Added statefulset implementation for Kibana\n\nThis patchset added an option to deploy Kibana as a statefulset.\n\nThe .kibana* indices if present will be removed prior to each Kibana\npod start-up. In addition, Kibana indexes pattern will be registered\nonce all the Kibana pods come up.\n\nChange-Id: Ifcec5d32ebbe9d6bef837b7e638807eb7ec492be\n'}, {'number': 2, 'created': '2022-01-17 23:17:15.000000000', 'files': ['kibana/Chart.yaml', 'kibana/templates/job-register-kibana-indexes.yaml', 'kibana/templates/bin/_kibana.sh.tpl', 'kibana/templates/bin/_wait_for_kibana_pods_ready.sh.tpl', 'kibana/templates/statefulset.yaml', 'releasenotes/notes/kibana.yaml', 'kibana/templates/configmap-bin.yaml', 'kibana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4313b4dfb9bff871d6d70b5a619045c84af6b119', 'message': 'Added statefulset implementation for Kibana\n\nThis patchset added an option to deploy Kibana as a statefulset.\n\nThe .kibana* indices if present will be removed prior to each Kibana\npod start-up. In addition, Kibana indexes pattern will be registered\nonce all the Kibana pods come up.\n\nChange-Id: Ifcec5d32ebbe9d6bef837b7e638807eb7ec492be\n'}]",0,825016,4313b4dfb9bff871d6d70b5a619045c84af6b119,9,1,2,19391,,,0,"Added statefulset implementation for Kibana

This patchset added an option to deploy Kibana as a statefulset.

The .kibana* indices if present will be removed prior to each Kibana
pod start-up. In addition, Kibana indexes pattern will be registered
once all the Kibana pods come up.

Change-Id: Ifcec5d32ebbe9d6bef837b7e638807eb7ec492be
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/16/825016/2 && git format-patch -1 --stdout FETCH_HEAD,"['kibana/Chart.yaml', 'kibana/templates/job-register-kibana-indexes.yaml', 'kibana/templates/bin/_kibana.sh.tpl', 'kibana/templates/bin/_wait_for_kibana_pods_ready.sh.tpl', 'kibana/templates/statefulset.yaml', 'releasenotes/notes/kibana.yaml', 'kibana/templates/configmap-bin.yaml', 'kibana/values.yaml']",8,fc8fbb9ab7bbdc3581e07cf47315d0b01bcab78f,, wait_for_kibana_pods_ready: gcr.io/google_containers/hyperkube-amd64:v1.11.6 statefulsets: pod_replacement_strategy: RollingUpdate termination_grace_period: kibana: timeout: 30 deployment: false statefulset: true, deployment: true,252,2
openstack%2Fkolla-ansible~master~Ia373f9cc3bb69eba0288bbb3e497e8cadb7cc4d3,openstack/kolla-ansible,master,Ia373f9cc3bb69eba0288bbb3e497e8cadb7cc4d3,Add Ansible 5 aka core 2.12 support,MERGED,2021-11-24 15:52:27.000000000,2022-01-20 20:53:03.000000000,2022-01-20 20:53:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-11-24 15:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/996010fdaabbbe7347167f02f7f748faacfca8b9', 'message': '[WIP] Add Ansible 5 aka core 2.12 support\n\nChange-Id: Ia373f9cc3bb69eba0288bbb3e497e8cadb7cc4d3\n'}, {'number': 2, 'created': '2021-11-24 17:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f4979088ff9858e7cf6c999c60245f2580a1f8df', 'message': '[WIP] Add Ansible 5 aka core 2.12 support\n\nChange-Id: Ia373f9cc3bb69eba0288bbb3e497e8cadb7cc4d3\n'}, {'number': 3, 'created': '2022-01-07 18:09:22.000000000', 'files': ['test-requirements.txt', 'tests/run.yml', 'releasenotes/notes/ansible-5-56bc1764e733d5af.yaml', 'doc/source/user/quickstart.rst', 'doc/source/user/virtual-environments.rst', 'tools/kolla-ansible', 'ansible/roles/prechecks/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7372911a1994db8d3138b8de61af63040cb6176d', 'message': 'Add Ansible 5 aka core 2.12 support\n\nAlso bumps the minimum to 4.\n\nChange-Id: Ia373f9cc3bb69eba0288bbb3e497e8cadb7cc4d3\n'}]",3,819135,7372911a1994db8d3138b8de61af63040cb6176d,18,3,3,30491,,,0,"Add Ansible 5 aka core 2.12 support

Also bumps the minimum to 4.

Change-Id: Ia373f9cc3bb69eba0288bbb3e497e8cadb7cc4d3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/35/819135/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'tools/kolla-ansible', 'ansible/roles/prechecks/vars/main.yml']",3,996010fdaabbbe7347167f02f7f748faacfca8b9,ansible-5-aka-core-2-12,ansible_version_max: '2.12',ansible_version_max: '2.11',3,3
openstack%2Fpuppet-cinder~master~Id1f2092a904c113907bc3bba630b1c990bf06682,openstack/puppet-cinder,master,Id1f2092a904c113907bc3bba630b1c990bf06682,Avoid testing details of oslo::messaging(::*),MERGED,2022-01-20 15:58:53.000000000,2022-01-20 20:40:50.000000000,2022-01-20 20:40:50.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-20 15:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/e7d0c0952d66c9ba808ecc6242bdc8e2126bac69', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: Id1f2092a904c113907bc3bba630b1c990bf06682\n'}, {'number': 2, 'created': '2022-01-20 17:23:59.000000000', 'files': ['spec/classes/cinder_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/1e864ad3d6e62ce7c2e93dba83b317a1d7a5da7d', 'message': 'Avoid testing details of oslo::messaging(::*)\n\n... so that any change in puppet-oslo would not directly break unit\ntests.\n\nChange-Id: Id1f2092a904c113907bc3bba630b1c990bf06682\n'}]",0,825541,1e864ad3d6e62ce7c2e93dba83b317a1d7a5da7d,9,3,2,9816,,,0,"Avoid testing details of oslo::messaging(::*)

... so that any change in puppet-oslo would not directly break unit
tests.

Change-Id: Id1f2092a904c113907bc3bba630b1c990bf06682
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/41/825541/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/cinder_init_spec.rb'],1,e7d0c0952d66c9ba808ecc6242bdc8e2126bac69,oslo-messaging-ut," is_expected.to contain_oslo__messaging__default('cinder_config').with( :transport_url => '<SERVICE DEFAULT>', :rpc_response_timeout => '<SERVICE DEFAULT>', :control_exchange => '<SERVICE DEFAULT>' ) is_expected.to contain_oslo__messaging__rabbit('cinder_config').with( :rabbit_use_ssl => '<SERVICE DEFAULT>', :heartbeat_timeout_threshold => '<SERVICE DEFAULT>', :heartbeat_rate => '<SERVICE DEFAULT>', :heartbeat_in_pthread => '<SERVICE DEFAULT>', :kombu_reconnect_delay => '<SERVICE DEFAULT>', :kombu_failover_strategy => '<SERVICE DEFAULT>', :amqp_durable_queues => '<SERVICE DEFAULT>', :kombu_compression => '<SERVICE DEFAULT>', :kombu_ssl_ca_certs => '<SERVICE DEFAULT>', :kombu_ssl_certfile => '<SERVICE DEFAULT>', :kombu_ssl_keyfile => '<SERVICE DEFAULT>', :kombu_ssl_version => '<SERVICE DEFAULT>', :rabbit_ha_queues => '<SERVICE DEFAULT>', :rabbit_retry_interval => '<SERVICE DEFAULT>', ) is_expected.to contain_oslo__messaging__amqp('cinder_config').with( :server_request_prefix => '<SERVICE DEFAULT>', :broadcast_prefix => '<SERVICE DEFAULT>', :group_request_prefix => '<SERVICE DEFAULT>', :container_name => '<SERVICE DEFAULT>', :idle_timeout => '<SERVICE DEFAULT>', :trace => '<SERVICE DEFAULT>', :ssl_ca_file => '<SERVICE DEFAULT>', :ssl_cert_file => '<SERVICE DEFAULT>', :ssl_key_file => '<SERVICE DEFAULT>', :sasl_mechanisms => '<SERVICE DEFAULT>', :sasl_config_dir => '<SERVICE DEFAULT>', :sasl_config_name => '<SERVICE DEFAULT>', :username => '<SERVICE DEFAULT>', :password => '<SERVICE DEFAULT>', ) is_expected.to contain_oslo__messaging__notifications('cinder_config').with( :transport_url => '<SERVICE DEFAULT>', :driver => '<SERVICE DEFAULT>', :topics => '<SERVICE DEFAULT>' ) } req_params.merge( :rabbit_ha_queues => true ) it { is_expected.to contain_oslo__messaging__rabbit('cinder_config').with( :rabbit_ha_queues => true ) } req_params.merge( :rabbit_heartbeat_timeout_threshold => '60', :rabbit_heartbeat_rate => '10', :rabbit_heartbeat_in_pthread => true ) it { is_expected.to contain_oslo__messaging__rabbit('cinder_config').with( :heartbeat_timeout_threshold => '60', :heartbeat_rate => '10', :heartbeat_in_pthread => true, ) } it { is_expected.to contain_oslo__messaging__rabbit('cinder_config').with( :amqp_durable_queues => true ) } it { is_expected.to contain_oslo__messaging__amqp.with( :idle_timeout => '60', :trace => true, :ssl_ca_file => '/path/to/ca.cert', :ssl_cert_file => '/path/to/certfile', :username => 'amqp_user', :password => 'password' ) } it { is_expected.to contain_oslo__messaging__default('cinder_config').with( :transport_url => 'rabbit://rabbit_user:password@localhost:5673' ) } it { is_expected.to contain_oslo__messaging__default('cinder_config').with( :control_exchange => 'cinder' ) }"," is_expected.to contain_cinder_config('DEFAULT/transport_url').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_cinder_config('DEFAULT/rpc_response_timeout').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_cinder_config('DEFAULT/control_exchange').with(:value => '<SERVICE DEFAULT>') } it { is_expected.to contain_oslo__messaging__notifications('cinder_config').with( :transport_url => '<SERVICE DEFAULT>', :driver => '<SERVICE DEFAULT>', :topics => '<SERVICE DEFAULT>', )} is_expected.to contain_cinder_config('oslo_messaging_rabbit/rabbit_ha_queues').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_rabbit/heartbeat_timeout_threshold').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_rabbit/heartbeat_rate').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_rabbit/heartbeat_in_pthread').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_rabbit/kombu_reconnect_delay').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_rabbit/kombu_failover_strategy').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_rabbit/kombu_compression').with(:value => '<SERVICE DEFAULT>') req_params.merge( :rabbit_ha_queues => true ) it { is_expected.to contain_cinder_config('oslo_messaging_rabbit/rabbit_ha_queues').with_value(true) } req_params.merge( :rabbit_heartbeat_timeout_threshold => '60', :rabbit_heartbeat_rate => '10', :rabbit_heartbeat_in_pthread => true ) it { is_expected.to contain_cinder_config('oslo_messaging_rabbit/heartbeat_timeout_threshold').with_value('60') } it { is_expected.to contain_cinder_config('oslo_messaging_rabbit/heartbeat_rate').with_value('10') } it { is_expected.to contain_cinder_config('oslo_messaging_rabbit/heartbeat_in_pthread').with_value(true) } context 'with amqp_durable_queues disabled' do let :params do req_params end it { is_expected.to contain_cinder_config('oslo_messaging_rabbit/amqp_durable_queues').with_value('<SERVICE DEFAULT>') } end it { is_expected.to contain_cinder_config('oslo_messaging_rabbit/amqp_durable_queues').with_value(true) } end context 'with amqp defaults' do it { is_expected.to contain_cinder_config('oslo_messaging_amqp/server_request_prefix').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/broadcast_prefix').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/group_request_prefix').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/container_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/idle_timeout').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/trace').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/ssl_ca_file').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/ssl_cert_file').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/ssl_key_file').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/ssl_key_password').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/sasl_mechanisms').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/sasl_config_dir').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/sasl_config_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/username').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/password').with_value('<SERVICE DEFAULT>') } it { is_expected.to contain_cinder_config('oslo_messaging_amqp/server_request_prefix').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/broadcast_prefix').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/group_request_prefix').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/container_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/idle_timeout').with_value('60') is_expected.to contain_cinder_config('oslo_messaging_amqp/trace').with_value('true') is_expected.to contain_cinder_config('oslo_messaging_amqp/ssl_ca_file').with_value('/path/to/ca.cert') is_expected.to contain_cinder_config('oslo_messaging_amqp/ssl_cert_file').with_value('/path/to/certfile') is_expected.to contain_cinder_config('oslo_messaging_amqp/ssl_key_file').with_value('/path/to/key') is_expected.to contain_cinder_config('oslo_messaging_amqp/sasl_mechanisms').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/sasl_config_dir').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/sasl_config_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('oslo_messaging_amqp/username').with_value('amqp_user') is_expected.to contain_cinder_config('oslo_messaging_amqp/password').with_value('password') } it { is_expected.to contain_cinder_config('DEFAULT/transport_url').with_value('rabbit://rabbit_user:password@localhost:5673') } it { is_expected.to contain_cinder_config('DEFAULT/control_exchange').with_value('cinder') }",75,71
openstack%2Fironic~stable%2Fwallaby~Id603ae5a4a802dfc8f866b15c8d327d95eba9310,openstack/ironic,stable/wallaby,Id603ae5a4a802dfc8f866b15c8d327d95eba9310,Set resource_url when getting all ports or portgroups,MERGED,2022-01-18 11:38:32.000000000,2022-01-20 20:25:17.000000000,2022-01-20 20:22:00.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-18 11:38:32.000000000', 'files': ['ironic/api/controllers/v1/port.py', 'releasenotes/notes/fix_pagination_resource_url_ports-8d2696a6a7ab012f.yaml', 'ironic/api/controllers/v1/portgroup.py', 'ironic/tests/unit/api/controllers/v1/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/40db1089f78b7dbbad81318e5873fa6405d8edff', 'message': ""Set resource_url when getting all ports or portgroups\n\nSince the default value resource_url is None, make sure the\nparameter is set to 'ports' when getting all ports.\n\nChange-Id: Id603ae5a4a802dfc8f866b15c8d327d95eba9310\n(cherry picked from commit 2ac740e09d44bb91d0ec4180a1b5e500bc844f7c)\n""}]",1,825094,40db1089f78b7dbbad81318e5873fa6405d8edff,13,3,1,11292,,,0,"Set resource_url when getting all ports or portgroups

Since the default value resource_url is None, make sure the
parameter is set to 'ports' when getting all ports.

Change-Id: Id603ae5a4a802dfc8f866b15c8d327d95eba9310
(cherry picked from commit 2ac740e09d44bb91d0ec4180a1b5e500bc844f7c)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/94/825094/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/port.py', 'releasenotes/notes/fix_pagination_resource_url_ports-8d2696a6a7ab012f.yaml', 'ironic/api/controllers/v1/portgroup.py', 'ironic/tests/unit/api/controllers/v1/test_node.py']",4,40db1089f78b7dbbad81318e5873fa6405d8edff,," self.assertIn('portgroups', data['next']) self.assertIn('ports', data['next'])",,14,2
openstack%2Fironic~bugfix%2F19.0~Id603ae5a4a802dfc8f866b15c8d327d95eba9310,openstack/ironic,bugfix/19.0,Id603ae5a4a802dfc8f866b15c8d327d95eba9310,Set resource_url when getting all ports or portgroups,MERGED,2022-01-18 11:42:35.000000000,2022-01-20 20:24:54.000000000,2022-01-20 20:22:03.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-18 11:42:35.000000000', 'files': ['ironic/api/controllers/v1/port.py', 'releasenotes/notes/fix_pagination_resource_url_ports-8d2696a6a7ab012f.yaml', 'ironic/api/controllers/v1/portgroup.py', 'ironic/tests/unit/api/controllers/v1/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/958b89e0cad2a1728496f35dc2acc1d3ac82aea7', 'message': ""Set resource_url when getting all ports or portgroups\n\nSince the default value resource_url is None, make sure the\nparameter is set to 'ports' when getting all ports.\n\nChange-Id: Id603ae5a4a802dfc8f866b15c8d327d95eba9310\n(cherry picked from commit 2ac740e09d44bb91d0ec4180a1b5e500bc844f7c)\n""}]",1,825097,958b89e0cad2a1728496f35dc2acc1d3ac82aea7,14,3,1,11292,,,0,"Set resource_url when getting all ports or portgroups

Since the default value resource_url is None, make sure the
parameter is set to 'ports' when getting all ports.

Change-Id: Id603ae5a4a802dfc8f866b15c8d327d95eba9310
(cherry picked from commit 2ac740e09d44bb91d0ec4180a1b5e500bc844f7c)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/97/825097/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/port.py', 'releasenotes/notes/fix_pagination_resource_url_ports-8d2696a6a7ab012f.yaml', 'ironic/api/controllers/v1/portgroup.py', 'ironic/tests/unit/api/controllers/v1/test_node.py']",4,958b89e0cad2a1728496f35dc2acc1d3ac82aea7,," self.assertIn('portgroups', data['next']) self.assertIn('ports', data['next'])",,14,2
openstack%2Fironic~stable%2Fxena~Id603ae5a4a802dfc8f866b15c8d327d95eba9310,openstack/ironic,stable/xena,Id603ae5a4a802dfc8f866b15c8d327d95eba9310,Set resource_url when getting all ports or portgroups,MERGED,2022-01-18 11:38:00.000000000,2022-01-20 20:05:30.000000000,2022-01-20 19:55:37.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-18 11:38:00.000000000', 'files': ['ironic/api/controllers/v1/port.py', 'releasenotes/notes/fix_pagination_resource_url_ports-8d2696a6a7ab012f.yaml', 'ironic/api/controllers/v1/portgroup.py', 'ironic/tests/unit/api/controllers/v1/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9c6cd3f5d2bca97e5cffc0047d6fe3136d45d7cc', 'message': ""Set resource_url when getting all ports or portgroups\n\nSince the default value resource_url is None, make sure the\nparameter is set to 'ports' when getting all ports.\n\nChange-Id: Id603ae5a4a802dfc8f866b15c8d327d95eba9310\n(cherry picked from commit 2ac740e09d44bb91d0ec4180a1b5e500bc844f7c)\n""}]",0,825093,9c6cd3f5d2bca97e5cffc0047d6fe3136d45d7cc,11,3,1,11292,,,0,"Set resource_url when getting all ports or portgroups

Since the default value resource_url is None, make sure the
parameter is set to 'ports' when getting all ports.

Change-Id: Id603ae5a4a802dfc8f866b15c8d327d95eba9310
(cherry picked from commit 2ac740e09d44bb91d0ec4180a1b5e500bc844f7c)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/93/825093/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/port.py', 'releasenotes/notes/fix_pagination_resource_url_ports-8d2696a6a7ab012f.yaml', 'ironic/api/controllers/v1/portgroup.py', 'ironic/tests/unit/api/controllers/v1/test_node.py']",4,9c6cd3f5d2bca97e5cffc0047d6fe3136d45d7cc,," self.assertIn('portgroups', data['next']) self.assertIn('ports', data['next'])",,14,2
openstack%2Fcinder~master~I3b8126cf1706921eac9556add11c558d973cf272,openstack/cinder,master,I3b8126cf1706921eac9556add11c558d973cf272,Implement revert_to_snapshot() for StorPool.,NEW,2019-09-08 21:17:46.000000000,2022-01-20 19:45:52.000000000,,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}, {'_account_id': 33431}]","[{'number': 1, 'created': '2019-09-08 21:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ca346ee35bff2950712c7e85a56c4c78d0c71f07', 'message': 'StorPool driver: implement revert_to_snapshot.\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\n'}, {'number': 2, 'created': '2019-10-14 12:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/636f988f983f904a5aa6bdc5eeefee5bcf8f7881', 'message': 'StorPool driver: implement revert_to_snapshot.\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\n'}, {'number': 3, 'created': '2020-09-09 17:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed9672329e0b42afd511bc18f6ae465b223dc7cb', 'message': 'Implement revert_to_snapshot() for StorPool.\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\n'}, {'number': 4, 'created': '2020-09-09 18:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/672e8252db52cd5af27eb7ebdb45ce58979c03ba', 'message': 'Implement revert_to_snapshot() for StorPool.\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\n'}, {'number': 5, 'created': '2021-04-20 22:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d4cec2a180ffab17cb7498a2dc244eeddb49d964', 'message': 'Implement revert_to_snapshot() for StorPool.\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\n'}, {'number': 6, 'created': '2021-08-08 16:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/841baceccbeb031658014a304ab3bc73e08cbf24', 'message': 'StorPool driver: implement revert_to_snapshot.\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\n'}, {'number': 7, 'created': '2021-08-09 12:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/598d96db62df5a5fe0376b4fb8b5ee8d43cd0bb5', 'message': 'StorPool driver: implement revert_to_snapshot.\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\nImplements: blueprint storpool-revert-to-snapshot\n'}, {'number': 8, 'created': '2021-08-11 16:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9283f46037e0056edf515793fce1a64051a09125', 'message': 'StorPool driver: implement revert_to_snapshot\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\nImplements: blueprint storpool-revert-to-snapshot\n'}, {'number': 9, 'created': '2021-08-11 16:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ebb8c08631506236666bd1fe621856f35cd3673d', 'message': 'StorPool driver: implement revert_to_snapshot\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\nImplements: blueprint storpool-revert-to-snapshot\n'}, {'number': 10, 'created': '2021-11-15 11:54:09.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/storpool.py', 'cinder/tests/unit/volume/drivers/test_storpool.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/278b85622bec40b063c789ce7cf26f324cbe7597', 'message': ""Implement revert_to_snapshot() for StorPool.\n\nUse the StorPool API to revert a volume to the specified snapshot\nimmediately, without deleting and recreating the volume. This also\npreserves the volume's metadata, such as e.g. SCSI WWN identifier for\nthe purposes of recognizing it on VM instances that it has been\npreviously attached to.\n\nChange-Id: I3b8126cf1706921eac9556add11c558d973cf272\nImplements: blueprint storpool-revert-to-snapshot\n""}]",23,680889,278b85622bec40b063c789ce7cf26f324cbe7597,223,40,10,12988,,,0,"Implement revert_to_snapshot() for StorPool.

Use the StorPool API to revert a volume to the specified snapshot
immediately, without deleting and recreating the volume. This also
preserves the volume's metadata, such as e.g. SCSI WWN identifier for
the purposes of recognizing it on VM instances that it has been
previously attached to.

Change-Id: I3b8126cf1706921eac9556add11c558d973cf272
Implements: blueprint storpool-revert-to-snapshot
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/680889/10 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/storpool.py', 'cinder/tests/unit/volume/drivers/test_storpool.py', 'releasenotes/notes/storpool-revert-to-snapshot-ece892c57f6c4922.yaml']",4,ca346ee35bff2950712c7e85a56c4c78d0c71f07,,--- features: - | The StorPool driver can now efficiently revert a volume to its last snapshot. ,,155,2
openstack%2Fkolla-ansible~stable%2Fxena~Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb,openstack/kolla-ansible,stable/xena,Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb,Access to zun container fails when tls_external enabled.,MERGED,2022-01-13 13:25:05.000000000,2022-01-20 19:20:56.000000000,2022-01-20 19:18:33.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-13 13:25:05.000000000', 'files': ['ansible/roles/zun/templates/zun.conf.j2', 'releasenotes/notes/bug-1957117-7832104d66a91da7.yaml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f36a00a974ffd88a9cebcca3aa3671faaa54b7fa', 'message': 'Access to zun container fails when tls_external enabled.\n\nAccess to console of any zun container fails when\nkolla_enable_tls_external is true.\nThis is due to the protocol of the base_url of the websocket_proxy\nsection in zun.conf is hardcoded to \'ws\'.\n[base_url = ws://<external_fqdn>:<port>]\n\nThis fix adds a new variable zun_wsproxy_protocol\nand sets it\'s value to \'wss\' when kolla_enable_tls_external is true\nor to \'ws\' otherwise\n\nThen the base url\'s protocol of the websocket_proxy section\nin zun.conf is set by zun_wsproxy_protocol\n[base_url = ""{{ zun_wsproxy_protocol }}://<external_fqdn>:<port>""]\n\nCloses-Bug: 1957117\nChange-Id: Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb\n(cherry picked from commit d8c73aa2064767f3cfe6090daf3503f369ec1bd1)\n'}]",2,824536,f36a00a974ffd88a9cebcca3aa3671faaa54b7fa,17,3,1,28295,,,0,"Access to zun container fails when tls_external enabled.

Access to console of any zun container fails when
kolla_enable_tls_external is true.
This is due to the protocol of the base_url of the websocket_proxy
section in zun.conf is hardcoded to 'ws'.
[base_url = ws://<external_fqdn>:<port>]

This fix adds a new variable zun_wsproxy_protocol
and sets it's value to 'wss' when kolla_enable_tls_external is true
or to 'ws' otherwise

Then the base url's protocol of the websocket_proxy section
in zun.conf is set by zun_wsproxy_protocol
[base_url = ""{{ zun_wsproxy_protocol }}://<external_fqdn>:<port>""]

Closes-Bug: 1957117
Change-Id: Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb
(cherry picked from commit d8c73aa2064767f3cfe6090daf3503f369ec1bd1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/824536/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/zun/templates/zun.conf.j2', 'releasenotes/notes/bug-1957117-7832104d66a91da7.yaml', 'ansible/group_vars/all.yml']",3,f36a00a974ffd88a9cebcca3aa3671faaa54b7fa,,"zun_wsproxy_protocol: ""{{ 'wss' if kolla_enable_tls_external | bool else 'ws' }}""",,13,1
openstack%2Fopenstack-ansible-os_ironic~master~Ib5cbb28f97dd7421bfecb815def89305f3b1da33,openstack/openstack-ansible-os_ironic,master,Ib5cbb28f97dd7421bfecb815def89305f3b1da33,Update Ironic Inspector for Metal Deployments,MERGED,2021-12-12 23:49:35.000000000,2022-01-20 19:15:10.000000000,2022-01-20 19:12:18.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-12-12 23:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/fd354b4584f24ff31d8461598ddaf2f619cd8f61', 'message': 'Update Ironic Inspector for Metal Deployments\n\nThis patchset is a WIP that aims to correct some design limitations\nwith the current ironic-inspector deploy process.\n\n- a new ironic-inspector-dnsmasq service has been created to split\ninspector-specific dnsmasq configuration out of the base dnsmasq\nconfig files\n- PXE/iPXE and UEFI support for ironic-inspector boot\n- (todo) documentation improvements and diagrams\n\nChange-Id: Ib5cbb28f97dd7421bfecb815def89305f3b1da33\n'}, {'number': 2, 'created': '2021-12-20 14:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/ba296d577a425d391f826f4d0402b58dc35bb0cf', 'message': 'Update Ironic Inspector for Metal Deployments\n\nThis patchset is a WIP that aims to correct some design limitations\nwith the current ironic-inspector deploy process.\n\n- a new ironic-inspector-dnsmasq service has been created to split\ninspector-specific dnsmasq configuration out of the base dnsmasq\nconfig files\n- PXE/iPXE and UEFI support for ironic-inspector boot\n- (todo) documentation improvements and diagrams\n\nChange-Id: Ib5cbb28f97dd7421bfecb815def89305f3b1da33\n'}, {'number': 3, 'created': '2021-12-20 22:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/92368e7b886852b3c6ff26f7800ccba3eec7e781', 'message': 'Update Ironic Inspector for Metal Deployments\n\nThis patchset aims to correct some design limitations with the current\nironic-inspector deploy process.\n\n- a new ironic-inspector-dnsmasq service has been created to split\ninspector-specific dnsmasq configuration out of the base dnsmasq\nconfig files\n- PXE/iPXE and UEFI support for ironic-inspector boot\n- (todo) documentation improvements and diagrams\n\nChange-Id: Ib5cbb28f97dd7421bfecb815def89305f3b1da33\n'}, {'number': 4, 'created': '2022-01-04 18:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/a7f44299c86b5a0ee3d17e30a721a1d6b3a91ce6', 'message': 'Update Ironic Inspector for Metal Deployments\n\nThis patchset aims to correct some design limitations with the current\nironic-inspector deploy process.\n\n- a new ironic-inspector-dnsmasq service has been created to split\ninspector-specific dnsmasq configuration out of the base dnsmasq\nconfig files\n- PXE/iPXE and UEFI support for ironic-inspector boot\n- (todo) documentation improvements and diagrams\n\nChange-Id: Ib5cbb28f97dd7421bfecb815def89305f3b1da33\n'}, {'number': 5, 'created': '2022-01-05 20:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/36d162dd465c6d6d0ac602b4ae935771edb0d0d7', 'message': 'Update Ironic Inspector for Metal Deployments\n\nThis patchset aims to correct some design limitations with the current\nironic-inspector deploy process.\n\n- a new ironic-inspector-dnsmasq service has been created to split\ninspector-specific dnsmasq configuration out of the base dnsmasq\nconfig files\n- PXE/iPXE and UEFI support for ironic-inspector boot\n- (todo) documentation improvements and diagrams\n\nDepends-On: #823426\nChange-Id: Ib5cbb28f97dd7421bfecb815def89305f3b1da33\n'}, {'number': 6, 'created': '2022-01-05 21:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/d75139221c19bb7586a3e2c510ac2c7626f0c471', 'message': 'Update Ironic Inspector for Metal Deployments\n\nThis patchset aims to correct some design limitations with the current\nironic-inspector deploy process.\n\n- a new ironic-inspector-dnsmasq service has been created to split\ninspector-specific dnsmasq configuration out of the base dnsmasq\nconfig files\n- PXE/iPXE and UEFI support for ironic-inspector boot\n- (todo) documentation improvements and diagrams\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/823426\nChange-Id: Ib5cbb28f97dd7421bfecb815def89305f3b1da33\n'}, {'number': 7, 'created': '2022-01-10 14:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/680a84763a7f9f034a50ad01df489d0bbd9b3c8e', 'message': 'Update Ironic Inspector for Metal Deployments\n\nThis patchset aims to correct some design limitations with the current\nironic-inspector deploy process.\n\n- a new ironic-inspector-dnsmasq service has been created to split\ninspector-specific dnsmasq configuration out of the base dnsmasq\nconfig files\n- PXE/iPXE and UEFI support for ironic-inspector boot\n- (todo) documentation improvements and diagrams\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/823426\nChange-Id: Ib5cbb28f97dd7421bfecb815def89305f3b1da33\n'}, {'number': 8, 'created': '2022-01-11 19:59:28.000000000', 'files': ['tasks/main.yml', 'templates/inspector.ipxe.j2', 'handlers/main.yml', 'templates/dnsmasq.conf.j2', 'tasks/ironic_inspector_post_install.yml', 'tasks/ironic_inspector_pre_install.yml', 'templates/pxelinux-default.j2', 'defaults/main.yml', 'templates/inspector.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/f7e6cc04cf2ca0856ee89da77d1dc09d1d22e9f2', 'message': 'Update Ironic Inspector for Metal Deployments\n\nThis patchset aims to correct some design limitations with the current\nironic-inspector deploy process.\n\n- a new ironic-inspector-dnsmasq service has been created to split\ninspector-specific dnsmasq configuration out of the base dnsmasq\nconfig files\n- PXE/iPXE and UEFI support for ironic-inspector boot\n- (todo) documentation improvements and diagrams\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/823426\nChange-Id: Ib5cbb28f97dd7421bfecb815def89305f3b1da33\n'}]",8,821503,f7e6cc04cf2ca0856ee89da77d1dc09d1d22e9f2,34,3,8,16011,,,0,"Update Ironic Inspector for Metal Deployments

This patchset aims to correct some design limitations with the current
ironic-inspector deploy process.

- a new ironic-inspector-dnsmasq service has been created to split
inspector-specific dnsmasq configuration out of the base dnsmasq
config files
- PXE/iPXE and UEFI support for ironic-inspector boot
- (todo) documentation improvements and diagrams

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/823426
Change-Id: Ib5cbb28f97dd7421bfecb815def89305f3b1da33
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/03/821503/7 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/inspector.ipxe.j2', 'handlers/main.yml', 'templates/dnsmasq.conf.j2', 'tasks/ironic_inspector_post_install.yml', 'tasks/ironic_inspector_pre_install.yml', 'templates/pxelinux-default.j2', 'defaults/main.yml']",8,fd354b4584f24ff31d8461598ddaf2f619cd8f61,inspector-fixes," ironic-inspector-dnsmasq: group: ironic_inspector service_name: ironic-inspector-dnsmasq service_type: forking systemd_user_name: root systemd_group_name: root init_config_overrides: ""{{ ironic_inspector_dnsmasq_init_config_overrides }}"" execstarts: ""/usr/sbin/dnsmasq --conf-file=/etc/ironic-inspector/inspector-dnsmasq.conf"" after_targets: - openvswitch.service - network.target state: stoppedironic_inspector_dnsmasq_init_config_overrides: {} # The URLs defined here provide the location to the kernel and ramdisk used # for booting via ironic-inspector. The integrated Ironic Python Agent may # not be backwards compatible, so the version listed should match the # deployed cloud. ironic_deploy_ramdisk_url: https://tarballs.opendev.org/openstack/ironic-python-agent/dib/files/ipa-centos8-stable-xena.initramfs ironic_deploy_ramdisk_sha_url: https://tarballs.opendev.org/openstack/ironic-python-agent/dib/files/ipa-centos8-stable-xena.initramfs.sha256 ironic_deploy_kernel_url: https://tarballs.opendev.org/openstack/ironic-python-agent/dib/files/ipa-centos8-stable-xena.kernel ironic_deploy_kernel_sha_url: https://tarballs.opendev.org/openstack/ironic-python-agent/dib/files/ipa-centos8-stable-xena.kernel.sha256",,119,29
openstack%2Fpuppet-neutron~stable%2Fwallaby~Ieccaf6b81939119c51ec74c44ee0fd2fcea3d99f,openstack/puppet-neutron,stable/wallaby,Ieccaf6b81939119c51ec74c44ee0fd2fcea3d99f,Add support for [nova] live_migation_events,MERGED,2022-01-19 15:22:33.000000000,2022-01-20 19:03:27.000000000,2022-01-20 19:00:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 15:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2aeb82a0992d17e80c2ffdd255ee4ec0d056b6fb', 'message': 'Add support for [nova] live_migation_events\n\nThis change introduces capability to manage [nova] live_migation_events\nwhich was introduced recently. This is implemented mainly so that we\ncan backport this feature to stable branches. The parameter is already\ndeprecated in master so a separate change to deprecate the parameter\nwill be submitted.\n\nChange-Id: Ieccaf6b81939119c51ec74c44ee0fd2fcea3d99f\n(cherry picked from commit 3389f02d67a14e10ffa5b988229507e9ce9998d0)\n(cherry picked from commit 9539b72d469fb9178970a35dcf43e8b14269f704)\n'}, {'number': 2, 'created': '2022-01-19 15:24:34.000000000', 'files': ['spec/classes/neutron_server_notifications_nova_spec.rb', 'manifests/server/notifications/nova.pp', 'releasenotes/notes/live_migration_events-84fc814cb28a8a68.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/56d922f6f384b592575b3f201266764e0105f4a2', 'message': 'Add support for [nova] live_migation_events\n\nThis change introduces capability to manage [nova] live_migation_events\nwhich was introduced recently. This is implemented mainly so that we\ncan backport this feature to stable branches. The parameter is already\ndeprecated in master so a separate change to deprecate the parameter\nwill be submitted.\n\nConflicts:\n\tmanifests/server/notifications/nova.pp\n\nChange-Id: Ieccaf6b81939119c51ec74c44ee0fd2fcea3d99f\n(cherry picked from commit 3389f02d67a14e10ffa5b988229507e9ce9998d0)\n(cherry picked from commit fc225e54ea8887e563657fab1b231c6082dec4d1)\n'}]",0,825331,56d922f6f384b592575b3f201266764e0105f4a2,10,3,2,9816,,,0,"Add support for [nova] live_migation_events

This change introduces capability to manage [nova] live_migation_events
which was introduced recently. This is implemented mainly so that we
can backport this feature to stable branches. The parameter is already
deprecated in master so a separate change to deprecate the parameter
will be submitted.

Conflicts:
	manifests/server/notifications/nova.pp

Change-Id: Ieccaf6b81939119c51ec74c44ee0fd2fcea3d99f
(cherry picked from commit 3389f02d67a14e10ffa5b988229507e9ce9998d0)
(cherry picked from commit fc225e54ea8887e563657fab1b231c6082dec4d1)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/31/825331/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_server_notifications_nova_spec.rb', 'manifests/server/notifications/nova.pp', 'releasenotes/notes/live_migration_events-84fc814cb28a8a68.yaml']",3,2aeb82a0992d17e80c2ffdd255ee4ec0d056b6fb,live_migation_events,--- features: - | The new ``neutron::server::notifications::nova::live_migration_events`` parameter has been added. This parameter controls the ``[nova] live_migation_events`` parameter in ``neutron.conf``. ,,17,0
openstack%2Fpuppet-neutron~stable%2Fxena~Ieccaf6b81939119c51ec74c44ee0fd2fcea3d99f,openstack/puppet-neutron,stable/xena,Ieccaf6b81939119c51ec74c44ee0fd2fcea3d99f,Add support for [nova] live_migation_events,MERGED,2022-01-19 15:22:13.000000000,2022-01-20 19:03:07.000000000,2022-01-20 19:00:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 15:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/9539b72d469fb9178970a35dcf43e8b14269f704', 'message': 'Add support for [nova] live_migation_events\n\nThis change introduces capability to manage [nova] live_migation_events\nwhich was introduced recently. This is implemented mainly so that we\ncan backport this feature to stable branches. The parameter is already\ndeprecated in master so a separate change to deprecate the parameter\nwill be submitted.\n\nChange-Id: Ieccaf6b81939119c51ec74c44ee0fd2fcea3d99f\n(cherry picked from commit 3389f02d67a14e10ffa5b988229507e9ce9998d0)\n'}, {'number': 2, 'created': '2022-01-19 15:24:13.000000000', 'files': ['spec/classes/neutron_server_notifications_nova_spec.rb', 'manifests/server/notifications/nova.pp', 'releasenotes/notes/live_migration_events-84fc814cb28a8a68.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/fc225e54ea8887e563657fab1b231c6082dec4d1', 'message': 'Add support for [nova] live_migation_events\n\nThis change introduces capability to manage [nova] live_migation_events\nwhich was introduced recently. This is implemented mainly so that we\ncan backport this feature to stable branches. The parameter is already\ndeprecated in master so a separate change to deprecate the parameter\nwill be submitted.\n\nConflicts:\n\tmanifests/server/notifications/nova.pp\n\nChange-Id: Ieccaf6b81939119c51ec74c44ee0fd2fcea3d99f\n(cherry picked from commit 3389f02d67a14e10ffa5b988229507e9ce9998d0)\n'}]",0,825330,fc225e54ea8887e563657fab1b231c6082dec4d1,10,3,2,9816,,,0,"Add support for [nova] live_migation_events

This change introduces capability to manage [nova] live_migation_events
which was introduced recently. This is implemented mainly so that we
can backport this feature to stable branches. The parameter is already
deprecated in master so a separate change to deprecate the parameter
will be submitted.

Conflicts:
	manifests/server/notifications/nova.pp

Change-Id: Ieccaf6b81939119c51ec74c44ee0fd2fcea3d99f
(cherry picked from commit 3389f02d67a14e10ffa5b988229507e9ce9998d0)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/30/825330/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_server_notifications_nova_spec.rb', 'manifests/server/notifications/nova.pp', 'releasenotes/notes/live_migration_events-84fc814cb28a8a68.yaml']",3,9539b72d469fb9178970a35dcf43e8b14269f704,live_migation_events,--- features: - | The new ``neutron::server::notifications::nova::live_migration_events`` parameter has been added. This parameter controls the ``[nova] live_migation_events`` parameter in ``neutron.conf``. ,,17,0
openstack%2Fpuppet-neutron~master~I6bbc2e1a72142a22c30f45537be855bfb3c512c8,openstack/puppet-neutron,master,I6bbc2e1a72142a22c30f45537be855bfb3c512c8,Remove inefficient usage of autorequire,MERGED,2022-01-19 15:05:30.000000000,2022-01-20 19:00:51.000000000,2022-01-20 19:00:51.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 15:05:30.000000000', 'files': ['lib/puppet/type/neutron_security_group.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/d119c425b7fed769148968a0505cbc7a21382011', 'message': 'Remove inefficient usage of autorequire\n\nThis change removes inefficient usage of autorequire, with the wrong\nresource name(The resource name should include section name) in\nneutron_security_group. The necessary dependency is already enforced\nby another autorequire which depends on service::end anchor.\n\nChange-Id: I6bbc2e1a72142a22c30f45537be855bfb3c512c8\n'}]",0,825327,d119c425b7fed769148968a0505cbc7a21382011,7,3,1,9816,,,0,"Remove inefficient usage of autorequire

This change removes inefficient usage of autorequire, with the wrong
resource name(The resource name should include section name) in
neutron_security_group. The necessary dependency is already enforced
by another autorequire which depends on service::end anchor.

Change-Id: I6bbc2e1a72142a22c30f45537be855bfb3c512c8
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/27/825327/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/type/neutron_security_group.rb'],1,d119c425b7fed769148968a0505cbc7a21382011,,," autorequire(:neutron_config) do ['auth_url', 'project_name', 'username', 'password'] end ",0,4
openstack%2Fkolla~master~Icf0675c17a5227643148e9956496b8eacec67bee,openstack/kolla,master,Icf0675c17a5227643148e9956496b8eacec67bee,base: do not duplicate repo data on CentOS,MERGED,2022-01-04 14:32:18.000000000,2022-01-20 18:50:16.000000000,2022-01-20 18:42:49.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2022-01-04 14:32:18.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/355858d3c1211cca31623fcdeb332ca0597299ff', 'message': 'base: do not duplicate repo data on CentOS\n\nInstead of listing all repositories twice, do it just once and then add\narchitecture specific ones.\n\nChange-Id: Icf0675c17a5227643148e9956496b8eacec67bee\n'}]",1,823398,355858d3c1211cca31623fcdeb332ca0597299ff,9,8,1,34360,,,0,"base: do not duplicate repo data on CentOS

Instead of listing all repositories twice, do it just once and then add
architecture specific ones.

Change-Id: Icf0675c17a5227643148e9956496b8eacec67bee
",git fetch https://review.opendev.org/openstack/kolla refs/changes/98/823398/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,355858d3c1211cca31623fcdeb332ca0597299ff,," 'elasticsearch.repo', 'grafana.repo', 'proxysql.repo', 'rabbitmq_rabbitmq-server.repo', 'td.repo', ] %} 'https://artifacts.elastic.co/GPG-KEY-elasticsearch', 'https://packages.grafana.com/gpg.key', 'https://downloads.mariadb.com/MariaDB/RPM-GPG-KEY-MariaDB', 'https://repo.proxysql.com/ProxySQL/repo_pub_key', 'https://github.com/rabbitmq/signing-keys/releases/download/2.0/rabbitmq-release-signing-key.asc', 'https://packages.treasuredata.com/GPG-KEY-td-agent', {% set base_yum_repo_files = base_yum_repo_files + [ {% set base_yum_repo_keys = base_yum_repo_keys + [ {% set base_yum_repo_files = base_yum_repo_files + [ {% set base_yum_repo_keys = base_yum_repo_keys + ["," ] %} {% set base_yum_repo_files = [ 'elasticsearch.repo', 'grafana.repo', 'proxysql.repo', 'rabbitmq_rabbitmq-server.repo', 'td.repo', {% set base_yum_repo_keys = [ 'https://artifacts.elastic.co/GPG-KEY-elasticsearch', 'https://packages.grafana.com/gpg.key', 'https://downloads.mariadb.com/MariaDB/RPM-GPG-KEY-MariaDB', 'https://github.com/rabbitmq/signing-keys/releases/download/2.0/rabbitmq-release-signing-key.asc', 'https://packages.treasuredata.com/GPG-KEY-td-agent', 'https://repo.proxysql.com/ProxySQL/repo_pub_key', {% set base_yum_repo_files = [ 'elasticsearch.repo', 'grafana.repo', 'proxysql.repo', 'rabbitmq_rabbitmq-server.repo', 'td.repo', {% set base_yum_repo_keys = [ 'https://packages.grafana.com/gpg.key', 'https://downloads.mariadb.com/MariaDB/RPM-GPG-KEY-MariaDB', 'https://github.com/rabbitmq/signing-keys/releases/download/2.0/rabbitmq-release-signing-key.asc', 'https://repo.proxysql.com/ProxySQL/repo_pub_key', # FIXME(mgoddard): Not available for CentOS 8 yet. # # 'https://artifacts.elastic.co/GPG-KEY-elasticsearch', #",16,29
openstack%2Foslo.utils~stable%2Fwallaby~Ia02154a1eb04434658a21adf82599ae55302e310,openstack/oslo.utils,stable/wallaby,Ia02154a1eb04434658a21adf82599ae55302e310,Dropping lower constraints testing,MERGED,2022-01-20 15:26:10.000000000,2022-01-20 18:31:58.000000000,2022-01-20 18:28:29.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-20 15:26:10.000000000', 'files': ['lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/4cc3a558244769017ed5d8c3a6e4a63429d1e8e9', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\nContain also the patch[2] to remove the tox environment and the patch[3] to\nremove the lower-constraints.txt file.\n\nhttps://review.opendev.org/c/openstack/oslo.utils/+/787867\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n[2] https://review.opendev.org/c/openstack/oslo.utils/+/772630\n[3] https://review.opendev.org/c/openstack/oslo.utils/+/787867\n\nChange-Id: Ia02154a1eb04434658a21adf82599ae55302e310\n(cherry picked from commit c4e3576c63f8f12dc1b2c3ff9bf0350042cd1703)\n'}]",4,825528,4cc3a558244769017ed5d8c3a6e4a63429d1e8e9,9,3,1,31245,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

Contain also the patch[2] to remove the tox environment and the patch[3] to
remove the lower-constraints.txt file.

https://review.opendev.org/c/openstack/oslo.utils/+/787867

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html
[2] https://review.opendev.org/c/openstack/oslo.utils/+/772630
[3] https://review.opendev.org/c/openstack/oslo.utils/+/787867

Change-Id: Ia02154a1eb04434658a21adf82599ae55302e310
(cherry picked from commit c4e3576c63f8f12dc1b2c3ff9bf0350042cd1703)
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/28/825528/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'tox.ini']",2,4cc3a558244769017ed5d8c3a6e4a63429d1e8e9,,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,45
openstack%2Fpuppet-openstacklib~master~Ie8246aa18d90ba506fe708be13c9a5afa3e5d2fd,openstack/puppet-openstacklib,master,Ie8246aa18d90ba506fe708be13c9a5afa3e5d2fd,Support clouds.yaml to manage keystone user credentials,MERGED,2021-10-25 14:03:59.000000000,2022-01-20 18:31:12.000000000,2022-01-20 18:18:56.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-25 14:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/1775d2c9528b631afbab4088265c67f988a06796', 'message': 'WIP: Load keystone credentials from clouds.yaml\n\nChange-Id: Ie8246aa18d90ba506fe708be13c9a5afa3e5d2fd\n'}, {'number': 2, 'created': '2021-10-25 14:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/aa100cfdc036bea05570613224e237c7b38c5eb2', 'message': 'WIP: Load keystone credentials from clouds.yaml\n\nChange-Id: Ie8246aa18d90ba506fe708be13c9a5afa3e5d2fd\n'}, {'number': 3, 'created': '2021-10-25 15:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/72410502c70c596edac8d561053786cab3fa7392', 'message': 'WIP: Load keystone credentials from clouds.yaml\n\nChange-Id: Ie8246aa18d90ba506fe708be13c9a5afa3e5d2fd\n'}, {'number': 4, 'created': '2021-10-26 00:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/4f71b7f2344cc6a91a64811ac4a074df5da5bc3e', 'message': 'WIP: Load keystone credentials from clouds.yaml\n\nChange-Id: Ie8246aa18d90ba506fe708be13c9a5afa3e5d2fd\n'}, {'number': 5, 'created': '2021-10-26 00:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/56bf465f8a9047945fbe1315ca090462ee1c6a87', 'message': 'WIP: Load keystone credentials from clouds.yaml\n\nChange-Id: Ie8246aa18d90ba506fe708be13c9a5afa3e5d2fd\n'}, {'number': 6, 'created': '2021-10-26 01:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/97122af9102c48cb1d0db5cfcd7d7f7f4255663b', 'message': 'WIP: Load keystone credentials from clouds.yaml\n\nChange-Id: Ie8246aa18d90ba506fe708be13c9a5afa3e5d2fd\n'}, {'number': 7, 'created': '2021-10-26 02:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/1287ab19bb046251c49a16a2202ba73153b31769', 'message': 'WIP: Load keystone credentials from clouds.yaml\n\nChange-Id: Ie8246aa18d90ba506fe708be13c9a5afa3e5d2fd\n'}, {'number': 8, 'created': '2021-10-26 02:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/67e9ed41d3878e91263cd883f2f5d669b411907b', 'message': 'WIP: Load keystone credentials from clouds.yaml\n\nChange-Id: Ie8246aa18d90ba506fe708be13c9a5afa3e5d2fd\n'}, {'number': 9, 'created': '2021-10-26 12:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/badda39de73031d36d32a1c57f343c1f9e70f111', 'message': 'WIP: Load keystone credentials from clouds.yaml\n\nChange-Id: Ie8246aa18d90ba506fe708be13c9a5afa3e5d2fd\n'}, {'number': 10, 'created': '2021-10-27 11:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/52b1f27000f3ee645bc25ab6216a3a092eb496ea', 'message': 'Support clouds.yaml to manage keystone user credentials\n\nRecent openstack cli supports loading user credentials from clouds.yaml\ninstead of passing each parameters by environment variables or command\noptions.\n\nThis allows us to manage user credentials more flexibly. The biggest\nbenefit of the clouds.yaml file is that it supports managing multiple\ncredentials in a single file. When SRBAC is enforced, each API request\nshould be made with the proper scope credential, and we need to switch\ncredentials for different scopes(project, domain and system) according.\nUsage of clouds.yaml helps this use case hugely because it allows us to\nstore credentials for each scope in a single file and switch them by\nthe single OS_CLOUD environment variable(or the --os-cloud option).\n\nChange-Id: Ie8246aa18d90ba506fe708be13c9a5afa3e5d2fd\n'}, {'number': 11, 'created': '2021-10-27 23:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/2099a4ca4945b451b0768c5e0cad043e97afd871', 'message': 'Support clouds.yaml to manage keystone user credentials\n\nRecent openstack cli supports loading user credentials from clouds.yaml\ninstead of passing each parameters by environment variables or command\noptions.\n\nThis allows us to manage user credentials more flexibly. The biggest\nbenefit of the clouds.yaml file is that it supports managing multiple\ncredentials in a single file. When SRBAC is enforced, each API request\nshould be made with the proper scope credential, and we need to switch\ncredentials for different scopes(project, domain and system) according.\nUsage of clouds.yaml helps this use case hugely because it allows us to\nstore credentials for each scope in a single file and switch them by\nthe single OS_CLOUD environment variable(or the --os-cloud option).\n\nChange-Id: Ie8246aa18d90ba506fe708be13c9a5afa3e5d2fd\n'}, {'number': 12, 'created': '2021-11-08 09:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/8a9c4a4dd801c5c2d9982c49a595835885808fd8', 'message': 'Support clouds.yaml to manage keystone user credentials\n\nRecent openstack cli supports loading user credentials from clouds.yaml\ninstead of passing each parameters by environment variables or command\noptions.\n\nThis allows us to manage user credentials more flexibly. The biggest\nbenefit of the clouds.yaml file is that it supports managing multiple\ncredentials in a single file. When SRBAC is enforced, each API request\nshould be made with the proper scope credential, and we need to switch\ncredentials for different scopes(project, domain and system) according.\nUsage of clouds.yaml helps this use case hugely because it allows us to\nstore credentials for each scope in a single file and switch them by\nthe single OS_CLOUD environment variable(or the --os-cloud option).\n\nChange-Id: Ie8246aa18d90ba506fe708be13c9a5afa3e5d2fd\n'}, {'number': 13, 'created': '2022-01-17 23:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/44904de511789ccc0c7320afb8e92697d57fd5fb', 'message': 'Support clouds.yaml to manage keystone user credentials\n\nRecent openstack cli supports loading user credentials from clouds.yaml\ninstead of passing each parameters by environment variables or command\noptions.\n\nThis allows us to manage user credentials more flexibly. The biggest\nbenefit of the clouds.yaml file is that it supports managing multiple\ncredentials in a single file. When SRBAC is enforced, each API request\nshould be made with the proper scope credential, and we need to switch\ncredentials for different scopes(project, domain and system) according.\nUsage of clouds.yaml helps this use case hugely because it allows us to\nstore credentials for each scope in a single file and switch them by\nthe single OS_CLOUD environment variable(or the --os-cloud option).\n\nChange-Id: Ie8246aa18d90ba506fe708be13c9a5afa3e5d2fd\n'}, {'number': 14, 'created': '2022-01-18 00:07:37.000000000', 'files': ['releasenotes/notes/clouds-yaml-e8a87dfceba4619d.yaml', 'spec/unit/provider/openstack/credentials_spec.rb', 'templates/clouds.yaml.erb', 'spec/defines/openstacklib_clouds_spec.rb', 'lib/puppet/provider/openstack/credentials.rb', 'manifests/clouds.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/522d06ba8b330e59f3b9eb81dbf659a30e70691a', 'message': 'Support clouds.yaml to manage keystone user credentials\n\nRecent openstack cli supports loading user credentials from clouds.yaml\ninstead of passing each parameters by environment variables or command\noptions.\n\nThis allows us to manage user credentials more flexibly. The biggest\nbenefit of the clouds.yaml file is that it supports managing multiple\ncredentials in a single file. When SRBAC is enforced, each API request\nshould be made with the proper scope credential, and we need to switch\ncredentials for different scopes(project, domain and system) according.\nUsage of clouds.yaml helps this use case hugely because it allows us to\nstore credentials for each scope in a single file and switch them by\nthe single OS_CLOUD environment variable(or the --os-cloud option).\n\nChange-Id: Ie8246aa18d90ba506fe708be13c9a5afa3e5d2fd\n'}]",14,815311,522d06ba8b330e59f3b9eb81dbf659a30e70691a,42,4,14,9816,,,0,"Support clouds.yaml to manage keystone user credentials

Recent openstack cli supports loading user credentials from clouds.yaml
instead of passing each parameters by environment variables or command
options.

This allows us to manage user credentials more flexibly. The biggest
benefit of the clouds.yaml file is that it supports managing multiple
credentials in a single file. When SRBAC is enforced, each API request
should be made with the proper scope credential, and we need to switch
credentials for different scopes(project, domain and system) according.
Usage of clouds.yaml helps this use case hugely because it allows us to
store credentials for each scope in a single file and switch them by
the single OS_CLOUD environment variable(or the --os-cloud option).

Change-Id: Ie8246aa18d90ba506fe708be13c9a5afa3e5d2fd
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/11/815311/10 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'templates/clouds.yaml.erb', 'lib/puppet/provider/openstack/credentials.rb', 'manifests/clouds.pp']",4,1775d2c9528b631afbab4088265c67f988a06796,system-scope-creds,"# == Class: openstacklib::clouds # # Generates clouds.yaml for openstack CLI # # == Parameters # # [*username*] # (Required) The name of the keystone user. # # [*password*] # (Required) Password of the keystone user. # # [*path*] # (Optional) Path to the clouds.yaml file. # Defaults to $name # # [*mode*] # (Optional) Mode (permissions) of the clouds.yaml file. # Defaults to 'root' # # [*owner*] # (Optional) Owner of the clouds.yaml file. # Defaults to 'root' # # [*group*] # (Optional) Group of the clouds.yaml file. # Defaults to 'root' # # [*cloudname*] # (Optional) Name of the cloud. # Defaults to 'openstack' # # [*user_domain_name*] # (Optional) Name of domain for $username. # Defaults to 'Default' # # [*project_name*] # (Optional) The name of the keystone project. # Defaults to undef # # [*project_domain_name*] # (Optional) Name of domain for $project_name. # Defaults to 'Default' # # [*system_scope*] # (Optional) Scope for system operations. # Defaults to undef # # [*identity_api_version*] # (Optional) Version of identity API. # Defaults to '3' # # [*interface*] # (Optional) Determine the endpoint to be used. # Defaults to undef # # [*region_name*] # (Optional) The region in which the service can be found. # Defaults to undef # define openstacklib::clouds( $username, $password, $path = $name, $mode = '0600', $owner = 'root', $group = 'root', $cloudname = 'openstack', $user_domain_name = 'Default', $project_name = undef, $project_domain_name = 'Default', $system_scope = undef, $identity_api_version = '3', $interface = undef, $region_name = undef, ) { concat::fragment { $path: content => template('openstacklib/clouds.yaml.erb'), mode => $mode, owner => $owner, group => $group, } } ",,138,2
openstack%2Fblazar~master~I383ddcba6dbccc21dcdebaeba18d8c65d306194a,openstack/blazar,master,I383ddcba6dbccc21dcdebaeba18d8c65d306194a,Support running periodic tasks from event loop,NEW,2022-01-20 17:32:46.000000000,2022-01-20 18:30:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-20 17:32:46.000000000', 'files': ['blazar/manager/service.py', 'blazar/plugins/base.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/da0652c542d172cf5ca4f607cd643fd3d5db79c5', 'message': 'Support running periodic tasks from event loop\n\nEach plugin can provide a list of periodic tasks to run as part of the\nmain manager event loop.\n\nChange-Id: I383ddcba6dbccc21dcdebaeba18d8c65d306194a\n'}]",0,825659,da0652c542d172cf5ca4f607cd643fd3d5db79c5,2,1,1,15197,,,0,"Support running periodic tasks from event loop

Each plugin can provide a list of periodic tasks to run as part of the
main manager event loop.

Change-Id: I383ddcba6dbccc21dcdebaeba18d8c65d306194a
",git fetch https://review.opendev.org/openstack/blazar refs/changes/59/825659/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/manager/service.py', 'blazar/plugins/base.py']",2,da0652c542d172cf5ca4f607cd643fd3d5db79c5,periodic-tasks, periodic_tasks = None,,36,19
openstack%2Fpuppet-nova~master~I3b9416f1e3f7ae303a182c3890a8797605a40271,openstack/puppet-nova,master,I3b9416f1e3f7ae303a182c3890a8797605a40271,Add support for [keystone] parameters,MERGED,2022-01-12 09:56:19.000000000,2022-01-20 18:30:09.000000000,2022-01-20 18:07:45.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 09:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9b8b1fe2638bed9a29aeb66819b18a61174f0fec', 'message': 'Add support for [keystone] parameters\n\nChange-Id: I3b9416f1e3f7ae303a182c3890a8797605a40271\n'}, {'number': 2, 'created': '2022-01-12 12:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6a7edbdbae23cefc05f10e151ef9c71bb5f792d9', 'message': 'Add support for [keystone] parameters\n\nThis change adds support for parameters in the [keystone] section,\nwhich are used to query Keystone API to validate the given project id.\n\nChange-Id: I3b9416f1e3f7ae303a182c3890a8797605a40271\n'}, {'number': 3, 'created': '2022-01-12 12:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4f9f8e5452ab7d48ea7d0e20da10396402161437', 'message': 'Add support for [keystone] parameters\n\nThis change adds support for parameters in the [keystone] section,\nwhich are used to query Keystone API to validate the given project id.\n\nChange-Id: I3b9416f1e3f7ae303a182c3890a8797605a40271\n'}, {'number': 4, 'created': '2022-01-12 13:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/82b901dab1036c77f428d29bc5cf8ca1b7246ecf', 'message': 'Add support for [keystone] parameters\n\nThis change adds support for parameters in the [keystone] section,\nwhich are used to query Keystone API to validate the given project id.\n\nChange-Id: I3b9416f1e3f7ae303a182c3890a8797605a40271\n'}, {'number': 5, 'created': '2022-01-13 03:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1b0014ddd1b9163bf8ed1ed77617a758d2c8e3c1', 'message': 'Add support for [keystone] parameters\n\nThis change adds support for parameters in the [keystone] section,\nwhich are used to query Keystone API to validate the given project id.\n\nChange-Id: I3b9416f1e3f7ae303a182c3890a8797605a40271\n'}, {'number': 6, 'created': '2022-01-13 05:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a857b783bbec866f3b3e91093dad74e8e2846914', 'message': 'Add support for [keystone] parameters\n\nThis change adds support for parameters in the [keystone] section,\nwhich are used to query Keystone API to validate the given project id.\n\nChange-Id: I3b9416f1e3f7ae303a182c3890a8797605a40271\n'}, {'number': 7, 'created': '2022-01-14 00:17:55.000000000', 'files': ['spec/classes/nova_keystone_spec.rb', 'manifests/keystone.pp', 'releasenotes/notes/keystone-parameters-2222c1f0038d641b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ab3a58f014cd474d8e612da515220a0bd253a505', 'message': 'Add support for [keystone] parameters\n\nThis change adds support for parameters in the [keystone] section,\nwhich are used to query Keystone API to validate the given project id.\n\nChange-Id: I3b9416f1e3f7ae303a182c3890a8797605a40271\n'}]",4,824367,ab3a58f014cd474d8e612da515220a0bd253a505,33,4,7,9816,,,0,"Add support for [keystone] parameters

This change adds support for parameters in the [keystone] section,
which are used to query Keystone API to validate the given project id.

Change-Id: I3b9416f1e3f7ae303a182c3890a8797605a40271
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/67/824367/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/keystone.pp', 'spec/classes/nova_keystone_spec.rb', 'releasenotes/notes/keystone-parameters-2222c1f0038d641b.yaml']",3,9b8b1fe2638bed9a29aeb66819b18a61174f0fec,keystone-opts,--- features: - | The new ``nova::keystone`` class has been added. This class manages the parameters in the ``[keystone]`` section. ,,152,0
openstack%2Fblazar~master~I3ecee52d50106b940328d57d379cd96a6a547c60,openstack/blazar,master,I3ecee52d50106b940328d57d379cd96a6a547c60,Update Nova client wrapper to be similar to other clients,NEW,2022-01-20 17:31:29.000000000,2022-01-20 18:18:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-20 17:31:29.000000000', 'files': ['blazar/utils/openstack/nova.py', 'blazar/tests/utils/openstack/test_nova.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/5fcd606cd5aa85844f3f7deab76be7f3191ab6fa', 'message': 'Update Nova client wrapper to be similar to other clients\n\nChange-Id: I3ecee52d50106b940328d57d379cd96a6a547c60\n'}]",7,825658,5fcd606cd5aa85844f3f7deab76be7f3191ab6fa,2,1,1,15197,,,0,"Update Nova client wrapper to be similar to other clients

Change-Id: I3ecee52d50106b940328d57d379cd96a6a547c60
",git fetch https://review.opendev.org/openstack/blazar refs/changes/58/825658/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/utils/openstack/nova.py', 'blazar/tests/utils/openstack/test_nova.py']",2,5fcd606cd5aa85844f3f7deab76be7f3191ab6fa,nova-auth,"from keystoneauth1.identity import v3 self.auth = self.patch(v3, 'Password') self.region_name = 'FakeRegion' 'project_domain_name': project_domain, 'region_name': self.region_name} session=self.session.return_value, region_name=self.region_name, auth_url = ""%s://%s:%s/%s"" % (CONF.os_auth_protocol, CONF.os_auth_host, CONF.os_auth_port, CONF.os_auth_version) self.auth.assert_called_once_with(auth_url=auth_url, username=CONF.os_admin_username, password=CONF.os_admin_password, project_name=CONF.os_admin_project_name, user_domain_name=CONF.os_admin_user_domain_name, project_domain_name=CONF.os_admin_project_domain_name) region_name=CONF.os_region_name, global_request_id=mock.ANY) def test_client_from_ctx_with_prefix(self): CONF.set_override('os_auth_prefix', 'identity') self.addCleanup(CONF.clear_override, 'os_auth_prefix') kwargs = {'prefix': 'identity', 'version': self.version} self.nova.BlazarNovaClient(**kwargs) auth_url = ""%s://%s:%s/%s/%s"" % (CONF.os_auth_protocol, CONF.os_auth_host, CONF.os_auth_port, CONF.os_auth_prefix, CONF.os_auth_version) self.auth.assert_called_once_with(auth_url=auth_url, username=CONF.os_admin_username, password=CONF.os_admin_password, project_name=CONF.os_admin_project_name, user_domain_name=CONF.os_admin_user_domain_name, project_domain_name=CONF.os_admin_project_domain_name) self.session.assert_called_once_with(auth=self.auth.return_value) self.client.assert_called_once_with(prefix='identity', version=self.version, session=self.session.return_value, region_name=CONF.os_region_name,","from keystoneauth1 import token_endpoint self.auth = self.patch(token_endpoint, 'Token') self.url = 'http://fake.com/' self.patch(self.base, 'url_for').return_value = self.url auth_url = ""%s://%s:%s"" % (CONF.os_auth_protocol, CONF.os_auth_host, CONF.os_auth_port) if CONF.os_auth_prefix: auth_url += ""/%s"" % CONF.os_auth_prefix 'project_domain_name': project_domain} username=username, password=password, user_domain_name=user_domain, project_name=project_name, project_domain_name=project_domain, auth_url=auth_url, self.auth.assert_called_once_with(self.url, self.ctx().auth_token) endpoint_override=self.url,",78,86
openstack%2Fpuppet-nova~master~Ia96e00ccc1b3f056605d63fe2570c4e795f509ab,openstack/puppet-nova,master,Ia96e00ccc1b3f056605d63fe2570c4e795f509ab,Add enable_qemu_monitor_announce_self workaround,MERGED,2022-01-17 08:26:49.000000000,2022-01-20 18:15:42.000000000,2022-01-20 18:07:43.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-17 08:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b983620590b1fe433b7dfd8b45ff338dc81c6540', 'message': 'Add enable_qemu_monitor_announce_self workaround\n\nThis adds the enable_qemu_monitor_announce_self param\nthat will be introduced by [1].\n\n[1] https://review.opendev.org/c/openstack/nova/+/741529\n\nDepends-On: https://review.opendev.org/c/741529\nChange-Id: Ia96e00ccc1b3f056605d63fe2570c4e795f509ab\n'}, {'number': 2, 'created': '2022-01-17 13:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/71a721b5f302dc2ab9f7039a940887b1841886bb', 'message': 'Add enable_qemu_monitor_announce_self workaround\n\nThis adds the enable_qemu_monitor_announce_self param\nthat will be introduced by [1].\n\n[1] https://review.opendev.org/c/openstack/nova/+/741529\n\nDepends-On: https://review.opendev.org/c/741529\nChange-Id: Ia96e00ccc1b3f056605d63fe2570c4e795f509ab\n'}, {'number': 3, 'created': '2022-01-19 14:06:49.000000000', 'files': ['releasenotes/notes/add-workarounds-enable_qemu_monitor_announce_self-9e307efdb0061fce.yaml', 'spec/classes/nova_workarounds_spec.rb', 'manifests/workarounds.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4a77e0a5b9b46ff33e86a7e117a021dd15b7400e', 'message': 'Add enable_qemu_monitor_announce_self workaround\n\nThis adds the enable_qemu_monitor_announce_self param\nthat will be introduced by [1].\n\n[1] https://review.opendev.org/c/openstack/nova/+/741529\n\nDepends-On: https://review.opendev.org/c/741529\nChange-Id: Ia96e00ccc1b3f056605d63fe2570c4e795f509ab\n'}]",6,824866,4a77e0a5b9b46ff33e86a7e117a021dd15b7400e,16,3,3,16137,,,0,"Add enable_qemu_monitor_announce_self workaround

This adds the enable_qemu_monitor_announce_self param
that will be introduced by [1].

[1] https://review.opendev.org/c/openstack/nova/+/741529

Depends-On: https://review.opendev.org/c/741529
Change-Id: Ia96e00ccc1b3f056605d63fe2570c4e795f509ab
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/66/824866/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_workarounds_spec.rb', 'manifests/workarounds.pp']",2,b983620590b1fe433b7dfd8b45ff338dc81c6540,,"# (Optional) refuse to boot an instance if it would require downloading from# (Optional) Ensure the instance directory is removed during clean up when using# [*enable_qemu_monitor_announce_self*] # (Optional) If it is set to True the libvirt driver will try as a best effort to # send the announce-self command to the QEMU monitor so that it generates RARP frames # to update network switches in the post live migration phase on the destination. # Defaults to $::os_service_default # $never_download_image_if_on_rbd = $::os_service_default, $enable_qemu_monitor_announce_self = $::os_service_default, $enable_numa_live_migration = undef, 'workarounds/enable_qemu_monitor_announce_self': value => $enable_qemu_monitor_announce_self;","# (optional) refuse to boot an instance if it would require downloading from# (optional) Ensure the instance directory is removed during clean up when using $never_download_image_if_on_rbd = $::os_service_default, $enable_numa_live_migration = undef,",20,8
openstack%2Frally-openstack~master~If840fdd707ecc3dc3bc877a90cbbe8e91f3c9a80,openstack/rally-openstack,master,If840fdd707ecc3dc3bc877a90cbbe8e91f3c9a80,[ci] run unittests at py3.9 env,MERGED,2021-12-28 12:02:25.000000000,2022-01-20 18:06:34.000000000,2022-01-20 18:06:34.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-28 12:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0e612c1a882ab4e07718dcf1fe70f91123e22f75', 'message': '[ci] run unittests at py3.9 env\n\nChange-Id: If840fdd707ecc3dc3bc877a90cbbe8e91f3c9a80\n'}, {'number': 2, 'created': '2021-12-28 12:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/f9c7865ebf11240657226369b37190c845f038a6', 'message': '[ci] run unittests at py3.9 env\n\nChange-Id: If840fdd707ecc3dc3bc877a90cbbe8e91f3c9a80\n'}, {'number': 3, 'created': '2022-01-11 11:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/1a7f25f056ebcf3ed7ca6acade444bb1bb184728', 'message': '[ci] run unittests at py3.9 env\n\nChange-Id: If840fdd707ecc3dc3bc877a90cbbe8e91f3c9a80\n'}, {'number': 4, 'created': '2022-01-12 09:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/2076f868aeab2ebeb4b6743eec8f2e0dac5dd3c4', 'message': '[ci] run unittests at py3.9 env\n\nDepends-On: I6d181c6aa3568c05d2af9bf9f7bf975d7be32f0b\nChange-Id: If840fdd707ecc3dc3bc877a90cbbe8e91f3c9a80\n'}, {'number': 5, 'created': '2022-01-12 10:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ff30cb8c1f8cdf084887551e74a70a043ef9b321', 'message': '[ci] run unittests at py3.9 env\n\nChange-Id: If840fdd707ecc3dc3bc877a90cbbe8e91f3c9a80\n'}, {'number': 6, 'created': '2022-01-12 12:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6d138d8c4818b6b479ab8ad2592360e75abe10d3', 'message': '[ci] run unittests at py3.9 env\n\nChange-Id: If840fdd707ecc3dc3bc877a90cbbe8e91f3c9a80\n'}, {'number': 7, 'created': '2022-01-13 12:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/3dfa903efb9174288cb11dcff3146bfa4ff92bc6', 'message': '[ci] run unittests at py3.9 env\n\nChange-Id: If840fdd707ecc3dc3bc877a90cbbe8e91f3c9a80\n'}, {'number': 8, 'created': '2022-01-13 13:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/010642ce3d110538e9199011ed06dab41859d69f', 'message': '[ci] run unittests at py3.9 env\n\nChange-Id: If840fdd707ecc3dc3bc877a90cbbe8e91f3c9a80\n'}, {'number': 9, 'created': '2022-01-14 11:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/c16a268332d7c4fb0238bc6ea222c20a31713795', 'message': '[ci] run unittests at py3.9 env\n\nChange-Id: If840fdd707ecc3dc3bc877a90cbbe8e91f3c9a80\n'}, {'number': 10, 'created': '2022-01-14 14:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6b64b56f2c8b84e669ad3d61274c28600fe2007e', 'message': '[ci] run unittests at py3.9 env\n\nChange-Id: If840fdd707ecc3dc3bc877a90cbbe8e91f3c9a80\n'}, {'number': 11, 'created': '2022-01-17 10:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/a3b0f827c1249ff53f1196f2d65d4268b7f2ce50', 'message': '[ci] run unittests at py3.9 env\n\nChange-Id: If840fdd707ecc3dc3bc877a90cbbe8e91f3c9a80\n'}, {'number': 12, 'created': '2022-01-20 12:10:32.000000000', 'files': ['tests/ci/playbooks/tox-functional-env-run.yaml', '.zuul.d/zuul.yaml', 'tests/ci/playbooks/roles/tox-install/tasks/main.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6c48e16724f461e765fb9b7035937f1f1b93f03b', 'message': '[ci] run unittests at py3.9 env\n\n+ temporary turn off task-simple-job to unblock gates\n\nChange-Id: If840fdd707ecc3dc3bc877a90cbbe8e91f3c9a80\n'}]",4,823083,6c48e16724f461e765fb9b7035937f1f1b93f03b,33,2,12,9545,,,0,"[ci] run unittests at py3.9 env

+ temporary turn off task-simple-job to unblock gates

Change-Id: If840fdd707ecc3dc3bc877a90cbbe8e91f3c9a80
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/83/823083/6 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/zuul.yaml'],1,0e612c1a882ab4e07718dcf1fe70f91123e22f75,py39, - rally-tox-py39 - rally-tox-py39,,2,0
openstack%2Fbarbican~stable%2Ftrain~I59d11c5c9c32128ab9d71eaecdf46dd2d789a8d1,openstack/barbican,stable/train,I59d11c5c9c32128ab9d71eaecdf46dd2d789a8d1,Raise maximum allowed secret size,MERGED,2021-05-24 19:11:32.000000000,2022-01-20 17:57:48.000000000,2022-01-20 17:53:01.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-24 19:11:32.000000000', 'files': ['functionaltests/api/base.py', 'releasenotes/notes/increase-max-secret-size-da90164d8b328727.yaml', 'barbican/tests/api/controllers/test_secrets.py', 'barbican/common/config.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/a3fe87d85aa8fdfa0f46df0cdbaa96ccc1c57720', 'message': 'Raise maximum allowed secret size\n\nThe default maximum allowed size is too small for some certificates.\nThis patch doubles the allowed size from 10Kb to 20Kb, and raises the\nmaximum request size by the same amount.\n\nChange-Id: I59d11c5c9c32128ab9d71eaecdf46dd2d789a8d1\n(cherry picked from commit c59f2a6bbb83308de1598cebdc82197f2a148c6b)\n(cherry picked from commit bac7d2205a87438c8d24ef0497beb58fe36d0521)\n(cherry picked from commit c06b1b250fd643c31255b141d517698cd1f3231c)\n(cherry picked from commit e22c01ee20976adb7951cd2beb749a8b182b0e9a)\n'}]",2,792847,a3fe87d85aa8fdfa0f46df0cdbaa96ccc1c57720,14,2,1,7973,,,0,"Raise maximum allowed secret size

The default maximum allowed size is too small for some certificates.
This patch doubles the allowed size from 10Kb to 20Kb, and raises the
maximum request size by the same amount.

Change-Id: I59d11c5c9c32128ab9d71eaecdf46dd2d789a8d1
(cherry picked from commit c59f2a6bbb83308de1598cebdc82197f2a148c6b)
(cherry picked from commit bac7d2205a87438c8d24ef0497beb58fe36d0521)
(cherry picked from commit c06b1b250fd643c31255b141d517698cd1f3231c)
(cherry picked from commit e22c01ee20976adb7951cd2beb749a8b182b0e9a)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/47/792847/1 && git format-patch -1 --stdout FETCH_HEAD,"['functionaltests/api/base.py', 'releasenotes/notes/increase-max-secret-size-da90164d8b328727.yaml', 'barbican/tests/api/controllers/test_secrets.py', 'barbican/common/config.py']",4,a3fe87d85aa8fdfa0f46df0cdbaa96ccc1c57720,max-secret-size,MAX_BYTES_REQUEST_INPUT_ACCEPTED = 25000 DEFAULT_MAX_SECRET_BYTES = 20000,MAX_BYTES_REQUEST_INPUT_ACCEPTED = 15000 DEFAULT_MAX_SECRET_BYTES = 10000,9,4
openstack%2Fmagnum~master~I39ca6e889af922fcbff135ef2b71df6fcd644fb5,openstack/magnum,master,I39ca6e889af922fcbff135ef2b71df6fcd644fb5,Add Python3 yoga unit tests,MERGED,2020-09-21 22:31:42.000000000,2022-01-20 17:56:49.000000000,2022-01-20 17:46:46.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-09-21 22:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/81f86ad8b11e67a1f5ecf2cf0a02555ba2961689', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I39ca6e889af922fcbff135ef2b71df6fcd644fb5\n'}, {'number': 2, 'created': '2022-01-14 11:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8cb157d125a5ed9af9bb4d7581e763bd3bcceeb9', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I39ca6e889af922fcbff135ef2b71df6fcd644fb5\n'}, {'number': 3, 'created': '2022-01-20 15:44:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/9e200806a73b7d18f9cbba87552dc35d885c4e89', 'message': 'Add Python3 yoga unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I39ca6e889af922fcbff135ef2b71df6fcd644fb5\n'}]",1,753178,9e200806a73b7d18f9cbba87552dc35d885c4e89,16,3,3,22816,,,0,"Add Python3 yoga unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I39ca6e889af922fcbff135ef2b71df6fcd644fb5
",git fetch https://review.opendev.org/openstack/magnum refs/changes/78/753178/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,81f86ad8b11e67a1f5ecf2cf0a02555ba2961689,add-wallaby-python-jobtemplates, - openstack-python3-wallaby-jobs, - openstack-python3-victoria-jobs,1,1
openstack%2Ftripleo-validations~stable%2Ftrain~I6852fe440c62348fcf795dda44403a3ec68a7e19,openstack/tripleo-validations,stable/train,I6852fe440c62348fcf795dda44403a3ec68a7e19,fix(molecule): Add ability to run molecule on Fedora,MERGED,2022-01-19 09:46:48.000000000,2022-01-20 17:41:48.000000000,2022-01-20 17:38:04.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-19 09:46:48.000000000', 'files': ['bindep.txt', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/27f530dcf24cbe1c491070fcc3ed7617b8343ed2', 'message': ""fix(molecule): Add ability to run molecule on Fedora\n\nThis patch adds the support for running the molecule tests on Fedora through\nthe molecule command. This patch also updates the developer's guide with\nall the instructions to do so.\n\nJIRA: #VALFRWK-703\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I6852fe440c62348fcf795dda44403a3ec68a7e19\n(cherry picked from commit 17c3c907b7c4d605a1022491ee0a52c1b3c55734)\n(cherry picked from commit be873a116c53dab2aa3582515987e48cf371a8dc)\n(cherry picked from commit 95a0c41afddcaf2003d020d9b5f199651d9b93d1)\n(cherry picked from commit 36b67f961f94ad867e0876a4455d3bd6da1a9c5a)\n""}]",0,825288,27f530dcf24cbe1c491070fcc3ed7617b8343ed2,7,5,1,11491,,,0,"fix(molecule): Add ability to run molecule on Fedora

This patch adds the support for running the molecule tests on Fedora through
the molecule command. This patch also updates the developer's guide with
all the instructions to do so.

JIRA: #VALFRWK-703

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I6852fe440c62348fcf795dda44403a3ec68a7e19
(cherry picked from commit 17c3c907b7c4d605a1022491ee0a52c1b3c55734)
(cherry picked from commit be873a116c53dab2aa3582515987e48cf371a8dc)
(cherry picked from commit 95a0c41afddcaf2003d020d9b5f199651d9b93d1)
(cherry picked from commit 36b67f961f94ad867e0876a4455d3bd6da1a9c5a)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/88/825288/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'doc/source/contributing/developer_guide.rst']",2,27f530dcf24cbe1c491070fcc3ed7617b8343ed2,," Running molecule tests manually ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Each molecule tests are configured to bind mount a read-only volume on the container where the tests are running: .. code-block:: yaml volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro It is an OpenStack Zuul requirement for detecting if we are on a CI node. Of course, when running your molecule test on your workstation, it is going to fail because you don't have the empty `mirror_info.sh` script in the `/etc/ci/` directory. You can workaround this by creating it in your workstation or removing the volume key in the global configuration file for molecule. .. code-block:: console $ sudo mkdir -p /etc/ci $ sudo touch /etc/ci/mirror_info.sh $ sudo dnf install python3 python3-virtualenv $ python3 -m virtualenv --system-site-packages ""${HOME}/test-python"" $ source ""${HOME}/test-python/bin/activate"" (test-python) $ python3 -m pip install ""pip>=19.1.1"" setuptools bindep --upgrade (test-python) $ scripts/./bindep-install (test-python) $ python3 -m pip install -r requirements.txt \ -r test-requirements.txt \ -r molecule-requirements.txt (test-python) $ ansible-galaxy install -fr ansible-collections-requirements.txt.. note:: `validation-common` contains Ansible Custom modules needed by `tripleo-validations` roles. That's the reason why we will need to clone it beforehand. Cloning `tripleo-ansible` project is only necessary in order to run the `molecule` test(s) for the `image_serve` role. Otherwise, you won't probably need it. $ for REPO in validations-common tripleo-ansible; do git clone https://opendev.org/openstack/${REPO} roles/roles.galaxy/${REPO}; done (test-python) $ source ansible-test-env.rc (test-python) $ cd roles/${NEWROLENAME}/"," Some roles depend on some packages which are available only through the EPEL repositories. So, please ensure you have installed them on your CentOS 8 host before running molecule tests. $ python -m virtualenv --system-site-packages ""${HOME}/test-python"" $ ${HOME}/test-python/bin/pip install -r requirements.txt \ -r test-requirements.txt \ -r molecule-requirements.txt $ source ${HOME}/test-python/bin/activate $ for REPO in validations-common tripleo-ansible; do git clone https://opendev.org/openstack/${REPO} roles/roles.galaxy/${REPO} done (test-python) $ cd tripleo-validations/roles/${NEWROLENAME}/",58,29
openstack%2Fpuppet-openstack-integration~master~I567f626d652baf71c00bab69acf85666c7ce0658,openstack/puppet-openstack-integration,master,I567f626d652baf71c00bab69acf85666c7ce0658,Do not set deprecated tempest::keystone_v2,MERGED,2022-01-19 05:40:25.000000000,2022-01-20 17:27:57.000000000,2022-01-20 17:27:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 05:40:25.000000000', 'files': ['manifests/tempest.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b0dcd5238c25648e909fdca01d96ba8a811f343e', 'message': 'Do not set deprecated tempest::keystone_v2\n\nDepends-on: https://review.opendev.org/824815\nChange-Id: I567f626d652baf71c00bab69acf85666c7ce0658\n'}]",0,825256,b0dcd5238c25648e909fdca01d96ba8a811f343e,7,3,1,9816,,,0,"Do not set deprecated tempest::keystone_v2

Depends-on: https://review.opendev.org/824815
Change-Id: I567f626d652baf71c00bab69acf85666c7ce0658
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/56/825256/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/tempest.pp'],1,b0dcd5238c25648e909fdca01d96ba8a811f343e,,," keystone_v2 => false,",0,1
openstack%2Ftripleo-validations~stable%2Fussuri~I6852fe440c62348fcf795dda44403a3ec68a7e19,openstack/tripleo-validations,stable/ussuri,I6852fe440c62348fcf795dda44403a3ec68a7e19,fix(molecule): Add ability to run molecule on Fedora,MERGED,2022-01-19 09:44:14.000000000,2022-01-20 17:27:38.000000000,2022-01-20 17:24:05.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-19 09:44:14.000000000', 'files': ['bindep.txt', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/36b67f961f94ad867e0876a4455d3bd6da1a9c5a', 'message': ""fix(molecule): Add ability to run molecule on Fedora\n\nThis patch adds the support for running the molecule tests on Fedora through\nthe molecule command. This patch also updates the developer's guide with\nall the instructions to do so.\n\nJIRA: #VALFRWK-703\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I6852fe440c62348fcf795dda44403a3ec68a7e19\n(cherry picked from commit 17c3c907b7c4d605a1022491ee0a52c1b3c55734)\n(cherry picked from commit be873a116c53dab2aa3582515987e48cf371a8dc)\n(cherry picked from commit 95a0c41afddcaf2003d020d9b5f199651d9b93d1)\n""}]",0,825285,36b67f961f94ad867e0876a4455d3bd6da1a9c5a,7,5,1,11491,,,0,"fix(molecule): Add ability to run molecule on Fedora

This patch adds the support for running the molecule tests on Fedora through
the molecule command. This patch also updates the developer's guide with
all the instructions to do so.

JIRA: #VALFRWK-703

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I6852fe440c62348fcf795dda44403a3ec68a7e19
(cherry picked from commit 17c3c907b7c4d605a1022491ee0a52c1b3c55734)
(cherry picked from commit be873a116c53dab2aa3582515987e48cf371a8dc)
(cherry picked from commit 95a0c41afddcaf2003d020d9b5f199651d9b93d1)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/85/825285/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'doc/source/contributing/developer_guide.rst']",2,36b67f961f94ad867e0876a4455d3bd6da1a9c5a,," Running molecule tests manually ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Each molecule tests are configured to bind mount a read-only volume on the container where the tests are running: .. code-block:: yaml volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro It is an OpenStack Zuul requirement for detecting if we are on a CI node. Of course, when running your molecule test on your workstation, it is going to fail because you don't have the empty `mirror_info.sh` script in the `/etc/ci/` directory. You can workaround this by creating it in your workstation or removing the volume key in the global configuration file for molecule. .. code-block:: console $ sudo mkdir -p /etc/ci $ sudo touch /etc/ci/mirror_info.sh $ sudo dnf install python3 python3-virtualenv $ python3 -m virtualenv --system-site-packages ""${HOME}/test-python"" $ source ""${HOME}/test-python/bin/activate"" (test-python) $ python3 -m pip install ""pip>=19.1.1"" setuptools bindep --upgrade (test-python) $ scripts/./bindep-install (test-python) $ python3 -m pip install -r requirements.txt \ -r test-requirements.txt \ -r molecule-requirements.txt (test-python) $ ansible-galaxy install -fr ansible-collections-requirements.txt.. note:: `validation-common` contains Ansible Custom modules needed by `tripleo-validations` roles. That's the reason why we will need to clone it beforehand. Cloning `tripleo-ansible` project is only necessary in order to run the `molecule` test(s) for the `image_serve` role. Otherwise, you won't probably need it. $ for REPO in validations-common tripleo-ansible; do git clone https://opendev.org/openstack/${REPO} roles/roles.galaxy/${REPO}; done (test-python) $ source ansible-test-env.rc (test-python) $ cd roles/${NEWROLENAME}/"," Some roles depend on some packages which are available only through the EPEL repositories. So, please ensure you have installed them on your CentOS 8 host before running molecule tests. $ python -m virtualenv --system-site-packages ""${HOME}/test-python"" $ ${HOME}/test-python/bin/pip install -r requirements.txt \ -r test-requirements.txt \ -r molecule-requirements.txt $ source ${HOME}/test-python/bin/activate $ for REPO in validations-common tripleo-ansible; do git clone https://opendev.org/openstack/${REPO} roles/roles.galaxy/${REPO} done (test-python) $ cd tripleo-validations/roles/${NEWROLENAME}/",58,29
openstack%2Ftripleo-validations~stable%2Fvictoria~I6852fe440c62348fcf795dda44403a3ec68a7e19,openstack/tripleo-validations,stable/victoria,I6852fe440c62348fcf795dda44403a3ec68a7e19,fix(molecule): Add ability to run molecule on Fedora,MERGED,2022-01-19 09:42:34.000000000,2022-01-20 17:18:15.000000000,2022-01-20 17:14:49.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-19 09:42:34.000000000', 'files': ['bindep.txt', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/95a0c41afddcaf2003d020d9b5f199651d9b93d1', 'message': ""fix(molecule): Add ability to run molecule on Fedora\n\nThis patch adds the support for running the molecule tests on Fedora through\nthe molecule command. This patch also updates the developer's guide with\nall the instructions to do so.\n\nJIRA: #VALFRWK-703\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I6852fe440c62348fcf795dda44403a3ec68a7e19\n(cherry picked from commit 17c3c907b7c4d605a1022491ee0a52c1b3c55734)\n(cherry picked from commit be873a116c53dab2aa3582515987e48cf371a8dc)\n""}]",0,825283,95a0c41afddcaf2003d020d9b5f199651d9b93d1,7,5,1,11491,,,0,"fix(molecule): Add ability to run molecule on Fedora

This patch adds the support for running the molecule tests on Fedora through
the molecule command. This patch also updates the developer's guide with
all the instructions to do so.

JIRA: #VALFRWK-703

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I6852fe440c62348fcf795dda44403a3ec68a7e19
(cherry picked from commit 17c3c907b7c4d605a1022491ee0a52c1b3c55734)
(cherry picked from commit be873a116c53dab2aa3582515987e48cf371a8dc)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/83/825283/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'doc/source/contributing/developer_guide.rst']",2,95a0c41afddcaf2003d020d9b5f199651d9b93d1,," Running molecule tests manually ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Each molecule tests are configured to bind mount a read-only volume on the container where the tests are running: .. code-block:: yaml volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro It is an OpenStack Zuul requirement for detecting if we are on a CI node. Of course, when running your molecule test on your workstation, it is going to fail because you don't have the empty `mirror_info.sh` script in the `/etc/ci/` directory. You can workaround this by creating it in your workstation or removing the volume key in the global configuration file for molecule. .. code-block:: console $ sudo mkdir -p /etc/ci $ sudo touch /etc/ci/mirror_info.sh $ sudo dnf install python3 python3-virtualenv $ python3 -m virtualenv --system-site-packages ""${HOME}/test-python"" $ source ""${HOME}/test-python/bin/activate"" (test-python) $ python3 -m pip install ""pip>=19.1.1"" setuptools bindep --upgrade (test-python) $ scripts/./bindep-install (test-python) $ python3 -m pip install -r requirements.txt \ -r test-requirements.txt \ -r molecule-requirements.txt (test-python) $ ansible-galaxy install -fr ansible-collections-requirements.txt.. note:: `validation-common` contains Ansible Custom modules needed by `tripleo-validations` roles. That's the reason why we will need to clone it beforehand. Cloning `tripleo-ansible` project is only necessary in order to run the `molecule` test(s) for the `image_serve` role. Otherwise, you won't probably need it. $ for REPO in validations-common tripleo-ansible; do git clone https://opendev.org/openstack/${REPO} roles/roles.galaxy/${REPO}; done (test-python) $ source ansible-test-env.rc (test-python) $ cd roles/${NEWROLENAME}/"," Some roles depend on some packages which are available only through the EPEL repositories. So, please ensure you have installed them on your CentOS 8 host before running molecule tests. $ python -m virtualenv --system-site-packages ""${HOME}/test-python"" $ ${HOME}/test-python/bin/pip install -r requirements.txt \ -r test-requirements.txt \ -r molecule-requirements.txt $ source ${HOME}/test-python/bin/activate $ for REPO in validations-common tripleo-ansible; do git clone https://opendev.org/openstack/${REPO} roles/roles.galaxy/${REPO} done (test-python) $ cd tripleo-validations/roles/${NEWROLENAME}/",58,29
openstack%2Ftripleo-validations~stable%2Fwallaby~I6852fe440c62348fcf795dda44403a3ec68a7e19,openstack/tripleo-validations,stable/wallaby,I6852fe440c62348fcf795dda44403a3ec68a7e19,fix(molecule): Add ability to run molecule on Fedora,MERGED,2022-01-19 09:37:46.000000000,2022-01-20 17:18:14.000000000,2022-01-20 17:14:47.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-19 09:37:46.000000000', 'files': ['bindep.txt', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/be873a116c53dab2aa3582515987e48cf371a8dc', 'message': ""fix(molecule): Add ability to run molecule on Fedora\n\nThis patch adds the support for running the molecule tests on Fedora through\nthe molecule command. This patch also updates the developer's guide with\nall the instructions to do so.\n\nJIRA: #VALFRWK-703\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I6852fe440c62348fcf795dda44403a3ec68a7e19\n(cherry picked from commit 17c3c907b7c4d605a1022491ee0a52c1b3c55734)\n""}]",1,825281,be873a116c53dab2aa3582515987e48cf371a8dc,9,5,1,11491,,,0,"fix(molecule): Add ability to run molecule on Fedora

This patch adds the support for running the molecule tests on Fedora through
the molecule command. This patch also updates the developer's guide with
all the instructions to do so.

JIRA: #VALFRWK-703

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I6852fe440c62348fcf795dda44403a3ec68a7e19
(cherry picked from commit 17c3c907b7c4d605a1022491ee0a52c1b3c55734)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/81/825281/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'doc/source/contributing/developer_guide.rst']",2,be873a116c53dab2aa3582515987e48cf371a8dc,," Running molecule tests manually ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Each molecule tests are configured to bind mount a read-only volume on the container where the tests are running: .. code-block:: yaml volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro It is an OpenStack Zuul requirement for detecting if we are on a CI node. Of course, when running your molecule test on your workstation, it is going to fail because you don't have the empty `mirror_info.sh` script in the `/etc/ci/` directory. You can workaround this by creating it in your workstation or removing the volume key in the global configuration file for molecule. .. code-block:: console $ sudo mkdir -p /etc/ci $ sudo touch /etc/ci/mirror_info.sh $ sudo dnf install python3 python3-virtualenv $ python3 -m virtualenv --system-site-packages ""${HOME}/test-python"" $ source ""${HOME}/test-python/bin/activate"" (test-python) $ python3 -m pip install ""pip>=19.1.1"" setuptools bindep --upgrade (test-python) $ scripts/./bindep-install (test-python) $ python3 -m pip install -r requirements.txt \ -r test-requirements.txt \ -r molecule-requirements.txt (test-python) $ ansible-galaxy install -fr ansible-collections-requirements.txt.. note:: `validation-common` contains Ansible Custom modules needed by `tripleo-validations` roles. That's the reason why we will need to clone it beforehand. Cloning `tripleo-ansible` project is only necessary in order to run the `molecule` test(s) for the `image_serve` role. Otherwise, you won't probably need it. $ for REPO in validations-common tripleo-ansible; do git clone https://opendev.org/openstack/${REPO} roles/roles.galaxy/${REPO}; done (test-python) $ source ansible-test-env.rc (test-python) $ cd roles/${NEWROLENAME}/"," Some roles depend on some packages which are available only through the EPEL repositories. So, please ensure you have installed them on your CentOS 8 host before running molecule tests. $ python -m virtualenv --system-site-packages ""${HOME}/test-python"" $ ${HOME}/test-python/bin/pip install -r requirements.txt \ -r test-requirements.txt \ -r molecule-requirements.txt $ source ${HOME}/test-python/bin/activate $ for REPO in validations-common tripleo-ansible; do git clone https://opendev.org/openstack/${REPO} roles/roles.galaxy/${REPO} done (test-python) $ cd tripleo-validations/roles/${NEWROLENAME}/",58,28
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Focata~Id94e77c6744bac852e9a991e9a1e31f47da26a9f,openstack/openstack-ansible-lxc_container_create,stable/ocata,Id94e77c6744bac852e9a991e9a1e31f47da26a9f,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:28:55.000000000,2022-01-20 17:15:21.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:28:55.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/932be0aed1eda16334e63a07cdfdb34dfa48bab0', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: Id94e77c6744bac852e9a991e9a1e31f47da26a9f\n'}]",0,825562,932be0aed1eda16334e63a07cdfdb34dfa48bab0,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: Id94e77c6744bac852e9a991e9a1e31f47da26a9f
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/62/825562/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,932be0aed1eda16334e63a07cdfdb34dfa48bab0,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-apt_package_pinning~stable%2Focata~Id466323568d5fc97dc0a726d303c4f75409e87b2,openstack/openstack-ansible-apt_package_pinning,stable/ocata,Id466323568d5fc97dc0a726d303c4f75409e87b2,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:26:46.000000000,2022-01-20 17:15:00.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:26:46.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/d6c370d3e6b1e48f8cc0654f389530a6dc8e4594', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: Id466323568d5fc97dc0a726d303c4f75409e87b2\n'}]",0,825548,d6c370d3e6b1e48f8cc0654f389530a6dc8e4594,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: Id466323568d5fc97dc0a726d303c4f75409e87b2
",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/48/825548/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d6c370d3e6b1e48f8cc0654f389530a6dc8e4594,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Frequirements~master~I5918d56492a4b915e63a586f31dc139b8deec01c,openstack/requirements,master,I5918d56492a4b915e63a586f31dc139b8deec01c,update constraint for ovsdbapp to new release 1.15.0,MERGED,2022-01-20 09:46:27.000000000,2022-01-20 17:14:54.000000000,2022-01-20 17:05:43.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-20 09:46:27.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dc867d77b5e34265f78498e7fbc846596f384d61', 'message': 'update constraint for ovsdbapp to new release 1.15.0\n\nmeta: version: 1.15.0\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Change-Id: I509a746537b82db9d84d42d25e1ebc4e0f9a1f08\nmeta: release:Code-Review+1: Terry Wilson <twilson@redhat.com>\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I5918d56492a4b915e63a586f31dc139b8deec01c\n'}]",0,825445,dc867d77b5e34265f78498e7fbc846596f384d61,8,2,1,11131,,,0,"update constraint for ovsdbapp to new release 1.15.0

meta: version: 1.15.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Change-Id: I509a746537b82db9d84d42d25e1ebc4e0f9a1f08
meta: release:Code-Review+1: Terry Wilson <twilson@redhat.com>
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I5918d56492a4b915e63a586f31dc139b8deec01c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/45/825445/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,dc867d77b5e34265f78498e7fbc846596f384d61,new-release,ovsdbapp===1.15.0,ovsdbapp===1.14.0,1,1
openstack%2Fopenstack-ansible-apt_package_pinning~stable%2Focata~I0efb965422f299dfb78cee08b767da29bcc28e73,openstack/openstack-ansible-apt_package_pinning,stable/ocata,I0efb965422f299dfb78cee08b767da29bcc28e73,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:26:49.000000000,2022-01-20 17:14:52.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:26:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/b87606175056f66f3e6448274243be637742801c', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I0efb965422f299dfb78cee08b767da29bcc28e73\n'}]",0,825549,b87606175056f66f3e6448274243be637742801c,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I0efb965422f299dfb78cee08b767da29bcc28e73
",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/49/825549/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b87606175056f66f3e6448274243be637742801c,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-galera_client~stable%2Focata~Idfeba6ac73e375180142035f004fc2a98d18d4d1,openstack/openstack-ansible-galera_client,stable/ocata,Idfeba6ac73e375180142035f004fc2a98d18d4d1,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:27:20.000000000,2022-01-20 17:14:44.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:27:20.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/5781a49fb107d95b57e1e2ca50dda257798c1c58', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: Idfeba6ac73e375180142035f004fc2a98d18d4d1\n'}]",0,825551,5781a49fb107d95b57e1e2ca50dda257798c1c58,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: Idfeba6ac73e375180142035f004fc2a98d18d4d1
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/51/825551/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5781a49fb107d95b57e1e2ca50dda257798c1c58,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-galera_client~stable%2Focata~I79d48893acc8c4106cb0a33ce366b9adbb76142b,openstack/openstack-ansible-galera_client,stable/ocata,I79d48893acc8c4106cb0a33ce366b9adbb76142b,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:27:24.000000000,2022-01-20 17:14:38.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:27:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/9922df62e4017d7df2ac016110d318a6e9b634be', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I79d48893acc8c4106cb0a33ce366b9adbb76142b\n'}]",0,825552,9922df62e4017d7df2ac016110d318a6e9b634be,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I79d48893acc8c4106cb0a33ce366b9adbb76142b
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/52/825552/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9922df62e4017d7df2ac016110d318a6e9b634be,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-galera_server~stable%2Focata~I167a57eaf54e4fb609c7be2acb33d939ab99190b,openstack/openstack-ansible-galera_server,stable/ocata,I167a57eaf54e4fb609c7be2acb33d939ab99190b,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:27:37.000000000,2022-01-20 17:14:31.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:27:37.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/a85918f5ccad897fc7b1c8056b13e28367e6dd5a', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I167a57eaf54e4fb609c7be2acb33d939ab99190b\n'}]",0,825553,a85918f5ccad897fc7b1c8056b13e28367e6dd5a,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I167a57eaf54e4fb609c7be2acb33d939ab99190b
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/53/825553/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,a85918f5ccad897fc7b1c8056b13e28367e6dd5a,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-galera_server~stable%2Focata~I084d60ebf38a4953de26901e7eb9eac1ce879454,openstack/openstack-ansible-galera_server,stable/ocata,I084d60ebf38a4953de26901e7eb9eac1ce879454,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:27:41.000000000,2022-01-20 17:14:26.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:27:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/afad83e6f476f35ddb3db4fa17f19fce0145bfd7', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I084d60ebf38a4953de26901e7eb9eac1ce879454\n'}]",0,825554,afad83e6f476f35ddb3db4fa17f19fce0145bfd7,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I084d60ebf38a4953de26901e7eb9eac1ce879454
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/54/825554/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,afad83e6f476f35ddb3db4fa17f19fce0145bfd7,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-ceph_client~stable%2Focata~Id778ccb23600257127901a5316ab90e95c6979da,openstack/openstack-ansible-ceph_client,stable/ocata,Id778ccb23600257127901a5316ab90e95c6979da,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:28:06.000000000,2022-01-20 17:14:16.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:28:06.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/4061b9f126ec1e7e561c216ce64089cea1b608f6', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: Id778ccb23600257127901a5316ab90e95c6979da\n'}]",0,825556,4061b9f126ec1e7e561c216ce64089cea1b608f6,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: Id778ccb23600257127901a5316ab90e95c6979da
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/56/825556/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,4061b9f126ec1e7e561c216ce64089cea1b608f6,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-ceph_client~stable%2Focata~I5f51f2884608b0c59dc6d68f3a5e7c128d9061e8,openstack/openstack-ansible-ceph_client,stable/ocata,I5f51f2884608b0c59dc6d68f3a5e7c128d9061e8,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:28:13.000000000,2022-01-20 17:13:55.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:28:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/f765be37acab9a53c9a9b0524b8aab097bc3d172', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I5f51f2884608b0c59dc6d68f3a5e7c128d9061e8\n'}]",0,825557,f765be37acab9a53c9a9b0524b8aab097bc3d172,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I5f51f2884608b0c59dc6d68f3a5e7c128d9061e8
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/57/825557/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f765be37acab9a53c9a9b0524b8aab097bc3d172,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-haproxy_server~stable%2Focata~I3e49fd99ae82c644752f4d4bbbb1c98ada4b202f,openstack/openstack-ansible-haproxy_server,stable/ocata,I3e49fd99ae82c644752f4d4bbbb1c98ada4b202f,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:28:32.000000000,2022-01-20 17:13:48.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:28:32.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/ec7c97865eebae7629e5ea07649d40219d7af65c', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I3e49fd99ae82c644752f4d4bbbb1c98ada4b202f\n'}]",0,825559,ec7c97865eebae7629e5ea07649d40219d7af65c,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I3e49fd99ae82c644752f4d4bbbb1c98ada4b202f
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/59/825559/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ec7c97865eebae7629e5ea07649d40219d7af65c,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-haproxy_server~stable%2Focata~Ib8cb152977672ee7dd154d5955b30ba4361b5e3c,openstack/openstack-ansible-haproxy_server,stable/ocata,Ib8cb152977672ee7dd154d5955b30ba4361b5e3c,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:28:35.000000000,2022-01-20 17:13:42.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:28:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/ba29acf802ec55a5e01e01c6551b6f465b5ee405', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ib8cb152977672ee7dd154d5955b30ba4361b5e3c\n'}]",0,825560,ba29acf802ec55a5e01e01c6551b6f465b5ee405,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ib8cb152977672ee7dd154d5955b30ba4361b5e3c
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/60/825560/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ba29acf802ec55a5e01e01c6551b6f465b5ee405,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Focata~I0d5b9266c0667282f4edc9b59363aabd1ae0ef49,openstack/openstack-ansible-lxc_container_create,stable/ocata,I0d5b9266c0667282f4edc9b59363aabd1ae0ef49,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:28:58.000000000,2022-01-20 17:13:36.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:28:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/34912e8f24962ba6094f3a550b07fe45277735b1', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I0d5b9266c0667282f4edc9b59363aabd1ae0ef49\n'}]",0,825563,34912e8f24962ba6094f3a550b07fe45277735b1,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I0d5b9266c0667282f4edc9b59363aabd1ae0ef49
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/63/825563/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,34912e8f24962ba6094f3a550b07fe45277735b1,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Focata~I2fbf152fc7f598818536741d183bea66b1bc8af1,openstack/openstack-ansible-lxc_hosts,stable/ocata,I2fbf152fc7f598818536741d183bea66b1bc8af1,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:29:25.000000000,2022-01-20 17:13:26.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:29:25.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/156d54d7103ce96cc6cfd4f45f0a674433e45925', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I2fbf152fc7f598818536741d183bea66b1bc8af1\n'}]",0,825565,156d54d7103ce96cc6cfd4f45f0a674433e45925,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I2fbf152fc7f598818536741d183bea66b1bc8af1
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/65/825565/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,156d54d7103ce96cc6cfd4f45f0a674433e45925,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Focata~I9569be5623f685174c1e7ff2e565abebe79a8ddb,openstack/openstack-ansible-lxc_hosts,stable/ocata,I9569be5623f685174c1e7ff2e565abebe79a8ddb,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:29:35.000000000,2022-01-20 17:13:20.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:29:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/1f5c5e92922677a683bcb6a507ed55109da9f44d', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I9569be5623f685174c1e7ff2e565abebe79a8ddb\n'}]",0,825566,1f5c5e92922677a683bcb6a507ed55109da9f44d,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I9569be5623f685174c1e7ff2e565abebe79a8ddb
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/66/825566/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1f5c5e92922677a683bcb6a507ed55109da9f44d,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-memcached_server~stable%2Focata~I5c1d9c89301ca444123835f69ab62341523feda7,openstack/openstack-ansible-memcached_server,stable/ocata,I5c1d9c89301ca444123835f69ab62341523feda7,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:29:57.000000000,2022-01-20 17:13:13.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:29:57.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/836f3e32116370904d84a3e0e358273f34918c84', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I5c1d9c89301ca444123835f69ab62341523feda7\n'}]",0,825568,836f3e32116370904d84a3e0e358273f34918c84,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I5c1d9c89301ca444123835f69ab62341523feda7
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/68/825568/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,836f3e32116370904d84a3e0e358273f34918c84,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-memcached_server~stable%2Focata~I9a8f3455f7e9f17b3a20659e7e4b35f0778ac149,openstack/openstack-ansible-memcached_server,stable/ocata,I9a8f3455f7e9f17b3a20659e7e4b35f0778ac149,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:30:01.000000000,2022-01-20 17:13:01.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:30:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/f90dcb4465416ac9c4986da6c934988255e5d482', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I9a8f3455f7e9f17b3a20659e7e4b35f0778ac149\n'}]",0,825569,f90dcb4465416ac9c4986da6c934988255e5d482,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I9a8f3455f7e9f17b3a20659e7e4b35f0778ac149
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/69/825569/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f90dcb4465416ac9c4986da6c934988255e5d482,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Focata~I7e67b58360f6c90d0964e2fe4e961047e0dd15ba,openstack/openstack-ansible-openstack_hosts,stable/ocata,I7e67b58360f6c90d0964e2fe4e961047e0dd15ba,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:30:20.000000000,2022-01-20 17:12:55.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:30:20.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/8f4bed54dbdc57b348db03fa55b0f908dddc8c7f', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I7e67b58360f6c90d0964e2fe4e961047e0dd15ba\n'}]",0,825571,8f4bed54dbdc57b348db03fa55b0f908dddc8c7f,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I7e67b58360f6c90d0964e2fe4e961047e0dd15ba
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/71/825571/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8f4bed54dbdc57b348db03fa55b0f908dddc8c7f,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Focata~I69b61a2890ac91731a69981a894a9528c1962914,openstack/openstack-ansible-openstack_hosts,stable/ocata,I69b61a2890ac91731a69981a894a9528c1962914,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:30:24.000000000,2022-01-20 17:12:36.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:30:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/24cb7cbe2a07cc37ef87435f1ad6e2c637a50648', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I69b61a2890ac91731a69981a894a9528c1962914\n'}]",0,825572,24cb7cbe2a07cc37ef87435f1ad6e2c637a50648,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I69b61a2890ac91731a69981a894a9528c1962914
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/72/825572/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,24cb7cbe2a07cc37ef87435f1ad6e2c637a50648,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_keystone~stable%2Focata~I934982e1d1130f36947c8785d3866d57c3dff671,openstack/openstack-ansible-os_keystone,stable/ocata,I934982e1d1130f36947c8785d3866d57c3dff671,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:30:44.000000000,2022-01-20 17:12:04.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:30:44.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/018f81e3409d40bb9b835c3eb898ffe803e30b96', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I934982e1d1130f36947c8785d3866d57c3dff671\n'}]",0,825574,018f81e3409d40bb9b835c3eb898ffe803e30b96,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I934982e1d1130f36947c8785d3866d57c3dff671
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/74/825574/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,018f81e3409d40bb9b835c3eb898ffe803e30b96,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-os_keystone~stable%2Focata~I9f21693479fc37aab3a6277475ebafb9b39da7d2,openstack/openstack-ansible-os_keystone,stable/ocata,I9f21693479fc37aab3a6277475ebafb9b39da7d2,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:30:47.000000000,2022-01-20 17:11:56.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:30:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/6f354eb1084632a199b404664a46653dce8589d4', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I9f21693479fc37aab3a6277475ebafb9b39da7d2\n'}]",0,825575,6f354eb1084632a199b404664a46653dce8589d4,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I9f21693479fc37aab3a6277475ebafb9b39da7d2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/75/825575/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6f354eb1084632a199b404664a46653dce8589d4,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-openstack_openrc~stable%2Focata~Iadc020a7f125602a76f85ce4b10a585ae9ec6d31,openstack/openstack-ansible-openstack_openrc,stable/ocata,Iadc020a7f125602a76f85ce4b10a585ae9ec6d31,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:31:06.000000000,2022-01-20 17:11:50.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:31:06.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/04e46b0124914d39215ebabaf7abe6d0895c6759', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: Iadc020a7f125602a76f85ce4b10a585ae9ec6d31\n'}]",0,825577,04e46b0124914d39215ebabaf7abe6d0895c6759,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: Iadc020a7f125602a76f85ce4b10a585ae9ec6d31
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/77/825577/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,04e46b0124914d39215ebabaf7abe6d0895c6759,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-openstack_openrc~stable%2Focata~If72a2c3d61db562c2bda2c487502fd2e6f16a87d,openstack/openstack-ansible-openstack_openrc,stable/ocata,If72a2c3d61db562c2bda2c487502fd2e6f16a87d,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:31:09.000000000,2022-01-20 17:11:43.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:31:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/d1a5b49614d215510564a3b41deeab794bccccae', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: If72a2c3d61db562c2bda2c487502fd2e6f16a87d\n'}]",0,825578,d1a5b49614d215510564a3b41deeab794bccccae,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: If72a2c3d61db562c2bda2c487502fd2e6f16a87d
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/78/825578/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d1a5b49614d215510564a3b41deeab794bccccae,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_aodh~stable%2Focata~I80518994deb7989a29467de6b41ad6da20bb21b7,openstack/openstack-ansible-os_aodh,stable/ocata,I80518994deb7989a29467de6b41ad6da20bb21b7,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:31:38.000000000,2022-01-20 17:11:27.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:31:38.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/e740cc32adb3f34c9425f20dbef4a6cab5e198fa', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I80518994deb7989a29467de6b41ad6da20bb21b7\n'}]",0,825580,e740cc32adb3f34c9425f20dbef4a6cab5e198fa,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I80518994deb7989a29467de6b41ad6da20bb21b7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/80/825580/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e740cc32adb3f34c9425f20dbef4a6cab5e198fa,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-os_aodh~stable%2Focata~I1a5e43a1868c402a0a637a8911225abe23eeb97d,openstack/openstack-ansible-os_aodh,stable/ocata,I1a5e43a1868c402a0a637a8911225abe23eeb97d,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:31:46.000000000,2022-01-20 17:11:15.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:31:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/143231345e13d7bd84a7acbab0abc64e520627ea', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I1a5e43a1868c402a0a637a8911225abe23eeb97d\n'}]",0,825581,143231345e13d7bd84a7acbab0abc64e520627ea,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I1a5e43a1868c402a0a637a8911225abe23eeb97d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/81/825581/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,143231345e13d7bd84a7acbab0abc64e520627ea,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_barbican~stable%2Focata~Ida2e112824c7f0f1117a0874898c9e08e2585930,openstack/openstack-ansible-os_barbican,stable/ocata,Ida2e112824c7f0f1117a0874898c9e08e2585930,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:32:12.000000000,2022-01-20 17:11:05.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:32:12.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/440906d5dcab8f758121a58b469b048b00868a58', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: Ida2e112824c7f0f1117a0874898c9e08e2585930\n'}]",0,825583,440906d5dcab8f758121a58b469b048b00868a58,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: Ida2e112824c7f0f1117a0874898c9e08e2585930
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/83/825583/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,440906d5dcab8f758121a58b469b048b00868a58,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-os_barbican~stable%2Focata~I1d5a3c18797b68818d74688a81e9bd674cc27234,openstack/openstack-ansible-os_barbican,stable/ocata,I1d5a3c18797b68818d74688a81e9bd674cc27234,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:32:15.000000000,2022-01-20 17:10:56.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:32:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/75967a2bf1d6e9420456c9c8b53abcd8dfcdbc36', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I1d5a3c18797b68818d74688a81e9bd674cc27234\n'}]",0,825584,75967a2bf1d6e9420456c9c8b53abcd8dfcdbc36,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I1d5a3c18797b68818d74688a81e9bd674cc27234
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/84/825584/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,75967a2bf1d6e9420456c9c8b53abcd8dfcdbc36,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Focata~I565c7ec9940befd2b6f2cd9e7e278f996f71c284,openstack/openstack-ansible-os_ceilometer,stable/ocata,I565c7ec9940befd2b6f2cd9e7e278f996f71c284,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:32:35.000000000,2022-01-20 17:10:49.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:32:35.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/240a857ef6eaf1fbae726023361d5821e20257d8', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I565c7ec9940befd2b6f2cd9e7e278f996f71c284\n'}]",0,825586,240a857ef6eaf1fbae726023361d5821e20257d8,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I565c7ec9940befd2b6f2cd9e7e278f996f71c284
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/86/825586/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,240a857ef6eaf1fbae726023361d5821e20257d8,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Focata~Ie3e8a25fa2b3decfab57a5950c72c4102bccc0be,openstack/openstack-ansible-os_ceilometer,stable/ocata,Ie3e8a25fa2b3decfab57a5950c72c4102bccc0be,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:32:38.000000000,2022-01-20 17:10:44.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:32:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/e4651d4071518f958cb1485a20d4cc692e5b4e0b', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ie3e8a25fa2b3decfab57a5950c72c4102bccc0be\n'}]",0,825587,e4651d4071518f958cb1485a20d4cc692e5b4e0b,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ie3e8a25fa2b3decfab57a5950c72c4102bccc0be
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/87/825587/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e4651d4071518f958cb1485a20d4cc692e5b4e0b,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_cinder~stable%2Focata~I2f82fa42fd240b0e22f7816d9d9dbd3f19cb6743,openstack/openstack-ansible-os_cinder,stable/ocata,I2f82fa42fd240b0e22f7816d9d9dbd3f19cb6743,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:33:01.000000000,2022-01-20 17:10:21.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:33:01.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/bddcecda7fd68f3396a18c76a067edf2f5c66034', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I2f82fa42fd240b0e22f7816d9d9dbd3f19cb6743\n'}]",0,825589,bddcecda7fd68f3396a18c76a067edf2f5c66034,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I2f82fa42fd240b0e22f7816d9d9dbd3f19cb6743
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/89/825589/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,bddcecda7fd68f3396a18c76a067edf2f5c66034,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-os_cinder~stable%2Focata~I18e25c379df451cf790567f596ef05f684179555,openstack/openstack-ansible-os_cinder,stable/ocata,I18e25c379df451cf790567f596ef05f684179555,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:33:05.000000000,2022-01-20 17:10:12.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:33:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/84066adff35904693a5dbcd96644fd1f15a7aa55', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I18e25c379df451cf790567f596ef05f684179555\n'}]",0,825590,84066adff35904693a5dbcd96644fd1f15a7aa55,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I18e25c379df451cf790567f596ef05f684179555
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/90/825590/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,84066adff35904693a5dbcd96644fd1f15a7aa55,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Frequirements~master~I834d194c747994c5218cc9052e1f35e8a933661c,openstack/requirements,master,I834d194c747994c5218cc9052e1f35e8a933661c,update constraint for oslo.utils to new release 4.12.1,MERGED,2022-01-20 09:26:03.000000000,2022-01-20 17:10:06.000000000,2022-01-20 17:05:39.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-20 09:26:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f4707cfd151eddb9f26611d7a82939095fd4fd09', 'message': 'update constraint for oslo.utils to new release 4.12.1\n\nmeta: version: 4.12.1\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Commit: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Change-Id: I6c3d7fbede365cb65290f64970511013c53672d7\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I834d194c747994c5218cc9052e1f35e8a933661c\n'}]",0,825442,f4707cfd151eddb9f26611d7a82939095fd4fd09,9,3,1,11131,,,0,"update constraint for oslo.utils to new release 4.12.1

meta: version: 4.12.1
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Commit: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Change-Id: I6c3d7fbede365cb65290f64970511013c53672d7
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I834d194c747994c5218cc9052e1f35e8a933661c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/42/825442/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f4707cfd151eddb9f26611d7a82939095fd4fd09,new-release,oslo.utils===4.12.1,oslo.utils===4.12.0,1,1
openstack%2Fopenstack-ansible-os_glance~stable%2Focata~I9ed2b1f103798a2c30e98a94445f43603d1372a7,openstack/openstack-ansible-os_glance,stable/ocata,I9ed2b1f103798a2c30e98a94445f43603d1372a7,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:33:30.000000000,2022-01-20 17:10:04.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:33:30.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/e410c4d373cfc0c269e48107acdc4433945ebcf7', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I9ed2b1f103798a2c30e98a94445f43603d1372a7\n'}]",0,825592,e410c4d373cfc0c269e48107acdc4433945ebcf7,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I9ed2b1f103798a2c30e98a94445f43603d1372a7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/92/825592/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e410c4d373cfc0c269e48107acdc4433945ebcf7,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-os_glance~stable%2Focata~I21e0dc12f32ca01dc1faa78cb40095d2aa6d9fac,openstack/openstack-ansible-os_glance,stable/ocata,I21e0dc12f32ca01dc1faa78cb40095d2aa6d9fac,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:33:33.000000000,2022-01-20 17:09:57.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:33:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/fd8229fde71921023e044d2226dba1a1fd9ab6c2', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I21e0dc12f32ca01dc1faa78cb40095d2aa6d9fac\n'}]",0,825593,fd8229fde71921023e044d2226dba1a1fd9ab6c2,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I21e0dc12f32ca01dc1faa78cb40095d2aa6d9fac
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/93/825593/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fd8229fde71921023e044d2226dba1a1fd9ab6c2,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Focata~I03c827588ab1f2f9baeb6b3241f306d4bd68bde2,openstack/openstack-ansible-os_gnocchi,stable/ocata,I03c827588ab1f2f9baeb6b3241f306d4bd68bde2,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:33:53.000000000,2022-01-20 17:09:49.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:33:53.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/34f0830913e5d7652d6d9f5292584cff275b3e85', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I03c827588ab1f2f9baeb6b3241f306d4bd68bde2\n'}]",0,825595,34f0830913e5d7652d6d9f5292584cff275b3e85,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I03c827588ab1f2f9baeb6b3241f306d4bd68bde2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/95/825595/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,34f0830913e5d7652d6d9f5292584cff275b3e85,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-os_gnocchi~stable%2Focata~If88b9da60ea7eddbfafd805a34e1e5e5756ae156,openstack/openstack-ansible-os_gnocchi,stable/ocata,If88b9da60ea7eddbfafd805a34e1e5e5756ae156,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:33:57.000000000,2022-01-20 17:09:42.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:33:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/06f9c57d583fcba6f061db344110371a6a10d978', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: If88b9da60ea7eddbfafd805a34e1e5e5756ae156\n'}]",0,825596,06f9c57d583fcba6f061db344110371a6a10d978,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: If88b9da60ea7eddbfafd805a34e1e5e5756ae156
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/96/825596/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,06f9c57d583fcba6f061db344110371a6a10d978,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_heat~stable%2Focata~Icc587b5ddf144cbfd057b560ab55d4b0bae9a943,openstack/openstack-ansible-os_heat,stable/ocata,Icc587b5ddf144cbfd057b560ab55d4b0bae9a943,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:34:17.000000000,2022-01-20 17:09:31.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:34:17.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/18a7d1b07102fc9ecb0fc34d7ddf1230d4c03e39', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: Icc587b5ddf144cbfd057b560ab55d4b0bae9a943\n'}]",0,825598,18a7d1b07102fc9ecb0fc34d7ddf1230d4c03e39,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: Icc587b5ddf144cbfd057b560ab55d4b0bae9a943
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/98/825598/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,18a7d1b07102fc9ecb0fc34d7ddf1230d4c03e39,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-os_heat~stable%2Focata~Ib1bc56b2a0a13e3db7dd7f431ae3eaaf69116aee,openstack/openstack-ansible-os_heat,stable/ocata,Ib1bc56b2a0a13e3db7dd7f431ae3eaaf69116aee,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:34:20.000000000,2022-01-20 17:09:23.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:34:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/6660f74f003e274c941b2702cf7a83b48bf3c404', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ib1bc56b2a0a13e3db7dd7f431ae3eaaf69116aee\n'}]",0,825599,6660f74f003e274c941b2702cf7a83b48bf3c404,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ib1bc56b2a0a13e3db7dd7f431ae3eaaf69116aee
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/99/825599/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6660f74f003e274c941b2702cf7a83b48bf3c404,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_horizon~stable%2Focata~I334671bda085d9a50fcd23fbc5aa4bd591ad5e71,openstack/openstack-ansible-os_horizon,stable/ocata,I334671bda085d9a50fcd23fbc5aa4bd591ad5e71,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:34:42.000000000,2022-01-20 17:09:01.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:34:42.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/f68b062832806c8f4b1d216574add696e92e579c', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I334671bda085d9a50fcd23fbc5aa4bd591ad5e71\n'}]",0,825601,f68b062832806c8f4b1d216574add696e92e579c,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I334671bda085d9a50fcd23fbc5aa4bd591ad5e71
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/01/825601/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,f68b062832806c8f4b1d216574add696e92e579c,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-os_horizon~stable%2Focata~I6c76c482cfdead42f7cd84746eb6190d9d6bb0d7,openstack/openstack-ansible-os_horizon,stable/ocata,I6c76c482cfdead42f7cd84746eb6190d9d6bb0d7,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:34:45.000000000,2022-01-20 17:08:51.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:34:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/a49b76e9740c10557b56758fafcbcc28570ec819', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I6c76c482cfdead42f7cd84746eb6190d9d6bb0d7\n'}]",0,825602,a49b76e9740c10557b56758fafcbcc28570ec819,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I6c76c482cfdead42f7cd84746eb6190d9d6bb0d7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/02/825602/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a49b76e9740c10557b56758fafcbcc28570ec819,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_ironic~stable%2Focata~I48e0d75ea287b45184ce818f605d9820ba1a8758,openstack/openstack-ansible-os_ironic,stable/ocata,I48e0d75ea287b45184ce818f605d9820ba1a8758,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:35:05.000000000,2022-01-20 17:08:27.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:35:05.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/54d881fbbe6d800ca2b7ae8d83fa9b7a868f8f47', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I48e0d75ea287b45184ce818f605d9820ba1a8758\n'}]",0,825604,54d881fbbe6d800ca2b7ae8d83fa9b7a868f8f47,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I48e0d75ea287b45184ce818f605d9820ba1a8758
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/04/825604/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,54d881fbbe6d800ca2b7ae8d83fa9b7a868f8f47,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-os_ironic~stable%2Focata~I2bdde8eb7d2fd20e6b470aea71f267049274cf35,openstack/openstack-ansible-os_ironic,stable/ocata,I2bdde8eb7d2fd20e6b470aea71f267049274cf35,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:35:09.000000000,2022-01-20 17:08:15.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:35:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/7acc10450ff8ee65ac2fa421d630a4a9adfd061d', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I2bdde8eb7d2fd20e6b470aea71f267049274cf35\n'}]",0,825605,7acc10450ff8ee65ac2fa421d630a4a9adfd061d,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I2bdde8eb7d2fd20e6b470aea71f267049274cf35
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/05/825605/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7acc10450ff8ee65ac2fa421d630a4a9adfd061d,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_magnum~stable%2Focata~I7b50fe98088eddacba43d0e102ad6b76801769cd,openstack/openstack-ansible-os_magnum,stable/ocata,I7b50fe98088eddacba43d0e102ad6b76801769cd,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:35:28.000000000,2022-01-20 17:08:07.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:35:28.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/c1861f40311588d9f75e940c9ecbdf63697a10ec', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I7b50fe98088eddacba43d0e102ad6b76801769cd\n'}]",0,825607,c1861f40311588d9f75e940c9ecbdf63697a10ec,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I7b50fe98088eddacba43d0e102ad6b76801769cd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/07/825607/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c1861f40311588d9f75e940c9ecbdf63697a10ec,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-os_magnum~stable%2Focata~I5d6208de4213f96c80a6d0e1c67981822b1dc593,openstack/openstack-ansible-os_magnum,stable/ocata,I5d6208de4213f96c80a6d0e1c67981822b1dc593,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:35:32.000000000,2022-01-20 17:07:59.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:35:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/b39e223cb39a30c77d9fc1c3012b388e29793123', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I5d6208de4213f96c80a6d0e1c67981822b1dc593\n'}]",0,825608,b39e223cb39a30c77d9fc1c3012b388e29793123,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I5d6208de4213f96c80a6d0e1c67981822b1dc593
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/08/825608/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b39e223cb39a30c77d9fc1c3012b388e29793123,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_trove~stable%2Focata~I22dcb1cf5b7571a0acfa8908924ace49a3b4204b,openstack/openstack-ansible-os_trove,stable/ocata,I22dcb1cf5b7571a0acfa8908924ace49a3b4204b,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:36:00.000000000,2022-01-20 17:07:53.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:36:00.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/fb467f55b03725906f527d7d23c41675a82f454e', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I22dcb1cf5b7571a0acfa8908924ace49a3b4204b\n'}]",0,825610,fb467f55b03725906f527d7d23c41675a82f454e,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I22dcb1cf5b7571a0acfa8908924ace49a3b4204b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/10/825610/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,fb467f55b03725906f527d7d23c41675a82f454e,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fcharm-designate~stable%2F21.10~I2460ac22b115697b2fe5315b4847aac499335087,openstack/charm-designate,stable/21.10,I2460ac22b115697b2fe5315b4847aac499335087,Update build.lock for moved nrpe-external-master interface,MERGED,2022-01-18 17:23:26.000000000,2022-01-20 17:07:50.000000000,2022-01-20 17:07:50.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-01-18 17:23:26.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/1b73193edbda972f7943d2bb5c376bf0bb67bf23', 'message': ""Update build.lock for moved nrpe-external-master interface\n\nThe original repository for the npre-external-master repository was\nremoved and was re-uploaded [1].  This changed the commit hash for the\nbuild.lock.  This patch updates the commit hash to point to the head of\nthe new repository main branch as it hasn't changed since 2017.\n\n[1] - https://github.com/juju/layer-index/pull/120\n\nChange-Id: I2460ac22b115697b2fe5315b4847aac499335087\n""}]",3,825150,1b73193edbda972f7943d2bb5c376bf0bb67bf23,12,4,1,20870,,,0,"Update build.lock for moved nrpe-external-master interface

The original repository for the npre-external-master repository was
removed and was re-uploaded [1].  This changed the commit hash for the
build.lock.  This patch updates the commit hash to point to the head of
the new repository main branch as it hasn't changed since 2017.

[1] - https://github.com/juju/layer-index/pull/120

Change-Id: I2460ac22b115697b2fe5315b4847aac499335087
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/50/825150/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,1b73193edbda972f7943d2bb5c376bf0bb67bf23,update-nrpe-external-master-hash," ""url"": ""https://github.com/canonical/nrpe-external-master-interface"", ""commit"": ""95d744d1dbc4d86fb0462283c9371619bf5bbc24""} "," ""url"": ""https://github.com/cmars/nrpe-external-master-interface"", ""commit"": ""2e0e1fdea6d83b55078200aacb537d60013ec5bc""}",3,3
openstack%2Fopenstack-ansible-os_trove~stable%2Focata~Iddb9d48cdc81df15d33c0b417764b98a7b137fe0,openstack/openstack-ansible-os_trove,stable/ocata,Iddb9d48cdc81df15d33c0b417764b98a7b137fe0,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:36:08.000000000,2022-01-20 17:07:12.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:36:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/28a718b634bd3cb74cd693fd8c8ba3a6d24d4f85', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Iddb9d48cdc81df15d33c0b417764b98a7b137fe0\n'}]",0,825611,28a718b634bd3cb74cd693fd8c8ba3a6d24d4f85,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Iddb9d48cdc81df15d33c0b417764b98a7b137fe0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/11/825611/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,28a718b634bd3cb74cd693fd8c8ba3a6d24d4f85,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_neutron~stable%2Focata~I559109407ac4e5724b049411ab63bd08c209db3b,openstack/openstack-ansible-os_neutron,stable/ocata,I559109407ac4e5724b049411ab63bd08c209db3b,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:36:31.000000000,2022-01-20 17:07:04.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:36:31.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/f63719720e6dbe451729b9dcd1b2bf0149183873', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I559109407ac4e5724b049411ab63bd08c209db3b\n'}]",0,825613,f63719720e6dbe451729b9dcd1b2bf0149183873,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I559109407ac4e5724b049411ab63bd08c209db3b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/13/825613/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,f63719720e6dbe451729b9dcd1b2bf0149183873,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-os_neutron~stable%2Focata~Ie6667e1cb97d50ef274bf6ca3b2f8623f1b2fc67,openstack/openstack-ansible-os_neutron,stable/ocata,Ie6667e1cb97d50ef274bf6ca3b2f8623f1b2fc67,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:36:35.000000000,2022-01-20 17:06:57.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:36:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/5d85620f44498df3108aee80d5bcb204e08e1e1a', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ie6667e1cb97d50ef274bf6ca3b2f8623f1b2fc67\n'}]",0,825614,5d85620f44498df3108aee80d5bcb204e08e1e1a,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ie6667e1cb97d50ef274bf6ca3b2f8623f1b2fc67
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/14/825614/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5d85620f44498df3108aee80d5bcb204e08e1e1a,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fkolla-ansible~stable%2Fwallaby~Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb,openstack/kolla-ansible,stable/wallaby,Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb,Access to zun container fails when tls_external enabled.,MERGED,2022-01-13 17:24:26.000000000,2022-01-20 17:06:54.000000000,2022-01-20 16:51:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-01-13 17:24:26.000000000', 'files': ['ansible/roles/zun/templates/zun.conf.j2', 'releasenotes/notes/bug-1957117-7832104d66a91da7.yaml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/52afd1bdc399b5704b5bbdf8e6cc141f1b5eba25', 'message': 'Access to zun container fails when tls_external enabled.\n\nAccess to console of any zun container fails when\nkolla_enable_tls_external is true.\nThis is due to the protocol of the base_url of the websocket_proxy\nsection in zun.conf is hardcoded to \'ws\'.\n[base_url = ws://<external_fqdn>:<port>]\n\nThis fix adds a new variable zun_wsproxy_protocol\nand sets it\'s value to \'wss\' when kolla_enable_tls_external is true\nor to \'ws\' otherwise\n\nThen the base url\'s protocol of the websocket_proxy section\nin zun.conf is set by zun_wsproxy_protocol\n[base_url = ""{{ zun_wsproxy_protocol }}://<external_fqdn>:<port>""]\n\nCloses-Bug: 1957117\nChange-Id: Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb\n(cherry picked from commit d8c73aa2064767f3cfe6090daf3503f369ec1bd1)\n'}]",2,824612,52afd1bdc399b5704b5bbdf8e6cc141f1b5eba25,18,4,1,28295,,,0,"Access to zun container fails when tls_external enabled.

Access to console of any zun container fails when
kolla_enable_tls_external is true.
This is due to the protocol of the base_url of the websocket_proxy
section in zun.conf is hardcoded to 'ws'.
[base_url = ws://<external_fqdn>:<port>]

This fix adds a new variable zun_wsproxy_protocol
and sets it's value to 'wss' when kolla_enable_tls_external is true
or to 'ws' otherwise

Then the base url's protocol of the websocket_proxy section
in zun.conf is set by zun_wsproxy_protocol
[base_url = ""{{ zun_wsproxy_protocol }}://<external_fqdn>:<port>""]

Closes-Bug: 1957117
Change-Id: Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb
(cherry picked from commit d8c73aa2064767f3cfe6090daf3503f369ec1bd1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/824612/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/zun/templates/zun.conf.j2', 'releasenotes/notes/bug-1957117-7832104d66a91da7.yaml', 'ansible/group_vars/all.yml']",3,52afd1bdc399b5704b5bbdf8e6cc141f1b5eba25,,"zun_wsproxy_protocol: ""{{ 'wss' if kolla_enable_tls_external | bool else 'ws' }}""",,13,1
openstack%2Fopenstack-ansible-os_nova~stable%2Focata~I30c59d86d889869229030fc90f5a1aa3dcd14c3f,openstack/openstack-ansible-os_nova,stable/ocata,I30c59d86d889869229030fc90f5a1aa3dcd14c3f,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:37:03.000000000,2022-01-20 17:06:44.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:37:03.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/370f5037bfceb94e6fb75c0c9114cf336424e0df', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I30c59d86d889869229030fc90f5a1aa3dcd14c3f\n'}]",0,825617,370f5037bfceb94e6fb75c0c9114cf336424e0df,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I30c59d86d889869229030fc90f5a1aa3dcd14c3f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/17/825617/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,370f5037bfceb94e6fb75c0c9114cf336424e0df,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-os_nova~stable%2Focata~I704e8445dcd6f1de451a3c55ec9f5f05238ed202,openstack/openstack-ansible-os_nova,stable/ocata,I704e8445dcd6f1de451a3c55ec9f5f05238ed202,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:37:09.000000000,2022-01-20 17:06:38.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:37:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/5f86c7b877cb37356bab1565e152f4721938e1ef', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I704e8445dcd6f1de451a3c55ec9f5f05238ed202\n'}]",0,825618,5f86c7b877cb37356bab1565e152f4721938e1ef,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I704e8445dcd6f1de451a3c55ec9f5f05238ed202
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/18/825618/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5f86c7b877cb37356bab1565e152f4721938e1ef,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_rally~stable%2Focata~I48558b6ebd5c4f2d51ddab5342afd6a99994703d,openstack/openstack-ansible-os_rally,stable/ocata,I48558b6ebd5c4f2d51ddab5342afd6a99994703d,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:37:32.000000000,2022-01-20 17:06:30.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:37:32.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/7c44fa2a58dd617d4a668e91e422f3685135fa91', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I48558b6ebd5c4f2d51ddab5342afd6a99994703d\n'}]",0,825620,7c44fa2a58dd617d4a668e91e422f3685135fa91,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I48558b6ebd5c4f2d51ddab5342afd6a99994703d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/20/825620/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,7c44fa2a58dd617d4a668e91e422f3685135fa91,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-os_rally~stable%2Focata~Id25c2d689f0b34dd3903963138677c8b9a889ad2,openstack/openstack-ansible-os_rally,stable/ocata,Id25c2d689f0b34dd3903963138677c8b9a889ad2,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:37:36.000000000,2022-01-20 17:06:23.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:37:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/e11f9f77cee437e2942f99621c8c3ab6a5324fca', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Id25c2d689f0b34dd3903963138677c8b9a889ad2\n'}]",0,825621,e11f9f77cee437e2942f99621c8c3ab6a5324fca,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Id25c2d689f0b34dd3903963138677c8b9a889ad2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/21/825621/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e11f9f77cee437e2942f99621c8c3ab6a5324fca,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_sahara~stable%2Focata~I2667b6be847f328df58a26f0803b2865e60ba96e,openstack/openstack-ansible-os_sahara,stable/ocata,I2667b6be847f328df58a26f0803b2865e60ba96e,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:37:56.000000000,2022-01-20 17:06:14.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:37:56.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/72ea9e73ba24da4f144ab2fdfff309f3edbca602', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I2667b6be847f328df58a26f0803b2865e60ba96e\n'}]",0,825623,72ea9e73ba24da4f144ab2fdfff309f3edbca602,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I2667b6be847f328df58a26f0803b2865e60ba96e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/23/825623/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,72ea9e73ba24da4f144ab2fdfff309f3edbca602,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Frequirements~master~I057ebfde105d34e5f48abcf56f4a4659876b62f2,openstack/requirements,master,I057ebfde105d34e5f48abcf56f4a4659876b62f2,Bump dogpile.cache to 1.1.5,MERGED,2022-01-20 07:07:29.000000000,2022-01-20 17:06:08.000000000,2022-01-20 16:45:48.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-20 07:07:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/247dd4880b3471c16f3e94a5ec51b9747204a819', 'message': 'Bump dogpile.cache to 1.1.5\n\nBumping the version to get new feature [1] need by oslo.cache [2].\n\n[1] https://gerrit.sqlalchemy.org/c/sqlalchemy/dogpile.cache/+/3528\n[2] https://review.opendev.org/c/openstack/oslo.cache/+/824944\n\nChange-Id: I057ebfde105d34e5f48abcf56f4a4659876b62f2\n'}]",0,825427,247dd4880b3471c16f3e94a5ec51b9747204a819,8,2,1,28522,,,0,"Bump dogpile.cache to 1.1.5

Bumping the version to get new feature [1] need by oslo.cache [2].

[1] https://gerrit.sqlalchemy.org/c/sqlalchemy/dogpile.cache/+/3528
[2] https://review.opendev.org/c/openstack/oslo.cache/+/824944

Change-Id: I057ebfde105d34e5f48abcf56f4a4659876b62f2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/825427/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,247dd4880b3471c16f3e94a5ec51b9747204a819,bump-dogpile-cache-1.1.5,dogpile.cache===1.1.5,dogpile.cache===1.1.4,1,1
openstack%2Fopenstack-ansible-os_sahara~stable%2Focata~Ibc1825bdfb5181b4657fbb9bdf34134e9beee1ad,openstack/openstack-ansible-os_sahara,stable/ocata,Ibc1825bdfb5181b4657fbb9bdf34134e9beee1ad,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:38:00.000000000,2022-01-20 17:06:07.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:38:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/0aa3efea6f93757e2cd7f8504c87a9cbd4e2e2b9', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ibc1825bdfb5181b4657fbb9bdf34134e9beee1ad\n'}]",0,825624,0aa3efea6f93757e2cd7f8504c87a9cbd4e2e2b9,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ibc1825bdfb5181b4657fbb9bdf34134e9beee1ad
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/24/825624/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0aa3efea6f93757e2cd7f8504c87a9cbd4e2e2b9,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_swift~stable%2Focata~I57cf3e3e20517368c0ecc7f75d5d3ad25421e52b,openstack/openstack-ansible-os_swift,stable/ocata,I57cf3e3e20517368c0ecc7f75d5d3ad25421e52b,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:38:19.000000000,2022-01-20 17:06:01.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:38:19.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/b4f45c35e48a143bd937a70a2482c428f6b8704a', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I57cf3e3e20517368c0ecc7f75d5d3ad25421e52b\n'}]",0,825626,b4f45c35e48a143bd937a70a2482c428f6b8704a,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I57cf3e3e20517368c0ecc7f75d5d3ad25421e52b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/26/825626/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b4f45c35e48a143bd937a70a2482c428f6b8704a,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-os_swift~stable%2Focata~Ic43d9396f5258fb312419976d8829c8e950b9b08,openstack/openstack-ansible-os_swift,stable/ocata,Ic43d9396f5258fb312419976d8829c8e950b9b08,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:38:22.000000000,2022-01-20 17:05:53.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:38:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/4909ecd044478ffed1fe542136f668d5fd4ada93', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic43d9396f5258fb312419976d8829c8e950b9b08\n'}]",0,825627,4909ecd044478ffed1fe542136f668d5fd4ada93,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ic43d9396f5258fb312419976d8829c8e950b9b08
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/27/825627/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4909ecd044478ffed1fe542136f668d5fd4ada93,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_tempest~stable%2Focata~I861d56f0f6e4bc66e7cd14b13204cd1504906c2e,openstack/openstack-ansible-os_tempest,stable/ocata,I861d56f0f6e4bc66e7cd14b13204cd1504906c2e,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:38:43.000000000,2022-01-20 17:05:46.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:38:43.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/1bb05a7f2598a23b379454debef36dcebae34ed0', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I861d56f0f6e4bc66e7cd14b13204cd1504906c2e\n'}]",0,825629,1bb05a7f2598a23b379454debef36dcebae34ed0,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I861d56f0f6e4bc66e7cd14b13204cd1504906c2e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/29/825629/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,1bb05a7f2598a23b379454debef36dcebae34ed0,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-os_tempest~stable%2Focata~I938947ebb1a15199315956188f27ce27f9b4b28f,openstack/openstack-ansible-os_tempest,stable/ocata,I938947ebb1a15199315956188f27ce27f9b4b28f,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:38:46.000000000,2022-01-20 17:05:34.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:38:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/68cba3ad9e7ddb4cbfbfd94fa106f2558d344ace', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I938947ebb1a15199315956188f27ce27f9b4b28f\n'}]",0,825630,68cba3ad9e7ddb4cbfbfd94fa106f2558d344ace,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I938947ebb1a15199315956188f27ce27f9b4b28f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/30/825630/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,68cba3ad9e7ddb4cbfbfd94fa106f2558d344ace,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-plugins~stable%2Focata~I1b5f4cc10b56a295c7047174ccc2f05679ee069b,openstack/openstack-ansible-plugins,stable/ocata,I1b5f4cc10b56a295c7047174ccc2f05679ee069b,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:39:06.000000000,2022-01-20 17:05:26.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:39:06.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/0af84d5f038caaab36d1c21ba94f46d0b01e2454', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I1b5f4cc10b56a295c7047174ccc2f05679ee069b\n'}]",0,825633,0af84d5f038caaab36d1c21ba94f46d0b01e2454,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I1b5f4cc10b56a295c7047174ccc2f05679ee069b
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/33/825633/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,0af84d5f038caaab36d1c21ba94f46d0b01e2454,create-ocata,defaultbranch=stable/ocata,,1,1
openstack%2Fopenstack-ansible-plugins~stable%2Focata~I951a677487b5613ab8b2a27788afb8379150ffd5,openstack/openstack-ansible-plugins,stable/ocata,I951a677487b5613ab8b2a27788afb8379150ffd5,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:39:10.000000000,2022-01-20 17:05:19.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:39:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/bdde8bb9c9a5d512764b27c7f9575acd07c3ab49', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I951a677487b5613ab8b2a27788afb8379150ffd5\n'}]",0,825634,bdde8bb9c9a5d512764b27c7f9575acd07c3ab49,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I951a677487b5613ab8b2a27788afb8379150ffd5
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/34/825634/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bdde8bb9c9a5d512764b27c7f9575acd07c3ab49,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Focata~Ic9f8bf3ceb5dd91bcacb3a5ab57eb4862070a86f,openstack/openstack-ansible-rabbitmq_server,stable/ocata,Ic9f8bf3ceb5dd91bcacb3a5ab57eb4862070a86f,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:39:29.000000000,2022-01-20 17:05:10.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:39:29.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/0c90b251a78d2b0b61bf893742ce77924a963d9e', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: Ic9f8bf3ceb5dd91bcacb3a5ab57eb4862070a86f\n'}]",0,825636,0c90b251a78d2b0b61bf893742ce77924a963d9e,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: Ic9f8bf3ceb5dd91bcacb3a5ab57eb4862070a86f
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/36/825636/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,0c90b251a78d2b0b61bf893742ce77924a963d9e,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Focata~I7f45e3f99675fc441d73a0f2352e6465999f8537,openstack/openstack-ansible-rabbitmq_server,stable/ocata,I7f45e3f99675fc441d73a0f2352e6465999f8537,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:39:33.000000000,2022-01-20 17:05:03.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:39:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/5e9db3cb8633346ca7cd7be7e4fa33edaf306479', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7f45e3f99675fc441d73a0f2352e6465999f8537\n'}]",0,825637,5e9db3cb8633346ca7cd7be7e4fa33edaf306479,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I7f45e3f99675fc441d73a0f2352e6465999f8537
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/37/825637/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5e9db3cb8633346ca7cd7be7e4fa33edaf306479,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-repo_server~stable%2Focata~Ifc2acf1a654a11fb779214e21f8397f1bce1da37,openstack/openstack-ansible-repo_server,stable/ocata,Ifc2acf1a654a11fb779214e21f8397f1bce1da37,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:40:04.000000000,2022-01-20 17:04:56.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:40:04.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/84412af7ac5036eaaa8744d890ee3e7fca920845', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: Ifc2acf1a654a11fb779214e21f8397f1bce1da37\n'}]",0,825639,84412af7ac5036eaaa8744d890ee3e7fca920845,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: Ifc2acf1a654a11fb779214e21f8397f1bce1da37
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/39/825639/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,84412af7ac5036eaaa8744d890ee3e7fca920845,create-ocata,defaultbranch=stable/ocata,,1,1
openstack%2Fopenstack-ansible-repo_server~stable%2Focata~Icd9b5634906c8676e595e62e6d00f489839aea68,openstack/openstack-ansible-repo_server,stable/ocata,Icd9b5634906c8676e595e62e6d00f489839aea68,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:40:07.000000000,2022-01-20 17:04:49.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:40:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/20b83b219f53dfa6286661180fab789c6097ca99', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Icd9b5634906c8676e595e62e6d00f489839aea68\n'}]",0,825640,20b83b219f53dfa6286661180fab789c6097ca99,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Icd9b5634906c8676e595e62e6d00f489839aea68
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/40/825640/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,20b83b219f53dfa6286661180fab789c6097ca99,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-rsyslog_client~stable%2Focata~I7957909d807e101352dc055b5dc687883279350e,openstack/openstack-ansible-rsyslog_client,stable/ocata,I7957909d807e101352dc055b5dc687883279350e,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:40:25.000000000,2022-01-20 17:04:42.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:40:25.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/8b8b5baec2b66cf2bbc9f5e4dd34d0d09647dbe1', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I7957909d807e101352dc055b5dc687883279350e\n'}]",0,825642,8b8b5baec2b66cf2bbc9f5e4dd34d0d09647dbe1,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I7957909d807e101352dc055b5dc687883279350e
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/42/825642/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8b8b5baec2b66cf2bbc9f5e4dd34d0d09647dbe1,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-rsyslog_client~stable%2Focata~I1a272829b02f017d4efdbaca8d39cc4ee01d66d5,openstack/openstack-ansible-rsyslog_client,stable/ocata,I1a272829b02f017d4efdbaca8d39cc4ee01d66d5,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:40:29.000000000,2022-01-20 17:04:25.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:40:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/b8a8c0d4d8109bf603d6bb8d5092d75708378b7d', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I1a272829b02f017d4efdbaca8d39cc4ee01d66d5\n'}]",0,825643,b8a8c0d4d8109bf603d6bb8d5092d75708378b7d,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I1a272829b02f017d4efdbaca8d39cc4ee01d66d5
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/43/825643/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b8a8c0d4d8109bf603d6bb8d5092d75708378b7d,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-rsyslog_server~stable%2Focata~I4af632bef76085d49373e81db66c5d6fe589f740,openstack/openstack-ansible-rsyslog_server,stable/ocata,I4af632bef76085d49373e81db66c5d6fe589f740,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:40:48.000000000,2022-01-20 17:04:05.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:40:48.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/06dc961e8c3f1ada77d10004463bb96b5185ebe5', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: I4af632bef76085d49373e81db66c5d6fe589f740\n'}]",0,825645,06dc961e8c3f1ada77d10004463bb96b5185ebe5,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: I4af632bef76085d49373e81db66c5d6fe589f740
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/45/825645/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,06dc961e8c3f1ada77d10004463bb96b5185ebe5,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-rsyslog_server~stable%2Focata~I62ec3c3379613e3f2f2827a4787abcef3ba98657,openstack/openstack-ansible-rsyslog_server,stable/ocata,I62ec3c3379613e3f2f2827a4787abcef3ba98657,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:40:53.000000000,2022-01-20 17:03:57.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:40:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_server/commit/c1bebfcfccbe822e355c3d8b1e3e8e74c5108b0f', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I62ec3c3379613e3f2f2827a4787abcef3ba98657\n'}]",0,825646,c1bebfcfccbe822e355c3d8b1e3e8e74c5108b0f,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I62ec3c3379613e3f2f2827a4787abcef3ba98657
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_server refs/changes/46/825646/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c1bebfcfccbe822e355c3d8b1e3e8e74c5108b0f,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-ansible-os_designate~stable%2Focata~Ib70be00aac5bd87a213b1f64cc9084f86d5d1afa,openstack/openstack-ansible-os_designate,stable/ocata,Ib70be00aac5bd87a213b1f64cc9084f86d5d1afa,Update .gitreview for stable/ocata,ABANDONED,2022-01-20 16:41:36.000000000,2022-01-20 17:03:48.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:41:36.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/4af72d93f090d6e28d364de75be0086679d04333', 'message': 'Update .gitreview for stable/ocata\n\nChange-Id: Ib70be00aac5bd87a213b1f64cc9084f86d5d1afa\n'}]",0,825648,4af72d93f090d6e28d364de75be0086679d04333,2,0,1,22816,,,0,"Update .gitreview for stable/ocata

Change-Id: Ib70be00aac5bd87a213b1f64cc9084f86d5d1afa
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/48/825648/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,4af72d93f090d6e28d364de75be0086679d04333,create-ocata,defaultbranch=stable/ocata,,1,0
openstack%2Fopenstack-ansible-os_designate~stable%2Focata~I97868c7282e0e9d8d55b4e6234a3e8dab5db600b,openstack/openstack-ansible-os_designate,stable/ocata,I97868c7282e0e9d8d55b4e6234a3e8dab5db600b,Update TOX_CONSTRAINTS_FILE for stable/ocata,ABANDONED,2022-01-20 16:41:41.000000000,2022-01-20 17:03:39.000000000,,[],"[{'number': 1, 'created': '2022-01-20 16:41:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/0634bf3a41636783b303e2d2d5ac626390b5aaeb', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/ocata\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/ocata branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I97868c7282e0e9d8d55b4e6234a3e8dab5db600b\n'}]",0,825649,0634bf3a41636783b303e2d2d5ac626390b5aaeb,2,0,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/ocata

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/ocata branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I97868c7282e0e9d8d55b4e6234a3e8dab5db600b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/49/825649/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0634bf3a41636783b303e2d2d5ac626390b5aaeb,create-ocata, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ocata} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fcharm-aodh~stable%2F21.10~I2f750bee795eaa120572c006538a552590bffc94,openstack/charm-aodh,stable/21.10,I2f750bee795eaa120572c006538a552590bffc94,Update build.lock for moved nrpe-external-master interface,MERGED,2022-01-18 17:01:08.000000000,2022-01-20 17:02:22.000000000,2022-01-20 17:02:22.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-01-18 17:01:08.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/b89a8749efa8ce8a670cf329f6e23972dbafa65f', 'message': ""Update build.lock for moved nrpe-external-master interface\n\nThe original repository for the npre-external-master repository was\nremoved and was re-uploaded [1].  This changed the commit hash for the\nbuild.lock.  This patch updates the commit hash to point to the head of\nthe new repository main branch as it hasn't changed since 2017.\n\n[1] - https://github.com/juju/layer-index/pull/120\n\nChange-Id: I2f750bee795eaa120572c006538a552590bffc94\n""}]",4,825142,b89a8749efa8ce8a670cf329f6e23972dbafa65f,12,4,1,20870,,,0,"Update build.lock for moved nrpe-external-master interface

The original repository for the npre-external-master repository was
removed and was re-uploaded [1].  This changed the commit hash for the
build.lock.  This patch updates the commit hash to point to the head of
the new repository main branch as it hasn't changed since 2017.

[1] - https://github.com/juju/layer-index/pull/120

Change-Id: I2f750bee795eaa120572c006538a552590bffc94
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/42/825142/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,b89a8749efa8ce8a670cf329f6e23972dbafa65f,update-nrpe-external-master-hash," ""url"": ""https://github.com/canonical/nrpe-external-master-interface"", ""commit"": ""95d744d1dbc4d86fb0462283c9371619bf5bbc24""} "," ""url"": ""https://github.com/cmars/nrpe-external-master-interface"", ""commit"": ""2e0e1fdea6d83b55078200aacb537d60013ec5bc""}",3,3
openstack%2Foslo.service~stable%2Fvictoria~I8a2acea7393c369bfa7d7822f21b4d40d56d6739,openstack/oslo.service,stable/victoria,I8a2acea7393c369bfa7d7822f21b4d40d56d6739,Make debug option of wsgi server configurable,MERGED,2022-01-17 10:30:24.000000000,2022-01-20 16:56:54.000000000,2022-01-20 16:31:24.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-17 10:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/9347fe841655bbade983ab332dcdeab53c90ee65', 'message': 'Make debug option of wsgi server configurable\n\nBecause in some deployments tracebacks in API responses are unwanted\nfor security reasons.\n\nChange-Id: I8a2acea7393c369bfa7d7822f21b4d40d56d6739\nNeeded-By: https://review.opendev.org/c/openstack/neutron/+/818391\nPartial-Bug: #1951429\n(cherry picked from commit 6552b9a820c1b4880cd999f0b44561275019b9f4)\n(cherry picked from commit 58c8ef7c64485980529c92716b24090ba0612d7c)\n(cherry picked from commit 3986fe4deac001ca960f633639f850845faa577e)\n'}, {'number': 2, 'created': '2022-01-17 10:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/bdc1532457a2f42ef7f41c5108a181a3bf0304a3', 'message': 'Make debug option of wsgi server configurable\n\nBecause in some deployments tracebacks in API responses are unwanted\nfor security reasons.\n\nChange-Id: I8a2acea7393c369bfa7d7822f21b4d40d56d6739\nPartial-Bug: #1951429\n(cherry picked from commit 6552b9a820c1b4880cd999f0b44561275019b9f4)\n(cherry picked from commit 13ee22cc6ef81298b73cc92bf35ab7919e1e752a)\n(cherry picked from commit c1e3398b11c7a603a1fe2b773fec0d83fe34430a)\n'}, {'number': 3, 'created': '2022-01-17 13:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/9943f97e3bfac67b6c7b7356293043e850fac07e', 'message': 'Make debug option of wsgi server configurable\n\nBecause in some deployments tracebacks in API responses are unwanted\nfor security reasons.\n\nChange-Id: I8a2acea7393c369bfa7d7822f21b4d40d56d6739\nPartial-Bug: #1951429\n(cherry picked from commit 6552b9a820c1b4880cd999f0b44561275019b9f4)\n(cherry picked from commit 13ee22cc6ef81298b73cc92bf35ab7919e1e752a)\n(cherry picked from commit c1e3398b11c7a603a1fe2b773fec0d83fe34430a)\n'}, {'number': 4, 'created': '2022-01-17 14:08:32.000000000', 'files': ['oslo_service/_options.py', 'releasenotes/notes/add-wsgi_server_debug-opt-70d818b5b78bfc7c.yaml', 'oslo_service/wsgi.py'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/615cfad757f8537dfdeed94e40b5393a38f2adca', 'message': 'Make debug option of wsgi server configurable\n\nBecause in some deployments tracebacks in API responses are unwanted\nfor security reasons.\n\nChange-Id: I8a2acea7393c369bfa7d7822f21b4d40d56d6739\nPartial-Bug: #1951429\n(cherry picked from commit 6552b9a820c1b4880cd999f0b44561275019b9f4)\n(cherry picked from commit 13ee22cc6ef81298b73cc92bf35ab7919e1e752a)\n(cherry picked from commit c1e3398b11c7a603a1fe2b773fec0d83fe34430a)\n'}]",3,824916,615cfad757f8537dfdeed94e40b5393a38f2adca,14,3,4,15554,,,0,"Make debug option of wsgi server configurable

Because in some deployments tracebacks in API responses are unwanted
for security reasons.

Change-Id: I8a2acea7393c369bfa7d7822f21b4d40d56d6739
Partial-Bug: #1951429
(cherry picked from commit 6552b9a820c1b4880cd999f0b44561275019b9f4)
(cherry picked from commit 13ee22cc6ef81298b73cc92bf35ab7919e1e752a)
(cherry picked from commit c1e3398b11c7a603a1fe2b773fec0d83fe34430a)
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/16/824916/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_service/_options.py', 'releasenotes/notes/add-wsgi_server_debug-opt-70d818b5b78bfc7c.yaml', 'oslo_service/wsgi.py']",3,9347fe841655bbade983ab332dcdeab53c90ee65,bug/1951429," 'debug': self.conf.wsgi_server_debug,"," 'debug': False,",13,1
openstack%2Fansible-role-chrony~master~If1ca79b37c1dacf5ddc75b4c8ddd07f85f838616,openstack/ansible-role-chrony,master,If1ca79b37c1dacf5ddc75b4c8ddd07f85f838616,Add centos9 converage,MERGED,2022-01-19 19:16:31.000000000,2022-01-20 16:45:54.000000000,2022-01-20 16:45:54.000000000,"[{'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 19:16:31.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-chrony/commit/0dd2ea062d732f2c5715eb1144d4b6cd49f96b97', 'message': 'Add centos9 converage\n\nChange-Id: If1ca79b37c1dacf5ddc75b4c8ddd07f85f838616\n'}]",0,825384,0dd2ea062d732f2c5715eb1144d4b6cd49f96b97,7,3,1,14985,,,0,"Add centos9 converage

Change-Id: If1ca79b37c1dacf5ddc75b4c8ddd07f85f838616
",git fetch https://review.opendev.org/openstack/ansible-role-chrony refs/changes/84/825384/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,0dd2ea062d732f2c5715eb1144d4b6cd49f96b97,, - tripleo-ci-centos-9-standalone: dependencies: - openstack-tox-linters - tripleo-ci-centos-9-standalone: dependencies: - openstack-tox-linters,,6,0
openstack%2Freleases~master~I76bf1cc0496f47cedf0bef5631500596c8e26411,openstack/releases,master,I76bf1cc0496f47cedf0bef5631500596c8e26411,[OpenStackAnsible] Transition Ocata to End of Life,MERGED,2021-12-21 15:45:33.000000000,2022-01-20 16:15:00.000000000,2022-01-20 16:15:00.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-12-21 15:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fcf0f6b4defde2df91fff85a1fb93018c8917b11', 'message': '[OpenStackAnsible] Transition Ocata to End of Life\n\nChange-Id: I76bf1cc0496f47cedf0bef5631500596c8e26411\n'}, {'number': 2, 'created': '2021-12-21 18:02:18.000000000', 'files': ['deliverables/ocata/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/130f09f4aa76e2002047e9035b8da5539825a066', 'message': '[OpenStackAnsible] Transition Ocata to End of Life\n\nChange-Id: I76bf1cc0496f47cedf0bef5631500596c8e26411\n'}]",2,822506,130f09f4aa76e2002047e9035b8da5539825a066,14,3,2,28619,,,0,"[OpenStackAnsible] Transition Ocata to End of Life

Change-Id: I76bf1cc0496f47cedf0bef5631500596c8e26411
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/822506/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/openstack-ansible.yaml'],1,fcf0f6b4defde2df91fff85a1fb93018c8917b11,ocata-eol, - repo: openstack/openstack-ansible hash: 0e5d7e2d0469784659457376487847af2c99929c,,2,0
openstack%2Fkolla-ansible~stable%2Fvictoria~Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb,openstack/kolla-ansible,stable/victoria,Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb,Access to zun container fails when tls_external enabled.,MERGED,2022-01-13 17:25:36.000000000,2022-01-20 16:14:24.000000000,2022-01-20 16:11:48.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-01-13 17:25:36.000000000', 'files': ['ansible/roles/zun/templates/zun.conf.j2', 'releasenotes/notes/bug-1957117-7832104d66a91da7.yaml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1dd2e4f3d27df243d14d95c0dcb82524740237ef', 'message': 'Access to zun container fails when tls_external enabled.\n\nAccess to console of any zun container fails when\nkolla_enable_tls_external is true.\nThis is due to the protocol of the base_url of the websocket_proxy\nsection in zun.conf is hardcoded to \'ws\'.\n[base_url = ws://<external_fqdn>:<port>]\n\nThis fix adds a new variable zun_wsproxy_protocol\nand sets it\'s value to \'wss\' when kolla_enable_tls_external is true\nor to \'ws\' otherwise\n\nThen the base url\'s protocol of the websocket_proxy section\nin zun.conf is set by zun_wsproxy_protocol\n[base_url = ""{{ zun_wsproxy_protocol }}://<external_fqdn>:<port>""]\n\nCloses-Bug: 1957117\nChange-Id: Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb\n(cherry picked from commit d8c73aa2064767f3cfe6090daf3503f369ec1bd1)\n'}]",2,824613,1dd2e4f3d27df243d14d95c0dcb82524740237ef,17,4,1,28295,,,0,"Access to zun container fails when tls_external enabled.

Access to console of any zun container fails when
kolla_enable_tls_external is true.
This is due to the protocol of the base_url of the websocket_proxy
section in zun.conf is hardcoded to 'ws'.
[base_url = ws://<external_fqdn>:<port>]

This fix adds a new variable zun_wsproxy_protocol
and sets it's value to 'wss' when kolla_enable_tls_external is true
or to 'ws' otherwise

Then the base url's protocol of the websocket_proxy section
in zun.conf is set by zun_wsproxy_protocol
[base_url = ""{{ zun_wsproxy_protocol }}://<external_fqdn>:<port>""]

Closes-Bug: 1957117
Change-Id: Ibd9ca6e40ee8c265775b0657d318aa3f82e4cccb
(cherry picked from commit d8c73aa2064767f3cfe6090daf3503f369ec1bd1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/824613/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/zun/templates/zun.conf.j2', 'releasenotes/notes/bug-1957117-7832104d66a91da7.yaml', 'ansible/group_vars/all.yml']",3,1dd2e4f3d27df243d14d95c0dcb82524740237ef,,"zun_wsproxy_protocol: ""{{ 'wss' if kolla_enable_tls_external | bool else 'ws' }}""",,13,1
openstack%2Freleases~master~Ic126cb7d4a7c3e51ecd0f6e8a7ee8030c56254d2,openstack/releases,master,Ic126cb7d4a7c3e51ecd0f6e8a7ee8030c56254d2,[OpenStackAnsible] Transition Ocata to End of Life,ABANDONED,2022-01-19 15:16:11.000000000,2022-01-20 16:00:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-01-19 15:16:11.000000000', 'files': ['deliverables/ocata/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0379bee1c531ee09c12a359bb690c558ec5519e5', 'message': ""[OpenStackAnsible] Transition Ocata to End of Life\n\nThe roles have been transitioned to EOL already and the final patch\nhas merged [1], so now it's time to EOL openstack-ansible as well.\n\n[1] I922c7cd05708385f375049bcc0f228370a360f6a\n\nChange-Id: Ic126cb7d4a7c3e51ecd0f6e8a7ee8030c56254d2\n""}]",0,825328,0379bee1c531ee09c12a359bb690c558ec5519e5,4,2,1,17685,,,0,"[OpenStackAnsible] Transition Ocata to End of Life

The roles have been transitioned to EOL already and the final patch
has merged [1], so now it's time to EOL openstack-ansible as well.

[1] I922c7cd05708385f375049bcc0f228370a360f6a

Change-Id: Ic126cb7d4a7c3e51ecd0f6e8a7ee8030c56254d2
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/825328/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/openstack-ansible.yaml'],1,0379bee1c531ee09c12a359bb690c558ec5519e5,ocata-eol, - repo: openstack/openstack-ansible hash: 0e5d7e2d0469784659457376487847af2c99929c,,2,0
openstack%2Fsushy~stable%2Fussuri~I615e806196740af208ff7f68f814929a2fdc0332,openstack/sushy,stable/ussuri,I615e806196740af208ff7f68f814929a2fdc0332,Automatically retry HTTP 5xx on GET requests,MERGED,2021-06-09 14:27:42.000000000,2022-01-20 15:53:45.000000000,2022-01-20 15:51:48.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-06-09 14:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/8a554b425b31f7805c7894b5db56066c1b68fd2c', 'message': 'Automatically retry HTTP 5xx on GET requests\n\nI have experienced this pretty often when testing secure boot\non Dell R430.\n\nStory: #2008563\nTask: #41702\nChange-Id: I615e806196740af208ff7f68f814929a2fdc0332\n(cherry picked from commit 09cee5cdc354c355a01a623bde479a03199dc1e2)\n(cherry picked from commit 76e7b04ced5d97d18d3925d4d5e73827b83fb3da)\n'}, {'number': 2, 'created': '2022-01-19 14:24:57.000000000', 'files': ['releasenotes/notes/get-retry-9ca311caf8a0b7bb.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/2aead8bf81e6fa559a8d5d36c5489de98517bb87', 'message': 'Automatically retry HTTP 5xx on GET requests\n\nI have experienced this pretty often when testing secure boot\non Dell R430.\n\nStory: #2008563\nTask: #41702\nChange-Id: I615e806196740af208ff7f68f814929a2fdc0332\n(cherry picked from commit 09cee5cdc354c355a01a623bde479a03199dc1e2)\n(cherry picked from commit 76e7b04ced5d97d18d3925d4d5e73827b83fb3da)\n'}]",1,795557,2aead8bf81e6fa559a8d5d36c5489de98517bb87,15,3,2,11655,,,0,"Automatically retry HTTP 5xx on GET requests

I have experienced this pretty often when testing secure boot
on Dell R430.

Story: #2008563
Task: #41702
Change-Id: I615e806196740af208ff7f68f814929a2fdc0332
(cherry picked from commit 09cee5cdc354c355a01a623bde479a03199dc1e2)
(cherry picked from commit 76e7b04ced5d97d18d3925d4d5e73827b83fb3da)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/57/795557/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/get-retry-9ca311caf8a0b7bb.yaml', 'sushy/connector.py', 'sushy/tests/unit/test_connector.py']",3,8a554b425b31f7805c7894b5db56066c1b68fd2c,," @mock.patch('time.sleep', autospec=True) def test_not_found_error(self, mock_sleep): self.assertFalse(mock_sleep.called) self.assertEqual(1, self.request.call_count) @mock.patch('time.sleep', autospec=True) def test_server_error(self, mock_sleep): self.assertEqual(5, mock_sleep.call_count) self.assertEqual(6, self.request.call_count)", def test_not_found_error(self): def test_server_error(self):,30,3
openstack%2Fmagnum~master~Ie25c2748eb2acb6f1ad6bf019a10562628a51010,openstack/magnum,master,Ie25c2748eb2acb6f1ad6bf019a10562628a51010,Fix docs,MERGED,2022-01-20 15:01:54.000000000,2022-01-20 15:51:28.000000000,2022-01-20 15:49:23.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-20 15:01:54.000000000', 'files': ['doc/source/index.rst', 'doc/source/user/index.rst', 'doc/source/user/monitoring.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/a9b9ba2361a113d0cd132062d156e6bbd2131648', 'message': 'Fix docs\n\nChange-Id: Ie25c2748eb2acb6f1ad6bf019a10562628a51010\n'}]",1,825518,a9b9ba2361a113d0cd132062d156e6bbd2131648,7,2,1,32657,,,0,"Fix docs

Change-Id: Ie25c2748eb2acb6f1ad6bf019a10562628a51010
",git fetch https://review.opendev.org/openstack/magnum refs/changes/18/825518/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/user/index.rst', 'doc/source/user/monitoring.rst']",3,a9b9ba2361a113d0cd132062d156e6bbd2131648,,.. _monitoring:,"As of this moment, monitoring is only supported for kubernetes clusters.",26,24
openstack%2Ftripleo-validations~stable%2Fussuri~I333464bea2917de17b5b87ba9e5f109cb400cf15,openstack/tripleo-validations,stable/ussuri,I333464bea2917de17b5b87ba9e5f109cb400cf15,fix(ci): Install python3 package first,MERGED,2022-01-19 09:44:14.000000000,2022-01-20 15:39:36.000000000,2022-01-20 15:37:25.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-19 09:44:14.000000000', 'files': ['scripts/run-local-test', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2c73420ce5949089ee47a17491dadffa3b968bfc', 'message': 'fix(ci): Install python3 package first\n\nThe run-local-test script is intended to be executed on a CentOS 8\nmachine. In case of a minimal installation, only the internal Python\ninterpreter is installed (/usr/libexec/platform-python). This patch\nmakes sure that the Python 3 package is installed first.\n\nJIRA: #VALFRWK-701\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I333464bea2917de17b5b87ba9e5f109cb400cf15\n(cherry picked from commit 772d98cf2405fddb849f030e84d8d176b73a4428)\n(cherry picked from commit 958160d30d03c11b8e9155b443d1864d37feb40b)\n(cherry picked from commit e202b48675de9afcbeaf7e449e2a9146418ec5fd)\n'}]",0,825284,2c73420ce5949089ee47a17491dadffa3b968bfc,7,5,1,11491,,,0,"fix(ci): Install python3 package first

The run-local-test script is intended to be executed on a CentOS 8
machine. In case of a minimal installation, only the internal Python
interpreter is installed (/usr/libexec/platform-python). This patch
makes sure that the Python 3 package is installed first.

JIRA: #VALFRWK-701

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I333464bea2917de17b5b87ba9e5f109cb400cf15
(cherry picked from commit 772d98cf2405fddb849f030e84d8d176b73a4428)
(cherry picked from commit 958160d30d03c11b8e9155b443d1864d37feb40b)
(cherry picked from commit e202b48675de9afcbeaf7e449e2a9146418ec5fd)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/84/825284/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/run-local-test', 'doc/source/contributing/developer_guide.rst']",2,2c73420ce5949089ee47a17491dadffa3b968bfc,, $ cd tripleo-validations,,5,2
openstack%2Fmanila-tempest-plugin~master~I1a52f49a424f751144b398d0d7750dc6a7090daf,openstack/manila-tempest-plugin,master,I1a52f49a424f751144b398d0d7750dc6a7090daf,Added code to show share network neutron_net_id,MERGED,2019-11-20 16:40:07.000000000,2022-01-20 15:24:40.000000000,2022-01-20 15:24:40.000000000,"[{'_account_id': 6413}, {'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30025}]","[{'number': 1, 'created': '2019-11-20 16:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/884dcffc5fc5b5cdfd4626456eaaf22a16c92a9d', 'message': ""Added script to Show share network details for 'neutron network ID'.\n\nChange-Id: I1a52f49a424f751144b398d0d7750dc6a7090daf\n""}, {'number': 2, 'created': '2019-11-21 14:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ce38e9299825ac8c249adb56082d316d00a25497', 'message': ""Added script to Show share network details for 'neutron network ID'\n\nChange-Id: I1a52f49a424f751144b398d0d7750dc6a7090daf\n""}, {'number': 3, 'created': '2019-11-21 14:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b4e37178f97c43492e67a113fb831656451f7555', 'message': 'Added code to show share network neutron_net_id\n\nChange-Id: I1a52f49a424f751144b398d0d7750dc6a7090daf\n'}, {'number': 4, 'created': '2019-11-22 18:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/9f34267719b18a2a27739f34aca2a6d364ad5aa8', 'message': 'Added code to show share network neutron_net_id\n\nChange-Id: I1a52f49a424f751144b398d0d7750dc6a7090daf\n'}, {'number': 5, 'created': '2019-11-22 21:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/63c8a424dd8bf3f0fba17e3e39074eabb6d1a363', 'message': 'Added code to show share network neutron_net_id\n\nChange-Id: I1a52f49a424f751144b398d0d7750dc6a7090daf\n'}, {'number': 6, 'created': '2019-12-05 18:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/132f6db70fef47a4fd1b9ea0558c8133dd613128', 'message': 'Added code to show share network neutron_net_id\n\nChange-Id: I1a52f49a424f751144b398d0d7750dc6a7090daf\n'}, {'number': 7, 'created': '2019-12-05 21:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/829bf9ff082ebbf2708e31ccf0fe6adb83c451ce', 'message': 'Added code to show share network neutron_net_id\n\nChange-Id: I1a52f49a424f751144b398d0d7750dc6a7090daf\n'}, {'number': 8, 'created': '2020-03-10 16:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/75c774c3cfdf434dbbeff5f197dbb9db46dc7bd2', 'message': 'Added code to show share network neutron_net_id\n\nChange-Id: I1a52f49a424f751144b398d0d7750dc6a7090daf\n'}, {'number': 9, 'created': '2022-01-17 14:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/bec02357013d5c8ac9b18a50ae149bc0d74a0ea8', 'message': 'Added code to show share network neutron_net_id\n\nConsolidated this test with test_mtu_with_neutron,\nand test_gateway_with_neutron tests.\n\nChange-Id: I1a52f49a424f751144b398d0d7750dc6a7090daf\n'}, {'number': 10, 'created': '2022-01-18 10:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/5e8059e7411418fdcc3ee8387dbca9d86dd34f75', 'message': 'Added code to show share network neutron_net_id\n\nConsolidated this test with test_mtu_with_neutron,\nand test_gateway_with_neutron tests.\n\nChange-Id: I1a52f49a424f751144b398d0d7750dc6a7090daf\n'}, {'number': 11, 'created': '2022-01-18 13:45:07.000000000', 'files': ['manila_tempest_tests/tests/api/test_share_networks.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/73e0b6fdc450b7539bf6a97349f5774177ffb24a', 'message': 'Added code to show share network neutron_net_id\n\nConsolidated this test with test_mtu_with_neutron,\nand test_gateway_with_neutron tests.\n\nChange-Id: I1a52f49a424f751144b398d0d7750dc6a7090daf\n'}]",7,695244,73e0b6fdc450b7539bf6a97349f5774177ffb24a,51,6,11,30025,,,0,"Added code to show share network neutron_net_id

Consolidated this test with test_mtu_with_neutron,
and test_gateway_with_neutron tests.

Change-Id: I1a52f49a424f751144b398d0d7750dc6a7090daf
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/44/695244/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/test_share_networks.py'],1,884dcffc5fc5b5cdfd4626456eaaf22a16c92a9d,change-695244," print(data) def test_create_share_network(self): # generate data for share network data = self.generate_share_network_data() # create share network sn1 = self.shares_client.create_share_network(**data) self.assertDictContainsSubset(data, sn1) # Delete first share network self.shares_client.delete_share_network(sn1[""id""]) @tc.attr(base.TAG_POSITIVE, base.TAG_API) utils.share_network_get_default_subnet(details) @testtools.skipUnless(CONF.share.create_networks_when_multitenancy_enabled, ""Only for setups with network creation."") @testtools.skipUnless(CONF.share.multitenancy_enabled, ""Only for multitenancy."") @testtools.skipUnless(CONF.service_available.neutron, ""Only with neutron."") @base.skip_if_microversion_lt(""2.20"") @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_neutron_net_id_with_neutron(self): network_client = self.networks_client self.create_share(share_type_id=self.share_type_id, cleanup_in_class=False) share_net_details = self.shares_v2_client.get_share_network( self.shares_v2_client.share_network_id) share_net_info = ( utils.share_network_get_default_subnet(details) if utils.share_network_subnets_are_supported() else share_net_details) network_details = network_client.show_network( share_net_info['neutron_net_id']) self.assertEqual(network_details['network']['neutron_net_id'], share_net_info['neutron_net_id'])", utils.share_network_get_default_subnet(share_net_details),38,1
openstack%2Ftripleo-validations~stable%2Fvictoria~I333464bea2917de17b5b87ba9e5f109cb400cf15,openstack/tripleo-validations,stable/victoria,I333464bea2917de17b5b87ba9e5f109cb400cf15,fix(ci): Install python3 package first,MERGED,2022-01-19 09:42:34.000000000,2022-01-20 15:14:10.000000000,2022-01-20 15:11:47.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-19 09:42:34.000000000', 'files': ['scripts/run-local-test', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e202b48675de9afcbeaf7e449e2a9146418ec5fd', 'message': 'fix(ci): Install python3 package first\n\nThe run-local-test script is intended to be executed on a CentOS 8\nmachine. In case of a minimal installation, only the internal Python\ninterpreter is installed (/usr/libexec/platform-python). This patch\nmakes sure that the Python 3 package is installed first.\n\nJIRA: #VALFRWK-701\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I333464bea2917de17b5b87ba9e5f109cb400cf15\n(cherry picked from commit 772d98cf2405fddb849f030e84d8d176b73a4428)\n(cherry picked from commit 958160d30d03c11b8e9155b443d1864d37feb40b)\n'}]",0,825282,e202b48675de9afcbeaf7e449e2a9146418ec5fd,8,5,1,11491,,,0,"fix(ci): Install python3 package first

The run-local-test script is intended to be executed on a CentOS 8
machine. In case of a minimal installation, only the internal Python
interpreter is installed (/usr/libexec/platform-python). This patch
makes sure that the Python 3 package is installed first.

JIRA: #VALFRWK-701

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I333464bea2917de17b5b87ba9e5f109cb400cf15
(cherry picked from commit 772d98cf2405fddb849f030e84d8d176b73a4428)
(cherry picked from commit 958160d30d03c11b8e9155b443d1864d37feb40b)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/82/825282/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/run-local-test', 'doc/source/contributing/developer_guide.rst']",2,e202b48675de9afcbeaf7e449e2a9146418ec5fd,, $ cd tripleo-validations,,5,2
openstack%2Fgovernance~master~I5d83cace204d77898eff52f9c4dc59fc3060ef8f,openstack/governance,master,I5d83cace204d77898eff52f9c4dc59fc3060ef8f,Starting the 'Z' release naming process,MERGED,2022-01-11 15:12:04.000000000,2022-01-20 15:11:24.000000000,2022-01-20 01:35:28.000000000,"[{'_account_id': 2033}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 15993}, {'_account_id': 16708}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-11 15:12:04.000000000', 'files': ['reference/release-naming.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/751d815f5d21d407cd8ac3fc391700b88fe82b2c', 'message': ""Starting the 'Z' release naming process\n\nThis is to start the naming process for 'Z' release. It will\nfollow the release name process as defined in\n- https://governance.openstack.org/tc/reference/release-naming.html\n\nBelow wiki page will be used to collect the nomination from\nthe community:\n\n- https://wiki.openstack.org/wiki/Release_Naming/Z_Proposals\n\nChange-Id: I5d83cace204d77898eff52f9c4dc59fc3060ef8f\n""}]",7,824201,751d815f5d21d407cd8ac3fc391700b88fe82b2c,22,9,1,8556,,,0,"Starting the 'Z' release naming process

This is to start the naming process for 'Z' release. It will
follow the release name process as defined in
- https://governance.openstack.org/tc/reference/release-naming.html

Below wiki page will be used to collect the nomination from
the community:

- https://wiki.openstack.org/wiki/Release_Naming/Z_Proposals

Change-Id: I5d83cace204d77898eff52f9c4dc59fc3060ef8f
",git fetch https://review.opendev.org/openstack/governance refs/changes/01/824201/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/release-naming.rst'],1,751d815f5d21d407cd8ac3fc391700b88fe82b2c,formal-vote,Z Ghanshyam Mann 2022-01-11 2022-01-25 2022-02-01 N/A,,1,0
openstack%2Ftripleo-validations~stable%2Fwallaby~I333464bea2917de17b5b87ba9e5f109cb400cf15,openstack/tripleo-validations,stable/wallaby,I333464bea2917de17b5b87ba9e5f109cb400cf15,fix(ci): Install python3 package first,MERGED,2022-01-19 09:37:46.000000000,2022-01-20 15:09:57.000000000,2022-01-20 15:07:42.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-19 09:37:46.000000000', 'files': ['scripts/run-local-test', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/958160d30d03c11b8e9155b443d1864d37feb40b', 'message': 'fix(ci): Install python3 package first\n\nThe run-local-test script is intended to be executed on a CentOS 8\nmachine. In case of a minimal installation, only the internal Python\ninterpreter is installed (/usr/libexec/platform-python). This patch\nmakes sure that the Python 3 package is installed first.\n\nJIRA: #VALFRWK-701\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I333464bea2917de17b5b87ba9e5f109cb400cf15\n(cherry picked from commit 772d98cf2405fddb849f030e84d8d176b73a4428)\n'}]",0,825280,958160d30d03c11b8e9155b443d1864d37feb40b,8,5,1,11491,,,0,"fix(ci): Install python3 package first

The run-local-test script is intended to be executed on a CentOS 8
machine. In case of a minimal installation, only the internal Python
interpreter is installed (/usr/libexec/platform-python). This patch
makes sure that the Python 3 package is installed first.

JIRA: #VALFRWK-701

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I333464bea2917de17b5b87ba9e5f109cb400cf15
(cherry picked from commit 772d98cf2405fddb849f030e84d8d176b73a4428)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/80/825280/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/run-local-test', 'doc/source/contributing/developer_guide.rst']",2,958160d30d03c11b8e9155b443d1864d37feb40b,, $ cd tripleo-validations,,5,2
openstack%2Ftripleo-repos~master~I015145ce615bffbd1ef0c76814688de4514b29a9,openstack/tripleo-repos,master,I015145ce615bffbd1ef0c76814688de4514b29a9,Fix ceph repos for stream,MERGED,2022-01-19 21:38:19.000000000,2022-01-20 15:07:11.000000000,2022-01-20 15:07:11.000000000,"[{'_account_id': 8367}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-01-19 21:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/0fb27c24759d183a48f8ba1c7792fabb23f45179', 'message': 'Fix ceph repos for stream\n\nIn CentOS 9 stream the ceph repos are part of a SIGs namespace.\nAdditionally CentOS 8 is now stream only so we should use the 8-stream\nversion of the storage repos.\n\nChange-Id: I015145ce615bffbd1ef0c76814688de4514b29a9\n'}, {'number': 2, 'created': '2022-01-19 22:12:31.000000000', 'files': ['plugins/module_utils/tripleo_repos/main.py', 'tests/unit/tripleo_repos/test_main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/4a6c30f8914f5c5a10de722b0edaa75e67055625', 'message': 'Fix ceph repos for stream\n\nIn CentOS 9 stream the ceph repos are part of a SIGs namespace.\nAdditionally CentOS 8 is now stream only so we should use the 8-stream\nversion of the storage repos.\n\nChange-Id: I015145ce615bffbd1ef0c76814688de4514b29a9\n'}]",2,825402,4a6c30f8914f5c5a10de722b0edaa75e67055625,10,5,2,14985,,,0,"Fix ceph repos for stream

In CentOS 9 stream the ceph repos are part of a SIGs namespace.
Additionally CentOS 8 is now stream only so we should use the 8-stream
version of the storage repos.

Change-Id: I015145ce615bffbd1ef0c76814688de4514b29a9
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/02/825402/2 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/module_utils/tripleo_repos/main.py', 'tests/unit/tripleo_repos/test_main.py']",2,0fb27c24759d183a48f8ba1c7792fabb23f45179,fix-c9,"baseurl=http://foo/SIGs/9-stream/storage/$basearch/ceph-jewel/ mock_args = mock.Mock(mirror='http://foo', distro='centos8') result = main._create_ceph(mock_args, 'jewel') expected_repo = ''' [tripleo-centos-ceph-jewel] name=tripleo-centos-ceph-jewel baseurl=http://foo/centos/8-stream/storage/$basearch/ceph-jewel/ gpgcheck=0 enabled=1 ''' self.assertEqual(expected_repo, result) ",baseurl=http://foo/centos/8/storage/$basearch/ceph-jewel/,32,5
openstack%2Ftripleo-validations~stable%2Ftrain~I333464bea2917de17b5b87ba9e5f109cb400cf15,openstack/tripleo-validations,stable/train,I333464bea2917de17b5b87ba9e5f109cb400cf15,fix(ci): Install python3 package first,MERGED,2022-01-19 09:46:48.000000000,2022-01-20 14:59:06.000000000,2022-01-20 14:57:09.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-19 09:46:48.000000000', 'files': ['scripts/run-local-test', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/267f27c6efc01cf66715dcf20cefefa742dedac8', 'message': 'fix(ci): Install python3 package first\n\nThe run-local-test script is intended to be executed on a CentOS 8\nmachine. In case of a minimal installation, only the internal Python\ninterpreter is installed (/usr/libexec/platform-python). This patch\nmakes sure that the Python 3 package is installed first.\n\nJIRA: #VALFRWK-701\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I333464bea2917de17b5b87ba9e5f109cb400cf15\n(cherry picked from commit 772d98cf2405fddb849f030e84d8d176b73a4428)\n(cherry picked from commit 958160d30d03c11b8e9155b443d1864d37feb40b)\n(cherry picked from commit e202b48675de9afcbeaf7e449e2a9146418ec5fd)\n(cherry picked from commit 2c73420ce5949089ee47a17491dadffa3b968bfc)\n'}]",0,825287,267f27c6efc01cf66715dcf20cefefa742dedac8,7,5,1,11491,,,0,"fix(ci): Install python3 package first

The run-local-test script is intended to be executed on a CentOS 8
machine. In case of a minimal installation, only the internal Python
interpreter is installed (/usr/libexec/platform-python). This patch
makes sure that the Python 3 package is installed first.

JIRA: #VALFRWK-701

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I333464bea2917de17b5b87ba9e5f109cb400cf15
(cherry picked from commit 772d98cf2405fddb849f030e84d8d176b73a4428)
(cherry picked from commit 958160d30d03c11b8e9155b443d1864d37feb40b)
(cherry picked from commit e202b48675de9afcbeaf7e449e2a9146418ec5fd)
(cherry picked from commit 2c73420ce5949089ee47a17491dadffa3b968bfc)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/87/825287/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/run-local-test', 'doc/source/contributing/developer_guide.rst']",2,267f27c6efc01cf66715dcf20cefefa742dedac8,, $ cd tripleo-validations,,5,2
openstack%2Fneutron~stable%2Fxena~I746b34ec6de5a49bec22a7275943fc9fc69f40d5,openstack/neutron,stable/xena,I746b34ec6de5a49bec22a7275943fc9fc69f40d5,WIP: allow multiple segments per host,ABANDONED,2022-01-14 14:14:09.000000000,2022-01-20 14:59:02.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 14:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/22b2bf2606571df7005150c271f7be63bed5046b', 'message': 'WIP: allow multiple segments per host\n\nOVS support was implemented here\n\nCloses-Bug: #1956435\nChange-Id: I746b34ec6de5a49bec22a7275943fc9fc69f40d5\n'}, {'number': 2, 'created': '2022-01-18 13:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/986b6f5314660a756a11080cf7fa07aaa157b5bf', 'message': 'WIP: allow multiple segments per host\n\nOVS support was implemented here\n\nCloses-Bug: #1956435\nChange-Id: I746b34ec6de5a49bec22a7275943fc9fc69f40d5\n'}, {'number': 3, 'created': '2022-01-18 16:42:01.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_vlanmanager.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/vlanmanager.py', 'neutron/plugins/ml2/drivers/agent/_common_agent.py', 'neutron/agent/linux/dhcp.py', 'neutron/agent/rpc.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/agent/_agent_manager_base.py', 'neutron/plugins/ml2/drivers/mech_agent.py', 'neutron/plugins/ml2/drivers/l2pop/rpc_manager/l2population_rpc.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/rpc_manager/l2population_rpc_base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7fb8e1c04b210aef8acc4e2697c29c9cedb95ab4', 'message': 'WIP: allow multiple segments per host\n\nOVS support was implemented here\n\nCloses-Bug: #1956435\nChange-Id: I746b34ec6de5a49bec22a7275943fc9fc69f40d5\n'}]",61,824718,7fb8e1c04b210aef8acc4e2697c29c9cedb95ab4,15,2,3,11928,,,0,"WIP: allow multiple segments per host

OVS support was implemented here

Closes-Bug: #1956435
Change-Id: I746b34ec6de5a49bec22a7275943fc9fc69f40d5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/824718/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/agent/_agent_manager_base.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/vlanmanager.py', 'neutron/plugins/ml2/drivers/mech_agent.py', 'neutron/plugins/ml2/drivers/agent/_common_agent.py', 'neutron/agent/linux/dhcp.py', 'neutron/agent/rpc.py', 'neutron/plugins/ml2/plugin.py']",8,22b2bf2606571df7005150c271f7be63bed5046b,dhcp_tap_per_subnet," # For routed networks, inject segment_id into the fixed IP records if not orig_context._network_context._network.get('l2_adjacency', True): for ip in port['fixed_ips']: try: subnet = self.get_subnet(orig_context._plugin_context, ip['subnet_id']) except exc.SubnetNotFound: continue else: ip['segment_id'] = subnet.get('segment_id')",,197,134
openstack%2Fpython-manilaclient~stable%2Fvictoria~I651f3cc6429801db4c04813a60ddb4ec2871f2a1,openstack/python-manilaclient,stable/victoria,I651f3cc6429801db4c04813a60ddb4ec2871f2a1,Fix the id attr for share group type access repr,MERGED,2021-12-08 17:57:55.000000000,2022-01-20 14:50:01.000000000,2022-01-20 14:48:11.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-12-08 17:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/898f1ee27d143b279b77fa98a83389a37bb3618e', 'message': 'Fix the id attr for share group type access repr\n\nThe correct attribute name for the share group type access\nrepr is share_group_type_id, not id. This patch set fixes that.\n\nCloses-Bug: #1953670\nChange-Id: I651f3cc6429801db4c04813a60ddb4ec2871f2a1\n'}, {'number': 2, 'created': '2022-01-18 19:59:32.000000000', 'files': ['releasenotes/notes/bug-1953670-fix-id-attr-for-share-group-type-access-repr-008338a53d7a6a50.yaml', 'manilaclient/tests/unit/v2/test_share_group_type_access.py', 'manilaclient/v2/share_group_type_access.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/ab673a2783e09256718b22bc44c3e394646d958b', 'message': 'Fix the id attr for share group type access repr\n\nThe correct attribute name for the share group type access\nrepr is share_group_type_id, not id. This patch set fixes that.\n\nCloses-Bug: #1953670\nChange-Id: I651f3cc6429801db4c04813a60ddb4ec2871f2a1\n(cherry picked from commit dcb25e54e994568f955b7499e59dacecbee70fcb)\n(cherry picked from commit dfd9f830dae5e58131c8451e8c3851b5beeafc87)\n(cherry picked from commit a9d1193741f75f7a11d92a7d117bc3d666da1d95)\n'}]",2,821040,ab673a2783e09256718b22bc44c3e394646d958b,13,3,2,6413,,,0,"Fix the id attr for share group type access repr

The correct attribute name for the share group type access
repr is share_group_type_id, not id. This patch set fixes that.

Closes-Bug: #1953670
Change-Id: I651f3cc6429801db4c04813a60ddb4ec2871f2a1
(cherry picked from commit dcb25e54e994568f955b7499e59dacecbee70fcb)
(cherry picked from commit dfd9f830dae5e58131c8451e8c3851b5beeafc87)
(cherry picked from commit a9d1193741f75f7a11d92a7d117bc3d666da1d95)
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/40/821040/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/v2/test_share_group_type_access.py', 'manilaclient/v2/share_group_type_access.py']",2,898f1ee27d143b279b77fa98a83389a37bb3618e,bug/1953670," return ""<Share Group Type Access: %s>"" % self.share_group_type_id"," return ""<Share Group Type Access: %s>"" % self.id",3,2
openstack%2Fneutron~stable%2Fussuri~I40b72316bd0f4281484d3cf07542177297028e34,openstack/neutron,stable/ussuri,I40b72316bd0f4281484d3cf07542177297028e34,Register cleanup hooks for the object change handlers only when needed,MERGED,2022-01-17 07:08:48.000000000,2022-01-20 14:39:26.000000000,2022-01-20 14:37:26.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-17 07:08:48.000000000', 'files': ['neutron/plugins/ml2/ovo_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bbdf1ba7c27f97068f6b5875255a0ffbaf8149bd', 'message': 'Register cleanup hooks for the object change handlers only when needed\n\nIn patch [1] there was added threads for the object change handlers and\nthis patch also added cleanup method which was registered to be linked\nwith the SIGINT, SIGTERM and run ""atexit"" to clean all object change\nhandler threads. But that cleanup was linked with those signals always\nwhen neutron.plugins.ml2.ovo_rpc module was imported and that can cause\ne.g. some errors in the functional tests (we saw them only in the\nstable/train branch so far but maybe it can happen also in other\nbranches).\nTo avoid that, this patch links cleanup with those signals only when\nobject change handler threads are really started.\n\nRelated-Bug: #1926417\n\n[1] https://review.opendev.org/c/openstack/neutron/+/788510\n\nChange-Id: I40b72316bd0f4281484d3cf07542177297028e34\n(cherry picked from commit bbc5af116686a25a942fd0f70c09a69271f43c84)\n'}]",4,824875,bbdf1ba7c27f97068f6b5875255a0ffbaf8149bd,26,3,1,11975,,,0,"Register cleanup hooks for the object change handlers only when needed

In patch [1] there was added threads for the object change handlers and
this patch also added cleanup method which was registered to be linked
with the SIGINT, SIGTERM and run ""atexit"" to clean all object change
handler threads. But that cleanup was linked with those signals always
when neutron.plugins.ml2.ovo_rpc module was imported and that can cause
e.g. some errors in the functional tests (we saw them only in the
stable/train branch so far but maybe it can happen also in other
branches).
To avoid that, this patch links cleanup with those signals only when
object change handler threads are really started.

Related-Bug: #1926417

[1] https://review.opendev.org/c/openstack/neutron/+/788510

Change-Id: I40b72316bd0f4281484d3cf07542177297028e34
(cherry picked from commit bbc5af116686a25a942fd0f70c09a69271f43c84)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/824875/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/ovo_rpc.py'],1,bbdf1ba7c27f97068f6b5875255a0ffbaf8149bd,bug/1926417-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,"def _setup_change_handlers_cleanup(): atexit.register(_ObjectChangeHandler.clean_up) signal.signal(signal.SIGINT, _ObjectChangeHandler.clean_up) signal.signal(signal.SIGTERM, _ObjectChangeHandler.clean_up) _setup_change_handlers_cleanup()"," atexit.register(_ObjectChangeHandler.clean_up) signal.signal(signal.SIGINT, _ObjectChangeHandler.clean_up) signal.signal(signal.SIGTERM, _ObjectChangeHandler.clean_up)",7,5
openstack%2Fcharm-specs~master~I95891c8b902cf8108160d75d1aadd038e51c479e,openstack/charm-specs,master,I95891c8b902cf8108160d75d1aadd038e51c479e,Add spec for emulated TPM support,MERGED,2022-01-12 03:22:56.000000000,2022-01-20 14:09:27.000000000,2022-01-20 14:07:55.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 03:22:56.000000000', 'files': ['specs/yoga/approved/vtpm-support.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/a2afd457f03f54813db6fb9d0ab33f5ea3c7a093', 'message': 'Add spec for emulated TPM support\n\nAdd the specification for emulated TPM support for OpenStack Charms.\n\nChange-Id: I95891c8b902cf8108160d75d1aadd038e51c479e\n'}]",0,824278,a2afd457f03f54813db6fb9d0ab33f5ea3c7a093,7,2,1,8992,,,0,"Add spec for emulated TPM support

Add the specification for emulated TPM support for OpenStack Charms.

Change-Id: I95891c8b902cf8108160d75d1aadd038e51c479e
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/78/824278/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/approved/vtpm-support.rst'],1,a2afd457f03f54813db6fb9d0ab33f5ea3c7a093,vtpm-support,".. Copyright 2022 Canonical Ltd. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. ====================== Virtual TPM Enablement ====================== Increasingly, applications and Operating Systems are using TPM devices to store secrets. In order to run these application in a virtual machine, it is necessary to be able to expose a virtual TPM device within the guest. Problem Description =================== Guests requiring access to TPMs for secret storage are unable to do so in an OpenStack Charms deployed cloud. Proposed Change =============== Nova is able to provide virtual TPM devices to guests starting in the Victoria release [1]_, [2]_. TPM devices are provided to libvirt/qemu guests via the swtpm library. The ``nova-compute`` charm should be able to install and configure the necessary libraries for providing emulated TPM devices. It will do so by default for new installations and installations that upgrade to a version of the ``nova-compute`` charm which has the feature set enabled. This will cause the nova-compute service on the local machine to report that it has the ``COMPUTE_SECURITY_TPM_1_2`` and ``COMPUTE_SECURITY_TPM_2_0`` traits. While the compute nodes will report that they have the necessary traits, new instances will not have TPM devices attached unless the flavor and/or image has the appropriate properties configured. It is considered an administrative decision to determine which images or flavors should have TPM devices enabled and is out of scope for this implementation. The above also makes it generally safe to enable by default for users who upgrade their charms to a version that has this capability enabled. While it may be safe to enable by default, a configuration option will be provided to disable it. Charm Configuration Options --------------------------- The following configuration options will be available on the ``nova-compute`` charm: * A new config option will be introduced in order to enable or disable vTPM support:: enable-vtpm: type: boolean default: True description: | Enable emulated Trusted Platform Module support on the hypervisors. A key manager, e.g. Barbican, is a required service for this capability to be enabled. Configuration Files ------------------- The swtpm package in Ubuntu does not use the tss/tss user/group that is the default for qemu, nova, etc. Instead, the swtpm package configures the user/group as swtpm/swtpm as the swtpm user does not need the same level of permissions that the existing tss user has. This requires some additional changes to configuration files. Enabling virtual TPM support using OpenStack charms will require the following configuration files to be updated: * */etc/libvirt/qemu.conf* - the `swtpm_user` and `swtpm_group` values need to be set to the same users that the swtpm software package expects. This will cause the qemu configuration file to look as follows:: ########################################################################## # [ WARNING ] # Configuration file maintained by Juju. Local changes may be overwritten. ########################################################################## # File installed by Juju nova-compute charm cgroup_device_acl = [ ""/dev/null"", ""/dev/full"", ""/dev/zero"", ""/dev/random"", ""/dev/urandom"", ""/dev/ptmx"", ""/dev/kvm"", ""/dev/kqemu"", ""/dev/rtc"", ""/dev/hpet"", ""/dev/net/tun"", ""/dev/vfio/vfio"", ] swtpm_user = ""swtpm"" swtpm_group = ""swtpm"" * */etc/nova/nova-compute.conf* - similar to the qemu config changes, the nova services need to specify which user and group should be configured in libvirt for qemu instances. It will also have the global flag for enabled or not enabled:: ########################################################################## # [ WARNING ] # Configuration file maintained by Juju. Local changes may be overwritten. ########################################################################## [DEFAULT] compute_driver=libvirt.LibvirtDriver swtpm_enabled=True swtpm_user=swtpm swtpm_group=swtpm Non-Charm Configuration ----------------------- Enabling vTPM support in the nova compute charm will cause the nova hypervisor to report the ``COMPUTE_SECURITY_TPM_1_2`` and ``COMPUTE_SECURITY_2_0`` traits to the placement service. Additional steps need to be taken by the cloud operator/administrator in order to make this feature available to guests by configuring the appropriate properties on images or flavors. Nova uses information from the extra specs configured on the flavor or properties set on an image in order to determine whether or not to add a vTPM device. As such, the hypervisor may be configured to have the necessary traits exposed to allow for a vTPM device, but the device will not be provisioned for a guest unless the operator appropriately configures the images and/or flavors. Refer to the Nova documentation [2]_ for the specific extra specs and properties that need to be set to provide vTPM devices to guests. Barbican -------- The swtpm library which provides emulated TPM devices encrypts secrets locally in files on the file system. Nova uses the Barbican key manager service for secret storage, which is already available as a charmed application. Conveniently, the default configuration for Nova will use the barbican services from the keystone catalog to store the necessary secrets. These secrets are scoped per project and the interactions with the secret store will happen with appropriate context of the user. As such, there's no additional information that the ``nova-compute`` charm requires in order to configure the nova compute services so additional relations are unnecessary. OpenStack Versions ------------------ This feature will be enabled for Wallaby and newer OpenStack releases. Operating System Versions ------------------------- This feature will be enabled for Ubuntu 20.04 (focal) and Ubuntu 22.04 (jammy). Juju Version Dependencies ------------------------- This feature has no dependency on Juju versions. Alternatives ------------ This is an optional section, where it does apply we'd just like a demonstration that some thought has been put into why the proposed approach is the best one. Implementation ============== Assignee(s) ----------- Primary assignee: billy-olsen Gerrit Topic ------------ Use Gerrit topic ""charm-vtpm"" for all patches related to this spec. .. code-block:: bash git-review -t charm-vtpm Work Items ---------- - Add configuration changes to nova-compute charm - Add functional tests to zaza-openstack-tests - Provide user documentation around enabling the feature and how to use Repositories ------------ No new repositories are required for this work. Documentation ------------- As part of this effort, the following documentation will need to be updated: - Charm Deployment Guide - Charm Readme - Charm Guide - Release Notes Security -------- The changes required in the charm do not introduce any security implications above and beyond what is outlined in the Nova specification for enabling emulated vTPM devices [1]_. Testing ------- Unit tests and functional tests will be implemented for this feature. The functional tests will validate the various TPM device configurations and validate that the TPM device is available within the guest. Dependencies ============ * Nova Wallaby version or greater. * swtpm TPM emulator [3]_ [4]_ * Focal-Wallaby support depends on swtpm package being backported to either the Wallaby Ubuntu Cloud Archive or Focal. Ubuntu developers have indicated a willingness to backport swtpm to Focal. .. [1] https://specs.openstack.org/openstack/nova-specs/specs/victoria/implemented/add-emulated-virtual-tpm.html .. [2] https://docs.openstack.org/nova/latest/admin/emulated-tpm.html .. [3] https://bugs.launchpad.net/ubuntu/+source/swtpm/+bug/1948748 .. [4] https://github.com/stefanberger/swtpm ",,241,0
openstack%2Fkolla-ansible~master~I827ed30d0247f21478a45d96ae8396ec0e778d3b,openstack/kolla-ansible,master,I827ed30d0247f21478a45d96ae8396ec0e778d3b,[CI] [to-revert] Avoid upgrades on CentOS Stream 8,MERGED,2022-01-17 08:59:05.000000000,2022-01-20 13:30:54.000000000,2022-01-17 14:48:18.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-01-17 08:59:05.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9449bcfb705f6547dd1774c33fdcb65784b9a490', 'message': '[CI] [to-revert] Avoid upgrades on CentOS Stream 8\n\nCentOS Stream 8 currently has a bug which makes it require root\nprivileges for ping.\nA workaround patch (see needed-by below) has been proposed, yet\nthe dependency on previous branches via the upgrade jobs make it\nfail the CI.\nThus, this patch temporarily disables those jobs on CentOS Stream 8.\nThis patch is to be reverted once we patch the affected branches.\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/824681\nChange-Id: I827ed30d0247f21478a45d96ae8396ec0e778d3b\n'}]",1,824903,9449bcfb705f6547dd1774c33fdcb65784b9a490,14,4,1,30491,,,0,"[CI] [to-revert] Avoid upgrades on CentOS Stream 8

CentOS Stream 8 currently has a bug which makes it require root
privileges for ping.
A workaround patch (see needed-by below) has been proposed, yet
the dependency on previous branches via the upgrade jobs make it
fail the CI.
Thus, this patch temporarily disables those jobs on CentOS Stream 8.
This patch is to be reverted once we patch the affected branches.

Needed-By: https://review.opendev.org/c/openstack/kolla-ansible/+/824681
Change-Id: I827ed30d0247f21478a45d96ae8396ec0e778d3b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/03/824903/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,9449bcfb705f6547dd1774c33fdcb65784b9a490,centos8-ping-pain,, - kolla-ansible-centos8s-source-upgrade - kolla-ansible-centos8s-source-upgrade-cephadm - kolla-ansible-centos8s-source-upgrade - kolla-ansible-centos8s-source-swift-upgrade,0,4
openstack%2Fmanila~master~I609bda7e7188cf7fbb33eef6ed5122e1e08a5177,openstack/manila,master,I609bda7e7188cf7fbb33eef6ed5122e1e08a5177,DNM: testing newest eventlet 0.26.1 version that fixes the HTTPS py37 bug,ABANDONED,2020-09-22 20:40:40.000000000,2022-01-20 13:15:46.000000000,,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 31721}]","[{'number': 1, 'created': '2020-09-22 20:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/71f7acc1c42c82ea25e2c09c64f75be581df6625', 'message': 'DNM: testing newest eventlet 0.26.1 version that fixes the HTTPS\npy37 bug\n\nChange-Id: I609bda7e7188cf7fbb33eef6ed5122e1e08a5177\n'}, {'number': 2, 'created': '2020-09-23 13:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f3e401c758b410095d06f9fb45fce1f60ed84071', 'message': 'DNM: testing newest eventlet 0.26.1 version that fixes the HTTPS\npy37 bug\n\nChange-Id: I609bda7e7188cf7fbb33eef6ed5122e1e08a5177\n'}, {'number': 3, 'created': '2020-09-23 14:46:42.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/manila/commit/e8b501501b9ca88668f729e31392fb8e9f9e00ac', 'message': 'DNM: testing newest eventlet 0.26.1 version that fixes the HTTPS\npy37 bug\n\nChange-Id: I609bda7e7188cf7fbb33eef6ed5122e1e08a5177\n'}]",0,753448,e8b501501b9ca88668f729e31392fb8e9f9e00ac,20,8,3,31721,,,0,"DNM: testing newest eventlet 0.26.1 version that fixes the HTTPS
py37 bug

Change-Id: I609bda7e7188cf7fbb33eef6ed5122e1e08a5177
",git fetch https://review.opendev.org/openstack/manila refs/changes/48/753448/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,71f7acc1c42c82ea25e2c09c64f75be581df6625,,eventlet==0.26.1,eventlet==0.22.0,2,2
openstack%2Fglance~master~I66be51f467fb9465fb479bdc823ade283a7ddaf9,openstack/glance,master,I66be51f467fb9465fb479bdc823ade283a7ddaf9,Figure out backend from URI,NEW,2021-07-27 15:31:44.000000000,2022-01-20 13:01:59.000000000,,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-27 15:31:44.000000000', 'files': ['glance/location.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/39654d32abc9a90702ca23d809761aa873fb903f', 'message': 'Figure out backend from URI\n\nAdd a mechanism in _check_image_location to retrieve the backend from\nURL if no backend provided in metadata.\n\nThis will avoid calling _check_location_uri with backend=None and fail\nwith an Invalid location.\n\nWe can endup in this situation when nova tries to PATCH an image by\nadding a location (nova is not populating the metadata). See [1]\n\n[1] https://github.com/openstack/nova/blob/master/nova/image/glance.py#L559\n\nChange-Id: I66be51f467fb9465fb479bdc823ade283a7ddaf9\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}]",4,802546,39654d32abc9a90702ca23d809761aa873fb903f,15,3,1,11583,,,0,"Figure out backend from URI

Add a mechanism in _check_image_location to retrieve the backend from
URL if no backend provided in metadata.

This will avoid calling _check_location_uri with backend=None and fail
with an Invalid location.

We can endup in this situation when nova tries to PATCH an image by
adding a location (nova is not populating the metadata). See [1]

[1] https://github.com/openstack/nova/blob/master/nova/image/glance.py#L559

Change-Id: I66be51f467fb9465fb479bdc823ade283a7ddaf9
Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/46/802546/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/location.py'],1,39654d32abc9a90702ca23d809761aa873fb903f,bug/1938265," # NOTE(amorin): if backend is not in metadata (e.g. request coming # from nova), then try to figure it out from URL if not backend: backend = store_utils._get_store_id_from_uri(location['url']) location['metadata']['backend'] = backend",,5,0
openstack%2Fkeystone~master~I25d3d467225cf9246c910dda6145f76be90fcc80,openstack/keystone,master,I25d3d467225cf9246c910dda6145f76be90fcc80,sql: Fold unique constraints into table definitions,MERGED,2022-01-06 10:48:49.000000000,2022-01-20 12:45:54.000000000,2022-01-20 12:43:48.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 10:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/42ec710e8d49c179ea20f340478a66b34c0cc3aa', 'message': ""sql: Fold unique constraints into table definitions\n\nThere's no need for these to live separately. It makes things more\nconfusing and makes the migration to alembic harder.\n\nChange-Id: I25d3d467225cf9246c910dda6145f76be90fcc80\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2022-01-14 19:14:29.000000000', 'files': ['keystone/common/sql/migrate_repo/versions/109_newton.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/7695d81a412ca340fa9773156000f04c0aaa592e', 'message': ""sql: Fold unique constraints into table definitions\n\nThere's no need for these to live separately. It makes things more\nconfusing and makes the migration to alembic harder.\n\nChange-Id: I25d3d467225cf9246c910dda6145f76be90fcc80\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",4,823665,7695d81a412ca340fa9773156000f04c0aaa592e,22,5,2,15334,,,0,"sql: Fold unique constraints into table definitions

There's no need for these to live separately. It makes things more
confusing and makes the migration to alembic harder.

Change-Id: I25d3d467225cf9246c910dda6145f76be90fcc80
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/65/823665/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/sql/migrate_repo/versions/109_newton.py'],1,42ec710e8d49c179ea20f340478a66b34c0cc3aa,bp/remove-sqlalchemy-migrate," migrate.UniqueConstraint( 'domain_id', 'name', name='ixu_group_name_domain_id', ), migrate.UniqueConstraint( 'domain_id', 'name', name='ixu_project_name_domain_id', ), migrate.UniqueConstraint( 'name', 'domain_id', name='ixu_role_name_domain_id', ), migrate.UniqueConstraint( 'domain_id', 'local_id', 'entity_type', name='domain_id', ),"," # Unique Constraints migrate.UniqueConstraint( group.c.domain_id, group.c.name, name='ixu_group_name_domain_id', ).create() migrate.UniqueConstraint( role.c.name, role.c.domain_id, name='ixu_role_name_domain_id', ).create() migrate.UniqueConstraint( project.c.domain_id, project.c.name, name='ixu_project_name_domain_id', ).create() migrate.UniqueConstraint( id_mapping.c.domain_id, id_mapping.c.local_id, id_mapping.c.entity_type, name='domain_id', ).create() ",21,23
openstack%2Fkeystone~master~I35c5e7db475fc63586be837663ba0095af7704e8,openstack/keystone,master,I35c5e7db475fc63586be837663ba0095af7704e8,sql: Fold indexes into table defintions,MERGED,2022-01-06 10:48:49.000000000,2022-01-20 12:39:07.000000000,2022-01-20 12:37:13.000000000,"[{'_account_id': 7414}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 10:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/315c4dfffdd8f083825994b3bc0a996471632478', 'message': ""sql: Fold indexes into table defintions\n\nThere's no need for these to live separately. It makes things more\nconfusing and makes the migration to alembic harder.\n\nChange-Id: I35c5e7db475fc63586be837663ba0095af7704e8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2022-01-14 19:14:29.000000000', 'files': ['keystone/common/sql/migrate_repo/versions/109_newton.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8f31e2ac60cc22bfb8d2f474cadefee0356a8c78', 'message': ""sql: Fold indexes into table defintions\n\nThere's no need for these to live separately. It makes things more\nconfusing and makes the migration to alembic harder.\n\nChange-Id: I35c5e7db475fc63586be837663ba0095af7704e8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",4,823664,8f31e2ac60cc22bfb8d2f474cadefee0356a8c78,22,4,2,15334,,,0,"sql: Fold indexes into table defintions

There's no need for these to live separately. It makes things more
confusing and makes the migration to alembic harder.

Change-Id: I35c5e7db475fc63586be837663ba0095af7704e8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/64/823664/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/sql/migrate_repo/versions/109_newton.py'],1,315c4dfffdd8f083825994b3bc0a996471632478,bp/remove-sqlalchemy-migrate," # NOTE(stevemar): The index was named 'service_id' in # 050_fk_consistent_indexes.py and needs to be preserved sql.Index('service_id', 'service_id'), sql.Index('ix_token_expires', 'expires'), sql.Index( 'ix_token_expires_valid', 'expires', 'valid' ), sql.Index('ix_token_user_id', 'user_id'), sql.Index('ix_token_trust_id', 'trust_id'), # NOTE(stevemar): The index was named 'group_id' in # 050_fk_consistent_indexes.py and needs to be preserved sql.Index('group_id', 'group_id'), sql.Index('ix_actor_id', 'actor_id'),"," # Indexes sql.Index('ix_token_expires', token.c.expires).create() sql.Index( 'ix_token_expires_valid', token.c.expires, token.c.valid, ).create() sql.Index('ix_actor_id', assignment.c.actor_id).create() sql.Index('ix_token_user_id', token.c.user_id).create() sql.Index('ix_token_trust_id', token.c.trust_id).create() # NOTE(stevemar): The two indexes below were named 'service_id' and # 'group_id' in 050_fk_consistent_indexes.py, and need to be preserved sql.Index('service_id', endpoint.c.service_id).create() sql.Index('group_id', user_group_membership.c.group_id).create() ",13,15
openstack%2Fkeystone~master~Ib6ecae7a2e6fa3780106fa6a4b50d47aab922b43,openstack/keystone,master,Ib6ecae7a2e6fa3780106fa6a4b50d47aab922b43,sql: Squash newton migrations (part 1),MERGED,2022-01-06 10:48:49.000000000,2022-01-20 12:35:03.000000000,2022-01-20 12:32:16.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 10:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b7502adbe2bb9b5bfd8b0b58254b28434753319f', 'message': 'sql: Squash newton migration (part 1)\n\nMake the following changes to the new ""initial"" migration.\n\n- Add \'nonlocal_user\' table (103)\n- Add \'created_at\', \'updated_at\' columns to \'password\' table (105)\n- Modify \'password\' column of \'password\' table to be nullable (106)\n- Add \'created_at\' and \'last_active_at\' columns to \'user\' table (107)\n- Add \'failed_auth_count\' and \'failed_auth_at\' columns to \'local_user\'\n  table (108)\n- Add \'self_service\' column to \'password\' table (109)\n\nNote that 101 and 104 are not present since these were fixes for 088\nand 091 respectively, and they have no effect with newer versions of\nthe latter.\n\nSchemas can be compared using the techniques discussed at [1]. A sample\ncommand for SQLite:\n\n  # with change before this\n  python manage.py version_control \\\n    --database \'sqlite:///before.db\' --repository . --version 097\n  python manage.py upgrade \\\n    --database \'sqlite:///before.db\' --repository . --version 109\n\n  # with change after this\n  python manage.py version_control \\\n    --database \'sqlite:///before.db\' --repository . --version 108\n  python manage.py upgrade \\\n    --database \'sqlite:///before.db\' --repository . --version 109\n\nThis marks the end of migration squashing in for the legacy \'migrate_repo\'\nrepo. However, it\'s labelled part 1 because there are other newton-era\nmigrations in the other repositories. Future changes will focus on these\nother repos.\n\nChange-Id: Ib6ecae7a2e6fa3780106fa6a4b50d47aab922b43\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-01-14 19:14:29.000000000', 'files': ['keystone/common/sql/migrate_repo/versions/100_placeholder.py', 'keystone/common/sql/migrate_repo/versions/106_allow_password_column_to_be_nullable.py', 'keystone/common/sql/migrate_repo/versions/109_add_password_self_service_column.py', 'keystone/common/sql/migrate_repo/versions/099_placeholder.py', 'keystone/common/sql/migrate_repo/versions/104_drop_user_name_domainid_constraint.py', 'keystone/common/sql/migrate_repo/versions/105_add_password_date_columns.py', 'keystone/common/sql/migrate_repo/versions/103_add_nonlocal_user_table.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/migrate_repo/versions/109_newton.py', 'keystone/common/sql/migrate_repo/versions/108_add_failed_auth_columns.py', 'keystone/common/sql/migrate_repo/versions/098_placeholder.py', 'keystone/common/sql/migrate_repo/versions/101_drop_role_name_constraint.py', 'keystone/common/sql/migrate_repo/versions/102_drop_domain_table.py', 'keystone/common/sql/migrate_repo/versions/107_add_user_date_columns.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/7e779ffec96a9b6eccb2f196c0f5cb070258f7b0', 'message': 'sql: Squash newton migrations (part 1)\n\nMake the following changes to the new ""initial"" migration.\n\n- Add \'nonlocal_user\' table (103)\n- Add \'created_at\', \'updated_at\' columns to \'password\' table (105)\n- Modify \'password\' column of \'password\' table to be nullable (106)\n- Add \'created_at\' and \'last_active_at\' columns to \'user\' table (107)\n- Add \'failed_auth_count\' and \'failed_auth_at\' columns to \'local_user\'\n  table (108)\n- Add \'self_service\' column to \'password\' table (109)\n\nNote that 101 and 104 are not present since these were fixes for 088\nand 091 respectively, and they have no effect with newer versions of\nthe latter.\n\nSchemas can be compared using the techniques discussed at [1]. A sample\ncommand for SQLite:\n\n  # with change before this\n  python manage.py version_control \\\n    --database \'sqlite:///before.db\' --repository . --version 097\n  python manage.py upgrade \\\n    --database \'sqlite:///before.db\' --repository . --version 109\n\n  # with change after this\n  python manage.py version_control \\\n    --database \'sqlite:///before.db\' --repository . --version 108\n  python manage.py upgrade \\\n    --database \'sqlite:///before.db\' --repository . --version 109\n\nThis marks the end of migration squashing in for the legacy \'migrate_repo\'\nrepo. However, it\'s labelled part 1 because there are other newton-era\nmigrations in the other repositories. Future changes will focus on these\nother repos.\n\nChange-Id: Ib6ecae7a2e6fa3780106fa6a4b50d47aab922b43\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",6,823663,7e779ffec96a9b6eccb2f196c0f5cb070258f7b0,26,5,2,15334,,,0,"sql: Squash newton migrations (part 1)

Make the following changes to the new ""initial"" migration.

- Add 'nonlocal_user' table (103)
- Add 'created_at', 'updated_at' columns to 'password' table (105)
- Modify 'password' column of 'password' table to be nullable (106)
- Add 'created_at' and 'last_active_at' columns to 'user' table (107)
- Add 'failed_auth_count' and 'failed_auth_at' columns to 'local_user'
  table (108)
- Add 'self_service' column to 'password' table (109)

Note that 101 and 104 are not present since these were fixes for 088
and 091 respectively, and they have no effect with newer versions of
the latter.

Schemas can be compared using the techniques discussed at [1]. A sample
command for SQLite:

  # with change before this
  python manage.py version_control \
    --database 'sqlite:///before.db' --repository . --version 097
  python manage.py upgrade \
    --database 'sqlite:///before.db' --repository . --version 109

  # with change after this
  python manage.py version_control \
    --database 'sqlite:///before.db' --repository . --version 108
  python manage.py upgrade \
    --database 'sqlite:///before.db' --repository . --version 109

This marks the end of migration squashing in for the legacy 'migrate_repo'
repo. However, it's labelled part 1 because there are other newton-era
migrations in the other repositories. Future changes will focus on these
other repos.

Change-Id: Ib6ecae7a2e6fa3780106fa6a4b50d47aab922b43
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/63/823663/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/migrate_repo/versions/100_placeholder.py', 'keystone/common/sql/migrate_repo/versions/106_allow_password_column_to_be_nullable.py', 'keystone/common/sql/migrate_repo/versions/109_add_password_self_service_column.py', 'keystone/common/sql/migrate_repo/versions/099_placeholder.py', 'keystone/common/sql/migrate_repo/versions/104_drop_user_name_domainid_constraint.py', 'keystone/common/sql/migrate_repo/versions/105_add_password_date_columns.py', 'keystone/common/sql/migrate_repo/versions/103_add_nonlocal_user_table.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/migrate_repo/versions/109_newton.py', 'keystone/common/sql/migrate_repo/versions/108_add_failed_auth_columns.py', 'keystone/common/sql/migrate_repo/versions/098_placeholder.py', 'keystone/common/sql/migrate_repo/versions/101_drop_role_name_constraint.py', 'keystone/common/sql/migrate_repo/versions/102_drop_domain_table.py', 'keystone/common/sql/migrate_repo/versions/107_add_user_date_columns.py']",14,b7502adbe2bb9b5bfd8b0b58254b28434753319f,bp/remove-sqlalchemy-migrate,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import datetime import sqlalchemy as sql def upgrade(migrate_engine): meta = sql.MetaData() meta.bind = migrate_engine created_at = sql.Column('created_at', sql.DateTime(), nullable=True) last_active_at = sql.Column('last_active_at', sql.Date(), nullable=True) user_table = sql.Table('user', meta, autoload=True) user_table.create_column(created_at) user_table.create_column(last_active_at) now = datetime.datetime.utcnow() stmt = user_table.update().values(created_at=now) stmt.execute() ",39,664
openstack%2Fkeystone~master~I41584c652ab34a267009136ee2a2e159ee2f2a6e,openstack/keystone,master,I41584c652ab34a267009136ee2a2e159ee2f2a6e,sql: Squash mitaka migrations,MERGED,2022-01-06 10:48:49.000000000,2022-01-20 12:20:14.000000000,2022-01-20 12:18:26.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 10:48:49.000000000', 'files': ['keystone/common/sql/migrate_repo/versions/078_placeholder.py', 'keystone/common/sql/migrate_repo/versions/075_liberty.py', 'keystone/common/sql/migrate_repo/versions/083_add_oauth1_tables.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/migrate_repo/versions/095_add_integer_pkey_to_revocation_event_table.py', 'keystone/common/sql/migrate_repo/versions/085_add_endpoint_filtering_table.py', 'keystone/common/sql/migrate_repo/versions/079_placeholder.py', 'keystone/common/sql/migrate_repo/versions/096_drop_role_name_constraint.py', 'keystone/common/sql/migrate_repo/versions/086_add_duplicate_constraint_trusts.py', 'keystone/common/sql/migrate_repo/versions/080_placeholder.py', 'keystone/common/sql/migrate_repo/versions/092_make_implied_roles_fks_cascaded.py', 'keystone/common/sql/migrate_repo/versions/091_migrate_data_to_local_user_and_password_tables.py', 'keystone/common/sql/migrate_repo/versions/090_add_local_user_and_password_tables.py', 'keystone/common/sql/migrate_repo/versions/087_implied_roles.py', 'keystone/common/sql/migrate_repo/versions/089_add_root_of_all_domains.py', 'keystone/common/sql/migrate_repo/versions/081_add_endpoint_policy_table.py', 'keystone/common/sql/migrate_repo/versions/082_add_federation_tables.py', 'keystone/common/sql/migrate_repo/versions/097_mitaka.py', 'keystone/common/sql/migrate_repo/versions/076_placeholder.py', 'keystone/common/sql/migrate_repo/versions/093_migrate_domains_to_projects.py', 'keystone/common/sql/migrate_repo/versions/077_placeholder.py', 'keystone/common/sql/migrate_repo/versions/084_add_revoke_tables.py', 'keystone/common/sql/migrate_repo/versions/094_add_federated_user_table.py', 'keystone/common/sql/migrate_repo/versions/088_domain_specific_roles.py', 'keystone/common/sql/migrate_repo/versions/097_drop_user_name_domainid_constraint.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/7a146850e0dec437a15b74afebeaec1bab88e8cc', 'message': 'sql: Squash mitaka migrations\n\nMake the following changes to the new ""initial"" migration.\n\n- Add \'policy_assocation\' table (081)\n- Add \'identity_provider\', \'federation_protocol\', \'mapping\',\n  \'service_provider\', and \'idp_remote_ids\' tables (082)\n- Add \'consumer\', \'request_token\', and \'access_token\' tables (083)\n- Add \'revocation_event\' table (084)\n- Add \'project_endpoint\', \'endpoint_group\' and \'project_endpoint_group\'\n  tables (085)\n- Add unique constraint to \'trust\' table (086)\n- Add \'implied_role\' table (087)\n- Add \'domain_id\' column to \'role\' table, and replace unique constraint\n  on \'name\' column of same with unique constraint on \'name\' and\n  \'domain_id\' column (088)\n- Insert root domain entries to \'project\' and \'domain\' tables (089)\n- Add \'local_user\' and \'password\' tables (090)\n- Drop \'ixu_user_name_domain_id\' unique constraint, and drop\n  \'domain_id\', \'name\', and \'password\' columns from \'user\' table (091)\n- Modify foreign key constraints on \'prior_role_id\' and\n  \'implied_role_id\' columns of \'role\' table to CASCADE on delete (092)\n- Drop \'fk_project_domain_id\' foreign key constraint, and add\n  foreign key constraint on \'domain_id\' column of \'project\' table\n  to \'id\' column of same (093)\n- Add \'federated_user\' table (094)\n- Modify \'id\' column of \'revocation_event\' from String to Integer (095)\n\nNote that 096 and 097 are present since these were fixes for 088 and\n091 respectively that have no effect with newer versions of the latter\nmigrations.\n\nSchemas can be compared using the techniques discussed at [1]. A sample\ncommand for SQLite:\n\n  # with change before this\n  python manage.py version_control \\\n    --database \'sqlite:///before.db\' --repository . --version 074\n  python manage.py upgrade \\\n    --database \'sqlite:///before.db\' --repository . --version 097\n\n  # with this change\n  python manage.py version_control \\\n    --database \'sqlite:///after.db\' --repository . --version 096\n  python manage.py upgrade \\\n    --database \'sqlite:///after.db\' --repository . --version 097\n\n[1] https://that.guru/blog/comparing-nova-db-migrations/\n\nChange-Id: I41584c652ab34a267009136ee2a2e159ee2f2a6e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",3,823662,7a146850e0dec437a15b74afebeaec1bab88e8cc,21,5,1,15334,,,0,"sql: Squash mitaka migrations

Make the following changes to the new ""initial"" migration.

- Add 'policy_assocation' table (081)
- Add 'identity_provider', 'federation_protocol', 'mapping',
  'service_provider', and 'idp_remote_ids' tables (082)
- Add 'consumer', 'request_token', and 'access_token' tables (083)
- Add 'revocation_event' table (084)
- Add 'project_endpoint', 'endpoint_group' and 'project_endpoint_group'
  tables (085)
- Add unique constraint to 'trust' table (086)
- Add 'implied_role' table (087)
- Add 'domain_id' column to 'role' table, and replace unique constraint
  on 'name' column of same with unique constraint on 'name' and
  'domain_id' column (088)
- Insert root domain entries to 'project' and 'domain' tables (089)
- Add 'local_user' and 'password' tables (090)
- Drop 'ixu_user_name_domain_id' unique constraint, and drop
  'domain_id', 'name', and 'password' columns from 'user' table (091)
- Modify foreign key constraints on 'prior_role_id' and
  'implied_role_id' columns of 'role' table to CASCADE on delete (092)
- Drop 'fk_project_domain_id' foreign key constraint, and add
  foreign key constraint on 'domain_id' column of 'project' table
  to 'id' column of same (093)
- Add 'federated_user' table (094)
- Modify 'id' column of 'revocation_event' from String to Integer (095)

Note that 096 and 097 are present since these were fixes for 088 and
091 respectively that have no effect with newer versions of the latter
migrations.

Schemas can be compared using the techniques discussed at [1]. A sample
command for SQLite:

  # with change before this
  python manage.py version_control \
    --database 'sqlite:///before.db' --repository . --version 074
  python manage.py upgrade \
    --database 'sqlite:///before.db' --repository . --version 097

  # with this change
  python manage.py version_control \
    --database 'sqlite:///after.db' --repository . --version 096
  python manage.py upgrade \
    --database 'sqlite:///after.db' --repository . --version 097

[1] https://that.guru/blog/comparing-nova-db-migrations/

Change-Id: I41584c652ab34a267009136ee2a2e159ee2f2a6e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/62/823662/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/migrate_repo/versions/078_placeholder.py', 'keystone/common/sql/migrate_repo/versions/075_liberty.py', 'keystone/common/sql/migrate_repo/versions/083_add_oauth1_tables.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/migrate_repo/versions/095_add_integer_pkey_to_revocation_event_table.py', 'keystone/common/sql/migrate_repo/versions/085_add_endpoint_filtering_table.py', 'keystone/common/sql/migrate_repo/versions/079_placeholder.py', 'keystone/common/sql/migrate_repo/versions/096_drop_role_name_constraint.py', 'keystone/common/sql/migrate_repo/versions/086_add_duplicate_constraint_trusts.py', 'keystone/common/sql/migrate_repo/versions/080_placeholder.py', 'keystone/common/sql/migrate_repo/versions/092_make_implied_roles_fks_cascaded.py', 'keystone/common/sql/migrate_repo/versions/091_migrate_data_to_local_user_and_password_tables.py', 'keystone/common/sql/migrate_repo/versions/090_add_local_user_and_password_tables.py', 'keystone/common/sql/migrate_repo/versions/087_implied_roles.py', 'keystone/common/sql/migrate_repo/versions/089_add_root_of_all_domains.py', 'keystone/common/sql/migrate_repo/versions/081_add_endpoint_policy_table.py', 'keystone/common/sql/migrate_repo/versions/082_add_federation_tables.py', 'keystone/common/sql/migrate_repo/versions/097_mitaka.py', 'keystone/common/sql/migrate_repo/versions/076_placeholder.py', 'keystone/common/sql/migrate_repo/versions/093_migrate_domains_to_projects.py', 'keystone/common/sql/migrate_repo/versions/077_placeholder.py', 'keystone/common/sql/migrate_repo/versions/084_add_revoke_tables.py', 'keystone/common/sql/migrate_repo/versions/094_add_federated_user_table.py', 'keystone/common/sql/migrate_repo/versions/088_domain_specific_roles.py', 'keystone/common/sql/migrate_repo/versions/097_drop_user_name_domainid_constraint.py']",25,7a146850e0dec437a15b74afebeaec1bab88e8cc,bp/remove-sqlalchemy-migrate,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import migrate import sqlalchemy as sql _USER_TABLE_NAME = 'user' _USER_NAME_COLUMN_NAME = 'name' _USER_DOMAINID_COLUMN_NAME = 'domain_id' _USER_PASSWORD_COLUMN_NAME = 'password' # nosec def upgrade(migrate_engine): meta = sql.MetaData() meta.bind = migrate_engine user_table = sql.Table(_USER_TABLE_NAME, meta, autoload=True) # NOTE(gnuoy): the `domain_id` unique constraint is not guaranteed to # be a fixed name, such as 'ixu_user_name_domain_id`, so we need to # search for the correct constraint that only affects # user_table.c.domain_id and drop that constraint. (Fix based on # morganfainbergs fix in 088_domain_specific_roles.py) # # This is an idempotent change that reflects the fix to migration # 91 if the user name & domain_id unique constraint was not named # consistently and someone manually fixed the migrations / db # without dropping the old constraint. to_drop = None if migrate_engine.name == 'mysql': for index in user_table.indexes: if (index.unique and len(index.columns) == 2 and _USER_DOMAINID_COLUMN_NAME in index.columns and _USER_NAME_COLUMN_NAME in index.columns): to_drop = index break else: for index in user_table.constraints: if (len(index.columns) == 2 and _USER_DOMAINID_COLUMN_NAME in index.columns and _USER_NAME_COLUMN_NAME in index.columns): to_drop = index break # remove domain_id and name unique constraint if to_drop is not None: migrate.UniqueConstraint(user_table.c.domain_id, user_table.c.name, name=to_drop.name).drop() # If migration 91 was aborted due to Bug #1572341 then columns may not # have been dropped. if _USER_DOMAINID_COLUMN_NAME in user_table.c: user_table.c.domain_id.drop() if _USER_NAME_COLUMN_NAME in user_table.c: user_table.c.name.drop() if _USER_PASSWORD_COLUMN_NAME in user_table.c: user_table.c.password.drop() ",847,2385
