id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Freleases~master~I319e9abad424ffddd5cd38cfa540e79b320cb209,openstack/releases,master,I319e9abad424ffddd5cd38cfa540e79b320cb209,Release ovn-octavia-provider 0.4.0 for victoria,MERGED,2021-03-29 18:33:17.000000000,2021-04-09 16:12:19.000000000,2021-04-09 16:12:19.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-29 18:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e36ccd0fd80585ffb913ca75168ba46238cd5b66', 'message': 'Release ovn-octavia-provider 0.3.2 for victoria\n\nChange-Id: I319e9abad424ffddd5cd38cfa540e79b320cb209\n'}, {'number': 2, 'created': '2021-03-30 13:57:11.000000000', 'files': ['deliverables/victoria/ovn-octavia-provider.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/95c67782feb4304ac1dd904d528922cd2149faa2', 'message': 'Release ovn-octavia-provider 0.4.0 for victoria\n\nChange-Id: I319e9abad424ffddd5cd38cfa540e79b320cb209\n'}]",3,783734,95c67782feb4304ac1dd904d528922cd2149faa2,19,5,2,1131,,,0,"Release ovn-octavia-provider 0.4.0 for victoria

Change-Id: I319e9abad424ffddd5cd38cfa540e79b320cb209
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/783734/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/ovn-octavia-provider.yaml'],1,e36ccd0fd80585ffb913ca75168ba46238cd5b66,ovn-victoria-0.4.0, - version: 0.3.2 projects: - repo: openstack/ovn-octavia-provider hash: 19e7ad6544a49bcad12a19c7b1a8b0d16802958f,,4,0
openstack%2Fnova~stable%2Ftrain~Ia2007bc63ef09931ea0197cef29d6a5614ed821a,openstack/nova,stable/train,Ia2007bc63ef09931ea0197cef29d6a5614ed821a,libvirt: Skip encryption metadata lookups if secret already exists on host,NEW,2020-12-07 09:39:11.000000000,2021-04-09 15:25:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-07 09:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d47679779189e43941881c6212d6db2052a19867', 'message': 'libvirt: Skip encryption metadata lookups if secret already exists on host\n\nWhen connecting an encrypted volume to a host the _attach_encryptor\nmethod will be called in order to either call a legacy os-brick\nencryptor *or* configure a libvirt secret used by libvirt and QEMU to\nnatively decrypt LUKSv1 encrypted volumes. To create this libvirt secret\nthe configured key manager will be queried to provide and then decode\nthe associated secret before this is stashed within libvirt.\n\nThis change simply skips the above when an existing libvirt secret\nassociated with the target volume is found on the host already.\n\nWhile this obviously optimises basic instance lifecycle flows such as a\nsimple power off and on it additionally resolves a more convoluted use\ncase when the ``[DEFAULT]/resume_guests_state_on_host_boot``\nconfigurable is enabled. In this case the compute service has no request\ncontext with which to query the key manager when attempting to restart\ninstances with encrypted volumes attached. As a result any attempt by\nthe compute service to restart an instance with an attached encrypted\nvolume would previously fail.\n\nCloses-Bug: #1905701\nChange-Id: Ia2007bc63ef09931ea0197cef29d6a5614ed821a\n(cherry picked from commit a107a5099e86c3da80a6feeca6f840d5a3ad11b9)\n(cherry picked from commit af5b87874254aeb42931e3bb4faab3a2620b6894)\n(cherry picked from commit a1cb246e5d2d9ade01cc26087e361169e3aa624c)\n'}, {'number': 2, 'created': '2020-12-09 09:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/adf15ef0919c58419947ee254a4acca69bff547a', 'message': 'libvirt: Skip encryption metadata lookups if secret already exists on host\n\nWhen connecting an encrypted volume to a host the _attach_encryptor\nmethod will be called in order to either call a legacy os-brick\nencryptor *or* configure a libvirt secret used by libvirt and QEMU to\nnatively decrypt LUKSv1 encrypted volumes. To create this libvirt secret\nthe configured key manager will be queried to provide and then decode\nthe associated secret before this is stashed within libvirt.\n\nThis change simply skips the above when an existing libvirt secret\nassociated with the target volume is found on the host already.\n\nWhile this obviously optimises basic instance lifecycle flows such as a\nsimple power off and on it additionally resolves a more convoluted use\ncase when the ``[DEFAULT]/resume_guests_state_on_host_boot``\nconfigurable is enabled. In this case the compute service has no request\ncontext with which to query the key manager when attempting to restart\ninstances with encrypted volumes attached. As a result any attempt by\nthe compute service to restart an instance with an attached encrypted\nvolume would previously fail.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/766170\n\nCloses-Bug: #1905701\nChange-Id: Ia2007bc63ef09931ea0197cef29d6a5614ed821a\n(cherry picked from commit a107a5099e86c3da80a6feeca6f840d5a3ad11b9)\n(cherry picked from commit af5b87874254aeb42931e3bb4faab3a2620b6894)\n(cherry picked from commit a1cb246e5d2d9ade01cc26087e361169e3aa624c)\n'}, {'number': 3, 'created': '2020-12-09 10:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/108f70ad253cbcfa257550df9c0eac890fdfd8c6', 'message': 'libvirt: Skip encryption metadata lookups if secret already exists on host\n\nWhen connecting an encrypted volume to a host the _attach_encryptor\nmethod will be called in order to either call a legacy os-brick\nencryptor *or* configure a libvirt secret used by libvirt and QEMU to\nnatively decrypt LUKSv1 encrypted volumes. To create this libvirt secret\nthe configured key manager will be queried to provide and then decode\nthe associated secret before this is stashed within libvirt.\n\nThis change simply skips the above when an existing libvirt secret\nassociated with the target volume is found on the host already.\n\nWhile this obviously optimises basic instance lifecycle flows such as a\nsimple power off and on it additionally resolves a more convoluted use\ncase when the ``[DEFAULT]/resume_guests_state_on_host_boot``\nconfigurable is enabled. In this case the compute service has no request\ncontext with which to query the key manager when attempting to restart\ninstances with encrypted volumes attached. As a result any attempt by\nthe compute service to restart an instance with an attached encrypted\nvolume would previously fail.\n\nCloses-Bug: #1905701\nChange-Id: Ia2007bc63ef09931ea0197cef29d6a5614ed821a\n(cherry picked from commit a107a5099e86c3da80a6feeca6f840d5a3ad11b9)\n(cherry picked from commit af5b87874254aeb42931e3bb4faab3a2620b6894)\n(cherry picked from commit a1cb246e5d2d9ade01cc26087e361169e3aa624c)\n'}, {'number': 4, 'created': '2020-12-09 10:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8361575595f6b1f96c2bce3c94665813c74be6b5', 'message': 'libvirt: Skip encryption metadata lookups if secret already exists on host\n\nWhen connecting an encrypted volume to a host the _attach_encryptor\nmethod will be called in order to either call a legacy os-brick\nencryptor *or* configure a libvirt secret used by libvirt and QEMU to\nnatively decrypt LUKSv1 encrypted volumes. To create this libvirt secret\nthe configured key manager will be queried to provide and then decode\nthe associated secret before this is stashed within libvirt.\n\nThis change simply skips the above when an existing libvirt secret\nassociated with the target volume is found on the host already.\n\nWhile this obviously optimises basic instance lifecycle flows such as a\nsimple power off and on it additionally resolves a more convoluted use\ncase when the ``[DEFAULT]/resume_guests_state_on_host_boot``\nconfigurable is enabled. In this case the compute service has no request\ncontext with which to query the key manager when attempting to restart\ninstances with encrypted volumes attached. As a result any attempt by\nthe compute service to restart an instance with an attached encrypted\nvolume would previously fail.\n\nCloses-Bug: #1905701\nChange-Id: Ia2007bc63ef09931ea0197cef29d6a5614ed821a\n(cherry picked from commit a107a5099e86c3da80a6feeca6f840d5a3ad11b9)\n(cherry picked from commit af5b87874254aeb42931e3bb4faab3a2620b6894)\n(cherry picked from commit a1cb246e5d2d9ade01cc26087e361169e3aa624c)\n'}, {'number': 5, 'created': '2020-12-09 11:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/edaa9939976e868359322eab2822075a84e46b1c', 'message': 'libvirt: Skip encryption metadata lookups if secret already exists on host\n\nWhen connecting an encrypted volume to a host the _attach_encryptor\nmethod will be called in order to either call a legacy os-brick\nencryptor *or* configure a libvirt secret used by libvirt and QEMU to\nnatively decrypt LUKSv1 encrypted volumes. To create this libvirt secret\nthe configured key manager will be queried to provide and then decode\nthe associated secret before this is stashed within libvirt.\n\nThis change simply skips the above when an existing libvirt secret\nassociated with the target volume is found on the host already.\n\nWhile this obviously optimises basic instance lifecycle flows such as a\nsimple power off and on it additionally resolves a more convoluted use\ncase when the ``[DEFAULT]/resume_guests_state_on_host_boot``\nconfigurable is enabled. In this case the compute service has no request\ncontext with which to query the key manager when attempting to restart\ninstances with encrypted volumes attached. As a result any attempt by\nthe compute service to restart an instance with an attached encrypted\nvolume would previously fail.\n\nCloses-Bug: #1905701\nChange-Id: Ia2007bc63ef09931ea0197cef29d6a5614ed821a\n(cherry picked from commit a107a5099e86c3da80a6feeca6f840d5a3ad11b9)\n(cherry picked from commit af5b87874254aeb42931e3bb4faab3a2620b6894)\n(cherry picked from commit a1cb246e5d2d9ade01cc26087e361169e3aa624c)\n'}, {'number': 6, 'created': '2020-12-09 11:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4ae00f29ad1b471ac8d8276e930734780c227a0', 'message': 'libvirt: Skip encryption metadata lookups if secret already exists on host\n\nWhen connecting an encrypted volume to a host the _attach_encryptor\nmethod will be called in order to either call a legacy os-brick\nencryptor *or* configure a libvirt secret used by libvirt and QEMU to\nnatively decrypt LUKSv1 encrypted volumes. To create this libvirt secret\nthe configured key manager will be queried to provide and then decode\nthe associated secret before this is stashed within libvirt.\n\nThis change simply skips the above when an existing libvirt secret\nassociated with the target volume is found on the host already.\n\nWhile this obviously optimises basic instance lifecycle flows such as a\nsimple power off and on it additionally resolves a more convoluted use\ncase when the ``[DEFAULT]/resume_guests_state_on_host_boot``\nconfigurable is enabled. In this case the compute service has no request\ncontext with which to query the key manager when attempting to restart\ninstances with encrypted volumes attached. As a result any attempt by\nthe compute service to restart an instance with an attached encrypted\nvolume would previously fail.\n\nCloses-Bug: #1905701\nChange-Id: Ia2007bc63ef09931ea0197cef29d6a5614ed821a\n(cherry picked from commit a107a5099e86c3da80a6feeca6f840d5a3ad11b9)\n(cherry picked from commit af5b87874254aeb42931e3bb4faab3a2620b6894)\n(cherry picked from commit a1cb246e5d2d9ade01cc26087e361169e3aa624c)\n'}, {'number': 7, 'created': '2020-12-09 11:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b473ec726ffb2f9445c7c0fc912f524379cdef2e', 'message': 'libvirt: Skip encryption metadata lookups if secret already exists on host\n\nWhen connecting an encrypted volume to a host the _attach_encryptor\nmethod will be called in order to either call a legacy os-brick\nencryptor *or* configure a libvirt secret used by libvirt and QEMU to\nnatively decrypt LUKSv1 encrypted volumes. To create this libvirt secret\nthe configured key manager will be queried to provide and then decode\nthe associated secret before this is stashed within libvirt.\n\nThis change simply skips the above when an existing libvirt secret\nassociated with the target volume is found on the host already.\n\nWhile this obviously optimises basic instance lifecycle flows such as a\nsimple power off and on it additionally resolves a more convoluted use\ncase when the ``[DEFAULT]/resume_guests_state_on_host_boot``\nconfigurable is enabled. In this case the compute service has no request\ncontext with which to query the key manager when attempting to restart\ninstances with encrypted volumes attached. As a result any attempt by\nthe compute service to restart an instance with an attached encrypted\nvolume would previously fail.\n\nCloses-Bug: #1905701\nChange-Id: Ia2007bc63ef09931ea0197cef29d6a5614ed821a\n(cherry picked from commit a107a5099e86c3da80a6feeca6f840d5a3ad11b9)\n(cherry picked from commit af5b87874254aeb42931e3bb4faab3a2620b6894)\n(cherry picked from commit a1cb246e5d2d9ade01cc26087e361169e3aa624c)\n'}, {'number': 8, 'created': '2020-12-09 11:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/206f9397535b02befb4775973731fce9b97ba81e', 'message': 'libvirt: Skip encryption metadata lookups if secret already exists on host\n\nWhen connecting an encrypted volume to a host the _attach_encryptor\nmethod will be called in order to either call a legacy os-brick\nencryptor *or* configure a libvirt secret used by libvirt and QEMU to\nnatively decrypt LUKSv1 encrypted volumes. To create this libvirt secret\nthe configured key manager will be queried to provide and then decode\nthe associated secret before this is stashed within libvirt.\n\nThis change simply skips the above when an existing libvirt secret\nassociated with the target volume is found on the host already.\n\nWhile this obviously optimises basic instance lifecycle flows such as a\nsimple power off and on it additionally resolves a more convoluted use\ncase when the ``[DEFAULT]/resume_guests_state_on_host_boot``\nconfigurable is enabled. In this case the compute service has no request\ncontext with which to query the key manager when attempting to restart\ninstances with encrypted volumes attached. As a result any attempt by\nthe compute service to restart an instance with an attached encrypted\nvolume would previously fail.\n\nCloses-Bug: #1905701\nChange-Id: Ia2007bc63ef09931ea0197cef29d6a5614ed821a\n(cherry picked from commit a107a5099e86c3da80a6feeca6f840d5a3ad11b9)\n(cherry picked from commit af5b87874254aeb42931e3bb4faab3a2620b6894)\n(cherry picked from commit a1cb246e5d2d9ade01cc26087e361169e3aa624c)\n'}, {'number': 9, 'created': '2020-12-09 12:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b8cdbaa507170bef4dc39e620551bcb6d4ee495', 'message': 'libvirt: Skip encryption metadata lookups if secret already exists on host\n\nWhen connecting an encrypted volume to a host the _attach_encryptor\nmethod will be called in order to either call a legacy os-brick\nencryptor *or* configure a libvirt secret used by libvirt and QEMU to\nnatively decrypt LUKSv1 encrypted volumes. To create this libvirt secret\nthe configured key manager will be queried to provide and then decode\nthe associated secret before this is stashed within libvirt.\n\nThis change simply skips the above when an existing libvirt secret\nassociated with the target volume is found on the host already.\n\nWhile this obviously optimises basic instance lifecycle flows such as a\nsimple power off and on it additionally resolves a more convoluted use\ncase when the ``[DEFAULT]/resume_guests_state_on_host_boot``\nconfigurable is enabled. In this case the compute service has no request\ncontext with which to query the key manager when attempting to restart\ninstances with encrypted volumes attached. As a result any attempt by\nthe compute service to restart an instance with an attached encrypted\nvolume would previously fail.\n\nCloses-Bug: #1905701\nChange-Id: Ia2007bc63ef09931ea0197cef29d6a5614ed821a\n(cherry picked from commit a107a5099e86c3da80a6feeca6f840d5a3ad11b9)\n(cherry picked from commit af5b87874254aeb42931e3bb4faab3a2620b6894)\n(cherry picked from commit a1cb246e5d2d9ade01cc26087e361169e3aa624c)\n'}, {'number': 10, 'created': '2020-12-09 12:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb475dd4394ff76ba79082072150085d837980c1', 'message': 'libvirt: Skip encryption metadata lookups if secret already exists on host\n\nWhen connecting an encrypted volume to a host the _attach_encryptor\nmethod will be called in order to either call a legacy os-brick\nencryptor *or* configure a libvirt secret used by libvirt and QEMU to\nnatively decrypt LUKSv1 encrypted volumes. To create this libvirt secret\nthe configured key manager will be queried to provide and then decode\nthe associated secret before this is stashed within libvirt.\n\nThis change simply skips the above when an existing libvirt secret\nassociated with the target volume is found on the host already.\n\nWhile this obviously optimises basic instance lifecycle flows such as a\nsimple power off and on it additionally resolves a more convoluted use\ncase when the ``[DEFAULT]/resume_guests_state_on_host_boot``\nconfigurable is enabled. In this case the compute service has no request\ncontext with which to query the key manager when attempting to restart\ninstances with encrypted volumes attached. As a result any attempt by\nthe compute service to restart an instance with an attached encrypted\nvolume would previously fail.\n\nCloses-Bug: #1905701\nChange-Id: Ia2007bc63ef09931ea0197cef29d6a5614ed821a\n(cherry picked from commit a107a5099e86c3da80a6feeca6f840d5a3ad11b9)\n(cherry picked from commit af5b87874254aeb42931e3bb4faab3a2620b6894)\n(cherry picked from commit a1cb246e5d2d9ade01cc26087e361169e3aa624c)\n'}, {'number': 11, 'created': '2021-04-09 09:32:13.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug_1905701-fdc7402ffe70d104.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/95ed4f56a9e24e2dc9b58787ca436fdd9ef0ecd7', 'message': 'libvirt: Skip encryption metadata lookups if secret already exists on host\n\nWhen connecting an encrypted volume to a host the _attach_encryptor\nmethod will be called in order to either call a legacy os-brick\nencryptor *or* configure a libvirt secret used by libvirt and QEMU to\nnatively decrypt LUKSv1 encrypted volumes. To create this libvirt secret\nthe configured key manager will be queried to provide and then decode\nthe associated secret before this is stashed within libvirt.\n\nThis change simply skips the above when an existing libvirt secret\nassociated with the target volume is found on the host already.\n\nWhile this obviously optimises basic instance lifecycle flows such as a\nsimple power off and on it additionally resolves a more convoluted use\ncase when the ``[DEFAULT]/resume_guests_state_on_host_boot``\nconfigurable is enabled. In this case the compute service has no request\ncontext with which to query the key manager when attempting to restart\ninstances with encrypted volumes attached. As a result any attempt by\nthe compute service to restart an instance with an attached encrypted\nvolume would previously fail.\n\nCloses-Bug: #1905701\nChange-Id: Ia2007bc63ef09931ea0197cef29d6a5614ed821a\n(cherry picked from commit a107a5099e86c3da80a6feeca6f840d5a3ad11b9)\n(cherry picked from commit af5b87874254aeb42931e3bb4faab3a2620b6894)\n(cherry picked from commit a1cb246e5d2d9ade01cc26087e361169e3aa624c)\n'}]",0,765771,95ed4f56a9e24e2dc9b58787ca436fdd9ef0ecd7,21,1,11,10135,,,0,"libvirt: Skip encryption metadata lookups if secret already exists on host

When connecting an encrypted volume to a host the _attach_encryptor
method will be called in order to either call a legacy os-brick
encryptor *or* configure a libvirt secret used by libvirt and QEMU to
natively decrypt LUKSv1 encrypted volumes. To create this libvirt secret
the configured key manager will be queried to provide and then decode
the associated secret before this is stashed within libvirt.

This change simply skips the above when an existing libvirt secret
associated with the target volume is found on the host already.

While this obviously optimises basic instance lifecycle flows such as a
simple power off and on it additionally resolves a more convoluted use
case when the ``[DEFAULT]/resume_guests_state_on_host_boot``
configurable is enabled. In this case the compute service has no request
context with which to query the key manager when attempting to restart
instances with encrypted volumes attached. As a result any attempt by
the compute service to restart an instance with an attached encrypted
volume would previously fail.

Closes-Bug: #1905701
Change-Id: Ia2007bc63ef09931ea0197cef29d6a5614ed821a
(cherry picked from commit a107a5099e86c3da80a6feeca6f840d5a3ad11b9)
(cherry picked from commit af5b87874254aeb42931e3bb4faab3a2620b6894)
(cherry picked from commit a1cb246e5d2d9ade01cc26087e361169e3aa624c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/765771/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug_1905701-fdc7402ffe70d104.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,d47679779189e43941881c6212d6db2052a19867,bug/1905701," # Mock out find_secret so we don't skip ahead drvr._host.find_secret.return_value = None @mock.patch.object(key_manager, 'API') def test_attach_encryptor_secret_exists(self, mock_key_manager_api): connection_info = {'data': {'volume_id': uuids.volume_id}} drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) with test.nested( mock.patch.object(drvr, '_get_volume_encryption'), mock.patch.object(drvr._host, 'find_secret') ) as (mock_get_volume_encryption, mock_find_secret): drvr._attach_encryptor(self.context, connection_info, None) # Assert we called find_secret and nothing else mock_find_secret.assert_called_once_with('volume', uuids.volume_id) mock_get_volume_encryption.assert_not_called() mock_key_manager_api.assert_not_called() ",,42,1
openstack%2Fswift~master~Ib28d1948a571acf31926df82dd8c24910c227053,openstack/swift,master,Ib28d1948a571acf31926df82dd8c24910c227053,swift-account-audit: Log the bad status,MERGED,2021-04-09 00:36:53.000000000,2021-04-09 15:14:11.000000000,2021-04-09 15:12:37.000000000,"[{'_account_id': 597}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-09 00:36:53.000000000', 'files': ['bin/swift-account-audit'], 'web_link': 'https://opendev.org/openstack/swift/commit/c8de76c7fdf1d7fc34066a27c9e974177d1e865a', 'message': 'swift-account-audit: Log the bad status\n\nChange-Id: Ib28d1948a571acf31926df82dd8c24910c227053\n'}]",0,785542,c8de76c7fdf1d7fc34066a27c9e974177d1e865a,7,2,1,15343,,,0,"swift-account-audit: Log the bad status

Change-Id: Ib28d1948a571acf31926df82dd8c24910c227053
",git fetch https://review.opendev.org/openstack/swift refs/changes/42/785542/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/swift-account-audit'],1,c8de76c7fdf1d7fc34066a27c9e974177d1e865a,account-audit," print(' Bad status %s GETting object ""%s"" on %s/%s' % (resp.status, path, node['ip'], node['device'])) print(' Bad status %s HEADing object ""%s"" on %s/%s' % (resp.status, path, node['ip'], node['device']))"," print(' Bad status GETting object ""%s"" on %s/%s' % (path, node['ip'], node['device'])) print(' Bad status HEADing object ""%s"" on %s/%s' % (path, node['ip'], node['device']))",6,4
openstack%2Fnova~stable%2Ftrain~I41b7c1653c6a887ee4b08e588c5d422409aebfba,openstack/nova,stable/train,I41b7c1653c6a887ee4b08e588c5d422409aebfba,libvirt: Remove native LUKS compat code,NEW,2020-12-09 12:13:57.000000000,2021-04-09 15:12:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-09 12:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a996853f7a2f167f698b4e6c2ce87056d06fb23', 'message': 'libvirt: Remove native LUKS compat code\n\nI408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of\nLibvirt and QEMU past the required versions for native LUKS decryption\nsupport during the Stein cycle.\n\nAs a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we\ncan now remove various bits of compatibility code introduced to support\nthe use of native LUKS decryption in environments with mixed versions of\nLibvirt and QEMU. This includes code used during N to N+1 upgrades that\nis no longer required as both ends of a migration during an upgrade\nshould now have the required versions of Libvirt and QEMU.\n\nAn _is_luks_v1 utility method is retained to ensure the native approach\nis only used when using LUKS v1 volumes as native LUKS v2 support is not\ncurrently available within QEMU.\n\nChange-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba\n(cherry picked from commit 649236bbb1d1a204a308a9dad55b7a4d5a2a1021)\n'}, {'number': 2, 'created': '2020-12-09 12:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9adaa4ad280911bdf36cc77feb57b8167a2f797d', 'message': 'libvirt: Remove native LUKS compat code\n\nI408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of\nLibvirt and QEMU past the required versions for native LUKS decryption\nsupport during the Stein cycle.\n\nAs a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we\ncan now remove various bits of compatibility code introduced to support\nthe use of native LUKS decryption in environments with mixed versions of\nLibvirt and QEMU. This includes code used during N to N+1 upgrades that\nis no longer required as both ends of a migration during an upgrade\nshould now have the required versions of Libvirt and QEMU.\n\nAn _is_luks_v1 utility method is retained to ensure the native approach\nis only used when using LUKS v1 volumes as native LUKS v2 support is not\ncurrently available within QEMU.\n\nChange-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba\n(cherry picked from commit 649236bbb1d1a204a308a9dad55b7a4d5a2a1021)\n'}, {'number': 3, 'created': '2021-04-09 09:32:13.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/61a477e83abb6c241120759a28e9ccf10771d1a7', 'message': 'libvirt: Remove native LUKS compat code\n\nI408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of\nLibvirt and QEMU past the required versions for native LUKS decryption\nsupport during the Stein cycle.\n\nAs a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we\ncan now remove various bits of compatibility code introduced to support\nthe use of native LUKS decryption in environments with mixed versions of\nLibvirt and QEMU. This includes code used during N to N+1 upgrades that\nis no longer required as both ends of a migration during an upgrade\nshould now have the required versions of Libvirt and QEMU.\n\nAn _is_luks_v1 utility method is retained to ensure the native approach\nis only used when using LUKS v1 volumes as native LUKS v2 support is not\ncurrently available within QEMU.\n\nChange-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba\n(cherry picked from commit 649236bbb1d1a204a308a9dad55b7a4d5a2a1021)\n'}]",0,766210,61a477e83abb6c241120759a28e9ccf10771d1a7,9,1,3,10135,,,0,"libvirt: Remove native LUKS compat code

I408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of
Libvirt and QEMU past the required versions for native LUKS decryption
support during the Stein cycle.

As a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we
can now remove various bits of compatibility code introduced to support
the use of native LUKS decryption in environments with mixed versions of
Libvirt and QEMU. This includes code used during N to N+1 upgrades that
is no longer required as both ends of a migration during an upgrade
should now have the required versions of Libvirt and QEMU.

An _is_luks_v1 utility method is retained to ensure the native approach
is only used when using LUKS v1 volumes as native LUKS v2 support is not
currently available within QEMU.

Change-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba
(cherry picked from commit 649236bbb1d1a204a308a9dad55b7a4d5a2a1021)
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/766210/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,3a996853f7a2f167f698b4e6c2ce87056d06fb23,," self.context, connection_info, encryption) self.context, connection_info, encryption) @mock.patch.object(libvirt_driver.LibvirtDriver, '_is_luks_v1') def test_connect_volume_luks(self, mock_is_volume_luks, mock_host, mock_get_volume_encryptor, mock_is_luks_v1, mock_is_volume_luks.return_value = True # _connect_volume when _is_luks_v1 is True mock_is_luks_v1.return_value = True # assert that the encryptor is used if is_luks is False mock_is_luks_v1.return_value = False # assert that we format the volume if it is not already formatted mock_is_luks_v1.return_value = True mock_is_volume_luks.return_value = False def test_disconnect_volume_luks(self, mock_get_volume_encryptor): drvr._attach_encryptor(self.context, connection_info, None) drvr._attach_encryptor(self.context, connection_info, None) drvr._attach_encryptor(self.context, connection_info, encryption) encryption = {'provider': encryptors.PLAIN, 'control_location': 'front-end'} drvr._attach_encryptor(self.context, connection_info, None) encryption = {'provider': encryptors.PLAIN, 'control_location': 'front-end'} drvr._attach_encryptor(self.context, connection_info, encryption) with mock.patch.object(drvr, '_is_luks_v1', return_value=True): encryption) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._is_luks_v1') mock_is_luks_v1, mock_get_encryptor, mock_get_metadata): mock_is_luks_v1.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._is_luks_v1') mock_is_luks_v1, mock_get_encryptor, mock_get_metadata): mock_is_luks_v1.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._is_luks_v1') mock_get_encryptor, mock_is_luks_v1, mock_find_secret): mock_is_luks_v1.return_value = True def test_is_luks_v1(self): self.assertFalse(drvr._is_luks_v1({})) self.assertFalse(drvr._is_luks_v1({ self.assertFalse(drvr._is_luks_v1({ self.assertFalse(drvr._is_luks_v1({ self.assertTrue(drvr._is_luks_v1({ self.assertTrue(drvr._is_luks_v1({ self.assertTrue(drvr._is_luks_v1({ target_ret=None): mock.call(c, v['connection_info'], instance)) inst_ref) @mock.patch.object(libvirt_driver.LibvirtDriver, '_is_luks_v1') def test_swap_volume_native_luks_blocked(self, mock_is_luks_v1, mock_is_luks_v1.return_value = True"," self.context, connection_info, encryption, True) self.context, connection_info, encryption, True) @mock.patch.object(libvirt_driver.LibvirtDriver, '_use_native_luks') def test_connect_volume_native_luks(self, mock_is_luks, mock_host, mock_get_volume_encryptor, mock_use_native_luks, mock_is_luks.return_value = True # _connect_volume when use_native_luks is True mock_use_native_luks.return_value = True # assert that the encryptor is used if use_native_luks is False mock_use_native_luks.return_value = False # assert that we format the volume if is_luks is False mock_use_native_luks.return_value = True mock_is_luks.return_value = False # assert that os-brick is used when allow_native_luks is False mock_encryptor.attach_volume.reset_mock() mock_is_luks.return_value = True drvr._connect_volume(self.context, connection_info, instance, encryption=encryption, allow_native_luks=False) mock_encryptor.attach_volume.assert_called_once_with(self.context, **encryption) def test_disconnect_volume_native_luks(self, mock_get_volume_encryptor): drvr._attach_encryptor(self.context, connection_info, None, False) drvr._attach_encryptor(self.context, connection_info, None, False) drvr._attach_encryptor(self.context, connection_info, encryption, False) encryption = {'provider': 'luks', 'control_location': 'front-end'} drvr._attach_encryptor(self.context, connection_info, None, False) encryption = {'provider': 'luks', 'control_location': 'front-end'} drvr._attach_encryptor(self.context, connection_info, encryption, False) with mock.patch.object(drvr, '_use_native_luks', return_value=True): encryption, allow_native_luks=True) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._use_native_luks') mock_use_native_luks, mock_get_encryptor, mock_get_metadata): mock_use_native_luks.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._use_native_luks') mock_use_native_luks, mock_get_encryptor, mock_get_metadata): mock_use_native_luks.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._use_native_luks') mock_get_encryptor, mock_use_native_luks, mock_find_secret): mock_use_native_luks.return_value = True @mock.patch.object(host.Host, ""has_min_version"") def test_use_native_luks(self, mock_has_min_version): # The required QEMU and Libvirt versions are always available # on the host and a valid LUKS provider is present within the # encryption metadata dict. mock_has_min_version.return_value = True self.assertFalse(drvr._use_native_luks({})) self.assertFalse(drvr._use_native_luks({ self.assertFalse(drvr._use_native_luks({ self.assertFalse(drvr._use_native_luks({ self.assertTrue(drvr._use_native_luks({ self.assertTrue(drvr._use_native_luks({ self.assertTrue(drvr._use_native_luks({ src_supports_native_luks=True, def test_pre_live_migration_only_dest_supports_native_luks(self): # Assert that allow_native_luks is False when src_supports_native_luks # is missing from migrate data during a P to Q LM. self._test_pre_live_migration_works_correctly_mocked( src_supports_native_luks=None, dest_supports_native_luks=True, allow_native_luks=False) target_ret=None, src_supports_native_luks=True, dest_supports_native_luks=True, allow_native_luks=True): mock.call(c, v['connection_info'], instance, allow_native_luks=allow_native_luks)) if src_supports_native_luks: migrate_data.src_supports_native_luks = True else: target_ret.pop('src_supports_native_luks') src_supports_native_luks=True, src_supports_native_luks=True inst_ref, allow_native_luks=True) @mock.patch.object(libvirt_driver.LibvirtDriver, '_use_native_luks') def test_swap_volume_native_luks_blocked(self, mock_use_native_luks, mock_use_native_luks.return_value = True",59,110
openstack%2Fneutron~stable%2Fvictoria~Ia5e899a4133a0952be8f607a61282e71fb0545d1,openstack/neutron,stable/victoria,Ia5e899a4133a0952be8f607a61282e71fb0545d1,"Fix ""_get_sg_members"" method",MERGED,2021-04-08 15:35:46.000000000,2021-04-09 15:11:39.000000000,2021-04-09 15:09:05.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 15:35:46.000000000', 'files': ['neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ef7388188fb5d44e0416008365428d29057f927', 'message': 'Fix ""_get_sg_members"" method\n\nSince [1], the RPC method ""security_group_info_for_devices"" returns\nnot only the IP address but a list with the IP and the MAC addresses.\nThe returned blob is like this:\n  {sg_id: {\'IPv4\': [[ip1, mac1], [ip2, mac2], \'IPv6\': [...]}, ...}\n\nThe method ""_get_sg_members"" only needs the IP address, the MAC\naddress should be discarded.\n\nNOTE: this bug was detected when testing\n""neutron-tempest-plugin-scenario-linuxbridge"" CI job with\n""enable_ipset"" set to False. By default, this value is set to\nTrue (it is more efficient). In order to properly test this\npatch, I pushed [2], creating a CI job disabling this option.\n\nTo avoid overpopulating the Neutron CI, this job is not going\nto be added to the check gate (maybe to the periodic CI tasks).\n\n[1]https://review.opendev.org/q/I6cb2ba05fa3337be46eb01f2d9f869efa41e4db6\n[2]https://review.opendev.org/c/openstack/neutron/+/783103\n\nChange-Id: Ia5e899a4133a0952be8f607a61282e71fb0545d1\nCloses-Bug: #1922127\n(cherry picked from commit cca2b8de2c07e17b0917f982a006db598f6e4048)\n'}]",0,785385,1ef7388188fb5d44e0416008365428d29057f927,15,3,1,16688,,,0,"Fix ""_get_sg_members"" method

Since [1], the RPC method ""security_group_info_for_devices"" returns
not only the IP address but a list with the IP and the MAC addresses.
The returned blob is like this:
  {sg_id: {'IPv4': [[ip1, mac1], [ip2, mac2], 'IPv6': [...]}, ...}

The method ""_get_sg_members"" only needs the IP address, the MAC
address should be discarded.

NOTE: this bug was detected when testing
""neutron-tempest-plugin-scenario-linuxbridge"" CI job with
""enable_ipset"" set to False. By default, this value is set to
True (it is more efficient). In order to properly test this
patch, I pushed [2], creating a CI job disabling this option.

To avoid overpopulating the Neutron CI, this job is not going
to be added to the check gate (maybe to the periodic CI tasks).

[1]https://review.opendev.org/q/I6cb2ba05fa3337be46eb01f2d9f869efa41e4db6
[2]https://review.opendev.org/c/openstack/neutron/+/783103

Change-Id: Ia5e899a4133a0952be8f607a61282e71fb0545d1
Closes-Bug: #1922127
(cherry picked from commit cca2b8de2c07e17b0917f982a006db598f6e4048)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/785385/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py']",2,1ef7388188fb5d44e0416008365428d29057f927,bug/1922127-stable/victoria," def test__get_sg_members(self): sg_info = {_uuid(): {constants.IPv4: [['ip1', None]], constants.IPv6: []}, _uuid(): {constants.IPv4: [['ip2', None], ['ip3', None]], constants.IPv6: [['ip4', None]]}, } sg_ids = list(sg_info.keys()) self.assertEqual({'ip1'}, self.firewall._get_sg_members( sg_info, sg_ids[0], constants.IPv4)) self.assertEqual(set([]), self.firewall._get_sg_members( sg_info, sg_ids[0], constants.IPv6)) self.assertEqual({'ip2', 'ip3'}, self.firewall._get_sg_members( sg_info, sg_ids[1], constants.IPv4)) self.assertEqual({'ip4'}, self.firewall._get_sg_members( sg_info, sg_ids[1], constants.IPv6)) ",,18,1
openstack%2Fopenstacksdk~master~Ia71d128afd628ed264bcc0d8d61c421861df459f,openstack/openstacksdk,master,Ia71d128afd628ed264bcc0d8d61c421861df459f,Cache auth token in keyring,MERGED,2020-06-12 15:02:22.000000000,2021-04-09 15:11:30.000000000,2021-04-09 15:08:42.000000000,"[{'_account_id': 2}, {'_account_id': 10420}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-12 15:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8e530064b994b551cbe44d2ce3a8b0e08aa759dd', 'message': 'Cache auth token in keyring\n\nkeystoneauth has support for caching auth tokens. Plumb it through\nso that we use it in openstacksdk if keyring is installed. We might\nwant to make this opt-in even with keyring being optional. An option\nin clouds.yaml perhaps?\n\nChange-Id: Ia71d128afd628ed264bcc0d8d61c421861df459f\n'}, {'number': 2, 'created': '2020-07-02 11:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c54a8a9f1b1ed3905256f4e8534473b551a6d663', 'message': ""Cache auth token in keyring\n\nkeystoneauth has support for caching auth tokens. Plumb it through\nso that we use it in openstacksdk if keyring is installed. Make it\nan opt-in for now via config option 'cache.auth' which will at the\nvery least help us test it.\n\nChange-Id: Ia71d128afd628ed264bcc0d8d61c421861df459f\n""}, {'number': 3, 'created': '2020-07-02 11:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/674d31560653e9a9c8443aa7abdc5e5f79cc1e49', 'message': ""Cache auth token in keyring\n\nkeystoneauth has support for caching auth tokens. Plumb it through\nso that we use it in openstacksdk if keyring is installed. Make it\nan opt-in for now via config option 'cache.auth' which will at the\nvery least help us test it.\n\nChange-Id: Ia71d128afd628ed264bcc0d8d61c421861df459f\n""}, {'number': 4, 'created': '2021-03-03 16:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ed7510f1f75ac0d801f665562e63b7d50bb2d477', 'message': ""Cache auth token in keyring\n\nkeystoneauth has support for caching auth tokens. Plumb it through\nso that we use it in openstacksdk if keyring is installed. Make it\nan opt-in for now via config option 'cache.auth' which will at the\nvery least help us test it.\n\nChange-Id: Ia71d128afd628ed264bcc0d8d61c421861df459f\n""}, {'number': 5, 'created': '2021-03-04 07:16:03.000000000', 'files': ['openstack/config/cloud_region.py', 'openstack/config/loader.py', 'openstack/tests/unit/config/test_config.py', 'openstack/tests/unit/config/base.py', 'releasenotes/notes/cache-auth-in-keyring-773dd5f682cd1610.yaml', 'openstack/connection.py', 'doc/source/user/config/configuration.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9ca72c296b64bbe678dfa9c65039f40f23eac290', 'message': ""Cache auth token in keyring\n\nkeystoneauth has support for caching auth tokens. Plumb it through\nso that we use it in openstacksdk if keyring is installed. Make it\nan opt-in for now via config option 'cache.auth' which will at the\nvery least help us test it.\n\nChange-Id: Ia71d128afd628ed264bcc0d8d61c421861df459f\n""}]",2,735352,9ca72c296b64bbe678dfa9c65039f40f23eac290,20,5,5,2,,,0,"Cache auth token in keyring

keystoneauth has support for caching auth tokens. Plumb it through
so that we use it in openstacksdk if keyring is installed. Make it
an opt-in for now via config option 'cache.auth' which will at the
very least help us test it.

Change-Id: Ia71d128afd628ed264bcc0d8d61c421861df459f
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/52/735352/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/config/cloud_region.py', 'releasenotes/notes/cache-auth-in-keyring-773dd5f682cd1610.yaml', 'openstack/connection.py']",3,8e530064b994b551cbe44d2ce3a8b0e08aa759dd,, self.config.set_auth_cache(),,43,0
openstack%2Fneutron~stable%2Fwallaby~Ia5e899a4133a0952be8f607a61282e71fb0545d1,openstack/neutron,stable/wallaby,Ia5e899a4133a0952be8f607a61282e71fb0545d1,"Fix ""_get_sg_members"" method",MERGED,2021-04-08 15:34:16.000000000,2021-04-09 15:11:18.000000000,2021-04-09 15:07:37.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 15:34:16.000000000', 'files': ['neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c8710f40605268d21069770a88c5439dd6bda0c', 'message': 'Fix ""_get_sg_members"" method\n\nSince [1], the RPC method ""security_group_info_for_devices"" returns\nnot only the IP address but a list with the IP and the MAC addresses.\nThe returned blob is like this:\n  {sg_id: {\'IPv4\': [[ip1, mac1], [ip2, mac2], \'IPv6\': [...]}, ...}\n\nThe method ""_get_sg_members"" only needs the IP address, the MAC\naddress should be discarded.\n\nNOTE: this bug was detected when testing\n""neutron-tempest-plugin-scenario-linuxbridge"" CI job with\n""enable_ipset"" set to False. By default, this value is set to\nTrue (it is more efficient). In order to properly test this\npatch, I pushed [2], creating a CI job disabling this option.\n\nTo avoid overpopulating the Neutron CI, this job is not going\nto be added to the check gate (maybe to the periodic CI tasks).\n\n[1]https://review.opendev.org/q/I6cb2ba05fa3337be46eb01f2d9f869efa41e4db6\n[2]https://review.opendev.org/c/openstack/neutron/+/783103\n\nChange-Id: Ia5e899a4133a0952be8f607a61282e71fb0545d1\nCloses-Bug: #1922127\n(cherry picked from commit cca2b8de2c07e17b0917f982a006db598f6e4048)\n'}]",0,785384,9c8710f40605268d21069770a88c5439dd6bda0c,10,3,1,16688,,,0,"Fix ""_get_sg_members"" method

Since [1], the RPC method ""security_group_info_for_devices"" returns
not only the IP address but a list with the IP and the MAC addresses.
The returned blob is like this:
  {sg_id: {'IPv4': [[ip1, mac1], [ip2, mac2], 'IPv6': [...]}, ...}

The method ""_get_sg_members"" only needs the IP address, the MAC
address should be discarded.

NOTE: this bug was detected when testing
""neutron-tempest-plugin-scenario-linuxbridge"" CI job with
""enable_ipset"" set to False. By default, this value is set to
True (it is more efficient). In order to properly test this
patch, I pushed [2], creating a CI job disabling this option.

To avoid overpopulating the Neutron CI, this job is not going
to be added to the check gate (maybe to the periodic CI tasks).

[1]https://review.opendev.org/q/I6cb2ba05fa3337be46eb01f2d9f869efa41e4db6
[2]https://review.opendev.org/c/openstack/neutron/+/783103

Change-Id: Ia5e899a4133a0952be8f607a61282e71fb0545d1
Closes-Bug: #1922127
(cherry picked from commit cca2b8de2c07e17b0917f982a006db598f6e4048)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/785384/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py']",2,9c8710f40605268d21069770a88c5439dd6bda0c,bug/1922127-stable/wallaby," def test__get_sg_members(self): sg_info = {_uuid(): {constants.IPv4: [['ip1', None]], constants.IPv6: []}, _uuid(): {constants.IPv4: [['ip2', None], ['ip3', None]], constants.IPv6: [['ip4', None]]}, } sg_ids = list(sg_info.keys()) self.assertEqual({'ip1'}, self.firewall._get_sg_members( sg_info, sg_ids[0], constants.IPv4)) self.assertEqual(set([]), self.firewall._get_sg_members( sg_info, sg_ids[0], constants.IPv6)) self.assertEqual({'ip2', 'ip3'}, self.firewall._get_sg_members( sg_info, sg_ids[1], constants.IPv4)) self.assertEqual({'ip4'}, self.firewall._get_sg_members( sg_info, sg_ids[1], constants.IPv6)) ",,18,1
openstack%2Fneutron~stable%2Fussuri~Ia5e899a4133a0952be8f607a61282e71fb0545d1,openstack/neutron,stable/ussuri,Ia5e899a4133a0952be8f607a61282e71fb0545d1,"Fix ""_get_sg_members"" method",MERGED,2021-04-08 15:35:58.000000000,2021-04-09 15:11:12.000000000,2021-04-09 15:07:45.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 15:35:58.000000000', 'files': ['neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/76a8841f438a119ed3c6379ca7b074d033c1b5ff', 'message': 'Fix ""_get_sg_members"" method\n\nSince [1], the RPC method ""security_group_info_for_devices"" returns\nnot only the IP address but a list with the IP and the MAC addresses.\nThe returned blob is like this:\n  {sg_id: {\'IPv4\': [[ip1, mac1], [ip2, mac2], \'IPv6\': [...]}, ...}\n\nThe method ""_get_sg_members"" only needs the IP address, the MAC\naddress should be discarded.\n\nNOTE: this bug was detected when testing\n""neutron-tempest-plugin-scenario-linuxbridge"" CI job with\n""enable_ipset"" set to False. By default, this value is set to\nTrue (it is more efficient). In order to properly test this\npatch, I pushed [2], creating a CI job disabling this option.\n\nTo avoid overpopulating the Neutron CI, this job is not going\nto be added to the check gate (maybe to the periodic CI tasks).\n\n[1]https://review.opendev.org/q/I6cb2ba05fa3337be46eb01f2d9f869efa41e4db6\n[2]https://review.opendev.org/c/openstack/neutron/+/783103\n\nChange-Id: Ia5e899a4133a0952be8f607a61282e71fb0545d1\nCloses-Bug: #1922127\n(cherry picked from commit cca2b8de2c07e17b0917f982a006db598f6e4048)\n'}]",0,785386,76a8841f438a119ed3c6379ca7b074d033c1b5ff,9,3,1,16688,,,0,"Fix ""_get_sg_members"" method

Since [1], the RPC method ""security_group_info_for_devices"" returns
not only the IP address but a list with the IP and the MAC addresses.
The returned blob is like this:
  {sg_id: {'IPv4': [[ip1, mac1], [ip2, mac2], 'IPv6': [...]}, ...}

The method ""_get_sg_members"" only needs the IP address, the MAC
address should be discarded.

NOTE: this bug was detected when testing
""neutron-tempest-plugin-scenario-linuxbridge"" CI job with
""enable_ipset"" set to False. By default, this value is set to
True (it is more efficient). In order to properly test this
patch, I pushed [2], creating a CI job disabling this option.

To avoid overpopulating the Neutron CI, this job is not going
to be added to the check gate (maybe to the periodic CI tasks).

[1]https://review.opendev.org/q/I6cb2ba05fa3337be46eb01f2d9f869efa41e4db6
[2]https://review.opendev.org/c/openstack/neutron/+/783103

Change-Id: Ia5e899a4133a0952be8f607a61282e71fb0545d1
Closes-Bug: #1922127
(cherry picked from commit cca2b8de2c07e17b0917f982a006db598f6e4048)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/785386/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/iptables_firewall.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py']",2,76a8841f438a119ed3c6379ca7b074d033c1b5ff,bug/1922127-stable/ussuri," def test__get_sg_members(self): sg_info = {_uuid(): {constants.IPv4: [['ip1', None]], constants.IPv6: []}, _uuid(): {constants.IPv4: [['ip2', None], ['ip3', None]], constants.IPv6: [['ip4', None]]}, } sg_ids = list(sg_info.keys()) self.assertEqual({'ip1'}, self.firewall._get_sg_members( sg_info, sg_ids[0], constants.IPv4)) self.assertEqual(set([]), self.firewall._get_sg_members( sg_info, sg_ids[0], constants.IPv6)) self.assertEqual({'ip2', 'ip3'}, self.firewall._get_sg_members( sg_info, sg_ids[1], constants.IPv4)) self.assertEqual({'ip4'}, self.firewall._get_sg_members( sg_info, sg_ids[1], constants.IPv6)) ",,18,1
openstack%2Fnova~master~Ia25c966c70542bcd02f5540b5b94896c17e49888,openstack/nova,master,Ia25c966c70542bcd02f5540b5b94896c17e49888,[OVN] Adapt the live-migration job scripts to work with OVN,MERGED,2021-02-18 10:59:05.000000000,2021-04-09 15:11:06.000000000,2021-04-09 15:08:08.000000000,"[{'_account_id': 6773}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-02-18 10:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1741b5814bc00d1fd30317e97ed7071ac7bf7021', 'message': ""[OVN] Adapt the live-migration job scripts to work with OVN\n\nThere's no q-agt service in an OVN deployment.\n\nDepends-On: https://review.opendev.org/#/c/735097\nChange-Id: Ia25c966c70542bcd02f5540b5b94896c17e49888\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 2, 'created': '2021-02-18 14:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c71ef0867491a0c441479214dd39274bc1358cf0', 'message': ""[OVN] Adapt the live-migration job scripts to work with OVN\n\nThere's no q-agt service in an OVN deployment.\n\nChange-Id: Ia25c966c70542bcd02f5540b5b94896c17e49888\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 3, 'created': '2021-02-18 15:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57ffc2ed377546ba934bbb295d78b705f79b4e8e', 'message': ""[OVN] Adapt the live-migration job scripts to work with OVN\n\nThere's no q-agt service in an OVN deployment.\n\nChange-Id: Ia25c966c70542bcd02f5540b5b94896c17e49888\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 4, 'created': '2021-02-22 13:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d83ac1dec122df9154cef7c2498092a17a333d8b', 'message': ""[OVN] Adapt the live-migration job scripts to work with OVN\n\nThere's no q-agt service in an OVN deployment.\n\nChange-Id: Ia25c966c70542bcd02f5540b5b94896c17e49888\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 5, 'created': '2021-03-15 09:43:02.000000000', 'files': ['gate/test_evacuate.sh', 'roles/run-evacuate-hook/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/20a7c98eff6592c3131360ad9d6eb12367dd11f6', 'message': ""[OVN] Adapt the live-migration job scripts to work with OVN\n\nThere's no q-agt service in an OVN deployment.\n\nChange-Id: Ia25c966c70542bcd02f5540b5b94896c17e49888\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}]",8,776419,20a7c98eff6592c3131360ad9d6eb12367dd11f6,54,7,5,6773,,,0,"[OVN] Adapt the live-migration job scripts to work with OVN

There's no q-agt service in an OVN deployment.

Change-Id: Ia25c966c70542bcd02f5540b5b94896c17e49888
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/776419/1 && git format-patch -1 --stdout FETCH_HEAD,"['gate/test_evacuate.sh', 'roles/run-evacuate-hook/tasks/main.yaml']",2,1741b5814bc00d1fd30317e97ed7071ac7bf7021,ovn-devstack,- name: Fence subnode by stopping n-cpu name: devstack@n-cpu - name: Check if q-agt exists shell: sudo systemctl status devstack@q-agt status ignore_errors: true register: qagtstatus - name: Fence subnode by stopping q-agt (if exists) delegate_to: compute1 become: true systemd: name: devstack@q-agt state: stopped when: qagtstatus.rc | int == 0,"- name: Fence subnode by stopping q-agt and n-cpu name: ""{{ item }}"" with_items: - devstack@q-agt - devstack@n-cpu",21,6
openstack%2Ftripleo-heat-templates~master~I85001599cf25ee3c9c82bfc50cb3bd8a71c7bcd9,openstack/tripleo-heat-templates,master,I85001599cf25ee3c9c82bfc50cb3bd8a71c7bcd9,Use nova::compute::image_cache class to set image cache parameters,MERGED,2020-10-13 14:14:55.000000000,2021-04-09 14:36:22.000000000,2021-04-09 14:36:22.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-10-13 14:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95c7a39778e7ce4c11a6865b57b652f44a19799a', 'message': 'Use nova::compute::image_cache class parameter\n\nThis change replaces the usage of deprecated image cache parameters of\nthe nova::compute::libvirt class, by the new nova::compute::image_cache\nclass which was recently added to puppet-nova.\n\nDepends-on: https://review.opendev.org/#/c/757079/\nDepends-on: https://review.opendev.org/#/c/757871/\nChange-Id: I85001599cf25ee3c9c82bfc50cb3bd8a71c7bcd9\n'}, {'number': 2, 'created': '2020-10-13 14:15:49.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5daaed405b9274dbdae60b851586665359839f83', 'message': 'Use nova::compute::image_cache class to set image cache parameters\n\nThis change replaces the usage of deprecated image cache parameters of\nthe nova::compute::libvirt class, by the new nova::compute::image_cache\nclass which was recently added to puppet-nova.\n\nDepends-on: https://review.opendev.org/#/c/757079/\nDepends-on: https://review.opendev.org/#/c/757871/\nChange-Id: I85001599cf25ee3c9c82bfc50cb3bd8a71c7bcd9\n'}]",0,757875,5daaed405b9274dbdae60b851586665359839f83,12,7,2,9816,,,0,"Use nova::compute::image_cache class to set image cache parameters

This change replaces the usage of deprecated image cache parameters of
the nova::compute::libvirt class, by the new nova::compute::image_cache
class which was recently added to puppet-nova.

Depends-on: https://review.opendev.org/#/c/757079/
Depends-on: https://review.opendev.org/#/c/757871/
Change-Id: I85001599cf25ee3c9c82bfc50cb3bd8a71c7bcd9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/757875/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,95c7a39778e7ce4c11a6865b57b652f44a19799a,image_cache, nova::compute::image_cache::remove_unused_original_minimum_age_seconds: NovaImageCacheTTL, nova::compute::libvirt::remove_unused_original_minimum_age_seconds: NovaImageCacheTTL,1,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I61850fa01afca92aa78412e0277180596633f858,openstack/tripleo-heat-templates,stable/ussuri,I61850fa01afca92aa78412e0277180596633f858,[update][upgrade] Use container-tools:3.0,MERGED,2021-04-07 12:22:17.000000000,2021-04-09 14:36:06.000000000,2021-04-09 14:36:06.000000000,"[{'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-04-07 12:22:17.000000000', 'files': ['environments/lifecycle/undercloud-upgrade-prepare.yaml', 'environments/lifecycle/update-prepare.yaml', 'environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/560d98396f36d9b5e23fc2bc7f83865320844b5e', 'message': '[update][upgrade] Use container-tools:3.0\n\nWe now need to move forward and pin the newer\ncontainer-tools:3.0 stream. This will be available\non RHEL 8.4 and CentOS 8.4+.\n\nRelated: rhbz#1866479\n\nChange-Id: I61850fa01afca92aa78412e0277180596633f858\n(cherry picked from commit 90984500766aaa3538dcd6dae282298aff5b043b)\n'}]",0,785130,560d98396f36d9b5e23fc2bc7f83865320844b5e,9,5,1,6816,,,0,"[update][upgrade] Use container-tools:3.0

We now need to move forward and pin the newer
container-tools:3.0 stream. This will be available
on RHEL 8.4 and CentOS 8.4+.

Related: rhbz#1866479

Change-Id: I61850fa01afca92aa78412e0277180596633f858
(cherry picked from commit 90984500766aaa3538dcd6dae282298aff5b043b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/785130/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/lifecycle/undercloud-upgrade-prepare.yaml', 'environments/lifecycle/update-prepare.yaml', 'environments/lifecycle/upgrade-prepare.yaml']",3,560d98396f36d9b5e23fc2bc7f83865320844b5e,update-container-tools," DnfStreams: [{'module':'container-tools', 'stream':'3.0'}]"," DnfStreams: [{'module':'container-tools', 'stream':'2.0'}]",3,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I61850fa01afca92aa78412e0277180596633f858,openstack/tripleo-heat-templates,stable/train,I61850fa01afca92aa78412e0277180596633f858,[update][upgrade] Use container-tools:3.0,MERGED,2021-04-07 12:24:45.000000000,2021-04-09 14:35:58.000000000,2021-04-09 14:35:58.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-07 12:24:45.000000000', 'files': ['environments/lifecycle/undercloud-upgrade-prepare.yaml', 'environments/lifecycle/update-prepare.yaml', 'environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7ed86c3b501b1a11066a9875589d17db596581e', 'message': '[update][upgrade] Use container-tools:3.0\n\nWe now need to move forward and pin the newer\ncontainer-tools:3.0 stream. This will be available\non RHEL 8.4 and CentOS 8.4+.\n\nRelated: rhbz#1866479\n\nChange-Id: I61850fa01afca92aa78412e0277180596633f858\n(cherry picked from commit 90984500766aaa3538dcd6dae282298aff5b043b)\n'}]",0,785165,b7ed86c3b501b1a11066a9875589d17db596581e,11,3,1,6816,,,0,"[update][upgrade] Use container-tools:3.0

We now need to move forward and pin the newer
container-tools:3.0 stream. This will be available
on RHEL 8.4 and CentOS 8.4+.

Related: rhbz#1866479

Change-Id: I61850fa01afca92aa78412e0277180596633f858
(cherry picked from commit 90984500766aaa3538dcd6dae282298aff5b043b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/785165/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/lifecycle/undercloud-upgrade-prepare.yaml', 'environments/lifecycle/update-prepare.yaml', 'environments/lifecycle/upgrade-prepare.yaml']",3,b7ed86c3b501b1a11066a9875589d17db596581e,update-container-tools," DnfStreams: [{'module':'container-tools', 'stream':'3.0'}]"," DnfStreams: [{'module':'container-tools', 'stream':'2.0'}]",3,3
openstack%2Fhorizon~stable%2Fwallaby~Ic4a16b27c4f2da0daa2ec066d129926c349d1e4b,openstack/horizon,stable/wallaby,Ic4a16b27c4f2da0daa2ec066d129926c349d1e4b,Use policy_rules for user role assignment and group tabs,MERGED,2021-04-07 10:20:10.000000000,2021-04-09 14:28:42.000000000,2021-04-09 14:27:08.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-07 10:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5a05cfb84f34a9dadd162f5dbb2fbddad648dab6', 'message': 'Use policy_rules for user role assignment and group tabs\n\nThe policy_rules feature was added recently, which simplifies making\ntabs allowed conditionally based on policy. Use the feature for the User\nrole assignments and groups tabs.\n\nThis is a separate commit to allow the original patch to be backported.\n\nRelated-Bug: #1920214\nChange-Id: Ic4a16b27c4f2da0daa2ec066d129926c349d1e4b\n(cherry picked from commit f0736c5174f18476bf5d0a9df6a65c554ee7c65e)\n'}, {'number': 2, 'created': '2021-04-07 11:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/58fc5e5af2d0acd270b45ae53a96277cdebb8728', 'message': 'Use policy_rules for user role assignment and group tabs\n\nThe policy_rules feature was added recently, which simplifies making\ntabs allowed conditionally based on policy. Use the feature for the User\nrole assignments and groups tabs.\n\nThis is a separate commit to allow the original patch to be backported.\n\nRelated-Bug: #1920214\nChange-Id: Ic4a16b27c4f2da0daa2ec066d129926c349d1e4b\n(cherry picked from commit f0736c5174f18476bf5d0a9df6a65c554ee7c65e)\n'}, {'number': 3, 'created': '2021-04-07 16:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e586836ca31725651fda8742faf57417cd731ce3', 'message': 'Use policy_rules for user role assignment and group tabs\n\nThe policy_rules feature was added recently, which simplifies making\ntabs allowed conditionally based on policy. Use the feature for the User\nrole assignments and groups tabs.\n\nThis is a separate commit to allow the original patch to be backported.\n\nRelated-Bug: #1920214\nChange-Id: Ic4a16b27c4f2da0daa2ec066d129926c349d1e4b\n(cherry picked from commit f0736c5174f18476bf5d0a9df6a65c554ee7c65e)\n'}, {'number': 4, 'created': '2021-04-08 02:19:07.000000000', 'files': ['openstack_dashboard/dashboards/identity/users/tabs.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/03a6e1f7e506dd367342206da401b7b4e88d67ba', 'message': 'Use policy_rules for user role assignment and group tabs\n\nThe policy_rules feature was added recently, which simplifies making\ntabs allowed conditionally based on policy. Use the feature for the User\nrole assignments and groups tabs.\n\nThis is a separate commit to allow the original patch to be backported.\n\nRelated-Bug: #1920214\nChange-Id: Ic4a16b27c4f2da0daa2ec066d129926c349d1e4b\n(cherry picked from commit f0736c5174f18476bf5d0a9df6a65c554ee7c65e)\n'}]",29,785123,03a6e1f7e506dd367342206da401b7b4e88d67ba,19,5,4,1736,,,0,"Use policy_rules for user role assignment and group tabs

The policy_rules feature was added recently, which simplifies making
tabs allowed conditionally based on policy. Use the feature for the User
role assignments and groups tabs.

This is a separate commit to allow the original patch to be backported.

Related-Bug: #1920214
Change-Id: Ic4a16b27c4f2da0daa2ec066d129926c349d1e4b
(cherry picked from commit f0736c5174f18476bf5d0a9df6a65c554ee7c65e)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/23/785123/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/identity/users/tabs.py'],1,5a05cfb84f34a9dadd162f5dbb2fbddad648dab6,,"<<<<<<< HEAD (35103d Update TOX_CONSTRAINTS_FILE for stable/wallaby) ======= policy_rules = ((""identity"", ""identity:list_role_assignments""),) >>>>>>> CHANGE (f0736c Use policy_rules for user role assignment and group tabs)<<<<<<< HEAD (35103d Update TOX_CONSTRAINTS_FILE for stable/wallaby) ======= policy_rules = ((""identity"", ""identity:list_groups""),) >>>>>>> CHANGE (f0736c Use policy_rules for user role assignment and group tabs)",,8,0
openstack%2Fkolla-ansible~master~I933067f22ecabc03247ea42baf04f19100dffd08,openstack/kolla-ansible,master,I933067f22ecabc03247ea42baf04f19100dffd08,Refactor mariadb to support shards,MERGED,2020-12-14 13:30:19.000000000,2021-04-09 14:25:51.000000000,2021-04-09 14:23:54.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-12-14 13:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d258a8f93e288793e817110d4f96800aa80e5525', 'message': ""Refactor mariadb role to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nMove service databases from others to more\nclusters (shards) is usefull especially for databases\nwith high load (neutron,nova).\n\nThis patch is piece of review below which I'm splitting\nto more small pieces.\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by 'database_shard'.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb'.\n\nMariadb's task loadbalancer.yml is changed to apply only\nif shard == 1 as it is now, because if there will be more\nclusters (shards), maxscale will be used instead of haproxy.\n\nFull review:\n  - https://review.opendev.org/c/openstack/kolla-ansible/+/765780\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 2, 'created': '2020-12-14 13:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1c70d4b898d6cf81bf6f8a9da76cc35fd5fc9394', 'message': ""Refactor mariadb role to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nMove service databases from others to more\nclusters (shards) is usefull especially for databases\nwith high load (neutron,nova).\n\nThis patch is piece of review below which I'm splitting\nto more small pieces.\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by 'database_shard'.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb'.\n\nMariadb's task loadbalancer.yml is changed to apply only\nif shard == 1 as it is now, because if there will be more\nclusters (shards), maxscale will be used instead of haproxy.\n\nFull review:\n  - https://review.opendev.org/c/openstack/kolla-ansible/+/765780\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 3, 'created': '2020-12-14 13:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/83ae6e711ca81a7723793054b7fcda19cea131f1', 'message': ""Refactor mariadb role to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nMove service databases from others to more\nclusters (shards) is usefull especially for databases\nwith high load (neutron,nova).\n\nThis patch is piece of review below which I'm splitting\nto more small pieces.\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by 'database_shard'.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb'.\n\nMariadb's task loadbalancer.yml is changed to apply only\nif shard == 1 as it is now, because if there will be more\nclusters (shards), maxscale will be used instead of haproxy.\n\nExample of inventory:\n\n[database_default]\nserver1\nserver2\n\n[database_neutron]\nserver3 database_shard=neutron\nserver4 database_shard=neutron\n\n[database_nova]\nserver5 database_shard=nova\nserver6 database_shard=nova\n\n[mariadb]\ndatabase_default\ndatabase_neutron\ndatabase_nova\n\nFull review:\n  - https://review.opendev.org/c/openstack/kolla-ansible/+/765780\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 4, 'created': '2020-12-15 08:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b8420c4ad24e66ce9946ea75d1db0196a4d3bffb', 'message': ""Refactor mariadb role to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nMove service databases from others to more\nclusters (shards) is usefull especially for databases\nwith high load (neutron,nova).\n\nThis patch is piece of review below which I'm splitting\nto more small pieces.\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by 'database_shard'.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb'.\n\nMariadb's task loadbalancer.yml is changed to apply only\nif shard == 1 as it is now, because if there will be more\nclusters (shards), maxscale will be used instead of haproxy.\n\nExample of inventory:\n\n[database_default]\nserver1\nserver2\n\n[database_neutron]\nserver3 database_shard=neutron\nserver4 database_shard=neutron\n\n[database_nova]\nserver5 database_shard=nova\nserver6 database_shard=nova\n\n[mariadb]\ndatabase_default\ndatabase_neutron\ndatabase_nova\n\nFull review:\n  - https://review.opendev.org/c/openstack/kolla-ansible/+/765780\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 5, 'created': '2020-12-17 16:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/392a7d34d4096db3e4a1a0ea278289d4be8e5605', 'message': ""Refactor mariadb role to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nMove service databases from others to more\nclusters (shards) is usefull especially for databases\nwith high load (neutron,nova).\n\nThis patch is piece of review below which I'm splitting\nto more small pieces.\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by 'database_shard'.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb'.\n\nMariadb's task loadbalancer.yml is changed to apply only\nif shard == 1 as it is now, because if there will be more\nclusters (shards), maxscale will be used instead of haproxy.\n\nExample of inventory:\n\n[database_default]\nserver1\nserver2\n\n[database_neutron]\nserver3 database_shard=neutron\nserver4 database_shard=neutron\n\n[database_nova]\nserver5 database_shard=nova\nserver6 database_shard=nova\n\n[mariadb]\ndatabase_default\ndatabase_neutron\ndatabase_nova\n\nFull review:\n  - https://review.opendev.org/c/openstack/kolla-ansible/+/765780\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 6, 'created': '2020-12-19 21:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b415fec97650a3b07cff254a656d00872bef4af7', 'message': ""Refactor mariadb role to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nMove service databases from others to more\nclusters (shards) is usefull especially for databases\nwith high load (neutron,nova).\n\nThis patch is piece of review below which I'm splitting\nto more small pieces.\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by 'database_shard'.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb'.\n\nMariadb's task loadbalancer.yml is changed to apply only\nif shard == 1 as it is now, because if there will be more\nclusters (shards), maxscale will be used instead of haproxy.\n\nExample of inventory:\n\n[database_default]\nserver1\nserver2\n\n[database_neutron]\nserver3 database_shard=neutron\nserver4 database_shard=neutron\n\n[database_nova]\nserver5 database_shard=nova\nserver6 database_shard=nova\n\n[mariadb]\ndatabase_default\ndatabase_neutron\ndatabase_nova\n\nFull review:\n  - https://review.opendev.org/c/openstack/kolla-ansible/+/765780\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 7, 'created': '2020-12-19 21:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fae34be4ca12f49552a2a6026dd255df99a02085', 'message': ""Refactor mariadb role to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nMove service databases from others to more\nclusters (shards) is usefull especially for databases\nwith high load (neutron,nova).\n\nThis patch is piece of review below which I'm splitting\nto more small pieces.\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by 'database_shard'.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb'.\n\nMariadb's task loadbalancer.yml is changed to apply only\nif shard == 1 as it is now, because if there will be more\nclusters (shards), maxscale will be used instead of haproxy.\n\nExample of inventory:\n\n[database_default]\nserver1\nserver2\n\n[database_neutron]\nserver3 database_shard=neutron\nserver4 database_shard=neutron\n\n[database_nova]\nserver5 database_shard=nova\nserver6 database_shard=nova\n\n[mariadb]\ndatabase_default\ndatabase_neutron\ndatabase_nova\n\nFull review:\n  - https://review.opendev.org/c/openstack/kolla-ansible/+/765780\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 8, 'created': '2021-01-05 13:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/230886a84a23d1fcc7f64d3c0e8480224e27b6cb', 'message': ""Refactor mariadb role to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nMove service databases from others to more\nclusters (shards) is usefull especially for databases\nwith high load (neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by 'database_shard_id'.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb'.\n\nMariadb's task loadbalancer.yml is changed to apply only\nif shard == 1 as it is now.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 database_shard_id=2\nserver4 database_shard_id=2\nserver5 database_shard_id=2\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 9, 'created': '2021-01-05 18:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d54c3fc80c31bb40825d0fb8ad16f0c4b33cb1aa', 'message': ""Refactor mariadb role to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nMove service databases from others to more\nclusters (shards) is usefull especially for databases\nwith high load (neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by 'database_shard_id'.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb'.\n\nMariadb's task loadbalancer.yml is changed to apply only\nif shard == 1 as it is now.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 database_shard_id=2\nserver4 database_shard_id=2\nserver5 database_shard_id=2\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 10, 'created': '2021-01-10 18:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c0c747421e7ecf7401f71ad136bb1a31db152046', 'message': ""Refactor mariadb to support multiple separate shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'database_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'database_shard_id' is set to 1 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if shard == 1 as it is now.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 database_shard_id=2\nserver4 database_shard_id=2\nserver5 database_shard_id=2\nserver6 database_shard_id=3\nserver7 database_shard_id=3\nserver8 database_shard_id=3\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 11, 'created': '2021-01-10 20:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f7f2a9fca31fcb43a63fa829988a113ae1248bf6', 'message': ""Refactor mariadb to support multiple separate shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'database_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'database_shard_id' is set to 1 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if shard == 1 as it is now.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 database_shard_id=2\nserver4 database_shard_id=2\nserver5 database_shard_id=2\nserver6 database_shard_id=3\nserver7 database_shard_id=3\nserver8 database_shard_id=3\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 12, 'created': '2021-01-10 20:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a811722850aa39c166017c262ca606e5384a7ef', 'message': ""Refactor mariadb to support multiple separate shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'database_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'database_shard_id' is set to 1 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if shard == 1 as it is now.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 database_shard_id=2\nserver4 database_shard_id=2\nserver5 database_shard_id=2\nserver6 database_shard_id=3\nserver7 database_shard_id=3\nserver8 database_shard_id=3\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 13, 'created': '2021-01-10 20:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/497047dbfcaba50cf6b448ed87c26e5077e8f04c', 'message': ""Refactor mariadb to support multiple separate shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'database_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'database_shard_id' is set to 1 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if shard == 1 as it is now.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 database_shard_id=2\nserver4 database_shard_id=2\nserver5 database_shard_id=2\nserver6 database_shard_id=3\nserver7 database_shard_id=3\nserver8 database_shard_id=3\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 14, 'created': '2021-01-10 20:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/68faa8a5b88d2ad5a1a2544abc3d14aa6d35c981', 'message': ""Refactor mariadb to support multiple separate shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'database_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'database_shard_id' is set to 1 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if shard == 1 as it is now.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 database_shard_id=2\nserver4 database_shard_id=2\nserver5 database_shard_id=2\nserver6 database_shard_id=3\nserver7 database_shard_id=3\nserver8 database_shard_id=3\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 15, 'created': '2021-01-10 21:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5948914ece97ad28fadf0dfdc748c5ac5e43ae12', 'message': ""Refactor mariadb to support multiple separate shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'database_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'database_shard_id' is set to 1 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if shard == 1 as it is now.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 database_shard_id=2\nserver4 database_shard_id=2\nserver5 database_shard_id=2\nserver6 database_shard_id=3\nserver7 database_shard_id=3\nserver8 database_shard_id=3\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 16, 'created': '2021-01-11 23:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/186949dd8c6e26584a2f9c97dafcfae570556f85', 'message': ""Refactor mariadb to support multiple separate shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'database_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'database_shard_id' is set to 1 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if shard == 1 as it is now.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 database_shard_id=2\nserver4 database_shard_id=2\nserver5 database_shard_id=2\nserver6 database_shard_id=3\nserver7 database_shard_id=3\nserver8 database_shard_id=3\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 17, 'created': '2021-01-12 21:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ea2e142e651788f383476e076bbe3addb159869', 'message': ""Refactor mariadb to support multiple separate shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'database_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'database_shard_id' is set to 1 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if shard == 1 as it is now.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 database_shard_id=2\nserver4 database_shard_id=2\nserver5 database_shard_id=2\nserver6 database_shard_id=3\nserver7 database_shard_id=3\nserver8 database_shard_id=3\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 18, 'created': '2021-01-13 00:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/903d289c9df3bf06c376d0b4065c90bbbe8b9ec2', 'message': ""Refactor mariadb to support multiple separate shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'database_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'database_shard_id' is set to 1 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if shard == 1 as it is now.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 database_shard_id=2\nserver4 database_shard_id=2\nserver5 database_shard_id=2\nserver6 database_shard_id=3\nserver7 database_shard_id=3\nserver8 database_shard_id=3\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 19, 'created': '2021-01-13 00:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ee9f3c7a7d6a93004a48d359f1a5165b1136561b', 'message': ""Refactor mariadb to support multiple separate shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'database_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'database_shard_id' is set to 1 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if shard == 1 as it is now.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 database_shard_id=2\nserver4 database_shard_id=2\nserver5 database_shard_id=2\nserver6 database_shard_id=3\nserver7 database_shard_id=3\nserver8 database_shard_id=3\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 20, 'created': '2021-01-14 10:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3df1903b252db49db2473fb7f9ceaa5f2dc557e3', 'message': ""Refactor mariadb to support multiple separate shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'database_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'database_shard_id' is set to 1 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if shard == 1 as it is now.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 database_shard_id=2\nserver4 database_shard_id=2\nserver5 database_shard_id=2\nserver6 database_shard_id=3\nserver7 database_shard_id=3\nserver8 database_shard_id=3\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 21, 'created': '2021-01-14 10:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/432a7f1400ded01bd532d66d28b5d5af78682686', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'database_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'database_shard_id' is set to 1 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if shard == 1 as it is now.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 database_shard_id=2\nserver4 database_shard_id=2\nserver5 database_shard_id=2\nserver6 database_shard_id=3\nserver7 database_shard_id=3\nserver8 database_shard_id=3\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 22, 'created': '2021-01-14 23:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/67e4eeedadd92275313875ca7b7eb46170a6641d', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'database_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'database_shard_id' is set to 1 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if shard == 1 as it is now.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 database_shard_id=2\nserver4 database_shard_id=2\nserver5 database_shard_id=2\nserver6 database_shard_id=3\nserver7 database_shard_id=3\nserver8 database_shard_id=3\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 23, 'created': '2021-01-20 00:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/107018e6b9e3dce48dda01a07a55a110638a9d75', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'database_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'database_shard_id' is set to 1 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if shard == 1 as it is now.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 database_shard_id=2\nserver4 database_shard_id=2\nserver5 database_shard_id=2\nserver6 database_shard_id=3\nserver7 database_shard_id=3\nserver8 database_shard_id=3\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\n""}, {'number': 24, 'created': '2021-01-25 18:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a7608abfda3992098174cc6d1f08c52727552e33', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 25, 'created': '2021-01-25 18:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/198b47c620e0b13b34ef917db34c32cc04e8d1d0', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 26, 'created': '2021-01-26 09:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73f8dca5a245fbb1be6c0acbff2aad065c83e7fa', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 27, 'created': '2021-01-26 09:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/65e6a02beb1859fb4c26679f04992f1232de19d7', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 28, 'created': '2021-01-26 09:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/65d819a419f94df48726a8ce82e3c2e6508e4c43', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'database_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'database_shard_id' is set to 1 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 database_shard_id=1\nserver2 database_shard_id=1\nserver3 database_shard_id=2\nserver4 database_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 29, 'created': '2021-01-26 10:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b7517fa8009556ad257acb5f04e15923649b9cc4', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 30, 'created': '2021-01-26 18:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e640a82a845213c59d211034fc23f562c84977d8', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 31, 'created': '2021-01-26 18:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/92cb21efd29622dd4567795dbdfeeba34ae2c5ed', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 32, 'created': '2021-02-01 12:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e068e8f027c53caeec76667092226b36e93d1b8f', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 33, 'created': '2021-02-02 19:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/877b750554e123f15b0b60db2ab142d36b6a2e79', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 34, 'created': '2021-02-09 11:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a307049e3f573fa8df07f221d912f43ed86e71c2', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 35, 'created': '2021-02-09 12:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6b5a2e5b904a52dddb76e84b2011770fb4061ac5', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 36, 'created': '2021-02-10 11:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4d564681acd74df7bed8c49b898388e81b02f067', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 37, 'created': '2021-02-10 12:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/28aa4adfc58f188dad627c43cc0e0bc37ae1cf50', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 38, 'created': '2021-02-11 13:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1a0a9b5de49e4eb6f72c1cadc5adede704edca28', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 39, 'created': '2021-02-15 18:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f5d3a6e3ffa4f84421e003e1ccee1c777df40117', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 40, 'created': '2021-02-26 11:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/07d1c7d95b5b8d7829e1ab96e101fb77fe20f5c3', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 41, 'created': '2021-03-16 12:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dd2af79f999cc8c42826637462dcbb8e8ec4fd20', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 42, 'created': '2021-03-17 23:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f365373b8ce3283cd5729b195dccbcfe0a39937', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 43, 'created': '2021-03-18 14:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/148e5a48d35410b10a8c029fac376340b336f9b4', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 44, 'created': '2021-03-18 19:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/25c11ac9ed3cf22df6c8176716b291321763f7e6', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 45, 'created': '2021-03-18 19:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/294ae4356b695099cbeab39a51d57062c8c0110f', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 46, 'created': '2021-03-19 14:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/63b343340f78e2f1235fa8b92312e2bc05824bea', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 47, 'created': '2021-03-20 07:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cbedcab63f61c5a2c709a42b6b99273001127678', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 48, 'created': '2021-03-23 15:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3aed77a50779799cecea5fea9e80765f607fdaf6', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 49, 'created': '2021-03-24 19:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bcc4401d3d63876277422a8ef54cb36e1c8c9728', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 50, 'created': '2021-03-27 18:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/66caae09345bd4ac75cad95d8e2c8a6e9e9ee0f4', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is changed to\napply only if sharding is not used.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1 mariadb_shard_id=1\nserver2 mariadb_shard_id=1\nserver3 mariadb_shard_id=2\nserver4 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 51, 'created': '2021-03-28 22:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f725c5442f1ee178f3a1605f0b936169d3055c4', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases, but only if haproxy\nis not used as load-balance solution.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is configuring\nmariadb default shard hosts as haproxy backends. If mariadb\nrole is used to install several clusters (shards), only\ndefault one is loadbalanced via haproxy.\n\nMariadb's backup is working only for default shard (cluster)\nwhen using haproxy as mariadb loadbalancer, if proxysql\nis used, all shards are backuped.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 mariadb_shard_id=1\nserver4 mariadb_shard_id=1\nserver5 mariadb_shard_id=2\nserver6 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 52, 'created': '2021-03-29 10:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/46a94186400e219f94cb2108480a4dc2747bb4ed', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases, but only if haproxy\nis not used as load-balance solution.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is configuring\nmariadb default shard hosts as haproxy backends. If mariadb\nrole is used to install several clusters (shards), only\ndefault one is loadbalanced via haproxy.\n\nMariadb's backup is working only for default shard (cluster)\nwhen using haproxy as mariadb loadbalancer, if proxysql\nis used, all shards are backuped.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 mariadb_shard_id=1\nserver4 mariadb_shard_id=1\nserver5 mariadb_shard_id=2\nserver6 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 53, 'created': '2021-03-29 11:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5b6739ace60ec096f4fb664694d393fb3b65252c', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases, but only if haproxy\nis not used as load-balance solution.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is configuring\nmariadb default shard hosts as haproxy backends. If mariadb\nrole is used to install several clusters (shards), only\ndefault one is loadbalanced via haproxy.\n\nMariadb's backup is working only for default shard (cluster)\nwhen using haproxy as mariadb loadbalancer, if proxysql\nis used, all shards are backuped.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 mariadb_shard_id=1\nserver4 mariadb_shard_id=1\nserver5 mariadb_shard_id=2\nserver6 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 54, 'created': '2021-04-07 12:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e82a3967be8e95017b4cbe628f97ba9b6a483a7', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases, but only if haproxy\nis not used as load-balance solution.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is configuring\nmariadb default shard hosts as haproxy backends. If mariadb\nrole is used to install several clusters (shards), only\ndefault one is loadbalanced via haproxy.\n\nMariadb's backup is working only for default shard (cluster)\nwhen using haproxy as mariadb loadbalancer, if proxysql\nis used, all shards are backuped.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 mariadb_shard_id=1\nserver4 mariadb_shard_id=1\nserver5 mariadb_shard_id=2\nserver6 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 55, 'created': '2021-04-07 12:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b3fce8ff3258019a3c362781fdcb960b60e1410c', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases, but only if haproxy\nis not used as load-balance solution.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is configuring\nmariadb default shard hosts as haproxy backends. If mariadb\nrole is used to install several clusters (shards), only\ndefault one is loadbalanced via haproxy.\n\nMariadb's backup is working only for default shard (cluster)\nwhen using haproxy as mariadb loadbalancer, if proxysql\nis used, all shards are backuped.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 mariadb_shard_id=1\nserver4 mariadb_shard_id=1\nserver5 mariadb_shard_id=2\nserver6 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}, {'number': 56, 'created': '2021-04-07 21:27:30.000000000', 'files': ['ansible/roles/mariadb/tasks/backup.yml', 'ansible/roles/mariadb/tasks/recover_cluster.yml', 'ansible/roles/mariadb/tasks/check.yml', 'ansible/roles/mariadb/tasks/restart_services.yml', 'releasenotes/notes/mariadb-role-install-several-clusters-at-once-110057a091600d2c.yaml', 'ansible/roles/mariadb/tasks/wait_for_loadbalancer.yml', 'ansible/roles/mariadb/tasks/register.yml', 'ansible/roles/mariadb/handlers/main.yml', 'ansible/roles/mariadb/templates/galera.cnf.j2', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/group_vars/all.yml', 'ansible/roles/mariadb/tasks/bootstrap.yml', 'ansible/roles/mariadb/tasks/deploy.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/mariadb/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/09b3c6ca07ccd2dd7ee0cf5e3dd96b36192206b4', 'message': ""Refactor mariadb to support shards\n\nKolla-ansible is currently installing mariadb\ncluster on hosts defined in group['mariadb']\nand render haproxy configuration for this hosts.\n\nThis is not enough if user want to have several\nservice databases in several mariadb clusters (shards).\n\nSpread service databases to multiple clusters (shards)\nis usefull especially for databases with high load\n(neutron,nova).\n\nHow it works ?\n\nIt works exactly same as now, but group reference 'mariadb'\nis now used as group where all mariadb clusters (shards)\nare located, and mariadb clusters are installed to\ndynamic groups created by group_by and host variable\n'mariadb_shard_id'.\n\nIt also adding special user 'shard_X' which will be used\nfor creating users and databases, but only if haproxy\nis not used as load-balance solution.\n\nThis patch will not affect user which has all databases\non same db cluster on hosts in group 'mariadb', host\nvariable 'mariadb_shard_id' is set to 0 if not defined.\n\nMariadb's task in loadbalancer.yml (haproxy) is configuring\nmariadb default shard hosts as haproxy backends. If mariadb\nrole is used to install several clusters (shards), only\ndefault one is loadbalanced via haproxy.\n\nMariadb's backup is working only for default shard (cluster)\nwhen using haproxy as mariadb loadbalancer, if proxysql\nis used, all shards are backuped.\n\nAfter this patch will be merged, there will be way for proxysql\npatches which will implement L7 SQL balancing based on\nusers and schemas.\n\nExample of inventory:\n\n[mariadb]\nserver1\nserver2\nserver3 mariadb_shard_id=1\nserver4 mariadb_shard_id=1\nserver5 mariadb_shard_id=2\nserver6 mariadb_shard_id=3\n\nExtra:\nwait_for_loadbalancer is removed instead of modified as its role\nis served by check already. The relevant refactor is applied as\nwell.\n\nChange-Id: I933067f22ecabc03247ea42baf04f19100dffd08\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n""}]",135,766952,09b3c6ca07ccd2dd7ee0cf5e3dd96b36192206b4,207,4,56,27339,,,0,"Refactor mariadb to support shards

Kolla-ansible is currently installing mariadb
cluster on hosts defined in group['mariadb']
and render haproxy configuration for this hosts.

This is not enough if user want to have several
service databases in several mariadb clusters (shards).

Spread service databases to multiple clusters (shards)
is usefull especially for databases with high load
(neutron,nova).

How it works ?

It works exactly same as now, but group reference 'mariadb'
is now used as group where all mariadb clusters (shards)
are located, and mariadb clusters are installed to
dynamic groups created by group_by and host variable
'mariadb_shard_id'.

It also adding special user 'shard_X' which will be used
for creating users and databases, but only if haproxy
is not used as load-balance solution.

This patch will not affect user which has all databases
on same db cluster on hosts in group 'mariadb', host
variable 'mariadb_shard_id' is set to 0 if not defined.

Mariadb's task in loadbalancer.yml (haproxy) is configuring
mariadb default shard hosts as haproxy backends. If mariadb
role is used to install several clusters (shards), only
default one is loadbalanced via haproxy.

Mariadb's backup is working only for default shard (cluster)
when using haproxy as mariadb loadbalancer, if proxysql
is used, all shards are backuped.

After this patch will be merged, there will be way for proxysql
patches which will implement L7 SQL balancing based on
users and schemas.

Example of inventory:

[mariadb]
server1
server2
server3 mariadb_shard_id=1
server4 mariadb_shard_id=1
server5 mariadb_shard_id=2
server6 mariadb_shard_id=3

Extra:
wait_for_loadbalancer is removed instead of modified as its role
is served by check already. The relevant refactor is applied as
well.

Change-Id: I933067f22ecabc03247ea42baf04f19100dffd08
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/766952/49 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/mariadb/handlers/main.yml', 'ansible/mariadb_recovery.yml', 'ansible/roles/mariadb/templates/galera.cnf.j2', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/mariadb/tasks/bootstrap.yml', 'ansible/site.yml', 'ansible/roles/mariadb/tasks/loadbalancer.yml', 'ansible/roles/mariadb/tasks/recover_cluster.yml', 'ansible/roles/mariadb/tasks/restart_services.yml', 'ansible/roles/mariadb/defaults/main.yml']",10,d258a8f93e288793e817110d4f96800aa80e5525,change-780970-23," group: ""{{ mariadb_shard }}"" group: ""{{ mariadb_shard }}""internal_haproxy_members: ""{% for host in groups[mariadb_shard] %}server {{ hostvars[host]['ansible_hostname'] }} {{ 'api' | kolla_address(host) }}:{{ mariadb_port }} check {% if enable_mariadb_clustercheck | bool %}port {{ mariadb_clustercheck_port }} {% endif %} inter 2000 rise 2 fall 5{% if not loop.first %} backup{% endif %};{% endfor %}"" external_haproxy_members: ""{% for host in groups[mariadb_shard] %}server {{ host }} {{ host }}:{{ mariadb_port }} check {% if enable_mariadb_clustercheck | bool %}port {{ mariadb_clustercheck_port}} {% endif %} inter 2000 rise 2 fall 5{% if not loop.first %} backup{% endif %};{% endfor %}""mariadb_backup_host: ""{{ groups[mariadb_shard][0] }}"" ################### # Sharding ################### mariadb_shard: ""{% if database_shard is defined %}mariadb_{{ database_shard }}{% else %}mariadb_default{% endif %}"" mariadb_shard_group: ""{% if database_shard is defined %}group_mariadb_{{ database_shard }}{% else %}group_mariadb_default{% endif %}"" # Dynamic groups potentionaly creating in tasks # which we are refering to # Group of mariadbs per shard # which have volume created or not. mariadb_shard_had_volume_true_group: ""{{ mariadb_shard_group }}_had_volume_True"" mariadb_shard_had_volume_false_group: ""{{ mariadb_shard_group }}_had_volume_False"" # Group of mariadbs per shard # which ports are alive or not. mariadb_shard_port_alive_true_group: ""{{ mariadb_shard_group }}_port_alive_True"" mariadb_shard_port_alive_false_group: ""{{ mariadb_shard_group }}_port_alive_False"" # Group of mariadbs per shard # which are synced or not. mariadb_shard_sync_status_NA_group: ""{{ mariadb_shard_group }}_sync_status_NA"" mariadb_shard_sync_status_synced_group: ""{{ mariadb_shard_group }}_sync_status_Synced"""," group: mariadb group: mariadbinternal_haproxy_members: ""{% for host in groups['mariadb'] %}server {{ hostvars[host]['ansible_hostname'] }} {{ 'api' | kolla_address(host) }}:{{ mariadb_port }} check {% if enable_mariadb_clustercheck | bool %}port {{ mariadb_clustercheck_port }} {% endif %} inter 2000 rise 2 fall 5{% if not loop.first %} backup{% endif %};{% endfor %}"" external_haproxy_members: ""{% for host in groups['mariadb'] %}server {{ host }} {{ host }}:{{ mariadb_port }} check {% if enable_mariadb_clustercheck | bool %}port {{ mariadb_clustercheck_port}} {% endif %} inter 2000 rise 2 fall 5{% if not loop.first %} backup{% endif %};{% endfor %}""mariadb_backup_host: ""{{ groups['mariadb'][0] }}""",88,38
openstack%2Freleases~master~I8c594eb269c015101aceeb2ed7e02ad5343b0329,openstack/releases,master,I8c594eb269c015101aceeb2ed7e02ad5343b0329,Final RC patch for cyborg,MERGED,2021-04-08 09:02:42.000000000,2021-04-09 14:01:09.000000000,2021-04-09 14:01:09.000000000,"[{'_account_id': 308}, {'_account_id': 13629}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-08 09:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a068b7b470a37ebe7a7f14fa141e7b433f671358', 'message': 'Final RC patch for cyborg\n\nThis creates a new RC before the final release candidate deadline to\nrelease the latest fixes and/or translations.\n\nPlease ack with a +1, or if there is some reason to hold off, leave a -1.\n\n$ git log --oneline --no-merges 6.0.0.0rc1..4040843\n4040843 Revert device_profile key to show device profile API\n8ac560b tools: Allow check-cherry-picks.sh to be disabled by an env var\ncbb9857 [stable-only] Update TOX_CONSTRAINTS_FILE for stable/wallaby\ncc87094 [stable-only] Update .gitreview for stable/wallaby\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I8c594eb269c015101aceeb2ed7e02ad5343b0329\n'}, {'number': 2, 'created': '2021-04-09 09:16:29.000000000', 'files': ['deliverables/wallaby/cyborg.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/baf9d82e3c48e895fc26e7f5d4f75060676148c0', 'message': 'Final RC patch for cyborg\n\nThis creates a new RC before the final release candidate deadline to\nrelease the latest fixes and/or translations.\n\nPlease ack with a +1, or if there is some reason to hold off, leave a -1.\n\n$ git log --oneline --no-merges 6.0.0.0rc1..7fbae95\n7fbae95 Remove personal name in the docs\n4040843 Revert device_profile key to show device profile API\n8ac560b tools: Allow check-cherry-picks.sh to be disabled by an env var\ncbb9857 [stable-only] Update TOX_CONSTRAINTS_FILE for stable/wallaby\ncc87094 [stable-only] Update .gitreview for stable/wallaby\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I8c594eb269c015101aceeb2ed7e02ad5343b0329\nDepends-On: https://review.opendev.org/c/openstack/cyborg/+/785395\n'}]",0,785344,baf9d82e3c48e895fc26e7f5d4f75060676148c0,10,6,2,28522,,,0,"Final RC patch for cyborg

This creates a new RC before the final release candidate deadline to
release the latest fixes and/or translations.

Please ack with a +1, or if there is some reason to hold off, leave a -1.

$ git log --oneline --no-merges 6.0.0.0rc1..7fbae95
7fbae95 Remove personal name in the docs
4040843 Revert device_profile key to show device profile API
8ac560b tools: Allow check-cherry-picks.sh to be disabled by an env var
cbb9857 [stable-only] Update TOX_CONSTRAINTS_FILE for stable/wallaby
cc87094 [stable-only] Update .gitreview for stable/wallaby

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I8c594eb269c015101aceeb2ed7e02ad5343b0329
Depends-On: https://review.opendev.org/c/openstack/cyborg/+/785395
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/785344/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/cyborg.yaml'],1,a068b7b470a37ebe7a7f14fa141e7b433f671358,wallaby-final-rc, - version: 6.0.0.0rc2 projects: - repo: openstack/cyborg hash: 40408435869cecd87fb53ed5fccdc2160ae01540,,4,0
openstack%2Freleases~master~I57c3281249dc061d009dcb556d908d95de92b179,openstack/releases,master,I57c3281249dc061d009dcb556d908d95de92b179,Release Magnum 11.1.0 for stable/victoria,MERGED,2021-03-17 13:59:32.000000000,2021-04-09 13:56:31.000000000,2021-04-09 13:56:31.000000000,"[{'_account_id': 17685}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-17 13:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e67a405012d79a592e80070f13e614ced13e54a0', 'message': 'Release Magnum 11.1.0 for stable/victoria\n\nThere has been many important changes backported that\nis required to even use things such as MySQL 8 support.\n\nChange-Id: I57c3281249dc061d009dcb556d908d95de92b179\n'}, {'number': 2, 'created': '2021-04-09 09:41:21.000000000', 'files': ['deliverables/victoria/magnum.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/abd8e90cd37f4e7584e0860afb1d3fcfc29b5658', 'message': 'Release Magnum 11.1.0 for stable/victoria\n\nThere has been many important changes backported that\nis required to even use things such as MySQL 8 support.\n\nChange-Id: I57c3281249dc061d009dcb556d908d95de92b179\n'}]",0,781103,abd8e90cd37f4e7584e0860afb1d3fcfc29b5658,21,5,2,16137,,,0,"Release Magnum 11.1.0 for stable/victoria

There has been many important changes backported that
is required to even use things such as MySQL 8 support.

Change-Id: I57c3281249dc061d009dcb556d908d95de92b179
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/781103/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/magnum.yaml'],1,e67a405012d79a592e80070f13e614ced13e54a0,, - version: 11.1.0 projects: - repo: openstack/magnum hash: d60e7049b3acbaca16d204090a02042ab1d6b70c,,4,0
openstack%2Ftrove~master~I546ffe88b6e135c3f4c6f71b5aef03b92011bed8,openstack/trove,master,I546ffe88b6e135c3f4c6f71b5aef03b92011bed8,Add taskmanager_manager option to common,MERGED,2021-04-07 14:44:33.000000000,2021-04-09 13:47:18.000000000,2021-04-09 13:45:57.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 14:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ffdf1c224c12a09959219411e0474cb49cc758e1', 'message': 'Add taskmanager_manager option to common\n\nOption `taskmanager_manager` does not have defaults and thus is required\nto be set, otherwise trove-taskmanager will fail to start with\nAttributeError. In the meanwhile this is not clear what value is expected\nas option is not described anywhere.\n\nThis change moves option to the general list, which will make it\ndocumented along with setting reasonable default.\n\nChange-Id: I546ffe88b6e135c3f4c6f71b5aef03b92011bed8\n'}, {'number': 2, 'created': '2021-04-07 15:23:23.000000000', 'files': ['trove/common/cfg.py', 'trove/cmd/taskmanager.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/22b99fb05d405c893ae75d28a7b4ee1c948a9c63', 'message': 'Add taskmanager_manager option to common\n\nOption `taskmanager_manager` does not have defaults and thus is required\nto be set, otherwise trove-taskmanager will fail to start with\nAttributeError. In the meanwhile this is not clear what value is expected\nas option is not described anywhere.\n\nThis change moves option to the general list, which will make it\ndocumented along with setting reasonable default.\n\nChange-Id: I546ffe88b6e135c3f4c6f71b5aef03b92011bed8\n'}]",0,785192,22b99fb05d405c893ae75d28a7b4ee1c948a9c63,12,2,2,28619,,,0,"Add taskmanager_manager option to common

Option `taskmanager_manager` does not have defaults and thus is required
to be set, otherwise trove-taskmanager will fail to start with
AttributeError. In the meanwhile this is not clear what value is expected
as option is not described anywhere.

This change moves option to the general list, which will make it
documented along with setting reasonable default.

Change-Id: I546ffe88b6e135c3f4c6f71b5aef03b92011bed8
",git fetch https://review.opendev.org/openstack/trove refs/changes/92/785192/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/cfg.py', 'trove/cmd/taskmanager.py']",2,ffdf1c224c12a09959219411e0474cb49cc758e1,,@with_initialize@with_initialize,from oslo_config import cfg as openstack_cfgextra_opts = [openstack_cfg.StrOpt('taskmanager_manager')] @with_initialize(extra_opts=extra_opts)@with_initialize(extra_opts=extra_opts),4,6
openstack%2Fkolla-ansible~master~I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1,openstack/kolla-ansible,master,I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1,OVN: Make OVS db entries idempotent,MERGED,2020-09-09 11:52:02.000000000,2021-04-09 13:24:19.000000000,2021-04-09 13:20:56.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-09-09 11:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/56bf884af9a5201b0f877f5e3effd71f301fab77', 'message': 'WIP: OVN: Make OVS db entries idempotent\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 2, 'created': '2020-09-15 12:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bf0c10f5fea09a3f217241e079bcd29391337b9b', 'message': 'WIP: OVN: Make OVS db entries idempotent\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 3, 'created': '2020-09-17 11:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b2a0670067122c65f54c8256e266efb2d2dab30c', 'message': 'WIP: OVN: Make OVS db entries idempotent\n\nDepends-On: https://review.opendev.org/752434\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 4, 'created': '2020-09-17 16:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/314964b9dad902c829c79b57ca739bc337d2ce22', 'message': 'WIP: OVN: Make OVS db entries idempotent\n\nDepends-On: https://review.opendev.org/752434\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 5, 'created': '2020-11-04 09:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dbe5d93618ecc68de19a9433edea9170fb09a942', 'message': 'WIP: OVN: Make OVS db entries idempotent\n\nDepends-On: https://review.opendev.org/752434\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 6, 'created': '2020-11-04 09:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/adb4daf7602578c36edc8333fd717a6d11509cd1', 'message': 'WIP: OVN: Make OVS db entries idempotent\n\nDepends-On: https://review.opendev.org/752434\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 7, 'created': '2020-11-04 09:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5a6e19cdfb1763a5bfc950712e990bbc29222838', 'message': 'WIP: OVN: Make OVS db entries idempotent\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 8, 'created': '2020-11-04 09:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/60d4b9a1ab2b55866c354fbb739054a20ed90e13', 'message': 'WIP: OVN: Make OVS db entries idempotent\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 9, 'created': '2020-11-04 09:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/baa87fdbaa279b3f17af3148aec14746b975aaf3', 'message': 'WIP: OVN: Make OVS db entries idempotent\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 10, 'created': '2020-11-04 12:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/96fef698dee185562029623282b42d1ead69d402', 'message': 'WIP: OVN: Make OVS db entries idempotent\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 11, 'created': '2020-11-04 16:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4aa797e116615a217eefd1a2d2c9da2b2169c4aa', 'message': 'OVN: Make OVS db entries idempotent\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 12, 'created': '2020-11-04 16:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/477d6b07fe643ae02532cbff1211cd2a8ed92dd7', 'message': 'OVN: Make OVS db entries idempotent\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 13, 'created': '2020-11-05 07:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6b5b4d1382507cb44fa2c6c080a4392a2cc37716', 'message': 'OVN: Make OVS db entries idempotent\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 14, 'created': '2020-11-05 07:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5feb0fbffe639ff28ad5184b8fc7e77e6f0ee483', 'message': 'OVN: Make OVS db entries idempotent\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 15, 'created': '2020-11-10 10:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/29addc77809c4ffbd9f0277e9493c9b7ef8326ca', 'message': 'OVN: Make OVS db entries idempotent\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 16, 'created': '2021-02-23 16:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f7e0e50a45047648d10bb73e6a2722132825e8dd', 'message': 'OVN: Make OVS db entries idempotent\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 17, 'created': '2021-03-09 17:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ae9f9b25cc1a59bc3ddcdae0f2f05a2c0af3f2e3', 'message': 'OVN: Make OVS db entries idempotent\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 18, 'created': '2021-03-16 15:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/449b178c0816d16ed12094b95e959b3d6f9b2bbd', 'message': 'OVN: Make OVS db entries idempotent\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 19, 'created': '2021-03-16 16:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e402e7d684704acee877612fcb19bd91c0144fb7', 'message': 'OVN: Make OVS db entries idempotent\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 20, 'created': '2021-03-17 12:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/10e5fe8ed8fe22bce90843f8c242d2bfc4c8f1ac', 'message': 'OVN: Make OVS db entries idempotent\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 21, 'created': '2021-03-17 13:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7621566b6bff0932f5d13fff31ca0d0e672269d7', 'message': 'OVN: Make OVS db entries idempotent\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 22, 'created': '2021-03-25 07:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/78f5626a6ea6bb9ac5553f78f9083cd80dfc6ec0', 'message': 'OVN: Make OVS db entries idempotent\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782906\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 23, 'created': '2021-03-25 07:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b8518a7e31b198c17a4f038825283abf7fe6cb45', 'message': 'OVN: Make OVS db entries idempotent\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782906\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 24, 'created': '2021-03-25 12:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d088b43a5676579991e4a879f118c76d51740c0b', 'message': 'OVN: Make OVS db entries idempotent\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782906\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}, {'number': 25, 'created': '2021-03-25 19:52:30.000000000', 'files': ['ansible/roles/ovn/tasks/deploy.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/ovn/tasks/upgrade.yml', 'ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c3191692fd63b5847c809fbcb65294e542deabd', 'message': 'OVN: Make OVS db entries idempotent\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782906\n\nChange-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1\n'}]",16,750631,3c3191692fd63b5847c809fbcb65294e542deabd,105,5,25,22629,,,0,"OVN: Make OVS db entries idempotent

Co-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>

Depends-On: https://review.opendev.org/c/openstack/kolla/+/782906

Change-Id: I73cd776772a45c9ffcb045f4d0eff8f4bdc997f1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/31/750631/15 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ovn/tasks/bootstrap.yml'],1,56bf884af9a5201b0f877f5e3effd71f301fab77,ovn_chassis_gw_check,"- name: Get OVN bridge mappings become: true command: docker exec openvswitch_vswitchd ovs-vsctl get Open_vSwitch . external_ids:ovn-bridge-mappings register: ovn_bridge_mappings changed_when: false - ovn_bridge_mappings.stdout.find(ovn_mappings) != -1 - name: Get OVN cms options become: true command: docker exec openvswitch_vswitchd ovs-vsctl get Open_vSwitch . external_ids:ovn-cms-options register: ovn_cms_options changed_when: false - ovn_cms_options.stdout.find(""enable-chassis-as-gw"") != -1 - name: Disable chassis as gateway (where not needed) become: true command: docker exec openvswitch_vswitchd ovs-vsctl set Open_vSwitch . external-ids:ovn-cms-options="""" when: - inventory_hostname in groups[""ovn-controller-compute""] and not neutron_ovn_distributed_fip | bool - ovn_cms_options.stdout.find(""enable-chassis-as-gw"") == 1",,21,0
openstack%2Fdevstack~master~I93429d6fc9770e55c6f21c14957468225319ce39,openstack/devstack,master,I93429d6fc9770e55c6f21c14957468225319ce39,Make stackviz tasks not to fail jobs,ABANDONED,2020-11-03 23:01:02.000000000,2021-04-09 13:21:24.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-11-03 23:01:02.000000000', 'files': ['roles/process-stackviz/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/42c40240417113c89f82c2991dd12b585dbdf96c', 'message': 'Make stackviz tasks not to fail jobs\n\nIf there is any issue on stckviz side(#1863161),\njob start failing with POST_FAILURE. If we fix the\nissue still we need to wait for periodic job\nperiodic-package-stackviz-element to publish\nthe latest tarball on https://tarballs.openstack.org/stackviz/dist/.\n\nStackviz is not so critical part of job and we should\nnot fail the job for any issue occur during stackviz processing.\n\nChange-Id: I93429d6fc9770e55c6f21c14957468225319ce39\nCloses-Bug: #1863161\n'}]",0,761246,42c40240417113c89f82c2991dd12b585dbdf96c,6,3,1,8556,,,0,"Make stackviz tasks not to fail jobs

If there is any issue on stckviz side(#1863161),
job start failing with POST_FAILURE. If we fix the
issue still we need to wait for periodic job
periodic-package-stackviz-element to publish
the latest tarball on https://tarballs.openstack.org/stackviz/dist/.

Stackviz is not so critical part of job and we should
not fail the job for any issue occur during stackviz processing.

Change-Id: I93429d6fc9770e55c6f21c14957468225319ce39
Closes-Bug: #1863161
",git fetch https://review.opendev.org/openstack/devstack refs/changes/46/761246/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/process-stackviz/tasks/main.yaml'],1,42c40240417113c89f82c2991dd12b585dbdf96c,bug/1863161,"- name: Process stackviz block: - name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists ","- name: Devstack checks if stackviz archive exists stat: path: ""/opt/cache/files/stackviz-latest.tar.gz"" register: stackviz_archive - debug: msg: ""Stackviz archive could not be found in /opt/cache/files/stackviz-latest.tar.gz"" when: not stackviz_archive.stat.exists - name: Check if subunit data exists stat: path: ""{{ zuul_work_dir }}/testrepository.subunit"" register: subunit_input - debug: msg: ""Subunit file could not be found at {{ zuul_work_dir }}/testrepository.subunit"" when: not subunit_input.stat.exists - name: Install stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists block: - include_role: name: ensure-pip - pip: name: ""file://{{ stackviz_archive.stat.path }}"" virtualenv: /tmp/stackviz virtualenv_command: '{{ ensure_pip_virtualenv_command }}' extra_args: -U - name: Deploy stackviz static html+js command: cp -pR /tmp/stackviz/share/stackviz-html {{ stage_dir }}/stackviz when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Check if dstat data exists stat: path: ""{{ devstack_base_dir }}/logs/dstat-csv.log"" register: dstat_input when: - stackviz_archive.stat.exists - subunit_input.stat.exists - name: Run stackviz with dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --dstat ""{{ devstack_base_dir }}/logs/dstat-csv.log"" \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - dstat_input.stat.exists failed_when: False - name: Run stackviz without dstat shell: | cat {{ subunit_input.stat.path }} | \ /tmp/stackviz/bin/stackviz-export \ --env --stdin \ {{ stage_dir }}/stackviz/data when: - stackviz_archive.stat.exists - subunit_input.stat.exists - not dstat_input.stat.exists",66,63
openstack%2Fneutron~master~I1402916b69db51ee4c451118be2c89d6be7ac155,openstack/neutron,master,I1402916b69db51ee4c451118be2c89d6be7ac155,Remove BAGPIPE_FLOOD_TO_TUN_BROADCAST constant,ABANDONED,2021-04-09 10:27:32.000000000,2021-04-09 12:46:44.000000000,,[{'_account_id': 14525}],"[{'number': 1, 'created': '2021-04-09 10:27:32.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/932d3504bd7eaeb06accc911c6499ec4b0e2c6b9', 'message': ""Remove BAGPIPE_FLOOD_TO_TUN_BROADCAST constant\n\nIt was defined in the openvswitch agent's constants but it isn't used\nanywhere in Neutron or any other OpenStack project. So I think we can\nremove it.\n\nChange-Id: I1402916b69db51ee4c451118be2c89d6be7ac155\n""}]",0,785591,932d3504bd7eaeb06accc911c6499ec4b0e2c6b9,6,1,1,11975,,,0,"Remove BAGPIPE_FLOOD_TO_TUN_BROADCAST constant

It was defined in the openvswitch agent's constants but it isn't used
anywhere in Neutron or any other OpenStack project. So I think we can
remove it.

Change-Id: I1402916b69db51ee4c451118be2c89d6be7ac155
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/785591/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py'],1,932d3504bd7eaeb06accc911c6499ec4b0e2c6b9,rehome-ovs-constants,,# NOTE(vsaienko): transit table used by networking-bagpipe driver to # mirror traffic to EVPN and standard tunnels to gateway nodes BAGPIPE_FLOOD_TO_TUN_BROADCAST = 222,0,3
openstack%2Fmagnum~stable%2Fussuri~Iba6f68822e4c7219f21ab2da252802dc7c3ca933,openstack/magnum,stable/ussuri,Iba6f68822e4c7219f21ab2da252802dc7c3ca933,Do not create constraints for boolean fields,MERGED,2021-03-18 16:42:30.000000000,2021-04-09 12:24:02.000000000,2021-04-09 12:22:42.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-03-18 16:42:30.000000000', 'files': ['magnum/db/sqlalchemy/alembic/versions/2ae93c9c6191_add_public_column_to_baymodel_table.py', 'magnum/db/sqlalchemy/alembic/versions/1d045384b966_add_insecure_baymodel_attr.py', 'magnum/db/sqlalchemy/alembic/versions/ac92cbae311c_add_nodegoup_table.py', 'magnum/db/sqlalchemy/alembic/versions/5ad410481b88_rename_insecure.py', 'magnum/db/sqlalchemy/alembic/versions/95096e2334ee_add_master_lb_enabled_to_cluster.py', 'magnum/db/sqlalchemy/alembic/versions/461d798132c7_change_cluster_to_support_nodegroups.py', 'magnum/db/sqlalchemy/alembic/versions/4e263f236334_add_registry_enabled.py', 'magnum/db/sqlalchemy/alembic/versions/87e62e3c7abc_add_hidden_to_cluster_template.py', 'magnum/db/sqlalchemy/alembic/versions/68ce16dfd341_add_master_lb_enabled_column_to_baymodel_table.py', 'magnum/db/sqlalchemy/alembic/versions/27ad304554e2_adding_magnum_service_functionality.py', 'magnum/db/sqlalchemy/alembic/versions/47380964133d_add_network_subnet_fip_to_cluster.py', 'magnum/db/sqlalchemy/alembic/versions/b1f612248cab_add_floating_ip_enabled_column_to_.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/850b94aa6fb8b555228272f391468ba2e6da34d9', 'message': 'Do not create constraints for boolean fields\n\nOn mysql 8, Boolean fields create constraints which later\nmake it impossible to alter the name of the column.\nSee: https://github.com/sqlalchemy/alembic/issues/699\n\nPer upstream alembic recommendation, do not create constraints\nexplicitly.\nhttps://github.com/sqlalchemy/alembic/issues/699#issuecomment-760983057\n\nstory: 2008488\ntask: 41537\n\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n(cherry picked from commit bcf771bc6f165f8c364637b1055c6545d78c17bb)\n\nFix database migrations\n\nThe pattern of adding a column and then reading a table with it\nno longer works in SQLAlchemy 1.3.20. This has been reported\nupstream [1].\n\n[1] https://github.com/sqlalchemy/sqlalchemy/issues/5669\n\nsquashed with: I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b\n(cherry picked from commit f5cf6b958c20e560d2baff3fb21adcb4ce4a3aa4)\n\nChange-Id: I51659c6e179d7e4e2cfc5be46348fac483d76e3b\n(cherry picked from commit 210984fa264af876201b0099a8b7153fa09c5856)\n\nConflicts:\nmagnum/db/sqlalchemy/alembic/versions/1d045384b966_add_insecure_baymodel_attr.py\n\nChange-Id: Iba6f68822e4c7219f21ab2da252802dc7c3ca933\n'}]",0,781510,850b94aa6fb8b555228272f391468ba2e6da34d9,8,4,1,11805,,,0,"Do not create constraints for boolean fields

On mysql 8, Boolean fields create constraints which later
make it impossible to alter the name of the column.
See: https://github.com/sqlalchemy/alembic/issues/699

Per upstream alembic recommendation, do not create constraints
explicitly.
https://github.com/sqlalchemy/alembic/issues/699#issuecomment-760983057

story: 2008488
task: 41537

Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
(cherry picked from commit bcf771bc6f165f8c364637b1055c6545d78c17bb)

Fix database migrations

The pattern of adding a column and then reading a table with it
no longer works in SQLAlchemy 1.3.20. This has been reported
upstream [1].

[1] https://github.com/sqlalchemy/sqlalchemy/issues/5669

squashed with: I5fd1deeef9cf70794bc61c101e1d7d4379d4b96b
(cherry picked from commit f5cf6b958c20e560d2baff3fb21adcb4ce4a3aa4)

Change-Id: I51659c6e179d7e4e2cfc5be46348fac483d76e3b
(cherry picked from commit 210984fa264af876201b0099a8b7153fa09c5856)

Conflicts:
magnum/db/sqlalchemy/alembic/versions/1d045384b966_add_insecure_baymodel_attr.py

Change-Id: Iba6f68822e4c7219f21ab2da252802dc7c3ca933
",git fetch https://review.opendev.org/openstack/magnum refs/changes/10/781510/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/db/sqlalchemy/alembic/versions/2ae93c9c6191_add_public_column_to_baymodel_table.py', 'magnum/db/sqlalchemy/alembic/versions/1d045384b966_add_insecure_baymodel_attr.py', 'magnum/db/sqlalchemy/alembic/versions/ac92cbae311c_add_nodegoup_table.py', 'magnum/db/sqlalchemy/alembic/versions/5ad410481b88_rename_insecure.py', 'magnum/db/sqlalchemy/alembic/versions/95096e2334ee_add_master_lb_enabled_to_cluster.py', 'magnum/db/sqlalchemy/alembic/versions/461d798132c7_change_cluster_to_support_nodegroups.py', 'magnum/db/sqlalchemy/alembic/versions/4e263f236334_add_registry_enabled.py', 'magnum/db/sqlalchemy/alembic/versions/87e62e3c7abc_add_hidden_to_cluster_template.py', 'magnum/db/sqlalchemy/alembic/versions/68ce16dfd341_add_master_lb_enabled_column_to_baymodel_table.py', 'magnum/db/sqlalchemy/alembic/versions/27ad304554e2_adding_magnum_service_functionality.py', 'magnum/db/sqlalchemy/alembic/versions/47380964133d_add_network_subnet_fip_to_cluster.py', 'magnum/db/sqlalchemy/alembic/versions/b1f612248cab_add_floating_ip_enabled_column_to_.py']",12,850b94aa6fb8b555228272f391468ba2e6da34d9,story/2008488," sa.Boolean(create_constraint=False),"," sa.Boolean(),",33,15
openstack%2Ftripleo-heat-templates~master~I47beaaccd01d72cc550ffc7871e3384e112d9334,openstack/tripleo-heat-templates,master,I47beaaccd01d72cc550ffc7871e3384e112d9334,Remove unused environment for split-stack,MERGED,2021-04-05 03:05:21.000000000,2021-04-09 12:15:53.000000000,2021-04-09 12:15:53.000000000,"[{'_account_id': 7144}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-05 03:05:21.000000000', 'files': ['deployed-server/deployed-server-environment-output.yaml', 'environments/overcloud-baremetal.j2.yaml', 'environments/overcloud-services.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/000e99465e337b1a7b7a82d2fdfef18f3557f26b', 'message': 'Remove unused environment for split-stack\n\nThis removes the unused environments used for split-stack.\nSplit-stack is mostly irrelevant after we moved to use a\nseparate metalsmith based workflow since victoria. There\nis also a related tripleo-docs patch to update the docs.\n\nChange-Id: I47beaaccd01d72cc550ffc7871e3384e112d9334\n'}]",0,784719,000e99465e337b1a7b7a82d2fdfef18f3557f26b,15,5,1,8833,,,0,"Remove unused environment for split-stack

This removes the unused environments used for split-stack.
Split-stack is mostly irrelevant after we moved to use a
separate metalsmith based workflow since victoria. There
is also a related tripleo-docs patch to update the docs.

Change-Id: I47beaaccd01d72cc550ffc7871e3384e112d9334
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/784719/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployed-server/deployed-server-environment-output.yaml', 'environments/overcloud-baremetal.j2.yaml', 'environments/overcloud-services.yaml']",3,000e99465e337b1a7b7a82d2fdfef18f3557f26b,split-stack,,resource_registry: OS::TripleO::DeployedServerEnvironment: ../deployed-server/deployed-server-environment-output.yaml ,0,56
openstack%2Fbifrost~master~I3a4f2d667548f25513829579b22712a44e7c6b0f,openstack/bifrost,master,I3a4f2d667548f25513829579b22712a44e7c6b0f,Use explicit path for which,MERGED,2021-04-08 15:47:19.000000000,2021-04-09 11:36:09.000000000,2021-04-09 11:34:41.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 15:47:19.000000000', 'files': ['scripts/install-deps.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/95c429b5ba18719ca05eb920437e41a58a23076e', 'message': 'Use explicit path for which\n\nUse the /usr/bin/which path for which in rpm-based distros to avoid\nissues with any aliases.\n\nChange-Id: I3a4f2d667548f25513829579b22712a44e7c6b0f\n'}]",1,785437,95c429b5ba18719ca05eb920437e41a58a23076e,10,3,1,23851,,,0,"Use explicit path for which

Use the /usr/bin/which path for which in rpm-based distros to avoid
issues with any aliases.

Change-Id: I3a4f2d667548f25513829579b22712a44e7c6b0f
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/37/785437/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install-deps.sh'],1,95c429b5ba18719ca05eb920437e41a58a23076e,fix-which-alias-centos8, PKG_MANAGER=$(/usr/bin/which dnf || /usr/bin/which yum), PKG_MANAGER=$(which dnf || which yum),1,1
openstack%2Fneutron~master~Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6,openstack/neutron,master,Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6,Add locks for setting iptables rules in l3 and metadata agents,MERGED,2021-03-24 11:06:41.000000000,2021-04-09 11:32:30.000000000,2021-04-09 11:30:05.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 11:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/656a47a0a21037a8c06fe5185dba102af9086a49', 'message': ""Add locks for setting iptables rules in l3 and metadata agents\n\nRouter_info class and metadata agent's driver are using same\ninstance of the iptables manager class and it could happend that\nsometimes e.g. nat rule which packets send to 169.254.169.254:80\nredirects to the port 9697 so haproxy can process them, can be missed as\nthey will be overwritten by the Router_info class manipulating other\nrules in the same 'nat' rules list.\n\nThis patch fixed that by adding lock for methods which are changing\nrules in iptables_manager's nat table in both router_info and\nthe metadata agent's driver.\n\nCloses-Bug: #1920778\nChange-Id: Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6\n""}, {'number': 2, 'created': '2021-03-24 15:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cbae0dc119d990166f105faf9f3b3c35c14e1788', 'message': ""Add locks for setting iptables rules in l3 and metadata agents\n\nRouter_info class and metadata agent's driver are using same\ninstance of the iptables manager class and it could happend that\nsometimes e.g. nat rule which packets send to 169.254.169.254:80\nredirects to the port 9697 so haproxy can process them, can be missed as\nthey will be overwritten by the Router_info class manipulating other\nrules in the same 'nat' rules list.\n\nThis patch fixed that by adding lock for methods which are changing\nrules in iptables_manager's nat table in both router_info and\nthe metadata agent's driver.\n\nCloses-Bug: #1920778\nChange-Id: Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6\n""}, {'number': 3, 'created': '2021-03-25 09:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/496c4b6a586d9a18f70794e21ac97068e988de77', 'message': ""Add locks for setting iptables rules in l3 and metadata agents\n\nRouter_info class and metadata agent's driver are using same\ninstance of the iptables manager class and it could happend that\nsometimes e.g. nat rule which packets send to 169.254.169.254:80\nredirects to the port 9697 so haproxy can process them, can be missed as\nthey will be overwritten by the Router_info class manipulating other\nrules in the same 'nat' rules list.\n\nThis patch fixed that by adding lock for methods which are changing\nrules in iptables_manager's nat table in both router_info and\nthe metadata agent's driver.\n\nCloses-Bug: #1920778\nChange-Id: Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6\n""}, {'number': 4, 'created': '2021-03-30 10:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9efeb677ec4183a29c92ac332c232e22b33f8fd7', 'message': ""Add locks for setting iptables rules in l3 and metadata agents\n\nRouter_info class and metadata agent's driver are using same\ninstance of the iptables manager class and it could happend that\nsometimes e.g. nat rule which packets send to 169.254.169.254:80\nredirects to the port 9697 so haproxy can process them, can be missed as\nthey will be overwritten by the Router_info class manipulating other\nrules in the same 'nat' rules list.\n\nThis patch fixed that by adding lock for methods which are changing\nrules in iptables_manager's nat table in both router_info and\nthe metadata agent's driver.\n\nCloses-Bug: #1920778\nChange-Id: Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6\n""}, {'number': 5, 'created': '2021-03-31 09:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/47c9adaeef66c874beabbc06ad173a2efdca6788', 'message': ""Add locks for setting iptables rules in l3 and metadata agents\n\nRouter_info class and metadata agent's driver are using same\ninstance of the iptables manager class and it could happend that\nsometimes e.g. nat rule which packets send to 169.254.169.254:80\nredirects to the port 9697 so haproxy can process them, can be missed as\nthey will be overwritten by the Router_info class manipulating other\nrules in the same 'nat' rules list.\n\nThis patch fixed that by adding lock for methods which are changing\nrules in iptables_manager's nat table in both router_info and\nthe metadata agent's driver.\n\nCloses-Bug: #1920778\nChange-Id: Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6\n""}, {'number': 6, 'created': '2021-03-31 10:02:20.000000000', 'files': ['neutron/agent/metadata/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/af3c1b84427cbe4c9d3dce8fc901ad0b099c5917', 'message': ""Add locks for setting iptables rules in l3 and metadata agents\n\nRouter_info class and metadata agent's driver are using same\ninstance of the iptables manager class and it could happend that\nsometimes e.g. nat rule which packets send to 169.254.169.254:80\nredirects to the port 9697 so haproxy can process them, can be missed as\nthey will be overwritten by the Router_info class manipulating other\nrules in the same 'nat' rules list.\n\nThis patch fixed that by adding lock for methods which are changing\nrules in iptables_manager's nat table in both router_info and\nthe metadata agent's driver.\n\nCloses-Bug: #1920778\nChange-Id: Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6\n""}]",1,782690,af3c1b84427cbe4c9d3dce8fc901ad0b099c5917,138,8,6,11975,,,0,"Add locks for setting iptables rules in l3 and metadata agents

Router_info class and metadata agent's driver are using same
instance of the iptables manager class and it could happend that
sometimes e.g. nat rule which packets send to 169.254.169.254:80
redirects to the port 9697 so haproxy can process them, can be missed as
they will be overwritten by the Router_info class manipulating other
rules in the same 'nat' rules list.

This patch fixed that by adding lock for methods which are changing
rules in iptables_manager's nat table in both router_info and
the metadata agent's driver.

Closes-Bug: #1920778
Change-Id: Ic3a324c0e608c7afc4b15dbc8becd33b75ee78f6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/782690/6 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/metadata/driver.py'],1,656a47a0a21037a8c06fe5185dba102af9086a49,bug/1920778,"from neutron.common import coordination apply_metadata_nat_rules(router, proxy) @coordination.synchronized('router-lock-ns-{router.ns_name}') def apply_metadata_nat_rules(router, proxy): ipv6_enabled = netutils.is_ipv6_enabled() for c, r in proxy.metadata_filter_rules(proxy.metadata_port, proxy.metadata_access_mark): router.iptables_manager.ipv4['filter'].add_rule(c, r) if ipv6_enabled: for c, r in proxy.metadata_filter_rules(proxy.metadata_port, proxy.metadata_access_mark): router.iptables_manager.ipv6['filter'].add_rule(c, r) for c, r in proxy.metadata_nat_rules(proxy.metadata_port): router.iptables_manager.ipv4['nat'].add_rule(c, r) if ipv6_enabled: for c, r in proxy.metadata_nat_rules( proxy.metadata_port, metadata_address=(constants.METADATA_V6_IP + '/128')): router.iptables_manager.ipv6['nat'].add_rule(c, r) router.iptables_manager.apply()"," ipv6_enabled = netutils.is_ipv6_enabled() for c, r in proxy.metadata_filter_rules(proxy.metadata_port, proxy.metadata_access_mark): router.iptables_manager.ipv4['filter'].add_rule(c, r) if ipv6_enabled: for c, r in proxy.metadata_filter_rules(proxy.metadata_port, proxy.metadata_access_mark): router.iptables_manager.ipv6['filter'].add_rule(c, r) for c, r in proxy.metadata_nat_rules(proxy.metadata_port): router.iptables_manager.ipv4['nat'].add_rule(c, r) if ipv6_enabled: for c, r in proxy.metadata_nat_rules( proxy.metadata_port, metadata_address=(constants.METADATA_V6_IP + '/128')): router.iptables_manager.ipv6['nat'].add_rule(c, r) router.iptables_manager.apply() ",22,17
openstack%2Fcharm-pacemaker-remote~master~I598dfd7216f73f4e3e01471a8de5db66427d889b,openstack/charm-pacemaker-remote,master,I598dfd7216f73f4e3e01471a8de5db66427d889b,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:33:23.000000000,2021-04-09 10:54:07.000000000,2021-04-09 10:54:07.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-03 19:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/587d51c2b9453502a45bb7b8c86f3c8759e53a13', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I598dfd7216f73f4e3e01471a8de5db66427d889b\n'}, {'number': 2, 'created': '2021-04-08 13:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/7de70d8d22df5c041a28a291eaa56be6534b0f55', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nAlso fix expected workload status message for\ncs:ubuntu.\n\nChange-Id: I598dfd7216f73f4e3e01471a8de5db66427d889b\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 3, 'created': '2021-04-09 08:45:45.000000000', 'files': ['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/24a0b03ae21725df7ccfdd9cd35295125b06e88f', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nAlso fix expected workload status message for\ncs:ubuntu.\n\nChange-Id: I598dfd7216f73f4e3e01471a8de5db66427d889b\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",0,784690,24a0b03ae21725df7ccfdd9cd35295125b06e88f,20,4,3,20870,,,0,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Also fix expected workload status message for
cs:ubuntu.

Change-Id: I598dfd7216f73f4e3e01471a8de5db66427d889b
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-pacemaker-remote refs/changes/90/784690/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini']",5,587d51c2b9453502a45bb7b8c86f3c8759e53a13,libraries-sync-21-04, charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs} [testenv:add-build-lock-file] basepython = python3 commands = charm-build --log-level DEBUG --write-lock-file -o {toxinidir}/build/builds src {posargs}, charm-build --log-level DEBUG -o {toxinidir}/build/builds src {posargs},141,6
openstack%2Fironic-python-agent~stable%2Fwallaby~I334a9073d17cccec4c669fae82edc3e388debc5c,openstack/ironic-python-agent,stable/wallaby,I334a9073d17cccec4c669fae82edc3e388debc5c,Capture the early logging,MERGED,2021-04-08 12:28:07.000000000,2021-04-09 10:45:09.000000000,2021-04-09 10:43:21.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-04-08 12:28:07.000000000', 'files': ['ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py', 'ironic_python_agent/cmd/agent.py', 'releasenotes/notes/capture-early-logging-0f3fa58d75656117.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/40d7ad8c0ed69704b784ae57b991e3c11e23080e', 'message': 'Capture the early logging\n\n_early_log prints to stdout, which is fine in some cases,\nhowever in other cases it gets lost in the shuffle of process\nlaunch by things like systemd.\n\nLets try to save everything, and re-log it so it is easy to\ndebug early issues.\n\nChange-Id: I334a9073d17cccec4c669fae82edc3e388debc5c\n(cherry picked from commit df418984f037856813b6bc5e495ef602a6737ee3)\n'}]",0,785377,40d7ad8c0ed69704b784ae57b991e3c11e23080e,7,3,1,10239,,,0,"Capture the early logging

_early_log prints to stdout, which is fine in some cases,
however in other cases it gets lost in the shuffle of process
launch by things like systemd.

Lets try to save everything, and re-log it so it is easy to
debug early issues.

Change-Id: I334a9073d17cccec4c669fae82edc3e388debc5c
(cherry picked from commit df418984f037856813b6bc5e495ef602a6737ee3)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/77/785377/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py', 'ironic_python_agent/cmd/agent.py', 'releasenotes/notes/capture-early-logging-0f3fa58d75656117.yaml']",4,40d7ad8c0ed69704b784ae57b991e3c11e23080e,,--- fixes: - | Fixes initial logging before configuration is loaded to re-log anything recorded for the purposes of troubleshooting. This is necessary as systemd does not report stdout from a process launch as part of the process's logging. Now messages will be re-logged once the configuration has been loaded. ,,44,2
openstack%2Fmagnum~master~Iadda7976a7e903aa3c68ad56268ba8a310895827,openstack/magnum,master,Iadda7976a7e903aa3c68ad56268ba8a310895827,Use upstream Cinder CSI chart,NEW,2021-04-06 20:37:51.000000000,2021-04-09 10:40:46.000000000,,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 20:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3b4ddfdf5fdfcfe5c2aeaf724d009e9848bf6b5c', 'message': 'Use upstream Cinder CSI chart\n\nRemove duplicate code from Magnum codebase to reduce maintenance burden.\nAdditionally, default cinder_csi_plugin_tag=v1.20.0.\n\nStory: 2007048\nTask: 39782\n\nSigned-off-by: Bharat Kunwar <bharat@stackhpc.com>\nChange-Id: Iadda7976a7e903aa3c68ad56268ba8a310895827\n'}, {'number': 2, 'created': '2021-04-08 08:15:09.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/helm/cinder-csi.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'releasenotes/notes/cinder-csi-chart-d183aa9d2130c24f.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/c4fb9dc027c91f0e63770fe80ac05955d1b24791', 'message': 'Use upstream Cinder CSI chart\n\nRemove duplicate code from Magnum codebase to reduce maintenance burden.\nAdditionally, default cinder_csi_plugin_tag=v1.20.0.\n\nStory: 2007048\nTask: 39782\n\nSigned-off-by: Bharat Kunwar <bharat@stackhpc.com>\nChange-Id: Iadda7976a7e903aa3c68ad56268ba8a310895827\n'}]",0,785043,c4fb9dc027c91f0e63770fe80ac05955d1b24791,7,3,2,28022,,,0,"Use upstream Cinder CSI chart

Remove duplicate code from Magnum codebase to reduce maintenance burden.
Additionally, default cinder_csi_plugin_tag=v1.20.0.

Story: 2007048
Task: 39782

Signed-off-by: Bharat Kunwar <bharat@stackhpc.com>
Change-Id: Iadda7976a7e903aa3c68ad56268ba8a310895827
",git fetch https://review.opendev.org/openstack/magnum refs/changes/43/785043/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/helm/cinder-csi.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'releasenotes/notes/cinder-csi-chart-d183aa9d2130c24f.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh']",11,3b4ddfdf5fdfcfe5c2aeaf724d009e9848bf6b5c,cinder-csi-chart,"CINDER_CSI_CHART_TAG=""$CINDER_CSI_CHART_TAG""CSI_LIVENESSPROBE_TAG=""$CSI_LIVENESSPROBE_TAG""",,196,551
openstack%2Ftripleo-heat-templates~master~I20d48b3a29193dbcb70ec5cb13daf153bb0aeff2,openstack/tripleo-heat-templates,master,I20d48b3a29193dbcb70ec5cb13daf153bb0aeff2,Add neutron port tag hint for default_route_network,MERGED,2021-01-21 23:01:07.000000000,2021-04-09 10:30:02.000000000,2021-04-09 10:30:02.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-21 23:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/efde6989f97d2699c0dbd1b5d111d3f3539907ae', 'message': ""Add neutron port tag hint for default_route_network\n\nAdds a tag tripleo_default_route=$BOOL to neutron ports\ncreated by heat indicating if the ports interface is\nused for the default route.\n\nThe value is controlled by the 'default_route_networks'\nin roles data.\n\nWith network-data-v2 the same tag will be used to\nset up ansible vars appropriately. Having the heat driven\nprocess add the tag can be useful for upgrade/migration\nautomation.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I20d48b3a29193dbcb70ec5cb13daf153bb0aeff2\n""}, {'number': 2, 'created': '2021-02-05 10:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c612f4f047ac397f0b66dbc7a4bfb5604f7b8c2d', 'message': ""Add neutron port tag hint for default_route_network\n\nAdds a tag tripleo_default_route=$BOOL to neutron ports\ncreated by heat indicating if the ports interface is\nused for the default route.\n\nThe value is controlled by the 'default_route_networks'\nin roles data.\n\nWith network-data-v2 the same tag will be used to\nset up ansible vars appropriately. Having the heat driven\nprocess add the tag can be useful for upgrade/migration\nautomation.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I20d48b3a29193dbcb70ec5cb13daf153bb0aeff2\n""}, {'number': 3, 'created': '2021-02-09 01:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e21c86ae50d8ac9cbac0e7aefb3ac197d931f678', 'message': ""Add neutron port tag hint for default_route_network\n\nAdds a tag tripleo_default_route=$BOOL to neutron ports\ncreated by heat indicating if the ports interface is\nused for the default route.\n\nThe value is controlled by the 'default_route_networks'\nin roles data.\n\nWith network-data-v2 the same tag will be used to\nset up ansible vars appropriately. Having the heat driven\nprocess add the tag can be useful for upgrade/migration\nautomation.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I20d48b3a29193dbcb70ec5cb13daf153bb0aeff2\n""}, {'number': 4, 'created': '2021-03-30 11:16:42.000000000', 'files': ['puppet/role.role.j2.yaml', 'network/ports/port.j2', 'network/ports/port_from_pool.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cea78ad4fd84984528e990694342ba2dc38b6959', 'message': ""Add neutron port tag hint for default_route_network\n\nAdds a tag tripleo_default_route=$BOOL to neutron ports\ncreated by heat indicating if the ports interface is\nused for the default route.\n\nThe value is controlled by the 'default_route_networks'\nin roles data.\n\nWith network-data-v2 the same tag will be used to\nset up ansible vars appropriately. Having the heat driven\nprocess add the tag can be useful for upgrade/migration\nautomation.\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I20d48b3a29193dbcb70ec5cb13daf153bb0aeff2\n""}]",0,771897,cea78ad4fd84984528e990694342ba2dc38b6959,24,4,4,24245,,,0,"Add neutron port tag hint for default_route_network

Adds a tag tripleo_default_route=$BOOL to neutron ports
created by heat indicating if the ports interface is
used for the default route.

The value is controlled by the 'default_route_networks'
in roles data.

With network-data-v2 the same tag will be used to
set up ansible vars appropriately. Having the heat driven
process add the tag can be useful for upgrade/migration
automation.

Related: blueprint network-data-v2-ports
Change-Id: I20d48b3a29193dbcb70ec5cb13daf153bb0aeff2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/771897/3 && git format-patch -1 --stdout FETCH_HEAD,"['network/ports/port.j2', 'puppet/role.role.j2.yaml', 'network/ports/port_from_pool.j2']",3,efde6989f97d2699c0dbd1b5d111d3f3539907ae,network-data-v2, DefaultRoute: # Here for compatibility description: > Whether this interface is used for the default route type: boolean default: false,,17,0
openstack%2Ftripleo-ci~master~I7dce2b13682c064c5311a9da382e11c3bbc5e9a2,openstack/tripleo-ci,master,I7dce2b13682c064c5311a9da382e11c3bbc5e9a2,Add wallaby jobs in multinode,MERGED,2021-04-07 14:17:21.000000000,2021-04-09 10:29:40.000000000,2021-04-09 10:29:40.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-04-07 14:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0a5c6cb2451e3d5910d0c1d10c8bdbfa7912b0d1', 'message': 'Add wallaby jobs in multinode\n\nAdded centos 8 check and gate jobs for\n1. centos-8-content-provider\n2. centos-8-containers-multinode\n\nChange-Id: I7dce2b13682c064c5311a9da382e11c3bbc5e9a2\n'}, {'number': 2, 'created': '2021-04-07 15:20:25.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/939c57f752caefece86ffa15f28b5d56ece70931', 'message': 'Add wallaby jobs in multinode\n\nAdded centos 8 check and gate jobs for\n1. centos-8-content-provider\n2. centos-8-containers-multinode\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/785219\nChange-Id: I7dce2b13682c064c5311a9da382e11c3bbc5e9a2\n'}]",4,785179,939c57f752caefece86ffa15f28b5d56ece70931,16,7,2,32458,,,0,"Add wallaby jobs in multinode

Added centos 8 check and gate jobs for
1. centos-8-content-provider
2. centos-8-containers-multinode

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/785219
Change-Id: I7dce2b13682c064c5311a9da382e11c3bbc5e9a2
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/79/785179/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,0a5c6cb2451e3d5910d0c1d10c8bdbfa7912b0d1,wallaby-branching, - tripleo-ci-centos-8-content-provider-wallaby: irrelevant-files: *multinode_ignored dependencies: - openstack-tox-linters - tripleo-ci-centos-8-containers-multinode-wallaby: &multi_consumer_job_wallaby irrelevant-files: *multinode_ignored vars: *multi_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider-wallaby - tripleo-ci-centos-8-content-provider-wallaby: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-containers-multinode-wallaby: *multi_consumer_job_wallaby name: tripleo-ci-centos-8-containers-multinode-wallaby parent: tripleo-ci-centos-8-containers-multinode branches: master override-checkout: stable/wallaby vars: branch_override: stable/wallaby - job:,,20,0
openstack%2Ftripleo-ci~master~Iabfa807e629e6e7c516dd3245e6ff705c05ec2c4,openstack/tripleo-ci,master,Iabfa807e629e6e7c516dd3245e6ff705c05ec2c4,Add wallaby jobs in content provider,MERGED,2021-04-07 15:11:36.000000000,2021-04-09 10:29:24.000000000,2021-04-09 10:29:24.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-04-07 15:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d9186e02fd4b40557bc4abffe6d0c35b42e4891e', 'message': 'Add wallaby jobs in content provider\n\nAdded centos-8-content-provider-wallaby in content provider\n\nChange-Id: Iabfa807e629e6e7c516dd3245e6ff705c05ec2c4\n'}, {'number': 2, 'created': '2021-04-07 19:21:51.000000000', 'files': ['zuul.d/content-provider.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2d5c1caae860e3a98403bfd5bb37e1646445a7c4', 'message': 'Add wallaby jobs in content provider\n\nAdded centos-8-content-provider-wallaby in content provider\n\nChange-Id: Iabfa807e629e6e7c516dd3245e6ff705c05ec2c4\n'}]",4,785219,2d5c1caae860e3a98403bfd5bb37e1646445a7c4,15,8,2,32458,,,0,"Add wallaby jobs in content provider

Added centos-8-content-provider-wallaby in content provider

Change-Id: Iabfa807e629e6e7c516dd3245e6ff705c05ec2c4
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/19/785219/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/content-provider.yaml'],1,d9186e02fd4b40557bc4abffe6d0c35b42e4891e,wallaby-branching, name: tripleo-ci-centos-8-content-provider-wallaby parent: tripleo-ci-centos-8-content-provider override-checkout: stable/wallaby branches: ^(master|stable/wallaby).*$ vars: branch_override: stable/wallaby - job: branch_override: stable/victoria, branch_override: stable/victoria ,9,1
openstack%2Fbifrost~stable%2Fwallaby~I113f0eae217597ea904e5f94391b7a1317919e90,openstack/bifrost,stable/wallaby,I113f0eae217597ea904e5f94391b7a1317919e90,Use explicit path for which,MERGED,2021-04-08 18:18:32.000000000,2021-04-09 10:27:23.000000000,2021-04-09 10:25:54.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 18:18:32.000000000', 'files': ['scripts/install-deps.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/99c1107bced555032ef4b65c32621544480e84da', 'message': 'Use explicit path for which\n\nUse the /usr/bin/which path for which in rpm-based distros to avoid\nissues with any aliases.\nWe need to fix stable branches first because of the upgrade job.\nyay\n\nChange-Id: I113f0eae217597ea904e5f94391b7a1317919e90\n'}]",0,785454,99c1107bced555032ef4b65c32621544480e84da,9,2,1,23851,,,0,"Use explicit path for which

Use the /usr/bin/which path for which in rpm-based distros to avoid
issues with any aliases.
We need to fix stable branches first because of the upgrade job.
yay

Change-Id: I113f0eae217597ea904e5f94391b7a1317919e90
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/54/785454/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install-deps.sh'],1,99c1107bced555032ef4b65c32621544480e84da,fix-which-alias-centos8, PKG_MANAGER=$(/usr/bin/which dnf || /usr/bin/which yum), PKG_MANAGER=$(which dnf || which yum),1,1
openstack%2Fopenstack-ansible-os_keystone~master~I41ee59a901e54860067edd277fdade394b0b8858,openstack/openstack-ansible-os_keystone,master,I41ee59a901e54860067edd277fdade394b0b8858,[goal] Deprecate the JSON formatted policy file,MERGED,2021-03-18 18:22:47.000000000,2021-04-09 10:05:07.000000000,2021-04-09 10:03:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-03-18 18:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/7e65acaca322406a052a01fe7467bb1f6301700d', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I41ee59a901e54860067edd277fdade394b0b8858\n""}, {'number': 2, 'created': '2021-03-24 12:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/7e19fc73631fb44e63ea9bd630b992eba54dce00', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I41ee59a901e54860067edd277fdade394b0b8858\n""}, {'number': 3, 'created': '2021-03-30 15:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/6dd88a458253ad662433a4a7e3537af8c3ed6fe4', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I41ee59a901e54860067edd277fdade394b0b8858\n""}, {'number': 4, 'created': '2021-04-06 11:13:16.000000000', 'files': ['tasks/keystone_post_install.yml', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/d89c6a153a251022027945f3469c394b52d532b8', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I41ee59a901e54860067edd277fdade394b0b8858\n""}]",0,781537,d89c6a153a251022027945f3469c394b52d532b8,18,3,4,28619,,,0,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to replace policy.json to
policy.yaml and remove deprecated policy.json.

config_template has been choosen instead of the copy, since it can
properly handle content that has been lookuped.

We make a separate task not to restart service when it's not needed.

[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: I41ee59a901e54860067edd277fdade394b0b8858
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/37/781537/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/keystone_post_install.yml', 'handlers/main.yml']",2,7e65acaca322406a052a01fe7467bb1f6301700d,policy-json-to-yaml,"# NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file file: path: ""/etc/keystone/policy.json"" state: absent listen: - ""venv changed"" - ""Restart web server"" - ""Restart uWSGI"" ",,27,5
openstack%2Freleases~master~I933efaa77a5d4bfb0892ab0807e478161030a370,openstack/releases,master,I933efaa77a5d4bfb0892ab0807e478161030a370,Release ironic-python-agent-builder 2.6.0,MERGED,2021-04-08 12:23:37.000000000,2021-04-09 10:03:20.000000000,2021-04-09 10:03:20.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-08 12:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/56f6ac752ec7f1cc3b5058a75779851b188ead92', 'message': 'Relesae ironic-python-agent-builder 2.6.0\n\nChange-Id: I933efaa77a5d4bfb0892ab0807e478161030a370\n'}, {'number': 2, 'created': '2021-04-08 12:25:30.000000000', 'files': ['deliverables/_independent/ironic-python-agent-builder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e917eb8edf9c6d2675b47254993caff7393c95e8', 'message': 'Release ironic-python-agent-builder 2.6.0\n\nChange-Id: I933efaa77a5d4bfb0892ab0807e478161030a370\n'}]",0,785403,e917eb8edf9c6d2675b47254993caff7393c95e8,10,6,2,23851,,,0,"Release ironic-python-agent-builder 2.6.0

Change-Id: I933efaa77a5d4bfb0892ab0807e478161030a370
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/785403/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/ironic-python-agent-builder.yaml'],1,56f6ac752ec7f1cc3b5058a75779851b188ead92,ipa-builder-260, - version: 2.6.0 projects: - repo: openstack/ironic-python-agent-builder hash: 93292bfd5740dda108da40dc960940c9b7502ffe,,4,0
openstack%2Ftripleo-ci~master~I8017f6acf84b0a2c3467babee4ba22cca37d1f56,openstack/tripleo-ci,master,I8017f6acf84b0a2c3467babee4ba22cca37d1f56,Add wallaby jobs in build image,MERGED,2021-04-07 14:03:18.000000000,2021-04-09 09:45:44.000000000,2021-04-09 09:45:44.000000000,"[{'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-04-07 14:03:18.000000000', 'files': ['zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ea6f8eca2bccec4b0fa42bdff686341089bf643c', 'message': 'Add wallaby jobs in build image\n\nAdded centos 8 check and gate jobs for\n1. tripleo-buildimage-overcloud-full\n2. buildimage-ironic-python-agent\n3. buildimage-overcloud-hardened-full\n\nChange-Id: I8017f6acf84b0a2c3467babee4ba22cca37d1f56\n'}]",0,785178,ea6f8eca2bccec4b0fa42bdff686341089bf643c,13,5,1,32458,,,0,"Add wallaby jobs in build image

Added centos 8 check and gate jobs for
1. tripleo-buildimage-overcloud-full
2. buildimage-ironic-python-agent
3. buildimage-overcloud-hardened-full

Change-Id: I8017f6acf84b0a2c3467babee4ba22cca37d1f56
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/78/785178/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/build-image.yaml'],1,ea6f8eca2bccec4b0fa42bdff686341089bf643c,wallaby-branching, - tripleo-buildimage-overcloud-full-centos-8-wallaby: files: *build_images_files - tripleo-buildimage-ironic-python-agent-centos-8-wallaby: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-8-wallaby: files: *build_images_hardened_files - tripleo-buildimage-overcloud-full-centos-8-wallaby: files: *build_images_files - tripleo-buildimage-ironic-python-agent-centos-8-wallaby: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-8-wallaby: files: *build_images_hardened_files- job: name: tripleo-buildimage-ironic-python-agent-centos-8-wallaby parent: tripleo-buildimage-ironic-python-agent-centos-8 branches: master override-checkout: stable/wallaby vars: branch_override: stable/wallaby - job: name: tripleo-buildimage-overcloud-full-centos-8-wallaby parent: tripleo-buildimage-overcloud-full-centos-8 branches: master override-checkout: stable/wallaby vars: branch_override: stable/wallaby - job: name: tripleo-buildimage-overcloud-hardened-full-centos-8-wallaby parent: tripleo-buildimage-overcloud-hardened-full-centos-8 branches: master override-checkout: stable/wallaby vars: branch_override: stable/wallaby ,,36,0
openstack%2Freleases~master~Id3ed96105eddfd7814b482ac0743a77b15ba318e,openstack/releases,master,Id3ed96105eddfd7814b482ac0743a77b15ba318e,Final RC patch for monasca-api,MERGED,2021-04-08 09:49:46.000000000,2021-04-09 09:31:36.000000000,2021-04-09 09:31:36.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28062}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-08 09:49:46.000000000', 'files': ['deliverables/wallaby/monasca-api.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/940a5a8ef30e2a84a32953f867c81f28f44362f9', 'message': 'Final RC patch for monasca-api\n\nThis creates a new RC before the final release candidate deadline to\nrelease the latest fixes and/or translations.\n\nPlease ack with a +1, or if there is some reason to hold off, leave a -1.\n\n$ git log --oneline --no-merges 6.0.0.0rc1..e576fc49\n6f534485 Workaround for new pip 20.3 behavior\neb5a359f Re-enable Docker Zuul jobs\n14cd5146 Update docker-publish.yml for stable/wallaby\nb3ce7ec3 Fix log-metric configuration\n97510ed0 Update TOX_CONSTRAINTS_FILE for stable/wallaby\na96e5a82 Update .gitreview for stable/wallaby\n10ef639c Fix warnings in documentation\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Id3ed96105eddfd7814b482ac0743a77b15ba318e\n'}]",0,785360,940a5a8ef30e2a84a32953f867c81f28f44362f9,9,4,1,28522,,,0,"Final RC patch for monasca-api

This creates a new RC before the final release candidate deadline to
release the latest fixes and/or translations.

Please ack with a +1, or if there is some reason to hold off, leave a -1.

$ git log --oneline --no-merges 6.0.0.0rc1..e576fc49
6f534485 Workaround for new pip 20.3 behavior
eb5a359f Re-enable Docker Zuul jobs
14cd5146 Update docker-publish.yml for stable/wallaby
b3ce7ec3 Fix log-metric configuration
97510ed0 Update TOX_CONSTRAINTS_FILE for stable/wallaby
a96e5a82 Update .gitreview for stable/wallaby
10ef639c Fix warnings in documentation

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Id3ed96105eddfd7814b482ac0743a77b15ba318e
",git fetch https://review.opendev.org/openstack/releases refs/changes/60/785360/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/monasca-api.yaml'],1,940a5a8ef30e2a84a32953f867c81f28f44362f9,wallaby-final-rc, - version: 6.0.0.0rc2 projects: - repo: openstack/monasca-api hash: e576fc49399acb36b0189cc5b8398379864991e8,,4,0
openstack%2Fcyborg~stable%2Fwallaby~I47ece21ca2c365b2bf9aedc1d5a2592d6c772b4d,openstack/cyborg,stable/wallaby,I47ece21ca2c365b2bf9aedc1d5a2592d6c772b4d,Remove personal name in the docs,MERGED,2021-04-09 08:52:35.000000000,2021-04-09 09:26:20.000000000,2021-04-09 09:23:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28522}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-04-09 08:52:35.000000000', 'files': ['doc/api_samples/accelerator_requests/accelerator_requests-after-update-resp.json', 'doc/api_samples/accelerator_requests/accelerator_requests-before-update-resp.json'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/7fbae955363fb8fc1366e92ee5502495ddbc61c2', 'message': 'Remove personal name in the docs\n\nCloses-Bug: #1923009\n\nChange-Id: I47ece21ca2c365b2bf9aedc1d5a2592d6c772b4d\n(cherry picked from commit a8979b263424d7e9ad66a7a50182ee7d4e2decc5)\n'}]",0,785395,7fbae955363fb8fc1366e92ee5502495ddbc61c2,12,5,1,26458,,,0,"Remove personal name in the docs

Closes-Bug: #1923009

Change-Id: I47ece21ca2c365b2bf9aedc1d5a2592d6c772b4d
(cherry picked from commit a8979b263424d7e9ad66a7a50182ee7d4e2decc5)
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/95/785395/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/api_samples/accelerator_requests/accelerator_requests-after-update-resp.json', 'doc/api_samples/accelerator_requests/accelerator_requests-before-update-resp.json']",2,7fbae955363fb8fc1366e92ee5502495ddbc61c2,bug/1923009," ""device_profile_name"":""device-profile-name1"","," ""device_profile_name"":""chenke-dp1"",",2,2
openstack%2Fcharm-gnocchi~master~I3a9cafd1237777b4897badc8b0e00b598bcbc1e0,openstack/charm-gnocchi,master,I3a9cafd1237777b4897badc8b0e00b598bcbc1e0,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:25:09.000000000,2021-04-09 08:53:21.000000000,2021-04-09 08:53:21.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-03 19:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/d7378527f8b71c2d02e40701acf14de432c7915d', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I3a9cafd1237777b4897badc8b0e00b598bcbc1e0\n'}, {'number': 2, 'created': '2021-04-07 18:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/a2dd5454f9d847e7e79e3fc0491091f1818a7f24', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I3a9cafd1237777b4897badc8b0e00b598bcbc1e0\n'}, {'number': 3, 'created': '2021-04-08 13:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/4e28b038ec10e95a3ddb69a0c46217a229a7cbbc', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I3a9cafd1237777b4897badc8b0e00b598bcbc1e0\n'}, {'number': 4, 'created': '2021-04-08 14:38:53.000000000', 'files': ['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/9fde55f92fc0489dc3d088236bf6e9f4ba149bb7', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I3a9cafd1237777b4897badc8b0e00b598bcbc1e0\n'}]",0,784653,9fde55f92fc0489dc3d088236bf6e9f4ba149bb7,24,4,4,20870,,,0,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: I3a9cafd1237777b4897badc8b0e00b598bcbc1e0
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/53/784653/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini']",5,d7378527f8b71c2d02e40701acf14de432c7915d,libraries-sync-21-04, charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs} [testenv:add-build-lock-file] basepython = python3 commands = charm-build --log-level DEBUG --write-lock-file -o {toxinidir}/build/builds src {posargs}, charm-build --log-level DEBUG -o {toxinidir}/build/builds src {posargs},283,6
openstack%2Fcharm-masakari~master~I05d305bbac9d81549208787e847a71c4aa75baee,openstack/charm-masakari,master,I05d305bbac9d81549208787e847a71c4aa75baee,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:28:40.000000000,2021-04-09 08:52:07.000000000,2021-04-09 08:52:07.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-03 19:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/a8599cdcd78e796c3893cf0c1cf91012383ecad8', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I05d305bbac9d81549208787e847a71c4aa75baee\n'}, {'number': 2, 'created': '2021-04-07 19:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/01206fdb02f005bd2d20b3d6b604be36cc4128b8', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\n* lock dnspython <= 1.16.0 if python_version < 3.6 as\n  version 2.0.0 drops py35 support.\n\nChange-Id: I05d305bbac9d81549208787e847a71c4aa75baee\n'}, {'number': 3, 'created': '2021-04-07 20:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/0022de538f8e3784e906758dc42bf903af789298', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\n* lock dnspython <= 1.16.0 in wheelhouse if\n  python_version < 3.6 as version 2.0.0 drops py35 support.\n\nChange-Id: I05d305bbac9d81549208787e847a71c4aa75baee\n'}, {'number': 4, 'created': '2021-04-08 13:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/824ada34958aa3b15496f47fc20ff9d346936e82', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\n* lock dnspython <= 1.16.0 in wheelhouse if\n  python_version < 3.6 as version 2.0.0 drops py35 support.\n\nChange-Id: I05d305bbac9d81549208787e847a71c4aa75baee\n'}, {'number': 5, 'created': '2021-04-08 13:47:10.000000000', 'files': ['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/c97b812c68e4db35c6476e55a4ca847cefc45887', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I05d305bbac9d81549208787e847a71c4aa75baee\n'}]",0,784669,c97b812c68e4db35c6476e55a4ca847cefc45887,20,4,5,20870,,,0,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: I05d305bbac9d81549208787e847a71c4aa75baee
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/69/784669/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini']",5,a8599cdcd78e796c3893cf0c1cf91012383ecad8,libraries-sync-21-04, charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs} [testenv:add-build-lock-file] basepython = python3 commands = charm-build --log-level DEBUG --write-lock-file -o {toxinidir}/build/builds src {posargs}, charm-build --log-level DEBUG -o {toxinidir}/build/builds src {posargs},223,6
openstack%2Fcharm-ceph-osd~master~I9783a7df18a6f26ccba678703d2be336accc05f3,openstack/charm-ceph-osd,master,I9783a7df18a6f26ccba678703d2be336accc05f3,[DO NOT MERGE] Func Test commit,ABANDONED,2021-04-09 03:34:20.000000000,2021-04-09 08:51:25.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-09 03:34:20.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/0cdaa34d727f94b2d9e58ec5b87461a67a5b85a4', 'message': '[DO NOT MERGE] Func Test commit\n\nThis is for running a func test to validate the functional test\nchange in this message.\n\nChange-Id: I9783a7df18a6f26ccba678703d2be336accc05f3\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/543\n'}]",0,785555,0cdaa34d727f94b2d9e58ec5b87461a67a5b85a4,5,2,1,8992,,,0,"[DO NOT MERGE] Func Test commit

This is for running a func test to validate the functional test
change in this message.

Change-Id: I9783a7df18a6f26ccba678703d2be336accc05f3
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/543
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/55/785555/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,0cdaa34d727f94b2d9e58ec5b87461a67a5b85a4,fix-osd-func-test,"excellent performance, reliability, and scalability. ","excellent performance, reliability, and scalability.",1,1
openstack%2Fcharm-neutron-api-plugin-ovn~master~Ie9ddc1992ba988f1b75ea92f686ed485effd610f,openstack/charm-neutron-api-plugin-ovn,master,Ie9ddc1992ba988f1b75ea92f686ed485effd610f,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:30:12.000000000,2021-04-09 08:51:10.000000000,2021-04-09 08:51:10.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-03 19:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/d3ad2cded29fbb4d0413b23fd2f02eeef499d9c6', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: Ie9ddc1992ba988f1b75ea92f686ed485effd610f\n'}, {'number': 2, 'created': '2021-04-07 18:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/3cec2833f9d2f684ca6c0eb8bb0a3d8575635311', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: Ie9ddc1992ba988f1b75ea92f686ed485effd610f\n'}, {'number': 3, 'created': '2021-04-07 20:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/b8b00d302e6ab102b3c48da8ed3e2eef98011537', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\n* lock oslo_config <= 6.8.2 in wheelhouse if\n  python_version < 3.6 as version 6.9.0 drops py35 support.\n\nChange-Id: Ie9ddc1992ba988f1b75ea92f686ed485effd610f\n'}, {'number': 4, 'created': '2021-04-07 20:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/ebe11f4f9579369569469edcb0259006b9f31932', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\n* lock oslo_config <= 6.8.2 in wheelhouse if\n  python_version < 3.6 as version 6.9.0 drops py35 support.\n* lock oslo_i18n <= 3.23.1 in wheelhouse if\n  python_version < 3.6 as version 3.24.0 drops py35 support.\n\nChange-Id: Ie9ddc1992ba988f1b75ea92f686ed485effd610f\n'}, {'number': 5, 'created': '2021-04-08 13:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/99555355bb271c1cfbb4031b467c888158468095', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: Ie9ddc1992ba988f1b75ea92f686ed485effd610f\n'}, {'number': 6, 'created': '2021-04-08 14:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/73bbc46c05699b3af7dc73e25cde0f0b9f33d99b', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: Ie9ddc1992ba988f1b75ea92f686ed485effd610f\n'}, {'number': 7, 'created': '2021-04-08 14:49:15.000000000', 'files': ['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/977b6079eba7fd7c55e263dcfe2ebf0cf3560cd4', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: Ie9ddc1992ba988f1b75ea92f686ed485effd610f\n'}]",0,784676,977b6079eba7fd7c55e263dcfe2ebf0cf3560cd4,28,4,7,20870,,,0,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: Ie9ddc1992ba988f1b75ea92f686ed485effd610f
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/76/784676/5 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini']",5,d3ad2cded29fbb4d0413b23fd2f02eeef499d9c6,libraries-sync-21-04, charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs} [testenv:add-build-lock-file] basepython = python3 commands = charm-build --log-level DEBUG --write-lock-file -o {toxinidir}/build/builds src {posargs}, charm-build --log-level DEBUG -o {toxinidir}/build/builds src {posargs},263,6
openstack%2Ftacker~stable%2Fwallaby~Ibc67c97b389f707b67fa59c7e69e536faf88b40d,openstack/tacker,stable/wallaby,Ibc67c97b389f707b67fa59c7e69e536faf88b40d,Improvement of FT cases for Retry LCM Operation,MERGED,2021-04-09 05:37:29.000000000,2021-04-09 08:48:31.000000000,2021-04-09 08:47:09.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2021-04-09 05:37:29.000000000', 'files': ['tacker/tests/functional/sol_separated_nfvo/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py', 'tacker/tests/functional/sol/vnflcm/test_vnf_instance_with_user_data.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/e19f07ceb46b8f1f6c71c72b446dc86c1db73135', 'message': 'Improvement of FT cases for Retry LCM Operation\n\nAdd Client Notification Endpoint Test assertion in the following\nfunctional tests for Retry LCM Operation:\n\n- test_retry_instantiate\n- test_retry_scale_out\n- test_retry_chgextconn\n- test_inst_chgextconn_term\n\nCloses-Bug: #1921994\nChange-Id: Ibc67c97b389f707b67fa59c7e69e536faf88b40d\n(cherry picked from commit f731f8853272d7a060960e28fd7204c1eaf1c13a)\n'}]",0,785392,e19f07ceb46b8f1f6c71c72b446dc86c1db73135,8,5,1,32219,,,0,"Improvement of FT cases for Retry LCM Operation

Add Client Notification Endpoint Test assertion in the following
functional tests for Retry LCM Operation:

- test_retry_instantiate
- test_retry_scale_out
- test_retry_chgextconn
- test_inst_chgextconn_term

Closes-Bug: #1921994
Change-Id: Ibc67c97b389f707b67fa59c7e69e536faf88b40d
(cherry picked from commit f731f8853272d7a060960e28fd7204c1eaf1c13a)
",git fetch https://review.opendev.org/openstack/tacker refs/changes/92/785392/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/functional/sol_separated_nfvo/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py', 'tacker/tests/functional/sol/vnflcm/test_vnf_instance_with_user_data.py']",2,e19f07ceb46b8f1f6c71c72b446dc86c1db73135,bug/1921994-stable/wallaby," - Test notification. callback_url = os.path.join(vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName) callback_url)) # Test notification self.assert_notification_get(callback_url) - Test notification. callback_url = os.path.join(vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName) callback_url)) # Test notification self.assert_notification_get(callback_url) - Test notification. callback_url = os.path.join(vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName) callback_url)) # Test notification self.assert_notification_get(callback_url) - Test notification. callback_url = os.path.join(vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName) callback_url)) # Test notification self.assert_notification_get(callback_url) "," os.path.join(vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName))) os.path.join(vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName))) os.path.join(vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName))) os.path.join(vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName)))",35,11
openstack%2Ftacker~stable%2Fwallaby~Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac,openstack/tacker,stable/wallaby,Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac,Fix display bugs of vnflcm show command,MERGED,2021-04-09 05:35:06.000000000,2021-04-09 08:47:01.000000000,2021-04-09 08:45:22.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31821}]","[{'number': 1, 'created': '2021-04-09 05:35:06.000000000', 'files': ['tacker/common/exceptions.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/ace232231fa6a4c47d72dea9dce97a5730053f6b', 'message': 'Fix display bugs of vnflcm show command\n\nWhen running openstack vnflcm show command in CLI,\nsome over intended bugs and ip version error will happen.\n\nThis patch fixes vnfm/infra_driver/openstack.py\nin order to fix these bugs.\n\nCloses-Bug: #1922544\nChange-Id: Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac\n'}]",0,785557,ace232231fa6a4c47d72dea9dce97a5730053f6b,8,6,1,27880,,,0,"Fix display bugs of vnflcm show command

When running openstack vnflcm show command in CLI,
some over intended bugs and ip version error will happen.

This patch fixes vnfm/infra_driver/openstack.py
in order to fix these bugs.

Closes-Bug: #1922544
Change-Id: Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac
",git fetch https://review.opendev.org/openstack/tacker refs/changes/57/785557/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/common/exceptions.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py']",2,ace232231fa6a4c47d72dea9dce97a5730053f6b,bug/1922544,"import ipaddress cp_protocol_info.layer_protocol = \ 'IP_OVER_ETHERNET' try: ip_addr = fixed_ip.get( 'ip_address') ip_addresses.type = \ 'IPV{}'.format( ipaddress.ip_address( ip_addr).version) except ValueError: LOG.error(""Invalid ip address %s"" "" in resource %s."", ip_addr, vnfc_rsc.id) raise exceptions.InvalidIpAddr( id=vnfc_rsc.id) resource.vim_level_resource_type =\ 'OS::Neutron::Port'","import re cp_protocol_info.layer_protocol = '\ IP_OVER_ETHERNET' ip_addr = fixed_ip.get('ip_address') if re.match( r'^\d{1,3}\ (\.\d{1,3}){3}\ (/\d{1,2})?$', ip_addr): ip_addresses.type = 'IPV4' else: ip_addresses.type = 'IPV6' resource.vim_level_resource_type = '\ OS::Neutron::Port'",22,14
openstack%2Freleases~master~I25c15fcfa426124e252eee6650d6a0f8d4425cb2,openstack/releases,master,I25c15fcfa426124e252eee6650d6a0f8d4425cb2,Proposing wallaby RC2 for Cyborg,ABANDONED,2021-04-09 07:08:05.000000000,2021-04-09 08:46:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-09 07:08:05.000000000', 'files': ['deliverables/wallaby/cyborg.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8299772ffe97ad3e70b703e4bc8d0208a2d55318', 'message': 'Proposing wallaby RC2 for Cyborg\n\nRelease 6.0.0.0rc2\n\nWe merged some issue fixes as below:\nroot@ubuntu:/home/brinzhang/cyborg# git log --oneline --no-merges 6.0.0.0rc1..a8979b2\n9fc6a30 Switch using Launchpad instead of Storyboard\nabe9f40 Using pop method to avoid incompatible data type\nd9233bc Switch using Launchpad instead of Storyboard\n0e1bb83 Add backup and snapshot support matrix\n008c366 Revert device_profile key to show device profile API\n891c1de tools: Allow check-cherry-picks.sh to be disabled by an env var\n4fac92a Add Python3 xena unit tests\n851dcfc Update master for stable/wallaby\n8cddcf8 (master1) Travil Change: Correct comment errors\n\nChange-Id: I25c15fcfa426124e252eee6650d6a0f8d4425cb2\n'}]",0,785565,8299772ffe97ad3e70b703e4bc8d0208a2d55318,6,4,1,26458,,,0,"Proposing wallaby RC2 for Cyborg

Release 6.0.0.0rc2

We merged some issue fixes as below:
root@ubuntu:/home/brinzhang/cyborg# git log --oneline --no-merges 6.0.0.0rc1..a8979b2
9fc6a30 Switch using Launchpad instead of Storyboard
abe9f40 Using pop method to avoid incompatible data type
d9233bc Switch using Launchpad instead of Storyboard
0e1bb83 Add backup and snapshot support matrix
008c366 Revert device_profile key to show device profile API
891c1de tools: Allow check-cherry-picks.sh to be disabled by an env var
4fac92a Add Python3 xena unit tests
851dcfc Update master for stable/wallaby
8cddcf8 (master1) Travil Change: Correct comment errors

Change-Id: I25c15fcfa426124e252eee6650d6a0f8d4425cb2
",git fetch https://review.opendev.org/openstack/releases refs/changes/65/785565/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/cyborg.yaml'],1,8299772ffe97ad3e70b703e4bc8d0208a2d55318,wallaby-final-rc, - version: 6.0.0.0rc2 projects: - repo: openstack/cyborg hash: a8979b263424d7e9ad66a7a50182ee7d4e2decc5,,4,0
openstack%2Fcharm-manila-ganesha~master~Iaef45249094f68204f8c34c53c6a13e948d6dc8c,openstack/charm-manila-ganesha,master,Iaef45249094f68204f8c34c53c6a13e948d6dc8c,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:28:13.000000000,2021-04-09 08:46:04.000000000,2021-04-09 08:46:04.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-03 19:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/733b96300112b2a47062d87dbbefa364c6601aea', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: Iaef45249094f68204f8c34c53c6a13e948d6dc8c\n'}, {'number': 2, 'created': '2021-04-07 18:39:10.000000000', 'files': ['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/00cfc7c91d314ae46af29a9fade65018e18c5a77', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: Iaef45249094f68204f8c34c53c6a13e948d6dc8c\n'}]",0,784667,00cfc7c91d314ae46af29a9fade65018e18c5a77,15,4,2,20870,,,0,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: Iaef45249094f68204f8c34c53c6a13e948d6dc8c
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/67/784667/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini']",5,733b96300112b2a47062d87dbbefa364c6601aea,libraries-sync-21-04, charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs} [testenv:add-build-lock-file] basepython = python3 commands = charm-build --log-level DEBUG --write-lock-file -o {toxinidir}/build/builds src {posargs}, charm-build --log-level DEBUG -o {toxinidir}/build/builds src {posargs},247,6
openstack%2Ftacker~master~Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac,openstack/tacker,master,Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac,Fix display bugs of vnflcm show command,MERGED,2021-04-05 09:21:17.000000000,2021-04-09 08:28:08.000000000,2021-04-09 08:24:04.000000000,"[{'_account_id': 16308}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31857}]","[{'number': 1, 'created': '2021-04-05 09:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ec2b2a4dc7abb917dcd74d433ee660e1f85eab33', 'message': 'Fix visual bugs of openstack vnflcm show command\n\nwhen running openstack vnflcm show command in CLI,\nsome over intended bugs and ip version error will happen.\n\nThis patch fixes vnfm/infra_driver/openstack.py\nin order to fix these bugs.\n\nCloses-Bug: #1922544\nChange-Id: Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac\n'}, {'number': 2, 'created': '2021-04-06 08:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/84a83651ba262c4a7ecfadc2f6d8a11f75dd85b5', 'message': 'Fix visual bugs of vnflcm show command\n\nwhen running openstack vnflcm show command in CLI,\nsome over intended bugs and ip version error will happen.\n\nThis patch fixes vnfm/infra_driver/openstack.py\nin order to fix these bugs.\n\nCloses-Bug: #1922544\nChange-Id: Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac\n'}, {'number': 3, 'created': '2021-04-06 08:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/af7b7ce45c910020034711bb4f841b64f451b9c0', 'message': 'Fix visual bugs of vnflcm show command\n\nwhen running openstack vnflcm show command in CLI,\nsome over intended bugs and ip version error will happen.\n\n* See details in bug#1922544.\n\nThis patch fixes vnfm/infra_driver/openstack.py\nin order to fix these bugs.\n\nCloses-Bug: #1922544\nChange-Id: Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac\n'}, {'number': 4, 'created': '2021-04-08 06:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0ec1d1aa2fbedaadd0bd3bf54a1a0158820293e5', 'message': 'Fix display bugs of vnflcm show command\n\nWhen running openstack vnflcm show command in CLI,\nsome over intended bugs and ip version error will happen.\n\nThis patch fixes vnfm/infra_driver/openstack.py\nin order to fix these bugs.\n\nCloses-Bug: #1922544\nChange-Id: Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac\n'}, {'number': 5, 'created': '2021-04-08 07:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/81d8f14523c168a25655d83476514aa68a913de0', 'message': 'Fix visual bugs of openstack vnflcm show command\n\nwhen running openstack vnflcm show command in CLI,\nsome over intended bugs and ip version error will happen.\n\nThis patch fixes vnfm/infra_driver/openstack.py\nin order to fix these bugs.\n\nCloses-Bug: #1922544\nChange-Id: Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac\n'}, {'number': 6, 'created': '2021-04-08 08:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/79218ae4d64a4c06e0d5c4b3f71203724a754040', 'message': 'Fix display bugs of vnflcm show command\n\nWhen running openstack vnflcm show command in CLI,\nsome over intended bugs and ip version error will happen.\n\nThis patch fixes vnfm/infra_driver/openstack.py\nin order to fix these bugs.\n\nCloses-Bug: #1922544\nChange-Id: Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac\n'}, {'number': 7, 'created': '2021-04-08 18:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/98ddf9e914625a37c005023a2a145196282c708a', 'message': 'Fix display bugs of vnflcm show command\n\nWhen running openstack vnflcm show command in CLI,\nsome over intended bugs and ip version error will happen.\n\nThis patch fixes vnfm/infra_driver/openstack.py\nin order to fix these bugs.\n\nCloses-Bug: #1922544\nChange-Id: Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac\n'}, {'number': 8, 'created': '2021-04-09 05:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/32d31a233a4e29d9dba8b85c254ecd7ad5d0cef9', 'message': 'Fix display bugs of vnflcm show command\n\nWhen running openstack vnflcm show command in CLI,\nsome over intended bugs and ip version error will happen.\n\nThis patch fixes vnfm/infra_driver/openstack.py\nin order to fix these bugs.\n\nCloses-Bug: #1922544\nChange-Id: Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac\n'}, {'number': 9, 'created': '2021-04-09 05:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/356cfbcefcc994f91fb6b953ad5485fbf251c115', 'message': 'Fix display bugs of vnflcm show command\n\nWhen running openstack vnflcm show command in CLI,\nsome over intended bugs and ip version error will happen.\n\nThis patch fixes vnfm/infra_driver/openstack.py\nin order to fix these bugs.\n\nCloses-Bug: #1922544\nChange-Id: Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac\n'}, {'number': 10, 'created': '2021-04-09 05:32:16.000000000', 'files': ['tacker/common/exceptions.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/d47137777225a427daecd412b076bca5ae986698', 'message': 'Fix display bugs of vnflcm show command\n\nWhen running openstack vnflcm show command in CLI,\nsome over intended bugs and ip version error will happen.\n\nThis patch fixes vnfm/infra_driver/openstack.py\nin order to fix these bugs.\n\nCloses-Bug: #1922544\nChange-Id: Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac\n'}]",26,784756,d47137777225a427daecd412b076bca5ae986698,36,7,10,31821,,,0,"Fix display bugs of vnflcm show command

When running openstack vnflcm show command in CLI,
some over intended bugs and ip version error will happen.

This patch fixes vnfm/infra_driver/openstack.py
in order to fix these bugs.

Closes-Bug: #1922544
Change-Id: Ie3b95c3bf2c62056dfd6ac659e32825c75d21fac
",git fetch https://review.opendev.org/openstack/tacker refs/changes/56/784756/2 && git format-patch -1 --stdout FETCH_HEAD,['tacker/vnfm/infra_drivers/openstack/openstack.py'],1,ec2b2a4dc7abb917dcd74d433ee660e1f85eab33,bug/1922544,import ipaddress cp_protocol_info.layer_protocol = \ 'IP_OVER_ETHERNET' if ipaddress.ip_address( ip_addr).version == 4: resource.vim_level_resource_type =\ 'OS::Neutron::Port',"import re cp_protocol_info.layer_protocol = '\ IP_OVER_ETHERNET' if re.match( r'^\d{1,3}\ (\.\d{1,3}){3}\ (/\d{1,2})?$', ip_addr): resource.vim_level_resource_type = '\ OS::Neutron::Port'",7,10
openstack%2Freleases~master~I383d37b8f5a26d5b554ba14a3e00b85bd79dae41,openstack/releases,master,I383d37b8f5a26d5b554ba14a3e00b85bd79dae41,Final RC patch for trove,MERGED,2021-04-08 10:49:18.000000000,2021-04-09 08:26:24.000000000,2021-04-09 08:26:24.000000000,"[{'_account_id': 308}, {'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-04-08 10:49:18.000000000', 'files': ['deliverables/wallaby/trove.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1f7d657343d3346d7239f126f9e3407b1f599b63', 'message': 'Final RC patch for trove\n\nThis creates a new RC before the final release candidate deadline to\nrelease the latest fixes and/or translations.\n\nPlease ack with a +1, or if there is some reason to hold off, leave a -1.\n\n$ git log --oneline --no-merges 15.0.0.0rc1..579b6142\n579b6142 Fix test_create_inactive_datastore_by_admin\n87d681aa Update TOX_CONSTRAINTS_FILE for stable/wallaby\n333364ce Update .gitreview for stable/wallaby\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I383d37b8f5a26d5b554ba14a3e00b85bd79dae41\n'}]",0,785370,1f7d657343d3346d7239f126f9e3407b1f599b63,11,5,1,28522,,,0,"Final RC patch for trove

This creates a new RC before the final release candidate deadline to
release the latest fixes and/or translations.

Please ack with a +1, or if there is some reason to hold off, leave a -1.

$ git log --oneline --no-merges 15.0.0.0rc1..579b6142
579b6142 Fix test_create_inactive_datastore_by_admin
87d681aa Update TOX_CONSTRAINTS_FILE for stable/wallaby
333364ce Update .gitreview for stable/wallaby

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I383d37b8f5a26d5b554ba14a3e00b85bd79dae41
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/785370/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/trove.yaml'],1,1f7d657343d3346d7239f126f9e3407b1f599b63,wallaby-final-rc, - version: 15.0.0.0rc2 projects: - repo: openstack/trove hash: 579b6142cf8a37fdc35cfa313151c8f1063c9001,,4,0
openstack%2Freleases~master~I8cf657df324f588694efb2da41af98fb40376de3,openstack/releases,master,I8cf657df324f588694efb2da41af98fb40376de3,Release devstack-tools 1.2.0,MERGED,2021-04-08 22:14:37.000000000,2021-04-09 08:24:34.000000000,2021-04-09 08:24:34.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-08 22:14:37.000000000', 'files': ['deliverables/_independent/devstack-tools.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a873f4d27114708b7b532ee6c4c3b954f7833466', 'message': 'Release devstack-tools 1.2.0\n\nThere is one fix in devstack-tools setup file, doing a\nrelease to reflect the same in tag.\n\nChange-Id: I8cf657df324f588694efb2da41af98fb40376de3\n'}]",0,785521,a873f4d27114708b7b532ee6c4c3b954f7833466,9,5,1,8556,,,0,"Release devstack-tools 1.2.0

There is one fix in devstack-tools setup file, doing a
release to reflect the same in tag.

Change-Id: I8cf657df324f588694efb2da41af98fb40376de3
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/785521/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/devstack-tools.yaml'],1,a873f4d27114708b7b532ee6c4c3b954f7833466,, - version: 1.2.0 projects: - repo: openstack/devstack-tools hash: de912aef554f443b93aae2c5a76eacb40eef63ce,,4,0
openstack%2Frpm-packaging~master~I1baed8fdd4bdacbbc557a520c8f74fa9b560728c,openstack/rpm-packaging,master,I1baed8fdd4bdacbbc557a520c8f74fa9b560728c,Update oslo.policy to 3.7.0,MERGED,2021-03-25 14:40:15.000000000,2021-04-09 08:23:21.000000000,2021-04-09 08:23:21.000000000,"[{'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-25 14:40:15.000000000', 'files': ['openstack/oslo.policy/oslo.policy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5b253e56158cdd9e7299502a3f7e4b4ff312c504', 'message': 'Update oslo.policy to 3.7.0\n\nThis is the latest version for Wallaby as of now.\n\nChange-Id: I1baed8fdd4bdacbbc557a520c8f74fa9b560728c\n'}]",0,783015,5b253e56158cdd9e7299502a3f7e4b4ff312c504,9,5,1,13294,,,0,"Update oslo.policy to 3.7.0

This is the latest version for Wallaby as of now.

Change-Id: I1baed8fdd4bdacbbc557a520c8f74fa9b560728c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/15/783015/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.policy/oslo.policy.spec.j2'],1,5b253e56158cdd9e7299502a3f7e4b4ff312c504,,{% set upstream_version = upstream_version('3.7.0') %},{% set upstream_version = upstream_version('3.6.2') %},1,1
openstack%2Fhorizon~master~I1de39e43d6efecf3e5f0ae179b6c5f8c3b5a1264,openstack/horizon,master,I1de39e43d6efecf3e5f0ae179b6c5f8c3b5a1264,Imported Translations from Zanata,MERGED,2021-04-02 06:56:00.000000000,2021-04-09 08:18:43.000000000,2021-04-09 08:16:53.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 06:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f816ba90e6ae32f7926bc40c4f0f928aa83db94e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I1de39e43d6efecf3e5f0ae179b6c5f8c3b5a1264\n'}, {'number': 2, 'created': '2021-04-08 06:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/00b7da25e789b3279424d6ac1262407308035ce0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I1de39e43d6efecf3e5f0ae179b6c5f8c3b5a1264\n'}, {'number': 3, 'created': '2021-04-09 06:49:40.000000000', 'files': ['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/473290f137c3302d9815415461b924a136c91be5', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I1de39e43d6efecf3e5f0ae179b6c5f8c3b5a1264\n'}]",0,784538,473290f137c3302d9815415461b924a136c91be5,11,2,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I1de39e43d6efecf3e5f0ae179b6c5f8c3b5a1264
",git fetch https://review.opendev.org/openstack/horizon refs/changes/38/784538/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,f816ba90e6ae32f7926bc40c4f0f928aa83db94e,zanata/translations,"""POT-Creation-Date: 2021-04-01 07:07+0000\n""""PO-Revision-Date: 2021-04-01 09:00+0000\n""msgid ""19.1.0-20"" msgstr ""19.1.0-20"" msgid ""Wallaby Series Release Notes"" msgstr ""Wallaby Series Release Notes"" ","""POT-Creation-Date: 2021-03-22 10:49+0000\n""""PO-Revision-Date: 2021-03-21 09:51+0000\n""",8,2
openstack%2Fcyborg~master~I47ece21ca2c365b2bf9aedc1d5a2592d6c772b4d,openstack/cyborg,master,I47ece21ca2c365b2bf9aedc1d5a2592d6c772b4d,Remove personal name in the docs,MERGED,2021-04-08 07:12:36.000000000,2021-04-09 08:13:42.000000000,2021-04-09 08:12:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 28522}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-04-08 07:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c2c699202bd05e434549d76eb939a1677403403a', 'message': 'Remove personal name in the docs\n\nChange-Id: I47ece21ca2c365b2bf9aedc1d5a2592d6c772b4d\n'}, {'number': 2, 'created': '2021-04-08 07:17:56.000000000', 'files': ['doc/api_samples/accelerator_requests/accelerator_requests-after-update-resp.json', 'doc/api_samples/accelerator_requests/accelerator_requests-before-update-resp.json'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a8979b263424d7e9ad66a7a50182ee7d4e2decc5', 'message': 'Remove personal name in the docs\n\nCloses-Bug: #1923009\n\nChange-Id: I47ece21ca2c365b2bf9aedc1d5a2592d6c772b4d\n'}]",0,785314,a8979b263424d7e9ad66a7a50182ee7d4e2decc5,11,4,2,26458,,,0,"Remove personal name in the docs

Closes-Bug: #1923009

Change-Id: I47ece21ca2c365b2bf9aedc1d5a2592d6c772b4d
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/14/785314/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/api_samples/accelerator_requests/accelerator_requests-after-update-resp.json', 'doc/api_samples/accelerator_requests/accelerator_requests-before-update-resp.json']",2,c2c699202bd05e434549d76eb939a1677403403a,bug/1923009," ""device_profile_name"":""device-profile-name1"","," ""device_profile_name"":""chenke-dp1"",",2,2
openstack%2Ftacker~stable%2Fwallaby~I9f918ceff9882da1bff4b1cc953602a3b84aec0c,openstack/tacker,stable/wallaby,I9f918ceff9882da1bff4b1cc953602a3b84aec0c,Fix methods of kubernetes_mgmt by change of abstract driver,MERGED,2021-04-08 23:03:45.000000000,2021-04-09 06:44:58.000000000,2021-04-09 06:42:00.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31821}]","[{'number': 1, 'created': '2021-04-08 23:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4ba14c1c7bef3ebd374c23c611b9121635b2d97c', 'message': ""Add new inherited methods for kubernetes_mgmt\n\n2 new methods are added at last time merge of\nWallaby release in vnflcm_abstract_driver.py.\n  * change_external_connectivity_start()\n  * change_external_connectivity_end()\n(tacker/vnfm/mgmt_drivers/vnflcm_abstract_driver.py#L88)\n\nIn kubernetes_mgmt.py,\n(sample/mgmt_drivers/kubernetes_mgmt.py)\nwe inherited VnflcmAbstractDriver thus we also\nneeded to implements these 2 methods here.\n\nDue to we don't have these interfaces here, I updated\nempty methods for clear runtime error.\n\nChange-Id: I9f918ceff9882da1bff4b1cc953602a3b84aec0c\n""}, {'number': 2, 'created': '2021-04-09 02:23:23.000000000', 'files': ['samples/mgmt_driver/kubernetes_mgmt.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/cfa7725b8bdc9ffe011ea5fc4e8acc8df92caa4b', 'message': 'Fix methods of kubernetes_mgmt by change of abstract driver\n\n2 methods were added in vnflcm_abstract_driver.py\nin the patch [1].\n  * change_external_connectivity_start()\n  * change_external_connectivity_end()\n(tacker/vnfm/mgmt_drivers/vnflcm_abstract_driver.py#L88)\n\nIn kubernetes_mgmt.py,\n(sample/mgmt_drivers/kubernetes_mgmt.py)\nprovided as sample in Tacker, is broken\ndue to the lack of two abstract methods.\nThis patch fix this issue.\n\n[1] https://review.opendev.org/c/openstack/tacker/+/780213\n\nChange-Id: I9f918ceff9882da1bff4b1cc953602a3b84aec0c\n'}]",0,785530,cfa7725b8bdc9ffe011ea5fc4e8acc8df92caa4b,10,6,2,27880,,,0,"Fix methods of kubernetes_mgmt by change of abstract driver

2 methods were added in vnflcm_abstract_driver.py
in the patch [1].
  * change_external_connectivity_start()
  * change_external_connectivity_end()
(tacker/vnfm/mgmt_drivers/vnflcm_abstract_driver.py#L88)

In kubernetes_mgmt.py,
(sample/mgmt_drivers/kubernetes_mgmt.py)
provided as sample in Tacker, is broken
due to the lack of two abstract methods.
This patch fix this issue.

[1] https://review.opendev.org/c/openstack/tacker/+/780213

Change-Id: I9f918ceff9882da1bff4b1cc953602a3b84aec0c
",git fetch https://review.opendev.org/openstack/tacker refs/changes/30/785530/2 && git format-patch -1 --stdout FETCH_HEAD,['samples/mgmt_driver/kubernetes_mgmt.py'],1,4ba14c1c7bef3ebd374c23c611b9121635b2d97c,bp/cnf-support-with-etsi-nfv-specs," def change_external_connectivity_start( self, context, vnf_instance, change_ext_conn_request, grant, grant_request, **kwargs): pass def change_external_connectivity_end( self, context, vnf_instance, change_ext_conn_request, grant, grant_request, **kwargs): pass",,12,0
openstack%2Ftacker~stable%2Fwallaby~Iffb3e045cbe121aca0fc74621cc5b3b5daf69f5b,openstack/tacker,stable/wallaby,Iffb3e045cbe121aca0fc74621cc5b3b5daf69f5b,Fix exception not raised while install script failed,MERGED,2021-04-08 23:10:51.000000000,2021-04-09 06:40:20.000000000,2021-04-09 06:36:59.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31821}]","[{'number': 1, 'created': '2021-04-08 23:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6e3902e39f3bf3bd77d25514bdbdfeac57ffee52', 'message': ""Fix exception not raised while install script failed\n\nIn kubernetes_mgmt, it will find 'Install Failed!\\n' in stdout\nto judge raise a exception of script install failed.\n\nHowever in recent fix, we changed error message from script,\nthus kubernetes_mgmt cannot catch error msg from stdout,\nexception will not be raised.\n\nThis patch will fix matching error message in kuberntes_mgmt.\n\nCloses-Bug: #1922192\nChange-Id: Iffb3e045cbe121aca0fc74621cc5b3b5daf69f5b\n""}, {'number': 2, 'created': '2021-04-09 03:10:56.000000000', 'files': ['samples/mgmt_driver/kubernetes_mgmt.py', 'samples/mgmt_driver/install_k8s_cluster.sh', 'samples/mgmt_driver/kubernetes_vnf_package/TOSCA-Metadata/TOSCA.meta'], 'web_link': 'https://opendev.org/openstack/tacker/commit/211ab69408d52d10902e39c32350787aef4b672a', 'message': ""Fix exception not raised while install script failed\n\nIn kubernetes_mgmt, it will find 'Install Failed!\\n' in stdout\nto judge raise a exception of script install failed.\n\nHowever in recent fix, we changed error message from script,\nthus kubernetes_mgmt cannot catch error msg from stdout,\nexception will not be raised.\n\nThis patch will fix matching error message in kuberntes_mgmt.\n\nCloses-Bug: #1922192\nChange-Id: Iffb3e045cbe121aca0fc74621cc5b3b5daf69f5b\n""}]",0,785534,211ab69408d52d10902e39c32350787aef4b672a,12,6,2,27880,,,0,"Fix exception not raised while install script failed

In kubernetes_mgmt, it will find 'Install Failed!\n' in stdout
to judge raise a exception of script install failed.

However in recent fix, we changed error message from script,
thus kubernetes_mgmt cannot catch error msg from stdout,
exception will not be raised.

This patch will fix matching error message in kuberntes_mgmt.

Closes-Bug: #1922192
Change-Id: Iffb3e045cbe121aca0fc74621cc5b3b5daf69f5b
",git fetch https://review.opendev.org/openstack/tacker refs/changes/34/785534/2 && git format-patch -1 --stdout FETCH_HEAD,"['samples/mgmt_driver/kubernetes_mgmt.py', 'samples/mgmt_driver/install_k8s_cluster.sh', 'samples/mgmt_driver/kubernetes_vnf_package/TOSCA-Metadata/TOSCA.meta']",3,6e3902e39f3bf3bd77d25514bdbdfeac57ffee52,bug/1922102,Hash: bc859fb8ffb9f92a19139553bdd077428a2c9572196e5844f1c912a7a822c249Hash: b8c558cad30f219634a668f84d6e04998949e941f3909b5c60374b84dff58545 ,Hash: 2489f6162817cce794a6f19a88c3c76ce83fa19cfcb75ad1204d76aaba4a9d1cHash: b292bc47d4c28a62b1261e6481498118e5dd93aa988c498568560f67c510003b,6,12
openstack%2Fswift~master~Ibcea5760bc1c5a6e774e150d77fcf5c07c0c697c,openstack/swift,master,Ibcea5760bc1c5a6e774e150d77fcf5c07c0c697c,swift-account-audit: Work with storage policies,NEW,2021-03-12 22:44:41.000000000,2021-04-09 06:31:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-12 22:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/69a0402f6c5bc4cbb2e49048324cf7dc2181b548', 'message': 'Fix swift-account-audit to work with unencrypted EC data\n\nPreviously, it would complain about ETag mismatches.\n\nChange-Id: Ibcea5760bc1c5a6e774e150d77fcf5c07c0c697c\n'}, {'number': 2, 'created': '2021-03-19 05:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bc5f5b1eb89eb5c0cb5bc99fc52ad7e2d991bd0a', 'message': 'Fix swift-account-audit to work with unencrypted EC data\n\nPreviously, it would complain about ETag mismatches.\n\nChange-Id: Ibcea5760bc1c5a6e774e150d77fcf5c07c0c697c\n'}, {'number': 3, 'created': '2021-04-09 00:36:53.000000000', 'files': ['bin/swift-account-audit'], 'web_link': 'https://opendev.org/openstack/swift/commit/c297ecc0f0efe480f92dd50d1dc0d8ef15a2a1ae', 'message': 'swift-account-audit: Work with storage policies\n\nAs part of that, allow it to work with unencrypted EC data; previously,\nit would complain about ETag mismatches.\n\nCloses-Bug: #1631396\nChange-Id: Ibcea5760bc1c5a6e774e150d77fcf5c07c0c697c\n'}]",0,780392,c297ecc0f0efe480f92dd50d1dc0d8ef15a2a1ae,8,1,3,15343,,,0,"swift-account-audit: Work with storage policies

As part of that, allow it to work with unencrypted EC data; previously,
it would complain about ETag mismatches.

Closes-Bug: #1631396
Change-Id: Ibcea5760bc1c5a6e774e150d77fcf5c07c0c697c
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/780392/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/swift-account-audit'],1,69a0402f6c5bc4cbb2e49048324cf7dc2181b548,account-audit," etag_headers = [ 'X-Object-Sysmeta-Container-Update-Override-Etag', 'X-Object-Sysmeta-Ec-Etag', 'Etag', ] for h in etag_headers: val = resp.getheader(h) if val: etags.append((val, node)) break"," override_etag = resp.getheader( 'X-Object-Sysmeta-Container-Update-Override-Etag') if override_etag: etags.append((override_etag, node)) else: etags.append((resp.getheader('ETag'), node))",10,6
openstack%2Ftacker~stable%2Fwallaby~If14b95b2f9dfafe994a5ebf4f447a2bf7d27981c,openstack/tacker,stable/wallaby,If14b95b2f9dfafe994a5ebf4f447a2bf7d27981c,Fix some bugs related legacy cnf operations,MERGED,2021-04-08 23:08:02.000000000,2021-04-09 06:25:05.000000000,2021-04-09 06:21:56.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31857}]","[{'number': 1, 'created': '2021-04-08 23:08:02.000000000', 'files': ['tacker/tests/unit/vnfm/infra_drivers/kubernetes/fakes.py', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/test_kubernetes_driver.py', 'samples/tosca-templates/vnfd/tosca-vnfd-containerized-two-containers.yaml', 'tacker/vnfm/infra_drivers/kubernetes/k8s/translate_inputs.py', 'samples/tosca-templates/vnfd/tosca-vnfd-containerized.yaml', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'doc/source/user/containerized_vnf_usage_guide.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/d4ea13696cace4cc6a26202be42f0727fdb07d1c', 'message': 'Fix some bugs related legacy cnf operations\n\nThis patch fixes some bugs related legacy cnf operations below:\n* Delete the ""unsupported key check"" of policies in TOSCA template, to\n  resolve `openstack vnf create` command failure due to property\n  validation of policies.\n* Change the branch condition of legacy/sol, to resolve the\n  `openstack vnf scale` command failure due to keyError.\n* Add interval to each retry loops of delete_wait_legacy, to resolve\n  the `openstack vnf delete` command failure.\n\nAnd this patch revises the documentation for legacy cnf operations to\nwork properly.\n\nCloses-Bug: #1920085\nChange-Id: If14b95b2f9dfafe994a5ebf4f447a2bf7d27981c\n'}]",0,785532,d4ea13696cace4cc6a26202be42f0727fdb07d1c,9,6,1,27880,,,0,"Fix some bugs related legacy cnf operations

This patch fixes some bugs related legacy cnf operations below:
* Delete the ""unsupported key check"" of policies in TOSCA template, to
  resolve `openstack vnf create` command failure due to property
  validation of policies.
* Change the branch condition of legacy/sol, to resolve the
  `openstack vnf scale` command failure due to keyError.
* Add interval to each retry loops of delete_wait_legacy, to resolve
  the `openstack vnf delete` command failure.

And this patch revises the documentation for legacy cnf operations to
work properly.

Closes-Bug: #1920085
Change-Id: If14b95b2f9dfafe994a5ebf4f447a2bf7d27981c
",git fetch https://review.opendev.org/openstack/tacker refs/changes/32/785532/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/vnfm/infra_drivers/kubernetes/fakes.py', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/test_kubernetes_driver.py', 'samples/tosca-templates/vnfd/tosca-vnfd-containerized-two-containers.yaml', 'tacker/vnfm/infra_drivers/kubernetes/k8s/translate_inputs.py', 'samples/tosca-templates/vnfd/tosca-vnfd-containerized.yaml', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'doc/source/user/containerized_vnf_usage_guide.rst']",7,d4ea13696cace4cc6a26202be42f0727fdb07d1c,bug/1920085, default_instances: 1 # required parameter but ignored for cnf increment: 1 # required parameter but ignored for cnf default_instances: 1 # required parameter but ignored for cnf increment: 1 # required parameter but ignored for cnf default_instances: 1 # required parameter but ignored for cnf increment: 1 # required parameter but ignored for cnf $ openstack vnf scale --scaling-policy-name SP1 --scaling-type out VNF1, $ openstack vnf scale --vnf-name VNF1 --scaling-policy-name SP1 --scaling-type out,47,29
openstack%2Ftacker~stable%2Fwallaby~I19aedf0940d8b8d51fa5bd1d5c5092655d7970b0,openstack/tacker,stable/wallaby,I19aedf0940d8b8d51fa5bd1d5c5092655d7970b0,Fix missing None judgement in rollback,MERGED,2021-04-08 23:09:00.000000000,2021-04-09 06:11:34.000000000,2021-04-09 06:09:09.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31821}]","[{'number': 1, 'created': '2021-04-08 23:09:00.000000000', 'files': ['tacker/vnflcm/vnflcm_driver.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/f44d0b65d875686180f4434daf2e39b986a13a78', 'message': ""Fix missing None judgement in rollback\n\nin vnflcm_drive._term_resource_update(),\nit is checking if 'affected_vnfcs' is existing in\nvnf_lcm_op_occs.resource_changes.\n\nHowever, 'affected_vnfcs' may be None,\nand cause an None type error in next line,\nusing len() for affect_vnfcs.\n(same to other 2 variables below)\n\nThis patch is adding None judgement before\nlen()\n\nCloses-Bug: #1922191\nChange-Id: I19aedf0940d8b8d51fa5bd1d5c5092655d7970b0\n""}]",0,785533,f44d0b65d875686180f4434daf2e39b986a13a78,10,6,1,27880,,,0,"Fix missing None judgement in rollback

in vnflcm_drive._term_resource_update(),
it is checking if 'affected_vnfcs' is existing in
vnf_lcm_op_occs.resource_changes.

However, 'affected_vnfcs' may be None,
and cause an None type error in next line,
using len() for affect_vnfcs.
(same to other 2 variables below)

This patch is adding None judgement before
len()

Closes-Bug: #1922191
Change-Id: I19aedf0940d8b8d51fa5bd1d5c5092655d7970b0
",git fetch https://review.opendev.org/openstack/tacker refs/changes/33/785533/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/vnflcm/vnflcm_driver.py'],1,f44d0b65d875686180f4434daf2e39b986a13a78,bug/1922191, if 'resource_changes' in vnf_lcm_op_occs and \ vnf_lcm_op_occs.resource_changes: res_chg = vnf_lcm_op_occs.resource_changes if 'affected_vnfcs' in res_chg: if res_chg.affected_vnfcs and \ len(res_chg.affected_vnfcs) > 0: res_chg.affected_vnfcs) if 'affected_virtual_storages' in res_chg: if res_chg.affected_virtual_storages and \ len(res_chg.affected_virtual_storages) > 0: res_chg.affected_virtual_storages) if 'affected_virtual_links' in res_chg: if res_chg.affected_virtual_links and \ len(res_chg.affected_virtual_links) > 0: res_chg.affected_virtual_links), if 'resource_changes' in vnf_lcm_op_occs \ and vnf_lcm_op_occs.resource_changes: if 'affected_vnfcs' in vnf_lcm_op_occs.resource_changes: if len(vnf_lcm_op_occs.resource_changes.affected_vnfcs) > 0: vnf_lcm_op_occs.resource_changes.affected_vnfcs) if 'affected_virtual_storages' in vnf_lcm_op_occs.resource_changes: if len(vnf_lcm_op_occs.resource_changes. affected_virtual_storages) > 0: vnf_lcm_op_occs.resource_changes. affected_virtual_storages) if 'affected_virtual_links' in vnf_lcm_op_occs.resource_changes: if len(vnf_lcm_op_occs.resource_changes. affected_virtual_links) > 0: vnf_lcm_op_occs.resource_changes. affected_virtual_links),15,15
openstack%2Freleases~master~I5c42c8e9eb809b4dd0c18f6344d828d8257158ce,openstack/releases,master,I5c42c8e9eb809b4dd0c18f6344d828d8257158ce,Release manila-ui rc2,MERGED,2021-04-08 22:30:44.000000000,2021-04-09 06:09:45.000000000,2021-04-09 06:09:45.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-08 22:30:44.000000000', 'files': ['deliverables/wallaby/manila-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c1056dfbd7ed75657e96542ea12fb18c8166a060', 'message': ""Release manila-ui rc2\n\nNew policy configuration enhancements have been\nadded to the UI. Since we have a week to release\nthis would be a good GA candidate per the team's\ntesting\n\nChange-Id: I5c42c8e9eb809b4dd0c18f6344d828d8257158ce\n""}]",0,785524,c1056dfbd7ed75657e96542ea12fb18c8166a060,7,3,1,16643,,,0,"Release manila-ui rc2

New policy configuration enhancements have been
added to the UI. Since we have a week to release
this would be a good GA candidate per the team's
testing

Change-Id: I5c42c8e9eb809b4dd0c18f6344d828d8257158ce
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/785524/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/manila-ui.yaml'],1,c1056dfbd7ed75657e96542ea12fb18c8166a060,wallaby-final-rc, - version: 5.0.0.0rc2 projects: - repo: openstack/manila-ui hash: 1f48e83eae979cb6bca78a024d7023ae70102c1b,,4,0
openstack%2Ftacker~stable%2Fwallaby~Ic4601cb277c02b2d41263724bb2ce21e7d24cdbb,openstack/tacker,stable/wallaby,Ic4601cb277c02b2d41263724bb2ce21e7d24cdbb,Fix parameters passing in kubernetes_mgmt,MERGED,2021-04-08 23:01:18.000000000,2021-04-09 06:08:14.000000000,2021-04-09 06:06:34.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31821}]","[{'number': 1, 'created': '2021-04-08 23:01:18.000000000', 'files': ['samples/mgmt_driver/kubernetes_mgmt.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/a3de1d3da57addca65a75082d216c6c996d9c2a2', 'message': 'Fix parameters passing in kubernetes_mgmt\n\nWhile calling _get_by_name() in kubernetes_mgmt, it is passing\nself + other 3 parameters.\n\nHowever it is calling _get_by_name() by instance,\nthus passing self is not needed and will cause an unmatch\nparameters error during Terminate process\n\nCloses-Bug: #1922194\nChange-Id: Ic4601cb277c02b2d41263724bb2ce21e7d24cdbb\n'}]",0,785527,a3de1d3da57addca65a75082d216c6c996d9c2a2,8,6,1,27880,,,0,"Fix parameters passing in kubernetes_mgmt

While calling _get_by_name() in kubernetes_mgmt, it is passing
self + other 3 parameters.

However it is calling _get_by_name() by instance,
thus passing self is not needed and will cause an unmatch
parameters error during Terminate process

Closes-Bug: #1922194
Change-Id: Ic4601cb277c02b2d41263724bb2ce21e7d24cdbb
",git fetch https://review.opendev.org/openstack/tacker refs/changes/27/785527/1 && git format-patch -1 --stdout FETCH_HEAD,['samples/mgmt_driver/kubernetes_mgmt.py'],1,a3de1d3da57addca65a75082d216c6c996d9c2a2,bug/1922194," context, nfvo_db.Vim, k8s_vim_name)"," self, context, nfvo_db.Vim, k8s_vim_name)",1,1
openstack%2Fironic-python-agent~stable%2Fussuri~Iec28a8841cc01ec8b01a3f5cca070c934c7a2531,openstack/ironic-python-agent,stable/ussuri,Iec28a8841cc01ec8b01a3f5cca070c934c7a2531,Add fstab pointer to EFI partition,MERGED,2021-03-23 02:20:29.000000000,2021-04-09 05:36:45.000000000,2021-04-09 05:35:35.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-23 02:20:29.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'releasenotes/notes/append-efi-partition-to-fstab-e9f945a4dd19bd7a.yaml', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7007ea0906ff30189804b062008393459d6548f2', 'message': 'Add fstab pointer to EFI partition\n\nAdds support for the EFI partition to be appended to fstab so the\nfilesystem can be automounted and EFI loader updated should the\ndeployed operating system need to do so.\n\nThis should enable bootloaders to be upgraded by linux based\noperating systems after the instance has been deployed when\na partition image was utilized for the initial deployment.\n\nChange-Id: Iec28a8841cc01ec8b01a3f5cca070c934c7a2531\nStory: 2008070\nTask: 40754\n(cherry picked from commit a12a5744b66063816af17769f99ec3f03da0a2d5)\n'}]",0,782352,7007ea0906ff30189804b062008393459d6548f2,28,3,1,4571,,,0,"Add fstab pointer to EFI partition

Adds support for the EFI partition to be appended to fstab so the
filesystem can be automounted and EFI loader updated should the
deployed operating system need to do so.

This should enable bootloaders to be upgraded by linux based
operating systems after the instance has been deployed when
a partition image was utilized for the initial deployment.

Change-Id: Iec28a8841cc01ec8b01a3f5cca070c934c7a2531
Story: 2008070
Task: 40754
(cherry picked from commit a12a5744b66063816af17769f99ec3f03da0a2d5)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/52/782352/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'releasenotes/notes/append-efi-partition-to-fstab-e9f945a4dd19bd7a.yaml', 'ironic_python_agent/extensions/image.py']",3,7007ea0906ff30189804b062008393459d6548f2,fstab-ussuri," _append_uefi_to_fstab(path, efi_system_part_uuid) if efi_mounted: _append_uefi_to_fstab(path, efi_system_part_uuid) def _append_uefi_to_fstab(fs_path, efi_system_part_uuid): """"""Append the efi partition id to the filesystem table. :param fs_path: :param efi_system_part_uuid: """""" fstab_file = os.path.join(fs_path, 'etc/fstab') if not os.path.exists(fstab_file): return try: fstab_string = (""UUID=%s\t/boot/efi\tvfat\tumask=0077\t"" ""0\t1\n"") % efi_system_part_uuid with open(fstab_file, ""r+"") as fstab: if efi_system_part_uuid not in fstab.read(): fstab.writelines(fstab_string) except (OSError, EnvironmentError, IOError) as exc: LOG.debug('Failed to add entry to /etc/fstab. Error %s', exc) LOG.debug('Added entry to /etc/fstab for EFI partition auto-mount ' 'with uuid %s', efi_system_part_uuid) ",,271,7
openstack%2Ftripleo-validations~master~I68be1dcaaf843adf7d562ca978bf837ad05b3ba9,openstack/tripleo-validations,master,I68be1dcaaf843adf7d562ca978bf837ad05b3ba9,Removes retired services from process count validation,MERGED,2021-03-23 10:06:55.000000000,2021-04-09 05:27:53.000000000,2021-04-09 05:21:56.000000000,"[{'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-23 10:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ae4a387d2b66989807d363465fc56880895ede07', 'message': 'Removes deprecated services from process count validation\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I68be1dcaaf843adf7d562ca978bf837ad05b3ba9\n'}, {'number': 2, 'created': '2021-03-23 10:23:32.000000000', 'files': ['roles/undercloud_process_count/tasks/main.yml', 'releasenotes/notes/remove-deprecated-services-process-count-b5d1d3e9555f445b.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c4e7b83adad7392ae0af55725cc0e85c6025ecf7', 'message': 'Removes retired services from process count validation\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I68be1dcaaf843adf7d562ca978bf837ad05b3ba9\n'}]",2,782394,c4e7b83adad7392ae0af55725cc0e85c6025ecf7,19,8,2,32926,,,0,"Removes retired services from process count validation

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I68be1dcaaf843adf7d562ca978bf837ad05b3ba9
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/94/782394/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud_process_count/tasks/main.yml', 'releasenotes/notes/remove-deprecated-services-process-count-b5d1d3e9555f445b.yaml']",2,ae4a387d2b66989807d363465fc56880895ede07,swift/purge/pcount,"--- upgrade: - | Several services were retired and are no longer in use. Therefore it is pointless to check for their associated processes. The retired services are, in alphabetical order: mistral, nova-compute, swift and zaqar. deprecations: - | Checks for mistra, nova-compute, swift and zaqar processes were removed as the associated projects were retired. ",,10,9
openstack%2Ftripleo-validations~master~If8e31e72b215dcdb0db897b03403e8d28a2545b3,openstack/tripleo-validations,master,If8e31e72b215dcdb0db897b03403e8d28a2545b3,Zuul runs tests in py36 only,MERGED,2021-04-07 12:30:19.000000000,2021-04-09 05:26:55.000000000,2021-04-09 05:21:22.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-07 12:30:19.000000000', 'files': ['zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c5cd9b7c9e491fe60a98b949541b12d83bca0e88', 'message': 'Zuul runs tests in py36 only\n\nPython 3.6 is the oldest version of python\nsupported by the package, and newer, supported,\nminor versions do not break any substantial functionality\nby design, while introducing new features.\n\nTherefore we do not need to run unit tests for\neach minor version. As all possible issues affecting\nversions >3.6 would necessarily be related to features\nintroduced in versions >3.6.\n\nWallaby Zuul test template was removed from layout.yaml.\nThe pep8 test environment was folded into linters in tox.ini.\nZuul is now explicitly running tests only in one, oldest supported,\npython environment, Python 3.6.\n\nPEP387: https://www.python.org/dev/peps/pep-0387/\nhttps://docs.python.org/3/whatsnew/3.7.html#porting-to-python-37\nhttps://docs.python.org/3/whatsnew/3.8.html#porting-to-python-3-8\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If8e31e72b215dcdb0db897b03403e8d28a2545b3\n'}]",0,785168,c5cd9b7c9e491fe60a98b949541b12d83bca0e88,8,6,1,32926,,,0,"Zuul runs tests in py36 only

Python 3.6 is the oldest version of python
supported by the package, and newer, supported,
minor versions do not break any substantial functionality
by design, while introducing new features.

Therefore we do not need to run unit tests for
each minor version. As all possible issues affecting
versions >3.6 would necessarily be related to features
introduced in versions >3.6.

Wallaby Zuul test template was removed from layout.yaml.
The pep8 test environment was folded into linters in tox.ini.
Zuul is now explicitly running tests only in one, oldest supported,
python environment, Python 3.6.

PEP387: https://www.python.org/dev/peps/pep-0387/
https://docs.python.org/3/whatsnew/3.7.html#porting-to-python-37
https://docs.python.org/3/whatsnew/3.8.html#porting-to-python-3-8

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: If8e31e72b215dcdb0db897b03403e8d28a2545b3
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/68/785168/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'tox.ini']",2,c5cd9b7c9e491fe60a98b949541b12d83bca0e88,zuul/optimization, {[testenv:pep8]commands},,3,1
openstack%2Ftripleo-heat-templates~master~I9694435d5c54568a1636195d73d53903c44d998b,openstack/tripleo-heat-templates,master,I9694435d5c54568a1636195d73d53903c44d998b,Decrease Swift proxy timeouts for GET/HEAD requests,MERGED,2020-09-11 13:36:55.000000000,2021-04-09 05:26:48.000000000,2021-04-09 05:20:27.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-09-11 13:36:55.000000000', 'files': ['releasenotes/notes/swift-proxy-recoverable-node-timeout-1fcd7a83f983e61b.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f08905d7ff67ebcfee14ffe64ed4b7fb8c515cdf', 'message': 'Decrease Swift proxy timeouts for GET/HEAD requests\n\nAdds a new parameter named SwiftProxyRecoverableNodeTimeout. The default\nnode timeout is 10 seconds in Swift, however this has been set to 60\nseconds in TripleO in case there are slow nodes. However, this affects\nall requests - GET, HEAD and PUT. GET/HEAD requests are typically much\nfaster, thus it makes sense to use a lower timeout to recover earlier\nfrom node failures.\n\nThis increases overall stability, because the proxy can select another\nbackend node to retry the request if an initial HEAD request already\nreturns a timeout, for example when uploading Glance images.\n\nDepends-On: I2f56bc456427d5deb30d86ad70e890d0897ef0c9\nChange-Id: I9694435d5c54568a1636195d73d53903c44d998b\n'}]",0,751279,f08905d7ff67ebcfee14ffe64ed4b7fb8c515cdf,20,8,1,6968,,,0,"Decrease Swift proxy timeouts for GET/HEAD requests

Adds a new parameter named SwiftProxyRecoverableNodeTimeout. The default
node timeout is 10 seconds in Swift, however this has been set to 60
seconds in TripleO in case there are slow nodes. However, this affects
all requests - GET, HEAD and PUT. GET/HEAD requests are typically much
faster, thus it makes sense to use a lower timeout to recover earlier
from node failures.

This increases overall stability, because the proxy can select another
backend node to retry the request if an initial HEAD request already
returns a timeout, for example when uploading Glance images.

Depends-On: I2f56bc456427d5deb30d86ad70e890d0897ef0c9
Change-Id: I9694435d5c54568a1636195d73d53903c44d998b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/751279/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/swift-proxy-recoverable-node-timeout-1fcd7a83f983e61b.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml']",2,f08905d7ff67ebcfee14ffe64ed4b7fb8c515cdf,recoverable_node_timeout, SwiftProxyRecoverableNodeTimeout: default: 30 description: Timeout for GET/HEAD requests going from swift-proxy to swift a/c/o services. type: number swift::proxy::recoverable_node_timeout: {get_param: SwiftProxyRecoverableNodeTimeout},,16,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id92c13a591f64b1084cbe4c48f2879d791f66cfe,openstack/tripleo-heat-templates,stable/train,Id92c13a591f64b1084cbe4c48f2879d791f66cfe,Add EnableCache option to enable/disable usage of memcache,MERGED,2021-04-01 09:16:41.000000000,2021-04-09 05:22:23.000000000,2021-04-09 05:16:00.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-04-01 09:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba6666a3c993b13eb953d9b66d8f21ffa08c076d', 'message': 'Add EnableCache option to enable/disable usage of memcache\n\nChange-Id: Id92c13a591f64b1084cbe4c48f2879d791f66cfe\n'}, {'number': 2, 'created': '2021-04-01 10:44:14.000000000', 'files': ['deployment/heat/heat-base-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'releasenotes/notes/enable-cache-293c39b3b6f55c80.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b277ccf6bbe27d9502a289848731d77f33477776', 'message': 'Add EnableCache option to enable/disable usage of memcache\n\nChange-Id: Id92c13a591f64b1084cbe4c48f2879d791f66cfe\n'}]",3,784242,b277ccf6bbe27d9502a289848731d77f33477776,13,9,2,14250,,,0,"Add EnableCache option to enable/disable usage of memcache

Change-Id: Id92c13a591f64b1084cbe4c48f2879d791f66cfe
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/784242/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/heat/heat-base-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'releasenotes/notes/enable-cache-293c39b3b6f55c80.yaml']",4,ba6666a3c993b13eb953d9b66d8f21ffa08c076d,memcached-cert-stable/train,"--- features: - | The new ``EnableCache`` parameter is added to enable/disable chacing using memcached services. The parameter is true by default, but should be false when memcached service is disabled in the deployment. ",,69,23
openstack%2Ftripleo-validations~master~I756bc3a992baeab6effaf50178afcc79cc08f7ce,openstack/tripleo-validations,master,I756bc3a992baeab6effaf50178afcc79cc08f7ce,Fix typo in readme file.,MERGED,2021-02-01 09:44:18.000000000,2021-04-09 05:21:38.000000000,2021-04-09 05:21:38.000000000,"[{'_account_id': 7144}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-02-01 09:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6a53a516a072ae0db76a249c6c18f3336b9e4567', 'message': 'Fix typo in readme file.\n\nFix the typo bath by path.\n\nChange-Id: I756bc3a992baeab6effaf50178afcc79cc08f7ce\nCo-authored-by: Owen McGonagle <omcgonag@redhat.com>\n'}, {'number': 2, 'created': '2021-02-11 10:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3d37b9eaab379f5f22518ee7a6cdad343bb19f62', 'message': 'Fix typo in readme file.\n\nFix the typo bath by path.\n\nChange-Id: I756bc3a992baeab6effaf50178afcc79cc08f7ce\nCo-authored-by: Owen McGonagle <omcgonag@redhat.com>\n'}, {'number': 3, 'created': '2021-02-15 11:38:33.000000000', 'files': ['doc/source/readme.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0bb6c79845be5dcf735f196c76fae018aeb22dbd', 'message': 'Fix typo in readme file.\n\nFix the typo bath by path.\n\nChange-Id: I756bc3a992baeab6effaf50178afcc79cc08f7ce\nCo-authored-by: Owen McGonagle <omcgonag@redhat.com>\n'}]",0,773331,0bb6c79845be5dcf735f196c76fae018aeb22dbd,11,5,3,31245,,,0,"Fix typo in readme file.

Fix the typo bath by path.

Change-Id: I756bc3a992baeab6effaf50178afcc79cc08f7ce
Co-authored-by: Owen McGonagle <omcgonag@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/31/773331/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/readme.rst'],1,6a53a516a072ae0db76a249c6c18f3336b9e4567,typo_in_documentation,VALIDATIONS_BASEDIR with the value of base path of your git repo.::,VALIDATIONS_BASEDIR with the value of base bath of your git repo.::,1,1
openstack%2Fansible-role-tripleo-modify-image~master~I089ea79398f71bd841992eacfd088d831ce0d085,openstack/ansible-role-tripleo-modify-image,master,I089ea79398f71bd841992eacfd088d831ce0d085,Replace deprecated UPPER_CONSTRAINTS_FILE variable,MERGED,2020-11-04 10:14:32.000000000,2021-04-09 05:21:04.000000000,2021-04-09 05:21:04.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-04 10:14:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/12655c7e732c15ce9ab69d779086fa8afca59830', 'message': 'Replace deprecated UPPER_CONSTRAINTS_FILE variable\n\nUPPER_CONSTRAINTS_FILE is deprecated and TOX_CONSTRAINTS_FILE is\nthe new environment variable name that replaces it [1].\n\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n[2] https://review.opendev.org/#/c/722814/\n\nChange-Id: I089ea79398f71bd841992eacfd088d831ce0d085\n'}]",0,761388,12655c7e732c15ce9ab69d779086fa8afca59830,7,3,1,28522,,,0,"Replace deprecated UPPER_CONSTRAINTS_FILE variable

UPPER_CONSTRAINTS_FILE is deprecated and TOX_CONSTRAINTS_FILE is
the new environment variable name that replaces it [1].

This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
[2] https://review.opendev.org/#/c/722814/

Change-Id: I089ea79398f71bd841992eacfd088d831ce0d085
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/88/761388/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,12655c7e732c15ce9ab69d779086fa8afca59830,tox_constraints_file,install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Ftripleo-ci~master~Ie0aa4cca983d45c959611e0e93effb4b21a69488,openstack/tripleo-ci,master,Ie0aa4cca983d45c959611e0e93effb4b21a69488,ensure molecule runs on centos8,MERGED,2020-12-16 02:25:53.000000000,2021-04-09 05:19:52.000000000,2021-04-09 05:19:52.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-12-16 02:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5109bac218d61178861b935248ebd723ef6d958b', 'message': 'ensure molecule runs on centos8\n\ndefine the nodeset for tox-molecule jobs\n\nCloses-Bug: 1908328\nChange-Id: Ie0aa4cca983d45c959611e0e93effb4b21a69488\n'}, {'number': 2, 'created': '2020-12-16 15:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/728ca383b5a63a54b981b4f31a0abee25568d799', 'message': 'ensure molecule runs on centos8\n\ndefine the nodeset for tox-molecule jobs\n\nCloses-Bug: 1908328\nChange-Id: Ie0aa4cca983d45c959611e0e93effb4b21a69488\n'}, {'number': 3, 'created': '2020-12-16 15:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f7f46c49c400091709c00d297738374e7c9279fe', 'message': 'ensure molecule runs on centos8\n\ndefine the nodeset for tox-molecule jobs\n\nCloses-Bug: 1908328\nChange-Id: Ie0aa4cca983d45c959611e0e93effb4b21a69488\n'}, {'number': 4, 'created': '2021-01-29 16:17:57.000000000', 'files': ['test-requirements.txt', 'zuul.d/base.yaml', 'roles/tripleo-repos/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2d55b124e11c739d781208ec97eb82742bc943fe', 'message': 'ensure molecule runs on centos8\n\ndefine the nodeset for tox-molecule jobs\n\nCloses-Bug: 1908328\nChange-Id: Ie0aa4cca983d45c959611e0e93effb4b21a69488\n'}]",0,767255,2d55b124e11c739d781208ec97eb82742bc943fe,19,6,4,9592,,,0,"ensure molecule runs on centos8

define the nodeset for tox-molecule jobs

Closes-Bug: 1908328
Change-Id: Ie0aa4cca983d45c959611e0e93effb4b21a69488
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/55/767255/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,5109bac218d61178861b935248ebd723ef6d958b,, nodeset: single-centos-8-node,,1,0
openstack%2Fpuppet-tripleo~master~I2bf9ca64f8fcbec074e8242f4fe9e2ef5b7f924b,openstack/puppet-tripleo,master,I2bf9ca64f8fcbec074e8242f4fe9e2ef5b7f924b,Remove the unused tripleo::host::sriov class,MERGED,2021-01-02 02:39:02.000000000,2021-04-09 05:19:18.000000000,2021-04-09 05:19:18.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-02 02:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/548b3c1b0db0ab83a80c350b3951bb4462b51dd2', 'message': 'Remove the unused tripleo::host::sriov class\n\nThe tripleo::host::sriov class is no longer used since we have removed\nthe OS::TripleO::Services::NeutronSriovHostConfig service resource[1].\n\n[1] 4f198c32cb7e23b07bb1d722383d81b8ffaf4241\n\nChange-Id: I2bf9ca64f8fcbec074e8242f4fe9e2ef5b7f924b\n'}, {'number': 2, 'created': '2021-01-02 06:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/803b35b57e75e89e94ef240812b8b647e1b6297c', 'message': 'Remove the unused tripleo::host::sriov class\n\nThe tripleo::host::sriov class is no longer used since we have removed\nthe OS::TripleO::Services::NeutronSriovHostConfig service resource[1].\n\n[1] 4f198c32cb7e23b07bb1d722383d81b8ffaf4241\n\nChange-Id: I2bf9ca64f8fcbec074e8242f4fe9e2ef5b7f924b\n'}, {'number': 3, 'created': '2021-01-03 02:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1f01bd8da0c20384c0a168c9a3ded2643c0348f2', 'message': 'Remove the unused tripleo::host::sriov class\n\nThe tripleo::host::sriov class is no longer used since we have removed\nthe OS::TripleO::Services::NeutronSriovHostConfig service resource[1].\n\n[1] 4f198c32cb7e23b07bb1d722383d81b8ffaf4241\n\nChange-Id: I2bf9ca64f8fcbec074e8242f4fe9e2ef5b7f924b\n'}, {'number': 4, 'created': '2021-01-03 02:49:58.000000000', 'files': ['templates/switchdev/switchdev.epp', 'lib/puppet/provider/sriov_vf_config/numvfs.rb', 'manifests/host/sriov/numvfs_persistence.pp', 'lib/puppet/type/sriov_vf_config.rb', 'spec/classes/tripleo_host_sriov_spec.rb', 'spec/unit/provider/sriov_vf_config/numvfs_spec.rb', 'manifests/host/sriov.pp', 'spec/defines/tripleo_host_sriov_numvfs_persistence_spec.rb', 'spec/unit/type/sriov_vf_config_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5ec22bbd979021da4c95dfaa5e971531c33de8df', 'message': 'Remove the unused tripleo::host::sriov class\n\nThe tripleo::host::sriov class is no longer used since we removed\nthe OS::TripleO::Services::NeutronSriovHostConfig service resource[1].\n\n[1] 4f198c32cb7e23b07bb1d722383d81b8ffaf4241\n\nChange-Id: I2bf9ca64f8fcbec074e8242f4fe9e2ef5b7f924b\n'}]",0,768843,5ec22bbd979021da4c95dfaa5e971531c33de8df,17,6,4,9816,,,0,"Remove the unused tripleo::host::sriov class

The tripleo::host::sriov class is no longer used since we removed
the OS::TripleO::Services::NeutronSriovHostConfig service resource[1].

[1] 4f198c32cb7e23b07bb1d722383d81b8ffaf4241

Change-Id: I2bf9ca64f8fcbec074e8242f4fe9e2ef5b7f924b
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/43/768843/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/host/sriov/numvfs_persistence.pp', 'spec/classes/tripleo_host_sriov_spec.rb', 'manifests/host/sriov.pp']",3,548b3c1b0db0ab83a80c350b3951bb4462b51dd2,host-sriov,,"# == Class: tripleo::host::sriov # # Configures host configuration for the SR-IOV interfaces # # === Parameters # # [*number_of_vfs*] # (optional) List of <physical_network>:<number_of_vfs>:<sriov_mode> # specifying the number VFs to be exposed per physical interface with sriov # mode, where <sriov_mode> is optional field which accepts legacy or # switchdev, and if it's not specified we default it to legacy. # For example, to configure two interface with number of VFs, specify # it as ['eth1:4','eth2:10:legacy'] for legacey mode or specify it as # ['eth1:4:switchdev'] for switchdev mode # Defaults to [] # class tripleo::host::sriov ( $number_of_vfs = [], ) { if !empty($number_of_vfs) { sriov_vf_config { $number_of_vfs: ensure => present } # the numvfs configuration needs to be persisted for every boot tripleo::host::sriov::numvfs_persistence {'persistent_numvfs': vf_defs => $number_of_vfs, content_string => ""#!/bin/bash\n"", udev_rules => '' } } } ",0,158
openstack%2Ftripleo-heat-templates~master~I741cfef2ee02f7f4c90acd5627e6bc0eb966ea93,openstack/tripleo-heat-templates,master,I741cfef2ee02f7f4c90acd5627e6bc0eb966ea93,Remove the OVNVifType parameter,MERGED,2021-01-03 08:22:08.000000000,2021-04-09 05:18:51.000000000,2021-04-09 05:18:51.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-03 08:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b6cab8dc439aa21db73d5dff27cbd224c7454cc', 'message': 'Remove the OVNVifType parameter\n\nThe ovn/vif_type parameter was deprecated in networking-ovn a while ago\nand has been ineffective since then[1].\nThis change removes the OVNVifType parameter from tht, which sets that\nuseless parameter in neutron.\n\n[1] 5be7dfeb637984f75937a21b994c1375dfa77d87\n\nChange-Id: I741cfef2ee02f7f4c90acd5627e6bc0eb966ea93\n'}, {'number': 2, 'created': '2021-01-03 08:43:33.000000000', 'files': ['environments/services/neutron-ovn-ha.yaml', 'environments/services/neutron-ovn-standalone.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'environments/services-baremetal/neutron-ovn-dvr-ha.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml', 'releasenotes/notes/remove-ovn-vif_type-1c09bf29d1bd38da.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d1e9179490aabe6e69fcf531a60293779dda0fd', 'message': 'Remove the OVNVifType parameter\n\nThe ovn/vif_type parameter was deprecated in networking-ovn a while ago\nand has been ineffective since then[1].\nThis change removes the OVNVifType parameter from tht, which sets that\nuseless parameter in neutron.\n\n[1] 5be7dfeb637984f75937a21b994c1375dfa77d87\n\nChange-Id: I741cfef2ee02f7f4c90acd5627e6bc0eb966ea93\n'}]",0,769018,9d1e9179490aabe6e69fcf531a60293779dda0fd,19,5,2,9816,,,0,"Remove the OVNVifType parameter

The ovn/vif_type parameter was deprecated in networking-ovn a while ago
and has been ineffective since then[1].
This change removes the OVNVifType parameter from tht, which sets that
useless parameter in neutron.

[1] 5be7dfeb637984f75937a21b994c1375dfa77d87

Change-Id: I741cfef2ee02f7f4c90acd5627e6bc0eb966ea93
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/769018/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/services/neutron-ovn-ha.yaml', 'environments/services/neutron-ovn-standalone.yaml', 'environments/services-baremetal/neutron-ovn-ha.yaml', 'environments/services-baremetal/neutron-ovn-dvr-ha.yaml', 'environments/services/neutron-ovn-dvr-ha.yaml', 'releasenotes/notes/remove-ovn-vif_type-1c09bf29d1bd38da.yaml', 'deployment/neutron/neutron-plugin-ml2-ovn.yaml']",7,5b6cab8dc439aa21db73d5dff27cbd224c7454cc,ovn-vif_type,, OVNVifType: description: Type of VIF to be used for ports type: string default: ovs constraints: - allowed_values: - ovs - vhostuser neutron::plugins::ml2::ovn::vif_type: {get_param: OVNVifType},5,14
openstack%2Ftripleo-heat-templates~master~I788723aa45407735283dd7c52507d8b5c1ac8f7b,openstack/tripleo-heat-templates,master,I788723aa45407735283dd7c52507d8b5c1ac8f7b,Neutron: Do not set ovn_l3_mode,MERGED,2021-01-03 08:04:31.000000000,2021-04-09 05:18:09.000000000,2021-04-09 05:18:09.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}]","[{'number': 1, 'created': '2021-01-03 08:04:31.000000000', 'files': ['deployment/neutron/neutron-plugin-ml2-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06eb1d1679cc9a0fd513452331b260ee251aecbb', 'message': 'Neutron: Do not set ovn_l3_mode\n\n... because this option was deprecated[1] and has no effect with native\nL3 support.\n\n[1] 92952f016562cb89d1fd0ac320baff0786850aff\n\nChange-Id: I788723aa45407735283dd7c52507d8b5c1ac8f7b\n'}]",0,769000,06eb1d1679cc9a0fd513452331b260ee251aecbb,11,7,1,9816,,,0,"Neutron: Do not set ovn_l3_mode

... because this option was deprecated[1] and has no effect with native
L3 support.

[1] 92952f016562cb89d1fd0ac320baff0786850aff

Change-Id: I788723aa45407735283dd7c52507d8b5c1ac8f7b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/769000/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-plugin-ml2-ovn.yaml'],1,06eb1d1679cc9a0fd513452331b260ee251aecbb,ovn_l3_mode,, neutron::plugins::ml2::ovn::ovn_l3_mode: true,0,1
openstack%2Ftripleo-heat-templates~master~I205e3c58f887a2ea9b4d293f938708f100e64036,openstack/tripleo-heat-templates,master,I205e3c58f887a2ea9b4d293f938708f100e64036,Remove unused [ec2]driver parameter,MERGED,2020-12-23 23:46:41.000000000,2021-04-09 05:17:44.000000000,2021-04-09 05:17:44.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-12-23 23:46:41.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f04f9645a5499b1c512411676c27b568bbba42c1', 'message': 'Remove unused [ec2]driver parameter\n\n... because this parameter no longer exists in keystone, and is not\nloaded.\n\nChange-Id: I205e3c58f887a2ea9b4d293f938708f100e64036\n'}]",0,768375,f04f9645a5499b1c512411676c27b568bbba42c1,9,5,1,9816,,,0,"Remove unused [ec2]driver parameter

... because this parameter no longer exists in keystone, and is not
loaded.

Change-Id: I205e3c58f887a2ea9b4d293f938708f100e64036
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/768375/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,f04f9645a5499b1c512411676c27b568bbba42c1,ec2-driver,, keystone::config::keystone_config: ec2/driver: value: 'keystone.contrib.ec2.backends.sql.Ec2',0,3
openstack%2Ftripleo-upgrade~stable%2Fvictoria~Ia898a08f96f10e7f9817108bf7161478fa3d354c,openstack/tripleo-upgrade,stable/victoria,Ia898a08f96f10e7f9817108bf7161478fa3d354c,Add validations to updates.,MERGED,2021-03-29 11:04:14.000000000,2021-04-09 05:16:37.000000000,2021-04-09 05:16:37.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-03-29 11:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7b04fd1d9f00e3f76d74297bdf11b94bb47340b6', 'message': 'Add validations to updates.\n\nAdd a new variable updates_validations (default false) to run the\nvalidations for update.\n\nAdd new command line options to run the validations for update.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/777463\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\n\nChange-Id: Ia898a08f96f10e7f9817108bf7161478fa3d354c\n(cherry picked from commit aac7c99e6c04d2049e746c4d55e1660706a3e77d)\n'}, {'number': 2, 'created': '2021-04-06 11:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/500e9483a233eac4bb0e4b21beac1e3ec050501d', 'message': 'Add validations to updates.\n\nAdd a new variable updates_validations (default false) to run the\nvalidations for update.\n\nAdd new command line options to run the validations for update.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/777463\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nCo-authored-by: Sofer Athlan-Guyot <sathlang@redhat.com>\n\nChange-Id: Ia898a08f96f10e7f9817108bf7161478fa3d354c\n(cherry picked from commit aac7c99e6c04d2049e746c4d55e1660706a3e77d)\n'}, {'number': 3, 'created': '2021-04-07 13:03:28.000000000', 'files': ['README.rst', 'infrared_plugin/plugin.spec', 'tasks/update/main.yml', 'infrared_plugin/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7af5df08a20ed0491d1c0c69b7431b4a21d9c0fc', 'message': 'Add validations to updates.\n\nAdd a new variable updates_validations (default false) to run the\nvalidations for update.\n\nAdd new command line options to run the validations for update.\n\nBackport Inlcudes: https://review.opendev.org/c/openstack/tripleo-upgrade/+/783898\nCo-authored-by: Daniel Bengtsson <dbengt@redhat.com>\nCo-authored-by: Sofer Athlan-Guyot <sathlang@redhat.com>\n\nChange-Id: Ia898a08f96f10e7f9817108bf7161478fa3d354c\n(cherry picked from commit aac7c99e6c04d2049e746c4d55e1660706a3e77d)\n'}]",3,783634,7af5df08a20ed0491d1c0c69b7431b4a21d9c0fc,17,4,3,31245,,,0,"Add validations to updates.

Add a new variable updates_validations (default false) to run the
validations for update.

Add new command line options to run the validations for update.

Backport Inlcudes: https://review.opendev.org/c/openstack/tripleo-upgrade/+/783898
Co-authored-by: Daniel Bengtsson <dbengt@redhat.com>
Co-authored-by: Sofer Athlan-Guyot <sathlang@redhat.com>

Change-Id: Ia898a08f96f10e7f9817108bf7161478fa3d354c
(cherry picked from commit aac7c99e6c04d2049e746c4d55e1660706a3e77d)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/34/783634/3 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'infrared_plugin/plugin.spec', 'tasks/update/main.yml', 'infrared_plugin/main.yml', 'defaults/main.yml']",5,7b04fd1d9f00e3f76d74297bdf11b94bb47340b6,,# enable update validation updates_validations: false ,,77,1
openstack%2Ftacker~master~I807cfdbc2f0a710fe2918fa376c51ba6aa406f1b,openstack/tacker,master,I807cfdbc2f0a710fe2918fa376c51ba6aa406f1b,Remove log translations,ABANDONED,2017-03-21 06:35:36.000000000,2021-04-09 04:29:55.000000000,,"[{'_account_id': 17130}, {'_account_id': 25701}, {'_account_id': 32102}]","[{'number': 1, 'created': '2017-03-21 06:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c96637fcdcc7937ff89b52b16fcaf91781d9a174', 'message': 'Remove log translations\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nSee:\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html\n\nChange-Id: I807cfdbc2f0a710fe2918fa376c51ba6aa406f1b\n'}, {'number': 2, 'created': '2017-03-21 11:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4cdd10a2ff0e4c9cc1e6cb65c6988159442fefe4', 'message': 'Remove log translations\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nSee:\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html\n\nChange-Id: I807cfdbc2f0a710fe2918fa376c51ba6aa406f1b\n'}, {'number': 3, 'created': '2017-03-23 02:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/64a4e73e4347da9a7d3f8e756c2b3cf8035d6215', 'message': 'Remove log translations\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nSee:\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html\n\nChange-Id: I807cfdbc2f0a710fe2918fa376c51ba6aa406f1b\n'}, {'number': 4, 'created': '2017-03-23 11:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a8bda26064f16ca0132f68e8f4e12af8934556fa', 'message': 'Remove log translations\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nSee:\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html\n\nChange-Id: I807cfdbc2f0a710fe2918fa376c51ba6aa406f1b\n'}, {'number': 5, 'created': '2017-03-25 03:07:13.000000000', 'files': ['tacker/policy.py', 'tacker/common/utils.py', 'tacker/vnfm/plugin.py', 'tacker/_i18n.py', 'tacker/vnfm/monitor_drivers/ping/ping.py', 'tacker/nfvo/drivers/vim/openstack_driver.py', 'tacker/vnfm/monitor_drivers/http_ping/http_ping.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/a6c7afed80883fc06547f63c8e3ac23ca93d5b3a', 'message': 'Remove log translations\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nSee:\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html\n\nChange-Id: I807cfdbc2f0a710fe2918fa376c51ba6aa406f1b\n'}]",0,447881,a6c7afed80883fc06547f63c8e3ac23ca93d5b3a,14,3,5,25165,,,0,"Remove log translations

Log messages are no longer being translated. This removes all use of
the _LE, _LI, and _LW translation markers to simplify logging and to
avoid confusion with new contributions.

See:
http://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html
http://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html

Change-Id: I807cfdbc2f0a710fe2918fa376c51ba6aa406f1b
",git fetch https://review.opendev.org/openstack/tacker refs/changes/81/447881/5 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/policy.py', 'tacker/common/utils.py', 'tacker/vnfm/monitor_drivers/ping/ping.py', 'tools/with_venv.sh', 'tacker/vnfm/monitor_drivers/http_ping/http_ping.py', 'tools/test-setup.sh', 'tools/ostestr_compat_shim.sh', 'tacker/vnfm/plugin.py', 'devstack/local.sh.mysql_fix', 'tacker/nfvo/drivers/vim/openstack_driver.py', 'tools/generate_config_file_sample.sh', 'tools/prepare_functional_test.sh', 'tacker/tests/contrib/post_test_hook.sh', 'tools/clean.sh']",14,c96637fcdcc7937ff89b52b16fcaf91781d9a174,,,,12,16
openstack%2Fdevstack-plugin-container~stable%2Fwallaby~Ic8accb7a18f769dfd0a6e43f212e8c4bc2fd4db4,openstack/devstack-plugin-container,stable/wallaby,Ic8accb7a18f769dfd0a6e43f212e8c4bc2fd4db4,Update .gitreview for stable/wallaby,MERGED,2021-04-08 10:16:17.000000000,2021-04-09 02:48:31.000000000,2021-04-09 02:48:31.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 10:16:17.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/22a0cf658f0d088d5fd66620027a9ec415b655fa', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Ic8accb7a18f769dfd0a6e43f212e8c4bc2fd4db4\n'}]",0,785366,22a0cf658f0d088d5fd66620027a9ec415b655fa,6,2,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: Ic8accb7a18f769dfd0a6e43f212e8c4bc2fd4db4
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/66/785366/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,22a0cf658f0d088d5fd66620027a9ec415b655fa,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fdevstack-plugin-container~stable%2Fvictoria~I235cb24940ebc25a1a8e1aa5ad941a0984183b6e,openstack/devstack-plugin-container,stable/victoria,I235cb24940ebc25a1a8e1aa5ad941a0984183b6e,Update .gitreview for stable/victoria,MERGED,2021-04-08 09:06:20.000000000,2021-04-09 02:48:28.000000000,2021-04-09 02:48:28.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 09:06:20.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/a4c0ad5d223c908b2fdbcfea18d3c8b086a9bc1f', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I235cb24940ebc25a1a8e1aa5ad941a0984183b6e\n'}]",0,785345,a4c0ad5d223c908b2fdbcfea18d3c8b086a9bc1f,6,2,1,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: I235cb24940ebc25a1a8e1aa5ad941a0984183b6e
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/45/785345/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,a4c0ad5d223c908b2fdbcfea18d3c8b086a9bc1f,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fcharm-keystone~master~Ia8cb1ad7417014fbc20178ccc598117c97a34188,openstack/charm-keystone,master,Ia8cb1ad7417014fbc20178ccc598117c97a34188,Refresh cipher suites and protocols,MERGED,2021-03-29 02:47:28.000000000,2021-04-09 02:32:19.000000000,2021-04-09 02:32:19.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 02:47:28.000000000', 'files': ['templates/openstack_https_frontend.conf'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/4c7c98ab90b8a36b25c82fd76c9c773546895a3f', 'message': ""Refresh cipher suites and protocols\n\nThe last update was 2016, and it's time to drop TLSv1 and TLSv1.1 as the\nbase configuration recommended by Mozilla.\nhttps://wiki.mozilla.org/Security/Server_Side_TLS\n\nThis is equivalent to a charm-helper's change:\nhttps://github.com/juju/charm-helpers/commit/27d6ceb385e44a0610c1a6aba8e225368c4af384\n\nCloses-Bug: #1886630\nChange-Id: Ia8cb1ad7417014fbc20178ccc598117c97a34188\n""}]",0,783589,4c7c98ab90b8a36b25c82fd76c9c773546895a3f,15,3,1,8108,,,0,"Refresh cipher suites and protocols

The last update was 2016, and it's time to drop TLSv1 and TLSv1.1 as the
base configuration recommended by Mozilla.
https://wiki.mozilla.org/Security/Server_Side_TLS

This is equivalent to a charm-helper's change:
https://github.com/juju/charm-helpers/commit/27d6ceb385e44a0610c1a6aba8e225368c4af384

Closes-Bug: #1886630
Change-Id: Ia8cb1ad7417014fbc20178ccc598117c97a34188
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/89/783589/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/openstack_https_frontend.conf'],1,4c7c98ab90b8a36b25c82fd76c9c773546895a3f,bug/1886630," # This section is based on Mozilla's recommendation # as the ""intermediate"" profile as of July 7th, 2020. # https://wiki.mozilla.org/Security/Server_Side_TLS SSLProtocol all -SSLv3 -TLSv1 -TLSv1.1 SSLCipherSuite ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384 SSLHonorCipherOrder off ", SSLProtocol +TLSv1 +TLSv1.1 +TLSv1.2 SSLCipherSuite HIGH:!RC4:!MD5:!aNULL:!eNULL:!EXP:!LOW:!MEDIUM,8,2
openstack%2Fnova~master~I3878fb9f36bb05dbb949f137a5d5c6664a27b69f,openstack/nova,master,I3878fb9f36bb05dbb949f137a5d5c6664a27b69f,trivial: fix word duplication in api ref,MERGED,2021-03-22 08:25:54.000000000,2021-04-09 01:58:33.000000000,2021-04-09 01:55:36.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-22 08:25:54.000000000', 'files': ['api-ref/source/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/559404c23b0109dd72b51d792f1921a1ee0a590e', 'message': 'trivial: fix word duplication in api ref\n\nChange-Id: I3878fb9f36bb05dbb949f137a5d5c6664a27b69f\nCloses-Bug: #1920256\n'}]",0,782028,559404c23b0109dd72b51d792f1921a1ee0a590e,12,6,1,9708,,,0,"trivial: fix word duplication in api ref

Change-Id: I3878fb9f36bb05dbb949f137a5d5c6664a27b69f
Closes-Bug: #1920256
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/782028/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/parameters.yaml'],1,559404c23b0109dd72b51d792f1921a1ee0a590e,bug/1920256, sorting direction of the flavor ``sort_key`` attribute. sorting direction of the server ``sort_key`` attribute., sorting direction of the direction of the flavor ``sort_key`` attribute. sorting direction of the direction of the server ``sort_key`` attribute.,2,2
openstack%2Fnova~master~Iba40c2df72228b461767d5734d5a62403d9f2cfa,openstack/nova,master,Iba40c2df72228b461767d5734d5a62403d9f2cfa,libvirt: Simplify device_path check in _detach_encryptor,MERGED,2021-03-03 13:48:37.000000000,2021-04-09 01:57:20.000000000,2021-04-09 01:55:13.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-03 13:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89f0491ea5a524a2b2b4518bde71962285f5f1b5', 'message': 'libvirt: Simplify device_path check in _detach_encryptor\n\nIntroduced by Id670f13a7f197e71c77dc91276fc2fba2fc5f314 to resolve bug\n #1821696 this check was put in place to ensure _detach_encryptor did not\nattempt to use the os-brick encryptors with an unsupported volume type\nafter libvirt secrets had been removed outside the control of Nova.\n\nWith the introduction of the [workarounds]disable_native_luksv1 via\nIa500eb614cf575ab846f64f4b69c9068274c8c1f however the use of\n_allow_native_luksv1 as part of this check is no longer valid. As this\nhelper was updated to return False when the workaround is enabled,\nregardless of the underlying volume being attached natively or not.\n\nIf an admin had enabled the workaround after users had launched\ninstances with natively attached encrypted volumes *and* the libvirt\nsecrets had gone missing _detach_encryptor would attempt to use the\nos-brick encryptors. This would fail when the underlying volume type is\nunsupported, for example rbd. See bug #1917619 for an example.\n\nThis change resolves this corner case by dropping the use of\n_allow_native_luksv1 from the check and just asserting that a\ndevice_path is present for an encrypted volume before allowing the use\nof the os-brick encryptors.\n\nCloses-Bug: #1917619\nChange-Id: Iba40c2df72228b461767d5734d5a62403d9f2cfa\n'}, {'number': 2, 'created': '2021-03-03 14:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5db8ecbe1f114595213ec3d514086daa71f4e0c6', 'message': 'libvirt: Simplify device_path check in _detach_encryptor\n\nIntroduced by Id670f13a7f197e71c77dc91276fc2fba2fc5f314 to resolve bug\n #1821696 this check was put in place to ensure _detach_encryptor did not\nattempt to use the os-brick encryptors with an unsupported volume type\nafter libvirt secrets had been removed outside the control of Nova.\n\nWith the introduction of the [workarounds]disable_native_luksv1 via\nIa500eb614cf575ab846f64f4b69c9068274c8c1f however the use of\n_allow_native_luksv1 as part of this check is no longer valid. As this\nhelper was updated to return False when the workaround is enabled,\nregardless of the underlying volume being attached natively or not.\n\nIf an admin had enabled the workaround after users had launched\ninstances with natively attached encrypted volumes *and* the libvirt\nsecrets had gone missing _detach_encryptor would attempt to use the\nos-brick encryptors. This would fail when the underlying volume type is\nunsupported, for example rbd. See bug #1917619 for an example.\n\nThis change resolves this corner case by dropping the use of\n_allow_native_luksv1 from the check and just asserting that a\ndevice_path is present for an encrypted volume before allowing the use\nof the os-brick encryptors. As noted this is safe as calls to the\nencryptors are idempotent, ignoring failures to detach when the\nunderlying volume type is supported.\n\nCloses-Bug: #1917619\nChange-Id: Iba40c2df72228b461767d5734d5a62403d9f2cfa\n'}, {'number': 3, 'created': '2021-03-23 12:38:40.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4908daed96ddda492ced6cbb084abe8f33a8b1f7', 'message': 'libvirt: Simplify device_path check in _detach_encryptor\n\nIntroduced by Id670f13a7f197e71c77dc91276fc2fba2fc5f314 to resolve bug\n #1821696 this check was put in place to ensure _detach_encryptor did not\nattempt to use the os-brick encryptors with an unsupported volume type\nafter libvirt secrets had been removed outside the control of Nova.\n\nWith the introduction of the [workarounds]disable_native_luksv1 via\nIa500eb614cf575ab846f64f4b69c9068274c8c1f however the use of\n_allow_native_luksv1 as part of this check is no longer valid. As this\nhelper was updated to return False when the workaround is enabled,\nregardless of the underlying volume being attached natively or not.\n\nIf an admin had enabled the workaround after users had launched\ninstances with natively attached encrypted volumes *and* the libvirt\nsecrets had gone missing _detach_encryptor would attempt to use the\nos-brick encryptors. This would fail when the underlying volume type is\nunsupported, for example rbd. See bug #1917619 for an example.\n\nThis change resolves this corner case by dropping the use of\n_allow_native_luksv1 from the check and just asserting that a\ndevice_path is present for an encrypted volume before allowing the use\nof the os-brick encryptors. As noted this is safe as calls to the\nencryptors are idempotent, ignoring failures to detach when the\nunderlying volume type is supported.\n\nCloses-Bug: #1917619\nChange-Id: Iba40c2df72228b461767d5734d5a62403d9f2cfa\n'}]",1,778463,4908daed96ddda492ced6cbb084abe8f33a8b1f7,20,3,3,10135,,,0,"libvirt: Simplify device_path check in _detach_encryptor

Introduced by Id670f13a7f197e71c77dc91276fc2fba2fc5f314 to resolve bug
 #1821696 this check was put in place to ensure _detach_encryptor did not
attempt to use the os-brick encryptors with an unsupported volume type
after libvirt secrets had been removed outside the control of Nova.

With the introduction of the [workarounds]disable_native_luksv1 via
Ia500eb614cf575ab846f64f4b69c9068274c8c1f however the use of
_allow_native_luksv1 as part of this check is no longer valid. As this
helper was updated to return False when the workaround is enabled,
regardless of the underlying volume being attached natively or not.

If an admin had enabled the workaround after users had launched
instances with natively attached encrypted volumes *and* the libvirt
secrets had gone missing _detach_encryptor would attempt to use the
os-brick encryptors. This would fail when the underlying volume type is
unsupported, for example rbd. See bug #1917619 for an example.

This change resolves this corner case by dropping the use of
_allow_native_luksv1 from the check and just asserting that a
device_path is present for an encrypted volume before allowing the use
of the os-brick encryptors. As noted this is safe as calls to the
encryptors are idempotent, ignoring failures to detach when the
underlying volume type is supported.

Closes-Bug: #1917619
Change-Id: Iba40c2df72228b461767d5734d5a62403d9f2cfa
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/778463/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,89f0491ea5a524a2b2b4518bde71962285f5f1b5,bug/1917619," def test_detach_encryptor_encrypted_volume_meta_missing( self, mock_get_encryptor, mock_get_metadata ): connection_info = { 'data': { 'device_path': '/dev/foo', 'volume_id': uuids.volume_id } } def test_detach_encryptor_encrypted_volume_meta_provided( self, mock_get_encryptor, mock_get_metadata ): connection_info = { 'data': { 'device_path': '/dev/foo', 'volume_id': uuids.volume_id } } def test_detach_encryptor_native_luks_device_path_secret_missing( self, mock_get_encryptor, mock_find_secret ): """"""Assert that the encryptor is not built when the associated volume secret is missing and device_path is also missing from the connection_info."," @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._allow_native_luksv1') def test_detach_encryptor_encrypted_volume_meta_missing(self, mock_allow_native_luksv1, mock_get_encryptor, mock_get_metadata): connection_info = {'data': {'volume_id': uuids.volume_id}} mock_allow_native_luksv1.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._allow_native_luksv1') def test_detach_encryptor_encrypted_volume_meta_provided(self, mock_allow_native_luksv1, mock_get_encryptor, mock_get_metadata): connection_info = {'data': {'volume_id': uuids.volume_id}} mock_allow_native_luksv1.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._allow_native_luksv1') def test_detach_encryptor_native_luks_device_path_secret_missing(self, mock_get_encryptor, mock_allow_native_luksv1, mock_find_secret): """"""Assert that the encryptor is not built when native LUKS is available, the associated volume secret is missing and device_path is also missing from the connection_info. mock_allow_native_luksv1.return_value = True",37,24
openstack%2Ftripleo-common~master~I4b0b90d196bed2025e2111a813d0c0dfa1c7fedc,openstack/tripleo-common,master,I4b0b90d196bed2025e2111a813d0c0dfa1c7fedc,Don't use tripleo_hostname tag,MERGED,2021-03-29 16:19:23.000000000,2021-04-09 01:41:58.000000000,2021-04-09 01:40:13.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-29 16:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6356d716aa2ef7e4ee486c0a1b94de79877b48a7', 'message': 'Don\'t use tripleo_hostname tag\n\nThe tags field in neutron has a max length of\n60 characters. A hostname can be longer, and in\nthe case it is longer adding the tag will cause\na ""Invalid input exceeds maximum length of 60""\nerror will be raised.\n\nUse the \'dns_name\' field instead of the custom tag.\n\nRelated-Bug: #1921713\nChange-Id: I4b0b90d196bed2025e2111a813d0c0dfa1c7fedc\n'}, {'number': 2, 'created': '2021-03-31 12:26:29.000000000', 'files': ['tripleo_common/tests/fake_neutron/fakes.py', 'tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/08addb94890693243909fd7cec99137a5c34331e', 'message': 'Don\'t use tripleo_hostname tag\n\nThe tags field in neutron has a max length of\n60 characters. A hostname can be longer, and in\nthe case it is longer adding the tag will cause\na ""Invalid input exceeds maximum length of 60""\nerror will be raised.\n\nUse the \'dns_name\' field instead of the custom tag.\n\nRelated-Bug: #1921713\nChange-Id: I4b0b90d196bed2025e2111a813d0c0dfa1c7fedc\n'}]",2,783702,08addb94890693243909fd7cec99137a5c34331e,18,6,2,24245,,,0,"Don't use tripleo_hostname tag

The tags field in neutron has a max length of
60 characters. A hostname can be longer, and in
the case it is longer adding the tag will cause
a ""Invalid input exceeds maximum length of 60""
error will be raised.

Use the 'dns_name' field instead of the custom tag.

Related-Bug: #1921713
Change-Id: I4b0b90d196bed2025e2111a813d0c0dfa1c7fedc
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/02/783702/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/fake_neutron/fakes.py', 'tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",3,6356d716aa2ef7e4ee486c0a1b94de79877b48a7,bug/1921713," 'tags': {'tripleo_network_name': 'ctlplane', 'tags': {'tripleo_network_name': 'InternalApi', 'tags': {'tripleo_network_name': 'ctlplane', 'tags': {'tripleo_network_name': 'InternalApi', 'tags': {'tripleo_network_name': 'ctlplane', 'tags': {'tripleo_network_name': 'InternalApi',"," 'tags': {'tripleo_hostname': 'c-0', 'tripleo_network_name': 'ctlplane', 'tags': {'tripleo_hostname': 'c-0', 'tripleo_network_name': 'InternalApi', 'tags': {'tripleo_hostname': 'c-1', 'tripleo_network_name': 'ctlplane', 'tags': {'tripleo_hostname': 'c-1', 'tripleo_network_name': 'InternalApi', 'tags': {'tripleo_hostname': 'cp-0', 'tripleo_network_name': 'ctlplane', 'tags': {'tripleo_hostname': 'cp-0', 'tripleo_network_name': 'InternalApi',",26,32
openstack%2Ftripleo-heat-templates~master~I8cb69256e57f20dd1050f99fa305c56f22435bc2,openstack/tripleo-heat-templates,master,I8cb69256e57f20dd1050f99fa305c56f22435bc2,Move Ceph services to linux-system-roles.certificate,MERGED,2021-04-03 13:12:53.000000000,2021-04-09 01:40:34.000000000,2021-04-09 01:40:34.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-03 13:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b8b86cc6fbef137a64fc6358849cdc85dc418ad', 'message': 'Move Ceph services to linux-system-roles.certificate\n\nWhen Ceph is deployed by cephadm and tls-everywhere is enabled,\nall the related certificates and keys should be created by TripleO.\nFor this reason, this change aligns these services to use the role [1]\nfor key and cert generation.\n\n[1] https://github.com/linux-system-roles/certificate\n\nChange-Id: I8cb69256e57f20dd1050f99fa305c56f22435bc2\n'}, {'number': 2, 'created': '2021-04-03 15:59:57.000000000', 'files': ['deployment/cephadm/ceph-rgw.yaml', 'deployment/cephadm/ceph-grafana.yaml', 'deployment/cephadm/ceph-mgr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1954c3b2514349296621e47a43dda0991f4722c7', 'message': 'Move Ceph services to linux-system-roles.certificate\n\nWhen Ceph is deployed by cephadm and tls-everywhere is enabled,\nall the related certificates and keys should be created by TripleO.\nFor this reason, this change aligns these services to use the role [1]\nfor key and cert generation.\n\n[1] https://github.com/linux-system-roles/certificate\n\nChange-Id: I8cb69256e57f20dd1050f99fa305c56f22435bc2\n'}]",0,784626,1954c3b2514349296621e47a43dda0991f4722c7,18,9,2,25402,,,0,"Move Ceph services to linux-system-roles.certificate

When Ceph is deployed by cephadm and tls-everywhere is enabled,
all the related certificates and keys should be created by TripleO.
For this reason, this change aligns these services to use the role [1]
for key and cert generation.

[1] https://github.com/linux-system-roles/certificate

Change-Id: I8cb69256e57f20dd1050f99fa305c56f22435bc2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/784626/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cephadm/ceph-rgw.yaml', 'deployment/cephadm/ceph-grafana.yaml', 'deployment/cephadm/ceph-mgr.yaml']",3,3b8b86cc6fbef137a64fc6358849cdc85dc418ad,," deploy_steps_tasks: - name: Certificate generation when: - step|int == 1 - enable_internal_tls block: - include_role: name: linux-system-roles.certificate vars: certificate_requests: - name: ceph_dashboard dns: str_replace: template: ""{{fqdn_$NETWORK}}"" params: $NETWORK: {get_param: [ServiceNetMap, CephDashboardNetwork]} principal: str_replace: template: ""ceph_dashboard/{{fqdn_$NETWORK}}@{{idm_realm}}"" params: $NETWORK: {get_param: [ServiceNetMap, CephDashboardNetwork]} run_after: | # Get mgr systemd unit mgr_unit=$(systemctl list-units | awk '/ceph-mgr/ {print $1}') # Restart the mgr systemd unit if [ -n ""$mgr_unit"" ]; then systemctl restart ""$mgr_unit"" fi key_size: if: - key_size_override_unset - {get_param: CertificateKeySize} - {get_param: CephCertificateKeySize} ca: ipa"," config_settings: map_merge: - if: - internal_tls_enabled - ceph_dashboard_certificate_specs: service_certificate: '/etc/pki/tls/certs/ceph_dashboard.crt' service_key: '/etc/pki/tls/private/ceph_dashboard.key' hostname: str_replace: template: ""%{hiera('fqdn_NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, CephDashboardNetwork]} principal: str_replace: template: ""ceph_dashboard/%{hiera('fqdn_NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, CephDashboardNetwork]} postsave_cmd: ""/usr/bin/certmonger-dashboard-refresh.sh"" key_size: if: - key_size_override_unset - {get_param: CertificateKeySize} - {get_param: CephCertificateKeySize} - {}",107,76
openstack%2Ftripleo-heat-templates~master~I72fd4a9575482389900145a03a6142cccd1111ba,openstack/tripleo-heat-templates,master,I72fd4a9575482389900145a03a6142cccd1111ba,Remove tripleo_hostname tag,MERGED,2021-03-29 16:20:31.000000000,2021-04-09 01:40:04.000000000,2021-04-09 01:40:04.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-29 16:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/001a1ee253a3325b7617e589754e1e44be9f6d45', 'message': 'Remove tripleo_hostname tag\n\nThe tags field in neutron has a max length of\n60 characters. A hostname can be longer, and in\nthe case it is longer adding the tag will cause\na ""Invalid input exceeds maximum length of 60""\nerror will be raised.\n\nRelated-Bug: #1921713\nChange-Id: I72fd4a9575482389900145a03a6142cccd1111ba\n'}, {'number': 2, 'created': '2021-03-30 10:50:59.000000000', 'files': ['network/ports/port.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b40d5d70277f1cc499d413ee12564e310d12f8d5', 'message': 'Remove tripleo_hostname tag\n\nThe tags field in neutron has a max length of\n60 characters. A hostname can be longer, and in\nthe case it is longer adding the tag will cause\na ""Invalid input exceeds maximum length of 60""\nerror will be raised.\n\nRelated-Bug: #1921713\nChange-Id: I72fd4a9575482389900145a03a6142cccd1111ba\n'}]",3,783704,b40d5d70277f1cc499d413ee12564e310d12f8d5,17,7,2,24245,,,0,"Remove tripleo_hostname tag

The tags field in neutron has a max length of
60 characters. A hostname can be longer, and in
the case it is longer adding the tag will cause
a ""Invalid input exceeds maximum length of 60""
error will be raised.

Related-Bug: #1921713
Change-Id: I72fd4a9575482389900145a03a6142cccd1111ba
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/783704/1 && git format-patch -1 --stdout FETCH_HEAD,['network/ports/port.j2'],1,001a1ee253a3325b7617e589754e1e44be9f6d45,bug/1921713,, template: tripleo_hostname=$HOSTNAME params: $HOSTNAME: {get_param: DnsName} - str_replace:,0,4
openstack%2Ftripleo-heat-templates~master~I0ed0d6657622100480721f7e4ca14e39944ce292,openstack/tripleo-heat-templates,master,I0ed0d6657622100480721f7e4ca14e39944ce292,Fix some template conditions,MERGED,2021-04-06 10:07:59.000000000,2021-04-09 01:39:43.000000000,2021-04-09 01:39:43.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-06 10:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06e530fe8f4c965273fee2212e6267601d4b943e', 'message': ""Fix some template conditions\n\nRegressions from Ic77ed56c32c7071ce126a1528030094b97894653\nand I685ec7d7c583c9f8d9f04b0f1027136ed042487c.\n'if' can't be used for a key in a map. If specified for\na value the key would be ignored.\n\nChange-Id: I0ed0d6657622100480721f7e4ca14e39944ce292\n""}, {'number': 2, 'created': '2021-04-06 10:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/674629c358ad65ee62225700a5fe4c24843cd3a6', 'message': ""Fix some template conditions\n\nRegressions from Ic77ed56c32c7071ce126a1528030094b97894653\nand I685ec7d7c583c9f8d9f04b0f1027136ed042487c.\n'if' can't be used for a key in a map. If specified for\na value the key would be ignored.\n\nChange-Id: I0ed0d6657622100480721f7e4ca14e39944ce292\n""}, {'number': 3, 'created': '2021-04-06 10:36:52.000000000', 'files': ['deployment/heat/heat-base-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95bc75aaf24e03de61157aa095ac81d9d85f31f1', 'message': ""Fix some template conditions\n\nRegressions from Ic77ed56c32c7071ce126a1528030094b97894653\nand I685ec7d7c583c9f8d9f04b0f1027136ed042487c.\n'if' can't be used for a key in a map. If specified for\na value the key would be ignored.\n\nChange-Id: I0ed0d6657622100480721f7e4ca14e39944ce292\n""}]",0,784911,95bc75aaf24e03de61157aa095ac81d9d85f31f1,13,4,3,8833,,,0,"Fix some template conditions

Regressions from Ic77ed56c32c7071ce126a1528030094b97894653
and I685ec7d7c583c9f8d9f04b0f1027136ed042487c.
'if' can't be used for a key in a map. If specified for
a value the key would be ignored.

Change-Id: I0ed0d6657622100480721f7e4ca14e39944ce292
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/784911/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/heat/heat-base-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml']",4,06e530fe8f4c965273fee2212e6267601d4b943e,simplify_tht, - if: - heat_workers_set - heat::wsgi::apache_api_cfn::workers: {get_param: HeatWorkers}, if: - heat_workers_set - heat::wsgi::apache_api_cfn::workers: {get_param: HeatWorkers},8,10
openstack%2Ftripleo-heat-templates~master~I520d32488f3300ebe895040c2cd5f0acc0c0d386,openstack/tripleo-heat-templates,master,I520d32488f3300ebe895040c2cd5f0acc0c0d386,Simplify ceilometer service template conditions,MERGED,2021-03-19 10:49:55.000000000,2021-04-09 01:39:19.000000000,2021-04-09 01:39:19.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-19 10:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ac189b31bfba276ddbaebe11bac89b2308c7ccd', 'message': 'Remove leftover ceilometer_qdr_publish condition\n\nParameter removed with Ieb3d97c3e2c3190607902227980e1ef4a1de2c8e\nwhen ceilometer notification agent stuff was moved out.\n\nChange-Id: I520d32488f3300ebe895040c2cd5f0acc0c0d386\n'}, {'number': 2, 'created': '2021-03-23 04:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bded99e26df644d67418d8f0e1a5f97b520427e1', 'message': 'Remove leftover ceilometer_qdr_publish condition\n\nParameter removed with Ieb3d97c3e2c3190607902227980e1ef4a1de2c8e\nwhen ceilometer notification agent stuff was moved out.\n\nChange-Id: I520d32488f3300ebe895040c2cd5f0acc0c0d386\n'}, {'number': 3, 'created': '2021-04-06 03:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e554b4bb4f1ec6138f4616de4b5ffbc2b5e47a75', 'message': 'Simplify ceilometer service template conditions\n\nAlso removes leftover ceilometer_qdr_publish condition.\n\nChange-Id: I520d32488f3300ebe895040c2cd5f0acc0c0d386\n'}, {'number': 4, 'created': '2021-04-06 04:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95bf4b25213d526bb35e38bf3078d4e6dd15674f', 'message': 'Simplify ceilometer service template conditions\n\nAlso removes leftover ceilometer_qdr_publish condition.\n\nChange-Id: I520d32488f3300ebe895040c2cd5f0acc0c0d386\n'}, {'number': 5, 'created': '2021-04-06 07:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9496e85ad53b70d64af1fa5323434302f7152c6d', 'message': 'Simplify ceilometer service template conditions\n\nAlso removes leftover ceilometer_qdr_publish condition.\n\nChange-Id: I520d32488f3300ebe895040c2cd5f0acc0c0d386\n'}, {'number': 6, 'created': '2021-04-06 10:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/22cebfce23bd16196aadc675adcbe9e16d87ad41', 'message': 'Simplify ceilometer service template conditions\n\nAlso removes leftover ceilometer_qdr_publish condition.\n\nChange-Id: I520d32488f3300ebe895040c2cd5f0acc0c0d386\n'}, {'number': 7, 'created': '2021-04-06 10:36:52.000000000', 'files': ['deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ed29643b99ff99b7b4f4e1c96cd269d7c07f822', 'message': 'Simplify ceilometer service template conditions\n\nAlso removes leftover ceilometer_qdr_publish condition.\n\nChange-Id: I520d32488f3300ebe895040c2cd5f0acc0c0d386\n'}]",10,781622,3ed29643b99ff99b7b4f4e1c96cd269d7c07f822,35,7,7,8833,,,0,"Simplify ceilometer service template conditions

Also removes leftover ceilometer_qdr_publish condition.

Change-Id: I520d32488f3300ebe895040c2cd5f0acc0c0d386
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/781622/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceilometer/ceilometer-base-container-puppet.yaml'],1,8ac189b31bfba276ddbaebe11bac89b2308c7ccd,simplify_tht,," ceilometer_qdr_publish: {equals: [{get_param: CeilometerQdrPublish}, true]}",0,1
openstack%2Ftripleo-heat-templates~master~I799c4d60a674af965971c763e437e4f7987b0dff,openstack/tripleo-heat-templates,master,I799c4d60a674af965971c763e437e4f7987b0dff,Simplify conditions in barbican service templates,MERGED,2021-04-05 03:33:26.000000000,2021-04-09 01:39:10.000000000,2021-04-09 01:39:10.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-05 03:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f6570b661eb8f3fe173bc3c2c630bfb241b9145', 'message': 'Simplify conditions in barbican service templates\n\nChange-Id: I799c4d60a674af965971c763e437e4f7987b0dff\n'}, {'number': 2, 'created': '2021-04-05 06:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/800c07806645340312ec4b74b4fc3c73e2213641', 'message': 'Simplify conditions in barbican service templates\n\nChange-Id: I799c4d60a674af965971c763e437e4f7987b0dff\n'}, {'number': 3, 'created': '2021-04-05 10:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd1ee6ba5f294b12133dea1778f62c910b49134d', 'message': 'Simplify conditions in barbican service templates\n\nChange-Id: I799c4d60a674af965971c763e437e4f7987b0dff\n'}, {'number': 4, 'created': '2021-04-06 10:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b34e518da61e9db56afc9560ebcc9a9e612e8516', 'message': 'Simplify conditions in barbican service templates\n\nChange-Id: I799c4d60a674af965971c763e437e4f7987b0dff\n'}, {'number': 5, 'created': '2021-04-06 10:36:52.000000000', 'files': ['deployment/barbican/barbican-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06efcbbd1ff8987070cbf007b43b05b542549292', 'message': 'Simplify conditions in barbican service templates\n\nChange-Id: I799c4d60a674af965971c763e437e4f7987b0dff\n'}]",0,784725,06efcbbd1ff8987070cbf007b43b05b542549292,25,5,5,8833,,,0,"Simplify conditions in barbican service templates

Change-Id: I799c4d60a674af965971c763e437e4f7987b0dff
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/784725/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/barbican/barbican-api-container-puppet.yaml'],1,0f6570b661eb8f3fe173bc3c2c630bfb241b9145,simplify_tht, - {get_param: BarbicanPkcs11CryptoThalesEnabled} - {get_param: BarbicanPkcs11CryptoATOSEnabled} - {get_param: BarbicanPkcs11CryptoLunasaEnabled} - {get_param: EnableSQLAlchemyCollectd} - read_default_file: /etc/my.cnf.d/tripleo.cnf read_default_group: tripleo plugin: collectd collectd_program_name: barbican collectd_host: localhost - read_default_file: /etc/my.cnf.d/tripleo.cnf read_default_group: tripleo - {get_param: BarbicanPkcs11CryptoThalesEnabled} - - name: Add ip addresses to the RFS server - if: - {get_param: BarbicanPkcs11CryptoThalesEnabled} - - name: Thales client install - if: - {get_param: BarbicanPkcs11CryptoATOSEnabled} - - name: ATOS client install - if: - {get_param: BarbicanPkcs11CryptoLunasaEnabled} - - name: Lunasa client install - {get_param: BarbicanPkcs11CryptoATOSEnabled} - {get_param: BarbicanPkcs11CryptoEnabled} - - /var/lib/config-data/barbican/etc/barbican/:/etc/barbican/:ro - if: - {get_param: BarbicanPkcs11CryptoThalesEnabled} - - /lib64/libnsl.so.1:/lib64/libnsl.so.1 - if: - {get_param: BarbicanPkcs11CryptoATOSEnabled} - - /etc/proteccio:/etc/proteccio - if: - {get_param: BarbicanPkcs11CryptoLunasaEnabled} - - /etc/Chrystoki.conf:/etc/Chrystoki.conf - if: - {get_param: BarbicanPkcs11CryptoEnabled} - {get_param: BarbicanPkcs11CryptoThalesEnabled} - if: - {get_param: BarbicanPkcs11CryptoThalesEnabled} - {get_param: BarbicanPkcs11CryptoRewrapKeys} - if: - {get_param: EnableInternalTLS} - - /etc/pki/tls/certs/httpd:/etc/pki/tls/certs/httpd:ro - if: - {get_param: BarbicanPkcs11CryptoThalesEnabled} - - /lib64/libnsl.so.1:/lib64/libnsl.so.1 - if: - {get_param: BarbicanPkcs11CryptoATOSEnabled} - - /etc/proteccio:/etc/proteccio - if: - {get_param: BarbicanPkcs11CryptoLunasaEnabled} - - /etc/Chrystoki.conf:/etc/Chrystoki.conf - - /var/lib/kolla/config_files/barbican_worker.json:/var/lib/kolla/config_files/config.json:ro - if: - {get_param: BarbicanPkcs11CryptoThalesEnabled} - - /lib64/libnsl.so.1:/lib64/libnsl.so.1 - if: - {get_param: BarbicanPkcs11CryptoATOSEnabled} - - /etc/proteccio:/etc/proteccio - if: - {get_param: BarbicanPkcs11CryptoLunasaEnabled} - - /etc/Chrystoki.conf:/etc/Chrystoki.conf - {get_param: BarbicanPkcs11CryptoLunasaEnabled} - - name: Remove HSM clients," internal_tls_enabled: {equals: [{get_param: EnableInternalTLS}, true]} thales_hsm_enabled: {equals: [{get_param: BarbicanPkcs11CryptoThalesEnabled}, true]} atos_hsm_enabled: {equals: [{get_param: BarbicanPkcs11CryptoATOSEnabled}, true]} lunasa_hsm_enabled: {equals: [{get_param: BarbicanPkcs11CryptoLunasaEnabled}, true]} - thales_hsm_enabled - atos_hsm_enabled - lunasa_hsm_enabled pkcs11_plugin_enabled: {equals: [{get_param: BarbicanPkcs11CryptoEnabled}, true]} pkcs11_rewrap_pkeks: {equals: [{get_param: BarbicanPkcs11CryptoRewrapKeys}, true]} enable_sqlalchemy_collectd: {equals : [{get_param: EnableSQLAlchemyCollectd}, true]} - enable_sqlalchemy_collectd - read_default_file: /etc/my.cnf.d/tripleo.cnf read_default_group: tripleo plugin: collectd collectd_program_name: barbican collectd_host: localhost - read_default_file: /etc/my.cnf.d/tripleo.cnf read_default_group: tripleo - thales_hsm_enabled - - name: Add ip addresses to the RFS server - null - if: - thales_hsm_enabled - - name: Thales client install - null - if: - atos_hsm_enabled - - name: ATOS client install - null - if: - lunasa_hsm_enabled - - name: Lunasa client install - null - null - atos_hsm_enabled - pkcs11_plugin_enabled - - /var/lib/config-data/barbican/etc/barbican/:/etc/barbican/:ro - if: - thales_hsm_enabled - - /lib64/libnsl.so.1:/lib64/libnsl.so.1 - null - if: - atos_hsm_enabled - - /etc/proteccio:/etc/proteccio - null - if: - lunasa_hsm_enabled - - /etc/Chrystoki.conf:/etc/Chrystoki.conf - null - {} - if: - pkcs11_plugin_enabled - thales_hsm_enabled - {} - if: - thales_hsm_enabled - {} - pkcs11_rewrap_pkeks - {} - if: - internal_tls_enabled - - /etc/pki/tls/certs/httpd:/etc/pki/tls/certs/httpd:ro - null - if: - thales_hsm_enabled - - /lib64/libnsl.so.1:/lib64/libnsl.so.1 - null - if: - atos_hsm_enabled - - /etc/proteccio:/etc/proteccio - null - if: - lunasa_hsm_enabled - - /etc/Chrystoki.conf:/etc/Chrystoki.conf - null - - /var/lib/kolla/config_files/barbican_worker.json:/var/lib/kolla/config_files/config.json:ro - if: - thales_hsm_enabled - - /lib64/libnsl.so.1:/lib64/libnsl.so.1 - null - if: - atos_hsm_enabled - - /etc/proteccio:/etc/proteccio - null - if: - lunasa_hsm_enabled - - /etc/Chrystoki.conf:/etc/Chrystoki.conf - null - lunasa_hsm_enabled - - name: Remove HSM clients - null",62,121
openstack%2Fdevstack~stable%2Frocky~Ic0a7be9e91b78301b114687f6d6445207d2d9bb8,openstack/devstack,stable/rocky,Ic0a7be9e91b78301b114687f6d6445207d2d9bb8,DNM: testing gate,ABANDONED,2021-04-08 16:15:56.000000000,2021-04-09 01:23:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-08 16:15:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/12ce39e7a78b26e755ce3d2e8355800d0f2011f5', 'message': 'DNM: testing gate\n\nChange-Id: Ic0a7be9e91b78301b114687f6d6445207d2d9bb8\n'}]",0,785440,12ce39e7a78b26e755ce3d2e8355800d0f2011f5,3,1,1,8556,,,0,"DNM: testing gate

Change-Id: Ic0a7be9e91b78301b114687f6d6445207d2d9bb8
",git fetch https://review.opendev.org/openstack/devstack refs/changes/40/785440/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,12ce39e7a78b26e755ce3d2e8355800d0f2011f5,,#test gate,,1,0
openstack%2Fansible-collections-openstack~master~I8a10b36eef9a98fe1a4b43a7c6ce8986950154ad,openstack/ansible-collections-openstack,master,I8a10b36eef9a98fe1a4b43a7c6ce8986950154ad,Bump to dev version,MERGED,2021-04-08 21:23:37.000000000,2021-04-09 01:16:31.000000000,2021-04-09 01:16:31.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 21:23:37.000000000', 'files': ['galaxy.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f3e9c78c18a281259bd70526229fcd772ac78a59', 'message': 'Bump to dev version\n\nChange-Id: I8a10b36eef9a98fe1a4b43a7c6ce8986950154ad\n'}]",0,785516,f3e9c78c18a281259bd70526229fcd772ac78a59,6,2,1,10969,,,0,"Bump to dev version

Change-Id: I8a10b36eef9a98fe1a4b43a7c6ce8986950154ad
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/16/785516/1 && git format-patch -1 --stdout FETCH_HEAD,['galaxy.yml'],1,f3e9c78c18a281259bd70526229fcd772ac78a59,,version: 1.4.1-dev,version: 1.4.0,1,1
openstack%2Ftempest~master~Ie641d053d41bac3df2b3bbc9b16f32e02b44a9fb,openstack/tempest,master,Ie641d053d41bac3df2b3bbc9b16f32e02b44a9fb,DNM debugging,ABANDONED,2021-01-13 21:34:08.000000000,2021-04-08 23:53:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-13 21:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b83671ffe4b32a0c506fd660e148142d8ce9be80', 'message': 'DNM debugging\n\nChange-Id: Ie641d053d41bac3df2b3bbc9b16f32e02b44a9fb\n'}, {'number': 2, 'created': '2021-01-13 21:40:41.000000000', 'files': ['tempest/lib/common/ssh.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0b2637639c4cf626916ed4052511fcab0323c214', 'message': 'DNM debugging\n\nChange-Id: Ie641d053d41bac3df2b3bbc9b16f32e02b44a9fb\n'}]",0,770668,0b2637639c4cf626916ed4052511fcab0323c214,4,1,2,4690,,,0,"DNM debugging

Change-Id: Ie641d053d41bac3df2b3bbc9b16f32e02b44a9fb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/68/770668/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/common/ssh.py'],1,b83671ffe4b32a0c506fd660e148142d8ce9be80,ssh-debugging," "" with public key authentication: %s"", self.host, self.port, self.username, self.pkey)"," "" with public key authentication"", self.host, self.port, self.username)",2,2
openstack%2Ftripleo-heat-templates~master~I987b5b2213827f2802e86c8ed55ff6380ff34f2d,openstack/tripleo-heat-templates,master,I987b5b2213827f2802e86c8ed55ff6380ff34f2d,Set NeutronEnableDVR to False for OVN-HA,ABANDONED,2020-10-20 02:25:18.000000000,2021-04-08 23:37:00.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-20 02:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/145319fca767f861e8082bfdbda255a37a019d13', 'message': 'Set NeutronEnableDVR to False for OVN-HA\n\ndeployment/neutron/neutron-plugin-ml2-ovn.yaml sets DVR by default.\nWe need to explicitly mark the environment variable NeutronEnableDVR\nto False to disable DVR.\n\nFixed missed environmental file for baremetal service.\n\nChange-Id: I987b5b2213827f2802e86c8ed55ff6380ff34f2d\n'}, {'number': 2, 'created': '2021-04-08 14:52:30.000000000', 'files': ['environments/services-baremetal/neutron-ovn-ha.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d71b24549a2cf48c0373a68c7ba656a0bc474a7a', 'message': 'Set NeutronEnableDVR to False for OVN-HA\n\ndeployment/neutron/neutron-plugin-ml2-ovn.yaml sets DVR by default.\nWe need to explicitly mark the environment variable NeutronEnableDVR\nto False to disable DVR.\n\nFixed missed environmental file for baremetal service.\n\nChange-Id: I987b5b2213827f2802e86c8ed55ff6380ff34f2d\n'}]",2,758897,d71b24549a2cf48c0373a68c7ba656a0bc474a7a,7,3,2,16347,,,0,"Set NeutronEnableDVR to False for OVN-HA

deployment/neutron/neutron-plugin-ml2-ovn.yaml sets DVR by default.
We need to explicitly mark the environment variable NeutronEnableDVR
to False to disable DVR.

Fixed missed environmental file for baremetal service.

Change-Id: I987b5b2213827f2802e86c8ed55ff6380ff34f2d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/758897/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/services-baremetal/neutron-ovn-ha.yaml'],1,145319fca767f861e8082bfdbda255a37a019d13,, NeutronEnableDVR: false,,1,0
openstack%2Ftripleo-heat-templates~master~I1c1a49fdae6fb3e3ba15030eb762128c76f2a391,openstack/tripleo-heat-templates,master,I1c1a49fdae6fb3e3ba15030eb762128c76f2a391,Simplify apache service conditions,MERGED,2021-04-05 03:33:26.000000000,2021-04-08 23:05:59.000000000,2021-04-08 23:05:59.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-05 03:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d097d927217ba03aef5daa3b490026350d29f206', 'message': 'Simplify apache service conditions\n\nChange-Id: I1c1a49fdae6fb3e3ba15030eb762128c76f2a391\n'}, {'number': 2, 'created': '2021-04-05 06:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c01bc25d2491ac94b06bcdb4504924ff1f6b3728', 'message': 'Simplify apache service conditions\n\nChange-Id: I1c1a49fdae6fb3e3ba15030eb762128c76f2a391\n'}, {'number': 3, 'created': '2021-04-05 10:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/24d71ac6360a31f641b47222caccda6e62140ed9', 'message': 'Simplify apache service conditions\n\nChange-Id: I1c1a49fdae6fb3e3ba15030eb762128c76f2a391\n'}, {'number': 4, 'created': '2021-04-06 10:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/182fba712e09f00de192b67a69609f07551d38f0', 'message': 'Simplify apache service conditions\n\nChange-Id: I1c1a49fdae6fb3e3ba15030eb762128c76f2a391\n'}, {'number': 5, 'created': '2021-04-06 10:36:52.000000000', 'files': ['deployment/apache/apache-baremetal-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cefbfe418c9ed01b6ed41524a73d66009eab7cbc', 'message': 'Simplify apache service conditions\n\nChange-Id: I1c1a49fdae6fb3e3ba15030eb762128c76f2a391\n'}]",0,784724,cefbfe418c9ed01b6ed41524a73d66009eab7cbc,18,6,5,8833,,,0,"Simplify apache service conditions

Change-Id: I1c1a49fdae6fb3e3ba15030eb762128c76f2a391
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/784724/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/apache/apache-baremetal-puppet.j2.yaml'],1,d097d927217ba03aef5daa3b490026350d29f206,simplify_tht," key_size_override_set: not: {equals: [{get_param: ApacheCertificateKeySize}, '']} - apache::ip: - {get_param: EnableInternalTLS} - apache::mod::ssl::ssl_ca: {get_param: InternalTLSCAFile} - {get_param: EnableInternalTLS} - repeat: - key_size_override_set - {get_param: CertificateKeySize}"," internal_tls_enabled: {equals: [{get_param: EnableInternalTLS}, true]} key_size_override_unset: {equals: [{get_param: ApacheCertificateKeySize}, '']}{% raw -%} - apache::ip: - internal_tls_enabled - apache::mod::ssl::ssl_ca: {get_param: InternalTLSCAFile} - {} - internal_tls_enabled - repeat: - null - key_size_override_unset - {get_param: CertificateKeySize}{%- endraw %}",10,18
openstack%2Fswift~master~Ic2bc4efeba5ae5bc8881f0deaf4fd9e10213d3b7,openstack/swift,master,Ic2bc4efeba5ae5bc8881f0deaf4fd9e10213d3b7,probe test: use helper functions more widely,MERGED,2021-04-08 12:45:30.000000000,2021-04-08 22:23:55.000000000,2021-04-08 22:22:25.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 12:45:30.000000000', 'files': ['test/probe/common.py', 'test/probe/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/122840cc04cd71f0f0ae6a1fbd14d4fe5bf5596c', 'message': 'probe test: use helper functions more widely\n\nUse the recently added assert_subprocess_success [1] helper function\nmore widely.\n\nAdd run_custom_sharder helper.\n\nAdd container-sharder key to the ProbeTest.configs dict.\n\n[1] Related-Change: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3\n\nChange-Id: Ic2bc4efeba5ae5bc8881f0deaf4fd9e10213d3b7\n'}]",0,785405,122840cc04cd71f0f0ae6a1fbd14d4fe5bf5596c,7,2,1,7847,,,0,"probe test: use helper functions more widely

Use the recently added assert_subprocess_success [1] helper function
more widely.

Add run_custom_sharder helper.

Add container-sharder key to the ProbeTest.configs dict.

[1] Related-Change: I9ec411462e4aaf9f21aba6c5fd7698ff75a07de3

Change-Id: Ic2bc4efeba5ae5bc8881f0deaf4fd9e10213d3b7
",git fetch https://review.opendev.org/openstack/swift refs/changes/05/785405/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/common.py', 'test/probe/test_sharder.py']",2,122840cc04cd71f0f0ae6a1fbd14d4fe5bf5596c,p-probe-use-assert-subprocess," cont_configs = [ utils.readconf(p, 'container-sharder') for p in self.configs['container-sharder'].values()] def run_custom_sharder(self, conf_index, custom_conf, **kwargs): conf_file = self.configs['container-sharder'][conf_index] conf = utils.readconf(conf_file, 'container-sharder') conf.update(custom_conf) sharder = ContainerSharder(conf, logger=debug_logger('probe')) sharder.run_once(**kwargs) return sharder # put a new object 'alpha' in first shard range for conf_index in self.configs['container-sharder'].keys(): sharder = self.run_custom_sharder(conf_index, {}) self.assertEqual([], sharder.logger.get_lines_for_level('warning')) for conf_index in self.configs['container-sharder'].keys(): sharder = self.run_custom_sharder(conf_index, {'reclaim_age': 0}) warnings = sharder.logger.get_lines_for_level('warning') self.assert_subprocess_success([ 'find_and_replace', '2', '--enable']) self.assert_subprocess_success([ 'find_and_replace', '2', '--enable']) self.assert_subprocess_success([ '--yes']) self.assert_subprocess_success([ 'compact', '--yes', '--max-shrinking', '2']) self.assert_subprocess_success([ 'find_and_replace', '2', '--enable']) self.assert_subprocess_success([ 'find_and_replace', '3', '--enable']) self.assert_subprocess_success([ 'find_and_replace', '4', '--enable']) self.assert_subprocess_success([ 'find_and_replace', '3', '--enable']) self.assert_subprocess_success([ 'find_and_replace', '2', '--enable'])"," cont_configs = [utils.readconf(p, 'container-sharder') for p in self.configs['container-server'].values()] logger = debug_logger('probe') # not sure why this doesn't work like replicators? self.assertFalse(self.configs['container-sharder'].values()) sharder_conf_files = [] for server in Manager(['container-sharder']): sharder_conf_files.extend(server.conf_files()) for conf_file in sharder_conf_files: conf = utils.readconf(conf_file, 'container-sharder') ContainerSharder(conf, logger=logger).run_once() self.assertEqual([], logger.get_lines_for_level('warning')) for conf_file in sharder_conf_files: conf = utils.readconf(conf_file, 'container-sharder') logger = debug_logger('probe') conf['reclaim_age'] = 0 ContainerSharder(conf, logger=logger).run_once() warnings = logger.get_lines_for_level('warning') subprocess.check_output([ 'find_and_replace', '2', '--enable'], stderr=subprocess.STDOUT) subprocess.check_output([ 'find_and_replace', '2', '--enable'], stderr=subprocess.STDOUT) subprocess.check_output([ '--yes'], stderr=subprocess.STDOUT) subprocess.check_output([ 'compact', '--yes', '--max-shrinking', '2'], stderr=subprocess.STDOUT) subprocess.check_output([ 'find_and_replace', '2', '--enable'], stderr=subprocess.STDOUT) subprocess.check_output([ 'find_and_replace', '3', '--enable'], stderr=subprocess.STDOUT) subprocess.check_output([ 'find_and_replace', '4', '--enable'], stderr=subprocess.STDOUT) subprocess.check_output([ 'find_and_replace', '3', '--enable'], stderr=subprocess.STDOUT) subprocess.check_output([ 'find_and_replace', '2', '--enable'], stderr=subprocess.STDOUT)",40,42
openstack%2Fdevstack-tools~master~I46af013b85753bfdb3a0a3c4cedf261a8f53ecb2,openstack/devstack-tools,master,I46af013b85753bfdb3a0a3c4cedf261a8f53ecb2,Add console_scripts entry point,MERGED,2021-04-08 19:27:33.000000000,2021-04-08 22:12:45.000000000,2021-04-08 22:11:33.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:27:33.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/de912aef554f443b93aae2c5a76eacb40eef63ce', 'message': 'Add console_scripts entry point\n\ndsconf is a CLI utility, and it needs\nto be exposed as a console_script during\ninstallation.\n\nChange-Id: I46af013b85753bfdb3a0a3c4cedf261a8f53ecb2\n'}]",0,785502,de912aef554f443b93aae2c5a76eacb40eef63ce,8,2,1,16643,,,0,"Add console_scripts entry point

dsconf is a CLI utility, and it needs
to be exposed as a console_script during
installation.

Change-Id: I46af013b85753bfdb3a0a3c4cedf261a8f53ecb2
",git fetch https://review.opendev.org/openstack/devstack-tools refs/changes/02/785502/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,de912aef554f443b93aae2c5a76eacb40eef63ce,dsconf-fix, [entry_points] console_scripts = dsconf = devstack.cmd:main,,4,0
openstack%2Fnova~master~I212a2db8d71702d330b146dc6f871b402a309e74,openstack/nova,master,I212a2db8d71702d330b146dc6f871b402a309e74,compute: Reject requests to commit intermediary snapshot of an inactive instance,MERGED,2021-03-17 18:00:16.000000000,2021-04-08 22:06:49.000000000,2021-04-08 22:04:19.000000000,"[{'_account_id': 4690}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-17 18:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f16d5df594b7e0b5b6e9b5f33608e9f49fcf80d1', 'message': 'compute: Reject requests to commit active snapshot of an inactive instance\n\nIntroduced by I76eb2e4da027a13525314bd58264f482374d270d the\nos-assisted-volume-snapshots API is only implemented by the libvirt virt\ndriver and should only be called by c-vol as part of an orchestrated\nvolume snapshot creation or deletion workflow.\n\nWhile not documented clearly in the current api-ref there are code\ncomments within the compute API suggesting that this API can be called\nagainst a volume attached to an instance that is in *any* vm_state.\n\nThis however is not correct when deleting and in turn committing the\ncurrent active volume snapshot of an instance that is not running given\nthe current implementation within the libvirt driver. With a request to\nvirDomainBlockCommit being made that fails if the instance and\nunderlying domain is not running.\n\nAs adding support for an offline commit would be considered a new\nfeature and not something we could backport on the stable branches this\nchange seeks to ensure requests to commit an active volume snapshot from\nan inactive instance are rejected quickly and clearly by the compute API\nto the caller.\n\nCloses-Bug: #1919487\nChange-Id: I212a2db8d71702d330b146dc6f871b402a309e74\n'}, {'number': 2, 'created': '2021-03-18 11:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/659e9c5960ebceaf3d9d24aba7f6c7dbb433d38a', 'message': ""compute: Reject requests to commit intermediary snapshot of an inactive instance\n\nIntroduced by I76eb2e4da027a13525314bd58264f482374d270d the\nos-assisted-volume-snapshots API is only implemented by the libvirt virt\ndriver and should only be called by c-vol as part of an orchestrated\nremotefs based volume snapshot creation or deletion workflow.\n\nWhile not documented clearly in the current api-ref there are code\ncomments within the compute API suggesting that this API can be called\nagainst a volume attached to an instance that is in *any* vm_state.\n\nThis however is not correct when deleting and in turn committing an\nintermediary volume snapshot of an instance that is not running given\nthe current implementation within the libvirt driver. With a request to\nvirDomainBlockCommit being made that fails if the instance and\nunderlying domain is not running.\n\nAs adding support for an offline commit isn't trivial and would be\nconsidered a new feature and not something we could backport on the\nstable branches this change seeks to ensure requests to commit an active\nvolume snapshot from an inactive instance are rejected quickly and\nclearly by the compute API to the caller.\n\nCloses-Bug: #1919487\nChange-Id: I212a2db8d71702d330b146dc6f871b402a309e74\n""}, {'number': 3, 'created': '2021-03-19 11:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/715d75e6d78048851ce0f4af2359c959b86e2904', 'message': ""compute: Reject requests to commit intermediary snapshot of an inactive instance\n\nIntroduced by I76eb2e4da027a13525314bd58264f482374d270d the\nos-assisted-volume-snapshots API is only implemented by the libvirt virt\ndriver and should only be called by c-vol as part of an orchestrated\nremotefs based volume snapshot creation or deletion workflow.\n\nWhile not documented clearly in the current api-ref there are code\ncomments within the compute API suggesting that this API can be called\nagainst a volume attached to an instance that is in *any* vm_state.\n\nThis however is not correct when deleting and in turn committing an\nintermediary volume snapshot of an instance that is not running given\nthe current implementation within the libvirt driver. With a request to\nvirDomainBlockCommit being made that fails if the instance and\nunderlying domain is not running.\n\nAdding support for an offline commit isn't trivial and would be\nconsidered a new feature and not something we could backport on the\nstable branches. As such this change seeks to ensure requests to commit\nan intermediary volume snapshot from an inactive instance are rejected\nquickly and clearly by the compute API to the caller before we cast to\nthe compute.\n\nCloses-Bug: #1919487\nChange-Id: I212a2db8d71702d330b146dc6f871b402a309e74\n""}, {'number': 4, 'created': '2021-03-23 15:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f19636063d8e038610d6788aada389d468c423e', 'message': ""compute: Reject requests to commit intermediary snapshot of an inactive instance\n\nIntroduced by I76eb2e4da027a13525314bd58264f482374d270d the\nos-assisted-volume-snapshots API is only implemented by the libvirt virt\ndriver and should only be called by c-vol as part of an orchestrated\nremotefs based volume snapshot creation or deletion workflow.\n\nWhile not documented clearly in the current api-ref there are code\ncomments within the compute API suggesting that this API can be called\nagainst a volume attached to an instance that is in *any* vm_state.\n\nThis however is not correct when deleting and in turn committing an\nintermediary volume snapshot of an instance that is not running given\nthe current implementation within the libvirt driver. With a request to\nvirDomainBlockCommit being made that fails if the instance and\nunderlying domain is not running.\n\nAdding support for an offline commit isn't trivial and would be\nconsidered a new feature and not something we could backport on the\nstable branches. As such this change seeks to ensure requests to commit\nan intermediary volume snapshot from an inactive instance are rejected\nquickly and clearly by the compute API to the caller before we cast to\nthe compute.\n\nCloses-Bug: #1919487\nChange-Id: I212a2db8d71702d330b146dc6f871b402a309e74\n""}, {'number': 5, 'created': '2021-03-24 16:06:58.000000000', 'files': ['nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/99409375a03e6f923a8b6b00a5dd653bab74caaf', 'message': ""compute: Reject requests to commit intermediary snapshot of an inactive instance\n\nIntroduced by I76eb2e4da027a13525314bd58264f482374d270d the\nos-assisted-volume-snapshots API is only implemented by the libvirt virt\ndriver and should only be called by c-vol as part of an orchestrated\nremotefs based volume snapshot creation or deletion workflow.\n\nWhile not documented clearly in the current api-ref there are code\ncomments within the compute API suggesting that this API can be called\nagainst a volume attached to an instance that is in *any* vm_state.\n\nThis however is not correct when deleting and in turn committing an\nintermediary volume snapshot of an instance that is not running given\nthe current implementation within the libvirt driver. With a request to\nvirDomainBlockCommit being made that fails if the instance and\nunderlying domain is not running.\n\nAdding support for an offline commit isn't trivial and would be\nconsidered a new feature and not something we could backport on the\nstable branches. As such this change seeks to ensure requests to commit\nan intermediary volume snapshot from an inactive instance are rejected\nquickly and clearly by the compute API to the caller before we cast to\nthe compute.\n\nCloses-Bug: #1919487\nChange-Id: I212a2db8d71702d330b146dc6f871b402a309e74\n""}]",8,781138,99409375a03e6f923a8b6b00a5dd653bab74caaf,43,4,5,10135,,,0,"compute: Reject requests to commit intermediary snapshot of an inactive instance

Introduced by I76eb2e4da027a13525314bd58264f482374d270d the
os-assisted-volume-snapshots API is only implemented by the libvirt virt
driver and should only be called by c-vol as part of an orchestrated
remotefs based volume snapshot creation or deletion workflow.

While not documented clearly in the current api-ref there are code
comments within the compute API suggesting that this API can be called
against a volume attached to an instance that is in *any* vm_state.

This however is not correct when deleting and in turn committing an
intermediary volume snapshot of an instance that is not running given
the current implementation within the libvirt driver. With a request to
virDomainBlockCommit being made that fails if the instance and
underlying domain is not running.

Adding support for an offline commit isn't trivial and would be
considered a new feature and not something we could backport on the
stable branches. As such this change seeks to ensure requests to commit
an intermediary volume snapshot from an inactive instance are rejected
quickly and clearly by the compute API to the caller before we cast to
the compute.

Closes-Bug: #1919487
Change-Id: I212a2db8d71702d330b146dc6f871b402a309e74
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/781138/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']",2,f16d5df594b7e0b5b6e9b5f33608e9f49fcf80d1,bug/1919487," delete_info = { 'merge_target_file': 'foo.qcow2', } with mock.patch.object( self.compute_api.compute_rpcapi, 'volume_snapshot_delete' ) as mock_snapshot: self.compute_api.volume_snapshot_delete( self.context, volume_id, snapshot_id, delete_info ) self.context, fake_bdm['instance'], volume_id, snapshot_id, delete_info ) @mock.patch.object(compute_api.API, '_get_bdm_by_volume_id') def test_volume_snapshot_delete_inactive_commit(self, mock_get_bdm): volume_id = '1' snapshot_id = '2' fake_bdm = fake_block_device.FakeDbBlockDeviceDict({ 'id': 123, 'device_name': '/dev/sda2', 'source_type': 'volume', 'destination_type': 'volume', 'connection_info': ""{'fake': 'connection_info'}"", 'volume_id': 1, 'boot_index': -1}) fake_bdm['instance'] = fake_instance.fake_db_instance( launched_at=timeutils.utcnow(), vm_state=vm_states.STOPPED) fake_bdm['instance_uuid'] = fake_bdm['instance']['uuid'] fake_bdm = objects.BlockDeviceMapping._from_db_object( self.context, objects.BlockDeviceMapping(), fake_bdm, expected_attrs=['instance']) mock_get_bdm.return_value = fake_bdm delete_info = { 'merge_target_file': None } # Assert that the request is rejected as offline commit isn't supported self.assertRaises( exception.InstanceInvalidState, self.compute_api.volume_snapshot_delete, self.context, volume_id, snapshot_id, delete_info ) "," with mock.patch.object(self.compute_api.compute_rpcapi, 'volume_snapshot_delete') as mock_snapshot: self.compute_api.volume_snapshot_delete(self.context, volume_id, snapshot_id, {}) self.context, fake_bdm['instance'], volume_id, snapshot_id, {})",62,8
openstack%2Fhorizon~stable%2Fwallaby~I590ce3a5cbaa0ebb470228a7114a60ff89467835,openstack/horizon,stable/wallaby,I590ce3a5cbaa0ebb470228a7114a60ff89467835,"Move ""Domain"" field under ""User Name"" and ""Password""",MERGED,2021-04-07 10:16:39.000000000,2021-04-08 21:51:58.000000000,2021-04-08 21:50:45.000000000,"[{'_account_id': 841}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-07 10:16:39.000000000', 'files': ['openstack_auth/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/bb2a4bb3c4ef3eb7113388a06b9fd4f502db60bc', 'message': 'Move ""Domain"" field under ""User Name"" and ""Password""\n\nAutofocus on the login screen now is on the first field. It\'s either\n""User Name"" or ""Domain"" with multidomain support. However it appears\nto be more convenient to keep the focus on ""User Name"" whether there\nis multidomain support or not. Also ""Domain"" is pre-filled with the\nlast domain used, so often there\'s no need to change it.\n\nThis patch moves ""Domain"" field under ""User Name"" and ""Password"" and\nkeeps autofocus always on ""User Name"".\n\nCloses-Bug: #1916958\n\nChange-Id: I590ce3a5cbaa0ebb470228a7114a60ff89467835\n(cherry picked from commit b09e5b303c8ba0e967e5178794a39fcee628e4e0)\n'}]",0,785121,bb2a4bb3c4ef3eb7113388a06b9fd4f502db60bc,17,5,1,1736,,,0,"Move ""Domain"" field under ""User Name"" and ""Password""

Autofocus on the login screen now is on the first field. It's either
""User Name"" or ""Domain"" with multidomain support. However it appears
to be more convenient to keep the focus on ""User Name"" whether there
is multidomain support or not. Also ""Domain"" is pre-filled with the
last domain used, so often there's no need to change it.

This patch moves ""Domain"" field under ""User Name"" and ""Password"" and
keeps autofocus always on ""User Name"".

Closes-Bug: #1916958

Change-Id: I590ce3a5cbaa0ebb470228a7114a60ff89467835
(cherry picked from commit b09e5b303c8ba0e967e5178794a39fcee628e4e0)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/21/785121/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_auth/forms.py'],1,bb2a4bb3c4ef3eb7113388a06b9fd4f502db60bc,bug/1916958-stable/wallaby," label=_(""Domain"")) fields_ordering = ['username', 'password', 'domain', 'region']"," label=_(""Domain""), widget=forms.TextInput(attrs={""autofocus"": ""autofocus""})) self.fields['username'].widget = forms.widgets.TextInput() fields_ordering = ['domain', 'username', 'password', 'region']",2,4
openstack%2Fhorizon~stable%2Fwallaby~I02f88b6444d268253a3888e2ba56a33bb2f51e73,openstack/horizon,stable/wallaby,I02f88b6444d268253a3888e2ba56a33bb2f51e73,Replace Delete Force Volume Backup with Force Delete Volume Backup,MERGED,2021-04-07 13:11:23.000000000,2021-04-08 21:50:50.000000000,2021-04-08 21:49:37.000000000,"[{'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-07 13:11:23.000000000', 'files': ['openstack_dashboard/dashboards/admin/backups/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/0e47012a73d57379f39b525a2c03ae6d969b9390', 'message': 'Replace Delete Force Volume Backup with Force Delete Volume Backup\n\nThis patch replaces the Delete Force Volume Backup/Backups with\nForce Delete Volume Backup/Backups as Delete Force Volume Backup\nlooks incorrect. It also drops the usage of unicode prefix from\n``admin/backups/tables.py`` file.\n\nCloses-bug: #1919120\nChange-Id: I02f88b6444d268253a3888e2ba56a33bb2f51e73\n(cherry picked from commit 893d0c026eaca47f6d2821100fb9cf3e2d2e6843)\n'}]",0,785134,0e47012a73d57379f39b525a2c03ae6d969b9390,18,4,1,841,,,0,"Replace Delete Force Volume Backup with Force Delete Volume Backup

This patch replaces the Delete Force Volume Backup/Backups with
Force Delete Volume Backup/Backups as Delete Force Volume Backup
looks incorrect. It also drops the usage of unicode prefix from
``admin/backups/tables.py`` file.

Closes-bug: #1919120
Change-Id: I02f88b6444d268253a3888e2ba56a33bb2f51e73
(cherry picked from commit 893d0c026eaca47f6d2821100fb9cf3e2d2e6843)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/34/785134/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/admin/backups/tables.py'],1,0e47012a73d57379f39b525a2c03ae6d969b9390,," ""Force Delete Volume Backup"", ""Force Delete Volume Backups"", ""Scheduled forced deletion of Volume Backup"", ""Scheduled forced deletion of Volume Backups"","," u""Delete Force Volume Backup"", u""Delete Force Volume Backups"", u""Scheduled force deletion of Volume Backup"", u""Scheduled force deletion of Volume Backups"",",4,4
openstack%2Fswift~master~Id4f16b06813e1fb4bc12456587044d983b63babc,openstack/swift,master,Id4f16b06813e1fb4bc12456587044d983b63babc,diskfile: Have _part_power_cleanup only cleanup during relink phase,NEW,2021-04-07 20:59:46.000000000,2021-04-08 21:48:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-07 20:59:46.000000000', 'files': ['test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4cef0ae670c10d5154a70166d2175cccc7bdca39', 'message': ""diskfile: Have _part_power_cleanup only cleanup during relink phase\n\nDuring cleanup, no new data is getting written to the old partition, so\nthere's no new information to allow us to clean up old data.\n\nChange-Id: Id4f16b06813e1fb4bc12456587044d983b63babc\n""}]",0,785280,4cef0ae670c10d5154a70166d2175cccc7bdca39,4,1,1,15343,,,0,"diskfile: Have _part_power_cleanup only cleanup during relink phase

During cleanup, no new data is getting written to the old partition, so
there's no new information to allow us to clean up old data.

Change-Id: Id4f16b06813e1fb4bc12456587044d983b63babc
",git fetch https://review.opendev.org/openstack/swift refs/changes/80/785280/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py']",2,4cef0ae670c10d5154a70166d2175cccc7bdca39,multi-increase," if new_path is None or new_path == cur_path: # No part power increase going on, or we've already stopped # writing to the old partition (in which case # `swift-object-relinker cleanup` should take care of it) # Otherwise, partition power will be increased soon and we wrote data # to the new location; ought to clean it up while it's fresh new_target_dir = os.path.dirname(new_path) try: self.manager.cleanup_ondisk_files(new_target_dir) except OSError: logging.exception( _('Problem cleaning up %s'), new_target_dir)"," if new_path is None: # Partition power will be increased soon if new_path != cur_path: new_target_dir = os.path.dirname(new_path) try: self.manager.cleanup_ondisk_files(new_target_dir) except OSError: logging.exception( _('Problem cleaning up %s'), new_target_dir) # Partition power has been increased, cleanup not yet finished else: prev_part_power = int(self.next_part_power) - 1 old_target_path = replace_partition_in_path( self.manager.devices, cur_path, prev_part_power) old_target_dir = os.path.dirname(old_target_path) try: self.manager.cleanup_ondisk_files(old_target_dir) except OSError: logging.exception( _('Problem cleaning up %s'), old_target_dir)",69,54
openstack%2Fcharm-keystone~master~I639b2b77d5db69744897b6798613a797d05fe23b,openstack/charm-keystone,master,I639b2b77d5db69744897b6798613a797d05fe23b,Support configurable dogpile cache expiration,MERGED,2021-04-06 20:58:37.000000000,2021-04-08 21:43:47.000000000,2021-04-08 21:43:47.000000000,"[{'_account_id': 8992}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 20:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/1697bddfabf0d0f336da22814e00c5827ab1ec3f', 'message': 'Support configurable dogpile cache expiration\n\nThe [cache]/expiration_time currently caches items for the default\nof 600s and is not configurable via the charm. This change adds a\ndogpile-cache-expiration config option that will default to 600s\nso as not to cause any behavior changes by default.\n\nCloses-Bug: #1899117\nChange-Id: I639b2b77d5db69744897b6798613a797d05fe23b\n'}, {'number': 2, 'created': '2021-04-07 07:05:11.000000000', 'files': ['templates/queens/keystone.conf', 'templates/ocata/keystone.conf', 'templates/rocky/keystone.conf', 'config.yaml', 'templates/mitaka/keystone.conf', 'hooks/keystone_context.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/152e5b6cfec7ff96761f5096adc7959ff8eef4f6', 'message': 'Support configurable dogpile cache expiration\n\nThe [cache]/expiration_time currently caches items for the default\nof 600s and is not configurable via the charm. This change adds a\ndogpile-cache-expiration config option that will default to 600s\nso as not to cause any behavior changes by default.\n\nCloses-Bug: #1899117\nChange-Id: I639b2b77d5db69744897b6798613a797d05fe23b\nCo-authored-by: Chris MacNaughton <chris.macnaughton@canonical.com>\n'}]",1,785046,152e5b6cfec7ff96761f5096adc7959ff8eef4f6,20,4,2,11805,,,0,"Support configurable dogpile cache expiration

The [cache]/expiration_time currently caches items for the default
of 600s and is not configurable via the charm. This change adds a
dogpile-cache-expiration config option that will default to 600s
so as not to cause any behavior changes by default.

Closes-Bug: #1899117
Change-Id: I639b2b77d5db69744897b6798613a797d05fe23b
Co-authored-by: Chris MacNaughton <chris.macnaughton@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/46/785046/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/queens/keystone.conf', 'templates/ocata/keystone.conf', 'templates/rocky/keystone.conf', 'config.yaml', 'templates/mitaka/keystone.conf', 'hooks/keystone_context.py']",6,1697bddfabf0d0f336da22814e00c5827ab1ec3f,bug/1899117, ctxt['dogpile_cache_expiration'] = config('dogpile-cache-expiration'),,20,0
openstack%2Fdesignate~master~I9fd558cec85da87c8daea36f7a9e2666948e72f1,openstack/designate,master,I9fd558cec85da87c8daea36f7a9e2666948e72f1,Move back to mod_wsgi for devstack,MERGED,2020-09-18 06:47:08.000000000,2021-04-08 21:28:39.000000000,2020-09-19 01:54:59.000000000,"[{'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-09-18 06:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b27b934650aa1a68d1995a5682fc3776cd631fc8', 'message': 'Move back to mod_wsgi\n\nThere is an issue with the unauthed tests\nand uwsgi causing the CI to frequently fail.\nLets move back to mod_wsgi until we can figure\nthat out.\n\nChange-Id: I9fd558cec85da87c8daea36f7a9e2666948e72f1\n'}, {'number': 2, 'created': '2020-09-18 06:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9c16c1d214da941f963bffa3c00380a4c829c41f', 'message': 'Move back to mod_wsgi for devstack\n\nThere is an issue with the unauthed tests\nand uwsgi causing the CI to frequently fail.\nLets move back to mod_wsgi until we can figure\nthat out.\n\nChange-Id: I9fd558cec85da87c8daea36f7a9e2666948e72f1\n'}, {'number': 3, 'created': '2020-09-18 13:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7a92972da756876d8c28bec74482a4a159cbd764', 'message': 'Move back to mod_wsgi for devstack\n\nThere is an issue with the unauthed tests\nand uwsgi causing the CI to frequently fail.\nLets move back to mod_wsgi until we can figure\nthat out.\n\nChange-Id: I9fd558cec85da87c8daea36f7a9e2666948e72f1\n'}, {'number': 4, 'created': '2020-09-18 19:43:04.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/designate/commit/185d92d230bdf8149b3ae3f6d1730ec23c0514d7', 'message': 'Move back to mod_wsgi for devstack\n\nThere is an issue with the unauthed tests\nand uwsgi causing the CI to frequently fail.\nLets move back to mod_wsgi until we can figure\nthat out.\n\nChange-Id: I9fd558cec85da87c8daea36f7a9e2666948e72f1\n'}]",0,752628,185d92d230bdf8149b3ae3f6d1730ec23c0514d7,14,3,4,22623,,,0,"Move back to mod_wsgi for devstack

There is an issue with the unauthed tests
and uwsgi causing the CI to frequently fail.
Lets move back to mod_wsgi until we can figure
that out.

Change-Id: I9fd558cec85da87c8daea36f7a9e2666948e72f1
",git fetch https://review.opendev.org/openstack/designate refs/changes/28/752628/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,b27b934650aa1a68d1995a5682fc3776cd631fc8,,"DESIGNATE_WSGI_MODE=${DESIGNATE_WSGI_MODE:-""mod_wsgi""}","DESIGNATE_WSGI_MODE=${DESIGNATE_WSGI_MODE:-""uwsgi""}",1,1
openstack%2Ftripleo-validations~master~I765218b61f761ce1df387abea33e35f2c96a1ec6,openstack/tripleo-validations,master,I765218b61f761ce1df387abea33e35f2c96a1ec6,"Coverage considers other all main source folders, omits tests",MERGED,2021-03-23 17:21:44.000000000,2021-04-08 21:21:01.000000000,2021-04-08 21:19:52.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-23 17:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1ded8b5c0fb8f55735a0f02596b81eccd7184784', 'message': 'Coverage considers other all main source folders, omits tests\n\nThis should have been in the initial patch, arguably.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I765218b61f761ce1df387abea33e35f2c96a1ec6\n'}, {'number': 2, 'created': '2021-03-24 07:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7dc47afff318436d382b52c8a58e5246da9515dc', 'message': 'Coverage considers other all main source folders, omits tests\n\nThis should have been in the initial patch, arguably.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I765218b61f761ce1df387abea33e35f2c96a1ec6\n'}, {'number': 3, 'created': '2021-04-07 07:13:38.000000000', 'files': ['.coveragerc', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a7b71520714082068e62e3ee50090baae37b671d', 'message': 'Coverage considers other all main source folders, omits tests\n\nThis should have been in the initial patch, arguably.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I765218b61f761ce1df387abea33e35f2c96a1ec6\n'}]",0,782571,a7b71520714082068e62e3ee50090baae37b671d,16,6,3,32926,,,0,"Coverage considers other all main source folders, omits tests

This should have been in the initial patch, arguably.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I765218b61f761ce1df387abea33e35f2c96a1ec6
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/71/782571/1 && git format-patch -1 --stdout FETCH_HEAD,"['.coveragerc', 'tox.ini']",2,1ded8b5c0fb8f55735a0f02596b81eccd7184784,unittest/coverage-refinement, PYTHON=coverage run --parallel-mode --branch, PYTHON=coverage run --source tripleo_validations --parallel-mode --branch,8,2
openstack%2Ftripleo-validations~master~I6bf27ffe88ff55b62e202678340a324058d30051,openstack/tripleo-validations,master,I6bf27ffe88ff55b62e202678340a324058d30051,Coverage now uses stestr.,MERGED,2021-03-08 14:27:39.000000000,2021-04-08 21:19:26.000000000,2021-04-08 21:17:21.000000000,"[{'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32432}]","[{'number': 1, 'created': '2021-03-08 14:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bf558e570fb811a1c8181824f6cfd96ab93c4c1d', 'message': 'Coverage now uses stestr.\n\nThis brings coverage measuring in line with\nthe standard tox testing process.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6bf27ffe88ff55b62e202678340a324058d30051\n'}, {'number': 2, 'created': '2021-03-09 10:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9a45ce5827f49315ee16e3e8a2c8a1d19be95329', 'message': 'Coverage now uses stestr.\n\nThis brings coverage measuring in line with\nthe standard tox testing process.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6bf27ffe88ff55b62e202678340a324058d30051\n'}, {'number': 3, 'created': '2021-03-09 10:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/51a08f3b0a8384919f11287a95b2a79872c3e235', 'message': 'Coverage now uses stestr.\n\nThis brings coverage measuring in line with\nthe standard tox testing process.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6bf27ffe88ff55b62e202678340a324058d30051\n'}, {'number': 4, 'created': '2021-03-11 10:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ebc679605bacd2d7070bbf259b856c15375c637a', 'message': 'Coverage now uses stestr.\n\nThis brings coverage measuring in line with\nthe standard tox testing process.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6bf27ffe88ff55b62e202678340a324058d30051\n'}, {'number': 5, 'created': '2021-03-23 17:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c5513ffd0f3ee8ecf0d8fc89c5804dd48c2ff165', 'message': 'Coverage now uses stestr.\n\nThis brings coverage measuring in line with\nthe standard tox testing process.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6bf27ffe88ff55b62e202678340a324058d30051\n'}, {'number': 6, 'created': '2021-04-06 13:30:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/79955d174222c1eea9dc1bcb2549c7cf2e7edc8d', 'message': 'Coverage now uses stestr.\n\nThis brings coverage measuring in line with\nthe standard tox testing process.\n\nCloses-bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6bf27ffe88ff55b62e202678340a324058d30051\n'}]",0,779273,79955d174222c1eea9dc1bcb2549c7cf2e7edc8d,22,8,6,32926,,,0,"Coverage now uses stestr.

This brings coverage measuring in line with
the standard tox testing process.

Closes-bug: #1922726

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I6bf27ffe88ff55b62e202678340a324058d30051
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/73/779273/5 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bf558e570fb811a1c8181824f6cfd96ab93c4c1d,unittest/coverage,setenv = PYTHON=coverage run --source tripleo_validations --parallel-mode --branch HOME={envdir} commands = coverage erase stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage report,deps = -r {toxinidir}/requirements.txt -r {toxinidir}/test-requirements.txt -r {toxinidir}/molecule-requirements.txt commands = python setup.py test --coverage --testr-args='{posargs}',10,5
openstack%2Ftripleo-ansible~master~Ie4a6787f98759792031666378a6044fe34ba9d51,openstack/tripleo-ansible,master,Ie4a6787f98759792031666378a6044fe34ba9d51,Bump linters,MERGED,2021-04-07 14:41:05.000000000,2021-04-08 21:18:00.000000000,2021-04-08 21:18:00.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-04-07 14:41:05.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4290b7190574a226a3c8e71c14af52b8b9c20ad5', 'message': 'Bump linters\n\n- bump all linters\n- ansible-lint 5.0.7 included a retry feature for installing\n  collections (we had one gate failure today due to a glitch in the\n  galaxy, server.\n- flake8 was moved to github\n- remove yamllint as ansible-lint already runs it\n\nChange-Id: Ie4a6787f98759792031666378a6044fe34ba9d51\n'}]",0,785189,4290b7190574a226a3c8e71c14af52b8b9c20ad5,11,6,1,24162,,,0,"Bump linters

- bump all linters
- ansible-lint 5.0.7 included a retry feature for installing
  collections (we had one gate failure today due to a glitch in the
  galaxy, server.
- flake8 was moved to github
- remove yamllint as ansible-lint already runs it

Change-Id: Ie4a6787f98759792031666378a6044fe34ba9d51
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/89/785189/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,4290b7190574a226a3c8e71c14af52b8b9c20ad5,pc, rev: v3.4.0 - repo: https://github.com/pycqa/flake8 rev: 3.9.0 rev: v5.0.7," rev: v3.2.0 - repo: https://gitlab.com/pycqa/flake8 rev: 3.8.3 - repo: https://github.com/adrienverge/yamllint.git rev: v1.24.2 hooks: - id: yamllint files: \.(yaml|yml)$ types: [file, yaml] entry: yamllint --strict -f parsable rev: v5.0.3",4,11
openstack%2Ftripleo-ansible~stable%2Ftrain~I1f88b982ecb9a94b45e194691d1ce629df3f9aa7,openstack/tripleo-ansible,stable/train,I1f88b982ecb9a94b45e194691d1ce629df3f9aa7,Do not update podman during deployment,MERGED,2021-04-06 11:34:27.000000000,2021-04-08 21:17:16.000000000,2021-04-08 21:17:16.000000000,"[{'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-06 11:34:27.000000000', 'files': ['tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc0980442f46886568ac7675b011de2719a2e694', 'message': ""Do not update podman during deployment\n\nGenerally speaking we don't expect any package is updated during\ndeployment. What is worse, we have experienced several issues caused by\nchange in podman, thus we should be very careful about the timing\nwhen we update it.\n\nThis change ensures that the podman package is not updated by\ndeployment so that it is updated only by proper minor update steps.\n\nCloses-Bug: #1921069\nChange-Id: I1f88b982ecb9a94b45e194691d1ce629df3f9aa7\n(cherry picked from commit 0b156aae59849eb479158c98df0175ded108cb7c)\n(cherry picked from commit 01b47a7bc15597be2f26db158fbda71af837a74e)\n(cherry picked from commit 458e1b393ead12a189e08c087c66d99877086e04)\n""}]",0,784928,fc0980442f46886568ac7675b011de2719a2e694,13,5,1,9816,,,0,"Do not update podman during deployment

Generally speaking we don't expect any package is updated during
deployment. What is worse, we have experienced several issues caused by
change in podman, thus we should be very careful about the timing
when we update it.

This change ensures that the podman package is not updated by
deployment so that it is updated only by proper minor update steps.

Closes-Bug: #1921069
Change-Id: I1f88b982ecb9a94b45e194691d1ce629df3f9aa7
(cherry picked from commit 0b156aae59849eb479158c98df0175ded108cb7c)
(cherry picked from commit 01b47a7bc15597be2f26db158fbda71af837a74e)
(cherry picked from commit 458e1b393ead12a189e08c087c66d99877086e04)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/784928/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_install.yml'],1,fc0980442f46886568ac7675b011de2719a2e694,bug/1921069, state: present, state: latest,1,1
openstack%2Fdiskimage-builder~master~I9e29b99fcad39187d5bb7dfc4a69d248d92066d7,openstack/diskimage-builder,master,I9e29b99fcad39187d5bb7dfc4a69d248d92066d7,Support secure boot with Ubuntu if using efi,NEW,2021-04-08 19:34:44.000000000,2021-04-08 21:14:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-08 19:34:44.000000000', 'files': ['diskimage_builder/elements/bootloader/pkg-map'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8d57e71c91a80cf3d1fb037584bf3814b090252a', 'message': 'Support secure boot with Ubuntu if using efi\n\nFor more consistency between distros add secure boot support to efi\nbased Ubuntu images. This adds the shim-signed package to the grub-efi\ninstall list when configuring Ubuntu. Note that on arm64 only >=20.04\nsupports this package so we have rules to ensure <=18.04 drop it.\n\nChange-Id: I9e29b99fcad39187d5bb7dfc4a69d248d92066d7\n'}]",0,785503,8d57e71c91a80cf3d1fb037584bf3814b090252a,5,1,1,4146,,,0,"Support secure boot with Ubuntu if using efi

For more consistency between distros add secure boot support to efi
based Ubuntu images. This adds the shim-signed package to the grub-efi
install list when configuring Ubuntu. Note that on arm64 only >=20.04
supports this package so we have rules to ensure <=18.04 drop it.

Change-Id: I9e29b99fcad39187d5bb7dfc4a69d248d92066d7
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/03/785503/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/bootloader/pkg-map'],1,8d57e71c91a80cf3d1fb037584bf3814b090252a,support-secure-boot-with-ubuntu," ""release"": { ""ubuntu"": { ""trusty"": { ""grub-efi-arm64"": ""grub-efi-arm64 grub-efi-arm64-bin efibootmgr"", }, ""xenial"": { ""grub-efi-arm64"": ""grub-efi-arm64 grub-efi-arm64-bin efibootmgr"", }, ""bionic"": { ""grub-efi-arm64"": ""grub-efi-arm64 grub-efi-arm64-bin efibootmgr"", } } } ""grub-efi-amd64"": ""grub-efi grub-pc-bin efibootmgr shim-signed"", ""grub-efi-arm64"": ""grub-efi-arm64 grub-efi-arm64-bin efibootmgr shim-signed"","," ""grub-efi-amd64"": ""grub-efi grub-pc-bin efibootmgr"", ""grub-efi-arm64"": ""grub-efi-arm64 grub-efi-arm64-bin efibootmgr"",",15,2
openstack%2Fpuppet-tripleo~master~Id24897e8c9927ee196a4f8eeffc6b5a3a25d809f,openstack/puppet-tripleo,master,Id24897e8c9927ee196a4f8eeffc6b5a3a25d809f,Clean up deprecated parameters for nova metadata eventlet service,MERGED,2020-10-26 12:31:58.000000000,2021-04-08 21:11:19.000000000,2021-04-08 21:10:06.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-26 12:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d11caf9b1128f34f7946a5e9345d6aa0ae816e6b', 'message': 'Cleanup deprecated parameters for nova metadata eventlet service\n\nThis changes removes the parameters for nova metadata eventlet service,\nwhich were deprecated a while ago[1].\n\n[1] 54c505f1967909505c09fbc11c4a969b1af65439\n\nChange-Id: Id24897e8c9927ee196a4f8eeffc6b5a3a25d809f\n'}, {'number': 2, 'created': '2020-10-26 12:32:32.000000000', 'files': ['manifests/profile/base/nova/api.pp', 'releasenotes/notes/nova_metadata_wsgi-cleanup-4b4877fe73f25c2e.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ee2f1b8fac3a63e823bbc7b12416a244be969c8d', 'message': 'Clean up deprecated parameters for nova metadata eventlet service\n\nThis changes removes the parameters for nova metadata eventlet service,\nwhich were deprecated a while ago[1].\n\n[1] 54c505f1967909505c09fbc11c4a969b1af65439\n\nChange-Id: Id24897e8c9927ee196a4f8eeffc6b5a3a25d809f\n'}]",0,759674,ee2f1b8fac3a63e823bbc7b12416a244be969c8d,10,4,2,9816,,,0,"Clean up deprecated parameters for nova metadata eventlet service

This changes removes the parameters for nova metadata eventlet service,
which were deprecated a while ago[1].

[1] 54c505f1967909505c09fbc11c4a969b1af65439

Change-Id: Id24897e8c9927ee196a4f8eeffc6b5a3a25d809f
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/74/759674/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/nova/api.pp', 'releasenotes/notes/nova_metadata_wsgi-cleanup-4b4877fe73f25c2e.yaml']",2,d11caf9b1128f34f7946a5e9345d6aa0ae816e6b,,--- upgrade: - | The following deprecated parameters in the ``tripleo::profile::base::nova::api`` class have been removed. - ``nova_metadata_network`` - ``metadata_tls_proxy_bind_ip`` - ``metadata_tls_proxy_fqdn`` - ``metadata_tls_proxy_port`` ,,10,24
openstack%2Freleases~master~I45909ea08f92fe219ee012a86cfe009ab06716d8,openstack/releases,master,I45909ea08f92fe219ee012a86cfe009ab06716d8,Proposing wallaby RC2 for cinder,MERGED,2021-04-08 08:55:29.000000000,2021-04-08 21:04:55.000000000,2021-04-08 21:04:55.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-08 08:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/17f006ce5614ab92b3adffd0e4170deac8abfff3', 'message': 'Final RC patch for cinder\n\nThis creates a new RC before the final release candidate deadline to\nrelease the latest fixes and/or translations.\n\nPlease ack with a +1, or if there is some reason to hold off, leave a -1.\n\n$ git log --oneline --no-merges 18.0.0.0rc1..36cfe7813\n36cfe7813 Fix: show volume by name for non-admins\nb4f1ff89a Quota: Fix multiple race conditions\nd12003c81 Prevent quota and reservations to go into negative\nd4fcefb94 Update cinder manage quota commands\n95fcb50a4 Fix quota usage duplicate entries\n1b702ec11 Remove nested quota leftovers\n6f2e7a543 Quota: Fix until_refresh config changes\nc8cc7979c Remove unused quota python classes\n26919f3f8 LVM: Fix delete volume error due to lvs failure\n59d08ca2a Add quota utils to cinder-manage\n460095744 Change snapshots type with volume retype\na9a9e5400 Cinder - Creating clone of encrypted volume fails\n0c9512f94 Use os-brick 4.3.1\nebc12b940 Add prelude for Wallaby release notes\n87a933846 Fix automatic quota sync for temporary volumes\n80adbda09 Fix PowerStore iSCSI targets filtering\n9623f83e0 Update TOX_CONSTRAINTS_FILE for stable/wallaby\n5a0d07391 Update .gitreview for stable/wallaby\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I45909ea08f92fe219ee012a86cfe009ab06716d8\n'}, {'number': 2, 'created': '2021-04-08 19:22:23.000000000', 'files': ['deliverables/wallaby/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/312c86ef8e89cbbd704b9ad24d0ddaa19d1c6081', 'message': 'Proposing wallaby RC2 for cinder\n\nRelease 18.0.0.0rc2\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I45909ea08f92fe219ee012a86cfe009ab06716d8\n'}]",0,785343,312c86ef8e89cbbd704b9ad24d0ddaa19d1c6081,12,4,2,28522,,,0,"Proposing wallaby RC2 for cinder

Release 18.0.0.0rc2

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I45909ea08f92fe219ee012a86cfe009ab06716d8
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/785343/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/cinder.yaml'],1,17f006ce5614ab92b3adffd0e4170deac8abfff3,wallaby-final-rc, - version: 18.0.0.0rc2 projects: - repo: openstack/cinder hash: 36cfe78132a0ffd415a33922b823f5241f2722ee,,4,0
openstack%2Fvalidations-common~master~I1c7790e30cbfa7657069862b37e90b9f9a2c2f61,openstack/validations-common,master,I1c7790e30cbfa7657069862b37e90b9f9a2c2f61,Add tripleo-standalone-scenarios-pipeline template,ABANDONED,2021-04-08 20:28:03.000000000,2021-04-08 20:54:57.000000000,,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-04-08 20:28:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/411b19bdada7b5d6bbc891cb1d24a775b75711be', 'message': 'Add tripleo-standalone-scenarios-pipeline template\n\nThis patch adds TripleO CI jobs which will able to catch at least\npackaging issue in validations-common and avoid gate issues.\n\nCloses-Bug: #1923091\nChange-Id: I1c7790e30cbfa7657069862b37e90b9f9a2c2f61\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}]",0,785509,411b19bdada7b5d6bbc891cb1d24a775b75711be,3,5,1,11491,,,0,"Add tripleo-standalone-scenarios-pipeline template

This patch adds TripleO CI jobs which will able to catch at least
packaging issue in validations-common and avoid gate issues.

Closes-Bug: #1923091
Change-Id: I1c7790e30cbfa7657069862b37e90b9f9a2c2f61
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/09/785509/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,411b19bdada7b5d6bbc891cb1d24a775b75711be,, - tripleo-standalone-scenarios-pipeline - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - tripleo-ci-centos-8-scenario004-standalone: &scenario004 vars: &vars_scen004 consumer_job: true build_container_images: false dependencies: &deps - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-scenario004-standalone: *scenario004,,12,0
openstack%2Fansible-collections-openstack~master~I64652090e65de8450ca907a57e23e09e562c17da,openstack/ansible-collections-openstack,master,I64652090e65de8450ca907a57e23e09e562c17da,Release 1.4.0 version,MERGED,2021-04-08 17:01:55.000000000,2021-04-08 20:50:04.000000000,2021-04-08 20:50:04.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 17:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/aba7fa04e7e2f7cb784c4f396a0babef4d74d848', 'message': 'Release 1.4.0 version\n\nChange-Id: I64652090e65de8450ca907a57e23e09e562c17da\n'}, {'number': 2, 'created': '2021-04-08 17:03:37.000000000', 'files': ['galaxy.yml', 'changelogs/changelog.yaml', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/47382d52ed3d1787bbc1d8c0b4b17438219bea30', 'message': 'Release 1.4.0 version\n\nChange-Id: I64652090e65de8450ca907a57e23e09e562c17da\n'}]",0,785447,47382d52ed3d1787bbc1d8c0b4b17438219bea30,7,2,2,10969,,,0,"Release 1.4.0 version

Change-Id: I64652090e65de8450ca907a57e23e09e562c17da
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/47/785447/2 && git format-patch -1 --stdout FETCH_HEAD,"['galaxy.yml', 'changelogs/changelog.yaml', 'CHANGELOG.rst']",3,aba7fa04e7e2f7cb784c4f396a0babef4d74d848,release140,v1.4.0 ====== Release Summary --------------- New object_container module and bugfixes. Bugfixes -------- - Add Octavia job for testing Load Balancer - Add binding profile to port module - Add execution environment metadata - Fix CI for latest ansible-test with no_log - Fix issues with newest ansible-test 2.11 - Prepare for Ansible 2.11 tests - add option to exclude legacy groups - security_group_rule add support ipv6-icmp New Modules ----------- - openstack.cloud.object_container - Manage Swift container ,,45,1
openstack%2Fbifrost~stable%2Fvictoria~I2a55c66817f0407157bbb54bec7c48c6cfe6774d,openstack/bifrost,stable/victoria,I2a55c66817f0407157bbb54bec7c48c6cfe6774d,Use explicit path for which,MERGED,2021-04-08 19:23:23.000000000,2021-04-08 20:48:43.000000000,2021-04-08 20:47:23.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 19:23:23.000000000', 'files': ['scripts/install-deps.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c2a4f845befe36e2b76645060f7c71d1e62902a5', 'message': 'Use explicit path for which\n\nUse the /usr/bin/which path for which in rpm-based distros to avoid\nissues with any aliases.\nWe need to fix stable branches first because of the upgrade job.\nyay\n\nChange-Id: I2a55c66817f0407157bbb54bec7c48c6cfe6774d\n'}]",0,785501,c2a4f845befe36e2b76645060f7c71d1e62902a5,7,2,1,23851,,,0,"Use explicit path for which

Use the /usr/bin/which path for which in rpm-based distros to avoid
issues with any aliases.
We need to fix stable branches first because of the upgrade job.
yay

Change-Id: I2a55c66817f0407157bbb54bec7c48c6cfe6774d
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/01/785501/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install-deps.sh'],1,c2a4f845befe36e2b76645060f7c71d1e62902a5,fix-which-alias-centos8, PKG_MANAGER=$(/usr/bin/which dnf || /usr/bin/which yum), PKG_MANAGER=$(which dnf || which yum),1,1
openstack%2Fansible-collections-openstack~master~I13161b360addac2d2c1c507145b5be653d6dec17,openstack/ansible-collections-openstack,master,I13161b360addac2d2c1c507145b5be653d6dec17,Container module for management Swift containers,MERGED,2021-03-10 10:58:58.000000000,2021-04-08 20:48:19.000000000,2021-04-08 20:48:19.000000000,"[{'_account_id': 2}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-03-10 10:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/215c02bbaecd376e94bf252c29a34d8e387fbd79', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 2, 'created': '2021-03-10 11:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/328b4aa45a43e6fccf15fde874343e4c5a297255', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 3, 'created': '2021-03-10 11:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fe61d34ff166671f00d948b1402ed0cf83fdcb27', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 4, 'created': '2021-03-10 11:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f5782929989fae970f345ff54f88ed88ca4e31e9', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 5, 'created': '2021-03-10 11:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5775135730f0f17247eddcbd0e4595271c617f07', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 6, 'created': '2021-03-10 11:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b60985c68734b80e1d0407ed2f52e133c73a5b40', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 7, 'created': '2021-03-10 14:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/38c2cf432d174cc6cf2b819acd7099a6c70aa12f', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 8, 'created': '2021-03-10 15:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9dff8244466d23c711db45d8e3f85317174afb47', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 9, 'created': '2021-03-12 08:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3a9ec610522105befb17b61a1c801eaad76e32c8', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 10, 'created': '2021-03-12 08:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/68ae6c49305fb82f9c7fc0c43c00d3fc80d82072', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 11, 'created': '2021-03-12 11:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c729b87b2dc6456efbd341f36093120668c33809', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 12, 'created': '2021-03-12 13:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/76ce470594d5caf57caa9e63134b2d739ec2431f', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 13, 'created': '2021-03-15 08:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/330d6a3d48fa3f33f9a4cfa4ddf3e921b689e187', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 14, 'created': '2021-03-16 14:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a1f2ac010c85aa2ccce7401b4a602ada82c66908', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 15, 'created': '2021-03-16 14:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0ceabd3a8483eb87576f3d3ef603cc358e3f142a', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 16, 'created': '2021-03-16 14:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/90360978235d2ef4caec3b7c3caa2eb50c37b3a4', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 17, 'created': '2021-03-16 15:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/681b696f56121f7a3612da9014ca678c29a77e24', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 18, 'created': '2021-04-08 14:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ab38129ec1ea48d9e693405283f19ad303886d77', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 19, 'created': '2021-04-08 15:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bedae7513152355d5e57d903eaeebf153e40bbb1', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}, {'number': 20, 'created': '2021-04-08 15:47:03.000000000', 'files': ['ci/roles/object_container/defaults/main.yml', 'meta/runtime.yml', 'plugins/modules/container.py', 'plugins/modules/object_container.py', 'ci/run-collection.yml', 'ci/roles/object_container/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0e2058988e3ccaa144203db76a4b24c04753b12d', 'message': 'Container module for management Swift containers\n\nChange-Id: I13161b360addac2d2c1c507145b5be653d6dec17\n'}]",17,779712,0e2058988e3ccaa144203db76a4b24c04753b12d,45,4,20,32787,,,0,"Container module for management Swift containers

Change-Id: I13161b360addac2d2c1c507145b5be653d6dec17
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/12/779712/16 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/container.py', 'ci/roles/container/defaults/main.yml', 'ci/roles/container/tasks/main.yml']",3,215c02bbaecd376e94bf252c29a34d8e387fbd79,,"--- - module_defaults: openstack.cloud.container: cloud: ""{{ cloud }}"" block: - name: Create an empty container openstack.cloud.container: container: ""{{ container_name }}"" mode: create register: container - name: Verify container was created assert: that: - container is success - container is changed - container.container.name == container_name - name: Set metadata for a container openstack.cloud.container: container: ""{{ container_name }}"" metadata: ""content_encoding='utf-8'"" mode: set-metadata register: set_meta - name: Verify container metadata was set assert: that: - set_meta is success - set_meta is changed - name: Delete some keys from container metadata openstack.cloud.container: container: ""{{ container_name }}"" keys: - content_type mode: delete-metadata register: delete_meta - name: Verify some keys from container metadata was deleted assert: that: - delete_meta is success - delete_meta is changed - name: Delete container openstack.cloud.container: container: ""{{ container_name }}"" mode: delete register: deleted - name: Verify container was deleted assert: that: - deleted is success - deleted is changed always: - name: Delete container openstack.cloud.container: container: ""{{ container_name }}"" mode: delete ignore_errors: yes",,271,0
openstack%2Ftripleo-ansible~master~I42231925962ec11d749852cea070f46b216870b8,openstack/tripleo-ansible,master,I42231925962ec11d749852cea070f46b216870b8,Allow unsafe_writes for /etc/hosts,ABANDONED,2020-05-06 21:28:28.000000000,2021-04-08 20:31:30.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-06 21:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f1efd2d2a2a41ecfa07cc436bf38c8f19828ad06', 'message': 'Allow unsafe_writes for /etc/hosts\n\nThis patch sets unsafe_writes: yes in the tripleo_hosts_entries role\nwhen updating the /etc/hosts file. Unsafe writes are needed when using\nthis role inside a container, such as when running tripleo deploy in a\ncontainer where /etc/hosts is a container mounted file.\n\nNote that unsafe_writes does not imply that unsafe writes will be used.\nIt does mean that ansible will fallback to unsafe writes if the atomic\noperation fails first. See:\nhttps://docs.ansible.com/ansible/latest/modules/blockinfile_module.html\n\nChange-Id: I42231925962ec11d749852cea070f46b216870b8\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2020-05-07 11:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5f765a0f7487f02e1e0ea256edf072f244caf023', 'message': 'Allow unsafe_writes for /etc/hosts\n\nThis patch sets unsafe_writes: true in the tripleo_hosts_entries role\nwhen updating the /etc/hosts file. Unsafe writes are needed when using\nthis role inside a container, such as when running tripleo deploy in a\ncontainer where /etc/hosts is a container mounted file.\n\nNote that unsafe_writes does not imply that unsafe writes will be used.\nIt does mean that ansible will fallback to unsafe writes if the atomic\noperation fails first. See:\nhttps://docs.ansible.com/ansible/latest/modules/blockinfile_module.html\n\nChange-Id: I42231925962ec11d749852cea070f46b216870b8\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2020-05-27 19:07:08.000000000', 'files': ['tripleo_ansible/roles/tripleo_hosts_entries/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d85b0d09ff65e04c229b951b01e0907bef1ed3ba', 'message': 'Allow unsafe_writes for /etc/hosts\n\nThis patch sets unsafe_writes: true in the tripleo_hosts_entries role\nwhen updating the /etc/hosts file. Unsafe writes are needed when using\nthis role inside a container, such as when running tripleo deploy in a\ncontainer where /etc/hosts is a container mounted file.\n\nNote that unsafe_writes does not imply that unsafe writes will be used.\nIt does mean that ansible will fallback to unsafe writes if the atomic\noperation fails first. See:\nhttps://docs.ansible.com/ansible/latest/modules/blockinfile_module.html\n\nChange-Id: I42231925962ec11d749852cea070f46b216870b8\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",1,726002,d85b0d09ff65e04c229b951b01e0907bef1ed3ba,12,3,3,7144,,,0,"Allow unsafe_writes for /etc/hosts

This patch sets unsafe_writes: true in the tripleo_hosts_entries role
when updating the /etc/hosts file. Unsafe writes are needed when using
this role inside a container, such as when running tripleo deploy in a
container where /etc/hosts is a container mounted file.

Note that unsafe_writes does not imply that unsafe writes will be used.
It does mean that ansible will fallback to unsafe writes if the atomic
operation fails first. See:
https://docs.ansible.com/ansible/latest/modules/blockinfile_module.html

Change-Id: I42231925962ec11d749852cea070f46b216870b8
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/02/726002/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_hosts_entries/tasks/main.yml'],1,f1efd2d2a2a41ecfa07cc436bf38c8f19828ad06,tripleo-deploy-multinode, unsafe_writes: yes,,1,0
openstack%2Fpython-tripleoclient~master~Ia21166a055e227de13897963b9da87f22be9a126,openstack/python-tripleoclient,master,Ia21166a055e227de13897963b9da87f22be9a126,Use os.path.expanduser to get home dir,ABANDONED,2020-05-06 21:12:08.000000000,2021-04-08 20:29:00.000000000,,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-06 21:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8ef61c4654fb8f4ed82924786c12909357529651', 'message': ""Use os.path.expanduser to get home dir\n\nInstead of assuming /home/$USER is the home dir of the running user, use\npython's os.path.expanduser('~'), which will return the actual home\ndirectory.\n\nWhile assuming /home is usually safe, it's not always the case, such as\nrunning as root in a container.\n\nChange-Id: Ia21166a055e227de13897963b9da87f22be9a126\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 2, 'created': '2020-05-07 01:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/672f498f2e9cfc6e5ca8a947abb46badc20a2c65', 'message': ""Use os.path.expanduser to get home dir\n\nInstead of assuming /home/$USER is the home dir of the running user, use\npython's os.path.expanduser('~'), which will return the actual home\ndirectory.\n\nWhile assuming /home is usually safe, it's not always the case, such as\nrunning as root in a container.\n\nblueprint tripleo-deploy-multinode\nChange-Id: Ia21166a055e227de13897963b9da87f22be9a126\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 3, 'created': '2020-05-12 19:57:22.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6a78be20d6ee7fd27728bb80f3c641127c536598', 'message': ""Use os.path.expanduser to get home dir\n\nInstead of assuming /home/$USER is the home dir of the running user, use\npython's os.path.expanduser, which will return the actual home directory\nfor a given user.\n\nWhile assuming /home is usually safe, it's not always the case, such as\nrunning as root in a container.\n\nblueprint tripleo-deploy-multinode\nChange-Id: Ia21166a055e227de13897963b9da87f22be9a126\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}]",0,725996,6a78be20d6ee7fd27728bb80f3c641127c536598,15,5,3,7144,,,0,"Use os.path.expanduser to get home dir

Instead of assuming /home/$USER is the home dir of the running user, use
python's os.path.expanduser, which will return the actual home directory
for a given user.

While assuming /home is usually safe, it's not always the case, such as
running as root in a container.

blueprint tripleo-deploy-multinode
Change-Id: Ia21166a055e227de13897963b9da87f22be9a126
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/96/725996/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,8ef61c4654fb8f4ed82924786c12909357529651,tripleo-deploy-multinode, clouds_home_dir = os.path.expanduser('~')," clouds_home_dir = os.path.join('/home', user)",1,1
openstack%2Fopenstack-ansible-os_senlin~master~Iff0e0eeb27f8f15e1029bb9ec3496e71ec0bf3cb,openstack/openstack-ansible-os_senlin,master,Iff0e0eeb27f8f15e1029bb9ec3496e71ec0bf3cb,Switch default virtualenv to python3,MERGED,2021-03-10 09:20:52.000000000,2021-04-08 20:11:16.000000000,2021-04-08 20:09:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-03-10 09:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/0853f098ab5a3eadc8c9043a2c957aa36f6214c1', 'message': 'Switch default virtualenv to python3\n\nChange-Id: Iff0e0eeb27f8f15e1029bb9ec3496e71ec0bf3cb\n'}, {'number': 2, 'created': '2021-03-22 12:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/6fec87a1337d39f38c68f9f574d31a4492241f2b', 'message': 'Switch default virtualenv to python3\n\nChange-Id: Iff0e0eeb27f8f15e1029bb9ec3496e71ec0bf3cb\n'}, {'number': 3, 'created': '2021-03-23 18:11:53.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/ccb6154cdebb31d48fc9da475013aa09900505fe', 'message': 'Switch default virtualenv to python3\n\nChange-Id: Iff0e0eeb27f8f15e1029bb9ec3496e71ec0bf3cb\n'}]",0,779689,ccb6154cdebb31d48fc9da475013aa09900505fe,20,3,3,25023,,,0,"Switch default virtualenv to python3

Change-Id: Iff0e0eeb27f8f15e1029bb9ec3496e71ec0bf3cb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_senlin refs/changes/89/779689/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,0853f098ab5a3eadc8c9043a2c957aa36f6214c1,osa-default-python,"senlin_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","senlin_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fnova~master~I4a03561368b945e3aacbef8011b46933cc1fcfd7,openstack/nova,master,I4a03561368b945e3aacbef8011b46933cc1fcfd7,docs: Add CPU models guide,MERGED,2021-03-18 12:30:48.000000000,2021-04-08 20:07:21.000000000,2021-04-08 20:04:28.000000000,"[{'_account_id': 6962}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-18 12:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9895fd4d46d07b8b58f70ae0af90c7b398bbcda', 'message': 'docs: Add CPU models guide\n\nMore information taken out of the catchall KVM guide and put into its\nown doc, where it belongs.\n\nChange-Id: I4a03561368b945e3aacbef8011b46933cc1fcfd7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-03-23 11:23:53.000000000', 'files': ['doc/source/admin/cpu-models.rst', 'doc/source/admin/index.rst', 'doc/source/admin/configuration/hypervisor-kvm.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/ee1443bb3f7ac91ad468455296f0aff5459f4df4', 'message': 'docs: Add CPU models guide\n\nMore information taken out of the catchall KVM guide and put into its\nown doc, where it belongs.\n\nChange-Id: I4a03561368b945e3aacbef8011b46933cc1fcfd7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",6,781438,ee1443bb3f7ac91ad468455296f0aff5459f4df4,16,4,2,15334,,,0,"docs: Add CPU models guide

More information taken out of the catchall KVM guide and put into its
own doc, where it belongs.

Change-Id: I4a03561368b945e3aacbef8011b46933cc1fcfd7
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/781438/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/cpu-models.rst', 'doc/source/admin/index.rst', 'doc/source/admin/configuration/hypervisor-kvm.rst']",3,c9895fd4d46d07b8b58f70ae0af90c7b398bbcda,docs,"Host configuration ------------------Nova configuration ------------------Host passthrough (``host-passthrough``) However, do consider the other implications that :doc:`host passthrough </admin/cpu-models>` mode has on compute functionality. Host model (``host-model``) Again, consider the other implications that apply to the :doc:`host model </admin/cpu-models>` mode. Custom (``custom``)More information on CPU models can be found in :doc:`/admin/cpu-models`. Limitations -----------","Specify the CPU model of KVM guests ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The Compute service enables you to control the guest CPU model that is exposed to KVM virtual machines. Use cases include: * To maximize performance of virtual machines by exposing new host CPU features to the guest * To ensure a consistent default CPU across all machines, removing reliance of variable QEMU defaults In libvirt, the CPU is specified by providing a base CPU model name (which is a shorthand for a set of feature flags), a set of additional feature flags, and the topology (sockets/cores/threads). The libvirt KVM driver provides a number of standard CPU model names. These models are defined in the ``/usr/share/libvirt/cpu_map.xml`` file for libvirt prior to version 4.7.0 or ``/usr/share/libvirt/cpu_map/*.xml`` files thereafter. Make a check to determine which models are supported by your local installation. Two Compute configuration options in the :oslo.config:group:`libvirt` group of ``nova.conf`` define which type of CPU model is exposed to the hypervisor when using KVM: :oslo.config:option:`libvirt.cpu_mode` and :oslo.config:option:`libvirt.cpu_models`. The :oslo.config:option:`libvirt.cpu_mode` option can take one of the following values: ``none``, ``host-passthrough``, ``host-model``, and ``custom``. See `Effective Virtual CPU configuration in Nova`_ for a recorded presentation about this topic. .. _Effective Virtual CPU configuration in Nova: https://www.openstack.org/videos/summits/berlin-2018/effective-virtual-cpu-configuration-in-nova Host model (default for KVM & QEMU) ----------------------------------- If your ``nova.conf`` file contains ``cpu_mode=host-model``, libvirt identifies the CPU model in ``/usr/share/libvirt/cpu_map.xml`` for version prior to 4.7.0 or ``/usr/share/libvirt/cpu_map/*.xml`` for version 4.7.0 and higher that most closely matches the host, and requests additional CPU flags to complete the match. This configuration provides the maximum functionality and performance and maintains good reliability. With regard to enabling and facilitating live migration between compute nodes, you should assess whether ``host-model`` is suitable for your compute architecture. In general, using ``host-model`` is a safe choice if your compute node CPUs are largely identical. However, if your compute nodes span multiple processor generations, you may be better advised to select a ``custom`` CPU model. Host pass through ----------------- If your ``nova.conf`` file contains ``cpu_mode=host-passthrough``, libvirt tells KVM to pass through the host CPU with no modifications. The difference to host-model, instead of just matching feature flags, every last detail of the host CPU is matched. This gives the best performance, and can be important to some apps which check low level CPU details, but it comes at a cost with respect to migration. In ``host-passthrough`` mode, the guest can only be live-migrated to a target host that matches the source host extremely closely. This definitely includes the physical CPU model and running microcode, and may even include the running kernel. Use this mode only if * your compute nodes have a very large degree of homogeneity (i.e. substantially all of your compute nodes use the exact same CPU generation and model), and you make sure to only live-migrate between hosts with exactly matching kernel versions, *or* * you decide, for some reason and against established best practices, that your compute infrastructure should not support any live migration at all. Custom ------ If :file:`nova.conf` contains :oslo.config:option:`libvirt.cpu_mode`\ =custom, you can explicitly specify an ordered list of supported named models using the :oslo.config:option:`libvirt.cpu_models` configuration option. It is expected that the list is ordered so that the more common and less advanced cpu models are listed earlier. An end user can specify required CPU features through traits. When specified, the libvirt driver will select the first cpu model in the :oslo.config:option:`libvirt.cpu_models` list that can provide the requested feature traits. If no CPU feature traits are specified then the instance will be configured with the first cpu model in the list. For example, if specifying CPU features ``avx`` and ``avx2`` as follows: .. code-block:: console $ openstack flavor set FLAVOR_ID --property trait:HW_CPU_X86_AVX=required \ --property trait:HW_CPU_X86_AVX2=required and :oslo.config:option:`libvirt.cpu_models` is configured like this: .. code-block:: ini [libvirt] cpu_mode = custom cpu_models = Penryn,IvyBridge,Haswell,Broadwell,Skylake-Client Then ``Haswell``, the first cpu model supporting both ``avx`` and ``avx2``, will be chosen by libvirt. In selecting the ``custom`` mode, along with a :oslo.config:option:`libvirt.cpu_models` that matches the oldest of your compute node CPUs, you can ensure that live migration between compute nodes will always be possible. However, you should ensure that the :oslo.config:option:`libvirt.cpu_models` you select passes the correct CPU feature flags to the guest. If you need to further tweak your CPU feature flags in the ``custom`` mode, see `Set CPU feature flags`_. .. note:: If :oslo.config:option:`libvirt.cpu_models` is configured, the CPU models in the list needs to be compatible with the host CPU. Also, if :oslo.config:option:`libvirt.cpu_model_extra_flags` is configured, all flags needs to be compatible with the host CPU. If incompatible CPU models or flags are specified, nova service will raise an error and fail to start. None (default for all libvirt-driven hypervisors other than KVM & QEMU) ----------------------------------------------------------------------- If your ``nova.conf`` file contains ``cpu_mode=none``, libvirt does not specify a CPU model. Instead, the hypervisor chooses the default model. Set CPU feature flags ~~~~~~~~~~~~~~~~~~~~~ Regardless of whether your selected :oslo.config:option:`libvirt.cpu_mode` is ``host-passthrough``, ``host-model``, or ``custom``, it is also possible to selectively enable additional feature flags. Suppose your selected ``custom`` CPU model is ``IvyBridge``, which normally does not enable the ``pcid`` feature flag --- but you do want to pass ``pcid`` into your guest instances. In that case, you would set: .. code-block:: ini [libvirt] cpu_mode = custom cpu_models = IvyBridge cpu_model_extra_flags = pcidNested guest support in the KVM kernel module ---------------------------------------------Nested guest support in ``nova.conf`` -------------------------------------Host pass through However, do consider the other implications that `Host pass through`_ mode has on compute functionality. Host model Again, consider the other implications that apply to the `Host model (default for KVM & Qemu)`_ mode. CustomNested guest support limitations --------------------------------",190,161
openstack%2Fnova~master~I75d7b2e1a6771ebdb05972e29033505391587512,openstack/nova,master,I75d7b2e1a6771ebdb05972e29033505391587512,docs: Change 'add_stylesheet' to 'add_css_file',MERGED,2021-03-18 17:52:15.000000000,2021-04-08 20:06:16.000000000,2021-04-08 20:04:04.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-18 17:52:15.000000000', 'files': ['doc/ext/feature_matrix.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4f1b879a68e4480e6a9c4d2b23cbbfb72e3517d0', 'message': ""docs: Change 'add_stylesheet' to 'add_css_file'\n\nWe're seeing a warning in our docs build:\n\n  nova/doc/ext/feature_matrix.py:578: RemovedInSphinx40Warning: The\n  app.add_stylesheet() is deprecated. Please use app.add_css_file()\n  instead.\n\nDo as it says. This deprecation happened in Sphinx v1.8.0 [1] so there's\nno need to bump our minimum version.\n\n[1] https://github.com/sphinx-doc/sphinx/commit/3afc72fba4\n\nChange-Id: I75d7b2e1a6771ebdb05972e29033505391587512\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,781529,4f1b879a68e4480e6a9c4d2b23cbbfb72e3517d0,9,3,1,15334,,,0,"docs: Change 'add_stylesheet' to 'add_css_file'

We're seeing a warning in our docs build:

  nova/doc/ext/feature_matrix.py:578: RemovedInSphinx40Warning: The
  app.add_stylesheet() is deprecated. Please use app.add_css_file()
  instead.

Do as it says. This deprecation happened in Sphinx v1.8.0 [1] so there's
no need to bump our minimum version.

[1] https://github.com/sphinx-doc/sphinx/commit/3afc72fba4

Change-Id: I75d7b2e1a6771ebdb05972e29033505391587512
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/781529/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/ext/feature_matrix.py'],1,4f1b879a68e4480e6a9c4d2b23cbbfb72e3517d0,docs, app.add_css_file('feature-matrix.css'), app.add_stylesheet('feature-matrix.css'),1,1
openstack%2Fopenstacksdk~master~I742fc6247bbecf0129026895607b895a420a538e,openstack/openstacksdk,master,I742fc6247bbecf0129026895607b895a420a538e,"Fix typo - _list lists, doesn't delete",MERGED,2021-04-08 16:27:58.000000000,2021-04-08 19:49:10.000000000,2021-04-08 19:47:46.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-08 16:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/88c4580580eb8b06f2e3310dba3b3f2545846cfd', 'message': ""Fix typo - _list lists, doesn't delete\n\n.\nChange-Id: Ib417783e61fa41c0ea2a8c0f0beb117c526e0335\n\nChange-Id: I742fc6247bbecf0129026895607b895a420a538e\n""}, {'number': 2, 'created': '2021-04-08 17:04:17.000000000', 'files': ['openstack/proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/19a948047797fd424b9453c098ab1ed6f8a2e7d0', 'message': ""Fix typo - _list lists, doesn't delete\n\nChange-Id: I742fc6247bbecf0129026895607b895a420a538e\n""}]",0,785441,19a948047797fd424b9453c098ab1ed6f8a2e7d0,12,4,2,33344,,,0,"Fix typo - _list lists, doesn't delete

Change-Id: I742fc6247bbecf0129026895607b895a420a538e
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/41/785441/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/proxy.py'],1,88c4580580eb8b06f2e3310dba3b3f2545846cfd,improve-ironic-api-openstacksdk, :param resource_type: The type of resource to list. This should, :param resource_type: The type of resource to delete. This should,1,1
openstack%2Fmanila-ui~stable%2Fwallaby~I408af56e6a54b135d38a486101b4bb3108d4f0d5,openstack/manila-ui,stable/wallaby,I408af56e6a54b135d38a486101b4bb3108d4f0d5,Support policy-in-code and deprecated policy,MERGED,2021-04-08 01:29:38.000000000,2021-04-08 19:46:38.000000000,2021-04-08 19:45:05.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 01:29:38.000000000', 'files': ['releasenotes/notes/policy-in-code-support-23744e26a7f6e284.yaml', 'manila_ui/conf/default_policies/manila.yaml', 'manila_ui/local/local_settings.d/_90_manila_shares.py', 'devstack/plugin.sh', 'manila_ui/conf/manila_policy.yaml'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/1f48e83eae979cb6bca78a024d7023ae70102c1b', 'message': 'Support policy-in-code and deprecated policy\n\nThis change adds support for policy-in-code and deprecated policy\nfollowing the change in horizon.\n\nDepends-on: https://review.opendev.org/750134\nChange-Id: I408af56e6a54b135d38a486101b4bb3108d4f0d5\n(cherry picked from commit 89a90ff9773b93062760df5e3deefb9750112633)\n'}]",0,785210,1f48e83eae979cb6bca78a024d7023ae70102c1b,8,3,1,9816,,,0,"Support policy-in-code and deprecated policy

This change adds support for policy-in-code and deprecated policy
following the change in horizon.

Depends-on: https://review.opendev.org/750134
Change-Id: I408af56e6a54b135d38a486101b4bb3108d4f0d5
(cherry picked from commit 89a90ff9773b93062760df5e3deefb9750112633)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/10/785210/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/policy-in-code-support-23744e26a7f6e284.yaml', 'manila_ui/conf/default_policies/manila.yaml', 'manila_ui/local/local_settings.d/_90_manila_shares.py', 'devstack/plugin.sh', 'manila_ui/conf/manila_policy.yaml']",5,1f48e83eae979cb6bca78a024d7023ae70102c1b,,"# Intended scope(s): system #""system-admin"": ""role:admin and system_scope:all"" # Intended scope(s): system #""system-member"": ""role:member and system_scope:all"" # Intended scope(s): system #""system-reader"": ""role:reader and system_scope:all"" # Intended scope(s): project #""project-admin"": ""role:admin and project_id:%(project_id)s"" # Intended scope(s): project #""project-member"": ""role:member and project_id:%(project_id)s"" # Intended scope(s): project #""project-reader"": ""role:reader and project_id:%(project_id)s"" # Intended scope(s): system #""context_is_admin"": ""rule:system-admin"" # DEPRECATED # ""context_is_admin"":""role:admin"" has been deprecated since W in favor # of ""context_is_admin"":""rule:system-admin"". # The `context_is_admin` check is superseded by more specific check # strings that consume system and project scope attributes from # keystone tokens. #""admin_or_owner"": ""is_admin:True or project_id:%(project_id)s"" #""default"": ""rule:admin_or_owner"" #""admin_api"": ""is_admin:True"" # Get all storage availability zones. # GET /os-availability-zone # GET /availability-zone # Intended scope(s): system, project #""availability_zone:index"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""availability_zone:index"":""rule:default"" has been deprecated since W # in favor of ""availability_zone:index"":""(rule:system-reader) or # (rule:project-reader)"". # The availability zone API now supports system scope and default # roles. # Get information regarding backends (and storage pools) known to the # scheduler. # GET /scheduler-stats/pools # GET /scheduler-stats/pools?{query} # Intended scope(s): system #""scheduler_stats:pools:index"": ""rule:system-reader"" # DEPRECATED # ""scheduler_stats:pools:index"":""rule:admin_api"" has been deprecated # since W in favor of ""scheduler_stats:pools:index"":""rule:system- # reader"". # The storage pool statistics API now support system scope and default # roles. # Get detailed information regarding backends (and storage pools) # known to the scheduler. # GET /scheduler-stats/pools/detail?{query} # GET /scheduler-stats/pools/detail # Intended scope(s): system #""scheduler_stats:pools:detail"": ""rule:system-reader"" # DEPRECATED # ""scheduler_stats:pools:detail"":""rule:admin_api"" has been deprecated # since W in favor of ""scheduler_stats:pools:detail"":""rule:system- # reader"". # The storage pool statistics API now support system scope and default # roles. # Create share. # POST /shares # Intended scope(s): system, project #""share:create"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share:create"":"""" has been deprecated since W in favor of # ""share:create"":""(rule:system-admin) or (rule:project-member)"". # The share API now supports system scope and default roles. # Create shares visible across all projects in the cloud. # POST /shares # Intended scope(s): system #""share:create_public_share"": ""rule:system-admin"" # DEPRECATED # ""share:create_public_share"":""rule:admin_api"" has been deprecated # since W in favor of ""share:create_public_share"":""rule:system-admin"". # The share API now supports system scope and default roles. # Get share. # GET /shares/{share_id} # Intended scope(s): system, project #""share:get"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share:get"":""rule:default"" has been deprecated since W in favor of # ""share:get"":""(rule:system-reader) or (rule:project-reader)"". # The share API now supports system scope and default roles. # List shares. # GET /shares # GET /shares/detail # Intended scope(s): system, project #""share:get_all"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share:get_all"":""rule:default"" has been deprecated since W in favor # of ""share:get_all"":""(rule:system-reader) or (rule:project-reader)"". # The share API now supports system scope and default roles. # Update share. # PUT /shares # Intended scope(s): system, project #""share:update"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share:update"":""rule:default"" has been deprecated since W in favor # of ""share:update"":""(rule:system-admin) or (rule:project-member)"". # The share API now supports system scope and default roles. # Update shares to be visible across all projects in the cloud. # PUT /shares # Intended scope(s): system #""share:set_public_share"": ""rule:system-admin"" # DEPRECATED # ""share:set_public_share"":""rule:admin_api"" has been deprecated since # W in favor of ""share:set_public_share"":""rule:system-admin"". # The share API now supports system scope and default roles. # Delete share. # DELETE /shares/{share_id} # Intended scope(s): system, project #""share:delete"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share:delete"":""rule:default"" has been deprecated since W in favor # of ""share:delete"":""(rule:system-admin) or (rule:project-member)"". # The share API now supports system scope and default roles. # Force Delete a share. # DELETE /shares/{share_id} # Intended scope(s): system, project #""share:force_delete"": ""(rule:system-admin) or (rule:project-admin)"" # DEPRECATED # ""share:force_delete"":""rule:admin_api"" has been deprecated since W in # favor of ""share:force_delete"":""(rule:system-admin) or (rule:project- # admin)"". # The share API now supports system scope and default roles. # Manage share. # POST /shares/manage # Intended scope(s): system #""share:manage"": ""rule:system-admin"" # DEPRECATED # ""share:manage"":""rule:admin_api"" has been deprecated since W in favor # of ""share:manage"":""rule:system-admin"". # The share API now supports system scope and default roles. # Unmanage share. # POST /shares/unmanage # Intended scope(s): system #""share:unmanage"": ""rule:system-admin"" # DEPRECATED # ""share:unmanage"":""rule:admin_api"" has been deprecated since W in # favor of ""share:unmanage"":""rule:system-admin"". # The share API now supports system scope and default roles. # List share by host. # GET /shares # GET /shares/detail # Intended scope(s): system #""share:list_by_host"": ""rule:system-reader"" # DEPRECATED # ""share:list_by_host"":""rule:admin_api"" has been deprecated since W in # favor of ""share:list_by_host"":""rule:system-reader"". # The share API now supports system scope and default roles. # List share by server id. # GET /shares # GET /shares/detail # Intended scope(s): system #""share:list_by_share_server_id"": ""rule:system-reader"" # DEPRECATED # ""share:list_by_share_server_id"":""rule:admin_api"" has been deprecated # since W in favor of ""share:list_by_share_server_id"":""rule:system- # reader"". # The share API now supports system scope and default roles. # Get share access rule, it under deny access operation. # POST /shares/{share_id}/action # Intended scope(s): system, project #""share:access_get"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share:access_get"":""rule:default"" has been deprecated since W in # favor of ""share:access_get"":""(rule:system-reader) or (rule:project- # reader)"". # The share API now supports system scope and default roles. # List share access rules. # GET /shares/{share_id}/action # Intended scope(s): system, project #""share:access_get_all"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share:access_get_all"":""rule:default"" has been deprecated since W in # favor of ""share:access_get_all"":""(rule:system-reader) or # (rule:project-reader)"". # The share API now supports system scope and default roles. # Extend share. # POST /shares/{share_id}/action # Intended scope(s): system, project #""share:extend"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share:extend"":""rule:default"" has been deprecated since W in favor # of ""share:extend"":""(rule:system-admin) or (rule:project-member)"". # The share API now supports system scope and default roles. # Shrink share. # POST /shares/{share_id}/action # Intended scope(s): system, project #""share:shrink"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share:shrink"":""rule:default"" has been deprecated since W in favor # of ""share:shrink"":""(rule:system-admin) or (rule:project-member)"". # The share API now supports system scope and default roles. # Migrate a share to the specified host. # POST /shares/{share_id}/action # Intended scope(s): system #""share:migration_start"": ""rule:system-admin"" # DEPRECATED # ""share:migration_start"":""rule:admin_api"" has been deprecated since W # in favor of ""share:migration_start"":""rule:system-admin"". # The share API now supports system scope and default roles. # Invokes 2nd phase of share migration. # POST /shares/{share_id}/action # Intended scope(s): system #""share:migration_complete"": ""rule:system-admin"" # DEPRECATED # ""share:migration_complete"":""rule:admin_api"" has been deprecated # since W in favor of ""share:migration_complete"":""rule:system-admin"". # The share API now supports system scope and default roles. # Attempts to cancel share migration. # POST /shares/{share_id}/action # Intended scope(s): system #""share:migration_cancel"": ""rule:system-admin"" # DEPRECATED # ""share:migration_cancel"":""rule:admin_api"" has been deprecated since # W in favor of ""share:migration_cancel"":""rule:system-admin"". # The share API now supports system scope and default roles. # Retrieve share migration progress for a given share. # POST /shares/{share_id}/action # Intended scope(s): system #""share:migration_get_progress"": ""rule:system-reader"" # DEPRECATED # ""share:migration_get_progress"":""rule:admin_api"" has been deprecated # since W in favor of ""share:migration_get_progress"":""rule:system- # reader"". # The share API now supports system scope and default roles. # Reset task state. # POST /shares/{share_id}/action # Intended scope(s): system, project #""share:reset_task_state"": ""(rule:system-admin) or (rule:project-admin)"" # DEPRECATED # ""share:reset_task_state"":""rule:admin_api"" has been deprecated since # W in favor of ""share:reset_task_state"":""(rule:system-admin) or # (rule:project-admin)"". # The share API now supports system scope and default roles. # Reset status. # POST /shares/{share_id}/action # Intended scope(s): system, project #""share:reset_status"": ""(rule:system-admin) or (rule:project-admin)"" # DEPRECATED # ""share:reset_status"":""rule:admin_api"" has been deprecated since W in # favor of ""share:reset_status"":""(rule:system-admin) or (rule:project- # admin)"". # The share API now supports system scope and default roles. # Revert a share to a snapshot. # POST /shares/{share_id}/action # Intended scope(s): system, project #""share:revert_to_snapshot"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share:revert_to_snapshot"":""rule:default"" has been deprecated since # W in favor of ""share:revert_to_snapshot"":""(rule:system-admin) or # (rule:project-member)"". # The share API now supports system scope and default roles. # Add share access rule. # POST /shares/{share_id}/action # Intended scope(s): system, project #""share:allow_access"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share:allow_access"":""rule:default"" has been deprecated since W in # favor of ""share:allow_access"":""(rule:system-admin) or (rule:project- # member)"". # The share API now supports system scope and default roles. # Remove share access rule. # POST /shares/{share_id}/action # Intended scope(s): system, project #""share:deny_access"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share:deny_access"":""rule:default"" has been deprecated since W in # favor of ""share:deny_access"":""(rule:system-admin) or (rule:project- # member)"". # The share API now supports system scope and default roles. # Update share metadata. # PUT /shares/{share_id}/metadata # Intended scope(s): system, project #""share:update_share_metadata"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share:update_share_metadata"":""rule:default"" has been deprecated # since W in favor of ""share:update_share_metadata"":""(rule:system- # admin) or (rule:project-member)"". # The share API now supports system scope and default roles. # Delete share metadata. # DELETE /shares/{share_id}/metadata/{key} # Intended scope(s): system, project #""share:delete_share_metadata"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share:delete_share_metadata"":""rule:default"" has been deprecated # since W in favor of ""share:delete_share_metadata"":""(rule:system- # admin) or (rule:project-member)"". # The share API now supports system scope and default roles. # Get share metadata. # GET /shares/{share_id}/metadata # Intended scope(s): system, project #""share:get_share_metadata"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share:get_share_metadata"":""rule:default"" has been deprecated since # W in favor of ""share:get_share_metadata"":""(rule:system-reader) or # (rule:project-reader)"". # The share API now supports system scope and default roles. # Create share snapshot. # POST /snapshots # Intended scope(s): system, project #""share:create_snapshot"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share:create_snapshot"":""rule:default"" has been deprecated since W # in favor of ""share:create_snapshot"":""(rule:system-admin) or # (rule:project-member)"". # The share API now supports system scope and default roles. # Delete share snapshot. # DELETE /snapshots/{snapshot_id} # Intended scope(s): system, project #""share:delete_snapshot"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share:delete_snapshot"":""rule:default"" has been deprecated since W # in favor of ""share:delete_snapshot"":""(rule:system-admin) or # (rule:project-member)"". # The share API now supports system scope and default roles. # Update share snapshot. # PUT /snapshots/{snapshot_id}/action # Intended scope(s): system, project #""share:snapshot_update"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share:snapshot_update"":""rule:default"" has been deprecated since W # in favor of ""share:snapshot_update"":""(rule:system-admin) or # (rule:project-member)"". # The share API now supports system scope and default roles. # Return data about the requested export location. # POST /share_instances/{share_instance_id}/export_locations # Intended scope(s): system #""share_instance_export_location:index"": ""rule:system-reader"" # DEPRECATED # ""share_instance_export_location:index"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_instance_export_location:index"":""rule:system-reader"". # The share instance export location API now supports system scope and # default roles. # Return data about the requested export location. # GET /share_instances/{share_instance_id}/export_locations/{export_location_id} # Intended scope(s): system #""share_instance_export_location:show"": ""rule:system-reader"" # DEPRECATED # ""share_instance_export_location:show"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_instance_export_location:show"":""rule:system-reader"". # The share instance export location API now supports system scope and # default roles. # Create share type. # POST /types # Intended scope(s): system #""share_type:create"": ""rule:system-admin"" # DEPRECATED # ""share_type:create"":""rule:admin_api"" has been deprecated since W in # favor of ""share_type:create"":""rule:system-admin"". # The share type API now supports system scope and default roles. # Update share type. # PUT /types/{share_type_id} # Intended scope(s): system #""share_type:update"": ""rule:system-admin"" # DEPRECATED # ""share_type:update"":""rule:admin_api"" has been deprecated since W in # favor of ""share_type:update"":""rule:system-admin"". # The share type API now supports system scope and default roles. # Get share type. # GET /types/{share_type_id} # Intended scope(s): system, project #""share_type:show"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_type:show"":""rule:default"" has been deprecated since W in # favor of ""share_type:show"":""(rule:system-reader) or (rule:project- # reader)"". # The share type API now supports system scope and default roles. # List share types. # GET /types # GET /types?is_public=all # Intended scope(s): system, project #""share_type:index"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_type:index"":""rule:default"" has been deprecated since W in # favor of ""share_type:index"":""(rule:system-reader) or (rule:project- # reader)"". # The share type API now supports system scope and default roles. # Get default share type. # GET /types/default # Intended scope(s): system, project #""share_type:default"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_type:default"":""rule:default"" has been deprecated since W in # favor of ""share_type:default"":""(rule:system-reader) or # (rule:project-reader)"". # The share type API now supports system scope and default roles. # Delete share type. # DELETE /types/{share_type_id} # Intended scope(s): system #""share_type:delete"": ""rule:system-admin"" # DEPRECATED # ""share_type:delete"":""rule:admin_api"" has been deprecated since W in # favor of ""share_type:delete"":""rule:system-admin"". # The share type API now supports system scope and default roles. # List share type project access. # GET /types/{share_type_id} # Intended scope(s): system #""share_type:list_project_access"": ""rule:system-reader"" # DEPRECATED # ""share_type:list_project_access"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_type:list_project_access"":""rule:system-reader"". # The share type API now supports system scope and default roles. # Add share type to project. # POST /types/{share_type_id}/action # Intended scope(s): system #""share_type:add_project_access"": ""rule:system-admin"" # DEPRECATED # ""share_type:add_project_access"":""rule:admin_api"" has been deprecated # since W in favor of ""share_type:add_project_access"":""rule:system- # admin"". # The share type API now supports system scope and default roles. # Remove share type from project. # POST /types/{share_type_id}/action # Intended scope(s): system #""share_type:remove_project_access"": ""rule:system-admin"" # DEPRECATED # ""share_type:remove_project_access"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_type:remove_project_access"":""rule:system-admin"". # The share type API now supports system scope and default roles. # Create share type extra spec. # POST /types/{share_type_id}/extra_specs # Intended scope(s): system #""share_types_extra_spec:create"": ""rule:system-admin"" # DEPRECATED # ""share_types_extra_spec:create"":""rule:admin_api"" has been deprecated # since W in favor of ""share_types_extra_spec:create"":""rule:system- # admin"". # The share types extra specs API now supports system scope and # default roles. # Get share type extra specs of a given share type. # GET /types/{share_type_id}/extra_specs # Intended scope(s): system #""share_types_extra_spec:show"": ""rule:system-reader"" # DEPRECATED # ""share_types_extra_spec:show"":""rule:admin_api"" has been deprecated # since W in favor of ""share_types_extra_spec:show"":""rule:system- # reader"". # The share types extra specs API now supports system scope and # default roles. # Get details of a share type extra spec. # GET /types/{share_type_id}/extra_specs/{extra_spec_id} # Intended scope(s): system #""share_types_extra_spec:index"": ""rule:system-reader"" # DEPRECATED # ""share_types_extra_spec:index"":""rule:admin_api"" has been deprecated # since W in favor of ""share_types_extra_spec:index"":""rule:system- # reader"". # The share types extra specs API now supports system scope and # default roles. # Update share type extra spec. # PUT /types/{share_type_id}/extra_specs # Intended scope(s): system #""share_types_extra_spec:update"": ""rule:system-admin"" # DEPRECATED # ""share_types_extra_spec:update"":""rule:admin_api"" has been deprecated # since W in favor of ""share_types_extra_spec:update"":""rule:system- # admin"". # The share types extra specs API now supports system scope and # default roles. # Delete share type extra spec. # DELETE /types/{share_type_id}/extra_specs/{key} # Intended scope(s): system #""share_types_extra_spec:delete"": ""rule:system-admin"" # DEPRECATED # ""share_types_extra_spec:delete"":""rule:admin_api"" has been deprecated # since W in favor of ""share_types_extra_spec:delete"":""rule:system- # admin"". # The share types extra specs API now supports system scope and # default roles. # Get share snapshot. # GET /snapshots/{snapshot_id} # Intended scope(s): system, project #""share_snapshot:get_snapshot"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_snapshot:get_snapshot"":""rule:default"" has been deprecated # since W in favor of ""share_snapshot:get_snapshot"":""(rule:system- # reader) or (rule:project-reader)"". # The share snapshot API now supports system scope and default roles. # Get all share snapshots. # GET /snapshots # GET /snapshots/detail # GET /snapshots?{query} # GET /snapshots/detail?{query} # Intended scope(s): system, project #""share_snapshot:get_all_snapshots"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_snapshot:get_all_snapshots"":""rule:default"" has been # deprecated since W in favor of # ""share_snapshot:get_all_snapshots"":""(rule:system-reader) or # (rule:project-reader)"". # The share snapshot API now supports system scope and default roles. # Force Delete a share snapshot. # DELETE /snapshots/{snapshot_id} # Intended scope(s): system, project #""share_snapshot:force_delete"": ""(rule:system-admin) or (rule:project-admin)"" # DEPRECATED # ""share_snapshot:force_delete"":""rule:admin_api"" has been deprecated # since W in favor of ""share_snapshot:force_delete"":""(rule:system- # admin) or (rule:project-admin)"". # The share snapshot API now supports system scope and default roles. # Manage share snapshot. # POST /snapshots/manage # Intended scope(s): system #""share_snapshot:manage_snapshot"": ""rule:system-admin"" # DEPRECATED # ""share_snapshot:manage_snapshot"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_snapshot:manage_snapshot"":""rule:system-admin"". # The share snapshot API now supports system scope and default roles. # Unmanage share snapshot. # POST /snapshots/{snapshot_id}/action # Intended scope(s): system #""share_snapshot:unmanage_snapshot"": ""rule:system-admin"" # DEPRECATED # ""share_snapshot:unmanage_snapshot"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_snapshot:unmanage_snapshot"":""rule:system-admin"". # The share snapshot API now supports system scope and default roles. # Reset status. # POST /snapshots/{snapshot_id}/action # Intended scope(s): system, project #""share_snapshot:reset_status"": ""(rule:system-admin) or (rule:project-admin)"" # DEPRECATED # ""share_snapshot:reset_status"":""rule:admin_api"" has been deprecated # since W in favor of ""share_snapshot:reset_status"":""(rule:system- # admin) or (rule:project-admin)"". # The share snapshot API now supports system scope and default roles. # List access rules of a share snapshot. # GET /snapshots/{snapshot_id}/access-list # Intended scope(s): system, project #""share_snapshot:access_list"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_snapshot:access_list"":""rule:default"" has been deprecated # since W in favor of ""share_snapshot:access_list"":""(rule:system- # reader) or (rule:project-reader)"". # The share snapshot API now supports system scope and default roles. # Allow access to a share snapshot. # POST /snapshots/{snapshot_id}/action # Intended scope(s): system, project #""share_snapshot:allow_access"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_snapshot:allow_access"":""rule:default"" has been deprecated # since W in favor of ""share_snapshot:allow_access"":""(rule:system- # admin) or (rule:project-member)"". # The share snapshot API now supports system scope and default roles. # Deny access to a share snapshot. # POST /snapshots/{snapshot_id}/action # Intended scope(s): system, project #""share_snapshot:deny_access"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_snapshot:deny_access"":""rule:default"" has been deprecated # since W in favor of ""share_snapshot:deny_access"":""(rule:system- # admin) or (rule:project-member)"". # The share snapshot API now supports system scope and default roles. # List export locations of a share snapshot. # GET /snapshots/{snapshot_id}/export-locations/ # Intended scope(s): system, project #""share_snapshot_export_location:index"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_snapshot_export_location:index"":""rule:default"" has been # deprecated since W in favor of # ""share_snapshot_export_location:index"":""(rule:system-reader) or # (rule:project-reader)"". # The share snapshot location API now supports system scope and # default roles. # Get details of a specified export location of a share snapshot. # GET /snapshots/{snapshot_id}/export-locations/{export_location_id} # Intended scope(s): system, project #""share_snapshot_export_location:show"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_snapshot_export_location:show"":""rule:default"" has been # deprecated since W in favor of # ""share_snapshot_export_location:show"":""(rule:system-reader) or # (rule:project-reader)"". # The share snapshot location API now supports system scope and # default roles. # Get share snapshot instance. # GET /snapshot-instances/{snapshot_instance_id} # Intended scope(s): system #""share_snapshot_instance:show"": ""rule:system-reader"" # DEPRECATED # ""share_snapshot_instance:show"":""rule:admin_api"" has been deprecated # since W in favor of ""share_snapshot_instance:show"":""rule:system- # reader"". # The share snapshot instance API now supports system scope and # default roles. # Get all share snapshot instances. # GET /snapshot-instances # GET /snapshot-instances?{query} # Intended scope(s): system #""share_snapshot_instance:index"": ""rule:system-reader"" # DEPRECATED # ""share_snapshot_instance:index"":""rule:admin_api"" has been deprecated # since W in favor of ""share_snapshot_instance:index"":""rule:system- # reader"". # The share snapshot instance API now supports system scope and # default roles. # Get details of share snapshot instances. # GET /snapshot-instances/detail # GET /snapshot-instances/detail?{query} # Intended scope(s): system #""share_snapshot_instance:detail"": ""rule:system-reader"" # DEPRECATED # ""share_snapshot_instance:detail"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_snapshot_instance:detail"":""rule:system-reader"". # The share snapshot instance API now supports system scope and # default roles. # Reset share snapshot instance's status. # POST /snapshot-instances/{snapshot_instance_id}/action # Intended scope(s): system #""share_snapshot_instance:reset_status"": ""rule:system-admin"" # DEPRECATED # ""share_snapshot_instance:reset_status"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_snapshot_instance:reset_status"":""rule:system-admin"". # The share snapshot instance API now supports system scope and # default roles. # List export locations of a share snapshot instance. # GET /snapshot-instances/{snapshot_instance_id}/export-locations # Intended scope(s): system #""share_snapshot_instance_export_location:index"": ""rule:system-reader"" # DEPRECATED # ""share_snapshot_instance_export_location:index"":""rule:admin_api"" has # been deprecated since W in favor of # ""share_snapshot_instance_export_location:index"":""rule:system- # reader"". # The share snapshot instance export location API now supports system # scope and default roles. # Show details of a specified export location of a share snapshot # instance. # GET /snapshot-instances/{snapshot_instance_id}/export-locations/{export_location_id} # Intended scope(s): system #""share_snapshot_instance_export_location:show"": ""rule:system-reader"" # DEPRECATED # ""share_snapshot_instance_export_location:show"":""rule:admin_api"" has # been deprecated since W in favor of # ""share_snapshot_instance_export_location:show"":""rule:system-reader"". # The share snapshot instance export location API now supports system # scope and default roles. # Get share servers. # GET /share-servers # GET /share-servers?{query} # Intended scope(s): system #""share_server:index"": ""rule:system-reader"" # DEPRECATED # ""share_server:index"":""rule:admin_api"" has been deprecated since W in # favor of ""share_server:index"":""rule:system-reader"". # The share server API now supports system scope and default roles. # Show share server. # GET /share-servers/{server_id} # Intended scope(s): system #""share_server:show"": ""rule:system-reader"" # DEPRECATED # ""share_server:show"":""rule:admin_api"" has been deprecated since W in # favor of ""share_server:show"":""rule:system-reader"". # The share server API now supports system scope and default roles. # Get share server details. # GET /share-servers/{server_id}/details # Intended scope(s): system #""share_server:details"": ""rule:system-reader"" # DEPRECATED # ""share_server:details"":""rule:admin_api"" has been deprecated since W # in favor of ""share_server:details"":""rule:system-reader"". # The share server API now supports system scope and default roles. # Delete share server. # DELETE /share-servers/{server_id} # Intended scope(s): system #""share_server:delete"": ""rule:system-admin"" # DEPRECATED # ""share_server:delete"":""rule:admin_api"" has been deprecated since W # in favor of ""share_server:delete"":""rule:system-admin"". # The share server API now supports system scope and default roles. # Manage share server. # POST /share-servers/manage # Intended scope(s): system #""share_server:manage_share_server"": ""rule:system-admin"" # DEPRECATED # ""share_server:manage_share_server"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_server:manage_share_server"":""rule:system-admin"". # The share server API now supports system scope and default roles. # Unmanage share server. # POST /share-servers/{share_server_id}/action # Intended scope(s): system #""share_server:unmanage_share_server"": ""rule:system-admin"" # DEPRECATED # ""share_server:unmanage_share_server"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_server:unmanage_share_server"":""rule:system-admin"". # The share server API now supports system scope and default roles. # Reset the status of a share server. # POST /share-servers/{share_server_id}/action # Intended scope(s): system #""share_server:reset_status"": ""rule:system-admin"" # DEPRECATED # ""share_server:reset_status"":""rule:admin_api"" has been deprecated # since W in favor of ""share_server:reset_status"":""rule:system-admin"". # The share server API now supports system scope and default roles. # Migrates a share server to the specified host. # POST /share-servers/{share_server_id}/action # Intended scope(s): system #""share_server:share_server_migration_start"": ""rule:system-admin"" # DEPRECATED # ""share_server:share_server_migration_start"":""rule:admin_api"" has # been deprecated since W in favor of # ""share_server:share_server_migration_start"":""rule:system-admin"". # The share server API now supports system scope and default roles. # Check if can migrates a share server to the specified host. # POST /share-servers/{share_server_id}/action # Intended scope(s): system #""share_server:share_server_migration_check"": ""rule:system-reader"" # DEPRECATED # ""share_server:share_server_migration_check"":""rule:admin_api"" has # been deprecated since W in favor of # ""share_server:share_server_migration_check"":""rule:system-reader"". # The share server API now supports system scope and default roles. # Invokes the 2nd phase of share server migration. # POST /share-servers/{share_server_id}/action # Intended scope(s): system #""share_server:share_server_migration_complete"": ""rule:system-admin"" # DEPRECATED # ""share_server:share_server_migration_complete"":""rule:admin_api"" has # been deprecated since W in favor of # ""share_server:share_server_migration_complete"":""rule:system-admin"". # The share server API now supports system scope and default roles. # Attempts to cancel share server migration. # POST /share-servers/{share_server_id}/action # Intended scope(s): system #""share_server:share_server_migration_cancel"": ""rule:system-admin"" # DEPRECATED # ""share_server:share_server_migration_cancel"":""rule:admin_api"" has # been deprecated since W in favor of # ""share_server:share_server_migration_cancel"":""rule:system-admin"". # The share server API now supports system scope and default roles. # Retrieves the share server migration progress for a given share # server. # POST /share-servers/{share_server_id}/action # Intended scope(s): system #""share_server:share_server_migration_get_progress"": ""rule:system-reader"" # DEPRECATED # ""share_server:share_server_migration_get_progress"":""rule:admin_api"" # has been deprecated since W in favor of # ""share_server:share_server_migration_get_progress"":""rule:system- # reader"". # The share server API now supports system scope and default roles. # Resets task state. # POST /share-servers/{share_server_id}/action # Intended scope(s): system #""share_server:share_server_reset_task_state"": ""rule:system-admin"" # DEPRECATED # ""share_server:share_server_reset_task_state"":""rule:admin_api"" has # been deprecated since W in favor of # ""share_server:share_server_reset_task_state"":""rule:system-admin"". # The share server API now supports system scope and default roles. # Return a list of all running services. # GET /os-services # GET /os-services?{query} # GET /services # GET /services?{query} # Intended scope(s): system #""service:index"": ""rule:system-reader"" # DEPRECATED # ""service:index"":""rule:admin_api"" has been deprecated since W in # favor of ""service:index"":""rule:system-reader"". # The service API now supports system scope and default roles. # Enable/Disable scheduling for a service. # PUT /os-services/disable # PUT /os-services/enable # PUT /services/disable # PUT /services/enable # Intended scope(s): system #""service:update"": ""rule:system-admin"" # DEPRECATED # ""service:update"":""rule:admin_api"" has been deprecated since W in # favor of ""service:update"":""rule:system-admin"". # The service API now supports system scope and default roles. # Update the quotas for a project/user and/or share type. # PUT /quota-sets/{tenant_id} # PUT /quota-sets/{tenant_id}?user_id={user_id} # PUT /quota-sets/{tenant_id}?share_type={share_type_id} # PUT /os-quota-sets/{tenant_id} # PUT /os-quota-sets/{tenant_id}?user_id={user_id} # Intended scope(s): system #""quota_set:update"": ""rule:system-admin"" # DEPRECATED # ""quota_set:update"":""rule:admin_api"" has been deprecated since W in # favor of ""quota_set:update"":""rule:system-admin"". # The quota API now supports system scope and default roles. # List the quotas for a tenant/user. # GET /quota-sets/{tenant_id}/defaults # GET /os-quota-sets/{tenant_id}/defaults # Intended scope(s): system, project #""quota_set:show"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""quota_set:show"":""rule:default"" has been deprecated since W in favor # of ""quota_set:show"":""(rule:system-reader) or (rule:project-reader)"". # The quota API now supports system scope and default roles. # Delete quota for a tenant/user or tenant/share-type. The quota will # revert back to default (Admin only). # DELETE /quota-sets/{tenant_id} # DELETE /quota-sets/{tenant_id}?user_id={user_id} # DELETE /quota-sets/{tenant_id}?share_type={share_type_id} # DELETE /os-quota-sets/{tenant_id} # DELETE /os-quota-sets/{tenant_id}?user_id={user_id} # Intended scope(s): system #""quota_set:delete"": ""rule:system-admin"" # DEPRECATED # ""quota_set:delete"":""rule:admin_api"" has been deprecated since W in # favor of ""quota_set:delete"":""rule:system-admin"". # The quota API now supports system scope and default roles. # Update quota class. # PUT /quota-class-sets/{class_name} # PUT /os-quota-class-sets/{class_name} # Intended scope(s): system #""quota_class_set:update"": ""rule:system-admin"" # DEPRECATED # ""quota_class_set:update"":""rule:admin_api"" has been deprecated since # W in favor of ""quota_class_set:update"":""rule:system-admin"". # The quota class API now supports system scope and default roles. # Get quota class. # GET /quota-class-sets/{class_name} # GET /os-quota-class-sets/{class_name} # Intended scope(s): system, project #""quota_class_set:show"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""quota_class_set:show"":""rule:default"" has been deprecated since W in # favor of ""quota_class_set:show"":""(rule:system-reader) or # (rule:project-reader)"". # The quota class API now supports system scope and default roles. # Create share group type specs. # POST /share-group-types/{share_group_type_id}/group-specs # Intended scope(s): system #""share_group_types_spec:create"": ""rule:system-admin"" # DEPRECATED # ""share_group_types_spec:create"":""rule:admin_api"" has been deprecated # since W in favor of ""share_group_types_spec:create"":""rule:system- # admin"". # The share group type specs API now support system scope and default # roles. # Get share group type specs. # GET /share-group-types/{share_group_type_id}/group-specs # Intended scope(s): system #""share_group_types_spec:index"": ""rule:system-reader"" # DEPRECATED # ""share_group_types_spec:index"":""rule:admin_api"" has been deprecated # since W in favor of ""share_group_types_spec:index"":""rule:system- # reader"". # The share group type specs API now support system scope and default # roles. # Get details of a share group type spec. # GET /share-group-types/{share_group_type_id}/group-specs/{key} # Intended scope(s): system #""share_group_types_spec:show"": ""rule:system-reader"" # DEPRECATED # ""share_group_types_spec:show"":""rule:admin_api"" has been deprecated # since W in favor of ""share_group_types_spec:show"":""rule:system- # reader"". # The share group type specs API now support system scope and default # roles. # Update a share group type spec. # PUT /share-group-types/{share_group_type_id}/group-specs/{key} # Intended scope(s): system #""share_group_types_spec:update"": ""rule:system-admin"" # DEPRECATED # ""share_group_types_spec:update"":""rule:admin_api"" has been deprecated # since W in favor of ""share_group_types_spec:update"":""rule:system- # admin"". # The share group type specs API now support system scope and default # roles. # Delete a share group type spec. # DELETE /share-group-types/{share_group_type_id}/group-specs/{key} # Intended scope(s): system #""share_group_types_spec:delete"": ""rule:system-admin"" # DEPRECATED # ""share_group_types_spec:delete"":""rule:admin_api"" has been deprecated # since W in favor of ""share_group_types_spec:delete"":""rule:system- # admin"". # The share group type specs API now support system scope and default # roles. # Create a new share group type. # POST /share-group-types # Intended scope(s): system #""share_group_type:create"": ""rule:system-admin"" # DEPRECATED # ""share_group_type:create"":""rule:admin_api"" has been deprecated since # W in favor of ""share_group_type:create"":""rule:system-admin"". # The share group type API now supports system scope and default # roles. # Get the list of share group types. # GET /share-group-types # GET /share-group-types?is_public=all # Intended scope(s): system, project #""share_group_type:index"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_group_type:index"":""rule:default"" has been deprecated since W # in favor of ""share_group_type:index"":""(rule:system-reader) or # (rule:project-reader)"". # The share group type API now supports system scope and default # roles. # Get details regarding the specified share group type. # GET /share-group-types/{share_group_type_id} # Intended scope(s): system, project #""share_group_type:show"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_group_type:show"":""rule:default"" has been deprecated since W # in favor of ""share_group_type:show"":""(rule:system-reader) or # (rule:project-reader)"". # The share group type API now supports system scope and default # roles. # Get the default share group type. # GET /share-group-types/default # Intended scope(s): system, project #""share_group_type:default"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_group_type:default"":""rule:default"" has been deprecated since # W in favor of ""share_group_type:default"":""(rule:system-reader) or # (rule:project-reader)"". # The share group type API now supports system scope and default # roles. # Delete an existing group type. # DELETE /share-group-types/{share_group_type_id} # Intended scope(s): system #""share_group_type:delete"": ""rule:system-admin"" # DEPRECATED # ""share_group_type:delete"":""rule:admin_api"" has been deprecated since # W in favor of ""share_group_type:delete"":""rule:system-admin"". # The share group type API now supports system scope and default # roles. # Get project access by share group type. # GET /share-group-types/{share_group_type_id}/access # Intended scope(s): system #""share_group_type:list_project_access"": ""rule:system-reader"" # DEPRECATED # ""share_group_type:list_project_access"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_group_type:list_project_access"":""rule:system-reader"". # The share group type API now supports system scope and default # roles. # Allow project to use the share group type. # POST /share-group-types/{share_group_type_id}/action # Intended scope(s): system #""share_group_type:add_project_access"": ""rule:system-admin"" # DEPRECATED # ""share_group_type:add_project_access"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_group_type:add_project_access"":""rule:system-admin"". # The share group type API now supports system scope and default # roles. # Deny project access to use the share group type. # POST /share-group-types/{share_group_type_id}/action # Intended scope(s): system #""share_group_type:remove_project_access"": ""rule:system-admin"" # DEPRECATED # ""share_group_type:remove_project_access"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_group_type:remove_project_access"":""rule:system-admin"". # The share group type API now supports system scope and default # roles. # Create a new share group snapshot. # POST /share-group-snapshots # Intended scope(s): system, project #""share_group_snapshot:create"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_group_snapshot:create"":""rule:default"" has been deprecated # since W in favor of ""share_group_snapshot:create"":""(rule:system- # admin) or (rule:project-member)"". # The share group snapshots API now supports system scope and default # roles. # Get details of a share group snapshot. # GET /share-group-snapshots/{share_group_snapshot_id} # Intended scope(s): system, project #""share_group_snapshot:get"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_group_snapshot:get"":""rule:default"" has been deprecated since # W in favor of ""share_group_snapshot:get"":""(rule:system-reader) or # (rule:project-reader)"". # The share group snapshots API now supports system scope and default # roles. # Get all share group snapshots. # GET /share-group-snapshots # GET /share-group-snapshots/detail # GET /share-group-snapshots/{query} # GET /share-group-snapshots/detail?{query} # Intended scope(s): system, project #""share_group_snapshot:get_all"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_group_snapshot:get_all"":""rule:default"" has been deprecated # since W in favor of ""share_group_snapshot:get_all"":""(rule:system- # reader) or (rule:project-reader)"". # The share group snapshots API now supports system scope and default # roles. # Update a share group snapshot. # PUT /share-group-snapshots/{share_group_snapshot_id} # Intended scope(s): system, project #""share_group_snapshot:update"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_group_snapshot:update"":""rule:default"" has been deprecated # since W in favor of ""share_group_snapshot:update"":""(rule:system- # admin) or (rule:project-member)"". # The share group snapshots API now supports system scope and default # roles. # Delete a share group snapshot. # DELETE /share-group-snapshots/{share_group_snapshot_id} # Intended scope(s): system, project #""share_group_snapshot:delete"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_group_snapshot:delete"":""rule:default"" has been deprecated # since W in favor of ""share_group_snapshot:delete"":""(rule:system- # admin) or (rule:project-member)"". # The share group snapshots API now supports system scope and default # roles. # Force delete a share group snapshot. # POST /share-group-snapshots/{share_group_snapshot_id}/action # Intended scope(s): system, project #""share_group_snapshot:force_delete"": ""(rule:system-admin) or (rule:project-admin)"" # DEPRECATED # ""share_group_snapshot:force_delete"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_group_snapshot:force_delete"":""(rule:system-admin) or # (rule:project-admin)"". # The share group snapshots API now supports system scope and default # roles. # Reset a share group snapshot's status. # POST /share-group-snapshots/{share_group_snapshot_id}/action # Intended scope(s): system, project #""share_group_snapshot:reset_status"": ""(rule:system-admin) or (rule:project-admin)"" # DEPRECATED # ""share_group_snapshot:reset_status"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_group_snapshot:reset_status"":""(rule:system-admin) or # (rule:project-admin)"". # The share group snapshots API now supports system scope and default # roles. # Create share group. # POST /share-groups # Intended scope(s): system, project #""share_group:create"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_group:create"":""rule:default"" has been deprecated since W in # favor of ""share_group:create"":""(rule:system-admin) or (rule:project- # member)"". # The share group API now supports system scope and default roles. # Get details of a share group. # GET /share-groups/{share_group_id} # Intended scope(s): system, project #""share_group:get"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_group:get"":""rule:default"" has been deprecated since W in # favor of ""share_group:get"":""(rule:system-reader) or (rule:project- # reader)"". # The share group API now supports system scope and default roles. # Get all share groups. # GET /share-groups # GET /share-groups/detail # GET /share-groups?{query} # GET /share-groups/detail?{query} # Intended scope(s): system, project #""share_group:get_all"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_group:get_all"":""rule:default"" has been deprecated since W in # favor of ""share_group:get_all"":""(rule:system-reader) or # (rule:project-reader)"". # The share group API now supports system scope and default roles. # Update share group. # PUT /share-groups/{share_group_id} # Intended scope(s): system, project #""share_group:update"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_group:update"":""rule:default"" has been deprecated since W in # favor of ""share_group:update"":""(rule:system-admin) or (rule:project- # member)"". # The share group API now supports system scope and default roles. # Delete share group. # DELETE /share-groups/{share_group_id} # Intended scope(s): system, project #""share_group:delete"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_group:delete"":""rule:default"" has been deprecated since W in # favor of ""share_group:delete"":""(rule:system-admin) or (rule:project- # member)"". # The share group API now supports system scope and default roles. # Force delete a share group. # POST /share-groups/{share_group_id}/action # Intended scope(s): system, project #""share_group:force_delete"": ""(rule:system-admin) or (rule:project-admin)"" # DEPRECATED # ""share_group:force_delete"":""rule:admin_api"" has been deprecated # since W in favor of ""share_group:force_delete"":""(rule:system-admin) # or (rule:project-admin)"". # The share group API now supports system scope and default roles. # Reset share group's status. # POST /share-groups/{share_group_id}/action # Intended scope(s): system, project #""share_group:reset_status"": ""(rule:system-admin) or (rule:project-admin)"" # DEPRECATED # ""share_group:reset_status"":""rule:admin_api"" has been deprecated # since W in favor of ""share_group:reset_status"":""(rule:system-admin) # or (rule:project-admin)"". # The share group API now supports system scope and default roles. # Create share replica. # POST /share-replicas # Intended scope(s): system, project #""share_replica:create"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_replica:create"":""rule:default"" has been deprecated since W in # favor of ""share_replica:create"":""(rule:system-admin) or # (rule:project-member)"". # The share replica API now supports system scope and default roles. # Get all share replicas. # GET /share-replicas # GET /share-replicas/detail # GET /share-replicas/detail?share_id={share_id} # Intended scope(s): system, project #""share_replica:get_all"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_replica:get_all"":""rule:default"" has been deprecated since W # in favor of ""share_replica:get_all"":""(rule:system-reader) or # (rule:project-reader)"". # The share replica API now supports system scope and default roles. # Get details of a share replica. # GET /share-replicas/{share_replica_id} # Intended scope(s): system, project #""share_replica:show"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_replica:show"":""rule:default"" has been deprecated since W in # favor of ""share_replica:show"":""(rule:system-reader) or # (rule:project-reader)"". # The share replica API now supports system scope and default roles. # Delete a share replica. # DELETE /share-replicas/{share_replica_id} # Intended scope(s): system, project #""share_replica:delete"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_replica:delete"":""rule:default"" has been deprecated since W in # favor of ""share_replica:delete"":""(rule:system-admin) or # (rule:project-member)"". # The share replica API now supports system scope and default roles. # Force delete a share replica. # POST /share-replicas/{share_replica_id}/action # Intended scope(s): system, project #""share_replica:force_delete"": ""(rule:system-admin) or (rule:project-admin)"" # DEPRECATED # ""share_replica:force_delete"":""rule:admin_api"" has been deprecated # since W in favor of ""share_replica:force_delete"":""(rule:system- # admin) or (rule:project-admin)"". # The share replica API now supports system scope and default roles. # Promote a non-active share replica to active. # POST /share-replicas/{share_replica_id}/action # Intended scope(s): system, project #""share_replica:promote"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_replica:promote"":""rule:default"" has been deprecated since W # in favor of ""share_replica:promote"":""(rule:system-admin) or # (rule:project-member)"". # The share replica API now supports system scope and default roles. # Resync a share replica that is out of sync. # POST /share-replicas/{share_replica_id}/action # Intended scope(s): system, project #""share_replica:resync"": ""(rule:system-admin) or (rule:project-admin)"" # DEPRECATED # ""share_replica:resync"":""rule:admin_api"" has been deprecated since W # in favor of ""share_replica:resync"":""(rule:system-admin) or # (rule:project-admin)"". # The share replica API now supports system scope and default roles. # Reset share replica's replica_state attribute. # POST /share-replicas/{share_replica_id}/action # Intended scope(s): system, project #""share_replica:reset_replica_state"": ""(rule:system-admin) or (rule:project-admin)"" # DEPRECATED # ""share_replica:reset_replica_state"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_replica:reset_replica_state"":""(rule:system-admin) or # (rule:project-admin)"". # The share replica API now supports system scope and default roles. # Reset share replica's status. # POST /share-replicas/{share_replica_id}/action # Intended scope(s): system, project #""share_replica:reset_status"": ""(rule:system-admin) or (rule:project-admin)"" # DEPRECATED # ""share_replica:reset_status"":""rule:admin_api"" has been deprecated # since W in favor of ""share_replica:reset_status"":""(rule:system- # admin) or (rule:project-admin)"". # The share replica API now supports system scope and default roles. # Get all export locations of a given share replica. # GET /share-replicas/{share_replica_id}/export-locations # Intended scope(s): system, project #""share_replica_export_location:index"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_replica_export_location:index"":""rule:default"" has been # deprecated since W in favor of # ""share_replica_export_location:index"":""(rule:system-reader) or # (rule:project-reader)"". # The share replica export location API now supports system scope and # default roles. # Get details about the requested share replica export location. # GET /share-replicas/{share_replica_id}/export-locations/{export_location_id} # Intended scope(s): system, project #""share_replica_export_location:show"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_replica_export_location:show"":""rule:default"" has been # deprecated since W in favor of # ""share_replica_export_location:show"":""(rule:system-reader) or # (rule:project-reader)"". # The share replica export location API now supports system scope and # default roles. # Create share network. # POST /share-networks # Intended scope(s): system, project #""share_network:create"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_network:create"":""rule:default"" has been deprecated since W in # favor of ""share_network:create"":""(rule:system-admin) or # (rule:project-member)"". # The share network API now support system scope and default roles. # Get details of a share network. # GET /share-networks/{share_network_id} # Intended scope(s): system, project #""share_network:show"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_network:show"":""rule:default"" has been deprecated since W in # favor of ""share_network:show"":""(rule:system-reader) or # (rule:project-reader)"". # The share network API now support system scope and default roles. # Get all share networks. # GET /share-networks # GET /share-networks?{query} # Intended scope(s): system, project #""share_network:index"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_network:index"":""rule:default"" has been deprecated since W in # favor of ""share_network:index"":""(rule:system-reader) or # (rule:project-reader)"". # The share network API now support system scope and default roles. # Get details of share networks . # GET /share-networks/detail?{query} # GET /share-networks/detail # Intended scope(s): system, project #""share_network:detail"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_network:detail"":""rule:default"" has been deprecated since W in # favor of ""share_network:detail"":""(rule:system-reader) or # (rule:project-reader)"". # The share network API now support system scope and default roles. # Update a share network. # PUT /share-networks/{share_network_id} # Intended scope(s): system, project #""share_network:update"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_network:update"":""rule:default"" has been deprecated since W in # favor of ""share_network:update"":""(rule:system-admin) or # (rule:project-member)"". # The share network API now support system scope and default roles. # Delete a share network. # DELETE /share-networks/{share_network_id} # Intended scope(s): system, project #""share_network:delete"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_network:delete"":""rule:default"" has been deprecated since W in # favor of ""share_network:delete"":""(rule:system-admin) or # (rule:project-member)"". # The share network API now support system scope and default roles. # Add security service to share network. # POST /share-networks/{share_network_id}/action # Intended scope(s): system, project #""share_network:add_security_service"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_network:add_security_service"":""rule:default"" has been # deprecated since W in favor of # ""share_network:add_security_service"":""(rule:system-admin) or # (rule:project-member)"". # The share network API now support system scope and default roles. # Check the feasibility of add security service to a share network. # POST /share-networks/{share_network_id}/action # Intended scope(s): system, project #""share_network:add_security_service_check"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_network:add_security_service_check"":""rule:default"" has been # deprecated since W in favor of # ""share_network:add_security_service_check"":""(rule:system-admin) or # (rule:project-member)"". # The share network API now support system scope and default roles. # Remove security service from share network. # POST /share-networks/{share_network_id}/action # Intended scope(s): system, project #""share_network:remove_security_service"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_network:remove_security_service"":""rule:default"" has been # deprecated since W in favor of # ""share_network:remove_security_service"":""(rule:system-admin) or # (rule:project-member)"". # The share network API now support system scope and default roles. # Update security service from share network. # POST /share-networks/{share_network_id}/action # Intended scope(s): system, project #""share_network:update_security_service"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_network:update_security_service"":""rule:default"" has been # deprecated since W in favor of # ""share_network:update_security_service"":""(rule:system-admin) or # (rule:project-member)"". # The share network API now support system scope and default roles. # Check the feasibility of update a security service from share # network. # POST /share-networks/{share_network_id}/action # Intended scope(s): system, project #""share_network:update_security_service_check"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_network:update_security_service_check"":""rule:default"" has # been deprecated since W in favor of # ""share_network:update_security_service_check"":""(rule:system-admin) # or (rule:project-member)"". # The share network API now support system scope and default roles. # Reset share network`s status. # POST /share-networks/{share_network_id}/action # Intended scope(s): system, project #""share_network:reset_status"": ""(rule:system-admin) or (rule:project-admin)"" # DEPRECATED # ""share_network:reset_status"":""rule:admin_api"" has been deprecated # since W in favor of ""share_network:reset_status"":""(rule:system- # admin) or (rule:project-admin)"". # The share network API now support system scope and default roles. # Get share networks belonging to all projects. # GET /share-networks?all_tenants=1 # GET /share-networks/detail?all_tenants=1 # Intended scope(s): system #""share_network:get_all_share_networks"": ""rule:system-reader"" # DEPRECATED # ""share_network:get_all_share_networks"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_network:get_all_share_networks"":""rule:system-reader"". # The share network API now support system scope and default roles. # Create a new share network subnet. # POST /share-networks/{share_network_id}/subnets # Intended scope(s): system, project #""share_network_subnet:create"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_network_subnet:create"":""rule:default"" has been deprecated # since W in favor of ""share_network_subnet:create"":""(rule:system- # admin) or (rule:project-member)"". # The share network subnet API now supports system scope and default # roles. # Delete a share network subnet. # DELETE /share-networks/{share_network_id}/subnets/{share_network_subnet_id} # Intended scope(s): system, project #""share_network_subnet:delete"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_network_subnet:delete"":""rule:default"" has been deprecated # since W in favor of ""share_network_subnet:delete"":""(rule:system- # admin) or (rule:project-member)"". # The share network subnet API now supports system scope and default # roles. # Shows a share network subnet. # GET /share-networks/{share_network_id}/subnets/{share_network_subnet_id} # Intended scope(s): system, project #""share_network_subnet:show"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_network_subnet:show"":""rule:default"" has been deprecated since # W in favor of ""share_network_subnet:show"":""(rule:system-reader) or # (rule:project-reader)"". # The share network subnet API now supports system scope and default # roles. # Get all share network subnets. # GET /share-networks/{share_network_id}/subnets # Intended scope(s): system, project #""share_network_subnet:index"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_network_subnet:index"":""rule:default"" has been deprecated # since W in favor of ""share_network_subnet:index"":""(rule:system- # reader) or (rule:project-reader)"". # The share network subnet API now supports system scope and default # roles. # Create security service. # POST /security-services # Intended scope(s): system, project #""security_service:create"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""security_service:create"":""rule:default"" has been deprecated since W # in favor of ""security_service:create"":""(rule:system-admin) or # (rule:project-member)"". # The security service API now supports system scope and default # roles. # Get details of a security service. # GET /security-services/{security_service_id} # Intended scope(s): system, project #""security_service:show"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""security_service:show"":""rule:default"" has been deprecated since W # in favor of ""security_service:show"":""(rule:system-reader) or # (rule:project-reader)"". # The security service API now supports system scope and default # roles. # Get details of all security services. # GET /security-services/detail?{query} # GET /security-services/detail # Intended scope(s): system, project #""security_service:detail"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""security_service:detail"":""rule:default"" has been deprecated since W # in favor of ""security_service:detail"":""(rule:system-reader) or # (rule:project-reader)"". # The security service API now supports system scope and default # roles. # Get all security services. # GET /security-services # GET /security-services?{query} # Intended scope(s): system, project #""security_service:index"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""security_service:index"":""rule:default"" has been deprecated since W # in favor of ""security_service:index"":""(rule:system-reader) or # (rule:project-reader)"". # The security service API now supports system scope and default # roles. # Update a security service. # PUT /security-services/{security_service_id} # Intended scope(s): system, project #""security_service:update"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""security_service:update"":""rule:default"" has been deprecated since W # in favor of ""security_service:update"":""(rule:system-admin) or # (rule:project-member)"". # The security service API now supports system scope and default # roles. # Delete a security service. # DELETE /security-services/{security_service_id} # Intended scope(s): system, project #""security_service:delete"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""security_service:delete"":""rule:default"" has been deprecated since W # in favor of ""security_service:delete"":""(rule:system-admin) or # (rule:project-member)"". # The security service API now supports system scope and default # roles. # Get security services of all projects. # GET /security-services?all_tenants=1 # GET /security-services/detail?all_tenants=1 # Intended scope(s): system #""security_service:get_all_security_services"": ""rule:system-reader"" # DEPRECATED # ""security_service:get_all_security_services"":""rule:admin_api"" has # been deprecated since W in favor of # ""security_service:get_all_security_services"":""rule:system-reader"". # The security service API now supports system scope and default # roles. # Get all export locations of a given share. # GET /shares/{share_id}/export_locations # Intended scope(s): system, project #""share_export_location:index"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_export_location:index"":""rule:default"" has been deprecated # since W in favor of ""share_export_location:index"":""(rule:system- # reader) or (rule:project-reader)"". # The share export location API now support system scope and default # roles. # Get details about the requested export location. # GET /shares/{share_id}/export_locations/{export_location_id} # Intended scope(s): system, project #""share_export_location:show"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_export_location:show"":""rule:default"" has been deprecated # since W in favor of ""share_export_location:show"":""(rule:system- # reader) or (rule:project-reader)"". # The share export location API now support system scope and default # roles. # Get all share instances. # GET /share_instances # GET /share_instances?{query} # Intended scope(s): system #""share_instance:index"": ""rule:system-reader"" # DEPRECATED # ""share_instance:index"":""rule:admin_api"" has been deprecated since W # in favor of ""share_instance:index"":""rule:system-reader"". # The share instances API now supports system scope and default roles. # Get details of a share instance. # GET /share_instances/{share_instance_id} # Intended scope(s): system #""share_instance:show"": ""rule:system-reader"" # DEPRECATED # ""share_instance:show"":""rule:admin_api"" has been deprecated since W # in favor of ""share_instance:show"":""rule:system-reader"". # The share instances API now supports system scope and default roles. # Force delete a share instance. # POST /share_instances/{share_instance_id}/action # Intended scope(s): system #""share_instance:force_delete"": ""rule:system-admin"" # DEPRECATED # ""share_instance:force_delete"":""rule:admin_api"" has been deprecated # since W in favor of ""share_instance:force_delete"":""rule:system- # admin"". # The share instances API now supports system scope and default roles. # Reset share instance's status. # POST /share_instances/{share_instance_id}/action # Intended scope(s): system #""share_instance:reset_status"": ""rule:system-admin"" # DEPRECATED # ""share_instance:reset_status"":""rule:admin_api"" has been deprecated # since W in favor of ""share_instance:reset_status"":""rule:system- # admin"". # The share instances API now supports system scope and default roles. # Get details of a given message. # GET /messages/{message_id} # Intended scope(s): system, project #""message:get"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""message:get"":""rule:default"" has been deprecated since W in favor of # ""message:get"":""(rule:system-reader) or (rule:project-reader)"". # The messages API now supports system scope and default roles. # Get all messages. # GET /messages # GET /messages?{query} # Intended scope(s): system, project #""message:get_all"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""message:get_all"":""rule:default"" has been deprecated since W in # favor of ""message:get_all"":""(rule:system-reader) or (rule:project- # reader)"". # The messages API now supports system scope and default roles. # Delete a message. # DELETE /messages/{message_id} # Intended scope(s): system, project #""message:delete"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""message:delete"":""rule:default"" has been deprecated since W in favor # of ""message:delete"":""(rule:system-admin) or (rule:project-member)"". # The messages API now supports system scope and default roles. # Get details of a share access rule. # GET /share-access-rules/{share_access_id} # Intended scope(s): system, project #""share_access_rule:get"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_access_rule:get"":""rule:default"" has been deprecated since W # in favor of ""share_access_rule:get"":""(rule:system-reader) or # (rule:project-reader)"". # The share access rule API now supports system scope and default # roles. # List access rules of a given share. # GET /share-access-rules?share_id={share_id}&key1=value1&key2=value2 # Intended scope(s): system, project #""share_access_rule:index"": ""(rule:system-reader) or (rule:project-reader)"" # DEPRECATED # ""share_access_rule:index"":""rule:default"" has been deprecated since W # in favor of ""share_access_rule:index"":""(rule:system-reader) or # (rule:project-reader)"". # The share access rule API now supports system scope and default # roles. # Set metadata for a share access rule. # PUT /share-access-rules/{share_access_id}/metadata # Intended scope(s): system, project #""share_access_metadata:update"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_access_metadata:update"":""rule:default"" has been deprecated # since W in favor of ""share_access_metadata:update"":""(rule:system- # admin) or (rule:project-member)"". # The share access metadata API now support system scope and default # roles. # Delete metadata for a share access rule. # DELETE /share-access-rules/{share_access_id}/metadata/{key} # Intended scope(s): system, project #""share_access_metadata:delete"": ""(rule:system-admin) or (rule:project-member)"" # DEPRECATED # ""share_access_metadata:delete"":""rule:default"" has been deprecated # since W in favor of ""share_access_metadata:delete"":""(rule:system- # admin) or (rule:project-member)"". # The share access metadata API now support system scope and default # roles. ",,4280,1
openstack%2Fvalidations-common~master~Ida25474d687fba690ab6a342ac61a484e6d939fa,openstack/validations-common,master,Ida25474d687fba690ab6a342ac61a484e6d939fa,Fallback on PWD for the Validation json log instead of getcwd,MERGED,2021-04-06 21:25:31.000000000,2021-04-08 19:27:05.000000000,2021-04-08 19:27:05.000000000,"[{'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-04-06 21:25:31.000000000', 'files': ['validations_common/callback_plugins/validation_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d67b2a0097dba876d609dfa9ad92968101d4b879', 'message': 'Fallback on PWD for the Validation json log instead of getcwd\n\nfallback on getcwd is wrong because the current directory for\nthe ansible runtime is somewhere in the artifact dir..\nWe should fallback in the PWD of the current user instead, then\nthe user and the framework could find the log when\n/var/log/validations does not exists\n\nChange-Id: Ida25474d687fba690ab6a342ac61a484e6d939fa\n'}]",3,785050,d67b2a0097dba876d609dfa9ad92968101d4b879,10,6,1,16515,,,0,"Fallback on PWD for the Validation json log instead of getcwd

fallback on getcwd is wrong because the current directory for
the ansible runtime is somewhere in the artifact dir..
We should fallback in the PWD of the current user instead, then
the user and the framework could find the log when
/var/log/validations does not exists

Change-Id: Ida25474d687fba690ab6a342ac61a484e6d939fa
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/50/785050/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/callback_plugins/validation_json.py'],1,d67b2a0097dba876d609dfa9ad92968101d4b879,callback/default/path, os.environ.get('PWD'))), os.getcwd())),1,1
openstack%2Ftripleo-heat-templates~master~I93fea9aa35c3c4207b22dc54542f8580e0444e72,openstack/tripleo-heat-templates,master,I93fea9aa35c3c4207b22dc54542f8580e0444e72,Set Designate mdns to listen on both ipv6 and ipv4,MERGED,2020-09-03 03:31:16.000000000,2021-04-08 19:26:50.000000000,2021-04-08 19:26:50.000000000,"[{'_account_id': 6681}, {'_account_id': 6994}, {'_account_id': 7144}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-03 03:31:16.000000000', 'files': ['deployment/experimental/designate/designate-mdns-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5cfb038cf8980fcebc14447c409b82094d85c3f3', 'message': 'Set Designate mdns to listen on both ipv6 and ipv4\n\nIf using an ipv6 external network, mdns needs to be listening on\nipv6 so that bind instances outside the tripleo deployment\ncan pull their zone data.\n\nChange-Id: I93fea9aa35c3c4207b22dc54542f8580e0444e72\n'}]",1,749629,5cfb038cf8980fcebc14447c409b82094d85c3f3,13,6,1,6994,,,0,"Set Designate mdns to listen on both ipv6 and ipv4

If using an ipv6 external network, mdns needs to be listening on
ipv6 so that bind instances outside the tripleo deployment
can pull their zone data.

Change-Id: I93fea9aa35c3c4207b22dc54542f8580e0444e72
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/749629/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/experimental/designate/designate-mdns-container-puppet.yaml'],1,5cfb038cf8980fcebc14447c409b82094d85c3f3,designate-mdns-ipv6, - designate::mdns::listen: - '0.0.0.0:5354' - '[::]:5354',,3,0
openstack%2Fpuppet-tripleo~master~Ie24f82fcede4d2862f9e6a49734959499d9fd845,openstack/puppet-tripleo,master,Ie24f82fcede4d2862f9e6a49734959499d9fd845,cinder: remove ineffective implementation about key_mgr_backend,MERGED,2021-04-05 11:37:49.000000000,2021-04-08 19:26:30.000000000,2021-04-08 19:26:30.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 11:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ad5f247882cc6e14b565f1b551d171cdde3061fa', 'message': ""cinder: remove ineffective implementation about key_mgr_backend\n\nChange c376d64e5f0b38165fa50feee04c2de0e1d851bc deprecated\nthe key_mgr_backend parameter of the cinder::api class, but the logic\nto pick up the deprecatd parameter, which was implemented by this\nchange, was invalid because the cinder class is included before\nthe cinder::api class is included.\nThis change removes the invalid implementation and makes that parameter\njust ineffective, since we don't expec users or tht uses that specific\nparameter in puppet-tripleo instead of the parameter/hieradata defined\nin puppet-cinder.\n\nChange-Id: Ie24f82fcede4d2862f9e6a49734959499d9fd845\n""}, {'number': 2, 'created': '2021-04-05 11:45:43.000000000', 'files': ['spec/classes/tripleo_profile_base_cinder_api_spec.rb', 'manifests/profile/base/cinder/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/14528b26403e88bf7672b4b92ae7a71025d6ba5c', 'message': 'cinder: remove ineffective implementation about key_mgr_backend\n\nChange c376d64e5f0b38165fa50feee04c2de0e1d851bc deprecated\nthe key_mgr_backend parameter of the cinder::api class, but the logic\nto pick up the deprecatd parameter, which was implemented by this\nchange, was invalid because the cinder class is included before\nthe cinder::api class is included.\nThis change removes the invalid implementation and makes that parameter\njust ineffective, because we use the cinder::* parameter from t-h-t\nand it is unlikely that users would use that puppet-tripleo parameter\ndirectly.\n\nChange-Id: Ie24f82fcede4d2862f9e6a49734959499d9fd845\n'}]",0,784764,14528b26403e88bf7672b4b92ae7a71025d6ba5c,8,3,2,9816,,,0,"cinder: remove ineffective implementation about key_mgr_backend

Change c376d64e5f0b38165fa50feee04c2de0e1d851bc deprecated
the key_mgr_backend parameter of the cinder::api class, but the logic
to pick up the deprecatd parameter, which was implemented by this
change, was invalid because the cinder class is included before
the cinder::api class is included.
This change removes the invalid implementation and makes that parameter
just ineffective, because we use the cinder::* parameter from t-h-t
and it is unlikely that users would use that puppet-tripleo parameter
directly.

Change-Id: Ie24f82fcede4d2862f9e6a49734959499d9fd845
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/64/784764/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_cinder_api_spec.rb', 'manifests/profile/base/cinder/api.pp']",2,ad5f247882cc6e14b565f1b551d171cdde3061fa,keymgr," if keymgr_backend != undef { warning('The keymgr_backend parameter has been deprecated and has no effect.') } class { 'cinder::api': sync_db => $sync_db,"," if keymgr_backend != undef { warning('The keymgr_backend parameter has been deprecated') class { 'cinder::api': sync_db => $sync_db, keymgr_backend => $keymgr_backend, } } else { class { 'cinder::api': sync_db => $sync_db, }",6,25
openstack%2Fproject-config~master~I3ab12c8186fe66f9f539941eb2fbec40d22b4354,openstack/project-config,master,I3ab12c8186fe66f9f539941eb2fbec40d22b4354,Zero the min-ready for arm64 node labels,MERGED,2021-04-08 18:01:55.000000000,2021-04-08 19:23:52.000000000,2021-04-08 18:46:00.000000000,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 18:01:55.000000000', 'files': ['nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/93d20aee0e02ced6bcf5e0956f39cbb16994ed8d', 'message': 'Zero the min-ready for arm64 node labels\n\nWe presently have a very limited quota for arm64 nodes, so\nparticularly ones like the xxlarge type can occupy a significant\npercentage for hours with just a single min-ready node waiting for a\nbuild to request it. For now, keep no ready arm64 nodes and let them\nbe booted on demand instead. This does mean builds will spend longer\nwaiting on some node requests, but should also increase our overall\nthroughput at peak load by maximizing the available quota for\nactually requested nodes.\n\nChange-Id: I3ab12c8186fe66f9f539941eb2fbec40d22b4354\n'}]",0,785453,93d20aee0e02ced6bcf5e0956f39cbb16994ed8d,7,2,1,5263,,,0,"Zero the min-ready for arm64 node labels

We presently have a very limited quota for arm64 nodes, so
particularly ones like the xxlarge type can occupy a significant
percentage for hours with just a single min-ready node waiting for a
build to request it. For now, keep no ready arm64 nodes and let them
be booted on demand instead. This does mean builds will spend longer
waiting on some node requests, but should also increase our overall
throughput at peak load by maximizing the available quota for
actually requested nodes.

Change-Id: I3ab12c8186fe66f9f539941eb2fbec40d22b4354
",git fetch https://review.opendev.org/openstack/project-config refs/changes/53/785453/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl03.opendev.org.yaml'],1,93d20aee0e02ced6bcf5e0956f39cbb16994ed8d,arm-nodes, min-ready: 0 min-ready: 0 min-ready: 0 min-ready: 0 min-ready: 0 min-ready: 0 min-ready: 0 min-ready: 0 min-ready: 0 min-ready: 0, min-ready: 1 min-ready: 1 min-ready: 1 min-ready: 1 min-ready: 1 min-ready: 1 min-ready: 1 min-ready: 1 min-ready: 1,10,9
openstack%2Fcinder~stable%2Fwallaby~I181dc81812f3f20168dc71132a1a909d8d05d457,openstack/cinder,stable/wallaby,I181dc81812f3f20168dc71132a1a909d8d05d457,Add known issue note about encrypted volumes,MERGED,2021-04-07 16:39:53.000000000,2021-04-08 18:54:09.000000000,2021-04-08 18:52:26.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-07 16:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3dc94f7a0885b20516ba39f41129f3c757a88aeb', 'message': 'Add known issue note about RBD encrypted volumes\n\nChange-Id: I181dc81812f3f20168dc71132a1a909d8d05d457\n'}, {'number': 2, 'created': '2021-04-08 03:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c5bc69e72e9b49ecd9a2b78328aeb22fa247448', 'message': 'Add known issue note about RBD encrypted volumes\n\nChange-Id: I181dc81812f3f20168dc71132a1a909d8d05d457\n'}, {'number': 3, 'created': '2021-04-08 13:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/23e6d68cafee0017329a691663dd0acf53a6b7da', 'message': 'Add known issue note about encrypted volumes\n\nChange-Id: I181dc81812f3f20168dc71132a1a909d8d05d457\n'}, {'number': 4, 'created': '2021-04-08 14:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61772f43df726f41a5eda6423ecfb7dd549b0c0e', 'message': 'Add known issue note about encrypted volumes\n\nChange-Id: I181dc81812f3f20168dc71132a1a909d8d05d457\n'}, {'number': 5, 'created': '2021-04-08 15:24:19.000000000', 'files': ['releasenotes/notes/wallaby-encryption-known-issues-4078b6b066e51553.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4eb95de87bd2f6af3340f07f1af3a45e2463009e', 'message': 'Add known issue note about encrypted volumes\n\nChange-Id: I181dc81812f3f20168dc71132a1a909d8d05d457\n'}]",15,785235,4eb95de87bd2f6af3340f07f1af3a45e2463009e,40,8,5,5314,,,0,"Add known issue note about encrypted volumes

Change-Id: I181dc81812f3f20168dc71132a1a909d8d05d457
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/785235/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/rbd-encryption-known-issues-4078b6b066e51553.yaml'],1,3dc94f7a0885b20516ba39f41129f3c757a88aeb,wallaby-rbd-note,"--- issues: - | RBD driver: When creating a volume of an encrypted volume-type, users may experience some anomalous results for volumes stored in a Ceph backend: * When creating an encrypted volume from an image in Glance that was created from a non-encrypted volume uploaded as an image, the resulting volume may not be bootable when the space consumed by the encryption header does not leave sufficient space for the data contained in the image. In this case, the data is silently truncated to fit within the requested volume size. This can occur when the image size plus approximately 3MB exceeds the requested image size. * When creating an encrypted volume from a snapshot of an encrypted volume, the new volume may not be attachable. ",,18,0
openstack%2Fneutron~stable%2Fussuri~I485762b46567a99b9ebd6eb047c7088fed8071d1,openstack/neutron,stable/ussuri,I485762b46567a99b9ebd6eb047c7088fed8071d1,[ovn]: Remove unwanted IP addresses from OVN ports,MERGED,2021-03-31 09:40:53.000000000,2021-04-08 18:53:50.000000000,2021-04-08 18:52:19.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 09:40:53.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6b2cc99f682100d5f434b44019b12e37b3bc297', 'message': '[ovn]: Remove unwanted IP addresses from OVN ports\n\nMAC learning has been added in OVN v21.03[0]. Now, if DHCP and port\nsecurity are disabled, then the addresses field of a port should not\ninclude its MAC-IP address pairs. This allows the use of OVN MAC\nlearning capabilities. Existing tests now match this requirement too.\n\n[0] http://patchwork.ozlabs.org/project/ovn/list/?series=228135i&state=%2A&archive=both\n\nChange-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1\nCloses-Bug: 1904412\nSigned-off-by: Elvira García Ruiz <egarciar@redhat.com>\n(cherry picked from commit 24fddc760edcf2004f4608a42ae75f82b3b72b76)\n'}]",0,784058,d6b2cc99f682100d5f434b44019b12e37b3bc297,16,3,1,32586,,,0,"[ovn]: Remove unwanted IP addresses from OVN ports

MAC learning has been added in OVN v21.03[0]. Now, if DHCP and port
security are disabled, then the addresses field of a port should not
include its MAC-IP address pairs. This allows the use of OVN MAC
learning capabilities. Existing tests now match this requirement too.

[0] http://patchwork.ozlabs.org/project/ovn/list/?series=228135i&state=%2A&archive=both

Change-Id: I485762b46567a99b9ebd6eb047c7088fed8071d1
Closes-Bug: 1904412
Signed-off-by: Elvira García Ruiz <egarciar@redhat.com>
(cherry picked from commit 24fddc760edcf2004f4608a42ae75f82b3b72b76)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/784058/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py']",2,d6b2cc99f682100d5f434b44019b12e37b3bc297,," self.assertIn(ovn_const.UNKNOWN_ADDR, called_args_dict.get('addresses')) self.assertIn(ovn_const.UNKNOWN_ADDR, called_args_dict.get('addresses'))"," self.assertEqual(ovn_const.UNKNOWN_ADDR, called_args_dict.get('addresses')[1]) self.assertEqual(2, len(called_args_dict.get('addresses'))) self.assertEqual(ovn_const.UNKNOWN_ADDR, called_args_dict.get('addresses')[1])",20,15
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7a38a01f498d350d065a7c312a6654832fe24e6a,openstack/tripleo-heat-templates,stable/train,I7a38a01f498d350d065a7c312a6654832fe24e6a,Add non-tls listener to Memcached,MERGED,2021-03-10 09:10:12.000000000,2021-04-08 18:49:55.000000000,2021-04-08 18:49:55.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 12393}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-03-10 09:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3bba75c1bdf2b1bc5d8986621006b199ba6ad538', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nCo-authored-By: Grzegorz Grasza <xek@redhat.com>\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n(cherry picked from commit 125ebd64f4cbd0685ae45f985ef29835edcf9e50)\n'}, {'number': 2, 'created': '2021-03-22 16:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/22e7fffd355f1fc7b15d8d7fcb4c7127babddd8a', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nNOTE(moguimar): Squashing two extra fixes here that were merged after\nthe first patch in master.\n\nSquashes:\n- Fix memcached firewall condition\n  (cherry picked from commit 2ee68bf9a713d5f4b5b6b73c40633627fb905d6c)\n- Fix parameters for puppet-memcached-6.0.0\n  (cherry picked from commit 9be84a2fc268b2a8838f10d740d181e54ede6572)\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nCo-authored-By: Grzegorz Grasza <xek@redhat.com>\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n(cherry picked from commit 125ebd64f4cbd0685ae45f985ef29835edcf9e50)\n'}, {'number': 3, 'created': '2021-03-25 08:54:28.000000000', 'files': ['deployment/memcached/memcached-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f50fad9ab3b690cc3a8d05ebb7e67441223a47b', 'message': 'Add non-tls listener to Memcached\n\nThis step is required in order to migrate services to use TLS one by\none. This config should go away once all services support TLS.\n\nNOTE(moguimar): Squashing two extra fixes here that were merged after\nthe first patch in master.\n\nSquashes:\n- Fix memcached firewall condition\n  (cherry picked from commit 2ee68bf9a713d5f4b5b6b73c40633627fb905d6c)\n- Fix parameters for puppet-memcached-6.0.0\n  (cherry picked from commit 9be84a2fc268b2a8838f10d740d181e54ede6572)\n\nChange-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a\nCo-authored-By: Grzegorz Grasza <xek@redhat.com>\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n(cherry picked from commit 125ebd64f4cbd0685ae45f985ef29835edcf9e50)\n'}]",0,779665,9f50fad9ab3b690cc3a8d05ebb7e67441223a47b,19,9,3,14250,,,0,"Add non-tls listener to Memcached

This step is required in order to migrate services to use TLS one by
one. This config should go away once all services support TLS.

NOTE(moguimar): Squashing two extra fixes here that were merged after
the first patch in master.

Squashes:
- Fix memcached firewall condition
  (cherry picked from commit 2ee68bf9a713d5f4b5b6b73c40633627fb905d6c)
- Fix parameters for puppet-memcached-6.0.0
  (cherry picked from commit 9be84a2fc268b2a8838f10d740d181e54ede6572)

Change-Id: I7a38a01f498d350d065a7c312a6654832fe24e6a
Co-authored-By: Grzegorz Grasza <xek@redhat.com>
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
(cherry picked from commit 125ebd64f4cbd0685ae45f985ef29835edcf9e50)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/779665/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/memcached/memcached-container-puppet.yaml'],1,3bba75c1bdf2b1bc5d8986621006b199ba6ad538,memcached-cert-stable/train," MemcachedPort: default: 11211 description: Port to have Memcached listening at. When using MemcachedTLS, this has to be set to a different port then the default - see below. type: number Because not all services support Memcached TLS, during the migration period, Memcached will listen on 2 ports - on the port set with MemcachedPort parameter (above) and on 11211, without TLS. # NOTE: A non-tls port is necessary while there are still services # consuming Memcached that do not support TLS. Once all services # do support TLS, this config should be dropped. enable_non_tls_port: and: - internal_tls_enabled - not: {equals: [{get_param: MemcachedPort}, 11211]} memcached::listen_addr: list_concat: - - if: - is_ipv6 - '::1' - '127.0.0.1' - str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} - if: - enable_non_tls_port - - str_replace: template: ""notls:%{hiera('$NETWORK_uri')}:11211"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} - if: - is_ipv6 - 'notls:[::1]:11211' - 'notls:127.0.0.1:11211' - [] # NOTE(xek): the IP addresses are configured with: # memcached::listen_addr - the new way # memcached::listen_ip - will be deprecated # memcached::notls_listener_port/addr - will be deprecated # see: https://github.com/saz/puppet-memcached/pull/127 - if: - is_ipv6 - '::1' - '127.0.0.1' - str_replace: template: ""%{hiera('$NETWORK_uri')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} memcached::tcp_port: {get_param: MemcachedPort} dport: {get_param: MemcachedPort} proto: 'tcp' source: <%net_cidr%> - '121 memcached': dport: {get_param: MemcachedPort} proto: 'tcp' source: {get_param: MemcachedIpSubnet} if: - and: [memcached_network_unset, enable_non_tls_port] - map_merge: repeat: for_each: <%net_cidr%>: get_param: - ServiceData - net_cidr_map - {get_param: [ServiceNetMap, MemcachedNetwork]} template: '121 memcached <%net_cidr%>': - {} if: - and: [{not: memcached_network_unset}, enable_non_tls_port] - {} # NOTE: This config is necessary while there are still services # consuming Memcached that do not support TLS. Once all services # do support TLS, this config should be dropped. if: - enable_non_tls_port - memcached::notls_listener_port: 11211 memcached::notls_listener_addr: str_replace: template: ""%{hiera('$NETWORK_uri')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} memcached_port: {get_param: MemcachedPort} memcached_authtoken_port: 11211 - memcached_port: {get_param: MemcachedPort} memcached_authtoken_port: {get_param: MemcachedPort} - port: # collectd has no support to Memcached+TLS yet. - if: - enable_non_tls_port - 11211 - {get_param: MemcachedPort}"," str_replace: template: ""%{hiera('$NETWORK_uri')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} port: 11211",100,6
openstack%2Ftripleo-common~master~Ic23fe980285bd737bc0a0d3fff607edf6b541aa3,openstack/tripleo-common,master,Ic23fe980285bd737bc0a0d3fff607edf6b541aa3,Disable disable_http_filter for newer rhev version,ABANDONED,2020-12-24 18:38:00.000000000,2021-04-08 18:35:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-24 18:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c07ce39084ecabaa7d95eebb299d92cb653e98d0', 'message': 'Disable disable_http_filter for newer rhev version\n\nWith newer rhev/ovirt release, disable_http_filter is required for the\nfencing call to succeed.   Without that setting, the following error\nmessage is returned: ""ERROR: Failed: Unable to obtain correct plug\nstatus or plug is not available"".\n\nChange-Id: Ic23fe980285bd737bc0a0d3fff607edf6b541aa3\n'}, {'number': 2, 'created': '2020-12-24 18:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/02fc99dabf559f34ed097b3435ab640f00c907b1', 'message': 'Disable disable_http_filter for newer rhev version\n\nWith newer rhev/ovirt release, disable_http_filter is required for the\nfencing call to succeed.   Without that setting, the following error\nmessage is returned: ""ERROR: Failed: Unable to obtain correct plug\nstatus or plug is not available"".\n\nChange-Id: Ic23fe980285bd737bc0a0d3fff607edf6b541aa3\n'}, {'number': 3, 'created': '2020-12-24 19:11:14.000000000', 'files': ['tripleo_common/utils/stack_parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/422b34e3995d6ef843e74a8eea0ebf2a1eb40346', 'message': 'Disable disable_http_filter for newer rhev version\n\nWith newer rhev/ovirt release, disable_http_filter is required for the\nfencing call to succeed.   Without that setting, the following error\nmessage is returned: ""ERROR: Failed: Unable to obtain correct plug\nstatus or plug is not available"".\n\nChange-Id: Ic23fe980285bd737bc0a0d3fff607edf6b541aa3\n'}]",0,768483,422b34e3995d6ef843e74a8eea0ebf2a1eb40346,6,2,3,7130,,,0,"Disable disable_http_filter for newer rhev version

With newer rhev/ovirt release, disable_http_filter is required for the
fencing call to succeed.   Without that setting, the following error
message is returned: ""ERROR: Failed: Unable to obtain correct plug
status or plug is not available"".

Change-Id: Ic23fe980285bd737bc0a0d3fff607edf6b541aa3
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/83/768483/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/stack_parameters.py'],1,c07ce39084ecabaa7d95eebb299d92cb653e98d0,disable_http_filter," params[""disable_http_filter""] = 1",,1,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id10f026c8b31cad7b7313ac9427a99b3e6744788,openstack/tripleo-heat-templates,stable/train,Id10f026c8b31cad7b7313ac9427a99b3e6744788,DNR test backport of Id10f026c8b31cad7b7313ac9427a99b3e6744788,ABANDONED,2020-11-25 21:50:55.000000000,2021-04-08 18:34:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-11-25 21:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60641040250308a5c8c390128343810d06f360b3', 'message': ""DNR test backport of Id10f026c8b31cad7b7313ac9427a99b3e6744788\n\nRolling certificate update for HA services\n\nThere are certain HA clustered services (e.g. galera) that don't\nhave the ability natively to reload their TLS certificate without\nbeing restarted. If too many replicas are restarted concurrently\nthis might result in full service disruption.\n\nTo ensure service availability, provide a means to ensure that\nonly one service replica is restarted at a time in the cluster.\nThis works by using pacemaker's CIB to implement a cluster-wide\nrestart lock for a service. The lock has a TTL so it's guaranteed\nto be eventually released without requiring complex contingency\ncleanup in case of failures.\n\nTested locally by running the following:\n1. force recreate certificate on all nodes at once for galera\n   (ipa-cert resubmit -i mysql), and verify that the resources\n   restart one after the other\n\n2. create a lock manually in pacemaker, recreate certificate for\n   galera on all nodes, and verify that no resource is restarted\n   before the manually created lock expires.\n\n3. create a lock manually, let it expires, recreate a certificate,\n   and verify that the resource is restarted appropriately and the\n   lock gets cleaned up from pacemaker once the restart finished.\n\nCloses-Bug: #1885113\nChange-Id: Ib2b62e33b34cf72edfdae6299cf432259bf960a2\n(cherry picked from commit 0f5488940899fec23ca7385fef200155dc3a71dd)\n\nHA: reimplement resource locks with cibadmin\n\nA resource lock is used as a synchronization point between\npacemaker cluster nodes. It is currently implemented\nby adding an attribute in an offline copy of CIB, and merging\nthe update in the CIB only if no concurrent updates has\noccurred in the mean time.\n\nThe problem with that approach is that - even if the concurrency\nis enforced by pacemaker - the offline CIB contains a snapshot\nof the cluster state; so pushing back the entire offline CIB\npushes old resources' state back into the cluster. This causes\nadditional burden on the cluster and sometimes caused unexpected\ncluster state transition.\n\nReimplement the locking strategy with cibadmin; It's a much faster\napproach, that provides the same concurrency guarantees, and only\nchanges one attribute rather than the entire CIB, so it doesn't\ncause unexpected cluster state transition.\n\nCloses-Bug: #1905585\nChange-Id: Id10f026c8b31cad7b7313ac9427a99b3e6744788\n""}, {'number': 2, 'created': '2020-12-14 15:50:15.000000000', 'files': ['deployment/certs/certmonger-user-baremetal-puppet.yaml', 'deployment/containers-common.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'container_config_scripts/pacemaker_mutex_restart_bundle.sh', 'container_config_scripts/pacemaker_resource_lock.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32fb5f42d0f8371ab3fb98eb5ab1a2a16866d8f6', 'message': ""DNR test backport of Id10f026c8b31cad7b7313ac9427a99b3e6744788\n\nRolling certificate update for HA services\n\nThere are certain HA clustered services (e.g. galera) that don't\nhave the ability natively to reload their TLS certificate without\nbeing restarted. If too many replicas are restarted concurrently\nthis might result in full service disruption.\n\nTo ensure service availability, provide a means to ensure that\nonly one service replica is restarted at a time in the cluster.\nThis works by using pacemaker's CIB to implement a cluster-wide\nrestart lock for a service. The lock has a TTL so it's guaranteed\nto be eventually released without requiring complex contingency\ncleanup in case of failures.\n\nTested locally by running the following:\n1. force recreate certificate on all nodes at once for galera\n   (ipa-cert resubmit -i mysql), and verify that the resources\n   restart one after the other\n\n2. create a lock manually in pacemaker, recreate certificate for\n   galera on all nodes, and verify that no resource is restarted\n   before the manually created lock expires.\n\n3. create a lock manually, let it expires, recreate a certificate,\n   and verify that the resource is restarted appropriately and the\n   lock gets cleaned up from pacemaker once the restart finished.\n\nCloses-Bug: #1885113\nChange-Id: Ib2b62e33b34cf72edfdae6299cf432259bf960a2\n(cherry picked from commit 0f5488940899fec23ca7385fef200155dc3a71dd)\n\nHA: reimplement resource locks with cibadmin\n\nA resource lock is used as a synchronization point between\npacemaker cluster nodes. It is currently implemented\nby adding an attribute in an offline copy of CIB, and merging\nthe update in the CIB only if no concurrent updates has\noccurred in the mean time.\n\nThe problem with that approach is that - even if the concurrency\nis enforced by pacemaker - the offline CIB contains a snapshot\nof the cluster state; so pushing back the entire offline CIB\npushes old resources' state back into the cluster. This causes\nadditional burden on the cluster and sometimes caused unexpected\ncluster state transition.\n\nReimplement the locking strategy with cibadmin; It's a much faster\napproach, that provides the same concurrency guarantees, and only\nchanges one attribute rather than the entire CIB, so it doesn't\ncause unexpected cluster state transition.\n\nCloses-Bug: #1905585\nChange-Id: Id10f026c8b31cad7b7313ac9427a99b3e6744788\n""}]",0,764244,32fb5f42d0f8371ab3fb98eb5ab1a2a16866d8f6,7,3,2,20778,,,0,"DNR test backport of Id10f026c8b31cad7b7313ac9427a99b3e6744788

Rolling certificate update for HA services

There are certain HA clustered services (e.g. galera) that don't
have the ability natively to reload their TLS certificate without
being restarted. If too many replicas are restarted concurrently
this might result in full service disruption.

To ensure service availability, provide a means to ensure that
only one service replica is restarted at a time in the cluster.
This works by using pacemaker's CIB to implement a cluster-wide
restart lock for a service. The lock has a TTL so it's guaranteed
to be eventually released without requiring complex contingency
cleanup in case of failures.

Tested locally by running the following:
1. force recreate certificate on all nodes at once for galera
   (ipa-cert resubmit -i mysql), and verify that the resources
   restart one after the other

2. create a lock manually in pacemaker, recreate certificate for
   galera on all nodes, and verify that no resource is restarted
   before the manually created lock expires.

3. create a lock manually, let it expires, recreate a certificate,
   and verify that the resource is restarted appropriately and the
   lock gets cleaned up from pacemaker once the restart finished.

Closes-Bug: #1885113
Change-Id: Ib2b62e33b34cf72edfdae6299cf432259bf960a2
(cherry picked from commit 0f5488940899fec23ca7385fef200155dc3a71dd)

HA: reimplement resource locks with cibadmin

A resource lock is used as a synchronization point between
pacemaker cluster nodes. It is currently implemented
by adding an attribute in an offline copy of CIB, and merging
the update in the CIB only if no concurrent updates has
occurred in the mean time.

The problem with that approach is that - even if the concurrency
is enforced by pacemaker - the offline CIB contains a snapshot
of the cluster state; so pushing back the entire offline CIB
pushes old resources' state back into the cluster. This causes
additional burden on the cluster and sometimes caused unexpected
cluster state transition.

Reimplement the locking strategy with cibadmin; It's a much faster
approach, that provides the same concurrency guarantees, and only
changes one attribute rather than the entire CIB, so it doesn't
cause unexpected cluster state transition.

Closes-Bug: #1905585
Change-Id: Id10f026c8b31cad7b7313ac9427a99b3e6744788
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/764244/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/certs/certmonger-user-baremetal-puppet.yaml', 'deployment/containers-common.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'container_config_scripts/pacemaker_mutex_restart_bundle.sh', 'container_config_scripts/pacemaker_resource_lock.sh']",6,60641040250308a5c8c390128343810d06f360b3,pcmk-shutdown-lock-stable/train,"#!/bin/bash MAX_RETRIES=10 CIB_ENOTFOUND=105 usage() { echo ""Set a global property in the cluster with a validity timestamp."" echo ""Usage:"" echo "" $0 --acquire <lock_name> <lock_owner> <lock_ttl_in_seconds>"" echo "" $0 --release <lock_name> <lock_owner>"" echo } log() { echo ""$(date -u): $1"" 1>&2 } error() { echo ""$(date -u): $1"" 1>&2 exit 1 } lock_create() { local name=$1 local data=$2 # cibadmin won't overwrite a key if someone else succeeded to create it concurrently cibadmin --sync-call --scope crm_config --create --xml-text ""<cluster_property_set id='${name}'><nvpair id='${name}-pair' name='${name}' value='${data}'/></cluster_property_set>"" &>/dev/null return $? } lock_update() { local name=$1 local expected_data=$2 local new_data=$3 # we only update the lock we expect to see, so we can't update someone else's lock cibadmin --sync-call --scope crm_config --modify --xpath ""//cluster_property_set/nvpair[@name='${name}' and @value='${expected_data}']/.."" --xml-text ""<nvpair id='${name}-pair' name='${name}' value='${new_data}'/>"" &>/dev/null return $? } lock_delete() { local name=$1 local expected_data=$2 # we only delete the lock we expect to see, so we can't delete someone else's lock cibadmin --sync-call --scope crm_config --delete --xpath ""//cluster_property_set/nvpair[@name='${name}' and @value='${expected_data}']/.."" &>/dev/null return $? } lock_get() { local lockname=$1 local res local rc res=$(cibadmin --query --scope crm_config --xpath ""//cluster_property_set/nvpair[@name='$lockname']"" 2>/dev/null) rc=$? if [ $rc -eq 0 ]; then echo ""$res"" | sed -n 's/.*value=""\([^""]*\)"".*/\1/p' fi return $rc } lock_owner() { local lock=$1 echo ""$lock"" | cut -d':' -f1 } lock_has_expired() { local lock=$1 local expiry=$(echo ""$lock"" | cut -d':' -f2) local now=$(date +%s) test $now -ge $expiry } # Perform a lock action and restart if the CIB has been modified before # committing the lock action try_action() { local fun=$1 local lock=$2 local requester=$3 local args=${4:-} local tries=$MAX_RETRIES local rc=1 if [ ""$fun"" = ""lock_acquire"" ] || [ ""$fun"" = ""lock_release"" ]; then log ""Try running $fun"" else return 2 fi while [ $rc -ne 0 ]; do $fun $lock $requester $args rc=$? if [ $rc -eq 0 ]; then log ""Operation $1 succeeded"" return 0 elif [ $rc -eq 3 ]; then # rc == 3 -> CIB changed before push if [ $tries -eq 0 ]; then log ""Failed to commit after $MAX_RETRIES retries. Bailing out."" return 2 else log ""Failed to commit. Retrying operation."" tries=$(($tries - 1)) fi elif [ $rc -eq 2 ]; then # rc == 2 -> unrecoverable cib error (e.g. pacemaker down) log ""Unexpected failure. Bailing out"" return $rc else # rc == 1 -> lock error (not owner, lock doesn't exists) return $rc fi done } # The lock mechanism uses cibadmin's atomic creation so cluster-wide # state coherency is guaranteed by pacemaker lock_acquire() { local lockname=$1 local requester=$2 local ttl=$3 local rc local lock local expiry local owner log ""Check whether the lock is already held in the CIB"" lock=$(lock_get $lockname) rc=$? if [ $rc -ne 0 ] && [ $rc -ne $CIB_ENOTFOUND ]; then log ""Could not retrieve info from the CIB"" return 2 fi if [ -n ""$lock"" ]; then lock_has_expired $lock rc=$? if [ $rc -eq 0 ]; then log ""Lock has expired, now available for being held"" else # lock is still held. check whether we're the owner owner=$(lock_owner $lock) if [ ""$owner"" = ""$requester"" ];then log ""Requester already owns the lock, acquiring attempt will just reconfigure the TTL"" else log ""Lock is held by someone else ($owner)"" return 1 fi fi else log ""Lock is not held yet"" fi # prepare the lock info expiry=$(($(date +%s) + $ttl)) if [ -n ""$lock"" ]; then log ""Attempting to update the lock"" lock_update $lockname ""$lock"" ""$requester:$expiry"" rc=$? else log ""Attempting to acquire the lock"" lock_create $lockname ""$requester:$expiry"" rc=$? fi if [ $rc -eq 0 ]; then log ""Lock '$lockname' acquired by '$requester', valid until $(date -d @$expiry)"" return 0 else log ""CIB changed, lock cannot be acquired"" return 3 fi } # The lock mechanism uses the CIB's num_updates tag to implement # a conditional store. Cluster-wide locking is guaranteed by pacemaker lock_release() { local lockname=$1 local requester=$2 local rc local lock local owner log ""Check whether the lock is already held in the CIB"" lock=$(lock_get $lockname) rc=$? if [ $rc -ne 0 ] && [ $rc -ne $CIB_ENOTFOUND ]; then log ""Could not retrieve info from the CIB"" return 2 fi if [ -z ""$lock"" ]; then log ""Lock doesn't exist. Nothing to release"" return 0 else log ""Lock exists, check whether we're the owner"" owner=$(lock_owner $lock) if [ ""$owner"" != ""$requester"" ];then log ""Lock is held by someone else ($owner), will not unlock"" return 1 fi fi lock_delete $lockname ""$lock"" rc=$? if [ $rc -eq 0 ]; then log ""Lock '$lockname' released by '$requester'"" return 0 else log ""CIB deletion error, lock cannot be released"" return 3 fi } ACTION=$1 LOCKNAME=$2 REQUESTER=$3 TTL=${4:-60} if [ -z ""$ACTION"" ]; then error ""Action must be specified"" fi if [ $ACTION != ""--help"" ]; then if [ -z ""$LOCKNAME"" ] || [ -z ""$REQUESTER"" ]; then error ""You must specific a lock name and a requester"" fi fi case $ACTION in --help) usage; exit 0;; --acquire|-a) try_action lock_acquire $LOCKNAME $REQUESTER $TTL;; --release|-r) try_action lock_release $LOCKNAME $REQUESTER;; *) error ""Invalid action"";; esac exit $? ",,346,0
openstack%2Ftripleo-heat-templates~master~I11c6557a323ef34e2593bfe3d17fdb80615a7955,openstack/tripleo-heat-templates,master,I11c6557a323ef34e2593bfe3d17fdb80615a7955,"Revert ""Revert ""Use the appropriate name for horizon ssl ca parameter""""",ABANDONED,2020-11-03 07:38:41.000000000,2021-04-08 18:31:21.000000000,,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-03 07:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0331b8431bc9a2b170c33e30d8095d84eb3be93c', 'message': 'Revert ""Revert ""Use the appropriate name for horizon ssl ca parameter""""\n\nThe stable/victora branch has been created, so we are now ready to\nmerge changes for Wallaby.\n\nThis reverts commit 8d9621e2e3161484b24bb41e2183e25a9ee98f67.\n\nChange-Id: I11c6557a323ef34e2593bfe3d17fdb80615a7955\n'}, {'number': 2, 'created': '2020-11-30 15:25:50.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c375810696a44fa01cbaf2fea7898ab799f2a277', 'message': 'Revert ""Revert ""Use the appropriate name for horizon ssl ca parameter""""\n\nThe stable/victora branch has been created, so we are now ready to\nmerge changes for Wallaby.\n\nThis reverts commit 8d9621e2e3161484b24bb41e2183e25a9ee98f67.\n\nChange-Id: I11c6557a323ef34e2593bfe3d17fdb80615a7955\n'}]",0,761066,c375810696a44fa01cbaf2fea7898ab799f2a277,14,6,2,9816,,,0,"Revert ""Revert ""Use the appropriate name for horizon ssl ca parameter""""

The stable/victora branch has been created, so we are now ready to
merge changes for Wallaby.

This reverts commit 8d9621e2e3161484b24bb41e2183e25a9ee98f67.

Change-Id: I11c6557a323ef34e2593bfe3d17fdb80615a7955
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/761066/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,0331b8431bc9a2b170c33e30d8095d84eb3be93c,bug/1901626, - horizon::ssl_ca: {get_param: InternalTLSCAFile}, - horizon::horizon_ca: {get_param: InternalTLSCAFile},1,1
openstack%2Ftripleo-common~master~I280c6ccb54a3c03733b3a8e4988515b6c3f862ac,openstack/tripleo-common,master,I280c6ccb54a3c03733b3a8e4988515b6c3f862ac,Fix qdrouterd healthcheck script permission.,ABANDONED,2020-10-13 12:09:56.000000000,2021-04-08 18:31:03.000000000,,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-13 12:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d9145ad212e37e1fd396d92a839ffadee5adbac6', 'message': 'Fix qdrouterd healthcheck script permission.\n\nChange-Id: I280c6ccb54a3c03733b3a8e4988515b6c3f862ac\nCloses-Bug: #1899625\n'}, {'number': 2, 'created': '2020-10-21 15:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aa57d7c21c3fcb47e1a8ac46a0400c8040f96a04', 'message': 'Fix qdrouterd healthcheck script permission.\n\nNote, I had to modify indentation to pass the linter. It must be\nstricter than when originally commited.\n\nChange-Id: I280c6ccb54a3c03733b3a8e4988515b6c3f862ac\nCloses-Bug: #1899625\n'}, {'number': 3, 'created': '2020-10-21 15:21:32.000000000', 'files': ['healthcheck/qdrouterd'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e38cc6d2acbf9307e1567c03abf2fb0781e27cf5', 'message': 'Fix qdrouterd healthcheck script permission.\n\nNote, I had to modify indentation to pass the linter. It must be\nstricter than when originally commited.\n\nChange-Id: I280c6ccb54a3c03733b3a8e4988515b6c3f862ac\nCloses-Bug: #1899625\n'}]",5,757845,e38cc6d2acbf9307e1567c03abf2fb0781e27cf5,15,6,3,8297,,,0,"Fix qdrouterd healthcheck script permission.

Note, I had to modify indentation to pass the linter. It must be
stricter than when originally commited.

Change-Id: I280c6ccb54a3c03733b3a8e4988515b6c3f862ac
Closes-Bug: #1899625
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/757845/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/qdrouterd'],1,d9145ad212e37e1fd396d92a839ffadee5adbac6,,,,0,0
openstack%2Ftripleo-validations~stable%2Ftrain~Ie6bcdaff1968ff94292a36fcc0c2a1157851a721,openstack/tripleo-validations,stable/train,Ie6bcdaff1968ff94292a36fcc0c2a1157851a721,WES - Add tripleo-validation.py as script in setup.cfg,ABANDONED,2020-11-20 14:00:04.000000000,2021-04-08 18:30:54.000000000,,"[{'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-20 14:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/27aeebcb36e9e9843062e44553acf85aa9473385', 'message': 'WES - Add tripleo-validation.py as script in setup.cfg\n\nChange-Id: Ie6bcdaff1968ff94292a36fcc0c2a1157851a721\n'}, {'number': 2, 'created': '2020-11-20 14:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a2cd73f4b8cbf84df6a34307144ce4e6601683a4', 'message': 'WES - Add tripleo-validation.py as script in setup.cfg\n\nChange-Id: Ie6bcdaff1968ff94292a36fcc0c2a1157851a721\n'}, {'number': 3, 'created': '2020-11-20 14:10:49.000000000', 'files': ['zuul.d/layout.yaml', 'setup.cfg', 'zuul.d/layout.yaml.bak.wes'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/01d272b8da5c6b0a72ee4fd19460230ad0d767f7', 'message': 'WES - Add tripleo-validation.py as script in setup.cfg\n\nChange-Id: Ie6bcdaff1968ff94292a36fcc0c2a1157851a721\n'}]",0,763565,01d272b8da5c6b0a72ee4fd19460230ad0d767f7,6,2,3,9592,,,0,"WES - Add tripleo-validation.py as script in setup.cfg

Change-Id: Ie6bcdaff1968ff94292a36fcc0c2a1157851a721
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/65/763565/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,27aeebcb36e9e9843062e44553acf85aa9473385,rhbz#1877688-train-bp, scripts/tripleo-validation.py,,1,0
openstack%2Ftripleo-ci~master~Ib7dd936faca104315fe628b345d956912b29abf0,openstack/tripleo-ci,master,Ib7dd936faca104315fe628b345d956912b29abf0,Add file patterns from tripleo-common for image templates,ABANDONED,2020-11-16 17:25:56.000000000,2021-04-08 18:29:43.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-16 17:25:56.000000000', 'files': ['zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e2a1c04bbfd1f03aa8421f8bc3dbfd57e0077bfc', 'message': 'Add file patterns from tripleo-common for image templates\n\nhttps://github.com/openstack/tripleo-common/blob/stable/victoria/zuul.d/layout.yaml#L117\ndefines the files to trigger image build jobs\nwhen tripleo-common changes.\n\ntripleo-common is being edited to run templates\nfor image build jobs. This review adds the file\npatterns to trigger for tripleo-coomon.\n\nChange-Id: Ib7dd936faca104315fe628b345d956912b29abf0\nRelated-Bug: #1904435\n'}]",0,762883,e2a1c04bbfd1f03aa8421f8bc3dbfd57e0077bfc,5,3,1,9976,,,0,"Add file patterns from tripleo-common for image templates

https://github.com/openstack/tripleo-common/blob/stable/victoria/zuul.d/layout.yaml#L117
defines the files to trigger image build jobs
when tripleo-common changes.

tripleo-common is being edited to run templates
for image build jobs. This review adds the file
patterns to trigger for tripleo-coomon.

Change-Id: Ib7dd936faca104315fe628b345d956912b29abf0
Related-Bug: #1904435
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/83/762883/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/build-image.yaml'],1,e2a1c04bbfd1f03aa8421f8bc3dbfd57e0077bfc,bug1904435, - ^image-yaml/.*$,,1,0
openstack%2Ftripleo-heat-templates~master~Icec721c2678e39a0fc72895ba75c70d4416215d6,openstack/tripleo-heat-templates,master,Icec721c2678e39a0fc72895ba75c70d4416215d6,Deprecate OctaviaUserName and OctaviaProjectName,ABANDONED,2020-02-23 14:29:41.000000000,2021-04-08 18:29:35.000000000,,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-23 14:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf3b12abc50cf15d5e71e53da0c4cfd97f12a5f7', 'message': ""Remove user name/project name parameter for Octavia\n\nIn Octavia, we have OctaviaUserName and OctaviaProjectName, which can\nbe used to change user name/project name for Octavia keystone identity.\n\nHowever, we don't expect users require to change this parameter, so\nlet's use the fixed user/project as we do for the other services.\n\nChange-Id: Icec721c2678e39a0fc72895ba75c70d4416215d6\n""}, {'number': 2, 'created': '2020-02-23 14:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/31810ecae7913b516cbe64d798958288beb1eae5', 'message': ""Remove user name/project name parameter for Octavia\n\nIn Octavia, we have OctaviaUserName and OctaviaProjectName, which can\nbe used to change user name/project name for Octavia keystone identity.\n\nHowever, we don't expect users require to change this parameter, and\nchanging these values can cause some confusing situation. (where only\noctavia user is missing in service project, for example)\n\nSo let's use the fixed user name and project name as we do for the\nother services.\n\nChange-Id: Icec721c2678e39a0fc72895ba75c70d4416215d6\n""}, {'number': 3, 'created': '2020-02-24 01:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/036093c970de19a597342115e7214b2ae6ec6c70', 'message': ""Deprecate OctaviaUserName and OctaviaProjectName\n\nIn Octavia, we have OctaviaUserName and OctaviaProjectName, which can\nbe used to change user name/project name for Octavia keystone identity.\n\nHowever, we don't expect users require to change this parameter, and\nchanging these values can cause some confusing situation. (where only\noctavia user is missing in service project, for example)\n\nSo let's deprecate these parameters so that we expect that we have the\nfixed user name and project name as we do for the other services.\n\nChange-Id: Icec721c2678e39a0fc72895ba75c70d4416215d6\n""}, {'number': 4, 'created': '2020-03-10 22:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/65b2519288e83fbe8e1fdde09e76b3e6ccab4c20', 'message': ""Deprecate OctaviaUserName and OctaviaProjectName\n\nIn Octavia, we have OctaviaUserName and OctaviaProjectName, which can\nbe used to change user name/project name for Octavia keystone identity.\n\nHowever, we don't expect users require to change this parameter, and\nchanging these values can cause some confusing situation. (where only\noctavia user is missing in service project, for example)\n\nSo let's deprecate these parameters so that we expect that we have the\nfixed user name and project name as we do for the other services.\n\nChange-Id: Icec721c2678e39a0fc72895ba75c70d4416215d6\n""}, {'number': 5, 'created': '2020-03-11 07:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02c7e1e413a266d6eecdd112925f5d69cff74e80', 'message': ""Deprecate OctaviaUserName and OctaviaProjectName\n\nIn Octavia, we have OctaviaUserName and OctaviaProjectName, which can\nbe used to change user name/project name for Octavia keystone identity.\n\nHowever, we don't expect users require to change this parameter, and\nchanging these values can cause some confusing situation. (where only\noctavia user is missing in service project, for example)\n\nSo let's deprecate these parameters so that we expect that we have the\nfixed user name and project name as we do for the other services.\n\nChange-Id: Icec721c2678e39a0fc72895ba75c70d4416215d6\n""}, {'number': 6, 'created': '2020-03-22 13:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e9402426bd5ef3823ef34219f428f834faa6d43', 'message': ""Deprecate OctaviaUserName and OctaviaProjectName\n\nIn Octavia, we have OctaviaUserName and OctaviaProjectName, which can\nbe used to change user name/project name for Octavia keystone identity.\n\nHowever, we don't expect users require to change this parameter, and\nchanging these values can cause some confusing situation. (where only\noctavia user is missing in service project, for example)\n\nSo let's deprecate these parameters so that we expect that we have the\nfixed user name and project name as we do for the other services.\n\nChange-Id: Icec721c2678e39a0fc72895ba75c70d4416215d6\n""}, {'number': 7, 'created': '2020-11-17 18:47:04.000000000', 'files': ['deployment/octavia/octavia-api-container-puppet.yaml', 'releasenotes/notes/deprecate-octavia-username-projectname-6727f43538496d03.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3218a6a7e84ab6dcd8e4ce3d9a347b18a97cec8', 'message': ""Deprecate OctaviaUserName and OctaviaProjectName\n\nIn Octavia, we have OctaviaUserName and OctaviaProjectName, which can\nbe used to change user name/project name for Octavia keystone identity.\n\nHowever, we don't expect users require to change this parameter, and\nchanging these values can cause some confusing situation. (where only\noctavia user is missing in service project, for example)\n\nSo let's deprecate these parameters so that we expect that we have the\nfixed user name and project name as we do for the other services.\n\nChange-Id: Icec721c2678e39a0fc72895ba75c70d4416215d6\n""}]",0,709355,f3218a6a7e84ab6dcd8e4ce3d9a347b18a97cec8,52,8,7,9816,,,0,"Deprecate OctaviaUserName and OctaviaProjectName

In Octavia, we have OctaviaUserName and OctaviaProjectName, which can
be used to change user name/project name for Octavia keystone identity.

However, we don't expect users require to change this parameter, and
changing these values can cause some confusing situation. (where only
octavia user is missing in service project, for example)

So let's deprecate these parameters so that we expect that we have the
fixed user name and project name as we do for the other services.

Change-Id: Icec721c2678e39a0fc72895ba75c70d4416215d6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/709355/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-base.yaml', 'releasenotes/notes/remove-octavia-username-and-projectname-c9ac116bb2f0b311.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml']",4,bf3b12abc50cf15d5e71e53da0c4cfd97f12a5f7,octavia-project, project: 'service' octavia::keystone::authtoken::project_name: 'service' octavia::db::mysql::user: 'octavia', OctaviaUserName: description: The username for the Octavia database and keystone accounts. type: string default: 'octavia' OctaviaProjectName: description: The project name for the keystone Octavia account. type: string default: 'service' project: {get_param: OctaviaProjectName} octavia::keystone::authtoken::project_name: {get_param: OctaviaProjectName} octavia::db::mysql::user: {get_param: OctaviaUserName},13,28
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ic95d84e611164dc5e28bc182b92991a317bae567,openstack/tripleo-heat-templates,stable/ussuri,Ic95d84e611164dc5e28bc182b92991a317bae567,Remove CI env for net-config-multinode-os-net-config.yaml,ABANDONED,2020-09-04 13:19:25.000000000,2021-04-08 18:29:26.000000000,,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-04 13:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/547b15b82efaf3efe165f764c33739b66499fd19', 'message': ""Remove CI env for net-config-multinode-os-net-config.yaml\n\nThis should not be needed, other jobs use the net-config-multinode.yaml\nfile, let's get rid of net-config-multinode-os-net-config.yaml for\nconsistency and also in order to ger rid of the network_config_hook()\nfunction that should not be needed anymore.\n\nChange-Id: Ic95d84e611164dc5e28bc182b92991a317bae567\n""}, {'number': 2, 'created': '2020-09-05 22:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c5a01c2800a045c556101769c9f467b41e4b217f', 'message': ""Remove CI env for net-config-multinode-os-net-config.yaml\n\nThis should not be needed, other jobs use the net-config-multinode.yaml\nfile, let's get rid of net-config-multinode-os-net-config.yaml for\nconsistency and also in order to ger rid of the network_config_hook()\nfunction that should not be needed anymore.\n\nChange-Id: Ic95d84e611164dc5e28bc182b92991a317bae567\n""}, {'number': 3, 'created': '2020-09-08 13:29:25.000000000', 'files': ['ci/environments/scenario007-multinode-containers.yaml', 'ci/environments/multinode-containers.yaml', 'ci/common/net-config-multinode-os-net-config.yaml', 'network/scripts/run-os-net-config.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2c27633191932be376107303d51450a361bab813', 'message': ""Remove CI env for net-config-multinode-os-net-config.yaml\n\nThis should not be needed, other jobs use the net-config-multinode.yaml\nfile, let's get rid of net-config-multinode-os-net-config.yaml for\nconsistency and also in order to ger rid of the network_config_hook()\nfunction that should not be needed anymore.\n\nChange-Id: Ic95d84e611164dc5e28bc182b92991a317bae567\n(cherry picked from commit 88ca5928edf160f3ce7aaf313ed7ff6eb8bef92f)\n""}]",0,749951,2c27633191932be376107303d51450a361bab813,15,4,3,9592,,,0,"Remove CI env for net-config-multinode-os-net-config.yaml

This should not be needed, other jobs use the net-config-multinode.yaml
file, let's get rid of net-config-multinode-os-net-config.yaml for
consistency and also in order to ger rid of the network_config_hook()
function that should not be needed anymore.

Change-Id: Ic95d84e611164dc5e28bc182b92991a317bae567
(cherry picked from commit 88ca5928edf160f3ce7aaf313ed7ff6eb8bef92f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/749951/3 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/multinode-containers.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'ci/common/net-config-multinode-os-net-config.yaml', 'network/scripts/run-os-net-config.sh']",4,547b15b82efaf3efe165f764c33739b66499fd19,net-config-stable/ussuri,," if [ ""$(type -t network_config_hook)"" = ""function"" ]; then network_config_hook fi ",4,279
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I6ea989ae546ef344a9b3d2dd6c86a49822efc6e2,openstack/tripleo-heat-templates,stable/train,I6ea989ae546ef344a9b3d2dd6c86a49822efc6e2,Make memcache also listen to localhost,MERGED,2021-03-25 08:54:28.000000000,2021-04-08 18:29:21.000000000,2021-04-08 18:29:21.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-25 08:54:28.000000000', 'files': ['deployment/memcached/memcached-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/546d994d04c5b8c7b170339b816841ffa7bea6bf', 'message': 'Make memcache also listen to localhost\n\nCurrently memcache only listens to the internal_api IP. We want to\nmake it listen to both localhost and internal_api IP because in the\nfuture some services on some roles may want to just use the localhost\nmemcached instance instead of the using multiple memcached servers\nover the network as it is the case currently.\n\nAs suggested by Takashi we check the ip version in MemcachedNetwork\nin order to decide if we should listen to ::1 or 127.0.0.1\n\nChange-Id: I6ea989ae546ef344a9b3d2dd6c86a49822efc6e2\n(cherry picked from commit acf08419bc4a4076ecb24b79c3c5ef52825eeb6b)\n'}]",0,782918,546d994d04c5b8c7b170339b816841ffa7bea6bf,18,4,1,14250,,,0,"Make memcache also listen to localhost

Currently memcache only listens to the internal_api IP. We want to
make it listen to both localhost and internal_api IP because in the
future some services on some roles may want to just use the localhost
memcached instance instead of the using multiple memcached servers
over the network as it is the case currently.

As suggested by Takashi we check the ip version in MemcachedNetwork
in order to decide if we should listen to ::1 or 127.0.0.1

Change-Id: I6ea989ae546ef344a9b3d2dd6c86a49822efc6e2
(cherry picked from commit acf08419bc4a4076ecb24b79c3c5ef52825eeb6b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/782918/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/memcached/memcached-container-puppet.yaml'],1,546d994d04c5b8c7b170339b816841ffa7bea6bf,memcached-cert-stable/train," is_ipv6: equals: - {get_param: [ServiceData, net_ip_version_map, {get_param: [ServiceNetMap, MemcachedNetwork]}]} - 6 - if: - is_ipv6 - '::1' - '127.0.0.1' - str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} memcached::listen_ip_uri: - if: - is_ipv6 - '::1' - '127.0.0.1' - str_replace: template: ""%{hiera('$NETWORK_uri')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]}"," str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} memcached::listen_ip_uri: str_replace: template: ""%{hiera('$NETWORK_uri')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]}",22,10
openstack%2Ftripleo-docs~master~I3d69ef4dcf5c6161a2db0d1d475483ec9ab47fce,openstack/tripleo-docs,master,I3d69ef4dcf5c6161a2db0d1d475483ec9ab47fce,NFV derive parameters document changes,ABANDONED,2020-11-11 11:20:06.000000000,2021-04-08 18:28:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-11-11 11:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b31ae538d6a4730398a025fb25e6444db63f2025', 'message': 'NFV derive parameters document changes\n\nThis document changes for NFV OvS DPDK and SRIOV depeloyments.\n\nChange-Id: I3d69ef4dcf5c6161a2db0d1d475483ec9ab47fce\n'}, {'number': 2, 'created': '2020-11-11 11:23:41.000000000', 'files': ['deploy-guide/source/features/derived_parameters.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/f250c251cb8b0ac818f926c7f90a5acce7a911d8', 'message': 'NFV derive parameters document changes\n\nThis document changes for NFV OvS DPDK and SRIOV depeloyments.\n\nChange-Id: I3d69ef4dcf5c6161a2db0d1d475483ec9ab47fce\n'}]",0,762334,f250c251cb8b0ac818f926c7f90a5acce7a911d8,4,1,2,22865,,,0,"NFV derive parameters document changes

This document changes for NFV OvS DPDK and SRIOV depeloyments.

Change-Id: I3d69ef4dcf5c6161a2db0d1d475483ec9ab47fce
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/34/762334/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/derived_parameters.rst'],1,b31ae538d6a4730398a025fb25e6444db63f2025,nfv-derive-parameters,"Parameters which are derived for NFV deployments ----------------------------------------------------------------- The derived parameters for NFV OvS DPDK sets the below parameters per role based on baremetal nodes introspection data and user inputs( num_phy_cores_per_numa_node_for_pmd and huge_page_allocation_percentage). NovaComputeCpuDedicatedSet NovaComputeCpuSharedSet NovaReservedHostMemory KernelArgs IsolCpusList OvsPmdCoreList OvsDpdkCoreList OvsDpdkSocketMemory The derived parameters for NFV SRIOV sets the below parameters per role based on baremetal nodes introspection data and user input( huge_page_allocation_percentage). NovaComputeCpuDedicatedSet NovaComputeCpuSharedSet NovaReservedHostMemory KernelArgs IsolCpusList The ``plan-environment-derived-params.yaml`` file contains the following:: num_phy_cores_per_numa_node_for_pmd: 1 huge_page_allocation_percentage: 50 num_phy_cores_per_numa_node_for_pmd: This input Specifies the minimum number of CPU physical cores to be allocated for DPDK PMD threads per NUMA node. This actual allocation will be used to the numa node based on network configuration if DPDK port is associated with the numa node, otherwise default one core will be allocated to that numa node. huge_page_allocation_percentage: Amount of memory to be configured as huge pages in percentage. Out of the total available memory(excluding the NovaReservedHostMemory), the specified percentage of the remaining is configured as huge pages. ",,44,0
openstack%2Ftripleo-heat-templates~master~I219ec37dd0cddc6d84e157d9151a90e9d3d1aeb9,openstack/tripleo-heat-templates,master,I219ec37dd0cddc6d84e157d9151a90e9d3d1aeb9,Implement EnforceScopedTokens to allow usage of scoped tokens,ABANDONED,2020-10-21 00:21:26.000000000,2021-04-08 18:27:58.000000000,,"[{'_account_id': 7130}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-21 00:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/13baf3d66287759f281ad5f8f6869878b8162b0a', 'message': 'Implement EnforceScopedTokens to allow usage of scoped tokens\n\nImplement EnforceScopedTokens to allow usage of scoped tokens while\ndeploying.   At this point in time, we are able to configure the\nfollowing:\nparameter_defaults:\n  ControllerExtraConfig:\n    keystone::config::keystone_config:\n      oslo_policy/enforce_scope:\n        value: true\nbut deployment fails due to admin credentiens being scoped on a\nproject instead of system-wide.\n\nChange-Id: I219ec37dd0cddc6d84e157d9151a90e9d3d1aeb9\n'}, {'number': 2, 'created': '2020-10-21 12:45:10.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4788de1a2731e4e7a4fcec6733d98f0a8e38b6bd', 'message': 'Implement EnforceScopedTokens to allow usage of scoped tokens\n\nImplement EnforceScopedTokens to allow usage of scoped tokens while\ndeploying.   At this point in time, we are able to configure the\nfollowing:\nparameter_defaults:\n  ControllerExtraConfig:\n    keystone::config::keystone_config:\n      oslo_policy/enforce_scope:\n        value: true\nbut deployment fails due to admin credentiens being scoped on a\nproject instead of system-wide.\n\nChange-Id: I219ec37dd0cddc6d84e157d9151a90e9d3d1aeb9\n'}]",2,758903,4788de1a2731e4e7a4fcec6733d98f0a8e38b6bd,11,4,2,7130,,,0,"Implement EnforceScopedTokens to allow usage of scoped tokens

Implement EnforceScopedTokens to allow usage of scoped tokens while
deploying.   At this point in time, we are able to configure the
following:
parameter_defaults:
  ControllerExtraConfig:
    keystone::config::keystone_config:
      oslo_policy/enforce_scope:
        value: true
but deployment fails due to admin credentiens being scoped on a
project instead of system-wide.

Change-Id: I219ec37dd0cddc6d84e157d9151a90e9d3d1aeb9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/758903/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,13baf3d66287759f281ad5f8f6869878b8162b0a,scoped_tokens, EnforceScopedTokens: type: boolean description: > Set to true to enable keystone scoped token enforcement default: false enforce_scoped_tokens: - {get_param: EnforceScopedTokens} - if: - enable_scoped_tokens - keystone::config::keystone_config: oslo_policy/enforce_scope: value: true - {} if: - enforce_scoped_tokens - '' - project_domain_name: Default project_name: admin, project_domain_name: Default project_name: admin,19,2
openstack%2Ftripleo-validations~master~I9cc63665e73ac9878c26b16aaed2c04583b1f107,openstack/tripleo-validations,master,I9cc63665e73ac9878c26b16aaed2c04583b1f107,Adding restore validation group,ABANDONED,2020-11-03 18:32:49.000000000,2021-04-08 18:27:18.000000000,,"[{'_account_id': 8932}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-11-03 18:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/711e2facdff7740ab8f9ea108fe5a0a04fda1078', 'message': 'Adding restore validation group\n\nCreating a validation group to use by restore validation command line.\n\nChange-Id: I9cc63665e73ac9878c26b16aaed2c04583b1f107\n'}, {'number': 2, 'created': '2020-11-04 12:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/94ebb614901396e65b44f929e128141d1b40fa0f', 'message': 'Adding restore validation group\n\nCreating a validation group to use by restore validation command line.\n\nChange-Id: I9cc63665e73ac9878c26b16aaed2c04583b1f107\n'}, {'number': 3, 'created': '2020-11-05 13:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2f67b8d3828fe4ec4cacd3ce1382821eeb922623', 'message': 'Adding restore validation group\n\nCreating a validation group to use by restore validation command line.\n\nChange-Id: I9cc63665e73ac9878c26b16aaed2c04583b1f107\n'}, {'number': 4, 'created': '2020-11-05 13:11:55.000000000', 'files': ['playbooks/node-health.yaml', 'doc/source/index.rst', 'playbooks/ceph-health.yaml', 'playbooks/neutron-sanity-check.yaml', 'playbooks/undercloud-neutron-sanity-check.yaml', 'groups.yaml', 'role-addition.yml', 'playbooks/pacemaker-status.yaml', 'playbooks/container-status.yaml', 'playbooks/healthcheck-service-status.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/193630bcb76f0096a4c5d60f266930b5b969250c', 'message': 'Adding restore validation group\n\nCreating a validation group to use by restore validation command line.\n\nChange-Id: I9cc63665e73ac9878c26b16aaed2c04583b1f107\n'}]",2,761215,193630bcb76f0096a4c5d60f266930b5b969250c,14,5,4,8932,,,0,"Adding restore validation group

Creating a validation group to use by restore validation command line.

Change-Id: I9cc63665e73ac9878c26b16aaed2c04583b1f107
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/15/761215/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/node-health.yaml', 'playbooks/ceph-health.yaml', 'playbooks/neutron-sanity-check.yaml', 'playbooks/undercloud-neutron-sanity-check.yaml', 'groups.yaml', 'playbooks/pacemaker-status.yaml', 'playbooks/container-status.yaml', 'playbooks/healthcheck-service-status.yaml']",8,711e2facdff7740ab8f9ea108fe5a0a04fda1078,restora_validation, - post-restore-validation,,11,0
openstack%2Fpython-tripleoclient~master~If1574f8bec563fce9ced476b55f213a38d5b2ab1,openstack/python-tripleoclient,master,If1574f8bec563fce9ced476b55f213a38d5b2ab1,Update TOX_CONSTRAINTS_FILE for stable/victoria,ABANDONED,2020-10-22 02:44:36.000000000,2021-04-08 18:26:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 28654}]","[{'number': 1, 'created': '2020-10-22 02:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d293ce41a538b11e67038c21b5e7038a04c4ceb0', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nChange-Id: If1574f8bec563fce9ced476b55f213a38d5b2ab1\n'}, {'number': 2, 'created': '2020-10-26 05:58:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bbed4ecf4e7b1e600d75ea61c619eddd5153f80e', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nChange-Id: If1574f8bec563fce9ced476b55f213a38d5b2ab1\n'}]",0,759170,bbed4ecf4e7b1e600d75ea61c619eddd5153f80e,8,2,2,28654,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Change-Id: If1574f8bec563fce9ced476b55f213a38d5b2ab1
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/70/759170/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d293ce41a538b11e67038c21b5e7038a04c4ceb0,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fopenstack-ansible-os_mistral~master~I9c358f7d8bd655712748717b391cbf6a58b196c7,openstack/openstack-ansible-os_mistral,master,I9c358f7d8bd655712748717b391cbf6a58b196c7,[goal] Deprecate the JSON formatted policy file,MERGED,2021-03-18 18:51:53.000000000,2021-04-08 18:25:59.000000000,2021-04-08 18:24:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-03-18 18:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/2952e3723e05aed9c7092588f26d090a93cf882f', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: I9c358f7d8bd655712748717b391cbf6a58b196c7\n""}, {'number': 2, 'created': '2021-03-19 07:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/646209bf799a46f03b5c59aaacd8c59253ff48c1', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/777384\nChange-Id: I9c358f7d8bd655712748717b391cbf6a58b196c7\n""}, {'number': 3, 'created': '2021-03-24 12:05:24.000000000', 'files': ['tasks/mistral_post_install.yml', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/f2cf31bf47f0536272f18c5844bb4c46ffb12eeb', 'message': ""[goal] Deprecate the JSON formatted policy file\n\nAs per the community goal of migrating the policy file\nthe format from JSON to YAML[1], we need to replace policy.json to\npolicy.yaml and remove deprecated policy.json.\n\nconfig_template has been choosen instead of the copy, since it can\nproperly handle content that has been lookuped.\n\nWe make a separate task not to restart service when it's not needed.\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/777384\nChange-Id: I9c358f7d8bd655712748717b391cbf6a58b196c7\n""}]",0,781542,f2cf31bf47f0536272f18c5844bb4c46ffb12eeb,24,3,3,28619,,,0,"[goal] Deprecate the JSON formatted policy file

As per the community goal of migrating the policy file
the format from JSON to YAML[1], we need to replace policy.json to
policy.yaml and remove deprecated policy.json.

config_template has been choosen instead of the copy, since it can
properly handle content that has been lookuped.

We make a separate task not to restart service when it's not needed.

[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/777384
Change-Id: I9c358f7d8bd655712748717b391cbf6a58b196c7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/42/781542/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/mistral_post_install.yml', 'handlers/main.yml']",2,2952e3723e05aed9c7092588f26d090a93cf882f,policy-json-to-yaml,# NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json,"# Note (odyssey4me): # The policy.json file is currently read continually by the services # and is not only read on service start. We therefore cannot template # directly to the file read by the service because the new policies # may not be valid until the service restarts. This is particularly # important during a major upgrade. We therefore only put the policy # file in place after the service has been stopped. # - name: Copy new policy file into place copy: src: ""/etc/mistral/policy.json-{{ mistral_venv_tag }}"" dest: ""/etc/mistral/policy.json"" owner: ""root"" group: ""{{ mistral_system_group_name }}"" mode: ""0640"" remote_src: yes when: - mistral_policy_overrides != {} listen: - ""Restart mistral services"" - ""venv changed"" - name: Remove legacy policy.json file when: - mistral_policy_overrides == {}",19,33
openstack%2Ftripleo-ci~master~Iba416f207a294ca477df94dda87f685fc08671bc,openstack/tripleo-ci,master,Iba416f207a294ca477df94dda87f685fc08671bc,Periodic multinode: add next minor release,ABANDONED,2020-05-01 14:41:26.000000000,2021-04-08 18:23:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-01 14:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/70e0c62345f34c4aec85fa0af0361e1f0892c605', 'message': 'Periodic multinode: add next minor release\n\nThis patch enables an update on the undercloud image to Centos CR repo,\nwhich if present will contain the updates to the patches for the next\nminor release before starting the workflow\n\nChange-Id: Iba416f207a294ca477df94dda87f685fc08671bc\nDepends-On: https://review.opendev.org/618832\n'}, {'number': 2, 'created': '2020-05-05 00:57:57.000000000', 'files': ['roles/run-test/tasks/main.yaml', 'roles/prepare-node/tasks/main.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/layout.yaml', 'playbooks/tripleo-ci/templates/nextrelease.repo.j2', 'zuul.d/multinode-jobs.yaml', 'zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6c318230629573e8fda3af8e2500652bc2d60fd4', 'message': 'Periodic multinode: add next minor release\n\nThis patch enables an update on the undercloud image to Centos CR repo,\nwhich if present will contain the updates to the patches for the next\nminor release before starting the workflow\n\nChange-Id: Iba416f207a294ca477df94dda87f685fc08671bc\nDepends-On: https://review.opendev.org/618832\n'}]",0,724858,6c318230629573e8fda3af8e2500652bc2d60fd4,7,2,2,10022,,,0,"Periodic multinode: add next minor release

This patch enables an update on the undercloud image to Centos CR repo,
which if present will contain the updates to the patches for the next
minor release before starting the workflow

Change-Id: Iba416f207a294ca477df94dda87f685fc08671bc
Depends-On: https://review.opendev.org/618832
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/58/724858/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/run-test/tasks/main.yaml', 'roles/prepare-node/tasks/main.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/layout.yaml', 'playbooks/tripleo-ci/templates/nextrelease.repo.j2', 'zuul.d/multinode-jobs.yaml', 'zuul.d/build-image.yaml']",7,70e0c62345f34c4aec85fa0af0361e1f0892c605,periodic-jobs, name: tripleo-buildimage-overcloud-full-centos-7-next-os-version parent: tripleo-build-images-base vars: tripleo_image_type: overcloud-full tripleo_image_os: centos7 update_baseos: true - job:,,165,1
openstack%2Ftripleo-heat-templates~master~I503061e8fe246c0c190a7e50a808c74799d38515,openstack/tripleo-heat-templates,master,I503061e8fe246c0c190a7e50a808c74799d38515,Add support for Client CA in Octavia,ABANDONED,2020-04-27 13:52:25.000000000,2021-04-08 18:23:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-04-27 13:52:25.000000000', 'files': ['deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/644c1885ee3d92b0008ff2e8ec62b138c586b644', 'message': 'Add support for Client CA in Octavia\n\nAdded default parameters for Client CA support in Octavia.\nThose parameters are passed to tripleo-ansible playbook.\n\nDepends-On: https://review.opendev.org/723536\n\nRelated-Bug: #1875358\nChange-Id: I503061e8fe246c0c190a7e50a808c74799d38515\n'}]",0,723539,644c1885ee3d92b0008ff2e8ec62b138c586b644,9,3,1,29244,,,0,"Add support for Client CA in Octavia

Added default parameters for Client CA support in Octavia.
Those parameters are passed to tripleo-ansible playbook.

Depends-On: https://review.opendev.org/723536

Related-Bug: #1875358
Change-Id: I503061e8fe246c0c190a7e50a808c74799d38515
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/723539/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml']",2,644c1885ee3d92b0008ff2e8ec62b138c586b644,octavia_certs, OctaviaClientCaKeyFile: default: '/etc/octavia/certs/private/client_ca.key.pem' description: Client CA private key file path. type: string hidden: true OctaviaClientCaKeyPassphrase: description: Client CA private key passphrase. type: string hidden: true OctaviaClientCaCertFile: default: '/etc/octavia/certs/client_ca.cert.pem' description: Client CA for amphorae. type: string client_ca_passphrase: { get_param: OctaviaClientCaKeyPassphrase } client_ca_private_key_path: { get_param: OctaviaClientCaKeyFile } client_ca_cert_path: { get_param: OctaviaClientCaCertFile },,20,0
openstack%2Ftripleo-upgrade~master~I9b8f097c1d58d347ca9f5cd483d5566cff58c2b0,openstack/tripleo-upgrade,master,I9b8f097c1d58d347ca9f5cd483d5566cff58c2b0,"[update] edge support, ie multi-overcloud.",ABANDONED,2020-03-19 13:39:01.000000000,2021-04-08 18:22:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-03-19 13:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/33b4b0e27b3718aec8e5da12d63aacd228af92a8', 'message': '[update] edge support, ie multi-overcloud.\n\nIt enables the creation of scripts for different clouds without being\noverwritten.\n\nChange-Id: I9b8f097c1d58d347ca9f5cd483d5566cff58c2b0\n'}, {'number': 2, 'created': '2020-03-19 15:11:03.000000000', 'files': ['tasks/common/load_roles_from_inventory.yaml', 'tasks/update/create-overcloud-update-scripts.yaml', 'tasks/update/overcloud_update_converge.yml', 'tasks/update/main.yml', 'tasks/update/overcloud_update_run_role.yml', 'defaults/main.yml', 'tasks/update/overcloud_update_prepare.yml', 'tasks/fast-forward-upgrade/overcloud_role.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d8686a0011116c763485f842cb1f502f19f449c9', 'message': ""[update] edge support, ie multi-overcloud.\n\nIt enables the creation of scripts for different clouds without being\noverwritten.\n\nIt also take into account overcloud that doesn't have an Controller\nrole and avoid failure in that case.\n\nA small refactor of tripleo-ansible-inventory path is also included,\nas it's used more than once.\n\nChange-Id: I9b8f097c1d58d347ca9f5cd483d5566cff58c2b0\n""}]",0,713882,d8686a0011116c763485f842cb1f502f19f449c9,4,2,2,8297,,,0,"[update] edge support, ie multi-overcloud.

It enables the creation of scripts for different clouds without being
overwritten.

It also take into account overcloud that doesn't have an Controller
role and avoid failure in that case.

A small refactor of tripleo-ansible-inventory path is also included,
as it's used more than once.

Change-Id: I9b8f097c1d58d347ca9f5cd483d5566cff58c2b0
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/82/713882/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/load_roles_from_inventory.yaml', 'tasks/update/create-overcloud-update-scripts.yaml', 'tasks/update/overcloud_update_converge.yml', 'tasks/update/main.yml', 'tasks/update/overcloud_update_run_role.yml', 'defaults/main.yml', 'tasks/update/overcloud_update_prepare.yml']",7,33b4b0e27b3718aec8e5da12d63aacd228af92a8,," {{ working_dir }}/{{ overcloud_stack_name }}_update_prepare.log tee {{ working_dir }}/{{ overcloud_stack_name }}_failed_update_prepare.log tee {{ working_dir }}/{{ overcloud_stack_name }}_failed_prepare_resources.log fail: msg=""{{ Overcloud_Stack_Name }} minor update preparation step failed..."""," {{ working_dir }}/overcloud_update_prepare.log tee {{ working_dir }}/overcloud_failed_update_prepare.log tee {{ working_dir }}/overcloud_failed_prepare_resources.log fail: msg=""Overcloud minor update preparation step failed...""",16,11
openstack%2Ftripleo-validations~master~I904573b478911dd4c1b4ddcda849ed065812c2a3,openstack/tripleo-validations,master,I904573b478911dd4c1b4ddcda849ed065812c2a3,Add FFU10-13 pre-upgrade packages checks,ABANDONED,2020-02-27 22:58:26.000000000,2021-04-08 18:21:50.000000000,,"[{'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-27 22:58:26.000000000', 'files': ['roles/check_packages_version/defaults/main.yml', 'roles/check_packages_version/molecule/default/Dockerfile.j2', 'groups.yaml', 'roles/check_packages_version/tasks/main.yml', 'roles/check_packages_version/vars/main.yml', 'roles/check_packages_version/molecule/default/prepare.yml', 'roles/check_packages_version/molecule/default/molecule.yml', 'playbooks/ffu-10-13-packages-check.yaml', 'roles/check_packages_version/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/979b6df6d76fa226c6a26af306be270bec817196', 'message': 'Add FFU10-13 pre-upgrade packages checks\n\nAdd role for packages checks using yum ansible module\nAdd playbook to invoke the validation\n\nChange-Id: I904573b478911dd4c1b4ddcda849ed065812c2a3\n'}]",0,710347,979b6df6d76fa226c6a26af306be270bec817196,3,2,1,16515,,,0,"Add FFU10-13 pre-upgrade packages checks

Add role for packages checks using yum ansible module
Add playbook to invoke the validation

Change-Id: I904573b478911dd4c1b4ddcda849ed065812c2a3
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/47/710347/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_packages_version/defaults/main.yml', 'roles/check_packages_version/molecule/default/Dockerfile.j2', 'groups.yaml', 'roles/check_packages_version/tasks/main.yml', 'roles/check_packages_version/vars/main.yml', 'roles/check_packages_version/molecule/default/prepare.yml', 'roles/check_packages_version/molecule/default/molecule.yml', 'playbooks/ffu-10-13-packages-check.yaml', 'roles/check_packages_version/molecule/default/playbook.yml']",9,979b6df6d76fa226c6a26af306be270bec817196,ffu-10-13-pkg-pre-check,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Converge hosts: all tasks: - name: Validate No Available Update for patch rpm include_role: name: check_packages_version vars: packages: - patch - name: Working Detection of Update for Pam package block: - include_role: name: check_packages_version vars: packages: - pam rescue: - name: Clear host errors meta: clear_host_errors - debug: msg: The validation works! End the playbook run - name: End play meta: end_play - name: Fail the test fail: msg: | The check_packages_version role should have detected that packages have available updates. ",,198,0
openstack%2Ftripleo-validations~master~I373d1460b13e66751c9851d1388dee9908bc7517,openstack/tripleo-validations,master,I373d1460b13e66751c9851d1388dee9908bc7517,Add FFU validation to check for existence of a backup file,ABANDONED,2020-01-06 09:23:56.000000000,2021-04-08 18:21:43.000000000,,"[{'_account_id': 11491}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-01-06 09:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/00ffd2e7825b02d07059af6ad80223b09800a133', 'message': 'Add FFU validation to check for existence of a backup file\n\nChange-Id: I373d1460b13e66751c9851d1388dee9908bc7517\n'}, {'number': 2, 'created': '2020-01-21 14:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e21ddb21dc4da85d6f6fdfa8d49414ba74d845c5', 'message': 'Add FFU validation to check for existence of a backup file\n\nChange-Id: I373d1460b13e66751c9851d1388dee9908bc7517\n'}, {'number': 3, 'created': '2020-01-30 16:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4090adc534c17230d464fb6a73a62b8a6574fad9', 'message': 'Add FFU validation to check for existence of a backup file\n\nChange-Id: I373d1460b13e66751c9851d1388dee9908bc7517\n'}, {'number': 4, 'created': '2020-01-30 16:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/146656021a5307398221a939d669440fd4400ae1', 'message': 'Add FFU validation to check for existence of a backup file\n\nChange-Id: I373d1460b13e66751c9851d1388dee9908bc7517\n'}, {'number': 5, 'created': '2020-01-30 17:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/59006f6575cb89d572cac0ee07ca5606326e5778', 'message': 'Add FFU validation to check for existence of a backup file\n\nChange-Id: I373d1460b13e66751c9851d1388dee9908bc7517\n'}, {'number': 6, 'created': '2020-02-26 08:25:48.000000000', 'files': ['playbooks/ffu-10-13-backup.yaml', 'roles/undercloud_backup_file/defaults/main.yml', 'groups.yaml', 'roles/undercloud_backup_file/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1b863ce9c0d62641520944e525facd57760d9e58', 'message': 'Add FFU validation to check for existence of a backup file\n\nChange-Id: I373d1460b13e66751c9851d1388dee9908bc7517\n'}]",4,701179,1b863ce9c0d62641520944e525facd57760d9e58,17,4,6,17888,,,0,"Add FFU validation to check for existence of a backup file

Change-Id: I373d1460b13e66751c9851d1388dee9908bc7517
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/79/701179/6 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ffu-10-13-backup.yaml', 'roles/undercloud-backup-file/tasks/main.yaml']",2,00ffd2e7825b02d07059af6ad80223b09800a133,ffu-10-13-backup,"--- - name: Find backup file find: paths: /home/stack/ patterns: undercloud-backup-*.tar.gz recurse: yes register: backup_file - fail: msg: ""No backup file found."" when: backup_file.matched == 0 ",,20,0
openstack%2Ftripleo-ci~master~Ib67eeffa7f2d4fc24b56dc97443c62674843f294,openstack/tripleo-ci,master,Ib67eeffa7f2d4fc24b56dc97443c62674843f294,Do not override featureset value for UC upgrade,ABANDONED,2019-12-13 08:42:51.000000000,2021-04-08 18:21:35.000000000,,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-13 08:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1338ea6bfc1b66997f45dda42a1e3cea53db8ac1', 'message': ""Do not override featureset value for UC upgrade\n\nRemove the validate_services overrides, to be able to control\nthis variable in the featureset itself.\nWith a containerized to containerized Undercloud upgrade,\nwe don't need to run the validate_services checks\n\nChange-Id: Ib67eeffa7f2d4fc24b56dc97443c62674843f294\n""}, {'number': 2, 'created': '2019-12-15 22:41:25.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e51fa753cd8f86bc0c68d9d3b18f155b579bef8c', 'message': ""Do not override featureset value for UC upgrade\n\nRemove the validate_services overrides, to be able to control\nthis variable in the featureset itself.\nWith a containerized to containerized Undercloud upgrade,\nwe don't need to run the validate_services checks\n\nChange-Id: Ib67eeffa7f2d4fc24b56dc97443c62674843f294\n""}]",3,698849,e51fa753cd8f86bc0c68d9d3b18f155b579bef8c,10,4,2,16515,,,0,"Do not override featureset value for UC upgrade

Remove the validate_services overrides, to be able to control
this variable in the featureset itself.
With a containerized to containerized Undercloud upgrade,
we don't need to run the validate_services checks

Change-Id: Ib67eeffa7f2d4fc24b56dc97443c62674843f294
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/49/698849/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,1338ea6bfc1b66997f45dda42a1e3cea53db8ac1,uc/upgrade/validate/services,, featureset_override: validate_services: true,0,2
openstack%2Fcinder~stable%2Fwallaby~Ibed5dae5232c5227e14f9956c8ae8166282c174f,openstack/cinder,stable/wallaby,Ibed5dae5232c5227e14f9956c8ae8166282c174f,Add releasenote for glance mTLS fix,MERGED,2021-03-30 20:00:03.000000000,2021-04-08 18:14:46.000000000,2021-04-08 18:10:07.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-30 20:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8634a6052e7bd00f7be6081771736d8bfcc54bc1', 'message': 'Add releasenote for glance mTLS fix\n\nFollow for change: Ic9deaa001482c89cdc4361d4a8c7e0236a5a3885\n\nChange-Id: Ibed5dae5232c5227e14f9956c8ae8166282c174f\n'}, {'number': 2, 'created': '2021-03-30 20:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7bb0575010c19227f1d447cfe17489dfbb919859', 'message': 'Add releasenote for glance mTLS fix\n\nFollow for change: Ic9deaa001482c89cdc4361d4a8c7e0236a5a3885\n\nChange-Id: Ibed5dae5232c5227e14f9956c8ae8166282c174f\n'}, {'number': 3, 'created': '2021-04-07 15:46:13.000000000', 'files': ['releasenotes/notes/mtls-fix-for-glance-api-calls-469b992adc5f49ff.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ceb0f14a5cdd63c32653c0d5a7d773f535ae965', 'message': 'Add releasenote for glance mTLS fix\n\nFollow for change: Ic9deaa001482c89cdc4361d4a8c7e0236a5a3885\n\nChange-Id: Ibed5dae5232c5227e14f9956c8ae8166282c174f\n'}]",3,783964,4ceb0f14a5cdd63c32653c0d5a7d773f535ae965,34,6,3,10273,,,0,"Add releasenote for glance mTLS fix

Follow for change: Ic9deaa001482c89cdc4361d4a8c7e0236a5a3885

Change-Id: Ibed5dae5232c5227e14f9956c8ae8166282c174f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/783964/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/mtls-fix-for-glance-api-calls-469b992adc5f49ff.yaml'],1,8634a6052e7bd00f7be6081771736d8bfcc54bc1,,--- fixes: - | `Bug #1917797 <https://bugs.launchpad.net/cinder/+bug/1917797>`_: Fix Cinder's communication with the Glance API to correctly load mTLS certificates from config (``glance_certfile`` and ``glance_keyfile`` in the ``[glance]`` section). ,,7,0
openstack%2Fneutron~stable%2Fvictoria~Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,openstack/neutron,stable/victoria,Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb,Stop metadata proxy gracefully,MERGED,2021-02-19 08:03:10.000000000,2021-04-08 18:13:34.000000000,2021-04-08 18:09:35.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 08:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2aa44ea7eaa3b58ae45d73dfe02b703f984daeeb', 'message': 'Stop metadata proxy gracefully\n\nHAProxy supports hard stop [1] via SIGTERM signal. From the\ndocumentation:\n\n  """"""\n  ... when the SIGTERM signal is sent to the haproxy process,\n  it immediately quits and all established connections are\n  closed.\n  """"""\n\nIn case the process does not finish, the SIGKILL signal is sent.\nThe PID file created by the process is deleted.\n\n[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4\n\nCloses-Bug: #1910691\n\nConflicts:\n    neutron/agent/metadata/driver.py\n\nChange-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb\n(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)\n'}, {'number': 2, 'created': '2021-02-23 07:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d55bae590c319159ee2844c3360dc23168bfece', 'message': 'Stop metadata proxy gracefully\n\nHAProxy supports hard stop [1] via SIGTERM signal. From the\ndocumentation:\n\n  """"""\n  ... when the SIGTERM signal is sent to the haproxy process,\n  it immediately quits and all established connections are\n  closed.\n  """"""\n\nIn case the process does not finish, the SIGKILL signal is sent.\nThe PID file created by the process is deleted.\n\n[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4\n\nCloses-Bug: #1910691\n\nConflicts:\n    neutron/agent/metadata/driver.py\n\nChange-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb\n(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)\n'}, {'number': 3, 'created': '2021-02-25 08:50:26.000000000', 'files': ['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b07afa7212a9df57bb123b83783c8c4c6bef379b', 'message': 'Stop metadata proxy gracefully\n\nHAProxy supports hard stop [1] via SIGTERM signal. From the\ndocumentation:\n\n  """"""\n  ... when the SIGTERM signal is sent to the haproxy process,\n  it immediately quits and all established connections are\n  closed.\n  """"""\n\nIn case the process does not finish, the SIGKILL signal is sent.\nThe PID file created by the process is deleted.\n\n[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4\n\nCloses-Bug: #1910691\n\nConflicts:\n    neutron/agent/metadata/driver.py\n\nChange-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb\n(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)\n'}]",2,776582,b07afa7212a9df57bb123b83783c8c4c6bef379b,36,4,3,11975,,,0,"Stop metadata proxy gracefully

HAProxy supports hard stop [1] via SIGTERM signal. From the
documentation:

  """"""
  ... when the SIGTERM signal is sent to the haproxy process,
  it immediately quits and all established connections are
  closed.
  """"""

In case the process does not finish, the SIGKILL signal is sent.
The PID file created by the process is deleted.

[1]https://cbonte.github.io/haproxy-dconv/2.0/management.html#4

Closes-Bug: #1910691

Conflicts:
    neutron/agent/metadata/driver.py

Change-Id: Ifa3734e8eb4e52b1a132c3351ecc2e15463298bb
(cherry picked from commit bf14c725bbb6ce710a45c55d1dd00eee2fb53f62)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/776582/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py']",3,2aa44ea7eaa3b58ae45d73dfe02b703f984daeeb,bug/1907695-stable/victoria,"import signal @mock.patch.object(linux_utils, 'delete_if_exists') def test_dhcp_ready_ports_updates_after_enable_dhcp(self, *args): mock.call().disable(sig=str(int(signal.SIGTERM)))]) mock.call().disable(sig=str(int(signal.SIGTERM)))]) mock.call().disable(sig=str(int(signal.SIGTERM)))", def test_dhcp_ready_ports_updates_after_enable_dhcp(self): mock.call().disable()]) mock.call().disable()]) mock.call().disable(),64,6
openstack%2Fcinder~stable%2Fwallaby~I4637557c90b1cee451ae7227f8024a9c7ee39c87,openstack/cinder,stable/wallaby,I4637557c90b1cee451ae7227f8024a9c7ee39c87,Add release note about cgroups v1,MERGED,2021-03-31 22:37:27.000000000,2021-04-08 18:13:17.000000000,2021-04-08 18:09:58.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 6476}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-31 22:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4c2b34c05641bfa277ee2929d2b0a7fac306e461', 'message': 'Add release note about cgroups v1\n\nChange-Id: I4637557c90b1cee451ae7227f8024a9c7ee39c87\n'}, {'number': 2, 'created': '2021-04-07 13:52:03.000000000', 'files': ['releasenotes/notes/cgroups-v1-status-note-b1eff0e1907aa0f2.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f87090b8641fae2d2749fea396be50b5dfd7d65b', 'message': 'Add release note about cgroups v1\n\nChange-Id: I4637557c90b1cee451ae7227f8024a9c7ee39c87\n'}]",11,784179,f87090b8641fae2d2749fea396be50b5dfd7d65b,28,9,2,5314,,,0,"Add release note about cgroups v1

Change-Id: I4637557c90b1cee451ae7227f8024a9c7ee39c87
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/784179/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/cgroups-v1-status-note-b1eff0e1907aa0f2.yaml'],1,4c2b34c05641bfa277ee2929d2b0a7fac306e461,add-cgroup-relnote,"--- other: - | The cinder-volume service currently depends on `Linux Kernel Control Groups (cgroups) version 1 <https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v1/cgroups.html>`__ to control i/o throttling during some volume-copy and image-convert operations. At the time of this release, some Linux distributions may have changed to using `cgroups v2 <https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html>`__ by default. Thus, you may need to take explicit steps to ensure that **cgroups v1** is enabled on any OpenStack nodes running the cinder-volume service. This may entail setting specific Linux kernel parameters for these nodes. Consult your Linux distribution's documentation for details. For more information: * The cinder options associated with throttling are ``volume_copy_blkio_cgroup_name`` and ``volume_copy_bps_limit``. They are described in the `sample cinder configuration file <https://docs.openstack.org/cinder/wallaby/configuration/block-storage/samples/cinder.conf.html>`__ for the Wallaby release. * For an example of distribution-specific information about cgroups, see `OpenStack and cgroups v1 <https://www.debian.org/releases/bullseye/amd64/release-notes/ch-information.en.html#openstack-cgroups>`__ in the Debian 11 (""bullseye"") release notes. ",,26,0
openstack%2Fdevstack~master~I83d56c9363d481bb6d5921f5e1f9b024f136044b,openstack/devstack,master,I83d56c9363d481bb6d5921f5e1f9b024f136044b,Default to parallel execution,MERGED,2021-03-26 14:18:50.000000000,2021-04-08 18:13:09.000000000,2021-04-08 18:10:36.000000000,"[{'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-26 14:18:50.000000000', 'files': ['inc/async'], 'web_link': 'https://opendev.org/openstack/devstack/commit/84b328c814fd5be8af53738128aa3f5ef75ca3c7', 'message': 'Default to parallel execution\n\nSeveral jobs have been running in parallel since the late Wallaby\ncycle, and other developers have had it enabled locally. I have heard\nno async-related stability or debug-ability complaints thus far.\nI think that we should convert the default to parallel early in the\nXena cycle in an attempt to spread the speed improvements across the\nboard, while also collecting data on a wider set of configurations.\n\nChange-Id: I83d56c9363d481bb6d5921f5e1f9b024f136044b\n'}]",0,783311,84b328c814fd5be8af53738128aa3f5ef75ca3c7,10,5,1,4393,,,0,"Default to parallel execution

Several jobs have been running in parallel since the late Wallaby
cycle, and other developers have had it enabled locally. I have heard
no async-related stability or debug-ability complaints thus far.
I think that we should convert the default to parallel early in the
Xena cycle in an attempt to spread the speed improvements across the
board, while also collecting data on a wider set of configurations.

Change-Id: I83d56c9363d481bb6d5921f5e1f9b024f136044b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/11/783311/1 && git format-patch -1 --stdout FETCH_HEAD,['inc/async'],1,84b328c814fd5be8af53738128aa3f5ef75ca3c7,default-parallel,DEVSTACK_PARALLEL=$(trueorfalse True DEVSTACK_PARALLEL),DEVSTACK_PARALLEL=$(trueorfalse False DEVSTACK_PARALLEL),1,1
openstack%2Ftacker~master~I8a75bac1659ceff2efbb5ae017b131506a689e29,openstack/tacker,master,I8a75bac1659ceff2efbb5ae017b131506a689e29,Fix warnings for duplicated policy rules,MERGED,2021-03-31 03:27:23.000000000,2021-04-08 18:11:11.000000000,2021-04-08 18:08:06.000000000,"[{'_account_id': 16308}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31821}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-03-31 03:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4797d0b61f39a23bd705ed96e68824001a454ebf', 'message': ""Fix warnings for duplicated policy rules\n\nThere are so many warning messages appear while running tests. It's\nbecause of a change in `oslo.policy` for notifying that some policy\nrules are the same as default. So, this change removes duplicated\npolicies from policy file.\n\nCloses-Bug: #1921981\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I8a75bac1659ceff2efbb5ae017b131506a689e29\n""}, {'number': 2, 'created': '2021-04-01 08:40:31.000000000', 'files': ['tacker/tests/etc/policy.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/12ff2919b4b087b6591099e62ab8a907a1a1478b', 'message': ""Fix warnings for duplicated policy rules\n\nThere are so many warning messages appear while running tests. It's\nbecause of a change in `oslo.policy` for notifying that some policy\nrules are the same as default. So, this change removes duplicated\npolicies from policy file.\n\nCloses-Bug: #1921981\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I8a75bac1659ceff2efbb5ae017b131506a689e29\n""}]",0,783995,12ff2919b4b087b6591099e62ab8a907a1a1478b,14,8,2,25701,,,0,"Fix warnings for duplicated policy rules

There are so many warning messages appear while running tests. It's
because of a change in `oslo.policy` for notifying that some policy
rules are the same as default. So, this change removes duplicated
policies from policy file.

Closes-Bug: #1921981

Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
Change-Id: I8a75bac1659ceff2efbb5ae017b131506a689e29
",git fetch https://review.opendev.org/openstack/tacker refs/changes/95/783995/2 && git format-patch -1 --stdout FETCH_HEAD,['tacker/tests/etc/policy.yaml'],1,4797d0b61f39a23bd705ed96e68824001a454ebf,bug/1921981,,"""context_is_admin"": ""role:admin""""default"": ""rule:admin_or_owner""",0,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia738f6e8904a337f911cfdd58b09932c10397764,openstack/tripleo-heat-templates,stable/train,Ia738f6e8904a337f911cfdd58b09932c10397764,Add TLS capabilities to Memcached service,MERGED,2021-02-15 16:18:55.000000000,2021-04-08 18:08:36.000000000,2021-04-08 18:08:36.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-02-15 16:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b31bd67ac18958f43e89c1f84d1755728b392c2', 'message': 'Add TLS capabilities to Memcached service\n\nCo-Authored-By: Grzegorz Grasza <xek@redhat.com>\nDepends-On: https://review.opendev.org/745532\nChange-Id: Ia738f6e8904a337f911cfdd58b09932c10397764\n(cherry picked from commit 50c22d629c00339d8dd47b361af63b66987cd701)\n'}, {'number': 2, 'created': '2021-03-03 15:19:48.000000000', 'files': ['deployment/memcached/memcached-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ecc24fcc13729a80da3a5f4c050efc33d961f91', 'message': 'Add TLS capabilities to Memcached service\n\nCo-Authored-By: Grzegorz Grasza <xek@redhat.com>\nDepends-On: https://review.opendev.org/775674\nChange-Id: Ia738f6e8904a337f911cfdd58b09932c10397764\n(cherry picked from commit 50c22d629c00339d8dd47b361af63b66987cd701)\n'}]",2,775676,8ecc24fcc13729a80da3a5f4c050efc33d961f91,21,8,2,14250,,,0,"Add TLS capabilities to Memcached service

Co-Authored-By: Grzegorz Grasza <xek@redhat.com>
Depends-On: https://review.opendev.org/775674
Change-Id: Ia738f6e8904a337f911cfdd58b09932c10397764
(cherry picked from commit 50c22d629c00339d8dd47b361af63b66987cd701)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/775676/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/memcached/memcached-container-puppet.yaml'],1,5b31bd67ac18958f43e89c1f84d1755728b392c2,memcached-cert-stable/train," MemcachedTLS: default: false description: Set to True to enable TLS on Memcached service. type: boolean internal_tls_enabled: {equals: [{get_param: MemcachedTLS}, true]} map_merge: - # NOTE: bind IP is found in hiera replacing the network name with the local node IP # for the given network; replacement examples (eg. for internal_api): # internal_api -> IP # internal_api_uri -> [IP] # internal_api_subnet - > IP/CIDR memcached::listen_ip: str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} memcached::listen_ip_uri: str_replace: template: ""%{hiera('$NETWORK_uri')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} memcached::max_connections: {get_param: MemcachedMaxConnections} memcached::max_memory: {get_param: MemcachedMaxMemory} # https://access.redhat.com/security/cve/cve-2018-1000115 # Only accept TCP to avoid spoofed traffic amplification DoS on UDP. memcached::udp_port: 0 memcached::verbosity: list_join: - - 'v' - if: - service_debug - 'v' - '' memcached::disable_cachedump: true tripleo::memcached::firewall_rules: # https://access.redhat.com/security/cve/cve-2018-1000115 # Only accept TCP to avoid spoofed traffic amplification DoS on UDP. # Memcached traffic shouldn't be open on the internet. # Even if binding is configured on internal_api network, enforce it # via firewall as well. if: - memcached_network_unset - map_merge: repeat: for_each: <%net_cidr%>: get_param: - ServiceData - net_cidr_map - {get_param: [ServiceNetMap, MemcachedNetwork]} template: '121 memcached <%net_cidr%>': dport: 11211 proto: 'tcp' source: <%net_cidr%> - '121 memcached': dport: 11211 proto: 'tcp' source: {get_param: MemcachedIpSubnet} memcached::logstdout: true tripleo::profile::base::memcached::enable_internal_memcached_tls: {get_param: MemcachedTLS} - if: - internal_tls_enabled - generate_service_certificates: true tripleo::memcached::service_certificate: '/etc/pki/tls/certs/memcached.crt' tripleo::profile::base::memcached::certificate_specs: service_certificate: '/etc/pki/tls/certs/memcached.crt' service_key: '/etc/pki/tls/private/memcached.key' hostname: str_replace: template: ""%{hiera('fqdn_$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} principal: str_replace: template: ""memcached/%{hiera('fqdn_$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} postsave_cmd: ""/usr/bin/certmonger-memcached-refresh.sh"" - {} - source: ""/var/lib/kolla/config_files/src-tls/*"" dest: ""/"" merge: true preserve_properties: true optional: true - path: /etc/pki/tls/certs/memcached.crt owner: memcached:memcached optional: true - path: /etc/pki/tls/private/memcached.key owner: memcached:memcached optional: true - if: - internal_tls_enabled - - /etc/pki/tls/certs/memcached.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/memcached.crt:ro - /etc/pki/tls/private/memcached.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/memcached.key:ro - null metadata_settings: if: - internal_tls_enabled - - service: memcached network: {get_param: [ServiceNetMap, MemcachedNetwork]} type: node - null"," # NOTE: bind IP is found in hiera replacing the network name with the local node IP # for the given network; replacement examples (eg. for internal_api): # internal_api -> IP # internal_api_uri -> [IP] # internal_api_subnet - > IP/CIDR memcached::listen_ip: str_replace: template: ""%{hiera('$NETWORK')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} memcached::listen_ip_uri: str_replace: template: ""%{hiera('$NETWORK_uri')}"" params: $NETWORK: {get_param: [ServiceNetMap, MemcachedNetwork]} memcached::max_connections: {get_param: MemcachedMaxConnections} memcached::max_memory: {get_param: MemcachedMaxMemory} # https://access.redhat.com/security/cve/cve-2018-1000115 # Only accept TCP to avoid spoofed traffic amplification DoS on UDP. memcached::udp_port: 0 memcached::verbosity: list_join: - '' - - 'v' - if: - service_debug - 'v' memcached::disable_cachedump: true tripleo::memcached::firewall_rules: # https://access.redhat.com/security/cve/cve-2018-1000115 # Only accept TCP to avoid spoofed traffic amplification DoS on UDP. # Memcached traffic shouldn't be open on the internet. # Even if binding is configured on internal_api network, enforce it # via firewall as well. if: - memcached_network_unset - map_merge: repeat: for_each: <%net_cidr%>: get_param: - ServiceData - net_cidr_map - {get_param: [ServiceNetMap, MemcachedNetwork]} template: '121 memcached <%net_cidr%>': dport: 11211 proto: 'tcp' source: <%net_cidr%> - '121 memcached': dport: 11211 proto: 'tcp' source: {get_param: MemcachedIpSubnet} memcached::logstdout: true",109,56
openstack%2Fpuppet-tripleo~stable%2Ftrain~I8eb2b45e8868b99dfe402fee514afa8f8c42f086,openstack/puppet-tripleo,stable/train,I8eb2b45e8868b99dfe402fee514afa8f8c42f086,Add Memcached certificate generation,MERGED,2021-02-15 16:06:22.000000000,2021-04-08 18:02:17.000000000,2021-04-08 18:02:17.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-02-15 16:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/beb526621f38f1e45038b40d32b3b06468f09cd9', 'message': 'Add Memcached certificate generation\n\nAdding certification generation and pass it down to puppet-memcached.\n\nChange-Id: I8eb2b45e8868b99dfe402fee514afa8f8c42f086\n(cherry picked from commit b0b7b4069aa90080761edb83c65174b116ba5fbb)\n'}, {'number': 2, 'created': '2021-02-18 14:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f7865204212d87f75edcf4d451ccd4d67766be15', 'message': 'Add Memcached certificate generation\n\nAdding certification generation and pass it down to puppet-memcached.\n\nChange-Id: I8eb2b45e8868b99dfe402fee514afa8f8c42f086\n(cherry picked from commit b0b7b4069aa90080761edb83c65174b116ba5fbb)\n'}, {'number': 3, 'created': '2021-03-22 16:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/80cae73970c83aa239e21779b8ed002b18e6ab13', 'message': 'Add Memcached certificate generation\n\nAdding certification generation and pass it down to puppet-memcached.\n\nNOTE(moguimar): Squashing one extra fix that was merged after the first\npatch made it into master.\n\nSquashes:\n- Fix memcached restart on cert renewal\n  (cherry picked from commit 4586911ef793c6b28871963c0a1485d71dee48c6)\n\nChange-Id: I8eb2b45e8868b99dfe402fee514afa8f8c42f086\n(cherry picked from commit b0b7b4069aa90080761edb83c65174b116ba5fbb)\n'}, {'number': 4, 'created': '2021-04-01 08:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/64db7b078dd160f6979f642d3875f8891e7f2ab7', 'message': 'Add Memcached certificate generation\n\nAdding certification generation and pass it down to puppet-memcached.\n\nNOTE(moguimar): Squashing one extra fix that was merged after the first\npatch made it into master.\n\nSquashes:\n- Fix memcached restart on cert renewal\n  (cherry picked from commit 4586911ef793c6b28871963c0a1485d71dee48c6)\n\nChange-Id: I8eb2b45e8868b99dfe402fee514afa8f8c42f086\n(cherry picked from commit b0b7b4069aa90080761edb83c65174b116ba5fbb)\n'}, {'number': 5, 'created': '2021-04-01 09:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bb04df2addf0f54be47a5375d620a71837744fbb', 'message': 'Add Memcached certificate generation\n\nAdding certification generation and pass it down to puppet-memcached.\n\nNOTE(moguimar): Squashing one extra fix that was merged after the first\npatch made it into master.\n\nSquashes:\n- Fix memcached restart on cert renewal\n  (cherry picked from commit 4586911ef793c6b28871963c0a1485d71dee48c6)\n\nConflicts:\n\tmanifests/profile/base/memcached.pp\n\nChange-Id: I8eb2b45e8868b99dfe402fee514afa8f8c42f086\n(cherry picked from commit b0b7b4069aa90080761edb83c65174b116ba5fbb)\n(cherry picked from commit 91033038161c1c85d35a40e99e521140fe85e25a)\n'}, {'number': 6, 'created': '2021-04-06 08:25:45.000000000', 'files': ['manifests/profile/base/memcached.pp', 'files/certmonger-memcached-refresh.sh', 'spec/classes/tripleo_certmonger_memcached_spec.rb', 'manifests/certmonger/memcached.pp', 'spec/classes/tripleo_profile_base_memcached_spec.rb', 'manifests/profile/base/certmonger_user.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/623f44839295531403d627bedf5934d99a90955a', 'message': 'Add Memcached certificate generation\n\nAdding certification generation and pass it down to puppet-memcached.\n\nNOTE(moguimar): Squashing one extra fix that was merged after the first\npatch made it into master.\n\nSquashes:\n- Fix memcached restart on cert renewal\n  (cherry picked from commit 4586911ef793c6b28871963c0a1485d71dee48c6)\n\nConflicts:\n\tmanifests/profile/base/memcached.pp\n\nNote:\nRelative names were replaced by absolute names to pass the lint tests\nfor stable/train.\n\nChange-Id: I8eb2b45e8868b99dfe402fee514afa8f8c42f086\n(cherry picked from commit b0b7b4069aa90080761edb83c65174b116ba5fbb)\n(cherry picked from commit 91033038161c1c85d35a40e99e521140fe85e25a)\n'}]",0,775674,623f44839295531403d627bedf5934d99a90955a,63,10,6,14250,,,0,"Add Memcached certificate generation

Adding certification generation and pass it down to puppet-memcached.

NOTE(moguimar): Squashing one extra fix that was merged after the first
patch made it into master.

Squashes:
- Fix memcached restart on cert renewal
  (cherry picked from commit 4586911ef793c6b28871963c0a1485d71dee48c6)

Conflicts:
	manifests/profile/base/memcached.pp

Note:
Relative names were replaced by absolute names to pass the lint tests
for stable/train.

Change-Id: I8eb2b45e8868b99dfe402fee514afa8f8c42f086
(cherry picked from commit b0b7b4069aa90080761edb83c65174b116ba5fbb)
(cherry picked from commit 91033038161c1c85d35a40e99e521140fe85e25a)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/74/775674/6 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/memcached.pp', 'files/certmonger-memcached-refresh.sh', 'spec/classes/tripleo_certmonger_memcached_spec.rb', 'manifests/certmonger/memcached.pp', 'spec/classes/tripleo_profile_base_memcached_spec.rb', 'manifests/profile/base/certmonger_user.pp']",6,beb526621f38f1e45038b40d32b3b06468f09cd9,memcached-cert-stable/train,"# [*memcached_certificate_specs*] # (Optional) The specifications to give to certmonger for the certificate(s) # it will create. # Defaults to hiera('tripleo::profile::base::memcached::certificate_specs', {}). # $memcached_certificate_specs = hiera('tripleo::profile::base::memcached::certificate_specs', {}), unless empty($memcached_certificate_specs) { ensure_resource('class', 'tripleo::certmonger::memcached', $memcached_certificate_specs) }",,275,2
openstack%2Fkayobe~master~I11f0677681e51a59bcbb171d8da0e14c853d6c5c,openstack/kayobe,master,I11f0677681e51a59bcbb171d8da0e14c853d6c5c,Add --nocache option to container image build,MERGED,2020-12-17 14:51:23.000000000,2021-04-08 17:59:16.000000000,2021-04-08 17:57:18.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2020-12-17 14:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9b58432410fac3b96dde96a8312c8f1c42308b94', 'message': 'Add --nocache option to container image build\n\nChange-Id: I11f0677681e51a59bcbb171d8da0e14c853d6c5c\n'}, {'number': 2, 'created': '2021-03-26 10:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d0b9a0f1670ad765366474aa02c4cb918fe1dfa8', 'message': 'Add --nocache option to container image build\n\nChange-Id: I11f0677681e51a59bcbb171d8da0e14c853d6c5c\n'}, {'number': 3, 'created': '2021-03-26 16:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ad9b68695bda5d03ba1b597ed64bf649aa0fa455', 'message': 'Add --nocache option to container image build\n\nChange-Id: I11f0677681e51a59bcbb171d8da0e14c853d6c5c\n'}, {'number': 4, 'created': '2021-03-30 05:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9b58cd5f11e0b5c52e49cfe91324dae9e2660294', 'message': 'Add --nocache option to container image build\n\nChange-Id: I11f0677681e51a59bcbb171d8da0e14c853d6c5c\n'}, {'number': 5, 'created': '2021-03-30 11:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f713160d814445e5069ccee8a622f40328cb5025', 'message': 'Add --nocache option to container image build\n\nChange-Id: I11f0677681e51a59bcbb171d8da0e14c853d6c5c\n'}, {'number': 6, 'created': '2021-03-30 11:30:13.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py', 'releasenotes/notes/kolla-build-nocache-b21726b66543ee18.yaml', 'ansible/container-image-build.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0408e5388fe794691078188f7f3b3dbcb99b7580', 'message': 'Add --nocache option to container image build\n\nChange-Id: I11f0677681e51a59bcbb171d8da0e14c853d6c5c\n'}]",9,767566,0408e5388fe794691078188f7f3b3dbcb99b7580,24,4,6,22629,,,0,"Add --nocache option to container image build

Change-Id: I11f0677681e51a59bcbb171d8da0e14c853d6c5c
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/66/767566/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/cli/commands.py', 'releasenotes/notes/kolla-build-nocache-b21726b66543ee18.yaml', 'ansible/container-image-build.yml']",3,9b58432410fac3b96dde96a8312c8f1c42308b94,, # Set this to True to skip using cache. nocache: False {% if nocache | bool %}--nocache{% endif %} \,,14,0
openstack%2Ftripleo-common~stable%2Fvictoria~I64776992a7e457781aa8ddaba359ef085d4cb77d,openstack/tripleo-common,stable/victoria,I64776992a7e457781aa8ddaba359ef085d4cb77d,healthcheck_port: drop lsof in favor of awk/find,MERGED,2021-04-08 06:48:35.000000000,2021-04-08 17:57:00.000000000,2021-04-08 17:55:26.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-08 06:48:35.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/74f61f5297e40e4cc0611f3ffa73e8caa6bf8df7', 'message': 'healthcheck_port: drop lsof in favor of awk/find\n\nIt seems lsof is a bit too heavy on the system when multiple\nhealthchecks are running in parallel.\nSo instead of calling a ""big"" process, let\'s split a bit things and get\nto the filesystem directly in order to pick only the things we actually\nneed.\n\nWhat changes:\n- using /proc/net/{tcp,udp}, we get every socket matching the port\n- using find with the right options, we can ensure at least one socket\n  exists with the wanted inode(s)\n\nThe last part exits as soon as we have a match in order to make it\nfaster and less resource consuming.\n\nChange-Id: I64776992a7e457781aa8ddaba359ef085d4cb77d\nPartial-Bug: #1921714\n(cherry picked from commit a072a7f07ea75933a2372b1a95ae960095a3250e)\n'}]",0,785324,74f61f5297e40e4cc0611f3ffa73e8caa6bf8df7,11,6,1,28223,,,0,"healthcheck_port: drop lsof in favor of awk/find

It seems lsof is a bit too heavy on the system when multiple
healthchecks are running in parallel.
So instead of calling a ""big"" process, let's split a bit things and get
to the filesystem directly in order to pick only the things we actually
need.

What changes:
- using /proc/net/{tcp,udp}, we get every socket matching the port
- using find with the right options, we can ensure at least one socket
  exists with the wanted inode(s)

The last part exits as soon as we have a match in order to make it
faster and less resource consuming.

Change-Id: I64776992a7e457781aa8ddaba359ef085d4cb77d
Partial-Bug: #1921714
(cherry picked from commit a072a7f07ea75933a2372b1a95ae960095a3250e)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/24/785324/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,74f61f5297e40e4cc0611f3ffa73e8caa6bf8df7,drop-lsof," ports="""" # First convert port to hex value. We need to 0-pad it in order to get the # right format (4 chars). for p in $@; do ports=""${ports}|$(printf '%0.4x' $p)"" done # Format the string - will be "":(hex1|hex2|...)"" ports="":(${ports:1})"" # Parse the files. We need to extract only one value (socket inode) based on the matching port. Let's check local and target for establised connection. # Line example: # 534: DE0D10AC:1628 DE0D10AC:8B7C 01 00000000:00000000 02:000000D3 00000000 42439 0 574360 2 0000000000000000 20 4 0 10 -1 # | | | # $2 local connection | $10 Socket inode # $3 Connection target # Using the main /proc/net/{tcp,udp} allow to take only the connections existing in the current container. If we were using /proc/PID/net/{tcp,udp}, we # would get all the connections existing in the same network namespace as the PID. Since we're using network=host, that would show *everything*. # the ""join"" method is weird, and fails if the array is empty. # Note: join comes from gawk's /usr/share/awk/join.awk and has some weird parameters. sockets=$(awk -i join -v m=${ports} '{IGNORECASE=1; if ($2 ~ m || $3 ~ m) {output[counter++] = $10} } END{if (length(output)>0) {print join(output, 0, length(output)-1, ""|"")}}' /proc/net/{tcp,udp}) # If no socket, just fail early test -z $sockets && exit 1 match=0 for pid in $(pgrep -f $process); do # Here, we check if a socket is actually associated to the process PIDs match=$(( $match+$(sudo -u $puser find /proc/$pid/fd/ -ilname ""socket*"" -printf ""%l\n"" 2>/dev/null | grep -c -E ""(${sockets})"") )) test $match -gt 0 && exit 0 # exit as soon as we get a match done exit 1 # no early exit, meaning failure."," args=$@ ports=${args// /,} pids=$(pgrep -d ',' -f $process) # First match exits - usually TCP and ""sudo TCP"" are enough. # `sudo' is needed, as in some cases even root can get a ""permission denied"" # on some file descriptors (case for heat_manager for example) # UDP support is needed for octavia manager (UDP:5555). lsof -n -w -P -a -iTCP:${ports} -p${pids} >&3 2>&1 || \ sudo -u $puser lsof -n -w -P -a -iTCP:${ports} -p${pids} >&3 2>&1 || \ lsof -w -P -a -iUDP:${ports} -p${pids} >&3 2>&1 || \ sudo -u $puser lsof -n -w -P -a -iUDP:${ports} -p${pids} >&3 2>&1",29,11
openstack%2Fpuppet-tripleo~stable%2Ftrain~Ieb53f2ac4cd6381f2a450bce6aaff22790c2a404,openstack/puppet-tripleo,stable/train,Ieb53f2ac4cd6381f2a450bce6aaff22790c2a404,Set memcache_servers for heat::cache automatically,MERGED,2021-04-01 08:52:01.000000000,2021-04-08 17:55:29.000000000,2021-04-08 17:55:29.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-04-01 08:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3f758a45af6a85449018cc172395c3c7a1ab9748', 'message': ""Set memcache_servers for heat::cache automatically\n\nThis patch makes puppet-tripleo set memcache_servers parameter in\nheat::cache according to available memcache servers in deployment,\nso that operators can easily enable caching feature.\n\nNote that this patch doesn't enable caching. To actually enable\ncaching, the heat::cache::eanbled parameter in puppet-heat should be\nset.\n\nChange-Id: Ieb53f2ac4cd6381f2a450bce6aaff22790c2a404\n(cherry picked from commit 1a2c81d5166a7af6863c37754c0d3958d045cd6c)\n""}, {'number': 2, 'created': '2021-04-01 09:01:11.000000000', 'files': ['manifests/profile/base/heat.pp', 'spec/classes/tripleo_profile_base_heat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5ceab69bd790a7a77534917f5b9303d10bd399c1', 'message': ""Set memcache_servers for heat::cache automatically\n\nThis patch makes puppet-tripleo set memcache_servers parameter in\nheat::cache according to available memcache servers in deployment,\nso that operators can easily enable caching feature.\n\nNote that this patch doesn't enable caching. To actually enable\ncaching, the heat::cache::eanbled parameter in puppet-heat should be\nset.\n\nConflicts:\n\tmanifests/profile/base/heat.pp\n\nChange-Id: Ieb53f2ac4cd6381f2a450bce6aaff22790c2a404\n(cherry picked from commit 1a2c81d5166a7af6863c37754c0d3958d045cd6c)\n""}]",0,784208,5ceab69bd790a7a77534917f5b9303d10bd399c1,10,6,2,14250,,,0,"Set memcache_servers for heat::cache automatically

This patch makes puppet-tripleo set memcache_servers parameter in
heat::cache according to available memcache servers in deployment,
so that operators can easily enable caching feature.

Note that this patch doesn't enable caching. To actually enable
caching, the heat::cache::eanbled parameter in puppet-heat should be
set.

Conflicts:
	manifests/profile/base/heat.pp

Change-Id: Ieb53f2ac4cd6381f2a450bce6aaff22790c2a404
(cherry picked from commit 1a2c81d5166a7af6863c37754c0d3958d045cd6c)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/08/784208/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/heat.pp'],1,3f758a45af6a85449018cc172395c3c7a1ab9748,heat-cache-stable/train,"# # [*memcached_ips*] # (Optional) Array of ipv4 or ipv6 addresses for memcache. # Defaults to hiera('memcached_node_ips') # $memcached_ips = hiera('memcached_node_ips'), if is_ipv6_address($memcached_ips[0]) { $memcache_servers = prefix(suffix(any2array(normalize_ip_for_uri($memcached_ips)), ':11211'), 'inet6:') } else { $memcache_servers = suffix(any2array(normalize_ip_for_uri($memcached_ips)), ':11211') } class { 'heat::cache': memcache_servers => $memcache_servers }", include ::heat::cache,17,2
openstack%2Ftripleo-ci~master~If248d145cdcaa448de601b24a80a11d567fb235f,openstack/tripleo-ci,master,If248d145cdcaa448de601b24a80a11d567fb235f,Remove stale bash scripts from tripleo-ci repo,MERGED,2021-04-05 10:11:08.000000000,2021-04-08 17:53:30.000000000,2021-04-08 17:53:30.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29775}, {'_account_id': 30742}, {'_account_id': 30750}, {'_account_id': 31075}]","[{'number': 1, 'created': '2021-04-05 10:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1f817406f398ca639e927699fc6f33ff862625c5', 'message': 'Fixup stein/promotion-testing-hash-stein case for emit releases\n\nIn parent patch at [1] we removed all rocky related items beause\ntripleo rocky is now End Of Life. This removes the stein/rocky\ncase from the non templated oooq_common_functions.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/782549\n\nChange-Id: If248d145cdcaa448de601b24a80a11d567fb235f\n'}, {'number': 2, 'created': '2021-04-06 08:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9472eecacea520bc0cc69f98b5cb0afd460a0c06', 'message': ""Remove stale bash scripts from tripleo-ci repo\n\nAs discussed in the parent patch [1] we should remove these stale file as\nthey are no longer used. The oooq_common_functions, toci_gate_test,\ntoci_quickstart have all been replaced by the templated versions in [2].\n\nThe heat-deploy-times.py is replaced by the script at [3] in the\nansible-role-collect-logs repo. The generate-kill-heat.sh has not been\ntouched in over 2 years and as far as I can see isn't being used\nsomewhere (code search).\n\nSome of these especially the common_functions/toci_ files are updated\nout of confusion and causing unnecessary maintenance burden.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/782549/5#message-f29d32c0c652d0929f680030e1a4c970fb111c2d\n[2] https://opendev.org/openstack/tripleo-ci/src/branch/master/roles/run-test/templates\n[3] https://opendev.org/openstack/ansible-role-collect-logs/src/branch/master/roles/collect_logs/files/heat-deploy-times.py\n\nChange-Id: If248d145cdcaa448de601b24a80a11d567fb235f\n""}, {'number': 3, 'created': '2021-04-08 09:37:30.000000000', 'files': ['scripts/common_vars.bash', 'scripts/generate-kill-heat.sh', 'toci_quickstart.sh', 'scripts/oooq_common_functions.sh', 'toci_gate_test.sh', 'scripts/heat-deploy-times.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/963ac72a0a2e60a5685578788eff6dd3c29f5158', 'message': ""Remove stale bash scripts from tripleo-ci repo\n\nAs discussed in the parent patch [1] we should remove these stale file as\nthey are no longer used. The oooq_common_functions, toci_gate_test,\ntoci_quickstart have all been replaced by the templated versions in [2].\n\nThe heat-deploy-times.py is replaced by the script at [3] in the\nansible-role-collect-logs repo. The generate-kill-heat.sh has not been\ntouched in over 2 years and as far as I can see isn't being used\nsomewhere (code search).\n\nSome of these especially the common_functions/toci_ files are updated\nout of confusion and causing unnecessary maintenance burden.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/782549/5#message-f29d32c0c652d0929f680030e1a4c970fb111c2d\n[2] https://opendev.org/openstack/tripleo-ci/src/branch/master/roles/run-test/templates\n[3] https://opendev.org/openstack/ansible-role-collect-logs/src/branch/master/roles/collect_logs/files/heat-deploy-times.py\n\nChange-Id: If248d145cdcaa448de601b24a80a11d567fb235f\n""}]",3,784760,963ac72a0a2e60a5685578788eff6dd3c29f5158,22,14,3,8449,,,0,"Remove stale bash scripts from tripleo-ci repo

As discussed in the parent patch [1] we should remove these stale file as
they are no longer used. The oooq_common_functions, toci_gate_test,
toci_quickstart have all been replaced by the templated versions in [2].

The heat-deploy-times.py is replaced by the script at [3] in the
ansible-role-collect-logs repo. The generate-kill-heat.sh has not been
touched in over 2 years and as far as I can see isn't being used
somewhere (code search).

Some of these especially the common_functions/toci_ files are updated
out of confusion and causing unnecessary maintenance burden.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/782549/5#message-f29d32c0c652d0929f680030e1a4c970fb111c2d
[2] https://opendev.org/openstack/tripleo-ci/src/branch/master/roles/run-test/templates
[3] https://opendev.org/openstack/ansible-role-collect-logs/src/branch/master/roles/collect_logs/files/heat-deploy-times.py

Change-Id: If248d145cdcaa448de601b24a80a11d567fb235f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/60/784760/3 && git format-patch -1 --stdout FETCH_HEAD,['scripts/oooq_common_functions.sh'],1,1f817406f398ca639e927699fc6f33ff862625c5,tripleo-ci-reduce-rocky,," stein|promotion-testing-hash-stein) echo ""rocky"" ;;",0,3
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I61850fa01afca92aa78412e0277180596633f858,openstack/tripleo-heat-templates,stable/victoria,I61850fa01afca92aa78412e0277180596633f858,[update][upgrade] Use container-tools:3.0,MERGED,2021-04-07 12:21:53.000000000,2021-04-08 17:53:12.000000000,2021-04-08 17:53:12.000000000,"[{'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-04-07 12:21:53.000000000', 'files': ['environments/lifecycle/undercloud-upgrade-prepare.yaml', 'environments/lifecycle/update-prepare.yaml', 'environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e137876a398ee54b49ae3379f866a274b58333e', 'message': '[update][upgrade] Use container-tools:3.0\n\nWe now need to move forward and pin the newer\ncontainer-tools:3.0 stream. This will be available\non RHEL 8.4 and CentOS 8.4+.\n\nRelated: rhbz#1866479\n\nChange-Id: I61850fa01afca92aa78412e0277180596633f858\n(cherry picked from commit 90984500766aaa3538dcd6dae282298aff5b043b)\n'}]",0,785129,1e137876a398ee54b49ae3379f866a274b58333e,9,7,1,6816,,,0,"[update][upgrade] Use container-tools:3.0

We now need to move forward and pin the newer
container-tools:3.0 stream. This will be available
on RHEL 8.4 and CentOS 8.4+.

Related: rhbz#1866479

Change-Id: I61850fa01afca92aa78412e0277180596633f858
(cherry picked from commit 90984500766aaa3538dcd6dae282298aff5b043b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/785129/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/lifecycle/undercloud-upgrade-prepare.yaml', 'environments/lifecycle/update-prepare.yaml', 'environments/lifecycle/upgrade-prepare.yaml']",3,1e137876a398ee54b49ae3379f866a274b58333e,update-container-tools," DnfStreams: [{'module':'container-tools', 'stream':'3.0'}]"," DnfStreams: [{'module':'container-tools', 'stream':'2.0'}]",3,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib45d58d6cc5dada3eb609a94ac5ed80bdc19f988,openstack/tripleo-heat-templates,stable/train,Ib45d58d6cc5dada3eb609a94ac5ed80bdc19f988,[ffwd][train-only] Copy /boot/grub2/grubenv to /boot/efi/EFI/redhat/grubenv,MERGED,2021-03-29 21:46:35.000000000,2021-04-08 17:53:01.000000000,2021-04-08 17:53:01.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-29 21:46:35.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/53bf067fb5ca928cfeca87da5ed3afab89110dfc', 'message': '[ffwd][train-only] Copy /boot/grub2/grubenv to /boot/efi/EFI/redhat/grubenv\n\nWA: some versions of grub2 fail to look for grubenv in /boot/grub2/grubenv\nIn this case we copy the file instead of creating simlink making sure if\nthis is the case than grubenv is still available for previous bootrecord.\n\nResolves: rhbz#1942446\n\nChange-Id: Ib45d58d6cc5dada3eb609a94ac5ed80bdc19f988\n'}]",0,783751,53bf067fb5ca928cfeca87da5ed3afab89110dfc,10,6,1,11166,,,0,"[ffwd][train-only] Copy /boot/grub2/grubenv to /boot/efi/EFI/redhat/grubenv

WA: some versions of grub2 fail to look for grubenv in /boot/grub2/grubenv
In this case we copy the file instead of creating simlink making sure if
this is the case than grubenv is still available for previous bootrecord.

Resolves: rhbz#1942446

Change-Id: Ib45d58d6cc5dada3eb609a94ac5ed80bdc19f988
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/783751/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,53bf067fb5ca928cfeca87da5ed3afab89110dfc,, # WA: some versions of grub2 fail to look for grubenv in /boot/grub2/grubenv # In this case we copy the file instead of creating simlink making sure if # this is the case than grubenv is still available for previous bootrecord. - name: Stat /boot/grub2/grubenv stat: path: /boot/grub2/grubenv register: grubenv - name: Copy /boot/grub2/grubenv to /boot/efi/EFI/redhat/grubenv when: grubenv.stat.islnk is defined and grubenv.stat.islnk == False copy: src: /boot/grub2/grubenv dest: /boot/efi/EFI/redhat/grubenv remote_src: true,,13,0
openstack%2Fhorizon~stable%2Fwallaby~I0600086cc51cf5abcf1631565e75146114189667,openstack/horizon,stable/wallaby,I0600086cc51cf5abcf1631565e75146114189667,Get the timezone offset for the current day instead of January 1st.,MERGED,2021-04-07 10:18:29.000000000,2021-04-08 17:44:23.000000000,2021-04-08 17:42:59.000000000,"[{'_account_id': 841}, {'_account_id': 6914}, {'_account_id': 7130}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-07 10:18:29.000000000', 'files': ['openstack_dashboard/dashboards/settings/user/forms.py', 'releasenotes/notes/bug-1822849-2833b5e6a5d021b7.yaml', 'requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'openstack_dashboard/dashboards/settings/user/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/cd16b4079e6bf222518893002b73396295b3101f', 'message': 'Get the timezone offset for the current day instead of January 1st.\n\nThis bug only appears to be a cosmetic one where the TZ offset\nwould be calculated on current_year/01/01 so would remain in\ndaylight saving offset when displaying the timezones list.\n\n(Note by amotoki)\nThe minimum version of Babel is bumped to 2.6.0\nas Babel 2.3.4 returns ""New Zealand Time"" instead of ""New Zealand\n(Auckland) Time"" returned from the latest Babel (2.9.0).\nIt is not a good idea to handle such difference in Babel in our UT\nand there is no reason to stick to Bump 2.3.4.\n2.6.0 was chosen as it is available in Ubuntu Focal and there is\nno more reason than this.\n\nChange-Id: I0600086cc51cf5abcf1631565e75146114189667\nCloses-bug: #1822849\n(cherry picked from commit f60220329accd9c6492acfc25fe024c394e3eaea)\n'}]",0,785122,cd16b4079e6bf222518893002b73396295b3101f,12,6,1,1736,,,0,"Get the timezone offset for the current day instead of January 1st.

This bug only appears to be a cosmetic one where the TZ offset
would be calculated on current_year/01/01 so would remain in
daylight saving offset when displaying the timezones list.

(Note by amotoki)
The minimum version of Babel is bumped to 2.6.0
as Babel 2.3.4 returns ""New Zealand Time"" instead of ""New Zealand
(Auckland) Time"" returned from the latest Babel (2.9.0).
It is not a good idea to handle such difference in Babel in our UT
and there is no reason to stick to Bump 2.3.4.
2.6.0 was chosen as it is available in Ubuntu Focal and there is
no more reason than this.

Change-Id: I0600086cc51cf5abcf1631565e75146114189667
Closes-bug: #1822849
(cherry picked from commit f60220329accd9c6492acfc25fe024c394e3eaea)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/22/785122/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/settings/user/forms.py', 'releasenotes/notes/bug-1822849-2833b5e6a5d021b7.yaml', 'requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'openstack_dashboard/dashboards/settings/user/tests.py']",6,cd16b4079e6bf222518893002b73396295b3101f,bug/1822849-stable/wallaby,"from freezegun import freeze_time @freeze_time(""2020-05-05"") print(res.content) self.assertContains(res, ""UTC +12:00: New Zealand (Auckland) Time"") self.assertContains(res, ""UTC -03:00: Falkland Islands Time"") self.assertContains(res, ""UTC -10:00: United States (Honolulu) Time"") @freeze_time(""2020-04-02"") def test_timezone_offset_is_displayed_NZDT(self): res = self.client.get(INDEX_URL) # self.assertContains(res, ""UTC +13:00: New Zealand (Auckland) Time"")"," self.assertContains(res, ""UTC +11:00: Australia (Melbourne) Time"")",27,5
openstack%2Fpbr~master~I5007154caa7493652a424a4fad4918b7dbefcfb9,openstack/pbr,master,I5007154caa7493652a424a4fad4918b7dbefcfb9,Update dependencies to avoid failure with old pip,MERGED,2021-04-06 11:50:14.000000000,2021-04-08 17:44:08.000000000,2021-04-08 17:42:44.000000000,"[{'_account_id': 5263}, {'_account_id': 6928}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-04-06 11:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/739e8e0d3ad7693be0465fe15b029bd952aab4fb', 'message': 'Avoid py27 failure due to hacking\n\nWe do perform linting via pep8 job which runs on modern python only.\nThis fixes an error that recently broke py27 job due to failure to\ninstall hacking, where hacking is in fact not even needed by it.\n\nChange-Id: I5007154caa7493652a424a4fad4918b7dbefcfb9\n'}, {'number': 2, 'created': '2021-04-06 16:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/22d8d6d696bc81bba6b82ffe090f88406b42d2c0', 'message': 'Avoid py27 failure due to hacking\n\nWe do perform linting via pep8 job which runs on modern python only.\nThis fixes an error that recently broke py27 job due to failure to\ninstall hacking, where hacking is in fact not even needed by it.\n\nChange-Id: I5007154caa7493652a424a4fad4918b7dbefcfb9\n'}, {'number': 3, 'created': '2021-04-06 16:44:25.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/pbr/commit/e0e2b8422a78b446c33ab3e5d1b38f8ad89b4bda', 'message': 'Update dependencies to avoid failure with old pip\n\nWe do perform linting via pep8 job which runs on modern python only.\nThis fixes an error that recently broke py27 job due to failure to\ninstall hacking, where hacking is in fact not even needed by it.\n\nWe also need to add some extra conditions for mock to avoid possible\nfailure with older pip version.\n\nChange-Id: I5007154caa7493652a424a4fad4918b7dbefcfb9\n'}]",0,784931,e0e2b8422a78b446c33ab3e5d1b38f8ad89b4bda,12,5,3,24162,,,0,"Update dependencies to avoid failure with old pip

We do perform linting via pep8 job which runs on modern python only.
This fixes an error that recently broke py27 job due to failure to
install hacking, where hacking is in fact not even needed by it.

We also need to add some extra conditions for mock to avoid possible
failure with older pip version.

Change-Id: I5007154caa7493652a424a4fad4918b7dbefcfb9
",git fetch https://review.opendev.org/openstack/pbr refs/changes/31/784931/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,739e8e0d3ad7693be0465fe15b029bd952aab4fb,py27,"hacking>=1.1.0,<4.0.0;python_version>='3.6' # Apache-2.0","hacking>=1.1.0,<4.0.0 # Apache-2.0",1,1
openstack%2Fkolla-ansible~master~I6960fd0f378aea5a14a73d9228edf86fb86cac6c,openstack/kolla-ansible,master,I6960fd0f378aea5a14a73d9228edf86fb86cac6c,CI: Use 5G loop device for ceph,MERGED,2021-03-30 13:27:36.000000000,2021-04-08 17:39:33.000000000,2021-04-08 17:37:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-30 13:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0eb9cd321dd7015853e468280ba00e4653d41032', 'message': 'CI: Use 5G loop device for ceph\n\nChange-Id: I6960fd0f378aea5a14a73d9228edf86fb86cac6c\n'}, {'number': 2, 'created': '2021-03-30 17:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4670cac17efcd3960e508a97deab66e47d99c6bb', 'message': ""WIP: CI: Use 5G loop device for ceph\n\nOften cephadm jobs fail with:\nMar 30 13:01:21 primary bash[75459]: debug 2021-03-30T13:01:21.844+0000 7fa30431f700 -1 error: monitor data filesystem reached concerning levels of available storage space (available: 4% 1.8 GiB)\n\nLet's check if 5G OSD helps and also print df -h output for reference\n\nChange-Id: I6960fd0f378aea5a14a73d9228edf86fb86cac6c\n""}, {'number': 3, 'created': '2021-04-06 11:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8c05707d9d42918bd52d70de2dbae9ead84f096a', 'message': ""WIP: CI: Use 5G loop device for ceph\n\nOften cephadm jobs fail with:\nMar 30 13:01:21 primary bash[75459]: debug 2021-03-30T13:01:21.844+0000 7fa30431f700 -1 error: monitor data filesystem reached concerning levels of available storage space (available: 4% 1.8 GiB)\n\nLet's check if 5G OSD helps and also print df -h output for reference\n\nChange-Id: I6960fd0f378aea5a14a73d9228edf86fb86cac6c\n""}, {'number': 4, 'created': '2021-04-06 15:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a794e7912ce78ce964114b96f899f3e04db2c74c', 'message': ""WIP: CI: Use 5G loop device for ceph\n\nOften cephadm jobs fail with:\nMar 30 13:01:21 primary bash[75459]: debug 2021-03-30T13:01:21.844+0000 7fa30431f700 -1 error: monitor data filesystem reached concerning levels of available storage space (available: 4% 1.8 GiB)\n\nLet's check if 5G OSD helps and also print df -h output for reference\n\nChange-Id: I6960fd0f378aea5a14a73d9228edf86fb86cac6c\n""}, {'number': 5, 'created': '2021-04-06 16:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3577ce748f68b9db9fbb1708c5b76011d82dc619', 'message': ""CI: Use 5G loop device for ceph\n\nOften cephadm jobs fail with:\nMar 30 13:01:21 primary bash[75459]: debug 2021-03-30T13:01:21.844+0000 7fa30431f700 -1 error: monitor data filesystem reached concerning levels of available storage space (available: 4% 1.8 GiB)\n\nLet's check if 5G OSD helps and also print df -h output for reference\n\nChange-Id: I6960fd0f378aea5a14a73d9228edf86fb86cac6c\n""}, {'number': 6, 'created': '2021-04-06 16:11:16.000000000', 'files': ['tests/run.yml', 'tests/setup_disks.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f38d7036c5e7905d4ecd949f812fcf651b02bef', 'message': ""CI: Use 5G loop device for ceph\n\nOften cephadm jobs fail with:\nMar 30 13:01:21 primary bash[75459]: debug 2021-03-30T13:01:21.844+0000 7fa30431f700 -1 error: monitor data filesystem reached concerning levels of available storage space (available: 4% 1.8 GiB)\n\nLet's check if 5G OSD helps and also print df -h output for reference\n\nChange-Id: I6960fd0f378aea5a14a73d9228edf86fb86cac6c\n""}]",7,783855,6f38d7036c5e7905d4ecd949f812fcf651b02bef,24,4,6,22629,,,0,"CI: Use 5G loop device for ceph

Often cephadm jobs fail with:
Mar 30 13:01:21 primary bash[75459]: debug 2021-03-30T13:01:21.844+0000 7fa30431f700 -1 error: monitor data filesystem reached concerning levels of available storage space (available: 4% 1.8 GiB)

Let's check if 5G OSD helps and also print df -h output for reference

Change-Id: I6960fd0f378aea5a14a73d9228edf86fb86cac6c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/783855/4 && git format-patch -1 --stdout FETCH_HEAD,['tests/setup_disks.sh'],1,0eb9cd321dd7015853e468280ba00e4653d41032,, fallocate -l 5G /var/lib/ceph-osd1.img, fallocate -l 10G /var/lib/ceph-osd1.img,1,1
openstack%2Fhorizon~stable%2Fwallaby~I02e124d90f99d400d8c59bff2c563fdc85e624d4,openstack/horizon,stable/wallaby,I02e124d90f99d400d8c59bff2c563fdc85e624d4,handle missing access_rules,MERGED,2021-04-07 13:12:15.000000000,2021-04-08 17:28:53.000000000,2021-04-08 17:26:59.000000000,"[{'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 8745}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-07 13:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c58adebd14852255273e3811fb09dabfaa655513', 'message': 'handle missing access_rules\n\nwe delete the ""access_rules"" field from the form if keystone API\nversion is less than 3.13, but we don\'t consider the case in\nclean() method. We are in Wallaby development cycle and we support\nN-4 release for upgrade [1]. This means horizon can run with Stein\nkeystone. Pre-3.13 keystone API (i.e., 3.12) is part of Stein\nrelease [2], so it makes sense to consider this condition.\n\n[1] https://docs.openstack.org/horizon/latest/contributor/policies/supported-software.html\n[2] https://docs.openstack.org/api-ref/identity/\n\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: I02e124d90f99d400d8c59bff2c563fdc85e624d4\n(cherry picked from commit dadd45addab8fe9ac582f16c3fbc19ff7d81c597)\n'}, {'number': 2, 'created': '2021-04-07 13:12:49.000000000', 'files': ['openstack_dashboard/dashboards/identity/application_credentials/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/bd3fc0de1711177d982245b6409b4b9c6eaac58d', 'message': 'handle missing access_rules\n\nwe delete the ""access_rules"" field from the form if keystone API\nversion is less than 3.13, but we don\'t consider the case in\nclean() method. We are in Wallaby development cycle and we support\nN-4 release for upgrade [1]. This means horizon can run with Stein\nkeystone. Pre-3.13 keystone API (i.e., 3.12) is part of Stein\nrelease [2], so it makes sense to consider this condition.\n\n[1] https://docs.openstack.org/horizon/latest/contributor/policies/supported-software.html\n[2] https://docs.openstack.org/api-ref/identity/\n\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: I02e124d90f99d400d8c59bff2c563fdc85e624d4\n(cherry picked from commit dadd45addab8fe9ac582f16c3fbc19ff7d81c597)\n'}]",0,785135,bd3fc0de1711177d982245b6409b4b9c6eaac58d,12,5,2,841,,,0,"handle missing access_rules

we delete the ""access_rules"" field from the form if keystone API
version is less than 3.13, but we don't consider the case in
clean() method. We are in Wallaby development cycle and we support
N-4 release for upgrade [1]. This means horizon can run with Stein
keystone. Pre-3.13 keystone API (i.e., 3.12) is part of Stein
release [2], so it makes sense to consider this condition.

[1] https://docs.openstack.org/horizon/latest/contributor/policies/supported-software.html
[2] https://docs.openstack.org/api-ref/identity/

Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
Change-Id: I02e124d90f99d400d8c59bff2c563fdc85e624d4
(cherry picked from commit dadd45addab8fe9ac582f16c3fbc19ff7d81c597)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/35/785135/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/identity/application_credentials/forms.py'],1,c58adebd14852255273e3811fb09dabfaa655513,bug/clean-access-rules-stable/wallaby, # access_rules field exists only when keystone API >= 3.13 and # the field is deleted above when a lower version of API is used. if 'access_rules' in cleaned_data: try: cleaned_data['access_rules'] = yaml.safe_load( cleaned_data['access_rules']) except yaml.YAMLError: msg = (_('Access rules must be a valid JSON or YAML list.')) raise forms.ValidationError(msg), try: cleaned_data['access_rules'] = yaml.safe_load( cleaned_data['access_rules']) except yaml.YAMLError: msg = (_('Access rules must be a valid JSON or YAML list.')) raise forms.ValidationError(msg),9,6
openstack%2Fpaunch~stable%2Fussuri~Ie4f72308fdd81ac69fd198f484a781cc43b84a73,openstack/paunch,stable/ussuri,Ie4f72308fdd81ac69fd198f484a781cc43b84a73,Accept 142 as an exit code,MERGED,2021-04-01 06:06:58.000000000,2021-04-08 17:16:25.000000000,2021-04-08 17:14:51.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-01 06:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/dea4c81e615aefec43996644e2acfb7212bd5132', 'message': 'Accept 142 as an exit code\n\nIn the same fashion we accepted 137 and 143 exit code status in\nI8f19a80016a67ccad0371c5d108516aec640f031, we also accept 142.\n\nIt represents the SIGALRM exit status - it happens when podman reaches\nthe set timeout (current 60s) when trying to cleanly stop a container.\n\nChange-Id: Ie4f72308fdd81ac69fd198f484a781cc43b84a73\nCloses-Bug: #1922179\nResolves: rhbz#1939910\n'}, {'number': 2, 'created': '2021-04-01 06:08:48.000000000', 'files': ['paunch/utils/systemd.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/d89f5697b9be76a214b920452d7ef0bd6248a3ac', 'message': 'Accept 142 as an exit code\n\nIn the same fashion we accepted 137 and 143 exit code status in\nI8f19a80016a67ccad0371c5d108516aec640f031, we also accept 142.\n\nIt represents the SIGALRM exit status - it happens when podman reaches\nthe set timeout (currently 60s) when trying to cleanly stop a container.\n\nChange-Id: Ie4f72308fdd81ac69fd198f484a781cc43b84a73\nCloses-Bug: #1922179\nResolves: rhbz#1939910\n'}]",4,784196,d89f5697b9be76a214b920452d7ef0bd6248a3ac,17,7,2,28223,,,0,"Accept 142 as an exit code

In the same fashion we accepted 137 and 143 exit code status in
I8f19a80016a67ccad0371c5d108516aec640f031, we also accept 142.

It represents the SIGALRM exit status - it happens when podman reaches
the set timeout (currently 60s) when trying to cleanly stop a container.

Change-Id: Ie4f72308fdd81ac69fd198f484a781cc43b84a73
Closes-Bug: #1922179
Resolves: rhbz#1939910
",git fetch https://review.opendev.org/openstack/paunch refs/changes/96/784196/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/utils/systemd.py'],1,dea4c81e615aefec43996644e2acfb7212bd5132,podman-exit/142,SuccessExitStatus=137 142 143,SuccessExitStatus=137 143,1,1
openstack%2Ftripleo-quickstart~master~I9116b37128919e3c6c3114a7ce87c0982ff033ae,openstack/tripleo-quickstart,master,I9116b37128919e3c6c3114a7ce87c0982ff033ae,Include nested_virt in default opt tags,MERGED,2021-04-01 09:34:56.000000000,2021-04-08 17:16:24.000000000,2021-04-08 17:14:46.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-01 09:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/38dcac2d8c6cc14cc483ec75f6b29c8280bffbcd', 'message': 'Include nested_virt in default opt tags\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/782020\nenables nested virt for standalone octavia jobs. In order to run it\nvia quickstart, it adds the nested_virt tag to default opt tags.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/782020\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I9116b37128919e3c6c3114a7ce87c0982ff033ae\n'}, {'number': 2, 'created': '2021-04-06 09:00:46.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7cc521a93c9950504b86585e02f64fb72e781f69', 'message': 'Include nested_virt in default opt tags\n\nhttps://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/782020\nenables nested virt for standalone octavia jobs. In order to run it\nvia quickstart, it adds the nested_virt tag to default opt tags.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/782020\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I9116b37128919e3c6c3114a7ce87c0982ff033ae\n'}]",0,784323,7cc521a93c9950504b86585e02f64fb72e781f69,13,6,2,12393,,,0,"Include nested_virt in default opt tags

https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/782020
enables nested virt for standalone octavia jobs. In order to run it
via quickstart, it adds the nested_virt tag to default opt tags.

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/782020

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I9116b37128919e3c6c3114a7ce87c0982ff033ae
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/23/784323/2 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,38dcac2d8c6cc14cc483ec75f6b29c8280bffbcd,fix_octavia_kvm,"DEFAULT_OPT_TAGS=""untagged,provision,environment,libvirt,undercloud-scripts,undercloud-inventory,overcloud-scripts,undercloud-setup,undercloud-install,undercloud-post-install,tripleoui-validate,notest,nested_virt"" DEFAULT_OPT_OVERCLOUD_PREP_TAGS=""overcloud-prep-config,overcloud-prep-images,overcloud-prep-flavors,overcloud-prep-containers,overcloud-prep-network,overcloud-scripts,overcloud-ssl,nested_virt""","DEFAULT_OPT_TAGS=""untagged,provision,environment,libvirt,undercloud-scripts,undercloud-inventory,overcloud-scripts,undercloud-setup,undercloud-install,undercloud-post-install,tripleoui-validate,notest"" DEFAULT_OPT_OVERCLOUD_PREP_TAGS=""overcloud-prep-config,overcloud-prep-images,overcloud-prep-flavors,overcloud-prep-containers,overcloud-prep-network,overcloud-scripts,overcloud-ssl""",2,2
openstack%2Fdiskimage-builder~master~Idc0f277f97e92e4d003f059f01b59f1b5513da34,openstack/diskimage-builder,master,Idc0f277f97e92e4d003f059f01b59f1b5513da34,Make DIB_DNF_MODULE_STREAMS part of yum element,MERGED,2021-04-07 10:36:13.000000000,2021-04-08 17:09:13.000000000,2021-04-08 05:49:11.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 8161}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 10:36:13.000000000', 'files': ['diskimage_builder/elements/yum/README.rst', 'diskimage_builder/elements/yum/pre-install.d/01-module-configuration', 'diskimage_builder/elements/rhel-common/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ced54fea75c625e9e22791be16758bb89fad79f7', 'message': 'Make DIB_DNF_MODULE_STREAMS part of yum element\n\nWhile building cloud images, it is common to set modules\nfor CentOS and RHEL images. Earlier it was part of rhel-common\nwhich was specific to RHEL OS not for CentOS. Moving it\nunder yum element as module/stream can be enabled or disabled\nvia dnf itself.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Idc0f277f97e92e4d003f059f01b59f1b5513da34\n'}]",2,785138,ced54fea75c625e9e22791be16758bb89fad79f7,16,7,1,12393,,,0,"Make DIB_DNF_MODULE_STREAMS part of yum element

While building cloud images, it is common to set modules
for CentOS and RHEL images. Earlier it was part of rhel-common
which was specific to RHEL OS not for CentOS. Moving it
under yum element as module/stream can be enabled or disabled
via dnf itself.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Idc0f277f97e92e4d003f059f01b59f1b5513da34
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/38/785138/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/yum/README.rst', 'diskimage_builder/elements/yum/pre-install.d/01-module-configuration', 'diskimage_builder/elements/rhel-common/README.rst']",3,ced54fea75c625e9e22791be16758bb89fad79f7,dib_stream,,"The 01-module-configuration script is specific to RHEL8. RHEL8 includes various versions of software which can be selected during installation, some may be older and/or incompatible with a given release of OpenStack. Environment Variables for Module Selection during Image Creation ---------------------------------------------------------------- The following environment variable is used to select module streams to be enabled during an image build on RHEL8. Any existing stream for the given module is first disabled prior to enabling the specified stream. #### DIB\_DNF\_MODULE\_STREAMS This is a space-separated list of module streams to enable prior to any RPMs being installed. Image Build Module Selection Example ------------------------------------ When using Train on RHEL8.2, one must select the appropriate virt and container-tools module streams: DIB_DNF_MODULE_STREAMS='virt:8.2 container-tools:2.0'",17,22
openstack%2Fopenstacksdk~master~Ib417783e61fa41c0ea2a8c0f0beb117c526e0335,openstack/openstacksdk,master,Ib417783e61fa41c0ea2a8c0f0beb117c526e0335,"Fix typo - _list lists, doesn't delete",ABANDONED,2021-04-08 15:07:10.000000000,2021-04-08 17:03:02.000000000,,[],"[{'number': 1, 'created': '2021-04-08 15:07:10.000000000', 'files': ['openstack/proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/56d2feb85df2a2be878bd5ed52cf5ff74b9e938e', 'message': ""Fix typo - _list lists, doesn't delete\n\nStory: 2008193\nTask: 40960\nChange-Id: Ib417783e61fa41c0ea2a8c0f0beb117c526e0335\n""}]",0,785431,56d2feb85df2a2be878bd5ed52cf5ff74b9e938e,4,0,1,33344,,,0,"Fix typo - _list lists, doesn't delete

Story: 2008193
Task: 40960
Change-Id: Ib417783e61fa41c0ea2a8c0f0beb117c526e0335
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/31/785431/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/proxy.py'],1,56d2feb85df2a2be878bd5ed52cf5ff74b9e938e,improve-ironic-api-openstacksdk, :param resource_type: The type of resource to list. This should, :param resource_type: The type of resource to delete. This should,1,1
openstack%2Ftripleo-ansible~master~I5074bd4a2e7c5c731183162095a52f18b357a702,openstack/tripleo-ansible,master,I5074bd4a2e7c5c731183162095a52f18b357a702,Check name_lower string contains valid pattern,ABANDONED,2021-01-12 16:52:41.000000000,2021-04-08 17:02:51.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-12 16:52:41.000000000', 'files': ['tripleo_ansible/tests/modules/test_network_data_v2.py', 'tripleo_ansible/ansible_plugins/module_utils/network_data_v2.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/55a72016b4822c464067868f8c3c43511620f8ea', 'message': ""Check name_lower string contains valid pattern\n\nThe utils module provides the schema validator for the network data v2\nformat. Currently, if we pass capital letter string to name_lower\nwe don't get any errors. Name is descriptive but it will be good to\nhave some validation.\n\nWe are adding a check that string passed to name_lower is of pattern\n(lower letters, numbers, underscore, period and dash only.) With\nregex[1] pattern we can avoid string pattern with capital letters\nand any other special character which can possibily cause an issue.\n\n[1] https://rubular.com/r/dBiEIvZbqmJMOJ\n\nChange-Id: I5074bd4a2e7c5c731183162095a52f18b357a702\n""}]",2,770453,55a72016b4822c464067868f8c3c43511620f8ea,9,3,1,29775,,,0,"Check name_lower string contains valid pattern

The utils module provides the schema validator for the network data v2
format. Currently, if we pass capital letter string to name_lower
we don't get any errors. Name is descriptive but it will be good to
have some validation.

We are adding a check that string passed to name_lower is of pattern
(lower letters, numbers, underscore, period and dash only.) With
regex[1] pattern we can avoid string pattern with capital letters
and any other special character which can possibily cause an issue.

[1] https://rubular.com/r/dBiEIvZbqmJMOJ

Change-Id: I5074bd4a2e7c5c731183162095a52f18b357a702
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/53/770453/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/tests/modules/test_network_data_v2.py', 'tripleo_ansible/ansible_plugins/module_utils/network_data_v2.py']",2,55a72016b4822c464067868f8c3c43511620f8ea,," pattern: ""^[a-z0-9_.-]*$""",,6,0
openstack%2Ftripleo-ansible~master~I6b7116830ef72e297b887d34e98d6a256372ea66,openstack/tripleo-ansible,master,I6b7116830ef72e297b887d34e98d6a256372ea66,Set tripleo_default_route neutron port tag,MERGED,2021-01-25 15:34:38.000000000,2021-04-08 16:56:29.000000000,2021-04-08 16:54:55.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-25 15:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/41d86255f0b183dc8cef5d5ccbf683b7bc776e96', 'message': ""Set tripleo_default_route neutron port tag\n\nSet tag 'tripleo_default_route=true' on ports on\nthe networks defined as default route networks in\nthe instances network config.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772358\nChange-Id: I6b7116830ef72e297b887d34e98d6a256372ea66\n""}, {'number': 2, 'created': '2021-01-25 18:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e7b2801b8ff9b62fecf3619f753643755a17404d', 'message': ""Set tripleo_default_route neutron port tag\n\nSet tag 'tripleo_default_route=true' on ports on\nthe networks defined as default route networks in\nthe instances network config.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772358\nChange-Id: I6b7116830ef72e297b887d34e98d6a256372ea66\n""}, {'number': 3, 'created': '2021-01-27 20:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a9322e6829e4480b594959ae1b8033ccfbf8bde0', 'message': ""Set tripleo_default_route neutron port tag\n\nSet tag 'tripleo_default_route=true' on ports on\nthe networks defined as default route networks in\nthe instances network config.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772358\nChange-Id: I6b7116830ef72e297b887d34e98d6a256372ea66\n""}, {'number': 4, 'created': '2021-02-03 14:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b5969e38286dca7932ac0a128936c8acc38ae195', 'message': ""Set tripleo_default_route neutron port tag\n\nSet tag 'tripleo_default_route=true' on ports on\nthe networks defined as default route networks in\nthe instances network config.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772358\nChange-Id: I6b7116830ef72e297b887d34e98d6a256372ea66\n""}, {'number': 5, 'created': '2021-02-10 13:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6748ae8ce6206c2ae76b23f6da36c53c4a57ca75', 'message': ""Set tripleo_default_route neutron port tag\n\nSet tag 'tripleo_default_route=true' on ports on\nthe networks defined as default route networks in\nthe instances network config.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772358\nChange-Id: I6b7116830ef72e297b887d34e98d6a256372ea66\n""}, {'number': 6, 'created': '2021-03-07 11:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f4721332ee09cc5e2ed20f86c501f6818f2d0c40', 'message': ""Set tripleo_default_route neutron port tag\n\nSet tag 'tripleo_default_route=true' on ports on\nthe networks defined as default route networks in\nthe instances network config.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772358\nChange-Id: I6b7116830ef72e297b887d34e98d6a256372ea66\n""}, {'number': 7, 'created': '2021-03-08 03:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6421356e61d259664f5b1df46c70c3acf14a8c37', 'message': ""Set tripleo_default_route neutron port tag\n\nSet tag 'tripleo_default_route=true' on ports on\nthe networks defined as default route networks in\nthe instances network config.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772358\nChange-Id: I6b7116830ef72e297b887d34e98d6a256372ea66\n""}, {'number': 8, 'created': '2021-03-17 03:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/51de2d57a58390b1e8682362b2c69e74906229e3', 'message': ""Set tripleo_default_route neutron port tag\n\nSet tag 'tripleo_default_route=true' on ports on\nthe networks defined as default route networks in\nthe instances network config.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772358\nChange-Id: I6b7116830ef72e297b887d34e98d6a256372ea66\n""}, {'number': 9, 'created': '2021-03-30 11:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2fd19d07619b2e010951ea10a2123ebd7f7bc52a', 'message': ""Set tripleo_default_route neutron port tag\n\nSet tag 'tripleo_default_route=true' on ports on\nthe networks defined as default route networks in\nthe instances network config.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772358\nChange-Id: I6b7116830ef72e297b887d34e98d6a256372ea66\n""}, {'number': 10, 'created': '2021-03-31 12:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ed6b4cfdd3b7f06005119253555eab98be719afe', 'message': ""Set tripleo_default_route neutron port tag\n\nSet tag 'tripleo_default_route=true' on ports on\nthe networks defined as default route networks in\nthe instances network config.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772358\nChange-Id: I6b7116830ef72e297b887d34e98d6a256372ea66\n""}, {'number': 11, 'created': '2021-04-06 12:30:44.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_ports.py', 'tripleo_ansible/tests/modules/test_tripleo_overcloud_network_ports.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5389d648fe3e75e77ba90a11e94fb3223ab70bdd', 'message': ""Set tripleo_default_route neutron port tag\n\nSet tag 'tripleo_default_route=true' on ports on\nthe networks defined as default route networks in\nthe instances network config.\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772358\nChange-Id: I6b7116830ef72e297b887d34e98d6a256372ea66\n""}]",0,772360,5389d648fe3e75e77ba90a11e94fb3223ab70bdd,46,5,11,24245,,,0,"Set tripleo_default_route neutron port tag

Set tag 'tripleo_default_route=true' on ports on
the networks defined as default route networks in
the instances network config.

Partial-Implements: blueprint network-data-v2-ports
Depends-On: https://review.opendev.org/772358
Change-Id: I6b7116830ef72e297b887d34e98d6a256372ea66
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/772360/9 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_ports.py', 'tripleo_ansible/tests/modules/test_tripleo_overcloud_network_ports.py']",2,41d86255f0b183dc8cef5d5ccbf683b7bc776e96,network-data-v2," 'network_config': { 'default_route_network': ['ctlplane'], }, 'ctlplane': { 'id': 'ctlplane_id', 'subnets': { 'ctlplane-subnet': 'ctlplane_subnet_id' } }, 'ctlplane_id': 'ctlplane', network_config = {'default_route_network': ['foo']} expected_tags = copy.deepcopy(tags) tags, FAKE_MAPS, network_config) self.assertEqual(set(set_tag_args[1][0][1]), expected_tags) # Default route tag only on the 'foo' network port expected_tags.update({'tripleo_default_route=true'}) self.assertEqual(set(set_tag_args[0][0][1]), expected_tags) @mock.patch.object(openstack.connection, 'Connection', autospec=True) def test_update_ports(self, mock_conn): result = {'changed': False} network_config = {'default_route_network': ['foo']} tags = set(['tripleo_hostname=instance0', 'tripleo_stack_name=overcloud', 'tripleo_ironic_uuid=ironic_uuid']) expected_tags = copy.deepcopy(tags) port_foo = stubs.FakeNeutronPort( id='port_foo_id', name='instance0_foo', network_id='foo_id', fixed_ips=[{'subnet_id': 'NEED_UPDATE'}], tags=[]) port_bar = stubs.FakeNeutronPort( id='port_bar_id', name='instance0_bar', network_id='bar_id', fixed_ips=[{'subnet_id': 'NEED_UPDATE'}], tags=[]) inst_ports = [port_foo, port_bar] update_port_defs = [ dict(name='instance0_foo', network_id='foo_id', fixed_ips=[{'subnet_id': 'foo_subnet_id'}]), dict(name='instance0_bar', network_id='bar_id', fixed_ips=[{'subnet_id': 'bar_subnet_id'}]), ] plugin.update_ports(result, mock_conn, update_port_defs, inst_ports, tags, FAKE_MAPS, network_config) mock_conn.network.update_port.assert_has_calls( [mock.call('port_foo_id', {'fixed_ips': [{'subnet_id': 'foo_subnet_id'}]}), mock.call('port_bar_id', {'fixed_ips': [{'subnet_id': 'bar_subnet_id'}]})]) mock_conn.network.set_tags.assert_has_calls([ mock.call(port_foo, mock.ANY), mock.call(port_bar, mock.ANY) ]) set_tag_args = mock_conn.network.set_tags.call_args_list self.assertEqual(set(set_tag_args[1][0][1]), expected_tags) # Default route tag only on the 'foo' network port expected_tags.update({'tripleo_default_route=true'}) self.assertEqual(set(set_tag_args[0][0][1]), expected_tags) self.assertTrue(result['changed']) network_config = FAKE_INSTANCE['network_config'] mock.ANY, expected_tags, FAKE_MAPS, network_config) network_config = FAKE_INSTANCE['network_config'] expected_tags, FAKE_MAPS, network_config) network_config = FAKE_INSTANCE['network_config'] expected_tags, FAKE_MAPS, network_config) expected_tags, FAKE_MAPS, network_config) instances = [copy.deepcopy(FAKE_INSTANCE)] instances[0]['networks'].append({'network': 'missing_net', 'subnet': 'missing_subnet'},) msg = 'Network missing_net for instance {} not found.'.format( expected_tags = copy.deepcopy(tags) expected_tags.update({'tripleo_default_route=true'}) network_id='ctlplane_id', network_config = FAKE_INSTANCE['network_config'] default_route_network = network_config['default_route_network'] tags, default_route_network, FAKE_MAPS) self.assertEqual(set(expected_tags), set(set_tags_args[1])) name='hostname-ctlplane', id='port_uuid', network_id='ctlplane_id', 'tripleo_ironic_vif_port=true', 'tripleo_default_route=true']) network_config = FAKE_INSTANCE['network_config'] default_route_network = network_config['default_route_network'] plugin._tag_metalsmith_instance_ports( result, mock_conn, mock_provisioner, 'ironic_uuid', tags, default_route_network, FAKE_MAPS) @mock.patch.object(plugin, '_tag_metalsmith_instance_ports', autospec=True) @mock.patch.object(openstack.connection, 'Connection', autospec=True) @mock.patch.object(metalsmith, 'Provisioner', autospec=True) def test_tag_metalsmith_managed_ports(self, mock_provisioner, mock_conn, mock_tag_msmith_ports): result = {'changed': False, 'instance_port_map': {}} mock_conn.config = mock.Mock() concurrency = 1 uuid_by_hostname = {FAKE_INSTANCE['hostname']: 'fake_uuid'} hostname_role_map = {FAKE_INSTANCE['hostname']: 'fake_role'} instances_by_hostname = {FAKE_INSTANCE['hostname']: FAKE_INSTANCE} plugin.tag_metalsmith_managed_ports(result, mock_conn, concurrency, STACK, uuid_by_hostname, hostname_role_map, instances_by_hostname, FAKE_MAPS) expected_tags = {'tripleo_role=fake_role', 'tripleo_ironic_vif_port=true', 'tripleo_stack_name=overcloud', 'tripleo_hostname=instance0', 'tripleo_ironic_uuid=fake_uuid'} mock_tag_msmith_ports.assert_called_with( result, mock_conn, mock.ANY, 'fake_uuid', expected_tags, FAKE_INSTANCE['network_config']['default_route_network'], FAKE_MAPS)"," tags) self.assertTrue(set(set_tag_args[1][0][1]) == tags) self.assertTrue(set(set_tag_args[1][0][1]) == tags) mock.ANY, expected_tags) expected_tags) expected_tags) expected_tags) instances = [FAKE_INSTANCE] msg = 'Network ctlplane for instance {} not found.'.format( tags) self.assertTrue(set(tags) == set(set_tags_args[1])) name='hostname-ctlplane', id='port_uuid', 'tripleo_ironic_vif_port=true']) plugin._tag_metalsmith_instance_ports(result, mock_conn, mock_provisioner, 'ironic_uuid', tags)",177,28
openstack%2Fansible-role-collect-logs~master~Ic1b3042650d213e32855750ed900eebbb4b683c8,openstack/ansible-role-collect-logs,master,Ic1b3042650d213e32855750ed900eebbb4b683c8,Use Ansible 2.10 in requirements,ABANDONED,2021-01-06 09:23:42.000000000,2021-04-08 16:46:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-06 09:23:42.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/4558294858e956ede17ae4c3a74c499daff28bbb', 'message': 'Use Ansible 2.10 in requirements\n\nChange-Id: Ic1b3042650d213e32855750ed900eebbb4b683c8\n'}]",0,769481,4558294858e956ede17ae4c3a74c499daff28bbb,12,2,1,10969,,,0,"Use Ansible 2.10 in requirements

Change-Id: Ic1b3042650d213e32855750ed900eebbb4b683c8
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/81/769481/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,4558294858e956ede17ae4c3a74c499daff28bbb,2.10,ansible<2.11,"ansible>=2.5,<2.10",1,1
openstack%2Ftripleo-heat-templates~master~I865cc52eff45f27f644c7258d90a2333b08d65cb,openstack/tripleo-heat-templates,master,I865cc52eff45f27f644c7258d90a2333b08d65cb,Cinder: Clean up volume type management by puppet,ABANDONED,2020-12-31 03:45:06.000000000,2021-04-08 16:45:33.000000000,,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-31 03:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea2446aa2a95ec7d19b1b3e44054fe51f83e30a3', 'message': 'Cinder: Do not manage default volume type by puppet\n\n... because we already have an ansible task to manage it.\n\nChange-Id: I865cc52eff45f27f644c7258d90a2333b08d65cb\n'}, {'number': 2, 'created': '2020-12-31 05:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5d0bee7c628bd410f4fa18cdc3e8e8d3ee0875d', 'message': 'Cinder: Do not manage default volume type by puppet\n\n... because we already have an ansible task to manage it.\n\nChange-Id: I865cc52eff45f27f644c7258d90a2333b08d65cb\n'}, {'number': 3, 'created': '2021-01-05 02:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c39bee6165390974b03f6b89f7c581d5dfa199b', 'message': ""Cinder: Do not manage default volume type by puppet\n\nThe following change added new tasks to external_deploy_step_tasks to\nmanage the default volume type in cinder by ansibe.\n https://review.opendev.org/696980\nHowever this change didn't remove management of the default volume type\nby puppet, thus we are now managing it by both puppet and ansible.\n\nThis change ensures that the default volume type is managed only by\nansible and solves that redundancy.\n\nCloses-Bug: #1910160\nChange-Id: I865cc52eff45f27f644c7258d90a2333b08d65cb\n""}, {'number': 4, 'created': '2021-01-05 04:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aaf148a352025ececcee667067f79a1822fda6bc', 'message': 'Cinder: Clean up volume type management by puppet\n\nDepends-on: https://review.opendev.org/768380\nChange-Id: I865cc52eff45f27f644c7258d90a2333b08d65cb\n'}, {'number': 5, 'created': '2021-01-05 04:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/72cc70ea433682fa457b4fed9599afc529d764ab', 'message': 'Cinder: Clean up volume type management by puppet\n\n... because the implementation in puppet has been removed.\n\nDepends-on: https://review.opendev.org/768380\nChange-Id: I865cc52eff45f27f644c7258d90a2333b08d65cb\n'}, {'number': 6, 'created': '2021-01-05 04:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a4f734e341be2aa8a42322776d3d63eb06ba628', 'message': 'Cinder: Remove useless container puppet task\n\nSince the following change was merged we no longer use puppet to manage\nthe default volume type.\n https://review.opendev.org/696980\n\nThis change removes useless container puppet task we used to use to\nmanage the default volume type by puppet.\n\nChange-Id: I865cc52eff45f27f644c7258d90a2333b08d65cb\n'}, {'number': 7, 'created': '2021-01-05 04:29:34.000000000', 'files': ['deployment/cinder/cinder-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/625648085d2b58946ce04c0d9ea63cc89402f9b0', 'message': 'Cinder: Clean up volume type management by puppet\n\n... because the implementation in puppet has been removed.\n\nDepends-on: https://review.opendev.org/768380\nChange-Id: I865cc52eff45f27f644c7258d90a2333b08d65cb\n'}]",12,768799,625648085d2b58946ce04c0d9ea63cc89402f9b0,38,4,7,9816,,,0,"Cinder: Clean up volume type management by puppet

... because the implementation in puppet has been removed.

Depends-on: https://review.opendev.org/768380
Change-Id: I865cc52eff45f27f644c7258d90a2333b08d65cb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/768799/5 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-api-container-puppet.yaml'],1,ea2446aa2a95ec7d19b1b3e44054fe51f83e30a3,default-volume-type," puppet_tags: cinder_config,file,concat,file_line container_puppet_tasks: {}"," puppet_tags: cinder_config,cinder_type,file,concat,file_line container_puppet_tasks: # Create the default volume type after the cinder-api service is # running. The puppet code will ensure this is only done once, on # the bootstrap node. step_4: config_volume: 'cinder_init_tasks' puppet_tags: cinder_config,cinder_type,file,concat,file_line step_config: 'include tripleo::profile::base::cinder::api' config_image: *cinder_api_image volumes: - /var/lib/config-data/cinder/etc/cinder/:/etc/cinder/:ro ",2,13
openstack%2Fpython-tripleoclient~master~I23403dc148ba74f03ef0bf8281645dd016a83002,openstack/python-tripleoclient,master,I23403dc148ba74f03ef0bf8281645dd016a83002,Use unittest.mock instead of mock,ABANDONED,2021-01-02 06:23:27.000000000,2021-04-08 16:37:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-02 06:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f226400d12f03e8ba9c3e37bbd3b5333e1ca9e8f', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I23403dc148ba74f03ef0bf8281645dd016a83002\n'}, {'number': 2, 'created': '2021-01-05 07:47:01.000000000', 'files': ['tripleoclient/tests/v2/overcloud_support/test_overcloud_support.py', 'tripleoclient/tests/v1/test_overcloud_plan.py', 'tripleoclient/tests/v2/overcloud_network/test_overcloud_network.py', 'tripleoclient/tests/v1/test_container_image.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_backup/test_backup.py', 'tripleoclient/tests/test_plugin.py', 'tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py', 'tripleoclient/tests/workflows/test_plan_management.py', 'tripleoclient/tests/v1/overcloud_netenv_validate/test_overcloud_netenv_validate.py', 'tripleoclient/tests/v1/test_overcloud_raid.py', 'tripleoclient/tests/v1/overcloud_node/fakes.py', 'tripleoclient/tests/v1/test_overcloud_plan_roles.py', 'tripleoclient/tests/v1/overcloud_config/test_overcloud_config.py', 'tripleoclient/tests/v1/overcloud_external_upgrade/test_overcloud_external_upgrade.py', 'tripleoclient/tests/v1/test_plugin.py', 'tripleoclient/tests/v2/container_image/test_tripleo_container_image.py', 'tripleoclient/tests/v1/test_overcloud_bios.py', 'tripleoclient/tests/v1/undercloud/test_config.py', 'tripleoclient/tests/test_overcloud_credentials.py', 'tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/tests/v2/overcloud_delete/test_overcloud_delete.py', 'tripleoclient/tests/workflows/test_base.py', 'tripleoclient/tests/v1/baremetal/fakes.py', 'tripleoclient/tests/v1/test_overcloud_profiles.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/test_overcloud_export_ceph.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/test_export.py', 'tripleoclient/tests/v1/undercloud/minion/test_install.py', 'tripleoclient/tests/v1/undercloud/test_backup.py', 'tripleoclient/tests/v1/test_overcloud_parameters.py', 'tripleoclient/tests/v1/test_overcloud_admin.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py', 'tripleoclient/tests/v1/undercloud/minion/test_config.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_upgrade.py', 'tripleoclient/tests/v1/overcloud_deploy/fakes.py', 'tripleoclient/tests/v1/overcloud_roles/test_overcloud_roles.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/07537cb02d6066399d127f2ef249dc7139f17639', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I23403dc148ba74f03ef0bf8281645dd016a83002\n'}]",31,768857,07537cb02d6066399d127f2ef249dc7139f17639,7,2,2,31027,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I23403dc148ba74f03ef0bf8281645dd016a83002
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/57/768857/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v2/overcloud_support/test_overcloud_support.py', 'tripleoclient/tests/v1/test_overcloud_plan.py', 'tripleoclient/tests/v2/overcloud_network/test_overcloud_network.py', 'tripleoclient/tests/v1/test_container_image.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_backup/test_backup.py', 'tripleoclient/tests/test_plugin.py', 'tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py', 'tripleoclient/tests/workflows/test_plan_management.py', 'tripleoclient/tests/v1/overcloud_netenv_validate/test_overcloud_netenv_validate.py', 'tripleoclient/tests/v1/test_overcloud_raid.py', 'tripleoclient/tests/v1/overcloud_node/fakes.py', 'tripleoclient/tests/v1/test_overcloud_plan_roles.py', 'tripleoclient/tests/v1/overcloud_config/test_overcloud_config.py', 'tripleoclient/tests/v1/overcloud_external_upgrade/test_overcloud_external_upgrade.py', 'tripleoclient/tests/v1/test_plugin.py', 'tripleoclient/tests/v2/container_image/test_tripleo_container_image.py', 'tripleoclient/tests/v1/test_overcloud_bios.py', 'tripleoclient/tests/v1/undercloud/test_config.py', 'tripleoclient/tests/test_overcloud_credentials.py', 'tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/tests/v2/overcloud_delete/test_overcloud_delete.py', 'tripleoclient/tests/workflows/test_base.py', 'tripleoclient/tests/v1/baremetal/fakes.py', 'tripleoclient/tests/v1/test_overcloud_profiles.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/test_overcloud_export_ceph.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/test_export.py', 'tripleoclient/tests/v1/undercloud/minion/test_install.py', 'tripleoclient/tests/v1/undercloud/test_backup.py', 'tripleoclient/tests/v1/test_overcloud_parameters.py', 'tripleoclient/tests/v1/test_overcloud_admin.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py', 'tripleoclient/tests/v1/undercloud/minion/test_config.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_upgrade.py', 'tripleoclient/tests/v1/overcloud_deploy/fakes.py', 'tripleoclient/tests/v1/overcloud_roles/test_overcloud_roles.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py']",48,f226400d12f03e8ba9c3e37bbd3b5333e1ca9e8f,,from unittest import mock,import mock,48,48
openstack%2Ftripleo-ansible~stable%2Fvictoria~I23d6cb01a804ea94d19ee99f2aabf10aec914e8a,openstack/tripleo-ansible,stable/victoria,I23d6cb01a804ea94d19ee99f2aabf10aec914e8a,Add tripleo_update_trusted_cas role,ABANDONED,2020-12-08 19:47:35.000000000,2021-04-08 16:35:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-08 19:47:35.000000000', 'files': ['tripleo_ansible/roles/tripleo_update_trusted_cas/defaults/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/meta/main.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/prepare.yml', 'doc/source/roles/role-tripleo_update_trusted_cas.rst', 'tripleo_ansible/roles/tripleo_update_trusted_cas/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/72901be2fa82f0666f9ded2d885dc386da4b2e79', 'message': 'Add tripleo_update_trusted_cas role\n\nThis role is used to add certificates to the system ca trust store.\nThis role is needed so that we can add certificates to the trust store\nearly in host_prep as part of a fix for BZ 1840886\n\nChange-Id: I23d6cb01a804ea94d19ee99f2aabf10aec914e8a\n(cherry picked from commit de98a36b353a5ca6eb5acc290dd941e4b222a110)\n'}]",0,765953,72901be2fa82f0666f9ded2d885dc386da4b2e79,16,2,1,9914,,,0,"Add tripleo_update_trusted_cas role

This role is used to add certificates to the system ca trust store.
This role is needed so that we can add certificates to the trust store
early in host_prep as part of a fix for BZ 1840886

Change-Id: I23d6cb01a804ea94d19ee99f2aabf10aec914e8a
(cherry picked from commit de98a36b353a5ca6eb5acc290dd941e4b222a110)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/53/765953/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_update_trusted_cas/defaults/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/meta/main.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/prepare.yml', 'doc/source/roles/role-tripleo_update_trusted_cas.rst', 'tripleo_ansible/roles/tripleo_update_trusted_cas/tasks/main.yml']",9,72901be2fa82f0666f9ded2d885dc386da4b2e79,add_ca_update_role-stable/victoria,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # tripleo_update_trusted_cas will add a set of certifcates in PEM format # to the trusted CA store. These are provided in a ca map, which has # the format: # # tripleo_update_trusted_cas_ca_map: # first-ca-name: # content: | # The content of the CA cert goes here # second-ca-name: # content: | # The content of the CA cert goes here # etc. - name: Add ca files become: true copy: dest: ""/etc/pki/ca-trust/source/anchors/{{ item.key }}.pem"" content: ""{{ item.value.content }}"" mode: ""0644"" owner: ""root"" loop: ""{{ tripleo_update_trusted_cas_ca_map | dict2items }}"" - name: Update trust become: true command: /usr/bin/update-ca-trust extract ",,350,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I23d6cb01a804ea94d19ee99f2aabf10aec914e8a,openstack/tripleo-ansible,stable/ussuri,I23d6cb01a804ea94d19ee99f2aabf10aec914e8a,Add tripleo_update_trusted_cas role,ABANDONED,2020-12-08 19:49:11.000000000,2021-04-08 16:35:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-08 19:49:11.000000000', 'files': ['tripleo_ansible/roles/tripleo_update_trusted_cas/defaults/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/meta/main.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/prepare.yml', 'doc/source/roles/role-tripleo_update_trusted_cas.rst', 'tripleo_ansible/roles/tripleo_update_trusted_cas/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aacf99dff0d19811a80cecc62989353c72145622', 'message': 'Add tripleo_update_trusted_cas role\n\nThis role is used to add certificates to the system ca trust store.\nThis role is needed so that we can add certificates to the trust store\nearly in host_prep as part of a fix for BZ 1840886\n\nChange-Id: I23d6cb01a804ea94d19ee99f2aabf10aec914e8a\n(cherry picked from commit de98a36b353a5ca6eb5acc290dd941e4b222a110)\n'}]",0,765954,aacf99dff0d19811a80cecc62989353c72145622,16,2,1,9914,,,0,"Add tripleo_update_trusted_cas role

This role is used to add certificates to the system ca trust store.
This role is needed so that we can add certificates to the trust store
early in host_prep as part of a fix for BZ 1840886

Change-Id: I23d6cb01a804ea94d19ee99f2aabf10aec914e8a
(cherry picked from commit de98a36b353a5ca6eb5acc290dd941e4b222a110)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/54/765954/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_update_trusted_cas/defaults/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/meta/main.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/prepare.yml', 'doc/source/roles/role-tripleo_update_trusted_cas.rst', 'tripleo_ansible/roles/tripleo_update_trusted_cas/tasks/main.yml']",9,aacf99dff0d19811a80cecc62989353c72145622,add_ca_update_role-stable/victoria-stable/ussuri,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # tripleo_update_trusted_cas will add a set of certifcates in PEM format # to the trusted CA store. These are provided in a ca map, which has # the format: # # tripleo_update_trusted_cas_ca_map: # first-ca-name: # content: | # The content of the CA cert goes here # second-ca-name: # content: | # The content of the CA cert goes here # etc. - name: Add ca files become: true copy: dest: ""/etc/pki/ca-trust/source/anchors/{{ item.key }}.pem"" content: ""{{ item.value.content }}"" mode: ""0644"" owner: ""root"" loop: ""{{ tripleo_update_trusted_cas_ca_map | dict2items }}"" - name: Update trust become: true command: /usr/bin/update-ca-trust extract ",,350,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I23d6cb01a804ea94d19ee99f2aabf10aec914e8a,openstack/tripleo-ansible,stable/train,I23d6cb01a804ea94d19ee99f2aabf10aec914e8a,Add tripleo_update_trusted_cas role,ABANDONED,2020-12-08 20:35:38.000000000,2021-04-08 16:35:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-08 20:35:38.000000000', 'files': ['tripleo_ansible/roles/tripleo_update_trusted_cas/defaults/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/meta/main.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/prepare.yml', 'doc/source/roles/role-tripleo_update_trusted_cas.rst', 'tripleo_ansible/roles/tripleo_update_trusted_cas/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0e515a27192ace8f7609a33ba4e5c5288e6ee9f2', 'message': 'Add tripleo_update_trusted_cas role\n\nThis role is used to add certificates to the system ca trust store.\nThis role is needed so that we can add certificates to the trust store\nearly in host_prep as part of a fix for BZ 1840886\n\nChange-Id: I23d6cb01a804ea94d19ee99f2aabf10aec914e8a\n(cherry picked from commit de98a36b353a5ca6eb5acc290dd941e4b222a110)\n(cherry picked from commit aacf99dff0d19811a80cecc62989353c72145622)\n'}]",0,766090,0e515a27192ace8f7609a33ba4e5c5288e6ee9f2,16,2,1,9914,,,0,"Add tripleo_update_trusted_cas role

This role is used to add certificates to the system ca trust store.
This role is needed so that we can add certificates to the trust store
early in host_prep as part of a fix for BZ 1840886

Change-Id: I23d6cb01a804ea94d19ee99f2aabf10aec914e8a
(cherry picked from commit de98a36b353a5ca6eb5acc290dd941e4b222a110)
(cherry picked from commit aacf99dff0d19811a80cecc62989353c72145622)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/90/766090/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_update_trusted_cas/defaults/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/meta/main.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_update_trusted_cas/molecule/default/prepare.yml', 'doc/source/roles/role-tripleo_update_trusted_cas.rst', 'tripleo_ansible/roles/tripleo_update_trusted_cas/tasks/main.yml']",9,0e515a27192ace8f7609a33ba4e5c5288e6ee9f2,add_ca_update_role-stable/train,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # tripleo_update_trusted_cas will add a set of certifcates in PEM format # to the trusted CA store. These are provided in a ca map, which has # the format: # # tripleo_update_trusted_cas_ca_map: # first-ca-name: # content: | # The content of the CA cert goes here # second-ca-name: # content: | # The content of the CA cert goes here # etc. - name: Add ca files become: true copy: dest: ""/etc/pki/ca-trust/source/anchors/{{ item.key }}.pem"" content: ""{{ item.value.content }}"" mode: ""0644"" owner: ""root"" loop: ""{{ tripleo_update_trusted_cas_ca_map | dict2items }}"" - name: Update trust become: true command: /usr/bin/update-ca-trust extract ",,348,0
openstack%2Ftripleo-docs~master~I781b0388839b1c9c674f44c029fa3c031bade62f,openstack/tripleo-docs,master,I781b0388839b1c9c674f44c029fa3c031bade62f,standalone/dcn: adjustments for latest versions (train+),MERGED,2021-03-22 19:47:54.000000000,2021-04-08 16:27:15.000000000,2021-04-08 16:25:19.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-22 19:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d1454e2659b49e6e6f351274b01b070a7f3e257e', 'message': 'WIP - standalone/dcn: adjustments for latest versions (train+)\n\n- AllNodesConfig is no longer in the Heat stack, we need to look for it\n  in the config-download directory from the group vars.\n- tripleo-undercloud-passwords.yaml was renamed to\n  tripleo-standalone-passwords.yaml.\n\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\nChange-Id: I781b0388839b1c9c674f44c029fa3c031bade62f\n'}, {'number': 2, 'created': '2021-03-25 20:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/2983cebcf98a0baf7b6eaedab8fee20640f570c5', 'message': 'WIP - standalone/dcn: adjustments for latest versions (train+)\n\n- AllNodesConfig is no longer in the Heat stack, we need to look for it\n  in the config-download directory from the group vars.\n- tripleo-undercloud-passwords.yaml was renamed to\n  tripleo-standalone-passwords.yaml.\n\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\nChange-Id: I781b0388839b1c9c674f44c029fa3c031bade62f\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\n'}, {'number': 3, 'created': '2021-03-26 12:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/77316dab725a7177f99fae585469dadb14c677fa', 'message': 'standalone/dcn: adjustments for latest versions (train+)\n\n- AllNodesConfig is no longer in the Heat stack, we need to look for it\n  in the config-download directory from the group vars.\n- tripleo-undercloud-passwords.yaml was renamed to\n  tripleo-standalone-passwords.yaml.\n\nChange-Id: I781b0388839b1c9c674f44c029fa3c031bade62f\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\n'}, {'number': 4, 'created': '2021-03-26 12:08:02.000000000', 'files': ['deploy-guide/source/deployment/standalone.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4619a1d6da563adb7b65a52a69a1e50e6180de5e', 'message': 'standalone/dcn: adjustments for latest versions (train+)\n\n- AllNodesConfig is no longer in the Heat stack, we need to look for it\n  in the config-download directory from the group vars.\n- tripleo-undercloud-passwords.yaml was renamed to\n  tripleo-standalone-passwords.yaml.\n\nChange-Id: I781b0388839b1c9c674f44c029fa3c031bade62f\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\n'}]",8,782323,4619a1d6da563adb7b65a52a69a1e50e6180de5e,24,5,4,3153,,,0,"standalone/dcn: adjustments for latest versions (train+)

- AllNodesConfig is no longer in the Heat stack, we need to look for it
  in the config-download directory from the group vars.
- tripleo-undercloud-passwords.yaml was renamed to
  tripleo-standalone-passwords.yaml.

Change-Id: I781b0388839b1c9c674f44c029fa3c031bade62f
Signed-off-by: Emilien Macchi <emilien@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/23/782323/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/standalone.rst'],1,d1454e2659b49e6e6f351274b01b070a7f3e257e,allnodes/edge,"In addition to the above, you need to create $DIR/$HOME/export_control_plane/all-nodes-extra-map-data.json which will contain the following AllNodesExtraMapData. You first need to locate the group_vars generated by tripleo-ansible, located in the config-download directory. e.g. $HOME/standalone-ansible-prdsikhf/group_vars/overcloud.json Then you can generate the correct Heat environment with the following command: .. code-block::bash python3 -c ""import json; t = {'parameter_defaults': {'AllNodesExtraMapData': json.loads(open('standalone-ansible-prdsikhf/group_vars/overcloud.json').read()) }}; print(t)"" > $DIR/all-nodes-extra-map-data.json cp $HOME/tripleo-standalone-passwords.yaml $DIR/passwords.yaml"," openstack stack output show standalone AllNodesConfig --format json \ | jq '{""parameter_defaults"": {""AllNodesExtraMapData"": .output_value}}' \ > $DIR/all-nodes-extra-map-data.json cp $HOME/tripleo-undercloud-passwords.yaml $DIR/passwords.yaml",11,5
openstack%2Fironic~master~I11b92612d6686b7133ddef67068664c9b81df30e,openstack/ironic,master,I11b92612d6686b7133ddef67068664c9b81df30e,Fix idrac-wsman BIOS factory_reset result finding,MERGED,2020-08-28 15:24:01.000000000,2021-04-08 16:23:46.000000000,2021-04-08 16:20:46.000000000,"[{'_account_id': 8580}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}, {'_account_id': 30490}, {'_account_id': 31616}, {'_account_id': 32108}, {'_account_id': 32201}, {'_account_id': 32205}]","[{'number': 1, 'created': '2020-08-28 15:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1f8789541ec16fa5cc9033aeb7061d5c7700a469', 'message': 'Fix idrac-wsman factory-reset getting updated bios setting values\n\n    We have not been able to identify when the restored factory default\n    settings are deterministically available to be read from the iDRAC\n    following a successful factory reset.\n\n    reading last time System Inventory Collection On Reboot from python-dracclient\n    before and after factory reset if it changes and get the updated bios settings\n    and set the node status to manageable. if value is not changed it set the node\n    to failed state after waiting configured timeout time.\n\n    Story: 2008058\n    Task: 40739\n    Depends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 2, 'created': '2020-09-04 09:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1eb8fcc04e35004eed28362370d94459652b1ff2', 'message': '[WIP] Fix idrac-wsman factory-reset getting\nupdated bios setting values\n\n    We have not been able to identify when the restored factory default\n    settings are deterministically available to be read from the iDRAC\n    following a successful factory reset.\n\n    reading last time System Inventory Collection On Reboot from\n    python-dracclient before and after factory reset if it changes\n    and get the updated bios settings and set the node status to\n    manageable. if value is not changed it set the node to failed\n    state after waiting configured timeout time.\n\n    Story: 2008058\n    Task: 40739\n    Depends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 3, 'created': '2020-09-10 17:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1591f4d4dd75e03d46061704b04356f6a2b3a4ed', 'message': '[WIP]Fix idrac-wsman bios factory-reset setting\n\n    We have not been able to identify when the restored factory default\n    settings are deterministically available to be read from the iDRAC\n    following a successful factory reset.\n\n    reading last time System Inventory Collection On Reboot from\n    python-dracclient before and after factory reset if it changes\n    and get the updated bios settings and set the node status to\n    manageable. if value is not changed it set the node to failed\n    state after waiting configured timeout time.\n\n    Story: 2008058\n    Task: 40739\n    Depends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 4, 'created': '2020-09-11 05:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f7e8eb7fc8d0f43671def9947bac744245e16531', 'message': '[WIP]Fix idrac-wsman bios factory-reset setting\n\n    We have not been able to identify when the restored factory default\n    settings are deterministically available to be read from the iDRAC\n    following a successful factory reset.\n\n    reading last time System Inventory Collection On Reboot from\n    python-dracclient before and after factory reset if it changes\n    and get the updated bios settings and set the node status to\n    manageable. if value is not changed it set the node to failed\n    state after waiting configured timeout time.\n\n    Story: 2008058\n    Task: 40739\n    Depends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 5, 'created': '2020-09-15 13:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8f96cd18c56efd9094268f7a63140fedc3f75cbe', 'message': 'Fix idrac-wsman bios factory-reset setting\n\n    We have not been able to identify when the restored factory default\n    settings are deterministically available to be read from the iDRAC\n    following a successful factory reset.\n\n    reading last time System Inventory Collection On Reboot from\n    python-dracclient before and after factory reset if it changes\n    and get the updated bios settings and set the node status to\n    manageable. if value is not changed it set the node to failed\n    state after waiting configured timeout time.\n\n    Story: 2008058\n    Task: 40739\n    Depends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 6, 'created': '2020-09-16 12:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1494feed3d4af4e2e2c81ec1e1e1571b75ba3d6d', 'message': 'modified error message\nFix idrac-wsman bios factory-reset setting\n\n    We have not been able to identify when the restored factory default\n    settings are deterministically available to be read from the iDRAC\n    following a successful factory reset.\n\n    reading last time System Inventory Collection On Reboot from\n    python-dracclient before and after factory reset if it changes\n    and get the updated bios settings and set the node status to\n    manageable. if value is not changed it set the node to failed\n    state after waiting configured timeout time.\n\n    Story: 2008058\n    Task: 40739\n    Depends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 7, 'created': '2020-09-16 12:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dd1c1d733fc8827c975f1e14665375968492ffcb', 'message': 'Fix idrac-wsman bios factory-reset setting\n\n    We have not been able to identify when the restored factory default\n    settings are deterministically available to be read from the iDRAC\n    following a successful factory reset.\n\n    reading last time System Inventory Collection On Reboot from\n    python-dracclient before and after factory reset if it changes\n    and get the updated bios settings and set the node status to\n    manageable. if value is not changed it set the node to failed\n    state after waiting configured timeout time.\n\n    Story: 2008058\n    Task: 40739\n    Depends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 8, 'created': '2020-09-22 10:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/44821b43320c4ca4709ce026cd7b0d38006b0cdd', 'message': 'Fix idrac-wsman bios factory-reset setting\n\n    We have not been able to identify when the restored factory default\n    settings are deterministically available to be read from the iDRAC\n    following a successful factory reset.\n\n    reading last time System Inventory Collection On Reboot from\n    python-dracclient before and after factory reset if it changes\n    and get the updated bios settings and set the node status to\n    manageable. if value is not changed it set the node to failed\n    state after waiting configured timeout time.\n\n    Story: 2008058\n    Task: 40739\n    Depends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 9, 'created': '2020-09-22 10:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/735457a7980170f6be37cd8ae9ac1fc67c87aa30', 'message': 'Fix idrac-wsman bios factory-reset setting\n\n    We have not been able to identify when the restored factory default\n    settings are deterministically available to be read from the iDRAC\n    following a successful factory reset.\n\n    reading last time System Inventory Collection On Reboot from\n    python-dracclient before and after factory reset if it changes\n    and get the updated bios settings and set the node status to\n    manageable. if value is not changed it set the node to failed\n    state after waiting configured timeout time.\n\n    Story: 2008058\n    Task: 40739\n    Depends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 10, 'created': '2020-09-22 11:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7fcd7cc3fbead14ee03c9fdf0490473319490955', 'message': 'Fix idrac-wsman bios factory-reset setting\n\n    We have not been able to identify when the restored factory default\n    settings are deterministically available to be read from the iDRAC\n    following a successful factory reset.\n\n    reading last time System Inventory Collection On Reboot from\n    python-dracclient before and after factory reset if it changes\n    and get the updated bios settings and set the node status to\n    manageable. if value is not changed it set the node to failed\n    state after waiting configured timeout time.\n\n    Story: 2008058\n    Task: 40739\n    Depends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 11, 'created': '2020-09-28 09:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d2e983416b0574d86c2d5304343048f12d85ba11', 'message': 'Fix idrac-wsman bios factory-reset setting\n\n    We have not been able to identify when the restored factory default\n    settings are deterministically available to be read from the iDRAC\n    following a successful factory reset.\n\n    reading last time System Inventory Collection On Reboot from\n    python-dracclient before and after factory reset if it changes\n    and get the updated bios settings and set the node status to\n    manageable. if value is not changed it set the node to failed\n    state after waiting configured timeout time.\n\n    Story: 2008058\n    Task: 40739\n    Depends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 12, 'created': '2020-09-28 12:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0759a7286c9e21af2f7bd19c940b45a5baa94871', 'message': 'Fix idrac-wsman bios factory-reset setting\n\nWe have not been able to identify when the restored factory default\nsettings are deterministically available to be read from the iDRAC\nfollowing a successful factory reset.\n\nFetching the time system inventory was last performed by the iDRAC.\nThat is done during system restart and referred to as Collect System\nInventory on Restart (CSIOR). Before and after factory reset if it\nchanges and get the updated bios settings and set the node status to\nmanageable. If value is not changed set the node to failed state after\nwaiting configured timeout time.\n\nStory: 2008058\nTask: 40739\nDepends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 13, 'created': '2020-09-29 17:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/959ae9557e3414af9af30cd96b7edf7e7494bf43', 'message': 'Fix idrac-wsman bios factory-reset setting\n\nWe have not been able to identify when the restored factory default\nsettings are deterministically available to be read from the iDRAC\nfollowing a successful factory reset.\n\nFetching the time system inventory was last performed by the iDRAC.\nThat is done during system restart and referred to as Collect System\nInventory on Restart (CSIOR). Before and after factory reset if it\nchanges and get the updated bios settings and set the node status to\nmanageable. If value is not changed set the node to failed state after\nwaiting configured timeout time.\n\nStory: 2008058\nTask: 40739\nDepends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 14, 'created': '2020-09-29 17:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9fe1fc2fb6f2dcd160507b997e03ecbe73e4122c', 'message': 'Fix idrac-wsman bios factory-reset setting\n\nWe have not been able to identify when the restored factory default\nsettings are deterministically available to be read from the iDRAC\nfollowing a successful factory reset.\n\nFetching the time system inventory was last performed by the iDRAC.\nThat is done during system restart and referred to as Collect System\nInventory on Restart (CSIOR). Before and after factory reset if it\nchanges and get the updated bios settings and set the node status to\nmanageable. If value is not changed set the node to failed state after\nwaiting configured timeout time.\n\nStory: 2008058\nTask: 40739\nDepends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 15, 'created': '2020-10-01 05:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/70133b53b78dc4abd3347790e55d4071970e313b', 'message': 'Fix idrac-wsman bios factory-reset setting\n\nWe have not been able to identify when the restored factory default\nsettings are deterministically available to be read from the iDRAC\nfollowing a successful factory reset.\n\nFetching the time system inventory was last performed by the iDRAC.\nThat is done during system restart and referred to as Collect System\nInventory on Restart (CSIOR). Before and after factory reset if it\nchanges and get the updated bios settings and set the node status to\nmanageable. If value is not changed set the node to failed state after\nwaiting configured timeout time.\n\nStory: 2008058\nTask: 40739\nDepends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 16, 'created': '2020-10-01 10:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a9291c20918e114bbad9f39968a1ebfc6ec4af95', 'message': 'Fix idrac-wsman bios factory-reset setting\n\nWe have not been able to identify when the restored factory default\nsettings are deterministically available to be read from the iDRAC\nfollowing a successful factory reset.\n\nFetching the time system inventory was last performed by the iDRAC.\nThat is done during system restart and referred to as Collect System\nInventory on Restart (CSIOR). Before and after factory reset if it\nchanges and get the updated bios settings and set the node status to\nmanageable. If value is not changed set the node to failed state after\nwaiting configured timeout time.\n\nStory: 2008058\nTask: 40739\nDepends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 17, 'created': '2020-10-05 12:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b4c80f4727267b0005354c4b86b081c1e92a7471', 'message': 'Fix idrac-wsman bios factory-reset setting\n\nWe have not been able to identify when the restored factory default\nsettings are deterministically available to be read from the iDRAC\nfollowing a successful factory reset.\n\nFetching the time system inventory was last performed by the iDRAC.\nThat is done during system restart and referred to as Collect System\nInventory on Restart (CSIOR). Before and after factory reset if it\nchanges and get the updated bios settings and set the node status to\nmanageable. If value is not changed set the node to failed state after\nwaiting configured timeout time.\n\nStory: 2008058\nTask: 40739\nDepends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 18, 'created': '2020-10-06 10:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cefbd82928970d6d3151fb6c325d19435b787b6a', 'message': 'Fix idrac-wsman bios factory-reset setting\n\nWe have not been able to identify when the restored factory default\nsettings are deterministically available to be read from the iDRAC\nfollowing a successful factory reset.\n\nFetching the time system inventory was last performed by the iDRAC.\nThat is done during system restart and referred to as Collect System\nInventory on Restart (CSIOR). Before and after factory reset if it\nchanges and get the updated bios settings and set the node status to\nmanageable. If value is not changed set the node to failed state after\nwaiting configured timeout time.\n\nStory: 2008058\nTask: 40739\nDepends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 19, 'created': '2020-11-17 07:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b60f5274c31c2bbd523a70d6cc483fad8b1fe1bd', 'message': 'Fix idrac-wsman bios factory-reset setting\n\nWe have not been able to identify when the restored factory default\nsettings are deterministically available to be read from the iDRAC\nfollowing a successful factory reset.\n\nFetching the time system inventory was last performed by the iDRAC.\nThat is done during system restart and referred to as Collect System\nInventory on Restart (CSIOR). Before and after factory reset if it\nchanges and get the updated bios settings and set the node status to\nmanageable. If value is not changed set the node to failed state after\nwaiting configured timeout time.\n\nStory: 2008058\nTask: 40739\nDepends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 20, 'created': '2020-11-17 11:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f98b356a76b0376aea9a18dc2bf9dfd1b2162c11', 'message': 'Fix idrac-wsman bios factory-reset setting\n\nWe have not been able to identify when the restored factory default\nsettings are deterministically available to be read from the iDRAC\nfollowing a successful factory reset.\n\nFetching the time system inventory was last performed by the iDRAC.\nThat is done during system restart and referred to as Collect System\nInventory on Restart (CSIOR). Before and after factory reset if it\nchanges and get the updated bios settings and set the node status to\nmanageable. If value is not changed set the node to failed state after\nwaiting configured timeout time.\n\nStory: 2008058\nTask: 40739\nDepends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 21, 'created': '2021-03-30 18:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a86aab0e34253e9a3e8b08513e0d9d34eb18ef76', 'message': 'Fix idrac-wsman bios factory-reset setting\n\nWe have not been able to identify when the restored factory default\nsettings are deterministically available to be read from the iDRAC\nfollowing a successful factory reset.\n\nFetching the time system inventory was last performed by the iDRAC.\nThat is done during system restart and referred to as Collect System\nInventory on Restart (CSIOR). Before and after factory reset if it\nchanges and get the updated bios settings and set the node status to\nmanageable. If value is not changed set the node to failed state after\nwaiting configured timeout time.\n\nStory: 2008058\nTask: 40739\nDepends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 22, 'created': '2021-04-01 07:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2dd714e0c2b7e52a944f5d4ed673e676caaefcd3', 'message': 'Fix idrac-wsman bios factory-reset setting\n\nWe have not been able to identify when the restored factory default\nsettings are deterministically available to be read from the iDRAC\nfollowing a successful factory reset.\n\nFetching the time system inventory was last performed by the iDRAC.\nThat is done during system restart and referred to as Collect System\nInventory on Restart (CSIOR). Before and after factory reset if it\nchanges and get the updated bios settings and set the node status to\nmanageable. If value is not changed set the node to failed state after\nwaiting configured timeout time.\n\nStory: 2008058\nTask: 40739\nDepends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 23, 'created': '2021-04-06 15:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5d5f2061de87cb6aa1a52d7b2ab203f1cd7688be', 'message': 'Fix idrac-wsman bios factory-reset setting\n\nWe have not been able to identify when the restored factory default\nsettings are deterministically available to be read from the iDRAC\nfollowing a successful factory reset.\n\nFetching the time system inventory was last performed by the iDRAC.\nThat is done during system restart and referred to as Collect System\nInventory on Restart (CSIOR). Before and after factory reset if it\nchanges and get the updated bios settings and set the node status to\nmanageable. If value is not changed set the node to failed state after\nwaiting configured timeout time.\n\nStory: 2008058\nTask: 40739\nDepends-On: https://review.opendev.org/#/c/748571/\n\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n'}, {'number': 24, 'created': '2021-04-07 04:16:35.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_bios.py', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/drivers/modules/drac/bios.py', 'ironic/conf/drac.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'releasenotes/notes/bug-2008058-fix-factory-reset-status.yaml-52a6119b46e33b37.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/82627acadc635f32b5d06ab4c97029e2a3551e35', 'message': ""Fix idrac-wsman BIOS factory_reset result finding\n\nThis change fixes the idrac-wsman BIOS hardware interface\nimplementation's determination of the result of its factory_reset\ncleaning/deploy step, and, on success, updating of the cached BIOS\nsettings to their defaults. It uses a deterministic means of identifying\nwhen the reset has successfully completed and the default BIOS settings\nare available to be read.\n\nThe time when the iDRAC last performed a system inventory is referred to\nas Collect System Inventory on Restart (CSIOR). CSIOR updates the values\nof BIOS settings that can be read from the iDRAC. The interface reads\nthe CSIOR and records it on the ironic bare metal node before requesting\nthe factory reset and rebooting the system to process the request.\nFollowing the system reboot, the CSIOR is periodically read until its\nvalue changes from its recorded value. If that occurs before the\nconfigured amount of time has passed, the step succeeds and the cached\nBIOS settings are updated. Otherwise, the step fails and the node is\nplaced in the failed state.\n\nStory: 2008058\nTask: 40739\nDepends-On: https://review.opendev.org/c/openstack/python-dracclient/+/748571\nChange-Id: I11b92612d6686b7133ddef67068664c9b81df30e\n""}]",195,748696,82627acadc635f32b5d06ab4c97029e2a3551e35,182,15,24,32108,,,0,"Fix idrac-wsman BIOS factory_reset result finding

This change fixes the idrac-wsman BIOS hardware interface
implementation's determination of the result of its factory_reset
cleaning/deploy step, and, on success, updating of the cached BIOS
settings to their defaults. It uses a deterministic means of identifying
when the reset has successfully completed and the default BIOS settings
are available to be read.

The time when the iDRAC last performed a system inventory is referred to
as Collect System Inventory on Restart (CSIOR). CSIOR updates the values
of BIOS settings that can be read from the iDRAC. The interface reads
the CSIOR and records it on the ironic bare metal node before requesting
the factory reset and rebooting the system to process the request.
Following the system reboot, the CSIOR is periodically read until its
value changes from its recorded value. If that occurs before the
configured amount of time has passed, the step succeeds and the cached
BIOS settings are updated. Otherwise, the step fails and the node is
placed in the failed state.

Story: 2008058
Task: 40739
Depends-On: https://review.opendev.org/c/openstack/python-dracclient/+/748571
Change-Id: I11b92612d6686b7133ddef67068664c9b81df30e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/748696/12 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_bios.py', 'ironic/drivers/modules/drac/bios.py', 'ironic/conf/drac.py']",3,1f8789541ec16fa5cc9033aeb7061d5c7700a469,fix-wsman-factory-reset," 'successfully.')), cfg.IntOpt('config_reboot_timeout', default=600, min=1, help=_('Interval (in seconds) Maximum timeout node to reboot' 'if it is not rebooted in this interval after factory' 'reset set the node to fail state.')) ", 'successfully.')),154,18
openstack%2Fkolla-ansible~stable%2Fvictoria~I6db37576118cf5cff4ba7a63e179f0ab37467d22,openstack/kolla-ansible,stable/victoria,I6db37576118cf5cff4ba7a63e179f0ab37467d22,Drop the NTP service precheck,MERGED,2021-04-08 10:18:44.000000000,2021-04-08 15:41:12.000000000,2021-04-08 15:39:18.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-08 10:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4367166bee2072ae330789cac871b741658f8bce', 'message': 'Drop the NTP service precheck\n\nWe can\'t check this with timedatectl as it is not aware\nof any ""non-native"" NTP daemon.\n\nThis could be a warning-level message but we don\'t have\nsuch messages from the prechecks.\n\nCloses-Bug: #1922721\nChange-Id: I6db37576118cf5cff4ba7a63e179f0ab37467d22\n(cherry picked from commit 04315751a468d921acf529400f1af528770cd2da)\n'}, {'number': 2, 'created': '2021-04-08 11:57:52.000000000', 'files': ['ansible/roles/prechecks/tasks/timesync_checks.yml', 'releasenotes/notes/bug-1922721-19163cfb491d0035.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1b40f0dc9e8d564234613d873e192832f6dcf2e8', 'message': 'Drop the NTP service precheck\n\nWe can\'t check this with timedatectl as it is not aware\nof any ""non-native"" NTP daemon.\n\nThis could be a warning-level message but we don\'t have\nsuch messages from the prechecks.\n\nCloses-Bug: #1922721\nChange-Id: I6db37576118cf5cff4ba7a63e179f0ab37467d22\n(cherry picked from commit 04315751a468d921acf529400f1af528770cd2da)\n'}]",0,785376,1b40f0dc9e8d564234613d873e192832f6dcf2e8,16,5,2,30491,,,0,"Drop the NTP service precheck

We can't check this with timedatectl as it is not aware
of any ""non-native"" NTP daemon.

This could be a warning-level message but we don't have
such messages from the prechecks.

Closes-Bug: #1922721
Change-Id: I6db37576118cf5cff4ba7a63e179f0ab37467d22
(cherry picked from commit 04315751a468d921acf529400f1af528770cd2da)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/76/785376/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prechecks/tasks/timesync_checks.yml', 'releasenotes/notes/bug-1922721-19163cfb491d0035.yaml']",2,4367166bee2072ae330789cac871b741658f8bce,bug/1922721-stable/victoria,"--- fixes: - | Fixes an issue preventing prechecks from succeeding when ""non-native"" NTP daemon was used, such as ``ntpd` as opposed to ``systemd-timesyncd`` on a Debian/Ubuntu system or to ``chronyd`` on a CentOS/RHEL system. `LP#1922721 <https://launchpad.net/bugs/1922721>`__ ",,7,10
openstack%2Fdevstack~master~I356c224d938e1aa59c8589387a03682b3ec6e23d,openstack/devstack,master,I356c224d938e1aa59c8589387a03682b3ec6e23d,Configure Cinder backup driver,MERGED,2021-01-11 18:51:29.000000000,2021-04-08 15:36:28.000000000,2021-04-08 15:33:49.000000000,"[{'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 26159}, {'_account_id': 30491}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-01-11 18:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5c5490f1df560c78ae8deb427254eac1237947c7', 'message': 'DNM: Set up Cinder S3 backup driver\n\nThis is a temporal patch to verify cinder S3 backup driver with Swift\nfor the patch, which is  under review at:\n  https://review.opendev.org/c/openstack/cinder/+/746561\n\nChange-Id: I356c224d938e1aa59c8589387a03682b3ec6e23d\n'}, {'number': 2, 'created': '2021-01-12 02:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/91ac7d502569598c6705e2b66857a178db8d7a3c', 'message': 'DNM: Set up Cinder S3 backup driver\n\nThis is a temporal patch to verify cinder S3 backup driver with Swift\nfor the patch, which is  under review at:\n  https://review.opendev.org/c/openstack/cinder/+/746561\n\nChange-Id: I356c224d938e1aa59c8589387a03682b3ec6e23d\n'}, {'number': 3, 'created': '2021-01-22 22:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cf029944bd387348ebc48ef8ffcdc9c3bb4ca091', 'message': 'WIP: Configure Cinder backup driver\n\nThis patch adds a new environment variable, CINDER_BACKUP_DRIVER for\nconfiguring cinder backup driver. This gets cinder backup driver\nconfigurable with a similar pattern to cinder backends.\n\nThe following backup drivers can be configured:\nswift:\nThis is the default backup driver.\nceph:\nThis already can be configured if ceph backend driver is enabled. For\nbackward compatibility, ceph backup driver is used if ceph backend\ndriver is enabled and no backup driver is specified.\ns3:\nThis backup driver gets configurable with this patch.\n\nChange-Id: I356c224d938e1aa59c8589387a03682b3ec6e23d\n'}, {'number': 4, 'created': '2021-01-29 23:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d6d6e87d5f9ec582c82e2b7f561d97e4c353f5c6', 'message': ""Configure Cinder backup driver\n\nThis patch adds a new environment variable, CINDER_BACKUP_DRIVER for\nconfiguring cinder backup driver. This gets cinder backup driver\nconfigurable with a similar pattern to cinder backends.\n\nThe following backup drivers can be configured:\n  swift:\n  This is the default backup driver.\n  ceph:\n  This already can be configured if ceph backend driver is enabled. For\n  backward compatibility, ceph backup driver is used if ceph backend\n  driver is enabled and no backup driver is specified.\n  s3_swift:\n  The s3 backup driver gets configurable with this patch. By specifying\n  's3_swift', the driver is configured for swift s3api.\n\nIn the future, lib/cinder_backups/s3 should be created separatedly for\nexternal S3 compatible storage. This file will just set given parameters\nsuch as a URL and credentials.\n\nChange-Id: I356c224d938e1aa59c8589387a03682b3ec6e23d\n""}, {'number': 5, 'created': '2021-02-22 19:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1a9fcc0203161f20ac05c59b8c8a6b1de13167c9', 'message': ""Configure Cinder backup driver\n\nThis patch adds a new environment variable, CINDER_BACKUP_DRIVER for\nconfiguring cinder backup driver used when c-bak service is enabled.\nThis gets cinder backup driver configurable with a similar pattern to\ncinder backends.\n\nThe following backup drivers can be configured:\n  swift:\n  This is the default backup driver.\n  ceph:\n  This already can be configured if ceph backend driver is enabled. For\n  backward compatibility, ceph backup driver is used if ceph backend\n  driver is enabled and no backup driver is specified.\n  s3_swift:\n  The s3 backup driver gets configurable with this patch. By specifying\n  's3_swift', the driver is configured for swift s3api.\n\nIn the future, lib/cinder_backups/s3 should be created separatedly for\nexternal S3 compatible storage. This file will just set given parameters\nsuch as a URL and credentials.\n\nChange-Id: I356c224d938e1aa59c8589387a03682b3ec6e23d\n""}, {'number': 6, 'created': '2021-03-31 19:13:58.000000000', 'files': ['lib/cinder_backups/s3_swift', 'lib/cinder', 'lib/cinder_backups/swift', 'lib/cinder_backups/ceph', 'lib/cinder_backends/ceph'], 'web_link': 'https://opendev.org/openstack/devstack/commit/01a84d2d03cd871fb8734d5fdc9d149b9487e3e4', 'message': ""Configure Cinder backup driver\n\nThis patch adds a new environment variable, CINDER_BACKUP_DRIVER for\nconfiguring cinder backup driver used when c-bak service is enabled.\nThis gets cinder backup driver configurable with a similar pattern to\ncinder backends. Although the current configurable backup drivers don't\nneed cleanup functions, the interface for cleanup is prepared for the\nfuture.\n\nThe following backup drivers can be configured:\n  swift:\n  This is the default backup driver.\n  ceph:\n  This already can be configured if ceph backend driver is enabled. For\n  backward compatibility, ceph backup driver is used if ceph backend\n  driver is enabled and no backup driver is specified.\n  s3_swift:\n  The s3 backup driver gets configurable with this patch. By specifying\n  's3_swift', the driver is configured for swift s3api.\n\nIn the future, lib/cinder_backups/s3 should be created separatedly for\nexternal S3 compatible storage. This file will just set given parameters\nsuch as a URL and credentials.\n\nChange-Id: I356c224d938e1aa59c8589387a03682b3ec6e23d\n""}]",10,770171,01a84d2d03cd871fb8734d5fdc9d149b9487e3e4,43,9,6,13689,,,0,"Configure Cinder backup driver

This patch adds a new environment variable, CINDER_BACKUP_DRIVER for
configuring cinder backup driver used when c-bak service is enabled.
This gets cinder backup driver configurable with a similar pattern to
cinder backends. Although the current configurable backup drivers don't
need cleanup functions, the interface for cleanup is prepared for the
future.

The following backup drivers can be configured:
  swift:
  This is the default backup driver.
  ceph:
  This already can be configured if ceph backend driver is enabled. For
  backward compatibility, ceph backup driver is used if ceph backend
  driver is enabled and no backup driver is specified.
  s3_swift:
  The s3 backup driver gets configurable with this patch. By specifying
  's3_swift', the driver is configured for swift s3api.

In the future, lib/cinder_backups/s3 should be created separatedly for
external S3 compatible storage. This file will just set given parameters
such as a URL and credentials.

Change-Id: I356c224d938e1aa59c8589387a03682b3ec6e23d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/71/770171/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/cinder'],1,5c5490f1df560c78ae8deb427254eac1237947c7,feature/support-s3-backup-driver," if is_service_enabled c-bak && is_service_enabled s3api ; then iniset $CINDER_CONF DEFAULT backup_driver ""cinder.backup.drivers.s3.S3BackupDriver"" iniset $CINDER_CONF DEFAULT backup_s3_endpoint_url ""$SWIFT_SERVICE_PROTOCOL://$SERVICE_HOST:$SWIFT_DEFAULT_BIND_PORT"" openstack ec2 credential create iniset $CINDER_CONF DEFAULT backup_s3_store_access_key ""$(openstack ec2 credential list -c Access -f value)"" iniset $CINDER_CONF DEFAULT backup_s3_store_secret_key ""$(openstack ec2 credential list -c Secret -f value)"" fi",,8,0
openstack%2Fvalidations-common~master~Iff2d0743a7068e67f69d264600fcb830251a088f,openstack/validations-common,master,Iff2d0743a7068e67f69d264600fcb830251a088f,Simple tests for validation_output callback.,MERGED,2021-02-08 10:54:22.000000000,2021-04-08 15:27:05.000000000,2021-04-08 15:27:05.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-02-08 10:54:22.000000000', 'files': ['validations_common/tests/callback_plugins/test_validation_output.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/8d587ceb12845b4033c12af050e231de1dde0d01', 'message': 'Simple tests for validation_output callback.\n\nChange-Id: Iff2d0743a7068e67f69d264600fcb830251a088f\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}]",0,774434,8d587ceb12845b4033c12af050e231de1dde0d01,10,6,1,32926,,,0,"Simple tests for validation_output callback.

Change-Id: Iff2d0743a7068e67f69d264600fcb830251a088f
Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/34/774434/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/tests/callback_plugins/test_validation_output.py'],1,8d587ceb12845b4033c12af050e231de1dde0d01,unittests/validationoutput,"from unittest import mock from ansible.executor.stats import AggregateStats from ansible.parsing.ajson import AnsibleJSONEncoder from ansible.playbook import Playbook from ansible.plugins.callback import CallbackBasefrom validations_common.callback_plugins import validation_output class MockStats(mock.MagicMock): """""" MockStats mimics some behavior of the ansible.executor.stats.AggregateStats. Othewise it behaves like an ordinary MagicMock """""" summary = {} def summarize(self, anything): return self.summary.get(anything, self.summary) class DummyResults(dict): """""" DummyResults is used in tests as a substitute, mimicking the behavior of the ansible.executor.task_results.TaskResults class. """""" def __init__(self): self.task_fields = {} def test_callback_instantiation(self): """""" Verifying that the CallbackModule is instantiated properly. Test checks presence of CallbackBase in the inheritance chain, in order to ensure that folowing tests are performed with the correct assumptions. """""" callback = validation_output.CallbackModule() self.assertEqual(type(callback).__mro__[1], CallbackBase) """""" Every ansible callback needs to define variable with name and version. The validation_output plugin also defines CALLBACK_TYPE, so we need to check it too. """""" self.assertIn('CALLBACK_NAME', dir(callback)) self.assertIn('CALLBACK_VERSION', dir(callback)) self.assertIn('CALLBACK_TYPE', dir(callback)) self.assertEqual(callback.CALLBACK_NAME, 'validation_output') self.assertIsInstance(callback.CALLBACK_VERSION, float) self.assertEqual(callback.CALLBACK_TYPE, 'stdout') @mock.patch('ansible.constants.COLOR_ERROR') @mock.patch('ansible.constants.COLOR_WARN') @mock.patch('pprint.pprint') @mock.patch( 'validations_common.callback_plugins.validation_output.FAILURE_TEMPLATE', create=True) @mock.patch( 'ansible.utils.display.Display.display', create=True) def test_print_failure_message_script(self, mock_display, mock_failure_template, mock_pprint, mock_color_warn, mock_color_error): """""" The test places assertions on the values of arguments passed to the format method of the FAILURE_TEMPLATE obj, and the display method of the ansible.utils.display.Display class. As such it mostly deals with string manipulation, and is therefore sensitive to localisation and formatting changes, including the color of the output text. """""" mock_abridged_result = mock.MagicMock() mock_results = DummyResults() mock_results._task_fields = { 'action': 'script', 'args': '_raw_params' } host_name = 'foo' task_name = 'bar' mock_results['results'] = [ { 'foo': 'bar', 'failed': 5 } ] mock_results['rc'] = 'fizz' mock_results['invocation'] = { 'module_args': { '_raw_params': 'buzz' }, } callback = validation_output.CallbackModule() callback.print_failure_message( host_name, task_name, mock_results, mock_abridged_result ) mock_failure_template.format.assert_called_once_with( task_name, host_name, 'Script `buzz` exited with code: fizz' ) mock_display.assert_called_once_with( mock_failure_template.format(), color=mock_color_error ) @mock.patch('ansible.constants.COLOR_ERROR') @mock.patch('ansible.constants.COLOR_WARN') @mock.patch('pprint.pprint') @mock.patch( 'validations_common.callback_plugins.validation_output.FAILURE_TEMPLATE', create=True) @mock.patch( 'ansible.utils.display.Display.display', create=True) def test_print_failure_message_rc_and_cmd(self, mock_display, mock_failure_template, mock_pprint, mock_color_warn, mock_color_error): """""" The test places assertions on the values of arguments passed to the format method of the FAILURE_TEMPLATE obj, and the display method of the ansible.utils.display.Display class. As such it mostly deals with string manipulation, and is therefore sensitive to localisation and formatting changes, including the color of the output text. The test assumes that both 'rc' and 'cmd' keys are present within the results object. """""" mock_abridged_result = mock.MagicMock() host_name = 'foo' task_name = 'bar' result_dict = { 'results': [ { 'foo': 'bar', 'failed': 5 } ], 'cmd': 'fizz', 'rc': 'buzz' } callback = validation_output.CallbackModule() callback.print_failure_message( host_name, task_name, result_dict, mock_abridged_result ) mock_failure_template.format.assert_called_once_with( task_name, host_name, ""Command `fizz` exited with code: buzz"" ) mock_display.assert_called_once_with( mock_failure_template.format(), color=mock_color_error ) @mock.patch('ansible.constants.COLOR_ERROR') @mock.patch('ansible.constants.COLOR_WARN') @mock.patch('pprint.pprint') @mock.patch( 'validations_common.callback_plugins.validation_output.FAILURE_TEMPLATE', create=True) @mock.patch( 'ansible.utils.display.Display.display', create=True) def test_print_failure_message_unknown_error_no_warn(self, mock_display, mock_failure_template, mock_pprint, mock_color_warn, mock_color_error): """""" The test places assertions on the values of arguments passed to the format method of the FAILURE_TEMPLATE obj, the display method of the ansible.utils.display.Display class and the pprint method. As such it mostly deals with string manipulation, and is therefore sensitive to localisation and formatting changes, including the color of the output text. Test assumes that neither pair of 'rc' and 'cmd' keys, nor the 'msg' key, exists within the results object. Therefore an Unknown error is assumed to have occured and output is adjusted accordignly. Furthermore, the test assumes that in absence of 'warnings' key, no warnings will be passed to the display method. """""" mock_abridged_result = mock.MagicMock() host_name = 'foo' task_name = 'bar' result_dict = { 'results': [ { 'foo': 'bar', 'failed': 5 } ] } callback = validation_output.CallbackModule() callback.print_failure_message( host_name, task_name, result_dict, mock_abridged_result ) mock_failure_template.format.assert_called_once_with( task_name, host_name, ""Unknown error"" ) mock_display.assert_called_once_with( mock_failure_template.format(), color=mock_color_error ) mock_pprint.assert_called_once_with( mock_abridged_result, indent=4) @mock.patch('ansible.constants.COLOR_ERROR') @mock.patch('ansible.constants.COLOR_WARN') @mock.patch('pprint.pprint') @mock.patch( 'validations_common.callback_plugins.validation_output.FAILURE_TEMPLATE', create=True) @mock.patch( 'ansible.utils.display.Display.display', create=True) def test_print_failure_message_unknown_error_warn(self, mock_display, mock_failure_template, mock_pprint, mock_color_warn, mock_color_error): """""" The test places assertions on the values of arguments passed to the format method of the FAILURE_TEMPLATE obj, the display method of the ansible.utils.display.Display class and the pprint method. As such it mostly deals with string manipulation, and is therefore sensitive to localisation and formatting changes, including the color of the output text. Test assumes that neither pair of 'rc' and 'cmd' keys, nor the 'msg' key, exists within the results object. Therefore an Unknown error is assumed to have occured and output is adjusted accordignly. Furthermore, the test assumes that when the 'warnings' key is present, the display method will be called with list entries as arguments. """""" mock_abridged_result = mock.MagicMock() host_name = 'foo' task_name = 'bar' result_dict = { 'results': [ { 'foo': 'bar', 'failed': 5 } ], 'warnings': [ 'foo' ] } callback = validation_output.CallbackModule() callback.print_failure_message( host_name, task_name, result_dict, mock_abridged_result) mock_failure_template.format.assert_called_once_with( task_name, host_name, ""Unknown error"") mock_display.assert_has_calls( [ mock.call( mock_failure_template.format(), color=mock_color_error ), mock.call( ""* foo "", color=mock_color_warn ) ] ) mock_pprint.assert_called_once_with( mock_abridged_result, indent=4) @mock.patch('ansible.constants.COLOR_WARN') @mock.patch( 'validations_common.callback_plugins.validation_output.WARNING_TEMPLATE', create=True) @mock.patch( 'validations_common.callback_plugins.validation_output.CallbackModule._dump_results', return_value={'foo': 'bar'}) @mock.patch( 'ansible.utils.display.Display.display', create=True) def test_v2_runner_on_ok_warnings(self, mock_display, mock_dump_results, mock_warn_template, mock_error_color): """""" The test asserts on argumets passed to print_failure_message method. In order to check the call arguments we need initialize them before passing the mock_results to the tested method. It is a bit hacky, but the most simple way I know how to make sure the relevant mocks ids don't change. If you know how to improve it, go for it. """""" mock_results = mock.MagicMock() result_dict = { 'results': [ { 'foo': 'bar', 'failed': 5 } ], 'warnings': [ 'foo' ] } mock_results._result = result_dict mock_results._host() mock_results._task.get_name() mock_results._task_fields() callback = validation_output.CallbackModule() callback.v2_runner_on_ok(mock_results) mock_dump_results.assert_called_once_with(result_dict) mock_warn_template.format.assert_called_once_with( mock_results._task.get_name(), mock_results._host, 'foo\n') mock_display.assert_called_once_with( mock_warn_template.format(), color=mock_error_color) @mock.patch('ansible.constants.COLOR_OK') @mock.patch( 'validations_common.callback_plugins.validation_output.DEBUG_TEMPLATE', create=True) @mock.patch( 'validations_common.callback_plugins.validation_output.CallbackModule._dump_results', return_value={'foo': 'bar'}) @mock.patch( 'ansible.utils.display.Display.display', create=True) def test_v2_runner_on_ok_debug_vars(self, mock_display, mock_dump_results, mock_debug_template, mock_ok_color): """""" The test asserts on argumets passed to print_failure_message method. In order to check the call arguments we need initialize them before passing the mock_results to the tested method. It is a bit hacky, but the most simple way I know how to make sure the relevant mocks ids don't change. If you know how to improve it, go for it. """""" mock_results = mock.MagicMock() result_dict = { 'results': [ { 'foo': 'bar', 'failed': 5 } ], 'fizz': 'buzz' } mock_results._result = result_dict mock_results._host() mock_results._task.get_name() mock_results._task_fields = { 'action': 'debug', 'args': {'var': 'fizz'} } callback = validation_output.CallbackModule() callback.v2_runner_on_ok(mock_results) mock_dump_results.assert_called_once_with(result_dict) mock_debug_template.format.assert_called_once_with( mock_results._host, ""fizz: buzz"" ) mock_display.assert_called_once_with( mock_debug_template.format(), color=mock_ok_color) @mock.patch('ansible.constants.COLOR_OK') @mock.patch( 'validations_common.callback_plugins.validation_output.DEBUG_TEMPLATE', create=True) @mock.patch( 'validations_common.callback_plugins.validation_output.CallbackModule._dump_results', return_value={'foo': 'bar'}) @mock.patch( 'ansible.utils.display.Display.display', create=True) def test_v2_runner_on_ok_debug_msg(self, mock_display, mock_dump_results, mock_debug_template, mock_ok_color): """""" The test asserts on argumets passed to print_failure_message method. In order to check the call arguments we need initialize them before passing the mock_results to the tested method. It is a bit hacky, but the most simple way I know how to make sure the relevant mocks ids don't change. If you know how to improve it, go for it. """""" mock_results = mock.MagicMock() result_dict = { 'results': [ { 'foo': 'bar', 'failed': 5 } ] } mock_results._result = result_dict mock_results._host() mock_results._task.get_name() mock_results._task_fields = { 'action': 'debug', 'args': {'msg': 'fizz'} } callback = validation_output.CallbackModule() callback.v2_runner_on_ok(mock_results) mock_dump_results.assert_called_once_with(result_dict) mock_debug_template.format.assert_called_once_with( mock_results._host, ""Message: fizz"" ) mock_display.assert_called_once_with( mock_debug_template.format(), color=mock_ok_color) @mock.patch( 'validations_common.callback_plugins.validation_output.CallbackModule._dump_results', return_value={'foo': 'bar'}) @mock.patch('validations_common.callback_plugins.validation_output.CallbackModule.print_failure_message') def test_v2_runner_on_failed_one_result(self, mock_print, mock_dump_results): """""" The test asserts on argumets passed to print_failure_message method. In order to check the call arguments we need initialize them before passing the mock_results to the tested method. It is a bit hacky, but the most simple way I know how to make sure the relevant mocks ids don't change. If you know how to improve it, go for it. """""" mock_results = mock.MagicMock() result_dict = { 'results': [ { 'foo': 'bar', 'failed': 5 } ] } mock_results._result = result_dict mock_results._host() mock_results._task.get_name() callback = validation_output.CallbackModule() callback.v2_runner_on_failed(mock_results) mock_print.assert_called_once_with( mock_results._host, mock_results._task.get_name(), { 'foo': 'bar', 'failed': 5 }, { 'foo': 'bar', 'failed': 5 } ) @mock.patch( 'validations_common.callback_plugins.validation_output.CallbackModule._dump_results', return_value={'foo': 'bar'}) @mock.patch('validations_common.callback_plugins.validation_output.CallbackModule.print_failure_message') def test_v2_runner_on_failed_no_result(self, mock_print, mock_dump_results): """""" The test asserts on argumets passed to print_failure_message method. In order to check the call arguments we need initialize them before passing the mock_results to the tested method. It is a bit hacky, but the most simple way I know how to make sure the relevant mocks ids don't change. If you know how to improve it, go for it. """""" mock_results = mock.MagicMock() result_dict = {} mock_results._result = result_dict mock_results._host() mock_results._task.get_name() callback = validation_output.CallbackModule() callback.v2_runner_on_failed(mock_results) mock_print.assert_called_once_with( mock_results._host, mock_results._task.get_name(), {}, { 'foo': 'bar' } ) @mock.patch('validations_common.callback_plugins.validation_output.CallbackModule.print_failure_message') def test_v2_runner_on_unreachable(self, mock_print): """""" The test asserts on argumets passed to print_failure_message method. In order to check the call arguments we need initialize them before passing the mock_results to the tested method. It is a bit hacky, but the most simple way I know how to make sure the relevant mocks ids don't change. If you know how to improve it, go for it. """""" mock_results = mock.MagicMock() results_dict = {'msg': 'The host is unreachable.'} mock_results._host() mock_results._task.get_name() callback = validation_output.CallbackModule() callback.v2_runner_on_unreachable(mock_results) mock_print.assert_called_once_with( mock_results._host, mock_results._task.get_name(), results_dict, results_dict) @mock.patch('ansible.constants.COLOR_ERROR') @mock.patch('ansible.constants.COLOR_OK') @mock.patch('validations_common.callback_plugins.validation_output.print') @mock.patch.object(CallbackBase, '_display.display', create=True) def test_v2_playbook_on_stats_no_hosts(self, mock_display, mock_print, mock_color_ok, mock_color_error): """""" In case we don't supply any hosts, we expect the method not to call display or related methods and attributes even once. The final call to print function is not an ideal place for assertion, as the string might get localised and/or adjusted in the future. """""" callback = validation_output.CallbackModule() dummy_stats = mock.MagicMock() callback.v2_playbook_on_stats(dummy_stats) mock_color_ok.assert_not_called() mock_color_error.assert_not_called() mock_display.assert_not_called() mock_print.assert_called_once() @mock.patch('ansible.constants.COLOR_ERROR') @mock.patch('ansible.constants.COLOR_OK') @mock.patch('validations_common.callback_plugins.validation_output.print') @mock.patch( 'validations_common.callback_plugins.validation_output.sorted', return_value=['bar', 'foo']) @mock.patch('ansible.utils.display.Display.display') @mock.patch('ansible.plugins.callback.CallbackBase') def test_v2_playbook_on_stats_no_fail(self, mock_callback_base, mock_display, mock_sorted, mock_print, mock_color_ok, mock_color_error): """""" When we have hosts and their state is not specified, we expect them to be considered a `pass` and the display method to be called with appropriate arguments. The final call to print function is not an ideal place for assertion, as the string might get localised and/or adjusted in the future. """""" callback = validation_output.CallbackModule() dummy_stats = MockStats() callback.v2_playbook_on_stats(dummy_stats) mock_display.assert_called_with('* foo', color=mock_color_ok) mock_print.assert_called_once() @mock.patch('ansible.constants.COLOR_ERROR') @mock.patch('ansible.constants.COLOR_OK') @mock.patch('validations_common.callback_plugins.validation_output.print') @mock.patch( 'validations_common.callback_plugins.validation_output.sorted', return_value=['bar', 'buzz', 'fizz', 'foo']) @mock.patch('ansible.utils.display.Display.display') @mock.patch('ansible.plugins.callback.CallbackBase') def test_v2_playbook_on_stats_some_fail(self, mock_callback_base, mock_display, mock_sorted, mock_print, mock_color_ok, mock_color_error): """""" When at least one host is specified as failure and/or unreachable we expect it to be considered a `failure` and the display method to be called with the appropriate arguments in the proper order. The final call to print function is not an ideal place for assertion, as the string might get localised and/or adjusted in the future. """""" callback = validation_output.CallbackModule() dummy_stats = MockStats() dummy_stats.summary = { 'fizz': { 'failures': 5 } } expected_calls = [ mock.call('* fizz', color=mock_color_error), mock.call('* bar', color=mock_color_ok), mock.call('* buzz', color=mock_color_ok), mock.call('* foo', color=mock_color_ok) ] callback.v2_playbook_on_stats(dummy_stats) mock_display.assert_has_calls(expected_calls) mock_print.assert_called() @mock.patch('ansible.constants.COLOR_ERROR') @mock.patch('ansible.constants.COLOR_OK') @mock.patch('validations_common.callback_plugins.validation_output.print') @mock.patch( 'validations_common.callback_plugins.validation_output.sorted', return_value=['bar', 'buzz', 'fizz', 'foo']) @mock.patch('ansible.utils.display.Display.display') @mock.patch('ansible.plugins.callback.CallbackBase') def test_v2_playbook_on_stats_all_fail(self, mock_callback_base, mock_display, mock_sorted, mock_print, mock_color_ok, mock_color_error): """""" When at all hosts are specified as failure and/or unreachable we expect them to be considered a `failure` and the display method to be called with the appropriate arguments in the proper order. The final call to print function is not an ideal place for assertion, as the string might get localised and/or adjusted in the future. """""" callback = validation_output.CallbackModule() dummy_stats = MockStats() dummy_stats.summary = { 'fizz': { 'failures': 5 }, 'foo': { 'failures': 5 }, 'bar': { 'failures': 5 }, 'buzz': { 'failures': 5 } } expected_calls = [ mock.call('* bar', color=mock_color_error), mock.call('* buzz', color=mock_color_error), mock.call('* fizz', color=mock_color_error), mock.call('* foo', color=mock_color_error) ] callback.v2_playbook_on_stats(dummy_stats) mock_display.assert_has_calls(expected_calls) mock_print.assert_called()",from unittest import mock,710,1
openstack%2Ftripleo-ansible~master~If5967a12e31033cc4f7c63565700450de78661df,openstack/tripleo-ansible,master,If5967a12e31033cc4f7c63565700450de78661df,Replace include: with include_tasks: in tripleo_container_manager,MERGED,2021-03-29 13:43:54.000000000,2021-04-08 15:26:58.000000000,2021-04-08 15:26:58.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-29 13:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cf46b7ad57cf033566fdba9d334c727a055c53da', 'message': 'DNM/DNR quick include test\n\nChange-Id: If5967a12e31033cc4f7c63565700450de78661df\n'}, {'number': 2, 'created': '2021-03-29 15:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/711e9968fc325c63ae901aeda5603800c0e0f598', 'message': 'DNM/DNR quick include test\n\nChange-Id: If5967a12e31033cc4f7c63565700450de78661df\n'}, {'number': 3, 'created': '2021-04-01 16:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9ece8a1218bb8314f11e29665a357445215de2d4', 'message': 'DNM/DNR quick include test\n\nChange-Id: If5967a12e31033cc4f7c63565700450de78661df\n'}, {'number': 4, 'created': '2021-04-02 06:35:33.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aad5ed7f9d95fc0607b7d7beb660979ef576a9e4', 'message': 'Replace include: with include_tasks: in tripleo_container_manager\n\nAccording to\nhttps://docs.ansible.com/ansible/latest/collections/ansible/builtin/include_module.html\nthe include directive is supported but they are looking at its removal\n(""This module will still be supported for some time but we are looking\nat deprecating it in the near future."").\n\nLet\'s switch this to include_tasks as this was the only user inside all\nof tripleo-ansible anyways.\n\nChange-Id: If5967a12e31033cc4f7c63565700450de78661df\n'}]",0,783651,aad5ed7f9d95fc0607b7d7beb660979ef576a9e4,23,4,4,20172,,,0,"Replace include: with include_tasks: in tripleo_container_manager

According to
https://docs.ansible.com/ansible/latest/collections/ansible/builtin/include_module.html
the include directive is supported but they are looking at its removal
(""This module will still be supported for some time but we are looking
at deprecating it in the near future."").

Let's switch this to include_tasks as this was the only user inside all
of tripleo-ansible anyways.

Change-Id: If5967a12e31033cc4f7c63565700450de78661df
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/51/783651/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml'],1,cf46b7ad57cf033566fdba9d334c727a055c53da,dnm," include_tasks: file: podman/start_order.yml apply: order: ""{{ item.key }}"" data: ""{{ item.value }}"""," include: podman/start_order.yml order=""{{ item.key }}"" data=""{{ item.value }}""",5,1
openstack%2Ftripleo-docs~master~I40b87aad52e0eb538f8304917a22a0c3aad20a5e,openstack/tripleo-docs,master,I40b87aad52e0eb538f8304917a22a0c3aad20a5e,Update split-stack documentation,MERGED,2021-04-05 03:06:53.000000000,2021-04-08 15:24:51.000000000,2021-04-08 15:22:57.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 03:06:53.000000000', 'files': ['deploy-guide/source/features/split_stack.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/7f3d9c59f061ce79a32bf389b47bf90b637f98e2', 'message': 'Update split-stack documentation\n\nThis updates the docs to remove unused environment files and\nalso noting that this feature is not relevant since victoria.\n\nChange-Id: I40b87aad52e0eb538f8304917a22a0c3aad20a5e\n'}]",0,784720,7f3d9c59f061ce79a32bf389b47bf90b637f98e2,9,3,1,8833,,,0,"Update split-stack documentation

This updates the docs to remove unused environment files and
also noting that this feature is not relevant since victoria.

Change-Id: I40b87aad52e0eb538f8304917a22a0c3aad20a5e
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/20/784720/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/split_stack.rst'],1,7f3d9c59f061ce79a32bf389b47bf90b637f98e2,split-stack,".. note:: Since victoria TripleO provisions baremetal using a separate workflow :doc:`../provisioning/baremetal_provision` that does not involve Heat stack, making this feature irrelevant. ","An output on the ``overcloud-baremetal`` stack produces the contents of an environment file that needs to be passed to the ``overcloud-services`` command. Use the following command to save the output value:: openstack stack output show overcloud-baremetal DeployedServerEnvironment -f json -c output_value | jq .output_value > deployed-server-environment-output.json -e /usr/share/openstack-tripleo-heat-templates/environments/overcloud-services.yaml \ -e deployed-server-environment-output.jsonAlso, instead of passing the ``overcloud-baremetal.yaml`` environment, ``overcloud-services.yaml`` is now passed. Pass the ``deployed-server-environment-output.json`` environment file that was generated from the value of the ``DeployedServerEnvironment`` output of the ``overcloud-baremetal`` stack. ",4,15
openstack%2Freleases~master~I4a9723e4c55d1296b777dc72e08694d287cc0a35,openstack/releases,master,I4a9723e4c55d1296b777dc72e08694d287cc0a35,Re-tag train puppet-tripleo 11.6.1 to fix 11.6.0 packaging issue,MERGED,2021-04-07 15:53:01.000000000,2021-04-08 15:19:28.000000000,2021-04-08 08:54:09.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-07 15:53:01.000000000', 'files': ['deliverables/train/puppet-tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/54cd04814ca0f29f83e639195736dffa55bbd4b3', 'message': 'Re-tag train puppet-tripleo 11.6.1 to fix 11.6.0 packaging issue\n\nIn [1] we tagged 11.6.0 however as discussed there the commit was\nwrong. This tags 11.6.1 which points to the merged metadata\nbump in puppet-tripleo at [2].\n\n[1] https://review.opendev.org/c/openstack/releases/+/784445/1#message-98a8c2640e195c10da9d95faf42ce90f9a9b23b8\n[2] https://review.opendev.org/plugins/gitiles/openstack/puppet-tripleo/+/12267939c2388b9b21e1e6758de98950e0190de1/metadata.json\n\nChange-Id: I4a9723e4c55d1296b777dc72e08694d287cc0a35\n'}]",0,785228,54cd04814ca0f29f83e639195736dffa55bbd4b3,10,6,1,8449,,,0,"Re-tag train puppet-tripleo 11.6.1 to fix 11.6.0 packaging issue

In [1] we tagged 11.6.0 however as discussed there the commit was
wrong. This tags 11.6.1 which points to the merged metadata
bump in puppet-tripleo at [2].

[1] https://review.opendev.org/c/openstack/releases/+/784445/1#message-98a8c2640e195c10da9d95faf42ce90f9a9b23b8
[2] https://review.opendev.org/plugins/gitiles/openstack/puppet-tripleo/+/12267939c2388b9b21e1e6758de98950e0190de1/metadata.json

Change-Id: I4a9723e4c55d1296b777dc72e08694d287cc0a35
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/785228/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/puppet-tripleo.yaml'],1,54cd04814ca0f29f83e639195736dffa55bbd4b3,, - version: 11.6.1 projects: - repo: openstack/puppet-tripleo hash: 12267939c2388b9b21e1e6758de98950e0190de1,,4,0
openstack%2Freleases~master~Ic3b3f6734ddf2530379313e52d0cb6d2fe46ec8e,openstack/releases,master,Ic3b3f6734ddf2530379313e52d0cb6d2fe46ec8e,Re-tag victoria puppet-tripleo 13.6.1 fix 13.6.0 packaging issue,MERGED,2021-04-07 16:02:25.000000000,2021-04-08 15:19:22.000000000,2021-04-08 08:54:57.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-07 16:02:25.000000000', 'files': ['deliverables/victoria/puppet-tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b1dbda3200736a22755a1c626cc9566627796f30', 'message': 'Re-tag victoria puppet-tripleo 13.6.1 fix 13.6.0 packaging issue\n\nIn [1] we tagged 13.6.0 however as discussed there the commit was\nwrong. This tags 13.6.1 which points to the merged metadata\nbump in puppet-tripleo at [2].\n\n[1] https://review.opendev.org/c/openstack/releases/+/783707/2#message-199b0388164638ebdb1ffa07d94702654086d759\n[2] https://review.opendev.org/plugins/gitiles/openstack/puppet-tripleo/+/784948ec314186ab93af03f24e1418cea7610214/metadata.json\n\nChange-Id: Ic3b3f6734ddf2530379313e52d0cb6d2fe46ec8e\n'}]",0,785230,b1dbda3200736a22755a1c626cc9566627796f30,10,7,1,8449,,,0,"Re-tag victoria puppet-tripleo 13.6.1 fix 13.6.0 packaging issue

In [1] we tagged 13.6.0 however as discussed there the commit was
wrong. This tags 13.6.1 which points to the merged metadata
bump in puppet-tripleo at [2].

[1] https://review.opendev.org/c/openstack/releases/+/783707/2#message-199b0388164638ebdb1ffa07d94702654086d759
[2] https://review.opendev.org/plugins/gitiles/openstack/puppet-tripleo/+/784948ec314186ab93af03f24e1418cea7610214/metadata.json

Change-Id: Ic3b3f6734ddf2530379313e52d0cb6d2fe46ec8e
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/785230/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/puppet-tripleo.yaml'],1,b1dbda3200736a22755a1c626cc9566627796f30,, - version: 13.6.1 projects: - repo: openstack/puppet-tripleo hash: 784948ec314186ab93af03f24e1418cea7610214,,4,0
openstack%2Ftripleo-heat-templates~master~I7312601d0d1c045bbc36fc2280b21557976d7a7c,openstack/tripleo-heat-templates,master,I7312601d0d1c045bbc36fc2280b21557976d7a7c,Update AdminToken description,ABANDONED,2020-09-11 18:40:00.000000000,2021-04-08 14:53:55.000000000,,"[{'_account_id': 5046}, {'_account_id': 9954}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-11 18:40:00.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/35fe386ea12da31c3a80c3f5caee249b2a938358', 'message': 'Update AdminToken description\n\nA separate change removed the AdminToken from being set for\n``keystone.conf [DEFAULT] admin_token`, which was deprecated in keystone\nand also deprecated in puppet-keystone:\n\n  Id810756819505df1b21a86798bce1761515a001a\n\nWe should update the description since AdminToken no longer has any\nrelationship to the legacy configuration option or behavior prior to\n`keystone-manage bootstrap`.\n\nChange-Id: I7312601d0d1c045bbc36fc2280b21557976d7a7c\n'}]",0,751380,35fe386ea12da31c3a80c3f5caee249b2a938358,7,4,1,5046,,,0,"Update AdminToken description

A separate change removed the AdminToken from being set for
``keystone.conf [DEFAULT] admin_token`, which was deprecated in keystone
and also deprecated in puppet-keystone:

  Id810756819505df1b21a86798bce1761515a001a

We should update the description since AdminToken no longer has any
relationship to the legacy configuration option or behavior prior to
`keystone-manage bootstrap`.

Change-Id: I7312601d0d1c045bbc36fc2280b21557976d7a7c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/751380/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,35fe386ea12da31c3a80c3f5caee249b2a938358,, description: The keystone db password., description: The keystone auth secret and db password.,1,1
openstack%2Ftripleo-operator-ansible~master~I42a3cdee698dd6132cd31bbc6d9d21fdcca2ae2c,openstack/tripleo-operator-ansible,master,I42a3cdee698dd6132cd31bbc6d9d21fdcca2ae2c,New playbook to scale nodes,ABANDONED,2020-10-06 14:05:05.000000000,2021-04-08 14:53:22.000000000,,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17126}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-06 14:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/6752d1d1ea74dcca04be5c6493477bcf0365a6fd', 'message': 'New playbook to scale nodes\n\nThis playbook gathers the rpm package facts, copies the environment file\nto the undercloud, runs node imports,runs node introspection, generates\nparameters to adjust compute and controller count and runs overcloud\ndeployment.\n\nChange-Id: I42a3cdee698dd6132cd31bbc6d9d21fdcca2ae2c\n'}, {'number': 2, 'created': '2020-10-27 13:11:11.000000000', 'files': ['playbooks/scaling-nodes.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/03060e47b0f9b4fbee742aa83589daedf7f6a8bb', 'message': 'New playbook to scale nodes\n\nThis playbook gathers the rpm package facts, copies the environment file\nto the undercloud, runs node imports,runs node introspection, generates\nparameters to adjust compute and controller count and runs overcloud\ndeployment.\n\nChange-Id: I42a3cdee698dd6132cd31bbc6d9d21fdcca2ae2c\n'}]",3,756308,03060e47b0f9b4fbee742aa83589daedf7f6a8bb,7,4,2,32181,,,0,"New playbook to scale nodes

This playbook gathers the rpm package facts, copies the environment file
to the undercloud, runs node imports,runs node introspection, generates
parameters to adjust compute and controller count and runs overcloud
deployment.

Change-Id: I42a3cdee698dd6132cd31bbc6d9d21fdcca2ae2c
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/08/756308/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/scaling-nodes.yml'],1,6752d1d1ea74dcca04be5c6493477bcf0365a6fd,scaling-nodes,"... ############################################################################### # Scaling overcloud nodes # # Description: # This playbook gathers the rpm package facts, copies the environment file # to the undercloud, runs node imports,runs node introspection, generates # parameters to adjust compute and controller count and runs overcloud # deployment. ############################################################################### hosts: undercloud collections: - tripleo.operator vars: node_debug: true node_introspect: true node_environment_source_json_file: newnodes.json tasks: - name: Gather the rpm package facts package_facts: - name: Copy environment file to the undercloud copy: src: ""{{ node_newnodes_source_json_file }}"" dest: ""{{ ansible_env.HOME }}/newnodes.json"" owner: ""{{ ansible_env.USER }}"" mode: ""0600"" - name: Run node import include_role: name: tripleo_overcloud_node_import vars: tripleo_overcloud_node_import_debug: ""{{ node_debug }}"" tripleo_overcloud_node_import_environment_file: ""{{ ansible_env.HOME }}/newnodes.json"" - name: Run node introspection include_role: name: tripleo_overcloud_node_introspect vars: tripleo_overcloud_node_introspect_debug: ""{{ node_debug }}"" tripleo_overcloud_node_introspect_all_manageable: true tripleo_overcloud_node_introspect_provide: true when: node_introspect|bool - name: Generate parameters.yaml copy: content: | parameter_defaults: ControllerCount: {{ deploy_controller_count | default(1) }} ComputeCount: {{ deploy_compute_count | default(1) }} DnsServers: {{ deploy_dns }} NtpServer: {{ deploy_ntp }} dest: ""{{ ansible_env.HOME }}/scalingnodes.yaml"" mode: '0600' - name: Run overcloud deployment include_role: name: tripleo_overcloud_deploy vars: tripleo_overcloud_deploy_debug: ""{{ deploy_debug }}"" tripleo_overcloud_deploy_environment_files: ""{{ deploy_env_files }}"" tripleo_overcloud_deploy_templates: ""{{ deploy_templates }}"" ",,68,0
openstack%2Ftripleo-heat-templates~master~I0eaa48e003d1b95f51fe5f8bf1cc448836ff1f02,openstack/tripleo-heat-templates,master,I0eaa48e003d1b95f51fe5f8bf1cc448836ff1f02,/etc/pki/qemu/ca-cert.pem is missing in nova_compute with tls-e,ABANDONED,2020-10-16 14:13:10.000000000,2021-04-08 14:53:04.000000000,,"[{'_account_id': 6926}, {'_account_id': 7130}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-10-16 14:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a557d5c6c206e6892c3810383c0e882fd59c3f49', 'message': ""/etc/pki/qemu/ca-cert.pem is missing in nova_compute with tls-e\n\n/etc/pki/qemu/ca-cert.pem is missing in nova_compute with tls-e so\nhere we're only making sure we mount the certificate in nova_compute.\n\nChange-Id: I0eaa48e003d1b95f51fe5f8bf1cc448836ff1f02\n""}, {'number': 2, 'created': '2020-10-16 14:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ab23a6ecee154ae05bc0d9c9294f47043974d2e', 'message': ""/etc/pki/qemu/ca-cert.pem is missing in nova_compute with tls-e\n\n/etc/pki/qemu/ca-cert.pem is missing in nova_compute with tls-e so\nhere we're only making sure we mount the certificate in nova_compute.\n\nChange-Id: I0eaa48e003d1b95f51fe5f8bf1cc448836ff1f02\n""}, {'number': 3, 'created': '2020-10-18 18:36:21.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c79dcfbbb004030b35e312de616037731336b57', 'message': ""/etc/pki/qemu/ca-cert.pem is missing in nova_compute with tls-e\n\n/etc/pki/qemu/ca-cert.pem is missing in nova_compute with tls-e so\nhere we're only making sure we mount the certificate in nova_compute.\n\nChange-Id: I0eaa48e003d1b95f51fe5f8bf1cc448836ff1f02\n""}]",3,758572,4c79dcfbbb004030b35e312de616037731336b57,12,7,3,7130,,,0,"/etc/pki/qemu/ca-cert.pem is missing in nova_compute with tls-e

/etc/pki/qemu/ca-cert.pem is missing in nova_compute with tls-e so
here we're only making sure we mount the certificate in nova_compute.

Change-Id: I0eaa48e003d1b95f51fe5f8bf1cc448836ff1f02
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/758572/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,a557d5c6c206e6892c3810383c0e882fd59c3f49,bug/isntance_ha_tls-e," InternalTLSNbdCAFile: default: '/etc/pki/qemu/ca-cert.pem' type: string description: Specifies the CA cert to use for NBD TLS. LibvirtNbdCACert: type: string default: '' description: This specifies the CA certificate to use for NBD TLS. This file will be symlinked to the default CA path, which is /etc/pki/libvirt-nbd/ca-cert.pem. This parameter should be used if the default (which comes from the InternalTLSNbdCAFile parameter) is not desired. The current default reflects TripleO's default CA, which is FreeIPA. It will only be used if internal TLS is enabled. libvirt_nbd_specific_ca_unset: equals: - {get_param: LibvirtNbdCACert} - '' - if: - use_tls_for_nbd - - str_replace: template: ""CACERT:/var/lib/kolla/config_files/src-tls/etc/pki/qemu/ca-cert.pem:ro"" params: CACERT: if: - libvirt_nbd_specific_ca_unset - get_param: InternalTLSNbdCAFile - get_param: LibvirtNbdCACert",,31,0
openstack%2Ftripleo-heat-templates~master~I62552e2dc65affb8b7690f9f2ca36fa3eff06548,openstack/tripleo-heat-templates,master,I62552e2dc65affb8b7690f9f2ca36fa3eff06548,Distinguish hieradata and non-hieradata in role parameters,ABANDONED,2020-10-12 12:17:15.000000000,2021-04-08 14:51:48.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-12 12:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab8ceeee08310046549f091c5cfb0278b1fc7a65', 'message': 'Extract only hieradata from role parameters\n\nThis patch addes new key, config_settings, into RoleParametersvalue,\nto extract only valid hieradata from role parameters.\n\nChange-Id: I62552e2dc65affb8b7690f9f2ca36fa3eff06548\n'}, {'number': 2, 'created': '2020-10-12 12:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dbcea42b5937f5cbf2498bfa67e896a626e57805', 'message': 'Extract only hieradata from role parameters\n\nThis patch addes the new config_settings key to RoleParametersValue,\nto extract only valid hieradata from role parameters.\n\nChange-Id: I62552e2dc65affb8b7690f9f2ca36fa3eff06548\n'}, {'number': 3, 'created': '2020-10-12 12:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42e552160b904f6749ad5ff89f3c8752a029f45b', 'message': 'Extract only hieradata from role parameters\n\nThis patch addes the new config_settings key to RoleParametersValue,\nto extract only valid hieradata from role parameters.\n\nChange-Id: I62552e2dc65affb8b7690f9f2ca36fa3eff06548\n'}, {'number': 4, 'created': '2020-10-13 11:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/759cbe7a1506489ad2045d34a27363e241e4b515', 'message': 'Extract only hieradata from role parameters\n\nThis patch addes the new config_settings key to RoleParametersValue,\nto extract only valid hieradata from role parameters.\n\nChange-Id: I62552e2dc65affb8b7690f9f2ca36fa3eff06548\n'}, {'number': 5, 'created': '2020-10-13 11:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f51abe31d730c39295d15efb8e70f890919d7277', 'message': 'Distinguish hieradata and non-hieradata in role parameters\n\nThis patch addes the new config_settings key to RoleParametersValue,\nso that we only pass valid hieradata to puppet.\n\nChange-Id: I62552e2dc65affb8b7690f9f2ca36fa3eff06548\n'}, {'number': 6, 'created': '2020-10-19 05:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38a5ddb4500ea74ed06f70535aa524ee3965d8db', 'message': 'Distinguish hieradata and non-hieradata in role parameters\n\nThis patch addes the new config_settings key to RoleParametersValue,\nso that we only pass valid hieradata to puppet.\n\nChange-Id: I62552e2dc65affb8b7690f9f2ca36fa3eff06548\n'}, {'number': 7, 'created': '2020-10-19 08:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b4d57f712cc6218f3c725fa19421c761d7f866bd', 'message': 'Distinguish hieradata and non-hieradata in role parameters\n\nThis patch addes the new config_settings key to RoleParametersValue,\nso that we only pass valid hieradata to puppet.\n\nChange-Id: I62552e2dc65affb8b7690f9f2ca36fa3eff06548\n'}, {'number': 8, 'created': '2020-10-19 12:25:31.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/neutron/neutron-agents-ib-config-container-puppet.yaml', 'deployment/neutron/neutron-ovn-dpdk-config-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/56ade59fe2cb598a59bbcef9381003c9c1861cd4', 'message': 'Distinguish hieradata and non-hieradata in role parameters\n\nThis patch addes the new config_settings key to RoleParametersValue,\nso that we only pass valid hieradata to puppet.\n\nChange-Id: I62552e2dc65affb8b7690f9f2ca36fa3eff06548\n'}]",2,757549,56ade59fe2cb598a59bbcef9381003c9c1861cd4,19,3,8,9816,,,0,"Distinguish hieradata and non-hieradata in role parameters

This patch addes the new config_settings key to RoleParametersValue,
so that we only pass valid hieradata to puppet.

Change-Id: I62552e2dc65affb8b7690f9f2ca36fa3eff06548
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/757549/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/neutron/neutron-agents-ib-config-container-puppet.yaml', 'deployment/neutron/neutron-ovn-dpdk-config-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml']",12,ab8ceeee08310046549f091c5cfb0278b1fc7a65,roleparams," - config_settings: neutron::agents::ml2::sriov::physical_device_mappings: NeutronPhysicalDevMappings neutron::agents::ml2::sriov::exclude_devices: NeutronExcludeDevices neutron::agents::ml2::sriov::extensions: NeutronSriovAgentExtensions neutron::agents::ml2::sriov_nic::resource_provider_bandwidths: NeutronSriovResourceProviderBandwidths - get_attr: [RoleParametersValue, value, config_settings]"," - neutron::agents::ml2::sriov::physical_device_mappings: NeutronPhysicalDevMappings neutron::agents::ml2::sriov::exclude_devices: NeutronExcludeDevices neutron::agents::ml2::sriov::extensions: NeutronSriovAgentExtensions neutron::agents::ml2::sriov_nic::resource_provider_bandwidths: NeutronSriovResourceProviderBandwidths - get_attr: [RoleParametersValue, value]",86,74
openstack%2Fcharm-guide~master~I0331c7bac7f9327f070eb08582ea9802232a8a8b,openstack/charm-guide,master,I0331c7bac7f9327f070eb08582ea9802232a8a8b,Refactor release notes 2104,MERGED,2021-04-06 19:15:45.000000000,2021-04-08 14:51:42.000000000,2021-04-08 14:40:43.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 19:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8d2fd9306f4f09538fb33544507a891656a7d7c1', 'message': 'Refactor release notes 2104\n\n* Refactor 21.04 Release Notes\n\n* Move Issues to CDG\n\n* Reword section on worker-multiplier option\n\n* Re-populate template for Release Notes\n\nDepends-On: I62164bd4ae939ec193ae4e47d79adb2ca7af2a85\nChange-Id: I0331c7bac7f9327f070eb08582ea9802232a8a8b\n'}, {'number': 2, 'created': '2021-04-06 20:08:55.000000000', 'files': ['doc/source/2104.rst', 'doc/source/release-notes-template.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/00fb2b893da1a18d20f647cd9a9d1b21b02382f5', 'message': 'Refactor release notes 2104\n\n* Refactor 21.04 Release Notes\n\n* Move Issues to CDG\n\n* Reword section on worker-multiplier option\n\n* Re-populate template for Release Notes\n\nDepends-On: I62164bd4ae939ec193ae4e47d79adb2ca7af2a85\nChange-Id: I0331c7bac7f9327f070eb08582ea9802232a8a8b\n'}]",2,785034,00fb2b893da1a18d20f647cd9a9d1b21b02382f5,14,2,2,30561,,,0,"Refactor release notes 2104

* Refactor 21.04 Release Notes

* Move Issues to CDG

* Reword section on worker-multiplier option

* Re-populate template for Release Notes

Depends-On: I62164bd4ae939ec193ae4e47d79adb2ca7af2a85
Change-Id: I0331c7bac7f9327f070eb08582ea9802232a8a8b
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/34/785034/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/2104.rst', 'doc/source/release-notes-template.rst']",2,8d2fd9306f4f09538fb33544507a891656a7d7c1,2104-docs,"* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * This is a template to be used for future release notes. * * Make a copy, remove this notice, and use the placeholders. * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * =========================================== <CHARM_RELEASE> (Draft version in progress) =========================================== Summary of changes ------------------ * New charm features * `<TITLE>`_ * New tech-preview charms * `<TITLE>`_ * Deprecation notices * `<TITLE>`_ * Removed features * `<TITLE>`_ Overview -------- The <CHARM_RELEASE> OpenStack Charms release includes updates for the charms described on the `Charms`_ page. As of this release, the project consists of <NUMBER-OF-STABLE-CHARMS> supported (stable) charms. For the list of bugs resolved in this release refer to the `<CHARM_RELEASE> milestone`_ in Launchpad. For scheduling information of past and future releases see the `Release schedule`_. General charm information is published in the `OpenStack Charm Guide`_ (this guide) which ultimately supersedes Release Notes contents. .. important:: Always upgrade to the latest stable charms before making any major changes to your cloud and before filing bug reports. Refer to section `Upgrading charms`_ below for details. New charm features ------------------ With each new feature, there is a corresponding example bundle in the form of a test bundle, and/or a section in the `OpenStack Charms Deployment Guide`_, that details its usage. Test bundles are located in the ``src/tests/bundles`` directory of the relevant charm repository (see all `charm repositories`_). <NEW-FEATURE-TITLE> ~~~~~~~~~~~~~~~~~~~ .. COMMENT New stable charms ----------------- .. COMMENT New tech-preview charms ----------------------- .. COMMENT Preview charm features ---------------------- .. COMMENT Documentation updates --------------------- .. COMMENT Informational notices --------------------- .. COMMENT Deprecation notices ------------------- .. COMMENT Removed features ---------------- .. COMMENT Removed charms -------------- .. COMMENT Issues discovered during this release cycle ----------------------------------------------------------- Upgrading charms will making available new features and bug fixes. However, the latest stable charm revision should also be used prior to making any topological changes, application migrations, workload upgrades, or series upgrades. Bug reports should also be filed against the most recent revision. Note that charm upgrades and OpenStack upgrades are functionally different. For instructions on performing the different upgrade types see `Upgrades overview`_ in the `OpenStack Charms Deployment Guide`_. .. LINKS .. _Charms: openstack-charms.html .. _<CHARM_RELEASE> milestone: https://launchpad.net/openstack-charms/+milestone/<CHARM_RELEASE> .. _OpenStack Charms Deployment Guide: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest .. _OpenStack Charm Guide: https://docs.openstack.org/charm-guide/latest/ .. _Release schedule: release-schedule.html .. _Upgrades overview: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/upgrade-overview.html .. _charm repositories: https://opendev.org/openstack?sort=alphabetically&q=charm-&tab= .. COMMITS .. BUGS","**** This is a template file for future release notes and its contents should not be linked or referenced. Use actual release notes instead. **** =========================== <release version goes here> =========================== Summary ======= The <CHARM_RELEASE> OpenStack Charm release includes updates for the following charms. Additional charm support status information is published in the main `charm guide <openstack-charms.html>`__ which ultimately supersedes release note contents. Supported Charms ~~~~~~~~~~~~~~~~ * aodh * barbican * ceilometer * ceilometer-agent * ceph-fs * ceph-mon * ceph-osd * ceph-proxy * ceph-radosgw * cinder * cinder-backup * cinder-ceph * designate * designate-bind * glance * gnocchi * hacluster * heat * keystone * keystone-ldap * lxd * manila * manila-generic * neutron-api * neutron-openvswitch * neutron-gateway * neutron-dynamic-routing * nova-cloud-controller * nova-compute * openstack-dashboard * percona-cluster * rabbitmq-server * swift-proxy * swift-storage * vault Pre-Release Charms ~~~~~~~~~~~~~~~~~~ Deprecated Charms ~~~~~~~~~~~~~~~~~ New Charm Features ================== OpenStack <O7K_RELEASE> Support ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The charms provide full support for OpenStack <O7K_RELEASE>. For further details and documentation on Openstack <O7K_RELEASE> please check out https://releases.openstack.org/<O7K_RELEASE>. Use the 'openstack-origin' charm configuration option to declare the intended OpenStack version, for example: .. code:: bash cat > config.yaml << EOF nova-cloud-controller: openstack-origin: cloud:bionic-<O7K_RELEASE> EOF juju deploy --config config.yaml nova-cloud-controller Also see the published example bundles. Feature Title 1 ~~~~~~~~~~~~~~~ Feature Title 2 ~~~~~~~~~~~~~~~ ================ Please ensure that the keystone charm is upgraded first. To upgrade an existing deployment to the latest charm version simply use the 'upgrade-charm' command, for example: .. code:: bash juju upgrade-charm keystone Charm upgrades and OpenStack upgrades are two distinctly different things. Charm upgrades ensure that the deployment is using the latest charm revision, containing the latest charm fixes and charm features available for a given deployment. Charm upgrades do not cause OpenStack versions to upgrade, however OpenStack upgrades do require the latest Charm version as pre-requisite. Upgrading OpenStack =================== To upgrade an existing <O7K_PREVIOUS_RELEASE> based deployment on Ubuntu <UBUNTU_RELEASE> to the <O7K_RELEASE> release, re-configure the charm with a new openstack-origin configuration: .. code:: bash juju config nova-cloud-controller openstack-origin=cloud:bionic-<O7K_RELEASE> Please ensure that ceph services are upgraded before services that consume ceph resources, such as cinder, glance and nova-compute: .. code:: bash juju config ceph-mon source=cloud:bionic-<O7K_RELEASE> juju config ceph-osd source=cloud:bionic-<O7K_RELEASE> .. note:: Upgrading an OpenStack cloud is still not without risk; upgrades should be tested in pre-production testing environments prior to production deployment upgrades. See https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-upgrade-openstack.html for more details. New Bundle Features =================== <O7K_RELEASE> Support in Example Bundles ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ <O7K_RELEASE> versions of the example bundles are published in the charm store under cs:openstack-base, cs:openstack-telemetry. The stand-alone ceph bundle is also updated at cs:ceph-base. These bundles have been validated on x86_64, arm64, s390x and ppc64el architectures with Juju 2.3.3 and MAAS 2.3.0. https://jujucharms.com/openstack-base https://jujucharms.com/openstack-telemetry https://jujucharms.com/ceph-base Deprecation Notices =================== Notice 1 ~~~~~~~~ Notice 2 ~~~~~~~~ Known Issues ============ Issue 1 ~~~~~~~ Issue 2 ~~~~~~~ Bugs Fixed ========== This release includes NNNN bugs fixes. For the full list of bugs resolved for the <CHARM_RELEASE> charms release please refer to https://launchpad.net/openstack-charms/+milestone/????. Next Release Info ================= The next OpenStack Charms release is currently scheduled for ????, and is subject to change. Please see https://docs.openstack.org/charm-guide/latest for current information.",170,301
openstack%2Fansible-role-collect-logs~master~I0fa2d746df482ba26cd70357898c9f518fe06d41,openstack/ansible-role-collect-logs,master,I0fa2d746df482ba26cd70357898c9f518fe06d41,add build_id directly to the logs,ABANDONED,2020-08-07 18:31:57.000000000,2021-04-08 14:51:36.000000000,,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-07 18:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/a1f6c61601a3b8760f9a08d600f7d7ed4bad4cb6', 'message': 'add build_id directly to the logs\n\nThis makes it easier for users and monitoring\nto determine the build id of the job log\n\nChange-Id: I0fa2d746df482ba26cd70357898c9f518fe06d41\n'}, {'number': 2, 'created': '2020-08-07 22:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f524f8b2611a53408aaa7fc2499136fa0fab86a5', 'message': 'add build_id directly to the logs\n\nThis makes it easier for users and monitoring\nto determine the build id of the job log\n\nChange-Id: I0fa2d746df482ba26cd70357898c9f518fe06d41\n'}, {'number': 3, 'created': '2020-10-07 01:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f6a2e0603fd24923da411f14462ab8006b3710fd', 'message': 'add build_id directly to the logs\n\nThis makes it easier for users and monitoring\nto determine the build id of the job log\n\nChange-Id: I0fa2d746df482ba26cd70357898c9f518fe06d41\n'}, {'number': 4, 'created': '2020-10-08 12:36:50.000000000', 'files': ['tasks/publish.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/79b1ecc2a43b592c9859a9b9e98a8be94a5b982e', 'message': 'add build_id directly to the logs\n\nThis makes it easier for users and monitoring\nto determine the build id of the job log\n\nChange-Id: I0fa2d746df482ba26cd70357898c9f518fe06d41\n'}]",5,745385,79b1ecc2a43b592c9859a9b9e98a8be94a5b982e,28,6,4,9592,,,0,"add build_id directly to the logs

This makes it easier for users and monitoring
to determine the build id of the job log

Change-Id: I0fa2d746df482ba26cd70357898c9f518fe06d41
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/85/745385/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/publish.yml'],1,a1f6c61601a3b8760f9a08d600f7d7ed4bad4cb6,,"# add the dlrn_hash, build_id in the logs for # easy reference and monitoring - name: add a txt file with the build id to the logs copy: content: ""{{ dlrn_hash }}"" dest: {{ artcl_collect_dir }}/build_id.txt ",,7,0
openstack%2Freleases~master~Ic3e4cc23dab6bb24da6efd938083b26582f5dfde,openstack/releases,master,Ic3e4cc23dab6bb24da6efd938083b26582f5dfde,Making devstack-plugin-(amqp1|kafka) branchless,MERGED,2021-04-01 11:44:56.000000000,2021-04-08 14:47:23.000000000,2021-04-08 14:47:23.000000000,"[{'_account_id': 6928}, {'_account_id': 8556}, {'_account_id': 9820}, {'_account_id': 11536}, {'_account_id': 14352}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-01 11:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c916641650cd182605d4c744924abe4f2ed7ca9a', 'message': ""Branch devstack-plugin-* deliverables\n\nNotice that devstack-plugin-kafka and devstack-plugin-amqp1 didn't\nshow a great amount of activity since ussuri, and that the same\nhashes are already in use to branch victoria\n(https://review.opendev.org/c/openstack/releases/+/784371).\n\nAlso notice that a discussion have been engaged [1] to see if it make\nsense to retire these both projects (from a release point of view).\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021513.html\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/784371\nChange-Id: Ic3e4cc23dab6bb24da6efd938083b26582f5dfde\n""}, {'number': 2, 'created': '2021-04-01 11:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bae980b824d363c0097439051664d78ae021235f', 'message': ""Branch devstack-plugin-* deliverables for Wallaby\n\nNotice that devstack-plugin-kafka and devstack-plugin-amqp1 didn't\nshow a great amount of activity since ussuri, and that the same\nhashes are already in use to branch victoria\n(https://review.opendev.org/c/openstack/releases/+/784371).\n\nAlso notice that a discussion have been engaged [1] to see if it make\nsense to retire these both projects (from a release point of view).\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021513.html\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/784371\nChange-Id: Ic3e4cc23dab6bb24da6efd938083b26582f5dfde\n""}, {'number': 3, 'created': '2021-04-01 15:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/19d49682dda3abba31f4dca14543daf68f0853d7', 'message': ""Making devstack-plugin-* branchless\n\nQA team noticed us that usually devstack-plugin are branchless [1] (and\ntagless but that's already the case here).\n\nLet's drop these deliverables.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021526.html\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/784371\nChange-Id: Ic3e4cc23dab6bb24da6efd938083b26582f5dfde\n""}, {'number': 4, 'created': '2021-04-01 16:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f5878d3a62ab285121286132c1bcf7a0ff3f7bf5', 'message': ""Making devstack-plugin-* branchless\n\nQA team pointed out to us that usually devstack-plugin are\nbranchless [1] (and tagless but that's already the case here).\n\nLet's drop these deliverables.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021526.html\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/784371\nChange-Id: Ic3e4cc23dab6bb24da6efd938083b26582f5dfde\n""}, {'number': 5, 'created': '2021-04-01 16:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ef2855380b2e1fe625c415627510988bb652b081', 'message': ""Making devstack-plugin-* branchless\n\nQA team pointed out to us that usually devstack plugins are\nbranchless [1] (and tagless but that's already the case here).\n\nLet's drop these deliverables.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021526.html\n\nDepends-On: https://review.opendev.org/c/openstack/releases/+/784371\nChange-Id: Ic3e4cc23dab6bb24da6efd938083b26582f5dfde\n""}, {'number': 6, 'created': '2021-04-02 08:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1f2484984e92b5cf23fa26f9b3db6e2c1707489b', 'message': ""Making devstack-plugin-* branchless\n\nQA team pointed out to us that usually devstack plugins are\nbranchless [1] (and tagless but that's already the case here).\n\nThey haven't been branched since ussuri, we think that's we simply miss\nthose few series ago.\n\nI think that's the right moment to do a little spring cleaning.\nLet's drop these deliverables for Victoria/Wallaby.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021526.html\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/784544\nChange-Id: Ic3e4cc23dab6bb24da6efd938083b26582f5dfde\n""}, {'number': 7, 'created': '2021-04-02 08:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/418d5b5e5b6aa57f734112c4ebd9eb4eeb3fdfeb', 'message': ""Making devstack-plugin-* branchless\n\nQA team pointed out to us that usually devstack plugins are\nbranchless [1] (and tagless but that's already the case here).\n\nThey haven't been branched since ussuri, we think that we simply\nmissed to retire them few series ago.\n\nI think that's the right moment to do a little spring cleaning.\nLet's drop these deliverables for Victoria/Wallaby.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021526.html\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/784544\nChange-Id: Ic3e4cc23dab6bb24da6efd938083b26582f5dfde\n""}, {'number': 8, 'created': '2021-04-07 14:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/86c568264f5a38e71aea49417b35409cb41a88af', 'message': ""Making devstack-plugin-(amqp1|kafka) branchless\n\nQA team pointed out to us that usually devstack plugins are\nbranchless [1] (and tagless but that's already the case here).\n\nThey haven't been branched since ussuri, we think that we simply\nmissed to retire them few series ago.\n\nI think that's the right moment to do a little spring cleaning.\nLet's drop these deliverables for Victoria/Wallaby.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021526.html\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/784544\nChange-Id: Ic3e4cc23dab6bb24da6efd938083b26582f5dfd\n""}, {'number': 9, 'created': '2021-04-08 07:51:02.000000000', 'files': ['deliverables/wallaby/devstack-plugin-amqp1.yaml', 'deliverables/victoria/devstack-plugin-kafka.yaml', 'deliverables/wallaby/devstack-plugin-kafka.yaml', 'deliverables/victoria/devstack-plugin-amqp1.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4470b20ed8773c565d03b58fc3bf1c3e8be6d061', 'message': ""Making devstack-plugin-(amqp1|kafka) branchless\n\nQA team pointed out to us that usually devstack plugins are\nbranchless [1] (and tagless but that's already the case here).\n\nThey haven't been branched since ussuri, we think that we simply\nmissed to retire them few series ago.\n\nI think that's the right moment to do a little spring cleaning.\nLet's drop these deliverables for Victoria/Wallaby.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021526.html\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/784544\nChange-Id: Ic3e4cc23dab6bb24da6efd938083b26582f5dfde\n""}]",0,784376,4470b20ed8773c565d03b58fc3bf1c3e8be6d061,39,10,9,28522,,,0,"Making devstack-plugin-(amqp1|kafka) branchless

QA team pointed out to us that usually devstack plugins are
branchless [1] (and tagless but that's already the case here).

They haven't been branched since ussuri, we think that we simply
missed to retire them few series ago.

I think that's the right moment to do a little spring cleaning.
Let's drop these deliverables for Victoria/Wallaby.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021526.html

Depends-On: https://review.opendev.org/c/openstack/governance/+/784544
Change-Id: Ic3e4cc23dab6bb24da6efd938083b26582f5dfde
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/784376/9 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/devstack-plugin-amqp1.yaml', 'deliverables/wallaby/devstack-plugin-kafka.yaml', 'deliverables/wallaby/devstack-plugin-container.yaml']",3,c916641650cd182605d4c744924abe4f2ed7ca9a,devstack-plugin-wallaby,branches: - location: openstack/devstack-plugin-container: d4de1bb9905aebff7e3620d08aa65dc334d435b8 name: stable/wallaby,# Note: deliverable was not released in victoria,12,3
openstack%2Ftripleo-common~master~I0e62d6d7632382772b62c30e1d373d9ab7b53a60,openstack/tripleo-common,master,I0e62d6d7632382772b62c30e1d373d9ab7b53a60,Allow octavia container image version to be parameterized,ABANDONED,2020-07-14 14:35:18.000000000,2021-04-08 14:44:21.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 14:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8ba5027ef7c7de01fb58110865c607e35728eca9', 'message': 'Allow octavia container image version to be parameterized\n\nAllow the octavia container namespace and tag to be overridden. This\nenables support for deploying versions of octavia container images from\ndifferent locations or branches of OpenStack.\n\nNote: this seems to *sort of work*. During testing it appears that the\npuppet in the container image is being used and not the puppet on the\nhost. It was expected that the puppet would still be the version\ninstalled for the rest of the cloud.\n\nChange-Id: I0e62d6d7632382772b62c30e1d373d9ab7b53a60\n'}, {'number': 2, 'created': '2020-09-03 17:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d346e4f596f9f7ac74fb05c503a78ed8ce9957e7', 'message': 'Allow octavia container image version to be parameterized\n\nAllow the octavia container namespace and tag to be overridden. This\nenables support for deploying versions of octavia container images from\ndifferent locations or branches of OpenStack.\n\nNote: this seems to *sort of work*. During testing it appears that the\npuppet in the container image is being used and not the puppet on the\nhost. It was expected that the puppet would still be the version\ninstalled for the rest of the cloud.\n\nChange-Id: I0e62d6d7632382772b62c30e1d373d9ab7b53a60\n'}, {'number': 3, 'created': '2020-09-22 15:26:14.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0218a2c4f27ec1099e3fc3c27b4971a8c9543dbb', 'message': 'Allow octavia container image version to be parameterized\n\nAllow the octavia container namespace and tag to be overridden. This\nenables support for deploying versions of octavia container images from\ndifferent locations or branches of OpenStack.\n\nChange-Id: I0e62d6d7632382772b62c30e1d373d9ab7b53a60\n'}]",3,740978,0218a2c4f27ec1099e3fc3c27b4971a8c9543dbb,11,3,3,6681,,,0,"Allow octavia container image version to be parameterized

Allow the octavia container namespace and tag to be overridden. This
enables support for deploying versions of octavia container images from
different locations or branches of OpenStack.

Change-Id: I0e62d6d7632382772b62c30e1d373d9ab7b53a60
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/78/740978/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/overcloud_containers.yaml.j2'],1,8ba5027ef7c7de01fb58110865c607e35728eca9,octavia-backport,"{% if octavia_namespace is defined %} - imagename: ""{{octavia_namespace}}/{{name_prefix}}octavia-api{{name_suffix}}:{{octavia_tag}}"" image_source: kolla params: - ContainerOctaviaConfigImage - ContainerOctaviaDriverAgentConfigImage services: - OS::TripleO::Services::OctaviaApi - OS::TripleO::Services::OctaviaHealthManager - OS::TripleO::Services::OctaviaHousekeeping - OS::TripleO::Services::OctaviaWorker - imagename: ""{{namespace}}/{{name_prefix}}octavia-api{{name_suffix}}:{{tag}}"" image_source: kolla params: - ContainerOctaviaConfigImage - ContainerOctaviaDriverAgentConfigImage services: - OS::TripleO::Services::OctaviaApi - OS::TripleO::Services::OctaviaHealthManager - OS::TripleO::Services::OctaviaHousekeeping - OS::TripleO::Services::OctaviaWorker {% else %}{% endif %} {% if octavia_namespace is defined %} - imagename: ""{{octavia_namespace}}/{{name_prefix}}octavia-health-manager{{name_suffix}}:{{octavia_tag}}"" image_source: kolla {% else %}{% endif %}{% if octavia_namespace is defined %} - imagename: ""{{octavia_namespace}}/{{name_prefix}}octavia-housekeeping{{name_suffix}}:{{octavia_tag}}"" image_source: kolla {% else %}{% endif %}{% if octavia_namespace is defined %} - imagename: ""{{octavia_namespace}}/{{name_prefix}}octavia-worker{{name_suffix}}:{{octavia_tag}}"" image_source: kolla {% else %}{% endif %}",,39,0
openstack%2Fpython-glanceclient~master~I436ca081f2486de47c8cdf7c45843dbdebee8059,openstack/python-glanceclient,master,I436ca081f2486de47c8cdf7c45843dbdebee8059,"Do not use socket._fileobject, which is not compatible with Python 3",NEW,2021-04-01 18:53:18.000000000,2021-04-08 14:42:47.000000000,,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 18:53:18.000000000', 'files': ['glanceclient/common/https.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/58c27b9163e2f893094999d288f790afff05241d', 'message': 'Do not use socket._fileobject, which is not compatible with Python 3\n\nChange-Id: I436ca081f2486de47c8cdf7c45843dbdebee8059\nCloses-Bug: #1812525\n'}]",0,784465,58c27b9163e2f893094999d288f790afff05241d,7,3,1,8122,,,0,"Do not use socket._fileobject, which is not compatible with Python 3

Change-Id: I436ca081f2486de47c8cdf7c45843dbdebee8059
Closes-Bug: #1812525
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/65/784465/1 && git format-patch -1 --stdout FETCH_HEAD,['glanceclient/common/https.py'],1,58c27b9163e2f893094999d288f790afff05241d,bug/1812525," return socket.SocketIO(self.connection, *args, **kwargs)"," return socket._fileobject(self.connection, *args, **kwargs)",1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id810756819505df1b21a86798bce1761515a001a,openstack/tripleo-heat-templates,stable/train,Id810756819505df1b21a86798bce1761515a001a,Remove deprecated puppet-keystone modules related to admin auth,ABANDONED,2020-09-11 20:20:43.000000000,2021-04-08 14:41:25.000000000,,"[{'_account_id': 9816}, {'_account_id': 9954}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-11 20:20:43.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2646e64d69c2ecb46415a6b2aa7492d814fbdc3a', 'message': ""Remove deprecated puppet-keystone modules related to admin auth\n\nThe following classes and parameters were deprecated in puppet-keystone\nwhen keystone::bootstrap was added, and we don't need to set them\nanymore because now we use new parameters.\n\n - keystone::roles::admin\n - keystone::endpoint\n - keystone::admin_token\n - keystone::admin_password\n\n[1] I683fcdd743bddf6d4e989dd7e7c553db745934db\n\n(cherry picked from commit 1de0294ba8eb03172f4cd1588a73fa15103eaa16)\n\nChange-Id: Id810756819505df1b21a86798bce1761515a001a\n""}]",0,751423,2646e64d69c2ecb46415a6b2aa7492d814fbdc3a,4,4,1,5046,,,0,"Remove deprecated puppet-keystone modules related to admin auth

The following classes and parameters were deprecated in puppet-keystone
when keystone::bootstrap was added, and we don't need to set them
anymore because now we use new parameters.

 - keystone::roles::admin
 - keystone::endpoint
 - keystone::admin_token
 - keystone::admin_password

[1] I683fcdd743bddf6d4e989dd7e7c553db745934db

(cherry picked from commit 1de0294ba8eb03172f4cd1588a73fa15103eaa16)

Change-Id: Id810756819505df1b21a86798bce1761515a001a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/751423/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,2646e64d69c2ecb46415a6b2aa7492d814fbdc3a,," keystone::bootstrap::password: {get_param: AdminPassword} keystone::bootstrap::email: {get_params: AdminEmail} keystone::bootstrap::public_url: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix]} keystone::bootstrap::internal_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} keystone::bootstrap::admin_url: {get_param: [EndpointMap, KeystoneAdmin, uri_no_suffix]} keystone::bootstrap::region: {get_param: KeystoneRegion} keystone::bootstrap::service_project_name: 'service' keystone::bootstrap::project_name: 'admin'"," keystone::admin_token: {get_param: AdminToken} keystone::admin_password: {get_param: AdminPassword} keystone::roles::admin::password: {get_param: AdminPassword} keystone::roles::admin::email: {get_param: AdminEmail} keystone::roles::admin::password: {get_param: AdminPassword} keystone::endpoint::public_url: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix]} keystone::endpoint::internal_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} keystone::endpoint::admin_url: {get_param: [EndpointMap, KeystoneAdmin, uri_no_suffix]} keystone::endpoint::region: {get_param: KeystoneRegion} keystone::endpoint::version: '' keystone::roles::admin::service_tenant: 'service' keystone::roles::admin::admin_tenant: 'admin'",8,12
openstack%2Ftripleo-heat-templates~master~Ie8b07a3df6fc6e52d4e9182c60a4b9e5517577d6,openstack/tripleo-heat-templates,master,Ie8b07a3df6fc6e52d4e9182c60a4b9e5517577d6,Add user facing interface for sshd overrides,ABANDONED,2020-08-11 15:05:26.000000000,2021-04-08 14:40:05.000000000,,"[{'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-11 15:05:26.000000000', 'files': ['deployment/sshd/sshd-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/072054e99b691da340cc3de4fcfdcda61511e000', 'message': ""Add user facing interface for sshd overrides\n\nThis change adds a new parameter which users can leverage to extend the\ndefault SSHD configuration options. This parameter can be stored in\nthe users templates, and will easily extend the production ready\ndefaults we're already applying.\n\n* User provided defaults will take precidence in the event of a collision.\n\nDepends-On: I68e797d81b2c774c87b73b202158f1c89a384b18\nChange-Id: Ie8b07a3df6fc6e52d4e9182c60a4b9e5517577d6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",0,745694,072054e99b691da340cc3de4fcfdcda61511e000,9,4,1,7353,,,0,"Add user facing interface for sshd overrides

This change adds a new parameter which users can leverage to extend the
default SSHD configuration options. This parameter can be stored in
the users templates, and will easily extend the production ready
defaults we're already applying.

* User provided defaults will take precidence in the event of a collision.

Depends-On: I68e797d81b2c774c87b73b202158f1c89a384b18
Change-Id: Ie8b07a3df6fc6e52d4e9182c60a4b9e5517577d6
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/745694/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/sshd/sshd-baremetal-ansible.yaml'],1,072054e99b691da340cc3de4fcfdcda61511e000,RFE-1822136, SshServerOptionsOverrides: default: {} description: User facing mapping of sshd_config values type: json tripleo_sshd_server_override_options: {get_param: SshServerOptionsOverrides},,5,0
openstack%2Ftripleo-ci~master~I4eaeb9aface4748f7b4b7923e2a62200d998791c,openstack/tripleo-ci,master,I4eaeb9aface4748f7b4b7923e2a62200d998791c,"dup standalone012 for master, make it non-voting",ABANDONED,2020-09-09 16:27:44.000000000,2021-04-08 14:39:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-09 16:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6fed5fd4a58197ad80f3b5df4380b43626c28719', 'message': 'dup standalone012 for master, make it non-voting\n\nChange-Id: I4eaeb9aface4748f7b4b7923e2a62200d998791c\n'}, {'number': 2, 'created': '2020-09-09 16:28:49.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/23e5e83a61eeceee703a3f934c7ef8760c320543', 'message': 'dup standalone012 for master, make it non-voting\n\nChange-Id: I4eaeb9aface4748f7b4b7923e2a62200d998791c\n'}]",1,750716,23e5e83a61eeceee703a3f934c7ef8760c320543,5,2,2,9592,,,0,"dup standalone012 for master, make it non-voting

Change-Id: I4eaeb9aface4748f7b4b7923e2a62200d998791c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/16/750716/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,6fed5fd4a58197ad80f3b5df4380b43626c28719,, voting: false parent: tripleo-ci-base-standalone-centos-8 branches: master vars: featureset: '060' standalone_ceph: true featureset_override: validate_services: false standalone_environment_files: - 'environments/low-memory-usage.yaml' - 'ci/environments/scenario012-standalone.yaml' - job: name: tripleo-ci-centos-8-scenario012-standalone,,14,0
openstack%2Ftripleo-ci~master~Ic961e3a85781ce00f1558420a094a77eca61a503,openstack/tripleo-ci,master,Ic961e3a85781ce00f1558420a094a77eca61a503,Adds centos8 upgrade/update jobs to upstream tripleo-periodic,ABANDONED,2020-09-03 11:38:52.000000000,2021-04-08 14:39:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-03 11:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9cde1143b38974487a8b26ce4aef92fb36cf84e7', 'message': ""Adds centos8 upgrade/update jobs to upstream tripleo-periodic\n\nThese jobs have recently been added to the gate so let's also\nrun them as periodics for easier debug & root cause analysis.\n\nChange-Id: Ic961e3a85781ce00f1558420a094a77eca61a503\n""}, {'number': 2, 'created': '2020-09-08 11:15:48.000000000', 'files': ['zuul.d/periodic.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/60fabfabc21267d615855b18a1bc039762155140', 'message': ""Adds centos8 upgrade/update jobs to upstream tripleo-periodic\n\nThese jobs have recently been added to the gate so let's also\nrun them as periodics for easier debug & root cause analysis.\n\nChange-Id: Ic961e3a85781ce00f1558420a094a77eca61a503\n""}]",0,749710,60fabfabc21267d615855b18a1bc039762155140,7,2,2,8449,,,0,"Adds centos8 upgrade/update jobs to upstream tripleo-periodic

These jobs have recently been added to the gate so let's also
run them as periodics for easier debug & root cause analysis.

Change-Id: Ic961e3a85781ce00f1558420a094a77eca61a503
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/10/749710/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/periodic.yaml'],1,9cde1143b38974487a8b26ce4aef92fb36cf84e7,centos8_upstream_upgrade_periodics, - tripleo-ci-centos-8-standalone-upgrade: vars: force_non_periodic: true - tripleo-ci-centos-8-standalone-upgrade-ussuri: vars: force_non_periodic: true - tripleo-ci-centos-8-undercloud-upgrade: vars: force_non_periodic: true - tripleo-ci-centos-8-undercloud-upgrade-ussuri: vars: force_non_periodic: true - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades: vars: force_non_periodic: true - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades-ussuri: vars: force_non_periodic: true - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates: vars: force_non_periodic: true - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-ussuri: vars: force_non_periodic: true - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-train: vars: force_non_periodic: true,,27,0
openstack%2Ftripleo-ci~master~Iaddedbd468ce7db19d29526fd3b3c3a657168067,openstack/tripleo-ci,master,Iaddedbd468ce7db19d29526fd3b3c3a657168067,Add debug to when listing containers,ABANDONED,2020-02-10 18:34:55.000000000,2021-04-08 14:39:14.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-10 18:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/adefc15b35b474135f492c760c6494cd149cd21f', 'message': 'hotfix for buildcontainers\n\nRelated-Fix: #1862674\nChange-Id: Iaddedbd468ce7db19d29526fd3b3c3a657168067\n'}, {'number': 2, 'created': '2020-02-11 03:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b4a18423376c67ef2588a69b95fc1b7309988ab9', 'message': 'Add debug to when listing containers\n\nThis will help uncover any issues with\nthe the openstack clients or tripleo-common\n\nRelated-Fix: #1862674\nChange-Id: Iaddedbd468ce7db19d29526fd3b3c3a657168067\n'}, {'number': 3, 'created': '2020-02-11 21:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c39171bc473762a607eefdf18de8fd77dc75165c', 'message': 'Add debug to when listing containers\n\nThis will help uncover any issues with\nthe the openstack clients or tripleo-common\n\nRelated-Fix: #1862674\nDepends-On: https://review.opendev.org/#/c/707204/\nChange-Id: Iaddedbd468ce7db19d29526fd3b3c3a657168067\n'}, {'number': 4, 'created': '2020-02-13 19:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/df0a27814e05ae74894d76f08ed9558befcf5d98', 'message': 'Add debug to when listing containers\n\nThis will help uncover any issues with\nthe the openstack clients or tripleo-common\n\nRelated-Fix: #1862674\nDepends-On: https://review.opendev.org/#/c/707330/\nChange-Id: Iaddedbd468ce7db19d29526fd3b3c3a657168067\n'}, {'number': 5, 'created': '2020-08-29 14:19:57.000000000', 'files': ['roles/build-containers/templates/build.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/34e2ace8666be419f7958f9f9d0c954286db183f', 'message': 'Add debug to when listing containers\n\nThis will help uncover any issues with\nthe the openstack clients or tripleo-common\n\nRelated-Fix: #1862674\nDepends-On: https://review.opendev.org/#/c/707330/\nChange-Id: Iaddedbd468ce7db19d29526fd3b3c3a657168067\n'}]",5,706952,34e2ace8666be419f7958f9f9d0c954286db183f,33,9,5,9592,,,0,"Add debug to when listing containers

This will help uncover any issues with
the the openstack clients or tripleo-common

Related-Fix: #1862674
Depends-On: https://review.opendev.org/#/c/707330/
Change-Id: Iaddedbd468ce7db19d29526fd3b3c3a657168067
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/52/706952/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/templates/build.sh.j2'],1,adefc15b35b474135f492c760c6494cd149cd21f,,pip install -U decorator http,pip install -U decorator,1,1
openstack%2Ftripleo-ansible~master~Ic596021843fd949d2fd6988ffe634466347e68a2,openstack/tripleo-ansible,master,Ic596021843fd949d2fd6988ffe634466347e68a2,Clean up the deprecated imp module,ABANDONED,2020-08-30 11:19:58.000000000,2021-04-08 14:38:02.000000000,,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-30 11:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9f7a5ea9cd0f802660a469bf4e21a9db40882c84', 'message': ""Clean up the deprecated imp module\n\nsince we don't support python2 anymore, the deprecated imp module should\nbe clean up\n\nChange-Id: Ic596021843fd949d2fd6988ffe634466347e68a2\n""}, {'number': 2, 'created': '2020-08-30 15:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a93f0cdb91fb6e5493cd9fc28e233182c14a5072', 'message': ""Clean up the deprecated imp module\n\nsince we don't support python2 anymore, the deprecated imp module should\nbe clean up\n\nChange-Id: Ic596021843fd949d2fd6988ffe634466347e68a2\n""}, {'number': 3, 'created': '2020-09-02 05:44:51.000000000', 'files': ['doc/source/_exts/ansible-autodoc.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_free.py', 'tripleo_ansible/ansible_plugins/action/package.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/da1e82c80d751f24e0fcf0b446c678dada371a80', 'message': ""Clean up the deprecated imp module\n\nsince we don't support python2 anymore, the deprecated imp module should\nbe clean up\n\nChange-Id: Ic596021843fd949d2fd6988ffe634466347e68a2\n""}]",4,748848,da1e82c80d751f24e0fcf0b446c678dada371a80,12,3,3,32067,,,0,"Clean up the deprecated imp module

since we don't support python2 anymore, the deprecated imp module should
be clean up

Change-Id: Ic596021843fd949d2fd6988ffe634466347e68a2
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/748848/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_exts/ansible-autodoc.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_free.py', 'tripleo_ansible/ansible_plugins/action/package.py']",4,9f7a5ea9cd0f802660a469bf4e21a9db40882c84,,"import importlib.utildef load_module(name, path): module_spec = importlib.util.spec_from_file_location( name, path ) module = importlib.util.module_from_spec(module_spec) module_spec.loader.exec_module(module) return module PKG = load_module(", import imp# NOTE(cloudnull): imp is being used because core action plugins are not # importable in py27. Once we get to the point where we # no longer support py27 these lines should be converted # to a straight python import. # # >>> from ansible.plugins.action import package # PKG = imp.load_source(,32,41
openstack%2Ftripleo-ci~master~I9477402b21b3d32f27dc28b77220167954f82552,openstack/tripleo-ci,master,I9477402b21b3d32f27dc28b77220167954f82552,move centos-8-standalone scenario010 to voting,ABANDONED,2020-08-04 20:20:49.000000000,2021-04-08 14:37:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-04 20:20:49.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1a584ee20107e41a71ee4ed5d00da5f2e366eb4b', 'message': ""move centos-8-standalone scenario010 to voting\n\ncentos-8 train\nhttps://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario010-standalone&branch=stable%2Ftrain\ncentos-8 ussuri\nhttps://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario010-standalone&branch=stable%2Fussuri\ncentos-8 master\nhttps://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario010-standalone&branch=master\n\nIt's up for debate whether or not this has hit the\nlevel of stability we need at this time, please\nvote.\n\ncentos-7 and centos-8 are defined in the gate\nhowever centos-7 is only launched aginst\nstable/stein at this time.\n\nChange-Id: I9477402b21b3d32f27dc28b77220167954f82552\n""}]",0,744783,1a584ee20107e41a71ee4ed5d00da5f2e366eb4b,4,2,1,9592,,,0,"move centos-8-standalone scenario010 to voting

centos-8 train
https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario010-standalone&branch=stable%2Ftrain
centos-8 ussuri
https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario010-standalone&branch=stable%2Fussuri
centos-8 master
https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-8-scenario010-standalone&branch=master

It's up for debate whether or not this has hit the
level of stability we need at this time, please
vote.

centos-7 and centos-8 are defined in the gate
however centos-7 is only launched aginst
stable/stein at this time.

Change-Id: I9477402b21b3d32f27dc28b77220167954f82552
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/83/744783/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,1a584ee20107e41a71ee4ed5d00da5f2e366eb4b,, - tripleo-ci-centos-8-scenario010-standalone: files: *scen10_files - tripleo-ci-centos-7-scenario010-standalone:, - tripleo-ci-centos-7-scenario010-standalone: voting: false,3,2
openstack%2Ftripleo-docs~master~I33762bbc4698da02ccf24b04ff61ab7a6a4ad34f,openstack/tripleo-docs,master,I33762bbc4698da02ccf24b04ff61ab7a6a4ad34f,Add a separate guide for public TLS,ABANDONED,2020-05-18 18:08:23.000000000,2021-04-08 14:37:13.000000000,,"[{'_account_id': 5046}, {'_account_id': 9914}, {'_account_id': 9954}, {'_account_id': 22348}, {'_account_id': 28011}]","[{'number': 1, 'created': '2020-05-18 18:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/1c38ed370fecff30c7889e799f0cde1971b4df78', 'message': 'Add a separate guide for public TLS\n\nWe want to document public TLS, but we want to make sure we keep it\nseparate from the TLS-everywhere guide.\n\nThis commit introduces a new feature document that describes exactly\nwhat people have to do to implement TLS for public interfaces only.\n\nChange-Id: I33762bbc4698da02ccf24b04ff61ab7a6a4ad34f\n'}, {'number': 2, 'created': '2020-05-19 01:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/6d234b861e64adf6d0f3539b3a209898366453dd', 'message': 'Add a separate guide for public TLS\n\nWe want to document public TLS, but we want to make sure we keep it\nseparate from the TLS-everywhere guide.\n\nThis commit introduces a new feature document that describes exactly\nwhat people have to do to implement TLS for public interfaces only.\n\nChange-Id: I33762bbc4698da02ccf24b04ff61ab7a6a4ad34f\n'}, {'number': 3, 'created': '2020-05-20 01:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/23aa11ca8b1f7c857474e6d4b0f41400e3927701', 'message': 'Add a separate guide for public TLS\n\nWe want to document public TLS, but we want to make sure we keep it\nseparate from the TLS-everywhere guide.\n\nThis commit introduces a new feature document that describes exactly\nwhat people have to do to implement TLS for public interfaces only.\n\nChange-Id: I33762bbc4698da02ccf24b04ff61ab7a6a4ad34f\n'}, {'number': 4, 'created': '2020-06-01 14:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/05244963f8dcdce4c208fa38a8308bb329469731', 'message': 'Add a separate guide for public TLS\n\nWe want to document public TLS, but we want to make sure we keep it\nseparate from the TLS-everywhere guide.\n\nThis commit introduces a new feature document that describes exactly\nwhat people have to do to implement TLS for public interfaces only.\n\nChange-Id: I33762bbc4698da02ccf24b04ff61ab7a6a4ad34f\n'}, {'number': 5, 'created': '2020-06-24 15:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/5d831f45408bf265abf2529ac91d28b8404fa441', 'message': 'Add a separate guide for public TLS\n\nWe want to document public TLS, but we want to make sure we keep it\nseparate from the TLS-everywhere guide.\n\nThis commit introduces a new feature document that describes exactly\nwhat people have to do to implement TLS for public interfaces only.\n\nChange-Id: I33762bbc4698da02ccf24b04ff61ab7a6a4ad34f\n'}, {'number': 6, 'created': '2020-07-16 17:57:10.000000000', 'files': ['deploy-guide/source/features/index.rst', 'deploy-guide/source/features/tls-introduction.rst', 'deploy-guide/source/features/public-tls.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/de9770e6f212b7479b5bc5d68f12623d86389803', 'message': 'Add a separate guide for public TLS\n\nWe want to document public TLS, but we want to make sure we keep it\nseparate from the TLS-everywhere guide.\n\nThis commit introduces a new feature document that describes exactly\nwhat people have to do to implement TLS for public interfaces only.\n\nChange-Id: I33762bbc4698da02ccf24b04ff61ab7a6a4ad34f\n'}]",9,728972,de9770e6f212b7479b5bc5d68f12623d86389803,21,5,6,5046,,,0,"Add a separate guide for public TLS

We want to document public TLS, but we want to make sure we keep it
separate from the TLS-everywhere guide.

This commit introduces a new feature document that describes exactly
what people have to do to implement TLS for public interfaces only.

Change-Id: I33762bbc4698da02ccf24b04ff61ab7a6a4ad34f
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/72/728972/3 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/public-tls.rst'],1,1c38ed370fecff30c7889e799f0cde1971b4df78,tls-documentation-rewrite,"Public TLS ========== Introduction ------------ Depending on your deployment's security requirements, you might be required to encrypt network traffic. TripleO helps you accomplish this by supporting various TLS deployment options. Let's start by understanding the different ways we can deploy TLS. The first option is to only encrypt traffic between clients and public endpoints. This approach results in fewer certificates to manage, and we refer to it as *public TLS*. Public endpoints, in this sense, are endpoints only exposed to end-users. Traffic between internal endpoints is not encrypted. We do not describe how to deploy *public TLS* in this document. The second option leverages TLS for all endpoints in the entire deployment, including the overcloud, undercloud, and any systems that natively support TLS. We typically refer to this approach as *TLS-everywhere* because we use TLS everywhere we can, encrypting as much network traffic as possible. Certificate management is critical with this approach because the number of certificates scales linearly with the number of services in your deployment. TripleO uses several components to help ease the burden of managing certificates. This option is desirable for deployments susceptible to industry regulation or those who have a higher security risk. Healthcare, telecommunications, and the public sector are but a few industries that make extensive use of *TLS-everywhere*. This document contains all the details to deploy *public TLS*. TripleO makes use of the following components to implement *public TLS*. The sections below describe each component and the role it plays in *public TLS*. Certmonger ~~~~~~~~~~ `Certmonger`_ is a daemon that helps simplify certificate management between endpoints and certificate authorities (CAs). You can use it to generate key pairs and certificate signing requests (CSRs). It can self-sign CSRs or send them to external CAs for signing. Certmonger also tracks the expiration of each certificate it manages. When a certificate is about to expire, Certmonger requests a new certificate, updates it accordingly, and may restart a service. This automation keeps the node enrolled as a client of the certificate authority so that you don’t have to update hundreds, or thousands, of certificates manually. Certmonger runs on each node that provides an endpoint in your deployment. .. _Certmonger: https://pagure.io/certmonger FreeIPA ~~~~~~~ `FreeIPA`_ is a multi-purpose system that includes a certificate authority (DogTag Certificate System), LDAP (389 Directory Server), MIT Kerberos, NTP server, and DNS. TripleO uses all of these subsystems to implement TLS across OpenStack. For example, if you use FreeIPA in your deployment, you can sign CSRs with DogTag, as opposed to self-signing CSRs with certmonger locally. FreeIPA runs on a supplemental node in your deployment, and it is kept separate from other infrastructure. .. _FreeIPA: https://www.freeipa.org/page/Main_Page Installing FreeIPA ^^^^^^^^^^^^^^^^^^ Similar to setting up the undercloud node, you need to set the hostname properly for the FreeIPA server. For this example, let's assume we're using ``example.com`` as the domain name for the deployment.:: sudo hostnamectl set-hostname ipa.example.come sudo hostnamectl set-hostname --transient ipa.example.com Collect and install the FreeIPA packages:: sudo yum install -y ipa-server ipa-server-dns Configure FreeIPA:: sudo ipa-server-install --realm EXAMPLE.COM / --ds-password $DIRECTORY_MANAGER_PASSWORD / --admin-password $ADMIN_PASSWORD / --hostname ipa.example.com / --setup-dns / --auto-forwarders / --auto-reverse / --unattended Please refer to ``ipa-server-install --help`` for specifics on each argument. The directions above are only a guide. You may need to adjust certain values and configuration options to use FreeIPA, depending on your requirements. Novajoin ~~~~~~~~ `Novajoin`_ is a vendor data service that extends nova's config drive functionality. When the undercloud creates new nodes for the overcloud, novajoin creates a host entry in FreeIPA to enable the overcloud node to enroll as a FreeIPA client. If you want to use novajoin, you must have nova deployed in your undercloud. Novajoin isn't supported for deployments :doc:`deployed_server`. Novajoin was introduced in the Queens release and is supported through Train. The tripleo-ipa project, described below, effectively replaced novajoin in the Train release. .. _Novajoin: https://opendev.org/x/novajoin tripleo-ipa ~~~~~~~~~~~ `tripleo-ipa`_ is a collection of Ansible roles used to integrate FreeIPA into TripleO deployments. These playbooks support deployments using nova and ironic in the undercloud as well as :doc:`deployed_server`. This project was introduced in Train and effectively replaces the novajoin metadata service. We recommend using tripleo-ipa for all *TLS-everywhere* deployments as of the Train release. In a future release, we will update TripleO to only support tripleo-ipa as the default method for configuring and deploying *TLS-everywhere*. .. _tripleo-ipa: https://opendev.org/x/tripleo-ipa Deploying TLS-everywhere ------------------------ Settings up *TLS-everywhere* primarily consists of a few additional steps you need to take on the undercloud. These steps consist of installing additional packages and enrolling the undercloud host as a FreeIPA client. You can either use tripleo-ipa or Novajoin to deploy *TLS-everywhere*. If you're deploying a release version older than Train, you can use Novajoin. If you're deploying Train or newer, you can use tripleo-ipa. Deployments :ref:`deployed_server` must use tripleo-ipa. We recommend using tripleo-ipa whenever possible. Let's walk through each step using both tripleo-ipa and Novajoin. TLS-everywhere with tripleo-ipa ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. note:: This deployment strategy is only supported on Train and newer releases. If you're deploying a version older than Train, you'll need to use Novajoin to accomplish *TLS-everywhere*, which is documented below. Do the following steps before deploying your undercloud. Configure DNS ^^^^^^^^^^^^^ *TLS-everywhere* deployments use FreeIPA as the DNS server. You need to set the proper search domain and nameserver on the undercloud. To do this, you need to know the deployment domain, the domain of the FreeIPA server, and the FreeIPA server's IP address. For example, if the deployment domain is `example.com` and the FreeIPA server domain is `bigcorp.com`, you should set the following in `/etc/resolv.conf`:: search example.com bigcorp.com nameserver $FREEIPA_IP_ADDRESS This step ensures the undercloud can resolve newly added hosts and services after TripleO enrolls them as FreeIPA clients. You only need to add both search domains if they're different. If the FreeIPA server is using the same domain as the deployment you only need to specify the deployment domain. Install additional packages ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Install the following packages for python3 deployments:: $ sudo yum install -y python3-ipalib python3-ipaclient krb5-devel For deployments using Train, install the corresponding python2 versions of the above packages:: $ sudo yum install -y python-ipalib python-ipaclient krb5-devel Enroll the Undercloud as an IPA client ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ The tripleo-ipa project is a dependency of tripleo-common. You must have tripleo-common installed to run the ``undercloud-ipa-install.yaml`` playbook, which enrolls the undercloud as a FreeIPA client. You need to set the following environment variables before executing the playbook:: export IPA_DOMAIN=bigcorp.com export IPA_REALM=BIGCORP.COM export IPA_ADMIN_USER=$IPA_USER export IPA_ADMIN_PASSWORD=$IPA_PASSWORD export IPA_SERVER_HOSTNAME=ipa.bigcorp.com export UNDERCLOUD_FQDN=undercloud.example.com export USER=stack export CLOUD_DOMAIN=example.com The variables above assume the stack user exists. You need to update these values according to your deployment. If your FreeIPA server is using the same domain and the cloud domain, update it to the be the same. These are example values. The FreeIPA user credentials must be an administrative user that can add new hosts and services. Next, run the playbook on the undercloud:: $ ansible-playbook --ssh-extra-args ""-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null"" /usr/share/ansible/tripleo-playbooks/undercloud-ipa-install.yaml Configure the Undercloud ^^^^^^^^^^^^^^^^^^^^^^^^ .. warning:: This section only provides guidance for configuring *TLS-everywhere*. You need to make sure your undercloud configuration is complete before starting the undercloud installation process. Set the following variables in `undercloud.conf`:: undercloud_nameservers = $FREEIPA_IP_ADDRESS overcloud_domain_name = example.com Your undercloud configuration is ready to be deployed and has the necessary changes to allow you to deploy *TLS-everywhere* for the overcloud. Undercloud Install ^^^^^^^^^^^^^^^^^^ After you've had an opportunity to verify all undercloud configuration options, including the options listed above, start the undercloud installation process:: $ openstack undercloud install Undercloud Verification ^^^^^^^^^^^^^^^^^^^^^^^ You should verify that the undercloud was enrolled properly by listing the hosts in FreeIPA:: $ kinit $ ipa host-find You should also confirm that ``/etc/novajoin/krb5.keytab`` exists on the undercloud. The ``novajoin`` directory name is purely for legacy naming reasons. The keytab is placed in this directory regardless of using novajoin to enroll the undercloud as a FreeIPA client. You can proceed with the :ref:`Overcloud TLS-everywhere` if the undercloud installation was successful. TLS-everywhere with Novajoin ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. warning:: This deployment strategy is only supported up to the Train release. We recommend using tripleo-ipa to accomplish *TLS-everywhere* in newer releases. Steps for using tripleo-ipa are documented above. Do the following steps before deploying your undercloud. Configure DNS ^^^^^^^^^^^^^ *TLS-everywhere* deployments use FreeIPA as the DNS server. You need to set the proper search domain and nameserver on the undercloud. To do this, you need to know the deployment domain, the domain of the FreeIPA server, and the FreeIPA server's IP address. For example, if the deployment domain is `example.com` and the FreeIPA server domain is `bigcorp.com`, you should set the following in `/etc/resolv.conf`:: search example.com bigcorp.com nameserver $FREEIPA_IP_ADDRESS This step ensures the undercloud can resolve newly added hosts and services after TripleO enrolls them as FreeIPA clients. You only need to add both search domains if they're different. If the FreeIPA server is using the same domain as the deployment you only need to specify the deployment domain. Install additional packages ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Install the following packages:: $ sudo yum install -y python-ipalib python-ipaclient krb5-devel python-novajoin Add Undercloud as a FreeIPA host ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Next, you need to add the undercloud as a host in FreeIPA. This will generate a one-time password that TripleO uses to enroll the undercloud as a FreeIPA client, giving the undercloud the permissions it needs to add new hosts, services, and DNS records. You can use the following command-line utility to add the undercloud as a FreeIPA host:: novajoin-ipa-setup \ --principal $IPA_USER \ --password $IPA_PASSWORD \ --server ipa.bigcorp.com \ --realm BIGCORP.COM \ --domain example.com \ --hostname undercloud.example.com \ --precreate If successful, the command will return a one-time password. Save this password because you will need it later to configure the undercloud. Configure the Undercloud ^^^^^^^^^^^^^^^^^^^^^^^^ .. warning:: This section only provides guidance for configuring *TLS-everywhere*. You need to make sure your undercloud configuration is complete before starting the undercloud installation process. Set the following variables in `undercloud.conf`:: enable_novajoin = True ipa_otp = $IPA_OTP overcloud_domain_name = example.com Your undercloud configuration is ready to be deployed and has the necessary changes to allow you to deploy *TLS-everywhere* for the overcloud. Undercloud Install ^^^^^^^^^^^^^^^^^^ After you've had an opportunity to verify all undercloud configuration options, including the options listed above, start the undercloud installation process:: $ openstack undercloud install Undercloud Verification ^^^^^^^^^^^^^^^^^^^^^^^ You should verify that the undercloud was enrolled properly by listing the hosts in FreeIPA:: $ kinit $ ipa host-find You should also confirm that ``/etc/novajoin/krb5.keytab`` exists on the undercloud and that the ``novajoin`` and ``novajoin-notifier`` services are running. You can proceed with the :ref:`Overcloud TLS-everywhere` if the undercloud installation was successful. .. _Overcloud TLS-everywhere: Configuring the Overcloud ~~~~~~~~~~~~~~~~~~~~~~~~~ *TLS-everywhere* requires you to set extra parameters and templates before you deploy, or update, your overcloud. These changes consist of settings domain information and including additional heat templates in your deploy command. Let's walk through each step individually. Set Parameters ^^^^^^^^^^^^^^ Next, you need to set parameters so that TripleO knows where to find your FreeIPA server and configures DNS. You need to set these variables so that TripleO adds DNS records that map to the correct hosts. Let's continue assuming we have a file called ``tls-parameters.yaml`` and it contains the following parameter_defaults section:: parameter_defaults: DnsSearchDomains: [""example.com""] DnsServers: [""192.168.1.13""] CloudDomain: example.com CloudName: overcloud.example.com CloudNameInternal: overcloud.internalapi.example.com CloudNameStorage: overcloud.storage.example.com CloudNameStorageManagement: overcloud.storagemgmt.example.com CloudNameCtlplane: overcloud.ctlplane.example.com The ``DnsServers`` value above assumes we have FreeIPA available at 192.168.1.13. It's important to note that you will need to update the `DnsSearchDomains` to include the domain of the IPA server if it's different than the `CloudDomain`. For example, if your `CloudDomain` is `example.com` and your IPA server is located at `ipa.bigcorp.com`, then you need to include `bigcorp.com` as an additional search domain:: DnsSearchDomains: [""example.com"", ""bigcorp.com""] Composable Services ^^^^^^^^^^^^^^^^^^^ In addition to the parameters above, you might need to update the ``resource_registry`` in ``tls-parameters.yaml`` to include a composable service. There are two composable services, one for Novajoin and the other is for tripleo-ipa. TripleO uses the Novajoin composable service for deploying *TLS-everywhere* by default. If you need or want to use tripleo-ipa, you'll need to update the registry to use a different composable service. Both options are described below. Novajoin """""""""""""""" This is the default option but we will update TripleO in the future to use tripleo-ipa by default. At that point, you may need to add the following composable service to the ``resource_registry`` in ``tls-parameters.yaml``:: resource_registry: OS::TripleO::Services::IpaClient: /usr/share/openstack-tripleo-heat-templates/deployment/ipa/ipaclient-baremetal-ansible.yaml tripleo-ipa """""""""""""""""""""" If you're deploying *TLS-everwhere* with tripleo-ipa, you need to override the default Novajoin composable service. Add the following composable service to the ``resource_registry`` in ``tls-parameters.yaml``:: resource_registry: OS::TripleO::Services::IpaClient: /usr/share/openstack-tripleo-heat-templates/deployment/ipa/ipaservices-baremetal-ansible.yaml Remember, this is going to be the default method of deploying *TLS-everywhere* in the future. Specify Templates ^^^^^^^^^^^^^^^^^ At this point, you should have all the settings configured for a successful TLS-everywhere deployment. The only remaining step is to include the following templates in your overcloud deploy command:: $ openstack overcloud deploy \ -e /usr/share/openstack-tripleo-heat-templates/environments/ssl/tls-everywhere-endpoints-dns.yaml \ -e /usr/share/openstack-tripleo-heat-templates/environments/services/haproxy-public-tls-certmonger.yaml \ -e /usr/share/openstack-tripleo-heat-templates/environments/ssl/enable-internal-tls.yaml \ -e tls-parameters.yaml Remember, ``tls-parameters.yaml`` is the file containing the parameters above. Overcloud Verification ~~~~~~~~~~~~~~~~~~~~~~ After the overcloud is deployed, you can confirm each endpoint is using HTTPS by querying keystone's endpoints:: $ openstack --os-cloud overcloud endpoint list Deleting Overclouds ~~~~~~~~~~~~~~~~~~~ .. note:: This functionality is only invoked when you use the ``openstack overcloud delete`` command using Train or newer releases. The overcloud is technically a heat stack, but using ``openstack stack delete`` will not clean up FreeIPA. .. note:: This section is only applicable to deployments using tripleo-ipa. Novajoin cleans up FreeIPA after consuming notifications about instance deletion. The python-tripleoclient CLI cleans up hosts, services, and DNS records in FreeIPA when you delete an overcloud:: $ openstack overcloud delete overcloud You can verify the hosts, services, DNS records were removed by querying FreeIPA:: $ kinit $ ipa host-find $ ipa service-find $ ipa dnsrecord-find example.com. The undercloud host, service, and DNS records are untouched when deleting overclouds. Overcloud hosts, services, and DNS records are re-added to FreeIPA during subsequent deployments. If you don't want to clean up FreeIPA when you delete your overcloud, you can use the ``openstack overcloud delete --skip-ipa-cleanup`` parameter. This option leaves all overcloud hosts, services, and DNS records in FreeIPA. You might find this useful if your FreeIPA server is unreachable or if you plan to clean up FreeIPA later. To clean up FreeIPA manually, you need the Ansible inventory file that describes your deployment. If you don't have it handy, you can generate one from the undercloud using:: $ source stackrc $ tripleo-ansible-inventory --static-yaml-inventory generated-inventory.yaml The utility will generate an inventory file and store it as ``generated-inventory.yaml``. You can invoke the playbook that cleans up FreeIPA using:: $ ansible-playbook -i generated-inventory.yaml /usr/share/ansible/tripleo-playbooks/cli-cleanup-ipa.yml ",,490,0
openstack%2Ftripleo-ci~master~I664d079aef1feb28d59ebe6fe13d49527f8793a7,openstack/tripleo-ci,master,I664d079aef1feb28d59ebe6fe13d49527f8793a7,Add Octavia standalone upgrade CI job,ABANDONED,2020-02-28 15:53:00.000000000,2021-04-08 14:37:07.000000000,,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-28 15:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b2735ee8951e80255da2ff1f55601f1004482f7d', 'message': 'Add Octavia standalone upgrade CI job\n\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 2, 'created': '2020-02-29 11:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2c6fe89960dbe3745d234c87edb0aaa11756f5a3', 'message': 'Add Octavia standalone upgrade CI job\n\nDepends-On: https://review.opendev.org/#/c/710556/\n\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 3, 'created': '2020-03-14 18:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cfb83ed8973388c1ab1b9a36a29526dec29372f7', 'message': 'Add Octavia standalone upgrade CI job\n\nDepends-On: https://review.opendev.org/#/c/710556/\nDepends-On: https://review.opendev.org/#/c/713108/\n\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 4, 'created': '2020-03-14 18:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5875c91be70f015581ac028e5416626eb64a8925', 'message': 'Add Octavia standalone upgrade CI job\n\nDepends-On: https://review.opendev.org/#/c/710556/\nDepends-On: https://review.opendev.org/#/c/713108/\n\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 5, 'created': '2020-03-15 08:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b4aeb3caa48a989f8ef0674f67fcd5428ff799cb', 'message': 'Add Octavia standalone upgrade CI job\n\nDepends-On: https://review.opendev.org/#/c/710556/\nDepends-On: https://review.opendev.org/#/c/713108/\n\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 6, 'created': '2020-03-16 09:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ceafbb829ab04d8b4aad9e6a81727797e6e68783', 'message': 'Add Octavia standalone upgrade CI job\n\nDepends-On: https://review.opendev.org/#/c/710556/\nDepends-On: https://review.opendev.org/#/c/713108/\n\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 7, 'created': '2020-03-17 08:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7925c6de00f937497fc30e769914905294dd5779', 'message': 'Add Octavia standalone upgrade CI job\n\nBase CentOS 8 upgrade master job is not functional yet. We still define\nthe CentOS 8 upgrade master job for Octavia to get some work already\ndone, as well as CentOS 7 upgrade master job for Octavia meanwhile (to\nbe removed as soon as the CentOS 8 one passes).\n\nDepends-On: https://review.opendev.org/#/c/710556/\nDepends-On: https://review.opendev.org/#/c/713108/\n\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 8, 'created': '2020-03-18 10:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7755548f09e591e144662f949401e79b8242fa41', 'message': 'Add Octavia standalone upgrade CI job\n\nBase CentOS 8 upgrade master job is not functional yet. We still define\nthe CentOS 8 upgrade master job for Octavia to get some work already\ndone, as well as CentOS 7 upgrade master job for Octavia meanwhile (to\nbe removed as soon as the CentOS 8 one passes).\n\nDepends-On: https://review.opendev.org/#/c/710556/\nDepends-On: https://review.opendev.org/#/c/713108/\n\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 9, 'created': '2020-03-18 10:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/24ca8dd42ffb18779db3b79328a467309afc4922', 'message': 'Add Octavia standalone upgrade CI job\n\nBase CentOS 8 upgrade master job is not functional yet. We still define\nthe CentOS 8 upgrade master job for Octavia to get some work already\ndone, as well as CentOS 7 upgrade master job for Octavia meanwhile (to\nbe removed as soon as the CentOS 8 one passes).\n\nDepends-On: https://review.opendev.org/#/c/710556/\nDepends-On: https://review.opendev.org/#/c/713108/\n\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 10, 'created': '2020-03-24 12:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b608c019882f3c3c083db90422f985b66a04a821', 'message': 'Add Octavia standalone upgrade CI job\n\nDepends-On: https://review.opendev.org/#/c/713108/\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 11, 'created': '2020-03-24 12:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9a98bbc82ee368788870b322f49fe4f114803ed6', 'message': 'Add Octavia standalone upgrade CI job\n\nDepends-On: https://review.opendev.org/#/c/713108/\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 12, 'created': '2020-03-25 10:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/915b0e7b1dbd225b4de7a14fde9bc13675acec18', 'message': 'Add Octavia standalone upgrade CI job\n\nDepends-On: https://review.opendev.org/#/c/713108/\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 13, 'created': '2020-03-26 09:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/20324626e9bd561238d48a172b2c1d04a6347239', 'message': 'Add Octavia standalone upgrade CI job\n\nDepends-On: https://review.opendev.org/#/c/715137/\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 14, 'created': '2020-04-14 09:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f522e9d57c1dede9f7ae00e2df67daab5d6d62b9', 'message': 'Add Octavia standalone upgrade CI job\n\nDepends-On: https://review.opendev.org/#/c/715137/\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 15, 'created': '2020-05-11 10:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/909671907056fb824932f35b798d161da19f3f4e', 'message': 'Add Octavia standalone upgrade CI job\n\nDepends-On: https://review.opendev.org/#/c/715137/\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 16, 'created': '2020-05-29 08:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/eb3c1cfb13aab350a2f613b9dc548c716fac5d8d', 'message': 'Add Octavia standalone upgrade CI job\n\nDepends-On: https://review.opendev.org/#/c/715137/\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 17, 'created': '2020-05-29 10:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ad8874937d7bc8a15b86cfbaa9e9f2b16c081e22', 'message': 'Add Octavia standalone upgrade CI job\n\nDepends-On: https://review.opendev.org/#/c/715137/\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 18, 'created': '2020-06-05 14:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e1b36a813b87d8b99447b5a4cde89de09593a949', 'message': 'Add Octavia standalone upgrade CI job\n\nDepends-On: https://review.opendev.org/#/c/715137/\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 19, 'created': '2020-06-08 06:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8d573a1b37ca4b3e0538a898f76da191c52e4de4', 'message': 'Add Octavia standalone upgrade CI job\n\nDepends-On: https://review.opendev.org/#/c/715137/\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}, {'number': 20, 'created': '2020-07-14 08:04:56.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/502688b4ad0a190c7a530d7b2be97ce4c108a41a', 'message': 'Add Octavia standalone upgrade CI job\n\nDepends-On: https://review.opendev.org/#/c/715137/\nChange-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7\n'}]",49,710473,502688b4ad0a190c7a530d7b2be97ce4c108a41a,118,8,20,6469,,,0,"Add Octavia standalone upgrade CI job

Depends-On: https://review.opendev.org/#/c/715137/
Change-Id: I664d079aef1feb28d59ebe6fe13d49527f8793a7
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/73/710473/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,b2735ee8951e80255da2ff1f55601f1004482f7d,octavia-ci-upgrade, - tripleo-ci-centos-7-scenario010-standalone-upgrade: files: *scen10_files - job: name: tripleo-ci-centos-7-scenario010-standalone-upgrade voting: false parent: tripleo-ci-base-standalone-upgrade nodeset: single-centos-7-node branches: ^(?!stable/(newton|ocata|pike|queens|rocky)).*$ vars: tags: - build - standalone - octavia featureset: '062' standalone_ceph: true tempest_workers: 1 featureset_override: standalone_upgrade: true validate_services: false standalone_environment_files: - 'environments/low-memory-usage.yaml' - 'ci/environments/scenario010-standalone.yaml' ,,24,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ie1509e6e8f4545e331db6ef49f096bb66662998b,openstack/tripleo-heat-templates,stable/queens,Ie1509e6e8f4545e331db6ef49f096bb66662998b,Add STF environment,ABANDONED,2020-04-23 14:59:34.000000000,2021-04-08 14:37:03.000000000,,"[{'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30357}]","[{'number': 1, 'created': '2020-04-23 14:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec2c1c9a4fec09c036a631a6a65288550788f61d', 'message': ""[WIP] Add STF environment\n\nBackport of 3790c804a70081227f03f704bc160947a0b21fdb\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nNote about the plugins:\n\n- virt plugin is already automatically loaded on each role where\n  nova-compute is deployed. The hieradata is always set in\n  eployment/metrics/collectd-container-puppet but it's fine because the\n  plugin isn't always enabled. No need to add extra complexity with\n  parameters.\n- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are\n  automatically loaded if STF is enabled.\n\nDepends-On: I1a1f619bc1de27a974dfd966e73a7a30128ac277\nChange-Id: Ie1509e6e8f4545e331db6ef49f096bb66662998b\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n""}, {'number': 2, 'created': '2020-04-23 18:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9efda2b885b3dae67182da99ac846a190166a835', 'message': ""[WIP] Add STF environment\n\nBackport of 3790c804a70081227f03f704bc160947a0b21fdb\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nNote about the plugins:\n\n- virt plugin is already automatically loaded on each role where\n  nova-compute is deployed. The hieradata is always set in\n  eployment/metrics/collectd-container-puppet but it's fine because the\n  plugin isn't always enabled. No need to add extra complexity with\n  parameters.\n- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are\n  automatically loaded if STF is enabled.\n\nDepends-On: I1a1f619bc1de27a974dfd966e73a7a30128ac277\nChange-Id: Ie1509e6e8f4545e331db6ef49f096bb66662998b\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n""}, {'number': 3, 'created': '2020-04-23 18:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64c0cecff1fb991e63063752545cab2f2a3d614e', 'message': ""[WIP] Add STF environment\n\nBackport of 3790c804a70081227f03f704bc160947a0b21fdb\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nNote about the plugins:\n\n- virt plugin is already automatically loaded on each role where\n  nova-compute is deployed. The hieradata is always set in\n  eployment/metrics/collectd-container-puppet but it's fine because the\n  plugin isn't always enabled. No need to add extra complexity with\n  parameters.\n- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are\n  automatically loaded if STF is enabled.\n\nDepends-On: I1a1f619bc1de27a974dfd966e73a7a30128ac277\nChange-Id: Ie1509e6e8f4545e331db6ef49f096bb66662998b\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n""}, {'number': 4, 'created': '2020-04-24 03:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c518ab45e467f8ff22c3c41a8890b46982fd6538', 'message': ""[WIP] Add STF environment\n\nBackport of 3790c804a70081227f03f704bc160947a0b21fdb\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nNote about the plugins:\n\n- virt plugin is already automatically loaded on each role where\n  nova-compute is deployed. The hieradata is always set in\n  eployment/metrics/collectd-container-puppet but it's fine because the\n  plugin isn't always enabled. No need to add extra complexity with\n  parameters.\n- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are\n  automatically loaded if STF is enabled.\n\nDepends-On: I1a1f619bc1de27a974dfd966e73a7a30128ac277\nChange-Id: Ie1509e6e8f4545e331db6ef49f096bb66662998b\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n""}, {'number': 5, 'created': '2020-04-27 15:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/688f2e60e60de660f7021d395db17cb12b60e24f', 'message': ""Add STF environment\n\nBackport of 3790c804a70081227f03f704bc160947a0b21fdb\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nNote about the plugins:\n\n- virt plugin is already automatically loaded on each role where\n  nova-compute is deployed. The hieradata is always set in\n  eployment/metrics/collectd-container-puppet but it's fine because the\n  plugin isn't always enabled. No need to add extra complexity with\n  parameters.\n- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are\n  automatically loaded if STF is enabled.\n\nDepends-On: I1a1f619bc1de27a974dfd966e73a7a30128ac277\nChange-Id: Ie1509e6e8f4545e331db6ef49f096bb66662998b\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n""}, {'number': 6, 'created': '2020-04-27 15:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/55e1bf79187d36f2fa5a148be6faee39e5e21f7f', 'message': ""Add STF environment\n\nBackport of 3790c804a70081227f03f704bc160947a0b21fdb\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nNote about the plugins:\n\n- virt plugin is already automatically loaded on each role where\n  nova-compute is deployed. The hieradata is always set in\n  eployment/metrics/collectd-container-puppet but it's fine because the\n  plugin isn't always enabled. No need to add extra complexity with\n  parameters.\n- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are\n  automatically loaded if STF is enabled.\n\nDepends-On: I1a1f619bc1de27a974dfd966e73a7a30128ac277\nChange-Id: Ie1509e6e8f4545e331db6ef49f096bb66662998b\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n""}, {'number': 7, 'created': '2020-04-27 15:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8406cff9dcc129d51e37d6c0817b8db350b43dc6', 'message': ""Add STF environment\n\nBackport of 3790c804a70081227f03f704bc160947a0b21fdb\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nNote about the plugins:\n\n- virt plugin is already automatically loaded on each role where\n  nova-compute is deployed. The hieradata is always set in\n  eployment/metrics/collectd-container-puppet but it's fine because the\n  plugin isn't always enabled. No need to add extra complexity with\n  parameters.\n- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are\n  automatically loaded if STF is enabled.\n\nDepends-On: I1a1f619bc1de27a974dfd966e73a7a30128ac277\nChange-Id: Ie1509e6e8f4545e331db6ef49f096bb66662998b\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n""}, {'number': 8, 'created': '2020-05-01 18:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a31c8bf1725a0e08f1ecf897455151065f932dd7', 'message': ""Add STF environment\n\nBackport of 3790c804a70081227f03f704bc160947a0b21fdb\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nNote about the plugins:\n\n- virt plugin is already automatically loaded on each role where\n  nova-compute is deployed. The hieradata is always set in\n  eployment/metrics/collectd-container-puppet but it's fine because the\n  plugin isn't always enabled. No need to add extra complexity with\n  parameters.\n- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are\n  automatically loaded if STF is enabled.\n\nDepends-On: I1a1f619bc1de27a974dfd966e73a7a30128ac277\nChange-Id: Ie1509e6e8f4545e331db6ef49f096bb66662998b\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n""}, {'number': 9, 'created': '2020-05-01 23:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c9c8edfaedb32db7c59a8b8855d48217b32c2f0', 'message': ""Add STF environment\n\nBackport of 3790c804a70081227f03f704bc160947a0b21fdb\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nNote about the plugins:\n\n- virt plugin is already automatically loaded on each role where\n  nova-compute is deployed. The hieradata is always set in\n  eployment/metrics/collectd-container-puppet but it's fine because the\n  plugin isn't always enabled. No need to add extra complexity with\n  parameters.\n- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are\n  automatically loaded if STF is enabled.\n\nDepends-On: I1a1f619bc1de27a974dfd966e73a7a30128ac277\nChange-Id: Ie1509e6e8f4545e331db6ef49f096bb66662998b\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n""}, {'number': 10, 'created': '2020-05-05 14:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3f87d5a02c38dbbe1a92b5e04fe8458a93fcaff9', 'message': ""Add STF environment\n\nBackport of 3790c804a70081227f03f704bc160947a0b21fdb\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nNote about the plugins:\n\n- virt plugin is already automatically loaded on each role where\n  nova-compute is deployed. The hieradata is always set in\n  eployment/metrics/collectd-container-puppet but it's fine because the\n  plugin isn't always enabled. No need to add extra complexity with\n  parameters.\n- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are\n  automatically loaded if STF is enabled.\n\nDepends-On: I1a1f619bc1de27a974dfd966e73a7a30128ac277\nChange-Id: Ie1509e6e8f4545e331db6ef49f096bb66662998b\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n""}, {'number': 11, 'created': '2020-05-12 06:38:42.000000000', 'files': ['docker/services/metrics/qdr.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'environments/enable-stf.yaml', 'puppet/services/metrics/collectd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa03c9a2c2109d5e07037c491409927fbc129a20', 'message': ""Add STF environment\n\nBackport of 3790c804a70081227f03f704bc160947a0b21fdb\n\nAdd yaml to enable the STF client side. The only manual configuration\nnecessary should be pointing the host to the STF server.\n\nRemove tcpconns from the collectd default plugin list, as\nthere are no users of it, and it should not be in the default\nplugin list when STF is enabled.\n\nMore discussion about settings at\nhttps://github.com/infrawatch/telemetry-framework/pull/100\n\nNote about the plugins:\n\n- virt plugin is already automatically loaded on each role where\n  nova-compute is deployed. The hieradata is always set in\n  eployment/metrics/collectd-container-puppet but it's fine because the\n  plugin isn't always enabled. No need to add extra complexity with\n  parameters.\n- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are\n  automatically loaded if STF is enabled.\n\nDepends-On: I1a1f619bc1de27a974dfd966e73a7a30128ac277\nChange-Id: Ie1509e6e8f4545e331db6ef49f096bb66662998b\nSigned-off-by: Ryan McCabe <rmccabe@redhat.com>\n""}]",0,722349,fa03c9a2c2109d5e07037c491409927fbc129a20,36,5,11,30357,,,0,"Add STF environment

Backport of 3790c804a70081227f03f704bc160947a0b21fdb

Add yaml to enable the STF client side. The only manual configuration
necessary should be pointing the host to the STF server.

Remove tcpconns from the collectd default plugin list, as
there are no users of it, and it should not be in the default
plugin list when STF is enabled.

More discussion about settings at
https://github.com/infrawatch/telemetry-framework/pull/100

Note about the plugins:

- virt plugin is already automatically loaded on each role where
  nova-compute is deployed. The hieradata is always set in
  eployment/metrics/collectd-container-puppet but it's fine because the
  plugin isn't always enabled. No need to add extra complexity with
  parameters.
- cpu, df, load, intel_rdt, connectivity, procevent and ipmi are
  automatically loaded if STF is enabled.

Depends-On: I1a1f619bc1de27a974dfd966e73a7a30128ac277
Change-Id: Ie1509e6e8f4545e331db6ef49f096bb66662998b
Signed-off-by: Ryan McCabe <rmccabe@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/722349/11 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/metrics/qdr.yaml', 'environments/enable-stf.yaml', 'puppet/services/metrics/collectd.yaml']",3,ec2c1c9a4fec09c036a631a6a65288550788f61d,queens-backports," EnableSTF: type: boolean description: Set to true to enable configuration for STF client. default: false enable_stf: equals: [{get_param: EnableSTF}, true] collectd::interval: {get_param: CollectdDefaultPollingInterval} collectd::plugin::cpu::reportbycpu: true collectd::plugin::cpu::reportbystate: true collectd::plugin::cpu::reportnumcpu: false collectd::plugin::cpu::valuespercentage: true collectd::plugin::df::ignoreselected: true collectd::plugin::df::reportbydevice: true collectd::plugin::df::fstypes: ['xfs'] collectd::plugin::load::reportrelative: true collectd::plugin::virt::connection: ""qemu:///system"" collectd::plugin::virt::extra_stats: ""cpu_util disk disk_err pcpu job_stats_background perf vcpupin"" collectd::plugin::virt::hostname_format: ""hostname"" stf_plugins: if: - enable_stf - - cpu - df - load - connectivity - intel_rdt - ipmi - procevent - [] ($.data.default_plugins + $.data.stf_plugins + $.data.extra_plugins)", - tcpconns ($.data.default_plugins + $.data.extra_plugins),81,3
openstack%2Fpython-tripleoclient~master~I4942696db01e5ab8511e7e9e583a1317a86ba7ed,openstack/python-tripleoclient,master,I4942696db01e5ab8511e7e9e583a1317a86ba7ed,Add support for python 3.8,ABANDONED,2020-05-26 10:14:40.000000000,2021-04-08 14:36:59.000000000,,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-05-26 10:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/77cfba93e72a291c81aa5f08cbb8ea3de7b6c9f8', 'message': 'Refresh python versions\n\nIntroduce support of python 3.8 and move tox and jobs to py38.\n\njsonschema 3.2.0 [1] support python 3.8\n\n[1] https://github.com/Julian/jsonschema/pull/627\n\nChange-Id: I4942696db01e5ab8511e7e9e583a1317a86ba7ed\n'}, {'number': 2, 'created': '2020-05-26 10:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/04ce3af0e7e7b3086f59843ef8598a4d5ba20d16', 'message': 'Refresh python versions\n\nIntroduce support of python 3.8 [2] and move tox and jobs to py38.\n\njsonschema 3.2.0 [1] support python 3.8\n\n[1] https://github.com/Julian/jsonschema/pull/627\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: I4942696db01e5ab8511e7e9e583a1317a86ba7ed\n'}, {'number': 3, 'created': '2020-05-26 10:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/10867652fd701f19658b68c6da0a07d37fa35b35', 'message': 'Refresh python versions\n\nIntroduce support of python 3.8 [2] and move tox and jobs to py38.\n\njsonschema 3.2.0 [1] support python 3.8\n\n[1] https://github.com/Julian/jsonschema/pull/627\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: I4942696db01e5ab8511e7e9e583a1317a86ba7ed\n'}, {'number': 4, 'created': '2020-05-26 10:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6ca53c1e1686fd0dc020836267de1e3c303a4905', 'message': 'Refresh python versions\n\nIntroduce support of python 3.8 [1] and move tox and jobs to py38.\n\njsonschema 3.2.0 [2] support python 3.8\n\n[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n[2] https://github.com/Julian/jsonschema/pull/627\n\nChange-Id: I4942696db01e5ab8511e7e9e583a1317a86ba7ed\n'}, {'number': 5, 'created': '2020-05-26 10:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a76818a361a711a66f2ba56d219c7e55d40ff1c1', 'message': 'Add support for python 3.8\n\nIntroduce support of python 3.8 [1] and move tox and jobs to py38.\n\njsonschema 3.2.0 [2] support python 3.8\n\n[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n[2] https://github.com/Julian/jsonschema/pull/627\n\nChange-Id: I4942696db01e5ab8511e7e9e583a1317a86ba7ed\n'}, {'number': 6, 'created': '2020-06-19 10:42:27.000000000', 'files': ['lower-constraints.txt', 'zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8231c0570cb70513a70e82163230809cc32c7f6b', 'message': 'Add support for python 3.8\n\nIntroduce support of python 3.8 [1] and move tox and jobs to py38.\n\njsonschema 3.2.0 [2] support python 3.8\n\n[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n[2] https://github.com/Julian/jsonschema/pull/627\n\nChange-Id: I4942696db01e5ab8511e7e9e583a1317a86ba7ed\n'}]",3,730750,8231c0570cb70513a70e82163230809cc32c7f6b,24,7,6,28522,,,0,"Add support for python 3.8

Introduce support of python 3.8 [1] and move tox and jobs to py38.

jsonschema 3.2.0 [2] support python 3.8

[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria
[2] https://github.com/Julian/jsonschema/pull/627

Change-Id: I4942696db01e5ab8511e7e9e583a1317a86ba7ed
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/50/730750/3 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'zuul.d/layout.yaml', 'tox.ini']",3,77cfba93e72a291c81aa5f08cbb8ea3de7b6c9f8,py38,"envlist = pep8,py38,py37,py36","envlist = pep8,py37,py36",3,2
openstack%2Fpython-tripleoclient~master~Ic989eb9c93625595643c6c325fd751a7ea8143ce,openstack/python-tripleoclient,master,Ic989eb9c93625595643c6c325fd751a7ea8143ce,Use unittest.mock instead of third party mock,ABANDONED,2020-04-18 16:59:52.000000000,2021-04-08 14:36:55.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-18 16:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e2bd922547f2af64a3b4fce66385f2e66f28630a', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: Ic989eb9c93625595643c6c325fd751a7ea8143ce\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-05-29 15:45:51.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/tests/v2/overcloud_delete/test_overcloud_delete.py', 'tripleoclient/tests/v2/overcloud_support/test_overcloud_support.py', 'tripleoclient/tests/v1/test_overcloud_plan.py', 'test-requirements.txt', 'tripleoclient/tests/v1/test_container_image.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/tests/v2/undercloud/test_backup.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/tests/workflows/test_base.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/tests/v1/baremetal/fakes.py', 'tripleoclient/tests/v1/test_overcloud_profiles.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/test_plugin.py', 'tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py', 'tripleoclient/tests/workflows/test_plan_management.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/tests/v1/overcloud_netenv_validate/test_overcloud_netenv_validate.py', 'tripleoclient/tests/v1/test_overcloud_raid.py', 'tripleoclient/tests/v1/overcloud_node/fakes.py', 'tripleoclient/tests/v1/test_overcloud_plan_roles.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/test_export.py', 'tripleoclient/tests/v1/overcloud_config/test_overcloud_config.py', 'tripleoclient/tests/v1/undercloud/minion/test_install.py', 'lower-constraints.txt', 'tripleoclient/tests/v1/test_overcloud_parameters.py', 'tripleoclient/tests/v1/overcloud_external_upgrade/test_overcloud_external_upgrade.py', 'tripleoclient/tests/v1/test_overcloud_admin.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py', 'tripleoclient/tests/v1/undercloud/minion/test_config.py', 'tripleoclient/tests/v1/test_plugin.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_upgrade.py', 'tripleoclient/tests/v1/overcloud_deploy/fakes.py', 'tripleoclient/tests/v1/test_overcloud_bios.py', 'tripleoclient/tests/v1/undercloud/test_config.py', 'tripleoclient/tests/v1/overcloud_roles/test_overcloud_roles.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/tests/test_overcloud_credentials.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cdabd7d04805b423b473cfe7cdef135b6c1e6a7d', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: Ic989eb9c93625595643c6c325fd751a7ea8143ce\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,721004,cdabd7d04805b423b473cfe7cdef135b6c1e6a7d,10,3,2,11904,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: Ic989eb9c93625595643c6c325fd751a7ea8143ce
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/04/721004/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/tests/v2/overcloud_delete/test_overcloud_delete.py', 'tripleoclient/tests/v2/overcloud_support/test_overcloud_support.py', 'tripleoclient/tests/v1/test_overcloud_plan.py', 'test-requirements.txt', 'tripleoclient/tests/v1/test_container_image.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/tests/v2/undercloud/test_backup.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/tests/workflows/test_base.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/tests/v1/baremetal/fakes.py', 'tripleoclient/tests/v1/test_overcloud_profiles.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/test_plugin.py', 'tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py', 'tripleoclient/tests/workflows/test_plan_management.py', 'tripleoclient/tests/workflows/test_deployment.py', 'tripleoclient/tests/v1/overcloud_netenv_validate/test_overcloud_netenv_validate.py', 'tripleoclient/tests/v1/test_overcloud_raid.py', 'tripleoclient/tests/v1/overcloud_node/fakes.py', 'tripleoclient/tests/v1/test_overcloud_plan_roles.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/test_export.py', 'tripleoclient/tests/v1/overcloud_config/test_overcloud_config.py', 'tripleoclient/tests/v1/undercloud/minion/test_install.py', 'tripleoclient/tests/v1/test_overcloud_parameters.py', 'tripleoclient/tests/v1/overcloud_external_upgrade/test_overcloud_external_upgrade.py', 'tripleoclient/tests/v1/test_overcloud_admin.py', 'tripleoclient/tests/v1/overcloud_ffwd_upgrade/test_overcloud_ffwd_upgrade.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py', 'tripleoclient/tests/v1/undercloud/minion/test_config.py', 'tripleoclient/tests/v1/test_plugin.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_upgrade.py', 'tripleoclient/tests/v1/overcloud_deploy/fakes.py', 'tripleoclient/tests/v1/test_overcloud_bios.py', 'tripleoclient/tests/v1/undercloud/test_config.py', 'tripleoclient/tests/v1/overcloud_roles/test_overcloud_roles.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/tests/test_overcloud_credentials.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py']",46,e2bd922547f2af64a3b4fce66385f2e66f28630a,unittest.mock,from unittest import mock ,import mock,54,46
openstack%2Ftripleo-heat-templates~master~I2c13dda52c0b478024d98714c4f5a9f8fde89dad,openstack/tripleo-heat-templates,master,I2c13dda52c0b478024d98714c4f5a9f8fde89dad,Undercloud upgrade steps to switch off nova and glance,ABANDONED,2020-06-10 21:39:11.000000000,2021-04-08 14:36:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-10 21:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/23e5d47a757553d0a6cd502941040ff8cd7da72f', 'message': 'WIP undercloud upgrade steps to switch off nova and glance\n\nChange-Id: I2c13dda52c0b478024d98714c4f5a9f8fde89dad\nBlueprint: nova-less-deploy\n'}, {'number': 2, 'created': '2020-06-11 01:20:03.000000000', 'files': ['deployment/undercloud/undercloud-upgrade.yaml', 'environments/undercloud-disable-nova.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d96b375a07e26b2768841a10f2cd6e36f7f2e7de', 'message': 'Undercloud upgrade steps to switch off nova and glance\n\nThe following steps during undercloud upgrade are taken when undercloud.conf\nenable_nova=false\n\nExtract existing provisioned nodes:\nThis writes out a ~/<overcloud>-baremetal-deploy.yaml file for each overcloud\nstack. When ""openstack overcloud node provision"" is run with this file, no nodes\nwill be added or removed, and a deployed server config will be generated which\ncan be used for subsequent overcloud upgrade/deploy calls\n\nStop nova and glance services:\nThis assumes that the undercloud is being upgraded from at least Train, where\ncontainers are podman and managed by systemd, with units written by paunch or\nansible.\n\nDelete nova and glance endpoint catalog entries:\nThese must be deleted because some tasks (image upload) will check for an\nendpoint to decide what to do (upload or copy locally)\n\nRemove nova/glance tripleo-config files:\nConfig files from previous undercloud install runs remain, so are executed\nagain even when a config change removes them. This should probably be improved\nbut in the meantime, explicitly delete the nova and glance configs so the\nservices don\'t get redeployed.\n\nChange-Id: I2c13dda52c0b478024d98714c4f5a9f8fde89dad\nBlueprint: nova-less-deploy\n'}]",0,734980,d96b375a07e26b2768841a10f2cd6e36f7f2e7de,6,2,2,4571,,,0,"Undercloud upgrade steps to switch off nova and glance

The following steps during undercloud upgrade are taken when undercloud.conf
enable_nova=false

Extract existing provisioned nodes:
This writes out a ~/<overcloud>-baremetal-deploy.yaml file for each overcloud
stack. When ""openstack overcloud node provision"" is run with this file, no nodes
will be added or removed, and a deployed server config will be generated which
can be used for subsequent overcloud upgrade/deploy calls

Stop nova and glance services:
This assumes that the undercloud is being upgraded from at least Train, where
containers are podman and managed by systemd, with units written by paunch or
ansible.

Delete nova and glance endpoint catalog entries:
These must be deleted because some tasks (image upload) will check for an
endpoint to decide what to do (upload or copy locally)

Remove nova/glance tripleo-config files:
Config files from previous undercloud install runs remain, so are executed
again even when a config change removes them. This should probably be improved
but in the meantime, explicitly delete the nova and glance configs so the
services don't get redeployed.

Change-Id: I2c13dda52c0b478024d98714c4f5a9f8fde89dad
Blueprint: nova-less-deploy
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/734980/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/undercloud/undercloud-upgrade.yaml', 'environments/undercloud-disable-nova.yaml']",2,23e5d47a757553d0a6cd502941040ff8cd7da72f,bp/nova-less-deploy, UndercloudUpgradeRemoveNova: true,,28,0
openstack%2Ftripleo-heat-templates~master~I4a25cae8ccc07f850f6d75f5ee3902ebfd2d9184,openstack/tripleo-heat-templates,master,I4a25cae8ccc07f850f6d75f5ee3902ebfd2d9184,unused e,ABANDONED,2020-05-21 02:38:55.000000000,2021-04-08 14:36:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-21 02:38:55.000000000', 'files': ['tools/render-ansible-tasks.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad48843638cbff797ae03c6f7b32ef7c28c0e341', 'message': 'unused e\n\nChange-Id: I4a25cae8ccc07f850f6d75f5ee3902ebfd2d9184\n'}]",0,729827,ad48843638cbff797ae03c6f7b32ef7c28c0e341,4,2,1,30456,,,0,"unused e

Change-Id: I4a25cae8ccc07f850f6d75f5ee3902ebfd2d9184
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/729827/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/render-ansible-tasks.py'],1,ad48843638cbff797ae03c6f7b32ef7c28c0e341,unused-e," print(""There are no tasks in the configuration file. %s: %s"" % ( e.__class__.__name__, e))"," print(""There are no tasks in the configuration file"")",2,1
openstack%2Ftripleo-heat-templates~master~I8482d380344ffde4f0b8b0c26813fa6fc91153db,openstack/tripleo-heat-templates,master,I8482d380344ffde4f0b8b0c26813fa6fc91153db,Bump hacking min version to 3.1.0,ABANDONED,2020-05-19 21:41:31.000000000,2021-04-08 14:36:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-19 21:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9304711feac22b3a6cffbfa9976d6138cbabad19', 'message': 'Bump hacking min version to 3.1.0\n\nChange-Id: I8482d380344ffde4f0b8b0c26813fa6fc91153db\n'}, {'number': 2, 'created': '2020-05-20 00:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebd7c5b87dedd32c838d219676782932637c8f38', 'message': 'Bump hacking min version to 3.1.0\n\nChange-Id: I8482d380344ffde4f0b8b0c26813fa6fc91153db\n'}, {'number': 3, 'created': '2020-05-20 03:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e86bfd49fd74b9ad6c94338109115262d5572832', 'message': 'Bump hacking min version to 3.1.0\n\nChange-Id: I8482d380344ffde4f0b8b0c26813fa6fc91153db\n'}, {'number': 4, 'created': '2020-05-20 06:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d22a2bfc23c87eb71f4fa0e6f6d9fa529796cde1', 'message': 'Bump hacking min version to 3.1.0\n\nChange-Id: I8482d380344ffde4f0b8b0c26813fa6fc91153db\n'}, {'number': 5, 'created': '2020-05-20 09:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/900c93c13abd7a245312a0b17cde565e39e89b83', 'message': 'Bump hacking min version to 3.1.0\n\nChange-Id: I8482d380344ffde4f0b8b0c26813fa6fc91153db\n'}, {'number': 6, 'created': '2020-05-20 09:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4fdc198d1b7a8b98748f80f15dd67a1e03c18735', 'message': 'Bump hacking min version to 3.1.0\n\nChange-Id: I8482d380344ffde4f0b8b0c26813fa6fc91153db\n'}, {'number': 7, 'created': '2020-05-21 01:13:49.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e3e1ecc62b681af2412dd918e3e751248ef4ac2', 'message': 'Bump hacking min version to 3.1.0\n\nChange-Id: I8482d380344ffde4f0b8b0c26813fa6fc91153db\n'}]",0,729405,1e3e1ecc62b681af2412dd918e3e751248ef4ac2,15,1,7,30456,,,0,"Bump hacking min version to 3.1.0

Change-Id: I8482d380344ffde4f0b8b0c26813fa6fc91153db
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/729405/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,9304711feac22b3a6cffbfa9976d6138cbabad19,hacking-fix,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=1.1.0,<1.2.0 # Apache-2.0",1,1
openstack%2Fproject-config~master~I208646b1701fde8e743a645a77ab73dcdc0a55a1,openstack/project-config,master,I208646b1701fde8e743a645a77ab73dcdc0a55a1,Move away from nodejs4 in an Openstack context,MERGED,2021-04-08 09:34:03.000000000,2021-04-08 14:29:37.000000000,2021-04-08 14:29:37.000000000,"[{'_account_id': 2}, {'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 09:34:03.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d8528d83a8986c1af708c9894b9e8afbf8acf102', 'message': ""Move away from nodejs4 in an Openstack context\n\nFirst I voluntarely ignored 'x' projects. These changes are only against\nopenstack projects.\n\nWe recently experienced inconsistencies between yarn and the nodejs\nversion in use in some environments [1]. This problem have been fixed [2]\nby Adding the nodejs10-publish-to-npm project template [3] and by using\nit on the project that failed [4].\n\nHowever today we started to experience the same issue again [5] on another\nproject (eslint-config-openstack).\n\nThese changes move this project under nodejs10.\n\nAlso these changes propose to move to nodejs10 all the projects under the\nopenstack umbrella.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021002.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021207.html\n[3] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/781825/\n[4] https://review.opendev.org/c/openstack/project-config/+/781826/\n[5] http://lists.openstack.org/pipermail/release-job-failures/2021-April/001525.html\n\nChange-Id: I208646b1701fde8e743a645a77ab73dcdc0a55a1\n""}]",0,785353,d8528d83a8986c1af708c9894b9e8afbf8acf102,9,5,1,28522,,,0,"Move away from nodejs4 in an Openstack context

First I voluntarely ignored 'x' projects. These changes are only against
openstack projects.

We recently experienced inconsistencies between yarn and the nodejs
version in use in some environments [1]. This problem have been fixed [2]
by Adding the nodejs10-publish-to-npm project template [3] and by using
it on the project that failed [4].

However today we started to experience the same issue again [5] on another
project (eslint-config-openstack).

These changes move this project under nodejs10.

Also these changes propose to move to nodejs10 all the projects under the
openstack umbrella.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021002.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021207.html
[3] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/781825/
[4] https://review.opendev.org/c/openstack/project-config/+/781826/
[5] http://lists.openstack.org/pipermail/release-job-failures/2021-April/001525.html

Change-Id: I208646b1701fde8e743a645a77ab73dcdc0a55a1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/53/785353/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,d8528d83a8986c1af708c9894b9e8afbf8acf102,fix-yarn-nodejs, - nodejs10-publish-to-npm - nodejs10-publish-to-npm - nodejs10-publish-to-npm - nodejs10-publish-to-npm, - nodejs4-publish-to-npm - nodejs4-publish-to-npm - nodejs4-publish-to-npm - nodejs4-publish-to-npm,4,4
openstack%2Freleases~master~Ibd0b5538acc18584bfeb69ce5c395692f90058da,openstack/releases,master,Ibd0b5538acc18584bfeb69ce5c395692f90058da,Final RC patch for magnum,MERGED,2021-04-08 09:37:03.000000000,2021-04-08 14:23:08.000000000,2021-04-08 14:23:08.000000000,"[{'_account_id': 308}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-08 09:37:03.000000000', 'files': ['deliverables/wallaby/magnum.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/78a21dcd2dccc095ef0492dd811d5dd78a0d3f5d', 'message': 'Final RC patch for magnum\n\nThis creates a new RC before the final release candidate deadline to\nrelease the latest fixes and/or translations.\n\nPlease ack with a +1, or if there is some reason to hold off, leave a -1.\n\n$ git log --oneline --no-merges 12.0.0.0rc1..c2a4a22a\nc2a4a22a [K8S] Enable --use-service-account-credentials\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ibd0b5538acc18584bfeb69ce5c395692f90058da\n'}]",0,785356,78a21dcd2dccc095ef0492dd811d5dd78a0d3f5d,9,4,1,28522,,,0,"Final RC patch for magnum

This creates a new RC before the final release candidate deadline to
release the latest fixes and/or translations.

Please ack with a +1, or if there is some reason to hold off, leave a -1.

$ git log --oneline --no-merges 12.0.0.0rc1..c2a4a22a
c2a4a22a [K8S] Enable --use-service-account-credentials

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ibd0b5538acc18584bfeb69ce5c395692f90058da
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/785356/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/magnum.yaml'],1,78a21dcd2dccc095ef0492dd811d5dd78a0d3f5d,wallaby-final-rc, - version: 12.0.0.0rc2 projects: - repo: openstack/magnum hash: c2a4a22ac838a14e84685500e977cc1c5c94df2e,,4,0
openstack%2Fproject-team-guide~master~I4c89ce7b02f651b8b1eda34345463d374fa6829a,openstack/project-team-guide,master,I4c89ce7b02f651b8b1eda34345463d374fa6829a,Update project deprecation docs,MERGED,2021-03-31 06:25:20.000000000,2021-04-08 14:18:47.000000000,2021-04-08 14:17:15.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-31 06:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/c52c73f13d2d8778bdd36f2a103c8e467b9694d1', 'message': 'Update project deprecation docs\n\nAs per Andreas comment in [1] it seems for me that during deprecation of\nthe project it should be also removed from the www/project-data/latest.yaml\nwhich isn\'t mentioned in the ""Project deprecation"" document.\nThis patch adds that missing note.\n\n[1] https://review.opendev.org/c/openstack/openstack-manuals/+/783798\n\nChange-Id: I4c89ce7b02f651b8b1eda34345463d374fa6829a\n'}, {'number': 2, 'created': '2021-04-06 10:01:10.000000000', 'files': ['doc/source/repository.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/ca88ca946a7318f0e53b1de6376ed13b144b9160', 'message': 'Update project deprecation docs\n\nAs per Andreas comment in [1] it seems for me that during deprecation of\nthe project it should be also removed from the www/project-data/latest.yaml\nwhich isn\'t mentioned in the ""Project deprecation"" document.\nThis patch adds that missing note.\n\n[1] https://review.opendev.org/c/openstack/openstack-manuals/+/783798\n\nChange-Id: I4c89ce7b02f651b8b1eda34345463d374fa6829a\n'}]",8,784005,ca88ca946a7318f0e53b1de6376ed13b144b9160,21,5,2,11975,,,0,"Update project deprecation docs

As per Andreas comment in [1] it seems for me that during deprecation of
the project it should be also removed from the www/project-data/latest.yaml
which isn't mentioned in the ""Project deprecation"" document.
This patch adds that missing note.

[1] https://review.opendev.org/c/openstack/openstack-manuals/+/783798

Change-Id: I4c89ce7b02f651b8b1eda34345463d374fa6829a
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/05/784005/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/repository.rst'],1,c52c73f13d2d8778bdd36f2a103c8e467b9694d1,update-project-deprecation-docs,Please also remove project from the list in the ``www/project-data/latest.yaml`` to remove it from the list of new releases. ,,3,0
openstack%2Fhorizon~stable%2Fwallaby~Ic8b723e6fd423b96a4f5eff54f9392cee534ed9e,openstack/horizon,stable/wallaby,Ic8b723e6fd423b96a4f5eff54f9392cee534ed9e,Don't load user role assignment or groups tabs for non-admins,MERGED,2021-04-07 10:22:11.000000000,2021-04-08 14:12:31.000000000,2021-04-08 14:05:12.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-07 10:22:11.000000000', 'files': ['openstack_dashboard/dashboards/identity/users/tabs.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/33c5f63e22d95ca26e74a0ae2a56c40787e92015', 'message': ""Don't load user role assignment or groups tabs for non-admins\n\nAs a non admin user, navigate to Identity -> Users. Then click on the\nusername of your user to go to the detail page.\n\nOnly the allowed Overview tab is visible.\n\nThe view shows three tabs: Overview, Role assignments, Groups. Click on\neither Role assignments or Groups. An error will appear, showing that\nthe API call is unauthorised, and the table content will fail to load.\n\nThis change fixes the issue by conditionally loading the tabs based on\npolicy.\n\nCloses-Bug: #1920214\nChange-Id: Ic8b723e6fd423b96a4f5eff54f9392cee534ed9e\n(cherry picked from commit 60cf32031565ed8b4b2a4a39380a060997c9d9e4)\n""}]",0,785125,33c5f63e22d95ca26e74a0ae2a56c40787e92015,12,5,1,1736,,,0,"Don't load user role assignment or groups tabs for non-admins

As a non admin user, navigate to Identity -> Users. Then click on the
username of your user to go to the detail page.

Only the allowed Overview tab is visible.

The view shows three tabs: Overview, Role assignments, Groups. Click on
either Role assignments or Groups. An error will appear, showing that
the API call is unauthorised, and the table content will fail to load.

This change fixes the issue by conditionally loading the tabs based on
policy.

Closes-Bug: #1920214
Change-Id: Ic8b723e6fd423b96a4f5eff54f9392cee534ed9e
(cherry picked from commit 60cf32031565ed8b4b2a4a39380a060997c9d9e4)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/25/785125/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/identity/users/tabs.py'],1,33c5f63e22d95ca26e74a0ae2a56c40787e92015,," def allowed(self, request): return policy.check(((""identity"", ""identity:list_role_assignments""),), self.request) def allowed(self, request): return policy.check(((""identity"", ""identity:list_groups""),), self.request) ",,8,0
openstack%2Fhorizon~master~I2040201b533f1d16f1f629e31be8d7b9130b2e52,openstack/horizon,master,I2040201b533f1d16f1f629e31be8d7b9130b2e52,Sync default policy rules,MERGED,2021-03-30 05:49:08.000000000,2021-04-08 13:58:48.000000000,2021-04-07 18:51:01.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-30 05:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/586b0db681551b3dce58ada395ddd9b629506cea', 'message': 'Sync default policy rules\n\nUpdate default policy-in-code rules in horizon based on\nnova/neutron/cinder/glance RC1 deliverables.\n\nChange-Id: I2040201b533f1d16f1f629e31be8d7b9130b2e52\n'}, {'number': 2, 'created': '2021-04-01 02:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b2fe1450422d25fac0420ff507dfbd57d26954e3', 'message': 'Sync default policy rules\n\nUpdate default policy-in-code rules in horizon based on\nnova/neutron/cinder/glance RC1 deliverables.\n\nChange-Id: I2040201b533f1d16f1f629e31be8d7b9130b2e52\n'}, {'number': 3, 'created': '2021-04-07 14:18:52.000000000', 'files': ['openstack_dashboard/conf/default_policies/neutron.yaml', 'openstack_dashboard/conf/default_policies/glance.yaml', 'openstack_dashboard/conf/cinder_policy.yaml', 'openstack_dashboard/conf/default_policies/nova.yaml', 'openstack_dashboard/conf/nova_policy.yaml', 'openstack_dashboard/conf/default_policies/cinder.yaml', 'openstack_dashboard/conf/neutron_policy.yaml', 'openstack_dashboard/conf/glance_policy.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4e195570e5eadce049872a34ce5a91af554333a1', 'message': 'Sync default policy rules\n\nUpdate default policy-in-code rules in horizon based on\nnova/neutron/cinder/glance RC deliverables.\nMore precisely, they are based on the top of stable/wallaby\nbranch of these projects as of Apr 7 14UTC.\n\nChange-Id: I2040201b533f1d16f1f629e31be8d7b9130b2e52\n'}]",4,783782,4e195570e5eadce049872a34ce5a91af554333a1,21,4,3,841,,,0,"Sync default policy rules

Update default policy-in-code rules in horizon based on
nova/neutron/cinder/glance RC deliverables.
More precisely, they are based on the top of stable/wallaby
branch of these projects as of Apr 7 14UTC.

Change-Id: I2040201b533f1d16f1f629e31be8d7b9130b2e52
",git fetch https://review.opendev.org/openstack/horizon refs/changes/82/783782/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/conf/default_policies/neutron.yaml', 'openstack_dashboard/conf/default_policies/glance.yaml', 'openstack_dashboard/conf/default_policies/nova.yaml', 'openstack_dashboard/conf/default_policies/cinder.yaml']",4,586b0db681551b3dce58ada395ddd9b629506cea,default-policy-update,"- check_str: (role:admin and system_scope:all) or (role:admin and domain_id:%(domain_id)s) or (role:admin and project_id:%(project_id)s) description: Default rule for admins of cloud, domain or a project. name: system_or_domain_or_project_admin operations: [] scope_types: null- check_str: rule:admin_api- check_str: rule:system_or_domain_or_project_admin description: Set or update default volume type. name: volume_extension:default_set_or_update operations: - method: PUT path: /default-types scope_types: - system - check_str: rule:system_or_domain_or_project_admin description: Get default types. name: volume_extension:default_get operations: - method: GET path: /default-types/{project-id} scope_types: - system - check_str: role:admin and system_scope:all description: 'Get all default types. WARNING: Changing this might open up too much information regarding cloud deployment.' name: volume_extension:default_get_all operations: - method: GET path: /default-types/ scope_types: - system - check_str: rule:system_or_domain_or_project_admin description: Unset default type. name: volume_extension:default_unset operations: - method: DELETE path: /default-types/{project-id} scope_types: - system",- check_str: rule:admin_or_owner description: Validate setup for nested quota. name: volume_extension:quota_classes:validate_setup_for_nested_quota_use operations: - method: GET path: /os-quota-sets/validate_setup_for_nested_quota_use scope_types: null - check_str: rule:admin_api,2321,661
openstack%2Fpython-tripleoclient~master~Ia7b629011b6f5bf0071c7625efd6bd5bf1c185af,openstack/python-tripleoclient,master,Ia7b629011b6f5bf0071c7625efd6bd5bf1c185af,Add release note for tripleo deploy working dir,ABANDONED,2021-04-08 00:22:35.000000000,2021-04-08 13:56:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-08 00:22:35.000000000', 'files': ['releasenotes/notes/tripleo-deploy-working-dir-e0cdf80a82ac256d.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d82116eb220fa7a082b7d078c661c28d33c975ec', 'message': 'Add release note for tripleo deploy working dir\n\nChange-Id: Ia7b629011b6f5bf0071c7625efd6bd5bf1c185af\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,785296,d82116eb220fa7a082b7d078c661c28d33c975ec,3,1,1,7144,,,0,"Add release note for tripleo deploy working dir

Change-Id: Ia7b629011b6f5bf0071c7625efd6bd5bf1c185af
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/96/785296/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/tripleo-deploy-working-dir-e0cdf80a82ac256d.yaml'],1,d82116eb220fa7a082b7d078c661c28d33c975ec,,"--- features: - The ""openstack tripleo deploy"" and ""openstack undercloud install"" commands now save their generated artifacts from the deployment under a single consistent directory, which by default is located at ~/tripleo-deploy/<stack>. For the undercloud, this location is ~/tripleo-deploy/undercloud. The directory can be overridden with the --output-dir option. ",,8,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I22e11a994801447526ac26fc2815a1679876225e,openstack/kolla-ansible,stable/victoria,I22e11a994801447526ac26fc2815a1679876225e,[CI] Use images from quay.io,MERGED,2021-04-06 06:36:28.000000000,2021-04-08 13:43:22.000000000,2021-04-08 13:42:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2021-04-06 06:36:28.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/366be65fd4d929f06074bd166fa3849d5fb32276', 'message': '[CI] Use images from quay.io\n\nBased on the discussions from the past 3 Kolla meetings [1][2][3],\nwe established that, to avoid the DockerHub pull limit issues\nin our CI, we will try using quay.io.\n\nThe images have already been published via Kolla CI\nfor master/Wallaby [4] and Victoria [5].\n\nThis change applies only to CI.\nThe user-facing move is yet to be discussed.\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102\n[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137\n[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50\n[4] https://review.opendev.org/c/openstack/kolla/+/781130\n[5] https://review.opendev.org/c/openstack/kolla/+/781899\n\nChange-Id: I22e11a994801447526ac26fc2815a1679876225e\n(cherry picked from commit 9c045aee36997098b655c7d6b03c72f3409ab152)\n'}]",0,784845,366be65fd4d929f06074bd166fa3849d5fb32276,9,3,1,30491,,,0,"[CI] Use images from quay.io

Based on the discussions from the past 3 Kolla meetings [1][2][3],
we established that, to avoid the DockerHub pull limit issues
in our CI, we will try using quay.io.

The images have already been published via Kolla CI
for master/Wallaby [4] and Victoria [5].

This change applies only to CI.
The user-facing move is yet to be discussed.

[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102
[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137
[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50
[4] https://review.opendev.org/c/openstack/kolla/+/781130
[5] https://review.opendev.org/c/openstack/kolla/+/781899

Change-Id: I22e11a994801447526ac26fc2815a1679876225e
(cherry picked from commit 9c045aee36997098b655c7d6b03c72f3409ab152)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/784845/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,366be65fd4d929f06074bd166fa3849d5fb32276,kolla-quay.io-stable/victoria,"# use the published images from a site mirror of quay.io docker_registry: ""{{ zuul_site_mirror_fqdn }}:4447"" docker_registry_insecure: no docker_namespace: openstack.kolla","# use docker hub images docker_namespace: ""kolla""",4,2
openstack%2Fmonasca-thresh~master~I4c6e6f1dbacf093f94b566abc7251f4e33eff93f,openstack/monasca-thresh,master,I4c6e6f1dbacf093f94b566abc7251f4e33eff93f,Use external Zookeeper in Local mode,MERGED,2021-03-27 18:40:28.000000000,2021-04-08 13:39:28.000000000,2021-04-08 13:39:28.000000000,"[{'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2021-03-27 18:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/e143551a32e9fe80adfb736b3f0a6c762ada502a', 'message': ""[WIP] Use external Zookeeper for Local mode\n\nBy default Storm uses the in-process ZooKeeper when the local mode\nis chosen.\n\nThe in-process ZooKeeper doesn't handle the trim of ZooKeeper\nTransactional logs & snapshots.\n\nThere is constructor which enable the possibility to use an\nexternal ZooKeeper when the local mode is used. [1][2]\n\n[1] https://issues.apache.org/jira/browse/STORM-213\n[2] https://github.com/apache/storm/pull/137/files\n\nChange-Id: I4c6e6f1dbacf093f94b566abc7251f4e33eff93f\n""}, {'number': 2, 'created': '2021-04-07 16:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/29b12147aec1ec665d4affc675a95a364ba45285', 'message': ""[WIP] Use external Zookeeper for Local mode\n\nBy default Storm uses the in-process ZooKeeper when the local mode\nis chosen.\n\nThe in-process ZooKeeper doesn't handle the trim of ZooKeeper\nTransactional logs & snapshots.\n\nThere is constructor which enable the possibility to use an\nexternal ZooKeeper when the local mode is used. [1][2]\n\n[1] https://issues.apache.org/jira/browse/STORM-213\n[2] https://github.com/apache/storm/pull/137/files\n\nChange-Id: I4c6e6f1dbacf093f94b566abc7251f4e33eff93f\n""}, {'number': 3, 'created': '2021-04-07 17:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/810545437cf4a71763d4f0029d9dd1b862320978', 'message': ""[WIP] Use external Zookeeper for Local mode\n\nBy default Storm uses the in-process ZooKeeper when the local mode\nis chosen.\n\nThe in-process ZooKeeper doesn't handle the trim of ZooKeeper\nTransactional logs & snapshots.\n\nThere is constructor which enable the possibility to use an\nexternal ZooKeeper when the local mode is used. [1][2]\n\n[1] https://issues.apache.org/jira/browse/STORM-213\n[2] https://github.com/apache/storm/pull/137/files\n\nChange-Id: I4c6e6f1dbacf093f94b566abc7251f4e33eff93f\n""}, {'number': 4, 'created': '2021-04-07 18:54:17.000000000', 'files': ['thresh/src/main/java/monasca/thresh/ThresholdingEngine.java'], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/d156980a528caf1797df1a621719dd76668a18dd', 'message': ""Use external Zookeeper in Local mode\n\nBy default Storm uses the in-process ZooKeeper when the local mode\nis chosen.\n\nThe in-process ZooKeeper doesn't handle the trim of ZooKeeper\nTransactional logs & snapshots.\n\nThere is a constructor which enables the possibility to use an\nexternal ZooKeeper when the local mode is used. [1][2]\n\n[1] https://issues.apache.org/jira/browse/STORM-213\n[2] https://github.com/apache/storm/pull/137/files\n\nChange-Id: I4c6e6f1dbacf093f94b566abc7251f4e33eff93f\n""}]",0,783565,d156980a528caf1797df1a621719dd76668a18dd,13,2,4,28062,,,0,"Use external Zookeeper in Local mode

By default Storm uses the in-process ZooKeeper when the local mode
is chosen.

The in-process ZooKeeper doesn't handle the trim of ZooKeeper
Transactional logs & snapshots.

There is a constructor which enables the possibility to use an
external ZooKeeper when the local mode is used. [1][2]

[1] https://issues.apache.org/jira/browse/STORM-213
[2] https://github.com/apache/storm/pull/137/files

Change-Id: I4c6e6f1dbacf093f94b566abc7251f4e33eff93f
",git fetch https://review.opendev.org/openstack/monasca-thresh refs/changes/65/783565/4 && git format-patch -1 --stdout FETCH_HEAD,['thresh/src/main/java/monasca/thresh/ThresholdingEngine.java'],1,e143551a32e9fe80adfb736b3f0a6c762ada502a,," new LocalCluster(""zookeeper"", new Long(2181)).submitTopology(topologyName, config, topology);"," new LocalCluster().submitTopology(topologyName, config, topology);",1,1
openstack%2Fpython-tripleoclient~stable%2Fussuri~I973ea8c210db477b735a99755332346a646bea19,openstack/python-tripleoclient,stable/ussuri,I973ea8c210db477b735a99755332346a646bea19,Move static-inventory option into parser group,MERGED,2021-04-01 14:46:58.000000000,2021-04-08 13:26:05.000000000,2021-04-08 13:19:03.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-04-01 14:46:58.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/126406663bc6d8cfac4b8774c93db3b8800d72f9', 'message': ""Move static-inventory option into parser group\n\nStatic-inventory should not be in extra_vars_group, this\npatch move this option into parser.\nIt's faling when we want to provide both:\n--static-inventory and --extra-vars option since the\nextra_vars_group is mutually exclusive.\n\nChange-Id: I973ea8c210db477b735a99755332346a646bea19\n(cherry picked from commit 986f9261119f64fcbfe1c3957ee1c721eed370df)\n""}]",0,784401,126406663bc6d8cfac4b8774c93db3b8800d72f9,16,3,1,16515,,,0,"Move static-inventory option into parser group

Static-inventory should not be in extra_vars_group, this
patch move this option into parser.
It's faling when we want to provide both:
--static-inventory and --extra-vars option since the
extra_vars_group is mutually exclusive.

Change-Id: I973ea8c210db477b735a99755332346a646bea19
(cherry picked from commit 986f9261119f64fcbfe1c3957ee1c721eed370df)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/01/784401/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,126406663bc6d8cfac4b8774c93db3b8800d72f9,vf/static/inv-stable/victoria-stable/ussuri," parser.add_argument( '--static-inventory', action='store', default='', help=_( ""Provide your own static inventory file. You can generate "" ""such an inventory calling tripleo-ansible-inventory command. "" ""Especially useful when heat service isn't available."" ) ) "," extra_vars_group.add_argument( '--static-inventory', action='store', default='', help=_( ""Provide your own static inventory file. You can generate "" ""such an inventory calling tripleo-ansible-inventory command. "" ""Especially useful when heat service isn't available."" ) ) ",12,11
openstack%2Fopenstack-ansible-os_neutron~master~Ic0698494815f0f344cfd2ce826045f76c1e2b06a,openstack/openstack-ansible-os_neutron,master,Ic0698494815f0f344cfd2ce826045f76c1e2b06a,Fix u-c filter regex,MERGED,2021-03-30 09:11:50.000000000,2021-04-08 13:23:23.000000000,2021-04-08 13:18:29.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-03-30 09:11:50.000000000', 'files': ['tasks/neutron_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a9ec915d809c38adf04c38dc622940cb7398a4c8', 'message': 'Fix u-c filter regex\n\nChange-Id: Ic0698494815f0f344cfd2ce826045f76c1e2b06a\n'}]",0,783811,a9ec915d809c38adf04c38dc622940cb7398a4c8,8,3,1,25023,,,0,"Fix u-c filter regex

Change-Id: Ic0698494815f0f344cfd2ce826045f76c1e2b06a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/11/783811/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/neutron_install.yml'],1,a9ec915d809c38adf04c38dc622940cb7398a4c8,," venv_build_constraints: ""{{ _u_c_contents.content.split('\n') | reject('match', '^ceilometer=') | list }}"""," venv_build_constraints: ""{{ _u_c_contents.content.split('\n') | reject('match', '[ceilometer=*]') | list }}""",1,1
openstack%2Ftripleo-ci~master~I18c7f243e7793c1dbd115d850a57a5ee079d965c,openstack/tripleo-ci,master,I18c7f243e7793c1dbd115d850a57a5ee079d965c,Enable some tests for the ovn-octavia-provider master job,MERGED,2021-04-06 18:48:44.000000000,2021-04-08 13:19:07.000000000,2021-04-08 13:19:07.000000000,"[{'_account_id': 8449}, {'_account_id': 11975}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-06 18:48:44.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0d1f5312ee14c770bdc3315a64bfcba3b5abdf26', 'message': ""Enable some tests for the ovn-octavia-provider master job\n\nThe parent class enables 'smoke' tests, which only runs HTTP\ntests that the OVN provider does not support. Add some tests\nit does support for a minimum sanity check.\n\nChange-Id: I18c7f243e7793c1dbd115d850a57a5ee079d965c\n""}]",5,785026,0d1f5312ee14c770bdc3315a64bfcba3b5abdf26,13,5,1,1131,,,0,"Enable some tests for the ovn-octavia-provider master job

The parent class enables 'smoke' tests, which only runs HTTP
tests that the OVN provider does not support. Add some tests
it does support for a minimum sanity check.

Change-Id: I18c7f243e7793c1dbd115d850a57a5ee079d965c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/26/785026/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,0d1f5312ee14c770bdc3315a64bfcba3b5abdf26,ovn-provider-tests," tempest_test_whitelist: # The parent class runs *smoke, which only runs HTTP tests that # the ovn-provider doesn't support, so run some it does. - '^octavia_tempest_plugin.tests.scenario.v2.test_load_balancer.LoadBalancerScenarioTest'", load_balancer.test_with_ipv6: false,4,1
openstack%2Fcharm-heat~master~Iffe53a0a9feb59e0d94f08ee152e6f5d7107192c,openstack/charm-heat,master,Iffe53a0a9feb59e0d94f08ee152e6f5d7107192c,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:25:36.000000000,2021-04-08 13:13:02.000000000,2021-04-08 13:13:02.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-03 19:25:36.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/files/policy_rc_d_script.py', 'hooks/charmhelpers/contrib/openstack/policy_rcd.py', 'test-requirements.txt', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/openstack/exceptions.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/c93b67b11e8f65f556f3e0751fa75b6791d6f878', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: Iffe53a0a9feb59e0d94f08ee152e6f5d7107192c\n'}]",0,784655,c93b67b11e8f65f556f3e0751fa75b6791d6f878,14,3,1,20870,,,0,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: Iffe53a0a9feb59e0d94f08ee152e6f5d7107192c
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/55/784655/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/files/policy_rc_d_script.py', 'hooks/charmhelpers/contrib/openstack/policy_rcd.py', 'test-requirements.txt', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/openstack/exceptions.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py']",16,c93b67b11e8f65f556f3e0751fa75b6791d6f878,libraries-sync-21-04,,,1395,91
openstack%2Ftacker~master~Ibc67c97b389f707b67fa59c7e69e536faf88b40d,openstack/tacker,master,Ibc67c97b389f707b67fa59c7e69e536faf88b40d,Improvement of FT cases for Retry LCM Operation,MERGED,2021-03-31 07:00:34.000000000,2021-04-08 13:03:26.000000000,2021-04-08 12:59:00.000000000,"[{'_account_id': 16308}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31072}]","[{'number': 1, 'created': '2021-03-31 07:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ded4dc5cee38c7dfc00e4342c7a205d0f6fb7ec7', 'message': 'Improvement of FT cases for Retry LCM Operation\n\nAdd Client Notification Endpoint Test assertion in the following\nfunctional tests for Retry LCM Operation:\n\n- test_retry_instantiate\n- test_retry_scale_out\n- test_retry_chgextconn\n\nCloses-Bug: #1921994\nChange-Id: Ibc67c97b389f707b67fa59c7e69e536faf88b40d\n'}, {'number': 2, 'created': '2021-04-02 00:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8472ccae667841ae730dd5cb7333e0fc13243686', 'message': 'Improvement of FT cases for Retry LCM Operation\n\nAdd Client Notification Endpoint Test assertion in the following\nfunctional tests for Retry LCM Operation:\n\n- test_retry_instantiate\n- test_retry_scale_out\n- test_retry_chgextconn\n\nCloses-Bug: #1921994\nChange-Id: Ibc67c97b389f707b67fa59c7e69e536faf88b40d\n'}, {'number': 3, 'created': '2021-04-02 04:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7f2813d29dc17a8adc62d2e6f911adcff849bb49', 'message': 'Improvement of FT cases for Retry LCM Operation\n\nAdd Client Notification Endpoint Test assertion in the following\nfunctional tests for Retry LCM Operation:\n\n- test_retry_instantiate\n- test_retry_scale_out\n- test_retry_chgextconn\n\nCloses-Bug: #1921994\nChange-Id: Ibc67c97b389f707b67fa59c7e69e536faf88b40d\n'}, {'number': 4, 'created': '2021-04-05 09:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/519a1908b5a920af73eed77e8956bb9683359f70', 'message': 'Improvement of FT cases for Retry LCM Operation\n\nAdd Client Notification Endpoint Test assertion in the following\nfunctional tests for Retry LCM Operation:\n\n- test_retry_instantiate\n- test_retry_scale_out\n- test_retry_chgextconn\n\nCloses-Bug: #1921994\nChange-Id: Ibc67c97b389f707b67fa59c7e69e536faf88b40d\n'}, {'number': 5, 'created': '2021-04-07 05:24:13.000000000', 'files': ['tacker/tests/functional/sol_separated_nfvo/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py', 'tacker/tests/functional/sol/vnflcm/test_vnf_instance_with_user_data.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/f731f8853272d7a060960e28fd7204c1eaf1c13a', 'message': 'Improvement of FT cases for Retry LCM Operation\n\nAdd Client Notification Endpoint Test assertion in the following\nfunctional tests for Retry LCM Operation:\n\n- test_retry_instantiate\n- test_retry_scale_out\n- test_retry_chgextconn\n- test_inst_chgextconn_term\n\nCloses-Bug: #1921994\nChange-Id: Ibc67c97b389f707b67fa59c7e69e536faf88b40d\n'}]",3,784012,f731f8853272d7a060960e28fd7204c1eaf1c13a,32,7,5,32219,,,0,"Improvement of FT cases for Retry LCM Operation

Add Client Notification Endpoint Test assertion in the following
functional tests for Retry LCM Operation:

- test_retry_instantiate
- test_retry_scale_out
- test_retry_chgextconn
- test_inst_chgextconn_term

Closes-Bug: #1921994
Change-Id: Ibc67c97b389f707b67fa59c7e69e536faf88b40d
",git fetch https://review.opendev.org/openstack/tacker refs/changes/12/784012/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/tests/functional/sol/vnflcm/test_vnf_instance_with_user_data.py'],1,ded4dc5cee38c7dfc00e4342c7a205d0f6fb7ec7,bug/1921994," - Test notification. callback_url = os.path.join(vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName) callback_url)) # Test notification self.assert_notification_get(callback_url) - Test notification. callback_url = os.path.join(vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName) callback_url)) # Test notification self.assert_notification_get(callback_url) - Test notification. callback_url = os.path.join(vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName) callback_url)) # Test notification self.assert_notification_get(callback_url) "," os.path.join(vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName))) os.path.join(vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName))) os.path.join(vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName)))",21,6
openstack%2Fkuryr-kubernetes~master~If0fe68deb7ef6262f4331f0c262e3c2678cd508f,openstack/kuryr-kubernetes,master,If0fe68deb7ef6262f4331f0c262e3c2678cd508f,Stop deleting KuryrPorts of host-networking pods,MERGED,2021-03-25 15:27:00.000000000,2021-04-08 13:02:51.000000000,2021-04-08 13:01:10.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 30963}]","[{'number': 1, 'created': '2021-03-25 15:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0dda6570eef7fc728126d8d519139cfd58f32c7b', 'message': ""Stop deleting KuryrPorts of host-networking pods\n\nThe code this patch removes was added in order to fix a problem with the\nupgrades. We shouldn't worry about it in Wallaby.\n\nChange-Id: If0fe68deb7ef6262f4331f0c262e3c2678cd508f\n""}, {'number': 2, 'created': '2021-03-25 15:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d6ed43d2f31cf2ed2599f7b742bf76d9d736bd72', 'message': ""Stop deleting KuryrPorts of host-networking pods\n\nThe code this patch removes was added in order to fix a problem of\nadditional KuryrPorts on upgrades. We shouldn't worry about it in\nWallaby as Victoria is free of the problem already.\n\nChange-Id: If0fe68deb7ef6262f4331f0c262e3c2678cd508f\n""}, {'number': 3, 'created': '2021-04-07 10:20:12.000000000', 'files': ['kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/controller/handlers/vif.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3a3d3c25c67ae85b6713bb01c1d3ab3b9210a741', 'message': ""Stop deleting KuryrPorts of host-networking pods\n\nThe code this patch removes was added in order to fix a problem of\nadditional KuryrPorts on upgrades. We shouldn't worry about it in\nWallaby as Victoria is free of the problem already.\n\nChange-Id: If0fe68deb7ef6262f4331f0c262e3c2678cd508f\n""}]",2,783034,3a3d3c25c67ae85b6713bb01c1d3ab3b9210a741,32,5,3,11600,,,0,"Stop deleting KuryrPorts of host-networking pods

The code this patch removes was added in order to fix a problem of
additional KuryrPorts on upgrades. We shouldn't worry about it in
Wallaby as Victoria is free of the problem already.

Change-Id: If0fe68deb7ef6262f4331f0c262e3c2678cd508f
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/34/783034/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/controller/handlers/vif.py']",2,0dda6570eef7fc728126d8d519139cfd58f32c7b,remove-kuryrport-deletion,," # NOTE(dulek): We should get rid of that once we're sure we won't # upgrade from a version that may have unnecessary ports # created for host networking pods. self._delete_host_networking_ports() def _delete_host_networking_ports(self): k8s = clients.get_kubernetes_client() pods = k8s.get('/api/v1/pods')['items'] kuryrports = k8s.get(constants.K8S_API_CRD_KURYRPORTS)['items'] pairs = driver_utils.zip_resources(kuryrports, pods) for kuryrport, pod in pairs: if driver_utils.is_host_network(pod): LOG.warning(f'Found unnecessary KuryrPort ' f'{utils.get_res_unique_name(kuryrport)} created ' f'for host networking pod. Deleting it.') try: k8s.delete(utils.get_res_link(kuryrport)) except k_exc.K8sResourceNotFound: pass ",1,25
openstack%2Ftacker~master~If14b95b2f9dfafe994a5ebf4f447a2bf7d27981c,openstack/tacker,master,If14b95b2f9dfafe994a5ebf4f447a2bf7d27981c,Fix some bugs related legacy cnf operations,MERGED,2021-03-29 10:21:25.000000000,2021-04-08 13:01:55.000000000,2021-04-08 12:56:45.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31821}]","[{'number': 1, 'created': '2021-03-29 10:21:25.000000000', 'files': ['tacker/tests/unit/vnfm/infra_drivers/kubernetes/fakes.py', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/test_kubernetes_driver.py', 'samples/tosca-templates/vnfd/tosca-vnfd-containerized-two-containers.yaml', 'tacker/vnfm/infra_drivers/kubernetes/k8s/translate_inputs.py', 'samples/tosca-templates/vnfd/tosca-vnfd-containerized.yaml', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'doc/source/user/containerized_vnf_usage_guide.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/667377b849d40846dd750700d7aa40e2097393cc', 'message': 'Fix some bugs related legacy cnf operations\n\nThis patch fixes some bugs related legacy cnf operations below:\n* Delete the ""unsupported key check"" of policies in TOSCA template, to\n  resolve `openstack vnf create` command failure due to property\n  validation of policies.\n* Change the branch condition of legacy/sol, to resolve the\n  `openstack vnf scale` command failure due to keyError.\n* Add interval to each retry loops of delete_wait_legacy, to resolve\n  the `openstack vnf delete` command failure.\n\nAnd this patch revises the documentation for legacy cnf operations to\nwork properly.\n\nCloses-Bug: #1920085\nChange-Id: If14b95b2f9dfafe994a5ebf4f447a2bf7d27981c\n'}]",0,783626,667377b849d40846dd750700d7aa40e2097393cc,12,6,1,31857,,,0,"Fix some bugs related legacy cnf operations

This patch fixes some bugs related legacy cnf operations below:
* Delete the ""unsupported key check"" of policies in TOSCA template, to
  resolve `openstack vnf create` command failure due to property
  validation of policies.
* Change the branch condition of legacy/sol, to resolve the
  `openstack vnf scale` command failure due to keyError.
* Add interval to each retry loops of delete_wait_legacy, to resolve
  the `openstack vnf delete` command failure.

And this patch revises the documentation for legacy cnf operations to
work properly.

Closes-Bug: #1920085
Change-Id: If14b95b2f9dfafe994a5ebf4f447a2bf7d27981c
",git fetch https://review.opendev.org/openstack/tacker refs/changes/26/783626/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/vnfm/infra_drivers/kubernetes/fakes.py', 'tacker/tests/unit/vnfm/infra_drivers/kubernetes/test_kubernetes_driver.py', 'samples/tosca-templates/vnfd/tosca-vnfd-containerized-two-containers.yaml', 'tacker/vnfm/infra_drivers/kubernetes/k8s/translate_inputs.py', 'samples/tosca-templates/vnfd/tosca-vnfd-containerized.yaml', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'doc/source/user/containerized_vnf_usage_guide.rst']",7,667377b849d40846dd750700d7aa40e2097393cc,bug/1920085, default_instances: 1 # required parameter but ignored for cnf increment: 1 # required parameter but ignored for cnf default_instances: 1 # required parameter but ignored for cnf increment: 1 # required parameter but ignored for cnf default_instances: 1 # required parameter but ignored for cnf increment: 1 # required parameter but ignored for cnf $ openstack vnf scale --scaling-policy-name SP1 --scaling-type out VNF1, $ openstack vnf scale --vnf-name VNF1 --scaling-policy-name SP1 --scaling-type out,47,29
openstack%2Fpython-tackerclient~master~Idfaf06953fac9f3549cea64e1697ffef630a1dc8,openstack/python-tackerclient,master,Idfaf06953fac9f3549cea64e1697ffef630a1dc8,Add Python3 xena unit tests,MERGED,2021-03-18 10:45:35.000000000,2021-04-08 12:59:41.000000000,2021-04-08 12:52:50.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2021-03-18 10:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/214fde813cdf44205529bd3698f081ad03db4c29', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Idfaf06953fac9f3549cea64e1697ffef630a1dc8\n'}, {'number': 2, 'created': '2021-04-07 02:12:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/a7ee00eac401c37256a22f41d04925a2124cb549', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Idfaf06953fac9f3549cea64e1697ffef630a1dc8\n'}]",0,781314,a7ee00eac401c37256a22f41d04925a2124cb549,12,5,2,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Idfaf06953fac9f3549cea64e1697ffef630a1dc8
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/14/781314/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,214fde813cdf44205529bd3698f081ad03db4c29,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Ftacker~master~Iffb3e045cbe121aca0fc74621cc5b3b5daf69f5b,openstack/tacker,master,Iffb3e045cbe121aca0fc74621cc5b3b5daf69f5b,Fix exception not raised while install script failed,MERGED,2021-04-02 01:12:23.000000000,2021-04-08 12:58:15.000000000,2021-04-08 12:58:15.000000000,"[{'_account_id': 16308}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27880}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-04-02 01:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/57f242bcc8b613af4b025292057c3073812d637a', 'message': ""Fix exception not raised while install script failed\n\nIn kubernetes_mgmt, it will find 'Install Failed!\\n' in stdout\nto judge raise a exception of script install failed.\n\nHowever in recent fix, we changed error message from script,\nthus kubernetes_mgmt cannot catch error msg from stdout,\nexception will not be raised.\n\nThis patch will fix matching error message in kuberntes_mgmt.\n\nCloses-Bug: #1922192\nChange-Id: Iffb3e045cbe121aca0fc74621cc5b3b5daf69f5b\n""}, {'number': 2, 'created': '2021-04-05 08:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/26f19883e86295fe0b49cf1a66562dd6ee262285', 'message': ""Fix exception not raised while install script failed\n\nIn kubernetes_mgmt, it will find 'Install Failed!\\n' in stdout\nto judge raise a exception of script install failed.\n\nHowever in recent fix, we changed error message from script,\nthus kubernetes_mgmt cannot catch error msg from stdout,\nexception will not be raised.\n\nThis patch will fix matching error message in kuberntes_mgmt.\n\nCloses-Bug: #1922192\nChange-Id: Iffb3e045cbe121aca0fc74621cc5b3b5daf69f5b\n""}, {'number': 3, 'created': '2021-04-07 10:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/cbc0809791d11ba2dc07addf1d30aa0ae817d7c3', 'message': ""Fix exception not raised while install script failed\n\nIn kubernetes_mgmt, it will find 'Install Failed!\\n' in stdout\nto judge raise a exception of script install failed.\n\nHowever in recent fix, we changed error message from script,\nthus kubernetes_mgmt cannot catch error msg from stdout,\nexception will not be raised.\n\nThis patch will fix matching error message in kuberntes_mgmt.\n\nCloses-Bug: #1922192\nChange-Id: Iffb3e045cbe121aca0fc74621cc5b3b5daf69f5b\n""}, {'number': 4, 'created': '2021-04-08 07:27:22.000000000', 'files': ['samples/mgmt_driver/kubernetes_mgmt.py', 'samples/mgmt_driver/install_k8s_cluster.sh', 'samples/mgmt_driver/kubernetes_vnf_package/TOSCA-Metadata/TOSCA.meta'], 'web_link': 'https://opendev.org/openstack/tacker/commit/206cc80e1f68699d95bd61bb9b2f258d428a9920', 'message': ""Fix exception not raised while install script failed\n\nIn kubernetes_mgmt, it will find 'Install Failed!\\n' in stdout\nto judge raise a exception of script install failed.\n\nHowever in recent fix, we changed error message from script,\nthus kubernetes_mgmt cannot catch error msg from stdout,\nexception will not be raised.\n\nThis patch will fix matching error message in kuberntes_mgmt.\n\nCloses-Bug: #1922192\nChange-Id: Iffb3e045cbe121aca0fc74621cc5b3b5daf69f5b\n""}]",9,784519,206cc80e1f68699d95bd61bb9b2f258d428a9920,23,9,4,31821,,,0,"Fix exception not raised while install script failed

In kubernetes_mgmt, it will find 'Install Failed!\n' in stdout
to judge raise a exception of script install failed.

However in recent fix, we changed error message from script,
thus kubernetes_mgmt cannot catch error msg from stdout,
exception will not be raised.

This patch will fix matching error message in kuberntes_mgmt.

Closes-Bug: #1922192
Change-Id: Iffb3e045cbe121aca0fc74621cc5b3b5daf69f5b
",git fetch https://review.opendev.org/openstack/tacker refs/changes/19/784519/1 && git format-patch -1 --stdout FETCH_HEAD,['samples/mgmt_driver/kubernetes_mgmt.py'],1,57f242bcc8b613af4b025292057c3073812d637a,bug/1922192, if 'Install Failed! The node does not in Kubernetes cluster.\n' \ in result.get_stdout():, if 'Install Failed!\n' in result.get_stdout():,2,1
openstack%2Ftacker~master~I19aedf0940d8b8d51fa5bd1d5c5092655d7970b0,openstack/tacker,master,I19aedf0940d8b8d51fa5bd1d5c5092655d7970b0,Fix missing None judgement in rollback,MERGED,2021-04-02 02:32:59.000000000,2021-04-08 12:57:39.000000000,2021-04-08 12:57:39.000000000,"[{'_account_id': 16308}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27880}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-04-02 02:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/76b42a38bb62af5465abdda46634cc026a928095', 'message': ""Fix missing None judgement in rollback\n\nin vnflcm_drive._term_resource_update(),\nit is checking if 'affected_vnfcs' is existing in\nvnf_lcm_op_occs.resource_changes.\n\nHowever, 'affected_vnfcs' may be None,\nand cause an None type error in next line,\nusing len() for affect_vnfcs.\n(same to other 2 variables below)\n\nThis patch is adding None judgement before\nlen()\n\nCloses-Bug: #1922191\nChange-Id: I19aedf0940d8b8d51fa5bd1d5c5092655d7970b0\n""}, {'number': 2, 'created': '2021-04-07 09:45:04.000000000', 'files': ['tacker/vnflcm/vnflcm_driver.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/5100e31871a9bd1b88112b06475120f1dc0bd7c3', 'message': ""Fix missing None judgement in rollback\n\nin vnflcm_drive._term_resource_update(),\nit is checking if 'affected_vnfcs' is existing in\nvnf_lcm_op_occs.resource_changes.\n\nHowever, 'affected_vnfcs' may be None,\nand cause an None type error in next line,\nusing len() for affect_vnfcs.\n(same to other 2 variables below)\n\nThis patch is adding None judgement before\nlen()\n\nCloses-Bug: #1922191\nChange-Id: I19aedf0940d8b8d51fa5bd1d5c5092655d7970b0\n""}]",2,784526,5100e31871a9bd1b88112b06475120f1dc0bd7c3,14,9,2,31821,,,0,"Fix missing None judgement in rollback

in vnflcm_drive._term_resource_update(),
it is checking if 'affected_vnfcs' is existing in
vnf_lcm_op_occs.resource_changes.

However, 'affected_vnfcs' may be None,
and cause an None type error in next line,
using len() for affect_vnfcs.
(same to other 2 variables below)

This patch is adding None judgement before
len()

Closes-Bug: #1922191
Change-Id: I19aedf0940d8b8d51fa5bd1d5c5092655d7970b0
",git fetch https://review.opendev.org/openstack/tacker refs/changes/26/784526/2 && git format-patch -1 --stdout FETCH_HEAD,['tacker/vnflcm/vnflcm_driver.py'],1,76b42a38bb62af5465abdda46634cc026a928095,bug/1922191, if vnf_lcm_op_occs.resource_changes.affected_vnfcs: if len(vnf_lcm_op_occs.resource_changes. affected_vnfcs) > 0: resource_changes.affected_vnfcs.extend( vnf_lcm_op_occs.resource_changes.affected_vnfcs) if 'affected_virtual_storages' in vnf_lcm_op_occs.resource_changes: if vnf_lcm_op_occs.resource_changes.affected_virtual_storages: if len(vnf_lcm_op_occs.resource_changes. affected_virtual_storages) > 0: resource_changes.affected_virtual_storages.extend( vnf_lcm_op_occs.resource_changes. affected_virtual_storages) if 'affected_virtual_links' in vnf_lcm_op_occs.resource_changes: if vnf_lcm_op_occs.resource_changes.affected_virtual_links: if len(vnf_lcm_op_occs.resource_changes. affected_virtual_links) > 0: resource_changes.affected_virtual_links.extend( vnf_lcm_op_occs.resource_changes. affected_virtual_links), if len(vnf_lcm_op_occs.resource_changes.affected_vnfcs) > 0: resource_changes.affected_vnfcs.extend( vnf_lcm_op_occs.resource_changes.affected_vnfcs) if 'affected_virtual_storages' in vnf_lcm_op_occs.resource_changes: if len(vnf_lcm_op_occs.resource_changes. affected_virtual_storages) > 0: resource_changes.affected_virtual_storages.extend( vnf_lcm_op_occs.resource_changes. affected_virtual_storages) if 'affected_virtual_links' in vnf_lcm_op_occs.resource_changes: if len(vnf_lcm_op_occs.resource_changes. affected_virtual_links) > 0: resource_changes.affected_virtual_links.extend( vnf_lcm_op_occs.resource_changes. affected_virtual_links),17,13
openstack%2Fcharm-deployment-guide~master~I62164bd4ae939ec193ae4e47d79adb2ca7af2a85,openstack/charm-deployment-guide,master,I62164bd4ae939ec193ae4e47d79adb2ca7af2a85,Add new issues page and refactor,MERGED,2021-04-02 01:06:24.000000000,2021-04-08 12:57:14.000000000,2021-04-08 12:52:15.000000000,"[{'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-02 01:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/d67d003f84ee23aebc65a1c521f0e0c27c6b0653', 'message': ""Add new issues page and refactor\n\n* Add a new 'Various issues' page.\n\n    This page will contain the known issues that were\n    previously inherited from release to release and\n    placed in the Release Notes even though they had no\n    connection with the current release. The Release Notes\n    will now only contain issues that arose during the\n    associated development cycle. Once a new Release Notes\n    page is created those issues will be moved to this new\n    page, with the exception of any upgrade issues which\n    will be moved to the 'Upgrades issues' page.\n\n    Populate the page with issues from the current 2104\n    Release Notes.\n\n* Organise the 'Upgrade issues' page by upgrade type.\n\n* Minor rewording of some of the issues pages.\n\nChange-Id: I62164bd4ae939ec193ae4e47d79adb2ca7af2a85\n""}, {'number': 2, 'created': '2021-04-06 13:41:23.000000000', 'files': ['deploy-guide/source/various-issues.rst', 'deploy-guide/source/upgrade-series.rst', 'deploy-guide/source/upgrade-openstack.rst', 'deploy-guide/source/upgrade-series-openstack.rst', 'deploy-guide/source/upgrade-charms.rst', 'deploy-guide/source/upgrade-special.rst', 'deploy-guide/source/upgrade-issues.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/d4eb5ed7d7a18136c2a3614e60986de86f420273', 'message': ""Add new issues page and refactor\n\n* Add a new 'Various issues' page.\n\n    This page will contain the known issues that were\n    previously inherited from release to release and\n    placed in the Release Notes even though they had no\n    connection with the current release. The Release Notes\n    will now only contain issues that arose during the\n    associated development cycle (upgrade notes will go\n    directly to the upgrade issues page). Once a new Release\n    Notes page is created issues will be moved to this new\n    page.\n\n    Populate the page with issues from the current 2104\n    Release Notes.\n\n* Add an upgrade note for the `worker-multiplier` option.\n\n* Organise the 'Upgrade issues' page by upgrade type.\n\n* Minor rewording of some of the issues pages.\n\nChange-Id: I62164bd4ae939ec193ae4e47d79adb2ca7af2a85\n""}]",0,784517,d4eb5ed7d7a18136c2a3614e60986de86f420273,9,2,2,30561,,,0,"Add new issues page and refactor

* Add a new 'Various issues' page.

    This page will contain the known issues that were
    previously inherited from release to release and
    placed in the Release Notes even though they had no
    connection with the current release. The Release Notes
    will now only contain issues that arose during the
    associated development cycle (upgrade notes will go
    directly to the upgrade issues page). Once a new Release
    Notes page is created issues will be moved to this new
    page.

    Populate the page with issues from the current 2104
    Release Notes.

* Add an upgrade note for the `worker-multiplier` option.

* Organise the 'Upgrade issues' page by upgrade type.

* Minor rewording of some of the issues pages.

Change-Id: I62164bd4ae939ec193ae4e47d79adb2ca7af2a85
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/17/784517/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/various-issues.rst', 'deploy-guide/source/upgrade-series.rst', 'deploy-guide/source/upgrade-openstack.rst', 'deploy-guide/source/upgrade-series-openstack.rst', 'deploy-guide/source/upgrade-charms.rst', 'deploy-guide/source/upgrade-special.rst', 'deploy-guide/source/upgrade-issues.rst']",7,d67d003f84ee23aebc65a1c521f0e0c27c6b0653,add-new-issues-page,"============== Upgrade issues ============== This page documents upgrade issues (software limitations/bugs). These may applyThe items on this page are distinct from those found on the following pages: * the `Various issues`_ page * the `Special charm procedures`_ page The issues are organised by upgrade type. Charm upgrades -------------- rabbitmq-server charm ~~~~~~~~~~~~~~~~~~~~~ A timing issue has been observed during the upgrade of the rabbitmq-server charm (see bug `LP #1912638`_ for tracking). If it occurs the resulting hook error can be resolved with: juju resolved rabbitmq-server/NOpenStack upgrades ------------------ Nova RPC version mismatches: upgrading Neutron and Nova ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ If it is not possible to upgrade Neutron and Nova within the same maintenance window, be mindful that the RPC communication between nova-cloud-controller, nova-compute, and nova-api-metadata is very likely to cause several errors while those services are not running the same version. This is due to the fact that currently those charms do not support RPC version pinning or auto-negotiation. See bug `LP #1825999`_. neutron-gateway charm: upgrading from Mitaka to Newton ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Between the Mitaka and Newton OpenStack releases, the ``neutron-gateway`` charm added two options, ``bridge-mappings`` and ``data-port``, which replaced the (now) deprecated ``ext-port`` option. This was to provide for more control over how ``neutron-gateway`` can configure external networking. Unfortunately, the charm was only designed to work with either ``ext-port`` (no longer recommended) *or* ``bridge-mappings`` and ``data-port``. See bug `LP #1809190`_. cinder/ceph topology change: upgrading from Newton to Ocata ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ If cinder is directly related to ceph-mon rather than via cinder-ceph then upgrading from Newton to Ocata will result in the loss of some block storage functionality, specifically live migration and snapshotting. To remedy this situation the deployment should migrate to using the cinder-ceph charm. This can be done after the upgrade to Ocata. .. warning:: Do not attempt to migrate a deployment with existing volumes to use the cinder-ceph charm prior to Ocata. The intervention is detailed in the below three steps. Step 0: Check existing configuration ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Confirm existing volumes are in an RBD pool called 'cinder': .. code-block:: none juju run --unit cinder/0 ""rbd --name client.cinder -p cinder ls"" Sample output: .. code-block:: none volume-b45066d3-931d-406e-a43e-ad4eca12cf34 volume-dd733b26-2c56-4355-a8fc-347a964d5d55 Step 1: Deploy new topology ^^^^^^^^^^^^^^^^^^^^^^^^^^^ Deploy the ``cinder-ceph`` charm and set the 'rbd-pool-name' to match the pool that any existing volumes are in (see above): .. code-block:: none juju deploy --config rbd-pool-name=cinder cinder-ceph juju add-relation cinder cinder-ceph juju add-relation cinder-ceph ceph-mon juju remove-relation cinder ceph-mon juju add-relation cinder-ceph nova-compute Step 2: Update volume configuration ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ The existing volumes now need to be updated to associate them with the newly defined cinder-ceph backend: .. code-block:: none juju run-action cinder/0 rename-volume-host currenthost='cinder' \ newhost='cinder@cinder-ceph#cinder.volume.drivers.rbd.RBDDriver' Keystone and Fernet tokens: upgrading from Queens to Rocky ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Starting with OpenStack Rocky only the Fernet format for authentication tokens is supported. Therefore, prior to upgrading Keystone to Rocky a transition must be made from the legacy format (of UUID) to Fernet. Fernet support is available upstream (and in the keystone charm) starting with Ocata so the transition can be made on either Ocata, Pike, or Queens. A keystone charm upgrade will not alter the token format. The charm's ``token-provider`` option must be used to make the transition: .. code-block:: none juju config keystone token-provider=fernet This change may result in a minor control plane outage but any running instances will remain unaffected. The ``token-provider`` option has no effect starting with Rocky, where the charm defaults to Fernet and where upstream removes support for UUID. See `Keystone Fernet Token Implementation`_ for more information. Neutron LBaaS: upgrading from Stein to Train ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ As of Train, support for Neutron LBaaS has been retired. The load-balancing services are now provided by `Octavia LBaaS`_. There is no automatic migration path, please review the `Octavia LBaaS`_ appendix for more information. Designate: upgrading from Stein to Train ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Ceph BlueStore mistakenly enabled during OpenStack upgrade ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Series upgrades --------------- DNS HA: upgrade to focal ~~~~~~~~~~~~~~~~~~~~~~~~ DNS HA has been reported to not work on the focal series. See `LP #1882508`_ for more information. Upgrading while Vault is sealed ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ If a series upgrade is attempted while Vault is sealed then manual intervention will be required (see bugs `LP #1886083`_ and `LP #1890106`_). The vault leader unit (which will be in error) will need to be unsealed and the hook error resolved. The `vault charm`_ README has unsealing instructions, and the hook error can be resolved with: .. code-block:: none juju resolved vault/N .. _Various issues: various-issues.html .. _Special charm procedures: upgrade-special.html .. _vault charm: https://opendev.org/openstack/charm-vault/src/branch/master/src/README.md#unseal-vault.. _LP #1886083: https://bugs.launchpad.net/vault-charm/+bug/1886083 .. _LP #1890106: https://bugs.launchpad.net/vault-charm/+bug/1890106 .. _LP #1912638: https://bugs.launchpad.net/charm-rabbitmq-server/+bug/1912638","==================== Known upgrade issues ==================== This section documents known issues (software limitations/bugs) that may applyDNS HA with the focal series ---------------------------- DNS HA has been reported to not work on the focal series. See `LP #1882508`_ for more information. Nova RPC version mismatches --------------------------- If it is not possible to upgrade Neutron and Nova within the same maintenance window, be mindful that the RPC communication between nova-cloud-controller, nova-compute, and nova-api-metadata is very likely to cause several errors while those services are not running the same version. This is due to the fact that currently those charms do not support RPC version pinning or auto-negotiation. See bug `LP #1825999`_. neutron-gateway charm: upgrading from Mitaka to Newton ------------------------------------------------------ Between the Mitaka and Newton OpenStack releases, the ``neutron-gateway`` charm added two options, ``bridge-mappings`` and ``data-port``, which replaced the (now) deprecated ``ext-port`` option. This was to provide for more control over how ``neutron-gateway`` can configure external networking. Unfortunately, the charm was only designed to work with either ``ext-port`` (no longer recommended) *or* ``bridge-mappings`` and ``data-port``. See bug `LP #1809190`_. cinder/ceph topology change: upgrading from Newton to Ocata ----------------------------------------------------------- If cinder is directly related to ceph-mon rather than via cinder-ceph then upgrading from Newton to Ocata will result in the loss of some block storage functionality, specifically live migration and snapshotting. To remedy this situation the deployment should migrate to using the cinder-ceph charm. This can be done after the upgrade to Ocata. .. warning:: Do not attempt to migrate a deployment with existing volumes to use the cinder-ceph charm prior to Ocata. The intervention is detailed in the below three steps. Step 0: Check existing configuration ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Confirm existing volumes are in an RBD pool called 'cinder': juju run --unit cinder/0 ""rbd --name client.cinder -p cinder ls"" Sample output: .. code-block:: none volume-b45066d3-931d-406e-a43e-ad4eca12cf34 volume-dd733b26-2c56-4355-a8fc-347a964d5d55 Step 1: Deploy new topology ~~~~~~~~~~~~~~~~~~~~~~~~~~~ Deploy the ``cinder-ceph`` charm and set the 'rbd-pool-name' to match the pool that any existing volumes are in (see above): .. code-block:: none juju deploy --config rbd-pool-name=cinder cinder-ceph juju add-relation cinder cinder-ceph juju add-relation cinder-ceph ceph-mon juju remove-relation cinder ceph-mon juju add-relation cinder-ceph nova-compute Step 2: Update volume configuration ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The existing volumes now need to be updated to associate them with the newly defined cinder-ceph backend: .. code-block:: none juju run-action cinder/0 rename-volume-host currenthost='cinder' \ newhost='cinder@cinder-ceph#cinder.volume.drivers.rbd.RBDDriver' Keystone and Fernet tokens: upgrading from Queens to Rocky ---------------------------------------------------------- Starting with OpenStack Rocky only the Fernet format for authentication tokens is supported. Therefore, prior to upgrading Keystone to Rocky a transition must be made from the legacy format (of UUID) to Fernet. Fernet support is available upstream (and in the keystone charm) starting with Ocata so the transition can be made on either Ocata, Pike, or Queens. A keystone charm upgrade will not alter the token format. The charm's ``token-provider`` option must be used to make the transition: .. code-block:: none juju config keystone token-provider=fernet This change may result in a minor control plane outage but any running instances will remain unaffected. The ``token-provider`` option has no effect starting with Rocky, where the charm defaults to Fernet and where upstream removes support for UUID. See `Keystone Fernet Token Implementation`_ for more information. Neutron LBaaS: upgrading from Stein to Train -------------------------------------------- As of Train, support for Neutron LBaaS has been retired. The load-balancing services are now provided by `Octavia LBaaS`_. There is no automatic migration path, please review the `Octavia LBaaS`_ appendix for more information.Designate upgrades to Train ---------------------------Ceph BlueStore mistakenly enabled at OpenStack upgrade ------------------------------------------------------",266,126
openstack%2Ftacker~master~I9f918ceff9882da1bff4b1cc953602a3b84aec0c,openstack/tacker,master,I9f918ceff9882da1bff4b1cc953602a3b84aec0c,Add new inherited methods for kubernetes_mgmt,MERGED,2021-04-05 08:59:02.000000000,2021-04-08 12:53:02.000000000,2021-04-08 12:49:50.000000000,"[{'_account_id': 16308}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 27880}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-04-05 08:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a73b209c65971e163f81d0131f98bf1331296f9a', 'message': 'Add new abstract_driver methods for kubernetes_mgmt\n\n2 new methods are added at last time merge of Wallaby\nin tacker/vnfm/mgmt_drivers/vnflcm_abstract_driver.py\n\nin sample/mgmt_drivers/kubernetes_mgmt.py, we inheritanced\nVnflcmAbstractDriver thus we also needed to implements\nthese 2 methods here.\n\nDue to we dont have these interfaces here, I will\nimplement empty methods for clear runtime error.\n\nAlso, as it is commited as sample codes, this lack of\nmethod will not affect other codes.\n\nChange-Id: I9f918ceff9882da1bff4b1cc953602a3b84aec0c\n'}, {'number': 2, 'created': '2021-04-06 07:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6e99b4134f0a1d770659c427cebc3e8a222f8e1b', 'message': ""Add new inherited methods for kubernetes_mgmt\n\n2 new methods, change_external_connectivity_start() and\nchange_external_connectivity_end() are added at last\ntime merge of Wallaby in vnflcm_abstract_driver.py.\n(tacker/vnfm/mgmt_drivers/vnflcm_abstract_driver.py#L88)\n\nIn sample/mgmt_drivers/kubernetes_mgmt.py, we inherited\nVnflcmAbstractDriver thus we also needed to implements\nthese 2 methods here.\n\nDue to we don't have these interfaces here, I will\nimplement empty methods for clear runtime error.\n\nAlso, as it is committed as sample codes, this patch\nwill not affect other codes.\n\nChange-Id: I9f918ceff9882da1bff4b1cc953602a3b84aec0c\n""}, {'number': 3, 'created': '2021-04-06 07:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/aba05f780ff99a932a06953227e025c2942d89c6', 'message': ""Add new inherited methods for kubernetes_mgmt\n\n2 new methods are added at last time merge of\nWallaby release in vnflcm_abstract_driver.py.\n  * change_external_connectivity_start()\n  * change_external_connectivity_end()\n(tacker/vnfm/mgmt_drivers/vnflcm_abstract_driver.py#L88)\n\nIn kubernetes_mgmt.py,\n(sample/mgmt_drivers/kubernetes_mgmt.py)\nwe inherited VnflcmAbstractDriver thus we also\nneeded to implements these 2 methods here.\n\nDue to we don't have these interfaces here, I updated\nempty methods for clear runtime error.\n\nAlso, as it is committed as sample codes, this patch\nwill not affect other codes.\n\nChange-Id: I9f918ceff9882da1bff4b1cc953602a3b84aec0c\n""}, {'number': 4, 'created': '2021-04-07 07:57:21.000000000', 'files': ['samples/mgmt_driver/kubernetes_mgmt.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/44bf8f595b78730085f2e2d4e780c10971536cf3', 'message': ""Add new inherited methods for kubernetes_mgmt\n\n2 new methods are added at last time merge of\nWallaby release in vnflcm_abstract_driver.py.\n  * change_external_connectivity_start()\n  * change_external_connectivity_end()\n(tacker/vnfm/mgmt_drivers/vnflcm_abstract_driver.py#L88)\n\nIn kubernetes_mgmt.py,\n(sample/mgmt_drivers/kubernetes_mgmt.py)\nwe inherited VnflcmAbstractDriver thus we also\nneeded to implements these 2 methods here.\n\nDue to we don't have these interfaces here, I updated\nempty methods for clear runtime error.\n\nChange-Id: I9f918ceff9882da1bff4b1cc953602a3b84aec0c\n""}]",16,784752,44bf8f595b78730085f2e2d4e780c10971536cf3,19,7,4,31821,,,0,"Add new inherited methods for kubernetes_mgmt

2 new methods are added at last time merge of
Wallaby release in vnflcm_abstract_driver.py.
  * change_external_connectivity_start()
  * change_external_connectivity_end()
(tacker/vnfm/mgmt_drivers/vnflcm_abstract_driver.py#L88)

In kubernetes_mgmt.py,
(sample/mgmt_drivers/kubernetes_mgmt.py)
we inherited VnflcmAbstractDriver thus we also
needed to implements these 2 methods here.

Due to we don't have these interfaces here, I updated
empty methods for clear runtime error.

Change-Id: I9f918ceff9882da1bff4b1cc953602a3b84aec0c
",git fetch https://review.opendev.org/openstack/tacker refs/changes/52/784752/1 && git format-patch -1 --stdout FETCH_HEAD,['samples/mgmt_driver/kubernetes_mgmt.py'],1,a73b209c65971e163f81d0131f98bf1331296f9a,bp/cnf-support-with-etsi-nfv-specs," def change_external_connectivity_start( self, context, vnf_instance, change_ext_conn_request, grant, grant_request, **kwargs): pass def change_external_connectivity_end( self, context, vnf_instance, change_ext_conn_request, grant, grant_request, **kwargs): pass",,12,0
openstack%2Ftacker~master~Ic4601cb277c02b2d41263724bb2ce21e7d24cdbb,openstack/tacker,master,Ic4601cb277c02b2d41263724bb2ce21e7d24cdbb,Fix parameters passing in kubernetes_mgmt,MERGED,2021-04-02 02:22:37.000000000,2021-04-08 12:51:47.000000000,2021-04-08 12:49:43.000000000,"[{'_account_id': 16308}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27880}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-04-02 02:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/fada4b28a1ad0e96667a22eb6f57a05c5d05bfcd', 'message': 'Fix unmatch parameters passing in kubernetes_mgmt\n\nWhile calling _get_by_name() in kubernetes_mgmt, it is passing\nself + other 3 parameters.\n\nHowever it is calling _get_by_name() by instance,\nthus passing self is not needed and will cause an unmatch\nparameters error during Terminate process\n\nCloses-Bug: 1922194\nChange-Id: Ic4601cb277c02b2d41263724bb2ce21e7d24cdbb\n'}, {'number': 2, 'created': '2021-04-02 02:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/413a1be907de32cb971fa71b5ef9ce639813f55f', 'message': 'Fix unmatch parameters passing in kubernetes_mgmt\n\nWhile calling _get_by_name() in kubernetes_mgmt, it is passing\nself + other 3 parameters.\n\nHowever it is calling _get_by_name() by instance,\nthus passing self is not needed and will cause an unmatch\nparameters error during Terminate process\n\nCloses-Bug: #1922194\nChange-Id: Ic4601cb277c02b2d41263724bb2ce21e7d24cdbb\n'}, {'number': 3, 'created': '2021-04-06 08:02:54.000000000', 'files': ['samples/mgmt_driver/kubernetes_mgmt.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/d987f6190dc3744aa8ca424212596cabbe7bb99e', 'message': 'Fix parameters passing in kubernetes_mgmt\n\nWhile calling _get_by_name() in kubernetes_mgmt, it is passing\nself + other 3 parameters.\n\nHowever it is calling _get_by_name() by instance,\nthus passing self is not needed and will cause an unmatch\nparameters error during Terminate process\n\nCloses-Bug: #1922194\nChange-Id: Ic4601cb277c02b2d41263724bb2ce21e7d24cdbb\n'}]",0,784525,d987f6190dc3744aa8ca424212596cabbe7bb99e,15,9,3,31821,,,0,"Fix parameters passing in kubernetes_mgmt

While calling _get_by_name() in kubernetes_mgmt, it is passing
self + other 3 parameters.

However it is calling _get_by_name() by instance,
thus passing self is not needed and will cause an unmatch
parameters error during Terminate process

Closes-Bug: #1922194
Change-Id: Ic4601cb277c02b2d41263724bb2ce21e7d24cdbb
",git fetch https://review.opendev.org/openstack/tacker refs/changes/25/784525/2 && git format-patch -1 --stdout FETCH_HEAD,['samples/mgmt_driver/kubernetes_mgmt.py'],1,fada4b28a1ad0e96667a22eb6f57a05c5d05bfcd,bug/1922194," context, nfvo_db.Vim, k8s_vim_name)"," self, context, nfvo_db.Vim, k8s_vim_name)",1,1
openstack%2Ftacker~master~I3a325634f88b9521d7fa2f524076934df315742d,openstack/tacker,master,I3a325634f88b9521d7fa2f524076934df315742d,Addition of location header field in response,MERGED,2021-03-30 15:22:50.000000000,2021-04-08 12:40:52.000000000,2021-04-08 12:38:28.000000000,"[{'_account_id': 4149}, {'_account_id': 16308}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2021-03-30 15:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/44ad50192c12e62c9b1ff23c4fdd80eaf5868ffa', 'message': 'Code for Location Header and UT\n\nChange-Id: I3a325634f88b9521d7fa2f524076934df315742d\n'}, {'number': 2, 'created': '2021-03-30 16:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d81d53b75c94264d524c5868371ea4a172e4eccf', 'message': '[WIP] Code for Location Header and UT\n\nChange-Id: I3a325634f88b9521d7fa2f524076934df315742d\n'}, {'number': 3, 'created': '2021-03-31 07:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b0a6c1cb4ec11cde8658e773b7ae0324d7452aeb', 'message': 'Update ""response header"" with the ""Location"" HTTP header field.\n\nThis patch adds the ""Location"" HTTP header field in response of below VNFInstance\'s operations\n1) heal\n2) instantiate\n3) terminate\n\nResponse header will contain the ""Location"" HTTP header field.\nAnd this ""Location"" HTTP header will contain ""vnfLcmOpOccId"".\n\nCloses-Bug: #1915107\nCloses-Bug: #1911625\nChange-Id: I3a325634f88b9521d7fa2f524076934df315742d\n'}, {'number': 4, 'created': '2021-03-31 07:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7da0cb8501551832a215ab5e5b2bbf077f262c52', 'message': 'Update ""response header"" with the ""Location"" HTTP header field.\n\nFor below VNFInstance\'s operations ""Location header"" will be present\n1) heal\n2) instantiate\n3) terminate\n\nResponse header will contain the ""Location"" HTTP header field.\nAnd this ""Location"" HTTP header will contain ""vnfLcmOpOccId"".\n\nCloses-Bug: #1915107\nCloses-Bug: #1911625\nChange-Id: I3a325634f88b9521d7fa2f524076934df315742d\n'}, {'number': 5, 'created': '2021-04-01 11:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/63153ba41d48171c771fba76bd3dafb64dd5f89f', 'message': 'Addition of location header field in response\n\nFor below VNFInstance\'s operations ""Location header"" will be present\n1) heal\n2) instantiate\n3) terminate\n\nResponse header will contain the ""Location"" HTTP header field.\nAnd this ""Location"" HTTP header will contain ""vnfLcmOpOccId"".\n\nCloses-Bug: #1915107\nCloses-Bug: #1911625\nChange-Id: I3a325634f88b9521d7fa2f524076934df315742d\n'}, {'number': 6, 'created': '2021-04-05 11:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4fc35fdc3fd4939a9b53047b9e2c540dc9cd39ca', 'message': 'Addition of location header field in response\n\nFor below VNFInstance\'s operations ""Location header"" will be present\n1) heal\n2) instantiate\n3) terminate\n\nResponse header will contain the ""Location"" HTTP header field.\nAnd this ""Location"" HTTP header will contain ""vnfLcmOpOccId"".\n\nThis patch changes notification parameter based on \nSOL013  7.1.4 Type: NotificationLink. \n\nAs per SOL003, 5.5.2.17, VnfLcmOperationOccurrenceNotification\nrepresents a VNF lifecycle management operation occurrence\nnotification, which informs the receiver of changes in the\nVNF lifecycle caused by a VNF LCM operation occurrence.\n\nThis notification shall be triggered by the VNFM,\nwhen there is a change in the state of a VNF LCM operation\noccurrence that changes the VNF lifecycle, including:\n• Instantiation of the VNF\n• Scaling of the VNF instance (including auto-scaling)\n• Healing of the VNF\nand others.\n \nURI of a resource referenced from a notification\nshould be an absolute URI if APIRoot is known.\n\nCloses-Bug: #1915107\nCloses-Bug: #1911625\nChange-Id: I3a325634f88b9521d7fa2f524076934df315742d\n'}, {'number': 7, 'created': '2021-04-05 15:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/951d4aae298685872fac9c5b78d868cc5994bd42', 'message': 'Addition of location header field in response\n\nFor below VNFInstance\'s operations ""Location header"" will be present\n1) heal\n2) instantiate\n3) terminate\n\nResponse header will contain the ""Location"" HTTP header field.\nAnd this ""Location"" HTTP header will contain ""vnfLcmOpOccId"".\n\nThis patch changes notification parameter based on \nSOL013  7.1.4 Type: NotificationLink. \n\nAs per SOL003, 5.5.2.17, VnfLcmOperationOccurrenceNotification\nrepresents a VNF lifecycle management operation occurrence\nnotification, which informs the receiver of changes in the\nVNF lifecycle caused by a VNF LCM operation occurrence.\n\nThis notification shall be triggered by the VNFM,\nwhen there is a change in the state of a VNF LCM operation\noccurrence that changes the VNF lifecycle, including:\n• Instantiation of the VNF\n• Scaling of the VNF instance (including auto-scaling)\n• Healing of the VNF\nand others.\n \nURI of a resource referenced from a notification\nshould be an absolute URI if APIRoot is known.\n\nCloses-Bug: #1915107\nCloses-Bug: #1911625\nChange-Id: I3a325634f88b9521d7fa2f524076934df315742d\n'}, {'number': 8, 'created': '2021-04-05 15:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1a168509c3ad494850d538312d3745ce17c331c7', 'message': 'Addition of location header field in response\n\nFor below VNFInstance\'s operations ""Location header"" will be present\n1) heal\n2) instantiate\n3) terminate\n\nResponse header will contain the ""Location"" HTTP header field.\nAnd this ""Location"" HTTP header will contain ""vnfLcmOpOccId"".\n\nThis patch changes notification parameter based on \nSOL013  7.1.4 Type: NotificationLink. \n\nAs per SOL003, 5.5.2.17, VnfLcmOperationOccurrenceNotification\nrepresents a VNF lifecycle management operation occurrence\nnotification, which informs the receiver of changes in the\nVNF lifecycle caused by a VNF LCM operation occurrence.\n\nThis notification shall be triggered by the VNFM,\nwhen there is a change in the state of a VNF LCM operation\noccurrence that changes the VNF lifecycle, including:\n• Instantiation of the VNF\n• Scaling of the VNF instance (including auto-scaling)\n• Healing of the VNF\nand others.\n \nURI of a resource referenced from a notification\nshould be an absolute URI if APIRoot is known.\n\nCloses-Bug: #1915107\nCloses-Bug: #1911625\nChange-Id: I3a325634f88b9521d7fa2f524076934df315742d\n'}, {'number': 9, 'created': '2021-04-06 15:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e13e097306ab225763b818e574644c5b4c00a7df', 'message': 'Addition of location header field in response\n\nFor below VNFInstance\'s operations ""Location header"" will be present\n1) heal\n2) instantiate\n3) terminate\n\nResponse header will contain the ""Location"" HTTP header field.\nAnd this ""Location"" HTTP header will contain ""vnfLcmOpOccId"".\n\nThis patch changes notification parameter based on\nSOL013  7.1.4 Type: NotificationLink.\n\nAs per SOL003, 5.5.2.17, VnfLcmOperationOccurrenceNotification\nrepresents a VNF lifecycle management operation occurrence\nnotification, which informs the receiver of changes in the\nVNF lifecycle caused by a VNF LCM operation occurrence.\n\nThis notification shall be triggered by the VNFM,\nwhen there is a change in the state of a VNF LCM operation\noccurrence that changes the VNF lifecycle, including:\n• Instantiation of the VNF\n• Scaling of the VNF instance (including auto-scaling)\n• Healing of the VNF\nand others.\n\nURI of a resource referenced from a notification\nshould be an absolute URI if APIRoot is known.\n\nCo-Authored-By: Sheel Rana <ranasheel2000@gmail.com>\n\nCloses-Bug: #1915107\nCloses-Bug: #1911625\nChange-Id: I3a325634f88b9521d7fa2f524076934df315742d\n'}, {'number': 10, 'created': '2021-04-06 18:31:26.000000000', 'files': ['tacker/api/vnflcm/v1/controller.py', 'tacker/tests/unit/vnflcm/test_controller.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/5a9ae0c858629cb81a9c99b485e2bd720bb24ffa', 'message': 'Addition of location header field in response\n\nFor below VNFInstance\'s operations ""Location header"" will be present\n1) heal\n2) instantiate\n3) terminate\n\nResponse header will contain the ""Location"" HTTP header field.\nAnd this ""Location"" HTTP header will contain ""vnfLcmOpOccId"".\n\nThis patch changes notification parameter based on\nSOL013  7.1.4 Type: NotificationLink.\n\nAs per SOL003, 5.5.2.17, VnfLcmOperationOccurrenceNotification\nrepresents a VNF lifecycle management operation occurrence\nnotification, which informs the receiver of changes in the\nVNF lifecycle caused by a VNF LCM operation occurrence.\n\nThis notification shall be triggered by the VNFM,\nwhen there is a change in the state of a VNF LCM operation\noccurrence that changes the VNF lifecycle, including:\n• Instantiation of the VNF\n• Scaling of the VNF instance (including auto-scaling)\n• Healing of the VNF\nand others.\n\nURI of a resource referenced from a notification\nshould be an absolute URI if APIRoot is known.\n\nCo-Authored-By: Sheel Rana <ranasheel2000@gmail.com>\n\nCloses-Bug: #1915107\nCloses-Bug: #1911625\nChange-Id: I3a325634f88b9521d7fa2f524076934df315742d\n'}]",17,783896,5a9ae0c858629cb81a9c99b485e2bd720bb24ffa,31,7,10,33295,,,0,"Addition of location header field in response

For below VNFInstance's operations ""Location header"" will be present
1) heal
2) instantiate
3) terminate

Response header will contain the ""Location"" HTTP header field.
And this ""Location"" HTTP header will contain ""vnfLcmOpOccId"".

This patch changes notification parameter based on
SOL013  7.1.4 Type: NotificationLink.

As per SOL003, 5.5.2.17, VnfLcmOperationOccurrenceNotification
represents a VNF lifecycle management operation occurrence
notification, which informs the receiver of changes in the
VNF lifecycle caused by a VNF LCM operation occurrence.

This notification shall be triggered by the VNFM,
when there is a change in the state of a VNF LCM operation
occurrence that changes the VNF lifecycle, including:
• Instantiation of the VNF
• Scaling of the VNF instance (including auto-scaling)
• Healing of the VNF
and others.

URI of a resource referenced from a notification
should be an absolute URI if APIRoot is known.

Co-Authored-By: Sheel Rana <ranasheel2000@gmail.com>

Closes-Bug: #1915107
Closes-Bug: #1911625
Change-Id: I3a325634f88b9521d7fa2f524076934df315742d
",git fetch https://review.opendev.org/openstack/tacker refs/changes/96/783896/3 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/api/vnflcm/v1/controller.py', 'tacker/tests/unit/vnflcm/test_controller.py']",2,44ad50192c12e62c9b1ff23c4fdd80eaf5868ffa,bug/1915107," self.assertTrue('Location' in resp.headers.keys()) expected_location_prefix = ('http://localhost:9890/' 'vnflcm/v1/vnf_lcm_op_occs/') expected_location = (expected_location_prefix + str(mock_insta_notfi_process.return_value)) self.assertEqual(expected_location, resp.headers['location']) self.assertFalse('Location' in resp.headers.keys()) self.assertTrue('Location' in resp.headers.keys()) expected_location_prefix = ('http://localhost:9890/' 'vnflcm/v1/vnf_lcm_op_occs/') expected_location = (expected_location_prefix + str(mock_insta_notif_process.return_value)) self.assertEqual(expected_location, resp.headers['location']) self.assertFalse('Location' in resp.headers.keys()) self.assertFalse('Location' in resp.headers.keys()) self.assertTrue('Location' in resp.headers.keys()) expected_location_prefix = ('http://localhost:9890/' 'vnflcm/v1/vnf_lcm_op_occs/') expected_location = (expected_location_prefix + str(mock_insta_notif_process.return_value)) self.assertEqual(expected_location, resp.headers['location']) self.assertFalse('Location' in resp.headers.keys()) self.assertFalse('Location' in resp.headers.keys()) self.assertFalse('Location' in resp.headers.keys()) self.assertFalse('Location' in resp.headers.keys()) self.assertFalse('Location' in resp.headers.keys()) self.assertFalse('Location' in resp.headers.keys()) self.assertFalse('Location' in resp.headers.keys()) self.assertFalse('Location' in resp.headers.keys()) self.assertFalse('Location' in resp.headers.keys()) self.assertFalse('Location' in resp.headers.keys()) expected_location_prefix = ('http://localhost:9890/' 'vnflcm/v1/vnf_lcm_op_occs/') expected_location = (expected_location_prefix + str(mock_notification_process.return_value)) self.assertEqual(expected_location, resp.headers['location']) self.assertFalse('Location' in resp.headers.keys()) self.assertFalse('Location' in resp.headers.keys()) self.assertFalse('Location' in resp.headers.keys()) self.assertFalse('Location' in resp.headers.keys()) self.assertTrue('Location' in resp.headers.keys()) expected_location_prefix = ('http://localhost:9890/' 'vnflcm/v1/vnf_lcm_op_occs/') expected_location = (expected_location_prefix + str(mock_heal_notif_process.return_value)) self.assertEqual(expected_location, resp.headers['location']) self.assertFalse('Location' in resp.headers.keys()) self.assertFalse('Location' in resp.headers.keys()) self.assertFalse('Location' in resp.headers.keys()) self.assertFalse('Location' in resp.headers.keys()) self.assertFalse('Location' in resp.headers.keys())",,80,14
openstack%2Fcharm-vault~master~Icec9e399802e5e9f4c0d5e87c9a10a436eaa43a3,openstack/charm-vault,master,Icec9e399802e5e9f4c0d5e87c9a10a436eaa43a3,Add supporting text for adding a CA,MERGED,2021-04-06 22:22:51.000000000,2021-04-08 12:33:48.000000000,2021-04-08 12:33:48.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-06 22:22:51.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/d56f9c020a44638ac672e8f1fedc9ba6ea532915', 'message': 'Add supporting text for adding a CA\n\nAdd text and link to the CDG for adding a CA\ncertificate.\n\nRelated-Bug: #1922520\nChange-Id: Icec9e399802e5e9f4c0d5e87c9a10a436eaa43a3\n'}]",0,785063,d56f9c020a44638ac672e8f1fedc9ba6ea532915,9,4,1,30561,,,0,"Add supporting text for adding a CA

Add text and link to the CDG for adding a CA
certificate.

Related-Bug: #1922520
Change-Id: Icec9e399802e5e9f4c0d5e87c9a10a436eaa43a3
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/63/785063/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,d56f9c020a44638ac672e8f1fedc9ba6ea532915,bug/1922520,Now that the post-deployment steps have been completed you will most likely want to add a CA certificate to Vault. See [Managing TLS certificates][cdg-vault-certs-add] in the [OpenStack Charms Deployment Guide][cdg] for details. [cdg-vault-certs-add]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-certificate-management.html#add-a-ca-certificate,,6,0
openstack%2Fopenstack-ansible-os_mistral~master~Id400c679e1ccc5cc10a92143321ec3e182f9ecdc,openstack/openstack-ansible-os_mistral,master,Id400c679e1ccc5cc10a92143321ec3e182f9ecdc,Remove references to unsupported operating systems,MERGED,2021-03-10 12:21:56.000000000,2021-04-08 12:32:18.000000000,2021-04-08 12:29:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-03-10 12:21:56.000000000', 'files': ['tasks/mistral_install.yml', 'vars/redhat.yml', 'meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/736f80885d4a03f3655d041d70fcbc231087084e', 'message': 'Remove references to unsupported operating systems\n\nAll references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.\nConditional tasks, ternary operators and variables are simplified where possible\nOS specific variables files are generalised where possible\n\nChange-Id: Id400c679e1ccc5cc10a92143321ec3e182f9ecdc\n'}]",0,779741,736f80885d4a03f3655d041d70fcbc231087084e,10,3,1,25023,,,0,"Remove references to unsupported operating systems

All references to Gentoo, SUSE, Debian stretch and Centos-7  are removed.
Conditional tasks, ternary operators and variables are simplified where possible
OS specific variables files are generalised where possible

Change-Id: Id400c679e1ccc5cc10a92143321ec3e182f9ecdc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/41/779741/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/mistral_install.yml', 'vars/redhat.yml', 'meta/main.yml', 'vars/suse.yml']",4,736f80885d4a03f3655d041d70fcbc231087084e,osa-cleanup,,"--- # Copyright 2019, VEXXHOST, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. mistral_devel_distro_packages: - git - systemd-devel mistral_distro_packages: [] mistral_service_distro_packages: - openstack-mistral - python-systemd mistral_oslomsg_amqp1_distro_packages: - cyrus-sasl - cyrus-sasl-plain - cyrus-sasl-digestmd5 ",5,37
openstack%2Fopenstack-ansible-os_mistral~master~I54431e16051227f075a501f597d8fed9f84480bc,openstack/openstack-ansible-os_mistral,master,I54431e16051227f075a501f597d8fed9f84480bc,Switch default virtualenv to python3,MERGED,2021-03-10 09:18:30.000000000,2021-04-08 12:31:01.000000000,2021-04-08 12:29:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 29865}]","[{'number': 1, 'created': '2021-03-10 09:18:30.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/c090e774f7b3ace8e5e79151caadb8c805763bc5', 'message': 'Switch default virtualenv to python3\n\nChange-Id: I54431e16051227f075a501f597d8fed9f84480bc\n'}]",0,779681,c090e774f7b3ace8e5e79151caadb8c805763bc5,12,3,1,25023,,,0,"Switch default virtualenv to python3

Change-Id: I54431e16051227f075a501f597d8fed9f84480bc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/81/779681/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,c090e774f7b3ace8e5e79151caadb8c805763bc5,osa-default-python,"mistral_venv_python_executable: ""{{ openstack_venv_python_executable | default('python3') }}""","mistral_venv_python_executable: ""{{ openstack_venv_python_executable | default('python2') }}""",1,1
openstack%2Fironic-python-agent~master~I334a9073d17cccec4c669fae82edc3e388debc5c,openstack/ironic-python-agent,master,I334a9073d17cccec4c669fae82edc3e388debc5c,Capture the early logging,MERGED,2021-03-30 15:00:58.000000000,2021-04-08 12:26:26.000000000,2021-04-08 12:22:31.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-30 15:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e73474ffae84eba852c4490f64fc420ff7437ec1', 'message': 'WIP: Capture the early logging\n\n_early_log prints to stdout, which is fine in some cases,\nhowever in other cases it gets lost in the shuffle of process\nlaunch by things like systemd.\n\nLets try to save everything, and re-log it so it is easy to\ndebug early issues.\n\nChange-Id: I334a9073d17cccec4c669fae82edc3e388debc5c\n'}, {'number': 2, 'created': '2021-03-30 19:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9689ae2d9e3b2a29a87fd8437a201329af6ac3c5', 'message': 'Capture the early logging\n\n_early_log prints to stdout, which is fine in some cases,\nhowever in other cases it gets lost in the shuffle of process\nlaunch by things like systemd.\n\nLets try to save everything, and re-log it so it is easy to\ndebug early issues.\n\nChange-Id: I334a9073d17cccec4c669fae82edc3e388debc5c\n'}, {'number': 3, 'created': '2021-04-01 18:16:34.000000000', 'files': ['ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py', 'ironic_python_agent/cmd/agent.py', 'releasenotes/notes/capture-early-logging-0f3fa58d75656117.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/df418984f037856813b6bc5e495ef602a6737ee3', 'message': 'Capture the early logging\n\n_early_log prints to stdout, which is fine in some cases,\nhowever in other cases it gets lost in the shuffle of process\nlaunch by things like systemd.\n\nLets try to save everything, and re-log it so it is easy to\ndebug early issues.\n\nChange-Id: I334a9073d17cccec4c669fae82edc3e388debc5c\n'}]",0,783888,df418984f037856813b6bc5e495ef602a6737ee3,13,4,3,11655,,,0,"Capture the early logging

_early_log prints to stdout, which is fine in some cases,
however in other cases it gets lost in the shuffle of process
launch by things like systemd.

Lets try to save everything, and re-log it so it is easy to
debug early issues.

Change-Id: I334a9073d17cccec4c669fae82edc3e388debc5c
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/88/783888/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/utils.py', 'ironic_python_agent/cmd/agent.py']",2,e73474ffae84eba852c4490f64fc420ff7437ec1,, utils.log_early_log_to_logger(),,13,2
openstack%2Fcharm-mysql-innodb-cluster~master~Iaf0b66d97af315cc31da3fa8869c29b4b510b8d8,openstack/charm-mysql-innodb-cluster,master,Iaf0b66d97af315cc31da3fa8869c29b4b510b8d8,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:29:06.000000000,2021-04-08 12:15:07.000000000,2021-04-08 12:15:07.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-03 19:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/0978adeb7406e4662eb5d39bec6c2ffa8f47163e', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: Iaf0b66d97af315cc31da3fa8869c29b4b510b8d8\n'}, {'number': 2, 'created': '2021-04-08 08:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/682751d3ce2650cfe3409ba5066e94ef22b1937c', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: Iaf0b66d97af315cc31da3fa8869c29b4b510b8d8\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/538\nCo-Authored-By: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}, {'number': 3, 'created': '2021-04-08 10:05:48.000000000', 'files': ['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/606cc5f8fff433bf8a566ee6107222d375e64047', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: Iaf0b66d97af315cc31da3fa8869c29b4b510b8d8\n'}]",0,784671,606cc5f8fff433bf8a566ee6107222d375e64047,24,3,3,20870,,,0,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: Iaf0b66d97af315cc31da3fa8869c29b4b510b8d8
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/71/784671/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini']",5,0978adeb7406e4662eb5d39bec6c2ffa8f47163e,libraries-sync-21-04, charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs} [testenv:add-build-lock-file] basepython = python3 commands = charm-build --log-level DEBUG --write-lock-file -o {toxinidir}/build/builds src {posargs}, charm-build --log-level DEBUG -o {toxinidir}/build/builds src {posargs},235,6
openstack%2Ftripleo-heat-templates~master~I54531995fd180b3251901ff61296d6bd05fb85b2,openstack/tripleo-heat-templates,master,I54531995fd180b3251901ff61296d6bd05fb85b2,Move frr setup steps to pre_deploy_step_tasks,MERGED,2021-03-20 19:29:12.000000000,2021-04-08 12:09:19.000000000,2021-04-07 10:11:47.000000000,"[{'_account_id': 6469}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-20 19:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/265dc7542ae1b21d0535536592e0738bb2154c02', 'message': 'WIP DNR/DNM Start all FRR tasks during host_prep_tasks\n\nVariant test of I7d801d7533a045163e5530e91cb6aac41b10f587\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1.\n\nSo we simply make this more robust by moving the FRR container\nconfiguration during the host_prep_tasks. This requires that we\nduplicate the deploy-steps-tasks-step-1 tasks (kolla configs,\ncontainer-startup-configs) and the podman host_prep_tasks when using\nthe FRR service.\n\nNote: We also duplicate the podman host_prep_tasks here because\nwe have no strict guarantee that they run before ours.\n\nTested as follows:\n- Deployed an FRR-enabled TLS-E environment from master (was previously\n  failing)\n- Deployed an FRR-enabled without TLS-E from master\n\nChange-Id: I54531995fd180b3251901ff61296d6bd05fb85b2\nCo-Authored-By: Carlos Gonçalves <cgoncalves@redhat.com>\n'}, {'number': 2, 'created': '2021-03-21 08:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dceb7244de08dfd69231d07934f37a03e27c7312', 'message': 'WIP DNR/DNM Start all FRR tasks during host_prep_tasks\n\nVariant test of I7d801d7533a045163e5530e91cb6aac41b10f587\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1.\n\nSo we simply make this more robust by moving the FRR container\nconfiguration during the host_prep_tasks. This requires that we\nduplicate the deploy-steps-tasks-step-1 tasks (kolla configs,\ncontainer-startup-configs) and the podman host_prep_tasks when using\nthe FRR service.\n\nNote: We also duplicate the podman host_prep_tasks here because\nwe have no strict guarantee that they run before ours.\n\nTested as follows:\n- Deployed an FRR-enabled TLS-E environment from master (was previously\n  failing)\n- Deployed an FRR-enabled without TLS-E from master\n\nChange-Id: I54531995fd180b3251901ff61296d6bd05fb85b2\nCo-Authored-By: Carlos Gonçalves <cgoncalves@redhat.com>\n'}, {'number': 3, 'created': '2021-03-21 08:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f7566b0a0cde21931a3878fce3aedf7cc8c9b3c', 'message': 'WIP DNR/DNM Start all FRR tasks during host_prep_tasks\n\nVariant test of I7d801d7533a045163e5530e91cb6aac41b10f587\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1.\n\nSo we simply make this more robust by moving the FRR container\nconfiguration during the host_prep_tasks. This requires that we\nduplicate the deploy-steps-tasks-step-1 tasks (kolla configs,\ncontainer-startup-configs) and the podman host_prep_tasks when using\nthe FRR service.\n\nNote: We also duplicate the podman host_prep_tasks here because\nwe have no strict guarantee that they run before ours.\n\nTested as follows:\n- Deployed an FRR-enabled TLS-E environment from master (was previously\n  failing)\n- Deployed an FRR-enabled without TLS-E from master\n\nChange-Id: I54531995fd180b3251901ff61296d6bd05fb85b2\nCo-Authored-By: Carlos Gonçalves <cgoncalves@redhat.com>\n'}, {'number': 4, 'created': '2021-03-21 15:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9cd94b83dd64d3ed7d5d48a67c980a2f78b73889', 'message': 'WIP DNR/DNM Start all FRR tasks during host_prep_tasks\n\nVariant test of I7d801d7533a045163e5530e91cb6aac41b10f587\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1.\n\nSo we simply make this more robust by moving the FRR container\nconfiguration during the host_prep_tasks. This requires that we\nduplicate the deploy-steps-tasks-step-1 tasks (kolla configs,\ncontainer-startup-configs) and the podman host_prep_tasks when using\nthe FRR service.\n\nNote: We also duplicate the podman host_prep_tasks here because\nwe have no strict guarantee that they run before ours.\n\nTested as follows:\n- Deployed an FRR-enabled TLS-E environment from master (was previously\n  failing)\n- Deployed an FRR-enabled without TLS-E from master\n\nChange-Id: I54531995fd180b3251901ff61296d6bd05fb85b2\nCo-Authored-By: Carlos Gonçalves <cgoncalves@redhat.com>\n'}, {'number': 5, 'created': '2021-03-22 19:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27717f075c0e7ffb181444a155c34071f86d8abf', 'message': 'WIP DNR/DNM Start all FRR tasks during host_prep_tasks\n\nVariant test of I7d801d7533a045163e5530e91cb6aac41b10f587\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1.\n\nSo we simply make this more robust by moving the FRR container\nconfiguration during the host_prep_tasks. This requires that we\nduplicate the deploy-steps-tasks-step-1 tasks (kolla configs,\ncontainer-startup-configs) and the podman host_prep_tasks when using\nthe FRR service.\n\nNote: We also duplicate the podman host_prep_tasks here because\nwe have no strict guarantee that they run before ours.\n\nTested as follows:\n- Deployed an FRR-enabled TLS-E environment from master (was previously\n  failing)\n- Deployed an FRR-enabled without TLS-E from master\n\nChange-Id: I54531995fd180b3251901ff61296d6bd05fb85b2\nCo-Authored-By: Carlos Gonçalves <cgoncalves@redhat.com>\n'}, {'number': 6, 'created': '2021-03-22 19:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5942c243cbe29f16f7c9917f676730b2a4d535c4', 'message': 'WIP DNR/DNM Start all FRR tasks during host_prep_tasks\n\nVariant test of I7d801d7533a045163e5530e91cb6aac41b10f587\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1.\n\nSo we simply make this more robust by moving the FRR container\nconfiguration during the host_prep_tasks. This requires that we\nduplicate the deploy-steps-tasks-step-1 tasks (kolla configs,\ncontainer-startup-configs) and the podman host_prep_tasks when using\nthe FRR service.\n\nNote: We also duplicate the podman host_prep_tasks here because\nwe have no strict guarantee that they run before ours.\n\nTested as follows:\n- Deployed an FRR-enabled TLS-E environment from master (was previously\n  failing)\n- Deployed an FRR-enabled without TLS-E from master\n\nChange-Id: I54531995fd180b3251901ff61296d6bd05fb85b2\nCo-Authored-By: Carlos Gonçalves <cgoncalves@redhat.com>\n'}, {'number': 7, 'created': '2021-03-22 20:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e72f66c2ab887da30eb683c89a0ce9ca7a09988', 'message': 'WIP DNR/DNM Start all FRR tasks during host_prep_tasks\n\nVariant test of I7d801d7533a045163e5530e91cb6aac41b10f587\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1.\n\nSo we simply make this more robust by moving the FRR container\nconfiguration during the host_prep_tasks. This requires that we\nduplicate the deploy-steps-tasks-step-1 tasks (kolla configs,\ncontainer-startup-configs) and the podman host_prep_tasks when using\nthe FRR service.\n\nNote: We also duplicate the podman host_prep_tasks here because\nwe have no strict guarantee that they run before ours.\n\nTested as follows:\n- Deployed an FRR-enabled TLS-E environment from master (was previously\n  failing)\n- Deployed an FRR-enabled without TLS-E from master\n\nChange-Id: I54531995fd180b3251901ff61296d6bd05fb85b2\nCo-Authored-By: Carlos Gonçalves <cgoncalves@redhat.com>\n'}, {'number': 8, 'created': '2021-03-24 08:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c61c563d25ffd2b72ff035f98b528c404a14c332', 'message': 'WIP DNM/DNR Move frr setup steps to post_container_setup_tasks\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1.\n\nWe fix this by:\n- Making sure the overcloud common bootstrap tasks (are run in a\n  separate task after host_prep_tasks, which is where podman gets\n  configured)\n- Run FRR setup tasks in the newly introduced post_container_setup_tasks\n  which runs before any external deployment task\n\nTested as follows:\n- Deployed an FRR-enabled TLS-E environment from master (was previously\n  failing)\n\nChange-Id: I54531995fd180b3251901ff61296d6bd05fb85b2\n'}, {'number': 9, 'created': '2021-03-25 20:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d8110f147a038f60bb1f174a2c8c5cd27b1f377', 'message': 'WIP DNM/DNR Move frr setup steps to post_container_setup_tasks\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1.\n\nWe fix this by:\n- Making sure the overcloud common bootstrap tasks (are run in a\n  separate task after host_prep_tasks, which is where podman gets\n  configured)\n- Run FRR setup tasks in the newly introduced post_container_setup_tasks\n  which runs before any external deployment task\n\nTested as follows:\n- Deployed an FRR-enabled TLS-E environment from master (was previously\n  failing)\n\nChange-Id: I54531995fd180b3251901ff61296d6bd05fb85b2\n'}, {'number': 10, 'created': '2021-03-25 20:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d9cb12b97697ee21b4225c0895a75900fcc53d9', 'message': 'WIP DNM/DNR Move frr setup steps to pre_deploy_step_tasks\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1.\n\nWe fix this by:\n- Making sure the overcloud common bootstrap tasks (are run in a\n  separate task after host_prep_tasks, which is where podman gets\n  configured)\n- Run FRR setup tasks in the newly introduced pre_deploy_step_tasks\n  which runs before any external deployment task\n\nTested as follows:\n- Deployed an FRR-enabled TLS-E environment from master (was previously\n  failing)\n\nChange-Id: I54531995fd180b3251901ff61296d6bd05fb85b2\n'}, {'number': 11, 'created': '2021-03-30 06:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd79cb7dcc44c248a4a00755fdb85e84d03889c9', 'message': 'WIP DNM/DNR Move frr setup steps to pre_deploy_step_tasks\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1.\n\nWe fix this by:\n- Making sure the overcloud common bootstrap tasks (are run in a\n  separate task after host_prep_tasks, which is where podman gets\n  configured)\n- Run FRR setup tasks in the newly introduced pre_deploy_step_tasks\n  which runs before any external deployment task\n\nTested as follows:\n- Deployed an FRR-enabled TLS-E environment from master (was previously\n  failing)\n\nChange-Id: I54531995fd180b3251901ff61296d6bd05fb85b2\n'}, {'number': 12, 'created': '2021-03-30 13:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4eda9146933b7b653aa8dcf12bc42aeb38a1bea8', 'message': 'Move frr setup steps to pre_deploy_step_tasks\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1 and so we fail to reach the freeipa\nnode.\n\nWe fix this by relying on newly introduced pre_deploy_step_tasks which\nare run in a separate task after container_setup_task, which is where\npodman gets configured and before any deployment task.\n\nTested as follows:\n- Deployed an FRR-enabled TLS-E environment from master (was previously\n  failing 100%) a bunch of times.\n\nChange-Id: I54531995fd180b3251901ff61296d6bd05fb85b2\n'}, {'number': 13, 'created': '2021-04-01 15:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a6d881d33da601dedf0d533d1295043ca018d9f', 'message': ""Move frr setup steps to pre_deploy_step_tasks\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1 and so we fail to reach the freeipa\nnode.\n\nWe fix this by relying on newly introduced pre_deploy_step_tasks which\nare run in a separate task after container_setup_task, which is where\npodman gets configured and before any deployment task.\n\nWhile we're at it we also remove the state: stopped line for kolla,\nwhich makes no sense any longer. And we also remove the main block,\nsince a single bunch of tasks will do it and is a bit simpler.\n\nTested as follows:\n- Deployed an FRR-enabled TLS-E environment from master (was previously\n  failing 100%) a bunch of times.\n\nCo-Authored-By: Carlos Gonçalves <cgoncalves@redhat.com>\n\nChange-Id: I54531995fd180b3251901ff61296d6bd05fb85b2\n""}, {'number': 14, 'created': '2021-04-02 06:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64d4d82db3180da48d6cd4943fa7b780f36f4a31', 'message': ""Move frr setup steps to pre_deploy_step_tasks\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1 and so we fail to reach the freeipa\nnode.\n\nWe fix this by relying on newly introduced pre_deploy_step_tasks which\nare run in a separate task after container_setup_task, which is where\npodman gets configured and before any deployment task.\n\nWhile we're at it we also remove the state: stopped line for kolla,\nwhich makes no sense any longer. And we also remove the main block,\nsince a single bunch of tasks will do it and is a bit simpler.\n\nTested as follows:\n- Deployed an FRR-enabled TLS-E environment from master (was previously\n  failing 100%) a bunch of times.\n\nCo-Authored-By: Carlos Gonçalves <cgoncalves@redhat.com>\n\nChange-Id: I54531995fd180b3251901ff61296d6bd05fb85b2\n""}, {'number': 15, 'created': '2021-04-06 20:25:58.000000000', 'files': ['deployment/frr/frr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/79ddf2f8799c1aef8eaf766516bc24996872e057', 'message': ""Move frr setup steps to pre_deploy_step_tasks\n\nPreviously we managed to get away with starting FRR during deployment\ntasks at step1. This worked because puppet config tasks (which need\nall nodes to be reachable due to pacemaker) ran after deployment step\ntask 1. In our testing also TLS-E setups worked okay, but that was\nlikely mainly due to coincidence because the IPA registration tasks\nwere also run at step1 of the deployment tasks and came after FRR.\nFRR is needed to be up in order to reach nodes like freeipa in a BGP\nbased deployment.\n\nhttps://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832\nmoved IPA role from deployment_step 1 to external_deployment_step 1 and\nthis broke TLS-E deployments with FRR, because FRR is not up already\nduring external deployment step 1 and so we fail to reach the freeipa\nnode.\n\nWe fix this by relying on newly introduced pre_deploy_step_tasks which\nare run in a separate task after container_setup_task, which is where\npodman gets configured and before any deployment task.\n\nWhile we're at it we also remove the state: stopped line for kolla,\nwhich makes no sense any longer. And we also remove the main block,\nsince a single bunch of tasks will do it and is a bit simpler.\n\nTested as follows:\n- Deployed an FRR-enabled TLS-E environment from master (was previously\n  failing 100%) a bunch of times.\n\nCo-Authored-By: Carlos Gonçalves <cgoncalves@redhat.com>\n\nChange-Id: I54531995fd180b3251901ff61296d6bd05fb85b2\n""}]",5,781972,79ddf2f8799c1aef8eaf766516bc24996872e057,62,6,15,20172,,,0,"Move frr setup steps to pre_deploy_step_tasks

Previously we managed to get away with starting FRR during deployment
tasks at step1. This worked because puppet config tasks (which need
all nodes to be reachable due to pacemaker) ran after deployment step
task 1. In our testing also TLS-E setups worked okay, but that was
likely mainly due to coincidence because the IPA registration tasks
were also run at step1 of the deployment tasks and came after FRR.
FRR is needed to be up in order to reach nodes like freeipa in a BGP
based deployment.

https://review.opendev.org/c/openstack/tripleo-heat-templates/+/771832
moved IPA role from deployment_step 1 to external_deployment_step 1 and
this broke TLS-E deployments with FRR, because FRR is not up already
during external deployment step 1 and so we fail to reach the freeipa
node.

We fix this by relying on newly introduced pre_deploy_step_tasks which
are run in a separate task after container_setup_task, which is where
podman gets configured and before any deployment task.

While we're at it we also remove the state: stopped line for kolla,
which makes no sense any longer. And we also remove the main block,
since a single bunch of tasks will do it and is a bit simpler.

Tested as follows:
- Deployed an FRR-enabled TLS-E environment from master (was previously
  failing 100%) a bunch of times.

Co-Authored-By: Carlos Gonçalves <cgoncalves@redhat.com>

Change-Id: I54531995fd180b3251901ff61296d6bd05fb85b2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/781972/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/frr/frr-container-ansible.yaml'],1,265dc7542ae1b21d0535536592e0738bb2154c02,bgpsupport,"resources: PodmanBase: type: ../podman/podman-baremetal-ansible.yaml properties: EndpointMap: {get_param: EndpointMap} ServiceData: {get_param: ServiceData} ServiceNetMap: {get_param: ServiceNetMap} RoleName: {get_param: RoleName} RoleParameters: {get_param: RoleParameters} # Frr is special because it needs to be up before we try any tasks that need to reach nodes # via the network That is why we need to duplicate the podman setup steps list_concat: - {get_attr: [PodmanBase, role_data, host_prep_tasks]} - - name: Configure and start FRR before an HA service block: - name: Configure FRR import_role: name: tripleo_frr vars: tripleo_frr_config_basedir: /var/lib/config-data/ansible-generated/frr tripleo_frr_bfd: {get_param: FrrBfdEnabled} tripleo_frr_bgp: {get_param: FrrBgpEnabled} tripleo_frr_bgp_asn: {get_param: FrrBgpAsn} tripleo_frr_bgp_ipv4: {get_param: FrrBgpIpv4Enabled} tripleo_frr_bgp_ipv4_allowas_in: {get_param: FrrBgpIpv4AllowASIn} tripleo_frr_bgp_ipv4_src_network: {get_param: FrrBgpIpv4SrcNetwork} tripleo_frr_bgp_ipv6: {get_param: FrrBgpIpv6Enabled} tripleo_frr_bgp_ipv6_allowas_in: {get_param: FrrBgpIpv6AllowASIn} tripleo_frr_bgp_ipv6_src_network: {get_param: FrrBgpIpv6SrcNetwork} tripleo_frr_bgp_neighbor_ttl_security_hops: {get_param: FrrBgpNeighborTtlSecurityHops} tripleo_frr_bgp_uplinks: {get_param: FrrBgpUplinks} tripleo_frr_bgp_uplinks_scope: {get_param: FrrBgpUplinksScope} tripleo_frr_log_level: {get_param: FrrLogLevel} tripleo_frr_zebra: {get_param: FrrZebraEnabled} - name: Start FRR include_role: name: tripleo_container_manage vars: tripleo_container_manage_config: ""/var/lib/tripleo-config/container-startup-config/step_0"" tripleo_container_manage_config_id: ""frr"" tripleo_container_manage_config_patterns: ""frr.json"" tripleo_container_manage_systemd_order: true"," - name: create persistent directories file: path: ""{{ item.path }}"" state: directory setype: ""{{ item.setype }}"" mode: ""{{ item.mode }}"" with_items: - { 'path': /var/log/containers/frr, 'setype': container_file_t, 'mode': '0750' } - { 'path': /var/lib/config-data/ansible-generated/frr, 'setype': container_file_t, 'mode': '0750' } deploy_steps_tasks: - name: Configure and start FRR before an HA service when: step|int == 1 block: - name: Configure FRR import_role: name: tripleo_frr vars: tripleo_frr_config_basedir: /var/lib/config-data/ansible-generated/frr tripleo_frr_bfd: {get_param: FrrBfdEnabled} tripleo_frr_bgp: {get_param: FrrBgpEnabled} tripleo_frr_bgp_asn: {get_param: FrrBgpAsn} tripleo_frr_bgp_ipv4: {get_param: FrrBgpIpv4Enabled} tripleo_frr_bgp_ipv4_allowas_in: {get_param: FrrBgpIpv4AllowASIn} tripleo_frr_bgp_ipv4_src_network: {get_param: FrrBgpIpv4SrcNetwork} tripleo_frr_bgp_ipv6: {get_param: FrrBgpIpv6Enabled} tripleo_frr_bgp_ipv6_allowas_in: {get_param: FrrBgpIpv6AllowASIn} tripleo_frr_bgp_ipv6_src_network: {get_param: FrrBgpIpv6SrcNetwork} tripleo_frr_bgp_neighbor_ttl_security_hops: {get_param: FrrBgpNeighborTtlSecurityHops} tripleo_frr_bgp_uplinks: {get_param: FrrBgpUplinks} tripleo_frr_bgp_uplinks_scope: {get_param: FrrBgpUplinksScope} tripleo_frr_log_level: {get_param: FrrLogLevel} tripleo_frr_zebra: {get_param: FrrZebraEnabled} - name: Start FRR include_role: name: tripleo_container_manage vars: tripleo_container_manage_config: ""/var/lib/tripleo-config/container-startup-config/step_0"" tripleo_container_manage_config_id: ""frr"" tripleo_container_manage_config_patterns: ""frr.json"" tripleo_container_manage_systemd_order: true",43,40
openstack%2Fkolla~master~I8dd4c8cae0e9d4a06693f61ce317d16a064003e0,openstack/kolla,master,I8dd4c8cae0e9d4a06693f61ce317d16a064003e0,[WIP] Run Masakari Monitors as root,ABANDONED,2021-04-07 19:16:53.000000000,2021-04-08 12:06:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-07 19:16:53.000000000', 'files': ['docker/masakari/masakari-monitors/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e80b54ae511f1bfa6cff51664177aaff9d07cdd8', 'message': '[WIP] Run Masakari Monitors as root\n\nChange-Id: I8dd4c8cae0e9d4a06693f61ce317d16a064003e0\n'}]",0,785255,e80b54ae511f1bfa6cff51664177aaff9d07cdd8,3,1,1,30491,,,0,"[WIP] Run Masakari Monitors as root

Change-Id: I8dd4c8cae0e9d4a06693f61ce317d16a064003e0
",git fetch https://review.opendev.org/openstack/kolla refs/changes/55/785255/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/masakari/masakari-monitors/Dockerfile.j2'],1,e80b54ae511f1bfa6cff51664177aaff9d07cdd8,masakari-monitors-root,, USER masakari,0,2
openstack%2Fkolla~stable%2Ftrain~I95aa64f0b292cd020574dbedd320ef90529cc7a4,openstack/kolla,stable/train,I95aa64f0b292cd020574dbedd320ef90529cc7a4,base: configure curl before first use,MERGED,2021-04-08 08:42:00.000000000,2021-04-08 12:01:54.000000000,2021-04-08 12:00:22.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-08 08:42:00.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/56a570ddcdc287644e31c950f7591d355f61d6f4', 'message': ""base: configure curl before first use\n\nWe want to have all uses of curl behave the same so we ship config file\nfor it in all images.\n\nSo do it at start of image so 'base' makes use of config too.\n\nChange-Id: I95aa64f0b292cd020574dbedd320ef90529cc7a4\n(cherry picked from commit 4328a5b3cc0e90e32952ecfeab2b63407ee8e22a)\n""}]",0,785330,56a570ddcdc287644e31c950f7591d355f61d6f4,8,3,1,30491,,,0,"base: configure curl before first use

We want to have all uses of curl behave the same so we ship config file
for it in all images.

So do it at start of image so 'base' makes use of config too.

Change-Id: I95aa64f0b292cd020574dbedd320ef90529cc7a4
(cherry picked from commit 4328a5b3cc0e90e32952ecfeab2b63407ee8e22a)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/30/785330/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,56a570ddcdc287644e31c950f7591d355f61d6f4,,# We use curl in this dockerfile so let configure it before first use COPY curlrc /root/.curlrc ,COPY curlrc /root/.curlrc,3,1
openstack%2Foctavia~master~I5780ee09e47486fc617c2bf8bdf693e95c98d5bc,openstack/octavia,master,I5780ee09e47486fc617c2bf8bdf693e95c98d5bc,Mark [health_manager]/heartbeat_key as a required config option,NEW,2021-04-01 12:31:13.000000000,2021-04-08 11:36:40.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 12:31:13.000000000', 'files': ['octavia/common/config.py', 'releasenotes/notes/heartbeat_key-config-required-4a020e9dca520a86.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6ca3c1cb7040a6ce9c33ea555f6d747efde55f1d', 'message': ""Mark [health_manager]/heartbeat_key as a required config option\n\n[health_manager]/heartbeat_key was not required and doesn't have any\ndefault value. So in case that setting was missing from the\nconfiguration file, the key was defaulted to None which triggers 2\nissues: security issue because the key is weak, and functional issue\nbecause a bug prevents using None as an encryption key for communication\nbetween the amphora-agent and the health-manager.\n\nChange-Id: I5780ee09e47486fc617c2bf8bdf693e95c98d5bc\n""}]",0,784387,6ca3c1cb7040a6ce9c33ea555f6d747efde55f1d,5,2,1,29244,,,0,"Mark [health_manager]/heartbeat_key as a required config option

[health_manager]/heartbeat_key was not required and doesn't have any
default value. So in case that setting was missing from the
configuration file, the key was defaulted to None which triggers 2
issues: security issue because the key is weak, and functional issue
because a bug prevents using None as an encryption key for communication
between the amphora-agent and the health-manager.

Change-Id: I5780ee09e47486fc617c2bf8bdf693e95c98d5bc
",git fetch https://review.opendev.org/openstack/octavia refs/changes/87/784387/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'releasenotes/notes/heartbeat_key-config-required-4a020e9dca520a86.yaml']",2,6ca3c1cb7040a6ce9c33ea555f6d747efde55f1d,,"--- upgrade: - | The [health_manager]/heartbeat_key config setting is now required, ensure that it is present in the configuration file before upgrading. ",,6,1
openstack%2Fneutron~stable%2Fussuri~Ibd1caf34a5f707f5ae9ff5973860d4e8338ef224,openstack/neutron,stable/ussuri,Ibd1caf34a5f707f5ae9ff5973860d4e8338ef224,[OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent,MERGED,2021-03-31 14:19:48.000000000,2021-04-08 11:35:03.000000000,2021-04-08 11:33:32.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 14:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd0534a17dd9117de889d09cb78fa93425e13b55', 'message': '[OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent\n\nOVN QoS extension do not manage the external type ports (SR-IOV);\nthe port QoS policy of those ports is handled by the SR-IOV agent\nQoS extension.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py\n\nChange-Id: Ibd1caf34a5f707f5ae9ff5973860d4e8338ef224\nCloses-Bug: #1918702\n(cherry picked from commit f700660b6b11118fa80129a4ef20c3e091da988b)\n'}, {'number': 2, 'created': '2021-04-02 09:59:43.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d83bf4ae273bc37935e021c5b2ec43643bceee0', 'message': '[OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent\n\nOVN QoS extension do not manage the external type ports (SR-IOV);\nthe port QoS policy of those ports is handled by the SR-IOV agent\nQoS extension.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py\n\nChange-Id: Ibd1caf34a5f707f5ae9ff5973860d4e8338ef224\nCloses-Bug: #1918702\n(cherry picked from commit f700660b6b11118fa80129a4ef20c3e091da988b)\n'}]",1,784106,4d83bf4ae273bc37935e021c5b2ec43643bceee0,34,3,2,16688,,,0,"[OVN] External ports (SR-IOV) QoS is handled by SR-IOV agent

OVN QoS extension do not manage the external type ports (SR-IOV);
the port QoS policy of those ports is handled by the SR-IOV agent
QoS extension.

Conflicts:
    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py

Change-Id: Ibd1caf34a5f707f5ae9ff5973860d4e8338ef224
Closes-Bug: #1918702
(cherry picked from commit f700660b6b11118fa80129a4ef20c3e091da988b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/784106/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py']",3,cd0534a17dd9117de889d09cb78fa93425e13b55,bug/1918702,"from neutron.common.ovn import constants as ovn_const def create_port(self, txn, port, port_type=None): self.update_port(txn, port, None, reset=True, port_type=port_type) qos_rules=None, port_type=None): if port_type == ovn_const.LSP_TYPE_EXTERNAL: # External ports (SR-IOV) QoS is handled the SR-IOV agent QoS # extension. return "," def create_port(self, txn, port): self.update_port(txn, port, None, reset=True) qos_rules=None):",19,5
openstack%2Fironic-python-agent-builder~master~I0a99d6313a38260973c1f725e2daed8d930da6c1,openstack/ironic-python-agent-builder,master,I0a99d6313a38260973c1f725e2daed8d930da6c1,Fix: IPA image building with OpenSuse.,MERGED,2021-03-04 15:20:51.000000000,2021-04-08 11:33:50.000000000,2021-04-08 11:28:18.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-04 15:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/94c312730d3df818cdbf322868859fbbb43fc659', 'message': 'Fix: IPA image building with OpenSuse.\n\nChange-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}, {'number': 2, 'created': '2021-03-04 15:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/a676f20243e64b666444bd4f7d5469b938ff2fd1', 'message': 'Fix: IPA image building with OpenSuse.\nThis PR is also related to the following PR in diskimage-builder:\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/778723\n\nChange-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}, {'number': 3, 'created': '2021-03-05 07:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/d2005b57653d16cf7badde16a455e65453877ddd', 'message': 'Fix: IPA image building with OpenSuse.\n\nThis PR is also related to the following PR in diskimage-builder:\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/778723\n\nChange-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1\nDepends-On: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 4, 'created': '2021-03-05 09:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/79e95f3c6d6f64a325bcb79b3b13bc7234adc4ec', 'message': 'Fix: IPA image building with OpenSuse.\n\nThis PR is also related to the following PR in diskimage-builder:\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/778723\n\nDepends-On: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n\nChange-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}, {'number': 5, 'created': '2021-03-08 11:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/4b45f71eb121c0434ff22b09ed7b796e0441873c', 'message': 'Fix: IPA image building with OpenSuse.\n\nChange-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}, {'number': 6, 'created': '2021-03-08 11:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/2f3882698c7a199e7f964e8a6defe2366c7081a7', 'message': 'Fix: IPA image building with OpenSuse.\n\nThis PR also needs the following PR in Diskimage-builder to have openSuse build successfull:\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/778723/2\n\nDepends-On: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n\nChange-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}, {'number': 7, 'created': '2021-03-08 11:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/aaee5694b567fbb9371e8e58e83cbdeb9e4f48c9', 'message': 'Fix: IPA image building with OpenSuse.\n\nThis PR also needs the following PR in Diskimage-builder to have openSuse build successfull:\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/778723/2\n\nDepends-On: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n\nChange-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}, {'number': 8, 'created': '2021-03-08 11:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/1c26a14dc3edf8d77da2d7437cd093f5d182774c', 'message': 'Fix: IPA image building with OpenSuse.\n\nThis PR also needs the following PR in Diskimage-builder to have openSuse build successfull:\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/778723\n\nDepends-On: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n\nChange-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}, {'number': 9, 'created': '2021-03-10 11:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/ce52514cf20f9f069889ebb248dd4bb221be6c03', 'message': 'Fix: IPA image building with OpenSuse.\n\nChange-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}, {'number': 10, 'created': '2021-03-12 10:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/10c9514163cca87fb4bb818a65bd8f23aa0ddfd8', 'message': 'Fix: IPA image building with OpenSuse.\n\nChange-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}, {'number': 11, 'created': '2021-03-12 13:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/24c1da9c6519035b85541123856a8e5e3272c895', 'message': 'Fix: IPA image building with OpenSuse.\n\nChange-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}, {'number': 12, 'created': '2021-03-15 10:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/cb5292e5fdb2003c72d126b0963ed96f21044631', 'message': 'Fix: IPA image building with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and missing compatible packages for installation.\nAlso, setuptools upgrade, svc mapping and package mapping are necessary for openSuse specific task.\nThis PR will solve those issues to build IPA image with OpenSuse base image.\nThere is another PR opened in diskimage builder, which is also needed to do the build successful.\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/778723\n\nChange-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}, {'number': 13, 'created': '2021-03-15 10:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/8035aad86a7322a652d6e596d38229125fcf3f60', 'message': 'Fix: IPA image building with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and missing compatible packages for installation. Also, setuptools upgrade, svc mapping and package mapping are necessary for openSuse specific task. This PR will solve those issues to build IPA image with OpenSuse base image. There is another PR opened in diskimage builder, which is also needed to do the build successful.\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/778723\n\nChange-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}, {'number': 14, 'created': '2021-03-15 15:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/770cfb94051815649fdb156ea883659392ce3cce', 'message': 'Fix: IPA image building with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and missing compatible packages for installation. Also, setuptools upgrade, svc mapping and package mapping are necessary for openSuse specific task. This PR will solve those issues to build IPA image with OpenSuse base image. There is another PR opened in diskimage builder, which is also needed to do the build successful.\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/778723\n\nChange-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}, {'number': 15, 'created': '2021-03-15 15:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/7cd92a381411b12e235d929bcd678e48e2c82600', 'message': 'Fix: IPA image building with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and missing compatible packages for installation. Also, setuptools upgrade, svc mapping and package mapping are necessary for openSuse specific task. This PR will solve those issues to build IPA image with OpenSuse base image. There is another PR opened in diskimage-builder, which is also needed to do the build successful.\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/778723\n\nChange-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}, {'number': 16, 'created': '2021-03-16 08:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/fb5b3a4c02b3a60da4e93b42b3387d0ca85a126f', 'message': 'Fix: IPA image building with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and missing compatible packages for installation. Also, setuptools upgrade, svc mapping and package mapping are necessary for openSuse specific task. This PR will solve those issues to build IPA image with OpenSuse base image. There is another PR opened in diskimage-builder, which is also needed to do the build successful.\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/778723\n\nChange-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}, {'number': 17, 'created': '2021-03-26 09:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/81a0c096e3a8a5a1fcc3074e5175fa8a29084e92', 'message': 'Fix: IPA image building with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and missing compatible packages for installation. Also, setuptools upgrade, svc mapping and package mapping are necessary for openSuse specific task. This PR will solve those issues to build IPA image with OpenSuse base image. There is another PR opened in diskimage-builder, which is adds small change for opensuse specific settings.\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/778723\n\nChange-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}, {'number': 18, 'created': '2021-03-26 09:23:20.000000000', 'files': ['dib/ironic-python-agent-ramdisk/install.d/ironic-python-agent-ramdisk-source-install/60-ironic-python-agent-ramdisk-install', 'dib/ironic-python-agent-ramdisk/svc-map', 'zuul.d/ironic-python-agent-builder-jobs.yaml', 'zuul.d/project.yaml', 'dib/ironic-python-agent-ramdisk/pkg-map'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/853e3f73b223b03d7ea9b00d89fb1d99c021eb43', 'message': 'Fix: IPA image building with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and missing compatible packages for installation. Also, setuptools upgrade, svc mapping and package mapping are necessary for openSuse specific task. This PR will solve those issues to build IPA image with OpenSuse base image. There is another PR opened in diskimage-builder, which is adds small change for opensuse specific settings.\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/778723\n\nChange-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}]",24,778726,853e3f73b223b03d7ea9b00d89fb1d99c021eb43,79,5,18,33185,,,0,"Fix: IPA image building with OpenSuse.

At this moment the IPA image building with OpenSuse is broken and missing compatible packages for installation. Also, setuptools upgrade, svc mapping and package mapping are necessary for openSuse specific task. This PR will solve those issues to build IPA image with OpenSuse base image. There is another PR opened in diskimage-builder, which is adds small change for opensuse specific settings.
Depends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/778723

Change-Id: I0a99d6313a38260973c1f725e2daed8d930da6c1
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/26/778726/1 && git format-patch -1 --stdout FETCH_HEAD,"['dib/ironic-python-agent-ramdisk/package-installs.yaml', 'dib/ironic-python-agent-ramdisk/install.d/ironic-python-agent-ramdisk-source-install/60-ironic-python-agent-ramdisk-install', 'dib/ironic-python-agent-ramdisk/svc-map']",3,94c312730d3df818cdbf322868859fbbb43fc659,, debian: ironic-python-agent opensuse: ironic-python-agent , debian: ironic-python-agent,48,1
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~Ia19de894492e1904957edff48de2fe3d0b5c50ec,openstack/puppet-openstack-integration,stable/wallaby,Ia19de894492e1904957edff48de2fe3d0b5c50ec,Switch to RDO Wallaby,MERGED,2021-04-08 02:12:17.000000000,2021-04-08 11:32:05.000000000,2021-04-08 11:32:05.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 02:12:17.000000000', 'files': ['manifests/repos.pp', 'configure_facts.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bd9ab1cc5387bd0b3ba665b7cf77ea863ee264b6', 'message': 'Switch to RDO Wallaby\n\nChange-Id: Ia19de894492e1904957edff48de2fe3d0b5c50ec\n'}]",0,785317,bd9ab1cc5387bd0b3ba665b7cf77ea863ee264b6,14,2,1,9816,,,0,"Switch to RDO Wallaby

Change-Id: Ia19de894492e1904957edff48de2fe3d0b5c50ec
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/17/785317/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repos.pp', 'configure_facts.sh']",2,bd9ab1cc5387bd0b3ba665b7cf77ea863ee264b6,wallaby-stable/wallaby,"export DLRN_BASE=${DLRN_BASE:-${OS_NAME_VERS}-wallaby/puppet-passed-ci} export DLRN_DEPS_BASE=${DLRN_DEPS_BASE:-${OS_NAME_VERS}-wallaby/deps/latest/} export DLRN_BASE_URL=${DLRN_BASE_URL:-${OS_NAME_VERS}-wallaby/puppet-passed-ci/delorean.repo} export DLRN_DEPS_URL=${DLRN_DEPS_URL:-${OS_NAME_VERS}-wallaby/delorean-deps.repo}curl -o /tmp/delorean.repo ""${NODEPOOL_RDO_PROXY}/centos8-wallaby/puppet-passed-ci/delorean.repo""curl -o /tmp/delorean-deps.repo ""${NODEPOOL_RDO_PROXY}/centos8-wallaby/delorean-deps.repo""","export DLRN_BASE=${DLRN_BASE:-${OS_NAME_VERS}-master/puppet-passed-ci} export DLRN_DEPS_BASE=${DLRN_DEPS_BASE:-${OS_NAME_VERS}-master/deps/latest/} export DLRN_BASE_URL=${DLRN_BASE_URL:-${OS_NAME_VERS}-master/puppet-passed-ci/delorean.repo} export DLRN_DEPS_URL=${DLRN_DEPS_URL:-${OS_NAME_VERS}-master/delorean-deps.repo}curl -o /tmp/delorean.repo ""${NODEPOOL_RDO_PROXY}/centos8-master/puppet-passed-ci/delorean.repo""curl -o /tmp/delorean-deps.repo ""${NODEPOOL_RDO_PROXY}/centos8-master/delorean-deps.repo""",8,8
openstack%2Ftripleo-heat-templates~master~Ia0ad0ac6d7a09858b56dcb419a3bec17b63779a4,openstack/tripleo-heat-templates,master,Ia0ad0ac6d7a09858b56dcb419a3bec17b63779a4,Always update the local certmonger ca cert,MERGED,2021-04-06 17:53:51.000000000,2021-04-08 11:27:15.000000000,2021-04-08 11:27:15.000000000,"[{'_account_id': 7353}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-06 17:53:51.000000000', 'files': ['deployment/haproxy/haproxy-public-tls-certmonger.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a65df66fb66240bb292a8d0124465fa80034d1fe', 'message': 'Always update the local certmonger ca cert\n\nThe local certmonger cert will renew after half its lifetime, which will\nbe after 6 months by default.  The current code would extract the CA cert\nto a PEM file (and trust it), only if the cert in the existing PEM file\nwas expired.\n\nBut this means that the certmonger local cert could be renewed after six\nmonths and not be replaced in the PEM file until the existing cert\nexpired at the end of the year.  If certs are issued in this time, they\nwill not be trusted and the update will fail.\n\nThis patch removes this condition, so that the extracted and trusted cert\nalways matches what is in the PEM file, and what is trusted.\n\nNote, this only place this occurs is on the undercloud - because this is\nwhere we could use the certmonger local cert.  We assume that the haproxy\ncert will be re-issued in an update.\n\nThis change has been added to puppet-tripleo for master and all previous\nreleases, but in master now, we do this directly in tht as we use\nansible to get the system certs.\n\nChange-Id: Ia0ad0ac6d7a09858b56dcb419a3bec17b63779a4\n'}]",0,785020,a65df66fb66240bb292a8d0124465fa80034d1fe,11,10,1,9914,,,0,"Always update the local certmonger ca cert

The local certmonger cert will renew after half its lifetime, which will
be after 6 months by default.  The current code would extract the CA cert
to a PEM file (and trust it), only if the cert in the existing PEM file
was expired.

But this means that the certmonger local cert could be renewed after six
months and not be replaced in the PEM file until the existing cert
expired at the end of the year.  If certs are issued in this time, they
will not be trusted and the update will fail.

This patch removes this condition, so that the extracted and trusted cert
always matches what is in the PEM file, and what is trusted.

Note, this only place this occurs is on the undercloud - because this is
where we could use the certmonger local cert.  We assume that the haproxy
cert will be re-issued in an update.

This change has been added to puppet-tripleo for master and all previous
releases, but in master now, we do this directly in tht as we use
ansible to get the system certs.

Change-Id: Ia0ad0ac6d7a09858b56dcb419a3bec17b63779a4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/785020/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-public-tls-certmonger.yaml'],1,a65df66fb66240bb292a8d0124465fa80034d1fe,fix_renewed_ca_cert, openssl pkcs12 -in /var/lib/certmonger/local/creds -out ${ca_pem} -nokeys -nodes -passin pass:'' chmod 0644 ${ca_pem} update-ca-trust extract, if ! { test -e ${ca_pem} && openssl x509 -checkend 0 -noout -in ${ca_pem}; }; then openssl pkcs12 -in /var/lib/certmonger/local/creds -out ${ca_pem} -nokeys -nodes -passin pass:'' chmod 0644 ${ca_pem} update-ca-trust extract fi,3,5
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I1ee3796fb5a7fec69ac3e63e3683000b254d987c,openstack/puppet-openstack-integration,stable/wallaby,I1ee3796fb5a7fec69ac3e63e3683000b254d987c,Switch to stable/wallaby,MERGED,2021-04-08 02:11:26.000000000,2021-04-08 11:23:40.000000000,2021-04-08 11:23:40.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 02:11:26.000000000', 'files': ['run_tests.sh', 'Puppetfile', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/42c29495e9202ac53935b78af155435169e35daa', 'message': 'Switch to stable/wallaby\n\nChange-Id: I1ee3796fb5a7fec69ac3e63e3683000b254d987c\n'}]",0,785316,42c29495e9202ac53935b78af155435169e35daa,14,2,1,9816,,,0,"Switch to stable/wallaby

Change-Id: I1ee3796fb5a7fec69ac3e63e3683000b254d987c
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/16/785316/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'Puppetfile', 'zuul.d/base.yaml']",3,42c29495e9202ac53935b78af155435169e35daa,wallaby-stable/wallaby, - name: openstack/puppet-aodh override-checkout: stable/wallaby - name: openstack/puppet-barbican override-checkout: stable/wallaby - name: openstack/puppet-ceilometer override-checkout: stable/wallaby - name: openstack/puppet-ceph - name: openstack/puppet-cinder override-checkout: stable/wallaby - name: openstack/puppet-cloudkitty override-checkout: stable/wallaby - name: openstack/puppet-designate override-checkout: stable/wallaby - name: openstack/puppet-ec2api override-checkout: stable/wallaby - name: openstack/puppet-glance override-checkout: stable/wallaby - name: openstack/puppet-gnocchi override-checkout: stable/wallaby - name: openstack/puppet-heat override-checkout: stable/wallaby - name: openstack/puppet-horizon override-checkout: stable/wallaby - name: openstack/puppet-ironic override-checkout: stable/wallaby - name: openstack/puppet-keystone override-checkout: stable/wallaby - name: openstack/puppet-magnum override-checkout: stable/wallaby - name: openstack/puppet-manila override-checkout: stable/wallaby - name: openstack/puppet-mistral override-checkout: stable/wallaby - name: openstack/puppet-monasca override-checkout: stable/wallaby - name: x/puppet-modulesync-configs override-checkout: stable/wallaby - name: openstack/puppet-murano override-checkout: stable/wallaby - name: openstack/puppet-neutron override-checkout: stable/wallaby - name: openstack/puppet-nova override-checkout: stable/wallaby - name: openstack/puppet-octavia override-checkout: stable/wallaby - name: openstack/puppet-openstack-cookiecutter - name: openstack/puppet-openstack-integration override-checkout: stable/wallaby - name: openstack/puppet-openstack_extras override-checkout: stable/wallaby - name: openstack/puppet-openstack_spec_helper override-checkout: stable/wallaby - name: openstack/puppet-openstacklib override-checkout: stable/wallaby - name: openstack/puppet-oslo override-checkout: stable/wallaby - name: openstack/puppet-ovn override-checkout: stable/wallaby - name: openstack/puppet-panko override-checkout: stable/wallaby - name: openstack/puppet-placement override-checkout: stable/wallaby - name: openstack/puppet-qdr override-checkout: stable/wallaby - name: openstack/puppet-sahara override-checkout: stable/wallaby - name: openstack/puppet-swift override-checkout: stable/wallaby - name: openstack/puppet-tacker override-checkout: stable/wallaby - name: openstack/puppet-tempest override-checkout: stable/wallaby - name: openstack/puppet-trove override-checkout: stable/wallaby - name: openstack/puppet-vswitch override-checkout: stable/wallaby - name: openstack/puppet-vitrage override-checkout: stable/wallaby - name: openstack/puppet-watcher override-checkout: stable/wallaby - name: openstack/puppet-zaqar override-checkout: stable/wallaby - name: openstack/tempest override-checkout: 27.0.0, - openstack/puppet-aodh - openstack/puppet-barbican - openstack/puppet-ceilometer - openstack/puppet-ceph - openstack/puppet-cinder - openstack/puppet-cloudkitty - openstack/puppet-designate - openstack/puppet-ec2api - openstack/puppet-glance - openstack/puppet-gnocchi - openstack/puppet-heat - openstack/puppet-horizon - openstack/puppet-ironic - openstack/puppet-keystone - openstack/puppet-magnum - openstack/puppet-manila - openstack/puppet-mistral - openstack/puppet-monasca - x/puppet-modulesync-configs - openstack/puppet-murano - openstack/puppet-neutron - openstack/puppet-nova - openstack/puppet-octavia - openstack/puppet-openstack-cookiecutter - openstack/puppet-openstack-integration - openstack/puppet-openstack_extras - openstack/puppet-openstack_spec_helper - openstack/puppet-openstacklib - openstack/puppet-oslo - openstack/puppet-ovn - openstack/puppet-panko - openstack/puppet-placement - openstack/puppet-qdr - openstack/puppet-sahara - openstack/puppet-swift - openstack/puppet-tacker - openstack/puppet-tempest - openstack/puppet-trove - openstack/puppet-vswitch - openstack/puppet-vitrage - openstack/puppet-watcher - openstack/puppet-zaqar - openstack/tempest,122,80
openstack%2Foctavia~stable%2Fwallaby~Ic63929d8864e5285baf70dd85e6362988bf2863f,openstack/octavia,stable/wallaby,Ic63929d8864e5285baf70dd85e6362988bf2863f,Fix weighted round-robin about UDP and SCTP listener,MERGED,2021-04-06 10:14:25.000000000,2021-04-08 11:00:50.000000000,2021-04-08 10:59:14.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 10:14:25.000000000', 'files': ['releasenotes/notes/fix-udp-and-sctp-listener-wrr-50de9dc0774a8ea1.yaml', 'octavia/common/jinja/lvs/jinja_cfg.py', 'octavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d9603b3d21723fce3b7380b14d537d847088246c', 'message': ""Fix weighted round-robin about UDP and SCTP listener\n\n'lb_algo rr' in keepalived won't work correctly with weight\nfor UDP and SCTP listeners, it should be 'lb_algo wrr'.\n\n'wrr' is superset of 'rr' algorithm, as round-robin is\na specical instance of the weighted round-robin scheduling,\nin which all the weights are equal. [1]\n\nAlgorithm in HAProxy is set to 'roundrobin', which also support\nweights, but in keepalived must be set to 'wrr' to work with\nthe weighted round-robin scheduling, as it is different to 'rr'.\n\n[1] https://www.keepalived.org/doc/scheduling_algorithms.html\n\nStory 2008462\nTask 41491\n\nChange-Id: Ic63929d8864e5285baf70dd85e6362988bf2863f\n(cherry picked from commit 5352a10f62f1a4763aeee81e2e638a9896b6ce79)\n""}]",0,784847,d9603b3d21723fce3b7380b14d537d847088246c,9,4,1,21757,,,0,"Fix weighted round-robin about UDP and SCTP listener

'lb_algo rr' in keepalived won't work correctly with weight
for UDP and SCTP listeners, it should be 'lb_algo wrr'.

'wrr' is superset of 'rr' algorithm, as round-robin is
a specical instance of the weighted round-robin scheduling,
in which all the weights are equal. [1]

Algorithm in HAProxy is set to 'roundrobin', which also support
weights, but in keepalived must be set to 'wrr' to work with
the weighted round-robin scheduling, as it is different to 'rr'.

[1] https://www.keepalived.org/doc/scheduling_algorithms.html

Story 2008462
Task 41491

Change-Id: Ic63929d8864e5285baf70dd85e6362988bf2863f
(cherry picked from commit 5352a10f62f1a4763aeee81e2e638a9896b6ce79)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/47/784847/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-udp-and-sctp-listener-wrr-50de9dc0774a8ea1.yaml', 'octavia/common/jinja/lvs/jinja_cfg.py', 'octavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py']",4,d9603b3d21723fce3b7380b14d537d847088246c,task/41491-stable/wallaby," 'lb_algorithm': 'wrr', 'lb_algorithm': 'wrr', 'lb_algorithm': 'wrr', 'lb_algorithm': 'wrr',"," 'lb_algorithm': 'rr', 'lb_algorithm': 'rr', 'lb_algorithm': 'rr', 'lb_algorithm': 'rr',",25,19
openstack%2Fansible-collections-openstack~master~I3914db6e5c4f279f2aeae051fd6a1a4254f554c9,openstack/ansible-collections-openstack,master,I3914db6e5c4f279f2aeae051fd6a1a4254f554c9,Prepare for Ansible 2.11 tests,MERGED,2021-04-07 08:17:28.000000000,2021-04-08 10:49:56.000000000,2021-04-08 10:49:56.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 08:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4cd49a8605f59ebcd9e146c90c8fbedb26144ddb', 'message': 'Prepare for Ansible 2.11 tests\n\nChange-Id: I3914db6e5c4f279f2aeae051fd6a1a4254f554c9\n'}, {'number': 2, 'created': '2021-04-07 08:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fed7d4b8a955168cb785d83b6b088069ec3046a7', 'message': 'Prepare for Ansible 2.11 tests\n\nChange-Id: I3914db6e5c4f279f2aeae051fd6a1a4254f554c9\n'}, {'number': 3, 'created': '2021-04-07 13:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3129546593695c81f462c584774fc07adc5fe6b4', 'message': 'Prepare for Ansible 2.11 tests\n\nChange-Id: I3914db6e5c4f279f2aeae051fd6a1a4254f554c9\n'}, {'number': 4, 'created': '2021-04-07 16:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0d1b6a8c7065b737af737b96f37e6e87cfb2b191', 'message': 'Prepare for Ansible 2.11 tests\n\nChange-Id: I3914db6e5c4f279f2aeae051fd6a1a4254f554c9\n'}, {'number': 5, 'created': '2021-04-07 18:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/61c80d7d235d5675d1634a183972cc2f21243e37', 'message': 'Prepare for Ansible 2.11 tests\n\nChange-Id: I3914db6e5c4f279f2aeae051fd6a1a4254f554c9\n'}, {'number': 6, 'created': '2021-04-07 21:19:36.000000000', 'files': ['test-requirements-2.10.txt', 'test-requirements.txt', '.zuul.yaml', 'tox.ini', 'tests/sanity/ignore-2.12.txt'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/17a1d72b1cafb7645d0537f546a9bac7408f0fb8', 'message': 'Prepare for Ansible 2.11 tests\n\nChange-Id: I3914db6e5c4f279f2aeae051fd6a1a4254f554c9\n'}]",1,785101,17a1d72b1cafb7645d0537f546a9bac7408f0fb8,16,2,6,10969,,,0,"Prepare for Ansible 2.11 tests

Change-Id: I3914db6e5c4f279f2aeae051fd6a1a4254f554c9
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/01/785101/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4cd49a8605f59ebcd9e146c90c8fbedb26144ddb,newci, name: openstack-tox-linters-ansible-2.11 override-checkout: stable-2.11, name: openstack-tox-linters-ansible-2.10 override-checkout: stable-2.10,2,2
openstack%2Freleases~master~Ib59fd198fe74cabcc13bde7464241855a1fbb997,openstack/releases,master,Ib59fd198fe74cabcc13bde7464241855a1fbb997,Cinder team releases for stable/train,MERGED,2021-04-07 12:27:03.000000000,2021-04-08 10:40:30.000000000,2021-04-08 10:40:30.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 12:27:03.000000000', 'files': ['deliverables/train/python-cinderclient.yaml', 'deliverables/train/os-brick.yaml', 'deliverables/train/python-brick-cinderclient-ext.yaml', 'deliverables/train/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c27fea6ffc5d667196e102da10f9f90142af9370', 'message': 'Cinder team releases for stable/train\n\nNot being released at this time:\n- cinderlib (no functional changes in branch)\n\nChange-Id: Ib59fd198fe74cabcc13bde7464241855a1fbb997\n'}]",3,785166,c27fea6ffc5d667196e102da10f9f90142af9370,15,4,1,27615,,,0,"Cinder team releases for stable/train

Not being released at this time:
- cinderlib (no functional changes in branch)

Change-Id: Ib59fd198fe74cabcc13bde7464241855a1fbb997
",git fetch https://review.opendev.org/openstack/releases refs/changes/66/785166/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/python-cinderclient.yaml', 'deliverables/train/os-brick.yaml', 'deliverables/train/python-brick-cinderclient-ext.yaml', 'deliverables/train/cinder.yaml']",4,c27fea6ffc5d667196e102da10f9f90142af9370,, - version: 15.5.0 projects: - repo: openstack/cinder hash: a75f8633b4e8e4256f1309cb2fdc0699f8a3c3e0,,16,0
openstack%2Fdiskimage-builder~master~I29e726679c2b675b3c0cd95a3ff48fdad7cd5431,openstack/diskimage-builder,master,I29e726679c2b675b3c0cd95a3ff48fdad7cd5431,Improved the documentation for DIB_DNF_MODULE_STREAMS,MERGED,2021-04-08 05:54:08.000000000,2021-04-08 10:36:19.000000000,2021-04-08 10:34:30.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 05:54:08.000000000', 'files': ['diskimage_builder/elements/yum/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/21a752ee4d48807d0a006469e35e44dfac93285f', 'message': 'Improved the documentation for DIB_DNF_MODULE_STREAMS\n\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/785138\nadds the support for DIB_DNF_MODULE_STREAMS which is now available\nfor all Yum based distros.\n\nThis patch enhances the docs for using it for all Yum\nbased distributions.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I29e726679c2b675b3c0cd95a3ff48fdad7cd5431\n'}]",0,785304,21a752ee4d48807d0a006469e35e44dfac93285f,8,3,1,12393,,,0,"Improved the documentation for DIB_DNF_MODULE_STREAMS

https://review.opendev.org/c/openstack/diskimage-builder/+/785138
adds the support for DIB_DNF_MODULE_STREAMS which is now available
for all Yum based distros.

This patch enhances the docs for using it for all Yum
based distributions.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I29e726679c2b675b3c0cd95a3ff48fdad7cd5431
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/04/785304/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/yum/README.rst'],1,21a752ee4d48807d0a006469e35e44dfac93285f,dib_stream,"enabled during an image build on Yum/DNF based distributions. Any existing stream for the given module is first disabled prior to enabling the specified stream.When using Train release on RHEL/CentOS/Fedora, one must select the appropriate virt and container-tools module streams:","enabled during an image build on RHEL8. Any existing stream for the given module is first disabled prior to enabling the specified stream.When using Train on RHEL8.2, one must select the appropriate virt and container-tools module streams:",5,4
openstack%2Fgrenade~stable%2Fussuri~I66b5d128c3dbe51289410760ea1cbf7f61c55c2f,openstack/grenade,stable/ussuri,I66b5d128c3dbe51289410760ea1cbf7f61c55c2f,Configure the Tempest venv upper constraints properly,MERGED,2021-04-05 22:03:44.000000000,2021-04-08 10:20:56.000000000,2021-04-08 10:15:29.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-05 22:03:44.000000000', 'files': ['grenade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/96dfc83c1cea5f6754a75d8b25a9c70bf25e4516', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\ngrenade run smoke test on old devstack and if old devstack does not\nuse the master constraints for Tempest then we need to take care of\nthe same while running the tests too otherwise, it will end up recreating\nthe Tempest venv and flush the already installed tempest plugins\nand their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nCloses-Bug: 1922597\nChange-Id: I66b5d128c3dbe51289410760ea1cbf7f61c55c2f\n(cherry picked from commit 8f7941259651e59320ffd29563e40c2d71b05a1e)\n(cherry picked from commit 6919902f4cb6c26b48712da80c389041c5af7dd3)\n(cherry picked from commit 4d787525ae0d48806f27fe0ef3db134c4cf033bf)\n'}]",0,784858,96dfc83c1cea5f6754a75d8b25a9c70bf25e4516,12,3,1,8556,,,0,"Configure the Tempest venv upper constraints properly

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

grenade run smoke test on old devstack and if old devstack does not
use the master constraints for Tempest then we need to take care of
the same while running the tests too otherwise, it will end up recreating
the Tempest venv and flush the already installed tempest plugins
and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

Closes-Bug: 1922597
Change-Id: I66b5d128c3dbe51289410760ea1cbf7f61c55c2f
(cherry picked from commit 8f7941259651e59320ffd29563e40c2d71b05a1e)
(cherry picked from commit 6919902f4cb6c26b48712da80c389041c5af7dd3)
(cherry picked from commit 4d787525ae0d48806f27fe0ef3db134c4cf033bf)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/58/784858/1 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,96dfc83c1cea5f6754a75d8b25a9c70bf25e4516,standardize-tempest-tox-constraints,"source $BASE_DEVSTACK_DIR/stackrc # NOTE(gmann): If gate explicitly set the non master # constraints to use for Tempest venv then use the same # while running the tests too otherwise, it will recreate # the Tempest venv due to constraints mismatch. # recreation of Tempest venv can flush the initially installed # tempest plugins and their deps. if [[ ""$TEMPEST_VENV_UPPER_CONSTRAINTS"" != ""master"" ]]; then echo ""Using $TEMPEST_VENV_UPPER_CONSTRAINTS constraints in Tempest virtual env."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS export TOX_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS fi",,16,0
openstack%2Fgrenade~stable%2Fvictoria~I66b5d128c3dbe51289410760ea1cbf7f61c55c2f,openstack/grenade,stable/victoria,I66b5d128c3dbe51289410760ea1cbf7f61c55c2f,Configure the Tempest venv upper constraints properly,MERGED,2021-04-05 22:02:13.000000000,2021-04-08 10:09:55.000000000,2021-04-08 10:08:02.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-05 22:02:13.000000000', 'files': ['grenade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/4d787525ae0d48806f27fe0ef3db134c4cf033bf', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\ngrenade run smoke test on old devstack and if old devstack does not\nuse the master constraints for Tempest then we need to take care of\nthe same while running the tests too otherwise, it will end up recreating\nthe Tempest venv and flush the already installed tempest plugins\nand their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nCloses-Bug: 1922597\nChange-Id: I66b5d128c3dbe51289410760ea1cbf7f61c55c2f\n(cherry picked from commit 8f7941259651e59320ffd29563e40c2d71b05a1e)\n(cherry picked from commit 6919902f4cb6c26b48712da80c389041c5af7dd3)\n'}]",0,784857,4d787525ae0d48806f27fe0ef3db134c4cf033bf,10,3,1,8556,,,0,"Configure the Tempest venv upper constraints properly

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

grenade run smoke test on old devstack and if old devstack does not
use the master constraints for Tempest then we need to take care of
the same while running the tests too otherwise, it will end up recreating
the Tempest venv and flush the already installed tempest plugins
and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

Closes-Bug: 1922597
Change-Id: I66b5d128c3dbe51289410760ea1cbf7f61c55c2f
(cherry picked from commit 8f7941259651e59320ffd29563e40c2d71b05a1e)
(cherry picked from commit 6919902f4cb6c26b48712da80c389041c5af7dd3)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/57/784857/1 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,4d787525ae0d48806f27fe0ef3db134c4cf033bf,standardize-tempest-tox-constraints,"source $BASE_DEVSTACK_DIR/stackrc # NOTE(gmann): If gate explicitly set the non master # constraints to use for Tempest venv then use the same # while running the tests too otherwise, it will recreate # the Tempest venv due to constraints mismatch. # recreation of Tempest venv can flush the initially installed # tempest plugins and their deps. if [[ ""$TEMPEST_VENV_UPPER_CONSTRAINTS"" != ""master"" ]]; then echo ""Using $TEMPEST_VENV_UPPER_CONSTRAINTS constraints in Tempest virtual env."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS export TOX_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS fi",,16,0
openstack%2Fgrenade~stable%2Fwallaby~I66b5d128c3dbe51289410760ea1cbf7f61c55c2f,openstack/grenade,stable/wallaby,I66b5d128c3dbe51289410760ea1cbf7f61c55c2f,Configure the Tempest venv upper constraints properly,MERGED,2021-04-05 22:00:14.000000000,2021-04-08 10:09:45.000000000,2021-04-08 10:07:59.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-05 22:00:14.000000000', 'files': ['grenade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/6919902f4cb6c26b48712da80c389041c5af7dd3', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\ngrenade run smoke test on old devstack and if old devstack does not\nuse the master constraints for Tempest then we need to take care of\nthe same while running the tests too otherwise, it will end up recreating\nthe Tempest venv and flush the already installed tempest plugins\nand their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nCloses-Bug: 1922597\nChange-Id: I66b5d128c3dbe51289410760ea1cbf7f61c55c2f\n(cherry picked from commit 8f7941259651e59320ffd29563e40c2d71b05a1e)\n'}]",0,784856,6919902f4cb6c26b48712da80c389041c5af7dd3,8,3,1,8556,,,0,"Configure the Tempest venv upper constraints properly

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

grenade run smoke test on old devstack and if old devstack does not
use the master constraints for Tempest then we need to take care of
the same while running the tests too otherwise, it will end up recreating
the Tempest venv and flush the already installed tempest plugins
and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

Closes-Bug: 1922597
Change-Id: I66b5d128c3dbe51289410760ea1cbf7f61c55c2f
(cherry picked from commit 8f7941259651e59320ffd29563e40c2d71b05a1e)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/56/784856/1 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,6919902f4cb6c26b48712da80c389041c5af7dd3,standardize-tempest-tox-constraints,"source $BASE_DEVSTACK_DIR/stackrc # NOTE(gmann): If gate explicitly set the non master # constraints to use for Tempest venv then use the same # while running the tests too otherwise, it will recreate # the Tempest venv due to constraints mismatch. # recreation of Tempest venv can flush the initially installed # tempest plugins and their deps. if [[ ""$TEMPEST_VENV_UPPER_CONSTRAINTS"" != ""master"" ]]; then echo ""Using $TEMPEST_VENV_UPPER_CONSTRAINTS constraints in Tempest virtual env."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS export TOX_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS fi",,16,0
openstack%2Ftripleo-ci~master~I769a0986c3258372ed8a421d7c2bf02e2bf8073e,openstack/tripleo-ci,master,I769a0986c3258372ed8a421d7c2bf02e2bf8073e,Use dib_dnf_module_streams for enabling modules,MERGED,2021-04-07 03:43:18.000000000,2021-04-08 10:08:25.000000000,2021-04-08 10:08:25.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31075}]","[{'number': 1, 'created': '2021-04-07 03:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7047179b7ee1c9b82147ce3c48300f2019219331', 'message': 'Added missing sudo for enabling modules\n\nhttps://review.opendev.org/c/openstack/tripleo-ci/+/784887\nenables container-tools during image build process but\nit requires sudo which got missed in above patch.\n\nIt fixes the same.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I769a0986c3258372ed8a421d7c2bf02e2bf8073e\n'}, {'number': 2, 'created': '2021-04-07 08:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/83e04fd893d0eeefd45faf6d48462aa50546de72', 'message': 'Use dib_dnf_module_streams for enabling modules\n\nhttps://review.opendev.org/c/openstack/tripleo-ci/+/784887\nenables container-tools during image build process but\nit does not sets the proper modules so removing this\nhack and switching to dib_dnf_module_streams var\nto set it via DIB.\n\nIt also adds the same var for c7 with empty value for\nnot breaking the c7 image build flow.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I769a0986c3258372ed8a421d7c2bf02e2bf8073e\n'}, {'number': 3, 'created': '2021-04-07 08:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/25d0aa85cb231849925ff29eb8d2250027f186e1', 'message': 'Use dib_dnf_module_streams for enabling modules\n\nhttps://review.opendev.org/c/openstack/tripleo-ci/+/784887\nenables container-tools during image build process but\nit does not sets the proper modules so removing this\nhack and switching to dib_dnf_module_streams var\nto set it via DIB.\n\nIt also adds the same var for c7 with empty value for\nnot breaking the c7 image build flow.\n\nIt also adds -e in the build-images.sh.j2 script to catch\nthe errors early.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I769a0986c3258372ed8a421d7c2bf02e2bf8073e\n'}, {'number': 4, 'created': '2021-04-07 10:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/54167b179ed1f55d5c779fb7432c5359aeb0e0ad', 'message': 'Use dib_dnf_module_streams for enabling modules\n\nhttps://review.opendev.org/c/openstack/tripleo-ci/+/784887\nenables container-tools during image build process but\nit does not sets the proper modules so removing this\nhack and switching to dib_dnf_module_streams var\nto set it via DIB.\n\nIt also adds the same var for c7 with empty value for\nnot breaking the c7 image build flow.\n\nIt also adds -e in the build-images.sh.j2 script to catch\nthe errors early.\n\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/785138\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I769a0986c3258372ed8a421d7c2bf02e2bf8073e\n'}, {'number': 5, 'created': '2021-04-07 15:36:35.000000000', 'files': ['roles/oooci-build-images/vars/centos-7.yaml', 'roles/oooci-build-images/templates/build-images.sh.j2', 'roles/oooci-build-images/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4e04f93f72c51b04632ff0cdc06a8639ef4d85f1', 'message': 'Use dib_dnf_module_streams for enabling modules\n\nhttps://review.opendev.org/c/openstack/tripleo-ci/+/784887\nenables container-tools during image build process but\nit does not sets the proper modules so removing this\nhack and switching to dib_dnf_module_streams var\nto set it via DIB.\n\nIt also adds the same var for c7 with empty value for\nnot breaking the c7 image build flow.\n\nIt also adds -e in the build-images.sh.j2 script to catch\nthe errors early.\n\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/785138\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I769a0986c3258372ed8a421d7c2bf02e2bf8073e\n'}]",3,785087,4e04f93f72c51b04632ff0cdc06a8639ef4d85f1,29,9,5,12393,,,0,"Use dib_dnf_module_streams for enabling modules

https://review.opendev.org/c/openstack/tripleo-ci/+/784887
enables container-tools during image build process but
it does not sets the proper modules so removing this
hack and switching to dib_dnf_module_streams var
to set it via DIB.

It also adds the same var for c7 with empty value for
not breaking the c7 image build flow.

It also adds -e in the build-images.sh.j2 script to catch
the errors early.

Depends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/785138

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I769a0986c3258372ed8a421d7c2bf02e2bf8073e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/87/785087/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/templates/build-images.sh.j2'],1,7047179b7ee1c9b82147ce3c48300f2019219331,container-tools-update,sudo dnf module disable container-tools:rhel8 -y; sudo dnf module enable container-tools:3.0 -y; sudo dnf module list --enabled;,dnf module disable container-tools:rhel8 -y; dnf module enable container-tools:3.0 -y; dnf module list --enabled;,3,3
openstack%2Freleases~master~I0650ee199cfbd0139de1c597b45a8784000b9fe6,openstack/releases,master,I0650ee199cfbd0139de1c597b45a8784000b9fe6,Wallaby branch for devstack-plugin-container devstack plugins,MERGED,2021-04-07 14:20:17.000000000,2021-04-08 10:08:19.000000000,2021-04-08 10:08:19.000000000,"[{'_account_id': 308}, {'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-07 14:20:17.000000000', 'files': ['deliverables/wallaby/devstack-plugin-container.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0fef0b695b2576bf70425f681e46d23a8b462859', 'message': 'Wallaby branch for devstack-plugin-container devstack plugins\n\nChange-Id: I0650ee199cfbd0139de1c597b45a8784000b9fe6\n'}]",0,785180,0fef0b695b2576bf70425f681e46d23a8b462859,11,5,1,8556,,,0,"Wallaby branch for devstack-plugin-container devstack plugins

Change-Id: I0650ee199cfbd0139de1c597b45a8784000b9fe6
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/785180/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/devstack-plugin-container.yaml'],1,0fef0b695b2576bf70425f681e46d23a8b462859,qa-wallaby-release,branches: - location: openstack/devstack-plugin-container: d4de1bb9905aebff7e3620d08aa65dc334d435b8 name: stable/wallaby,# Note: deliverable was not released in victoria,4,1
openstack%2Fkolla-ansible~master~I6db37576118cf5cff4ba7a63e179f0ab37467d22,openstack/kolla-ansible,master,I6db37576118cf5cff4ba7a63e179f0ab37467d22,Drop the NTP service precheck,MERGED,2021-04-06 12:24:34.000000000,2021-04-08 09:55:44.000000000,2021-04-08 09:53:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-06 12:24:34.000000000', 'files': ['ansible/roles/prechecks/tasks/timesync_checks.yml', 'releasenotes/notes/bug-1922721-19163cfb491d0035.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/04315751a468d921acf529400f1af528770cd2da', 'message': 'Drop the NTP service precheck\n\nWe can\'t check this with timedatectl as it is not aware\nof any ""non-native"" NTP daemon.\n\nThis could be a warning-level message but we don\'t have\nsuch messages from the prechecks.\n\nCloses-Bug: #1922721\nChange-Id: I6db37576118cf5cff4ba7a63e179f0ab37467d22\n'}]",0,784940,04315751a468d921acf529400f1af528770cd2da,13,5,1,30491,,,0,"Drop the NTP service precheck

We can't check this with timedatectl as it is not aware
of any ""non-native"" NTP daemon.

This could be a warning-level message but we don't have
such messages from the prechecks.

Closes-Bug: #1922721
Change-Id: I6db37576118cf5cff4ba7a63e179f0ab37467d22
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/40/784940/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prechecks/tasks/timesync_checks.yml', 'releasenotes/notes/bug-1922721-19163cfb491d0035.yaml']",2,04315751a468d921acf529400f1af528770cd2da,bug/1922721,"--- fixes: - | Fixes an issue preventing prechecks from succeeding when ""non-native"" NTP daemon was used, such as ``ntpd` as opposed to ``systemd-timesyncd`` on a Debian/Ubuntu system or to ``chronyd`` on a CentOS/RHEL system. `LP#1922721 <https://launchpad.net/bugs/1922721>`__ ",,7,10
openstack%2Fironic~master~Ic14ebc04f01bece1460f6244ec2dd88c8dd00b0e,openstack/ironic,master,Ic14ebc04f01bece1460f6244ec2dd88c8dd00b0e,Fix typo in security docs around is_admin rule,MERGED,2021-03-30 19:57:39.000000000,2021-04-08 09:44:07.000000000,2021-04-08 07:52:16.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-30 19:57:39.000000000', 'files': ['doc/source/admin/security.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7813fe8888ccafe0a29a1247d9d72eb8d0a134b7', 'message': 'Fix typo in security docs around is_admin rule\n\nThe security docs give an example of how to enable admins to show\npasswords via the API, but the policy guidance is wrong. There is no\n""is_admin"" _role_, it is instead a _rule_.\n\nChange-Id: Ic14ebc04f01bece1460f6244ec2dd88c8dd00b0e\n'}]",1,783963,7813fe8888ccafe0a29a1247d9d72eb8d0a134b7,12,3,1,29100,,,0,"Fix typo in security docs around is_admin rule

The security docs give an example of how to enable admins to show
passwords via the API, but the policy guidance is wrong. There is no
""is_admin"" _role_, it is instead a _rule_.

Change-Id: Ic14ebc04f01bece1460f6244ec2dd88c8dd00b0e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/63/783963/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/security.rst'],1,7813fe8888ccafe0a29a1247d9d72eb8d0a134b7,fixup-docs," ""show_password"": ""rule:is_admin"""," ""show_password"": ""role:is_admin""",1,1
openstack%2Fkayobe~master~I98428837153ef604af9a415f7139e07d8548fd46,openstack/kayobe,master,I98428837153ef604af9a415f7139e07d8548fd46,Fix overcloud provision with fast track enabled,MERGED,2021-03-19 13:40:13.000000000,2021-04-08 09:27:44.000000000,2021-04-08 09:26:09.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-03-19 13:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3ec836bcc3ca61cde81b1c4a99feee649adaf71a', 'message': 'Fix overcloud provision with fast track enabled\n\nChange-Id: I98428837153ef604af9a415f7139e07d8548fd46\n'}, {'number': 2, 'created': '2021-03-20 11:48:29.000000000', 'files': ['ansible/overcloud-provision.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/53ec32d121a5248fcda521c7d85130e52487b1d3', 'message': 'Fix overcloud provision with fast track enabled\n\nChange-Id: I98428837153ef604af9a415f7139e07d8548fd46\n'}]",0,781720,53ec32d121a5248fcda521c7d85130e52487b1d3,13,3,2,14826,,,0,"Fix overcloud provision with fast track enabled

Change-Id: I98428837153ef604af9a415f7139e07d8548fd46
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/20/781720/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/overcloud-provision.yml'],1,3ec836bcc3ca61cde81b1c4a99feee649adaf71a,," until: >- provide_result is successful or 'is locked by host' in provide_result.stdout or 'while it is in state ""available""' in provide_result.stdout failed_when: - provide_result is not successful # If fast-track deployment is enabled, it's possible that ironic will # move the node to available, even though the initial state was # manageable. - 'while it is in state ""available""' not in provide_result.stdout", until: provide_result is successful or 'is locked by host' in provide_result.stdout,10,1
openstack%2Fheat~master~I7ea8db23df4c54c354c18b15a9546fa19838b2b7,openstack/heat,master,I7ea8db23df4c54c354c18b15a9546fa19838b2b7,Add heat tutorial,NEW,2017-06-16 12:04:19.000000000,2021-04-08 09:13:28.000000000,,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 10068}, {'_account_id': 12404}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2017-06-16 12:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/08cae65b0c6a77461f4b5d1a32acf0377db9f796', 'message': 'Add tutorial donated by Florin Stingaciu (stingaci)\n\nThis tutorial was added to the documentation from the git repository\nhttps://github.com/heat-extras/heat-tutorial\n\nChange-Id: I7ea8db23df4c54c354c18b15a9546fa19838b2b7\n'}, {'number': 2, 'created': '2017-11-22 15:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6b77da3bd54366c14c4c15ab6fcdc494ebe53627', 'message': 'Add heat tutorial\n\nThis tutorial was added to the documentation from the git repository\nhttps://github.com/heat-extras/heat-tutorial\n\nThis tutorial is donated by Florin Stingaciu (stingaci)\n\nChange-Id: I7ea8db23df4c54c354c18b15a9546fa19838b2b7\n'}, {'number': 3, 'created': '2021-03-11 18:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/60abb2c22c4535896a355508fe7ae3f8145b659f', 'message': 'Add heat tutorial\n\nThis tutorial was added to the documentation from the git repository\nhttps://github.com/heat-extras/heat-tutorial\n\nThis tutorial is donated by Florin Stingaciu (stingaci)\n\nChange-Id: I7ea8db23df4c54c354c18b15a9546fa19838b2b7\n'}, {'number': 4, 'created': '2021-03-11 18:22:40.000000000', 'files': ['doc/source/heat_tutorial/partIII/lib/security_group_icmp.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/start_config_agent.sh', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-cmd/install.d/50-heat-config-hook-docker-cmd', 'doc/source/heat_tutorial/partI/ex1.3.yaml', 'doc/source/heat_tutorial/partV/README.rst', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/20-os-apply-config', 'doc/source/heat_tutorial/partV/lib/boot-config/fedora_yum_env.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-script/install.d/50-heat-config-hook-script', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-cmd/element-deps', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-script/install.d/50-heat-config-hook-script', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-chef/install.d/hook-chef.py', 'doc/source/heat_tutorial/partIV/lib/applications/httpd_wait.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-kubelet/README.rst', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-puppet/element-deps', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/install_python_build_env_apt.sh', 'doc/source/heat_tutorial/partV/lib/boot-config/ubuntu_pip_env.yaml', 'doc/source/heat_tutorial/partVI/lib/openstack/private_net.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/centos7_rdo_env.yaml', 'doc/source/heat_tutorial/partIV/env.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/start_container_agent.sh', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-kubelet/install.d/50-heat-config-kubelet', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-ansible/README.rst', 'doc/source/heat_tutorial/partI/ex1.1.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-cfn-init/install.d/hook-cfn-init.py', 'doc/source/heat_tutorial/partIV/lib/softwareconfigs/scripts/httpd/configure.sh', 'doc/source/heat_tutorial/partIV/ex4.8.yaml', 'doc/source/heat_tutorial/partV/lib/elements/README.rst', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/install_config_agent_centos7_rdo.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-hiera/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config/install.d/heat-config-source-install/50-heat-config-soure', 'doc/source/heat_tutorial/partV/lib/boot-config/test_image_env.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-chef/install.d/50-heat-config-hook-chef', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-cfn-init/element-deps', 'doc/source/heat_tutorial/partV/ex5.3.yaml', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/start_container_agent.sh', 'doc/source/heat_tutorial/partIV/ex4.4.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-salt/README.rst', 'doc/source/heat_tutorial/partIII/lib/cinder_volume.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-ansible/install.d/hook-ansible.py', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-puppet/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-script/element-deps', 'doc/source/heat_tutorial/partI/newton-only/ex1.4.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-apply-config/install.d/hook-apply-config.py', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-salt/element-deps', 'doc/source/heat_tutorial/partI/README.rst', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/install_config_agent_ubuntu_pip.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config/install.d/heat-config-package-install/50-heat-config-package', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config/install.d/heat-config-source-install/50-heat-config-soure', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config/README.rst', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/install_container_agent.yaml', 'doc/source/heat_tutorial/partVI/lib/applications/httpd.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-chef/element-deps', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-hiera/install.d/hook-hiera.py', 'doc/source/heat_tutorial/partIV/ex4.1.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config/element-deps', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/install_config_agent_test_image.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-hiera/install.d/hook-hiera.py', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/get_container_agent_image.frag', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-cfn-init/element-deps', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-apply-config/element-deps', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/install_config_agent_fedora_pip.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-cfn-init/README.rst', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/install_python_build_env_yum.sh', 'doc/source/heat_tutorial/partVI/lib/boot-config/test_image_env.yaml', 'doc/source/heat_tutorial/partIV/ex4.2.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-puppet/install.d/hook-puppet.py', 'doc/source/heat_tutorial/partVI/lib/applications/httpd_fi.yaml', 'doc/source/heat_tutorial/partIII/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-cfn-init/install.d/50-heat-config-hook-cfn-init', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-cmd/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-salt/install.d/hook-salt.py', 'doc/source/heat_tutorial/partVI/lib/openstack/security_group_icmp.yaml', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/install_config_agent_yum.sh', 'doc/source/heat_tutorial/partV/lib/openstack/floating_ip.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/install_config_agent_rdo.sh', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-kubelet/extra-data.d/50-docker-images', 'doc/source/heat_tutorial/partIII/ex3.1.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-compose/os-refresh-config/configure.d/50-heat-config-docker-compose', 'doc/source/heat_tutorial/partV/lib/elements/heat-config/bin/heat-config-rebuild-deployed', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-salt/install.d/hook-salt.py', 'doc/source/heat_tutorial/partV/lib/openstack/security_group.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-puppet/README.rst', 'doc/source/heat_tutorial/partV/lib/applications/httpd.yaml', 'doc/source/heat_tutorial/partIV/lib/softwareconfigs/scripts/httpd/start.sh', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-salt/element-deps', 'doc/source/heat_tutorial/partV/lib/openstack/private_net.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-compose/README.rst', 'doc/source/heat_tutorial/partV/lib/softwareconfigs/scripts/httpd/install.sh', 'doc/source/heat_tutorial/partVI/ex6.1.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-salt/install.d/50-heat-config-hook-salt', 'doc/source/heat_tutorial/partV/lib/elements/heat-config/os-refresh-config/configure.d/55-heat-config', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/os-collect-config.conf', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-kubelet/extra-data.d/50-docker-images', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-compose/install.d/hook-docker-compose.py', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-kubelet/element-deps', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-kubelet/install.d/50-heat-config-kubelet', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-chef/install.d/50-heat-config-hook-chef', 'doc/source/heat_tutorial/partVI/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-chef/README.rst', 'doc/source/heat_tutorial/partVI/lib/softwareconfigs/scripts/httpd/install.sh', 'doc/source/heat_tutorial/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config/os-apply-config/var/run/heat-config/heat-config', 'doc/source/heat_tutorial/partII/ex2.1.yaml', 'doc/source/heat_tutorial/partV/lib/boot-config/container_agent_env.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-hiera/README.rst', 'doc/source/heat_tutorial/partIII/lib/private_net.yaml', 'doc/source/heat_tutorial/partIII/lib/security_group.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/install_config_agent_yum.sh', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-salt/install.d/50-heat-config-hook-salt', 'doc/source/heat_tutorial/partIV/ex4.3.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-chef/element-deps', 'doc/source/heat_tutorial/partVI/setup.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-puppet/install.d/50-heat-config-hook-puppet', 'doc/source/heat_tutorial/partIV/lib/softwareconfigs/httpd.yaml', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/install_config_agent_fedora_yum.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-kubelet/os-refresh-config/configure.d/50-heat-config-kubelet', 'doc/source/heat_tutorial/partVI/lib/openstack/security_group.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-apply-config/README.rst', 'doc/source/heat_tutorial/partV/ex5.1.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-puppet/install.d/hook-puppet.py', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-kubelet/install.d/hook-kubelet.py', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-compose/os-refresh-config/configure.d/50-heat-config-docker-compose', 'doc/source/heat_tutorial/partIII/ex3.2.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-compose/install.d/50-heat-config-hook-docker-compose', 'doc/source/heat_tutorial/partVI/newton-only/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-compose/install.d/50-heat-config-hook-docker-compose', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-ansible/install.d/hook-ansible.py', 'doc/source/heat_tutorial/partV/lib/openstack/cinder_volume.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-chef/install.d/hook-chef.py', 'doc/source/heat_tutorial/partIV/ex4.7.yaml', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/install_config_agent_pip.sh', 'doc/source/heat_tutorial/partV/lib/openstack/security_group_icmp.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config/README.rst', 'doc/source/heat_tutorial/partVI/lib/openstack/floating_ip.yaml', 'doc/source/heat_tutorial/partIV/lib/openstack/security_group.yaml', 'doc/source/heat_tutorial/partV/lib/softwareconfigs/httpd.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-cmd/install.d/50-heat-config-hook-docker-cmd', 'doc/source/heat_tutorial/partII/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-kubelet/README.rst', 'doc/source/heat_tutorial/partIV/lib/openstack/cinder_volume.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-puppet/install.d/50-heat-config-hook-puppet', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config/element-deps', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/install_config_agent_ubuntu_pip.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-ansible/README.rst', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-hiera/install.d/50-heat-config-hook-hiera', 'doc/source/heat_tutorial/partIII/env.yaml', 'doc/source/heat_tutorial/partVI/lib/softwareconfigs/scripts/httpd/start.sh', 'doc/source/heat_tutorial/partIV/ex4.5.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-apply-config/install.d/50-heat-config-apply-config', 'doc/source/heat_tutorial/partVI/lib/boot-config/fedora_yum_env.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-ansible/element-deps', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/install_config_agent_rdo.sh', 'doc/source/heat_tutorial/partVI/lib/applications/httpd_lb.yaml', 'doc/source/heat_tutorial/partVI/lib/softwareconfigs/scripts/httpd/configure.sh', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-ansible/element-deps', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-hiera/element-deps', 'doc/source/heat_tutorial/partIV/lib/softwareconfigs/scripts/httpd/install.sh', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/get_container_agent_image.frag', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-cmd/os-refresh-config/configure.d/50-heat-config-docker-cmd', 'doc/source/heat_tutorial/partII/ex2.2.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-cmd/os-refresh-config/configure.d/50-heat-config-docker-cmd', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/install_config_agent_pip.sh', 'doc/source/heat_tutorial/partV/ex5.2.yaml', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/configure_config_agent.sh', 'doc/source/heat_tutorial/partIII/lib/floating_ip.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/install_config_agent_fedora_yum.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/README.rst', 'doc/source/heat_tutorial/LICENSE.txt', 'doc/source/heat_tutorial/partIV/lib/openstack/floating_ip.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/install_python_build_env_yum.sh', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-cmd/element-deps', 'doc/source/heat_tutorial/partIV/README.rst', 'doc/source/heat_tutorial/partV/setup.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/ubuntu_pip_env.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-script/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-cmd/install.d/hook-docker-cmd.py', 'doc/source/heat_tutorial/partI/setup.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-kubelet/install.d/hook-kubelet.py', 'doc/source/heat_tutorial/partI/ex1.2.yaml', 'doc/source/heat_tutorial/partVI/env.yaml', 'doc/source/heat_tutorial/partV/lib/boot-config/centos7_rdo_env.yaml', 'doc/source/heat_tutorial/partV/lib/softwareconfigs/scripts/httpd/configure.sh', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-cmd/install.d/hook-docker-cmd.py', 'doc/source/heat_tutorial/partIV/lib/applications/httpd_no_wait.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-apply-config/element-deps', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-cfn-init/install.d/50-heat-config-hook-cfn-init', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-compose/install.d/hook-docker-compose.py', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/install_container_agent.yaml', 'doc/source/heat_tutorial/partV/env.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/README.rst', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config/bin/heat-config-notify', 'doc/source/heat_tutorial/partVI/ex6.3.yaml', 'doc/source/heat_tutorial/partIV/setup.yaml', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/install_config_agent_centos7_rdo.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-compose/element-deps', 'doc/source/heat_tutorial/partVI/ex6.2.yaml', 'doc/source/heat_tutorial/partV/lib/boot-config/none_env.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-cmd/README.rst', 'doc/source/heat_tutorial/partIV/lib/openstack/security_group_icmp.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config/install.d/heat-config-package-install/50-heat-config-package', 'doc/source/heat_tutorial/partV/lib/elements/heat-config/bin/heat-config-notify', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/start_config_agent.sh', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config/os-refresh-config/configure.d/55-heat-config', 'doc/source/heat_tutorial/partVI/lib/boot-config/fedora_pip_env.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-hiera/install.d/50-heat-config-hook-hiera', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-kubelet/os-refresh-config/configure.d/50-heat-config-kubelet', 'doc/source/heat_tutorial/partVI/lib/boot-config/none_env.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-script/install.d/hook-script.py', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-kubelet/element-deps', 'doc/source/heat_tutorial/partVI/lib/softwareconfigs/httpd.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-apply-config/install.d/50-heat-config-apply-config', 'doc/source/heat_tutorial/partV/lib/softwareconfigs/scripts/httpd/start.sh', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/install_config_agent_fedora_pip.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-salt/README.rst', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-ansible/install.d/50-heat-config-hook-ansible', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-compose/README.rst', 'doc/source/heat_tutorial/partVI/newton-only/ex6.3.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-ansible/install.d/50-heat-config-hook-ansible', 'doc/source/heat_tutorial/partVI/lib/boot-config/container_agent_env.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/20-os-apply-config', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/install_config_agent_test_image.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-cfn-init/install.d/hook-cfn-init.py', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-cfn-init/README.rst', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/os-collect-config.conf', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config/os-apply-config/var/run/heat-config/heat-config', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-apply-config/install.d/hook-apply-config.py', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-script/element-deps', 'doc/source/heat_tutorial/partV/lib/boot-config/README.rst', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/install_python_build_env_apt.sh', 'doc/source/heat_tutorial/partIV/lib/openstack/private_net.yaml', 'doc/source/heat_tutorial/partVI/lib/openstack/cinder_volume.yaml', 'doc/source/heat_tutorial/partIV/ex4.6.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-script/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-puppet/element-deps', 'doc/source/heat_tutorial/partV/lib/boot-config/fedora_pip_env.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-chef/README.rst', 'doc/source/heat_tutorial/partV/ex5.4.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-compose/element-deps', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config/bin/heat-config-rebuild-deployed', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-apply-config/README.rst', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/configure_config_agent.sh', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-script/install.d/hook-script.py', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-hiera/element-deps'], 'web_link': 'https://opendev.org/openstack/heat/commit/3dbf203c6215616a71c6dbb5bed8109fae98894b', 'message': 'Add heat tutorial\n\nThis tutorial was added to the documentation from the git repository\nhttps://github.com/heat-extras/heat-tutorial\n\nThis tutorial is donated by Florin Stingaciu (stingaci)\n\nChange-Id: I7ea8db23df4c54c354c18b15a9546fa19838b2b7\n'}]",30,474953,3dbf203c6215616a71c6dbb5bed8109fae98894b,16,7,4,25051,,,0,"Add heat tutorial

This tutorial was added to the documentation from the git repository
https://github.com/heat-extras/heat-tutorial

This tutorial is donated by Florin Stingaciu (stingaci)

Change-Id: I7ea8db23df4c54c354c18b15a9546fa19838b2b7
",git fetch https://review.opendev.org/openstack/heat refs/changes/53/474953/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/heat_tutorial/partIII/lib/security_group_icmp.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/start_config_agent.sh', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-cmd/install.d/50-heat-config-hook-docker-cmd', 'doc/source/heat_tutorial/partI/ex1.3.yaml', 'doc/source/heat_tutorial/partV/README.rst', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/20-os-apply-config', 'doc/source/heat_tutorial/partV/lib/boot-config/fedora_yum_env.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-script/install.d/50-heat-config-hook-script', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-cmd/element-deps', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-script/install.d/50-heat-config-hook-script', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-chef/install.d/hook-chef.py', 'doc/source/heat_tutorial/partIV/lib/applications/httpd_wait.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-kubelet/README.rst', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-puppet/element-deps', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/install_python_build_env_apt.sh', 'doc/source/heat_tutorial/partV/lib/boot-config/ubuntu_pip_env.yaml', 'doc/source/heat_tutorial/partVI/lib/openstack/private_net.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/centos7_rdo_env.yaml', 'doc/source/heat_tutorial/partIV/env.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/start_container_agent.sh', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-kubelet/install.d/50-heat-config-kubelet', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-ansible/README.rst', 'doc/source/heat_tutorial/partI/ex1.1.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-cfn-init/install.d/hook-cfn-init.py', 'doc/source/heat_tutorial/partIV/lib/softwareconfigs/scripts/httpd/configure.sh', 'doc/source/heat_tutorial/partIV/ex4.8.yaml', 'doc/source/heat_tutorial/partV/lib/elements/README.rst', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/install_config_agent_centos7_rdo.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-hiera/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config/install.d/heat-config-source-install/50-heat-config-soure', 'doc/source/heat_tutorial/partV/lib/boot-config/test_image_env.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-chef/install.d/50-heat-config-hook-chef', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-cfn-init/element-deps', 'doc/source/heat_tutorial/partV/ex5.3.yaml', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/start_container_agent.sh', 'doc/source/heat_tutorial/partIV/ex4.4.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-salt/README.rst', 'doc/source/heat_tutorial/partIII/lib/cinder_volume.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-ansible/install.d/hook-ansible.py', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-puppet/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-script/element-deps', 'doc/source/heat_tutorial/partI/newton-only/ex1.4.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-apply-config/install.d/hook-apply-config.py', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-salt/element-deps', 'doc/source/heat_tutorial/partI/README.rst', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/install_config_agent_ubuntu_pip.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config/install.d/heat-config-package-install/50-heat-config-package', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config/install.d/heat-config-source-install/50-heat-config-soure', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config/README.rst', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/install_container_agent.yaml', 'doc/source/heat_tutorial/partVI/lib/applications/httpd.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-chef/element-deps', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-hiera/install.d/hook-hiera.py', 'doc/source/heat_tutorial/partIV/ex4.1.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config/element-deps', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/install_config_agent_test_image.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-hiera/install.d/hook-hiera.py', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/get_container_agent_image.frag', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-cfn-init/element-deps', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-apply-config/element-deps', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/install_config_agent_fedora_pip.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-cfn-init/README.rst', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/install_python_build_env_yum.sh', 'doc/source/heat_tutorial/partVI/lib/boot-config/test_image_env.yaml', 'doc/source/heat_tutorial/partIV/ex4.2.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-puppet/install.d/hook-puppet.py', 'doc/source/heat_tutorial/partVI/lib/applications/httpd_fi.yaml', 'doc/source/heat_tutorial/partIII/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-cfn-init/install.d/50-heat-config-hook-cfn-init', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-cmd/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-salt/install.d/hook-salt.py', 'doc/source/heat_tutorial/partVI/lib/openstack/security_group_icmp.yaml', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/install_config_agent_yum.sh', 'doc/source/heat_tutorial/partV/lib/openstack/floating_ip.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/install_config_agent_rdo.sh', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-kubelet/extra-data.d/50-docker-images', 'doc/source/heat_tutorial/partIII/ex3.1.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-compose/os-refresh-config/configure.d/50-heat-config-docker-compose', 'doc/source/heat_tutorial/partV/lib/elements/heat-config/bin/heat-config-rebuild-deployed', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-salt/install.d/hook-salt.py', 'doc/source/heat_tutorial/partV/lib/openstack/security_group.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-puppet/README.rst', 'doc/source/heat_tutorial/partV/lib/applications/httpd.yaml', 'doc/source/heat_tutorial/partIV/lib/softwareconfigs/scripts/httpd/start.sh', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-salt/element-deps', 'doc/source/heat_tutorial/partV/lib/openstack/private_net.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-compose/README.rst', 'doc/source/heat_tutorial/partV/lib/softwareconfigs/scripts/httpd/install.sh', 'doc/source/heat_tutorial/partVI/ex6.1.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-salt/install.d/50-heat-config-hook-salt', 'doc/source/heat_tutorial/partV/lib/elements/heat-config/os-refresh-config/configure.d/55-heat-config', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/os-collect-config.conf', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-kubelet/extra-data.d/50-docker-images', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-compose/install.d/hook-docker-compose.py', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-kubelet/element-deps', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-kubelet/install.d/50-heat-config-kubelet', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-chef/install.d/50-heat-config-hook-chef', 'doc/source/heat_tutorial/partVI/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-chef/README.rst', 'doc/source/heat_tutorial/partVI/lib/softwareconfigs/scripts/httpd/install.sh', 'doc/source/heat_tutorial/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config/os-apply-config/var/run/heat-config/heat-config', 'doc/source/heat_tutorial/partII/ex2.1.yaml', 'doc/source/heat_tutorial/partV/lib/boot-config/container_agent_env.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-hiera/README.rst', 'doc/source/heat_tutorial/partIII/lib/private_net.yaml', 'doc/source/heat_tutorial/partIII/lib/security_group.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/install_config_agent_yum.sh', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-salt/install.d/50-heat-config-hook-salt', 'doc/source/heat_tutorial/partIV/ex4.3.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-chef/element-deps', 'doc/source/heat_tutorial/partVI/setup.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-puppet/install.d/50-heat-config-hook-puppet', 'doc/source/heat_tutorial/partIV/lib/softwareconfigs/httpd.yaml', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/install_config_agent_fedora_yum.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-kubelet/os-refresh-config/configure.d/50-heat-config-kubelet', 'doc/source/heat_tutorial/partVI/lib/openstack/security_group.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-apply-config/README.rst', 'doc/source/heat_tutorial/partV/ex5.1.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-puppet/install.d/hook-puppet.py', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-kubelet/install.d/hook-kubelet.py', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-compose/os-refresh-config/configure.d/50-heat-config-docker-compose', 'doc/source/heat_tutorial/partIII/ex3.2.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-compose/install.d/50-heat-config-hook-docker-compose', 'doc/source/heat_tutorial/partVI/newton-only/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-compose/install.d/50-heat-config-hook-docker-compose', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-ansible/install.d/hook-ansible.py', 'doc/source/heat_tutorial/partV/lib/openstack/cinder_volume.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-chef/install.d/hook-chef.py', 'doc/source/heat_tutorial/partIV/ex4.7.yaml', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/install_config_agent_pip.sh', 'doc/source/heat_tutorial/partV/lib/openstack/security_group_icmp.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config/README.rst', 'doc/source/heat_tutorial/partVI/lib/openstack/floating_ip.yaml', 'doc/source/heat_tutorial/partIV/lib/openstack/security_group.yaml', 'doc/source/heat_tutorial/partV/lib/softwareconfigs/httpd.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-cmd/install.d/50-heat-config-hook-docker-cmd', 'doc/source/heat_tutorial/partII/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-kubelet/README.rst', 'doc/source/heat_tutorial/partIV/lib/openstack/cinder_volume.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-puppet/install.d/50-heat-config-hook-puppet', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config/element-deps', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/install_config_agent_ubuntu_pip.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-ansible/README.rst', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-hiera/install.d/50-heat-config-hook-hiera', 'doc/source/heat_tutorial/partIII/env.yaml', 'doc/source/heat_tutorial/partVI/lib/softwareconfigs/scripts/httpd/start.sh', 'doc/source/heat_tutorial/partIV/ex4.5.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-apply-config/install.d/50-heat-config-apply-config', 'doc/source/heat_tutorial/partVI/lib/boot-config/fedora_yum_env.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-ansible/element-deps', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/install_config_agent_rdo.sh', 'doc/source/heat_tutorial/partVI/lib/applications/httpd_lb.yaml', 'doc/source/heat_tutorial/partVI/lib/softwareconfigs/scripts/httpd/configure.sh', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-ansible/element-deps', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-hiera/element-deps', 'doc/source/heat_tutorial/partIV/lib/softwareconfigs/scripts/httpd/install.sh', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/get_container_agent_image.frag', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-cmd/os-refresh-config/configure.d/50-heat-config-docker-cmd', 'doc/source/heat_tutorial/partII/ex2.2.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-cmd/os-refresh-config/configure.d/50-heat-config-docker-cmd', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/install_config_agent_pip.sh', 'doc/source/heat_tutorial/partV/ex5.2.yaml', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/configure_config_agent.sh', 'doc/source/heat_tutorial/partIII/lib/floating_ip.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/install_config_agent_fedora_yum.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/README.rst', 'doc/source/heat_tutorial/LICENSE.txt', 'doc/source/heat_tutorial/partIV/lib/openstack/floating_ip.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/install_python_build_env_yum.sh', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-cmd/element-deps', 'doc/source/heat_tutorial/partIV/README.rst', 'doc/source/heat_tutorial/partV/setup.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/ubuntu_pip_env.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-script/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-cmd/install.d/hook-docker-cmd.py', 'doc/source/heat_tutorial/partI/setup.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-kubelet/install.d/hook-kubelet.py', 'doc/source/heat_tutorial/partI/ex1.2.yaml', 'doc/source/heat_tutorial/partVI/env.yaml', 'doc/source/heat_tutorial/partV/lib/boot-config/centos7_rdo_env.yaml', 'doc/source/heat_tutorial/partV/lib/softwareconfigs/scripts/httpd/configure.sh', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-cmd/install.d/hook-docker-cmd.py', 'doc/source/heat_tutorial/partIV/lib/applications/httpd_no_wait.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-apply-config/element-deps', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-cfn-init/install.d/50-heat-config-hook-cfn-init', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-compose/install.d/hook-docker-compose.py', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/install_container_agent.yaml', 'doc/source/heat_tutorial/partV/env.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/README.rst', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config/bin/heat-config-notify', 'doc/source/heat_tutorial/partVI/ex6.3.yaml', 'doc/source/heat_tutorial/partIV/setup.yaml', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/install_config_agent_centos7_rdo.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-compose/element-deps', 'doc/source/heat_tutorial/partVI/ex6.2.yaml', 'doc/source/heat_tutorial/partV/lib/boot-config/none_env.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-docker-cmd/README.rst', 'doc/source/heat_tutorial/partIV/lib/openstack/security_group_icmp.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config/install.d/heat-config-package-install/50-heat-config-package', 'doc/source/heat_tutorial/partV/lib/elements/heat-config/bin/heat-config-notify', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/start_config_agent.sh', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config/os-refresh-config/configure.d/55-heat-config', 'doc/source/heat_tutorial/partVI/lib/boot-config/fedora_pip_env.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-hiera/install.d/50-heat-config-hook-hiera', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-kubelet/os-refresh-config/configure.d/50-heat-config-kubelet', 'doc/source/heat_tutorial/partVI/lib/boot-config/none_env.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-script/install.d/hook-script.py', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-kubelet/element-deps', 'doc/source/heat_tutorial/partVI/lib/softwareconfigs/httpd.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-apply-config/install.d/50-heat-config-apply-config', 'doc/source/heat_tutorial/partV/lib/softwareconfigs/scripts/httpd/start.sh', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/install_config_agent_fedora_pip.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-salt/README.rst', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-ansible/install.d/50-heat-config-hook-ansible', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-compose/README.rst', 'doc/source/heat_tutorial/partVI/newton-only/ex6.3.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-ansible/install.d/50-heat-config-hook-ansible', 'doc/source/heat_tutorial/partVI/lib/boot-config/container_agent_env.yaml', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/20-os-apply-config', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/install_config_agent_test_image.yaml', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-cfn-init/install.d/hook-cfn-init.py', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-cfn-init/README.rst', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/os-collect-config.conf', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config/os-apply-config/var/run/heat-config/heat-config', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-apply-config/install.d/hook-apply-config.py', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-script/element-deps', 'doc/source/heat_tutorial/partV/lib/boot-config/README.rst', 'doc/source/heat_tutorial/partV/lib/boot-config/templates/fragments/install_python_build_env_apt.sh', 'doc/source/heat_tutorial/partIV/lib/openstack/private_net.yaml', 'doc/source/heat_tutorial/partVI/lib/openstack/cinder_volume.yaml', 'doc/source/heat_tutorial/partIV/ex4.6.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-script/README.rst', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-puppet/element-deps', 'doc/source/heat_tutorial/partV/lib/boot-config/fedora_pip_env.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-chef/README.rst', 'doc/source/heat_tutorial/partV/ex5.4.yaml', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-docker-compose/element-deps', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config/bin/heat-config-rebuild-deployed', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-apply-config/README.rst', 'doc/source/heat_tutorial/partVI/lib/boot-config/templates/fragments/configure_config_agent.sh', 'doc/source/heat_tutorial/partV/lib/elements/heat-config-script/install.d/hook-script.py', 'doc/source/heat_tutorial/partVI/lib/elements/heat-config-hiera/element-deps']",243,08cae65b0c6a77461f4b5d1a32acf0377db9f796,change-474953-2,heat-config ,,13146,0
openstack%2Ftripleo-ci~master~Ied759d6ee4c752ae69ffbef54a6e92d4970ea033,openstack/tripleo-ci,master,Ied759d6ee4c752ae69ffbef54a6e92d4970ea033,Add ~/overcloud-deploy to collect logs config,MERGED,2021-03-25 01:19:05.000000000,2021-04-08 09:09:45.000000000,2021-04-08 09:09:45.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-25 01:19:05.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e513456c82d1ee521d5d3c1cd8b882493736a7e5', 'message': 'Add ~/overcloud-deploy to collect logs config\n\nWe are moving the consistent working dir to be\n~/overcloud-deploy/<stack> instead of ~/overcloud-deploy-<stack>, so\nthat all deploys will be under a single directory and easier to manage.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nDepends-On: I189bd751066cfaebd951d92d8371250aac5b4e9b\nChange-Id: Ied759d6ee4c752ae69ffbef54a6e92d4970ea033\n'}]",0,782888,e513456c82d1ee521d5d3c1cd8b882493736a7e5,8,4,1,7144,,,0,"Add ~/overcloud-deploy to collect logs config

We are moving the consistent working dir to be
~/overcloud-deploy/<stack> instead of ~/overcloud-deploy-<stack>, so
that all deploys will be under a single directory and easier to manage.

Signed-off-by: James Slagle <jslagle@redhat.com>
Depends-On: I189bd751066cfaebd951d92d8371250aac5b4e9b
Change-Id: Ied759d6ee4c752ae69ffbef54a6e92d4970ea033
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/88/782888/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,e513456c82d1ee521d5d3c1cd8b882493736a7e5,ephemeral-heat, - /home/{{ undercloud_user }}/overcloud-deploy/, - /home/{{ undercloud_user }}/overcloud-deploy-*/,1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I55e6f1fa284ec58d862de2852f7393e5f1d0f873,openstack/tripleo-heat-templates,stable/queens,I55e6f1fa284ec58d862de2852f7393e5f1d0f873,[DNM][Queens] Handle major upgrade of rabbitmq during update.,ABANDONED,2021-04-06 09:45:27.000000000,2021-04-08 09:02:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-06 09:45:27.000000000', 'files': ['docker/services/pacemaker/rabbitmq.yaml', 'puppet/services/rabbitmq.yaml', 'docker/services/containers-common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87492a61b1a3284badf304ec455ae0c643609802', 'message': '[DNM][Queens] Handle major upgrade of rabbitmq during update.\n\nDNM: testing without the ban/unban dance.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nThe algorithm used here is to solve the problem is:\n\n 0. if the current version is 3.6 we are going to upgrade it to 3.7,\n    so save that an upgrade of rabbitmq is coming.\n\n 1. if an upgrade of rabbitmq is coming: if no ban exists then I\'m the\n    first rabbitmq node to be updated to the next major version, ban the\n    others at step 5 of the update of that node.\n\n 2. if bans exists, then I\'m not the first one and then I\'m un-banning\n    myself during the step 5 of the update as well. We ""by-pass"" paunch\n    here. But given the image manipulations done to HA containers during\n    update tasks we don\'t need paunch to pull the new images. Effectively\n    we will start with the new rabbitmq that will happily rejoin the\n    cluster ever-after. No new puppet configuration is necessary for this\n    new rabbitmq version so we can skip it as well.\n\n    Note that we un-ban without checking if a update of rabbitmq is\n    coming. This is to cover the case of a restarted update or an updated\n    used with --limit.\n\nWith this, the first rabbitmq node updated will be the only one\nrunning and will start properly. After, only updated nodes will rejoin\nthe cluster avoiding any error.\n\nThere will be a short cut in the control plane as we need to modify\nthe rabbitmq bundle resource to add the UTF-8 support.\n\nThere will be also a degraded rabbitmq cluster state during which only\none, then two rabbitmq nodes will be available. It depends on many\nthings but we can says that there will be only one rabbitmq node\nduring ~30 minutes and then it will be running with two nodes only\nduring ~30 minutes more.\n\nRabbitmq 2.7 is sensitive to the locale used, so we need to make sure\nthat every puppet call is made in an UTF-8 environment.\n\nWhat we have added here, is a adapted backport of:\n - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649299/\n - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649697/\n\nWith this, the rabbitmq containers and puppet are running in a UTF-8\nenvironment, preventing any puppet error during common deploy step\nphase of the update.\n\nThose reviews need their counterpart in puppet-tripleo so that the\nrabbitmq bundle resource get properly configured to use UTF-8.\n\nWe also need to tweak the puppet module as mnesia won\'t be necessarily\nin a cluster state (as described above) when the rabbitmq bootstrap\nnode is updated.\n\nThe last two points will be handled in two reviews in\npuppet-tripleo. See the ""Depends On"" which is the tip of the changes.\n\nChange-Id: I55e6f1fa284ec58d862de2852f7393e5f1d0f873\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/782831\n'}]",0,784904,87492a61b1a3284badf304ec455ae0c643609802,4,2,1,8297,,,0,"[DNM][Queens] Handle major upgrade of rabbitmq during update.

DNM: testing without the ban/unban dance.

When upgrading rabbitmq to a new major version, the cluster cannot be
reform correctly as the old and the new version cannot talk to each
other.

The algorithm used here is to solve the problem is:

 0. if the current version is 3.6 we are going to upgrade it to 3.7,
    so save that an upgrade of rabbitmq is coming.

 1. if an upgrade of rabbitmq is coming: if no ban exists then I'm the
    first rabbitmq node to be updated to the next major version, ban the
    others at step 5 of the update of that node.

 2. if bans exists, then I'm not the first one and then I'm un-banning
    myself during the step 5 of the update as well. We ""by-pass"" paunch
    here. But given the image manipulations done to HA containers during
    update tasks we don't need paunch to pull the new images. Effectively
    we will start with the new rabbitmq that will happily rejoin the
    cluster ever-after. No new puppet configuration is necessary for this
    new rabbitmq version so we can skip it as well.

    Note that we un-ban without checking if a update of rabbitmq is
    coming. This is to cover the case of a restarted update or an updated
    used with --limit.

With this, the first rabbitmq node updated will be the only one
running and will start properly. After, only updated nodes will rejoin
the cluster avoiding any error.

There will be a short cut in the control plane as we need to modify
the rabbitmq bundle resource to add the UTF-8 support.

There will be also a degraded rabbitmq cluster state during which only
one, then two rabbitmq nodes will be available. It depends on many
things but we can says that there will be only one rabbitmq node
during ~30 minutes and then it will be running with two nodes only
during ~30 minutes more.

Rabbitmq 2.7 is sensitive to the locale used, so we need to make sure
that every puppet call is made in an UTF-8 environment.

What we have added here, is a adapted backport of:
 - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649299/
 - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649697/

With this, the rabbitmq containers and puppet are running in a UTF-8
environment, preventing any puppet error during common deploy step
phase of the update.

Those reviews need their counterpart in puppet-tripleo so that the
rabbitmq bundle resource get properly configured to use UTF-8.

We also need to tweak the puppet module as mnesia won't be necessarily
in a cluster state (as described above) when the rabbitmq bootstrap
node is updated.

The last two points will be handled in two reviews in
puppet-tripleo. See the ""Depends On"" which is the tip of the changes.

Change-Id: I55e6f1fa284ec58d862de2852f7393e5f1d0f873
Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/782831
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/784904/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/pacemaker/rabbitmq.yaml', 'puppet/services/rabbitmq.yaml', 'docker/services/containers-common.yaml']",3,87492a61b1a3284badf304ec455ae0c643609802,change-778748-15, : ${LANG=en_US.UTF-8} export LANG,,6,0
openstack%2Freleases~master~I8dd2b320db73e79aefd3b14d9ce423150bff8ee9,openstack/releases,master,I8dd2b320db73e79aefd3b14d9ce423150bff8ee9,Release ironic 17.0.1 for Wallaby,MERGED,2021-04-08 02:40:48.000000000,2021-04-08 08:58:05.000000000,2021-04-08 08:58:05.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-08 02:40:48.000000000', 'files': ['deliverables/wallaby/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4c567fcef2ad674e26a08fa6da34ada24c574b4b', 'message': 'Release ironic 17.0.1 for Wallaby\n\nRelease includes some minor updates on the stable/wallaby branch\nfor openstack/ironic which have merged since 17.0.0 was released\nand the stable branch was cut.\n\nChange-Id: I8dd2b320db73e79aefd3b14d9ce423150bff8ee9\n'}]",0,785301,4c567fcef2ad674e26a08fa6da34ada24c574b4b,10,3,1,11655,,,0,"Release ironic 17.0.1 for Wallaby

Release includes some minor updates on the stable/wallaby branch
for openstack/ironic which have merged since 17.0.0 was released
and the stable branch was cut.

Change-Id: I8dd2b320db73e79aefd3b14d9ce423150bff8ee9
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/785301/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/ironic.yaml'],1,4c567fcef2ad674e26a08fa6da34ada24c574b4b,, - version: 17.0.1 projects: - repo: openstack/ironic hash: d6bb66dea77781b841974f603bcf2ad1286150b1,,4,0
openstack%2Freleases~master~I40573178cb6bcf275ad72f15d21adf067a880d64,openstack/releases,master,I40573178cb6bcf275ad72f15d21adf067a880d64,Trival change: add cyborg accelerator support link and NVMe SSD,MERGED,2021-04-07 00:54:05.000000000,2021-04-08 08:56:22.000000000,2021-04-08 08:56:22.000000000,"[{'_account_id': 308}, {'_account_id': 13629}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-07 00:54:05.000000000', 'files': ['deliverables/wallaby/cyborg.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/16279657ac09d986b21171923c01ffb966794a6e', 'message': 'Trival change: add cyborg accelerator support link and NVMe SSD\n\nChange-Id: I40573178cb6bcf275ad72f15d21adf067a880d64\n'}]",0,785080,16279657ac09d986b21171923c01ffb966794a6e,10,6,1,31412,,,0,"Trival change: add cyborg accelerator support link and NVMe SSD

Change-Id: I40573178cb6bcf275ad72f15d21adf067a880d64
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/785080/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/cyborg.yaml'],1,16279657ac09d986b21171923c01ffb966794a6e,, See accelerator operation `guide <https://docs.openstack.org/api-guide/compute/accelerator-support.html>`_ to find all supported operations. `Inspur NVMe SSD <https://docs.openstack.org/cyborg/latest/reference/support-matrix.html#id2>`_, See accelerator operation guide to find all supported operations. `Inspur SSD <https://docs.openstack.org/cyborg/latest/reference/support-matrix.html#id2>`_,4,2
openstack%2Freleases~master~I0d1d2a49043408c8256b3078e086af6c08937158,openstack/releases,master,I0d1d2a49043408c8256b3078e086af6c08937158,Re-word Chinese locales changed highlight,MERGED,2021-04-06 11:10:34.000000000,2021-04-08 08:55:28.000000000,2021-04-08 08:55:28.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-06 11:10:34.000000000', 'files': ['deliverables/wallaby/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/34e14876228c95fe6bf48a6e0c72fd3e3de107b4', 'message': 'Re-word Chinese locales changed highlight\n\nChange-Id: I0d1d2a49043408c8256b3078e086af6c08937158\n'}]",0,784920,34e14876228c95fe6bf48a6e0c72fd3e3de107b4,9,4,1,26458,,,0,"Re-word Chinese locales changed highlight

Change-Id: I0d1d2a49043408c8256b3078e086af6c08937158
",git fetch https://review.opendev.org/openstack/releases refs/changes/20/784920/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/horizon.yaml'],1,34e14876228c95fe6bf48a6e0c72fd3e3de107b4,, as they are also used outside of China., as they are also used outside of China/Taiwan.,1,1
openstack%2Freleases~master~I24505300aa97218427a2ab97faf7f0ae7644e522,openstack/releases,master,I24505300aa97218427a2ab97faf7f0ae7644e522,Victoria branch for devstack-plugin-container devstack plugins,MERGED,2021-04-07 14:25:29.000000000,2021-04-08 08:54:42.000000000,2021-04-08 08:54:42.000000000,"[{'_account_id': 308}, {'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-07 14:25:29.000000000', 'files': ['deliverables/victoria/devstack-plugin-container.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ef87533538aaee58768421a737fd873fc3a80d37', 'message': 'Victoria branch for devstack-plugin-container devstack plugins\n\nThis was missed during victoria release, I am using the hash\nof I1a3ac070027805691fc1007458ac02567f847ae9 commit which is\nof the time when victoria devstack branch was cut.\n\nChange-Id: I24505300aa97218427a2ab97faf7f0ae7644e522\n'}]",0,785183,ef87533538aaee58768421a737fd873fc3a80d37,9,5,1,8556,,,0,"Victoria branch for devstack-plugin-container devstack plugins

This was missed during victoria release, I am using the hash
of I1a3ac070027805691fc1007458ac02567f847ae9 commit which is
of the time when victoria devstack branch was cut.

Change-Id: I24505300aa97218427a2ab97faf7f0ae7644e522
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/785183/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/devstack-plugin-container.yaml'],1,ef87533538aaee58768421a737fd873fc3a80d37,qa-victoria-release,branches: - location: openstack/devstack-plugin-container: 74bf39e6a6ba5a83b1f30b7213b0e2d5545cf1c0 name: stable/victoria,,4,0
openstack%2Freleases~master~I44a2d35b4b78fdad68d64e5e4fd56066ea7735e7,openstack/releases,master,I44a2d35b4b78fdad68d64e5e4fd56066ea7735e7,Release devstack-tools 1.1.0,MERGED,2021-04-06 17:59:35.000000000,2021-04-08 08:34:14.000000000,2021-04-08 08:34:14.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-06 17:59:35.000000000', 'files': ['deliverables/_independent/devstack-tools.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/83288738e192ea145249dd6c9b5cb6778938f7fa', 'message': 'Release devstack-tools 1.1.0\n\nChange-Id: I44a2d35b4b78fdad68d64e5e4fd56066ea7735e7\n'}]",0,785022,83288738e192ea145249dd6c9b5cb6778938f7fa,10,4,1,22873,,,0,"Release devstack-tools 1.1.0

Change-Id: I44a2d35b4b78fdad68d64e5e4fd56066ea7735e7
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/785022/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/devstack-tools.yaml'],1,83288738e192ea145249dd6c9b5cb6778938f7fa,qa-wallaby-release, - version: 1.1.0 projects: - repo: openstack/devstack-tools hash: 60fc831b64a5715585216ba173e04f382c9ae6f7,,4,0
openstack%2Freleases~master~Ib596ee164e1234f38090c5fa46042d0ebed0d358,openstack/releases,master,Ib596ee164e1234f38090c5fa46042d0ebed0d358,Release eslint-config-openstack 4.1.0,MERGED,2021-04-06 18:01:49.000000000,2021-04-08 08:34:07.000000000,2021-04-08 08:34:07.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-06 18:01:49.000000000', 'files': ['deliverables/_independent/eslint-config-openstack.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/45ccc19d3cfc0cffe887f018207b18d5fe1d8f62', 'message': 'Release eslint-config-openstack 4.1.0\n\nChange-Id: Ib596ee164e1234f38090c5fa46042d0ebed0d358\n'}]",0,785024,45ccc19d3cfc0cffe887f018207b18d5fe1d8f62,10,4,1,22873,,,0,"Release eslint-config-openstack 4.1.0

Change-Id: Ib596ee164e1234f38090c5fa46042d0ebed0d358
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/785024/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/eslint-config-openstack.yaml'],1,45ccc19d3cfc0cffe887f018207b18d5fe1d8f62,qa-wallaby-release, - version: 4.1.0 projects: - repo: openstack/eslint-config-openstack hash: 3c9bc333ed891e4a4a9549aa5723f4c0f23168b9,,4,0
openstack%2Fpython-magnumclient~master~I90db6d91dd3887fbec629ce5037d6a7e6f7c05e4,openstack/python-magnumclient,master,I90db6d91dd3887fbec629ce5037d6a7e6f7c05e4,Fix master_lb_enabled for cluster creation,MERGED,2021-02-24 01:42:15.000000000,2021-04-08 08:32:58.000000000,2021-04-08 08:30:56.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-02-24 01:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/3490a947be8842eaa010eb88d5c9945de0e9bc2c', 'message': 'Fix master_lb_enabled for cluster creation\n\nThe master_lb_enabled is not really working for disabled case.\nThis patch fix it by introducing the --master-lb-disabled param.\n\nStory: 2008655\nChange-Id: I90db6d91dd3887fbec629ce5037d6a7e6f7c05e4\n'}, {'number': 2, 'created': '2021-02-24 01:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/6eaec1573e5e6ed6991578797fbf0c28f31796b2', 'message': 'Fix master_lb_enabled for cluster creation\n\nThe master_lb_enabled is not really working for disabled case.\nThis patch fix it by introducing the --master-lb-disabled param.\n\nStory: 2008655\nChange-Id: I90db6d91dd3887fbec629ce5037d6a7e6f7c05e4\n'}, {'number': 3, 'created': '2021-04-08 04:34:34.000000000', 'files': ['magnumclient/tests/osc/unit/v1/test_clusters.py', 'magnumclient/osc/v1/clusters.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/282753384de101a15058f96417b4c9efe47f524b', 'message': 'Fix master_lb_enabled for cluster creation\n\nThe master_lb_enabled is not really working for disabled case.\nThis patch fix it by introducing the --master-lb-disabled param.\n\nStory: 2008655\nTask: 41924\nChange-Id: I90db6d91dd3887fbec629ce5037d6a7e6f7c05e4\n'}]",0,777272,282753384de101a15058f96417b4c9efe47f524b,12,3,3,6484,,,0,"Fix master_lb_enabled for cluster creation

The master_lb_enabled is not really working for disabled case.
This patch fix it by introducing the --master-lb-disabled param.

Story: 2008655
Task: 41924
Change-Id: I90db6d91dd3887fbec629ce5037d6a7e6f7c05e4
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/72/777272/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnumclient/tests/osc/unit/v1/test_clusters.py', 'magnumclient/osc/v1/clusters.py']",2,3490a947be8842eaa010eb88d5c9945de0e9bc2c,fix-master-lb-disabled," action='append_const', default=[], const=False, help=_('Enable master LB creation on the new cluster')) parser.add_argument( '--master-lb-disabled', dest='master_lb_enabled', action='append_const', const=False, help=_('Disable master LB creation on the new cluster')) if len(parsed_args.master_lb_enabled) > 1: raise exceptions.InvalidAttribute( '--master-lb-enabled and ' '--master-lb-disabled are ' 'mutually exclusive and ' 'should be specified only once.') elif len(parsed_args.master_lb_enabled) == 1: args['master_lb_enabled'] = parsed_args.master_lb_enabled[0] if (not args['master_lb_enabled'] and parsed_args.master_count > 1): raise exceptions.InvalidAttribute( 'Master node count can only be one if master ' 'loadbalancer is disabled.') "," action='store_true', default=False, help=_('Indicates whether created clusters should have ' 'a loadbalancer for API.'))",43,4
openstack%2Fpython-tripleoclient~master~I4c4de1cf2a97c87da8ee83074a310656031b788c,openstack/python-tripleoclient,master,I4c4de1cf2a97c87da8ee83074a310656031b788c,Set config_download_dir for each stack when exporting Ceph,MERGED,2021-04-07 20:37:13.000000000,2021-04-08 08:28:05.000000000,2021-04-08 08:25:41.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 20:37:13.000000000', 'files': ['tripleoclient/v1/overcloud_export_ceph.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/50afcda1d0180b2848b5a7345ae775eb8cf6fd50', 'message': 'Set config_download_dir for each stack when exporting Ceph\n\nId8f5b00dd24848f73aeb9794000e0d44f0f9cbe8 introduced the\nbug this patch closes because the config_download_dir\npath now contains the stack name. In order to export\ndata from multiple stacks, the config_download_dir path\nneeds to be set per stack. Thus, move the declaration of\nthis variable into the for stack in stacks loop.\n\nCloses-Bug: #1922790\nChange-Id: I4c4de1cf2a97c87da8ee83074a310656031b788c\n'}]",0,785272,50afcda1d0180b2848b5a7345ae775eb8cf6fd50,8,3,1,18002,,,0,"Set config_download_dir for each stack when exporting Ceph

Id8f5b00dd24848f73aeb9794000e0d44f0f9cbe8 introduced the
bug this patch closes because the config_download_dir
path now contains the stack name. In order to export
data from multiple stacks, the config_download_dir path
needs to be set per stack. Thus, move the declaration of
this variable into the for stack in stacks loop.

Closes-Bug: #1922790
Change-Id: I4c4de1cf2a97c87da8ee83074a310656031b788c
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/72/785272/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_export_ceph.py'],1,50afcda1d0180b2848b5a7345ae775eb8cf6fd50,bug/1922790," if not parsed_args.config_download_dir: config_download_dir = os.path.join(os.environ.get('HOME'), ""overcloud-deploy"", stack, 'config-download') else: config_download_dir = parsed_args.config_download_dir"," if not parsed_args.config_download_dir: config_download_dir = os.path.join(os.environ.get('HOME'), ""overcloud-deploy"", parsed_args.stack, 'config-download') else: config_download_dir = parsed_args.config_download_dir ",7,8
openstack%2Fdevstack-plugin-ceph~master~Ieab4e0ee482604802485cdf573c31e3c373a8553,openstack/devstack-plugin-ceph,master,Ieab4e0ee482604802485cdf573c31e3c373a8553,Run all stable branches jobs as gate (not experimental),MERGED,2021-03-30 12:10:16.000000000,2021-04-08 08:26:32.000000000,2021-04-07 16:19:55.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-30 12:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/d75d9bc55aa460c98569206e0e9b753ad1da13fc', 'message': 'Run all stable branches jobs as gate (not experimental)\n\nThe risk of breaking the gates by forgetting to run the jobs\nagainst the old branches is too high\n(it has happened with https://review.opendev.org/778960/ for example)\n\nChange-Id: Ieab4e0ee482604802485cdf573c31e3c373a8553\n'}, {'number': 2, 'created': '2021-04-07 09:35:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/c55c49121acdb38a0d8d4a7ee6a89c9dec37507a', 'message': 'Run all stable branches jobs as gate (not experimental)\n\nThe risk of breaking the gates by forgetting to run the jobs\nagainst the old branches is too high\n(it has happened with https://review.opendev.org/778960/ for example)\n\nRelated-Bug: #1921897\nChange-Id: Ieab4e0ee482604802485cdf573c31e3c373a8553\n'}]",5,783844,c55c49121acdb38a0d8d4a7ee6a89c9dec37507a,19,5,2,10459,,,0,"Run all stable branches jobs as gate (not experimental)

The risk of breaking the gates by forgetting to run the jobs
against the old branches is too high
(it has happened with https://review.opendev.org/778960/ for example)

Related-Bug: #1921897
Change-Id: Ieab4e0ee482604802485cdf573c31e3c373a8553
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/44/783844/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d75d9bc55aa460c98569206e0e9b753ad1da13fc,gate-on-all-branches, - devstack-plugin-ceph-tempest-victoria - devstack-plugin-ceph-tempest-ussuri - devstack-plugin-ceph-tempest-train, - devstack-plugin-ceph-tempest-victoria - devstack-plugin-ceph-tempest-ussuri - devstack-plugin-ceph-tempest-train,3,3
openstack%2Fkolla-ansible~master~I8a90cbac0b9a1eaa5f6c02271515f2357547f908,openstack/kolla-ansible,master,I8a90cbac0b9a1eaa5f6c02271515f2357547f908,Nit fixes for change 776219,MERGED,2021-04-07 16:18:26.000000000,2021-04-08 08:24:25.000000000,2021-04-08 08:07:18.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-07 16:18:26.000000000', 'files': ['releasenotes/notes/support-bypassing-monasca-for-control-plane-logs-651a47edf440808b.yaml', 'doc/source/reference/logging-and-monitoring/monasca-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/19095475ee8f19feaa5e4758622c19cb041009a5', 'message': 'Nit fixes for change 776219\n\nMinor corrections to doc and release note.\n\nChange-Id: I8a90cbac0b9a1eaa5f6c02271515f2357547f908\n'}]",0,785232,19095475ee8f19feaa5e4758622c19cb041009a5,11,4,1,17669,,,0,"Nit fixes for change 776219

Minor corrections to doc and release note.

Change-Id: I8a90cbac0b9a1eaa5f6c02271515f2357547f908
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/785232/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/support-bypassing-monasca-for-control-plane-logs-651a47edf440808b.yaml', 'doc/source/reference/logging-and-monitoring/monasca-guide.rst']",2,19095475ee8f19feaa5e4758622c19cb041009a5,,"existing OpenStack control plane, then you may free up some resources bydefault. If this is undesirable, then you can update the","existing Openstack control plane, then you may free up some resources bydefault. If this is undesirable then you can update the",3,3
openstack%2Freleases~master~Ifbde485152aba6725212423348c6faffdb6502b4,openstack/releases,master,Ifbde485152aba6725212423348c6faffdb6502b4,Final RC patch for aodh,ABANDONED,2021-04-08 08:17:11.000000000,2021-04-08 08:23:10.000000000,,[],"[{'number': 1, 'created': '2021-04-08 08:17:11.000000000', 'files': ['deliverables/wallaby/aodh.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fc628a21b00db42ad75d66ef44ec1a1875f1767d', 'message': 'Final RC patch for aodh\n\nThis creates a new RC before the final release candidate deadline to\nrelease the latest fixes and/or translations.\n\nPlease ack with a +1, or if there is some reason to hold off, leave a -1.\n\n$ git log --oneline --no-merges 12.0.0.0rc1..dcb97668\n7448ac71 Imported Translations from Zanata\n9cf69d72 Cap tenacity < 7.0.0\n6fc880f6 Update master for stable/wallaby\nd587a9e5 Use python 3.8 for tox\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ifbde485152aba6725212423348c6faffdb6502b4\n'}]",0,785339,fc628a21b00db42ad75d66ef44ec1a1875f1767d,2,0,1,28522,,,0,"Final RC patch for aodh

This creates a new RC before the final release candidate deadline to
release the latest fixes and/or translations.

Please ack with a +1, or if there is some reason to hold off, leave a -1.

$ git log --oneline --no-merges 12.0.0.0rc1..dcb97668
7448ac71 Imported Translations from Zanata
9cf69d72 Cap tenacity < 7.0.0
6fc880f6 Update master for stable/wallaby
d587a9e5 Use python 3.8 for tox

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ifbde485152aba6725212423348c6faffdb6502b4
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/785339/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/aodh.yaml'],1,fc628a21b00db42ad75d66ef44ec1a1875f1767d,wallaby-final-rc, - version: 12.0.0.0rc2 projects: - repo: openstack/aodh hash: 1fb8cde66b81c6e138749956824c7676ba6073a7,,4,0
openstack%2Fvalidations-common~master~I6edc5de887643941b0e0c9889aac7bc9b91fdb79,openstack/validations-common,master,I6edc5de887643941b0e0c9889aac7bc9b91fdb79,ValueError was changed to KeyError,ABANDONED,2021-04-07 14:32:37.000000000,2021-04-08 07:49:39.000000000,,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-04-07 14:32:37.000000000', 'files': ['validations_common/validation.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/641a66981d0d2d1879cf9a2041a29a1a335dc044', 'message': ""ValueError was changed to KeyError\n\nValueError couldn't have been raised by the code.\nKeyError is more appropriate in the context.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6edc5de887643941b0e0c9889aac7bc9b91fdb79\n""}]",0,785186,641a66981d0d2d1879cf9a2041a29a1a335dc044,4,5,1,32926,,,0,"ValueError was changed to KeyError

ValueError couldn't have been raised by the code.
KeyError is more appropriate in the context.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I6edc5de887643941b0e0c9889aac7bc9b91fdb79
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/86/785186/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/validation.py'],1,641a66981d0d2d1879cf9a2041a29a1a335dc044,dictvalueerror, except KeyError:, except ValueError:,1,1
openstack%2Fcyborg~stable%2Fvictoria~I94e1554028535a361cb9f9e6e73c15702e459e4f,openstack/cyborg,stable/victoria,I94e1554028535a361cb9f9e6e73c15702e459e4f,improve pep8 check logic,MERGED,2021-04-08 02:23:17.000000000,2021-04-08 07:42:30.000000000,2021-04-08 07:41:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-04-08 02:23:17.000000000', 'files': ['doc/api_samples/accelerator_requests/accelerator_requests-after-update-resp.json', 'doc/api_samples/accelerator_requests/accelerator_requests-before-update-resp.json', 'api-ref/source/v2/arqs.inc', 'tox.ini', 'doc/api_samples/accelerator_requests/accelerator_requests-update-resp.json', 'tools/check-cherry-picks.sh'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/71abe682c5e3441fe85978965f9afab6adfb20cd', 'message': 'improve pep8 check logic\n\nIntroduce the json file check, cherry-pick patches check, and use flake8\nshell instead of flake8 command.\n\nChange-Id: I94e1554028535a361cb9f9e6e73c15702e459e4f\n(cherry picked from commit bb4fd104a3cc21ae93d67f1b64910c77bd79c664)\n'}]",3,785318,71abe682c5e3441fe85978965f9afab6adfb20cd,10,3,1,26458,,,0,"improve pep8 check logic

Introduce the json file check, cherry-pick patches check, and use flake8
shell instead of flake8 command.

Change-Id: I94e1554028535a361cb9f9e6e73c15702e459e4f
(cherry picked from commit bb4fd104a3cc21ae93d67f1b64910c77bd79c664)
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/18/785318/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/api_samples/accelerator_requests/accelerator_requests-after-update-resp.json', 'doc/api_samples/accelerator_requests/accelerator_requests-before-update-resp.json', 'api-ref/source/v2/arqs.inc', 'tox.ini', 'doc/api_samples/accelerator_requests/accelerator_requests-update-resp.json', 'tools/check-cherry-picks.sh']",6,71abe682c5e3441fe85978965f9afab6adfb20cd,,"#!/bin/sh # # A tool to check the cherry-pick hashes from the current git commit message # to verify that they're all on either master or stable/ branches # commit_hash="""" # Check if the patch is a merge patch by counting the number of parents. # If the patch has 2 parents, then the 2nd parent is the patch we want # to validate. parent_number=$(git show --format='%P' --quiet | awk '{print NF}') if [ $parent_number -eq 2 ]; then commit_hash=$(git show --format='%P' --quiet | awk '{print $NF}') fi hashes=$(git show --format='%b' --quiet $commit_hash | sed -nr 's/^.cherry picked from commit (.*).$/\1/p') checked=0 branches+="""" for hash in $hashes; do branch=$(git branch -a --contains ""$hash"" 2>/dev/null| grep -oE '(master|stable/[a-z]+)') if [ $? -ne 0 ]; then echo ""Cherry pick hash $hash not on any master or stable branches"" exit 1 fi branches+="" $branch"" checked=$(($checked + 1)) done if [ $checked -eq 0 ]; then if ! grep -q '^defaultbranch=stable/' .gitreview; then echo ""Checked $checked cherry-pick hashes: OK"" exit 0 else if ! git show --format='%B' --quiet | grep -qi 'stable.*only'; then echo 'Stable branch requires either cherry-pick -x headers or [stable-only] tag!' exit 1 fi fi else echo Checked $checked cherry-pick hashes on branches: $(echo $branches | tr ' ' '\n' | sort | uniq) fi ",,101,55
openstack%2Fvalidations-common~master~Ia6ed1d8fdc98724891480227b6539a8581cf1f5e,openstack/validations-common,master,Ia6ed1d8fdc98724891480227b6539a8581cf1f5e,Tests for validation_ouput callback plugin,ABANDONED,2021-04-07 15:17:55.000000000,2021-04-08 07:26:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-07 15:17:55.000000000', 'files': ['validations_common/tests/callback_plugins/test_validation_output.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/23d0da6ed504f5504a77834e5658384a745827ff', 'message': 'Tests for validation_ouput callback plugin\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ia6ed1d8fdc98724891480227b6539a8581cf1f5e\n'}]",2,785221,23d0da6ed504f5504a77834e5658384a745827ff,3,1,1,32926,,,0,"Tests for validation_ouput callback plugin

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ia6ed1d8fdc98724891480227b6539a8581cf1f5e
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/21/785221/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/tests/callback_plugins/test_validation_output.py'],1,23d0da6ed504f5504a77834e5658384a745827ff,unittests/validation_output,"from ansible.plugins.callback import CallbackBase from validations_common.callback_plugins import validation_output def test_callback_instantiation(self): """""" Verifying that the CallbackModule is instantiated properly. Test checks presence of CallbackBase in the inheritance chain, in order to ensure that folowing tests are performed with the correct assumptions. """""" callback = validation_output.CallbackModule() self.assertEqual(type(callback).__mro__[1], CallbackBase) """""" Every ansible callback needs to define variable with name and version. """""" self.assertIn('CALLBACK_NAME', dir(callback)) self.assertIn('CALLBACK_VERSION', dir(callback)) self.assertEqual(callback.CALLBACK_NAME, 'validation_output') self.assertIsInstance(callback.CALLBACK_VERSION, float)",,24,0
openstack%2Fcyborg~master~I29c134420d341977a68ab11ba7dcb425caea44ff,openstack/cyborg,master,I29c134420d341977a68ab11ba7dcb425caea44ff,Switch using Launchpad instead of Storyboard,MERGED,2021-04-01 08:43:42.000000000,2021-04-08 07:18:21.000000000,2021-04-08 07:11:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-04-01 08:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6b494c006e7c1f746a17e45c3b3c6b8186366861', 'message': 'WIP: Switch using Launchpad instead of Storyboard\n\nIn Xena release, we will using launchpad to trace Cyborg feature and\nbugs, this patch changes the docs and releasenote config to launchpad.\n\nXena-PTG Etherpad: https://etherpad.opendev.org/p/cyborg-xena-ptg\nMail List: xxx\n\nChange-Id: I29c134420d341977a68ab11ba7dcb425caea44ff\n'}, {'number': 2, 'created': '2021-04-08 02:35:16.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'README.rst', 'doc/source/conf.py', 'doc/source/contributor/releasenotes.rst', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d9233bc42903a4ddb38b25409662b28d16f9a90e', 'message': 'Switch using Launchpad instead of Storyboard\n\nIn Xena release, we will using launchpad to trace Cyborg feature and\nbugs, this patch changes the docs and releasenote config to launchpad.\n\nXena-PTG Etherpad: https://etherpad.opendev.org/p/cyborg-xena-ptg\n\nChange-Id: I29c134420d341977a68ab11ba7dcb425caea44ff\n'}]",0,784207,d9233bc42903a4ddb38b25409662b28d16f9a90e,11,4,2,26458,,,0,"Switch using Launchpad instead of Storyboard

In Xena release, we will using launchpad to trace Cyborg feature and
bugs, this patch changes the docs and releasenote config to launchpad.

Xena-PTG Etherpad: https://etherpad.opendev.org/p/cyborg-xena-ptg

Change-Id: I29c134420d341977a68ab11ba7dcb425caea44ff
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/07/784207/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'README.rst', 'doc/source/conf.py', 'doc/source/contributor/releasenotes.rst', 'releasenotes/source/conf.py']",6,6b494c006e7c1f746a17e45c3b3c6b8186366861,using_launchpad,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # Cyborg Release Notes documentation build configuration file, created by # sphinx-quickstart on Thu April 1 16:50:32 2020. # # This file is execfile()d with the current directory set to its # containing dir. # # Note that not all possible configuration values are present in this # autogenerated file. # # All configuration values have a default; values that are commented out # serve to show the default.openstackdocs_bug_project = 'cyborg' openstackdocs_bug_tag = 'doc' openstackdocs_pdf_link = True",# -*- coding: utf-8 -*-openstackdocs_use_storyboard = True,53,21
openstack%2Fneutron~stable%2Fussuri~I240a78879db757592df138a53b2c22d7f5a9ae13,openstack/neutron,stable/ussuri,I240a78879db757592df138a53b2c22d7f5a9ae13,Call install_ingress_direct_goto_flows() when ovs restarts,MERGED,2021-03-31 01:20:01.000000000,2021-04-08 07:17:28.000000000,2021-04-08 07:10:44.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 01:20:01.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/14bb532de7990966b59b785fcfd9a896cb48e26e', 'message': 'Call install_ingress_direct_goto_flows() when ovs restarts\n\nWhen ovs restarts and needs to regenerate flows, some flows will be\nmissing in br-int, as follows:\n * table=60,priority=4,in_port=""int-br-floating"" actions=resubmit(,61)\n * table=60,priority=4,in_port=""patch-tun"" actions=resubmit(,61)\n * table=61,priority=0 actions=resubmit(,62)\nCall install_ingress_direct_goto_flows() again in the\n_handle_ovs_restart() to ensure generate these flows.\n\nChange-Id: I240a78879db757592df138a53b2c22d7f5a9ae13\nCloses-Bug: #1920700\n(cherry picked from commit 2bb52d49bec299f070a513fee6f9f7ae5d53118b)\n'}]",0,783924,14bb532de7990966b59b785fcfd9a896cb48e26e,16,3,1,31769,,,0,"Call install_ingress_direct_goto_flows() when ovs restarts

When ovs restarts and needs to regenerate flows, some flows will be
missing in br-int, as follows:
 * table=60,priority=4,in_port=""int-br-floating"" actions=resubmit(,61)
 * table=60,priority=4,in_port=""patch-tun"" actions=resubmit(,61)
 * table=61,priority=0 actions=resubmit(,62)
Call install_ingress_direct_goto_flows() again in the
_handle_ovs_restart() to ensure generate these flows.

Change-Id: I240a78879db757592df138a53b2c22d7f5a9ae13
Closes-Bug: #1920700
(cherry picked from commit 2bb52d49bec299f070a513fee6f9f7ae5d53118b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/783924/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,14bb532de7990966b59b785fcfd9a896cb48e26e,bug/1920700-stable/ussuri," def test_ovs_restart_for_ingress_direct_goto_flows(self): with mock.patch.object(self.agent, 'check_ovs_status', return_value=constants.OVS_RESTARTED), \ mock.patch.object(self.agent, '_agent_has_updates', side_effect=TypeError('loop exit')), \ mock.patch.object(self.agent, 'setup_integration_br'), \ mock.patch.object(self.agent, 'install_ingress_direct_goto_flows') as \ install_ingress_direct_goto_flows: try: self.agent.rpc_loop(polling_manager=mock.Mock()) except TypeError: pass install_ingress_direct_goto_flows.assert_called_once_with() ",,18,0
openstack%2Fcyborg~master~I33523ddb8aabf45eb11dd9816c52b0ef77d05296,openstack/cyborg,master,I33523ddb8aabf45eb11dd9816c52b0ef77d05296,Using pop method to avoid incompatible data type,MERGED,2021-03-31 07:47:47.000000000,2021-04-08 07:17:07.000000000,2021-04-08 07:11:31.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}, {'_account_id': 33229}]","[{'number': 1, 'created': '2021-03-31 07:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/413e1d4038943994ba78141f06f4afddc602509c', 'message': 'Fix 1 hidden minor issue which introduced during nova-cyborg interaction\n\nDescrption:\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\nTypeError: \'set\' object does not support indexing\n\nSolution:\nbefore index set, use list method to tranfer it.\n\nChange-Id: I33523ddb8aabf45eb11dd9816c52b0ef77d05296\n'}, {'number': 2, 'created': '2021-04-08 02:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f55780a2767d43ccbfe57ef5b7ddc781b26842a3', 'message': 'Fix wrong usage about set which introduced during nova-cyborg interaction\n\nDescrption:\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\nTypeError: \'set\' object does not support indexing\n\nSolution:\nbefore index set, use list method to tranfer it.\n\nChange-Id: I33523ddb8aabf45eb11dd9816c52b0ef77d05296\n'}, {'number': 3, 'created': '2021-04-08 02:52:35.000000000', 'files': ['cyborg/common/nova_client.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/abe9f40fba0e11ee5549489b86fb5c23c83fdea4', 'message': 'Using pop method to avoid incompatible data type\n\nDescrption:\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\nTypeError: \'set\' object does not support indexing\n\nSolution:\nfor set, use pop method instead of index.\n\nChange-Id: I33523ddb8aabf45eb11dd9816c52b0ef77d05296\n'}]",4,784021,abe9f40fba0e11ee5549489b86fb5c23c83fdea4,19,7,3,28748,,,0,"Using pop method to avoid incompatible data type

Descrption:
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
TypeError: 'set' object does not support indexing

Solution:
for set, use pop method instead of index.

Change-Id: I33523ddb8aabf45eb11dd9816c52b0ef77d05296
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/21/784021/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/common/nova_client.py'],1,413e1d4038943994ba78141f06f4afddc602509c,," msg = msg % {'code': list(event_codes)[0],"," msg = msg % {'code': event_codes[0],",1,1
openstack%2Ftempest~master~Ibb69384be54e284d59950371238a64c041348000,openstack/tempest,master,Ibb69384be54e284d59950371238a64c041348000,Add Tempest gate job for stable/wallaby,MERGED,2021-04-06 15:46:07.000000000,2021-04-08 07:16:57.000000000,2021-04-08 07:09:51.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-04-06 15:46:07.000000000', 'files': ['zuul.d/stable-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b2d5b98e3edb2ff1fad4d1e6d405b40d43832db6', 'message': 'Add Tempest gate job for stable/wallaby\n\nNow we have stable/wallaby branch ready for devstack\nand so does for all service projects.\n\nThis commit adds the Tempest testing for stable/wallaby\nby adding new jobs running on stable/wallaby version of\nopenstack.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/784974\nChange-Id: Ibb69384be54e284d59950371238a64c041348000\n'}]",0,785001,b2d5b98e3edb2ff1fad4d1e6d405b40d43832db6,9,2,1,8556,,,0,"Add Tempest gate job for stable/wallaby

Now we have stable/wallaby branch ready for devstack
and so does for all service projects.

This commit adds the Tempest testing for stable/wallaby
by adding new jobs running on stable/wallaby version of
openstack.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/784974
Change-Id: Ibb69384be54e284d59950371238a64c041348000
",git fetch https://review.opendev.org/openstack/tempest refs/changes/01/785001/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/stable-jobs.yaml', 'zuul.d/project.yaml']",2,b2d5b98e3edb2ff1fad4d1e6d405b40d43832db6,qa-wallaby-release, - tempest-full-wallaby-py3: irrelevant-files: *tempest-irrelevant-files - tempest-full-wallaby-py3,,8,0
openstack%2Fpuppet-keystone~master~I212f7dc64cfc300ff4c0c7b65af338630ea0576a,openstack/puppet-keystone,master,I212f7dc64cfc300ff4c0c7b65af338630ea0576a,DNM: Test unit tests,ABANDONED,2021-04-08 06:57:09.000000000,2021-04-08 07:16:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-08 06:57:09.000000000', 'files': ['spec/classes/keystone_policy_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/394657474473d31b4228f96cb698f2a72291c6d9', 'message': 'DNM: Test unit tests\n\nChange-Id: I212f7dc64cfc300ff4c0c7b65af338630ea0576a\n'}]",0,785313,394657474473d31b4228f96cb698f2a72291c6d9,3,1,1,9816,,,0,"DNM: Test unit tests

Change-Id: I212f7dc64cfc300ff4c0c7b65af338630ea0576a
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/13/785313/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/keystone_policy_spec.rb'],1,394657474473d31b4228f96cb698f2a72291c6d9,ut,,,1,0
openstack%2Fdiskimage-builder~master~Id2759be29bfcbf2ecf1ce67e171686924b506b1a,openstack/diskimage-builder,master,Id2759be29bfcbf2ecf1ce67e171686924b506b1a,Fix: IPA image buidling with OpenSuse.,MERGED,2021-03-04 15:12:43.000000000,2021-04-08 07:08:59.000000000,2021-04-08 07:05:22.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 33185}]","[{'number': 1, 'created': '2021-03-04 15:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b927844fdaa03c199bcdaf446b2c37f723825e7b', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 2, 'created': '2021-03-04 15:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c25382fd97659b988ae5df588e8e8c8bbd6b48a3', 'message': 'Fix: IPA image buidling with OpenSuse.\nThis PR is also related to the following PR in Ironic-python-agent-builder:\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 3, 'created': '2021-03-05 07:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/92a258f25ac5601b1c8f71f1020fdd351692138a', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nThis PR  Depends-On the following PR in Ironic-python-agent-builder:\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 4, 'created': '2021-03-05 07:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ce4d43e013430ad9faeb8e1913a2660cd19d0e33', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nThis PR also needs the following PR in Ironic-python-agent-builder to have openSuse build successfull::\n Depends-On: https://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 5, 'created': '2021-03-05 07:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f59f000830e2c28db75e919f3fa99d70a755a920', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nThis PR also needs the following PR in Ironic-python-agent-builder to have openSuse build successfull:\nDepends-On: https://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 6, 'created': '2021-03-05 07:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1bbb971035b1a1854ef12abf1960fcf5e8b86768', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nThis PR also needs the following PR in Ironic-python-agent-builder to have openSuse build successfull:\nDepends-On: https://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\n\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\nDepends-On: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}, {'number': 7, 'created': '2021-03-05 07:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b6cd5b9648dac391eed96c40a3550c1e8a5a4fd6', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nThis PR also needs the following PR in Ironic-python-agent-builder to have openSuse build successfull:\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\n\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\nDepends-On: I0a99d6313a38260973c1f725e2daed8d930da6c1\n'}, {'number': 8, 'created': '2021-03-05 09:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a642808287b8655d5b1d6b845d502a85276776d2', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nThis PR also needs the following PR in Ironic-python-agent-builder to have openSuse build successfull:\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\n\nDepends-On: I0a99d6313a38260973c1f725e2daed8d930da6c1\n\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 9, 'created': '2021-03-10 11:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a673d68cadd7c8564312087b627358eba722ad92', 'message': 'Fix: IPA image buidling with OpenSuse.\n\n\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 10, 'created': '2021-03-15 10:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/145b40492c6dfcb63af04ee5203395c3e1098121', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and here, it was failing during the zypper distro upgrade which is used for openSuse specific upgrade. Also, release check is failing for Opensue because SuSE-release is not valid anymore for openSuse. This PR will solve those issues to build IPA image with OpenSuse base image. There is another PR opened in ironic-python-agent-builder, which adds all the missing packages, setuptools upgrade and svc mapping to do the build successful.\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 11, 'created': '2021-03-15 10:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/89cf3f280b9587f9d28fd2c64aa2c4f15dc91862', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and here, it was failing during the zypper distro upgrade which is used for openSuse specific upgrade. Also, release check is failing for Opensue because SuSE-release is not valid anymore for openSuse. This PR will solve those issues to build IPA image with OpenSuse base image. There is another PR opened in ironic-python-agent-builder, which adds all the missing packages, setuptools upgrade and svc mapping to do the build successful.\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\n\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 12, 'created': '2021-03-15 15:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/189c5ebd1c7f2e920f06d93f66357c2626399e47', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and here, it was failing during the zypper distro upgrade which is used for openSuse specific upgrade. Also, release check is failing for Opensue because SuSE-release is not valid anymore for openSuse. This PR will solve those issues to build IPA image with OpenSuse base image. There is another PR opened in ironic-python-agent-builder, which adds all the missing packages, setuptools upgrade and svc mapping to do the build successful.\nDepends-On: https://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\n\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 13, 'created': '2021-03-15 15:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/58d3798f558d38a2c0864f92d4c8fd51c7317827', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and here, it was failing during the zypper distro upgrade which is used for openSuse specific upgrade. Also, release check is failing for Opensue because SuSE-release is not valid anymore for openSuse. This PR will solve those issues to build IPA image with OpenSuse base image. There is another PR opened in ironic-python-agent-builder, which adds all the missing packages, setuptools upgrade and svc mapping to do the build successful.\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\n\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 14, 'created': '2021-03-26 09:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4e718e6aa17f02d1f52874fcb088c8f7fa7f5a68', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and here, it was failing during the zypper distro upgrade which is used for openSuse specific upgrade. Also, release check is failing for Opensue because SuSE-release is not valid anymore for openSuse. This PR will solve those issues to build IPA image with OpenSuse base image. There is another PR opened in ironic-python-agent-builder, which adds all the missing packages, setuptools upgrade and svc mapping to do the build successful.\nDepends-On: https://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\n\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 15, 'created': '2021-03-26 09:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7b3a0b2050f489b99d37ba18f8e35dabccb07182', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and here, it was failing during the zypper distro upgrade which is used for openSuse specific upgrade. Also, release check is failing for Opensue because SuSE-release is not valid anymore for openSuse. This PR will solve those issues to build IPA image with OpenSuse base image. There is another PR opened in ironic-python-agent-builder, which adds all the missing packages, setuptools upgrade and svc mapping to do the build successful.\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\n\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 16, 'created': '2021-03-26 13:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2024a0a0de9d9b87f9ea9a27b7eb5f5d7c0521c4', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 17, 'created': '2021-03-26 13:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c281501b750c37358c7baa53ae052a315a4261d0', 'message': 'Fix: IPA image buidling with OpenSuse.\nAt this moment the IPA image building with OpenSuse is broken and here, it was failing during the release check for Opensue because etc/SuSE-release is not valid anymore and deprecated for openSuse. Its renamed to /etc/os-release for openSuse rlease 15. This PR will solve the issue to build IPA image with OpenSuse base image. There is another PR opened in ironic-python-agent-builder, which adds all the missing packages, setuptools upgrade and svc mapping to do the build successful.\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\n\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 18, 'created': '2021-03-26 13:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5739d4dbe8d2405290ea185b948f4af18942a065', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and here, it was failing during the release check for Opensue because etc/SuSE-release is not valid anymore and deprecated for openSuse. Its renamed to /etc/os-release for openSuse rlease 15. This PR will solve the issue to build IPA image with OpenSuse base image. There is another PR opened in ironic-python-agent-builder, which adds all the missing packages, setuptools upgrade and svc mapping to do the build successful.\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\n\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 19, 'created': '2021-03-26 14:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/82a8bab7d3b33af6a50301b4c7f1ef36c8ca1d89', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and here, it was failing during the release check for Opensue because etc/SuSE-release is not valid anymore and deprecated for openSuse. Its renamed to /etc/os-release for openSuse rlease 15. This PR will solve the issue to build IPA image with OpenSuse base image. There is another PR opened in ironic-python-agent-builder, which adds all the missing packages, setuptools upgrade and svc mapping to do the build successful.\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\n\nBug-Report: https://bugs.launchpad.net/diskimage-builder/+bug/1921510\n\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 20, 'created': '2021-03-29 07:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5ebfc08e5ad7ed366478f2eff7ece1b96345f42b', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and here, it was failing during the release check for Opensue because etc/SuSE-release is not valid anymore and deprecated for openSuse. Its renamed to /etc/os-release for openSuse rlease 15. This PR will solve the issue to build IPA image with OpenSuse base image. There is another PR opened in ironic-python-agent-builder, which adds all the missing packages, setuptools upgrade and svc mapping to do the build successful.\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\n\nBug-Report: https://bugs.launchpad.net/diskimage-builder/+bug/1921510\n\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 21, 'created': '2021-03-29 07:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4d728430f34640955883e98623eacfed437ea0c5', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and here, it was failing during the release check for Opensue because etc/SuSE-release is not valid anymore and deprecated for openSuse. Added a condition for openSuse distro name. There is another PR opened in ironic-python-agent-builder, which adds all the missing packages, setuptools upgrade and svc mapping to do the build successful.\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\n\nBug-Report: https://bugs.launchpad.net/diskimage-builder/+bug/1921510\n\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 22, 'created': '2021-03-29 10:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9463c819c5f252f81c24b581b072a1ba17f636be', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and here, it was failing during the release check for Opensue because etc/SuSE-release is not valid anymore and deprecated for openSuse. Its renamed to /etc/os-release for openSuse rlease 15. This PR will solve the issue to build IPA image with OpenSuse base image. There is another PR opened in ironic-python-agent-builder, which adds all the missing packages, setuptools upgrade and svc mapping to do the build successful.\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\n\nBug-Report: https://bugs.launchpad.net/diskimage-builder/+bug/1921510\n\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}, {'number': 23, 'created': '2021-03-29 10:46:19.000000000', 'files': ['diskimage_builder/lib/img-functions'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/93d11a7cf8eca9511249698b2298f62d347c2427', 'message': 'Fix: IPA image buidling with OpenSuse.\n\nAt this moment the IPA image building with OpenSuse is broken and here, it was failing during the release check for Opensue because etc/SuSE-release is not valid anymore and deprecated for openSuse. Its renamed to /etc/os-release for openSuse rlease 15. This PR will solve the issue to build IPA image with OpenSuse base image. There is another PR opened in ironic-python-agent-builder, which adds all the missing packages, setuptools upgrade and svc mapping to do the build successful.\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726\n\nBug-Report: https://bugs.launchpad.net/diskimage-builder/+bug/1921510\n\nChange-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a\n'}]",21,778723,93d11a7cf8eca9511249698b2298f62d347c2427,106,8,23,33185,,,0,"Fix: IPA image buidling with OpenSuse.

At this moment the IPA image building with OpenSuse is broken and here, it was failing during the release check for Opensue because etc/SuSE-release is not valid anymore and deprecated for openSuse. Its renamed to /etc/os-release for openSuse rlease 15. This PR will solve the issue to build IPA image with OpenSuse base image. There is another PR opened in ironic-python-agent-builder, which adds all the missing packages, setuptools upgrade and svc mapping to do the build successful.
https://review.opendev.org/c/openstack/ironic-python-agent-builder/+/778726

Bug-Report: https://bugs.launchpad.net/diskimage-builder/+bug/1921510

Change-Id: Id2759be29bfcbf2ecf1ce67e171686924b506b1a
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/23/778723/12 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/zypper/bin/install-packages', 'diskimage_builder/lib/img-functions']",2,b927844fdaa03c199bcdaf446b2c37f723825e7b,, elif [ -f $TARGET_ROOT/etc/os-release ]; then, elif [ -f $TARGET_ROOT/etc/SuSE-release ]; then,2,2
openstack%2Fdiskimage-builder~master~Ie9790da9d1bbea58197b37b15a48e77f8a93c1ac,openstack/diskimage-builder,master,Ie9790da9d1bbea58197b37b15a48e77f8a93c1ac,Properly set grub2 root device when using efi,MERGED,2021-04-07 18:02:26.000000000,2021-04-08 07:07:44.000000000,2021-04-08 07:05:17.000000000,"[{'_account_id': 2}, {'_account_id': 4571}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 18:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c6b625dedff0541d1b4b294a498d7cb8c64f90a3', 'message': ""Properly set grub2 root device when using efi\n\nWe've noticed that centos8 arm64 images have a root devices of\n/dev/mapper/loop7p3 which make sense within a dib image build context\nbut not at boot time. Dib intends to use labels to set the root device\nbut when efi is used we end up running grub2-mkconfig against the efi\ngrub config path before we configure grub to use labels.\n\nFix this by running grub2-mkconfig once after its configuration is set.\nThis should avoid confusion and complicated paths through the scripts\nthat configure this for us.\n\nChange-Id: Ie9790da9d1bbea58197b37b15a48e77f8a93c1ac\n""}, {'number': 2, 'created': '2021-04-07 21:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/61c7c7418853943dc2b901b0c584029d9f315ac4', 'message': ""Properly set grub2 root device when using efi\n\nWe've noticed that centos8 arm64 images have a root devices of\n/dev/mapper/loop7p3 which make sense within a dib image build context\nbut not at boot time. Dib intends to use labels to set the root device\nbut when efi is used we end up running grub2-mkconfig against the efi\ngrub config path before we configure grub to use labels.\n\nFix this by running grub2-mkconfig after its configuration is set.\nThis should avoid confusion and complicated paths through the scripts\nthat configure this for us. Note we run it twice in the efi case to\nproduce images that can boot with bios or uefi.\n\nChange-Id: Ie9790da9d1bbea58197b37b15a48e77f8a93c1ac\n""}, {'number': 3, 'created': '2021-04-07 22:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d980f7b50462644c1fca4fdafdaab74fb2d6327e', 'message': ""Properly set grub2 root device when using efi\n\nWe've noticed that centos8 arm64 images have a root devices of\n/dev/mapper/loop7p3 which make sense within a dib image build context\nbut not at boot time. Dib intends to use labels to set the root device\nbut when efi is used we end up running grub2-mkconfig against the efi\ngrub config path before we configure grub to use labels.\n\nFix this by running grub2-mkconfig after its configuration is set.\nThis should avoid confusion and complicated paths through the scripts\nthat configure this for us. We then copy the resulting config to the efi\nspecific grub.cfg location for platforms that have it.\n\nThere is also a small refactoring that is done to try and make the ~3\nboot variants more clear:\n\n 1) Booting with legacy bios\n 2) Booting with uefi without a signed shim that directly calls grub\n 3) Booting with uefi and a signed shim that calls grub\n\nOptions 1 and 2 share the /boot/grub*/grub.cfg file. Option 3 needs its\ngrub.cfg to live alongside distro specific efi target.\n\nChange-Id: Ie9790da9d1bbea58197b37b15a48e77f8a93c1ac\n""}, {'number': 4, 'created': '2021-04-07 22:46:17.000000000', 'files': ['diskimage_builder/elements/bootloader/finalise.d/50-bootloader'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3294aecca2d03d8070b5650e25664f0ca8c759ef', 'message': ""Properly set grub2 root device when using efi\n\nWe've noticed that centos8 arm64 images have a root devices of\n/dev/mapper/loop7p3 which make sense within a dib image build context\nbut not at boot time. Dib intends to use labels to set the root device\nbut when efi is used we end up running grub2-mkconfig against the efi\ngrub config path before we configure grub to use labels.\n\nFix this by running grub2-mkconfig after its configuration is set.\nThis should avoid confusion and complicated paths through the scripts\nthat configure this for us. We then copy the resulting config to the efi\nspecific grub.cfg location for platforms that have it.\n\nThere is also a small refactoring that is done to try and make the ~3\nboot variants more clear:\n\n 1) Booting with legacy bios\n 2) Booting with uefi without a signed shim that directly calls grub\n 3) Booting with uefi and a signed shim that calls grub\n\nOptions 1 and 2 share the /boot/grub*/grub.cfg file. Option 3 needs its\ngrub.cfg to live alongside distro specific efi target.\n\nChange-Id: Ie9790da9d1bbea58197b37b15a48e77f8a93c1ac\n""}]",4,785247,3294aecca2d03d8070b5650e25664f0ca8c759ef,27,6,4,4146,,,0,"Properly set grub2 root device when using efi

We've noticed that centos8 arm64 images have a root devices of
/dev/mapper/loop7p3 which make sense within a dib image build context
but not at boot time. Dib intends to use labels to set the root device
but when efi is used we end up running grub2-mkconfig against the efi
grub config path before we configure grub to use labels.

Fix this by running grub2-mkconfig after its configuration is set.
This should avoid confusion and complicated paths through the scripts
that configure this for us. We then copy the resulting config to the efi
specific grub.cfg location for platforms that have it.

There is also a small refactoring that is done to try and make the ~3
boot variants more clear:

 1) Booting with legacy bios
 2) Booting with uefi without a signed shim that directly calls grub
 3) Booting with uefi and a signed shim that calls grub

Options 1 and 2 share the /boot/grub*/grub.cfg file. Option 3 needs its
grub.cfg to live alongside distro specific efi target.

Change-Id: Ie9790da9d1bbea58197b37b15a48e77f8a93c1ac
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/47/785247/4 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/bootloader/finalise.d/50-bootloader'],1,c6b625dedff0541d1b4b294a498d7cb8c64f90a3,efi-grub-config," if [ ! -d /boot/efi/$EFI_BOOT_DIR ]; then if [ ${DIB_BLOCK_DEVICE} == ""efi"" ] && [ -d /boot/efi/$EFI_BOOT_DIR ] ; then GRUB_CFG=/boot/efi/$EFI_BOOT_DIR/grub.cfg elif [ -d /boot/grub2 ]; then # All GRUB_MKCONFIG calls need to happen after we configure # /etc/default/grub above. Without this we can set in appropriate # root device labels and then images don't boot.", if [ -d /boot/efi/$EFI_BOOT_DIR ]; then # Make the grub config in the EFI directory for UEFI boot $GRUB_MKCONFIG -o /boot/efi/$EFI_BOOT_DIR/grub.cfg else if [ -d /boot/grub2 ]; then,7,5
openstack%2Fcyborg-tempest-plugin~master~If03832564fd5457797da3f4a5d6b9e2c6361611e,openstack/cyborg-tempest-plugin,master,If03832564fd5457797da3f4a5d6b9e2c6361611e,Add device profiles test case for device_profile APIs,MERGED,2021-04-07 10:50:06.000000000,2021-04-08 07:07:02.000000000,2021-04-08 02:39:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-04-07 10:50:06.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device_profile.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/b19e2cfee1ede54a03c237b53256cee67806b436', 'message': 'Add device profiles test case for device_profile APIs\n\nThis case tests the device profile APIs, such as create/list/show/delete\ndevice profile, this is a good way to verify the changes in device profiles\nAPIs.\n\nChange-Id: If03832564fd5457797da3f4a5d6b9e2c6361611e\n'}]",0,785142,b19e2cfee1ede54a03c237b53256cee67806b436,8,3,1,26458,,,0,"Add device profiles test case for device_profile APIs

This case tests the device profile APIs, such as create/list/show/delete
device profile, this is a good way to verify the changes in device profiles
APIs.

Change-Id: If03832564fd5457797da3f4a5d6b9e2c6361611e
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/42/785142/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/tests/api/test_device_profile.py'],1,b19e2cfee1ede54a03c237b53256cee67806b436,," def test_get_and_delete_device_profile(self): dp = cyborg_data.NORMAL_DEVICE_PROFILE_DATA1 create_resp = self.os_admin.cyborg_client.create_device_profile(dp) device_profile_uuid = create_resp['uuid'] self.assertEqual(dp[0]['name'], create_resp['name']) self.assertEqual(dp[0]['groups'], create_resp['groups']) list_resp = self.os_admin.cyborg_client.list_device_profile() device_profile_list = list_resp['device_profiles'] device_profile_uuid_list = [it['uuid'] for it in device_profile_list] self.assertIn(device_profile_uuid, device_profile_uuid_list) get_resp = self.os_admin.cyborg_client.get_device_profile( device_profile_uuid) self.assertEqual(dp[0]['name'], get_resp['device_profile']['name']) self.assertEqual(device_profile_uuid, get_resp['device_profile']['uuid']) self.os_admin.cyborg_client.delete_device_profile_by_uuid( device_profile_uuid) list_resp = self.os_admin.cyborg_client.list_device_profile() device_profile_list = list_resp['device_profiles'] device_profile_uuid_list = [it['uuid'] for it in device_profile_list] self.assertNotIn(device_profile_uuid, device_profile_uuid_list)"," # TODO(brinzhang): After backport # https://review.opendev.org/c/openstack/cyborg/+/784521, we will modify # this test case. # def test_get_and_delete_device_profile(self): # # Removing the residual resources if it exists in the env # list_resp = self.os_admin.cyborg_client.list_device_profile() # if len(list_resp['device_profiles']) >= 1: # self.os_admin.cyborg_client.delete_device_profile_by_uuid( # list_resp['device_profiles'][0]['uuid']) # dp = cyborg_data.NORMAL_DEVICE_PROFILE_DATA1 # create_resp = self.os_admin.cyborg_client.create_device_profile(dp) # device_profile_uuid = create_resp['uuid'] # self.assertEqual(dp[0]['name'], create_resp['name']) # self.assertEqual(dp[0]['groups'], create_resp['groups']) # list_resp = self.os_admin.cyborg_client.list_device_profile() # device_profile_list = list_resp['device_profiles'] # device_profile_uuid_list = [it['uuid'] for it in device_profile_list] # self.assertIn(device_profile_uuid, device_profile_uuid_list) # get_resp = self.os_admin.cyborg_client.get_device_profile( # device_profile_uuid) # self.assertEqual(dp[0]['name'], get_resp['name']) # self.assertEqual( # device_profile_uuid, # get_resp['uuid']) # self.os_admin.cyborg_client.delete_device_profile_by_uuid( # device_profile_uuid) # list_resp = self.os_admin.cyborg_client.list_device_profile() # device_profile_list = list_resp['device_profiles'] # device_profile_uuid_list = [it['uuid'] for it in device_profile_list] # self.assertNotIn(device_profile_uuid, device_profile_uuid_list)",21,32
openstack%2Fneutron~stable%2Fvictoria~I240a78879db757592df138a53b2c22d7f5a9ae13,openstack/neutron,stable/victoria,I240a78879db757592df138a53b2c22d7f5a9ae13,Call install_ingress_direct_goto_flows() when ovs restarts,MERGED,2021-03-29 07:36:03.000000000,2021-04-08 07:01:55.000000000,2021-04-08 06:56:11.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-29 07:36:03.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e48401378aeab36b93d201c4cad4f279aa7e31b', 'message': 'Call install_ingress_direct_goto_flows() when ovs restarts\n\nWhen ovs restarts and needs to regenerate flows, some flows will be\nmissing in br-int, as follows:\n * table=60,priority=4,in_port=""int-br-floating"" actions=resubmit(,61)\n * table=60,priority=4,in_port=""patch-tun"" actions=resubmit(,61)\n * table=61,priority=0 actions=resubmit(,62)\nCall install_ingress_direct_goto_flows() again in the\n_handle_ovs_restart() to ensure generate these flows.\n\nChange-Id: I240a78879db757592df138a53b2c22d7f5a9ae13\nCloses-Bug: #1920700\n(cherry picked from commit 2bb52d49bec299f070a513fee6f9f7ae5d53118b)\n'}]",0,783545,7e48401378aeab36b93d201c4cad4f279aa7e31b,23,4,1,31769,,,0,"Call install_ingress_direct_goto_flows() when ovs restarts

When ovs restarts and needs to regenerate flows, some flows will be
missing in br-int, as follows:
 * table=60,priority=4,in_port=""int-br-floating"" actions=resubmit(,61)
 * table=60,priority=4,in_port=""patch-tun"" actions=resubmit(,61)
 * table=61,priority=0 actions=resubmit(,62)
Call install_ingress_direct_goto_flows() again in the
_handle_ovs_restart() to ensure generate these flows.

Change-Id: I240a78879db757592df138a53b2c22d7f5a9ae13
Closes-Bug: #1920700
(cherry picked from commit 2bb52d49bec299f070a513fee6f9f7ae5d53118b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/783545/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,7e48401378aeab36b93d201c4cad4f279aa7e31b,bug/1920700-stable/victoria," def test_ovs_restart_for_ingress_direct_goto_flows(self): with mock.patch.object(self.agent, 'check_ovs_status', return_value=constants.OVS_RESTARTED), \ mock.patch.object(self.agent, '_agent_has_updates', side_effect=TypeError('loop exit')), \ mock.patch.object(self.agent, 'setup_integration_br'), \ mock.patch.object(self.agent, 'install_ingress_direct_goto_flows') as \ install_ingress_direct_goto_flows: try: self.agent.rpc_loop(polling_manager=mock.Mock()) except TypeError: pass install_ingress_direct_goto_flows.assert_called_once_with() ",,18,0
openstack%2Fkuryr-kubernetes~master~Iad79a2b766b7c71986a9ea79143384cc029c1f79,openstack/kuryr-kubernetes,master,Iad79a2b766b7c71986a9ea79143384cc029c1f79,Support dual stack service subnets,NEW,2021-03-03 16:17:07.000000000,2021-04-08 06:56:02.000000000,,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-03-03 16:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/80500f26a028d0837a726161d8f984a011818890', 'message': ""Support dual stack service subnets\n\nThis commit implements Services support for K8s clusters running dual\nstack, i.e. having IPv4 and IPv6 services. This means that\n[neutron_defaults]service_subnet option is depreacted in favor of\nservice_subnets and Kuryr will choose the correct one based on the\nService's `.spec.ipFamily`.\n\nChange-Id: Iad79a2b766b7c71986a9ea79143384cc029c1f79\nImplements: blueprint dual-stack\n""}, {'number': 2, 'created': '2021-03-04 17:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7c9f63859bf561edf1e2be73f2fb151393040dfb', 'message': ""Support dual stack service subnets\n\nThis commit implements Services support for K8s clusters running dual\nstack, i.e. having IPv4 and IPv6 services. This means that\n[neutron_defaults]service_subnet option is depreacted in favor of\nservice_subnets and Kuryr will choose the correct one based on the\nService's `.spec.ipFamily`.\n\nChange-Id: Iad79a2b766b7c71986a9ea79143384cc029c1f79\nImplements: blueprint dual-stack\n""}, {'number': 3, 'created': '2021-03-04 17:41:59.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/drivers/test_namespace_subnet.py', 'kuryr_kubernetes/controller/drivers/multi_vif.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'doc/source/installation/services.rst', 'kuryr_kubernetes/controller/drivers/default_subnet.py', 'doc/source/installation/containerized.rst', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/utils.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_default_subnet.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_multi_vif.py', 'kuryr_kubernetes/tests/unit/test_utils.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'tools/generate_k8s_resource_definitions.sh', 'doc/source/installation/manual.rst', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/exceptions.py', 'releasenotes/notes/deprecate-service-subnet-46fbb3a2b61facde.yaml', 'kuryr_kubernetes/config.py', 'kuryr_kubernetes/controller/drivers/namespace_subnet.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_sriov.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2a6fda9cc4f5d0cbe137e597f922faba02696ba7', 'message': ""Support dual stack service subnets\n\nThis commit implements Services support for K8s clusters running dual\nstack, i.e. having IPv4 and IPv6 services. This means that\n[neutron_defaults]service_subnet option is depreacted in favor of\nservice_subnets and Kuryr will choose the correct one based on the\nService's `.spec.ipFamily`.\n\nChange-Id: Iad79a2b766b7c71986a9ea79143384cc029c1f79\nImplements: blueprint dual-stack\n""}]",3,778498,2a6fda9cc4f5d0cbe137e597f922faba02696ba7,15,5,3,11600,,,0,"Support dual stack service subnets

This commit implements Services support for K8s clusters running dual
stack, i.e. having IPv4 and IPv6 services. This means that
[neutron_defaults]service_subnet option is depreacted in favor of
service_subnets and Kuryr will choose the correct one based on the
Service's `.spec.ipFamily`.

Change-Id: Iad79a2b766b7c71986a9ea79143384cc029c1f79
Implements: blueprint dual-stack
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/98/778498/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/drivers/test_namespace_subnet.py', 'kuryr_kubernetes/controller/drivers/multi_vif.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/controller/drivers/default_subnet.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/utils.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_default_subnet.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_multi_vif.py', 'kuryr_kubernetes/tests/unit/test_utils.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/exceptions.py', 'kuryr_kubernetes/config.py', 'kuryr_kubernetes/controller/drivers/namespace_subnet.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_sriov.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py']",16,80500f26a028d0837a726161d8f984a011818890,dual-stack," @mock.patch('kuryr_kubernetes.utils.get_os_vif_network') def test__recover_precreated_ports(self, m_get_network, m_to_osvif): m_get_network.return_value = network m_get_network.assert_called_with(subnet_id) @mock.patch('kuryr_kubernetes.utils.get_os_vif_network') def test__recover_precreated_ports_empty(self, m_get_network, m_to_osvif): m_get_network.assert_not_called() @mock.patch('kuryr_kubernetes.utils.get_os_vif_network') def test__get_trunk_info(self, m_get_network): m_get_network.return_value = subnet"," @mock.patch('kuryr_kubernetes.utils.get_subnet') def test__recover_precreated_ports(self, m_get_subnet, m_to_osvif): m_get_subnet.return_value = network m_get_subnet.assert_called_with(subnet_id) @mock.patch('kuryr_kubernetes.utils.get_subnet') def test__recover_precreated_ports_empty(self, m_get_subnet, m_to_osvif): m_get_subnet.assert_not_called() @mock.patch('kuryr_kubernetes.utils.get_subnet') def test__get_trunk_info(self, m_get_subnet): m_get_subnet.return_value = subnet",126,94
openstack%2Fpuppet-manila~master~Ie2bc81690f16d9e2562b5848a0b1c10f5372accf,openstack/puppet-manila,master,Ie2bc81690f16d9e2562b5848a0b1c10f5372accf,Test unit tests,ABANDONED,2021-04-08 00:52:01.000000000,2021-04-08 06:54:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-08 00:52:01.000000000', 'files': ['spec/defines/manila_backend_lvm_spec.rb', 'manifests/backend/lvm.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/f4959ccae672d8b839facf36c636a7dfa774bb40', 'message': 'Test unit tests\n\nChange-Id: Ie2bc81690f16d9e2562b5848a0b1c10f5372accf\n'}]",0,785298,f4959ccae672d8b839facf36c636a7dfa774bb40,3,1,1,9816,,,0,"Test unit tests

Change-Id: Ie2bc81690f16d9e2562b5848a0b1c10f5372accf
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/98/785298/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/manila_backend_lvm_spec.rb', 'manifests/backend/lvm.pp']",2,f4959ccae672d8b839facf36c636a7dfa774bb40,,define manila::backend::lvm (,define manila::backend::lvm(,5,5
openstack%2Fpuppet-nova~master~Id11d3b9b8ca0f35a79214260a00a3db61eb70f45,openstack/puppet-nova,master,Id11d3b9b8ca0f35a79214260a00a3db61eb70f45,Add missing notification about virtlogd service,ABANDONED,2021-04-08 06:49:58.000000000,2021-04-08 06:53:19.000000000,,[{'_account_id': 9816}],"[{'number': 1, 'created': '2021-04-08 06:49:58.000000000', 'files': ['manifests/compute/libvirt/virtlogd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5b6706fb81d8e0a31ca0ff40294c82a753d42aeb', 'message': 'Add missing notification about virtlogd service\n\nThe virtlogd serivce should be restarted when virtlogd.conf is changed.\nThis fixes adds the missing notification so that the service is\nproperly restarted.\n\nChange-Id: Id11d3b9b8ca0f35a79214260a00a3db61eb70f45\n'}]",0,785312,5b6706fb81d8e0a31ca0ff40294c82a753d42aeb,3,1,1,9816,,,0,"Add missing notification about virtlogd service

The virtlogd serivce should be restarted when virtlogd.conf is changed.
This fixes adds the missing notification so that the service is
properly restarted.

Change-Id: Id11d3b9b8ca0f35a79214260a00a3db61eb70f45
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/12/785312/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/compute/libvirt/virtlogd.pp'],1,5b6706fb81d8e0a31ca0ff40294c82a753d42aeb,centos-virtlogd, Virtlogd_config<||> ~> Service['virtlogd'],,2,0
openstack%2Fpuppet-tripleo~master~Ia945e35c7d66c4c6877760b1e41ff7b5db5f8692,openstack/puppet-tripleo,master,Ia945e35c7d66c4c6877760b1e41ff7b5db5f8692,WIP Make enable_fencing a proper hiera key to allow for overrides,ABANDONED,2021-03-16 21:44:13.000000000,2021-04-08 06:39:14.000000000,,"[{'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-16 21:44:13.000000000', 'files': ['manifests/profile/base/pacemaker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/be78c426ce47d498208155684b69c06bc764408a', 'message': ""WIP Make enable_fencing a proper hiera key to allow for overrides\n\nThis way we will be able to override the 'enable_fencing' hiera key\nvia the more specific tripleo::profile::base::pacemaker::enable_fencing\nkey.\n\nThis will allow us to disable stonith in certain tasks by setting\nthe tripleo::profile::base::pacemaker::enable_fencing to false and then\njust removing it once the task is complete.\n\nChange-Id: Ia945e35c7d66c4c6877760b1e41ff7b5db5f8692\n""}]",0,780981,be78c426ce47d498208155684b69c06bc764408a,4,3,1,20172,,,0,"WIP Make enable_fencing a proper hiera key to allow for overrides

This way we will be able to override the 'enable_fencing' hiera key
via the more specific tripleo::profile::base::pacemaker::enable_fencing
key.

This will allow us to disable stonith in certain tasks by setting
the tripleo::profile::base::pacemaker::enable_fencing to false and then
just removing it once the task is complete.

Change-Id: Ia945e35c7d66c4c6877760b1e41ff7b5db5f8692
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/81/780981/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker.pp'],1,be78c426ce47d498208155684b69c06bc764408a,stonith-override2,"# # [*enable_fencing*] # (optional) String ('true'/'false' for compatibility) that controls the # enablement of the stonith-enabled cluster property # Defaults to hiera('enable_fencing', 'false') $enable_fencing = hiera('enable_fencing', 'false'), $enable_fencing_real = str2bool($enable_fencing) and $step >= 5 disable => !$enable_fencing_real, if $enable_fencing_real {"," $enable_fencing = str2bool(hiera('enable_fencing', false)) and $step >= 5 disable => !$enable_fencing, if $enable_fencing {",9,3
openstack%2Fneutron~stable%2Ftrain~I12406c1f654ba9ad8eb60ffc965293ecbd5b7be5,openstack/neutron,stable/train,I12406c1f654ba9ad8eb60ffc965293ecbd5b7be5,Make neutron-tempest-dvr-ha-multinode-full to be 2 nodes job,MERGED,2021-03-04 13:48:04.000000000,2021-04-08 06:28:18.000000000,2021-04-08 06:22:59.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 13:48:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d64417174d6a46444363952cc3c5d956fac965d', 'message': 'Make neutron-tempest-dvr-ha-multinode-full to be 2 nodes job\n\nIt was run on 3 nodes but I think there is no real need for that.\nRunning that on 2 nodes should be enough.\n\nConflicts:\n    .zuul.yaml\n    zuul.d/tempest-multinode.yaml\n\nChange-Id: I12406c1f654ba9ad8eb60ffc965293ecbd5b7be5\n(cherry picked from commit 1772e9543ef835eb24c3aacce5600593c6055d73)\n'}]",0,778701,8d64417174d6a46444363952cc3c5d956fac965d,48,3,1,11975,,,0,"Make neutron-tempest-dvr-ha-multinode-full to be 2 nodes job

It was run on 3 nodes but I think there is no real need for that.
Running that on 2 nodes should be enough.

Conflicts:
    .zuul.yaml
    zuul.d/tempest-multinode.yaml

Change-Id: I12406c1f654ba9ad8eb60ffc965293ecbd5b7be5
(cherry picked from commit 1772e9543ef835eb24c3aacce5600593c6055d73)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/778701/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8d64417174d6a46444363952cc3c5d956fac965d,improve-neutron-ci-stable/train, agent_mode: dvr_snat, nodeset: openstack-three-node-bionic agent_mode: dvr,1,2
openstack%2Fkarbor~master~I059a217be9eb14eae70a8c3a63e20607dbbcac0b,openstack/karbor,master,I059a217be9eb14eae70a8c3a63e20607dbbcac0b,[WIP] Test for fullstack job,ABANDONED,2020-09-18 03:21:19.000000000,2021-04-08 06:28:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-18 03:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/ed9fbf33f30bcd38be6f043fcc759828184905e7', 'message': '[WIP] Test for fullstack job\n\nChange-Id: I059a217be9eb14eae70a8c3a63e20607dbbcac0b\n'}, {'number': 2, 'created': '2020-09-18 06:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/e5167eddf2dd0e3e78128a7cbb9bdb4985a59e06', 'message': '[WIP] Test for fullstack job\n\nChange-Id: I059a217be9eb14eae70a8c3a63e20607dbbcac0b\n'}, {'number': 3, 'created': '2020-09-27 08:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/4ea797beff82e41c3328e077e9220682121bd698', 'message': '[WIP] Test for fullstack job\n\nChange-Id: I059a217be9eb14eae70a8c3a63e20607dbbcac0b\n'}, {'number': 4, 'created': '2020-09-30 03:04:26.000000000', 'files': ['karbor/tests/fullstack/utils.py', 'karbor/common/karbor_keystone_plugin.py', 'karbor/cmd/api.py', '.zuul.yaml', 'karbor/cmd/operationengine.py', 'karbor/cmd/protection.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/d52f30b047a5527470bc0c8855bc7b2e6f566a4d', 'message': '[WIP] Test for fullstack job\n\nChange-Id: I059a217be9eb14eae70a8c3a63e20607dbbcac0b\n'}]",7,752608,d52f30b047a5527470bc0c8855bc7b2e6f566a4d,10,1,4,29729,,,0,"[WIP] Test for fullstack job

Change-Id: I059a217be9eb14eae70a8c3a63e20607dbbcac0b
",git fetch https://review.opendev.org/openstack/karbor refs/changes/08/752608/1 && git format-patch -1 --stdout FETCH_HEAD,"['karbor/common/karbor_keystone_plugin.py', 'karbor/tests/fullstack/utils.py']",2,ed9fbf33f30bcd38be6f043fcc759828184905e7,fix_fix_eventlet_timeout," Best practice is to instantiate predicate with functools.partial() :param exception: Exception instance to raise on timeout. If None is passed (default) then WaitTimeout exception is raised. try: with eventlet.Timeout(timeout): while not predicate(): eventlet.sleep(sleep) except eventlet.Timeout: if exception is not None: # pylint: disable=raising-bad-type raise exception raise WaitTimeout(_(""Timed out after %d seconds"") % timeout)"," Best practice is to instantiate predicate with functools.partial() :param exception: Exception class for eventlet.Timeout. (see doc for eventlet.Timeout for more information) with eventlet.timeout.Timeout(timeout, exception): while not predicate(): eventlet.sleep(sleep)",15,7
openstack%2Fkarbor~master~I532407c4c737dacf76a4b0bed347b9185215ff01,openstack/karbor,master,I532407c4c737dacf76a4b0bed347b9185215ff01,Remove the invalid s3 configuration,ABANDONED,2020-09-17 08:03:03.000000000,2021-04-08 06:27:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-17 08:03:03.000000000', 'files': ['karbor/services/protection/clients/s3.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/f8978576a861205967334782bfd87e09d7993421', 'message': 'Remove the invalid s3 configuration\n\ns3 configuration: [s3_retry_attempts, s3__retry_backoff] has never\nbeen used in karbor, and which does not exists in botocore[1].\n\nThis patch will remove the invalid s3 configuration.\n\n[1] https://github.com/boto/botocore/blob/4aff378b0c7d7c948d8186037557c816086d5ed5/botocore/session.py#L714\n\nChange-Id: I532407c4c737dacf76a4b0bed347b9185215ff01\n'}]",0,752386,f8978576a861205967334782bfd87e09d7993421,3,1,1,29729,,,0,"Remove the invalid s3 configuration

s3 configuration: [s3_retry_attempts, s3__retry_backoff] has never
been used in karbor, and which does not exists in botocore[1].

This patch will remove the invalid s3 configuration.

[1] https://github.com/boto/botocore/blob/4aff378b0c7d7c948d8186037557c816086d5ed5/botocore/session.py#L714

Change-Id: I532407c4c737dacf76a4b0bed347b9185215ff01
",git fetch https://review.opendev.org/openstack/karbor refs/changes/86/752386/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/services/protection/clients/s3.py'],1,f8978576a861205967334782bfd87e09d7993421,remove_invalid_s3_config,," cfg.IntOpt(SERVICE + '_retry_attempts', default=3, help='The number of retries to make for ' 'S3 operations'), cfg.IntOpt(SERVICE + '_retry_backoff', default=2, help='The backoff time in seconds ' 'between S3 retries')",0,8
openstack%2Fpython-karborclient~master~If24a45cb95506f088c9a7c7c3c5da84b68a60e95,openstack/python-karborclient,master,If24a45cb95506f088c9a7c7c3c5da84b68a60e95,Remove six.moves.urllib and six.add_metaclass,ABANDONED,2020-08-21 01:56:25.000000000,2021-04-08 06:27:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-21 01:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/3291256060ceabdb405e319c31413350623c44b9', 'message': 'Remove six.moves.urllib and six.add_metaclass\n\nReplace six.moves.urllib and six.add_metaclass with Python 3 style code.\n\nChange-Id: If24a45cb95506f088c9a7c7c3c5da84b68a60e95\nImplements: blueprint six-removal\n'}, {'number': 2, 'created': '2020-08-21 02:27:08.000000000', 'files': ['karborclient/v1/checkpoints.py', 'karborclient/common/apiclient/base.py', 'karborclient/common/base.py', 'karborclient/common/apiclient/auth.py', 'karborclient/common/http.py', 'karborclient/v1/protectables.py', 'karborclient/shell.py', 'karborclient/common/apiclient/fake_client.py'], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/164ed3dd14af250398d59076e53ab018e6482252', 'message': 'Remove six.moves.urllib and six.add_metaclass\n\nReplace six.moves.urllib and six.add_metaclass with Python 3 style code.\n\nChange-Id: If24a45cb95506f088c9a7c7c3c5da84b68a60e95\nImplements: blueprint six-removal\n'}]",1,747322,164ed3dd14af250398d59076e53ab018e6482252,5,1,2,29729,,,0,"Remove six.moves.urllib and six.add_metaclass

Replace six.moves.urllib and six.add_metaclass with Python 3 style code.

Change-Id: If24a45cb95506f088c9a7c7c3c5da84b68a60e95
Implements: blueprint six-removal
",git fetch https://review.opendev.org/openstack/python-karborclient refs/changes/22/747322/1 && git format-patch -1 --stdout FETCH_HEAD,"['karborclient/v1/checkpoints.py', 'karborclient/common/apiclient/base.py', 'karborclient/common/base.py', 'karborclient/common/apiclient/auth.py', 'karborclient/common/http.py', 'karborclient/v1/protectables.py', 'karborclient/shell.py', 'karborclient/common/apiclient/fake_client.py']",8,3291256060ceabdb405e319c31413350623c44b9,bp/six-removal,from urllib import parse ,from six.moves.urllib import parse,11,16
openstack%2Fpython-karborclient~master~I2c9414d1d40d8cc0612b50355a6f10f7dec9135f,openstack/python-karborclient,master,I2c9414d1d40d8cc0612b50355a6f10f7dec9135f,Remove six.iteritems/itervalues/iterkeys,ABANDONED,2020-08-19 09:20:47.000000000,2021-04-08 06:27:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-19 09:20:47.000000000', 'files': ['karborclient/osc/v1/scheduled_operations.py', 'karborclient/common/apiclient/auth.py'], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/60930497bcc043f552ce59529ccd31d596ea8b1f', 'message': 'Remove six.iteritems/itervalues/iterkeys\n\nReplace the following items with Python 3 style code.\n\n- six.iteritems\n- six.itervalues\n- six.iterkeys\n\nSubsequent patches will replace other six usages.\n\nChange-Id: I2c9414d1d40d8cc0612b50355a6f10f7dec9135f\nImplements: blueprint six-removal\n'}]",0,746866,60930497bcc043f552ce59529ccd31d596ea8b1f,3,1,1,29729,,,0,"Remove six.iteritems/itervalues/iterkeys

Replace the following items with Python 3 style code.

- six.iteritems
- six.itervalues
- six.iterkeys

Subsequent patches will replace other six usages.

Change-Id: I2c9414d1d40d8cc0612b50355a6f10f7dec9135f
Implements: blueprint six-removal
",git fetch https://review.opendev.org/openstack/python-karborclient refs/changes/66/746866/1 && git format-patch -1 --stdout FETCH_HEAD,"['karborclient/osc/v1/scheduled_operations.py', 'karborclient/common/apiclient/auth.py']",2,60930497bcc043f552ce59529ccd31d596ea8b1f,bp/six-removal, for plugin_auth_system in sorted(_discovered_plugins.keys()):, for plugin_auth_system in sorted(six.iterkeys(_discovered_plugins)):,3,4
openstack%2Fpython-karborclient~master~I009779c28937de2baf93c5523f9fbf0d70b55041,openstack/python-karborclient,master,I009779c28937de2baf93c5523f9fbf0d70b55041,Add support to show plan by name,ABANDONED,2019-07-05 06:33:33.000000000,2021-04-08 06:26:46.000000000,,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-07-05 06:33:33.000000000', 'files': ['karborclient/v1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-karborclient/commit/3f8c412dde7ad2a48fb307ce99ddd1377f3e3a3a', 'message': 'Add support to show plan by name\n\nChange-Id: I009779c28937de2baf93c5523f9fbf0d70b55041\n'}]",0,669263,3f8c412dde7ad2a48fb307ce99ddd1377f3e3a3a,5,3,1,29729,,,0,"Add support to show plan by name

Change-Id: I009779c28937de2baf93c5523f9fbf0d70b55041
",git fetch https://review.opendev.org/openstack/python-karborclient refs/changes/63/669263/1 && git format-patch -1 --stdout FETCH_HEAD,['karborclient/v1/shell.py'],1,3f8c412dde7ad2a48fb307ce99ddd1377f3e3a3a,plan_show_by_name," help='Name or ID of plan.') def do_plan_show(cs, args): """"""Shows plan details by name or ID."""""" plan = utils.find_resource(cs.plans, args.plan)"," help='ID of plan.') def do_plan_show(cs, args): """"""Shows plan details."""""" plan = cs.plans.get(args.plan)",3,3
openstack%2Fneutron~stable%2Fstein~I240a78879db757592df138a53b2c22d7f5a9ae13,openstack/neutron,stable/stein,I240a78879db757592df138a53b2c22d7f5a9ae13,Call install_ingress_direct_goto_flows() when ovs restarts,MERGED,2021-03-31 01:18:57.000000000,2021-04-08 06:19:59.000000000,2021-04-08 06:17:02.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-31 01:18:57.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b67036b0b258c11e2b28a7a1e283b6ddd4f70641', 'message': 'Call install_ingress_direct_goto_flows() when ovs restarts\n\nWhen ovs restarts and needs to regenerate flows, some flows will be\nmissing in br-int, as follows:\n * table=60,priority=4,in_port=""int-br-floating"" actions=resubmit(,61)\n * table=60,priority=4,in_port=""patch-tun"" actions=resubmit(,61)\n * table=61,priority=0 actions=resubmit(,62)\nCall install_ingress_direct_goto_flows() again in the\n_handle_ovs_restart() to ensure generate these flows.\n\nChange-Id: I240a78879db757592df138a53b2c22d7f5a9ae13\nCloses-Bug: #1920700\n(cherry picked from commit 2bb52d49bec299f070a513fee6f9f7ae5d53118b)\n'}]",0,783922,b67036b0b258c11e2b28a7a1e283b6ddd4f70641,13,3,1,31769,,,0,"Call install_ingress_direct_goto_flows() when ovs restarts

When ovs restarts and needs to regenerate flows, some flows will be
missing in br-int, as follows:
 * table=60,priority=4,in_port=""int-br-floating"" actions=resubmit(,61)
 * table=60,priority=4,in_port=""patch-tun"" actions=resubmit(,61)
 * table=61,priority=0 actions=resubmit(,62)
Call install_ingress_direct_goto_flows() again in the
_handle_ovs_restart() to ensure generate these flows.

Change-Id: I240a78879db757592df138a53b2c22d7f5a9ae13
Closes-Bug: #1920700
(cherry picked from commit 2bb52d49bec299f070a513fee6f9f7ae5d53118b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/783922/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,b67036b0b258c11e2b28a7a1e283b6ddd4f70641,bug/1920700-stable/stein," def test_ovs_restart_for_ingress_direct_goto_flows(self): with mock.patch.object(self.agent, 'check_ovs_status', return_value=constants.OVS_RESTARTED), \ mock.patch.object(self.agent, '_agent_has_updates', side_effect=TypeError('loop exit')), \ mock.patch.object(self.agent, 'setup_integration_br'), \ mock.patch.object(self.agent, 'install_ingress_direct_goto_flows') as \ install_ingress_direct_goto_flows: try: self.agent.rpc_loop(polling_manager=mock.Mock()) except TypeError: pass install_ingress_direct_goto_flows.assert_called_once_with() ",,18,0
openstack%2Fnetworking-ovn~stable%2Ftrain~Idd0ec989b3c1435959776091119dd9a4ccb29e5e,openstack/networking-ovn,stable/train,Idd0ec989b3c1435959776091119dd9a4ccb29e5e,[OVN] Make delete_router_port() less error prone,MERGED,2021-03-26 08:59:06.000000000,2021-04-08 06:08:32.000000000,2021-04-08 06:06:39.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 16347}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 08:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/146e5b37ab5394004f403fe4ae36ae4a9fb9735a', 'message': '[OVN] Make delete_router_port() less error prone\n\nThis commit makes the delete_router_port() method from OVNClient more\nresilient to NotFound errors. Apart from the L3 plugin, this method is\nalso invoked by the maintenance task to fix stale/not-up-to-date objects\nin the OVN database, and since the maintenance task runs every 5 minutes\nonly it could happen that some objects fetched by delete_router_port()\nare gone by the moment that method is invoked.\n\n(Manually cherry picked from Neutron 36b8c684b1c42a0733d0820bcd2e1fe217f23797)\n\nCloses-Bug: #1920968\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Idd0ec989b3c1435959776091119dd9a4ccb29e5e\n'}, {'number': 2, 'created': '2021-03-26 13:56:29.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1715093af46256a333aa2ee04b95340dd91b1384', 'message': '[OVN] Make delete_router_port() less error prone\n\nThis commit makes the delete_router_port() method from OVNClient more\nresilient to NotFound errors. Apart from the L3 plugin, this method is\nalso invoked by the maintenance task to fix stale/not-up-to-date objects\nin the OVN database, and since the maintenance task runs every 5 minutes\nonly it could happen that some objects fetched by delete_router_port()\nare gone by the moment that method is invoked.\n\n(Manually cherry picked from Neutron 36b8c684b1c42a0733d0820bcd2e1fe217f23797)\n\nCloses-Bug: #1920968\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Idd0ec989b3c1435959776091119dd9a4ccb29e5e\n'}]",0,783226,1715093af46256a333aa2ee04b95340dd91b1384,45,7,2,6773,,,0,"[OVN] Make delete_router_port() less error prone

This commit makes the delete_router_port() method from OVNClient more
resilient to NotFound errors. Apart from the L3 plugin, this method is
also invoked by the maintenance task to fix stale/not-up-to-date objects
in the OVN database, and since the maintenance task runs every 5 minutes
only it could happen that some objects fetched by delete_router_port()
are gone by the moment that method is invoked.

(Manually cherry picked from Neutron 36b8c684b1c42a0733d0820bcd2e1fe217f23797)

Closes-Bug: #1920968
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: Idd0ec989b3c1435959776091119dd9a4ccb29e5e
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/26/783226/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py']",2,146e5b37ab5394004f403fe4ae36ae4a9fb9735a,,"from neutron_lib.exceptions import l3 as l3_exc def test_remove_router_interface_router_not_found(self): router_id = 'router-id' interface_info = {'port_id': 'router-port-id'} self.get_port.side_effect = n_exc.PortNotFound( port_id='router-port-id') self.get_router.side_effect = l3_exc.RouterNotFound( router_id='router-id') self.l3_inst.remove_router_interface( self.context, router_id, interface_info) self.get_router.assert_called_once_with(self.context, 'router-id') self.l3_inst._ovn.lrp_del.assert_called_once_with( 'lrp-router-port-id', 'neutron-router-id', if_exists=True) self.del_rev_p.assert_called_once_with( self.context, 'router-port-id', ovn_const.TYPE_ROUTER_PORTS) ",,29,5
openstack%2Fcinder~master~Idf619b4dbb64318f6e2231b13b8bacce3deaa43b,openstack/cinder,master,Idf619b4dbb64318f6e2231b13b8bacce3deaa43b,Fix: show volume by name for non-admins,MERGED,2021-03-03 07:13:26.000000000,2021-04-08 05:40:07.000000000,2021-04-07 00:42:17.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-03-03 07:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/84dd57314cc8fa5c8746f4273e73b3bdff770e83', 'message': ""Fix: show volume by name for non-admins\n\nCurrently we don't pop the all_tenants field for non-admins resulting\nin database not able to process it and no records are displayed.\nCinderclient passes it for most APIs since it doesn't have the context\nand cannot determine if the user is admin or non-admin.\nOn the API side, we need to filter out the all_tenants key for non-admins\nsince it is only valid for admin operations.\nAlso this patch refactors the hard coded filter options for backup and\nsnapshot and uses the resource filters json file instead.\n\nCloses-Bug: #1917574\nChange-Id: Idf619b4dbb64318f6e2231b13b8bacce3deaa43b\n""}, {'number': 2, 'created': '2021-03-05 22:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/449784e86ff0b10335f2b4807c9a09f8a4aa4256', 'message': ""Fix: show volume by name for non-admins\n\nCurrently we don't pop the all_tenants field for non-admins resulting\nin database not able to process it and no records are displayed.\nCinderclient passes it for most APIs since it doesn't have the context\nand cannot determine if the user is admin or non-admin.\nOn the API side, we need to filter out the all_tenants key for non-admins\nsince it is only valid for admin operations.\nThis only happens incase of general filtering API which was introduced\nin microversion 3.31, prior to this all invalid filters were ignored.\nAlso this patch refactors the hard coded filter options for backup and\nsnapshot and uses the resource filters json file instead.\n\nCloses-Bug: #1917574\nChange-Id: Idf619b4dbb64318f6e2231b13b8bacce3deaa43b\n""}, {'number': 3, 'created': '2021-03-29 07:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e389d7c11460408bfde08ab03d27b8d7b94221d', 'message': ""Fix: show volume by name for non-admins\n\nCurrently we don't pop the all_tenants field for non-admins resulting\nin database not able to process it and no records are displayed.\nCinderclient passes it for most APIs since it doesn't have the context\nand cannot determine if the user is admin or non-admin.\nOn the API side, we need to filter out the all_tenants key for non-admins\nsince it is only valid for admin operations.\nThis only happens incase of general filtering API which was introduced\nin microversion 3.31, prior to this all invalid filters were ignored.\nAlso this patch refactors the hard coded filter options for backup and\nsnapshot and uses the resource filters json file instead.\n\nCloses-Bug: #1917574\nChange-Id: Idf619b4dbb64318f6e2231b13b8bacce3deaa43b\n""}, {'number': 4, 'created': '2021-03-29 08:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea44a74adf419fc69807a647f9fea772eb54a84a', 'message': ""Fix: show volume by name for non-admins\n\nCurrently we don't pop the all_tenants field for non-admins resulting\nin database not able to process it and no records are displayed.\nCinderclient passes it for most APIs since it doesn't have the context\nand cannot determine if the user is admin or non-admin.\nOn the API side, we need to filter out the all_tenants key for non-admins\nsince it is only valid for admin operations.\nThis only happens incase of general filtering API which was introduced\nin microversion 3.31, prior to this all invalid filters were ignored.\nAlso this patch refactors the hard coded filter options for backup and\nsnapshot and uses the resource filters json file instead.\n\nCloses-Bug: #1917574\nChange-Id: Idf619b4dbb64318f6e2231b13b8bacce3deaa43b\n""}, {'number': 5, 'created': '2021-03-29 08:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/228e7070638bf45d0e88cf3fab0e80c3a845d515', 'message': ""Fix: show volume by name for non-admins\n\nCurrently we don't pop the all_tenants field for non-admins resulting\nin database not able to process it and no records are displayed.\nCinderclient passes it for most APIs since it doesn't have the context\nand cannot determine if the user is admin or non-admin.\nOn the API side, we need to filter out the all_tenants key for non-admins\nsince it is only valid for admin operations.\nThis only happens incase of general filtering API which was introduced\nin microversion 3.31, prior to this all invalid filters were ignored.\nAlso this patch refactors the hard coded filter options for backup and\nsnapshot and uses the resource filters json file instead.\n\nCloses-Bug: #1917574\nChange-Id: Idf619b4dbb64318f6e2231b13b8bacce3deaa43b\n""}, {'number': 6, 'created': '2021-03-29 18:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/33264dd5cb9e885ab2ca3eefe712c29d86260a24', 'message': ""Fix: show volume by name for non-admins\n\nCurrently we don't pop the all_tenants field for non-admins resulting\nin database not able to process it and no records are displayed.\nCinderclient passes it for most APIs since it doesn't have the context\nand cannot determine if the user is admin or non-admin.\nOn the API side, we need to filter out the all_tenants key for non-admins\nsince it is only valid for admin operations.\nThis only happens incase of general filtering API which was introduced\nin microversion 3.31, prior to this all invalid filters were ignored.\nAlso this patch refactors the hard coded filter options for snapshot and\nuses the resource filters json file instead (if mv>=3.31).\n\nCloses-Bug: #1917574\nChange-Id: Idf619b4dbb64318f6e2231b13b8bacce3deaa43b\n""}, {'number': 7, 'created': '2021-03-30 06:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc41aaadd6aa5f9f9a30c18d4198ec43dbd05b19', 'message': ""Fix: show volume by name for non-admins\n\nCurrently we don't pop the all_tenants field for non-admins resulting\nin database not able to process it and no records are displayed.\nCinderclient passes it for most APIs since it doesn't have the context\nand cannot determine if the user is admin or non-admin.\nOn the API side, we need to filter out the all_tenants key for non-admins\nsince it is only valid for admin operations.\nThis only happens incase of general filtering API which was introduced\nin microversion 3.31, prior to this all invalid filters were removed.\n\nCloses-Bug: #1917574\nChange-Id: Idf619b4dbb64318f6e2231b13b8bacce3deaa43b\n""}, {'number': 8, 'created': '2021-03-30 14:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb2fe73255ad606939809b4a71690a19c331f66b', 'message': ""Fix: show volume by name for non-admins\n\nCurrently we don't pop the all_tenants field for non-admins resulting\nin database not able to process it and no records are displayed.\nCinderclient passes it for most APIs since it doesn't have the context\nand cannot determine if the user is admin or non-admin.\nOn the API side, we need to filter out the all_tenants key for non-admins\nsince it is only valid for admin operations.\nThis only happens incase of general filtering API which was introduced\nin microversion 3.31, prior to this all invalid filters were removed.\n\nCloses-Bug: #1917574\nChange-Id: Idf619b4dbb64318f6e2231b13b8bacce3deaa43b\n""}, {'number': 9, 'created': '2021-03-30 15:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a3feade0e4b6e32712afcd89168dab6f0677ad7d', 'message': ""Fix: show volume by name for non-admins\n\nCurrently we don't pop the all_tenants field for non-admins resulting\nin database not able to process it and no records are displayed.\nCinderclient passes it for most APIs since it doesn't have the context\nand cannot determine if the user is admin or non-admin.\nOn the API side, we need to filter out the all_tenants key for non-admins\nsince it is only valid for admin operations.\nThis only happens incase of general filtering API which was introduced\nin microversion 3.31, prior to this all invalid filters were removed.\n\nCloses-Bug: #1917574\nChange-Id: Idf619b4dbb64318f6e2231b13b8bacce3deaa43b\n""}, {'number': 10, 'created': '2021-03-31 07:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6608bd5b50c74c79eaac0c8a298419b6362633e', 'message': ""Fix: show volume by name for non-admins\n\nCurrently we don't pop the all_tenants field for non-admins resulting\nin database not able to process it and no records are displayed.\nCinderclient passes it for most APIs since it doesn't have the context\nand cannot determine if the user is admin or non-admin.\nOn the API side, we need to filter out the all_tenants key for non-admins\nsince it is only valid for admin operations.\nThis only happens incase of general filtering API which was introduced\nin microversion 3.31, prior to this all invalid filters were removed.\n\nCloses-Bug: #1917574\nChange-Id: Idf619b4dbb64318f6e2231b13b8bacce3deaa43b\n""}, {'number': 11, 'created': '2021-04-06 13:00:44.000000000', 'files': ['cinder/api/common.py', 'releasenotes/notes/fix-show-volume-non-admins-1bc5238398e73981.yaml', 'cinder/tests/unit/api/test_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b675b66d4f798786a30dbec00504fd2080a2e27f', 'message': ""Fix: show volume by name for non-admins\n\nCurrently we don't pop the all_tenants field for non-admins resulting\nin database not able to process it and no records are displayed.\nCinderclient passes it for most APIs since it doesn't have the context\nand cannot determine if the user is admin or non-admin.\nOn the API side, we need to filter out the all_tenants key for non-admins\nsince it is only valid for admin operations.\nThis only happens incase of general filtering API which was introduced\nin microversion 3.31, prior to this all invalid filters were removed.\n\nCloses-Bug: #1917574\nChange-Id: Idf619b4dbb64318f6e2231b13b8bacce3deaa43b\n""}]",9,778373,b675b66d4f798786a30dbec00504fd2080a2e27f,213,6,11,27615,,,0,"Fix: show volume by name for non-admins

Currently we don't pop the all_tenants field for non-admins resulting
in database not able to process it and no records are displayed.
Cinderclient passes it for most APIs since it doesn't have the context
and cannot determine if the user is admin or non-admin.
On the API side, we need to filter out the all_tenants key for non-admins
since it is only valid for admin operations.
This only happens incase of general filtering API which was introduced
in microversion 3.31, prior to this all invalid filters were removed.

Closes-Bug: #1917574
Change-Id: Idf619b4dbb64318f6e2231b13b8bacce3deaa43b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/778373/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/common.py', 'cinder/api/contrib/backups.py', 'cinder/api/v3/snapshots.py']",3,84dd57314cc8fa5c8746f4273e73b3bdff770e83,bug/1917574," allowed_search_options = common.get_enabled_resource_filters( 'snapshot').get('snapshot', [])"," def _get_snapshot_filter_options(self): """"""returns tuple of valid filter options"""""" return 'status', 'volume_id', 'name', 'metadata' allowed_search_options = self._get_snapshot_filter_options()",4,12
openstack%2Fcinder~stable%2Fwallaby~Idf619b4dbb64318f6e2231b13b8bacce3deaa43b,openstack/cinder,stable/wallaby,Idf619b4dbb64318f6e2231b13b8bacce3deaa43b,Fix: show volume by name for non-admins,MERGED,2021-04-07 05:27:12.000000000,2021-04-08 05:39:30.000000000,2021-04-08 03:54:18.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 05:27:12.000000000', 'files': ['cinder/api/common.py', 'releasenotes/notes/fix-show-volume-non-admins-1bc5238398e73981.yaml', 'cinder/tests/unit/api/test_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/36cfe78132a0ffd415a33922b823f5241f2722ee', 'message': ""Fix: show volume by name for non-admins\n\nCurrently we don't pop the all_tenants field for non-admins resulting\nin database not able to process it and no records are displayed.\nCinderclient passes it for most APIs since it doesn't have the context\nand cannot determine if the user is admin or non-admin.\nOn the API side, we need to filter out the all_tenants key for non-admins\nsince it is only valid for admin operations.\nThis only happens incase of general filtering API which was introduced\nin microversion 3.31, prior to this all invalid filters were removed.\n\nCloses-Bug: #1917574\nChange-Id: Idf619b4dbb64318f6e2231b13b8bacce3deaa43b\n(cherry picked from commit b675b66d4f798786a30dbec00504fd2080a2e27f)\n""}]",0,784988,36cfe78132a0ffd415a33922b823f5241f2722ee,35,3,1,27615,,,0,"Fix: show volume by name for non-admins

Currently we don't pop the all_tenants field for non-admins resulting
in database not able to process it and no records are displayed.
Cinderclient passes it for most APIs since it doesn't have the context
and cannot determine if the user is admin or non-admin.
On the API side, we need to filter out the all_tenants key for non-admins
since it is only valid for admin operations.
This only happens incase of general filtering API which was introduced
in microversion 3.31, prior to this all invalid filters were removed.

Closes-Bug: #1917574
Change-Id: Idf619b4dbb64318f6e2231b13b8bacce3deaa43b
(cherry picked from commit b675b66d4f798786a30dbec00504fd2080a2e27f)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/784988/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/common.py', 'releasenotes/notes/fix-show-volume-non-admins-1bc5238398e73981.yaml', 'cinder/tests/unit/api/test_common.py']",3,36cfe78132a0ffd415a33922b823f5241f2722ee,bug/1917574-stable/wallaby," 'resource': 'volume_type'}, {'filters': {'key1': 'value1', 'all_tenants': 'value2', 'key3': 'value3'}, 'is_admin': False, 'result': {'fake_resource': ['key1', 'key3']}, 'expected': {'key1': 'value1', 'key3': 'value3'}, 'resource': 'fake_resource'})", 'resource': 'volume_type'}),20,1
openstack%2Fmagnum~stable%2Fvictoria~I22b698cd925dcf4f10805ae9493b77ddc9709f3f,openstack/magnum,stable/victoria,I22b698cd925dcf4f10805ae9493b77ddc9709f3f,Download correct cri-containerd-cni tarball,MERGED,2021-04-01 12:11:28.000000000,2021-04-08 05:33:24.000000000,2021-04-08 05:32:07.000000000,"[{'_account_id': 6484}, {'_account_id': 16137}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 12:11:28.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/common/templates/kubernetes/fragments/install-cri.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/0047a6473f5dda6fa8bd56e0de04a108b16f133c', 'message': 'Download correct cri-containerd-cni tarball\n\nIn I05cbd1ec62e9a68c68a1666ff62f20138bf8c731, fedora_coreos_v1 driver was\nmissed in version bump. This PS bumps it to 1.4.4 for both fedora_coreos_v1 and\nfedora_atomic_v1 drivers.\n\nStory: 2008451\nTask: 42098\n\nChange-Id: I22b698cd925dcf4f10805ae9493b77ddc9709f3f\n(cherry picked from commit 1de9b140f499ebed03c6079642dbc3b3521e1b7f)\n'}]",0,784397,0047a6473f5dda6fa8bd56e0de04a108b16f133c,13,4,1,28022,,,0,"Download correct cri-containerd-cni tarball

In I05cbd1ec62e9a68c68a1666ff62f20138bf8c731, fedora_coreos_v1 driver was
missed in version bump. This PS bumps it to 1.4.4 for both fedora_coreos_v1 and
fedora_atomic_v1 drivers.

Story: 2008451
Task: 42098

Change-Id: I22b698cd925dcf4f10805ae9493b77ddc9709f3f
(cherry picked from commit 1de9b140f499ebed03c6079642dbc3b3521e1b7f)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/97/784397/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/common/templates/kubernetes/fragments/install-cri.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml']",4,0047a6473f5dda6fa8bd56e0de04a108b16f133c,containerd-stable/victoria, description: The containerd version to download from https://github.com/containerd/containerd/releases default: '1.4.4' default: '96641849cb78a0a119223a427dfdc1ade88412ef791a14193212c8c8e29d447b', description: The containerd version to download from https://storage.googleapis.com/cri-containerd-release/ default: '1.2.8' default: '1f2f0fb928179df90492a83c326a194b8e9d992538498efb44cbb6ef15465627',10,8
openstack%2Fpuppet-openstack-integration~master~Ib729db4ab45f398b6190ab826eb1dfd14e762039,openstack/puppet-openstack-integration,master,Ib729db4ab45f398b6190ab826eb1dfd14e762039,"Revert ""Switch to stable/wallaby""",MERGED,2021-04-08 02:10:37.000000000,2021-04-08 04:55:32.000000000,2021-04-08 04:55:32.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 02:10:37.000000000', 'files': ['run_tests.sh', 'Puppetfile', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b6babc9cbc6eb76048187a6ec3d83b708ec3d6f9', 'message': 'Revert ""Switch to stable/wallaby""\n\nThis reverts commit 47d6b412b6ddc88d8797ab262a028f6dd51a1722.\n\nReason for revert: The commit was made in a wrong branch.\n\nChange-Id: Ib729db4ab45f398b6190ab826eb1dfd14e762039\n'}]",0,785215,b6babc9cbc6eb76048187a6ec3d83b708ec3d6f9,6,4,1,9816,,,0,"Revert ""Switch to stable/wallaby""

This reverts commit 47d6b412b6ddc88d8797ab262a028f6dd51a1722.

Reason for revert: The commit was made in a wrong branch.

Change-Id: Ib729db4ab45f398b6190ab826eb1dfd14e762039
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/15/785215/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'Puppetfile', 'zuul.d/base.yaml']",3,b6babc9cbc6eb76048187a6ec3d83b708ec3d6f9,wallaby, - openstack/puppet-aodh - openstack/puppet-barbican - openstack/puppet-ceilometer - openstack/puppet-ceph - openstack/puppet-cinder - openstack/puppet-cloudkitty - openstack/puppet-designate - openstack/puppet-ec2api - openstack/puppet-glance - openstack/puppet-gnocchi - openstack/puppet-heat - openstack/puppet-horizon - openstack/puppet-ironic - openstack/puppet-keystone - openstack/puppet-magnum - openstack/puppet-manila - openstack/puppet-mistral - openstack/puppet-monasca - x/puppet-modulesync-configs - openstack/puppet-murano - openstack/puppet-neutron - openstack/puppet-nova - openstack/puppet-octavia - openstack/puppet-openstack-cookiecutter - openstack/puppet-openstack-integration - openstack/puppet-openstack_extras - openstack/puppet-openstack_spec_helper - openstack/puppet-openstacklib - openstack/puppet-oslo - openstack/puppet-ovn - openstack/puppet-panko - openstack/puppet-placement - openstack/puppet-qdr - openstack/puppet-sahara - openstack/puppet-swift - openstack/puppet-tacker - openstack/puppet-tempest - openstack/puppet-trove - openstack/puppet-vswitch - openstack/puppet-vitrage - openstack/puppet-watcher - openstack/puppet-zaqar - openstack/tempest, - name: openstack/puppet-aodh override-checkout: stable/wallaby - name: openstack/puppet-barbican override-checkout: stable/wallaby - name: openstack/puppet-ceilometer override-checkout: stable/wallaby - name: openstack/puppet-ceph - name: openstack/puppet-cinder override-checkout: stable/wallaby - name: openstack/puppet-cloudkitty override-checkout: stable/wallaby - name: openstack/puppet-designate override-checkout: stable/wallaby - name: openstack/puppet-ec2api override-checkout: stable/wallaby - name: openstack/puppet-glance override-checkout: stable/wallaby - name: openstack/puppet-gnocchi override-checkout: stable/wallaby - name: openstack/puppet-heat override-checkout: stable/wallaby - name: openstack/puppet-horizon override-checkout: stable/wallaby - name: openstack/puppet-ironic override-checkout: stable/wallaby - name: openstack/puppet-keystone override-checkout: stable/wallaby - name: openstack/puppet-magnum override-checkout: stable/wallaby - name: openstack/puppet-manila override-checkout: stable/wallaby - name: openstack/puppet-mistral override-checkout: stable/wallaby - name: openstack/puppet-monasca override-checkout: stable/wallaby - name: x/puppet-modulesync-configs override-checkout: stable/wallaby - name: openstack/puppet-murano override-checkout: stable/wallaby - name: openstack/puppet-neutron override-checkout: stable/wallaby - name: openstack/puppet-nova override-checkout: stable/wallaby - name: openstack/puppet-octavia override-checkout: stable/wallaby - name: openstack/puppet-openstack-cookiecutter - name: openstack/puppet-openstack-integration override-checkout: stable/wallaby - name: openstack/puppet-openstack_extras override-checkout: stable/wallaby - name: openstack/puppet-openstack_spec_helper override-checkout: stable/wallaby - name: openstack/puppet-openstacklib override-checkout: stable/wallaby - name: openstack/puppet-oslo override-checkout: stable/wallaby - name: openstack/puppet-ovn override-checkout: stable/wallaby - name: openstack/puppet-panko override-checkout: stable/wallaby - name: openstack/puppet-placement override-checkout: stable/wallaby - name: openstack/puppet-qdr override-checkout: stable/wallaby - name: openstack/puppet-sahara override-checkout: stable/wallaby - name: openstack/puppet-swift override-checkout: stable/wallaby - name: openstack/puppet-tacker override-checkout: stable/wallaby - name: openstack/puppet-tempest override-checkout: stable/wallaby - name: openstack/puppet-trove override-checkout: stable/wallaby - name: openstack/puppet-vswitch override-checkout: stable/wallaby - name: openstack/puppet-vitrage override-checkout: stable/wallaby - name: openstack/puppet-watcher override-checkout: stable/wallaby - name: openstack/puppet-zaqar override-checkout: stable/wallaby - name: openstack/tempest override-checkout: 27.0.0,80,122
openstack%2Fpuppet-openstack-integration~master~Ie792ed08e9119943e64cca072a03473d69f50200,openstack/puppet-openstack-integration,master,Ie792ed08e9119943e64cca072a03473d69f50200,"Revert ""Switch to RDO Wallaby""",MERGED,2021-04-08 02:08:25.000000000,2021-04-08 04:55:26.000000000,2021-04-08 04:55:26.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 02:08:25.000000000', 'files': ['manifests/repos.pp', 'configure_facts.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/761b922693e87f0d8cb7edaee851f721c3bdbd50', 'message': 'Revert ""Switch to RDO Wallaby""\n\nThis reverts commit 993a26d0a62bfc19a46d28acb1fe09e48ae48300.\n\nReason for revert: The commit was made in a wrong branch.\n\nChange-Id: Ie792ed08e9119943e64cca072a03473d69f50200\n'}]",0,785213,761b922693e87f0d8cb7edaee851f721c3bdbd50,6,4,1,9816,,,0,"Revert ""Switch to RDO Wallaby""

This reverts commit 993a26d0a62bfc19a46d28acb1fe09e48ae48300.

Reason for revert: The commit was made in a wrong branch.

Change-Id: Ie792ed08e9119943e64cca072a03473d69f50200
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/13/785213/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repos.pp', 'configure_facts.sh']",2,761b922693e87f0d8cb7edaee851f721c3bdbd50,wallaby,"export DLRN_BASE=${DLRN_BASE:-${OS_NAME_VERS}-master/puppet-passed-ci} export DLRN_DEPS_BASE=${DLRN_DEPS_BASE:-${OS_NAME_VERS}-master/deps/latest/} export DLRN_BASE_URL=${DLRN_BASE_URL:-${OS_NAME_VERS}-master/puppet-passed-ci/delorean.repo} export DLRN_DEPS_URL=${DLRN_DEPS_URL:-${OS_NAME_VERS}-master/delorean-deps.repo}curl -o /tmp/delorean.repo ""${NODEPOOL_RDO_PROXY}/centos8-master/puppet-passed-ci/delorean.repo""curl -o /tmp/delorean-deps.repo ""${NODEPOOL_RDO_PROXY}/centos8-master/delorean-deps.repo""","export DLRN_BASE=${DLRN_BASE:-${OS_NAME_VERS}-wallaby/puppet-passed-ci} export DLRN_DEPS_BASE=${DLRN_DEPS_BASE:-${OS_NAME_VERS}-wallaby/deps/latest/} export DLRN_BASE_URL=${DLRN_BASE_URL:-${OS_NAME_VERS}-wallaby/puppet-passed-ci/delorean.repo} export DLRN_DEPS_URL=${DLRN_DEPS_URL:-${OS_NAME_VERS}-wallaby/delorean-deps.repo}curl -o /tmp/delorean.repo ""${NODEPOOL_RDO_PROXY}/centos8-wallaby/puppet-passed-ci/delorean.repo""curl -o /tmp/delorean-deps.repo ""${NODEPOOL_RDO_PROXY}/centos8-wallaby/delorean-deps.repo""",8,8
openstack%2Ftacker~stable%2Fwallaby~Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f,openstack/tacker,stable/wallaby,Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f,Support Placement Constraints for Grant,MERGED,2021-04-05 12:45:28.000000000,2021-04-08 04:13:16.000000000,2021-04-08 04:12:03.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2021-04-05 12:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3528c64ea9636308999a7d44af0413c1d5f255f2', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nCo-authored-By: Yasufumi Ogawa <yasufum.o@gmail.com>\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n(cherry picked from commit 3859ade82452bd477eebccf96eaccd56ec99385d)\n'}, {'number': 2, 'created': '2021-04-06 04:07:30.000000000', 'files': ['releasenotes/notes/bp-placement-constraints-e3256cfc2d1b2b9f.yaml', 'tacker/tests/functional/sol/vnflcm/base.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/tests/etc/samples/etsi/nfv/functional6/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/functional/sol_separated_nfvo/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/nested/VDU2.yaml', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/conductor/conductor_server.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/7050b218f29f407611c11470f6ba5782a51c3af7', 'message': 'Support Placement Constraints for Grant\n\nGrant for 3rd-party NFVO is improved. Process related to placement\nconstraints is supported. This enables interoperability with\n3rd-party NFVO which enables them to deploy each VM in the VNF after\nsetting the zone information based on the grant response from NFVO.\n\nCo-authored-By: Yasufumi Ogawa <yasufum.o@gmail.com>\nImplements: blueprint support-placement-constraints\nChange-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f\n(cherry picked from commit 3859ade82452bd477eebccf96eaccd56ec99385d)\n'}]",0,784593,7050b218f29f407611c11470f6ba5782a51c3af7,10,5,2,32219,,,0,"Support Placement Constraints for Grant

Grant for 3rd-party NFVO is improved. Process related to placement
constraints is supported. This enables interoperability with
3rd-party NFVO which enables them to deploy each VM in the VNF after
setting the zone information based on the grant response from NFVO.

Co-authored-By: Yasufumi Ogawa <yasufum.o@gmail.com>
Implements: blueprint support-placement-constraints
Change-Id: Ibd8c5cae985766d5bd5e73276920fd4c28d6e87f
(cherry picked from commit 3859ade82452bd477eebccf96eaccd56ec99385d)
",git fetch https://review.opendev.org/openstack/tacker refs/changes/93/784593/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bp-placement-constraints-e3256cfc2d1b2b9f.yaml', 'tacker/tests/functional/sol/vnflcm/base.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/tests/etc/samples/etsi/nfv/functional6/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/functional/sol_separated_nfvo/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional6/BaseHOT/simple/nested/VDU2.yaml', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/conductor/conductor_server.py']",10,3528c64ea9636308999a7d44af0413c1d5f255f2,bp/support-placement-constraints-stable/wallaby," affinity_type = { 'tosca.policies.nfv.AntiAffinityRule': 'ANTI_AFFINITY', 'tosca.policies.nfv.AffinityRule': 'AFFINITY'} for policy_name, policy_dict in policy.items(): if policy_dict['type'] in affinity_type.keys(): key = policy_dict['type'] placement_constraint.affinity_or_anti_affinity = ( affinity_type[key])"," for policy_name, policy_dict in policy.items(): key_type = 'tosca.policies.nfv.AntiAffinityRule' if policy_dict['type'] == key_type: placement_constraint.affinity_or_anti_affinity = \ 'ANTI_AFFINITY'",584,63
openstack%2Ftripleo-ansible~master~I71f1a0e995c0d92d73625cd863488fc183bda7b3,openstack/tripleo-ansible,master,I71f1a0e995c0d92d73625cd863488fc183bda7b3,Introduce the network(s) parameter in the ceph spec module,MERGED,2021-03-26 13:33:35.000000000,2021-04-08 04:11:58.000000000,2021-04-08 04:10:39.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-26 13:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8f45cab5c75d3d2e9da75a567043a31725147542', 'message': 'Introduce the network(s) parameter in the ceph spec module\n\nThis change introduces a new option on the CephDaemonSpec definition.\nNow a list of networks can be specified and rendered using the related\ntop level field.\nThe networks field cannot be logically considered part of extra parameter,\nbecause except for the monitors and osds (they have the cluster and public\nnetworks defined), all the other daemons should provide this kind of field.\nThe ceph_mkspec module and the rgw tasks are modified accordingly and as\nper [1] only rgw is supported for now.\n\n[1] https://github.com/ceph/ceph/pull/40048\n\nChange-Id: I71f1a0e995c0d92d73625cd863488fc183bda7b3\n'}, {'number': 2, 'created': '2021-03-26 13:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d3c3917ff6324ea298cc01c0547afbb85f7883d1', 'message': 'Introduce the network(s) parameter in the ceph spec module\n\nThis change introduces a new option on the CephDaemonSpec definition.\nNow a list of networks can be specified and rendered using the related\ntop level field.\nThe networks field cannot be logically considered part of extra parameter,\nbecause except for the monitors and osds (they have the cluster and public\nnetworks defined), all the other daemons should provide this kind of field.\nThe ceph_mkspec module and the rgw tasks are modified accordingly and as\nper [1] only rgw is supported for now.\n\n[1] https://github.com/ceph/ceph/pull/40048\n\nChange-Id: I71f1a0e995c0d92d73625cd863488fc183bda7b3\n'}, {'number': 3, 'created': '2021-03-26 13:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0e92b05ee5bd5fae129030872dffdbc0884d39cf', 'message': 'Introduce the network(s) parameter in the ceph spec module\n\nThis change introduces a new option on the CephDaemonSpec definition.\nNow a list of networks can be specified and rendered using the related\ntop level field.\nThe networks field cannot be logically considered part of extra parameter,\nbecause except for the monitors and osds (they have the cluster and public\nnetworks defined), all the other daemons should provide this kind of field.\nThe ceph_mkspec module and the rgw tasks are modified accordingly and as\nper [1] only rgw is supported for now.\n\n[1] https://github.com/ceph/ceph/pull/40048\n\nChange-Id: I71f1a0e995c0d92d73625cd863488fc183bda7b3\n'}, {'number': 4, 'created': '2021-03-30 07:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/64979d3481cf36ef8da5648a820257ec18261977', 'message': 'Introduce the network(s) parameter in the ceph spec module\n\nThis change introduces a new option on the CephDaemonSpec definition.\nNow a list of networks can be specified and rendered using the related\ntop level field.\nThe networks field cannot be logically considered part of extra parameter,\nbecause except for the monitors and osds (they have the cluster and public\nnetworks defined), all the other daemons should provide this kind of field.\nThe ceph_mkspec module and the rgw tasks are modified accordingly and as\nper [1] only rgw is supported for now.\n\n[1] https://github.com/ceph/ceph/pull/40048\n\nChange-Id: I71f1a0e995c0d92d73625cd863488fc183bda7b3\n'}, {'number': 5, 'created': '2021-03-31 09:43:35.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/rgw.yaml', 'tripleo_ansible/ansible_plugins/module_utils/ceph_spec.py', 'tripleo_ansible/ansible_plugins/modules/ceph_mkspec.py', 'tripleo_ansible/ansible_plugins/modules/ceph_spec_bootstrap.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5ab03f393b6f9cecaa13f0e728b36cb1924c4362', 'message': 'Introduce the network(s) parameter in the ceph spec module\n\nThis change introduces a new option on the CephDaemonSpec definition.\nNow a list of networks can be specified and rendered using the related\ntop level field.\nThe networks field cannot be logically considered part of extra parameter,\nbecause except for the monitors and osds (they have the cluster and public\nnetworks defined), all the other daemons should provide this kind of field.\nThe ceph_mkspec module and the rgw tasks are modified accordingly and as\nper [1] only rgw is supported for now.\n\n[1] https://github.com/ceph/ceph/pull/40048\n\nChange-Id: I71f1a0e995c0d92d73625cd863488fc183bda7b3\n'}]",4,783305,5ab03f393b6f9cecaa13f0e728b36cb1924c4362,24,6,5,25402,,,0,"Introduce the network(s) parameter in the ceph spec module

This change introduces a new option on the CephDaemonSpec definition.
Now a list of networks can be specified and rendered using the related
top level field.
The networks field cannot be logically considered part of extra parameter,
because except for the monitors and osds (they have the cluster and public
networks defined), all the other daemons should provide this kind of field.
The ceph_mkspec module and the rgw tasks are modified accordingly and as
per [1] only rgw is supported for now.

[1] https://github.com/ceph/ceph/pull/40048

Change-Id: I71f1a0e995c0d92d73625cd863488fc183bda7b3
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/783305/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/tasks/rgw.yaml', 'tripleo_ansible/ansible_plugins/module_utils/ceph_spec.py', 'tripleo_ansible/ansible_plugins/modules/ceph_mkspec.py', 'tripleo_ansible/ansible_plugins/modules/ceph_spec_bootstrap.py']",4,8f45cab5c75d3d2e9da75a567043a31725147542,cephadm_pacific," placement_pattern, None, None, spec_dict, labels, **osd_spec)"," placement_pattern, spec_dict, labels, **osd_spec)",56,8
openstack%2Fcharm-neutron-openvswitch~master~I3b8e6ccdf10bf5a128f67b233e0218e16a8765ab,openstack/charm-neutron-openvswitch,master,I3b8e6ccdf10bf5a128f67b233e0218e16a8765ab,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:30:55.000000000,2021-04-08 04:05:26.000000000,2021-04-07 22:50:35.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-03 19:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/2d576be106482d228a97153ec77c0f7c7972c851', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I3b8e6ccdf10bf5a128f67b233e0218e16a8765ab\n'}, {'number': 2, 'created': '2021-04-06 10:21:54.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'test-requirements.txt', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/0dff271c092a0590a7a2dabf019a227bcb5c05cd', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I3b8e6ccdf10bf5a128f67b233e0218e16a8765ab\n'}]",0,784679,0dff271c092a0590a7a2dabf019a227bcb5c05cd,26,4,2,20870,,,0,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: I3b8e6ccdf10bf5a128f67b233e0218e16a8765ab
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/79/784679/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/files/policy_rc_d_script.py', 'hooks/charmhelpers/contrib/openstack/policy_rcd.py', 'test-requirements.txt', 'hooks/charmhelpers/contrib/openstack/exceptions.py', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py']",16,2d576be106482d228a97153ec77c0f7c7972c851,libraries-sync-21-04,,,1420,89
openstack%2Fpuppet-openstack_spec_helper~master~Ib74294d83a9cba598f009d43940676f688963af2,openstack/puppet-openstack_spec_helper,master,Ib74294d83a9cba598f009d43940676f688963af2,"Revert ""Switch to stable/wallaby""",MERGED,2021-04-08 02:01:16.000000000,2021-04-08 03:57:01.000000000,2021-04-08 03:57:01.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 02:01:16.000000000', 'files': ['functions', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/b39b21690cbda0d661d84cde36dcc92000e9dfcb', 'message': 'Revert ""Switch to stable/wallaby""\n\nThis reverts commit dceaf7a6af6e2c09a0f30867f8ecd2a232f798fb.\n\nReason for revert: The commit was made in a wrong branch.\n\nChange-Id: Ib74294d83a9cba598f009d43940676f688963af2\n'}]",0,785211,b39b21690cbda0d661d84cde36dcc92000e9dfcb,8,4,1,9816,,,0,"Revert ""Switch to stable/wallaby""

This reverts commit dceaf7a6af6e2c09a0f30867f8ecd2a232f798fb.

Reason for revert: The commit was made in a wrong branch.

Change-Id: Ib74294d83a9cba598f009d43940676f688963af2
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/11/785211/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",2,b39b21690cbda0d661d84cde36dcc92000e9dfcb,wallaby," sh(""git clone https://opendev.org/#{repo} #{repo}"")"," sh(""git clone https://opendev.org/#{repo} -b stable/wallaby #{repo}"")",2,2
openstack%2Fneutron~stable%2Fussuri~I4846ecdd8312fa2ff915c4461da07a607c7a8f8c,openstack/neutron,stable/ussuri,I4846ecdd8312fa2ff915c4461da07a607c7a8f8c,"Remove FT ""test_has_offline_migrations_*"" tests",MERGED,2021-04-07 09:17:48.000000000,2021-04-08 03:56:47.000000000,2021-04-08 03:54:26.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 09:17:48.000000000', 'files': ['neutron/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b806dd0aa712d0a2570d8c58e3ebc0483517ac75', 'message': 'Remove FT ""test_has_offline_migrations_*"" tests\n\n""test_has_offline_migrations_pending_contract_scripts"" is testing a\nnon supported branch, ""Kilo"". The usefulness expired when this branch\nwas declared EOL.\n\n""test_has_offline_migrations_all_heads_upgraded"" is tested in\n""test_forbid_offline_migrations_starting_newton"". Since ""Newton"",\nno more DB contract migrations are allowed. Both tests are checking\nthe same behavior.\n\nDue to the time extension and the lack of value of those tests, this\npatch removes both.\n\n  test_forbid_offline_migrations_starting_newton [683.133807s]\n  test_has_offline_migrations_pending_contract_scripts [123.091853s]\n\nChange-Id: I4846ecdd8312fa2ff915c4461da07a607c7a8f8c\nRelated-Bug: #1687027\n(cherry picked from commit 8522628f2f6f59344c04568b31c444f7a290562d)\n'}]",0,784995,b806dd0aa712d0a2570d8c58e3ebc0483517ac75,12,3,1,16688,,,0,"Remove FT ""test_has_offline_migrations_*"" tests

""test_has_offline_migrations_pending_contract_scripts"" is testing a
non supported branch, ""Kilo"". The usefulness expired when this branch
was declared EOL.

""test_has_offline_migrations_all_heads_upgraded"" is tested in
""test_forbid_offline_migrations_starting_newton"". Since ""Newton"",
no more DB contract migrations are allowed. Both tests are checking
the same behavior.

Due to the time extension and the lack of value of those tests, this
patch removes both.

  test_forbid_offline_migrations_starting_newton [683.133807s]
  test_has_offline_migrations_pending_contract_scripts [123.091853s]

Change-Id: I4846ecdd8312fa2ff915c4461da07a607c7a8f8c
Related-Bug: #1687027
(cherry picked from commit 8522628f2f6f59344c04568b31c444f7a290562d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/784995/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/db/test_migrations.py'],1,b806dd0aa712d0a2570d8c58e3ebc0483517ac75,bug/1687027-stable/ussuri,," def _test_has_offline_migrations(self, revision, expected): engine = self.get_engine() cfg.CONF.set_override('connection', engine.url, group='database') migration.do_alembic_command(self.alembic_config, 'upgrade', revision) self.assertEqual(expected, migration.has_offline_migrations(self.alembic_config, 'unused')) def test_has_offline_migrations_pending_contract_scripts(self): self._test_has_offline_migrations('kilo', True) def test_has_offline_migrations_all_heads_upgraded(self): self._test_has_offline_migrations('heads', False) # TODO(ihrachys): revisit later in Pike+ where some contract scripts may be # safe again def test_has_offline_migrations_pending_contract_scripts(self): super(TestModelsMigrationsMysql, self).test_has_offline_migrations_pending_contract_scripts() @test_base.skip_if_timeout(""bug 1687027"") def test_has_offline_migrations_all_heads_upgraded(self): super(TestModelsMigrationsMysql, self).test_has_offline_migrations_all_heads_upgraded() @test_base.skip_if_timeout(""bug 1687027"")",0,26
openstack%2Fneutron~stable%2Fvictoria~I4846ecdd8312fa2ff915c4461da07a607c7a8f8c,openstack/neutron,stable/victoria,I4846ecdd8312fa2ff915c4461da07a607c7a8f8c,"Remove FT ""test_has_offline_migrations_*"" tests",MERGED,2021-04-07 09:17:17.000000000,2021-04-08 03:56:43.000000000,2021-04-08 03:53:44.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 09:17:17.000000000', 'files': ['neutron/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff5a024c7b01f504976052f96d15187bdd87c351', 'message': 'Remove FT ""test_has_offline_migrations_*"" tests\n\n""test_has_offline_migrations_pending_contract_scripts"" is testing a\nnon supported branch, ""Kilo"". The usefulness expired when this branch\nwas declared EOL.\n\n""test_has_offline_migrations_all_heads_upgraded"" is tested in\n""test_forbid_offline_migrations_starting_newton"". Since ""Newton"",\nno more DB contract migrations are allowed. Both tests are checking\nthe same behavior.\n\nDue to the time extension and the lack of value of those tests, this\npatch removes both.\n\n  test_forbid_offline_migrations_starting_newton [683.133807s]\n  test_has_offline_migrations_pending_contract_scripts [123.091853s]\n\nChange-Id: I4846ecdd8312fa2ff915c4461da07a607c7a8f8c\nRelated-Bug: #1687027\n(cherry picked from commit 8522628f2f6f59344c04568b31c444f7a290562d)\n'}]",0,784994,ff5a024c7b01f504976052f96d15187bdd87c351,13,4,1,16688,,,0,"Remove FT ""test_has_offline_migrations_*"" tests

""test_has_offline_migrations_pending_contract_scripts"" is testing a
non supported branch, ""Kilo"". The usefulness expired when this branch
was declared EOL.

""test_has_offline_migrations_all_heads_upgraded"" is tested in
""test_forbid_offline_migrations_starting_newton"". Since ""Newton"",
no more DB contract migrations are allowed. Both tests are checking
the same behavior.

Due to the time extension and the lack of value of those tests, this
patch removes both.

  test_forbid_offline_migrations_starting_newton [683.133807s]
  test_has_offline_migrations_pending_contract_scripts [123.091853s]

Change-Id: I4846ecdd8312fa2ff915c4461da07a607c7a8f8c
Related-Bug: #1687027
(cherry picked from commit 8522628f2f6f59344c04568b31c444f7a290562d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/784994/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/db/test_migrations.py'],1,ff5a024c7b01f504976052f96d15187bdd87c351,bug/1687027-stable/victoria,," def _test_has_offline_migrations(self, revision, expected): engine = self.get_engine() cfg.CONF.set_override('connection', engine.url, group='database') migration.do_alembic_command(self.alembic_config, 'upgrade', revision) self.assertEqual(expected, migration.has_offline_migrations(self.alembic_config, 'unused')) def test_has_offline_migrations_pending_contract_scripts(self): self._test_has_offline_migrations('kilo', True) def test_has_offline_migrations_all_heads_upgraded(self): self._test_has_offline_migrations('heads', False) # TODO(ihrachys): revisit later in Pike+ where some contract scripts may be # safe again def test_has_offline_migrations_pending_contract_scripts(self): super(TestModelsMigrationsMysql, self).test_has_offline_migrations_pending_contract_scripts() @test_base.skip_if_timeout(""bug 1687027"") def test_has_offline_migrations_all_heads_upgraded(self): super(TestModelsMigrationsMysql, self).test_has_offline_migrations_all_heads_upgraded() @test_base.skip_if_timeout(""bug 1687027"")",0,26
openstack%2Fneutron~stable%2Ftrain~I4846ecdd8312fa2ff915c4461da07a607c7a8f8c,openstack/neutron,stable/train,I4846ecdd8312fa2ff915c4461da07a607c7a8f8c,"Remove FT ""test_has_offline_migrations_*"" tests",MERGED,2021-04-07 09:25:38.000000000,2021-04-08 03:56:38.000000000,2021-04-08 03:54:51.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 09:25:38.000000000', 'files': ['neutron/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/397438be6f367e1c24da6d22148006bfe0f64f20', 'message': 'Remove FT ""test_has_offline_migrations_*"" tests\n\n""test_has_offline_migrations_pending_contract_scripts"" is testing a\nnon supported branch, ""Kilo"". The usefulness expired when this branch\nwas declared EOL.\n\n""test_has_offline_migrations_all_heads_upgraded"" is tested in\n""test_forbid_offline_migrations_starting_newton"". Since ""Newton"",\nno more DB contract migrations are allowed. Both tests are checking\nthe same behavior.\n\nDue to the time extension and the lack of value of those tests, this\npatch removes both.\n\n  test_forbid_offline_migrations_starting_newton [683.133807s]\n  test_has_offline_migrations_pending_contract_scripts [123.091853s]\n\nChange-Id: I4846ecdd8312fa2ff915c4461da07a607c7a8f8c\nRelated-Bug: #1687027\n(cherry picked from commit 8522628f2f6f59344c04568b31c444f7a290562d)\n'}]",0,785116,397438be6f367e1c24da6d22148006bfe0f64f20,15,3,1,16688,,,0,"Remove FT ""test_has_offline_migrations_*"" tests

""test_has_offline_migrations_pending_contract_scripts"" is testing a
non supported branch, ""Kilo"". The usefulness expired when this branch
was declared EOL.

""test_has_offline_migrations_all_heads_upgraded"" is tested in
""test_forbid_offline_migrations_starting_newton"". Since ""Newton"",
no more DB contract migrations are allowed. Both tests are checking
the same behavior.

Due to the time extension and the lack of value of those tests, this
patch removes both.

  test_forbid_offline_migrations_starting_newton [683.133807s]
  test_has_offline_migrations_pending_contract_scripts [123.091853s]

Change-Id: I4846ecdd8312fa2ff915c4461da07a607c7a8f8c
Related-Bug: #1687027
(cherry picked from commit 8522628f2f6f59344c04568b31c444f7a290562d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/785116/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/db/test_migrations.py'],1,397438be6f367e1c24da6d22148006bfe0f64f20,bug/1687027-stable/train,," def _test_has_offline_migrations(self, revision, expected): engine = self.get_engine() cfg.CONF.set_override('connection', engine.url, group='database') migration.do_alembic_command(self.alembic_config, 'upgrade', revision) self.assertEqual(expected, migration.has_offline_migrations(self.alembic_config, 'unused')) def test_has_offline_migrations_pending_contract_scripts(self): self._test_has_offline_migrations('kilo', True) def test_has_offline_migrations_all_heads_upgraded(self): self._test_has_offline_migrations('heads', False) # TODO(ihrachys): revisit later in Pike+ where some contract scripts may be # safe again def test_has_offline_migrations_pending_contract_scripts(self): super(TestModelsMigrationsMysql, self).test_has_offline_migrations_pending_contract_scripts() @test_base.skip_if_timeout(""bug 1687027"") def test_has_offline_migrations_all_heads_upgraded(self): super(TestModelsMigrationsMysql, self).test_has_offline_migrations_all_heads_upgraded() @test_base.skip_if_timeout(""bug 1687027"")",0,26
openstack%2Fdiskimage-builder~master~Icd22dfa5faa540773d096810f1423257d0727c81,openstack/diskimage-builder,master,Icd22dfa5faa540773d096810f1423257d0727c81,Fix generate two grub.cfg files,ABANDONED,2021-04-01 07:38:59.000000000,2021-04-08 03:14:17.000000000,,"[{'_account_id': 4571}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 07:38:59.000000000', 'files': ['diskimage_builder/elements/bootloader/finalise.d/50-bootloader'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a603fcf746b27216ef70e678cf544771065a01d5', 'message': ""Fix generate two grub.cfg files\n\nWhen there is a directory '/boot/efi/$EFI_BOOT_DIR' it will generate\ntwo grub.cfg files. One under this dir, the other under directory\n'/boot/grub2/' or'/boot/grub/'.\n\nBut current bootloader element grub default overrides such as root\ndevice override and console parameters appending only happen in the\nlatter grub.cfg. This might cause grub default overrides not working.\nBecause only the former grub.cfg will be used to boot OS here.\n\nChange-Id: Icd22dfa5faa540773d096810f1423257d0727c81\n""}]",0,784203,a603fcf746b27216ef70e678cf544771065a01d5,11,3,1,22997,,,0,"Fix generate two grub.cfg files

When there is a directory '/boot/efi/$EFI_BOOT_DIR' it will generate
two grub.cfg files. One under this dir, the other under directory
'/boot/grub2/' or'/boot/grub/'.

But current bootloader element grub default overrides such as root
device override and console parameters appending only happen in the
latter grub.cfg. This might cause grub default overrides not working.
Because only the former grub.cfg will be used to boot OS here.

Change-Id: Icd22dfa5faa540773d096810f1423257d0727c81
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/03/784203/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/bootloader/finalise.d/50-bootloader'],1,a603fcf746b27216ef70e678cf544771065a01d5,grub-cfg-fix, # This might be better factored out into a per-distro 'install-bootblock' # helper. if [ -d /boot/grub2 ]; then GRUB_CFG=/boot/grub2/grub.cfg elif [ -d /boot/grub ]; then GRUB_CFG=/boot/grub/grub.cfg fi GRUB_CFG=/boot/efi/$EFI_BOOT_DIR/grub.cfg, $GRUB_MKCONFIG -o /boot/efi/$EFI_BOOT_DIR/grub.cfg # This might be better factored out into a per-distro 'install-bootblock' # helper. if [ -d /boot/grub2 ]; then GRUB_CFG=/boot/grub2/grub.cfg elif [ -d /boot/grub ]; then GRUB_CFG=/boot/grub/grub.cfg fi ,9,9
openstack%2Fpuppet-openstack_spec_helper~stable%2Fwallaby~I481fc2e872b39284b7ea58d0fa81a3045a97fec9,openstack/puppet-openstack_spec_helper,stable/wallaby,I481fc2e872b39284b7ea58d0fa81a3045a97fec9,Switch to stable/wallaby,MERGED,2021-04-08 02:01:57.000000000,2021-04-08 03:04:36.000000000,2021-04-08 03:04:36.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 02:01:57.000000000', 'files': ['functions', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/16701bea06cececfbaa007b4d97780d2c7b2e844', 'message': 'Switch to stable/wallaby\n\nChange-Id: I481fc2e872b39284b7ea58d0fa81a3045a97fec9\n'}]",0,785212,16701bea06cececfbaa007b4d97780d2c7b2e844,6,2,1,9816,,,0,"Switch to stable/wallaby

Change-Id: I481fc2e872b39284b7ea58d0fa81a3045a97fec9
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/12/785212/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",2,16701bea06cececfbaa007b4d97780d2c7b2e844,wallaby-stable/wallaby," sh(""git clone https://opendev.org/#{repo} -b stable/wallaby #{repo}"")"," sh(""git clone https://opendev.org/#{repo} #{repo}"")",2,2
openstack%2Ftripleo-quickstart~master~I154aa7f84567b806b24aa87a4f7559ead08bf4ba,openstack/tripleo-quickstart,master,I154aa7f84567b806b24aa87a4f7559ead08bf4ba,"Revert ""Update dep pipeline to test container-tools:3.0""",ABANDONED,2021-04-07 14:27:47.000000000,2021-04-08 02:27:08.000000000,,"[{'_account_id': 9592}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-07 14:27:47.000000000', 'files': ['config/release/dependency_ci/container-tools/repo_config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/429620643f53e622d41878138a478a5d61f8e62f', 'message': 'Revert ""Update dep pipeline to test container-tools:3.0""\n\nThis reverts commit bfb6e2b48321ca7c4f7c287524bb836d1e898488.\n\nReason for revert: conatiner-tools:3.0 is current running in integration - moving this pipeline back to rhel8 to follow $next.\n\nChange-Id: I154aa7f84567b806b24aa87a4f7559ead08bf4ba\n'}]",0,785200,429620643f53e622d41878138a478a5d61f8e62f,5,4,1,9976,,,0,"Revert ""Update dep pipeline to test container-tools:3.0""

This reverts commit bfb6e2b48321ca7c4f7c287524bb836d1e898488.

Reason for revert: conatiner-tools:3.0 is current running in integration - moving this pipeline back to rhel8 to follow $next.

Change-Id: I154aa7f84567b806b24aa87a4f7559ead08bf4ba
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/00/785200/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/dependency_ci/container-tools/repo_config.yaml'],1,429620643f53e622d41878138a478a5d61f8e62f,container-tools-3, test_version: rhel8, test_version: 3.0,1,1
openstack%2Fpanko~stable%2Ftrain~Ic28606ad8f70ab69fb92b3f4ff5fb7a6757d5bdf,openstack/panko,stable/train,Ic28606ad8f70ab69fb92b3f4ff5fb7a6757d5bdf,fix: Add count of panko api,ABANDONED,2021-04-07 10:36:15.000000000,2021-04-08 02:16:52.000000000,,[],"[{'number': 1, 'created': '2021-04-07 10:36:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/panko/commit/196cea966fa8c12a823a8ac43362aad85ae8bc99', 'message': '[Animbus]fix: Add count of panko api\n\n1. add count field for panko event list api\n\nIssue: 78414\nChange-Id: Ic28606ad8f70ab69fb92b3f4ff5fb7a6757d5bdf\n'}, {'number': 2, 'created': '2021-04-08 02:16:37.000000000', 'files': ['panko/storage/impl_sqlalchemy.py', 'panko/api/controllers/v2/events.py', 'panko/tests/functional/storage/test_storage_scenarios.py'], 'web_link': 'https://opendev.org/openstack/panko/commit/33b3dad40a7bc8d4444a6725d0675df1399bfb9b', 'message': 'fix: Add count of panko api\n\n1. add count field for panko event list api\n\nChange-Id: Ic28606ad8f70ab69fb92b3f4ff5fb7a6757d5bdf\n'}]",0,785139,33b3dad40a7bc8d4444a6725d0675df1399bfb9b,5,0,2,33196,,,0,"fix: Add count of panko api

1. add count field for panko event list api

Change-Id: Ic28606ad8f70ab69fb92b3f4ff5fb7a6757d5bdf
",git fetch https://review.opendev.org/openstack/panko refs/changes/39/785139/2 && git format-patch -1 --stdout FETCH_HEAD,"['panko/storage/impl_sqlalchemy.py', 'panko/api/controllers/v2/events.py', 'panko/tests/functional/storage/test_storage_scenarios.py']",3,196cea966fa8c12a823a8ac43362aad85ae8bc99,animbus8, events = list(self.conn.get_events(storage.EventFilter())[0]) events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]] events = [event for event in self.conn.get_events(event_filter)[0]], events = list(self.conn.get_events(storage.EventFilter())) events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)] events = [event for event in self.conn.get_events(event_filter)],59,43
openstack%2Fcyborg~master~I9eb0c097db8ded829d282256db4a8bdb971306f7,openstack/cyborg,master,I9eb0c097db8ded829d282256db4a8bdb971306f7,Add backup and snapshot support matrix,MERGED,2021-04-07 03:01:08.000000000,2021-04-08 02:13:13.000000000,2021-04-08 02:11:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-04-07 03:01:08.000000000', 'files': ['doc/source/reference/support-matrix.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/0e1bb834e7d51cb0ed3870c1e92da580aa753219', 'message': 'Add backup and snapshot support matrix\n\nChange-Id: I9eb0c097db8ded829d282256db4a8bdb971306f7\n'}]",0,785086,0e1bb834e7d51cb0ed3870c1e92da580aa753219,10,4,1,31412,,,0,"Add backup and snapshot support matrix

Change-Id: I9eb0c097db8ded829d282256db4a8bdb971306f7
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/86/785086/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/support-matrix.rst'],1,0e1bb834e7d51cb0ed3870c1e92da580aa753219,, * - Backup - ``openstack server backup create`` * - Take a snapshot - ``openstack server image create``,,4,0
openstack%2Fcyborg~stable%2Fvictoria~I370bc8449321932831df4fe783be5c9ff0ed65df,openstack/cyborg,stable/victoria,I370bc8449321932831df4fe783be5c9ff0ed65df,Add fast8 check for cybrog,MERGED,2021-03-23 10:29:02.000000000,2021-04-08 02:13:04.000000000,2021-04-08 02:11:39.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-03-23 10:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/730774f5edbc652bf8f712b6c8c92df011e5c289', 'message': 'Add fast8 check for cybrog\n\nAdd ""tox -e fast8"" command, that we can check the changes file whether\nis ok of it\'s PEP8 format.\n\nChange-Id: I370bc8449321932831df4fe783be5c9ff0ed65df\n(cherry picked from commit c61e8ef3fc8d7cc80f51c2c96fa4cc1a7406c6d8)\n'}, {'number': 2, 'created': '2021-03-24 02:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a2e25d03fdd734b63500403777d98e7f44cb0036', 'message': 'Add fast8 check for cybrog\n\nAdd ""tox -e fast8"" command, that we can check the changes file whether\nis ok of it\'s PEP8 format.\n\nDepends-On: https://review.opendev.org/c/openstack/cyborg-tempest-plugin/+/782630\n\nChange-Id: I370bc8449321932831df4fe783be5c9ff0ed65df\n(cherry picked from commit c61e8ef3fc8d7cc80f51c2c96fa4cc1a7406c6d8)\n'}, {'number': 3, 'created': '2021-03-24 10:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/e81550c2986b809c054870ee6a699c865e5e4b9a', 'message': 'Add fast8 check for cybrog\n\nAdd ""tox -e fast8"" command, that we can check the changes file whether\nis ok of it\'s PEP8 format.\n\nChange-Id: I370bc8449321932831df4fe783be5c9ff0ed65df\n(cherry picked from commit c61e8ef3fc8d7cc80f51c2c96fa4cc1a7406c6d8)\n'}, {'number': 4, 'created': '2021-04-01 09:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f0b82d1f49283e132ba7d6f0b017a5834876ddd4', 'message': 'Add fast8 check for cybrog\n\nAdd ""tox -e fast8"" command, that we can check the changes file whether\nias ok of it\'s PEP8 format.\n\nChange-Id: I370bc8449321932831df4fe783be5c9ff0ed65df\n(cherry picked from commit c61e8ef3fc8d7cc80f51c2c96fa4cc1a7406c6d8)\n'}, {'number': 5, 'created': '2021-04-07 06:37:04.000000000', 'files': ['tools/flake8wrap.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/07a5b145554f4dddf6a8188aacff2358819104d8', 'message': 'Add fast8 check for cybrog\n\nAdd ""tox -e fast8"" command, that we can check the changes file whether\nis ok of it\'s PEP8 format.\n\nChange-Id: I370bc8449321932831df4fe783be5c9ff0ed65df\n(cherry picked from commit c61e8ef3fc8d7cc80f51c2c96fa4cc1a7406c6d8)\n'}]",0,782134,07a5b145554f4dddf6a8188aacff2358819104d8,29,4,5,26458,,,0,"Add fast8 check for cybrog

Add ""tox -e fast8"" command, that we can check the changes file whether
is ok of it's PEP8 format.

Change-Id: I370bc8449321932831df4fe783be5c9ff0ed65df
(cherry picked from commit c61e8ef3fc8d7cc80f51c2c96fa4cc1a7406c6d8)
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/34/782134/5 && git format-patch -1 --stdout FETCH_HEAD,"['tools/flake8wrap.sh', 'tox.ini']",2,730774f5edbc652bf8f712b6c8c92df011e5c289,," bash[testenv:fast8] description = Run style checks on the changes made since HEAD~. For a full run including docs, use 'pep8' envdir = {toxworkdir}/shared commands = bash tools/flake8wrap.sh -HEAD ",,35,1
openstack%2Fpuppet-openstack-integration~master~I1ee3796fb5a7fec69ac3e63e3683000b254d987c,openstack/puppet-openstack-integration,master,I1ee3796fb5a7fec69ac3e63e3683000b254d987c,Switch to stable/wallaby,MERGED,2021-04-06 04:04:31.000000000,2021-04-08 02:10:37.000000000,2021-04-06 17:36:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 04:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bebe2c0277a6aab65ef9957f3a6907f8e89a2c4a', 'message': 'Switch to stable/wallaby\n\nChange-Id: I1ee3796fb5a7fec69ac3e63e3683000b254d987c\n'}, {'number': 2, 'created': '2021-04-06 04:09:36.000000000', 'files': ['run_tests.sh', 'Puppetfile', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/47d6b412b6ddc88d8797ab262a028f6dd51a1722', 'message': 'Switch to stable/wallaby\n\nChange-Id: I1ee3796fb5a7fec69ac3e63e3683000b254d987c\n'}]",0,784877,47d6b412b6ddc88d8797ab262a028f6dd51a1722,9,3,2,9816,,,0,"Switch to stable/wallaby

Change-Id: I1ee3796fb5a7fec69ac3e63e3683000b254d987c
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/77/784877/2 && git format-patch -1 --stdout FETCH_HEAD,"['Puppetfile', 'zuul.d/base.yaml']",2,bebe2c0277a6aab65ef9957f3a6907f8e89a2c4a,wallaby, - name: openstack/puppet-aodh override-checkout: stable/wallaby - name: openstack/puppet-barbican override-checkout: stable/wallaby - name: openstack/puppet-ceilometer override-checkout: stable/wallaby - name: openstack/puppet-ceph - name: openstack/puppet-cinder override-checkout: stable/wallaby - name: openstack/puppet-cloudkitty override-checkout: stable/wallaby - name: openstack/puppet-designate override-checkout: stable/wallaby - name: openstack/puppet-ec2api override-checkout: stable/wallaby - name: openstack/puppet-glance override-checkout: stable/wallaby - name: openstack/puppet-gnocchi override-checkout: stable/wallaby - name: openstack/puppet-heat override-checkout: stable/wallaby - name: openstack/puppet-horizon override-checkout: stable/wallaby - name: openstack/puppet-ironic override-checkout: stable/wallaby - name: openstack/puppet-keystone override-checkout: stable/wallaby - name: openstack/puppet-magnum override-checkout: stable/wallaby - name: openstack/puppet-manila override-checkout: stable/wallaby - name: openstack/puppet-mistral override-checkout: stable/wallaby - name: openstack/puppet-monasca override-checkout: stable/wallaby - name: x/puppet-modulesync-configs override-checkout: stable/wallaby - name: openstack/puppet-murano override-checkout: stable/wallaby - name: openstack/puppet-neutron override-checkout: stable/wallaby - name: openstack/puppet-nova override-checkout: stable/wallaby - name: openstack/puppet-octavia override-checkout: stable/wallaby - name: openstack/puppet-openstack-cookiecutter - name: openstack/puppet-openstack-integration override-checkout: stable/wallaby - name: openstack/puppet-openstack_extras override-checkout: stable/wallaby - name: openstack/puppet-openstack_spec_helper override-checkout: stable/wallaby - name: openstack/puppet-openstacklib override-checkout: stable/wallaby - name: openstack/puppet-oslo override-checkout: stable/wallaby - name: openstack/puppet-ovn override-checkout: stable/wallaby - name: openstack/puppet-panko override-checkout: stable/wallaby - name: openstack/puppet-placement override-checkout: stable/wallaby - name: openstack/puppet-qdr override-checkout: stable/wallaby - name: openstack/puppet-sahara override-checkout: stable/wallaby - name: openstack/puppet-swift override-checkout: stable/wallaby - name: openstack/puppet-tacker override-checkout: stable/wallaby - name: openstack/puppet-tempest override-checkout: stable/wallaby - name: openstack/puppet-trove override-checkout: stable/wallaby - name: openstack/puppet-vswitch override-checkout: stable/wallaby - name: openstack/puppet-vitrage override-checkout: stable/wallaby - name: openstack/puppet-watcher override-checkout: stable/wallaby - name: openstack/puppet-zaqar override-checkout: stable/wallaby - name: openstack/tempest override-checkout: 27.0.0, - openstack/puppet-aodh - openstack/puppet-barbican - openstack/puppet-ceilometer - openstack/puppet-ceph - openstack/puppet-cinder - openstack/puppet-cloudkitty - openstack/puppet-designate - openstack/puppet-ec2api - openstack/puppet-glance - openstack/puppet-gnocchi - openstack/puppet-heat - openstack/puppet-horizon - openstack/puppet-ironic - openstack/puppet-keystone - openstack/puppet-magnum - openstack/puppet-manila - openstack/puppet-mistral - openstack/puppet-monasca - x/puppet-modulesync-configs - openstack/puppet-murano - openstack/puppet-neutron - openstack/puppet-nova - openstack/puppet-octavia - openstack/puppet-openstack-cookiecutter - openstack/puppet-openstack-integration - openstack/puppet-openstack_extras - openstack/puppet-openstack_spec_helper - openstack/puppet-openstacklib - openstack/puppet-oslo - openstack/puppet-ovn - openstack/puppet-panko - openstack/puppet-placement - openstack/puppet-qdr - openstack/puppet-sahara - openstack/puppet-swift - openstack/puppet-tacker - openstack/puppet-tempest - openstack/puppet-trove - openstack/puppet-vswitch - openstack/puppet-vitrage - openstack/puppet-watcher - openstack/puppet-zaqar - openstack/tempest,121,80
openstack%2Fpuppet-openstack-integration~master~Ic3a27395dd8ea1afffe0f75fd76a917a720a064f,openstack/puppet-openstack-integration,master,Ic3a27395dd8ea1afffe0f75fd76a917a720a064f,"Revert ""Switch to RDO Wallaby""",ABANDONED,2021-04-08 02:09:14.000000000,2021-04-08 02:10:26.000000000,,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 02:09:14.000000000', 'files': ['manifests/repos.pp', 'configure_facts.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/27ce5de1ac808dd2c04f77936988e8fb7cfe34ee', 'message': 'Revert ""Switch to RDO Wallaby""\n\nThis reverts commit 993a26d0a62bfc19a46d28acb1fe09e48ae48300.\n\nReason for revert: The commit was made in a wrong branch.\n\nChange-Id: Ic3a27395dd8ea1afffe0f75fd76a917a720a064f\n'}]",0,785214,27ce5de1ac808dd2c04f77936988e8fb7cfe34ee,3,4,1,9816,,,0,"Revert ""Switch to RDO Wallaby""

This reverts commit 993a26d0a62bfc19a46d28acb1fe09e48ae48300.

Reason for revert: The commit was made in a wrong branch.

Change-Id: Ic3a27395dd8ea1afffe0f75fd76a917a720a064f
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/14/785214/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repos.pp', 'configure_facts.sh']",2,27ce5de1ac808dd2c04f77936988e8fb7cfe34ee,wallaby,"export DLRN_BASE=${DLRN_BASE:-${OS_NAME_VERS}-master/puppet-passed-ci} export DLRN_DEPS_BASE=${DLRN_DEPS_BASE:-${OS_NAME_VERS}-master/deps/latest/} export DLRN_BASE_URL=${DLRN_BASE_URL:-${OS_NAME_VERS}-master/puppet-passed-ci/delorean.repo} export DLRN_DEPS_URL=${DLRN_DEPS_URL:-${OS_NAME_VERS}-master/delorean-deps.repo}curl -o /tmp/delorean.repo ""${NODEPOOL_RDO_PROXY}/centos8-master/puppet-passed-ci/delorean.repo""curl -o /tmp/delorean-deps.repo ""${NODEPOOL_RDO_PROXY}/centos8-master/delorean-deps.repo""","export DLRN_BASE=${DLRN_BASE:-${OS_NAME_VERS}-wallaby/puppet-passed-ci} export DLRN_DEPS_BASE=${DLRN_DEPS_BASE:-${OS_NAME_VERS}-wallaby/deps/latest/} export DLRN_BASE_URL=${DLRN_BASE_URL:-${OS_NAME_VERS}-wallaby/puppet-passed-ci/delorean.repo} export DLRN_DEPS_URL=${DLRN_DEPS_URL:-${OS_NAME_VERS}-wallaby/delorean-deps.repo}curl -o /tmp/delorean.repo ""${NODEPOOL_RDO_PROXY}/centos8-wallaby/puppet-passed-ci/delorean.repo""curl -o /tmp/delorean-deps.repo ""${NODEPOOL_RDO_PROXY}/centos8-wallaby/delorean-deps.repo""",8,8
openstack%2Fpuppet-openstack-integration~master~Ia19de894492e1904957edff48de2fe3d0b5c50ec,openstack/puppet-openstack-integration,master,Ia19de894492e1904957edff48de2fe3d0b5c50ec,Switch to RDO Wallaby,MERGED,2021-04-06 04:07:21.000000000,2021-04-08 02:09:14.000000000,2021-04-06 17:48:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 04:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5b964fb5036464f9fcfc91939c052ce9029a6915', 'message': 'Switch to RDO Wallaby\n\nChange-Id: Ia19de894492e1904957edff48de2fe3d0b5c50ec\n'}, {'number': 2, 'created': '2021-04-06 04:09:36.000000000', 'files': ['manifests/repos.pp', 'configure_facts.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/993a26d0a62bfc19a46d28acb1fe09e48ae48300', 'message': 'Switch to RDO Wallaby\n\nChange-Id: Ia19de894492e1904957edff48de2fe3d0b5c50ec\n'}]",0,784878,993a26d0a62bfc19a46d28acb1fe09e48ae48300,10,3,2,9816,,,0,"Switch to RDO Wallaby

Change-Id: Ia19de894492e1904957edff48de2fe3d0b5c50ec
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/78/784878/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repos.pp', 'configure_facts.sh']",2,5b964fb5036464f9fcfc91939c052ce9029a6915,wallaby,"export DLRN_BASE=${DLRN_BASE:-${OS_NAME_VERS}-wallaby/puppet-passed-ci} export DLRN_DEPS_BASE=${DLRN_DEPS_BASE:-${OS_NAME_VERS}-wallaby/deps/latest/} export DLRN_BASE_URL=${DLRN_BASE_URL:-${OS_NAME_VERS}-wallaby/puppet-passed-ci/delorean.repo} export DLRN_DEPS_URL=${DLRN_DEPS_URL:-${OS_NAME_VERS}-wallaby/delorean-deps.repo}curl -o /tmp/delorean.repo ""${NODEPOOL_RDO_PROXY}/centos8-wallaby/puppet-passed-ci/delorean.repo""curl -o /tmp/delorean-deps.repo ""${NODEPOOL_RDO_PROXY}/centos8-wallaby/delorean-deps.repo""","export DLRN_BASE=${DLRN_BASE:-${OS_NAME_VERS}-master/puppet-passed-ci} export DLRN_DEPS_BASE=${DLRN_DEPS_BASE:-${OS_NAME_VERS}-master/deps/latest/} export DLRN_BASE_URL=${DLRN_BASE_URL:-${OS_NAME_VERS}-master/puppet-passed-ci/delorean.repo} export DLRN_DEPS_URL=${DLRN_DEPS_URL:-${OS_NAME_VERS}-master/delorean-deps.repo}curl -o /tmp/delorean.repo ""${NODEPOOL_RDO_PROXY}/centos8-master/puppet-passed-ci/delorean.repo""curl -o /tmp/delorean-deps.repo ""${NODEPOOL_RDO_PROXY}/centos8-master/delorean-deps.repo""",8,8
openstack%2Fmanila~stable%2Fvictoria~I865f07fc30f11780edb1aba11ac9868f76cab5e4,openstack/manila,stable/victoria,I865f07fc30f11780edb1aba11ac9868f76cab5e4,WIP: Set snapshot_support capabilties to false - t->u->v,ABANDONED,2021-04-07 20:20:59.000000000,2021-04-08 02:03:05.000000000,,[],"[{'number': 1, 'created': '2021-04-07 20:20:59.000000000', 'files': ['contrib/ci/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/57a7944349cc6f8fd84b92d426538a83a7706ea8', 'message': 'WIP: Set snapshot_support capabilties to false - t->u->v\n\nThe related bug (https://bugs.launchpad.net/tripleo/+bug/1922784)\nnotes that the snapshot_support capabilties should be\nfalse for releases before wallaby, and true thereafter.\n\nCombined with:\nhttps://review.opendev.org/c/openstack/tripleo-ci/+/785254\nthis review should set the snapshot_support capabilties\nto false for only t->v releases.\n\nRelated-Bug: #1922784\nChange-Id: I865f07fc30f11780edb1aba11ac9868f76cab5e4\n'}]",0,785270,57a7944349cc6f8fd84b92d426538a83a7706ea8,3,0,1,9976,,,0,"WIP: Set snapshot_support capabilties to false - t->u->v

The related bug (https://bugs.launchpad.net/tripleo/+bug/1922784)
notes that the snapshot_support capabilties should be
false for releases before wallaby, and true thereafter.

Combined with:
https://review.opendev.org/c/openstack/tripleo-ci/+/785254
this review should set the snapshot_support capabilties
to false for only t->v releases.

Related-Bug: #1922784
Change-Id: I865f07fc30f11780edb1aba11ac9868f76cab5e4
",git fetch https://review.opendev.org/openstack/manila refs/changes/70/785270/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/ci/post_test_hook.sh'],1,57a7944349cc6f8fd84b92d426538a83a7706ea8,bug1922784,CAPABILITY_CREATE_SHARE_FROM_SNAPSHOT_SUPPORT=${CAPABILITY_CREATE_SHARE_FROM_SNAPSHOT_SUPPORT:-False} CAPABILITY_SNAPSHOT_SUPPORT=${CAPABILITY_SNAPSHOT_SUPPORT:-False}iniset $TEMPEST_CONFIG share capability_snapshot_support $CAPABILITY_SNAPSHOT_SUPPORT,CAPABILITY_CREATE_SHARE_FROM_SNAPSHOT_SUPPORT=${CAPABILITY_CREATE_SHARE_FROM_SNAPSHOT_SUPPORT:-True},3,1
openstack%2Fpuppet-openstack_spec_helper~master~I481fc2e872b39284b7ea58d0fa81a3045a97fec9,openstack/puppet-openstack_spec_helper,master,I481fc2e872b39284b7ea58d0fa81a3045a97fec9,Switch to stable/wallaby,MERGED,2021-04-06 04:04:29.000000000,2021-04-08 02:01:16.000000000,2021-04-07 09:34:36.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 04:04:29.000000000', 'files': ['functions', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/dceaf7a6af6e2c09a0f30867f8ecd2a232f798fb', 'message': 'Switch to stable/wallaby\n\nChange-Id: I481fc2e872b39284b7ea58d0fa81a3045a97fec9\n'}]",0,784876,dceaf7a6af6e2c09a0f30867f8ecd2a232f798fb,12,3,1,9816,,,0,"Switch to stable/wallaby

Change-Id: I481fc2e872b39284b7ea58d0fa81a3045a97fec9
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/76/784876/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",2,dceaf7a6af6e2c09a0f30867f8ecd2a232f798fb,wallaby," sh(""git clone https://opendev.org/#{repo} -b stable/wallaby #{repo}"")"," sh(""git clone https://opendev.org/#{repo} #{repo}"")",2,2
openstack%2Foslo.privsep~master~If72e5c2b452efe495754eb189496cee92f372235,openstack/oslo.privsep,master,If72e5c2b452efe495754eb189496cee92f372235,Drop lower-constraints,ABANDONED,2021-01-27 06:18:47.000000000,2021-04-08 01:46:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-01-27 06:18:47.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/0157924628b7f99a3053b17640bbe5cdad8ac761', 'message': 'Drop lower-constraints\n\nLower-constraints is not a requirement of the OpenStack Python PTI\n[0] and there currently is a discussion on the mailing list [1]\nabout dropping the test, with the oslo team already having done\nso [2].\n\nThe new dependency resolver in pip fails due to incompatible\ndependency versions in our lower-constraints file, meaning that\nwe were never providing any real guarantees with it.\n\nTo unblock the CI, I am disabling lower-constraints job for now,\nwith the option to reenable it in case we fix the constraints,\nand based on the outcome of the mailing list discussions and\nconsensus.\n\n[0]. https://governance.openstack.org/tc/reference/pti/python.html\n[1].\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n[2].\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html\n\nChange-Id: If72e5c2b452efe495754eb189496cee92f372235\n'}]",0,772631,0157924628b7f99a3053b17640bbe5cdad8ac761,4,2,1,31412,,,0,"Drop lower-constraints

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

The new dependency resolver in pip fails due to incompatible
dependency versions in our lower-constraints file, meaning that
we were never providing any real guarantees with it.

To unblock the CI, I am disabling lower-constraints job for now,
with the option to reenable it in case we fix the constraints,
and based on the outcome of the mailing list discussions and
consensus.

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1].
http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2].
http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: If72e5c2b452efe495754eb189496cee92f372235
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/31/772631/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,0157924628b7f99a3053b17640bbe5cdad8ac761,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,0,61
openstack%2Fneutron~master~Ie69526acb94b62fd5d8db1dbddc1f24072df7a5e,openstack/neutron,master,Ie69526acb94b62fd5d8db1dbddc1f24072df7a5e,Allow 255 character strings in tags,MERGED,2021-03-29 13:01:30.000000000,2021-04-08 01:04:38.000000000,2021-04-08 01:02:51.000000000,"[{'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-29 13:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/545fa21e2a065092c5a57506d95278fc0b1f6b5c', 'message': '[WIP] Allow 255 character strings in tags\n\nIn TripleO we are moving to a model where heat is not\nused to manage neutron resources. This work relies on\nusing tags, and we are hitting the 60 characther limit.\n\nCloses-Bug: #1921713\nChange-Id: Ie69526acb94b62fd5d8db1dbddc1f24072df7a5e\n'}, {'number': 2, 'created': '2021-03-29 13:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d78e7699757ca236fe81e30c263b0b702e6ea0a', 'message': 'Allow 255 character strings in tags\n\nIn TripleO we are moving to a model where heat is not\nused to manage neutron resources. This work relies on\nusing tags, and we are hitting the 60 characther limit.\n\nThis change bumps the tag elements to 255 characters.\n\nCloses-Bug: #1921713\nChange-Id: Ie69526acb94b62fd5d8db1dbddc1f24072df7a5e\n'}, {'number': 3, 'created': '2021-03-29 13:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a021cefe607176e10a9e3f9d47af51fe5245fd06', 'message': 'Allow 255 character strings in tags\n\nIn TripleO we are moving to a model where heat is not\nused to manage neutron resources. This work relies on\nusing tags, and we are hitting the 60 characther limit.\n\nThis change bumps the tag elements to 255 characters.\n\nCloses-Bug: #1921713\nChange-Id: Ie69526acb94b62fd5d8db1dbddc1f24072df7a5e\n'}, {'number': 4, 'created': '2021-03-30 04:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d42a78f15c051ce93c3d924d461a5b30f22633ac', 'message': 'Allow 255 character strings in tags\n\nIn TripleO we are moving to a model where heat is not\nused to manage neutron resources. This work relies on\nusing tags, and we are hitting the 60 characther limit.\n\nThis change bumps the tag elements to 255 characters.\n\nCloses-Bug: #1921713\nChange-Id: Ie69526acb94b62fd5d8db1dbddc1f24072df7a5e\n'}, {'number': 5, 'created': '2021-03-30 08:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0a22855741ec515373188cac7446f036ba28119', 'message': 'Allow 255 character strings in tags\n\nIn TripleO we are moving to a model where heat is not\nused to manage neutron resources. This work relies on\nusing tags, and we are hitting the 60 characther limit.\n\nThis change bumps the tag elements to 255 characters.\n\nCloses-Bug: #1921713\nChange-Id: Ie69526acb94b62fd5d8db1dbddc1f24072df7a5e\n'}, {'number': 6, 'created': '2021-03-30 08:45:45.000000000', 'files': ['neutron/db/migration/alembic_migrations/versions/xena/expand/8df53b0d2c0e_increase_tag_elements_from_60_to_255_.py', 'releasenotes/notes/tag-elements-increased-from-60-to-255-e98455525b865333.yaml', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/models/tag.py', 'neutron/extensions/tagging.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/35c7999ebd25af4d8f0d6c82455bcf93c6538c15', 'message': 'Allow 255 character strings in tags\n\nIn TripleO we are moving to a model where heat is not\nused to manage neutron resources. This work relies on\nusing tags, and we are hitting the 60 characther limit.\n\nThis change bumps the tag elements to 255 characters.\n\nCloses-Bug: #1921713\nChange-Id: Ie69526acb94b62fd5d8db1dbddc1f24072df7a5e\n'}]",13,783647,35c7999ebd25af4d8f0d6c82455bcf93c6538c15,90,8,6,24245,,,0,"Allow 255 character strings in tags

In TripleO we are moving to a model where heat is not
used to manage neutron resources. This work relies on
using tags, and we are hitting the 60 characther limit.

This change bumps the tag elements to 255 characters.

Closes-Bug: #1921713
Change-Id: Ie69526acb94b62fd5d8db1dbddc1f24072df7a5e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/783647/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/CONTRACT_HEAD', 'neutron/db/migration/alembic_migrations/versions/wallaby/contract/8df53b0d2c0e_increase_tag_elements_from_60_to_255_.py', 'neutron/db/models/tag.py']",3,545fa21e2a065092c5a57506d95278fc0b1f6b5c,bug/1921713," tag = sa.Column(sa.String(255), nullable=False, primary_key=True)"," tag = sa.Column(sa.String(60), nullable=False, primary_key=True)",40,2
openstack%2Fdevstack~master~I42f67361fe50795d929752434342effddf123486,openstack/devstack,master,I42f67361fe50795d929752434342effddf123486,Update DEVSTACK_SERIES to xena,MERGED,2021-04-06 15:35:49.000000000,2021-04-08 01:04:31.000000000,2021-04-08 01:03:01.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-06 15:35:49.000000000', 'files': ['stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/25d37efb9154f2f08e094f4dda3366a7bcd0af31', 'message': 'Update DEVSTACK_SERIES to xena\n\nstable/wallaby branch has been created now and\ncurrent master is for xena.\n\nChange-Id: I42f67361fe50795d929752434342effddf123486\n'}]",0,784975,25d37efb9154f2f08e094f4dda3366a7bcd0af31,16,3,1,8556,,,0,"Update DEVSTACK_SERIES to xena

stable/wallaby branch has been created now and
current master is for xena.

Change-Id: I42f67361fe50795d929752434342effddf123486
",git fetch https://review.opendev.org/openstack/devstack refs/changes/75/784975/1 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,25d37efb9154f2f08e094f4dda3366a7bcd0af31,qa-wallaby-release,"DEVSTACK_SERIES=""xena""","DEVSTACK_SERIES=""wallaby""",1,1
openstack%2Fpython-solumclient~stable%2Fwallaby~I5b5176400972f323d1a2675cb351b6a183246db4,openstack/python-solumclient,stable/wallaby,I5b5176400972f323d1a2675cb351b6a183246db4,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-15 08:55:33.000000000,2021-04-08 00:57:39.000000000,2021-04-08 00:55:59.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-15 08:55:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/1dea59b7fb9ae8d19cb3bbecf67d86db32707634', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I5b5176400972f323d1a2675cb351b6a183246db4\n'}]",0,780502,1dea59b7fb9ae8d19cb3bbecf67d86db32707634,9,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I5b5176400972f323d1a2675cb351b6a183246db4
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/02/780502/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1dea59b7fb9ae8d19cb3bbecf67d86db32707634,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fmurano-agent~stable%2Fwallaby~I71d4fb2629deeddc85931f4f234599a2d5c05384,openstack/murano-agent,stable/wallaby,I71d4fb2629deeddc85931f4f234599a2d5c05384,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-03-26 18:33:34.000000000,2021-04-08 00:57:21.000000000,2021-04-08 00:56:14.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 18:33:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/018a92480906a804858d9ad86724c170efcf80ad', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I71d4fb2629deeddc85931f4f234599a2d5c05384\n'}]",0,783419,018a92480906a804858d9ad86724c170efcf80ad,9,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I71d4fb2629deeddc85931f4f234599a2d5c05384
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/19/783419/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,018a92480906a804858d9ad86724c170efcf80ad,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fpython-solumclient~stable%2Fwallaby~If82e4be9b8a8e491f55695df2f09d028a3e9c4ea,openstack/python-solumclient,stable/wallaby,If82e4be9b8a8e491f55695df2f09d028a3e9c4ea,Update .gitreview for stable/wallaby,MERGED,2021-03-15 08:55:29.000000000,2021-04-08 00:56:43.000000000,2021-04-08 00:55:31.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-15 08:55:29.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/6311ab80bd13505e5af3a21e0a39b188c00b7fef', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: If82e4be9b8a8e491f55695df2f09d028a3e9c4ea\n'}]",0,780501,6311ab80bd13505e5af3a21e0a39b188c00b7fef,9,2,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: If82e4be9b8a8e491f55695df2f09d028a3e9c4ea
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/01/780501/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,6311ab80bd13505e5af3a21e0a39b188c00b7fef,create-wallaby,project=openstack/python-solumclient.git defaultbranch=stable/wallaby ,project=openstack/python-solumclient.git,2,1
openstack%2Fmurano-agent~stable%2Fwallaby~Ia31217b008fbc331b3d6afaea88428e9d1653ed4,openstack/murano-agent,stable/wallaby,Ia31217b008fbc331b3d6afaea88428e9d1653ed4,Update .gitreview for stable/wallaby,MERGED,2021-03-26 18:33:24.000000000,2021-04-08 00:56:09.000000000,2021-04-08 00:56:09.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 18:33:24.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/ea86567619facdff88518faae5e43c51b74ef053', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Ia31217b008fbc331b3d6afaea88428e9d1653ed4\n'}]",0,783418,ea86567619facdff88518faae5e43c51b74ef053,8,2,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: Ia31217b008fbc331b3d6afaea88428e9d1653ed4
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/18/783418/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ea86567619facdff88518faae5e43c51b74ef053,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Ftacker~master~I80409c256711948286ee39b555414ea0d0e738ba,openstack/tacker,master,I80409c256711948286ee39b555414ea0d0e738ba,[DNM] Check Zuul Issues for ChgExtConnectivity       All merged files.,ABANDONED,2021-03-10 12:19:26.000000000,2021-04-08 00:26:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-10 12:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7202a5ef5e3cab87bcebc1e61911c6861aa2b2e1', 'message': '[DNM] Check Zuul Issues for ChgExtConnectivity\n      All merged files.\n\nChange-Id: I80409c256711948286ee39b555414ea0d0e738ba\n'}, {'number': 2, 'created': '2021-03-10 15:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9f2009ae186c7c242e7c2dc8aad35795b1364111', 'message': '[DNM] Check Zuul Issues for ChgExtConnectivity\n      All merged files.\n\nChange-Id: I80409c256711948286ee39b555414ea0d0e738ba\n'}, {'number': 3, 'created': '2021-03-11 08:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f26ebfd02bda805a384e31ef5ea59ddd7e7c244b', 'message': '[DNM] Check Zuul Issues for ChgExtConnectivity\n      All merged files.\n\nChange-Id: I80409c256711948286ee39b555414ea0d0e738ba\n'}, {'number': 4, 'created': '2021-03-11 15:34:48.000000000', 'files': ['api-ref/source/v1/parameters_vnflcm.yaml', 'tacker/tests/unit/vnfm/lcm_user_data/utils/test_utils.py', 'tacker/vnfm/lcm_user_data/utils.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/objects/__init__.py', 'tacker/extensions/vnfm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'api-ref/source/v1/samples/vnflcm/fail-vnf-instance-response.json', 'tacker/db/db_sqlalchemy/models.py', 'tacker/objects/fields.py', 'tools/test-setup.sh', 'api-ref/source/v1/samples/vnflcm/change-ext-conn-request.json', 'tacker/tests/unit/objects/test_change_ext_conn_req.py', 'tacker/api/views/vnf_lcm.py', 'tacker/api/common/attribute_filter.py', 'tacker/objects/instantiate_vnf_req.py', 'tacker/vnfm/mgmt_drivers/vnflcm_abstract_driver.py', 'tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/vnfm/mgmt_drivers/vnflcm_noop.py', 'tacker/api/schemas/vnf_lcm.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/objects/grant_request.py', 'tacker/vnfm/infra_drivers/noop.py', 'api-ref/source/v1/samples/vnflcm/show-vnflcm-operation-occurrence-response.json', 'tacker/tests/unit/conductor/fakes.py', 'tacker/tests/unit/objects/test_vnf_lcm_op_occs.py', 'tacker/tests/unit/objects/test_grant.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/fixture_data/fixture_data_utils.py', 'tacker/tests/functional/sol_separated_nfvo/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/vnflcm/vnflcm_driver.py', 'api-ref/source/v1/vnflcm.inc', 'tacker/conductor/conductorrpc/vnf_lcm_rpc.py', 'tacker/objects/change_ext_conn_req.py', 'tacker/common/exceptions.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/functional/sol/vnflcm/fake_vnflcm.py', 'tacker/api/views/vnf_lcm_op_occs.py', 'tacker/tests/unit/objects/test_grant_request.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/tests/functional/sol/vnflcm/base.py', 'tacker/tests/functional/sol/vnflcm/test_vnf_instance_with_user_data.py', 'tacker/vnflcm/utils.py', 'api-ref/source/v1/samples/vnflcm/list-vnflcm-operation-occurrence-response.json', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/db/migration/alembic_migrations/versions/3adac34764da_add_column_to_vnf_lcm_op_occs.py', 'tacker/tests/unit/objects/fakes.py', 'tacker/objects/grant.py', 'tacker/vnfm/infra_drivers/openstack/heat_client.py', 'tacker/conductor/conductor_server.py', 'tacker/vnfm/infra_drivers/abstract_driver.py', 'tacker/db/vnfm/vnfm_db.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/4c035ad5a09f764b2ee14af1de8b315cdeac3903', 'message': '[DNM] Check Zuul Issues for ChgExtConnectivity\n      All merged files.\n\nChange-Id: I80409c256711948286ee39b555414ea0d0e738ba\n'}]",4,779724,4c035ad5a09f764b2ee14af1de8b315cdeac3903,14,1,4,32219,,,0,"[DNM] Check Zuul Issues for ChgExtConnectivity
      All merged files.

Change-Id: I80409c256711948286ee39b555414ea0d0e738ba
",git fetch https://review.opendev.org/openstack/tacker refs/changes/24/779724/3 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v1/parameters_vnflcm.yaml', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/objects/__init__.py', 'tacker/extensions/vnfm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'api-ref/source/v1/samples/vnflcm/fail-vnf-instance-response.json', 'tacker/db/db_sqlalchemy/models.py', 'tacker/objects/fields.py', 'api-ref/source/v1/samples/vnflcm/change-ext-conn-request.json', 'tacker/tests/unit/objects/test_change_ext_conn_req.py', 'tacker/api/views/vnf_lcm.py', 'tacker/api/common/attribute_filter.py', 'tacker/objects/instantiate_vnf_req.py', 'tacker/vnfm/mgmt_drivers/vnflcm_abstract_driver.py', 'tacker/db/migration/alembic_migrations/versions/HEAD', 'tacker/vnfm/mgmt_drivers/vnflcm_noop.py', 'tacker/api/schemas/vnf_lcm.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/objects/grant_request.py', 'tacker/vnfm/infra_drivers/noop.py', 'api-ref/source/v1/samples/vnflcm/show-vnflcm-operation-occurrence-response.json', 'tacker/tests/unit/conductor/fakes.py', 'tacker/tests/unit/objects/test_vnf_lcm_op_occs.py', 'tacker/tests/unit/objects/test_grant.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/fixture_data/fixture_data_utils.py', 'tacker/tests/functional/sol_separated_nfvo/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/vnflcm/vnflcm_driver.py', 'api-ref/source/v1/vnflcm.inc', 'tacker/tests/unit/vnflcm/test_load_vnf_interfaces.py', 'tacker/conductor/conductorrpc/vnf_lcm_rpc.py', 'tacker/objects/change_ext_conn_req.py', 'tacker/common/exceptions.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/functional/sol/vnflcm/fake_vnflcm.py', 'tacker/api/views/vnf_lcm_op_occs.py', 'tacker/tests/unit/objects/test_grant_request.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/tests/functional/sol/vnflcm/base.py', 'tacker/tests/functional/sol/vnflcm/test_vnf_instance_with_user_data.py', 'tacker/vnflcm/utils.py', 'api-ref/source/v1/samples/vnflcm/list-vnflcm-operation-occurrence-response.json', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/db/migration/alembic_migrations/versions/3adac34764da_add_column_to_vnf_lcm_op_occs.py', 'tacker/tests/unit/objects/fakes.py', 'tacker/objects/grant.py', 'tacker/vnfm/infra_drivers/openstack/heat_client.py', 'tacker/conductor/conductor_server.py', 'tacker/vnfm/infra_drivers/abstract_driver.py', 'tacker/db/vnfm/vnfm_db.py']",55,7202a5ef5e3cab87bcebc1e61911c6861aa2b2e1,DNMPatch," def update_vnf_fail_status(self, context, vnf_id, status): with context.session.begin(subtransactions=True): self._update_vnf_status_db( context, vnf_id, ['ERROR'], status) ",,5353,94
openstack%2Fhorizon~stable%2Fwallaby~I3ab26c19dc9ea1ed23fcff790d0db919039099eb,openstack/horizon,stable/wallaby,I3ab26c19dc9ea1ed23fcff790d0db919039099eb,Save instace_id inside Associate Floating IP workflow,MERGED,2021-04-07 10:21:01.000000000,2021-04-08 00:11:54.000000000,2021-04-08 00:10:31.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 10:21:01.000000000', 'files': ['openstack_dashboard/test/integration_tests/pages/project/network/floatingipspage.py', 'openstack_dashboard/dashboards/project/floating_ips/tests.py', 'openstack_dashboard/dashboards/project/floating_ips/workflows.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/12d468dc422356ed723b36da1c5f48f702e3a39a', 'message': ""Save instace_id inside Associate Floating IP workflow\n\nAlso, rename instance_id field to proper port_id.\n\nBefore this change, when instance_id was passed from the Instances\npage in the URL, the information would be lost on form submission,\nand if the form contained an error, the it would be redisplayed with\nthe port drop-down containing all ports from all instances. This also\nmade submitting this form slow, as the drop-down would be populated\nwith all ports on form validation.\n\nIt also creates a bug, where if there are more instances than Nova's\npagination allows, the ports from newer instances would no longer\nappear in the drop-down, and the form would fail to validate, even\nthough the choice of port on initial form was correct.\n\nCloses-bug: #1920010\nChange-Id: I3ab26c19dc9ea1ed23fcff790d0db919039099eb\n(cherry picked from commit 3d82d57353d1a29fb5b568ffaa93db86998e9d94)\n""}]",0,785124,12d468dc422356ed723b36da1c5f48f702e3a39a,10,3,1,1736,,,0,"Save instace_id inside Associate Floating IP workflow

Also, rename instance_id field to proper port_id.

Before this change, when instance_id was passed from the Instances
page in the URL, the information would be lost on form submission,
and if the form contained an error, the it would be redisplayed with
the port drop-down containing all ports from all instances. This also
made submitting this form slow, as the drop-down would be populated
with all ports on form validation.

It also creates a bug, where if there are more instances than Nova's
pagination allows, the ports from newer instances would no longer
appear in the drop-down, and the form would fail to validate, even
though the choice of port on initial form was correct.

Closes-bug: #1920010
Change-Id: I3ab26c19dc9ea1ed23fcff790d0db919039099eb
(cherry picked from commit 3d82d57353d1a29fb5b568ffaa93db86998e9d94)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/24/785124/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/integration_tests/pages/project/network/floatingipspage.py', 'openstack_dashboard/dashboards/project/floating_ips/tests.py', 'openstack_dashboard/dashboards/project/floating_ips/workflows.py']",3,12d468dc422356ed723b36da1c5f48f702e3a39a,fip-port-id-stable/wallaby," instance_id = forms.CharField( widget=forms.widgets.HiddenInput(), required=False, ) port_id = forms.ThemableChoiceField( q_instance_id = self.data.get('instance_id', self.request.GET.get('instance_id')) self.initial['instance_id'] = q_instance_id self.initial['port_id'] = targets[0].id else: self.initial['port_id'] = '' self.initial['port_id'] = target.id def populate_port_id_choices(self, request, context): q_instance_id = self.data.get('instance_id', self.initial.get('instance_id')) contributes = (""ip_id"", ""instance_id"", ""ip_address"", ""port_id"") data['port_id'])"," instance_id = forms.ThemableChoiceField( q_instance_id = self.request.GET.get('instance_id') self.initial['instance_id'] = targets[0].id else: self.initial['instance_id'] = '' self.initial['instance_id'] = target.id # TODO(amotoki): [drop-nova-network] Rename instance_id to port_id def populate_instance_id_choices(self, request, context): q_instance_id = self.request.GET.get('instance_id') contributes = (""ip_id"", ""instance_id"", ""ip_address"") data['instance_id'])",22,16
openstack%2Fkayobe~master~I02c76344bcb0b350fd96010becca52f259e1ee6f,openstack/kayobe,master,I02c76344bcb0b350fd96010becca52f259e1ee6f,CI: Switch to CentOS Stream 8,MERGED,2021-03-31 16:10:02.000000000,2021-04-07 23:32:51.000000000,2021-04-07 23:28:52.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-03-31 16:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/daf14caae556762b745ece5e2bc4fe1020e450b1', 'message': 'CI: Switch to CentOS 8 stream\n\nChange-Id: I02c76344bcb0b350fd96010becca52f259e1ee6f\n'}, {'number': 2, 'created': '2021-04-01 14:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/57280b59db011ad91cc0c773ecd684e7dff1ac9d', 'message': 'CI: Switch to CentOS Stream 8\n\nThis change switches CentOS CI jobs to use CentOS stream 8 nodepool\nimages. Kolla containers switched to CentOS stream already.\n\nStory: 2008795\nTask: 42196\n\nChange-Id: I02c76344bcb0b350fd96010becca52f259e1ee6f\n'}, {'number': 3, 'created': '2021-04-06 11:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b61f33ac2fe13e65556ab7eed9969a7b1865fa3a', 'message': 'CI: Switch to CentOS Stream 8\n\nThis change switches CentOS CI jobs to use CentOS stream 8 nodepool\nimages. Kolla containers switched to CentOS stream already.\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/784926\n\nStory: 2008795\nTask: 42196\n\nChange-Id: I02c76344bcb0b350fd96010becca52f259e1ee6f\n'}, {'number': 4, 'created': '2021-04-06 13:11:16.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2c21bb01721987f497607ef71e22913edfaafabb', 'message': 'CI: Switch to CentOS Stream 8\n\nThis change switches CentOS CI jobs to use CentOS stream 8 nodepool\nimages. Kolla containers switched to CentOS stream already.\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/784926\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/784853\n\nStory: 2008795\nTask: 42196\n\nChange-Id: I02c76344bcb0b350fd96010becca52f259e1ee6f\n'}]",1,784118,2c21bb01721987f497607ef71e22913edfaafabb,36,4,4,14826,,,0,"CI: Switch to CentOS Stream 8

This change switches CentOS CI jobs to use CentOS stream 8 nodepool
images. Kolla containers switched to CentOS stream already.

Depends-On: https://review.opendev.org/c/openstack/kayobe/+/784926
Depends-On: https://review.opendev.org/c/openstack/kayobe/+/784853

Story: 2008795
Task: 42196

Change-Id: I02c76344bcb0b350fd96010becca52f259e1ee6f
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/18/784118/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml']",3,daf14caae556762b745ece5e2bc4fe1020e450b1,centos-stream, name: kayobe-overcloud-centos8s nodeset: kayobe-centos8s name: kayobe-overcloud-tls-centos8s nodeset: kayobe-centos8s name: kayobe-overcloud-upgrade-centos8s nodeset: kayobe-centos8s name: kayobe-seed-centos8s nodeset: kayobe-centos8s name: kayobe-overcloud-host-configure-centos8s nodeset: kayobe-centos8s name: kayobe-seed-upgrade-centos8s nodeset: kayobe-centos8s name: kayobe-seed-vm-centos8s nodeset: kayobe-centos8s, name: kayobe-overcloud-centos8 nodeset: kayobe-centos8 name: kayobe-overcloud-tls-centos8 nodeset: kayobe-centos8 name: kayobe-overcloud-upgrade-centos8 nodeset: kayobe-centos8 name: kayobe-seed-centos8 nodeset: kayobe-centos8 name: kayobe-overcloud-host-configure-centos8 nodeset: kayobe-centos8 name: kayobe-seed-upgrade-centos8 nodeset: kayobe-centos8 name: kayobe-seed-vm-centos8 nodeset: kayobe-centos8,41,35
openstack%2Fkayobe~master~I468d4e0460c13791b9f01d5854ef45472528c6fe,openstack/kayobe,master,I468d4e0460c13791b9f01d5854ef45472528c6fe,CentOS Stream 8: Use /usr/bin/which instead of bash function,MERGED,2021-04-06 11:30:07.000000000,2021-04-07 23:25:31.000000000,2021-04-07 23:23:18.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 11:30:07.000000000', 'files': ['dev/functions'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3084cf67cec2141b05bd9035b41d857e22dbc115', 'message': ""CentOS Stream 8: Use /usr/bin/which instead of bash function\n\nA bug has been introduced to the which package in CentOS Stream 8 which\ncauses it to fail when used with the following bash options:\n\nset -u\nset -o pipefail\n\nThen, when running which we see the following output:\n\nenvironment: line 1: _declare: unbound variable\n\nAs found by Pierre, this seems to be caused by the implementation of\nwhich as a bash function which references an unbound variable\n(_declare). It's tracked in Fedora by\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1944877#.\n\nThis change works around the issue by using the /usr/bin/which binary.\n\nCo-Authored-By: Pierre Riteau <pierre@stackhpc.com>\n\nChange-Id: I468d4e0460c13791b9f01d5854ef45472528c6fe\nStory: 2008795\nTask: 42215\n""}]",0,784926,3084cf67cec2141b05bd9035b41d857e22dbc115,15,3,1,14826,,,0,"CentOS Stream 8: Use /usr/bin/which instead of bash function

A bug has been introduced to the which package in CentOS Stream 8 which
causes it to fail when used with the following bash options:

set -u
set -o pipefail

Then, when running which we see the following output:

environment: line 1: _declare: unbound variable

As found by Pierre, this seems to be caused by the implementation of
which as a bash function which references an unbound variable
(_declare). It's tracked in Fedora by
https://bugzilla.redhat.com/show_bug.cgi?id=1944877#.

This change works around the issue by using the /usr/bin/which binary.

Co-Authored-By: Pierre Riteau <pierre@stackhpc.com>

Change-Id: I468d4e0460c13791b9f01d5854ef45472528c6fe
Story: 2008795
Task: 42215
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/26/784926/1 && git format-patch -1 --stdout FETCH_HEAD,['dev/functions'],1,3084cf67cec2141b05bd9035b41d857e22dbc115,centos-stream, /usr/bin/which dnf >/dev/null 2>&1 /usr/bin/which yum >/dev/null 2>&1, which dnf >/dev/null 2>&1 which yum >/dev/null 2>&1,2,2
openstack%2Fneutron-tempest-plugin~master~I75088a92726821cea678417fc16d7c239e32bc81,openstack/neutron-tempest-plugin,master,I75088a92726821cea678417fc16d7c239e32bc81,Switch to new rolevar for run-temepst role,MERGED,2021-02-11 19:20:34.000000000,2021-04-07 23:11:20.000000000,2021-04-07 23:11:20.000000000,"[{'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 19:20:34.000000000', 'files': ['zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ff54bba976d2e78b67920769af9014998d6dad52', 'message': 'Switch to new rolevar for run-temepst role\n\nTempest replaced the below rolevar for run-tempest role\n- tempest_test_blacklist is replaced by tempest_test_exclude_list\n- tempest_black_regex is replaced by tempest_exclude_regex\n\nold name are still supported for compatiblity but we recommend\nto switch to new one.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/774835\nChange-Id: I75088a92726821cea678417fc16d7c239e32bc81\n'}]",3,775257,ff54bba976d2e78b67920769af9014998d6dad52,28,4,1,8556,,,0,"Switch to new rolevar for run-temepst role

Tempest replaced the below rolevar for run-tempest role
- tempest_test_blacklist is replaced by tempest_test_exclude_list
- tempest_black_regex is replaced by tempest_exclude_regex

old name are still supported for compatiblity but we recommend
to switch to new one.

Depends-On: https://review.opendev.org/c/openstack/tempest/+/774835
Change-Id: I75088a92726821cea678417fc16d7c239e32bc81
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/57/775257/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,ff54bba976d2e78b67920769af9014998d6dad52,inclusive_jargon," tempest_exclude_regex: ""(^neutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_subport_connectivity)"" tempest_exclude_regex: ""(^neutron_tempest_plugin.scenario.test_vlan_transparency.VlanTransparencyTest)"" tempest_exclude_regex: ""\"," tempest_black_regex: ""(^neutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_subport_connectivity)"" tempest_black_regex: ""(^neutron_tempest_plugin.scenario.test_vlan_transparency.VlanTransparencyTest)"" tempest_black_regex: ""\",3,3
openstack%2Fcharm-ceph-fs~master~I6be25d404436647a19e18231ccd0985dd49bb858,openstack/charm-ceph-fs,master,I6be25d404436647a19e18231ccd0985dd49bb858,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:21:38.000000000,2021-04-07 23:08:08.000000000,2021-04-07 23:08:08.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-03 19:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/981c5b47a0504a94cb25594240a92865a6a3afab', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I6be25d404436647a19e18231ccd0985dd49bb858\n'}, {'number': 2, 'created': '2021-04-07 17:48:49.000000000', 'files': ['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/46797fc9869d86352e513aa4f7a26c0d9ab3c6ec', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\n* Manual fix to build.lock to work around bug [1]\n\n[1] https://github.com/juju/charm-tools/issues/603\n\nChange-Id: I6be25d404436647a19e18231ccd0985dd49bb858\n'}]",0,784638,46797fc9869d86352e513aa4f7a26c0d9ab3c6ec,13,3,2,20870,,,0,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

* Manual fix to build.lock to work around bug [1]

[1] https://github.com/juju/charm-tools/issues/603

Change-Id: I6be25d404436647a19e18231ccd0985dd49bb858
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/38/784638/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini']",5,981c5b47a0504a94cb25594240a92865a6a3afab,libraries-sync-21-04, charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs} [testenv:add-build-lock-file] basepython = python3 commands = charm-build --log-level DEBUG --write-lock-file -o {toxinidir}/build/builds src {posargs}, charm-build --log-level DEBUG -o {toxinidir}/build/builds src {posargs},209,6
openstack%2Fpuppet-tripleo~stable%2Ftrain~Idc463119cbd183f34ae206be55c695818ee9c9b5,openstack/puppet-tripleo,stable/train,Idc463119cbd183f34ae206be55c695818ee9c9b5,Add missing unit tests for heat manifests,MERGED,2021-04-01 08:57:32.000000000,2021-04-07 23:06:49.000000000,2021-04-07 23:06:49.000000000,"[{'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 08:57:32.000000000', 'files': ['spec/classes/tripleo_profile_base_heat_api_spec.rb', 'spec/classes/tripleo_profile_base_heat_api_cfn_spec.rb', 'spec/classes/tripleo_profile_base_heat_engine_spec.rb', 'spec/fixtures/hieradata/default.yaml', 'spec/classes/tripleo_profile_base_heat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f11ed7def20bf9f6a7403ec75fb3d7a61fbe3c1b', 'message': 'Add missing unit tests for heat manifests\n\nChange-Id: Idc463119cbd183f34ae206be55c695818ee9c9b5\n(cherry picked from commit 1b54512b2ffd94694a6ab3d096bec35f81fb0cb4)\n'}]",0,784049,f11ed7def20bf9f6a7403ec75fb3d7a61fbe3c1b,10,4,1,9816,,,0,"Add missing unit tests for heat manifests

Change-Id: Idc463119cbd183f34ae206be55c695818ee9c9b5
(cherry picked from commit 1b54512b2ffd94694a6ab3d096bec35f81fb0cb4)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/49/784049/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_heat_api_spec.rb', 'spec/classes/tripleo_profile_base_heat_api_cfn_spec.rb', 'spec/classes/tripleo_profile_base_heat_engine_spec.rb', 'spec/fixtures/hieradata/default.yaml', 'spec/classes/tripleo_profile_base_heat_spec.rb']",5,f11ed7def20bf9f6a7403ec75fb3d7a61fbe3c1b,heat-cache-stable/train,"# # Copyright (C) 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # require 'spec_helper' describe 'tripleo::profile::base::heat' do shared_examples_for 'tripleo::profile::base::heat' do let(:pre_condition) do <<-eos class { 'tripleo::profile::base::heat::authtoken': step => #{params[:step]}, } eos end context 'with step less than 3' do let(:params) { { :step => 1 } } it 'should do nothing' do is_expected.to contain_class('tripleo::profile::base::heat') is_expected.to contain_class('tripleo::profile::base::heat::authtoken') is_expected.to_not contain_class('heat::keystone::domain') is_expected.to_not contain_class('heat') is_expected.to_not contain_class('heat::config') is_expected.to_not contain_class('heat::cors') is_expected.to_not contain_class('heat::logging') is_expected.to_not contain_class('heat::cache') is_expected.to_not contain_class('heat::cron::purge_deleted') end end context 'with step 3' do let(:params) { { :step => 3, :oslomsg_rpc_hosts => [ '192.168.0.1' ], :oslomsg_rpc_username => 'heat1', :oslomsg_rpc_password => 'foo', :oslomsg_rpc_port => '1234', :oslomsg_notify_hosts => [ '192.168.0.2' ], :oslomsg_notify_username => 'heat2', :oslomsg_notify_password => 'baa', :oslomsg_notify_port => '5678' } } it 'should trigger complete configuration without db_purge' do is_expected.to contain_class('tripleo::profile::base::heat') is_expected.to contain_class('tripleo::profile::base::heat::authtoken') is_expected.to contain_class('heat::keystone::domain').with( :manage_domain => false, :manage_user => false, :manage_role => false ) is_expected.to contain_class('heat').with( :default_transport_url => 'rabbit://heat1:foo@192.168.0.1:1234/?ssl=0', :notification_transport_url => 'rabbit://heat2:baa@192.168.0.2:5678/?ssl=0' ) is_expected.to contain_class('heat::config') is_expected.to contain_class('heat::cors') is_expected.to contain_class('heat::logging') is_expected.to contain_class('heat::cache') is_expected.to_not contain_class('heat::cron::purge_deleted') end end context 'with step 5' do let(:params) { { :step => 5, :oslomsg_rpc_hosts => [ '192.168.0.1' ], :oslomsg_rpc_username => 'heat1', :oslomsg_rpc_password => 'foo', :oslomsg_rpc_port => '1234', :oslomsg_notify_hosts => [ '192.168.0.2' ], :oslomsg_notify_username => 'heat2', :oslomsg_notify_password => 'baa', :oslomsg_notify_port => '5678' } } it 'should trigger complete configuration' do is_expected.to contain_class('tripleo::profile::base::heat') is_expected.to contain_class('tripleo::profile::base::heat::authtoken') is_expected.to contain_class('heat::keystone::domain').with( :manage_domain => false, :manage_user => false, :manage_role => false ) is_expected.to contain_class('heat').with( :default_transport_url => 'rabbit://heat1:foo@192.168.0.1:1234/?ssl=0', :notification_transport_url => 'rabbit://heat2:baa@192.168.0.2:5678/?ssl=0' ) is_expected.to contain_class('heat::config') is_expected.to contain_class('heat::cors') is_expected.to contain_class('heat::logging') is_expected.to contain_class('heat::cache') is_expected.to contain_class('heat::cron::purge_deleted') end end context 'with step 5 without db_purge' do let(:params) { { :step => 3, :bootstrap_node => 'node.example.com', :oslomsg_rpc_hosts => [ '192.168.0.1' ], :oslomsg_rpc_username => 'heat1', :oslomsg_rpc_password => 'foo', :oslomsg_rpc_port => '1234', :oslomsg_notify_hosts => [ '192.168.0.2' ], :oslomsg_notify_username => 'heat2', :oslomsg_notify_password => 'baa', :oslomsg_notify_port => '5678', :manage_db_purge => false } } it 'should trigger complete configuration without db_purge' do is_expected.to contain_class('tripleo::profile::base::heat') is_expected.to contain_class('tripleo::profile::base::heat::authtoken') is_expected.to contain_class('heat::keystone::domain').with( :manage_domain => false, :manage_user => false, :manage_role => false ) is_expected.to contain_class('heat').with( :default_transport_url => 'rabbit://heat1:foo@192.168.0.1:1234/?ssl=0', :notification_transport_url => 'rabbit://heat2:baa@192.168.0.2:5678/?ssl=0' ) is_expected.to contain_class('heat::config') is_expected.to contain_class('heat::cors') is_expected.to contain_class('heat::logging') is_expected.to contain_class('heat::cache') is_expected.to_not contain_class('heat::cron::purge_deleted') end end end on_supported_os.each do |os, facts| context ""on #{os}"" do let(:facts) do facts.merge({ :hostname => 'node.example.com' }) end it_behaves_like 'tripleo::profile::base::heat' end end end ",,468,0
openstack%2Ftripleo-quickstart-extras~master~If28d5b225439162b7983165fe3bea605971cfb74,openstack/tripleo-quickstart-extras,master,If28d5b225439162b7983165fe3bea605971cfb74,Collect and output outputs/passwords files with old and new locations,MERGED,2021-03-31 11:31:26.000000000,2021-04-07 23:06:45.000000000,2021-04-07 23:06:45.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-31 11:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f3044c4c636a7b1164b46d5f05e6b5976b348488', 'message': 'Collect first_found outputs/passwords file\n\nIn Idded7faba1ff6c811b94503c559029aeeaca6a06, we are changing the\ndefault path for tripleo-undercloud-outputs.yaml and\ntripleo-undercloud-passwords.yaml. These tasks in CI that expect the\nfiles to exist at the old location are updated to use the first_found\nlookup to check both the old and new paths.\n\nOnce the tripleoclient patch merges, we can update these tasks to only\nlook at the new path.\n\nPartial-Bug: #1921975\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: If28d5b225439162b7983165fe3bea605971cfb74\n'}, {'number': 2, 'created': '2021-04-06 18:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e3379b13170ee2ace1c05f178ec82dfe13f1ce54', 'message': 'Collect first_found outputs/passwords file\n\nIn Idded7faba1ff6c811b94503c559029aeeaca6a06, we are changing the\ndefault path for tripleo-undercloud-outputs.yaml and\ntripleo-undercloud-passwords.yaml. These tasks in CI that expect the\nfiles to exist at the old location are updated to use the first_found\nlookup to check both the old and new paths.\n\nLikewise, when the output files are written on the minion, they are\nwritten to both the old and new locations until the tripleoclient patch\nmerges.\n\nOnce the tripleoclient patch merges, we can update these tasks to only\nlook at the new path.\n\nPartial-Bug: #1921975\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: If28d5b225439162b7983165fe3bea605971cfb74\n'}, {'number': 3, 'created': '2021-04-07 13:32:41.000000000', 'files': ['roles/undercloud-setup/defaults/main.yml', 'roles/undercloud-setup/tasks/write-outputs.yml', 'roles/undercloud-deploy/tasks/gather-outputs.yml', 'playbooks/multinode-undercloud-minion.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8b65d49b74bc441eeaa5fbd6ce8586bd73aab715', 'message': 'Collect and output outputs/passwords files with old and new locations\n\nIn Idded7faba1ff6c811b94503c559029aeeaca6a06, we are changing the\ndefault path for tripleo-undercloud-outputs.yaml and\ntripleo-undercloud-passwords.yaml. These tasks in CI that expect the\nfiles to exist at the old location are updated to use the first_found\nlookup to check both the old and new paths.\n\nLikewise, when the output files are written on the minion, they are\nwritten to both the old and new locations until the tripleoclient patch\nmerges.\n\nOnce the tripleoclient patch merges, we can update these tasks to only\nlook at the new path.\n\nPartial-Bug: #1921975\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: If28d5b225439162b7983165fe3bea605971cfb74\n'}]",0,784076,8b65d49b74bc441eeaa5fbd6ce8586bd73aab715,15,5,3,7144,,,0,"Collect and output outputs/passwords files with old and new locations

In Idded7faba1ff6c811b94503c559029aeeaca6a06, we are changing the
default path for tripleo-undercloud-outputs.yaml and
tripleo-undercloud-passwords.yaml. These tasks in CI that expect the
files to exist at the old location are updated to use the first_found
lookup to check both the old and new paths.

Likewise, when the output files are written on the minion, they are
written to both the old and new locations until the tripleoclient patch
merges.

Once the tripleoclient patch merges, we can update these tasks to only
look at the new path.

Partial-Bug: #1921975
Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: If28d5b225439162b7983165fe3bea605971cfb74
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/76/784076/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-deploy/tasks/gather-outputs.yml'],1,f3044c4c636a7b1164b46d5f05e6b5976b348488,," src: ""{{ lookup('first_found', output_paths, errors='ignore') }}"" vars: output_paths: - ""{{ working_dir }}/tripleo-undercloud-outputs.yaml"" - ""{{ working_dir }}/tripleo-deploy/undercloud/tripleo-undercloud-outputs.yaml"" src: ""{{ lookup('first_found', password_paths, errors='ignore') }}"" vars: password_paths: - ""{{ working_dir }}/tripleo-undercloud-passwords.yaml"" - ""{{ working_dir }}/tripleo-deploy/undercloud/tripleo-undercloud-passwords.yaml"""," src: ""{{ working_dir }}/tripleo-undercloud-outputs.yaml"" src: ""{{ working_dir }}/tripleo-undercloud-passwords.yaml""",10,2
openstack%2Fnova~stable%2Fussuri~I3b597a46314a1b29a952fc0f7a9c4537341e37b8,openstack/nova,stable/ussuri,I3b597a46314a1b29a952fc0f7a9c4537341e37b8,Add missing exception,MERGED,2020-11-19 14:54:40.000000000,2021-04-07 22:49:07.000000000,2021-04-07 22:47:03.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-11-19 14:54:40.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8f65de96a07623c6a8a9cd49db942ad6d4d3ab03', 'message': ""Add missing exception\n\nChange Idd49b0c70caedfcd42420ffa2ac926a6087d406e added support for\ndiscovery of PMEM devices by the libvirt driver. Some error handling\ncode in this was expected to raise a 'GetPMEMNamespacesFailed'\nexception, however, a typo meant the exception was actually called\n'GetPMEMNamespaceFailed' (singular). This exception was later removed in\nchange I6fd027fb51823b8a8a24ed7b864a2191c4e8e8c0 because it had no\nreferences.\n\nRe-introduce the exception, this time with the correct name, and add\nsome unit tests to prevent us regressing.\n\nChange-Id: I3b597a46314a1b29a952fc0f7a9c4537341e37b8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1904446\n(cherry picked from commit 160ed6ff652b80cd0a86d41dc3f66c15cee66290)\n(cherry picked from commit 82d415d200e39a5c11fe134e9ef62e427988f2ba)\n""}]",0,763390,8f65de96a07623c6a8a9cd49db942ad6d4d3ab03,26,7,1,15334,,,0,"Add missing exception

Change Idd49b0c70caedfcd42420ffa2ac926a6087d406e added support for
discovery of PMEM devices by the libvirt driver. Some error handling
code in this was expected to raise a 'GetPMEMNamespacesFailed'
exception, however, a typo meant the exception was actually called
'GetPMEMNamespaceFailed' (singular). This exception was later removed in
change I6fd027fb51823b8a8a24ed7b864a2191c4e8e8c0 because it had no
references.

Re-introduce the exception, this time with the correct name, and add
some unit tests to prevent us regressing.

Change-Id: I3b597a46314a1b29a952fc0f7a9c4537341e37b8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1904446
(cherry picked from commit 160ed6ff652b80cd0a86d41dc3f66c15cee66290)
(cherry picked from commit 82d415d200e39a5c11fe134e9ef62e427988f2ba)
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/763390/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,8f65de96a07623c6a8a9cd49db942ad6d4d3ab03,bug/1904446," @mock.patch('nova.privsep.libvirt.get_pmem_namespaces') def test_get_vpmems_on_host__exception(self, mock_get_ns): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) mock_get_ns.side_effect = Exception('foo') self.assertRaises( exception.GetPMEMNamespacesFailed, drvr._get_vpmems_on_host) ",,13,0
openstack%2Fopenstack-helm~master~Icdf61349262fc6082ff298df492613553eddcb65,openstack/openstack-helm,master,Icdf61349262fc6082ff298df492613553eddcb65,Remove Cinder volume v1 service and endpoint,ABANDONED,2021-03-29 18:29:36.000000000,2021-04-07 22:38:20.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2021-03-29 18:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4a65eb8ec1c3b94176439a5229ce99e265cb0bbb', 'message': 'Remove Cinder volume v1 service and endpoint\n\nCinder v1 API is deprecated and disabled already. This patchset\nremoves the Cinder v1 serice and endpoint.\n\nChange-Id: Icdf61349262fc6082ff298df492613553eddcb65\n'}, {'number': 2, 'created': '2021-03-30 14:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f0c23eb4c64a245d382bbfc0343345d4b190b086', 'message': 'Remove Cinder volume v1 service and endpoint\n\nCinder v1 API is deprecated and disabled already. This patchset\nremoves the Cinder v1 serice and endpoint.\n\nChange-Id: Icdf61349262fc6082ff298df492613553eddcb65\n'}, {'number': 3, 'created': '2021-04-01 19:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c9ecd09c45f3dc177b58c1302264bc2ec9439743', 'message': 'Remove Cinder volume v1 service and endpoint\n\nCinder v1 API is deprecated and disabled already. This patchset\nremoves the Cinder v1 serice and endpoint.\n\nChange-Id: Icdf61349262fc6082ff298df492613553eddcb65\n'}, {'number': 4, 'created': '2021-04-01 19:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b3baf03370d34f1832250ec5a337a80fbb4e0a6c', 'message': 'Remove Cinder volume v1 service and endpoint\n\nCinder v1 API is deprecated and disabled already. This patchset\nremoves the Cinder v1 serice and endpoint.\n\nChange-Id: Icdf61349262fc6082ff298df492613553eddcb65\n'}, {'number': 5, 'created': '2021-04-06 00:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/807680ee7c8b78c6573504b4dd8ada77873837be', 'message': 'Remove Cinder volume v1 service and endpoint\n\nCinder v1 API is deprecated and disabled already. This patchset\nremoves the Cinder v1 serice and endpoint.\n\nChange-Id: Icdf61349262fc6082ff298df492613553eddcb65\n'}, {'number': 6, 'created': '2021-04-06 00:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/692f726fecffcd58ecc7db6492e206b99e521c12', 'message': 'Remove Cinder volume v1 service and endpoint\n\nCinder v1 API is deprecated and disabled already. This patchset\nremoves the Cinder v1 serice and endpoint.\n\nChange-Id: Icdf61349262fc6082ff298df492613553eddcb65\n'}, {'number': 7, 'created': '2021-04-06 02:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/153fbc663fea23a65654865a6b20c6a41284fa5f', 'message': 'Remove Cinder volume v1 service and endpoint\n\nCinder v1 API is deprecated and disabled already. This patchset\nremoves the Cinder v1 serice and endpoint.\n\nChange-Id: Icdf61349262fc6082ff298df492613553eddcb65\n'}, {'number': 8, 'created': '2021-04-06 03:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cffb564153c429a97d226f3c50c6b8e8f9ec3274', 'message': 'Remove Cinder volume v1 service and endpoint\n\nCinder v1 API is deprecated and disabled already. This patchset\nremoves the Cinder v1 serice and endpoint.\n\nChange-Id: Icdf61349262fc6082ff298df492613553eddcb65\n'}, {'number': 9, 'created': '2021-04-06 04:17:32.000000000', 'files': ['cinder/templates/configmap-etc.yaml', 'cinder/templates/job-create-internal-tenant.yaml', 'cinder/templates/deployment-volume.yaml', 'cinder/values.yaml', 'cinder/templates/job-ks-endpoints.yaml', 'cinder/values_overrides/tls.yaml', 'cinder/templates/deployment-api.yaml', 'cinder/templates/service-api.yaml', 'cinder/templates/deployment-scheduler.yaml', 'cinder/templates/service-ingress-api.yaml', 'cinder/templates/job-bootstrap.yaml', 'cinder/templates/job-ks-user.yaml', 'cinder/templates/ingress-api.yaml', 'cinder/templates/job-ks-service.yaml', 'cinder/templates/pod-rally-test.yaml', 'cinder/templates/secret-ingress-tls.yaml', 'cinder/Chart.yaml', 'releasenotes/notes/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/794238235f78fa5a29cce55ad60453ac0b1fd4c9', 'message': 'Remove Cinder volume v1 service and endpoint\n\nCinder v1 API is deprecated and disabled already. This patchset\nremoves the Cinder v1 serice and endpoint.\n\nChange-Id: Icdf61349262fc6082ff298df492613553eddcb65\n'}]",0,783733,794238235f78fa5a29cce55ad60453ac0b1fd4c9,21,3,9,18236,,,0,"Remove Cinder volume v1 service and endpoint

Cinder v1 API is deprecated and disabled already. This patchset
removes the Cinder v1 serice and endpoint.

Change-Id: Icdf61349262fc6082ff298df492613553eddcb65
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/33/783733/9 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/configmap-etc.yaml', 'cinder/values.yaml', 'cinder/templates/job-ks-endpoints.yaml', 'cinder/values_overrides/tls.yaml', 'cinder/templates/deployment-api.yaml', 'cinder/templates/service-api.yaml', 'cinder/templates/service-ingress-api.yaml', 'cinder/templates/ingress-api.yaml', 'cinder/templates/job-ks-service.yaml', 'cinder/templates/secret-ingress-tls.yaml', 'cinder/Chart.yaml', 'releasenotes/notes/cinder.yaml']",12,4a65eb8ec1c3b94176439a5229ce99e265cb0bbb,, - 0.1.14 remove cinder v1 service and endpoint,,14,57
openstack%2Fheat~stable%2Fvictoria~Ib33b5688153f07e696a39b26510b22fe128597ea,openstack/heat,stable/victoria,Ib33b5688153f07e696a39b26510b22fe128597ea,Configure the Tempest venv upper constraints properly,ABANDONED,2021-04-05 22:09:26.000000000,2021-04-07 22:14:28.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 22:09:26.000000000', 'files': ['devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/17dbd0c58e957209f827d626a29a755a206278b6', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nIf heat integration test script does not use the master constraints\nfor Tempest (when any stable branch goes to Extended Maintenance state)\nthen we need to use the same constraints while running the tests too\notherwise, it will end up recreating the Tempest venv and remove the\nalready installed tempest plugins and their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nCloses-Bug: 1922597\nChange-Id: Ib33b5688153f07e696a39b26510b22fe128597ea\n(cherry picked from commit f998de45d3a9fb7049aa4043771c00923f4196d8)\n(cherry picked from commit eb09064beb43b060cb3eef640fef3ce253259ca0)\n'}]",0,784861,17dbd0c58e957209f827d626a29a755a206278b6,4,2,1,8556,,,0,"Configure the Tempest venv upper constraints properly

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

If heat integration test script does not use the master constraints
for Tempest (when any stable branch goes to Extended Maintenance state)
then we need to use the same constraints while running the tests too
otherwise, it will end up recreating the Tempest venv and remove the
already installed tempest plugins and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

Closes-Bug: 1922597
Change-Id: Ib33b5688153f07e696a39b26510b22fe128597ea
(cherry picked from commit f998de45d3a9fb7049aa4043771c00923f4196d8)
(cherry picked from commit eb09064beb43b060cb3eef640fef3ce253259ca0)
",git fetch https://review.opendev.org/openstack/heat refs/changes/61/784861/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/upgrade/resources.sh'],1,17dbd0c58e957209f827d626a29a755a206278b6,standardize-tempest-tox-constraints," # NOTE(gmann): If gate explicitly set the non master # constraints to use for Tempest venv then use the same # while running the tests too otherwise, it will recreate # the Tempest venv due to constraints mismatch. # recreation of Tempest venv can flush the initially installed # tempest plugins and their deps. if [[ ""$TEMPEST_VENV_UPPER_CONSTRAINTS"" != ""master"" ]]; then echo ""Using $TEMPEST_VENV_UPPER_CONSTRAINTS constraints in Tempest virtual env."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS export TOX_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS fi",,13,0
openstack%2Fheat~stable%2Fussuri~Ib33b5688153f07e696a39b26510b22fe128597ea,openstack/heat,stable/ussuri,Ib33b5688153f07e696a39b26510b22fe128597ea,Configure the Tempest venv upper constraints properly,ABANDONED,2021-04-05 22:10:16.000000000,2021-04-07 22:14:22.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 22:10:16.000000000', 'files': ['devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/10fbc984d3e037d83a88097cdc1c66ad788ae9da', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nIf heat integration test script does not use the master constraints\nfor Tempest (when any stable branch goes to Extended Maintenance state)\nthen we need to use the same constraints while running the tests too\notherwise, it will end up recreating the Tempest venv and remove the\nalready installed tempest plugins and their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nCloses-Bug: 1922597\nChange-Id: Ib33b5688153f07e696a39b26510b22fe128597ea\n(cherry picked from commit f998de45d3a9fb7049aa4043771c00923f4196d8)\n(cherry picked from commit eb09064beb43b060cb3eef640fef3ce253259ca0)\n(cherry picked from commit 17dbd0c58e957209f827d626a29a755a206278b6)\n'}]",0,784862,10fbc984d3e037d83a88097cdc1c66ad788ae9da,6,2,1,8556,,,0,"Configure the Tempest venv upper constraints properly

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

If heat integration test script does not use the master constraints
for Tempest (when any stable branch goes to Extended Maintenance state)
then we need to use the same constraints while running the tests too
otherwise, it will end up recreating the Tempest venv and remove the
already installed tempest plugins and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

Closes-Bug: 1922597
Change-Id: Ib33b5688153f07e696a39b26510b22fe128597ea
(cherry picked from commit f998de45d3a9fb7049aa4043771c00923f4196d8)
(cherry picked from commit eb09064beb43b060cb3eef640fef3ce253259ca0)
(cherry picked from commit 17dbd0c58e957209f827d626a29a755a206278b6)
",git fetch https://review.opendev.org/openstack/heat refs/changes/62/784862/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/upgrade/resources.sh'],1,10fbc984d3e037d83a88097cdc1c66ad788ae9da,standardize-tempest-tox-constraints," # NOTE(gmann): If gate explicitly set the non master # constraints to use for Tempest venv then use the same # while running the tests too otherwise, it will recreate # the Tempest venv due to constraints mismatch. # recreation of Tempest venv can flush the initially installed # tempest plugins and their deps. if [[ ""$TEMPEST_VENV_UPPER_CONSTRAINTS"" != ""master"" ]]; then echo ""Using $TEMPEST_VENV_UPPER_CONSTRAINTS constraints in Tempest virtual env."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS export TOX_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS fi",,13,0
openstack%2Fheat~stable%2Fwallaby~Ib33b5688153f07e696a39b26510b22fe128597ea,openstack/heat,stable/wallaby,Ib33b5688153f07e696a39b26510b22fe128597ea,Configure the Tempest venv upper constraints properly,ABANDONED,2021-04-06 20:45:16.000000000,2021-04-07 22:14:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-06 20:45:16.000000000', 'files': ['devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/df913c8d79cfcc97701119468519bd997deafa3f', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nIf heat integration test script does not use the master constraints\nfor Tempest (when any stable branch goes to Extended Maintenance state)\nthen we need to use the same constraints while running the tests too\notherwise, it will end up recreating the Tempest venv and remove the\nalready installed tempest plugins and their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nCloses-Bug: 1922597\nChange-Id: Ib33b5688153f07e696a39b26510b22fe128597ea\n'}]",0,784983,df913c8d79cfcc97701119468519bd997deafa3f,4,1,1,8556,,,0,"Configure the Tempest venv upper constraints properly

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

If heat integration test script does not use the master constraints
for Tempest (when any stable branch goes to Extended Maintenance state)
then we need to use the same constraints while running the tests too
otherwise, it will end up recreating the Tempest venv and remove the
already installed tempest plugins and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

Closes-Bug: 1922597
Change-Id: Ib33b5688153f07e696a39b26510b22fe128597ea
",git fetch https://review.opendev.org/openstack/heat refs/changes/83/784983/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/upgrade/resources.sh'],1,df913c8d79cfcc97701119468519bd997deafa3f,standardize-tempest-tox-constraints-stable/wallaby," # NOTE(gmann): If gate explicitly set the non master # constraints to use for Tempest venv then use the same # while running the tests too otherwise, it will recreate # the Tempest venv due to constraints mismatch. # recreation of Tempest venv can flush the initially installed # tempest plugins and their deps. if [[ ""$TEMPEST_VENV_UPPER_CONSTRAINTS"" != ""master"" ]]; then echo ""Using $TEMPEST_VENV_UPPER_CONSTRAINTS constraints in Tempest virtual env."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS export TOX_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS fi",,13,0
openstack%2Fheat~master~Ib33b5688153f07e696a39b26510b22fe128597ea,openstack/heat,master,Ib33b5688153f07e696a39b26510b22fe128597ea,Configure the Tempest venv upper constraints properly,ABANDONED,2021-04-05 21:58:29.000000000,2021-04-07 22:14:03.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 21:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f998de45d3a9fb7049aa4043771c00923f4196d8', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nIf heat integration test script does not use the master constraints\nfor Tempest (when any stable branch goes to Extended Maintenance state)\nthen we need to use the same constraints while running the tests too\notherwise, it will end up recreating the Tempest venv and remove the\nalready installed tempest plugins and their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nCloses-Bug: 1922597\nChange-Id: Ib33b5688153f07e696a39b26510b22fe128597ea\n'}, {'number': 2, 'created': '2021-04-05 22:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/eb09064beb43b060cb3eef640fef3ce253259ca0', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nIf heat integration test script does not use the master constraints\nfor Tempest (when any stable branch goes to Extended Maintenance state)\nthen we need to use the same constraints while running the tests too\notherwise, it will end up recreating the Tempest venv and remove the\nalready installed tempest plugins and their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nCloses-Bug: 1922597\nChange-Id: Ib33b5688153f07e696a39b26510b22fe128597ea\n(cherry picked from commit f998de45d3a9fb7049aa4043771c00923f4196d8)\n'}, {'number': 3, 'created': '2021-04-06 00:48:47.000000000', 'files': ['devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/41ac524054f53e582de2857aecf5f71ce637d79d', 'message': 'Configure the Tempest venv upper constraints properly\n\nWe use Tempest master for testing the supported stable\nbranches, so using master upper constraints works fine for\nsuch master or stable branch testing, but when we need to\nuse old Tempest in the below cases then master upper constraints\ndo not work for Tempest venv:\n- Testing Extended Maintenance branch\n- Testing py2.7 jobs until stable/train with in-tree tempest plugins\n\nIf heat integration test script does not use the master constraints\nfor Tempest (when any stable branch goes to Extended Maintenance state)\nthen we need to use the same constraints while running the tests too\notherwise, it will end up recreating the Tempest venv and remove the\nalready installed tempest plugins and their deps.\n\nThis commit set the compatible upper constraint\naccording to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is\nwhat used in devstack while creating the Tempest venv and install\ntempest plugins in that venv.\n\nCloses-Bug: 1922597\nChange-Id: Ib33b5688153f07e696a39b26510b22fe128597ea\n'}]",0,784834,41ac524054f53e582de2857aecf5f71ce637d79d,13,2,3,8556,,,0,"Configure the Tempest venv upper constraints properly

We use Tempest master for testing the supported stable
branches, so using master upper constraints works fine for
such master or stable branch testing, but when we need to
use old Tempest in the below cases then master upper constraints
do not work for Tempest venv:
- Testing Extended Maintenance branch
- Testing py2.7 jobs until stable/train with in-tree tempest plugins

If heat integration test script does not use the master constraints
for Tempest (when any stable branch goes to Extended Maintenance state)
then we need to use the same constraints while running the tests too
otherwise, it will end up recreating the Tempest venv and remove the
already installed tempest plugins and their deps.

This commit set the compatible upper constraint
according to TEMPEST_VENV_UPPER_CONSTRAINTS variable, which is
what used in devstack while creating the Tempest venv and install
tempest plugins in that venv.

Closes-Bug: 1922597
Change-Id: Ib33b5688153f07e696a39b26510b22fe128597ea
",git fetch https://review.opendev.org/openstack/heat refs/changes/34/784834/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/upgrade/resources.sh'],1,f998de45d3a9fb7049aa4043771c00923f4196d8,standardize-tempest-tox-constraints," # NOTE(gmann): If gate explicitly set the non master # constraints to use for Tempest venv then use the same # while running the tests too otherwise, it will recreate # the Tempest venv due to constraints mismatch. # recreation of Tempest venv can flush the initially installed # tempest plugins and their deps. if [[ ""$TEMPEST_VENV_UPPER_CONSTRAINTS"" != ""master"" ]]; then echo ""Using $TEMPEST_VENV_UPPER_CONSTRAINTS constraints in Tempest virtual env."" # NOTE: setting both tox env var and once Tempest start using new var # TOX_CONSTRAINTS_FILE then we can remove the old one. export UPPER_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS export TOX_CONSTRAINTS_FILE=$TEMPEST_VENV_UPPER_CONSTRAINTS fi",,13,0
openstack%2Fmonasca-api~stable%2Fwallaby~I49d436b0cf1503b148a04f82e1ee41941ebd9d0a,openstack/monasca-api,stable/wallaby,I49d436b0cf1503b148a04f82e1ee41941ebd9d0a,Workaround for new pip 20.3 behavior,MERGED,2021-04-07 15:06:07.000000000,2021-04-07 21:59:37.000000000,2021-04-07 21:58:00.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-07 15:06:07.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/6f534485102700f7a942662a6738ccdd7aa640d5', 'message': 'Workaround for new pip 20.3 behavior\n\nThis WA set specific pip version to avoid the issue:\n""ERROR: Links are not allowed as constraints"" [1]\nA proper fix would be to adapt to new pip behavior.\nSimilar issue on Devstack [2][3]\n\n[1] https://github.com/pypa/pip/issues/8210\n[2] https://bugs.launchpad.net/devstack/+bug/1906322\n[3] https://review.opendev.org/c/openstack/devstack/+/764803\n\nChange-Id: I49d436b0cf1503b148a04f82e1ee41941ebd9d0a\n(cherry picked from commit a93e1cc9798473dcaac748719da8ab5f0648ebc0)\n'}]",0,785201,6f534485102700f7a942662a6738ccdd7aa640d5,11,2,1,28062,,,0,"Workaround for new pip 20.3 behavior

This WA set specific pip version to avoid the issue:
""ERROR: Links are not allowed as constraints"" [1]
A proper fix would be to adapt to new pip behavior.
Similar issue on Devstack [2][3]

[1] https://github.com/pypa/pip/issues/8210
[2] https://bugs.launchpad.net/devstack/+bug/1906322
[3] https://review.opendev.org/c/openstack/devstack/+/764803

Change-Id: I49d436b0cf1503b148a04f82e1ee41941ebd9d0a
(cherry picked from commit a93e1cc9798473dcaac748719da8ab5f0648ebc0)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/01/785201/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,6f534485102700f7a942662a6738ccdd7aa640d5,cap-pip-23-0-stable/wallaby, # TODO: remove the trailing pip version when a proper fix # arrives for handling this bug https://github.com/pypa/pip/issues/8210 # Similar issue: https://bugs.launchpad.net/devstack/+bug/1906322 (cd /opt/monasca-agent ; virtualenv -p python3 . ; bin/python3 -m pip install --upgrade pip==20.2.3), (cd /opt/monasca-agent ; virtualenv -p python3 .),6,1
openstack%2Fswift~master~I6b46deb733bb5a6a5248b2dd4ffa679e35e2eb8c,openstack/swift,master,I6b46deb733bb5a6a5248b2dd4ffa679e35e2eb8c,WIP: relinker: Allow increasing part power by more than one,NEW,2021-03-19 03:18:17.000000000,2021-04-07 21:59:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-19 03:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0c8bb85ded333a03268889bd536a76650e175f55', 'message': 'WIP: relinker: Allow increasing part power by more than one\n\nNeeds a boatload of tests, but it let me do it in dev.\n\nChange-Id: I6b46deb733bb5a6a5248b2dd4ffa679e35e2eb8c\n'}, {'number': 2, 'created': '2021-03-19 05:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/250b94c3c04f5e7db8594f39228da13846d05ebd', 'message': 'WIP: relinker: Allow increasing part power by more than one\n\nNeeds a boatload of tests, but it let me do it in dev.\n\nChange-Id: I6b46deb733bb5a6a5248b2dd4ffa679e35e2eb8c\n'}, {'number': 3, 'created': '2021-04-07 20:59:46.000000000', 'files': ['swift/common/ring/builder.py', 'test/probe/test_object_partpower_increase.py', 'swift/cli/ringbuilder.py', 'swift/cli/relinker.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7e15c58035f8f13d1f53d7d776299037e60a074a', 'message': 'WIP: relinker: Allow increasing part power by more than one\n\nNeeds a boatload of tests, but it let me do it in dev.\n\nChange-Id: I6b46deb733bb5a6a5248b2dd4ffa679e35e2eb8c\n'}]",4,781591,7e15c58035f8f13d1f53d7d776299037e60a074a,8,1,3,15343,,,0,"WIP: relinker: Allow increasing part power by more than one

Needs a boatload of tests, but it let me do it in dev.

Change-Id: I6b46deb733bb5a6a5248b2dd4ffa679e35e2eb8c
",git fetch https://review.opendev.org/openstack/swift refs/changes/91/781591/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/ring/builder.py', 'test/probe/test_object_partpower_increase.py', 'swift/cli/ringbuilder.py', 'swift/cli/relinker.py']",4,0c8bb85ded333a03268889bd536a76650e175f55,multi-increase," # If we allow part power increases >1, then we're going from # |0 N| # |ABCDEFGH| # to # |0 2N| # |AAAABBBBCCCCDDDDEEEEFFFFGGGGHHHH| # Cleanup will hit # |0 2N| # |AAAABBBB | # So relink needs to hit # |0 2N| # | CCCCDDDDEEEEFFFFGGGGHHHH| old_part_power = states.get('prev_part_power', states['part_power']) relink_cutoff = 2 ** (2 * old_part_power - states['next_part_power']) if step == STEP_RELINK and partition >= relink_cutoff: scaling_factor = 2 ** (states['next_part_power'] - old_part_power) for x in range(scaling_factor): new_part = scaling_factor * partition + x raise"," if step == STEP_RELINK and partition >= 2 ** (states['part_power'] - 1): for new_part in (2 * partition, 2 * partition + 1):",53,16
openstack%2Fcinder-tempest-plugin~master~I7745eecd309b0c7770e8ed2760ea8cbfd1973be5,openstack/cinder-tempest-plugin,master,I7745eecd309b0c7770e8ed2760ea8cbfd1973be5,WIP: Test workaround for lio-barbican failures,ABANDONED,2020-07-14 20:06:10.000000000,2021-04-07 21:49:57.000000000,,"[{'_account_id': 4523}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 20:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/0faf5cf07e3badecec787d9eb69b6dcb1d544476', 'message': 'WIP: Test workaround for lio-barbican failures\n\nLooking at lio-barbican nova compute failures from\nhttps://zuul.opendev.org/t/openstack/build/7dd25795e57d415c9921f780662d9a68/logs\n\non https://review.opendev.org/#/c/733620/8\n\nhttp://paste.openstack.org/raw/795923/\n\nChange-Id: I7745eecd309b0c7770e8ed2760ea8cbfd1973be5\n'}, {'number': 2, 'created': '2020-07-15 15:27:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/5168bef7fcf5225e5a2147563f8ec4066fd9ca7c', 'message': 'WIP: Test workaround for lio-barbican failures\n\nLooking at lio-barbican nova compute failures from\nhttps://zuul.opendev.org/t/openstack/build/7dd25795e57d415c9921f780662d9a68/logs\n\non https://review.opendev.org/#/c/733620/8\n\nhttp://paste.openstack.org/raw/795923/\n\nChange-Id: I7745eecd309b0c7770e8ed2760ea8cbfd1973be5\n'}]",0,741042,5168bef7fcf5225e5a2147563f8ec4066fd9ca7c,15,4,2,4523,,,0,"WIP: Test workaround for lio-barbican failures

Looking at lio-barbican nova compute failures from
https://zuul.opendev.org/t/openstack/build/7dd25795e57d415c9921f780662d9a68/logs

on https://review.opendev.org/#/c/733620/8

http://paste.openstack.org/raw/795923/

Change-Id: I7745eecd309b0c7770e8ed2760ea8cbfd1973be5
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/42/741042/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0faf5cf07e3badecec787d9eb69b6dcb1d544476,, RABBIT_HEARTBEAT_TIMEOUT_THRESHOLD: 0,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I89daa0d195390a672bdb9e4cb416a04a5a88c0bb,openstack/tripleo-heat-templates,stable/victoria,I89daa0d195390a672bdb9e4cb416a04a5a88c0bb,Switch Octavia external tasks to 'post deploy',MERGED,2021-02-01 14:12:56.000000000,2021-04-07 21:48:21.000000000,2021-04-07 21:48:21.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-02-01 14:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9c290173758b1150f251d925723f7c3555346fc', 'message': ""Switch Octavia external tasks to 'post deploy'\n\nOctavia needs certain core components to be fully functional and this\nisn't the case for some configurations until *after* step 5.\n\nChange-Id: I89daa0d195390a672bdb9e4cb416a04a5a88c0bb\n(cherry picked from commit 29a5bf31ae0366b944dcc6cc1ea3aaf8881e44c9)\n""}, {'number': 2, 'created': '2021-02-01 14:21:57.000000000', 'files': ['deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/178018d905d7608696191c78cb02792a7bc91344', 'message': ""Switch Octavia external tasks to 'post deploy'\n\nOctavia needs certain core components to be fully functional and this\nisn't the case for some configurations until *after* step 5.\n\nRelated-bug: #1914059\nChange-Id: I89daa0d195390a672bdb9e4cb416a04a5a88c0bb\n(cherry picked from commit 29a5bf31ae0366b944dcc6cc1ea3aaf8881e44c9)\n""}]",0,773400,178018d905d7608696191c78cb02792a7bc91344,31,5,2,6681,,,0,"Switch Octavia external tasks to 'post deploy'

Octavia needs certain core components to be fully functional and this
isn't the case for some configurations until *after* step 5.

Related-bug: #1914059
Change-Id: I89daa0d195390a672bdb9e4cb416a04a5a88c0bb
(cherry picked from commit 29a5bf31ae0366b944dcc6cc1ea3aaf8881e44c9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/773400/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-deployment-config.j2.yaml'],1,d9c290173758b1150f251d925723f7c3555346fc,victoria, external_post_deploy_tasks:, external_deploy_tasks: when: step|int == 5,1,2
openstack%2Fopenstack-ansible~master~Idb5b9f396c766ce485efed97175e0f05596c82e0,openstack/openstack-ansible,master,Idb5b9f396c766ce485efed97175e0f05596c82e0,Add trove instance key into secrets,MERGED,2021-04-02 12:42:05.000000000,2021-04-07 21:10:16.000000000,2021-04-07 21:08:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-04-02 12:42:05.000000000', 'files': ['etc/openstack_deploy/user_secrets.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6fce27427567f4afcaabf1a0ec71cd63d2f48ba2', 'message': 'Add trove instance key into secrets\n\nChange-Id: Idb5b9f396c766ce485efed97175e0f05596c82e0\n'}]",0,784565,6fce27427567f4afcaabf1a0ec71cd63d2f48ba2,14,3,1,28619,,,0,"Add trove instance key into secrets

Change-Id: Idb5b9f396c766ce485efed97175e0f05596c82e0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/65/784565/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/openstack_deploy/user_secrets.yml'],1,6fce27427567f4afcaabf1a0ec71cd63d2f48ba2,,trove_instance_rpc_encr_key:,,1,0
openstack%2Fpuppet-ceilometer~master~I0737680bf01ea8c8c8a651ddc6b98b87f2f30b27,openstack/puppet-ceilometer,master,I0737680bf01ea8c8c8a651ddc6b98b87f2f30b27,"[WIP] Revert ""Merge ""Use consistent names for service_credentials options""""",ABANDONED,2021-04-05 19:13:07.000000000,2021-04-07 20:44:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-05 19:13:07.000000000', 'files': ['manifests/agent/service_credentials.pp', 'spec/classes/ceilometer_agent_auth_spec.rb', 'manifests/agent/auth.pp', 'spec/classes/ceilometer_agent_service_credentials_spec.rb', 'releasenotes/notes/service_credentials-c8bf6bbf763bc08e.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/3828a60a2fefeb70e25dd43b843dc7d3e45dfaed', 'message': '[WIP] Revert ""Merge ""Use consistent names for service_credentials options""""\n\nTesting to see if this solves a CI issue\n\nThis reverts commit 458d0ad9ccff75f9788b4fdab1fb83efa61961c8, reversing\nchanges made to 181441f58314ed759f2fffad50119ffb4be03015.\n\nChange-Id: I0737680bf01ea8c8c8a651ddc6b98b87f2f30b27\n'}]",0,784817,3828a60a2fefeb70e25dd43b843dc7d3e45dfaed,3,1,1,31510,,,0,"[WIP] Revert ""Merge ""Use consistent names for service_credentials options""""

Testing to see if this solves a CI issue

This reverts commit 458d0ad9ccff75f9788b4fdab1fb83efa61961c8, reversing
changes made to 181441f58314ed759f2fffad50119ffb4be03015.

Change-Id: I0737680bf01ea8c8c8a651ddc6b98b87f2f30b27
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/17/784817/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agent/service_credentials.pp', 'spec/classes/ceilometer_agent_auth_spec.rb', 'manifests/agent/auth.pp', 'spec/classes/ceilometer_agent_service_credentials_spec.rb', 'releasenotes/notes/service_credentials-c8bf6bbf763bc08e.yaml']",5,3828a60a2fefeb70e25dd43b843dc7d3e45dfaed,,,--- deprecations: - | The ``ceilometer::agent::auth`` class has been deprecated. Use the ``ceilometer::agent::service_credentials`` class instead. ,38,191
openstack%2Ftripleo-heat-templates~master~I0c640165d4cd728b19525ebf6b5ea05f892a03c6,openstack/tripleo-heat-templates,master,I0c640165d4cd728b19525ebf6b5ea05f892a03c6,[WIP] Empty commit for testing CI,ABANDONED,2021-04-05 19:20:49.000000000,2021-04-07 20:44:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-05 19:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52d2bf87eb34fe5782175963496c629e3bf5f218', 'message': '[WIP] Empty commit for testing CI\n\nDepends-On: 784817\nChange-Id: I0c640165d4cd728b19525ebf6b5ea05f892a03c6\n'}, {'number': 2, 'created': '2021-04-05 19:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca458686c21aee8ced2df7f1ea51b47a170c549a', 'message': '[WIP] Empty commit for testing CI\n\nDepends-On: 3828a60a2fefeb70e25dd43b843dc7d3e45dfaed\nChange-Id: I0c640165d4cd728b19525ebf6b5ea05f892a03c6\n'}, {'number': 3, 'created': '2021-04-06 14:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/471b1353d96d57f52b990bedf6c6168ebe5eee30', 'message': '[WIP] Empty commit for testing CI\n\nDepends-on: https://review.opendev.org/784955\nChange-Id: I0c640165d4cd728b19525ebf6b5ea05f892a03c6\n'}, {'number': 4, 'created': '2021-04-06 18:27:05.000000000', 'files': ['ci/environments/scenario002-standalone.yaml', 'README.rst', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90db9cacc6891b5282ea3d7227b9c249f0c90cfc', 'message': '[WIP] Empty commit for testing CI\n\nDepends-on: https://review.opendev.org/784955\nDepends-on: https://review.opendev.org/784971\n\nChange-Id: I0c640165d4cd728b19525ebf6b5ea05f892a03c6\n'}]",0,784818,90db9cacc6891b5282ea3d7227b9c249f0c90cfc,11,2,4,31510,,,0,"[WIP] Empty commit for testing CI

Depends-on: https://review.opendev.org/784955
Depends-on: https://review.opendev.org/784971

Change-Id: I0c640165d4cd728b19525ebf6b5ea05f892a03c6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/784818/4 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,52d2bf87eb34fe5782175963496c629e3bf5f218,testing-commit,# Don't ever merge me!,,1,0
openstack%2Fopenstack-helm~master~If645ddeb180b690a804a99bc6743d394a920589b,openstack/openstack-helm,master,If645ddeb180b690a804a99bc6743d394a920589b,Move shaker chart from osh-addons,ABANDONED,2021-03-30 02:21:00.000000000,2021-04-07 19:57:45.000000000,,"[{'_account_id': 18250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 02:21:00.000000000', 'files': ['shaker/templates/service-shaker.yaml', 'shaker/templates/pod-shaker-test.yaml', 'shaker/templates/configmap-bin.yaml', 'releasenotes/notes/shaker.yaml', 'shaker/values.yaml', 'shaker/templates/secret-keystone.yaml', 'shaker/requirements.yaml', 'shaker/templates/bin/_run-tests.sh.tpl', 'shaker/templates/job-image-repo-sync.yaml', 'shaker/templates/pvc-shaker.yaml', 'shaker/templates/configmap-etc.yaml', 'shaker/Chart.yaml', 'shaker/templates/job-ks-user.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/68c9d782f51bf2c7d8088b5ef7af8314ac8aace1', 'message': 'Move shaker chart from osh-addons\n\nThis change moves the shaker chart from the osh-addons repo\nto this one.\n\nChange-Id: If645ddeb180b690a804a99bc6743d394a920589b\n'}]",0,783774,68c9d782f51bf2c7d8088b5ef7af8314ac8aace1,5,2,1,21420,,,0,"Move shaker chart from osh-addons

This change moves the shaker chart from the osh-addons repo
to this one.

Change-Id: If645ddeb180b690a804a99bc6743d394a920589b
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/74/783774/1 && git format-patch -1 --stdout FETCH_HEAD,"['shaker/templates/service-shaker.yaml', 'shaker/templates/pod-shaker-test.yaml', 'shaker/templates/configmap-bin.yaml', 'releasenotes/notes/shaker.yaml', 'shaker/values.yaml', 'shaker/templates/secret-keystone.yaml', 'shaker/requirements.yaml', 'shaker/templates/bin/_run-tests.sh.tpl', 'shaker/templates/job-image-repo-sync.yaml', 'shaker/templates/pvc-shaker.yaml', 'shaker/templates/configmap-etc.yaml', 'shaker/Chart.yaml', 'shaker/templates/job-ks-user.yaml']",13,68c9d782f51bf2c7d8088b5ef7af8314ac8aace1,add-shaker,"{{/* Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.job_ks_user }} {{- $ksUserJob := dict ""envAll"" . ""serviceName"" ""shaker"" -}} {{ $ksUserJob | include ""helm-toolkit.manifests.job_ks_user"" }} {{- end }} ",,674,0
openstack%2Fsenlin~master~Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253,openstack/senlin,master,Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253,add senlin cluster_name for lb/pool/listener name for creation,MERGED,2021-03-30 17:03:42.000000000,2021-04-07 19:37:27.000000000,2021-04-07 19:35:57.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}, {'_account_id': 28752}]","[{'number': 1, 'created': '2021-03-30 17:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/5a1bfe1b81e04f1a6d7d0a09f9de2ab174c6e031', 'message': 'add random lb/pool/listener name when it not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 2, 'created': '2021-03-30 17:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/abedc509277a36d5a2a03e2dc36dc60368303dc3', 'message': 'add random lb/pool/listener name when name not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 3, 'created': '2021-03-30 17:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/3ca7062f99a7e567f4a2e9bdd5163ade39ad94f9', 'message': 'add random lb/pool/listener name when name not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 4, 'created': '2021-03-30 18:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/f05650e4132069ae5e7f5143eefe310db24ae4b3', 'message': 'add random lb/pool/listener name when name not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 5, 'created': '2021-03-31 05:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/cef11588bd12f72ff56a26cfa93d9c0b1a1b6e95', 'message': 'add random lb/pool/listener name when name not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 6, 'created': '2021-03-31 05:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/d889967854d679e4338f54599d17a6f3da38bebc', 'message': 'add random lb/pool/listener name when name not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 7, 'created': '2021-03-31 13:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/7162a0ae492ba0355682e588ba36ef2a4b4bb23b', 'message': 'add random lb/pool/listener name when name not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 8, 'created': '2021-03-31 13:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/8e94b05666f0624e81cef15a9af15b4163a13244', 'message': 'add random lb/pool/listener name when name not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 9, 'created': '2021-03-31 18:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/cac2998a2d172f3f8544d1f62c88129158b8bc52', 'message': 'add random lb/pool/listener name when name not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 10, 'created': '2021-03-31 18:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/2c907d963f3aa300a1a66451a48274c2dfa5fe33', 'message': 'add random lb/pool/listener name when name not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 11, 'created': '2021-03-31 19:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/2f6bde981c45edcd993ce738277aac2aa1e98c57', 'message': 'add random lb/pool/listener name when name not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 12, 'created': '2021-03-31 19:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/2a87acab76f25336b2a0ae84b03f5d239661e5c1', 'message': 'add random lb/pool/listener name when name not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 13, 'created': '2021-04-02 01:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/dff52084999df39632aa8161a3767f93f1b294c9', 'message': 'add random lb/pool/listener name when name not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 14, 'created': '2021-04-02 03:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/628063d64387bf82a89f92bf43fd74abe7c4289d', 'message': 'add random lb/pool/listener name when name not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 15, 'created': '2021-04-07 00:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/dac7721b51b192b979c1872725a68c89c1b68408', 'message': 'add random lb/pool/listener name when name not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 16, 'created': '2021-04-07 03:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/1d65feb6481e4d25cf641babed18a9f7749af196', 'message': 'add random lb/pool/listener name when name not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 17, 'created': '2021-04-07 05:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/589c41f76b909b1731143dafffbe738d4df842ab', 'message': 'add random lb/pool/listener name when name not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 18, 'created': '2021-04-07 13:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/a0e1a2739563e0e19cb0d55c1469facecb27d41a', 'message': 'add random lb/pool/listener name when name not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 19, 'created': '2021-04-07 14:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/8735c821460ba35d383882c7f3670b909afab250', 'message': 'add random lb/pool/listener name when name not set\n\nWhen name variable not set then use random name for lb/pool/listener.\nIt is very useful during troublshooting when we have many loadbalancers\nand pools. we can easily correlate which loadbalancer belongs to what\npool with name.\n\nExample: http://paste.openstack.org/show/804049/\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 20, 'created': '2021-04-07 16:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/c75f5ebe9f14fc08a9c38db78e9667932239a65e', 'message': 'add senlin cluster_name for lb/pool/listener name for creation\n\nWe are passing senlin cluster_name to lb/pool/listener for name,\nThat way we have proper name relation ship between all 3 components.\nspecially for troubleshooting when we have many loadbalancers.\n\nExample:\n$ openstack cluster list -c name -c status\n+-----------+--------+\n| name      | status |\n+-----------+--------+\n| mycluster | ACTIVE |\n+-----------+--------+\n$ openstack loadbalancer list -c name -c vip_address\n+---------------------+-------------+\n| name                | vip_address |\n+---------------------+-------------+\n| senlin-lb-mycluster | 10.69.1.173 |\n+---------------------+-------------+\n$ openstack loadbalancer pool list -c name -c provisioning_status\n+-----------------------+---------------------+\n| name                  | provisioning_status |\n+-----------------------+---------------------+\n| senlin-pool-mycluster | ACTIVE              |\n+-----------------------+---------------------+\n\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}, {'number': 21, 'created': '2021-04-07 16:25:34.000000000', 'files': ['senlin/tests/unit/policies/test_lb_policy.py', 'senlin/drivers/os/lbaas.py', 'senlin/policies/lb_policy.py', 'senlin/tests/drivers/os_test/lbaas.py', 'senlin/tests/unit/drivers/test_lbaas.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/7404f76ae3c741390f076b0dd421375dd38c3d96', 'message': 'add senlin cluster_name for lb/pool/listener name for creation\n\nWe are passing senlin cluster_name to lb/pool/listener for name,\nThat way we have proper name relationship between all 3 components.\nspecially for troubleshooting when we have many loadbalancers.\n\nExample:\n$ openstack cluster list -c name -c status\n+-----------+--------+\n| name      | status |\n+-----------+--------+\n| mycluster | ACTIVE |\n+-----------+--------+\n$ openstack loadbalancer list -c name -c vip_address\n+---------------------+-------------+\n| name                | vip_address |\n+---------------------+-------------+\n| senlin-lb-mycluster | 10.69.1.173 |\n+---------------------+-------------+\n$ openstack loadbalancer pool list -c name -c provisioning_status\n+-----------------------+---------------------+\n| name                  | provisioning_status |\n+-----------------------+---------------------+\n| senlin-pool-mycluster | ACTIVE              |\n+-----------------------+---------------------+\n\n\nChange-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253\n'}]",31,783912,7404f76ae3c741390f076b0dd421375dd38c3d96,53,4,21,28752,,,0,"add senlin cluster_name for lb/pool/listener name for creation

We are passing senlin cluster_name to lb/pool/listener for name,
That way we have proper name relationship between all 3 components.
specially for troubleshooting when we have many loadbalancers.

Example:
$ openstack cluster list -c name -c status
+-----------+--------+
| name      | status |
+-----------+--------+
| mycluster | ACTIVE |
+-----------+--------+
$ openstack loadbalancer list -c name -c vip_address
+---------------------+-------------+
| name                | vip_address |
+---------------------+-------------+
| senlin-lb-mycluster | 10.69.1.173 |
+---------------------+-------------+
$ openstack loadbalancer pool list -c name -c provisioning_status
+-----------------------+---------------------+
| name                  | provisioning_status |
+-----------------------+---------------------+
| senlin-pool-mycluster | ACTIVE              |
+-----------------------+---------------------+


Change-Id: Ibc0c6e7adc6cbdf87c1d1c5ec42f6954d6995253
",git fetch https://review.opendev.org/openstack/senlin refs/changes/12/783912/21 && git format-patch -1 --stdout FETCH_HEAD,['senlin/drivers/os/octavia_v2.py'],1,5a1bfe1b81e04f1a6d7d0a09f9de2ab174c6e031,senlin/lbaas-name,"import uuid# Generate unique name_id for name variable name_id=uuid.uuid4().hex[:5] # Use following name when name variable not set if name is None: name = (""senlin-lb-"" + name_id) # Use following name when name variable not set if name is None: name = (""senlin-listener-"" + name_id) # Use following name when name variable not set if name is None: name = (""senlin-pool-"" + name_id) ",,15,0
openstack%2Foctavia~master~I29fee922eb112de08dd4f9f450942d3694b80cad,openstack/octavia,master,I29fee922eb112de08dd4f9f450942d3694b80cad,Add common system and project policy check strings to constants,ABANDONED,2020-11-19 22:23:56.000000000,2021-04-07 19:29:09.000000000,,"[{'_account_id': 1131}, {'_account_id': 9954}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-19 22:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/89390dc2810fb53e6874ce0d800fc2df819c5e1b', 'message': ""Add common system and project policy check strings to constants\n\nThese are common policy check strings that we're going to use to\nimplement a few basic personas across OpenStack APIs. This is going to\nhelp move OpenStack towards a more secure and consistent authorization\nexperience.\n\nChange-Id: I29fee922eb112de08dd4f9f450942d3694b80cad\n""}, {'number': 2, 'created': '2020-11-24 04:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e74135501ff29c51e2d111e0a3809ddf65040389', 'message': ""Add common system and project policy check strings to constants\n\nThese are common policy check strings that we're going to use to\nimplement a few basic personas across OpenStack APIs. This is going to\nhelp move OpenStack towards a more secure and consistent authorization\nexperience.\n\nChange-Id: I29fee922eb112de08dd4f9f450942d3694b80cad\n""}, {'number': 3, 'created': '2021-01-28 23:09:55.000000000', 'files': ['octavia/common/constants.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bdb6c63fc097a1590d8726596eed8bcd08d71160', 'message': ""Add common system and project policy check strings to constants\n\nThese are common policy check strings that we're going to use to\nimplement a few basic personas across OpenStack APIs. This is going to\nhelp move OpenStack towards a more secure and consistent authorization\nexperience.\n\nChange-Id: I29fee922eb112de08dd4f9f450942d3694b80cad\n""}]",0,763478,bdb6c63fc097a1590d8726596eed8bcd08d71160,22,5,3,5046,,,0,"Add common system and project policy check strings to constants

These are common policy check strings that we're going to use to
implement a few basic personas across OpenStack APIs. This is going to
help move OpenStack towards a more secure and consistent authorization
experience.

Change-Id: I29fee922eb112de08dd4f9f450942d3694b80cad
",git fetch https://review.opendev.org/openstack/octavia refs/changes/78/763478/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/common/constants.py'],1,89390dc2810fb53e6874ce0d800fc2df819c5e1b,secure-rbac,SYSTEM_ADMIN = 'role:admin and system_scope:all' SYSTEM_MEMBER = 'role:member and system_scope:all' SYSTEM_READER = 'role:reader and system_scope:all' PROJECT_ADMIN = 'role:admin and project_id:%(project_id)s' PROJECT_MEMBER = 'role:member and project_id:%(project_id)s' PROJECT_READER = 'role:reader and project_id:%(project_id)s' SYSTEM_ADMIN_OR_PROJECT_MEMBER = ( '(' + SYSTEM_ADMIN + ') or (' + PROJECT_MEMBER + ')' ) SYSTEM_OR_PROJECT_READER = ( '(' + SYSTEM_READER + ') or (' + PROJECT_READER + ')' ),,12,0
openstack%2Fansible-collections-openstack~master~Ic68fe6fd43aae12f944ad17f747f6bf37bf4d324,openstack/ansible-collections-openstack,master,Ic68fe6fd43aae12f944ad17f747f6bf37bf4d324,Add execution environment metadata,MERGED,2020-09-10 12:20:19.000000000,2021-04-07 19:26:45.000000000,2021-04-07 19:26:45.000000000,"[{'_account_id': 4162}, {'_account_id': 10068}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 31679}, {'_account_id': 32520}]","[{'number': 1, 'created': '2020-09-10 12:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/db5f5fbe3b91449f4a5e6a2baa975ec4b8ffa438', 'message': 'Add execution environment metadata\n\nChange-Id: Ic68fe6fd43aae12f944ad17f747f6bf37bf4d324\n'}, {'number': 2, 'created': '2020-09-25 00:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1061b49e4fdf8f7c0455b35df62f6401a539d097', 'message': 'Add execution environment metadata\n\nChange-Id: Ic68fe6fd43aae12f944ad17f747f6bf37bf4d324\n'}, {'number': 3, 'created': '2021-04-07 14:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/eeb75020d71a10ea3c62e849d88443c1bad89868', 'message': 'Add execution environment metadata\n\nChange-Id: Ic68fe6fd43aae12f944ad17f747f6bf37bf4d324\n'}, {'number': 4, 'created': '2021-04-07 14:41:28.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/da01746e53c86be6b728dc14431e1793a36a5bbb', 'message': 'Add execution environment metadata\n\nChange-Id: Ic68fe6fd43aae12f944ad17f747f6bf37bf4d324\n'}]",4,750972,da01746e53c86be6b728dc14431e1793a36a5bbb,23,7,4,31679,,,0,"Add execution environment metadata

Change-Id: Ic68fe6fd43aae12f944ad17f747f6bf37bf4d324
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/72/750972/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,db5f5fbe3b91449f4a5e6a2baa975ec4b8ffa438,ee_req,openstacksdk>=0.44 keystoneauth1>=3.4.0 jsonpatch ,,3,0
openstack%2Fmagnum~master~I38b8df45a00f1a2a1604059b8329d1dd762e05cd,openstack/magnum,master,I38b8df45a00f1a2a1604059b8329d1dd762e05cd,Support hyperkube_prefix label,MERGED,2020-09-16 14:49:25.000000000,2021-04-07 19:13:27.000000000,2021-04-07 19:09:49.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-09-16 14:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ef6d690761dc6bcb9d5be7387e2301fd27238518', 'message': 'Support kube_prefix label to override hyperkube source\n\nAdditionally for the fedora coreos driver:\n* Also change default kube_prefix to docker.io/rancher/\n* Bump default kube_tag to v1.19.1-rancher1\n\nChange-Id: I38b8df45a00f1a2a1604059b8329d1dd762e05cd\n'}, {'number': 2, 'created': '2020-09-16 14:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7d48cd0485025c867d617f627eab0591aa3f75db', 'message': 'Support kube_prefix label to override hyperkube source\n\nAdditionally for k8s_fedora_coreos_v1 driver:\n* Change default kube_prefix to docker.io/rancher/\n* Bump default kube_tag to v1.19.1-rancher1\n\nChange-Id: I38b8df45a00f1a2a1604059b8329d1dd762e05cd\n'}, {'number': 3, 'created': '2021-02-08 19:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8d30a6bf4bbb32e1bcd7899d0c174a0b6e6718d8', 'message': 'Support kube_prefix label to override hyperkube source\n\nAdditionally for k8s_fedora_coreos_v1 driver:\n* Change default kube_prefix to docker.io/rancher/\n* Bump default kube_tag to v1.20.2-rancher1\n\nStory: 1668998\nTask: 41791\n\nChange-Id: I38b8df45a00f1a2a1604059b8329d1dd762e05cd\n'}, {'number': 4, 'created': '2021-02-08 19:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7d869cda4af8c3181b78f6cf4ba7d060346e3dc2', 'message': 'Support hyperkube_prefix label\n\nAdditionally for k8s_fedora_coreos_v1 driver:\n* Change default hyperkube_prefix to docker.io/rancher/\n* Bump default kube_tag to v1.20.2-rancher1\n\nStory: 1668998\nTask: 41791\n\nDepends-On: Ibaf1840214016d2dd6ac15e2137eb3cd3d767889\nChange-Id: I38b8df45a00f1a2a1604059b8329d1dd762e05cd\n'}, {'number': 5, 'created': '2021-02-18 11:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6ed9cddc078a8bdb361e9f01b5b641afe4d49f7d', 'message': 'Support hyperkube_prefix label\n\nAdditionally for k8s_fedora_coreos_v1 driver:\n* Introduce hyperkube_prefix which defaults to docker.io/rancher/\n* Bump default kube_tag to v1.18.16\n\nStory: 1668998\nTask: 41791\n\nChange-Id: I38b8df45a00f1a2a1604059b8329d1dd762e05cd\n'}, {'number': 6, 'created': '2021-02-18 11:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d23972532f96cf7ebc73631f2942e79435905800', 'message': 'Support hyperkube_prefix label\n\nAdditionally for k8s_fedora_coreos_v1 driver:\n* Introduce hyperkube_prefix which defaults to k8s.gcr.io/\n* Bump default kube_tag to v1.18.16\n\nStory: 1668998\nTask: 41791\n\nChange-Id: I38b8df45a00f1a2a1604059b8329d1dd762e05cd\n'}, {'number': 7, 'created': '2021-02-18 12:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/33c8449175122aa675aa2474aced312844427f5e', 'message': 'Support hyperkube_prefix label\n\nAdditionally for k8s_fedora_coreos_v1 driver:\n* Introduce hyperkube_prefix which defaults to k8s.gcr.io/\n* Bump default kube_tag to v1.18.16\n\nStory: 1668998\nTask: 41791\n\nChange-Id: I38b8df45a00f1a2a1604059b8329d1dd762e05cd\n'}, {'number': 8, 'created': '2021-02-18 12:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cec038c457dd61587f29b3fa104f8ec22086644c', 'message': 'Support hyperkube_prefix label\n\nAdditionally for k8s_fedora_coreos_v1 driver:\n* Introduce hyperkube_prefix which defaults to k8s.gcr.io/\n* Bump default kube_tag to v1.18.16\n\nStory: 1668998\nTask: 41791\n\nChange-Id: I38b8df45a00f1a2a1604059b8329d1dd762e05cd\n'}, {'number': 9, 'created': '2021-02-18 13:19:06.000000000', 'files': ['releasenotes/notes/hyperkube-prefix-01b9a5f4664edc90.yaml', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-clients.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/fc1f27a569b068c2e889f86073c10a994c607bf1', 'message': 'Support hyperkube_prefix label\n\nAdditionally for k8s_fedora_coreos_v1 driver:\n* Introduce hyperkube_prefix which defaults to k8s.gcr.io/\n* Bump default kube_tag to v1.18.16\n\nStory: 1668998\nTask: 41791\n\nChange-Id: I38b8df45a00f1a2a1604059b8329d1dd762e05cd\n'}]",6,752254,fc1f27a569b068c2e889f86073c10a994c607bf1,45,5,9,28022,,,0,"Support hyperkube_prefix label

Additionally for k8s_fedora_coreos_v1 driver:
* Introduce hyperkube_prefix which defaults to k8s.gcr.io/
* Bump default kube_tag to v1.18.16

Story: 1668998
Task: 41791

Change-Id: I38b8df45a00f1a2a1604059b8329d1dd762e05cd
",git fetch https://review.opendev.org/openstack/magnum refs/changes/54/752254/9 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/upgrade-kubernetes.sh', 'magnum/drivers/common/templates/kubernetes/fragments/install-clients.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-services-master.sh']",11,ef6d690761dc6bcb9d5be7387e2301fd27238518,hyperkube-prefix," KUBE_DIGEST=$($ssh_cmd podman image inspect ${CONTAINER_INFRA_PREFIX:-${KUBE_PREFIX}}hyperkube:${KUBE_TAG} --format ""{{.Digest}}"")"," KUBE_DIGEST=$($ssh_cmd podman image inspect ${CONTAINER_INFRA_PREFIX:-k8s.gcr.io/}hyperkube:${KUBE_TAG} --format ""{{.Digest}}"")",44,19
openstack%2Fnova~stable%2Ftrain~Ie653e5ec69d16ae469f1f8171fee85aea754edff,openstack/nova,stable/train,Ie653e5ec69d16ae469f1f8171fee85aea754edff,Dynamically archive FK related records in archive_deleted_rows,NEW,2021-04-06 23:10:05.000000000,2021-04-07 19:02:25.000000000,,"[{'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 23:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1bf80455c3d0464bab6928377bf5955311bd865', 'message': 'Dynamically archive FK related records in archive_deleted_rows\n\nCurrently, it is possible to ""partially archive"" the database by\nrunning \'nova-manage db archive_deleted_rows\' with --max_rows or by\ninterrupting the archive process in any way. When this happens, it is\npossible to have archived a record with a foreign key relationship to a\nparent record (example: \'instance_extra\' table record is archived while\nthe \'instances\' table record remains).\n\nWhen an instance\'s records become ""split"" in this way, any API request\nthat can (1) access the deleted instance and (2) tries to access data\nthat should be in a child table (example: the embedded flavor for an\ninstance) will fail with an OrphanedObjectError and HTTP 500 to the\nuser. Examples of APIs that are affected by this are the tenant usage\nAPIs and listing of deleted instances as admin.\n\nIn the tenant usage example, the API looks at deleted instances to\ncalculate usage over a time period. It pulls deleted and non-deleted\ninstances and does instance.get_flavor() to calculate their usage. The\nflavor data is expected to be present because\nexpecteds_attrs=[\'flavor\'] is used to do a join with the\n\'instance_extra\' table and populate the instance object\'s flavor data.\nWhen get_flavor() is called, it tries to access the instance.flavor\nattribute (which hasn\'t been populated because the \'instance_extra\'\nrecord is gone). That triggers a lazy-load of the flavor which loads\nthe instance from the database again with expected_attrs=[\'flavor\']\nagain which doesn\'t populate instance.flavor (again) because the\n\'instance_extra\' record is gone. Then the Instance._load_flavor code\nintentionally orphans the instance record to avoid triggering\nlazy-loads while it attempts to populate instance.flavor,\ninstance.new_flavor, and instance.old_flavor. Finally, another\nlazy-load is triggered (because instance.flavor is still not populated)\nand fails with OrphanedObjectError.\n\nOne way to solve this problem is to make it impossible for\narchive_deleted_records to orphan records that are related by foreign\nkey relationships. The approach is to process parent tables first\n(opposite of today where we process child tables first) and find all of\nthe tables that refer to it by foreign keys, create and collect\ninsert/delete statements for those child records, and then put them all\ntogether in a single database transaction to archive all related\nrecords ""atomically"". The idea is that if anything were to interrupt\nthe transaction (errors or other) it would roll back and keep all the\nrelated records together. Either all or archived or none are archived.\n\nThis changes the logic of the per table archive to discover tables that\nrefer to the table by foreign keys and generates insert/delete query\nstatements to execute in the same database transaction as the table\narchive itself. The extra records archived along with the table are\nadded to the rows_archived result. The existing code for ""archiving\nrecords if instance is deleted"" also has to be removed along with this\nbecause the new logic does the same thing dynamically and makes it\nobsolete. Finally, some assertions in the unit tests need to be changed\nor removed because they were assuming certain types of archiving\nfailures due to foreign key constraint violations that can no longer\noccur with the new dynamic logic for archiving child records.\n\nCloses-Bug: #1837995\n\nChange-Id: Ie653e5ec69d16ae469f1f8171fee85aea754edff\n(cherry picked from commit becb94ae643ab4863daa564783646921b4a2b372)\n(cherry picked from commit 513ed1dd3c60954dc467a64fdfd849a989cae56c)\n(cherry picked from commit ac89b8fbe524f333b8bb8531f5be0a7f03c5289d)\n'}, {'number': 2, 'created': '2021-04-07 16:02:04.000000000', 'files': ['nova/tests/functional/db/test_archive.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0743eb227cf6114f00ba2be94dabff6e24ca1f24', 'message': 'Dynamically archive FK related records in archive_deleted_rows\n\nCurrently, it is possible to ""partially archive"" the database by\nrunning \'nova-manage db archive_deleted_rows\' with --max_rows or by\ninterrupting the archive process in any way. When this happens, it is\npossible to have archived a record with a foreign key relationship to a\nparent record (example: \'instance_extra\' table record is archived while\nthe \'instances\' table record remains).\n\nWhen an instance\'s records become ""split"" in this way, any API request\nthat can (1) access the deleted instance and (2) tries to access data\nthat should be in a child table (example: the embedded flavor for an\ninstance) will fail with an OrphanedObjectError and HTTP 500 to the\nuser. Examples of APIs that are affected by this are the tenant usage\nAPIs and listing of deleted instances as admin.\n\nIn the tenant usage example, the API looks at deleted instances to\ncalculate usage over a time period. It pulls deleted and non-deleted\ninstances and does instance.get_flavor() to calculate their usage. The\nflavor data is expected to be present because\nexpecteds_attrs=[\'flavor\'] is used to do a join with the\n\'instance_extra\' table and populate the instance object\'s flavor data.\nWhen get_flavor() is called, it tries to access the instance.flavor\nattribute (which hasn\'t been populated because the \'instance_extra\'\nrecord is gone). That triggers a lazy-load of the flavor which loads\nthe instance from the database again with expected_attrs=[\'flavor\']\nagain which doesn\'t populate instance.flavor (again) because the\n\'instance_extra\' record is gone. Then the Instance._load_flavor code\nintentionally orphans the instance record to avoid triggering\nlazy-loads while it attempts to populate instance.flavor,\ninstance.new_flavor, and instance.old_flavor. Finally, another\nlazy-load is triggered (because instance.flavor is still not populated)\nand fails with OrphanedObjectError.\n\nOne way to solve this problem is to make it impossible for\narchive_deleted_records to orphan records that are related by foreign\nkey relationships. The approach is to process parent tables first\n(opposite of today where we process child tables first) and find all of\nthe tables that refer to it by foreign keys, create and collect\ninsert/delete statements for those child records, and then put them all\ntogether in a single database transaction to archive all related\nrecords ""atomically"". The idea is that if anything were to interrupt\nthe transaction (errors or other) it would roll back and keep all the\nrelated records together. Either all or archived or none are archived.\n\nThis changes the logic of the per table archive to discover tables that\nrefer to the table by foreign keys and generates insert/delete query\nstatements to execute in the same database transaction as the table\narchive itself. The extra records archived along with the table are\nadded to the rows_archived result. The existing code for ""archiving\nrecords if instance is deleted"" also has to be removed along with this\nbecause the new logic does the same thing dynamically and makes it\nobsolete. Finally, some assertions in the unit tests need to be changed\nor removed because they were assuming certain types of archiving\nfailures due to foreign key constraint violations that can no longer\noccur with the new dynamic logic for archiving child records.\n\nCloses-Bug: #1837995\n\nChange-Id: Ie653e5ec69d16ae469f1f8171fee85aea754edff\n(cherry picked from commit becb94ae643ab4863daa564783646921b4a2b372)\n(cherry picked from commit 7b4f4796478941eafa9c0997f7ef03293c442d94)\n(cherry picked from commit 8a858eca55544f25427c3762f14523b1507261ee)\n'}]",3,785075,0743eb227cf6114f00ba2be94dabff6e24ca1f24,9,2,2,4690,,,0,"Dynamically archive FK related records in archive_deleted_rows

Currently, it is possible to ""partially archive"" the database by
running 'nova-manage db archive_deleted_rows' with --max_rows or by
interrupting the archive process in any way. When this happens, it is
possible to have archived a record with a foreign key relationship to a
parent record (example: 'instance_extra' table record is archived while
the 'instances' table record remains).

When an instance's records become ""split"" in this way, any API request
that can (1) access the deleted instance and (2) tries to access data
that should be in a child table (example: the embedded flavor for an
instance) will fail with an OrphanedObjectError and HTTP 500 to the
user. Examples of APIs that are affected by this are the tenant usage
APIs and listing of deleted instances as admin.

In the tenant usage example, the API looks at deleted instances to
calculate usage over a time period. It pulls deleted and non-deleted
instances and does instance.get_flavor() to calculate their usage. The
flavor data is expected to be present because
expecteds_attrs=['flavor'] is used to do a join with the
'instance_extra' table and populate the instance object's flavor data.
When get_flavor() is called, it tries to access the instance.flavor
attribute (which hasn't been populated because the 'instance_extra'
record is gone). That triggers a lazy-load of the flavor which loads
the instance from the database again with expected_attrs=['flavor']
again which doesn't populate instance.flavor (again) because the
'instance_extra' record is gone. Then the Instance._load_flavor code
intentionally orphans the instance record to avoid triggering
lazy-loads while it attempts to populate instance.flavor,
instance.new_flavor, and instance.old_flavor. Finally, another
lazy-load is triggered (because instance.flavor is still not populated)
and fails with OrphanedObjectError.

One way to solve this problem is to make it impossible for
archive_deleted_records to orphan records that are related by foreign
key relationships. The approach is to process parent tables first
(opposite of today where we process child tables first) and find all of
the tables that refer to it by foreign keys, create and collect
insert/delete statements for those child records, and then put them all
together in a single database transaction to archive all related
records ""atomically"". The idea is that if anything were to interrupt
the transaction (errors or other) it would roll back and keep all the
related records together. Either all or archived or none are archived.

This changes the logic of the per table archive to discover tables that
refer to the table by foreign keys and generates insert/delete query
statements to execute in the same database transaction as the table
archive itself. The extra records archived along with the table are
added to the rows_archived result. The existing code for ""archiving
records if instance is deleted"" also has to be removed along with this
because the new logic does the same thing dynamically and makes it
obsolete. Finally, some assertions in the unit tests need to be changed
or removed because they were assuming certain types of archiving
failures due to foreign key constraint violations that can no longer
occur with the new dynamic logic for archiving child records.

Closes-Bug: #1837995

Change-Id: Ie653e5ec69d16ae469f1f8171fee85aea754edff
(cherry picked from commit becb94ae643ab4863daa564783646921b4a2b372)
(cherry picked from commit 7b4f4796478941eafa9c0997f7ef03293c442d94)
(cherry picked from commit 8a858eca55544f25427c3762f14523b1507261ee)
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/785075/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_archive.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",3,b1bf80455c3d0464bab6928377bf5955311bd865,bug/1837995,"def _get_tables_with_fk_to_table(table): """"""Get a list of tables that refer to the given table by foreign key (FK). :param table: Table object (parent) for which to find references by FK :returns: A list of Table objects that refer to the specified table by FK tables = [] for t in models.BASE.metadata.tables.values(): for fk in t.foreign_keys: if fk.references(table): tables.append(t) return tables def _get_fk_stmts(metadata, conn, table, column, records): """"""Find records related to this table by foreign key (FK) and create and return insert/delete statements for them. Logic is: find the tables that reference the table passed to this method and walk the tree of references by FK. As child records are found, prepend them to deques to execute later in a single database transaction (to avoid orphaning related records if any one insert/delete fails or the archive process is otherwise interrupted). :param metadata: Metadata object to use to construct a shadow Table object :param conn: Connection object to use to select records related by FK :param table: Table object (parent) for which to find references by FK :param column: Column object (parent) to use to select records related by FK :param records: A list of records (column values) to use to select records related by FK :returns: tuple of (insert statements, delete statements) for records related by FK to insert into shadow tables and delete from main tables """""" inserts = collections.deque() deletes = collections.deque() fk_tables = _get_tables_with_fk_to_table(table) for fk_table in fk_tables: # Create the shadow table for the referencing table. fk_shadow_tablename = _SHADOW_TABLE_PREFIX + fk_table.name try: fk_shadow_table = Table(fk_shadow_tablename, metadata, autoload=True) except NoSuchTableError: # No corresponding shadow table; skip it. continue # TODO(stephenfin): Drop this when we drop the table if fk_table.name == ""dns_domains"": # We have one table (dns_domains) where the key is called # ""domain"" rather than ""id"" fk_column = fk_table.c.domain else: fk_column = fk_table.c.id for fk in fk_table.foreign_keys: # We need to find the records in the referring (child) table that # correspond to the records in our (parent) table so we can archive # them. # First, select the column in the parent referenced by the child # table that corresponds to the parent table records that were # passed in. # Example: table = 'instances' and fk_table = 'instance_extra' # fk.parent = instance_extra.instance_uuid # fk.column = instances.uuid # SELECT instances.uuid FROM instances, instance_extra # WHERE instance_extra.instance_uuid = instances.uuid # AND instance.id IN (<ids>) # We need the instance uuids for the <ids> in order to # look up the matching instance_extra records. select = sql.select([fk.column]).where( sql.and_(fk.parent == fk.column, column.in_(records))) rows = conn.execute(select).fetchall() p_records = [r[0] for r in rows] # Then, select rows in the child table that correspond to the # parent table records that were passed in. # Example: table = 'instances' and fk_table = 'instance_extra' # fk.parent = instance_extra.instance_uuid # fk.column = instances.uuid # SELECT instance_extra.id FROM instance_extra, instances # WHERE instance_extra.instance_uuid = instances.uuid # AND instances.uuid IN (<uuids>) # We will get the instance_extra ids we need to archive # them. fk_select = sql.select([fk_column]).where( sql.and_(fk.parent == fk.column, fk.column.in_(p_records))) fk_rows = conn.execute(fk_select).fetchall() fk_records = [r[0] for r in fk_rows] if fk_records: # If we found any records in the child table, create shadow # table insert statements for them and prepend them to the # deque. fk_columns = [c.name for c in fk_table.c] fk_insert = fk_shadow_table.insert(inline=True).\ from_select(fk_columns, sql.select([fk_table], fk_column.in_(fk_records))) inserts.appendleft(fk_insert) # Create main table delete statements and prepend them to the # deque. fk_delete = fk_table.delete().where(fk_column.in_(fk_records)) deletes.appendleft(fk_delete) # Repeat for any possible nested child tables. i, d = _get_fk_stmts(metadata, conn, fk_table, fk_column, fk_records) inserts.extendleft(i) deletes.extendleft(d) return inserts, deletes Will also follow FK constraints and archive all referring rows. Example: archving a record from the 'instances' table will also archive the 'instance_extra' record before archiving the 'instances' record. :returns: 3-item tuple: - number of extra rows archived (due to FK constraints) dict of {tablename: rows_archived} return rows_archived, deleted_instance_uuids, {} # We will archive deleted rows for this table and also generate insert and # delete statements for extra rows we may archive by following FK # relationships. Because we are iterating over the sorted_tables (list of # Table objects sorted in order of foreign key dependency), new inserts and # deletes (""leaves"") will be added to the fronts of the deques created in # _get_fk_stmts. This way, we make sure we delete child table records # before we delete their parent table records. # Keep track of any extra tablenames to number of rows that we archive by # following FK relationships. # {tablename: extra_rows_archived} extras = collections.defaultdict(int) # Walk FK relationships and add insert/delete statements for rows that # refer to this table via FK constraints. fk_inserts and fk_deletes # will be prepended to by _get_fk_stmts if referring rows are found by # FK constraints. fk_inserts, fk_deletes = _get_fk_stmts( metadata, conn, table, column, records) for fk_insert in fk_inserts: conn.execute(fk_insert) for fk_delete in fk_deletes: result_fk_delete = conn.execute(fk_delete) extras[fk_delete.table.name] += result_fk_delete.rowcount rows_archived += result_delete.rowcount return rows_archived, deleted_instance_uuids, extras table_to_rows_archived = collections.defaultdict(int) # Get the sorted list of tables in order of foreign key dependency. # Process the parent tables and find their dependent records in order to # archive the related records in a single database transactions. The goal # is to avoid a situation where, for example, an 'instances' table record # is missing its corresponding 'instance_extra' record due to running the # archive_deleted_rows command with max_rows. for table in meta.sorted_tables: rows_archived, _deleted_instance_uuids, extras = ( for tablename, extra_rows_archived in extras.items(): table_to_rows_archived[tablename] += extra_rows_archived total_rows_archived += extra_rows_archived","def _archive_if_instance_deleted(table, shadow_table, instances, conn, max_rows, before): """"""Look for records that pertain to deleted instances, but may not be deleted themselves. This catches cases where we delete an instance, but leave some residue because of a failure in a cleanup path or similar. Logic is: if I have a column called instance_uuid, and that instance is deleted, then I can be deleted. # NOTE(jake): handle instance_actions_events differently as it relies on # instance_actions.id not instances.uuid if table.name == ""instance_actions_events"": instance_actions = models.BASE.metadata.tables[""instance_actions""] query_select = sql.select( [table], and_(instances.c.deleted != instances.c.deleted.default.arg, instances.c.uuid == instance_actions.c.instance_uuid, instance_actions.c.id == table.c.action_id)) else: query_select = sql.select( [table], and_(instances.c.deleted != instances.c.deleted.default.arg, instances.c.uuid == table.c.instance_uuid)) if before: query_select = query_select.where(instances.c.deleted_at < before) query_select = query_select.order_by(table.c.id).limit(max_rows) query_insert = shadow_table.insert(inline=True).\ from_select([c.name for c in table.c], query_select) delete_statement = DeleteFromSelect(table, query_select, table.c.id) :returns: 2-item tuple: return rows_archived, deleted_instance_uuids rows_archived = result_delete.rowcount # NOTE(jake): instance_actions_events doesn't have a instance_uuid column # but still needs to be archived as it is a FK constraint if ((max_rows is None or rows_archived < max_rows) and # NOTE(melwitt): The pci_devices table uses the 'instance_uuid' # column to track the allocated association of a PCI device and its # records are not tied to the lifecycles of instance records. (tablename != 'pci_devices' and 'instance_uuid' in columns or tablename == 'instance_actions_events')): instances = models.BASE.metadata.tables['instances'] limit = max_rows - rows_archived if max_rows is not None else None extra = _archive_if_instance_deleted(table, shadow_table, instances, conn, limit, before) rows_archived += extra return rows_archived, deleted_instance_uuids table_to_rows_archived = {} # Reverse sort the tables so we get the leaf nodes first for processing. for table in reversed(meta.sorted_tables): rows_archived, _deleted_instance_uuids = (",166,80
openstack%2Fkolla~stable%2Ftrain~Ica59f7407a8d73b6a194f09f44754b44d28af654,openstack/kolla,stable/train,Ica59f7407a8d73b6a194f09f44754b44d28af654,Bump OpenStack versions for Train,MERGED,2021-04-07 15:19:35.000000000,2021-04-07 18:57:44.000000000,2021-04-07 18:56:19.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-07 15:19:35.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3251922dd517d114cf0a9e9a4a9fbac8d1bdb9fd', 'message': 'Bump OpenStack versions for Train\n\nChange-Id: Ica59f7407a8d73b6a194f09f44754b44d28af654\n'}]",0,785222,3251922dd517d114cf0a9e9a4a9fbac8d1bdb9fd,9,3,1,14826,,,0,"Bump OpenStack versions for Train

Change-Id: Ica59f7407a8d73b6a194f09f44754b44d28af654
",git fetch https://review.opendev.org/openstack/kolla refs/changes/22/785222/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,3251922dd517d114cf0a9e9a4a9fbac8d1bdb9fd,," 'blazar-4.0.1.tar.gz')}, 'ceilometer-13.1.2.tar.gz')}, 'panko-7.1.0.tar.gz')}, 'cinder-15.4.1.tar.gz')}, 'openstack-cyborg-3.0.1.tar.gz')}, 'designate-9.0.2.tar.gz')}, 'ec2-api-9.0.1.tar.gz')}, 'horizon-16.2.1.tar.gz')}, 'magnum-ui-5.3.1.tar.gz')}, 'octavia-dashboard-4.0.1.tar.gz')}, 'ironic-13.0.7.tar.gz')}, 'ironic-inspector-9.2.4.tar.gz')}, 'kuryr-libnetwork-4.0.2.tar.gz')}, 'magnum-9.4.1.tar.gz')}, 'manila-9.1.5.tar.gz')}, 'masakari-8.1.1.tar.gz')}, 'tacker-2.0.2.tar.gz')}, 'murano-8.1.1.tar.gz')}, 'neutron-15.3.3.tar.gz')}, 'networking-sfc-9.0.1.tar.gz')}, 'networking-sfc-9.0.1.tar.gz')}, 'networking-ovn-7.4.0.tar.gz')}, 'networking-ovn-7.4.0.tar.gz')}, 'nova-20.6.0.tar.gz')}, 'octavia-5.1.1.tar.gz')}, 'panko-7.1.0.tar.gz')}, 'openstack-placement-2.0.1.tar.gz')}, 'senlin-8.0.1.tar.gz')}, 'tacker-2.0.2.tar.gz')}, 'networking-sfc-9.0.1.tar.gz')}, 'python-watcher-3.0.2.tar.gz')}, 'zun-4.0.2.tar.gz')}"," 'blazar-4.0.0.tar.gz')}, 'ceilometer-13.1.1.tar.gz')}, 'panko-7.0.0.tar.gz')}, 'cinder-15.4.0.tar.gz')}, 'openstack-cyborg-3.0.0.tar.gz')}, 'designate-9.0.1.tar.gz')}, 'ec2-api-9.0.0.tar.gz')}, 'horizon-16.2.0.tar.gz')}, 'magnum-ui-5.3.0.tar.gz')}, 'octavia-dashboard-4.0.0.tar.gz')}, 'ironic-13.0.6.tar.gz')}, 'ironic-inspector-9.2.3.tar.gz')}, 'kuryr-libnetwork-4.0.1.tar.gz')}, 'magnum-9.4.0.tar.gz')}, 'manila-9.1.4.tar.gz')}, 'masakari-8.1.0.tar.gz')}, 'tacker-2.0.1.tar.gz')}, 'murano-8.1.0.tar.gz')}, 'neutron-15.3.0.tar.gz')}, 'networking-sfc-9.0.0.tar.gz')}, 'networking-sfc-9.0.0.tar.gz')}, 'networking-ovn-7.3.0.tar.gz')}, 'networking-ovn-7.3.0.tar.gz')}, 'nova-20.4.1.tar.gz')}, 'octavia-5.0.3.tar.gz')}, 'panko-7.0.0.tar.gz')}, 'openstack-placement-2.0.0.tar.gz')}, 'senlin-8.0.0.tar.gz')}, 'tacker-2.0.1.tar.gz')}, 'networking-sfc-9.0.0.tar.gz')}, 'python-watcher-3.0.1.tar.gz')}, 'zun-4.0.1.tar.gz')}",32,32
openstack%2Fhorizon~master~Idd4635a3ab337959d9b0ad4382eaf7274624ca8b,openstack/horizon,master,Idd4635a3ab337959d9b0ad4382eaf7274624ca8b,Fix minor points in the policy doc,MERGED,2021-04-01 04:09:44.000000000,2021-04-07 18:54:11.000000000,2021-04-07 18:51:08.000000000,"[{'_account_id': 6914}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-01 04:09:44.000000000', 'files': ['doc/source/contributor/topics/policy.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e0d348c643030c2e429eb2c710dfe2f6d08061d5', 'message': 'Fix minor points in the policy doc\n\nChange-Id: Idd4635a3ab337959d9b0ad4382eaf7274624ca8b\n'}]",0,784193,e0d348c643030c2e429eb2c710dfe2f6d08061d5,9,4,1,841,,,0,"Fix minor points in the policy doc

Change-Id: Idd4635a3ab337959d9b0ad4382eaf7274624ca8b
",git fetch https://review.opendev.org/openstack/horizon refs/changes/93/784193/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/topics/policy.rst'],1,e0d348c643030c2e429eb2c710dfe2f6d08061d5,fix-policy-docs, oslopolicy-sample-generator --namespace $PROJECT \.. warning::, oslopolicy-sample-generator --namespace keystone \.. note::,2,2
openstack%2Fdevstack~stable%2Fwallaby~I0af39a389539b0183d5b260e1fd34eb03e2b06d8,openstack/devstack,stable/wallaby,I0af39a389539b0183d5b260e1fd34eb03e2b06d8,"Cap stable/wallaby network, swift, volume api_extensions for tempest",MERGED,2021-04-06 16:24:43.000000000,2021-04-07 18:46:22.000000000,2021-04-07 18:40:40.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-06 16:24:43.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a10ae7c931678dba7e5221c3235c50d962a55007', 'message': ""Cap stable/wallaby network, swift, volume api_extensions for tempest\n\nThis commit cap the network, volume and swift extensions on\nTempest's config option api_extensions.\n\nChange-Id: I0af39a389539b0183d5b260e1fd34eb03e2b06d8\n""}]",0,785013,a10ae7c931678dba7e5221c3235c50d962a55007,8,3,1,8556,,,0,"Cap stable/wallaby network, swift, volume api_extensions for tempest

This commit cap the network, volume and swift extensions on
Tempest's config option api_extensions.

Change-Id: I0af39a389539b0183d5b260e1fd34eb03e2b06d8
",git fetch https://review.opendev.org/openstack/devstack refs/changes/13/785013/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,a10ae7c931678dba7e5221c3235c50d962a55007,qa-wallaby-release," DEFAULT_NET_EXT=""address-scope,agent,allowed-address-pairs,auto-allocated-topology"" DEFAULT_NET_EXT+="",availability_zone,binding,default-subnetpools,dhcp_agent_scheduler"" DEFAULT_NET_EXT+="",dvr,ext-gw-mode,external-net,extra_dhcp_opt,extraroute,flavors"" DEFAULT_NET_EXT+="",l3-flavors,l3-ha,l3_agent_scheduler,multi-provider,net-mtu"" DEFAULT_NET_EXT+="",network-ip-availability,network_availability_zone,pagination"" DEFAULT_NET_EXT+="",port-security,project-id,provider,quotas,quota_details,rbac-policies"" DEFAULT_NET_EXT+="",revision-if-match,router,router_availability_zone,security-group,service-type,sorting"" DEFAULT_NET_EXT+="",standard-attr-description,standard-attr-revisions,standard-attr-tag,standard-attr-timestamp"" DEFAULT_NET_EXT+="",subnet-service-types,subnet_allocation,net-mtu-writable,ip-substring-filtering"" DEFAULT_NET_EXT+="",availability_zone_filter,filter-validation,empty-string-filtering,port-mac-address-regenerate"" DEFAULT_NET_EXT+="",port-security-groups-filtering,fip-port-details,binding-extended"" DEFAULT_NET_EXT+="",subnet_onboard,l3-port-ip-change-not-allowed,agent-resources-synced"" DEFAULT_NET_EXT+="",floatingip-pools,rbac-security-groups,subnetpool-prefix-ops,router-admin-state-down-before-update"" DEFAULT_NET_EXT+="",rbac-subnetpool,tag-ports-during-bulk-creation,stateful-security-group,address-group,extraroute-atomic"" DEFAULT_NET_EXT+="",port-numa-affinity-policy,rbac-address-scope,security-groups-remote-address-group"" #New in wallaby DEFAULT_NET_EXT+="",rbac-address-group,port-device-profile"" local network_api_extensions=${NETWORK_API_EXTENSIONS:-$DEFAULT_NET_EXT} DEFAULT_SWIFT_OPT=""account_quotas,bulk_delete,bulk_upload,container_quotas"" DEFAULT_SWIFT_OPT+="",container_sync,crossdomain,formpost,ratelimit,slo"" DEFAULT_SWIFT_OPT+="",staticweb,tempauth,tempurl,versioned_writes"" local object_storage_api_extensions=${OBJECT_STORAGE_API_EXTENSIONS:-$DEFAULT_SWIFT_OPT} DEFAULT_VOL_EXT=""OS-SCH-HNT,backups,capabilities,cgsnapshots,consistencygroups"" DEFAULT_VOL_EXT+="",encryption,os-admin-actions,os-availability-zone"" DEFAULT_VOL_EXT+="",os-extended-services,os-extended-snapshot-attributes"" DEFAULT_VOL_EXT+="",os-hosts,os-quota-class-sets,os-quota-sets"" DEFAULT_VOL_EXT+="",os-services,os-snapshot-actions,os-snapshot-manage"" DEFAULT_VOL_EXT+="",os-snapshot-unmanage,os-types-extra-specs,os-types-manage"" DEFAULT_VOL_EXT+="",os-used-limits,os-vol-host-attr,os-vol-image-meta"" DEFAULT_VOL_EXT+="",os-vol-mig-status-attr,os-vol-tenant-attr,os-volume-actions"" DEFAULT_VOL_EXT+="",os-volume-encryption-metadata,os-volume-manage"" DEFAULT_VOL_EXT+="",os-volume-transfer,os-volume-type-access"" DEFAULT_VOL_EXT+="",os-volume-unmanage,qos-specs,scheduler-stats"" local volume_api_extensions=${VOLUME_API_EXTENSIONS:-$DEFAULT_VOL_EXT}"," local network_api_extensions=${NETWORK_API_EXTENSIONS:-""all""} local object_storage_api_extensions=${OBJECT_STORAGE_API_EXTENSIONS:-""all""} local volume_api_extensions=${VOLUME_API_EXTENSIONS:-""all""}",36,3
openstack%2Fgrenade~master~I31b218ec4b50b0419aede4cfffdbd7e669d1ac52,openstack/grenade,master,I31b218ec4b50b0419aede4cfffdbd7e669d1ac52,Update the master grenade setting for wallaby to master upgrade,MERGED,2021-04-06 15:56:38.000000000,2021-04-07 18:45:22.000000000,2021-04-07 18:40:13.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-06 15:56:38.000000000', 'files': ['roles/configure-grenade-branches/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/106a5a2af24154fe6e05a0e241891c3b1dce5403', 'message': 'Update the master grenade setting for wallaby to master upgrade\n\nChange-Id: I31b218ec4b50b0419aede4cfffdbd7e669d1ac52\n'}]",0,785006,106a5a2af24154fe6e05a0e241891c3b1dce5403,8,3,1,8556,,,0,"Update the master grenade setting for wallaby to master upgrade

Change-Id: I31b218ec4b50b0419aede4cfffdbd7e669d1ac52
",git fetch https://review.opendev.org/openstack/grenade refs/changes/06/785006/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/configure-grenade-branches/defaults/main.yaml'],1,106a5a2af24154fe6e05a0e241891c3b1dce5403,qa-wallaby-release,grenade_from_branch: stable/wallaby,grenade_from_branch: stable/victoria,1,1
openstack%2Fgrenade~stable%2Fwallaby~I19d866e00fdc71d9bb44c7e281b5d6725b0dd5ff,openstack/grenade,stable/wallaby,I19d866e00fdc71d9bb44c7e281b5d6725b0dd5ff,Update grenade setting in stable/wallaby,MERGED,2021-04-06 15:59:36.000000000,2021-04-07 18:45:21.000000000,2021-04-07 18:40:10.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-06 15:59:36.000000000', 'files': ['.zuul.yaml', 'roles/configure-grenade-branches/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/a0aa64090b3e47bd10782d4b38340965e2354431', 'message': 'Update grenade setting in stable/wallaby\n\nAlong with updating the grenade setting for\nstable/wallaby, adding the forward upgrade job as experimental.\n\nChange-Id: I19d866e00fdc71d9bb44c7e281b5d6725b0dd5ff\n'}]",0,785007,a0aa64090b3e47bd10782d4b38340965e2354431,8,3,1,8556,,,0,"Update grenade setting in stable/wallaby

Along with updating the grenade setting for
stable/wallaby, adding the forward upgrade job as experimental.

Change-Id: I19d866e00fdc71d9bb44c7e281b5d6725b0dd5ff
",git fetch https://review.opendev.org/openstack/grenade refs/changes/07/785007/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'roles/configure-grenade-branches/defaults/main.yaml']",2,a0aa64090b3e47bd10782d4b38340965e2354431,qa-wallaby-release,grenade_to_branch: stable/wallaby,grenade_to_branch: master,4,2
openstack%2Fdevstack~stable%2Fwallaby~I62720c959947f813f51f5c8b73ec727672c414dd,openstack/devstack,stable/wallaby,I62720c959947f813f51f5c8b73ec727672c414dd,Update devstack branches for stable/wallaby,MERGED,2021-04-06 15:33:26.000000000,2021-04-07 18:45:20.000000000,2021-04-07 18:40:07.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-06 15:33:26.000000000', 'files': ['tests/test_libs_from_pypi.sh', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/32379bab32f05a6419fa0daf9133e812f153d347', 'message': 'Update devstack branches for stable/wallaby\n\nChange-Id: I62720c959947f813f51f5c8b73ec727672c414dd\n'}]",0,784974,32379bab32f05a6419fa0daf9133e812f153d347,10,3,1,8556,,,0,"Update devstack branches for stable/wallaby

Change-Id: I62720c959947f813f51f5c8b73ec727672c414dd
",git fetch https://review.opendev.org/openstack/devstack refs/changes/74/784974/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test_libs_from_pypi.sh', 'stackrc']",2,32379bab32f05a6419fa0daf9133e812f153d347,qa-wallaby-release,TARGET_BRANCH=stable/wallaby,TARGET_BRANCH=master,1,13
openstack%2Ftripleo-ansible~master~Ib0de0a516504d542a0f01ee40129e139a5709c33,openstack/tripleo-ansible,master,Ib0de0a516504d542a0f01ee40129e139a5709c33,Fix systemd warnings around executable and world-inaccessible bits,MERGED,2021-04-02 16:47:14.000000000,2021-04-07 18:41:01.000000000,2021-04-07 18:41:01.000000000,"[{'_account_id': 6926}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-02 16:47:14.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/shutdown.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b7891538819939b1be24394b9b24fe7edd08791f', 'message': ""Fix systemd warnings around executable and world-inaccessible bits\n\nRight now we get the following warnings in the journal:\nApr 02 10:47:48 controller-1.localdomain systemd[1]: Configuration file /usr/lib/systemd/system/tripleo-container-shutdown.service is marked executable. Please remove executable permission bits. Proceeding anyway.\nApr 02 10:47:48 controller-1.localdomain systemd[1]: Configuration file /usr/lib/systemd/system/tripleo-container-shutdown.service is marked world-inaccessible. This has no effect as configuration data is accessible via APIs without restrictions. Proceeding anyway.\nApr 02 10:47:48 controller-1.localdomain systemd[1]: Configuration file /usr/lib/systemd/system/netns-placeholder.service is marked executable. Please remove executable permission bits. Proceeding anyway.\nApr 02 10:47:48 controller-1.localdomain systemd[1]: Configuration file /usr/lib/systemd/system/netns-placeholder.service is marked world-inaccessible. This has no effect as configuration data is accessible via APIs without restrictions. Proceeding anyway.\n\nLet's make the two services 0644 so that these warnings go away.\nWhile we're at it we make 0644 also the preset files as ours are\nthe only ones with a non 0644 permission:\n[root@ctrl-1-0 system-preset]# ls -l /usr/lib/systemd/system-preset/\ntotal 28\n-rw-r--r--. 1 root root  264 Oct 29 20:09 85-display-manager.preset\n-rw-r--r--. 1 root root 3982 Oct 29 20:09 90-default.preset\n-rw-r--r--. 1 root root  951 Jun 22  2018 90-systemd.preset\n-rwx------. 1 root root   33 Mar 30 07:50 91-netns-placeholder.preset\n-rwx------. 1 root root   42 Mar 30 07:50 91-tripleo-container-shutdown.preset\n-rw-r--r--. 1 root root   10 Oct 29 20:09 99-default-disable.preset\n-rw-r--r--. 1 root root   30 Jan 11 10:17 fwupd-refresh.preset\n\nChange-Id: Ib0de0a516504d542a0f01ee40129e139a5709c33\n""}]",0,784602,b7891538819939b1be24394b9b24fe7edd08791f,19,6,1,20172,,,0,"Fix systemd warnings around executable and world-inaccessible bits

Right now we get the following warnings in the journal:
Apr 02 10:47:48 controller-1.localdomain systemd[1]: Configuration file /usr/lib/systemd/system/tripleo-container-shutdown.service is marked executable. Please remove executable permission bits. Proceeding anyway.
Apr 02 10:47:48 controller-1.localdomain systemd[1]: Configuration file /usr/lib/systemd/system/tripleo-container-shutdown.service is marked world-inaccessible. This has no effect as configuration data is accessible via APIs without restrictions. Proceeding anyway.
Apr 02 10:47:48 controller-1.localdomain systemd[1]: Configuration file /usr/lib/systemd/system/netns-placeholder.service is marked executable. Please remove executable permission bits. Proceeding anyway.
Apr 02 10:47:48 controller-1.localdomain systemd[1]: Configuration file /usr/lib/systemd/system/netns-placeholder.service is marked world-inaccessible. This has no effect as configuration data is accessible via APIs without restrictions. Proceeding anyway.

Let's make the two services 0644 so that these warnings go away.
While we're at it we make 0644 also the preset files as ours are
the only ones with a non 0644 permission:
[root@ctrl-1-0 system-preset]# ls -l /usr/lib/systemd/system-preset/
total 28
-rw-r--r--. 1 root root  264 Oct 29 20:09 85-display-manager.preset
-rw-r--r--. 1 root root 3982 Oct 29 20:09 90-default.preset
-rw-r--r--. 1 root root  951 Jun 22  2018 90-systemd.preset
-rwx------. 1 root root   33 Mar 30 07:50 91-netns-placeholder.preset
-rwx------. 1 root root   42 Mar 30 07:50 91-tripleo-container-shutdown.preset
-rw-r--r--. 1 root root   10 Oct 29 20:09 99-default-disable.preset
-rw-r--r--. 1 root root   30 Jan 11 10:17 fwupd-refresh.preset

Change-Id: Ib0de0a516504d542a0f01ee40129e139a5709c33
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/02/784602/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/tasks/shutdown.yml'],1,b7891538819939b1be24394b9b24fe7edd08791f,warning-fix2, mode: '0644' mode: '0644' mode: '0644' mode: '0644', mode: '0700' mode: '0700' mode: '0700' mode: '0700',4,4
openstack%2Fdevstack~stable%2Fwallaby~Id3fa99493c398bdd588f9fbdc2432d6a07ca6601,openstack/devstack,stable/wallaby,Id3fa99493c398bdd588f9fbdc2432d6a07ca6601,Cap max microversions for stable/wallaby,MERGED,2021-04-06 15:40:54.000000000,2021-04-07 18:40:23.000000000,2021-04-07 18:40:23.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-06 15:40:54.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ee69e4fd9f24a0009e366c9ddc21e84c4ca68431', 'message': 'Cap max microversions for stable/wallaby\n\nThis commit cap the max microversions for compute,\nvolume, and placement API for stable/wallaby.\n\nChange-Id: Id3fa99493c398bdd588f9fbdc2432d6a07ca6601\n'}]",3,784998,ee69e4fd9f24a0009e366c9ddc21e84c4ca68431,9,3,1,8556,,,0,"Cap max microversions for stable/wallaby

This commit cap the max microversions for compute,
volume, and placement API for stable/wallaby.

Change-Id: Id3fa99493c398bdd588f9fbdc2432d6a07ca6601
",git fetch https://review.opendev.org/openstack/devstack refs/changes/98/784998/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,ee69e4fd9f24a0009e366c9ddc21e84c4ca68431,qa-wallaby-release," local tempest_compute_max_microversion=${TEMPEST_COMPUTE_MAX_MICROVERSION:-""2.88""} local tempest_volume_max_microversion=${TEMPEST_VOLUME_MAX_MICROVERSION:-""3.64""} local tempest_placement_max_microversion=${TEMPEST_PLACEMENT_MAX_MICROVERSION:-""1.36""}"," local tempest_compute_max_microversion=${TEMPEST_COMPUTE_MAX_MICROVERSION:-""latest""} local tempest_volume_max_microversion=${TEMPEST_VOLUME_MAX_MICROVERSION:-""latest""} local tempest_placement_max_microversion=${TEMPEST_PLACEMENT_MAX_MICROVERSION:-""latest""}",3,3
openstack%2Fironic~stable%2Fwallaby~Ia7093a3ed48e19197f74da9e1c49416a974a76be,openstack/ironic,stable/wallaby,Ia7093a3ed48e19197f74da9e1c49416a974a76be,Update python-dracclient version,MERGED,2021-04-07 13:54:51.000000000,2021-04-07 18:12:48.000000000,2021-04-07 18:10:58.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2021-04-07 13:54:51.000000000', 'files': ['driver-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d6bb66dea77781b841974f603bcf2ad1286150b1', 'message': 'Update python-dracclient version\n\nUpdate python-dracclient version to indicate Wallaby compatibility with\n6.*.* releases.\n\nVersion 6.0.0 is available from PyPI [1].\n\n[1] https://pypi.org/project/python-dracclient/6.0.0/\n\nChange-Id: Ia7093a3ed48e19197f74da9e1c49416a974a76be\n(cherry picked from commit 90d21edbfd8e2251d6496b9bafd4c75e968b18a7)\n'}]",0,785196,d6bb66dea77781b841974f603bcf2ad1286150b1,9,3,1,11655,,,0,"Update python-dracclient version

Update python-dracclient version to indicate Wallaby compatibility with
6.*.* releases.

Version 6.0.0 is available from PyPI [1].

[1] https://pypi.org/project/python-dracclient/6.0.0/

Change-Id: Ia7093a3ed48e19197f74da9e1c49416a974a76be
(cherry picked from commit 90d21edbfd8e2251d6496b9bafd4c75e968b18a7)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/785196/1 && git format-patch -1 --stdout FETCH_HEAD,['driver-requirements.txt'],1,d6bb66dea77781b841974f603bcf2ad1286150b1,update-python-dracclient-version-stable/wallaby,"python-dracclient>=5.1.0,<7.0.0","python-dracclient>=5.1.0,<6.0.0",1,1
openstack%2Fironic-tempest-plugin~master~Ib54fa2e79800bb56ff14699e8ce4fbc460615670,openstack/ironic-tempest-plugin,master,Ib54fa2e79800bb56ff14699e8ce4fbc460615670,Test case for uefi-https-boot in standalone ironic,MERGED,2020-10-13 06:29:06.000000000,2021-04-07 18:12:33.000000000,2021-04-07 18:10:33.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-13 06:29:06.000000000', 'files': ['ironic_tempest_plugin/tests/scenario/ironic_standalone/test_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/8a1b5eb50c7678f2547bc38911e57d6db7e0dd58', 'message': 'Test case for uefi-https-boot in standalone ironic\n\nThis commit adds test case to support UEFI-HTTPS\nboot using ilo5 driver with standalone ironic.\n\nChange-Id: Ib54fa2e79800bb56ff14699e8ce4fbc460615670\n'}]",0,757696,8a1b5eb50c7678f2547bc38911e57d6db7e0dd58,31,3,1,19604,,,0,"Test case for uefi-https-boot in standalone ironic

This commit adds test case to support UEFI-HTTPS
boot using ilo5 driver with standalone ironic.

Change-Id: Ib54fa2e79800bb56ff14699e8ce4fbc460615670
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/96/757696/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/tests/scenario/ironic_standalone/test_basic_ops.py'],1,8a1b5eb50c7678f2547bc38911e57d6db7e0dd58,uefi-hhtps,class BaremetalIlo5UefiHTTPSWholediskHttpsLink( bsm.BaremetalStandaloneScenarioTest): api_microversion = '1.31' # to set the deploy_interface driver = 'ilo5' deploy_interface = 'direct' boot_interface = 'ilo-uefi-https' image_ref = CONF.baremetal.whole_disk_image_url image_checksum = CONF.baremetal.whole_disk_image_checksum wholedisk_image = True @decorators.idempotent_id('d926c683-1a32-edbc-07dc-95cd74eefecb') @utils.services('network') def test_ip_access_to_server(self): self.boot_and_verify_node() ,,17,0
openstack%2Fcinder-tempest-plugin~master~Ia8e634717eb11791048b15769a011530594dd211,openstack/cinder-tempest-plugin,master,Ia8e634717eb11791048b15769a011530594dd211,Volume retype with migrations and encryption tests,NEW,2020-03-27 22:01:21.000000000,2021-04-07 18:01:04.000000000,,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 11075}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-03-27 22:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/419399a7984f202aa0a16847782af9a3129d3f57', 'message': 'WIP: Retype test added\n\nChange-Id: Ia8e634717eb11791048b15769a011530594dd211\n'}, {'number': 2, 'created': '2020-04-07 17:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/0c61dbaad369ddaf0452c703f8288cde26c4dbb1', 'message': 'WIP: Retype test added\n\nChange-Id: Ia8e634717eb11791048b15769a011530594dd211\n'}, {'number': 3, 'created': '2020-04-13 20:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/46255ba51342f66ef7559150af4ce2504984f136', 'message': 'WIP: Retype test added\n\nChange-Id: Ia8e634717eb11791048b15769a011530594dd211\n'}, {'number': 4, 'created': '2020-04-14 18:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/99047b2cf8ae38728ac340323e7c567f3d34b11d', 'message': 'WIP: Retype test added\n\nChange-Id: Ia8e634717eb11791048b15769a011530594dd211\n'}, {'number': 5, 'created': '2020-04-15 16:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/e6ee5c1d347c55f0a111bb210ed3d9cf635da5da', 'message': 'WIP: Retype test added\n\nChange-Id: Ia8e634717eb11791048b15769a011530594dd211\n'}, {'number': 6, 'created': '2020-04-22 19:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/20632f0efd8a471e701ed5685355ca7ac6de1ed8', 'message': 'WIP: Retype test added\n\nChange-Id: Ia8e634717eb11791048b15769a011530594dd211\n'}, {'number': 7, 'created': '2020-04-22 20:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/ff8f478a0b31d3e09d593557297d4d8e0284aab1', 'message': 'WIP: Retype test added\n\nChange-Id: Ia8e634717eb11791048b15769a011530594dd211\n'}, {'number': 8, 'created': '2020-04-23 16:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/d161a504df6d87aaa4daf68b44089d09362ca07c', 'message': 'WIP: Retype test added\n\nChange-Id: Ia8e634717eb11791048b15769a011530594dd211\n'}, {'number': 9, 'created': '2020-04-30 22:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/574a3c19fb3be1b81359d8ab1af536d8355d042f', 'message': 'WIP: Retype test added\n\nChange-Id: Ia8e634717eb11791048b15769a011530594dd211\n'}, {'number': 10, 'created': '2020-05-05 18:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/51735ebcf449a87208379296505b0b3ea360c75e', 'message': 'WIP: Retype test added\n\nChange-Id: Ia8e634717eb11791048b15769a011530594dd211\n'}, {'number': 11, 'created': '2020-05-07 13:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/82f8fa8e9f7964f6339000ca7c53d13295b6f576', 'message': 'WIP: Retype test added\n\nChange-Id: Ia8e634717eb11791048b15769a011530594dd211\n'}, {'number': 12, 'created': '2020-05-07 13:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/db988d5456da5057859729852b1d7a70885488a7', 'message': 'WIP: Retype test added\n\nChange-Id: Ia8e634717eb11791048b15769a011530594dd211\n'}, {'number': 13, 'created': '2020-05-07 21:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/ba18a716799118af2d04390fd08e1d1152a86280', 'message': 'Volume retype with migrations and encryption tests\n\n- First scenario: retype unencrypted volume to LUKS type.\n- Second scenario: retype encrypted LUKS volume to regular type.\n\nChange-Id: Ia8e634717eb11791048b15769a011530594dd211\n'}, {'number': 14, 'created': '2020-05-08 16:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/9065baea256f0aa66d82d3c93df99af6a9cadd51', 'message': 'Volume retype with migrations and encryption tests\n\n- First scenario: retype unencrypted volume to LUKS type.\n- Second scenario: retype encrypted LUKS volume to regular type.\n\nChange-Id: Ia8e634717eb11791048b15769a011530594dd211\n'}, {'number': 15, 'created': '2020-05-08 21:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/3523cf7fcb87c098040b22751e9cfa324320e610', 'message': 'Volume retype with migrations and encryption tests\n\n- First scenario: retype unencrypted volume to LUKS type.\n- Second scenario: retype encrypted LUKS volume to regular type.\n\nChange-Id: Ia8e634717eb11791048b15769a011530594dd211\n'}, {'number': 16, 'created': '2020-05-12 17:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/cbdae46d3a3a6488964a519090afb8e590553cdb', 'message': 'Volume retype with migrations and encryption tests\n\n- First scenario: retype unencrypted volume to LUKS type.\n- Second scenario: retype encrypted LUKS volume to regular type.\n\nChange-Id: Ia8e634717eb11791048b15769a011530594dd211\n'}, {'number': 17, 'created': '2020-07-30 05:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/53ba16245ce5ebbc5b28b81d5b88427119bc711b', 'message': 'Volume retype with migrations and encryption tests\n\n- First scenario: retype unencrypted volume to LUKS type.\n- Second scenario: retype encrypted LUKS volume to regular type.\n\nDepends-On: https://review.opendev.org/742522\nDepends-On: https://review.opendev.org/743869/\nPartial-Bug: #1687880\n\nChange-Id: Ia8e634717eb11791048b15769a011530594dd211\n'}, {'number': 18, 'created': '2021-03-07 21:49:45.000000000', 'files': ['cinder_tempest_plugin/api/volume/admin/test_volume_retype.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/579bfea32e057b35d17a4da3f92bf972ac34a418', 'message': 'Volume retype with migrations and encryption tests\n\n- First scenario: retype unencrypted volume to LUKS type.\n- Second scenario: retype encrypted LUKS volume to regular type.\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/779114\nDepends-On: https://review.opendev.org/c/openstack/python-cinderclient/+/779110\nPartial-Bug: #1687880\nImplements: blueprint sizing-encrypted-volumes\nChange-Id: Ia8e634717eb11791048b15769a011530594dd211\n'}]",31,715566,579bfea32e057b35d17a4da3f92bf972ac34a418,61,6,18,20813,,,0,"Volume retype with migrations and encryption tests

- First scenario: retype unencrypted volume to LUKS type.
- Second scenario: retype encrypted LUKS volume to regular type.

Depends-On: https://review.opendev.org/c/openstack/cinder/+/779114
Depends-On: https://review.opendev.org/c/openstack/python-cinderclient/+/779110
Partial-Bug: #1687880
Implements: blueprint sizing-encrypted-volumes
Change-Id: Ia8e634717eb11791048b15769a011530594dd211
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/66/715566/5 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/api/volume/admin/test_volume_retype.py'],1,419399a7984f202aa0a16847782af9a3129d3f57,bp/sizing-encrypted-volumes,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from tempest.api.volume.admin.test_volume_retype import VolumeRetypeTest from tempest.common import waiters from tempest import config from tempest.lib import decorators CONF = config.CONF LOG = logging.getLogger(__name__) class VolumeRetypeWithoutMigrationTest(VolumeRetypeTest): @classmethod def resource_setup(cls): super(VolumeRetypeWithoutMigrationTest, cls).resource_setup() cls.src_vol_type = cls.create_volume_type('volume-type-1') cls.dst_vol_type = cls.create_volume_type('volume-type-2') @decorators.idempotent_id('ddf8b89e-0b1e-4a17-aeae-47f5fec970ab') def test_attach_after_retype(self): server = self.create_server() volume = self.create_volume(volume_type=self.src_vol_type['name']) # Retype the volume self._retype_volume(volume, migration_policy='never') # Attach the volume self.attach_volume(server['id'], volume['id']) # Check volume status vols = self.volumes_client.list_volumes(detail=True)['volumes'] self.assertEqual(len(vols), 1) self.assertEqual(vols[0]['status'], 'in-use') @decorators.idempotent_id('b90412ee-465d-46e9-b249-ec84a47d5f26') def test_retype_to_encrypted_type(self): # Create/get/update/delete encryption type. create_kwargs = {'provider': 'LuksEncryptor', 'control_location': 'front-end'} volume_type_id = self.create_volume_type()['id'] # Create encryption type encryption_type = \ self.admin_encryption_types_client.create_encryption_type( volume_type_id, **create_kwargs)['encryption'] self.assertIn('volume_type_id', encryption_type) for key in create_kwargs: self.assertEqual(create_kwargs[key], encryption_type[key], 'The created encryption_type %s is different ' 'from the requested encryption_type' % key) # Get encryption type encrypt_type_id = encryption_type['volume_type_id'] fetched_encryption_type = ( self.admin_encryption_types_client.show_encryption_type( encrypt_type_id)) for key in create_kwargs: self.assertEqual(create_kwargs[key], fetched_encryption_type[key], 'The fetched encryption_type %s is different ' 'from the created encryption_type' % key) src_vol = self.create_volume(volume_type=self.src_vol_type['name']) volume_source = self.admin_volume_client.show_volume( src_vol['id'])['volume'] self.volumes_client.retype_volume( src_vol['id'], new_type=encryption_type['name'], migration_policy='never') self.addCleanup(self._wait_for_internal_volume_cleanup, src_vol) waiters.wait_for_volume_retype(self.volumes_client, src_vol['id'], encryption_type['name']) volume_dest = self.admin_volume_client.show_volume( src_vol['id'])['volume'] self._verify_migration(volume_source, volume_dest) ",,92,0
openstack%2Fdesignate~master~Ia61939d31b0a07ad70c69535fedfbc3a42bc7fbd,openstack/designate,master,Ia61939d31b0a07ad70c69535fedfbc3a42bc7fbd,Imported Translations from Zanata,MERGED,2021-03-22 06:09:41.000000000,2021-04-07 17:46:30.000000000,2021-04-07 17:45:01.000000000,"[{'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-22 06:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ae24376cf40c89ba58595ca91baa3d3c30b0979e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia61939d31b0a07ad70c69535fedfbc3a42bc7fbd\n'}, {'number': 2, 'created': '2021-03-27 06:12:49.000000000', 'files': ['designate/locale/en_GB/LC_MESSAGES/designate.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/designate/commit/518e8a74c6d3809914ab19241d7062815ae69623', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia61939d31b0a07ad70c69535fedfbc3a42bc7fbd\n'}]",0,782014,518e8a74c6d3809914ab19241d7062815ae69623,21,4,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia61939d31b0a07ad70c69535fedfbc3a42bc7fbd
",git fetch https://review.opendev.org/openstack/designate refs/changes/14/782014/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/locale/en_GB/LC_MESSAGES/designate.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",2,ae24376cf40c89ba58595ca91baa3d3c30b0979e,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2021. #zanata""POT-Creation-Date: 2021-03-09 22:00+0000\n""""PO-Revision-Date: 2021-03-21 10:19+0000\n""msgid ""11.0.0-42"" msgstr ""11.0.0-42"" msgid ""8.0.1-4"" msgstr ""8.0.1-4"" msgid ""Adding distributed locking to central"" msgstr ""Adding distributed locking to central"" msgid ""Fixes `bug 1871332`_"" msgstr ""Fixes `bug 1871332`_"" ""The central service was not using a global lock which can lead to a race "" ""condition in a high availability setup leading to missing recordsets in the "" ""DNS backend. This release includes a partial backport of a distributed "" ""locking mechanism to central."" msgstr """" ""The central service was not using a global lock which can lead to a race "" ""condition in a high availability setup leading to missing recordsets in the "" ""DNS backend. This release includes a partial backport of a distributed "" ""locking mechanism to central."" msgid """"""The default value of ``[oslo_policy] policy_file`` config option has been "" ""changed from ``policy.json`` to ``policy.yaml``. Operators who are utilizing "" ""customized or previously generated static policy JSON files (which are not "" ""needed by default), should generate new policy files or convert them in YAML "" ""format. Use the `oslopolicy-convert-json-to-yaml <https://docs.openstack.org/"" ""oslo.policy/latest/cli/oslopolicy-convert-json-to-yaml.html>`_ tool to "" ""convert a JSON to YAML formatted policy file in backward compatible way."" msgstr """" ""The default value of ``[oslo_policy] policy_file`` config option has been "" ""changed from ``policy.json`` to ``policy.yaml``. Operators who are utilising "" ""customised or previously generated static policy JSON files (which are not "" ""needed by default), should generate new policy files or convert them in YAML "" ""format. Use the `oslopolicy-convert-json-to-yaml <https://docs.openstack.org/"" ""oslo.policy/latest/cli/oslopolicy-convert-json-to-yaml.html>`_ tool to "" ""convert a JSON to YAML formatted policy file in backward compatible way."" msgid """"msgid """" ""Use of JSON policy files was deprecated by the ``oslo.policy`` library "" ""during the Victoria development cycle. As a result, this deprecation is "" ""being noted in the Wallaby cycle with an anticipated future removal of "" ""support by ``oslo.policy``. As such operators will need to convert to YAML "" ""policy files. Please see the upgrade notes for details on migration of any "" ""custom policy files."" msgstr """" ""Use of JSON policy files was deprecated by the ``oslo.policy`` library "" ""during the Victoria development cycle. As a result, this deprecation is "" ""being noted in the Wallaby cycle with an anticipated future removal of "" ""support by ``oslo.policy``. As such operators will need to convert to YAML "" ""policy files. Please see the upgrade notes for details on migration of any "" ""custom policy files."" ","""POT-Creation-Date: 2020-10-27 19:37+0000\n""""PO-Revision-Date: 2020-10-28 01:20+0000\n""",64,4
openstack%2Fheat~stable%2Ftrain~Icc90a921ec67e49aec2c4acfad72235c57c78421,openstack/heat,stable/train,Icc90a921ec67e49aec2c4acfad72235c57c78421,Don't update status for replaced resource,MERGED,2021-04-04 08:11:55.000000000,2021-04-07 17:18:28.000000000,2021-04-07 17:16:45.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-04 08:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/aa5d7b69f0381464c9114277e9527a8311819f1a', 'message': ""Don't update status for replaced resource\n\nWith I04e7ad90944c2d03ce0e59ba16af9d60d6e01222 we allowed\nupdate of previously-existing resource if replacement\ncreation has failed during last update. However, we force\nupdate the status of the existing resource to 'COMPLETE'.\nTherefore, in the next update if properties/type has not\nchanged for the resource it won't try to update/replace\nthe previously existing resource resulting in false positive\nof stack updated successfully.\n\nTask: 42194\nChange-Id: Icc90a921ec67e49aec2c4acfad72235c57c78421\n(cherry picked from commit bfbaab107d709c37548a22239b952c6221b9ac85)\n""}, {'number': 2, 'created': '2021-04-07 04:47:53.000000000', 'files': ['heat/tests/db/test_sqlalchemy_api.py', 'heat/objects/resource.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ba2ed09ba167fa9b5bd49fb931e77a878cfb7bdb', 'message': ""Don't update status for replaced resource\n\nWith I04e7ad90944c2d03ce0e59ba16af9d60d6e01222 we allowed\nupdate of previously-existing resource if replacement\ncreation has failed during last update. However, we force\nupdate the status of the existing resource to 'COMPLETE'.\nTherefore, in the next update if properties/type has not\nchanged for the resource it won't try to update/replace\nthe previously existing resource resulting in false positive\nof stack updated successfully.\n\nTask: 42194\nChange-Id: Icc90a921ec67e49aec2c4acfad72235c57c78421\n(cherry picked from commit bfbaab107d709c37548a22239b952c6221b9ac85)\n""}]",0,784583,ba2ed09ba167fa9b5bd49fb931e77a878cfb7bdb,11,3,2,8833,,,0,"Don't update status for replaced resource

With I04e7ad90944c2d03ce0e59ba16af9d60d6e01222 we allowed
update of previously-existing resource if replacement
creation has failed during last update. However, we force
update the status of the existing resource to 'COMPLETE'.
Therefore, in the next update if properties/type has not
changed for the resource it won't try to update/replace
the previously existing resource resulting in false positive
of stack updated successfully.

Task: 42194
Change-Id: Icc90a921ec67e49aec2c4acfad72235c57c78421
(cherry picked from commit bfbaab107d709c37548a22239b952c6221b9ac85)
",git fetch https://review.opendev.org/openstack/heat refs/changes/83/784583/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/db/test_sqlalchemy_api.py', 'heat/objects/resource.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/resource.py']",4,aa5d7b69f0381464c9114277e9527a8311819f1a,,," update_data = {'status': self.COMPLETE} update_data,",2,12
openstack%2Fmonasca-api~stable%2Fvictoria~I49d436b0cf1503b148a04f82e1ee41941ebd9d0a,openstack/monasca-api,stable/victoria,I49d436b0cf1503b148a04f82e1ee41941ebd9d0a,Workaround for new pip 20.3 behavior,MERGED,2021-04-07 15:06:39.000000000,2021-04-07 17:17:53.000000000,2021-04-07 17:16:03.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-07 15:06:39.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0ace669f3ac621f8fdd5e0d4acce4453881a6bba', 'message': 'Workaround for new pip 20.3 behavior\n\nThis WA set specific pip version to avoid the issue:\n""ERROR: Links are not allowed as constraints"" [1]\nA proper fix would be to adapt to new pip behavior.\nSimilar issue on Devstack [2][3]\n\n[1] https://github.com/pypa/pip/issues/8210\n[2] https://bugs.launchpad.net/devstack/+bug/1906322\n[3] https://review.opendev.org/c/openstack/devstack/+/764803\n\nChange-Id: I49d436b0cf1503b148a04f82e1ee41941ebd9d0a\n(cherry picked from commit a93e1cc9798473dcaac748719da8ab5f0648ebc0)\n'}]",0,785202,0ace669f3ac621f8fdd5e0d4acce4453881a6bba,7,2,1,28062,,,0,"Workaround for new pip 20.3 behavior

This WA set specific pip version to avoid the issue:
""ERROR: Links are not allowed as constraints"" [1]
A proper fix would be to adapt to new pip behavior.
Similar issue on Devstack [2][3]

[1] https://github.com/pypa/pip/issues/8210
[2] https://bugs.launchpad.net/devstack/+bug/1906322
[3] https://review.opendev.org/c/openstack/devstack/+/764803

Change-Id: I49d436b0cf1503b148a04f82e1ee41941ebd9d0a
(cherry picked from commit a93e1cc9798473dcaac748719da8ab5f0648ebc0)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/02/785202/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,0ace669f3ac621f8fdd5e0d4acce4453881a6bba,cap-pip-23-0-stable/victoria, # TODO: remove the trailing pip version when a proper fix # arrives for handling this bug https://github.com/pypa/pip/issues/8210 # Similar issue: https://bugs.launchpad.net/devstack/+bug/1906322 (cd /opt/monasca-agent ; virtualenv -p python3 . ; bin/python3 -m pip install --upgrade pip==20.2.3), (cd /opt/monasca-agent ; virtualenv -p python3 .),6,1
openstack%2Fkolla-ansible~master~I551f93c9bf1ad6712b53c316074ae1df84e4352b,openstack/kolla-ansible,master,I551f93c9bf1ad6712b53c316074ae1df84e4352b,masakari: fix minor issues with instance monitor,MERGED,2021-03-26 11:04:14.000000000,2021-04-07 17:15:35.000000000,2021-04-07 17:13:15.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-26 11:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2ebe33bbf66e7101b229d0025fece92c9725735e', 'message': ""masakari: fix minor issues with instance monitor\n\n* Don't generate masakari.conf for instance monitor\n* Don't generate masakari-monitors.conf for API or engine\n* Use a consistent name for dimensions -\n  masakari_instancemonitor_dimensions\n* Fix source code paths in dev mode\n\nChange-Id: I551f93c9bf1ad6712b53c316074ae1df84e4352b\n""}, {'number': 2, 'created': '2021-04-07 13:28:01.000000000', 'files': ['releasenotes/notes/masakari-instancemonitor-fixes-dc13e5234456d4c5.yaml', 'ansible/roles/masakari/tasks/clone.yml', 'ansible/roles/masakari/tasks/config.yml', 'ansible/roles/masakari/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0b0dd35837a22cad8313dd8df6806dc316919a2f', 'message': ""masakari: fix minor issues with instance monitor\n\n* Don't generate masakari.conf for instance monitor\n* Don't generate masakari-monitors.conf for API or engine\n* Use a consistent name for dimensions -\n  masakari_instancemonitor_dimensions\n* Fix source code paths in dev mode\n\nChange-Id: I551f93c9bf1ad6712b53c316074ae1df84e4352b\n""}]",0,783256,0b0dd35837a22cad8313dd8df6806dc316919a2f,14,3,2,14826,,,0,"masakari: fix minor issues with instance monitor

* Don't generate masakari.conf for instance monitor
* Don't generate masakari-monitors.conf for API or engine
* Use a consistent name for dimensions -
  masakari_instancemonitor_dimensions
* Fix source code paths in dev mode

Change-Id: I551f93c9bf1ad6712b53c316074ae1df84e4352b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/783256/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/masakari-instancemonitor-fixes-dc13e5234456d4c5.yaml', 'ansible/roles/masakari/tasks/clone.yml', 'ansible/roles/masakari/tasks/config.yml', 'ansible/roles/masakari/defaults/main.yml']",4,2ebe33bbf66e7101b229d0025fece92c9725735e,," dimensions: ""{{ masakari_instancemonitor_dimensions }}""# NOTE(mgoddard): Allow masakari_monitors_dimensions for backwards # compatibility. masakari_instancemonitor_dimensions: ""{{ masakari_monitors_dimensions | default(default_container_dimensions) }}"" - ""{{ kolla_dev_repos_directory ~ '/masakari-monitors/masakarimonitors:/var/lib/kolla/venv/lib/python' ~ distro_python_version ~ '/site-packages/masakarimonitors' if masakari_dev_mode | bool else '' }}""masakari_monitors_git_repository: ""{{ kolla_dev_repos_git }}/masakari-monitors"""," dimensions: ""{{ masakari_monitors_dimensions }}""masakari_monitors_dimensions: ""{{ default_container_dimensions }}"" - ""{{ kolla_dev_repos_directory ~ '/masakari/masakari:/var/lib/kolla/venv/lib/python' ~ distro_python_version ~ '/site-packages/masakari' if masakari_dev_mode | bool else '' }}""masakari_monitors_git_repository: ""{{ kolla_dev_repos_git }}/masakarimonitors""",38,19
openstack%2Fswift~master~I68f52f28edf9bdb9c534983cf353b72ecfaac426,openstack/swift,master,I68f52f28edf9bdb9c534983cf353b72ecfaac426,sharder: Prevent ValueError when no cleaving contexts,MERGED,2021-04-05 19:10:52.000000000,2021-04-07 17:15:04.000000000,2021-04-07 13:54:59.000000000,"[{'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 19:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0f4ea0772720dc5adc52bd42ba52098d595fb85d', 'message': 'sharder: Prevent ValueError when no cleaving contexts\n\nOtherwise, we trip an error in logs:\n\n   ValueError: max() arg is an empty sequence\n\nChange-Id: I68f52f28edf9bdb9c534983cf353b72ecfaac426\n'}, {'number': 2, 'created': '2021-04-07 05:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/90696b3a1c8907c59d63f948720d745f10618d72', 'message': 'sharder: Prevent ValueError when no cleaving contexts\n\nOtherwise, we trip an error in logs:\n\n   ValueError: max() arg is an empty sequence\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I68f52f28edf9bdb9c534983cf353b72ecfaac426\n'}, {'number': 3, 'created': '2021-04-07 11:26:01.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e53c82cd32e99513dba00a28c29953cadcc9bd87', 'message': 'sharder: Prevent ValueError when no cleaving contexts\n\nOtherwise, we trip an error in logs:\n\n   ValueError: max() arg is an empty sequence\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I68f52f28edf9bdb9c534983cf353b72ecfaac426\n'}]",2,784816,e53c82cd32e99513dba00a28c29953cadcc9bd87,17,4,3,15343,,,0,"sharder: Prevent ValueError when no cleaving contexts

Otherwise, we trip an error in logs:

   ValueError: max() arg is an empty sequence

Co-Authored-By: Matthew Oliver <matt@oliver.net.au>
Change-Id: I68f52f28edf9bdb9c534983cf353b72ecfaac426
",git fetch https://review.opendev.org/openstack/swift refs/changes/16/784816/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/sharder.py'],1,0f4ea0772720dc5adc52bd42ba52098d595fb85d,no-context," contexts = CleavingContext.load_all(broker) if not contexts: return context_ts = max(float(ts) for c, ts in contexts) if context_ts + self.recon_sharded_timeout \ < Timestamp.now().timestamp: # last context timestamp too old for the"," context_ts = max([float(ts) for c, ts in CleavingContext.load_all(broker)]) or None if not context_ts or (context_ts + self.recon_sharded_timeout < Timestamp.now().timestamp): # not contexts or last context timestamp too old for the",7,5
openstack%2Ftripleo-common~stable%2Ftrain~I1e94668978fbf1dc928b6af50a404e6c687707da,openstack/tripleo-common,stable/train,I1e94668978fbf1dc928b6af50a404e6c687707da,container-images: fix Cinder when running at Edge,MERGED,2021-04-06 16:25:33.000000000,2021-04-07 17:12:05.000000000,2021-04-07 17:09:56.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-06 16:25:33.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/818695e10595ffb6ede2ce854b00a0f985bf1a01', 'message': 'container-images: fix Cinder when running at Edge\n\nWhen Cinder Volume is running at the Edge, we need to support the\nOS::TripleO::Services::CinderVolumeEdge service; as well as the\nContainerCinderConfigImage parameter for the Cinder Volume, since it\nonly used to be added for Cinder API but Cinder API is disabled at the\nEdge.\n\nCloses-Bug: #1920704\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\nChange-Id: I1e94668978fbf1dc928b6af50a404e6c687707da\n(cherry picked from commit 8dc6dfe488439b26db5eec1ae63ef77322bc3787)\n'}]",0,784982,818695e10595ffb6ede2ce854b00a0f985bf1a01,8,4,1,18002,,,0,"container-images: fix Cinder when running at Edge

When Cinder Volume is running at the Edge, we need to support the
OS::TripleO::Services::CinderVolumeEdge service; as well as the
ContainerCinderConfigImage parameter for the Cinder Volume, since it
only used to be added for Cinder API but Cinder API is disabled at the
Edge.

Closes-Bug: #1920704
Signed-off-by: Emilien Macchi <emilien@redhat.com>
Change-Id: I1e94668978fbf1dc928b6af50a404e6c687707da
(cherry picked from commit 8dc6dfe488439b26db5eec1ae63ef77322bc3787)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/82/784982/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml.j2'],1,818695e10595ffb6ede2ce854b00a0f985bf1a01,cinder-edge-stable/victoria-stable/ussuri-stable/train, - OS::TripleO::Services::CinderVolumeEdge - OS::TripleO::Services::CinderVolumeEdge,,2,0
openstack%2Ftripleo-common~stable%2Fussuri~I1e94668978fbf1dc928b6af50a404e6c687707da,openstack/tripleo-common,stable/ussuri,I1e94668978fbf1dc928b6af50a404e6c687707da,container-images: fix Cinder when running at Edge,MERGED,2021-04-05 18:17:40.000000000,2021-04-07 17:11:38.000000000,2021-04-07 17:10:00.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-04-05 18:17:40.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e4e0609afbc9d1ff070196bdc777ac5fa84c73ec', 'message': 'container-images: fix Cinder when running at Edge\n\nWhen Cinder Volume is running at the Edge, we need to support the\nOS::TripleO::Services::CinderVolumeEdge service; as well as the\nContainerCinderConfigImage parameter for the Cinder Volume, since it\nonly used to be added for Cinder API but Cinder API is disabled at the\nEdge.\n\nCloses-Bug: #1920704\nSigned-off-by: Emilien Macchi <emilien@redhat.com>\nChange-Id: I1e94668978fbf1dc928b6af50a404e6c687707da\n(cherry picked from commit 8dc6dfe488439b26db5eec1ae63ef77322bc3787)\n'}]",0,784594,e4e0609afbc9d1ff070196bdc777ac5fa84c73ec,15,5,1,18002,,,0,"container-images: fix Cinder when running at Edge

When Cinder Volume is running at the Edge, we need to support the
OS::TripleO::Services::CinderVolumeEdge service; as well as the
ContainerCinderConfigImage parameter for the Cinder Volume, since it
only used to be added for Cinder API but Cinder API is disabled at the
Edge.

Closes-Bug: #1920704
Signed-off-by: Emilien Macchi <emilien@redhat.com>
Change-Id: I1e94668978fbf1dc928b6af50a404e6c687707da
(cherry picked from commit 8dc6dfe488439b26db5eec1ae63ef77322bc3787)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/94/784594/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml.j2'],1,e4e0609afbc9d1ff070196bdc777ac5fa84c73ec,cinder-edge-stable/victoria-stable/ussuri, - OS::TripleO::Services::CinderVolumeEdge - OS::TripleO::Services::CinderVolumeEdge,,2,0
openstack%2Ftripleo-common~master~I64776992a7e457781aa8ddaba359ef085d4cb77d,openstack/tripleo-common,master,I64776992a7e457781aa8ddaba359ef085d4cb77d,healthcheck_port: drop lsof in favor of awk/find,MERGED,2021-04-06 15:50:13.000000000,2021-04-07 17:11:27.000000000,2021-04-07 17:10:04.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-06 15:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0625e28fcd67d26849089c578c54cc9a9c9c833f', 'message': 'healthcheck_port: drop lsof in favor of awk/find\n\nIt seems lsof is a bit too heavy on the system when multiple\nhealthchecks are running in parallel.\nSo instead of calling a ""big"" process, let\'s split a bit things and get\nto the filesystem directly in order to pick only the things we actually\nneed.\n\nWhat changes:\n- using /proc/net/{tcp,udp}, we get every socket matching the port\n- using find with the right options, we can ensure at least one socket\n  exists with the wanted inode(s)\n\nThe last part exits as soon as we have a match in order to make it\nfaster and less resource consuming.\n\nChange-Id: I64776992a7e457781aa8ddaba359ef085d4cb77d\nPartial-Bug: #1921714\n'}, {'number': 2, 'created': '2021-04-07 06:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7f4c9c5b61aa297ae0fd8c6cec70e0d77d5bdd69', 'message': 'healthcheck_port: drop lsof in favor of awk/find\n\nIt seems lsof is a bit too heavy on the system when multiple\nhealthchecks are running in parallel.\nSo instead of calling a ""big"" process, let\'s split a bit things and get\nto the filesystem directly in order to pick only the things we actually\nneed.\n\nWhat changes:\n- using /proc/net/{tcp,udp}, we get every socket matching the port\n- using find with the right options, we can ensure at least one socket\n  exists with the wanted inode(s)\n\nThe last part exits as soon as we have a match in order to make it\nfaster and less resource consuming.\n\nChange-Id: I64776992a7e457781aa8ddaba359ef085d4cb77d\nPartial-Bug: #1921714\n'}, {'number': 3, 'created': '2021-04-07 07:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8fada611d61e6769c526637933d32311c05a35cc', 'message': 'healthcheck_port: drop lsof in favor of awk/find\n\nIt seems lsof is a bit too heavy on the system when multiple\nhealthchecks are running in parallel.\nSo instead of calling a ""big"" process, let\'s split a bit things and get\nto the filesystem directly in order to pick only the things we actually\nneed.\n\nWhat changes:\n- using /proc/net/{tcp,udp}, we get every socket matching the port\n- using find with the right options, we can ensure at least one socket\n  exists with the wanted inode(s)\n\nThe last part exits as soon as we have a match in order to make it\nfaster and less resource consuming.\n\nChange-Id: I64776992a7e457781aa8ddaba359ef085d4cb77d\nPartial-Bug: #1921714\n'}, {'number': 4, 'created': '2021-04-07 08:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fe9a86edb87e77d2557dd5e70a520a52c94e63c2', 'message': 'healthcheck_port: drop lsof in favor of awk/find\n\nIt seems lsof is a bit too heavy on the system when multiple\nhealthchecks are running in parallel.\nSo instead of calling a ""big"" process, let\'s split a bit things and get\nto the filesystem directly in order to pick only the things we actually\nneed.\n\nWhat changes:\n- using /proc/net/{tcp,udp}, we get every socket matching the port\n- using find with the right options, we can ensure at least one socket\n  exists with the wanted inode(s)\n\nThe last part exits as soon as we have a match in order to make it\nfaster and less resource consuming.\n\nChange-Id: I64776992a7e457781aa8ddaba359ef085d4cb77d\nPartial-Bug: #1921714\n'}, {'number': 5, 'created': '2021-04-07 08:42:36.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a072a7f07ea75933a2372b1a95ae960095a3250e', 'message': 'healthcheck_port: drop lsof in favor of awk/find\n\nIt seems lsof is a bit too heavy on the system when multiple\nhealthchecks are running in parallel.\nSo instead of calling a ""big"" process, let\'s split a bit things and get\nto the filesystem directly in order to pick only the things we actually\nneed.\n\nWhat changes:\n- using /proc/net/{tcp,udp}, we get every socket matching the port\n- using find with the right options, we can ensure at least one socket\n  exists with the wanted inode(s)\n\nThe last part exits as soon as we have a match in order to make it\nfaster and less resource consuming.\n\nChange-Id: I64776992a7e457781aa8ddaba359ef085d4cb77d\nPartial-Bug: #1921714\n'}]",19,785004,a072a7f07ea75933a2372b1a95ae960095a3250e,27,6,5,28223,,,0,"healthcheck_port: drop lsof in favor of awk/find

It seems lsof is a bit too heavy on the system when multiple
healthchecks are running in parallel.
So instead of calling a ""big"" process, let's split a bit things and get
to the filesystem directly in order to pick only the things we actually
need.

What changes:
- using /proc/net/{tcp,udp}, we get every socket matching the port
- using find with the right options, we can ensure at least one socket
  exists with the wanted inode(s)

The last part exits as soon as we have a match in order to make it
faster and less resource consuming.

Change-Id: I64776992a7e457781aa8ddaba359ef085d4cb77d
Partial-Bug: #1921714
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/04/785004/2 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,0625e28fcd67d26849089c578c54cc9a9c9c833f,drop-lsof," ports="""" # First convert port to hex value for p in $@; do ports=""${ports}|$(printf '%0.4x' $p)"" done ports=""(${ports:1})"" # Example: # 534: DE0D10AC:1628 DE0D10AC:8B7C 01 00000000:00000000 02:000000D3 00000000 42439 0 574360 2 0000000000000000 20 4 0 10 -1 # | | | # $2 Hex port | $10 Socket inode # $3 Connection target sockets=$(awk -i join -v m=${ports} '{if ($2 ~ m && $3 != """") {output[counter++] = $10} } END{print join(output, 1, length(output), ""|"")}' /proc/net/{tcp,udp}) match=0 for pid in $(pgrep -f $process); do match=$(( $match+$(sudo -u $puser find /proc/$pid/fd/ -ilname ""socket*"" -printf ""%l\n"" 2>/dev/null | grep -c -E ""(${sockets})"") )) test $match -gt 0 && exit 0 # exit as soon as we get a match done exit 1 # no early exit, meaning failure."," args=$@ puser=$(get_user_from_process $process) ports=${args// /,} pids=$(pgrep -d ',' -f $process) # First match exits - usually TCP and ""sudo TCP"" are enough. # `sudo' is needed, as in some cases even root can get a ""permission denied"" # on some file descriptors (case for heat_manager for example) # UDP support is needed for octavia manager (UDP:5555). lsof -n -w -P -a -iTCP:${ports} -p${pids} >&3 2>&1 || \ sudo -u $puser lsof -n -w -P -a -iTCP:${ports} -p${pids} >&3 2>&1 || \ lsof -w -P -a -iUDP:${ports} -p${pids} >&3 2>&1 || \ sudo -u $puser lsof -n -w -P -a -iUDP:${ports} -p${pids} >&3 2>&1",18,12
openstack%2Fmonasca-api~stable%2Fussuri~I49d436b0cf1503b148a04f82e1ee41941ebd9d0a,openstack/monasca-api,stable/ussuri,I49d436b0cf1503b148a04f82e1ee41941ebd9d0a,Workaround for new pip 20.3 behavior,MERGED,2021-04-07 15:07:41.000000000,2021-04-07 17:02:47.000000000,2021-04-07 17:00:44.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-07 15:07:41.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/36f18ae01d65eb369d8169825aef35aad0d3d037', 'message': 'Workaround for new pip 20.3 behavior\n\nThis WA set specific pip version to avoid the issue:\n""ERROR: Links are not allowed as constraints"" [1]\nA proper fix would be to adapt to new pip behavior.\nSimilar issue on Devstack [2][3]\n\n[1] https://github.com/pypa/pip/issues/8210\n[2] https://bugs.launchpad.net/devstack/+bug/1906322\n[3] https://review.opendev.org/c/openstack/devstack/+/764803\n\nChange-Id: I49d436b0cf1503b148a04f82e1ee41941ebd9d0a\n(cherry picked from commit a93e1cc9798473dcaac748719da8ab5f0648ebc0)\n'}]",0,785203,36f18ae01d65eb369d8169825aef35aad0d3d037,7,2,1,28062,,,0,"Workaround for new pip 20.3 behavior

This WA set specific pip version to avoid the issue:
""ERROR: Links are not allowed as constraints"" [1]
A proper fix would be to adapt to new pip behavior.
Similar issue on Devstack [2][3]

[1] https://github.com/pypa/pip/issues/8210
[2] https://bugs.launchpad.net/devstack/+bug/1906322
[3] https://review.opendev.org/c/openstack/devstack/+/764803

Change-Id: I49d436b0cf1503b148a04f82e1ee41941ebd9d0a
(cherry picked from commit a93e1cc9798473dcaac748719da8ab5f0648ebc0)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/03/785203/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,36f18ae01d65eb369d8169825aef35aad0d3d037,cap-pip-23-0-stable/ussuri, # TODO: remove the trailing pip version when a proper fix # arrives for handling this bug https://github.com/pypa/pip/issues/8210 # Similar issue: https://bugs.launchpad.net/devstack/+bug/1906322 (cd /opt/monasca-agent ; virtualenv -p python3 . ; bin/python3 -m pip install --upgrade pip==20.2.3), (cd /opt/monasca-agent ; virtualenv -p python3 .),6,1
openstack%2Fopenstack-helm-deployments~master~I66cf33acab58af036da72ae7d61f45527f68396b,openstack/openstack-helm-deployments,master,I66cf33acab58af036da72ae7d61f45527f68396b,Update Gates,MERGED,2021-04-02 20:54:16.000000000,2021-04-07 16:55:25.000000000,2021-04-07 16:55:25.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 20:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/7c11248290f39dfe50043052e638e3bc289e2baa', 'message': 'Update Gates\n\nMinor push for following airshipctl changes:\nhttps://review.opendev.org/c/airship/airshipctl/+/784436\n\nChange-Id: I66cf33acab58af036da72ae7d61f45527f68396b\n'}, {'number': 2, 'created': '2021-04-02 22:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/e4efd84277000bb42a0d7957ca617d5ffa52ee86', 'message': 'Update Gates\n\nMinor push for following airshipctl changes:\nhttps://review.opendev.org/c/airship/airshipctl/+/784436\n\nChange-Id: I66cf33acab58af036da72ae7d61f45527f68396b\n'}, {'number': 3, 'created': '2021-04-07 15:13:50.000000000', 'files': ['manifests/site/test-site/phases/patch_phases.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-deployments/commit/4e31f53af791f9bf4407b60f1551a552b860d596', 'message': 'Update Gates\n\nMinor push for following airshipctl changes:\nhttps://review.opendev.org/c/airship/airshipctl/+/784436\n\nChange-Id: I66cf33acab58af036da72ae7d61f45527f68396b\n'}]",0,784615,4e31f53af791f9bf4407b60f1551a552b860d596,12,3,3,29585,,,0,"Update Gates

Minor push for following airshipctl changes:
https://review.opendev.org/c/airship/airshipctl/+/784436

Change-Id: I66cf33acab58af036da72ae7d61f45527f68396b
",git fetch https://review.opendev.org/openstack/openstack-helm-deployments refs/changes/15/784615/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/site/test-site/phases/patch_phases.yaml', 'zuul.d/jobs.yaml']",2,7c11248290f39dfe50043052e638e3bc289e2baa,, timeout: 8400, timeout: 7200,13,1
openstack%2Fbarbican-tempest-plugin~master~Ibca9d44fb3d0f4fd9945a7e6c636e0fbf6beb42e,openstack/barbican-tempest-plugin,master,Ibca9d44fb3d0f4fd9945a7e6c636e0fbf6beb42e,Add secure-rbac tests for SecretStores API,MERGED,2021-04-01 22:05:55.000000000,2021-04-07 16:54:34.000000000,2021-04-07 16:54:34.000000000,"[{'_account_id': 5046}, {'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-04-01 22:05:55.000000000', 'files': ['barbican_tempest_plugin/config.py', 'barbican_tempest_plugin/tests/rbac/v1/test_secret_stores.py', 'barbican_tempest_plugin/plugin.py', 'barbican_tempest_plugin/services/key_manager/json/secret_stores_client.py', 'barbican_tempest_plugin/services/key_manager/json/__init__.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/e654464aa504635ad1c47bba9007390f4e4c3dbc', 'message': ""Add secure-rbac tests for SecretStores API\n\nThis patch adds basic RBAC test for the Secret Stores API for\nthe reader, member and admin personas with project scope.\n\nThe tests are skipped by a config option, as they require\nthe multiple-backends feature to be enabled in barbican.\n\nThe devstack instace we're using for gate tests does not have\nthis enabled, so we default to False for now.\n\nChange-Id: Ibca9d44fb3d0f4fd9945a7e6c636e0fbf6beb42e\n""}]",2,784511,e654464aa504635ad1c47bba9007390f4e4c3dbc,9,5,1,7973,,,0,"Add secure-rbac tests for SecretStores API

This patch adds basic RBAC test for the Secret Stores API for
the reader, member and admin personas with project scope.

The tests are skipped by a config option, as they require
the multiple-backends feature to be enabled in barbican.

The devstack instace we're using for gate tests does not have
this enabled, so we default to False for now.

Change-Id: Ibca9d44fb3d0f4fd9945a7e6c636e0fbf6beb42e
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/11/784511/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/config.py', 'barbican_tempest_plugin/plugin.py', 'barbican_tempest_plugin/tests/rbac/v1/test_secret_stores.py', 'barbican_tempest_plugin/services/key_manager/json/secret_stores_client.py', 'barbican_tempest_plugin/services/key_manager/json/__init__.py']",5,e654464aa504635ad1c47bba9007390f4e4c3dbc,secure-rbac,"from barbican_tempest_plugin.services.key_manager.json.secret_stores_client \ import SecretStoresClient 'SecretMetadataClient', 'SecretStoresClient'", 'SecretMetadataClient',268,2
openstack%2Fmonasca-api~stable%2Fwallaby~Id39be07a38307a16400d243752c7309d69b374f6,openstack/monasca-api,stable/wallaby,Id39be07a38307a16400d243752c7309d69b374f6,Re-enable Docker Zuul jobs,MERGED,2021-04-07 14:24:47.000000000,2021-04-07 16:46:26.000000000,2021-04-07 16:37:56.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-07 14:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/9946d2628a135c895d714fce6ee7f1e9ff404cab', 'message': 'Reenable Docker Zuul jobs\n\nDocker Zuul jobs were disabled previously because Wallaby u-c were\nnot yet ready.\n\nChange-Id: Id39be07a38307a16400d243752c7309d69b374f6\n'}, {'number': 2, 'created': '2021-04-07 14:27:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/eb5a359f4ee6385bf2d2676a1014a8662911d3b6', 'message': 'Re-enable Docker Zuul jobs\n\nDocker Zuul jobs were disabled previously because Wallaby u-c were\nnot yet ready.\n\nChange-Id: Id39be07a38307a16400d243752c7309d69b374f6\n'}]",0,785182,eb5a359f4ee6385bf2d2676a1014a8662911d3b6,8,2,2,28062,,,0,"Re-enable Docker Zuul jobs

Docker Zuul jobs were disabled previously because Wallaby u-c were
not yet ready.

Change-Id: Id39be07a38307a16400d243752c7309d69b374f6
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/82/785182/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9946d2628a135c895d714fce6ee7f1e9ff404cab,enable-docker-jobs-wallaby, - build-monasca-docker-image post: jobs: - publish-monasca-api-docker-image periodic: jobs: - publish-monasca-api-docker-image release: jobs: - publish-monasca-api-docker-image,,10,0
openstack%2Fhorizon~stable%2Fwallaby~I991fb9750ab9e35b67b06154764487375dd11d73,openstack/horizon,stable/wallaby,I991fb9750ab9e35b67b06154764487375dd11d73,Update cirros image to cirros-0.5.2-x86_64,MERGED,2021-04-07 12:56:18.000000000,2021-04-07 16:46:05.000000000,2021-04-07 16:40:28.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-04-07 12:56:18.000000000', 'files': ['openstack_dashboard/test/integration_tests/config.py', 'openstack_dashboard/test/integration_tests/horizon.conf'], 'web_link': 'https://opendev.org/openstack/horizon/commit/61ae2d2c697d3e64704641a6720c08ba5cfe5911', 'message': 'Update cirros image to cirros-0.5.2-x86_64\n\nDue to this change I12e0bdb3699e5343592ab834468ba6b2fcdcaaf4\nour integration job is failing. This patch update cirror image\nversion to fix our CI.\n\nChange-Id: I991fb9750ab9e35b67b06154764487375dd11d73\n(cherry picked from commit a42235f6f77521e153dd5ab5cbadf3c795020f72)\n'}]",0,785133,61ae2d2c697d3e64704641a6720c08ba5cfe5911,9,3,1,841,,,0,"Update cirros image to cirros-0.5.2-x86_64

Due to this change I12e0bdb3699e5343592ab834468ba6b2fcdcaaf4
our integration job is failing. This patch update cirror image
version to fix our CI.

Change-Id: I991fb9750ab9e35b67b06154764487375dd11d73
(cherry picked from commit a42235f6f77521e153dd5ab5cbadf3c795020f72)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/33/785133/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/integration_tests/config.py', 'openstack_dashboard/test/integration_tests/horizon.conf']",2,61ae2d2c697d3e64704641a6720c08ba5cfe5911,,image_name=cirros-0.5.2-x86_64-disk (15.5 MB)allow_delete_snapshot_before_volume=True ,image_name=cirros-0.5.1-x86_64-disk (15.6 MB)allow_delete_snapshot_before_volume=True,3,3
openstack%2Fdevstack-plugin-ceph~master~I2840c2d5f3d0f65e8f66ed9a803ea0f26d10f316,openstack/devstack-plugin-ceph,master,I2840c2d5f3d0f65e8f66ed9a803ea0f26d10f316,Add ussuri to check queue as non-voting,ABANDONED,2021-03-30 14:25:15.000000000,2021-04-07 16:39:13.000000000,,"[{'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 14:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/14cf61806b529221b04c36a26e8d882683d39157', 'message': 'Add ussuri to check queue as non-voting\n\nThis gives us a test run against Ceph on\nbionic nodes to help prevent regression against\nolder kernels (rbd map).\n\nRelated-Bug: #1921897\nChange-Id: I2840c2d5f3d0f65e8f66ed9a803ea0f26d10f316\n'}, {'number': 2, 'created': '2021-04-06 14:14:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/b4c727d01646a8e0a763f894a6088c51df68b480', 'message': 'Add ussuri to check queue as non-voting\n\nThis gives us a test run against Ceph on\nbionic nodes to help prevent regression against\nolder kernels (rbd map).\n\nRelated-Bug: #1921897\nChange-Id: I2840c2d5f3d0f65e8f66ed9a803ea0f26d10f316\n'}]",0,783884,b4c727d01646a8e0a763f894a6088c51df68b480,8,3,2,4523,,,0,"Add ussuri to check queue as non-voting

This gives us a test run against Ceph on
bionic nodes to help prevent regression against
older kernels (rbd map).

Related-Bug: #1921897
Change-Id: I2840c2d5f3d0f65e8f66ed9a803ea0f26d10f316
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/84/783884/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,14cf61806b529221b04c36a26e8d882683d39157,, - devstack-plugin-ceph-tempest-ussuri voting: false,,2,0
openstack%2Fkolla-ansible~master~I195e8e4b73ca8f573737355908eb30a3ef13b0d6,openstack/kolla-ansible,master,I195e8e4b73ca8f573737355908eb30a3ef13b0d6,Support bypassing Monasca Log API for control plane logs,MERGED,2021-02-17 15:48:28.000000000,2021-04-07 16:18:49.000000000,2021-03-24 19:03:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-02-17 15:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1bb39a61af1e7b41b31143ec9ac346386fdc6913', 'message': 'Support bypassing Monasca Log API for control plane logs\n\nThis change allows a user to forward control plane logs\ndirectly to Elasticsearch from Fluentd, rather than via\nthe Monasca Log API when Monasca is enabled. The Monasca\nLog API can continue to handle tenant logs.\n\nFor many use cases this is simpler, reduces resource\nconsumption and helps to decouple control plane logging\nservices from tenant logging services.\n\nIt may not always be desired, so is optional and off by\ndefault.\n\nChange-Id: I195e8e4b73ca8f573737355908eb30a3ef13b0d6\n'}, {'number': 2, 'created': '2021-02-18 11:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8e52e13595191fcb5c8d07c3a6691c2d3f44760c', 'message': 'Support bypassing Monasca Log API for control plane logs\n\nThis change allows a user to forward control plane logs\ndirectly to Elasticsearch from Fluentd, rather than via\nthe Monasca Log API when Monasca is enabled. The Monasca\nLog API can continue to handle tenant logs.\n\nFor many use cases this is simpler, reduces resource\nconsumption and helps to decouple control plane logging\nservices from tenant logging services.\n\nIt may not always be desired, so is optional and off by\ndefault.\n\nChange-Id: I195e8e4b73ca8f573737355908eb30a3ef13b0d6\n'}, {'number': 3, 'created': '2021-03-01 17:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/24b4997011569c407b1ceccc25fd590fa0ae4bfe', 'message': 'Support bypassing Monasca Log API for control plane logs\n\nThis change allows a user to forward control plane logs\ndirectly to Elasticsearch from Fluentd, rather than via\nthe Monasca Log API when Monasca is enabled. The Monasca\nLog API can continue to handle tenant logs.\n\nFor many use cases this is simpler, reduces resource\nconsumption and helps to decouple control plane logging\nservices from tenant logging services.\n\nIt may not always be desired, so is optional and off by\ndefault.\n\nChange-Id: I195e8e4b73ca8f573737355908eb30a3ef13b0d6\n'}, {'number': 4, 'created': '2021-03-03 17:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b0b3cbeb9f18e86aa6201aacd4f940dd6ddb8d83', 'message': 'Support bypassing Monasca Log API for control plane logs\n\nThis change allows a user to forward control plane logs\ndirectly to Elasticsearch from Fluentd, rather than via\nthe Monasca Log API when Monasca is enabled. The Monasca\nLog API can continue to handle tenant logs.\n\nFor many use cases this is simpler, reduces resource\nconsumption and helps to decouple control plane logging\nservices from tenant logging services.\n\nIt may not always be desired, so is optional and off by\ndefault.\n\nChange-Id: I195e8e4b73ca8f573737355908eb30a3ef13b0d6\n'}, {'number': 5, 'created': '2021-03-04 09:20:04.000000000', 'files': ['ansible/roles/common/templates/conf/output/00-local.conf.j2', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/common/tasks/config.yml', 'releasenotes/notes/support-bypassing-monasca-for-control-plane-logs-651a47edf440808b.yaml', 'ansible/roles/common/templates/conf/filter/00-record_transformer.conf.j2', 'doc/source/reference/logging-and-monitoring/monasca-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ca1a80ab2f6edbbac24d12342f1f2a58090a4130', 'message': 'Support bypassing Monasca Log API for control plane logs\n\nThis change allows a user to forward control plane logs\ndirectly to Elasticsearch from Fluentd, rather than via\nthe Monasca Log API when Monasca is enabled. The Monasca\nLog API can continue to handle tenant logs.\n\nFor many use cases this is simpler, reduces resource\nconsumption and helps to decouple control plane logging\nservices from tenant logging services.\n\nIt may not always be desired, so is optional and off by\ndefault.\n\nChange-Id: I195e8e4b73ca8f573737355908eb30a3ef13b0d6\n'}]",11,776219,ca1a80ab2f6edbbac24d12342f1f2a58090a4130,23,3,5,17669,,,0,"Support bypassing Monasca Log API for control plane logs

This change allows a user to forward control plane logs
directly to Elasticsearch from Fluentd, rather than via
the Monasca Log API when Monasca is enabled. The Monasca
Log API can continue to handle tenant logs.

For many use cases this is simpler, reduces resource
consumption and helps to decouple control plane logging
services from tenant logging services.

It may not always be desired, so is optional and off by
default.

Change-Id: I195e8e4b73ca8f573737355908eb30a3ef13b0d6
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/776219/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/output/00-local.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/common/tasks/config.yml', 'releasenotes/notes/support-bypassing-monasca-for-control-plane-logs-651a47edf440808b.yaml', 'ansible/roles/common/templates/conf/filter/00-record_transformer.conf.j2', 'doc/source/reference/logging-and-monitoring/monasca-guide.rst']",7,1bb39a61af1e7b41b31143ec9ac346386fdc6913,monasca_diet_v2,"You can optionally bypass Monasca for control plane logs, and instead have them sent directly to Elasticsearch. This should be avoided if you have deployed Monasca as a standalone service for the purpose of storing logs in a protected silo for security purposes. However, if this is not a relevant consideration, for example you have deployed Monasca alongside the existing Openstack control plane, then you may free up some resources by setting: .. code-block:: yaml monasca_ingest_control_plane_logs: ""no"" You should note that when making this change with the default ``kibana_log_prefix`` prefix of ``flog-``, you will need to create a new index pattern in Kibana accordingly. If you wish to continue to search all logs using the same index pattern in Kibana, then you can override ``kibana_log_prefix`` to ``monasca-`` or similar in ``/etc/kolla/globals.yml``: .. code-block:: yaml kibana_log_prefix: ""monasca-"" If you have enabled Elasticsearch Curator, it will be configured to rotate logs with index patterns matching either ``flog-`` or ``monasca-`` by default. If this is undesirable then you can update the ``elasticsearch_curator_index_pattern`` variable accordingly. ",,45,8
openstack%2Fkeystone~master~Ic80e7f8b80503b2ffa8fad38b483f01000b6ac2e,openstack/keystone,master,Ic80e7f8b80503b2ffa8fad38b483f01000b6ac2e,Adds support for creating projects by ID and extends mapping engine. (second try),NEW,2021-04-02 10:04:06.000000000,2021-04-07 16:15:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-02 10:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/63562c53bbf57ecd1a28867cc204dff70676fd53', 'message': 'Adds support for creating projects by ID and extends mapping engine.\n(second try)\n\nCurrently mapping engine can map multiple projects for user (as stated in https://docs.openstack.org/keystone/pike/advanced-topics/federation/mapping_combinations.html), but this support\nlacks from (a) dynamic mapping projects from assertion (for ex. projects ids are in assertion) and (b) mapping engine cannot map to list from assertion (if in asertion we have\n""some_field"": [ id1, id2, ..., idN ] - then using this field by substitution - eg ""{1}"" wont map this to whole needed structure of projects in mapping).\n\nIn patch I extend mapping schema by adding new field ""projects_spec"" of type string.\nThis field contains string formated like\n\n  project1ID:role1:role2:..:roleN,project2ID:role1:...:roleN,...\n\nand this is mapped into proper structure { ""projects"": [  { ""id"": .., ""roles"": [ ... ] }, ... ] }\nthis allows the identity provider to supply permission-like informations about what projects user should have access to.\n\nAlso new configuration options has been added to more precisely control behavior of auto-provisioned projects.\n\nChange-Id: Ic80e7f8b80503b2ffa8fad38b483f01000b6ac2e\n'}, {'number': 2, 'created': '2021-04-07 14:42:45.000000000', 'files': ['keystone/conf/__init__.py', 'keystone/federation/utils.py', 'keystone/auth/plugins/mapped.py', 'keystone/conf/mapped.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ec0a613d6b0053708bedb9cbec8a7d3462ea7f21', 'message': 'Adds support for creating projects by ID and extends mapping engine.\n(second try)\n\nCurrently mapping engine can map multiple projects for user (as stated in https://docs.openstack.org/keystone/pike/advanced-topics/federation/mapping_combinations.html), but this support\nlacks from (a) dynamic mapping projects from assertion (for ex. projects ids are in assertion) and (b) mapping engine cannot map to list from assertion (if in asertion we have\n""some_field"": [ id1, id2, ..., idN ] - then using this field by substitution - eg ""{1}"" wont map this to whole needed structure of projects in mapping).\n\nIn patch I extend mapping schema by adding new field ""projects_spec"" of type string.\nThis field contains string formated like\n\n  project1ID:role1:role2:..:roleN,project2ID:role1:...:roleN,...\n\nand this is mapped into proper structure { ""projects"": [  { ""id"": .., ""roles"": [ ... ] }, ... ] }\nthis allows the identity provider to supply permission-like informations about what projects user should have access to.\n\nAlso new configuration options has been added to more precisely control behavior of auto-provisioned projects.\n\nChange-Id: Ic80e7f8b80503b2ffa8fad38b483f01000b6ac2e\n'}]",0,784553,ec0a613d6b0053708bedb9cbec8a7d3462ea7f21,6,1,2,33315,,,0,"Adds support for creating projects by ID and extends mapping engine.
(second try)

Currently mapping engine can map multiple projects for user (as stated in https://docs.openstack.org/keystone/pike/advanced-topics/federation/mapping_combinations.html), but this support
lacks from (a) dynamic mapping projects from assertion (for ex. projects ids are in assertion) and (b) mapping engine cannot map to list from assertion (if in asertion we have
""some_field"": [ id1, id2, ..., idN ] - then using this field by substitution - eg ""{1}"" wont map this to whole needed structure of projects in mapping).

In patch I extend mapping schema by adding new field ""projects_spec"" of type string.
This field contains string formated like

  project1ID:role1:role2:..:roleN,project2ID:role1:...:roleN,...

and this is mapped into proper structure { ""projects"": [  { ""id"": .., ""roles"": [ ... ] }, ... ] }
this allows the identity provider to supply permission-like informations about what projects user should have access to.

Also new configuration options has been added to more precisely control behavior of auto-provisioned projects.

Change-Id: Ic80e7f8b80503b2ffa8fad38b483f01000b6ac2e
",git fetch https://review.opendev.org/openstack/keystone refs/changes/53/784553/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/conf/__init__.py', 'keystone/federation/utils.py', 'keystone/auth/plugins/mapped.py', 'keystone/conf/mapped.py']",4,63562c53bbf57ecd1a28867cc204dff70676fd53,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_config import cfg from keystone.conf import utils auto_create_project_by_name = cfg.BoolOpt( 'auto_create_project_by_name', default=True, help=utils.fmt("""""" Determines if projects mapped by name should be created """""")) auto_create_project_by_id = cfg.BoolOpt( 'auto_create_project_by_id', default=False, help=utils.fmt("""""" Determines if projects mapped by ID should be created """""")) ignore_uncreated_projects = cfg.BoolOpt( 'ignore_uncreated_projects', default=True, help=utils.fmt("""""" If set, projects that cannot be mapped (by ID or by name) are simply ignored. If not-set, then exception is thrown and user is not able to authenticate """""")) GROUP_NAME = __name__.split('.')[-1] ALL_OPTS = [ auto_create_project_by_name, auto_create_project_by_id, ignore_uncreated_projects ] def register_opts(conf): conf.register_opts(ALL_OPTS, group=GROUP_NAME) def list_opts(): return {GROUP_NAME: ALL_OPTS} ",,209,36
openstack%2Fkolla-ansible~master~I704feb4434c1eece3eb00c19dc5f934fd4bc27b4,openstack/kolla-ansible,master,I704feb4434c1eece3eb00c19dc5f934fd4bc27b4,Disable Monasca Log Metrics service by default,MERGED,2021-01-08 10:10:07.000000000,2021-04-07 16:05:15.000000000,2021-03-24 18:32:17.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-08 10:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/88ddb9a4581c1efa92e053c0a44f5390d9ef9b98', 'message': 'Disable Monasca Log Metrics service by default\n\nThe Log Metrics service is an admin only service. We now have\nsupport in Fluentd via the Prometheus plugin to create metrics\nfrom logs. These metrics can be scraped into Monasca or Prometheus.\nIt therefore makes sense to deprecate this service, starting by\ndisabling it by default, and then removing it after the X release.\nThis should improve the stability of the Monasca metrics pipeline\nby ensuring that all metrics pass via the Monasca API for\nvalidation, and ensure that metrics generated from logs are\navailable to both Prometheus and Monasca users by default.\n\nChange-Id: I704feb4434c1eece3eb00c19dc5f934fd4bc27b4\n'}, {'number': 2, 'created': '2021-01-08 15:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/477d5665a12e27b5d2405cdd4ec76dc986ab4c5a', 'message': 'Disable Monasca Log Metrics service by default\n\nThe Log Metrics service is an admin only service. We now have\nsupport in Fluentd via the Prometheus plugin to create metrics\nfrom logs. These metrics can be scraped into Monasca or Prometheus.\nIt therefore makes sense to deprecate this service, starting by\ndisabling it by default, and then removing it after the X release.\nThis should improve the stability of the Monasca metrics pipeline\nby ensuring that all metrics pass via the Monasca API for\nvalidation, and ensure that metrics generated from logs are\navailable to both Prometheus and Monasca users by default.\n\nChange-Id: I704feb4434c1eece3eb00c19dc5f934fd4bc27b4\n'}, {'number': 3, 'created': '2021-01-25 10:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a7750d75e07dca0135fd509caa8d7c2f950157c8', 'message': 'Disable Monasca Log Metrics service by default\n\nThe Log Metrics service is an admin only service. We now have\nsupport in Fluentd via the Prometheus plugin to create metrics\nfrom logs. These metrics can be scraped into Monasca or Prometheus.\nIt therefore makes sense to deprecate this service, starting by\ndisabling it by default, and then removing it after the X release.\nThis should improve the stability of the Monasca metrics pipeline\nby ensuring that all metrics pass via the Monasca API for\nvalidation, and ensure that metrics generated from logs are\navailable to both Prometheus and Monasca users by default.\n\nChange-Id: I704feb4434c1eece3eb00c19dc5f934fd4bc27b4\n'}, {'number': 4, 'created': '2021-02-17 13:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/876cf6381d12f06957019242551ed199d80e316b', 'message': 'Disable Monasca Log Metrics service by default\n\nThe Log Metrics service is an admin only service. We now have\nsupport in Fluentd via the Prometheus plugin to create metrics\nfrom logs. These metrics can be scraped into Monasca or Prometheus.\nIt therefore makes sense to deprecate this service, starting by\ndisabling it by default, and then removing it in the Xena release.\nThis should improve the stability of the Monasca metrics pipeline\nby ensuring that all metrics pass via the Monasca API for\nvalidation, and ensure that metrics generated from logs are\navailable to both Prometheus and Monasca users by default.\n\nChange-Id: I704feb4434c1eece3eb00c19dc5f934fd4bc27b4\n'}, {'number': 5, 'created': '2021-02-18 11:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/56dae9da1eed4b8f302d0b20472400495944e292', 'message': 'Disable Monasca Log Metrics service by default\n\nThe Log Metrics service is an admin only service. We now have\nsupport in Fluentd via the Prometheus plugin to create metrics\nfrom logs. These metrics can be scraped into Monasca or Prometheus.\nIt therefore makes sense to deprecate this service, starting by\ndisabling it by default, and then removing it in the Xena release.\nThis should improve the stability of the Monasca metrics pipeline\nby ensuring that all metrics pass via the Monasca API for\nvalidation, and ensure that metrics generated from logs are\navailable to both Prometheus and Monasca users by default.\n\nChange-Id: I704feb4434c1eece3eb00c19dc5f934fd4bc27b4\n'}, {'number': 6, 'created': '2021-03-01 17:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8525de58b6cd3d6f7aa99cc36918b3774f204d43', 'message': 'Disable Monasca Log Metrics service by default\n\nThe Log Metrics service is an admin only service. We now have\nsupport in Fluentd via the Prometheus plugin to create metrics\nfrom logs. These metrics can be scraped into Monasca or Prometheus.\nIt therefore makes sense to deprecate this service, starting by\ndisabling it by default, and then removing it in the Xena release.\nThis should improve the stability of the Monasca metrics pipeline\nby ensuring that all metrics pass via the Monasca API for\nvalidation, and ensure that metrics generated from logs are\navailable to both Prometheus and Monasca users by default.\n\nChange-Id: I704feb4434c1eece3eb00c19dc5f934fd4bc27b4\n'}, {'number': 7, 'created': '2021-03-03 17:23:04.000000000', 'files': ['releasenotes/notes/deprecate-monasca-log-metrics-service-d558015f1cf426df.yaml', 'ansible/roles/monasca/defaults/main.yml', 'doc/source/reference/logging-and-monitoring/monasca-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a52d6612191ff514b5889c939ed6e49c5c8c78c8', 'message': 'Disable Monasca Log Metrics service by default\n\nThe Log Metrics service is an admin only service. We now have\nsupport in Fluentd via the Prometheus plugin to create metrics\nfrom logs. These metrics can be scraped into Monasca or Prometheus.\nIt therefore makes sense to deprecate this service, starting by\ndisabling it by default, and then removing it in the Xena release.\nThis should improve the stability of the Monasca metrics pipeline\nby ensuring that all metrics pass via the Monasca API for\nvalidation, and ensure that metrics generated from logs are\navailable to both Prometheus and Monasca users by default.\n\nChange-Id: I704feb4434c1eece3eb00c19dc5f934fd4bc27b4\n'}]",4,769901,a52d6612191ff514b5889c939ed6e49c5c8c78c8,33,3,7,17669,,,0,"Disable Monasca Log Metrics service by default

The Log Metrics service is an admin only service. We now have
support in Fluentd via the Prometheus plugin to create metrics
from logs. These metrics can be scraped into Monasca or Prometheus.
It therefore makes sense to deprecate this service, starting by
disabling it by default, and then removing it in the Xena release.
This should improve the stability of the Monasca metrics pipeline
by ensuring that all metrics pass via the Monasca API for
validation, and ensure that metrics generated from logs are
available to both Prometheus and Monasca users by default.

Change-Id: I704feb4434c1eece3eb00c19dc5f934fd4bc27b4
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/769901/7 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-monasca-log-metrics-service-d558015f1cf426df.yaml', 'ansible/roles/monasca/defaults/main.yml']",2,88ddb9a4581c1efa92e053c0a44f5390d9ef9b98,monasca_ci_4," enabled: ""{{ monasca_enable_log_metrics_service }}"" # NOTE(dszumski): This can be removed after the X cycle when the # log metrics service is removed monasca_enable_log_metrics_service: False ", enabled: true,16,1
openstack%2Freleases~master~I7672f167a2279d7f00dd95b86ec83a8233e8bb63,openstack/releases,master,I7672f167a2279d7f00dd95b86ec83a8233e8bb63,Make tripleo repos release for stable/train branch,MERGED,2021-04-01 16:23:42.000000000,2021-04-07 15:55:07.000000000,2021-04-05 08:57:02.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-01 16:23:42.000000000', 'files': ['deliverables/train/os-net-config.yaml', 'deliverables/train/tripleo-validations.yaml', 'deliverables/train/paunch.yaml', 'deliverables/train/tripleo-common.yaml', 'deliverables/train/os-collect-config.yaml', 'deliverables/train/tripleo-ansible.yaml', 'deliverables/train/tripleo-heat-templates.yaml', 'deliverables/train/puppet-tripleo.yaml', 'deliverables/train/tripleo-puppet-elements.yaml', 'deliverables/train/os-apply-config.yaml', 'deliverables/train/python-tripleoclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/eacf856d5c84d133f1cd25f985f315c56d117c68', 'message': 'Make tripleo repos release for stable/train branch\n\nRelated puppet-tripleo metadata bump at [1]\n\n[1] Ice881206b3f413e0a22dcbfd557a7d8224b3449c\n\nChange-Id: I7672f167a2279d7f00dd95b86ec83a8233e8bb63\n'}]",3,784445,eacf856d5c84d133f1cd25f985f315c56d117c68,17,4,1,8449,,,0,"Make tripleo repos release for stable/train branch

Related puppet-tripleo metadata bump at [1]

[1] Ice881206b3f413e0a22dcbfd557a7d8224b3449c

Change-Id: I7672f167a2279d7f00dd95b86ec83a8233e8bb63
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/784445/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/os-net-config.yaml', 'deliverables/train/tripleo-validations.yaml', 'deliverables/train/paunch.yaml', 'deliverables/train/tripleo-common.yaml', 'deliverables/train/os-collect-config.yaml', 'deliverables/train/tripleo-ansible.yaml', 'deliverables/train/tripleo-heat-templates.yaml', 'deliverables/train/puppet-tripleo.yaml', 'deliverables/train/os-apply-config.yaml', 'deliverables/train/python-tripleoclient.yaml', 'deliverables/train/tripleo-puppet-elements.yaml']",11,eacf856d5c84d133f1cd25f985f315c56d117c68,, - version: 11.3.0 projects: - repo: openstack/tripleo-puppet-elements hash: 41cb7c9e2b3fb84167cbeaa4a867ce008fee064e,,44,0
openstack%2Fmonasca-notification~stable%2Fwallaby~I56101742e0a89d8be2e7bddedf60055b2efd7143,openstack/monasca-notification,stable/wallaby,I56101742e0a89d8be2e7bddedf60055b2efd7143,Re-enable Docker Zuul jobs,MERGED,2021-04-07 14:39:09.000000000,2021-04-07 15:53:26.000000000,2021-04-07 15:53:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-07 14:39:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/def8f8486b243ee7d0b54656e236bcefe3b7079b', 'message': 'Re-enable Docker Zuul jobs\n\nDocker Zuul jobs were disabled previously because Wallaby u-c were\nnot yet ready.\n\nChange-Id: I56101742e0a89d8be2e7bddedf60055b2efd7143\n'}]",0,785188,def8f8486b243ee7d0b54656e236bcefe3b7079b,6,2,1,28062,,,0,"Re-enable Docker Zuul jobs

Docker Zuul jobs were disabled previously because Wallaby u-c were
not yet ready.

Change-Id: I56101742e0a89d8be2e7bddedf60055b2efd7143
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/88/785188/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,def8f8486b243ee7d0b54656e236bcefe3b7079b,enable-docker-jobs-wallaby, - build-monasca-docker-image post: jobs: - publish-monasca-notification-docker-image periodic: jobs: - publish-monasca-notification-docker-image release: jobs: - publish-monasca-notification-docker-image,,10,0
openstack%2Fmonasca-thresh~stable%2Fwallaby~Ic8bf000a146b9052fd3d4c31541afebceca4d558,openstack/monasca-thresh,stable/wallaby,Ic8bf000a146b9052fd3d4c31541afebceca4d558,Re-enable Docker Zuul jobs,MERGED,2021-04-07 14:35:12.000000000,2021-04-07 15:49:10.000000000,2021-04-07 15:49:10.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-07 14:35:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/53cb5778f44eccc96bed58c915fcf1860ccfa16d', 'message': 'Re-enable Docker Zuul jobs\n\nDocker Zuul jobs were disabled previously because Wallaby u-c were\nnot yet ready.\n\nChange-Id: Ic8bf000a146b9052fd3d4c31541afebceca4d558\n'}]",0,785187,53cb5778f44eccc96bed58c915fcf1860ccfa16d,6,2,1,28062,,,0,"Re-enable Docker Zuul jobs

Docker Zuul jobs were disabled previously because Wallaby u-c were
not yet ready.

Change-Id: Ic8bf000a146b9052fd3d4c31541afebceca4d558
",git fetch https://review.opendev.org/openstack/monasca-thresh refs/changes/87/785187/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,53cb5778f44eccc96bed58c915fcf1860ccfa16d,enable-docker-jobs-wallaby, - build-monasca-docker-image - publish-monasca-thresh-docker-image periodic: jobs: - publish-monasca-thresh-docker-image release: jobs: - publish-monasca-thresh-docker-image ,,9,0
openstack%2Fmonasca-agent~stable%2Fwallaby~I45506811ea7d319b47f62975bd8238b783bc4c20,openstack/monasca-agent,stable/wallaby,I45506811ea7d319b47f62975bd8238b783bc4c20,Re-enable Docker Zuul jobs,MERGED,2021-04-07 14:43:39.000000000,2021-04-07 15:49:04.000000000,2021-04-07 15:49:04.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-07 14:43:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/3e1de07d9974edab64d0fc25de05a0613431f5ad', 'message': 'Re-enable Docker Zuul jobs\n\nDocker Zuul jobs were disabled previously because Wallaby u-c were\nnot yet ready.\n\nChange-Id: I45506811ea7d319b47f62975bd8238b783bc4c20\n'}]",0,785191,3e1de07d9974edab64d0fc25de05a0613431f5ad,6,2,1,28062,,,0,"Re-enable Docker Zuul jobs

Docker Zuul jobs were disabled previously because Wallaby u-c were
not yet ready.

Change-Id: I45506811ea7d319b47f62975bd8238b783bc4c20
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/91/785191/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3e1de07d9974edab64d0fc25de05a0613431f5ad,enable-docker-jobs-wallaby, - build-monasca-docker-image post: jobs: - publish-monasca-agent-docker-images periodic: jobs: - publish-monasca-agent-docker-images release: jobs: - publish-monasca-agent-docker-images,,10,0
openstack%2Ftripleo-heat-templates~master~Id379f4fe1668d01fdd5f91b46e2f75d7cdb577ae,openstack/tripleo-heat-templates,master,Id379f4fe1668d01fdd5f91b46e2f75d7cdb577ae,HA: fix race when moving VIP during minor update,MERGED,2021-03-25 09:27:59.000000000,2021-04-07 15:37:00.000000000,2021-04-07 15:37:00.000000000,"[{'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-25 09:27:59.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3da1e7661036a73c9f222bcdcc489912502d23cb', 'message': 'HA: fix race when moving VIP during minor update\n\nDuring a minor update of a controller node, we list the\nVIP hosted on the node and we force them to move away\nwith a pcs command.\n\nThe way we call the pcs command is racy, so change the\naction to make sure the VIP move is performed only if\nthe VIP is still hosted on the node when we run the action.\n\nChange-Id: Id379f4fe1668d01fdd5f91b46e2f75d7cdb577ae\nCloses-Bug: #1921351\n'}]",4,782930,3da1e7661036a73c9f222bcdcc489912502d23cb,13,5,1,20778,,,0,"HA: fix race when moving VIP during minor update

During a minor update of a controller node, we list the
VIP hosted on the node and we force them to move away
with a pcs command.

The way we call the pcs command is racy, so change the
action to make sure the VIP move is performed only if
the VIP is still hosted on the node when we run the action.

Change-Id: Id379f4fe1668d01fdd5f91b46e2f75d7cdb577ae
Closes-Bug: #1921351
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/782930/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,3da1e7661036a73c9f222bcdcc489912502d23cb,bug/1921351, pcs resource ban $v ${CLUSTER_NODE} --wait=300, pcs resource move $v --wait=300,1,1
openstack%2Ftripleo-ansible~master~I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f,openstack/tripleo-ansible,master,I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f,Accept 142 as an exit code,MERGED,2021-04-01 06:08:38.000000000,2021-04-07 15:36:46.000000000,2021-04-07 15:36:46.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-01 06:08:38.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/abbcab7d44f1d7708914f85850df6602a00142e0', 'message': 'Accept 142 as an exit code\n\nIn the same fashion we accepted 137 and 143 exit code status in\nI8f19a80016a67ccad0371c5d108516aec640f031, we also accept 142.\n\nIt represents the SIGALRM exit status - it happens when podman reaches\nthe set timeout (currently 60s) when trying to cleanly stop a container.\n\nChange-Id: I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f\nCloses-Bug: #1922179\nResolves: rhbz#1939910\n'}]",0,784197,abbcab7d44f1d7708914f85850df6602a00142e0,11,4,1,28223,,,0,"Accept 142 as an exit code

In the same fashion we accepted 137 and 143 exit code status in
I8f19a80016a67ccad0371c5d108516aec640f031, we also accept 142.

It represents the SIGALRM exit status - it happens when podman reaches
the set timeout (currently 60s) when trying to cleanly stop a container.

Change-Id: I2d5f4e8c11384aeff3c0b1a2fdd5abb6a586522f
Closes-Bug: #1922179
Resolves: rhbz#1939910
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/97/784197/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'],1,abbcab7d44f1d7708914f85850df6602a00142e0,podman-exit/142,SuccessExitStatus=137 142 143,SuccessExitStatus=137 143,1,1
openstack%2Fsenlin~master~Ifd79aade607bd4bc5094978b2b99c6f5bb47a942,openstack/senlin,master,Ifd79aade607bd4bc5094978b2b99c6f5bb47a942,Fixing senlin api port number in doc.,ABANDONED,2020-09-02 03:40:31.000000000,2021-04-07 15:05:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 27224}, {'_account_id': 28691}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-09-02 03:40:31.000000000', 'files': ['doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/d5098a5bd8645bc9719e12b6b2ce8141188cb5fd', 'message': 'Fixing senlin api port number in doc.\n\nChange-Id: Ifd79aade607bd4bc5094978b2b99c6f5bb47a942\n'}]",0,749420,d5098a5bd8645bc9719e12b6b2ce8141188cb5fd,11,4,1,28752,,,0,"Fixing senlin api port number in doc.

Change-Id: Ifd79aade607bd4bc5094978b2b99c6f5bb47a942
",git fetch https://review.opendev.org/openstack/senlin refs/changes/20/749420/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/install-rdo.rst'],1,d5098a5bd8645bc9719e12b6b2ce8141188cb5fd,docs-senlin, public http://controller:8778 admin http://controller:8778 internal http://controller:8778, public http://controller:8777 admin http://controller:8777 internal http://controller:8777,3,3
openstack%2Fgovernance~master~I7df2166cdd4b9266287d47d90c3cd49d6d122c71,openstack/governance,master,I7df2166cdd4b9266287d47d90c3cd49d6d122c71,Making devstack-plugin-(amqp1|kafka) branchless,MERGED,2021-04-02 08:16:42.000000000,2021-04-07 15:05:09.000000000,2021-04-07 15:03:20.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 12404}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-02 08:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/74d98cc31003a2e268f3212afe16fa6a9de2388c', 'message': ""Making devstack-plugin-* branchless\n\nThe QA team pointed out to us that usually devstack plugins are\nbranchless [1] (and tagless but that's already the case here).\n\nThey haven't been branched since ussuri, we think that's we simply miss\nthose few series ago.\n\nI think that's the right moment to do a little spring cleaning.\nLet's drop these deliverables.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021526.html\n\nChange-Id: I7df2166cdd4b9266287d47d90c3cd49d6d122c71\n""}, {'number': 2, 'created': '2021-04-02 08:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/67e7073a3d140038a4b852f1fafc4f23991717e7', 'message': ""Making devstack-plugin-* branchless\n\nThe QA team pointed out to us that usually devstack plugins are\nbranchless [1] (and tagless but that's already the case here).\n\nThey haven't been branched since ussuri, we think that we simply\nmissed to retire them few series ago.\n\nI think that's the right moment to do a little spring cleaning.\nLet's drop these deliverables.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021526.html\n\nChange-Id: I7df2166cdd4b9266287d47d90c3cd49d6d122c71\n""}, {'number': 3, 'created': '2021-04-07 14:30:19.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/c45bb41e99684698821bc9ed31828647d1d26da6', 'message': ""Making devstack-plugin-(amqp1|kafka) branchless\n\nThe QA team pointed out to us that usually devstack plugins are\nbranchless [1] (and tagless but that's already the case here).\n\nThey haven't been branched since ussuri, we think that we simply\nmissed to retire them few series ago.\n\nI think that's the right moment to do a little spring cleaning.\nLet's drop these deliverables.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021526.html\n\nChange-Id: I7df2166cdd4b9266287d47d90c3cd49d6d122c71\n""}]",9,784544,c45bb41e99684698821bc9ed31828647d1d26da6,29,9,3,28522,,,0,"Making devstack-plugin-(amqp1|kafka) branchless

The QA team pointed out to us that usually devstack plugins are
branchless [1] (and tagless but that's already the case here).

They haven't been branched since ussuri, we think that we simply
missed to retire them few series ago.

I think that's the right moment to do a little spring cleaning.
Let's drop these deliverables.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021526.html

Change-Id: I7df2166cdd4b9266287d47d90c3cd49d6d122c71
",git fetch https://review.opendev.org/openstack/governance refs/changes/44/784544/3 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,74d98cc31003a2e268f3212afe16fa6a9de2388c,project-update, release-management: none release-management: none release-management: none,,3,0
openstack%2Fstackviz~master~I5a47557d8f822d49fa825c3b28d4eda498238f64,openstack/stackviz,master,I5a47557d8f822d49fa825c3b28d4eda498238f64,Changed minversion in tox to 3.18.0,MERGED,2021-02-25 18:16:03.000000000,2021-04-07 15:03:00.000000000,2021-04-07 15:01:33.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-02-25 18:16:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/8cd99f3bab5ba64bf1d162be7d0c5f4599acf333', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 python in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I5a47557d8f822d49fa825c3b28d4eda498238f64\n""}]",0,777646,8cd99f3bab5ba64bf1d162be7d0c5f4599acf333,9,5,1,30615,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I5a47557d8f822d49fa825c3b28d4eda498238f64
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/46/777646/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8cd99f3bab5ba64bf1d162be7d0c5f4599acf333,,minversion = 3.18.0allowlist_externals = *allowlist_externals = rmallowlist_externals =,minversion = 3.1.1whitelist_externals = *whitelist_externals = rmwhitelist_externals =,4,4
openstack%2Foslo.privsep~master~I5640616e00f943402c1104d1e438cde093a8d284,openstack/oslo.privsep,master,I5640616e00f943402c1104d1e438cde093a8d284,Fix TypeError when use logging.LogRecord,NEW,2020-04-02 07:21:02.000000000,2021-04-07 14:55:28.000000000,,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-04-02 07:21:02.000000000', 'files': ['oslo_privsep/daemon.py'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/824891a863bb88a78cdb3a0b2f599d2ac223c1cc', 'message': 'Fix TypeError when use logging.LogRecord\n\nChange-Id: I5640616e00f943402c1104d1e438cde093a8d284\nCloses-Bug: #1870281\n'}]",1,716873,824891a863bb88a78cdb3a0b2f599d2ac223c1cc,5,3,1,30744,,,0,"Fix TypeError when use logging.LogRecord

Change-Id: I5640616e00f943402c1104d1e438cde093a8d284
Closes-Bug: #1870281
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/73/716873/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_privsep/daemon.py'],1,824891a863bb88a78cdb3a0b2f599d2ac223c1cc,fix-bug#1870281, if record.levelno and LOG.isEnabledFor(record.levelno):, if LOG.isEnabledFor(record.levelno):,1,1
openstack%2Fheat~stable%2Fussuri~Icc90a921ec67e49aec2c4acfad72235c57c78421,openstack/heat,stable/ussuri,Icc90a921ec67e49aec2c4acfad72235c57c78421,Don't update status for replaced resource,MERGED,2021-04-04 08:10:20.000000000,2021-04-07 14:53:30.000000000,2021-04-07 14:50:42.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-04 08:10:20.000000000', 'files': ['heat/tests/db/test_sqlalchemy_api.py', 'heat/objects/resource.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/e95a7fd21deea111d97b9e8e8ecff431091100d9', 'message': ""Don't update status for replaced resource\n\nWith I04e7ad90944c2d03ce0e59ba16af9d60d6e01222 we allowed\nupdate of previously-existing resource if replacement\ncreation has failed during last update. However, we force\nupdate the status of the existing resource to 'COMPLETE'.\nTherefore, in the next update if properties/type has not\nchanged for the resource it won't try to update/replace\nthe previously existing resource resulting in false positive\nof stack updated successfully.\n\nTask: 42194\nChange-Id: Icc90a921ec67e49aec2c4acfad72235c57c78421\n(cherry picked from commit bfbaab107d709c37548a22239b952c6221b9ac85)\n""}]",0,784582,e95a7fd21deea111d97b9e8e8ecff431091100d9,8,3,1,8833,,,0,"Don't update status for replaced resource

With I04e7ad90944c2d03ce0e59ba16af9d60d6e01222 we allowed
update of previously-existing resource if replacement
creation has failed during last update. However, we force
update the status of the existing resource to 'COMPLETE'.
Therefore, in the next update if properties/type has not
changed for the resource it won't try to update/replace
the previously existing resource resulting in false positive
of stack updated successfully.

Task: 42194
Change-Id: Icc90a921ec67e49aec2c4acfad72235c57c78421
(cherry picked from commit bfbaab107d709c37548a22239b952c6221b9ac85)
",git fetch https://review.opendev.org/openstack/heat refs/changes/82/784582/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/db/test_sqlalchemy_api.py', 'heat/objects/resource.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/resource.py']",4,e95a7fd21deea111d97b9e8e8ecff431091100d9,,," update_data = {'status': self.COMPLETE} update_data,",2,12
openstack%2Fmonasca-persister~master~Ib33a54537f9394aea77f3cdaf135183f0dacdca3,openstack/monasca-persister,master,Ib33a54537f9394aea77f3cdaf135183f0dacdca3,Fix zuul publish docker image job,MERGED,2021-04-07 11:47:03.000000000,2021-04-07 14:47:39.000000000,2021-04-07 14:47:39.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-07 11:47:03.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/72c0b6911e40e84f21120e32e589965df11dcaa5', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: Ib33a54537f9394aea77f3cdaf135183f0dacdca3\n'}]",0,785153,72c0b6911e40e84f21120e32e589965df11dcaa5,6,2,1,28062,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: Ib33a54537f9394aea77f3cdaf135183f0dacdca3
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/53/785153/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,72c0b6911e40e84f21120e32e589965df11dcaa5,fix-zuul-publish," shell: ""docker push monasca/persister:{{ zuul.tag if zuul.pipeline == 'release' else 'master'}}"""," shell: ""docker push monasca/persister:{{ zuul.tag if zuul.pipeline == 'release' else zuul.branch }}""",1,1
openstack%2Fgrenade~master~Ie8b9cdbb9cc2e7f153e3cf06c60341abcdb6f426,openstack/grenade,master,Ie8b9cdbb9cc2e7f153e3cf06c60341abcdb6f426,update url.,ABANDONED,2019-12-17 07:42:07.000000000,2021-04-07 14:45:38.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 30717}]","[{'number': 1, 'created': '2019-12-17 07:42:07.000000000', 'files': ['tools/generate-grenade-plugins-list.py'], 'web_link': 'https://opendev.org/openstack/grenade/commit/c14aed931b904253b594e9b8aa75e73eee93387a', 'message': 'update url.\n\nChange-Id: Ie8b9cdbb9cc2e7f153e3cf06c60341abcdb6f426\n'}]",0,699358,c14aed931b904253b594e9b8aa75e73eee93387a,8,3,1,30717,,,0,"update url.

Change-Id: Ie8b9cdbb9cc2e7f153e3cf06c60341abcdb6f426
",git fetch https://review.opendev.org/openstack/grenade refs/changes/58/699358/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/generate-grenade-plugins-list.py'],1,c14aed931b904253b594e9b8aa75e73eee93387a,,url = 'https://review.opendev.org/projects/',url = 'https://review.openstack.org/projects/',1,1
openstack%2Freleases~master~I9310e604d1356d611f52164601095ba026a14b24,openstack/releases,master,I9310e604d1356d611f52164601095ba026a14b24,Making devstack-plugin-(amqp1|kafka) branchless,ABANDONED,2021-04-07 14:27:38.000000000,2021-04-07 14:42:30.000000000,,[],"[{'number': 1, 'created': '2021-04-07 14:27:38.000000000', 'files': ['deliverables/wallaby/devstack-plugin-amqp1.yaml', 'deliverables/victoria/devstack-plugin-kafka.yaml', 'deliverables/wallaby/devstack-plugin-kafka.yaml', 'deliverables/victoria/devstack-plugin-amqp1.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/429770848319cb8fedd4e0a0159f8d197246e4e0', 'message': ""Making devstack-plugin-(amqp1|kafka) branchless\n\nQA team pointed out to us that usually devstack plugins are\nbranchless [1] (and tagless but that's already the case here).\n\nThey haven't been branched since ussuri, we think that we simply\nmissed to retire them few series ago.\n\nI think that's the right moment to do a little spring cleaning.\nLet's drop these deliverables for Victoria/Wallaby.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021526.html\n\nChange-Id: I9310e604d1356d611f52164601095ba026a14b24\n""}]",0,785184,429770848319cb8fedd4e0a0159f8d197246e4e0,2,0,1,28522,,,0,"Making devstack-plugin-(amqp1|kafka) branchless

QA team pointed out to us that usually devstack plugins are
branchless [1] (and tagless but that's already the case here).

They haven't been branched since ussuri, we think that we simply
missed to retire them few series ago.

I think that's the right moment to do a little spring cleaning.
Let's drop these deliverables for Victoria/Wallaby.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021526.html

Change-Id: I9310e604d1356d611f52164601095ba026a14b24
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/785184/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/devstack-plugin-amqp1.yaml', 'deliverables/victoria/devstack-plugin-kafka.yaml', 'deliverables/wallaby/devstack-plugin-kafka.yaml', 'deliverables/victoria/devstack-plugin-amqp1.yaml']",4,429770848319cb8fedd4e0a0159f8d197246e4e0,devstack-plugin-wallaby,,--- launchpad: oslo.messaging release-model: untagged team: oslo type: other stable-branch-type: tagless repository-settings: openstack/devstack-plugin-amqp1: {} ,0,34
openstack%2Fstackviz~master~Ie49a491a2b5ead4876e25eb03025884211791c27,openstack/stackviz,master,Ie49a491a2b5ead4876e25eb03025884211791c27,Update min tox version to 2.0,ABANDONED,2018-11-02 15:12:39.000000000,2021-04-07 14:41:05.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 27078}]","[{'number': 1, 'created': '2018-11-02 15:12:39.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/stackviz/commit/1a7b1af03608952c5be57308516906372296fe1c', 'message': 'Update min tox version to 2.0\n\nThe commands used by constraints need at least tox 2.0.\nUpdate to reflect reality, which should help with local running of\nconstraints targets.\n\nChange-Id: Ie49a491a2b5ead4876e25eb03025884211791c27\n'}]",0,615211,1a7b1af03608952c5be57308516906372296fe1c,5,3,1,28956,,,0,"Update min tox version to 2.0

The commands used by constraints need at least tox 2.0.
Update to reflect reality, which should help with local running of
constraints targets.

Change-Id: Ie49a491a2b5ead4876e25eb03025884211791c27
",git fetch https://review.opendev.org/openstack/stackviz refs/changes/11/615211/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1a7b1af03608952c5be57308516906372296fe1c,min-tox-version,minversion = 2.0,minversion = 1.6,1,1
openstack%2Foslo.log~master~Id350e6146a7e548d35ceb6110387feb208169fed,openstack/oslo.log,master,Id350e6146a7e548d35ceb6110387feb208169fed,Move flake8 as a pre-commit local target.,ABANDONED,2021-03-23 12:09:16.000000000,2021-04-07 14:36:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-23 12:09:16.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/053ed6b4caf3088f1df04fdd42c6fc2ac8e93975', 'message': ""Move flake8 as a pre-commit local target.\n\nThe goal here is to avoid conflicts between flake8 and hacking version each\n2 days.\n\nInspired from nova's approach[1].\n\nThe flake8 version to install will be determined by hacking and\nrequirements[2] will stay aligned instead of relying on different versions.\n\n[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35\n[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1\n\nChange-Id: Id350e6146a7e548d35ceb6110387feb208169fed\n""}]",1,782466,053ed6b4caf3088f1df04fdd42c6fc2ac8e93975,4,2,1,31245,,,0,"Move flake8 as a pre-commit local target.

The goal here is to avoid conflicts between flake8 and hacking version each
2 days.

Inspired from nova's approach[1].

The flake8 version to install will be determined by hacking and
requirements[2] will stay aligned instead of relying on different versions.

[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35
[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1

Change-Id: Id350e6146a7e548d35ceb6110387feb208169fed
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/66/782466/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,053ed6b4caf3088f1df04fdd42c6fc2ac8e93975,move_flake8_local, rev: 9136088a246768144165fcc3ecc3d31bb686920a # v3.3.0, rev: ebc15addedad713c86ef18ae9632c88e187dd0af # v3.1.0,1,1
openstack%2Ftripleo-quickstart~master~I7d368cca28eebab36eef08e527daf174318f2c8c,openstack/tripleo-quickstart,master,I7d368cca28eebab36eef08e527daf174318f2c8c,Update dep pipeline to test container-tools:3.0,MERGED,2021-03-16 18:15:04.000000000,2021-04-07 14:27:47.000000000,2021-03-17 00:44:05.000000000,"[{'_account_id': 9592}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-16 18:15:04.000000000', 'files': ['config/release/dependency_ci/container-tools/repo_config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bfb6e2b48321ca7c4f7c287524bb836d1e898488', 'message': 'Update dep pipeline to test container-tools:3.0\n\nTest container-tools:3.0 in depedency pipeline.\n\nChange-Id: I7d368cca28eebab36eef08e527daf174318f2c8c\n'}]",0,780941,bfb6e2b48321ca7c4f7c287524bb836d1e898488,9,4,1,9976,,,0,"Update dep pipeline to test container-tools:3.0

Test container-tools:3.0 in depedency pipeline.

Change-Id: I7d368cca28eebab36eef08e527daf174318f2c8c
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/41/780941/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/dependency_ci/container-tools/repo_config.yaml'],1,bfb6e2b48321ca7c4f7c287524bb836d1e898488,container-tools-3, test_version: 3.0, test_version: rhel8,1,1
openstack%2Fansible-collections-openstack~master~Ifdf253ca01b0e19b55867d8ead03eaceb5b2d73a,openstack/ansible-collections-openstack,master,Ifdf253ca01b0e19b55867d8ead03eaceb5b2d73a,Fix issues with newest ansible-test 2.11,MERGED,2021-04-07 07:15:16.000000000,2021-04-07 14:25:31.000000000,2021-04-07 14:25:31.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 07:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d477a0dd721f62e8ec3780a338b3adcfd016b1b8', 'message': 'DNM test CI\n\nChange-Id: Ifdf253ca01b0e19b55867d8ead03eaceb5b2d73a\n'}, {'number': 2, 'created': '2021-04-07 08:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5b20c9a5461dbc08f5cc0397c246378ef376d94a', 'message': 'Fix issues with newest ansible-test 2.11\n\nChange-Id: Ifdf253ca01b0e19b55867d8ead03eaceb5b2d73a\n'}, {'number': 3, 'created': '2021-04-07 09:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/50bd5e50c7c511e7d4c96a0b7074a256ab518285', 'message': 'Fix issues with newest ansible-test 2.11\n\nChange-Id: Ifdf253ca01b0e19b55867d8ead03eaceb5b2d73a\n'}, {'number': 4, 'created': '2021-04-07 11:47:12.000000000', 'files': ['plugins/modules/compute_flavor_info.py', 'plugins/modules/port_info.py', 'plugins/modules/project_info.py', 'plugins/module_utils/openstack.py', 'plugins/modules/baremetal_node.py', 'tests/sanity/ignore-2.10.txt', 'plugins/modules/identity_domain_info.py', 'tests/sanity/ignore-2.11.txt', 'plugins/modules/identity_user_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c329f65b41de7600352b54648bdd56e54bb57315', 'message': 'Fix issues with newest ansible-test 2.11\n\nChange-Id: Ifdf253ca01b0e19b55867d8ead03eaceb5b2d73a\n'}]",0,785096,c329f65b41de7600352b54648bdd56e54bb57315,11,2,4,10969,,,0,"Fix issues with newest ansible-test 2.11

Change-Id: Ifdf253ca01b0e19b55867d8ead03eaceb5b2d73a
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/96/785096/2 && git format-patch -1 --stdout FETCH_HEAD,['ci/run-collection.yml'],1,d477a0dd721f62e8ec3780a338b3adcfd016b1b8,,# test all,,1,0
openstack%2Fdevstack-plugin-ceph~master~Iff1c5210b0279379eb9612b206bdf456dd6f132e,openstack/devstack-plugin-ceph,master,Iff1c5210b0279379eb9612b206bdf456dd6f132e,Set RBD default features based on distro,MERGED,2021-03-30 13:56:47.000000000,2021-04-07 14:24:12.000000000,2021-04-07 14:22:24.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 6413}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 13:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/affc1200bdd6be3c0ed3240e5d1ab946f5ccc1aa', 'message': 'Set RBD default features based on distro\n\nIn some jobs, we run tests that use ""rbd map"".\nOn older kernels, this will not work if newer\nRBD features are used.  (Specifically, fast-diff\non bionic.)\n\nOn older distros, enable fewer features by default.\n\nChange-Id: Iff1c5210b0279379eb9612b206bdf456dd6f132e\n'}, {'number': 2, 'created': '2021-03-30 13:57:41.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/35e1ff5cf4a50594578ab8d13499789c2ccef351', 'message': 'Set RBD default features based on distro\n\nIn some jobs, we run tests that use ""rbd map"".\nOn older kernels, this will not work if newer\nRBD features are used.  (Specifically, fast-diff\non bionic.)\n\nOn older distros, enable fewer features by default.\n\nCloses-Bug: #1921897\nChange-Id: Iff1c5210b0279379eb9612b206bdf456dd6f132e\n'}]",2,783880,35e1ff5cf4a50594578ab8d13499789c2ccef351,18,6,2,4523,,,0,"Set RBD default features based on distro

In some jobs, we run tests that use ""rbd map"".
On older kernels, this will not work if newer
RBD features are used.  (Specifically, fast-diff
on bionic.)

On older distros, enable fewer features by default.

Closes-Bug: #1921897
Change-Id: Iff1c5210b0279379eb9612b206bdf456dd6f132e
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/80/783880/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,affc1200bdd6be3c0ed3240e5d1ab946f5ccc1aa,,"if [[ ${DISTRO} =~ (bionic|xenial) ]]; then CEPH_RBD_DEFAULT_FEATURES=${CEPH_RBD_DEFAULT_FEATURES:-""layering, exclusive-lock""} else CEPH_RBD_DEFAULT_FEATURES=${CEPH_RBD_DEFAULT_FEATURES:-""layering, exclusive-lock, object-map, fast-diff""} fi","CEPH_RBD_DEFAULT_FEATURES=${CEPH_RBD_DEFAULT_FEATURES:-""layering, exclusive-lock, object-map, fast-diff""}",5,1
openstack%2Fmanila-ui~master~I408af56e6a54b135d38a486101b4bb3108d4f0d5,openstack/manila-ui,master,I408af56e6a54b135d38a486101b4bb3108d4f0d5,Support policy-in-code and deprecated policy,MERGED,2021-03-29 04:30:50.000000000,2021-04-07 14:22:34.000000000,2021-04-07 14:20:23.000000000,"[{'_account_id': 841}, {'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-03-29 04:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/b66a8b0d5bd9424450725c50c586c72461f38bc6', 'message': 'Support policy-in-code and deprecated policy\n\nThis change adds support for policy-in-code and deprecated policy\nfollowing the change in horizon.\n\nDepends-on: https://review.opendev.org/750134\nChange-Id: I408af56e6a54b135d38a486101b4bb3108d4f0d5\n'}, {'number': 2, 'created': '2021-04-06 01:48:16.000000000', 'files': ['releasenotes/notes/policy-in-code-support-23744e26a7f6e284.yaml', 'manila_ui/conf/default_policies/manila.yaml', 'manila_ui/local/local_settings.d/_90_manila_shares.py', 'devstack/plugin.sh', 'manila_ui/conf/manila_policy.yaml'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/89a90ff9773b93062760df5e3deefb9750112633', 'message': 'Support policy-in-code and deprecated policy\n\nThis change adds support for policy-in-code and deprecated policy\nfollowing the change in horizon.\n\nDepends-on: https://review.opendev.org/750134\nChange-Id: I408af56e6a54b135d38a486101b4bb3108d4f0d5\n'}]",6,783598,89a90ff9773b93062760df5e3deefb9750112633,21,5,2,9816,,,0,"Support policy-in-code and deprecated policy

This change adds support for policy-in-code and deprecated policy
following the change in horizon.

Depends-on: https://review.opendev.org/750134
Change-Id: I408af56e6a54b135d38a486101b4bb3108d4f0d5
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/98/783598/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/policy-in-code-support-23744e26a7f6e284.yaml', 'manila_ui/conf/default_policies/manila.yaml', 'manila_ui/local/local_settings.d/_90_manila_shares.py', 'devstack/plugin.sh', 'manila_ui/conf/manila_policy.yaml']",5,b66a8b0d5bd9424450725c50c586c72461f38bc6,,"#""context_is_admin"": ""role:admin"" #""admin_or_owner"": ""is_admin:True or project_id:%(project_id)s"" #""default"": ""rule:admin_or_owner"" #""admin_api"": ""is_admin:True"" # Get all storage availability zones. # GET /os-availability-zone # GET /availability-zone # Intended scope(s): system, project #""availability_zone:index"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""availability_zone:index"":""rule:default"" has been deprecated since W # in favor of ""availability_zone:index"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The availability zone API now supports system scope and default # roles. # Get information regarding backends (and storage pools) known to the # scheduler. # GET /scheduler-stats/pools # GET /scheduler-stats/pools?{query} # Intended scope(s): system #""scheduler_stats:pools:index"": ""role:reader and system_scope:all"" # DEPRECATED # ""scheduler_stats:pools:index"":""rule:admin_api"" has been deprecated # since W in favor of ""scheduler_stats:pools:index"":""role:reader and # system_scope:all"". # The storage pool statistics API now support system scope and default # roles. # Get detailed information regarding backends (and storage pools) # known to the scheduler. # GET /scheduler-stats/pools/detail?{query} # GET /scheduler-stats/pools/detail # Intended scope(s): system #""scheduler_stats:pools:detail"": ""role:reader and system_scope:all"" # DEPRECATED # ""scheduler_stats:pools:detail"":""rule:admin_api"" has been deprecated # since W in favor of ""scheduler_stats:pools:detail"":""role:reader and # system_scope:all"". # The storage pool statistics API now support system scope and default # roles. # Create share. # POST /shares # Intended scope(s): system, project #""share:create"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share:create"":"""" has been deprecated since W in favor of # ""share:create"":""(role:admin and system_scope:all) or (role:member # and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Create shares visible across all projects in the cloud. # POST /shares # Intended scope(s): system #""share:create_public_share"": ""role:admin and system_scope:all"" # DEPRECATED # ""share:create_public_share"":""rule:admin_api"" has been deprecated # since W in favor of ""share:create_public_share"":""role:admin and # system_scope:all"". # The share API now supports system scope and default roles. # Get share. # GET /shares/{share_id} # Intended scope(s): system, project #""share:get"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share:get"":""rule:default"" has been deprecated since W in favor of # ""share:get"":""(role:reader and system_scope:all) or (role:reader and # project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # List shares. # GET /shares # GET /shares/detail # Intended scope(s): system, project #""share:get_all"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share:get_all"":""rule:default"" has been deprecated since W in favor # of ""share:get_all"":""(role:reader and system_scope:all) or # (role:reader and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Update share. # PUT /shares # Intended scope(s): system, project #""share:update"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share:update"":""rule:default"" has been deprecated since W in favor # of ""share:update"":""(role:admin and system_scope:all) or (role:member # and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Update shares to be visible across all projects in the cloud. # PUT /shares # Intended scope(s): system #""share:set_public_share"": ""role:admin and system_scope:all"" # DEPRECATED # ""share:set_public_share"":""rule:admin_api"" has been deprecated since # W in favor of ""share:set_public_share"":""role:admin and # system_scope:all"". # The share API now supports system scope and default roles. # Delete share. # DELETE /shares/{share_id} # Intended scope(s): system, project #""share:delete"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share:delete"":""rule:default"" has been deprecated since W in favor # of ""share:delete"":""(role:admin and system_scope:all) or (role:member # and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Force Delete a share. # DELETE /shares/{share_id} # Intended scope(s): system, project #""share:force_delete"": ""(role:admin and system_scope:all) or (role:admin and project_id:%(project_id)s)"" # DEPRECATED # ""share:force_delete"":""rule:admin_api"" has been deprecated since W in # favor of ""share:force_delete"":""(role:admin and system_scope:all) or # (role:admin and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Manage share. # POST /shares/manage # Intended scope(s): system #""share:manage"": ""role:admin and system_scope:all"" # DEPRECATED # ""share:manage"":""rule:admin_api"" has been deprecated since W in favor # of ""share:manage"":""role:admin and system_scope:all"". # The share API now supports system scope and default roles. # Unmanage share. # POST /shares/unmanage # Intended scope(s): system #""share:unmanage"": ""role:admin and system_scope:all"" # DEPRECATED # ""share:unmanage"":""rule:admin_api"" has been deprecated since W in # favor of ""share:unmanage"":""role:admin and system_scope:all"". # The share API now supports system scope and default roles. # List share by host. # GET /shares # GET /shares/detail # Intended scope(s): system #""share:list_by_host"": ""role:reader and system_scope:all"" # DEPRECATED # ""share:list_by_host"":""rule:admin_api"" has been deprecated since W in # favor of ""share:list_by_host"":""role:reader and system_scope:all"". # The share API now supports system scope and default roles. # List share by server id. # GET /shares # GET /shares/detail # Intended scope(s): system #""share:list_by_share_server_id"": ""role:reader and system_scope:all"" # DEPRECATED # ""share:list_by_share_server_id"":""rule:admin_api"" has been deprecated # since W in favor of ""share:list_by_share_server_id"":""role:reader and # system_scope:all"". # The share API now supports system scope and default roles. # Get share access rule, it under deny access operation. # POST /shares/{share_id}/action # Intended scope(s): system, project #""share:access_get"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share:access_get"":""rule:default"" has been deprecated since W in # favor of ""share:access_get"":""(role:reader and system_scope:all) or # (role:reader and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # List share access rules. # GET /shares/{share_id}/action # Intended scope(s): system, project #""share:access_get_all"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share:access_get_all"":""rule:default"" has been deprecated since W in # favor of ""share:access_get_all"":""(role:reader and system_scope:all) # or (role:reader and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Extend share. # POST /shares/{share_id}/action # Intended scope(s): system, project #""share:extend"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share:extend"":""rule:default"" has been deprecated since W in favor # of ""share:extend"":""(role:admin and system_scope:all) or (role:member # and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Shrink share. # POST /shares/{share_id}/action # Intended scope(s): system, project #""share:shrink"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share:shrink"":""rule:default"" has been deprecated since W in favor # of ""share:shrink"":""(role:admin and system_scope:all) or (role:member # and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Migrate a share to the specified host. # POST /shares/{share_id}/action # Intended scope(s): system #""share:migration_start"": ""role:admin and system_scope:all"" # DEPRECATED # ""share:migration_start"":""rule:admin_api"" has been deprecated since W # in favor of ""share:migration_start"":""role:admin and # system_scope:all"". # The share API now supports system scope and default roles. # Invokes 2nd phase of share migration. # POST /shares/{share_id}/action # Intended scope(s): system #""share:migration_complete"": ""role:admin and system_scope:all"" # DEPRECATED # ""share:migration_complete"":""rule:admin_api"" has been deprecated # since W in favor of ""share:migration_complete"":""role:admin and # system_scope:all"". # The share API now supports system scope and default roles. # Attempts to cancel share migration. # POST /shares/{share_id}/action # Intended scope(s): system #""share:migration_cancel"": ""role:admin and system_scope:all"" # DEPRECATED # ""share:migration_cancel"":""rule:admin_api"" has been deprecated since # W in favor of ""share:migration_cancel"":""role:admin and # system_scope:all"". # The share API now supports system scope and default roles. # Retrieve share migration progress for a given share. # POST /shares/{share_id}/action # Intended scope(s): system #""share:migration_get_progress"": ""role:reader and system_scope:all"" # DEPRECATED # ""share:migration_get_progress"":""rule:admin_api"" has been deprecated # since W in favor of ""share:migration_get_progress"":""role:reader and # system_scope:all"". # The share API now supports system scope and default roles. # Reset task state. # POST /shares/{share_id}/action # Intended scope(s): system, project #""share:reset_task_state"": ""(role:admin and system_scope:all) or (role:admin and project_id:%(project_id)s)"" # DEPRECATED # ""share:reset_task_state"":""rule:admin_api"" has been deprecated since # W in favor of ""share:reset_task_state"":""(role:admin and # system_scope:all) or (role:admin and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Reset status. # POST /shares/{share_id}/action # Intended scope(s): system, project #""share:reset_status"": ""(role:admin and system_scope:all) or (role:admin and project_id:%(project_id)s)"" # DEPRECATED # ""share:reset_status"":""rule:admin_api"" has been deprecated since W in # favor of ""share:reset_status"":""(role:admin and system_scope:all) or # (role:admin and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Revert a share to a snapshot. # POST /shares/{share_id}/action # Intended scope(s): system, project #""share:revert_to_snapshot"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share:revert_to_snapshot"":""rule:default"" has been deprecated since # W in favor of ""share:revert_to_snapshot"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Add share access rule. # POST /shares/{share_id}/action # Intended scope(s): system, project #""share:allow_access"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share:allow_access"":""rule:default"" has been deprecated since W in # favor of ""share:allow_access"":""(role:admin and system_scope:all) or # (role:member and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Remove share access rule. # POST /shares/{share_id}/action # Intended scope(s): system, project #""share:deny_access"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share:deny_access"":""rule:default"" has been deprecated since W in # favor of ""share:deny_access"":""(role:admin and system_scope:all) or # (role:member and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Update share metadata. # PUT /shares/{share_id}/metadata # Intended scope(s): system, project #""share:update_share_metadata"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share:update_share_metadata"":""rule:default"" has been deprecated # since W in favor of ""share:update_share_metadata"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Delete share metadata. # DELETE /shares/{share_id}/metadata/{key} # Intended scope(s): system, project #""share:delete_share_metadata"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share:delete_share_metadata"":""rule:default"" has been deprecated # since W in favor of ""share:delete_share_metadata"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Get share metadata. # GET /shares/{share_id}/metadata # Intended scope(s): system, project #""share:get_share_metadata"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share:get_share_metadata"":""rule:default"" has been deprecated since # W in favor of ""share:get_share_metadata"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Create share snapshot. # POST /snapshots # Intended scope(s): system, project #""share:create_snapshot"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share:create_snapshot"":""rule:default"" has been deprecated since W # in favor of ""share:create_snapshot"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Delete share snapshot. # DELETE /snapshots/{snapshot_id} # Intended scope(s): system, project #""share:delete_snapshot"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share:delete_snapshot"":""rule:default"" has been deprecated since W # in favor of ""share:delete_snapshot"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Update share snapshot. # PUT /snapshots/{snapshot_id}/action # Intended scope(s): system, project #""share:snapshot_update"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share:snapshot_update"":""rule:default"" has been deprecated since W # in favor of ""share:snapshot_update"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The share API now supports system scope and default roles. # Return data about the requested export location. # POST /share_instances/{share_instance_id}/export_locations # Intended scope(s): system #""share_instance_export_location:index"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_instance_export_location:index"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_instance_export_location:index"":""role:reader and # system_scope:all"". # The share instance export location API now supports system scope and # default roles. # Return data about the requested export location. # GET /share_instances/{share_instance_id}/export_locations/{export_location_id} # Intended scope(s): system #""share_instance_export_location:show"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_instance_export_location:show"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_instance_export_location:show"":""role:reader and # system_scope:all"". # The share instance export location API now supports system scope and # default roles. # Create share type. # POST /types # Intended scope(s): system #""share_type:create"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_type:create"":""rule:admin_api"" has been deprecated since W in # favor of ""share_type:create"":""role:admin and system_scope:all"". # The share type API now supports system scope and default roles. # Update share type. # PUT /types/{share_type_id} # Intended scope(s): system #""share_type:update"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_type:update"":""rule:admin_api"" has been deprecated since W in # favor of ""share_type:update"":""role:admin and system_scope:all"". # The share type API now supports system scope and default roles. # Get share type. # GET /types/{share_type_id} # Intended scope(s): system, project #""share_type:show"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_type:show"":""rule:default"" has been deprecated since W in # favor of ""share_type:show"":""(role:reader and system_scope:all) or # (role:reader and project_id:%(project_id)s)"". # The share type API now supports system scope and default roles. # List share types. # GET /types # GET /types?is_public=all # Intended scope(s): system, project #""share_type:index"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_type:index"":""rule:default"" has been deprecated since W in # favor of ""share_type:index"":""(role:reader and system_scope:all) or # (role:reader and project_id:%(project_id)s)"". # The share type API now supports system scope and default roles. # Get default share type. # GET /types/default # Intended scope(s): system, project #""share_type:default"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_type:default"":""rule:default"" has been deprecated since W in # favor of ""share_type:default"":""(role:reader and system_scope:all) or # (role:reader and project_id:%(project_id)s)"". # The share type API now supports system scope and default roles. # Delete share type. # DELETE /types/{share_type_id} # Intended scope(s): system #""share_type:delete"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_type:delete"":""rule:admin_api"" has been deprecated since W in # favor of ""share_type:delete"":""role:admin and system_scope:all"". # The share type API now supports system scope and default roles. # List share type project access. # GET /types/{share_type_id} # Intended scope(s): system #""share_type:list_project_access"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_type:list_project_access"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_type:list_project_access"":""role:reader and system_scope:all"". # The share type API now supports system scope and default roles. # Add share type to project. # POST /types/{share_type_id}/action # Intended scope(s): system #""share_type:add_project_access"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_type:add_project_access"":""rule:admin_api"" has been deprecated # since W in favor of ""share_type:add_project_access"":""role:admin and # system_scope:all"". # The share type API now supports system scope and default roles. # Remove share type from project. # POST /types/{share_type_id}/action # Intended scope(s): system #""share_type:remove_project_access"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_type:remove_project_access"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_type:remove_project_access"":""role:admin and # system_scope:all"". # The share type API now supports system scope and default roles. # Create share type extra spec. # POST /types/{share_type_id}/extra_specs # Intended scope(s): system #""share_types_extra_spec:create"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_types_extra_spec:create"":""rule:admin_api"" has been deprecated # since W in favor of ""share_types_extra_spec:create"":""role:admin and # system_scope:all"". # The share types extra specs API now supports system scope and # default roles. # Get share type extra specs of a given share type. # GET /types/{share_type_id}/extra_specs # Intended scope(s): system #""share_types_extra_spec:show"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_types_extra_spec:show"":""rule:admin_api"" has been deprecated # since W in favor of ""share_types_extra_spec:show"":""role:reader and # system_scope:all"". # The share types extra specs API now supports system scope and # default roles. # Get details of a share type extra spec. # GET /types/{share_type_id}/extra_specs/{extra_spec_id} # Intended scope(s): system #""share_types_extra_spec:index"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_types_extra_spec:index"":""rule:admin_api"" has been deprecated # since W in favor of ""share_types_extra_spec:index"":""role:reader and # system_scope:all"". # The share types extra specs API now supports system scope and # default roles. # Update share type extra spec. # PUT /types/{share_type_id}/extra_specs # Intended scope(s): system #""share_types_extra_spec:update"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_types_extra_spec:update"":""rule:admin_api"" has been deprecated # since W in favor of ""share_types_extra_spec:update"":""role:admin and # system_scope:all"". # The share types extra specs API now supports system scope and # default roles. # Delete share type extra spec. # DELETE /types/{share_type_id}/extra_specs/{key} # Intended scope(s): system #""share_types_extra_spec:delete"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_types_extra_spec:delete"":""rule:admin_api"" has been deprecated # since W in favor of ""share_types_extra_spec:delete"":""role:admin and # system_scope:all"". # The share types extra specs API now supports system scope and # default roles. # Get share snapshot. # GET /snapshots/{snapshot_id} # Intended scope(s): system, project #""share_snapshot:get_snapshot"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_snapshot:get_snapshot"":""rule:default"" has been deprecated # since W in favor of ""share_snapshot:get_snapshot"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share snapshot API now supports system scope and default roles. # Get all share snapshots. # GET /snapshots # GET /snapshots/detail # GET /snapshots?{query} # GET /snapshots/detail?{query} # Intended scope(s): system, project #""share_snapshot:get_all_snapshots"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_snapshot:get_all_snapshots"":""rule:default"" has been # deprecated since W in favor of # ""share_snapshot:get_all_snapshots"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share snapshot API now supports system scope and default roles. # Force Delete a share snapshot. # DELETE /snapshots/{snapshot_id} # Intended scope(s): system, project #""share_snapshot:force_delete"": ""(role:admin and system_scope:all) or (role:admin and project_id:%(project_id)s)"" # DEPRECATED # ""share_snapshot:force_delete"":""rule:admin_api"" has been deprecated # since W in favor of ""share_snapshot:force_delete"":""(role:admin and # system_scope:all) or (role:admin and project_id:%(project_id)s)"". # The share snapshot API now supports system scope and default roles. # Manage share snapshot. # POST /snapshots/manage # Intended scope(s): system #""share_snapshot:manage_snapshot"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_snapshot:manage_snapshot"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_snapshot:manage_snapshot"":""role:admin and system_scope:all"". # The share snapshot API now supports system scope and default roles. # Unmanage share snapshot. # POST /snapshots/{snapshot_id}/action # Intended scope(s): system #""share_snapshot:unmanage_snapshot"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_snapshot:unmanage_snapshot"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_snapshot:unmanage_snapshot"":""role:admin and # system_scope:all"". # The share snapshot API now supports system scope and default roles. # Reset status. # POST /snapshots/{snapshot_id}/action # Intended scope(s): system, project #""share_snapshot:reset_status"": ""(role:admin and system_scope:all) or (role:admin and project_id:%(project_id)s)"" # DEPRECATED # ""share_snapshot:reset_status"":""rule:admin_api"" has been deprecated # since W in favor of ""share_snapshot:reset_status"":""(role:admin and # system_scope:all) or (role:admin and project_id:%(project_id)s)"". # The share snapshot API now supports system scope and default roles. # List access rules of a share snapshot. # GET /snapshots/{snapshot_id}/access-list # Intended scope(s): system, project #""share_snapshot:access_list"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_snapshot:access_list"":""rule:default"" has been deprecated # since W in favor of ""share_snapshot:access_list"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share snapshot API now supports system scope and default roles. # Allow access to a share snapshot. # POST /snapshots/{snapshot_id}/action # Intended scope(s): system, project #""share_snapshot:allow_access"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_snapshot:allow_access"":""rule:default"" has been deprecated # since W in favor of ""share_snapshot:allow_access"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The share snapshot API now supports system scope and default roles. # Deny access to a share snapshot. # POST /snapshots/{snapshot_id}/action # Intended scope(s): system, project #""share_snapshot:deny_access"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_snapshot:deny_access"":""rule:default"" has been deprecated # since W in favor of ""share_snapshot:deny_access"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The share snapshot API now supports system scope and default roles. # List export locations of a share snapshot. # GET /snapshots/{snapshot_id}/export-locations/ # Intended scope(s): system, project #""share_snapshot_export_location:index"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_snapshot_export_location:index"":""rule:default"" has been # deprecated since W in favor of # ""share_snapshot_export_location:index"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share snapshot location API now supports system scope and # default roles. # Get details of a specified export location of a share snapshot. # GET /snapshots/{snapshot_id}/export-locations/{export_location_id} # Intended scope(s): system, project #""share_snapshot_export_location:show"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_snapshot_export_location:show"":""rule:default"" has been # deprecated since W in favor of # ""share_snapshot_export_location:show"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share snapshot location API now supports system scope and # default roles. # Get share snapshot instance. # GET /snapshot-instances/{snapshot_instance_id} # Intended scope(s): system #""share_snapshot_instance:show"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_snapshot_instance:show"":""rule:admin_api"" has been deprecated # since W in favor of ""share_snapshot_instance:show"":""role:reader and # system_scope:all"". # The share snapshot instance API now supports system scope and # default roles. # Get all share snapshot instances. # GET /snapshot-instances # GET /snapshot-instances?{query} # Intended scope(s): system #""share_snapshot_instance:index"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_snapshot_instance:index"":""rule:admin_api"" has been deprecated # since W in favor of ""share_snapshot_instance:index"":""role:reader and # system_scope:all"". # The share snapshot instance API now supports system scope and # default roles. # Get details of share snapshot instances. # GET /snapshot-instances/detail # GET /snapshot-instances/detail?{query} # Intended scope(s): system #""share_snapshot_instance:detail"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_snapshot_instance:detail"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_snapshot_instance:detail"":""role:reader and system_scope:all"". # The share snapshot instance API now supports system scope and # default roles. # Reset share snapshot instance's status. # POST /snapshot-instances/{snapshot_instance_id}/action # Intended scope(s): system #""share_snapshot_instance:reset_status"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_snapshot_instance:reset_status"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_snapshot_instance:reset_status"":""role:admin and # system_scope:all"". # The share snapshot instance API now supports system scope and # default roles. # List export locations of a share snapshot instance. # GET /snapshot-instances/{snapshot_instance_id}/export-locations # Intended scope(s): system #""share_snapshot_instance_export_location:index"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_snapshot_instance_export_location:index"":""rule:admin_api"" has # been deprecated since W in favor of # ""share_snapshot_instance_export_location:index"":""role:reader and # system_scope:all"". # The share snapshot instance export location API now supports system # scope and default roles. # Show details of a specified export location of a share snapshot # instance. # GET /snapshot-instances/{snapshot_instance_id}/export-locations/{export_location_id} # Intended scope(s): system #""share_snapshot_instance_export_location:show"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_snapshot_instance_export_location:show"":""rule:admin_api"" has # been deprecated since W in favor of # ""share_snapshot_instance_export_location:show"":""role:reader and # system_scope:all"". # The share snapshot instance export location API now supports system # scope and default roles. # Get share servers. # GET /share-servers # GET /share-servers?{query} # Intended scope(s): system #""share_server:index"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_server:index"":""rule:admin_api"" has been deprecated since W in # favor of ""share_server:index"":""role:reader and system_scope:all"". # The share server API now supports system scope and default roles. # Show share server. # GET /share-servers/{server_id} # Intended scope(s): system #""share_server:show"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_server:show"":""rule:admin_api"" has been deprecated since W in # favor of ""share_server:show"":""role:reader and system_scope:all"". # The share server API now supports system scope and default roles. # Get share server details. # GET /share-servers/{server_id}/details # Intended scope(s): system #""share_server:details"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_server:details"":""rule:admin_api"" has been deprecated since W # in favor of ""share_server:details"":""role:reader and # system_scope:all"". # The share server API now supports system scope and default roles. # Delete share server. # DELETE /share-servers/{server_id} # Intended scope(s): system #""share_server:delete"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_server:delete"":""rule:admin_api"" has been deprecated since W # in favor of ""share_server:delete"":""role:admin and system_scope:all"". # The share server API now supports system scope and default roles. # Manage share server. # POST /share-servers/manage # Intended scope(s): system #""share_server:manage_share_server"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_server:manage_share_server"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_server:manage_share_server"":""role:admin and # system_scope:all"". # The share server API now supports system scope and default roles. # Unmanage share server. # POST /share-servers/{share_server_id}/action # Intended scope(s): system #""share_server:unmanage_share_server"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_server:unmanage_share_server"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_server:unmanage_share_server"":""role:admin and # system_scope:all"". # The share server API now supports system scope and default roles. # Reset the status of a share server. # POST /share-servers/{share_server_id}/action # Intended scope(s): system #""share_server:reset_status"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_server:reset_status"":""rule:admin_api"" has been deprecated # since W in favor of ""share_server:reset_status"":""role:admin and # system_scope:all"". # The share server API now supports system scope and default roles. # Migrates a share server to the specified host. # POST /share-servers/{share_server_id}/action # Intended scope(s): system #""share_server:share_server_migration_start"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_server:share_server_migration_start"":""rule:admin_api"" has # been deprecated since W in favor of # ""share_server:share_server_migration_start"":""role:admin and # system_scope:all"". # The share server API now supports system scope and default roles. # Check if can migrates a share server to the specified host. # POST /share-servers/{share_server_id}/action # Intended scope(s): system #""share_server:share_server_migration_check"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_server:share_server_migration_check"":""rule:admin_api"" has # been deprecated since W in favor of # ""share_server:share_server_migration_check"":""role:reader and # system_scope:all"". # The share server API now supports system scope and default roles. # Invokes the 2nd phase of share server migration. # POST /share-servers/{share_server_id}/action # Intended scope(s): system #""share_server:share_server_migration_complete"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_server:share_server_migration_complete"":""rule:admin_api"" has # been deprecated since W in favor of # ""share_server:share_server_migration_complete"":""role:admin and # system_scope:all"". # The share server API now supports system scope and default roles. # Attempts to cancel share server migration. # POST /share-servers/{share_server_id}/action # Intended scope(s): system #""share_server:share_server_migration_cancel"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_server:share_server_migration_cancel"":""rule:admin_api"" has # been deprecated since W in favor of # ""share_server:share_server_migration_cancel"":""role:admin and # system_scope:all"". # The share server API now supports system scope and default roles. # Retrieves the share server migration progress for a given share # server. # POST /share-servers/{share_server_id}/action # Intended scope(s): system #""share_server:share_server_migration_get_progress"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_server:share_server_migration_get_progress"":""rule:admin_api"" # has been deprecated since W in favor of # ""share_server:share_server_migration_get_progress"":""role:reader and # system_scope:all"". # The share server API now supports system scope and default roles. # Resets task state. # POST /share-servers/{share_server_id}/action # Intended scope(s): system #""share_server:share_server_reset_task_state"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_server:share_server_reset_task_state"":""rule:admin_api"" has # been deprecated since W in favor of # ""share_server:share_server_reset_task_state"":""role:admin and # system_scope:all"". # The share server API now supports system scope and default roles. # Return a list of all running services. # GET /os-services # GET /os-services?{query} # GET /services # GET /services?{query} # Intended scope(s): system #""service:index"": ""role:reader and system_scope:all"" # DEPRECATED # ""service:index"":""rule:admin_api"" has been deprecated since W in # favor of ""service:index"":""role:reader and system_scope:all"". # The service API now supports system scope and default roles. # Enable/Disable scheduling for a service. # PUT /os-services/disable # PUT /os-services/enable # PUT /services/disable # PUT /services/enable # Intended scope(s): system #""service:update"": ""role:admin and system_scope:all"" # DEPRECATED # ""service:update"":""rule:admin_api"" has been deprecated since W in # favor of ""service:update"":""role:admin and system_scope:all"". # The service API now supports system scope and default roles. # Update the quotas for a project/user and/or share type. # PUT /quota-sets/{tenant_id} # PUT /quota-sets/{tenant_id}?user_id={user_id} # PUT /quota-sets/{tenant_id}?share_type={share_type_id} # PUT /os-quota-sets/{tenant_id} # PUT /os-quota-sets/{tenant_id}?user_id={user_id} # Intended scope(s): system #""quota_set:update"": ""role:admin and system_scope:all"" # DEPRECATED # ""quota_set:update"":""rule:admin_api"" has been deprecated since W in # favor of ""quota_set:update"":""role:admin and system_scope:all"". # The quota API now supports system scope and default roles. # List the quotas for a tenant/user. # GET /quota-sets/{tenant_id}/defaults # GET /os-quota-sets/{tenant_id}/defaults # Intended scope(s): system, project #""quota_set:show"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""quota_set:show"":""rule:default"" has been deprecated since W in favor # of ""quota_set:show"":""(role:reader and system_scope:all) or # (role:reader and project_id:%(project_id)s)"". # The quota API now supports system scope and default roles. # Delete quota for a tenant/user or tenant/share-type. The quota will # revert back to default (Admin only). # DELETE /quota-sets/{tenant_id} # DELETE /quota-sets/{tenant_id}?user_id={user_id} # DELETE /quota-sets/{tenant_id}?share_type={share_type_id} # DELETE /os-quota-sets/{tenant_id} # DELETE /os-quota-sets/{tenant_id}?user_id={user_id} # Intended scope(s): system #""quota_set:delete"": ""role:admin and system_scope:all"" # DEPRECATED # ""quota_set:delete"":""rule:admin_api"" has been deprecated since W in # favor of ""quota_set:delete"":""role:admin and system_scope:all"". # The quota API now supports system scope and default roles. # Update quota class. # PUT /quota-class-sets/{class_name} # PUT /os-quota-class-sets/{class_name} # Intended scope(s): system #""quota_class_set:update"": ""role:admin and system_scope:all"" # DEPRECATED # ""quota_class_set:update"":""rule:admin_api"" has been deprecated since # W in favor of ""quota_class_set:update"":""role:admin and # system_scope:all"". # The quota class API now supports system scope and default roles. # Get quota class. # GET /quota-class-sets/{class_name} # GET /os-quota-class-sets/{class_name} # Intended scope(s): system, project #""quota_class_set:show"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""quota_class_set:show"":""rule:default"" has been deprecated since W in # favor of ""quota_class_set:show"":""(role:reader and system_scope:all) # or (role:reader and project_id:%(project_id)s)"". # The quota class API now supports system scope and default roles. # Create share group type specs. # POST /share-group-types/{share_group_type_id}/group-specs # Intended scope(s): system #""share_group_types_spec:create"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_group_types_spec:create"":""rule:admin_api"" has been deprecated # since W in favor of ""share_group_types_spec:create"":""role:admin and # system_scope:all"". # The share group type specs API now support system scope and default # roles. # Get share group type specs. # GET /share-group-types/{share_group_type_id}/group-specs # Intended scope(s): system #""share_group_types_spec:index"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_group_types_spec:index"":""rule:admin_api"" has been deprecated # since W in favor of ""share_group_types_spec:index"":""role:reader and # system_scope:all"". # The share group type specs API now support system scope and default # roles. # Get details of a share group type spec. # GET /share-group-types/{share_group_type_id}/group-specs/{key} # Intended scope(s): system #""share_group_types_spec:show"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_group_types_spec:show"":""rule:admin_api"" has been deprecated # since W in favor of ""share_group_types_spec:show"":""role:reader and # system_scope:all"". # The share group type specs API now support system scope and default # roles. # Update a share group type spec. # PUT /share-group-types/{share_group_type_id}/group-specs/{key} # Intended scope(s): system #""share_group_types_spec:update"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_group_types_spec:update"":""rule:admin_api"" has been deprecated # since W in favor of ""share_group_types_spec:update"":""role:admin and # system_scope:all"". # The share group type specs API now support system scope and default # roles. # Delete a share group type spec. # DELETE /share-group-types/{share_group_type_id}/group-specs/{key} # Intended scope(s): system #""share_group_types_spec:delete"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_group_types_spec:delete"":""rule:admin_api"" has been deprecated # since W in favor of ""share_group_types_spec:delete"":""role:admin and # system_scope:all"". # The share group type specs API now support system scope and default # roles. # Create a new share group type. # POST /share-group-types # Intended scope(s): system #""share_group_type:create"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_group_type:create"":""rule:admin_api"" has been deprecated since # W in favor of ""share_group_type:create"":""role:admin and # system_scope:all"". # The share group type API now supports system scope and default # roles. # Get the list of share group types. # GET /share-group-types # GET /share-group-types?is_public=all # Intended scope(s): system, project #""share_group_type:index"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_group_type:index"":""rule:default"" has been deprecated since W # in favor of ""share_group_type:index"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share group type API now supports system scope and default # roles. # Get details regarding the specified share group type. # GET /share-group-types/{share_group_type_id} # Intended scope(s): system, project #""share_group_type:show"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_group_type:show"":""rule:default"" has been deprecated since W # in favor of ""share_group_type:show"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share group type API now supports system scope and default # roles. # Get the default share group type. # GET /share-group-types/default # Intended scope(s): system, project #""share_group_type:default"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_group_type:default"":""rule:default"" has been deprecated since # W in favor of ""share_group_type:default"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share group type API now supports system scope and default # roles. # Delete an existing group type. # DELETE /share-group-types/{share_group_type_id} # Intended scope(s): system #""share_group_type:delete"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_group_type:delete"":""rule:admin_api"" has been deprecated since # W in favor of ""share_group_type:delete"":""role:admin and # system_scope:all"". # The share group type API now supports system scope and default # roles. # Get project access by share group type. # GET /share-group-types/{share_group_type_id}/access # Intended scope(s): system #""share_group_type:list_project_access"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_group_type:list_project_access"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_group_type:list_project_access"":""role:reader and # system_scope:all"". # The share group type API now supports system scope and default # roles. # Allow project to use the share group type. # POST /share-group-types/{share_group_type_id}/action # Intended scope(s): system #""share_group_type:add_project_access"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_group_type:add_project_access"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_group_type:add_project_access"":""role:admin and # system_scope:all"". # The share group type API now supports system scope and default # roles. # Deny project access to use the share group type. # POST /share-group-types/{share_group_type_id}/action # Intended scope(s): system #""share_group_type:remove_project_access"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_group_type:remove_project_access"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_group_type:remove_project_access"":""role:admin and # system_scope:all"". # The share group type API now supports system scope and default # roles. # Create a new share group snapshot. # POST /share-group-snapshots # Intended scope(s): system, project #""share_group_snapshot:create"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_group_snapshot:create"":""rule:default"" has been deprecated # since W in favor of ""share_group_snapshot:create"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The share group snapshots API now supports system scope and default # roles. # Get details of a share group snapshot. # GET /share-group-snapshots/{share_group_snapshot_id} # Intended scope(s): system, project #""share_group_snapshot:get"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_group_snapshot:get"":""rule:default"" has been deprecated since # W in favor of ""share_group_snapshot:get"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share group snapshots API now supports system scope and default # roles. # Get all share group snapshots. # GET /share-group-snapshots # GET /share-group-snapshots/detail # GET /share-group-snapshots/{query} # GET /share-group-snapshots/detail?{query} # Intended scope(s): system, project #""share_group_snapshot:get_all"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_group_snapshot:get_all"":""rule:default"" has been deprecated # since W in favor of ""share_group_snapshot:get_all"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share group snapshots API now supports system scope and default # roles. # Update a share group snapshot. # PUT /share-group-snapshots/{share_group_snapshot_id} # Intended scope(s): system, project #""share_group_snapshot:update"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_group_snapshot:update"":""rule:default"" has been deprecated # since W in favor of ""share_group_snapshot:update"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The share group snapshots API now supports system scope and default # roles. # Delete a share group snapshot. # DELETE /share-group-snapshots/{share_group_snapshot_id} # Intended scope(s): system, project #""share_group_snapshot:delete"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_group_snapshot:delete"":""rule:default"" has been deprecated # since W in favor of ""share_group_snapshot:delete"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The share group snapshots API now supports system scope and default # roles. # Force delete a share group snapshot. # POST /share-group-snapshots/{share_group_snapshot_id}/action # Intended scope(s): system, project #""share_group_snapshot:force_delete"": ""(role:admin and system_scope:all) or (role:admin and project_id:%(project_id)s)"" # DEPRECATED # ""share_group_snapshot:force_delete"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_group_snapshot:force_delete"":""(role:admin and # system_scope:all) or (role:admin and project_id:%(project_id)s)"". # The share group snapshots API now supports system scope and default # roles. # Reset a share group snapshot's status. # POST /share-group-snapshots/{share_group_snapshot_id}/action # Intended scope(s): system, project #""share_group_snapshot:reset_status"": ""(role:admin and system_scope:all) or (role:admin and project_id:%(project_id)s)"" # DEPRECATED # ""share_group_snapshot:reset_status"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_group_snapshot:reset_status"":""(role:admin and # system_scope:all) or (role:admin and project_id:%(project_id)s)"". # The share group snapshots API now supports system scope and default # roles. # Create share group. # POST /share-groups # Intended scope(s): system, project #""share_group:create"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_group:create"":""rule:default"" has been deprecated since W in # favor of ""share_group:create"":""(role:admin and system_scope:all) or # (role:member and project_id:%(project_id)s)"". # The share group API now supports system scope and default roles. # Get details of a share group. # GET /share-groups/{share_group_id} # Intended scope(s): system, project #""share_group:get"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_group:get"":""rule:default"" has been deprecated since W in # favor of ""share_group:get"":""(role:reader and system_scope:all) or # (role:reader and project_id:%(project_id)s)"". # The share group API now supports system scope and default roles. # Get all share groups. # GET /share-groups # GET /share-groups/detail # GET /share-groups?{query} # GET /share-groups/detail?{query} # Intended scope(s): system, project #""share_group:get_all"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_group:get_all"":""rule:default"" has been deprecated since W in # favor of ""share_group:get_all"":""(role:reader and system_scope:all) # or (role:reader and project_id:%(project_id)s)"". # The share group API now supports system scope and default roles. # Update share group. # PUT /share-groups/{share_group_id} # Intended scope(s): system, project #""share_group:update"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_group:update"":""rule:default"" has been deprecated since W in # favor of ""share_group:update"":""(role:admin and system_scope:all) or # (role:member and project_id:%(project_id)s)"". # The share group API now supports system scope and default roles. # Delete share group. # DELETE /share-groups/{share_group_id} # Intended scope(s): system, project #""share_group:delete"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_group:delete"":""rule:default"" has been deprecated since W in # favor of ""share_group:delete"":""(role:admin and system_scope:all) or # (role:member and project_id:%(project_id)s)"". # The share group API now supports system scope and default roles. # Force delete a share group. # POST /share-groups/{share_group_id}/action # Intended scope(s): system, project #""share_group:force_delete"": ""(role:admin and system_scope:all) or (role:admin and project_id:%(project_id)s)"" # DEPRECATED # ""share_group:force_delete"":""rule:admin_api"" has been deprecated # since W in favor of ""share_group:force_delete"":""(role:admin and # system_scope:all) or (role:admin and project_id:%(project_id)s)"". # The share group API now supports system scope and default roles. # Reset share group's status. # POST /share-groups/{share_group_id}/action # Intended scope(s): system, project #""share_group:reset_status"": ""(role:admin and system_scope:all) or (role:admin and project_id:%(project_id)s)"" # DEPRECATED # ""share_group:reset_status"":""rule:admin_api"" has been deprecated # since W in favor of ""share_group:reset_status"":""(role:admin and # system_scope:all) or (role:admin and project_id:%(project_id)s)"". # The share group API now supports system scope and default roles. # Create share replica. # POST /share-replicas # Intended scope(s): system, project #""share_replica:create"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_replica:create"":""rule:default"" has been deprecated since W in # favor of ""share_replica:create"":""(role:admin and system_scope:all) # or (role:member and project_id:%(project_id)s)"". # The share replica API now supports system scope and default roles. # Get all share replicas. # GET /share-replicas # GET /share-replicas/detail # GET /share-replicas/detail?share_id={share_id} # Intended scope(s): system, project #""share_replica:get_all"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_replica:get_all"":""rule:default"" has been deprecated since W # in favor of ""share_replica:get_all"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share replica API now supports system scope and default roles. # Get details of a share replica. # GET /share-replicas/{share_replica_id} # Intended scope(s): system, project #""share_replica:show"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_replica:show"":""rule:default"" has been deprecated since W in # favor of ""share_replica:show"":""(role:reader and system_scope:all) or # (role:reader and project_id:%(project_id)s)"". # The share replica API now supports system scope and default roles. # Delete a share replica. # DELETE /share-replicas/{share_replica_id} # Intended scope(s): system, project #""share_replica:delete"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_replica:delete"":""rule:default"" has been deprecated since W in # favor of ""share_replica:delete"":""(role:admin and system_scope:all) # or (role:member and project_id:%(project_id)s)"". # The share replica API now supports system scope and default roles. # Force delete a share replica. # POST /share-replicas/{share_replica_id}/action # Intended scope(s): system, project #""share_replica:force_delete"": ""(role:admin and system_scope:all) or (role:admin and project_id:%(project_id)s)"" # DEPRECATED # ""share_replica:force_delete"":""rule:admin_api"" has been deprecated # since W in favor of ""share_replica:force_delete"":""(role:admin and # system_scope:all) or (role:admin and project_id:%(project_id)s)"". # The share replica API now supports system scope and default roles. # Promote a non-active share replica to active. # POST /share-replicas/{share_replica_id}/action # Intended scope(s): system, project #""share_replica:promote"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_replica:promote"":""rule:default"" has been deprecated since W # in favor of ""share_replica:promote"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The share replica API now supports system scope and default roles. # Resync a share replica that is out of sync. # POST /share-replicas/{share_replica_id}/action # Intended scope(s): system, project #""share_replica:resync"": ""(role:admin and system_scope:all) or (role:admin and project_id:%(project_id)s)"" # DEPRECATED # ""share_replica:resync"":""rule:admin_api"" has been deprecated since W # in favor of ""share_replica:resync"":""(role:admin and # system_scope:all) or (role:admin and project_id:%(project_id)s)"". # The share replica API now supports system scope and default roles. # Reset share replica's replica_state attribute. # POST /share-replicas/{share_replica_id}/action # Intended scope(s): system, project #""share_replica:reset_replica_state"": ""(role:admin and system_scope:all) or (role:admin and project_id:%(project_id)s)"" # DEPRECATED # ""share_replica:reset_replica_state"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_replica:reset_replica_state"":""(role:admin and # system_scope:all) or (role:admin and project_id:%(project_id)s)"". # The share replica API now supports system scope and default roles. # Reset share replica's status. # POST /share-replicas/{share_replica_id}/action # Intended scope(s): system, project #""share_replica:reset_status"": ""(role:admin and system_scope:all) or (role:admin and project_id:%(project_id)s)"" # DEPRECATED # ""share_replica:reset_status"":""rule:admin_api"" has been deprecated # since W in favor of ""share_replica:reset_status"":""(role:admin and # system_scope:all) or (role:admin and project_id:%(project_id)s)"". # The share replica API now supports system scope and default roles. # Get all export locations of a given share replica. # GET /share-replicas/{share_replica_id}/export-locations # Intended scope(s): system, project #""share_replica_export_location:index"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_replica_export_location:index"":""rule:default"" has been # deprecated since W in favor of # ""share_replica_export_location:index"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share replica export location API now supports system scope and # default roles. # Get details about the requested share replica export location. # GET /share-replicas/{share_replica_id}/export-locations/{export_location_id} # Intended scope(s): system, project #""share_replica_export_location:show"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_replica_export_location:show"":""rule:default"" has been # deprecated since W in favor of # ""share_replica_export_location:show"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share replica export location API now supports system scope and # default roles. # Create share network. # POST /share-networks # Intended scope(s): system, project #""share_network:create"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_network:create"":""rule:default"" has been deprecated since W in # favor of ""share_network:create"":""(role:admin and system_scope:all) # or (role:member and project_id:%(project_id)s)"". # The share network API now support system scope and default roles. # Get details of a share network. # GET /share-networks/{share_network_id} # Intended scope(s): system, project #""share_network:show"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_network:show"":""rule:default"" has been deprecated since W in # favor of ""share_network:show"":""(role:reader and system_scope:all) or # (role:reader and project_id:%(project_id)s)"". # The share network API now support system scope and default roles. # Get all share networks. # GET /share-networks # GET /share-networks?{query} # Intended scope(s): system, project #""share_network:index"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_network:index"":""rule:default"" has been deprecated since W in # favor of ""share_network:index"":""(role:reader and system_scope:all) # or (role:reader and project_id:%(project_id)s)"". # The share network API now support system scope and default roles. # Get details of share networks . # GET /share-networks/detail?{query} # GET /share-networks/detail # Intended scope(s): system, project #""share_network:detail"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_network:detail"":""rule:default"" has been deprecated since W in # favor of ""share_network:detail"":""(role:reader and system_scope:all) # or (role:reader and project_id:%(project_id)s)"". # The share network API now support system scope and default roles. # Update a share network. # PUT /share-networks/{share_network_id} # Intended scope(s): system, project #""share_network:update"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_network:update"":""rule:default"" has been deprecated since W in # favor of ""share_network:update"":""(role:admin and system_scope:all) # or (role:member and project_id:%(project_id)s)"". # The share network API now support system scope and default roles. # Delete a share network. # DELETE /share-networks/{share_network_id} # Intended scope(s): system, project #""share_network:delete"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_network:delete"":""rule:default"" has been deprecated since W in # favor of ""share_network:delete"":""(role:admin and system_scope:all) # or (role:member and project_id:%(project_id)s)"". # The share network API now support system scope and default roles. # Add security service to share network. # POST /share-networks/{share_network_id}/action # Intended scope(s): system, project #""share_network:add_security_service"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_network:add_security_service"":""rule:default"" has been # deprecated since W in favor of # ""share_network:add_security_service"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The share network API now support system scope and default roles. # Remove security service from share network. # POST /share-networks/{share_network_id}/action # Intended scope(s): system, project #""share_network:remove_security_service"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_network:remove_security_service"":""rule:default"" has been # deprecated since W in favor of # ""share_network:remove_security_service"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The share network API now support system scope and default roles. # Get share networks belonging to all projects. # GET /share-networks?all_tenants=1 # GET /share-networks/detail?all_tenants=1 # Intended scope(s): system #""share_network:get_all_share_networks"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_network:get_all_share_networks"":""rule:admin_api"" has been # deprecated since W in favor of # ""share_network:get_all_share_networks"":""role:reader and # system_scope:all"". # The share network API now support system scope and default roles. # Create a new share network subnet. # POST /share-networks/{share_network_id}/subnets # Intended scope(s): system, project #""share_network_subnet:create"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_network_subnet:create"":""rule:default"" has been deprecated # since W in favor of ""share_network_subnet:create"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The share network subnet API now supports system scope and default # roles. # Delete a share network subnet. # DELETE /share-networks/{share_network_id}/subnets/{share_network_subnet_id} # Intended scope(s): system, project #""share_network_subnet:delete"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_network_subnet:delete"":""rule:default"" has been deprecated # since W in favor of ""share_network_subnet:delete"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The share network subnet API now supports system scope and default # roles. # Shows a share network subnet. # GET /share-networks/{share_network_id}/subnets/{share_network_subnet_id} # Intended scope(s): system, project #""share_network_subnet:show"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_network_subnet:show"":""rule:default"" has been deprecated since # W in favor of ""share_network_subnet:show"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share network subnet API now supports system scope and default # roles. # Get all share network subnets. # GET /share-networks/{share_network_id}/subnets # Intended scope(s): system, project #""share_network_subnet:index"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_network_subnet:index"":""rule:default"" has been deprecated # since W in favor of ""share_network_subnet:index"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share network subnet API now supports system scope and default # roles. # Create security service. # POST /security-services # Intended scope(s): system, project #""security_service:create"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""security_service:create"":""rule:default"" has been deprecated since W # in favor of ""security_service:create"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The security service API now supports system scope and default # roles. # Get details of a security service. # GET /security-services/{security_service_id} # Intended scope(s): system, project #""security_service:show"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""security_service:show"":""rule:default"" has been deprecated since W # in favor of ""security_service:show"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The security service API now supports system scope and default # roles. # Get details of all security services. # GET /security-services/detail?{query} # GET /security-services/detail # Intended scope(s): system, project #""security_service:detail"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""security_service:detail"":""rule:default"" has been deprecated since W # in favor of ""security_service:detail"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The security service API now supports system scope and default # roles. # Get all security services. # GET /security-services # GET /security-services?{query} # Intended scope(s): system, project #""security_service:index"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""security_service:index"":""rule:default"" has been deprecated since W # in favor of ""security_service:index"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The security service API now supports system scope and default # roles. # Update a security service. # PUT /security-services/{security_service_id} # Intended scope(s): system, project #""security_service:update"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""security_service:update"":""rule:default"" has been deprecated since W # in favor of ""security_service:update"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The security service API now supports system scope and default # roles. # Delete a security service. # DELETE /security-services/{security_service_id} # Intended scope(s): system, project #""security_service:delete"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""security_service:delete"":""rule:default"" has been deprecated since W # in favor of ""security_service:delete"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The security service API now supports system scope and default # roles. # Get security services of all projects. # GET /security-services?all_tenants=1 # GET /security-services/detail?all_tenants=1 # Intended scope(s): system #""security_service:get_all_security_services"": ""role:reader and system_scope:all"" # DEPRECATED # ""security_service:get_all_security_services"":""rule:admin_api"" has # been deprecated since W in favor of # ""security_service:get_all_security_services"":""role:reader and # system_scope:all"". # The security service API now supports system scope and default # roles. # Get all export locations of a given share. # GET /shares/{share_id}/export_locations # Intended scope(s): system, project #""share_export_location:index"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_export_location:index"":""rule:default"" has been deprecated # since W in favor of ""share_export_location:index"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share export location API now support system scope and default # roles. # Get details about the requested export location. # GET /shares/{share_id}/export_locations/{export_location_id} # Intended scope(s): system, project #""share_export_location:show"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_export_location:show"":""rule:default"" has been deprecated # since W in favor of ""share_export_location:show"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share export location API now support system scope and default # roles. # Get all share instances. # GET /share_instances # GET /share_instances?{query} # Intended scope(s): system #""share_instance:index"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_instance:index"":""rule:admin_api"" has been deprecated since W # in favor of ""share_instance:index"":""role:reader and # system_scope:all"". # The share instances API now supports system scope and default roles. # Get details of a share instance. # GET /share_instances/{share_instance_id} # Intended scope(s): system #""share_instance:show"": ""role:reader and system_scope:all"" # DEPRECATED # ""share_instance:show"":""rule:admin_api"" has been deprecated since W # in favor of ""share_instance:show"":""role:reader and # system_scope:all"". # The share instances API now supports system scope and default roles. # Force delete a share instance. # POST /share_instances/{share_instance_id}/action # Intended scope(s): system #""share_instance:force_delete"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_instance:force_delete"":""rule:admin_api"" has been deprecated # since W in favor of ""share_instance:force_delete"":""role:admin and # system_scope:all"". # The share instances API now supports system scope and default roles. # Reset share instance's status. # POST /share_instances/{share_instance_id}/action # Intended scope(s): system #""share_instance:reset_status"": ""role:admin and system_scope:all"" # DEPRECATED # ""share_instance:reset_status"":""rule:admin_api"" has been deprecated # since W in favor of ""share_instance:reset_status"":""role:admin and # system_scope:all"". # The share instances API now supports system scope and default roles. # Get details of a given message. # GET /messages/{message_id} # Intended scope(s): system, project #""message:get"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""message:get"":""rule:default"" has been deprecated since W in favor of # ""message:get"":""(role:reader and system_scope:all) or (role:reader # and project_id:%(project_id)s)"". # The messages API now supports system scope and default roles. # Get all messages. # GET /messages # GET /messages?{query} # Intended scope(s): system, project #""message:get_all"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""message:get_all"":""rule:default"" has been deprecated since W in # favor of ""message:get_all"":""(role:reader and system_scope:all) or # (role:reader and project_id:%(project_id)s)"". # The messages API now supports system scope and default roles. # Delete a message. # DELETE /messages/{message_id} # Intended scope(s): system, project #""message:delete"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""message:delete"":""rule:default"" has been deprecated since W in favor # of ""message:delete"":""(role:admin and system_scope:all) or # (role:member and project_id:%(project_id)s)"". # The messages API now supports system scope and default roles. # Get details of a share access rule. # GET /share-access-rules/{share_access_id} # Intended scope(s): system, project #""share_access_rule:get"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_access_rule:get"":""rule:default"" has been deprecated since W # in favor of ""share_access_rule:get"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share access rule API now supports system scope and default # roles. # List access rules of a given share. # GET /share-access-rules?share_id={share_id}&key1=value1&key2=value2 # Intended scope(s): system, project #""share_access_rule:index"": ""(role:reader and system_scope:all) or (role:reader and project_id:%(project_id)s)"" # DEPRECATED # ""share_access_rule:index"":""rule:default"" has been deprecated since W # in favor of ""share_access_rule:index"":""(role:reader and # system_scope:all) or (role:reader and project_id:%(project_id)s)"". # The share access rule API now supports system scope and default # roles. # Set metadata for a share access rule. # PUT /share-access-rules/{share_access_id}/metadata # Intended scope(s): system, project #""share_access_metadata:update"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_access_metadata:update"":""rule:default"" has been deprecated # since W in favor of ""share_access_metadata:update"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The share access metadata API now support system scope and default # roles. # Delete metadata for a share access rule. # DELETE /share-access-rules/{share_access_id}/metadata/{key} # Intended scope(s): system, project #""share_access_metadata:delete"": ""(role:admin and system_scope:all) or (role:member and project_id:%(project_id)s)"" # DEPRECATED # ""share_access_metadata:delete"":""rule:default"" has been deprecated # since W in favor of ""share_access_metadata:delete"":""(role:admin and # system_scope:all) or (role:member and project_id:%(project_id)s)"". # The share access metadata API now support system scope and default # roles. ",,4792,1
openstack%2Fpython-monascaclient~master~I878f30ccdbd4244ec49c551ee24acd5426dfb6c9,openstack/python-monascaclient,master,I878f30ccdbd4244ec49c551ee24acd5426dfb6c9,Fix zuul publish docker image job,MERGED,2021-04-07 12:14:10.000000000,2021-04-07 14:19:35.000000000,2021-04-07 14:17:17.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-07 12:14:10.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/cf4d9cc470ac8150c70dda8742113f2aeeaff69b', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: I878f30ccdbd4244ec49c551ee24acd5426dfb6c9\n'}]",0,785160,cf4d9cc470ac8150c70dda8742113f2aeeaff69b,7,2,1,28062,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I878f30ccdbd4244ec49c551ee24acd5426dfb6c9
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/60/785160/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,cf4d9cc470ac8150c70dda8742113f2aeeaff69b,fix-zuul-publish," shell: ""docker push monasca/client:{{ zuul.tag if zuul.pipeline == 'release' else 'master'}}"""," shell: ""docker push monasca/client:{{ zuul.tag if zuul.pipeline == 'release' else zuul.branch }}""",1,1
openstack%2Foslo.privsep~master~If3105d6df017f3597c0479792ea671b5b9245039,openstack/oslo.privsep,master,If3105d6df017f3597c0479792ea671b5b9245039,Move flake8 as a pre-commit local target.,ABANDONED,2021-03-22 09:37:43.000000000,2021-04-07 14:19:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-22 09:37:43.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/919a65ea8c18f927665a511d24b5cdb8be74e598', 'message': ""Move flake8 as a pre-commit local target.\n\nThe goal here is to avoid conflicts between flake8 and hacking version each\n2 days.\n\nInspired from nova's approach [1].\n\nThe flake8 version to install will be determined by hacking and\nrequirements will stay aligned instead of relying on different versions.\n\n[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35\n[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1\n\nChange-Id: If3105d6df017f3597c0479792ea671b5b9245039\n""}]",0,782113,919a65ea8c18f927665a511d24b5cdb8be74e598,6,2,1,31245,,,0,"Move flake8 as a pre-commit local target.

The goal here is to avoid conflicts between flake8 and hacking version each
2 days.

Inspired from nova's approach [1].

The flake8 version to install will be determined by hacking and
requirements will stay aligned instead of relying on different versions.

[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35
[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1

Change-Id: If3105d6df017f3597c0479792ea671b5b9245039
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/13/782113/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,919a65ea8c18f927665a511d24b5cdb8be74e598,move_flake8_local, - repo: local name: flake8 language: python entry: flake8 files: '^.*\.py$' exclude: '^(doc|releasenotes|tools)/.*$', - repo: https://gitlab.com/pycqa/flake8 rev: 181bb46098dddf7e2d45319ea654b4b4d58c2840 # 3.8.3,6,2
openstack%2Fironic~stable%2Fussuri~Ie19db9e0cf1eafdfc9bb46248f4d457337821f94,openstack/ironic,stable/ussuri,Ie19db9e0cf1eafdfc9bb46248f4d457337821f94,IPMI: Handle vendor set boot device differences,MERGED,2021-03-24 14:40:02.000000000,2021-04-07 14:16:05.000000000,2021-04-07 14:14:22.000000000,"[{'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 21909}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 14:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/40472abec197c77f30e9b5e03c12f72d95168235', 'message': ""IPMI: Handle vendor set boot device differences\n\nSupermicro machines, when in UEFI mode, have a different\ndevice number, in binary, to represent the hard disk from\nother vendors such as Fujitsu which actually has somewhat\nsimilar code in their driver.\n\nThis means we need to be somewhat cognizent of the vendor of\nthe BMC and possibly update the device mapping based upon that\nvendor.\n\nThis may ultimately fix a number of IPMI related problems, because\nthere is a reliance upon the text output of ipmitool, which only\nreads the bytes retured by the BMC, which may not be reality after\nthe next reset, espescialy if ipmitool doesn't know of the UEFI\noperating difference.\n\nNOTE: This had to be a direct cherry-pick from the original change\nas the intermediate branch that we normally would have cherry-picked\nfrom has had other changes made to it, which resulted in an unclean\nbackport, where as off of the original change it was clean except git\naccidently added an extra line into test_neutron.py in the process of\nauto-merging.\n\nChange-Id: Ie19db9e0cf1eafdfc9bb46248f4d457337821f94\nStory: 2008241\nTask: 41085\n(cherry picked from commit a7ac9ce8cd53fdebdf0d9aaeaf439da08a0b3ec8)\n""}, {'number': 2, 'created': '2021-03-24 14:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d9d11cd2052f6aff742b620131fb758f2b0628d7', 'message': ""IPMI: Handle vendor set boot device differences\n\nSupermicro machines, when in UEFI mode, have a different\ndevice number, in binary, to represent the hard disk from\nother vendors such as Fujitsu which actually has somewhat\nsimilar code in their driver.\n\nThis means we need to be somewhat cognizent of the vendor of\nthe BMC and possibly update the device mapping based upon that\nvendor.\n\nThis may ultimately fix a number of IPMI related problems, because\nthere is a reliance upon the text output of ipmitool, which only\nreads the bytes retured by the BMC, which may not be reality after\nthe next reset, espescialy if ipmitool doesn't know of the UEFI\noperating difference.\n\nChange-Id: Ie19db9e0cf1eafdfc9bb46248f4d457337821f94\nStory: 2008241\nTask: 41085\n(cherry picked from commit a7ac9ce8cd53fdebdf0d9aaeaf439da08a0b3ec8)\n""}, {'number': 3, 'created': '2021-03-24 14:44:55.000000000', 'files': ['releasenotes/notes/handle-uefi-disk-pxe-persistance-0d871825591918b5.yaml', 'ironic/drivers/base.py', 'ironic/drivers/modules/ipmitool.py', 'doc/source/admin/drivers/ipmitool.rst', 'ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8bf3f47476ba685a2aa696aa413b4706f71a4f7a', 'message': ""IPMI: Handle vendor set boot device differences\n\nSupermicro machines, when in UEFI mode, have a different\ndevice number, in binary, to represent the hard disk from\nother vendors such as Fujitsu which actually has somewhat\nsimilar code in their driver.\n\nThis means we need to be somewhat cognizent of the vendor of\nthe BMC and possibly update the device mapping based upon that\nvendor.\n\nThis may ultimately fix a number of IPMI related problems, because\nthere is a reliance upon the text output of ipmitool, which only\nreads the bytes retured by the BMC, which may not be reality after\nthe next reset, espescialy if ipmitool doesn't know of the UEFI\noperating difference.\n\nNOTE: This had to be a direct cherry-pick from the original change\nas the intermediate branch that we normally would have cherry-picked\nfrom has had other changes made to it, which resulted in an unclean\nbackport, where as with the original change it was clean.\n\nChange-Id: Ie19db9e0cf1eafdfc9bb46248f4d457337821f94\nStory: 2008241\nTask: 41085\n(cherry picked from commit a7ac9ce8cd53fdebdf0d9aaeaf439da08a0b3ec8)\n""}]",0,782764,8bf3f47476ba685a2aa696aa413b4706f71a4f7a,13,4,3,11655,,,0,"IPMI: Handle vendor set boot device differences

Supermicro machines, when in UEFI mode, have a different
device number, in binary, to represent the hard disk from
other vendors such as Fujitsu which actually has somewhat
similar code in their driver.

This means we need to be somewhat cognizent of the vendor of
the BMC and possibly update the device mapping based upon that
vendor.

This may ultimately fix a number of IPMI related problems, because
there is a reliance upon the text output of ipmitool, which only
reads the bytes retured by the BMC, which may not be reality after
the next reset, espescialy if ipmitool doesn't know of the UEFI
operating difference.

NOTE: This had to be a direct cherry-pick from the original change
as the intermediate branch that we normally would have cherry-picked
from has had other changes made to it, which resulted in an unclean
backport, where as with the original change it was clean.

Change-Id: Ie19db9e0cf1eafdfc9bb46248f4d457337821f94
Story: 2008241
Task: 41085
(cherry picked from commit a7ac9ce8cd53fdebdf0d9aaeaf439da08a0b3ec8)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/64/782764/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/handle-uefi-disk-pxe-persistance-0d871825591918b5.yaml', 'ironic/drivers/base.py', 'ironic/drivers/modules/ipmitool.py', 'doc/source/admin/drivers/ipmitool.rst', 'ironic/tests/unit/drivers/modules/test_ipmitool.py']",5,40472abec197c77f30e9b5e03c12f72d95168235,,"MC_INFO = """"""Device ID : 32 Device Revision : 1 Firmware Revision : 0.99 IPMI Version : 2.0 Manufacturer ID : 1234 Manufacturer Name : {vendor} Product ID : 2001 (0x0801) Product Name : Unknown (0x101) Device Available : yes Provides Device SDRs : no Additional Device Support : Sensor Device SDR Repository Device SEL Device FRU Inventory Device IPMB Event Receiver IPMB Event Generator Chassis Device Aux Firmware Rev Info : 0x00 0x00 0x00 0x00 """""" task.node.properties['vendor'] = 'lolcat' @mock.patch.object(ipmi.IPMIManagement, 'detect_vendor', autospec=True) def test__soft_power_off(self, sleep_mock, mock_exec, mock_vendor): mock_vendor.return_value = None self.assertTrue(mock_vendor.called) @mock.patch.object(ipmi.IPMIManagement, 'detect_vendor', autospec=True) def test__soft_power_off_max_retries(self, sleep_mock, mock_exec, mock_vendor): task.node.properties['vendor'] = 'meow5000' # Should be removed when detect_vendor automatic invocation is moved. self.assertFalse(mock_vendor.called) @mock.patch.object(ipmi.IPMIManagement, 'detect_vendor', autospec=True) def test_get_power_state(self, mock_exec, mock_detect): mock_detect.return_value = None self.assertEqual(3, mock_detect.call_count) @mock.patch.object(ipmi.IPMIManagement, 'detect_vendor', autospec=True) def test_get_power_state_exception(self, mock_exec, mock_vendor): mock_vendor.return_value = None self.assertEqual(1, mock_vendor.call_count) mock.call(self.info, ""raw 0x00 0x08 0x05 0xa0 0x04 0x00 0x00 0x00"") @mock.patch.object(boot_mode_utils, 'get_boot_mode_for_deploy', autospec=True) @mock.patch.object(ipmi, '_exec_ipmitool', autospec=True) def test_management_interface_set_boot_device_uefi_and_persistent_smci( self, mock_exec, mock_boot_mode): mock_boot_mode.return_value = 'uefi' mock_exec.return_value = [None, None] properties = self.node.properties properties['vendor'] = 'SuperMicro' self.node.properties = properties self.node.save() with task_manager.acquire(self.context, self.node.uuid) as task: self.management.set_boot_device(task, boot_devices.DISK, persistent=True) mock_calls = [ mock.call(self.info, ""raw 0x00 0x08 0x03 0x08""), mock.call(self.info, ""raw 0x00 0x08 0x05 0xe0 "" ""0x24 0x00 0x00 0x00"") ] mock_exec.assert_has_calls(mock_calls) @mock.patch.object(boot_mode_utils, 'get_boot_mode_for_deploy', autospec=True) @mock.patch.object(ipmi, '_exec_ipmitool', autospec=True) def test_management_interface_set_boot_device_uefi_and_onetime_smci( self, mock_exec, mock_boot_mode): mock_boot_mode.return_value = 'uefi' mock_exec.return_value = [None, None] properties = self.node.properties properties['vendor'] = 'SuperMicro' self.node.properties = properties self.node.save() with task_manager.acquire(self.context, self.node.uuid) as task: self.management.set_boot_device(task, boot_devices.DISK, persistent=False) mock_calls = [ mock.call(self.info, ""raw 0x00 0x08 0x03 0x08""), mock.call(self.info, ""raw 0x00 0x08 0x05 0xa0 "" ""0x24 0x00 0x00 0x00"") ] mock_exec.assert_has_calls(mock_calls) @mock.patch.object(ipmi, '_exec_ipmitool', autospec=True) def test_detect_vendor(self, mock_exec): mock_exec.return_value = (MC_INFO.format(vendor='LolCatMeow'), None) with task_manager.acquire(self.context, self.node.uuid) as task: driver_info = ipmi._parse_driver_info(task.node) vendor = self.management.detect_vendor(task) mock_exec.assert_called_once_with(driver_info, 'mc info') self.assertEqual('lolcatmeow', vendor) "," def test__soft_power_off(self, sleep_mock, mock_exec): def test__soft_power_off_max_retries(self, sleep_mock, mock_exec): def test_get_power_state(self, mock_exec): def test_get_power_state_exception(self, mock_exec): mock.call(self.info, ""chassis bootdev pxe options=efiboot"")",320,16
openstack%2Fheat~master~I2d74bb0ee66813a500b3cb7766022297f5a152f2,openstack/heat,master,I2d74bb0ee66813a500b3cb7766022297f5a152f2,Check ready status volume before extend volume,MERGED,2020-11-14 17:35:54.000000000,2021-04-07 14:14:43.000000000,2021-04-07 14:12:35.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 15895}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-14 17:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/01ce8f068de4ff3f5292fa3a61741da3e45a7f50', 'message': 'Check ready status volume before extend volume\n\nChange-Id: I2d74bb0ee66813a500b3cb7766022297f5a152f2\nStory: 2008349\nTask: 41251\n'}, {'number': 2, 'created': '2020-11-15 07:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4ddcbd816d3201850ac323932fe188e3dab005d9', 'message': 'Check ready status volume before extend volume\n\nChange-Id: I2d74bb0ee66813a500b3cb7766022297f5a152f2\nStory: 2008349\nTask: 41251\n'}, {'number': 3, 'created': '2020-11-16 04:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/648aad10d522e200e61af3b9831f25dd0957bc4d', 'message': 'Check ready status volume before extend volume\n\nChange-Id: I2d74bb0ee66813a500b3cb7766022297f5a152f2\nStory: 2008349\nTask: 41251\n'}, {'number': 4, 'created': '2020-11-17 08:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d9c4bd139950ae7a5580d55077d84ebbb8e4d948', 'message': 'Check ready status volume before extend volume\n\nChange-Id: I2d74bb0ee66813a500b3cb7766022297f5a152f2\nStory: 2008349\nTask: 41251\n'}, {'number': 5, 'created': '2020-11-18 01:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/48bf3712a9b95c9f5282eb664af456876751124a', 'message': 'Check ready status volume before extend volume\n\nChange-Id: I2d74bb0ee66813a500b3cb7766022297f5a152f2\nStory: 2008349\nTask: 41251\n'}, {'number': 6, 'created': '2021-03-12 01:12:10.000000000', 'files': ['heat/engine/clients/progress.py', 'heat/tests/openstack/cinder/test_volume.py', 'heat/engine/resources/openstack/cinder/volume.py', 'heat/tests/openstack/cinder/test_volume_utils.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/150c0a9bdef777cfb1f43651cc0a951ff91bbf78', 'message': 'Check ready status volume before extend volume\n\nChange-Id: I2d74bb0ee66813a500b3cb7766022297f5a152f2\nStory: 2008349\nTask: 41251\n'}]",7,762740,150c0a9bdef777cfb1f43651cc0a951ff91bbf78,32,4,6,12404,,,0,"Check ready status volume before extend volume

Change-Id: I2d74bb0ee66813a500b3cb7766022297f5a152f2
Story: 2008349
Task: 41251
",git fetch https://review.opendev.org/openstack/heat refs/changes/40/762740/6 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/cinder/volume.py'],1,01ce8f068de4ff3f5292fa3a61741da3e45a7f50,story/2008349," def _ready_to_extend_volume(self): vol = self.client().volumes.get(self.resource_id) expected_status = ( 'available', 'in-use') if vol.multiattach else ('available',) if vol.status in expected_status: LOG.debug(""Volume %s is ready to extend."", vol.id) return True # Make sure volume status ready for resize. if not self._ready_to_extend_volume(): return False ",,13,0
openstack%2Fironic~master~I0dd9a83ee23c6b846eda3ff171ab7b3138b22fa7,openstack/ironic,master,I0dd9a83ee23c6b846eda3ff171ab7b3138b22fa7,Add security dashboard clean steps to ilo drivers,MERGED,2021-03-23 06:33:47.000000000,2021-04-07 13:59:59.000000000,2021-04-07 13:57:59.000000000,"[{'_account_id': 4571}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-23 06:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d9560b372b0218aa1ad86365b78dc06bc711fa95', 'message': 'Add security dashboard clean steps to ilo drivers\n\nThis commit adds new clean steps security_parameters_update,\nupdate_minimum_password_length and update_auth_failure_logging_threshold\nto allow users to edit following security parameters -\n``Password_Complexity``, ``RequiredLoginForiLORBSU``,\n``RequireHostAuthentication``, ``MinPasswordLength``,\n``IPMI/DCMI_Over_LAN``, ``Authentication_failure_Logging``,\nand ``Secure_Boot``.\n\nStory: 2008024\nTask: 40736\nChange-Id: I0dd9a83ee23c6b846eda3ff171ab7b3138b22fa7\n'}, {'number': 2, 'created': '2021-03-25 05:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/073c29ec79f9dc65a614cf6101d74cb254b150ca', 'message': 'Add security dashboard clean steps to ilo drivers\n\nThis commit adds new clean steps security_parameters_update,\nupdate_minimum_password_length and update_auth_failure_logging_threshold\nto allow users to edit following security parameters -\n``Password_Complexity``, ``RequiredLoginForiLORBSU``,\n``RequireHostAuthentication``, ``MinPasswordLength``,\n``IPMI/DCMI_Over_LAN``, ``Authentication_failure_Logging``,\nand ``Secure_Boot``.\n\nStory: 2008024\nTask: 40736\nChange-Id: I0dd9a83ee23c6b846eda3ff171ab7b3138b22fa7\n'}, {'number': 3, 'created': '2021-03-29 01:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/14f4819462b2c62bb7947177823230ed9f0f7bc8', 'message': 'Add security dashboard clean steps to ilo drivers\n\nThis commit adds new clean steps security_parameters_update,\nupdate_minimum_password_length and update_auth_failure_logging_threshold\nto allow users to edit following security parameters which fetched\nduring node inspection -\n``Password_Complexity``, ``RequiredLoginForiLORBSU``,\n``RequireHostAuthentication``, ``MinPasswordLength``,\n``IPMI/DCMI_Over_LAN``, ``Authentication_failure_Logging``,\nand ``Secure_Boot``.\n\nStory: 2008024\nTask: 40736\nChange-Id: I0dd9a83ee23c6b846eda3ff171ab7b3138b22fa7\n'}, {'number': 4, 'created': '2021-04-05 15:49:38.000000000', 'files': ['doc/source/admin/drivers/ilo.rst', 'ironic/tests/unit/drivers/modules/ilo/test_inspect.py', 'ironic/drivers/modules/ilo/common.py', 'ironic/drivers/modules/ilo/management.py', 'ironic/tests/unit/drivers/modules/ilo/test_management.py', 'ironic/drivers/modules/ilo/inspect.py', 'ironic/tests/unit/drivers/modules/ilo/test_common.py', 'releasenotes/notes/adding-security-param-clean-step-00d5548072a397f2.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f5413a9bd5fe51c0d37ff7b7ed482f2ae6ed6b2a', 'message': 'Add security dashboard clean steps to ilo drivers\n\nThis commit adds new clean steps security_parameters_update,\nupdate_minimum_password_length and update_auth_failure_logging_threshold\nto allow users to edit following security parameters which fetched\nduring node inspection -\n``Password_Complexity``, ``RequiredLoginForiLORBSU``,\n``RequireHostAuthentication``, ``MinPasswordLength``,\n``IPMI/DCMI_Over_LAN``, ``Authentication_failure_Logging``,\nand ``Secure_Boot``.\n\nStory: 2008024\nTask: 40736\nChange-Id: I0dd9a83ee23c6b846eda3ff171ab7b3138b22fa7\n'}]",31,782364,f5413a9bd5fe51c0d37ff7b7ed482f2ae6ed6b2a,36,4,4,19604,,,0,"Add security dashboard clean steps to ilo drivers

This commit adds new clean steps security_parameters_update,
update_minimum_password_length and update_auth_failure_logging_threshold
to allow users to edit following security parameters which fetched
during node inspection -
``Password_Complexity``, ``RequiredLoginForiLORBSU``,
``RequireHostAuthentication``, ``MinPasswordLength``,
``IPMI/DCMI_Over_LAN``, ``Authentication_failure_Logging``,
and ``Secure_Boot``.

Story: 2008024
Task: 40736
Change-Id: I0dd9a83ee23c6b846eda3ff171ab7b3138b22fa7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/64/782364/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/ilo/test_inspect.py', 'ironic/drivers/modules/ilo/common.py', 'ironic/drivers/modules/ilo/management.py', 'ironic/tests/unit/drivers/modules/ilo/test_management.py', 'ironic/drivers/modules/ilo/inspect.py', 'ironic/tests/unit/drivers/modules/ilo/test_common.py', 'releasenotes/notes/adding-security-param-clean-step-00d5548072a397f2.yaml']",7,d9560b372b0218aa1ad86365b78dc06bc711fa95,sec_param,"--- features: - | Adding new clean steps - security_parameters_update, update_minimum_password_length and update_auth_failure_logging_threshold to allow users to edit following security parameters - ``Password_Complexity``, ``RequiredLoginForiLORBSU``, ``RequireHostAuthentication``, ``MinPasswordLength``, ``IPMI/DCMI_Over_LAN``, ``Authentication_failure_Logging``, and ``Secure_Boot``. ",,271,3
openstack%2Fmonasca-persister~stable%2Fvictoria~Iedfaf61600a174fe251014a11abb6ef5db4067ee,openstack/monasca-persister,stable/victoria,Iedfaf61600a174fe251014a11abb6ef5db4067ee,Fix zuul publish docker image job,MERGED,2021-04-07 11:51:31.000000000,2021-04-07 13:43:26.000000000,2021-04-07 13:43:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-07 11:51:31.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/71cb3a1074e5869f31e0ef5b79e6b15f57cc0c15', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: Iedfaf61600a174fe251014a11abb6ef5db4067ee\n'}]",0,785154,71cb3a1074e5869f31e0ef5b79e6b15f57cc0c15,6,2,1,28062,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: Iedfaf61600a174fe251014a11abb6ef5db4067ee
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/54/785154/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,71cb3a1074e5869f31e0ef5b79e6b15f57cc0c15,fix-zuul-publish," shell: ""docker push monasca/persister:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-victoria'}}"""," shell: ""docker push monasca/persister""",1,1
openstack%2Fmonasca-api~stable%2Fwallaby~Ia04ed7693482ef2d2c6e0b58802acd5b95bacf21,openstack/monasca-api,stable/wallaby,Ia04ed7693482ef2d2c6e0b58802acd5b95bacf21,Update docker-publish.yml for stable/wallaby,MERGED,2021-04-07 11:16:24.000000000,2021-04-07 13:29:21.000000000,2021-04-07 13:22:35.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-07 11:16:24.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/14cd51461e66ca74b22e3af5f508c27378c8531e', 'message': 'Update docker-publish.yml for stable/wallaby\n\nChange-Id: Ia04ed7693482ef2d2c6e0b58802acd5b95bacf21\n'}]",0,785146,14cd51461e66ca74b22e3af5f508c27378c8531e,7,2,1,28062,,,0,"Update docker-publish.yml for stable/wallaby

Change-Id: Ia04ed7693482ef2d2c6e0b58802acd5b95bacf21
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/46/785146/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,14cd51461e66ca74b22e3af5f508c27378c8531e,docker-jobs-wallaby," shell: ""docker push monasca/api:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-wallaby' }}"""," shell: ""docker push monasca/api:{{ zuul.tag if zuul.pipeline == 'release' else zuul.branch }}""",1,1
openstack%2Fnetworking-odl~master~Iad19ec1d913c879cc8e55d340d111b12d72ae965,openstack/networking-odl,master,Iad19ec1d913c879cc8e55d340d111b12d72ae965,Add Python3 xena unit tests,MERGED,2021-03-24 15:36:55.000000000,2021-04-07 13:28:41.000000000,2021-04-07 13:21:51.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 15:36:55.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8803f2592afdda1188bac15904ca5e2496a30f0c', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Iad19ec1d913c879cc8e55d340d111b12d72ae965\n'}]",0,782795,8803f2592afdda1188bac15904ca5e2496a30f0c,8,4,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Iad19ec1d913c879cc8e55d340d111b12d72ae965
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/95/782795/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,8803f2592afdda1188bac15904ca5e2496a30f0c,add-xena-python-jobtemplates, - openstack-python3-xena-jobs-neutron, - openstack-python3-wallaby-jobs-neutron,1,1
openstack%2Foslo.middleware~master~I2f41e05df1cc978821bf7cb6d9a95bf543c7fba3,openstack/oslo.middleware,master,I2f41e05df1cc978821bf7cb6d9a95bf543c7fba3,Fix requirements issues,MERGED,2021-03-22 09:45:53.000000000,2021-04-07 13:28:06.000000000,2021-04-07 13:18:26.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-03-22 09:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/2f9126373f539f7a2bc557ee6c870b2bb06e68f9', 'message': ""Move flake8 as a pre-commit local target.\n\nThe goal here is to avoid conflicts between flake8 and hacking version each\n2 days.\n\nInspired from nova's approach [1].\n\nThe flake8 version to install will be determined by hacking and\nrequirements will stay aligned instead of relying on different versions.\n\n[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35\n[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1\n\nChange-Id: I2f41e05df1cc978821bf7cb6d9a95bf543c7fba3\n""}, {'number': 2, 'created': '2021-03-25 10:49:23.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/5c806d492b22f25b79e6598b2fe3847ba6963220', 'message': ""Fix requirements issues\n\nThis patch is the merge of 2 current fixes that need to be solved in the\nsame time. Indeed each issue lock our gates independently.\n\nDropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nMove flake8 as a pre-commit local target.\n\nThe goal here is to avoid conflicts between flake8 and hacking version each\n2 days.\n\nInspired from nova's approach[1].\n\nThe flake8 version to install will be determined by hacking and\nrequirements[2] will stay aligned instead of relying on different versions.\n\n[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35\n[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1\n\nCo-authored-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I2f41e05df1cc978821bf7cb6d9a95bf543c7fba3\n""}]",0,782114,5c806d492b22f25b79e6598b2fe3847ba6963220,14,3,2,31245,,,0,"Fix requirements issues

This patch is the merge of 2 current fixes that need to be solved in the
same time. Indeed each issue lock our gates independently.

Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Move flake8 as a pre-commit local target.

The goal here is to avoid conflicts between flake8 and hacking version each
2 days.

Inspired from nova's approach[1].

The flake8 version to install will be determined by hacking and
requirements[2] will stay aligned instead of relying on different versions.

[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35
[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1

Co-authored-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I2f41e05df1cc978821bf7cb6d9a95bf543c7fba3
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/14/782114/2 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,2f9126373f539f7a2bc557ee6c870b2bb06e68f9,oslo_lc_drop, - repo: local name: flake8 language: python entry: flake8 files: '^.*\.py$' exclude: '^(doc|releasenotes|tools)/.*$', - repo: https://gitlab.com/pycqa/flake8 rev: 181bb46098dddf7e2d45319ea654b4b4d58c2840 # 3.8.3,6,2
openstack%2Fmonasca-common~stable%2Fwallaby~Ib98425a661378769dc41b6084afeddbb3fef9288,openstack/monasca-common,stable/wallaby,Ib98425a661378769dc41b6084afeddbb3fef9288,Update docker-publish.yml for stable/wallaby,MERGED,2021-04-07 11:37:53.000000000,2021-04-07 13:23:06.000000000,2021-04-07 13:23:06.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-07 11:37:53.000000000', 'files': ['playbooks/publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/2d6f0c1e734377411e4b827541865097d0ce4ce8', 'message': 'Update docker-publish.yml for stable/wallaby\n\nChange-Id: Ib98425a661378769dc41b6084afeddbb3fef9288\n'}]",0,785151,2d6f0c1e734377411e4b827541865097d0ce4ce8,6,2,1,28062,,,0,"Update docker-publish.yml for stable/wallaby

Change-Id: Ib98425a661378769dc41b6084afeddbb3fef9288
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/51/785151/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/publish.yml'],1,2d6f0c1e734377411e4b827541865097d0ce4ce8,docker-jobs-wallaby," shell: ""docker push monasca/base:{{ zuul.tag if zuul.pipeline == 'release' else 'wallaby'}}"""," shell: ""docker push monasca/base:{{ zuul.tag if zuul.pipeline == 'release' else 'master'}}""",1,1
openstack%2Fnetworking-odl~master~I21196306d9ff767b02b82a8e8fa914a5e23a10f5,openstack/networking-odl,master,I21196306d9ff767b02b82a8e8fa914a5e23a10f5,Update master for stable/wallaby,MERGED,2021-03-24 15:36:52.000000000,2021-04-07 13:22:08.000000000,2021-04-07 13:17:59.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 15:36:52.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9a57c5c046819bb7d6de475924915b249b3188b7', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I21196306d9ff767b02b82a8e8fa914a5e23a10f5\n'}]",0,782794,9a57c5c046819bb7d6de475924915b249b3188b7,9,4,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I21196306d9ff767b02b82a8e8fa914a5e23a10f5
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/94/782794/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,9a57c5c046819bb7d6de475924915b249b3188b7,reno-wallaby, wallaby,,7,0
openstack%2Fironic~stable%2Fwallaby~Ie7cb2c831854be288553dc634d5367739519e0e1,openstack/ironic,stable/wallaby,Ie7cb2c831854be288553dc634d5367739519e0e1,Followup idrac configuration mold steps,MERGED,2021-04-06 12:39:02.000000000,2021-04-07 13:20:39.000000000,2021-04-07 13:13:07.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 12:39:02.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4b7a4a1ba495bb4911378780bff23f61267bcef5', 'message': 'Followup idrac configuration mold steps\n\nFollowup to change: I10dbc30614d8654dda540ffaa5e61e7a9f03c7b3\n\nChange-Id: Ie7cb2c831854be288553dc634d5367739519e0e1\n(cherry picked from commit ae30139af2a61e3d2031a1dc53f1fcf373fea933)\n'}]",0,784852,4b7a4a1ba495bb4911378780bff23f61267bcef5,15,3,1,27909,,,0,"Followup idrac configuration mold steps

Followup to change: I10dbc30614d8654dda540ffaa5e61e7a9f03c7b3

Change-Id: Ie7cb2c831854be288553dc634d5367739519e0e1
(cherry picked from commit ae30139af2a61e3d2031a1dc53f1fcf373fea933)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/52/784852/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py']",2,4b7a4a1ba495bb4911378780bff23f61267bcef5,conf_molds-stable/wallaby," mock_get_system.return_value.managers = [] mock_get_system.return_value.managers = [fake_manager1] mock_get_system.return_value.managers = [fake_manager1, fake_manager2] mock_get_system.return_value.managers = [fake_manager1] mock_get_system.return_value.managers = [fake_manager1, fake_manager2] mock_get_system.return_value.managers = [fake_manager1, fake_manager2] mock_get_system.return_value.managers = [fake_manager1] mock_get_system.return_value.managers = [fake_manager1, fake_manager2]"," fake_system = mock.Mock(managers=[]) mock_get_system.return_value = fake_system fake_system = mock.Mock(managers=[fake_manager1]) mock_get_system.return_value = fake_system fake_system = mock.Mock(managers=[fake_manager1, fake_manager2]) mock_get_system.return_value = fake_system fake_system = mock.Mock(managers=[fake_manager1]) mock_get_system.return_value = fake_system fake_system = mock.Mock(managers=[fake_manager1, fake_manager2]) mock_get_system.return_value = fake_system fake_system = mock.Mock(managers=[fake_manager1, fake_manager2]) mock_get_system.return_value = fake_system fake_system = mock.Mock(managers=[fake_manager1]) mock_get_system.return_value = fake_system fake_system = mock.Mock(managers=[fake_manager1, fake_manager2]) mock_get_system.return_value = fake_system",14,22
openstack%2Fdevstack~master~I2ea3175ecf2508b62640bfffdd798d7072e55550,openstack/devstack,master,I2ea3175ecf2508b62640bfffdd798d7072e55550,"gzip, not xz",MERGED,2021-04-06 14:16:29.000000000,2021-04-07 13:14:54.000000000,2021-04-07 13:12:25.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-04-06 14:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4cb16395ed46b3f685b90ba8fb934ba4203d354b', 'message': '[WIP] gzip, not xz\n\nxz is suspected to cause POST_FAILUREs. [1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021609.html\n\nChange-Id: I2ea3175ecf2508b62640bfffdd798d7072e55550\n'}, {'number': 2, 'created': '2021-04-06 18:44:34.000000000', 'files': ['roles/export-devstack-journal/tasks/main.yaml', 'roles/export-devstack-journal/templates/devstack.journal.README.txt.j2'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6f2c807bfade2a218636e0ca441de45c5662aca0', 'message': 'gzip, not xz\n\nxz may cause POST_FAILUREs due to memory pressure [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021609.html\n\nChange-Id: I2ea3175ecf2508b62640bfffdd798d7072e55550\n'}]",0,784964,6f2c807bfade2a218636e0ca441de45c5662aca0,15,3,2,30491,,,0,"gzip, not xz

xz may cause POST_FAILUREs due to memory pressure [1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-April/021609.html

Change-Id: I2ea3175ecf2508b62640bfffdd798d7072e55550
",git fetch https://review.opendev.org/openstack/devstack refs/changes/64/784964/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/export-devstack-journal/tasks/main.yaml', 'roles/export-devstack-journal/templates/devstack.journal.README.txt.j2']",2,4cb16395ed46b3f685b90ba8fb934ba4203d354b,gzip-not-xz, $ /lib/systemd/systemd-journal-remote <(zcat ./devstack.journal.gz) -o output.journal, $ /lib/systemd/systemd-journal-remote <(xzcat ./devstack.journal.xz) -o output.journal,2,2
openstack%2Fmonasca-persister~stable%2Fwallaby~Id8e6d58a655def2385bca0ccc2f092de1ed31e81,openstack/monasca-persister,stable/wallaby,Id8e6d58a655def2385bca0ccc2f092de1ed31e81,Update docker-publish.yml for stable/wallaby,MERGED,2021-04-07 11:28:08.000000000,2021-04-07 13:03:25.000000000,2021-04-07 13:03:25.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-07 11:28:08.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/100b6e4a3cb5cbbb8a1cdc3e88003021d39003f1', 'message': 'Update docker-publish.yml for stable/wallaby\n\nChange-Id: Id8e6d58a655def2385bca0ccc2f092de1ed31e81\n'}]",0,785149,100b6e4a3cb5cbbb8a1cdc3e88003021d39003f1,6,2,1,28062,,,0,"Update docker-publish.yml for stable/wallaby

Change-Id: Id8e6d58a655def2385bca0ccc2f092de1ed31e81
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/49/785149/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,100b6e4a3cb5cbbb8a1cdc3e88003021d39003f1,docker-jobs-wallaby," shell: ""docker push monasca/persister:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-wallaby'}}"""," shell: ""docker push monasca/persister:{{ zuul.tag if zuul.pipeline == 'release' else zuul.branch }}""",1,1
openstack%2Fironic~stable%2Fwallaby~I658b6b4eca7978473b08244c349ea5ac8bf37f76,openstack/ironic,stable/wallaby,I658b6b4eca7978473b08244c349ea5ac8bf37f76,Follow-up Automaticaly set cipher suite,MERGED,2021-04-01 10:36:39.000000000,2021-04-07 12:55:23.000000000,2021-04-07 12:51:38.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-01 10:36:39.000000000', 'files': ['ironic/drivers/modules/ipmitool.py', 'doc/source/admin/drivers/ipmitool.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/541f40c515b4a6b983e57ee7ce3c59604e4d6742', 'message': 'Follow-up Automaticaly set cipher suite\n\nThis commit is a follow-up to  I6788585a83268e20ff6447e570995871bc9c25d5\n\nChange-Id: I658b6b4eca7978473b08244c349ea5ac8bf37f76\n(cherry picked from commit a036728fb4ca7acfe19e14f2a1f89c19ef30fe98)\n'}]",0,784051,541f40c515b4a6b983e57ee7ce3c59604e4d6742,12,3,1,15519,,,0,"Follow-up Automaticaly set cipher suite

This commit is a follow-up to  I6788585a83268e20ff6447e570995871bc9c25d5

Change-Id: I658b6b4eca7978473b08244c349ea5ac8bf37f76
(cherry picked from commit a036728fb4ca7acfe19e14f2a1f89c19ef30fe98)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/51/784051/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ipmitool.py', 'doc/source/admin/drivers/ipmitool.rst']",2,541f40c515b4a6b983e57ee7ce3c59604e4d6742,follow_up_cs-stable/wallaby,"In scenarios where the operator can't specify the ``ipmi_cipher_suite`` for each node, the configuration parameter ``[ipmi]/cipher_suite_versions`` can be set to a list of cipher suites that will be used, Ironic will attempt to find a value that can be used from the list provided (from last to first): .. code-block:: ini`RMCP+ Cipher Suites` after running an ``ipmitool`` command, e.g: .. code-block:: console","In scenarios where the operator can't specify the `ipmi_cipher_suite` for each node, the configuration `[ipmi]/cipher_suite_versions` can be set to a list of cipher suites that will be used, Ironic will attempt to find a value that can be used from the list provided (from last to first).::`RMCP+ Cipher Suites` after running an `ipmitool` command, e.g::",18,14
openstack%2Fheat~stable%2Fvictoria~Icc90a921ec67e49aec2c4acfad72235c57c78421,openstack/heat,stable/victoria,Icc90a921ec67e49aec2c4acfad72235c57c78421,Don't update status for replaced resource,MERGED,2021-04-02 03:47:25.000000000,2021-04-07 12:54:13.000000000,2021-04-07 12:45:57.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 03:47:25.000000000', 'files': ['heat/tests/db/test_sqlalchemy_api.py', 'heat/objects/resource.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/8bdf6b984a457301b43fdecf0dc27e667bcfc910', 'message': ""Don't update status for replaced resource\n\nWith I04e7ad90944c2d03ce0e59ba16af9d60d6e01222 we allowed\nupdate of previously-existing resource if replacement\ncreation has failed during last update. However, we force\nupdate the status of the existing resource to 'COMPLETE'.\nTherefore, in the next update if properties/type has not\nchanged for the resource it won't try to update/replace\nthe previously existing resource resulting in false positive\nof stack updated successfully.\n\nTask: 42194\nChange-Id: Icc90a921ec67e49aec2c4acfad72235c57c78421\n(cherry picked from commit bfbaab107d709c37548a22239b952c6221b9ac85)\n""}]",0,784410,8bdf6b984a457301b43fdecf0dc27e667bcfc910,12,3,1,8833,,,0,"Don't update status for replaced resource

With I04e7ad90944c2d03ce0e59ba16af9d60d6e01222 we allowed
update of previously-existing resource if replacement
creation has failed during last update. However, we force
update the status of the existing resource to 'COMPLETE'.
Therefore, in the next update if properties/type has not
changed for the resource it won't try to update/replace
the previously existing resource resulting in false positive
of stack updated successfully.

Task: 42194
Change-Id: Icc90a921ec67e49aec2c4acfad72235c57c78421
(cherry picked from commit bfbaab107d709c37548a22239b952c6221b9ac85)
",git fetch https://review.opendev.org/openstack/heat refs/changes/10/784410/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/db/test_sqlalchemy_api.py', 'heat/objects/resource.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/resource.py']",4,8bdf6b984a457301b43fdecf0dc27e667bcfc910,,," update_data = {'status': self.COMPLETE} update_data,",2,12
openstack%2Fkolla~master~Ie8fdbeff4a600a46c29a39afd9e0e593bba2a2f7,openstack/kolla,master,Ie8fdbeff4a600a46c29a39afd9e0e593bba2a2f7,Move out sources and users to separate files,ABANDONED,2020-06-24 11:35:21.000000000,2021-04-07 12:52:23.000000000,,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-24 11:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ecae76dad227e2c4bc962e1d2b12ff9fd0ef7b8f', 'message': 'Separate out sources and users to separate files\n\nChange-Id: Ie8fdbeff4a600a46c29a39afd9e0e593bba2a2f7\n'}, {'number': 2, 'created': '2020-06-24 12:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/589bc5edec0cc5cb36e2e5afd48403e2a4755450', 'message': 'Move out sources and users to separate files\n\nChange-Id: Ie8fdbeff4a600a46c29a39afd9e0e593bba2a2f7\n'}, {'number': 3, 'created': '2020-07-03 09:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9b2559c493c475526f05ebcbd9fa73b553834716', 'message': 'Move out sources and users to separate files\n\nChange-Id: Ie8fdbeff4a600a46c29a39afd9e0e593bba2a2f7\n'}, {'number': 4, 'created': '2020-07-03 10:20:13.000000000', 'files': ['kolla/common/users.py', 'kolla/common/sources.py', 'tools/version-check.py', 'kolla/common/__init__.py', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f976c92dde327bc07e7e4acd0eb742a6ff65a676', 'message': 'Move out sources and users to separate files\n\nChange-Id: Ie8fdbeff4a600a46c29a39afd9e0e593bba2a2f7\n'}]",2,737751,f976c92dde327bc07e7e4acd0eb742a6ff65a676,20,7,4,22629,,,0,"Move out sources and users to separate files

Change-Id: Ie8fdbeff4a600a46c29a39afd9e0e593bba2a2f7
",git fetch https://review.opendev.org/openstack/kolla refs/changes/51/737751/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/common/users.py', 'kolla/common/sources.py', 'kolla/common/__init__.py', 'kolla/common/config.py']",4,ecae76dad227e2c4bc962e1d2b12ff9fd0ef7b8f,,"import kolla.common.sources as sources import kolla.common.users as users for name, params in users.USERS.items(): for name, params in sources.SOURCES.items():","SOURCES = { 'openstack-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/requirements/' 'requirements-${openstack_branch}.tar.gz')}, 'aodh-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/aodh/' 'aodh-${openstack_branch}.tar.gz')}, 'barbican-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/barbican/' 'barbican-${openstack_branch}.tar.gz')}, 'bifrost-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/bifrost/' 'bifrost-${openstack_branch}.tar.gz')}, 'blazar-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/blazar/' 'blazar-${openstack_branch}.tar.gz')}, 'ceilometer-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/ceilometer/' 'ceilometer-${openstack_branch}.tar.gz')}, 'ceilometer-base-plugin-panko': { 'type': 'url', 'location': ('$tarballs_base/openstack/panko/' 'panko-${openstack_branch}.tar.gz')}, 'cinder-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/cinder/' 'cinder-${openstack_branch}.tar.gz')}, 'cloudkitty-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/cloudkitty/' 'cloudkitty-${openstack_branch}.tar.gz')}, 'cyborg-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/cyborg/' 'cyborg-${openstack_branch}.tar.gz')}, 'designate-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/designate/' 'designate-${openstack_branch}.tar.gz')}, 'ec2-api': { 'type': 'url', 'location': ('$tarballs_base/openstack/ec2-api/' 'ec2-api-${openstack_branch}.tar.gz')}, 'freezer-api': { 'type': 'url', 'location': ('$tarballs_base/openstack/freezer-api/' 'freezer-api-${openstack_branch}.tar.gz')}, 'freezer-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/freezer/' 'freezer-${openstack_branch}.tar.gz')}, 'glance-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/glance/' 'glance-${openstack_branch}.tar.gz')}, 'gnocchi-base': { 'type': 'git', 'reference': 'master', 'location': ('https://github.com/gnocchixyz/' 'gnocchi.git')}, 'heat-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/heat/' 'heat-${openstack_branch}.tar.gz')}, 'horizon': { 'type': 'url', 'location': ('$tarballs_base/openstack/horizon/' 'horizon-${openstack_branch}.tar.gz')}, 'horizon-plugin-blazar-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/blazar-dashboard/' 'blazar-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-congress-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/congress-dashboard/' 'congress-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-cloudkitty-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/cloudkitty-dashboard/' 'cloudkitty-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-designate-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/designate-dashboard/' 'designate-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-fwaas-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/neutron-fwaas-dashboard/' 'neutron-fwaas-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-freezer-web-ui': { 'type': 'url', 'location': ('$tarballs_base/openstack/freezer-web-ui/' 'freezer-web-ui-${openstack_branch}.tar.gz')}, 'horizon-plugin-heat-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/heat-dashboard/' 'heat-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-ironic-ui': { 'type': 'url', 'location': ('$tarballs_base/openstack/ironic-ui/' 'ironic-ui-${openstack_branch}.tar.gz')}, 'horizon-plugin-karbor-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/karbor-dashboard/' 'karbor-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-magnum-ui': { 'type': 'url', 'location': ('$tarballs_base/openstack/magnum-ui/' 'magnum-ui-${openstack_branch}.tar.gz')}, 'horizon-plugin-manila-ui': { 'type': 'url', 'location': ('$tarballs_base/openstack/manila-ui/' 'manila-ui-${openstack_branch}.tar.gz')}, 'horizon-plugin-masakari-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/masakari-dashboard/' 'masakari-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-mistral-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/mistral-dashboard/' 'mistral-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-monasca-ui': { 'type': 'url', 'location': ('$tarballs_base/openstack/monasca-ui/' 'monasca-ui-${openstack_branch}.tar.gz')}, 'horizon-plugin-murano-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/murano-dashboard/' 'murano-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-neutron-vpnaas-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/neutron-vpnaas-dashboard/' 'neutron-vpnaas-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-octavia-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/octavia-dashboard/' 'octavia-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-qinling-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/qinling-dashboard/' 'qinling-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-sahara-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/sahara-dashboard/' 'sahara-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-searchlight-ui': { 'type': 'url', 'location': ('$tarballs_base/openstack/searchlight-ui/' 'searchlight-ui-${openstack_branch}.tar.gz')}, 'horizon-plugin-senlin-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/senlin-dashboard/' 'senlin-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-solum-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/solum-dashboard/' 'solum-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-tacker-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/tacker-horizon/' 'tacker-horizon-${openstack_branch}.tar.gz')}, 'horizon-plugin-trove-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/trove-dashboard/' 'trove-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-vitrage-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/vitrage-dashboard/' 'vitrage-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-watcher-dashboard': { 'type': 'url', 'location': ('$tarballs_base/openstack/watcher-dashboard/' 'watcher-dashboard-${openstack_branch}.tar.gz')}, 'horizon-plugin-zaqar-ui': { 'type': 'url', 'location': ('$tarballs_base/openstack/zaqar-ui/' 'zaqar-ui-${openstack_branch}.tar.gz')}, 'horizon-plugin-zun-ui': { 'type': 'url', 'location': ('$tarballs_base/openstack/zun-ui/' 'zun-ui-${openstack_branch}.tar.gz')}, 'ironic-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/ironic/' 'ironic-${openstack_branch}.tar.gz')}, 'ironic-inspector': { 'type': 'url', 'location': ('$tarballs_base/openstack/ironic-inspector/' 'ironic-inspector-${openstack_branch}.tar.gz')}, 'karbor-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/karbor/' 'karbor-${openstack_branch}.tar.gz')}, 'keystone-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/keystone/' 'keystone-${openstack_branch}.tar.gz')}, 'kuryr-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/kuryr/' 'kuryr-${openstack_branch}.tar.gz')}, 'kuryr-libnetwork': { 'type': 'url', 'location': ('$tarballs_base/openstack/kuryr-libnetwork/' 'kuryr-libnetwork-${openstack_branch}.tar.gz')}, 'magnum-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/magnum/' 'magnum-${openstack_branch}.tar.gz')}, 'manila-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/manila/' 'manila-${openstack_branch}.tar.gz')}, 'masakari-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/masakari/' 'masakari-${openstack_branch}.tar.gz')}, 'masakari-monitors': { 'type': 'url', 'location': ('$tarballs_base/openstack/masakari-monitors/' 'masakari-monitors-${openstack_branch}.tar.gz')}, 'mistral-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/mistral/' 'mistral-${openstack_branch}.tar.gz')}, 'mistral-base-plugin-tacker': { 'type': 'url', 'location': ('$tarballs_base/openstack/tacker/' 'tacker-${openstack_branch}.tar.gz')}, 'monasca-agent': { 'type': 'url', 'location': ('$tarballs_base/openstack/monasca-agent/' 'monasca-agent-${openstack_branch}.tar.gz')}, 'monasca-api': { 'type': 'url', 'location': ('$tarballs_base/openstack/monasca-api/' 'monasca-api-${openstack_branch}.tar.gz')}, 'monasca-notification': { 'type': 'url', 'location': ('$tarballs_base/openstack/monasca-notification/' 'monasca-notification-${openstack_branch}.tar.gz')}, 'monasca-persister': { 'type': 'url', 'location': ('$tarballs_base/openstack/monasca-persister/' 'monasca-persister-${openstack_branch}.tar.gz')}, 'monasca-statsd': { 'type': 'url', 'location': ('$tarballs_base/openstack/monasca-statsd/' 'monasca-statsd-${openstack_branch}.tar.gz')}, # FIXME(dszumski): Use openstack tar when infra is fixed 'monasca-thresh': { 'type': 'url', 'location': ('https://github.com/openstack/monasca-thresh/archive/' 'master.tar.gz')}, 'monasca-thresh-additions-monasca-common': { 'type': 'url', 'location': ('$tarballs_base/openstack/monasca-common/' 'monasca-common-${openstack_branch}.tar.gz')}, 'murano-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/murano/' 'murano-${openstack_branch}.tar.gz')}, 'neutron-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/neutron/' 'neutron-${openstack_branch}.tar.gz')}, 'neutron-base-plugin-neutron-fwaas': { 'type': 'url', 'location': ('$tarballs_base/openstack/neutron-fwaas/' 'neutron-fwaas-${openstack_branch}.tar.gz')}, 'neutron-base-plugin-networking-ansible': { 'type': 'url', 'location': ('$tarballs_base/x/networking-ansible/' 'networking-ansible-${openstack_branch}.tar.gz')}, 'neutron-base-plugin-networking-baremetal': { 'type': 'url', 'location': ('$tarballs_base/openstack/networking-baremetal/' 'networking-baremetal-${openstack_branch}.tar.gz')}, 'neutron-base-plugin-networking-generic-switch': { 'type': 'url', 'location': ('$tarballs_base/openstack/networking-generic-switch/' 'networking-generic-switch-${openstack_branch}.tar.gz')}, 'neutron-base-plugin-networking-mlnx': { 'type': 'url', 'location': ('$tarballs_base/x/networking-mlnx/' 'networking-mlnx-${openstack_branch}.tar.gz')}, 'neutron-base-plugin-networking-sfc': { 'type': 'url', 'location': ('$tarballs_base/openstack/networking-sfc/' 'networking-sfc-${openstack_branch}.tar.gz')}, 'neutron-base-plugin-vmware-nsx': { 'type': 'url', 'location': ('$tarballs_base/x/vmware-nsx/' 'vmware-nsx-${openstack_branch}.tar.gz')}, 'neutron-base-plugin-vpnaas-agent': { 'type': 'url', 'location': ('$tarballs_base/openstack/neutron-vpnaas/' 'neutron-vpnaas-${openstack_branch}.tar.gz')}, 'neutron-bgp-dragent': { 'type': 'url', 'location': ('$tarballs_base/openstack/neutron-dynamic-routing/' 'neutron-dynamic-routing-${openstack_branch}.tar.gz')}, 'neutron-server-opendaylight-plugin-networking-odl': { 'type': 'url', 'location': ('$tarballs_base/openstack/networking-odl/' 'networking-odl-${openstack_branch}.tar.gz')}, 'neutron-server-opendaylight-plugin-networking-bgpvpn': { 'type': 'url', 'location': ('$tarballs_base/openstack/networking-bgpvpn/' 'networking-bgpvpn-${openstack_branch}.tar.gz')}, 'neutron-server-opendaylight-plugin-networking-l2gw': { 'type': 'url', 'location': ('$tarballs_base/openstack/networking-l2gw/' 'networking-l2gw-${openstack_branch}.tar.gz')}, 'neutron-server-opendaylight-plugin-networking-sfc': { 'type': 'url', 'location': ('$tarballs_base/openstack/networking-sfc/' 'networking-sfc-${openstack_branch}.tar.gz')}, 'neutron-server-plugin-neutron-dynamic-routing': { 'type': 'url', 'location': ('$tarballs_base/openstack/neutron-dynamic-routing/' 'neutron-dynamic-routing-${openstack_branch}.tar.gz')}, 'neutron-server-plugin-vmware-nsxlib': { 'type': 'url', 'location': ('$tarballs_base/x/vmware-nsxlib/' 'vmware-nsxlib-${openstack_branch}.tar.gz')}, 'neutron-vpnaas-agent': { 'type': 'url', 'location': ('$tarballs_base/openstack/neutron-vpnaas/' 'neutron-vpnaas-${openstack_branch}.tar.gz')}, 'nova-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/nova/' 'nova-${openstack_branch}.tar.gz')}, 'nova-base-plugin-blazar': { 'type': 'url', 'location': ('$tarballs_base/openstack/blazar-nova/' 'blazar-nova-${openstack_branch}.tar.gz')}, 'nova-base-plugin-mksproxy': { 'type': 'url', 'location': ('$tarballs_base/openstack/nova-mksproxy/' 'nova-mksproxy-master.tar.gz')}, 'novajoin-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/novajoin/' 'novajoin-master.tar.gz')}, 'octavia-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/octavia/' 'octavia-${openstack_branch}.tar.gz')}, 'octavia-api-plugin-ovn-octavia-provider': { 'type': 'url', 'location': ('$tarballs_base/openstack/ovn-octavia-provider/' 'ovn-octavia-provider-${openstack_branch}.tar.gz')}, 'panko-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/panko/' 'panko-${openstack_branch}.tar.gz')}, 'placement-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/placement/' 'placement-${openstack_branch}.tar.gz')}, 'qinling-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/qinling/' 'qinling-${openstack_branch}.tar.gz')}, 'tempest-plugin-tempest-conf': { 'type': 'url', 'location': ('$tarballs_base/openstack/python-tempestconf/' 'python-tempestconf-master.tar.gz')}, 'tempest-plugin-barbican': { 'type': 'url', 'location': ('$tarballs_base/openstack/barbican-tempest-plugin/' 'barbican-tempest-plugin-master.tar.gz')}, 'tempest-plugin-blazar': { 'type': 'url', 'location': ('$tarballs_base/openstack/blazar-tempest-plugin/' 'blazar-tempest-plugin-master.tar.gz')}, 'tempest-plugin-cinder': { 'type': 'url', 'location': ('$tarballs_base/openstack/cinder-tempest-plugin/' 'cinder-tempest-plugin-master.tar.gz')}, 'tempest-plugin-congress': { 'type': 'url', 'location': ('$tarballs_base/openstack/congress-tempest-plugin/' 'congress-tempest-plugin-master.tar.gz')}, 'tempest-plugin-ec2api': { 'type': 'url', 'location': ('$tarballs_base/openstack/ec2api-tempest-plugin/' 'ec2api-tempest-plugin-master.tar.gz')}, 'tempest-plugin-heat': { 'type': 'url', 'location': ('$tarballs_base/openstack/heat-tempest-plugin/' 'heat-tempest-plugin-master.tar.gz')}, 'tempest-plugin-ironic': { 'type': 'url', 'location': ('$tarballs_base/openstack/ironic-tempest-plugin/' 'ironic-tempest-plugin-master.tar.gz')}, 'tempest-plugin-keystone': { 'type': 'url', 'location': ('$tarballs_base/openstack/keystone-tempest-plugin/' 'keystone-tempest-plugin-master.tar.gz')}, 'tempest-plugin-magnum': { 'type': 'url', 'location': ('$tarballs_base/openstack/magnum-tempest-plugin/' 'magnum-tempest-plugin-master.tar.gz')}, 'tempest-plugin-manila': { 'type': 'url', 'location': ('$tarballs_base/openstack/manila-tempest-plugin/' 'manila-tempest-plugin-master.tar.gz')}, 'tempest-plugin-mistral': { 'type': 'url', 'location': ('$tarballs_base/openstack/mistral-tempest-plugin/' 'mistral-tempest-plugin-master.tar.gz')}, 'tempest-plugin-monasca': { 'type': 'url', 'location': ('$tarballs_base/openstack/monasca-tempest-plugin/' 'monasca-tempest-plugin-master.tar.gz')}, 'tempest-plugin-murano': { 'type': 'url', 'location': ('$tarballs_base/openstack/murano-tempest-plugin/' 'murano-tempest-plugin-master.tar.gz')}, 'tempest-plugin-neutron': { 'type': 'url', 'location': ('$tarballs_base/openstack/neutron-tempest-plugin/' 'neutron-tempest-plugin-master.tar.gz')}, 'tempest-plugin-patrole': { 'type': 'url', 'location': ('$tarballs_base/openstack/patrole/' 'patrole-master.tar.gz')}, 'tempest-plugin-telemetry': { 'type': 'url', 'location': ('$tarballs_base/openstack/telemetry-tempest-plugin/' 'telemetry-tempest-plugin-master.tar.gz')}, 'tempest-plugin-trove': { 'type': 'url', 'location': ('$tarballs_base/openstack/trove-tempest-plugin/' 'trove-tempest-plugin-master.tar.gz')}, 'tempest-plugin-vitrage': { 'type': 'url', 'location': ('$tarballs_base/openstack/vitrage-tempest-plugin/' 'vitrage-tempest-plugin-master.tar.gz')}, 'tempest-plugin-watcher': { 'type': 'url', 'location': ('$tarballs_base/openstack/watcher-tempest-plugin/' 'watcher-tempest-plugin-master.tar.gz')}, 'tempest-plugin-zaqar': { 'type': 'url', 'location': ('$tarballs_base/openstack/zaqar-tempest-plugin/' 'zaqar-tempest-plugin-master.tar.gz')}, 'rally': { 'type': 'url', 'location': ('$tarballs_base/openstack/rally/' 'rally-master.tar.gz')}, 'sahara-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/sahara/' 'sahara-${openstack_branch}.tar.gz')}, 'sahara-base-plugin-ambari': { 'type': 'url', 'location': ('$tarballs_base/openstack/sahara-plugin-ambari/' 'sahara-plugin-ambari-${openstack_branch}.tar.gz')}, 'sahara-base-plugin-cdh': { 'type': 'url', 'location': ('$tarballs_base/openstack/sahara-plugin-cdh/' 'sahara-plugin-cdh-${openstack_branch}.tar.gz')}, 'sahara-base-plugin-mapr': { 'type': 'url', 'location': ('$tarballs_base/openstack/sahara-plugin-mapr/' 'sahara-plugin-mapr-${openstack_branch}.tar.gz')}, 'sahara-base-plugin-spark': { 'type': 'url', 'location': ('$tarballs_base/openstack/sahara-plugin-spark/' 'sahara-plugin-spark-${openstack_branch}.tar.gz')}, 'sahara-base-plugin-storm': { 'type': 'url', 'location': ('$tarballs_base/openstack/sahara-plugin-storm/' 'sahara-plugin-storm-${openstack_branch}.tar.gz')}, 'sahara-base-plugin-vanilla': { 'type': 'url', 'location': ('$tarballs_base/openstack/sahara-plugin-vanilla/' 'sahara-plugin-vanilla-${openstack_branch}.tar.gz')}, 'searchlight-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/searchlight/' 'searchlight-${openstack_branch}.tar.gz')}, 'senlin-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/senlin/' 'senlin-${openstack_branch}.tar.gz')}, 'solum-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/solum/' 'solum-${openstack_branch}.tar.gz')}, 'swift-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/swift/' 'swift-${openstack_branch}.tar.gz')}, 'tacker-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/tacker/' 'tacker-${openstack_branch}.tar.gz')}, 'tacker-base-plugin-networking-sfc': { 'type': 'url', 'location': ('$tarballs_base/openstack/networking-sfc/' 'networking-sfc-${openstack_branch}.tar.gz')}, 'tempest': { 'type': 'url', 'location': ('$tarballs_base/openstack/tempest/' 'tempest-master.tar.gz')}, 'trove-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/trove/' 'trove-${openstack_branch}.tar.gz')}, 'vitrage-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/vitrage/' 'vitrage-${openstack_branch}.tar.gz')}, 'vmtp': { 'type': 'url', 'location': ('$tarballs_base/openstack/vmtp/' 'vmtp-master.tar.gz')}, 'watcher-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/watcher/' 'watcher-${openstack_branch}.tar.gz')}, 'zaqar-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/zaqar/' 'zaqar-${openstack_branch}.tar.gz')}, 'zun-base': { 'type': 'url', 'location': ('$tarballs_base/openstack/zun/' 'zun-${openstack_branch}.tar.gz')} } # NOTE(SamYaple): Only increment the UID. Never reuse old or removed UIDs. # Starting point 42400+ was chosen arbitrarily to ensure no conflicts USERS = { 'kolla-user': { 'uid': 42400, 'gid': 42400, }, 'ansible-user': { 'uid': 42401, 'gid': 42401, }, 'aodh-user': { 'uid': 42402, 'gid': 42402, }, 'barbican-user': { 'uid': 42403, 'gid': 42403, }, 'bifrost-user': { 'uid': 42404, 'gid': 42404, }, 'ceilometer-user': { 'uid': 42405, 'gid': 42405, }, 'chrony-user': { 'uid': 42406, 'gid': 42406, }, 'cinder-user': { 'uid': 42407, 'gid': 42407, }, 'cloudkitty-user': { 'uid': 42408, 'gid': 42408, }, 'collectd-user': { 'uid': 42409, 'gid': 42409, }, 'congress-user': { # unused user (congress dropped) 'uid': 42410, 'gid': 42410, }, 'designate-user': { 'uid': 42411, 'gid': 42411, }, 'elasticsearch-user': { 'uid': 42412, 'gid': 42412, }, 'etcd-user': { 'uid': 42413, 'gid': 42413, }, 'freezer-user': { 'uid': 42414, 'gid': 42414, }, 'glance-user': { 'uid': 42415, 'gid': 42415, }, 'gnocchi-user': { 'uid': 42416, 'gid': 42416, }, 'grafana-user': { 'uid': 42417, 'gid': 42417, }, 'heat-user': { 'uid': 42418, 'gid': 42418, }, 'horizon-user': { 'uid': 42420, 'gid': 42420, }, 'influxdb-user': { 'uid': 42421, 'gid': 42421, }, 'ironic-user': { 'uid': 42422, 'gid': 42422, }, 'kafka-user': { 'uid': 42423, 'gid': 42423, }, 'keystone-user': { 'uid': 42425, 'gid': 42425, }, 'kibana-user': { 'uid': 42426, 'gid': 42426, }, 'qemu-user': { 'uid': 42427, 'gid': 42427, }, 'magnum-user': { 'uid': 42428, 'gid': 42428, }, 'manila-user': { 'uid': 42429, 'gid': 42429, }, 'mistral-user': { 'uid': 42430, 'gid': 42430, }, 'monasca-user': { 'uid': 42431, 'gid': 42431, }, 'mongodb-user': { # unused user (mongodb dropped) 'uid': 42432, 'gid': 65534, }, 'murano-user': { 'uid': 42433, 'gid': 42433, }, 'mysql-user': { 'uid': 42434, 'gid': 42434, }, 'neutron-user': { 'uid': 42435, 'gid': 42435, }, 'nova-user': { 'uid': 42436, 'gid': 42436, }, 'octavia-user': { 'uid': 42437, 'gid': 42437, }, 'panko-user': { 'uid': 42438, 'gid': 42438, }, 'rabbitmq-user': { 'uid': 42439, 'gid': 42439, }, 'rally-user': { 'uid': 42440, 'gid': 42440, }, 'sahara-user': { 'uid': 42441, 'gid': 42441, }, 'searchlight-user': { 'uid': 42442, 'gid': 42442, }, 'senlin-user': { 'uid': 42443, 'gid': 42443, }, 'solum-user': { 'uid': 42444, 'gid': 42444, }, 'swift-user': { 'uid': 42445, 'gid': 42445, }, 'tacker-user': { 'uid': 42446, 'gid': 42446, }, 'td-agent-user': { 'uid': 42447, 'gid': 42447, }, 'telegraf-user': { 'uid': 42448, 'gid': 42448, }, 'trove-user': { 'uid': 42449, 'gid': 42449, }, 'vmtp-user': { 'uid': 42450, 'gid': 42450, }, 'watcher-user': { 'uid': 42451, 'gid': 42451, }, 'zaqar-user': { 'uid': 42452, 'gid': 42452, }, 'zookeeper-user': { 'uid': 42453, 'gid': 42453, }, 'haproxy-user': { 'uid': 42454, 'gid': 42454, }, 'memcached-user': { 'uid': 42457, 'gid': 42457, }, 'karbor-user': { 'uid': 42458, 'gid': 42458, }, 'vitrage-user': { 'uid': 42459, 'gid': 42459, }, 'redis-user': { 'uid': 42460, 'gid': 42460, }, 'ironic-inspector-user': { 'uid': 42461, 'gid': 42461, }, 'odl-user': { 'uid': 42462, 'gid': 42462, }, 'zun-user': { 'uid': 42463, 'gid': 42463, }, 'dragonflow-user': { # unused user (dragonflow dropped) 'uid': 42464, 'gid': 42464, }, 'qdrouterd-user': { 'uid': 42465, 'gid': 42465, }, 'ec2api-user': { 'uid': 42466, 'gid': 42466, }, 'sensu-user': { 'uid': 42467, 'gid': 42467, }, 'skydive-user': { 'uid': 42468, 'gid': 42468, }, 'kuryr-user': { 'uid': 42469, 'gid': 42469, }, 'novajoin-user': { 'uid': 42470, 'gid': 42470, }, 'blazar-user': { 'uid': 42471, 'gid': 42471, }, 'prometheus-user': { 'uid': 42472, 'gid': 42472, }, 'libvirt-user': { 'uid': 42473, # unused user, but we need the group for socket access 'gid': 42473, }, 'fluentd-user': { 'uid': 42474, 'gid': 42474, }, 'almanach-user': { # unused user (almanach dropped) 'uid': 42475, 'gid': 42475, }, 'openvswitch-user': { 'uid': 42476, # unused user 'gid': 42476, }, 'hugetlbfs-user': { 'uid': 42477, # unused user, but we need the group for vhost socket 'gid': 42477, }, 'logstash-user': { 'uid': 42478, 'gid': 42478, }, 'storm-user': { 'uid': 42479, 'gid': 42479, }, 'tempest-user': { 'uid': 42480, 'gid': 42480, }, 'nfast-user': { 'uid': 42481, # unused user, but we need the group for thales hsm 'gid': 42481, }, 'placement-user': { 'uid': 42482, 'gid': 42482, }, 'cyborg-user': { 'uid': 42483, 'gid': 42483, }, 'qinling-user': { 'uid': 42484, 'gid': 42484, }, 'masakari-user': { 'uid': 42485, 'gid': 42485, } } for name, params in USERS.items(): for name, params in SOURCES.items():",900,878
openstack%2Fmonasca-persister~stable%2Ftrain~I4cf165314c53f36a00e9bebfa9b2bc32b04b015d,openstack/monasca-persister,stable/train,I4cf165314c53f36a00e9bebfa9b2bc32b04b015d,Fix zuul publish docker image job,NEW,2021-04-07 11:55:11.000000000,2021-04-07 12:51:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-07 11:55:11.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/ef5d1acb413f00ff379ec89878d4f1eda2330310', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: I4cf165314c53f36a00e9bebfa9b2bc32b04b015d\n'}]",0,785156,ef5d1acb413f00ff379ec89878d4f1eda2330310,2,1,1,28062,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I4cf165314c53f36a00e9bebfa9b2bc32b04b015d
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/56/785156/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,ef5d1acb413f00ff379ec89878d4f1eda2330310,fix-zuul-publish," shell: ""docker push monasca/persister:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-train'}}"""," shell: ""docker push monasca/persister""",1,1
openstack%2Fcinder-tempest-plugin~master~Icb8fc38f7d6e78f2ce5f02fd156efd379e7225a5,openstack/cinder-tempest-plugin,master,Icb8fc38f7d6e78f2ce5f02fd156efd379e7225a5,WIP: Add tests for project default types,NEW,2020-09-15 08:27:59.000000000,2021-04-07 12:50:08.000000000,,"[{'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-15 08:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a1e3113ecf89fba848ae18523d693dad756a4489', 'message': 'WIP: Add tests for project default types\n\nChange-Id: Icb8fc38f7d6e78f2ce5f02fd156efd379e7225a5\n'}, {'number': 2, 'created': '2020-09-22 09:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/9613669086b1c402a4ba955b860e62f86d8486ea', 'message': 'WIP: Add tests for project default types\n\nChange-Id: Icb8fc38f7d6e78f2ce5f02fd156efd379e7225a5\n'}, {'number': 3, 'created': '2021-04-07 10:55:47.000000000', 'files': ['cinder_tempest_plugin/services/default_types_client.py', 'cinder_tempest_plugin/cinder_clients.py', 'cinder_tempest_plugin/api/volume/test_default_volume_types.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/8f1546fdf8778ec289b601391321dc9368943e9e', 'message': 'WIP: Add tests for project default types\n\nChange-Id: Icb8fc38f7d6e78f2ce5f02fd156efd379e7225a5\n'}]",82,751990,8f1546fdf8778ec289b601391321dc9368943e9e,14,2,3,27615,,,0,"WIP: Add tests for project default types

Change-Id: Icb8fc38f7d6e78f2ce5f02fd156efd379e7225a5
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/90/751990/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder_tempest_plugin/services/default_types_client.py', 'cinder_tempest_plugin/cinder_clients.py', 'cinder_tempest_plugin/api/volume/test_default_volume_types.py']",3,a1e3113ecf89fba848ae18523d693dad756a4489,751990,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from tempest.common import waiters from tempest.common import identity from tempest.lib.common.utils import test_utils from tempest import config from tempest.lib import decorators from tempest.lib import exceptions from cinder_tempest_plugin.api.volume import base from cinder_tempest_plugin import cinder_clients LOG = logging.getLogger(__name__) CONF = config.CONF class DefaultTypesTests(base.BaseVolumeAdminTest): min_microversion = '3.62' @classmethod def setup_clients(cls): cls._api_version = 3 super(DefaultTypesTests, cls).setup_clients() manager = cinder_clients.Manager(cls.os_primary) cls.default_types_client = manager.default_types_client def setUp(self): super(DefaultTypesTests, self).setUp() # Create volume type self.volume_type_id = self.create_volume_type(name='test_vol_type')['id'] def test_default_types_priority(self): import pdb; pdb.set_trace() project_id = identity.identity_utils(self.os_admin).create_project( name='default_types_project', description='test_description')['id'] default_type = {'project_id': project_id, 'volume_type': self.volume_type_id} self.addCleanup(identity.identity_utils(self.os_admin).delete_project, project_id) self.default_types_client.set_default_volume_type(**default_type) volume = self.create_volume() LOG.debug('volume:%s' % volume) self.assertEqual(self.volume_type_id, volume['volume_type_id']) ",,140,0
openstack%2Fironic~master~I241c830167752014835845cb32663514220a9996,openstack/ironic,master,I241c830167752014835845cb32663514220a9996,Add idrac HW type IPMI interface support,NEW,2021-01-21 17:37:27.000000000,2021-04-07 12:42:09.000000000,,"[{'_account_id': 7160}, {'_account_id': 10239}, {'_account_id': 10644}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}, {'_account_id': 31616}, {'_account_id': 31636}, {'_account_id': 32108}, {'_account_id': 32126}, {'_account_id': 32205}]","[{'number': 1, 'created': '2021-01-21 17:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/886b1c529aae10bb98c21b9da8e52fa0295715c1', 'message': 'WIP Add idrac HW type IPMI interface support\n\nThis change adds initial idrac hardware type support of interface\nimplementations vendor-independent IPMI hardware interface\nimplementations and are compatible with the integrated Dell\nRemote Access Controller (iDRAC) baseboard management controller\n(BMC), presently those of the management,console,vendorpassthrough\nand power hardware interfaces. They are named `idrac-ipmi`.\n\nThe idrac hardware type declares support for those new interface\nimplementations, in addition to all interface implementations it has\nbeen supporting. The priority order of supported interfaces remains\nthe same.\n\nStory: 2008528\nTask: 41609\nChange-Id: I241c830167752014835845cb32663514220a9996\n'}, {'number': 2, 'created': '2021-01-21 17:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2b9b14168816e73148c33c6ec4335f9b07189c11', 'message': 'WIP Add idrac HW type IPMI interface support\n\nThis change adds initial idrac hardware type support of interface\nimplementations vendor-independent IPMI hardware interface\nimplementations and are compatible with the integrated Dell\nRemote Access Controller (iDRAC) baseboard management controller\n(BMC), presently those of the management,console,vendorpassthrough\nand power hardware interfaces. They are named `idrac-ipmi`.\n\nThe idrac hardware type declares support for those new interface\nimplementations, in addition to all interface implementations it has\nbeen supporting. The priority order of supported interfaces remains\nthe same.\n\nStory: 2008528\nTask: 41609\nChange-Id: I241c830167752014835845cb32663514220a9996\n'}, {'number': 3, 'created': '2021-01-22 07:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f7ef6b6c98db36189ea3ce4e1b6c7049c6b8dce1', 'message': 'WIP Add idrac HW type IPMI interface support\n\nThis change adds initial idrac hardware type support of interface\nimplementations vendor-independent IPMI hardware interface\nimplementations and are compatible with the integrated Dell\nRemote Access Controller (iDRAC) baseboard management controller\n(BMC), presently those of the management,console,vendorpassthrough\nand power hardware interfaces. They are named `idrac-ipmi`.\n\nThe idrac hardware type declares support for those new interface\nimplementations, in addition to all interface implementations it has\nbeen supporting. The priority order of supported interfaces remains\nthe same.\n\nStory: 2008528\nTask: 41609\nChange-Id: I241c830167752014835845cb32663514220a9996\n'}, {'number': 4, 'created': '2021-02-05 07:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ddaf7e44bc0fc1abdc627d40a5e1b4a3965dcbf6', 'message': 'WIP Add idrac HW type IPMI interface support\n\nThis change adds initial idrac hardware type support of interface\nimplementations vendor-independent IPMI hardware interface\nimplementations and are compatible with the integrated Dell\nRemote Access Controller (iDRAC) baseboard management controller\n(BMC), presently those of the management,console,vendorpassthrough\nand power hardware interfaces. They are named `idrac-ipmi`.\n\nThe idrac hardware type declares support for those new interface\nimplementations, in addition to all interface implementations it has\nbeen supporting. The priority order of supported interfaces remains\nthe same.\n\nStory: 2008528\nTask: 41609\nChange-Id: I241c830167752014835845cb32663514220a9996\n'}, {'number': 5, 'created': '2021-02-05 10:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1363add6aaf63a5a811e7652ccb6ca16865d40fe', 'message': 'WIP Add idrac HW type IPMI interface support\n\nThis change adds initial idrac hardware type support of interface\nimplementations vendor-independent IPMI hardware interface\nimplementations and are compatible with the integrated Dell\nRemote Access Controller (iDRAC) baseboard management controller\n(BMC), presently those of the management,console,vendorpassthrough\nand power hardware interfaces. They are named `idrac-ipmi`.\n\nThe idrac hardware type declares support for those new interface\nimplementations, in addition to all interface implementations it has\nbeen supporting. The priority order of supported interfaces remains\nthe same.\n\nStory: 2008528\nTask: 41609\nChange-Id: I241c830167752014835845cb32663514220a9996\n'}, {'number': 6, 'created': '2021-02-11 12:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/39519fc24e3c15059c73d1d42f0d65a28e875d1a', 'message': 'Add idrac HW type IPMI interface support\n\nThis change adds initial idrac hardware type support of interface\nimplementations vendor-independent IPMI hardware interface\nimplementations and are compatible with the integrated Dell\nRemote Access Controller (iDRAC) baseboard management controller\n(BMC), presently those of the management,console,vendorpassthrough\nand power hardware interfaces. They are named `idrac-ipmi`.\n\nThe idrac hardware type declares support for those new interface\nimplementations, in addition to all interface implementations it has\nbeen supporting. The priority order of supported interfaces remains\nthe same.\n\nStory: 2008528\nTask: 41609\nChange-Id: I241c830167752014835845cb32663514220a9996\n'}, {'number': 7, 'created': '2021-02-22 16:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fd4ae5f19cd0087d8e5f388d6f17e1600e7ff10d', 'message': 'Add idrac HW type IPMI interface support\n\nThis change adds initial idrac hardware type support of interface\nimplementations vendor-independent IPMI hardware interface\nimplementations and are compatible with the integrated Dell\nRemote Access Controller (iDRAC) baseboard management controller\n(BMC), presently those of the management,console,vendorpassthrough\nand power hardware interfaces. They are named `idrac-ipmi`.\n\nThe idrac hardware type declares support for those new interface\nimplementations, in addition to all interface implementations it has\nbeen supporting. The priority order of supported interfaces remains\nthe same.\n\nStory: 2008528\nTask: 41609\nChange-Id: I241c830167752014835845cb32663514220a9996\n'}, {'number': 8, 'created': '2021-02-22 16:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/875b4c286ca5a7d118d5065d877ed98cbe072c98', 'message': 'Add idrac HW type IPMI interface support\n\nThis change adds initial idrac hardware type support of interface\nimplementations vendor-independent IPMI hardware interface\nimplementations and are compatible with the integrated Dell\nRemote Access Controller (iDRAC) baseboard management controller\n(BMC), presently those of the management,console,vendorpassthrough\nand power hardware interfaces. They are named `idrac-ipmi`.\n\nThe idrac hardware type declares support for those new interface\nimplementations, in addition to all interface implementations it has\nbeen supporting. The priority order of supported interfaces remains\nthe same.\n\nStory: 2008528\nTask: 41609\nChange-Id: I241c830167752014835845cb32663514220a9996\n'}, {'number': 9, 'created': '2021-02-25 14:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7895cecc773f28626a28c64578266f2a5490676c', 'message': 'Add idrac HW type IPMI interface support\n\nThis change adds initial idrac hardware type support of interface\nimplementations vendor-independent IPMI hardware interface\nimplementations and are compatible with the integrated Dell\nRemote Access Controller (iDRAC) baseboard management controller\n(BMC), presently those of the management,console,vendorpassthrough\nand power hardware interfaces. They are named `idrac-ipmi`.\n\nThe idrac hardware type declares support for those new interface\nimplementations, in addition to all interface implementations it has\nbeen supporting. The priority order of supported interfaces remains\nthe same.\n\nStory: 2008528\nTask: 41609\nChange-Id: I241c830167752014835845cb32663514220a9996\n'}, {'number': 10, 'created': '2021-03-02 05:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/32a03897fd5b09f580942fd9472b4f1c129746b9', 'message': 'Add idrac HW type IPMI interface support\n\nThis change adds initial idrac hardware type support of interface\nimplementations vendor-independent IPMI hardware interface\nimplementations and are compatible with the integrated Dell\nRemote Access Controller (iDRAC) baseboard management controller\n(BMC), presently those of the management,console,vendorpassthrough\nand power hardware interfaces. They are named `idrac-ipmi`.\n\nThe idrac hardware type declares support for those new interface\nimplementations, in addition to all interface implementations it has\nbeen supporting. The priority order of supported interfaces remains\nthe same.\n\nStory: 2008528\nTask: 41609\nChange-Id: I241c830167752014835845cb32663514220a9996\n'}, {'number': 11, 'created': '2021-03-10 11:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e3ef04849b4ef89668f30ef3d74718dafbe6b3c5', 'message': 'Add idrac HW type IPMI interface support\n\nThis change adds initial idrac hardware type support of interface\nimplementations vendor-independent IPMI hardware interface\nimplementations and are compatible with the integrated Dell\nRemote Access Controller (iDRAC) baseboard management controller\n(BMC), presently those of the management,console,vendorpassthrough\nand power hardware interfaces. They are named `idrac-ipmi`.\n\nThe idrac hardware type declares support for those new interface\nimplementations, in addition to all interface implementations it has\nbeen supporting. The priority order of supported interfaces remains\nthe same.\n\nStory: 2008528\nTask: 41609\nChange-Id: I241c830167752014835845cb32663514220a9996\n'}, {'number': 12, 'created': '2021-03-26 07:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a64c15db50740cafabd9bb6fa509b11464edc8ca', 'message': 'Add idrac HW type IPMI interface support\n\nThis change adds initial idrac hardware type support of interface\nimplementations vendor-independent IPMI hardware interface\nimplementations and are compatible with the integrated Dell\nRemote Access Controller (iDRAC) baseboard management controller\n(BMC), presently those of the management,console,vendorpassthrough\nand power hardware interfaces. They are named `idrac-ipmi`.\n\nThe idrac hardware type declares support for those new interface\nimplementations, in addition to all interface implementations it has\nbeen supporting. The priority order of supported interfaces remains\nthe same.\n\nStory: 2008528\nTask: 41609\nChange-Id: I241c830167752014835845cb32663514220a9996\n'}, {'number': 13, 'created': '2021-03-29 08:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b1c28fbbe2de791b48c729660ea7a52525f568ec', 'message': 'Add idrac HW type IPMI interface support\n\nThis change adds initial idrac hardware type support of interface\nimplementations vendor-independent IPMI hardware interface\nimplementations and are compatible with the integrated Dell\nRemote Access Controller (iDRAC) baseboard management controller\n(BMC), presently those of the management,console,vendorpassthrough\nand power hardware interfaces. They are named `idrac-ipmi`.\n\nThe idrac hardware type declares support for those new interface\nimplementations, in addition to all interface implementations it has\nbeen supporting. The priority order of supported interfaces remains\nthe same.\n\nStory: 2008528\nTask: 41609\nChange-Id: I241c830167752014835845cb32663514220a9996\n'}, {'number': 14, 'created': '2021-03-29 15:16:59.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/utils.py', 'ironic/drivers/modules/drac/management.py', 'releasenotes/notes/idrac-add-ipmi-interface-support-bb86391f9a2badcf.yaml', 'ironic/drivers/modules/drac/vendor_passthru.py', 'ironic/drivers/drac.py', 'doc/source/admin/drivers/idrac.rst', 'ironic/tests/unit/drivers/test_drac.py', 'setup.cfg', 'ironic/drivers/modules/drac/console.py', 'ironic/drivers/modules/drac/power.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/963888ec29007d1d93fba08ef3bc69d141e284a8', 'message': 'Add idrac HW type IPMI interface support\n\nThis change adds initial idrac hardware type support of interface\nimplementations vendor-independent IPMI hardware interface\nimplementations and are compatible with the integrated Dell\nRemote Access Controller (iDRAC) baseboard management controller\n(BMC), presently those of the management,console,vendorpassthrough\nand power hardware interfaces. They are named `idrac-ipmi`.\n\nThe idrac hardware type declares support for those new interface\nimplementations, in addition to all interface implementations it has\nbeen supporting. The priority order of supported interfaces remains\nthe same.\n\nStory: 2008528\nTask: 41609\nChange-Id: I241c830167752014835845cb32663514220a9996\n'}]",152,771862,963888ec29007d1d93fba08ef3bc69d141e284a8,111,14,14,32108,,,0,"Add idrac HW type IPMI interface support

This change adds initial idrac hardware type support of interface
implementations vendor-independent IPMI hardware interface
implementations and are compatible with the integrated Dell
Remote Access Controller (iDRAC) baseboard management controller
(BMC), presently those of the management,console,vendorpassthrough
and power hardware interfaces. They are named `idrac-ipmi`.

The idrac hardware type declares support for those new interface
implementations, in addition to all interface implementations it has
been supporting. The priority order of supported interfaces remains
the same.

Story: 2008528
Task: 41609
Change-Id: I241c830167752014835845cb32663514220a9996
",git fetch https://review.opendev.org/openstack/ironic refs/changes/62/771862/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/utils.py', 'ironic/drivers/modules/drac/management.py', 'releasenotes/notes/idrac-add-ipmi-interface-support-bb86391f9a2badcf.yaml', 'ironic/drivers/modules/drac/vendor_passthru.py', 'ironic/drivers/drac.py', 'ironic/tests/unit/drivers/test_drac.py', 'setup.cfg', 'ironic/drivers/modules/drac/console.py', 'ironic/drivers/modules/drac/power.py']",9,886b1c529aae10bb98c21b9da8e52fa0295715c1,task/41609,"from ironic.drivers.modules import ipmitool as ipmi_managementclass DracIPMIPower(ipmi_management.IPMIPower): """"""iDRAC IPMI interface for power-related actions."""""" pass ",,87,14
openstack%2Fmonasca-thresh~stable%2Fwallaby~I1f8affdf47855b55dfd87f161d58443bf9a4d064,openstack/monasca-thresh,stable/wallaby,I1f8affdf47855b55dfd87f161d58443bf9a4d064,Update docker-publish.yml for stable/wallaby,MERGED,2021-04-07 11:19:46.000000000,2021-04-07 12:37:47.000000000,2021-04-07 12:37:47.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-07 11:19:46.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-thresh/commit/7f063a10514303c83c5acc2a83e7e556ed21f475', 'message': 'Update docker-publish.yml for stable/wallaby\n\nChange-Id: I1f8affdf47855b55dfd87f161d58443bf9a4d064\n'}]",0,785147,7f063a10514303c83c5acc2a83e7e556ed21f475,6,2,1,28062,,,0,"Update docker-publish.yml for stable/wallaby

Change-Id: I1f8affdf47855b55dfd87f161d58443bf9a4d064
",git fetch https://review.opendev.org/openstack/monasca-thresh refs/changes/47/785147/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,7f063a10514303c83c5acc2a83e7e556ed21f475,docker-jobs-wallaby," shell: ""docker push monasca/thresh:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-wallaby'}}"""," shell: ""docker push monasca/thresh:{{ zuul.tag if zuul.pipeline == 'release' else 'master'}}""",1,1
openstack%2Fmagnum~master~I523a4a85867f82d234ba1f3e6fad8b8cd2291182,openstack/magnum,master,I523a4a85867f82d234ba1f3e6fad8b8cd2291182,Add separated CA cert for etcd and front-proxy,MERGED,2020-08-19 09:00:57.000000000,2021-04-07 12:37:36.000000000,2021-04-07 12:35:10.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-08-19 09:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/447aa4461595efb3c01bf30c9ff5b01e0acbceaf', 'message': '[WIP] Add separated CA cert for etcd and front-proxy\n\nTask: 40687\nStory: 2008031\n\nChange-Id: I523a4a85867f82d234ba1f3e6fad8b8cd2291182\n'}, {'number': 2, 'created': '2020-08-20 07:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/479c75959c40fbbc6d0f828efaa47451f7133e64', 'message': '[WIP] Add separated CA cert for etcd and front-proxy\n\nTask: 40687\nStory: 2008031\n\nChange-Id: I523a4a85867f82d234ba1f3e6fad8b8cd2291182\n'}, {'number': 3, 'created': '2020-08-23 18:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/108d4f465ccc9edc7073f32b053f961a71cb9a7c', 'message': '[WIP] Add separated CA cert for etcd and front-proxy\n\nTask: 40687\nStory: 2008031\n\nChange-Id: I523a4a85867f82d234ba1f3e6fad8b8cd2291182\n'}, {'number': 4, 'created': '2020-08-24 01:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d0b74cdc925a1e28600a0f0e56b56e25c97150c4', 'message': ""Add separated CA cert for etcd and front-proxy\n\nSupport creating different for k8s, etcd and front-proxy for\nsecurity hardening. We're following some best practices[1][2] but\nadjusted based on the current Magnum deployment approach.\n\n[1] https://kubernetes.io/docs/setup/best-practices/certificates/\n[2] https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/\n\nTask: 40687\nStory: 2008031\n\nChange-Id: I523a4a85867f82d234ba1f3e6fad8b8cd2291182\n""}, {'number': 5, 'created': '2020-08-25 08:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d7d102ffc12f0b75356faa174c85f7be4004eb01', 'message': ""Add separated CA cert for etcd and front-proxy\n\nSupport creating different for k8s, etcd and front-proxy for\nsecurity hardening. We're following some best practices[1][2] but\nadjusted based on the current Magnum deployment approach.\n\n[1] https://kubernetes.io/docs/setup/best-practices/certificates/\n[2] https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/\n\nTask: 40687\nStory: 2008031\n\nChange-Id: I523a4a85867f82d234ba1f3e6fad8b8cd2291182\n""}, {'number': 6, 'created': '2020-11-05 23:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/cf3e3eef9800530f2872a28c696daff443bf5f84', 'message': ""Add separated CA cert for etcd and front-proxy\n\nSupport creating different for k8s, etcd and front-proxy for\nsecurity hardening. We're following some best practices[1][2] but\nadjusted based on the current Magnum deployment approach.\n\n[1] https://kubernetes.io/docs/setup/best-practices/certificates/\n[2] https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/\n\nTask: 40687\nStory: 2008031\n\nChange-Id: I523a4a85867f82d234ba1f3e6fad8b8cd2291182\n""}, {'number': 7, 'created': '2020-11-05 23:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e5534978ffdeb3ead89251986a47181c44c0b34d', 'message': ""Add separated CA cert for etcd and front-proxy\n\nSupport creating different CA certs for k8s, etcd and front-proxy to\nimprove security hardening. We're following some best practices[1][2]\nbut adjusted based on the current Magnum deployment approach.\n\n[1] https://kubernetes.io/docs/setup/best-practices/certificates/\n[2] https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/\n\nTask: 40687\nStory: 2008031\n\nChange-Id: I523a4a85867f82d234ba1f3e6fad8b8cd2291182\n""}, {'number': 8, 'created': '2020-12-02 07:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/154be478d982712ac894e90d23460bee0686559d', 'message': ""Add separated CA cert for etcd and front-proxy\n\nSupport creating different for k8s, etcd and front-proxy for\nsecurity hardening. We're following some best practices[1][2] but\nadjusted based on the current Magnum deployment approach.\n\n[1] https://kubernetes.io/docs/setup/best-practices/certificates/\n[2] https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/\n\nTask: 40687\nStory: 2008031\n\nChange-Id: I523a4a85867f82d234ba1f3e6fad8b8cd2291182\n""}, {'number': 9, 'created': '2021-01-22 02:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/edc0abccb0ced67fc479781b7f2ac4586407891c', 'message': ""Add separated CA cert for etcd and front-proxy\n\nSupport creating different for k8s, etcd and front-proxy for\nsecurity hardening. We're following some best practices[1][2] but\nadjusted based on the current Magnum deployment approach.\n\n[1] https://kubernetes.io/docs/setup/best-practices/certificates/\n[2] https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/\n\nTask: 40687\nStory: 2008031\n\nChange-Id: I523a4a85867f82d234ba1f3e6fad8b8cd2291182\n""}, {'number': 10, 'created': '2021-02-10 09:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0423e700f121e74d25ad5f2fe6856e322e8a3b60', 'message': ""Add separated CA cert for etcd and front-proxy\n\nSupport creating different for k8s, etcd and front-proxy for\nsecurity hardening. We're following some best practices[1][2] but\nadjusted based on the current Magnum deployment approach.\n\n[1] https://kubernetes.io/docs/setup/best-practices/certificates/\n[2] https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/\n\nTask: 40687\nStory: 2008031\n\nChange-Id: I523a4a85867f82d234ba1f3e6fad8b8cd2291182\n""}, {'number': 11, 'created': '2021-02-11 20:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/028bfade32ffd2f51c4ae228a20737df4f4975f9', 'message': ""Add separated CA cert for etcd and front-proxy\n\nSupport creating different for k8s, etcd and front-proxy for\nsecurity hardening. We're following some best practices[1][2] but\nadjusted based on the current Magnum deployment approach.\n\n[1] https://kubernetes.io/docs/setup/best-practices/certificates/\n[2] https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/\n\nTask: 40687\nStory: 2008031\n\nChange-Id: I523a4a85867f82d234ba1f3e6fad8b8cd2291182\n""}, {'number': 12, 'created': '2021-03-29 08:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/948a694ab74219d9eea8bb5bcf7631bff4634af4', 'message': ""Add separated CA cert for etcd and front-proxy\n\nSupport creating different for k8s, etcd and front-proxy for\nsecurity hardening. We're following some best practices[1][2] but\nadjusted based on the current Magnum deployment approach.\n\n[1] https://kubernetes.io/docs/setup/best-practices/certificates/\n[2] https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/\n\nTask: 40687\nStory: 2008031\n\nChange-Id: I523a4a85867f82d234ba1f3e6fad8b8cd2291182\n""}, {'number': 13, 'created': '2021-03-29 08:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7e8dccccd953dea7deb284e9173fdb99f6e48bd8', 'message': ""Add separated CA cert for etcd and front-proxy\n\nSupport creating different for k8s, etcd and front-proxy for\nsecurity hardening. We're following some best practices[1][2] but\nadjusted based on the current Magnum deployment approach.\n\n[1] https://kubernetes.io/docs/setup/best-practices/certificates/\n[2] https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/\n\nTask: 40687\nStory: 2008031\n\nChange-Id: I523a4a85867f82d234ba1f3e6fad8b8cd2291182\n""}, {'number': 14, 'created': '2021-04-01 17:32:07.000000000', 'files': ['api-ref/source/parameters.yaml', 'magnum/tests/unit/conductor/handlers/test_ca_conductor.py', 'magnum/api/controllers/v1/certificate.py', 'api-ref/source/certificates.inc', 'magnum/api/controllers/v1/bay.py', 'magnum/drivers/common/templates/kubernetes/fragments/make-cert.sh', 'magnum/tests/unit/db/utils.py', 'magnum/conductor/handlers/common/cert_manager.py', 'magnum/objects/certificate.py', 'magnum/tests/releasenotes/notes/separated-ca-certs-299c95eea1ffd9b1.yaml', 'magnum/tests/unit/conductor/handlers/common/test_cert_manager.py', 'magnum/db/sqlalchemy/alembic/versions/7da8489d6a68_separated_ca_cert_for_etcd_and_front_.py', 'magnum/conductor/api.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/api/controllers/v1/cluster.py', 'magnum/conductor/handlers/ca_conductor.py', 'magnum/db/sqlalchemy/models.py', 'magnum/objects/cluster.py', 'tox.ini', 'magnum/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/16344a5a9597e06791874a6893c6eb80e78ae904', 'message': ""Add separated CA cert for etcd and front-proxy\n\nSupport creating different for k8s, etcd and front-proxy for\nsecurity hardening. We're following some best practices[1][2] but\nadjusted based on the current Magnum deployment approach.\n\n[1] https://kubernetes.io/docs/setup/best-practices/certificates/\n[2] https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/\n\nTask: 40687\nStory: 2008031\n\nChange-Id: I523a4a85867f82d234ba1f3e6fad8b8cd2291182\n""}]",38,746864,16344a5a9597e06791874a6893c6eb80e78ae904,65,4,14,6484,,,0,"Add separated CA cert for etcd and front-proxy

Support creating different for k8s, etcd and front-proxy for
security hardening. We're following some best practices[1][2] but
adjusted based on the current Magnum deployment approach.

[1] https://kubernetes.io/docs/setup/best-practices/certificates/
[2] https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/

Task: 40687
Story: 2008031

Change-Id: I523a4a85867f82d234ba1f3e6fad8b8cd2291182
",git fetch https://review.opendev.org/openstack/magnum refs/changes/64/746864/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/db/sqlalchemy/alembic/versions/7da8489d6a68_separated_ca_cert_for_etcd_and_front_.py', 'magnum/db/sqlalchemy/models.py', 'magnum/objects/cluster.py', 'magnum/conductor/handlers/common/cert_manager.py']",4,447aa4461595efb3c01bf30c9ff5b01e0acbceaf,sep-ca," etcd_ca_cert_ref, _, _ = _generate_ca_cert(issuer_name, context=context) fp_ca_cert_ref, _, _ = _generate_ca_cert(issuer_name, context=context) cluster.etcd_ca_cert_ref = etcd_ca_cert_ref cluster.front_proxy_ca_cert_ref = fp_ca_cert_ref",,36,1
openstack%2Fmonasca-persister~stable%2Fussuri~Iacfcd86d40c3c84922cf2bf88991d931839d70b4,openstack/monasca-persister,stable/ussuri,Iacfcd86d40c3c84922cf2bf88991d931839d70b4,Fix zuul publish docker image job,NEW,2021-04-07 11:53:20.000000000,2021-04-07 12:37:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-07 11:53:20.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/202c5b1585131effeb7664b66a63867579f2e7be', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: Iacfcd86d40c3c84922cf2bf88991d931839d70b4\n'}]",0,785155,202c5b1585131effeb7664b66a63867579f2e7be,2,1,1,28062,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: Iacfcd86d40c3c84922cf2bf88991d931839d70b4
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/55/785155/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,202c5b1585131effeb7664b66a63867579f2e7be,fix-zuul-publish," shell: ""docker push monasca/persister:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-ussuri'}}"""," shell: ""docker push monasca/persister""",1,1
openstack%2Fmonasca-notification~stable%2Fwallaby~I823607b98701af08297d3e0b79dbac0e5146ef0e,openstack/monasca-notification,stable/wallaby,I823607b98701af08297d3e0b79dbac0e5146ef0e,Update docker-publish.yml for stable/wallaby,MERGED,2021-04-07 11:23:19.000000000,2021-04-07 12:36:33.000000000,2021-04-07 12:36:33.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-07 11:23:19.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/61179e99ea7c7c88dfa37d722848bad2267abfb2', 'message': 'Update docker-publish.yml for stable/wallaby\n\nChange-Id: I823607b98701af08297d3e0b79dbac0e5146ef0e\n'}]",0,785148,61179e99ea7c7c88dfa37d722848bad2267abfb2,6,2,1,28062,,,0,"Update docker-publish.yml for stable/wallaby

Change-Id: I823607b98701af08297d3e0b79dbac0e5146ef0e
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/48/785148/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,61179e99ea7c7c88dfa37d722848bad2267abfb2,docker-jobs-wallaby," shell: ""docker push monasca/notification:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-wallaby'}}"""," shell: ""docker push monasca/notification:{{ zuul.tag if zuul.pipeline == 'release' else 'master'}}""",1,1
openstack%2Ftripleo-validations~master~Ifc75b8e9b27fc4f4316dc12c2b63ab65430c5ae4,openstack/tripleo-validations,master,Ifc75b8e9b27fc4f4316dc12c2b63ab65430c5ae4,DNM this is a test,ABANDONED,2021-04-06 09:00:08.000000000,2021-04-07 12:34:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-06 09:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/32a490825a98f96f6326a09f30fd360dfd4cccc4', 'message': 'DNM this is a test\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ifc75b8e9b27fc4f4316dc12c2b63ab65430c5ae4\n'}, {'number': 2, 'created': '2021-04-06 12:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8120a96d5c7a1861a859e3673c509f58d4bf5fe4', 'message': 'DNM this is a test\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ifc75b8e9b27fc4f4316dc12c2b63ab65430c5ae4\n'}, {'number': 3, 'created': '2021-04-06 14:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/77fc0f47801aaa9a9c571d0ac8efac8979892181', 'message': 'DNM this is a test\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ifc75b8e9b27fc4f4316dc12c2b63ab65430c5ae4\n'}, {'number': 4, 'created': '2021-04-06 15:04:50.000000000', 'files': ['zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9399ffac5b512895996e968c71defe5aa8e36cfd', 'message': 'DNM this is a test\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ifc75b8e9b27fc4f4316dc12c2b63ab65430c5ae4\n'}]",2,784897,9399ffac5b512895996e968c71defe5aa8e36cfd,10,1,4,32926,,,0,"DNM this is a test

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ifc75b8e9b27fc4f4316dc12c2b63ab65430c5ae4
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/97/784897/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,32a490825a98f96f6326a09f30fd360dfd4cccc4,testenvs,"envlist = linters,docs,molecule","envlist = linters,docs,py38,molecule",1,1
openstack%2Fpython-monascaclient~stable%2Ftrain~I97aa0464bcade9166ec9aaef24693b8de9e2505d,openstack/python-monascaclient,stable/train,I97aa0464bcade9166ec9aaef24693b8de9e2505d,Fix zuul publish docker image job,NEW,2021-04-07 12:18:56.000000000,2021-04-07 12:34:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-07 12:18:56.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/2d3c4e3d994dd1f461f2e9258e2af5940ef5e684', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: I97aa0464bcade9166ec9aaef24693b8de9e2505d\n'}]",0,785164,2d3c4e3d994dd1f461f2e9258e2af5940ef5e684,2,1,1,28062,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I97aa0464bcade9166ec9aaef24693b8de9e2505d
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/64/785164/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,2d3c4e3d994dd1f461f2e9258e2af5940ef5e684,fix-zuul-publish," shell: ""docker push monasca/client:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-train'}}"""," shell: ""docker push monasca/client""",1,1
openstack%2Fpython-monascaclient~stable%2Fussuri~I7a561eab0f98497c6ce719fa1dc6eeaa8bc781e7,openstack/python-monascaclient,stable/ussuri,I7a561eab0f98497c6ce719fa1dc6eeaa8bc781e7,Fix zuul publish docker image job,NEW,2021-04-07 12:17:37.000000000,2021-04-07 12:30:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-07 12:17:37.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/b928a4703dc371b262a989221af35dd447e9fdf0', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: I7a561eab0f98497c6ce719fa1dc6eeaa8bc781e7\n'}]",0,785163,b928a4703dc371b262a989221af35dd447e9fdf0,2,1,1,28062,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: I7a561eab0f98497c6ce719fa1dc6eeaa8bc781e7
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/63/785163/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,b928a4703dc371b262a989221af35dd447e9fdf0,fix-zuul-publish," shell: ""docker push monasca/client:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-ussuri'}}"""," shell: ""docker push monasca/client""",1,1
openstack%2Fpython-monascaclient~stable%2Fvictoria~Ia8f9fc505e44598685fff967cb1e1bb27a3d6343,openstack/python-monascaclient,stable/victoria,Ia8f9fc505e44598685fff967cb1e1bb27a3d6343,Fix zuul publish docker image job,NEW,2021-04-07 12:16:15.000000000,2021-04-07 12:24:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-07 12:16:15.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/240e63bd0e08d1f06f3f0b107d23522a6927db12', 'message': 'Fix zuul publish docker image job\n\nAdd tag to docker push command with specific branch name\n\nChange-Id: Ia8f9fc505e44598685fff967cb1e1bb27a3d6343\n'}]",0,785161,240e63bd0e08d1f06f3f0b107d23522a6927db12,2,1,1,28062,,,0,"Fix zuul publish docker image job

Add tag to docker push command with specific branch name

Change-Id: Ia8f9fc505e44598685fff967cb1e1bb27a3d6343
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/61/785161/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,240e63bd0e08d1f06f3f0b107d23522a6927db12,fix-zuul-publish," shell: ""docker push monasca/client:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-victoria'}}"""," shell: ""docker push monasca/client""",1,1
openstack%2Fkayobe~master~I8d3d51ea25459f1831ac75a062cd8e7c54204de4,openstack/kayobe,master,I8d3d51ea25459f1831ac75a062cd8e7c54204de4,CentOS Stream 8: switch default seed VM image,MERGED,2021-04-06 15:47:45.000000000,2021-04-07 12:16:03.000000000,2021-04-07 12:14:36.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 15:47:45.000000000', 'files': ['ansible/group_vars/all/seed-vm', 'etc/kayobe/seed-vm.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ab5bd58a856d76f502367eca3820b0709e63eb66', 'message': 'CentOS Stream 8: switch default seed VM image\n\nChange-Id: I8d3d51ea25459f1831ac75a062cd8e7c54204de4\nStory: 2008795\nTask: 42216\n'}]",0,785002,ab5bd58a856d76f502367eca3820b0709e63eb66,9,3,1,14826,,,0,"CentOS Stream 8: switch default seed VM image

Change-Id: I8d3d51ea25459f1831ac75a062cd8e7c54204de4
Story: 2008795
Task: 42216
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/02/785002/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/seed-vm', 'etc/kayobe/seed-vm.yml']",2,ab5bd58a856d76f502367eca3820b0709e63eb66,centos-stream,"# ""https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20210210.0.x86_64.qcow2""","# ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.3.2011-20201204.2.x86_64.qcow2"".",2,2
openstack%2Fkayobe~stable%2Fvictoria~I468d4e0460c13791b9f01d5854ef45472528c6fe,openstack/kayobe,stable/victoria,I468d4e0460c13791b9f01d5854ef45472528c6fe,CentOS Stream 8: Use /usr/bin/which instead of bash function,MERGED,2021-04-06 13:10:02.000000000,2021-04-07 12:15:53.000000000,2021-04-07 12:14:26.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 13:10:02.000000000', 'files': ['dev/functions'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a7d33af663e817b9700c9dea0e543a3ac68d8358', 'message': ""CentOS Stream 8: Use /usr/bin/which instead of bash function\n\nA bug has been introduced to the which package in CentOS Stream 8 which\ncauses it to fail when used with the following bash options:\n\nset -u\nset -o pipefail\n\nThen, when running which we see the following output:\n\nenvironment: line 1: _declare: unbound variable\n\nAs found by Pierre, this seems to be caused by the implementation of\nwhich as a bash function which references an unbound variable\n(_declare). It's tracked in Fedora by\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1944877#.\n\nThis change works around the issue by using the /usr/bin/which binary.\n\nCo-Authored-By: Pierre Riteau <pierre@stackhpc.com>\n\nChange-Id: I468d4e0460c13791b9f01d5854ef45472528c6fe\nStory: 2008795\nTask: 42215\n""}]",0,784853,a7d33af663e817b9700c9dea0e543a3ac68d8358,9,3,1,14826,,,0,"CentOS Stream 8: Use /usr/bin/which instead of bash function

A bug has been introduced to the which package in CentOS Stream 8 which
causes it to fail when used with the following bash options:

set -u
set -o pipefail

Then, when running which we see the following output:

environment: line 1: _declare: unbound variable

As found by Pierre, this seems to be caused by the implementation of
which as a bash function which references an unbound variable
(_declare). It's tracked in Fedora by
https://bugzilla.redhat.com/show_bug.cgi?id=1944877#.

This change works around the issue by using the /usr/bin/which binary.

Co-Authored-By: Pierre Riteau <pierre@stackhpc.com>

Change-Id: I468d4e0460c13791b9f01d5854ef45472528c6fe
Story: 2008795
Task: 42215
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/53/784853/1 && git format-patch -1 --stdout FETCH_HEAD,['dev/functions'],1,a7d33af663e817b9700c9dea0e543a3ac68d8358,centos-stream, /usr/bin/which dnf >/dev/null 2>&1 /usr/bin/which yum >/dev/null 2>&1, which dnf >/dev/null 2>&1 which yum >/dev/null 2>&1,2,2
openstack%2Fmonasca-agent~stable%2Fwallaby~I1950797ea135d46c00e46cce36dd4e437392341b,openstack/monasca-agent,stable/wallaby,I1950797ea135d46c00e46cce36dd4e437392341b,Update docker-publish.yml for stable/wallaby,MERGED,2021-04-07 11:09:23.000000000,2021-04-07 12:06:02.000000000,2021-04-07 12:06:02.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-07 11:09:23.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/b31b695a33390a666fcfbbcac3fdcba0f678cebe', 'message': 'Update docker-publish.yml for stable/wallaby\n\nChange-Id: I1950797ea135d46c00e46cce36dd4e437392341b\n'}]",0,785145,b31b695a33390a666fcfbbcac3fdcba0f678cebe,6,2,1,28062,,,0,"Update docker-publish.yml for stable/wallaby

Change-Id: I1950797ea135d46c00e46cce36dd4e437392341b
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/45/785145/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,b31b695a33390a666fcfbbcac3fdcba0f678cebe,docker-jobs-wallaby," shell: ""docker push monasca/agent-collector:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-wallaby' }}"" shell: ""docker push monasca/agent-forwarder:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-wallaby' }}"" shell: ""docker push monasca/statsd:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-wallaby' }}"""," shell: ""docker push monasca/agent-collector"" shell: ""docker push monasca/agent-forwarder"" shell: ""docker push monasca/statsd""",3,3
openstack%2Fironic~master~Ia7093a3ed48e19197f74da9e1c49416a974a76be,openstack/ironic,master,Ia7093a3ed48e19197f74da9e1c49416a974a76be,Update python-dracclient version,MERGED,2021-04-01 03:56:27.000000000,2021-04-07 12:05:56.000000000,2021-04-07 12:03:45.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-04-01 03:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/63f451e99a6306f6a8dccdd1e7e7a5784e24bfd8', 'message': 'Update python-dracclient version\n\nUpdate python-dracclient version to indicate compatibility with the\n6.0.0 release.\n\nChange-Id: Ia7093a3ed48e19197f74da9e1c49416a974a76be\n'}, {'number': 2, 'created': '2021-04-06 16:49:08.000000000', 'files': ['driver-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/90d21edbfd8e2251d6496b9bafd4c75e968b18a7', 'message': 'Update python-dracclient version\n\nUpdate python-dracclient version to indicate Wallaby compatibility with\n6.*.* releases.\n\nVersion 6.0.0 is available from PyPI [1].\n\n[1] https://pypi.org/project/python-dracclient/6.0.0/\n\nChange-Id: Ia7093a3ed48e19197f74da9e1c49416a974a76be\n'}]",4,784192,90d21edbfd8e2251d6496b9bafd4c75e968b18a7,24,6,2,23847,,,0,"Update python-dracclient version

Update python-dracclient version to indicate Wallaby compatibility with
6.*.* releases.

Version 6.0.0 is available from PyPI [1].

[1] https://pypi.org/project/python-dracclient/6.0.0/

Change-Id: Ia7093a3ed48e19197f74da9e1c49416a974a76be
",git fetch https://review.opendev.org/openstack/ironic refs/changes/92/784192/1 && git format-patch -1 --stdout FETCH_HEAD,['driver-requirements.txt'],1,63f451e99a6306f6a8dccdd1e7e7a5784e24bfd8,update-python-dracclient-version,"python-dracclient>=5.1.0,<7.0.0","python-dracclient>=5.1.0,<6.0.0",1,1
openstack%2Fpython-monascaclient~stable%2Fwallaby~I57197c59d657934f3ff21763cab073181c59ce3c,openstack/python-monascaclient,stable/wallaby,I57197c59d657934f3ff21763cab073181c59ce3c,Update docker-publish.yml for stable/wallaby,MERGED,2021-04-07 11:32:29.000000000,2021-04-07 12:05:54.000000000,2021-04-07 12:04:41.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-07 11:32:29.000000000', 'files': ['playbooks/docker-publish.yml'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/7fc0a43e02346f1e68de1ccba00c64a097072046', 'message': 'Update docker-publish.yml for stable/wallaby\n\nChange-Id: I57197c59d657934f3ff21763cab073181c59ce3c\n'}]",0,785150,7fc0a43e02346f1e68de1ccba00c64a097072046,7,2,1,28062,,,0,"Update docker-publish.yml for stable/wallaby

Change-Id: I57197c59d657934f3ff21763cab073181c59ce3c
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/50/785150/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/docker-publish.yml'],1,7fc0a43e02346f1e68de1ccba00c64a097072046,docker-jobs-wallaby," shell: ""docker push monasca/client:{{ zuul.tag if zuul.pipeline == 'release' else 'stable-wallaby'}}"""," shell: ""docker push monasca/client:{{ zuul.tag if zuul.pipeline == 'release' else zuul.branch }}""",1,1
openstack%2Fos-brick~stable%2Ftrain~I066d456fb1fe9159d4be50ffd8abf9a6d8d07901,openstack/os-brick,stable/train,I066d456fb1fe9159d4be50ffd8abf9a6d8d07901,iSCSI: Fix flushing after multipath cfg change,MERGED,2021-03-31 13:09:27.000000000,2021-04-07 11:58:01.000000000,2021-04-07 11:16:39.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-03-31 13:09:27.000000000', 'files': ['releasenotes/notes/wallaby-extra-prelude-d8de88e3e11a7b9f.yaml', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/initiator/connectors/base_iscsi.py', 'releasenotes/notes/disconnect-multipath-cfg-changed-637abc5ecf44fb10.yaml', 'os_brick/tests/initiator/connectors/test_base_iscsi.py', 'os_brick/exception.py', 'os_brick/tests/initiator/connectors/test_iser.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f6531c0c81579c02fa046f3eaf7da8704ceebdd2', 'message': ""iSCSI: Fix flushing after multipath cfg change\n\nOS-Brick disconnect_volume code assumes that the use_multipath parameter\nthat is used to instantiate the connector has the same value than the\nconnector that was used on the original connect_volume call.\n\nUnfortunately this is not necessarily true, because Nova can attach a\nvolume, then its multipath configuration can be enabled or disabled, and\nthen a detach can be issued.\n\nThis leads to a series of serious issues such as:\n\n- Not flushing the single path on disconnect_volume (possible data loss)\n  and leaving it as a leftover device on the host when Nova calls\n  terminate-connection on Cinder.\n\n- Not flushing the multipath device (possible data loss) and leaving it\n  as a leftover device similarly to the other case.\n\nThis patch changes how we do disconnects, now we assume we are always\ndisconnecting multipaths, and fallback to doing the single path\ndisconnect we used to do if we can't go that route.\n\nThe case when we cannot do a multipathed detach is mostly when we did\nthe connect as a single path and the Cinder driver doesn't provide\nportal_targets and portal_iqns in the connection info for non\nmultipathed initialize-connection calls.\n\nThis changes introduces an additional call when working with single\npaths (checking the discoverydb), but it should be an acceptable\ntrade-off to not lose data.\n\nAlso includes squash to add release note from:\nAdd release note prelude for os-brick 4.4.0\nChange-Id: I0f9e088fbb14ee9a73175aa31bca8c619db5a96f\n\nCloses-Bug: #1921381\nChange-Id: I066d456fb1fe9159d4be50ffd8abf9a6d8d07901\n(cherry picked from commit d4205bd0be60758d40e342d98424488d56e029ef)\n(cherry picked from commit c70d70b24056b81a482de36a8e47757210e2e898)\n(cherry picked from commit 9528ceab4f32cebb700a0b69f2ea58ec101700a1)\n(cherry picked from commit 4894b242cf97f6630ee21392443ddb3ce1be09ef)\n""}]",0,784097,f6531c0c81579c02fa046f3eaf7da8704ceebdd2,24,4,1,10459,,,0,"iSCSI: Fix flushing after multipath cfg change

OS-Brick disconnect_volume code assumes that the use_multipath parameter
that is used to instantiate the connector has the same value than the
connector that was used on the original connect_volume call.

Unfortunately this is not necessarily true, because Nova can attach a
volume, then its multipath configuration can be enabled or disabled, and
then a detach can be issued.

This leads to a series of serious issues such as:

- Not flushing the single path on disconnect_volume (possible data loss)
  and leaving it as a leftover device on the host when Nova calls
  terminate-connection on Cinder.

- Not flushing the multipath device (possible data loss) and leaving it
  as a leftover device similarly to the other case.

This patch changes how we do disconnects, now we assume we are always
disconnecting multipaths, and fallback to doing the single path
disconnect we used to do if we can't go that route.

The case when we cannot do a multipathed detach is mostly when we did
the connect as a single path and the Cinder driver doesn't provide
portal_targets and portal_iqns in the connection info for non
multipathed initialize-connection calls.

This changes introduces an additional call when working with single
paths (checking the discoverydb), but it should be an acceptable
trade-off to not lose data.

Also includes squash to add release note from:
Add release note prelude for os-brick 4.4.0
Change-Id: I0f9e088fbb14ee9a73175aa31bca8c619db5a96f

Closes-Bug: #1921381
Change-Id: I066d456fb1fe9159d4be50ffd8abf9a6d8d07901
(cherry picked from commit d4205bd0be60758d40e342d98424488d56e029ef)
(cherry picked from commit c70d70b24056b81a482de36a8e47757210e2e898)
(cherry picked from commit 9528ceab4f32cebb700a0b69f2ea58ec101700a1)
(cherry picked from commit 4894b242cf97f6630ee21392443ddb3ce1be09ef)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/97/784097/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/wallaby-extra-prelude-d8de88e3e11a7b9f.yaml', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/initiator/connectors/base_iscsi.py', 'releasenotes/notes/disconnect-multipath-cfg-changed-637abc5ecf44fb10.yaml', 'os_brick/exception.py', 'os_brick/tests/initiator/connectors/test_base_iscsi.py', 'os_brick/tests/initiator/connectors/test_iser.py']",10,f6531c0c81579c02fa046f3eaf7da8704ceebdd2,cleanup_connection," iql_mock.assert_called_once_with(self.connection_data, discover=False, is_disconnect_call=False)"," iql_mock.assert_called_once_with(self.connection_data, discover=False)",148,85
openstack%2Fopenstacksdk~master~Ifa3741bafc88901f330bfc81d2d464fd54859dd8,openstack/openstacksdk,master,Ifa3741bafc88901f330bfc81d2d464fd54859dd8,Apply import order in more tests,MERGED,2021-03-17 11:02:49.000000000,2021-04-07 11:56:52.000000000,2021-04-07 11:53:28.000000000,"[{'_account_id': 10239}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-17 11:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4327ef664bb002b1a4c1ac0fa193479ebe126cd4', 'message': 'Apply import order in more tests\n\nRemove corresponding filters from tox.ini\n\nChange-Id: Ifa3741bafc88901f330bfc81d2d464fd54859dd8\n'}, {'number': 2, 'created': '2021-03-25 08:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2baf52d1e6add760802c540ed7a89c8fb4431f0d', 'message': 'Apply import order in more tests\n\nRemove corresponding filters from tox.ini\n\nChange-Id: Ifa3741bafc88901f330bfc81d2d464fd54859dd8\n'}, {'number': 3, 'created': '2021-03-25 14:53:04.000000000', 'files': ['openstack/tests/unit/key_manager/v1/test_order.py', 'openstack/tests/unit/key_manager/v1/test_container.py', 'openstack/tests/unit/object_store/v1/test_proxy.py', 'openstack/tests/unit/database/v1/test_flavor.py', 'openstack/tests/unit/object_store/v1/test_account.py', 'openstack/tests/unit/database/v1/test_database.py', 'openstack/tests/unit/database/v1/test_user.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/768a114c90c2bc2c2c9013e930e565604db84255', 'message': 'Apply import order in more tests\n\nRemove corresponding filters from tox.ini\n\nChange-Id: Ifa3741bafc88901f330bfc81d2d464fd54859dd8\n'}]",0,781078,768a114c90c2bc2c2c9013e930e565604db84255,14,3,3,23851,,,0,"Apply import order in more tests

Remove corresponding filters from tox.ini

Change-Id: Ifa3741bafc88901f330bfc81d2d464fd54859dd8
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/78/781078/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/key_manager/v1/test_order.py', 'openstack/tests/unit/key_manager/v1/test_container.py', 'openstack/tests/unit/object_store/v1/test_proxy.py', 'openstack/tests/unit/database/v1/test_flavor.py', 'openstack/tests/unit/object_store/v1/test_account.py', 'openstack/tests/unit/database/v1/test_database.py', 'openstack/tests/unit/database/v1/test_user.py', 'tox.ini']",8,4327ef664bb002b1a4c1ac0fa193479ebe126cd4,apply-import-order,," openstack/tests/unit/database/*:H306,I100,I201,I202 openstack/tests/unit/key_manager/*:H306,I100,I201,I202 openstack/tests/unit/object_store/*:H306,I100,I201,I202",8,12
openstack%2Fopenstacksdk~master~Iab7d348f85e6f5cbc2fc2e1257a1f8055c049225,openstack/openstacksdk,master,Iab7d348f85e6f5cbc2fc2e1257a1f8055c049225,Fix more import order in tests,MERGED,2021-03-16 15:34:49.000000000,2021-04-07 11:55:44.000000000,2021-04-07 11:53:20.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-03-16 15:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d9189b8d218e202e6668dd8e4c00cd00bca43780', 'message': 'Fix more import order in tests\n\nAdd single filters in tox.ini\n\nChange-Id: Iab7d348f85e6f5cbc2fc2e1257a1f8055c049225\n'}, {'number': 2, 'created': '2021-03-25 08:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0ce68befdd294bcce5ebb48ef9814d1488ffc104', 'message': 'Fix more import order in tests\n\nAdd single filters in tox.ini\n\nChange-Id: Iab7d348f85e6f5cbc2fc2e1257a1f8055c049225\n'}, {'number': 3, 'created': '2021-03-25 14:52:52.000000000', 'files': ['openstack/tests/unit/test_connection.py', 'openstack/tests/unit/test_format.py', 'openstack/tests/unit/test_stats.py', 'openstack/tests/unit/test_utils.py', 'openstack/tests/unit/base.py', 'openstack/tests/unit/test_proxy.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d376c4fc5cc685202505986e8a78550db6ccad2b', 'message': 'Fix more import order in tests\n\nAdd single filters in tox.ini\n\nChange-Id: Iab7d348f85e6f5cbc2fc2e1257a1f8055c049225\n'}]",0,780903,d376c4fc5cc685202505986e8a78550db6ccad2b,18,3,3,23851,,,0,"Fix more import order in tests

Add single filters in tox.ini

Change-Id: Iab7d348f85e6f5cbc2fc2e1257a1f8055c049225
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/03/780903/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/test_connection.py', 'openstack/tests/unit/test_format.py', 'openstack/tests/unit/test_stats.py', 'openstack/tests/unit/test_utils.py', 'openstack/tests/unit/base.py', 'openstack/tests/unit/test_proxy.py', 'tox.ini']",7,d9189b8d218e202e6668dd8e4c00cd00bca43780,apply-import-order," openstack/tests/unit/block_storage/*:H306,I100,I201,I202 openstack/tests/unit/cloud/*:H306,I100,I201,I202 openstack/tests/unit/clustering/*:H306,I100,I201,I202 openstack/tests/unit/orchestration/*:H306,I100,I201,I202 openstack/tests/unit/identity/*:H306,I100,I201,I202 openstack/tests/unit/accelerator/*:H306,I100,I201,I202 openstack/tests/unit/config/*:H306,I100,I201,I202 openstack/tests/unit/workflow/*:H306,I100,I201,I202 openstack/tests/unit/message/*:H306,I100,I201,I202 openstack/tests/unit/load_balancer/*:H306,I100,I201,I202 openstack/tests/unit/baremetal/*:H306,I100,I201,I202 openstack/tests/unit/compute/*:H306,I100,I201,I202 openstack/tests/unit/network/*:H306,I100,I201,I202 openstack/tests/unit/image/*:H306,I100,I201,I202 openstack/tests/unit/dns/*:H306,I100,I201,I202 openstack/tests/unit/database/*:H306,I100,I201,I202 openstack/tests/unit/key_manager/*:H306,I100,I201,I202 openstack/tests/unit/object_store/*:H306,I100,I201,I202"," openstack/tests/unit/*:H306,I100,I201,I202",28,12
openstack%2Fopenstacksdk~master~Icfb869a8283158391756b4f54608adc0f2f4754a,openstack/openstacksdk,master,Icfb869a8283158391756b4f54608adc0f2f4754a,Apply import order in some tests,MERGED,2021-03-16 14:56:41.000000000,2021-04-07 11:52:52.000000000,2021-04-07 11:51:23.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-03-16 14:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e71d65368b6375dcbb1bce9a5e2532d099f30496', 'message': 'Apply import order in some tests\n\nModify the tox.ini filter\n\nChange-Id: Icfb869a8283158391756b4f54608adc0f2f4754a\n'}, {'number': 2, 'created': '2021-03-25 08:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/39cf67a68f84f10fb9168b6bc53bd239c0b60741', 'message': 'Apply import order in some tests\n\nModify the tox.ini filter\n\nChange-Id: Icfb869a8283158391756b4f54608adc0f2f4754a\n'}, {'number': 3, 'created': '2021-03-25 12:51:53.000000000', 'files': ['openstack/tests/fakes.py', 'openstack/tests/functional/cloud/test_inventory.py', 'openstack/tests/functional/cloud/test_clustering.py', 'openstack/tests/functional/examples/test_network.py', 'openstack/tests/functional/examples/test_image.py', 'openstack/tests/functional/cloud/test_services.py', 'openstack/tests/functional/block_storage/v3/test_backup.py', 'openstack/tests/functional/cloud/test_floating_ip.py', 'openstack/tests/base.py', 'openstack/tests/functional/base.py', 'openstack/tests/functional/block_storage/v3/test_capabilities.py', 'openstack/tests/functional/cloud/test_cluster_templates.py', 'openstack/tests/functional/cloud/test_port.py', 'openstack/tests/functional/cloud/test_volume_type.py', 'openstack/tests/functional/examples/test_compute.py', 'openstack/tests/functional/cloud/test_endpoints.py', 'openstack/tests/functional/examples/test_identity.py', 'openstack/tests/functional/identity/v3/test_application_credential.py', 'openstack/tests/functional/network/v2/test_port_forwarding.py', 'tox.ini', 'openstack/tests/functional/block_storage/v2/test_backup.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9bee004a04a53fda2ea3e248e2df87c95d791428', 'message': 'Apply import order in some tests\n\nModify the tox.ini filter\n\nChange-Id: Icfb869a8283158391756b4f54608adc0f2f4754a\n'}]",0,780872,9bee004a04a53fda2ea3e248e2df87c95d791428,16,3,3,23851,,,0,"Apply import order in some tests

Modify the tox.ini filter

Change-Id: Icfb869a8283158391756b4f54608adc0f2f4754a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/72/780872/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/fakes.py', 'openstack/tests/functional/cloud/test_inventory.py', 'openstack/tests/functional/cloud/test_clustering.py', 'openstack/tests/functional/examples/test_network.py', 'openstack/tests/functional/examples/test_image.py', 'openstack/tests/functional/cloud/test_services.py', 'openstack/tests/functional/block_storage/v3/test_backup.py', 'openstack/tests/functional/cloud/test_floating_ip.py', 'openstack/tests/base.py', 'openstack/tests/functional/base.py', 'openstack/tests/functional/cloud/test_cluster_templates.py', 'openstack/tests/functional/cloud/test_port.py', 'openstack/tests/functional/cloud/test_volume_type.py', 'openstack/tests/functional/examples/test_compute.py', 'openstack/tests/functional/cloud/test_endpoints.py', 'openstack/tests/functional/examples/test_identity.py', 'openstack/tests/functional/identity/v3/test_application_credential.py', 'openstack/tests/functional/network/v2/test_port_forwarding.py', 'tox.ini', 'openstack/tests/functional/block_storage/v2/test_backup.py']",20,e71d65368b6375dcbb1bce9a5e2532d099f30496,apply-import-order,from openstack.block_storage.v2 import volume as _volume,from openstack.block_storage.v2 import volume as _volume,29,28
openstack%2Fmonasca-api~stable%2Fwallaby~Ia43a5376b1e3074a70238056831797a21f41f269,openstack/monasca-api,stable/wallaby,Ia43a5376b1e3074a70238056831797a21f41f269,Fix log-metric configuration,MERGED,2021-04-07 09:48:32.000000000,2021-04-07 11:51:00.000000000,2021-04-07 11:49:38.000000000,"[{'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2021-04-07 09:48:32.000000000', 'files': ['devstack/files/monasca-log-metrics/log-metrics.conf'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/b3ce7ec37b5f2bf980e5be0979c5b7a8d2fe4170', 'message': 'Fix log-metric configuration\n\nFix incorrect if condition in log-metrics logstash configuration,\nold if is no working with current version of logstash.\n\nChange-Id: Ia43a5376b1e3074a70238056831797a21f41f269\n(cherry picked from commit 1b5cd302989238114da08a82e4efc0b1ff76ac05)\n'}]",0,785118,b3ce7ec37b5f2bf980e5be0979c5b7a8d2fe4170,7,2,1,28062,,,0,"Fix log-metric configuration

Fix incorrect if condition in log-metrics logstash configuration,
old if is no working with current version of logstash.

Change-Id: Ia43a5376b1e3074a70238056831797a21f41f269
(cherry picked from commit 1b5cd302989238114da08a82e4efc0b1ff76ac05)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/18/785118/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/files/monasca-log-metrics/log-metrics.conf'],1,b3ce7ec37b5f2bf980e5be0979c5b7a8d2fe4170,, if ![log][level] {," if ""level"" not in [log] {",1,1
openstack%2Fpuppet-heat~stable%2Ftrain~I92552d013db98b972124db901f3f35a326110846,openstack/puppet-heat,stable/train,I92552d013db98b972124db901f3f35a326110846,Add TLS options to oslo.cache,MERGED,2021-04-01 09:01:34.000000000,2021-04-07 11:47:16.000000000,2021-04-07 11:45:54.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-04-01 09:01:34.000000000', 'files': ['spec/classes/heat_cache_spec.rb', 'manifests/cache.pp', 'releasenotes/notes/add_tls_options-e126a2206f028366.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/fa3eac07264bdb094caacfaa925adacf8e095e71', 'message': 'Add TLS options to oslo.cache\n\nThis patch specifies a set of options required to build a TLS context.\nThe context built from those options can later on be passed to any of\nthe oslo.cache backends that supports TLS connections.\n\nDepends-on: https://review.opendev.org/774120\nChange-Id: I92552d013db98b972124db901f3f35a326110846\n(cherry picked from commit 42d1e8567d7441633ac9770c9301d8c5e5c0acd1)\n'}]",0,784211,fa3eac07264bdb094caacfaa925adacf8e095e71,13,6,1,14250,,,0,"Add TLS options to oslo.cache

This patch specifies a set of options required to build a TLS context.
The context built from those options can later on be passed to any of
the oslo.cache backends that supports TLS connections.

Depends-on: https://review.opendev.org/774120
Change-Id: I92552d013db98b972124db901f3f35a326110846
(cherry picked from commit 42d1e8567d7441633ac9770c9301d8c5e5c0acd1)
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/11/784211/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/heat_cache_spec.rb', 'manifests/cache.pp', 'releasenotes/notes/add_tls_options-e126a2206f028366.yaml']",3,fa3eac07264bdb094caacfaa925adacf8e095e71,memcached-cert-stable/train,--- features: - | Add TLS options to oslo.cache ,,62,0
openstack%2Fmanila~master~I13d13c38a3869929bbfdf8083529a597d7982a16,openstack/manila,master,I13d13c38a3869929bbfdf8083529a597d7982a16,Add api reference for share server migration,MERGED,2020-10-05 18:14:15.000000000,2021-04-07 11:35:04.000000000,2021-04-07 11:33:44.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-10-05 18:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1ad6c3af55ee7a85fea92f2944cea30641d5010e', 'message': 'Add api reference for share server migration\n\nAdd documentation to the share server migration APIs introduced\nduring Victoria release.\n\nPartial-bug: #1897903\n\nChange-Id: I13d13c38a3869929bbfdf8083529a597d7982a16\n'}, {'number': 2, 'created': '2020-10-06 12:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/114ebec2d08d7a6e7c7ed7334f31add8ff3bd85f', 'message': 'Add api reference for share server migration\n\nAdd documentation to the share server migration APIs introduced\nduring Victoria release.\n\nPartial-bug: #1897903\n\nChange-Id: I13d13c38a3869929bbfdf8083529a597d7982a16\n'}, {'number': 3, 'created': '2021-01-06 12:04:52.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/samples/share-server-migration-start-request.json', 'api-ref/source/samples/share-server-migration-check-compatibility-request.json', 'api-ref/source/index.rst', 'api-ref/source/samples/share-server-migration-complete-response.json', 'api-ref/source/samples/share-server-migration-get-progress-response.json', 'api-ref/source/share-server-migration.inc', 'api-ref/source/samples/share-server-migration-get-progress-request.json', 'api-ref/source/samples/share-server-migration-check-compatibility-response.json', 'api-ref/source/samples/share-server-migration-cancel-request.json', 'api-ref/source/samples/share-server-migration-complete-request.json'], 'web_link': 'https://opendev.org/openstack/manila/commit/256c18d6c22df5b1853d47b26a3f45fbbc44c8c4', 'message': 'Add api reference for share server migration\n\nAdd documentation to the share server migration APIs introduced\nduring Victoria release.\n\nPartial-bug: #1897903\n\nChange-Id: I13d13c38a3869929bbfdf8083529a597d7982a16\n'}]",12,756144,256c18d6c22df5b1853d47b26a3f45fbbc44c8c4,28,7,3,29632,,,0,"Add api reference for share server migration

Add documentation to the share server migration APIs introduced
during Victoria release.

Partial-bug: #1897903

Change-Id: I13d13c38a3869929bbfdf8083529a597d7982a16
",git fetch https://review.opendev.org/openstack/manila refs/changes/44/756144/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/samples/share-server-migration-start-request.json', 'api-ref/source/samples/share-server-migration-check-compatibility-request.json', 'api-ref/source/index.rst', 'api-ref/source/samples/share-server-migration-complete-response.json', 'api-ref/source/samples/share-server-migration-get-progress-response.json', 'api-ref/source/share-server-migration.inc', 'api-ref/source/samples/share-server-migration-get-progress-request.json', 'api-ref/source/samples/share-server-migration-check-compatibility-response.json', 'api-ref/source/samples/share-server-migration-cancel-request.json', 'api-ref/source/samples/share-server-migration-complete-request.json']",11,1ad6c3af55ee7a85fea92f2944cea30641d5010e,bug/1897903,"{ ""migration_complete"": null }",,442,0
openstack%2Ftripleo-heat-templates~master~I61850fa01afca92aa78412e0277180596633f858,openstack/tripleo-heat-templates,master,I61850fa01afca92aa78412e0277180596633f858,[update][upgrade] Use container-tools:3.0,MERGED,2021-03-19 17:20:58.000000000,2021-04-07 11:34:19.000000000,2021-04-07 11:34:19.000000000,"[{'_account_id': 6816}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 17823}, {'_account_id': 22318}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-03-19 17:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/21deea6a9c80346aa4e9fe1620b9640e09e9a620', 'message': '[update][upgrade] Use container-tools:3.0\n\nWe now need to move forward and pin the newer\ncontainer-tools:3.0 stream. This will be available\non RHEL 8.4 and CentOS 8.4+.\n\nRelated: rhbz#1866479\n\nChange-Id: I61850fa01afca92aa78412e0277180596633f858\n'}, {'number': 2, 'created': '2021-04-06 11:06:53.000000000', 'files': ['environments/lifecycle/undercloud-upgrade-prepare.yaml', 'environments/lifecycle/update-prepare.yaml', 'environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90984500766aaa3538dcd6dae282298aff5b043b', 'message': '[update][upgrade] Use container-tools:3.0\n\nWe now need to move forward and pin the newer\ncontainer-tools:3.0 stream. This will be available\non RHEL 8.4 and CentOS 8.4+.\n\nRelated: rhbz#1866479\n\nChange-Id: I61850fa01afca92aa78412e0277180596633f858\n'}]",0,781828,90984500766aaa3538dcd6dae282298aff5b043b,22,12,2,6816,,,0,"[update][upgrade] Use container-tools:3.0

We now need to move forward and pin the newer
container-tools:3.0 stream. This will be available
on RHEL 8.4 and CentOS 8.4+.

Related: rhbz#1866479

Change-Id: I61850fa01afca92aa78412e0277180596633f858
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/781828/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/lifecycle/undercloud-upgrade-prepare.yaml', 'environments/lifecycle/update-prepare.yaml', 'environments/lifecycle/upgrade-prepare.yaml']",3,21deea6a9c80346aa4e9fe1620b9640e09e9a620,update-container-tools," DnfStreams: [{'module':'container-tools', 'stream':'3.0'}]"," DnfStreams: [{'module':'container-tools', 'stream':'2.0'}]",3,3
openstack%2Ftripleo-ci~master~Ib7d4bde73d3206b96b43a8f3ef2a78882cddf855,openstack/tripleo-ci,master,Ib7d4bde73d3206b96b43a8f3ef2a78882cddf855,Add wallaby support for emit_releases_file.py,MERGED,2021-03-29 11:19:00.000000000,2021-04-07 11:26:29.000000000,2021-04-07 11:26:29.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 31075}]","[{'number': 1, 'created': '2021-03-29 11:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0c89fb255c08f4632452ba95c0d5315bfd8b6f1f', 'message': 'Add wallaby support for emit_releases_file.py\n\nAdds wallaby into the emit releases script\n\nChange-Id: Ib7d4bde73d3206b96b43a8f3ef2a78882cddf855\n'}, {'number': 2, 'created': '2021-03-29 11:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/054cf48fcf831527d24cc089161f752a40c03a0a', 'message': 'Add wallaby support for emit_releases_file.py\n\nAdds wallaby into the emit releases script. Similar to https://review.opendev.org/c/openstack/tripleo-ci/+/757861 which was for victoria.\n\nChange-Id: Ib7d4bde73d3206b96b43a8f3ef2a78882cddf855\n'}, {'number': 3, 'created': '2021-03-29 11:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ae752d74a01c3263b3f32c9792147ec7e0d5a4c2', 'message': 'Add wallaby support for emit_releases_file.py\n\nAdds wallaby into the emit releases script. Similar to https://review.opendev.org/c/openstack/tripleo-ci/+/757861 which was for victoria.\n\nChange-Id: Ib7d4bde73d3206b96b43a8f3ef2a78882cddf855\n'}, {'number': 4, 'created': '2021-03-30 12:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/61f69c726d173bafc80ccbdc45c678e324ef0f8b', 'message': 'Add wallaby support for emit_releases_file.py\n\nAdds wallaby into the emit releases script. Similar to https://review.opendev.org/c/openstack/tripleo-ci/+/757861 which was for victoria.\n\nChange-Id: Ib7d4bde73d3206b96b43a8f3ef2a78882cddf855\n'}, {'number': 5, 'created': '2021-03-30 12:58:44.000000000', 'files': ['scripts/emit_releases_file/test_release_name.py', 'scripts/emit_releases_file/emit_releases_file.py', 'scripts/oooq_common_functions.sh', 'roles/run-test/templates/oooq_common_functions.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f14bb680fbb016fd4dbed4ae50e65a8fb55b24c9', 'message': 'Add wallaby support for emit_releases_file.py\n\nAdds wallaby into the emit releases script. Similar to https://review.opendev.org/c/openstack/tripleo-ci/+/757861 which was for victoria.\n\nChange-Id: Ib7d4bde73d3206b96b43a8f3ef2a78882cddf855\n'}]",7,783638,f14bb680fbb016fd4dbed4ae50e65a8fb55b24c9,23,7,5,32458,,,0,"Add wallaby support for emit_releases_file.py

Adds wallaby into the emit releases script. Similar to https://review.opendev.org/c/openstack/tripleo-ci/+/757861 which was for victoria.

Change-Id: Ib7d4bde73d3206b96b43a8f3ef2a78882cddf855
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/38/783638/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/emit_releases_file/test_release_name.py', 'scripts/emit_releases_file/emit_releases_file.py', 'scripts/oooq_common_functions.sh', 'roles/run-test/templates/oooq_common_functions.sh.j2']",4,0c89fb255c08f4632452ba95c0d5315bfd8b6f1f,wallaby-branching," echo ""wallaby"" ;; wallaby|promotion-testing-hash-wallaby)",,153,13
openstack%2Ftripleo-common~stable%2Fussuri~I19c1d166ca72465fd4ae3dad46de77bb095f73d4,openstack/tripleo-common,stable/ussuri,I19c1d166ca72465fd4ae3dad46de77bb095f73d4,Don't allow rotation of HeatAuthEncryptionKey,MERGED,2021-03-20 03:41:15.000000000,2021-04-07 11:08:05.000000000,2021-04-07 11:05:59.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-20 03:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/865fd0513024eb22bc6be66e2eeea23609a82947', 'message': ""Don't allow rotation of HeatAuthEncryptionKey\n\nHeat does not support rotation of auth_encryption_key\nfor existing deployments with heat stacks. Once this\nkey has been rotated exisiting stacks can't be updated\nor even deleted. Let's not allow them to be changed.\n\nChange-Id: I19c1d166ca72465fd4ae3dad46de77bb095f73d4\n(cherry picked from commit 5db2ab20405a3406f208e56dfec0493e93aa0029)\n""}, {'number': 2, 'created': '2021-04-07 03:50:35.000000000', 'files': ['tripleo_common/constants.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9187e2e1b44886a04d6559d6d27eebd0c507d9fc', 'message': ""Don't allow rotation of HeatAuthEncryptionKey\n\nHeat does not support rotation of auth_encryption_key\nfor existing deployments with heat stacks. Once this\nkey has been rotated exisiting stacks can't be updated\nor even deleted. Let's not allow them to be changed.\n\nChange-Id: I19c1d166ca72465fd4ae3dad46de77bb095f73d4\n(cherry picked from commit 5db2ab20405a3406f208e56dfec0493e93aa0029)\n""}]",0,781936,9187e2e1b44886a04d6559d6d27eebd0c507d9fc,31,4,2,8833,,,0,"Don't allow rotation of HeatAuthEncryptionKey

Heat does not support rotation of auth_encryption_key
for existing deployments with heat stacks. Once this
key has been rotated exisiting stacks can't be updated
or even deleted. Let's not allow them to be changed.

Change-Id: I19c1d166ca72465fd4ae3dad46de77bb095f73d4
(cherry picked from commit 5db2ab20405a3406f208e56dfec0493e93aa0029)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/36/781936/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/constants.py'],1,865fd0513024eb22bc6be66e2eeea23609a82947,," 'HeatAuthEncryptionKey',",,1,0
openstack%2Fvalidations-common~master~I5c5a473bda9134d72c01eb4aea22452ebfb85fe5,openstack/validations-common,master,I5c5a473bda9134d72c01eb4aea22452ebfb85fe5,Cover report omits test files,MERGED,2021-03-16 14:01:04.000000000,2021-04-07 11:06:32.000000000,2021-04-07 11:06:32.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-16 14:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2f944cd3796f4f286004341841aff60c59024933', 'message': 'Cover report omits test files\n\nCoverage report previously included information about\nfiles used by unit tests. Which distorted the statistics\nin a considerable fashion.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5c5a473bda9134d72c01eb4aea22452ebfb85fe5\n'}, {'number': 2, 'created': '2021-03-24 07:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/177172b2be836567e96571a6d618fb7827d99099', 'message': 'Cover report omits test files\n\nCoverage report previously included information about\nfiles used by unit tests. Which distorted the statistics\nin a considerable fashion.\n\nKeeping the setting in the .coveragerc is a better option.\nAlso fixes wrong source path in .coveragerc.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5c5a473bda9134d72c01eb4aea22452ebfb85fe5\n'}, {'number': 3, 'created': '2021-04-06 13:34:35.000000000', 'files': ['.coveragerc', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/caeb26b1f5c89d1fc1879bb895c350e2f2dc96e4', 'message': 'Cover report omits test files\n\nCoverage report previously included information about\nfiles used by unit tests. Which distorted the statistics\nin a considerable fashion.\n\nKeeping the setting in the .coveragerc is a better option.\nAlso fixes wrong source path in .coveragerc.\n\nCloses-bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5c5a473bda9134d72c01eb4aea22452ebfb85fe5\n'}]",0,780853,caeb26b1f5c89d1fc1879bb895c350e2f2dc96e4,15,6,3,32926,,,0,"Cover report omits test files

Coverage report previously included information about
files used by unit tests. Which distorted the statistics
in a considerable fashion.

Keeping the setting in the .coveragerc is a better option.
Also fixes wrong source path in .coveragerc.

Closes-bug: #1922726

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I5c5a473bda9134d72c01eb4aea22452ebfb85fe5
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/53/780853/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2f944cd3796f4f286004341841aff60c59024933,cover/ingoretests, PYTHON=coverage run --source validations_common --parallel-mode --branch --omit=*/tests/*, PYTHON=coverage run --source validations_common --parallel-mode --branch,1,1
openstack%2Ftripleo-heat-templates~master~If0eedff9515f25740ac026e8d356d007da11a19d,openstack/tripleo-heat-templates,master,If0eedff9515f25740ac026e8d356d007da11a19d,Add parameter to set iscsid CHAP algorithms,MERGED,2021-03-01 22:59:47.000000000,2021-04-07 11:06:05.000000000,2021-04-07 11:06:05.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-01 22:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d66b653b1b636c454e319b28442bd7cf42d3469', 'message': 'Add parameter to set CHAP algorithms\n\nBy default, iscsid uses md5 for CHAP negotiation.  This will not\nwork for FIPS enabled systems.  Add a parameter to allow the\nalgorithm list to be set explicitly.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778081\nChange-Id: If0eedff9515f25740ac026e8d356d007da11a19d\n'}, {'number': 2, 'created': '2021-03-17 16:31:32.000000000', 'files': ['deployment/iscsid/iscsid-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af4d2383873ca77d621b3306c0bde8485a1e5629', 'message': 'Add parameter to set iscsid CHAP algorithms\n\nBy default, iscsid uses md5 for CHAP negotiation.  This will not\nwork for FIPS enabled systems.  Add a parameter to allow the\nalgorithm list to be set explicitly.\n\nCo-Authored-By: Alan Bishop <abishop@redhat.com>\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778081\nChange-Id: If0eedff9515f25740ac026e8d356d007da11a19d\n'}]",4,778089,af4d2383873ca77d621b3306c0bde8485a1e5629,35,9,2,9914,,,0,"Add parameter to set iscsid CHAP algorithms

By default, iscsid uses md5 for CHAP negotiation.  This will not
work for FIPS enabled systems.  Add a parameter to allow the
algorithm list to be set explicitly.

Co-Authored-By: Alan Bishop <abishop@redhat.com>
Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/778081
Change-Id: If0eedff9515f25740ac026e8d356d007da11a19d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/778089/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/iscsid/iscsid-container-puppet.yaml'],1,7d66b653b1b636c454e319b28442bd7cf42d3469,disable_md5_for_iscsid, CHAPAlgorithms: default: '' description: A comma separated list of algorithms to be used for the CHAP algorithm. Not setting this will default to the default algorithms. type: string config_settings: tripleo::profile::base::iscsid::chap_algs: {get_param: CHAPAlgorithms} , config_settings: {},9,1
openstack%2Fopenstacksdk~master~Ief3c3981a039b3ae38eeaeccd1fb70e974c94082,openstack/openstacksdk,master,Ief3c3981a039b3ae38eeaeccd1fb70e974c94082,Avoid prometheus metrics explosion,MERGED,2021-04-06 10:16:29.000000000,2021-04-07 10:56:52.000000000,2021-04-07 10:55:05.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-06 10:16:29.000000000', 'files': ['openstack/proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3f2034832bef5084e67afb96816f599b765a6cd5', 'message': 'Avoid prometheus metrics explosion\n\nOpenstacksdk reports metrics for prometheus and adds an endpoint-label\ncontaining the full url of every request. In case the endpoints\ncontain query strings this can easily cause metric explosion. To fix\nthis we can parse the url and strip the query string.\n\nChange-Id: Ief3c3981a039b3ae38eeaeccd1fb70e974c94082\n'}]",0,784912,3f2034832bef5084e67afb96816f599b765a6cd5,12,3,1,16068,,,0,"Avoid prometheus metrics explosion

Openstacksdk reports metrics for prometheus and adds an endpoint-label
containing the full url of every request. In case the endpoints
contain query strings this can easily cause metric explosion. To fix
this we can parse the url and strip the query string.

Change-Id: Ief3c3981a039b3ae38eeaeccd1fb70e974c94082
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/12/784912/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/proxy.py'],1,3f2034832bef5084e67afb96816f599b765a6cd5,,"from urllib.parse import urlparse parsed_url = urlparse(url) endpoint = ""{}://{}{}"".format( parsed_url.scheme, parsed_url.netloc, parsed_url.path) endpoint=endpoint,"," endpoint=url,",5,1
openstack%2Fmonasca-api~stable%2Fussuri~Ia43a5376b1e3074a70238056831797a21f41f269,openstack/monasca-api,stable/ussuri,Ia43a5376b1e3074a70238056831797a21f41f269,Fix log-metric configuration,MERGED,2021-04-06 21:35:00.000000000,2021-04-07 10:54:57.000000000,2021-04-07 10:53:39.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-06 21:35:00.000000000', 'files': ['devstack/files/monasca-log-metrics/log-metrics.conf'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/b43809ca40ec6f2d1a051458d2300afbf872802f', 'message': 'Fix log-metric configuration\n\nFix incorrect if condition in log-metrics logstash configuration,\nold if is no working with current version of logstash.\n\nChange-Id: Ia43a5376b1e3074a70238056831797a21f41f269\n(cherry picked from commit 1b5cd302989238114da08a82e4efc0b1ff76ac05)\n'}]",0,784986,b43809ca40ec6f2d1a051458d2300afbf872802f,7,2,1,26141,,,0,"Fix log-metric configuration

Fix incorrect if condition in log-metrics logstash configuration,
old if is no working with current version of logstash.

Change-Id: Ia43a5376b1e3074a70238056831797a21f41f269
(cherry picked from commit 1b5cd302989238114da08a82e4efc0b1ff76ac05)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/86/784986/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/files/monasca-log-metrics/log-metrics.conf'],1,b43809ca40ec6f2d1a051458d2300afbf872802f,, if ![log][level] {," if ""level"" not in [log] {",1,1
openstack%2Fmonasca-api~stable%2Fvictoria~Ia43a5376b1e3074a70238056831797a21f41f269,openstack/monasca-api,stable/victoria,Ia43a5376b1e3074a70238056831797a21f41f269,Fix log-metric configuration,MERGED,2021-04-06 21:34:41.000000000,2021-04-07 10:54:55.000000000,2021-04-07 10:53:36.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2021-04-06 21:34:41.000000000', 'files': ['devstack/files/monasca-log-metrics/log-metrics.conf'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/67ac39dfb05c99a1ce7909df48f9ba4a51cd3724', 'message': 'Fix log-metric configuration\n\nFix incorrect if condition in log-metrics logstash configuration,\nold if is no working with current version of logstash.\n\nChange-Id: Ia43a5376b1e3074a70238056831797a21f41f269\n(cherry picked from commit 1b5cd302989238114da08a82e4efc0b1ff76ac05)\n'}]",0,784985,67ac39dfb05c99a1ce7909df48f9ba4a51cd3724,7,2,1,26141,,,0,"Fix log-metric configuration

Fix incorrect if condition in log-metrics logstash configuration,
old if is no working with current version of logstash.

Change-Id: Ia43a5376b1e3074a70238056831797a21f41f269
(cherry picked from commit 1b5cd302989238114da08a82e4efc0b1ff76ac05)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/85/784985/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/files/monasca-log-metrics/log-metrics.conf'],1,67ac39dfb05c99a1ce7909df48f9ba4a51cd3724,, if ![log][level] {," if ""level"" not in [log] {",1,1
openstack%2Fpuppet-keystone~master~I7df39cd3ab18967946afb2954cfa9afd8aa46d72,openstack/puppet-keystone,master,I7df39cd3ab18967946afb2954cfa9afd8aa46d72,Add support for keystone_uwsgi_config in Debian,MERGED,2021-03-16 16:03:56.000000000,2021-04-07 10:47:24.000000000,2021-04-07 10:45:57.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-16 16:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/721396def738658861e619323384c7d780f09c65', 'message': 'Add support of number of workers in Debian\n\nThis patch is adding the configuration of the number of workers in Debian\nwhich uses uwsgi to run Keystone. Therefore, this patch adds a new\nkeystone_uwsgi_config provider.\n\nThis is, hopefully, the first of a long series of patches for the whole\npuppet-openstack to add uwsgi support.\n\nChange-Id: I7df39cd3ab18967946afb2954cfa9afd8aa46d72\n'}, {'number': 2, 'created': '2021-03-17 10:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f147e4109fa39a4f835077d4b1a508b9e88a94bb', 'message': 'Add support of number of workers in Debian\n\nThis patch is adding the configuration of the number of workers, threads,\nand the size of the listen queue in Debian, which uses uwsgi to run\nKeystone. Therefore, this patch adds a new keystone_uwsgi_config provider\nas well as a new ::keystone::wsgi::uwsgi class.\n\nThis is, hopefully, the first of a long series of patches for the whole\npuppet-openstack to add uwsgi support.\n\nChange-Id: I7df39cd3ab18967946afb2954cfa9afd8aa46d72\n'}, {'number': 3, 'created': '2021-03-17 10:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/c04b6193bd1876215ef5ce2f1846f2f585da543f', 'message': 'Add support of number of workers in Debian\n\nThis patch is adding the configuration of the number of workers, threads,\nand the size of the listen queue in Debian, which uses uwsgi to run\nKeystone. Therefore, this patch adds a new keystone_uwsgi_config provider\nas well as a new ::keystone::wsgi::uwsgi class.\n\nThis is, hopefully, the first of a long series of patches for the whole\npuppet-openstack to add uwsgi support.\n\nChange-Id: I7df39cd3ab18967946afb2954cfa9afd8aa46d72\n'}, {'number': 4, 'created': '2021-03-18 07:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/5dd8794335ca2b26cb041bfc0bb64054adbf6e93', 'message': 'Add support for keystone_uwsgi_config in Debian\n\nThis patch is adding the configuration of the number of workers, threads,\nand the size of the listen queue in Debian, which uses uwsgi to run\nKeystone. Therefore, this patch adds a new keystone_uwsgi_config provider\nas well as a new ::keystone::wsgi::uwsgi class.\n\nThis is, hopefully, the first of a long series of patches for the whole\npuppet-openstack to add uwsgi support.\n\nChange-Id: I7df39cd3ab18967946afb2954cfa9afd8aa46d72\n'}, {'number': 5, 'created': '2021-03-18 12:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4f3a33582776bca45aa231ac6886b147dcd3759e', 'message': 'Add support for keystone_uwsgi_config in Debian\n\nThis patch is adding the configuration of the number of workers, threads,\nand the size of the listen queue in Debian, which uses uwsgi to run\nKeystone. Therefore, this patch adds a new keystone_uwsgi_config provider\nas well as a new ::keystone::wsgi::uwsgi class.\n\nThis is, hopefully, the first of a long series of patches for the whole\npuppet-openstack to add uwsgi support.\n\nChange-Id: I7df39cd3ab18967946afb2954cfa9afd8aa46d72\n'}, {'number': 6, 'created': '2021-03-23 08:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/aa96b614b8d00b35ac39951d863b4fed104880b8', 'message': 'Add support for keystone_uwsgi_config in Debian\n\nThis patch is adding the configuration of the number of workers, threads,\nand the size of the listen queue in Debian, which uses uwsgi to run\nKeystone. Therefore, this patch adds a new keystone_uwsgi_config provider\nas well as a new ::keystone::wsgi::uwsgi class.\n\nThis is, hopefully, the first of a long series of patches for the whole\npuppet-openstack to add uwsgi support.\n\nChange-Id: I7df39cd3ab18967946afb2954cfa9afd8aa46d72\n'}, {'number': 7, 'created': '2021-03-23 22:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/1e989bc03550422ffeea6c8ec228edf0b5b9c7cd', 'message': 'Add support for keystone_uwsgi_config in Debian\n\nThis patch is adding the configuration of the number of workers, threads,\nand the size of the listen queue in Debian, which uses uwsgi to run\nKeystone. Therefore, this patch adds a new keystone_uwsgi_config provider\nas well as a new ::keystone::wsgi::uwsgi class.\n\nThis is, hopefully, the first of a long series of patches for the whole\npuppet-openstack to add uwsgi support.\n\nChange-Id: I7df39cd3ab18967946afb2954cfa9afd8aa46d72\n'}, {'number': 8, 'created': '2021-03-25 11:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/20fefb587527bf78f0b6761e60562a6deb2eaf9d', 'message': 'Add support for keystone_uwsgi_config in Debian\n\nThis patch is adding the configuration of the number of workers, threads,\nand the size of the listen queue in Debian, which uses uwsgi to run\nKeystone. Therefore, this patch adds a new keystone_uwsgi_config provider\nas well as a new ::keystone::wsgi::uwsgi class.\n\nThis is, hopefully, the first of a long series of patches for the whole\npuppet-openstack to add uwsgi support.\n\nChange-Id: I7df39cd3ab18967946afb2954cfa9afd8aa46d72\n'}, {'number': 9, 'created': '2021-03-25 16:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/504f27726e5602bb546b024c0b04c2eaa322e523', 'message': 'Add support for keystone_uwsgi_config in Debian\n\nThis patch is adding the configuration of the number of workers,\nthreads, and the size of the listen queue in Debian, which uses\nuwsgi to run Keystone. Therefore, this patch adds a new\nkeystone_uwsgi_config provider as well as a new\n::keystone::wsgi::uwsgi class.\n\nThis is, hopefully, the first of a long series of patches for\nthe whole puppet-openstack to add uwsgi support.\n\nChange-Id: I7df39cd3ab18967946afb2954cfa9afd8aa46d72\n'}, {'number': 10, 'created': '2021-03-29 09:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/7a12d264271ed43e9899dd3a0ea59a61b4436897', 'message': 'Add support for keystone_uwsgi_config in Debian\n\nThis patch is adding the configuration of the number of workers,\nthreads, and the size of the listen queue in Debian, which uses\nuwsgi to run Keystone. Therefore, this patch adds a new\nkeystone_uwsgi_config provider as well as a new\n::keystone::wsgi::uwsgi class.\n\nThis is, hopefully, the first of a long series of patches for\nthe whole puppet-openstack to add uwsgi support.\n\nChange-Id: I7df39cd3ab18967946afb2954cfa9afd8aa46d72\n'}, {'number': 11, 'created': '2021-03-29 13:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/48aaea8b680c46eb2d49bbc3fb02e3d5c197fa3a', 'message': 'Add support for keystone_uwsgi_config in Debian\n\nThis patch is adding the configuration of the number of workers,\nthreads, and the size of the listen queue in Debian, which uses\nuwsgi to run Keystone. Therefore, this patch adds a new\nkeystone_uwsgi_config provider as well as a new\n::keystone::wsgi::uwsgi class.\n\nThis is, hopefully, the first of a long series of patches for\nthe whole puppet-openstack to add uwsgi support.\n\nChange-Id: I7df39cd3ab18967946afb2954cfa9afd8aa46d72\n'}, {'number': 12, 'created': '2021-03-30 11:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/c14dbddec16276f9cf5a253736d791983bd3dbd8', 'message': 'Add support for keystone_uwsgi_config in Debian\n\nThis patch is adding the configuration of the number of workers,\nthreads, and the size of the listen queue in Debian, which uses\nuwsgi to run Keystone. Therefore, this patch adds a new\nkeystone_uwsgi_config provider as well as a new\n::keystone::wsgi::uwsgi class.\n\nThis is, hopefully, the first of a long series of patches for\nthe whole puppet-openstack to add uwsgi support.\n\nChange-Id: I7df39cd3ab18967946afb2954cfa9afd8aa46d72\n'}, {'number': 13, 'created': '2021-03-31 09:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/b6a1c611fe22639dc6da086690e9c42aec3aa878', 'message': 'Add support for keystone_uwsgi_config in Debian\n\nThis patch is adding the configuration of the number of workers,\nthreads, and the size of the listen queue in Debian, which uses\nuwsgi to run Keystone. Therefore, this patch adds a new\nkeystone_uwsgi_config provider as well as a new\n::keystone::wsgi::uwsgi class.\n\nThis is, hopefully, the first of a long series of patches for\nthe whole puppet-openstack to add uwsgi support.\n\nChange-Id: I7df39cd3ab18967946afb2954cfa9afd8aa46d72\n'}, {'number': 14, 'created': '2021-04-06 11:43:29.000000000', 'files': ['spec/classes/keystone_wsgi_uwsgi_spec.rb', 'manifests/wsgi/uwsgi.pp', 'lib/puppet/type/keystone_uwsgi_config.rb', 'manifests/deps.pp', 'spec/unit/provider/keystone_uwsgi_config/ini_setting_spec.rb', 'releasenotes/notes/uwsgi-0ba5d20114a3d054.yaml', 'spec/unit/type/keystone_uwsgi_config_spec.rb', 'lib/puppet/provider/keystone_uwsgi_config/ini_setting.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4fc3eb01e528095692d56d16a3f5aacc7e5aec2d', 'message': 'Add support for keystone_uwsgi_config in Debian\n\nThis patch is adding the configuration of the number of workers,\nthreads, and the size of the listen queue in Debian, which uses\nuwsgi to run Keystone. Therefore, this patch adds a new\nkeystone_uwsgi_config provider as well as a new keystone::wsgi::uwsgi\nclass.\n\nThis is, hopefully, the first of a long series of patches for\nthe whole puppet-openstack to add uwsgi support.\n\nChange-Id: I7df39cd3ab18967946afb2954cfa9afd8aa46d72\n'}]",21,780918,4fc3eb01e528095692d56d16a3f5aacc7e5aec2d,57,5,14,6476,,,0,"Add support for keystone_uwsgi_config in Debian

This patch is adding the configuration of the number of workers,
threads, and the size of the listen queue in Debian, which uses
uwsgi to run Keystone. Therefore, this patch adds a new
keystone_uwsgi_config provider as well as a new keystone::wsgi::uwsgi
class.

This is, hopefully, the first of a long series of patches for
the whole puppet-openstack to add uwsgi support.

Change-Id: I7df39cd3ab18967946afb2954cfa9afd8aa46d72
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/18/780918/8 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'lib/puppet/type/keystone_uwsgi_config.rb', 'lib/puppet/provider/keystone_uwsgi_config/ini_setting.rb']",3,721396def738658861e619323384c7d780f09c65,debian-uwsgi-config,"Puppet::Type.type(:keystone_uwsgi_config).provide( :ini_setting, :parent => Puppet::Type.type(:openstack_config).provider(:ini_setting) ) do def self.file_path '/etc/keystone/keystone-uwsgi.ini' end end ",,35,0
openstack%2Fkolla-ansible~master~Ifed4d9f7ee6f088ebb4c7f84e4d1587c21f4b191,openstack/kolla-ansible,master,Ifed4d9f7ee6f088ebb4c7f84e4d1587c21f4b191,Update Monasca image build instructions,ABANDONED,2019-02-04 15:32:45.000000000,2021-04-07 10:41:25.000000000,,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23717}]","[{'number': 1, 'created': '2019-02-04 15:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/362a60c51ed9b616f9907c5b6097c780ca30d72f', 'message': 'Update Monasca image build instructions\n\nThe commit this depends on removes the Monasca Fluentd\nplugin from the binary image. We therefore need to update\nthe instructions so that the user builds a source type\nFluentd image.\n\nDepends-On: https://review.openstack.org/#/c/634019/\nChange-Id: Ifed4d9f7ee6f088ebb4c7f84e4d1587c21f4b191\n'}, {'number': 2, 'created': '2019-02-05 10:32:10.000000000', 'files': ['ansible/roles/common/defaults/main.yml', 'doc/source/reference/logging-and-monitoring/monasca-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac926688359089a2276256f92f754d8dac742316', 'message': 'Update Monasca image build instructions\n\nThe commit this depends on removes the Monasca Fluentd\nplugin from the binary image. We therefore need to update\nthe instructions so that the user builds a source type\nFluentd image.\n\nDepends-On: https://review.openstack.org/#/c/634019/\nChange-Id: Ifed4d9f7ee6f088ebb4c7f84e4d1587c21f4b191\n'}]",2,634719,ac926688359089a2276256f92f754d8dac742316,18,5,2,17669,,,0,"Update Monasca image build instructions

The commit this depends on removes the Monasca Fluentd
plugin from the binary image. We therefore need to update
the instructions so that the user builds a source type
Fluentd image.

Depends-On: https://review.openstack.org/#/c/634019/
Change-Id: Ifed4d9f7ee6f088ebb4c7f84e4d1587c21f4b191
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/634719/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/logging-and-monitoring/monasca-guide.rst'],1,362a60c51ed9b616f9907c5b6097c780ca30d72f,restrict-pkg-binary-distro,"them manually you can use the following commands (note that Monasca is currently only supported in source type image builds, and that a source type image for Fluentd must be built to install the Monasca plugin): $ kolla-build -t source monasca fluentd $ kolla-build cron chrony mariadb kolla-toolbox keystone memcached keepalived haproxy",them manually you can use the following commands: $ kolla-build -t source monasca $ kolla-build cron chrony fluentd mariadb kolla-toolbox keystone memcached keepalived haproxy,5,3
openstack%2Fkolla-ansible~master~I3a4195261220c88b9f23678bbc459ceda766147b,openstack/kolla-ansible,master,I3a4195261220c88b9f23678bbc459ceda766147b,Enable gathering CPU load info in cAdvisor,ABANDONED,2020-01-23 16:27:35.000000000,2021-04-07 10:39:15.000000000,,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-23 16:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4ff55d6b34470c5f2007e6770b6698629c52bf73', 'message': 'Enable gathering CPU load info in cAdvisor\n\nIt can be useful to monitor CPU load as a function of container. This\nchange adds a flag to enable such functionality in cAdvisor. The\ndefault setting of disabling CPU load monitoring is maintained.\n\nChange-Id: I3a4195261220c88b9f23678bbc459ceda766147b\n'}, {'number': 2, 'created': '2020-01-23 17:52:25.000000000', 'files': ['ansible/roles/prometheus/templates/prometheus-cadvisor.json.j2', 'releasenotes/notes/support-gathering-cpu-load-info-bae4367712155230.yaml', 'ansible/roles/prometheus/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a06b94f81f092325321c62c7342a69218c08a423', 'message': 'Enable gathering CPU load info in cAdvisor\n\nIt can be useful to monitor CPU load as a function of container. This\nchange adds a flag to enable such functionality in cAdvisor. The\ndefault setting of disabling CPU load monitoring is maintained.\n\nChange-Id: I3a4195261220c88b9f23678bbc459ceda766147b\n'}]",3,704022,a06b94f81f092325321c62c7342a69218c08a423,12,6,2,17669,,,0,"Enable gathering CPU load info in cAdvisor

It can be useful to monitor CPU load as a function of container. This
change adds a flag to enable such functionality in cAdvisor. The
default setting of disabling CPU load monitoring is maintained.

Change-Id: I3a4195261220c88b9f23678bbc459ceda766147b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/704022/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prometheus/templates/prometheus-cadvisor.json.j2', 'releasenotes/notes/support-gathering-cpu-load-info-bae4367712155230.yaml', 'ansible/roles/prometheus/defaults/main.yml']",3,4ff55d6b34470c5f2007e6770b6698629c52bf73,,# cAdvisor #################### # By default CPU load monitoring is disabled. This flag can be used to enable it. See # https://github.com/google/cadvisor/blob/release-v0.35/docs/runtime_options.md#cpu for more # details. prometheus_cadvisor_enable_load_monitoring: false ####################,,15,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I7cef73c57e7b69f4d031e220c954803afd5e0b8c,openstack/tripleo-heat-templates,stable/train,I7cef73c57e7b69f4d031e220c954803afd5e0b8c,WIP/DNR/DNM FRR service,ABANDONED,2020-12-28 10:07:32.000000000,2021-04-07 10:30:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-12-28 10:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0bf9c1627930c75981619650caca69b0ce0985c1', 'message': 'WIP/DNR/DNM FRR service\n\nDepends-On: https://review.opendev.org/763572\nChange-Id: I7cef73c57e7b69f4d031e220c954803afd5e0b8c\n(cherry picked from commit a3bf8aaf9df460cc79aa828cd549e99876b9fe2e)\n'}, {'number': 2, 'created': '2021-01-18 08:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/676b7c7d603b608e1889d5a9a687d639f78a7404', 'message': 'WIP/DNR/DNM FRR service\n\nDepends-On: https://review.opendev.org/763572\nChange-Id: I7cef73c57e7b69f4d031e220c954803afd5e0b8c\n(cherry picked from commit a3bf8aaf9df460cc79aa828cd549e99876b9fe2e)\n'}, {'number': 3, 'created': '2021-01-18 10:40:15.000000000', 'files': ['roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeAlt.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/HciCephMon.yaml', 'environments/services/frr.yaml', 'releasenotes/notes/frr-support-21648d0660a810ac.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles_data_undercloud.yaml', 'deployment/frr/frr-container-ansible.yaml', 'roles/ComputeSriovIB.yaml', 'roles/ControllerOpenstack.yaml', 'roles/Standalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'common/deploy-steps.j2', 'roles/ComputeLocalEphemeral.yaml', 'roles/BlockStorage.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ComputeHCISriov.yaml', 'roles/ControllerNoCeph.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/ControllerSriov.yaml', 'roles/Undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7960103914899a1f56ed8e4761b491e843acccf', 'message': 'WIP/DNR/DNM FRR service\n\nDepends-On: https://review.opendev.org/763572\nChange-Id: I7cef73c57e7b69f4d031e220c954803afd5e0b8c\n(cherry picked from commit a3bf8aaf9df460cc79aa828cd549e99876b9fe2e)\n'}]",0,768598,a7960103914899a1f56ed8e4761b491e843acccf,9,3,3,20172,,,0,"WIP/DNR/DNM FRR service

Depends-On: https://review.opendev.org/763572
Change-Id: I7cef73c57e7b69f4d031e220c954803afd5e0b8c
(cherry picked from commit a3bf8aaf9df460cc79aa828cd549e99876b9fe2e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/768598/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeAlt.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/HciCephMon.yaml', 'environments/services/frr.yaml', 'releasenotes/notes/frr-support-21648d0660a810ac.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles_data_undercloud.yaml', 'deployment/frr/frr-container-ansible.yaml', 'roles/ComputeSriovIB.yaml', 'roles/ControllerOpenstack.yaml', 'roles/Standalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles/HciCephFile.yaml', 'roles/ComputeInstanceHA.yaml', 'common/deploy-steps.j2', 'roles/ComputeLocalEphemeral.yaml', 'roles/BlockStorage.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ComputeHCISriov.yaml', 'roles/ControllerNoCeph.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/ControllerSriov.yaml', 'roles/Undercloud.yaml']",41,0bf9c1627930c75981619650caca69b0ce0985c1,train-frr, - OS::TripleO::Services::Frr,,325,11
openstack%2Ftripleo-heat-templates~master~I91d3a879938bf6839eaf7e8b2c3d7f617109be2e,openstack/tripleo-heat-templates,master,I91d3a879938bf6839eaf7e8b2c3d7f617109be2e,Enable exec resource to generate policy.yaml for Gnocchi,MERGED,2021-04-06 15:07:42.000000000,2021-04-07 10:28:19.000000000,2021-04-07 10:28:19.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-06 15:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2232cc58f57682254d6447dc61c8d6462bdad65', 'message': 'Enable exec resource to generate policy.yaml for Gnocchi\n\nThe recent change[1] in puppet-gnocchi introduce conversion of policy\nfile from yaml to json, using the exec resource, thus we need to ensure\nthat the exec resource is enabled.\n\n[1] https://review.opendev.org/c/openstack/puppet-gnocchi/+/768690\n\nChange-Id: I91d3a879938bf6839eaf7e8b2c3d7f617109be2e\nCloses-Bug: #1922282\n'}, {'number': 2, 'created': '2021-04-06 15:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/04f313b435365d5d897b2fbab5d14782df7c8b2e', 'message': 'Enable exec resource to generate policy.yaml for Gnocchi\n\nThe recent change[1] in puppet-gnocchi introduced conversion of policy\nfile from yaml to json, using the exec resource, thus we need to ensure\nthat the exec resource is enabled.\n\n[1] https://review.opendev.org/c/openstack/puppet-gnocchi/+/768690\n\nChange-Id: I91d3a879938bf6839eaf7e8b2c3d7f617109be2e\nCloses-Bug: #1922282\n'}, {'number': 3, 'created': '2021-04-06 23:40:47.000000000', 'files': ['deployment/gnocchi/gnocchi-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ca4f727b6f2f6447ab016f96dd6945f2537050a', 'message': 'Enable exec resource to generate policy.yaml for Gnocchi\n\nThe recent change[1] in puppet-gnocchi introduced conversion of policy\nfile from yaml to json, using the exec resource, thus we need to ensure\nthat the exec resource is enabled.\n\n[1] https://review.opendev.org/c/openstack/puppet-gnocchi/+/768690\n\nDepends-on: https://review.opendev.org/785076\nCloses-Bug: #1922282\nChange-Id: I91d3a879938bf6839eaf7e8b2c3d7f617109be2e\n'}]",0,784971,1ca4f727b6f2f6447ab016f96dd6945f2537050a,15,7,3,9816,,,0,"Enable exec resource to generate policy.yaml for Gnocchi

The recent change[1] in puppet-gnocchi introduced conversion of policy
file from yaml to json, using the exec resource, thus we need to ensure
that the exec resource is enabled.

[1] https://review.opendev.org/c/openstack/puppet-gnocchi/+/768690

Depends-on: https://review.opendev.org/785076
Closes-Bug: #1922282
Change-Id: I91d3a879938bf6839eaf7e8b2c3d7f617109be2e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/784971/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/gnocchi/gnocchi-api-container-puppet.yaml'],1,d2232cc58f57682254d6447dc61c8d6462bdad65,bug/1922282," puppet_tags: gnocchi_api_paste_ini,gnocchi_config,exec"," puppet_tags: gnocchi_api_paste_ini,gnocchi_config",1,1
openstack%2Fpuppet-tripleo~master~I65842685b026eca1eb18f458c1b81096d9bd51bf,openstack/puppet-tripleo,master,I65842685b026eca1eb18f458c1b81096d9bd51bf,Gnocchi: Do not manage facl of ceph keyring,MERGED,2021-04-06 23:39:59.000000000,2021-04-07 10:28:13.000000000,2021-04-07 10:28:13.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 23:39:59.000000000', 'files': ['spec/classes/tripleo_profile_base_gnocchi_api_spec.rb', 'manifests/profile/base/gnocchi/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6aa468113712415711937f20a6652ab60db14420', 'message': 'Gnocchi: Do not manage facl of ceph keyring\n\n... because this logic is never enabled and blocking usage of the exec\nresource now.\n\nChange-Id: I65842685b026eca1eb18f458c1b81096d9bd51bf\nRelated-Bug: #1922282\n'}]",2,785076,6aa468113712415711937f20a6652ab60db14420,10,4,1,9816,,,0,"Gnocchi: Do not manage facl of ceph keyring

... because this logic is never enabled and blocking usage of the exec
resource now.

Change-Id: I65842685b026eca1eb18f458c1b81096d9bd51bf
Related-Bug: #1922282
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/76/785076/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_gnocchi_api_spec.rb', 'manifests/profile/base/gnocchi/api.pp']",2,6aa468113712415711937f20a6652ab60db14420,bug/1922282, 'rbd': { include gnocchi::storage::ceph }," 'rbd': { include gnocchi::storage::ceph exec{ ""exec-setfacl-${gnocchi_rbd_client_name}-gnocchi"": path => ['/bin', '/usr/bin'], command => ""setfacl -m u:gnocchi:r-- ${gnocchi_rbd_ceph_conf_path}/ceph.client.${gnocchi_rbd_client_name}.keyring"", unless => ""getfacl ${gnocchi_rbd_ceph_conf_path}/ceph.client.${gnocchi_rbd_client_name}.keyring | grep -q user:gnocchi:r--"", } -> exec{ ""exec-setfacl-${gnocchi_rbd_client_name}-gnocchi-mask"": path => ['/bin', '/usr/bin'], command => ""setfacl -m m::r ${gnocchi_rbd_ceph_conf_path}/ceph.client.${gnocchi_rbd_client_name}.keyring"", unless => ""getfacl ${gnocchi_rbd_ceph_conf_path}/ceph.client.${gnocchi_rbd_client_name}.keyring | grep -q mask::r"", } }",1,15
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~If6214bd0be483138d565ea693e2ec952d4a02451,openstack/puppet-openstack-integration,stable/train,If6214bd0be483138d565ea693e2ec952d4a02451,Add syntax job on CentOS 8 Stream,MERGED,2021-03-28 12:38:22.000000000,2021-04-07 10:05:08.000000000,2021-04-07 10:05:08.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-28 12:38:22.000000000', 'files': ['zuul.d/layout.yaml', 'zuul.d/linters.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4142c56d4db7c45d6a9e3afbe5fef52effb508d6', 'message': 'Add syntax job on CentOS 8 Stream\n\nChange-Id: If6214bd0be483138d565ea693e2ec952d4a02451\n(cherry picked from commit 7e2728f284d46663fc299acfc99160b9be57e2e5)\n(cherry picked from commit 37f12d2ca35eb86536f5426bc1819c5fada061ac)\n(cherry picked from commit 838aa8c4a591ecadf2593f45afb44cda2a46f14e)\n'}]",0,783541,4142c56d4db7c45d6a9e3afbe5fef52effb508d6,7,3,1,9816,,,0,"Add syntax job on CentOS 8 Stream

Change-Id: If6214bd0be483138d565ea693e2ec952d4a02451
(cherry picked from commit 7e2728f284d46663fc299acfc99160b9be57e2e5)
(cherry picked from commit 37f12d2ca35eb86536f5426bc1819c5fada061ac)
(cherry picked from commit 838aa8c4a591ecadf2593f45afb44cda2a46f14e)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/41/783541/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'zuul.d/linters.yaml']",2,4142c56d4db7c45d6a9e3afbe5fef52effb508d6,c8s-stable/victoria-stable/ussuri-stable/train, - job: name: puppet-openstack-libraries-puppet-syntax-6-centos-8-stream parent: puppet-openstack-libraries-puppet-syntax nodeset: centos-8-stream voting: false vars: puppet: 6,,9,0
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~If6214bd0be483138d565ea693e2ec952d4a02451,openstack/puppet-openstack-integration,stable/ussuri,If6214bd0be483138d565ea693e2ec952d4a02451,Add syntax job on CentOS 8 Stream,MERGED,2021-03-28 12:37:58.000000000,2021-04-07 10:05:05.000000000,2021-04-07 10:05:05.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-28 12:37:58.000000000', 'files': ['zuul.d/layout.yaml', 'zuul.d/linters.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/838aa8c4a591ecadf2593f45afb44cda2a46f14e', 'message': 'Add syntax job on CentOS 8 Stream\n\nChange-Id: If6214bd0be483138d565ea693e2ec952d4a02451\n(cherry picked from commit 7e2728f284d46663fc299acfc99160b9be57e2e5)\n(cherry picked from commit 37f12d2ca35eb86536f5426bc1819c5fada061ac)\n'}]",0,783540,838aa8c4a591ecadf2593f45afb44cda2a46f14e,7,3,1,9816,,,0,"Add syntax job on CentOS 8 Stream

Change-Id: If6214bd0be483138d565ea693e2ec952d4a02451
(cherry picked from commit 7e2728f284d46663fc299acfc99160b9be57e2e5)
(cherry picked from commit 37f12d2ca35eb86536f5426bc1819c5fada061ac)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/40/783540/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'zuul.d/linters.yaml']",2,838aa8c4a591ecadf2593f45afb44cda2a46f14e,c8s-stable/victoria-stable/ussuri, - job: name: puppet-openstack-libraries-puppet-syntax-6-centos-8-stream parent: puppet-openstack-libraries-puppet-syntax nodeset: centos-8-stream voting: false vars: puppet: 6,,9,0
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I6e4249c3004cef66a62eb058a9823fbda344793f,openstack/puppet-openstack-integration,stable/ussuri,I6e4249c3004cef66a62eb058a9823fbda344793f,[Stable only] Add non-voting beaker job on CentOS8 Stream,MERGED,2021-03-28 12:47:33.000000000,2021-04-07 10:05:01.000000000,2021-04-07 10:05:01.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-28 12:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/88f2d0355b325d1cc48024cf644946eb6c9c5b1d', 'message': '[Stable only] Add non-voting beaker job on CentOS8 Stream\n\nThis is a prepraration step to replace all CentOS8 jobs with CentOS8\nStream jobs.\nBeacuse beaker jobs were replaced with litmus jobs during Victoria\ncycle this is submitted to only stable branches.\n\nChange-Id: I6e4249c3004cef66a62eb058a9823fbda344793f\n'}, {'number': 2, 'created': '2021-03-28 12:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1f61b2d3f6fd6bc0b9271442216443e5afdd8545', 'message': '[Stable only] Add non-voting beaker job on CentOS8 Stream\n\nThis is a prepraration step to replace all CentOS8 jobs with CentOS8\nStream jobs.\nBeacuse beaker jobs were replaced with litmus jobs during Victoria\ncycle this is submitted to only stable branches.\n\nChange-Id: I6e4249c3004cef66a62eb058a9823fbda344793f\n'}, {'number': 3, 'created': '2021-03-28 12:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0ba992dc27c64186cc9bff3ffadb8aadeaf2f853', 'message': '[Stable only] Add non-voting beaker job on CentOS8 Stream\n\nThis is a prepraration step to replace all CentOS8 jobs with CentOS8\nStream jobs.\nBeacuse beaker jobs were replaced with litmus jobs during Victoria\ncycle this is submitted to only stable branches.\n\nChange-Id: I6e4249c3004cef66a62eb058a9823fbda344793f\n'}, {'number': 4, 'created': '2021-03-28 13:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bd683387c86fd7a60317d6765fe6b112a8a07add', 'message': '[Stable only] Add non-voting beaker job on CentOS8 Stream\n\nThis is a prepraration step to replace all CentOS8 jobs with CentOS8\nStream jobs.\nBeacuse beaker jobs were replaced with litmus jobs during Victoria\ncycle this is submitted to only stable branches.\n\nChange-Id: I6e4249c3004cef66a62eb058a9823fbda344793f\n'}, {'number': 5, 'created': '2021-03-28 13:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c700b450874867b38da6b1d19cb7efe746ed1093', 'message': '[Stable only] Add non-voting beaker job on CentOS8 Stream\n\nThis is a prepraration step to replace all CentOS8 jobs with CentOS8\nStream jobs.\nBeacuse beaker jobs were replaced with litmus jobs during Victoria\ncycle this is submitted to only stable branches.\n\nChange-Id: I6e4249c3004cef66a62eb058a9823fbda344793f\n'}, {'number': 6, 'created': '2021-03-28 13:14:09.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/layout.yaml', 'zuul.d/beaker.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6acbc6ba4f5e96a7c7db35fc7bbd50d34dd7a8c0', 'message': '[Stable only] Add non-voting beaker job on CentOS8 Stream\n\nThis is a prepraration step to replace all CentOS8 jobs with CentOS8\nStream jobs.\nBeacuse beaker jobs were replaced with litmus jobs during Victoria\ncycle this is submitted to only stable branches.\n\nChange-Id: I6e4249c3004cef66a62eb058a9823fbda344793f\n'}]",1005,783574,6acbc6ba4f5e96a7c7db35fc7bbd50d34dd7a8c0,16,3,6,9816,,,0,"[Stable only] Add non-voting beaker job on CentOS8 Stream

This is a prepraration step to replace all CentOS8 jobs with CentOS8
Stream jobs.
Beacuse beaker jobs were replaced with litmus jobs during Victoria
cycle this is submitted to only stable branches.

Change-Id: I6e4249c3004cef66a62eb058a9823fbda344793f
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/74/783574/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/beaker.yaml'],1,88f2d0355b325d1cc48024cf644946eb6c9c5b1d,c8s-beaker, - puppet-openstack-beaker-centos-8-beaker name: puppet-openstack-libraries-puppet-beaker-rspec-centos-8-beaker parent: puppet-openstack-integration-base pre-run: playbooks/prepare-node-beaker.yaml post-run: playbooks/upload-logs.yaml run: playbooks/run-libraries-beaker-tests.yaml timeout: 3600 nodeset: centos-8-beaker voting: false irrelevant-files: - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$ - ^LICENSE$ - ^.gitignore$ vars: nodepool_type: centos8 puppet_gem_version: 5.5.0 - job:,,24,0
openstack%2Fcharm-rabbitmq-server~master~I7f026d08dd44990b121e195ac6817bf7825b71f1,openstack/charm-rabbitmq-server,master,I7f026d08dd44990b121e195ac6817bf7825b71f1,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:34:03.000000000,2021-04-07 09:45:34.000000000,2021-04-07 09:45:34.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-03 19:34:03.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'test-requirements.txt', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/policy_rcd.py', 'charmhelpers/contrib/openstack/files/policy_rc_d_script.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'charmhelpers/contrib/openstack/exceptions.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/19ee453fb7d926a47e3704b5176d5e67f135bded', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I7f026d08dd44990b121e195ac6817bf7825b71f1\n'}]",0,784693,19ee453fb7d926a47e3704b5176d5e67f135bded,15,4,1,20870,,,0,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: I7f026d08dd44990b121e195ac6817bf7825b71f1
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/93/784693/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'test-requirements.txt', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/policy_rcd.py', 'charmhelpers/contrib/openstack/files/policy_rc_d_script.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'charmhelpers/contrib/openstack/exceptions.py']",11,19ee453fb7d926a47e3704b5176d5e67f135bded,libraries-sync-21-04," class ServiceActionError(Exception): """"""Raised when a service action (stop/start/ etc) failed."""""" pass",,1012,12
openstack%2Fcharm-vault~master~I531088a70f1281ba7f2f066c383e234fb7a8164f,openstack/charm-vault,master,I531088a70f1281ba7f2f066c383e234fb7a8164f,21.04 libraries freeze for charms on master branch,MERGED,2021-04-03 19:35:20.000000000,2021-04-07 09:42:10.000000000,2021-04-07 09:42:10.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-04-03 19:35:20.000000000', 'files': ['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/d8e7e4644db3583d113e70fdfc297d5b83eb4f94', 'message': '21.04 libraries freeze for charms on master branch\n\n* charm-helpers sync for classic charms\n* build.lock file for reactive charms\n* ensure tox.ini is from release-tools\n* ensure requirements.txt files are from release-tools\n* On reactive charms:\n  - ensure stable/21.04 branch for charms.openstack\n  - ensure stable/21.04 branch for charm-helpers\n\nChange-Id: I531088a70f1281ba7f2f066c383e234fb7a8164f\n'}]",0,784696,d8e7e4644db3583d113e70fdfc297d5b83eb4f94,12,4,1,20870,,,0,"21.04 libraries freeze for charms on master branch

* charm-helpers sync for classic charms
* build.lock file for reactive charms
* ensure tox.ini is from release-tools
* ensure requirements.txt files are from release-tools
* On reactive charms:
  - ensure stable/21.04 branch for charms.openstack
  - ensure stable/21.04 branch for charm-helpers

Change-Id: I531088a70f1281ba7f2f066c383e234fb7a8164f
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/96/784696/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'tox.ini']",5,d8e7e4644db3583d113e70fdfc297d5b83eb4f94,libraries-sync-21-04, charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs} [testenv:add-build-lock-file] basepython = python3 commands = charm-build --log-level DEBUG --write-lock-file -o {toxinidir}/build/builds src {posargs}, charm-build --log-level DEBUG -o {toxinidir}/build/builds src {posargs},301,6
openstack%2Fcharm-nova-compute~master~Ibd3a5ff768b0fd48148d3506a6c2c5d6ac1e9734,openstack/charm-nova-compute,master,Ibd3a5ff768b0fd48148d3506a6c2c5d6ac1e9734,Allow RO access to /var/lib/nova/instances dir,ABANDONED,2020-07-28 13:00:53.000000000,2021-04-07 09:30:34.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-28 13:00:53.000000000', 'files': ['templates/usr.bin.nova-compute'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/c40d70286fd83a64aad74805e14808fb15f8f56b', 'message': 'Allow RO access to /var/lib/nova/instances dir\n\nHaving a rule with /dir/** is not enough to allow opening that dir\nitself for reading.\n\nhttps://gitlab.com/apparmor/apparmor/-/wikis/QuickProfileLanguage#file-globbing-examples\n/dir/\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0-\xa0match\xa0a\xa0directory\n/dir/**\xa0\xa0\xa0\xa0\xa0\xa0\xa0-\xa0match\xa0any\xa0file\xa0or\xa0directory\xa0in\xa0or\xa0below\xa0/dir/\n\nChange-Id: Ibd3a5ff768b0fd48148d3506a6c2c5d6ac1e9734\nCloses-Bug: #1889216\n'}]",0,743527,c40d70286fd83a64aad74805e14808fb15f8f56b,9,3,1,24824,,,0,"Allow RO access to /var/lib/nova/instances dir

Having a rule with /dir/** is not enough to allow opening that dir
itself for reading.

https://gitlab.com/apparmor/apparmor/-/wikis/QuickProfileLanguage#file-globbing-examples
/dir/         - match a directory
/dir/**       - match any file or directory in or below /dir/

Change-Id: Ibd3a5ff768b0fd48148d3506a6c2c5d6ac1e9734
Closes-Bug: #1889216
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/27/743527/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/usr.bin.nova-compute'],1,c40d70286fd83a64aad74805e14808fb15f8f56b,bug/1889216," /var/lib/nova/ r,",,1,0
openstack%2Fcharms.ceph~master~Ie2e2a4da03a0c105ed6e02a9a470d90a209823a6,openstack/charms.ceph,master,Ie2e2a4da03a0c105ed6e02a9a470d90a209823a6,use wal devices if there are no db devices,ABANDONED,2018-07-23 09:28:04.000000000,2021-04-07 09:27:41.000000000,,"[{'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2018-07-23 09:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/adeeecbe9bacc04576a54ae482d068f114042124', 'message': 'use wal devices if there are no db devices\n\nAs a workaround for https://pad.lv/1783084, we need to be able to use\nthe same device for wal and db unless something is specified for db\nspecifically.\n\nChange-Id: Ie2e2a4da03a0c105ed6e02a9a470d90a209823a6\n'}, {'number': 2, 'created': '2018-07-23 09:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/254f7b46b15838e9fdf34b03dd864fa1c4d5dbd8', 'message': 'use wal devices if there are no db devices\n\nAs a workaround for https://pad.lv/1783084, we need to be able to use\nthe same device for wal and db unless something is specified for db\nspecifically.\n\nChange-Id: Ie2e2a4da03a0c105ed6e02a9a470d90a209823a6\nCloses-Bug: #1783084\n'}, {'number': 3, 'created': '2018-07-23 10:05:22.000000000', 'files': ['ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/51fc29cf1f142f5b30f93590436ffa0e470baf7c', 'message': 'use wal devices if there are no db devices\n\nAs a workaround for https://bugs.launchpad.net/juju/+bug/1783084,\nwe need to be able to use the same device for wal and db unless\nsomething is specified for db specifically.\n\nChange-Id: Ie2e2a4da03a0c105ed6e02a9a470d90a209823a6\nCloses-Bug: #1783084\n'}]",1,584784,51fc29cf1f142f5b30f93590436ffa0e470baf7c,9,3,3,24824,,,0,"use wal devices if there are no db devices

As a workaround for https://bugs.launchpad.net/juju/+bug/1783084,
we need to be able to use the same device for wal and db unless
something is specified for db specifically.

Change-Id: Ie2e2a4da03a0c105ed6e02a9a470d90a209823a6
Closes-Bug: #1783084
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/84/584784/2 && git format-patch -1 --stdout FETCH_HEAD,['ceph/utils.py'],1,adeeecbe9bacc04576a54ae482d068f114042124,fe-collocate-if-db-unspecified, db = db if db else wal,,1,0
openstack%2Fcharm-ceph-osd~master~I54bb5e3635ee1b63e40e3b8cbf68ad37e3a39f5d,openstack/charm-ceph-osd,master,I54bb5e3635ee1b63e40e3b8cbf68ad37e3a39f5d,use wal devices if there are no db devices,ABANDONED,2018-07-23 09:25:56.000000000,2021-04-07 09:27:33.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2018-07-23 09:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/dd693a8af58c3f9dcd4d118b1911b374fd49dc13', 'message': 'use wal devices if there are no db devices\n\nAs a workaround for https://pad.lv/1783084, we need to be able to use\nthe same device for wal and db unless something is specified for db\nspecifically.\n\nChange-Id: I54bb5e3635ee1b63e40e3b8cbf68ad37e3a39f5d\n'}, {'number': 2, 'created': '2018-07-23 09:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/ccfb40630a941170202e8dc81270e23dbed10311', 'message': 'use wal devices if there are no db devices\n\nAs a workaround for https://pad.lv/1783084, we need to be able to use\nthe same device for wal and db unless something is specified for db\nspecifically.\n\nChange-Id: I54bb5e3635ee1b63e40e3b8cbf68ad37e3a39f5d\n'}, {'number': 3, 'created': '2018-07-23 09:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/4c266b79bd12311731b6108e59b1544558886b59', 'message': 'use wal devices if there are no db devices\n\nAs a workaround for https://pad.lv/1783084, we need to be able to use\nthe same device for wal and db unless something is specified for db\nspecifically.\n\nChange-Id: I54bb5e3635ee1b63e40e3b8cbf68ad37e3a39f5d\nCloses-Bug: #1783084\n'}, {'number': 4, 'created': '2018-07-23 10:04:16.000000000', 'files': ['lib/ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/b8443ceb40f01d8eb9961f39217e9471e269101d', 'message': 'use wal devices if there are no db devices\n\nAs a workaround for https://bugs.launchpad.net/juju/+bug/1783084,\nwe need to be able to use the same device for wal and db unless\nsomething is specified for db specifically.\n\nChange-Id: I54bb5e3635ee1b63e40e3b8cbf68ad37e3a39f5d\nCloses-Bug: #1783084\n'}]",1,584783,b8443ceb40f01d8eb9961f39217e9471e269101d,12,4,4,24824,,,0,"use wal devices if there are no db devices

As a workaround for https://bugs.launchpad.net/juju/+bug/1783084,
we need to be able to use the same device for wal and db unless
something is specified for db specifically.

Change-Id: I54bb5e3635ee1b63e40e3b8cbf68ad37e3a39f5d
Closes-Bug: #1783084
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/83/584783/4 && git format-patch -1 --stdout FETCH_HEAD,['lib/ceph/utils.py'],1,dd693a8af58c3f9dcd4d118b1911b374fd49dc13,fe-collocate-if-db-unspecified, db = db if db else wal,,2,0
openstack%2Fcharm-octavia~stable%2F20.05~I6b58a61789251803a217749187a12a3304200879,openstack/charm-octavia,stable/20.05,I6b58a61789251803a217749187a12a3304200879,Rebuild the charm to fix installation on Juju <2.7,ABANDONED,2020-06-01 10:39:03.000000000,2021-04-07 09:27:09.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-06-01 10:39:03.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/59219f86465a3da819211fbda7a8b2695b376782', 'message': 'Rebuild the charm to fix installation on Juju <2.7\n\nA rebuild to include this:\nhttps://github.com/juju-solutions/layer-basic/pull/174\n\nChange-Id: I6b58a61789251803a217749187a12a3304200879\nCloses-Bug: #1881566\n(cherry picked from commit 285d94533127a334e18b2ed1e6c0c5248e5d1492)\n'}]",0,732152,59219f86465a3da819211fbda7a8b2695b376782,6,3,1,24824,,,0,"Rebuild the charm to fix installation on Juju <2.7

A rebuild to include this:
https://github.com/juju-solutions/layer-basic/pull/174

Change-Id: I6b58a61789251803a217749187a12a3304200879
Closes-Bug: #1881566
(cherry picked from commit 285d94533127a334e18b2ed1e6c0c5248e5d1492)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/52/732152/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,59219f86465a3da819211fbda7a8b2695b376782,bug/1881566,94f2b486-9870-4f4d-b848-0a8d3e2584a4,bd82e966-adc8-48fd-a12d-a96c7961deca,1,1
openstack%2Fcharm-interface-keystone-credentials~master~Ibb293225b1c36851570821029a2483099ee9e1a1,openstack/charm-interface-keystone-credentials,master,Ibb293225b1c36851570821029a2483099ee9e1a1,Fix the incorrect method names,ABANDONED,2021-02-19 17:20:56.000000000,2021-04-07 09:26:50.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-19 17:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-keystone-credentials/commit/17bc36130312348bc11e45ee3101045810aac8ce', 'message': 'Fix the incorrect method names\n\nset_flag and clear_flag are apparently not available on RelationBase but\nthey were added based on request in the review here:\n\nhttps://review.opendev.org/c/openstack/charm-interface-keystone-credentials/+/747970\n\nset_state and remove_state should be used instead because of the choice\nof the base class.\n\nChange-Id: Ibb293225b1c36851570821029a2483099ee9e1a1\n'}, {'number': 2, 'created': '2021-02-19 17:22:32.000000000', 'files': ['provides.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-keystone-credentials/commit/691631aa0d4ee55adaf1bb82279eb51ffb57c877', 'message': 'Fix the incorrect method names\n\nset_flag and clear_flag are apparently not available on RelationBase but\nthey were added based on request in the review here:\n\nhttps://review.opendev.org/c/openstack/charm-interface-keystone-credentials/+/747970\n\nset_state and remove_state should be used instead because of the choice\nof the base class.\n\nCloses-Bug: #1916271\n\nChange-Id: Ibb293225b1c36851570821029a2483099ee9e1a1\n'}]",0,776685,691631aa0d4ee55adaf1bb82279eb51ffb57c877,6,2,2,24824,,,0,"Fix the incorrect method names

set_flag and clear_flag are apparently not available on RelationBase but
they were added based on request in the review here:

https://review.opendev.org/c/openstack/charm-interface-keystone-credentials/+/747970

set_state and remove_state should be used instead because of the choice
of the base class.

Closes-Bug: #1916271

Change-Id: Ibb293225b1c36851570821029a2483099ee9e1a1
",git fetch https://review.opendev.org/openstack/charm-interface-keystone-credentials refs/changes/85/776685/2 && git format-patch -1 --stdout FETCH_HEAD,['provides.py'],1,17bc36130312348bc11e45ee3101045810aac8ce,bug/1916271, self.set_state('{relation_name}.connected') self.remove_state('{relation_name}.connected'), self.set_flag('{relation_name}.connected') self.clear_flag('{relation_name}.connected'),2,2
openstack%2Fbarbican-tempest-plugin~master~Ie5b7b6f7df20ec96e916232e70e9f61c7771f9d2,openstack/barbican-tempest-plugin,master,Ie5b7b6f7df20ec96e916232e70e9f61c7771f9d2,Add secure-rbac tests for Orders,MERGED,2021-04-01 15:00:08.000000000,2021-04-07 09:25:12.000000000,2021-04-07 09:25:12.000000000,"[{'_account_id': 5046}, {'_account_id': 9914}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-04-01 15:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/0e1438e2b3b5b64b5d81b312520143e73c247e7b', 'message': 'Add secure-rbac tests for Orders\n\nThis patch adds basic RBAC tests for the Orders resource for\nthe reader, member, and admin personas.\n\nChange-Id: Ie5b7b6f7df20ec96e916232e70e9f61c7771f9d2\n'}, {'number': 2, 'created': '2021-04-01 22:05:55.000000000', 'files': ['barbican_tempest_plugin/services/key_manager/json/order_client.py', 'barbican_tempest_plugin/tests/rbac/v1/base.py', 'barbican_tempest_plugin/tests/rbac/v1/test_orders.py', 'barbican_tempest_plugin/services/key_manager/json/secret_client.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/1febf40838581d792c695e4f468fe4f0d6c517b8', 'message': 'Add secure-rbac tests for Orders\n\nThis patch adds basic RBAC tests for the Orders resource for\nthe reader, member, and admin personas with project scope.\n\nChange-Id: Ie5b7b6f7df20ec96e916232e70e9f61c7771f9d2\n'}]",11,784433,1febf40838581d792c695e4f468fe4f0d6c517b8,15,5,2,7973,,,0,"Add secure-rbac tests for Orders

This patch adds basic RBAC tests for the Orders resource for
the reader, member, and admin personas with project scope.

Change-Id: Ie5b7b6f7df20ec96e916232e70e9f61c7771f9d2
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/33/784433/2 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/services/key_manager/json/order_client.py', 'barbican_tempest_plugin/tests/rbac/v1/base.py', 'barbican_tempest_plugin/tests/rbac/v1/test_orders.py', 'barbican_tempest_plugin/services/key_manager/json/secret_client.py']",4,0e1438e2b3b5b64b5d81b312520143e73c247e7b,secure-rbac,from barbican_tempest_plugin.services.key_manager.json import base class SecretClient(base.BarbicanTempestClient):,"from tempest.lib.common import rest_clientclass SecretClient(rest_client.RestClient): def __init__(self, *args, **kwargs): kwargs['service'] = 'key-manager' super().__init__(*args, **kwargs)",196,16
openstack%2Fheat~stable%2Ftrain~Ibc87f20a86aa706663ec117c5619aa00d9644a7a,openstack/heat,stable/train,Ibc87f20a86aa706663ec117c5619aa00d9644a7a,Change py2/grenade jobs to non-voting,MERGED,2021-04-07 04:46:57.000000000,2021-04-07 09:19:33.000000000,2021-04-07 09:14:45.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 04:46:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/ede47008bcfe3acef2050476b42ae6a3bedb7a67', 'message': ""Change py2/grenade jobs to non-voting\n\nWe've some issues with tempest and devstack py2 support\nwhich is blocking train backports. Let's set them to\nnon-voting untill the issues are fixed. Also removes\nnot used amqp1 job definition.\n\nChange-Id: Ibc87f20a86aa706663ec117c5619aa00d9644a7a\n""}]",0,785088,ede47008bcfe3acef2050476b42ae6a3bedb7a67,8,3,1,8833,,,0,"Change py2/grenade jobs to non-voting

We've some issues with tempest and devstack py2 support
which is blocking train backports. Let's set them to
non-voting untill the issues are fixed. Also removes
not used amqp1 job definition.

Change-Id: Ibc87f20a86aa706663ec117c5619aa00d9644a7a
",git fetch https://review.opendev.org/openstack/heat refs/changes/88/785088/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ede47008bcfe3acef2050476b42ae6a3bedb7a67,, voting: false voting: false voting: false # All py2 functional and grenade jobs are set to non-voting # until bug #1922597 and devstack py2 issues are fixed., - job: name: heat-functional-convg-mysql-lbaasv2-amqp1 parent: heat-functional-devstack-base branches: master vars: use_amqp1: 1 - heat-functional-convg-mysql-lbaasv2-amqp1,5,8
openstack%2Fkolla-ansible~master~I22e11a994801447526ac26fc2815a1679876225e,openstack/kolla-ansible,master,I22e11a994801447526ac26fc2815a1679876225e,[CI] Use images from quay.io,MERGED,2021-03-18 19:01:51.000000000,2021-04-07 09:07:26.000000000,2021-04-06 01:31:39.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 30523}, {'_account_id': 32067}]","[{'number': 1, 'created': '2021-03-18 19:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f6533c5416b18f1da1d1ad8a08a153d72d508e48', 'message': '[WIP] quay.io\n\nChange-Id: I22e11a994801447526ac26fc2815a1679876225e\n'}, {'number': 2, 'created': '2021-03-18 20:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a4c12f25c5f1e41a3b2c276e10ad90a03505247e', 'message': '[WIP] quay.io\n\nChange-Id: I22e11a994801447526ac26fc2815a1679876225e\n'}, {'number': 3, 'created': '2021-03-19 09:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a437bb5d0da9c966a3a40eee732c37b8aae0778b', 'message': '[WIP] quay.io\n\nChange-Id: I22e11a994801447526ac26fc2815a1679876225e\n'}, {'number': 4, 'created': '2021-03-20 10:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7e55e75665d287c3cbdc44d290811cbec1a3bf80', 'message': '[WIP] quay.io\n\nChange-Id: I22e11a994801447526ac26fc2815a1679876225e\n'}, {'number': 5, 'created': '2021-04-02 14:00:18.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c045aee36997098b655c7d6b03c72f3409ab152', 'message': '[CI] Use images from quay.io\n\nBased on the discussions from the past 3 Kolla meetings [1][2][3],\nwe established that, to avoid the DockerHub pull limit issues\nin our CI, we will try using quay.io.\n\nThe images have already been published via Kolla CI\nfor master/Wallaby [4] and Victoria [5].\n\nThis change applies only to CI.\nThe user-facing move is yet to be discussed.\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102\n[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137\n[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50\n[4] https://review.opendev.org/c/openstack/kolla/+/781130\n[5] https://review.opendev.org/c/openstack/kolla/+/781899\n\nChange-Id: I22e11a994801447526ac26fc2815a1679876225e\n'}]",3,781546,9c045aee36997098b655c7d6b03c72f3409ab152,44,9,5,30491,,,0,"[CI] Use images from quay.io

Based on the discussions from the past 3 Kolla meetings [1][2][3],
we established that, to avoid the DockerHub pull limit issues
in our CI, we will try using quay.io.

The images have already been published via Kolla CI
for master/Wallaby [4] and Victoria [5].

This change applies only to CI.
The user-facing move is yet to be discussed.

[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102
[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137
[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50
[4] https://review.opendev.org/c/openstack/kolla/+/781130
[5] https://review.opendev.org/c/openstack/kolla/+/781899

Change-Id: I22e11a994801447526ac26fc2815a1679876225e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/781546/5 && git format-patch -1 --stdout FETCH_HEAD,"['tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml']",3,f6533c5416b18f1da1d1ad8a08a153d72d508e48,kolla-quay.io,, templates: - check-requirements - openstack-cover-jobs - openstack-python3-wallaby-jobs - ansible-role-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs - kolla-ansible-centos8-source - kolla-ansible-debian-source - kolla-ansible-centos8-source-kvm - kolla-ansible-centos8-source-multinode-ipv6 - kolla-ansible-centos8-source-bifrost - kolla-ansible-centos8-source-zun - kolla-ansible-centos8-source-swift - kolla-ansible-centos8-source-scenario-nfv - kolla-ansible-centos8-source-magnum - kolla-ansible-centos8-source-octavia - kolla-ansible-centos8-source-masakari - kolla-ansible-centos8-source-ironic - kolla-ansible-centos8-binary-ironic - kolla-ansible-centos8-source-upgrade - kolla-ansible-debian-source-upgrade - kolla-ansible-centos8-binary - kolla-ansible-centos8-source-cells - kolla-ansible-centos8-source-mariadb - kolla-ansible-centos8-source-linuxbridge - kolla-ansible-centos8-source-ovn - kolla-ansible-centos8-source-prometheus-efk - kolla-ansible-centos8-source-monasca - kolla-ansible-centos8-source-cephadm - kolla-ansible-centos8-source-upgrade-cephadm check-arm64: jobs: - kolla-ansible-debian-source-aarch64 - kolla-ansible-debian-source-upgrade-aarch64 gate: queue: kolla jobs: - kolla-ansible-centos8-source - kolla-ansible-centos8-source-upgrade - kolla-ansible-ubuntu-source - kolla-ansible-ubuntu-source-upgrade,7,45
openstack%2Fos-net-config~master~I6cfc08835a3c6305f75c71475d9560415931b468,openstack/os-net-config,master,I6cfc08835a3c6305f75c71475d9560415931b468,Exit on schema validation errors by default,ABANDONED,2020-08-13 15:20:34.000000000,2021-04-07 09:01:44.000000000,,"[{'_account_id': 4571}, {'_account_id': 6681}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-08-13 15:20:34.000000000', 'files': ['os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/2a1470d21813637c658e3408622d223803e85400', 'message': 'Exit on schema validation errors by default\n\nThe schema validation does not cause a fatal error if it fails,\nbut as the schema validation is now very accurate there is very\nlittle chance that an invalid schema will result in a working\nconfiguration. By exiting by default on validation errors we\nmay be able to avoid leaving a deployment in an unworkable\nstate if the NIC configuration is wrong.\n\nChange-Id: I6cfc08835a3c6305f75c71475d9560415931b468\nCloses-bug: #1891520\n'}]",1,746156,2a1470d21813637c658e3408622d223803e85400,21,9,1,12398,,,0,"Exit on schema validation errors by default

The schema validation does not cause a fatal error if it fails,
but as the schema validation is now very accurate there is very
little chance that an invalid schema will result in a working
configuration. By exiting by default on validation errors we
may be able to avoid leaving a deployment in an unworkable
state if the NIC configuration is wrong.

Change-Id: I6cfc08835a3c6305f75c71475d9560415931b468
Closes-bug: #1891520
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/56/746156/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/cli.py'],1,2a1470d21813637c658e3408622d223803e85400,bug/1891520, default=True), default=False),1,1
openstack%2Freleases~master~I936b052c52e854a5981162d8c462308741df6c37,openstack/releases,master,I936b052c52e854a5981162d8c462308741df6c37,Release tacker RC2 for Wallaby,MERGED,2021-04-06 09:56:13.000000000,2021-04-07 08:44:12.000000000,2021-04-07 08:44:12.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-06 09:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7d84a0f37e6f4415ef7c6d36b6cfb99b08ec510c', 'message': 'Release tacker RC2 for Wallaby\n\nIt includes a fix for resolving critical dependency problem[1].\n\n[1] https://review.opendev.org/c/openstack/tacker/+/784000\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I936b052c52e854a5981162d8c462308741df6c37\n'}, {'number': 2, 'created': '2021-04-07 04:43:36.000000000', 'files': ['deliverables/wallaby/tacker.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/80cb0a0b223988892a32a42ac8aa3e394fac6d12', 'message': 'Release tacker RC2 for Wallaby\n\nIt includes a fix for resolving critical dependency problem[1].\n\n[1] https://review.opendev.org/c/openstack/tacker/+/784443\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I936b052c52e854a5981162d8c462308741df6c37\n'}]",3,784908,80cb0a0b223988892a32a42ac8aa3e394fac6d12,14,3,2,25701,,,0,"Release tacker RC2 for Wallaby

It includes a fix for resolving critical dependency problem[1].

[1] https://review.opendev.org/c/openstack/tacker/+/784443

Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
Change-Id: I936b052c52e854a5981162d8c462308741df6c37
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/784908/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/tacker.yaml'],1,7d84a0f37e6f4415ef7c6d36b6cfb99b08ec510c,wallaby-rc2, - version: 5.0.0.0rc2 projects: - repo: openstack/tacker hash: e6a7ff593f6a2455c65190e8c7f4683cff3e40a2,,4,0
openstack%2Fvitrage~master~I3f22448c53c827a7402af3a514112e63196cdf3b,openstack/vitrage,master,I3f22448c53c827a7402af3a514112e63196cdf3b,Maintain  Vitrage Configuration FMT,MERGED,2021-04-07 07:10:17.000000000,2021-04-07 08:16:06.000000000,2021-04-07 08:14:44.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 32577}]","[{'number': 1, 'created': '2021-04-07 07:10:17.000000000', 'files': ['doc/source/contributor/k8s_datasource.rst', 'doc/source/contributor/profiler-config.rst', 'doc/source/contributor/cetus_datasource.rst', 'doc/source/contributor/configuration.rst', 'doc/source/contributor/prometheus-datasource.rst'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/5b6f02e2e0b5418d1e3c3c8ac67ca828686be67b', 'message': 'Maintain  Vitrage Configuration FMT\n\nMaintain format of the document.\n\nImplements: blueprint maintain-document\nChange-Id: I3f22448c53c827a7402af3a514112e63196cdf3b\n'}]",0,785095,5b6f02e2e0b5418d1e3c3c8ac67ca828686be67b,8,3,1,32577,,,0,"Maintain  Vitrage Configuration FMT

Maintain format of the document.

Implements: blueprint maintain-document
Change-Id: I3f22448c53c827a7402af3a514112e63196cdf3b
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/95/785095/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/k8s_datasource.rst', 'doc/source/contributor/profiler-config.rst', 'doc/source/contributor/cetus_datasource.rst', 'doc/source/contributor/configuration.rst', 'doc/source/contributor/prometheus-datasource.rst']",5,5b6f02e2e0b5418d1e3c3c8ac67ca828686be67b,doc,Prometheus Datasource,Prometheus datasource,5,5
openstack%2Fpython-tripleoclient~stable%2Fvictoria~I973ea8c210db477b735a99755332346a646bea19,openstack/python-tripleoclient,stable/victoria,I973ea8c210db477b735a99755332346a646bea19,Move static-inventory option into parser group,MERGED,2021-04-01 14:45:56.000000000,2021-04-07 08:13:05.000000000,2021-04-07 08:11:24.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-04-01 14:45:56.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fb409edeb76c9d21ee05424cf8c72994679107f7', 'message': ""Move static-inventory option into parser group\n\nStatic-inventory should not be in extra_vars_group, this\npatch move this option into parser.\nIt's faling when we want to provide both:\n--static-inventory and --extra-vars option since the\nextra_vars_group is mutually exclusive.\n\nChange-Id: I973ea8c210db477b735a99755332346a646bea19\n(cherry picked from commit 986f9261119f64fcbfe1c3957ee1c721eed370df)\n""}]",0,784400,fb409edeb76c9d21ee05424cf8c72994679107f7,12,3,1,16515,,,0,"Move static-inventory option into parser group

Static-inventory should not be in extra_vars_group, this
patch move this option into parser.
It's faling when we want to provide both:
--static-inventory and --extra-vars option since the
extra_vars_group is mutually exclusive.

Change-Id: I973ea8c210db477b735a99755332346a646bea19
(cherry picked from commit 986f9261119f64fcbfe1c3957ee1c721eed370df)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/00/784400/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,fb409edeb76c9d21ee05424cf8c72994679107f7,vf/static/inv-stable/victoria," parser.add_argument( '--static-inventory', action='store', default='', help=_( ""Provide your own static inventory file. You can generate "" ""such an inventory calling tripleo-ansible-inventory command. "" ""Especially useful when heat service isn't available."" ) ) "," extra_vars_group.add_argument( '--static-inventory', action='store', default='', help=_( ""Provide your own static inventory file. You can generate "" ""such an inventory calling tripleo-ansible-inventory command. "" ""Especially useful when heat service isn't available."" ) ) ",12,11
openstack%2Ftripleo-common~master~I5247b1aa9b6dbbbfacab62aa03beeecc7e4945a4,openstack/tripleo-common,master,I5247b1aa9b6dbbbfacab62aa03beeecc7e4945a4,Cache lsof results for the given path and TTL,ABANDONED,2021-04-01 09:59:34.000000000,2021-04-07 07:40:57.000000000,,"[{'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-01 09:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/512d59861f85675804e5f94332a4ecc5faf6b37c', 'message': 'Cache lsof results for the given path and TTL\n\nIn order to avoid spamming multiple lsof processes,\nsnapshot its results periodically for all healtchecks to use that\ncached view. The cached PATH and TTL are configurable.\n\nChange-Id: I5247b1aa9b6dbbbfacab62aa03beeecc7e4945a4\nCloses-Bug: #1921714\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-04-01 10:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/68a4b53ad6add7f307b42998fcb324356c1e6897', 'message': 'Cache lsof results for the given path and TTL\n\nIn order to avoid spamming multiple lsof processes,\nsnapshot its results periodically for all healtchecks to use that\ncached view. The cached PATH and TTL are configurable.\n\nChange-Id: I5247b1aa9b6dbbbfacab62aa03beeecc7e4945a4\nCloses-Bug: #1921714\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2021-04-01 15:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3c7f8e7f8e2c6854e5a7ffe2d5b1cef9ab0b34ac', 'message': 'Cache lsof results for the given path and TTL\n\nIn order to avoid spamming multiple lsof processes,\nsnapshot its results periodically for all healtchecks to use that\ncached view. The cached PATH and TTL are configurable.\n\nChange-Id: I5247b1aa9b6dbbbfacab62aa03beeecc7e4945a4\nCloses-Bug: #1921714\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2021-04-02 07:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/295d36185bfddd2eaed61a8c25a455fd36a66ddf', 'message': 'Cache lsof results for the given path and TTL\n\nIn order to avoid spamming multiple lsof processes,\nsnapshot its results periodically for all healtchecks to use that\ncached view. The cached PATH and TTL are configurable.\n\nMultiple containers will access the most recent snapshot in a\nlocks-free fashion. After TTL expires, all cached snapshots get\npurged.\n\nDepends-On: https://review.opendev.org/784540\nCloses-Bug: #1921714\nChange-Id: I5247b1aa9b6dbbbfacab62aa03beeecc7e4945a4\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2021-04-02 07:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8c4add67c30ed2f7401c5e863f5a45512a021029', 'message': 'Cache lsof results for the given path and TTL\n\nIn order to avoid spamming multiple lsof processes,\nsnapshot its results periodically for all healtchecks to use that\ncached view. The cached PATH and TTL are configurable.\n\nMultiple containers will access the most recent snapshot in a\nlocks-free fashion. After TTL expires, all cached snapshots get\npurged.\n\nDepends-On: https://review.opendev.org/784540\nCloses-Bug: #1921714\nChange-Id: I5247b1aa9b6dbbbfacab62aa03beeecc7e4945a4\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2021-04-02 11:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ca2ae101f3e2aec80261de592f5e3bf1e5e0cfb5', 'message': 'Cache lsof results for the given path and TTL\n\nIn order to avoid spamming multiple lsof processes,\nsnapshot its results periodically for all healtchecks to use that\ncached view. The cached PATH and TTL are configurable.\n\nMultiple containers will access the most recent snapshot in a\nlocks-free fashion. After TTL expires, all cached snapshots get\npurged.\n\nDepends-On: https://review.opendev.org/784540\nCloses-Bug: #1921714\nChange-Id: I5247b1aa9b6dbbbfacab62aa03beeecc7e4945a4\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2021-04-02 14:41:56.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c4a7105288091ed1aead8c834cce8c478f46b5ae', 'message': 'Cache lsof results for the given path and TTL\n\nIn order to avoid spamming multiple lsof processes,\nsnapshot its results periodically for all healtchecks to use that\ncached view. The cached PATH and TTL are configurable.\n\nMultiple containers will access the most recent snapshot in a\nlocks-free fashion. After TTL expires, all cached snapshots get\npurged.\n\nDepends-On: https://review.opendev.org/784540\nCloses-Bug: #1921714\nChange-Id: I5247b1aa9b6dbbbfacab62aa03beeecc7e4945a4\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",61,784359,c4a7105288091ed1aead8c834cce8c478f46b5ae,43,6,7,6926,,,0,"Cache lsof results for the given path and TTL

In order to avoid spamming multiple lsof processes,
snapshot its results periodically for all healtchecks to use that
cached view. The cached PATH and TTL are configurable.

Multiple containers will access the most recent snapshot in a
locks-free fashion. After TTL expires, all cached snapshots get
purged.

Depends-On: https://review.opendev.org/784540
Closes-Bug: #1921714
Change-Id: I5247b1aa9b6dbbbfacab62aa03beeecc7e4945a4
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/59/784359/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,512d59861f85675804e5f94332a4ecc5faf6b37c,healthcheck_reduce,": ${HEALTHCHECK_SNAPSHOT_FILE:='~/.lsnap.tmp'} : ${HEALTHCHECK_SNAPSHOT_TTL:=10}# Cache lsof snapshot in $HEALTHCHECK_SNAPSHOT_FILE, # for no longer than $HEALTHCHECK_SNAPSHOT_TTL seconds. # Outputs the cached data, like if the orignal ls would have printed it, based # on the given process, ports, and conn type (ESTABLISHED or LISTEN) filters _lsof_snapshot () { local process=""${1}"" local ports=""${2}"" local conn=""${3:-ESTABLISHED}"" local age=$HEALTHCHECK_SNAPSHOT_TTL local pids='0' local puser=""root"" local rc=0 ports=${ports// /|} pids=$(pgrep -d '|' -f $process) puser=$(get_user_from_process $process) if [ -f ""${HEALTHCHECK_SNAPSHOT_FILE}"" ]; then (( age = $(date +'%s') - $(date +'%s' -d ""$(stat --printf='%y\n' $HEALTHCHECK_SNAPSHOT_FILE)"") )) fi if [ $age -ge $HEALTHCHECK_SNAPSHOT_TTL ]; then # Update the expired cache contents with a new lsof info snapshot # NOTE: First match exits - usually TCP and ""sudo TCP"" are enough. # `sudo' is needed, as in some cases even root can get a ""permission denied"" # on some file descriptors (case for heat_manager for example) # UDP support is needed for octavia manager (UDP:5555). lsof -n -w -P -a -iTCP -iUDP 2>&1 > ""${HEALTHCHECK_SNAPSHOT_FILE}"" || \ sudo -u $puser lsof -n -w -P -a -iTCP -iUDP 2>&1 > ""${HEALTHCHECK_SNAPSHOT_FILE}"" fi if [ ""$conn"" = ""LISTEN"" ]; then grep -E ""\b($pids)\b.*\b($ports)\b.*\(LISTEN\)$"" ""${HEALTHCHECK_SNAPSHOT_FILE}"" >&3 rc=$? else grep -v \(LISTEN\) ""${HEALTHCHECK_SNAPSHOT_FILE}"" | \ grep -E ""\b($pids)\b.* $conn .*\b($ports)\b"" >&3 rc=$? fi return $? } _lsof_snapshot ""$process"" ""$args"" _lsof_snapshot ""$process"" ""$args"" LISTEN"," puser=$(get_user_from_process $process) ports=${args// /,} pids=$(pgrep -d ',' -f $process) # First match exits - usually TCP and ""sudo TCP"" are enough. # `sudo' is needed, as in some cases even root can get a ""permission denied"" # on some file descriptors (case for heat_manager for example) # UDP support is needed for octavia manager (UDP:5555). lsof -n -w -P -a -iTCP:${ports} -p${pids} >&3 2>&1 || \ sudo -u $puser lsof -n -w -P -a -iTCP:${ports} -p${pids} >&3 2>&1 || \ lsof -w -P -a -iUDP:${ports} -p${pids} >&3 2>&1 || \ sudo -u $puser lsof -n -w -P -a -iUDP:${ports} -p${pids} >&3 2>&1 ports=${args// /,} pids=$(pgrep -d ',' -f $process) lsof -n -w -P -a -p${pids} -iTCP:${ports} -s TCP:LISTEN >&3 2>&1",43,14
openstack%2Ftripleo-heat-templates~master~I6136bd1f64c44276006cedf9a03eacc1ff30fd73,openstack/tripleo-heat-templates,master,I6136bd1f64c44276006cedf9a03eacc1ff30fd73,Create shared healthchecks data dir,ABANDONED,2021-04-02 07:22:07.000000000,2021-04-07 07:40:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-02 07:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90951ab7a4966c8d7b5b075cf20d746a3862c96e', 'message': 'Create shared healthchecks data dir\n\nThis shared dir is needed for containers healthchecks to\nkeep its data there, like the cached network connections info.\n\nChange-Id: I6136bd1f64c44276006cedf9a03eacc1ff30fd73\nRelated-Bug: #1921714\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-04-02 11:31:03.000000000', 'files': ['deployment/containers-common.yaml', 'common/common-container-setup-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/723a6bcfcc09ac61ef0e27e93e196600be6538b7', 'message': 'Create shared healthchecks data dir\n\nThis shared dir is needed for containers healthchecks to\nkeep its data there, like the cached network connections info.\n\nChange-Id: I6136bd1f64c44276006cedf9a03eacc1ff30fd73\nRelated-Bug: #1921714\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,784540,723a6bcfcc09ac61ef0e27e93e196600be6538b7,15,2,2,6926,,,0,"Create shared healthchecks data dir

This shared dir is needed for containers healthchecks to
keep its data there, like the cached network connections info.

Change-Id: I6136bd1f64c44276006cedf9a03eacc1ff30fd73
Related-Bug: #1921714
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/784540/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/containers-common.yaml', 'common/common-container-setup-tasks.yaml']",2,90951ab7a4966c8d7b5b075cf20d746a3862c96e,healthcheck_reduce,- name: Create healthchecks data directory become: true file: path: /run/containers/openstack_healthcheck owner: root perm: '0755' state: directory selevel: s0 tags: - host_config - name: Ensure healthchecks data dir is present upon reboot become: true copy: dest: /etc/tmpfiles.d/run-healthcheck-data.conf content: | d /run/containers/openstack_healthcheck 0755 root root - - tags: - host_config ,,22,0
openstack%2Fmurano-agent~stable%2Fwallaby~I672d275490c9098f9f8835658921002416609da1,openstack/murano-agent,stable/wallaby,I672d275490c9098f9f8835658921002416609da1,Fix lower-constraints job,MERGED,2021-04-07 05:59:13.000000000,2021-04-07 07:19:46.000000000,2021-04-07 07:18:05.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 05:59:13.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'muranoagent/tests/unit/test_files_manager.py'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/7475858b30db28c3436f091b6893a1dd6a8306ec', 'message': 'Fix lower-constraints job\n\nChange-Id: I672d275490c9098f9f8835658921002416609da1\n(cherry picked from commit 89b4512e0d2ff084167416f0ef4a97f54c12e089)\n'}]",0,784991,7475858b30db28c3436f091b6893a1dd6a8306ec,7,2,1,14107,,,0,"Fix lower-constraints job

Change-Id: I672d275490c9098f9f8835658921002416609da1
(cherry picked from commit 89b4512e0d2ff084167416f0ef4a97f54c12e089)
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/91/784991/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'muranoagent/tests/unit/test_files_manager.py']",4,7475858b30db28c3436f091b6893a1dd6a8306ec,," files = files_manager.FilesManager(self.get_template_downloable(1)) files = files_manager.FilesManager(self.get_template_downloable(2)) files = files_manager.FilesManager(self.get_template_downloable(3)) files = files_manager.FilesManager(self.get_template_downloable(4)) files = files_manager.FilesManager(self.get_template_downloable(5)) template = self.get_template_downloable(6) files = files_manager.FilesManager(self.get_template_downloable(6)) def get_template_downloable(self, file_id):", files = files_manager.FilesManager(self.get_template_downloable()) files = files_manager.FilesManager(self.get_template_downloable()) files = files_manager.FilesManager(self.get_template_downloable()) files = files_manager.FilesManager(self.get_template_downloable()) files = files_manager.FilesManager(self.get_template_downloable()) template = self.get_template_downloable() files = files_manager.FilesManager(self.get_template_downloable()) def get_template_downloable(self):,158,70
openstack%2Fironic-inspector~bugfix%2F10.3~Icd3de82877c6a53d32b4c9fd3e500d3cd9d7fb17,openstack/ironic-inspector,bugfix/10.3,Icd3de82877c6a53d32b4c9fd3e500d3cd9d7fb17,Use correct Node id attribute,ABANDONED,2021-01-18 13:29:20.000000000,2021-04-07 07:19:29.000000000,,"[{'_account_id': 4571}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-18 13:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d869c601aa96d09444e4871c715eae24379825ad', 'message': ""Use correct Node id attribute\n\nAccording to the openstacksdk docs[1] the Node uuid is stored in the\nid attribute. This change removes the get_node shim which adds the\nuuid attribute, and replaces any calls to Node.uuid with Node.id. This\nwill stop the many log debug warnings about this attribute:\n\n    DEBUG openstack.resource [-] Attribute [uuid] not found in\n    [<openstack.resource._ComponentManager object at 0x7f417e43aa20>]:\n    'uuid'. __getattribute__ /usr/lib/python3.6/site-packages/openstack/resource.py:623\n\nCalls to NodeInfo.uuid or db.Node.uuid remain unchanged.\n\nChange-Id: Icd3de82877c6a53d32b4c9fd3e500d3cd9d7fb17\nStory: 2008379\nTask: 41300\n(cherry picked from commit c387cf305cd69a09554273d14199464fa2373272)\n(cherry picked from commit 70fccecb2da254d4e5e98b4b30f504e1b19c8408)\n""}, {'number': 2, 'created': '2021-01-18 13:33:01.000000000', 'files': ['ironic_inspector/node_cache.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'ironic_inspector/main.py', 'ironic_inspector/common/ironic.py', 'ironic_inspector/test/unit/test_main.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/bb25890584497795dbe6354f3c801dc8ab4d7bd6', 'message': ""Use correct Node id attribute\n\nAccording to the openstacksdk docs[1] the Node uuid is stored in the\nid attribute. This change removes the get_node shim which adds the\nuuid attribute, and replaces any calls to Node.uuid with Node.id. This\nwill stop the many log debug warnings about this attribute:\n\n    DEBUG openstack.resource [-] Attribute [uuid] not found in\n    [<openstack.resource._ComponentManager object at 0x7f417e43aa20>]:\n    'uuid'. __getattribute__ /usr/lib/python3.6/site-packages/openstack/resource.py:623\n\nCalls to NodeInfo.uuid or db.Node.uuid remain unchanged.\n\nChange-Id: Icd3de82877c6a53d32b4c9fd3e500d3cd9d7fb17\nStory: 2008379\nTask: 41300\n(cherry picked from commit c387cf305cd69a09554273d14199464fa2373272)\n(cherry picked from commit 70fccecb2da254d4e5e98b4b30f504e1b19c8408)\n""}]",0,771197,bb25890584497795dbe6354f3c801dc8ab4d7bd6,5,2,2,23851,,,0,"Use correct Node id attribute

According to the openstacksdk docs[1] the Node uuid is stored in the
id attribute. This change removes the get_node shim which adds the
uuid attribute, and replaces any calls to Node.uuid with Node.id. This
will stop the many log debug warnings about this attribute:

    DEBUG openstack.resource [-] Attribute [uuid] not found in
    [<openstack.resource._ComponentManager object at 0x7f417e43aa20>]:
    'uuid'. __getattribute__ /usr/lib/python3.6/site-packages/openstack/resource.py:623

Calls to NodeInfo.uuid or db.Node.uuid remain unchanged.

Change-Id: Icd3de82877c6a53d32b4c9fd3e500d3cd9d7fb17
Story: 2008379
Task: 41300
(cherry picked from commit c387cf305cd69a09554273d14199464fa2373272)
(cherry picked from commit 70fccecb2da254d4e5e98b4b30f504e1b19c8408)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/97/771197/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/node_cache.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'ironic_inspector/main.py', 'ironic_inspector/common/ironic.py', 'ironic_inspector/test/unit/test_main.py']",5,d869c601aa96d09444e4871c715eae24379825ad,node_id-stable/victoria-bugfix/10.3, get_mock.return_value = mock.Mock(id=self.uuid), get_mock.return_value = mock.Mock(uuid=self.uuid),14,7
openstack%2Fheat~stable%2Fwallaby~Icc90a921ec67e49aec2c4acfad72235c57c78421,openstack/heat,stable/wallaby,Icc90a921ec67e49aec2c4acfad72235c57c78421,Don't update status for replaced resource,MERGED,2021-04-02 03:46:41.000000000,2021-04-07 07:19:16.000000000,2021-04-07 07:17:25.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 03:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d7dc3a391afbb6a5c0cc78bda266824ca1d9247d', 'message': ""Don't update status for replaced resource\n\nWith I04e7ad90944c2d03ce0e59ba16af9d60d6e01222 we allowed\nupdate of previously-existing resource if replacement\ncreation has failed during last update. However, we force\nupdate the status of the existing resource to 'COMPLETE'.\nTherefore, in the next update if properties/type has not\nchanged for the resource it won't try to update/replace\nthe previously existing resource resulting in false positive\nof stack updated successfully.\n\nTask: 42194\nChange-Id: Icc90a921ec67e49aec2c4acfad72235c57c78421\n(cherry picked from commit bfbaab107d709c37548a22239b952c6221b9ac85)\n""}, {'number': 2, 'created': '2021-04-02 05:36:58.000000000', 'files': ['heat/tests/db/test_sqlalchemy_api.py', 'heat/objects/resource.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/7af71497ed15882a0f2a543cd8dd83c60b781f95', 'message': ""Don't update status for replaced resource\n\nWith I04e7ad90944c2d03ce0e59ba16af9d60d6e01222 we allowed\nupdate of previously-existing resource if replacement\ncreation has failed during last update. However, we force\nupdate the status of the existing resource to 'COMPLETE'.\nTherefore, in the next update if properties/type has not\nchanged for the resource it won't try to update/replace\nthe previously existing resource resulting in false positive\nof stack updated successfully.\n\nTask: 42194\nChange-Id: Icc90a921ec67e49aec2c4acfad72235c57c78421\n(cherry picked from commit bfbaab107d709c37548a22239b952c6221b9ac85)\n""}]",0,784409,7af71497ed15882a0f2a543cd8dd83c60b781f95,12,3,2,8833,,,0,"Don't update status for replaced resource

With I04e7ad90944c2d03ce0e59ba16af9d60d6e01222 we allowed
update of previously-existing resource if replacement
creation has failed during last update. However, we force
update the status of the existing resource to 'COMPLETE'.
Therefore, in the next update if properties/type has not
changed for the resource it won't try to update/replace
the previously existing resource resulting in false positive
of stack updated successfully.

Task: 42194
Change-Id: Icc90a921ec67e49aec2c4acfad72235c57c78421
(cherry picked from commit bfbaab107d709c37548a22239b952c6221b9ac85)
",git fetch https://review.opendev.org/openstack/heat refs/changes/09/784409/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/db/test_sqlalchemy_api.py', 'heat/objects/resource.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/resource.py']",4,d7dc3a391afbb6a5c0cc78bda266824ca1d9247d,,," update_data = {'status': self.COMPLETE} update_data,",2,12
openstack%2Fbifrost~bugfix%2F8.3~Ie5e6a655b103dd7edb447f56bff8da870193deba,openstack/bifrost,bugfix/8.3,Ie5e6a655b103dd7edb447f56bff8da870193deba,Remove lower-constraints job,ABANDONED,2021-01-06 09:56:43.000000000,2021-04-07 07:19:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-06 09:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6e9656ab14ec1967ace2ca6eb5a9247c55e8ca7d', 'message': 'Remove lower-constraints job\n\nAs discussed during the upstream ironic community meeting on\nMonday Dec 14 2020, the lower-constraints job is being removed.\n\nChange-Id: Ie5e6a655b103dd7edb447f56bff8da870193deba\n(cherry picked from commit 986427ce8eaa96e820f3cb8cda4cc1954c449994)\n'}, {'number': 2, 'created': '2021-01-06 09:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/041bd73519d5818e8fef57e283c6c0237b24d364', 'message': 'Remove lower-constraints job\n\nAs discussed during the upstream ironic community meeting on\nMonday Dec 14 2020, the lower-constraints job is being removed.\n\nChange-Id: Ie5e6a655b103dd7edb447f56bff8da870193deba\n(cherry picked from commit 986427ce8eaa96e820f3cb8cda4cc1954c449994)\n'}, {'number': 3, 'created': '2021-01-06 10:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/87e6f8050cbdf7225dd7fd2b6473e6815adfa076', 'message': 'Remove lower-constraints job\n\nAs discussed during the upstream ironic community meeting on\nMonday Dec 14 2020, the lower-constraints job is being removed.\n\nChange-Id: Ie5e6a655b103dd7edb447f56bff8da870193deba\n(cherry picked from commit 986427ce8eaa96e820f3cb8cda4cc1954c449994)\n'}, {'number': 4, 'created': '2021-01-06 10:01:59.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/14edfae364f4f03540faca515abd0ba6373bc0a1', 'message': 'Remove lower-constraints job\n\nAs discussed during the upstream ironic community meeting on\nMonday Dec 14 2020, the lower-constraints job is being removed.\n\nChange-Id: Ie5e6a655b103dd7edb447f56bff8da870193deba\n(cherry picked from commit 986427ce8eaa96e820f3cb8cda4cc1954c449994)\n'}]",0,769498,14edfae364f4f03540faca515abd0ba6373bc0a1,10,1,4,23851,,,0,"Remove lower-constraints job

As discussed during the upstream ironic community meeting on
Monday Dec 14 2020, the lower-constraints job is being removed.

Change-Id: Ie5e6a655b103dd7edb447f56bff8da870193deba
(cherry picked from commit 986427ce8eaa96e820f3cb8cda4cc1954c449994)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/98/769498/4 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'zuul.d/project.yaml']",2,6e9656ab14ec1967ace2ca6eb5a9247c55e8ca7d,remove-l-c-job,<<<<<<< HEAD (eaa002 Fix l-c testing for Ubuntu Focal (py38))======= - openstack-python3-wallaby-jobs >>>>>>> CHANGE (986427 Remove lower-constraints job),,7,0
openstack%2Fironic-inspector~bugfix%2F10.3~I943b63b9c6a980011b35bb028c64bee18d772750,openstack/ironic-inspector,bugfix/10.3,I943b63b9c6a980011b35bb028c64bee18d772750,Remove lower-constraints job,ABANDONED,2021-01-06 10:56:22.000000000,2021-04-07 07:18:44.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 10:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/9a7bf5a650ac5ef0017d7dc3310807215c2a1d45', 'message': 'Remove lower-constraints job\n\nAs discussed during the upstream ironic community meeting on\nMonday Dec 14 2020, the lower-constraints job is being removed.\n\nChange-Id: I943b63b9c6a980011b35bb028c64bee18d772750\n(cherry picked from commit c6fdf2511697305e2f00ec444081ab3353074b22)\n'}, {'number': 2, 'created': '2021-01-06 10:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/619248be4eca26186a0605f68b27231b8406ec71', 'message': 'Remove lower-constraints job\n\nAs discussed during the upstream ironic community meeting on\nMonday Dec 14 2020, the lower-constraints job is being removed.\n\nChange-Id: I943b63b9c6a980011b35bb028c64bee18d772750\n(cherry picked from commit c6fdf2511697305e2f00ec444081ab3353074b22)\n'}, {'number': 3, 'created': '2021-01-07 10:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/60f67927897d13fe2730f601f13fd0f7d38f9260', 'message': 'Remove lower-constraints job\n\nAs discussed during the upstream ironic community meeting on\nMonday Dec 14 2020, the lower-constraints job is being removed.\n\nAlso fixing user creation with GRANT in MySQL 8.0(Ubuntu Focal)\nUbuntu Focal (20.04) has mysql 8.0 and with mysql 8.0 there\nis no implicit user creation with GRANT. We need to\ncreate the user first before using GRANT command.\n\nChange-Id: I943b63b9c6a980011b35bb028c64bee18d772750\n(cherry picked from commit c6fdf2511697305e2f00ec444081ab3353074b22)\n(cherry picked from commit 9a89c304797e8d7f2a64a0516d4aeb085abcefe3)\n'}, {'number': 4, 'created': '2021-01-18 08:52:14.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/ironic-inspector-jobs.yaml', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7d30d642c2e0f632dd3b7b84e48cd6391e08b5b4', 'message': 'Remove lower-constraints job\n\nAs discussed during the upstream ironic community meeting on\nMonday Dec 14 2020, the lower-constraints job is being removed.\n\nAlso fixing user creation with GRANT in MySQL 8.0(Ubuntu Focal)\nUbuntu Focal (20.04) has mysql 8.0 and with mysql 8.0 there\nis no implicit user creation with GRANT. We need to\ncreate the user first before using GRANT command.\n\nAlso increase memory for the grenade job.\n\nChange-Id: I943b63b9c6a980011b35bb028c64bee18d772750\n(cherry picked from commit c6fdf2511697305e2f00ec444081ab3353074b22)\n(cherry picked from commit 9a89c304797e8d7f2a64a0516d4aeb085abcefe3)\n'}]",0,769504,7d30d642c2e0f632dd3b7b84e48cd6391e08b5b4,15,2,4,23851,,,0,"Remove lower-constraints job

As discussed during the upstream ironic community meeting on
Monday Dec 14 2020, the lower-constraints job is being removed.

Also fixing user creation with GRANT in MySQL 8.0(Ubuntu Focal)
Ubuntu Focal (20.04) has mysql 8.0 and with mysql 8.0 there
is no implicit user creation with GRANT. We need to
create the user first before using GRANT command.

Also increase memory for the grenade job.

Change-Id: I943b63b9c6a980011b35bb028c64bee18d772750
(cherry picked from commit c6fdf2511697305e2f00ec444081ab3353074b22)
(cherry picked from commit 9a89c304797e8d7f2a64a0516d4aeb085abcefe3)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/04/769504/4 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'zuul.d/project.yaml']",2,9a7bf5a650ac5ef0017d7dc3310807215c2a1d45,remove-l-c-job,<<<<<<< HEAD (aef006 Correct the constraints link in tox.ini)======= - openstack-python3-wallaby-jobs >>>>>>> CHANGE (c6fdf2 Remove lower-constraints job),,7,0
openstack%2Fbifrost~stable%2Fussuri~Ieebe2690a1b084c04476d7e7e1c836517860e3c0,openstack/bifrost,stable/ussuri,Ieebe2690a1b084c04476d7e7e1c836517860e3c0,[DNM] test CI ussuri,ABANDONED,2021-02-01 09:21:32.000000000,2021-04-07 07:18:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-01 09:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/33d9ebfeca66c4454f1b625d7827af8168a52e45', 'message': '[DNM] test ci ussuri\n\nChange-Id: Ieebe2690a1b084c04476d7e7e1c836517860e3c0\n'}, {'number': 2, 'created': '2021-02-01 09:22:41.000000000', 'files': ['playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3292ee5dd73672933f55ccf63272b3678c7aef9a', 'message': '[DNM] test CI ussuri\n\nChange-Id: Ieebe2690a1b084c04476d7e7e1c836517860e3c0\n'}]",0,773319,3292ee5dd73672933f55ccf63272b3678c7aef9a,4,1,2,23851,,,0,"[DNM] test CI ussuri

Change-Id: Ieebe2690a1b084c04476d7e7e1c836517860e3c0
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/19/773319/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml'],1,33d9ebfeca66c4454f1b625d7827af8168a52e45,test-ci-ussuri, # DNM ,,3,0
openstack%2Fbifrost~stable%2Fvictoria~Id09a11fde8a82f55140685bc1bc2b455ef57a571,openstack/bifrost,stable/victoria,Id09a11fde8a82f55140685bc1bc2b455ef57a571,[DNM] test CI victoria,ABANDONED,2021-01-28 17:06:02.000000000,2021-04-07 07:17:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-28 17:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/14df29a33eb0c68c99d1ffa30165d8bb37b6a010', 'message': '[DNM] test CI\n\nChange-Id: Id09a11fde8a82f55140685bc1bc2b455ef57a571\n'}, {'number': 2, 'created': '2021-02-01 09:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5f6e0e19eeaaa05ac46b3e75b85d24bdb6d5c15e', 'message': '[DNM] test CI victoria\n\nChange-Id: Id09a11fde8a82f55140685bc1bc2b455ef57a571\n'}, {'number': 3, 'created': '2021-02-04 12:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fd89deb97cfd9cff269ccf2de7c373b5a8ad0f2a', 'message': '[DNM] test CI victoria\n\nChange-Id: Id09a11fde8a82f55140685bc1bc2b455ef57a571\n'}, {'number': 4, 'created': '2021-03-03 10:53:02.000000000', 'files': ['playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ab7a9e1038d65ea9ddcd8cbe7618cd8aa859a441', 'message': '[DNM] test CI victoria\n\nChange-Id: Id09a11fde8a82f55140685bc1bc2b455ef57a571\n'}]",0,772926,ab7a9e1038d65ea9ddcd8cbe7618cd8aa859a441,11,1,4,23851,,,0,"[DNM] test CI victoria

Change-Id: Id09a11fde8a82f55140685bc1bc2b455ef57a571
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/26/772926/4 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml'],1,14df29a33eb0c68c99d1ffa30165d8bb37b6a010,test-ci-victoria, # DNM ,,3,0
openstack%2Fmurano-agent~master~Ibf617430ca574d67160f0f66bf964c6609448835,openstack/murano-agent,master,Ibf617430ca574d67160f0f66bf964c6609448835,Add Python3 xena unit tests,MERGED,2021-03-26 18:33:56.000000000,2021-04-07 07:14:42.000000000,2021-04-07 07:14:42.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 18:33:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/80bbf4e75bc93c5a7ffa165a5ffa162c211f40f2', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ibf617430ca574d67160f0f66bf964c6609448835\n'}]",0,783424,80bbf4e75bc93c5a7ffa165a5ffa162c211f40f2,8,2,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ibf617430ca574d67160f0f66bf964c6609448835
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/24/783424/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,80bbf4e75bc93c5a7ffa165a5ffa162c211f40f2,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fpython-solumclient~stable%2Fwallaby~I5c23a28660be9c0901befaeb1571cb3b94aca572,openstack/python-solumclient,stable/wallaby,I5c23a28660be9c0901befaeb1571cb3b94aca572,Fix lower-constraints job,MERGED,2021-04-07 05:58:43.000000000,2021-04-07 07:14:01.000000000,2021-04-07 07:12:31.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-07 05:58:43.000000000', 'files': ['solumclient/common/cliutils.py', 'requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/2b3dd159cf83ccde1f66f013336bc0fc8a12a382', 'message': 'Fix lower-constraints job\n\nChange-Id: I5c23a28660be9c0901befaeb1571cb3b94aca572\n(cherry picked from commit 7156485d743ce58f0adba739ca7839d81c9362a9)\n'}]",0,784990,2b3dd159cf83ccde1f66f013336bc0fc8a12a382,7,2,1,14107,,,0,"Fix lower-constraints job

Change-Id: I5c23a28660be9c0901befaeb1571cb3b94aca572
(cherry picked from commit 7156485d743ce58f0adba739ca7839d81c9362a9)
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/90/784990/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'solumclient/common/cliutils.py', 'test-requirements.txt', 'lower-constraints.txt']",4,2b3dd159cf83ccde1f66f013336bc0fc8a12a382,,amqp==2.1.1asn1crypto==0.23.0cachetools==2.0.0 cffi==1.14.0 cliff==2.8.0 cmd2==0.8.0 contextlib2==0.4.0cryptography==2.1 ddt==1.0.1decorator==3.4.0 deprecation==1.0 dogpile.cache==0.6.2 eventlet==0.18.2fasteners==0.7.0future==0.16.0 futurist==1.2.0 gitdb==0.6.4 GitPython==1.0.1 greenlet==0.4.15 httplib2==0.18.1 idna==2.6Jinja2==2.10 jmespath==0.9.0 jsonpatch==1.16 jsonpointer==1.13keystoneauth1==3.5.0 kombu==4.0.0MarkupSafe==1.1.1munch==2.1.0openstacksdk==0.11.2os-service-types==1.2.0 osc-lib==1.8.0 oslo.concurrency==3.25.0oslo.messaging==5.29.0 oslo.middleware==3.31.0oslo.service==1.24.0oslotest==4.4.1 osprofiler==1.4.0 paramiko==2.0.0 Paste==2.0.2 PasteDeploy==1.5.0pika==0.10.0 pika-pool==0.1.3PrettyTable==0.7.2 pyasn1==0.1.8 pycparser==2.18pyOpenSSL==17.1.0pyperclip==1.5.27 python-cinderclient==3.3.0python-glanceclient==2.8.0python-neutronclient==6.7.0PyYAML==3.13 repoze.lru==0.7requests-mock==1.2.0Routes==2.3.1 smmap==0.9.0 statsd==3.2.1 stevedore==2.0.1 tempest==17.1.0 tenacity==3.2.1urllib3==1.21.1 vine==1.1.4 warlock==1.2.0 WebOb==1.7.1,flake8==2.5.5 hacking==0.12.0 httplib2==0.9.1keystoneauth1==3.4.0mccabe==0.2.1mox3==0.20.0oslotest==3.2.0pep8==1.5.7prettytable==0.7.2 pyflakes==0.8.1PyYAML==3.12stevedore==1.20.0,72,21
openstack%2Fcyborg~stable%2Fwallaby~I03ccdd6799f25e5ffa987d36955759705e0750b3,openstack/cyborg,stable/wallaby,I03ccdd6799f25e5ffa987d36955759705e0750b3,Revert device_profile key to show device profile API,MERGED,2021-04-07 05:36:52.000000000,2021-04-07 07:11:24.000000000,2021-04-07 07:10:10.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-04-07 05:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9d15b2fc2e1ef0080a0dbd4939ccb659fbe40bcf', 'message': ""Revert device_profile key to show device profile API\n\nThis patch[1] remove the 'device_profile' key in the get device profile\napi, which affects the stable/* branch's CI job such as [2], and the\n'device_profile' can not be removed from the response. In the future,\nwe can use add a microversion to support removing it, that can be\nunified with other APIs like devices and arqs.\n\n[1] https://review.opendev.org/c/openstack/cyborg/+/751988\n[2] https://review.opendev.org/c/openstack/cyborg/+/782134\n\nDepends-On: https://review.opendev.org/c/openstack/cyborg-tempest-plugin/+/784527\n\nCloses-Bug: #1922183\nChange-Id: I03ccdd6799f25e5ffa987d36955759705e0750b3\n(cherry picked from commit 008c3668c04d3f98362fed9502ffaba731d15763)\n""}, {'number': 2, 'created': '2021-04-07 05:41:56.000000000', 'files': ['cyborg/tests/unit/api/controllers/v2/test_device_profiles.py', 'cyborg/api/controllers/v2/device_profiles.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/40408435869cecd87fb53ed5fccdc2160ae01540', 'message': ""Revert device_profile key to show device profile API\n\nThis patch[1] remove the 'device_profile' key in the get device profile\napi, which affects the stable/* branch's CI job such as [2], and the\n'device_profile' can not be removed from the response. In the future,\nwe can use add a microversion to support removing it, that can be\nunified with other APIs like devices and arqs.\n\n[1] https://review.opendev.org/c/openstack/cyborg/+/751988\n[2] https://review.opendev.org/c/openstack/cyborg/+/782134\n\nDepends-On: https://review.opendev.org/c/openstack/cyborg-tempest-plugin/+/784527\n\nCloses-Bug: #1922183\nChange-Id: I03ccdd6799f25e5ffa987d36955759705e0750b3\n(cherry picked from commit 008c3668c04d3f98362fed9502ffaba731d15763)\n""}]",0,784989,40408435869cecd87fb53ed5fccdc2160ae01540,11,3,2,31412,,,0,"Revert device_profile key to show device profile API

This patch[1] remove the 'device_profile' key in the get device profile
api, which affects the stable/* branch's CI job such as [2], and the
'device_profile' can not be removed from the response. In the future,
we can use add a microversion to support removing it, that can be
unified with other APIs like devices and arqs.

[1] https://review.opendev.org/c/openstack/cyborg/+/751988
[2] https://review.opendev.org/c/openstack/cyborg/+/782134

Depends-On: https://review.opendev.org/c/openstack/cyborg-tempest-plugin/+/784527

Closes-Bug: #1922183
Change-Id: I03ccdd6799f25e5ffa987d36955759705e0750b3
(cherry picked from commit 008c3668c04d3f98362fed9502ffaba731d15763)
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/89/784989/2 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/tests/unit/api/controllers/v2/test_device_profiles.py', 'cyborg/api/controllers/v2/device_profiles.py']",2,9d15b2fc2e1ef0080a0dbd4939ccb659fbe40bcf,bug/1922183," def get_device_profile(self, obj_devprof): api_obj = {} for field in ['name', 'description', 'uuid', 'groups']: api_obj[field] = obj_devprof[field] for field in ['created_at', 'updated_at']: api_obj[field] = str(obj_devprof[field]) api_obj['links'] = [ link.Link.make_link_dict('device_profiles', api_obj['uuid']) ] return api_obj class DeviceProfileCollection(DeviceProfile): def get_device_profiles(self, obj_devprofs): api_obj_devprofs = [ self.get_device_profile(obj_devprof) for obj_devprof in obj_devprofs] return api_obj_devprofs @expose.expose('json', wtypes.text) obj_devprofs = self._get_device_profile_list(uuid=uuid) api_obj_devprofs = self.get_device_profiles(obj_devprofs) ret = {""device_profile"": api_obj_devprofs[0]} # TODO(Sundar) Replace this with convert_with_links() return wsme.api.Response(ret, status_code=HTTPStatus.OK, return_type=wsme.types.DictType)"," class DeviceProfileCollection(base.APIBase): @expose.expose(DeviceProfile, wtypes.text) api_obj_devprofs = self._get_device_profile_list(uuid=uuid) ret = api_obj_devprofs[0] return DeviceProfile.convert_with_links(ret)",27,6
openstack%2Ftripleo-docs~master~I9af03c6de241ad7fe706ee12bdd2a6eece9880a6,openstack/tripleo-docs,master,I9af03c6de241ad7fe706ee12bdd2a6eece9880a6,Add some docs for pre_deploy_step_tasks,MERGED,2021-04-02 06:21:48.000000000,2021-04-07 07:02:36.000000000,2021-04-07 07:01:11.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-02 06:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/25aebcb528518d5f8eb38b5cc10bd86a5db72349', 'message': ""Add some docs for pre_deploy_setup_tasks\n\nVia If3c74703a684fbd5a815e073cc9da34e9ad672e8 we're adding a new\nset of tasks, let's document those.\n\nChange-Id: I9af03c6de241ad7fe706ee12bdd2a6eece9880a6\nDepends-On: If3c74703a684fbd5a815e073cc9da34e9ad672e8\n""}, {'number': 2, 'created': '2021-04-02 06:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4771c4c0f2ba47aa0bc10a49d85d2d125ae0f6ea', 'message': ""Add some docs for pre_deploy_step_tasks\n\nVia If3c74703a684fbd5a815e073cc9da34e9ad672e8 we're adding a new\nset of tasks, let's document those.\n\nChange-Id: I9af03c6de241ad7fe706ee12bdd2a6eece9880a6\nDepends-On: If3c74703a684fbd5a815e073cc9da34e9ad672e8\n""}, {'number': 3, 'created': '2021-04-02 16:53:33.000000000', 'files': ['doc/source/developer/tht_walkthrough/service_template_sections.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/ce853b2f97d8381ef7db5488394567ee9d3d5b9e', 'message': ""Add some docs for pre_deploy_step_tasks\n\nVia If3c74703a684fbd5a815e073cc9da34e9ad672e8 we're adding a new\nset of tasks, let's document those.\n\nChange-Id: I9af03c6de241ad7fe706ee12bdd2a6eece9880a6\nDepends-On: If3c74703a684fbd5a815e073cc9da34e9ad672e8\n""}]",2,784534,ce853b2f97d8381ef7db5488394567ee9d3d5b9e,17,3,3,20172,,,0,"Add some docs for pre_deploy_step_tasks

Via If3c74703a684fbd5a815e073cc9da34e9ad672e8 we're adding a new
set of tasks, let's document those.

Change-Id: I9af03c6de241ad7fe706ee12bdd2a6eece9880a6
Depends-On: If3c74703a684fbd5a815e073cc9da34e9ad672e8
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/34/784534/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/developer/tht_walkthrough/service_template_sections.rst'],1,25aebcb528518d5f8eb38b5cc10bd86a5db72349,pre_deploy_setup_tasks,"Pre Deploy Step tasks (or ``pre_deploy_step_tasks``) ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ These are Ansible tasks that take place in the overcloud nodes. They are run after the network is completely setup, after the bits to prepare for containers running are completed (kolla files, container engine installation and configuration). They are also run before any External deploy tasks. ",,8,0
openstack%2Fironic-python-agent~stable%2Fussuri~If17d4b4c06df5504987e61a1fde6662e9acd6989,openstack/ironic-python-agent,stable/ussuri,If17d4b4c06df5504987e61a1fde6662e9acd6989,Prevent broken partition image UEFI deploys,MERGED,2021-03-23 02:20:29.000000000,2021-04-07 06:21:18.000000000,2021-04-07 06:18:00.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-03-23 02:20:29.000000000', 'files': ['releasenotes/notes/preserve-efi-folder-contents-ea1e278b3093ec55.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9783992341f64ba7c88e52ce80ad3ac48a304306', 'message': 'Prevent broken partition image UEFI deploys\n\nPartition images can sometimes contain a /boot folder structure\nevent he assets for EFI booting on that filesystem. Which is a\ngood thing. The conundrum is that Ironic does not handle this\nproperly and potentially replaces the bootloader in this sequence\nsuch that grub2-install is used instead of signed bootloader assets.\n\nAs such, we should be preserving the assets and using them from\na partition image much like we do when we have a wholedisk\nimage and can identify the assets.\n\nNow we will preserve the EFI boot assets, copy them to the new EFI\nboot partition, and call the EFI setup methods to manage the EFI\nnvram.\n\nNote, this change also splits the logic path out that performs the\nend call of the EFI boot manager into a reusable method but does\nnot retool all of the testing as it is intertwined in the\ninstall_grub2 testing.\n\nAlso adds some additional debug logging, as much of the bootloader\ninstallation code has multiple fallback/cleanup points which makes\nit difficult to debug from logs.\n\nStory: 2008070\nTask: 40753\nChange-Id: If17d4b4c06df5504987e61a1fde6662e9acd6989\n(cherry picked from commit f9870d58120a493c40493df6ef22662364138c31)\n'}]",0,782351,9783992341f64ba7c88e52ce80ad3ac48a304306,20,3,1,4571,,,0,"Prevent broken partition image UEFI deploys

Partition images can sometimes contain a /boot folder structure
event he assets for EFI booting on that filesystem. Which is a
good thing. The conundrum is that Ironic does not handle this
properly and potentially replaces the bootloader in this sequence
such that grub2-install is used instead of signed bootloader assets.

As such, we should be preserving the assets and using them from
a partition image much like we do when we have a wholedisk
image and can identify the assets.

Now we will preserve the EFI boot assets, copy them to the new EFI
boot partition, and call the EFI setup methods to manage the EFI
nvram.

Note, this change also splits the logic path out that performs the
end call of the EFI boot manager into a reusable method but does
not retool all of the testing as it is intertwined in the
install_grub2 testing.

Also adds some additional debug logging, as much of the bootloader
installation code has multiple fallback/cleanup points which makes
it difficult to debug from logs.

Story: 2008070
Task: 40753
Change-Id: If17d4b4c06df5504987e61a1fde6662e9acd6989
(cherry picked from commit f9870d58120a493c40493df6ef22662364138c31)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/51/782351/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/preserve-efi-folder-contents-ea1e278b3093ec55.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",3,9783992341f64ba7c88e52ce80ad3ac48a304306,fstab-ussuri," LOG.debug('Executing _manage_uefi clean-up.') efi_preserved = False path_variable = _get_path_variable() _mount_for_chroot(path) # UEFI asset management for RAID is handled elsewhere if not hardware.is_md_device(device) and efi_partition_mount_point: # NOTE(TheJulia): It may make sense to retool all efi # asset preservation logic at some point since the paths # can be a little different, but largely this is JUST for # partition images as there _should not_ be a mount # point if we have no efi partitions at all. efi_preserved = _try_preserve_efi_assets( device, path, efi_system_part_uuid, efi_partitions, efi_partition_mount_point) if efi_preserved: # Success preserving efi assets return else: # Failure, either via exception or not found # which in this case the partition needs to be # remounted. LOG.debug('No EFI assets were preserved for setup or the ' 'ramdisk was unable to complete the setup. ' 'falling back to bootloader installation from' 'deployed image.') if not os.path.ismount(root_partition): LOG.debug('Re-mounting the root partition.') utils.execute('mount', root_partition, path) LOG.warning(""GRUB2 will be installed for UEFI on efi partitions "" ""%s using the install command which does not place "" ""Secure Boot signed binaries."", efi_partitions) # NOTE(TheJulia): Setup grub configuration again since IF we reach # this point, then we've manually installed grub which is not the # recommended path. _configure_grub(device, path) LOG.debug('Executing _install_grub2 clean-up.') if _umount_all_partitions(path, path_variable, umount_warn_msg):def _get_path_variable(): # Add /bin to PATH variable as grub requires it to find efibootmgr # when running in uefi boot mode. # Add /usr/sbin to PATH variable to ensure it is there as we do # not use full path to grub binary anymore. path_variable = os.environ.get('PATH', '') return '%s:/bin:/usr/sbin:/sbin' % path_variable def _configure_grub(device, path): """"""Make consolidated grub configuration as it is device aware. :param device: The device for the filesystem. :param path: The path in which the filesystem is mounted. """""" LOG.debug('Attempting to generate grub Configuration') path_variable = _get_path_variable() binary_name = ""grub"" if os.path.exists(os.path.join(path, 'usr/sbin/grub2-install')): binary_name = ""grub2"" # If the image has dracut installed, set the rd.md.uuid kernel # parameter for discovered md devices. if hardware.is_md_device(device) and _has_dracut(path): rd_md_uuids = [""rd.md.uuid=%s"" % x['UUID'] for x in hardware.md_get_raid_devices().values()] LOG.debug(""Setting rd.md.uuid kernel parameters: %s"", rd_md_uuids) with open('%s/etc/default/grub' % path, 'r') as g: contents = g.read() with open('%s/etc/default/grub' % path, 'w') as g: g.write( re.sub(r'GRUB_CMDLINE_LINUX=""(.*)""', r'GRUB_CMDLINE_LINUX=""\1 %s""' % "" "".join(rd_md_uuids), contents)) utils.execute('chroot %(path)s /bin/sh -c ' '""%(bin)s-mkconfig -o ' '/boot/%(bin)s/grub.cfg""' % {'path': path, 'bin': binary_name}, shell=True, env_variables={'PATH': path_variable, 'GRUB_DISABLE_OS_PROBER': 'true', 'GRUB_SAVEDEFAULT': 'true'}, use_standard_locale=True) LOG.debug('Completed basic grub configuration.') def _mount_for_chroot(path): """"""Mount items for grub-mkconfig to succeed."""""" LOG.debug('Mounting Linux standard partitions for bootloader ' 'configuration generation') for fs in BIND_MOUNTS: utils.execute('mount', '-o', 'bind', fs, path + fs) utils.execute('mount', '-t', 'sysfs', 'none', path + '/sys') def _try_preserve_efi_assets(device, path, efi_system_part_uuid, efi_partitions, efi_partition_mount_point): """"""Attempt to preserve UEFI boot assets. :param device: The device upon which wich to try to preserve assets. :param path: The path in which the filesystem is already mounted which we should examine to preserve assets from. :param efi_system_part_uuid: The partition ID representing the created EFI system partition. :param efi_partitions: The list of partitions upon wich to write the preserved assets to. :param efi_partition_mount_point: The folder at which to mount the assets for the process of preservation. :returns: True if assets have been preserved, otherwise False. None is the result of this method if a failure has occured. """""" efi_assets_folder = efi_partition_mount_point + '/EFI' if os.path.exists(efi_assets_folder): # We appear to have EFI Assets, that need to be preserved # and as such if we succeed preserving them, we will be returned # True from _preserve_efi_assets to correspond with success or # failure in this action. # NOTE(TheJulia): Still makes sense to invoke grub-install as # fragmentation of grub has occured. if (os.path.exists(os.path.join(path, 'usr/sbin/grub2-install')) or os.path.exists(os.path.join(path, 'usr/sbin/grub-install'))): _configure_grub(device, path) # But first, if we have grub, we should try to build a grub config! LOG.debug('EFI asset folder detected, attempting to preserve assets.') if _preserve_efi_assets(path, efi_assets_folder, efi_partitions, efi_partition_mount_point): try: # Since we have preserved the assets, we should be able # to call the _efi_boot_setup method to scan the device # and add loader entries efi_preserved = _efi_boot_setup(device, efi_system_part_uuid) # Executed before the return so we don't return and then begin # execution. return efi_preserved except Exception as e: # Remount the partition and proceed as we were. LOG.debug('Exception encountered while attempting to ' 'setup the EFI loader from a root ' 'filesystem. Error: %s', e) def _efi_boot_setup(device, efi_system_part_uuid=None, target_boot_mode=None): """"""Identify and setup an EFI bootloader from supplied partition/disk. :param device: The device upon which to attempt the EFI bootloader setup. :param efi_system_part_uuid: The partition UUID to utilize in searching for an EFI bootloader. :param target_boot_mode: The requested boot mode target for the machine. This is optional and is mainly used for the purposes of identifying a mismatch and reporting a warning accordingly. :returns: True if we succeeded in setting up an EFI bootloader in the EFI nvram table. False if we were unable to set the machine to EFI boot, due to inability to locate assets required OR the efibootmgr tool not being present. None is returned if the node is NOT in UEFI boot mode or the system is deploying upon a software RAID device. """""" boot = hardware.dispatch_to_managers('get_boot_info') # Explicitly only run if a target_boot_mode is set which prevents # callers following-up from re-logging the same message if target_boot_mode and boot.current_boot_mode != target_boot_mode: LOG.warning('Boot mode mismatch: target boot mode is %(target)s, ' 'current boot mode is %(current)s. Installing boot ' 'loader may fail or work incorrectly.', {'target': target_boot_mode, 'current': boot.current_boot_mode}) # FIXME(arne_wiebalck): make software RAID work with efibootmgr if (boot.current_boot_mode == 'uefi' and not hardware.is_md_device(device)): try: utils.execute('efibootmgr', '--version') except FileNotFoundError: LOG.warning(""efibootmgr is not available in the ramdisk"") else: if _manage_uefi(device, efi_system_part_uuid=efi_system_part_uuid): return True return False def _preserve_efi_assets(path, efi_assets_folder, efi_partitions, efi_partition_mount_point): """"""Preserve the EFI assets in a partition image. :param path: The path used for the mounted image filesystem. :param efi_assets_folder: The folder where we can find the UEFI assets required for booting. :param efi_partitions: The list of partitions upon which to write the perserved assets to. :param efi_partition_mount_point: The folder at which to mount the assets for the process of preservation. :returns: True if EFI assets were able to be located and preserved to their appropriate locations based upon the supplied efi_partitions list. False if any error is encountered in this process. """""" try: save_efi = os.path.join(tempfile.mkdtemp(), 'efi_loader') LOG.debug('Copying EFI assets to %s.', save_efi) shutil.copytree(efi_assets_folder, save_efi) # Identify grub2 config file for EFI booting as grub may require it # in the folder. destlist = os.listdir(efi_assets_folder) grub2_file = os.path.join(path, 'boot/grub2/grub.cfg') if os.path.isfile(grub2_file): LOG.debug('Local Grub2 configuration detected.') # A grub2 config seems to be present, we should preserve it! for dest in destlist: grub_dest = os.path.join(save_efi, dest, 'grub.cfg') if not os.path.isfile(grub_dest): LOG.debug('A grub.cfg file was not found in %s. %s' 'will be copied to that location.', grub_dest, grub2_file) try: shutil.copy2(grub2_file, grub_dest) except (IOError, OSError, shutil.SameFileError) as e: LOG.warning('Failed to copy grub.cfg file for ' 'EFI boot operation. Error %s', e) grub2_env_file = os.path.join(path, 'boot/grub2/grubenv') # NOTE(TheJulia): By saving the default, this file should be created. # this appears to what diskimage-builder does. # if the file is just a file, then we'll need to copy it. If it is # anything else like a link, we're good. This behaivor is inconsistent # depending on packager install scripts for grub. if os.path.isfile(grub2_env_file): LOG.debug('Detected grub environment file %s, will attempt ' 'to copy this file to align with apparent bootloaders', grub2_env_file) for dest in destlist: grub2env_dest = os.path.join(save_efi, dest, 'grubenv') if not os.path.isfile(grub2env_dest): LOG.debug('A grubenv file was not found. Copying ' 'to %s along with the grub.cfg file as ' 'grub generally expects it is present.', grub2env_dest) try: shutil.copy2(grub2_env_file, grub2env_dest) except (IOError, OSError, shutil.SameFileError) as e: LOG.warning('Failed to copy grubenv file. ' 'Error: %s', e) # Loop through partitions because software RAID. for efi_part in efi_partitions: utils.execute('mount', '-t', 'vfat', efi_part, efi_partition_mount_point) shutil.copytree(save_efi, efi_assets_folder) LOG.debug('Files preserved to %(disk)s for %(part)s. ' 'Files: %(filelist)s From: %(from)s', {'disk': efi_part, 'part': efi_partition_mount_point, 'filelist': os.listdir(efi_assets_folder), 'from': save_efi}) utils.execute('umount', efi_partition_mount_point) return True except Exception as e: LOG.debug('Failed to preserve EFI assets. Error %s', e) try: utils.execute('umount', efi_partition_mount_point) except Exception as e: LOG.debug('Exception encountered while attempting unmount ' 'the EFI partition mount point. Error: %s', e) return False try: if _efi_boot_setup(device, efi_system_part_uuid, target_boot_mode): return except Exception as e: LOG.error('Error setting up bootloader. Error %s', e) if not ignore_failure: raise"," # Add /bin to PATH variable as grub requires it to find efibootmgr # when running in uefi boot mode. # Add /usr/sbin to PATH variable to ensure it is there as we do # not use full path to grub binary anymore. path_variable = os.environ.get('PATH', '') path_variable = '%s:/bin:/usr/sbin:/sbin' % path_variable for fs in BIND_MOUNTS: utils.execute('mount', '-o', 'bind', fs, path + fs) utils.execute('mount', '-t', 'sysfs', 'none', path + '/sys') LOG.info(""GRUB2 will be installed for UEFI on efi partitions %s"", efi_partitions) # If the image has dracut installed, set the rd.md.uuid kernel # parameter for discovered md devices. if hardware.is_md_device(device) and _has_dracut(path): rd_md_uuids = [""rd.md.uuid=%s"" % x['UUID'] for x in hardware.md_get_raid_devices().values()] LOG.debug(""Setting rd.md.uuid kernel parameters: %s"", rd_md_uuids) with open('%s/etc/default/grub' % path, 'r') as g: contents = g.read() with open('%s/etc/default/grub' % path, 'w') as g: g.write( re.sub(r'GRUB_CMDLINE_LINUX=""(.*)""', r'GRUB_CMDLINE_LINUX=""\1 %s""' % "" "".join(rd_md_uuids), contents)) # Generate the grub configuration file utils.execute('chroot %(path)s /bin/sh -c ' '""%(bin)s-mkconfig -o ' '/boot/%(bin)s/grub.cfg""' % {'path': path, 'bin': binary_name}, shell=True, env_variables={'PATH': path_variable}) if _umount_all_partitions(path, path_variable, umount_warn_msg): boot = hardware.dispatch_to_managers('get_boot_info') if boot.current_boot_mode != target_boot_mode: LOG.warning('Boot mode mismatch: target boot mode is %(target)s, ' 'current boot mode is %(current)s. Installing boot ' 'loader may fail or work incorrectly.', {'target': target_boot_mode, 'current': boot.current_boot_mode}) # FIXME(arne_wiebalck): make software RAID work with efibootmgr if (boot.current_boot_mode == 'uefi' and not hardware.is_md_device(device)): has_efibootmgr = True try: utils.execute('efibootmgr', '--version') except FileNotFoundError: LOG.warning(""efibootmgr is not available in the ramdisk"") has_efibootmgr = False if has_efibootmgr: try: if _manage_uefi( device, efi_system_part_uuid=efi_system_part_uuid): return except Exception as e: LOG.error('Error setting up bootloader. Error %s', e) if not ignore_failure: raise",774,68
openstack%2Fpython-solumclient~master~Ibdf1300086b1ca2ddd132f3ab1e12b3dc462f762,openstack/python-solumclient,master,Ibdf1300086b1ca2ddd132f3ab1e12b3dc462f762,Add Python3 xena unit tests,MERGED,2021-03-15 08:55:38.000000000,2021-04-07 06:08:50.000000000,2021-04-07 06:03:21.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-15 08:55:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/2be3c97c53bb65da653378079722f5b36775d634', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ibdf1300086b1ca2ddd132f3ab1e12b3dc462f762\n'}]",0,780503,2be3c97c53bb65da653378079722f5b36775d634,9,2,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ibdf1300086b1ca2ddd132f3ab1e12b3dc462f762
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/03/780503/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2be3c97c53bb65da653378079722f5b36775d634,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Faodh~master~I2fd374514fd6bf3be02191b7a23b50b6dec93e08,openstack/aodh,master,I2fd374514fd6bf3be02191b7a23b50b6dec93e08,Use python 3.8 for tox,MERGED,2021-03-04 21:34:17.000000000,2021-04-07 06:00:35.000000000,2021-04-07 05:59:01.000000000,"[{'_account_id': 4264}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 21:34:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/aodh/commit/d587a9e56c4070bb9dc02056090534f0f0c996f1', 'message': 'Use python 3.8 for tox\n\nChange-Id: I2fd374514fd6bf3be02191b7a23b50b6dec93e08\n'}]",0,778780,d587a9e56c4070bb9dc02056090534f0f0c996f1,10,3,1,4264,,,0,"Use python 3.8 for tox

Change-Id: I2fd374514fd6bf3be02191b7a23b50b6dec93e08
",git fetch https://review.opendev.org/openstack/aodh refs/changes/80/778780/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d587a9e56c4070bb9dc02056090534f0f0c996f1,python38,"envlist = py{38}{,-mysql,-postgresql},functional,pep8","envlist = py{37}{,-mysql,-postgresql},functional,pep8",1,1
openstack%2Fmurano-agent~master~I9c813ea3a69c17492566d5dc3a79ad372f58db4d,openstack/murano-agent,master,I9c813ea3a69c17492566d5dc3a79ad372f58db4d,Update master for stable/wallaby,MERGED,2021-03-26 18:33:50.000000000,2021-04-07 05:56:20.000000000,2021-04-07 05:55:14.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-26 18:33:50.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/3323cc54826ff0f5ed868a1682b99f5c24f05e02', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I9c813ea3a69c17492566d5dc3a79ad372f58db4d\n'}]",0,783421,3323cc54826ff0f5ed868a1682b99f5c24f05e02,7,2,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I9c813ea3a69c17492566d5dc3a79ad372f58db4d
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/21/783421/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,3323cc54826ff0f5ed868a1682b99f5c24f05e02,reno-wallaby, wallaby,,7,0
openstack%2Fmurano-agent~master~I672d275490c9098f9f8835658921002416609da1,openstack/murano-agent,master,I672d275490c9098f9f8835658921002416609da1,Fix lower-constraints job,MERGED,2021-04-06 07:00:44.000000000,2021-04-07 05:53:30.000000000,2021-04-07 05:52:20.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 07:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/2e6acf556d90fec5ef47ef70e8c50bff6e06fcd8', 'message': 'Fix lower-constraints job\n\nChange-Id: I672d275490c9098f9f8835658921002416609da1\n'}, {'number': 2, 'created': '2021-04-06 07:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/cdb0aa6239d7ebbc4bf28dc39223f4559b4355b3', 'message': 'Fix lower-constraints job\n\nChange-Id: I672d275490c9098f9f8835658921002416609da1\n'}, {'number': 3, 'created': '2021-04-06 07:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/d4ea6a450fbb3c526e823e2626bc4260cb5d58be', 'message': 'Fix lower-constraints job\n\nChange-Id: I672d275490c9098f9f8835658921002416609da1\n'}, {'number': 4, 'created': '2021-04-06 11:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/1deb5edec1da165b838969a6e9843236edf1bc7b', 'message': 'Fix lower-constraints job\n\nChange-Id: I672d275490c9098f9f8835658921002416609da1\n'}, {'number': 5, 'created': '2021-04-06 11:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/8de842e2811bbedd4038cdf164e762997f0b4b8b', 'message': 'Fix lower-constraints job\n\nChange-Id: I672d275490c9098f9f8835658921002416609da1\n'}, {'number': 6, 'created': '2021-04-07 01:15:10.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'muranoagent/tests/unit/test_files_manager.py'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/89b4512e0d2ff084167416f0ef4a97f54c12e089', 'message': 'Fix lower-constraints job\n\nChange-Id: I672d275490c9098f9f8835658921002416609da1\n'}]",0,784883,89b4512e0d2ff084167416f0ef4a97f54c12e089,17,2,6,14107,,,0,"Fix lower-constraints job

Change-Id: I672d275490c9098f9f8835658921002416609da1
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/83/784883/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,2e6acf556d90fec5ef47ef70e8c50bff6e06fcd8,,,hacking==0.12.0,1,2
openstack%2Frequirements~master~Idfb40ba12893d75731542044d79532ee27c2a499,openstack/requirements,master,Idfb40ba12893d75731542044d79532ee27c2a499,Add pycdlib to global-requirements.txt,MERGED,2021-03-13 02:03:38.000000000,2021-04-07 05:31:36.000000000,2021-04-07 05:30:20.000000000,"[{'_account_id': 10342}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-13 02:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7406aa45b4bf09874be319077eb6c19a91ab8ff3', 'message': 'Add pycdlib to global-requirements.txt\n\npycdlib is a pure python library used to parse,\nread and write ISO9660 files. With LGPLv2 as the\nlicense it confirms to openstack licensing guidelines.\n\nThis is an actively maintained library. As of this\nwriting the last change to this library was 8 days\nago and the first commit was over 6 years ago.\n\nThis library is compatible with python3\nhttps://clalancette.github.io/pycdlib/python-compatibility.html\nIt is a well documented library and the documentation\nis available at https://clalancette.github.io/pycdlib\n\nThis library will be used by ironic to read config\ndrive and write them to disk on the filesystem.\n\nChange-Id: Idfb40ba12893d75731542044d79532ee27c2a499\n'}, {'number': 2, 'created': '2021-03-13 07:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/14240711dda63d916adcee629e053a88b1cab386', 'message': 'Add pycdlib to global-requirements.txt\n\npycdlib is a pure python library used to parse,\nread and write ISO9660 files. With LGPLv2 as the\nlicense it confirms to openstack licensing guidelines.\n\nThis is an actively maintained library. As of this\nwriting the last change to this library was 8 days\nago and the first commit was over 6 years ago.\n\nThis library is compatible with python3\nhttps://clalancette.github.io/pycdlib/python-compatibility.html\nIt is a well documented library and the documentation\nis available at https://clalancette.github.io/pycdlib\n\nThis library will be used by ironic to read config\ndrive and write them to disk on the filesystem.\n\nChange-Id: Idfb40ba12893d75731542044d79532ee27c2a499\n'}, {'number': 3, 'created': '2021-03-13 07:08:13.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/607b5a5170f0534811b1526e35ca9fdba6f92926', 'message': 'Add pycdlib to global-requirements.txt\n\npycdlib is a pure python library used to parse,\nread and write ISO9660 files. With LGPLv2 as the\nlicense it confirms to openstack licensing guidelines.\n\nThis is an actively maintained library. As of this\nwriting the last change to this library was 8 days\nago and the first commit was over 6 years ago.\n\nThis library is compatible with python3\nhttps://clalancette.github.io/pycdlib/python-compatibility.html\nIt is a well documented library and the documentation\nis available at https://clalancette.github.io/pycdlib\n\nThis library will be used by ironic to read config\ndrive and write them to disk on the filesystem.\n\nChange-Id: Idfb40ba12893d75731542044d79532ee27c2a499\n'}]",0,780397,607b5a5170f0534811b1526e35ca9fdba6f92926,23,3,3,12640,,,0,"Add pycdlib to global-requirements.txt

pycdlib is a pure python library used to parse,
read and write ISO9660 files. With LGPLv2 as the
license it confirms to openstack licensing guidelines.

This is an actively maintained library. As of this
writing the last change to this library was 8 days
ago and the first commit was over 6 years ago.

This library is compatible with python3
https://clalancette.github.io/pycdlib/python-compatibility.html
It is a well documented library and the documentation
is available at https://clalancette.github.io/pycdlib

This library will be used by ironic to read config
drive and write them to disk on the filesystem.

Change-Id: Idfb40ba12893d75731542044d79532ee27c2a499
",git fetch https://review.opendev.org/openstack/requirements refs/changes/97/780397/3 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,7406aa45b4bf09874be319077eb6c19a91ab8ff3,anaconda-deploy-driver,python-ironic-inspector-client===4.5.0ntc-templates===2.0.0ddt===1.4.2moto===2.0.2python-zaqarclient===2.1.0aodhclient===2.2.0pycdlib===1.11.0boto3===1.17.27botocore===1.20.27python-ironicclient===4.6.1tenacity===7.0.0python-masakariclient===7.0.0,python-ironic-inspector-client===4.4.0ntc-templates===1.7.0ddt===1.4.1moto===2.0.1python-zaqarclient===2.0.1aodhclient===2.1.1boto3===1.17.26botocore===1.20.26python-ironicclient===4.6.0tenacity===6.3.1python-masakariclient===6.2.1setuptools===54.1.1,13,12
openstack%2Fglance_store~stable%2Ftrain~I7f0bffda222b663d4316c5d6c03fdbd0d3337035,openstack/glance_store,stable/train,I7f0bffda222b663d4316c5d6c03fdbd0d3337035,Ramp up rbd resize to avoid excessive calls,ABANDONED,2020-11-20 14:36:51.000000000,2021-04-07 05:23:31.000000000,,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-20 14:36:51.000000000', 'files': ['glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_rbd_store.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/e08e9a1159f716a62e1775dcbac7d8e9294ccf6a', 'message': 'Ramp up rbd resize to avoid excessive calls\n\nChange the RBD store to resize the image by up to 8GiB\nat the time to not resize on every write.\n\nTrim the image in Ceph after all data has been written\nto the actual size in case we overshot the resize.\n\nPartial-Bug: #1792710\nRelated-to: spec-lite-Ceph-Store-Optimization\n\nChange-Id: I7f0bffda222b663d4316c5d6c03fdbd0d3337035\n(cherry picked from commit c43f19e8456b9e20f03709773fb2ffdb94807a0a)\n(cherry picked from commit ca0c58b52756058b6d51bf6a47aeac3d525c1e16)\n'}]",0,763570,e08e9a1159f716a62e1775dcbac7d8e9294ccf6a,10,5,1,9303,,,0,"Ramp up rbd resize to avoid excessive calls

Change the RBD store to resize the image by up to 8GiB
at the time to not resize on every write.

Trim the image in Ceph after all data has been written
to the actual size in case we overshot the resize.

Partial-Bug: #1792710
Related-to: spec-lite-Ceph-Store-Optimization

Change-Id: I7f0bffda222b663d4316c5d6c03fdbd0d3337035
(cherry picked from commit c43f19e8456b9e20f03709773fb2ffdb94807a0a)
(cherry picked from commit ca0c58b52756058b6d51bf6a47aeac3d525c1e16)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/70/763570/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_rbd_store.py']",2,e08e9a1159f716a62e1775dcbac7d8e9294ccf6a,rbd_resize-stable/ussuri-stable/train," passclass TestReSize(base.StoreBaseTest, test_store_capabilities.TestStoreCapabilitiesChecking): def setUp(self): """"""Establish a clean test environment."""""" super(TestReSize, self).setUp() rbd_store.rados = MockRados rbd_store.rbd = MockRBD self.store = rbd_store.Store(self.conf) self.store.configure() self.store_specs = {'pool': 'fake_pool', 'image': 'fake_image', 'snapshot': 'fake_snapshot'} self.location = rbd_store.StoreLocation(self.store_specs, self.conf) self.hash_algo = 'sha256' def test_add_w_image_size_zero_less_resizes(self): """"""Assert that correct size is returned even though 0 was provided."""""" # TODO(jokke): use the FakeData iterator once it exists. data_len = 57 * units.Mi data_iter = six.BytesIO(b'*' * data_len) with mock.patch.object(rbd_store.rbd.Image, 'resize') as resize: with mock.patch.object(rbd_store.rbd.Image, 'write') as write: ret = self.store.add( 'fake_image_id', data_iter, 0, self.hash_algo) # We expect to trim at the end so +1 expected = 1 expected_calls = [] data_len_temp = data_len resize_amount = self.store.WRITE_CHUNKSIZE while data_len_temp > 0: expected_calls.append(resize_amount + (data_len - data_len_temp)) data_len_temp -= resize_amount resize_amount *= 2 expected += 1 self.assertEqual(expected, resize.call_count) resize.assert_has_calls([mock.call(call) for call in expected_calls]) expected = ([self.store.WRITE_CHUNKSIZE for i in range(int( data_len / self.store.WRITE_CHUNKSIZE))] + [(data_len % self.store.WRITE_CHUNKSIZE)]) actual = ([len(args[0]) for args, kwargs in write.call_args_list]) self.assertEqual(expected, actual) self.assertEqual(data_len, resize.call_args_list[-1][0][0]) self.assertEqual(data_len, ret[1]) ", raise NotImplementedError(),88,16
openstack%2Fglance_store~stable%2Fvictoria~Id7a954075302f15418c1651bff6a3e92ef07f7fd,openstack/glance_store,stable/victoria,Id7a954075302f15418c1651bff6a3e92ef07f7fd,Adjust requirements and lower-constraints,ABANDONED,2021-02-11 15:38:22.000000000,2021-04-07 05:22:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-11 15:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/17036cb64e875b9594bfa97fc16a072c2e00fa25', 'message': 'Adjust requirements and lower-constraints\n\nChange-Id: Id7a954075302f15418c1651bff6a3e92ef07f7fd\n'}, {'number': 2, 'created': '2021-02-12 04:44:05.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/94dcb1187c97a868ea5943417f91d474371459f2', 'message': 'Adjust requirements and lower-constraints\n\nChange-Id: Id7a954075302f15418c1651bff6a3e92ef07f7fd\n'}]",0,775190,94dcb1187c97a868ea5943417f91d474371459f2,5,1,2,9303,,,0,"Adjust requirements and lower-constraints

Change-Id: Id7a954075302f15418c1651bff6a3e92ef07f7fd
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/90/775190/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,17036cb64e875b9594bfa97fc16a072c2e00fa25,update-lower-constraints,flake8==3.7.9jmespath==0.7.1mccabe==0.6.0os-win==4.0.1oslo.context==2.22.0oslo.log==3.36.0oslo.service==1.41.1six==1.11.0,mccabe==0.2.1six==1.10.0,11,5
openstack%2Fmanila~master~Ie6d16c925640351b74a4ed67bf649f844d347b1e,openstack/manila,master,Ie6d16c925640351b74a4ed67bf649f844d347b1e,Document policy rule using the description parameter,MERGED,2021-04-06 12:40:11.000000000,2021-04-07 04:49:47.000000000,2021-04-07 04:48:21.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 12:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/623903bc418cec3ce2a36c53de43c075acb75adc', 'message': 'Document policy rule using the description parameter\n\nThe RuleDefault class provides the description parameter so that\ndescription of the rule is properly reflected in the file generated by\nthe oslo-policy-generator command.\n\nChange-Id: Ie6d16c925640351b74a4ed67bf649f844d347b1e\n'}, {'number': 2, 'created': '2021-04-06 12:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ebbcf28904a4e2da66d1f79c205b3b9e367086d5', 'message': 'Document policy rule using the description parameter\n\nThe RuleDefault class provides the description parameter so that\ndescription of the rule is properly reflected in the file generated by\nthe oslo-policy-generator command.\n\nChange-Id: Ie6d16c925640351b74a4ed67bf649f844d347b1e\n'}, {'number': 3, 'created': '2021-04-06 12:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5853f62cc165e67839e057a94d0310cac001afbd', 'message': 'Document policy rule using the description parameter\n\nThe RuleDefault class provides the description parameter so that\ndescription of a rule is also implemented in code. This allows us\nto render these descriptions by the oslo-policy-generator command.\n\nChange-Id: Ie6d16c925640351b74a4ed67bf649f844d347b1e\n'}, {'number': 4, 'created': '2021-04-06 13:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2dfc8d597c7271f4640797fd5b992ad3784524e2', 'message': 'Document policy rule using the description parameter\n\nThe RuleDefault class provides the description parameter so that\ndescription of a rule is also implemented in code. This allows us\nto render these descriptions by the oslopolicy-sample-generator\ncommand.\n\nChange-Id: Ie6d16c925640351b74a4ed67bf649f844d347b1e\n'}, {'number': 5, 'created': '2021-04-06 13:57:00.000000000', 'files': ['manila/policies/base.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/dede92d734df8971b88435c00cdf8ef48c385f88', 'message': 'Document policy rule using the description parameter\n\nThe RuleDefault class provides the description parameter so that\ndescription of a rule is also implemented in code. This allows us\nto render these descriptions by the oslopolicy-sample-generator\ncommand.\n\nChange-Id: Ie6d16c925640351b74a4ed67bf649f844d347b1e\n'}]",0,784942,dede92d734df8971b88435c00cdf8ef48c385f88,23,3,5,9816,,,0,"Document policy rule using the description parameter

The RuleDefault class provides the description parameter so that
description of a rule is also implemented in code. This allows us
to render these descriptions by the oslopolicy-sample-generator
command.

Change-Id: Ie6d16c925640351b74a4ed67bf649f844d347b1e
",git fetch https://review.opendev.org/openstack/manila refs/changes/42/784942/4 && git format-patch -1 --stdout FETCH_HEAD,['manila/policies/base.py'],1,623903bc418cec3ce2a36c53de43c075acb75adc,policy-desc," description='System scoped Administrator', description='System scoped Member', description='System scoped Reader', description='Project scoped Administrator', description='Project scoped Member', description='Project scoped Reader',", # System scoped Administrator # System scoped Member # System scoped Reader # Project scoped Administrator # Project scoped Member # Project scoped Reader,6,11
openstack%2Fironic-python-agent~stable%2Ftrain~If3c83fb2ea2025fce092d495a64f32077c70d2d6,openstack/ironic-python-agent,stable/train,If3c83fb2ea2025fce092d495a64f32077c70d2d6,Option to enable bootloader config failure bypass,MERGED,2021-03-19 19:15:10.000000000,2021-04-07 04:45:19.000000000,2021-04-07 04:43:55.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-03-19 19:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a389cfa3684ae2d3bb1595409197df084751b37c', 'message': 'Option to enable bootloader config failure bypass\n\nSome hardware is very well intentioned. However this intention\ncan result in the UEFI NVRAM table being full which prevents us\nfrom adding new records to the table. We can\'t be sure what to\ndelete, so in this case some operators just need the ability to\ntell ironic ""it is okay if this fails, it will still work.""\n\nThe added ``ignore_bootloader_failure`` option adds\nthis capability which can be set per-node either in the agent\nconfiguation via the ramdisk image, or in the pxe_append_params\nconfiguration parameter for the node itself with a\n``ipa-ignore-bootloader-failure`` option in order to prevent\nthe failure from being raised.\n\nNOTE(TheJulia): As a backport, this was not super clean, but that\nis to be expected in IPA backpoting across multiple versions.\nIn essence the behavior of the API override test seemed to be\nbehaving in the exact opposite on this version. I don\'t terribly\nunderstand why, but I ended up reversing the meaning of the test\nand it serves the same exact intent, validating that if an api\ncall overrides the configuration, to use what the call indicated.\nLikely due to the API surface changes across versions, so I\'m not\ntoo worried about it since we\'ll never backport the ironic side\nof this patch as largely what operators need is the ability to\nworkaround hardware oddities using specific pxe_append_params.\n\nChange-Id: If3c83fb2ea2025fce092d495a64f32077c70d2d6\nStory: 2008386\nTask: 41309\n(cherry picked from commit 7a83773fbc9800217a0364c72b8ca9f823a60519)\n(cherry picked from commit 07cf2c1b7921f37adf0dbf633fd0efed07ddbfd8)\n(cherry picked from commit e84dd272c4013ae221163fce61f7569bb547b956)\n'}, {'number': 2, 'created': '2021-03-25 00:41:49.000000000', 'files': ['releasenotes/notes/allows-bootloader-install-failure-to-be-ignored-b99667b13afa9759.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/config.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9f2ef8ab02f81ce1a652f76e2c09689dd7d574a8', 'message': 'Option to enable bootloader config failure bypass\n\nSome hardware is very well intentioned. However this intention\ncan result in the UEFI NVRAM table being full which prevents us\nfrom adding new records to the table. We can\'t be sure what to\ndelete, so in this case some operators just need the ability to\ntell ironic ""it is okay if this fails, it will still work.""\n\nThe added ``ignore_bootloader_failure`` option adds\nthis capability which can be set per-node either in the agent\nconfiguation via the ramdisk image, or in the pxe_append_params\nconfiguration parameter for the node itself with a\n``ipa-ignore-bootloader-failure`` option in order to prevent\nthe failure from being raised.\n\nChange-Id: If3c83fb2ea2025fce092d495a64f32077c70d2d6\nStory: 2008386\nTask: 41309\n(cherry picked from commit 7a83773fbc9800217a0364c72b8ca9f823a60519)\n(cherry picked from commit 07cf2c1b7921f37adf0dbf633fd0efed07ddbfd8)\n'}]",0,781864,9f2ef8ab02f81ce1a652f76e2c09689dd7d574a8,11,4,2,11655,,,0,"Option to enable bootloader config failure bypass

Some hardware is very well intentioned. However this intention
can result in the UEFI NVRAM table being full which prevents us
from adding new records to the table. We can't be sure what to
delete, so in this case some operators just need the ability to
tell ironic ""it is okay if this fails, it will still work.""

The added ``ignore_bootloader_failure`` option adds
this capability which can be set per-node either in the agent
configuation via the ramdisk image, or in the pxe_append_params
configuration parameter for the node itself with a
``ipa-ignore-bootloader-failure`` option in order to prevent
the failure from being raised.

Change-Id: If3c83fb2ea2025fce092d495a64f32077c70d2d6
Story: 2008386
Task: 41309
(cherry picked from commit 7a83773fbc9800217a0364c72b8ca9f823a60519)
(cherry picked from commit 07cf2c1b7921f37adf0dbf633fd0efed07ddbfd8)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/64/781864/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/allows-bootloader-install-failure-to-be-ignored-b99667b13afa9759.yaml', 'ironic_python_agent/config.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",4,a389cfa3684ae2d3bb1595409197df084751b37c,fstab-train,"from oslo_config import cfgCONF = cfg.CONF prep_boot_part_uuid=None, ignore_bootloader_failure=None): # Always allow the API client to be the final word on if this is # overridden or not. if ignore_bootloader_failure is None: print('got no bootloader') ignore_failure = CONF.ignore_bootloader_failure else: print('got a bootloaderl') ignore_failure = ignore_bootloader_failure print('got %s' % ignore_failure) try: if _manage_uefi( device, efi_system_part_uuid=efi_system_part_uuid): return except Exception as e: LOG.error('Error setting up bootloader. Error %s', e) if not ignore_failure: raise try: _install_grub2(device, root_uuid=root_uuid, efi_system_part_uuid=efi_system_part_uuid, prep_boot_part_uuid=prep_boot_part_uuid) except Exception as e: LOG.error('Error setting up bootloader. Error %s', e) if not ignore_failure: raise"," prep_boot_part_uuid=None): if _manage_uefi(device, efi_system_part_uuid=efi_system_part_uuid): return _install_grub2(device, root_uuid=root_uuid, efi_system_part_uuid=efi_system_part_uuid, prep_boot_part_uuid=prep_boot_part_uuid)",181,9
openstack%2Fnova~stable%2Ftrain~Ia225ee86536248d2540de0d7a1cd012333e708a2,openstack/nova,stable/train,Ia225ee86536248d2540de0d7a1cd012333e708a2,Add functional test for bug 1837995,NEW,2021-04-06 23:10:05.000000000,2021-04-07 04:35:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-06 23:10:05.000000000', 'files': ['nova/tests/functional/db/test_archive.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6cda0f5e31df7ef802c087cacf60974b374b852c', 'message': ""Add functional test for bug 1837995\n\nThis adds a functional test to reproduce the bug where when calling an\nAPI that will examine a deleted instance record (examples: GET /servers/detail\nand GET /os-simple-tenant-usage), if that instance's related records\nhave only been partially archived (example: 'instance_extra' record was\narchived but 'instances' record has not been archived yet) then the API\ncall fails with the following error:\n\n  Unexpected API Error ... <class 'nova.exception.OrphanedObjectError'>\n  (HTTP 500)\n\nRelated-Bug: #1837995\n\nChange-Id: Ia225ee86536248d2540de0d7a1cd012333e708a2\n(cherry picked from commit 3d4e53f832792cc49001f1588164e28b84c16d7a)\n(cherry picked from commit 21241b38dd4bc2c74a69aed489ada5c611395920)\n(cherry picked from commit 37cff3c74d54bf0d19abe9502e5979b81e24f918)\n""}]",0,785074,6cda0f5e31df7ef802c087cacf60974b374b852c,3,1,1,4690,,,0,"Add functional test for bug 1837995

This adds a functional test to reproduce the bug where when calling an
API that will examine a deleted instance record (examples: GET /servers/detail
and GET /os-simple-tenant-usage), if that instance's related records
have only been partially archived (example: 'instance_extra' record was
archived but 'instances' record has not been archived yet) then the API
call fails with the following error:

  Unexpected API Error ... <class 'nova.exception.OrphanedObjectError'>
  (HTTP 500)

Related-Bug: #1837995

Change-Id: Ia225ee86536248d2540de0d7a1cd012333e708a2
(cherry picked from commit 3d4e53f832792cc49001f1588164e28b84c16d7a)
(cherry picked from commit 21241b38dd4bc2c74a69aed489ada5c611395920)
(cherry picked from commit 37cff3c74d54bf0d19abe9502e5979b81e24f918)
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/785074/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/db/test_archive.py'],1,6cda0f5e31df7ef802c087cacf60974b374b852c,bug/1837995," def test_archive_deleted_rows_incomplete(self): """"""This tests a scenario where archive_deleted_rows is run with --max_rows and does not run to completion. That is, the archive is stopped before all archivable records have been archived. Specifically, the problematic state is when a single instance becomes partially archived (example: 'instance_extra' record for one instance has been archived while its 'instances' record remains). Any access of the instance (example: listing deleted instances) that triggers the retrieval of a dependent record that has been archived away, results in undefined behavior that may raise an error. We will force the system into a state where a single deleted instance is partially archived. We want to verify that we can, for example, successfully do a GET /servers/detail at any point between partial archive_deleted_rows runs without errors. """""" # Boots a server, deletes it, and then tries to archive it. server = self._create_server() server_id = server['id'] # Assert that there are instance_actions. instance_actions are # interesting since we don't soft delete them but they have a foreign # key back to the instances table. actions = self.api.get_instance_actions(server_id) self.assertTrue(len(actions), 'No instance actions for server: %s' % server_id) self._delete_server(server) # Archive deleted records iteratively, 1 row at a time, and try to do a # GET /servers/detail between each run. All should succeed. exceptions = [] while True: _, _, archived = db.archive_deleted_rows(max_rows=1) try: # Need to use the admin API to list deleted servers. self.admin_api.get_servers(search_opts={'deleted': True}) except Exception as ex: exceptions.append(ex) if archived == 0: break # FIXME(melwitt): OrphanedObjectError is raised because of the bug. self.assertTrue(exceptions) for ex in exceptions: self.assertEqual(500, ex.response.status_code) self.assertIn('OrphanedObjectError', str(ex)) # FIXME(melwitt): Uncomment when the bug is fixed. # self.assertFalse(exceptions) ",,47,0
openstack%2Fpython-tackerclient~master~I642ddcdb7a1167f25553ef26df6102bb2be22c3f,openstack/python-tackerclient,master,I642ddcdb7a1167f25553ef26df6102bb2be22c3f,Adds support force delete VNFFG,MERGED,2019-02-14 10:13:44.000000000,2021-04-07 04:06:35.000000000,2021-04-07 04:05:32.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31821}, {'_account_id': 32102}]","[{'number': 1, 'created': '2019-02-14 10:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/5e3c9ec80a7c45d4c7006f253a2adf083cd8e0b3', 'message': ""Adds support force delete VNFFG\n\nThis patch adds '--force' parameter to vnffg delete command,\nto force delete VNFFG.\n\ne.g: openstack vnf graph delete --force VNFFG1\n\nblueprint force-delete-resources\n\nChange-Id: I642ddcdb7a1167f25553ef26df6102bb2be22c3f\n""}, {'number': 2, 'created': '2019-02-14 10:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/450e8cdff748249782d9b0034aa694ada86447e7', 'message': ""Adds support force delete VNFFG\n\nThis patch adds '--force' parameter to vnffg delete command,\nto force delete VNFFG.\n\ne.g: openstack vnf graph delete --force VNFFG1\n\nblueprint force-delete-resources\n\nChange-Id: I642ddcdb7a1167f25553ef26df6102bb2be22c3f\n""}, {'number': 3, 'created': '2019-05-13 06:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/3d0e068928691ba0c720a018eaf9d7c289975067', 'message': ""Adds support force delete VNFFG\n\nThis patch adds '--force' parameter to vnffg delete command,\nto force delete VNFFG.\n\ne.g: openstack vnf graph delete --force VNFFG1\n\nblueprint force-delete-resources\n\nChange-Id: I642ddcdb7a1167f25553ef26df6102bb2be22c3f\n""}, {'number': 4, 'created': '2019-07-13 03:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/ab3807c4ea248ff2fd38e044633af042a2705736', 'message': ""Adds support force delete VNFFG\n\nThis patch adds '--force' parameter to vnffg delete command,\nto force delete VNFFG.\n\ne.g: openstack vnf graph delete --force VNFFG1\n\nblueprint force-delete-resources\n\nChange-Id: I642ddcdb7a1167f25553ef26df6102bb2be22c3f\n""}, {'number': 5, 'created': '2019-09-17 03:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/d87c4691551b59aa5a6857ca73e6af0ada519c2b', 'message': ""Adds support force delete VNFFG\n\nThis patch adds '--force' parameter to vnffg delete command,\nto force delete VNFFG.\n\ne.g: openstack vnf graph delete --force VNFFG1\n\nblueprint force-delete-resources\n\nChange-Id: I642ddcdb7a1167f25553ef26df6102bb2be22c3f\n""}, {'number': 6, 'created': '2021-03-02 04:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/d3455f5ee5f674f538cb988d83026cc063b4092f', 'message': ""Adds support force delete VNFFG\n\nThis patch adds '--force' parameter to vnffg delete command,\nto force delete VNFFG.\n\ne.g: openstack vnf graph delete --force VNFFG1\n\nblueprint force-delete-resources\n\nChange-Id: I642ddcdb7a1167f25553ef26df6102bb2be22c3f\n""}, {'number': 7, 'created': '2021-04-07 02:12:24.000000000', 'files': ['tackerclient/osc/v1/nfvo/vnffg.py', 'tackerclient/tacker/v1_0/nfvo/vnffg.py', 'tackerclient/v1_0/client.py', 'tackerclient/tests/unit/vm/test_cli10_vnffg.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/785c6dbfda23f94b9a5ac00209f30a6071244f99', 'message': ""Adds support force delete VNFFG\n\nThis patch adds '--force' parameter to vnffg delete command,\nto force delete VNFFG.\n\ne.g: openstack vnf graph delete --force VNFFG1\n\nblueprint force-delete-resources\n\nChange-Id: I642ddcdb7a1167f25553ef26df6102bb2be22c3f\n""}]",0,636893,785c6dbfda23f94b9a5ac00209f30a6071244f99,36,7,7,27153,,,0,"Adds support force delete VNFFG

This patch adds '--force' parameter to vnffg delete command,
to force delete VNFFG.

e.g: openstack vnf graph delete --force VNFFG1

blueprint force-delete-resources

Change-Id: I642ddcdb7a1167f25553ef26df6102bb2be22c3f
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/93/636893/2 && git format-patch -1 --stdout FETCH_HEAD,"['tackerclient/osc/v1/nfvo/vnffg.py', 'tackerclient/tacker/v1_0/nfvo/vnffg.py', 'tackerclient/v1_0/client.py', 'tackerclient/tests/unit/vm/test_cli10_vnffg.py']",4,5e3c9ec80a7c45d4c7006f253a2adf083cd8e0b3,bp/force-delete-resources," def test_delete_vnffg_without_force(self): def test_delete_vnffg_with_force(self): cmd = vnffg.DeleteVNFFG(test_cli10.MyApp(sys.stdout), None) my_id = 'my-id' args = [my_id, '--force'] self._test_delete_resource(self._RESOURCE, cmd, my_id, args)", def test_delete_vnffg(self):,40,4
openstack%2Ftripleo-heat-templates~master~Icb7f58004e281b42141c70a9a4895905dc32b45d,openstack/tripleo-heat-templates,master,Icb7f58004e281b42141c70a9a4895905dc32b45d,Ensure SELinux context persist across restorecon and reboot,MERGED,2021-03-23 11:49:04.000000000,2021-04-07 03:59:53.000000000,2021-04-07 03:59:53.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-23 11:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf70de307199857b27a5dafc3d5a9baef587d934', 'message': 'Ensure SELinux context persist across restorecon and reboot\n\nUntil now, we only relied on the "":z"" flag in order to set container\nvolumes label to container_file_t.\nWhile it works fine, it has multiple issues:\n- if an operator runs a restorecon, it might break the container service\n- if an SELinux related package is updated, it might reset the label,\n  and break the container service\n- it requires a container stop&start to reset the label to the expected\n  value\n- in case of deep tree or huge amount of file, relabelling takes time\n\nThis change ensures the system sets the expected context on the specific\nlocations, instead of following the content of selinux-policy-targeted\nrulesets.\n\nIt has an equivalent for some locations in tripleo-ansible repository:\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/782393\n\nChange-Id: Icb7f58004e281b42141c70a9a4895905dc32b45d\nResolves: rhbz#1941922\n'}, {'number': 2, 'created': '2021-03-23 14:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/528c663338453fc9183d85331a962172d2da7657', 'message': 'Ensure SELinux context persist across restorecon and reboot\n\nUntil now, we only relied on the "":z"" flag in order to set container\nvolumes label to container_file_t.\nWhile it works fine, it has multiple issues:\n- if an operator runs a restorecon, it might break the container service\n- if an SELinux related package is updated, it might reset the label,\n  and break the container service\n- it requires a container stop&start to reset the label to the expected\n  value\n- in case of deep tree or huge amount of file, relabelling takes time\n\nThis change ensures the system sets the expected context on the specific\nlocations, instead of following the content of selinux-policy-targeted\nrulesets.\n\nIt has an equivalent for some locations in tripleo-ansible repository:\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/782393\n\nChange-Id: Icb7f58004e281b42141c70a9a4895905dc32b45d\nResolves: rhbz#1941922\n'}, {'number': 3, 'created': '2021-03-26 08:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c978d1574d731a5a57207d08fcff8c64f3c95fce', 'message': 'Ensure SELinux context persist across restorecon and reboot\n\nUntil now, we only relied on the "":z"" flag in order to set container\nvolumes label to container_file_t.\nWhile it works fine, it has multiple issues:\n- if an operator runs a restorecon, it might break the container service\n- if an SELinux related package is updated, it might reset the label,\n  and break the container service\n- it requires a container stop&start to reset the label to the expected\n  value\n- in case of deep tree or huge amount of file, relabelling takes time\n\nThis change ensures the system sets the expected context on the specific\nlocations, instead of following the content of selinux-policy-targeted\nrulesets.\n\nIt has an equivalent for some locations in tripleo-ansible repository:\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/782393\n\nNote about swift locations:\nSince openstack-selinux already sets fcontext rules for, at least, once\nswift location, we can\'t override it here. The following\nopenstack-selinux patch is being pushed in order to work around this\nspecific case:\nhttps://github.com/redhat-openstack/openstack-selinux/pull/73\n\nChange-Id: Icb7f58004e281b42141c70a9a4895905dc32b45d\nResolves: rhbz#1941922\n'}, {'number': 4, 'created': '2021-03-26 13:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/04f1e06b6d4c1764289aaa3cb34500fdb44825f8', 'message': 'Ensure SELinux context persist across restorecon and reboot\n\nUntil now, we only relied on the "":z"" flag in order to set container\nvolumes label to container_file_t.\nWhile it works fine, it has multiple issues:\n- if an operator runs a restorecon, it might break the container service\n- if an SELinux related package is updated, it might reset the label,\n  and break the container service\n- it requires a container stop&start to reset the label to the expected\n  value\n- in case of deep tree or huge amount of file, relabelling takes time\n\nThis change ensures the system sets the expected context on the specific\nlocations, instead of following the content of selinux-policy-targeted\nrulesets.\n\nIt has an equivalent for some locations in tripleo-ansible repository:\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/782393\n\nNote about swift locations:\nSince openstack-selinux already sets fcontext rules for, at least, once\nswift location, we can\'t override it here. The following\nopenstack-selinux patch is being pushed in order to work around this\nspecific case:\nhttps://github.com/redhat-openstack/openstack-selinux/pull/73\n\nChange-Id: Icb7f58004e281b42141c70a9a4895905dc32b45d\nResolves: rhbz#1941922\n'}, {'number': 5, 'created': '2021-03-29 08:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a43df0aa1a23ab7737004df23e3888e7881ebc2', 'message': 'Ensure SELinux context persist across restorecon and reboot\n\nUntil now, we only relied on the "":z"" flag in order to set container\nvolumes label to container_file_t.\nWhile it works fine, it has multiple issues:\n- if an operator runs a restorecon, it might break the container service\n- if an SELinux related package is updated, it might reset the label,\n  and break the container service\n- it requires a container stop&start to reset the label to the expected\n  value\n- in case of deep tree or huge amount of file, relabelling takes time\n\nThis change ensures the system sets the expected context on the specific\nlocations, instead of following the content of selinux-policy-targeted\nrulesets.\n\nIt has an equivalent for some locations in tripleo-ansible repository:\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/782393\n\nNote about swift locations:\nSince openstack-selinux already sets fcontext rules for, at least, once\nswift location, we can\'t override it here. The following\nopenstack-selinux patch is being pushed in order to work around this\nspecific case:\nhttps://github.com/redhat-openstack/openstack-selinux/pull/73\n\nChange-Id: Icb7f58004e281b42141c70a9a4895905dc32b45d\nResolves: rhbz#1941922\n'}, {'number': 6, 'created': '2021-03-30 06:12:33.000000000', 'files': ['deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'common/common-container-config-scripts.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d77fe55516ce93a8984108daccbb75b72095503f', 'message': 'Ensure SELinux context persist across restorecon and reboot\n\nUntil now, we only relied on the "":z"" flag in order to set container\nvolumes label to container_file_t.\nWhile it works fine, it has multiple issues:\n- if an operator runs a restorecon, it might break the container service\n- if an SELinux related package is updated, it might reset the label,\n  and break the container service\n- it requires a container stop&start to reset the label to the expected\n  value\n- in case of deep tree or huge amount of file, relabelling takes time\n\nThis change ensures the system sets the expected context on the specific\nlocations, instead of following the content of selinux-policy-targeted\nrulesets.\n\nIt has an equivalent for some locations in tripleo-ansible repository:\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/782393\n\nNote about swift locations:\nSince openstack-selinux already sets fcontext rules for, at least, once\nswift location, we can\'t override it here. The following\nopenstack-selinux patch is being pushed in order to work around this\nspecific case:\nhttps://github.com/redhat-openstack/openstack-selinux/pull/73\n\nChange-Id: Icb7f58004e281b42141c70a9a4895905dc32b45d\nResolves: rhbz#1941922\n'}]",0,782439,d77fe55516ce93a8984108daccbb75b72095503f,37,5,6,28223,,,0,"Ensure SELinux context persist across restorecon and reboot

Until now, we only relied on the "":z"" flag in order to set container
volumes label to container_file_t.
While it works fine, it has multiple issues:
- if an operator runs a restorecon, it might break the container service
- if an SELinux related package is updated, it might reset the label,
  and break the container service
- it requires a container stop&start to reset the label to the expected
  value
- in case of deep tree or huge amount of file, relabelling takes time

This change ensures the system sets the expected context on the specific
locations, instead of following the content of selinux-policy-targeted
rulesets.

It has an equivalent for some locations in tripleo-ansible repository:
https://review.opendev.org/c/openstack/tripleo-ansible/+/782393

Note about swift locations:
Since openstack-selinux already sets fcontext rules for, at least, once
swift location, we can't override it here. The following
openstack-selinux patch is being pushed in order to work around this
specific case:
https://github.com/redhat-openstack/openstack-selinux/pull/73

Change-Id: Icb7f58004e281b42141c70a9a4895905dc32b45d
Resolves: rhbz#1941922
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/782439/6 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'common/common-container-config-scripts.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",17,cf70de307199857b27a5dafc3d5a9baef587d934,sefcontext," - name: create fcontext for rabbitmq data sefcontext: target: ""/var/lib/rabbitmq(/.*)?"" setype: container_file_t state: present",,96,5
openstack%2Frequirements~stable%2Ftrain~Ibdda1a8dfe7b615feabe58537d68c8a3b09b1641,openstack/requirements,stable/train,Ibdda1a8dfe7b615feabe58537d68c8a3b09b1641,update constraint for os-apply-config to new release 10.6.0,MERGED,2021-04-05 09:22:54.000000000,2021-04-07 03:57:43.000000000,2021-04-07 03:57:43.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 09:22:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5e3193566ede95f6da60027afd97f5e963f76f81', 'message': 'update constraint for os-apply-config to new release 10.6.0\n\nmeta: version: 10.6.0\nmeta: diff-start: -\nmeta: series: train\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: I7672f167a2279d7f00dd95b86ec83a8233e8bb63\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ibdda1a8dfe7b615feabe58537d68c8a3b09b1641\n'}]",0,784757,5e3193566ede95f6da60027afd97f5e963f76f81,12,2,1,11131,,,0,"update constraint for os-apply-config to new release 10.6.0

meta: version: 10.6.0
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I7672f167a2279d7f00dd95b86ec83a8233e8bb63
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ibdda1a8dfe7b615feabe58537d68c8a3b09b1641
",git fetch https://review.opendev.org/openstack/requirements refs/changes/57/784757/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5e3193566ede95f6da60027afd97f5e963f76f81,new-release,os-apply-config===10.6.0,os-apply-config===10.5.2,1,1
openstack%2Frequirements~stable%2Ftrain~Ie11b07ed35ffb4f388f096c6ed73c8697b01ef01,openstack/requirements,stable/train,Ie11b07ed35ffb4f388f096c6ed73c8697b01ef01,update constraint for os-collect-config to new release 10.6.0,MERGED,2021-04-05 09:15:48.000000000,2021-04-07 03:57:39.000000000,2021-04-07 03:57:39.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 09:15:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dc05226f39ad6474a63077a58b7e75fd8a5d8150', 'message': 'update constraint for os-collect-config to new release 10.6.0\n\nmeta: version: 10.6.0\nmeta: diff-start: -\nmeta: series: train\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: I7672f167a2279d7f00dd95b86ec83a8233e8bb63\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ie11b07ed35ffb4f388f096c6ed73c8697b01ef01\n'}]",0,784754,dc05226f39ad6474a63077a58b7e75fd8a5d8150,12,2,1,11131,,,0,"update constraint for os-collect-config to new release 10.6.0

meta: version: 10.6.0
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I7672f167a2279d7f00dd95b86ec83a8233e8bb63
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ie11b07ed35ffb4f388f096c6ed73c8697b01ef01
",git fetch https://review.opendev.org/openstack/requirements refs/changes/54/784754/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,dc05226f39ad6474a63077a58b7e75fd8a5d8150,new-release,os-collect-config===10.6.0,os-collect-config===10.5.1,1,1
openstack%2Frequirements~stable%2Ftrain~I055f5b1e650efbebfbccfb946a9b459c435e7d88,openstack/requirements,stable/train,I055f5b1e650efbebfbccfb946a9b459c435e7d88,update constraint for os-net-config to new release 11.5.0,MERGED,2021-04-05 09:16:02.000000000,2021-04-07 03:57:34.000000000,2021-04-07 03:57:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 09:16:02.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9be4ef5c5a74e950843b0b9f9f736f0ef782ef9a', 'message': 'update constraint for os-net-config to new release 11.5.0\n\nmeta: version: 11.5.0\nmeta: diff-start: -\nmeta: series: train\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: I7672f167a2279d7f00dd95b86ec83a8233e8bb63\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I055f5b1e650efbebfbccfb946a9b459c435e7d88\n'}]",0,784755,9be4ef5c5a74e950843b0b9f9f736f0ef782ef9a,12,2,1,11131,,,0,"update constraint for os-net-config to new release 11.5.0

meta: version: 11.5.0
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I7672f167a2279d7f00dd95b86ec83a8233e8bb63
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I055f5b1e650efbebfbccfb946a9b459c435e7d88
",git fetch https://review.opendev.org/openstack/requirements refs/changes/55/784755/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9be4ef5c5a74e950843b0b9f9f736f0ef782ef9a,new-release,os-net-config===11.5.0,os-net-config===11.4.0,1,1
openstack%2Fnova~stable%2Ftrain~Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f,openstack/nova,stable/train,Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f,Centralize sqlite FK constraint enforcement,NEW,2021-04-06 23:10:05.000000000,2021-04-07 03:53:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-06 23:10:05.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/db/test_archive.py', 'nova/test.py', 'nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/261f4f614e4b0e7ea7dcb3dddbe2a34bd0deea4b', 'message': ""Centralize sqlite FK constraint enforcement\n\nThere's a TODO in the code to centralize foreign key constraint\nenforcement for sqlite for unit and functional tests and we're missing\nenforcement of FK constraints in a couple of test classes that should\nhave it.\n\nThis resolves the TODO and turns on FK constraint enforcement where it\nis missing. Do this to enhance testing in preparation for a proposed\nchange to the database archiving logic later in this patch series.\n\nConflicts:\n    nova/test.py\n\nNOTE(melwitt): The conflicts are because the following changes are\nnot in Train:\n\n  * Ia33ec2604b2fc2d3b6830b596cac669cc3ad6c96 (nova-net: Kill it)\n  * I33d8ac0a1cae0b2d275a21287d5e44c008a68122 (func tests: move\n    _run_periodics() into base class)\n\nChange-Id: Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f\n(cherry picked from commit 172024db7174bdac05a3d3172c645b0db83ae41e)\n(cherry picked from commit 382d64ea36e5cf3b47929fee0b93539d2f126975)\n(cherry picked from commit a8624cdaa292591db616b9ab17d27f2cd0bb00a7)\n""}]",0,785073,261f4f614e4b0e7ea7dcb3dddbe2a34bd0deea4b,4,1,1,4690,,,0,"Centralize sqlite FK constraint enforcement

There's a TODO in the code to centralize foreign key constraint
enforcement for sqlite for unit and functional tests and we're missing
enforcement of FK constraints in a couple of test classes that should
have it.

This resolves the TODO and turns on FK constraint enforcement where it
is missing. Do this to enhance testing in preparation for a proposed
change to the database archiving logic later in this patch series.

Conflicts:
    nova/test.py

NOTE(melwitt): The conflicts are because the following changes are
not in Train:

  * Ia33ec2604b2fc2d3b6830b596cac669cc3ad6c96 (nova-net: Kill it)
  * I33d8ac0a1cae0b2d275a21287d5e44c008a68122 (func tests: move
    _run_periodics() into base class)

Change-Id: Idcf026d020e63e4e6ece1db46e4cdc7b7742b76f
(cherry picked from commit 172024db7174bdac05a3d3172c645b0db83ae41e)
(cherry picked from commit 382d64ea36e5cf3b47929fee0b93539d2f126975)
(cherry picked from commit a8624cdaa292591db616b9ab17d27f2cd0bb00a7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/785073/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/db/test_archive.py', 'nova/test.py', 'nova/tests/unit/db/test_db_api.py']",4,261f4f614e4b0e7ea7dcb3dddbe2a34bd0deea4b,bug/1837995, self.enforce_fk_constraints(engine=self.engine),"from sqlalchemy.dialects import sqlite dialect = self.engine.url.get_dialect() if dialect == sqlite.dialect: # We're seeing issues with foreign key support in SQLite 3.6.20 # SQLAlchemy doesn't support it at all with < SQLite 3.6.19 # It works fine in SQLite 3.7. # So return early to skip this test if running SQLite < 3.7 import sqlite3 tup = sqlite3.sqlite_version_info if tup[0] < 3 or (tup[0] == 3 and tup[1] < 7): self.skipTest( 'sqlite version too old for reliable SQLA foreign_keys') self.conn.execute(""PRAGMA foreign_keys = ON"")",26,30
openstack%2Ftripleo-ci~master~If1d5b8d2e0fec40c39662e52e4d0d9fc3f650d0a,openstack/tripleo-ci,master,If1d5b8d2e0fec40c39662e52e4d0d9fc3f650d0a,Use nodepool CentOS mirrors for deps repo,MERGED,2021-03-31 09:36:24.000000000,2021-04-07 03:52:06.000000000,2021-04-06 21:57:57.000000000,"[{'_account_id': 1955}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 20676}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 24680}]","[{'number': 1, 'created': '2021-03-31 09:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/534f06656e848f11b8a665827e203c53cc80e21f', 'message': 'Use nodepool CentOS mirrors for deps repo\n\nDLRN deps repo contains centos mirrors url which is not in our\ncontrol got timeout in the jobs.\n\nTripleO repos does not update those which nodepool CentOS mirrors,\nIt adds the tasks to do the same and also remove fedora  related\nrepo renaming, since fedora is longer used in CI.\n\nCloses-Bug: #1922032\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: If1d5b8d2e0fec40c39662e52e4d0d9fc3f650d0a\n'}, {'number': 2, 'created': '2021-03-31 10:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/afa5b27cdcda99bf7b27e72fcdb1ea35481273e5', 'message': 'Use nodepool CentOS mirrors for deps repo\n\nDLRN deps repo contains centos mirrors url which is not in our\ncontrol got timeout in the jobs.\n\nTripleO repos does not update those which nodepool CentOS mirrors,\nIt adds the tasks to do the same and also remove fedora  related\nrepo renaming, since fedora is longer used in CI.\n\nCloses-Bug: #1922032\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: If1d5b8d2e0fec40c39662e52e4d0d9fc3f650d0a\n'}, {'number': 3, 'created': '2021-03-31 13:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1f7c2342d86e996b305badde9806a35d4aa85287', 'message': 'Use nodepool CentOS mirrors for deps repo\n\nDLRN deps repo contains centos mirrors url which is not in our\ncontrol got timeout in the jobs.\n\nTripleO repos does not update those dlrn deps repo centos mirror\nurl, It adds the tasks to do the same and also remove fedora\nrelated repo renaming, since fedora is longer used in CI.\n\nCloses-Bug: #1922032\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: If1d5b8d2e0fec40c39662e52e4d0d9fc3f650d0a\n'}, {'number': 4, 'created': '2021-04-01 08:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5ca3c96306c6f0b45e1c3973a02b8560efd3718e', 'message': 'Use nodepool CentOS mirrors for deps repo\n\nDLRN deps repo contains centos mirrors url which is not in our\ncontrol got timeout in the jobs.\n\nTripleO repos does not update those dlrn deps repo centos mirror\nurl, It adds the tasks to do the same and also remove fedora\nrelated repo renaming, since fedora is longer used in CI.\n\nCloses-Bug: #1922032\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: If1d5b8d2e0fec40c39662e52e4d0d9fc3f650d0a\n'}, {'number': 5, 'created': '2021-04-05 10:19:43.000000000', 'files': ['roles/tripleo-repos/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c27ef835a0021a12f1825fb7174d880c77502646', 'message': 'Use nodepool CentOS mirrors for deps repo\n\nDLRN deps repo contains centos mirrors url which is not in our\ncontrol got timeout in the jobs.\n\nTripleO repos does not update those dlrn deps repo centos mirror\nurl, It adds the tasks to do the same and also removes stale\nfedora repo, since fedora is longer used in CI.\n\nCloses-Bug: #1922032\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: If1d5b8d2e0fec40c39662e52e4d0d9fc3f650d0a\n'}]",15,784057,c27ef835a0021a12f1825fb7174d880c77502646,36,10,5,12393,,,0,"Use nodepool CentOS mirrors for deps repo

DLRN deps repo contains centos mirrors url which is not in our
control got timeout in the jobs.

TripleO repos does not update those dlrn deps repo centos mirror
url, It adds the tasks to do the same and also removes stale
fedora repo, since fedora is longer used in CI.

Closes-Bug: #1922032

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: If1d5b8d2e0fec40c39662e52e4d0d9fc3f650d0a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/57/784057/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-repos/tasks/main.yml'],1,534f06656e848f11b8a665827e203c53cc80e21f,centos_mirror,"- name: Use CentOS proxy mirror sed -i -e ""s|http://mirror.centos.org/centos|$NODEPOOL_CENTOS_MIRROR|g"" \ /etc/yum.repos.d/delorean-{{ ci_branch | default('master') }}-testing.repo","# TODO(rfolco): normalize centos/fedora repo names, fedora sets delorean.repo and fedora-stable.repo, # while centos sets delorean.repo and delorean-master-testing.repo. - name: rename fedora-stable.repo # Rename fedora-stable.repo as kola.conf.j2 template expects delorean* mv /etc/yum.repos.d/fedora-stable.repo /etc/yum.repos.d/delorean-{{ ci_branch | default('master') }}-testing.repo when: ansible_distribution|lower == ""fedora""",3,6
openstack%2Frequirements~stable%2Ftrain~Iea5312c71a6bfcec9ee1ed9bf2502fa722b678df,openstack/requirements,stable/train,Iea5312c71a6bfcec9ee1ed9bf2502fa722b678df,update constraint for paunch to new release 5.5.0,MERGED,2021-04-05 09:15:48.000000000,2021-04-07 03:37:45.000000000,2021-04-07 03:37:45.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 09:15:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c0c9bf1651f74fc34818dba3b9a459bca16fc7f9', 'message': 'update constraint for paunch to new release 5.5.0\n\nmeta: version: 5.5.0\nmeta: diff-start: -\nmeta: series: train\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: I7672f167a2279d7f00dd95b86ec83a8233e8bb63\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Iea5312c71a6bfcec9ee1ed9bf2502fa722b678df\n'}]",0,784753,c0c9bf1651f74fc34818dba3b9a459bca16fc7f9,12,2,1,11131,,,0,"update constraint for paunch to new release 5.5.0

meta: version: 5.5.0
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I7672f167a2279d7f00dd95b86ec83a8233e8bb63
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Iea5312c71a6bfcec9ee1ed9bf2502fa722b678df
",git fetch https://review.opendev.org/openstack/requirements refs/changes/53/784753/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c0c9bf1651f74fc34818dba3b9a459bca16fc7f9,new-release,paunch===5.5.0,paunch===5.4.0,1,1
openstack%2Fcyborg~master~I03ccdd6799f25e5ffa987d36955759705e0750b3,openstack/cyborg,master,I03ccdd6799f25e5ffa987d36955759705e0750b3,Revert device_profile key to show device profile API,MERGED,2021-04-02 01:41:16.000000000,2021-04-07 03:23:28.000000000,2021-04-07 03:22:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-04-02 01:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/54671718b7e517b3a835b7fedb6fc8cab5055dd7', 'message': ""Revert get device profile api\n\nThis patch[1] remove the 'device_profile' key in the get device profile\napi, this affects the backport patches[2], so should revert the change.\n\n[1] https://review.opendev.org/c/openstack/cyborg/+/751988\n[2] https://review.opendev.org/c/openstack/cyborg/+/782134/\n\nChange-Id: I03ccdd6799f25e5ffa987d36955759705e0750b3\n""}, {'number': 2, 'created': '2021-04-02 02:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/637238c7d6b4dc83289500ce9f4e0d6fde018618', 'message': ""Revert get device profile api\n\nThis patch[1] remove the 'device_profile' key in the get device profile\napi, this affects the backport patches[2], so should revert the change.\n\n[1] https://review.opendev.org/c/openstack/cyborg/+/751988\n[2] https://review.opendev.org/c/openstack/cyborg/+/782134/\n\nDepends-On: https://review.opendev.org/c/openstack/cyborg-tempest-plugin/+/784527\n\nChange-Id: I03ccdd6799f25e5ffa987d36955759705e0750b3\n""}, {'number': 3, 'created': '2021-04-02 03:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f312aa61d09ba72041e8d27daf2e49dff1293090', 'message': ""Revert device_profile key to show device profile API\n\nThis patch[1] remove the 'device_profile' key in the get device profile\napi, which affects  the stable/* branch's CI job, and the 'device_profile' can\nnot be removed from the response.\n\n[1] https://review.opendev.org/c/openstack/cyborg/+/751988\n\nDepends-On: https://review.opendev.org/c/openstack/cyborg-tempest-plugin/+/784527\n\nCloses-Bug: #1922183\nChange-Id: I03ccdd6799f25e5ffa987d36955759705e0750b3\n""}, {'number': 4, 'created': '2021-04-02 03:30:58.000000000', 'files': ['cyborg/tests/unit/api/controllers/v2/test_device_profiles.py', 'cyborg/api/controllers/v2/device_profiles.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/008c3668c04d3f98362fed9502ffaba731d15763', 'message': ""Revert device_profile key to show device profile API\n\nThis patch[1] remove the 'device_profile' key in the get device profile\napi, which affects the stable/* branch's CI job such as [2], and the\n'device_profile' can not be removed from the response. In the future,\nwe can use add a microversion to support removing it, that can be\nunified with other APIs like devices and arqs.\n\n[1] https://review.opendev.org/c/openstack/cyborg/+/751988\n[2] https://review.opendev.org/c/openstack/cyborg/+/782134\n\nDepends-On: https://review.opendev.org/c/openstack/cyborg-tempest-plugin/+/784527\n\nCloses-Bug: #1922183\nChange-Id: I03ccdd6799f25e5ffa987d36955759705e0750b3\n""}]",6,784521,008c3668c04d3f98362fed9502ffaba731d15763,27,4,4,31412,,,0,"Revert device_profile key to show device profile API

This patch[1] remove the 'device_profile' key in the get device profile
api, which affects the stable/* branch's CI job such as [2], and the
'device_profile' can not be removed from the response. In the future,
we can use add a microversion to support removing it, that can be
unified with other APIs like devices and arqs.

[1] https://review.opendev.org/c/openstack/cyborg/+/751988
[2] https://review.opendev.org/c/openstack/cyborg/+/782134

Depends-On: https://review.opendev.org/c/openstack/cyborg-tempest-plugin/+/784527

Closes-Bug: #1922183
Change-Id: I03ccdd6799f25e5ffa987d36955759705e0750b3
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/21/784521/4 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/tests/unit/api/controllers/v2/test_device_profiles.py', 'cyborg/api/controllers/v2/device_profiles.py']",2,54671718b7e517b3a835b7fedb6fc8cab5055dd7,bug/1922183," def get_device_profile(self, obj_devprof): api_obj = {} for field in ['name', 'description', 'uuid', 'groups']: api_obj[field] = obj_devprof[field] for field in ['created_at', 'updated_at']: api_obj[field] = str(obj_devprof[field]) api_obj['links'] = [ link.Link.make_link_dict('device_profiles', api_obj['uuid']) ] return api_obj class DeviceProfileCollection(DeviceProfile): def get_device_profiles(self, obj_devprofs): api_obj_devprofs = [ self.get_device_profile(obj_devprof) for obj_devprof in obj_devprofs] return api_obj_devprofs @expose.expose('json', wtypes.text) obj_devprofs = self._get_device_profile_list(uuid=uuid) api_obj_devprofs = self.get_device_profiles(obj_devprofs) ret = {""device_profile"": api_obj_devprofs[0]} # TODO(Sundar) Replace this with convert_with_links() return wsme.api.Response(ret, status_code=HTTPStatus.OK, return_type=wsme.types.DictType)"," class DeviceProfileCollection(base.APIBase): @expose.expose(DeviceProfile, wtypes.text) api_obj_devprofs = self._get_device_profile_list(uuid=uuid) ret = api_obj_devprofs[0] return DeviceProfile.convert_with_links(ret)",27,6
openstack%2Frequirements~stable%2Ftrain~I2e6ab215dac3ef93edfac41f38961b96ac552e01,openstack/requirements,stable/train,I2e6ab215dac3ef93edfac41f38961b96ac552e01,update constraint for tripleo-common to new release 11.6.0,MERGED,2021-04-05 09:25:06.000000000,2021-04-07 03:11:04.000000000,2021-04-07 03:11:04.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 09:25:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bfa0edbdd2fdde2a899479741ef618f131f09494', 'message': 'update constraint for tripleo-common to new release 11.6.0\n\nmeta: version: 11.6.0\nmeta: diff-start: -\nmeta: series: train\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: I7672f167a2279d7f00dd95b86ec83a8233e8bb63\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I2e6ab215dac3ef93edfac41f38961b96ac552e01\n'}]",0,784758,bfa0edbdd2fdde2a899479741ef618f131f09494,12,2,1,11131,,,0,"update constraint for tripleo-common to new release 11.6.0

meta: version: 11.6.0
meta: diff-start: -
meta: series: train
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I7672f167a2279d7f00dd95b86ec83a8233e8bb63
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I2e6ab215dac3ef93edfac41f38961b96ac552e01
",git fetch https://review.opendev.org/openstack/requirements refs/changes/58/784758/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bfa0edbdd2fdde2a899479741ef618f131f09494,new-release,tripleo-common===11.6.0,tripleo-common===11.5.0,1,1
openstack%2Ftripleo-ci~master~Ibe2fd5c7792d55236c09dbf9cf88e23e1c5a5673,openstack/tripleo-ci,master,Ibe2fd5c7792d55236c09dbf9cf88e23e1c5a5673,Remove all rocky related jobs/conditionals tests after rocky End of Life,MERGED,2021-03-23 16:13:54.000000000,2021-04-07 02:55:43.000000000,2021-04-07 02:55:43.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29775}, {'_account_id': 30742}, {'_account_id': 30750}, {'_account_id': 31075}]","[{'number': 1, 'created': '2021-03-23 16:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3e1eb475ceb3b9d6e723264862c78e3ed8ffd845', 'message': 'WIP remove all the rocky things\n\nRocky is now EOL since [1][2]\n\n[1] https://review.opendev.org/c/openstack/releases/+/774244\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/020912.html\n\nChange-Id: Ibe2fd5c7792d55236c09dbf9cf88e23e1c5a5673\n'}, {'number': 2, 'created': '2021-03-24 10:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/183f48707f9a537a06f805c205c7c140527e7a01', 'message': ""WIP remove all the rocky things\n\nRocky is now EOL since [1][2]\nMoves tripleo-ci-centos-7-undercloud-containers to deprecated jobs as it\nis still in use in other repos so we can't remove yet.\n\n[1] https://review.opendev.org/c/openstack/releases/+/774244\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/020912.html\n\nChange-Id: Ibe2fd5c7792d55236c09dbf9cf88e23e1c5a5673\n""}, {'number': 3, 'created': '2021-03-24 11:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/375af4ef1f7efb2ef0cdf70bd0bffc41f928b503', 'message': ""WIP remove all the rocky things\n\nRocky is now EOL since [1][2]\nMoves tripleo-ci-centos-7-undercloud-containers to deprecated jobs as it\nis still in use in other repos so we can't remove yet.\n\n[1] https://review.opendev.org/c/openstack/releases/+/774244\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/020912.html\n\nChange-Id: Ibe2fd5c7792d55236c09dbf9cf88e23e1c5a5673\n""}, {'number': 4, 'created': '2021-03-24 12:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4768b0b6bde1deb5757a431501107579d472817b', 'message': ""WIP remove all the rocky things\n\nRocky is now EOL since [1][2]\nMoves tripleo-ci-centos-7-undercloud-containers to deprecated jobs as it\nis still in use in other repos so we can't remove yet.\n\n[1] https://review.opendev.org/c/openstack/releases/+/774244\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/020912.html\n\nChange-Id: Ibe2fd5c7792d55236c09dbf9cf88e23e1c5a5673\n""}, {'number': 5, 'created': '2021-03-26 11:49:18.000000000', 'files': ['zuul.d/build-containers.yaml', 'zuul.d/undercloud-jobs.yaml', 'scripts/emit_releases_file/test_release_name.py', 'roles/build-containers/templates/kolla-build.sh.j2', 'scripts/emit_releases_file/emit_releases_file.py', 'zuul.d/standalone-jobs.yaml', 'scripts/oooq_common_functions.sh', 'roles/run-test/templates/oooq_common_functions.sh.j2', 'scripts/emit_releases_file/test_unsupported_upgrades.py', 'zuul.d/deprecated-jobs.yaml', 'zuul.d/multinode-jobs.yaml', 'roles/build-containers/vars/main.yaml', 'scripts/emit_releases_file/test_release_file.py', 'roles/build-containers/defaults/main.yaml', 'zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b813597a5a65dfa418b1f1a0f7d410ca4b540735', 'message': ""Remove all rocky related jobs/conditionals tests after rocky End of Life\n\nRocky is now EOL since [1][2] so this removes all the rocky related jobs\nor conditionals.\nMoves tripleo-ci-centos-7-undercloud-containers to deprecated jobs as it\nis still in use in other repos so we can't remove yet.\nRelated reviews in topic branch tripleo-ci-reduce-rocky [3].\n\n[1] https://review.opendev.org/c/openstack/releases/+/774244\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/020912.html\n[3] https://review.opendev.org/q/topic:tripleo-ci-reduce-rocky\n\nChange-Id: Ibe2fd5c7792d55236c09dbf9cf88e23e1c5a5673\n""}]",88,782549,b813597a5a65dfa418b1f1a0f7d410ca4b540735,57,14,5,8449,,,0,"Remove all rocky related jobs/conditionals tests after rocky End of Life

Rocky is now EOL since [1][2] so this removes all the rocky related jobs
or conditionals.
Moves tripleo-ci-centos-7-undercloud-containers to deprecated jobs as it
is still in use in other repos so we can't remove yet.
Related reviews in topic branch tripleo-ci-reduce-rocky [3].

[1] https://review.opendev.org/c/openstack/releases/+/774244
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/020912.html
[3] https://review.opendev.org/q/topic:tripleo-ci-reduce-rocky

Change-Id: Ibe2fd5c7792d55236c09dbf9cf88e23e1c5a5673
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/49/782549/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/build-containers.yaml', 'zuul.d/undercloud-jobs.yaml', 'scripts/emit_releases_file/test_release_name.py', 'roles/build-containers/templates/kolla-build.sh.j2', 'scripts/emit_releases_file/emit_releases_file.py', 'zuul.d/standalone-jobs.yaml', 'scripts/oooq_common_functions.sh', 'roles/run-test/templates/oooq_common_functions.sh.j2', 'scripts/emit_releases_file/test_unsupported_upgrades.py', 'zuul.d/deprecated-jobs.yaml', 'zuul.d/multinode-jobs.yaml', 'roles/build-containers/vars/main.yaml', 'scripts/emit_releases_file/test_release_file.py', 'roles/build-containers/defaults/main.yaml', 'zuul.d/build-image.yaml']",15,3e1eb475ceb3b9d6e723264862c78e3ed8ffd845,tripleo-ci-reduce-rocky, branches: ^(?!stable/(queens|stein)).*$ branches: ^(?!stable/(queens|stein)).*$ branches: ^(?!stable/(queens|stein)).*$ branches: ^(stable/(pike|queens|stein|train)).*$ branches: ^(stable/(pike|queens|stein|train)).*$ branches: ^(stable/(pike|queens|stein|train)).*$, branches: ^(?!stable/(queens|rocky|stein)).*$ branches: ^(?!stable/(queens|rocky|stein)).*$ branches: ^(?!stable/(queens|rocky|stein)).*$ branches: ^(stable/(pike|queens|rocky|stein|train)).*$ branches: ^(stable/(pike|queens|rocky|stein|train)).*$ branches: ^(stable/(pike|queens|rocky|stein|train)).*$,37,261
openstack%2Fpuppet-tripleo~master~Ibfa43a89ea4c0411f83849ced183bf9609a50d97,openstack/puppet-tripleo,master,Ibfa43a89ea4c0411f83849ced183bf9609a50d97,Enable configuration of omamqp1 plugin,MERGED,2021-03-01 16:14:55.000000000,2021-04-07 02:35:00.000000000,2021-04-07 02:35:00.000000000,"[{'_account_id': 6926}, {'_account_id': 7294}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 31510}]","[{'number': 1, 'created': '2021-03-01 16:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f74048335ea422ad4bdf6ac980b724bcd049c836', 'message': 'Enable configuration of omamqp1 plugin\n\nAdds necessary configuration logic for AMQP-1.0 plugin for rsyslog.\n\nChange-Id: Ibfa43a89ea4c0411f83849ced183bf9609a50d97\n'}, {'number': 2, 'created': '2021-03-05 14:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/aadd4c509541a663d76a5afa315730cd59f33149', 'message': 'Enable configuration of omamqp1 plugin\n\nAdds necessary configuration logic for AMQP-1.0 plugin for rsyslog.\n\nChange-Id: Ibfa43a89ea4c0411f83849ced183bf9609a50d97\n'}, {'number': 3, 'created': '2021-03-08 16:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/82183818b8c508753bdde772bfb4a4fb112ad37f', 'message': 'Enable configuration of omamqp1 plugin\n\nAdds necessary configuration logic for AMQP-1.0 plugin for rsyslog.\n\nChange-Id: Ibfa43a89ea4c0411f83849ced183bf9609a50d97\n'}, {'number': 4, 'created': '2021-03-11 12:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/26fe528581db91ba5fc58a9c55ade46354ba170e', 'message': 'Enable configuration of omamqp1 plugin\n\nAdds necessary configuration logic for AMQP-1.0 plugin for rsyslog.\n\nChange-Id: Ibfa43a89ea4c0411f83849ced183bf9609a50d97\n'}, {'number': 5, 'created': '2021-03-15 11:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e7dc984479c94df430dc8703021f09a5aff02d2d', 'message': 'Enable configuration of omamqp1 plugin\n\nAdds necessary configuration logic for AMQP-1.0 plugin for rsyslog.\n\nChange-Id: Ibfa43a89ea4c0411f83849ced183bf9609a50d97\n'}, {'number': 6, 'created': '2021-03-17 14:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d749fa1ec652e3d444289c12589e23c5e864d196', 'message': 'Enable configuration of omamqp1 plugin\n\nAdds necessary configuration logic for AMQP-1.0 plugin for rsyslog.\n\nChange-Id: Ibfa43a89ea4c0411f83849ced183bf9609a50d97\n'}, {'number': 7, 'created': '2021-03-24 12:22:06.000000000', 'files': ['spec/classes/tripleo_profile_base_logging_rsyslog_spec.rb', 'manifests/profile/base/logging/rsyslog.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8d76ecabcf834a0baaceb32f0216e54b27ed7222', 'message': 'Enable configuration of omamqp1 plugin\n\nAdds necessary configuration logic for AMQP-1.0 plugin for rsyslog.\n\nChange-Id: Ibfa43a89ea4c0411f83849ced183bf9609a50d97\n'}]",3,778024,8d76ecabcf834a0baaceb32f0216e54b27ed7222,34,5,7,5241,,,0,"Enable configuration of omamqp1 plugin

Adds necessary configuration logic for AMQP-1.0 plugin for rsyslog.

Change-Id: Ibfa43a89ea4c0411f83849ced183bf9609a50d97
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/24/778024/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_logging_rsyslog_spec.rb', 'manifests/profile/base/logging/rsyslog.pp']",2,f74048335ea422ad4bdf6ac980b724bcd049c836,rsyslog-amqp1," $amqp1 = undef, if $elasticsearch != undef { if $elasticsearch_tls_ca_cert { $cacert_path = ""${rsyslog_confdir}/es-ca-cert.crt"" $cacert_conf = {'tls.cacert' => $cacert_path} file { 'elasticsearch_ca_cert': ensure => 'present', path => $cacert_path, content => $elasticsearch_tls_ca_cert } $esconf1 = merge($elasticsearch, $cacert_conf) } else { $esconf1 = $elasticsearch } if $elasticsearch_tls_client_cert { $clientcert_path = ""${rsyslog_confdir}/es-client-cert.pem"" $clientcert_conf = {'tls.mycert' => $clientcert_path} file { 'elasticsearch_client_cert': ensure => 'present', path => $clientcert_path, content => $elasticsearch_tls_client_cert } $esconf2 = merge($esconf1, $clientcert_conf) } else { $esconf2 = $esconf1 } if $elasticsearch_tls_client_key { $clientkey_path = ""${rsyslog_confdir}/es-client-key.pem"" $clientkey_conf = {'tls.myprivkey' => $clientkey_path} file { 'elasticsearch_client_key': ensure => 'present', path => $clientkey_path, content => $elasticsearch_tls_client_key } $esconf = merge($esconf2, $clientkey_conf) } else { $esconf = $esconf2 } $modules_es = { 'imfile' => {}, 'omelasticsearch' => {}, } $actions_es = { 'elasticsearch' => { 'type' => 'omelasticsearch', 'config' => $esconf, } } } if $amqp1 != undef { $modules_qdr = { 'imfile' => {}, 'omamqp1' => {}, } $actions_qdr = { 'amqp1' => { 'type' => 'omamqp1', 'config' => $amqp1, } } } $modules = $modules_es + $modules_qdr $actions = $actions_es + $actions_qdr"," if $elasticsearch_tls_ca_cert { $cacert_path = ""${rsyslog_confdir}/es-ca-cert.crt"" $cacert_conf = {'tls.cacert' => $cacert_path} file { 'elasticsearch_ca_cert': ensure => 'present', path => $cacert_path, content => $elasticsearch_tls_ca_cert } $esconf1 = merge($elasticsearch, $cacert_conf) } else { $esconf1 = $elasticsearch } if $elasticsearch_tls_client_cert { $clientcert_path = ""${rsyslog_confdir}/es-client-cert.pem"" $clientcert_conf = {'tls.mycert' => $clientcert_path} file { 'elasticsearch_client_cert': ensure => 'present', path => $clientcert_path, content => $elasticsearch_tls_client_cert } $esconf2 = merge($esconf1, $clientcert_conf) } else { $esconf2 = $esconf1 } if $elasticsearch_tls_client_key { $clientkey_path = ""${rsyslog_confdir}/es-client-key.pem"" $clientkey_conf = {'tls.myprivkey' => $clientkey_path} file { 'elasticsearch_client_key': ensure => 'present', path => $clientkey_path, content => $elasticsearch_tls_client_key } $esconf = merge($esconf2, $clientkey_conf) } else { $esconf = $esconf2 } $modules = { 'imfile' => {}, 'omelasticsearch' => {}, } $actions = { 'elasticsearch' => { 'type' => 'omelasticsearch', 'config' => $esconf, } } ",108,42
