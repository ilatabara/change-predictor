id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fkolla~master~Icb8d572b7f084804e0423a8a3171dd66646b3885,openstack/kolla,master,Icb8d572b7f084804e0423a8a3171dd66646b3885,[neutron] Do not migrate all subprojects,MERGED,2019-06-05 21:25:10.000000000,2019-07-11 14:02:38.000000000,2019-06-15 21:11:57.000000000,"[{'_account_id': 14826}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-06-05 21:25:10.000000000', 'files': ['docker/neutron/neutron-server/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f36d7aacf28bc75a4b0ece73b45aa09591cd262c', 'message': '[neutron] Do not migrate all subprojects\n\nInstead of migrating all Neutron subprojects at bootstrap time, target\nspecifically the neutron, neutron-fwaas, and neutron-vpnaas subprojects\nspeficially. If a subproject is not specified, all subprojects are\nmigrated, which is not the intended behavior.\n\nChange-Id: Icb8d572b7f084804e0423a8a3171dd66646b3885\n'}]",0,663436,f36d7aacf28bc75a4b0ece73b45aa09591cd262c,15,6,1,29100,,,0,"[neutron] Do not migrate all subprojects

Instead of migrating all Neutron subprojects at bootstrap time, target
specifically the neutron, neutron-fwaas, and neutron-vpnaas subprojects
speficially. If a subproject is not specified, all subprojects are
migrated, which is not the intended behavior.

Change-Id: Icb8d572b7f084804e0423a8a3171dd66646b3885
",git fetch https://review.opendev.org/openstack/kolla refs/changes/36/663436/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/neutron/neutron-server/extend_start.sh'],1,f36d7aacf28bc75a4b0ece73b45aa09591cd262c,neutron-migrate-fix, neutron-db-manage ${OPTS} --subproject neutron upgrade head, neutron-db-manage ${OPTS} upgrade head,1,1
openstack%2Fkolla-ansible~stable%2Frocky~I2915e2610e5c0b8d67412e7ec77f7575b8fe9921,openstack/kolla-ansible,stable/rocky,I2915e2610e5c0b8d67412e7ec77f7575b8fe9921,Wait for all compute services before cell discovery,MERGED,2019-07-08 15:19:33.000000000,2019-07-11 13:45:14.000000000,2019-07-11 13:45:14.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-08 15:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e167477de9dedbbbbdc4e4bbce9ba943da5afea', 'message': ""Wait for all compute services before cell discovery\n\nThere is a race condition during nova deploy since we wait for at least\none compute service to register itself before performing cells v2 host\ndiscovery.  It's quite possible that other compute nodes will not yet\nhave registered and will therefore not be discovered. This leaves them\nnot mapped into a cell, and results in the following error if the\nscheduler picks one when booting an instance:\n\nHost 'xyz' is not mapped to any cell\n\nThe problem has been exacerbated by merging a fix [1][2] for a nova race\ncondition, which disabled the dynamic periodic discovery mechanism in\nthe nova scheduler.\n\nThis change fixes the issue by waiting for all expected compute services\nto register themselves before performing host discovery. This includes\nboth virtualised compute services and bare metal compute services.\n\n[1] https://bugs.launchpad.net/kolla-ansible/+bug/1832987\n[2] https://review.opendev.org/665554\n\nChange-Id: I2915e2610e5c0b8d67412e7ec77f7575b8fe9921\nCloses-Bug: #1835002\n(cherry picked from commit c38dd767118164aae37613d557ed23691813f617)\n""}, {'number': 2, 'created': '2019-07-09 09:37:28.000000000', 'files': ['ansible/roles/nova/tasks/discover_computes.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1899feac9ba9c21c6cc76cf0609a4223d1210c55', 'message': ""Wait for all compute services before cell discovery\n\nThere is a race condition during nova deploy since we wait for at least\none compute service to register itself before performing cells v2 host\ndiscovery.  It's quite possible that other compute nodes will not yet\nhave registered and will therefore not be discovered. This leaves them\nnot mapped into a cell, and results in the following error if the\nscheduler picks one when booting an instance:\n\nHost 'xyz' is not mapped to any cell\n\nThe problem has been exacerbated by merging a fix [1][2] for a nova race\ncondition, which disabled the dynamic periodic discovery mechanism in\nthe nova scheduler.\n\nThis change fixes the issue by waiting for all expected compute services\nto register themselves before performing host discovery. This includes\nboth virtualised compute services and bare metal compute services.\n\nThis patch also includes change I58f8fd0a6e82cb614e02fef6e5b271af1d1ce9af\nwhich was made to fix an issue with the original version of this patch\nrunning on Ansible<28. See bug 1835817 for details.\n\nChange-Id: I2915e2610e5c0b8d67412e7ec77f7575b8fe9921\nCloses-Bug: #1835002\n(cherry picked from commit c38dd767118164aae37613d557ed23691813f617)\n""}]",1,669698,1899feac9ba9c21c6cc76cf0609a4223d1210c55,13,5,2,14826,,,0,"Wait for all compute services before cell discovery

There is a race condition during nova deploy since we wait for at least
one compute service to register itself before performing cells v2 host
discovery.  It's quite possible that other compute nodes will not yet
have registered and will therefore not be discovered. This leaves them
not mapped into a cell, and results in the following error if the
scheduler picks one when booting an instance:

Host 'xyz' is not mapped to any cell

The problem has been exacerbated by merging a fix [1][2] for a nova race
condition, which disabled the dynamic periodic discovery mechanism in
the nova scheduler.

This change fixes the issue by waiting for all expected compute services
to register themselves before performing host discovery. This includes
both virtualised compute services and bare metal compute services.

This patch also includes change I58f8fd0a6e82cb614e02fef6e5b271af1d1ce9af
which was made to fix an issue with the original version of this patch
running on Ansible<28. See bug 1835817 for details.

Change-Id: I2915e2610e5c0b8d67412e7ec77f7575b8fe9921
Closes-Bug: #1835002
(cherry picked from commit c38dd767118164aae37613d557ed23691813f617)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/98/669698/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/discover_computes.yml'],1,2e167477de9dedbbbbdc4e4bbce9ba943da5afea,bug/1835817,"# We need to wait for all expected compute services to register before running # cells v2 host discovery. This includes virtualised compute services and # ironic compute services. # Work with --limit by including only hosts in ansible_play_batch. - name: Build a list of expected compute service hosts vars: # For virt, use ansible_nodename rather than inventory_hostname, since this # is similar to what nova uses internally as its default for the # [DEFAULT] host config option. virt_compute_service_hosts: >- {{ groups['compute'] | intersect(ansible_play_batch) | map('extract', hostvars, 'ansible_nodename') | list }} # For ironic, use {{ansible_hostname}}-ironic since this is what we # configure for [DEFAULT] host in nova.conf. ironic_compute_service_hosts: >- {{ (groups['nova-compute-ironic'] | intersect(ansible_play_batch) | map('extract', hostvars, 'ansible_hostname') | map('regex_replace', '^(.*)$', '\1-ironic') | list) if enable_ironic | bool else [] }} set_fact: expected_compute_service_hosts: ""{{ virt_compute_service_hosts + ironic_compute_service_hosts }}"" run_once: True delegate_to: ""{{ groups['nova-api'][0] }}"" - name: Waiting for nova-compute services to register themselves vars: # A list containing the 'Host' field of compute services that have # registered themselves. Don't exclude compute services that are disabled # since these could have been explicitly disabled by the operator. While we # could exclude services that are down, the nova-manage cell_v2 # discover_hosts does not do this so let's not block on it here. found_compute_service_hosts: >- {{ nova_compute_services.stdout | from_json | map(attribute='Host') | list }} become: true compute service list --format json --column Host --service nova-compute - found_compute_service_hosts | issuperset(expected_compute_service_hosts)",- name: Waiting for nova-compute service up compute service list -f json --service nova-compute - nova_compute_services.stdout | from_json | length != 0,43,3
openstack%2Fkolla-ansible~stable%2Fstein~I88429f30eb81a286f4b8104d5e7a176eefaad667,openstack/kolla-ansible,stable/stein,I88429f30eb81a286f4b8104d5e7a176eefaad667,init-runonce: make public1 network optional,MERGED,2019-07-10 16:51:02.000000000,2019-07-11 13:45:13.000000000,2019-07-11 13:45:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-10 16:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4646b7622c6bb2b8ade3adcbf230347d910d2a82', 'message': 'init-runonce: make public1 network optional\n\nSkip creation by setting ENABLE_EXT_NET to 0.\n\nSince adding errexit we are failing in kayobe CI, since we have a\nconflicting flat network on physnet1.\n\nChange-Id: I88429f30eb81a286f4b8104d5e7a176eefaad667\n'}, {'number': 2, 'created': '2019-07-11 09:40:45.000000000', 'files': ['tools/init-runonce'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/da6acef6ceae2ab81cdeb0b3eaeb5f627d07b79d', 'message': 'init-runonce: make public1 network optional\n\nSkip creation by setting ENABLE_EXT_NET to 0.\n\nSince adding errexit we are failing in kayobe CI, since we have a\nconflicting flat network on physnet1.\n\nChange-Id: I88429f30eb81a286f4b8104d5e7a176eefaad667\n(cherry picked from commit 3026fd91298ea9f33d8aa5cd57bc0ae7ea6abf98)\n'}]",0,670129,da6acef6ceae2ab81cdeb0b3eaeb5f627d07b79d,13,3,2,14826,,,0,"init-runonce: make public1 network optional

Skip creation by setting ENABLE_EXT_NET to 0.

Since adding errexit we are failing in kayobe CI, since we have a
conflicting flat network on physnet1.

Change-Id: I88429f30eb81a286f4b8104d5e7a176eefaad667
(cherry picked from commit 3026fd91298ea9f33d8aa5cd57bc0ae7ea6abf98)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/29/670129/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/init-runonce'],1,4646b7622c6bb2b8ade3adcbf230347d910d2a82,,ENABLE_EXT_NET=${ENABLE_EXT_NET:-1}if [[ $ENABLE_EXT_NET -eq 1 ]]; then openstack network create --external --provider-physical-network physnet1 \ --provider-network-type flat public1 openstack subnet create --no-dhcp \ --allocation-pool ${EXT_NET_RANGE} --network public1 \ --subnet-range ${EXT_NET_CIDR} --gateway ${EXT_NET_GATEWAY} public1-subnet fiif [[ $ENABLE_EXT_NET -eq 1 ]]; then openstack router set --external-gateway public1 demo-router fi,openstack network create --external --provider-physical-network physnet1 \ --provider-network-type flat public1 openstack subnet create --no-dhcp \ --allocation-pool ${EXT_NET_RANGE} --network public1 \ --subnet-range ${EXT_NET_CIDR} --gateway ${EXT_NET_GATEWAY} public1-subnetopenstack router set --external-gateway public1 demo-router,11,6
openstack%2Foslo.reports~master~Ice407c712b5438b06c4f439c73946640a0c5a86c,openstack/oslo.reports,master,Ice407c712b5438b06c4f439c73946640a0c5a86c,Move doc related modules to doc/requirements.txt,MERGED,2019-07-05 07:35:19.000000000,2019-07-11 13:41:22.000000000,2019-07-11 13:41:22.000000000,"[{'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-07-05 07:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/10350ffc25a669bb6305977e21f6158a5a5cfa3c', 'message': 'Move doc related modules to doc/requirements.txt\n\nChange-Id: Ice407c712b5438b06c4f439c73946640a0c5a86c\n'}, {'number': 2, 'created': '2019-07-05 07:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/2929e416493e2c6b17df53864924fde0fb8d7706', 'message': 'Move doc related modules to doc/requirements.txt\n\nChange-Id: Ice407c712b5438b06c4f439c73946640a0c5a86c\n'}, {'number': 3, 'created': '2019-07-05 08:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/cd4a2f9ea3da5d7529843240d15821d16712f0ce', 'message': 'Move doc related modules to doc/requirements.txt\n\nChange-Id: Ice407c712b5438b06c4f439c73946640a0c5a86c\n'}, {'number': 4, 'created': '2019-07-05 09:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/1ff9d30e64e54eecbaf2e781a0e3b97f3594f657', 'message': 'Move doc related modules to doc/requirements.txt\n\nChange-Id: Ice407c712b5438b06c4f439c73946640a0c5a86c\n'}, {'number': 5, 'created': '2019-07-05 10:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/e9c1fb50f3dfa4eaef5c659512f7fbb16d212806', 'message': 'Move doc related modules to doc/requirements.txt\n\nChange-Id: Ice407c712b5438b06c4f439c73946640a0c5a86c\n'}, {'number': 6, 'created': '2019-07-05 10:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/907933f633bf4e4df4d8e47193f0249d8cce8474', 'message': 'Move doc related modules to doc/requirements.txt\n\nChange-Id: Ice407c712b5438b06c4f439c73946640a0c5a86c\n'}, {'number': 7, 'created': '2019-07-05 15:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/1667c72ef88555adaa45767ad81b5297581e46e8', 'message': 'Move doc related modules to doc/requirements.txt\n\nChange-Id: Ice407c712b5438b06c4f439c73946640a0c5a86c\n'}, {'number': 8, 'created': '2019-07-05 16:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/7d6e99afbc7267efc9764edccfad42f83e33e7fb', 'message': 'Move doc related modules to doc/requirements.txt\n\nChange-Id: Ice407c712b5438b06c4f439c73946640a0c5a86c\n'}, {'number': 9, 'created': '2019-07-05 16:53:02.000000000', 'files': ['.gitignore', 'doc/source/reference/index.rst', 'test-requirements.txt', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/f35e099910e64fc775497d735c8b6024c784332e', 'message': 'Move doc related modules to doc/requirements.txt\n\nChange-Id: Ice407c712b5438b06c4f439c73946640a0c5a86c\n'}]",7,669281,f35e099910e64fc775497d735c8b6024c784332e,26,6,9,22165,,,0,"Move doc related modules to doc/requirements.txt

Change-Id: Ice407c712b5438b06c4f439c73946640a0c5a86c
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/81/669281/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/report.txt', 'test-requirements.txt', 'README.rst', 'doc/requirements.txt', 'tox.ini']",5,10350ffc25a669bb6305977e21f6158a5a5cfa3c,,whitelist_externals = rm deps = {[testenv]deps} -r{toxinidir}/doc/requirements.txt commands = rm -rf doc/build doc/source/reference/api sphinx-build -W -b html doc/source doc/build/html,commands = python setup.py build_sphinx,21,9
openstack%2Ftripleo-ansible~master~I02a0e95519ac33ca15b36aaef3f40f61ad10217b,openstack/tripleo-ansible,master,I02a0e95519ac33ca15b36aaef3f40f61ad10217b,Fix setup.py for symlinked tripleo-docker-rm,MERGED,2019-07-11 10:36:26.000000000,2019-07-11 13:23:50.000000000,2019-07-11 13:02:08.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-11 10:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/de86d7be96d9ca072eed67fd6e1aa070fac666aa', 'message': 'Fix setup.py for symlinked tripleo-docker-rm\n\nChange-Id: I02a0e95519ac33ca15b36aaef3f40f61ad10217b\n'}, {'number': 2, 'created': '2019-07-11 10:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/99b12a9b0712e5294b96eeaeaf192704d2e1771d', 'message': ""Fix setup.py for symlinked tripleo-docker-rm\n\nsetup.py doens't handle symlinks, so copy files explicitly\nCloses-Bug: #1836145\nChange-Id: I02a0e95519ac33ca15b36aaef3f40f61ad10217b\n""}, {'number': 3, 'created': '2019-07-11 10:42:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/add4969e6b2213310a3c3288f1395aa6fbae75bf', 'message': ""Fix setup.py for symlinked tripleo-docker-rm\n\nsetup.py doens't handle symlinks, so copy files explicitly\nCloses-Bug: #1836145\nChange-Id: I02a0e95519ac33ca15b36aaef3f40f61ad10217b\n""}]",2,670272,add4969e6b2213310a3c3288f1395aa6fbae75bf,13,6,3,10969,,,0,"Fix setup.py for symlinked tripleo-docker-rm

setup.py doens't handle symlinks, so copy files explicitly
Closes-Bug: #1836145
Change-Id: I02a0e95519ac33ca15b36aaef3f40f61ad10217b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/72/670272/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,de86d7be96d9ca072eed67fd6e1aa070fac666aa,bug/1836145, share/ansible/tripleo-roles/tripleo-docker-rm/ = tripleo_ansible/roles/tripleo-container-rm/*,,1,0
openstack%2Foslo.messaging~master~I699a3ee210c4b45018566b520eaf641e0e582362,openstack/oslo.messaging,master,I699a3ee210c4b45018566b520eaf641e0e582362,Add Python 3 Train unit tests,MERGED,2019-07-05 18:47:54.000000000,2019-07-11 13:23:41.000000000,2019-07-11 13:23:41.000000000,"[{'_account_id': 4257}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 18:47:54.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1c31abc7bc7b1b7dacd8c482857ab8829ed05eaf', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I699a3ee210c4b45018566b520eaf641e0e582362\nStory: #2005924\nTask: #34234\n'}]",0,669462,1c31abc7bc7b1b7dacd8c482857ab8829ed05eaf,7,3,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I699a3ee210c4b45018566b520eaf641e0e582362
Story: #2005924
Task: #34234
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/62/669462/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,1c31abc7bc7b1b7dacd8c482857ab8829ed05eaf,python3-train,"envlist = py27,py37,pep8","envlist = py37,py27,pep8",3,3
openstack%2Ftripleo-common~master~Iaec3654900f250eacf39c7748df166b716937358,openstack/tripleo-common,master,Iaec3654900f250eacf39c7748df166b716937358,Add net_ip_map template to tripleo-hieradata,MERGED,2019-07-02 15:50:21.000000000,2019-07-11 13:16:57.000000000,2019-07-10 05:25:49.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-07-02 15:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/02e58860cd8de2e4ced4c99e29e8c6934655a709', 'message': 'Add net_ip_map template to tripleo-hieradata\n\nThis template will create the net_ip_map hieradata on each node.\n\nChange-Id: Iaec3654900f250eacf39c7748df166b716937358\n'}, {'number': 2, 'created': '2019-07-03 20:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ada4d028525b9275edd108aa6cbba14b44516f17', 'message': 'Add net_ip_map template to tripleo-hieradata\n\nThis template will create the net_ip_map hieradata on each node.\n\nChange-Id: Iaec3654900f250eacf39c7748df166b716937358\n'}, {'number': 3, 'created': '2019-07-03 20:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cb0f6b8d5c40a63c41cefc3f2a8407881d125426', 'message': 'Add net_ip_map template to tripleo-hieradata\n\nThis template will create the net_ip_map hieradata on each node.\n\nChange-Id: Iaec3654900f250eacf39c7748df166b716937358\n'}, {'number': 4, 'created': '2019-07-09 18:53:46.000000000', 'files': ['roles/tripleo-hieradata/templates/net_ip_map.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b29b44c34b851bb7fc89bd95d019f210360d0f92', 'message': 'Add net_ip_map template to tripleo-hieradata\n\nThis template will create the net_ip_map hieradata on each node.\n\nChange-Id: Iaec3654900f250eacf39c7748df166b716937358\n'}]",5,668701,b29b44c34b851bb7fc89bd95d019f210360d0f92,22,5,4,7144,,,0,"Add net_ip_map template to tripleo-hieradata

This template will create the net_ip_map hieradata on each node.

Change-Id: Iaec3654900f250eacf39c7748df166b716937358
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/01/668701/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-hieradata/templates/net_ip_map.j2'],1,02e58860cd8de2e4ced4c99e29e8c6934655a709,merge," ""ctlplane_subnet"": ""{{ ctlplane_ip ~ '/' ~ ctlplane_subnet_cidr }}"", ""ctlplane_uri"": ""{{ ctlplane_ip | ipwrap }}"", {%- for network in enabled_networks %} {%- if network ~ '_cidr' in network_cidrs %} ""{{ networks[network]['name'] }}"": ""{{ hostvars[inventory_hostname][networks[network]['name'] ~ '_ip'] }}"", ""{{ networks[network]['name'] }}_subnet"": ""{{ hostvars[inventory_hostname][networks[network]['name'] ~ '_ip'] ~ '/' ~ network_cidrs[network ~ '_cidr'] }}"", ""{{ networks[network]['name'] }}_uri"": ""{{ hostvars[inventory_hostname][networks[network]['name'] ~ '_ip'] | ipwrap }}""{% if not loop.last %},{% endif %} {%- else %} {# just add empty entries for this network if it doesn't apply to this role. matches previous behavior from Heat #} ""{{ networks[network]['name'] }}"": """", ""{{ networks[network]['name'] }}_subnet"": """", ""{{ networks[network]['name'] }}_uri"": """"{% if not loop.last %},{% endif %} {%- endif %} {%- endfor %} ",,15,0
openstack%2Foslo.config~master~Ia547c6f2e27c12ef58eb955286b5f2ab5359c2e2,openstack/oslo.config,master,Ia547c6f2e27c12ef58eb955286b5f2ab5359c2e2,Add Python 3 Train unit tests,MERGED,2019-07-05 18:43:07.000000000,2019-07-11 13:16:05.000000000,2019-07-11 13:16:05.000000000,"[{'_account_id': 4257}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 18:43:07.000000000', 'files': ['.zuul.d/project.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/2488c1e1cee151a3a65c60f371f0bea2f15d4bca', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ia547c6f2e27c12ef58eb955286b5f2ab5359c2e2\nStory: #2005924\nTask: #34234\n'}]",0,669459,2488c1e1cee151a3a65c60f371f0bea2f15d4bca,7,3,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ia547c6f2e27c12ef58eb955286b5f2ab5359c2e2
Story: #2005924
Task: #34234
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/59/669459/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'setup.cfg', 'tox.ini']",3,2488c1e1cee151a3a65c60f371f0bea2f15d4bca,python3-train,"envlist = py27,py37,pep8","envlist = py36,py27,pep8",3,3
openstack%2Fautomaton~master~I3cb88c079088916164d82a0f5b253c22528c0543,openstack/automaton,master,I3cb88c079088916164d82a0f5b253c22528c0543,Add Python 3 Train unit tests,MERGED,2019-07-05 18:37:42.000000000,2019-07-11 13:14:02.000000000,2019-07-11 13:14:02.000000000,"[{'_account_id': 6618}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 18:37:42.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/automaton/commit/5e82feb25044634ea55c2ce477ef40884989b49a', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I3cb88c079088916164d82a0f5b253c22528c0543\nStory: #2005924\nTask: #34234\n'}]",0,669453,5e82feb25044634ea55c2ce477ef40884989b49a,7,3,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I3cb88c079088916164d82a0f5b253c22528c0543
Story: #2005924
Task: #34234
",git fetch https://review.opendev.org/openstack/automaton refs/changes/53/669453/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,5e82feb25044634ea55c2ce477ef40884989b49a,python3-train,"envlist = py27,py37,docs,pep8","envlist = py35,py27,docs,pep8",4,5
openstack%2Fglance~master~I21e92585f7aa001e317c768cd2b1a9e3c139913a,openstack/glance,master,I21e92585f7aa001e317c768cd2b1a9e3c139913a,"save_and_reraise_exception instead of ""raise\n""",NEW,2019-07-03 09:51:22.000000000,2019-07-11 13:12:42.000000000,,"[{'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 30568}]","[{'number': 1, 'created': '2019-07-03 09:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1250b39b653715d2335f12771df353a211e5f309', 'message': 'save_and_reraise_exception instead of ""raise\\n""\n\nChange-Id: I21e92585f7aa001e317c768cd2b1a9e3c139913a\n'}, {'number': 2, 'created': '2019-07-03 10:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/423f30aab5bfa5b5b39c7de32ff92577b51ea44f', 'message': 'save_and_reraise_exception instead of ""raise\\n""\n\nChange-Id: I21e92585f7aa001e317c768cd2b1a9e3c139913a\nCloses-bug: 1281453\n'}, {'number': 3, 'created': '2019-07-03 15:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/935bb62ddff9bf1d344ca1637b5b209a4fb12d41', 'message': 'save_and_reraise_exception instead of ""raise\\n""\n\nChange-Id: I21e92585f7aa001e317c768cd2b1a9e3c139913a\nCloses-bug: 1281453\n'}, {'number': 4, 'created': '2019-07-04 08:45:26.000000000', 'files': ['glance/api/v2/image_data.py', 'glance/registry/api/v1/images.py', 'glance/common/exception.py', 'glance/db/sqlalchemy/migrate_repo/versions/017_quote_encrypted_swift_credentials.py', 'glance/common/rpc.py', 'glance/api/v1/upload_utils.py', 'glance/db/sqlalchemy/api.py', 'glance/image_cache/drivers/sqlite.py', 'glance/registry/client/v1/client.py', 'glance/common/utils.py', 'glance/api/policy.py', 'glance/common/wsgi.py', 'glance/notifier.py', 'glance/tests/functional/__init__.py', 'glance/db/sqlalchemy/migrate_repo/versions/015_quote_swift_credentials.py', 'glance/image_cache/drivers/xattr.py', 'glance/db/sqlalchemy/metadef_api/resource_type.py', 'glance/tests/utils.py', 'glance/db/sqlalchemy/metadef_api/namespace.py', 'glance/cmd/cache_manage.py', 'glance/scrubber.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/4d3ece8fb30437556f64301353336431e44de966', 'message': 'save_and_reraise_exception instead of ""raise\\n""\n\nChange-Id: I21e92585f7aa001e317c768cd2b1a9e3c139913a\nCloses-bug: 1281453\n'}]",0,668852,4d3ece8fb30437556f64301353336431e44de966,14,6,4,30459,,,0,"save_and_reraise_exception instead of ""raise\n""

Change-Id: I21e92585f7aa001e317c768cd2b1a9e3c139913a
Closes-bug: 1281453
",git fetch https://review.opendev.org/openstack/glance refs/changes/52/668852/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/image_data.py', 'glance/registry/api/v1/images.py', 'glance/common/exception.py', 'glance/db/sqlalchemy/migrate_repo/versions/017_quote_encrypted_swift_credentials.py', 'glance/common/rpc.py', 'glance/api/v1/upload_utils.py', 'glance/db/sqlalchemy/api.py', 'glance/image_cache/drivers/sqlite.py', 'glance/registry/client/v1/client.py', 'glance/common/utils.py', 'glance/api/policy.py', 'glance/common/wsgi.py', 'glance/tests/functional/__init__.py', 'glance/db/sqlalchemy/migrate_repo/versions/015_quote_swift_credentials.py', 'glance/image_cache/drivers/xattr.py', 'glance/db/sqlalchemy/metadef_api/resource_type.py', 'glance/tests/utils.py', 'glance/db/sqlalchemy/metadef_api/namespace.py', 'glance/cmd/cache_manage.py', 'glance/scrubber.py']",20,1250b39b653715d2335f12771df353a211e5f309,bug/1281453,"from oslo_utils import excutils with excutils.save_and_reraise_exception(): LOG.error(_LE(""Unable to scrub image %(id)s from a location. """," LOG.error(_LE(""Unable to scrub image %(id)s from a location. "" raise",134,111
openstack%2Fkolla-ansible~master~I45c9f0bd9f2e55600472aaab92981d097306cb35,openstack/kolla-ansible,master,I45c9f0bd9f2e55600472aaab92981d097306cb35,Rename the cloudKitty to cloudkitty,ABANDONED,2019-07-11 08:04:45.000000000,2019-07-11 13:05:28.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-11 08:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/45f7021efb99b21885274a3bf24f9ab3fed4cf0c', 'message': 'Remove the cloudKitty to cloudkitty\n\nChange-Id: I45c9f0bd9f2e55600472aaab92981d097306cb35\n'}, {'number': 2, 'created': '2019-07-11 08:09:34.000000000', 'files': ['releasenotes/notes/cloudkitty-v2-influxdb-07cb8b0051ac9ea0.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e66f2955b55bd016c53ba269b0b437cf087a7a6c', 'message': 'Rename the cloudKitty to cloudkitty\n\nChange-Id: I45c9f0bd9f2e55600472aaab92981d097306cb35\n'}]",1,670244,e66f2955b55bd016c53ba269b0b437cf087a7a6c,6,3,2,30356,,,0,"Rename the cloudKitty to cloudkitty

Change-Id: I45c9f0bd9f2e55600472aaab92981d097306cb35
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/44/670244/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/cloudkitty-v2-influxdb-07cb8b0051ac9ea0.yaml'],1,45f7021efb99b21885274a3bf24f9ab3fed4cf0c,,,,0,0
openstack%2Fkuryr-kubernetes~master~I3f21bc0c0790bb79ee81db361cd072609a0a3169,openstack/kuryr-kubernetes,master,I3f21bc0c0790bb79ee81db361cd072609a0a3169,Use CNI_IFNAME environment variable,MERGED,2019-07-10 17:27:27.000000000,2019-07-11 12:52:08.000000000,2019-07-11 12:52:07.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 15518}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 28396}]","[{'number': 1, 'created': '2019-07-10 17:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d0b11781dbd84694441dc46bcb8483c26b193cbd', 'message': ""Use CNI_IFNAME environment variable\n\nAccording to CNI spec kubelet expects CNI_IFNAME (the name\ninside container) if sandbox is not empty.\n\nBoth python and golang implementation was done unconditionally,\nIOW we can add both empty sandbox and interface name on the\nhost and nonempty sandbox and container's iface name.\n\nChange-Id: I3f21bc0c0790bb79ee81db361cd072609a0a3169\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}, {'number': 2, 'created': '2019-07-10 17:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d373d048337149552962df288cc394bb28f53cf3', 'message': ""Use CNI_IFNAME environment variable\n\nAccording to CNI spec kubelet expects CNI_IFNAME (the name\ninside container) if sandbox is not empty.\n\nBoth python and golang implementation was done unconditionally,\nIOW we can add both empty sandbox and interface name on the\nhost and nonempty sandbox and container's iface name.\n\nCloses-Bug: #1835038\nChange-Id: I3f21bc0c0790bb79ee81db361cd072609a0a3169\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}, {'number': 3, 'created': '2019-07-11 06:53:39.000000000', 'files': ['kuryr_cni/main.go', 'kuryr_kubernetes/cni/api.py', 'kuryr_kubernetes/tests/unit/cni/test_api.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ca222d4f5b9ed38122ceec32d2e98cf9abc3911f', 'message': ""Use CNI_IFNAME environment variable\n\nAccording to CNI spec kubelet expects CNI_IFNAME (the name\ninside container) if sandbox is not empty.\n\nBoth python and golang implementation was done unconditionally,\nIOW we can add both empty sandbox and interface name on the\nhost and nonempty sandbox and container's iface name.\n\nCloses-Bug: #1835038\nChange-Id: I3f21bc0c0790bb79ee81db361cd072609a0a3169\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n""}]",0,670141,ca222d4f5b9ed38122ceec32d2e98cf9abc3911f,13,9,3,28396,,,0,"Use CNI_IFNAME environment variable

According to CNI spec kubelet expects CNI_IFNAME (the name
inside container) if sandbox is not empty.

Both python and golang implementation was done unconditionally,
IOW we can add both empty sandbox and interface name on the
host and nonempty sandbox and container's iface name.

Closes-Bug: #1835038
Change-Id: I3f21bc0c0790bb79ee81db361cd072609a0a3169
Signed-off-by: Alexey Perevalov <a.perevalov@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/41/670141/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_cni/main.go', 'kuryr_kubernetes/cni/api.py']",2,d0b11781dbd84694441dc46bcb8483c26b193cbd,," ""name"": params[""CNI_IFNAME""],"," ""name"": vif.vif_name,",2,2
openstack%2Fironic-specs~master~Ic82bde84617c461aba1e4a02b3fc562a90c99a6e,openstack/ironic-specs,master,Ic82bde84617c461aba1e4a02b3fc562a90c99a6e,Rename review.openstack.org to review.opendev.org,MERGED,2019-07-11 03:39:22.000000000,2019-07-11 12:25:32.000000000,2019-07-11 12:25:32.000000000,"[{'_account_id': 11076}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-11 03:39:22.000000000', 'files': ['specs/approved/crud-and-state-notifications.rst', 'specs/approved/virtual-bare-metal-cluster-manager.rst', 'specs/approved/inband-raid-configuration.rst', 'specs/approved/software-raid.rst', 'specs/approved/support-smart-nic.rst', 'specs/approved/ipxe-dynamic-config.rst', 'specs/approved/inspect-wait-state.rst', 'specs/approved/collect-logs-from-agent-ramdisk.rst', 'specs/approved/power-fault-recovery.rst', 'specs/approved/drac-firmware-update-spec.rst', 'specs/backlog/driver-capabilities.rst', 'specs/approved/version-caching.rst', 'specs/approved/volume-connection-information.rst', 'specs/approved/manual-cleaning.rst', 'specs/approved/nova-compatible-serial-console.rst', 'priorities/stein-priorities.rst', 'specs/approved/boot-from-volume-reference-drivers.rst', 'specs/approved/collect-system-logs-from-ipa.rst', 'specs/approved/enhance-power-interface-for-soft-reboot-and-nmi.rst', 'specs/approved/ilo-oob-raid.rst', 'specs/approved/cisco-ucs-oob-raid-configuration.rst', 'specs/approved/expose-supported-power-states.rst', 'specs/approved/ironic-generic-raid-interface.rst', 'specs/approved/network-provider.rst', 'specs/approved/node-resource-class.rst', 'specs/backlog/obtaining-steps.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/ae35f97b43a753ba592c77a59cd0df43fd863466', 'message': 'Rename review.openstack.org to review.opendev.org\n\nThere are many references to review.openstack.org, and while the\nredirect should work, we can also go ahead and fix them.\n\nChange-Id: Ic82bde84617c461aba1e4a02b3fc562a90c99a6e\n'}]",0,670223,ae35f97b43a753ba592c77a59cd0df43fd863466,7,3,1,17130,,,0,"Rename review.openstack.org to review.opendev.org

There are many references to review.openstack.org, and while the
redirect should work, we can also go ahead and fix them.

Change-Id: Ic82bde84617c461aba1e4a02b3fc562a90c99a6e
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/23/670223/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/crud-and-state-notifications.rst', 'specs/approved/virtual-bare-metal-cluster-manager.rst', 'specs/approved/inband-raid-configuration.rst', 'specs/approved/software-raid.rst', 'specs/approved/support-smart-nic.rst', 'specs/approved/ipxe-dynamic-config.rst', 'specs/approved/inspect-wait-state.rst', 'specs/approved/collect-logs-from-agent-ramdisk.rst', 'specs/approved/power-fault-recovery.rst', 'specs/approved/drac-firmware-update-spec.rst', 'specs/backlog/driver-capabilities.rst', 'specs/approved/version-caching.rst', 'specs/approved/volume-connection-information.rst', 'specs/approved/manual-cleaning.rst', 'specs/approved/nova-compatible-serial-console.rst', 'priorities/stein-priorities.rst', 'specs/approved/boot-from-volume-reference-drivers.rst', 'specs/approved/collect-system-logs-from-ipa.rst', 'specs/approved/enhance-power-interface-for-soft-reboot-and-nmi.rst', 'specs/approved/ilo-oob-raid.rst', 'specs/approved/cisco-ucs-oob-raid-configuration.rst', 'specs/approved/expose-supported-power-states.rst', 'specs/approved/ironic-generic-raid-interface.rst', 'specs/approved/network-provider.rst', 'specs/approved/node-resource-class.rst', 'specs/backlog/obtaining-steps.rst']",26,ae35f97b43a753ba592c77a59cd0df43fd863466,, `606199 <https://review.opendev.org/#/c/606199/4>`_ for more information., `606199 <https://review.openstack.org/#/c/606199/4>`_ for more information.,45,45
openstack%2Fceilometermiddleware~master~Ia36e5025d8db1568c5512263833c558c55c10f59,openstack/ceilometermiddleware,master,Ia36e5025d8db1568c5512263833c558c55c10f59,Fix py37 test error,MERGED,2019-07-09 01:17:37.000000000,2019-07-11 12:18:49.000000000,2019-07-11 12:18:49.000000000,"[{'_account_id': 14107}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-07-09 01:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/4a6cad8e75a48e41292d9ba323b45b520b48004b', 'message': 'TEST\n\nDepends-On: https://review.opendev.org/#/c/669516/\nChange-Id: Ia36e5025d8db1568c5512263833c558c55c10f59\n'}, {'number': 2, 'created': '2019-07-09 08:08:46.000000000', 'files': ['ceilometermiddleware/swift.py'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/edfeca139dd6007ddd26d88c776c00206fa82473', 'message': 'Fix py37 test error\n\nChange-Id: Ia36e5025d8db1568c5512263833c558c55c10f59\n'}]",0,669777,edfeca139dd6007ddd26d88c776c00206fa82473,29,4,2,14107,,,0,"Fix py37 test error

Change-Id: Ia36e5025d8db1568c5512263833c558c55c10f59
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/77/669777/2 && git format-patch -1 --stdout FETCH_HEAD,['ceilometermiddleware/swift.py'],1,4a6cad8e75a48e41292d9ba323b45b520b48004b,, try: chunk = next(iterator) except StopIteration: chunk = '', chunk = next(iterator),4,1
openstack%2Fmonasca-agent~master~I1ded45777e709645e90690a297db97a70f6ca7b1,openstack/monasca-agent,master,I1ded45777e709645e90690a297db97a70f6ca7b1,Remove monasca-tempest-java-influxdb job,MERGED,2019-07-10 16:12:39.000000000,2019-07-11 12:04:19.000000000,2019-07-11 12:04:19.000000000,"[{'_account_id': 10311}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2019-07-10 16:12:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/79ea205366d1373fbd3884d15df23890656a7f7e', 'message': 'Remove monasca-tempest-java-influxdb job\n\nThis job has been failing for a long time already. Java persister for\nInfluxDB is not maintained anymore.\n\nChange-Id: I1ded45777e709645e90690a297db97a70f6ca7b1\n'}]",0,670110,79ea205366d1373fbd3884d15df23890656a7f7e,7,3,1,16222,,,0,"Remove monasca-tempest-java-influxdb job

This job has been failing for a long time already. Java persister for
InfluxDB is not maintained anymore.

Change-Id: I1ded45777e709645e90690a297db97a70f6ca7b1
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/10/670110/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,79ea205366d1373fbd3884d15df23890656a7f7e,,, - monasca-tempest-java-influxdb: voting: false,0,2
openstack%2Fpuppet-tripleo~master~I5da1e67684f8317eec8c499c3534977e00a63098,openstack/puppet-tripleo,master,I5da1e67684f8317eec8c499c3534977e00a63098,Include nova::metadata to compute profile,MERGED,2019-07-03 15:59:29.000000000,2019-07-11 12:04:08.000000000,2019-07-11 12:04:08.000000000,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-03 15:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8087a9c4549229760f1cfb695386a5e1105d62a3', 'message': '[WIP] Include nova::metadata to compute profile\n\nThe old DEFAULT/dhcp_domain setting was moved to api/dhcp_domain.\nnova::network::neutron::dhcp_domain will be removed later in the cycle.\nWe need include nova::metadata which sets the new [api]/dhcp_domain\nas this is used by the virt driver to generate the config drive.\n\nRelated-Bug: 1832537\n\nChange-Id: I5da1e67684f8317eec8c499c3534977e00a63098\n'}, {'number': 2, 'created': '2019-07-03 17:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ee65fcfbf9e217dbbcd0ba9cb133964539aa0faa', 'message': '[WIP] Include nova::metadata to compute profile\n\nThe old DEFAULT/dhcp_domain setting was moved to api/dhcp_domain.\nnova::network::neutron::dhcp_domain will be removed later in the cycle.\nWe need include nova::metadata which sets the new [api]/dhcp_domain\nas this is used by the virt driver to generate the config drive.\n\nRelated-Bug: 1832537\n\nDepends-On: https://review.opendev.org/668663\nDepends-On: https://review.opendev.org/668666\nDepends-On: https://review.opendev.org/665131\n\nChange-Id: I5da1e67684f8317eec8c499c3534977e00a63098\n'}, {'number': 3, 'created': '2019-07-04 06:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5658914c0f88c765294135897e3ce11625d5f4b1', 'message': '[WIP] Include nova::metadata to compute profile\n\nThe old DEFAULT/dhcp_domain setting was moved to api/dhcp_domain.\nnova::network::neutron::dhcp_domain will be removed later in the cycle.\nWe need include nova::metadata which sets the new [api]/dhcp_domain\nas this is used by the virt driver to generate the config drive.\n\nRelated-Bug: 1832537\n\nDepends-On: https://review.opendev.org/668663\nDepends-On: https://review.opendev.org/668666\nDepends-On: https://review.opendev.org/665131\nDepends-On: https://review.opendev.org/669066\n\nChange-Id: I5da1e67684f8317eec8c499c3534977e00a63098\n'}, {'number': 4, 'created': '2019-07-04 16:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ec169dd0cdb9d70d3abcc8c281ab4ee9893d8e74', 'message': '[WIP] Include nova::metadata to compute profile\n\nThe old DEFAULT/dhcp_domain setting was moved to api/dhcp_domain.\nnova::network::neutron::dhcp_domain will be removed later in the cycle.\nWe need include nova::metadata which sets the new [api]/dhcp_domain\nas this is used by the virt driver to generate the config drive.\n\nRelated-Bug: 1832537\n\nDepends-On: https://review.opendev.org/668663\nDepends-On: https://review.opendev.org/668666\nDepends-On: https://review.opendev.org/665131\nDepends-On: https://review.opendev.org/669066\nDepends-On: https://review.opendev.org/669208\n\nChange-Id: I5da1e67684f8317eec8c499c3534977e00a63098\n'}, {'number': 5, 'created': '2019-07-07 14:43:50.000000000', 'files': ['manifests/profile/base/nova/compute.pp', 'releasenotes/notes/nova_compute_include_metadata-21757b44cb976e5d.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3273d29163aed22b0ec5385738d06b6083aa9b03', 'message': 'Include nova::metadata to compute profile\n\nThe old DEFAULT/dhcp_domain setting was moved to api/dhcp_domain.\nnova::network::neutron::dhcp_domain will be removed later in the cycle.\nWe need include nova::metadata which sets the new [api]/dhcp_domain\nas this is used by the virt driver to generate the config drive.\n\nCloses-Bug: 1832537\n\nDepends-On: https://review.opendev.org/668663\nDepends-On: https://review.opendev.org/668666\nDepends-On: https://review.opendev.org/665131\nDepends-On: https://review.opendev.org/669066\nDepends-On: https://review.opendev.org/669208\n\nChange-Id: I5da1e67684f8317eec8c499c3534977e00a63098\n'}]",0,668949,3273d29163aed22b0ec5385738d06b6083aa9b03,34,9,5,17216,,,0,"Include nova::metadata to compute profile

The old DEFAULT/dhcp_domain setting was moved to api/dhcp_domain.
nova::network::neutron::dhcp_domain will be removed later in the cycle.
We need include nova::metadata which sets the new [api]/dhcp_domain
as this is used by the virt driver to generate the config drive.

Closes-Bug: 1832537

Depends-On: https://review.opendev.org/668663
Depends-On: https://review.opendev.org/668666
Depends-On: https://review.opendev.org/665131
Depends-On: https://review.opendev.org/669066
Depends-On: https://review.opendev.org/669208

Change-Id: I5da1e67684f8317eec8c499c3534977e00a63098
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/49/668949/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/nova/compute.pp', 'releasenotes/notes/nova_compute_include_metadata-21757b44cb976e5d.yaml']",2,8087a9c4549229760f1cfb695386a5e1105d62a3,bug/1832537,--- fixes: - | The old DEFAULT/dhcp_domain setting was moved to api/dhcp_domain. nova::network::neutron::dhcp_domain will be removed later in the cycle. We need include nova::metadata which sets the new [api]/dhcp_domain as this is used by the virt driver to generate the config drive. ,,12,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~Id287db2268f7e5b0a035fc9c43c6851c719e2cfc,openstack/tripleo-heat-templates,stable/stein,Id287db2268f7e5b0a035fc9c43c6851c719e2cfc,Add stein periodic job not in template,MERGED,2019-07-09 17:16:04.000000000,2019-07-11 12:00:11.000000000,2019-07-11 12:00:11.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-09 17:16:04.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0fbb061f8d1060448d7347093cc923325b7de8ee', 'message': 'Add stein periodic job not in template\n\nAdd gate jobs which are not included in templates to periodic\npipeline.\n\nChange-Id: Id287db2268f7e5b0a035fc9c43c6851c719e2cfc\n'}]",4,669913,0fbb061f8d1060448d7347093cc923325b7de8ee,11,8,1,10969,,,0,"Add stein periodic job not in template

Add gate jobs which are not included in templates to periodic
pipeline.

Change-Id: Id287db2268f7e5b0a035fc9c43c6851c719e2cfc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/669913/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,0fbb061f8d1060448d7347093cc923325b7de8ee,stein, periodic: jobs: - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates - tripleo-ci-centos-7-scenario009-multinode-oooq-container,,4,0
openstack%2Fironic-ui~master~I108d09fcf3bf3f58adc4d4f0ba8c54ebcb653fea,openstack/ironic-ui,master,I108d09fcf3bf3f58adc4d4f0ba8c54ebcb653fea,1.Add a chapter title(Ironic-UI Manual installation).,ABANDONED,2017-12-13 10:21:03.000000000,2019-07-11 11:41:29.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-13 10:21:03.000000000', 'files': ['doc/source/install/installation.rst'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/5face363410c82e7cb948b5c9dac2562aeb2aec9', 'message': ""1.Add a chapter title(Ironic-UI Manual installation).\n\n2.In Installation with DevStack chapter, modify some format.\n\n3.'Run JavaScript unit tests by either', its meaning is clear, so move '6.' to below 5.\n\nChange-Id: I108d09fcf3bf3f58adc4d4f0ba8c54ebcb653fea\nCloses-Bug: #1737898\n""}]",2,527661,5face363410c82e7cb948b5c9dac2562aeb2aec9,4,2,1,27371,,,0,"1.Add a chapter title(Ironic-UI Manual installation).

2.In Installation with DevStack chapter, modify some format.

3.'Run JavaScript unit tests by either', its meaning is clear, so move '6.' to below 5.

Change-Id: I108d09fcf3bf3f58adc4d4f0ba8c54ebcb653fea
Closes-Bug: #1737898
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/61/527661/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/installation.rst'],1,5face363410c82e7cb948b5c9dac2562aeb2aec9,bug/1737898,Ironic-UI Manual Installation ----------------------------- 6. Run JavaScript unit tests by either: Running the tests locally with npm run test. Visiting http://localhost:8000/jasmine/?spec=horizon.dashboard.admin.ironic in your browser. just after Ironic plugin enablement::The Ironic Bare Metal Provisioning plugin should now be visible in the Horizon navigation. ,just after Ironic plugin enablement: The Ironic Bare Metal Provisioning plugin should now be visible in the Horizon navigation. 6. Run JavaScript unit tests by either: Running the tests locally with npm run test. Visiting http://localhost:8000/jasmine/?spec=horizon.dashboard.admin.ironic in your browser.,12,8
openstack%2Fironic~master~I581879615c97900c9c26163a31c2b4fa6a8440d2,openstack/ironic,master,I581879615c97900c9c26163a31c2b4fa6a8440d2,change 'a ordinary file' to 'an ordinary file',ABANDONED,2018-06-13 02:30:04.000000000,2019-07-11 11:39:14.000000000,,"[{'_account_id': 10118}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-13 02:30:04.000000000', 'files': ['ironic/common/glance_service/service_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4257f31aced35eca070d40155cf2e9772463b3e5', 'message': ""change 'a ordinary file' to 'an ordinary file'\n\nChange-Id: I581879615c97900c9c26163a31c2b4fa6a8440d2\n""}]",0,574940,4257f31aced35eca070d40155cf2e9772463b3e5,8,6,1,27370,,,0,"change 'a ordinary file' to 'an ordinary file'

Change-Id: I581879615c97900c9c26163a31c2b4fa6a8440d2
",git fetch https://review.opendev.org/openstack/ironic refs/changes/40/574940/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/glance_service/service_utils.py'],1,4257f31aced35eca070d40155cf2e9772463b3e5,wdq6132," """"""Check if image_href is an ordinary file name."," """"""Check if image_href is a ordinary file name.",1,1
openstack%2Fironic-tempest-plugin~master~I745c3540389ec6bdc3f9ad4f0c3164a4d215e1d4,openstack/ironic-tempest-plugin,master,I745c3540389ec6bdc3f9ad4f0c3164a4d215e1d4,Use unique names in allocation tests,MERGED,2019-07-10 11:43:03.000000000,2019-07-11 11:35:01.000000000,2019-07-11 11:35:01.000000000,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-10 11:43:03.000000000', 'files': ['ironic_tempest_plugin/tests/api/admin/test_allocations.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/75e91b0e5de7d303f1be7a32ae5585633501167c', 'message': 'Use unique names in allocation tests\n\nUsing the same name can cause the tests to conflict in case of parallel\nruns or insufficient clean up.\n\nChange-Id: I745c3540389ec6bdc3f9ad4f0c3164a4d215e1d4\n'}]",0,670043,75e91b0e5de7d303f1be7a32ae5585633501167c,11,4,1,10239,,,0,"Use unique names in allocation tests

Using the same name can cause the tests to conflict in case of parallel
runs or insufficient clean up.

Change-Id: I745c3540389ec6bdc3f9ad4f0c3164a4d215e1d4
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/43/670043/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/tests/api/admin/test_allocations.py'],1,75e91b0e5de7d303f1be7a32ae5585633501167c,alloc-name," name = 'alloc-%s' % uuidutils.generate_uuid() _, body = self.create_allocation(self.resource_class, name=name) self.client.delete_allocation(name) self.assertRaises(lib_exc.NotFound, self.client.show_allocation, name) name = 'alloc-%s' % uuidutils.generate_uuid() _, body = self.create_allocation(self.resource_class, name=name) _, loaded_body = self.client.show_allocation(name)"," _, body = self.create_allocation(self.resource_class, name='banana') self.client.delete_allocation('banana') self.assertRaises(lib_exc.NotFound, self.client.show_allocation, 'banana') _, body = self.create_allocation(self.resource_class, name='banana') _, loaded_body = self.client.show_allocation('banana')",7,6
openstack%2Ftempest~master~I38c17da4ff492569cf572718c4443ebcc4718f62,openstack/tempest,master,I38c17da4ff492569cf572718c4443ebcc4718f62,Filter out floating IPs from server IPs list,MERGED,2019-06-29 21:53:31.000000000,2019-07-11 11:18:09.000000000,2019-07-11 11:18:09.000000000,"[{'_account_id': 5689}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-06-29 21:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/21e7b96064144d63ba42a35372fba1be62692073', 'message': 'Filter out floating IPs from server IPs list\n\nIn test\ntempest.api.compute.servers.test_attach_interfaces.AttachInterfacesUnderV243Test.\ntest_add_remove_fixed_ip\nfunctions _wait_for_ip_increase() and _wait_for_ip_decreace() will\nnow filter out floating IPs from the list of server IP addresses\nto compare only number of fixed IPs as this test is only about adding\nand removing fixed IPs to the server.\n\nChange-Id: I38c17da4ff492569cf572718c4443ebcc4718f62\nCloses-Bug: #1834758\n'}, {'number': 2, 'created': '2019-07-04 08:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b1589d901d740f9b1bc399ebf46d8788c18e82cd', 'message': 'Filter out floating IPs from server IPs list\n\nIn test\ntempest.api.compute.servers.test_attach_interfaces.AttachInterfacesUnderV243Test.\ntest_add_remove_fixed_ip\nfunctions _wait_for_ip_increase() and _wait_for_ip_decreace() will\nnow filter out floating IPs from the list of server IP addresses\nto compare only number of fixed IPs as this test is only about adding\nand removing fixed IPs to the server.\n\nChange-Id: I38c17da4ff492569cf572718c4443ebcc4718f62\nCloses-Bug: #1834758\n'}, {'number': 3, 'created': '2019-07-04 09:51:07.000000000', 'files': ['tempest/api/compute/servers/test_attach_interfaces.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b3daeb4e13f941f2a87d3e76ba0ac95e16a5960a', 'message': 'Filter out floating IPs from server IPs list\n\nIn test\ntempest.api.compute.servers.test_attach_interfaces.AttachInterfacesUnderV243Test.\ntest_add_remove_fixed_ip\nfunctions _wait_for_ip_increase() and _wait_for_ip_decreace() will\nnow filter out floating IPs from the list of server IP addresses\nto compare only number of fixed IPs as this test is only about adding\nand removing fixed IPs to the server.\n\nChange-Id: I38c17da4ff492569cf572718c4443ebcc4718f62\nCloses-Bug: #1834758\n'}]",23,668311,b3daeb4e13f941f2a87d3e76ba0ac95e16a5960a,29,7,3,11975,,,0,"Filter out floating IPs from server IPs list

In test
tempest.api.compute.servers.test_attach_interfaces.AttachInterfacesUnderV243Test.
test_add_remove_fixed_ip
functions _wait_for_ip_increase() and _wait_for_ip_decreace() will
now filter out floating IPs from the list of server IP addresses
to compare only number of fixed IPs as this test is only about adding
and removing fixed IPs to the server.

Change-Id: I38c17da4ff492569cf572718c4443ebcc4718f62
Closes-Bug: #1834758
",git fetch https://review.opendev.org/openstack/tempest refs/changes/11/668311/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_attach_interfaces.py'],1,21e7b96064144d63ba42a35372fba1be62692073,bug/1834758," def _get_server_floating_ips(): _floating_ips = [] _server = self.os_primary.servers_client.show_server( server['id'])['server'] for _ip_set in _server['addresses']: for _ip in _server['addresses'][_ip_set]: if _ip['OS-EXT-IPS:type'] == 'floating': _floating_ips.append(_ip['addr']) return _floating_ips _ips = [addr['addr'] for addr in list(_addresses.values())[0]] if len(_ips) == original_ip_count + 1: return True # If not, lets remove any floating IP from the list and check again _fips = _get_server_floating_ips() _ips = [_ip for _ip in _ips if _ip not in _fips] return len(_ips) == original_ip_count + 1 _ips = [addr['addr'] for addr in list(_addresses.values())[0]] if len(_ips) == original_ip_count: return True # If not, lets remove any floating IP from the list and check again _fips = _get_server_floating_ips() _ips = [_ip for _ip in _ips if _ip not in _fips] return len(_ips) == original_ip_count + 1", return len(list(_addresses.values())[0]) == original_ip_count + 1 return len(list(_addresses.values())[0]) == original_ip_count,24,2
openstack%2Fkuryr-kubernetes~stable%2Fstein~I85d903902b516bfd109078705860540d731886bc,openstack/kuryr-kubernetes,stable/stein,I85d903902b516bfd109078705860540d731886bc,Fix fail to recreate namespace when previous KuryrNet CRD is not deleted,MERGED,2019-07-09 06:45:35.000000000,2019-07-11 11:14:26.000000000,2019-07-11 11:14:26.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-07-09 06:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2f59928d7c6e5c0a5ed7046ee9233aab14a93b02', 'message': ""Fix fail to recreate namespace when previous KuryrNet CRD is not deleted\n\nWhen a namespace/project is recreated right after its deletion,\nit's possible that the previous kuryrNet CRD is not yet removed,\nand Kuryr will try to create another CRD, resulting in k8s conflict\nexception. In the meantime, other events handling resources under\nthe same namespace in question could be inquiring for an annotation\non the namespace, that was not annotated due to the conflict error,\ncausing the controller to restart.\n\nThis commit fixes the issue by adding an annotation to the KuryrNet\nCRD with the respective namespace uid, which allows to check\nif the existing CRD corresponds to the namespace.\n\nChange-Id: I85d903902b516bfd109078705860540d731886bc\nCloses-Bug: 1833712\n(cherry picked from commit 37b8e3e6b37c7ffd3136a1fbefdd7bb0c1739f6e)\n""}, {'number': 2, 'created': '2019-07-10 06:54:36.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_namespace.py', 'kuryr_kubernetes/controller/handlers/namespace.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2a58fa8fb560481b1a070a5c0543c63c1fffbcfe', 'message': ""Fix fail to recreate namespace when previous KuryrNet CRD is not deleted\n\nWhen a namespace/project is recreated right after its deletion,\nit's possible that the previous kuryrNet CRD is not yet removed,\nand Kuryr will try to create another CRD, resulting in k8s conflict\nexception. In the meantime, other events handling resources under\nthe same namespace in question could be inquiring for an annotation\non the namespace, that was not annotated due to the conflict error,\ncausing the controller to restart.\n\nThis commit fixes the issue by adding an annotation to the KuryrNet\nCRD with the respective namespace uid, which allows to check\nif the existing CRD corresponds to the namespace.\n\nChange-Id: I85d903902b516bfd109078705860540d731886bc\nCloses-Bug: 1833712\n(cherry picked from commit 37b8e3e6b37c7ffd3136a1fbefdd7bb0c1739f6e)\n""}]",0,669800,2a58fa8fb560481b1a070a5c0543c63c1fffbcfe,11,6,2,23567,,,0,"Fix fail to recreate namespace when previous KuryrNet CRD is not deleted

When a namespace/project is recreated right after its deletion,
it's possible that the previous kuryrNet CRD is not yet removed,
and Kuryr will try to create another CRD, resulting in k8s conflict
exception. In the meantime, other events handling resources under
the same namespace in question could be inquiring for an annotation
on the namespace, that was not annotated due to the conflict error,
causing the controller to restart.

This commit fixes the issue by adding an annotation to the KuryrNet
CRD with the respective namespace uid, which allows to check
if the existing CRD corresponds to the namespace.

Change-Id: I85d903902b516bfd109078705860540d731886bc
Closes-Bug: 1833712
(cherry picked from commit 37b8e3e6b37c7ffd3136a1fbefdd7bb0c1739f6e)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/00/669800/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_namespace.py', 'kuryr_kubernetes/controller/handlers/namespace.py']",2,2f59928d7c6e5c0a5ed7046ee9233aab14a93b02,bug/1833712-stable/stein," ns_name = namespace['metadata']['name'] net_crd_name = 'ns-' + ns_name net_crd = self._get_net_crd(net_crd_name) if net_crd: LOG.debug(""Previous CRD existing at the new namespace. "" ""Deleting namespace resources and retying its creation."") self.on_deleted(namespace, net_crd) raise exceptions.ResourceNotReady(namespace) except exceptions.K8sResourceNotFound: LOG.debug(""Namespace could not be annotated. Rolling back "" ""resources created for it."") self._drv_subnets.rollback_network_resources(net_crd_spec, ns_name) self._drv_sg.delete_sg(net_crd_sg['sgId']) self._del_kuryrnet_crd(net_crd_name) def on_deleted(self, namespace, net_crd=None): if not net_crd: net_crd_id = self._get_net_crd_id(namespace) if not net_crd_id: LOG.warning(""There is no CRD annotated at the namespace %s"", namespace) return net_crd = self._get_net_crd(net_crd_id) net_crd_name = 'ns-' + namespace['metadata']['name'] self._del_kuryrnet_crd(net_crd_name) except exceptions.K8sResourceNotFound: return None except exceptions.K8sResourceNotFound: LOG.debug(""KuryrNetPolicy CRD not found: %s"", net_crd_name)"," ns_name = namespace['metadata']['name'] def on_deleted(self, namespace): net_crd_id = self._get_net_crd_id(namespace) if not net_crd_id: LOG.warning(""There is no CRD annotated at the namespace %s"", namespace) return net_crd = self._get_net_crd(net_crd_id) self._del_kuryrnet_crd(net_crd_id)",48,10
openstack%2Fkuryr-kubernetes~master~Icaf244f40786b34862c386b4f82e7c860f52e071,openstack/kuryr-kubernetes,master,Icaf244f40786b34862c386b4f82e7c860f52e071,Set the validate CRD enabled flag at tempest.conf,MERGED,2019-07-03 14:16:20.000000000,2019-07-11 11:03:58.000000000,2019-07-11 11:03:58.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-07-03 14:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b8e8198ca2fa83d828435fca8a5ec83f7be40242', 'message': 'Set the validate CRD enabled flag at tempest.conf\n\nAs CRD validation support wad added to the current release\nwe should set its check on tempest (default=False) to True.\n\nChange-Id: Icaf244f40786b34862c386b4f82e7c860f52e071\n'}, {'number': 2, 'created': '2019-07-07 21:47:19.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5edf3d086fd608d2f9d29fdf25b79a0d788b4319', 'message': 'Set the validate CRD enabled flag at tempest.conf\n\nAs CRD validation support wad added to the current release\nwe should set its check on tempest (default=False) to True.\n\nDepends-On: https://review.opendev.org/#/c/668915/\n\nChange-Id: Icaf244f40786b34862c386b4f82e7c860f52e071\n'}]",2,668916,5edf3d086fd608d2f9d29fdf25b79a0d788b4319,23,6,2,27032,,,0,"Set the validate CRD enabled flag at tempest.conf

As CRD validation support wad added to the current release
we should set its check on tempest (default=False) to True.

Depends-On: https://review.opendev.org/#/c/668915/

Change-Id: Icaf244f40786b34862c386b4f82e7c860f52e071
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/16/668916/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,b8e8198ca2fa83d828435fca8a5ec83f7be40242,enable-crd-validation-tempest, iniset $TEMPEST_CONFIG kuryr_kubernetes validate_crd True,,1,0
openstack%2Fkolla-ansible~master~I4f1aa03e9a9faaf8aecd556dfeafdb834042e4cd,openstack/kolla-ansible,master,I4f1aa03e9a9faaf8aecd556dfeafdb834042e4cd,Simplify handler conditionals,MERGED,2019-03-26 09:58:36.000000000,2019-07-11 10:53:57.000000000,2019-07-04 21:34:14.000000000,"[{'_account_id': 9076}, {'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-03-26 09:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e659667aa6ec6814f8d06489c959d59b3d93847', 'message': ""WIP: Simplify handler conditionals\n\nCurrently, we have a lot of logic for checking if a handler should run,\ndepending on whether config files have changed and whether the\ncontainer configuration has changed. As rm_work pointed out during\nthe recent haproxy refactor, these conditionals are typically\nunnecessary - we can rely on Ansible's handler notification system\nto only trigger handlers when they need to run. This removes a lot\nof error prone code.\n\nThis patch removes conditional handler logic for the following services:\n\n* aodh\n* barbican\n* blazar\n\nImplements: blueprint simplify-handlers\n\nChange-Id: I4f1aa03e9a9faaf8aecd556dfeafdb834042e4cd\n""}, {'number': 2, 'created': '2019-03-27 10:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/62cdd2bce4b7f7889305716f32ff348227367fa7', 'message': ""WIP: Simplify handler conditionals\n\nCurrently, we have a lot of logic for checking if a handler should run,\ndepending on whether config files have changed and whether the\ncontainer configuration has changed. As rm_work pointed out during\nthe recent haproxy refactor, these conditionals are typically\nunnecessary - we can rely on Ansible's handler notification system\nto only trigger handlers when they need to run. This removes a lot\nof error prone code.\n\nThis patch removes conditional handler logic for the following services:\n\n* aodh\n* barbican\n* blazar\n* ceilometer\n* chrony\n* ceilometer\n\nImplements: blueprint simplify-handlers\n\nChange-Id: I4f1aa03e9a9faaf8aecd556dfeafdb834042e4cd\n""}, {'number': 3, 'created': '2019-03-27 11:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8680bbb01d385b5fa9142533ef6e5668cf923288', 'message': ""WIP: Simplify handler conditionals\n\nCurrently, we have a lot of logic for checking if a handler should run,\ndepending on whether config files have changed and whether the\ncontainer configuration has changed. As rm_work pointed out during\nthe recent haproxy refactor, these conditionals are typically\nunnecessary - we can rely on Ansible's handler notification system\nto only trigger handlers when they need to run. This removes a lot\nof error prone code.\n\nThis patch removes conditional handler logic for the following services:\n\n* aodh\n* barbican\n* blazar\n* ceilometer\n* chrony\n* cinder\n* cloudkitty\n* collectd\n* common\n* congress\n\nImplements: blueprint simplify-handlers\n\nChange-Id: I4f1aa03e9a9faaf8aecd556dfeafdb834042e4cd\n""}, {'number': 4, 'created': '2019-04-01 19:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ebb1678ab0fec99682837358daf0d2a692179aa9', 'message': ""WIP: Simplify handler conditionals\n\nCurrently, we have a lot of logic for checking if a handler should run,\ndepending on whether config files have changed and whether the\ncontainer configuration has changed. As rm_work pointed out during\nthe recent haproxy refactor, these conditionals are typically\nunnecessary - we can rely on Ansible's handler notification system\nto only trigger handlers when they need to run. This removes a lot\nof error prone code.\n\nThis patch removes conditional handler logic for all services. It is\nimportant to ensure that we no longer trigger handlers when unnecessary,\nbecause without these checks in place it will trigger a restart of the\ncontainers.\n\nImplements: blueprint simplify-handlers\n\nChange-Id: I4f1aa03e9a9faaf8aecd556dfeafdb834042e4cd\n""}, {'number': 5, 'created': '2019-04-08 11:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/491c85e789cdb73a6a4cace09048b5f5bb231972', 'message': ""Simplify handler conditionals\n\nCurrently, we have a lot of logic for checking if a handler should run,\ndepending on whether config files have changed and whether the\ncontainer configuration has changed. As rm_work pointed out during\nthe recent haproxy refactor, these conditionals are typically\nunnecessary - we can rely on Ansible's handler notification system\nto only trigger handlers when they need to run. This removes a lot\nof error prone code.\n\nThis patch removes conditional handler logic for all services. It is\nimportant to ensure that we no longer trigger handlers when unnecessary,\nbecause without these checks in place it will trigger a restart of the\ncontainers.\n\nImplements: blueprint simplify-handlers\n\nChange-Id: I4f1aa03e9a9faaf8aecd556dfeafdb834042e4cd\n""}, {'number': 6, 'created': '2019-05-14 11:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/664e930b2d7275a48bcdb8ad7d88343e6a528037', 'message': ""Simplify handler conditionals\n\nCurrently, we have a lot of logic for checking if a handler should run,\ndepending on whether config files have changed and whether the\ncontainer configuration has changed. As rm_work pointed out during\nthe recent haproxy refactor, these conditionals are typically\nunnecessary - we can rely on Ansible's handler notification system\nto only trigger handlers when they need to run. This removes a lot\nof error prone code.\n\nThis patch removes conditional handler logic for all services. It is\nimportant to ensure that we no longer trigger handlers when unnecessary,\nbecause without these checks in place it will trigger a restart of the\ncontainers.\n\nImplements: blueprint simplify-handlers\n\nChange-Id: I4f1aa03e9a9faaf8aecd556dfeafdb834042e4cd\n""}, {'number': 7, 'created': '2019-05-22 16:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc4f83622cfcda59253f3bcec6166ef149f84f51', 'message': ""Simplify handler conditionals\n\nCurrently, we have a lot of logic for checking if a handler should run,\ndepending on whether config files have changed and whether the\ncontainer configuration has changed. As rm_work pointed out during\nthe recent haproxy refactor, these conditionals are typically\nunnecessary - we can rely on Ansible's handler notification system\nto only trigger handlers when they need to run. This removes a lot\nof error prone code.\n\nThis patch removes conditional handler logic for all services. It is\nimportant to ensure that we no longer trigger handlers when unnecessary,\nbecause without these checks in place it will trigger a restart of the\ncontainers.\n\nImplements: blueprint simplify-handlers\n\nChange-Id: I4f1aa03e9a9faaf8aecd556dfeafdb834042e4cd\n""}, {'number': 8, 'created': '2019-06-17 15:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47781602c7cb49042fa7a74fcce6f75bc5931e03', 'message': ""Simplify handler conditionals\n\nCurrently, we have a lot of logic for checking if a handler should run,\ndepending on whether config files have changed and whether the\ncontainer configuration has changed. As rm_work pointed out during\nthe recent haproxy refactor, these conditionals are typically\nunnecessary - we can rely on Ansible's handler notification system\nto only trigger handlers when they need to run. This removes a lot\nof error prone code.\n\nThis patch removes conditional handler logic for all services. It is\nimportant to ensure that we no longer trigger handlers when unnecessary,\nbecause without these checks in place it will trigger a restart of the\ncontainers.\n\nImplements: blueprint simplify-handlers\n\nChange-Id: I4f1aa03e9a9faaf8aecd556dfeafdb834042e4cd\n""}, {'number': 9, 'created': '2019-06-18 09:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/811c08128711ea4abc0fee44c3eb2892f16b11e2', 'message': ""Simplify handler conditionals\n\nCurrently, we have a lot of logic for checking if a handler should run,\ndepending on whether config files have changed and whether the\ncontainer configuration has changed. As rm_work pointed out during\nthe recent haproxy refactor, these conditionals are typically\nunnecessary - we can rely on Ansible's handler notification system\nto only trigger handlers when they need to run. This removes a lot\nof error prone code.\n\nThis patch removes conditional handler logic for all services. It is\nimportant to ensure that we no longer trigger handlers when unnecessary,\nbecause without these checks in place it will trigger a restart of the\ncontainers.\n\nImplements: blueprint simplify-handlers\n\nChange-Id: I4f1aa03e9a9faaf8aecd556dfeafdb834042e4cd\n""}, {'number': 10, 'created': '2019-06-18 09:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b0b58c8a2cad246ca694bb11c1fd9eee6adb7142', 'message': ""Simplify handler conditionals\n\nCurrently, we have a lot of logic for checking if a handler should run,\ndepending on whether config files have changed and whether the\ncontainer configuration has changed. As rm_work pointed out during\nthe recent haproxy refactor, these conditionals are typically\nunnecessary - we can rely on Ansible's handler notification system\nto only trigger handlers when they need to run. This removes a lot\nof error prone code.\n\nThis patch removes conditional handler logic for all services. It is\nimportant to ensure that we no longer trigger handlers when unnecessary,\nbecause without these checks in place it will trigger a restart of the\ncontainers.\n\nImplements: blueprint simplify-handlers\n\nChange-Id: I4f1aa03e9a9faaf8aecd556dfeafdb834042e4cd\n""}, {'number': 11, 'created': '2019-06-27 09:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c64ca5276a1ca78d1245f24e9f7bba25b3eba3f', 'message': ""Simplify handler conditionals\n\nCurrently, we have a lot of logic for checking if a handler should run,\ndepending on whether config files have changed and whether the\ncontainer configuration has changed. As rm_work pointed out during\nthe recent haproxy refactor, these conditionals are typically\nunnecessary - we can rely on Ansible's handler notification system\nto only trigger handlers when they need to run. This removes a lot\nof error prone code.\n\nThis patch removes conditional handler logic for all services. It is\nimportant to ensure that we no longer trigger handlers when unnecessary,\nbecause without these checks in place it will trigger a restart of the\ncontainers.\n\nImplements: blueprint simplify-handlers\n\nChange-Id: I4f1aa03e9a9faaf8aecd556dfeafdb834042e4cd\n""}, {'number': 12, 'created': '2019-06-27 14:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3633cdba73fccd477fce8ac7e34b1ea60798083b', 'message': ""Simplify handler conditionals\n\nCurrently, we have a lot of logic for checking if a handler should run,\ndepending on whether config files have changed and whether the\ncontainer configuration has changed. As rm_work pointed out during\nthe recent haproxy refactor, these conditionals are typically\nunnecessary - we can rely on Ansible's handler notification system\nto only trigger handlers when they need to run. This removes a lot\nof error prone code.\n\nThis patch removes conditional handler logic for all services. It is\nimportant to ensure that we no longer trigger handlers when unnecessary,\nbecause without these checks in place it will trigger a restart of the\ncontainers.\n\nImplements: blueprint simplify-handlers\n\nChange-Id: I4f1aa03e9a9faaf8aecd556dfeafdb834042e4cd\n""}, {'number': 13, 'created': '2019-06-27 15:57:26.000000000', 'files': ['ansible/roles/manila/handlers/main.yml', 'ansible/roles/senlin/tasks/config.yml', 'ansible/roles/storm/tasks/config.yml', 'ansible/roles/kafka/handlers/main.yml', 'ansible/roles/mistral/handlers/main.yml', 'ansible/roles/cloudkitty/tasks/config.yml', 'ansible/roles/barbican/tasks/config.yml', 'ansible/roles/cyborg/handlers/main.yml', 'ansible/roles/zookeeper/tasks/config.yml', 'ansible/roles/gnocchi/tasks/ceph.yml', 'ansible/roles/neutron/handlers/main.yml', 'ansible/roles/horizon/tasks/config.yml', 'ansible/roles/magnum/tasks/config.yml', 'ansible/roles/keystone/tasks/config.yml', 'ansible/roles/kafka/tasks/config.yml', 'ansible/roles/murano/handlers/main.yml', 'ansible/roles/ironic/tasks/config.yml', 'ansible/roles/watcher/handlers/main.yml', 'ansible/roles/influxdb/handlers/main.yml', 'ansible/roles/etcd/tasks/config.yml', 'ansible/roles/octavia/handlers/main.yml', 'ansible/roles/senlin/handlers/main.yml', 'ansible/roles/skydive/handlers/main.yml', 'ansible/roles/watcher/tasks/config.yml', 'ansible/roles/tacker/tasks/config.yml', 'ansible/roles/karbor/handlers/main.yml', 'ansible/roles/gnocchi/tasks/config.yml', 'ansible/roles/telegraf/tasks/config.yml', 'ansible/roles/qinling/tasks/config.yml', 'ansible/roles/common/handlers/main.yml', 'ansible/roles/vitrage/tasks/config.yml', 'ansible/roles/congress/handlers/main.yml', 'ansible/roles/manila/tasks/ceph.yml', 'ansible/roles/openvswitch/tasks/config.yml', 'ansible/roles/vmtp/tasks/config.yml', 'ansible/roles/chrony/handlers/main.yml', 'ansible/roles/gnocchi/handlers/main.yml', 'ansible/roles/trove/tasks/config.yml', 'ansible/roles/panko/tasks/config.yml', 'ansible/roles/ovs-dpdk/tasks/config.yml', 'ansible/roles/chrony/tasks/config.yml', 'ansible/roles/prometheus/tasks/config.yml', 'ansible/roles/barbican/handlers/main.yml', 'ansible/roles/cyborg/tasks/config.yml', 'ansible/roles/kibana/handlers/main.yml', 'ansible/roles/sahara/handlers/main.yml', 'ansible/roles/glance/tasks/external_ceph.yml', 'ansible/roles/grafana/tasks/config.yml', 'ansible/roles/heat/tasks/config.yml', 'ansible/roles/ironic/handlers/main.yml', 'ansible/roles/ceilometer/handlers/main.yml', 'ansible/roles/qinling/handlers/main.yml', 'ansible/roles/cloudkitty/handlers/main.yml', 'ansible/roles/karbor/tasks/config.yml', 'ansible/roles/nova/tasks/external_ceph.yml', 'ansible/roles/neutron/tasks/config.yml', 'ansible/roles/cinder/handlers/main.yml', 'ansible/roles/etcd/handlers/main.yml', 'ansible/roles/cinder/tasks/config.yml', 'ansible/roles/searchlight/tasks/config.yml', 'ansible/roles/grafana/handlers/main.yml', 'ansible/roles/glance/tasks/config.yml', 'ansible/roles/congress/tasks/config.yml', 'ansible/roles/sahara/tasks/config.yml', 'ansible/roles/qdrouterd/tasks/config.yml', 'ansible/roles/elasticsearch/handlers/main.yml', 'ansible/roles/multipathd/handlers/main.yml', 'ansible/roles/blazar/tasks/config.yml', 'ansible/roles/prometheus/handlers/main.yml', 'ansible/roles/zun/tasks/config.yml', 'ansible/roles/skydive/tasks/config.yml', 'ansible/roles/ceilometer/tasks/config.yml', 'ansible/roles/solum/tasks/config.yml', 'ansible/roles/vitrage/handlers/main.yml', 'ansible/roles/vmtp/handlers/main.yml', 'ansible/roles/magnum/handlers/main.yml', 'ansible/roles/rally/tasks/config.yml', 'ansible/roles/freezer/handlers/main.yml', 'ansible/roles/memcached/handlers/main.yml', 'ansible/roles/multipathd/tasks/config.yml', 'ansible/roles/mongodb/tasks/config.yml', 'ansible/roles/telegraf/handlers/main.yml', 'ansible/roles/octavia/tasks/config.yml', 'ansible/roles/common/tasks/config.yml', 'ansible/roles/collectd/handlers/main.yml', 'ansible/roles/opendaylight/handlers/main.yml', 'ansible/roles/common/tasks/inspect.yml', 'ansible/roles/ovs-dpdk/handlers/main.yml', 'ansible/roles/elasticsearch/tasks/config.yml', 'ansible/roles/designate/tasks/config.yml', 'ansible/roles/rally/handlers/main.yml', 'ansible/roles/glance/tasks/ceph.yml', 'ansible/roles/kuryr/handlers/main.yml', 'ansible/roles/blazar/handlers/main.yml', 'ansible/roles/opendaylight/tasks/config.yml', 'ansible/roles/murano/tasks/config.yml', 'ansible/roles/storm/handlers/main.yml', 'ansible/roles/searchlight/handlers/main.yml', 'ansible/roles/influxdb/tasks/config.yml', 'ansible/roles/monasca/tasks/config.yml', 'ansible/roles/mistral/tasks/config.yml', 'ansible/roles/gnocchi/tasks/external_ceph.yml', 'ansible/roles/heat/handlers/main.yml', 'ansible/roles/tempest/tasks/config.yml', 'ansible/roles/solum/handlers/main.yml', 'ansible/roles/cinder/tasks/external_ceph.yml', 'ansible/roles/kuryr/tasks/config.yml', 'ansible/roles/zookeeper/handlers/main.yml', 'ansible/roles/kibana/tasks/config.yml', 'ansible/roles/redis/tasks/config.yml', 'ansible/roles/mongodb/handlers/main.yml', 'ansible/roles/horizon/handlers/main.yml', 'ansible/roles/aodh/handlers/main.yml', 'ansible/roles/tempest/handlers/main.yml', 'ansible/roles/nova/handlers/main.yml', 'ansible/roles/zun/handlers/main.yml', 'ansible/roles/panko/handlers/main.yml', 'ansible/roles/tacker/handlers/main.yml', 'ansible/roles/collectd/tasks/config.yml', 'ansible/roles/monasca/handlers/main.yml', 'ansible/roles/qdrouterd/handlers/main.yml', 'ansible/roles/manila/tasks/config.yml', 'ansible/roles/keystone/handlers/main.yml', 'ansible/roles/aodh/tasks/config.yml', 'ansible/roles/cinder/tasks/ceph.yml', 'ansible/roles/designate/handlers/main.yml', 'ansible/roles/trove/handlers/main.yml', 'ansible/roles/nova/tasks/config.yml', 'ansible/roles/nova/tasks/ceph.yml', 'ansible/roles/glance/handlers/main.yml', 'ansible/roles/memcached/tasks/config.yml', 'ansible/roles/openvswitch/handlers/main.yml', 'ansible/roles/designate/tasks/backend_external.yml', 'ansible/roles/neutron/tasks/config-neutron-fake.yml', 'ansible/roles/freezer/tasks/config.yml', 'ansible/roles/redis/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/de00bf491dfbabc8e11009fce4410bce5c2110ed', 'message': ""Simplify handler conditionals\n\nCurrently, we have a lot of logic for checking if a handler should run,\ndepending on whether config files have changed and whether the\ncontainer configuration has changed. As rm_work pointed out during\nthe recent haproxy refactor, these conditionals are typically\nunnecessary - we can rely on Ansible's handler notification system\nto only trigger handlers when they need to run. This removes a lot\nof error prone code.\n\nThis patch removes conditional handler logic for all services. It is\nimportant to ensure that we no longer trigger handlers when unnecessary,\nbecause without these checks in place it will trigger a restart of the\ncontainers.\n\nImplements: blueprint simplify-handlers\n\nChange-Id: I4f1aa03e9a9faaf8aecd556dfeafdb834042e4cd\n""}]",2,647699,de00bf491dfbabc8e11009fce4410bce5c2110ed,60,8,13,14826,,,0,"Simplify handler conditionals

Currently, we have a lot of logic for checking if a handler should run,
depending on whether config files have changed and whether the
container configuration has changed. As rm_work pointed out during
the recent haproxy refactor, these conditionals are typically
unnecessary - we can rely on Ansible's handler notification system
to only trigger handlers when they need to run. This removes a lot
of error prone code.

This patch removes conditional handler logic for all services. It is
important to ensure that we no longer trigger handlers when unnecessary,
because without these checks in place it will trigger a restart of the
containers.

Implements: blueprint simplify-handlers

Change-Id: I4f1aa03e9a9faaf8aecd556dfeafdb834042e4cd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/647699/5 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/barbican/handlers/main.yml', 'ansible/roles/aodh/tasks/config.yml', 'ansible/roles/blazar/handlers/main.yml', 'ansible/roles/aodh/handlers/main.yml', 'ansible/roles/barbican/tasks/config.yml', 'ansible/roles/blazar/tasks/config.yml']",6,1e659667aa6ec6814f8d06489c959d59b3d93847,bp/simplify-handlers, - Restart {{ item.key }} container - Restart {{ item.key }} container - item.value.enabled | bool - Restart {{ item.key }} container - Restart {{ item.key }} container, register: blazar_config_jsons - Restart blazar-api container - Restart blazar-manager container register: blazar_confs - Restart blazar-api container - Restart blazar-manager container register: blazar_policy_overwriting - Restart blazar-api container - Restart blazar-manager container register: check_blazar_containers - Restart blazar-api container - Restart blazar-manager container,31,137
openstack%2Frequirements~master~I49e3b2805bdd10f76afc012b7c8c86076857c90e,openstack/requirements,master,I49e3b2805bdd10f76afc012b7c8c86076857c90e,Add requirements for ironic-prometheus-exporter,ABANDONED,2019-07-10 14:22:37.000000000,2019-07-11 10:50:03.000000000,,"[{'_account_id': 10239}, {'_account_id': 14288}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-10 14:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b70c51baab68c47c6c119e1b55f9f4674b7d3b81', 'message': 'Add requirements for ironic-prometheus-exporter\n\nironic-prometheus-exporter[1] requires uWSGI,\nadding to the global-requirements.txt to allow\nthe requirements-check[2] job to pass.\n\n[1] https://opendev.org/openstack/ironic-prometheus-exporter\n[2] http://logs.openstack.org/85/669885/3/check/requirements-check/a789032/job-output.txt.gz#_2019-07-10_09_34_46_808431\n\nChange-Id: I49e3b2805bdd10f76afc012b7c8c86076857c90e\n'}, {'number': 2, 'created': '2019-07-10 15:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/43559628283c881c2dc4f4e3498ed00508b34eaf', 'message': 'Add requirements for ironic-prometheus-exporter\n\nironic-prometheus-exporter[1] requires uWSGI,\nadding to the global-requirements.txt to allow\nthe requirements-check[2] job to pass.\n\n[1] https://opendev.org/openstack/ironic-prometheus-exporter\n[2] http://logs.openstack.org/85/669885/3/check/requirements-check/a789032/job-output.txt.gz#_2019-07-10_09_34_46_808431\n\nChange-Id: I49e3b2805bdd10f76afc012b7c8c86076857c90e\n'}, {'number': 3, 'created': '2019-07-11 08:02:08.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3df2a0ac885d057f825b8d53496fc714c80b4fea', 'message': 'Add requirements for ironic-prometheus-exporter\n\nironic-prometheus-exporter[1] requires uWSGI,\nadding to the global-requirements.txt to allow\nthe requirements-check[2] job to pass.\n\nIs the library actively maintained?\nYes https://pypi.org/project/uWSGI/#history\n\nIs the library good code?\nSeems to be good.\n\nIs the library python 3 compatible?\nYes. https://uwsgi-docs.readthedocs.io/en/latest/Python.html#python-3\n\nIs the library license compatible?\nYes since they list `OSI Approved :: GNU General`\nbut it also have `Public License v2 or later (GPLv2+)`\n\nIs the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?\nYes\n\nIs the function of this library already covered by other libraries in global-requirements.txt?\nNo\n\nIs the library required for OpenStack project or related dev or infrastructure setup?\nYes. Required for the ironic-prometheus-exporter, since the Flask application will run under uwsgi to reflect real\ndeployments.\n\nIf the library release is managed by the Openstack release process does it use the cycle-with-intermediary release type?\nNot managed by OpenStack\n\n[1] https://opendev.org/openstack/ironic-prometheus-exporter\n[2] http://logs.openstack.org/85/669885/3/check/requirements-check/a789032/job-output.txt.gz#_2019-07-10_09_34_46_808431\n\nChange-Id: I49e3b2805bdd10f76afc012b7c8c86076857c90e\n'}]",2,670070,3df2a0ac885d057f825b8d53496fc714c80b4fea,9,4,3,15519,,,0,"Add requirements for ironic-prometheus-exporter

ironic-prometheus-exporter[1] requires uWSGI,
adding to the global-requirements.txt to allow
the requirements-check[2] job to pass.

Is the library actively maintained?
Yes https://pypi.org/project/uWSGI/#history

Is the library good code?
Seems to be good.

Is the library python 3 compatible?
Yes. https://uwsgi-docs.readthedocs.io/en/latest/Python.html#python-3

Is the library license compatible?
Yes since they list `OSI Approved :: GNU General`
but it also have `Public License v2 or later (GPLv2+)`

Is the library already packaged in the distros we target (Ubuntu latest / Fedora latest)?
Yes

Is the function of this library already covered by other libraries in global-requirements.txt?
No

Is the library required for OpenStack project or related dev or infrastructure setup?
Yes. Required for the ironic-prometheus-exporter, since the Flask application will run under uwsgi to reflect real
deployments.

If the library release is managed by the Openstack release process does it use the cycle-with-intermediary release type?
Not managed by OpenStack

[1] https://opendev.org/openstack/ironic-prometheus-exporter
[2] http://logs.openstack.org/85/669885/3/check/requirements-check/a789032/job-output.txt.gz#_2019-07-10_09_34_46_808431

Change-Id: I49e3b2805bdd10f76afc012b7c8c86076857c90e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/70/670070/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,b70c51baab68c47c6c119e1b55f9f4674b7d3b81,,uWSGI # Apache 2.0 License,,1,0
openstack%2Ftripleo-ci~master~Id26f053fccf8d40a119ddd33b576f5f5c9c55a84,openstack/tripleo-ci,master,Id26f053fccf8d40a119ddd33b576f5f5c9c55a84,Restrict upgrade-stein job,MERGED,2019-07-10 19:33:21.000000000,2019-07-11 10:27:00.000000000,2019-07-11 10:27:00.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-07-10 19:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/719f6c89e17a923ccaa5c09bf565024bae614656', 'message': 'Restrict upgrade-stein job\n\nThe upgrade-stein job tests rocky -> stein. For most branches that means\nonly test on stable/rocky or stable/stein. For tripleo-ci, quickstart,\nquickstart-extras we need to override this to run on master since these\nrepos are branchless but can affect the stable/* branches.\n\nChange-Id: Id26f053fccf8d40a119ddd33b576f5f5c9c55a84\n'}, {'number': 2, 'created': '2019-07-10 19:35:09.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9dfb931ccb8b730969832a2995b3585a08ae59e9', 'message': 'Restrict upgrade-stein job\n\nThe upgrade-stein job tests rocky -> stein. For most branches that means\nonly test on stable/rocky or stable/stein. For tripleo-ci, quickstart,\nquickstart-extras we need to override this to run on master since these\nrepos are branchless but can affect the stable/* branches.\n\nChange-Id: Id26f053fccf8d40a119ddd33b576f5f5c9c55a84\n'}]",1,670168,9dfb931ccb8b730969832a2995b3585a08ae59e9,12,6,2,14985,,,0,"Restrict upgrade-stein job

The upgrade-stein job tests rocky -> stein. For most branches that means
only test on stable/rocky or stable/stein. For tripleo-ci, quickstart,
quickstart-extras we need to override this to run on master since these
repos are branchless but can affect the stable/* branches.

Change-Id: Id26f053fccf8d40a119ddd33b576f5f5c9c55a84
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/68/670168/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/standalone-jobs.yaml', 'zuul.d/layout.yaml']",2,719f6c89e17a923ccaa5c09bf565024bae614656,bad-branch-upgrade-job, - tripleo-ci-centos7-standalone-upgrade-stein: branches: master - tripleo-ci-centos7-standalone-upgrade-stein: branches: master,,6,1
openstack%2Fwatcher~master~Iee31369876052a22e5f3263cd5e7fad5d068f68d,openstack/watcher,master,Iee31369876052a22e5f3263cd5e7fad5d068f68d,Add marker option for get_instance_list(),MERGED,2019-07-10 06:01:11.000000000,2019-07-11 10:23:01.000000000,2019-07-11 09:21:17.000000000,"[{'_account_id': 6873}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 26297}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-07-10 06:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/25ca535487a7f55d025ee61b36b1d90bc04039da', 'message': 'Add marker option for get_instance_list()\n\nChange-Id: Iee31369876052a22e5f3263cd5e7fad5d068f68d\n'}, {'number': 2, 'created': '2019-07-10 06:43:20.000000000', 'files': ['watcher/common/nova_helper.py', 'watcher/tests/common/test_nova_helper.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/502ed741d65ad6b098e85beac301844060c18be0', 'message': 'Add marker option for get_instance_list()\n\nChange-Id: Iee31369876052a22e5f3263cd5e7fad5d068f68d\n'}]",0,669984,502ed741d65ad6b098e85beac301844060c18be0,12,9,2,28748,,,0,"Add marker option for get_instance_list()

Change-Id: Iee31369876052a22e5f3263cd5e7fad5d068f68d
",git fetch https://review.opendev.org/openstack/watcher refs/changes/84/669984/2 && git format-patch -1 --stdout FETCH_HEAD,['watcher/common/nova_helper.py'],1,25ca535487a7f55d025ee61b36b1d90bc04039da,add_marker," def get_instance_list(self, filters=None, marker=None, limit=-1): :param filters: Dict of additional filters (optional). :param marker: Get servers that appear later in the server list than that represented by this server id (optional). marker=marker,"," def get_instance_list(self, filters=None, limit=-1): :param filters: dict of additional filters (optional). # TODO(chenker) Add marker param to list Server objects.",5,3
openstack%2Ftripleo-ansible~stable%2Fstein~I4fcc0858cac8f59d797d62f6de18c02e4b1819dc,openstack/tripleo-ansible,stable/stein,I4fcc0858cac8f59d797d62f6de18c02e4b1819dc,Add playbook to stop containers,ABANDONED,2019-07-08 12:39:49.000000000,2019-07-11 09:52:22.000000000,,"[{'_account_id': 7353}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-08 12:39:49.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-stop/README.md', 'tripleo_ansible/roles/tripleo-container-stop/tasks/main.yaml', 'tripleo_ansible/roles/tripleo-container-stop/tasks/container_stop.yaml', 'tripleo_ansible/roles/tripleo-container-stop/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e0c8a129913b290221a4f6e2720a60e4f980c652', 'message': 'Add playbook to stop containers\n\nWe need to stop several containers on the upgrades workflow.\n\nThis submission allows to reduce the duplicated code in THT.\nIt also handles the case in which we have podman as the CLI\nbut the containers running with docker.\n\nChange-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc\n(cherry picked from commit a0ef227c2342600d18dd2f59b6d7ec84a207c87b)\n'}]",0,669652,e0c8a129913b290221a4f6e2720a60e4f980c652,8,4,1,20775,,,0,"Add playbook to stop containers

We need to stop several containers on the upgrades workflow.

This submission allows to reduce the duplicated code in THT.
It also handles the case in which we have podman as the CLI
but the containers running with docker.

Change-Id: I4fcc0858cac8f59d797d62f6de18c02e4b1819dc
(cherry picked from commit a0ef227c2342600d18dd2f59b6d7ec84a207c87b)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/52/669652/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-stop/README.md', 'tripleo_ansible/roles/tripleo-container-stop/tasks/main.yaml', 'tripleo_ansible/roles/tripleo-container-stop/tasks/container_stop.yaml', 'tripleo_ansible/roles/tripleo-container-stop/defaults/main.yaml']",4,e0c8a129913b290221a4f6e2720a60e4f980c652,stop-pre-upgrade,--- container_cli: podman ,,55,0
openstack%2Fkolla-ansible~master~I88429f30eb81a286f4b8104d5e7a176eefaad667,openstack/kolla-ansible,master,I88429f30eb81a286f4b8104d5e7a176eefaad667,init-runonce: make public1 network optional,MERGED,2019-07-10 16:50:13.000000000,2019-07-11 09:30:53.000000000,2019-07-11 09:30:53.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-10 16:50:13.000000000', 'files': ['tools/init-runonce'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3026fd91298ea9f33d8aa5cd57bc0ae7ea6abf98', 'message': 'init-runonce: make public1 network optional\n\nSkip creation by setting ENABLE_EXT_NET to 0.\n\nSince adding errexit we are failing in kayobe CI, since we have a\nconflicting flat network on physnet1.\n\nChange-Id: I88429f30eb81a286f4b8104d5e7a176eefaad667\n'}]",0,670128,3026fd91298ea9f33d8aa5cd57bc0ae7ea6abf98,11,5,1,14826,,,0,"init-runonce: make public1 network optional

Skip creation by setting ENABLE_EXT_NET to 0.

Since adding errexit we are failing in kayobe CI, since we have a
conflicting flat network on physnet1.

Change-Id: I88429f30eb81a286f4b8104d5e7a176eefaad667
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/28/670128/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/init-runonce'],1,3026fd91298ea9f33d8aa5cd57bc0ae7ea6abf98,,ENABLE_EXT_NET=${ENABLE_EXT_NET:-1}if [[ $ENABLE_EXT_NET -eq 1 ]]; then openstack network create --external --provider-physical-network physnet1 \ --provider-network-type flat public1 openstack subnet create --no-dhcp \ --allocation-pool ${EXT_NET_RANGE} --network public1 \ --subnet-range ${EXT_NET_CIDR} --gateway ${EXT_NET_GATEWAY} public1-subnet fiif [[ $ENABLE_EXT_NET -eq 1 ]]; then openstack router set --external-gateway public1 demo-router fi,openstack network create --external --provider-physical-network physnet1 \ --provider-network-type flat public1 openstack subnet create --no-dhcp \ --allocation-pool ${EXT_NET_RANGE} --network public1 \ --subnet-range ${EXT_NET_CIDR} --gateway ${EXT_NET_GATEWAY} public1-subnetopenstack router set --external-gateway public1 demo-router,11,6
openstack%2Freleases~master~I9f0cf3a08686f30106c5f0278f0fc764868d3a5c,openstack/releases,master,I9f0cf3a08686f30106c5f0278f0fc764868d3a5c,Release os-brick 2.5.8,MERGED,2019-07-08 22:03:07.000000000,2019-07-11 09:28:36.000000000,2019-07-11 09:28:36.000000000,"[{'_account_id': 308}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 22:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6ff84ddc234f705a100c5d21cb626f458d0f879b', 'message': 'Release os-brick 2.5.8\n\nRelease from stable/rocky\n\nChange-Id: I9f0cf3a08686f30106c5f0278f0fc764868d3a5c\n'}, {'number': 2, 'created': '2019-07-10 13:51:45.000000000', 'files': ['deliverables/rocky/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/79ac73207b759f0d68e1ea7af3463d5a8180e351', 'message': 'Release os-brick 2.5.8\n\nRelease from stable/rocky\n\nChange-Id: I9f0cf3a08686f30106c5f0278f0fc764868d3a5c\n'}]",0,669765,79ac73207b759f0d68e1ea7af3463d5a8180e351,11,5,2,5314,,,0,"Release os-brick 2.5.8

Release from stable/rocky

Change-Id: I9f0cf3a08686f30106c5f0278f0fc764868d3a5c
",git fetch https://review.opendev.org/openstack/releases refs/changes/65/669765/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/os-brick.yaml'],1,6ff84ddc234f705a100c5d21cb626f458d0f879b,cinderproject-july-2019, - projects: - hash: 64cbaaea47822dff3ae5fbd104f9bff8fe79d08d repo: openstack/os-brick version: 2.5.8,,4,0
openstack%2Freleases~master~I3d111a942fdce2b0b9936bb527a6d5a3927a8f57,openstack/releases,master,I3d111a942fdce2b0b9936bb527a6d5a3927a8f57,Release os-brick 2.8.2,MERGED,2019-07-08 22:05:45.000000000,2019-07-11 09:24:27.000000000,2019-07-11 09:24:27.000000000,"[{'_account_id': 308}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 12898}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 22:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2607027b9d7ba9ff7f5055e861a90de8387c344f', 'message': 'Release os-brick 2.8.2\n\nRelease from stable/stein\n\nChange-Id: I3d111a942fdce2b0b9936bb527a6d5a3927a8f57\n'}, {'number': 2, 'created': '2019-07-10 13:48:50.000000000', 'files': ['deliverables/stein/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9c72b3e76ee6c43363246d8f19fb6a841d8dd1e6', 'message': 'Release os-brick 2.8.2\n\nRelease from stable/stein\n\nChange-Id: I3d111a942fdce2b0b9936bb527a6d5a3927a8f57\n'}]",0,669767,9c72b3e76ee6c43363246d8f19fb6a841d8dd1e6,13,7,2,5314,,,0,"Release os-brick 2.8.2

Release from stable/stein

Change-Id: I3d111a942fdce2b0b9936bb527a6d5a3927a8f57
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/669767/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/os-brick.yaml'],1,2607027b9d7ba9ff7f5055e861a90de8387c344f,cinderproject-july-2019, - projects: - hash: 4c2b25391091b5ad4935e552f2be53c0cf3ee738 repo: openstack/os-brick version: 2.8.2,,4,0
openstack%2Freleases~master~I90e9770c9efcfc6630339efd97db9e3e0044e0a3,openstack/releases,master,I90e9770c9efcfc6630339efd97db9e3e0044e0a3,Release OpenStack-Ansible Stein RC4,MERGED,2019-07-10 15:28:52.000000000,2019-07-11 09:19:39.000000000,2019-07-11 09:19:39.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-10 15:28:52.000000000', 'files': ['deliverables/stein/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9599bc26cd873e22e312b5d4d1a61ffff8183134', 'message': 'Release OpenStack-Ansible Stein RC4\n\nThis will be the final RC for OpenStack-Ansible.\n\nChange-Id: I90e9770c9efcfc6630339efd97db9e3e0044e0a3\n'}]",0,670099,9599bc26cd873e22e312b5d4d1a61ffff8183134,8,4,1,17068,,,0,"Release OpenStack-Ansible Stein RC4

This will be the final RC for OpenStack-Ansible.

Change-Id: I90e9770c9efcfc6630339efd97db9e3e0044e0a3
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/670099/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/openstack-ansible.yaml'],1,9599bc26cd873e22e312b5d4d1a61ffff8183134,release_osa, - projects: - hash: 406d93359e8ed83312a76cef6fc95becf3476cba repo: openstack/openstack-ansible version: 19.0.0.0rc4,,4,0
openstack%2Freleases~master~I53bddc065c2522f68467bfa9ab8815e79b74d64d,openstack/releases,master,I53bddc065c2522f68467bfa9ab8815e79b74d64d,Release cinder 14.0.1,MERGED,2019-07-08 22:34:07.000000000,2019-07-11 09:16:22.000000000,2019-07-11 09:16:22.000000000,"[{'_account_id': 308}, {'_account_id': 5314}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 12898}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 22:34:07.000000000', 'files': ['deliverables/stein/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d7e4134dc31d422a008a9920f54c3c041eff9604', 'message': 'Release cinder 14.0.1\n\nRelease from stable/stein\n\nChange-Id: I53bddc065c2522f68467bfa9ab8815e79b74d64d\n'}]",2,669771,d7e4134dc31d422a008a9920f54c3c041eff9604,13,8,1,5314,,,0,"Release cinder 14.0.1

Release from stable/stein

Change-Id: I53bddc065c2522f68467bfa9ab8815e79b74d64d
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/669771/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/cinder.yaml'],1,d7e4134dc31d422a008a9920f54c3c041eff9604,cinderproject-july-2019, - projects: - hash: 0996f0ac76188c324831f19089bdd87b9c364cb6 repo: openstack/cinder version: 14.0.1,,4,0
openstack%2Freleases~master~Ic2de53f28ff21406d8f1831b18accca53fa48570,openstack/releases,master,Ic2de53f28ff21406d8f1831b18accca53fa48570,Release cinderclient 4.2.1,MERGED,2019-07-08 21:56:30.000000000,2019-07-11 09:16:04.000000000,2019-07-11 09:16:04.000000000,"[{'_account_id': 308}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 21:56:30.000000000', 'files': ['deliverables/stein/python-cinderclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/88680093addbb2d85c8be15228eba89816103e2e', 'message': 'Release cinderclient 4.2.1\n\nRelease from stable/stein\n\nChange-Id: Ic2de53f28ff21406d8f1831b18accca53fa48570\n'}]",0,669763,88680093addbb2d85c8be15228eba89816103e2e,10,6,1,5314,,,0,"Release cinderclient 4.2.1

Release from stable/stein

Change-Id: Ic2de53f28ff21406d8f1831b18accca53fa48570
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/669763/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/python-cinderclient.yaml'],1,88680093addbb2d85c8be15228eba89816103e2e,cinderproject-july-2019, - projects: - hash: 0a2bab1d4d01df99bc9594f3f055ad99584949aa repo: openstack/python-cinderclient version: 4.2.1,,4,0
openstack%2Freleases~master~I164b58c2630cc33f2f7afe86d07a03a863b5eed0,openstack/releases,master,I164b58c2630cc33f2f7afe86d07a03a863b5eed0,Add oslo.limit deliverable,MERGED,2019-07-09 17:20:41.000000000,2019-07-11 09:16:03.000000000,2019-07-11 09:16:03.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-09 17:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/414ac23741889dd3c1b3e36aaffbcdc51ee28157', 'message': 'Add oslo.limit deliverable\n\nThis commit adds the oslo.limit deliverable to the release repository\nso that it can be used in Train.\n\nChange-Id: I164b58c2630cc33f2f7afe86d07a03a863b5eed0\n'}, {'number': 2, 'created': '2019-07-10 13:42:49.000000000', 'files': ['deliverables/train/oslo.limit.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ba0c6ede349f1f7b6bb18bcb5145a036b19905bf', 'message': 'Add oslo.limit deliverable\n\nThis commit adds the oslo.limit deliverable to the release repository\nso that it can be used in Train.\n\nChange-Id: I164b58c2630cc33f2f7afe86d07a03a863b5eed0\n'}]",2,669914,ba0c6ede349f1f7b6bb18bcb5145a036b19905bf,15,7,2,5046,,,0,"Add oslo.limit deliverable

This commit adds the oslo.limit deliverable to the release repository
so that it can be used in Train.

Change-Id: I164b58c2630cc33f2f7afe86d07a03a863b5eed0
",git fetch https://review.opendev.org/openstack/releases refs/changes/14/669914/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/oslo.limit.yaml'],1,414ac23741889dd3c1b3e36aaffbcdc51ee28157,,--- include-pypi-link: yes launchpad: oslo.limit release-model: cycle-with-intermediary team: oslo type: library repository-settings: openstack/oslo.limit: {} releases: - projects: - hash: 90acc274f7f944e4eab4de2a114253ea24c5e6af repo: openstack/oslo.limit version: 0.0.1 ,,13,0
openstack%2Freleases~master~I8782bcb9e6560b423ca6319bfe67439c71a7f21a,openstack/releases,master,I8782bcb9e6560b423ca6319bfe67439c71a7f21a,Release os-brick 2.9.1,MERGED,2019-07-08 22:08:55.000000000,2019-07-11 09:13:53.000000000,2019-07-11 09:13:53.000000000,"[{'_account_id': 308}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 22:08:55.000000000', 'files': ['deliverables/train/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9079c80fa41e565090efb4006c82f851c0136483', 'message': 'Release os-brick 2.9.1\n\nRelease from master (train)\n\nChange-Id: I8782bcb9e6560b423ca6319bfe67439c71a7f21a\n'}]",0,669768,9079c80fa41e565090efb4006c82f851c0136483,9,5,1,5314,,,0,"Release os-brick 2.9.1

Release from master (train)

Change-Id: I8782bcb9e6560b423ca6319bfe67439c71a7f21a
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/669768/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/os-brick.yaml'],1,9079c80fa41e565090efb4006c82f851c0136483,cinderproject-july-2019, - projects: - hash: 97b085f448e15269c28ed8adc60601894c470747 repo: openstack/os-brick version: 2.9.1,,4,0
openstack%2Freleases~master~I8186e8627b0baca8d5c00cf23918b14d571e29e8,openstack/releases,master,I8186e8627b0baca8d5c00cf23918b14d571e29e8,release openstack/ansible-role-chrony 1.0.1,MERGED,2019-07-08 16:38:06.000000000,2019-07-11 09:13:52.000000000,2019-07-11 09:13:52.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 16:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b789723625fce5e5d498544da236e03b820f4b44', 'message': 'release openstack/ansible-role-chrony 1.0.1\n\nChange-Id: I8186e8627b0baca8d5c00cf23918b14d571e29e8\n'}, {'number': 2, 'created': '2019-07-08 22:30:52.000000000', 'files': ['deliverables/_independent/ansible-role-chrony.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e90aa24e6f8080bb34ffcae893b6ffb38dda439b', 'message': 'release openstack/ansible-role-chrony 1.0.1\n\nChange-Id: I8186e8627b0baca8d5c00cf23918b14d571e29e8\n'}]",0,669716,e90aa24e6f8080bb34ffcae893b6ffb38dda439b,12,4,2,3153,,,0,"release openstack/ansible-role-chrony 1.0.1

Change-Id: I8186e8627b0baca8d5c00cf23918b14d571e29e8
",git fetch https://review.opendev.org/openstack/releases refs/changes/16/669716/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/ansible-role-chrony.yaml'],1,b789723625fce5e5d498544da236e03b820f4b44,chrony, - projects: - hash: e289119ba1045f2cab00f62fc4543915d7568b3d repo: openstack/ansible-role-chrony version: 1.0.1,,4,0
openstack%2Freleases~master~Ib5be3c0ba7283021301d278fcb362432f9a7d5cb,openstack/releases,master,Ib5be3c0ba7283021301d278fcb362432f9a7d5cb,Skip branch checking on EOL deliverables,MERGED,2019-07-08 19:33:57.000000000,2019-07-11 09:09:37.000000000,2019-07-11 09:09:37.000000000,"[{'_account_id': 308}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 19:33:57.000000000', 'files': ['openstack_releases/cmds/validate.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/aa3ab893c20612c7489d0d13ee1612e0fbd1ae8a', 'message': 'Skip branch checking on EOL deliverables\n\nIf we make modifications to a deliverable file for whatever reason and\nthat series is EOL, the validation code would still check that branches\nexisted and therefore fail. The stable/$series branch most likely is\ndeleted after going EOL, so the validation code would think there was a\nneed for a new branch to be created, then fail if the last release done\nwas not the same point as the branch.\n\nThis updates the validation logic to check up front if the deliverable\nis EOL and skip these checks.\n\nChange-Id: Ib5be3c0ba7283021301d278fcb362432f9a7d5cb\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,669745,aa3ab893c20612c7489d0d13ee1612e0fbd1ae8a,8,4,1,11904,,,0,"Skip branch checking on EOL deliverables

If we make modifications to a deliverable file for whatever reason and
that series is EOL, the validation code would still check that branches
existed and therefore fail. The stable/$series branch most likely is
deleted after going EOL, so the validation code would think there was a
need for a new branch to be created, then fail if the last release done
was not the same point as the branch.

This updates the validation logic to check up front if the deliverable
is EOL and skip these checks.

Change-Id: Ib5be3c0ba7283021301d278fcb362432f9a7d5cb
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/669745/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/validate.py'],1,aa3ab893c20612c7489d0d13ee1612e0fbd1ae8a,ruamel," if deliv.releases and deliv.releases[-1].is_eol: print('rule does not apply to end-of-life repos, skipping') return ",,4,0
openstack%2Ftripleo-docs~master~Ica16b31f332f6b8559a14617126037407f4e8165,openstack/tripleo-docs,master,Ica16b31f332f6b8559a14617126037407f4e8165,Update documentation around container params,MERGED,2019-07-03 16:02:37.000000000,2019-07-11 09:00:10.000000000,2019-07-11 09:00:10.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-03 16:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/9636d81d481b222e30839138ffb49bf7a125a592', 'message': ""Update documentation around container params\n\nWe've changed some of the naming in the Train cycle and need to update\nthe docs to reflect the current state. Additionally adding notes about\nthe previous naming conventions.\n\nChange-Id: Ica16b31f332f6b8559a14617126037407f4e8165\n""}, {'number': 2, 'created': '2019-07-03 17:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/06685321062b6b47a7bdca12dc6abc5c5c9bf69c', 'message': ""Update documentation around container params\n\nWe've changed some of the naming in the Train cycle and need to update\nthe docs to reflect the current state. Additionally adding notes about\nthe previous naming conventions.\n\nChange-Id: Ica16b31f332f6b8559a14617126037407f4e8165\n""}, {'number': 3, 'created': '2019-07-03 17:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/f4c06d91c8f5b2aca269fbbad53a143cc2ddd6c5', 'message': ""Update documentation around container params\n\nWe've changed some of the naming in the Train cycle and need to update\nthe docs to reflect the current state. Additionally adding notes about\nthe previous naming conventions.\n\nChange-Id: Ica16b31f332f6b8559a14617126037407f4e8165\n""}, {'number': 4, 'created': '2019-07-03 17:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a60c34d2585a98b9623d45e8332b933c8a4ce106', 'message': ""Update documentation around container params\n\nWe've changed some of the naming in the Train cycle and need to update\nthe docs to reflect the current state. Additionally adding notes about\nthe previous naming conventions.\n\nChange-Id: Ica16b31f332f6b8559a14617126037407f4e8165\n""}, {'number': 5, 'created': '2019-07-03 17:32:56.000000000', 'files': ['doc/source/developer/tht_walkthrough/service_template_sections.rst', 'doc/source/install/advanced_deployment/ansible_config_download.rst', 'doc/source/install/containers_deployment/architecture.rst', 'doc/source/install/containers_deployment/3rd_party.rst', 'doc/source/install/containers_deployment/tips_tricks.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/cd3a8cb3b01d61d2492ca1962ec519b7a45212b1', 'message': ""Update documentation around container params\n\nWe've changed some of the naming in the Train cycle and need to update\nthe docs to reflect the current state. Additionally adding notes about\nthe previous naming conventions.\n\nChange-Id: Ica16b31f332f6b8559a14617126037407f4e8165\n""}]",0,668950,cd3a8cb3b01d61d2492ca1962ec519b7a45212b1,15,4,5,14985,,,0,"Update documentation around container params

We've changed some of the naming in the Train cycle and need to update
the docs to reflect the current state. Additionally adding notes about
the previous naming conventions.

Change-Id: Ica16b31f332f6b8559a14617126037407f4e8165
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/50/668950/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/developer/tht_walkthrough/service_template_sections.rst', 'doc/source/install/containers_deployment/architecture.rst', 'doc/source/install/containers_deployment/3rd_party.rst']",3,9636d81d481b222e30839138ffb49bf7a125a592,container-updates, ContainerCinderVolumeImage: centos-binary-cinder-volume-vendorx:rev1 .. note:: Image parameters were named Docker*Image prior to the Train cycle., DockerCinderVolumeImage: centos-binary-cinder-volume-vendorx:rev1,46,25
openstack%2Ftripleo-heat-templates~master~I2a06cdcda92b2839d74373d6978ef65e7b4dedbd,openstack/tripleo-heat-templates,master,I2a06cdcda92b2839d74373d6978ef65e7b4dedbd,Allow logrotate to access container_file_t files,MERGED,2019-07-10 06:14:55.000000000,2019-07-11 08:54:23.000000000,2019-07-11 08:50:27.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11082}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-10 06:14:55.000000000', 'files': ['deployment/logrotate/logrotate-crond-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b81bec56f27f08cc4a6f81416aad422a15bd3ce7', 'message': 'Allow logrotate to access container_file_t files\n\nSince we write logs directly from within containers, logrotate must be\nable to access them.\n\nChange-Id: I2a06cdcda92b2839d74373d6978ef65e7b4dedbd\nRelated-Bug: #1836000\n'}]",0,669987,b81bec56f27f08cc4a6f81416aad422a15bd3ce7,11,7,1,28223,,,0,"Allow logrotate to access container_file_t files

Since we write logs directly from within containers, logrotate must be
able to access them.

Change-Id: I2a06cdcda92b2839d74373d6978ef65e7b4dedbd
Related-Bug: #1836000
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/669987/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logrotate/logrotate-crond-container-puppet.yaml'],1,b81bec56f27f08cc4a6f81416aad422a15bd3ce7,bug/1836000, host_prep_tasks: - name: allow logrotate to read inside containers seboolean: name: logrotate_read_inside_containers persistent: yes state: yes ,,8,0
openstack%2Fheat~master~I37948721a0a653a18049aae6502fafb88030479c,openstack/heat,master,I37948721a0a653a18049aae6502fafb88030479c,Unit tests: Fix wrong assert function name in port update,MERGED,2019-06-24 06:14:09.000000000,2019-07-11 08:54:04.000000000,2019-07-11 08:54:04.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 06:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/29d9ca4aeb467d4871ac1748cf803a2c590ce005', 'message': 'Fix wrong assert function name\n\nThis is to fix wrong assert function name of assset_called_once_with.\n\nChange-Id: I37948721a0a653a18049aae6502fafb88030479c\n'}, {'number': 2, 'created': '2019-06-27 00:07:39.000000000', 'files': ['heat/tests/openstack/neutron/test_neutron_port.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/dd9bc3cd29c5d0c27b3152a6e6aa5edb071c9391', 'message': ""Unit tests: Fix wrong assert function name in port update\n\nDue to a typo in an assert function name (assset_called_once_with()\ninstead of assert_called_once_with()), we weren't actually checking the\narguments passed to Neutron in UpdatePortTest. Fix the function name and\nmodify the test so it actually works.\n\nAmong the fixes required:\n\n- Actually return data from create_port\n- Call Resource.create() instead of handle_create(), to ensure that the\n  resource is stored in the DB (and hence that it gets a name)\n- Mock show_port(), which is called from check_create_complete()\n- Handle later changes to the format of data passed (e.g. an empty\n  allowed_address_pairs should be passed as an empty list instead of None)\n- Actually test the case where the port name is initially specified, and\n  then removed on update\n- Fix the format of arguments to create_port and update_port\n\nThis patch contains a workaround for a regression introduced by\nd37cc18b1b7a531edbcf9658600fc467fbe24e2d that causes a 'value_specs' key\nto be passed to the update_port call. This will be fixed in a subsequent\npatch.\n\nChange-Id: I37948721a0a653a18049aae6502fafb88030479c\nCo-Authored-By: zhufl <zhu.fanglei@zte.com.cn>\nTask: 34764\n""}]",0,667017,dd9bc3cd29c5d0c27b3152a6e6aa5edb071c9391,13,5,2,20190,,,0,"Unit tests: Fix wrong assert function name in port update

Due to a typo in an assert function name (assset_called_once_with()
instead of assert_called_once_with()), we weren't actually checking the
arguments passed to Neutron in UpdatePortTest. Fix the function name and
modify the test so it actually works.

Among the fixes required:

- Actually return data from create_port
- Call Resource.create() instead of handle_create(), to ensure that the
  resource is stored in the DB (and hence that it gets a name)
- Mock show_port(), which is called from check_create_complete()
- Handle later changes to the format of data passed (e.g. an empty
  allowed_address_pairs should be passed as an empty list instead of None)
- Actually test the case where the port name is initially specified, and
  then removed on update
- Fix the format of arguments to create_port and update_port

This patch contains a workaround for a regression introduced by
d37cc18b1b7a531edbcf9658600fc467fbe24e2d that causes a 'value_specs' key
to be passed to the update_port call. This will be fixed in a subsequent
patch.

Change-Id: I37948721a0a653a18049aae6502fafb88030479c
Co-Authored-By: zhufl <zhu.fanglei@zte.com.cn>
Task: 34764
",git fetch https://review.opendev.org/openstack/heat refs/changes/17/667017/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/openstack/neutron/test_neutron_port.py'],1,29d9ca4aeb467d4871ac1748cf803a2c590ce005,neutron-port-test, create_port.assert_called_once_with(props) update_port.assert_called_once_with(update_dict), create_port.assset_called_once_with(props) update_port.assset_called_once_with(update_dict),2,2
openstack%2Fhorizon~master~I0fc8916bc44c2408fb7d915b3d9c15e30354c31c,openstack/horizon,master,I0fc8916bc44c2408fb7d915b3d9c15e30354c31c,Add the unit test for keypairs,MERGED,2019-07-03 08:03:27.000000000,2019-07-11 08:45:22.000000000,2019-07-11 08:45:22.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 08:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7832c45463f12fe768c784641f6eff3b5ba7e220', 'message': 'Add the unit test for keypairs\n\nChange-Id: I0fc8916bc44c2408fb7d915b3d9c15e30354c31c\n'}, {'number': 2, 'created': '2019-07-03 08:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c9e582572e4e14b97e6263f08d5359295974c602', 'message': 'Add the unit test for keypairs\n\nChange-Id: I0fc8916bc44c2408fb7d915b3d9c15e30354c31c\n'}, {'number': 3, 'created': '2019-07-03 08:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b04854663031f021a020f7f018eb4ac4621c5f34', 'message': 'Add the unit test for keypairs\n\nChange-Id: I0fc8916bc44c2408fb7d915b3d9c15e30354c31c\n'}, {'number': 4, 'created': '2019-07-05 05:53:17.000000000', 'files': ['openstack_dashboard/static/app/core/keypairs/actions/create.key-type.controller.spec.js', 'openstack_dashboard/static/app/core/keypairs/actions/actions.module.spec.js', 'openstack_dashboard/static/app/core/keypairs/details/details.module.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/808f4cca16bb5ff1c78ac9cb11c6616f91994721', 'message': 'Add the unit test for keypairs\n\nChange-Id: I0fc8916bc44c2408fb7d915b3d9c15e30354c31c\n'}]",1,668822,808f4cca16bb5ff1c78ac9cb11c6616f91994721,13,3,4,27822,,,0,"Add the unit test for keypairs

Change-Id: I0fc8916bc44c2408fb7d915b3d9c15e30354c31c
",git fetch https://review.opendev.org/openstack/horizon refs/changes/22/668822/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/app/core/keypairs/actions/create.key-type.controller.spec.js', 'openstack_dashboard/static/app/core/keypairs/actions/actions.module.spec.js', 'openstack_dashboard/static/app/core/keypairs/details/details.module.spec.js']",3,7832c45463f12fe768c784641f6eff3b5ba7e220,test,"/** * * Licensed under the Apache License, Version 2.0 (the ""License""); you may * not use this file except in compliance with the License. You may obtain * a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * License for the specific language governing permissions and limitations * under the License. */ (function() { 'use strict'; describe('keypairs details module', function() { var registry, resource; beforeEach(module('horizon.app.core.keypairs.details')); beforeEach(inject(function($injector) { registry = $injector.get('horizon.framework.conf.resource-type-registry.service'); })); it('should be loaded', function() { resource = registry.getResourceType('OS::Nova::Keypair'); expect(resource.detailsViews[0].id).toBe('keypairDetails'); }); }); })(); ",,149,0
openstack%2Fpython-dracclient~master~I4287f317b2413b70cd00fd4cf8aa69bff6ae5e2f,openstack/python-dracclient,master,I4287f317b2413b70cd00fd4cf8aa69bff6ae5e2f,Take Lifecycle Controller out of recovery mode,MERGED,2019-05-29 07:03:53.000000000,2019-07-11 08:42:15.000000000,2019-07-10 18:39:42.000000000,"[{'_account_id': 7160}, {'_account_id': 8580}, {'_account_id': 10250}, {'_account_id': 10379}, {'_account_id': 10644}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 29863}]","[{'number': 1, 'created': '2019-05-29 07:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/bf3518ba2236c529030c7e25d6f65232a7a508ba', 'message': 'Take Lifecycle Controller out of recovery mode\n\nChange-Id: I4287f317b2413b70cd00fd4cf8aa69bff6ae5e2f\n'}, {'number': 2, 'created': '2019-05-29 07:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/e94f5c03287267d318ea6ceaf25b975ec68548ea', 'message': ""Take Lifecycle Controller out of recovery mode\n\nThis patch is to check if a node is in recovery mode and take it\nout of recovery mode by setting LifecycleControllerState attribute\nvalue to 'Enabled'.\n\nChange-Id: I4287f317b2413b70cd00fd4cf8aa69bff6ae5e2f\n""}, {'number': 3, 'created': '2019-05-29 07:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/c68498aa6936f08d40f77df17d2fb7484d690f60', 'message': ""Take Lifecycle Controller out of recovery mode\n\nThis patch is to check if a node is in recovery mode and take it\nout of recovery mode by setting LifecycleControllerState attribute\nvalue to 'Enabled'.\n\nChange-Id: I4287f317b2413b70cd00fd4cf8aa69bff6ae5e2f\n""}, {'number': 4, 'created': '2019-05-29 07:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/df2ab7084841b8fc70d43ff2653a79ccc654e534', 'message': ""Take Lifecycle Controller out of recovery mode\n\nThis patch is to check if a node is in recovery mode and take it\nout of recovery mode by setting LifecycleControllerState attribute\nvalue to 'Enabled'.\n\nChange-Id: I4287f317b2413b70cd00fd4cf8aa69bff6ae5e2f\n""}, {'number': 5, 'created': '2019-05-29 09:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/f8be6cbe7fc7ab44a342a3a7d14c24887d8f11ce', 'message': ""Take Lifecycle Controller out of recovery mode\n\nThis patch is to check if a node is in recovery mode and take it\nout of recovery mode by setting LifecycleControllerState attribute\nvalue to 'Enabled'.\n\nChange-Id: I4287f317b2413b70cd00fd4cf8aa69bff6ae5e2f\n""}, {'number': 6, 'created': '2019-06-07 07:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/b872d3e982587669c3b08d9a90d99e4394c831e9', 'message': ""Take Lifecycle Controller out of recovery mode\n\nThis patch is to check if a node is in recovery mode and take it\nout of recovery mode by setting LifecycleControllerState attribute\nvalue to 'Enabled'.\n\nChange-Id: I4287f317b2413b70cd00fd4cf8aa69bff6ae5e2f\n""}, {'number': 7, 'created': '2019-06-07 09:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/c7781792633cb9f471844e15dcc8868c772d6380', 'message': ""Take Lifecycle Controller out of recovery mode\n\nThis patch is to check if a node is in recovery mode and take it\nout of recovery mode by setting LifecycleControllerState attribute\nvalue to 'Enabled'.\n\nChange-Id: I4287f317b2413b70cd00fd4cf8aa69bff6ae5e2f\n""}, {'number': 8, 'created': '2019-06-14 10:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/db30a157152a1b345813417333385a5bc91230df', 'message': ""Take Lifecycle Controller out of recovery mode\n\nThis patch is to check if a node is in recovery mode and take it\nout of recovery mode by setting LifecycleControllerState attribute\nvalue to 'Enabled'.\n\nModified list_lifecycle_settings() method to use\nutils.list_settings() for retrieving lifecycle settings.\n\nChange-Id: I4287f317b2413b70cd00fd4cf8aa69bff6ae5e2f\n""}, {'number': 9, 'created': '2019-06-17 08:52:50.000000000', 'files': ['dracclient/tests/test_lifecycle_controller.py', 'dracclient/tests/wsman_mocks/lc_service-invoke-create_config_job-error.xml', 'dracclient/tests/utils.py', 'dracclient/tests/wsman_mocks/lc_service-invoke-set_attributes-ok.xml', 'dracclient/tests/wsman_mocks/lc_service-invoke-set_attributes-error.xml', 'dracclient/tests/test_nic.py', 'dracclient/utils.py', 'dracclient/tests/wsman_mocks/lc_getremoteservicesapistatus_recovery.xml', 'dracclient/tests/test_idrac_card.py', 'dracclient/constants.py', 'dracclient/tests/test_job.py', 'dracclient/tests/wsman_mocks/lc_service-invoke-create_config_job-ok.xml', 'dracclient/client.py', 'dracclient/resources/job.py', 'dracclient/resources/lifecycle_controller.py', 'dracclient/tests/test_bios.py'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/ceef78a938dca4f06d14bcfdac1a6d2e53e48ded', 'message': ""Take Lifecycle Controller out of recovery mode\n\nThis patch is to check if a node is in recovery mode and take it\nout of recovery mode by setting LifecycleControllerState attribute\nvalue to 'Enabled'.\n\nModified list_lifecycle_settings() method to use\nutils.list_settings() for retrieving lifecycle settings.\n\nChange-Id: I4287f317b2413b70cd00fd4cf8aa69bff6ae5e2f\n""}]",41,661901,ceef78a938dca4f06d14bcfdac1a6d2e53e48ded,39,8,9,29863,,,0,"Take Lifecycle Controller out of recovery mode

This patch is to check if a node is in recovery mode and take it
out of recovery mode by setting LifecycleControllerState attribute
value to 'Enabled'.

Modified list_lifecycle_settings() method to use
utils.list_settings() for retrieving lifecycle settings.

Change-Id: I4287f317b2413b70cd00fd4cf8aa69bff6ae5e2f
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/01/661901/9 && git format-patch -1 --stdout FETCH_HEAD,"['dracclient/tests/test_lifecycle_controller.py', 'dracclient/tests/utils.py', 'dracclient/tests/wsman_mocks/lc_service-invoke-set_attributes-ok.xml', 'dracclient/client.py', 'dracclient/resources/lifecycle_controller.py', 'dracclient/tests/wsman_mocks/lc_getremoteservicesapistatus_recovery.xml']",6,bf3518ba2236c529030c7e25d6f65232a7a508ba,,"<s:Envelope xmlns:s=""http://www.w3.org/2003/05/soap-envelope"" xmlns:wsa=""http://schemas.xmlsoap.org/ws/2004/08/addressing"" xmlns:n1=""http://schemas.dell.com/wbem/wscim/1/cim-schema/2/DCIM_LCService""> <s:Header> <wsa:To>http://schemas.xmlsoap.org/ws/2004/08/addressing/role/anonymous</wsa:To> <wsa:Action>http://schemas.dell.com/wbem/wscim/1/cim-schema/2/DCIM_LCService/GetRemoteServicesAPIStatusResponse</wsa:Action> <wsa:RelatesTo>uuid:18745811-2782-4d30-a288-8f001a895215</wsa:RelatesTo> <wsa:MessageID>uuid:9ec203ba-4fc0-1fc0-8094-98d61742a844</wsa:MessageID> </s:Header> <s:Body> <n1:GetRemoteServicesAPIStatus_OUTPUT> <n1:LCStatus>4</n1:LCStatus> <n1:Message>Lifecycle Controller Remote Services is not ready.</n1:Message> <n1:MessageID>LC060</n1:MessageID> <n1:RTStatus>0</n1:RTStatus> <n1:ReturnValue>0</n1:ReturnValue> <n1:ServerStatus>7</n1:ServerStatus> <n1:Status>1</n1:Status> </n1:GetRemoteServicesAPIStatus_OUTPUT> </s:Body> </s:Envelope> ",,201,2
openstack%2Fplacement~master~I024eaa38c6574f5847d585c83d527e3374031105,openstack/placement,master,I024eaa38c6574f5847d585c83d527e3374031105,Add query.duplicate_key and .bad_value in api-ref,MERGED,2019-07-09 22:03:29.000000000,2019-07-11 08:28:55.000000000,2019-07-11 08:28:55.000000000,"[{'_account_id': 11564}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-07-09 22:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ed0506808f9e8d50d5a5e757e62a31ec4f7490d6', 'message': 'Add query.duplicate_key and .bad_value in api-ref\n\nThis commit documents new error codes placement.query.duplicate_key and\nplacement.query.bad_value, which were were added via [1] but missed in\nthe summary table in the API reference [2].\n\nStory: #2006194\nTask: #35776\n\n[1] I76cad83248920fa71da122711f1f763c4ebdb1ba\n[2] https://developer.openstack.org/api-ref/placement/#errors\n\nChange-Id: I024eaa38c6574f5847d585c83d527e3374031105\n'}, {'number': 2, 'created': '2019-07-10 02:37:32.000000000', 'files': ['placement/errors.py', 'api-ref/source/errors.inc'], 'web_link': 'https://opendev.org/openstack/placement/commit/328f7a3a36eb2dd36d49036f94f76c441918d6cd', 'message': 'Add query.duplicate_key and .bad_value in api-ref\n\nThis commit documents new error codes placement.query.duplicate_key and\nplacement.query.bad_value, which were were added via [1] but missed in\nthe summary table in the API reference [2].\n\nStory: #2006194\nTask: #35776\n\n[1] I76cad83248920fa71da122711f1f763c4ebdb1ba\n[2] https://developer.openstack.org/api-ref/placement/#errors\n\nChange-Id: I024eaa38c6574f5847d585c83d527e3374031105\n'}]",0,669952,328f7a3a36eb2dd36d49036f94f76c441918d6cd,10,4,2,14070,,,0,"Add query.duplicate_key and .bad_value in api-ref

This commit documents new error codes placement.query.duplicate_key and
placement.query.bad_value, which were were added via [1] but missed in
the summary table in the API reference [2].

Story: #2006194
Task: #35776

[1] I76cad83248920fa71da122711f1f763c4ebdb1ba
[2] https://developer.openstack.org/api-ref/placement/#errors

Change-Id: I024eaa38c6574f5847d585c83d527e3374031105
",git fetch https://review.opendev.org/openstack/placement refs/changes/52/669952/2 && git format-patch -1 --stdout FETCH_HEAD,"['placement/errors.py', 'api-ref/source/errors.inc']",2,ed0506808f9e8d50d5a5e757e62a31ec4f7490d6,story/2006194," * - ``placement.query.duplicate_key`` - A request included multiple instances of a query parameter that may only be specified once. * - ``placement.query.bad_value`` - A value in a request conformed to the schema, but failed semantic validation.",,7,0
openstack%2Foslo.vmware~master~Iba0237a897c8538b5de40803d7f0340ec849945f,openstack/oslo.vmware,master,Iba0237a897c8538b5de40803d7f0340ec849945f,Add Python 3 Train unit tests,ABANDONED,2019-07-05 06:21:26.000000000,2019-07-11 08:25:03.000000000,,"[{'_account_id': 9008}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 06:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/6fb3436c3cdf96cba8d2ee21603396a5261a75ee', 'message': 'Add Python 3 Train unit tests\n\nChange-Id: Iba0237a897c8538b5de40803d7f0340ec849945f\n'}, {'number': 2, 'created': '2019-07-05 06:39:27.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/82076ea8bb49e78b321af792f4024242b5e7e23c', 'message': 'Add Python 3 Train unit tests\n\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Iba0237a897c8538b5de40803d7f0340ec849945f\n'}]",0,669257,82076ea8bb49e78b321af792f4024242b5e7e23c,8,3,2,30077,,,0,"Add Python 3 Train unit tests

https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Iba0237a897c8538b5de40803d7f0340ec849945f
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/57/669257/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6fb3436c3cdf96cba8d2ee21603396a5261a75ee,python3-train, Programming Language :: Python :: 3.7,,1,0
openstack%2Foslo.cache~master~I7128624ad5638a6673609602fb2c33a71abfb6d5,openstack/oslo.cache,master,I7128624ad5638a6673609602fb2c33a71abfb6d5,Add Python 3 Train unit tests,ABANDONED,2019-07-05 06:14:47.000000000,2019-07-11 08:24:36.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 06:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/ca41f6ecb55d5cc9a1725eb2e30fba162db94bd7', 'message': 'Add Python 3 Train unit tests\n\nChange-Id: I7128624ad5638a6673609602fb2c33a71abfb6d5\n'}, {'number': 2, 'created': '2019-07-05 06:33:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/581184ad29e873c7b82b83887c0ae16d24193f25', 'message': 'Add Python 3 Train unit tests\n\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I7128624ad5638a6673609602fb2c33a71abfb6d5\n'}]",0,669255,581184ad29e873c7b82b83887c0ae16d24193f25,6,2,2,30077,,,0,"Add Python 3 Train unit tests

https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I7128624ad5638a6673609602fb2c33a71abfb6d5
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/55/669255/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ca41f6ecb55d5cc9a1725eb2e30fba162db94bd7,python3-train, Programming Language :: Python :: 3.7,,1,0
openstack%2Foslo.cache~master~Ieae9cb2e9b3ad83cbcc40b1500b5c446f9cdcbea,openstack/oslo.cache,master,Ieae9cb2e9b3ad83cbcc40b1500b5c446f9cdcbea,Add Python 3 Train unit tests,ABANDONED,2019-07-08 13:04:07.000000000,2019-07-11 08:23:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-08 13:04:07.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/d5d6d20e0f80185be7d8217179b45f9000822745', 'message': 'Add Python 3 Train unit tests\n\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ieae9cb2e9b3ad83cbcc40b1500b5c446f9cdcbea\n'}]",0,669656,d5d6d20e0f80185be7d8217179b45f9000822745,3,1,1,30077,,,0,"Add Python 3 Train unit tests

https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ieae9cb2e9b3ad83cbcc40b1500b5c446f9cdcbea
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/56/669656/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,d5d6d20e0f80185be7d8217179b45f9000822745,,"envlist = py27,py36,py37,pypy,pep8","envlist = py27,py36,pypy,pep8",2,1
openstack%2Foslo.privsep~master~I376217d60310326fa0bdb6f7c1efe8759e995de6,openstack/oslo.privsep,master,I376217d60310326fa0bdb6f7c1efe8759e995de6,Add Pyrhon 3 Train unit tests,ABANDONED,2019-07-08 13:11:56.000000000,2019-07-11 08:23:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-08 13:11:56.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/8adf6e4bbf82216549c1108310ce54c6e00798c5', 'message': 'Add Pyrhon 3 Train unit tests\n\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I376217d60310326fa0bdb6f7c1efe8759e995de6\n'}]",0,669660,8adf6e4bbf82216549c1108310ce54c6e00798c5,3,1,1,30077,,,0,"Add Pyrhon 3 Train unit tests

https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I376217d60310326fa0bdb6f7c1efe8759e995de6
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/60/669660/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,8adf6e4bbf82216549c1108310ce54c6e00798c5,,"envlist = py35,py36,py37,py27,pypy,pep8","envlist = py35,py27,pypy,pep8",3,1
openstack%2Foslo.privsep~master~If0e7260c090e5b2dc0bed6c7d03fb3c11fc0bfca,openstack/oslo.privsep,master,If0e7260c090e5b2dc0bed6c7d03fb3c11fc0bfca,Add Python 3 Train unit tests,ABANDONED,2019-07-05 07:00:22.000000000,2019-07-11 08:23:00.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 07:00:22.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/7df0971548f993abc7ca1d445ef6b64c1a234477', 'message': 'Add Python 3 Train unit tests\n\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: If0e7260c090e5b2dc0bed6c7d03fb3c11fc0bfca\n'}]",0,669275,7df0971548f993abc7ca1d445ef6b64c1a234477,5,2,1,30077,,,0,"Add Python 3 Train unit tests

https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: If0e7260c090e5b2dc0bed6c7d03fb3c11fc0bfca
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/75/669275/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7df0971548f993abc7ca1d445ef6b64c1a234477,python3-train, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,,2,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I4b44214cd7007dc31ad5f4e0a0d7a3a531a9f20e,openstack/tripleo-heat-templates,stable/stein,I4b44214cd7007dc31ad5f4e0a0d7a3a531a9f20e,Stein: Re-enable container auth support,MERGED,2019-07-10 14:47:43.000000000,2019-07-11 08:19:51.000000000,2019-07-11 08:19:51.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-10 14:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c116ad80450ed13f2c9041e772bf54d0ae78723', 'message': 'Stein: Re-enable container auth support\n\nSquash of the revert of the revert + the fix\n\n1) Revert ""Revert ""Add container engine authentication support""""\n\nThis reverts commit ac5145c28d02e54453ab69d32237ca2b81e2568c.\n\n2) Convert the heat json format to a py dict\n\nThis change converts a heat json format option to a py dict within\na jinja expresion.\n\nCloses-Bug: #1835657\nRelated-Bug: #1833584\nChange-Id: I4b44214cd7007dc31ad5f4e0a0d7a3a531a9f20e\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit d558aa2a191f89e941fa4fc6babbfaea8e4167ff)\n'}, {'number': 2, 'created': '2019-07-10 20:03:55.000000000', 'files': ['deployment/deprecated/docker/docker-baremetal-ansible.yaml', 'deployment/podman/podman-baremetal-ansible.yaml', 'releasenotes/notes/add-container-registry-login-08d6a87586c84a99.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6bd20d5b46d7ede598e022f0d34814c8dbe8a66', 'message': 'Stein: Re-enable container auth support\n\nSquash of the revert of the revert + the fix\n\n1) Revert ""Revert ""Add container engine authentication support""""\n\nThis reverts commit ac5145c28d02e54453ab69d32237ca2b81e2568c.\n\n2) Convert the heat json format to a py dict\n\nThis change converts a heat json format option to a py dict within\na jinja expresion.\n\nCloses-Bug: #1835657\nRelated-Bug: #1833584\nChange-Id: I4b44214cd7007dc31ad5f4e0a0d7a3a531a9f20e\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 6e07f2a7675b2dd8ff340a24823eb3808d2b07b3)\n'}]",0,670082,d6bd20d5b46d7ede598e022f0d34814c8dbe8a66,10,5,2,3153,,,0,"Stein: Re-enable container auth support

Squash of the revert of the revert + the fix

1) Revert ""Revert ""Add container engine authentication support""""

This reverts commit ac5145c28d02e54453ab69d32237ca2b81e2568c.

2) Convert the heat json format to a py dict

This change converts a heat json format option to a py dict within
a jinja expresion.

Closes-Bug: #1835657
Related-Bug: #1833584
Change-Id: I4b44214cd7007dc31ad5f4e0a0d7a3a531a9f20e
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 6e07f2a7675b2dd8ff340a24823eb3808d2b07b3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/670082/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/docker/docker-baremetal-ansible.yaml', 'deployment/podman/podman-baremetal-ansible.yaml', 'releasenotes/notes/add-container-registry-login-08d6a87586c84a99.yaml']",3,7c116ad80450ed13f2c9041e772bf54d0ae78723,bug/1835657,--- features: - | `ContainerImageRegistryLogin` has been added to indicate if login calls should be issued by the container engine on deployment. The default is set to `false`. - | Values specified in `ContainerImageRegistryCredentials` will now be used to issue a login call when deploying the container engine on the hosts if `ContainerImageRegistryLogin` is set to `true` ,,76,1
openstack%2Fnova~master~I5dc65924fee65f6340d1495a9b1b992001c30731,openstack/nova,master,I5dc65924fee65f6340d1495a9b1b992001c30731,docs: Correct issues with 'openstack quota set' commands,MERGED,2019-06-24 17:25:18.000000000,2019-07-11 07:43:01.000000000,2019-07-10 21:26:52.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-24 17:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a7c2bfd754bcf4fc0fc792f9fce7e86aa9ee1ce', 'message': ""doc: Correct issues with 'openstack quota set' commands\n\nChange Ic857918b15496049b5ccacde9515f130cc0bd7e9 against\nopenstack-manuals updated the quotas document to use openstackclient\ncommands in place of novaclient commands. It missed the fact that you\nneed to pass the '--class' parameter if you wish to set a quota for a\nclass rather than a project. Correct this.\n\nChange-Id: I5dc65924fee65f6340d1495a9b1b992001c30731\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1834057\n""}, {'number': 2, 'created': '2019-06-25 16:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efd9344f2ee9995d242bb236cfeb152b87bb17e7', 'message': ""doc: Correct issues with 'openstack quota set' commands\n\nChange Ic857918b15496049b5ccacde9515f130cc0bd7e9 against\nopenstack-manuals updated the quotas document to use openstackclient\ncommands in place of novaclient commands. It missed the fact that you\nneed to pass the '--class' parameter if you wish to set a quota for a\nclass rather than a project. Correct this.\n\nChange-Id: I5dc65924fee65f6340d1495a9b1b992001c30731\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1834057\n""}, {'number': 3, 'created': '2019-07-10 15:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/987015a5230f4c42677e7f7ebd2b168f97eaf63d', 'message': ""doc: Correct issues with 'openstack quota set' commands\n\nChange Ic857918b15496049b5ccacde9515f130cc0bd7e9 against\nopenstack-manuals updated the quotas document to use openstackclient\ncommands in place of novaclient commands. It missed the fact that you\nneed to pass the '--class' parameter if you wish to set a quota for a\nclass rather than a project. Correct this.\n\nChange-Id: I5dc65924fee65f6340d1495a9b1b992001c30731\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1834057\n""}, {'number': 4, 'created': '2019-07-10 15:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c21828f88e5b9e805d2707668088e314e3b3893a', 'message': ""doc: Correct issues with 'openstack quota set' commands\n\nChange Ic857918b15496049b5ccacde9515f130cc0bd7e9 against\nopenstack-manuals updated the quotas document to use openstackclient\ncommands in place of novaclient commands. It missed the fact that you\nneed to pass the '--class' parameter if you wish to set a quota for a\nclass rather than a project. Correct this.\n\nChange-Id: I5dc65924fee65f6340d1495a9b1b992001c30731\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1834057\n""}, {'number': 5, 'created': '2019-07-10 16:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce270584cbb6b2aa7a12e49ce1a9a5440411cfcb', 'message': ""doc: Correct issues with 'openstack quota set' commands\n\nChange Ic857918b15496049b5ccacde9515f130cc0bd7e9 against\nopenstack-manuals updated the quotas document to use openstackclient\ncommands in place of novaclient commands. It missed the fact that you\nneed to pass the '--class' parameter if you wish to set a quota for a\nclass rather than a project. Correct this.\n\nChange-Id: I5dc65924fee65f6340d1495a9b1b992001c30731\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1834057\n""}, {'number': 6, 'created': '2019-07-10 16:42:18.000000000', 'files': ['doc/source/admin/quotas.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/426790237e75eb184191bee1de50ee493252a717', 'message': ""docs: Correct issues with 'openstack quota set' commands\n\nChange Ic857918b15496049b5ccacde9515f130cc0bd7e9 against\nopenstack-manuals updated the quotas document to use openstackclient\ncommands in place of novaclient commands. It missed the fact that you\nneed to pass the '--class' parameter if you wish to set a quota for a\nclass rather than a project. Correct this.\n\nChange-Id: I5dc65924fee65f6340d1495a9b1b992001c30731\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1834057\n""}]",16,667164,426790237e75eb184191bee1de50ee493252a717,37,11,6,15334,,,0,"docs: Correct issues with 'openstack quota set' commands

Change Ic857918b15496049b5ccacde9515f130cc0bd7e9 against
openstack-manuals updated the quotas document to use openstackclient
commands in place of novaclient commands. It missed the fact that you
need to pass the '--class' parameter if you wish to set a quota for a
class rather than a project. Correct this.

Change-Id: I5dc65924fee65f6340d1495a9b1b992001c30731
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1834057
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/667164/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/quotas.rst'],1,5a7c2bfd754bcf4fc0fc792f9fce7e86aa9ee1ce,bug/1834057, +----------------------+----------+ | Field | Value | +----------------------+----------+ | backup-gigabytes | 1000 | | backups | 10 | | cores | 20 | | fixed-ips | -1 | | floating-ips | 50 | | gigabytes | 1000 | | health_monitors | None | | injected-file-size | 10240 | | injected-files | 5 | | injected-path-size | 255 | | instances | 10 | | key-pairs | 100 | | l7_policies | None | | listeners | None | | load_balancers | None | | location | None | | name | None | | networks | 10 | | per-volume-gigabytes | -1 | | pools | None | | ports | 50 | | project | None | | project_name | project | | properties | 128 | | ram | 51200 | | rbac_policies | 10 | | routers | 10 | | secgroup-rules | 100 | | secgroups | 10 | | server-group-members | 10 | | server-groups | 10 | | snapshots | 10 | | subnet_pools | -1 | | subnets | 10 | | volumes | 10 | +----------------------+----------+ $ openstack quota set --class --instances 15 default +----------------------+----------------------------------+ | Field | Value | +----------------------+----------------------------------+ | backup-gigabytes | 1000 | | backups | 10 | | cores | 32 | | fixed-ips | -1 | | floating-ips | 10 | | gigabytes | 1000 | | health_monitors | None | | injected-file-size | 10240 | | injected-files | 5 | | injected-path-size | 255 | | instances | 10 | | key-pairs | 100 | | l7_policies | None | | listeners | None | | load_balancers | None | | location | None | | name | None | | networks | 20 | | per-volume-gigabytes | -1 | | pools | None | | ports | 60 | | project | c8156b55ec3b486193e73d2974196993 | | project_name | project | | properties | 128 | | ram | 65536 | | rbac_policies | 10 | | routers | 10 | | secgroup-rules | 50 | | secgroups | 50 | | server-group-members | 10 | | server-groups | 10 | | snapshots | 10 | | subnet_pools | -1 | | subnets | 20 | | volumes | 10 | +----------------------+---------------------------------- To update quotas for a project: $ openstack quota set --QUOTA_NAME QUOTA_VALUE PROJECT_NAME To update quotas for a class: .. code-block:: console $ openstack quota set --class --QUOTA_NAME QUOTA_VALUE CLASS_NAME $ openstack quota set --gigabytes 2000 PROJECT_NAME +----------------------+----------------------------------+ | Field | Value | +----------------------+----------------------------------+ | ... | ... | | gigabytes | 2000 | | ... | ... | +----------------------+----------------------------------, +-----------------------------+-------+ | Quota | Limit | +-----------------------------+-------+ | instances | 10 | | cores | 20 | | ram | 51200 | | floating_ips | 10 | | fixed_ips | -1 | | metadata_items | 128 | | injected_files | 5 | | injected_file_content_bytes | 10240 | | injected_file_path_bytes | 255 | | key_pairs | 100 | | security_groups | 10 | | security_group_rules | 20 | | server_groups | 10 | | server_group_members | 10 | +-----------------------------+-------+ $ openstack quota set --instances 15 default +-----------------------------+-------+ | Quota | Limit | +-----------------------------+-------+ | instances | 10 | | cores | 20 | | ram | 51200 | | floating_ips | 10 | | fixed_ips | -1 | | metadata_items | 128 | | injected_files | 5 | | injected_file_content_bytes | 10240 | | injected_file_path_bytes | 255 | | key_pairs | 100 | | security_groups | 10 | | security_group_rules | 20 | | server_groups | 10 | | server_group_members | 10 | +-----------------------------+-------+ $ openstack quota set --QUOTA_NAME QUOTA_VALUE PROJECT_OR_CLASS $ openstack quota set --floating-ips 20 PROJECT_OR_CLASS +-----------------------------+-------+ | Quota | Limit | +-----------------------------+-------+ | instances | 10 | | cores | 20 | | ram | 51200 | | floating_ips | 20 | | fixed_ips | -1 | | metadata_items | 128 | | injected_files | 5 | | injected_file_content_bytes | 10240 | | injected_file_path_bytes | 255 | | key_pairs | 100 | | security_groups | 10 | | security_group_rules | 20 | | server_groups | 10 | | server_group_members | 10 | +-----------------------------+-------+,96,59
openstack%2Fopenstack-helm~master~I4911825193d75aaaed24e8b71ba43efa2fc78fe8,openstack/openstack-helm,master,I4911825193d75aaaed24e8b71ba43efa2fc78fe8,Ironic: Add pxe boot support for centos image,MERGED,2019-04-25 08:15:24.000000000,2019-07-11 06:11:25.000000000,2019-07-11 06:11:25.000000000,"[{'_account_id': 12281}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28431}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-25 08:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b6de3a86108241e23fa3972e8b5298980866fe24', 'message': 'Ironic: Add pxe boot support for centos image\n\nCurrent pxe init script does not support centos distro as base\nimage. Different folders were checked for centos to copy pxe/ipxe\nfiles to tftpboot folder.\n\nChange-Id: I4911825193d75aaaed24e8b71ba43efa2fc78fe8\nSigned-off-by: Mingyuan Qi <mingyuan.qi@intel.com>\n'}, {'number': 2, 'created': '2019-07-10 07:31:55.000000000', 'files': ['ironic/templates/bin/_ironic-conductor-pxe-init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5f37a88a1443f74d687628d1d8fcc6d9d26c8170', 'message': 'Ironic: Add pxe boot support for centos image\n\nCurrent pxe init script does not support pxe for centos distro as\nbase image. Different folders were checked for centos to copy\npxe/ipxe files to tftpboot folder.\n\nChange-Id: I4911825193d75aaaed24e8b71ba43efa2fc78fe8\nSigned-off-by: Mingyuan Qi <mingyuan.qi@intel.com>\n'}]",0,655629,5f37a88a1443f74d687628d1d8fcc6d9d26c8170,13,5,2,28402,,,0,"Ironic: Add pxe boot support for centos image

Current pxe init script does not support pxe for centos distro as
base image. Different folders were checked for centos to copy
pxe/ipxe files to tftpboot folder.

Change-Id: I4911825193d75aaaed24e8b71ba43efa2fc78fe8
Signed-off-by: Mingyuan Qi <mingyuan.qi@intel.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/29/655629/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/templates/bin/_ironic-conductor-pxe-init.sh.tpl'],1,b6de3a86108241e23fa3972e8b5298980866fe24,ironic_centos,DISTRO_UBUNTU=$(cat /etc/*release | grep Ubuntu) DISTRO_CENTOS=$(cat /etc/*release | grep CentOS) if [[ ! -z $DISTRO_UBUNTU ]]; then #NOTE(portdirect): this works round a limitation in Kolla images if ! dpkg -l ipxe; then apt-get update apt-get install ipxe -y fifor FILE in undionly.kpxe ipxe.efi pxelinux.0; do # For CentOS if [[ ! -z $DISTRO_CENTOS ]]; then if [ -f /var/lib/tftpboot/$FILE ]; then cp -v /var/lib/tftpboot/$FILE /var/lib/openstack-helm/tftpboot fi if [ -f /usr/share/ipxe/$FILE ]; then cp -v /usr/share/ipxe/$FILE /var/lib/openstack-helm/tftpboot fi fi,#NOTE(portdirect): this works round a limitation in Kolla images if ! dpkg -l ipxe; then apt-get update apt-get install ipxe -yfor FILE in undionly.kpxe ipxe.efi; do,20,5
openstack%2Fsolum-specs~master~I8adb86f2fb43602efdf7491f8c82e34b82701b3b,openstack/solum-specs,master,I8adb86f2fb43602efdf7491f8c82e34b82701b3b,Replace Chinese quotes to English quotes,ABANDONED,2018-02-13 21:05:00.000000000,2019-07-11 05:55:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-13 21:05:00.000000000', 'files': ['specs/juno/solum-camp-api.rst'], 'web_link': 'https://opendev.org/openstack/solum-specs/commit/ecb9aeac891de5c7be0b0c418194f9b3c66049ad', 'message': 'Replace Chinese quotes to English quotes\n\nChange-Id: I8adb86f2fb43602efdf7491f8c82e34b82701b3b\n'}]",0,544084,ecb9aeac891de5c7be0b0c418194f9b3c66049ad,3,1,1,17130,,,0,"Replace Chinese quotes to English quotes

Change-Id: I8adb86f2fb43602efdf7491f8c82e34b82701b3b
",git fetch https://review.opendev.org/openstack/solum-specs refs/changes/84/544084/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/juno/solum-camp-api.rst'],1,ecb9aeac891de5c7be0b0c418194f9b3c66049ad,triviafix,"The Solum API does not support the use of the ""select_attr"" query parameter. This item will add support for ""select_attr"", for boththe ""select_attr"" query parameter in conjunction with the GET and PUT","The Solum API does not support the use of the select_attr query parameter. This item will add support for select_attr, for boththe select_attr query parameter in conjunction with the GET and PUT",3,3
openstack%2Fmagnum~master~I6eda064c0765e98d770ce619728f57015856f5ff,openstack/magnum,master,I6eda064c0765e98d770ce619728f57015856f5ff,fix a typo in the docstring,ABANDONED,2018-10-05 10:27:14.000000000,2019-07-11 05:54:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-05 10:27:14.000000000', 'files': ['magnum/common/exception.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/8fc739ad07f9ce5fca95e134f601c09eed31ebf3', 'message': 'fix a typo in the docstring\n\nChange-Id: I6eda064c0765e98d770ce619728f57015856f5ff\n'}]",0,608205,8fc739ad07f9ce5fca95e134f601c09eed31ebf3,3,1,1,17130,,,0,"fix a typo in the docstring

Change-Id: I6eda064c0765e98d770ce619728f57015856f5ff
",git fetch https://review.opendev.org/openstack/magnum refs/changes/05/608205/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/common/exception.py'],1,8fc739ad07f9ce5fca95e134f601c09eed31ebf3,fixtypo, # versionobjects kilo/master different version can, # verisonobjects kilo/master different version can,1,1
openstack%2Fsyntribos~master~Ifb7970843a2f95e5d6ec0ba591aedf554b15eb79,openstack/syntribos,master,Ifb7970843a2f95e5d6ec0ba591aedf554b15eb79,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-04 10:23:05.000000000,2019-07-11 05:53:53.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-04 10:23:05.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/syntribos/commit/243596a563c5ff182e4242cd2d40d4368806d17b', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Ifb7970843a2f95e5d6ec0ba591aedf554b15eb79\n'}]",0,622185,243596a563c5ff182e4242cd2d40d4368806d17b,5,2,1,17130,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: Ifb7970843a2f95e5d6ec0ba591aedf554b15eb79
",git fetch https://review.opendev.org/openstack/syntribos refs/changes/85/622185/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,243596a563c5ff182e4242cd2d40d4368806d17b,mail-list,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fswift~master~I41835148051294088a2c0fb4ed4e7a7b61273e5f,openstack/swift,master,I41835148051294088a2c0fb4ed4e7a7b61273e5f,py3: port staticweb and domain_remap func tests,MERGED,2019-03-26 20:47:05.000000000,2019-07-11 05:42:17.000000000,2019-07-11 05:40:18.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-26 20:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f549dd22693d9dc1d0d558b4deca03b49871094b', 'message': 'py3: bring functional/test_domain_remap.py under test\n\nDrive-by: Tighten assertions on listings, which required that we fix\nproxy pipeline placement. Add a note about it to the sample config.\n\nChange-Id: I41835148051294088a2c0fb4ed4e7a7b61273e5f\n'}, {'number': 2, 'created': '2019-04-15 18:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/53f596550e037486f4c86cea5464e985e930aefd', 'message': 'py3: port staticweb and domain_remap func tests\n\nDrive-by: Tighten domain_remap assertions on listings, which required\nthat we fix proxy pipeline placement. Add a note about it to the sample\nconfig.\n\nChange-Id: I41835148051294088a2c0fb4ed4e7a7b61273e5f\n'}, {'number': 3, 'created': '2019-05-07 18:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f3c181c506d0f8f6e7e45bbcb579f17685358262', 'message': 'py3: port staticweb and domain_remap func tests\n\nDrive-by: Tighten domain_remap assertions on listings, which required\nthat we fix proxy pipeline placement. Add a note about it to the sample\nconfig.\n\nChange-Id: I41835148051294088a2c0fb4ed4e7a7b61273e5f\n'}, {'number': 4, 'created': '2019-05-09 00:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1aea9234a048f28e3ed910b3b7c1c20bb8de3fca', 'message': 'py3: port staticweb and domain_remap func tests\n\nDrive-by: Tighten domain_remap assertions on listings, which required\nthat we fix proxy pipeline placement. Add a note about it to the sample\nconfig.\n\nChange-Id: I41835148051294088a2c0fb4ed4e7a7b61273e5f\n'}, {'number': 5, 'created': '2019-05-21 21:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/97228e3a9b02d4e3af589396cc5a0dfcd22402c9', 'message': 'py3: port staticweb and domain_remap func tests\n\nDrive-by: Tighten domain_remap assertions on listings, which required\nthat we fix proxy pipeline placement. Add a note about it to the sample\nconfig.\n\nChange-Id: I41835148051294088a2c0fb4ed4e7a7b61273e5f\n'}, {'number': 6, 'created': '2019-07-10 16:51:44.000000000', 'files': ['etc/proxy-server.conf-sample', 'test/functional/__init__.py', '.zuul.yaml', 'test/functional/test_domain_remap.py', 'test/functional/test_staticweb.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/9d1b7497400e8c3a7159b11dd8455c55a31db985', 'message': 'py3: port staticweb and domain_remap func tests\n\nDrive-by: Tighten domain_remap assertions on listings, which required\nthat we fix proxy pipeline placement. Add a note about it to the sample\nconfig.\n\nChange-Id: I41835148051294088a2c0fb4ed4e7a7b61273e5f\n'}]",0,647923,9d1b7497400e8c3a7159b11dd8455c55a31db985,29,3,6,15343,,,0,"py3: port staticweb and domain_remap func tests

Drive-by: Tighten domain_remap assertions on listings, which required
that we fix proxy pipeline placement. Add a note about it to the sample
config.

Change-Id: I41835148051294088a2c0fb4ed4e7a7b61273e5f
",git fetch https://review.opendev.org/openstack/swift refs/changes/23/647923/6 && git format-patch -1 --stdout FETCH_HEAD,"['etc/proxy-server.conf-sample', 'test/functional/__init__.py', 'test/functional/test_domain_remap.py', 'tox.ini']",4,f549dd22693d9dc1d0d558b4deca03b49871094b,py3-func-tests, test/functional/test_domain_remap.py \,,23,10
openstack%2Fswift~feature%2Flosf~Ied0dba314c9a6b21c25f43f2933e464bcd93e763,openstack/swift,feature/losf,Ied0dba314c9a6b21c25f43f2933e464bcd93e763,Get new unit tests running under py3,MERGED,2019-06-10 19:19:24.000000000,2019-07-11 05:26:52.000000000,2019-07-11 05:25:34.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-10 19:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4bba49c000b1a2f7c464bd33c284f4959d729960', 'message': 'Get new unit tests running under py3\n\nChange-Id: Ied0dba314c9a6b21c25f43f2933e464bcd93e763\n'}, {'number': 2, 'created': '2019-06-17 15:09:30.000000000', 'files': ['swift/obj/vfile.py', 'swift/obj/rpc_grpc.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/a353d420dd9c80d5a211d1d9172f3961767fd75c', 'message': 'Get new unit tests running under py3\n\nChange-Id: Ied0dba314c9a6b21c25f43f2933e464bcd93e763\n'}]",0,664424,a353d420dd9c80d5a211d1d9172f3961767fd75c,21,2,2,15343,,,0,"Get new unit tests running under py3

Change-Id: Ied0dba314c9a6b21c25f43f2933e464bcd93e763
",git fetch https://review.opendev.org/openstack/swift refs/changes/24/664424/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/vfile.py', 'swift/obj/rpc_grpc.py', 'tox.ini']",3,4bba49c000b1a2f7c464bd33c284f4959d729960,py3, test/unit/obj/test_rpc_grpc.py \ test/unit/obj/test_vfile.py \,,9,7
openstack%2Fswift~master~Ia783ae10344380eb5afd9d43273969b433962945,openstack/swift,master,Ia783ae10344380eb5afd9d43273969b433962945,Run all func tests under py2 against services running py3,MERGED,2019-06-22 05:38:43.000000000,2019-07-11 05:10:37.000000000,2019-07-11 05:08:37.000000000,"[{'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-22 05:38:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/55b04d16c4740fb731a2ffa97a84e1607ca94ef3', 'message': 'Run all func tests under py2 against services running py3\n\n... at least, on the py3 dsvm job.\n\nDepends-On: I0f03c211f35a9a49e047a5718a9907b515ca88d7\nChange-Id: Ia783ae10344380eb5afd9d43273969b433962945\n'}]",0,666942,55b04d16c4740fb731a2ffa97a84e1607ca94ef3,11,3,1,15343,,,0,"Run all func tests under py2 against services running py3

... at least, on the py3 dsvm job.

Depends-On: I0f03c211f35a9a49e047a5718a9907b515ca88d7
Change-Id: Ia783ae10344380eb5afd9d43273969b433962945
",git fetch https://review.opendev.org/openstack/swift refs/changes/42/666942/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,55b04d16c4740fb731a2ffa97a84e1607ca94ef3,py3-devstack, (but under py2). vars:, (also under py3). vars: # only run the subset expected to work on py3 tox_envlist: func-py3,1,3
openstack%2Fswift~master~I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400,openstack/swift,master,I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400,py3: add swift-dsvm-functional-py3 job,MERGED,2019-04-17 20:11:45.000000000,2019-07-11 05:03:52.000000000,2019-07-11 05:01:59.000000000,"[{'_account_id': 597}, {'_account_id': 4608}, {'_account_id': 9625}, {'_account_id': 13861}, {'_account_id': 15343}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-17 20:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/99a2779cd9645796f5e2765ae907ad530ac1c399', 'message': 'py3: add swift-dsvm-functional-py3 job\n\nChange-Id: I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400\n'}, {'number': 2, 'created': '2019-04-17 20:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/911fef0309a65600066c043839c11e21b4036fc5', 'message': 'py3: add swift-dsvm-functional-py3 job\n\nChange-Id: I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400\n'}, {'number': 3, 'created': '2019-04-29 20:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e11bff7c3830fd822a8fca31f85a82245645ced6', 'message': ""py3: add swift-dsvm-functional-py3 job\n\nNote that we have to set\n\n  replication_concurrency = 0\n\nor the object-server won't start on py3.\n\nRelated-Bug: 1691075\nChange-Id: I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400\n""}, {'number': 4, 'created': '2019-04-29 20:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/673107fb29d9755c5a3b4f793465a2bddab2c211', 'message': ""py3: add swift-dsvm-functional-py3 job\n\nNote that we have to set\n\n  replication_concurrency = 0\n\nor the object-server won't start on py3, and we have to grab a newer\nversion of eventlet.\n\nRelated-Bug: 1691075\nChange-Id: I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400\n""}, {'number': 5, 'created': '2019-04-29 22:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4cd3eff1e8af0a94bc651c769d8532874aa9b679', 'message': ""py3: add swift-dsvm-functional-py3 job\n\nNote that we have to set\n\n  replication_concurrency = 0\n\nor the object-server won't start on py3, and we have to grab a newer\nversion of eventlet.\n\nRelated-Bug: 1691075\nChange-Id: I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400\n""}, {'number': 6, 'created': '2019-04-30 17:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/da1711ecdf8faa2929fdf298cc69733d16b68031', 'message': ""py3: add swift-dsvm-functional-py3 job\n\nNote that we have to ignore replication_concurrency on py3 or the\nobject-server won't start, and we have to grab a newer version of\neventlet.\n\nRelated-Bug: 1691075\nChange-Id: I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400\n""}, {'number': 7, 'created': '2019-05-02 20:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/70f0ca0237461e88644191aef484de381d477268', 'message': ""py3: add swift-dsvm-functional-py3 job\n\nNote that we have to ignore replication_concurrency on py3 or the\nobject-server won't start, and we have to grab a newer version of\neventlet.\n\nRelated-Bug: 1691075\nChange-Id: I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400\n""}, {'number': 8, 'created': '2019-05-02 22:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1605adcd31d063c212578b874ebe269caf63f804', 'message': ""py3: add swift-dsvm-functional-py3 job\n\nNote that we have to ignore replication_concurrency on py3 or the\nobject-server won't start, and we have to grab a newer version of\neventlet.\n\nRelated-Bug: 1691075\nChange-Id: I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400\n""}, {'number': 9, 'created': '2019-05-02 22:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/99bdcd04f4a9ddef9063c2dce501aca23a373c5a', 'message': ""py3: add swift-dsvm-functional-py3 job\n\nNote that we have to ignore replication_concurrency on py3 or the\nobject-server won't start, and we have to grab a newer version of\neventlet.\n\nRelated-Bug: 1691075\nChange-Id: I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400\nDepends-On: I104dd2bab8f522b5b132c9683183f584af984d4d\n""}, {'number': 10, 'created': '2019-06-17 20:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f3e8ff86ebdca899e27a0c954a987ce982206030', 'message': 'py3: add swift-dsvm-functional-py3 job\n\nNote that keystone wants to stick some UTF-8 encoded bytes into\nmemcached, but we want to store it as JSON... or something?\n\nChange-Id: I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400\n'}, {'number': 11, 'created': '2019-06-18 15:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6777c4ae1e28604a5a9d55dca7bbd6429c997de8', 'message': 'py3: add swift-dsvm-functional-py3 job\n\nNote that keystone wants to stick some UTF-8 encoded bytes into\nmemcached, but we want to store it as JSON... or something? Also,\nmake sure we open the socket file in binary mode.\n\nChange-Id: I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400\n'}, {'number': 12, 'created': '2019-06-19 05:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f2d504ed847f08952d9e323439f5620331f2bdf9', 'message': 'py3: add swift-dsvm-functional-py3 job\n\nNote that keystone wants to stick some UTF-8 encoded bytes into\nmemcached, but we want to store it as JSON... or something? Also,\nmake sure we open the socket file in binary mode.\n\nChange-Id: I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400\n'}, {'number': 13, 'created': '2019-06-20 04:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/19e9dc635cb41c5538159822dbc4b4302a90477b', 'message': ""py3: add swift-dsvm-functional-py3 job\n\nNote that keystone wants to stick some UTF-8 encoded bytes into\nmemcached, but we want to store it as JSON... or something?\n\nAlso, make sure we open the memcached socket file in binary mode.\n\nAlso, make sure we can hit memcache for containers with invalid UTF-8.\nAlthough maybe it'd be better to catch that before we ever try memcache?\n\nChange-Id: I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400\n""}, {'number': 14, 'created': '2019-06-22 05:38:43.000000000', 'files': ['swift/common/memcached.py', 'test/functional/tests.py', '.zuul.yaml', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/39a54fecdc5d7f9a09f34fcd9e81ec60948b51d7', 'message': ""py3: add swift-dsvm-functional-py3 job\n\nNote that keystone wants to stick some UTF-8 encoded bytes into\nmemcached, but we want to store it as JSON... or something?\n\nAlso, make sure we can hit memcache for containers with invalid UTF-8.\nAlthough maybe it'd be better to catch that before we ever try memcache?\n\nChange-Id: I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400\n""}]",14,653548,39a54fecdc5d7f9a09f34fcd9e81ec60948b51d7,53,7,14,15343,,,0,"py3: add swift-dsvm-functional-py3 job

Note that keystone wants to stick some UTF-8 encoded bytes into
memcached, but we want to store it as JSON... or something?

Also, make sure we can hit memcache for containers with invalid UTF-8.
Although maybe it'd be better to catch that before we ever try memcache?

Change-Id: I1fbe133c8ec73ef6644ecfcbb1931ddef94e0400
",git fetch https://review.opendev.org/openstack/swift refs/changes/48/653548/8 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,99a2779cd9645796f5e2765ae907ad530ac1c399,py3-devstack, # This tox env gets run twice; once for Keystone and once for tempauth name: swift-dsvm-functional-py3 parent: swift-dsvm-functional description: | Setup a Swift/Keystone environment under py3 and run Swift's func tests (also under py3). vars: # only run the subset expected to work on py3 tox_envlist: func-py37 # explicitly clear swift's default-disabled status devstack_localrc: DISABLED_PYTHON3_PACKAGES: '' - job: - swift-dsvm-functional-py3: irrelevant-files: - ^(api-ref|doc|releasenotes)/.*$ - ^test/probe/.*$ - ^(.gitreview|.mailmap|AUTHORS|CHANGELOG)$ - swift-dsvm-functional-py3: irrelevant-files: - ^(api-ref|doc|releasenotes)/.*$ - ^test/probe/.*$ - ^(.gitreview|.mailmap|AUTHORS|CHANGELOG)$, # This tox env get run twice; once for Keystone and once for tempauth,24,1
openstack%2Ftripleo-common~master~If7f9f2ce6f13d18fd864c475961275c611d84eb6,openstack/tripleo-common,master,If7f9f2ce6f13d18fd864c475961275c611d84eb6,Remove roles that have been imported into tripleo-ansible,MERGED,2019-06-24 13:47:00.000000000,2019-07-11 04:45:10.000000000,2019-07-10 06:11:41.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-24 13:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/365b291ac6b43059ed24b1da8e33b9afc87862a0', 'message': ""Remove roles that have been imported into tripleo-ansible\n\nThese roles have all been imported into tripleo-ansible and can now be removed\nfrom here. Several roles still remain in tripleo-common largely because they\nhave inflight changes which should be merged prior to doing the conversion.\nA follow on PR will be made to clean-up the remaining roles when they're\nready.\n\nDepends-On: I56a390f05193c7c004b7c1254575bddbb9d027fc\nChange-Id: If7f9f2ce6f13d18fd864c475961275c611d84eb6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 2, 'created': '2019-06-24 21:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/87534c2d44fbbcb9b454fedbe7d47d8bbb590f0d', 'message': ""Remove roles that have been imported into tripleo-ansible\n\nThese roles have all been imported into tripleo-ansible and can now be removed\nfrom here. Several roles still remain in tripleo-common largely because they\nhave inflight changes which should be merged prior to doing the conversion.\nA follow on PR will be made to clean-up the remaining roles when they're\nready.\n\nDepends-On: If34709e5bd2f3a50ad673c1c6744379476c06d1c\nChange-Id: If7f9f2ce6f13d18fd864c475961275c611d84eb6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 3, 'created': '2019-06-24 23:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7be8015dae0e66e4d8d08e9c573f121a619c8212', 'message': ""Remove roles that have been imported into tripleo-ansible\n\nThese roles have all been imported into tripleo-ansible and can now be removed\nfrom here. Several roles still remain in tripleo-common largely because they\nhave inflight changes which should be merged prior to doing the conversion.\nA follow on PR will be made to clean-up the remaining roles when they're\nready.\n\nDepends-On: Ib9be1d4910872fa38bc52fa2327bfdff37c03d06\nChange-Id: If7f9f2ce6f13d18fd864c475961275c611d84eb6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 4, 'created': '2019-06-24 23:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c1c43bd326c8add4a2b2041ea65e5dc8c8e9ae99', 'message': ""Remove roles that have been imported into tripleo-ansible\n\nThese roles have all been imported into tripleo-ansible and can now be removed\nfrom here. Several roles still remain in tripleo-common largely because they\nhave inflight changes which should be merged prior to doing the conversion.\nA follow on PR will be made to clean-up the remaining roles when they're\nready.\n\nDepends-On: If34709e5bd2f3a50ad673c1c6744379476c06d1c\nChange-Id: If7f9f2ce6f13d18fd864c475961275c611d84eb6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 5, 'created': '2019-06-26 19:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1b453fd6810723d615ad40a631f35172f87fdeec', 'message': ""Remove roles that have been imported into tripleo-ansible\n\nThese roles have all been imported into tripleo-ansible and can now be removed\nfrom here. Several roles still remain in tripleo-common largely because they\nhave inflight changes which should be merged prior to doing the conversion.\nA follow on PR will be made to clean-up the remaining roles when they're\nready.\n\nDepends-On: If34709e5bd2f3a50ad673c1c6744379476c06d1c\nChange-Id: If7f9f2ce6f13d18fd864c475961275c611d84eb6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 6, 'created': '2019-07-01 12:30:24.000000000', 'files': ['roles/tripleo-transfer/tasks/main.yml', 'roles/tripleo-bootstrap/defaults/main.yml', 'roles/tripleo-container-rm/tasks/docker.yaml', 'roles/tripleo-create-admin/README.md', 'roles/tripleo-module-load/templates/module-load.conf.j2', 'roles/tripleo-transfer/README.md', 'roles/tripleo-bootstrap/molecule/default/prepare.yml', 'roles/tripleo-docker-rm/README.md', 'roles/tripleo-docker-rm/tasks/main.yaml', 'roles/tripleo-image-serve/tasks/main.yml', 'roles/tripleo-image-serve/templates/image-serve.conf.j2', 'roles/tripleo-container-tag/tasks/main.yaml', 'roles/tripleo-docker-rm/defaults/main.yaml', 'roles/tripleo-image-serve/README.md', 'roles/tripleo-module-load/defaults/main.yaml', 'roles/tripleo-module-load/tasks/main.yaml', 'roles/tripleo-bootstrap/README.md', 'roles/tripleo-container-rm/tasks/podman.yaml', 'roles/tripleo-ssh-known-hosts/defaults/main.yml', 'roles/tripleo-ssh-known-hosts/README.md', 'zuul.d/layout.yaml', 'roles/tripleo-bootstrap/molecule/default/molecule.yml', 'roles/tripleo-container-rm/tasks/main.yaml', 'roles/tripleo-bootstrap/tasks/main.yml', 'roles/tripleo-transfer/test-playbook.yml', 'roles/tripleo-bootstrap/meta/main.yml', 'roles/tripleo-create-admin/defaults/main.yml', 'roles/tripleo-create-admin/tasks/main.yml', 'roles/tripleo-transfer/tasks/cleanup.yml', 'roles/tripleo-bootstrap/molecule/default/playbook.yml', 'roles/tripleo-image-serve/defaults/main.yml', 'roles/tripleo-container-tag/README.md', 'roles/tripleo-bootstrap/molecule/Dockerfile.j2', 'roles/tripleo-container-tag/defaults/main.yaml', 'roles/tripleo-create-admin/tasks/authorize_user.yml', 'roles/tripleo-bootstrap/handlers/main.yml', 'roles/tripleo-image-serve/handlers/main.yml', 'roles/tripleo-ssh-known-hosts/handlers/main.yml', 'roles/tripleo-container-rm/README.md', 'roles/tripleo-container-rm/defaults/main.yaml', 'roles/tripleo-ssh-known-hosts/tasks/main.yml', 'ansible_plugins/callback/json_error.py', 'roles/tripleo-transfer/defaults/main.yml', 'roles/tripleo-create-admin/tasks/create_user.yml', 'roles/tripleo-ssh-known-hosts/meta/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b485aa18035c2138aa2aa788ba28f062d5e68837', 'message': 'Remove roles that have been imported into tripleo-ansible\n\nThese roles have all been imported into tripleo-ansible and can now be removed\nfrom here. Several roles still remain in tripleo-common largely because they\nhave inflight changes which should be merged prior to doing the conversion.\nA follow on PR will be made to clean-up the remaining roles when they\'re\nready.\n\nThe zuul job layout has been udpated to remove the ""openstack-tox-molecule""\njob. This was done because we no longer need it in this repo; all of\nthe roles have been moved to tripleo-ansible.\n\nChange-Id: If7f9f2ce6f13d18fd864c475961275c611d84eb6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,667103,b485aa18035c2138aa2aa788ba28f062d5e68837,38,6,6,7353,,,0,"Remove roles that have been imported into tripleo-ansible

These roles have all been imported into tripleo-ansible and can now be removed
from here. Several roles still remain in tripleo-common largely because they
have inflight changes which should be merged prior to doing the conversion.
A follow on PR will be made to clean-up the remaining roles when they're
ready.

The zuul job layout has been udpated to remove the ""openstack-tox-molecule""
job. This was done because we no longer need it in this repo; all of
the roles have been moved to tripleo-ansible.

Change-Id: If7f9f2ce6f13d18fd864c475961275c611d84eb6
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/667103/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-bootstrap/defaults/main.yml', 'roles/tripleo-container-rm/tasks/docker.yaml', 'roles/tripleo-create-admin/README.md', 'roles/tripleo-module-load/templates/module-load.conf.j2', 'roles/tripleo-bootstrap/molecule/default/prepare.yml', 'roles/tripleo-docker-rm/README.md', 'roles/tripleo-docker-rm/tasks/main.yaml', 'roles/tripleo-image-serve/tasks/main.yml', 'roles/tripleo-image-serve/templates/image-serve.conf.j2', 'roles/tripleo-container-tag/tasks/main.yaml', 'roles/tripleo-docker-rm/defaults/main.yaml', 'roles/tripleo-image-serve/README.md', 'roles/tripleo-module-load/defaults/main.yaml', 'roles/tripleo-module-load/tasks/main.yaml', 'roles/tripleo-bootstrap/README.md', 'roles/tripleo-container-rm/tasks/podman.yaml', 'roles/tripleo-ssh-known-hosts/defaults/main.yml', 'roles/tripleo-ssh-known-hosts/README.md', 'roles/tripleo-bootstrap/molecule/default/molecule.yml', 'roles/tripleo-container-rm/tasks/main.yaml', 'roles/tripleo-bootstrap/tasks/main.yml', 'roles/tripleo-bootstrap/meta/main.yml', 'roles/tripleo-create-admin/defaults/main.yml', 'roles/tripleo-create-admin/tasks/main.yml', 'roles/tripleo-bootstrap/molecule/default/playbook.yml', 'roles/tripleo-image-serve/defaults/main.yml', 'roles/tripleo-container-tag/README.md', 'roles/tripleo-bootstrap/molecule/Dockerfile.j2', 'roles/tripleo-container-tag/defaults/main.yaml', 'roles/tripleo-create-admin/tasks/authorize_user.yml', 'roles/tripleo-bootstrap/handlers/main.yml', 'roles/tripleo-image-serve/handlers/main.yml', 'roles/tripleo-ssh-known-hosts/handlers/main.yml', 'roles/tripleo-container-rm/README.md', 'roles/tripleo-container-rm/defaults/main.yaml', 'roles/tripleo-ssh-known-hosts/tasks/main.yml', 'ansible_plugins/callback/json_error.py', 'roles/tripleo-create-admin/tasks/create_user.yml', 'roles/tripleo-ssh-known-hosts/meta/main.yml']",39,365b291ac6b43059ed24b1da8e33b9afc87862a0,role-removal,,--- ,0,883
openstack%2Fzun~master~I1bad75ca91032508147e378ddc8567b41e7b0a88,openstack/zun,master,I1bad75ca91032508147e378ddc8567b41e7b0a88,[WIP] No additional property for capsule spec,NEW,2019-07-11 03:08:08.000000000,2019-07-11 04:07:43.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-11 03:08:08.000000000', 'files': ['zun/api/controllers/v1/schemas/parameter_types.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/eb7a940df4b2b41e622e2a4405e4dfaedc1589f5', 'message': '[WIP] No additional property for capsule spec\n\nChange-Id: I1bad75ca91032508147e378ddc8567b41e7b0a88\n'}]",0,670221,eb7a940df4b2b41e622e2a4405e4dfaedc1589f5,3,2,1,11536,,,0,"[WIP] No additional property for capsule spec

Change-Id: I1bad75ca91032508147e378ddc8567b41e7b0a88
",git fetch https://review.opendev.org/openstack/zun refs/changes/21/670221/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/api/controllers/v1/schemas/parameter_types.py'],1,eb7a940df4b2b41e622e2a4405e4dfaedc1589f5,," ""additionalProperties"": False,"," ""additionalProperties"": True,",1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I886f2b8ac7092d9b3da38852e92a615d5666eea7,openstack/tripleo-heat-templates,stable/stein,I886f2b8ac7092d9b3da38852e92a615d5666eea7,Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long,MERGED,2019-07-08 13:48:04.000000000,2019-07-11 03:54:02.000000000,2019-07-11 03:54:02.000000000,"[{'_account_id': 3153}, {'_account_id': 5756}, {'_account_id': 6579}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-08 13:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ddf06789c1182683eb4024d8f81591bda551786', 'message': 'Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long\n\nCloses-bug: #1833942\n\nDepends-On: I5c2629d9e7700fe1dd6f915bc257b1f058e40617\nDepends-On: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\nChange-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n'}, {'number': 2, 'created': '2019-07-08 13:49:51.000000000', 'files': ['deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'releasenotes/notes/input-validation-server_certs_key_passphrase-908471f31d09f088.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cfb8e97867e2cd546efcb46303ae8583765d3876', 'message': 'Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long\n\nCloses-bug: #1833942\n\nDepends-On: I5c2629d9e7700fe1dd6f915bc257b1f058e40617\nDepends-On: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\nChange-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n(cherry picked from commit a6fef3aad6f6f3171eb38b7d25c62a5bb485e67f)\n'}]",0,669667,cfb8e97867e2cd546efcb46303ae8583765d3876,26,8,2,6579,,,0,"Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long

Closes-bug: #1833942

Depends-On: I5c2629d9e7700fe1dd6f915bc257b1f058e40617
Depends-On: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989
Change-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7
(cherry picked from commit a6fef3aad6f6f3171eb38b7d25c62a5bb485e67f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/669667/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'releasenotes/notes/input-validation-server_certs_key_passphrase-908471f31d09f088.yaml']",3,9ddf06789c1182683eb4024d8f81591bda551786,OctaviaServerCertsKeyPassphrase-32chars,"--- fixes: - The passphrase for config option 'server_certs_key_passphrase', is used as a Fernet key in Octavia and thus must be 32 bytes long. In the case of an operator-provided passphrase, TripleO will validate that. ",,11,2
openstack%2Fpython-zunclient~master~I6ad014650aa0e5787ee18a83a2c91dec4f85534d,openstack/python-zunclient,master,I6ad014650aa0e5787ee18a83a2c91dec4f85534d,Add Python 3 Train unit tests,MERGED,2019-07-05 21:07:23.000000000,2019-07-11 03:38:36.000000000,2019-07-11 03:38:36.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 21:07:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/8f25bb487196dc835b88e5c95bcce8d001cb91b6', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I6ad014650aa0e5787ee18a83a2c91dec4f85534d\nStory: #2005924\nTask: #34259\n'}]",0,669533,8f25bb487196dc835b88e5c95bcce8d001cb91b6,6,2,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I6ad014650aa0e5787ee18a83a2c91dec4f85534d
Story: #2005924
Task: #34259
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/33/669533/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8f25bb487196dc835b88e5c95bcce8d001cb91b6,python3-train,"envlist = py27,py37,pep8","envlist = py37,py36,py27,pep8",1,1
openstack%2Fpython-zunclient~master~I669171297a48e55430e8ce3110c4a30c20351678,openstack/python-zunclient,master,I669171297a48e55430e8ce3110c4a30c20351678,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-02 06:34:48.000000000,2019-07-11 03:34:48.000000000,2019-07-11 03:34:47.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 06:34:48.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/01de952b82dbe773aa73cd578de542c486c2bcfe', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nCorrect the wrong theme\n\nChange-Id: I669171297a48e55430e8ce3110c4a30c20351678\n'}]",0,668611,01de952b82dbe773aa73cd578de542c486c2bcfe,6,2,1,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Correct the wrong theme

Change-Id: I669171297a48e55430e8ce3110c4a30c20351678
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/11/668611/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py']",3,01de952b82dbe773aa73cd578de542c486c2bcfe,openstackdocstheme,html_theme = 'openstackdocs',"project = u'python-zunclient Release Notes'# The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' html_theme = 'default'latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",2,26
openstack%2Fwatcher-specs~master~If2a6bbcd1faa735e93eabbbdb4cc99ae324fd85f,openstack/watcher-specs,master,If2a6bbcd1faa735e93eabbbdb4cc99ae324fd85f,Improve Compute Data Model,MERGED,2019-07-02 09:08:01.000000000,2019-07-11 03:06:31.000000000,2019-07-11 03:06:31.000000000,"[{'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-07-02 09:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/d2569b27d19be2df70e0c205f51258dd2e07544f', 'message': 'Improve Compute Data Model\n\nThe fields(vcpus, memory and disk_capacity) in the Watcher ComputeNode\ndo not take allocation ratios used for overcommit into account so there\nmay be disparity between this and the used count. We need to add some\nfields to solve this problem.\n\nChange-Id: If2a6bbcd1faa735e93eabbbdb4cc99ae324fd85f\nImplements: blueprint improve-compute-data-model\n'}, {'number': 2, 'created': '2019-07-02 09:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/a1df58d45476a20c7da52345b415fc35c5320450', 'message': 'Improve Compute Data Model\n\nThe fields(vcpus, memory and disk_capacity) in the Watcher ComputeNode\ndo not take allocation ratios used for overcommit into account so there\nmay be disparity between this and the used count. We need to add some\nfields to solve this problem.\n\nChange-Id: If2a6bbcd1faa735e93eabbbdb4cc99ae324fd85f\nImplements: blueprint improve-compute-data-model\n'}, {'number': 3, 'created': '2019-07-04 03:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/0aa0377c5de2ad78b87dd1f291df3d31866da620', 'message': 'Improve Compute Data Model\n\nThe fields(vcpus, memory and disk_capacity) in the Watcher ComputeNode\ndo not take allocation ratios used for overcommit into account so there\nmay be disparity between this and the used count. We need to add some\nfields to solve this problem.\n\nChange-Id: If2a6bbcd1faa735e93eabbbdb4cc99ae324fd85f\nImplements: blueprint improve-compute-data-model\n'}, {'number': 4, 'created': '2019-07-04 05:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/759002338d8512f008216b42dce28e86ebbcd7e5', 'message': 'Improve Compute Data Model\n\nThe fields(vcpus, memory and disk_capacity) in the Watcher ComputeNode\ndo not take allocation ratios used for overcommit into account so there\nmay be disparity between this and the used count. We need to add some\nfields to solve this problem.\n\nChange-Id: If2a6bbcd1faa735e93eabbbdb4cc99ae324fd85f\nImplements: blueprint improve-compute-data-model\n'}, {'number': 5, 'created': '2019-07-05 05:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/aae291bd2531f81c95dcfbb7648db9325b788e5d', 'message': 'Improve Compute Data Model\n\nThe fields(vcpus, memory and disk_capacity) in the Watcher ComputeNode\ndo not take allocation ratios used for overcommit into account so there\nmay be disparity between this and the used count. We need to add some\nfields to solve this problem.\n\nChange-Id: If2a6bbcd1faa735e93eabbbdb4cc99ae324fd85f\nImplements: blueprint improve-compute-data-model\n'}, {'number': 6, 'created': '2019-07-08 05:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/b511d16b1a14a7653a043b37722436d51bcd66d0', 'message': 'Improve Compute Data Model\n\nThe fields(vcpus, memory and disk_capacity) in the Watcher ComputeNode\ndo not take allocation ratios used for overcommit into account so there\nmay be disparity between this and the used count. We need to add some\nfields to solve this problem.\n\nChange-Id: If2a6bbcd1faa735e93eabbbdb4cc99ae324fd85f\nImplements: blueprint improve-compute-data-model\n'}, {'number': 7, 'created': '2019-07-10 06:29:24.000000000', 'files': ['specs/train/approved/improve-compute-data-model.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/cd6c31a197de8541c33cab70ba02e7c93476f744', 'message': 'Improve Compute Data Model\n\nThe fields(vcpus, memory and disk_capacity) in the Watcher ComputeNode\ndo not take allocation ratios used for overcommit into account so there\nmay be disparity between this and the used count. We need to add some\nfields to solve this problem.\n\nChange-Id: If2a6bbcd1faa735e93eabbbdb4cc99ae324fd85f\nImplements: blueprint improve-compute-data-model\n'}]",12,668639,cd6c31a197de8541c33cab70ba02e7c93476f744,29,8,7,21692,,,0,"Improve Compute Data Model

The fields(vcpus, memory and disk_capacity) in the Watcher ComputeNode
do not take allocation ratios used for overcommit into account so there
may be disparity between this and the used count. We need to add some
fields to solve this problem.

Change-Id: If2a6bbcd1faa735e93eabbbdb4cc99ae324fd85f
Implements: blueprint improve-compute-data-model
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/39/668639/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/improve-compute-data-model.rst'],1,d2569b27d19be2df70e0c205f51258dd2e07544f,bp/improve-compute-data-model,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================== Improve Compute Data Model ========================== https://blueprints.launchpad.net/watcher/+spec/improve-compute-data-model Problem description =================== The fields(vcpus, memory and disk_capacity) in the Watcher ComputeNode correspond to the fields(vcpus, memory_mb and local_gb) in Nova API `list-hypervisors-details`_. unfortunately, these fields do not take allocation ratios used for overcommit into account so there may be disparity between this and the used count. .. _list-hypervisors-details: https://developer.openstack.org/api-ref/compute/?expanded=list-hypervisors-details-detail#list-hypervisors-details Use Cases ---------- As a Watcher user, I wish Watcher can work correctly in the case of overcommit resources(cpu, memory and disk). Proposed change =============== Now Watcher had added `Placement helper`_. Watcher can get allocation ratios from Placement. We need to add some fields to the Watcher ComputeNode: * vcpus_used: the number of vcpu used in this node. * cpu_ratio: CPU allocation ratio. * memory_mb_used: The memory used in this node(in MiB). * ram_ratio: Memory allocation ratio. * disk_gb_used: The disk used in this node(in GiB). * disk_ratio: Disk allocation ratio. We can calculate the free resource through the total, used and allocation ratio. For example, for vcpu resource with: :: vcpu = 8 vcpu_used = 16 cpu_ratio = 5.0 The free vcpus is equal to 24. .. _Placement helper: http://specs.openstack.org/openstack/watcher-specs/specs/train/approved/support-placement-api.html Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: licanwei Work Items ---------- * Add new fields to Watcher ComputeNode * Update compute collector * Update the processing about Nova notifications Dependencies ============ None Testing ======= Add unit test Documentation Impact ==================== None References ========== https://developer.openstack.org/api-ref/compute/ https://developer.openstack.org/api-ref/placement/ History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced ",,159,0
openstack%2Fansible-role-container-registry~master~Id8bfea751a7239fd9be6e9dbbb5a0a700e29b64e,openstack/ansible-role-container-registry,master,Id8bfea751a7239fd9be6e9dbbb5a0a700e29b64e,Covert lookup to query,MERGED,2019-07-10 19:53:39.000000000,2019-07-11 02:11:40.000000000,2019-07-11 02:11:40.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-10 19:53:39.000000000', 'files': ['tasks/docker-login.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/b295cc9aefc5b6635312067b4b399f20664d4412', 'message': 'Covert lookup to query\n\nThis change updates our loop so that it will expect a list.\n\nMore on the query lookup can be seen here[0]\n\n[0] https://docs.ansible.com/ansible/2.6/plugins/lookup.html#invoking-lookup-plugins-with-query\n\nChange-Id: Id8bfea751a7239fd9be6e9dbbb5a0a700e29b64e\nCloses-Bug: #1835657\nRelated-Bug: #1833584\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,670174,b295cc9aefc5b6635312067b4b399f20664d4412,8,3,1,7353,,,0,"Covert lookup to query

This change updates our loop so that it will expect a list.

More on the query lookup can be seen here[0]

[0] https://docs.ansible.com/ansible/2.6/plugins/lookup.html#invoking-lookup-plugins-with-query

Change-Id: Id8bfea751a7239fd9be6e9dbbb5a0a700e29b64e
Closes-Bug: #1835657
Related-Bug: #1833584
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/74/670174/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/docker-login.yml'],1,b295cc9aefc5b6635312067b4b399f20664d4412,bug/1835657," loop: ""{{ query('dict', container_registry_logins) }}"""," loop: ""{{ lookup('dict', container_registry_logins) }}""",1,2
openstack%2Ftripleo-heat-templates~master~I136fb7aa864a2a3668f5a3845f3ded28b13bfe43,openstack/tripleo-heat-templates,master,I136fb7aa864a2a3668f5a3845f3ded28b13bfe43,Use Ansible for {{role}} and host_extraconfig hieradata,MERGED,2019-07-03 13:48:31.000000000,2019-07-11 01:52:40.000000000,2019-07-11 01:52:40.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-03 13:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e88aa52862270feaf714f6169d81a7add1e44d80', 'message': 'Use Ansible for {{role}} and host_extraconfig hieradata\n\nMigrates these hieradata files to use the cloud_domain and fqdn\ntemplates from tripleo-hieradata. The templates have more meaningful\nnames to actually represent the data that these hieradata files contain.\n\nDetailed changes:\ncommon/deploy-steps.j2:\n  Add parameter for CloudDomain and add it to the Ansible global vars\n  Remove the Per-host hieradata tasks and parameters as they are no longer used\n  Add cloud_domain and fqdn to list of templates for tripleo-hieradata\novercloud.j2.yaml:\n  Add role_networks to HieradataVars for each role\n  Replace {{role}} and host_extraconfig from hieradata hierarchy with\n    cloud_domain and fqdn.\npuppet/role.role.j2.yaml:\n  Remove {{role}} hieradata from hieradata Datafiles as the template is\n    now used instead.\n  Remove per host hieradata resources and output as they are no longer\n    used.\n\nDepends-On: I9c038399fccc4730b73e1a52281d7256ea689ee9\nChange-Id: I136fb7aa864a2a3668f5a3845f3ded28b13bfe43\n'}, {'number': 2, 'created': '2019-07-10 18:13:03.000000000', 'files': ['overcloud.j2.yaml', 'common/deploy-steps.j2', 'puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c5ba2cec81900fa086b6a9e72cd7e2dccf4b0b17', 'message': 'Use Ansible for {{role}} and host_extraconfig hieradata\n\nMigrates these hieradata files to use the cloud_domain and fqdn\ntemplates from tripleo-hieradata. The templates have more meaningful\nnames to actually represent the data that these hieradata files contain.\n\nDetailed changes:\ncommon/deploy-steps.j2:\n  Add parameter for CloudDomain and add it to the Ansible global vars\n  Remove the Per-host hieradata tasks and parameters as they are no longer used\n  Add cloud_domain and fqdn to list of templates for tripleo-hieradata\novercloud.j2.yaml:\n  Add role_networks to HieradataVars for each role\n  Replace {{role}} and host_extraconfig from hieradata hierarchy with\n    cloud_domain and fqdn.\npuppet/role.role.j2.yaml:\n  Remove {{role}} hieradata from hieradata Datafiles as the template is\n    now used instead.\n  Remove per host hieradata resources and output as they are no longer\n    used.\n\nDepends-On: I9c038399fccc4730b73e1a52281d7256ea689ee9\nChange-Id: I136fb7aa864a2a3668f5a3845f3ded28b13bfe43\n'}]",0,668910,c5ba2cec81900fa086b6a9e72cd7e2dccf4b0b17,30,5,2,7144,,,0,"Use Ansible for {{role}} and host_extraconfig hieradata

Migrates these hieradata files to use the cloud_domain and fqdn
templates from tripleo-hieradata. The templates have more meaningful
names to actually represent the data that these hieradata files contain.

Detailed changes:
common/deploy-steps.j2:
  Add parameter for CloudDomain and add it to the Ansible global vars
  Remove the Per-host hieradata tasks and parameters as they are no longer used
  Add cloud_domain and fqdn to list of templates for tripleo-hieradata
overcloud.j2.yaml:
  Add role_networks to HieradataVars for each role
  Replace {{role}} and host_extraconfig from hieradata hierarchy with
    cloud_domain and fqdn.
puppet/role.role.j2.yaml:
  Remove {{role}} hieradata from hieradata Datafiles as the template is
    now used instead.
  Remove per host hieradata resources and output as they are no longer
    used.

Depends-On: I9c038399fccc4730b73e1a52281d7256ea689ee9
Change-Id: I136fb7aa864a2a3668f5a3845f3ded28b13bfe43
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/668910/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'common/deploy-steps.j2', 'puppet/role.role.j2.yaml']",3,e88aa52862270feaf714f6169d81a7add1e44d80,bp/reduce-deployment-resources,," {{role.name.lower()}}: tripleo::clouddomain: {get_param: CloudDomain} {{server_resource_name}}PerHostHieradata: type: OS::Heat::Value properties: type: json value: datafiles: host_extraconfig: {get_attr: [{{server_resource_name}}AnsibleHostVars, value]} per_host_hieradata_map: description: | Map of Hieradata specific per host. value: map_replace: - host: {get_attr: [{{server_resource_name}}PerHostHieradata, value]} - keys: host: {get_attr: [{{server_resource_name}}, name]}",17,38
openstack%2Ftripleo-heat-templates~master~Ib30e8347e1a50efec2b6a97482dc98c383cb7cf7,openstack/tripleo-heat-templates,master,Ib30e8347e1a50efec2b6a97482dc98c383cb7cf7,Use Ansible for net_ip_map hieradata,MERGED,2019-07-02 15:51:14.000000000,2019-07-11 01:52:38.000000000,2019-07-11 01:52:38.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-07-02 15:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/77f3bee9e26c5fda52e75cd8b55b67e9c9be0b8e', 'message': 'Use Ansible for net_ip_map hieradata\n\nMigrates the net_ip_map hieradata from Heat to the tripleo-hieradata\nrole.\n\nDetailed changes:\nnetwork/ports/port.j2:\n  cidr output added for the network subnet cidr of the port\n  port for a role\npuppet/role.role.j2.yaml:\n  {{network.name}}_cidr output added for the each networks subnet cidr\n  Remove the net_ip_map hieradata from the per host datafiles generated\n  by Heat as tripleo-hieradata template will be used instead.\novercloud.j2.yaml:\n  consume cidr outputs from the roles, as well as the ctlplane subnet\n  cidr and set them as hieradata vars that get passed into the\n  templating process for tripleo-hieradata\ncommon/deploy-steps.j2:\n  Add a networks data structure to the global vars setting some needed\n  vars for tripleo-heiradata.\n  Use the net_ip_map template from tripleo-hieradata\n\nChange-Id: Ib30e8347e1a50efec2b6a97482dc98c383cb7cf7\nDepends-On: Iaec3654900f250eacf39c7748df166b716937358\n'}, {'number': 2, 'created': '2019-07-03 13:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f6f4774098de317709b0b758950259b92b51c5b7', 'message': 'Use Ansible for net_ip_map hieradata\n\nMigrates the net_ip_map hieradata from Heat to the tripleo-hieradata\nrole.\n\nDetailed changes:\nnetwork/ports/port.j2:\n  cidr output added for the network subnet cidr of the port\n  port for a role\nnetwork/ports/noop.yaml:\n  cidr output for compatiblity with port template interface\npuppet/role.role.j2.yaml:\n  {{network.name}}_cidr output added for the each networks subnet cidr\n  Remove the net_ip_map hieradata from the per host datafiles generated\n  by Heat as tripleo-hieradata template will be used instead.\novercloud.j2.yaml:\n  consume cidr outputs from the roles, as well as the ctlplane subnet\n  cidr and set them as hieradata vars that get passed into the\n  templating process for tripleo-hieradata\ncommon/deploy-steps.j2:\n  Add a networks data structure to the global vars setting some needed\n  vars for tripleo-heiradata.\n  Use the net_ip_map template from tripleo-hieradata\n\nChange-Id: Ib30e8347e1a50efec2b6a97482dc98c383cb7cf7\nDepends-On: Iaec3654900f250eacf39c7748df166b716937358\n'}, {'number': 3, 'created': '2019-07-10 18:12:48.000000000', 'files': ['network/ports/noop.yaml', 'overcloud.j2.yaml', 'common/deploy-steps.j2', 'puppet/role.role.j2.yaml', 'network/ports/port.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27e7005ad435bdd7684ca5ff7ac5f3f89dcb7142', 'message': 'Use Ansible for net_ip_map hieradata\n\nMigrates the net_ip_map hieradata from Heat to the tripleo-hieradata\nrole.\n\nDetailed changes:\nnetwork/ports/port.j2:\n  cidr output added for the network subnet cidr of the port\n  port for a role\nnetwork/ports/noop.yaml:\n  cidr output for compatiblity with port template interface\npuppet/role.role.j2.yaml:\n  {{network.name}}_cidr output added for the each networks subnet cidr\n  Remove the net_ip_map hieradata from the per host datafiles generated\n  by Heat as tripleo-hieradata template will be used instead.\novercloud.j2.yaml:\n  consume cidr outputs from the roles, as well as the ctlplane subnet\n  cidr and set them as hieradata vars that get passed into the\n  templating process for tripleo-hieradata\ncommon/deploy-steps.j2:\n  Add a networks data structure to the global vars setting some needed\n  vars for tripleo-heiradata.\n  Use the net_ip_map template from tripleo-hieradata\n\nChange-Id: Ib30e8347e1a50efec2b6a97482dc98c383cb7cf7\nDepends-On: Iaec3654900f250eacf39c7748df166b716937358\n'}]",0,668702,27e7005ad435bdd7684ca5ff7ac5f3f89dcb7142,26,6,3,7144,,,0,"Use Ansible for net_ip_map hieradata

Migrates the net_ip_map hieradata from Heat to the tripleo-hieradata
role.

Detailed changes:
network/ports/port.j2:
  cidr output added for the network subnet cidr of the port
  port for a role
network/ports/noop.yaml:
  cidr output for compatiblity with port template interface
puppet/role.role.j2.yaml:
  {{network.name}}_cidr output added for the each networks subnet cidr
  Remove the net_ip_map hieradata from the per host datafiles generated
  by Heat as tripleo-hieradata template will be used instead.
overcloud.j2.yaml:
  consume cidr outputs from the roles, as well as the ctlplane subnet
  cidr and set them as hieradata vars that get passed into the
  templating process for tripleo-hieradata
common/deploy-steps.j2:
  Add a networks data structure to the global vars setting some needed
  vars for tripleo-heiradata.
  Use the net_ip_map template from tripleo-hieradata

Change-Id: Ib30e8347e1a50efec2b6a97482dc98c383cb7cf7
Depends-On: Iaec3654900f250eacf39c7748df166b716937358
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/668702/3 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'common/deploy-steps.j2', 'network/ports/port.j2', 'puppet/role.role.j2.yaml']",4,77f3bee9e26c5fda52e75cd8b55b67e9c9be0b8e,bp/reduce-deployment-resources," {%- for network in networks %} {%- if network.enabled|default(true) and network.name in role.networks|default([]) %} {{network.name}}_cidr: value: {get_attr: [{{network.name}}Port, cidr]} {%- endif %} {%- endfor %}"," net_ip_map: {get_attr: [NetIpMap, net_ip_map]}",32,2
openstack%2Fopenstack-ansible-os_glance~master~I0d92ec87a56ac9d70e82c952ec2bbdb5fd0cba42,openstack/openstack-ansible-os_glance,master,I0d92ec87a56ac9d70e82c952ec2bbdb5fd0cba42,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-05-05 12:38:40.000000000,2019-07-11 01:51:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-05 12:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/99058f6f4e449f03da4be46d99aa121380ed0b0e', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I0d92ec87a56ac9d70e82c952ec2bbdb5fd0cba42\n'}, {'number': 2, 'created': '2019-05-06 11:07:56.000000000', 'files': ['tests/ansible-role-requirements.yml', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/3ed583dca269a3358247d6da0d90f8f22bdbe6fe', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I0d92ec87a56ac9d70e82c952ec2bbdb5fd0cba42\n'}]",0,657252,3ed583dca269a3358247d6da0d90f8f22bdbe6fe,5,1,2,17130,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I0d92ec87a56ac9d70e82c952ec2bbdb5fd0cba42
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/52/657252/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,99058f6f4e449f03da4be46d99aa121380ed0b0e,, src: https://opendev..org/openstack/openstack-ansible-apt_package_pinning src: https://opendev.org/openstack/openstack-ansible-pip_install src: https://opendev.org/openstack/openstack-ansible-memcached_server src: https://opendev.org/openstack/openstack-ansible-openstack_hosts src: https://opendev.org/openstack/openstack-ansible-lxc_hosts src: https://opendev.org/openstack/openstack-ansible-lxc_container_create src: https://opendev.org/openstack/openstack-ansible-galera_client src: https://opendev.org/openstack/openstack-ansible-galera_server src: https://opendev.org/openstack/openstack-ansible-rabbitmq_server src: https://opendev.org/openstack/openstack-ansible-os_keystone src: https://opendev.org/openstack/openstack-ansible-openstack_openrc src: https://opendev.org/openstack/openstack-ansible-ceph_client src: https://opendev.org/openstack/openstack-ansible-os_tempest src: https://opendev.org/openstack/ansible-role-systemd_service src: https://opendev.org/openstack/ansible-role-systemd_mount src: https://opendev.org/openstack/ansible-role-python_venv_build, src: https://git.openstack.org/openstack/openstack-ansible-apt_package_pinning src: https://git.openstack.org/openstack/openstack-ansible-pip_install src: https://git.openstack.org/openstack/openstack-ansible-memcached_server src: https://git.openstack.org/openstack/openstack-ansible-openstack_hosts src: https://git.openstack.org/openstack/openstack-ansible-lxc_hosts src: https://git.openstack.org/openstack/openstack-ansible-lxc_container_create src: https://git.openstack.org/openstack/openstack-ansible-galera_client src: https://git.openstack.org/openstack/openstack-ansible-galera_server src: https://git.openstack.org/openstack/openstack-ansible-rabbitmq_server src: https://git.openstack.org/openstack/openstack-ansible-os_keystone src: https://git.openstack.org/openstack/openstack-ansible-openstack_openrc src: https://git.openstack.org/openstack/openstack-ansible-ceph_client src: https://git.openstack.org/openstack/openstack-ansible-os_tempest src: https://git.openstack.org/openstack/ansible-role-systemd_service src: https://git.openstack.org/openstack/ansible-role-systemd_mount src: https://git.openstack.org/openstack/ansible-role-python_venv_build,16,16
openstack%2Fopenstack-ansible-os_horizon~stable%2Fstein~Iaa41593e3a91640bd9c5d531da8238c04d7e747b,openstack/openstack-ansible-os_horizon,stable/stein,Iaa41593e3a91640bd9c5d531da8238c04d7e747b,Fix distro installs on Ubuntu,MERGED,2019-06-11 21:08:10.000000000,2019-07-11 00:38:51.000000000,2019-07-11 00:38:51.000000000,"[{'_account_id': 1004}, {'_account_id': 14805}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-11 21:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/0296b0b27e621b3ff1a5603b216162bb6dbc7c89', 'message': ""Fix distro installs on Ubuntu\n\nBeginning in the Stein release, Ubuntu distro packages are now using\nPython3. Conflicting packages have been removed or updated to their\nPython3 equivalents. The 'horizon_manage' variable has been updated to\nensure that python3 is used to run manage.py commands.\n\nValues for STATIC_ROOT and LOCALE_PATHS have also been added to the\nlocal_settings.py template. Defaults for these settings are defined\nin the setting.py provided by Ubuntu packages, but those defaults\nrequired the 'Collect and compress static files' and 'Compile messages'\ntasks be run by the root user, instead of horizon. STATIC_ROOT also\nneeded to correlate to the folder apache is configured to serve.\n\nChange-Id: Iaa41593e3a91640bd9c5d531da8238c04d7e747b\n(cherry picked from commit 67db4e81a94b3ab04f29c7bf82a84daee439eaf2)\n""}, {'number': 2, 'created': '2019-06-26 23:04:52.000000000', 'files': ['vars/distro_install.yml', 'vars/debian.yml', 'templates/horizon_local_settings.py.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/e99e81dad4ebba32d1b7e96964ba9ba637fe8525', 'message': ""Fix distro installs on Ubuntu\n\nBeginning in the Stein release, Ubuntu distro packages are now using\nPython3. Conflicting packages have been removed or updated to their\nPython3 equivalents. The 'horizon_manage' variable has been updated to\nensure that python3 is used to run manage.py commands.\n\nValues for STATIC_ROOT and LOCALE_PATHS have also been added to the\nlocal_settings.py template. Defaults for these settings are defined\nin the setting.py provided by Ubuntu packages, but those defaults\nrequired the 'Collect and compress static files' and 'Compile messages'\ntasks be run by the root user, instead of horizon. STATIC_ROOT also\nneeded to correlate to the folder apache is configured to serve.\n\nOnly install py3 version of libapache2-mod-wsgi for ubuntu distro\ninstalls.\n\nChange-Id: Iaa41593e3a91640bd9c5d531da8238c04d7e747b\n(cherry picked from commit 67db4e81a94b3ab04f29c7bf82a84daee439eaf2)\n(cherry picked from commit f5829f517c19e9283ccf6e9b5551e03994f895a4)\n""}]",0,664696,e99e81dad4ebba32d1b7e96964ba9ba637fe8525,13,4,2,14805,,,0,"Fix distro installs on Ubuntu

Beginning in the Stein release, Ubuntu distro packages are now using
Python3. Conflicting packages have been removed or updated to their
Python3 equivalents. The 'horizon_manage' variable has been updated to
ensure that python3 is used to run manage.py commands.

Values for STATIC_ROOT and LOCALE_PATHS have also been added to the
local_settings.py template. Defaults for these settings are defined
in the setting.py provided by Ubuntu packages, but those defaults
required the 'Collect and compress static files' and 'Compile messages'
tasks be run by the root user, instead of horizon. STATIC_ROOT also
needed to correlate to the folder apache is configured to serve.

Only install py3 version of libapache2-mod-wsgi for ubuntu distro
installs.

Change-Id: Iaa41593e3a91640bd9c5d531da8238c04d7e747b
(cherry picked from commit 67db4e81a94b3ab04f29c7bf82a84daee439eaf2)
(cherry picked from commit f5829f517c19e9283ccf6e9b5551e03994f895a4)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/96/664696/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/distro_install.yml', 'vars/debian.yml', 'templates/horizon_local_settings.py.j2']",3,0296b0b27e621b3ff1a5603b216162bb6dbc7c89,ubuntu-distro-install-stable/stein,"STATIC_ROOT = '{{ horizon_lib_dir }}/static' LOCALE_PATHS = [ 'horizon/locale', 'openstack_dashboard/locale', ] ",,15,7
openstack%2Ftripleo-ci~master~I49b74476170c06ccd847c08318f4fc501b690924,openstack/tripleo-ci,master,I49b74476170c06ccd847c08318f4fc501b690924,Adds tripleo-tox-molecule,MERGED,2019-07-09 19:43:56.000000000,2019-07-11 00:31:41.000000000,2019-07-11 00:31:41.000000000,"[{'_account_id': 6547}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9061}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-07-09 19:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d51d38b64f5dc94a60cf9309c28c539eba66807a', 'message': 'Adds tripleo-tox-molecule\n\nThis new template should be used by tripleo jobs that need molecule\nbut also need to use extra required-projects in order to enable us of\nDepends-On.\n\nThe job is similar to openstack-tox-molecule but with extra bits\nfor tripleo.\n\nChange-Id: I49b74476170c06ccd847c08318f4fc501b690924\nDepends-On: https://review.opendev.org/#/c/669871/\n'}, {'number': 2, 'created': '2019-07-09 20:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9907e78e574e4a741d6870bcc00350c96e268407', 'message': 'Adds tripleo-tox-molecule\n\nThis new template should be used by tripleo jobs that need molecule\nbut also need to use extra required-projects in order to enable us of\nDepends-On.\n\nThe job is similar to openstack-tox-molecule but with extra bits\nfor tripleo.\n\nChange-Id: I49b74476170c06ccd847c08318f4fc501b690924\nDepends-On: https://review.opendev.org/#/c/669871/\n'}, {'number': 3, 'created': '2019-07-09 20:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3233f7ab50517e7b44bbc9c69bd6b2250919e39e', 'message': 'Adds tripleo-tox-molecule\n\nThis new template should be used by tripleo jobs that need molecule\nbut also need to use extra required-projects in order to enable us of\nDepends-On.\n\nThe job is similar to openstack-tox-molecule but with extra bits\nfor tripleo.\n\nChange-Id: I49b74476170c06ccd847c08318f4fc501b690924\nDepends-On: https://review.opendev.org/#/c/669871/\n'}, {'number': 4, 'created': '2019-07-09 21:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/29371d0a9a1814038ad1be02971b84adb18ff8ab', 'message': 'Adds tripleo-tox-molecule\n\nThis new template should be used by tripleo jobs that need molecule\nbut also need to use extra required-projects in order to enable us of\nDepends-On.\n\nThe job is similar to openstack-tox-molecule but with extra bits\nfor tripleo.\n\nChange-Id: I49b74476170c06ccd847c08318f4fc501b690924\nDepends-On: https://review.opendev.org/#/c/669871/\n'}, {'number': 5, 'created': '2019-07-09 21:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f10b188c4c184c199a5fc4e50a7580a5414424ba', 'message': 'Adds tripleo-tox-molecule\n\nThis new template should be used by tripleo jobs that need molecule\nbut also need to use extra required-projects in order to enable us of\nDepends-On.\n\nThe job is similar to openstack-tox-molecule but with extra bits\nfor tripleo.\n\nChange-Id: I49b74476170c06ccd847c08318f4fc501b690924\nDepends-On: https://review.opendev.org/#/c/669871/\n'}, {'number': 6, 'created': '2019-07-09 21:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a65fe4810ac8886c0966a1b71a2f9c26990fa3e4', 'message': 'Adds tripleo-tox-molecule\n\nThis new template should be used by tripleo jobs that need molecule\nbut also need to use extra required-projects in order to enable us of\nDepends-On.\n\nThe job is similar to openstack-tox-molecule but with extra bits\nfor tripleo.\n\nChange-Id: I49b74476170c06ccd847c08318f4fc501b690924\nDepends-On: https://review.opendev.org/#/c/669871/\n'}, {'number': 7, 'created': '2019-07-09 21:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b87f9c645dfbe9ab29a77678b23836261e1a5cc0', 'message': 'Adds tripleo-tox-molecule\n\nThis new template should be used by tripleo jobs that need molecule\nbut also need to use extra required-projects in order to enable us of\nDepends-On.\n\nThe job is similar to openstack-tox-molecule but with extra bits\nfor tripleo.\n\nChange-Id: I49b74476170c06ccd847c08318f4fc501b690924\nDepends-On: https://review.opendev.org/#/c/669871/\n'}, {'number': 8, 'created': '2019-07-10 08:18:03.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/128ffc377ec23fa6de3e20ca1ba6158332cd6d2b', 'message': 'Adds tripleo-tox-molecule\n\nThis new job should be used by tripleo jobs that need molecule\nbut also need to use extra required-projects in order to enable us of\nDepends-On.\n\nThe job is similar to openstack-tox-molecule but with extra bits\nfor tripleo.\n\nChange-Id: I49b74476170c06ccd847c08318f4fc501b690924\nDepends-On: https://review.opendev.org/#/c/669871/\n'}]",8,669932,128ffc377ec23fa6de3e20ca1ba6158332cd6d2b,28,11,8,24162,,,0,"Adds tripleo-tox-molecule

This new job should be used by tripleo jobs that need molecule
but also need to use extra required-projects in order to enable us of
Depends-On.

The job is similar to openstack-tox-molecule but with extra bits
for tripleo.

Change-Id: I49b74476170c06ccd847c08318f4fc501b690924
Depends-On: https://review.opendev.org/#/c/669871/
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/32/669932/8 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'zuul.d/ansible.yaml']",2,d51d38b64f5dc94a60cf9309c28c539eba66807a,tripleo-tox-molecule, - project-template: name: tripleo-tox-molecule description: | TripleO own version of openstack-tox-molecule which adds support for depends-on. check: jobs: - openstack-tox-molecule: &data required-projects: # Do not remove projects from here as it may disable # ability to use Depends-On # Needed by tripleo-ci/roles/tripleo-repos - openstack/tripleo-repos gate: jobs: - openstack-tox-molecule: <<: *data,,19,1
openstack%2Fnova~master~I141c90ac27d16f2e9c033bcd2f95ac08904a2f52,openstack/nova,master,I141c90ac27d16f2e9c033bcd2f95ac08904a2f52,doc: Fix a parameter of NotificationPublisher,MERGED,2019-07-10 07:18:32.000000000,2019-07-11 00:14:56.000000000,2019-07-10 09:35:28.000000000,"[{'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-10 07:18:32.000000000', 'files': ['doc/source/reference/notifications.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/de31466fdb09dd367b23660f71b4ca06f83271a2', 'message': ""doc: Fix a parameter of NotificationPublisher\n\nThe 'binary' parameter has been changed to the 'source'\nsince I95b5b0826190d396efe7bfc017f6081a6356da65.\nBut the notification document has not been updated yet.\n\nReplace the 'binary' parameter with the 'source' parameter.\n\nChange-Id: I141c90ac27d16f2e9c033bcd2f95ac08904a2f52\nCloses-Bug: #1836005\n""}]",0,669993,de31466fdb09dd367b23660f71b4ca06f83271a2,10,3,1,7634,,,0,"doc: Fix a parameter of NotificationPublisher

The 'binary' parameter has been changed to the 'source'
since I95b5b0826190d396efe7bfc017f6081a6356da65.
But the notification document has not been updated yet.

Replace the 'binary' parameter with the 'source' parameter.

Change-Id: I141c90ac27d16f2e9c033bcd2f95ac08904a2f52
Closes-Bug: #1836005
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/669993/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/notifications.rst'],1,de31466fdb09dd367b23660f71b4ca06f83271a2,bug/1836005,with a ``host`` and a ``source`` string parameter or it can be generated from a,with a ``host`` and a ``binary`` string parameter or it can be generated from a,1,1
openstack%2Fopenstack-ansible~master~I779a8ec009a8fb53fb932f129dcba98d6f794ce2,openstack/openstack-ansible,master,I779a8ec009a8fb53fb932f129dcba98d6f794ce2,Bump SHAs for master,MERGED,2019-06-30 14:21:05.000000000,2019-07-10 23:57:06.000000000,2019-07-10 23:57:05.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-30 14:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/04fd61bb94b78622002ba0db9038c0577c7395f8', 'message': 'Bump SHAs for master\n\nChange-Id: I779a8ec009a8fb53fb932f129dcba98d6f794ce2\n'}, {'number': 2, 'created': '2019-07-04 12:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a1a036b3514a26d4a181281239d0740b04f0d6b5', 'message': 'Bump SHAs for master\n\nDepends-On: https://review.opendev.org/669134\nChange-Id: I779a8ec009a8fb53fb932f129dcba98d6f794ce2\n'}, {'number': 3, 'created': '2019-07-05 06:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2cde480b3a791037c225eb8c79a0cc77494e294d', 'message': 'Bump SHAs for master\n\nChange-Id: I779a8ec009a8fb53fb932f129dcba98d6f794ce2\n'}, {'number': 4, 'created': '2019-07-10 16:28:54.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/ceph-backend-host-change-968edfbc15b59b0a.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/drop-powervm-6fed6605a4bf72cf.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/openstack-distribution-packages-bc0d1d606a362ffc.yaml', 'releasenotes/notes/user-ca-certificates-b1be1257809ba5e8.yaml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2a47a3fafd0da28f416a8b748767ea4cbbd7489c', 'message': ""Bump SHAs for master\n\nThis temporarily make use of a more recent version of\nrequirements than the projects have.\n\nWithout this update, the version of python-qinlingclient\nis 2.1.0, which doesn't work with the version of cliff\nshipped in requirements, which causes an issue in the\nbash completion.\n\nChange-Id: I779a8ec009a8fb53fb932f129dcba98d6f794ce2\n""}]",0,668326,2a47a3fafd0da28f416a8b748767ea4cbbd7489c,16,3,4,17068,,,0,"Bump SHAs for master

This temporarily make use of a more recent version of
requirements than the projects have.

Without this update, the version of python-qinlingclient
is 2.1.0, which doesn't work with the version of cliff
shipped in requirements, which causes an issue in the
bash completion.

Change-Id: I779a8ec009a8fb53fb932f129dcba98d6f794ce2
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/26/668326/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/ceph-backend-host-change-968edfbc15b59b0a.yaml', 'releasenotes/notes/drop-powervm-6fed6605a4bf72cf.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/openstack-distribution-packages-bc0d1d606a362ffc.yaml', 'releasenotes/notes/user-ca-certificates-b1be1257809ba5e8.yaml', 'playbooks/defaults/repo_packages/openstack_testing.yml']",8,04fd61bb94b78622002ba0db9038c0577c7395f8,bump_osa,tempest_git_install_branch: 96b1a6461d3d9b87e54a896b935e453779ddbbca # HEAD as of 30.06.2019,tempest_git_install_branch: 558eb2c8fd7840980827edcb78005974cb2a5f4c # HEAD as of 02.06.2019,78,49
openstack%2Fpuppet-tripleo~stable%2Fstein~I798304a472df41b86a88611c97c2c99131faa0ad,openstack/puppet-tripleo,stable/stein,I798304a472df41b86a88611c97c2c99131faa0ad,Add dateext and related parameters for logrotate,MERGED,2019-07-09 06:44:07.000000000,2019-07-10 23:50:17.000000000,2019-07-10 23:47:19.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-09 06:44:07.000000000', 'files': ['templates/logrotate/containers_logrotate.conf.erb', 'manifests/profile/base/logging/logrotate.pp', 'releasenotes/notes/add-dateext-and-related-parameters-58dd288c74b818f7.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/964fe8cc62192e180a93f215e8bf038cf7ba0ad8', 'message': 'Add dateext and related parameters for logrotate\n\nlogrotate.pp should support dateext and related parameters.\nBy this change, a filename of a rotated file can be easily distinguished\nby rotated date.\n\nChange-Id: I798304a472df41b86a88611c97c2c99131faa0ad\n(cherry picked from commit 1eafeb67bf6d613d891fc26ee4452cded8115741)\n'}]",0,669799,964fe8cc62192e180a93f215e8bf038cf7ba0ad8,12,4,1,25613,,,0,"Add dateext and related parameters for logrotate

logrotate.pp should support dateext and related parameters.
By this change, a filename of a rotated file can be easily distinguished
by rotated date.

Change-Id: I798304a472df41b86a88611c97c2c99131faa0ad
(cherry picked from commit 1eafeb67bf6d613d891fc26ee4452cded8115741)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/99/669799/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/logrotate/containers_logrotate.conf.erb', 'manifests/profile/base/logging/logrotate.pp', 'releasenotes/notes/add-dateext-and-related-parameters-58dd288c74b818f7.yaml']",3,964fe8cc62192e180a93f215e8bf038cf7ba0ad8,add_dateext-stable/stein,--- other: - | Add dateext and related paramters for containerized logrotate service to find easily when logfiles were rotated. ,,29,0
openstack%2Fopenstack-ansible-os_designate~stable%2Fstein~I40a596803df656f5e6f75996660fe9ace685c2ed,openstack/openstack-ansible-os_designate,stable/stein,I40a596803df656f5e6f75996660fe9ace685c2ed,Fix distro installs on Ubuntu,MERGED,2019-06-11 21:08:16.000000000,2019-07-10 23:42:13.000000000,2019-07-10 23:42:13.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28543}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-11 21:08:16.000000000', 'files': ['tasks/designate_post_install.yml', 'vars/debian.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/f4dd7f637068dd583e5d1375ad5fb60e62e7f69c', 'message': ""Fix distro installs on Ubuntu\n\nInstall the python3-designate package and rely on the OSA provided\nservice configs instead of installing each of the individual designate\nservice packages. The 'Mask any conflicting units' task can also be\nremoved since the installation of unwanted services will no longer be an\nissue.\n\nChange-Id: I40a596803df656f5e6f75996660fe9ace685c2ed\n(cherry picked from commit a4de0376510d26a00d06f4984c763ace92cf3b58)\n""}]",0,664697,f4dd7f637068dd583e5d1375ad5fb60e62e7f69c,9,5,1,14805,,,0,"Fix distro installs on Ubuntu

Install the python3-designate package and rely on the OSA provided
service configs instead of installing each of the individual designate
service packages. The 'Mask any conflicting units' task can also be
removed since the installation of unwanted services will no longer be an
issue.

Change-Id: I40a596803df656f5e6f75996660fe9ace685c2ed
(cherry picked from commit a4de0376510d26a00d06f4984c763ace92cf3b58)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/97/664697/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/designate_post_install.yml', 'vars/debian.yml', 'defaults/main.yml']",3,f4dd7f637068dd583e5d1375ad5fb60e62e7f69c,ubuntu-distro-install-stable/stein,,"# List of unit files this role will ""mask"". These units, when found, are knonw # to conflict with running services for this given role. Any unit listed will be # stopped and masked. designate_mask_conflicting_units: ""{{ _designate_mask_conflicting_units | default([]) }}"" ",1,28
openstack%2Fswift~feature%2Flosf~Ia8b5df718de0fe8d9fbe3a8443718b3612a0a715,openstack/swift,feature/losf,Ia8b5df718de0fe8d9fbe3a8443718b3612a0a715,Back out urllib3 requirement,MERGED,2019-07-10 17:13:41.000000000,2019-07-10 23:28:38.000000000,2019-07-10 23:27:19.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-10 17:13:41.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/29c97c97227739c2b586356938357ad9ed9312f8', 'message': 'Back out urllib3 requirement\n\nWe only need it because of requests, and requests has fixed its\nissue with newer urllib3.\n\nChange-Id: Ia8b5df718de0fe8d9fbe3a8443718b3612a0a715\n'}]",0,670139,29c97c97227739c2b586356938357ad9ed9312f8,7,2,1,15343,,,0,"Back out urllib3 requirement

We only need it because of requests, and requests has fixed its
issue with newer urllib3.

Change-Id: Ia8b5df718de0fe8d9fbe3a8443718b3612a0a715
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/670139/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,29c97c97227739c2b586356938357ad9ed9312f8,,,"# urllib3 >= 1.25 has issue so bound the upper version, see https://github.com/streamlink/streamlink/issues/2448 urllib3>=1.21.1,<1.25",0,2
openstack%2Fopenstack-ansible~stable%2Fpike~I8c1bdc770d3d35e08db6720ab1fc0292fbacf4c8,openstack/openstack-ansible,stable/pike,I8c1bdc770d3d35e08db6720ab1fc0292fbacf4c8,Bump SHAs for stable/pike,MERGED,2019-06-30 14:24:50.000000000,2019-07-10 23:27:22.000000000,2019-07-10 23:27:21.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-30 14:24:50.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e70d8ff411cc6e042acf0700c60f66cfc7e10c33', 'message': 'Bump SHAs for stable/pike\n\nChange-Id: I8c1bdc770d3d35e08db6720ab1fc0292fbacf4c8\n'}]",0,668330,e70d8ff411cc6e042acf0700c60f66cfc7e10c33,9,4,1,17068,,,0,"Bump SHAs for stable/pike

Change-Id: I8c1bdc770d3d35e08db6720ab1fc0292fbacf4c8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/30/668330/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml']",2,e70d8ff411cc6e042acf0700c60f66cfc7e10c33,bump_osa,gnocchi_git_install_branch: a63ffcecea023b36de1c88801a8ed6833267fe4f # HEAD as of 30.06.2019,gnocchi_git_install_branch: a63ffcecea023b36de1c88801a8ed6833267fe4f # HEAD as of 16.06.2019,33,33
openstack%2Fpython-swiftclient~master~I21298bfd39fe386b5ea19e3a6f4408d8a0459c92,openstack/python-swiftclient,master,I21298bfd39fe386b5ea19e3a6f4408d8a0459c92,Support pdb in tests better,MERGED,2017-06-13 17:51:13.000000000,2019-07-10 23:27:18.000000000,2019-07-10 23:27:18.000000000,"[{'_account_id': 3}, {'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-06-13 17:51:13.000000000', 'files': ['tests/unit/utils.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/01f5a9f3af3a1630297a92dff0f998b4f0e97a49', 'message': 'Support pdb in tests better\n\nNot really ""better"" so much as ""at all"" - the thing we do with the\ncapture stderr *everywhere* is probably brilliant - but absolutely not\nstrictly necessary for every MockHttpTest TestCase and comes with the\nannoying overhead of trying to get into a debugger causes tests to hang\ninexplicably and you can\'t even do debug prints in tests!?\n\nNow if you add SWIFTCLIENT_DEBUG=1 to your nose -vsx command you can not\nonly jump into debugger, but if you\'re ""in the know"" you could even get\nsome stderr print debugging going on!\n\nIf you\'re not ""in the know"" when you try to pdb.set_trace() the tests\nwill blow-up for you because we monkeypatch pdb when not in\nSWIFTCLIENT_DEBUG mode, you\'re welcome.\n\nChange-Id: I21298bfd39fe386b5ea19e3a6f4408d8a0459c92\n'}]",0,473925,01f5a9f3af3a1630297a92dff0f998b4f0e97a49,12,5,1,1179,,,0,"Support pdb in tests better

Not really ""better"" so much as ""at all"" - the thing we do with the
capture stderr *everywhere* is probably brilliant - but absolutely not
strictly necessary for every MockHttpTest TestCase and comes with the
annoying overhead of trying to get into a debugger causes tests to hang
inexplicably and you can't even do debug prints in tests!?

Now if you add SWIFTCLIENT_DEBUG=1 to your nose -vsx command you can not
only jump into debugger, but if you're ""in the know"" you could even get
some stderr print debugging going on!

If you're not ""in the know"" when you try to pdb.set_trace() the tests
will blow-up for you because we monkeypatch pdb when not in
SWIFTCLIENT_DEBUG mode, you're welcome.

Change-Id: I21298bfd39fe386b5ea19e3a6f4408d8a0459c92
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/25/473925/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/unit/utils.py'],1,01f5a9f3af3a1630297a92dff0f998b4f0e97a49,,"import os if 'SWIFTCLIENT_DEBUG' not in os.environ: self.capture_output.__enter__() self.addCleanup(self.capture_output.__exit__) # since we're going to steal all stderr output globally; we should # give the developer an escape hatch or risk scorn def blowup_but_with_the_helpful(*args, **kwargs): raise Exception( ""You tried to enter a debugger while stderr is "" ""patched, you need to set SWIFTCLIENT_DEBUG=1 "" ""and try again"") import pdb pdb.set_trace = blowup_but_with_the_helpful", self.capture_output.__enter__() self.capture_output.__exit__(),14,2
openstack%2Fnova~master~I566f9a630d06226252bde800d07aba34c6876857,openstack/nova,master,I566f9a630d06226252bde800d07aba34c6876857,nova-lvm: Disable [validation]/run_validation in tempest.conf,MERGED,2019-05-30 10:08:49.000000000,2019-07-10 22:58:25.000000000,2019-07-10 22:58:24.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-30 10:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a09d808bfaf45425bbe337a2b12d571e50f7ecca', 'message': 'nova-lvm: Disable [validation]/run_validation in tempest.conf\n\nAs with Iea948bcc43315286e5c130485728152d4710bfcb for the\ndevstack-plugin-ceph-tempest job this change disables ssh validation in\nthe nova-lvm job to avoid commonly seen failures:\n\nhttp://status.openstack.org/elastic-recheck/#1808010\n\nChange-Id: I566f9a630d06226252bde800d07aba34c6876857\n'}, {'number': 2, 'created': '2019-07-08 20:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93b471f7968e9952dc1451100dac535f9e1d4783', 'message': 'nova-lvm: Disable [validation]/run_validation in tempest.conf\n\nAs with Iea948bcc43315286e5c130485728152d4710bfcb for the\ndevstack-plugin-ceph-tempest job this change disables ssh validation in\nthe nova-lvm job to avoid commonly seen failures:\n\nhttp://status.openstack.org/elastic-recheck/#1808010\n\nRelated-Bug: #1802971\nChange-Id: I566f9a630d06226252bde800d07aba34c6876857\n'}, {'number': 3, 'created': '2019-07-08 20:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58d436ad9a3736a8d40bab039b402480bc1d4eeb', 'message': 'nova-lvm: Disable [validation]/run_validation in tempest.conf\n\nAs with Iea948bcc43315286e5c130485728152d4710bfcb for the\ndevstack-plugin-ceph-tempest job this change disables ssh validation in\nthe nova-lvm job to avoid commonly seen failures:\n\nhttp://status.openstack.org/elastic-recheck/#1808010\n\nRelated-Bug: #1802971\nChange-Id: I566f9a630d06226252bde800d07aba34c6876857\n'}, {'number': 4, 'created': '2019-07-09 19:16:18.000000000', 'files': ['playbooks/legacy/nova-lvm/run.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/2a94f95ceec944605e55f2c659e124cc12bec518', 'message': 'nova-lvm: Disable [validation]/run_validation in tempest.conf\n\nAs with Iea948bcc43315286e5c130485728152d4710bfcb for the\ndevstack-plugin-ceph-tempest job this change disables ssh validation in\nthe nova-lvm job to avoid commonly seen failures:\n\nhttp://status.openstack.org/elastic-recheck/#1808010\n\nRelated-Bug: #1802971\nChange-Id: I566f9a630d06226252bde800d07aba34c6876857\n'}]",1,662176,2a94f95ceec944605e55f2c659e124cc12bec518,49,14,4,10135,,,0,"nova-lvm: Disable [validation]/run_validation in tempest.conf

As with Iea948bcc43315286e5c130485728152d4710bfcb for the
devstack-plugin-ceph-tempest job this change disables ssh validation in
the nova-lvm job to avoid commonly seen failures:

http://status.openstack.org/elastic-recheck/#1808010

Related-Bug: #1802971
Change-Id: I566f9a630d06226252bde800d07aba34c6876857
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/662176/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/nova-lvm/run.yaml'],1,a09d808bfaf45425bbe337a2b12d571e50f7ecca,, export TEMPEST_RUN_VALIDATION=false,,1,0
openstack%2Fopenstack-ansible-tests~stable%2Fstein~Ic003fdd748ded86b0c7d287bc94630b83b90f7ae,openstack/openstack-ansible-tests,stable/stein,Ic003fdd748ded86b0c7d287bc94630b83b90f7ae,Bump ansible version to match stein,MERGED,2019-06-18 18:07:19.000000000,2019-07-10 22:07:47.000000000,2019-07-10 22:07:47.000000000,"[{'_account_id': 1004}, {'_account_id': 14552}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-18 18:07:19.000000000', 'files': ['test-ansible-deps.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/e6ffc0903d72a758ff6b47f66a150ef7f5c031fb', 'message': 'Bump ansible version to match stein\n\nChange-Id: Ic003fdd748ded86b0c7d287bc94630b83b90f7ae\n'}]",0,666094,e6ffc0903d72a758ff6b47f66a150ef7f5c031fb,9,5,1,290,,,0,"Bump ansible version to match stein

Change-Id: Ic003fdd748ded86b0c7d287bc94630b83b90f7ae
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/94/666094/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-deps.txt'],1,e6ffc0903d72a758ff6b47f66a150ef7f5c031fb,bump_ansible_version_stein,ansible==2.7.9,ansible==2.7.8,1,1
openstack%2Fopenstack-ansible-os_rally~master~Ief4da7b34ca2a4cab246e4ad108a85f64973759d,openstack/openstack-ansible-os_rally,master,Ief4da7b34ca2a4cab246e4ad108a85f64973759d,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-05-05 13:11:44.000000000,2019-07-10 21:59:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-05 13:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/68e8981a4c1bfaaa952f783ee9c1fc647c2d4987', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ief4da7b34ca2a4cab246e4ad108a85f64973759d\n'}, {'number': 2, 'created': '2019-05-06 11:30:36.000000000', 'files': ['tests/ansible-role-requirements.yml', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/8a08d2ce88a819352f53b9ad9aa1058ffde47768', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ief4da7b34ca2a4cab246e4ad108a85f64973759d\n'}]",0,657265,8a08d2ce88a819352f53b9ad9aa1058ffde47768,5,1,2,17130,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Ief4da7b34ca2a4cab246e4ad108a85f64973759d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/65/657265/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,68e8981a4c1bfaaa952f783ee9c1fc647c2d4987,, src: https://opendev.org/openstack/openstack-ansible-apt_package_pinning src: https://opendev.org/openstack/openstack-ansible-pip_install src: https://opendev.org/openstack/openstack-ansible-openstack_hosts src: https://opendev.org/openstack/openstack-ansible-lxc_hosts src: https://opendev.org/openstack/openstack-ansible-lxc_container_create src: https://opendev.org/openstack/openstack-ansible-rabbitmq_server src: https://opendev.org/openstack/openstack-ansible-galera_client src: https://opendev.org/openstack/openstack-ansible-galera_server src: https://opendev.org/openstack/openstack-ansible-openstack_openrc src: https://opendev.org/openstack/openstack-ansible-memcached_server src: https://opendev.org/openstack/openstack-ansible-os_keystone src: https://opendev.org/openstack/ansible-role-systemd_service src: https://opendev.org/openstack/ansible-role-python_venv_build, src: https://git.openstack.org/openstack/openstack-ansible-apt_package_pinning src: https://git.openstack.org/openstack/openstack-ansible-pip_install src: https://git.openstack.org/openstack/openstack-ansible-openstack_hosts src: https://git.openstack.org/openstack/openstack-ansible-lxc_hosts src: https://git.openstack.org/openstack/openstack-ansible-lxc_container_create src: https://git.openstack.org/openstack/openstack-ansible-rabbitmq_server src: https://git.openstack.org/openstack/openstack-ansible-galera_client src: https://git.openstack.org/openstack/openstack-ansible-galera_server src: https://git.openstack.org/openstack/openstack-ansible-openstack_openrc src: https://git.openstack.org/openstack/openstack-ansible-memcached_server src: https://git.openstack.org/openstack/openstack-ansible-os_keystone src: https://git.openstack.org/openstack/ansible-role-systemd_service src: https://git.openstack.org/openstack/ansible-role-python_venv_build,13,13
openstack%2Foslo.versionedobjects~master~I6de529d6082cad61d81025ba7df6cebd27048dd2,openstack/oslo.versionedobjects,master,I6de529d6082cad61d81025ba7df6cebd27048dd2,Add Python 3 Train unit tests,MERGED,2018-10-15 16:29:10.000000000,2019-07-10 21:57:51.000000000,2019-07-10 21:57:51.000000000,"[{'_account_id': 4257}, {'_account_id': 6928}, {'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 16:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/f9e3f6ec72591776314492f05c0376e042484d6e', 'message': ""Change python3.5 job to python3.7 job on Stein+\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7 and drop the Python 3.5 unit test job.\n\npython3.5 was the only supported python3 version on Xenial. Now that\nwe have Bionic nodes supporting python3.6 and python3.7, let's switch\nto testing with python3.7 in addition to python3.6 in Stein and\nbeyond.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: I6de529d6082cad61d81025ba7df6cebd27048dd2\nStory: #2004073\nTask: #27440\n""}, {'number': 2, 'created': '2019-07-05 19:11:49.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/14ee7e056f744e3597da8a3426dda67321ac9c05', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I6de529d6082cad61d81025ba7df6cebd27048dd2\nStory: #2005924\nTask: #34234\n'}]",0,610647,14ee7e056f744e3597da8a3426dda67321ac9c05,10,4,2,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I6de529d6082cad61d81025ba7df6cebd27048dd2
Story: #2005924
Task: #34234
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/47/610647/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f9e3f6ec72591776314492f05c0376e042484d6e,python3-train, - openstack-python37-jobs, - openstack-python35-jobs,1,1
openstack%2Foslo.cache~master~I097a6df0db8bbdd9434abe0ef7176bf0999d44ef,openstack/oslo.cache,master,I097a6df0db8bbdd9434abe0ef7176bf0999d44ef,Add Python 3 Train unit tests,MERGED,2018-10-12 15:03:45.000000000,2019-07-10 21:54:50.000000000,2019-07-10 21:54:50.000000000,"[{'_account_id': 24}, {'_account_id': 6928}, {'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-12 15:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/cfa6e80fe238a2f69c5be3f2c89ae9e5e3089eb1', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with\npython3.7 in addition with python3.6 in Stein and beyond.\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.html\n\nChange-Id: I097a6df0db8bbdd9434abe0ef7176bf0999d44ef\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2018-10-15 14:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/3f6f950fd6ac0242f7902a9faf49635ca03ea532', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with\npython3.7 in addition with python3.6 in Stein and beyond.\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.html\n\nChange-Id: I097a6df0db8bbdd9434abe0ef7176bf0999d44ef\nSigned-off-by: Charles Short <chucks@redhat.com>\nStory: #2004073\nTask: #27440\n'}, {'number': 3, 'created': '2019-07-05 18:42:06.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/a5023ba2754dd537c802d4a59290ff6378bd6285', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I097a6df0db8bbdd9434abe0ef7176bf0999d44ef\nStory: #2005924\nTask: #34234\n'}]",0,610077,a5023ba2754dd537c802d4a59290ff6378bd6285,11,4,3,24,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I097a6df0db8bbdd9434abe0ef7176bf0999d44ef
Story: #2005924
Task: #34234
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/77/610077/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,cfa6e80fe238a2f69c5be3f2c89ae9e5e3089eb1,python3-train,"envlist = py37,py27,pypy,pep8","envlist = py35,py27,pypy,pep8",2,2
openstack%2Foslo.middleware~master~Ib541de637ecbee664fa281b5920ece2c66055b13,openstack/oslo.middleware,master,Ib541de637ecbee664fa281b5920ece2c66055b13,Add Python 3 Train unit tests,MERGED,2018-10-15 16:26:51.000000000,2019-07-10 21:34:58.000000000,2019-07-10 21:34:58.000000000,"[{'_account_id': 4257}, {'_account_id': 6928}, {'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 16:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/d8d95dfbff432093daffccbf415951205ac1b2c8', 'message': ""Change python3.5 job to python3.7 job on Stein+\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7 and drop the Python 3.5 unit test job.\n\npython3.5 was the only supported python3 version on Xenial. Now that\nwe have Bionic nodes supporting python3.6 and python3.7, let's switch\nto testing with python3.7 in addition to python3.6 in Stein and\nbeyond.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: Ib541de637ecbee664fa281b5920ece2c66055b13\nStory: #2004073\nTask: #27440\n""}, {'number': 2, 'created': '2019-07-05 18:48:44.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/f1a47b9e6abb7738e751bdd4edaa588a4151bf60', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ib541de637ecbee664fa281b5920ece2c66055b13\nStory: #2005924\nTask: #34234\n'}]",0,610642,f1a47b9e6abb7738e751bdd4edaa588a4151bf60,10,4,2,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ib541de637ecbee664fa281b5920ece2c66055b13
Story: #2005924
Task: #34234
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/42/610642/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d8d95dfbff432093daffccbf415951205ac1b2c8,python3-train, - openstack-python37-jobs, - openstack-python35-jobs,1,1
openstack%2Freleases~master~Ife5d3a108a9ef566cbbd42a00b4859c240d77e64,openstack/releases,master,Ife5d3a108a9ef566cbbd42a00b4859c240d77e64,nova: release queens 17.0.11,MERGED,2019-07-04 01:32:13.000000000,2019-07-10 21:31:02.000000000,2019-07-10 21:31:02.000000000,"[{'_account_id': 308}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-04 01:32:13.000000000', 'files': ['deliverables/queens/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5dfe116dac5dc18bf2a31a51ccbbf1e6d7af276b', 'message': ""nova: release queens 17.0.11\n\nLots of bug fixes but nothing I'd consider require\na minor version bump.\n\n$ git log --oneline --no-merges --no-decorate 17.0.10..\n9cbd2aedde fix up numa-topology live migration hypervisor check\n9999bce00f Fail to live migration if instance has a NUMA topology\nab445a027a Allow driver to properly unplug VIFs on destination on confirm resize\n8519b1ce6d Move get_pci_mapping_for_migration to MigrationContext\nd3bdeb2615 libvirt: Do not reraise DiskNotFound exceptions during resize\n2009859b52 Include all network devices in nova diagnostics\n20b90f2e26 Workaround missing RequestSpec.instance_group.uuid\n581df2c986 Add regression recreate test for bug 1830747\n95a3e0cf6a Restore connection_info after live migration rollback\n88fd40fe5d DRY up test_rollback_live_migration_set_migration_status\n58a140487c Block swap volume on volumes with >1 rw attachment\n55deddf65d Fix live-migration when glance image deleted\n944b24f462 Add functional confirm_migration_error test\n5600309a1f [stable-only] Delete allocations even if _confirm_resize raises (part 2)\nb8435d6001 Delete allocations even if _confirm_resize raises\n0cad3089d3 Stop logging traceback when skipping quiesce\nf9c2503609 Fix retry of instance_update_and_get_original\n89063ecb61 Teardown networking when rolling back live migration even if shared disk\n01141392db Use migration_status during volume migrating and retyping\n99a63a6633 libvirt: Always disconnect volumes after libvirtError exceptions\n63b45a87b8 libvirt: Stop ignoring unknown libvirtError exceptions during volume attach\nba3ad2d65a Fix {min|max}_version in ironic Adapter setup\n22cd12dbb7 Create request spec, build request and mappings in one transaction\n5b0adaa0ca xenapi/agent: Change openssl error handling\nec43a1348d libvirt: Avoid using os-brick encryptors when device_path isn't provided\n899e881b18 Fix nova-grenade-live-migration run book for opendev migration\nd4dbbb645a Fix regression in glance client call\n1cee746085 OpenDev Migration Patch\n76418a32cb Move legacy-grenade-dsvm-neutron-multinode-live-migration in-tree\n5d5e7be8cb Fix legacy-grenade-dsvm-neutron-multinode-live-migration\nc8ad9f4e19 libvirt: set device address tag only if setting disk unit\nee52fb12bb libvirt: disconnect volume when encryption fails\n5433dc6a75 Add missing libvirt exception during device detach\nc6a42cd3b3 Error out migration when confirm_resize fails\nf1554d1b52 prevent common kwargs from glance client failure\ndba9b722af Define irrelevant-files for tempest-full-py3 job\n1b6f48354b Delete instance_id_mappings record in instance_destroy\n8f1773a7af Do not persist RequestSpec.ignore_hosts\n9fd4082d7c Add functional regression test for bug 1669054\n99cbbcfd61 Update instance.availability_zone on revertResize\n1b15a342e3 Add functional recreate test for bug 1819963\n50a0c6a4b9 [Stable Only] hardware: Handle races during pinning\nddc2c9118a Fix incomplete instance data returned after build failure\nee07c1c67d Update instance.availability_zone during live migration\n36d93675d9 Update resources once in update_available_resource\n705284e18c Don't persist zero allocation ratios in ResourceTracker\n7a3b072442 Document unset/reset wrinkle for *_allocation_ratio options\n1265e9e8e2 Replace openstack.org git:// URLs with https://\n4a7575bf14 Ignore VolumeAttachmentNotFound exception in compute.manager\n\nChange-Id: Ife5d3a108a9ef566cbbd42a00b4859c240d77e64\n""}]",0,669014,5dfe116dac5dc18bf2a31a51ccbbf1e6d7af276b,14,8,1,6873,,,0,"nova: release queens 17.0.11

Lots of bug fixes but nothing I'd consider require
a minor version bump.

$ git log --oneline --no-merges --no-decorate 17.0.10..
9cbd2aedde fix up numa-topology live migration hypervisor check
9999bce00f Fail to live migration if instance has a NUMA topology
ab445a027a Allow driver to properly unplug VIFs on destination on confirm resize
8519b1ce6d Move get_pci_mapping_for_migration to MigrationContext
d3bdeb2615 libvirt: Do not reraise DiskNotFound exceptions during resize
2009859b52 Include all network devices in nova diagnostics
20b90f2e26 Workaround missing RequestSpec.instance_group.uuid
581df2c986 Add regression recreate test for bug 1830747
95a3e0cf6a Restore connection_info after live migration rollback
88fd40fe5d DRY up test_rollback_live_migration_set_migration_status
58a140487c Block swap volume on volumes with >1 rw attachment
55deddf65d Fix live-migration when glance image deleted
944b24f462 Add functional confirm_migration_error test
5600309a1f [stable-only] Delete allocations even if _confirm_resize raises (part 2)
b8435d6001 Delete allocations even if _confirm_resize raises
0cad3089d3 Stop logging traceback when skipping quiesce
f9c2503609 Fix retry of instance_update_and_get_original
89063ecb61 Teardown networking when rolling back live migration even if shared disk
01141392db Use migration_status during volume migrating and retyping
99a63a6633 libvirt: Always disconnect volumes after libvirtError exceptions
63b45a87b8 libvirt: Stop ignoring unknown libvirtError exceptions during volume attach
ba3ad2d65a Fix {min|max}_version in ironic Adapter setup
22cd12dbb7 Create request spec, build request and mappings in one transaction
5b0adaa0ca xenapi/agent: Change openssl error handling
ec43a1348d libvirt: Avoid using os-brick encryptors when device_path isn't provided
899e881b18 Fix nova-grenade-live-migration run book for opendev migration
d4dbbb645a Fix regression in glance client call
1cee746085 OpenDev Migration Patch
76418a32cb Move legacy-grenade-dsvm-neutron-multinode-live-migration in-tree
5d5e7be8cb Fix legacy-grenade-dsvm-neutron-multinode-live-migration
c8ad9f4e19 libvirt: set device address tag only if setting disk unit
ee52fb12bb libvirt: disconnect volume when encryption fails
5433dc6a75 Add missing libvirt exception during device detach
c6a42cd3b3 Error out migration when confirm_resize fails
f1554d1b52 prevent common kwargs from glance client failure
dba9b722af Define irrelevant-files for tempest-full-py3 job
1b6f48354b Delete instance_id_mappings record in instance_destroy
8f1773a7af Do not persist RequestSpec.ignore_hosts
9fd4082d7c Add functional regression test for bug 1669054
99cbbcfd61 Update instance.availability_zone on revertResize
1b15a342e3 Add functional recreate test for bug 1819963
50a0c6a4b9 [Stable Only] hardware: Handle races during pinning
ddc2c9118a Fix incomplete instance data returned after build failure
ee07c1c67d Update instance.availability_zone during live migration
36d93675d9 Update resources once in update_available_resource
705284e18c Don't persist zero allocation ratios in ResourceTracker
7a3b072442 Document unset/reset wrinkle for *_allocation_ratio options
1265e9e8e2 Replace openstack.org git:// URLs with https://
4a7575bf14 Ignore VolumeAttachmentNotFound exception in compute.manager

Change-Id: Ife5d3a108a9ef566cbbd42a00b4859c240d77e64
",git fetch https://review.opendev.org/openstack/releases refs/changes/14/669014/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/nova.yaml'],1,5dfe116dac5dc18bf2a31a51ccbbf1e6d7af276b,nova-queens-17.0.11, - projects: - hash: de7a8f9e443b7cf20c18e8637b43e0f2bfada31c repo: openstack/nova version: 17.0.11,,4,0
openstack%2Fcharm-keystone-saml-mellon~master~I49c1539bd1dbea65ccaadbf7b1baeb12b4e430ef,openstack/charm-keystone-saml-mellon,master,I49c1539bd1dbea65ccaadbf7b1baeb12b4e430ef,Fix typo,ABANDONED,2019-06-11 15:40:56.000000000,2019-07-10 21:30:32.000000000,,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-11 15:40:56.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/f61bda1ca980a11d505387ad4e78e2383c45e2ac', 'message': 'Fix typo\n\nThe typo was fixed in zaza-openstack-tests [0], this corrects the\nmisspelling in the calling test configuration.\n\n[0] https://github.com/openstack-charmers/zaza-openstack-tests/pull/18\n\nChange-Id: I49c1539bd1dbea65ccaadbf7b1baeb12b4e430ef\n'}]",0,664623,f61bda1ca980a11d505387ad4e78e2383c45e2ac,6,3,1,20805,,,0,"Fix typo

The typo was fixed in zaza-openstack-tests [0], this corrects the
misspelling in the calling test configuration.

[0] https://github.com/openstack-charmers/zaza-openstack-tests/pull/18

Change-Id: I49c1539bd1dbea65ccaadbf7b1baeb12b4e430ef
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/23/664623/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,f61bda1ca980a11d505387ad4e78e2383c45e2ac,typo,- zaza.openstack.charm_tests.vault.setup.auto_initialize,- zaza.openstack.charm_tests.vault.setup.auto_inititialize,1,1
openstack%2Fswift~master~If62d82beb202dea553776920a95c177518b162ab,openstack/swift,master,If62d82beb202dea553776920a95c177518b162ab,functests: make container creation less flakey in test_object,MERGED,2019-07-10 16:13:52.000000000,2019-07-10 21:29:20.000000000,2019-07-10 21:26:48.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-10 16:13:52.000000000', 'files': ['test/functional/test_object.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/38a24571ad5c192bacaf60a5634ea66164dbbb71', 'message': 'functests: make container creation less flakey in test_object\n\nChange-Id: If62d82beb202dea553776920a95c177518b162ab\n'}]",0,670111,38a24571ad5c192bacaf60a5634ea66164dbbb71,8,3,1,15343,,,0,"functests: make container creation less flakey in test_object

Change-Id: If62d82beb202dea553776920a95c177518b162ab
",git fetch https://review.opendev.org/openstack/swift refs/changes/11/670111/1 && git format-patch -1 --stdout FETCH_HEAD,['test/functional/test_object.py'],1,38a24571ad5c192bacaf60a5634ea66164dbbb71,," self.assertIn(resp.status, (201, 202))"," self.assertEqual(resp.status, 201)",1,1
openstack%2Foslo.context~master~Ie166f1623c15891f381fc367b8dd854386efa90a,openstack/oslo.context,master,Ie166f1623c15891f381fc367b8dd854386efa90a,Add Python 3 Train unit tests,MERGED,2018-10-12 16:50:45.000000000,2019-07-10 21:29:16.000000000,2019-07-10 21:29:16.000000000,"[{'_account_id': 24}, {'_account_id': 6928}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2018-10-12 16:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/86855654592498c0200dd504ab7d04dbe22e4681', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with\npython3.7 in addition with python3.6 in Stein and beyond.\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.html\n\nChange-Id: Ie166f1623c15891f381fc367b8dd854386efa90a\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2018-10-15 14:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/9c300a76398c44d631a868bbe284b530afc94c5a', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with\npython3.7 in addition with python3.6 in Stein and beyond.\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.html\n\nChange-Id: Ie166f1623c15891f381fc367b8dd854386efa90a\nSigned-off-by: Charles Short <chucks@redhat.com>\nStory: #2004073\nTask: #27440\n'}, {'number': 3, 'created': '2019-07-05 18:43:40.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/07f068d8a2bf8420a419f806a22012ed8419d029', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ie166f1623c15891f381fc367b8dd854386efa90a\nStory: #2005924\nTask: #34234\n'}]",0,610112,07f068d8a2bf8420a419f806a22012ed8419d029,12,5,3,24,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ie166f1623c15891f381fc367b8dd854386efa90a
Story: #2005924
Task: #34234
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/12/610112/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,86855654592498c0200dd504ab7d04dbe22e4681,python3-train,"envlist = py37,py27,pep8","envlist = py35,py27,pep8",2,2
openstack%2Fopenstack-ansible~stable%2Fstein~Ib7bd076911d8150e8e677cd739bd2b18825006d7,openstack/openstack-ansible,stable/stein,Ib7bd076911d8150e8e677cd739bd2b18825006d7,Remove experimental opensuse jobs from periodic,MERGED,2019-06-28 12:50:51.000000000,2019-07-10 21:27:29.000000000,2019-07-10 21:27:28.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-28 12:50:51.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e37572427302b3a114b718245ba9d22e64b97ba1', 'message': 'Remove experimental opensuse jobs from periodic\n\nThose jobs that got downgraded to experimental are regularly\nnot passing, so running them periodically just produces noise.\n\nChange-Id: Ib7bd076911d8150e8e677cd739bd2b18825006d7\n'}]",0,668167,e37572427302b3a114b718245ba9d22e64b97ba1,8,4,1,6593,,,0,"Remove experimental opensuse jobs from periodic

Those jobs that got downgraded to experimental are regularly
not passing, so running them periodically just produces noise.

Change-Id: Ib7bd076911d8150e8e677cd739bd2b18825006d7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/67/668167/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,e37572427302b3a114b718245ba9d22e64b97ba1,,, - openstack-ansible-deploy-aio_lxc-opensuse-150 periodic: jobs: - openstack-ansible-deploy-aio_distro_lxc-opensuse-150 ,0,5
openstack%2Fopenstack-ansible~master~I3bfe38c74ab5c07db11879706f789d6b701d40e5,openstack/openstack-ansible,master,I3bfe38c74ab5c07db11879706f789d6b701d40e5,Reduce the amount of nova host reserved memory from 2G to 256M in CI.,MERGED,2019-06-27 10:39:58.000000000,2019-07-10 21:27:27.000000000,2019-07-10 21:27:27.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-06-27 10:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/982c99805f6ffdd197259f7886c529a0be49dc2e', 'message': 'Reduce the amount of nova host reserved memory from 2G to 256M in CI.\n\nThe CI environment is constrained within 8G memory so reduce the nova\nhost reserved memory accordingly.\n\nChange-Id: I3bfe38c74ab5c07db11879706f789d6b701d40e5\n'}, {'number': 2, 'created': '2019-06-27 10:40:57.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/821c02e5758b5c3d1824e4377f9ce00af1dd4f44', 'message': 'Reduce the amount of nova host reserved memory from 2G to 256M in CI.\n\nThe CI environment is constrained within 8G memory so reduce the nova\nhost reserved memory accordingly.\n\nChange-Id: I3bfe38c74ab5c07db11879706f789d6b701d40e5\n'}]",0,667892,821c02e5758b5c3d1824e4377f9ce00af1dd4f44,9,3,2,25023,,,0,"Reduce the amount of nova host reserved memory from 2G to 256M in CI.

The CI environment is constrained within 8G memory so reduce the nova
host reserved memory accordingly.

Change-Id: I3bfe38c74ab5c07db11879706f789d6b701d40e5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/92/667892/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,982c99805f6ffdd197259f7886c529a0be49dc2e,fix-octavia,reserved_host_memory_mb: 256,,1,0
openstack%2Fdiskimage-builder~master~I475a253091cbaf63687b91c748c31a6753bb0f57,openstack/diskimage-builder,master,I475a253091cbaf63687b91c748c31a6753bb0f57,Set router solicitation delay with using NM,MERGED,2019-07-10 15:37:54.000000000,2019-07-10 21:26:49.000000000,2019-07-10 19:13:59.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 7353}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-10 15:37:54.000000000', 'files': ['diskimage_builder/elements/simple-init/post-install.d/80-simple-init'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5b5b78bf59ea0b11f08d235885048e9307a296f7', 'message': ""Set router solicitation delay with using NM\n\nThe linux kernel and NetworkManager fight each other over control for\ninterface management when router advertisements are in use. Long story\nshort if the linux kernel configures a network interface for ipv6\nbefore NetworkManager attempts to manage that interface then NM will\nignore the interface and not configure ipv4 on it.\n\nThis can happen because the kernel is configured to send router\nadvertisements solicitations which result in router advertisements which\nthe kernel uses to configure the interface(s). There is a default of a 1\nsecond delay before sending the solicitation which in many cases is long\nenough that NM has started before then. However, in slower environments\nlike those used for testing with qemu this isn't long enough.\n\nSome testing by hand indicates that 15 seconds is about right so\nincrease the delay to 15 seconds via sysctl.conf.\n\nNote this may increase boot times in ipv6 only environments (though it\nis hard to be sure due to how systemd starts everything at once and does\nsocket activation and the like).\n\nChange-Id: I475a253091cbaf63687b91c748c31a6753bb0f57\n""}]",1,670102,5b5b78bf59ea0b11f08d235885048e9307a296f7,10,6,1,4146,,,0,"Set router solicitation delay with using NM

The linux kernel and NetworkManager fight each other over control for
interface management when router advertisements are in use. Long story
short if the linux kernel configures a network interface for ipv6
before NetworkManager attempts to manage that interface then NM will
ignore the interface and not configure ipv4 on it.

This can happen because the kernel is configured to send router
advertisements solicitations which result in router advertisements which
the kernel uses to configure the interface(s). There is a default of a 1
second delay before sending the solicitation which in many cases is long
enough that NM has started before then. However, in slower environments
like those used for testing with qemu this isn't long enough.

Some testing by hand indicates that 15 seconds is about right so
increase the delay to 15 seconds via sysctl.conf.

Note this may increase boot times in ipv6 only environments (though it
is hard to be sure due to how systemd starts everything at once and does
socket activation and the like).

Change-Id: I475a253091cbaf63687b91c748c31a6753bb0f57
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/02/670102/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/simple-init/post-install.d/80-simple-init'],1,5b5b78bf59ea0b11f08d235885048e9307a296f7,ra_solicity_delay, if [[ ${DIB_SIMPLE_INIT_NETWORKMANAGER} != 0 ]]; then # If we are using NetworkManager then we have to avoid having the kernel # configure ipv6 addresses on an interface (via router advertisements) # until NetworkManager starts. If the interface is configured by the # kernel before NetworkManager then NetworkManager will ignore the # interface and not configure ipv4 on it. It does this because it assumes # some other entity is in control of the interface. # Debian has a many year old long bug report detailing this behavior with # the most interesting comment being at the end: # https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=755202#331 echo 'net.ipv6.conf.default.router_solicitation_delay=15' >> /etc/sysctl.conf fi,,13,0
openstack%2Fkeystone~stable%2Fstein~Ica473ba71b224cdc0acf815f82d534b6c70a7f54,openstack/keystone,stable/stein,Ica473ba71b224cdc0acf815f82d534b6c70a7f54,"Revert ""Blacklist bandit 1.6.0""",MERGED,2019-06-24 13:57:15.000000000,2019-07-10 21:26:47.000000000,2019-07-10 21:26:46.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 10343}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-24 13:57:15.000000000', 'files': ['keystone/notifications.py', 'keystone/common/authorization.py', 'keystone/assignment/core.py', 'keystone/common/sql/migrate_repo/versions/104_drop_user_name_domainid_constraint.py', 'keystone/oauth1/core.py', 'keystone/identity/backends/sql_model.py', 'keystone/common/policies/base.py', 'keystone/common/sql/migrate_repo/versions/097_drop_user_name_domainid_constraint.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/90f9da82add76ca6a8d509528a2ddb616b0d76ce', 'message': 'Revert ""Blacklist bandit 1.6.0""\n\nThis reverts commit ebac8330d8ac81c491a1cb0e16eb23b93d7932ee.\n\nUsing the glob that I had not yet had enough coffee to do correctly is a\nbetter solution, and allows us to fix new failures in 1.6.0 which would\nbreak us again when 1.6.1 was released.\n\nChange-Id: Ica473ba71b224cdc0acf815f82d534b6c70a7f54\n(cherry picked from commit dc3175afb16fedaf5216b5d4a7a521d16636b4d1)\n'}]",0,667105,90f9da82add76ca6a8d509528a2ddb616b0d76ce,10,6,1,8482,,,0,"Revert ""Blacklist bandit 1.6.0""

This reverts commit ebac8330d8ac81c491a1cb0e16eb23b93d7932ee.

Using the glob that I had not yet had enough coffee to do correctly is a
better solution, and allows us to fix new failures in 1.6.0 which would
break us again when 1.6.1 was released.

Change-Id: Ica473ba71b224cdc0acf815f82d534b6c70a7f54
(cherry picked from commit dc3175afb16fedaf5216b5d4a7a521d16636b4d1)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/05/667105/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/authorization.py', 'keystone/notifications.py', 'keystone/assignment/core.py', 'keystone/common/sql/migrate_repo/versions/104_drop_user_name_domainid_constraint.py', 'keystone/oauth1/core.py', 'keystone/identity/backends/sql_model.py', 'keystone/common/policies/base.py', 'keystone/common/sql/migrate_repo/versions/097_drop_user_name_domainid_constraint.py', 'setup.cfg', 'tox.ini']",10,90f9da82add76ca6a8d509528a2ddb616b0d76ce,fix-bandit-stein, bandit -r keystone -x 'keystone/tests/*'commands = bandit -r keystone -x 'keystone/tests/*', bandit -r keystone -x testscommands = bandit -r keystone -x tests,15,14
openstack%2Freleases~master~Id67a8efd4ae5dcad0ea1e3955c7d82fa136867c0,openstack/releases,master,Id67a8efd4ae5dcad0ea1e3955c7d82fa136867c0,Release os-testr 1.1.0,MERGED,2019-07-09 06:29:21.000000000,2019-07-10 21:24:50.000000000,2019-07-10 21:24:50.000000000,"[{'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-09 06:29:21.000000000', 'files': ['deliverables/_independent/os-testr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/367ff8bc11879c8410624fc57b14d4184adeaa51', 'message': 'Release os-testr 1.1.0\n\nThis commit releases os-testr 1.1.0.\n\nWe have deprecated the ostestr command in favor of stestr[1]\nwhich makes this release to bump the minor version. Removal of\nostestr deprecated command is not yet planned but it will\nnot accept any further enhancement or bug fix.\n\n[1] I3a6084db9f86627e3e94abaa4fb4aec52a01126a\n\nChange-Id: Id67a8efd4ae5dcad0ea1e3955c7d82fa136867c0\n'}]",0,669794,367ff8bc11879c8410624fc57b14d4184adeaa51,7,3,1,8556,,,0,"Release os-testr 1.1.0

This commit releases os-testr 1.1.0.

We have deprecated the ostestr command in favor of stestr[1]
which makes this release to bump the minor version. Removal of
ostestr deprecated command is not yet planned but it will
not accept any further enhancement or bug fix.

[1] I3a6084db9f86627e3e94abaa4fb4aec52a01126a

Change-Id: Id67a8efd4ae5dcad0ea1e3955c7d82fa136867c0
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/669794/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/os-testr.yaml'],1,367ff8bc11879c8410624fc57b14d4184adeaa51,, - version: 1.1.0 projects: - repo: openstack/os-testr hash: 414bbf6d85550d0146f0885c1f5242e753471a81,,4,0
openstack%2Fopenstack-ansible~master~I5738524aaa786804733fa406f5bbf3e872190376,openstack/openstack-ansible,master,I5738524aaa786804733fa406f5bbf3e872190376,[Trivial Fix]misspelling,MERGED,2019-06-18 09:24:40.000000000,2019-07-10 21:19:57.000000000,2019-07-10 21:19:57.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-18 09:24:40.000000000', 'files': ['etc/openstack_deploy/conf.d/mistral.yml.example'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/245f6956b57f76c711d98b60af3d8c466be76d79', 'message': '[Trivial Fix]misspelling\n\nChange-Id: I5738524aaa786804733fa406f5bbf3e872190376\n'}]",0,665920,245f6956b57f76c711d98b60af3d8c466be76d79,7,3,1,24061,,,0,"[Trivial Fix]misspelling

Change-Id: I5738524aaa786804733fa406f5bbf3e872190376
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/20/665920/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/openstack_deploy/conf.d/mistral.yml.example'],1,245f6956b57f76c711d98b60af3d8c466be76d79,spelling,# The infra nodes that will be running the mistral services,# The infra nodes that will be running the mistal services,1,1
openstack%2Fopenstack-ansible~master~I6387b42341ef4c0c06e350a0d125c3abe8bd93e0,openstack/openstack-ansible,master,I6387b42341ef4c0c06e350a0d125c3abe8bd93e0,Collect /etc/ceph in gate logs,MERGED,2019-07-02 03:11:51.000000000,2019-07-10 21:19:55.000000000,2019-07-10 21:19:55.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-07-02 03:11:51.000000000', 'files': ['scripts/log-collect.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9d70e8e3783278fdf1dabdab1859c1478d79874e', 'message': 'Collect /etc/ceph in gate logs\n\nChange-Id: I6387b42341ef4c0c06e350a0d125c3abe8bd93e0\n'}]",0,668580,9d70e8e3783278fdf1dabdab1859c1478d79874e,9,3,1,17799,,,0,"Collect /etc/ceph in gate logs

Change-Id: I6387b42341ef4c0c06e350a0d125c3abe8bd93e0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/80/668580/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/log-collect.sh'],1,9d70e8e3783278fdf1dabdab1859c1478d79874e,, ceph \,,1,0
openstack%2Fopenstack-ansible~master~I11f1692bfcbe8cde6cb55f59799c3c2cab858cda,openstack/openstack-ansible,master,I11f1692bfcbe8cde6cb55f59799c3c2cab858cda,Reduce disk requirements for metal installations,MERGED,2019-06-28 09:41:10.000000000,2019-07-10 21:19:54.000000000,2019-07-10 21:19:54.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-28 09:41:10.000000000', 'files': ['tests/roles/bootstrap-host/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/00f63042f36624ea4fe66f6f39fef3138b81d773', 'message': ""Reduce disk requirements for metal installations\n\nWe don't need that much storage when doing on metal, as we don't\nneed the lxc containers.\n\nChange-Id: I11f1692bfcbe8cde6cb55f59799c3c2cab858cda\n""}]",0,668131,00f63042f36624ea4fe66f6f39fef3138b81d773,7,3,1,17068,,,0,"Reduce disk requirements for metal installations

We don't need that much storage when doing on metal, as we don't
need the lxc containers.

Change-Id: I11f1692bfcbe8cde6cb55f59799c3c2cab858cda
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/31/668131/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/defaults/main.yml'],1,00f63042f36624ea4fe66f6f39fef3138b81d773,do_not_require_50GB_of_disk_when_not_running_lxc,"# If metal, we don't need that much storage space. bootstrap_host_data_disk_min_size: ""{{ (bootstrap_host_scenario is search('metal')) | ternary(10,50) }}""",bootstrap_host_data_disk_min_size: 50,2,1
openstack%2Fos-net-config~master~Ic573cab63c1168c2bc2bc50c1e20c87c88202692,openstack/os-net-config,master,Ic573cab63c1168c2bc2bc50c1e20c87c88202692,Moving insignificant messages from error to warning in sriov_config.py,MERGED,2019-07-07 07:26:15.000000000,2019-07-10 21:10:53.000000000,2019-07-10 17:58:19.000000000,"[{'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25241}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-07-07 07:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/edfe73b0fb5f860ed4da695eb50ecf2db51afaa8', 'message': ""Moving insignificant messages from error to debug in sriov_config.py\n\nAs the messages from _wait_for_vf_creation() don't seem to be error\nmessages so just moving them to be warning\n\nChange-Id: Ic573cab63c1168c2bc2bc50c1e20c87c88202692\nCloses-Bug: #1833073\n""}, {'number': 2, 'created': '2019-07-09 14:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/0200e00c169c8eafbf20fbc1f60ee4ce41168e56', 'message': ""Moving insignificant messages from error to debug in sriov_config.py\n\nAs the messages from _wait_for_vf_creation() don't seem to be error\nmessages so just moving them to be warning\n\nChange-Id: Ic573cab63c1168c2bc2bc50c1e20c87c88202692\nCloses-Bug: #1833073\n""}, {'number': 3, 'created': '2019-07-09 14:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/cde07436b98a831ca1a478b3a2af40aa216198e4', 'message': ""Moving insignificant messages from error to warning in sriov_config.py\n\nAs the messages from _wait_for_vf_creation() don't seem to be error\nmessages so just moving them to be warning\n\nChange-Id: Ic573cab63c1168c2bc2bc50c1e20c87c88202692\nCloses-Bug: #1833073\n""}, {'number': 4, 'created': '2019-07-10 05:56:11.000000000', 'files': ['os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/54d96c4a70b29d9ff606291637db0d1728ee86f6', 'message': ""Moving insignificant messages from error to warning in sriov_config.py\n\nAs the messages from _wait_for_vf_creation() don't seem to be error\nmessages so just moving them to be warning\n\nChange-Id: Ic573cab63c1168c2bc2bc50c1e20c87c88202692\nCloses-Bug: #1833073\n""}]",4,669570,54d96c4a70b29d9ff606291637db0d1728ee86f6,33,11,4,25241,,,0,"Moving insignificant messages from error to warning in sriov_config.py

As the messages from _wait_for_vf_creation() don't seem to be error
messages so just moving them to be warning

Change-Id: Ic573cab63c1168c2bc2bc50c1e20c87c88202692
Closes-Bug: #1833073
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/70/669570/4 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/sriov_config.py'],1,edfe73b0fb5f860ed4da695eb50ecf2db51afaa8,bug/1833073," logger.debug(""Unable to parse event %s"" % event[""device""]) else: logger.debug(""%s is not a directory"" % pf_path)"," logger.error(""Unable to parse event %s"" % event[""device""]) else: logger.error(""%s is not a directory"" % pf_path)",2,2
openstack%2Fpython-keystoneclient~master~Ia23ddddb2c1488ea6bc036507f13e6adcf52108e,openstack/python-keystoneclient,master,Ia23ddddb2c1488ea6bc036507f13e6adcf52108e,Update the constraints url,MERGED,2019-07-03 06:54:30.000000000,2019-07-10 21:10:03.000000000,2019-07-10 21:10:03.000000000,"[{'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-07-03 06:54:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/54a3baf2904dddfe4e0888bb87a2d5db22d5f39b', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Ia23ddddb2c1488ea6bc036507f13e6adcf52108e\n'}]",0,668796,54a3baf2904dddfe4e0888bb87a2d5db22d5f39b,8,3,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Ia23ddddb2c1488ea6bc036507f13e6adcf52108e
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/96/668796/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,54a3baf2904dddfe4e0888bb87a2d5db22d5f39b,constraints, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Ftripleo-ansible~master~I971a082c8010f96ff5fcd21f121c78799282b2cf,openstack/tripleo-ansible,master,I971a082c8010f96ff5fcd21f121c78799282b2cf,correct octavia playbooks,MERGED,2019-07-10 01:48:51.000000000,2019-07-10 20:58:08.000000000,2019-07-10 20:58:08.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-10 01:48:51.000000000', 'files': ['tripleo_ansible/roles/octavia-undercloud/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/be2994d00b4fe229f3c17f31686e7dac2e042b73', 'message': 'correct octavia playbooks\n\nThere was a hanging conditional that could not be resolved, this change\ncorrects that issue.\n\nChange-Id: I971a082c8010f96ff5fcd21f121c78799282b2cf\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,669962,be2994d00b4fe229f3c17f31686e7dac2e042b73,8,4,1,7353,,,0,"correct octavia playbooks

There was a hanging conditional that could not be resolved, this change
corrects that issue.

Change-Id: I971a082c8010f96ff5fcd21f121c78799282b2cf
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/62/669962/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia-undercloud/tasks/main.yml'],1,be2994d00b4fe229f3c17f31686e7dac2e042b73,, - amp_image_filename is defined, - amp_image_filename is defined and,1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I6d68431fd3c66c9496a36d3cfa9c2efe57e2ed99,openstack/tripleo-heat-templates,stable/stein,I6d68431fd3c66c9496a36d3cfa9c2efe57e2ed99,Increase the default memlock to 64MiB via ``DockerNovaComputeUlimit``.,MERGED,2019-07-09 05:01:27.000000000,2019-07-10 20:53:16.000000000,2019-07-10 20:53:16.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 12898}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-09 05:01:27.000000000', 'files': ['releasenotes/notes/nova-memlock-increase-066ed22764ed3ce1.yaml', 'deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1293c460e95e6ccd6334954b0a4ecfe1c8deb3c3', 'message': 'Increase the default memlock to 64MiB via ``DockerNovaComputeUlimit``.\n\nThis builds on I0fb688bfe03cd0459f6f74ca37e3e6c913b0cbcb to raise the\nulimit for locked memory on nova containers[1].  This is needed because\nof [2] where the transient container nova_cell_v2_discover_hosts fails\nwith permission denied on ppc64le\n\nNote: this is a limit maximum not a pre-allocation so for existing\ncontainers and architectures the impact is expected to be a no-op.\n\n[1] Currently nova_compute and nova_cell_v2_discover_hosts\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1709564\n\nChange-Id: I6d68431fd3c66c9496a36d3cfa9c2efe57e2ed99\n(cherry picked from commit 6ce5989e49eb64cdf1bc13b8a27cdb0674ee0e23)\n'}]",0,669791,1293c460e95e6ccd6334954b0a4ecfe1c8deb3c3,9,8,1,17216,,,0,"Increase the default memlock to 64MiB via ``DockerNovaComputeUlimit``.

This builds on I0fb688bfe03cd0459f6f74ca37e3e6c913b0cbcb to raise the
ulimit for locked memory on nova containers[1].  This is needed because
of [2] where the transient container nova_cell_v2_discover_hosts fails
with permission denied on ppc64le

Note: this is a limit maximum not a pre-allocation so for existing
containers and architectures the impact is expected to be a no-op.

[1] Currently nova_compute and nova_cell_v2_discover_hosts
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1709564

Change-Id: I6d68431fd3c66c9496a36d3cfa9c2efe57e2ed99
(cherry picked from commit 6ce5989e49eb64cdf1bc13b8a27cdb0674ee0e23)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/669791/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nova-memlock-increase-066ed22764ed3ce1.yaml', 'deployment/nova/nova-compute-container-puppet.yaml']",2,1293c460e95e6ccd6334954b0a4ecfe1c8deb3c3,," default: ['nofile=131072', 'memlock=67108864']", default: ['nofile=131072'],10,1
openstack%2Frally-openstack~master~I43e6c253b11128a7233fcfafeab3e0175c553894,openstack/rally-openstack,master,I43e6c253b11128a7233fcfafeab3e0175c553894,[ci] Re-order jobs,MERGED,2019-07-10 17:14:56.000000000,2019-07-10 20:50:55.000000000,2019-07-10 20:50:55.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-10 17:14:56.000000000', 'files': ['tests/unit/rally_jobs/test_zuul_jobs.py', '.zuul.d/zuul.yaml', 'tests/unit/rally_jobs/test_jobs.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/5ebcb670a46e0212380f120c0df3fbf2bd823db4', 'message': '[ci] Re-order jobs\n\nChange-Id: I43e6c253b11128a7233fcfafeab3e0175c553894\n'}]",0,670140,5ebcb670a46e0212380f120c0df3fbf2bd823db4,6,2,1,9545,,,0,"[ci] Re-order jobs

Change-Id: I43e6c253b11128a7233fcfafeab3e0175c553894
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/40/670140/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/rally_jobs/test_zuul_jobs.py', '.zuul.d/zuul.yaml', 'tests/unit/rally_jobs/test_jobs.py']",3,5ebcb670a46e0212380f120c0df3fbf2bd823db4,ci_jobs,from tests.unit import fakes from tests.unit import test,from tests.unit import fakes from tests.unit import test ,104,8
openstack%2Fopenstack-ansible-os_neutron~stable%2Fstein~I26f7febd939ce6cdbe3d667cd9cdf0a6dcc3658f,openstack/openstack-ansible-os_neutron,stable/stein,I26f7febd939ce6cdbe3d667cd9cdf0a6dcc3658f,Enable l2 pop when ovs dvr (need to work),MERGED,2019-06-12 09:35:26.000000000,2019-07-10 20:41:04.000000000,2019-07-10 20:41:04.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-12 09:35:26.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/53305564842d608a624d0860b3e9eedcc9bb837c', 'message': 'Enable l2 pop when ovs dvr (need to work)\n\nWhen using dvr, l2 pop must be enabled. This patch make it happen by\ndefault.\n\nChange-Id: I26f7febd939ce6cdbe3d667cd9cdf0a6dcc3658f\n(cherry picked from commit c57812b0c213c26d82d37fbfe8965eeb0090b8cd)\n'}]",0,664839,53305564842d608a624d0860b3e9eedcc9bb837c,12,4,1,23182,,,0,"Enable l2 pop when ovs dvr (need to work)

When using dvr, l2 pop must be enabled. This patch make it happen by
default.

Change-Id: I26f7febd939ce6cdbe3d667cd9cdf0a6dcc3658f
(cherry picked from commit c57812b0c213c26d82d37fbfe8965eeb0090b8cd)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/39/664839/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,53305564842d608a624d0860b3e9eedcc9bb837c,,"# When using ovs dvr it must be enabled neutron_l2_population: ""{{ neutron_plugin_type == 'ml2.ovs.dvr' }}""","neutron_l2_population: ""False""",2,1
openstack%2Fopenstack-ansible-os_octavia~master~I7eb48add3171d885034eefb50ea8d135f8820655,openstack/openstack-ansible-os_octavia,master,I7eb48add3171d885034eefb50ea8d135f8820655,Added suse vars,ABANDONED,2018-10-02 16:21:11.000000000,2019-07-10 20:35:22.000000000,,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 27143}]","[{'number': 1, 'created': '2018-10-02 16:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/29db56eedb930055eb01a45beb81ff52b12995f1', 'message': 'Added suse vars\n\nThis change introduces variables specific to SUSE flavors.\n\nChange-Id: I7eb48add3171d885034eefb50ea8d135f8820655\n'}, {'number': 2, 'created': '2018-10-03 10:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/9cec7153dcab2b24dc35118229bcc35b45721537', 'message': 'Added suse vars\n\nThis change introduces variables specific to SUSE flavors.\n\nChange-Id: I7eb48add3171d885034eefb50ea8d135f8820655\n'}, {'number': 3, 'created': '2018-12-19 20:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/0df4eaa827c4ae67a3adfd8a2605f9cdc94f5a4b', 'message': 'Added suse vars\n\nThis change introduces variables specific to SUSE flavors.\n\nChange-Id: I7eb48add3171d885034eefb50ea8d135f8820655\n'}, {'number': 4, 'created': '2019-05-17 17:14:09.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/328e4ca82dd4c33cfe2d34cafc53ff7f04f77aad', 'message': 'Added suse vars\n\nThis change introduces variables specific to SUSE flavors.\n\nChange-Id: I7eb48add3171d885034eefb50ea8d135f8820655\n'}]",0,607304,328e4ca82dd4c33cfe2d34cafc53ff7f04f77aad,23,5,4,19298,,,0,"Added suse vars

This change introduces variables specific to SUSE flavors.

Change-Id: I7eb48add3171d885034eefb50ea8d135f8820655
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/04/607304/4 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,29db56eedb930055eb01a45beb81ff52b12995f1,suse_octavia,"--- # Copyright 2018, SUSE # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. octavia_distro_packages: - git-core - haproxy - iptables - libxml2-devel ",,20,0
openstack%2Fsahara-dashboard~master~Ia8787a65c110731f1dab9339f382b2680240cab3,openstack/sahara-dashboard,master,Ia8787a65c110731f1dab9339f382b2680240cab3,Bring now-deleted Horizon utils in-tree,MERGED,2019-07-10 13:57:30.000000000,2019-07-10 20:30:03.000000000,2019-07-10 20:30:03.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-10 13:57:30.000000000', 'files': ['sahara_dashboard/content/data_processing/clusters/nodegroup_templates/workflows/create.py'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/1b2eab6d45da449573f1cc5a3a69d04e16b56390', 'message': 'Bring now-deleted Horizon utils in-tree\n\nHorizon commit 26eebd4abbbabc1475bae61c51d1cfcf14dba770 deleted some\nneeded functions.\n\nChange-Id: Ia8787a65c110731f1dab9339f382b2680240cab3\nStory: 2006179\nTask: 35703\n'}]",0,670067,1b2eab6d45da449573f1cc5a3a69d04e16b56390,8,3,1,23078,,,0,"Bring now-deleted Horizon utils in-tree

Horizon commit 26eebd4abbbabc1475bae61c51d1cfcf14dba770 deleted some
needed functions.

Change-Id: Ia8787a65c110731f1dab9339f382b2680240cab3
Story: 2006179
Task: 35703
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/67/670067/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara_dashboard/content/data_processing/clusters/nodegroup_templates/workflows/create.py'],1,1b2eab6d45da449573f1cc5a3a69d04e16b56390,,"from openstack_dashboard.api import novadef volume_availability_zone_list(request): """"""Utility method to retrieve a list of volume availability zones."""""" try: if cinder.extension_supported(request, 'AvailabilityZones'): return cinder.availability_zone_list(request) return [] except Exception: exceptions.handle(request, _('Unable to retrieve volumes availability zones.')) return [] def instance_availability_zone_list(request): """"""Utility method to retrieve a list of instance availability zones."""""" try: return nova.availability_zone_list(request) except Exception: exceptions.handle(request, _('Unable to retrieve Nova availability zones.')) return [] for az in instance_availability_zone_list(request) for az in volume_availability_zone_list(",from openstack_dashboard.dashboards.project.volumes \ import utils as cinder_utils for az in nova_utils.availability_zone_list(request) for az in cinder_utils.availability_zone_list(,25,4
openstack%2Fpython-keystoneclient~master~I64ac952d663e916150fbf7e5a8f70b76dddf3319,openstack/python-keystoneclient,master,I64ac952d663e916150fbf7e5a8f70b76dddf3319,Add support for app cred access rules header,MERGED,2019-02-14 00:05:41.000000000,2019-07-10 20:15:19.000000000,2019-07-10 20:15:19.000000000,"[{'_account_id': 1916}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-14 00:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/a84b8f87c459f5f5321c0d25df053e3c768ee5a7', 'message': '[WIP] Add support for app cred capabilities header\n\nChange-Id: I64ac952d663e916150fbf7e5a8f70b76dddf3319\n'}, {'number': 2, 'created': '2019-02-14 00:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/2260bc2db4bf85bc268311fa1e61c0b67086281c', 'message': '[WIP] Add support for app cred capabilities header\n\nThis is required for the ""preventing regressions"" part of the spec[1].\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/stein/capabilities-app-creds.html#preventing-regressions\n\nChange-Id: I64ac952d663e916150fbf7e5a8f70b76dddf3319\n'}, {'number': 3, 'created': '2019-02-24 23:35:18.000000000', 'files': ['keystoneclient/v3/tokens.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/147efb0469734f793e917641649fd24bb9da317f', 'message': 'Add support for app cred access rules header\n\nThis header is set to indicate to the keystone server that the client,\nusually keystonemiddleware, will validate application credential access\nrules. If not provided and the token uses access rules, the server will\nreturn a 401.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I64ac952d663e916150fbf7e5a8f70b76dddf3319\n'}]",0,636786,147efb0469734f793e917641649fd24bb9da317f,11,4,3,8482,,,0,"Add support for app cred access rules header

This header is set to indicate to the keystone server that the client,
usually keystonemiddleware, will validate application credential access
rules. If not provided and the token uses access rules, the server will
return a 401.

bp whitelist-extension-for-app-creds

Change-Id: I64ac952d663e916150fbf7e5a8f70b76dddf3319
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/86/636786/2 && git format-patch -1 --stdout FETCH_HEAD,['keystoneclient/v3/tokens.py'],1,a84b8f87c459f5f5321c0d25df053e3c768ee5a7,bp/whitelist-extension-for-app-creds," def get_token_data(self, token, include_catalog=True, allow_expired=False, capabilities_support=None): :param capabilities_support: Version number indicating that the client is capable of enforcing keystone capability rules, if unset this client does not support capabilities. :type capabilities_support: float if capabilities_support: headers['OpenStack-Identity-Capabilities'] = capabilities_support def validate(self, token, include_catalog=True, allow_expired=False, capabilities_support=None): :param capabilities_support: Version number indicating that the client is capable of enforcing keystone capability rules, if unset this client does not support capabilities. :type capabilities_support: float allow_expired=allow_expired, capabilities_support=capabilities_support)"," def get_token_data(self, token, include_catalog=True, allow_expired=False): def validate(self, token, include_catalog=True, allow_expired=False): allow_expired=allow_expired)",18,3
openstack%2Fopenstack-ansible-os_glance~master~Ice0d53d4ac148c3e28abecbacac04be951000d19,openstack/openstack-ansible-os_glance,master,Ice0d53d4ac148c3e28abecbacac04be951000d19,Cap sphinx for py2 to match global requirements,MERGED,2019-06-07 01:52:19.000000000,2019-07-10 20:12:03.000000000,2019-07-10 20:12:03.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 01:52:19.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/9d0be06c1e0ac55814412d7ac701e09e48c23c94', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: Ice0d53d4ac148c3e28abecbacac04be951000d19\n'}]",0,663814,9d0be06c1e0ac55814412d7ac701e09e48c23c94,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: Ice0d53d4ac148c3e28abecbacac04be951000d19
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/14/663814/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,9d0be06c1e0ac55814412d7ac701e09e48c23c94,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-os_glance~master~I174bba199acd8c3486b15e4232ea42782bf9bbd1,openstack/openstack-ansible-os_glance,master,I174bba199acd8c3486b15e4232ea42782bf9bbd1,Update distro package names for openSUSE Leap 15.1,MERGED,2019-06-27 21:30:25.000000000,2019-07-10 20:12:02.000000000,2019-07-10 20:12:02.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 21:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/0ae1a1fd5edd19bef6cf41fafb7f4543988dfbd7', 'message': 'Switch to openSUSE Leap 15.1\n\nDepends-On: https://review.opendev.org/666058\nChange-Id: I174bba199acd8c3486b15e4232ea42782bf9bbd1\n'}, {'number': 2, 'created': '2019-06-28 08:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/ad3c4e16c85ab1789c9435bac7042e7ddb6476ec', 'message': 'Update distro package names for openSUSE Leap 15.1\n\nChange-Id: I174bba199acd8c3486b15e4232ea42782bf9bbd1\n'}, {'number': 3, 'created': '2019-06-28 12:58:42.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/b041c1df8b3281483b479b9a8350f95bcbb05d44', 'message': 'Update distro package names for openSUSE Leap 15.1\n\nChange-Id: I174bba199acd8c3486b15e4232ea42782bf9bbd1\n'}]",1,668058,b041c1df8b3281483b479b9a8350f95bcbb05d44,12,3,3,6593,,,0,"Update distro package names for openSUSE Leap 15.1

Change-Id: I174bba199acd8c3486b15e4232ea42782bf9bbd1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/58/668058/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,0ae1a1fd5edd19bef6cf41fafb7f4543988dfbd7,, - cron, - libxml2 - cronie,1,2
openstack%2Fnova~master~Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2,openstack/nova,master,Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2,Perf: Use dicts for ProviderTree roots,MERGED,2019-02-15 17:03:58.000000000,2019-07-10 20:11:35.000000000,2019-07-10 15:21:03.000000000,"[{'_account_id': 782}, {'_account_id': 2033}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2019-02-15 17:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fcee0952d836f093d7b33a3442c04ef6654c9122', 'message': ""WIP: Perf: Use dicts for ProviderTree roots\n\nProviderTree used to keep track of root providers in a list. Since we\ndon't yet have sharing providers, this would always be a list of one for\nnon-ironic deployments, or N for ironic deployments of N nodes.\n\nTo find a provider (by name or UUID), we would iterate over this list,\nan O(N) operation. For large ironic deployments, this added up fast -\nsee the referenced bug.\n\nWith this change, we store roots in two dicts: one keyed by UUID, one\nkeyed by name. To find a provider, we first check these dicts. If the\nprovider we're looking for is a root, this is now O(1). (If it's a\nchild, it would still be O(N), because we iterate over all the roots\nlooking for a descendant that matches. But ironic deployments don't have\nchild providers (yet?) (right?) so that should be n/a. For non-ironic\ndeployments it's unchanged: O(M) where M is the number of descendants,\nwhich should be very small for the time being.)\n\nWIP: test\n\nChange-Id: Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2\nCloses-Bug: #1816086\n""}, {'number': 2, 'created': '2019-07-09 21:28:19.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/compute/provider_tree.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8c797450cbff5194fb6791cd0a07fa060dc8af72', 'message': ""Perf: Use dicts for ProviderTree roots\n\nProviderTree used to keep track of root providers in a list. Since we\ndon't yet have sharing providers, this would always be a list of one for\nnon-ironic deployments, or N for ironic deployments of N nodes.\n\nTo find a provider (by name or UUID), we would iterate over this list,\nan O(N) operation. For large ironic deployments, this added up fast -\nsee the referenced bug.\n\nWith this change, we store roots in two dicts: one keyed by UUID, one\nkeyed by name. To find a provider, we first check these dicts. If the\nprovider we're looking for is a root, this is now O(1). (If it's a\nchild, it would still be O(N), because we iterate over all the roots\nlooking for a descendant that matches. But ironic deployments don't have\nchild providers (yet?) (right?) so that should be n/a. For non-ironic\ndeployments it's unchanged: O(M) where M is the number of descendants,\nwhich should be very small for the time being.)\n\nTest note: Existing tests in nova.tests.unit.compute.test_provider_tree\nthoroughly cover all the affected code paths. There was one usage of\nProviderTree.roots that was untested and broken (even before this\nchange) which is now fixed.\n\nChange-Id: Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2\nCloses-Bug: #1816086\n""}]",1,637225,8c797450cbff5194fb6791cd0a07fa060dc8af72,27,18,2,14070,,,0,"Perf: Use dicts for ProviderTree roots

ProviderTree used to keep track of root providers in a list. Since we
don't yet have sharing providers, this would always be a list of one for
non-ironic deployments, or N for ironic deployments of N nodes.

To find a provider (by name or UUID), we would iterate over this list,
an O(N) operation. For large ironic deployments, this added up fast -
see the referenced bug.

With this change, we store roots in two dicts: one keyed by UUID, one
keyed by name. To find a provider, we first check these dicts. If the
provider we're looking for is a root, this is now O(1). (If it's a
child, it would still be O(N), because we iterate over all the roots
looking for a descendant that matches. But ironic deployments don't have
child providers (yet?) (right?) so that should be n/a. For non-ironic
deployments it's unchanged: O(M) where M is the number of descendants,
which should be very small for the time being.)

Test note: Existing tests in nova.tests.unit.compute.test_provider_tree
thoroughly cover all the affected code paths. There was one usage of
ProviderTree.roots that was untested and broken (even before this
change) which is now fixed.

Change-Id: Ibf430a8bc2a2af9353b8cdf875f8506377a1c9c2
Closes-Bug: #1816086
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/637225/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/provider_tree.py'],1,fcee0952d836f093d7b33a3442c04ef6654c9122,bug/1816086,"import six self.roots_by_uuid = {} self.roots_by_name = {} @property def roots(self): return six.itervalues(self.roots_by_uuid) self.roots_by_uuid[provider.uuid] = provider self.roots_by_name[provider.name] = provider del self.roots_by_uuid[found.uuid] del self.roots_by_name[found.name] self.roots_by_uuid[uuid] = p self.roots_by_name[name] = p # Optimization for large number of roots (e.g. ironic): if name_or_uuid # represents a root, this is O(1). found = self.roots_by_uuid.get(name_or_uuid) if found: return found found = self.roots_by_name.get(name_or_uuid) if found: return found # Okay, it's a child; do it the hard way.", self.roots = [] self.roots.append(provider) self.roots.remove(found) self.roots.append(p),23,4
openstack%2Fopenstack-ansible-os_heat~master~Ia4527b79a6d652cbc8907b961daf4e58665e1a2e,openstack/openstack-ansible-os_heat,master,Ia4527b79a6d652cbc8907b961daf4e58665e1a2e,Tidy distro package lists for openSUSE Leap 15.1,MERGED,2019-06-27 21:23:27.000000000,2019-07-10 20:09:09.000000000,2019-07-10 20:09:09.000000000,"[{'_account_id': 1004}, {'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 21:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/118e585eb094d787b1ebbb4fc0b9a08c2243333b', 'message': 'Switch to openSUSE Leap 15.1\n\nDepends-On: https://review.opendev.org/666058\nChange-Id: Ia4527b79a6d652cbc8907b961daf4e58665e1a2e\n'}, {'number': 2, 'created': '2019-06-28 08:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/db295f73a1c19c183afc17921d67793e1ead78a5', 'message': 'Tidy distro package lists for openSUSE Leap 15.1\n\nChange-Id: Ia4527b79a6d652cbc8907b961daf4e58665e1a2e\n'}, {'number': 3, 'created': '2019-06-28 12:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/a5cec38505a56eeb14287163ee8b4e6ad3f89ce4', 'message': 'Switch to openSUSE Leap 15.1\n\nChange-Id: Ia4527b79a6d652cbc8907b961daf4e58665e1a2e\n'}, {'number': 4, 'created': '2019-06-28 12:20:27.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/3bb50ce07d2942777fedd9a881e075f9da643455', 'message': 'Tidy distro package lists for openSUSE Leap 15.1\n\nChange-Id: Ia4527b79a6d652cbc8907b961daf4e58665e1a2e\n'}]",2,668055,3bb50ce07d2942777fedd9a881e075f9da643455,14,4,4,6593,,,0,"Tidy distro package lists for openSUSE Leap 15.1

Change-Id: Ia4527b79a6d652cbc8907b961daf4e58665e1a2e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/55/668055/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,118e585eb094d787b1ebbb4fc0b9a08c2243333b,,, - libxslt - which - uwsgi,0,3
openstack%2Fopenstack-helm-images~master~I84093f36b24b42d0261a0a8fe393fe06fe57fdb2,openstack/openstack-helm-images,master,I84093f36b24b42d0261a0a8fe393fe06fe57fdb2,"Revert ""Revert ""Freeze images with a date""""",MERGED,2019-06-06 18:37:26.000000000,2019-07-10 20:06:20.000000000,2019-07-10 20:01:27.000000000,"[{'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 18:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4d61697331698fcaf6b793ebd56be5c9354934e2', 'message': 'Revert ""Revert ""Freeze images with a date""""\n\nThis reverts commit 6965e1d4e237e0707293704395958c44617a928e.\n\nChange-Id: I84093f36b24b42d0261a0a8fe393fe06fe57fdb2\n'}, {'number': 2, 'created': '2019-06-18 20:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/709bfef577f17ab2d44e2a551662f8b5f5c48174', 'message': 'Revert ""Revert ""Freeze images with a date""""\n\nThis reverts commit 6965e1d4e237e0707293704395958c44617a928e.\n\nChange-Id: I84093f36b24b42d0261a0a8fe393fe06fe57fdb2\n'}, {'number': 3, 'created': '2019-06-19 11:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5158367192d7d7f65b86916fd801db1bb22c0583', 'message': 'Revert ""Revert ""Freeze images with a date""""\n\nThis reverts commits 6965e1d4e237e0707293704395958c44617a928e,\n5cc8cd84150efef2eccd2a84f6276d093956fab6.\n\nIt also freezes the newest image osh-selenium.\n\nChange-Id: I84093f36b24b42d0261a0a8fe393fe06fe57fdb2\n'}, {'number': 4, 'created': '2019-06-27 09:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8c149b9d15175997032d0dd677b075a6d806d6d7', 'message': 'Revert ""Revert ""Freeze images with a date""""\n\nThis reverts commits 6965e1d4e237e0707293704395958c44617a928e,\n5cc8cd84150efef2eccd2a84f6276d093956fab6.\n\nIt also freezes the newest image osh-selenium,\nprometheus-openstack-exporter, and nagios.\n\nThis leverages an approach which needs Ansible2.8, already tested\nand (demonstrated working) for libvirt [1].\n\n[1]: https://review.opendev.org/#/c/667339/\n\nChange-Id: I84093f36b24b42d0261a0a8fe393fe06fe57fdb2\n'}, {'number': 5, 'created': '2019-06-27 10:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/74f9b813b175168a69feed9af108fa964807217e', 'message': 'Revert ""Revert ""Freeze images with a date""""\n\nThis reverts commits 6965e1d4e237e0707293704395958c44617a928e,\n5cc8cd84150efef2eccd2a84f6276d093956fab6.\n\nIt also freezes the newly added images for osh-selenium,\nprometheus-openstack-exporter, nagios, and ovs.\n\nThis leverages an approach which needs Ansible2.8, already tested\nand (demonstrated working) for libvirt [1].\n\n[1]: https://review.opendev.org/#/c/667339/\n\nChange-Id: I84093f36b24b42d0261a0a8fe393fe06fe57fdb2\n'}, {'number': 6, 'created': '2019-06-28 06:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/67f092fcc33dd45568c5d11e5c192cca6348486c', 'message': 'Revert ""Revert ""Freeze images with a date""""\n\nThis reverts commits 6965e1d4e237e0707293704395958c44617a928e,\n5cc8cd84150efef2eccd2a84f6276d093956fab6.\n\nIt also freezes the newly added images for osh-selenium,\nprometheus-openstack-exporter, nagios, and ovs.\n\nLOCI images will be done in a different patch.\n\nThis leverages an approach which needs Ansible2.8, already tested\nand (demonstrated working) for libvirt [1].\n\n[1]: https://review.opendev.org/#/c/667339/\n\nChange-Id: I84093f36b24b42d0261a0a8fe393fe06fe57fdb2\n'}, {'number': 7, 'created': '2019-07-10 18:41:06.000000000', 'files': ['zuul.d/calicoctl-utility.yaml', 'zuul.d/fluentd.yaml', 'zuul.d/ceph-utility.yaml', 'zuul.d/gate-utils.yaml', 'zuul.d/tempest.yaml', 'zuul.d/ceph-daemon.yaml', 'zuul.d/patroni.yaml', 'zuul.d/ceph-config-helper.yaml', 'zuul.d/ceph-rbd-provisioner.yaml', 'zuul.d/osh-selenium.yaml', 'zuul.d/nagios.yaml', 'zuul.d/vbmc.yaml', 'zuul.d/prometheus-openstack-exporter.yaml', 'zuul.d/ceph-cephfs-provisioner.yaml', 'zuul.d/mini-mirror.yaml', 'zuul.d/elasticsearch-s3.yaml', 'zuul.d/mariadb.yaml', 'zuul.d/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/606ef4df866487151c876bf776cad6288ece7760', 'message': 'Revert ""Revert ""Freeze images with a date""""\n\nThis reverts commits 6965e1d4e237e0707293704395958c44617a928e,\n5cc8cd84150efef2eccd2a84f6276d093956fab6.\n\nIt also freezes the newly added images for osh-selenium,\nprometheus-openstack-exporter, nagios, and ovs.\n\nLOCI images will be done in a different patch.\n\nThis leverages an approach which needs Ansible2.8, already tested\nand (demonstrated working) for libvirt [1].\n\n[1]: https://review.opendev.org/#/c/667339/\n\nChange-Id: I84093f36b24b42d0261a0a8fe393fe06fe57fdb2\n'}]",0,663744,606ef4df866487151c876bf776cad6288ece7760,28,5,7,17068,,,0,"Revert ""Revert ""Freeze images with a date""""

This reverts commits 6965e1d4e237e0707293704395958c44617a928e,
5cc8cd84150efef2eccd2a84f6276d093956fab6.

It also freezes the newly added images for osh-selenium,
prometheus-openstack-exporter, nagios, and ovs.

LOCI images will be done in a different patch.

This leverages an approach which needs Ansible2.8, already tested
and (demonstrated working) for libvirt [1].

[1]: https://review.opendev.org/#/c/667339/

Change-Id: I84093f36b24b42d0261a0a8fe393fe06fe57fdb2
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/44/663744/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/calicoctl-utility.yaml', 'zuul.d/fluentd.yaml', 'zuul.d/ceph-utility.yaml', 'zuul.d/gate-utils.yaml', 'zuul.d/tempest.yaml', 'zuul.d/ceph-daemon.yaml', 'zuul.d/patroni.yaml', 'zuul.d/libvirt.yaml', 'zuul.d/ceph-config-helper.yaml', 'zuul.d/ceph-rbd-provisioner.yaml', 'zuul.d/vbmc.yaml', 'zuul.d/ceph-cephfs-provisioner.yaml', 'zuul.d/mini-mirror.yaml', 'zuul.d/openstack-loci.yaml', 'zuul.d/mariadb.yaml', 'zuul.d/openvswitch.yaml']",16,4d61697331698fcaf6b793ebd56be5c9354934e2,add_date_to_tag," currentdate: ""{{ ansible_date_time['date'].replace('-','') }}"" - ""opensuse_15-{{ currentdate }}"" - ""debian-{{ currentdate }}"" - ""debian-dpdk-{{ currentdate }}""",,43,1
openstack%2Fopenstack-ansible-os_keystone~master~Id76a64dccc3a48bbc1e7b95337cd99acdc0e6cf3,openstack/openstack-ansible-os_keystone,master,Id76a64dccc3a48bbc1e7b95337cd99acdc0e6cf3,Update distro package names for openSUSE Leap 15.1,MERGED,2019-06-27 21:28:39.000000000,2019-07-10 20:03:48.000000000,2019-07-10 20:03:48.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 21:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/122caad778d18e966824a299abdb37e4a95c8751', 'message': 'Switch to openSUSE Leap 15.1\n\nDepends-On: https://review.opendev.org/666058\nChange-Id: Id76a64dccc3a48bbc1e7b95337cd99acdc0e6cf3\n'}, {'number': 2, 'created': '2019-06-28 07:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/362f45005b4489e70ea7a27ef10a4fc2ed4f90d2', 'message': 'Update distro package names for openSUSE Leap 15.1\n\nRemove unecessary packages and update names where required.\n\nDepends-On: https://review.opendev.org/666058\nChange-Id: Id76a64dccc3a48bbc1e7b95337cd99acdc0e6cf3\n'}, {'number': 3, 'created': '2019-06-28 08:42:37.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/e968c4487e7b85d9d765885d8cd72e4969ea37e6', 'message': 'Update distro package names for openSUSE Leap 15.1\n\nRemove unecessary packages and update names where required.\n\nChange-Id: Id76a64dccc3a48bbc1e7b95337cd99acdc0e6cf3\n'}]",1,668057,e968c4487e7b85d9d765885d8cd72e4969ea37e6,11,3,3,6593,,,0,"Update distro package names for openSUSE Leap 15.1

Remove unecessary packages and update names where required.

Change-Id: Id76a64dccc3a48bbc1e7b95337cd99acdc0e6cf3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/57/668057/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,122caad778d18e966824a299abdb37e4a95c8751,, - cronkeystone_sshd: sshd , - cronie - libpython2_7-1_0 - whichkeystone_sshd: sshd,2,4
openstack%2Fcharm-percona-cluster~master~Ia4e0e86e7d10b2b22148237688ff77cac4ebee7d,openstack/charm-percona-cluster,master,Ia4e0e86e7d10b2b22148237688ff77cac4ebee7d,Display bootstrap grstate after cold boot,MERGED,2019-06-26 23:21:36.000000000,2019-07-10 19:36:40.000000000,2019-07-10 19:36:40.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 26040}]","[{'number': 1, 'created': '2019-06-26 23:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/f2d48df9c73f39e827c7eec25a77479a0f24d0be', 'message': 'Display bootstrap grstate after cold boot\n\nTo assist in DB cluster recovery after a cold boot, display the\ngrstate sequence number and the safe to boot status of the instance\nin workload status.\n\nChange-Id: Ia4e0e86e7d10b2b22148237688ff77cac4ebee7d\n'}, {'number': 2, 'created': '2019-07-08 21:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/2e666c7c5b084fd2b1a214d2ad7921a337f077c5', 'message': 'Display bootstrap grstate after cold boot\n\nTo assist in DB cluster recovery after a cold boot, display the\ngrstate sequence number and the safe to boot status of the instance\nin workload status.\n\nChange-Id: Ia4e0e86e7d10b2b22148237688ff77cac4ebee7d\n'}, {'number': 3, 'created': '2019-07-08 21:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/fa3fc2dc543aec8d52e1ffe12ce2eaf49ea93bea', 'message': 'Display bootstrap grstate after cold boot\n\nTo assist in DB cluster recovery after a cold boot, display the\ngrstate sequence number and the safe to boot status of the instance\nin workload status.\n\nChange-Id: Ia4e0e86e7d10b2b22148237688ff77cac4ebee7d\n'}, {'number': 4, 'created': '2019-07-09 22:00:30.000000000', 'files': ['unit_tests/test_percona_utils.py', 'unit_tests/test_utils.py', 'hooks/percona_hooks.py', 'hooks/percona_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/910449f6decf512914d67e58de772f1c0f73aace', 'message': 'Display bootstrap grstate after cold boot\n\nTo assist in DB cluster recovery after a cold boot, display the\ngrstate sequence number and the safe to boot status of the instance\nin workload status.\n\nChange-Id: Ia4e0e86e7d10b2b22148237688ff77cac4ebee7d\n'}]",7,667753,910449f6decf512914d67e58de772f1c0f73aace,30,4,4,20805,,,0,"Display bootstrap grstate after cold boot

To assist in DB cluster recovery after a cold boot, display the
grstate sequence number and the safe to boot status of the instance
in workload status.

Change-Id: Ia4e0e86e7d10b2b22148237688ff77cac4ebee7d
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/53/667753/4 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_percona_utils.py', 'hooks/percona_hooks.py', 'hooks/percona_utils.py']",3,f2d48df9c73f39e827c7eec25a77479a0f24d0be,display-grstate,"import yamlINITIAL_CLIENT_UPDATE_KEY = 'initial_client_update_done' kvstore = kv() # Using INITIAL_CLIENT_UPDATE_KEY as this is a step beyond merely # clustered, but rather clustered and clients were previously notified. if (kvstore.get(INITIAL_CLIENT_UPDATE_KEY, False) and not check_mysql_connection()): return ('blocked', 'MySQL is down. Sequence Number: {}. Safe To Bootstrap: {}' .format(get_grstate_seqno(), get_grstate_safe_to_bootstrap())) def check_mysql_connection(): """"""Check if local instance of mysql is accessible. Attempt a connection to the local instance of mysql to determine if it is running and accessible. :side effect: Uses get_db_helper to execute a connection to the DB. :returns: boolean """""" m_helper = get_db_helper() try: m_helper.connect(password=m_helper.get_mysql_root_password()) return True except OperationalError: log(""Could not connect to db"", DEBUG) return False def get_grstate_seqno(): """"""Get GR State safe sequence number. Read the grstate yaml file to determine the sequence number for this instance. :returns: int Sequence Number """""" grstate_file = os.path.join(resolve_data_dir(), ""grastate.dat"") if os.path.exists(grstate_file): with open(grstate_file, 'r') as f: grstate = yaml.safe_load(f) return grstate.get(""seqno"") def get_grstate_safe_to_bootstrap(): """"""Get GR State safe to bootstrap. Read the grstate yaml file to determine if it is safe to bootstrap from this instance. :returns: int Safe to bootstrap 0 or 1 """""" grstate_file = os.path.join(resolve_data_dir(), ""grastate.dat"") if os.path.exists(grstate_file): with open(grstate_file, 'r') as f: grstate = yaml.safe_load(f) return grstate.get(""safe_to_bootstrap"") def set_grstate_safe_to_bootstrap(): """"""Set GR State safe to bootstrap. Update the grstate yaml file to indicate it is safe to bootstrap from this instance. :side effect: Writes the grstate.dat file. :returns: None """""" grstate_file = os.path.join(resolve_data_dir(), ""grastate.dat"") if not os.path.exists(grstate_file): return with open(grstate_file, 'r') as f: grstate = yaml.safe_load(f) # Force safe to bootstrap grstate[""safe_to_bootstrap""] = 1 with open(grstate_file, 'w') as f: f.write(yaml.dump(grstate))",,140,3
openstack%2Fproject-config~master~I4fa3198988fcab29efc3d57066300aaae1363264,openstack/project-config,master,I4fa3198988fcab29efc3d57066300aaae1363264,Retire docs-specs,MERGED,2019-07-03 09:56:16.000000000,2019-07-10 19:22:41.000000000,2019-07-10 19:22:40.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 09:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/229f5134e7908239b2473ca169cb2440df09d906', 'message': 'Retire docs-specs\n\nChange-Id: I4fa3198988fcab29efc3d57066300aaae1363264\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: I557bace8008cc3b4fc1f78264f93291c49f897ad\n'}, {'number': 2, 'created': '2019-07-08 16:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a6f9feaa9f4142c87535ae6da6077cc29a77686d', 'message': 'Retire docs-specs\n\nChange-Id: I4fa3198988fcab29efc3d57066300aaae1363264\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: I557bace8008cc3b4fc1f78264f93291c49f897ad\n'}, {'number': 3, 'created': '2019-07-09 17:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c0c37d9751bbaa7dfa3530fbeee12a7384eb548b', 'message': 'Retire docs-specs\n\nChange-Id: I4fa3198988fcab29efc3d57066300aaae1363264\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: I557bace8008cc3b4fc1f78264f93291c49f897ad\n'}, {'number': 4, 'created': '2019-07-10 15:54:06.000000000', 'files': ['gerritbot/channels.yaml', 'specs/specs.yaml', 'gerrit/acls/openstack/docs-specs.config', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0e8b518bd15f600d8024581c5849dcf1ef11f0da', 'message': 'Retire docs-specs\n\nChange-Id: I4fa3198988fcab29efc3d57066300aaae1363264\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: I557bace8008cc3b4fc1f78264f93291c49f897ad\n'}]",2,668854,0e8b518bd15f600d8024581c5849dcf1ef11f0da,17,4,4,15334,,,0,"Retire docs-specs

Change-Id: I4fa3198988fcab29efc3d57066300aaae1363264
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Depends-On: I557bace8008cc3b4fc1f78264f93291c49f897ad
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/668854/4 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'specs/specs.yaml', 'gerrit/acls/openstack/docs-specs.config', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",6,229f5134e7908239b2473ca169cb2440df09d906,retire-docs-specs,, - openstack/docs-specs,2,21
openstack%2Fopenstack-ansible-repo_build~master~Ic7ffd036f881b8b75063f0a0ee213568d122e047,openstack/openstack-ansible-repo_build,master,Ic7ffd036f881b8b75063f0a0ee213568d122e047,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 09:54:55.000000000,2019-07-10 18:58:59.000000000,2019-07-10 18:58:59.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 09:54:55.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_build/commit/de9b35da95e1bae81966b067e19b0f713a183274', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: Ic7ffd036f881b8b75063f0a0ee213568d122e047\n'}]",0,663573,de9b35da95e1bae81966b067e19b0f713a183274,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: Ic7ffd036f881b8b75063f0a0ee213568d122e047
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_build refs/changes/73/663573/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,de9b35da95e1bae81966b067e19b0f713a183274,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-rsyslog_client~master~I08365bec65288dd07235affac43efd1965d87a69,openstack/openstack-ansible-rsyslog_client,master,I08365bec65288dd07235affac43efd1965d87a69,Cap sphinx for py2 to match global requirements,MERGED,2019-06-07 02:19:12.000000000,2019-07-10 18:58:01.000000000,2019-07-10 18:58:01.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 02:19:12.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/898c4653b7c4282f70bcc4c30521845eb2427f60', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I08365bec65288dd07235affac43efd1965d87a69\n'}]",0,663824,898c4653b7c4282f70bcc4c30521845eb2427f60,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I08365bec65288dd07235affac43efd1965d87a69
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/24/663824/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,898c4653b7c4282f70bcc4c30521845eb2427f60,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-os_neutron~master~Ia235fb56926f777b58d7aa1059ec36d8e2cef599,openstack/openstack-ansible-os_neutron,master,Ia235fb56926f777b58d7aa1059ec36d8e2cef599,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 08:48:29.000000000,2019-07-10 18:58:00.000000000,2019-07-10 18:57:59.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 08:48:29.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/15d6e598e76bcafefdc566840c7e2a626c7a9779', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: Ia235fb56926f777b58d7aa1059ec36d8e2cef599\n'}]",0,663544,15d6e598e76bcafefdc566840c7e2a626c7a9779,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: Ia235fb56926f777b58d7aa1059ec36d8e2cef599
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/44/663544/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,15d6e598e76bcafefdc566840c7e2a626c7a9779,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-haproxy_server~master~Ie5de95c56696437e17d0d1c7b76c21a27900955c,openstack/openstack-ansible-haproxy_server,master,Ie5de95c56696437e17d0d1c7b76c21a27900955c,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 09:33:02.000000000,2019-07-10 18:57:49.000000000,2019-07-10 18:57:49.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 09:33:02.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/fee9228d22cb8e20c239fcb9d925812a60728fdd', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: Ie5de95c56696437e17d0d1c7b76c21a27900955c\n'}]",0,663562,fee9228d22cb8e20c239fcb9d925812a60728fdd,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: Ie5de95c56696437e17d0d1c7b76c21a27900955c
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/62/663562/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,fee9228d22cb8e20c239fcb9d925812a60728fdd,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-os_horizon~master~I66cc7f9d99d2fa0edeecdb05dfb9b6a4eef5f988,openstack/openstack-ansible-os_horizon,master,I66cc7f9d99d2fa0edeecdb05dfb9b6a4eef5f988,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 09:30:48.000000000,2019-07-10 18:57:44.000000000,2019-07-10 18:57:44.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 09:30:48.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/841936b7fd5ecc6e4c801c884e7f7de4e70fcace', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I66cc7f9d99d2fa0edeecdb05dfb9b6a4eef5f988\n'}]",0,663561,841936b7fd5ecc6e4c801c884e7f7de4e70fcace,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I66cc7f9d99d2fa0edeecdb05dfb9b6a4eef5f988
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/61/663561/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,841936b7fd5ecc6e4c801c884e7f7de4e70fcace,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-os_cinder~master~I339079aac65234d83daebdf809704a37fda41ee8,openstack/openstack-ansible-os_cinder,master,I339079aac65234d83daebdf809704a37fda41ee8,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 09:58:09.000000000,2019-07-10 18:56:17.000000000,2019-07-10 18:56:17.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 09:58:09.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/6014558104e641c810a757bde6566824f362133e', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I339079aac65234d83daebdf809704a37fda41ee8\n'}]",0,663576,6014558104e641c810a757bde6566824f362133e,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I339079aac65234d83daebdf809704a37fda41ee8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/76/663576/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,6014558104e641c810a757bde6566824f362133e,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-ops~master~I774e025d036c6e61d9b61d50fbb21eedef3c7a01,openstack/openstack-ansible-ops,master,I774e025d036c6e61d9b61d50fbb21eedef3c7a01,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 08:09:57.000000000,2019-07-10 18:56:17.000000000,2019-07-10 18:56:16.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 08:09:57.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/2cb067ee7ba6fe7970ad5487ecbac0c26e251eb1', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I774e025d036c6e61d9b61d50fbb21eedef3c7a01\n'}]",0,663534,2cb067ee7ba6fe7970ad5487ecbac0c26e251eb1,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I774e025d036c6e61d9b61d50fbb21eedef3c7a01
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/34/663534/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,2cb067ee7ba6fe7970ad5487ecbac0c26e251eb1,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-rabbitmq_server~master~I6de515536421eb41814caad46cbae5042389ba64,openstack/openstack-ansible-rabbitmq_server,master,I6de515536421eb41814caad46cbae5042389ba64,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 09:42:35.000000000,2019-07-10 18:56:11.000000000,2019-07-10 18:56:11.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 09:42:35.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/f7db94a100df61d35718618e1d9d812076092940', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I6de515536421eb41814caad46cbae5042389ba64\n'}]",0,663568,f7db94a100df61d35718618e1d9d812076092940,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I6de515536421eb41814caad46cbae5042389ba64
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/68/663568/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,f7db94a100df61d35718618e1d9d812076092940,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fswift~master~I2238ec7fb0325167c53757b62ff9eb2ce5576fa4,openstack/swift,master,I2238ec7fb0325167c53757b62ff9eb2ce5576fa4,container: Unify storage-policy error paths,MERGED,2019-05-21 21:09:05.000000000,2019-07-10 18:56:06.000000000,2019-07-10 18:54:28.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-21 21:09:05.000000000', 'files': ['swift/container/server.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/53f8ccb4a3f5007db673a52ce17f80c50720fd49', 'message': ""container: Unify storage-policy error paths\n\nWhile we're at it, use the right header name.\n\nChange-Id: I2238ec7fb0325167c53757b62ff9eb2ce5576fa4\n""}]",2,660525,53f8ccb4a3f5007db673a52ce17f80c50720fd49,8,3,1,15343,,,0,"container: Unify storage-policy error paths

While we're at it, use the right header name.

Change-Id: I2238ec7fb0325167c53757b62ff9eb2ce5576fa4
",git fetch https://review.opendev.org/openstack/swift refs/changes/25/660525/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/server.py'],1,53f8ccb4a3f5007db673a52ce17f80c50720fd49,," header = 'X-Backend-Storage-Policy-Index' policy_index = req.headers.get(header, None) policy = POLICIES.get_by_index(policy_index) if policy is None: raise ValueError body=""Invalid %s %r"" % (header, policy_index)) else: return int(policy)"," policy_index = req.headers.get('X-Backend-Storage-Policy-Index', None) body=(""Invalid X-Storage-Policy-Index %r"" % policy_index)) policy = POLICIES.get_by_index(policy_index) if policy is None: raise HTTPBadRequest( request=req, content_type=""text/plain"", body=(""Invalid X-Storage-Policy-Index %r"" % policy_index)) return int(policy)",8,10
openstack%2Fopenstack-ansible-openstack_openrc~master~I63d8b67a28504b17b0fc7d6cf14294e0930d77a6,openstack/openstack-ansible-openstack_openrc,master,I63d8b67a28504b17b0fc7d6cf14294e0930d77a6,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 09:27:46.000000000,2019-07-10 18:55:24.000000000,2019-07-10 18:55:24.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 09:27:46.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/c7d8cc56f6742cfa5921e9d12f9c96078a66bf18', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I63d8b67a28504b17b0fc7d6cf14294e0930d77a6\n'}]",0,663559,c7d8cc56f6742cfa5921e9d12f9c96078a66bf18,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I63d8b67a28504b17b0fc7d6cf14294e0930d77a6
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/59/663559/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,c7d8cc56f6742cfa5921e9d12f9c96078a66bf18,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-os_tempest~master~I5fef90b25da34af029285d531a541cdfe721210c,openstack/openstack-ansible-os_tempest,master,I5fef90b25da34af029285d531a541cdfe721210c,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 09:52:15.000000000,2019-07-10 18:55:21.000000000,2019-07-10 18:55:21.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 09:52:15.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/26982e00245d33ff6b19d8fc54794df9e436d5b0', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I5fef90b25da34af029285d531a541cdfe721210c\n'}]",0,663571,26982e00245d33ff6b19d8fc54794df9e436d5b0,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I5fef90b25da34af029285d531a541cdfe721210c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/71/663571/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,26982e00245d33ff6b19d8fc54794df9e436d5b0,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-tests~master~Ie187a3e22a38a3b54b88cc8ae71bd5f7f25a08f7,openstack/openstack-ansible-tests,master,Ie187a3e22a38a3b54b88cc8ae71bd5f7f25a08f7,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 10:12:06.000000000,2019-07-10 18:55:04.000000000,2019-07-10 18:55:04.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 10:12:06.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/f1bb5726b2c9f572b247edb2172347eef046f69e', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: Ie187a3e22a38a3b54b88cc8ae71bd5f7f25a08f7\n'}]",0,663581,f1bb5726b2c9f572b247edb2172347eef046f69e,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: Ie187a3e22a38a3b54b88cc8ae71bd5f7f25a08f7
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/81/663581/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,f1bb5726b2c9f572b247edb2172347eef046f69e,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-os_designate~master~I023947ba2c2ff8a59cdd98c19bd2770470b1751b,openstack/openstack-ansible-os_designate,master,I023947ba2c2ff8a59cdd98c19bd2770470b1751b,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 09:36:21.000000000,2019-07-10 18:54:38.000000000,2019-07-10 18:54:37.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 09:36:21.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/ea49d93ab2d6441b776102d2a5a29d2c496cfb52', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I023947ba2c2ff8a59cdd98c19bd2770470b1751b\n'}]",0,663564,ea49d93ab2d6441b776102d2a5a29d2c496cfb52,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I023947ba2c2ff8a59cdd98c19bd2770470b1751b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/64/663564/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,ea49d93ab2d6441b776102d2a5a29d2c496cfb52,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fmonasca-tempest-plugin~master~I87c38faf41f7c1bff72d45d238a6f38751fad483,openstack/monasca-tempest-plugin,master,I87c38faf41f7c1bff72d45d238a6f38751fad483,Use unicode literals in test_metrics,MERGED,2019-06-07 12:51:39.000000000,2019-07-10 18:54:34.000000000,2019-07-10 18:54:34.000000000,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 23735}, {'_account_id': 25553}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2019-06-07 12:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/bd3ddfd145ded9df882ad6ebed6932deefb2f97a', 'message': 'Encode metric names and dimensions in test_metrics\n\nThe change explicitly encodes all metric names and dimensions. It makes\nthe tests more robust and avoids failures when these contain non-ASCII\ncharacters.\n\nThe code uses oslo_utils.encodeutils to correctly handle Python 2 and\nPython 3 deployments.\n\nChange-Id: I87c38faf41f7c1bff72d45d238a6f38751fad483\nStory: 2005841\nTask: 33613\n'}, {'number': 2, 'created': '2019-06-24 08:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/73c71649d13d75afba9d5991e5bf729059c549d9', 'message': 'Encode metric names and dimensions in test_metrics\n\nThe change explicitly encodes all metric names and dimensions. It makes\nthe tests more robust and avoids failures when these contain non-ASCII\ncharacters.\n\nThe code uses oslo_utils.encodeutils to correctly handle Python 2 and\nPython 3 deployments.\n\nChange-Id: I87c38faf41f7c1bff72d45d238a6f38751fad483\nStory: 2005841\nTask: 33613\n'}, {'number': 3, 'created': '2019-06-26 12:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/50b99047d85d1b1353eb5b8fe8aaa1f326404501', 'message': 'Encode metric names and dimensions in test_metrics\n\nThe change explicitly encodes all metric names and dimensions. It makes\nthe tests more robust and avoids failures when these contain non-ASCII\ncharacters.\n\nThe code uses oslo_utils.to_utf() to correctly handle Python 2 and\nPython 3 deployments.\n\nChange-Id: I87c38faf41f7c1bff72d45d238a6f38751fad483\nStory: 2005841\nTask: 33613\n'}, {'number': 4, 'created': '2019-07-02 12:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/30b4b41c7344e9caae528a707342387c437f3404', 'message': 'Decode metric names and dimensions in test_metrics\n\nThe change explicitly decodes all metric names and dimensions. It makes\nthe tests more robust and avoids failures when these contain non-ASCII\ncharacters.\n\nThe code uses oslo_utils.encodeutils to correctly handle Python 2 and\nPython 3 deployments.\n\nChange-Id: I87c38faf41f7c1bff72d45d238a6f38751fad483\nStory: 2005841\nTask: 33613\n'}, {'number': 5, 'created': '2019-07-03 08:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/357dc8a6b21d8a98eedbefdf0d36c57756370932', 'message': 'Use unicode literals in test_metrics\n\nThe change unifies the usage of text string literals in the package and\ndeclares them as unicode. It simplifies comparing test values with\nactual results across Python 2 and 3 deployments. It also fixes the bug\ndescribed in the user story.\n\nChange-Id: I87c38faf41f7c1bff72d45d238a6f38751fad483\nStory: 2005841\nTask: 33613\n'}, {'number': 6, 'created': '2019-07-03 08:57:22.000000000', 'files': ['monasca_tempest_tests/tests/api/test_metrics.py'], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/ffd53171589cff0575666e072cd1b62c323c7ce7', 'message': 'Use unicode literals in test_metrics\n\nThe change unifies the usage of text string literals in the package and\ndeclares them as unicode. It simplifies comparing test values with\nactual results across Python 2 and 3 deployments. It also fixes the bug\ndescribed in the user story.\n\nChange-Id: I87c38faf41f7c1bff72d45d238a6f38751fad483\nStory: 2005841\nTask: 33613\n'}]",0,663927,ffd53171589cff0575666e072cd1b62c323c7ce7,42,8,6,16222,,,0,"Use unicode literals in test_metrics

The change unifies the usage of text string literals in the package and
declares them as unicode. It simplifies comparing test values with
actual results across Python 2 and 3 deployments. It also fixes the bug
described in the user story.

Change-Id: I87c38faf41f7c1bff72d45d238a6f38751fad483
Story: 2005841
Task: 33613
",git fetch https://review.opendev.org/openstack/monasca-tempest-plugin refs/changes/27/663927/5 && git format-patch -1 --stdout FETCH_HEAD,['monasca_tempest_tests/tests/api/test_metrics.py'],1,bd3ddfd145ded9df882ad6ebed6932deefb2f97a,encoding,"from oslo_utils import encodeutils if (encodeutils.safe_encode(element['name'], incoming='utf-8') == name and len(element['dimensions']) > 0): if (encodeutils.safe_encode(element['name'], incoming='utf-8') == name and len(element['measurements']) == 2): if encodeutils.safe_encode(element['name'], incoming='utf-8') == name: if encodeutils.safe_encode(element['name'], incoming='utf-8') == name: if encodeutils.safe_encode(element['dimensions'][key], incoming='utf-8') == value: if encodeutils.safe_encode(element['name'], incoming='utf-8') == name: if encodeutils.safe_encode(element['name'], incoming='utf-8') == name: self.assertEqual(encodeutils.safe_encode( element['dimensions'][test_key], incoming='utf-8'), test_value) if test_name is not None: self.assertEqual(encodeutils.safe_encode(element['name'], incoming='utf-8'), test_name) self.assertEqual(value_org, encodeutils.safe_encode(value, incoming='utf-8'))"," if (str(element['name']) == name and len(element['dimensions']) > 0): if str(element['name']) == name \ and len(element['measurements']) == 2: if str(element['name']) == name: if str(element['name']) == name: if str(element['dimensions'][key]) == value: if str(element['name']) == name: if str(element['name']) == name: self.assertEqual(str(element['dimensions'][test_key]), test_value) if test_name is not None: self.assertEqual(str(element['name']), test_name) self.assertEqual(value_org, str(value))",25,11
openstack%2Fopenstack-ansible-os_trove~master~I35d0fbb9907ca038dd7fdac6b24c1643c9ec8f73,openstack/openstack-ansible-os_trove,master,I35d0fbb9907ca038dd7fdac6b24c1643c9ec8f73,Cap sphinx for py2 to match global requirements,MERGED,2019-06-07 02:07:56.000000000,2019-07-10 18:54:32.000000000,2019-07-10 18:54:31.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 02:07:56.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/ba80aab99abda48edff54ac181aa3b5ba4d8c0a9', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I35d0fbb9907ca038dd7fdac6b24c1643c9ec8f73\n'}]",0,663820,ba80aab99abda48edff54ac181aa3b5ba4d8c0a9,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I35d0fbb9907ca038dd7fdac6b24c1643c9ec8f73
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/20/663820/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,ba80aab99abda48edff54ac181aa3b5ba4d8c0a9,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fpython-swiftclient~master~I88fb38529342ac4e4198aeccd2f10c69c7396704,openstack/python-swiftclient,master,I88fb38529342ac4e4198aeccd2f10c69c7396704,Optionally display listings in raw json,MERGED,2019-07-02 16:28:38.000000000,2019-07-10 18:54:30.000000000,2019-07-10 18:54:30.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 16:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/f446a4bcbb16b2f2d9feae7d72a76e0af78dc606', 'message': ""Optionally display listings in raw json\n\nSymlinks have recently added some new keys to container listings.  It's\nvery convenient to be able to see and reason about the extra information\nin container listings.\n\nAllowing raw json output is similar with what the client already does\nfor the info command, and it's forward compatible with any listing\nenhancements added by future middleware development.\n\nChange-Id: I88fb38529342ac4e4198aeccd2f10c69c7396704\n""}, {'number': 2, 'created': '2019-07-02 21:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/0d5aea0380b4a92b83101247ee942a84c8fe434e', 'message': ""Optionally display listings in raw json\n\nSymlinks have recently added some new keys to container listings.  It's\nvery convenient to be able to see and reason about the extra information\nin container listings.\n\nAllowing raw json output is similar with what the client already does\nfor the info command, and it's forward compatible with any listing\nenhancements added by future middleware development.\n\nChange-Id: I88fb38529342ac4e4198aeccd2f10c69c7396704\n""}, {'number': 3, 'created': '2019-07-03 18:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/3609524ee2dcb94fc0d3f6187a76a40e6d87cdf6', 'message': ""Optionally display listings in raw json\n\nSymlinks have recently added some new keys to container listings.  It's\nvery convenient to be able to see and reason about the extra information\nin container listings.\n\nAllowing raw json output is similar with what the client already does\nfor the info command, and it's forward compatible with any listing\nenhancements added by future middleware development.\n\nChange-Id: I88fb38529342ac4e4198aeccd2f10c69c7396704\n""}, {'number': 4, 'created': '2019-07-03 19:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/392ddf672ec34eb6dbdf999af09a11ff141f5a19', 'message': ""Optionally display listings in raw json\n\nSymlinks have recently added some new keys to container listings.  It's\nvery convenient to be able to see and reason about the extra information\nin container listings.\n\nAllowing raw json output is similar with what the client already does\nfor the info command, and it's forward compatible with any listing\nenhancements added by future middleware development.\n\nChange-Id: I88fb38529342ac4e4198aeccd2f10c69c7396704\n""}, {'number': 5, 'created': '2019-07-09 17:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/477dd792c4ba552523811d0afcd9093d59be7dcf', 'message': ""Optionally display listings in raw json\n\nSymlinks have recently added some new keys to container listings.  It's\nvery convenient to be able to see and reason about the extra information\nin container listings.\n\nAllowing raw json output is similar with what the client already does\nfor the info command, and it's forward compatible with any listing\nenhancements added by future middleware development.\n\nChange-Id: I88fb38529342ac4e4198aeccd2f10c69c7396704\n""}, {'number': 6, 'created': '2019-07-09 18:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/af777c76ba6a2e075ceea2223b0691b0916990bc', 'message': ""Optionally display listings in raw json\n\nSymlinks have recently added some new keys to container listings.  It's\nvery convenient to be able to see and reason about the extra information\nin container listings.\n\nAllowing raw json output is similar with what the client already does\nfor the info command, and it's forward compatible with any listing\nenhancements added by future middleware development.\n\nChange-Id: I88fb38529342ac4e4198aeccd2f10c69c7396704\n""}, {'number': 7, 'created': '2019-07-09 18:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/128aba8d72768396dc63ce282bbb09253cf344e6', 'message': ""Optionally display listings in raw json\n\nSymlinks have recently added some new keys to container listings.  It's\nvery convenient to be able to see and reason about the extra information\nin container listings.\n\nAllowing raw json output is similar with what the client already does\nfor the info command, and it's forward compatible with any listing\nenhancements added by future middleware development.\n\nChange-Id: I88fb38529342ac4e4198aeccd2f10c69c7396704\n""}, {'number': 8, 'created': '2019-07-09 20:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/3c7afa30c0e408bf32e3f6395c458e778538275d', 'message': ""Optionally display listings in raw json\n\nSymlinks have recently added some new keys to container listings.  It's\nvery convenient to be able to see and reason about the extra information\nin container listings.\n\nAllowing raw json output is similar with what the client already does\nfor the info command, and it's forward compatible with any listing\nenhancements added by future middleware development.\n\nChange-Id: I88fb38529342ac4e4198aeccd2f10c69c7396704\n""}, {'number': 9, 'created': '2019-07-09 20:26:08.000000000', 'files': ['swiftclient/shell.py', 'tests/unit/test_utils.py', 'swiftclient/utils.py', 'tests/unit/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/936631eac617c83bec1f1c44b1adcaa51d36329c', 'message': ""Optionally display listings in raw json\n\nSymlinks have recently added some new keys to container listings.  It's\nvery convenient to be able to see and reason about the extra information\nin container listings.\n\nAllowing raw json output is similar with what the client already does\nfor the info command, and it's forward compatible with any listing\nenhancements added by future middleware development.\n\nChange-Id: I88fb38529342ac4e4198aeccd2f10c69c7396704\n""}]",20,668705,936631eac617c83bec1f1c44b1adcaa51d36329c,27,3,9,1179,,,0,"Optionally display listings in raw json

Symlinks have recently added some new keys to container listings.  It's
very convenient to be able to see and reason about the extra information
in container listings.

Allowing raw json output is similar with what the client already does
for the info command, and it's forward compatible with any listing
enhancements added by future middleware development.

Change-Id: I88fb38529342ac4e4198aeccd2f10c69c7396704
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/05/668705/8 && git format-patch -1 --stdout FETCH_HEAD,"['swiftclient/shell.py', 'tests/unit/test_shell.py']",2,f446a4bcbb16b2f2d9feae7d72a76e0af78dc606,json-listings," def test_list_json(self, connection): connection.return_value.get_account.side_effect = [ [None, [{'name': 'container'}]], [None, []], ] argv = ["""", ""list"", ""--json""] with CaptureOutput(suppress_systemexit=True) as output: swiftclient.shell.main(argv) calls = [mock.call(marker='', prefix=None, headers={}), mock.call(marker='container', prefix=None, headers={})] connection.return_value.get_account.assert_has_calls(calls) listing = [{'name': 'container'}] expected = json.dumps(listing, sort_keys=True, indent=2) + '\n' self.assertEqual(output.out, expected) @mock.patch('swiftclient.service.Connection')",,24,0
openstack%2Fneutron~master~I3724acfbe88ab3db1641c3edb5dd4c76bc84bc00,openstack/neutron,master,I3724acfbe88ab3db1641c3edb5dd4c76bc84bc00,"Improve ""QoSPlugin._validate_create_port_callback""",MERGED,2019-07-09 16:53:35.000000000,2019-07-10 18:54:26.000000000,2019-07-10 18:54:26.000000000,"[{'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-09 16:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6bdfddce7488cc5322e5678333f8ef39e70a08e4', 'message': 'Improve ""QoSPlugin._validate_create_port_callback""\n\nMake use of the OVO Port new field ""qos_network_policy_id"" to avoid\na DB call.\n\nChange-Id: I3724acfbe88ab3db1641c3edb5dd4c76bc84bc00\nRelated-Bug: #1834484\n'}, {'number': 2, 'created': '2019-07-09 16:54:13.000000000', 'files': ['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4a06e08de6c5ec18a32905b8e562526737ab2f18', 'message': 'Improve ""QoSPlugin._validate_create_port_callback""\n\nMake use of the OVO Port new field ""qos_network_policy_id"" to avoid\na DB call.\n\nChange-Id: I3724acfbe88ab3db1641c3edb5dd4c76bc84bc00\nRelated-Bug: #1834484\n'}]",1,669908,4a06e08de6c5ec18a32905b8e562526737ab2f18,9,4,2,16688,,,0,"Improve ""QoSPlugin._validate_create_port_callback""

Make use of the OVO Port new field ""qos_network_policy_id"" to avoid
a DB call.

Change-Id: I3724acfbe88ab3db1641c3edb5dd4c76bc84bc00
Related-Bug: #1834484
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/669908/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py']",2,6bdfddce7488cc5322e5678333f8ef39e70a08e4,bug/1834484,"import netaddrfrom neutron_lib.utils import net as net_utilsfrom neutron.tests.unit.objects import test_base as test_base_obj class TestQosPluginDB(base.BaseQosTestCase): def setUp(self): super(TestQosPluginDB, self).setUp() self.setup_coreplugin(load_plugins=False) cfg.CONF.set_override(""core_plugin"", DB_PLUGIN_KLASS) cfg.CONF.set_override(""service_plugins"", [""qos""]) manager.init() self.qos_plugin = directory.get_plugin(plugins_constants.QOS) self.qos_plugin.driver_manager = mock.Mock() self.rpc_push = mock.patch('neutron.api.rpc.handlers.resources_rpc' '.ResourcesPushRpcApi.push').start() self.context = context.get_admin_context() self.project_id = uuidutils.generate_uuid() def _make_qos_policy(self): qos_policy = policy_object.QosPolicy( self.context, project_id=self.project_id, shared=False, is_default=False) qos_policy.create() return qos_policy def _make_port(self, network_id, qos_policy_id=None): base_mac = ['aa', 'bb', 'cc', 'dd', 'ee', 'ff'] mac = netaddr.EUI(next(net_utils.random_mac_generator(base_mac))) port = ports_object.Port( self.context, network_id=network_id, device_owner='3', project_id=self.project_id, admin_state_up=True, status='DOWN', device_id='2', qos_policy_id=qos_policy_id, mac_address=mac) port.create() return port def _make_network(self, qos_policy_id=None): network = network_object.Network(self.context, qos_policy_id=qos_policy_id) network.create() return network def _test_validate_create_port_callback(self, port_qos=False, network_qos=False): net_qos_obj = self._make_qos_policy() port_qos_obj = self._make_qos_policy() net_qos_id = net_qos_obj.id if network_qos else None port_qos_id = port_qos_obj.id if port_qos else None network = self._make_network(qos_policy_id=net_qos_id) port = self._make_port(network.id, qos_policy_id=port_qos_id) kwargs = {""context"": self.context, ""port"": {""id"": port.id}} with mock.patch.object(self.qos_plugin, 'validate_policy_for_port') \ as mock_validate_policy: self.qos_plugin._validate_create_port_callback( 'PORT', 'precommit_create', 'test_plugin', **kwargs) qos_policy = None if port_qos: qos_policy = port_qos_obj elif network_qos: qos_policy = net_qos_obj if qos_policy: mock_validate_policy.assert_called_once_with( self.context, qos_policy, port) else: mock_validate_policy.assert_not_called() def test_validate_create_port_callback_policy_on_port(self): self._test_validate_create_port_callback(port_qos=True) def test_validate_create_port_callback_policy_on_port_and_network(self): self._test_validate_create_port_callback(port_qos=True, network_qos=True) def test_validate_create_port_callback_policy_on_network(self): self._test_validate_create_port_callback(network_qos=True) def test_validate_create_port_callback_no_policy(self): self._test_validate_create_port_callback()"," def _test_validate_create_port_callback(self, policy_id=None, network_policy_id=None): port_id = uuidutils.generate_uuid() kwargs = { ""context"": self.ctxt, ""port"": {""id"": port_id} } port_mock = mock.MagicMock(id=port_id, qos_policy_id=policy_id) network_mock = mock.MagicMock( id=uuidutils.generate_uuid(), qos_policy_id=network_policy_id) policy_mock = mock.MagicMock(id=policy_id) admin_ctxt = mock.Mock() expected_policy_id = policy_id or network_policy_id with mock.patch( 'neutron.objects.ports.Port.get_object', return_value=port_mock ), mock.patch( 'neutron.objects.network.Network.get_object', return_value=network_mock ), mock.patch( 'neutron.objects.qos.policy.QosPolicy.get_object', return_value=policy_mock ) as get_policy, mock.patch.object( self.qos_plugin, ""validate_policy_for_port"" ) as validate_policy_for_port, mock.patch.object( self.ctxt, ""elevated"", return_value=admin_ctxt ): self.qos_plugin._validate_create_port_callback( ""PORT"", ""precommit_create"", ""test_plugin"", **kwargs) if policy_id or network_policy_id: get_policy.assert_called_once_with(admin_ctxt, id=expected_policy_id) validate_policy_for_port.assert_called_once_with( self.ctxt, policy_mock, port_mock) else: get_policy.assert_not_called() validate_policy_for_port.assert_not_called() def test_validate_create_port_callback_policy_on_port(self): self._test_validate_create_port_callback( policy_id=uuidutils.generate_uuid()) def test_validate_create_port_callback_policy_on_port_and_network(self): self._test_validate_create_port_callback( policy_id=uuidutils.generate_uuid(), network_policy_id=uuidutils.generate_uuid()) def test_validate_create_port_callback_policy_on_network(self): self._test_validate_create_port_callback( network_policy_id=uuidutils.generate_uuid()) def test_validate_create_port_callback_no_policy(self): self._test_validate_create_port_callback() ",85,57
openstack%2Foslo.serialization~master~Id16ecd5b183c8058e1e8f34d881e523f5dc1d7ee,openstack/oslo.serialization,master,Id16ecd5b183c8058e1e8f34d881e523f5dc1d7ee,Add Python 3 Train unit tests,MERGED,2018-10-12 17:27:50.000000000,2019-07-10 18:52:28.000000000,2019-07-10 18:52:28.000000000,"[{'_account_id': 24}, {'_account_id': 4257}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30356}]","[{'number': 1, 'created': '2018-10-12 17:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/00046e2ce242390552763695857e4f405c9189a4', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with\npython3.7 in addition with python3.6 in Stein and beyond.\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.html\n\nChange-Id: Id16ecd5b183c8058e1e8f34d881e523f5dc1d7ee\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2018-10-15 14:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/638afd693372347b57245e3f74fa8d2e1707ad39', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with\npython3.7 in addition with python3.6 in Stein and beyond.\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.html\n\nChange-Id: Id16ecd5b183c8058e1e8f34d881e523f5dc1d7ee\nSigned-off-by: Charles Short <chucks@redhat.com>\nStory: #2004073\nTask: #27440\n'}, {'number': 3, 'created': '2019-07-05 19:01:52.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/fa399b6d45014304ab7d5e03d8581de0624b1ac5', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Id16ecd5b183c8058e1e8f34d881e523f5dc1d7ee\nStory: #2005924\nTask: #34234\n'}]",0,610126,fa399b6d45014304ab7d5e03d8581de0624b1ac5,14,6,3,24,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Id16ecd5b183c8058e1e8f34d881e523f5dc1d7ee
Story: #2005924
Task: #34234
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/26/610126/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,00046e2ce242390552763695857e4f405c9189a4,python3-train,"envlist = py37,py27,pep8","envlist = py35,py27,pep8",2,2
openstack%2Fopenstack-ansible-os_swift~master~Ie7ae55e68db100e712e6d862aefec2220dc0a83b,openstack/openstack-ansible-os_swift,master,Ie7ae55e68db100e712e6d862aefec2220dc0a83b,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 09:49:09.000000000,2019-07-10 18:52:25.000000000,2019-07-10 18:52:25.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 09:49:09.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/27e48fc1aee667eced1c77d62519dfa05c8f3bbb', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: Ie7ae55e68db100e712e6d862aefec2220dc0a83b\n'}]",0,663569,27e48fc1aee667eced1c77d62519dfa05c8f3bbb,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: Ie7ae55e68db100e712e6d862aefec2220dc0a83b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/69/663569/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,27e48fc1aee667eced1c77d62519dfa05c8f3bbb,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-os_magnum~master~I7728ece3f0c5410f9174194fcf39eb1dc38b34c2,openstack/openstack-ansible-os_magnum,master,I7728ece3f0c5410f9174194fcf39eb1dc38b34c2,Cap sphinx for py2 to match global requirements,MERGED,2019-06-07 01:57:03.000000000,2019-07-10 18:52:23.000000000,2019-07-10 18:52:23.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 01:57:03.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/80d311282ba184769a7f5420d02a0eb8962e6e3b', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I7728ece3f0c5410f9174194fcf39eb1dc38b34c2\n'}]",0,663816,80d311282ba184769a7f5420d02a0eb8962e6e3b,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I7728ece3f0c5410f9174194fcf39eb1dc38b34c2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/16/663816/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,80d311282ba184769a7f5420d02a0eb8962e6e3b,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-os_rally~master~I2942e7393fd2d0d3762a82600329188ee36d60f1,openstack/openstack-ansible-os_rally,master,I2942e7393fd2d0d3762a82600329188ee36d60f1,Cap sphinx for py2 to match global requirements,MERGED,2019-06-07 02:05:20.000000000,2019-07-10 18:52:16.000000000,2019-07-10 18:52:15.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 02:05:20.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/14eda01099e766be5c562aa9a0c4d31847371521', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I2942e7393fd2d0d3762a82600329188ee36d60f1\n'}]",0,663818,14eda01099e766be5c562aa9a0c4d31847371521,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I2942e7393fd2d0d3762a82600329188ee36d60f1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/18/663818/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,14eda01099e766be5c562aa9a0c4d31847371521,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-repo_server~master~I1bbce6b58f55f0715b3005082d891f301ce4b0b3,openstack/openstack-ansible-repo_server,master,I1bbce6b58f55f0715b3005082d891f301ce4b0b3,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 10:16:24.000000000,2019-07-10 18:51:14.000000000,2019-07-10 18:51:14.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 10:16:24.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/521c50388790f909c2f3a90b764852eb2945f26b', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I1bbce6b58f55f0715b3005082d891f301ce4b0b3\n'}]",0,663585,521c50388790f909c2f3a90b764852eb2945f26b,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I1bbce6b58f55f0715b3005082d891f301ce4b0b3
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/85/663585/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,521c50388790f909c2f3a90b764852eb2945f26b,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-lxc_container_create~master~I9547d25a5be95a9cc2e57431b8a497cbfab5dc98,openstack/openstack-ansible-lxc_container_create,master,I9547d25a5be95a9cc2e57431b8a497cbfab5dc98,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 09:41:08.000000000,2019-07-10 18:50:52.000000000,2019-07-10 18:50:51.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 09:41:08.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/5a4aa122b7e734a801eac1e473b98db14693aac5', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I9547d25a5be95a9cc2e57431b8a497cbfab5dc98\n'}]",0,663567,5a4aa122b7e734a801eac1e473b98db14693aac5,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I9547d25a5be95a9cc2e57431b8a497cbfab5dc98
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/67/663567/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,5a4aa122b7e734a801eac1e473b98db14693aac5,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-pip_install~master~Ib985738a0aebfb49bffa3e4aca1792c8116f19d1,openstack/openstack-ansible-pip_install,master,Ib985738a0aebfb49bffa3e4aca1792c8116f19d1,Cap sphinx for py2 to match global requirements,MERGED,2019-06-06 09:59:15.000000000,2019-07-10 18:49:41.000000000,2019-07-10 18:49:41.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 09:59:15.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/90a899c69e1966976a42954849b4ec2fa7a56140', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: Ib985738a0aebfb49bffa3e4aca1792c8116f19d1\n'}]",0,663577,90a899c69e1966976a42954849b4ec2fa7a56140,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: Ib985738a0aebfb49bffa3e4aca1792c8116f19d1
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/77/663577/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,90a899c69e1966976a42954849b4ec2fa7a56140,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-os_octavia~master~If3250e58d940943d775eee6edbb6ecb92e05c344,openstack/openstack-ansible-os_octavia,master,If3250e58d940943d775eee6edbb6ecb92e05c344,Cap sphinx for py2 to match global requirements,MERGED,2019-06-07 01:54:51.000000000,2019-07-10 18:49:38.000000000,2019-07-10 18:49:38.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-07 01:54:51.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/29b845468c2a7ff01886de3ea4dcbe5201da6fc4', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: If3250e58d940943d775eee6edbb6ecb92e05c344\n'}]",0,663815,29b845468c2a7ff01886de3ea4dcbe5201da6fc4,7,3,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: If3250e58d940943d775eee6edbb6ecb92e05c344
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/15/663815/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,29b845468c2a7ff01886de3ea4dcbe5201da6fc4,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-os_cinder~master~I27b4ad5cff1752df9b651b2ab6932ee190ec2dee,openstack/openstack-ansible-os_cinder,master,I27b4ad5cff1752df9b651b2ab6932ee190ec2dee,Cap sphinx for py2 to match global requirements,MERGED,2019-06-07 02:51:01.000000000,2019-07-10 18:49:31.000000000,2019-07-10 18:49:31.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 02:51:01.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/16ee70327b5309e93da354db28d3842985f98488', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I27b4ad5cff1752df9b651b2ab6932ee190ec2dee\n'}]",0,663829,16ee70327b5309e93da354db28d3842985f98488,6,2,1,30092,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I27b4ad5cff1752df9b651b2ab6932ee190ec2dee
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/29/663829/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,16ee70327b5309e93da354db28d3842985f98488,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-os_sahara~master~I7f877f5fa0e5cc657f38460e01c64fcd017c33f5,openstack/openstack-ansible-os_sahara,master,I7f877f5fa0e5cc657f38460e01c64fcd017c33f5,Cap sphinx for py2 to match global requirements,MERGED,2019-06-07 02:38:43.000000000,2019-07-10 18:49:30.000000000,2019-07-10 18:49:30.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 02:38:43.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/a3eeedfc70dbcdcd3d04fd3e2467c2ff47b0e6a3', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I7f877f5fa0e5cc657f38460e01c64fcd017c33f5\n'}]",0,663827,a3eeedfc70dbcdcd3d04fd3e2467c2ff47b0e6a3,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I7f877f5fa0e5cc657f38460e01c64fcd017c33f5
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/27/663827/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,a3eeedfc70dbcdcd3d04fd3e2467c2ff47b0e6a3,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible-os_cloudkitty~master~Icb2e26667247cacd4e1cd20298bb48a4bf3d63e0,openstack/openstack-ansible-os_cloudkitty,master,Icb2e26667247cacd4e1cd20298bb48a4bf3d63e0,Cap sphinx for py2 to match global requirements,MERGED,2019-06-07 02:36:37.000000000,2019-07-10 18:49:29.000000000,2019-07-10 18:49:29.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 02:36:37.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/8159de5b59ea20269d3550551e77c3086ef385da', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: Icb2e26667247cacd4e1cd20298bb48a4bf3d63e0\n'}]",0,663826,8159de5b59ea20269d3550551e77c3086ef385da,6,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: Icb2e26667247cacd4e1cd20298bb48a4bf3d63e0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/26/663826/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,8159de5b59ea20269d3550551e77c3086ef385da,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fopenstack-ansible~master~I18d9b7833f09a46cd013313c1126d66f171c4306,openstack/openstack-ansible,master,I18d9b7833f09a46cd013313c1126d66f171c4306,Install iptables on AIO by default,MERGED,2019-06-28 12:55:10.000000000,2019-07-10 18:49:25.000000000,2019-07-10 18:49:25.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-28 12:55:10.000000000', 'files': ['tests/roles/bootstrap-host/vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f0a8fba9f01ac8bcaedc5745542c8073fba887e4', 'message': 'Install iptables on AIO by default\n\nChange-Id: I18d9b7833f09a46cd013313c1126d66f171c4306\n'}]",0,668169,f0a8fba9f01ac8bcaedc5745542c8073fba887e4,9,3,1,17068,,,0,"Install iptables on AIO by default

Change-Id: I18d9b7833f09a46cd013313c1126d66f171c4306
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/69/668169/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/vars/suse.yml'],1,f0a8fba9f01ac8bcaedc5745542c8073fba887e4,add_iptables_to_aio, - iptables,,1,0
openstack%2Fkuryr-kubernetes~master~I3c93f98c100a3d61a12d67be427e78e99a927949,openstack/kuryr-kubernetes,master,I3c93f98c100a3d61a12d67be427e78e99a927949,Fix ip address formattig in kuryr-cni,MERGED,2019-07-10 10:56:04.000000000,2019-07-10 18:47:30.000000000,2019-07-10 18:47:30.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 27032}, {'_account_id': 28396}]","[{'number': 1, 'created': '2019-07-10 10:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ed4c1db40f44c7b51e2c6b56be6f090b9529d723', 'message': 'Fix ip address formattig in kuryr-cni\n\nnet.ParseCIDR returns both IP address (first return value) &\na network representation. IPConfig type requires IPNet type (ip\naddress and mask) for Address field. Current code puts just\nnetwork representation and address itself was lost.\n\nlibcni has a helper function to do it.\n\nChange-Id: I3c93f98c100a3d61a12d67be427e78e99a927949\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n'}, {'number': 2, 'created': '2019-07-10 12:30:24.000000000', 'files': ['kuryr_cni/main.go'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1174848583e5b8b42fd1fda06090952264d0d2f8', 'message': 'Fix ip address formattig in kuryr-cni\n\nnet.ParseCIDR returns both IP address (first return value) &\na network representation. IPConfig type requires IPNet type (ip\naddress and mask) for Address field. Current code puts just\nnetwork representation and address itself was lost.\n\nlibcni has a helper function to do it.\n\nCloses-Bug: #1836056\nChange-Id: I3c93f98c100a3d61a12d67be427e78e99a927949\nSigned-off-by: Alexey Perevalov <a.perevalov@samsung.com>\n'}]",0,670030,1174848583e5b8b42fd1fda06090952264d0d2f8,12,8,2,28396,,,0,"Fix ip address formattig in kuryr-cni

net.ParseCIDR returns both IP address (first return value) &
a network representation. IPConfig type requires IPNet type (ip
address and mask) for Address field. Current code puts just
network representation and address itself was lost.

libcni has a helper function to do it.

Closes-Bug: #1836056
Change-Id: I3c93f98c100a3d61a12d67be427e78e99a927949
Signed-off-by: Alexey Perevalov <a.perevalov@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/30/670030/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_cni/main.go'],1,ed4c1db40f44c7b51e2c6b56be6f090b9529d723,," cni ""github.com/containernetworking/cni/pkg/types"" ipAddress, err := cni.ParseCIDR(ifaceCIDR) Address: *ipAddress,"," _, ifaceNet, err := net.ParseCIDR(ifaceCIDR) Address: *ifaceNet,",3,2
openstack%2Fkuryr-kubernetes~master~I8064c9a1bc66a79b9a8f3fa02abc87f92965ca16,openstack/kuryr-kubernetes,master,I8064c9a1bc66a79b9a8f3fa02abc87f92965ca16,Add Python 3 Train unit tests,MERGED,2019-07-05 15:40:29.000000000,2019-07-10 18:47:25.000000000,2019-07-10 18:47:25.000000000,"[{'_account_id': 11600}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-07-05 15:40:29.000000000', 'files': ['.zuul.d/project.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0b7f8fafb5106a93448ddb67f70e06dc742da6f3', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I8064c9a1bc66a79b9a8f3fa02abc87f92965ca16\nStory: #2005924\nTask: #34217\n'}]",0,669373,0b7f8fafb5106a93448ddb67f70e06dc742da6f3,7,4,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I8064c9a1bc66a79b9a8f3fa02abc87f92965ca16
Story: #2005924
Task: #34217
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/73/669373/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'setup.cfg', 'tox.ini']",3,0b7f8fafb5106a93448ddb67f70e06dc742da6f3,python3-train,"envlist = py27,py37,pep8","envlist = py27,py36,pep8",3,2
openstack%2Ftraining-guides~master~If988387e0f800353569382cc96db047137f4191a,openstack/training-guides,master,If988387e0f800353569382cc96db047137f4191a,Add OpenStack Day Tokyo event info,MERGED,2019-07-10 04:04:25.000000000,2019-07-10 18:46:45.000000000,2019-07-10 18:46:44.000000000,"[{'_account_id': 14482}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-10 04:04:25.000000000', 'files': ['doc/upstream-training/source/website/upstream-training-other-events.rst', 'doc/upstream-training/source/website/index.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/09487eae62890ea6fc225ae07ffb56c1517f8083', 'message': 'Add OpenStack Day Tokyo event info\n\nChange-Id: If988387e0f800353569382cc96db047137f4191a\n'}]",0,669979,09487eae62890ea6fc225ae07ffb56c1517f8083,9,3,1,8556,,,0,"Add OpenStack Day Tokyo event info

Change-Id: If988387e0f800353569382cc96db047137f4191a
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/79/669979/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/upstream-training/source/website/upstream-training-other-events.rst', 'doc/upstream-training/source/website/index.rst']",2,09487eae62890ea6fc225ae07ffb56c1517f8083,,"| July |OpenStack | .5 day | Tokyo, | :ref:`openstack-days-tokyo` | | 23, 2019 |Days | | Japan | \ | | |Tokyo | | | | +------------+----------+---------+----------+--------------------------------+",,18,0
openstack%2Fnova~master~I1a744f6aba0658003931487647af0107527261f5,openstack/nova,master,I1a744f6aba0658003931487647af0107527261f5,Remove Ocata comments which expires now,ABANDONED,2018-07-18 08:09:42.000000000,2019-07-10 18:44:05.000000000,,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-07-18 08:09:42.000000000', 'files': ['nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fb2a23661fc755fc9a2e09402128eab1f73172ab', 'message': 'Remove Ocata comments which expires now\n\nfollow up to https://review.openstack.org/#/c/576462\n\nChange-Id: I1a744f6aba0658003931487647af0107527261f5\n'}]",2,583489,fb2a23661fc755fc9a2e09402128eab1f73172ab,17,15,1,6062,,,0,"Remove Ocata comments which expires now

follow up to https://review.openstack.org/#/c/576462

Change-Id: I1a744f6aba0658003931487647af0107527261f5
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/583489/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,fb2a23661fc755fc9a2e09402128eab1f73172ab,remove_ocata_1,," # NOTE(jaypipes): In Pike, we need to be tolerant of Ocata compute # nodes that overwrite placement allocations to look like what the # resource tracker *thinks* is correct. When an instance is # migrated from an Ocata compute node to a Pike compute node, the # Pike scheduler will have created a ""doubled-up"" allocation that # contains allocated resources against both the source and # destination hosts. The Ocata source compute host, during its # update_available_resource() periodic call will find the instance # in its list of known instances and will call # update_instance_allocation() in the report client. That call will # pull the allocations for the instance UUID which will contain # both the source and destination host providers in the allocation # set. Seeing that this is different from what the Ocata source # host thinks it should be and will overwrite the allocation to # only be an allocation against itself. # # And therefore, here we need to have Pike compute hosts # ""correct"" the improper healing that the Ocata source host did # during its periodic interval. When the instance is fully migrated # to the Pike compute host, the Ocata compute host will find an # allocation that refers to itself for an instance it no longer # controls and will *delete* all allocations that refer to that # instance UUID, assuming that the instance has been deleted. We # need the destination Pike compute host to recreate that # allocation to refer to its own resource provider UUID. #",0,26
openstack%2Fkuryr-tempest-plugin~master~I92f22827d4456e9a13b9a5b45d96babf4bf93451,openstack/kuryr-tempest-plugin,master,I92f22827d4456e9a13b9a5b45d96babf4bf93451,Ensure CRD validation is only checked if enabled,MERGED,2019-07-03 14:11:16.000000000,2019-07-10 18:37:27.000000000,2019-07-10 18:37:27.000000000,"[{'_account_id': 11600}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-07-03 14:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/8d3517551c0e26ad9974a34b0f36acb801354952', 'message': 'Ensure CRD validation is only checked if enabled\n\nCRD validation support was not added in previous releases.\nWe should ensure all tests related to it are only triggered\nwhen crd validation is enabled in the tempest config.\n\nChange-Id: I92f22827d4456e9a13b9a5b45d96babf4bf93451\n'}, {'number': 2, 'created': '2019-07-04 09:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ceb1aab03ddb9302ddc675493915a041988d8edd', 'message': 'Ensure CRD validation is only checked if enabled\n\nCRD validation support was not added in previous releases.\nWe should ensure all tests related to it are only triggered\nwhen crd validation is enabled in the tempest config.\n\nDepends-On: https://review.opendev.org/#/c/668916/\n\nChange-Id: I92f22827d4456e9a13b9a5b45d96babf4bf93451\n'}, {'number': 3, 'created': '2019-07-07 21:47:03.000000000', 'files': ['kuryr_tempest_plugin/config.py', 'kuryr_tempest_plugin/tests/scenario/test_namespace.py', 'kuryr_tempest_plugin/tests/scenario/test_network_policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/b94040627889675411f33c9910bb9806ea8ae0df', 'message': 'Ensure CRD validation is only checked if enabled\n\nCRD validation support was not added in previous releases.\nWe should ensure all tests related to it are only triggered\nwhen crd validation is enabled in the tempest config.\n\n\nChange-Id: I92f22827d4456e9a13b9a5b45d96babf4bf93451\n'}]",0,668915,b94040627889675411f33c9910bb9806ea8ae0df,17,5,3,27032,,,0,"Ensure CRD validation is only checked if enabled

CRD validation support was not added in previous releases.
We should ensure all tests related to it are only triggered
when crd validation is enabled in the tempest config.


Change-Id: I92f22827d4456e9a13b9a5b45d96babf4bf93451
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/15/668915/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/config.py', 'kuryr_tempest_plugin/tests/scenario/test_namespace.py', 'kuryr_tempest_plugin/tests/scenario/test_network_policy.py']",3,8d3517551c0e26ad9974a34b0f36acb801354952,add-crd-validation-tempest, if not CONF.kuryr_kubernetes.validate_crd: raise self.skipException('CRD validation must be enabled to run ' 'this test.') if not CONF.kuryr_kubernetes.validate_crd: raise self.skipException('CRD validation must be enabled to run ' 'this test.') if not CONF.kuryr_kubernetes.validate_crd: raise self.skipException('CRD validation must be enabled to run ' 'this test.'),,17,0
openstack%2Foslo.privsep~master~I425e381b3d830ff9d15f8c92bade6cb2a4ee0108,openstack/oslo.privsep,master,I425e381b3d830ff9d15f8c92bade6cb2a4ee0108,Add Python 3 Train unit tests,MERGED,2018-10-12 17:21:23.000000000,2019-07-10 18:34:29.000000000,2019-07-10 18:34:29.000000000,"[{'_account_id': 24}, {'_account_id': 4257}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30356}]","[{'number': 1, 'created': '2018-10-12 17:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/248904ac20c131dfec8e67bc119a8baa8223a1ac', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with\npython3.7 in addition with python3.6 in Stein and beyond.\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.html\n\nChange-Id: I425e381b3d830ff9d15f8c92bade6cb2a4ee0108\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2018-10-15 14:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/10b18875354f712d6c7c41eec606cc6835714350', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with\npython3.7 in addition with python3.6 in Stein and beyond.\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.html\n\nChange-Id: I425e381b3d830ff9d15f8c92bade6cb2a4ee0108\nSigned-off-by: Charles Short <chucks@redhat.com>\nStory: #2004073\nTask: #27440\n'}, {'number': 3, 'created': '2019-07-05 18:59:36.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/0d09fd1885ba0188b1fea6c6b33ebe8742e5de50', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I425e381b3d830ff9d15f8c92bade6cb2a4ee0108\nStory: #2005924\nTask: #34234\n'}]",0,610123,0d09fd1885ba0188b1fea6c6b33ebe8742e5de50,14,6,3,24,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I425e381b3d830ff9d15f8c92bade6cb2a4ee0108
Story: #2005924
Task: #34234
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/23/610123/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,248904ac20c131dfec8e67bc119a8baa8223a1ac,python3-train,"envlist = py37,py27,pypy,pep8","envlist = py35,py27,pypy,pep8",2,2
openstack%2Foslo.service~master~I6b399a382e18905aca344791bda18bd9ac98c049,openstack/oslo.service,master,I6b399a382e18905aca344791bda18bd9ac98c049,Add Python 3 Train unit tests,MERGED,2018-10-12 17:32:01.000000000,2019-07-10 18:29:49.000000000,2019-07-10 18:29:49.000000000,"[{'_account_id': 24}, {'_account_id': 4257}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30356}]","[{'number': 1, 'created': '2018-10-12 17:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/b03ee2a8a4248adcb2e035dd9f16aea8d4ceb336', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with\npython3.7 in addition with python3.6 in Stein and beyond.\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.html\n\nChange-Id: I6b399a382e18905aca344791bda18bd9ac98c049\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2018-10-15 14:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/cf24cf7173c8c71a8e8fe5b2c1a1c334cc942093', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with\npython3.7 in addition with python3.6 in Stein and beyond.\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.html\n\nChange-Id: I6b399a382e18905aca344791bda18bd9ac98c049\nSigned-off-by: Charles Short <chucks@redhat.com>\nStory: #2004073\nTask: #27440\n'}, {'number': 3, 'created': '2019-07-05 19:02:29.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/d349cb974a8ff3c35b46d345708b138f3e652028', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I6b399a382e18905aca344791bda18bd9ac98c049\nStory: #2005924\nTask: #34234\n'}]",0,610127,d349cb974a8ff3c35b46d345708b138f3e652028,14,6,3,24,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I6b399a382e18905aca344791bda18bd9ac98c049
Story: #2005924
Task: #34234
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/27/610127/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,b03ee2a8a4248adcb2e035dd9f16aea8d4ceb336,python3-train,"envlist = py37,py27,pep8,bandit","envlist = py35,py27,pep8,bandit",2,2
openstack%2Fpuppet-octavia~stable%2Fstein~I5c2629d9e7700fe1dd6f915bc257b1f058e40617,openstack/puppet-octavia,stable/stein,I5c2629d9e7700fe1dd6f915bc257b1f058e40617,Configure 32 chars length server_certs_key_passphrase for Octavia,MERGED,2019-07-08 12:58:40.000000000,2019-07-10 18:29:28.000000000,2019-07-10 18:29:28.000000000,"[{'_account_id': 3153}, {'_account_id': 6579}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 12:58:40.000000000', 'files': ['manifests/certificates.pp', 'releasenotes/notes/fix-generated-server_certs_key_passphrase-in-spec-524a44297ec76bd0.yaml', 'spec/classes/octavia_certificates_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/381f1a34daec7001b4a7825bc708a4314619806a', 'message': 'Configure 32 chars length server_certs_key_passphrase for Octavia\n\nThis change is related to I886f2b8ac7092d9b3da38852e92a615d5666eea7\nand Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989.\n\nRelated-Bug: #1833942\n\nChange-Id: I5c2629d9e7700fe1dd6f915bc257b1f058e40617\n(cherry picked from commit d9564d7c235bc3073ef6eb444a6f1561fb6dffc5)\n'}]",0,669653,381f1a34daec7001b4a7825bc708a4314619806a,16,5,1,6579,,,0,"Configure 32 chars length server_certs_key_passphrase for Octavia

This change is related to I886f2b8ac7092d9b3da38852e92a615d5666eea7
and Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989.

Related-Bug: #1833942

Change-Id: I5c2629d9e7700fe1dd6f915bc257b1f058e40617
(cherry picked from commit d9564d7c235bc3073ef6eb444a6f1561fb6dffc5)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/53/669653/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certificates.pp', 'releasenotes/notes/fix-generated-server_certs_key_passphrase-in-spec-524a44297ec76bd0.yaml', 'spec/classes/octavia_certificates_spec.rb']",3,381f1a34daec7001b4a7825bc708a4314619806a,OctaviaServerCertsKeyPassphrase-32chars," :server_certs_key_passphrase => 'insecure-key-do-not-use-this-key', is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('insecure-key-do-not-use-this-key') :server_certs_key_passphrase => 'insecure-key-do-not-use-this-key', is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('insecure-key-do-not-use-this-key') :server_certs_key_passphrase => 'insecure-key-do-not-use-this-key', is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('insecure-key-do-not-use-this-key') context 'When invalid non 32 characters server_certs_key_passphrase provided' do let :params do { :server_certs_key_passphrase => 'non-32-chars-key', } end it 'fails without an invalid server_certs_key_passphrase' do is_expected.to raise_error(Puppet::Error) end end context 'When no server_certs_key_passphrase provided' do let :params do { :server_certs_key_passphrase => '', } end it 'fails without a server_certs_key_passphrase' do is_expected.to raise_error(Puppet::Error) end end "," is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('<SERVICE DEFAULT>') :server_certs_key_passphrase => 'secure123', is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('secure123') :server_certs_key_passphrase => 'secure123', is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('secure123') :server_certs_key_passphrase => 'secure123', is_expected.to contain_octavia_config('certificates/server_certs_key_passphrase').with_value('secure123')",42,11
openstack%2Fneutron~master~I4a04ca25e56b1d93ae49026b35d108a89545447a,openstack/neutron,master,I4a04ca25e56b1d93ae49026b35d108a89545447a,consume WarningsFixture from neutron-lib,MERGED,2019-04-09 20:03:35.000000000,2019-07-10 18:29:22.000000000,2019-07-10 18:29:22.000000000,"[{'_account_id': 5367}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-09 20:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/79103e6af222e5e18be37239496b2042b63d7d36', 'message': 'consume WarningsFixture from neutron-lib\n\nThe WarningsFixture is in neutron-lib. This patch consumes it by\nremoving it from neutron and using from lib instead.\n\nNeutronLibImpact\n\nChange-Id: I4a04ca25e56b1d93ae49026b35d108a89545447a\n'}, {'number': 2, 'created': '2019-07-08 17:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/41fa98f8aac342c83d7fde09cdcd91ce04352610', 'message': 'consume WarningsFixture from neutron-lib\n\nThe WarningsFixture is in neutron-lib. This patch consumes it by\nremoving it from neutron and using from lib instead.\n\nNeutronLibImpact\n\nChange-Id: I4a04ca25e56b1d93ae49026b35d108a89545447a\n'}, {'number': 3, 'created': '2019-07-09 15:31:11.000000000', 'files': ['neutron/tests/tools.py', 'neutron/tests/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f18693438315159ea1ec258df222807069bb376', 'message': 'consume WarningsFixture from neutron-lib\n\nThe WarningsFixture is in neutron-lib. This patch consumes it by\nremoving it from neutron and using from lib instead.\n\nNeutronLibImpact\n\nChange-Id: I4a04ca25e56b1d93ae49026b35d108a89545447a\n'}]",0,651370,6f18693438315159ea1ec258df222807069bb376,20,6,3,5367,,,0,"consume WarningsFixture from neutron-lib

The WarningsFixture is in neutron-lib. This patch consumes it by
removing it from neutron and using from lib instead.

NeutronLibImpact

Change-Id: I4a04ca25e56b1d93ae49026b35d108a89545447a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/651370/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/tools.py', 'neutron/tests/base.py']",2,79103e6af222e5e18be37239496b2042b63d7d36,use-lib-warnfixture, self.useFixture(fixture.WarningsFixture(module_re=['^neutron\\.'])), self.useFixture(tools.WarningsFixture()),1,16
openstack%2Foslo.utils~master~Iaf3ca4799bb9e78b180bbfdab26f57d88781bd42,openstack/oslo.utils,master,Iaf3ca4799bb9e78b180bbfdab26f57d88781bd42,Add Python 3 Train unit tests,MERGED,2018-10-12 17:39:22.000000000,2019-07-10 18:27:18.000000000,2019-07-10 18:27:18.000000000,"[{'_account_id': 24}, {'_account_id': 4257}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30356}]","[{'number': 1, 'created': '2018-10-12 17:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/8807ea6782083f29467a47ff53cccc9af646b222', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with\npython3.7 in addition with python3.6 in Stein and beyond.\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.html\n\nChange-Id: Iaf3ca4799bb9e78b180bbfdab26f57d88781bd42\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2018-10-15 14:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/437a081d66dd062e636fdb9c4d411fa63edf30e9', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with\npython3.7 in addition with python3.6 in Stein and beyond.\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.html\n\nChange-Id: Iaf3ca4799bb9e78b180bbfdab26f57d88781bd42\nSigned-off-by: Charles Short <chucks@redhat.com>\nStory: #2004073\nTask: #27440\n'}, {'number': 3, 'created': '2019-07-05 19:10:55.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/1b8bafb391b82665b99b3da8205402ec2cd495d1', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Iaf3ca4799bb9e78b180bbfdab26f57d88781bd42\nStory: #2005924\nTask: #34234\n'}]",0,610131,1b8bafb391b82665b99b3da8205402ec2cd495d1,13,6,3,24,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Iaf3ca4799bb9e78b180bbfdab26f57d88781bd42
Story: #2005924
Task: #34234
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/31/610131/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,8807ea6782083f29467a47ff53cccc9af646b222,python3-train,"envlist = py37,py27,pep8","envlist = py35,py27,pep8",2,2
openstack%2Ftripleo-ci~master~I15baedfc9f4066a7c58bb1b10e52285fdd05243e,openstack/tripleo-ci,master,I15baedfc9f4066a7c58bb1b10e52285fdd05243e,WIP: Octavia tempest tests,ABANDONED,2019-06-20 16:53:38.000000000,2019-07-10 18:26:10.000000000,,"[{'_account_id': 6579}, {'_account_id': 6681}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-20 16:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/59d9102cff840868393cc14dce848ae25c8493d1', 'message': 'WIP: Octavia tempest tests\n\nInitial test addition. Just trying to get them to run atm.\n\nDepends-On: Iddfbb649b3161a69a7d9a4a81b6913919d307d01\nChange-Id: I15baedfc9f4066a7c58bb1b10e52285fdd05243e\n'}, {'number': 2, 'created': '2019-06-20 17:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/713eca0e4095d0da357dce5efd394ecc7bd281b7', 'message': 'WIP: Octavia tempest tests\n\nInitial test addition. Just trying to get them to run atm.\n\nDepends-On: Iddfbb649b3161a69a7d9a4a81b6913919d307d01\nChange-Id: I15baedfc9f4066a7c58bb1b10e52285fdd05243e\n'}, {'number': 3, 'created': '2019-06-21 18:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0067c457cc95b4f3e8bd02ee85b29c33b200fa45', 'message': 'WIP: Octavia tempest tests\n\nInitial test addition. Just trying to get them to run atm.\n\nDepends-On: Iddfbb649b3161a69a7d9a4a81b6913919d307d01\nDepends-On: I071783d7a7e0aacfccb25df8b18b8782e3bf3a05\nChange-Id: I15baedfc9f4066a7c58bb1b10e52285fdd05243e\n'}, {'number': 4, 'created': '2019-06-25 12:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ae7908200bf232dc0638b71d512bb50600b8626e', 'message': 'WIP: Octavia tempest tests\n\nInitial test addition. Just trying to get them to run atm.\n\nDepends-On: Iddfbb649b3161a69a7d9a4a81b6913919d307d01\nChange-Id: I15baedfc9f4066a7c58bb1b10e52285fdd05243e\n'}, {'number': 5, 'created': '2019-06-26 14:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/338378c23170299283a0a425a92b5896d05ecb73', 'message': 'WIP: Octavia tempest tests\n\nInitial test addition. Just trying to get them to run atm.\n\nDepends-On: Iddfbb649b3161a69a7d9a4a81b6913919d307d01\nChange-Id: I15baedfc9f4066a7c58bb1b10e52285fdd05243e\n'}, {'number': 6, 'created': '2019-06-27 12:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/846c39dbead230c1a131bde910bd531e7826d6a3', 'message': 'WIP: Octavia tempest tests\n\nInitial test addition. Just trying to get them to run atm.\n\nDepends-On: Iddfbb649b3161a69a7d9a4a81b6913919d307d01\nChange-Id: I15baedfc9f4066a7c58bb1b10e52285fdd05243e\n'}, {'number': 7, 'created': '2019-06-27 15:57:57.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ef0355b0c5751cf7856409dd9b22ae342091f42a', 'message': 'WIP: Octavia tempest tests\n\nInitial test addition. Just trying to get them to run atm.\n\nDepends-On: Iddfbb649b3161a69a7d9a4a81b6913919d307d01\nChange-Id: I15baedfc9f4066a7c58bb1b10e52285fdd05243e\n'}]",0,666642,ef0355b0c5751cf7856409dd9b22ae342091f42a,25,4,7,6681,,,0,"WIP: Octavia tempest tests

Initial test addition. Just trying to get them to run atm.

Depends-On: Iddfbb649b3161a69a7d9a4a81b6913919d307d01
Change-Id: I15baedfc9f4066a7c58bb1b10e52285fdd05243e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/42/666642/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,59d9102cff840868393cc14dce848ae25c8493d1,octavia-ci, run_tempest: true tempest_test_whitelist: - 'octavia_tempest_plugin.tests.scenario.v2.test_load_balancer.LoadBalancerScenarioTest'', run_tempest: false test_white_regex: '',3,2
openstack%2Foslo.policy~master~I64676b14b8a69d07e1b5fdc85e2a29523d4cf31d,openstack/oslo.policy,master,I64676b14b8a69d07e1b5fdc85e2a29523d4cf31d,Add Python 3 Train unit tests,MERGED,2018-10-12 17:18:57.000000000,2019-07-10 18:22:53.000000000,2019-07-10 18:22:53.000000000,"[{'_account_id': 24}, {'_account_id': 4257}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30356}]","[{'number': 1, 'created': '2018-10-12 17:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/5b8a0d6b66620857c7d870923ed88d6d6a994c8e', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with\npython3.7 in addition with python3.6 in Stein and beyond.\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.html\n\nChange-Id: I64676b14b8a69d07e1b5fdc85e2a29523d4cf31d\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2018-10-15 14:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/b1a989dad25f91d05bc70593d56d11c47a64cf74', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with\npython3.7 in addition with python3.6 in Stein and beyond.\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.html\n\nChange-Id: I64676b14b8a69d07e1b5fdc85e2a29523d4cf31d\nSigned-off-by: Charles Short <chucks@redhat.com>\nStory: #2004073\nTask: #27440\n'}, {'number': 3, 'created': '2019-07-05 18:55:58.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/b7da7a92ad558947d6a133800f6049578e450b6a', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I64676b14b8a69d07e1b5fdc85e2a29523d4cf31d\nStory: #2005924\nTask: #34234\n'}]",0,610122,b7da7a92ad558947d6a133800f6049578e450b6a,14,6,3,24,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I64676b14b8a69d07e1b5fdc85e2a29523d4cf31d
Story: #2005924
Task: #34234
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/22/610122/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,5b8a0d6b66620857c7d870923ed88d6d6a994c8e,python3-train,"envlist = py37,py27,pep8,docs","envlist = py35,py27,pep8,docs",2,2
openstack%2Foslo.reports~master~I07f16ead91bc6f8192d8631fe6eec7240b8d09a1,openstack/oslo.reports,master,I07f16ead91bc6f8192d8631fe6eec7240b8d09a1,Add Python 3 Train unit tests,MERGED,2018-10-12 17:23:06.000000000,2019-07-10 18:17:49.000000000,2019-07-10 18:17:49.000000000,"[{'_account_id': 24}, {'_account_id': 4257}, {'_account_id': 11805}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30356}]","[{'number': 1, 'created': '2018-10-12 17:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/b1eb8c70a50bc1bb5fa428d400fb29e2bc0ca3aa', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with\npython3.7 in addition with python3.6 in Stein and beyond.\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.html\n\nChange-Id: I07f16ead91bc6f8192d8631fe6eec7240b8d09a1\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2018-10-15 14:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/5103e4352b1d8c8c636ec89465711406a552ed37', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with\npython3.7 in addition with python3.6 in Stein and beyond.\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.html\n\nChange-Id: I07f16ead91bc6f8192d8631fe6eec7240b8d09a1\nSigned-off-by: Charles Short <chucks@redhat.com>\nStory: #2004073\nTask: #27440\n'}, {'number': 3, 'created': '2019-07-05 19:00:15.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/6c234d498c8cab14cd3aefa63b04e4b322b9ee8b', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I07f16ead91bc6f8192d8631fe6eec7240b8d09a1\nStory: #2005924\nTask: #34234\n'}]",0,610124,6c234d498c8cab14cd3aefa63b04e4b322b9ee8b,14,6,3,24,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I07f16ead91bc6f8192d8631fe6eec7240b8d09a1
Story: #2005924
Task: #34234
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/24/610124/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,b1eb8c70a50bc1bb5fa428d400fb29e2bc0ca3aa,python3-train,"envlist = py37,py27,pep8","envlist = py35,py27,pep8",2,2
openstack%2Fneutron~master~Ic5bf718cfd056f805741892a91a8d45f7a6e0db3,openstack/neutron,master,Ic5bf718cfd056f805741892a91a8d45f7a6e0db3,Ignore first local port update notification,MERGED,2019-03-19 16:37:39.000000000,2019-07-10 18:15:07.000000000,2019-07-10 12:27:10.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 7016}, {'_account_id': 9373}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 26622}, {'_account_id': 30382}]","[{'number': 1, 'created': '2019-03-19 16:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8fe97ffe460027f89fb3c9d4223b810e5aa5641', 'message': 'Ignore first local port update notification\n\nOvs-agent local port notification will be sent during\nthe first rpc loop. This will cause these ports to\nbe processed twice.\nThis patch passes the restart flag (iteration num 0)\nto the local port_update call trace. After this patch,\nthe local port_update notification will be ignored in\nthe first RPC loop.\n\nRelated-Bug: #1813703\nChange-Id: Ic5bf718cfd056f805741892a91a8d45f7a6e0db3\n'}, {'number': 2, 'created': '2019-03-20 00:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b97079f8813f52cef0ad418dfb0c31aefceca44f', 'message': 'Ignore first local port update notification\n\nOvs-agent local port notification will be sent during\nthe first rpc loop. This will cause these ports to\nbe processed twice.\nThis patch passes the restart flag (iteration num 0)\nto the local port_update call trace. After this patch,\nthe local port_update notification will be ignored in\nthe first RPC loop.\n\nRelated-Bug: #1813703\nChange-Id: Ic5bf718cfd056f805741892a91a8d45f7a6e0db3\n'}, {'number': 3, 'created': '2019-03-21 15:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c67717f345f8e5f60fef61f9842cb13a6f4869bd', 'message': 'Ignore first local port update notification\n\nOvs-agent local port notification will be sent during\nthe first rpc loop. This will cause these ports to\nbe processed twice.\nThis patch passes the restart flag (iteration num 0)\nto the local port_update call trace. After this patch,\nthe local port_update notification will be ignored in\nthe first RPC loop.\n\nRelated-Bug: #1813703\nChange-Id: Ic5bf718cfd056f805741892a91a8d45f7a6e0db3\n'}, {'number': 4, 'created': '2019-03-27 15:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c7d58d74b635714645acb703d7574afc0952a6d2', 'message': 'Ignore first local port update notification\n\nOvs-agent local port notification will be sent during\nthe first rpc loop. This will cause these ports to\nbe processed twice.\nThis patch passes the restart flag (iteration num 0)\nto the local port_update call trace. After this patch,\nthe local port_update notification will be ignored in\nthe first RPC loop.\n\nRelated-Bug: #1813703\nChange-Id: Ic5bf718cfd056f805741892a91a8d45f7a6e0db3\n'}, {'number': 5, 'created': '2019-05-05 08:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f734d4eb9e5ebd7fa47c32ca34a5e164686857b1', 'message': 'Ignore first local port update notification\n\nOvs-agent local port notification will be sent during\nthe first rpc loop. This will cause these ports to\nbe processed twice.\nThis patch passes the restart flag (iteration num 0)\nto the local port_update call trace. After this patch,\nthe local port_update notification will be ignored in\nthe first RPC loop.\n\nRelated-Bug: #1813703\nChange-Id: Ic5bf718cfd056f805741892a91a8d45f7a6e0db3\n'}, {'number': 6, 'created': '2019-05-07 08:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5470d172c1be31d4ab7fa807fbd73dab5c503e15', 'message': 'Ignore first local port update notification\n\nOvs-agent local port notification will be sent during\nthe first rpc loop. This will cause these ports to\nbe processed twice.\nThis patch passes the restart flag (iteration num 0)\nto the local port_update call trace. After this patch,\nthe local port_update notification will be ignored in\nthe first RPC loop.\n\nRelated-Bug: #1813703\nChange-Id: Ic5bf718cfd056f805741892a91a8d45f7a6e0db3\n'}, {'number': 7, 'created': '2019-06-25 13:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/946f915a365ce5ad42a341cbf245c38c32e74c78', 'message': 'Ignore first local port update notification\n\nOvs-agent will scan and process the ports during the\nfirst rpc_loop, and a local port update notification\nwill be sent out. This will cause these ports to\nbe processed again in the ovs-agent next (second)\nrpc_loop.\nThis patch passes the restart flag (iteration num 0)\nto the local port_update call trace. After this patch,\nthe local port_update notification will be ignored in\nthe first RPC loop.\n\nRelated-Bug: #1813703\nChange-Id: Ic5bf718cfd056f805741892a91a8d45f7a6e0db3\n'}, {'number': 8, 'created': '2019-07-04 12:06:11.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/resource_cache.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/agent/rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eaf3ff57863a7af2a33ab189910666f6c3450019', 'message': 'Ignore first local port update notification\n\nOvs-agent will scan and process the ports during the\nfirst rpc_loop, and a local port update notification\nwill be sent out. This will cause these ports to\nbe processed again in the ovs-agent next (second)\nrpc_loop.\nThis patch passes the restart flag (iteration num 0)\nto the local port_update call trace. After this patch,\nthe local port_update notification will be ignored in\nthe first RPC loop.\n\nRelated-Bug: #1813703\nChange-Id: Ic5bf718cfd056f805741892a91a8d45f7a6e0db3\n'}]",13,644613,eaf3ff57863a7af2a33ab189910666f6c3450019,99,17,8,9531,,,0,"Ignore first local port update notification

Ovs-agent will scan and process the ports during the
first rpc_loop, and a local port update notification
will be sent out. This will cause these ports to
be processed again in the ovs-agent next (second)
rpc_loop.
This patch passes the restart flag (iteration num 0)
to the local port_update call trace. After this patch,
the local port_update notification will be ignored in
the first RPC loop.

Related-Bug: #1813703
Change-Id: Ic5bf718cfd056f805741892a91a8d45f7a6e0db3
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/644613/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/resource_cache.py', 'neutron/agent/rpc.py']",3,d8fe97ffe460027f89fb3c9d4223b810e5aa5641,bug/1813703," agent_restarted = kwargs.pop(""agent_restarted"", None) if rtype == ""port"" and suffix == ""update"" and agent_restarted: # Mark ovs-agent restart for local port_update payload[""agent_restarted""] = agent_restarted agent_id, host=None, agent_restarted=False): self.get_device_details(context, device, agent_id, host, agent_restarted)) def get_device_details(self, context, device, agent_id, host=None, agent_restarted=False): resources.PORT, device, agent_restarted)"," agent_id, host=None): self.get_device_details(context, device, agent_id, host)) def get_device_details(self, context, device, agent_id, host=None): resources.PORT, device)",33,11
openstack%2Ftripleo-common~stable%2Fstein~Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989,openstack/tripleo-common,stable/stein,Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989,Ensure that OctaviaServerCertsKeyPassphrase is 32-byte long,MERGED,2019-07-08 13:04:58.000000000,2019-07-10 18:13:26.000000000,2019-07-10 18:13:26.000000000,"[{'_account_id': 3153}, {'_account_id': 6579}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-08 13:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/be71a25be3d88161b8ab00c51adb5236cf52dbc6', 'message': 'Ensure that OctaviaServerCertsKeyPassphrase is 32-byte long\n\nRelated-Bug: #1833942\n\nChange-Id: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\n'}, {'number': 2, 'created': '2019-07-08 13:52:35.000000000', 'files': ['releasenotes/notes/fix-generated-server_certs_key_passphrase-60cba4653109992c.yaml', 'tripleo_common/tests/utils/test_passwords.py', 'tripleo_common/utils/passwords.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/94620dd5e67fa3a0775b2df1ae312533e392a7f9', 'message': 'Ensure that OctaviaServerCertsKeyPassphrase is 32-byte long\n\nRelated-Bug: #1833942\n\nChange-Id: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\n(cherry picked from commit de2ab55824cf96a96ac0ba9ec2a1eaccbb0f6fa2)\n'}]",0,669657,94620dd5e67fa3a0775b2df1ae312533e392a7f9,17,6,2,6579,,,0,"Ensure that OctaviaServerCertsKeyPassphrase is 32-byte long

Related-Bug: #1833942

Change-Id: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989
(cherry picked from commit de2ab55824cf96a96ac0ba9ec2a1eaccbb0f6fa2)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/57/669657/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-generated-server_certs_key_passphrase-60cba4653109992c.yaml', 'tripleo_common/tests/utils/test_passwords.py', 'tripleo_common/utils/passwords.py']",3,be71a25be3d88161b8ab00c51adb5236cf52dbc6,OctaviaServerCertsKeyPassphrase-32chars," elif name.startswith(""OctaviaServerCertsKeyPassphrase""): passwords[name] = passlib.pwd.genword(length=32)",,8,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ide761c21dc87dadc722e27c9b8a7b68194164cb2,openstack/tripleo-heat-templates,stable/stein,Ide761c21dc87dadc722e27c9b8a7b68194164cb2,Support TLS deployments with KernelDisableIPv6 enabled,MERGED,2019-07-10 07:05:26.000000000,2019-07-10 18:13:20.000000000,2019-07-10 18:13:20.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-10 07:05:26.000000000', 'files': ['deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/kernel/kernel-baremetal-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a3ee4ea74bdb9634c23919ff97532ff578715c0', 'message': 'Support TLS deployments with KernelDisableIPv6 enabled\n\nBind to 127.0.0.1 in case ipv6 is disabled. Set a hiera value\nlocalhost_address, so that it can be used in tls_proxy.pp to\nunambiguously connect to those services.\n\nChange-Id: Ide761c21dc87dadc722e27c9b8a7b68194164cb2\nRelated: rhbz#1703460\n(cherry picked from commit d48d1bdb37a4262ffe36ae5003312dfdfad083ab)\n'}]",0,669990,0a3ee4ea74bdb9634c23919ff97532ff578715c0,7,5,1,14250,,,0,"Support TLS deployments with KernelDisableIPv6 enabled

Bind to 127.0.0.1 in case ipv6 is disabled. Set a hiera value
localhost_address, so that it can be used in tls_proxy.pp to
unambiguously connect to those services.

Change-Id: Ide761c21dc87dadc722e27c9b8a7b68194164cb2
Related: rhbz#1703460
(cherry picked from commit d48d1bdb37a4262ffe36ae5003312dfdfad083ab)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/669990/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/kernel/kernel-baremetal-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml']",5,0a3ee4ea74bdb9634c23919ff97532ff578715c0,kernel_disable_ipv6-stable/stein," - ""%{hiera('localhost_address')}""", - 'localhost',13,5
openstack%2Fopenstack-ansible-os_placement~master~Ic9ea32ea34af157b127ab84517c1ecefaac28ab8,openstack/openstack-ansible-os_placement,master,Ic9ea32ea34af157b127ab84517c1ecefaac28ab8,Fix deprecation warning,MERGED,2019-07-08 14:45:59.000000000,2019-07-10 17:58:31.000000000,2019-07-10 17:58:31.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-07-08 14:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/73ea94fd8e014ebc0720c0e595391efc6af53552', 'message': 'Fix deprecation warning:\n----\n\nTASK [os_placement : Record the need for a service restart] ********************\n[DEPRECATION WARNING]: Using tests as filters is deprecated. Instead of using\n`result|changed` use `result is changed`. This feature will be removed in\nversion 2.9. Deprecation warnings can be disabled by setting\ndeprecation_warnings=False in ansible.cfg.\n\nChange-Id: Ic9ea32ea34af157b127ab84517c1ecefaac28ab8\n'}, {'number': 2, 'created': '2019-07-10 10:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/ddc68baa869098e223c5e450c964dac9619f9f0c', 'message': 'Fix deprecation warning:\n\nTASK [os_placement : Record the need for a service restart] ********************\n[DEPRECATION WARNING]: Using tests as filters is deprecated. Instead of using\n`result|changed` use `result is changed`. This feature will be removed in\nversion 2.9. Deprecation warnings can be disabled by setting\ndeprecation_warnings=False in ansible.cfg.\n\nChange-Id: Ic9ea32ea34af157b127ab84517c1ecefaac28ab8\n'}, {'number': 3, 'created': '2019-07-10 10:43:14.000000000', 'files': ['tasks/placement_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/77e709668675c02e8f988b36bb4b1eea94913436', 'message': 'Fix deprecation warning\n\nTASK [os_placement : Record the need for a service restart] ********************\n[DEPRECATION WARNING]: Using tests as filters is deprecated. Instead of using\n`result|changed` use `result is changed`. This feature will be removed in\nversion 2.9. Deprecation warnings can be disabled by setting\ndeprecation_warnings=False in ansible.cfg.\n\nChange-Id: Ic9ea32ea34af157b127ab84517c1ecefaac28ab8\n'}]",0,669691,77e709668675c02e8f988b36bb4b1eea94913436,10,3,3,18279,,,0,"Fix deprecation warning

TASK [os_placement : Record the need for a service restart] ********************
[DEPRECATION WARNING]: Using tests as filters is deprecated. Instead of using
`result|changed` use `result is changed`. This feature will be removed in
version 2.9. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.

Change-Id: Ic9ea32ea34af157b127ab84517c1ecefaac28ab8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/91/669691/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/placement_install.yml'],1,73ea94fd8e014ebc0720c0e595391efc6af53552,deprecation-warning, when: (install_packages is changed) or, when: (install_packages | changed) or,1,1
openstack%2Ftripleo-common~master~I9c038399fccc4730b73e1a52281d7256ea689ee9,openstack/tripleo-common,master,I9c038399fccc4730b73e1a52281d7256ea689ee9,Add fqdn and cloud_domain templates to tripleo-hieradata,MERGED,2019-07-03 13:48:01.000000000,2019-07-10 17:58:06.000000000,2019-07-10 17:58:06.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-07-03 13:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2795a76c3778445be451c8acce535a3b8c5c4d54', 'message': 'Add fqdn and cloud_domain templates to tripleo-hieradata\n\nThese templates will take the place of the {{role}} and host_extraconfig\nhieradata from Heat.\n\nChange-Id: I9c038399fccc4730b73e1a52281d7256ea689ee9\n'}, {'number': 2, 'created': '2019-07-03 20:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2af8279ef3d9c3544be0c018e34a815146770a9b', 'message': 'Add fqdn and cloud_domain templates to tripleo-hieradata\n\nThese templates will take the place of the {{role}} and host_extraconfig\nhieradata from Heat.\n\nChange-Id: I9c038399fccc4730b73e1a52281d7256ea689ee9\n'}, {'number': 3, 'created': '2019-07-03 20:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8d7d868d97e7eb91f99504f87b30fc70169a3f3c', 'message': 'Add fqdn and cloud_domain templates to tripleo-hieradata\n\nThese templates will take the place of the {{role}} and host_extraconfig\nhieradata from Heat.\n\nChange-Id: I9c038399fccc4730b73e1a52281d7256ea689ee9\n'}, {'number': 4, 'created': '2019-07-05 19:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c9649e6d97d3a4447abcbd51ec0bc633f7f76e85', 'message': 'Add fqdn and cloud_domain templates to tripleo-hieradata\n\nThese templates will take the place of the {{role}} and host_extraconfig\nhieradata from Heat.\n\nChange-Id: I9c038399fccc4730b73e1a52281d7256ea689ee9\n'}, {'number': 5, 'created': '2019-07-09 18:53:46.000000000', 'files': ['roles/tripleo-hieradata/templates/cloud_domain.j2', 'roles/tripleo-hieradata/templates/fqdn.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/59f823175c29726b3cca08ea430f4b356528e434', 'message': 'Add fqdn and cloud_domain templates to tripleo-hieradata\n\nThese templates will take the place of the {{role}} and host_extraconfig\nhieradata from Heat.\n\nChange-Id: I9c038399fccc4730b73e1a52281d7256ea689ee9\n'}]",2,668909,59f823175c29726b3cca08ea430f4b356528e434,28,6,5,7144,,,0,"Add fqdn and cloud_domain templates to tripleo-hieradata

These templates will take the place of the {{role}} and host_extraconfig
hieradata from Heat.

Change-Id: I9c038399fccc4730b73e1a52281d7256ea689ee9
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/09/668909/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-hieradata/templates/cloud_domain.j2', 'roles/tripleo-hieradata/templates/fqdn.j2']",2,2795a76c3778445be451c8acce535a3b8c5c4d54,merge,"{ ""fqdn_ctlplane"": ""{{ inventory_hostname ~ '.ctlplane.' ~ cloud_domain }}"", ""fqdn_canonical"": ""{{ inventory_hostname ~ '.' ~ cloud_domain }}"", {% for network in enabled_networks %} {% if network in role_networks %} ""fqdn_{{ networks[network]['name_lower'] }}"": ""{{ inventory_hostname ~ '.' ~ network | lower ~ '.' ~ cloud_domain }}"" {%- endif %}{% if not loop.last and loop.nextitem | default("""") in role_networks %}, {% endif %} {%- endfor %} } ",,14,0
openstack%2Fsenlin~master~I46c221ad3ffa064a3020017b5f5c8a1da5b228f2,openstack/senlin,master,I46c221ad3ffa064a3020017b5f5c8a1da5b228f2,Switch to the new canonical constraints URL on master,MERGED,2019-06-22 07:18:02.000000000,2019-07-10 17:58:00.000000000,2019-07-10 17:58:00.000000000,"[{'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 25138}, {'_account_id': 27224}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-06-22 07:18:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin/commit/1b62e1231b2f12a0842b67ba82898f2864d51e51', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n2. https://github.com/openstack/nova/blob/master/tox.ini#L17\n\nChange-Id: I46c221ad3ffa064a3020017b5f5c8a1da5b228f2\n'}]",0,666948,1b62e1231b2f12a0842b67ba82898f2864d51e51,18,5,1,28748,,,0,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
2. https://github.com/openstack/nova/blob/master/tox.ini#L17

Change-Id: I46c221ad3ffa064a3020017b5f5c8a1da5b228f2
",git fetch https://review.opendev.org/openstack/senlin refs/changes/48/666948/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1b62e1231b2f12a0842b67ba82898f2864d51e51,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fkolla~stable%2Frocky~I3f1682ed55e7d45c1e97a1b34c7993aa839f0bb2,openstack/kolla,stable/rocky,I3f1682ed55e7d45c1e97a1b34c7993aa839f0bb2,Write hash after compressing horizon static assets,MERGED,2019-07-09 07:19:33.000000000,2019-07-10 17:57:32.000000000,2019-07-10 17:57:31.000000000,"[{'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-09 07:19:33.000000000', 'files': ['docker/horizon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b0ef7abd54ffdd4fdc9a477ed79f95c20cfc423d', 'message': 'Write hash after compressing horizon static assets\n\nIf you run the horizon container with a restart policy of never, and the\nstatic asset compression fails, the container fails to start, e.g. (seen\nin CI)\n\n++ /usr/bin/manage.py collectstatic --noinput --clear\nTraceback (most recent call last):\n  File ""/usr/bin/manage.py"", line 18, in <module>\n      from django.core.management import execute_from_command_line\n  ImportError: No module named django.core.management\n\nHowever, with a restart policy of unless-stopped (the default).  the\nhorizon container will fail the first time but will succeed after a\nrestart. This is because the settings bundle hash is updated before the\ncompression is attempted.\n\nTo fix this, update the hash after compression completes successfully.\n\nChange-Id: I3f1682ed55e7d45c1e97a1b34c7993aa839f0bb2\nCloses-Bug: #1824137\n(cherry picked from commit 92c2456851857c45e8de9a3ff8f167579e0588f4)\n(cherry picked from commit 6e010e25e3e4bf3a26a40a3a0b27055512d8a93e)\n'}]",0,669805,b0ef7abd54ffdd4fdc9a477ed79f95c20cfc423d,11,5,1,7488,,,0,"Write hash after compressing horizon static assets

If you run the horizon container with a restart policy of never, and the
static asset compression fails, the container fails to start, e.g. (seen
in CI)

++ /usr/bin/manage.py collectstatic --noinput --clear
Traceback (most recent call last):
  File ""/usr/bin/manage.py"", line 18, in <module>
      from django.core.management import execute_from_command_line
  ImportError: No module named django.core.management

However, with a restart policy of unless-stopped (the default).  the
horizon container will fail the first time but will succeed after a
restart. This is because the settings bundle hash is updated before the
compression is attempted.

To fix this, update the hash after compression completes successfully.

Change-Id: I3f1682ed55e7d45c1e97a1b34c7993aa839f0bb2
Closes-Bug: #1824137
(cherry picked from commit 92c2456851857c45e8de9a3ff8f167579e0588f4)
(cherry picked from commit 6e010e25e3e4bf3a26a40a3a0b27055512d8a93e)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/05/669805/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/extend_start.sh'],1,b0ef7abd54ffdd4fdc9a477ed79f95c20cfc423d,,HASH_PATH=/var/lib/kolla/.settings.md5sum.txt if [[ ! -f $HASH_PATH ]] || ! settings_bundle | md5sum -c --status $HASH_PATH || [[ $FORCE_GENERATE == yes ]]; then settings_bundle | md5sum > $HASH_PATH, hash_path=/var/lib/kolla/.settings.md5sum.txt if [[ ! -f $hash_path ]] || ! settings_bundle | md5sum -c --status $hash_path || [[ $FORCE_GENERATE == yes ]]; then settings_bundle | md5sum > $hash_path,3,3
openstack%2Frally-openstack~master~I83e53a023b76e5029108946c7468448ce8c46f50,openstack/rally-openstack,master,I83e53a023b76e5029108946c7468448ce8c46f50,Extend octavia cleanup,MERGED,2019-07-08 11:26:53.000000000,2019-07-10 17:50:18.000000000,2019-07-10 17:50:18.000000000,"[{'_account_id': 9545}, {'_account_id': 15209}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 11:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/aea32d4bf952638781e797d8a4d398fe47842904', 'message': 'Extend octavia cleanup\n\nChange-Id: I83e53a023b76e5029108946c7468448ce8c46f50\n'}, {'number': 2, 'created': '2019-07-08 11:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/02299677da98fe35f9937922541a68a8bc44d06f', 'message': 'Extend octavia cleanup\n\n* extend the number of resources\n\nChange-Id: I83e53a023b76e5029108946c7468448ce8c46f50\n'}, {'number': 3, 'created': '2019-07-08 11:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/8088dd9dd029d0a7e4135808666f8989930cabad', 'message': 'Extend octavia cleanup\n\n* extend the number of resources\n\nChange-Id: I83e53a023b76e5029108946c7468448ce8c46f50\n'}, {'number': 4, 'created': '2019-07-08 12:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/9b00aaa34a445fba67c9fee70353b4bae8fa1d5d', 'message': 'Extend octavia cleanup\n\n* extend the number of resources\n\nChange-Id: I83e53a023b76e5029108946c7468448ce8c46f50\n'}, {'number': 5, 'created': '2019-07-08 16:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/258b7931e0d08f72973d72bcf1d8b2ac5c0d2728', 'message': 'Extend octavia cleanup\n\n* extend the number of resources\n\nChange-Id: I83e53a023b76e5029108946c7468448ce8c46f50\n'}, {'number': 6, 'created': '2019-07-08 16:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/84436889cf975402a7cfa2cb5eaed4aceb60b019', 'message': 'Extend octavia cleanup\n\n* extend the number of resources\n\nChange-Id: I83e53a023b76e5029108946c7468448ce8c46f50\n'}, {'number': 7, 'created': '2019-07-08 20:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/401c76d82405ba4e8b5ac42bb4e80b32866d6c97', 'message': 'Extend octavia cleanup\n\n* extend the number of resources\n\nChange-Id: I83e53a023b76e5029108946c7468448ce8c46f50\n'}, {'number': 8, 'created': '2019-07-09 09:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/dd2e67622b5d3ae1b5c8f0245a2540dd0784c6d3', 'message': 'Extend octavia cleanup\n\n* extend the number of resources\n\nChange-Id: I83e53a023b76e5029108946c7468448ce8c46f50\n'}, {'number': 9, 'created': '2019-07-09 10:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/64df6419850f0c3225fe231e7262ca0bb20d3ea7', 'message': 'Extend octavia cleanup\n\n* extend the number of resources\n\nChange-Id: I83e53a023b76e5029108946c7468448ce8c46f50\n'}, {'number': 10, 'created': '2019-07-09 12:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/042329d0461b46b76538a13d1d2159e54bad7175', 'message': 'Extend octavia cleanup\n\n* extend the number of resources\n\nChange-Id: I83e53a023b76e5029108946c7468448ce8c46f50\n'}, {'number': 11, 'created': '2019-07-09 12:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/aecf1735db9e1dcbc6d658f32b3ca96fdf09b4fd', 'message': 'Extend octavia cleanup\n\n* extend the number of resources\n\nChange-Id: I83e53a023b76e5029108946c7468448ce8c46f50\n'}, {'number': 12, 'created': '2019-07-09 14:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/e9c5b27239122833a392fef6d0fe47a287d1e4ec', 'message': 'Extend octavia cleanup\n\n* extend the number of resources\n\nChange-Id: I83e53a023b76e5029108946c7468448ce8c46f50\n'}, {'number': 13, 'created': '2019-07-09 14:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/a0942ab0218489129ed6e62f625da2be43aeb1f8', 'message': 'Extend octavia cleanup\n\n* extend the number of resources\n\nChange-Id: I83e53a023b76e5029108946c7468448ce8c46f50\n'}, {'number': 14, 'created': '2019-07-10 10:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/04cd5a97908ae2de882858240ad60f8cb3effd56', 'message': 'Extend octavia cleanup\n\nCurrently we have workloads that create Octavia load balancers and\npools.\n\nFor cleanup purpose there are two rally resource classes. Load balancer\ncleanup class calls Octavia API to delete load balancer in cascade mode\nwhich should remove pools as well.\nPools cleanup class does the same - calls to list and remove load\nbalancers, not pools itself.\nThis patch fixes this issue (pools cleanup class operates octavia pools\nresources).\n\nAlso\n\n* proper is_deleted check is added for Octavia resources\n* handle the case when load balancers resource is in PENDING_DELETE\n  state\n* added cleanup resource classes for octavia listeners, l7polices and\n  health monitors\n\nChange-Id: I83e53a023b76e5029108946c7468448ce8c46f50\n'}, {'number': 15, 'created': '2019-07-10 13:29:04.000000000', 'files': ['tests/unit/cleanup/test_resources.py', 'rally_openstack/cleanup/resources.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/1ebcb928a1382661720b34502dd5f122bbc86cb5', 'message': 'Extend octavia cleanup\n\nCurrently we have workloads that create Octavia load balancers and\npools.\n\nFor cleanup purpose there are two rally resource classes. Load balancer\ncleanup class calls Octavia API to delete load balancer in cascade mode\nwhich should remove pools as well.\nPools cleanup class does the same - calls to list and remove load\nbalancers, not pools itself.\nThis patch fixes this issue (pools cleanup class operates octavia pools\nresources).\n\nAlso\n\n* proper is_deleted check is added for Octavia resources\n* handle the case when load balancers resource is in PENDING_DELETE\n  state\n* added cleanup resource classes for octavia listeners, l7polices and\n  health monitors\n\nChange-Id: I83e53a023b76e5029108946c7468448ce8c46f50\n'}]",0,669639,1ebcb928a1382661720b34502dd5f122bbc86cb5,26,3,15,9545,,,0,"Extend octavia cleanup

Currently we have workloads that create Octavia load balancers and
pools.

For cleanup purpose there are two rally resource classes. Load balancer
cleanup class calls Octavia API to delete load balancer in cascade mode
which should remove pools as well.
Pools cleanup class does the same - calls to list and remove load
balancers, not pools itself.
This patch fixes this issue (pools cleanup class operates octavia pools
resources).

Also

* proper is_deleted check is added for Octavia resources
* handle the case when load balancers resource is in PENDING_DELETE
  state
* added cleanup resource classes for octavia listeners, l7polices and
  health monitors

Change-Id: I83e53a023b76e5029108946c7468448ce8c46f50
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/39/669639/3 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/cleanup/resources.py'],1,aea32d4bf952638781e797d8a4d398fe47842904,octavia_cleanup," @property delete_method = getattr(self._client, ""%s_delete"" % self._resource) return delete_method(self.id(), cascade=True) from octaviaclient.api.v2 import octavia show_method = getattr(self._client, ""%s_show"" % self._resource) try: show_method(self.id()) except Exception as e: if isinstance(e, octavia.OctaviaClientException): LOG.error(""ERROR code: %s"" % e.code) LOG.exception(""probably it can be random exception, so we need to "" ""check it before making a decision"") raise list_method = getattr(self._client, ""%s_delete"" % self._resource) return list_method[self._resource.replace(""_"", """") + ""s""] @base.resource(""octavia"", ""load_balancer"", order=next(_neutron_order), tenant_resource=True) class OctaviaLoadBalancers(OctaviaMixIn): pass @base.resource(""octavia"", ""pool"", order=next(_neutron_order),@base.resource(""octavia"", ""listener"", order=next(_neutron_order), tenant_resource=True) class OctaviaPools(OctaviaMixIn): pass @base.resource(""octavia"", ""l7policy"", order=next(_neutron_order), tenant_resource=True) class OctaviaL7Policies(OctaviaMixIn): pass @base.resource(""octavia"", ""health_monitor"", order=next(_neutron_order), tenant_resource=True) class OctaviaHealthMonitors(OctaviaMixIn): pass @base.resource(""octavia"", ""quota"", order=next(_neutron_order), tenant_resource=True) class OctaviaQuotas(OctaviaMixIn): pass @base.resource(""octavia"", ""amphora"", order=next(_neutron_order), tenant_resource=True) class OctaviaAmphoras(OctaviaMixIn): pass ","@base.resource(""octavia"", ""loadbalancer"", order=next(_neutron_order), tenant_resource=True) return self._client().load_balancer_delete( self.id(), cascade=True) try: self._client().load_balancer_show(self.id()) except Exception: return True return False return self._client().load_balancer_list()[""loadbalancers""] @base.resource(""octavia"", ""pools"", order=next(_neutron_order),",52,11
openstack%2Fsenlin~master~Ie33b1b1916f99d42d4d091a9532b8608f1a6fc47,openstack/senlin,master,Ie33b1b1916f99d42d4d091a9532b8608f1a6fc47,Add Python 3 Train unit tests,MERGED,2019-07-05 20:12:19.000000000,2019-07-10 17:47:58.000000000,2019-07-10 17:47:58.000000000,"[{'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 27224}]","[{'number': 1, 'created': '2019-07-05 20:12:19.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin/commit/08a32789d32e173f1d7fade353f69d0082b54aa3', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ie33b1b1916f99d42d4d091a9532b8608f1a6fc47\nStory: #2005924\nTask: #34246\n'}]",0,669505,08a32789d32e173f1d7fade353f69d0082b54aa3,7,3,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ie33b1b1916f99d42d4d091a9532b8608f1a6fc47
Story: #2005924
Task: #34246
",git fetch https://review.opendev.org/openstack/senlin refs/changes/05/669505/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,08a32789d32e173f1d7fade353f69d0082b54aa3,python3-train,"envlist = py27,py37,pep8,functional","envlist = py36,py27,pep8,functional",3,3
openstack%2Fopenstack-ansible-os_rally~master~I2b09e3cde1d2dd51f2d352d4eb57a90751fe854f,openstack/openstack-ansible-os_rally,master,I2b09e3cde1d2dd51f2d352d4eb57a90751fe854f,Fix deprecation warning,MERGED,2019-07-08 14:59:39.000000000,2019-07-10 17:45:04.000000000,2019-07-10 17:45:03.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-07-08 14:59:39.000000000', 'files': ['tasks/rally_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/e1bfdcec891a679b4e7f7c241d0da7c361564d57', 'message': 'Fix deprecation warning\n\nTASK [os_rally : Create/upgrade Rally DB schema] ***********\n[DEPRECATION WARNING]: Using tests as filters is deprecated.\nInstead of using `result|search` use `result is search`.\nThis feature will be removed in version 2.9.\nDeprecation warnings can be disabled by setting\ndeprecation_warnings=False in ansible.cfg.\n\nChange-Id: I2b09e3cde1d2dd51f2d352d4eb57a90751fe854f\n'}]",0,669694,e1bfdcec891a679b4e7f7c241d0da7c361564d57,7,3,1,18279,,,0,"Fix deprecation warning

TASK [os_rally : Create/upgrade Rally DB schema] ***********
[DEPRECATION WARNING]: Using tests as filters is deprecated.
Instead of using `result|search` use `result is search`.
This feature will be removed in version 2.9.
Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.

Change-Id: I2b09e3cde1d2dd51f2d352d4eb57a90751fe854f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/94/669694/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/rally_db_setup.yml'],1,e1bfdcec891a679b4e7f7c241d0da7c361564d57,deprecation-warning," - rally_deployment_list_result.stdout is search(""Database is missing"") - rally_deployment_list_result.stdout is search(""There are no deployments"")"," - rally_deployment_list_result.stdout | search(""Database is missing"") - rally_deployment_list_result.stdout | search(""There are no deployments"")",2,2
openstack%2Fkolla-ansible~master~I82011175f7206f52570a0f7d1c6863ad8fa08fd0,openstack/kolla-ansible,master,I82011175f7206f52570a0f7d1c6863ad8fa08fd0,Update designate-guide cli command for dns_domain,MERGED,2019-07-10 09:59:08.000000000,2019-07-10 17:40:09.000000000,2019-07-10 16:48:34.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-10 09:59:08.000000000', 'files': ['doc/source/reference/networking/designate-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ec3fe167af367d5a77879d47991c3c532bd15da3', 'message': 'Update designate-guide cli command for dns_domain\n\nUpdated the docs to refer to the openstack client, rather than the (old)\nneutron client.\n\nTrivialFix\n\nChange-Id: I82011175f7206f52570a0f7d1c6863ad8fa08fd0\n'}]",0,670024,ec3fe167af367d5a77879d47991c3c532bd15da3,8,3,1,30322,,,0,"Update designate-guide cli command for dns_domain

Updated the docs to refer to the openstack client, rather than the (old)
neutron client.

TrivialFix

Change-Id: I82011175f7206f52570a0f7d1c6863ad8fa08fd0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/670024/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/networking/designate-guide.rst'],1,ec3fe167af367d5a77879d47991c3c532bd15da3,, openstack network set <NETWORK_ID> --dns-domain sample.openstack.org., neutron net-update <NETWORK_ID> --dns_domain sample.openstack.org.,1,1
openstack%2Fkolla-ansible~master~I22457023c6ad76b508bcbe05e37517c18f1ffc81,openstack/kolla-ansible,master,I22457023c6ad76b508bcbe05e37517c18f1ffc81,Fix the incorrect backup_driver configuration,MERGED,2019-07-10 08:11:53.000000000,2019-07-10 17:39:46.000000000,2019-07-10 16:50:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-10 08:11:53.000000000', 'files': ['doc/source/reference/storage/external-ceph-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8b55268d44a51b478f12bd02ee6bccefe41758bd', 'message': 'Fix the incorrect backup_driver configuration\n\nThe ""backup_driver"" option should be configured to\ncinder.backup.drivers.ceph.CephBackupDriver instead of\ncinder.backup.drivers.ceph.\n\nChange-Id: I22457023c6ad76b508bcbe05e37517c18f1ffc81\nCloses-Bug: #1832878\n'}]",0,670006,8b55268d44a51b478f12bd02ee6bccefe41758bd,8,3,1,19779,,,0,"Fix the incorrect backup_driver configuration

The ""backup_driver"" option should be configured to
cinder.backup.drivers.ceph.CephBackupDriver instead of
cinder.backup.drivers.ceph.

Change-Id: I22457023c6ad76b508bcbe05e37517c18f1ffc81
Closes-Bug: #1832878
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/670006/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/storage/external-ceph-guide.rst'],1,8b55268d44a51b478f12bd02ee6bccefe41758bd,bug/1832878," backup_driver = cinder.backup.drivers.ceph.CephBackupDriverFor more information about the Cinder backup configuration, see :cinder-doc:`Ceph backup driver <configuration/block-storage/backup/ceph-backup-driver.html>`. ", backup_driver = cinder.backup.drivers.ceph,4,1
openstack%2Fopenstack-ansible-os_barbican~stable%2Fstein~I96cce9426946c3c888bb46900906317e134dd23d,openstack/openstack-ansible-os_barbican,stable/stein,I96cce9426946c3c888bb46900906317e134dd23d,Fix distro installs on Ubuntu,MERGED,2019-06-18 22:22:47.000000000,2019-07-10 17:37:47.000000000,2019-07-10 17:37:47.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-18 22:22:47.000000000', 'files': ['templates/barbican-vassals-api.ini.j2', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/d6c95d31c7bfb2362c78d15dab101d6303eaf3ff', 'message': ""Fix distro installs on Ubuntu\n\nBeginning in the Stein release, Ubuntu distro packages are now using\nPython3. This requires additionally installing and using the uwsgi\npython3 plugin.\n\nInstall the 'python3-barbican' package instead of 'barbican-api'.\nbarbican-api installs apache which conflicts with the OSA provided\nservice config.\n\nThe 'barbican-keystone-listener' and 'barbican-worker' packages have\nbeen removed. They provide service configs for each of those services,\nbut neither are implemented in the role yet and, if they are at some\npoint, service configs would be provided by the role.\n\nChange-Id: I96cce9426946c3c888bb46900906317e134dd23d\n(cherry picked from commit 2c85a1f6242fa8cb254473889f616cf9d8289d96)\n""}]",0,666178,d6c95d31c7bfb2362c78d15dab101d6303eaf3ff,7,3,1,14805,,,0,"Fix distro installs on Ubuntu

Beginning in the Stein release, Ubuntu distro packages are now using
Python3. This requires additionally installing and using the uwsgi
python3 plugin.

Install the 'python3-barbican' package instead of 'barbican-api'.
barbican-api installs apache which conflicts with the OSA provided
service config.

The 'barbican-keystone-listener' and 'barbican-worker' packages have
been removed. They provide service configs for each of those services,
but neither are implemented in the role yet and, if they are at some
point, service configs would be provided by the role.

Change-Id: I96cce9426946c3c888bb46900906317e134dd23d
(cherry picked from commit 2c85a1f6242fa8cb254473889f616cf9d8289d96)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/78/666178/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/barbican-vassals-api.ini.j2', 'vars/debian.yml']",2,d6c95d31c7bfb2362c78d15dab101d6303eaf3ff,ubuntu-distro-install-stable/stein, - python3-barbican - python3-pymysql # needed by /usr/bin/barbican-manage db upgrade. - uwsgi-plugin-python3, - barbican-api - barbican-keystone-listener - barbican-worker - python-pymysql # needed by /usr/bin/barbican-manage db upgrade. - uwsgi-plugin-python,4,6
openstack%2Fopenstack-ansible-os_nova~master~Id48c0288cc31307d1b2338817449fd5c9c84671e,openstack/openstack-ansible-os_nova,master,Id48c0288cc31307d1b2338817449fd5c9c84671e,Fix deprecation warning,MERGED,2019-07-08 14:56:05.000000000,2019-07-10 17:32:55.000000000,2019-07-10 17:32:54.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-07-08 14:56:05.000000000', 'files': ['tasks/nova_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2a9a92e1ab171b08d131be2ce66c41c3dc8e432f', 'message': 'Fix deprecation warning\n\nTASK [os_nova : Disable the online migrations requirement] ******************\n[DEPRECATION WARNING]: Using tests as filters is deprecated. Instead of using\n`result|skipped` use `result is skipped`. This feature will be removed in\nversion 2.9. Deprecation warnings can be disabled by setting\ndeprecation_warnings=False in ansible.cfg.\n\nChange-Id: Id48c0288cc31307d1b2338817449fd5c9c84671e\n'}]",0,669692,2a9a92e1ab171b08d131be2ce66c41c3dc8e432f,7,3,1,18279,,,0,"Fix deprecation warning

TASK [os_nova : Disable the online migrations requirement] ******************
[DEPRECATION WARNING]: Using tests as filters is deprecated. Instead of using
`result|skipped` use `result is skipped`. This feature will be removed in
version 2.9. Deprecation warnings can be disabled by setting
deprecation_warnings=False in ansible.cfg.

Change-Id: Id48c0288cc31307d1b2338817449fd5c9c84671e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/92/669692/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nova_db_setup.yml'],1,2a9a92e1ab171b08d131be2ce66c41c3dc8e432f,deprecation-warning, - data_migrations is not skipped - data_migrations is succeeded, - not data_migrations | skipped - data_migrations is succeeded,2,2
openstack%2Fnova~master~I1043287fe8063c4b2af07c997a931a7097518ca9,openstack/nova,master,I1043287fe8063c4b2af07c997a931a7097518ca9,libvirt: Remove unreachable native QEMU iSCSI initiator config code,MERGED,2019-07-02 19:46:36.000000000,2019-07-10 17:32:48.000000000,2019-07-10 17:32:48.000000000,"[{'_account_id': 782}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-02 19:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9629820ee5f18c1f0acf3763796f78ab3363b20b', 'message': ""libvirt: Remove unreachable native QEMU iSCSI initiator config code\n\nIeb9a03d308495be4e8c54b5c6c0ff781ea7f0559 introduced support for using\nQEMU's native iSCSI initiator support way back in Kilo. However this was\nonly enabled when the LibvirtNetVolumeDriver class was configured as the\n``iscsi`` volume driver via the ``[libvirt]\\volume_drivers`` configurable.\n\nUnfortunatley this configurable was removed in Liberty by\nI832820499ec3304132379ad9b9d1ee92c5a75b61 essentially rendering this\n``iscsi`` based  codepath dead ever since unless operators manually\nhacked the now static ``libvirt_volume_drivers`` list within driver.py.\n\nAs a result of this and a complete lack of any test coverage in the gate\nwe can now remove this unreachable code from Nova. It might be desirable\nto reintroduce this support later but this should take the form of an\nextracted volume driver and a new ``driver_volume_type`` in Cinder.\n\nCloses-Bug: #1501447\nChange-Id: I1043287fe8063c4b2af07c997a931a7097518ca9\n""}, {'number': 2, 'created': '2019-07-03 07:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/163b941020780a0e4d11b2be656aad054509b39a', 'message': ""libvirt: Remove unreachable native QEMU iSCSI initiator config code\n\nIeb9a03d308495be4e8c54b5c6c0ff781ea7f0559 introduced support for using\nQEMU's native iSCSI initiator support way back in Kilo. However this was\nonly enabled when the LibvirtNetVolumeDriver class was configured as the\n``iscsi`` volume driver via the ``[libvirt]\\volume_drivers`` configurable.\n\nUnfortunatley this configurable was removed in Liberty by\nI832820499ec3304132379ad9b9d1ee92c5a75b61 essentially rendering this\n``iscsi`` based  codepath dead ever since unless operators manually\nhacked the now static ``libvirt_volume_drivers`` list within driver.py.\n\nAs a result of this and a complete lack of any test coverage in the gate\nwe can now remove this unreachable code from Nova. It might be desirable\nto reintroduce this support later but this should take the form of an\nextracted volume driver and a new configurable within nova.conf to\nswitch between the two available drivers.\n\nCloses-Bug: #1501447\nChange-Id: I1043287fe8063c4b2af07c997a931a7097518ca9\n""}, {'number': 3, 'created': '2019-07-04 10:03:35.000000000', 'files': ['nova/virt/libvirt/volume/net.py', 'nova/tests/unit/virt/libvirt/volume/test_net.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b8c55d1d3c3b9dfd3b962e092e4fd80f2b0dfac3', 'message': ""libvirt: Remove unreachable native QEMU iSCSI initiator config code\n\nIeb9a03d308495be4e8c54b5c6c0ff781ea7f0559 introduced support for using\nQEMU's native iSCSI initiator support way back in Kilo. However this was\nonly enabled when the LibvirtNetVolumeDriver class was configured as the\n``iscsi`` volume driver via the ``[libvirt]/volume_drivers`` configurable.\n\nUnfortunately this configurable was removed in Liberty by\nI832820499ec3304132379ad9b9d1ee92c5a75b61 essentially rendering this\n``iscsi`` based  code path dead ever since unless operators manually\nhacked the now static ``libvirt_volume_drivers`` list within driver.py.\n\nAs a result of this and a complete lack of any test coverage in the gate\nwe can now remove this unreachable code from Nova. It might be desirable\nto reintroduce this support later but this should take the form of an\nextracted volume driver and a new configurable within nova.conf to\nswitch between the two available drivers.\n\nCloses-Bug: #1501447\nChange-Id: I1043287fe8063c4b2af07c997a931a7097518ca9\n""}]",8,668750,b8c55d1d3c3b9dfd3b962e092e4fd80f2b0dfac3,43,17,3,10135,,,0,"libvirt: Remove unreachable native QEMU iSCSI initiator config code

Ieb9a03d308495be4e8c54b5c6c0ff781ea7f0559 introduced support for using
QEMU's native iSCSI initiator support way back in Kilo. However this was
only enabled when the LibvirtNetVolumeDriver class was configured as the
``iscsi`` volume driver via the ``[libvirt]/volume_drivers`` configurable.

Unfortunately this configurable was removed in Liberty by
I832820499ec3304132379ad9b9d1ee92c5a75b61 essentially rendering this
``iscsi`` based  code path dead ever since unless operators manually
hacked the now static ``libvirt_volume_drivers`` list within driver.py.

As a result of this and a complete lack of any test coverage in the gate
we can now remove this unreachable code from Nova. It might be desirable
to reintroduce this support later but this should take the form of an
extracted volume driver and a new configurable within nova.conf to
switch between the two available drivers.

Closes-Bug: #1501447
Change-Id: I1043287fe8063c4b2af07c997a931a7097518ca9
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/668750/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/volume/net.py', 'nova/tests/unit/virt/libvirt/volume/test_net.py']",2,9629820ee5f18c1f0acf3763796f78ab3363b20b,bug/1501447,,"from nova.virt.libvirt import host @mock.patch.object(host.Host, 'find_secret') @mock.patch.object(host.Host, 'create_secret') @mock.patch.object(host.Host, 'delete_secret') def test_libvirt_iscsi_net_driver(self, mock_delete, mock_create, mock_find): mock_find.return_value = test_volume.FakeSecret() mock_create.return_value = test_volume.FakeSecret() libvirt_driver = net.LibvirtNetVolumeDriver(self.fake_host) connection_info = self.iscsi_connection(self.vol, self.location, self.iqn, auth=True) secret_type = 'iscsi' flags_user = connection_info['data']['auth_username'] conf = libvirt_driver.get_config(connection_info, self.disk_info) tree = conf.format_dom() self._assertISCSINetworkAndProtocolEquals(tree) self.assertEqual(flags_user, tree.find('./auth').get('username')) self.assertEqual(secret_type, tree.find('./auth/secret').get('type')) self.assertEqual(test_volume.SECRET_UUID, tree.find('./auth/secret').get('uuid')) libvirt_driver.disconnect_volume(connection_info, mock.sentinel.instance) ",0,59
openstack%2Fopenstack-ansible-os_octavia~master~If43b8749fba60b9995adc601c23fb167a41cd129,openstack/openstack-ansible-os_octavia,master,If43b8749fba60b9995adc601c23fb167a41cd129,Add openSUSE support,MERGED,2019-05-21 12:29:04.000000000,2019-07-10 17:28:27.000000000,2019-07-10 17:28:27.000000000,"[{'_account_id': 1004}, {'_account_id': 6593}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-21 12:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/8bdd0409f682d768a5685381d1be6dbbdc56ed34', 'message': '[WIP] Add SUSE support\n\nThis also adds the integrated jobs of https://review.opendev.org/#/c/660276/,\nuntil this one is ready and cleaned up.\n\nChange-Id: If43b8749fba60b9995adc601c23fb167a41cd129\n'}, {'number': 2, 'created': '2019-06-27 08:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/26b66eacd6b36596edaa5ce0af96238aa89f4c52', 'message': '[WIP] Add SUSE support\n\nThis also adds the integrated jobs of https://review.opendev.org/#/c/660276/,\nuntil this one is ready and cleaned up.\n\nDepends-On: Ia5fda5d417b79189d048c8891b84d57331df1404\nChange-Id: If43b8749fba60b9995adc601c23fb167a41cd129\n'}, {'number': 3, 'created': '2019-06-28 07:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/fd3ffedc6799ef4e936e2bdf46fc64ce0d0da3cb', 'message': '[WIP] Add SUSE support\n\nThis also adds the integrated jobs of https://review.opendev.org/#/c/660276/,\nuntil this one is ready and cleaned up.\n\nDepends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87\nDepends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89\nDepends-On: Ia5fda5d417b79189d048c8891b84d57331df1404\nChange-Id: If43b8749fba60b9995adc601c23fb167a41cd129\n'}, {'number': 4, 'created': '2019-06-28 16:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/67d21e16d85da6544ff78109ed374f91e0661496', 'message': 'Add openSUSE support\n\nChange-Id: If43b8749fba60b9995adc601c23fb167a41cd129\n'}, {'number': 5, 'created': '2019-06-28 16:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/6838d6f535e0615bbddf3f8d9ee75aa931bdf94d', 'message': '[WIP] Add openSUSE support\n\nChange-Id: If43b8749fba60b9995adc601c23fb167a41cd129\n'}, {'number': 6, 'created': '2019-07-10 07:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/2fd568c49c104f64d228fa14ef7330f2118cee46', 'message': '[WIP] Add openSUSE support\n\nChange-Id: If43b8749fba60b9995adc601c23fb167a41cd129\n'}, {'number': 7, 'created': '2019-07-10 11:26:41.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'meta/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/9326307c88577ca7290153a7cc6dbf8d688fdd1e', 'message': 'Add openSUSE support\n\nChange-Id: If43b8749fba60b9995adc601c23fb167a41cd129\n'}]",1,660367,9326307c88577ca7290153a7cc6dbf8d688fdd1e,23,5,7,17068,,,0,"Add openSUSE support

Change-Id: If43b8749fba60b9995adc601c23fb167a41cd129
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/67/660367/3 && git format-patch -1 --stdout FETCH_HEAD,"['vars/suse-15.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",3,8bdd0409f682d768a5685381d1be6dbbdc56ed34,add_suse_support,,"--- # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - job: name: openstack-ansible-deploy-aio_metal_octavia-centos-7 parent: openstack-ansible-deploy-aio nodeset: centos-7 vars: action: deploy scenario: aio_metal_octavia - job: name: openstack-ansible-deploy-aio_metal_octavia-opensuse-150 parent: openstack-ansible-deploy-aio nodeset: opensuse-150 vars: action: deploy scenario: aio_metal_octavia - job: name: openstack-ansible-deploy-aio_metal_octavia-ubuntu-bionic parent: openstack-ansible-deploy-aio nodeset: ubuntu-bionic vars: action: deploy scenario: aio_metal_octavia - job: name: openstack-ansible-deploy-aio_metal_octavia-debian-stable parent: openstack-ansible-deploy-aio nodeset: debian-stable vars: action: deploy scenario: aio_metal_octavia ",24,58
openstack%2Fpuppet-neutron~master~I9ed539745a705936d9a5110a9cfb05c2f28b0bbb,openstack/puppet-neutron,master,I9ed539745a705936d9a5110a9cfb05c2f28b0bbb,Add support for configuring permitted_ethertypes on OVS agent,MERGED,2019-07-08 20:16:35.000000000,2019-07-10 17:12:42.000000000,2019-07-10 17:12:42.000000000,"[{'_account_id': 1131}, {'_account_id': 9414}, {'_account_id': 11082}, {'_account_id': 13995}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-07-08 20:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/3ed16c9547b72be170511e41f5846fe322e1c69e', 'message': 'Add support for configuring permitted_ethertypes on OVS agent\n\nNeutron recently added support for configuring non-IP ethernet types to\nbe allowed through firewalls (see https://review.opendev.org/#/c/668224).\n\nRelated-Bug: #1832758\nChange-Id: I9ed539745a705936d9a5110a9cfb05c2f28b0bbb\n'}, {'number': 2, 'created': '2019-07-08 20:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/d05e402d1159dbbf9486f833b46f53fa8a333907', 'message': 'Add support for configuring permitted_ethertypes on OVS agent\n\nNeutron recently added support for configuring non-IP ethernet types to\nbe allowed through firewalls through SECURITYGROUP/permitted_ethertypes.\nThis adds support for configuring this feature on the ML2/OVS agent.\nSee https://review.opendev.org/#/c/668224 for related neutron change.\n\nRelated-Bug: #1832758\nChange-Id: I9ed539745a705936d9a5110a9cfb05c2f28b0bbb\n'}, {'number': 3, 'created': '2019-07-09 19:22:01.000000000', 'files': ['spec/classes/neutron_agents_ml2_ovs_spec.rb', 'releasenotes/notes/add-permitted-ethertypes-a5e8f47e85ed8992.yaml', 'manifests/agents/ml2/ovs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/def07975c604ecc3215fa17dc10fc0ac8fa40545', 'message': 'Add support for configuring permitted_ethertypes on OVS agent\n\nNeutron recently added support for configuring non-IP ethernet types to\nbe allowed through firewalls through SECURITYGROUP/permitted_ethertypes.\nThis adds support for configuring this feature on the ML2/OVS agent.\nSee https://review.opendev.org/#/c/668224 for related neutron change.\n\nRelated-Bug: #1832758\nChange-Id: I9ed539745a705936d9a5110a9cfb05c2f28b0bbb\n'}]",0,669751,def07975c604ecc3215fa17dc10fc0ac8fa40545,18,10,3,6681,,,0,"Add support for configuring permitted_ethertypes on OVS agent

Neutron recently added support for configuring non-IP ethernet types to
be allowed through firewalls through SECURITYGROUP/permitted_ethertypes.
This adds support for configuring this feature on the ML2/OVS agent.
See https://review.opendev.org/#/c/668224 for related neutron change.

Related-Bug: #1832758
Change-Id: I9ed539745a705936d9a5110a9cfb05c2f28b0bbb
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/51/669751/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_agents_ml2_ovs_spec.rb', 'manifests/agents/ml2/ovs.pp']",2,3ed16c9547b72be170511e41f5846fe322e1c69e,bug/1832758,"# [*permitted_ethertypes*] # (optional) List of additional ethernet types to be configured # on the firewall. # Defaults to $::os_service_default # $permitted_ethertypes = $::os_service_default, if ! is_service_default($permitted_ethertypes) { validate_legacy(Array, 'validate_array', $permitted_ethertypes) } 'securitygroup/permitted_ethertypes': value => $permitted_ethertypes;",,22,0
openstack%2Fopenstack-zuul-jobs~master~If49c3b5c3c521118bd67da4e7a9600e66bdcf50d,openstack/openstack-zuul-jobs,master,If49c3b5c3c521118bd67da4e7a9600e66bdcf50d,Skip test-setup.sh in pep8 jobs,MERGED,2019-07-10 16:25:17.000000000,2019-07-10 17:10:26.000000000,2019-07-10 17:10:26.000000000,"[{'_account_id': 2}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-10 16:25:17.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/905731c02b82142a85b705adbb965d2f5cc79a03', 'message': 'Skip test-setup.sh in pep8 jobs\n\npep8 jobs should not require database setup, etc, so we can skip\nrunning test-setup.sh to save time.\n\nDepends-On: https://review.opendev.org/670119\nChange-Id: If49c3b5c3c521118bd67da4e7a9600e66bdcf50d\n'}]",0,670120,905731c02b82142a85b705adbb965d2f5cc79a03,9,4,1,1,,,0,"Skip test-setup.sh in pep8 jobs

pep8 jobs should not require database setup, etc, so we can skip
running test-setup.sh to save time.

Depends-On: https://review.opendev.org/670119
Change-Id: If49c3b5c3c521118bd67da4e7a9600e66bdcf50d
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/20/670120/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,905731c02b82142a85b705adbb965d2f5cc79a03,test-setup, test_setup_skip: true,,1,0
openstack%2Fnova~master~I690d64c01accb10afc2ff20844e2d51bfa68e635,openstack/nova,master,I690d64c01accb10afc2ff20844e2d51bfa68e635,Remove 'nova.virt.libvirt.compat',MERGED,2019-07-04 09:20:57.000000000,2019-07-10 17:06:39.000000000,2019-07-10 17:06:39.000000000,"[{'_account_id': 782}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-04 09:20:57.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/compat.py', 'nova/tests/unit/virt/libvirt/test_compat.py', 'nova/virt/libvirt/guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/00740b063f392f271cb32978f30e7ed9ea9707ab', 'message': 'Remove \'nova.virt.libvirt.compat\'\n\nThis contained a single wrapper for \'domain.info()\' that worked around a\nrace in libvirt 1.2.11. We haven\'t supported this version for quite some\ntime [1] so the module itself can go.\n\n[1] http://git.openstack.org/cgit/openstack/nova/commit/?id=28d337b --\n    Pick next minimum libvirt / QEMU versions for ""Stein""\n\nChange-Id: I690d64c01accb10afc2ff20844e2d51bfa68e635\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,669120,00740b063f392f271cb32978f30e7ed9ea9707ab,15,11,1,15334,,,0,"Remove 'nova.virt.libvirt.compat'

This contained a single wrapper for 'domain.info()' that worked around a
race in libvirt 1.2.11. We haven't supported this version for quite some
time [1] so the module itself can go.

[1] http://git.openstack.org/cgit/openstack/nova/commit/?id=28d337b --
    Pick next minimum libvirt / QEMU versions for ""Stein""

Change-Id: I690d64c01accb10afc2ff20844e2d51bfa68e635
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/669120/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/compat.py', 'nova/tests/unit/virt/libvirt/test_compat.py', 'nova/virt/libvirt/guest.py']",5,00740b063f392f271cb32978f30e7ed9ea9707ab,Bump_min_libvirt_and_QEMU_for_Stein," def _get_domain_info(self): """"""Returns information on Guest. return self._domain.info() dom_info = self._get_domain_info()","from nova.virt.libvirt import compat def _get_domain_info(self, host): """"""Returns information on Guest :param host: a host.Host object with current connection. Unfortunately we need to pass it because of a workaround with < version 1.2..11 return compat.get_domain_info(libvirt, host, self._domain) dom_info = self._get_domain_info(host)",6,114
openstack%2Fswift~master~Ifa6e8453edfe9eda04669abea1a973202f824bdb,openstack/swift,master,Ifa6e8453edfe9eda04669abea1a973202f824bdb,"Add uncapped, non-voting unit test jobs for py27 and py37",ABANDONED,2019-05-18 06:37:38.000000000,2019-07-10 16:54:03.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 26233}]","[{'number': 1, 'created': '2019-05-18 06:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/23a8d35fcfbe3a4356b9c5895439b879500c5cd7', 'message': 'Add an uncapped, non-voting unit test job\n\nAs long as we propose patches reasonably frequently, this should\ngive us a heads-up when one of our dependencies breaks tests.\n\nChange-Id: Ifa6e8453edfe9eda04669abea1a973202f824bdb\n'}, {'number': 2, 'created': '2019-05-24 21:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c0337fd57ea15b3313b8586aa9a859a1220f791a', 'message': 'Add an uncapped, non-voting unit test job\n\nAs long as we propose patches reasonably frequently, this should\ngive us a heads-up when one of our dependencies breaks tests.\n\nChange-Id: Ifa6e8453edfe9eda04669abea1a973202f824bdb\n'}, {'number': 3, 'created': '2019-05-24 21:42:55.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/33282a3041fd1eff5bdb7548c8c1be8fa66c5032', 'message': 'Add uncapped, non-voting unit test jobs for py27 and py37\n\nAs long as we propose patches reasonably frequently, this should\ngive us a heads-up when one of our dependencies breaks tests.\n\nChange-Id: Ifa6e8453edfe9eda04669abea1a973202f824bdb\n'}]",0,659897,33282a3041fd1eff5bdb7548c8c1be8fa66c5032,10,3,3,15343,,,0,"Add uncapped, non-voting unit test jobs for py27 and py37

As long as we propose patches reasonably frequently, this should
give us a heads-up when one of our dependencies breaks tests.

Change-Id: Ifa6e8453edfe9eda04669abea1a973202f824bdb
",git fetch https://review.opendev.org/openstack/swift refs/changes/97/659897/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,23a8d35fcfbe3a4356b9c5895439b879500c5cd7,659897,[testenv:py27-uncapped] # notably: no constraints file deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt ,,29,0
openstack%2Fopenstack-ansible-os_keystone~stable%2Frocky~I7f6b80acb27fb959ce6d68bd35d3cc5dccc86f9f,openstack/openstack-ansible-os_keystone,stable/rocky,I7f6b80acb27fb959ce6d68bd35d3cc5dccc86f9f,Fix custom policy configuration,MERGED,2019-06-15 02:00:59.000000000,2019-07-10 16:50:46.000000000,2019-07-10 16:50:46.000000000,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-15 02:00:59.000000000', 'files': ['tasks/keystone_post_install.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/1aa7f610cc7f592d8c3d5047ce9376060990fd6e', 'message': ""Fix custom policy configuration\n\nCustom policies for Keystone are implemented completely different\nfrom other roles, in a way that is broken from prior OSA branches.\n\nOn older and newer branches, keystone_policy_overrides is used to\nprovide a yaml dict of policy overrides using ansible vars. The\ncurrent implementation of keystone's policy distribution requires\nthat a base policy be configured in a flat file on the deployment\nhost at /etc/openstack_deploy/keystone/policy.json, to which policy\noverrides are then applied and copied to the keystone hosts.\n\nIf the flat file does not exist, no policy overrides are applied\nto Keystone.\n\nThis change modifies the policy distribution to work similarly to\nother OSA roles in the rocky branch. No flat file is sourced from\n/etc/openstack_deploy any longer, only the keystone_policy_overrides\nvar is used, and a policy.json is only deployed to Keystone\nif this var is defined by the deployer.\n\nChange-Id: I7f6b80acb27fb959ce6d68bd35d3cc5dccc86f9f\n""}]",0,665500,1aa7f610cc7f592d8c3d5047ce9376060990fd6e,9,4,1,17799,,,0,"Fix custom policy configuration

Custom policies for Keystone are implemented completely different
from other roles, in a way that is broken from prior OSA branches.

On older and newer branches, keystone_policy_overrides is used to
provide a yaml dict of policy overrides using ansible vars. The
current implementation of keystone's policy distribution requires
that a base policy be configured in a flat file on the deployment
host at /etc/openstack_deploy/keystone/policy.json, to which policy
overrides are then applied and copied to the keystone hosts.

If the flat file does not exist, no policy overrides are applied
to Keystone.

This change modifies the policy distribution to work similarly to
other OSA roles in the rocky branch. No flat file is sourced from
/etc/openstack_deploy any longer, only the keystone_policy_overrides
var is used, and a policy.json is only deployed to Keystone
if this var is defined by the deployer.

Change-Id: I7f6b80acb27fb959ce6d68bd35d3cc5dccc86f9f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/00/665500/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/keystone_post_install.yml', 'defaults/main.yml']",2,1aa7f610cc7f592d8c3d5047ce9376060990fd6e,policy-in-code,,"keystone_policy_default_file_path: ""/etc/openstack_deploy/keystone/policy.json""",7,8
openstack%2Fopenstack-ansible-lxc_hosts~master~Ibe4112ef947513439643025ddf0fd543b28aba70,openstack/openstack-ansible-lxc_hosts,master,Ibe4112ef947513439643025ddf0fd543b28aba70,Fix copying apt keys from host to containers,MERGED,2019-06-24 13:32:39.000000000,2019-07-10 16:43:05.000000000,2019-07-10 16:31:56.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-06-24 13:32:39.000000000', 'files': ['vars/ubuntu-18.04.yml', 'vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9fd34ada152889c06c744ea5b4928c3554c9b4c5', 'message': 'Fix copying apt keys from host to containers\n\nWithout the trailing slash the keys had an extra level of directories\nas follows: /etc/apt/trusted.gpg.d/trusted.gpg.d/<keys>\n\nChange-Id: Ibe4112ef947513439643025ddf0fd543b28aba70\n'}]",0,667100,9fd34ada152889c06c744ea5b4928c3554c9b4c5,8,3,1,25023,,,0,"Fix copying apt keys from host to containers

Without the trailing slash the keys had an extra level of directories
as follows: /etc/apt/trusted.gpg.d/trusted.gpg.d/<keys>

Change-Id: Ibe4112ef947513439643025ddf0fd543b28aba70
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/00/667100/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/ubuntu-18.04.yml', 'vars/ubuntu-16.04.yml']",2,9fd34ada152889c06c744ea5b4928c3554c9b4c5,, - /etc/apt/trusted.gpg.d/, - /etc/apt/trusted.gpg.d,2,2
openstack%2Fproject-config~master~Ib50a7a90c8049537663da7c9b68f7e68daef5a83,openstack/project-config,master,Ib50a7a90c8049537663da7c9b68f7e68daef5a83,Drop tempest-tripleo-ui,MERGED,2019-07-09 14:44:06.000000000,2019-07-10 16:41:16.000000000,2019-07-10 16:41:15.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-09 14:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/bc7d0789e1b62bff89773a6ee0686ab3bba82070', 'message': 'Drop tempest-tripleo-ui\n\nThe code has been retired, need to cleanup tempest-tripleo-ui from\nprojects.yaml and main.yaml\n\nChange-Id: Ib50a7a90c8049537663da7c9b68f7e68daef5a83\n'}, {'number': 2, 'created': '2019-07-09 17:14:39.000000000', 'files': ['zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4b3b3b8d767e8297ba5ed8187740402113424c36', 'message': 'Drop tempest-tripleo-ui\n\nThe code has been retired, need to cleanup tempest-tripleo-ui from\nprojects.yaml and main.yaml\n\nChange-Id: Ib50a7a90c8049537663da7c9b68f7e68daef5a83\n'}]",0,669883,4b3b3b8d767e8297ba5ed8187740402113424c36,10,3,2,14985,,,0,"Drop tempest-tripleo-ui

The code has been retired, need to cleanup tempest-tripleo-ui from
projects.yaml and main.yaml

Change-Id: Ib50a7a90c8049537663da7c9b68f7e68daef5a83
",git fetch https://review.opendev.org/openstack/project-config refs/changes/83/669883/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul/main.yaml']",2,bc7d0789e1b62bff89773a6ee0686ab3bba82070,retire-tempest-tripleo-ui,, - openstack/tempest-tripleo-ui,0,6
openstack%2Fcyborg-tempest-plugin~master~Ic06e599de92dbc1d74155dc7dcd5d994cb00e3ef,openstack/cyborg-tempest-plugin,master,Ic06e599de92dbc1d74155dc7dcd5d994cb00e3ef,add zuul job to run cyborg tempest,MERGED,2019-07-04 00:52:28.000000000,2019-07-10 16:37:18.000000000,2019-07-10 16:37:18.000000000,"[{'_account_id': 5689}, {'_account_id': 14107}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 29907}]","[{'number': 1, 'created': '2019-07-04 00:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/a20d8a802a5b47fdc0500cb9d698ffa0a7679eff', 'message': 'add zuul job to run cyborg tempest\n\nChange-Id: Ic06e599de92dbc1d74155dc7dcd5d994cb00e3ef\n'}, {'number': 2, 'created': '2019-07-04 01:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/48ed7fd47c6d2a0a9458495e863c79b194c9def5', 'message': 'add zuul job to run cyborg tempest\n\nChange-Id: Ic06e599de92dbc1d74155dc7dcd5d994cb00e3ef\n'}, {'number': 3, 'created': '2019-07-04 11:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/a6f7624c0108c4b6060bf5d8aa528254ad170dc3', 'message': 'add zuul job to run cyborg tempest\n\nDepends-On: https://review.opendev.org/#/c/667231/\n\nChange-Id: Ic06e599de92dbc1d74155dc7dcd5d994cb00e3ef\n'}, {'number': 4, 'created': '2019-07-04 12:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/3d0e01be5a914a59f3e567ae95c3c19f73350ec3', 'message': 'add zuul job to run cyborg tempest\n\nDepends-On: https://review.opendev.org/#/c/667231/\n\nChange-Id: Ic06e599de92dbc1d74155dc7dcd5d994cb00e3ef\n'}, {'number': 5, 'created': '2019-07-05 09:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/4f5f34a2c9a46f8898401201d428579174738cef', 'message': 'add zuul job to run cyborg tempest\n\nDepends-On: https://review.opendev.org/#/c/667231/\n\nChange-Id: Ic06e599de92dbc1d74155dc7dcd5d994cb00e3ef\n'}, {'number': 6, 'created': '2019-07-05 09:25:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/fddee3f5f357a4621ba2d3d5bf6691e12912a403', 'message': 'add zuul job to run cyborg tempest\n\n\nChange-Id: Ic06e599de92dbc1d74155dc7dcd5d994cb00e3ef\n'}]",5,669010,fddee3f5f357a4621ba2d3d5bf6691e12912a403,22,7,6,24872,,,0,"add zuul job to run cyborg tempest


Change-Id: Ic06e599de92dbc1d74155dc7dcd5d994cb00e3ef
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/10/669010/6 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a20d8a802a5b47fdc0500cb9d698ffa0a7679eff,," check: jobs: - cyborg-tempest - job: name: cyborg-tempest parent: devstack-tempest timeout: 7800 required-projects: - openstack/cyborg - openstack/python-cyborgclient - openstack/tempest - openstack/cyborg-tempest-plugin vars: devstack_plugins: cyborg: https://opendev.org/openstack/cyborg devstack_services: tempest: true s-account: false s-container: false s-object: false s-proxy: false tls-proxy: false devstack_localrc: TEMPEST_PLUGINS: ""/opt/stack/cyborg-tempest-plugin"" tempest_test_regex: cyborg_tempest_plugin tox_envlist: all",,27,0
openstack%2Fdiskimage-builder~master~I0c162f1fe8168513e352546ab8dd2b68fa65b88c,openstack/diskimage-builder,master,I0c162f1fe8168513e352546ab8dd2b68fa65b88c,[RHEL-8] Set _clear_old_files=0 in install-pip element,MERGED,2019-07-08 11:32:50.000000000,2019-07-10 16:35:45.000000000,2019-07-10 16:35:45.000000000,"[{'_account_id': 1955}, {'_account_id': 4146}, {'_account_id': 6133}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10118}, {'_account_id': 10969}, {'_account_id': 11810}, {'_account_id': 12393}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-08 11:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5ba312f366e41b649a9317e12ac48957bbfc606c', 'message': '[RHEL] Set _clear_old_files=0 in install-pip element\n\nWhen virtualenv and setuptools gots installed from source and rpm\nthen their installation path lives at different places but when\nthe python script got called then that time it choses either of\nrpm or source based path on system wide installation and leads to\ndifferent failure as their methods are not implemeted.\n\nSo by setting _clear_old_files to 0 will install\npython3-virtualenv python3-pip python3-setuptools from rpms only\nand avoid these failures.\n\nChange-Id: I0c162f1fe8168513e352546ab8dd2b68fa65b88c\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-07-08 14:20:49.000000000', 'files': ['diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/08caa8034db1e6cad32894bb76bcbe8b4d420381', 'message': '[RHEL-8] Set _clear_old_files=0 in install-pip element\n\nWhen virtualenv and setuptools gots installed from source and rpm\nthen their installation path lives at different places but when\nthe python script got called then that time it choses either of\nrpm or source based path on system wide installation and leads to\ndifferent failure as their methods are not implemeted.\n\nSo by setting _clear_old_files to 0 will install\npython3-virtualenv python3-pip python3-setuptools from rpms only\nand avoid these failures.\n\nChange-Id: I0c162f1fe8168513e352546ab8dd2b68fa65b88c\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",3,669641,08caa8034db1e6cad32894bb76bcbe8b4d420381,23,14,2,12393,,,0,"[RHEL-8] Set _clear_old_files=0 in install-pip element

When virtualenv and setuptools gots installed from source and rpm
then their installation path lives at different places but when
the python script got called then that time it choses either of
rpm or source based path on system wide installation and leads to
different failure as their methods are not implemeted.

So by setting _clear_old_files to 0 will install
python3-virtualenv python3-pip python3-setuptools from rpms only
and avoid these failures.

Change-Id: I0c162f1fe8168513e352546ab8dd2b68fa65b88c
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/41/669641/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip'],1,5ba312f366e41b649a9317e12ac48957bbfc606c,rhel_8, _clear_old_files=0, _clear_old_files=1,1,1
openstack%2Fopenstack-ansible-lxc_hosts~master~I3ad0d46d5eb22ae43fd760a7d701f4d9f1dc9a9e,openstack/openstack-ansible-lxc_hosts,master,I3ad0d46d5eb22ae43fd760a7d701f4d9f1dc9a9e,Update LXC base image to 18.04.2,MERGED,2019-06-24 13:40:11.000000000,2019-07-10 16:31:58.000000000,2019-07-10 16:31:58.000000000,"[{'_account_id': 1004}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 13:40:11.000000000', 'files': ['vars/ubuntu-18.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/b075f214ebf834bfd1efd4c6e853a45a501b4792', 'message': 'Update LXC base image to 18.04.2\n\nChange-Id: I3ad0d46d5eb22ae43fd760a7d701f4d9f1dc9a9e\n'}]",0,667102,b075f214ebf834bfd1efd4c6e853a45a501b4792,7,3,1,25023,,,0,"Update LXC base image to 18.04.2

Change-Id: I3ad0d46d5eb22ae43fd760a7d701f4d9f1dc9a9e
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/02/667102/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-18.04.yml'],1,b075f214ebf834bfd1efd4c6e853a45a501b4792,,"_lxc_hosts_container_image_url: ""http://cdimage.ubuntu.com/ubuntu-base/releases/18.04/release/ubuntu-base-18.04.2-base-{{ lxc_cache_map.arch }}.tar.gz""","_lxc_hosts_container_image_url: ""http://cdimage.ubuntu.com/ubuntu-base/releases/18.04/release/ubuntu-base-18.04.1-base-{{ lxc_cache_map.arch }}.tar.gz""",1,1
openstack%2Ftripleo-ansible~master~I56b59702023e72d79cd6bac15667f696266c84e7,openstack/tripleo-ansible,master,I56b59702023e72d79cd6bac15667f696266c84e7,Remove filters on post jobs,MERGED,2019-07-10 15:17:16.000000000,2019-07-10 16:29:44.000000000,2019-07-10 16:29:44.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-10 15:17:16.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e5d7a71744b95b44375895bd210f42ef2f7a9fbc', 'message': 'Remove filters on post jobs\n\nThis change removes the filters on the post jobs because\npost jobs dont have the filter data available to them.\n\nChange-Id: I56b59702023e72d79cd6bac15667f696266c84e7\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,670090,e5d7a71744b95b44375895bd210f42ef2f7a9fbc,7,3,1,7353,,,0,"Remove filters on post jobs

This change removes the filters on the post jobs because
post jobs dont have the filter data available to them.

Change-Id: I56b59702023e72d79cd6bac15667f696266c84e7
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/90/670090/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,e5d7a71744b95b44375895bd210f42ef2f7a9fbc,, - publish-openstack-python-branch-tarball - publish-openstack-releasenotes-python3 - publish-openstack-sphinx-docs, - publish-openstack-python-branch-tarball: files: - ^tripleo_ansible/.* - publish-openstack-releasenotes-python3: files: - ^releasenotes/.* - publish-openstack-sphinx-docs: files: - ^doc/.*,3,9
openstack%2Ftripleo-ansible~master~Ib972e04c0bd9bb81bde733e87128e1514db8d1c9,openstack/tripleo-ansible,master,Ib972e04c0bd9bb81bde733e87128e1514db8d1c9,Add an additional check for ceph_ansible_skip_tags variable.,MERGED,2019-07-08 15:01:42.000000000,2019-07-10 16:29:44.000000000,2019-07-10 16:29:44.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-08 15:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bd5bd57424ebd0949c3dd8909920bc87bb9e85c5', 'message': 'Add an additional check for ceph_ansible_skip_tags variable.\n\nSince we can override the ceph_ansible_skip_tags variable with\nan empty string, this commit adds and additional check to skip\nthe if statement when the variable is defined (exists) but is\njust an empty string.\n\nChange-Id: Ib972e04c0bd9bb81bde733e87128e1514db8d1c9\n'}, {'number': 2, 'created': '2019-07-08 15:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/252ae36416a6389d07a66c7a73843869bfbaaa8e', 'message': 'Add an additional check for ceph_ansible_skip_tags variable.\n\nSince we can override the ceph_ansible_skip_tags variable with\nan empty string, this commit adds and additional check to skip\nthe if statement when the variable is defined (exists) but is\njust an empty string.\n\nCloses-Bug: #1835792\nChange-Id: Ib972e04c0bd9bb81bde733e87128e1514db8d1c9\n'}, {'number': 3, 'created': '2019-07-08 15:29:37.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2cf3613c5a6e9aecd1af75cdbee91a6f9ed545bb', 'message': 'Add an additional check for ceph_ansible_skip_tags variable.\n\nSince we can override the ceph_ansible_skip_tags variable with\nan empty string, this commit adds an additional check to skip\nthe if statement when the variable is defined (it exists) but is\njust an empty string.\n\nCloses-Bug: #1835792\nChange-Id: Ib972e04c0bd9bb81bde733e87128e1514db8d1c9\n'}]",1,669695,2cf3613c5a6e9aecd1af75cdbee91a6f9ed545bb,19,13,3,25402,,,0,"Add an additional check for ceph_ansible_skip_tags variable.

Since we can override the ceph_ansible_skip_tags variable with
an empty string, this commit adds an additional check to skip
the if statement when the variable is defined (it exists) but is
just an empty string.

Closes-Bug: #1835792
Change-Id: Ib972e04c0bd9bb81bde733e87128e1514db8d1c9
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/95/669695/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'],1,bd5bd57424ebd0949c3dd8909920bc87bb9e85c5,lp1835792, - '{% if ceph_ansible_skip_tags is defined and ceph_ansible_skip_tags|length > 0%}--skip-tags {{ ceph_ansible_skip_tags }}{% endif %}', - '{% if ceph_ansible_skip_tags is defined %}--skip-tags {{ ceph_ansible_skip_tags }}{% endif %}',1,1
openstack%2Fpython-cinderclient~master~Icf98f294c089942e11607786e932abc959f77b3b,openstack/python-cinderclient,master,Icf98f294c089942e11607786e932abc959f77b3b,Remove promote/reenable replication,MERGED,2019-05-10 09:50:15.000000000,2019-07-10 16:29:36.000000000,2019-07-10 16:29:36.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 8037}, {'_account_id': 10058}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-10 09:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/46f887fca0e72d365e24975d6da7e2266fb764a4', 'message': 'Remove promote/reenable replication\n\nThe replication 1.0 API os-promote-replica and os-reenable-replica\nwere removed from Mitaka[1], then remove useless code from\ncinderclient.\n\n[1]: https://review.openstack.org/#/c/275797/\n\nChange-Id: Icf98f294c089942e11607786e932abc959f77b3b\n'}, {'number': 2, 'created': '2019-05-24 11:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/10fab298936ecd44831994f4a6724e6044ae0e7b', 'message': 'Remove promote/reenable replication\n\nThe replication 1.0 API os-promote-replica and os-reenable-replica\nwere removed from Mitaka[1], then remove useless code from\ncinderclient.\n\n[1]: https://review.openstack.org/#/c/275797/\n\nChange-Id: Icf98f294c089942e11607786e932abc959f77b3b\n'}, {'number': 3, 'created': '2019-05-27 02:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/9d793903d3acf875712126bf8beddb896c4b92cc', 'message': 'Remove promote/reenable replication\n\nThe replication 1.0 API os-promote-replica and os-reenable-replica\nwere removed[1], then remove useless code from\ncinderclient.\n\n[1]: https://review.openstack.org/#/c/275797/\n\nChange-Id: Icf98f294c089942e11607786e932abc959f77b3b\n'}, {'number': 4, 'created': '2019-05-31 01:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/bcbcf61d93d9c5c90486d908f32be935b0b8bf52', 'message': 'Remove promote/reenable replication\n\nThe replication 1.0 API os-promote-replica and os-reenable-replica\nwere removed[1], then remove useless code from\ncinderclient.\n\n[1]: https://review.openstack.org/#/c/275797/\n\nChange-Id: Icf98f294c089942e11607786e932abc959f77b3b\n'}, {'number': 5, 'created': '2019-06-19 03:17:20.000000000', 'files': ['cinderclient/tests/unit/v2/test_volumes.py', 'README.rst', 'cinderclient/tests/unit/v2/fakes.py', 'doc/source/cli/details.rst', 'cinderclient/v2/volumes.py', 'releasenotes/notes/remove-replv1-cli-61d5722438f888b6.yaml', 'cinderclient/tests/unit/v2/test_shell.py', 'cinderclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/5cd22bb18a49849dc80534018f1cbbe02d122460', 'message': 'Remove promote/reenable replication\n\nThe replication 1.0 API os-promote-replica and os-reenable-replica\nwere removed[1], then remove useless code from\ncinderclient.\n\n[1]: https://review.openstack.org/#/c/275797/\n\nChange-Id: Icf98f294c089942e11607786e932abc959f77b3b\n'}]",3,658318,5cd22bb18a49849dc80534018f1cbbe02d122460,20,8,5,8037,,,0,"Remove promote/reenable replication

The replication 1.0 API os-promote-replica and os-reenable-replica
were removed[1], then remove useless code from
cinderclient.

[1]: https://review.openstack.org/#/c/275797/

Change-Id: Icf98f294c089942e11607786e932abc959f77b3b
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/18/658318/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/tests/unit/v2/test_volumes.py', 'cinderclient/tests/unit/v2/fakes.py', 'cinderclient/v2/volumes.py', 'cinderclient/tests/unit/v2/test_shell.py', 'cinderclient/v2/shell.py']",5,46f887fca0e72d365e24975d6da7e2266fb764a4,remove_replic_promote_reenable,,"@utils.arg('volume', metavar='<volume>', help='Name or ID of the volume to promote. ' 'The volume should have the replica volume created with ' 'source-replica argument.') def do_replication_promote(cs, args): """"""Promote a secondary volume to primary for a relationship."""""" volume = utils.find_volume(cs, args.volume) cs.volumes.promote(volume.id) @utils.arg('volume', metavar='<volume>', help='Name or ID of the volume to reenable replication. ' 'The replication-status of the volume should be inactive.') def do_replication_reenable(cs, args): """"""Sync the secondary volume with primary for a relationship."""""" volume = utils.find_volume(cs, args.volume) cs.volumes.reenable(volume.id) ",0,71
openstack%2Fopenstack-ansible-ops~master~Ia36831ebe55014a0ca58f448f934382bd2b27e68,openstack/openstack-ansible-ops,master,Ia36831ebe55014a0ca58f448f934382bd2b27e68,Correct opendev.org urls,MERGED,2019-07-09 21:03:23.000000000,2019-07-10 16:16:38.000000000,2019-07-10 16:16:38.000000000,"[{'_account_id': 1004}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-07-09 21:03:23.000000000', 'files': ['multi-node-aio/run_tests.sh', 'multi-node-aio/bootstrap.sh', 'skydive/tests/functional.yml', 'multi-node-aio/README.rst', 'multi-node-aio/playbooks/deploy-osa.yml', 'multi-node-aio/build.sh', 'multi-node-aio/playbooks/deploy-elk.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/ab4919f65669c28341812df3400cf98915688b96', 'message': 'Correct opendev.org urls\n\nPrevious commit had some of the urls incorrect\n\nChange-Id: Ia36831ebe55014a0ca58f448f934382bd2b27e68\n'}]",0,669947,ab4919f65669c28341812df3400cf98915688b96,8,4,1,290,,,0,"Correct opendev.org urls

Previous commit had some of the urls incorrect

Change-Id: Ia36831ebe55014a0ca58f448f934382bd2b27e68
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/47/669947/1 && git format-patch -1 --stdout FETCH_HEAD,"['multi-node-aio/run_tests.sh', 'multi-node-aio/bootstrap.sh', 'skydive/tests/functional.yml', 'multi-node-aio/README.rst', 'multi-node-aio/playbooks/deploy-osa.yml', 'multi-node-aio/build.sh', 'multi-node-aio/playbooks/deploy-elk.yml']",7,ab4919f65669c28341812df3400cf98915688b96,fix_incorrect_urls," repo: ""{{ os_ops_repo | default('https://opendev.org/openstack/openstack-ansible-ops') }}"""," repo: ""{{ os_ops_repo | default('https://git.opendev.org/openstack/openstack-ansible-ops') }}""",11,11
openstack%2Fpuppet-tripleo~stable%2Fqueens~I00ae677aad5b25065f5ccd13a593ca489d293684,openstack/puppet-tripleo,stable/queens,I00ae677aad5b25065f5ccd13a593ca489d293684,"DNM: Revert ""Support TLS deployments with KernelDisableIPv6 enabled""",ABANDONED,2019-07-10 11:37:03.000000000,2019-07-10 16:12:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-10 11:37:03.000000000', 'files': ['manifests/tls_proxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/455fbb53159561dd2cff37ee5fccfae451cf9ab9', 'message': 'DNM: Revert ""Support TLS deployments with KernelDisableIPv6 enabled""\n\nThis reverts commit 9f6cbedae62752bcd330919c39900483fb375e1f.\n\nChange-Id: I00ae677aad5b25065f5ccd13a593ca489d293684\n'}]",0,670042,455fbb53159561dd2cff37ee5fccfae451cf9ab9,4,2,1,10969,,,0,"DNM: Revert ""Support TLS deployments with KernelDisableIPv6 enabled""

This reverts commit 9f6cbedae62752bcd330919c39900483fb375e1f.

Change-Id: I00ae677aad5b25065f5ccd13a593ca489d293684
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/42/670042/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/tls_proxy.pp'],1,455fbb53159561dd2cff37ee5fccfae451cf9ab9,queenstls," $preserve_host = false url => ""http://localhost:${port}/"",","# # [*proxy_pass_host*] # The host to connect to. # Defaults to hiera('localhost_address', 'localhost') $preserve_host = false, $proxy_pass_host = hiera('localhost_address', 'localhost') url => ""http://${proxy_pass_host}:${port}/"",",2,7
openstack%2Fcinder~master~Ic2c518fec75cbc93749dd04d1a9e2df8a743c436,openstack/cinder,master,Ic2c518fec75cbc93749dd04d1a9e2df8a743c436,Mark Storpool Drivers unsupported,ABANDONED,2018-06-02 18:09:17.000000000,2019-07-10 16:12:15.000000000,,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-06-02 18:09:17.000000000', 'files': ['cinder/volume/drivers/storpool.py', 'releasenotes/notes/storpool-mark-unsupported-9af55d49bf69feba.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dfbaf912c7cb5780a801965166e391a607864879', 'message': 'Mark Storpool Drivers unsupported\n\nThe Storpool driver has not run 3rd Party CI\nin more than 60 days.  This patch marks it\nunsupported and it will be removed in Stein\nif the 3rd Party CI Issues are not resolved.\n\nChange-Id: Ic2c518fec75cbc93749dd04d1a9e2df8a743c436\n'}]",1,571935,dfbaf912c7cb5780a801965166e391a607864879,34,31,1,7198,,,0,"Mark Storpool Drivers unsupported

The Storpool driver has not run 3rd Party CI
in more than 60 days.  This patch marks it
unsupported and it will be removed in Stein
if the 3rd Party CI Issues are not resolved.

Change-Id: Ic2c518fec75cbc93749dd04d1a9e2df8a743c436
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/571935/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/storpool.py', 'releasenotes/notes/storpool-mark-unsupported-9af55d49bf69feba.yaml']",2,dfbaf912c7cb5780a801965166e391a607864879,ci_unsupported,"--- upgrade: - | The Storpool driver has been marked as unsupported and is now deprecated. ``enable_unsupported_driver`` will need to be set to ``True`` in the driver's section in cinder.conf to continue to use it. deprecations: - The Storpool driver has been marked as unsupported and is now deprecated. ``enable_unsupported_driver`` will need to be set to ``True`` in the driver's section in cinder.conf to continue to use it. If its support status does not change, it will be removed in the Stein development cycle. ",,18,0
openstack%2Fopenstack-ansible-os_octavia~master~I1a470245626fcea5e9d33cf03787d168cb988f19,openstack/openstack-ansible-os_octavia,master,I1a470245626fcea5e9d33cf03787d168cb988f19,Add integrated coverage,ABANDONED,2019-05-21 08:11:29.000000000,2019-07-10 15:56:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-21 08:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/e4389de9db98f1cdbefc6c765f573d5a9e28a130', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\nWith the dynamic execution of the roles, this role\nalso get tested by the integrated repo.\n\nChange-Id: I1a470245626fcea5e9d33cf03787d168cb988f19\n""}, {'number': 2, 'created': '2019-06-27 08:55:25.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/8a05b6199091b0112c42a046af00940b850830e0', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\nWith the dynamic execution of the roles, this role\nalso get tested by the integrated repo.\n\nDepends-On: Ia5fda5d417b79189d048c8891b84d57331df1404\nChange-Id: I1a470245626fcea5e9d33cf03787d168cb988f19\n""}]",0,660276,8a05b6199091b0112c42a046af00940b850830e0,8,2,2,17068,,,0,"Add integrated coverage

Currently this role doesn't test the integrated jobs.
With the dynamic execution of the roles, this role
also get tested by the integrated repo.

Depends-On: Ia5fda5d417b79189d048c8891b84d57331df1404
Change-Id: I1a470245626fcea5e9d33cf03787d168cb988f19
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/76/660276/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,e4389de9db98f1cdbefc6c765f573d5a9e28a130,use-integrated-repo-for-all-tests,,"--- # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - job: name: openstack-ansible-deploy-aio_metal_octavia-centos-7 parent: openstack-ansible-deploy-aio nodeset: centos-7 vars: action: deploy scenario: aio_metal_octavia - job: name: openstack-ansible-deploy-aio_metal_octavia-opensuse-150 parent: openstack-ansible-deploy-aio nodeset: opensuse-150 vars: action: deploy scenario: aio_metal_octavia - job: name: openstack-ansible-deploy-aio_metal_octavia-ubuntu-bionic parent: openstack-ansible-deploy-aio nodeset: ubuntu-bionic vars: action: deploy scenario: aio_metal_octavia - job: name: openstack-ansible-deploy-aio_metal_octavia-debian-stable parent: openstack-ansible-deploy-aio nodeset: debian-stable vars: action: deploy scenario: aio_metal_octavia ",4,58
openstack%2Fopenstacksdk~master~I1c6ce28af767f466f349b51a47abe27c0dcdd3fb,openstack/openstacksdk,master,I1c6ce28af767f466f349b51a47abe27c0dcdd3fb,Return empty lists for resources if neutron doesn't exist,MERGED,2019-07-09 13:22:04.000000000,2019-07-10 15:38:41.000000000,2019-07-10 15:38:41.000000000,"[{'_account_id': 3099}, {'_account_id': 11975}, {'_account_id': 12640}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-09 13:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4ee211ef953297585438283785ace84a9c803cd9', 'message': ""Return empty lists for resources if neutron doesn't exist\n\nIt's the general design of the cloud layer to return empty resources\nrather than throw exceptions when a user tries to fetch a non-existent\nresource.\n\nChange-Id: I1c6ce28af767f466f349b51a47abe27c0dcdd3fb\n""}, {'number': 2, 'created': '2019-07-09 15:36:04.000000000', 'files': ['openstack/tests/unit/cloud/test_shade.py', 'releasenotes/notes/list-network-resources-empty-list-6aa760c01e7d97d7.yaml', 'openstack/cloud/_network.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/983cc997ffc0a4cfaab65fc3dc0e6c1f9b26a321', 'message': ""Return empty lists for resources if neutron doesn't exist\n\nIt's the general design of the cloud layer to return empty resources\nrather than throw exceptions when a user tries to fetch a non-existent\nresource.\n\nChange-Id: I1c6ce28af767f466f349b51a47abe27c0dcdd3fb\n""}]",0,669869,983cc997ffc0a4cfaab65fc3dc0e6c1f9b26a321,12,4,2,2,,,0,"Return empty lists for resources if neutron doesn't exist

It's the general design of the cloud layer to return empty resources
rather than throw exceptions when a user tries to fetch a non-existent
resource.

Change-Id: I1c6ce28af767f466f349b51a47abe27c0dcdd3fb
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/69/669869/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/list-network-resources-empty-list-6aa760c01e7d97d7.yaml', 'openstack/cloud/_network.py']",2,4ee211ef953297585438283785ace84a9c803cd9,," # If the cloud is running nova-network, just return an empty list. if not self.has_service('network'): return [] # If the cloud is running nova-network, just return an empty list. if not self.has_service('network'): return [] # If the cloud is running nova-network, just return an empty list. if not self.has_service('network'): return [] # If the cloud is running nova-network, just return an empty list. if not self.has_service('network'): return []",,17,0
openstack%2Fneutron-lib~master~Ie1167a9c7fc5dcb88a6955085937572805e41fd7,openstack/neutron-lib,master,Ie1167a9c7fc5dcb88a6955085937572805e41fd7,Add shim extension admin_state_down_before_update,MERGED,2019-02-01 23:05:14.000000000,2019-07-10 15:35:16.000000000,2019-07-10 15:35:16.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 24797}, {'_account_id': 28550}, {'_account_id': 29709}, {'_account_id': 30156}]","[{'number': 1, 'created': '2019-02-01 23:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/63007f6ce9961d18b08d3d13f8ffd220c95c940c', 'message': 'Add shim extension admin_state_down_before_update\n\nShim extension for neutron patch:\nhttps://review.openstack.org/#/c/625134/\nAdds releasenote.\n\nChange-Id: Ie1167a9c7fc5dcb88a6955085937572805e41fd7\nSigned-off-by: Matt Welch <matt.welch@intel.com>\n'}, {'number': 2, 'created': '2019-04-02 20:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d9795da6fcdc5a7b764e9c2ca361fd753dfcee10', 'message': 'Add shim extension admin_state_down_before_update\n\nShim extension for neutron patch:\nhttps://review.openstack.org/#/c/625134/\nAdds releasenote.\n\nChange-Id: Ie1167a9c7fc5dcb88a6955085937572805e41fd7\nSigned-off-by: Matt Welch <matt.welch@intel.com>\n'}, {'number': 3, 'created': '2019-04-02 23:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7d5ab8aa09f1403ef6d8edd295eeef072d712b3b', 'message': 'Add shim extension admin_state_down_before_update\n\nShim extension for neutron patch:\nhttps://review.openstack.org/#/c/625134/\nAdds releasenote.\nRelated-Bug: #1811166\n\nChange-Id: Ie1167a9c7fc5dcb88a6955085937572805e41fd7\nSigned-off-by: Matt Welch <matt.welch@intel.com>\n'}, {'number': 4, 'created': '2019-04-05 18:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/eca1f74e6aea0702d94cd704edc79627af4d9c56', 'message': 'Add shim extension admin_state_down_before_update\n\nShim extension for neutron patch:\nhttps://review.openstack.org/#/c/625134/\nAdds releasenote.\nRelated-Bug: #1811166\n\nChange-Id: Ie1167a9c7fc5dcb88a6955085937572805e41fd7\nSigned-off-by: Matt Welch <matt.welch@intel.com>\n'}, {'number': 5, 'created': '2019-04-05 20:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b680de507be8eb61149f4b2c332a593f11f39338', 'message': 'Add shim extension admin_state_down_before_update\n\nShim extension for neutron patch:\nhttps://review.openstack.org/#/c/625134/\nAdds releasenote.\nRelated-Bug: #1811166\n\nChange-Id: Ie1167a9c7fc5dcb88a6955085937572805e41fd7\nSigned-off-by: Matt Welch <matt.welch@intel.com>\n'}, {'number': 6, 'created': '2019-07-02 23:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/180a24d8d19254d93576787c90bb1c2c8c589443', 'message': 'Add shim extension admin_state_down_before_update\n\nShim extension for neutron patch:\nhttps://review.openstack.org/#/c/625134/\nAdds releasenote.\nRelated-Bug: #1811166\n\nChange-Id: Ie1167a9c7fc5dcb88a6955085937572805e41fd7\nSigned-off-by: Matt Welch <matt.welch@intel.com>\n'}, {'number': 7, 'created': '2019-07-03 15:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b1bc862a22a59020634e8620dcb28a3cf07efcec', 'message': 'Add shim extension admin_state_down_before_update\n\nShim extension for neutron patch:\nhttps://review.openstack.org/#/c/625134/\nAdds releasenote.\nRelated-Bug: #1811166\n\nChange-Id: Ie1167a9c7fc5dcb88a6955085937572805e41fd7\nSigned-off-by: Matt Welch <matt.welch@intel.com>\n'}, {'number': 8, 'created': '2019-07-03 22:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/76131e76e8831e776799275bab9c93ed2d4175ae', 'message': 'Add shim extension admin_state_down_before_update\n\nShim extension for neutron patch:\nhttps://review.openstack.org/#/c/625134/\nAdds releasenote.\nAdds api-ref update.\n\nRelated-Bug: #1811166\n\nChange-Id: Ie1167a9c7fc5dcb88a6955085937572805e41fd7\nSigned-off-by: Matt Welch <matt.welch@intel.com>\n'}, {'number': 9, 'created': '2019-07-03 22:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0ba4c782f718a2a6259a47159c84b5d9f02d9c9f', 'message': 'Add shim extension admin_state_down_before_update\n\nShim extension for neutron patch:\nhttps://review.openstack.org/#/c/625134/\nAdds releasenote.\nAdds api-ref update.\n\nRelated-Bug: #1811166\n\nChange-Id: Ie1167a9c7fc5dcb88a6955085937572805e41fd7\nSigned-off-by: Matt Welch <matt.welch@intel.com>\n'}, {'number': 10, 'created': '2019-07-08 17:48:17.000000000', 'files': ['neutron_lib/tests/unit/api/definitions/test_admin_state_down_before_update.py', 'releasenotes/notes/admin-state-down-before-update-c06fb3a551fe499f.yaml', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/routers.inc', 'neutron_lib/api/definitions/router_admin_state_down_before_update.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/adc6a7087f0b7aa07730e25a9b946157bbf98c53', 'message': 'Add shim extension admin_state_down_before_update\n\nShim extension for neutron patch:\nhttps://review.openstack.org/#/c/625134/\nAdds releasenote.\nAdds api-ref update.\n\nRelated-Bug: #1811166\n\nChange-Id: Ie1167a9c7fc5dcb88a6955085937572805e41fd7\nSigned-off-by: Matt Welch <matt.welch@intel.com>\n'}]",31,634509,adc6a7087f0b7aa07730e25a9b946157bbf98c53,45,11,10,24797,,,0,"Add shim extension admin_state_down_before_update

Shim extension for neutron patch:
https://review.openstack.org/#/c/625134/
Adds releasenote.
Adds api-ref update.

Related-Bug: #1811166

Change-Id: Ie1167a9c7fc5dcb88a6955085937572805e41fd7
Signed-off-by: Matt Welch <matt.welch@intel.com>
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/09/634509/10 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/api/definitions/test_admin_state_down_before_update.py', 'releasenotes/notes/admin-state-down-before-update-c06fb3a551fe499f.yaml', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/admin_state_down_before_update.py']",4,63007f6ce9961d18b08d3d13f8ffd220c95c940c,bug/1811166,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ALIAS = 'admin-state-down-before-update' IS_SHIM_EXTENSION = True IS_STANDARD_ATTR_EXTENSION = False NAME = 'Enforce Admin State Down Before Update Extension' DESCRIPTION = 'Ensure that the admin state of a router is down (admin_state_up=False) before updating the distributed attribute' UPDATED_TIMESTAMP = '2019-01-18:11:18' RESOURCE_ATTRIBUTE_MAP = {} SUB_RESOURCE_ATTRIBUTE_MAP = {} ACTION_MAP = {} REQUIRED_EXTENSIONS = [] OPTIONAL_EXTENSIONS = [] ACTION_STATUS = {} ",,54,0
openstack%2Fopenstack-ansible-os_mistral~master~If5bee358089562669ebfa4b967d0bfc8f68695e0,openstack/openstack-ansible-os_mistral,master,If5bee358089562669ebfa4b967d0bfc8f68695e0,Use the dynamic aio scenario,MERGED,2019-05-10 18:25:08.000000000,2019-07-10 15:33:52.000000000,2019-07-10 15:33:52.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-05-10 18:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/2fbd07b411bedb0f5eb1fab92fcc4da217a3f10f', 'message': 'Use the dynamic aio scenario\n\nRather than have to define a job per non-aio service, we have\nzuul introspect the origin test repo and add the service name\nto the scenario variable on the fly. This allows us to simplify\nour job definitions and simply use the AIO job template for all\nrepositories.\n\nDepends-On: https://review.opendev.org/658398\nChange-Id: If5bee358089562669ebfa4b967d0bfc8f68695e0\n'}, {'number': 2, 'created': '2019-05-21 07:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/fc1c80a2a25f019b7205d4d621cc9446b66c48eb', 'message': 'Use the dynamic aio scenario\n\nRather than have to define a job per non-aio service, we have\nzuul introspect the origin test repo and add the service name\nto the scenario variable on the fly. This allows us to simplify\nour job definitions and simply use the AIO job template for all\nrepositories.\n\nChange-Id: If5bee358089562669ebfa4b967d0bfc8f68695e0\n'}, {'number': 3, 'created': '2019-05-21 07:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/9b72936400c327ce2d9b9bbb60cb60e84f34c17e', 'message': 'Use the dynamic aio scenario\n\nRather than have to define a job per non-aio service, we have\nzuul introspect the origin test repo and add the service name\nto the scenario variable on the fly. This allows us to simplify\nour job definitions and simply use the AIO job template for all\nrepositories.\n\nChange-Id: If5bee358089562669ebfa4b967d0bfc8f68695e0\n'}, {'number': 4, 'created': '2019-06-28 07:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/a43ca9128cb1ab059173291053f904338ffa7241', 'message': 'Use the dynamic aio scenario\n\nRather than have to define a job per non-aio service, we have\nzuul introspect the origin test repo and add the service name\nto the scenario variable on the fly. This allows us to simplify\nour job definitions and simply use the AIO job template for all\nrepositories.\n\nChange-Id: If5bee358089562669ebfa4b967d0bfc8f68695e0\n'}, {'number': 5, 'created': '2019-07-09 15:39:25.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/15453cb82c0dc1c49ccb43e411c603142e285f5b', 'message': 'Use the dynamic aio scenario\n\nRather than have to define a job per non-aio service, we have\nzuul introspect the origin test repo and add the service name\nto the scenario variable on the fly. This allows us to simplify\nour job definitions and simply use the AIO job template for all\nrepositories.\n\nDepends-On: https://review.opendev.org/669894/\nChange-Id: If5bee358089562669ebfa4b967d0bfc8f68695e0\n'}]",0,658448,15453cb82c0dc1c49ccb43e411c603142e285f5b,24,5,5,6816,,,0,"Use the dynamic aio scenario

Rather than have to define a job per non-aio service, we have
zuul introspect the origin test repo and add the service name
to the scenario variable on the fly. This allows us to simplify
our job definitions and simply use the AIO job template for all
repositories.

Depends-On: https://review.opendev.org/669894/
Change-Id: If5bee358089562669ebfa4b967d0bfc8f68695e0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/48/658448/5 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,2fbd07b411bedb0f5eb1fab92fcc4da217a3f10f,use-integrated-repo-for-all-tests,,"--- # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - job: name: openstack-ansible-deploy-aio_metal_mistral-centos-7 parent: openstack-ansible-deploy-aio nodeset: centos-7 vars: action: deploy scenario: aio_metal_mistral - job: name: openstack-ansible-deploy-aio_metal_mistral-opensuse-150 parent: openstack-ansible-deploy-aio nodeset: opensuse-150 vars: action: deploy scenario: aio_metal_mistral - job: name: openstack-ansible-deploy-aio_metal_mistral-ubuntu-bionic parent: openstack-ansible-deploy-aio nodeset: ubuntu-bionic vars: action: deploy scenario: aio_metal_mistral - job: name: openstack-ansible-deploy-aio_distro_metal_mistral-centos-7 parent: openstack-ansible-deploy-aio nodeset: centos-7 vars: action: deploy scenario: aio_distro_metal_mistral - job: name: openstack-ansible-deploy-aio_distro_metal_mistral-opensuse-150 parent: openstack-ansible-deploy-aio nodeset: opensuse-150 vars: action: deploy scenario: aio_distro_metal_mistral - job: name: openstack-ansible-deploy-aio_distro_metal_mistral-ubuntu-bionic parent: openstack-ansible-deploy-aio nodeset: ubuntu-bionic vars: action: deploy scenario: aio_distro_metal_mistral - job: name: openstack-ansible-deploy-aio_metal_mistral-debian-stable parent: openstack-ansible-deploy-aio nodeset: debian-stable vars: action: deploy scenario: aio_metal_mistral ",2,87
openstack%2Fnova~master~Iceb72adec24489056e7e54228374207834cdc148,openstack/nova,master,Iceb72adec24489056e7e54228374207834cdc148,[doc] merge quota document,ABANDONED,2018-05-08 05:46:17.000000000,2019-07-10 15:23:23.000000000,,"[{'_account_id': 6062}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-08 05:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e15de0c47fbe1a21f631ebc891b2fc660b60a106', 'message': '[doc] merge quota document\n\naccording to the TODO, merge the doc for quota.\n\nChange-Id: Iceb72adec24489056e7e54228374207834cdc148\n'}, {'number': 2, 'created': '2018-05-21 06:53:55.000000000', 'files': ['doc/source/admin/quotas.rst', 'doc/source/admin/quotas2.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/247aee90861092ce778ae30008aa8a46290e01ec', 'message': '[doc] merge quota document\n\naccording to the TODO, merge the doc for quota.\n\nChange-Id: Iceb72adec24489056e7e54228374207834cdc148\n'}]",12,566783,247aee90861092ce778ae30008aa8a46290e01ec,18,11,2,6062,,,0,"[doc] merge quota document

according to the TODO, merge the doc for quota.

Change-Id: Iceb72adec24489056e7e54228374207834cdc148
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/566783/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/quotas.rst', 'doc/source/admin/quotas2.rst']",2,e15de0c47fbe1a21f631ebc891b2fc660b60a106,merge_quotas_doc,,".. _manage-quotas: ============= Manage quotas ============= .. todo:: Merge this into 'quotas.rst' To prevent system capacities from being exhausted without notification, you can set up quotas. Quotas are operational limits. For example, the number of gigabytes allowed for each project can be controlled so that cloud resources are optimized. Quotas can be enforced at both the project and the project-user level. Using the command-line interface, you can manage quotas for the OpenStack Compute service, the OpenStack Block Storage service, and the OpenStack Networking service. The cloud operator typically changes default values because a project requires more than ten volumes or 1 TB on a compute node. .. note:: To view all projects, run: .. code-block:: console $ openstack project list +----------------------------------+----------+ | ID | Name | +----------------------------------+----------+ | e66d97ac1b704897853412fc8450f7b9 | admin | | bf4a37b885fe46bd86e999e50adad1d3 | services | | 21bd1c7c95234fd28f589b60903606fa | tenant01 | | f599c5cd1cba4125ae3d7caed08e288c | tenant02 | +----------------------------------+----------+ To display all current users for a project, run: .. code-block:: console $ openstack user list --project PROJECT_NAME +----------------------------------+--------+ | ID | Name | +----------------------------------+--------+ | ea30aa434ab24a139b0e85125ec8a217 | demo00 | | 4f8113c1d838467cad0c2f337b3dfded | demo01 | +----------------------------------+--------+ Use :samp:`openstack quota show {PROJECT_NAME}` to list all quotas for a project. Use :samp:`openstack quota set {PROJECT_NAME} {--parameters}` to set quota values. ",174,245
openstack%2Fcinder~stable%2Frocky~Ie12c2a88f684a37be76d9b16d58431f19a39b1b6,openstack/cinder,stable/rocky,Ie12c2a88f684a37be76d9b16d58431f19a39b1b6,Declare multiattach support for HPE MSA,MERGED,2019-02-28 00:00:17.000000000,2019-07-10 15:13:20.000000000,2019-05-30 22:21:49.000000000,"[{'_account_id': 7198}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-02-28 00:00:17.000000000', 'files': ['cinder/volume/drivers/dothill/releasenotes/notes/msa-multiattach-5407eb60093de8f1.yaml', 'cinder/tests/unit/volume/drivers/test_dothill.py', 'cinder/volume/drivers/dothill/dothill_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc658f492fd3771d20920dcc79c872693bbe6982', 'message': 'Declare multiattach support for HPE MSA\n\nChange-Id: Ie12c2a88f684a37be76d9b16d58431f19a39b1b6\n(cherry picked from commit efc90273f884619a6ad4cd655f7665bb772284b5)\n'}]",1,639867,fc658f492fd3771d20920dcc79c872693bbe6982,27,18,1,17042,,,0,"Declare multiattach support for HPE MSA

Change-Id: Ie12c2a88f684a37be76d9b16d58431f19a39b1b6
(cherry picked from commit efc90273f884619a6ad4cd655f7665bb772284b5)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/639867/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_dothill.py', 'cinder/volume/drivers/dothill/releasenotes/notes/msa-multiattach-5407eb60093de8f1.yaml', 'cinder/volume/drivers/dothill/dothill_common.py']",3,fc658f492fd3771d20920dcc79c872693bbe6982,msa-multiattach-stable/rocky," 'multiattach': True,",,6,0
openstack%2Fopenstack-ansible-haproxy_server~master~I6af95ed8a8c13d77c1f50317393910cc20d6ac7a,openstack/openstack-ansible-haproxy_server,master,I6af95ed8a8c13d77c1f50317393910cc20d6ac7a,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-05-05 11:41:53.000000000,2019-07-10 15:09:22.000000000,,"[{'_account_id': 18279}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-05 11:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/a0a73b679000d54a21f359ca478afc2190aba8c9', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I6af95ed8a8c13d77c1f50317393910cc20d6ac7a\n'}, {'number': 2, 'created': '2019-05-05 11:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/074fabdb081d44f542d75a755ac22cc272ebc80a', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I6af95ed8a8c13d77c1f50317393910cc20d6ac7a\n'}, {'number': 3, 'created': '2019-05-06 10:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/f6ff00cb3b86c7ddeffdcb2996f3af0aec010a99', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I6af95ed8a8c13d77c1f50317393910cc20d6ac7a\n'}, {'number': 4, 'created': '2019-07-10 14:56:23.000000000', 'files': ['tests/ansible-role-requirements.yml', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/a003c20cdabc7823d9802c0c95c53de32949029e', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I6af95ed8a8c13d77c1f50317393910cc20d6ac7a\n'}]",0,657235,a003c20cdabc7823d9802c0c95c53de32949029e,8,2,4,17130,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I6af95ed8a8c13d77c1f50317393910cc20d6ac7a
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/35/657235/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,a0a73b679000d54a21f359ca478afc2190aba8c9,, src: https://opendev.org/openstack/openstack-ansible-apt_package_pinning, src: https://git.openstack.org/openstack/openstack-ansible-apt_package_pinning,1,1
openstack%2Ftacker~master~Ib6f6526db795b2ff74c5d176d4d56e4ec55fe29c,openstack/tacker,master,Ib6f6526db795b2ff74c5d176d4d56e4ec55fe29c,Add Python 3 Train unit tests,MERGED,2019-07-05 09:28:00.000000000,2019-07-10 15:02:18.000000000,2019-07-10 15:02:18.000000000,"[{'_account_id': 10068}, {'_account_id': 11805}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2019-07-05 09:28:00.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker/commit/ad39d21b922d6e934390853987319f97f826bb7d', 'message': 'Add Python 3 Train unit tests\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ib6f6526db795b2ff74c5d176d4d56e4ec55fe29c\n'}]",0,669310,ad39d21b922d6e934390853987319f97f826bb7d,11,6,1,30656,,,0,"Add Python 3 Train unit tests

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ib6f6526db795b2ff74c5d176d4d56e4ec55fe29c
",git fetch https://review.opendev.org/openstack/tacker refs/changes/10/669310/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,ad39d21b922d6e934390853987319f97f826bb7d,python3-train,"envlist = py37,py36,py27,pep8,docs","envlist = py36,py27,pep8,docs",3,3
openstack%2Fopenstack-ansible-os_blazar~master~Iebe400216cf68be4906af9760a39473fb883a7d3,openstack/openstack-ansible-os_blazar,master,Iebe400216cf68be4906af9760a39473fb883a7d3,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-05-05 12:12:35.000000000,2019-07-10 14:54:16.000000000,,"[{'_account_id': 6593}, {'_account_id': 17068}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-05 12:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/a774fa06ba8da75ab3b866d78dd41ad02f39342b', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Iebe400216cf68be4906af9760a39473fb883a7d3\n'}, {'number': 2, 'created': '2019-05-06 11:01:18.000000000', 'files': ['tests/ansible-role-requirements.yml', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/d0b5250838ee0b3a0824b64a311e4d3829ba756b', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Iebe400216cf68be4906af9760a39473fb883a7d3\n'}]",0,657246,d0b5250838ee0b3a0824b64a311e4d3829ba756b,8,4,2,17130,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Iebe400216cf68be4906af9760a39473fb883a7d3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/46/657246/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,a774fa06ba8da75ab3b866d78dd41ad02f39342b,, src: https://opendev.org/openstack/openstack-ansible-apt_package_pinning src: https://opendev.org/openstack/openstack-ansible-pip_install src: https://opendev.org/openstack/openstack-ansible-memcached_server src: https://opendev.org/openstack/openstack-ansible-openstack_hosts src: https://opendev.org/openstack/openstack-ansible-lxc_hosts src: https://opendev.org/openstack/openstack-ansible-lxc_container_create src: https://opendev.org/openstack/openstack-ansible-galera_client src: https://opendev.org/openstack/openstack-ansible-galera_server src: https://opendev.org/openstack/openstack-ansible-rabbitmq_server src: https://opendev.org/openstack/openstack-ansible-os_keystone src: https://opendev.org/openstack/openstack-ansible-openstack_openrc, src: https://git.openstack.org/openstack/openstack-ansible-apt_package_pinning src: https://git.openstack.org/openstack/openstack-ansible-pip_install src: https://git.openstack.org/openstack/openstack-ansible-memcached_server src: https://git.openstack.org/openstack/openstack-ansible-openstack_hosts src: https://git.openstack.org/openstack/openstack-ansible-lxc_hosts src: https://git.openstack.org/openstack/openstack-ansible-lxc_container_create src: https://git.openstack.org/openstack/openstack-ansible-galera_client src: https://git.openstack.org/openstack/openstack-ansible-galera_server src: https://git.openstack.org/openstack/openstack-ansible-rabbitmq_server src: https://git.openstack.org/openstack/openstack-ansible-os_keystone src: https://git.openstack.org/openstack/openstack-ansible-openstack_openrc,11,11
openstack%2Fkolla-ansible~master~I4facfe8b2bcd5efb51a1e870f96ed7d6b730313c,openstack/kolla-ansible,master,I4facfe8b2bcd5efb51a1e870f96ed7d6b730313c,Add support for cloudkitty custom metrics.yml,ABANDONED,2019-04-17 10:51:07.000000000,2019-07-10 14:53:41.000000000,,"[{'_account_id': 14826}, {'_account_id': 21757}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28367}]","[{'number': 1, 'created': '2019-04-17 10:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bc4358303c1ecc91edb14d0a43d007df4a59c288', 'message': 'Add support for cloudkitty custom metrics.yml\n\nBy default, cloudkitty processor uses metrics.yaml as cfg_file that defines\nthe metric configuration model. Users may want to define their own metric\nconfiguration model since patch [1].\n\n[1] https://github.com/openstack/cloudkitty/commit/059a94039209653c0ef256a0f076d749381f6822\n\nChange-Id: I4facfe8b2bcd5efb51a1e870f96ed7d6b730313c\nSigned-off-by: Ning Yao <yaoning@unitedstack.com>\n'}, {'number': 2, 'created': '2019-04-19 10:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cd7e23be9e1fd9b6f15464f6af011e845924e758', 'message': 'Add support for cloudkitty custom metrics.yml\n\nBy default, cloudkitty processor uses metrics.yaml as cfg_file that defines\nthe metric configuration model. Users may want to define their own metric\nconfiguration model since patch [1].\n\n[1] https://github.com/openstack/cloudkitty/commit/059a94039209653c0ef256a0f076d749381f6822\n\nChange-Id: I4facfe8b2bcd5efb51a1e870f96ed7d6b730313c\nSigned-off-by: Ning Yao <yaoning@unitedstack.com>\n'}, {'number': 3, 'created': '2019-04-19 10:49:02.000000000', 'files': ['ansible/roles/cloudkitty/handlers/main.yml', 'ansible/roles/cloudkitty/templates/cloudkitty-processor.json.j2', 'ansible/roles/cloudkitty/templates/cloudkitty-api.json.j2', 'ansible/roles/cloudkitty/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dfb2799f1e89517562a39683f5f30d8fc2da90bf', 'message': 'Add support for cloudkitty custom metrics.yml\n\nBy default, cloudkitty processor uses metrics.yaml as cfg_file that defines\nthe metric configuration model. Users may want to define their own metric\nconfiguration model since patch [1].\n\n[1] https://github.com/openstack/cloudkitty/commit/059a94039209653c0ef256a0f076d749381f6822\n\nChange-Id: I4facfe8b2bcd5efb51a1e870f96ed7d6b730313c\nSigned-off-by: Ning Yao <yaoning@unitedstack.com>\n'}]",3,653384,dfb2799f1e89517562a39683f5f30d8fc2da90bf,13,6,3,24849,,,0,"Add support for cloudkitty custom metrics.yml

By default, cloudkitty processor uses metrics.yaml as cfg_file that defines
the metric configuration model. Users may want to define their own metric
configuration model since patch [1].

[1] https://github.com/openstack/cloudkitty/commit/059a94039209653c0ef256a0f076d749381f6822

Change-Id: I4facfe8b2bcd5efb51a1e870f96ed7d6b730313c
Signed-off-by: Ning Yao <yaoning@unitedstack.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/653384/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cloudkitty/templates/cloudkitty-processor.json.j2'],1,bc4358303c1ecc91edb14d0a43d007df4a59c288,," }{% if cloudkitty_metrics_file_path is defined %}, { ""source"": ""{{ container_config_directory }}/metrics.yml"", ""dest"": ""/etc/cloudkitty/metrics.yml"", ""owner"": ""cloudkitty"", ""perm"": ""0600"" }{% endif %}{% if cloudkitty_policy_file is defined %},"," }{% if cloudkitty_policy_file is defined %},",7,1
openstack%2Ftripleo-quickstart-extras~master~I5024aecec41955b7cd5e0fe48ea4c6a0a7d6e293,openstack/tripleo-quickstart-extras,master,I5024aecec41955b7cd5e0fe48ea4c6a0a7d6e293,[Core] Improve the try part.,MERGED,2018-11-16 15:42:48.000000000,2019-07-10 14:50:38.000000000,2019-07-10 14:50:37.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 18575}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2018-11-16 15:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d64bb498f4430be1315df693a09bfc072d514b8b', 'message': ""[Core] Improve the try part.\n\nImprove the readability of the block try. It's more easy to maintain the\nblock when this contain only the line can be raise.\n\nChange-Id: I5024aecec41955b7cd5e0fe48ea4c6a0a7d6e293\n""}, {'number': 2, 'created': '2018-12-28 09:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dd2dff9c08fa261df27409b014f4fcc42c37862a', 'message': ""[Core] Improve the try part.\n\nImprove the readability of the block try. It's more easy to maintain the\nblock when this contain only the line can be raise.\n\nChange-Id: I5024aecec41955b7cd5e0fe48ea4c6a0a7d6e293\n""}, {'number': 3, 'created': '2019-01-03 09:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/386b32bf736c576a39d9ec4eadd46012af9f33a5', 'message': ""[Core] Improve the try part.\n\nImprove the readability of the block try. It's more easy to maintain the\nblock when this contain only the line can be raise.\n\nChange-Id: I5024aecec41955b7cd5e0fe48ea4c6a0a7d6e293\n""}, {'number': 4, 'created': '2019-01-14 14:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3e5aaee36d44f466ced2cb928393a273b35d28c6', 'message': ""[Core] Improve the try part.\n\nImprove the readability of the block try. It's more easy to maintain the\nblock when this contain only the line can be raise.\n\nChange-Id: I5024aecec41955b7cd5e0fe48ea4c6a0a7d6e293\n""}, {'number': 5, 'created': '2019-03-01 10:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f769b7b1e67f4c5bedb212038c6d1765b313a0e3', 'message': ""[Core] Improve the try part.\n\nImprove the readability of the block try. It's more easy to maintain the\nblock when this contain only the line can be raise.\n\nChange-Id: I5024aecec41955b7cd5e0fe48ea4c6a0a7d6e293\n""}, {'number': 6, 'created': '2019-03-27 09:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/290b9cf294ab0c77d49b00598f76b345881e9453', 'message': ""[Core] Improve the try part.\n\nImprove the readability of the block try. It's more easy to maintain the\nblock when this contain only the line can be raise.\n\nChange-Id: I5024aecec41955b7cd5e0fe48ea4c6a0a7d6e293\n""}, {'number': 7, 'created': '2019-03-27 09:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4ba9cf8f6c9b0028c25c5e9b3d00c85212bdc19e', 'message': ""[Core] Improve the try part.\n\nImprove the readability of the block try. It's more easy to maintain the\nblock when this contain only the line can be raise.\n\nChange-Id: I5024aecec41955b7cd5e0fe48ea4c6a0a7d6e293\n""}, {'number': 8, 'created': '2019-04-19 09:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/17357c6c72fb848b8e9ee607f581c8783902348b', 'message': ""[Core] Improve the try part.\n\nImprove the readability of the block try. It's more easy to maintain the\nblock when this contain only the line can be raise.\n\nChange-Id: I5024aecec41955b7cd5e0fe48ea4c6a0a7d6e293\n""}, {'number': 9, 'created': '2019-06-20 22:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c92fec711096ee863f19428eb0a97f81b113be4c', 'message': ""[Core] Improve the try part.\n\nImprove the readability of the block try. It's more easy to maintain the\nblock when this contain only the line can be raise.\n\nChange-Id: I5024aecec41955b7cd5e0fe48ea4c6a0a7d6e293\n""}, {'number': 10, 'created': '2019-07-10 08:58:58.000000000', 'files': ['roles/validate-tempest/files/tempestmail/tempestmail.py', 'roles/validate-tempest/files/bugcheck/bugcheck.py'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/235b73aea9343591ca5f5d91fa51bb6a818f3149', 'message': ""[Core] Improve the try part.\n\nImprove the readability of the block try. It's more easy to maintain the\nblock when this contain only the line can be raise.\n\nChange-Id: I5024aecec41955b7cd5e0fe48ea4c6a0a7d6e293\n""}]",13,618546,235b73aea9343591ca5f5d91fa51bb6a818f3149,148,11,10,29222,,,0,"[Core] Improve the try part.

Improve the readability of the block try. It's more easy to maintain the
block when this contain only the line can be raise.

Change-Id: I5024aecec41955b7cd5e0fe48ea4c6a0a7d6e293
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/46/618546/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validate-tempest/files/tempestmail/tempestmail.py', 'roles/validate-tempest/files/bugcheck/bugcheck.py']",2,d64bb498f4430be1315df693a09bfc072d514b8b,improve_load_skip_file_method_in_bugcheck, except IOError: LOG.error('File not found {}'.format(self.args.skip_file)) else: return known_failures, except IOError: LOG.error('File not found {}'.format(self.args.skip_file)) finally: return known_failures,10,8
openstack%2Fneutron~master~Idd303778d83089da8fbeff40e3dda2bd19008d8e,openstack/neutron,master,Idd303778d83089da8fbeff40e3dda2bd19008d8e,Fix list security groups performance with RBAC,MERGED,2019-06-17 00:59:29.000000000,2019-07-10 14:34:50.000000000,2019-07-10 03:37:17.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 20363}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-17 00:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc441c0d775b33a92d8fa7c4ffaa4a6c7ddd2125', 'message': 'Fix list security groups performace with RBAC\n\nAfter change [1], if the system has a high number of security groups\nwith no associated RBAC entries, a non admin user owning only one\nsecurity group will experience unacceptable response times when\nlisting her security groups.\n\nThis patch proposes an optimization whereby we only check the RBAC\nentries of a security group if we know it has such entries. This is\nlikely going to be the first in a series of patches aimed at improving\nthe performance of RBAC code for cases when associated resources exist\nin high numbers.\n\n[1] https://review.opendev.org/#/c/635311\n\nChange-Id: Idd303778d83089da8fbeff40e3dda2bd19008d8e\nPartial-Bug: #1830679\n'}, {'number': 2, 'created': '2019-06-30 00:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e6c664dd0e0e0e5257266c4a85b831760cc3934', 'message': 'Fix list security groups performace with RBAC\n\nAfter change [1], if the system has a high number of security groups\nwith no associated RBAC entries, a non admin user owning only one\nsecurity group will experience unacceptable response times when\nlisting her security groups.\n\nThis patch proposes an optimization whereby we only check the RBAC\nentries of a security group if we know it has such entries. This is\nlikely going to be the first in a series of patches aimed at improving\nthe performance of RBAC code for cases when associated resources exist\nin high numbers.\n\n[1] https://review.opendev.org/#/c/635311\n\nChange-Id: Idd303778d83089da8fbeff40e3dda2bd19008d8e\nPartial-Bug: #1830679\n'}, {'number': 3, 'created': '2019-07-04 23:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/788821ff5f4f6c275e18ae5e5793716cced8f7c8', 'message': 'Fix list security groups performace with RBAC\n\nAfter change [1], if the system has a high number of security groups\nwith no associated RBAC entries, a non admin user owning only one\nsecurity group will experience unacceptable response times when\nlisting her security groups.\n\nThis patch proposes an optimization whereby we only check the RBAC\nentries of a security group if we know it has such entries. This is\nlikely going to be the first in a series of patches aimed at improving\nthe performance of RBAC code for cases when associated resources exist\nin high numbers.\n\n[1] https://review.opendev.org/#/c/635311\n\nChange-Id: Idd303778d83089da8fbeff40e3dda2bd19008d8e\nCloses-Bug: #1830679\n'}, {'number': 4, 'created': '2019-07-04 23:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5340fa4fc54d39de9343f9d3b81cd8a57aac21c4', 'message': 'Fix list security groups performance with RBAC\n\nAfter change [1], if the system has a high number of security groups\nwith no associated RBAC entries, a non admin user owning only one\nsecurity group will experience unacceptable response times when\nlisting her security groups.\n\nThis patch proposes an optimization whereby we only check the RBAC\nentries of a security group if we know it has such entries. This is\nlikely going to be the first in a series of patches aimed at improving\nthe performance of RBAC code for cases when associated resources exist\nin high numbers.\n\n[1] https://review.opendev.org/#/c/635311\n\nChange-Id: Idd303778d83089da8fbeff40e3dda2bd19008d8e\nCloses-Bug: #1830679\n'}, {'number': 5, 'created': '2019-07-07 17:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ef02ac92ac82e73cf820b263c5e7c8204caa53b', 'message': 'Fix list security groups performance with RBAC\n\nAfter change [1], if the system has a high number of security groups\nwith no associated RBAC entries, a non admin user owning only one\nsecurity group will experience unacceptable response times when\nlisting her security groups.\n\nChange [1] added methods get_object and get_objects to class\nRbacNeutronDbObjectMixin in neutron.objects.rbac_db, which retrieve with\nand admin context all the objects (networks, subnets or security groups)\nin the DB and then decide in memory whether the project that made the\nquery has access to them or not, based on their associated RBAC\npolicies. This change proposes to remove those methods and revert to\ntheir counterparts in NeutronDbObject (neutron.objects.base), which use\na DB query scoped to the project to retrieve the objects based on their\nassociated RBAC policies by calling [2]. In this way, the potential\nnumber of objects that are retrieved from the DB and that have to be\nconverted to OVOs is greatly reduced, improving significantly the\nresponse time to the user.\n\nAn associated Tempest test to assure correct API behavior is proposed in\n[3].\n\n[1] https://review.opendev.org/#/c/635311\n[2] https://github.com/openstack/neutron-lib/blob/7a58374fde64fdc14e327940dde6bea4a8a39345/neutron_lib/db/model_query.py#L100\n[3]\n\nChange-Id: Idd303778d83089da8fbeff40e3dda2bd19008d8e\nCloses-Bug: #1830679\n'}, {'number': 6, 'created': '2019-07-07 22:45:07.000000000', 'files': ['neutron/objects/rbac_db.py', 'neutron/tests/unit/objects/qos/test_policy.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a240c68022d96c8639652cbdf57e707e68fb2a88', 'message': 'Fix list security groups performance with RBAC\n\nAfter change [1], if the system has a high number of security groups\nwith no associated RBAC entries, a non admin user owning only one\nsecurity group will experience unacceptable response times when\nlisting her security groups.\n\nChange [1] added methods get_object and get_objects to class\nRbacNeutronDbObjectMixin in neutron.objects.rbac_db, which retrieve with\nand admin context all the objects (networks, subnets or security groups)\nin the DB and then decide in memory whether the project that made the\nquery has access to them or not, based on their associated RBAC\npolicies. This change proposes to remove those methods and revert to\ntheir counterparts in NeutronDbObject (neutron.objects.base), which use\na DB query scoped to the project to retrieve the objects based on their\nassociated RBAC policies by calling [2]. In this way, the potential\nnumber of objects that are retrieved from the DB and that have to be\nconverted to OVOs is greatly reduced, improving significantly the\nresponse time to the user.\n\n[1] https://review.opendev.org/#/c/635311\n[2] https://github.com/openstack/neutron-lib/blob/7a58374fde64fdc14e327940dde6bea4a8a39345/neutron_lib/db/model_query.py#L100\n\nChange-Id: Idd303778d83089da8fbeff40e3dda2bd19008d8e\nCloses-Bug: #1830679\n'}]",13,665566,a240c68022d96c8639652cbdf57e707e68fb2a88,63,12,6,4694,,,0,"Fix list security groups performance with RBAC

After change [1], if the system has a high number of security groups
with no associated RBAC entries, a non admin user owning only one
security group will experience unacceptable response times when
listing her security groups.

Change [1] added methods get_object and get_objects to class
RbacNeutronDbObjectMixin in neutron.objects.rbac_db, which retrieve with
and admin context all the objects (networks, subnets or security groups)
in the DB and then decide in memory whether the project that made the
query has access to them or not, based on their associated RBAC
policies. This change proposes to remove those methods and revert to
their counterparts in NeutronDbObject (neutron.objects.base), which use
a DB query scoped to the project to retrieve the objects based on their
associated RBAC policies by calling [2]. In this way, the potential
number of objects that are retrieved from the DB and that have to be
converted to OVOs is greatly reduced, improving significantly the
response time to the user.

[1] https://review.opendev.org/#/c/635311
[2] https://github.com/openstack/neutron-lib/blob/7a58374fde64fdc14e327940dde6bea4a8a39345/neutron_lib/db/model_query.py#L100

Change-Id: Idd303778d83089da8fbeff40e3dda2bd19008d8e
Closes-Bug: #1830679
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/665566/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/objects/rbac_db.py'],1,dc441c0d775b33a92d8fa7c4ffaa4a6c7ddd2125,fix-bug-1830679," if super(RbacNeutronDbObjectMixin, cls).is_accessible(context, db_obj): return True # Only if the DB object has RBAC entries associated to it, we check if # tenant has access. Otherwise, we know tenant has no access if db_obj.db_obj.get('rbac_entries'): return cls.is_shared_with_tenant(context, db_obj.id, context.tenant_id)"," return (super( RbacNeutronDbObjectMixin, cls).is_accessible(context, db_obj) or cls.is_shared_with_tenant(context, db_obj.id, context.tenant_id))",7,4
openstack%2Ftripleo-heat-templates~master~I8c1ed334dc5b578a87307a47656ee2d87f1e3688,openstack/tripleo-heat-templates,master,I8c1ed334dc5b578a87307a47656ee2d87f1e3688,Run NetworkConfig only if configuration script exists,MERGED,2019-07-02 11:08:28.000000000,2019-07-10 14:26:20.000000000,2019-07-10 14:26:20.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 10969}, {'_account_id': 11491}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-02 11:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b251907a01c33883c7f54c0d3606ca33754a4f97', 'message': 'Check NetworkConfig script state only if it exists\n\nIt might happen we have a noop NetworkConfig - in such case we don\'t\nhave the proper dict with "".rc"" content.\n\nChange-Id: I8c1ed334dc5b578a87307a47656ee2d87f1e3688\nDepends-On: https://review.opendev.org/668560\nRelated-Bug: #1834094\n'}, {'number': 2, 'created': '2019-07-02 12:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c6a147fce883cb1bab8ae77af810344db047276', 'message': 'Run NetworkConfig only if configuration script exists\n\nChange-Id: I8c1ed334dc5b578a87307a47656ee2d87f1e3688\nDepends-On: https://review.opendev.org/668560\nRelated-Bug: #1834094\n'}, {'number': 3, 'created': '2019-07-03 05:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad55d0d464f9ab7564782384dbb633a6b62b9f86', 'message': 'Run NetworkConfig only if configuration script exists\n\nChange-Id: I8c1ed334dc5b578a87307a47656ee2d87f1e3688\nDepends-On: https://review.opendev.org/668560\nRelated-Bug: #1834094\n'}, {'number': 4, 'created': '2019-07-05 08:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/619b3fb07d1b82e89d28630281f8876923747f02', 'message': 'Run NetworkConfig only if configuration script exists\n\nChange-Id: I8c1ed334dc5b578a87307a47656ee2d87f1e3688\nDepends-On: https://review.opendev.org/668560\nRelated-Bug: #1834094\n'}, {'number': 5, 'created': '2019-07-08 06:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec1b986b244bed15ab766e12ffb1e9c5400a3555', 'message': 'Run NetworkConfig only if configuration script exists\n\nChange-Id: I8c1ed334dc5b578a87307a47656ee2d87f1e3688\nDepends-On: https://review.opendev.org/668560\nRelated-Bug: #1834094\n'}, {'number': 6, 'created': '2019-07-08 11:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a321681c642797d82959f69adbf7477be228907', 'message': 'Run NetworkConfig only if configuration script exists\n\nChange-Id: I8c1ed334dc5b578a87307a47656ee2d87f1e3688\nDepends-On: https://review.opendev.org/668560\nRelated-Bug: #1834094\n'}, {'number': 7, 'created': '2019-07-08 13:38:13.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c36433e34e4e613eae59ec254553d3621e9c90f2', 'message': 'Run NetworkConfig only if configuration script exists\n\nScript is first located/generated on the undercloud node (aka ansible\nhost), meaning we have to use local_action.\nWe also deactivate the ""become"" in order to avoid useless privilege\nescalation.\n\nChange-Id: I8c1ed334dc5b578a87307a47656ee2d87f1e3688\nDepends-On: https://review.opendev.org/668560\nRelated-Bug: #1834094\n'}]",2,668652,c36433e34e4e613eae59ec254553d3621e9c90f2,42,8,7,28223,,,0,"Run NetworkConfig only if configuration script exists

Script is first located/generated on the undercloud node (aka ansible
host), meaning we have to use local_action.
We also deactivate the ""become"" in order to avoid useless privilege
escalation.

Change-Id: I8c1ed334dc5b578a87307a47656ee2d87f1e3688
Depends-On: https://review.opendev.org/668560
Related-Bug: #1834094
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/52/668652/6 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,b251907a01c33883c7f54c0d3606ca33754a4f97,bug/1834094, when: NetworkConfig_result is changed failed_when: - NetworkConfig_result is changed - NetworkConfig_result.rc != 0, failed_when: NetworkConfig_result.rc != 0,4,1
openstack%2Fopenstack-helm~master~Ic5a1e9fd812e51ed51aef4de162b1c08d1c9a593,openstack/openstack-helm,master,Ic5a1e9fd812e51ed51aef4de162b1c08d1c9a593,Make Helm test timeouts configurable in multinode,MERGED,2019-07-09 01:00:49.000000000,2019-07-10 14:09:31.000000000,2019-07-10 14:09:31.000000000,"[{'_account_id': 12281}, {'_account_id': 12743}, {'_account_id': 17068}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-07-09 01:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/694aae1d62d6832d01fc5dfe6cf7d8d1076ee341', 'message': 'Increase Neutron test timeout on multinode\n\nOn some deployments the tests run on Neutron for multinode deployments\nexceed the current 15 minutes timeout. The timeout is increased to 30\nminutes.\n\nChange-Id: Ic5a1e9fd812e51ed51aef4de162b1c08d1c9a593\nSigned-off-by: Abel Navarro <abel.navarro@gmail.com>\n'}, {'number': 2, 'created': '2019-07-10 09:38:05.000000000', 'files': ['tools/deployment/multinode/140-compute-kit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fb1c491d50ec89221ee7fdc14cce8dc15ccb083a', 'message': 'Make Helm test timeouts configurable in multinode\n\nOn some deployments the tests run on Neutron for multinode deployments\nexceed the current 15 minutes timeout. The timeout is now configurable\nthrough the OSH_TEST_TIMEOUT variable which can be passed from the yaml\nfile. The default timeout remains 15 minutes.\n\nChange-Id: Ic5a1e9fd812e51ed51aef4de162b1c08d1c9a593\nSigned-off-by: Abel Navarro <abel.navarro@gmail.com>\n'}]",6,669776,fb1c491d50ec89221ee7fdc14cce8dc15ccb083a,16,6,2,12743,,,0,"Make Helm test timeouts configurable in multinode

On some deployments the tests run on Neutron for multinode deployments
exceed the current 15 minutes timeout. The timeout is now configurable
through the OSH_TEST_TIMEOUT variable which can be passed from the yaml
file. The default timeout remains 15 minutes.

Change-Id: Ic5a1e9fd812e51ed51aef4de162b1c08d1c9a593
Signed-off-by: Abel Navarro <abel.navarro@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/76/669776/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/multinode/140-compute-kit.sh'],1,694aae1d62d6832d01fc5dfe6cf7d8d1076ee341,neutron_test_timeout,helm test neutron --timeout 1800,helm test neutron --timeout 900,1,1
openstack%2Fnova~master~If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8,openstack/nova,master,If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8,libvirt: flatten rbd images when unshelving an instance,MERGED,2017-04-19 06:41:51.000000000,2019-07-10 14:08:10.000000000,2019-06-27 18:43:03.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4523}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7488}, {'_account_id': 9008}, {'_account_id': 9236}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 11503}, {'_account_id': 12356}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16006}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21813}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29991}]","[{'number': 1, 'created': '2017-04-19 06:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0bdb2127a877b9113bdab45c59667b881bafc140', 'message': 'Add image flatten when unshelve rbd image backend\n\nWhen using the rbd image backend, snapshots used\nto shelve an instance cannot be deleted.\nDuring the unshelve the snapshot image is not\ndeattaching from the instance image.\nThis patch flatten the image, which detaches\nfrom the instance boot image.\n\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\nCloses-Bug: #1653953\n'}, {'number': 2, 'created': '2017-04-19 10:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c63253fa39b3bc7b32c1d2e61d843bcc48414f6b', 'message': 'Add image flatten when unshelve rbd image backend\n\nWhen using the rbd image backend, snapshots used\nto shelve an instance cannot be deleted.\nDuring the unshelve the snapshot image is not\ndeattaching from the instance image.\nThis patch flatten the image, which detaches\nfrom the instance boot image.\n\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\nCloses-Bug: #1653953\n'}, {'number': 3, 'created': '2017-04-26 09:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a224ba7e478b30eccad21ab6ac2c2a20c7489a81', 'message': 'rbd: flatten images when unshelving\n\nWhen using the rbd image backend, snapshots used\nto shelve an instance cannot be deleted.\nDuring the unshelve the snapshot image is not\nable to detach from the instance boot image.\nThis patch flattens the image when unshelving,\nallowing the image originally booted from to be\ndetached.\n\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\nCloses-Bug: #1653953\n'}, {'number': 4, 'created': '2017-05-08 05:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/823fb5752f6d77dcfb001452834ec83ecdabaef5', 'message': 'rbd: flatten images when unshelving\n\nWhen using the rbd image backend, snapshots used\nto shelve an instance cannot be deleted.\nDuring the unshelve the snapshot image is not\nable to detach from the instance boot image.\nThis patch flattens the image when unshelving,\nallowing the image originally booted from to be\ndetached.\n\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\nCloses-Bug: #1653953\n'}, {'number': 5, 'created': '2017-05-12 03:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f6c934f4178a6f2a681699b1dce8d56a23bf68c', 'message': 'rbd: flatten images when unshelving\n\nWhen using the rbd image backend, snapshots used\nto shelve an instance cannot be deleted.\nDuring the unshelve the snapshot image is not\nable to detach from the instance boot image.\nThis patch flattens the image when unshelving,\nallowing the image originally booted from to be\ndetached.\n\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\nCloses-Bug: #1653953\n'}, {'number': 6, 'created': '2017-05-12 05:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a187b584f7671d457fef52f0bb7d1b4ac07905bf', 'message': 'rbd: flatten images when unshelving\n\nWhen using the rbd image backend, snapshots used\nto shelve an instance cannot be deleted.\nDuring the unshelve the snapshot image is not\nable to detach from the instance boot image.\nThis patch flattens the image when unshelving,\nallowing the image originally booted from to be\ndetached.\n\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\nCloses-Bug: #1653953\n'}, {'number': 7, 'created': '2017-06-08 10:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aebefd0156f5ab04103185694478c2b031fa7e40', 'message': 'rbd: flatten images when unshelving\n\nWhen using the rbd image backend, snapshots used\nto shelve an instance cannot be deleted.\nDuring the unshelve the snapshot image is not\nable to detach from the instance boot image.\nThis patch flattens the image when unshelving,\nallowing the image originally booted from to be\ndetached.\n\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\nCloses-Bug: #1653953\n'}, {'number': 8, 'created': '2017-10-26 17:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1afeb2f38e9f0714678885447a1c6cc87ef1deb4', 'message': 'rbd: flatten images when unshelving\n\nWhen using the rbd image backend, snapshots used\nto shelve an instance cannot be deleted.\nDuring the unshelve the snapshot image is not\nable to detach from the instance boot image.\nThis patch flattens the image when unshelving,\nallowing the image originally booted from to be\ndetached.\n\nCloses-Bug: #1653953\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}, {'number': 9, 'created': '2017-12-15 03:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f60b9a108bce6056c9bd69e1885733b15fa9be0b', 'message': 'rbd: flatten images when creating/unshelving an instance\n\nWhen using the rbd image backend, snapshots used to shelve an instance\ncannot be deleted after unshelving. Similarly, images used to create an\ninstance (without shelve/unshelve) cannot be deleted from glance either.\n\nThe reason for this is because when an image is cloned from the glance\nstorage pool to the nova storage pool, without flattening, it creates\na dependency on the glance image. So, the glance image cannot be\ndeleted because it is ""in use"" by the nova instance. The same problem\noccurs when unshelving a SHELVED_OFFLOADED instance as it will create a\nnew nova instance from the glance snapshot image.\n\nThis patch flattens the image when creating an instance (which is the\nsame code path taken when unshelving a SHELVED_OFFLOADED instance),\nallowing the image originally booted from to be detached from the\nglance image and enabling the glance images to be deleted.\n\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\n\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}, {'number': 10, 'created': '2017-12-18 19:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5391c677ea053310f548c32789d68c7388290dd9', 'message': 'rbd: flatten images when creating/unshelving an instance\n\nWhen using the rbd image backend, snapshots used to shelve an instance\ncannot be deleted after unshelving. Similarly, images used to create an\ninstance (without shelve/unshelve) cannot be deleted from glance either.\n\nThe reason for this is because when an image is cloned from the glance\nstorage pool to the nova storage pool, without flattening, it creates\na dependency on the glance image. So, the glance image cannot be\ndeleted because it is ""in use"" by the nova instance. The same problem\noccurs when unshelving a SHELVED_OFFLOADED instance as it will create a\nnew nova instance from the glance snapshot image.\n\nThis patch flattens the image when creating an instance and unshelving\na SHELVED_OFFLOADED instance if CONF.use_cow_images = False. Using\nCONF.use_cow_images = False uses much more nova storage pool space as\neach instance will create a full, independent copy of the image from\nglance. It allows the image originally booted from to be detached from\nthe glance image and enables the glance images to be deleted.\n\nThis is intended as behavior operators can opt-in for if they are okay\nwith using much more nova storage pool space in order to be able to\ndelete images from glance at-will. Eventually in the future, we would\nhope to have some form of caching of images in the nova storage pool,\nbut that will be a large effort to be done through the spec and feature\nprocess.\n\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\n\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}, {'number': 11, 'created': '2018-01-09 15:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee4eded1a1bd1d41c619643c3c00aad910a4c876', 'message': 'rbd: flatten images when creating/unshelving an instance\n\nWhen using the rbd image backend, snapshots used to shelve an instance\ncannot be deleted after unshelving. Similarly, images used to create an\ninstance (without shelve/unshelve) cannot be deleted from glance either.\n\nThe reason for this is because when an image is cloned from the glance\nstorage pool to the nova storage pool, without flattening, it creates\na dependency on the glance image. So, the glance image cannot be\ndeleted because it is ""in use"" by the nova instance. The same problem\noccurs when unshelving a SHELVED_OFFLOADED instance as it will create a\nnew nova instance from the glance snapshot image.\n\nThis patch flattens the image when creating an instance and unshelving\na SHELVED_OFFLOADED instance if CONF.use_cow_images = False. Using\nCONF.use_cow_images = False uses much more nova storage pool space as\neach instance will create a full, independent copy of the image from\nglance. It allows the image originally booted from to be detached from\nthe glance image and enables the glance images to be deleted.\n\nThis is intended as behavior operators can opt-in for if they are okay\nwith using much more nova storage pool space in order to be able to\ndelete images from glance at-will. Eventually in the future, we would\nhope to have some form of caching of images in the nova storage pool,\nbut that will be a large effort to be done through the spec and feature\nprocess.\n\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\n\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}, {'number': 12, 'created': '2018-01-16 18:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/578bbcf109426a0b1b668b2c1f17597b526ea8b1', 'message': 'rbd: flatten images when creating/unshelving an instance\n\nWhen using the rbd image backend, snapshots used to shelve an instance\ncannot be deleted after unshelving. Similarly, images used to create an\ninstance (without shelve/unshelve) cannot be deleted from glance either.\n\nThe reason for this is because when an image is cloned from the glance\nstorage pool to the nova storage pool, without flattening, it creates\na dependency on the glance image. So, the glance image cannot be\ndeleted because it is ""in use"" by the nova instance. The same problem\noccurs when unshelving a SHELVED_OFFLOADED instance as it will create a\nnew nova instance from the glance snapshot image.\n\nThis patch flattens the image when creating an instance and unshelving\na SHELVED_OFFLOADED instance if CONF.use_cow_images = False. Using\nCONF.use_cow_images = False uses much more nova storage pool space as\neach instance will create a full, independent copy of the image from\nglance. It allows the image originally booted from to be detached from\nthe glance image and enables the glance images to be deleted.\n\nThis is intended as behavior operators can opt-in for if they are okay\nwith using much more nova storage pool space in order to be able to\ndelete images from glance at-will. Eventually in the future, we would\nhope to have some form of caching of images in the nova storage pool,\nbut that will be a large effort to be done through the spec and feature\nprocess.\n\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\n\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}, {'number': 13, 'created': '2018-01-24 13:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82bbf4358830aed0020b4f9e7bcd45e7e07e3a33', 'message': 'rbd: flatten images when creating/unshelving an instance\n\nWhen using the rbd image backend, snapshots used to shelve an instance\ncannot be deleted after unshelving. Similarly, images used to create an\ninstance (without shelve/unshelve) cannot be deleted from glance either.\n\nThe reason for this is because when an image is cloned from the glance\nstorage pool to the nova storage pool, without flattening, it creates\na dependency on the glance image. So, the glance image cannot be\ndeleted because it is ""in use"" by the nova instance. The same problem\noccurs when unshelving a SHELVED_OFFLOADED instance as it will create a\nnew nova instance from the glance snapshot image.\n\nThis patch flattens the image when creating an instance and unshelving\na SHELVED_OFFLOADED instance if CONF.use_cow_images = False. Using\nCONF.use_cow_images = False uses much more nova storage pool space as\neach instance will create a full, independent copy of the image from\nglance. It allows the image originally booted from to be detached from\nthe glance image and enables the glance images to be deleted.\n\nThis is intended as behavior operators can opt-in for if they are okay\nwith using much more nova storage pool space in order to be able to\ndelete images from glance at-will. Eventually in the future, we would\nhope to have some form of caching of images in the nova storage pool,\nbut that will be a large effort to be done through the spec and feature\nprocess.\n\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\n\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}, {'number': 14, 'created': '2018-02-12 20:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be093ac9d9df9820fff2aa2cfcee4fbe72cf98da', 'message': 'rbd: flatten images when creating/unshelving an instance\n\nWhen using the rbd image backend, snapshots used to shelve an instance\ncannot be deleted after unshelving. Similarly, images used to create an\ninstance (without shelve/unshelve) cannot be deleted from glance either.\n\nThe reason for this is because when an image is cloned from the glance\nstorage pool to the nova storage pool, without flattening, it creates\na dependency on the glance image. So, the glance image cannot be\ndeleted because it is ""in use"" by the nova instance. The same problem\noccurs when unshelving a SHELVED_OFFLOADED instance as it will create a\nnew nova instance from the glance snapshot image.\n\nThis patch flattens the image when creating an instance and unshelving\na SHELVED_OFFLOADED instance if CONF.use_cow_images = False. Using\nCONF.use_cow_images = False uses much more nova storage pool space as\neach instance will create a full, independent copy of the image from\nglance. It allows the image originally booted from to be detached from\nthe glance image and enables the glance images to be deleted.\n\nThis is intended as behavior operators can opt-in for if they are okay\nwith using much more nova storage pool space in order to be able to\ndelete images from glance at-will. Eventually in the future, we would\nhope to have some form of caching of images in the nova storage pool,\nbut that will be a large effort to be done through the spec and feature\nprocess.\n\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\n\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}, {'number': 15, 'created': '2018-04-10 16:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61b27135581967d5b242f1e3d863da19717ad2a5', 'message': 'rbd: flatten images when creating/unshelving an instance\n\nWhen using the rbd image backend, snapshots used to shelve an instance\ncannot be deleted after unshelving. Similarly, images used to create an\ninstance (without shelve/unshelve) cannot be deleted from glance either.\n\nThe reason for this is because when an image is cloned from the glance\nstorage pool to the nova storage pool, without flattening, it creates\na dependency on the glance image. So, the glance image cannot be\ndeleted because it is ""in use"" by the nova instance. The same problem\noccurs when unshelving a SHELVED_OFFLOADED instance as it will create a\nnew nova instance from the glance snapshot image.\n\nThis patch flattens the image when creating an instance and unshelving\na SHELVED_OFFLOADED instance if CONF.use_cow_images = False. Using\nCONF.use_cow_images = False uses much more nova storage pool space as\neach instance will create a full, independent copy of the image from\nglance. It allows the image originally booted from to be detached from\nthe glance image and enables the glance images to be deleted.\n\nThis is intended as behavior operators can opt-in for if they are okay\nwith using much more nova storage pool space in order to be able to\ndelete images from glance at-will. Eventually in the future, we would\nhope to have some form of caching of images in the nova storage pool,\nbut that will be a large effort to be done through the spec and feature\nprocess.\n\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\n\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}, {'number': 16, 'created': '2018-06-26 11:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5941ce7ca31a4dfdeabd95050a96f32b4c0cc59d', 'message': 'rbd: flatten images when creating/unshelving an instance\n\nWhen using the rbd image backend, snapshots used to shelve an instance\ncannot be deleted after unshelving. Similarly, images used to create an\ninstance (without shelve/unshelve) cannot be deleted from glance either.\n\nThe reason for this is because when an image is cloned from the glance\nstorage pool to the nova storage pool, without flattening, it creates\na dependency on the glance image. So, the glance image cannot be\ndeleted because it is ""in use"" by the nova instance. The same problem\noccurs when unshelving a SHELVED_OFFLOADED instance as it will create a\nnew nova instance from the glance snapshot image.\n\nThis patch flattens the image when creating an instance, unshelving\na SHELVED_OFFLOADED instance or migrating instance if\nCONF.use_cow_images = False. Using CONF.use_cow_images = False uses\nmuch more nova storage pool space as each instance will create a full,\nindependent copy of the image from glance. It allows the image\noriginally booted from to be detached from the glance image and\nenables the glance images to be deleted.\n\nFlatten call is also implemented for Qcow2 image backend, and it\nraises ImageUnacceptable, as there is no reason to use qcow2 images\nif you want flat ones.\n\nAs the whole point of flattening the image is to make it independent\nfrom the parent, this change also stops depending on the parent image\nsource RBD pool information. Instead, it is saved into instance\'s\nsystem_metadata during instance creation. It is not persisted to the\nsnapshot image property in glance as this info is not needed for a\nsnapshot. It will be used in direct_snapshot process of Libvirt\ndriver.\n\nThis is intended as behavior operators can opt-in for if they are okay\nwith using much more nova storage pool space in order to be able to\ndelete images from glance at-will. Eventually in the future, we would\nhope to have some form of caching of images in the nova storage pool,\nbut that will be a large effort to be done through the spec and feature\nprocess.\n\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\n\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}, {'number': 17, 'created': '2019-02-21 08:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/958d07544d6a694d7e1567aec72ddf68458caa30', 'message': 'rbd: flatten images when creating/unshelving an instance\n\nWhen using the rbd image backend, snapshots used to shelve an instance\ncannot be deleted after unshelving. Similarly, images used to create an\ninstance (without shelve/unshelve) cannot be deleted from glance either.\n\nThe reason for this is because when an image is cloned from the glance\nstorage pool to the nova storage pool, without flattening, it creates\na dependency on the glance image. So, the glance image cannot be\ndeleted because it is ""in use"" by the nova instance. The same problem\noccurs when unshelving a SHELVED_OFFLOADED instance as it will create a\nnew nova instance from the glance snapshot image.\n\nThis patch flattens the image when creating an instance, unshelving\na SHELVED_OFFLOADED instance or migrating instance if\nCONF.use_cow_images = False. Using CONF.use_cow_images = False uses\nmuch more nova storage pool space as each instance will create a full,\nindependent copy of the image from glance. It allows the image\noriginally booted from to be detached from the glance image and\nenables the glance images to be deleted.\n\nFlatten call is also implemented for Qcow2 image backend, and it\nraises ImageUnacceptable, as there is no reason to use qcow2 images\nif you want flat ones.\n\nAs the whole point of flattening the image is to make it independent\nfrom the parent, this change also stops depending on the parent image\nsource RBD pool information. Instead, it is saved into instance\'s\nsystem_metadata during instance creation. It is not persisted to the\nsnapshot image property in glance as this info is not needed for a\nsnapshot. It will be used in direct_snapshot process of Libvirt\ndriver.\n\nThis is intended as behavior operators can opt-in for if they are okay\nwith using much more nova storage pool space in order to be able to\ndelete images from glance at-will. Eventually in the future, we would\nhope to have some form of caching of images in the nova storage pool,\nbut that will be a large effort to be done through the spec and feature\nprocess.\n\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\n\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}, {'number': 18, 'created': '2019-05-30 15:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/acc48aac60973a18a2fa0522b53ac33a29c27d79', 'message': 'WIP/DNM libvirt: flatten rbd volumes when unshelving an instance\n\nPreviously attempts to remove the shelved image of an unshelved instance\nwhen using the rbd backends for both the Libvirt virt driver and Glance\nwould fail. This was due to the instance disk rbd volume being created\nas a clone from and still referencing the rbd volume hosting the shelved\nimage, blocking any attempt to remove the image in Glance.\n\nAfter much debate this fix now flattens the instance disk rbd volume\nwhen spawning the instance during an unshelve. This removes any\nreference to the shelved image allowing it to be removed from Glance.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}, {'number': 19, 'created': '2019-06-11 16:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07f29dfc8149030c1df4392db18836b735eb1b60', 'message': 'libvirt: flatten rbd images when unshelving an instance\n\nPreviously attempts to remove the shelved snapshot of an unshelved\ninstance when using the rbd backends for both Nova and Glance would\nfail. This was due to the instance disk being clone from and still\nreferencing the shelved snapshot image in Glance, blocking any attempt\nto remove this image later in the unshelve process.\n\nAfter much debate this change attempts to fix this issue by flattening\nthe instance disk while the instance is being spawned as part of an\nunshelve. For the rbd imagebackend this removes any reference to the\nshelved snapshot in Glance allowing this image to be removed. For all\nother imagebackends the call to flatten the image is currently a no-op.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}, {'number': 20, 'created': '2019-06-12 09:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0670e81bc2910f6fd44f257a964a94edb8d1cda', 'message': 'libvirt: flatten rbd images when unshelving an instance\n\nPreviously attempts to remove the shelved snapshot of an unshelved\ninstance when using the rbd backends for both Nova and Glance would\nfail. This was due to the instance disk being clone from and still\nreferencing the shelved snapshot image in Glance, blocking any attempt\nto remove this image later in the unshelve process.\n\nAfter much debate this change attempts to fix this issue by flattening\nthe instance disk while the instance is being spawned as part of an\nunshelve. For the rbd imagebackend this removes any reference to the\nshelved snapshot in Glance allowing this image to be removed. For all\nother imagebackends the call to flatten the image is currently a no-op.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}, {'number': 21, 'created': '2019-06-12 16:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb13f5000d11d4d28aff62b9b77c37a535cf3483', 'message': 'libvirt: flatten rbd images when unshelving an instance\n\nPreviously attempts to remove the shelved snapshot of an unshelved\ninstance when using the rbd backends for both Nova and Glance would\nfail. This was due to the instance disk being clone from and still\nreferencing the shelved snapshot image in Glance, blocking any attempt\nto remove this image later in the unshelve process.\n\nAfter much debate this change attempts to fix this issue by flattening\nthe instance disk while the instance is being spawned as part of an\nunshelve. For the rbd imagebackend this removes any reference to the\nshelved snapshot in Glance allowing this image to be removed. For all\nother imagebackends the call to flatten the image is currently a no-op.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}, {'number': 22, 'created': '2019-06-15 15:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb19db1dcf52e3abecdffac27e30f38b2a63ceba', 'message': 'libvirt: flatten rbd images when unshelving an instance\n\nPreviously attempts to remove the shelved snapshot of an unshelved\ninstance when using the rbd backends for both Nova and Glance would\nfail. This was due to the instance disk being clone from and still\nreferencing the shelved snapshot image in Glance, blocking any attempt\nto remove this image later in the unshelve process.\n\nAfter much debate this change attempts to fix this issue by flattening\nthe instance disk while the instance is being spawned as part of an\nunshelve. For the rbd imagebackend this removes any reference to the\nshelved snapshot in Glance allowing this image to be removed. For all\nother imagebackends the call to flatten the image is currently a no-op.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}, {'number': 23, 'created': '2019-06-18 15:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ca46b17c2d1410a06c1106dc3e80bac0ac090ec', 'message': 'libvirt: flatten rbd images when unshelving an instance\n\nPreviously attempts to remove the shelved snapshot of an unshelved\ninstance when using the rbd backends for both Nova and Glance would\nfail. This was due to the instance disk being clone from and still\nreferencing the shelved snapshot image in Glance, blocking any attempt\nto remove this image later in the unshelve process.\n\nAfter much debate this change attempts to fix this issue by flattening\nthe instance disk while the instance is being spawned as part of an\nunshelve. For the rbd imagebackend this removes any reference to the\nshelved snapshot in Glance allowing this image to be removed. For all\nother imagebackends the call to flatten the image is currently a no-op.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}, {'number': 24, 'created': '2019-06-24 09:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8dab78b9ba307cd94d438a5b1b3de5d8c173c91c', 'message': 'libvirt: flatten rbd images when unshelving an instance\n\nPreviously attempts to remove the shelved snapshot of an unshelved\ninstance when using the rbd backends for both Nova and Glance would\nfail. This was due to the instance disk being clone from and still\nreferencing the shelved snapshot image in Glance, blocking any attempt\nto remove this image later in the unshelve process.\n\nAfter much debate this change attempts to fix this issue by flattening\nthe instance disk while the instance is being spawned as part of an\nunshelve. For the rbd imagebackend this removes any reference to the\nshelved snapshot in Glance allowing this image to be removed. For all\nother imagebackends the call to flatten the image is currently a no-op.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}, {'number': 25, 'created': '2019-06-25 12:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/213dba2290867fe6af4b08b94407926f87fa618f', 'message': 'libvirt: flatten rbd images when unshelving an instance\n\nPreviously attempts to remove the shelved snapshot of an unshelved\ninstance when using the rbd backends for both Nova and Glance would\nfail. This was due to the instance disk being clone from and still\nreferencing the shelved snapshot image in Glance, blocking any attempt\nto remove this image later in the unshelve process.\n\nAfter much debate this change attempts to fix this issue by flattening\nthe instance disk while the instance is being spawned as part of an\nunshelve. For the rbd imagebackend this removes any reference to the\nshelved snapshot in Glance allowing this image to be removed. For all\nother imagebackends the call to flatten the image is currently a no-op.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}, {'number': 26, 'created': '2019-06-27 08:54:36.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/virt/libvirt/imagebackend.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d89e7d7857e0ab56c3b088338272c24d0618c07f', 'message': 'libvirt: flatten rbd images when unshelving an instance\n\nPreviously attempts to remove the shelved snapshot of an unshelved\ninstance when using the rbd backends for both Nova and Glance would\nfail. This was due to the instance disk being cloned from and still\nreferencing the shelved snapshot image in Glance, blocking any attempt\nto remove this image later in the unshelve process.\n\nAfter much debate this change attempts to fix this issue by flattening\nthe instance disk while the instance is being spawned as part of an\nunshelve. For the rbd imagebackend this removes any reference to the\nshelved snapshot in Glance allowing this image to be removed. For all\nother imagebackends the call to flatten the image is currently a no-op.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n'}]",60,457886,d89e7d7857e0ab56c3b088338272c24d0618c07f,402,39,26,11503,,,0,"libvirt: flatten rbd images when unshelving an instance

Previously attempts to remove the shelved snapshot of an unshelved
instance when using the rbd backends for both Nova and Glance would
fail. This was due to the instance disk being cloned from and still
referencing the shelved snapshot image in Glance, blocking any attempt
to remove this image later in the unshelve process.

After much debate this change attempts to fix this issue by flattening
the instance disk while the instance is being spawned as part of an
unshelve. For the rbd imagebackend this removes any reference to the
shelved snapshot in Glance allowing this image to be removed. For all
other imagebackends the call to flatten the image is currently a no-op.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Co-Authored-By: Vladyslav Drok <vdrok@mirantis.com>

Closes-Bug: #1653953
Change-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/457886/12 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/imagebackend.py']",2,0bdb2127a877b9113bdab45c59667b881bafc140,bug/1653953, def flatten(self): self.driver.flatten(self.rbd_name) ,,5,0
openstack%2Fironic~master~Iefe656a4a79491f5f0513ab4e315b2da08918355,openstack/ironic,master,Iefe656a4a79491f5f0513ab4e315b2da08918355,Remove the PXE driver page,MERGED,2019-07-09 14:07:28.000000000,2019-07-10 13:59:59.000000000,2019-07-10 11:01:24.000000000,"[{'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 29792}]","[{'number': 1, 'created': '2019-07-09 14:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/caafd2a4e7ace06b744632fdb3ee620c57b486b1', 'message': 'Add title to the PXE page\n\nThe PXE boot page dsiplays <no title>. This patch\nadds the title for the page.\n\nChange-Id: Iefe656a4a79491f5f0513ab4e315b2da08918355\n'}, {'number': 2, 'created': '2019-07-09 15:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6bda206894e558bed93554ac0733bae699864ed0', 'message': 'Add title to the PXE page\n\nThe PXE boot page dsiplays <no title>. This patch\nadds the title for the page.\n\nChange-Id: Iefe656a4a79491f5f0513ab4e315b2da08918355\n'}, {'number': 3, 'created': '2019-07-10 09:25:24.000000000', 'files': ['doc/source/admin/interfaces/boot.rst', 'doc/source/admin/drivers/pxe.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8fc538bdd98931619bbf926bf42858f2eadd4302', 'message': 'Remove the PXE driver page\n\nThis file belongs to classic drivers and is not used anymore,\nthe reference link in the admin/interfaces/boot.rst is marked\nhidden, thus can be removed.\n\nChange-Id: Iefe656a4a79491f5f0513ab4e315b2da08918355\n'}]",1,669878,8fc538bdd98931619bbf926bf42858f2eadd4302,19,7,3,10206,,,0,"Remove the PXE driver page

This file belongs to classic drivers and is not used anymore,
the reference link in the admin/interfaces/boot.rst is marked
hidden, thus can be removed.

Change-Id: Iefe656a4a79491f5f0513ab4e315b2da08918355
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/669878/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/drivers/pxe.rst'],1,caafd2a4e7ace06b744632fdb3ee620c57b486b1,pxe_title,PXE deploy interface ==================== ,,3,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ide761c21dc87dadc722e27c9b8a7b68194164cb2,openstack/tripleo-heat-templates,stable/queens,Ide761c21dc87dadc722e27c9b8a7b68194164cb2,Support TLS deployments with KernelDisableIPv6 enabled,MERGED,2019-07-10 07:22:46.000000000,2019-07-10 13:57:37.000000000,2019-07-10 13:57:37.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-10 07:22:46.000000000', 'files': ['puppet/services/glance-api.yaml', 'puppet/services/neutron-api.yaml', 'puppet/services/ec2-api.yaml', 'puppet/services/swift-proxy.yaml', 'puppet/services/kernel.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7a51ea1a1afc84a70c64068174283b212477816', 'message': 'Support TLS deployments with KernelDisableIPv6 enabled\n\nBind to 127.0.0.1 in case ipv6 is disabled. Set a hiera value\nlocalhost_address, so that it can be used in tls_proxy.pp to\nunambiguously connect to those services.\n\nChange-Id: Ide761c21dc87dadc722e27c9b8a7b68194164cb2\nRelated: rhbz#1703460\n(cherry picked from commit d48d1bdb37a4262ffe36ae5003312dfdfad083ab)\n'}]",0,669997,e7a51ea1a1afc84a70c64068174283b212477816,8,5,1,14250,,,0,"Support TLS deployments with KernelDisableIPv6 enabled

Bind to 127.0.0.1 in case ipv6 is disabled. Set a hiera value
localhost_address, so that it can be used in tls_proxy.pp to
unambiguously connect to those services.

Change-Id: Ide761c21dc87dadc722e27c9b8a7b68194164cb2
Related: rhbz#1703460
(cherry picked from commit d48d1bdb37a4262ffe36ae5003312dfdfad083ab)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/669997/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/glance-api.yaml', 'puppet/services/neutron-api.yaml', 'puppet/services/ec2-api.yaml', 'puppet/services/swift-proxy.yaml', 'puppet/services/kernel.yaml']",5,e7a51ea1a1afc84a70c64068174283b212477816,kernel_disable_ipv6-stable/queens,"conditions: ipv6_disabled: {equals: [{get_param: KernelDisableIPv6}, 1]} localhost_address: if: - ipv6_disabled - '127.0.0.1' - 'localhost'",,13,5
openstack%2Fansible-role-tripleo-modify-image~master~Ib47331197f27c20281ff86b381cde2a2d8b61519,openstack/ansible-role-tripleo-modify-image,master,Ib47331197f27c20281ff86b381cde2a2d8b61519,Try downloading the image when inspecting if not available,MERGED,2019-07-03 19:15:15.000000000,2019-07-10 13:53:27.000000000,2019-07-09 21:49:46.000000000,"[{'_account_id': 3153}, {'_account_id': 4978}, {'_account_id': 6926}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 19:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/d9b177d80713bc57e6586fcc77d2fdb4cea083bc', 'message': ""Try downloading the image when inspecting if not available\n\nCurrently if you don't have the image on the undercloud, when you try to\nrun image modify it will fail.  Instead of requiring the user\npre-download the image prior to running the image modify script, let's\nattempt a pull if the image doesn't exist.\n\nChange-Id: Ib47331197f27c20281ff86b381cde2a2d8b61519\nCloses-Bug: #1835219\n""}, {'number': 2, 'created': '2019-07-03 20:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/f02fe497387ab0af073bda4c37ca3b2c5902b977', 'message': ""Try downloading the image when inspecting if not available\n\nCurrently if you don't have the image on the undercloud, when you try to\nrun image modify it will fail.  Instead of requiring the user\npre-download the image prior to running the image modify script, let's\nattempt a pull if the image doesn't exist.\n\nChange-Id: Ib47331197f27c20281ff86b381cde2a2d8b61519\nCloses-Bug: #1835219\n""}, {'number': 3, 'created': '2019-07-03 23:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/3161fb70179a0422c187bf896e79f8b1d43fdf39', 'message': ""Try downloading the image when inspecting if not available\n\nCurrently if you don't have the image on the undercloud, when you try to\nrun image modify it will fail.  Instead of requiring the user\npre-download the image prior to running the image modify script, let's\nattempt a pull if the image doesn't exist.\n\nChange-Id: Ib47331197f27c20281ff86b381cde2a2d8b61519\nCloses-Bug: #1835219\n""}, {'number': 4, 'created': '2019-07-04 03:25:22.000000000', 'files': ['tasks/get_original_user.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/ca052a10bd593741e9f60c69878c0f6e6ad4f610', 'message': ""Try downloading the image when inspecting if not available\n\nCurrently if you don't have the image on the undercloud, when you try to\nrun image modify it will fail.  Instead of requiring the user\npre-download the image prior to running the image modify script, let's\nattempt a pull if the image doesn't exist.\n\nChange-Id: Ib47331197f27c20281ff86b381cde2a2d8b61519\nCloses-Bug: #1835219\n""}]",1,668981,ca052a10bd593741e9f60c69878c0f6e6ad4f610,23,4,4,14985,,,0,"Try downloading the image when inspecting if not available

Currently if you don't have the image on the undercloud, when you try to
run image modify it will fail.  Instead of requiring the user
pre-download the image prior to running the image modify script, let's
attempt a pull if the image doesn't exist.

Change-Id: Ib47331197f27c20281ff86b381cde2a2d8b61519
Closes-Bug: #1835219
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/81/668981/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/get_original_user.yml'],1,d9b177d80713bc57e6586fcc77d2fdb4cea083bc,bug/1835219," - block: - name: Pull Docker image if not currently downloaded docker_image: name: ""{{ source_image }}"" source: pull - name: Inspect image with Docker docker_image_facts: name: ""{{ source_image }}"" retries: 5 delay: 5 until: source_image_facts.images is defined register: source_image_facts when: source_image_facts.images | length == 0 - name: Ensure image exists shell: podman image exists {{ source_image }} || podman pull {{ source_image }} become: true",,16,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I044bf29e7ae320a478e0ba0eb12870f47735d4f1,openstack/tripleo-heat-templates,stable/queens,I044bf29e7ae320a478e0ba0eb12870f47735d4f1,heat: align config with instack-undercloud (partial backport),ABANDONED,2019-07-08 16:04:29.000000000,2019-07-10 13:23:05.000000000,,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-08 16:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e771c8b3c06c8d4ca825f435759c3aaf6d53edcb', 'message': ""heat: align config with instack-undercloud\n\n- Enable heat convergence for containerized undercloud\n- Set max_json_body_size=4194304 for containerized undercloud.\n- Introduce HeatMaxNestedStackDepth parameter.\n- Introduce HeatReauthenticationAuthMethod parameter and configure it to\n  'trusts' for the undercloud.\n\nConflicts:\n    environments/undercloud.yaml\n\nChange-Id: I044bf29e7ae320a478e0ba0eb12870f47735d4f1\nCloses-Bug: #174131\n(cherry picked from commit 56898d95fb5ab69d5e9296b28ad5ac5e0772e451)\nSigned-off-by: Luke Short <ekultails@gmail.com>\n""}, {'number': 2, 'created': '2019-07-09 17:51:21.000000000', 'files': ['environments/undercloud.yaml', 'puppet/services/heat-engine.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d1393497a0a6f31841f5ca44da74e94f2eeccec', 'message': 'heat: align config with instack-undercloud (partial backport)\n\n- Set max_json_body_size=4194304 for containerized undercloud.\n- Introduce HeatMaxNestedStackDepth parameter.\n\nConflicts:\n    environments/undercloud.yaml\n\nChange-Id: I044bf29e7ae320a478e0ba0eb12870f47735d4f1\nCloses-Bug: #174131\n(cherry picked from commit 56898d95fb5ab69d5e9296b28ad5ac5e0772e451)\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",0,669708,4d1393497a0a6f31841f5ca44da74e94f2eeccec,13,5,2,25877,,,0,"heat: align config with instack-undercloud (partial backport)

- Set max_json_body_size=4194304 for containerized undercloud.
- Introduce HeatMaxNestedStackDepth parameter.

Conflicts:
    environments/undercloud.yaml

Change-Id: I044bf29e7ae320a478e0ba0eb12870f47735d4f1
Closes-Bug: #174131
(cherry picked from commit 56898d95fb5ab69d5e9296b28ad5ac5e0772e451)
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/669708/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/undercloud.yaml', 'puppet/services/heat-engine.yaml']",2,e771c8b3c06c8d4ca825f435759c3aaf6d53edcb,bug/174131," HeatMaxNestedStackDepth: default: 6 description: Maximum number of nested stack depth. type: number HeatReauthenticationAuthMethod: description: Allow reauthentication on token expiry, such that long-running tasks may complete. Note this defeats the expiry of any provided user tokens. type: string default: '' constraints: - allowed_values: [ '', 'trusts' ] heat::engine::max_nested_stack_depth: {get_param: HeatMaxNestedStackDepth} heat::engine::reauthentication_auth_method: {get_param: HeatReauthenticationAuthMethod}", heat::engine::max_nested_stack_depth: 6,16,3
openstack%2Ftripleo-heat-templates~master~I886f2b8ac7092d9b3da38852e92a615d5666eea7,openstack/tripleo-heat-templates,master,I886f2b8ac7092d9b3da38852e92a615d5666eea7,Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long,MERGED,2019-06-23 13:13:55.000000000,2019-07-10 13:17:53.000000000,2019-07-10 13:17:53.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 6681}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-23 13:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d258890c8f51c543674a81a298c31ac194b5b04', 'message': 'Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long\n\nChange-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n'}, {'number': 2, 'created': '2019-06-23 13:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d3d5bb44b2f04dfb39d02de262144a798b5a4dfd', 'message': 'Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long\n\nDepends-On: I5c2629d9e7700fe1dd6f915bc257b1f058e40617\nDepends-On: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\nChange-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n'}, {'number': 3, 'created': '2019-06-24 07:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b47e569fce2ae0207c4a84235af0f622a602daa8', 'message': 'Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long\n\nCloses-bug: #1833942\n\nDepends-On: I5c2629d9e7700fe1dd6f915bc257b1f058e40617\nDepends-On: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\nChange-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n'}, {'number': 4, 'created': '2019-06-24 07:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d756891ff611996422f6d94bc5c211c82538c75a', 'message': 'Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long\n\nCloses-bug: #1833942\n\nDepends-On: I5c2629d9e7700fe1dd6f915bc257b1f058e40617\nDepends-On: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\nChange-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n'}, {'number': 5, 'created': '2019-06-24 07:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97e1263f778856ebb866e7600560755df3698ad8', 'message': 'Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long\n\nCloses-bug: #1833942\n\nDepends-On: I5c2629d9e7700fe1dd6f915bc257b1f058e40617\nDepends-On: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\nChange-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n'}, {'number': 6, 'created': '2019-06-30 20:56:56.000000000', 'files': ['deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'releasenotes/notes/input-validation-server_certs_key_passphrase-908471f31d09f088.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a6fef3aad6f6f3171eb38b7d25c62a5bb485e67f', 'message': 'Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long\n\nCloses-bug: #1833942\n\nDepends-On: I5c2629d9e7700fe1dd6f915bc257b1f058e40617\nDepends-On: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989\nChange-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7\n'}]",0,666987,a6fef3aad6f6f3171eb38b7d25c62a5bb485e67f,44,7,6,6579,,,0,"Adds constraint: OctaviaServerCertsKeyPassphrase must be 32 chars long

Closes-bug: #1833942

Depends-On: I5c2629d9e7700fe1dd6f915bc257b1f058e40617
Depends-On: Ibcdbe2605a7cabe3a5ef8245b4460c8f70220989
Change-Id: I886f2b8ac7092d9b3da38852e92a615d5666eea7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/666987/5 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml']",2,2d258890c8f51c543674a81a298c31ac194b5b04,OctaviaServerCertsKeyPassphrase-32chars," constraints: - length: { min: 32, max: 32} Private Keys. Must be exactly 32 characters.", Private Keys.,6,2
openstack%2Fpython-tackerclient~master~I8ce0bd9ee17a1b248e996c856feb63d3f1f6234a,openstack/python-tackerclient,master,I8ce0bd9ee17a1b248e996c856feb63d3f1f6234a,Add Python 3 Train unit tests,ABANDONED,2019-07-05 20:24:45.000000000,2019-07-10 12:54:49.000000000,,"[{'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 20:24:45.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/98697a6d28db241508ce2cd3624f3155efe42265', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I8ce0bd9ee17a1b248e996c856feb63d3f1f6234a\nStory: #2005924\nTask: #34237\n'}]",0,669512,98697a6d28db241508ce2cd3624f3155efe42265,4,2,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I8ce0bd9ee17a1b248e996c856feb63d3f1f6234a
Story: #2005924
Task: #34237
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/12/669512/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,98697a6d28db241508ce2cd3624f3155efe42265,python3-train,"envlist = py27,py37,pep8,docs","envlist = py36,py27,pep8,docs",3,3
openstack%2Frally-openstack~master~I76e493d371a98097853176c5e6c7f7251fbb35ba,openstack/rally-openstack,master,I76e493d371a98097853176c5e6c7f7251fbb35ba,Update logging of users context,MERGED,2019-07-10 09:16:20.000000000,2019-07-10 12:53:18.000000000,2019-07-10 12:53:18.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-10 09:16:20.000000000', 'files': ['rally_openstack/contexts/keystone/users.py', 'tests/unit/contexts/keystone/test_users.py', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/57904bd65282f86e2b741e6a6f4ce8de008b9a35', 'message': 'Update logging of users context\n\nChange-Id: I76e493d371a98097853176c5e6c7f7251fbb35ba\n'}]",0,670017,57904bd65282f86e2b741e6a6f4ce8de008b9a35,6,2,1,9545,,,0,"Update logging of users context

Change-Id: I76e493d371a98097853176c5e6c7f7251fbb35ba
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/17/670017/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally_openstack/contexts/keystone/users.py', 'tests/unit/contexts/keystone/test_users.py', 'CHANGELOG.rst']",3,57904bd65282f86e2b741e6a6f4ce8de008b9a35,clarifyUsersRoleLogs,unreleased ---------- Changed ~~~~~~~ * Improved logging message for the number of used threads while creating keystone users and projects/tenants at *users@openstack* context. A start of a fork from `rally/plugins/openstack module of original OpenStack Rally project in results of workloads.,Start a fork of `rally/plugins/openstack module of original OpenStack Rally project in results of scenarios.,25,16
openstack%2Frally-openstack~master~Icf1371a4d5b29f313ce51ab2bdd0b9db07fb59da,openstack/rally-openstack,master,Icf1371a4d5b29f313ce51ab2bdd0b9db07fb59da,[ci] Update osresources,MERGED,2019-07-08 11:26:53.000000000,2019-07-10 12:48:27.000000000,2019-07-10 12:48:27.000000000,"[{'_account_id': 9545}, {'_account_id': 15209}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 11:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/fda2dec646fcdce8147d3bff3a5ef5bfbff11947', 'message': '[ci] Update osresources\n\n* add octavia resources\n* add neutron trunks\n\nChange-Id: Icf1371a4d5b29f313ce51ab2bdd0b9db07fb59da\n'}, {'number': 2, 'created': '2019-07-08 12:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/bb6714590829fcfb1a5a89c082a9550f03d9dbf7', 'message': '[ci] Update osresources\n\n* add octavia resources\n* add neutron trunks\n\nChange-Id: Icf1371a4d5b29f313ce51ab2bdd0b9db07fb59da\n'}, {'number': 3, 'created': '2019-07-09 14:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/28fd37bba3f2c4c08889ad99005b9385bb938b1f', 'message': '[ci] Update osresources\n\n* add octavia resources\n* add neutron trunks\n\nChange-Id: Icf1371a4d5b29f313ce51ab2bdd0b9db07fb59da\n'}, {'number': 4, 'created': '2019-07-09 16:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/af3d2c76dd6dc39548abd634740c520fbbda9207', 'message': '[ci] Update osresources\n\n* add octavia resources\n* add neutron trunks\n\nChange-Id: Icf1371a4d5b29f313ce51ab2bdd0b9db07fb59da\n'}, {'number': 5, 'created': '2019-07-09 20:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/d6737aa8385936f87d3a5c6e0f8bdb1c47a5b7e5', 'message': '[ci] Update osresources\n\n* add octavia resources\n* add neutron trunks\n\nChange-Id: Icf1371a4d5b29f313ce51ab2bdd0b9db07fb59da\n'}, {'number': 6, 'created': '2019-07-10 05:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/3e3885dc3a7945d03038e81859b18f7264583e29', 'message': '[ci] Update osresources\n\n* add octavia resources\n* add neutron trunks\n\nChange-Id: Icf1371a4d5b29f313ce51ab2bdd0b9db07fb59da\n'}, {'number': 7, 'created': '2019-07-10 09:19:32.000000000', 'files': ['tests/ci/osresources.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/273b36a90407df5a9c5c5f105b56471aa8342f3e', 'message': '[ci] Update osresources\n\nOSResources script checks that workloads launched at our CI do cleanup\nin a proper way.\n\n* add octavia resources\n* add neutron trunks\n\nChange-Id: Icf1371a4d5b29f313ce51ab2bdd0b9db07fb59da\n'}]",0,669638,273b36a90407df5a9c5c5f105b56471aa8342f3e,21,3,7,9545,,,0,"[ci] Update osresources

OSResources script checks that workloads launched at our CI do cleanup
in a proper way.

* add octavia resources
* add neutron trunks

Change-Id: Icf1371a4d5b29f313ce51ab2bdd0b9db07fb59da
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/38/669638/5 && git format-patch -1 --stdout FETCH_HEAD,['tests/ci/osresources.py'],1,fda2dec646fcdce8147d3bff3a5ef5bfbff11947,osresources," def list_trunks(self): return self.client.list_trunks()[""trunks""] class Octavia(ResourceManager): REQUIRED_SERVICE = consts.Service.OCTAVIA def list_load_balancers(self): return self.client.load_balancer_list() def list_listeners(self): return self.client.listener_list() def list_pools(self): return self.client.pool_list() def list_l7policies(self): return self.client.l7policy_list() def list_health_monitors(self): return self.client.health_monitor_list() def list_quotas(self): return self.client.quota_list() def list_amphoras(self): return self.client.amphora_list() ",,29,0
openstack%2Fnova~master~Ic25a0b8e2690ce8bb2b3e060846f34caa5a7c710,openstack/nova,master,Ic25a0b8e2690ce8bb2b3e060846f34caa5a7c710,[doc]Move configuration to admin subfolder,ABANDONED,2018-05-04 04:31:51.000000000,2019-07-10 12:19:01.000000000,,"[{'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-04 04:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3fe3599de371767afd1a5612a8420fc4777a5c7', 'message': 'WIP:[doc]Move configuration to admin subfolder\n\nChange-Id: Ic25a0b8e2690ce8bb2b3e060846f34caa5a7c710\n'}, {'number': 2, 'created': '2018-05-04 05:43:55.000000000', 'files': ['doc/source/admin/configuration/samples/config.rst', 'doc/source/configuration/index.rst', 'doc/source/admin/configuration/samples/index.rst', 'doc/source/admin/configuration/samples/sample-policy.rst', 'doc/source/admin/configuration/samples/policy.yaml.rst', 'doc/source/admin/configuration/samples/policy.rst', 'doc/source/admin/configuration/samples/sample-config.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/e527c84a5ce468de031e8f1330120ee7d1cc541b', 'message': '[doc]Move configuration to admin subfolder\n\nconfiguration should be inside admin folder, also,\nsome duplication info exists, this patch merged those\ninto admin/configuration/samples\n\nChange-Id: Ic25a0b8e2690ce8bb2b3e060846f34caa5a7c710\n'}]",0,566212,e527c84a5ce468de031e8f1330120ee7d1cc541b,15,8,2,6062,,,0,"[doc]Move configuration to admin subfolder

configuration should be inside admin folder, also,
some duplication info exists, this patch merged those
into admin/configuration/samples

Change-Id: Ic25a0b8e2690ce8bb2b3e060846f34caa5a7c710
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/566212/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/configuration/samples/config.rst', 'doc/source/configuration/index.rst', 'doc/source/admin/configuration/samples/index.rst', 'doc/source/admin/configuration/samples/sample-policy.rst', 'doc/source/admin/configuration/samples/policy.yaml.rst', 'doc/source/admin/configuration/samples/policy.rst', 'doc/source/admin/configuration/samples/sample-config.rst']",7,a3fe3599de371767afd1a5612a8420fc4777a5c7,,,,36,51
openstack%2Fnova~stable%2Fstein~I52c8d038118c858004e17e71b2fba9e9e2714815,openstack/nova,stable/stein,I52c8d038118c858004e17e71b2fba9e9e2714815,Drop source node allocations if finish_resize fails,MERGED,2019-06-24 16:44:58.000000000,2019-07-10 12:13:20.000000000,2019-07-04 18:03:27.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-24 16:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b358bd36b1a37917234917e34de65748924435d2', 'message': 'Drop source node allocations if finish_resize fails\n\nBy the time finish_resize runs on the dest host, the instance\nhost/node values are already pointing at the dest (they are\nset by resize_instance on the source compute before casting to\nfinish_resize on the dest). If finish_resize fails, the instance\nis essentially stuck on the dest host so rather than revert the\nallocations (which will drop the new flavor allocations against\nthe dest host where the instance now lives) we should just drop\nthe old flavor allocations on the source node resource provider,\nwhich is what this change does.\n\nThe functional regression recreate test is updated to show this\nworking.\n\nChange-Id: I52c8d038118c858004e17e71b2fba9e9e2714815\nCloses-Bug: #1825537\n(cherry picked from commit ea297d6ffba81c5dc982afe6519de09ff3744cad)\n'}, {'number': 2, 'created': '2019-07-01 19:19:46.000000000', 'files': ['nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1825537.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e6c6178d22db43959103da1400017fa49b18f514', 'message': 'Drop source node allocations if finish_resize fails\n\nBy the time finish_resize runs on the dest host, the instance\nhost/node values are already pointing at the dest (they are\nset by resize_instance on the source compute before casting to\nfinish_resize on the dest). If finish_resize fails, the instance\nis essentially stuck on the dest host so rather than revert the\nallocations (which will drop the new flavor allocations against\nthe dest host where the instance now lives) we should just drop\nthe old flavor allocations on the source node resource provider,\nwhich is what this change does.\n\nThe functional regression recreate test is updated to show this\nworking.\n\nChange-Id: I52c8d038118c858004e17e71b2fba9e9e2714815\nCloses-Bug: #1825537\n(cherry picked from commit ea297d6ffba81c5dc982afe6519de09ff3744cad)\n'}]",0,667155,e6c6178d22db43959103da1400017fa49b18f514,22,8,2,6873,,,0,"Drop source node allocations if finish_resize fails

By the time finish_resize runs on the dest host, the instance
host/node values are already pointing at the dest (they are
set by resize_instance on the source compute before casting to
finish_resize on the dest). If finish_resize fails, the instance
is essentially stuck on the dest host so rather than revert the
allocations (which will drop the new flavor allocations against
the dest host where the instance now lives) we should just drop
the old flavor allocations on the source node resource provider,
which is what this change does.

The functional regression recreate test is updated to show this
working.

Change-Id: I52c8d038118c858004e17e71b2fba9e9e2714815
Closes-Bug: #1825537
(cherry picked from commit ea297d6ffba81c5dc982afe6519de09ff3744cad)
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/667155/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1825537.py']",3,b358bd36b1a37917234917e34de65748924435d2,bug/1825537," self.flavor2, server['id'], dest_rp_uuid) # And the source node provider should not have any usage. source_rp_usages = self._get_provider_usages(source_rp_uuid) no_usage = {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0} self.assertEqual(no_usage, source_rp_usages)"," # FIXME(mriedem): This is bug 1825537 where the allocations are # reverted when finish_resize fails so the dest node resource provider # does not have any allocations and the instance allocations are for # the old flavor on the source node resource provider even though the # instance is not running on the source host nor pointed at the source # host in the DB. # self.assertFlavorMatchesAllocation( # self.flavor2, server['id'], dest_rp_uuid) dest_rp_usages = self._get_provider_usages(dest_rp_uuid) no_usage = {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0} self.assertEqual(no_usage, dest_rp_usages) self.flavor1, server['id'], source_rp_uuid)",28,17
openstack%2Fnova~master~I8893f1e37f8ac45710138299bbac224fc46227dd,openstack/nova,master,I8893f1e37f8ac45710138299bbac224fc46227dd,libvirt: Remove MIN_LIBVIRT_PERF_VERSION,MERGED,2019-07-04 10:06:41.000000000,2019-07-10 12:13:10.000000000,2019-07-05 22:54:06.000000000,"[{'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-04 10:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c08582de05c89aa2f96dac6618eed4bae481aac', 'message': 'libvirt: Remove MIN_LIBVIRT_PERF_VERSION\n\nThe updated minimum required libvirt (3.0.0) and QEMU (2.8.0) for ""Stein""\nsatisfy the version requirements.  This was added in Change-Id:\nI408baef12 (commit 0b1548a988  libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION\nfor ""Stein"", 2019-01-22).\n\nSo drop the version constant and related compatibility code.\n\nChange-Id: I8893f1e37f8ac45710138299bbac224fc46227dd\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 2, 'created': '2019-07-05 09:17:29.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/19b81aeb5e8fa1ef9f3cfe8a7e10ff5885c252a4', 'message': 'libvirt: Remove MIN_LIBVIRT_PERF_VERSION\n\nThe updated minimum required libvirt (3.0.0) and QEMU (2.8.0) for ""Stein""\nsatisfy the version requirements.  This was added in Change-Id:\nI408baef12 (commit 0b1548a988  libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION\nfor ""Stein"", 2019-01-22).\n\nSo drop the version constant and related compatibility code.\n\nChange-Id: I8893f1e37f8ac45710138299bbac224fc46227dd\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}]",1,669128,19b81aeb5e8fa1ef9f3cfe8a7e10ff5885c252a4,23,11,2,6962,,,0,"libvirt: Remove MIN_LIBVIRT_PERF_VERSION

The updated minimum required libvirt (3.0.0) and QEMU (2.8.0) for ""Stein""
satisfy the version requirements.  This was added in Change-Id:
I408baef12 (commit 0b1548a988  libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION
for ""Stein"", 2019-01-22).

So drop the version constant and related compatibility code.

Change-Id: I8893f1e37f8ac45710138299bbac224fc46227dd
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/669128/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,0c08582de05c89aa2f96dac6618eed4bae481aac,Bump_min_libvirt_and_QEMU_for_Stein, if (len(CONF.libvirt.enabled_perf_events) == 0):,"# perf events support MIN_LIBVIRT_PERF_VERSION = (2, 0, 0) if (len(CONF.libvirt.enabled_perf_events) == 0 or not self._host.has_min_version(MIN_LIBVIRT_PERF_VERSION)):",1,4
openstack%2Fnova~stable%2Fqueens~I9a5118373548c525b2b1c2271e7d210cc92e4f4c,openstack/nova,stable/queens,I9a5118373548c525b2b1c2271e7d210cc92e4f4c,Move get_pci_mapping_for_migration to MigrationContext,MERGED,2019-05-27 09:08:16.000000000,2019-07-10 12:12:44.000000000,2019-07-02 03:00:21.000000000,"[{'_account_id': 6873}, {'_account_id': 8297}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12171}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-05-27 09:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bea3a9e6c844e76b36c47fbe073314cb4b9b14b1', 'message': 'Move get_pci_mapping_for_migration to MigrationContext\n\nIn order to fix Bug #1809095, it is required to update\nPCI related VIFs with the original PCI address on the source\nhost to allow virt driver to properly unplug the VIF from hypervisor,\ne.g allow the proper VF representor to be unplugged\nfrom the integration bridge in case of a hardware offloaded OVS.\n\nTo do so, some preliminary work is needed to allow code-sharing\nbetween nova.network.neutronv2 and nova.compute.manager\n\nThis change:\n- Moves common logic to retrieve the PCI mapping between\n  the source and destination node from nova.network.neutronv2\n  to objects.migration_context.\n- Makes code adjustments to methods in nova.network.neutronv2\n  to accomodate the former.\n\nPartial-Bug: #1809095\n\nConflicts:\n\tnova/network/neutronv2/api.py\n\nChange-Id: I9a5118373548c525b2b1c2271e7d210cc92e4f4c\n(cherry picked from commit 5a1c385b996090b80f5881680e04c88abc21828a)\n'}, {'number': 2, 'created': '2019-05-30 14:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b055e9ee41bcf048edfbb1138a3281e9a57c118', 'message': 'Move get_pci_mapping_for_migration to MigrationContext\n\nIn order to fix Bug #1809095, it is required to update\nPCI related VIFs with the original PCI address on the source\nhost to allow virt driver to properly unplug the VIF from hypervisor,\ne.g allow the proper VF representor to be unplugged\nfrom the integration bridge in case of a hardware offloaded OVS.\n\nTo do so, some preliminary work is needed to allow code-sharing\nbetween nova.network.neutronv2 and nova.compute.manager\n\nThis change:\n- Moves common logic to retrieve the PCI mapping between\n  the source and destination node from nova.network.neutronv2\n  to objects.migration_context.\n- Makes code adjustments to methods in nova.network.neutronv2\n  to accomodate the former.\n\nPartial-Bug: #1809095\n\nConflicts:\n\tnova/network/neutronv2/api.py\n\nChange-Id: I9a5118373548c525b2b1c2271e7d210cc92e4f4c\n(cherry picked from commit 5a1c385b996090b80f5881680e04c88abc21828a)\n'}, {'number': 3, 'created': '2019-06-02 07:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16f009f6e912c589a95fb75bc2e44284af77c90a', 'message': 'Move get_pci_mapping_for_migration to MigrationContext\n\nIn order to fix Bug #1809095, it is required to update\nPCI related VIFs with the original PCI address on the source\nhost to allow virt driver to properly unplug the VIF from hypervisor,\ne.g allow the proper VF representor to be unplugged\nfrom the integration bridge in case of a hardware offloaded OVS.\n\nTo do so, some preliminary work is needed to allow code-sharing\nbetween nova.network.neutronv2 and nova.compute.manager\n\nThis change:\n- Moves common logic to retrieve the PCI mapping between\n  the source and destination node from nova.network.neutronv2\n  to objects.migration_context.\n- Makes code adjustments to methods in nova.network.neutronv2\n  to accomodate the former.\n\nPartial-Bug: #1809095\n\nConflicts:\n\tnova/network/neutronv2/api.py\n\nChange-Id: I9a5118373548c525b2b1c2271e7d210cc92e4f4c\n(cherry picked from commit 5a1c385b996090b80f5881680e04c88abc21828a)\n'}, {'number': 4, 'created': '2019-06-05 16:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbc59a7b4392490f7b68a7b57e2a8a38bda15e58', 'message': 'Move get_pci_mapping_for_migration to MigrationContext\n\nIn order to fix Bug #1809095, it is required to update\nPCI related VIFs with the original PCI address on the source\nhost to allow virt driver to properly unplug the VIF from hypervisor,\ne.g allow the proper VF representor to be unplugged\nfrom the integration bridge in case of a hardware offloaded OVS.\n\nTo do so, some preliminary work is needed to allow code-sharing\nbetween nova.network.neutronv2 and nova.compute.manager\n\nThis change:\n- Moves common logic to retrieve the PCI mapping between\n  the source and destination node from nova.network.neutronv2\n  to objects.migration_context.\n- Makes code adjustments to methods in nova.network.neutronv2\n  to accomodate the former.\n\nPartial-Bug: #1809095\n\nConflicts:\n\tnova/network/neutronv2/api.py\n\nChange-Id: I9a5118373548c525b2b1c2271e7d210cc92e4f4c\n(cherry picked from commit 28e7be8c8be5609ee33ff3eedacd20a70b9a409d)\n'}, {'number': 5, 'created': '2019-06-30 08:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e73f96d6404ac96f769860b1abe55194e0883302', 'message': 'Move get_pci_mapping_for_migration to MigrationContext\n\nIn order to fix Bug #1809095, it is required to update\nPCI related VIFs with the original PCI address on the source\nhost to allow virt driver to properly unplug the VIF from hypervisor,\ne.g allow the proper VF representor to be unplugged\nfrom the integration bridge in case of a hardware offloaded OVS.\n\nTo do so, some preliminary work is needed to allow code-sharing\nbetween nova.network.neutronv2 and nova.compute.manager\n\nThis change:\n- Moves common logic to retrieve the PCI mapping between\n  the source and destination node from nova.network.neutronv2\n  to objects.migration_context.\n- Makes code adjustments to methods in nova.network.neutronv2\n  to accomodate the former.\n\nPartial-Bug: #1809095\n\nConflicts:\n\tnova/network/neutronv2/api.py\n\nChange-Id: I9a5118373548c525b2b1c2271e7d210cc92e4f4c\n(cherry picked from commit 28e7be8c8be5609ee33ff3eedacd20a70b9a409d)\n'}, {'number': 6, 'created': '2019-07-01 16:29:12.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/tests/unit/objects/test_migration_context.py', 'nova/objects/migration_context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8519b1ce6d0d001a57f57cf0a9ffcfdd2b6bc813', 'message': 'Move get_pci_mapping_for_migration to MigrationContext\n\nIn order to fix Bug #1809095, it is required to update\nPCI related VIFs with the original PCI address on the source\nhost to allow virt driver to properly unplug the VIF from hypervisor,\ne.g allow the proper VF representor to be unplugged\nfrom the integration bridge in case of a hardware offloaded OVS.\n\nTo do so, some preliminary work is needed to allow code-sharing\nbetween nova.network.neutronv2 and nova.compute.manager\n\nThis change:\n- Moves common logic to retrieve the PCI mapping between\n  the source and destination node from nova.network.neutronv2\n  to objects.migration_context.\n- Makes code adjustments to methods in nova.network.neutronv2\n  to accomodate the former.\n\nPartial-Bug: #1809095\n\nChange-Id: I9a5118373548c525b2b1c2271e7d210cc92e4f4c\n(cherry picked from commit 84bb00a86da539183211364961ada2c1b1bb5edc)\n(cherry picked from commit 28e7be8c8be5609ee33ff3eedacd20a70b9a409d)\n'}]",4,661571,8519b1ce6d0d001a57f57cf0a9ffcfdd2b6bc813,61,11,6,28714,,,0,"Move get_pci_mapping_for_migration to MigrationContext

In order to fix Bug #1809095, it is required to update
PCI related VIFs with the original PCI address on the source
host to allow virt driver to properly unplug the VIF from hypervisor,
e.g allow the proper VF representor to be unplugged
from the integration bridge in case of a hardware offloaded OVS.

To do so, some preliminary work is needed to allow code-sharing
between nova.network.neutronv2 and nova.compute.manager

This change:
- Moves common logic to retrieve the PCI mapping between
  the source and destination node from nova.network.neutronv2
  to objects.migration_context.
- Makes code adjustments to methods in nova.network.neutronv2
  to accomodate the former.

Partial-Bug: #1809095

Change-Id: I9a5118373548c525b2b1c2271e7d210cc92e4f4c
(cherry picked from commit 84bb00a86da539183211364961ada2c1b1bb5edc)
(cherry picked from commit 28e7be8c8be5609ee33ff3eedacd20a70b9a409d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/661571/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/tests/unit/objects/test_migration_context.py', 'nova/objects/migration_context.py']",4,bea3a9e6c844e76b36c47fbe073314cb4b9b14b1,bug/1809095,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) def get_pci_mapping_for_migration(self, revert): """"""Get the mapping between the old PCI devices and the new PCI devices that have been allocated during this migration. The correlation is based on PCI request ID which is unique per PCI devices for SR-IOV ports. :param revert: If True, return a reverse mapping i.e mapping between new PCI devices and old PCI devices. :returns: dictionary of PCI mapping. if revert==False: {'<old pci address>': <New PciDevice>} if revert==True: {'<new pci address>': <Old PciDevice>} """""" step = -1 if revert else 1 current_pci_devs, updated_pci_devs = (self.old_pci_devices, self.new_pci_devices)[::step] if current_pci_devs and updated_pci_devs: LOG.debug(""Determining PCI devices mapping using migration "" ""context: current_pci_devs: %(cur)s, "" ""updated_pci_devs: %(upd)s"", {'cur': [dev for dev in current_pci_devs], 'upd': [dev for dev in updated_pci_devs]}) return {curr_dev.address: upd_dev for curr_dev in current_pci_devs for upd_dev in updated_pci_devs if curr_dev.request_id == upd_dev.request_id} return {}",,85,81
openstack%2Fnova~master~I292a0e2d840bbf657ba6d0932f9a3decbcb2778f,openstack/nova,master,I292a0e2d840bbf657ba6d0932f9a3decbcb2778f,[FUP] Follow-up patch for SR-IOV live migration,MERGED,2019-05-14 15:30:41.000000000,2019-07-10 12:11:40.000000000,2019-07-03 21:41:56.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23253}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28714}, {'_account_id': 30402}, {'_account_id': 30526}]","[{'number': 1, 'created': '2019-05-14 15:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/870e2164c48eb34c87c954892a7e0a5aa7ea2407', 'message': '[FUP] Follow-up patch for SR-IOV live migration\n\nThis commit addresses some of the non-blocking comments/nits\nin[1].\n\nMain changes:\n- Add is_sriov_port property to InstancePCIRequest object\n  to avoid duplication of logic and comments in the code.\n\n- Move class method create_skeleton_migrate_vifs from\n  LiveMigrateData object to VIFMigrateData object as\n  frankly its more sensible to have it there.\n\n- Separate unit test, test__claim_pci_for_instance_vifs,\n  to two separate unit tests for clarity.\n\n- Some trivial nits and typos.\n\n[1] https://review.opendev.org/#/c/620115/\n\nChange-Id: I292a0e2d840bbf657ba6d0932f9a3decbcb2778f\n'}, {'number': 2, 'created': '2019-05-14 16:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b5a0c8290a573260ecac8e86766e5563460da2f', 'message': '[FUP] Follow-up patch for SR-IOV live migration\n\nThis commit addresses some of the non-blocking comments/nits\nin[1].\n\nMain changes:\n- Add is_sriov_port property to InstancePCIRequest object\n  to avoid duplication of logic and comments in the code.\n\n- Move class method create_skeleton_migrate_vifs from\n  LiveMigrateData object to VIFMigrateData object as\n  frankly its more sensible to have it there.\n\n- Separate unit test, test__claim_pci_for_instance_vifs,\n  to two separate unit tests for clarity.\n\n- Some trivial nits and typos.\n\n[1] https://review.opendev.org/#/c/620115/\n\nChange-Id: I292a0e2d840bbf657ba6d0932f9a3decbcb2778f\n'}, {'number': 3, 'created': '2019-05-19 07:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19e43eaa5dacf424affc8f75020a14ddc7c971eb', 'message': ""[FUP] Follow-up patch for SR-IOV live migration\n\nThis commit addresses some of the non-blocking comments/nits\nin[1].\n\nMain changes:\n- Add 'source' property to InstancePCIRequest object\n  which contains the source of the request i.e. flavor alias\n  or neutron port. this avoids duplication of logic\n  and comments in the code.\n\n- Move class method create_skeleton_migrate_vifs from\n  LiveMigrateData object to VIFMigrateData object as\n  frankly its more sensible to have it there.\n\n- Separate unit test, test__claim_pci_for_instance_vifs,\n  to two separate unit tests for clarity.\n\n- Some trivial nits and typos.\n\n[1] https://review.opendev.org/#/c/620115/\n\nChange-Id: I292a0e2d840bbf657ba6d0932f9a3decbcb2778f\n""}, {'number': 4, 'created': '2019-07-02 18:52:05.000000000', 'files': ['nova/tests/unit/objects/test_migrate_data.py', 'nova/objects/migrate_data.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_instance_pci_requests.py', 'nova/conductor/tasks/live_migrate.py', 'nova/objects/instance_pci_requests.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7824909048cdf246c4f50d8c4901c0c296b972c6', 'message': ""[FUP] Follow-up patch for SR-IOV live migration\n\nThis commit addresses some of the non-blocking comments/nits\nin[1].\n\nMain changes:\n- Add 'source' property to InstancePCIRequest object\n  which contains the source of the request i.e. flavor alias\n  or neutron port. this avoids duplication of logic\n  and comments in the code.\n\n- Move class method create_skeleton_migrate_vifs from\n  LiveMigrateData object to VIFMigrateData object as\n  frankly its more sensible to have it there.\n\n- Separate unit test, test__claim_pci_for_instance_vifs,\n  to two separate unit tests for clarity.\n\n- Some trivial nits and typos.\n\n[1] https://review.opendev.org/#/c/620115/\n\nChange-Id: I292a0e2d840bbf657ba6d0932f9a3decbcb2778f\n""}]",26,659101,7824909048cdf246c4f50d8c4901c0c296b972c6,74,20,4,28714,,,0,"[FUP] Follow-up patch for SR-IOV live migration

This commit addresses some of the non-blocking comments/nits
in[1].

Main changes:
- Add 'source' property to InstancePCIRequest object
  which contains the source of the request i.e. flavor alias
  or neutron port. this avoids duplication of logic
  and comments in the code.

- Move class method create_skeleton_migrate_vifs from
  LiveMigrateData object to VIFMigrateData object as
  frankly its more sensible to have it there.

- Separate unit test, test__claim_pci_for_instance_vifs,
  to two separate unit tests for clarity.

- Some trivial nits and typos.

[1] https://review.opendev.org/#/c/620115/

Change-Id: I292a0e2d840bbf657ba6d0932f9a3decbcb2778f
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/659101/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/migrate_data.py', 'nova/tests/unit/objects/test_migrate_data.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_instance_pci_requests.py', 'nova/conductor/tasks/live_migrate.py', 'nova/objects/instance_pci_requests.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py']",8,870e2164c48eb34c87c954892a7e0a5aa7ea2407,sriov_live_migration_follow_up, # On resize merge the SR-IOV ports pci_requests # with the new instance flavor pci_requests. if request.is_sriov_port:, # PCI requests come from two sources: instance flavor and # SR-IOV ports. SR-IOV ports pci_request don't have an alias_name. # On resize merge the SR-IOV ports pci_requests with the new # instance flavor pci_requests. if request.alias_name is None:,77,46
openstack%2Fnova~master~Id5172d97b349abe59b47d1284e97943091652419,openstack/nova,master,Id5172d97b349abe59b47d1284e97943091652419,Add neutron-tempest-iptables_hybrid job to experimental queue,MERGED,2019-06-24 16:29:56.000000000,2019-07-10 12:11:36.000000000,2019-07-03 23:45:27.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-24 16:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8379c76b9173f062b5fb33199f5e21888ca568ea', 'message': ""Add neutron-tempest-iptables_hybrid job to experimental queue\n\nDue to regression bug 1833902 we should have the option to\nrun the neutron job that tests the OVS hybrid plug configuration\non specific patches.\n\nWe could eventually consider running this in the check queue\nlike neutron-tempest-linuxbridge with a strict set of irrelevant\nfiles but that would require some thought, i.e. we'd want to run\nthe job on changes to nova/compute/manager.py since the network\nvif model bind events code is used in the ComputeManager and is\nspecific to OVS hybrid plug ports. Rather than get bogged down in\nthinking up what that set is, this change takes the easy path and\njust throws the job into the on-demand experimental queue.\n\nChange-Id: Id5172d97b349abe59b47d1284e97943091652419\nRelated-Bug: #1833902\n""}, {'number': 2, 'created': '2019-07-01 06:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b84ccd442ea86879071811495019dd31157b0db7', 'message': ""Add neutron-tempest-iptables_hybrid job to experimental queue\n\nDue to regression bug 1833902 we should have the option to\nrun the neutron job that tests the OVS hybrid plug configuration\non specific patches.\n\nWe could eventually consider running this in the check queue\nlike neutron-tempest-linuxbridge with a strict set of irrelevant\nfiles but that would require some thought, i.e. we'd want to run\nthe job on changes to nova/compute/manager.py since the network\nvif model bind events code is used in the ComputeManager and is\nspecific to OVS hybrid plug ports. Rather than get bogged down in\nthinking up what that set is, this change takes the easy path and\njust throws the job into the on-demand experimental queue.\n\nChange-Id: Id5172d97b349abe59b47d1284e97943091652419\nRelated-Bug: #1833902\n""}, {'number': 3, 'created': '2019-07-02 08:17:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/33e9740d004770d4d58458330e269b8e1ebf4136', 'message': ""Add neutron-tempest-iptables_hybrid job to experimental queue\n\nDue to regression bug 1833902 we should have the option to\nrun the neutron job that tests the OVS hybrid plug configuration\non specific patches.\n\nWe could eventually consider running this in the check queue\nlike neutron-tempest-linuxbridge with a strict set of irrelevant\nfiles but that would require some thought, i.e. we'd want to run\nthe job on changes to nova/compute/manager.py since the network\nvif model bind events code is used in the ComputeManager and is\nspecific to OVS hybrid plug ports. Rather than get bogged down in\nthinking up what that set is, this change takes the easy path and\njust throws the job into the on-demand experimental queue.\n\nChange-Id: Id5172d97b349abe59b47d1284e97943091652419\nRelated-Bug: #1833902\n""}]",0,667154,33e9740d004770d4d58458330e269b8e1ebf4136,53,15,3,6873,,,0,"Add neutron-tempest-iptables_hybrid job to experimental queue

Due to regression bug 1833902 we should have the option to
run the neutron job that tests the OVS hybrid plug configuration
on specific patches.

We could eventually consider running this in the check queue
like neutron-tempest-linuxbridge with a strict set of irrelevant
files but that would require some thought, i.e. we'd want to run
the job on changes to nova/compute/manager.py since the network
vif model bind events code is used in the ComputeManager and is
specific to OVS hybrid plug ports. Rather than get bogged down in
thinking up what that set is, this change takes the easy path and
just throws the job into the on-demand experimental queue.

Change-Id: Id5172d97b349abe59b47d1284e97943091652419
Related-Bug: #1833902
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/667154/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8379c76b9173f062b5fb33199f5e21888ca568ea,bug/1813789, - neutron-tempest-iptables_hybrid: irrelevant-files: *dsvm-irrelevant-files,,2,0
openstack%2Fnova~stable%2Fstein~I5f8e4d32c6a1d6b61396b4fa11c5d776f432df0c,openstack/nova,stable/stein,I5f8e4d32c6a1d6b61396b4fa11c5d776f432df0c,Init HostState.failed_builds,MERGED,2019-06-29 02:36:21.000000000,2019-07-10 12:11:32.000000000,2019-07-01 16:25:19.000000000,"[{'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-29 02:36:21.000000000', 'files': ['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/725b37f515e4ad01e1f4491b6d8137ce1416f6d6', 'message': 'Init HostState.failed_builds\n\nIf _update_from_compute_node returns early and the HostState is\nnot filtered out we can hit an AttributeError in the\nBuildFailureWeigher because the failed_builds attribute is not\nset. This simply initializes the attribute like the other stats\nfields.\n\nChange-Id: I5f8e4d32c6a1d6b61396b4fa11c5d776f432df0c\nCloses-Bug: #1834691\n(cherry picked from commit d540903463aa9b0cf69cefac7cc60e5b70e40a1c)\n'}]",0,668282,725b37f515e4ad01e1f4491b6d8137ce1416f6d6,12,6,1,6873,,,0,"Init HostState.failed_builds

If _update_from_compute_node returns early and the HostState is
not filtered out we can hit an AttributeError in the
BuildFailureWeigher because the failed_builds attribute is not
set. This simply initializes the attribute like the other stats
fields.

Change-Id: I5f8e4d32c6a1d6b61396b4fa11c5d776f432df0c
Closes-Bug: #1834691
(cherry picked from commit d540903463aa9b0cf69cefac7cc60e5b70e40a1c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/668282/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py']",2,725b37f515e4ad01e1f4491b6d8137ce1416f6d6,bug/1834691, self.failed_builds = 0,,3,0
openstack%2Fnova~stable%2Fstein~If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8,openstack/nova,stable/stein,If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8,libvirt: flatten rbd images when unshelving an instance,MERGED,2019-06-28 09:07:48.000000000,2019-07-10 12:11:08.000000000,2019-06-28 23:22:21.000000000,"[{'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 11503}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-28 09:07:48.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/virt/libvirt/imagebackend.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e802ede4b30b21c7590620abc142300a57bcf349', 'message': 'libvirt: flatten rbd images when unshelving an instance\n\nPreviously attempts to remove the shelved snapshot of an unshelved\ninstance when using the rbd backends for both Nova and Glance would\nfail. This was due to the instance disk being cloned from and still\nreferencing the shelved snapshot image in Glance, blocking any attempt\nto remove this image later in the unshelve process.\n\nAfter much debate this change attempts to fix this issue by flattening\nthe instance disk while the instance is being spawned as part of an\nunshelve. For the rbd imagebackend this removes any reference to the\nshelved snapshot in Glance allowing this image to be removed. For all\nother imagebackends the call to flatten the image is currently a no-op.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n(cherry picked from commit d89e7d7857e0ab56c3b088338272c24d0618c07f)\n'}]",0,668118,e802ede4b30b21c7590620abc142300a57bcf349,14,6,1,10135,,,0,"libvirt: flatten rbd images when unshelving an instance

Previously attempts to remove the shelved snapshot of an unshelved
instance when using the rbd backends for both Nova and Glance would
fail. This was due to the instance disk being cloned from and still
referencing the shelved snapshot image in Glance, blocking any attempt
to remove this image later in the unshelve process.

After much debate this change attempts to fix this issue by flattening
the instance disk while the instance is being spawned as part of an
unshelve. For the rbd imagebackend this removes any reference to the
shelved snapshot in Glance allowing this image to be removed. For all
other imagebackends the call to flatten the image is currently a no-op.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Co-Authored-By: Vladyslav Drok <vdrok@mirantis.com>

Closes-Bug: #1653953
Change-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8
(cherry picked from commit d89e7d7857e0ab56c3b088338272c24d0618c07f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/668118/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/virt/libvirt/imagebackend.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,e802ede4b30b21c7590620abc142300a57bcf349,bug/1653953," 'vm_state': None, instance = objects.Instance(**self.test_instance) instance.vm_state = vm_states.BUILDING inst['vm_state'] = None def test_unshelve_noop_flatten_fetch_image_cache(self): instance = self._create_instance( params={'vm_state': vm_states.SHELVED_OFFLOADED}) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) mock_imagebackend = mock.Mock(spec=imagebackend.Lvm) mock_imagebackend.flatten.side_effect = NotImplementedError() # Assert that this doesn't raise NotImplementedError drvr._try_fetch_image_cache(mock_imagebackend, mock.sentinel.fetch, self.context, mock.sentinel.filename, uuids.image_id, instance, mock.sentinel.size) # Assert that we cache and then flatten the image when an instance is # still SHELVED_OFFLOADED during _try_fetch_image_cache. mock_imagebackend.cache.assert_called_once_with( fetch_func=mock.sentinel.fetch, context=self.context, filename=mock.sentinel.filename, image_id=uuids.image_id, size=mock.sentinel.size, trusted_certs=instance.trusted_certs) mock_imagebackend.flatten.assert_called_once() def test_unshelve_rbd_image_flatten_during_fetch_image_cache(self): instance = self._create_instance( params={'vm_state': vm_states.SHELVED_OFFLOADED}) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) mock_rbd_driver = mock.Mock(spec=rbd_utils.RBDDriver) mock_rbd_imagebackend = mock.Mock(spec=imagebackend.Rbd) mock_rbd_imagebackend.rbd_name = mock.sentinel.rbd_name mock_rbd_imagebackend.pool = mock.sentinel.rbd_pool # This is logged so we can't use a sentinel mock_rbd_imagebackend.path = 'rbd:pool/vol_disk' mock_rbd_imagebackend.driver = mock_rbd_driver mock_rbd_imagebackend.flatten.side_effect = \ imagebackend.Rbd.flatten(mock_rbd_imagebackend) drvr._try_fetch_image_cache(mock_rbd_imagebackend, mock.sentinel.fetch, self.context, mock.sentinel.filename, uuids.image_id, instance, mock.sentinel.size) # Assert that we cache and then flatten the image when an instance is # still SHELVED_OFFLOADED during _try_fetch_image_cache. mock_rbd_imagebackend.cache.assert_called_once_with( fetch_func=mock.sentinel.fetch, context=self.context, filename=mock.sentinel.filename, image_id=uuids.image_id, size=mock.sentinel.size, trusted_certs=instance.trusted_certs) mock_rbd_imagebackend.flatten.assert_called_once() mock_rbd_driver.flatten.assert_called_once_with( mock.sentinel.rbd_name, pool=mock.sentinel.rbd_pool) "," instance = objects.Instance(vm_state=vm_states.BUILDING, **self.test_instance)",89,2
openstack%2Ftripleo-ansible~master~I2f5813095cbadd999bc68235278a9da1f883e01e,openstack/tripleo-ansible,master,I2f5813095cbadd999bc68235278a9da1f883e01e,Add plugin documentation,MERGED,2019-07-09 20:24:15.000000000,2019-07-10 12:08:36.000000000,2019-07-10 12:08:36.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-09 20:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3f4604d368559cced08f71263a072b0c8df81722', 'message': ""Add plugin documentation\n\nThis change adds documentation for all of the plugins currently\nfound in the tripleo-ansible repo. This will provide for much\ngreater visability into what we're providing and will allow\nusers and developers to better understand how to consume\nthe available resources.\n\nChange-Id: I2f5813095cbadd999bc68235278a9da1f883e01e\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 2, 'created': '2019-07-10 01:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/33f3ce9b8ae284b99373e0132da4741e46665a95', 'message': ""Add plugin documentation\n\nThis change adds documentation for all of the plugins currently\nfound in the tripleo-ansible repo. This will provide for much\ngreater visability into what we're providing and will allow\nusers and developers to better understand how to consume\nthe available resources.\n\nChange-Id: I2f5813095cbadd999bc68235278a9da1f883e01e\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 3, 'created': '2019-07-10 01:33:39.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'doc/source/contributing.rst', 'doc/source/modules/calllback-json_error.rst', 'doc/source/conf.py', 'doc/source/modules/modules-podman_image.rst', 'doc/source/modules/action-package.rst', 'doc/source/_exts/ansible-module-autodoc.py', 'doc/source/index.rst', 'doc/source/modules/modules-podman_container.rst', 'doc/source/modules/modules-podman_image_facts.rst', 'doc/source/modules.rst', 'tox.ini', 'tripleo_ansible/ansible_plugins/action/package.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e25e9c8bc3d61268f686d5b24aae2258748c956a', 'message': ""Add plugin documentation\n\nThis change adds documentation for all of the plugins currently\nfound in the tripleo-ansible repo. This will provide for much\ngreater visability into what we're providing and will allow\nusers and developers to better understand how to consume\nthe available resources.\n\nChange-Id: I2f5813095cbadd999bc68235278a9da1f883e01e\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",2,669940,e25e9c8bc3d61268f686d5b24aae2258748c956a,16,6,3,7353,,,0,"Add plugin documentation

This change adds documentation for all of the plugins currently
found in the tripleo-ansible repo. This will provide for much
greater visability into what we're providing and will allow
users and developers to better understand how to consume
the available resources.

Change-Id: I2f5813095cbadd999bc68235278a9da1f883e01e
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/40/669940/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'doc/source/contributing.rst', 'doc/source/modules/calllback-json_error.rst', 'doc/source/conf.py', 'doc/source/modules/modules-podman_image.rst', 'doc/source/modules/action-package.rst', 'tripleo_ansible/ansible_plugins/callback/json_error.py', 'doc/source/index.rst', 'tripleo_ansible/ansible_plugins/modules/podman_image_facts.py', 'doc/source/modules/modules-podman_container.rst', 'tripleo_ansible/ansible_plugins/modules/podman_image.py', 'doc/source/modules/modules-podman_image_facts.rst', 'doc/source/modules.rst', 'tox.ini', 'tripleo_ansible/ansible_plugins/action/package.py']",15,3f4604d368559cced08f71263a072b0c8df81722,module-autodoc,"DOCUMENTATION = """""" --- module: package author: - Kevin Carter (@cloudnull) version_added: '2.8' short_description: Tripleo action plugin to evaluate package installations notes: [] description: - This is an action plugin shim that will intercept the use of the standard package module. The intention of this shim is to ensure the package module respects the option `tripleo_enable_package_install` which is used to control the installation of packages through a deployment. This plugin will do nothing if `tripleo_enable_package_install` is unset thereby allowing ansible to function normally. When the global option is present the plugin will evaluate its truthiness and react accordingly. * False - No action taken, task will be marked as skipped. * True - Package installation happens normally. If this module encounters an error while processesing the module will proceed as if the option `tripleo_enable_package_install` is unset which ensures ansible tasks are handled correctly no matter the context in which they are executed. Anytime this module results in a ""skip"" a message will be made available which indicates why it was skipped. Messages will only be visualized when debug mode has been enabled or through registering a variable and using it a task which can print messages; e.g. `debug` or `fail`. options: tripleo_enable_package_install: description: - Boolean option to enable or disable package installations. This option can be passed in as a task var, groupvar, or hostvar. This option is **NOT** a module argument. required: True default: True """""" EXAMPLES = """""" # Run package install - name: Run Package Installation package: name: mypackage state: present vars: tripleo_enable_package_install: true """""" class TripleoModuleDocs(object): import yaml doc = yaml.safe_load(DOCUMENTATION) __doc__ = '\n'.join(doc['description']) __doc__ = __doc__.replace('\n', '\n\n') class TripleoModuleExamples(object): import yaml doc = yaml.safe_load(EXAMPLES) __doc__ = ""Task Examples\n\n"" for i in doc: item = yaml.safe_dump( [i], default_flow_style=False ) item = item.replace(' ', ' ') __doc__ += "".. code-block:: yaml\n\n %s\n\n"" % item "," """"""Tripleo action plugin made to evaluate package installations. This is an action plugin shim that will intercept the use of the standard package module. The intention of this shim is to ensure the package module respects the option `tripleo_enable_package_install` which is used to control the installation of packages through a deployment. This plugin will do nothing if the option `tripleo_enable_package_install` is unset thereby allowing ansible to function normally. When the global option is present the plugin will evaluate its truthiness and react accordingly. * False: No action taken, task will be marked as skipped. * True: Package installation happens normally. If this module encounters an error while processesing the module will proceed as if the option `tripleo_enable_package_install` is unset which ensures ansible tasks are handled correctly no matter the context in which they are executed. Anytime this module results in a ""skip"" a message will be made available which indicates why it was skipped. Messages will only be visualized when debug mode has been enabled or through registering a variable and using it a task which can print messages; e.g. `debug` or `fail`. """""" ",304,29
openstack%2Fnova~master~I8278d4ea993ed1600919e34c9759600c8c7dbb41,openstack/nova,master,I8278d4ea993ed1600919e34c9759600c8c7dbb41,Fix GET /servers/detail host_status performance regression,MERGED,2019-06-18 16:21:22.000000000,2019-07-10 12:08:06.000000000,2019-07-09 22:49:16.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-18 16:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f3c0c6687fbae717e564e37f1c559f6965fe6e1', 'message': ""Fix GET /servers/detail host_status performance regression\n\nChange I82b11b8866ac82b05eae04351605d52fa8b91453 moved the\nhost_status extended server attribute processing from an\nextension to the main servers view builder. This, however,\ncaused a regression in the detailed listing of servers because\nit didn't incorporate the caching mechanism used previously\nby the extension so now for each server with details when\nmicroversion 2.16 or greater is used (and the request passes\nthe policy check), we get the host status per server even if\nwe have multiple servers on the same host.\n\nThis moves the host_status processing out of the show() method\nwhen listing servers with details and processes them in aggregate\nsimilar to security groups and attached volumes.\n\nOne catch is the show() method handles instances from down cells\nfor us so we have to handle that separately in the new host_status\nprocessing, but it's trivial (just don't get host_status for\ninstances without a host field set).\n\nTODO: before and after timings\n\nThis reverts commit 0cecd2ac324dc9a20e7d60987b9ef6e5082c426d.\n\nChange-Id: I8278d4ea993ed1600919e34c9759600c8c7dbb41\nCloses-Bug: #1830260\n""}, {'number': 2, 'created': '2019-06-18 18:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21ecd328144cd51b4c66c5681860f2a490c86d95', 'message': ""Fix GET /servers/detail host_status performance regression\n\nChange I82b11b8866ac82b05eae04351605d52fa8b91453 moved the\nhost_status extended server attribute processing from an\nextension to the main servers view builder. This, however,\ncaused a regression in the detailed listing of servers because\nit didn't incorporate the caching mechanism used previously\nby the extension so now for each server with details when\nmicroversion 2.16 or greater is used (and the request passes\nthe policy check), we get the host status per server even if\nwe have multiple servers on the same host.\n\nThis moves the host_status processing out of the show() method\nwhen listing servers with details and processes them in aggregate\nsimilar to security groups and attached volumes.\n\nOne catch is the show() method handles instances from down cells\nfor us so we have to handle that separately in the new host_status\nprocessing, but it's trivial (just don't get host_status for\ninstances without a host field set).\n\nThis reverts commit 0cecd2ac324dc9a20e7d60987b9ef6e5082c426d.\n\nChange-Id: I8278d4ea993ed1600919e34c9759600c8c7dbb41\nCloses-Bug: #1830260\n""}, {'number': 3, 'created': '2019-07-03 21:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed05b7078a810d33eaa6711d4909ecbc6bb9d9ef', 'message': ""Fix GET /servers/detail host_status performance regression\n\nChange I82b11b8866ac82b05eae04351605d52fa8b91453 moved the\nhost_status extended server attribute processing from an\nextension to the main servers view builder. This, however,\ncaused a regression in the detailed listing of servers because\nit didn't incorporate the caching mechanism used previously\nby the extension so now for each server with details when\nmicroversion 2.16 or greater is used (and the request passes\nthe policy check), we get the host status per server even if\nwe have multiple servers on the same host.\n\nThis moves the host_status processing out of the show() method\nwhen listing servers with details and processes them in aggregate\nsimilar to security groups and attached volumes.\n\nOne catch is the show() method handles instances from down cells\nfor us so we have to handle that separately in the new host_status\nprocessing, but it's trivial (just don't get host_status for\ninstances without a host field set).\n\nThis reverts commit 0cecd2ac324dc9a20e7d60987b9ef6e5082c426d.\n\nChange-Id: I8278d4ea993ed1600919e34c9759600c8c7dbb41\nCloses-Bug: #1830260\n""}, {'number': 4, 'created': '2019-07-04 01:22:11.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/api/openstack/compute/views/servers.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ab7d923ae7ed4d7525649bc16ff012c1bedca0f5', 'message': ""Fix GET /servers/detail host_status performance regression\n\nChange I82b11b8866ac82b05eae04351605d52fa8b91453 moved the\nhost_status extended server attribute processing from an\nextension to the main servers view builder. This, however,\ncaused a regression in the detailed listing of servers because\nit didn't incorporate the caching mechanism used previously\nby the extension so now for each server with details when\nmicroversion 2.16 or greater is used (and the request passes\nthe policy check), we get the host status per server even if\nwe have multiple servers on the same host.\n\nThis moves the host_status processing out of the show() method\nwhen listing servers with details and processes them in aggregate\nsimilar to security groups and attached volumes.\n\nOne catch is the show() method handles instances from down cells\nfor us so we have to handle that separately in the new host_status\nprocessing, but it's trivial (just don't get host_status for\ninstances without a host field set).\n\nThis reverts commit 0cecd2ac324dc9a20e7d60987b9ef6e5082c426d.\n\nChange-Id: I8278d4ea993ed1600919e34c9759600c8c7dbb41\nCloses-Bug: #1830260\n""}]",11,666042,ab7d923ae7ed4d7525649bc16ff012c1bedca0f5,65,17,4,6873,,,0,"Fix GET /servers/detail host_status performance regression

Change I82b11b8866ac82b05eae04351605d52fa8b91453 moved the
host_status extended server attribute processing from an
extension to the main servers view builder. This, however,
caused a regression in the detailed listing of servers because
it didn't incorporate the caching mechanism used previously
by the extension so now for each server with details when
microversion 2.16 or greater is used (and the request passes
the policy check), we get the host status per server even if
we have multiple servers on the same host.

This moves the host_status processing out of the show() method
when listing servers with details and processes them in aggregate
similar to security groups and attached volumes.

One catch is the show() method handles instances from down cells
for us so we have to handle that separately in the new host_status
processing, but it's trivial (just don't get host_status for
instances without a host field set).

This reverts commit 0cecd2ac324dc9a20e7d60987b9ef6e5082c426d.

Change-Id: I8278d4ea993ed1600919e34c9759600c8c7dbb41
Closes-Bug: #1830260
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/666042/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/api/openstack/compute/views/servers.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/compute/api.py']",4,9f3c0c6687fbae717e564e37f1c559f6965fe6e1,bug/1830260," def get_instances_host_statuses(self, instance_list): host_status_dict = dict() host_statuses = dict() for instance in instance_list: if instance.host: if instance.host not in host_status_dict: host_status = self.get_instance_host_status(instance) host_status_dict[instance.host] = host_status else: host_status = host_status_dict[instance.host] else: host_status = fields_obj.HostStatus.NONE host_statuses[instance.uuid] = host_status return host_statuses ",,98,5
openstack%2Fnova~master~I2efb833c6f18b13f86abc6c62bcf2c6f77aa15c1,openstack/nova,master,I2efb833c6f18b13f86abc6c62bcf2c6f77aa15c1,Follow up for pre-filter-disabled-computes series,MERGED,2019-07-03 19:56:14.000000000,2019-07-10 12:08:02.000000000,2019-07-09 17:54:05.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-03 19:56:14.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'doc/source/admin/configuration/schedulers.rst', 'nova/tests/unit/compute/test_host_api.py', 'nova/compute/manager.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/12a6fe57b9f04630480f9bb8927ccdc48d319a08', 'message': 'Follow up for pre-filter-disabled-computes series\n\nThis is a collection of follow up changes from the\npatches in the series.\n\n* https://review.opendev.org/#/c/668565/1/nova/tests/unit/compute/test_resource_tracker.py\n* https://review.opendev.org/#/c/668707/1/nova/virt/libvirt/driver.py\n* https://review.opendev.org/#/c/668743/1/nova/compute/manager.py@5020\n* https://review.opendev.org/#/c/668752/1/doc/source/admin/configuration/schedulers.rst\n* https://review.opendev.org/#/c/654596/8/nova/compute/api.py\n\nRelated to blueprint pre-filter-disabled-computes\n\nChange-Id: I2efb833c6f18b13f86abc6c62bcf2c6f77aa15c1\n'}]",0,668986,12a6fe57b9f04630480f9bb8927ccdc48d319a08,23,12,1,6873,,,0,"Follow up for pre-filter-disabled-computes series

This is a collection of follow up changes from the
patches in the series.

* https://review.opendev.org/#/c/668565/1/nova/tests/unit/compute/test_resource_tracker.py
* https://review.opendev.org/#/c/668707/1/nova/virt/libvirt/driver.py
* https://review.opendev.org/#/c/668743/1/nova/compute/manager.py@5020
* https://review.opendev.org/#/c/668752/1/doc/source/admin/configuration/schedulers.rst
* https://review.opendev.org/#/c/654596/8/nova/compute/api.py

Related to blueprint pre-filter-disabled-computes

Change-Id: I2efb833c6f18b13f86abc6c62bcf2c6f77aa15c1
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/668986/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'doc/source/admin/configuration/schedulers.rst', 'nova/compute/manager.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/compute/api.py']",6,12a6fe57b9f04630480f9bb8927ccdc48d319a08,bp/pre-filter-disabled-computes," LOG.exception('An error occurred while updating the ' 'COMPUTE_STATUS_DISABLED trait on compute node ' 'resource providers managed by host %s. The trait ' 'will be synchronized automatically by the compute ' 'service when the update_available_resource ' 'periodic task runs.', service.host)"," LOG.exception('An error occurred while updating host enabled ' 'status to ""%s"" for compute host: %s', 'enabled' if enabled else 'disabled', service.host)",37,24
openstack%2Fnova~stable%2Fqueens~I5f8e4d32c6a1d6b61396b4fa11c5d776f432df0c,openstack/nova,stable/queens,I5f8e4d32c6a1d6b61396b4fa11c5d776f432df0c,Init HostState.failed_builds,MERGED,2019-07-03 14:01:27.000000000,2019-07-10 12:07:57.000000000,2019-07-04 17:10:50.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-03 14:01:27.000000000', 'files': ['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9bc95675325498a7d30b67089e19b5b953d77e75', 'message': 'Init HostState.failed_builds\n\nIf _update_from_compute_node returns early and the HostState is\nnot filtered out we can hit an AttributeError in the\nBuildFailureWeigher because the failed_builds attribute is not\nset. This simply initializes the attribute like the other stats\nfields.\n\nChange-Id: I5f8e4d32c6a1d6b61396b4fa11c5d776f432df0c\nCloses-Bug: #1834691\n(cherry picked from commit d540903463aa9b0cf69cefac7cc60e5b70e40a1c)\n(cherry picked from commit 725b37f515e4ad01e1f4491b6d8137ce1416f6d6)\n(cherry picked from commit 5acbea506a137492511a762e454d785810365bd8)\n'}]",0,668911,9bc95675325498a7d30b67089e19b5b953d77e75,14,7,1,6873,,,0,"Init HostState.failed_builds

If _update_from_compute_node returns early and the HostState is
not filtered out we can hit an AttributeError in the
BuildFailureWeigher because the failed_builds attribute is not
set. This simply initializes the attribute like the other stats
fields.

Change-Id: I5f8e4d32c6a1d6b61396b4fa11c5d776f432df0c
Closes-Bug: #1834691
(cherry picked from commit d540903463aa9b0cf69cefac7cc60e5b70e40a1c)
(cherry picked from commit 725b37f515e4ad01e1f4491b6d8137ce1416f6d6)
(cherry picked from commit 5acbea506a137492511a762e454d785810365bd8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/668911/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py']",2,9bc95675325498a7d30b67089e19b5b953d77e75,bug/1834691, self.failed_builds = 0,,3,0
openstack%2Fnova~master~If32bca070185937ef83f689b7163d965a89ec10a,openstack/nova,master,If32bca070185937ef83f689b7163d965a89ec10a,Sync COMPUTE_STATUS_DISABLED from API,MERGED,2019-04-22 18:16:36.000000000,2019-07-10 12:07:53.000000000,2019-07-09 17:32:02.000000000,"[{'_account_id': 2033}, {'_account_id': 2394}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 26936}, {'_account_id': 27076}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-04-22 18:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/051260b0ddc1488ed946d395f48becc4651002f4', 'message': ""WIP: Add placement request filter for disabled computes\n\nThis plumbs code into the compute service, API and\nscheduler to essentially write a placement request filter\nreplacement for the ComputeFilter so that disabled computes\ncan be filtered out of GET /allocation_candidates responses\nbefore the scheduler filters process the results.\n\nThere are a few moving parts here.\n\nAPI\n===\n\nThe now deprecated PUT /os-hosts/{host_name} API, which\nwas only implemented for the XenAPI driver, had a\nsynchronous set_host_enabled compute call from the API\ndown to the compute service. We re-use that here for the\nos-services API when a compute service status changes,\ni.e. enabled <> disabled and/or forced-down to not forced-down.\n\nCompute\n=======\n\nThe compute service set_host_enabled method is updated to\nlookup the compute node(s) for the service and if the service\nis disabled, adds a trait to the corresponding trait to the\ncompute node resource provider to indicate it's disabled. If\nthe service is no longer disabled (or forced down) then the\ntrait is removed.\n\nLibvirt driver\n==============\n\nThe libvirt driver is the only driver that has its own\nautomatic compute service disable code when the connection\nto the libvirt service is lost (or reconnected). This method\nis updated to hook back into the same code that the compute\nservice uses via a new method on the ComputeVirtAPI.\n\nScheduler\n=========\n\nThe scheduler gains a new placement request filter which, when\nenabled, will filter out resource providers with the disabled\ntrait using forbidden traits syntax on the GET /a_c request.\n\n--\n\nTODO:\n\n- lots more testing\n- figure out what to do about handling upgrade issues (old computes\n  and such)\n- split out the changes into a series of smaller patches\n- register a blueprint and spec to document the design and alternatives\n- release note and docs for the new request filter\n\nChange-Id: If32bca070185937ef83f689b7163d965a89ec10a\nCloses-Bug: #1805984\n""}, {'number': 2, 'created': '2019-04-29 22:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c1c1c5a8c0ef169daddfdba1c18c2bed4b1cd25', 'message': ""WIP: Add placement request filter for disabled computes\n\nThis plumbs code into the compute service, API and\nscheduler to essentially write a placement request filter\nreplacement for the ComputeFilter so that disabled computes\ncan be filtered out of GET /allocation_candidates responses\nbefore the scheduler filters process the results.\n\nThere are a few moving parts here.\n\nAPI\n===\n\nThe now deprecated PUT /os-hosts/{host_name} API, which\nwas only implemented for the XenAPI driver, had a\nsynchronous set_host_enabled compute call from the API\ndown to the compute service. We re-use that here for the\nos-services API when a compute service status changes,\ni.e. enabled <> disabled and/or forced-down to not forced-down.\n\nCompute\n=======\n\nThe compute service set_host_enabled method is updated to\nlookup the compute node(s) for the service and if the service\nis disabled, adds a trait to the corresponding compute node\nresource provider to indicate it's disabled. If the service\nis no longer disabled (or forced down) then the trait is\nremoved.\n\nLibvirt driver\n==============\n\nThe libvirt driver is the only driver that has its own\nautomatic compute service disable code when the connection\nto the hypervisor is lost (or reconnected). This method\nis updated to hook back into the same code that the compute\nservice uses via a new method on the ComputeVirtAPI.\n\nScheduler\n=========\n\nThe scheduler gains a new placement request filter which, when\nenabled, will filter out resource providers with the disabled\ntrait using forbidden traits syntax on the GET /a_c request.\n\n--\n\nTODO:\n\n- lots more testing\n- figure out what to do about handling upgrade issues (old computes\n  and such)\n- split out the changes into a series of smaller patches\n- register a blueprint and spec to document the design and alternatives\n- release note and docs for the new request filter\n\nChange-Id: If32bca070185937ef83f689b7163d965a89ec10a\nCloses-Bug: #1805984\n""}, {'number': 3, 'created': '2019-06-24 20:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f658668c5dff7031f519a6c92866e556503e0274', 'message': ""WIP: Add placement request filter for disabled computes\n\nThis plumbs code into the compute service, API and\nscheduler to essentially write a placement request filter\nreplacement for the ComputeFilter so that disabled computes\ncan be filtered out of GET /allocation_candidates responses\nbefore the scheduler filters process the results.\n\nThere are a few moving parts here.\n\nAPI\n===\n\nThe now deprecated PUT /os-hosts/{host_name} API, which\nwas only implemented for the XenAPI driver, had a\nsynchronous set_host_enabled compute call from the API\ndown to the compute service. We re-use that here for the\nos-services API when a compute service status changes,\ni.e. enabled <> disabled and/or forced-down to not forced-down.\n\nCompute\n=======\n\nThe compute service set_host_enabled method is updated to\nlookup the compute node(s) for the service and if the service\nis disabled, adds a trait to the corresponding compute node\nresource provider to indicate it's disabled. If the service\nis no longer disabled (or forced down) then the trait is\nremoved.\n\nLibvirt driver\n==============\n\nThe libvirt driver is the only driver that has its own\nautomatic compute service disable code when the connection\nto the hypervisor is lost (or reconnected). This method\nis updated to hook back into the same code that the compute\nservice uses via a new method on the ComputeVirtAPI.\n\nScheduler\n=========\n\nThe scheduler gains a new placement request filter which, when\nenabled, will filter out resource providers with the disabled\ntrait using forbidden traits syntax on the GET /a_c request.\n\n--\n\nTODO:\n\n- lots more testing\n- figure out what to do about handling upgrade issues (old computes\n  and such)\n- split out the changes into a series of smaller patches\n- register a blueprint and spec to document the design and alternatives\n- release note and docs for the new request filter\n\nChange-Id: If32bca070185937ef83f689b7163d965a89ec10a\nCloses-Bug: #1805984\n""}, {'number': 4, 'created': '2019-06-24 21:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5800435cc3690f3764b6489db841fc58682be361', 'message': ""WIP: Add placement request filter for disabled computes\n\nThis plumbs code into the compute service, API and\nscheduler to essentially write a placement request filter\nreplacement for the ComputeFilter so that disabled computes\ncan be filtered out of GET /allocation_candidates responses\nbefore the scheduler filters process the results.\n\nThere are a few moving parts here.\n\nAPI\n===\n\nThe now deprecated PUT /os-hosts/{host_name} API, which\nwas only implemented for the XenAPI driver, had a\nsynchronous set_host_enabled compute call from the API\ndown to the compute service. We re-use that here for the\nos-services API when a compute service status changes,\ni.e. enabled <> disabled and/or forced-down to not forced-down.\n\nCompute\n=======\n\nThe compute service set_host_enabled method is updated to\nlookup the compute node(s) for the service and if the service\nis disabled, adds a trait to the corresponding compute node\nresource provider to indicate it's disabled. If the service\nis no longer disabled (or forced down) then the trait is\nremoved.\n\nLibvirt driver\n==============\n\nThe libvirt driver is the only driver that has its own\nautomatic compute service disable code when the connection\nto the hypervisor is lost (or reconnected). This method\nis updated to hook back into the same code that the compute\nservice uses via a new method on the ComputeVirtAPI.\n\nScheduler\n=========\n\nThe scheduler gains a new placement request filter which, when\nenabled, will filter out resource providers with the disabled\ntrait using forbidden traits syntax on the GET /a_c request.\n\n--\n\nTODO:\n\n- lots more testing\n- figure out what to do about handling upgrade issues (old computes\n  and such)\n- split out the changes into a series of smaller patches\n- register a blueprint and spec to document the design and alternatives\n- release note and docs for the new request filter\n\nChange-Id: If32bca070185937ef83f689b7163d965a89ec10a\nCloses-Bug: #1805984\n""}, {'number': 5, 'created': '2019-06-25 21:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8df89ccfd6b418a57c78d401d2c156d10acef569', 'message': ""WIP: Add placement request filter for disabled computes\n\nThis plumbs code into the compute service, API and\nscheduler to essentially write a placement request filter\nreplacement for the ComputeFilter so that disabled computes\ncan be filtered out of GET /allocation_candidates responses\nbefore the scheduler filters process the results.\n\nThere are a few moving parts here.\n\nAPI\n===\n\nThe now deprecated PUT /os-hosts/{host_name} API, which\nwas only implemented for the XenAPI driver, had a\nsynchronous set_host_enabled compute call from the API\ndown to the compute service. We re-use that here for the\nos-services API when a compute service status changes,\ni.e. enabled <> disabled and/or forced-down to not forced-down.\n\nCompute\n=======\n\nThe compute service set_host_enabled method is updated to\nlookup the compute node(s) for the service and if the service\nis disabled, adds a trait to the corresponding compute node\nresource provider to indicate it's disabled. If the service\nis no longer disabled (or forced down) then the trait is\nremoved.\n\nLibvirt driver\n==============\n\nThe libvirt driver is the only driver that has its own\nautomatic compute service disable code when the connection\nto the hypervisor is lost (or reconnected). This method\nis updated to hook back into the same code that the compute\nservice uses via a new method on the ComputeVirtAPI.\n\nScheduler\n=========\n\nThe scheduler gains a new placement request filter which, when\nenabled, will filter out resource providers with the disabled\ntrait using forbidden traits syntax on the GET /a_c request.\n\n--\n\nTODO:\n\n- lots more testing\n- split out the changes into a series of smaller patches\n\nChange-Id: If32bca070185937ef83f689b7163d965a89ec10a\nCloses-Bug: #1805984\n""}, {'number': 6, 'created': '2019-06-28 00:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ec92b8b2d6277d4c58c99e244aa191692ec48b8', 'message': ""WIP: Add placement request filter for disabled computes\n\nThis plumbs code into the compute service, API and\nscheduler to essentially write a placement request filter\nreplacement for the ComputeFilter so that disabled computes\ncan be filtered out of GET /allocation_candidates responses\nbefore the scheduler filters process the results.\n\nThere are a few moving parts here.\n\nAPI\n===\n\nThe now deprecated PUT /os-hosts/{host_name} API, which\nwas only implemented for the XenAPI driver, had a\nsynchronous set_host_enabled compute call from the API\ndown to the compute service. We re-use that here for the\nos-services API when a compute service status changes,\ni.e. enabled <> disabled and/or forced-down to not forced-down.\n\nCompute\n=======\n\nThe compute service set_host_enabled method is updated to\nlookup the compute node(s) for the service and if the service\nis disabled, adds a trait to the corresponding compute node\nresource provider to indicate it's disabled. If the service\nis no longer disabled (or forced down) then the trait is\nremoved.\n\nLibvirt driver\n==============\n\nThe libvirt driver is the only driver that has its own\nautomatic compute service disable code when the connection\nto the hypervisor is lost (or reconnected). This method\nis updated to hook back into the same code that the compute\nservice uses via a new method on the ComputeVirtAPI.\n\nScheduler\n=========\n\nThe scheduler gains a new placement request filter which, when\nenabled, will filter out resource providers with the disabled\ntrait using forbidden traits syntax on the GET /a_c request.\n\n--\n\nTODO:\n\n- lots more testing\n- split out the changes into a series of smaller patches\n- depend on the release that has https://review.opendev.org/667209/\n\nChange-Id: If32bca070185937ef83f689b7163d965a89ec10a\nCloses-Bug: #1805984\n""}, {'number': 7, 'created': '2019-06-29 02:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92b30134f02a1e0dd492461ca6cb27fb60abedf0', 'message': ""WIP: Add placement request filter for disabled computes\n\nThis plumbs code into the compute service, API and\nscheduler to essentially write a placement request filter\nreplacement for the ComputeFilter so that disabled computes\ncan be filtered out of GET /allocation_candidates responses\nbefore the scheduler filters process the results.\n\nThere are a few moving parts here.\n\nAPI\n===\n\nThe now deprecated PUT /os-hosts/{host_name} API, which\nwas only implemented for the XenAPI driver, had a\nsynchronous set_host_enabled compute call from the API\ndown to the compute service. We re-use that here for the\nos-services API when a compute service status changes,\ni.e. enabled <> disabled and/or forced-down to not forced-down.\n\nCompute\n=======\n\nThe compute service set_host_enabled method is updated to\nlookup the compute node(s) for the service and if the service\nis disabled, adds a trait to the corresponding compute node\nresource provider to indicate it's disabled. If the service\nis no longer disabled (or forced down) then the trait is\nremoved.\n\nLibvirt driver\n==============\n\nThe libvirt driver is the only driver that has its own\nautomatic compute service disable code when the connection\nto the hypervisor is lost (or reconnected). This method\nis updated to hook back into the same code that the compute\nservice uses via a new method on the ComputeVirtAPI.\n\nScheduler\n=========\n\nThe scheduler gains a new placement request filter which, when\nenabled, will filter out resource providers with the disabled\ntrait using forbidden traits syntax on the GET /a_c request.\n\n--\n\nTODO:\n\n- lots more testing\n- split out the changes into a series of smaller patches\n\nChange-Id: If32bca070185937ef83f689b7163d965a89ec10a\nCloses-Bug: #1805984\n""}, {'number': 8, 'created': '2019-07-02 23:06:54.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/functional/api_sample_tests/test_services.py', 'nova/tests/functional/wsgi/test_services.py', 'nova/conf/rpc.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/compute/rpcapi.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3f0605c28987f46cf4a05af0140e2e5de7d5ad0a', 'message': ""Sync COMPUTE_STATUS_DISABLED from API\n\nThis adds the os-services API change which will\ncall the compute service when the service's disabled\nvalue changes to sync the COMPUTE_STATUS_DISABLED trait\non the compute node resource providers managed by the\nupdated compute service.\n\nIf the compute service is down or not yet upgraded to\nthe service version from change\nIa95de2f23f12b002b2189c9294ec190569a628ab then the\nAPI will not call the service. In this case the change\nfrom I3005b46221ac3c0e559e1072131a7e4846c9867c will\nsync the trait when the compute service is restarted.\n\nSince the compute service could be running the ironic\ndriver and managing hundreds or over 1000 compute nodes,\nthe set_host_enabled RPC call now uses the long_rpc_timeout\nconfiguration option.\n\nA functional test is added which covers the 2.53+\nPUT /os-services/{service_id} API and pre-2.53 os-services\nAPIs for enabling/disabling and forcing down a service.\nThe functional test also covers the sync-on-restart behavior\nfrom change I3005b46221ac3c0e559e1072131a7e4846c9867c.\nThe scheduler pre-filter added in change\nI317cabbe49a337848325f96df79d478fd65811d9 is also tested\nas part of the functional test.\n\nCloses-Bug: #1805984\n\nImplements blueprint pre-filter-disabled-computes\n\nChange-Id: If32bca070185937ef83f689b7163d965a89ec10a\n""}]",40,654596,3f0605c28987f46cf4a05af0140e2e5de7d5ad0a,124,26,8,6873,,,0,"Sync COMPUTE_STATUS_DISABLED from API

This adds the os-services API change which will
call the compute service when the service's disabled
value changes to sync the COMPUTE_STATUS_DISABLED trait
on the compute node resource providers managed by the
updated compute service.

If the compute service is down or not yet upgraded to
the service version from change
Ia95de2f23f12b002b2189c9294ec190569a628ab then the
API will not call the service. In this case the change
from I3005b46221ac3c0e559e1072131a7e4846c9867c will
sync the trait when the compute service is restarted.

Since the compute service could be running the ironic
driver and managing hundreds or over 1000 compute nodes,
the set_host_enabled RPC call now uses the long_rpc_timeout
configuration option.

A functional test is added which covers the 2.53+
PUT /os-services/{service_id} API and pre-2.53 os-services
APIs for enabling/disabling and forcing down a service.
The functional test also covers the sync-on-restart behavior
from change I3005b46221ac3c0e559e1072131a7e4846c9867c.
The scheduler pre-filter added in change
I317cabbe49a337848325f96df79d478fd65811d9 is also tested
as part of the functional test.

Closes-Bug: #1805984

Implements blueprint pre-filter-disabled-computes

Change-Id: If32bca070185937ef83f689b7163d965a89ec10a
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/654596/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/objects/service.py', 'nova/tests/functional/wsgi/test_services.py', 'nova/scheduler/client/report.py', 'nova/scheduler/request_filter.py', 'nova/api/openstack/compute/services.py', 'nova/compute/manager.py', 'nova/compute/api.py']",8,051260b0ddc1488ed946d395f48becc4651002f4,bp/pre-filter-disabled-computes," def update_compute_node_status_in_placement(self, context, service): """"""todo docstring"""""" # If the disabled or forced_down values change we need to RPC call the # compute service to enable/disable the associated compute node # resource provider(s) in placement. Check this before save() which # will reset the changed fields. # TODO(mriedem): The tight coupling of making sure to call this after # changing fields on the Service object but before save() is called is # pretty gross. Should we do this from Service.save() directly by # passing in an optional compute RPC API client? changes = service.obj_what_changed() update_placement = any(field in changes for field in ('disabled', 'forced_down')) if update_placement: # Treat forced_down=True as disabled since that's what the # service group API does with it. enabled = not (service.disabled or service.forced_down) # Avoid leaking errors out of the API. try: # TODO(mriedem): What if we're doing a rolling upgrade and the # compute RPC API version is pinned or the compute is old and # doesn't have the new behavior? Should we temporarily do the # resource provider traits work here? Or just say it's a known # issue and not entirely fixed until you're fully upgraded (we # could at least log something by doing a version check on the # service object). self.rpcapi.set_host_enabled(context, service.host, enabled) except NotImplementedError: # Older non-xenapi computes will raise NotImplementedError for # driver.set_host_enabled. It should be safe to remove this # after Train. pass except Exception: # TODO(mriedem): What if we lost a race with the service going # down and we could not make the RPC call? Seems we should try # to set/unset the disabled trait here. # TODO(mriedem): Maybe we should let this be a 500 so that the # nova and placement view of the status is not out of sync. LOG.exception('An error occurred while updating host enabled ' 'status to ""%s"" for compute host: %s', 'enabled' if enabled else 'disabled', service.host) # Before persisting changes and resetting changed fields on the # Service object, potentially RPC call the compute service to # modify the disabled trait on the compute node resource provider(s). self.update_compute_node_status_in_placement(context, service) # We wait to persist the change until after we've made the change in # compute to avoid the nova and placement view of the status getting # out of sync.",,263,14
openstack%2Fnova~master~Id916ccd21542c90bf80caec246dfdba72a9c58b8,openstack/nova,master,Id916ccd21542c90bf80caec246dfdba72a9c58b8,Refactor HostAPI.service_update,MERGED,2019-07-02 20:42:11.000000000,2019-07-10 12:07:48.000000000,2019-07-09 17:31:54.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-02 20:42:11.000000000', 'files': ['nova/tests/unit/compute/test_host_api.py', 'nova/api/openstack/compute/services.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1c5144330412aa57d39df60ab62ba14ac636c416', 'message': ""Refactor HostAPI.service_update\n\nChange If32bca070185937ef83f689b7163d965a89ec10a is going to\nreflect a compute service's disabled status with the\nCOMPUTE_STATUS_DISABLED trait in placement. This change\ndoes some prep work so that a common method in the HostAPI\n(service_update) can be used to abstract that for pre-2.53\nand post-2.53 service update APIs.\n\nIn the pre-2.53 case, the Service is retrieved using the\nhost and binary which requires looking up the HostMapping.\nIn the post-2.53 case, we already have the Service object and\njust need to save the changes.\n\nPart of blueprint pre-filter-disabled-computes\n\nChange-Id: Id916ccd21542c90bf80caec246dfdba72a9c58b8\n""}]",0,668756,1c5144330412aa57d39df60ab62ba14ac636c416,27,13,1,6873,,,0,"Refactor HostAPI.service_update

Change If32bca070185937ef83f689b7163d965a89ec10a is going to
reflect a compute service's disabled status with the
COMPUTE_STATUS_DISABLED trait in placement. This change
does some prep work so that a common method in the HostAPI
(service_update) can be used to abstract that for pre-2.53
and post-2.53 service update APIs.

In the pre-2.53 case, the Service is retrieved using the
host and binary which requires looking up the HostMapping.
In the post-2.53 case, we already have the Service object and
just need to save the changes.

Part of blueprint pre-filter-disabled-computes

Change-Id: Id916ccd21542c90bf80caec246dfdba72a9c58b8
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/668756/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/services.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/compute/api.py']",3,1c5144330412aa57d39df60ab62ba14ac636c416,bp/pre-filter-disabled-computes," def service_update(self, context, service): """"""Performs the actual service update operation. :param context: nova auth RequestContext :param service: nova.objects.Service object with changes already set on the object """""" # TODO(mriedem): Reflect COMPUTE_STATUS_DISABLED trait changes to the # associated compute node resource providers if the service's disabled # status changed. def service_update_by_host_and_binary(self, context, host_name, binary, params_to_update): Determines the cell that the service is in using the HostMapping. See also ``service_update``. :param context: nova auth RequestContext :param host_name: hostname of the service :param binary: service binary (really only supports ""nova-compute"") :param params_to_update: dict of changes to make to the Service object :raises: HostMappingNotFound if the host is not mapped to a cell :raises: HostBinaryNotFound if a services table record is not found with the given host_name and binary # TODO(mriedem): Service.get_by_args is deprecated; we should use # get_by_compute_host here (remember to update the ""raises"" docstring). service = objects.Service.get_by_args(context, host_name, binary) service.update(params_to_update) return self.service_update(context, service)"," def _service_update(self, context, host_name, binary, params_to_update): """"""Performs the actual service update operation."""""" service = objects.Service.get_by_args(context, host_name, binary) service.update(params_to_update) def service_update(self, context, host_name, binary, params_to_update): return self._service_update(context, host_name, binary, params_to_update)",34,11
openstack%2Fnova~master~Ifabbb543aab62b917394eefe48126231df7cd503,openstack/nova,master,Ifabbb543aab62b917394eefe48126231df7cd503,libvirt: manage COMPUTE_STATUS_DISABLED for hypervisor connection,MERGED,2019-07-02 16:36:51.000000000,2019-07-10 12:07:27.000000000,2019-07-09 05:19:09.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23312}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-02 16:36:51.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9b99be44cdd116b973667ca001cb38896f34f451', 'message': 'libvirt: manage COMPUTE_STATUS_DISABLED for hypervisor connection\n\nThe libvirt driver has a callback method for when the hypervisor\nconnection drops and is re-connected which mirrors those changes\nin the related compute Service record\'s ""disabled"" field.\n\nThis builds on that by hooking back into the ComputeVirtAPI\nupdate_compute_provider_status method when the Service.disabled\nvalue changes so the COMPUTE_STATUS_DISABLED trait can be added\nto or removed from the related compute node resource provider.\n\nPart of blueprint pre-filter-disabled-computes\n\nChange-Id: Ifabbb543aab62b917394eefe48126231df7cd503\n'}]",6,668707,9b99be44cdd116b973667ca001cb38896f34f451,56,19,1,6873,,,0,"libvirt: manage COMPUTE_STATUS_DISABLED for hypervisor connection

The libvirt driver has a callback method for when the hypervisor
connection drops and is re-connected which mirrors those changes
in the related compute Service record's ""disabled"" field.

This builds on that by hooking back into the ComputeVirtAPI
update_compute_provider_status method when the Service.disabled
value changes so the COMPUTE_STATUS_DISABLED trait can be added
to or removed from the related compute node resource provider.

Part of blueprint pre-filter-disabled-computes

Change-Id: Ifabbb543aab62b917394eefe48126231df7cd503
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/668707/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,9b99be44cdd116b973667ca001cb38896f34f451,bp/pre-filter-disabled-computes," with mock.patch.object( drvr, '_update_compute_provider_status') as ucps: drvr._set_host_enabled(False) ucps.assert_called_once_with( test.MatchType(context.RequestContext), svc) with mock.patch.object( drvr, '_update_compute_provider_status') as ucps: drvr._set_host_enabled(True) ucps.assert_not_called() with mock.patch.object( drvr, '_update_compute_provider_status') as ucps: drvr._set_host_enabled(True) ucps.assert_not_called() with mock.patch.object( drvr, '_update_compute_provider_status') as ucps: drvr._set_host_enabled(False) ucps.assert_not_called() def test_update_compute_provider_status(self): """"""Tests happy path of calling _update_compute_provider_status"""""" virtapi = mock.Mock() drvr = libvirt_driver.LibvirtDriver(virtapi, read_only=True) ctxt = context.get_admin_context() service = self._create_service() service.compute_node = objects.ComputeNode(uuid=uuids.rp_uuid) drvr._update_compute_provider_status(ctxt, service) virtapi.update_compute_provider_status.assert_called_once_with( ctxt, uuids.rp_uuid, enabled=not service.disabled) def test_update_compute_provider_status_swallows_exceptions(self): """"""Tests error path handling in _update_compute_provider_status"""""" # First we'll make Service.compute_node loading raise an exception # by not setting the field and we cannot lazy-load it from an orphaned # Service object. virtapi = mock.Mock() drvr = libvirt_driver.LibvirtDriver(virtapi, read_only=True) ctxt = context.get_admin_context() service = self._create_service(host='fake-host', disabled=True) drvr._update_compute_provider_status(ctxt, service) virtapi.update_compute_provider_status.assert_not_called() self.assertIn('An error occurred while updating compute node resource ' 'provider status to ""disabled"" for provider: fake-host', self.stdlog.logger.output) # Now fix Service.compute_node loading but make the VirtAPI call fail. service.compute_node = objects.ComputeNode(uuid=uuids.rp_uuid) service.disabled = False # make sure the log message logic works error = exception.TraitRetrievalFailed(error='oops') virtapi.update_compute_provider_status.side_effect = error drvr._update_compute_provider_status(ctxt, service) virtapi.update_compute_provider_status.assert_called_once_with( ctxt, uuids.rp_uuid, enabled=True) log_output = self.stdlog.logger.output self.assertIn('An error occurred while updating compute node resource ' 'provider status to ""enabled"" for provider: %s' % uuids.rp_uuid, log_output) # The error should have been logged as well. self.assertIn(six.text_type(error), log_output) ", drvr._set_host_enabled(False) drvr._set_host_enabled(True) drvr._set_host_enabled(True) drvr._set_host_enabled(False),80,4
openstack%2Fnova~stable%2Fstein~I3bf5587c3a49c807bb14533dbbea8f72dca2f02b,openstack/nova,stable/stein,I3bf5587c3a49c807bb14533dbbea8f72dca2f02b,"Ignore hw_vif_type for direct, direct-physical vNIC types",MERGED,2019-06-25 12:46:14.000000000,2019-07-10 12:07:22.000000000,2019-07-05 01:01:05.000000000,"[{'_account_id': 782}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-25 12:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7954a9313829aa6c0b5f672692b3397dad755afc', 'message': ""Ignore hw_vif_type for direct, direct-physical vNIC types\n\nAs part of the fix for bug #1789074, we stopped setting the VIF model to\nvirtio for a vif_type of 'direct' or 'direct-physical'. However, if\nusers configured the 'hw_vif_type' image metadata property, the VIF\nmodel would be unconditionally set to whatever the user provided. This\nwould result in bug #1789074 recurring. Given that the model attribute\nis unnecessary for these vNIC types, we can resolve this issue by\nsimply ignoring the image metadata property when configuring such VIFs.\n\nChange-Id: I3bf5587c3a49c807bb14533dbbea8f72dca2f02b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-bug: #1797146\n(cherry picked from commit a235451578ad7af25268e82500dff5ba6a64ea4e)\n""}, {'number': 2, 'created': '2019-07-02 14:10:53.000000000', 'files': ['nova/virt/libvirt/vif.py', 'nova/tests/unit/virt/libvirt/test_vif.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d78310e67a8fcf59465907eddecba4f5145a0a6f', 'message': ""Ignore hw_vif_type for direct, direct-physical vNIC types\n\nAs part of the fix for bug #1789074, we stopped setting the VIF model to\nvirtio for a vif_type of 'direct' or 'direct-physical'. However, if\nusers configured the 'hw_vif_type' image metadata property, the VIF\nmodel would be unconditionally set to whatever the user provided. This\nwould result in bug #1789074 recurring. Given that the model attribute\nis unnecessary for these vNIC types, we can resolve this issue by\nsimply ignoring the image metadata property when configuring such VIFs.\n\nChange-Id: I3bf5587c3a49c807bb14533dbbea8f72dca2f02b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-bug: #1797146\n(cherry picked from commit a235451578ad7af25268e82500dff5ba6a64ea4e)\n""}]",0,667354,d78310e67a8fcf59465907eddecba4f5145a0a6f,36,10,2,15334,,,0,"Ignore hw_vif_type for direct, direct-physical vNIC types

As part of the fix for bug #1789074, we stopped setting the VIF model to
virtio for a vif_type of 'direct' or 'direct-physical'. However, if
users configured the 'hw_vif_type' image metadata property, the VIF
model would be unconditionally set to whatever the user provided. This
would result in bug #1789074 recurring. Given that the model attribute
is unnecessary for these vNIC types, we can resolve this issue by
simply ignoring the image metadata property when configuring such VIFs.

Change-Id: I3bf5587c3a49c807bb14533dbbea8f72dca2f02b
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-bug: #1797146
(cherry picked from commit a235451578ad7af25268e82500dff5ba6a64ea4e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/667354/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'nova/tests/unit/virt/libvirt/test_vif.py']",2,7954a9313829aa6c0b5f672692b3397dad755afc,bug/1789074," @mock.patch.object(vif.designer, 'set_vif_guest_frontend_config', wraps=vif.designer.set_vif_guest_frontend_config) def test_model_sriov_direct(self, mock_set): """"""Direct attach vNICs shouldn't retrieve info from image_meta."""""" image_meta = objects.ImageMeta.from_dict( {'properties': {'hw_vif_model': 'virtio'}}) self.assertIsNone(conf.model)"," @mock.patch.object(vif.designer, 'set_vif_guest_frontend_config') def test_model_sriov_direct_multi_queue_not_set(self, mock_set): image_meta = {'properties': {'os_name': 'fedora22'}} image_meta = objects.ImageMeta.from_dict(image_meta)",20,14
openstack%2Fnova~stable%2Fstein~Ie9e294db7e24d0e3cbe83eee847f0fbfb7478900,openstack/nova,stable/stein,Ie9e294db7e24d0e3cbe83eee847f0fbfb7478900,Add functional recreate test for regression bug 1825537,MERGED,2019-06-22 13:22:42.000000000,2019-07-10 12:07:11.000000000,2019-07-04 18:03:20.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-22 13:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99950683f6f65b630e1cea5a5d0a04358cb7d9bf', 'message': ""Add functional recreate test for regression bug 1825537\n\nChange I2d9ab06b485f76550dbbff46f79f40ff4c97d12f in Rocky\n(and backported through to Pike) added error handling to\nthe resize_instance and finish_resize methods to revert\nallocations in placement when a failure occurs.\n\nThis is OK for resize_instance, which runs on the source\ncompute, as long as the instance.host/node values have not\nyet been changed to the dest host/node before RPC casting\nto the finish_resize method on the dest compute. It's OK\nbecause the instance is still on the source compute and the\nDB says so, so any attempt to recover the instance via hard\nreboot or rebuild will be on the source host.\n\nThis is not OK for finish_resize because if we fail there\nand revert the allocations, the instance host/node values\nare already pointing at the dest compute and by reverting\nthe allocations in placement, placement will be incorrectly\ntracking the instance usage with the old flavor against the\nsource node resource provider rather than the new flavor\nagainst the dest node resource provider - where the instance\nis actually running and the nova DB says the instance lives.\n\nThis change adds a simple functional regression test to\nrecreate the bug with a multi-host resize. There is already\na same-host resize functional test marked here which will\nneed to be fixed as well.\n\nChange-Id: Ie9e294db7e24d0e3cbe83eee847f0fbfb7478900\nRelated-Bug: #1825537\n(cherry picked from commit f4bb67210602914e1b9a678419cf22cfbeaf1431)\n""}, {'number': 2, 'created': '2019-07-01 19:19:46.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1825537.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eaa1fc6159ca4437a1e0cbaa77a3da779afb8cb2', 'message': 'Add functional recreate test for regression bug 1825537\n\nChange I2d9ab06b485f76550dbbff46f79f40ff4c97d12f in Rocky\n(and backported through to Pike) added error handling to\nthe resize_instance and finish_resize methods to revert\nallocations in placement when a failure occurs.\n\nThis is OK for resize_instance, which runs on the source\ncompute, as long as the instance.host/node values have not\nyet been changed to the dest host/node before RPC casting\nto the finish_resize method on the dest compute. It\'s OK\nbecause the instance is still on the source compute and the\nDB says so, so any attempt to recover the instance via hard\nreboot or rebuild will be on the source host.\n\nThis is not OK for finish_resize because if we fail there\nand revert the allocations, the instance host/node values\nare already pointing at the dest compute and by reverting\nthe allocations in placement, placement will be incorrectly\ntracking the instance usage with the old flavor against the\nsource node resource provider rather than the new flavor\nagainst the dest node resource provider - where the instance\nis actually running and the nova DB says the instance lives.\n\nThis change adds a simple functional regression test to\nrecreate the bug with a multi-host resize. There is already\na same-host resize functional test marked here which will\nneed to be fixed as well.\n\nNOTE(mriedem): The test needed to be modified from Train\nsince we have to rely on waiting for the task_state to\nchange to None rather than the migration status changing\nto ""error"" since change  Id6c0a0ee41520dd974052d7cdd17ca35d688f6b0\nis not in Stein.\n\nChange-Id: Ie9e294db7e24d0e3cbe83eee847f0fbfb7478900\nRelated-Bug: #1825537\n(cherry picked from commit f4bb67210602914e1b9a678419cf22cfbeaf1431)\n'}]",4,666959,eaa1fc6159ca4437a1e0cbaa77a3da779afb8cb2,28,7,2,6873,,,0,"Add functional recreate test for regression bug 1825537

Change I2d9ab06b485f76550dbbff46f79f40ff4c97d12f in Rocky
(and backported through to Pike) added error handling to
the resize_instance and finish_resize methods to revert
allocations in placement when a failure occurs.

This is OK for resize_instance, which runs on the source
compute, as long as the instance.host/node values have not
yet been changed to the dest host/node before RPC casting
to the finish_resize method on the dest compute. It's OK
because the instance is still on the source compute and the
DB says so, so any attempt to recover the instance via hard
reboot or rebuild will be on the source host.

This is not OK for finish_resize because if we fail there
and revert the allocations, the instance host/node values
are already pointing at the dest compute and by reverting
the allocations in placement, placement will be incorrectly
tracking the instance usage with the old flavor against the
source node resource provider rather than the new flavor
against the dest node resource provider - where the instance
is actually running and the nova DB says the instance lives.

This change adds a simple functional regression test to
recreate the bug with a multi-host resize. There is already
a same-host resize functional test marked here which will
need to be fixed as well.

NOTE(mriedem): The test needed to be modified from Train
since we have to rely on waiting for the task_state to
change to None rather than the migration status changing
to ""error"" since change  Id6c0a0ee41520dd974052d7cdd17ca35d688f6b0
is not in Stein.

Change-Id: Ie9e294db7e24d0e3cbe83eee847f0fbfb7478900
Related-Bug: #1825537
(cherry picked from commit f4bb67210602914e1b9a678419cf22cfbeaf1431)
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/666959/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/fake.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1825537.py']",3,99950683f6f65b630e1cea5a5d0a04358cb7d9bf,bug/1825537,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.tests.functional import integrated_helpers class FinishResizeErrorAllocationCleanupTestCase( integrated_helpers.ProviderUsageBaseTestCase): """"""Test for bug 1825537 introduced in Rocky and backported down to Pike. Tests a scenario where finish_resize fails on the dest compute during a resize and ensures resource provider allocations are properly cleaned up in placement. """""" compute_driver = 'fake.FakeFinishMigrationFailDriver' def setUp(self): super(FinishResizeErrorAllocationCleanupTestCase, self).setUp() # Get the flavors we're going to use. flavors = self.api.get_flavors() self.flavor1 = flavors[0] self.flavor2 = flavors[1] def _resize_and_assert_error(self, server, dest_host): # Now resize the server and wait for it to go to ERROR status because # the finish_migration virt driver method in host2 should fail. req = {'resize': {'flavorRef': self.flavor2['id']}} self.api.post_server_action(server['id'], req) # The instance is set to ERROR status before the fault is recorded so # to avoid a race we need to wait for the migration status to change # to 'error' which happens after the fault is recorded. self._wait_for_migration_status(server, ['error']) server = self._wait_for_state_change(self.admin_api, server, 'ERROR') # The server should be pointing at $dest_host because resize_instance # will have updated the host/node value on the instance before casting # to the finish_resize method on the dest compute. self.assertEqual(dest_host, server['OS-EXT-SRV-ATTR:host']) # In this case the FakeFinishMigrationFailDriver.finish_migration # method raises VirtualInterfaceCreateException. self.assertIn('Virtual Interface creation failed', server['fault']['message']) def test_finish_resize_fails_allocation_cleanup(self): # Start two computes so we can resize across hosts. self._start_compute('host1') self._start_compute('host2') # Create a server on host1. server = self._boot_and_check_allocations(self.flavor1, 'host1') # Resize to host2 which should fail. self._resize_and_assert_error(server, 'host2') # Check the resource provider allocations. Since the server is pointed # at the dest host in the DB now, the dest node resource provider # allocations should still exist with the new flavor. source_rp_uuid = self._get_provider_uuid_by_host('host1') dest_rp_uuid = self._get_provider_uuid_by_host('host2') # FIXME(mriedem): This is bug 1825537 where the allocations are # reverted when finish_resize fails so the dest node resource provider # does not have any allocations and the instance allocations are for # the old flavor on the source node resource provider even though the # instance is not running on the source host nor pointed at the source # host in the DB. # self.assertFlavorMatchesAllocation( # self.flavor2, server['id'], dest_rp_uuid) dest_rp_usages = self._get_provider_usages(dest_rp_uuid) no_usage = {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0} self.assertEqual(no_usage, dest_rp_usages) self.assertFlavorMatchesAllocation( self.flavor1, server['id'], source_rp_uuid) ",,89,0
openstack%2Fnova~stable%2Fqueens~Id3c4d839fb1a6da47cfb366b65c0904d281a218f,openstack/nova,stable/queens,Id3c4d839fb1a6da47cfb366b65c0904d281a218f,Allow driver to properly unplug VIFs on destination on confirm resize,MERGED,2019-05-27 09:08:16.000000000,2019-07-10 12:07:05.000000000,2019-07-02 03:00:28.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12171}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 28714}]","[{'number': 1, 'created': '2019-05-27 09:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a98176b7c46084bb2951c48b7a5487153668f341', 'message': 'Allow driver to properly unplug VIFs on destination on confirm resize\n\nUpdate PCI related VIFs with the original PCI address on the source\nhost to allow the virt driver to properly unplug VIFs from\nhypervisor, e.g allow the proper VF representor to be unplugged\nfrom the integration bridge in case of a hardware offloaded OVS.\n\nWhile other approaches are possible for solving the issue,\nThe approach proposed in the series allows the fix to be safely\nbackported.\n\nCloses-Bug: #1809095\n\nConflicts:\n        nova/compute/manager.py\n        nova/tests/unit/compute/test_compute_mgr.py\n\nChange-Id: Id3c4d839fb1a6da47cfb366b65c0904d281a218f\n(cherry picked from commit 000e93df09fd4941bb69f715c955b940871a1ec6)\n'}, {'number': 2, 'created': '2019-05-30 14:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3706d5b58e5991e11d25278d7dca5ca9189d5f50', 'message': 'Allow driver to properly unplug VIFs on destination on confirm resize\n\nUpdate PCI related VIFs with the original PCI address on the source\nhost to allow the virt driver to properly unplug VIFs from\nhypervisor, e.g allow the proper VF representor to be unplugged\nfrom the integration bridge in case of a hardware offloaded OVS.\n\nWhile other approaches are possible for solving the issue,\nThe approach proposed in the series allows the fix to be safely\nbackported.\n\nCloses-Bug: #1809095\n\nConflicts:\n        nova/compute/manager.py\n        nova/tests/unit/compute/test_compute_mgr.py\n\nChange-Id: Id3c4d839fb1a6da47cfb366b65c0904d281a218f\n(cherry picked from commit 000e93df09fd4941bb69f715c955b940871a1ec6)\n'}, {'number': 3, 'created': '2019-06-02 07:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24863618e84640a99c04459a874512abcdb2556f', 'message': 'Allow driver to properly unplug VIFs on destination on confirm resize\n\nUpdate PCI related VIFs with the original PCI address on the source\nhost to allow the virt driver to properly unplug VIFs from\nhypervisor, e.g allow the proper VF representor to be unplugged\nfrom the integration bridge in case of a hardware offloaded OVS.\n\nWhile other approaches are possible for solving the issue,\nThe approach proposed in the series allows the fix to be safely\nbackported.\n\nCloses-Bug: #1809095\n\nConflicts:\n        nova/compute/manager.py\n        nova/tests/unit/compute/test_compute_mgr.py\n\nChange-Id: Id3c4d839fb1a6da47cfb366b65c0904d281a218f\n(cherry picked from commit 000e93df09fd4941bb69f715c955b940871a1ec6)\n'}, {'number': 4, 'created': '2019-06-05 16:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19c671aafc2588426076c68f32d1294e7fa51c3d', 'message': 'Allow driver to properly unplug VIFs on destination on confirm resize\n\nUpdate PCI related VIFs with the original PCI address on the source\nhost to allow the virt driver to properly unplug VIFs from\nhypervisor, e.g allow the proper VF representor to be unplugged\nfrom the integration bridge in case of a hardware offloaded OVS.\n\nWhile other approaches are possible for solving the issue,\nThe approach proposed in the series allows the fix to be safely\nbackported.\n\nCloses-Bug: #1809095\n\nConflicts:\n        nova/compute/manager.py\n        nova/tests/unit/compute/test_compute_mgr.py\n\nChange-Id: Id3c4d839fb1a6da47cfb366b65c0904d281a218f\n(cherry picked from commit 841d7d329df6832dcadcd9a1d59b1cf7c758209b)\n'}, {'number': 5, 'created': '2019-06-30 08:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6c238dae696ca4f1d4f71dd8c0892f9266566d2', 'message': 'Allow driver to properly unplug VIFs on destination on confirm resize\n\nUpdate PCI related VIFs with the original PCI address on the source\nhost to allow the virt driver to properly unplug VIFs from\nhypervisor, e.g allow the proper VF representor to be unplugged\nfrom the integration bridge in case of a hardware offloaded OVS.\n\nWhile other approaches are possible for solving the issue,\nThe approach proposed in the series allows the fix to be safely\nbackported.\n\nCloses-Bug: #1809095\n\nConflicts:\n    None.\n\nChange-Id: Id3c4d839fb1a6da47cfb366b65c0904d281a218f\n(cherry picked from commit 841d7d329df6832dcadcd9a1d59b1cf7c758209b)\n'}, {'number': 6, 'created': '2019-07-01 16:37:31.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ab445a027a6262eb5d54f82edf76e8d925ac427e', 'message': 'Allow driver to properly unplug VIFs on destination on confirm resize\n\nUpdate PCI related VIFs with the original PCI address on the source\nhost to allow the virt driver to properly unplug VIFs from\nhypervisor, e.g allow the proper VF representor to be unplugged\nfrom the integration bridge in case of a hardware offloaded OVS.\n\nWhile other approaches are possible for solving the issue,\nThe approach proposed in the series allows the fix to be safely\nbackported.\n\nCloses-Bug: #1809095\n\nChange-Id: Id3c4d839fb1a6da47cfb366b65c0904d281a218f\n(cherry picked from commit 77a339c4e8d51de82cd6c4530b8473cc8bb6aea8)\n(cherry picked from commit 841d7d329df6832dcadcd9a1d59b1cf7c758209b)\n'}]",2,661572,ab445a027a6262eb5d54f82edf76e8d925ac427e,49,10,6,28714,,,0,"Allow driver to properly unplug VIFs on destination on confirm resize

Update PCI related VIFs with the original PCI address on the source
host to allow the virt driver to properly unplug VIFs from
hypervisor, e.g allow the proper VF representor to be unplugged
from the integration bridge in case of a hardware offloaded OVS.

While other approaches are possible for solving the issue,
The approach proposed in the series allows the fix to be safely
backported.

Closes-Bug: #1809095

Change-Id: Id3c4d839fb1a6da47cfb366b65c0904d281a218f
(cherry picked from commit 77a339c4e8d51de82cd6c4530b8473cc8bb6aea8)
(cherry picked from commit 841d7d329df6832dcadcd9a1d59b1cf7c758209b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/661572/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",3,a98176b7c46084bb2951c48b7a5487153668f341,bug/1809095,"import copy def _get_updated_nw_info_with_pci_mapping(self, nw_info, pci_mapping): # NOTE(adrianc): This method returns a copy of nw_info if modifications # are made else it returns the original nw_info. updated_nw_info = nw_info if nw_info and pci_mapping: updated_nw_info = copy.deepcopy(nw_info) for vif in updated_nw_info: if vif['vnic_type'] in network_model.VNIC_TYPES_SRIOV: try: vif_pci_addr = vif['profile']['pci_slot'] new_addr = pci_mapping[vif_pci_addr].address vif['profile']['pci_slot'] = new_addr LOG.debug(""Updating VIF's PCI address for VIF %(id)s. "" ""Original value %(orig_val)s, "" ""new value %(new_val)s"", {'id': vif['id'], 'orig_val': vif_pci_addr, 'new_val': new_addr}) except (KeyError, AttributeError): with excutils.save_and_reraise_exception(): # NOTE(adrianc): This should never happen. If we # get here it means there is some inconsistency # with either 'nw_info' or 'pci_mapping'. LOG.error(""Unexpected error when updating network "" ""information with PCI mapping."") return updated_nw_info # NOTE(adrianc): Populate old PCI device in VIF profile # to allow virt driver to properly unplug it from Hypervisor. pci_mapping = (instance.migration_context. get_pci_mapping_for_migration(True)) network_info = self._get_updated_nw_info_with_pci_mapping( network_info, pci_mapping) ",,128,7
openstack%2Fnova~stable%2Frocky~I5f8e4d32c6a1d6b61396b4fa11c5d776f432df0c,openstack/nova,stable/rocky,I5f8e4d32c6a1d6b61396b4fa11c5d776f432df0c,Init HostState.failed_builds,MERGED,2019-07-01 16:26:59.000000000,2019-07-10 12:06:43.000000000,2019-07-03 00:45:23.000000000,"[{'_account_id': 4690}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-01 16:26:59.000000000', 'files': ['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5acbea506a137492511a762e454d785810365bd8', 'message': 'Init HostState.failed_builds\n\nIf _update_from_compute_node returns early and the HostState is\nnot filtered out we can hit an AttributeError in the\nBuildFailureWeigher because the failed_builds attribute is not\nset. This simply initializes the attribute like the other stats\nfields.\n\nChange-Id: I5f8e4d32c6a1d6b61396b4fa11c5d776f432df0c\nCloses-Bug: #1834691\n(cherry picked from commit d540903463aa9b0cf69cefac7cc60e5b70e40a1c)\n(cherry picked from commit 725b37f515e4ad01e1f4491b6d8137ce1416f6d6)\n'}]",0,668520,5acbea506a137492511a762e454d785810365bd8,13,7,1,6873,,,0,"Init HostState.failed_builds

If _update_from_compute_node returns early and the HostState is
not filtered out we can hit an AttributeError in the
BuildFailureWeigher because the failed_builds attribute is not
set. This simply initializes the attribute like the other stats
fields.

Change-Id: I5f8e4d32c6a1d6b61396b4fa11c5d776f432df0c
Closes-Bug: #1834691
(cherry picked from commit d540903463aa9b0cf69cefac7cc60e5b70e40a1c)
(cherry picked from commit 725b37f515e4ad01e1f4491b6d8137ce1416f6d6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/668520/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py']",2,5acbea506a137492511a762e454d785810365bd8,bug/1834691, self.failed_builds = 0,,3,0
openstack%2Fnova~master~If86e4796a9db3020d4fdb751e8bc771c6f98aa47,openstack/nova,master,If86e4796a9db3020d4fdb751e8bc771c6f98aa47,Add integration testing for heal_allocations,MERGED,2019-06-27 17:26:41.000000000,2019-07-10 12:06:34.000000000,2019-07-01 10:37:53.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-27 17:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e1edc1fc17360741ee1b1f467fe10897ce87cc5', 'message': ""Add integration testing for heal_allocations\n\nThis adds a simple scenario for the heal_allocations CLI\nto the post_test_hook script run at the end of the nova-next\njob. The functional testing in-tree is pretty extensive but\nit's always good to have real integration testing.\n\nChange-Id: If86e4796a9db3020d4fdb751e8bc771c6f98aa47\nRelated-Bug: #1819923\n""}, {'number': 2, 'created': '2019-06-27 17:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7d4898ab1107894bf2fb358300d218a60ff5189', 'message': ""Add integration testing for heal_allocations\n\nThis adds a simple scenario for the heal_allocations CLI\nto the post_test_hook script run at the end of the nova-next\njob. The functional testing in-tree is pretty extensive but\nit's always good to have real integration testing.\n\nChange-Id: If86e4796a9db3020d4fdb751e8bc771c6f98aa47\nRelated-Bug: #1819923\n""}, {'number': 3, 'created': '2019-06-28 19:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/795383c283ab4f0e48b9d8957730b5350f316974', 'message': ""Add integration testing for heal_allocations\n\nThis adds a simple scenario for the heal_allocations CLI\nto the post_test_hook script run at the end of the nova-next\njob. The functional testing in-tree is pretty extensive but\nit's always good to have real integration testing.\n\nChange-Id: If86e4796a9db3020d4fdb751e8bc771c6f98aa47\nRelated-Bug: #1819923\n""}, {'number': 4, 'created': '2019-06-29 02:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17d0dc146af98aaf75eff876bdf96a757e274d82', 'message': ""Add integration testing for heal_allocations\n\nThis adds a simple scenario for the heal_allocations CLI\nto the post_test_hook script run at the end of the nova-next\njob. The functional testing in-tree is pretty extensive but\nit's always good to have real integration testing.\n\nChange-Id: If86e4796a9db3020d4fdb751e8bc771c6f98aa47\nRelated-Bug: #1819923\n""}, {'number': 5, 'created': '2019-06-29 11:03:59.000000000', 'files': ['gate/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/87365c760ee89493db87183c4c751ba5fc7b921a', 'message': ""Add integration testing for heal_allocations\n\nThis adds a simple scenario for the heal_allocations CLI\nto the post_test_hook script run at the end of the nova-next\njob. The functional testing in-tree is pretty extensive but\nit's always good to have real integration testing.\n\nChange-Id: If86e4796a9db3020d4fdb751e8bc771c6f98aa47\nRelated-Bug: #1819923\n""}]",11,667994,87365c760ee89493db87183c4c751ba5fc7b921a,48,13,5,6873,,,0,"Add integration testing for heal_allocations

This adds a simple scenario for the heal_allocations CLI
to the post_test_hook script run at the end of the nova-next
job. The functional testing in-tree is pretty extensive but
it's always good to have real integration testing.

Change-Id: If86e4796a9db3020d4fdb751e8bc771c6f98aa47
Related-Bug: #1819923
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/667994/4 && git format-patch -1 --stdout FETCH_HEAD,['gate/post_test_hook.sh'],1,6e1edc1fc17360741ee1b1f467fe10897ce87cc5,bug/1819923," # Test ""nova-manage placement heal_allocations"" by creating a server, deleting # its allocations in placement, and then running heal_allocations and assert # the allocations were healed as expected. image_id=$(openstack image list -f value -c ID | awk 'NR==1{print $1}') flavor_id=$(openstack flavor list -f value -c ID | awk 'NR==1{print $1}') network_id=$(openstack network list --no-share -f value -c ID | awk 'NR==1{print $1}') echo ""Creating server for heal_allocations testing"" openstack server create --image ${image_id} --flavor ${flavor_id} \ --nic net-id=${network_id} --wait heal-allocations-test server_id=$(openstack server show heal-allocations-test -f value -c ID) echo ""Deleting allocations in placement for the server"" openstack resource provider allocation delete ${server_id} echo ""Healing allocations"" # First test with the --dry-run over all instances in all cells. rc=$(nova-manage placement heal_allocations --verbose --dry-run) # Since we did not create allocations because of --dry-run the rc should be 4. if [[ ${rc} -ne 4 ]]; then echo ""Expected return code 4 from heal_allocations with --dry-run"" exit 2 fi # Now test with just the single instance and actually perform the heal. nova-manage placement heal_allocations --verbose --instance ${server_id} # Make sure there are allocations for the consumer. allocations=$(openstack resource provider allocation show ${server_id} \ -c allocations -f value) if [[ ""$allocations"" == ""{}"" ]]; then echo ""Failed to heal allocations."" exit 3 fi",,35,0
openstack%2Fnova~stable%2Frocky~If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8,openstack/nova,stable/rocky,If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8,libvirt: flatten rbd images when unshelving an instance,MERGED,2019-06-28 09:08:09.000000000,2019-07-10 12:05:55.000000000,2019-06-29 01:30:41.000000000,"[{'_account_id': 6873}, {'_account_id': 11503}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-28 09:08:09.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/virt/libvirt/imagebackend.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e93bc57a73d8642012f759a4ffbe5289112ba490', 'message': 'libvirt: flatten rbd images when unshelving an instance\n\nPreviously attempts to remove the shelved snapshot of an unshelved\ninstance when using the rbd backends for both Nova and Glance would\nfail. This was due to the instance disk being cloned from and still\nreferencing the shelved snapshot image in Glance, blocking any attempt\nto remove this image later in the unshelve process.\n\nAfter much debate this change attempts to fix this issue by flattening\nthe instance disk while the instance is being spawned as part of an\nunshelve. For the rbd imagebackend this removes any reference to the\nshelved snapshot in Glance allowing this image to be removed. For all\nother imagebackends the call to flatten the image is currently a no-op.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\n\nCloses-Bug: #1653953\nChange-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8\n(cherry picked from commit d89e7d7857e0ab56c3b088338272c24d0618c07f)\n(cherry picked from commit e802ede4b30b21c7590620abc142300a57bcf349)\n'}]",0,668119,e93bc57a73d8642012f759a4ffbe5289112ba490,11,6,1,10135,,,0,"libvirt: flatten rbd images when unshelving an instance

Previously attempts to remove the shelved snapshot of an unshelved
instance when using the rbd backends for both Nova and Glance would
fail. This was due to the instance disk being cloned from and still
referencing the shelved snapshot image in Glance, blocking any attempt
to remove this image later in the unshelve process.

After much debate this change attempts to fix this issue by flattening
the instance disk while the instance is being spawned as part of an
unshelve. For the rbd imagebackend this removes any reference to the
shelved snapshot in Glance allowing this image to be removed. For all
other imagebackends the call to flatten the image is currently a no-op.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Co-Authored-By: Vladyslav Drok <vdrok@mirantis.com>

Closes-Bug: #1653953
Change-Id: If3c9d1de3ce0fe394405bd1e1f0fa08ce2baeda8
(cherry picked from commit d89e7d7857e0ab56c3b088338272c24d0618c07f)
(cherry picked from commit e802ede4b30b21c7590620abc142300a57bcf349)
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/668119/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/virt/libvirt/imagebackend.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,e93bc57a73d8642012f759a4ffbe5289112ba490,bug/1653953," 'vm_state': None, instance = objects.Instance(**self.test_instance) instance.vm_state = vm_states.BUILDING inst['vm_state'] = None def test_unshelve_noop_flatten_fetch_image_cache(self): instance = self._create_instance( params={'vm_state': vm_states.SHELVED_OFFLOADED}) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) mock_imagebackend = mock.Mock(spec=imagebackend.Lvm) mock_imagebackend.flatten.side_effect = NotImplementedError() # Assert that this doesn't raise NotImplementedError drvr._try_fetch_image_cache(mock_imagebackend, mock.sentinel.fetch, self.context, mock.sentinel.filename, uuids.image_id, instance, mock.sentinel.size) # Assert that we cache and then flatten the image when an instance is # still SHELVED_OFFLOADED during _try_fetch_image_cache. mock_imagebackend.cache.assert_called_once_with( fetch_func=mock.sentinel.fetch, context=self.context, filename=mock.sentinel.filename, image_id=uuids.image_id, size=mock.sentinel.size, trusted_certs=instance.trusted_certs) mock_imagebackend.flatten.assert_called_once() def test_unshelve_rbd_image_flatten_during_fetch_image_cache(self): instance = self._create_instance( params={'vm_state': vm_states.SHELVED_OFFLOADED}) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) mock_rbd_driver = mock.Mock(spec=rbd_utils.RBDDriver) mock_rbd_imagebackend = mock.Mock(spec=imagebackend.Rbd) mock_rbd_imagebackend.rbd_name = mock.sentinel.rbd_name mock_rbd_imagebackend.pool = mock.sentinel.rbd_pool # This is logged so we can't use a sentinel mock_rbd_imagebackend.path = 'rbd:pool/vol_disk' mock_rbd_imagebackend.driver = mock_rbd_driver mock_rbd_imagebackend.flatten.side_effect = \ imagebackend.Rbd.flatten(mock_rbd_imagebackend) drvr._try_fetch_image_cache(mock_rbd_imagebackend, mock.sentinel.fetch, self.context, mock.sentinel.filename, uuids.image_id, instance, mock.sentinel.size) # Assert that we cache and then flatten the image when an instance is # still SHELVED_OFFLOADED during _try_fetch_image_cache. mock_rbd_imagebackend.cache.assert_called_once_with( fetch_func=mock.sentinel.fetch, context=self.context, filename=mock.sentinel.filename, image_id=uuids.image_id, size=mock.sentinel.size, trusted_certs=instance.trusted_certs) mock_rbd_imagebackend.flatten.assert_called_once() mock_rbd_driver.flatten.assert_called_once_with( mock.sentinel.rbd_name, pool=mock.sentinel.rbd_pool) "," instance = objects.Instance(vm_state=vm_states.BUILDING, **self.test_instance)",89,2
openstack%2Fnova~master~I4eecdab6a8689346907eb6ec118d86d114a9f355,openstack/nova,master,I4eecdab6a8689346907eb6ec118d86d114a9f355,Add missing tests for flavor extra_specs mv 2.61,MERGED,2019-06-26 12:44:39.000000000,2019-07-10 12:05:40.000000000,2019-06-28 13:46:55.000000000,"[{'_account_id': 782}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-26 12:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d00c6111363aced935e9c10aaf4c9a5f7ee53436', 'message': 'Add mising tests for flavor extra_specs mv 2.61\n\nmicroverion 2.61 added the extra_specs field in response\nof GET, POST, PUT APIs[1] but there was no unit test\nadded for PUT and POST APIs changes.\n\n[1] https://review.opendev.org/#/c/554159/\n\nChange-Id: I4eecdab6a8689346907eb6ec118d86d114a9f355\n'}, {'number': 2, 'created': '2019-06-26 12:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/390bcbea4a7fc0d37dffaa8e9afa8f39c484d7ff', 'message': 'Add missing tests for flavor extra_specs mv 2.61\n\nmicroverion 2.61 added the extra_specs field in response\nof GET, POST, PUT APIs[1] but there was no unit test\nadded for PUT and POST APIs changes.\n\n[1] https://review.opendev.org/#/c/554159/\n\nChange-Id: I4eecdab6a8689346907eb6ec118d86d114a9f355\n'}, {'number': 3, 'created': '2019-06-26 13:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bca141cb867e0d5a9314c138239509585fd701ba', 'message': 'Add missing tests for flavor extra_specs mv 2.61\n\nmicroverion 2.61 added the extra_specs field in response\nof GET, POST, PUT APIs[1] but there was no unit test\nadded for PUT and POST APIs changes.\n\n[1] https://review.opendev.org/#/c/554159/\n\nChange-Id: I4eecdab6a8689346907eb6ec118d86d114a9f355\n'}, {'number': 4, 'created': '2019-06-28 04:10:13.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_flavor_manage.py', 'nova/api/openstack/compute/flavor_manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/89f6d39831d99946c86a853975d779ca3e4ce620', 'message': 'Add missing tests for flavor extra_specs mv 2.61\n\nmicroverion 2.61 added the extra_specs field in response\nof GET, POST, PUT APIs[1] but there was no unit test\nadded for PUT and POST APIs changes.\n\n[1] https://review.opendev.org/#/c/554159/\n\nChange-Id: I4eecdab6a8689346907eb6ec118d86d114a9f355\n'}]",4,667600,89f6d39831d99946c86a853975d779ca3e4ce620,32,12,4,8556,,,0,"Add missing tests for flavor extra_specs mv 2.61

microverion 2.61 added the extra_specs field in response
of GET, POST, PUT APIs[1] but there was no unit test
added for PUT and POST APIs changes.

[1] https://review.opendev.org/#/c/554159/

Change-Id: I4eecdab6a8689346907eb6ec118d86d114a9f355
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/667600/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_flavor_manage.py', 'nova/api/openstack/compute/flavor_manage.py']",2,d00c6111363aced935e9c10aaf4c9a5f7ee53436,bp/api-consistency-cleanup, # NOTE(yikun): This empty extra_specs only for keeping consistent # with PUT and GET flavor APIs. extra_specs in flavor is added # after creating the flavor so to avoid the error in _view_builder # flavor.extra_specs is populated with the empty string., # NOTE(yikun): This empty extra_spec only for keeping consistent # with other related flavor api.,65,11
openstack%2Fnova~stable%2Fqueens~I217fba9138132b107e9d62895d699d238392e761,openstack/nova,stable/queens,I217fba9138132b107e9d62895d699d238392e761,Fail to live migration if instance has a NUMA topology,MERGED,2019-01-09 17:41:54.000000000,2019-07-10 12:05:09.000000000,2019-07-03 01:21:43.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8768}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 11904}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-01-09 17:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/69066cbbd5caaee14cb422e1b3eba338e6e2bd3e', 'message': ""Fail to live migration if instance has a NUMA topology\n\nLive migration is currently totally broken if a NUMA topology is\npresent. This affects everything that's been regrettably stuffed in with\nNUMA topology including CPU pinning, hugepage support and emulator\nthread support. Side effects can range from simple unexpected\nperformance hits (due to instances running on the same cores) to\ncomplete failures (due to instance cores or huge pages being mapped to\nCPUs/NUMA nodes that don't exist on the destination host).\n\nUntil such a time as we resolve these issues, we should alert users to\nthe fact that such issues exist. A workaround option is provided for\noperators that _really_ need the broken behavior, but it's defaulted to\nFalse to highlight the brokenness of this feature to unsuspecting\noperators.\n\nConflicts:\n\tnova/conf/workarounds.py\n\tnova/tests/unit/api/openstack/compute/admin_only_action_common.py\n\tnova/tests/unit/api/openstack/compute/test_migrate_server.py\n\tnova/tests/unit/conductor/tasks/test_live_migrate.py\n\nNOTE(stephenfin): stable/rocky conflicts due to removal of\n'report_ironic_standard_resource_class_inventory' option and addition of\nchange Iaea1cb4ed93bb98f451de4f993106d7891ca3682 on master.\n\nNOTE(stephenfin): stable/queens conflicts due to presence of\n'report_ironic_standard_resource_class_inventory' and\n'enable_consoleauth' configuration options, change\nI8e529ad4d707b2ad012328993892db83ce464c4b and change\nI83b473e9ba557545b5c186f979e068e442de2424 in stable/rocky.\n\nChange-Id: I217fba9138132b107e9d62895d699d238392e761\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nRelated-bug: #1289064\n(cherry picked from commit ae2e5650d14a2c81dd397727d67b60f9b8dd0dd7)\n(cherry picked from commit 52b89734426253f64b6d4797ba4d849c3020fb52)\n""}, {'number': 2, 'created': '2019-01-10 10:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a24089bc3f584b07d0be62b7f0c963f07bec6e3', 'message': ""Fail to live migration if instance has a NUMA topology\n\nLive migration is currently totally broken if a NUMA topology is\npresent. This affects everything that's been regrettably stuffed in with\nNUMA topology including CPU pinning, hugepage support and emulator\nthread support. Side effects can range from simple unexpected\nperformance hits (due to instances running on the same cores) to\ncomplete failures (due to instance cores or huge pages being mapped to\nCPUs/NUMA nodes that don't exist on the destination host).\n\nUntil such a time as we resolve these issues, we should alert users to\nthe fact that such issues exist. A workaround option is provided for\noperators that _really_ need the broken behavior, but it's defaulted to\nFalse to highlight the brokenness of this feature to unsuspecting\noperators.\n\nConflicts:\n\tnova/conf/workarounds.py\n\tnova/tests/unit/api/openstack/compute/admin_only_action_common.py\n\tnova/tests/unit/api/openstack/compute/test_migrate_server.py\n\tnova/tests/unit/conductor/tasks/test_live_migrate.py\n\nNOTE(stephenfin): stable/rocky conflicts due to removal of\n'report_ironic_standard_resource_class_inventory' option and addition of\nchange Iaea1cb4ed93bb98f451de4f993106d7891ca3682 on master.\n\nNOTE(stephenfin): stable/queens conflicts due to presence of\n'report_ironic_standard_resource_class_inventory' and\n'enable_consoleauth' configuration options, change\nI8e529ad4d707b2ad012328993892db83ce464c4b and change\nI83b473e9ba557545b5c186f979e068e442de2424 in stable/rocky.\n\nChange-Id: I217fba9138132b107e9d62895d699d238392e761\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nRelated-bug: #1289064\n(cherry picked from commit ae2e5650d14a2c81dd397727d67b60f9b8dd0dd7)\n(cherry picked from commit 52b89734426253f64b6d4797ba4d849c3020fb52)\n""}, {'number': 3, 'created': '2019-01-10 14:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/245b2248c062855f6cfec6e203ae9370a5308172', 'message': ""Fail to live migration if instance has a NUMA topology\n\nLive migration is currently totally broken if a NUMA topology is\npresent. This affects everything that's been regrettably stuffed in with\nNUMA topology including CPU pinning, hugepage support and emulator\nthread support. Side effects can range from simple unexpected\nperformance hits (due to instances running on the same cores) to\ncomplete failures (due to instance cores or huge pages being mapped to\nCPUs/NUMA nodes that don't exist on the destination host).\n\nUntil such a time as we resolve these issues, we should alert users to\nthe fact that such issues exist. A workaround option is provided for\noperators that _really_ need the broken behavior, but it's defaulted to\nFalse to highlight the brokenness of this feature to unsuspecting\noperators.\n\nConflicts:\n\tnova/conf/workarounds.py\n\tnova/tests/unit/api/openstack/compute/admin_only_action_common.py\n\tnova/tests/unit/api/openstack/compute/test_migrate_server.py\n\tnova/tests/unit/conductor/tasks/test_live_migrate.py\n\nNOTE(stephenfin): stable/rocky conflicts due to removal of\n'report_ironic_standard_resource_class_inventory' option and addition of\nchange Iaea1cb4ed93bb98f451de4f993106d7891ca3682 on master.\n\nNOTE(stephenfin): stable/queens conflicts due to presence of\n'report_ironic_standard_resource_class_inventory' and\n'enable_consoleauth' configuration options, change\nI8e529ad4d707b2ad012328993892db83ce464c4b and change\nI83b473e9ba557545b5c186f979e068e442de2424 in stable/rocky. A hyperlink\nis removed from the config option help text as the version of\n'oslo.config' used here does not parse help text as rST (bug #1755783).\n\nChange-Id: I217fba9138132b107e9d62895d699d238392e761\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nRelated-bug: #1289064\n(cherry picked from commit ae2e5650d14a2c81dd397727d67b60f9b8dd0dd7)\n(cherry picked from commit 52b89734426253f64b6d4797ba4d849c3020fb52)\n""}, {'number': 4, 'created': '2019-02-12 14:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b03b4beb90fefa79446108f410399470441e7c2', 'message': ""Fail to live migration if instance has a NUMA topology\n\nLive migration is currently totally broken if a NUMA topology is\npresent. This affects everything that's been regrettably stuffed in with\nNUMA topology including CPU pinning, hugepage support and emulator\nthread support. Side effects can range from simple unexpected\nperformance hits (due to instances running on the same cores) to\ncomplete failures (due to instance cores or huge pages being mapped to\nCPUs/NUMA nodes that don't exist on the destination host).\n\nUntil such a time as we resolve these issues, we should alert users to\nthe fact that such issues exist. A workaround option is provided for\noperators that _really_ need the broken behavior, but it's defaulted to\nFalse to highlight the brokenness of this feature to unsuspecting\noperators.\n\nConflicts:\n\tnova/conf/workarounds.py\n\tnova/tests/unit/api/openstack/compute/admin_only_action_common.py\n\tnova/tests/unit/api/openstack/compute/test_migrate_server.py\n\tnova/tests/unit/conductor/tasks/test_live_migrate.py\n\nNOTE(stephenfin): stable/rocky conflicts due to removal of\n'report_ironic_standard_resource_class_inventory' option and addition of\nchange Iaea1cb4ed93bb98f451de4f993106d7891ca3682 on master.\n\nNOTE(stephenfin): stable/queens conflicts due to presence of\nthe 'enable_consoleauth' configuration option, change\nI83b473e9ba557545b5c186f979e068e442de2424 in stable/rocky. A hyperlink\nis removed from the config option help text as the version of\n'oslo.config' used here does not parse help text as rST (bug #1755783).\nFinally Id3c74c019da29070811ffc368351e2238b3f6da5\n\nChange-Id: I217fba9138132b107e9d62895d699d238392e761\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nRelated-bug: #1289064\n(cherry picked from commit ae2e5650d14a2c81dd397727d67b60f9b8dd0dd7)\n(cherry picked from commit 52b89734426253f64b6d4797ba4d849c3020fb52)\n""}, {'number': 5, 'created': '2019-04-01 10:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/adff62a82984e7bde289ee142518a819ba177e93', 'message': ""Fail to live migration if instance has a NUMA topology\n\nLive migration is currently totally broken if a NUMA topology is\npresent. This affects everything that's been regrettably stuffed in with\nNUMA topology including CPU pinning, hugepage support and emulator\nthread support. Side effects can range from simple unexpected\nperformance hits (due to instances running on the same cores) to\ncomplete failures (due to instance cores or huge pages being mapped to\nCPUs/NUMA nodes that don't exist on the destination host).\n\nUntil such a time as we resolve these issues, we should alert users to\nthe fact that such issues exist. A workaround option is provided for\noperators that _really_ need the broken behavior, but it's defaulted to\nFalse to highlight the brokenness of this feature to unsuspecting\noperators.\n\nConflicts:\n\tnova/conf/workarounds.py\n\tnova/tests/unit/api/openstack/compute/admin_only_action_common.py\n\tnova/tests/unit/api/openstack/compute/test_migrate_server.py\n\tnova/tests/unit/conductor/tasks/test_live_migrate.py\n\nNOTE(stephenfin): stable/rocky conflicts due to removal of\n'report_ironic_standard_resource_class_inventory' option and addition of\nchange Iaea1cb4ed93bb98f451de4f993106d7891ca3682 on master.\n\nNOTE(stephenfin): stable/queens conflicts due to presence of\nthe 'enable_consoleauth' configuration option, change\nI83b473e9ba557545b5c186f979e068e442de2424 in stable/rocky. A hyperlink\nis removed from the config option help text as the version of\n'oslo.config' used here does not parse help text as rST (bug #1755783).\nFinally Id3c74c019da29070811ffc368351e2238b3f6da5\n\nChange-Id: I217fba9138132b107e9d62895d699d238392e761\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nRelated-bug: #1289064\n(cherry picked from commit ae2e5650d14a2c81dd397727d67b60f9b8dd0dd7)\n(cherry picked from commit 52b89734426253f64b6d4797ba4d849c3020fb52)\n""}, {'number': 6, 'created': '2019-05-29 16:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fedbf7a4793bf52b4b12fb234a94af850b8dc6f2', 'message': ""Fail to live migration if instance has a NUMA topology\n\nLive migration is currently totally broken if a NUMA topology is\npresent. This affects everything that's been regrettably stuffed in with\nNUMA topology including CPU pinning, hugepage support and emulator\nthread support. Side effects can range from simple unexpected\nperformance hits (due to instances running on the same cores) to\ncomplete failures (due to instance cores or huge pages being mapped to\nCPUs/NUMA nodes that don't exist on the destination host).\n\nUntil such a time as we resolve these issues, we should alert users to\nthe fact that such issues exist. A workaround option is provided for\noperators that _really_ need the broken behavior, but it's defaulted to\nFalse to highlight the brokenness of this feature to unsuspecting\noperators.\n\nConflicts:\n\tnova/conf/workarounds.py\n\tnova/tests/unit/api/openstack/compute/admin_only_action_common.py\n\tnova/tests/unit/api/openstack/compute/test_migrate_server.py\n\tnova/tests/unit/conductor/tasks/test_live_migrate.py\n\nNOTE(stephenfin): stable/rocky conflicts due to removal of\n'report_ironic_standard_resource_class_inventory' option and addition of\nchange Iaea1cb4ed93bb98f451de4f993106d7891ca3682 on master.\n\nNOTE(stephenfin): stable/queens conflicts due to presence of\nthe 'enable_consoleauth' configuration option and change\nI83b473e9ba557545b5c186f979e068e442de2424 (Mox to mock) in stable/rocky.\nA hyperlink is removed from the config option help text as the version\nof 'oslo.config' used here does not parse help text as rST (bug\n\nChange-Id: I217fba9138132b107e9d62895d699d238392e761\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nRelated-bug: #1289064\n(cherry picked from commit ae2e5650d14a2c81dd397727d67b60f9b8dd0dd7)\n(cherry picked from commit 52b89734426253f64b6d4797ba4d849c3020fb52)\n""}, {'number': 7, 'created': '2019-06-13 15:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b59f65c7124b6b98ea6802fb19e3b52419c2d69', 'message': ""Fail to live migration if instance has a NUMA topology\n\nLive migration is currently totally broken if a NUMA topology is\npresent. This affects everything that's been regrettably stuffed in with\nNUMA topology including CPU pinning, hugepage support and emulator\nthread support. Side effects can range from simple unexpected\nperformance hits (due to instances running on the same cores) to\ncomplete failures (due to instance cores or huge pages being mapped to\nCPUs/NUMA nodes that don't exist on the destination host).\n\nUntil such a time as we resolve these issues, we should alert users to\nthe fact that such issues exist. A workaround option is provided for\noperators that _really_ need the broken behavior, but it's defaulted to\nFalse to highlight the brokenness of this feature to unsuspecting\noperators.\n\nConflicts:\n\tnova/conf/workarounds.py\n\tnova/tests/unit/api/openstack/compute/admin_only_action_common.py\n\tnova/tests/unit/api/openstack/compute/test_migrate_server.py\n\tnova/tests/unit/conductor/tasks/test_live_migrate.py\n\nNOTE(stephenfin): stable/rocky conflicts due to removal of\n'report_ironic_standard_resource_class_inventory' option and addition of\nchange Iaea1cb4ed93bb98f451de4f993106d7891ca3682 on master.\n\nNOTE(stephenfin): stable/queens conflicts due to presence of\nthe 'enable_consoleauth' configuration option and change\nI83b473e9ba557545b5c186f979e068e442de2424 (Mox to mock) in stable/rocky.\nA hyperlink is removed from the config option help text as the version\nof 'oslo.config' used here does not parse help text as rST (bug\n\nChange-Id: I217fba9138132b107e9d62895d699d238392e761\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nRelated-bug: #1289064\n(cherry picked from commit ae2e5650d14a2c81dd397727d67b60f9b8dd0dd7)\n(cherry picked from commit 52b89734426253f64b6d4797ba4d849c3020fb52)\n""}, {'number': 8, 'created': '2019-07-02 14:25:28.000000000', 'files': ['releasenotes/notes/disable-live-migration-with-numa-bc710a1bcde25957.yaml', 'doc/source/common/numa-live-migration-warning.txt', 'nova/conductor/tasks/live_migrate.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py', 'doc/source/admin/adv-config.rst', 'nova/tests/unit/api/openstack/compute/admin_only_action_common.py', 'doc/source/admin/configuring-migrations.rst', 'doc/source/user/feature-classification.rst', 'nova/conf/workarounds.py', 'doc/source/admin/cpu-topologies.rst', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9999bce00f5bea5f3e90ab9e16625d4237504bcb', 'message': ""Fail to live migration if instance has a NUMA topology\n\nLive migration is currently totally broken if a NUMA topology is\npresent. This affects everything that's been regrettably stuffed in with\nNUMA topology including CPU pinning, hugepage support and emulator\nthread support. Side effects can range from simple unexpected\nperformance hits (due to instances running on the same cores) to\ncomplete failures (due to instance cores or huge pages being mapped to\nCPUs/NUMA nodes that don't exist on the destination host).\n\nUntil such a time as we resolve these issues, we should alert users to\nthe fact that such issues exist. A workaround option is provided for\noperators that _really_ need the broken behavior, but it's defaulted to\nFalse to highlight the brokenness of this feature to unsuspecting\noperators.\n\nConflicts:\n\tnova/conf/workarounds.py\n\tnova/tests/unit/api/openstack/compute/admin_only_action_common.py\n\tnova/tests/unit/api/openstack/compute/test_migrate_server.py\n\tnova/tests/unit/conductor/tasks/test_live_migrate.py\n\nNOTE(stephenfin): stable/rocky conflicts due to removal of\n'report_ironic_standard_resource_class_inventory' option and addition of\nchange Iaea1cb4ed93bb98f451de4f993106d7891ca3682 on master.\n\nNOTE(stephenfin): stable/queens conflicts due to presence of\nthe 'enable_consoleauth' configuration option and change\nI83b473e9ba557545b5c186f979e068e442de2424 (Mox to mock) in stable/rocky.\nA hyperlink is removed from the config option help text as the version\nof 'oslo.config' used here does not parse help text as rST (bug 1755783).\n\nChange-Id: I217fba9138132b107e9d62895d699d238392e761\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nRelated-bug: #1289064\n(cherry picked from commit ae2e5650d14a2c81dd397727d67b60f9b8dd0dd7)\n(cherry picked from commit 52b89734426253f64b6d4797ba4d849c3020fb52)\n""}]",5,629597,9999bce00f5bea5f3e90ab9e16625d4237504bcb,69,16,8,15334,,,0,"Fail to live migration if instance has a NUMA topology

Live migration is currently totally broken if a NUMA topology is
present. This affects everything that's been regrettably stuffed in with
NUMA topology including CPU pinning, hugepage support and emulator
thread support. Side effects can range from simple unexpected
performance hits (due to instances running on the same cores) to
complete failures (due to instance cores or huge pages being mapped to
CPUs/NUMA nodes that don't exist on the destination host).

Until such a time as we resolve these issues, we should alert users to
the fact that such issues exist. A workaround option is provided for
operators that _really_ need the broken behavior, but it's defaulted to
False to highlight the brokenness of this feature to unsuspecting
operators.

Conflicts:
	nova/conf/workarounds.py
	nova/tests/unit/api/openstack/compute/admin_only_action_common.py
	nova/tests/unit/api/openstack/compute/test_migrate_server.py
	nova/tests/unit/conductor/tasks/test_live_migrate.py

NOTE(stephenfin): stable/rocky conflicts due to removal of
'report_ironic_standard_resource_class_inventory' option and addition of
change Iaea1cb4ed93bb98f451de4f993106d7891ca3682 on master.

NOTE(stephenfin): stable/queens conflicts due to presence of
the 'enable_consoleauth' configuration option and change
I83b473e9ba557545b5c186f979e068e442de2424 (Mox to mock) in stable/rocky.
A hyperlink is removed from the config option help text as the version
of 'oslo.config' used here does not parse help text as rST (bug 1755783).

Change-Id: I217fba9138132b107e9d62895d699d238392e761
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Related-bug: #1289064
(cherry picked from commit ae2e5650d14a2c81dd397727d67b60f9b8dd0dd7)
(cherry picked from commit 52b89734426253f64b6d4797ba4d849c3020fb52)
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/629597/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/disable-live-migration-with-numa-bc710a1bcde25957.yaml', 'doc/source/common/numa-live-migration-warning.txt', 'nova/conductor/tasks/live_migrate.py', 'nova/api/openstack/compute/migrate_server.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py', 'doc/source/admin/adv-config.rst', 'nova/tests/unit/api/openstack/compute/admin_only_action_common.py', 'doc/source/admin/configuring-migrations.rst', 'doc/source/user/feature-classification.rst', 'nova/conf/workarounds.py', 'doc/source/admin/cpu-topologies.rst', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py']",12,69066cbbd5caaee14cb422e1b3eba338e6e2bd3e,bug/1761062," instance = self._stub_instance_get('_migrate_live') instance = self._stub_instance_get('_migrate_live', uuid=uuid) instance = self._stub_instance_get('_migrate_live') instance = self._stub_instance_get('_migrate_live')", instance = self._stub_instance_get() instance = self._stub_instance_get(uuid=uuid) instance = self._stub_instance_get() instance = self._stub_instance_get(),175,21
openstack%2Fnova~master~I79bc1cdab28474d8e979ef9b7a07b674013d2ac3,openstack/nova,master,I79bc1cdab28474d8e979ef9b7a07b674013d2ac3,Remove 'MultiattachSupportNotYetAvailable' exception,MERGED,2019-04-09 16:15:52.000000000,2019-07-10 12:05:04.000000000,2019-07-03 23:00:12.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-04-09 16:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07dcc5bcef1327c862f3e37211d9743c01a5aa30', 'message': 'WIP: Enable multiattach in all cases\n\nWith the removal of cells v1, we can now enable this by default. Most of\nthis change is removal of tests.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I79bc1cdab28474d8e979ef9b7a07b674013d2ac3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-06-12 16:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a713a9978393eff1a533cf19238239edf683a57', 'message': ""Remove 'MultiattachNotSupportedByVirtDriver'\n\nWith the removal of cinder < v3.44 support and cells v1 support, there\nis no longer anything raising the aforementioned exception. Remove\nsupport for it.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I79bc1cdab28474d8e979ef9b7a07b674013d2ac3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-06-12 16:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91df8b70b95e67ebed65445fa419f797ce8aeaee', 'message': ""Remove 'MultiattachSupportNotYetAvailable' exception\n\nWith the removal of cinder < v3.44 support and cells v1 support, there\nis no longer anything raising the aforementioned exception. Remove\nreferences to it.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I79bc1cdab28474d8e979ef9b7a07b674013d2ac3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-06-13 14:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71086867fc746875fd89dfd94ca2ae4aca5ccdfa', 'message': ""Remove 'MultiattachSupportNotYetAvailable' exception\n\nWith the removal of cinder < v3.44 support and cells v1 support, there\nis no longer anything raising the aforementioned exception. Remove\nreferences to it.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I79bc1cdab28474d8e979ef9b7a07b674013d2ac3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2019-06-14 15:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60c074958ee6840f3c451e9447d37f67455c877a', 'message': ""Remove 'MultiattachSupportNotYetAvailable' exception\n\nWith the removal of cinder < v3.44 support and cells v1 support, there\nis no longer anything raising the aforementioned exception. Remove\nreferences to it.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I79bc1cdab28474d8e979ef9b7a07b674013d2ac3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2019-06-15 15:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7c0b4b9c0af0aaa139a5b4cee8c5304c91e0efe', 'message': ""Remove 'MultiattachSupportNotYetAvailable' exception\n\nWith the removal of cinder < v3.44 support and cells v1 support, there\nis no longer anything raising the aforementioned exception. Remove\nreferences to it.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I79bc1cdab28474d8e979ef9b7a07b674013d2ac3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2019-06-28 00:51:10.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/exception.py', 'nova/api/openstack/compute/volumes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e750c8e86289561483cecac93ef082658e8ae745', 'message': ""Remove 'MultiattachSupportNotYetAvailable' exception\n\nWith the removal of cinder < v3.44 support and cells v1 support, there\nis no longer anything raising the aforementioned exception. Remove\nreferences to it.\n\nPart of blueprint remove-cells-v1\n\nChange-Id: I79bc1cdab28474d8e979ef9b7a07b674013d2ac3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,651315,e750c8e86289561483cecac93ef082658e8ae745,72,18,7,15334,,,0,"Remove 'MultiattachSupportNotYetAvailable' exception

With the removal of cinder < v3.44 support and cells v1 support, there
is no longer anything raising the aforementioned exception. Remove
references to it.

Part of blueprint remove-cells-v1

Change-Id: I79bc1cdab28474d8e979ef9b7a07b674013d2ac3
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/651315/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/api/openstack/compute/volumes.py', 'nova/api/openstack/compute/servers.py', 'nova/tests/functional/regressions/test_bug_1404867.py', 'nova/exception.py', 'nova/tests/functional/wsgi/test_servers.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/functional/regressions/test_bug_1675570.py', 'nova/tests/functional/compute/test_live_migration.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/functional/api_sample_tests/test_volumes.py', 'nova/compute/api.py']",14,07dcc5bcef1327c862f3e37211d9743c01a5aa30,bp/remove-cells-v1," exception.MultiattachNotSupportedOldMicroversion): # Attempt a new style volume attachment, but fallback to old-style # in case Cinder API 3.44 isn't available. try: attachment_id = self.volume_api.attachment_create( context, volume_id, instance['uuid'])['id'] bdm.attachment_id = attachment_id # NOTE(ildikov): In case of boot from volume the BDM at this # point is not yet created in a cell database, so we can't # call save(). When attaching a volume to an existing # instance, the instance is already in a cell and the BDM has # been created in that same cell so updating here in that case # is ""ok"". if bdm.obj_attr_is_set('id'): bdm.save() except exception.CinderAPIVersionNotAvailable: LOG.debug('The available Cinder microversion is not high ' 'enough to create new style volume attachment.') try: # Check to see if Cinder is new enough to create new-style # attachments. cinder.is_microversion_supported(context, '3.44') except exception.CinderAPIVersionNotAvailable: pass else: # Make sure the volume isn't already attached to this instance # because based on the above checks, we'll use the new style # attachment flow in _check_attach_and_reserve_volume and # Cinder will allow multiple attachments between the same # volume and instance but the old flow API semantics don't # allow that so we enforce it here. self._check_volume_already_attached_to_instance(context, instance, volume_id)","CINDER_V3_ATTACH_MIN_COMPUTE_VERSION = 24 MIN_COMPUTE_MULTIATTACH = 27 exception.MultiattachNotSupportedOldMicroversion, exception.MultiattachSupportNotYetAvailable): if 'id' in instance: # This is a volume attach to an existing instance, so # we only care about the cell the instance is in. min_compute_version = objects.Service.get_minimum_version( context, 'nova-compute') else: # The instance is being created and we don't know which # cell it's going to land in, so check all cells. # NOTE(danms): We don't require all cells to report here since # we're really concerned about the new-ness of cells that the # instance may be scheduled into. If a cell doesn't respond here, # then it won't be a candidate for the instance and thus doesn't # matter. min_compute_version = \ objects.service.get_minimum_version_all_cells( context, ['nova-compute']) # Check to see if the computes have been upgraded to support # booting from a multiattach volume. if (volume['multiattach'] and min_compute_version < MIN_COMPUTE_MULTIATTACH): raise exception.MultiattachSupportNotYetAvailable() if min_compute_version >= CINDER_V3_ATTACH_MIN_COMPUTE_VERSION: # Attempt a new style volume attachment, but fallback to old-style # in case Cinder API 3.44 isn't available. try: attachment_id = self.volume_api.attachment_create( context, volume_id, instance.uuid)['id'] bdm.attachment_id = attachment_id # NOTE(ildikov): In case of boot from volume the BDM at this # point is not yet created in a cell database, so we can't # call save(). When attaching a volume to an existing # instance, the instance is already in a cell and the BDM has # been created in that same cell so updating here in that case # is ""ok"". if bdm.obj_attr_is_set('id'): bdm.save() except exception.CinderAPIVersionNotAvailable: LOG.debug('The available Cinder microversion is not high ' 'enough to create new style volume attachment.') self.volume_api.reserve_volume(context, volume_id) else: LOG.debug('The compute service version is not high enough to ' 'create a new style volume attachment.') # Check to see if the computes in this cell can support new-style # volume attachments. min_compute_version = objects.Service.get_minimum_version( context, 'nova-compute') if min_compute_version >= CINDER_V3_ATTACH_MIN_COMPUTE_VERSION: try: # Check to see if Cinder is new enough to create new-style # attachments. cinder.is_microversion_supported(context, '3.44') except exception.CinderAPIVersionNotAvailable: pass else: # Make sure the volume isn't already attached to this instance # because based on the above checks, we'll use the new style # attachment flow in _check_attach_and_reserve_volume and # Cinder will allow multiple attachments between the same # volume and instance but the old flow API semantics don't # allow that so we enforce it here. self._check_volume_already_attached_to_instance(context, instance, volume_id)",63,797
openstack%2Fnova~master~I7e2df32029e4cff57a0dddcd905b6c1aac207546,openstack/nova,master,I7e2df32029e4cff57a0dddcd905b6c1aac207546,Remove assumption of http error if consumer not exists,MERGED,2019-07-04 14:21:05.000000000,2019-07-10 12:04:29.000000000,2019-07-09 13:16:57.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-04 14:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4ba59261db8438f92a4665bf79fdf5a60777dff', 'message': 'Remove assumption of http error if consumer not exists\n\nThe heal_allocations_for_instance assumes that placement GET\n/allocations/<instance_uuid> query returns an error code if the consumer\ndoes not exists in placement. However placement returns an empty\nallocation instead.\n\nThis patch removes such assumption and treates the negative response\nfrom placement as a fatal error.\n\nChange-Id: I7e2df32029e4cff57a0dddcd905b6c1aac207546\nCloses-Bug: #1835419\n'}, {'number': 2, 'created': '2019-07-08 15:32:58.000000000', 'files': ['nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e6f011926295e0a36fa06c46f69525bcd7fa25dd', 'message': 'Remove assumption of http error if consumer not exists\n\nThe heal_allocations_for_instance assumes that placement GET\n/allocations/<instance_uuid> query returns an error code if the consumer\ndoes not exists in placement. However placement returns an empty\nallocation instead.\n\nThis patch removes such assumption and treates the negative response\nfrom placement as a fatal error.\n\nChange-Id: I7e2df32029e4cff57a0dddcd905b6c1aac207546\nCloses-Bug: #1835419\n'}]",9,669188,e6f011926295e0a36fa06c46f69525bcd7fa25dd,38,14,2,9708,,,0,"Remove assumption of http error if consumer not exists

The heal_allocations_for_instance assumes that placement GET
/allocations/<instance_uuid> query returns an error code if the consumer
does not exists in placement. However placement returns an empty
allocation instead.

This patch removes such assumption and treates the negative response
from placement as a fatal error.

Change-Id: I7e2df32029e4cff57a0dddcd905b6c1aac207546
Closes-Bug: #1835419
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/669188/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py']",2,b4ba59261db8438f92a4665bf79fdf5a60777dff,bug/1835419," except (ks_exc.ClientException, exception.ConsumerAllocationRetrievalFailed) as e: # Placement response can have an empty {'allocations': {}} in it if # there are no allocations for the instance if not allocations.get('allocations'):"," except ks_exc.ClientException as e: except exception.ConsumerAllocationRetrievalFailed as e: output(_(""Allocation retrieval failed: %s"") % e) allocations = None # get_allocations_for_consumer uses safe_connect which will # return None if we can't communicate with Placement, and the # response can have an empty {'allocations': {}} response if # there are no allocations for the instance so handle both if not allocations or not allocations.get('allocations'):",10,20
openstack%2Fnova~master~I2bed0b546805885120d7f73e212c8d7e48c19f49,openstack/nova,master,I2bed0b546805885120d7f73e212c8d7e48c19f49,libvirt: vif: Remove MIN_LIBVIRT_MACVTAP_PASSTHROUGH_VLAN,MERGED,2019-07-04 13:27:26.000000000,2019-07-10 12:04:02.000000000,2019-07-05 23:00:12.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-04 13:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91d1d17c759db2e36a2c835387717ba1ecc6bf00', 'message': 'libvirt: vif: Remove MIN_LIBVIRT_MACVTAP_PASSTHROUGH_VLAN\n\nThe updated minimum required libvirt (3.0.0) and QEMU (2.8.0) for\n""Stein"" satisfy the version requirements; this was done in Change-Id:\nI408baef12 (commit 0b1548a988  libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION\nfor ""Stein"", 2019-01-22).  So we now no longer need the paleolithic-era\nMIN_LIBVIRT_MACVTAP_PASSTHROUGH_VLAN.\n\nDrop the related compatibility code, remove / fix relevant unit tests.\n\nChange-Id: I2bed0b546805885120d7f73e212c8d7e48c19f49\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 2, 'created': '2019-07-05 09:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9276344712132eacc49471df0f10c2ce5d5275ca', 'message': 'libvirt: vif: Remove MIN_LIBVIRT_MACVTAP_PASSTHROUGH_VLAN\n\nThe updated minimum required libvirt (3.0.0) and QEMU (2.8.0) for\n""Stein"" satisfy the version requirements; this was done in Change-Id:\nI408baef12 (commit 0b1548a988  libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION\nfor ""Stein"", 2019-01-22).  So we now no longer need the paleolithic-era\nMIN_LIBVIRT_MACVTAP_PASSTHROUGH_VLAN.\n\nDrop the related compatibility code, remove / fix relevant unit tests.\n\nChange-Id: I2bed0b546805885120d7f73e212c8d7e48c19f49\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 3, 'created': '2019-07-05 11:48:11.000000000', 'files': ['nova/virt/libvirt/vif.py', 'nova/tests/unit/virt/libvirt/test_vif.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4a5322ea8dff9fa09372a20fcf9839da98f721be', 'message': 'libvirt: vif: Remove MIN_LIBVIRT_MACVTAP_PASSTHROUGH_VLAN\n\nThe updated minimum required libvirt (3.0.0) and QEMU (2.8.0) for\n""Stein"" satisfy the version requirements; this was done in Change-Id:\nI408baef12 (commit 0b1548a988  libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION\nfor ""Stein"", 2019-01-22).  So we now no longer need the paleolithic-era\nMIN_LIBVIRT_MACVTAP_PASSTHROUGH_VLAN.\n\nDrop the related compatibility code, remove / fix relevant unit tests.\n\nChange-Id: I2bed0b546805885120d7f73e212c8d7e48c19f49\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}]",0,669176,4a5322ea8dff9fa09372a20fcf9839da98f721be,25,11,3,6962,,,0,"libvirt: vif: Remove MIN_LIBVIRT_MACVTAP_PASSTHROUGH_VLAN

The updated minimum required libvirt (3.0.0) and QEMU (2.8.0) for
""Stein"" satisfy the version requirements; this was done in Change-Id:
I408baef12 (commit 0b1548a988  libvirt: Bump MIN_{LIBVIRT,QEMU}_VERSION
for ""Stein"", 2019-01-22).  So we now no longer need the paleolithic-era
MIN_LIBVIRT_MACVTAP_PASSTHROUGH_VLAN.

Drop the related compatibility code, remove / fix relevant unit tests.

Change-Id: I2bed0b546805885120d7f73e212c8d7e48c19f49
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/669176/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'nova/tests/unit/virt/libvirt/test_vif.py']",2,91d1d17c759db2e36a2c835387717ba1ecc6bf00,Bump_min_libvirt_and_QEMU_for_Stein,," vlan = node.find(""vlan"") self.assertIsNone(vlan)",0,9
openstack%2Fnova~master~I5a0de814f2868f1a4980a69b72b45ee829cedb94,openstack/nova,master,I5a0de814f2868f1a4980a69b72b45ee829cedb94,"libvirt: Remove MIN_{QEMU,LIBVIRT}_LUKS_VERSION",MERGED,2019-07-03 14:35:31.000000000,2019-07-10 12:03:53.000000000,2019-07-05 18:25:05.000000000,"[{'_account_id': 5754}, {'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-03 14:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c19e586e61afa4b600bf843fdbe20bef12dbb0e2', 'message': 'libvirt: Remove MIN_{QEMU,LIBVIRT}_LUKS_VERSION\n\nThe MIN_LIBVIRT_LUKS_VERSION and MIN_QEMU_LUKS_VERSION constants[*] are\nnow longer required.  The updated minimum required libvirt (3.0.0) and\nQEMU (2.8.0) for ""Stein"" satisfy the version requirements.  So we can\ndrop the compatibility code.\n\nAlso remove / fix relevant unit tests.\n\n[*] Added in commit f8e24c33f8 (libvirt: QEMU native LUKS decryption for\n    encrypted volumes, 2017-05-16)\n\nChange-Id: I5a0de814f2868f1a4980a69b72b45ee829cedb94\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 2, 'created': '2019-07-04 08:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/704eb9a3a71bf07dc844bda65eeb4b8dafcaf3f6', 'message': 'libvirt: Remove MIN_{QEMU,LIBVIRT}_LUKS_VERSION\n\nThe MIN_LIBVIRT_LUKS_VERSION and MIN_QEMU_LUKS_VERSION constants[*] are\nnow longer required.  The updated minimum required libvirt (3.0.0) and\nQEMU (2.8.0) for ""Stein"" satisfy the version requirements.  So we can\ndrop the compatibility code.\n\nAlso remove / fix relevant unit tests.\n\n[*] Added in commit f8e24c33f8 (libvirt: QEMU native LUKS decryption for\n    encrypted volumes, 2017-05-16)\n\nChange-Id: I5a0de814f2868f1a4980a69b72b45ee829cedb94\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 3, 'created': '2019-07-04 10:06:41.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/616bfa9c425e3339d66ef371c0cff0484a1157b2', 'message': 'libvirt: Remove MIN_{QEMU,LIBVIRT}_LUKS_VERSION\n\nThe MIN_LIBVIRT_LUKS_VERSION and MIN_QEMU_LUKS_VERSION constants[*] are\nnow longer required.  The updated minimum required libvirt (3.0.0) and\nQEMU (2.8.0) for ""Stein"" satisfy the version requirements.  This was\nadded in Change-Id: I408baef12 (commit 0b1548a988  libvirt: Bump\nMIN_{LIBVIRT,QEMU}_VERSION for ""Stein"", 2019-01-22).\n\nDrop the compatibility code, remove / fix relevant unit tests.\n\n[*] Added in commit f8e24c33f8 (libvirt: QEMU native LUKS decryption for\n    encrypted volumes, 2017-05-16)\n\nChange-Id: I5a0de814f2868f1a4980a69b72b45ee829cedb94\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}]",9,668924,616bfa9c425e3339d66ef371c0cff0484a1157b2,39,14,3,6962,,,0,"libvirt: Remove MIN_{QEMU,LIBVIRT}_LUKS_VERSION

The MIN_LIBVIRT_LUKS_VERSION and MIN_QEMU_LUKS_VERSION constants[*] are
now longer required.  The updated minimum required libvirt (3.0.0) and
QEMU (2.8.0) for ""Stein"" satisfy the version requirements.  This was
added in Change-Id: I408baef12 (commit 0b1548a988  libvirt: Bump
MIN_{LIBVIRT,QEMU}_VERSION for ""Stein"", 2019-01-22).

Drop the compatibility code, remove / fix relevant unit tests.

[*] Added in commit f8e24c33f8 (libvirt: QEMU native LUKS decryption for
    encrypted volumes, 2017-05-16)

Change-Id: I5a0de814f2868f1a4980a69b72b45ee829cedb94
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/668924/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,c19e586e61afa4b600bf843fdbe20bef12dbb0e2,Bump_min_libvirt_and_QEMU_for_Stein, # The required QEMU and Libvirt versions are always available," # True only when the required QEMU and Libvirt versions are available # Always False when the required QEMU and Libvirt versions are not # available on the host. mock_has_min_version.return_value = False self.assertFalse(drvr._use_native_luks({})) self.assertFalse(drvr._use_native_luks({ 'provider': 'nova.volume.encryptors.cryptsetup.CryptSetupEncryptor' })) self.assertFalse(drvr._use_native_luks({ 'provider': 'CryptSetupEncryptor'})) self.assertFalse(drvr._use_native_luks({ 'provider': encryptors.PLAIN})) self.assertFalse(drvr._use_native_luks({ 'provider': 'nova.volume.encryptors.luks.LuksEncryptor'})) self.assertFalse(drvr._use_native_luks({ 'provider': 'LuksEncryptor'})) self.assertFalse(drvr._use_native_luks({ 'provider': encryptors.LUKS})) self.stub_out('nova.virt.libvirt.driver.LibvirtDriver.' '_is_native_luks_available', lambda self: dest_supports_native_luks) mock.patch.object(drvr, '_is_native_luks_available'),",4,35
openstack%2Fnova~stable%2Fqueens~I5127227a1e3d76dd413a820b048547ba578aff6b,openstack/nova,stable/queens,I5127227a1e3d76dd413a820b048547ba578aff6b,fix up numa-topology live migration hypervisor check,MERGED,2019-04-01 10:13:44.000000000,2019-07-10 12:03:37.000000000,2019-07-04 00:16:14.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8768}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-01 10:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0943071cafaef8fdf0f2878c90dc459039cc425', 'message': 'fix up numa-topology live migration hypervisor check\n\nIt turns out that even when KVM is supported by qemu the libvirt\ndriver will report the hypervisor type as ""QEMU"".  So we need to\nfix up the hypervisor type check in the live migration code that\nchecks whether the instance has a NUMA topology.\n\nCloses-Bug: #1818092\nChange-Id: I5127227a1e3d76dd413a820b048547ba578aff6b\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n(cherry picked from commit 4da058723332a58323640fabce3d95902946a07d)\n(cherry picked from commit ecdf3c67ee464139d8a6f9cb8d332857f261228b)\n'}, {'number': 2, 'created': '2019-05-29 16:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80dd60eb226b76ff9b3ebdda586f4712d6c17fd4', 'message': 'fix up numa-topology live migration hypervisor check\n\nIt turns out that even when KVM is supported by qemu the libvirt\ndriver will report the hypervisor type as ""QEMU"".  So we need to\nfix up the hypervisor type check in the live migration code that\nchecks whether the instance has a NUMA topology.\n\nCloses-Bug: #1818092\nChange-Id: I5127227a1e3d76dd413a820b048547ba578aff6b\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n(cherry picked from commit 4da058723332a58323640fabce3d95902946a07d)\n(cherry picked from commit ecdf3c67ee464139d8a6f9cb8d332857f261228b)\n'}, {'number': 3, 'created': '2019-06-13 15:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/239dbb5107eb752fb8a167a143baa7dcf5ab9f4f', 'message': 'fix up numa-topology live migration hypervisor check\n\nIt turns out that even when KVM is supported by qemu the libvirt\ndriver will report the hypervisor type as ""QEMU"".  So we need to\nfix up the hypervisor type check in the live migration code that\nchecks whether the instance has a NUMA topology.\n\nCloses-Bug: #1818092\nChange-Id: I5127227a1e3d76dd413a820b048547ba578aff6b\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n(cherry picked from commit 4da058723332a58323640fabce3d95902946a07d)\n(cherry picked from commit ecdf3c67ee464139d8a6f9cb8d332857f261228b)\n'}, {'number': 4, 'created': '2019-07-02 14:25:41.000000000', 'files': ['nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9cbd2aeddec61c58aad5fd3efcf16c65612d2db7', 'message': 'fix up numa-topology live migration hypervisor check\n\nIt turns out that even when KVM is supported by qemu the libvirt\ndriver will report the hypervisor type as ""QEMU"".  So we need to\nfix up the hypervisor type check in the live migration code that\nchecks whether the instance has a NUMA topology.\n\nCloses-Bug: #1818092\nChange-Id: I5127227a1e3d76dd413a820b048547ba578aff6b\nSigned-off-by: Chris Friesen <chris.friesen@windriver.com>\n(cherry picked from commit 4da058723332a58323640fabce3d95902946a07d)\n(cherry picked from commit ecdf3c67ee464139d8a6f9cb8d332857f261228b)\n'}]",0,648939,9cbd2aeddec61c58aad5fd3efcf16c65612d2db7,45,13,4,15334,,,0,"fix up numa-topology live migration hypervisor check

It turns out that even when KVM is supported by qemu the libvirt
driver will report the hypervisor type as ""QEMU"".  So we need to
fix up the hypervisor type check in the live migration code that
checks whether the instance has a NUMA topology.

Closes-Bug: #1818092
Change-Id: I5127227a1e3d76dd413a820b048547ba578aff6b
Signed-off-by: Chris Friesen <chris.friesen@windriver.com>
(cherry picked from commit 4da058723332a58323640fabce3d95902946a07d)
(cherry picked from commit ecdf3c67ee464139d8a6f9cb8d332857f261228b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/648939/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']",2,e0943071cafaef8fdf0f2878c90dc459039cc425,bug/1761062," uuid=uuids.cn1, hypervisor_type='QEMU')"," uuid=uuids.cn1, hypervisor_type='kvm')",5,2
openstack%2Fnova~stable%2Frocky~I3bf5587c3a49c807bb14533dbbea8f72dca2f02b,openstack/nova,stable/rocky,I3bf5587c3a49c807bb14533dbbea8f72dca2f02b,"Ignore hw_vif_type for direct, direct-physical vNIC types",MERGED,2019-06-25 12:46:49.000000000,2019-07-10 12:03:33.000000000,2019-07-08 17:35:57.000000000,"[{'_account_id': 782}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-25 12:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/993bb1df0379da189885ffa9505366ca806436c6', 'message': ""Ignore hw_vif_type for direct, direct-physical vNIC types\n\nAs part of the fix for bug #1789074, we stopped setting the VIF model to\nvirtio for a vif_type of 'direct' or 'direct-physical'. However, if\nusers configured the 'hw_vif_type' image metadata property, the VIF\nmodel would be unconditionally set to whatever the user provided. This\nwould result in bug #1789074 recurring. Given that the model attribute\nis unnecessary for these vNIC types, we can resolve this issue by\nsimply ignoring the image metadata property when configuring such VIFs.\n\nChange-Id: I3bf5587c3a49c807bb14533dbbea8f72dca2f02b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-bug: #1797146\n(cherry picked from commit a235451578ad7af25268e82500dff5ba6a64ea4e)\n(cherry picked from commit 7954a9313829aa6c0b5f672692b3397dad755afc)\n""}, {'number': 2, 'created': '2019-07-02 14:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ff2eb34ac37464afe8cddd4bbfcfd066df2aa85', 'message': ""Ignore hw_vif_type for direct, direct-physical vNIC types\n\nAs part of the fix for bug #1789074, we stopped setting the VIF model to\nvirtio for a vif_type of 'direct' or 'direct-physical'. However, if\nusers configured the 'hw_vif_type' image metadata property, the VIF\nmodel would be unconditionally set to whatever the user provided. This\nwould result in bug #1789074 recurring. Given that the model attribute\nis unnecessary for these vNIC types, we can resolve this issue by\nsimply ignoring the image metadata property when configuring such VIFs.\n\nChange-Id: I3bf5587c3a49c807bb14533dbbea8f72dca2f02b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-bug: #1797146\n(cherry picked from commit a235451578ad7af25268e82500dff5ba6a64ea4e)\n(cherry picked from commit 7954a9313829aa6c0b5f672692b3397dad755afc)\n""}, {'number': 3, 'created': '2019-07-02 14:11:31.000000000', 'files': ['nova/virt/libvirt/vif.py', 'nova/tests/unit/virt/libvirt/test_vif.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0142cc840f6680e5011381c6793173ebd0c9ee1e', 'message': ""Ignore hw_vif_type for direct, direct-physical vNIC types\n\nAs part of the fix for bug #1789074, we stopped setting the VIF model to\nvirtio for a vif_type of 'direct' or 'direct-physical'. However, if\nusers configured the 'hw_vif_type' image metadata property, the VIF\nmodel would be unconditionally set to whatever the user provided. This\nwould result in bug #1789074 recurring. Given that the model attribute\nis unnecessary for these vNIC types, we can resolve this issue by\nsimply ignoring the image metadata property when configuring such VIFs.\n\nChange-Id: I3bf5587c3a49c807bb14533dbbea8f72dca2f02b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-bug: #1797146\n(cherry picked from commit a235451578ad7af25268e82500dff5ba6a64ea4e)\n(cherry picked from commit d78310e67a8fcf59465907eddecba4f5145a0a6f)\n""}]",0,667355,0142cc840f6680e5011381c6793173ebd0c9ee1e,28,9,3,15334,,,0,"Ignore hw_vif_type for direct, direct-physical vNIC types

As part of the fix for bug #1789074, we stopped setting the VIF model to
virtio for a vif_type of 'direct' or 'direct-physical'. However, if
users configured the 'hw_vif_type' image metadata property, the VIF
model would be unconditionally set to whatever the user provided. This
would result in bug #1789074 recurring. Given that the model attribute
is unnecessary for these vNIC types, we can resolve this issue by
simply ignoring the image metadata property when configuring such VIFs.

Change-Id: I3bf5587c3a49c807bb14533dbbea8f72dca2f02b
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-bug: #1797146
(cherry picked from commit a235451578ad7af25268e82500dff5ba6a64ea4e)
(cherry picked from commit d78310e67a8fcf59465907eddecba4f5145a0a6f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/667355/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'nova/tests/unit/virt/libvirt/test_vif.py']",2,993bb1df0379da189885ffa9505366ca806436c6,bug/1789074," @mock.patch.object(vif.designer, 'set_vif_guest_frontend_config', wraps=vif.designer.set_vif_guest_frontend_config) def test_model_sriov_direct(self, mock_set): """"""Direct attach vNICs shouldn't retrieve info from image_meta."""""" image_meta = objects.ImageMeta.from_dict( {'properties': {'hw_vif_model': 'virtio'}}) self.assertIsNone(conf.model)"," @mock.patch.object(vif.designer, 'set_vif_guest_frontend_config') def test_model_sriov_direct_multi_queue_not_set(self, mock_set): image_meta = {'properties': {'os_name': 'fedora22'}} image_meta = objects.ImageMeta.from_dict(image_meta)",20,14
openstack%2Fnova~stable%2Frocky~Ia2d5f80b6db59a8f6da03344aeaa6aa599407672,openstack/nova,stable/rocky,Ia2d5f80b6db59a8f6da03344aeaa6aa599407672,Disable limit if affinity(anti)/same(different)host is requested,MERGED,2019-05-15 09:04:42.000000000,2019-07-10 12:03:28.000000000,2019-07-04 18:03:39.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2019-05-15 09:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/689dc927d43bfdb8b56f96edfb791afc557c9090', 'message': 'Disable limit if affinity(anti)/same(different)host is requested\n\nWhen max_placement_results is less than the total number of nodes in\na deployment it may not be possible to use the affinity, anti-affinity,\nsame host or different host filters as there is no guarantee\nfor placement to return the expected hosts under such situations. This\npatch disables the max_placement_results parameter when nova queries\nplacement for ``GET /allocation_candidates`` if the\nrequest_spec.scheduler_hints containts any of group, same_host or\ndifferent_host keys.\n\nConflicts:\n    - nova/tests/unit/scheduler/test_utils.py: because we are missing\n      the following changes in stable/rocky for the header import changes\n      and unit tests\n      1) I7b2718f1a97417693e1176a204d0133f6f5ac098\n      2) I46c97d2641d9685ef59771314665a17a5236097d\n      3) I6e15c6507d037ffe263a460441858ed454b02504\n      4) I7f5f08691ca3f73073c66c29dddb996fb2c2b266\n\nChange-Id: Ia2d5f80b6db59a8f6da03344aeaa6aa599407672\nCloses-Bug: #1827628\n(cherry picked from commit 2f9e972ba3358fc5bc9bdc06faf47b21d509e20f)\n(cherry picked from commit 2da3951e21410c13eb00cd3afc71fa8baec95bdd)\n'}, {'number': 2, 'created': '2019-06-11 21:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39a93a3e8b6465970064c37565636be2e004c750', 'message': 'Disable limit if affinity(anti)/same(different)host is requested\n\nWhen max_placement_results is less than the total number of nodes in\na deployment it may not be possible to use the affinity, anti-affinity,\nsame host or different host filters as there is no guarantee\nfor placement to return the expected hosts under such situations. This\npatch disables the max_placement_results parameter when nova queries\nplacement for ``GET /allocation_candidates`` if the\nrequest_spec.scheduler_hints containts any of group, same_host or\ndifferent_host keys.\n\nNote that due to change If7ea02df42d220c5042947efdef4777509492a0b only\nbeing in Train the test in the backport calls resources_from_request_spec\nwithout the context or fake HostManager parameters.\n\nChange-Id: Ia2d5f80b6db59a8f6da03344aeaa6aa599407672\nCloses-Bug: #1827628\n(cherry picked from commit 2f9e972ba3358fc5bc9bdc06faf47b21d509e20f)\n(cherry picked from commit c094a6ef0c220ace7f717a07bef6fbd87a019190)\n'}, {'number': 3, 'created': '2019-07-01 15:02:47.000000000', 'files': ['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aa19788d7849780e4ca30ea0bd7577a349ece704', 'message': ""Disable limit if affinity(anti)/same(different)host is requested\n\nWhen max_placement_results is less than the total number of nodes in\na deployment it may not be possible to use the affinity, anti-affinity,\nsame host or different host filters as there is no guarantee\nfor placement to return the expected hosts under such situations. This\npatch disables the max_placement_results parameter when nova queries\nplacement for ``GET /allocation_candidates`` if the\nrequest_spec.scheduler_hints containts any of group, same_host or\ndifferent_host keys.\n\nNOTE(mriedem): The RequestGroup used in this backport has to use\nnova.api.openstack.placement.lib.RequestGroup because\nnova.objects.RequestGroup didn't exist until Stein with change\nI46c97d2641d9685ef59771314665a17a5236097d.\n\nChange-Id: Ia2d5f80b6db59a8f6da03344aeaa6aa599407672\nCloses-Bug: #1827628\n(cherry picked from commit 2f9e972ba3358fc5bc9bdc06faf47b21d509e20f)\n(cherry picked from commit c094a6ef0c220ace7f717a07bef6fbd87a019190)\n""}]",5,659246,aa19788d7849780e4ca30ea0bd7577a349ece704,32,11,3,26936,,,0,"Disable limit if affinity(anti)/same(different)host is requested

When max_placement_results is less than the total number of nodes in
a deployment it may not be possible to use the affinity, anti-affinity,
same host or different host filters as there is no guarantee
for placement to return the expected hosts under such situations. This
patch disables the max_placement_results parameter when nova queries
placement for ``GET /allocation_candidates`` if the
request_spec.scheduler_hints containts any of group, same_host or
different_host keys.

NOTE(mriedem): The RequestGroup used in this backport has to use
nova.api.openstack.placement.lib.RequestGroup because
nova.objects.RequestGroup didn't exist until Stein with change
I46c97d2641d9685ef59771314665a17a5236097d.

Change-Id: Ia2d5f80b6db59a8f6da03344aeaa6aa599407672
Closes-Bug: #1827628
(cherry picked from commit 2f9e972ba3358fc5bc9bdc06faf47b21d509e20f)
(cherry picked from commit c094a6ef0c220ace7f717a07bef6fbd87a019190)
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/659246/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py']",2,689dc927d43bfdb8b56f96edfb791afc557c9090,bug/1827628,"import ddt@ddt.ddt @ddt.data( # Test single hint that we are checking for. {'group': [uuids.fake]}, # Test hint we care about and some other random hint. {'same_host': [uuids.fake], 'fake-hint': ['fake-value']}, # Test multiple hints we are checking for. {'same_host': [uuids.server1], 'different_host': [uuids.server2]}) def test_resources_from_request_spec_no_limit_based_on_hint(self, hints): """"""Tests that there is no limit applied to the GET /allocation_candidates query string if a given scheduler hint is in the request spec. """""" flavor = objects.Flavor(vcpus=1, memory_mb=1024, root_gb=15, ephemeral_gb=0, swap=0) fake_spec = objects.RequestSpec( flavor=flavor, scheduler_hints=hints) expected = utils.ResourceRequest() expected._rg_by_id[None] = objects.RequestGroup( use_same_provider=False, resources={ 'VCPU': 1, 'MEMORY_MB': 1024, 'DISK_GB': 15, }, ) expected._limit = None resources = utils.resources_from_request_spec( self.context, fake_spec, self.mock_host_manager) self.assertResourceRequestsEqual(expected, resources) expected_querystring = ( 'resources=DISK_GB%3A15%2CMEMORY_MB%3A1024%2CVCPU%3A1' ) self.assertEqual(expected_querystring, resources.to_querystring()) ",,45,0
openstack%2Fnova~master~I5f8e4d32c6a1d6b61396b4fa11c5d776f432df0c,openstack/nova,master,I5f8e4d32c6a1d6b61396b4fa11c5d776f432df0c,Init HostState.failed_builds,MERGED,2019-06-28 20:21:41.000000000,2019-07-10 12:03:23.000000000,2019-06-29 01:29:47.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-28 20:21:41.000000000', 'files': ['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d540903463aa9b0cf69cefac7cc60e5b70e40a1c', 'message': 'Init HostState.failed_builds\n\nIf _update_from_compute_node returns early and the HostState is\nnot filtered out we can hit an AttributeError in the\nBuildFailureWeigher because the failed_builds attribute is not\nset. This simply initializes the attribute like the other stats\nfields.\n\nChange-Id: I5f8e4d32c6a1d6b61396b4fa11c5d776f432df0c\nCloses-Bug: #1834691\n'}]",8,668243,d540903463aa9b0cf69cefac7cc60e5b70e40a1c,22,12,1,6873,,,0,"Init HostState.failed_builds

If _update_from_compute_node returns early and the HostState is
not filtered out we can hit an AttributeError in the
BuildFailureWeigher because the failed_builds attribute is not
set. This simply initializes the attribute like the other stats
fields.

Change-Id: I5f8e4d32c6a1d6b61396b4fa11c5d776f432df0c
Closes-Bug: #1834691
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/668243/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py']",2,d540903463aa9b0cf69cefac7cc60e5b70e40a1c,bug/1834691, self.failed_builds = 0,,3,0
openstack%2Fnova~master~I6a777b4b7a5729488f939df8c40e49bd40aec3dd,openstack/nova,master,I6a777b4b7a5729488f939df8c40e49bd40aec3dd,Drop pre-cinder 3.44 version compatibility,MERGED,2018-11-30 02:57:40.000000000,2019-07-10 12:03:18.000000000,2019-07-02 01:20:10.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-30 02:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/440e41ed729576b1c807b364720ce82bad3062b4', 'message': 'WIP: Drop pre-cinder 3.44 version compatibility\n\nThe new style volume attach flow semantics, which\nwere needed to support multiattach volumes, relies\non cinder v3.44 and was added in Queens:\n\n  Ifc01dbf98545104c998ab96f65ff8623a6db0f28\n\nNow that we\'re in Stein, let\'s require Cinder API\nto be at least running Queens level code and drop\nthe compat checks for queens level nova-compute code\nand Cinder API older than Queens.\n\nLots of old style attachment test code is dropped\nas a result since we don\'t need the version boundary\nhandling in the API code. The way a lot of the ""new\nflow"" tests were written were as copies of existing\ntests modified for the new flow so the old flow tests\ncould just be dropped later, and that\'s what happens\nin this change.\n\nAlong with this, a check is added to the nova-status\nupgrade check command to make sure deployments are\nready for this before upgrading nova to Stein.\n\nChange-Id: I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n'}, {'number': 2, 'created': '2019-04-04 02:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2573780657950ef26273037b92af245afe0b57e6', 'message': 'WIP: Drop pre-cinder 3.44 version compatibility\n\nThe new style volume attach flow semantics, which\nwere needed to support multiattach volumes, relies\non cinder v3.44 and was added in Queens:\n\n  Ifc01dbf98545104c998ab96f65ff8623a6db0f28\n\nNow that we\'re in Train, let\'s require Cinder API\nto be at least running Queens level code and drop\nthe compat checks for queens level nova-compute code\nand Cinder API older than Queens.\n\nLots of old style attachment test code is dropped\nas a result since we don\'t need the version boundary\nhandling in the API code. The way a lot of the ""new\nflow"" tests were written were as copies of existing\ntests modified for the new flow so the old flow tests\ncould just be dropped later, and that\'s what happens\nin this change.\n\nChange-Id: I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n'}, {'number': 3, 'created': '2019-04-04 15:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6128b7b354681d915020b3c69cc61284da4237f', 'message': 'Drop pre-cinder 3.44 version compatibility\n\nThe new style volume attach flow semantics, which\nwere needed to support multiattach volumes, relies\non cinder v3.44 and was added in Queens:\n\n  Ifc01dbf98545104c998ab96f65ff8623a6db0f28\n\nNow that we\'re in Train, let\'s require Cinder API\nto be at least running Queens level code and drop\nthe compat checks for queens level nova-compute code\nand Cinder API older than Queens.\n\nLots of old style attachment test code is dropped\nas a result since we don\'t need the version boundary\nhandling in the API code. The way a lot of the ""new\nflow"" tests were written were as copies of existing\ntests modified for the new flow so the old flow tests\ncould just be dropped later, and that\'s what happens\nin this change.\n\nChange-Id: I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n'}, {'number': 4, 'created': '2019-04-26 20:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/145e84ff2302a047c02e3b84011fe2ed8f4786e8', 'message': 'Drop pre-cinder 3.44 version compatibility\n\nThe new style volume attach flow semantics, which\nwere needed to support multiattach volumes, relies\non cinder v3.44 and was added in Queens:\n\n  Ifc01dbf98545104c998ab96f65ff8623a6db0f28\n\nNow that we\'re in Train, let\'s require Cinder API\nto be at least running Queens level code and drop\nthe compat checks for queens level nova-compute code\nand Cinder API older than Queens.\n\nLots of old style attachment test code is dropped\nas a result since we don\'t need the version boundary\nhandling in the API code. The way a lot of the ""new\nflow"" tests were written were as copies of existing\ntests modified for the new flow so the old flow tests\ncould just be dropped later, and that\'s what happens\nin this change.\n\nChange-Id: I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n'}, {'number': 5, 'created': '2019-05-03 15:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57ce4a5e291a9ac0d50b815bb78660080b71acf4', 'message': 'Drop pre-cinder 3.44 version compatibility\n\nThe new style volume attach flow semantics, which\nwere needed to support multiattach volumes, relies\non cinder v3.44 and was added in Queens:\n\n  Ifc01dbf98545104c998ab96f65ff8623a6db0f28\n\nNow that we\'re in Train, let\'s require Cinder API\nto be at least running Queens level code and drop\nthe compat checks for queens level nova-compute code\nand Cinder API older than Queens.\n\nLots of old style attachment test code is dropped\nas a result since we don\'t need the version boundary\nhandling in the API code. The way a lot of the ""new\nflow"" tests were written were as copies of existing\ntests modified for the new flow so the old flow tests\ncould just be dropped later, and that\'s what happens\nin this change.\n\nChange-Id: I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n'}, {'number': 6, 'created': '2019-05-18 18:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5f06b8d2309c1ed7705f97a7b6ead265c280fb6', 'message': 'Drop pre-cinder 3.44 version compatibility\n\nThe new style volume attach flow semantics, which\nwere needed to support multiattach volumes, relies\non cinder v3.44 and was added in Queens:\n\n  Ifc01dbf98545104c998ab96f65ff8623a6db0f28\n\nNow that we\'re in Train, let\'s require Cinder API\nto be at least running Queens level code and drop\nthe compat checks for queens level nova-compute code\nand Cinder API older than Queens.\n\nLots of old style attachment test code is dropped\nas a result since we don\'t need the version boundary\nhandling in the API code. The way a lot of the ""new\nflow"" tests were written were as copies of existing\ntests modified for the new flow so the old flow tests\ncould just be dropped later, and that\'s what happens\nin this change.\n\nChange-Id: I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n'}, {'number': 7, 'created': '2019-05-30 16:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e22af9d2692839403ae87b064e11ea35674948fd', 'message': 'Drop pre-cinder 3.44 version compatibility\n\nThe new style volume attach flow semantics, which\nwere needed to support multiattach volumes, relies\non cinder v3.44 and was added in Queens:\n\n  Ifc01dbf98545104c998ab96f65ff8623a6db0f28\n\nNow that we\'re in Train, let\'s require Cinder API\nto be at least running Queens level code and drop\nthe compat checks for queens level nova-compute code\nand Cinder API older than Queens.\n\nLots of old style attachment test code is dropped\nas a result since we don\'t need the version boundary\nhandling in the API code. The way a lot of the ""new\nflow"" tests were written were as copies of existing\ntests modified for the new flow so the old flow tests\ncould just be dropped later, and that\'s what happens\nin this change.\n\nChange-Id: I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n'}, {'number': 8, 'created': '2019-06-05 19:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bca5a6558af888e047a9077a1d2ea5e4d37e8a1c', 'message': 'Drop pre-cinder 3.44 version compatibility\n\nThe new style volume attach flow semantics, which\nwere needed to support multiattach volumes, relies\non cinder v3.44 and was added in Queens:\n\n  Ifc01dbf98545104c998ab96f65ff8623a6db0f28\n\nNow that we\'re in Train, let\'s require Cinder API\nto be at least running Queens level code and drop\nthe compat checks for queens level nova-compute code\nand Cinder API older than Queens.\n\nLots of old style attachment test code is dropped\nas a result since we don\'t need the version boundary\nhandling in the API code. The way a lot of the ""new\nflow"" tests were written were as copies of existing\ntests modified for the new flow so the old flow tests\ncould just be dropped later, and that\'s what happens\nin this change.\n\nChange-Id: I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n'}, {'number': 9, 'created': '2019-06-12 16:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0761f67e924dfb4187706931d455f803e961119', 'message': 'Drop pre-cinder 3.44 version compatibility\n\nThe new style volume attach flow semantics, which\nwere needed to support multiattach volumes, relies\non cinder v3.44 and was added in Queens:\n\n  Ifc01dbf98545104c998ab96f65ff8623a6db0f28\n\nNow that we\'re in Train, let\'s require Cinder API\nto be at least running Queens level code and drop\nthe compat checks for queens level nova-compute code\nand Cinder API older than Queens.\n\nLots of old style attachment test code is dropped\nas a result since we don\'t need the version boundary\nhandling in the API code. The way a lot of the ""new\nflow"" tests were written were as copies of existing\ntests modified for the new flow so the old flow tests\ncould just be dropped later, and that\'s what happens\nin this change.\n\nChange-Id: I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n'}, {'number': 10, 'created': '2019-06-15 15:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90c65ac35c123ad374537d225df1f15ed5916270', 'message': 'Drop pre-cinder 3.44 version compatibility\n\nThe new style volume attach flow semantics, which\nwere needed to support multiattach volumes, relies\non cinder v3.44 and was added in Queens:\n\n  Ifc01dbf98545104c998ab96f65ff8623a6db0f28\n\nNow that we\'re in Train, let\'s require Cinder API\nto be at least running Queens level code and drop\nthe compat checks for queens level nova-compute code\nand Cinder API older than Queens.\n\nLots of old style attachment test code is dropped\nas a result since we don\'t need the version boundary\nhandling in the API code. The way a lot of the ""new\nflow"" tests were written were as copies of existing\ntests modified for the new flow so the old flow tests\ncould just be dropped later, and that\'s what happens\nin this change.\n\nChange-Id: I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n'}, {'number': 11, 'created': '2019-06-28 00:51:10.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/regressions/test_bug_1404867.py', 'nova/tests/functional/regressions/test_bug_1732947.py', 'nova/tests/functional/wsgi/test_servers.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/fixtures.py', 'nova/tests/functional/regressions/test_bug_1675570.py', 'nova/tests/functional/compute/test_live_migration.py', 'nova/tests/functional/api_sample_tests/test_volumes.py', 'nova/tests/functional/regressions/test_bug_1784353.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f260f12ec76e4ad060f02798b8bbba9fe28a657c', 'message': 'Drop pre-cinder 3.44 version compatibility\n\nThe new style volume attach flow semantics, which\nwere needed to support multiattach volumes, relies\non cinder v3.44 and was added in Queens:\n\n  Ifc01dbf98545104c998ab96f65ff8623a6db0f28\n\nNow that we\'re in Train, let\'s require Cinder API\nto be at least running Queens level code and drop\nthe compat checks for queens level nova-compute code\nand Cinder API older than Queens.\n\nLots of old style attachment test code is dropped\nas a result since we don\'t need the version boundary\nhandling in the API code. The way a lot of the ""new\nflow"" tests were written were as copies of existing\ntests modified for the new flow so the old flow tests\ncould just be dropped later, and that\'s what happens\nin this change.\n\nChange-Id: I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n'}]",16,621061,f260f12ec76e4ad060f02798b8bbba9fe28a657c,189,18,11,6873,,,0,"Drop pre-cinder 3.44 version compatibility

The new style volume attach flow semantics, which
were needed to support multiattach volumes, relies
on cinder v3.44 and was added in Queens:

  Ifc01dbf98545104c998ab96f65ff8623a6db0f28

Now that we're in Train, let's require Cinder API
to be at least running Queens level code and drop
the compat checks for queens level nova-compute code
and Cinder API older than Queens.

Lots of old style attachment test code is dropped
as a result since we don't need the version boundary
handling in the API code. The way a lot of the ""new
flow"" tests were written were as copies of existing
tests modified for the new flow so the old flow tests
could just be dropped later, and that's what happens
in this change.

Change-Id: I6a777b4b7a5729488f939df8c40e49bd40aec3dd
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/621061/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/nova-status.rst', 'nova/cmd/status.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'releasenotes/notes/stein-require-cinder-3.44-a0dfb21b3354af87.yaml', 'nova/tests/functional/regressions/test_bug_1404867.py', 'nova/tests/unit/cmd/test_status.py', 'nova/tests/functional/wsgi/test_servers.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/fixtures.py', 'nova/tests/functional/regressions/test_bug_1675570.py', 'nova/tests/functional/compute/test_live_migration.py', 'nova/tests/functional/api_sample_tests/test_volumes.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py']",15,440e41ed729576b1c807b364720ce82bad3062b4,bp/remove-cells-v1," if 'id' not in instance: attachment_id = self.volume_api.attachment_create( context, volume_id, instance.uuid)['id'] bdm.attachment_id = attachment_id # NOTE(ildikov): In case of boot from volume the BDM at this # point is not yet created in a cell database, so we can't # call save(). When attaching a volume to an existing # instance, the instance is already in a cell and the BDM has # been created in that same cell so updating here in that case # is ""ok"". if bdm.obj_attr_is_set('id'): bdm.save() # Make sure the volume isn't already attached to this instance # because we'll use the v3.44 attachment flow in # _check_attach_and_reserve_volume and Cinder will allow multiple # attachments between the same volume and instance but the old flow # API semantics don't allow that so we enforce it here. self._check_volume_already_attached_to_instance(context, instance, volume_id)","CINDER_V3_ATTACH_MIN_COMPUTE_VERSION = 24 if 'id' in instance: # This is a volume attach to an existing instance, so # we only care about the cell the instance is in. min_compute_version = objects.Service.get_minimum_version( context, 'nova-compute') else: if min_compute_version >= CINDER_V3_ATTACH_MIN_COMPUTE_VERSION: # Attempt a new style volume attachment, but fallback to old-style # in case Cinder API 3.44 isn't available. try: attachment_id = self.volume_api.attachment_create( context, volume_id, instance.uuid)['id'] bdm.attachment_id = attachment_id # NOTE(ildikov): In case of boot from volume the BDM at this # point is not yet created in a cell database, so we can't # call save(). When attaching a volume to an existing # instance, the instance is already in a cell and the BDM has # been created in that same cell so updating here in that case # is ""ok"". if bdm.obj_attr_is_set('id'): bdm.save() except exception.CinderAPIVersionNotAvailable: LOG.debug('The available Cinder microversion is not high ' 'enough to create new style volume attachment.') self.volume_api.reserve_volume(context, volume_id) else: LOG.debug('The compute service version is not high enough to ' 'create a new style volume attachment.') self.volume_api.reserve_volume(context, volume_id) # Check to see if the computes in this cell can support new-style # volume attachments. min_compute_version = objects.Service.get_minimum_version( context, 'nova-compute') if min_compute_version >= CINDER_V3_ATTACH_MIN_COMPUTE_VERSION: try: # Check to see if Cinder is new enough to create new-style # attachments. cinder.is_microversion_supported(context, '3.44') except exception.CinderAPIVersionNotAvailable: pass else: # Make sure the volume isn't already attached to this instance # because based on the above checks, we'll use the new style # attachment flow in _check_attach_and_reserve_volume and # Cinder will allow multiple attachments between the same # volume and instance but the old flow API semantics don't # allow that so we enforce it here. self._check_volume_already_attached_to_instance(context, instance, volume_id)",135,1073
openstack%2Fpuppet-tripleo~stable%2Fqueens~Ic77281cc69230b77224421e3d79d93803ea18bad,openstack/puppet-tripleo,stable/queens,Ic77281cc69230b77224421e3d79d93803ea18bad,Support TLS deployments with KernelDisableIPv6 enabled,MERGED,2019-07-09 16:06:21.000000000,2019-07-10 11:26:50.000000000,2019-07-10 03:16:38.000000000,"[{'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-09 16:06:21.000000000', 'files': ['manifests/tls_proxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9f6cbedae62752bcd330919c39900483fb375e1f', 'message': 'Support TLS deployments with KernelDisableIPv6 enabled\n\nThis will listen on 127.0.0.1 in case ipv6 is disabled.\nThe localhost_address is set in t-h-t kernel-baremetal-puppet.yaml\nin a related patch.\n\nChange-Id: Ic77281cc69230b77224421e3d79d93803ea18bad\nNeeded-By: Ide761c21dc87dadc722e27c9b8a7b68194164cb2\nRelated: rhbz#1703460\n(cherry picked from commit 5061ed8b7b8419f1302d425e05b7f80f4d6d051b)\n'}]",0,669902,9f6cbedae62752bcd330919c39900483fb375e1f,10,4,1,3153,,,0,"Support TLS deployments with KernelDisableIPv6 enabled

This will listen on 127.0.0.1 in case ipv6 is disabled.
The localhost_address is set in t-h-t kernel-baremetal-puppet.yaml
in a related patch.

Change-Id: Ic77281cc69230b77224421e3d79d93803ea18bad
Needed-By: Ide761c21dc87dadc722e27c9b8a7b68194164cb2
Related: rhbz#1703460
(cherry picked from commit 5061ed8b7b8419f1302d425e05b7f80f4d6d051b)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/02/669902/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/tls_proxy.pp'],1,9f6cbedae62752bcd330919c39900483fb375e1f,kernel_disable_ipv6-stable/queens,"# # [*proxy_pass_host*] # The host to connect to. # Defaults to hiera('localhost_address', 'localhost') $preserve_host = false, $proxy_pass_host = hiera('localhost_address', 'localhost') url => ""http://${proxy_pass_host}:${port}/"","," $preserve_host = false url => ""http://localhost:${port}/"",",7,2
openstack%2Fpuppet-tripleo~master~I4b724a515d729c2e8e0da9cb8f081b8325d51a6b,openstack/puppet-tripleo,master,I4b724a515d729c2e8e0da9cb8f081b8325d51a6b,Allow custom per-service bind_options for haproxy,MERGED,2019-05-16 05:16:01.000000000,2019-07-10 11:18:07.000000000,2019-07-10 11:18:07.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 19521}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-16 05:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e154f9e2b4e226edf545462ddc6c2e7e9de1a491', 'message': 'Allow custom per-service bind_options for haproxy\n\nThere are situation when it might be required to use different TLS\nversions between the services. HAproxy configures TLS version on\nbind line in the configuration, there is missing customization.\n\nAt the moment we can only set TLS version globally via ssl_options\n\nThis patch is idea to configure it per-service.\n\nChange-Id: I4b724a515d729c2e8e0da9cb8f081b8325d51a6b\nCloses-Bug: #1829328\n'}, {'number': 2, 'created': '2019-05-16 05:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/95b6535ce46131623dee826db6525ac53522169f', 'message': 'Allow custom per-service bind_options for haproxy\n\nThere are situation when it might be required to use different TLS\nversions between the services. HAproxy configures TLS version on\nbind line in the configuration, there is missing customization.\n\nAt the moment we can only set TLS version globally via ssl_options\n\nThis patch is idea to configure it per-service.\n\nChange-Id: I4b724a515d729c2e8e0da9cb8f081b8325d51a6b\nCloses-Bug: #1829328\n'}, {'number': 3, 'created': '2019-05-16 05:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5428a3af15b33ebcf10b91ebf622a492ff0a3bc8', 'message': 'Allow custom per-service bind_options for haproxy\n\nThere are situation when it might be required to use different TLS\nversions between the services. HAproxy configures TLS version on\nbind line in the configuration, there is missing customization.\n\nAt the moment we can only set TLS version globally via ssl_options\n\nThis patch is idea to configure it per-service.\n\nChange-Id: I4b724a515d729c2e8e0da9cb8f081b8325d51a6b\nCloses-Bug: #1829328\n'}, {'number': 4, 'created': '2019-05-16 06:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/63be5c859101b7c5d76228b846b30bfc020505f7', 'message': 'Allow custom per-service bind_options for haproxy\n\nThere are situation when it might be required to use different TLS\nversions between the services. HAproxy configures TLS version on\nbind line in the configuration, there is missing customization.\n\nAt the moment we can only set TLS version globally via ssl_options\n\nThis patch is idea to configure it per-service.\n\ntripleo::haproxy::cinder::bind_options_internal: ""no-sslv3 no-tlsv10 force-tlsv11""\ntripleo::haproxy::cinder::bind_options_public: ""no-sslv3 no-tlsv10 force-tlsv12""\ntripleo::haproxy::keystone_public::bind_options_internal: ""no-sslv3 no-tlsv10 force-tlsv11""\ntripleo::haproxy::keystone_public::bind_options_public: ""no-sslv3 no-tlsv10 force-tlsv12""\n\nThe template would create something like:\n\nlisten keystone_public\n  bind 10.0.0.103:5000 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem no-sslv3 no-tlsv10 force-tlsv12\n  bind 172.17.1.14:5000 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem no-sslv3 no-tlsv10 force-tlsv11\n\nlisten cinder\n  bind 10.0.0.103:8776 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem no-sslv3 no-tlsv10 force-tlsv12\n  bind 172.17.1.14:8776 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem no-sslv3 no-tlsv10 force-tlsv11\n\nChange-Id: I4b724a515d729c2e8e0da9cb8f081b8325d51a6b\nCloses-Bug: #1829328\n'}, {'number': 5, 'created': '2019-05-16 06:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6a540d884a2a901b18ff726a1764680e0c4085a6', 'message': 'Allow custom per-service bind_options for haproxy\n\nThere are situation when it might be required to use different TLS\nversions between the services. HAproxy configures TLS version on\nbind line in the configuration, there is missing customization.\n\nAt the moment we can only set TLS version globally via ssl_options\n\nThis patch is idea to configure it per-service.\n\ntripleo::haproxy::cinder::bind_options_internal: ""no-sslv3 no-tlsv10 force-tlsv11""\ntripleo::haproxy::cinder::bind_options_public: ""no-sslv3 no-tlsv10 force-tlsv12""\ntripleo::haproxy::keystone_public::bind_options_internal: ""no-sslv3 no-tlsv10 force-tlsv11""\ntripleo::haproxy::keystone_public::bind_options_public: ""no-sslv3 no-tlsv10 force-tlsv12""\n\nThe template would create something like:\n\nlisten keystone_public\n  bind 10.0.0.103:5000 transparent ssl crt ... no-sslv3 no-tlsv10 force-tlsv12\n  bind 172.17.1.14:5000 transparent ssl crt ... no-sslv3 no-tlsv10 force-tlsv11\n\nlisten cinder\n  bind 10.0.0.103:8776 transparent ssl crt ... no-sslv3 no-tlsv10 force-tlsv12\n  bind 172.17.1.14:8776 transparent ssl crt ... no-sslv3 no-tlsv10 force-tlsv11\n\nChange-Id: I4b724a515d729c2e8e0da9cb8f081b8325d51a6b\nCloses-Bug: #1829328\n'}, {'number': 6, 'created': '2019-05-16 06:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2ab915dcbc1249d872ff04c78a9318508df4f9eb', 'message': 'Allow custom per-service bind_options for haproxy\n\nThere are situation when it might be required to use different TLS\nversions between the services. HAproxy configures TLS version on\nbind line in the configuration, there is missing customization.\n\nAt the moment we can only set TLS version globally via ssl_options\n\nThis patch is idea to configure it per-service for example.\n\ntripleo::haproxy::cinder::bind_options_internal: ""force-tlsv11""\ntripleo::haproxy::cinder::bind_options_public: ""force-tlsv12""\ntripleo::haproxy::keystone_public::bind_options_internal: ""force-tlsv11""\ntripleo::haproxy::keystone_public::bind_options_public: ""force-tlsv12""\n\nThe template would create something like:\n\nlisten keystone_public\n  bind 10.0.0.103:5000 transparent ssl ... force-tlsv12\n  bind 172.17.1.14:5000 transparent ssl ... force-tlsv11\n\nlisten cinder\n  bind 10.0.0.103:8776 transparent ssl ... force-tlsv12\n  bind 172.17.1.14:8776 transparent ssl ... force-tlsv11\n\nChange-Id: I4b724a515d729c2e8e0da9cb8f081b8325d51a6b\nCloses-Bug: #1829328\n'}, {'number': 7, 'created': '2019-05-16 06:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/63ebe1f03d842ab3e5f089fed9da3cf74077a524', 'message': 'Allow custom per-service bind_options for haproxy\n\nThere are situation when it might be required to use different TLS\nversions between the services. HAproxy configures TLS version on\nbind line in the configuration, there is missing customization.\n\nAt the moment we can only set TLS version globally via ssl_options\n\nThis patch is idea to configure it per-service for example.\n\ntripleo::haproxy::cinder::internal_bind_options: ""force-tlsv11""\ntripleo::haproxy::cinder::public_bind_options: ""force-tlsv12""\ntripleo::haproxy::keystone_public::internal_bind_options: ""force-tlsv11""\ntripleo::haproxy::keystone_public::public_bind_options: ""force-tlsv12""\n\nThe template would create something like:\n\nlisten keystone_public\n  bind 10.0.0.103:5000 transparent ssl ... force-tlsv12\n  bind 172.17.1.14:5000 transparent ssl ... force-tlsv11\n\nlisten cinder\n  bind 10.0.0.103:8776 transparent ssl ... force-tlsv12\n  bind 172.17.1.14:8776 transparent ssl ... force-tlsv11\n\nChange-Id: I4b724a515d729c2e8e0da9cb8f081b8325d51a6b\nCloses-Bug: #1829328\n'}, {'number': 8, 'created': '2019-05-17 00:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8514d81af2d0a3ddc11fcf298feb9d704a43507a', 'message': ""Allow custom per-service bind_options for haproxy\n\nThere are situation when it might be required to use different TLS\nversions between the services. HAproxy configures TLS version on\nbind line in the configuration, there is missing customization.\n\nAt the moment we can only set TLS version globally via ssl_options\n\nThis patch is idea to configure it per-service for example.\n\ntripleo::haproxy::cinder::internal_bind_options: ['force-tlsv11']\ntripleo::haproxy::cinder::public_bind_options: ['force-tlsv12']\ntripleo::haproxy::keystone_public::internal_bind_options: ['force-tlsv11']\ntripleo::haproxy::keystone_public::public_bind_options: ['force-tlsv12']\n\nThe template would create something like:\n\nlisten keystone_public\n  bind 10.0.0.103:5000 transparent ssl ... force-tlsv12\n  bind 172.17.1.14:5000 transparent ssl ... force-tlsv11\n\nlisten cinder\n  bind 10.0.0.103:8776 transparent ssl ... force-tlsv12\n  bind 172.17.1.14:8776 transparent ssl ... force-tlsv11\n\nChange-Id: I4b724a515d729c2e8e0da9cb8f081b8325d51a6b\nCloses-Bug: #1829328\n""}, {'number': 9, 'created': '2019-05-17 03:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2f2f8a3103e7c5b8eabbc5ae85c56cc64757ad38', 'message': ""Allow custom per-service bind_options for haproxy\n\nThere are situation when it might be required to use different TLS\nversions between the services. HAproxy configures TLS version on\nbind line in the configuration, there is missing customization.\n\nAt the moment we can only set TLS version globally via ssl_options\n\nThis patch is idea to configure it per-service for example.\n\ntripleo::haproxy::cinder::internal_bind_options: 'force-tlsv11'\ntripleo::haproxy::cinder::public_bind_options: 'force-tlsv12'\ntripleo::haproxy::keystone_public::internal_bind_options: 'force-tlsv11'\ntripleo::haproxy::keystone_public::public_bind_options: 'force-tlsv12'\n\nThe template would create something like:\n\nlisten keystone_public\n  bind 10.0.0.103:5000 transparent ssl ... force-tlsv12\n  bind 172.17.1.14:5000 transparent ssl ... force-tlsv11\n\nlisten cinder\n  bind 10.0.0.103:8776 transparent ssl ... force-tlsv12\n  bind 172.17.1.14:8776 transparent ssl ... force-tlsv11\n\nChange-Id: I4b724a515d729c2e8e0da9cb8f081b8325d51a6b\nCloses-Bug: #1829328\n""}, {'number': 10, 'created': '2019-05-17 05:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/18d6fe8f79bf0143c723f2f879c5679200a08382', 'message': ""Allow custom per-service bind_options for haproxy\n\nThere are situation when it might be required to use different TLS\nversions between the services. HAproxy configures TLS version on\nbind line in the configuration, there is missing customization.\n\nAt the moment we can only set TLS version globally via ssl_options\n\nThis patch is idea to configure it per-service for example.\n\ntripleo::haproxy::cinder::internal_bind_options: 'force-tlsv11'\ntripleo::haproxy::cinder::public_bind_options: 'force-tlsv12'\ntripleo::haproxy::keystone_public::internal_bind_options: 'force-tlsv11'\ntripleo::haproxy::keystone_public::public_bind_options: 'force-tlsv12'\n\nThe template would create something like:\n\nlisten keystone_public\n  bind 10.0.0.103:5000 transparent ssl ... force-tlsv12\n  bind 172.17.1.14:5000 transparent ssl ... force-tlsv11\n\nlisten cinder\n  bind 10.0.0.103:8776 transparent ssl ... force-tlsv12\n  bind 172.17.1.14:8776 transparent ssl ... force-tlsv11\n\nChange-Id: I4b724a515d729c2e8e0da9cb8f081b8325d51a6b\nCloses-Bug: #1829328\n""}, {'number': 11, 'created': '2019-05-18 12:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f0358f4c8492e43c245b61db554780fe2dee3d42', 'message': ""Allow custom per-service bind_options for haproxy\n\nThere are situation when it might be required to use different TLS\nversions between the services. HAproxy configures TLS version on\nbind line in the configuration, there is missing customization.\n\nAt the moment we can only set TLS version globally via ssl_options\n\nThis code's idea it to configure it per-service. For example, with:\nparameter_defaults:\n   ExtraConfig:\n      tripleo::haproxy::cinder::internal_bind_options: 'force-tlsv11'\n      tripleo::haproxy::keystone_public::public_bind_options: 'force-tlsv12'\n      tripleo::haproxy::horizon::public_bind_options: 'force-tlsv11'\n      tripleo::haproxy::horizon::internal_bind_options: 'force-tlsv12'\n\nWe will get something like the following in the haproxy config:\nlisten cinder\n  bind 2620:52:0:13b8:5054:ff:fe3e:1:13776 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem\n  bind fd00:fd00:fd00:2000::17:8776 transparent force-tlsv11\n  ...\n\nlisten keystone_public\n  bind 2620:52:0:13b8:5054:ff:fe3e:1:13000 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem force-tlsv12\n  bind fd00:fd00:fd00:2000::17:5000 transparent\n  ...\n\nlisten horizon\n  bind 2620:52:0:13b8:5054:ff:fe3e:1:443 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem force-tlsv11\n  bind 2620:52:0:13b8:5054:ff:fe3e:1:80 transparent force-tlsv11\n  bind fd00:fd00:fd00:2000::17:443 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem force-tlsv12\n  bind fd00:fd00:fd00:2000::17:80 transparent force-tlsv12\n  ...\n\nThe two {public,internal}_bind_options accept both strings and arrays of\nstrings.\n\nCloses-Bug: #1829328\n\nChange-Id: I4b724a515d729c2e8e0da9cb8f081b8325d51a6b\n""}, {'number': 12, 'created': '2019-05-18 16:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7a7f3b4eb9aa32025f621ff157a77b1499afa148', 'message': ""Allow custom per-service bind_options for haproxy\n\nThere are situation when it might be required to use different TLS\nversions between the services. HAproxy configures TLS version on\nbind line in the configuration, there is missing customization.\n\nAt the moment we can only set TLS version globally via ssl_options\n\nThis code's idea it to configure it per-service. For example, with:\nparameter_defaults:\n   ExtraConfig:\n      tripleo::haproxy::cinder::internal_bind_options: 'force-tlsv11'\n      tripleo::haproxy::keystone_public::public_bind_options: 'force-tlsv12'\n      tripleo::haproxy::horizon::public_bind_options: 'force-tlsv11'\n      tripleo::haproxy::horizon::internal_bind_options: 'force-tlsv12'\n\nWe will get something like the following in the haproxy config:\nlisten cinder\n  bind 2620:52:0:13b8:5054:ff:fe3e:1:13776 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem\n  bind fd00:fd00:fd00:2000::17:8776 transparent force-tlsv11\n  ...\n\nlisten keystone_public\n  bind 2620:52:0:13b8:5054:ff:fe3e:1:13000 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem force-tlsv12\n  bind fd00:fd00:fd00:2000::17:5000 transparent\n  ...\n\nlisten horizon\n  bind 2620:52:0:13b8:5054:ff:fe3e:1:443 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem force-tlsv11\n  bind 2620:52:0:13b8:5054:ff:fe3e:1:80 transparent force-tlsv11\n  bind fd00:fd00:fd00:2000::17:443 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem force-tlsv12\n  bind fd00:fd00:fd00:2000::17:80 transparent force-tlsv12\n  ...\n\nThe two {public,internal}_bind_options accept both strings and arrays of\nstrings.\n\nCloses-Bug: #1829328\n\nChange-Id: I4b724a515d729c2e8e0da9cb8f081b8325d51a6b\n""}, {'number': 13, 'created': '2019-05-18 17:41:23.000000000', 'files': ['releasenotes/notes/haproxy-custom-bind-opts-09226d990c62063d.yaml', 'manifests/haproxy/horizon_endpoint.pp', 'manifests/haproxy/endpoint.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d319662c6c3a3adac6bfa3016ee1c5955070c038', 'message': ""Allow custom per-service bind_options for haproxy\n\nThere are situation when it might be required to use different TLS\nversions between the services. HAproxy configures TLS version on\nbind line in the configuration, there is missing customization.\n\nAt the moment we can only set TLS version globally via ssl_options\n\nThis code's idea it to configure it per-service. For example, with:\nparameter_defaults:\n   ExtraConfig:\n      tripleo::haproxy::cinder::internal_bind_options: 'force-tlsv11'\n      tripleo::haproxy::keystone_public::public_bind_options: 'force-tlsv12'\n      tripleo::haproxy::horizon::public_bind_options: 'force-tlsv11'\n      tripleo::haproxy::horizon::internal_bind_options: 'force-tlsv12'\n\nWe will get something like the following in the haproxy config:\nlisten cinder\n  bind 2620:52:0:13b8:5054:ff:fe3e:1:13776 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem\n  bind fd00:fd00:fd00:2000::17:8776 transparent force-tlsv11\n  ...\n\nlisten keystone_public\n  bind 2620:52:0:13b8:5054:ff:fe3e:1:13000 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem force-tlsv12\n  bind fd00:fd00:fd00:2000::17:5000 transparent\n  ...\n\nlisten horizon\n  bind 2620:52:0:13b8:5054:ff:fe3e:1:443 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem force-tlsv11\n  bind 2620:52:0:13b8:5054:ff:fe3e:1:80 transparent force-tlsv11\n  bind fd00:fd00:fd00:2000::17:443 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem force-tlsv12\n  bind fd00:fd00:fd00:2000::17:80 transparent force-tlsv12\n  ...\n\nThe two {public,internal}_bind_options accept both strings and arrays of\nstrings.\n\nCloses-Bug: #1829328\n\nChange-Id: I4b724a515d729c2e8e0da9cb8f081b8325d51a6b\n""}]",0,659437,d319662c6c3a3adac6bfa3016ee1c5955070c038,46,7,13,19521,,,0,"Allow custom per-service bind_options for haproxy

There are situation when it might be required to use different TLS
versions between the services. HAproxy configures TLS version on
bind line in the configuration, there is missing customization.

At the moment we can only set TLS version globally via ssl_options

This code's idea it to configure it per-service. For example, with:
parameter_defaults:
   ExtraConfig:
      tripleo::haproxy::cinder::internal_bind_options: 'force-tlsv11'
      tripleo::haproxy::keystone_public::public_bind_options: 'force-tlsv12'
      tripleo::haproxy::horizon::public_bind_options: 'force-tlsv11'
      tripleo::haproxy::horizon::internal_bind_options: 'force-tlsv12'

We will get something like the following in the haproxy config:
listen cinder
  bind 2620:52:0:13b8:5054:ff:fe3e:1:13776 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem
  bind fd00:fd00:fd00:2000::17:8776 transparent force-tlsv11
  ...

listen keystone_public
  bind 2620:52:0:13b8:5054:ff:fe3e:1:13000 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem force-tlsv12
  bind fd00:fd00:fd00:2000::17:5000 transparent
  ...

listen horizon
  bind 2620:52:0:13b8:5054:ff:fe3e:1:443 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem force-tlsv11
  bind 2620:52:0:13b8:5054:ff:fe3e:1:80 transparent force-tlsv11
  bind fd00:fd00:fd00:2000::17:443 transparent ssl crt /etc/pki/tls/private/overcloud_endpoint.pem force-tlsv12
  bind fd00:fd00:fd00:2000::17:80 transparent force-tlsv12
  ...

The two {public,internal}_bind_options accept both strings and arrays of
strings.

Closes-Bug: #1829328

Change-Id: I4b724a515d729c2e8e0da9cb8f081b8325d51a6b
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/37/659437/7 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy/endpoint.pp'],1,e154f9e2b4e226edf545462ddc6c2e7e9de1a491,bug/1829328," $custom_bind_options = hiera(""tripleo::haproxy::${name}::bind_options"", undef) $default_public_bind_opts = list_to_hash(suffix(any2array($public_virtual_ip), "":${public_ssl_port}""), $public_bind_opts = merge($default_public_bind_opts, $custom_bind_options) $default_internal_bind_opts = list_to_hash(suffix(any2array($internal_ip), "":${haproxy_port_real}""), $internal_bind_opts = merge($default_internal_bind_opts, $custom_bind_options) $default_internal_bind_opts = list_to_hash(suffix(any2array($internal_ip), "":${haproxy_port_real}""), $internal_bind_opts = merge($default_internal_bind_opts, $custom_bind_options) } else { $default_internal_bind_opts = list_to_hash(suffix(any2array($internal_ip), "":${haproxy_port_real}""), $haproxy_listen_bind_param) $internal_bind_opts = merge($default_internal_bind_opts, $custom_bind_options)"," $public_bind_opts = list_to_hash(suffix(any2array($public_virtual_ip), "":${public_ssl_port}""), $internal_bind_opts = list_to_hash(suffix(any2array($internal_ip), "":${haproxy_port_real}""), $internal_bind_opts = list_to_hash(suffix(any2array($internal_ip), "":${haproxy_port_real}""), } else { $internal_bind_opts = list_to_hash(suffix(any2array($internal_ip), "":${haproxy_port_real}""), $haproxy_listen_bind_param)",10,4
openstack%2Fnetworking-bgpvpn~master~Ieb2be8c2466ef762509a644c14fb4e9c26d82253,openstack/networking-bgpvpn,master,Ieb2be8c2466ef762509a644c14fb4e9c26d82253,Update to opendev repository,MERGED,2019-04-24 06:27:33.000000000,2019-07-10 10:58:44.000000000,2019-07-10 10:58:44.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 12021}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 06:27:33.000000000', 'files': ['doc/source/user/drivers/bagpipe/index.rst', 'doc/source/user/drivers/opendaylight/index.rst', 'doc/source/install/index.rst', 'devstack/devstack-gate-bagpipe-rc', 'README.rst', 'doc/source/user/drivers/index.rst', 'doc/source/user/drivers/opencontrail/index.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/144774bb25bbfbaf487afa940d6d0c621ed7f7ec', 'message': 'Update to opendev repository\n\nChange-Id: Ieb2be8c2466ef762509a644c14fb4e9c26d82253\n'}]",0,655308,144774bb25bbfbaf487afa940d6d0c621ed7f7ec,20,5,1,26584,,,0,"Update to opendev repository

Change-Id: Ieb2be8c2466ef762509a644c14fb4e9c26d82253
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/08/655308/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/drivers/bagpipe/index.rst', 'doc/source/user/drivers/opendaylight/index.rst', 'devstack/devstack-gate-bagpipe-rc', 'doc/source/install/index.rst', 'README.rst', 'doc/source/user/drivers/index.rst', 'doc/source/user/drivers/opencontrail/index.rst', 'tox.ini']",8,144774bb25bbfbaf487afa940d6d0c621ed7f7ec,opendev,"deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} pip install -q -e ""git+https://opendev.org/openstack/networking-bagpipe#egg=networking_bagpipe"" pip install -q -e ""git+https://opendev.org/openstack/neutron#egg=neutron""","deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} pip install -q -e ""git+https://git.openstack.org/openstack/networking-bagpipe#egg=networking_bagpipe"" pip install -q -e ""git+https://git.openstack.org/openstack/neutron#egg=neutron""",19,19
openstack%2Fopenstack-ansible-os_octavia~master~Id066a2fa2107e9eee741f011f869390b90e05664,openstack/openstack-ansible-os_octavia,master,Id066a2fa2107e9eee741f011f869390b90e05664,[DNM] test patch,ABANDONED,2019-06-28 10:08:05.000000000,2019-07-10 10:40:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-28 10:08:05.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/502efea17047aa75cbae3ec89f380a4b2a6040c5', 'message': '[DNM] test patch\n\nDepends-On: I89232f7bfac2398796550880396552a139d14fbc\nChange-Id: Id066a2fa2107e9eee741f011f869390b90e05664\n'}]",0,668137,502efea17047aa75cbae3ec89f380a4b2a6040c5,3,1,1,25023,,,0,"[DNM] test patch

Depends-On: I89232f7bfac2398796550880396552a139d14fbc
Change-Id: Id066a2fa2107e9eee741f011f869390b90e05664
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/37/668137/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,502efea17047aa75cbae3ec89f380a4b2a6040c5,,,,0,0
openstack%2Fkolla-cli~master~I4a9d2c04b43844a4cf86403e464f0627a675802f,openstack/kolla-cli,master,I4a9d2c04b43844a4cf86403e464f0627a675802f,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-10 09:30:48.000000000,2019-07-10 10:14:13.000000000,2019-07-10 10:14:13.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-10 09:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/65e6919b6cb0bc866cdbbf81c322027aa863be2a', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I4a9d2c04b43844a4cf86403e464f0627a675802f\n'}, {'number': 2, 'created': '2019-07-10 09:42:05.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/77d84bba46871a2ec6ff1fab69b546b7e2df3443', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I4a9d2c04b43844a4cf86403e464f0627a675802f\n'}]",1,670022,77d84bba46871a2ec6ff1fab69b546b7e2df3443,10,4,2,28471,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I4a9d2c04b43844a4cf86403e464f0627a675802f
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/22/670022/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/Makefile', 'test-requirements.txt']",2,65e6919b6cb0bc866cdbbf81c322027aa863be2a,,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,178
openstack%2Ftripleo-validations~master~If1658d887aaa8559df919d787223ddff295bac50,openstack/tripleo-validations,master,If1658d887aaa8559df919d787223ddff295bac50,Add Molecule tests for the role xfs-check-ftype.,MERGED,2019-06-26 14:49:05.000000000,2019-07-10 10:10:06.000000000,2019-07-10 10:10:06.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-26 14:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0a0bc345855ffdd917c1fbda9f003ce5eb897029', 'message': 'WIP: Add Molecule tests for the role xfs-check-ftype.\n\nThis is currently only used as a proof-of-concept and still needs\nmore work. Once it is ready, we will need to add CI jobs in Zuul\nfirst and then rebase this patch set.\n\nChange-Id: If1658d887aaa8559df919d787223ddff295bac50\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2019-07-01 19:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/90abbec642e8c083001d3a55e19c45419b5a149a', 'message': 'Add Molecule tests for the role xfs-check-ftype.\n\nChange-Id: If1658d887aaa8559df919d787223ddff295bac50\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 3, 'created': '2019-07-02 14:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fdbd6072aac4b7f71ffab4cc4abf00c80b91e2f5', 'message': 'Add Molecule tests for the role xfs-check-ftype.\n\nChange-Id: If1658d887aaa8559df919d787223ddff295bac50\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 4, 'created': '2019-07-02 16:46:31.000000000', 'files': ['roles/xfs-check-ftype/molecule/default/playbook.yml', 'roles/xfs-check-ftype/molecule/default/molecule.yml', 'roles/xfs-check-ftype/molecule/default/Dockerfile.j2', 'roles/xfs-check-ftype/molecule/default/prepare.yml', 'roles/xfs-check-ftype/molecule/default/verify.yml', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3619fe33e98a136f232fcfb26045594a0a3081b9', 'message': 'Add Molecule tests for the role xfs-check-ftype.\n\nChange-Id: If1658d887aaa8559df919d787223ddff295bac50\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",2,667638,3619fe33e98a136f232fcfb26045594a0a3081b9,23,4,4,25877,,,0,"Add Molecule tests for the role xfs-check-ftype.

Change-Id: If1658d887aaa8559df919d787223ddff295bac50
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/38/667638/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/xfs-check-ftype/molecule/default/playbook.yml', 'roles/xfs-check-ftype/molecule/default/molecule.yml', 'roles/xfs-check-ftype/molecule/default/Dockerfile.j2', 'roles/xfs-check-ftype/molecule/default/prepare.yml', 'roles/xfs-check-ftype/molecule/default/verify.yml']",5,0a0bc345855ffdd917c1fbda9f003ce5eb897029,molecule,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ",,183,0
openstack%2Fkuryr-kubernetes~stable%2Frocky~Ie120289de38eefa66a6a0523fc093509de420e4c,openstack/kuryr-kubernetes,stable/rocky,Ie120289de38eefa66a6a0523fc093509de420e4c,Raise right exception in case Kubernetes respond with not found,MERGED,2019-07-09 10:42:05.000000000,2019-07-10 09:48:19.000000000,2019-07-10 09:48:19.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-07-09 10:42:05.000000000', 'files': ['kuryr_kubernetes/k8s_client.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a4104b35ac3db74a9bb8368d63d0481c964fe432', 'message': 'Raise right exception in case Kubernetes respond with not found\n\nWhen Kubernetes respond with not found to an API call of deletion,\nwe should raise a K8sResourceNotFound exception, right now we are\nraising K8sClientException.\n\nCloses-Bug: 1834634\n\nChange-Id: Ie120289de38eefa66a6a0523fc093509de420e4c\n(cherry picked from commit c8d41c0d498d8337d6ec5dcb28bbc425be55ff39)\n'}]",0,669840,a4104b35ac3db74a9bb8368d63d0481c964fe432,11,4,1,27032,,,0,"Raise right exception in case Kubernetes respond with not found

When Kubernetes respond with not found to an API call of deletion,
we should raise a K8sResourceNotFound exception, right now we are
raising K8sClientException.

Closes-Bug: 1834634

Change-Id: Ie120289de38eefa66a6a0523fc093509de420e4c
(cherry picked from commit c8d41c0d498d8337d6ec5dcb28bbc425be55ff39)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/40/669840/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/k8s_client.py'],1,a4104b35ac3db74a9bb8368d63d0481c964fe432,ensure-right-exception-raised-on-delete-stable/rocky, else: if response.status_code == requests.codes.not_found: raise exc.K8sResourceNotFound(response.text) raise exc.K8sClientException(response), raise exc.K8sClientException(response),4,1
openstack%2Fswift~master~I0f03c211f35a9a49e047a5718a9907b515ca88d7,openstack/swift,master,I0f03c211f35a9a49e047a5718a9907b515ca88d7,py3: Be able to read and write non-ASCII headers,MERGED,2019-05-31 19:08:29.000000000,2019-07-10 09:36:59.000000000,2019-07-10 09:35:35.000000000,"[{'_account_id': 597}, {'_account_id': 6476}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 19:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2812934d060521a59701915c7f19e789de6a0bf6', 'message': ""py3: Stop truncating response headers\n\n... when there's a non-ASCII header name. Values were fine; just not\nnames. See https://bugs.python.org/issue37093 for more information.\n\nChange-Id: I0f03c211f35a9a49e047a5718a9907b515ca88d7\n""}, {'number': 2, 'created': '2019-06-06 23:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3cd558989fc7f292b2341af2eb0faa6abf563e5f', 'message': ""py3: Stop truncating response headers\n\n... when there's a non-ASCII header name. Values were fine; just not\nnames. See https://bugs.python.org/issue37093 for more information.\n\nChange-Id: I0f03c211f35a9a49e047a5718a9907b515ca88d7\n""}, {'number': 3, 'created': '2019-06-17 16:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b00b238e3c8cb6a167cc6b83a64128a48791e22e', 'message': ""py3: Be able to read and write non-ASCII headers\n\nApparently Python's stdlib got more picky about what a header should\nlook like. As a result, if an account, container, or object had a\nnon-ASCII metadata name (values were fine), the proxy-server wouldn't\nparse all of the headers. See https://bugs.python.org/issue37093 for\nmore information.\n\nThis presented several problems:\n- Since the non-ASCII header aborts parsing, we may lose important\n  HTTP-level information like Content-Length or Transfer-Encoding.\n- Since the offending header wouldn't get parsed, the client wouldn't\n  even know what the problem was.\n- Even if the client knew what the bad header was, it would have no way\n  to clear it, as the server uses the same logic to parse incoming\n  requests.\n\nSo, hack in our own header parsing if we detect that parsing was\naborted. Note that we also have to mangle bufferedhttp's putheader so we\ncan get non-ASCII headers to the backend servers.\n\nNow, we can run the test_unicode_metadata tests in\ntest/functional/test_account.py and test/functional/test_container.py\nunder py2 against services running under py3.\n\nChange-Id: I0f03c211f35a9a49e047a5718a9907b515ca88d7\n""}, {'number': 4, 'created': '2019-06-17 20:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0474a932e7ec3d27d2cb69b5b8562ffc7d881950', 'message': ""py3: Be able to read and write non-ASCII headers\n\nApparently Python's stdlib got more picky about what a header should\nlook like. As a result, if an account, container, or object had a\nnon-ASCII metadata name (values were fine), the proxy-server wouldn't\nparse all of the headers. See https://bugs.python.org/issue37093 for\nmore information.\n\nThis presented several problems:\n- Since the non-ASCII header aborts parsing, we may lose important\n  HTTP-level information like Content-Length or Transfer-Encoding.\n- Since the offending header wouldn't get parsed, the client wouldn't\n  even know what the problem was.\n- Even if the client knew what the bad header was, it would have no way\n  to clear it, as the server uses the same logic to parse incoming\n  requests.\n\nSo, hack in our own header parsing if we detect that parsing was\naborted. Note that we also have to mangle bufferedhttp's putheader so we\ncan get non-ASCII headers to the backend servers.\n\nNow, we can run the test_unicode_metadata tests in\ntest/functional/test_account.py and test/functional/test_container.py\nunder py2 against services running under py3.\n\nChange-Id: I0f03c211f35a9a49e047a5718a9907b515ca88d7\n""}, {'number': 5, 'created': '2019-07-03 02:01:55.000000000', 'files': ['swift/common/wsgi.py', 'swift/common/bufferedhttp.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/76fde89261e1940daadb720c41df1a3595314a97', 'message': ""py3: Be able to read and write non-ASCII headers\n\nApparently Python's stdlib got more picky about what a header should\nlook like. As a result, if an account, container, or object had a\nnon-ASCII metadata name (values were fine), the proxy-server wouldn't\nparse all of the headers. See https://bugs.python.org/issue37093 for\nmore information.\n\nThis presented several problems:\n- Since the non-ASCII header aborts parsing, we may lose important\n  HTTP-level information like Content-Length or Transfer-Encoding.\n- Since the offending header wouldn't get parsed, the client wouldn't\n  even know what the problem was.\n- Even if the client knew what the bad header was, it would have no way\n  to clear it, as the server uses the same logic to parse incoming\n  requests.\n\nSo, hack in our own header parsing if we detect that parsing was\naborted. Note that we also have to mangle bufferedhttp's putheader so we\ncan get non-ASCII headers to the backend servers.\n\nNow, we can run the test_unicode_metadata tests in\ntest/functional/test_account.py and test/functional/test_container.py\nunder py2 against services running under py3.\n\nChange-Id: I0f03c211f35a9a49e047a5718a9907b515ca88d7\n""}]",4,662546,76fde89261e1940daadb720c41df1a3595314a97,35,5,5,15343,,,0,"py3: Be able to read and write non-ASCII headers

Apparently Python's stdlib got more picky about what a header should
look like. As a result, if an account, container, or object had a
non-ASCII metadata name (values were fine), the proxy-server wouldn't
parse all of the headers. See https://bugs.python.org/issue37093 for
more information.

This presented several problems:
- Since the non-ASCII header aborts parsing, we may lose important
  HTTP-level information like Content-Length or Transfer-Encoding.
- Since the offending header wouldn't get parsed, the client wouldn't
  even know what the problem was.
- Even if the client knew what the bad header was, it would have no way
  to clear it, as the server uses the same logic to parse incoming
  requests.

So, hack in our own header parsing if we detect that parsing was
aborted. Note that we also have to mangle bufferedhttp's putheader so we
can get non-ASCII headers to the backend servers.

Now, we can run the test_unicode_metadata tests in
test/functional/test_account.py and test/functional/test_container.py
under py2 against services running under py3.

Change-Id: I0f03c211f35a9a49e047a5718a9907b515ca88d7
",git fetch https://review.opendev.org/openstack/swift refs/changes/46/662546/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/bufferedhttp.py'],1,2812934d060521a59701915c7f19e789de6a0bf6,py2-tests-against-py3-servers," from eventlet.green import httplib as green_httplib from eventlet.green.http import client as green_httplibdef non_ascii_parse_headers(fp, _class=HTTPMessage): msg = _class() buffered = b'' headers = 0 while True: line = fp.readline(httplib._MAXLINE + 1) if len(line) > httplib._MAXLINE: raise httplib.LineTooLong(""header line"") if line[:1] in (b' ', b'\t'): if not buffered: raise Exception buffered += line.rstrip(b'\r\n') continue if line in (b'\r\n', b'\n', b''): break headers += 1 if headers >= httplib._MAXHEADERS: raise httplib.HTTPException( ""got more than %d headers"" % httplib._MAXHEADERS) if buffered: key, sep, value = buffered.partition(b':') if not key or not sep: raise Exception(buffered) msg.add_header(key.decode('latin1'), value.lstrip(b' \t').decode('latin1')) buffered = line.rstrip(b'\r\n') if buffered: key, sep, value = buffered.partition(b':') if not key or not sep: raise Exception msg.add_header(key.decode('latin1'), value.lstrip(b' \t').decode('latin1')) return msg if not six.PY2: def begin(self): orig = httplib.parse_headers green_orig = httplib.parse_headers try: httplib.parse_headers = non_ascii_parse_headers green_httplib.parse_headers = non_ascii_parse_headers return super().begin() finally: httplib.parse_headers = orig green_httplib.parse_headers = green_orig ",,49,0
openstack%2Fneutron~master~I112e477f95958c6235dbc42da06ebc45b236e8f6,openstack/neutron,master,I112e477f95958c6235dbc42da06ebc45b236e8f6,Rally task definition for port binding scenario,MERGED,2019-06-03 15:11:24.000000000,2019-07-10 09:35:21.000000000,2019-07-10 09:35:21.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-03 15:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9518510714f5d237e5b689c93760fd811603cd6f', 'message': 'Rally task definition for port binding scenario\n\nChange-Id: I112e477f95958c6235dbc42da06ebc45b236e8f6\nDepends-On: https://review.opendev.org/662781\n'}, {'number': 2, 'created': '2019-06-21 08:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/90a187a5eae6097d252e818880637bd11d074e63', 'message': 'Rally task definition for port binding scenario\n\nChange-Id: I112e477f95958c6235dbc42da06ebc45b236e8f6\nDepends-On: https://review.opendev.org/662781\nPartial-Bug: #1833674\n'}, {'number': 3, 'created': '2019-07-08 11:27:06.000000000', 'files': ['rally-jobs/task-neutron.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e0a5d41c7e4d16ebc670d7629d72a67299a07cb', 'message': 'Rally task definition for port binding scenario\n\nChange-Id: I112e477f95958c6235dbc42da06ebc45b236e8f6\nDepends-On: https://review.opendev.org/662781\nPartial-Bug: #1833674\n'}]",2,662786,5e0a5d41c7e4d16ebc670d7629d72a67299a07cb,26,9,3,15554,,,0,"Rally task definition for port binding scenario

Change-Id: I112e477f95958c6235dbc42da06ebc45b236e8f6
Depends-On: https://review.opendev.org/662781
Partial-Bug: #1833674
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/662786/1 && git format-patch -1 --stdout FETCH_HEAD,['rally-jobs/task-neutron.yaml'],1,9518510714f5d237e5b689c93760fd811603cd6f,rally-bind, NeutronNetworks.create_and_bind_ports: ports_per_network: 5 runner: constant: times: 3 concurrency: 2 contexts: users: tenants: 1 users_per_tenant: 1 roles: - admin quotas: neutron: network: -1 subnet: -1 port: -1 network: {} - scenario:,,20,0
openstack%2Fopenstack-helm~master~Ib7cd343b4b95cae088a4fe564524448af79de785,openstack/openstack-helm,master,Ib7cd343b4b95cae088a4fe564524448af79de785,Using HTK for cinder security policies,MERGED,2019-07-05 13:37:51.000000000,2019-07-10 09:34:16.000000000,2019-07-10 09:34:16.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29144}, {'_account_id': 29161}]","[{'number': 1, 'created': '2019-07-05 13:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/70251f7ad1203ed954fd9d0d38776f2435973b0a', 'message': 'Using htk for glance security policies\n\nOverriding the values in values.yaml\n\nChange-Id: Ib7cd343b4b95cae088a4fe564524448af79de785\n'}, {'number': 2, 'created': '2019-07-05 13:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aafde45461f7ec3b123a284e3a182f6c8022f56f', 'message': 'Using htk for cinder security policies\n\nOverriding the values in values.yaml\n\nChange-Id: Ib7cd343b4b95cae088a4fe564524448af79de785\n'}, {'number': 3, 'created': '2019-07-05 15:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2f98a48cbed7141778d53ad4827cfad40152d89b', 'message': 'Using htk for cinder security policies\n\nOverriding the values in values.yaml\n\nChange-Id: Ib7cd343b4b95cae088a4fe564524448af79de785\n'}, {'number': 4, 'created': '2019-07-08 16:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6221a53d8c0be99477c0608d169e41dcef341318', 'message': '[WIP] Using HTK for cinder security policies\n\nOverriding the values in values.yaml\n\nChange-Id: Ib7cd343b4b95cae088a4fe564524448af79de785\n'}, {'number': 5, 'created': '2019-07-08 16:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1c8b9068c8dbb49bb8e94695fa6a0b27f41a6ae1', 'message': 'Using HTK for cinder security policies\n\nOverriding the values in values.yaml\n\nChange-Id: Ib7cd343b4b95cae088a4fe564524448af79de785\n'}, {'number': 6, 'created': '2019-07-08 18:00:59.000000000', 'files': ['cinder/templates/deployment-volume.yaml', 'cinder/values.yaml', 'cinder/templates/deployment-backup.yaml', 'cinder/templates/deployment-api.yaml', 'cinder/templates/deployment-scheduler.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/77dfdc99c98bf76027a172e34a41e17fdb37ee4a', 'message': 'Using HTK for cinder security policies\n\nOverriding the values in values.yaml\n\nChange-Id: Ib7cd343b4b95cae088a4fe564524448af79de785\n'}]",6,669358,77dfdc99c98bf76027a172e34a41e17fdb37ee4a,29,10,6,29144,,,0,"Using HTK for cinder security policies

Overriding the values in values.yaml

Change-Id: Ib7cd343b4b95cae088a4fe564524448af79de785
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/58/669358/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/deployment-volume.yaml', 'cinder/values.yaml', 'cinder/templates/deployment-backup.yaml', 'cinder/templates/deployment-api.yaml', 'cinder/templates/deployment-scheduler.yaml']",5,70251f7ad1203ed954fd9d0d38776f2435973b0a,cinder,"{{ dict ""envAll"" $envAll ""application"" ""cinder"" ""container"" ""ceph_coordination_volume_perms"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}{{ dict ""envAll"" $envAll ""application"" ""cinder"" ""container"" ""cinder_scheduler"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}"," securityContext: runAsUser: 0{{ dict ""envAll"" $envAll ""application"" ""cinder"" ""container"" ""cinder-scheduler"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}",41,27
openstack%2Fkolla-cli~master~Ifcf29fb582eb886b065dc6171bf37a677dc35f7f,openstack/kolla-cli,master,Ifcf29fb582eb886b065dc6171bf37a677dc35f7f,Add doc8 test into pep8,MERGED,2019-07-10 07:45:22.000000000,2019-07-10 08:58:22.000000000,2019-07-10 08:58:21.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-10 07:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/7ef3332512b2bc9bff5e4cd035632b22360dbf77', 'message': 'Add doc8 test into pep8\n\nChange-Id: Ifcf29fb582eb886b065dc6171bf37a677dc35f7f\n'}, {'number': 2, 'created': '2019-07-10 07:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/ad03f1092be08d64034e6af1806c485b3a158e87', 'message': 'Add doc8 test into pep8\n\nChange-Id: Ifcf29fb582eb886b065dc6171bf37a677dc35f7f\n'}, {'number': 3, 'created': '2019-07-10 08:08:49.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/10cc20514f465a60fccb5668f7f861f8277dc545', 'message': 'Add doc8 test into pep8\n\nChange-Id: Ifcf29fb582eb886b065dc6171bf37a677dc35f7f\n'}]",0,670003,10cc20514f465a60fccb5668f7f861f8277dc545,9,2,3,30356,,,0,"Add doc8 test into pep8

Change-Id: Ifcf29fb582eb886b065dc6171bf37a677dc35f7f
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/03/670003/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,7ef3332512b2bc9bff5e4cd035632b22360dbf77,,commands = flake8 {posargs} doc8 doc/source,commands = flake8 {posargs},4,1
openstack%2Fcyborg~feature%2Fcyborg-nova-pilot~Iac9a3845840950c59deac0967cb17231969cddca,openstack/cyborg,feature/cyborg-nova-pilot,Iac9a3845840950c59deac0967cb17231969cddca,Merge remote-tracking branch 'origin/master' into merge-branch,MERGED,2019-07-10 08:12:30.000000000,2019-07-10 08:47:18.000000000,2019-07-10 08:47:18.000000000,"[{'_account_id': 17813}, {'_account_id': 22348}, {'_account_id': 22899}]","[{'number': 1, 'created': '2019-07-10 08:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d91de7c2eb201f2b5c0951b1ab5dd26786d9ed7e', 'message': ""Merge remote-tracking branch 'origin/master' into merge-branch\n\nChange-Id: Iac9a3845840950c59deac0967cb17231969cddca\n""}]",0,670007,d91de7c2eb201f2b5c0951b1ab5dd26786d9ed7e,7,3,1,21672,,,0,"Merge remote-tracking branch 'origin/master' into merge-branch

Change-Id: Iac9a3845840950c59deac0967cb17231969cddca
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/07/670007/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,d91de7c2eb201f2b5c0951b1ab5dd26786d9ed7e,merge-branch,,,0,0
openstack%2Fapi-site~master~I2d1185f481b2020fc18dca02e7c10537f0b758ac,openstack/api-site,master,I2d1185f481b2020fc18dca02e7c10537f0b758ac,Imported Translations from Zanata,MERGED,2019-07-10 07:44:34.000000000,2019-07-10 08:38:52.000000000,2019-07-10 08:38:51.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-10 07:44:34.000000000', 'files': ['api-quick-start/source/locale/de/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/id/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/en_GB/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/tr_TR/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/zh_CN/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/ja/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/ko_KR/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/eo/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/fi_FI/LC_MESSAGES/api-quick-start.po'], 'web_link': 'https://opendev.org/openstack/api-site/commit/f693d88b9e4f7271b47cda4fa609a3ecc8605d40', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2d1185f481b2020fc18dca02e7c10537f0b758ac\n'}]",0,670002,f693d88b9e4f7271b47cda4fa609a3ecc8605d40,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2d1185f481b2020fc18dca02e7c10537f0b758ac
",git fetch https://review.opendev.org/openstack/api-site refs/changes/02/670002/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-quick-start/source/locale/de/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/en_GB/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/id/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/tr_TR/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/zh_CN/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/ja/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/ko_KR/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/eo/LC_MESSAGES/api-quick-start.po', 'api-quick-start/source/locale/fi_FI/LC_MESSAGES/api-quick-start.po']",9,f693d88b9e4f7271b47cda4fa609a3ecc8605d40,zanata/translations,"""Project-Id-Version: OpenStack API Documentation 2013.2.1.dev4251\n""""POT-Creation-Date: 2019-06-24 09:50+0000\n""","""Project-Id-Version: OpenStack API Documentation 2013.2.1.dev4228\n""""POT-Creation-Date: 2018-09-16 08:11+0000\n""""Both Mozilla and Google provide browser-based graphical interfaces for REST. "" ""For Firefox, see `RESTClient <https://addons.mozilla.org/en-US/firefox/addon/"" ""restclient/>`__. For Chrome, see `rest-client <http://code.google.com/p/rest-"" ""client/>`__."" msgstr """" ""Mozilla sek Google tarjoavat selainpohjaisia graafisia kyttliittymi REST-"" ""rajapinnalle. Katso Firefoxille `RESTClient <https://addons.mozilla.org/en-"" ""US/firefox/addon/restclient/>`__. Chromelle, katso `rest-client <http://code."" ""google.com/p/rest-client/>`__."" msgid """"",32,277
openstack%2Fmolteniron~master~Ie339ed36392a1835991cd147b0b54f4ceed69d7f,openstack/molteniron,master,Ie339ed36392a1835991cd147b0b54f4ceed69d7f,add local bindep.txt,MERGED,2019-07-01 10:47:33.000000000,2019-07-10 08:27:51.000000000,2019-07-10 08:27:51.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-01 10:47:33.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/molteniron/commit/44a7d765a0f833f5981edb421180062b1a7af860', 'message': 'add local bindep.txt\n\nGlobal bindep-fallback.txt was removed [1] and now projects need\nto have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: Ie339ed36392a1835991cd147b0b54f4ceed69d7f\n'}]",0,668415,44a7d765a0f833f5981edb421180062b1a7af860,7,3,1,23851,,,0,"add local bindep.txt

Global bindep-fallback.txt was removed [1] and now projects need
to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Ie339ed36392a1835991cd147b0b54f4ceed69d7f
",git fetch https://review.opendev.org/openstack/molteniron refs/changes/15/668415/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,44a7d765a0f833f5981edb421180062b1a7af860,bindep-fallback,# needed for mysql mysql-client [platform:dpkg] mysql-server [platform:dpkg] # needed for psql postgresql postgresql-client [platform:dpkg] ,,6,0
openstack%2Fcyborg~feature%2Fcyborg-nova-pilot~Ie9bfa260f964930daae3bb63cc8723f10186d34b,openstack/cyborg,feature/cyborg-nova-pilot,Ie9bfa260f964930daae3bb63cc8723f10186d34b,Merge remote-tracking branch 'origin/master' into merge-branch,ABANDONED,2019-07-10 07:52:50.000000000,2019-07-10 08:18:48.000000000,,[],"[{'number': 1, 'created': '2019-07-10 07:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/66d6b529aade271ca435b1d60cae644c7ecce5c7', 'message': ""Merge remote-tracking branch 'origin/master' into merge-branch\n\nChange-Id: Ie9bfa260f964930daae3bb63cc8723f10186d34b\n""}]",0,670004,66d6b529aade271ca435b1d60cae644c7ecce5c7,2,0,1,21672,,,0,"Merge remote-tracking branch 'origin/master' into merge-branch

Change-Id: Ie9bfa260f964930daae3bb63cc8723f10186d34b
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/04/670004/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,66d6b529aade271ca435b1d60cae644c7ecce5c7,merge-branch,,,0,0
openstack%2Fmonasca-common~master~I3cad3501bd37185f2ff85d00a8b02e2e9f9e967a,openstack/monasca-common,master,I3cad3501bd37185f2ff85d00a8b02e2e9f9e967a,In Python3.7 async is a keyword [1],ABANDONED,2019-02-18 08:56:10.000000000,2019-07-10 07:46:34.000000000,,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-18 08:56:10.000000000', 'files': ['monasca_common/kafka_lib/producer/base.py', 'monasca_common/kafka_lib/producer/simple.py', 'monasca_common/kafka_lib/producer/keyed.py', 'monasca_common/kafka/producer.py'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/e7f5d7543737db289950168a0363058aee209a07', 'message': 'In Python3.7 async is a keyword [1]\n\nChange all instances of ""async"" to ""async_""\n\n[1] https://docs.python.org/3/whatsnew/3.7.html\n\nChange-Id: I3cad3501bd37185f2ff85d00a8b02e2e9f9e967a\n'}]",0,637493,e7f5d7543737db289950168a0363058aee209a07,4,2,1,9414,,,0,"In Python3.7 async is a keyword [1]

Change all instances of ""async"" to ""async_""

[1] https://docs.python.org/3/whatsnew/3.7.html

Change-Id: I3cad3501bd37185f2ff85d00a8b02e2e9f9e967a
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/93/637493/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_common/kafka_lib/producer/base.py', 'monasca_common/kafka_lib/producer/simple.py', 'monasca_common/kafka_lib/producer/keyed.py', 'monasca_common/kafka/producer.py']",4,e7f5d7543737db289950168a0363058aee209a07,fix-py37-test," async_=False,"," async=False,",17,17
openstack%2Fplacement~master~I141cde0395f45696d78ad73674a276eb6178aa70,openstack/placement,master,I141cde0395f45696d78ad73674a276eb6178aa70,Add a test for granular member_of not flowing down,MERGED,2019-06-19 22:37:17.000000000,2019-07-10 07:23:35.000000000,2019-07-10 07:23:35.000000000,"[{'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-06-19 22:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/bff3e5e777c72571e0dfd3b4186dc463b9857423', 'message': 'Add a test for granular member_of flowing down\n\nThis is a simple addition to demonstrate that ""aggregates flow down""\nworks for granular as well as unsuffixed member_of. It was prompted by\n[1].\n\n[1] https://review.opendev.org/#/c/662191/5/doc/source/specs/train/approved/2005575-nested-magic-1.rst@302\n\nChange-Id: I141cde0395f45696d78ad73674a276eb6178aa70\n'}, {'number': 2, 'created': '2019-06-25 14:34:39.000000000', 'files': ['placement/tests/functional/gabbits/allocation-candidates-bug-1792503.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/38d3d5d1c6215527f7bb0414e8cea2a50e19c53a', 'message': 'Add a test for granular member_of not flowing down\n\nThis is a simple addition to demonstrate that ""aggregates flow down""\ndoes not apply to granular member_of. It was prompted by [1].\n\n[1] https://review.opendev.org/#/c/662191/5/doc/source/specs/train/approved/2005575-nested-magic-1.rst@302\n\nChange-Id: I141cde0395f45696d78ad73674a276eb6178aa70\n'}]",8,666460,38d3d5d1c6215527f7bb0414e8cea2a50e19c53a,16,5,2,14070,,,0,"Add a test for granular member_of not flowing down

This is a simple addition to demonstrate that ""aggregates flow down""
does not apply to granular member_of. It was prompted by [1].

[1] https://review.opendev.org/#/c/662191/5/doc/source/specs/train/approved/2005575-nested-magic-1.rst@302

Change-Id: I141cde0395f45696d78ad73674a276eb6178aa70
",git fetch https://review.opendev.org/openstack/placement refs/changes/60/666460/2 && git format-patch -1 --stdout FETCH_HEAD,['placement/tests/functional/gabbits/allocation-candidates-bug-1792503.yaml'],1,bff3e5e777c72571e0dfd3b4186dc463b9857423,granular-aggregate-flow-down," $.allocation_requests..allocations[""$ENVIRON['NUMA2_2_UUID']""].resources.VCPU: 1- name: get allocation candidates with aggregate C granular GET: /allocation_candidates?resources1=VCPU:1&member_of1=$ENVIRON['AGGC_UUID'] response_json_paths: # Aggregate C is *NOT* on the root, so we should get only NUMA1_1 # here that is only the rp in aggregate C. $.allocation_requests.`len`: 1 $.allocation_requests..allocations[""$ENVIRON['NUMA1_1_UUID']""].resources.VCPU: 1 "," $.allocation_requests..allocations[""$ENVIRON['NUMA2_1_UUID']""].resources.VCPU: 1",9,1
openstack%2Fpuppet-tripleo~stable%2Fstein~I3fa07e28c4e37197890664d12a265f1673c780f2,openstack/puppet-tripleo,stable/stein,I3fa07e28c4e37197890664d12a265f1673c780f2,Close OVN VIP race by adding an ordering constraint,MERGED,2019-07-09 07:12:02.000000000,2019-07-10 07:20:16.000000000,2019-07-10 07:01:47.000000000,"[{'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-09 07:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a1801b0c7dbf45891ceedf6d6f2db07bea672fb2', 'message': ""Close OVN VIP race by adding an ordering constraint\n\nCurrently there is a race with the high-availability of ovn when resetting a\ncontroller. Namely, the VIP that OVN uses (namely the internal_api VIP\nby default) only has a colocation constraint with the master role of the\novn-dbs resource. This leaves the following race open:\n1) We reboot ctrl-0 hosting the master role of ovn-dbs\n2) OVN becomes master on ctrl-1 from pacemaker's POV (but the\n   promotion operation running in the background is not completed)\n3) OVN VIP moves to ctrl-1 even though it is still in slave mode\n  (there is only a colocation constraint between vip and master role for\novn)\n4) OVN controllers on the overcloud connect to the VIP but it is in\n  read-only mode because it was a slave\n5) OVN controllers that connected at 4) stay in read-only forever\n   until they get restarted manually.\n\nWith the addition of this constraint we force the VIP move only after\nthe master role has been promoted. This makes it much more unlikely\nfor a client to connect to the VIP and get a read-only db in the\nbackground. With only this patch applied I did not manage to reproduce\nthe issue (even after 7 reboots of controllers).\nNote that there is still a small race window possible because the\ncurrent OVN resource agent has a bug: it promotes a resource to master\nafter issuing the promotion command to the DB but without waiting for\nthis promotion to complete. A patch for OVN-ra will also be submitted\nbut from initial testing this change seems to be largely sufficient.\n\nAlso note that this change introduces a small less desirable\nside-effect:\nA failover of the internal VIP will now take a bit longer because it\nwill happen only after ovn-dbs gets promoted to master.\nWe plan to take care of this fully by decoupling the OVN VIP from the\ninternal_api one. This change addresses the immediate issue related\nto ovn_controllers being stuck in read-only due to premature promotion.\n(OVN upstream is discussing how to make connections to read-only VIP\ntrigger a reconnection eventually)\n\nCloses-Bug: #1835830\n\nChange-Id: I3fa07e28c4e37197890664d12a265f1673c780f2\n""}, {'number': 2, 'created': '2019-07-09 14:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ae7f71c7f44fd9dea5ff62c3e1aa7f68c9fcacb6', 'message': ""Close OVN VIP race by adding an ordering constraint\n\nCurrently there is a race with the high-availability of ovn when resetting a\ncontroller. Namely, the VIP that OVN uses (namely the internal_api VIP\nby default) only has a colocation constraint with the master role of the\novn-dbs resource. This leaves the following race open:\n1) We reboot ctrl-0 hosting the master role of ovn-dbs\n2) OVN becomes master on ctrl-1 from pacemaker's POV (but the\n   promotion operation running in the background is not completed)\n3) OVN VIP moves to ctrl-1 even though it is still in slave mode\n  (there is only a colocation constraint between vip and master role for\novn)\n4) OVN controllers on the overcloud connect to the VIP but it is in\n  read-only mode because it was a slave\n5) OVN controllers that connected at 4) stay in read-only forever\n   until they get restarted manually.\n\nWith the addition of this constraint we force the VIP move only after\nthe master role has been promoted. This makes it much more unlikely\nfor a client to connect to the VIP and get a read-only db in the\nbackground. With only this patch applied I did not manage to reproduce\nthe issue (even after 7 reboots of controllers).\nNote that there is still a small race window possible because the\ncurrent OVN resource agent has a bug: it promotes a resource to master\nafter issuing the promotion command to the DB but without waiting for\nthis promotion to complete. A patch for OVN-ra will also be submitted\nbut from initial testing this change seems to be largely sufficient.\n\nAlso note that this change introduces a small less desirable\nside-effect:\nA failover of the internal VIP will now take a bit longer because it\nwill happen only after ovn-dbs gets promoted to master.\nWe plan to take care of this fully by decoupling the OVN VIP from the\ninternal_api one. This change addresses the immediate issue related\nto ovn_controllers being stuck in read-only due to premature promotion.\n(OVN upstream is discussing how to make connections to read-only VIP\ntrigger a reconnection eventually)\n\nCloses-Bug: #1835830\n\nChange-Id: I3fa07e28c4e37197890664d12a265f1673c780f2\n""}, {'number': 3, 'created': '2019-07-09 19:38:11.000000000', 'files': ['manifests/profile/pacemaker/ovn_dbs_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/dc4bb7e7cb652e41f55b5b7ba8b93628afab10cf', 'message': ""Close OVN VIP race by adding an ordering constraint\n\nCurrently there is a race with the high-availability of ovn when resetting a\ncontroller. Namely, the VIP that OVN uses (namely the internal_api VIP\nby default) only has a colocation constraint with the master role of the\novn-dbs resource. This leaves the following race open:\n1) We reboot ctrl-0 hosting the master role of ovn-dbs\n2) OVN becomes master on ctrl-1 from pacemaker's POV (but the\n   promotion operation running in the background is not completed)\n3) OVN VIP moves to ctrl-1 even though it is still in slave mode\n  (there is only a colocation constraint between vip and master role for\novn)\n4) OVN controllers on the overcloud connect to the VIP but it is in\n  read-only mode because it was a slave\n5) OVN controllers that connected at 4) stay in read-only forever\n   until they get restarted manually.\n\nWith the addition of this constraint we force the VIP move only after\nthe master role has been promoted. This makes it much more unlikely\nfor a client to connect to the VIP and get a read-only db in the\nbackground. With only this patch applied I did not manage to reproduce\nthe issue (even after 7 reboots of controllers).\nNote that there is still a small race window possible because the\ncurrent OVN resource agent has a bug: it promotes a resource to master\nafter issuing the promotion command to the DB but without waiting for\nthis promotion to complete. A patch for OVN-ra will also be submitted\nbut from initial testing this change seems to be largely sufficient.\n\nAlso note that this change introduces a small less desirable\nside-effect:\nA failover of the internal VIP will now take a bit longer because it\nwill happen only after ovn-dbs gets promoted to master.\nWe plan to take care of this fully by decoupling the OVN VIP from the\ninternal_api one. This change addresses the immediate issue related\nto ovn_controllers being stuck in read-only due to premature promotion.\n(OVN upstream is discussing how to make connections to read-only VIP\ntrigger a reconnection eventually)\n\nCloses-Bug: #1835830\n\nChange-Id: I3fa07e28c4e37197890664d12a265f1673c780f2\n(cherry picked from commit 5c10f331977152d4e69e91ed67cd14304cef6a18)\n""}]",0,669803,dc4bb7e7cb652e41f55b5b7ba8b93628afab10cf,19,7,3,20172,,,0,"Close OVN VIP race by adding an ordering constraint

Currently there is a race with the high-availability of ovn when resetting a
controller. Namely, the VIP that OVN uses (namely the internal_api VIP
by default) only has a colocation constraint with the master role of the
ovn-dbs resource. This leaves the following race open:
1) We reboot ctrl-0 hosting the master role of ovn-dbs
2) OVN becomes master on ctrl-1 from pacemaker's POV (but the
   promotion operation running in the background is not completed)
3) OVN VIP moves to ctrl-1 even though it is still in slave mode
  (there is only a colocation constraint between vip and master role for
ovn)
4) OVN controllers on the overcloud connect to the VIP but it is in
  read-only mode because it was a slave
5) OVN controllers that connected at 4) stay in read-only forever
   until they get restarted manually.

With the addition of this constraint we force the VIP move only after
the master role has been promoted. This makes it much more unlikely
for a client to connect to the VIP and get a read-only db in the
background. With only this patch applied I did not manage to reproduce
the issue (even after 7 reboots of controllers).
Note that there is still a small race window possible because the
current OVN resource agent has a bug: it promotes a resource to master
after issuing the promotion command to the DB but without waiting for
this promotion to complete. A patch for OVN-ra will also be submitted
but from initial testing this change seems to be largely sufficient.

Also note that this change introduces a small less desirable
side-effect:
A failover of the internal VIP will now take a bit longer because it
will happen only after ovn-dbs gets promoted to master.
We plan to take care of this fully by decoupling the OVN VIP from the
internal_api one. This change addresses the immediate issue related
to ovn_controllers being stuck in read-only due to premature promotion.
(OVN upstream is discussing how to make connections to read-only VIP
trigger a reconnection eventually)

Closes-Bug: #1835830

Change-Id: I3fa07e28c4e37197890664d12a265f1673c780f2
(cherry picked from commit 5c10f331977152d4e69e91ed67cd14304cef6a18)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/03/669803/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/ovn_dbs_bundle.pp'],1,a1801b0c7dbf45891ceedf6d6f2db07bea672fb2,ovn-fixes-stable/stein," pacemaker::constraint::order { ""${ovndb_vip_resource_name}-with-${ovndb_servers_resource_name}"": first_resource => 'ovn-dbs-bundle', second_resource => ""${ovndb_vip_resource_name}"", first_action => 'promote', second_action => 'start', constraint_params => 'kind=Optional', tries => $pcs_tries, } -> Pacemaker::Constraint::Order[""${ovndb_vip_resource_name}-with-${ovndb_servers_resource_name}""] -> Pacemaker::Constraint::Colocation[""${ovndb_vip_resource_name}-with-${ovndb_servers_resource_name}""]"," -> Pacemaker::Constraint::Colocation[""${ovndb_vip_resource_name}-with-${ovndb_servers_resource_name}""]",11,1
openstack%2Ftripleo-heat-templates~master~Ide761c21dc87dadc722e27c9b8a7b68194164cb2,openstack/tripleo-heat-templates,master,Ide761c21dc87dadc722e27c9b8a7b68194164cb2,Support TLS deployments with KernelDisableIPv6 enabled,MERGED,2019-07-03 16:50:55.000000000,2019-07-10 07:05:26.000000000,2019-07-10 03:34:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8866}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-03 16:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f71bfa1253e94a59a8389465703ad1c2b8fcb62', 'message': '[WiP] Support TLS deployments with KernelDisableIPv6 enabled\n\n* Bind to 127.0.0.1\n\nDepends-On: Ic77281cc69230b77224421e3d79d93803ea18bad\nChange-Id: Ide761c21dc87dadc722e27c9b8a7b68194164cb2\n'}, {'number': 2, 'created': '2019-07-08 19:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b19191b28401e5789e61179aa535110aaafa94f', 'message': 'Support TLS deployments with KernelDisableIPv6 enabled\n\nBind to 127.0.0.1 in case ipv6 is disabled. Set a hiera value\nlocalhost_address, so that it can be used in tls_proxy.pp to\nunambiguously connect to those services.\n\nDepends-On: Ic77281cc69230b77224421e3d79d93803ea18bad\nChange-Id: Ide761c21dc87dadc722e27c9b8a7b68194164cb2\nRelated: rhbz#1703460\n'}, {'number': 3, 'created': '2019-07-09 16:14:48.000000000', 'files': ['deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/kernel/kernel-baremetal-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d48d1bdb37a4262ffe36ae5003312dfdfad083ab', 'message': 'Support TLS deployments with KernelDisableIPv6 enabled\n\nBind to 127.0.0.1 in case ipv6 is disabled. Set a hiera value\nlocalhost_address, so that it can be used in tls_proxy.pp to\nunambiguously connect to those services.\n\nChange-Id: Ide761c21dc87dadc722e27c9b8a7b68194164cb2\nRelated: rhbz#1703460\n'}]",2,668957,d48d1bdb37a4262ffe36ae5003312dfdfad083ab,27,9,3,14250,,,0,"Support TLS deployments with KernelDisableIPv6 enabled

Bind to 127.0.0.1 in case ipv6 is disabled. Set a hiera value
localhost_address, so that it can be used in tls_proxy.pp to
unambiguously connect to those services.

Change-Id: Ide761c21dc87dadc722e27c9b8a7b68194164cb2
Related: rhbz#1703460
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/668957/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ec2/ec2-api-container-puppet.yaml', 'deployment/database/redis-base-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml']",5,4f71bfa1253e94a59a8389465703ad1c2b8fcb62,kernel_disable_ipv6, - '127.0.0.1', - 'localhost',6,6
openstack%2Fwatcher~master~I708cf63ff1d9a989604e1d5b834c8b7e5b087892,openstack/watcher,master,I708cf63ff1d9a989604e1d5b834c8b7e5b087892,Add reource_name in action input parameter field,MERGED,2019-05-20 03:40:58.000000000,2019-07-10 06:57:36.000000000,2019-07-10 06:57:36.000000000,"[{'_account_id': 6873}, {'_account_id': 13111}, {'_account_id': 14107}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 23735}, {'_account_id': 24872}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-05-20 03:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/e63970134d3170127a703f8f5cb1959fe8e4a44f', 'message': 'Add resource_name in action input parameter field\n\nChange-Id: I708cf63ff1d9a989604e1d5b834c8b7e5b087892\nImplements: blueprint Add resource_name in action input parameter field\n'}, {'number': 2, 'created': '2019-05-22 06:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/d061791534511419ae71a51502cae72c694dee10', 'message': 'Add resource_name in action input parameter field\n\n(Partial implement)\nImplements: blueprint Add-resource_name-in-action-input-parameter-field\n\nChange-Id: I708cf63ff1d9a989604e1d5b834c8b7e5b087892\n'}, {'number': 3, 'created': '2019-05-22 06:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/b38033bda970e77d9b48f8f4663df08604b38394', 'message': 'Add resource_name in action input parameter field\n\n(Partial implement)\nImplements: blueprint add-resource_name-in-action-input-parameter-field\n\nChange-Id: I708cf63ff1d9a989604e1d5b834c8b7e5b087892\n'}, {'number': 4, 'created': '2019-05-22 06:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/9152baa64b5556f4bb192b1910364a3b489fd16d', 'message': 'Add resource_name in action input parameter field\n\n(Partial implement)\nImplements: blueprint add-resource-name-in-action-input-parameter-field\n\nChange-Id: I708cf63ff1d9a989604e1d5b834c8b7e5b087892\n'}, {'number': 5, 'created': '2019-06-29 04:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/cad1d5d8fff921dc65c7ea1978972edbeb4ee8e1', 'message': 'Add resource_name in action input parameter field\n\n(Partial implement)\nImplements: blueprint add-resource-name-in-action-input-parameter-field\n\nChange-Id: I708cf63ff1d9a989604e1d5b834c8b7e5b087892\n'}, {'number': 6, 'created': '2019-06-29 07:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/3a1d319b71e067085d66b55149994b0427d0ec14', 'message': 'Add resource_name in action input parameter field\n\n(Partial implement)\nImplements: blueprint add-resource-name-in-action-input-parameter-field\n\nChange-Id: I708cf63ff1d9a989604e1d5b834c8b7e5b087892\n'}, {'number': 7, 'created': '2019-07-01 11:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/4109fcca6bd5394204a5e587d541e01fc29ab251', 'message': 'Add resource_name in action input parameter field\n\n(Partial implement)\nImplements: blueprint add-resource-name-in-action-input-parameter-field\n\nDepends-on: I51d879e31dee03652ee9d0d94a7f3168012cc060\nChange-Id: I708cf63ff1d9a989604e1d5b834c8b7e5b087892\n'}, {'number': 8, 'created': '2019-07-01 11:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/136fe470aefec9fc38923c78b176e050a5603b28', 'message': 'Add resource_name in action input parameter field\n\n(Partial implement)\nImplements: blueprint add-resource-name-in-action-input-parameter-field\n\nDepends-on: I51d879e31dee03652ee9d0d94a7f3168012cc060\nChange-Id: I708cf63ff1d9a989604e1d5b834c8b7e5b087892\n'}, {'number': 9, 'created': '2019-07-01 13:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/7a361898a319fa1c776cc195f0071680af13d472', 'message': 'Add reource_name in action input parameter field\n\n(Partial implement)\nImplements: blueprint add-resource-name-in-action-input-parameter-field\n\nDepends-on: I51d879e31dee03652ee9d0d94a7f3168012cc060\nChange-Id: I708cf63ff1d9a989604e1d5b834c8b7e5b087892\n'}, {'number': 10, 'created': '2019-07-09 07:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/31803f728b7bc9013e71817b09c7e42022c39cef', 'message': 'Add reource_name in action input parameter field\n\n(Partial implement)\nImplements: blueprint add-resource-name-in-action-input-parameter-field\n\nDepends-on: I51d879e31dee03652ee9d0d94a7f3168012cc060\nChange-Id: I708cf63ff1d9a989604e1d5b834c8b7e5b087892\n'}, {'number': 11, 'created': '2019-07-09 07:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/e56bbaff7dae3fcf86f83c36687b3c4229afb847', 'message': 'Add reource_name in action input parameter field\n\n(Partial implement)\nImplements: blueprint add-resource-name-in-action-input-parameter-field\n\nDepends-on: I51d879e31dee03652ee9d0d94a7f3168012cc060\nChange-Id: I708cf63ff1d9a989604e1d5b834c8b7e5b087892\n'}, {'number': 12, 'created': '2019-07-09 07:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/1ac1eaf3ad2eb4e4402ea696fa0bdffd86d8d510', 'message': 'Add reource_name in action input parameter field\n\n(Partial implement)\nImplements: blueprint add-resource-name-in-action-input-parameter-field\n\nDepends-on: I51d879e31dee03652ee9d0d94a7f3168012cc060\nChange-Id: I708cf63ff1d9a989604e1d5b834c8b7e5b087892\n'}, {'number': 13, 'created': '2019-07-09 10:41:42.000000000', 'files': ['watcher/decision_engine/strategy/strategies/base.py', 'watcher/tests/decision_engine/strategy/strategies/test_host_maintenance.py', 'watcher/decision_engine/strategy/strategies/vm_workload_consolidation.py', 'watcher/decision_engine/strategy/strategies/outlet_temp_control.py', 'watcher/tests/decision_engine/strategy/strategies/test_vm_workload_consolidation.py', 'watcher/tests/decision_engine/model/faker_cluster_state.py', 'watcher/applier/actions/migration.py', 'watcher/applier/actions/change_nova_service_state.py', 'watcher/decision_engine/strategy/strategies/noisy_neighbor.py', 'watcher/decision_engine/strategy/strategies/basic_consolidation.py', 'watcher/decision_engine/strategy/strategies/host_maintenance.py', 'watcher/tests/decision_engine/cluster/test_nova_cdmc.py', 'watcher/decision_engine/model/element/instance.py', 'watcher/tests/decision_engine/model/data/scenario_1.xml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/dc2c361d04211717ee97eb51747328b9aab17324', 'message': 'Add reource_name in action input parameter field\n\n(Partial implement)\nImplements: blueprint add-resource-name-in-action-input-parameter-field\n\nDepends-on: I51d879e31dee03652ee9d0d94a7f3168012cc060\nChange-Id: I708cf63ff1d9a989604e1d5b834c8b7e5b087892\n'}]",6,660011,dc2c361d04211717ee97eb51747328b9aab17324,46,9,13,28748,,,0,"Add reource_name in action input parameter field

(Partial implement)
Implements: blueprint add-resource-name-in-action-input-parameter-field

Depends-on: I51d879e31dee03652ee9d0d94a7f3168012cc060
Change-Id: I708cf63ff1d9a989604e1d5b834c8b7e5b087892
",git fetch https://review.opendev.org/openstack/watcher refs/changes/11/660011/7 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/strategy/strategies/basic_consolidation.py', 'watcher/decision_engine/strategy/strategies/base.py', 'watcher/decision_engine/strategy/strategies/host_maintenance.py', 'watcher/decision_engine/strategy/strategies/outlet_temp_control.py', 'watcher/decision_engine/strategy/strategies/noisy_neighbor.py']",5,e63970134d3170127a703f8f5cb1959fe8e4a44f,bp/add-resource-name-in-action-input-parameter-field," 'destination_node': mig_destination_node.uuid, 'resource_name': instance_to_migrate.name}", 'destination_node': mig_destination_node.uuid},14,7
openstack%2Fwatcher~stable%2Fstein~I797ad934a0f8496dbcbf65798e28b0443f238137,openstack/watcher,stable/stein,I797ad934a0f8496dbcbf65798e28b0443f238137,Reduce the query time of the instances when call get_instance_list(),MERGED,2019-07-09 13:44:17.000000000,2019-07-10 06:57:26.000000000,2019-07-10 06:57:26.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-09 13:44:17.000000000', 'files': ['watcher/common/nova_helper.py', 'watcher/tests/decision_engine/cluster/test_nova_cdmc.py', 'watcher/decision_engine/model/collector/nova.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/34324c95f9010fd3e5178e7105dc3ddc5a0dcfe2', 'message': ""Reduce the query time of the instances when call get_instance_list()\n\nThe problem is that watcher is passing limit=-1 to novaclient when\nlisting servers which will always make at least two API calls to be\nsure it's done paging:\n\nhttps://github.com/openstack/python-novaclient/blob/13.0.1/novaclient/v2/servers.py#L896\n\nIf we can determine before we list servers that there are only a\ncertain number where the number of servers is less than 1000. For\nexample: 4, we should just pass the limit=len(servers) to novaclient\nand avoid the second call for paging which takes extra time and\nyields no results.\n\nChange-Id: I797ad934a0f8496dbcbf65798e28b0443f238137\nCloses-Bug: #1834679\n(cherry picked from commit 1e8b17ac46a9052234c9f56da42a2a4bb8250216)\n""}]",0,669876,34324c95f9010fd3e5178e7105dc3ddc5a0dcfe2,9,5,1,6873,,,0,"Reduce the query time of the instances when call get_instance_list()

The problem is that watcher is passing limit=-1 to novaclient when
listing servers which will always make at least two API calls to be
sure it's done paging:

https://github.com/openstack/python-novaclient/blob/13.0.1/novaclient/v2/servers.py#L896

If we can determine before we list servers that there are only a
certain number where the number of servers is less than 1000. For
example: 4, we should just pass the limit=len(servers) to novaclient
and avoid the second call for paging which takes extra time and
yields no results.

Change-Id: I797ad934a0f8496dbcbf65798e28b0443f238137
Closes-Bug: #1834679
(cherry picked from commit 1e8b17ac46a9052234c9f56da42a2a4bb8250216)
",git fetch https://review.opendev.org/openstack/watcher refs/changes/76/669876/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/common/nova_helper.py', 'watcher/tests/decision_engine/cluster/test_nova_cdmc.py', 'watcher/decision_engine/model/collector/nova.py']",3,34324c95f9010fd3e5178e7105dc3ddc5a0dcfe2,bug/1834679," filters = {'host': host} limit = len(instances) if len(instances) <= 1000 else -1 # Note that the advantage of passing the limit parameter is # that it can speed up the call time of novaclient. 1000 is # the default maximum number of return servers provided by # compute API. If we need to request more than 1000 servers, # we can set limit=-1. For details, please see: # https://bugs.launchpad.net/watcher/+bug/1834679 instances = self.nova_helper.get_instance_list( filters=filters, limit=limit)", instances = self.nova_helper.get_instance_list({'host': host}),43,5
openstack%2Ftempest~master~I1f7521cbec0dcf4d25ef5a1bac2105c0e52de523,openstack/tempest,master,I1f7521cbec0dcf4d25ef5a1bac2105c0e52de523,Fix the unshelve server post body check,ABANDONED,2019-07-09 06:30:53.000000000,2019-07-10 06:44:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-07-09 06:30:53.000000000', 'files': ['tempest/tests/lib/services/compute/test_servers_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/012f13826437bdc67ed96f6b56bfbdbeae824528', 'message': 'Fix the unshelve server post body check\n\nChange-Id: I1f7521cbec0dcf4d25ef5a1bac2105c0e52de523\n'}]",0,669795,012f13826437bdc67ed96f6b56bfbdbeae824528,4,2,1,26458,,,0,"Fix the unshelve server post body check

Change-Id: I1f7521cbec0dcf4d25ef5a1bac2105c0e52de523
",git fetch https://review.opendev.org/openstack/tempest refs/changes/95/669795/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/services/compute/test_servers_client.py'],1,012f13826437bdc67ed96f6b56bfbdbeae824528,bp/support-specifying-az-when-restore-shelved-server," None,"," {},",1,1
openstack%2Fopenstack-ansible~master~I5cf5f1cb1725dc5b56463e7c28d941628b6b54f4,openstack/openstack-ansible,master,I5cf5f1cb1725dc5b56463e7c28d941628b6b54f4,Add mistral into the playbook list,MERGED,2019-07-09 15:38:53.000000000,2019-07-10 06:34:56.000000000,2019-07-10 06:34:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-07-09 15:38:53.000000000', 'files': ['playbooks/setup-openstack.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/04338b31b6af0fb03411b86c560105e6b6778162', 'message': ""Add mistral into the playbook list\n\nThis makes sure mistral can be installed by default, should the\nconf.d/env.d be adapted by the user.\n\nWithout this patch, mistral is not installed by default when\nrunning setup-everything/setup-openstack, and therefore doesn't\nrun in gates.\n\nChange-Id: I5cf5f1cb1725dc5b56463e7c28d941628b6b54f4\n""}]",0,669894,04338b31b6af0fb03411b86c560105e6b6778162,9,3,1,17068,,,0,"Add mistral into the playbook list

This makes sure mistral can be installed by default, should the
conf.d/env.d be adapted by the user.

Without this patch, mistral is not installed by default when
running setup-everything/setup-openstack, and therefore doesn't
run in gates.

Change-Id: I5cf5f1cb1725dc5b56463e7c28d941628b6b54f4
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/94/669894/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/setup-openstack.yml'],1,04338b31b6af0fb03411b86c560105e6b6778162,mistral,- import_playbook: os-mistral-install.yml,,1,0
openstack%2Ftripleo-ci~master~Ifeb9d39d1a696c510949168a61795d58a2881b3a,openstack/tripleo-ci,master,Ifeb9d39d1a696c510949168a61795d58a2881b3a,Remove redundant branch config from periodic jobs,MERGED,2019-07-09 17:08:41.000000000,2019-07-10 06:27:02.000000000,2019-07-10 06:27:01.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-09 17:08:41.000000000', 'files': ['zuul.d/periodic.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/295fb958f15a809361b54da5a2cfc19a9e4cd363', 'message': ""Remove redundant branch config from periodic jobs\n\ntripleo-ci is not branched, so it doesn't make sense to configure\nbranch jobs here.\n\nChange-Id: Ifeb9d39d1a696c510949168a61795d58a2881b3a\n""}]",0,669911,295fb958f15a809361b54da5a2cfc19a9e4cd363,7,3,1,10969,,,0,"Remove redundant branch config from periodic jobs

tripleo-ci is not branched, so it doesn't make sense to configure
branch jobs here.

Change-Id: Ifeb9d39d1a696c510949168a61795d58a2881b3a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/11/669911/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/periodic.yaml'],1,295fb958f15a809361b54da5a2cfc19a9e4cd363,, - tripleo-ci-centos-7-containers-multinode - tripleo-ci-centos-7-scenario001-standalone, - tripleo-ci-centos-7-containers-multinode: branches: - master - stable/stein - stable/rocky - stable/queens - tripleo-ci-centos-7-scenario001-standalone: branches: - master - stable/stein ,2,10
openstack%2Fpuppet-neutron~master~I9091ef779caae693238d466754be1f10c7e9a5c7,openstack/puppet-neutron,master,I9091ef779caae693238d466754be1f10c7e9a5c7,Fix dependency cycle from Mellanox ML2 plugin,MERGED,2019-02-20 13:18:10.000000000,2019-07-10 06:14:49.000000000,2019-03-31 14:26:53.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 12171}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16690}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 22948}, {'_account_id': 23181}, {'_account_id': 26682}, {'_account_id': 28523}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-02-20 13:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/57918071ca0125365d160cb930c60c59eb1dbaff', 'message': ""Fix dependency cycle from Mellanox ML2 plugin\n\nUsing tag 'neutron-package' causes dependency cycle when using\nMellanox ML2 plugin\n\nChange-Id: I9091ef779caae693238d466754be1f10c7e9a5c7\n""}, {'number': 2, 'created': '2019-02-20 13:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/49d79c7d3b4f2b9701b329e11faf7e2c9b395fa9', 'message': ""Fix dependency cycle from Mellanox ML2 plugin\n\nUsing tag 'neutron-package' causes dependency cycle when using\nMellanox ML2 plugin\n\nCloses-Bug: #1816758\nChange-Id: I9091ef779caae693238d466754be1f10c7e9a5c7\n""}, {'number': 3, 'created': '2019-02-20 14:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7f632c233e465fca1f3d6a6c9003369871a5719d', 'message': ""Fix dependency cycle from Mellanox ML2 plugin\n\nUsing tag 'neutron-package' causes dependency cycle when using\nMellanox ML2 plugin\n\nCloses-Bug: #1816758\nChange-Id: I9091ef779caae693238d466754be1f10c7e9a5c7\n""}, {'number': 4, 'created': '2019-03-06 12:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/22bd45038081929c861c1335ea890bb4e6d76a55', 'message': ""Fix dependency cycle from Mellanox ML2 plugin\n\nUsing tag 'neutron-package' causes dependency cycle when using\nMellanox ML2 plugin\n\nCloses-Bug: #1816758\nChange-Id: I9091ef779caae693238d466754be1f10c7e9a5c7\n""}, {'number': 5, 'created': '2019-03-14 12:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/64932fdcea3c8434a9648bc2b3bd60460ae2e8db', 'message': ""Fix dependency cycle from Mellanox ML2 plugin\n\nUsing tag 'neutron-package' causes dependency cycle when using\nMellanox ML2 plugin\n\nCloses-Bug: #1816758\nChange-Id: I9091ef779caae693238d466754be1f10c7e9a5c7\n""}, {'number': 6, 'created': '2019-03-18 15:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/46c5d9a70138b12bebf2969c52ae5c91a98d8ab3', 'message': ""Fix dependency cycle from Mellanox ML2 plugin\n\nUsing tag 'neutron-package' causes dependency cycle when using\nMellanox ML2 plugin\n\nCloses-Bug: #1816758\nChange-Id: I9091ef779caae693238d466754be1f10c7e9a5c7\n""}, {'number': 7, 'created': '2019-03-19 08:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/d64329093a24a0e272bc69c6916df80a6294f859', 'message': ""Fix dependency cycle from Mellanox ML2 plugin\n\nUsing tag 'neutron-package' causes dependency cycle when using\nMellanox ML2 plugin\n\nCloses-Bug: #1816758\nChange-Id: I9091ef779caae693238d466754be1f10c7e9a5c7\n""}, {'number': 8, 'created': '2019-03-19 08:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8f0f46a26781fd08c5990b7058e692c34871e6c6', 'message': ""Fix dependency cycle from Mellanox ML2 plugin\n\nUsing tag 'neutron-package' causes dependency cycle when using\nMellanox ML2 plugin\n\nCloses-Bug: #1816758\nChange-Id: I9091ef779caae693238d466754be1f10c7e9a5c7\n""}, {'number': 9, 'created': '2019-03-24 11:38:49.000000000', 'files': ['manifests/plugins/ml2/mellanox.pp', 'spec/classes/neutron_plugins_ml2_mellanox_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c861149c8c460fb85cb52f68fbf70687ad4e1269', 'message': ""Fix dependency cycle from Mellanox ML2 plugin\n\nUsing tag 'neutron-package' causes dependency cycle when using\nMellanox ML2 plugin\n\nCloses-Bug: #1816758\nChange-Id: I9091ef779caae693238d466754be1f10c7e9a5c7\n""}]",2,638149,c861149c8c460fb85cb52f68fbf70687ad4e1269,143,13,9,22948,,,0,"Fix dependency cycle from Mellanox ML2 plugin

Using tag 'neutron-package' causes dependency cycle when using
Mellanox ML2 plugin

Closes-Bug: #1816758
Change-Id: I9091ef779caae693238d466754be1f10c7e9a5c7
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/49/638149/9 && git format-patch -1 --stdout FETCH_HEAD,['manifests/plugins/ml2/mellanox.pp'],1,57918071ca0125365d160cb930c60c59eb1dbaff,638149, tag => ['openstack']," tag => ['openstack', 'neutron-package']",1,1
openstack%2Fansible-role-tripleo-modify-image~master~Ia47a1ea9eb51a37f6d75d39c524e97fd4ec94fba,openstack/ansible-role-tripleo-modify-image,master,Ia47a1ea9eb51a37f6d75d39c524e97fd4ec94fba,Implement a yum install command,MERGED,2019-07-03 18:00:13.000000000,2019-07-10 06:13:33.000000000,2019-07-10 06:13:33.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 18:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/d8ea05d38be95c3b00e41ed3e053bfc4e9cf98e9', 'message': ""Implement a yum install command\n\nYum update works if you want to update existing packages, but sometimes\nyou want to install a package that's available via the yum repositories\nthat is extra. This implements a yum install action similiar to the yum\nupdate action except it takes package names instead of repos to install.\n\nChange-Id: Ia47a1ea9eb51a37f6d75d39c524e97fd4ec94fba\n""}, {'number': 2, 'created': '2019-07-03 18:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/68fabdbc6ea1f58ba082891b99bc45df2da43be7', 'message': ""Implement a yum install command\n\nYum update works if you want to update existing packages, but sometimes\nyou want to install a package that's available via the yum repositories\nthat is extra. This implements a yum install action similiar to the yum\nupdate action except it takes package names instead of repos to install.\n\nChange-Id: Ia47a1ea9eb51a37f6d75d39c524e97fd4ec94fba\n""}, {'number': 3, 'created': '2019-07-03 23:45:24.000000000', 'files': ['tasks/yum_install.yml', 'files/yum_install.sh', 'README.rst', 'tasks/yum_install_docker.yml', 'tasks/yum_install_buildah.yml', 'templates/Dockerfile-yum-install.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-tripleo-modify-image/commit/3a4caf4587ffee00260e5feab9d92c0e858a8d8c', 'message': ""Implement a yum install command\n\nYum update works if you want to update existing packages, but sometimes\nyou want to install a package that's available via the yum repositories\nthat is extra. This implements a yum install action similiar to the yum\nupdate action except it takes package names instead of repos to install.\n\nChange-Id: Ia47a1ea9eb51a37f6d75d39c524e97fd4ec94fba\n""}]",3,668968,3a4caf4587ffee00260e5feab9d92c0e858a8d8c,23,4,3,14985,,,0,"Implement a yum install command

Yum update works if you want to update existing packages, but sometimes
you want to install a package that's available via the yum repositories
that is extra. This implements a yum install action similiar to the yum
update action except it takes package names instead of repos to install.

Change-Id: Ia47a1ea9eb51a37f6d75d39c524e97fd4ec94fba
",git fetch https://review.opendev.org/openstack/ansible-role-tripleo-modify-image refs/changes/68/668968/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/yum_install.yml', 'files/yum_install.sh', 'README.rst', 'tasks/yum_install_docker.yml', 'tasks/yum_install_buildah.yml', 'templates/Dockerfile-yum-install.j2', 'defaults/main.yml']",7,d8ea05d38be95c3b00e41ed3e053bfc4e9cf98e9,package-install,yum_packages: [],,212,0
openstack%2Fkolla-cli~master~I0a0a15c9dacb20c80f7b71eea3532f39ab9dc36b,openstack/kolla-cli,master,I0a0a15c9dacb20c80f7b71eea3532f39ab9dc36b,Remove the doc/build,MERGED,2019-07-10 05:44:51.000000000,2019-07-10 06:06:44.000000000,2019-07-10 06:06:44.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-10 05:44:51.000000000', 'files': ['doc/build/html/_modules/kollacli/api/host.html', 'doc/build/html/_modules/kollacli/commands/password.html', 'doc/build/html/_static/comment.png', 'doc/build/html/_modules/kollacli/api/service.html', 'doc/build/html/objects.inv', 'doc/build/html/_static/down-pressed.png', 'doc/build/html/_modules/kollacli/common/ansible/playbook.html', 'doc/build/html/kollacli.api.html', 'doc/build/html/_sources/kollacli.common.txt', 'doc/build/html/_modules/kollacli/api/password.html', 'doc/build/html/_static/basic.css', 'doc/build/html/_static/minus.png', 'doc/build/html/_modules/kollacli/commands/upgrade.html', 'doc/build/html/_sources/modules.txt', 'doc/build/html/_static/plus.png', 'doc/build/html/_static/up.png', 'doc/build/html/_modules/kollacli/common/inventory.html', 'doc/build/html/_modules/kollacli/common/passwords.html', 'doc/build/html/_modules/kollacli/common/ansible/actions.html', 'doc/build/html/_modules/kollacli/commands/group.html', 'doc/build/html/_modules/kollacli/commands/exceptions.html', 'doc/build/html/_static/default.css', 'doc/build/html/_modules/kollacli/common/properties.html', 'doc/build/html/_sources/kollacli.commands.txt', 'doc/build/html/_modules/kollacli/commands/service.html', 'doc/build/html/_modules/kollacli/commands/deploy.html', 'doc/build/html/_modules/kollacli/exceptions.html', 'doc/build/html/_modules/kollacli/common/support.html', 'doc/build/html/_modules/kollacli/common/ansible/job.html', 'doc/build/html/genindex.html', 'doc/build/html/_modules/kollacli/api/properties.html', 'doc/build/html/_modules/kollacli/api/support.html', 'doc/build/html/_modules/kollacli/shell.html', 'doc/build/html/_modules/kollacli/api/job.html', 'doc/build/html/py-modindex.html', 'doc/build/html/search.html', 'doc/build/html/_modules/kollacli/api/exceptions.html', 'doc/build/html/_modules/kollacli/commands/host.html', 'doc/build/html/_modules/kollacli/api/deploy.html', 'doc/build/html/_modules/kollacli/common/utils.html', 'doc/build/html/_sources/kollacli.txt', 'doc/build/html/_static/comment-close.png', 'doc/build/html/kollacli.html', 'doc/build/html/_modules/index.html', 'doc/build/html/_static/pygments.css', 'doc/build/html/_static/sidebar.js', 'doc/build/html/_sources/kollacli.api.txt', 'doc/build/html/_static/up-pressed.png', 'doc/build/html/_modules/kollacli/commands/property.html', 'doc/build/html/kollacli.common.html', 'doc/build/html/kollacli.common.ansible.html', 'doc/build/html/_static/jquery.js', 'doc/build/html/modules.html', 'doc/build/html/_modules/kollacli/api/client.html', 'doc/build/html/_static/ajax-loader.gif', 'doc/build/html/kollacli.commands.html', 'doc/build/html/_static/down.png', 'doc/build/html/_static/file.png', 'doc/build/html/_static/underscore.js', 'doc/build/html/searchindex.js', 'doc/build/html/_sources/index.txt', 'doc/build/html/_static/comment-bright.png', 'doc/build/html/_static/searchtools.js', 'doc/build/html/_modules/kollacli/api/async.html', 'doc/build/html/_modules/kollacli/api/group.html', 'doc/build/html/_modules/kollacli/common/sshutils.html', 'doc/build/html/_modules/kollacli/commands/support.html', 'doc/build/html/index.html', 'doc/build/html/_static/doctools.js', 'doc/build/html/_sources/kollacli.common.ansible.txt', 'doc/build/html/_static/websupport.js'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/a0d28608aa645d24ce428d82ae77b0be662a9048', 'message': 'Remove the doc/build\n\nwhen run `tox -e docs` in localhosts, Sphinx will genatrate doc/build,\nit is not necessary for kolla-cli, should be removed from the project\n\nChange-Id: I0a0a15c9dacb20c80f7b71eea3532f39ab9dc36b\n'}]",0,669981,a0d28608aa645d24ce428d82ae77b0be662a9048,6,2,1,27781,,,0,"Remove the doc/build

when run `tox -e docs` in localhosts, Sphinx will genatrate doc/build,
it is not necessary for kolla-cli, should be removed from the project

Change-Id: I0a0a15c9dacb20c80f7b71eea3532f39ab9dc36b
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/81/669981/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/build/html/_modules/kollacli/api/host.html', 'doc/build/html/_modules/kollacli/commands/password.html', 'doc/build/html/_static/comment.png', 'doc/build/html/_modules/kollacli/api/service.html', 'doc/build/html/objects.inv', 'doc/build/html/_static/down-pressed.png', 'doc/build/html/_modules/kollacli/common/ansible/playbook.html', 'doc/build/html/kollacli.api.html', 'doc/build/html/_sources/kollacli.common.txt', 'doc/build/html/_modules/kollacli/api/password.html', 'doc/build/html/_static/basic.css', 'doc/build/html/_static/minus.png', 'doc/build/html/_modules/kollacli/commands/upgrade.html', 'doc/build/html/_sources/modules.txt', 'doc/build/html/_static/plus.png', 'doc/build/html/_static/up.png', 'doc/build/html/_modules/kollacli/common/inventory.html', 'doc/build/html/_modules/kollacli/common/passwords.html', 'doc/build/html/_modules/kollacli/common/ansible/actions.html', 'doc/build/html/_modules/kollacli/commands/group.html', 'doc/build/html/_modules/kollacli/commands/exceptions.html', 'doc/build/html/_static/default.css', 'doc/build/html/_modules/kollacli/common/properties.html', 'doc/build/html/_sources/kollacli.commands.txt', 'doc/build/html/_modules/kollacli/commands/service.html', 'doc/build/html/_modules/kollacli/commands/deploy.html', 'doc/build/html/_modules/kollacli/exceptions.html', 'doc/build/html/_modules/kollacli/common/support.html', 'doc/build/html/_modules/kollacli/common/ansible/job.html', 'doc/build/html/genindex.html', 'doc/build/html/_modules/kollacli/api/properties.html', 'doc/build/html/_modules/kollacli/api/support.html', 'doc/build/html/_modules/kollacli/shell.html', 'doc/build/html/_modules/kollacli/api/job.html', 'doc/build/html/py-modindex.html', 'doc/build/html/search.html', 'doc/build/html/_modules/kollacli/api/exceptions.html', 'doc/build/html/_modules/kollacli/commands/host.html', 'doc/build/html/_modules/kollacli/api/deploy.html', 'doc/build/html/_modules/kollacli/common/utils.html', 'doc/build/html/_sources/kollacli.txt', 'doc/build/html/_static/comment-close.png', 'doc/build/html/kollacli.html', 'doc/build/html/_modules/index.html', 'doc/build/html/_static/pygments.css', 'doc/build/html/_static/sidebar.js', 'doc/build/html/_sources/kollacli.api.txt', 'doc/build/html/_static/up-pressed.png', 'doc/build/html/_modules/kollacli/commands/property.html', 'doc/build/html/kollacli.common.html', 'doc/build/html/kollacli.common.ansible.html', 'doc/build/html/_static/jquery.js', 'doc/build/html/modules.html', 'doc/build/html/_modules/kollacli/api/client.html', 'doc/build/html/_static/ajax-loader.gif', 'doc/build/html/kollacli.commands.html', 'doc/build/html/_static/down.png', 'doc/build/html/_static/file.png', 'doc/build/html/_static/underscore.js', 'doc/build/html/searchindex.js', 'doc/build/html/_sources/index.txt', 'doc/build/html/_static/comment-bright.png', 'doc/build/html/_static/searchtools.js', 'doc/build/html/_modules/kollacli/api/async.html', 'doc/build/html/_modules/kollacli/api/group.html', 'doc/build/html/_modules/kollacli/common/sshutils.html', 'doc/build/html/_modules/kollacli/commands/support.html', 'doc/build/html/index.html', 'doc/build/html/_static/doctools.js', 'doc/build/html/_sources/kollacli.common.ansible.txt', 'doc/build/html/_static/websupport.js']",71,a0d28608aa645d24ce428d82ae77b0be662a9048,,,"/* * websupport.js * ~~~~~~~~~~~~~ * * sphinx.websupport utilties for all documentation. * * :copyright: Copyright 2007-2014 by the Sphinx team, see AUTHORS. * :license: BSD, see LICENSE for details. * */ (function($) { $.fn.autogrow = function() { return this.each(function() { var textarea = this; $.fn.autogrow.resize(textarea); $(textarea) .focus(function() { textarea.interval = setInterval(function() { $.fn.autogrow.resize(textarea); }, 500); }) .blur(function() { clearInterval(textarea.interval); }); }); }; $.fn.autogrow.resize = function(textarea) { var lineHeight = parseInt($(textarea).css('line-height'), 10); var lines = textarea.value.split('\n'); var columns = textarea.cols; var lineCount = 0; $.each(lines, function() { lineCount += Math.ceil(this.length / columns) || 1; }); var height = lineHeight * (lineCount + 1); $(textarea).css('height', height); }; })(jQuery); (function($) { var comp, by; function init() { initEvents(); initComparator(); } function initEvents() { $('a.comment-close').live(""click"", function(event) { event.preventDefault(); hide($(this).attr('id').substring(2)); }); $('a.vote').live(""click"", function(event) { event.preventDefault(); handleVote($(this)); }); $('a.reply').live(""click"", function(event) { event.preventDefault(); openReply($(this).attr('id').substring(2)); }); $('a.close-reply').live(""click"", function(event) { event.preventDefault(); closeReply($(this).attr('id').substring(2)); }); $('a.sort-option').live(""click"", function(event) { event.preventDefault(); handleReSort($(this)); }); $('a.show-proposal').live(""click"", function(event) { event.preventDefault(); showProposal($(this).attr('id').substring(2)); }); $('a.hide-proposal').live(""click"", function(event) { event.preventDefault(); hideProposal($(this).attr('id').substring(2)); }); $('a.show-propose-change').live(""click"", function(event) { event.preventDefault(); showProposeChange($(this).attr('id').substring(2)); }); $('a.hide-propose-change').live(""click"", function(event) { event.preventDefault(); hideProposeChange($(this).attr('id').substring(2)); }); $('a.accept-comment').live(""click"", function(event) { event.preventDefault(); acceptComment($(this).attr('id').substring(2)); }); $('a.delete-comment').live(""click"", function(event) { event.preventDefault(); deleteComment($(this).attr('id').substring(2)); }); $('a.comment-markup').live(""click"", function(event) { event.preventDefault(); toggleCommentMarkupBox($(this).attr('id').substring(2)); }); } /** * Set comp, which is a comparator function used for sorting and * inserting comments into the list. */ function setComparator() { // If the first three letters are ""asc"", sort in ascending order // and remove the prefix. if (by.substring(0,3) == 'asc') { var i = by.substring(3); comp = function(a, b) { return a[i] - b[i]; }; } else { // Otherwise sort in descending order. comp = function(a, b) { return b[by] - a[by]; }; } // Reset link styles and format the selected sort option. $('a.sel').attr('href', '#').removeClass('sel'); $('a.by' + by).removeAttr('href').addClass('sel'); } /** * Create a comp function. If the user has preferences stored in * the sortBy cookie, use those, otherwise use the default. */ function initComparator() { by = 'rating'; // Default to sort by rating. // If the sortBy cookie is set, use that instead. if (document.cookie.length > 0) { var start = document.cookie.indexOf('sortBy='); if (start != -1) { start = start + 7; var end = document.cookie.indexOf("";"", start); if (end == -1) { end = document.cookie.length; by = unescape(document.cookie.substring(start, end)); } } } setComparator(); } /** * Show a comment div. */ function show(id) { $('#ao' + id).hide(); $('#ah' + id).show(); var context = $.extend({id: id}, opts); var popup = $(renderTemplate(popupTemplate, context)).hide(); popup.find('textarea[name=""proposal""]').hide(); popup.find('a.by' + by).addClass('sel'); var form = popup.find('#cf' + id); form.submit(function(event) { event.preventDefault(); addComment(form); }); $('#s' + id).after(popup); popup.slideDown('fast', function() { getComments(id); }); } /** * Hide a comment div. */ function hide(id) { $('#ah' + id).hide(); $('#ao' + id).show(); var div = $('#sc' + id); div.slideUp('fast', function() { div.remove(); }); } /** * Perform an ajax request to get comments for a node * and insert the comments into the comments tree. */ function getComments(id) { $.ajax({ type: 'GET', url: opts.getCommentsURL, data: {node: id}, success: function(data, textStatus, request) { var ul = $('#cl' + id); var speed = 100; $('#cf' + id) .find('textarea[name=""proposal""]') .data('source', data.source); if (data.comments.length === 0) { ul.html('<li>No comments yet.</li>'); ul.data('empty', true); } else { // If there are comments, sort them and put them in the list. var comments = sortComments(data.comments); speed = data.comments.length * 100; appendComments(comments, ul); ul.data('empty', false); } $('#cn' + id).slideUp(speed + 200); ul.slideDown(speed); }, error: function(request, textStatus, error) { showError('Oops, there was a problem retrieving the comments.'); }, dataType: 'json' }); } /** * Add a comment via ajax and insert the comment into the comment tree. */ function addComment(form) { var node_id = form.find('input[name=""node""]').val(); var parent_id = form.find('input[name=""parent""]').val(); var text = form.find('textarea[name=""comment""]').val(); var proposal = form.find('textarea[name=""proposal""]').val(); if (text == '') { showError('Please enter a comment.'); return; } // Disable the form that is being submitted. form.find('textarea,input').attr('disabled', 'disabled'); // Send the comment to the server. $.ajax({ type: ""POST"", url: opts.addCommentURL, dataType: 'json', data: { node: node_id, parent: parent_id, text: text, proposal: proposal }, success: function(data, textStatus, error) { // Reset the form. if (node_id) { hideProposeChange(node_id); } form.find('textarea') .val('') .add(form.find('input')) .removeAttr('disabled'); var ul = $('#cl' + (node_id || parent_id)); if (ul.data('empty')) { $(ul).empty(); ul.data('empty', false); } insertComment(data.comment); var ao = $('#ao' + node_id); ao.find('img').attr({'src': opts.commentBrightImage}); if (node_id) { // if this was a ""root"" comment, remove the commenting box // (the user can get it back by reopening the comment popup) $('#ca' + node_id).slideUp(); } }, error: function(request, textStatus, error) { form.find('textarea,input').removeAttr('disabled'); showError('Oops, there was a problem adding the comment.'); } }); } /** * Recursively append comments to the main comment list and children * lists, creating the comment tree. */ function appendComments(comments, ul) { $.each(comments, function() { var div = createCommentDiv(this); ul.append($(document.createElement('li')).html(div)); appendComments(this.children, div.find('ul.comment-children')); // To avoid stagnating data, don't store the comments children in data. this.children = null; div.data('comment', this); }); } /** * After adding a new comment, it must be inserted in the correct * location in the comment tree. */ function insertComment(comment) { var div = createCommentDiv(comment); // To avoid stagnating data, don't store the comments children in data. comment.children = null; div.data('comment', comment); var ul = $('#cl' + (comment.node || comment.parent)); var siblings = getChildren(ul); var li = $(document.createElement('li')); li.hide(); // Determine where in the parents children list to insert this comment. for(i=0; i < siblings.length; i++) { if (comp(comment, siblings[i]) <= 0) { $('#cd' + siblings[i].id) .parent() .before(li.html(div)); li.slideDown('fast'); return; } } // If we get here, this comment rates lower than all the others, // or it is the only comment in the list. ul.append(li.html(div)); li.slideDown('fast'); } function acceptComment(id) { $.ajax({ type: 'POST', url: opts.acceptCommentURL, data: {id: id}, success: function(data, textStatus, request) { $('#cm' + id).fadeOut('fast'); $('#cd' + id).removeClass('moderate'); }, error: function(request, textStatus, error) { showError('Oops, there was a problem accepting the comment.'); } }); } function deleteComment(id) { $.ajax({ type: 'POST', url: opts.deleteCommentURL, data: {id: id}, success: function(data, textStatus, request) { var div = $('#cd' + id); if (data == 'delete') { // Moderator mode: remove the comment and all children immediately div.slideUp('fast', function() { div.remove(); }); return; } // User mode: only mark the comment as deleted div .find('span.user-id:first') .text('[deleted]').end() .find('div.comment-text:first') .text('[deleted]').end() .find('#cm' + id + ', #dc' + id + ', #ac' + id + ', #rc' + id + ', #sp' + id + ', #hp' + id + ', #cr' + id + ', #rl' + id) .remove(); var comment = div.data('comment'); comment.username = '[deleted]'; comment.text = '[deleted]'; div.data('comment', comment); }, error: function(request, textStatus, error) { showError('Oops, there was a problem deleting the comment.'); } }); } function showProposal(id) { $('#sp' + id).hide(); $('#hp' + id).show(); $('#pr' + id).slideDown('fast'); } function hideProposal(id) { $('#hp' + id).hide(); $('#sp' + id).show(); $('#pr' + id).slideUp('fast'); } function showProposeChange(id) { $('#pc' + id).hide(); $('#hc' + id).show(); var textarea = $('#pt' + id); textarea.val(textarea.data('source')); $.fn.autogrow.resize(textarea[0]); textarea.slideDown('fast'); } function hideProposeChange(id) { $('#hc' + id).hide(); $('#pc' + id).show(); var textarea = $('#pt' + id); textarea.val('').removeAttr('disabled'); textarea.slideUp('fast'); } function toggleCommentMarkupBox(id) { $('#mb' + id).toggle(); } /** Handle when the user clicks on a sort by link. */ function handleReSort(link) { var classes = link.attr('class').split(/\s+/); for (var i=0; i<classes.length; i++) { if (classes[i] != 'sort-option') { by = classes[i].substring(2); } } setComparator(); // Save/update the sortBy cookie. var expiration = new Date(); expiration.setDate(expiration.getDate() + 365); document.cookie= 'sortBy=' + escape(by) + ';expires=' + expiration.toUTCString(); $('ul.comment-ul').each(function(index, ul) { var comments = getChildren($(ul), true); comments = sortComments(comments); appendComments(comments, $(ul).empty()); }); } /** * Function to process a vote when a user clicks an arrow. */ function handleVote(link) { if (!opts.voting) { showError(""You'll need to login to vote.""); return; } var id = link.attr('id'); if (!id) { // Didn't click on one of the voting arrows. return; } // If it is an unvote, the new vote value is 0, // Otherwise it's 1 for an upvote, or -1 for a downvote. var value = 0; if (id.charAt(1) != 'u') { value = id.charAt(0) == 'u' ? 1 : -1; } // The data to be sent to the server. var d = { comment_id: id.substring(2), value: value }; // Swap the vote and unvote links. link.hide(); $('#' + id.charAt(0) + (id.charAt(1) == 'u' ? 'v' : 'u') + d.comment_id) .show(); // The div the comment is displayed in. var div = $('div#cd' + d.comment_id); var data = div.data('comment'); // If this is not an unvote, and the other vote arrow has // already been pressed, unpress it. if ((d.value !== 0) && (data.vote === d.value * -1)) { $('#' + (d.value == 1 ? 'd' : 'u') + 'u' + d.comment_id).hide(); $('#' + (d.value == 1 ? 'd' : 'u') + 'v' + d.comment_id).show(); } // Update the comments rating in the local data. data.rating += (data.vote === 0) ? d.value : (d.value - data.vote); data.vote = d.value; div.data('comment', data); // Change the rating text. div.find('.rating:first') .text(data.rating + ' point' + (data.rating == 1 ? '' : 's')); // Send the vote information to the server. $.ajax({ type: ""POST"", url: opts.processVoteURL, data: d, error: function(request, textStatus, error) { showError('Oops, there was a problem casting that vote.'); } }); } /** * Open a reply form used to reply to an existing comment. */ function openReply(id) { // Swap out the reply link for the hide link $('#rl' + id).hide(); $('#cr' + id).show(); // Add the reply li to the children ul. var div = $(renderTemplate(replyTemplate, {id: id})).hide(); $('#cl' + id) .prepend(div) // Setup the submit handler for the reply form. .find('#rf' + id) .submit(function(event) { event.preventDefault(); addComment($('#rf' + id)); closeReply(id); }) .find('input[type=button]') .click(function() { closeReply(id); }); div.slideDown('fast', function() { $('#rf' + id).find('textarea').focus(); }); } /** * Close the reply form opened with openReply. */ function closeReply(id) { // Remove the reply div from the DOM. $('#rd' + id).slideUp('fast', function() { $(this).remove(); }); // Swap out the hide link for the reply link $('#cr' + id).hide(); $('#rl' + id).show(); } /** * Recursively sort a tree of comments using the comp comparator. */ function sortComments(comments) { comments.sort(comp); $.each(comments, function() { this.children = sortComments(this.children); }); return comments; } /** * Get the children comments from a ul. If recursive is true, * recursively include childrens' children. */ function getChildren(ul, recursive) { var children = []; ul.children().children(""[id^='cd']"") .each(function() { var comment = $(this).data('comment'); if (recursive) comment.children = getChildren($(this).find('#cl' + comment.id), true); children.push(comment); }); return children; } /** Create a div to display a comment in. */ function createCommentDiv(comment) { if (!comment.displayed && !opts.moderator) { return $('<div class=""moderate"">Thank you! Your comment will show up ' + 'once it is has been approved by a moderator.</div>'); } // Prettify the comment rating. comment.pretty_rating = comment.rating + ' point' + (comment.rating == 1 ? '' : 's'); // Make a class (for displaying not yet moderated comments differently) comment.css_class = comment.displayed ? '' : ' moderate'; // Create a div for this comment. var context = $.extend({}, opts, comment); var div = $(renderTemplate(commentTemplate, context)); // If the user has voted on this comment, highlight the correct arrow. if (comment.vote) { var direction = (comment.vote == 1) ? 'u' : 'd'; div.find('#' + direction + 'v' + comment.id).hide(); div.find('#' + direction + 'u' + comment.id).show(); } if (opts.moderator || comment.text != '[deleted]') { div.find('a.reply').show(); if (comment.proposal_diff) div.find('#sp' + comment.id).show(); if (opts.moderator && !comment.displayed) div.find('#cm' + comment.id).show(); if (opts.moderator || (opts.username == comment.username)) div.find('#dc' + comment.id).show(); } return div; } /** * A simple template renderer. Placeholders such as <%id%> are replaced * by context['id'] with items being escaped. Placeholders such as <#id#> * are not escaped. */ function renderTemplate(template, context) { var esc = $(document.createElement('div')); function handle(ph, escape) { var cur = context; $.each(ph.split('.'), function() { cur = cur[this]; }); return escape ? esc.text(cur || """").html() : cur; } return template.replace(/<([%#])([\w\.]*)\1>/g, function() { return handle(arguments[2], arguments[1] == '%' ? true : false); }); } /** Flash an error message briefly. */ function showError(message) { $(document.createElement('div')).attr({'class': 'popup-error'}) .append($(document.createElement('div')) .attr({'class': 'error-message'}).text(message)) .appendTo('body') .fadeIn(""slow"") .delay(2000) .fadeOut(""slow""); } /** Add a link the user uses to open the comments popup. */ $.fn.comment = function() { return this.each(function() { var id = $(this).attr('id').substring(1); var count = COMMENT_METADATA[id]; var title = count + ' comment' + (count == 1 ? '' : 's'); var image = count > 0 ? opts.commentBrightImage : opts.commentImage; var addcls = count == 0 ? ' nocomment' : ''; $(this) .append( $(document.createElement('a')).attr({ href: '#', 'class': 'sphinx-comment-open' + addcls, id: 'ao' + id }) .append($(document.createElement('img')).attr({ src: image, alt: 'comment', title: title })) .click(function(event) { event.preventDefault(); show($(this).attr('id').substring(2)); }) ) .append( $(document.createElement('a')).attr({ href: '#', 'class': 'sphinx-comment-close hidden', id: 'ah' + id }) .append($(document.createElement('img')).attr({ src: opts.closeCommentImage, alt: 'close', title: 'close' })) .click(function(event) { event.preventDefault(); hide($(this).attr('id').substring(2)); }) ); }); }; var opts = { processVoteURL: '/_process_vote', addCommentURL: '/_add_comment', getCommentsURL: '/_get_comments', acceptCommentURL: '/_accept_comment', deleteCommentURL: '/_delete_comment', commentImage: '/static/_static/comment.png', closeCommentImage: '/static/_static/comment-close.png', loadingImage: '/static/_static/ajax-loader.gif', commentBrightImage: '/static/_static/comment-bright.png', upArrow: '/static/_static/up.png', downArrow: '/static/_static/down.png', upArrowPressed: '/static/_static/up-pressed.png', downArrowPressed: '/static/_static/down-pressed.png', voting: false, moderator: false }; if (typeof COMMENT_OPTIONS != ""undefined"") { opts = jQuery.extend(opts, COMMENT_OPTIONS); } var popupTemplate = '\ <div class=""sphinx-comments"" id=""sc<%id%>"">\ <p class=""sort-options"">\ Sort by:\ <a href=""#"" class=""sort-option byrating"">best rated</a>\ <a href=""#"" class=""sort-option byascage"">newest</a>\ <a href=""#"" class=""sort-option byage"">oldest</a>\ </p>\ <div class=""comment-header"">Comments</div>\ <div class=""comment-loading"" id=""cn<%id%>"">\ loading comments... <img src=""<%loadingImage%>"" alt="""" /></div>\ <ul id=""cl<%id%>"" class=""comment-ul""></ul>\ <div id=""ca<%id%>"">\ <p class=""add-a-comment"">Add a comment\ (<a href=""#"" class=""comment-markup"" id=""ab<%id%>"">markup</a>):</p>\ <div class=""comment-markup-box"" id=""mb<%id%>"">\ reStructured text markup: <i>*emph*</i>, <b>**strong**</b>, \ <tt>``code``</tt>, \ code blocks: <tt>::</tt> and an indented block after blank line</div>\ <form method=""post"" id=""cf<%id%>"" class=""comment-form"" action="""">\ <textarea name=""comment"" cols=""80""></textarea>\ <p class=""propose-button"">\ <a href=""#"" id=""pc<%id%>"" class=""show-propose-change"">\ Propose a change &#9657;\ </a>\ <a href=""#"" id=""hc<%id%>"" class=""hide-propose-change"">\ Propose a change &#9663;\ </a>\ </p>\ <textarea name=""proposal"" id=""pt<%id%>"" cols=""80""\ spellcheck=""false""></textarea>\ <input type=""submit"" value=""Add comment"" />\ <input type=""hidden"" name=""node"" value=""<%id%>"" />\ <input type=""hidden"" name=""parent"" value="""" />\ </form>\ </div>\ </div>'; var commentTemplate = '\ <div id=""cd<%id%>"" class=""sphinx-comment<%css_class%>"">\ <div class=""vote"">\ <div class=""arrow"">\ <a href=""#"" id=""uv<%id%>"" class=""vote"" title=""vote up"">\ <img src=""<%upArrow%>"" />\ </a>\ <a href=""#"" id=""uu<%id%>"" class=""un vote"" title=""vote up"">\ <img src=""<%upArrowPressed%>"" />\ </a>\ </div>\ <div class=""arrow"">\ <a href=""#"" id=""dv<%id%>"" class=""vote"" title=""vote down"">\ <img src=""<%downArrow%>"" id=""da<%id%>"" />\ </a>\ <a href=""#"" id=""du<%id%>"" class=""un vote"" title=""vote down"">\ <img src=""<%downArrowPressed%>"" />\ </a>\ </div>\ </div>\ <div class=""comment-content"">\ <p class=""tagline comment"">\ <span class=""user-id""><%username%></span>\ <span class=""rating""><%pretty_rating%></span>\ <span class=""delta""><%time.delta%></span>\ </p>\ <div class=""comment-text comment""><#text#></div>\ <p class=""comment-opts comment"">\ <a href=""#"" class=""reply hidden"" id=""rl<%id%>"">reply &#9657;</a>\ <a href=""#"" class=""close-reply"" id=""cr<%id%>"">reply &#9663;</a>\ <a href=""#"" id=""sp<%id%>"" class=""show-proposal"">proposal &#9657;</a>\ <a href=""#"" id=""hp<%id%>"" class=""hide-proposal"">proposal &#9663;</a>\ <a href=""#"" id=""dc<%id%>"" class=""delete-comment hidden"">delete</a>\ <span id=""cm<%id%>"" class=""moderation hidden"">\ <a href=""#"" id=""ac<%id%>"" class=""accept-comment"">accept</a>\ </span>\ </p>\ <pre class=""proposal"" id=""pr<%id%>"">\ <#proposal_diff#>\ </pre>\ <ul class=""comment-children"" id=""cl<%id%>""></ul>\ </div>\ <div class=""clearleft""></div>\ </div>\ </div>'; var replyTemplate = '\ <li>\ <div class=""reply-div"" id=""rd<%id%>"">\ <form id=""rf<%id%>"">\ <textarea name=""comment"" cols=""80""></textarea>\ <input type=""submit"" value=""Add reply"" />\ <input type=""button"" value=""Cancel"" />\ <input type=""hidden"" name=""parent"" value=""<%id%>"" />\ <input type=""hidden"" name=""node"" value="""" />\ </form>\ </div>\ </li>'; $(document).ready(function() { init(); }); })(jQuery); $(document).ready(function() { // add comment anchors for all paragraphs that are commentable $('.sphinx-has-comment').comment(); // highlight search words in search results $(""div.context"").each(function() { var params = $.getQueryParameters(); var terms = (params.q) ? params.q[0].split(/\s+/) : []; var result = $(this); $.each(terms, function() { result.highlightText(this.toLowerCase(), 'highlighted'); }); }); // directly open comment window if requested var anchor = document.location.hash; if (anchor.substring(0, 9) == '#comment-') { $('#ao' + anchor.substring(9)).click(); document.location.hash = '#s' + anchor.substring(9); } }); ",0,18120
openstack%2Fsolum~master~Ia9a1f77382ffea8150babd4577f4836ea5e43f30,openstack/solum,master,Ia9a1f77382ffea8150babd4577f4836ea5e43f30,Add Python 3 Train unit tests,MERGED,2019-02-19 09:06:33.000000000,2019-07-10 05:41:10.000000000,2019-07-10 05:41:10.000000000,"[{'_account_id': 11805}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-19 09:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/d9ac4634095d6c1fb6fc7193ba4c223ef846e63e', 'message': 'add python 3.7 unit test job\n\nThis is a mechanically generated patch to add a unit test job running\nunder Python 3.7.\n\nSee ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135626.html\n\nChange-Id: Ia9a1f77382ffea8150babd4577f4836ea5e43f30\nStory: #2004073\nTask: #27453\n'}, {'number': 2, 'created': '2019-07-05 20:15:46.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/solum/commit/a4c97c47781134cd1ed42d53832b86b92f300268', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ia9a1f77382ffea8150babd4577f4836ea5e43f30\nStory: #2005924\nTask: #34247\n'}]",0,637771,a4c97c47781134cd1ed42d53832b86b92f300268,10,3,2,9414,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ia9a1f77382ffea8150babd4577f4836ea5e43f30
Story: #2005924
Task: #34247
",git fetch https://review.opendev.org/openstack/solum refs/changes/71/637771/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d9ac4634095d6c1fb6fc7193ba4c223ef846e63e,python3-train, - openstack-python37-jobs,,1,0
openstack%2Fkolla-cli~master~I97c94abd33e66691bdd1d697746bb69725457d43,openstack/kolla-cli,master,I97c94abd33e66691bdd1d697746bb69725457d43,Sync Sphinx requirement,MERGED,2018-06-24 03:00:08.000000000,2019-07-10 05:39:41.000000000,2019-07-10 05:39:41.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2018-06-24 03:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/e1d7032369f407586af994b1640502038ef82a6b', 'message': '[DNM]test\n\nChange-Id: I97c94abd33e66691bdd1d697746bb69725457d43\n'}, {'number': 2, 'created': '2019-07-04 07:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/a46c681b9370f6b96f4e8724357adf5a08448818', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I97c94abd33e66691bdd1d697746bb69725457d43\n'}, {'number': 3, 'created': '2019-07-04 10:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/bde64035a8dbaeee9248a9c027d64ce8568d1ac2', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I97c94abd33e66691bdd1d697746bb69725457d43\n'}, {'number': 4, 'created': '2019-07-04 11:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/1d8332473b3cae2e6a34f0c8771573b5a503bf82', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I97c94abd33e66691bdd1d697746bb69725457d43\n'}, {'number': 5, 'created': '2019-07-10 04:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/1de6adac2f3a1b93b55b4ef9d92c4e4fb097b176', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. when run tox -e docs in localhost, some file will be created, this ps to\nignore it.\n\nChange-Id: I97c94abd33e66691bdd1d697746bb69725457d43\n'}, {'number': 6, 'created': '2019-07-10 04:29:55.000000000', 'files': ['.gitignore', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/0695a17c580f6c6c6ab03523e935fa00c0f323ff', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. when run tox -e docs in localhost, some file will be created, this ps to\nignore it.\n\nChange-Id: I97c94abd33e66691bdd1d697746bb69725457d43\n'}]",0,577636,0695a17c580f6c6c6ab03523e935fa00c0f323ff,18,3,6,27781,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. when run tox -e docs in localhost, some file will be created, this ps to
ignore it.

Change-Id: I97c94abd33e66691bdd1d697746bb69725457d43
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/36/577636/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,e1d7032369f407586af994b1640502038ef82a6b,,test,,1,0
openstack%2Fzun~master~Ib525508a78cbcc2785169344ca51e6ad535846ab,openstack/zun,master,Ib525508a78cbcc2785169344ca51e6ad535846ab,Add Python 3 Train unit tests,MERGED,2019-07-05 21:07:44.000000000,2019-07-10 05:36:03.000000000,2019-07-10 05:36:03.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 21:07:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/zun/commit/8f9cb35faa926e44310f9820611989ffd5417166', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Ib525508a78cbcc2785169344ca51e6ad535846ab\nStory: #2005924\nTask: #34259\n'}]",0,669534,8f9cb35faa926e44310f9820611989ffd5417166,6,2,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Ib525508a78cbcc2785169344ca51e6ad535846ab
Story: #2005924
Task: #34259
",git fetch https://review.opendev.org/openstack/zun refs/changes/34/669534/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8f9cb35faa926e44310f9820611989ffd5417166,python3-train,"envlist = py27,py37,pep8,migration","envlist = py37,py36,py27,pep8,migration",1,1
openstack%2Fopenstack-ansible-os_nova~stable%2Fstein~Ie0caab0b10e878722f1804f67808f1d83d504c59,openstack/openstack-ansible-os_nova,stable/stein,Ie0caab0b10e878722f1804f67808f1d83d504c59,Install netcat on compute hosts,MERGED,2019-07-09 22:10:37.000000000,2019-07-10 05:27:07.000000000,2019-07-10 05:27:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-07-09 22:10:37.000000000', 'files': ['vars/redhat-7.yml', 'vars/debian.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/99266bd43b59d0d42fbce090487d13625b5a5b57', 'message': 'Install netcat on compute hosts\n\nCompute hosts require netcat in order to perform live migrations.\n\nCloses-Bug: #1833644\nChange-Id: Ie0caab0b10e878722f1804f67808f1d83d504c59\n(cherry picked from commit a01e6d9607702ae2ca9282808193b4b91ea0cce6)\n'}]",0,669953,99266bd43b59d0d42fbce090487d13625b5a5b57,7,3,1,17799,,,0,"Install netcat on compute hosts

Compute hosts require netcat in order to perform live migrations.

Closes-Bug: #1833644
Change-Id: Ie0caab0b10e878722f1804f67808f1d83d504c59
(cherry picked from commit a01e6d9607702ae2ca9282808193b4b91ea0cce6)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/53/669953/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/debian.yml', 'vars/suse.yml']",3,99266bd43b59d0d42fbce090487d13625b5a5b57,bug/1833644-stable/stein, - netcat-openbsd,,3,0
openstack%2Fswift~master~I3dec85f61da07bd110bf42220d5ba46e11833a90,openstack/swift,master,I3dec85f61da07bd110bf42220d5ba46e11833a90,Increase some middleware test coverage,MERGED,2019-04-13 05:37:32.000000000,2019-07-10 04:40:28.000000000,2019-07-10 04:39:06.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-13 05:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4ac115a92dc49c12f6b4839147b0abc091cc2acd', 'message': 'Increase some middleware test coverage\n\nChange-Id: I3dec85f61da07bd110bf42220d5ba46e11833a90\n'}, {'number': 2, 'created': '2019-04-15 02:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c7be93020991fcbba243c7f3df1a037075a66c19', 'message': 'Increase some middleware test coverage\n\nChange-Id: I3dec85f61da07bd110bf42220d5ba46e11833a90\n'}, {'number': 3, 'created': '2019-06-05 06:19:20.000000000', 'files': ['test/unit/common/middleware/test_crossdomain.py', 'test/unit/common/middleware/crypto/test_crypto_utils.py', 'swift/common/middleware/list_endpoints.py', 'test/unit/common/middleware/crypto/test_kmip_keymaster.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2eb2451685fdd2efa3f49bc48211844a35300ebf', 'message': 'Increase some middleware test coverage\n\nThis patch increases the test coverage of the following middlewares:\n - list_endpoints\n - crypto\n - crossdomain\n\nChange-Id: I3dec85f61da07bd110bf42220d5ba46e11833a90\n'}]",6,652185,2eb2451685fdd2efa3f49bc48211844a35300ebf,16,3,3,15343,,,0,"Increase some middleware test coverage

This patch increases the test coverage of the following middlewares:
 - list_endpoints
 - crypto
 - crossdomain

Change-Id: I3dec85f61da07bd110bf42220d5ba46e11833a90
",git fetch https://review.opendev.org/openstack/swift refs/changes/85/652185/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_crossdomain.py', 'test/unit/common/middleware/crypto/test_crypto_utils.py', 'swift/common/middleware/list_endpoints.py', 'test/unit/common/middleware/crypto/test_kmip_keymaster.py']",4,4ac115a92dc49c12f6b4839147b0abc091cc2acd,,"from swift.common.middleware.crypto import kmip_keymaster km = kmip_keymaster.filter_factory(conf)(None) km = kmip_keymaster.KmipKeyMaster(None, conf) kmip_keymaster.KmipKeyMaster(None, conf) km = kmip_keymaster.KmipKeyMaster(None, conf) km = kmip_keymaster.KmipKeyMaster(None, conf) kmip_keymaster.KmipKeyMaster(None, conf) km = kmip_keymaster.KmipKeyMaster(None, conf) kmip_keymaster.KmipKeyMaster(None, conf) kmip_keymaster.KmipKeyMaster(None, conf) kmip_keymaster.KmipKeyMaster(None, conf) kmip_keymaster.KmipKeyMaster(None, conf)","from swift.common.middleware.crypto.kmip_keymaster import KmipKeyMaster km = KmipKeyMaster(None, conf) km = KmipKeyMaster(None, conf) KmipKeyMaster(None, conf) km = KmipKeyMaster(None, conf) km = KmipKeyMaster(None, conf) KmipKeyMaster(None, conf) km = KmipKeyMaster(None, conf) KmipKeyMaster(None, conf) KmipKeyMaster(None, conf) KmipKeyMaster(None, conf) KmipKeyMaster(None, conf)",27,20
openstack%2Fopenstack-helm~master~I9236fbffd61a29d3d31cf7ab256c64a2c1897329,openstack/openstack-helm,master,I9236fbffd61a29d3d31cf7ab256c64a2c1897329,Ceph: ceph-mgr improvements,ABANDONED,2017-11-16 23:46:33.000000000,2019-07-10 04:08:23.000000000,,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26201}, {'_account_id': 27160}]","[{'number': 1, 'created': '2017-11-16 23:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c61ab4163af3fe895a3d7591da63be137fc3b6fc', 'message': ""Ceph: ceph-mgr improvements\n\nThis contains a few improvements to the ceph-mgr code\nfrom ceph-helm.\n - Allows to enable/disable and configure mgr modules\n - The mgr doesn't have an assigned port. We remove any\n occurence of port 7000 (dashboard plugin) as a mgr port and\n update the probes to check if a mgr is active. That's not\n optimal but since there can only be 1 active mgr for a Ceph\n cluster running more than one doesn't make a lot of sense\n at this time\n - Remove non required volumeMounts\n - Add mgr caps to the client.admin keyring\n\nChange-Id: I9236fbffd61a29d3d31cf7ab256c64a2c1897329\nSigned-off-by: Alexandre Marangone <amarango@redhat.com>\n""}, {'number': 2, 'created': '2017-11-21 17:55:48.000000000', 'files': ['ceph/templates/deployment-mgr.yaml', 'ceph/templates/templates/_admin.keyring.tpl', 'ceph/templates/bin/_check_mgr.sh.tpl', 'ceph/values.yaml', 'ceph/templates/bin/_start_mgr.sh.tpl', 'ceph/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2bdf90c100bf253ce633a02ad1e7de58412e4390', 'message': ""Ceph: ceph-mgr improvements\n\nThis contains a few improvements to the ceph-mgr code\nfrom ceph-helm.\n - Allows to enable/disable and configure mgr modules\n - The mgr doesn't have an assigned port. We remove any\n occurence of port 7000 (dashboard plugin) as a mgr port and\n update the probes to check if a mgr is active. That's not\n optimal but since there can only be 1 active mgr for a Ceph\n cluster running more than one doesn't make a lot of sense\n at this time\n - Remove non required volumeMounts\n - Add mgr caps to the client.admin keyring\n\nChange-Id: I9236fbffd61a29d3d31cf7ab256c64a2c1897329\nSigned-off-by: Alexandre Marangone <amarango@redhat.com>\n""}]",0,520838,2bdf90c100bf253ce633a02ad1e7de58412e4390,19,6,2,27160,,,0,"Ceph: ceph-mgr improvements

This contains a few improvements to the ceph-mgr code
from ceph-helm.
 - Allows to enable/disable and configure mgr modules
 - The mgr doesn't have an assigned port. We remove any
 occurence of port 7000 (dashboard plugin) as a mgr port and
 update the probes to check if a mgr is active. That's not
 optimal but since there can only be 1 active mgr for a Ceph
 cluster running more than one doesn't make a lot of sense
 at this time
 - Remove non required volumeMounts
 - Add mgr caps to the client.admin keyring

Change-Id: I9236fbffd61a29d3d31cf7ab256c64a2c1897329
Signed-off-by: Alexandre Marangone <amarango@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/38/520838/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceph/templates/deployment-mgr.yaml', 'ceph/templates/templates/_admin.keyring.tpl', 'ceph/templates/bin/_check_mgr.sh.tpl', 'ceph/values.yaml', 'ceph/templates/bin/_start_mgr.sh.tpl', 'ceph/templates/configmap-bin.yaml']",6,c61ab4163af3fe895a3d7591da63be137fc3b6fc,luminous-mgr-improvements," check_mgr.sh: |+ {{ tuple ""bin/_check_mgr.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }}",,94,38
openstack%2Fcyborg~master~Id190d2e12d842ec48782f4acfaa2cbd22cd4547a,openstack/cyborg,master,Id190d2e12d842ec48782f4acfaa2cbd22cd4547a,"Change attach_info, cpid_info from string to a dict.",MERGED,2019-07-03 11:23:40.000000000,2019-07-10 04:05:36.000000000,2019-07-10 04:05:36.000000000,"[{'_account_id': 17813}, {'_account_id': 20722}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 25738}]","[{'number': 1, 'created': '2019-07-03 11:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ae98546642a5ebd264a9bac16f4f43c07fa8e230', 'message': 'Change attach_info, cpid_info from sting to a dict.\n\nConsidering the field type has changed to DictofString, this patch will not\npass the gate test until all drivers are updated.\n\nPlease feel free to co-author.\n\nChange-Id: Id190d2e12d842ec48782f4acfaa2cbd22cd4547a\n'}, {'number': 2, 'created': '2019-07-04 02:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/5ee2a76bcb6e1f40d149e8ec2ea7c057c9aff799', 'message': 'Change attach_info, cpid_info from sting to a dict.\n\nUpdate GPU and FPGA driver to match the current design:\ncpid_info and attach_handle info should be in JSON format.\n\nChange-Id: Id190d2e12d842ec48782f4acfaa2cbd22cd4547a\n'}, {'number': 3, 'created': '2019-07-04 08:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ba442cf7fdb6f724d65983f1f353dea41ad4c2af', 'message': 'Change attach_info, cpid_info from sting to a dict.\n\nUpdate GPU and FPGA driver to match the current design:\ncpid_info and attach_handle info should be in JSON format.\n\nChange-Id: Id190d2e12d842ec48782f4acfaa2cbd22cd4547a\n'}, {'number': 4, 'created': '2019-07-08 02:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8935ef42d5f6707aaeee98a8c03ba8de33703690', 'message': 'Change attach_info, cpid_info from sting to a dict.\n\nUpdate GPU and FPGA driver to match the current design:\ncpid_info and attach_handle info should be in JSON format.\n\nChange-Id: Id190d2e12d842ec48782f4acfaa2cbd22cd4547a\n'}, {'number': 5, 'created': '2019-07-08 06:20:27.000000000', 'files': ['cyborg/agent/resource_tracker.py', 'cyborg/accelerator/common/utils.py', 'cyborg/tests/unit/accelerator/drivers/fpga/intel/test_driver.py', 'cyborg/accelerator/drivers/gpu/utils.py', 'cyborg/tests/unit/accelerator/drivers/gpu/test_utils.py', 'cyborg/accelerator/drivers/fpga/intel/sysinfo.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9ca61345d8767be06c453850bf26870090bc6153', 'message': 'Change attach_info, cpid_info from string to a dict.\n\nUpdate GPU and FPGA driver to match the current design:\ncpid_info and attach_handle info should be in JSON format.\n\nChange-Id: Id190d2e12d842ec48782f4acfaa2cbd22cd4547a\n'}]",18,668868,9ca61345d8767be06c453850bf26870090bc6153,23,5,5,25738,,,0,"Change attach_info, cpid_info from string to a dict.

Update GPU and FPGA driver to match the current design:
cpid_info and attach_handle info should be in JSON format.

Change-Id: Id190d2e12d842ec48782f4acfaa2cbd22cd4547a
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/68/668868/4 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/agent/resource_tracker.py', 'cyborg/objects/driver_objects/driver_attach_handle.py', 'cyborg/objects/driver_objects/driver_controlpath_id.py', 'cyborg/objects/fields.py', 'cyborg/tests/unit/accelerator/drivers/gpu/test_utils.py', 'cyborg/accelerator/drivers/fpga/intel/sysinfo.py']",6,ae98546642a5ebd264a9bac16f4f43c07fa8e230,driver," dbs, func = fpga[""devices""].split('.') domain, bus, slot = dbs.split(':') keys = [""domain"", ""bus"", ""device"", ""function""] values = [domain, bus, slot, func] bdf_json = dict(zip(keys, values)) driver_cpid.cpid_info = bdf_json dbs, func = fpga[""devices""].split('.') domain, bus, slot = dbs.split(':') keys = [""domain"", ""bus"", ""device"", ""function""] values = [domain, bus, slot, func] bdf_json = dict(zip(keys, values)) driver_ah.attach_info = bdf_json"," driver_cpid.cpid_info = fpga[""devices""] driver_ah.attach_info = fpga[""devices""]",27,10
openstack%2Fcyborg~master~I05b8143cc54f80ddd87561cd20a70810d64e225b,openstack/cyborg,master,I05b8143cc54f80ddd87561cd20a70810d64e225b,Fix the section of enabled_drivers,MERGED,2019-05-22 08:36:16.000000000,2019-07-10 03:48:16.000000000,2019-07-10 03:48:16.000000000,"[{'_account_id': 21672}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-22 08:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8428674199fcc94df891cd66049c834b59db844e', 'message': 'Fix the section of enabled_drivers\n\nThe ""enabled_drivers"" is a configuration of agent section [1], but\nit\'s set to DEFAULT section in devstack.\n\nThis patch try to fix it to make the ""enabled_drviers"" work.\n\n[1] https://github.com/openstack/cyborg/blob/4a96835/cyborg/conf/agent.py#L27\n\nChange-Id: I05b8143cc54f80ddd87561cd20a70810d64e225b\n'}, {'number': 2, 'created': '2019-06-18 07:56:40.000000000', 'files': ['devstack/lib/cyborg'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9dc398c56ca418df0e0e9f03b565fabc1ea79bfd', 'message': 'Fix the section of enabled_drivers\n\nThe ""enabled_drivers"" is a configuration of agent section [1], but\nit\'s set to DEFAULT section in devstack.\n\nThis patch try to fix it to make the ""enabled_drviers"" work.\n\n[1] https://github.com/openstack/cyborg/blob/4a96835/cyborg/conf/agent.py#L27\n\nChange-Id: I05b8143cc54f80ddd87561cd20a70810d64e225b\n'}]",0,660603,9dc398c56ca418df0e0e9f03b565fabc1ea79bfd,9,2,2,20722,,,0,"Fix the section of enabled_drivers

The ""enabled_drivers"" is a configuration of agent section [1], but
it's set to DEFAULT section in devstack.

This patch try to fix it to make the ""enabled_drviers"" work.

[1] https://github.com/openstack/cyborg/blob/4a96835/cyborg/conf/agent.py#L27

Change-Id: I05b8143cc54f80ddd87561cd20a70810d64e225b
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/03/660603/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/cyborg'],1,8428674199fcc94df891cd66049c834b59db844e,fix_enabled_drivers_section, iniset $CYBORG_CONF_FILE agent enabled_drivers $CYBORG_ENABLED_DRIVERS, iniset $CYBORG_CONF_FILE DEFAULT enabled_drivers $CYBORG_ENABLED_DRIVERS,1,1
openstack%2Fcyborg~master~Iecf1628060193e751233fc915be2c0b488e3e7b0,openstack/cyborg,master,Iecf1628060193e751233fc915be2c0b488e3e7b0,Fix re defination of GPU,MERGED,2019-05-21 11:19:35.000000000,2019-07-10 03:48:15.000000000,2019-07-10 03:48:15.000000000,"[{'_account_id': 17813}, {'_account_id': 20722}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-05-21 11:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/eca8fd71415ca1a0c76e1afe2fa3dd90206a8e8e', 'message': 'Fix re defination of GPU\n\nThe bus/device/function could contain ""a-f"", but now the regex\ntemplate string is not cover this case.\n\nThis patch try to fix it.\n\nChange-Id: Iecf1628060193e751233fc915be2c0b488e3e7b0\n'}, {'number': 2, 'created': '2019-07-03 09:18:47.000000000', 'files': ['cyborg/accelerator/drivers/gpu/utils.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/e3ed8db9749aaf851d9e64395bc6b6fdf1a1ccdf', 'message': 'Fix re defination of GPU\n\nThe bus/device/function could contain ""a-f"", but now the regex\ntemplate string is not cover this case.\n\nThis patch try to fix it.\n\nChange-Id: Iecf1628060193e751233fc915be2c0b488e3e7b0\n'}]",2,660353,e3ed8db9749aaf851d9e64395bc6b6fdf1a1ccdf,12,6,2,20722,,,0,"Fix re defination of GPU

The bus/device/function could contain ""a-f"", but now the regex
template string is not cover this case.

This patch try to fix it.

Change-Id: Iecf1628060193e751233fc915be2c0b488e3e7b0
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/53/660353/2 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/accelerator/drivers/gpu/utils.py'],1,eca8fd71415ca1a0c76e1afe2fa3dd90206a8e8e,fix_gpu_re,"GPU_INFO_PATTERN = re.compile(""(?P<devices>[0-9a-fA-F]{4}:[0-9a-fA-F]{2}:"" ""[0-9a-fA-F]{2}\.[0-9a-fA-F]) ""","GPU_INFO_PATTERN = re.compile(""(?P<devices>[0-9]{4}:[0-9]{2}:[0-9]{2}\.[0-9]) """,2,1
openstack%2Fswift~master~Iab808b3d0c2051badda0450015077ea8b1e5adb8,openstack/swift,master,Iab808b3d0c2051badda0450015077ea8b1e5adb8,py3: Specify an encoding when loading db.pending pickles,MERGED,2019-06-14 22:44:09.000000000,2019-07-10 03:39:07.000000000,2019-07-10 03:37:26.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-14 22:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b4e69aeaf67574d1a03ccb8cc6d4e4be4294c08d', 'message': 'py3: Specify an encoding when loading db.pending pickles\n\nOtherwise you can hit UnicodeDecodeErrors when upgrading from py2 to\npy3.\n\nChange-Id: Iab808b3d0c2051badda0450015077ea8b1e5adb8\n'}, {'number': 2, 'created': '2019-06-17 15:06:47.000000000', 'files': ['swift/common/db.py', 'test/unit/common/test_db.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ef664700d42db5bd2dd8be073598eee36ab1b258', 'message': 'py3: Specify an encoding when loading db.pending pickles\n\nOtherwise you can hit UnicodeDecodeErrors when upgrading from py2 to\npy3.\n\nChange-Id: Iab808b3d0c2051badda0450015077ea8b1e5adb8\n'}]",0,665486,ef664700d42db5bd2dd8be073598eee36ab1b258,12,3,2,15343,,,0,"py3: Specify an encoding when loading db.pending pickles

Otherwise you can hit UnicodeDecodeErrors when upgrading from py2 to
py3.

Change-Id: Iab808b3d0c2051badda0450015077ea8b1e5adb8
",git fetch https://review.opendev.org/openstack/swift refs/changes/86/665486/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/db.py', 'test/unit/common/test_db.py']",2,b4e69aeaf67574d1a03ccb8cc6d4e4be4294c08d,665486," # load a pending entry that's caused trouble in py2/py3 upgrade tests # can't quite figure out how it got generated, though, so hard-code it with open(broker.pending_file, 'wb') as fd: fd.write(b':gAIoVS3olIngpILrjIvrjIvpkIngpIHlmIjlmIbjnIbgp' b'IPjnITimIPvhI/rjI3tiI5xAVUQMTU1OTI0MTg0Ni40NjY' b'wMXECVQEwVQEwVQEwSwBVATB0Lg==') with patch.object(broker, 'merge_items') as mock_merge_items: broker._commit_puts_load = lambda l, e: l.append(e) broker._commit_puts([]) expected_name = (u'\u8509\u0902\ub30b\ub30b\u9409\u0901\u5608\u5606' u'\u3706\u0903\u3704\u2603\uf10f\ub30d\ud20e') if six.PY2: expected_name = expected_name.encode('utf8') mock_merge_items.assert_called_once_with([ (expected_name, '1559241846.46601', '0', '0', '0', 0, '0')]) self.assertEqual(0, os.path.getsize(broker.pending_file)) ",,21,1
openstack%2Fneutron~master~Id2c88a82715bccd1c23213828ef904322ab4386f,openstack/neutron,master,Id2c88a82715bccd1c23213828ef904322ab4386f,Add base support for update_port_bulk,MERGED,2019-07-01 16:01:30.000000000,2019-07-10 03:37:21.000000000,2019-07-10 03:37:21.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-01 16:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/895a130db105a4c33d08d2be6e6a4e711f98c3a5', 'message': ""Add base support for update_port_bulk\n\nAs a complement to the create_port_bulk optimizations that took place in\nthe Stein cycle, create the ability to have an ML2 plugin optionally\nexpose an 'update_port_bulk' operation as well.  This will permit ML2\nplugins to optimize this code path for bulk operations as well.\n\nChange-Id: Id2c88a82715bccd1c23213828ef904322ab4386f\n""}, {'number': 2, 'created': '2019-07-05 21:07:29.000000000', 'files': ['neutron/api/v2/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b50a36341daf16c5d2c01546f6ca264fc83f7aa', 'message': ""Add base support for update_port_bulk\n\nAs a complement to the create_port_bulk optimizations that took place in\nthe Stein cycle, create the ability to have an ML2 plugin optionally\nexpose an 'update_port_bulk' operation as well.  This will permit ML2\nplugins to optimize this code path for bulk operations as well.\n\nChange-Id: Id2c88a82715bccd1c23213828ef904322ab4386f\n""}]",0,668509,8b50a36341daf16c5d2c01546f6ca264fc83f7aa,17,8,2,13995,,,0,"Add base support for update_port_bulk

As a complement to the create_port_bulk optimizations that took place in
the Stein cycle, create the ability to have an ML2 plugin optionally
expose an 'update_port_bulk' operation as well.  This will permit ML2
plugins to optimize this code path for bulk operations as well.

Change-Id: Id2c88a82715bccd1c23213828ef904322ab4386f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/668509/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/api/v2/base.py'],1,895a130db105a4c33d08d2be6e6a4e711f98c3a5,update_port_bulk," if self._native_bulk and hasattr(self._plugin, ""%s_bulk"" % action): obj_updater = getattr(self._plugin, ""%s_bulk"" % action) else: obj_updater = getattr(self._plugin, action) "," obj_updater = getattr(self._plugin, action)",5,1
openstack%2Fheat-translator~master~I6062980eaa3c392a48c878518d2d61425eceb86f,openstack/heat-translator,master,I6062980eaa3c392a48c878518d2d61425eceb86f,Fix ToscaPolicies overwrites scheduler_hints,MERGED,2019-02-08 08:27:37.000000000,2019-07-10 03:36:33.000000000,2019-07-10 03:36:33.000000000,"[{'_account_id': 16511}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2019-02-08 08:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/66aaffb8d0027ae6b68dd470ddc7c859f8b04793', 'message': ""Fix ToscaPolicies overwrites scheduler_hints\n\nToscaPlicies.handle_properties overwrites if scheduler_hints exists.\nThis patch changes it to use 'update' method to add new key and value.\n\nChange-Id: I6062980eaa3c392a48c878518d2d61425eceb86f\nStory: #2004963\nTask: #29403\n""}, {'number': 2, 'created': '2019-02-12 04:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/af1752e57c49fb1fc5f81aa5af10131f7b8e0610', 'message': ""Fix ToscaPolicies overwrites scheduler_hints\n\nToscaPlicies.handle_properties overwrites if scheduler_hints exists.\nThis patch changes it to use 'update' method to add new key and value.\n\nChange-Id: I6062980eaa3c392a48c878518d2d61425eceb86f\nStory: #2004963\nTask: #29403\n""}, {'number': 3, 'created': '2019-07-10 02:48:03.000000000', 'files': ['translator/hot/tosca/tosca_policies.py', 'translator/hot/tosca/tests/test_tosca_policies.py'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/d21c0ffffad8bce0365fe2a7f17f94d7377dd6fa', 'message': ""Fix ToscaPolicies overwrites scheduler_hints\n\nToscaPlicies.handle_properties overwrites if scheduler_hints exists.\nThis patch changes it to use 'update' method to add new key and value.\n\nChange-Id: I6062980eaa3c392a48c878518d2d61425eceb86f\nStory: #2004963\nTask: #29403\n""}]",0,635718,d21c0ffffad8bce0365fe2a7f17f94d7377dd6fa,13,4,3,26588,,,0,"Fix ToscaPolicies overwrites scheduler_hints

ToscaPlicies.handle_properties overwrites if scheduler_hints exists.
This patch changes it to use 'update' method to add new key and value.

Change-Id: I6062980eaa3c392a48c878518d2d61425eceb86f
Story: #2004963
Task: #29403
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/18/635718/1 && git format-patch -1 --stdout FETCH_HEAD,['translator/hot/tosca/tosca_policies.py'],1,66aaffb8d0027ae6b68dd470ddc7c859f8b04793,bug/2004963," resource.properties[""scheduler_hints""].update( {""group"": {""get_resource"": self.name}})"," resource.properties[""scheduler_hints""] = { ""group"": {""get_resource"": self.name}}",2,2
openstack%2Fpuppet-tripleo~stable%2Fstein~Ic77281cc69230b77224421e3d79d93803ea18bad,openstack/puppet-tripleo,stable/stein,Ic77281cc69230b77224421e3d79d93803ea18bad,Support TLS deployments with KernelDisableIPv6 enabled,MERGED,2019-07-09 16:06:02.000000000,2019-07-10 03:34:31.000000000,2019-07-10 03:34:31.000000000,"[{'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-09 16:06:02.000000000', 'files': ['manifests/tls_proxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/acf62b57359022ad0ffeb80ec05ccdecb990777d', 'message': 'Support TLS deployments with KernelDisableIPv6 enabled\n\nThis will listen on 127.0.0.1 in case ipv6 is disabled.\nThe localhost_address is set in t-h-t kernel-baremetal-puppet.yaml\nin a related patch.\n\nChange-Id: Ic77281cc69230b77224421e3d79d93803ea18bad\nNeeded-By: Ide761c21dc87dadc722e27c9b8a7b68194164cb2\nRelated: rhbz#1703460\n(cherry picked from commit 5061ed8b7b8419f1302d425e05b7f80f4d6d051b)\n'}]",0,669900,acf62b57359022ad0ffeb80ec05ccdecb990777d,8,4,1,3153,,,0,"Support TLS deployments with KernelDisableIPv6 enabled

This will listen on 127.0.0.1 in case ipv6 is disabled.
The localhost_address is set in t-h-t kernel-baremetal-puppet.yaml
in a related patch.

Change-Id: Ic77281cc69230b77224421e3d79d93803ea18bad
Needed-By: Ide761c21dc87dadc722e27c9b8a7b68194164cb2
Related: rhbz#1703460
(cherry picked from commit 5061ed8b7b8419f1302d425e05b7f80f4d6d051b)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/00/669900/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/tls_proxy.pp'],1,acf62b57359022ad0ffeb80ec05ccdecb990777d,kernel_disable_ipv6-stable/stein,"# # [*proxy_pass_host*] # The host to connect to. # Defaults to hiera('localhost_address', 'localhost') $preserve_host = false, $proxy_pass_host = hiera('localhost_address', 'localhost') url => ""http://${proxy_pass_host}:${port}/"","," $preserve_host = false url => ""http://localhost:${port}/"",",7,2
openstack%2Ftripleo-common~stable%2Fstein~I87be8c3c7268399d86856eb47e801258d117a172,openstack/tripleo-common,stable/stein,I87be8c3c7268399d86856eb47e801258d117a172,Exit 1 when container image prepare fails,MERGED,2019-07-09 14:51:58.000000000,2019-07-10 03:16:37.000000000,2019-07-10 03:16:37.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-09 14:51:58.000000000', 'files': ['scripts/tripleo-container-image-prepare'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/10d504871b40724f0d8e24dd39447a5935f1b428', 'message': ""Exit 1 when container image prepare fails\n\nCurrently if an exception is thrown during the container image prepare,\nwe log it but we still return 0. Anything that is running the command\ndoesn't know it had issues.\n\nChange-Id: I87be8c3c7268399d86856eb47e801258d117a172\nCloses-Bug: #1835837\n(cherry picked from commit 4596f0f332a8ba6e03399c994cd9e6a7803f44f3)\n""}]",0,669884,10d504871b40724f0d8e24dd39447a5935f1b428,9,4,1,14985,,,0,"Exit 1 when container image prepare fails

Currently if an exception is thrown during the container image prepare,
we log it but we still return 0. Anything that is running the command
doesn't know it had issues.

Change-Id: I87be8c3c7268399d86856eb47e801258d117a172
Closes-Bug: #1835837
(cherry picked from commit 4596f0f332a8ba6e03399c994cd9e6a7803f44f3)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/669884/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-container-image-prepare'],1,10d504871b40724f0d8e24dd39447a5935f1b428,bug/1835837-stable/stein, sys.exit(1),,1,0
openstack%2Fzun~master~I166c87b24eb0384ba32a3c47030d452d0b5a5ee2,openstack/zun,master,I166c87b24eb0384ba32a3c47030d452d0b5a5ee2,Add 'tty' property to container,MERGED,2019-06-23 21:50:11.000000000,2019-07-10 02:56:57.000000000,2019-07-10 02:56:57.000000000,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2019-06-23 21:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/946547005ed4385d8e29f5bbc7ea4c8b7e2da1fb', 'message': ""[WIP] Add 'tty' property to container\n\nChange-Id: I166c87b24eb0384ba32a3c47030d452d0b5a5ee2\n""}, {'number': 2, 'created': '2019-06-23 23:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/7151acba2d9028b4219d8ce7680294ae514771d4', 'message': ""Add 'tty' property to container\n\nChange-Id: I166c87b24eb0384ba32a3c47030d452d0b5a5ee2\n""}, {'number': 3, 'created': '2019-06-23 23:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c502c7ef458fa2ed268de4d8669a388fc7d663c7', 'message': ""Add 'tty' property to container\n\nChange-Id: I166c87b24eb0384ba32a3c47030d452d0b5a5ee2\n""}, {'number': 4, 'created': '2019-06-23 23:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/b4f30726f0b1919598d8c5ab3c36ebada045054b', 'message': ""Add 'tty' property to container\n\nChange-Id: I166c87b24eb0384ba32a3c47030d452d0b5a5ee2\n""}, {'number': 5, 'created': '2019-06-29 23:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ea492f64b855ea954e3bcaf2965a5660d2f847a5', 'message': ""Add 'tty' property to container\n\nChange-Id: I166c87b24eb0384ba32a3c47030d452d0b5a5ee2\n""}, {'number': 6, 'created': '2019-06-30 00:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/f813d9b0b1198bd9a7c16d45abd6926783a2e9fb', 'message': ""Add 'tty' property to container\n\nChange-Id: I166c87b24eb0384ba32a3c47030d452d0b5a5ee2\n""}, {'number': 7, 'created': '2019-06-30 02:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c065db17331fb14c0a157252f2774821491766d2', 'message': ""Add 'tty' property to container\n\nChange-Id: I166c87b24eb0384ba32a3c47030d452d0b5a5ee2\n""}, {'number': 8, 'created': '2019-07-07 15:50:24.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/samples/capsule-show-resp.json', 'zun/tests/unit/db/utils.py', 'api-ref/source/samples/container-show-resp.json', 'zun/db/sqlalchemy/alembic/versions/b2bda272f4dd_add_tty_to_container.py', 'zun/api/rest_api_version_history.rst', 'zun/tests/unit/objects/test_objects.py', 'api-ref/source/samples/capsule-get-all-resp.json', 'api-ref/source/samples/container-create-resp.json', 'api-ref/source/samples/container-update-resp.json', 'api-ref/source/containers.inc', 'api-ref/source/samples/container-create-req.json', 'zun/tests/unit/api/controllers/test_root.py', 'zun/objects/container.py', '.zuul.yaml', 'api-ref/source/capsules.inc', 'zun/tests/unit/api/base.py', 'zun/db/sqlalchemy/models.py', 'zun/api/controllers/v1/schemas/containers.py', 'zun/api/controllers/v1/views/containers_view.py', 'zun/container/docker/driver.py', 'api-ref/source/samples/container-rename-resp.json', 'api-ref/source/samples/container-get-all-resp.json', 'zun/api/controllers/v1/containers.py', 'zun/api/controllers/versions.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/663f4840ea7cce803e334a04fea0238d6393b3c9', 'message': ""Add 'tty' property to container\n\nChange-Id: I166c87b24eb0384ba32a3c47030d452d0b5a5ee2\n""}]",0,666993,663f4840ea7cce803e334a04fea0238d6393b3c9,26,4,8,11536,,,0,"Add 'tty' property to container

Change-Id: I166c87b24eb0384ba32a3c47030d452d0b5a5ee2
",git fetch https://review.opendev.org/openstack/zun refs/changes/93/666993/3 && git format-patch -1 --stdout FETCH_HEAD,"['zun/db/sqlalchemy/models.py', 'zun/api/controllers/v1/schemas/containers.py', 'zun/api/controllers/v1/views/containers_view.py', 'zun/db/sqlalchemy/alembic/versions/b2bda272f4dd_add_tty_to_container.py', 'zun/container/docker/driver.py', 'zun/objects/container.py', 'zun/api/controllers/v1/containers.py', 'zun/api/controllers/versions.py']",8,946547005ed4385d8e29f5bbc7ea4c8b7e2da1fb,, * 1.36 - Add 'tty' to containerCURRENT_MAX_VER = '1.36',CURRENT_MAX_VER = '1.35',62,8
openstack%2Fnova~master~I7e2849849ae48bbc2c1db3c712e24c09fa3999b1,openstack/nova,master,I7e2849849ae48bbc2c1db3c712e24c09fa3999b1,Add compute_nodes_uuid field to Destination object,ABANDONED,2019-05-24 06:18:08.000000000,2019-07-10 02:44:14.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28706}]","[{'number': 1, 'created': '2019-05-24 06:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee7e560cf82659ef408f372119b27ea698be0804', 'message': 'Add compute_nodes_uuid field to Destination object\n\nThis patch adds new `compute_nodes_uuid` field to `Destination`\nobject. This field is used to store all compute nodes uuid which\nare queried by host and/or node.\n\nChange-Id: I7e2849849ae48bbc2c1db3c712e24c09fa3999b1\n'}, {'number': 2, 'created': '2019-05-27 13:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c1548869ca2346822399e287e45a5fd99f9acd4', 'message': 'Add compute_nodes_uuid field to Destination object\n\nThis patch adds new `compute_nodes_uuid` field to `Destination`\nobject. This field is used to store all compute nodes uuid which\nare queried by host and/or node.\nTo reduce the query in utils when we have done it in api.\n\nChange-Id: I7e2849849ae48bbc2c1db3c712e24c09fa3999b1\n'}, {'number': 3, 'created': '2019-05-31 08:43:33.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/05b5bef22790e5177170922c8a050adc42e44361', 'message': 'Add compute_nodes_uuid field to Destination object\n\nThis patch adds new `compute_nodes_uuid` field to `Destination`\nobject. This field is used to store all compute nodes uuid which\nare queried by host and/or node.\nTo reduce the query in utils when we have done it in api.\n\nChange-Id: I7e2849849ae48bbc2c1db3c712e24c09fa3999b1\n'}]",0,661188,05b5bef22790e5177170922c8a050adc42e44361,39,16,3,28706,,,0,"Add compute_nodes_uuid field to Destination object

This patch adds new `compute_nodes_uuid` field to `Destination`
object. This field is used to store all compute nodes uuid which
are queried by host and/or node.
To reduce the query in utils when we have done it in api.

Change-Id: I7e2849849ae48bbc2c1db3c712e24c09fa3999b1
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/661188/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_request_spec.py']",3,ee7e560cf82659ef408f372119b27ea698be0804,bp/add-host-and-hypervisor-hostname-flag-to-create-server," node_uuid = uuidutils.generate_uuid() destination = objects.Destination(aggregates=['foo'], compute_nodes_uuid=[node_uuid]) self.assertNotIn('compute_nodes_uuid', primitive['nova_object.data']) def test_destination_compute_nodes_uuid_default(self): destination = objects.Destination() self.assertIsNone(destination.compute_nodes_uuid) ", destination = objects.Destination(aggregates=['foo']),17,3
openstack%2Fironic~master~Iad1154b90db7721a455f8e5b07e26aa108c2dd2b,openstack/ironic,master,Iad1154b90db7721a455f8e5b07e26aa108c2dd2b,[WIP] proposal for discussion,NEW,2019-07-09 16:55:25.000000000,2019-07-10 02:08:55.000000000,,"[{'_account_id': 10118}, {'_account_id': 15064}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-09 16:55:25.000000000', 'files': ['releasenotes/notes/35774-remove-image-availability-checks-after-glance-dfb43097e5204b98.yaml', 'ironic/common/glance_service/image_service.py', 'ironic/common/glance_service/service_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e01c09f52d7fefc3969bc198fbe5dbd2b19e8e6c', 'message': '[WIP] proposal for discussion\n\nRemove image availability checks\n\nSuch checks should already be performed by glance. If an image is\nseen by the requesting user/project, then there should not be\nany reason for ironic to filter it any more (apart from the active\nstatus check).\n\nChange-Id: Iad1154b90db7721a455f8e5b07e26aa108c2dd2b\nStory: #2006178\nTask: #35774\n'}]",0,669909,e01c09f52d7fefc3969bc198fbe5dbd2b19e8e6c,6,5,1,15064,,,0,"[WIP] proposal for discussion

Remove image availability checks

Such checks should already be performed by glance. If an image is
seen by the requesting user/project, then there should not be
any reason for ironic to filter it any more (apart from the active
status check).

Change-Id: Iad1154b90db7721a455f8e5b07e26aa108c2dd2b
Story: #2006178
Task: #35774
",git fetch https://review.opendev.org/openstack/ironic refs/changes/09/669909/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/35774-remove-image-availability-checks-after-glance-dfb43097e5204b98.yaml', 'ironic/common/glance_service/image_service.py', 'ironic/common/glance_service/service_utils.py']",3,e01c09f52d7fefc3969bc198fbe5dbd2b19e8e6c,fix_image_fetch,,"def is_image_available(context, image): """"""Check image availability. This check is needed in case Nova and Glance are deployed without authentication turned on. """""" # The presence of an auth token implies this is an authenticated # request and we need not handle the noauth use-case. if hasattr(context, 'auth_token') and context.auth_token: return True if getattr(image, 'visibility', None) == 'public' or context.is_admin: return True return (context.project_id and getattr(image, 'owner', None) == context.project_id) ",8,24
openstack%2Fneutron~stable%2Fstein~I3bcd3cec12b1b6f6a568cda4bfeb569f636efb98,openstack/neutron,stable/stein,I3bcd3cec12b1b6f6a568cda4bfeb569f636efb98,Fix bulk port binding,MERGED,2019-07-09 03:35:32.000000000,2019-07-10 01:55:14.000000000,2019-07-10 01:55:14.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 4727}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-09 03:35:32.000000000', 'files': ['neutron/db/db_base_plugin_common.py', 'neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py', 'neutron/tests/unit/db/test_rbac_db_mixin.py', 'neutron/db/l3_db.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa60d6e83760cee0fccdf3925329858aa3c85903', 'message': 'Fix bulk port binding\n\nBulk ports were not binding correctly when they were created.  This is\ndue to a few inconsistencies between the create_port code and the\ncreate_port_bulk code, mostly a result of the use of the Port object in\nthe bulk code.\n\nChange-Id: I3bcd3cec12b1b6f6a568cda4bfeb569f636efb98\nCloses-Bug: #1835209\n(cherry picked from commit d0c172afa6ea38e94563afb4994471420b27cddf)\n'}]",0,669788,aa60d6e83760cee0fccdf3925329858aa3c85903,9,6,1,13995,,,0,"Fix bulk port binding

Bulk ports were not binding correctly when they were created.  This is
due to a few inconsistencies between the create_port code and the
create_port_bulk code, mostly a result of the use of the Port object in
the bulk code.

Change-Id: I3bcd3cec12b1b6f6a568cda4bfeb569f636efb98
Closes-Bug: #1835209
(cherry picked from commit d0c172afa6ea38e94563afb4994471420b27cddf)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/669788/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_common.py', 'neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py', 'neutron/tests/unit/db/test_rbac_db_mixin.py', 'neutron/db/l3_db.py', 'neutron/plugins/ml2/plugin.py']",7,aa60d6e83760cee0fccdf3925329858aa3c85903,bulk_port_fix-stable/stein," project_id = pdata.get('project_id') or pdata.get('tenant_id') security_group_ids = pdata.get('security_groups') if security_group_ids is const.ATTR_NOT_SPECIFIED: security_group_ids = None else: security_group_ids = set(security_group_ids) pdata.get('device_id'), project_id) bulk_port_data = dict( project_id=project_id, security_group_ids=security_group_ids, port['port']['mac_address'] = str(eui_mac_address) ips = self.ipam.allocate_ips_for_port_and_store( context, port, db_port_obj['id']) ipam_fixed_ips = [] for ip in ips: fixed_ip = ports_obj.IPAllocation( port_id=db_port_obj['id'], subnet_id=ip['subnet_id'], network_id=network_id, ip_address=ip['ip_address']) ipam_fixed_ips.append(fixed_ip) db_port_obj['fixed_ips'] = ipam_fixed_ips # Make port dict port_dict = self._make_port_dict(db_port_obj, process_extensions=False) port_dict[portbindings.HOST_ID] = pdata.get( portbindings.HOST_ID) port_compat = {'port': port_dict} binding_host = pdata.get( portbindings.HOST_ID, const.ATTR_NOT_SPECIFIED) if binding_host != const.ATTR_NOT_SPECIFIED: binding[""host""] = binding_host"," pdata.get('device_id'), pdata.get('tenant_id')) bulk_port_data = dict(project_id=pdata.get('project_id'), security_groups=pdata.get('security_groups'), port_dict = self._make_port_dict(db_port_obj, process_extensions=False) port_compat = {'port': port_dict} self.ipam.allocate_ips_for_port_and_store( context, db_port_obj, db_port_obj['id'])",50,13
openstack%2Fpython-novaclient~master~I0338ea22cce6435cfebfabc117f4613d0b4de33d,openstack/python-novaclient,master,I0338ea22cce6435cfebfabc117f4613d0b4de33d,Add irrelevant files in dsvm job again,MERGED,2019-06-29 15:04:56.000000000,2019-07-10 01:20:06.000000000,2019-07-10 01:20:05.000000000,"[{'_account_id': 679}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-29 15:04:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/0a2d108ec33a2eb197745157606deaa61a582872', 'message': 'Add irrelevant files in dsvm job again\n\nChange-Id: I0338ea22cce6435cfebfabc117f4613d0b4de33d\nCloses-Bug: #1833338\n'}]",4,668293,0a2d108ec33a2eb197745157606deaa61a582872,13,5,1,7634,,,0,"Add irrelevant files in dsvm job again

Change-Id: I0338ea22cce6435cfebfabc117f4613d0b4de33d
Closes-Bug: #1833338
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/93/668293/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0a2d108ec33a2eb197745157606deaa61a582872,bug/1833338, irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$,,4,0
openstack%2Frequirements~master~I569d425ce4c1eb94f027cf48913858b651b77415,openstack/requirements,master,I569d425ce4c1eb94f027cf48913858b651b77415,Updated from generate-constraints,MERGED,2019-07-09 06:40:27.000000000,2019-07-10 01:06:51.000000000,2019-07-10 01:06:51.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-09 06:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/48f40a0264a1a749b9a9f7e6386470ab8fd01a6b', 'message': 'Updated from generate-constraints\n\nChange-Id: I569d425ce4c1eb94f027cf48913858b651b77415\n'}, {'number': 2, 'created': '2019-07-09 15:17:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ea3408ce2d5d422383b8b0b5924ca53eb4bc41b2', 'message': 'Updated from generate-constraints\n\nChange-Id: I569d425ce4c1eb94f027cf48913858b651b77415\n'}]",0,669798,ea3408ce2d5d422383b8b0b5924ca53eb4bc41b2,11,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I569d425ce4c1eb94f027cf48913858b651b77415
",git fetch https://review.opendev.org/openstack/requirements refs/changes/98/669798/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,48f40a0264a1a749b9a9f7e6386470ab8fd01a6b,openstack/requirements/constraints/noclob,netmiko===2.4.0tornado===5.1.1;python_version=='2.7'autobahn===19.7.1boto3===1.9.184pysaml2===4.8.0kubernetes===10.0.0botocore===1.12.184hvac===0.9.3pyrsistent===0.15.3storops===1.2.0jsonschema===3.0.1zipp===0.5.2Flask===1.1.1,netmiko===2.3.3tornado===4.5.3;python_version=='2.7'autobahn===19.6.2boto3===1.9.183pysaml2===4.7.0kubernetes===9.0.0botocore===1.12.183hvac===0.9.2pyrsistent===0.15.2storops===1.1.0jsonschema===2.6.0zipp===0.5.1Flask===1.1.0,13,13
openstack%2Fpython-neutronclient~master~If79694b32ece897c93d1889da28daff641e46f1c,openstack/python-neutronclient,master,If79694b32ece897c93d1889da28daff641e46f1c,Add Python 3 Train unit tests,MERGED,2019-07-05 17:56:37.000000000,2019-07-10 01:05:05.000000000,2019-07-10 01:05:05.000000000,"[{'_account_id': 4694}, {'_account_id': 11805}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 17:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/ebc505cc7cacb4864c13b294dc3a99e8a5d1e1ba', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: If79694b32ece897c93d1889da28daff641e46f1c\nStory: #2005924\nTask: #34225\n'}, {'number': 2, 'created': '2019-07-08 08:14:10.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/cf95be3ea5e4396f26564a76e5ab67342afe6de5', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: If79694b32ece897c93d1889da28daff641e46f1c\nStory: #2005924\nTask: #34225\n'}]",3,669436,cf95be3ea5e4396f26564a76e5ab67342afe6de5,13,4,2,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: If79694b32ece897c93d1889da28daff641e46f1c
Story: #2005924
Task: #34225
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/36/669436/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,ebc505cc7cacb4864c13b294dc3a99e8a5d1e1ba,python3-train,"envlist = py27,py37,pypy,pep8","envlist = py36,py27,pypy,pep8",3,3
openstack%2Fmagnum~master~Id3c5fdda6424d1a51f2e60ae26ca3069d93e00ee,openstack/magnum,master,Id3c5fdda6424d1a51f2e60ae26ca3069d93e00ee,Add npd_enabled label,MERGED,2019-06-20 16:02:25.000000000,2019-07-10 00:35:48.000000000,2019-07-10 00:35:47.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-06-20 16:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/530372b140db3dbdc0d2b0d9c4ffc1a7727bb334', 'message': 'Add npd_enabled label\n\nChange-Id: Id3c5fdda6424d1a51f2e60ae26ca3069d93e00ee\nStory: 2004782\nTask: 34192\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n'}, {'number': 2, 'created': '2019-06-20 17:02:17.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-healing.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/10a5996e3231cb681e68016165940ea6898161ce', 'message': 'Add npd_enabled label\n\nChange-Id: Id3c5fdda6424d1a51f2e60ae26ca3069d93e00ee\nStory: 2004782\nTask: 34192\nSigned-off-by: Diogo Guerra <dy090.guerra@gmail.com>\n'}]",2,666623,10a5996e3231cb681e68016165940ea6898161ce,14,4,2,29425,,,0,"Add npd_enabled label

Change-Id: Id3c5fdda6424d1a51f2e60ae26ca3069d93e00ee
Story: 2004782
Task: 34192
Signed-off-by: Diogo Guerra <dy090.guerra@gmail.com>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/23/666623/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'doc/source/user/index.rst', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-healing.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh']",8,530372b140db3dbdc0d2b0d9c4ffc1a7727bb334,story/2004782," NPD_ENABLED=""$NPD_ENABLED""",,54,15
openstack%2Fnova~master~I211e828c54256391aea38e475171e92aac230e56,openstack/nova,master,I211e828c54256391aea38e475171e92aac230e56,doc: Replace a wiki link with API ref guide link,MERGED,2019-07-04 02:49:38.000000000,2019-07-10 00:09:16.000000000,2019-07-09 23:23:33.000000000,"[{'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-04 02:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/868ceb1b9ebfd96301c3dd31b14e99a9eab9cfa0', 'message': 'doc: Replace a wiki link with API ref guide link\n\nReplace the link to the NovaAPIRef wiki with\nthe link to the API reference guideline in the nova doc.\n\nChange-Id: I211e828c54256391aea38e475171e92aac230e56\n'}, {'number': 2, 'created': '2019-07-09 21:26:51.000000000', 'files': ['doc/source/contributor/api.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/c329397e9cb0f52dc808190c559ac4c816b1a383', 'message': 'doc: Replace a wiki link with API ref guide link\n\nReplace the link to the NovaAPIRef wiki with\nthe link to the API reference guideline in the nova doc.\n\nChange-Id: I211e828c54256391aea38e475171e92aac230e56\n'}]",1,669027,c329397e9cb0f52dc808190c559ac4c816b1a383,18,7,2,7634,,,0,"doc: Replace a wiki link with API ref guide link

Replace the link to the NovaAPIRef wiki with
the link to the API reference guideline in the nova doc.

Change-Id: I211e828c54256391aea38e475171e92aac230e56
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/669027/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/api.rst'],1,868ceb1b9ebfd96301c3dd31b14e99a9eab9cfa0,replace_doc_link,be found in the :nova-doc:`API reference guideline <contributor/api-ref-guideline>`.,be found here: https://wiki.openstack.org/wiki/NovaAPIRef,2,1
openstack%2Fpython-swiftclient~master~I1fe30825ef1620e256c9fd3057da6808b03d7200,openstack/python-swiftclient,master,I1fe30825ef1620e256c9fd3057da6808b03d7200,Add missing <sync-to> value in command line docs,MERGED,2018-02-23 09:06:13.000000000,2019-07-09 22:57:56.000000000,2019-07-09 22:57:56.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 09:06:13.000000000', 'files': ['swiftclient/shell.py', 'doc/source/cli/index.rst'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/097f4b26d9e68fb818c078cd0a0d30658042fff7', 'message': 'Add missing <sync-to> value in command line docs\n\nBecause it should take a value of either realm or full url.\n\nChange-Id: I1fe30825ef1620e256c9fd3057da6808b03d7200\n'}]",0,547329,097f4b26d9e68fb818c078cd0a0d30658042fff7,10,2,1,4608,,,0,"Add missing <sync-to> value in command line docs

Because it should take a value of either realm or full url.

Change-Id: I1fe30825ef1620e256c9fd3057da6808b03d7200
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/29/547329/1 && git format-patch -1 --stdout FETCH_HEAD,"['swiftclient/shell.py', 'doc/source/cli/index.rst']",2,097f4b26d9e68fb818c078cd0a0d30658042fff7,, Usage: swift post [--read-acl <acl>] [--write-acl <acl>] [--sync-to <sync-to>], Usage: swift post [--read-acl <acl>] [--write-acl <acl>] [--sync-to],2,2
openstack%2Fnova~master~I6fbeef09d868ff7c179f8e791944cc6e8ae10802,openstack/nova,master,I6fbeef09d868ff7c179f8e791944cc6e8ae10802,libvirt: remove unused Service.get_by_compute_host mocks,MERGED,2019-07-09 19:54:41.000000000,2019-07-09 22:49:35.000000000,2019-07-09 22:49:34.000000000,"[{'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-09 19:54:41.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/96d2ce90402ada2bed7038aab1b538745abda59a', 'message': 'libvirt: remove unused Service.get_by_compute_host mocks\n\nChange Iefd7a60139043929aee63a3660fabdded1622029 made these\nmocks unnecessary so this change just removes them.\n\nChange-Id: I6fbeef09d868ff7c179f8e791944cc6e8ae10802\n'}]",0,669934,96d2ce90402ada2bed7038aab1b538745abda59a,10,6,1,6873,,,0,"libvirt: remove unused Service.get_by_compute_host mocks

Change Iefd7a60139043929aee63a3660fabdded1622029 made these
mocks unnecessary so this change just removes them.

Change-Id: I6fbeef09d868ff7c179f8e791944cc6e8ae10802
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/669934/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_driver.py'],1,96d2ce90402ada2bed7038aab1b538745abda59a,rm-file-backed-mem-live-migrate-check," self, mock_cpu, mock_test_file): self, mock_cpu, mock_test_file): self, mock_cpu, mock_test_file): self, mock_cpu, mock_test_file): self, mock_cpu, mock_test_file): self, mock_cpu, mock_test_file): self, mock_cpu, mock_test_file): mock_lib_version, mock_version): self, mock_cpu):"," @mock.patch.object(objects.Service, 'get_by_compute_host') self, mock_cpu, mock_test_file, mock_svc): @mock.patch.object(objects.Service, 'get_by_compute_host') self, mock_cpu, mock_test_file, mock_svc): @mock.patch.object(objects.Service, 'get_by_compute_host') self, mock_cpu, mock_test_file, mock_svc): @mock.patch.object(objects.Service, 'get_by_compute_host') self, mock_cpu, mock_test_file, mock_svc): @mock.patch.object(objects.Service, 'get_by_compute_host') self, mock_cpu, mock_test_file, mock_svc): @mock.patch.object(objects.Service, 'get_by_compute_host') self, mock_cpu, mock_test_file, mock_svc): @mock.patch.object(objects.Service, 'get_by_compute_host') self, mock_cpu, mock_test_file, mock_svc): svc = objects.Service() svc.version = 32 mock_svc.return_value = svc @mock.patch.object(objects.Service, 'get_by_compute_host') mock_svc, mock_lib_version, mock_version): svc = objects.Service() svc.version = 32 mock_svc.return_value = svc @mock.patch.object(objects.Service, 'get_by_compute_host') self, mock_cpu, mock_svc): svc = objects.Service(host=""old"") svc.version = 32 mock_svc.return_value = svc ",9,30
openstack%2Fplacement~master~I7fdeac24606359d37f1a7405d22c5797840e1a9e,openstack/placement,master,I7fdeac24606359d37f1a7405d22c5797840e1a9e,Support `same_subtree` queryparam,MERGED,2019-07-01 07:40:09.000000000,2019-07-09 22:49:26.000000000,2019-07-09 22:49:26.000000000,"[{'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-07-01 07:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/a3720fbe3fee1602420ee4043a5aa0362c537f9b', 'message': 'WIP: Support `same_subtree` queryparam\n\nA new same_subtree query parameter will be accepted. The value is\na comma-separated list of request group suffix strings $S. Each must\nexactly match a suffix on a granular group somewhere else in the\nrequest. Importantly, the identified request groups need not have\na resources$S.\n\nIf this is provided,  all of the resource providers satisfying the\nspecified request group must be rooted at one of the resource providers\nsatisfying the request group.\n\nThe same_subtree query parameter can be repeated and each repeat group\nis treated independently.\n\nChange-Id: I7fdeac24606359d37f1a7405d22c5797840e1a9e\nStory: 2005575\nTask: 30784\n'}, {'number': 2, 'created': '2019-07-02 12:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/8810d5e5d2840c31191bb2f48f7bc57f1682a77e', 'message': 'Support `same_subtree` queryparam\n\nA new same_subtree query parameter will be accepted. The value is\na comma-separated list of request group suffix strings $S. Each must\nexactly match a suffix on a granular group somewhere else in the\nrequest. Importantly, the identified request groups need not have\na resources$S.\n\nIf this is provided, at least one of the resource providers satisfying\nthe specified request group must be an ancestor of the rest.\n\nThe same_subtree query parameter can be repeated and each repeat group\nis treated independently.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nChange-Id: I7fdeac24606359d37f1a7405d22c5797840e1a9e\nStory: 2005575\nTask: 30784\n'}, {'number': 3, 'created': '2019-07-04 12:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d3c4f854773915999c761d295bd9e89435ab5aaa', 'message': 'Support `same_subtree` queryparam\n\nA new same_subtree query parameter will be accepted. The value is\na comma-separated list of request group suffix strings $S. Each must\nexactly match a suffix on a granular group somewhere else in the\nrequest. Importantly, the identified request groups need not have\na resources$S.\n\nIf this is provided, at least one of the resource providers satisfying\nthe specified request group must be an ancestor of the rest.\n\nThe same_subtree query parameter can be repeated and each repeat group\nis treated independently.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nChange-Id: I7fdeac24606359d37f1a7405d22c5797840e1a9e\nStory: 2005575\nTask: 30784\n'}, {'number': 4, 'created': '2019-07-04 12:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/0efe0300fa420dfd83de0cee4f903d0af2013ecb', 'message': 'Support `same_subtree` queryparam\n\nA new same_subtree query parameter will be accepted. The value is\na comma-separated list of request group suffix strings $S. Each must\nexactly match a suffix on a granular group somewhere else in the\nrequest. Importantly, the identified request groups need not have\na resources$S.\n\nIf this is provided, at least one of the resource providers satisfying\nthe specified request group must be an ancestor of the rest.\n\nThe same_subtree query parameter can be repeated and each repeat group\nis treated independently.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nChange-Id: I7fdeac24606359d37f1a7405d22c5797840e1a9e\nStory: 2005575\nTask: 30784\n'}, {'number': 5, 'created': '2019-07-05 01:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/8c676d601b58c879b13fb49f6660455b22cf9771', 'message': 'Support `same_subtree` queryparam\n\nA new same_subtree query parameter will be accepted. The value is\na comma-separated list of request group suffix strings $S. Each must\nexactly match a suffix on a granular group somewhere else in the\nrequest. Importantly, the identified request groups need not have\na resources$S.\n\nIf this is provided, at least one of the resource providers satisfying\nthe specified request group must be an ancestor of the rest.\n\nThe same_subtree query parameter can be repeated and each repeat group\nis treated independently.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nChange-Id: I7fdeac24606359d37f1a7405d22c5797840e1a9e\nStory: 2005575\nTask: 30784\n'}, {'number': 6, 'created': '2019-07-06 02:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/7f46a01ea1c6bf178e19e7df71b8b4e9db23469f', 'message': 'Support `same_subtree` queryparam\n\nA new same_subtree query parameter will be accepted. The value is\na comma-separated list of request group suffix strings $S. Each must\nexactly match a suffix on a granular group somewhere else in the\nrequest. Importantly, the identified request groups need not have\na resources$S.\n\nIf this is provided, at least one of the resource providers satisfying\nthe specified request group must be an ancestor of the rest.\n\nThe same_subtree query parameter can be repeated and each repeat group\nis treated independently.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nChange-Id: I7fdeac24606359d37f1a7405d22c5797840e1a9e\nStory: 2005575\nTask: 30784\n'}, {'number': 7, 'created': '2019-07-08 07:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/118415f62c8f66bd70d70661d7e6bd5c334bf1b6', 'message': 'Support `same_subtree` queryparam\n\nA new same_subtree query parameter will be accepted. The value is\na comma-separated list of request group suffix strings $S. Each must\nexactly match a suffix on a granular group somewhere else in the\nrequest. Importantly, the identified request groups need not have\na resources$S.\n\nIf this is provided, at least one of the resource providers satisfying\nthe specified request group must be an ancestor of the rest.\n\nThe same_subtree query parameter can be repeated and each repeat group\nis treated independently.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nChange-Id: I7fdeac24606359d37f1a7405d22c5797840e1a9e\nStory: 2005575\nTask: 30784\n'}, {'number': 8, 'created': '2019-07-09 07:23:47.000000000', 'files': ['api-ref/source/parameters.yaml', 'placement/lib.py', 'placement/objects/research_context.py', 'placement/objects/allocation_candidate.py', 'placement/microversion.py', 'placement/schemas/allocation_candidate.py', 'placement/rest_api_version_history.rst', 'placement/tests/functional/gabbits/granular-same-subtree.yaml', 'releasenotes/notes/allocation-candidate-same_subtree-aeed7b2570293dfb.yaml', 'placement/tests/functional/fixtures/gabbits.py', 'placement/errors.py', 'placement/tests/unit/test_util.py', 'api-ref/source/allocation_candidates.inc', 'placement/tests/unit/objects/test_allocation_candidate.py', 'placement/handlers/allocation_candidate.py', 'placement/tests/functional/gabbits/microversion.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/8395e3f099022d8506ed5e6624582ec03e46c3b9', 'message': 'Support `same_subtree` queryparam\n\nA new same_subtree query parameter will be accepted. The value is\na comma-separated list of request group suffix strings $S. Each must\nexactly match a suffix on a granular group somewhere else in the\nrequest. Importantly, the identified request groups need not have\na resources$S.\n\nIf this is provided, at least one of the resource providers satisfying\nthe specified request group must be an ancestor of the rest.\n\nThe same_subtree query parameter can be repeated and each repeat group\nis treated independently.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nChange-Id: I7fdeac24606359d37f1a7405d22c5797840e1a9e\nStory: 2005575\nTask: 30784\n'}]",113,668376,8395e3f099022d8506ed5e6624582ec03e46c3b9,39,5,8,25625,,,0,"Support `same_subtree` queryparam

A new same_subtree query parameter will be accepted. The value is
a comma-separated list of request group suffix strings $S. Each must
exactly match a suffix on a granular group somewhere else in the
request. Importantly, the identified request groups need not have
a resources$S.

If this is provided, at least one of the resource providers satisfying
the specified request group must be an ancestor of the rest.

The same_subtree query parameter can be repeated and each repeat group
is treated independently.

Co-Authored-By: Chris Dent <cdent@anticdent.org>
Change-Id: I7fdeac24606359d37f1a7405d22c5797840e1a9e
Story: 2005575
Task: 30784
",git fetch https://review.opendev.org/openstack/placement refs/changes/76/668376/6 && git format-patch -1 --stdout FETCH_HEAD,"['placement/lib.py', 'placement/objects/research_context.py', 'placement/objects/allocation_candidate.py', 'placement/schemas/allocation_candidate.py', 'placement/handlers/allocation_candidate.py', 'placement/tests/functional/gabbits/granular-same-subtree.yaml']",6,a3720fbe3fee1602420ee4043a5aa0362c537f9b,nested-magic," status: 400 response_strings: - 'resourceless group should be specified in `same_subtree`' response_json_paths: $.errors[0].title: Bad Request status: 400 response_strings: - 'resourceless group should be specified in `same_subtree`' response_json_paths: $.errors[0].title: Bad Request tests: - name: resourceless without any resource GET: /allocation_candidates?&member_of1=$ENVIRON['AGGA_UUID']&group_policy=none status: 400 response_strings: - 'There must be at least one resources or resources{*} parameter.' response_json_paths: $.errors[0].title: Bad Request tests: - name: invalid same subtree missing underscores GET: /allocation_candidates?resources_COMPUTE=VCPU:1&resources_ACCEL=CUSTOM_FPGA:1&group_policy=none&same_subtree=COMPUTE,_ACCEL status: 400 response_strings: - 'in `same_subtree` parameter COMPUTE is not in the given suffixes. Forgot underscore?' response_json_paths: $.errors[0].title: Bad Request tests: - name: no resourceless without same subtree GET: /allocation_candidates?resources_COMPUTE=VCPU:1&resources_ACCEL=CUSTOM_FPGA:1&group_policy=none response_json_paths: $.allocation_requests.`len`: 6 $.allocation_requests..allocations['$ENVIRON[""NUMA0_UUID""]'].resources.VCPU: [1, 1, 1] $.allocation_requests..allocations['$ENVIRON[""NUMA1_UUID""]'].resources.VCPU: [1, 1, 1] $.allocation_requests..allocations['$ENVIRON[""FPGA0_UUID""]'].resources.CUSTOM_FPGA: [1, 1] $.allocation_requests..allocations['$ENVIRON[""FPGA1_0_UUID""]'].resources.CUSTOM_FPGA: [1, 1] $.allocation_requests..allocations['$ENVIRON[""FPGA1_1_UUID""]'].resources.CUSTOM_FPGA: [1, 1] tests: - name: no resourceless with same subtree GET: /allocation_candidates?resources_COMPUTE=VCPU:1&resources_ACCEL=CUSTOM_FPGA:1&group_policy=none&same_subtree=_COMPUTE,_ACCEL $.allocation_requests..allocations['$ENVIRON[""NUMA1_UUID""]'].resources.VCPU: [1, 1] $.allocation_requests..allocations['$ENVIRON[""FPGA0_UUID""]'].resources.CUSTOM_FPGA: 1 $.allocation_requests..allocations['$ENVIRON[""FPGA1_0_UUID""]'].resources.CUSTOM_FPGA: 1 $.allocation_requests..allocations['$ENVIRON[""FPGA1_1_UUID""]'].resources.CUSTOM_FPGA: 1 "," # ToDo(tetsuro): change this to 400 in a followup response_json_paths: $.allocation_requests.`len`: 2 $.allocation_requests..allocations['$ENVIRON[""NUMA0_UUID""]'].resources.VCPU: 1 $.allocation_requests..allocations['$ENVIRON[""NUMA1_UUID""]'].resources.VCPU: 1 # ToDo(tetsuro): change this to 400 in a followup $.allocation_requests..allocations['$ENVIRON[""NUMA1_UUID""]'].resources.VCPU: 1 $.allocation_requests..allocations['$ENVIRON[""CN2_UUID""]'].resources.VCPU: 1",175,19
openstack%2Fneutron~master~I6ad2047c310e111bffe0942af12af1f642963b18,openstack/neutron,master,I6ad2047c310e111bffe0942af12af1f642963b18,Fix update of network's segmentation id for network with ports,MERGED,2019-06-17 09:24:33.000000000,2019-07-09 22:49:22.000000000,2019-07-09 22:49:22.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-06-17 09:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/baa248e0860ad870415d13fec409127f57633759', 'message': ""Fix update of network's segmentation id for network with ports\n\nFilter neutron_lib.objects.utils.NotIn, designed to work with OVO objects\nwas used in db query and because of that ports belong to network wasn't\nfiltered by vif_type thus if there were any ports in network, it was not\npossible to change its segmentation id.\n\nChange-Id: I6ad2047c310e111bffe0942af12af1f642963b18\nCloses-Bug: #1832985\n""}, {'number': 2, 'created': '2019-06-17 09:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96171d812adbdacd7179b0f48fac311558290226', 'message': ""Fix update of network's segmentation id for network with ports\n\nFilter neutron_lib.objects.utils.NotIn, designed to work with OVO objects\nwas used in db query and because of that ports belong to network wasn't\nfiltered by vif_type thus if there were any ports in network, it was not\npossible to change its segmentation id.\n\nChange-Id: I6ad2047c310e111bffe0942af12af1f642963b18\nCloses-Bug: #1832985\n""}, {'number': 3, 'created': '2019-06-18 09:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2218243cd2bb35a01c5350616f5d82e52ff85ba4', 'message': ""Fix update of network's segmentation id for network with ports\n\nFilter neutron_lib.objects.utils.NotIn, designed to work with OVO objects\nwas used in db query and because of that ports belong to network wasn't\nfiltered by vif_type thus if there were any ports in network, it was not\npossible to change its segmentation id.\n\nChange-Id: I6ad2047c310e111bffe0942af12af1f642963b18\nCloses-Bug: #1832985\n""}, {'number': 4, 'created': '2019-06-19 07:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/224a5fa7236090d0a636158fc6ad47ff38c2e921', 'message': ""Fix update of network's segmentation id for network with ports\n\nFilter neutron_lib.objects.utils.NotIn, designed to work with OVO objects\nwas used in db query and because of that ports belong to network wasn't\nfiltered by vif_type thus if there were any ports in network, it was not\npossible to change its segmentation id.\n\nChange-Id: I6ad2047c310e111bffe0942af12af1f642963b18\nCloses-Bug: #1832985\n""}, {'number': 5, 'created': '2019-07-06 22:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5847316fbe9f3651a8864ac559b9100b3a28fd77', 'message': ""Fix update of network's segmentation id for network with ports\n\nFilter neutron_lib.objects.utils.NotIn, designed to work with OVO objects\nwas used in db query and because of that ports belong to network wasn't\nfiltered by vif_type thus if there were any ports in network, it was not\npossible to change its segmentation id.\n\nChange-Id: I6ad2047c310e111bffe0942af12af1f642963b18\nCloses-Bug: #1832985\n""}, {'number': 6, 'created': '2019-07-07 19:16:14.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/objects/ports.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3367e2081bfd57030a3a3427eec630aa2f483d25', 'message': ""Fix update of network's segmentation id for network with ports\n\nFilter neutron_lib.objects.utils.NotIn, designed to work with OVO objects\nwas used in db query and because of that ports belong to network wasn't\nfiltered by vif_type thus if there were any ports in network, it was not\npossible to change its segmentation id.\n\nChange-Id: I6ad2047c310e111bffe0942af12af1f642963b18\nCloses-Bug: #1832985\n""}]",19,665623,3367e2081bfd57030a3a3427eec630aa2f483d25,55,13,6,11975,,,0,"Fix update of network's segmentation id for network with ports

Filter neutron_lib.objects.utils.NotIn, designed to work with OVO objects
was used in db query and because of that ports belong to network wasn't
filtered by vif_type thus if there were any ports in network, it was not
possible to change its segmentation id.

Change-Id: I6ad2047c310e111bffe0942af12af1f642963b18
Closes-Bug: #1832985
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/665623/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/objects/ports.py', 'neutron/plugins/ml2/plugin.py']",4,baa248e0860ad870415d13fec409127f57633759,bug/1832985," vif_types.append( mech_driver.obj.get_supported_vif_type(agent)) if ports_obj.Port.get_network_ports_by_binding_types( context, network['id'], vif_types, negative_search=True):","from neutron_lib.objects import utils as obj_utils vif_types.append(mech_driver.obj.get_vif_type( context, agent, segments[0])) filter_obj = obj_utils.NotIn(vif_types) filters = {portbindings.VIF_TYPE: filter_obj.filter(models.PortBinding.vif_type), 'network_id': [network['id']]} if super(Ml2Plugin, self).get_ports_count(context, filters=filters):",65,39
openstack%2Ftripleo-heat-templates~stable%2Fstein~I732c0c3e0b3eb1b52f0df58568ec3a42f3d6d1a1,openstack/tripleo-heat-templates,stable/stein,I732c0c3e0b3eb1b52f0df58568ec3a42f3d6d1a1,Don't use the z flag in case NovaNfsEnabled is true,MERGED,2019-07-09 06:56:52.000000000,2019-07-09 22:42:52.000000000,2019-07-09 22:42:52.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-09 06:56:52.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova_nfs_enabled_podman-a92ea12cd4cd92c8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d0e01382e9d273f04d53e3fbc24304dd3b05c9c', 'message': 'Don\'t use the z flag in case NovaNfsEnabled is true\n\nDeployment with enabled NFS share for nova ephemeral storage fails. Podman\nfails to relable with mounted nfs in /var/lib/nova/instances and container\nfail to start with ""operation not supported"".\nThis change only sets the z flag for the /var/lib/nova in case nfs is not\nenabled for the compute.\n\nChange-Id: I732c0c3e0b3eb1b52f0df58568ec3a42f3d6d1a1\nCloses-Bug: #1835503\n(cherry picked from commit b56c521e01d0a4b42f44f2d9d03f524a4dc60475)\n'}]",0,669801,2d0e01382e9d273f04d53e3fbc24304dd3b05c9c,14,6,1,17216,,,0,"Don't use the z flag in case NovaNfsEnabled is true

Deployment with enabled NFS share for nova ephemeral storage fails. Podman
fails to relable with mounted nfs in /var/lib/nova/instances and container
fail to start with ""operation not supported"".
This change only sets the z flag for the /var/lib/nova in case nfs is not
enabled for the compute.

Change-Id: I732c0c3e0b3eb1b52f0df58568ec3a42f3d6d1a1
Closes-Bug: #1835503
(cherry picked from commit b56c521e01d0a4b42f44f2d9d03f524a4dc60475)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/669801/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova_nfs_enabled_podman-a92ea12cd4cd92c8.yaml']",5,2d0e01382e9d273f04d53e3fbc24304dd3b05c9c,bug/1835503,"--- fixes: - | Deployment with enabled NFS share for nova ephemeral storage fails. Podman fails to relable with mounted nfs in /var/lib/nova/instances and container fail to start with ""operation not supported"". This change only sets the z flag for the /var/lib/nova in case nfs is not enabled for the compute. ",,112,9
openstack%2Fopenstack-ansible-os_nova~master~Ie0caab0b10e878722f1804f67808f1d83d504c59,openstack/openstack-ansible-os_nova,master,Ie0caab0b10e878722f1804f67808f1d83d504c59,Install netcat on compute hosts,MERGED,2019-06-21 03:17:10.000000000,2019-07-09 22:10:37.000000000,2019-07-09 22:00:46.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-21 03:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/1f0818747c714be9bf001f5d29ab860569013d91', 'message': 'Install netcat on compute hosts\n\nCompute hosts require netcat in order to perform live migrations.\n\nFixes-Bug: #1833644\nChange-Id: Ie0caab0b10e878722f1804f67808f1d83d504c59\n'}, {'number': 2, 'created': '2019-06-27 14:59:03.000000000', 'files': ['vars/redhat-7.yml', 'vars/debian.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/a01e6d9607702ae2ca9282808193b4b91ea0cce6', 'message': 'Install netcat on compute hosts\n\nCompute hosts require netcat in order to perform live migrations.\n\nCloses-Bug: #1833644\nChange-Id: Ie0caab0b10e878722f1804f67808f1d83d504c59\n'}]",1,666759,a01e6d9607702ae2ca9282808193b4b91ea0cce6,17,3,2,17799,,,0,"Install netcat on compute hosts

Compute hosts require netcat in order to perform live migrations.

Closes-Bug: #1833644
Change-Id: Ie0caab0b10e878722f1804f67808f1d83d504c59
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/59/666759/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/debian.yml', 'vars/suse.yml']",3,1f0818747c714be9bf001f5d29ab860569013d91,bug/1833644, - netcat-openbsd,,3,0
openstack%2Fpuppet-tripleo~stable%2Frocky~I260b18ae3479da4f5176027d4b26b3e1c6b22063,openstack/puppet-tripleo,stable/rocky,I260b18ae3479da4f5176027d4b26b3e1c6b22063,Fix interface_for_ip for newer facter versions,MERGED,2019-07-08 15:30:11.000000000,2019-07-09 21:49:46.000000000,2019-07-09 21:49:46.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-08 15:30:11.000000000', 'files': ['lib/puppet/parser/functions/interface_for_ip.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5eb012b4f62615519707a926cc62528f5dc54a44', 'message': 'Fix interface_for_ip for newer facter versions\n\nIn facter 3.x, the networking facts are in a complex hash. Previously\nthe interface facts where flat so we would lookup the vars. This change\nfirst tries the facter 2.x lookup before falling back to the facter 3.x\nsyntax.\n\nCloses-Bug: #1835718\nChange-Id: I260b18ae3479da4f5176027d4b26b3e1c6b22063\nCloses-Bug: #1812938\n(cherry picked from commit 5fff984cecf68c256e60ba6017f37b9d1e76e31b)\n'}]",0,669702,5eb012b4f62615519707a926cc62528f5dc54a44,15,5,1,14985,,,0,"Fix interface_for_ip for newer facter versions

In facter 3.x, the networking facts are in a complex hash. Previously
the interface facts where flat so we would lookup the vars. This change
first tries the facter 2.x lookup before falling back to the facter 3.x
syntax.

Closes-Bug: #1835718
Change-Id: I260b18ae3479da4f5176027d4b26b3e1c6b22063
Closes-Bug: #1812938
(cherry picked from commit 5fff984cecf68c256e60ba6017f37b9d1e76e31b)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/02/669702/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/parser/functions/interface_for_ip.rb'],1,5eb012b4f62615519707a926cc62528f5dc54a44,bug/1812938-stable/rocky," network_facts = lookupvar('networking') # puppet downcases fact names, interface names can have capitals but # in facter 2.x they were lower case. In facter 3.x they can have # capitals facter_ip = 'ip' facter_netmask = 'netmask' facter_ip = 'ip6' facter_netmask = 'netmask6' if network_facts.nil? or network_facts['interfaces'].nil? then # facter 2 facts interface_ip = lookupvar(ipaddress_name) next if interface_ip.nil? netmask = lookupvar(netmask_name) return interface if ip1.mask(netmask) == ip2.mask(netmask) else # facter 3+ syntax: # networking => { # ... # interfaces => { # br-ctlplane => { # bindings => [ # { # address => ""192.168.24.1"", # netmask => ""255.255.255.0"", # network => ""192.168.24.0"" # } # ], # bindings6 => [ # { # address => ""fe80::5054:ff:fe22:bac3"", # netmask => ""ffff:ffff:ffff:ffff::"", # network => ""fe80::"" # } # ], # ip => ""192.168.24.1"", # ip6 => ""fe80::5054:ff:fe22:bac3"", # mac => ""52:54:00:22:ba:c3"", # mtu => 1500, # netmask => ""255.255.255.0"", # netmask6 => ""ffff:ffff:ffff:ffff::"", # network => ""192.168.24.0"", # network6 => ""fe80::"" # }, # }, # ... # } next if network_facts['interfaces'][interface].nil? or network_facts['interfaces'][interface][facter_ip].nil? ip2 = IPAddr.new(network_facts['interfaces'][interface][facter_ip]) netmask = network_facts['interfaces'][interface][facter_netmask]"," # puppet downcases fact names, interface names can have capitals interface_ip = lookupvar(ipaddress_name) netmask = lookupvar(netmask_name) unless interface_ip.nil? then",49,4
openstack%2Ftripleo-quickstart-extras~master~I4c6a46d9dcee4efc38a3de682ecffacf529288b8,openstack/tripleo-quickstart-extras,master,I4c6a46d9dcee4efc38a3de682ecffacf529288b8,Remove undercloud deploy support,MERGED,2019-06-27 15:54:34.000000000,2019-07-09 21:47:33.000000000,2019-07-09 21:47:32.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-27 15:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f6b768e0ae22e06dba0ed84c878cb8ac9c7223c3', 'message': 'Remove undercloud deploy support\n\nThe openstack undercloud deploy command has been deprecated and will be\nremoved. This change removes the support for this method via the\nundercloud-deploy role.\n\nChange-Id: I4c6a46d9dcee4efc38a3de682ecffacf529288b8\n'}, {'number': 2, 'created': '2019-06-28 19:29:52.000000000', 'files': ['config/general_config/deprecated/containers_undercloud_minimal.yml', 'roles/undercloud-deploy/templates/undercloud-deploy.sh.j2', 'roles/undercloud-deploy/README.md', 'releasenotes/notes/remove-undercloud-deploy-d91353832f0a7965.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9fd5582e1879720d2be2891394ce7712f5ea63c7', 'message': 'Remove undercloud deploy support\n\nThe openstack undercloud deploy command has been deprecated and will be\nremoved. This change removes the support for this method via the\nundercloud-deploy role.\n\nChange-Id: I4c6a46d9dcee4efc38a3de682ecffacf529288b8\n'}]",0,667967,9fd5582e1879720d2be2891394ce7712f5ea63c7,37,9,2,14985,,,0,"Remove undercloud deploy support

The openstack undercloud deploy command has been deprecated and will be
removed. This change removes the support for this method via the
undercloud-deploy role.

Change-Id: I4c6a46d9dcee4efc38a3de682ecffacf529288b8
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/67/667967/2 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/deprecated/containers_undercloud_minimal.yml', 'roles/undercloud-deploy/templates/undercloud-deploy.sh.j2', 'roles/undercloud-deploy/README.md', 'releasenotes/notes/remove-undercloud-deploy-d91353832f0a7965.yaml']",4,f6b768e0ae22e06dba0ed84c878cb8ac9c7223c3,remove-undercloud-deploy,--- other: - | The `openstack undercloud deploy` command has been removed. The support for this method of deployment in the `undercloud-deploy` role has been removed. ,,10,340
openstack%2Fopenstack-ansible-os_cinder~master~I0575d2adabec8a4bd02d0a7583f51589114832a9,openstack/openstack-ansible-os_cinder,master,I0575d2adabec8a4bd02d0a7583f51589114832a9,Fixed typo in cinder_glance_api_servers endpoint,MERGED,2019-07-08 07:34:47.000000000,2019-07-09 21:43:04.000000000,2019-07-09 21:43:04.000000000,"[{'_account_id': 10068}, {'_account_id': 17799}, {'_account_id': 18279}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25591}]","[{'number': 1, 'created': '2019-07-08 07:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/1e621379097c924db6e4b4a6c92c0128d8f084e4', 'message': 'fixed typo\n\nChange-Id: I0575d2adabec8a4bd02d0a7583f51589114832a9\n'}, {'number': 2, 'created': '2019-07-08 16:57:52.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/ce7a0bdb6133dd27809d8ef29a6360d7ce8b439e', 'message': 'Fixed typo in cinder_glance_api_servers endpoint\n\nChange-Id: I0575d2adabec8a4bd02d0a7583f51589114832a9\n'}]",0,669613,ce7a0bdb6133dd27809d8ef29a6360d7ce8b439e,13,6,2,30660,,,0,"Fixed typo in cinder_glance_api_servers endpoint

Change-Id: I0575d2adabec8a4bd02d0a7583f51589114832a9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/13/669613/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,1e621379097c924db6e4b4a6c92c0128d8f084e4,,"cinder_glance_api_servers: ""{{ (glance_service_internalurl | default('http://localhost')) | urlsplit('scheme') ~ '://' ~ (glance_service_internalurl | default('http://localhost')) | urlsplit('netloc') }}""","cinder_glance_api_servers: ""{{ (glance_service_internalurl | default('http://localhost')) | urlsplit('scheme') ~ '://' ~ (glance_service_interalurl | default('http://localhost')) | urlsplit('netloc') }}""",1,1
openstack%2Fopenstack-ansible-os_tempest~master~I5160e2ef42bbe3af0eda5d344e0b3b826d9ef972,openstack/openstack-ansible-os_tempest,master,I5160e2ef42bbe3af0eda5d344e0b3b826d9ef972,Update distro package names for openSUSE Leap 15.1,MERGED,2019-06-25 09:25:58.000000000,2019-07-09 21:28:19.000000000,2019-07-09 21:28:18.000000000,"[{'_account_id': 6593}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-25 09:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/e2960a15a2e67c711e206cb58db47effc4856da8', 'message': 'Switch to openSUSE Leap 15.1\n\nDepends-On: https://review.opendev.org/#/c/666058/\nChange-Id: I5160e2ef42bbe3af0eda5d344e0b3b826d9ef972\n'}, {'number': 2, 'created': '2019-06-27 18:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/a9b64cf5c6a8e851660f38de07e929db3de06044', 'message': 'Switch to openSUSE Leap 15.1\n\nDepends-On: https://review.opendev.org/#/c/666058/\nChange-Id: I5160e2ef42bbe3af0eda5d344e0b3b826d9ef972\n'}, {'number': 3, 'created': '2019-06-28 07:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/76ad8fae3998db56b1e5e07124371216cd5e0fe5', 'message': 'Update distro package names for openSUSE Leap 15.1\n\nChange-Id: I5160e2ef42bbe3af0eda5d344e0b3b826d9ef972\n'}, {'number': 4, 'created': '2019-06-28 07:46:12.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/b0a741dfeb8b0a54f971bcf2775f7b16806f63e8', 'message': 'Update distro package names for openSUSE Leap 15.1\n\nChange-Id: I5160e2ef42bbe3af0eda5d344e0b3b826d9ef972\n'}]",2,667302,b0a741dfeb8b0a54f971bcf2775f7b16806f63e8,16,4,4,6593,,,0,"Update distro package names for openSUSE Leap 15.1

Change-Id: I5160e2ef42bbe3af0eda5d344e0b3b826d9ef972
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/02/667302/1 && git format-patch -1 --stdout FETCH_HEAD,"['Vagrantfile', 'meta/main.yml']",2,e2960a15a2e67c711e206cb58db47effc4856da8,, - 15, - all,5,5
openstack%2Fopenstack-ansible~stable%2Fstein~I8926a5ebde6e44dfef5217f8565f327a7aec3ca2,openstack/openstack-ansible,stable/stein,I8926a5ebde6e44dfef5217f8565f327a7aec3ca2,Bump SHAs for stable/stein,MERGED,2019-06-30 14:21:32.000000000,2019-07-09 20:57:26.000000000,2019-07-09 20:57:26.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-30 14:21:32.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/ceph-backend-host-change-968edfbc15b59b0a.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/406d93359e8ed83312a76cef6fc95becf3476cba', 'message': 'Bump SHAs for stable/stein\n\nChange-Id: I8926a5ebde6e44dfef5217f8565f327a7aec3ca2\n'}]",0,668328,406d93359e8ed83312a76cef6fc95becf3476cba,12,4,1,17068,,,0,"Bump SHAs for stable/stein

Change-Id: I8926a5ebde6e44dfef5217f8565f327a7aec3ca2
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/28/668328/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/ceph-backend-host-change-968edfbc15b59b0a.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",5,406d93359e8ed83312a76cef6fc95becf3476cba,bump_osa, version: 0f8d58d1191433e9ec9c5499651f174a17c5f387 version: 57811decb0198f171c8a8477dd3907862a14b485 version: 8fc9bbb88bf677ddbb5f2780e9ed2b7dcd668458 version: af9cfdb6db807334647067fce07c7bf44296d1be version: b23832646e23ef8ce18b0f8a00bb659bd3fa3fb5 version: eefb199ae4d70d12f5b79224cd66527bdad77799 version: 02beb6e37d942d939dba2ed98b0b61f979768e5c version: 39638c4395d62d0e2cfb75b56606d6935648153c version: 752337c9874cc4dc7f185d7a10e5e37d6f869ba1 version: 5d4db6318db0c3907c9ff52dcc32f5070980cff3 version: 7cfb1357e9427d5416ea6a7569351c0a2a4a2bc2 version: 0216e7fade952782a38b1589fd7ca1d4e4edfffe version: e04744c79836f680aee087d7973dae6699286220 version: d6eb66eb6a6ed96811de16acdd47db6ec93f35bf version: d303d2e4d766965c63290bd3a8dc49da93a05f75 version: 285705d079e3d726078920b48ebd8db3d8cc6502 version: ace8b076a5cb4b2a9e36a6cc1a86a1f809d5da0e version: 8a549dd36f15f7234e11f00f994ede83dad79856 version: 1f027f07526daf0e0bb48eb7abd033b129469f62 version: 08fc2deea6a06b850d8c002c7dd8bf208a74e9ef version: 9c31811c33057a206ccc3ae334b046d85a4f190e, version: dce5663c1db1c405ab0f55a4eeeb2d94fe222f82 version: 088a92488a1f7c20f695c912c08a15b393821d08 version: 5332d9609e1007c405ec33efd7cf91c0f3161079 version: ca29ed39e0ac7bd243dd40e34b5df84ec21dc74c version: ff5207066cfef8eb380c35d398a884d357e2738d version: 2b274c775806c1cbe015a718afd0ee6f9f0b5960 version: 81c23637cee72c55c5c515ef09c260e79654c533 version: 8459828ff5ec675f171917c67f19fb1dd660a44e version: df96e915165d99d34871b83d0c0d361c110b7961 version: 56029e5daaf7337b953ac4a9eae3a73cd7a052c8 version: 5db72efced6866b89bc462596b325d8524310d1f version: 1f722bb5c50f4834065cb1a25a49f4d1dacd287f version: 1aaea0902b179e01d6f301b97c2e50126657e28f version: 296f04acc6b004507bb1b4a1729e34a5be2beae7 version: cb63d273ca51d4b7351076b834dc309e1c4f3ddc version: d08c846c02bd1b4cc2a2b15ff5abb9b72065bf9a version: 938f16a745cd783e3a727f49b0bb6be307d00cf7 version: f3c3647e8f95b3007209d0c8e58fbb6408495963 version: d5588bad57252e1202716edb0bb05e26f6b66d37 version: 50c6ed6602303deb4902cb7759ca8c3c8d7acd7a version: 114078bfa186c67ad26bbe4dbf526afe0a8872e2,79,70
openstack%2Ftripleo-quickstart-extras~master~I1f07fc996990273bfb8ef41cdcf7cb9a183a6d3c,openstack/tripleo-quickstart-extras,master,I1f07fc996990273bfb8ef41cdcf7cb9a183a6d3c,Run tempest using os_tempest in multinode-validate,MERGED,2019-06-25 10:49:45.000000000,2019-07-09 20:52:21.000000000,2019-07-09 20:52:21.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 11082}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 24245}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-25 10:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4300b5f80a79d4aeecb52f651f0025c93e2219d2', 'message': 'Added task for exporting os_cloud in tempest playbook\n\nBefore running os_tempest playbook, it is necessary to export\nthe overcloud os_cloud otherwise it will give cloud\novercloud not found.\n\nChange-Id: I1f07fc996990273bfb8ef41cdcf7cb9a183a6d3c\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-06-25 15:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4f1e11b6ab81c33357aec2e08461a61324ea6576', 'message': 'Added task for exporting os_cloud in tempest playbook\n\nBefore running os_tempest playbook, it is necessary to export\nthe overcloud os_cloud otherwise it will give cloud\novercloud not found.\n\nIt also modifies multinode-validate playbook to use os_tempest\nfor running tempest.\n\nChange-Id: I1f07fc996990273bfb8ef41cdcf7cb9a183a6d3c\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2019-06-26 03:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c785f833c6b156e9f3674a74666279b97fc83c2e', 'message': 'Added task for exporting os_cloud in tempest playbook\n\nBefore running os_tempest playbook, it is necessary to export\nthe overcloud os_cloud otherwise it will give cloud\novercloud not found.\n\nIt also modifies multinode-validate playbook to use os_tempest\nfor running tempest.\n\nChange-Id: I1f07fc996990273bfb8ef41cdcf7cb9a183a6d3c\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2019-06-28 11:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2677d4cd1670664898ac2e0577c0337de17fb4e7', 'message': 'Added task for exporting os_cloud in tempest playbook\n\nBefore running os_tempest playbook, it is necessary to export\nthe overcloud os_cloud otherwise it will give cloud\novercloud not found.\n\nIt also modifies multinode-validate playbook to use os_tempest\nfor running tempest.\n\nChange-Id: I1f07fc996990273bfb8ef41cdcf7cb9a183a6d3c\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2019-06-28 12:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6e3d641cb83a66fd91ab26139c1d5c5af0989d58', 'message': 'Added task for exporting os_cloud in tempest playbook\n\nBefore running os_tempest playbook, it is necessary to export\nthe overcloud os_cloud otherwise it will give cloud\novercloud not found.\n\nIt also modifies multinode-validate playbook to use os_tempest\nfor running tempest.\n\nChange-Id: I1f07fc996990273bfb8ef41cdcf7cb9a183a6d3c\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2019-06-30 14:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ae5a8617819f0e83340655fea1a6e57c76f59ffc', 'message': 'Added task for exporting os_cloud in tempest playbook\n\nBefore running os_tempest playbook, it is necessary to export\nthe overcloud os_cloud otherwise it will give cloud\novercloud not found.\n\nIt also modifies multinode-validate playbook to use os_tempest\nfor running tempest.\n\nChange-Id: I1f07fc996990273bfb8ef41cdcf7cb9a183a6d3c\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2019-07-01 03:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e9705488f4b6ce3410bc94844a083b7cc923cde8', 'message': 'Added task for exporting os_cloud in tempest playbook\n\nBefore running os_tempest playbook, it is necessary to export\nthe overcloud os_cloud otherwise it will give cloud\novercloud not found.\n\nIt also modifies multinode-validate playbook to use os_tempest\nfor running tempest.\n\nChange-Id: I1f07fc996990273bfb8ef41cdcf7cb9a183a6d3c\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2019-07-01 09:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7b7b2530be75bcd2d65d88c53eb00db937c55af1', 'message': 'Run tempest using os_tempest in multinode-validate\n\nIt modifies multinode-validate playbook to use os_tempest\nfor running tempest and also pass required vars for the same.\n\nChange-Id: I1f07fc996990273bfb8ef41cdcf7cb9a183a6d3c\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 9, 'created': '2019-07-02 07:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3e9f52f98bf4ace6a05288410d8af2c4a0ca5a7b', 'message': 'Run tempest using os_tempest in multinode-validate\n\nIt modifies multinode-validate playbook to use os_tempest\nfor running tempest and also pass required vars for the same.\n\nSince os_tempest runs as a root user so we need clouds.yaml\nin /root/.config/openstack/dir. For that two tasks were\nadd for the same.\n\nChange-Id: I1f07fc996990273bfb8ef41cdcf7cb9a183a6d3c\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 10, 'created': '2019-07-02 10:37:00.000000000', 'files': ['playbooks/multinode-validate.yml', 'playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/049863e304442e4403110dc53c0ac2dd7bf737c3', 'message': 'Run tempest using os_tempest in multinode-validate\n\nIt modifies multinode-validate playbook to use os_tempest\nfor running tempest and also pass required vars for the same.\n\nSince os_tempest runs as a root user so we need clouds.yaml\nin /root/.config/openstack/dir. For that two tasks were\nadd for the same.\n\nChange-Id: I1f07fc996990273bfb8ef41cdcf7cb9a183a6d3c\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",3,667323,049863e304442e4403110dc53c0ac2dd7bf737c3,47,12,10,12393,,,0,"Run tempest using os_tempest in multinode-validate

It modifies multinode-validate playbook to use os_tempest
for running tempest and also pass required vars for the same.

Since os_tempest runs as a root user so we need clouds.yaml
in /root/.config/openstack/dir. For that two tasks were
add for the same.

Change-Id: I1f07fc996990273bfb8ef41cdcf7cb9a183a6d3c
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/23/667323/10 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest.yml'],1,4300b5f80a79d4aeecb52f651f0025c93e2219d2,overcloud_cloudyaml,"- name: Export and Debug os_cloud shell: | set -e export export OS_CLIENT_CONFIG_FILE=/home/{{ undercloud_user }}/.config/openstack/clouds.yaml export OS_CLOUD={{ tempest_cloud_name }} args: chdir: ""/home/{{ undercloud_user }}"" executable: /bin/bash changed_when: false when: tempest_cloud_name is 'overcloud' ",,11,0
openstack%2Fpython-tripleoclient~stable%2Fstein~I8c833819c88f1822bf605df0c997ab5d651e7620,openstack/python-tripleoclient,stable/stein,I8c833819c88f1822bf605df0c997ab5d651e7620,Allow running validations by group using Ansible by default,MERGED,2019-07-09 10:50:55.000000000,2019-07-09 20:52:20.000000000,2019-07-09 20:52:20.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-09 10:50:55.000000000', 'files': ['releasenotes/notes/Allow-running-validations-by-name-using-Ansible-by-default-2dac0dfd9c7a4690.yaml', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3f572d6f8c73fb75021325f60721a6e5d2a15356', 'message': 'Allow running validations by group using Ansible by default\n\nThis patch allows the operator to run all the validations belonging to\na group using ansible-playbook instead of Mistral.\n\nChange-Id: I8c833819c88f1822bf605df0c997ab5d651e7620\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit f10fa0b3c5f1d5e1b7282c0c29175138eaabe126)\n'}]",0,669846,3f572d6f8c73fb75021325f60721a6e5d2a15356,7,8,1,11491,,,0,"Allow running validations by group using Ansible by default

This patch allows the operator to run all the validations belonging to
a group using ansible-playbook instead of Mistral.

Change-Id: I8c833819c88f1822bf605df0c997ab5d651e7620
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit f10fa0b3c5f1d5e1b7282c0c29175138eaabe126)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/46/669846/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Allow-running-validations-by-name-using-Ansible-by-default-2dac0dfd9c7a4690.yaml', 'tripleoclient/v1/tripleo_validator.py']",2,3f572d6f8c73fb75021325f60721a6e5d2a15356,bp/validation-framework-stein," playbooks = [] if parsed_args.use_mistral: if parsed_args.group: workflow_input = { ""group_names"": parsed_args.group } LOG.debug(_('Getting the validations list by group')) try: output = validations.list_validations( clients, workflow_input) for val in output: playbooks.append(val.get('id') + '.yaml') except Exception as e: print( _(""Validations listing by group finished with errors"")) print('Output: {}'.format(e)) else: for pb in parsed_args.validation_name: playbooks.append(pb + '.yaml')", if parsed_args.use_mistral or parsed_args.group: playbooks = [] for pb in parsed_args.validation_name: playbooks.append(pb + '.yaml'),29,4
openstack%2Fpython-tripleoclient~stable%2Fstein~Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e,openstack/python-tripleoclient,stable/stein,Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e,Allow running validations by name using Ansible by default.,MERGED,2019-07-09 08:17:45.000000000,2019-07-09 20:52:19.000000000,2019-07-09 20:52:19.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-09 08:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c129f1a973dc12ce8bb30856e9b6a6309eb01540', 'message': 'Allow running validations by name using Ansible by default.\n\nThis patch switch over Ansible to run validations by names by\ndefault. The --use-mistral argument will have to be used in order to\nexecute them through Mistral.\n\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e\n(cherry picked from commit 27e1e4f833b78f89589aa406e3e4668041c1c3d9)\n'}, {'number': 2, 'created': '2019-07-09 10:50:55.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/test_validator.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/12b2ac2778845f6f2eff7ee0c8497aa4ea82fd4c', 'message': 'Allow running validations by name using Ansible by default.\n\nThis patch switch over Ansible to run validations by names by\ndefault. The --use-mistral argument will have to be used in order to\nexecute them through Mistral.\n\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e\n(cherry picked from commit 27e1e4f833b78f89589aa406e3e4668041c1c3d9)\n'}]",0,669814,12b2ac2778845f6f2eff7ee0c8497aa4ea82fd4c,9,8,2,11491,,,0,"Allow running validations by name using Ansible by default.

This patch switch over Ansible to run validations by names by
default. The --use-mistral argument will have to be used in order to
execute them through Mistral.

Co-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>
Change-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e
(cherry picked from commit 27e1e4f833b78f89589aa406e3e4668041c1c3d9)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/14/669814/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/test_validator.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py']",4,c129f1a973dc12ce8bb30856e9b6a6309eb01540,bp/validation-framework-stein,"import os import pwd import sys parser.add_argument( '--use-mistral', action='store_true', default=False, help=_(""Execute the validations using "" ""Mistral. "" ""Defaults to: false"") ) LOG = logging.getLogger(__name__ + "".ValidationsRun"") if parsed_args.use_mistral or parsed_args.group: if not parsed_args.validation_name: workflow_input = { ""plan"": parsed_args.plan, ""group_names"": parsed_args.group } else: workflow_input = { ""plan"": parsed_args.plan, ""validation_names"": parsed_args.validation_name } LOG.debug(_('Running the validations with Mistral')) output = validations.run_validations(clients, workflow_input) for out in output: print('[{}] - {}\n{}'.format( out.get('status'), out.get('validation_name'), oooutils.indent(out.get('stdout')))) else: playbooks = [] for pb in parsed_args.validation_name: playbooks.append(pb + '.yaml') python_interpreter = \ ""/usr/bin/python{}"".format(sys.version_info[0]) for playbook in playbooks: try: LOG.debug(_('Running the validations with Ansible')) rc, output = oooutils.run_ansible_playbook( logger=LOG, workdir=constants.ANSIBLE_VALIDATION_DIR, log_path_dir=pwd.getpwuid(os.getuid()).pw_dir, playbook=playbook, inventory='/usr/bin/tripleo-ansible-inventory', retries=False, connection='local', output_callback='validation_output', python_interpreter=python_interpreter) print('[SUCCESS] - {}\n{}'.format( playbook, oooutils.indent(output))) except Exception as e: print('[FAILED] - {}\n{}'.format( playbook, oooutils.indent(e.args[0])))"," if not parsed_args.validation_name: workflow_input = { ""plan"": parsed_args.plan, ""group_names"": parsed_args.group } else: workflow_input = { ""plan"": parsed_args.plan, ""validation_names"": parsed_args.validation_name } LOG.debug(_('Runnning the validations')) output = validations.run_validations(clients, workflow_input) for out in output: print('[{}] - {}\n{}'.format( out.get('status'), out.get('validation_name'), oooutils.indent(out.get('stdout'))))",110,29
openstack%2Fneutron~master~I407e126e760ebf6aca4c31b9c3ff58dcfa55107f,openstack/neutron,master,I407e126e760ebf6aca4c31b9c3ff58dcfa55107f,Limit max ports per rpc for dhcp_ready_on_ports(),MERGED,2019-05-15 11:59:47.000000000,2019-07-09 20:35:29.000000000,2019-07-06 15:55:38.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9373}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15554}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26250}, {'_account_id': 26622}, {'_account_id': 30314}]","[{'number': 1, 'created': '2019-05-15 11:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/206140ad2dc0608ee7bc7d6256fee5f6ef9e4004', 'message': 'Limit max ports per rpc for dhcp_ready_ports()\n\nThe Neutron dhcp agents reports all ready ports to the Neutron\nserver via the dhcp_ready_ports() rpc call. When the dhcp agent\ngets ports ready faster than the server can process them the amount\nof ports per rpc call can grow so high (e.g. 10000 Ports) that the\nneutron server never has a chance of processing the request before\nthe rpc timeout kills the request, leading to the dhcp agent\nsending the request again, resulting in an endless loop of\ndhcp_ready_ports() calls. This happens especially on agent startup.\n\nTo mitigate this problems we now limit the number of ports send\nper dhcp_ready_ports() call.\n\nChange-Id: I407e126e760ebf6aca4c31b9c3ff58dcfa55107f\n'}, {'number': 2, 'created': '2019-05-15 15:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/21d779df831224aa1f8000e33e87a8c649d294de', 'message': 'Limit max ports per rpc for dhcp_ready_ports()\n\nThe Neutron dhcp agents reports all ready ports to the Neutron\nserver via the dhcp_ready_ports() rpc call. When the dhcp agent\ngets ports ready faster than the server can process them the amount\nof ports per rpc call can grow so high (e.g. 10000 Ports) that the\nneutron server never has a chance of processing the request before\nthe rpc timeout kills the request, leading to the dhcp agent\nsending the request again, resulting in an endless loop of\ndhcp_ready_ports() calls. This happens especially on agent startup.\n\nTo mitigate this problems we now limit the number of ports send\nper dhcp_ready_ports() call.\n\nChange-Id: I407e126e760ebf6aca4c31b9c3ff58dcfa55107f\n'}, {'number': 3, 'created': '2019-06-14 14:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/67159af838b66bdd970b02ab090100e60a282403', 'message': 'Limit max ports per rpc for dhcp_ready_ports()\n\nThe Neutron dhcp agents reports all ready ports to the Neutron\nserver via the dhcp_ready_ports() rpc call. When the dhcp agent\ngets ports ready faster than the server can process them the amount\nof ports per rpc call can grow so high (e.g. 10000 Ports) that the\nneutron server never has a chance of processing the request before\nthe rpc timeout kills the request, leading to the dhcp agent\nsending the request again, resulting in an endless loop of\ndhcp_ready_ports() calls. This happens especially on agent startup.\n\nTo mitigate this problems we now limit the number of ports send\nper dhcp_ready_ports() call.\n\nChange-Id: I407e126e760ebf6aca4c31b9c3ff58dcfa55107f\n'}, {'number': 4, 'created': '2019-06-17 10:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4542ed0fab7bc3ef88d3cc147af745133b83c95f', 'message': 'Limit max ports per rpc for dhcp_ready_ports()\n\nThe Neutron dhcp agents reports all ready ports to the Neutron\nserver via the dhcp_ready_ports() rpc call. When the dhcp agent\ngets ports ready faster than the server can process them the amount\nof ports per rpc call can grow so high (e.g. 10000 Ports) that the\nneutron server never has a chance of processing the request before\nthe rpc timeout kills the request, leading to the dhcp agent\nsending the request again, resulting in an endless loop of\ndhcp_ready_ports() calls. This happens especially on agent startup.\n\nTo mitigate this problems we now limit the number of ports send\nper dhcp_ready_ports() call.\n\nChange-Id: I407e126e760ebf6aca4c31b9c3ff58dcfa55107f\n'}, {'number': 5, 'created': '2019-06-18 10:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14d8096527e6afd9b1aeaacc465f87565e4c54c9', 'message': 'Limit max ports per rpc for dhcp_ready_ports()\n\nThe Neutron dhcp agents reports all ready ports to the Neutron\nserver via the dhcp_ready_ports() rpc call. When the dhcp agent\ngets ports ready faster than the server can process them the amount\nof ports per rpc call can grow so high (e.g. 10000 Ports) that the\nneutron server never has a chance of processing the request before\nthe rpc timeout kills the request, leading to the dhcp agent\nsending the request again, resulting in an endless loop of\ndhcp_ready_ports() calls. This happens especially on agent startup.\n\nTo mitigate this problems we now limit the number of ports send\nper dhcp_ready_ports() call.\n\nChange-Id: I407e126e760ebf6aca4c31b9c3ff58dcfa55107f\n'}, {'number': 6, 'created': '2019-06-26 08:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/acca7f260fdeb2a0a27db2988136b0360319aac3', 'message': 'Limit max ports per rpc for dhcp_ready_on_ports()\n\nThe Neutron dhcp agents reports all ready ports to the Neutron\nserver via the dhcp_ready_on_ports() rpc call. When the dhcp agent\ngets ports ready faster than the server can process them the amount\nof ports per rpc call can grow so high (e.g. 10000 Ports) that the\nneutron server never has a chance of processing the request before\nthe rpc timeout kills the request, leading to the dhcp agent\nsending the request again, resulting in an endless loop of\ndhcp_ready_on_ports() calls. This happens especially on agent startup.\n\nTo mitigate this problems we now limit the number of ports sent\nper dhcp_ready_on_ports() call.\n\nCloses-bug: #1834257\nChange-Id: I407e126e760ebf6aca4c31b9c3ff58dcfa55107f\n'}, {'number': 7, 'created': '2019-06-28 11:32:02.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/76ccdb35d4b09106aa8adc97528b02f0fd8acbcc', 'message': 'Limit max ports per rpc for dhcp_ready_on_ports()\n\nThe Neutron dhcp agents reports all ready ports to the Neutron\nserver via the dhcp_ready_on_ports() rpc call. When the dhcp agent\ngets ports ready faster than the server can process them the amount\nof ports per rpc call can grow so high (e.g. 10000 Ports) that the\nneutron server never has a chance of processing the request before\nthe rpc timeout kills the request, leading to the dhcp agent\nsending the request again, resulting in an endless loop of\ndhcp_ready_on_ports() calls. This happens especially on agent startup.\n\nTo mitigate this problems we now limit the number of ports sent\nper dhcp_ready_on_ports() call.\n\nCloses-bug: #1834257\nChange-Id: I407e126e760ebf6aca4c31b9c3ff58dcfa55107f\n'}]",42,659274,76ccdb35d4b09106aa8adc97528b02f0fd8acbcc,91,14,7,30314,,,0,"Limit max ports per rpc for dhcp_ready_on_ports()

The Neutron dhcp agents reports all ready ports to the Neutron
server via the dhcp_ready_on_ports() rpc call. When the dhcp agent
gets ports ready faster than the server can process them the amount
of ports per rpc call can grow so high (e.g. 10000 Ports) that the
neutron server never has a chance of processing the request before
the rpc timeout kills the request, leading to the dhcp agent
sending the request again, resulting in an endless loop of
dhcp_ready_on_ports() calls. This happens especially on agent startup.

To mitigate this problems we now limit the number of ports sent
per dhcp_ready_on_ports() call.

Closes-bug: #1834257
Change-Id: I407e126e760ebf6aca4c31b9c3ff58dcfa55107f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/659274/7 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,206140ad2dc0608ee7bc7d6256fee5f6ef9e4004,bug/1834257,DHCP_READY_PORTS_SYNC_MAX = 64 if len(self.dhcp_ready_ports) > DHCP_READY_PORTS_SYNC_MAX: ports_to_send = set() for port_count in range(DHCP_READY_PORTS_SYNC_MAX): ports_to_send.add(self.dhcp_ready_ports.pop()) else: ports_to_send = self.dhcp_ready_ports self.dhcp_ready_ports = set() , ports_to_send = self.dhcp_ready_ports self.dhcp_ready_ports = set(),10,2
openstack%2Fopenstack-ansible-ops~master~I790c1876a3e44da8623c74632332f0e453dce1f6,openstack/openstack-ansible-ops,master,I790c1876a3e44da8623c74632332f0e453dce1f6,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-05-05 11:29:33.000000000,2019-07-09 20:32:04.000000000,2019-07-09 20:32:04.000000000,"[{'_account_id': 290}, {'_account_id': 1004}, {'_account_id': 18279}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-05-05 11:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/a9b789f304f1365e147eb3c132dd495157f176d5', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I790c1876a3e44da8623c74632332f0e453dce1f6\n'}, {'number': 2, 'created': '2019-05-06 10:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/3dd5e42c389c0ba54de191d62b1229414eb024ec', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I790c1876a3e44da8623c74632332f0e453dce1f6\n'}, {'number': 3, 'created': '2019-07-09 15:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/6ef134674e9403bf4977c388ba7a366e3eb50f82', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I790c1876a3e44da8623c74632332f0e453dce1f6\n'}, {'number': 4, 'created': '2019-07-09 16:36:27.000000000', 'files': ['skydive/ansible-role-requirements.yml', 'osquery/tests/run-setup.yml', 'multi-node-aio/bootstrap.sh', 'README.rst', 'skydive/tests/functional.yml', 'elk_metrics_6x/ansible-role-requirements.yml', 'skydive/tests/run-setup.yml', 'doc/source/conf.py', 'osquery/tests/ansible-role-requirements.yml', 'multi-node-aio/build.sh', 'bootstrap-embedded-ansible/ansible-requirements.yml', 'multi-node-aio/run_tests.sh', 'osquery/ansible-role-requirements.yml', 'elk_metrics_6x/tests/ansible-role-requirements.yml', 'skydive/tests/ansible-role-requirements.yml', 'elk_metrics_6x/tests/run-setup.yml', 'multi-node-aio/README.rst', 'multi-node-aio/playbooks/deploy-osa.yml', 'leap-upgrades/lib/vars.sh', 'cluster_metrics/readme.rst', 'generate_requirements/run.sh', 'tox.ini', 'multi-node-aio/playbooks/deploy-elk.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/87cbdd66495068a3ae3bcadf25d3e40846fd346a', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I790c1876a3e44da8623c74632332f0e453dce1f6\n'}]",0,657225,87cbdd66495068a3ae3bcadf25d3e40846fd346a,15,6,4,17130,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I790c1876a3e44da8623c74632332f0e453dce1f6
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/25/657225/4 && git format-patch -1 --stdout FETCH_HEAD,"['bootstrap-embedded-ansible/ansible-requirements.yml', 'skydive/ansible-role-requirements.yml', 'osquery/ansible-role-requirements.yml', 'elk_metrics_6x/tests/ansible-role-requirements.yml', 'skydive/tests/ansible-role-requirements.yml', 'elk_metrics_6x/ansible-role-requirements.yml', 'osquery/tests/ansible-role-requirements.yml']",7,a9b789f304f1365e147eb3c132dd495157f176d5,657225, src: https://opendev.org/openstack/openstack-ansible-apt_package_pinning src: https://opendev.org/openstack/ansible-config_template src: https://opendev.org/openstack/openstack-ansible-nspawn_container_create src: https://opendev.org/openstack/openstack-ansible-nspawn_hosts src: https://opendev.org/openstack/openstack-ansible-plugins src: https://opendev.org/openstack/ansible-role-systemd_mount src: https://opendev.org/openstack/ansible-role-systemd_networkd src: https://opendev.org/openstack/ansible-role-systemd_service, src: https://git.openstack.org/openstack/openstack-ansible-apt_package_pinning src: https://git.openstack.org/openstack/ansible-config_template src: https://git.openstack.org/openstack/openstack-ansible-nspawn_container_create src: https://git.openstack.org/openstack/openstack-ansible-nspawn_hosts src: https://git.openstack.org/openstack/openstack-ansible-plugins src: https://git.openstack.org/openstack/ansible-role-systemd_mount src: https://git.openstack.org/openstack/ansible-role-systemd_networkd src: https://git.openstack.org/openstack/ansible-role-systemd_service,32,32
openstack%2Fcharm-vault~master~I951c55fe3e3d60dff2c280b4fd393c92189016c0,openstack/charm-vault,master,I951c55fe3e3d60dff2c280b4fd393c92189016c0,Rebuild the charm to include helper fixes,MERGED,2019-07-09 17:39:09.000000000,2019-07-09 20:27:39.000000000,2019-07-09 20:27:38.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 26040}]","[{'number': 1, 'created': '2019-07-09 17:39:09.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/1298ab66f4cc62029ff904f081ad85137dce3088', 'message': 'Rebuild the charm to include helper fixes\n\nA recent charm-helpers released has introduced a regression into the\nVault charm, see LP: #1835933.\n\nhttps://github.com/juju/charm-helpers/issues/344\n\nChange-Id: I951c55fe3e3d60dff2c280b4fd393c92189016c0\nCloses-Bug: 1835933\n'}]",0,669919,1298ab66f4cc62029ff904f081ad85137dce3088,12,4,1,24824,,,0,"Rebuild the charm to include helper fixes

A recent charm-helpers released has introduced a regression into the
Vault charm, see LP: #1835933.

https://github.com/juju/charm-helpers/issues/344

Change-Id: I951c55fe3e3d60dff2c280b4fd393c92189016c0
Closes-Bug: 1835933
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/19/669919/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,1298ab66f4cc62029ff904f081ad85137dce3088,bug/1835933,ead94b1e-22c4-478b-84c9-573619f83a4d,de718802-c0c5-4de9-baa0-a97a3ca2c867,1,1
openstack%2Fcharm-vault~stable%2F19.04~Ife803bdc59acb8f7ef25d842fcfbdb5dbd1d030b,openstack/charm-vault,stable/19.04,Ife803bdc59acb8f7ef25d842fcfbdb5dbd1d030b,Rebuild the charm to include helper fixes,MERGED,2019-07-09 17:43:26.000000000,2019-07-09 20:19:44.000000000,2019-07-09 20:19:44.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 26040}]","[{'number': 1, 'created': '2019-07-09 17:43:26.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/f0390f6186e96296c3c613614037b1b3251077f9', 'message': 'Rebuild the charm to include helper fixes\n\nA recent charm-helpers released has introduced a regression into the\nVault charm, see LP: #1835933.\n\nhttps://github.com/juju/charm-helpers/issues/344\n\nCloses-Bug: 1835933\n(cherry picked from commit 1298ab66f4cc62029ff904f081ad85137dce3088)\n\nChange-Id: Ife803bdc59acb8f7ef25d842fcfbdb5dbd1d030b\n'}]",0,669920,f0390f6186e96296c3c613614037b1b3251077f9,12,4,1,24824,,,0,"Rebuild the charm to include helper fixes

A recent charm-helpers released has introduced a regression into the
Vault charm, see LP: #1835933.

https://github.com/juju/charm-helpers/issues/344

Closes-Bug: 1835933
(cherry picked from commit 1298ab66f4cc62029ff904f081ad85137dce3088)

Change-Id: Ife803bdc59acb8f7ef25d842fcfbdb5dbd1d030b
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/20/669920/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,f0390f6186e96296c3c613614037b1b3251077f9,bug/1835933,ead94b1e-22c4-478b-84c9-573619f83a4d,00e66054-0b1e-4022-9b76-828c7c994791,1,1
openstack%2Fopenstack-zuul-jobs~master~I104ab1a6cba33f360ed52029ceeec1c34993bada,openstack/openstack-zuul-jobs,master,I104ab1a6cba33f360ed52029ceeec1c34993bada,Adds openstack-tox-molecule job so we can inherit it,MERGED,2019-07-09 13:31:03.000000000,2019-07-09 20:07:42.000000000,2019-07-09 20:07:42.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 9061}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-07-09 13:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/5cd8d825d6f3a3a2f9838e35d2ba502f463ac441', 'message': 'Enables molecute template to use depends-on tripleo-repos\n\nFixed bug where Zuul change failed to pick Depends-On change\nmade between tripleo-ci and tripleo-repos.\n\nChange-Id: I104ab1a6cba33f360ed52029ceeec1c34993bada\nNeeded-By: https://review.opendev.org/#/c/669343/\n'}, {'number': 2, 'created': '2019-07-09 18:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/9f8f37b9c5d64a2001a7d550cdce901548905a73', 'message': 'Adds openstack-tox-molecule job so we can inherit it\n\nThis will allow us to inherit the openstack-tox-molecule job in other\nmore specialized jobs, like ones that do need to use require-projects.\n\nChange-Id: I104ab1a6cba33f360ed52029ceeec1c34993bada\nNeeded-By: https://review.opendev.org/#/c/669343/\n'}, {'number': 3, 'created': '2019-07-09 18:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/220384e46b2a01656f595aca79e1a47efd03d03d', 'message': 'Adds openstack-tox-molecule job so we can inherit it\n\nThis will allow us to inherit the openstack-tox-molecule job in other\nmore specialized jobs, like ones that do need to use require-projects.\n\nChange-Id: I104ab1a6cba33f360ed52029ceeec1c34993bada\nNeeded-By: https://review.opendev.org/#/c/669343/\n'}, {'number': 4, 'created': '2019-07-09 19:27:39.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a4f083ad12f533209eaddd02c30b751fd15634c9', 'message': 'Adds openstack-tox-molecule job so we can inherit it\n\nThis will allow us to inherit the openstack-tox-molecule job in other\nmore specialized jobs, like ones that do need to use require-projects.\n\nChange-Id: I104ab1a6cba33f360ed52029ceeec1c34993bada\nNeeded-By: https://review.opendev.org/#/c/669343/\n'}]",14,669871,a4f083ad12f533209eaddd02c30b751fd15634c9,17,7,4,24162,,,0,"Adds openstack-tox-molecule job so we can inherit it

This will allow us to inherit the openstack-tox-molecule job in other
more specialized jobs, like ones that do need to use require-projects.

Change-Id: I104ab1a6cba33f360ed52029ceeec1c34993bada
Needed-By: https://review.opendev.org/#/c/669343/
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/71/669871/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,5cd8d825d6f3a3a2f9838e35d2ba502f463ac441,molecule, - tox-molecule: &data required-projects: # Do not remove projects from here as it may disable # ability to use Depends-On # Needed by tripleo-ci/roles/tripleo-repos - openstack/tripleo-repos <<: *data," - tox-molecule: success-url: ""tox/reports.html"" failure-url: ""tox/reports.html""",7,3
openstack%2Fnova~master~Iefd7a60139043929aee63a3660fabdded1622029,openstack/nova,master,Iefd7a60139043929aee63a3660fabdded1622029,Remove file-backed memory live migration compat check,MERGED,2019-06-17 17:24:17.000000000,2019-07-09 19:55:01.000000000,2019-06-22 01:08:04.000000000,"[{'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-17 17:24:17.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4bba996fb245f5d78986ab6fb6ce472615ceb00e', 'message': ""Remove file-backed memory live migration compat check\n\nThis removes a compat check for pre-Rocky computes added\nin I676291ec0faa1dea0bd5050ef8e3426d171de4c6 for file-backed\nmemory live migration support. Now that we're in Train we can\nassume that we won't be live migrating with computes older\nthan Rocky and can remove the check.\n\nChange-Id: Iefd7a60139043929aee63a3660fabdded1622029\n""}]",2,665728,4bba996fb245f5d78986ab6fb6ce472615ceb00e,18,12,1,6873,,,0,"Remove file-backed memory live migration compat check

This removes a compat check for pre-Rocky computes added
in I676291ec0faa1dea0bd5050ef8e3426d171de4c6 for file-backed
memory live migration support. Now that we're in Train we can
assume that we won't be live migrating with computes older
than Rocky and can remove the check.

Change-Id: Iefd7a60139043929aee63a3660fabdded1622029
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/665728/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,4bba996fb245f5d78986ab6fb6ce472615ceb00e,rm-file-backed-mem-live-migrate-check,," @mock.patch.object(objects.Service, 'get_by_compute_host') @mock.patch.object(fakelibvirt.Connection, 'compareCPU') @mock.patch('nova.objects.Service.version', 30) def test_check_can_live_migrate_dest_incompatible_file_backed( self, mock_cpu, mock_svc): self.flags(file_backed_memory=1024, group='libvirt') instance_ref = objects.Instance(**self.test_instance) # _check_cpu_match mock_cpu.return_value = 1 svc = objects.Service(host=""old"") svc.version = 31 mock_svc.return_value = svc drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) compute_info = {'cpu_info': 'asdf', 'disk_available_least': 1} self.assertRaises(exception.MigrationPreCheckError, drvr.check_can_live_migrate_destination, self.context, instance_ref, compute_info, compute_info, False) ",0,40
openstack%2Fnova~master~I559938f69c9b462a9b0baeb5d1d4d915f893273e,openstack/nova,master,I559938f69c9b462a9b0baeb5d1d4d915f893273e,Cleanup quota user docs,MERGED,2019-05-31 20:41:08.000000000,2019-07-09 19:31:38.000000000,2019-07-09 19:13:47.000000000,"[{'_account_id': 4690}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-31 20:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/132af5d84460260112e8619de8545989cb856eb9', 'message': 'Cleanup quota user docs\n\nThe description at the start of the docs is actually pre-pike\nbehavior replaced by the first ""future plans"" item which was\nthe counting quotas effort in pike. This change re-words the\nmain description to talk about counting quotas at a high level,\nlinks in more of the relevant APIs, links to the config options\ncorrectly, drops the future plan about counting quotas (since it\nis no longer the future) and fleshes out a little blurb about\nhierarchical quotas by linking to the unified limits spec.\n\nChange-Id: I559938f69c9b462a9b0baeb5d1d4d915f893273e\n'}, {'number': 2, 'created': '2019-06-06 16:22:33.000000000', 'files': ['doc/source/user/quotas.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/47559663aa8da5be3daf10ec4ce108a7cf1ab621', 'message': 'Cleanup quota user docs\n\nThe description at the start of the docs is actually pre-pike\nbehavior replaced by the first ""future plans"" item which was\nthe counting quotas effort in pike. This change re-words the\nmain description to talk about counting quotas at a high level,\nlinks in more of the relevant APIs, links to the config options\ncorrectly, drops the future plan about counting quotas (since it\nis no longer the future) and fleshes out a little blurb about\nhierarchical quotas by linking to the unified limits spec.\n\nChange-Id: I559938f69c9b462a9b0baeb5d1d4d915f893273e\n'}]",5,662573,47559663aa8da5be3daf10ec4ce108a7cf1ab621,24,11,2,6873,,,0,"Cleanup quota user docs

The description at the start of the docs is actually pre-pike
behavior replaced by the first ""future plans"" item which was
the counting quotas effort in pike. This change re-words the
main description to talk about counting quotas at a high level,
links in more of the relevant APIs, links to the config options
correctly, drops the future plan about counting quotas (since it
is no longer the future) and fleshes out a little blurb about
hierarchical quotas by linking to the unified limits spec.

Change-Id: I559938f69c9b462a9b0baeb5d1d4d915f893273e
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/662573/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quotas.rst'],1,132af5d84460260112e8619de8545989cb856eb9,quota-docs,"Starting in the 16.0.0 Pike release the quota calculation system in nova was overhauled and the old reserve/commit/rollback flow was changed to `count resource usage`_ at the point of whatever operation is being performed, such as creating or resizing a server. A check will be performed by counting current usage for the relevant resource and then if :oslo.config:option:`quota.recheck_quota` is True (it is by default) another check will be performed to ensure the initial check is still valid. By default resource usage is counted using the API and cell databases but nova can be configured to count some resource usage without using the cell databases, see `Quota usage from placement`_ for details. Quota limits and usage can be retrieved via the `limits`_ REST API. Quota limits can be set per-tenant using the `quota sets`_ REST API or per class (all tenants) using the `quota class sets`_ API. .. _count resource usage: https://specs.openstack.org/openstack/nova-specs/specs/pike/implemented/cells-count-resources-to-check-quota-in-api.html .. _limits: https://developer.openstack.org/api-ref/compute/#limits-limits .. _quota sets: https://developer.openstack.org/api-ref/compute/#quota-sets-os-quota-sets .. _quota class sets: https://developer.openstack.org/api-ref/compute/#quota-class-sets-os-quota-class-sets* If the above does not provide a resource limit, then rely on the :oslo.config:group:`quota` configuration options for the default limit.Hierarchical quotas ------------------- There has long been a desire to support hierarchical or nested quotas leveraging support in the identity service for hierarchical projects. See the `unified limits`_ spec for details. .. _unified limits: https://review.opendev.org/#/c/602201/","Quotas are enforced by making a claim, or reservation, on resources when a request is made, such as creating a new server. If the claim fails, the request is rejected. If the reservation succeeds then the operation progresses until such a point that the reservation is either converted into usage (the operation was successful) or rolled back (the operation failed). Typically the quota reservation is made in the nova-api service and the usage or rollback is performed in the nova-compute service, at least when dealing with a server creation or move operation. Quota limits and usage can be retrieved via the ``limits`` REST API.* If the above does not provide a resource limit, then rely on the ``quota_*`` configuration options for the default limit.TODO: talk about quotas in the `resource counting spec`_ and `nested quotas`_ .. _resource counting spec: https://specs.openstack.org/openstack/nova-specs/specs/ocata/approved/cells-count-resources-to-check-quota-in-api.html .. _nested quotas: https://specs.openstack.org/openstack/nova-specs/specs/mitaka/approved/nested-quota-driver-api.html",27,14
openstack%2Fpaunch~stable%2Fstein~I6dfbfe9da3d216cadaca77a53a0d5223c9cbd57d,openstack/paunch,stable/stein,I6dfbfe9da3d216cadaca77a53a0d5223c9cbd57d,runner: implement container_exist,MERGED,2019-07-08 18:11:53.000000000,2019-07-09 19:15:51.000000000,2019-07-09 19:15:51.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-08 18:11:53.000000000', 'files': ['paunch/tests/test_runner.py', 'paunch/runner.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/33f4f31ed2b26fd23e3401026d4c82bde693a320', 'message': 'runner: implement container_exist\n\nOn podman, we can run ""podman container exists"" command to check if\nwhether or not a container does exist.\n\nThis will be used later when we\'ll reduce our usage of ""podman inspect"".\n\nChange-Id: I6dfbfe9da3d216cadaca77a53a0d5223c9cbd57d\n(cherry picked from commit 277eb726b97a0bb31137e33fd3e5d1a7a4784188)\n'}]",0,669731,33f4f31ed2b26fd23e3401026d4c82bde693a320,8,3,1,3153,,,0,"runner: implement container_exist

On podman, we can run ""podman container exists"" command to check if
whether or not a container does exist.

This will be used later when we'll reduce our usage of ""podman inspect"".

Change-Id: I6dfbfe9da3d216cadaca77a53a0d5223c9cbd57d
(cherry picked from commit 277eb726b97a0bb31137e33fd3e5d1a7a4784188)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/31/669731/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_runner.py', 'paunch/runner.py']",2,33f4f31ed2b26fd23e3401026d4c82bde693a320,bug/1833081," def container_exist(self, name, quiet=False): self.log.warning(""container_exist isn't supported "" ""by %s"" % self.cont_cmd) return True def container_exist(self, name, quiet=False): cmd = ['podman', 'container', 'exists', name] (_, _, returncode) = self.execute(cmd, self.log, quiet) return returncode == 0",,20,0
openstack%2Fpaunch~stable%2Fstein~I9b7f1df0f466f8e5cd44f0c8e4465618fe4fc8a1,openstack/paunch,stable/stein,I9b7f1df0f466f8e5cd44f0c8e4465618fe4fc8a1,runner: refactor image_exist,MERGED,2019-07-08 18:04:18.000000000,2019-07-09 19:15:50.000000000,2019-07-09 19:15:50.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-08 18:04:18.000000000', 'files': ['paunch/runner.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/45ea759f9a82562f432f64d068edf778a0805816', 'message': 'runner: refactor image_exist\n\niamge_exist only makes sense in podman where the inspect command\nrequires the image to be here.\n\nAlso, rather than returning a return code, return a bool to make the use\nof image_exist simpler in the code.\n\nThis patch is preparing the code to have container_exist and re-use the\nsame logic later.\n\nChange-Id: I9b7f1df0f466f8e5cd44f0c8e4465618fe4fc8a1\n(cherry picked from commit 43468616c89e695f65befd4d49b8c1c7bdcd0b2c)\n'}]",0,669729,45ea759f9a82562f432f64d068edf778a0805816,8,3,1,3153,,,0,"runner: refactor image_exist

iamge_exist only makes sense in podman where the inspect command
requires the image to be here.

Also, rather than returning a return code, return a bool to make the use
of image_exist simpler in the code.

This patch is preparing the code to have container_exist and re-use the
same logic later.

Change-Id: I9b7f1df0f466f8e5cd44f0c8e4465618fe4fc8a1
(cherry picked from commit 43468616c89e695f65befd4d49b8c1c7bdcd0b2c)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/29/669729/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/runner.py'],1,45ea759f9a82562f432f64d068edf778a0805816,bug/1833081," # In podman, if we're being asked to inspect a container image, we if not self.image_exist(name): def image_exist(self, name, quiet=False): self.log.warning(""image_exist isn't supported "" ""by %s"" % self.cont_cmd) return True def image_exist(self, name, quiet=False): cmd = ['podman', 'image', 'exists', name] (_, _, returncode) = self.execute(cmd, self.log, quiet) return returncode == 0"," def image_exist(self, name, quiet=False): # the command only exists in podman. if self.cont_cmd != 'podman': self.log.warning(""image_exist isn't supported "" ""by %s"" % self.cont_cmd) return 0 cmd = ['podman', 'image', 'exists', name] (cmd_stdout, cmd_stderr, returncode) = self.execute( cmd, self.log, quiet) return returncode # If we're being asked to inspect a container image, we img_exist = self.image_exist(name) if img_exist != 0:",12,14
openstack%2Ftripleo-heat-templates~master~Ic4ea74b45c566048e32dde82d2bf00498f932af6,openstack/tripleo-heat-templates,master,Ic4ea74b45c566048e32dde82d2bf00498f932af6,Drop EC2MetadataIp parameter and its uses,MERGED,2019-06-14 12:45:21.000000000,2019-07-09 19:15:48.000000000,2019-07-09 19:15:48.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-06-14 12:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b0f3a979178c27364ac949dd01202dfed116e9d7', 'message': '[WiP]\xa0Drop EC2MetadataIp parameter and its uses\n\nSince https://review.opendev.org/656581 is merged (and the revert,\nreverting the revert ...) there is no metadata service running.\n\nThis change removes all things related to setting up routes\nto the metadata service, i.e the EC2MetadataIp. As well as NAT\nfirewall redirect rule used only on the undercloud but disabled\nby default.\n\nBlueprint: nova-less-deploy\nChange-Id: Ic4ea74b45c566048e32dde82d2bf00498f932af6\n'}, {'number': 2, 'created': '2019-06-17 10:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c612ffeaa046ccd2fbae7910664f7fa685c0a56', 'message': 'Drop EC2MetadataIp parameter and its uses\n\nSince https://review.opendev.org/656581 is merged (and the revert,\nreverting the revert ...) there is no metadata service running.\n\nThis change removes all things related to setting up routes\nto the metadata service, i.e the EC2MetadataIp. As well as NAT\nfirewall redirect rule used only on the undercloud but disabled\nby default.\n\nBlueprint: nova-less-deploy\nChange-Id: Ic4ea74b45c566048e32dde82d2bf00498f932af6\n'}, {'number': 3, 'created': '2019-06-17 22:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58e811ce842186408338774ba3c92723b4372f46', 'message': 'Drop EC2MetadataIp parameter and its uses\n\nSince https://review.opendev.org/656581 is merged (and the revert,\nreverting the revert ...) there is no metadata service running.\n\nThis change removes all things related to setting up routes\nto the metadata service, i.e the EC2MetadataIp. As well as NAT\nfirewall redirect rule used only on the undercloud but disabled\nby default.\n\nBlueprint: nova-less-deploy\nChange-Id: Ic4ea74b45c566048e32dde82d2bf00498f932af6\n'}, {'number': 4, 'created': '2019-07-05 12:07:04.000000000', 'files': ['net-config-linux-bridge.j2.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'network/config/single-nic-vlans/controller-no-external.j2.yaml', 'net-config-standalone.j2.yaml', 'puppet/role.role.j2.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/compute.yaml', 'ci/common/net-config-multinode-os-net-config.yaml', 'net-config-static-bridge-with-external-dhcp.j2.yaml', 'ci/environments/network/public-bond/nic-configs/ceph-storage.yaml', 'net-config-undercloud.j2.yaml', 'network/config/bond-with-vlans/controller-no-external.j2.yaml', 'deployed-server/README.rst', 'network/config/multiple-nics/compute-dvr.j2.yaml', 'ci/environments/network/multiple-nics/nic-configs/compute.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/swift-storage.yaml', 'network/config/2-linux-bonds-vlans/role.role.j2.yaml', 'ci/common/net-config-simple-bridge.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/controller.yaml', 'network/config/single-nic-vlans/controller-v6.j2.yaml', 'ci/environments/network/multiple-nics/nic-configs/controller.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/cinder-storage.yaml', 'net-config-bond.j2.yaml', 'network/config/bond-with-vlans/role.role.j2.yaml', 'extraconfig/post_deploy/undercloud_ctlplane_network.py', 'net-config-noop.j2.yaml', 'environments/undercloud.yaml', 'net-config-static-bridge.j2.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/ceph-storage.yaml', 'ci/environments/network/multiple-nics/nic-configs/compute-dvr.yaml', 'ci/environments/network/multiple-nics/nic-configs/swift-storage.yaml', 'network/config/bond-with-vlans/controller-v6.j2.yaml', 'ci/environments/network/public-bond/nic-configs/swift-storage.yaml', 'network/config/multiple-nics/role.role.j2.yaml', 'tools/yaml-validate.py', 'ci/environments/network/public-bond/nic-configs/controller.yaml', 'ci/environments/network/public-bond/nic-configs/compute.yaml', 'net-config-static.j2.yaml', 'ci/common/net-config-multinode.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/compute-dvr.yaml', 'ci/environments/network/public-bond/nic-configs/cinder-storage.yaml', 'ci/environments/network/multiple-nics/nic-configs/cinder-storage.yaml', 'network/config/single-nic-linux-bridge-vlans/role.role.j2.yaml', 'deployed-server/deployed-server-environment-output.yaml', 'network/config/multiple-nics/controller-v6.j2.yaml', 'network/config/single-nic-vlans/role.role.j2.yaml', 'net-config-bridge.j2.yaml', 'releasenotes/notes/remove-ec2metadata-parameter-36e75f70d2322e55.yaml', 'ci/environments/network/multiple-nics/nic-configs/ceph-storage.yaml', 'network/config/single-nic-linux-bridge-vlans/controller-v6.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a52a6986eddd4e1cd0f8a2b9a073f6493669b82', 'message': 'Drop EC2MetadataIp parameter and its uses\n\nSince https://review.opendev.org/656581 is merged (and the revert,\nreverting the revert ...) there is no metadata service running.\n\nThis change removes all things related to setting up routes\nto the metadata service, i.e the EC2MetadataIp. As well as NAT\nfirewall redirect rule used only on the undercloud but disabled\nby default.\n\nBlueprint: nova-less-deploy\nChange-Id: Ic4ea74b45c566048e32dde82d2bf00498f932af6\n'}]",2,665373,7a52a6986eddd4e1cd0f8a2b9a073f6493669b82,32,6,4,24245,,,0,"Drop EC2MetadataIp parameter and its uses

Since https://review.opendev.org/656581 is merged (and the revert,
reverting the revert ...) there is no metadata service running.

This change removes all things related to setting up routes
to the metadata service, i.e the EC2MetadataIp. As well as NAT
firewall redirect rule used only on the undercloud but disabled
by default.

Blueprint: nova-less-deploy
Change-Id: Ic4ea74b45c566048e32dde82d2bf00498f932af6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/665373/4 && git format-patch -1 --stdout FETCH_HEAD,"['net-config-linux-bridge.j2.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'network/config/single-nic-vlans/controller-no-external.j2.yaml', 'net-config-standalone.j2.yaml', 'puppet/role.role.j2.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/compute.yaml', 'ci/common/net-config-multinode-os-net-config.yaml', 'net-config-static-bridge-with-external-dhcp.j2.yaml', 'ci/environments/network/public-bond/nic-configs/ceph-storage.yaml', 'net-config-undercloud.j2.yaml', 'network/config/bond-with-vlans/controller-no-external.j2.yaml', 'deployed-server/README.rst', 'network/config/multiple-nics/compute-dvr.j2.yaml', 'ci/environments/network/multiple-nics/nic-configs/compute.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/swift-storage.yaml', 'network/config/2-linux-bonds-vlans/role.role.j2.yaml', 'ci/common/net-config-simple-bridge.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/controller.yaml', 'network/config/single-nic-vlans/controller-v6.j2.yaml', 'ci/environments/network/multiple-nics/nic-configs/controller.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/cinder-storage.yaml', 'net-config-bond.j2.yaml', 'network/config/bond-with-vlans/role.role.j2.yaml', 'extraconfig/post_deploy/undercloud_ctlplane_network.py', 'net-config-noop.j2.yaml', 'environments/undercloud.yaml', 'net-config-static-bridge.j2.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/ceph-storage.yaml', 'ci/environments/network/multiple-nics/nic-configs/compute-dvr.yaml', 'ci/environments/network/multiple-nics/nic-configs/swift-storage.yaml', 'network/config/bond-with-vlans/controller-v6.j2.yaml', 'ci/environments/network/public-bond/nic-configs/swift-storage.yaml', 'network/config/multiple-nics/role.role.j2.yaml', 'tools/yaml-validate.py', 'ci/environments/network/public-bond/nic-configs/controller.yaml', 'ci/environments/network/public-bond/nic-configs/compute.yaml', 'net-config-static.j2.yaml', 'ci/common/net-config-multinode.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/compute-dvr.yaml', 'ci/environments/network/public-bond/nic-configs/cinder-storage.yaml', 'ci/environments/network/multiple-nics/nic-configs/cinder-storage.yaml', 'network/config/single-nic-linux-bridge-vlans/role.role.j2.yaml', 'deployed-server/deployed-server-environment-output.yaml', 'network/config/multiple-nics/controller-v6.j2.yaml', 'network/config/single-nic-vlans/role.role.j2.yaml', 'net-config-bridge.j2.yaml', 'releasenotes/notes/remove-ec2metadata-parameter-36e75f70d2322e55.yaml', 'ci/environments/network/multiple-nics/nic-configs/ceph-storage.yaml', 'network/config/single-nic-linux-bridge-vlans/controller-v6.j2.yaml']",49,b0f3a979178c27364ac949dd01202dfed116e9d7,bp/nova-less-deploy, - - default: true # NOTE(hjensas): This is the IPv4 default route, EC2MetadataIp: default: '' description: The IP address of the EC2 metadata server. (The parameter is automatically resolved from the ctlplane subnet's host_routes attribute.) type: string - - ip_netmask: 169.254.169.254/32 next_hop: get_param: EC2MetadataIp - default: true # NOTE(hjensas): This is the IPv4 default route,36,345
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ifaf692643f21f2ae30557b251ae58a9b32fbb143,openstack/tripleo-heat-templates,stable/stein,Ifaf692643f21f2ae30557b251ae58a9b32fbb143,"swift: ensure we get rsyslog state ""--check"" mode",MERGED,2019-07-08 13:33:10.000000000,2019-07-09 19:15:47.000000000,2019-07-09 19:15:46.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-08 13:33:10.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e022668a0caa7aaf183a8e22dc2933f334e8fe5f', 'message': 'swift: ensure we get rsyslog state ""--check"" mode\n\nEnsure that the logging forwarding tasks do not fail in ansible check\nmode, and we make sure the rsyslog_config is actually defined.\n\nChange-Id: Ifaf692643f21f2ae30557b251ae58a9b32fbb143\nCloses-Bug: #1835415\n(cherry picked from commit 58bf8a207b853dffe70da3ad93b3b90cddd43087)\n'}]",0,669665,e022668a0caa7aaf183a8e22dc2933f334e8fe5f,9,4,1,3153,,,0,"swift: ensure we get rsyslog state ""--check"" mode

Ensure that the logging forwarding tasks do not fail in ansible check
mode, and we make sure the rsyslog_config is actually defined.

Change-Id: Ifaf692643f21f2ae30557b251ae58a9b32fbb143
Closes-Bug: #1835415
(cherry picked from commit 58bf8a207b853dffe70da3ad93b3b90cddd43087)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/669665/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/swift/swift-storage-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml']",2,e022668a0caa7aaf183a8e22dc2933f334e8fe5f,bug/1835415-stable/stein, when: - rsyslog_config is changed - rsyslog_config.rc == 0, when: rsyslog_config.rc == 0,6,2
openstack%2Ftripleo-puppet-elements~stable%2Fstein~Iaabaf571f6ec3c08db16a309a845d3bd4c150e1a,openstack/tripleo-puppet-elements,stable/stein,Iaabaf571f6ec3c08db16a309a845d3bd4c150e1a,Stop and disable libvirtd service on controller,MERGED,2019-07-09 09:18:42.000000000,2019-07-09 19:15:46.000000000,2019-07-09 19:15:45.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-09 09:18:42.000000000', 'files': ['elements/overcloud-controller/post-install.d/51-disable-libvirtd-service'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/c89fe3cd9285c0bde97ceeebe9053fdc3a30b7d7', 'message': 'Stop and disable libvirtd service on controller\n\nThe libvirtd service is enabled and running unnecessarily on\ncontroller node.\nThis change disables and stop the libvirtd service on controller\nnodes.\n\nChange-Id: Iaabaf571f6ec3c08db16a309a845d3bd4c150e1a\n(cherry picked from commit 6a1b92d402f427e558101589e6d8145f880b2ccf)\n'}]",0,669820,c89fe3cd9285c0bde97ceeebe9053fdc3a30b7d7,9,6,1,20733,,,0,"Stop and disable libvirtd service on controller

The libvirtd service is enabled and running unnecessarily on
controller node.
This change disables and stop the libvirtd service on controller
nodes.

Change-Id: Iaabaf571f6ec3c08db16a309a845d3bd4c150e1a
(cherry picked from commit 6a1b92d402f427e558101589e6d8145f880b2ccf)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/20/669820/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-controller/post-install.d/51-disable-libvirtd-service'],1,c89fe3cd9285c0bde97ceeebe9053fdc3a30b7d7,disable_libvirt-stable/stein,#!/bin/bash set -eux set -o pipefail systemctl stop libvirtd systemctl disable libvirtd ,,7,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb,openstack/tripleo-heat-templates,stable/stein,I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb,Move nova cell v2 discovery to deploy_steps_tasks,MERGED,2019-07-09 07:09:18.000000000,2019-07-09 19:15:44.000000000,2019-07-09 19:15:44.000000000,"[{'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-09 07:09:18.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml', 'releasenotes/notes/nova_move_host_discovery_to_external_post_deploy_tasks-e978560ee59b8b56.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'container_config_scripts/nova_cell_v2_discover_hosts.py', 'deployment/nova/nova-compute-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b82417126b53d602d3df28ce0d7d2b31a9e5f1c4', 'message': 'Move nova cell v2 discovery to deploy_steps_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to be an ansible\ndeploy_steps_tasks that it gets triggered even if --skip-deploy-identifier\nis used, or the compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n(cherry picked from commit f8779e5023c7b5dd54dd879d4f5431ed4742e9e1)\n'}]",0,669802,b82417126b53d602d3df28ce0d7d2b31a9e5f1c4,9,7,1,17216,,,0,"Move nova cell v2 discovery to deploy_steps_tasks

Recent changes for e.g edge scenarios caused intended move of discovery
from controller to bootstrap compute node. The task is triggered by
deploy-identifier to make sure it gets run on any deploy,scale, ... run.
If deploy run is triggered with --skip-deploy-identifier flag, discovery
will not be triggered at and as result causing failures in previously
supported scenarios.
This change moves the host discovery task to be an ansible
deploy_steps_tasks that it gets triggered even if --skip-deploy-identifier
is used, or the compute bootstrap node is blacklisted.

Closes-Bug: #1831711

Change-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb
(cherry picked from commit f8779e5023c7b5dd54dd879d4f5431ed4742e9e1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/669802/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-ironic-container-puppet.yaml', 'releasenotes/notes/nova_move_host_discovery_to_external_post_deploy_tasks-e978560ee59b8b56.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'container_config_scripts/nova_cell_v2_discover_hosts.py', 'deployment/nova/nova-compute-common-container-puppet.yaml']",5,b82417126b53d602d3df28ce0d7d2b31a9e5f1c4,bug/1831711," nova_compute_common_deploy_steps_tasks: description: Common host prep tasks for nova-compute services (compute + ironic) value: &nova_compute_common_deploy_steps_tasks - when: step|int == 5 block: - name: discover via nova_compute? set_fact: delegate_host: ""{{ groups['nova_compute'][0] }}"" when: - groups['nova_compute'] is defined and (groups['nova_compute']|length>0) - name: discover via nova_ironic? set_fact: delegate_host: ""{{ groups['nova_ironic'][0] }}"" when: - delegate_host is not defined - groups['nova_ironic'] is defined and (groups['nova_ironic']|length>0) - name: Discovering nova hosts command: ""{{ container_cli }} exec nova_compute nova-manage cell_v2 discover_hosts --by-service"" become: true changed_when: False when: - delegate_host is defined - inventory_hostname == delegate_host"," nova_cell_v2_discover_hosts.py: mode: ""0755"" content: { get_file: ../../container_config_scripts/nova_cell_v2_discover_hosts.py }",38,114
openstack%2Fpuppet-tripleo~master~I3fa07e28c4e37197890664d12a265f1673c780f2,openstack/puppet-tripleo,master,I3fa07e28c4e37197890664d12a265f1673c780f2,Close OVN VIP race by adding an ordering constraint,MERGED,2019-07-08 06:54:55.000000000,2019-07-09 19:15:43.000000000,2019-07-09 19:15:43.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-07-08 06:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d1fbdb58748ec966ddbc521e7b7cc6fcf528298b', 'message': 'WIP OVN VIP ordering constraint\n\nNB: seems by default ovn_dbs uses the internal_api VIP, so we cannot\nreally remove the haproxy constraints that easily (unless we remove them\nfor all nodes)\n\nChange-Id: I3fa07e28c4e37197890664d12a265f1673c780f2\n'}, {'number': 2, 'created': '2019-07-08 20:08:18.000000000', 'files': ['manifests/profile/pacemaker/ovn_dbs_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5c10f331977152d4e69e91ed67cd14304cef6a18', 'message': ""Close OVN VIP race by adding an ordering constraint\n\nCurrently there is a race with the high-availability of ovn when resetting a\ncontroller. Namely, the VIP that OVN uses (namely the internal_api VIP\nby default) only has a colocation constraint with the master role of the\novn-dbs resource. This leaves the following race open:\n1) We reboot ctrl-0 hosting the master role of ovn-dbs\n2) OVN becomes master on ctrl-1 from pacemaker's POV (but the\n   promotion operation running in the background is not completed)\n3) OVN VIP moves to ctrl-1 even though it is still in slave mode\n  (there is only a colocation constraint between vip and master role for\novn)\n4) OVN controllers on the overcloud connect to the VIP but it is in\n  read-only mode because it was a slave\n5) OVN controllers that connected at 4) stay in read-only forever\n   until they get restarted manually.\n\nWith the addition of this constraint we force the VIP move only after\nthe master role has been promoted. This makes it much more unlikely\nfor a client to connect to the VIP and get a read-only db in the\nbackground. With only this patch applied I did not manage to reproduce\nthe issue (even after 7 reboots of controllers).\nNote that there is still a small race window possible because the\ncurrent OVN resource agent has a bug: it promotes a resource to master\nafter issuing the promotion command to the DB but without waiting for\nthis promotion to complete. A patch for OVN-ra will also be submitted\nbut from initial testing this change seems to be largely sufficient.\n\nAlso note that this change introduces a small less desirable\nside-effect:\nA failover of the internal VIP will now take a bit longer because it\nwill happen only after ovn-dbs gets promoted to master.\nWe plan to take care of this fully by decoupling the OVN VIP from the\ninternal_api one. This change addresses the immediate issue related\nto ovn_controllers being stuck in read-only due to premature promotion.\n(OVN upstream is discussing how to make connections to read-only VIP\ntrigger a reconnection eventually)\n\nCloses-Bug: #1835830\n\nChange-Id: I3fa07e28c4e37197890664d12a265f1673c780f2\n""}]",0,669610,5c10f331977152d4e69e91ed67cd14304cef6a18,14,6,2,20172,,,0,"Close OVN VIP race by adding an ordering constraint

Currently there is a race with the high-availability of ovn when resetting a
controller. Namely, the VIP that OVN uses (namely the internal_api VIP
by default) only has a colocation constraint with the master role of the
ovn-dbs resource. This leaves the following race open:
1) We reboot ctrl-0 hosting the master role of ovn-dbs
2) OVN becomes master on ctrl-1 from pacemaker's POV (but the
   promotion operation running in the background is not completed)
3) OVN VIP moves to ctrl-1 even though it is still in slave mode
  (there is only a colocation constraint between vip and master role for
ovn)
4) OVN controllers on the overcloud connect to the VIP but it is in
  read-only mode because it was a slave
5) OVN controllers that connected at 4) stay in read-only forever
   until they get restarted manually.

With the addition of this constraint we force the VIP move only after
the master role has been promoted. This makes it much more unlikely
for a client to connect to the VIP and get a read-only db in the
background. With only this patch applied I did not manage to reproduce
the issue (even after 7 reboots of controllers).
Note that there is still a small race window possible because the
current OVN resource agent has a bug: it promotes a resource to master
after issuing the promotion command to the DB but without waiting for
this promotion to complete. A patch for OVN-ra will also be submitted
but from initial testing this change seems to be largely sufficient.

Also note that this change introduces a small less desirable
side-effect:
A failover of the internal VIP will now take a bit longer because it
will happen only after ovn-dbs gets promoted to master.
We plan to take care of this fully by decoupling the OVN VIP from the
internal_api one. This change addresses the immediate issue related
to ovn_controllers being stuck in read-only due to premature promotion.
(OVN upstream is discussing how to make connections to read-only VIP
trigger a reconnection eventually)

Closes-Bug: #1835830

Change-Id: I3fa07e28c4e37197890664d12a265f1673c780f2
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/10/669610/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/ovn_dbs_bundle.pp'],1,d1fbdb58748ec966ddbc521e7b7cc6fcf528298b,ovn-fixes," pacemaker::constraint::order { ""${ovndb_vip_resource_name}-with-${ovndb_servers_resource_name}"": first_resource => 'ovn-dbs-bundle', second_resource => ""${ovndb_vip_resource_name}"", first_action => 'promote', second_action => 'start', constraint_params => 'kind=Optional', tries => $pcs_tries, } -> Pacemaker::Constraint::Order[""${ovndb_vip_resource_name}-with-${ovndb_servers_resource_name}""] -> Pacemaker::Constraint::Colocation[""${ovndb_vip_resource_name}-with-${ovndb_servers_resource_name}""]"," -> Pacemaker::Constraint::Colocation[""${ovndb_vip_resource_name}-with-${ovndb_servers_resource_name}""]",11,1
openstack%2Ftripleo-common~stable%2Fstein~I6407cb123beb77b7441602ecb36da94f99460b0b,openstack/tripleo-common,stable/stein,I6407cb123beb77b7441602ecb36da94f99460b0b,Add sudo commands for validations tempfile created in Python3,MERGED,2019-07-09 08:14:57.000000000,2019-07-09 19:15:42.000000000,2019-07-09 19:15:42.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-09 08:14:57.000000000', 'files': ['sudoers'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/038daa061a46df7894db55e9796c3f972a8c125d', 'message': ""Add sudo commands for validations tempfile created in Python3\n\nIn Python2, the mkstemp function generates a random name sequence of six\ncharacters long while in Python3 the random name sequence is composed\nof eight characters long.\n\nUnfortunately, 'sudo' doesn't support [A-Za-Z0-9_]{6,8}!\n\nChange-Id: I6407cb123beb77b7441602ecb36da94f99460b0b\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 1ebdaa70c909eafa38a05f0ec1b861fdb90c6b92)\n""}]",0,669812,038daa061a46df7894db55e9796c3f972a8c125d,9,9,1,11491,,,0,"Add sudo commands for validations tempfile created in Python3

In Python2, the mkstemp function generates a random name sequence of six
characters long while in Python3 the random name sequence is composed
of eight characters long.

Unfortunately, 'sudo' doesn't support [A-Za-Z0-9_]{6,8}!

Change-Id: I6407cb123beb77b7441602ecb36da94f99460b0b
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 1ebdaa70c909eafa38a05f0ec1b861fdb90c6b92)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/12/669812/1 && git format-patch -1 --stdout FETCH_HEAD,['sudoers'],1,038daa061a46df7894db55e9796c3f972a8c125d,validations_tempfile_python3-stable/stein," /usr/bin/chown -h validations\: /tmp/validations_identity_[A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_], \ /usr/bin/chown -h validations\: /tmp/validations_inputs_[A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_], \ /usr/bin/rm -f /tmp/validations_identity_[A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_], \ /usr/bin/rm -f /tmp/validations_inputs_[A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_], \validations ALL = NOPASSWD: ALL",validations ALL = NOPASSWD: ALL ,5,1
openstack%2Ftripleo-common~stable%2Fstein~I7fba881645ec2ea167c064be07ed6d4281b7ed3d,openstack/tripleo-common,stable/stein,I7fba881645ec2ea167c064be07ed6d4281b7ed3d,Handle registries with incorrect certs correctly,MERGED,2019-07-08 21:40:54.000000000,2019-07-09 19:15:41.000000000,2019-07-09 19:15:41.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-08 21:40:54.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c053ac5eb0415689a5cfa50adcd1aa66cc027f10', 'message': 'Handle registries with incorrect certs correctly\n\nWe actually end up allowing registries with incorrect certificates in\nthe upload code so they get treated the same as inscure registries.\nThis change updates the return code of the is_insecure_registry to match\nhow we handle these registries in the image uploader. Additionally, this\nmeans that when the container image prepare code runs, we will correctly\ninclude these registries that have ssl enabled but incorrect\ncertificates will correctly be included in the\nDockerInsecureRegistryAddress setting.\n\nChange-Id: I7fba881645ec2ea167c064be07ed6d4281b7ed3d\nCloses-Bug: #1833751\n(cherry picked from commit 51d723a9ff0d7af47d1974a8e77fe7187e57357b)\n'}]",0,669761,c053ac5eb0415689a5cfa50adcd1aa66cc027f10,7,3,1,3153,,,0,"Handle registries with incorrect certs correctly

We actually end up allowing registries with incorrect certificates in
the upload code so they get treated the same as inscure registries.
This change updates the return code of the is_insecure_registry to match
how we handle these registries in the image uploader. Additionally, this
means that when the container image prepare code runs, we will correctly
include these registries that have ssl enabled but incorrect
certificates will correctly be included in the
DockerInsecureRegistryAddress setting.

Change-Id: I7fba881645ec2ea167c064be07ed6d4281b7ed3d
Closes-Bug: #1833751
(cherry picked from commit 51d723a9ff0d7af47d1974a8e77fe7187e57357b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/61/669761/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,c053ac5eb0415689a5cfa50adcd1aa66cc027f10,bug/1833751-stable/stein," if (registry_host in self.insecure_registries or registry_host in self.no_verify_registries): # Techinically these type of registries are insecure when # the container engine tries to do a pull. The python uploader # ignores the certificate problem, but they are still inscure # so we return True here while we'll still use https when we # access the registry. LP#1833751 return True", if registry_host in self.insecure_registries: return False,20,2
openstack%2Fopenstack-virtual-baremetal~stable%2F1.0~Id87f061db0481134303da9ebaf057e039dedace5,openstack/openstack-virtual-baremetal,stable/1.0,Id87f061db0481134303da9ebaf057e039dedace5,Removed deprecated --centos-mirror param,MERGED,2019-07-08 12:59:41.000000000,2019-07-09 19:01:56.000000000,2019-07-09 19:01:56.000000000,"[{'_account_id': 6928}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-07-08 12:59:41.000000000', 'files': ['bin/ovb-instack'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/07debc3613d83dca8c4981b0cd1c760c4a496ec6', 'message': 'Removed deprecated --centos-mirror param\n\nReplaces --centos-mirror with --mirror as we are going to remove\nthe old parameter completely. Deprecation was made a very long time ago.\n\nChange-Id: Id87f061db0481134303da9ebaf057e039dedace5\n'}]",0,669654,07debc3613d83dca8c4981b0cd1c760c4a496ec6,13,6,1,24162,,,0,"Removed deprecated --centos-mirror param

Replaces --centos-mirror with --mirror as we are going to remove
the old parameter completely. Deprecation was made a very long time ago.

Change-Id: Id87f061db0481134303da9ebaf057e039dedace5
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/54/669654/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/ovb-instack'],1,07debc3613d83dca8c4981b0cd1c760c4a496ec6,centos-mirror,sudo tripleo-repos current-tripleo-dev --rdo-mirror http://mirror.regionone.rdo-cloud.rdoproject.org:8080/rdo --mirror http://mirror.regionone.rdo-cloud.rdoproject.org,sudo tripleo-repos current-tripleo-dev --rdo-mirror http://mirror.regionone.rdo-cloud.rdoproject.org:8080/rdo --centos-mirror http://mirror.regionone.rdo-cloud.rdoproject.org,1,1
openstack%2Fpython-swiftclient~master~I0573c7feaea991e6b33bdee6dc358c9206a9bfd8,openstack/python-swiftclient,master,I0573c7feaea991e6b33bdee6dc358c9206a9bfd8,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-03 07:01:58.000000000,2019-07-09 18:52:56.000000000,2019-07-09 18:52:55.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 07:01:58.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/591c3e23804519f405a6645232c2246b173b5e75', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I0573c7feaea991e6b33bdee6dc358c9206a9bfd8\n'}]",0,668799,591c3e23804519f405a6645232c2246b173b5e75,6,2,1,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I0573c7feaea991e6b33bdee6dc358c9206a9bfd8
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/99/668799/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py']",4,591c3e23804519f405a6645232c2246b173b5e75,openstackdocstheme,,"project = u'Swift Client Release Notes'# Release notes are version independent. # The short X.Y version. version = '' # The full version, including alpha/beta/rc tags. release = '' # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # html_last_updated_fmt = '%b %d, %Y' html_last_updated_fmt = '%Y-%m-%d %H:%M' ",2,23
openstack%2Fpython-keystoneclient~master~I69a86ef21791698e4dd749fe5640fcdc7df1b0fc,openstack/python-keystoneclient,master,I69a86ef21791698e4dd749fe5640fcdc7df1b0fc,Blacklist bandit 1.6.0 & cap sphinx for 2.7,MERGED,2019-05-22 08:53:04.000000000,2019-07-09 18:40:58.000000000,2019-07-09 18:40:58.000000000,"[{'_account_id': 6928}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-05-22 08:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/a586c3fe71de4b497c8170e71cded05daf458d74', 'message': ""Bump bandit version\n\nBandit 1.6.0 changes the behavior of the '-x'\noption so that it now supports glob patterns.\nUpdate our tox file to use to correctly exclude\ntest code from bandit scans. This requires bumping\nour minimum bandit version. For additional details,\nrefer to ML Thread[1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006116.html\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n""}, {'number': 2, 'created': '2019-05-22 08:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/c08964c8b210865dfdc79594176971515bd812a7', 'message': ""Bump bandit version\n\nBandit 1.6.0 changes the behavior of the '-x'\noption so that it now supports glob patterns.\nUpdate our tox file to use to correctly exclude\ntest code from bandit scans. This requires bumping\nour minimum bandit version. For additional details,\nrefer to ML Thread[1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006116.html\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n""}, {'number': 3, 'created': '2019-05-22 09:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/2ebf5201e99ceb40a03dde99a608e28b4c211fcd', 'message': ""Bump bandit version\n\nBandit 1.6.0 changes the behavior of the '-x'\noption so that it now supports glob patterns.\nUpdate our tox file to use to correctly exclude\ntest code from bandit scans. This requires bumping\nour minimum bandit version. For additional details,\nrefer to ML Thread[1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006116.html\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n""}, {'number': 4, 'created': '2019-05-22 09:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/e161d6199fb429b36e798f7d197d1f3e63247e7c', 'message': ""Bump bandit version\n\nBandit 1.6.0 changes the behavior of the '-x'\noption so that it now supports glob patterns.\nUpdate our tox file to use to correctly exclude\ntest code from bandit scans. This requires bumping\nour minimum bandit version. For additional details,\nrefer to ML Thread[1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006116.html\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n""}, {'number': 5, 'created': '2019-05-23 05:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/3f51894718867d56af84ff74970eacc9ae55ba56', 'message': ""Bump bandit version\n\nBandit 1.6.0 changes the behavior of the '-x'\noption so that it now supports glob patterns.\nUpdate our tox file to use to correctly exclude\ntest code from bandit scans. This requires bumping\nour minimum bandit version. For additional details,\nrefer to ML Thread[1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006116.html\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n""}, {'number': 6, 'created': '2019-05-23 08:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/3cd05413053df6077c4d421d3282a0d2d8cff82a', 'message': ""Bump bandit version\n\nBandit 1.6.0 changes the behavior of the '-x'\noption so that it now supports glob patterns.\nUpdate our tox file to use to correctly exclude\ntest code from bandit scans. This requires bumping\nour minimum bandit version. For additional details,\nrefer to ML Thread[1]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006116.html\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n""}, {'number': 7, 'created': '2019-05-23 10:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/9a1f0ba546a855053e7abebc7ce2bd3e615982ff', 'message': 'Blacklist bandit 1.6.0 & cap sphinx for 2.7\n\nThe latest version of bandit has broken directory\nexclusion, so multiple test files are getting flagged.\nThis change blocks version 1.6.0 while this issue is\nfixed for 1.6.1. This change also caps sphinx\nat <2.0.0 for python version 2.7.\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n'}, {'number': 8, 'created': '2019-05-23 10:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/0cd8c9d907bf021d1a2e7cd2e1a9bdeeba0f8773', 'message': 'Blacklist bandit 1.6.0 & cap sphinx for 2.7\n\nThe latest version of bandit has broken directory\nexclusion, so multiple test files are getting flagged.\nThis change blocks version 1.6.0 while this issue is\nfixed for 1.6.1. This change also caps sphinx\nat <2.0.0 for python version 2.7.\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n'}, {'number': 9, 'created': '2019-05-24 10:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/7437101c7d52a07dc66449ce815be031f966a29d', 'message': 'Blacklist bandit 1.6.0 & cap sphinx for 2.7\n\nThe latest version of bandit has broken directory\nexclusion, so multiple test files are getting flagged.\nThis change blocks version 1.6.0 while this issue is\nfixed for 1.6.1. This change also caps sphinx\nat <2.0.0 for python version 2.7.\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n'}, {'number': 10, 'created': '2019-05-29 06:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/dac479decf41972a1b36a3efd19816d31299b125', 'message': 'Blacklist bandit 1.6.0 & cap sphinx for 2.7\n\nThe latest version of bandit has broken directory\nexclusion, so multiple test files are getting flagged.\nThis change blocks version 1.6.0 while this issue is\nfixed for 1.6.1. This change also caps sphinx\nat <2.0.0 for python version 2.7.\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n'}, {'number': 11, 'created': '2019-05-30 06:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/364465509b7259f8dd938b0a3b24a8d6f60ba282', 'message': 'Blacklist bandit 1.6.0 & cap sphinx for 2.7\n\nThe latest version of bandit has broken directory\nexclusion, so multiple test files are getting flagged.\nThis change blocks version 1.6.0 while this issue is\nfixed for 1.6.1. This change also caps sphinx\nat <2.0.0 for python version 2.7.\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n'}, {'number': 12, 'created': '2019-06-24 06:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/4117e1642efdae22568cefc7855b7f11ba2374b4', 'message': 'Blacklist bandit 1.6.0 & cap sphinx for 2.7\n\nThe latest version of bandit has broken directory\nexclusion, so multiple test files are getting flagged.\nThis change blocks version 1.6.0 while this issue is\nfixed for 1.6.1. This change also caps sphinx\nat <2.0.0 for python version 2.7.\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n'}, {'number': 13, 'created': '2019-06-24 07:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/c1993bca13494e79ffcbaa5a61640a18943826ed', 'message': 'Blacklist bandit 1.6.0 & cap sphinx for 2.7\n\nThe latest version of bandit has broken directory\nexclusion, so multiple test files are getting flagged.\nThis change blocks version 1.6.0 while this issue is\nfixed for 1.6.1. This change also caps sphinx\nat <2.0.0 for python version 2.7.\n\nThis also updates the keyring version.\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n'}, {'number': 14, 'created': '2019-06-24 10:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/1dd3f386578de8c044a68b73075b3938ac6d1f0d', 'message': 'Blacklist bandit 1.6.0 & cap sphinx for 2.7\n\nThe latest version of bandit has broken directory\nexclusion, so multiple test files are getting flagged.\nThis change blocks version 1.6.0 while this issue is\nfixed for 1.6.1. This change also caps sphinx\nat <2.0.0 for python version 2.7.\n\nThis also updates the keyring version.\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n'}, {'number': 15, 'created': '2019-06-25 08:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/3d5ab3b2b5e3f92aebba32f5b2260576c477aa07', 'message': 'Blacklist bandit 1.6.0 & cap sphinx for 2.7\n\nThe latest version of bandit has broken directory\nexclusion, so multiple test files are getting flagged.\nThis change blocks version 1.6.0 while this issue is\nfixed for 1.6.1. This change also caps sphinx\nat <2.0.0 for python version 2.7.\n\nThis also updates the keyring version.\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n'}, {'number': 16, 'created': '2019-06-25 09:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/3ae150015415cdaa42b33814a9d9175ce910505b', 'message': 'Blacklist bandit 1.6.0 & cap sphinx for 2.7\n\nThe latest version of bandit has broken directory\nexclusion, so multiple test files are getting flagged.\nThis change blocks version 1.6.0 while this issue is\nfixed for 1.6.1. This change also caps sphinx\nat <2.0.0 for python version 2.7.\n\nThis also updates the keyring version.\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n'}, {'number': 17, 'created': '2019-06-26 10:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/94f16e73b92788447c18fd4981d2ec726f62b73d', 'message': 'Blacklist bandit 1.6.0 & cap sphinx for 2.7\n\nThe latest version of bandit has broken directory\nexclusion, so multiple test files are getting flagged.\nThis change blocks version 1.6.0 while this issue is\nfixed for 1.6.1. This change also caps sphinx\nat <2.0.0 for python version 2.7.\n\nThis also updates the keyring version.\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n'}, {'number': 18, 'created': '2019-07-01 05:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/371c86063a16d7a6812a143f6d45a667931f3063', 'message': 'Blacklist bandit 1.6.0 & cap sphinx for 2.7\n\nThe latest version of bandit has broken directory\nexclusion, so multiple test files are getting flagged.\nThis change blocks version 1.6.0 while this issue is\nfixed for 1.6.1. This change also caps sphinx\nat <2.0.0 for python version 2.7.\n\nThis also updates the keyring version.\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n'}, {'number': 19, 'created': '2019-07-02 22:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/828fa6f5248cfa8b7ee031cc6745ca7703752c63', 'message': 'Blacklist bandit 1.6.0 & cap sphinx for 2.7\n\nThe latest version of bandit has broken directory\nexclusion, so multiple test files are getting flagged.\nThis change blocks version 1.6.0 while this issue is\nfixed for 1.6.1. This change also caps sphinx\nat <2.0.0 for python version 2.7.\n\nThis also syncs the keyring version with global-requirements.\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n'}, {'number': 20, 'created': '2019-07-03 06:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/cfcc8240dc79058f98986ee69370b0d439b36034', 'message': 'Blacklist bandit 1.6.0 & cap sphinx for 2.7\n\nThe latest version of bandit has broken directory\nexclusion, so multiple test files are getting flagged.\nThis change blocks version 1.6.0 while this issue is\nfixed for 1.6.1. This change also caps sphinx\nat <2.0.0 for python version 2.7.\n\nThis also updates the keyring version.\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n'}, {'number': 21, 'created': '2019-07-04 04:47:14.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/319fd1a5321cb4271969886beed82c975b80d024', 'message': 'Blacklist bandit 1.6.0 & cap sphinx for 2.7\n\nThe latest version of bandit has broken directory\nexclusion, so multiple test files are getting flagged.\nThis change blocks version 1.6.0 while this issue is\nfixed for 1.6.1. This change also caps sphinx\nat <2.0.0 for python version 2.7.\n\nThis also updates the keyring version.\n\nChange-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc\n'}]",2,660609,319fd1a5321cb4271969886beed82c975b80d024,51,5,21,27621,,,0,"Blacklist bandit 1.6.0 & cap sphinx for 2.7

The latest version of bandit has broken directory
exclusion, so multiple test files are getting flagged.
This change blocks version 1.6.0 while this issue is
fixed for 1.6.1. This change also caps sphinx
at <2.0.0 for python version 2.7.

This also updates the keyring version.

Change-Id: I69a86ef21791698e4dd749fe5640fcdc7df1b0fc
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/09/660609/16 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,a586c3fe71de4b497c8170e71cded05daf458d74,660579, bandit -r keystoneclient -x -n5 keystone/tests/*commands = bandit -r keystoneclient -x -n5 keystone/tests/*, bandit -r keystoneclient -x tests -n5commands = bandit -r keystoneclient -x tests -n5,3,3
openstack%2Fopenstack-virtual-baremetal~master~Ieb2a2fb1b9fe5927d97409c0b626033c548fd92e,openstack/openstack-virtual-baremetal,master,Ieb2a2fb1b9fe5927d97409c0b626033c548fd92e,Removed deprecated --centos-mirror param,MERGED,2019-07-05 16:46:59.000000000,2019-07-09 18:35:35.000000000,2019-07-09 18:35:35.000000000,"[{'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 8175}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-07-05 16:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/71ad6d88d0c6321259d5edfc8498ba396a8dc31e', 'message': 'Removed deprecarted --centos-mirror param\n\nReplaces --centos-mirror with newer --mirror as we are going to remove\nthe old parameter completely.\n\nChange-Id: Ieb2a2fb1b9fe5927d97409c0b626033c548fd92e\n'}, {'number': 2, 'created': '2019-07-05 16:49:30.000000000', 'files': ['bin/ovb-instack'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/4e9d78201e791ccaa39e89d667ba018623105b22', 'message': 'Removed deprecated --centos-mirror param\n\nReplaces --centos-mirror with --mirror as we are going to remove\nthe old parameter completely. Deprecation was made a very long time ago.\n\nChange-Id: Ieb2a2fb1b9fe5927d97409c0b626033c548fd92e\n'}]",0,669396,4e9d78201e791ccaa39e89d667ba018623105b22,19,10,2,24162,,,0,"Removed deprecated --centos-mirror param

Replaces --centos-mirror with --mirror as we are going to remove
the old parameter completely. Deprecation was made a very long time ago.

Change-Id: Ieb2a2fb1b9fe5927d97409c0b626033c548fd92e
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/96/669396/2 && git format-patch -1 --stdout FETCH_HEAD,['bin/ovb-instack'],1,71ad6d88d0c6321259d5edfc8498ba396a8dc31e,centos-mirror,sudo tripleo-repos -b rocky current --rdo-mirror http://mirror.regionone.rdo-cloud.rdoproject.org:8080/rdo --mirror http://mirror.regionone.rdo-cloud.rdoproject.org,sudo tripleo-repos -b rocky current --rdo-mirror http://mirror.regionone.rdo-cloud.rdoproject.org:8080/rdo --centos-mirror http://mirror.regionone.rdo-cloud.rdoproject.org,1,1
openstack%2Fneutron-tempest-plugin~master~I979edd26264ae5f9ceab2da350bc99c40145ec40,openstack/neutron-tempest-plugin,master,I979edd26264ae5f9ceab2da350bc99c40145ec40,Migrate neutron-fwaas tests to neutron-tempest-plugin,MERGED,2019-03-15 19:18:31.000000000,2019-07-09 18:14:19.000000000,2019-07-09 18:14:19.000000000,"[{'_account_id': 4694}, {'_account_id': 6995}, {'_account_id': 8911}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-03-15 19:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/99e400a0d3d6107709b1467af27d5a298a1c8cf4', 'message': 'Migrate neutron-fwaas tests to neutron-tempest-plugin\n\nAs discussed in the neutron_c1 meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins.  This is the first part of a\ntwo stage move, by copying over the tempest tests to the\nneutron-tempest-plugin repo [2] rather than spawning new repos to be\nseparate.\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: I979edd26264ae5f9ceab2da350bc99c40145ec40\n'}, {'number': 2, 'created': '2019-03-15 19:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/68aa576c38fa7bd509ff4efdd91a26f336092046', 'message': 'Migrate neutron-fwaas tests to neutron-tempest-plugin\n\nAs discussed in the neutron_c1 meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins.  This is the first part of a\ntwo stage move, by copying over the tempest tests to the\nneutron-tempest-plugin repo [2] rather than spawning new repos to be\nseparate.\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: I979edd26264ae5f9ceab2da350bc99c40145ec40\n'}, {'number': 3, 'created': '2019-03-15 19:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f197dcaedbd1d30cde8d30fb5c7a1818ae2e4d21', 'message': 'Migrate neutron-fwaas tests to neutron-tempest-plugin\n\nAs discussed in the neutron_c1 meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins.  This is the first part of a\ntwo stage move, by copying over the tempest tests to the\nneutron-tempest-plugin repo [2] rather than spawning new repos to be\nseparate.\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nChange-Id: I979edd26264ae5f9ceab2da350bc99c40145ec40\n'}, {'number': 4, 'created': '2019-04-02 19:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ea10ffad6bcba094f610d7dfe4927204d27429f6', 'message': 'Migrate neutron-fwaas tests to neutron-tempest-plugin\n\nAs discussed in the neutron_c1 meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins.  This is the first part of a\ntwo stage move, by copying over the tempest tests to the\nneutron-tempest-plugin repo [2] rather than spawning new repos to be\nseparate.\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nNeeded-By: https://review.openstack.org/643668\nChange-Id: I979edd26264ae5f9ceab2da350bc99c40145ec40\n'}, {'number': 5, 'created': '2019-04-09 16:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ac9c47d561945457bc9539c18f87fbffdcca6e66', 'message': 'Migrate neutron-fwaas tests to neutron-tempest-plugin\n\nAs discussed in the neutron_c1 meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins.  This is the first part of a\ntwo stage move, by copying over the tempest tests to the\nneutron-tempest-plugin repo [2] rather than spawning new repos to be\nseparate.\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nNeeded-By: https://review.openstack.org/643668\nChange-Id: I979edd26264ae5f9ceab2da350bc99c40145ec40\n'}, {'number': 6, 'created': '2019-04-09 19:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/034433f79f0fb7010a2cafd070c4c0ae7e911422', 'message': 'Migrate neutron-fwaas tests to neutron-tempest-plugin\n\nAs discussed in the neutron_c1 meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins.  This is the first part of a\ntwo stage move, by copying over the tempest tests to the\nneutron-tempest-plugin repo [2] rather than spawning new repos to be\nseparate.\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nNeeded-By: https://review.openstack.org/643668\nChange-Id: I979edd26264ae5f9ceab2da350bc99c40145ec40\n'}, {'number': 7, 'created': '2019-04-09 19:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/68087f678a69d3e71641a711df5b71e0f2d74d5a', 'message': 'Migrate neutron-fwaas tests to neutron-tempest-plugin\n\nAs discussed in the neutron_c1 meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins.  This is the first part of a\ntwo stage move, by copying over the tempest tests to the\nneutron-tempest-plugin repo [2] rather than spawning new repos to be\nseparate.\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nNeeded-By: https://review.openstack.org/643668\nChange-Id: I979edd26264ae5f9ceab2da350bc99c40145ec40\n'}, {'number': 8, 'created': '2019-04-23 19:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/da9d458f1b77d5c6a1d4b529188f2d95c1aa7c2f', 'message': 'Migrate neutron-fwaas tests to neutron-tempest-plugin\n\nAs discussed in the neutron_c1 meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins.  This is the first part of a\ntwo stage move, by copying over the tempest tests to the\nneutron-tempest-plugin repo [2] rather than spawning new repos to be\nseparate.\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nNeeded-By: https://review.openstack.org/643668\nChange-Id: I979edd26264ae5f9ceab2da350bc99c40145ec40\n'}, {'number': 9, 'created': '2019-04-24 17:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c05ed52b935e39f51ecc5b75a1fc092c0aa4ddd2', 'message': 'Migrate neutron-fwaas tests to neutron-tempest-plugin\n\nAs discussed in the neutron_c1 meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins.  This is the first part of a\ntwo stage move, by copying over the tempest tests to the\nneutron-tempest-plugin repo [2] rather than spawning new repos to be\nseparate.\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nNeeded-By: https://review.openstack.org/643668\nChange-Id: I979edd26264ae5f9ceab2da350bc99c40145ec40\n'}, {'number': 10, 'created': '2019-04-26 20:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f8a999877d752c0ed3e3eef5d3e448dc8b261173', 'message': 'Migrate neutron-fwaas tests to neutron-tempest-plugin\n\nAs discussed in the neutron_c1 meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins.  This is the first part of a\ntwo stage move, by copying over the tempest tests to the\nneutron-tempest-plugin repo [2] rather than spawning new repos to be\nseparate.\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nNeeded-By: https://review.openstack.org/643668\nChange-Id: I979edd26264ae5f9ceab2da350bc99c40145ec40\n'}, {'number': 11, 'created': '2019-05-21 20:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9bd3fbca7a3f8cc36bd654ccd0826ca876521737', 'message': 'Migrate neutron-fwaas tests to neutron-tempest-plugin\n\nAs discussed in the neutron_c1 meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins.  This is the first part of a\ntwo stage move, by copying over the tempest tests to the\nneutron-tempest-plugin repo [2] rather than spawning new repos to be\nseparate.\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nNeeded-By: https://review.opendev.org/643668\nDepends-On: https://review.opendev.org/660483\nChange-Id: I979edd26264ae5f9ceab2da350bc99c40145ec40\n'}, {'number': 12, 'created': '2019-05-22 19:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1aae768e99ed3c0292189f1e1c982e6509425778', 'message': 'Migrate neutron-fwaas tests to neutron-tempest-plugin\n\nAs discussed in the neutron_c1 meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins.  This is the first part of a\ntwo stage move, by copying over the tempest tests to the\nneutron-tempest-plugin repo [2] rather than spawning new repos to be\nseparate.\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nNeeded-By: https://review.opendev.org/643668\nDepends-On: https://review.opendev.org/660483\nChange-Id: I979edd26264ae5f9ceab2da350bc99c40145ec40\n'}, {'number': 13, 'created': '2019-07-05 21:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/91a44279d995b237f247e4b2b6a46c87f190154e', 'message': 'Migrate neutron-fwaas tests to neutron-tempest-plugin\n\nAs discussed in the neutron_c1 meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins.  This is the first part of a\ntwo stage move, by copying over the tempest tests to the\nneutron-tempest-plugin repo [2] rather than spawning new repos to be\nseparate.\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nNeeded-By: https://review.opendev.org/643668\nDepends-On: https://review.opendev.org/660483\nChange-Id: I979edd26264ae5f9ceab2da350bc99c40145ec40\n'}, {'number': 14, 'created': '2019-07-05 21:45:05.000000000', 'files': ['neutron_tempest_plugin/fwaas/scenario/fwaas_v2_manager.py', 'neutron_tempest_plugin/fwaas/services/v2_client.py', 'neutron_tempest_plugin/fwaas/scenario/__init__.py', '.zuul.yaml', 'neutron_tempest_plugin/fwaas/common/fwaas_v2_client.py', 'neutron_tempest_plugin/fwaas/api/__init__.py', 'neutron_tempest_plugin/fwaas/common/__init__.py', 'neutron_tempest_plugin/fwaas/scenario/fwaas_v2_base.py', 'neutron_tempest_plugin/fwaas/api/fwaas_v2_base.py', 'neutron_tempest_plugin/fwaas/services/__init__.py', 'neutron_tempest_plugin/fwaas/__init__.py', 'neutron_tempest_plugin/fwaas/scenario/test_fwaas_v2.py', 'neutron_tempest_plugin/fwaas/api/test_fwaasv2_extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1d36a20e24689fb7034acfa7d55caff79b018ea6', 'message': 'Migrate neutron-fwaas tests to neutron-tempest-plugin\n\nAs discussed in the neutron_c1 meeting [1] the QA team would like to\nmove the tempest tests for the stadium projects from their repos to\nrepos specific to being tempest plugins.  This is the first part of a\ntwo stage move, by copying over the tempest tests to the\nneutron-tempest-plugin repo [2] rather than spawning new repos to be\nseparate.\n\n[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94\n[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo\n\nNeeded-By: https://review.opendev.org/643668\nDepends-On: https://review.opendev.org/660483\nChange-Id: I979edd26264ae5f9ceab2da350bc99c40145ec40\n'}]",15,643662,1d36a20e24689fb7034acfa7d55caff79b018ea6,60,8,14,13995,,,0,"Migrate neutron-fwaas tests to neutron-tempest-plugin

As discussed in the neutron_c1 meeting [1] the QA team would like to
move the tempest tests for the stadium projects from their repos to
repos specific to being tempest plugins.  This is the first part of a
two stage move, by copying over the tempest tests to the
neutron-tempest-plugin repo [2] rather than spawning new repos to be
separate.

[1] http://eavesdrop.openstack.org/meetings/neutron_ci/2019/neutron_ci.2019-03-12-16.01.log.html#l-94
[2] https://etherpad.openstack.org/p/neutron_stadium_move_to_tempest_plugin_repo

Needed-By: https://review.opendev.org/643668
Depends-On: https://review.opendev.org/660483
Change-Id: I979edd26264ae5f9ceab2da350bc99c40145ec40
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/62/643662/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/api/test_fwaasv2_extensions.py', 'neutron_tempest_plugin/api/fwaas_v2_base.py', 'neutron_tempest_plugin/scenario/fwaas_v2_base.py', '.zuul.yaml', 'neutron_tempest_plugin/scenario/test_fwaas_v2.py', 'neutron_tempest_plugin/common/fwaas_v2_client.py', 'neutron_tempest_plugin/scenario/fwaas_v2_manager.py']",7,99e400a0d3d6107709b1467af27d5a298a1c8cf4,fwaas-tempest-migration,"# Copyright 2012 OpenStack Foundation # Copyright 2013 IBM Corp. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import subprocess import netaddr from oslo_log import log from oslo_utils import netutils from tempest.common import compute from tempest.common.utils.linux import remote_client from tempest.common.utils import net_utils from tempest.common import waiters from tempest import config from tempest.lib.common.utils import data_utils from tempest.lib.common.utils import test_utils from tempest.lib import exceptions as lib_exc import tempest.test CONF = config.CONF LOG = log.getLogger(__name__) class ScenarioTest(tempest.test.BaseTestCase): """"""Base class for scenario tests. Uses tempest own clients. """""" credentials = ['primary'] @classmethod def setup_clients(cls): super(ScenarioTest, cls).setup_clients() # Clients (in alphabetical order) cls.keypairs_client = cls.os_primary.keypairs_client cls.servers_client = cls.os_primary.servers_client # Neutron network client cls.networks_client = cls.os_primary.networks_client cls.ports_client = cls.os_primary.ports_client cls.routers_client = cls.os_primary.routers_client cls.subnets_client = cls.os_primary.subnets_client cls.floating_ips_client = cls.os_primary.floating_ips_client cls.security_groups_client = cls.os_primary.security_groups_client cls.security_group_rules_client = ( cls.os_primary.security_group_rules_client) # Test functions library # # The create_[resource] functions only return body and discard the # resp part which is not used in scenario tests def _create_port(self, network_id, client=None, namestart='port-quotatest', **kwargs): if not client: client = self.ports_client name = data_utils.rand_name(namestart) result = client.create_port( name=name, network_id=network_id, **kwargs) self.assertIsNotNone(result, 'Unable to allocate port') port = result['port'] self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_port, port['id']) return port def create_keypair(self, client=None): if not client: client = self.keypairs_client name = data_utils.rand_name(self.__class__.__name__) # We don't need to create a keypair by pubkey in scenario body = client.create_keypair(name=name) self.addCleanup(client.delete_keypair, name) return body['keypair'] def create_server(self, name=None, image_id=None, flavor=None, validatable=False, wait_until='ACTIVE', clients=None, **kwargs): """"""Wrapper utility that returns a test server. This wrapper utility calls the common create test server and returns a test server. The purpose of this wrapper is to minimize the impact on the code of the tests already using this function. """""" # NOTE(jlanoux): As a first step, ssh checks in the scenario # tests need to be run regardless of the run_validation and # validatable parameters and thus until the ssh validation job # becomes voting in CI. The test resources management and IP # association are taken care of in the scenario tests. # Therefore, the validatable parameter is set to false in all # those tests. In this way create_server just return a standard # server and the scenario tests always perform ssh checks. # Needed for the cross_tenant_traffic test: if clients is None: clients = self.os_primary if name is None: name = data_utils.rand_name(self.__class__.__name__ + ""-server"") vnic_type = CONF.network.port_vnic_type # If vnic_type is configured create port for # every network if vnic_type: ports = [] create_port_body = {'binding:vnic_type': vnic_type, 'namestart': 'port-smoke'} if kwargs: # Convert security group names to security group ids # to pass to create_port if 'security_groups' in kwargs: security_groups = \ clients.security_groups_client.list_security_groups( ).get('security_groups') sec_dict = dict([(s['name'], s['id']) for s in security_groups]) sec_groups_names = [s['name'] for s in kwargs.pop( 'security_groups')] security_groups_ids = [sec_dict[s] for s in sec_groups_names] if security_groups_ids: create_port_body[ 'security_groups'] = security_groups_ids networks = kwargs.pop('networks', []) else: networks = [] # If there are no networks passed to us we look up # for the project's private networks and create a port. # The same behaviour as we would expect when passing # the call to the clients with no networks if not networks: networks = clients.networks_client.list_networks( **{'router:external': False, 'fields': 'id'})['networks'] # It's net['uuid'] if networks come from kwargs # and net['id'] if they come from # clients.networks_client.list_networks for net in networks: net_id = net.get('uuid', net.get('id')) if 'port' not in net: port = self._create_port(network_id=net_id, client=clients.ports_client, **create_port_body) ports.append({'port': port['id']}) else: ports.append({'port': net['port']}) if ports: kwargs['networks'] = ports self.ports = ports tenant_network = self.get_tenant_network() body, servers = compute.create_test_server( clients, tenant_network=tenant_network, wait_until=wait_until, name=name, flavor=flavor, image_id=image_id, **kwargs) self.addCleanup(waiters.wait_for_server_termination, clients.servers_client, body['id']) self.addCleanup(test_utils.call_and_ignore_notfound_exc, clients.servers_client.delete_server, body['id']) server = clients.servers_client.show_server(body['id'])['server'] return server def get_remote_client(self, ip_address, username=None, private_key=None): """"""Get a SSH client to a remote server @param ip_address the server floating or fixed IP address to use for ssh validation @param username name of the Linux account on the remote server @param private_key the SSH private key to use @return a RemoteClient object """""" if username is None: username = CONF.validation.image_ssh_user # Set this with 'keypair' or others to log in with keypair or # username/password. if CONF.validation.auth_method == 'keypair': password = None if private_key is None: private_key = self.keypair['private_key'] else: password = CONF.validation.image_ssh_password private_key = None linux_client = remote_client.RemoteClient(ip_address, username, pkey=private_key, password=password) try: linux_client.validate_authentication() except Exception as e: message = ('Initializing SSH connection to %(ip)s failed. ' 'Error: %(error)s' % {'ip': ip_address, 'error': e}) caller = test_utils.find_test_caller() if caller: message = '(%s) %s' % (caller, message) LOG.exception(message) self._log_console_output() raise return linux_client def _log_console_output(self, servers=None): if not CONF.compute_feature_enabled.console_output: LOG.debug('Console output not supported, cannot log') return if not servers: servers = self.servers_client.list_servers() servers = servers['servers'] for server in servers: try: console_output = self.servers_client.get_console_output( server['id'])['output'] LOG.debug('Console output for %s\nbody=\n%s', server['id'], console_output) except lib_exc.NotFound: LOG.debug(""Server %s disappeared(deleted) while looking "" ""for the console log"", server['id']) def _log_net_info(self, exc): # network debug is called as part of ssh init if not isinstance(exc, lib_exc.SSHTimeout): LOG.debug('Network information on a devstack host') def ping_ip_address(self, ip_address, should_succeed=True, ping_timeout=None, mtu=None): timeout = ping_timeout or CONF.validation.ping_timeout cmd = ['ping', '-c1', '-w1'] if mtu: cmd += [ # don't fragment '-M', 'do', # ping receives just the size of ICMP payload '-s', str(net_utils.get_ping_payload_size(mtu, 4)) ] cmd.append(ip_address) def ping(): proc = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) proc.communicate() return (proc.returncode == 0) == should_succeed caller = test_utils.find_test_caller() LOG.debug('%(caller)s begins to ping %(ip)s in %(timeout)s sec and the' ' expected result is %(should_succeed)s', { 'caller': caller, 'ip': ip_address, 'timeout': timeout, 'should_succeed': 'reachable' if should_succeed else 'unreachable' }) result = test_utils.call_until_true(ping, timeout, 1) LOG.debug('%(caller)s finishes ping %(ip)s in %(timeout)s sec and the ' 'ping result is %(result)s', { 'caller': caller, 'ip': ip_address, 'timeout': timeout, 'result': 'expected' if result else 'unexpected' }) return result def check_vm_connectivity(self, ip_address, username=None, private_key=None, should_connect=True, mtu=None): """"""Check server connectivity :param ip_address: server to test against :param username: server's ssh username :param private_key: server's ssh private key to be used :param should_connect: True/False indicates positive/negative test positive - attempt ping and ssh negative - attempt ping and fail if succeed :param mtu: network MTU to use for connectivity validation :raises: AssertError if the result of the connectivity check does not match the value of the should_connect param """""" if should_connect: msg = ""Timed out waiting for %s to become reachable"" % ip_address else: msg = ""ip address %s is reachable"" % ip_address self.assertTrue(self.ping_ip_address(ip_address, should_succeed=should_connect, mtu=mtu), msg=msg) if should_connect: # no need to check ssh for negative connectivity self.get_remote_client(ip_address, username, private_key) def check_public_network_connectivity(self, ip_address, username, private_key, should_connect=True, msg=None, servers=None, mtu=None): # The target login is assumed to have been configured for # key-based authentication by cloud-init. LOG.debug('checking network connections to IP %s with user: %s', ip_address, username) try: self.check_vm_connectivity(ip_address, username, private_key, should_connect=should_connect, mtu=mtu) except Exception: ex_msg = 'Public network connectivity check failed' if msg: ex_msg += "": "" + msg LOG.exception(ex_msg) self._log_console_output(servers) raise class NetworkScenarioTest(ScenarioTest): """"""Base class for network scenario tests. This class provide helpers for network scenario tests, using the neutron API. Helpers from ancestor which use the nova network API are overridden with the neutron API. This Class also enforces using Neutron instead of novanetwork. Subclassed tests will be skipped if Neutron is not enabled """""" credentials = ['primary', 'admin'] @classmethod def skip_checks(cls): super(NetworkScenarioTest, cls).skip_checks() if not CONF.service_available.neutron: raise cls.skipException('Neutron not available') def _create_network(self, networks_client=None, tenant_id=None, namestart='network-smoke-', port_security_enabled=True): if not networks_client: networks_client = self.networks_client if not tenant_id: tenant_id = networks_client.tenant_id name = data_utils.rand_name(namestart) network_kwargs = dict(name=name, tenant_id=tenant_id) # Neutron disables port security by default so we have to check the # config before trying to create the network with port_security_enabled if CONF.network_feature_enabled.port_security: network_kwargs['port_security_enabled'] = port_security_enabled result = networks_client.create_network(**network_kwargs) network = result['network'] self.assertEqual(network['name'], name) self.addCleanup(test_utils.call_and_ignore_notfound_exc, networks_client.delete_network, network['id']) return network def _create_subnet(self, network, subnets_client=None, routers_client=None, namestart='subnet-smoke', **kwargs): """"""Create a subnet for the given network within the cidr block configured for tenant networks. """""" if not subnets_client: subnets_client = self.subnets_client if not routers_client: routers_client = self.routers_client def cidr_in_use(cidr, tenant_id): """"""Check cidr existence :returns: True if subnet with cidr already exist in tenant False else """""" cidr_in_use = self.os_admin.subnets_client.list_subnets( tenant_id=tenant_id, cidr=cidr)['subnets'] return len(cidr_in_use) != 0 ip_version = kwargs.pop('ip_version', 4) if ip_version == 6: tenant_cidr = netaddr.IPNetwork( CONF.network.project_network_v6_cidr) num_bits = CONF.network.project_network_v6_mask_bits else: tenant_cidr = netaddr.IPNetwork(CONF.network.project_network_cidr) num_bits = CONF.network.project_network_mask_bits result = None str_cidr = None # Repeatedly attempt subnet creation with sequential cidr # blocks until an unallocated block is found. for subnet_cidr in tenant_cidr.subnet(num_bits): str_cidr = str(subnet_cidr) if cidr_in_use(str_cidr, tenant_id=network['tenant_id']): continue subnet = dict( name=data_utils.rand_name(namestart), network_id=network['id'], tenant_id=network['tenant_id'], cidr=str_cidr, ip_version=ip_version, **kwargs ) try: result = subnets_client.create_subnet(**subnet) break except lib_exc.Conflict as e: is_overlapping_cidr = 'overlaps with another subnet' in str(e) if not is_overlapping_cidr: raise self.assertIsNotNone(result, 'Unable to allocate tenant network') subnet = result['subnet'] self.assertEqual(subnet['cidr'], str_cidr) self.addCleanup(test_utils.call_and_ignore_notfound_exc, subnets_client.delete_subnet, subnet['id']) return subnet def _get_server_port_id_and_ip4(self, server, ip_addr=None): ports = self.os_admin.ports_client.list_ports( device_id=server['id'], fixed_ip=ip_addr)['ports'] # A port can have more than one IP address in some cases. # If the network is dual-stack (IPv4 + IPv6), this port is associated # with 2 subnets p_status = ['ACTIVE'] # NOTE(vsaienko) With Ironic, instances live on separate hardware # servers. Neutron does not bind ports for Ironic instances, as a # result the port remains in the DOWN state. # TODO(vsaienko) remove once bug: #1599836 is resolved. if getattr(CONF.service_available, 'ironic', False): p_status.append('DOWN') port_map = [(p[""id""], fxip[""ip_address""]) for p in ports for fxip in p[""fixed_ips""] if (netutils.is_valid_ipv4(fxip[""ip_address""]) and p['status'] in p_status)] inactive = [p for p in ports if p['status'] != 'ACTIVE'] if inactive: LOG.warning(""Instance has ports that are not ACTIVE: %s"", inactive) self.assertNotEqual(0, len(port_map), ""No IPv4 addresses found in: %s"" % ports) self.assertEqual(len(port_map), 1, ""Found multiple IPv4 addresses: %s. "" ""Unable to determine which port to target."" % port_map) return port_map[0] def _get_network_by_name(self, network_name): net = self.os_admin.networks_client.list_networks( name=network_name)['networks'] self.assertNotEqual(len(net), 0, ""Unable to get network by name: %s"" % network_name) return net[0] def create_floating_ip(self, thing, external_network_id=None, port_id=None, client=None): """"""Create a floating IP and associates to a resource/port on Neutron"""""" if not external_network_id: external_network_id = CONF.network.public_network_id if not client: client = self.floating_ips_client if not port_id: port_id, ip4 = self._get_server_port_id_and_ip4(thing) else: ip4 = None result = client.create_floatingip( floating_network_id=external_network_id, port_id=port_id, tenant_id=thing['tenant_id'], fixed_ip_address=ip4 ) floating_ip = result['floatingip'] self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_floatingip, floating_ip['id']) return floating_ip def _associate_floating_ip(self, floating_ip, server): port_id, _ = self._get_server_port_id_and_ip4(server) kwargs = dict(port_id=port_id) floating_ip = self.floating_ips_client.update_floatingip( floating_ip['id'], **kwargs)['floatingip'] self.assertEqual(port_id, floating_ip['port_id']) return floating_ip def _disassociate_floating_ip(self, floating_ip): """""":param floating_ip: floating_ips_client.create_floatingip"""""" kwargs = dict(port_id=None) floating_ip = self.floating_ips_client.update_floatingip( floating_ip['id'], **kwargs)['floatingip'] self.assertIsNone(floating_ip['port_id']) return floating_ip def check_floating_ip_status(self, floating_ip, status): """"""Verifies floatingip reaches the given status :param dict floating_ip: floating IP dict to check status :param status: target status :raises: AssertionError if status doesn't match """""" floatingip_id = floating_ip['id'] def refresh(): result = (self.floating_ips_client. show_floatingip(floatingip_id)['floatingip']) return status == result['status'] test_utils.call_until_true(refresh, CONF.network.build_timeout, CONF.network.build_interval) floating_ip = self.floating_ips_client.show_floatingip( floatingip_id)['floatingip'] self.assertEqual(status, floating_ip['status'], message=""FloatingIP: {fp} is at status: {cst}. "" ""failed to reach status: {st}"" .format(fp=floating_ip, cst=floating_ip['status'], st=status)) LOG.info(""FloatingIP: {fp} is at status: {st}"" .format(fp=floating_ip, st=status)) def _check_tenant_network_connectivity(self, server, username, private_key, should_connect=True, servers_for_debug=None): if not CONF.network.project_networks_reachable: msg = 'Tenant networks not configured to be reachable.' LOG.info(msg) return # The target login is assumed to have been configured for # key-based authentication by cloud-init. try: for net_name, ip_addresses in server['addresses'].items(): for ip_address in ip_addresses: self.check_vm_connectivity(ip_address['addr'], username, private_key, should_connect=should_connect) except Exception as e: LOG.exception('Tenant network connectivity check failed') self._log_console_output(servers_for_debug) self._log_net_info(e) raise def _check_remote_connectivity(self, source, dest, should_succeed=True, nic=None): """"""check ping server via source ssh connection :param source: RemoteClient: an ssh connection from which to ping :param dest: and IP to ping against :param should_succeed: boolean should ping succeed or not :param nic: specific network interface to ping from :returns: boolean -- should_succeed == ping :returns: ping is false if ping failed """""" def ping_remote(): try: source.ping_host(dest, nic=nic) except lib_exc.SSHExecCommandFailed: LOG.warning('Failed to ping IP: %s via a ssh connection ' 'from: %s.', dest, source.ssh_client.host) return not should_succeed return should_succeed return test_utils.call_until_true(ping_remote, CONF.validation.ping_timeout, 1) def _create_security_group(self, security_group_rules_client=None, tenant_id=None, namestart='secgroup-smoke', security_groups_client=None): if security_group_rules_client is None: security_group_rules_client = self.security_group_rules_client if security_groups_client is None: security_groups_client = self.security_groups_client if tenant_id is None: tenant_id = security_groups_client.tenant_id secgroup = self._create_empty_security_group( namestart=namestart, client=security_groups_client, tenant_id=tenant_id) # Add rules to the security group rules = self._create_loginable_secgroup_rule( security_group_rules_client=security_group_rules_client, secgroup=secgroup, security_groups_client=security_groups_client) for rule in rules: self.assertEqual(tenant_id, rule['tenant_id']) self.assertEqual(secgroup['id'], rule['security_group_id']) return secgroup def _create_empty_security_group(self, client=None, tenant_id=None, namestart='secgroup-smoke'): """"""Create a security group without rules. Default rules will be created: - IPv4 egress to any - IPv6 egress to any :param tenant_id: secgroup will be created in this tenant :returns: the created security group """""" if client is None: client = self.security_groups_client if not tenant_id: tenant_id = client.tenant_id sg_name = data_utils.rand_name(namestart) sg_desc = sg_name + "" description"" sg_dict = dict(name=sg_name, description=sg_desc) sg_dict['tenant_id'] = tenant_id result = client.create_security_group(**sg_dict) secgroup = result['security_group'] self.assertEqual(secgroup['name'], sg_name) self.assertEqual(tenant_id, secgroup['tenant_id']) self.assertEqual(secgroup['description'], sg_desc) self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_security_group, secgroup['id']) return secgroup def _default_security_group(self, client=None, tenant_id=None): """"""Get default secgroup for given tenant_id. :returns: default secgroup for given tenant """""" if client is None: client = self.security_groups_client if not tenant_id: tenant_id = client.tenant_id sgs = [ sg for sg in list(client.list_security_groups().values())[0] if sg['tenant_id'] == tenant_id and sg['name'] == 'default' ] msg = ""No default security group for tenant %s."" % (tenant_id) self.assertGreater(len(sgs), 0, msg) return sgs[0] def _create_security_group_rule(self, secgroup=None, sec_group_rules_client=None, tenant_id=None, security_groups_client=None, **kwargs): """"""Create a rule from a dictionary of rule parameters. Create a rule in a secgroup. if secgroup not defined will search for default secgroup in tenant_id. :param secgroup: the security group. :param tenant_id: if secgroup not passed -- the tenant in which to search for default secgroup :param kwargs: a dictionary containing rule parameters: for example, to allow incoming ssh: rule = { direction: 'ingress' protocol:'tcp', port_range_min: 22, port_range_max: 22 } """""" if sec_group_rules_client is None: sec_group_rules_client = self.security_group_rules_client if security_groups_client is None: security_groups_client = self.security_groups_client if not tenant_id: tenant_id = security_groups_client.tenant_id if secgroup is None: secgroup = self._default_security_group( client=security_groups_client, tenant_id=tenant_id) ruleset = dict(security_group_id=secgroup['id'], tenant_id=secgroup['tenant_id']) ruleset.update(kwargs) sg_rule = sec_group_rules_client.create_security_group_rule(**ruleset) sg_rule = sg_rule['security_group_rule'] self.assertEqual(secgroup['tenant_id'], sg_rule['tenant_id']) self.assertEqual(secgroup['id'], sg_rule['security_group_id']) return sg_rule def _create_loginable_secgroup_rule(self, security_group_rules_client=None, secgroup=None, security_groups_client=None): """"""Create loginable security group rule This function will create: 1. egress and ingress tcp port 22 allow rule in order to allow ssh access for ipv4. 2. egress and ingress ipv6 icmp allow rule, in order to allow icmpv6. 3. egress and ingress ipv4 icmp allow rule, in order to allow icmpv4. """""" if security_group_rules_client is None: security_group_rules_client = self.security_group_rules_client if security_groups_client is None: security_groups_client = self.security_groups_client rules = [] rulesets = [ dict( # ssh protocol='tcp', port_range_min=22, port_range_max=22, ), dict( # ping protocol='icmp', ), dict( # ipv6-icmp for ping6 protocol='icmp', ethertype='IPv6', ) ] sec_group_rules_client = security_group_rules_client for ruleset in rulesets: for r_direction in ['ingress', 'egress']: ruleset['direction'] = r_direction try: sg_rule = self._create_security_group_rule( sec_group_rules_client=sec_group_rules_client, secgroup=secgroup, security_groups_client=security_groups_client, **ruleset) except lib_exc.Conflict as ex: # if rule already exist - skip rule and continue msg = 'Security group rule already exists' if msg not in ex._error_string: raise ex else: self.assertEqual(r_direction, sg_rule['direction']) rules.append(sg_rule) return rules def _get_router(self, client=None, tenant_id=None): """"""Retrieve a router for the given tenant id. If a public router has been configured, it will be returned. If a public router has not been configured, but a public network has, a tenant router will be created and returned that routes traffic to the public network. """""" if not client: client = self.routers_client if not tenant_id: tenant_id = client.tenant_id router_id = CONF.network.public_router_id network_id = CONF.network.public_network_id if router_id: body = client.show_router(router_id) return body['router'] elif network_id: router = self._create_router(client, tenant_id) kwargs = {'external_gateway_info': dict(network_id=network_id)} router = client.update_router(router['id'], **kwargs)['router'] return router else: raise Exception(""Neither of 'public_router_id' or "" ""'public_network_id' has been defined."") def _create_router(self, client=None, tenant_id=None, namestart='router-smoke'): if not client: client = self.routers_client if not tenant_id: tenant_id = client.tenant_id name = data_utils.rand_name(namestart) result = client.create_router(name=name, admin_state_up=True, tenant_id=tenant_id) router = result['router'] self.assertEqual(router['name'], name) self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_router, router['id']) return router def _update_router_admin_state(self, router, admin_state_up): kwargs = dict(admin_state_up=admin_state_up) router = self.routers_client.update_router( router['id'], **kwargs)['router'] self.assertEqual(admin_state_up, router['admin_state_up']) def create_networks(self, networks_client=None, routers_client=None, subnets_client=None, tenant_id=None, dns_nameservers=None, port_security_enabled=True): """"""Create a network with a subnet connected to a router. The baremetal driver is a special case since all nodes are on the same shared network. :param tenant_id: id of tenant to create resources in. :param dns_nameservers: list of dns servers to send to subnet. :returns: network, subnet, router """""" if CONF.network.shared_physical_network: # NOTE(Shrews): This exception is for environments where tenant # credential isolation is available, but network separation is # not (the current baremetal case). Likely can be removed when # test account mgmt is reworked: # https://blueprints.launchpad.net/tempest/+spec/test-accounts if not CONF.compute.fixed_network_name: m = 'fixed_network_name must be specified in config' raise lib_exc.InvalidConfiguration(m) network = self._get_network_by_name( CONF.compute.fixed_network_name) router = None subnet = None else: network = self._create_network( networks_client=networks_client, tenant_id=tenant_id, port_security_enabled=port_security_enabled) router = self._get_router(client=routers_client, tenant_id=tenant_id) subnet_kwargs = dict(network=network, subnets_client=subnets_client, routers_client=routers_client) # use explicit check because empty list is a valid option if dns_nameservers is not None: subnet_kwargs['dns_nameservers'] = dns_nameservers subnet = self._create_subnet(**subnet_kwargs) if not routers_client: routers_client = self.routers_client router_id = router['id'] routers_client.add_router_interface(router_id, subnet_id=subnet['id']) # save a cleanup job to remove this association between # router and subnet self.addCleanup(test_utils.call_and_ignore_notfound_exc, routers_client.remove_router_interface, router_id, subnet_id=subnet['id']) return network, subnet, router ",,1810,0
openstack%2Fopenstack-ansible-ops~master~I2d70274cf4ba83390e917b8c95eb19998219094b,openstack/openstack-ansible-ops,master,I2d70274cf4ba83390e917b8c95eb19998219094b,Fix test_repo directory name,ABANDONED,2019-05-16 20:59:41.000000000,2019-07-09 18:13:59.000000000,,"[{'_account_id': 290}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-16 20:59:41.000000000', 'files': ['osquery/tests/run-setup.yml', 'elk_metrics_6x/tests/run-setup.yml', 'skydive/tests/run-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/f139c1618b08e95f5e54ae29a6ca030bb14882e0', 'message': 'Fix test_repo directory name\n\nRenames current_test_repo to the correct directory.\n\nChange-Id: I2d70274cf4ba83390e917b8c95eb19998219094b\n'}]",0,659670,f139c1618b08e95f5e54ae29a6ca030bb14882e0,5,2,1,290,,,0,"Fix test_repo directory name

Renames current_test_repo to the correct directory.

Change-Id: I2d70274cf4ba83390e917b8c95eb19998219094b
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/70/659670/1 && git format-patch -1 --stdout FETCH_HEAD,"['osquery/tests/run-setup.yml', 'elk_metrics_6x/tests/run-setup.yml', 'skydive/tests/run-setup.yml']",3,f139c1618b08e95f5e54ae29a6ca030bb14882e0,fix_test_dir," current_test_repo: ""opendev.org/{{ osa_test_repo }}"""," current_test_repo: ""git.openstack.org/{{ osa_test_repo }}""",3,3
openstack%2Fnova-powervm~master~I3fdc567cf05bba9bd210f2403a74ab6c2eb12c34,openstack/nova-powervm,master,I3fdc567cf05bba9bd210f2403a74ab6c2eb12c34,"Merged changes : Add image type capability flags: ""https://github.com/openstack/nova/commit/ aafd873e2176076609ff17d63137dd6f84ddf8d3# diff-98d1a06e0feb7e5ff43a21433afd9f34""",ABANDONED,2019-07-04 07:57:57.000000000,2019-07-09 18:07:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-04 07:57:57.000000000', 'files': ['nova_powervm/virt/powervm/driver.py', 'nova_powervm/tests/virt/powervm/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/3d89ab0e358a25b8872ed48c183cd724af9dc7fa', 'message': 'Merged changes :\nAdd image type capability flags:\n""https://github.com/openstack/nova/commit/\naafd873e2176076609ff17d63137dd6f84ddf8d3#\ndiff-98d1a06e0feb7e5ff43a21433afd9f34""\n\nUse new ``initial_xxx_allocation_ratio`` CONF\n""https://github.com/openstack/nova/commit/\n08f3ae960623c94bdd997cacb3e81f04b4bbba69#\ndiff-46d49d172cae6b899c1be3628dede5d1""\n\nChange-Id: I3fdc567cf05bba9bd210f2403a74ab6c2eb12c34\n'}]",0,669090,3d89ab0e358a25b8872ed48c183cd724af9dc7fa,3,1,1,28063,,,0,"Merged changes :
Add image type capability flags:
""https://github.com/openstack/nova/commit/
aafd873e2176076609ff17d63137dd6f84ddf8d3#
diff-98d1a06e0feb7e5ff43a21433afd9f34""

Use new ``initial_xxx_allocation_ratio`` CONF
""https://github.com/openstack/nova/commit/
08f3ae960623c94bdd997cacb3e81f04b4bbba69#
diff-46d49d172cae6b899c1be3628dede5d1""

Change-Id: I3fdc567cf05bba9bd210f2403a74ab6c2eb12c34
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/90/669090/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/virt/powervm/driver.py', 'nova_powervm/tests/virt/powervm/test_driver.py']",2,3d89ab0e358a25b8872ed48c183cd724af9dc7fa,," self.assertEqual(19, len(test_driver.capabilities)) self.assertEqual(20, len(test_driver.capabilities)) self.assertEqual(20, len(test_driver.capabilities)) with self._update_provider_tree() as (ptree, exp_inv): # Since CONF.cpu_allocation_ratio is not set and this is not # the initial upt call (so CONF.initial_cpu_allocation_ratio would # be used), the existing allocation ratio value from the tree is # used. exp_inv['VCPU']['allocation_ratio'] = 1.0"," self.assertEqual(8, len(test_driver.capabilities)) self.assertEqual(9, len(test_driver.capabilities)) self.assertEqual(9, len(test_driver.capabilities)) with self._update_provider_tree() as (ptree, _):",31,16
openstack%2Frpm-packaging~master~I4e0ab9541d11767a1ff6d9533053ce1186adc782,openstack/rpm-packaging,master,I4e0ab9541d11767a1ff6d9533053ce1186adc782,neutron-lib: update to 1.28.0,MERGED,2019-07-09 15:48:37.000000000,2019-07-09 18:07:18.000000000,2019-07-09 18:07:18.000000000,"[{'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-09 15:48:37.000000000', 'files': ['openstack/neutron-lib/neutron-lib.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/afdc1596cfafb74de47ed49226f2d69131c08d6d', 'message': 'neutron-lib: update to 1.28.0\n\nNeutron started to require it, we need to update to it quickly.\n\nChange-Id: I4e0ab9541d11767a1ff6d9533053ce1186adc782\n'}]",0,669896,afdc1596cfafb74de47ed49226f2d69131c08d6d,9,5,1,6593,,,0,"neutron-lib: update to 1.28.0

Neutron started to require it, we need to update to it quickly.

Change-Id: I4e0ab9541d11767a1ff6d9533053ce1186adc782
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/96/669896/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron-lib/neutron-lib.spec.j2'],1,afdc1596cfafb74de47ed49226f2d69131c08d6d,,{% set upstream_version = upstream_version('1.28.0') %},{% set upstream_version = upstream_version('1.27.0') %},1,1
openstack%2Fnova-powervm~master~I3bd6302ef7751ebf61685aad0f9349870f597255,openstack/nova-powervm,master,I3bd6302ef7751ebf61685aad0f9349870f597255,"Merge ""Add image type capability flags and trait conversions""",ABANDONED,2019-07-02 06:45:46.000000000,2019-07-09 18:06:46.000000000,,"[{'_account_id': 10068}, {'_account_id': 13637}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 28063}]","[{'number': 1, 'created': '2019-07-02 06:45:46.000000000', 'files': ['nova_powervm/virt/powervm/driver.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/5c925358fcb8f3d70533dc9aba77cec2c1e0abac', 'message': 'Merge ""Add image type capability flags and trait conversions""\n\nChange-Id: I3bd6302ef7751ebf61685aad0f9349870f597255\n'}]",0,668615,5c925358fcb8f3d70533dc9aba77cec2c1e0abac,6,5,1,28063,,,0,"Merge ""Add image type capability flags and trait conversions""

Change-Id: I3bd6302ef7751ebf61685aad0f9349870f597255
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/15/668615/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/virt/powervm/driver.py', 'lower-constraints.txt']",2,5c925358fcb8f3d70533dc9aba77cec2c1e0abac,,os-traits==0.12.0,os-traits==0.4.0,14,1
openstack%2Fkolla-ansible~stable%2Fstein~I9b35bd5f0f76eec26ddd968d093a3a5fd55a7ce2,openstack/kolla-ansible,stable/stein,I9b35bd5f0f76eec26ddd968d093a3a5fd55a7ce2,Exit on failure in init-runonce,MERGED,2019-07-09 07:36:34.000000000,2019-07-09 17:57:29.000000000,2019-07-09 17:57:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-09 07:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/97df4e31c2d7fea05d1a965e5318ef053af74978', 'message': 'Exit on failure in init-runonce\n\nPreviously we sourced this script in tests/deploy.sh, but this was\nrecently changed. Following that change we lost the errexit setting,\nmeaning we ignore errors in init-runonce.\n\nAdding errexit in the script itself means that all callers get error\nhandling.\n\nAlso log init-runonce output.\n\nTrivialFix\n\nChange-Id: I9b35bd5f0f76eec26ddd968d093a3a5fd55a7ce2\n(cherry picked from commit bc08b44fd11cb083b85ac9b30d7bffa2a4024046)\n'}, {'number': 2, 'created': '2019-07-09 15:25:49.000000000', 'files': ['tests/deploy.sh', 'tools/init-runonce'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8149433adb3abef88c6e31e34b9e38f48ec6803f', 'message': 'Exit on failure in init-runonce\n\nPreviously we sourced this script in tests/deploy.sh, but this was\nrecently changed. Following that change we lost the errexit setting,\nmeaning we ignore errors in init-runonce.\n\nAdding errexit in the script itself means that all callers get error\nhandling.\n\nAlso log init-runonce output.\n\nAdapted to log stderr too (&>).\n\nTrivialFix\n\nChange-Id: I9b35bd5f0f76eec26ddd968d093a3a5fd55a7ce2\n(cherry picked from commit bc08b44fd11cb083b85ac9b30d7bffa2a4024046)\n'}]",2,669808,8149433adb3abef88c6e31e34b9e38f48ec6803f,12,3,2,30491,,,0,"Exit on failure in init-runonce

Previously we sourced this script in tests/deploy.sh, but this was
recently changed. Following that change we lost the errexit setting,
meaning we ignore errors in init-runonce.

Adding errexit in the script itself means that all callers get error
handling.

Also log init-runonce output.

Adapted to log stderr too (&>).

TrivialFix

Change-Id: I9b35bd5f0f76eec26ddd968d093a3a5fd55a7ce2
(cherry picked from commit bc08b44fd11cb083b85ac9b30d7bffa2a4024046)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/669808/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/deploy.sh', 'tools/init-runonce']",2,97df4e31c2d7fea05d1a965e5318ef053af74978,, set -o errexit ,#,4,2
openstack%2Fkeystone~master~Ic4a1ac1279acd229ca2d1f104bfff1a3c6f81dd2,openstack/keystone,master,Ic4a1ac1279acd229ca2d1f104bfff1a3c6f81dd2,Fix keystone document,MERGED,2019-07-09 08:54:22.000000000,2019-07-09 17:54:11.000000000,2019-07-09 17:54:11.000000000,"[{'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-09 08:54:22.000000000', 'files': ['doc/source/install/common/openrc.inc'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e9ee189b4392bbd9ff4324cb194ee9e1e0818586', 'message': 'Fix keystone document\n\nChange-Id: Ic4a1ac1279acd229ca2d1f104bfff1a3c6f81dd2\nCloses-Bug: #1811771\n'}]",0,669818,e9ee189b4392bbd9ff4324cb194ee9e1e0818586,7,3,1,27621,,,0,"Fix keystone document

Change-Id: Ic4a1ac1279acd229ca2d1f104bfff1a3c6f81dd2
Closes-Bug: #1811771
",git fetch https://review.opendev.org/openstack/keystone refs/changes/18/669818/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/common/openrc.inc'],1,e9ee189b4392bbd9ff4324cb194ee9e1e0818586,bug/1811771, export OS_PASSWORD=DEMO_PASS, export OS_PASSWORD=MYUSER_PASS,1,1
openstack%2Fmonasca-common~master~I0e3fd5b70fb34ee3b4f1eb444c27279479b3bc60,openstack/monasca-common,master,I0e3fd5b70fb34ee3b4f1eb444c27279479b3bc60,"In Python 3.7 ""async"" and ""await"" will become reserved keywords",MERGED,2019-07-05 13:02:27.000000000,2019-07-09 17:24:54.000000000,2019-07-09 17:24:53.000000000,"[{'_account_id': 10311}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 23735}]","[{'number': 1, 'created': '2019-07-05 13:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/e72fec04d91877c36d6e6643cabdf87ecf478af2', 'message': 'In Python 3.7 ""async"" and ""await"" will become reserved keywords\n\nThis patch changes the use of ""async"" with the PEP8 recommended\nconvention. As of Python 3.6, the following deprecation warning is\ndisplayed:\n\nSee PEP 492 for further details.:\nhttps://www.python.org/dev/peps/pep-0492/\n\nChange-Id: I0e3fd5b70fb34ee3b4f1eb444c27279479b3bc60\n'}, {'number': 2, 'created': '2019-07-05 14:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/c7e3899ae90f043378066a33523768bfa8d5c8c6', 'message': 'In Python 3.7 ""async"" and ""await"" will become reserved keywords\n\nThis patch changes the use of ""async"" with the PEP8 recommended\nconvention. As of Python 3.6, the following deprecation warning is\ndisplayed:\n\nSee PEP 492 for further details.:\nhttps://www.python.org/dev/peps/pep-0492/\n\nChange-Id: I0e3fd5b70fb34ee3b4f1eb444c27279479b3bc60\n'}, {'number': 3, 'created': '2019-07-08 12:24:48.000000000', 'files': ['monasca_common/kafka_lib/producer/base.py', 'monasca_common/kafka_lib/producer/simple.py', 'monasca_common/kafka_lib/producer/keyed.py', 'monasca_common/kafka/producer.py'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/afc64e7de1cc5bbb24050cca581964150ad3fb7f', 'message': 'In Python 3.7 ""async"" and ""await"" will become reserved keywords\n\nThis patch changes the use of ""async"" with the PEP8 recommended\nconvention. As of Python 3.6, the following deprecation warning is\ndisplayed:\n\nSee PEP 492 for further details.:\nhttps://www.python.org/dev/peps/pep-0492/\n\nChange-Id: I0e3fd5b70fb34ee3b4f1eb444c27279479b3bc60\nStory: 2006176\nTask: 35700\n'}]",0,669352,afc64e7de1cc5bbb24050cca581964150ad3fb7f,21,4,3,23735,,,0,"In Python 3.7 ""async"" and ""await"" will become reserved keywords

This patch changes the use of ""async"" with the PEP8 recommended
convention. As of Python 3.6, the following deprecation warning is
displayed:

See PEP 492 for further details.:
https://www.python.org/dev/peps/pep-0492/

Change-Id: I0e3fd5b70fb34ee3b4f1eb444c27279479b3bc60
Story: 2006176
Task: 35700
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/52/669352/3 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_common/kafka_lib/producer/base.py', 'monasca_common/kafka_lib/producer/simple.py', 'monasca_common/kafka_lib/producer/keyed.py']",3,e72fec04d91877c36d6e6643cabdf87ecf478af2,, return '<KeyedProducer batch=%s>' % self.is_async, return '<KeyedProducer batch=%s>' % self.async,15,15
openstack%2Fsenlin~master~I9ee7e6c9d5e8e86dcefd459599ebee5f151a612a,openstack/senlin,master,I9ee7e6c9d5e8e86dcefd459599ebee5f151a612a,Fix keystone_authtoken config in docs,MERGED,2019-06-28 18:14:11.000000000,2019-07-09 17:19:52.000000000,2019-07-09 17:19:52.000000000,"[{'_account_id': 22348}, {'_account_id': 22998}]","[{'number': 1, 'created': '2019-06-28 18:14:11.000000000', 'files': ['doc/source/install/install-source.rst', 'doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/074ee9f7fe58b4ba3143d4e8b592d7486e7d950d', 'message': 'Fix keystone_authtoken config in docs\n\nThe keystone_authtoken configuration in the installatiion documentation\nare incorrect.  Updated the documentation to use correct values that\nwork in devstack for senlin.\n\nChange-Id: I9ee7e6c9d5e8e86dcefd459599ebee5f151a612a\nCloses-Bug: #1834515\n'}]",0,668225,074ee9f7fe58b4ba3143d4e8b592d7486e7d950d,7,2,1,27224,,,0,"Fix keystone_authtoken config in docs

The keystone_authtoken configuration in the installatiion documentation
are incorrect.  Updated the documentation to use correct values that
work in devstack for senlin.

Change-Id: I9ee7e6c9d5e8e86dcefd459599ebee5f151a612a
Closes-Bug: #1834515
",git fetch https://review.opendev.org/openstack/senlin refs/changes/25/668225/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/install-source.rst', 'doc/source/install/install-rdo.rst']",2,074ee9f7fe58b4ba3143d4e8b592d7486e7d950d,bug/1834515, service_token_roles_required = True auth_type = password user_domain_name = Default project_domain_name = Default project_name = service username = senlin password = <SENLIN_PASSWORD> www_authenticate_uri = http://<HOST>/identity/v3 auth_url = http://<HOST>/identity, www_authenticate_uri = http://<HOST>:5000/v3 auth_version = 3 identity_uri = http://<HOST>:5000 admin_user = senlin admin_password = <SENLIN PASSWORD> admin_tenant_name = service,18,12
openstack%2Fsenlin~master~Ie447397b001fba9798025370cdb0087e679fdfe4,openstack/senlin,master,Ie447397b001fba9798025370cdb0087e679fdfe4,Update docs and examples for health policy v1.1,MERGED,2019-06-28 20:35:11.000000000,2019-07-09 17:19:51.000000000,2019-07-09 17:19:51.000000000,"[{'_account_id': 22348}, {'_account_id': 22998}]","[{'number': 1, 'created': '2019-06-28 20:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/82d191dc4e19c92e47f4ea52e69cc87613a15530', 'message': 'Update docs and examples for health policy v1.1\n\nThe documentation and example health policies need to be updated to\nreflect health policy v1.1 schema changes.\n\nChange-Id: Ie447397b001fba9798025370cdb0087e679fdfe4\nCloses-Bug: #1834516\n'}, {'number': 2, 'created': '2019-06-28 22:34:34.000000000', 'files': ['doc/source/contributor/policies/health_v1.rst', 'doc/source/user/policy_types/health.rst', 'examples/policies/health_policy_poll_url.yaml', 'examples/policies/health_policy_event.yaml', 'examples/policies/health_policy_poll.yaml'], 'web_link': 'https://opendev.org/openstack/senlin/commit/ebefa20ca207575d9c7045d2ed257a4287d9b79b', 'message': 'Update docs and examples for health policy v1.1\n\nThe documentation and example health policies need to be updated to\nreflect health policy v1.1 schema changes.\n\nChange-Id: Ie447397b001fba9798025370cdb0087e679fdfe4\nCloses-Bug: #1834516\n'}]",0,668246,ebefa20ca207575d9c7045d2ed257a4287d9b79b,9,2,2,27224,,,0,"Update docs and examples for health policy v1.1

The documentation and example health policies need to be updated to
reflect health policy v1.1 schema changes.

Change-Id: Ie447397b001fba9798025370cdb0087e679fdfe4
Closes-Bug: #1834516
",git fetch https://review.opendev.org/openstack/senlin refs/changes/46/668246/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/policies/health_v1.rst', 'doc/source/user/policy_types/health.rst', 'examples/policies/health_policy_poll_url.yaml', 'examples/policies/health_policy_event.yaml', 'examples/policies/health_policy_poll.yaml']",5,82d191dc4e19c92e47f4ea52e69cc87613a15530,bug/1834516,"version: 1.1 # Number of seconds between two adjacent checking interval: 600 detection_modes: # Type for health checking, valid values include: # NODE_STATUS_POLLING, NODE_STATUS_POLL_URL, LIFECYCLE_EVENTS - type: NODE_STATUS_POLLING","version: 1.0 # Type for health checking, valid values include: # NODE_STATUS_POLLING, LB_STATUS_POLLING, LIFECYCLE_EVENTS type: NODE_STATUS_POLLING options: # Number of seconds between two adjacent checking interval: 600",46,28
openstack%2Fnova~master~I1eae47bce08f6292d38e893a2122289bcd6f4b58,openstack/nova,master,I1eae47bce08f6292d38e893a2122289bcd6f4b58,Deprecate non-update_provider_tree compat code,MERGED,2019-06-25 18:54:13.000000000,2019-07-09 17:12:56.000000000,2019-07-09 17:12:56.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-25 18:54:13.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py', 'releasenotes/notes/train-deprecate-non-upt-compat-d061edf3f702eeec.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/c76f3bd7bc5da52d117f5478a6c9e17ffc840f7a', 'message': 'Deprecate non-update_provider_tree compat code\n\nWith all in-tree virt drivers now implementing the\nupdate_provider_tree interface, we can deprecate the\ncompatibility code in the ResourceTracker. This change\nsimply logs a warning if the driver does not implement\nthe upt interface and sets the timer for removal in the\nU release at the earliest.\n\nThe resource tracker unit tests will need to be cleaned\nup but that can happen in a separate change so it does\nnot slow down this deprecation.\n\nChange-Id: I1eae47bce08f6292d38e893a2122289bcd6f4b58\n'}]",1,667442,c76f3bd7bc5da52d117f5478a6c9e17ffc840f7a,27,13,1,6873,,,0,"Deprecate non-update_provider_tree compat code

With all in-tree virt drivers now implementing the
update_provider_tree interface, we can deprecate the
compatibility code in the ResourceTracker. This change
simply logs a warning if the driver does not implement
the upt interface and sets the timer for removal in the
U release at the earliest.

The resource tracker unit tests will need to be cleaned
up but that can happen in a separate change so it does
not slow down this deprecation.

Change-Id: I1eae47bce08f6292d38e893a2122289bcd6f4b58
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/667442/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py', 'releasenotes/notes/train-deprecate-non-upt-compat-d061edf3f702eeec.yaml']",3,c76f3bd7bc5da52d117f5478a6c9e17ffc840f7a,update_provider_tree,--- deprecations: - | Compatibility code for compute drivers that do not implement the `update_provider_tree`__ interface is deprecated and will be removed in a future release. __ https://docs.openstack.org/nova/latest/reference/update-provider-tree.html ,,21,0
openstack%2Fnova~master~Ie7bc0b3d3c3d5b1cdea124f6415aa0e87ac8b757,openstack/nova,master,Ie7bc0b3d3c3d5b1cdea124f6415aa0e87ac8b757,xenapi: implement update_provider_tree,MERGED,2019-06-25 18:29:28.000000000,2019-07-09 17:12:48.000000000,2019-07-09 17:12:48.000000000,"[{'_account_id': 6735}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 17922}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-25 18:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f26da50367df14324e6a7b1ac8dbbc6b81bb8bed', 'message': 'xenapi: implement update_provider_tree\n\nThis replaces get_inventory with update_provider_tree\nin the xenapi driver. Since the driver is not reporting\ntraits there is nothing to do with traits in upt. The\nVCPU, MEMORY_MB, DISK_GB and VGPU inventory is reported\nthe same as before, i.e. no support for nested providers\nor reshaping allocations. The only additional change is\nthe need to provide the allocation_ratio and reserved\ninventory values for VCPU, MEMORY_MB and DISK_GB since\nResourceTracker._normalize_inventory_from_cn_obj is not\ncalled when the driver implements update_provider_tree.\n\nChange-Id: Ie7bc0b3d3c3d5b1cdea124f6415aa0e87ac8b757\n'}, {'number': 2, 'created': '2019-06-25 18:32:06.000000000', 'files': ['nova/tests/unit/virt/xenapi/test_driver.py', 'nova/virt/xenapi/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/154334b4b2fe607989a27cedad64719df3ae1dd9', 'message': 'xenapi: implement update_provider_tree\n\nThis replaces get_inventory with update_provider_tree\nin the xenapi driver. Since the driver is not reporting\ntraits there is nothing to do with traits in upt. The\nVCPU, MEMORY_MB, DISK_GB and VGPU inventory is reported\nthe same as before, i.e. no support for nested providers\nor reshaping allocations. The only additional change is\nthe need to provide the allocation_ratio and reserved\ninventory values for VCPU, MEMORY_MB and DISK_GB since\nResourceTracker._normalize_inventory_from_cn_obj is not\ncalled when the driver implements update_provider_tree.\n\nChange-Id: Ie7bc0b3d3c3d5b1cdea124f6415aa0e87ac8b757\n'}]",2,667435,154334b4b2fe607989a27cedad64719df3ae1dd9,20,14,2,6873,,,0,"xenapi: implement update_provider_tree

This replaces get_inventory with update_provider_tree
in the xenapi driver. Since the driver is not reporting
traits there is nothing to do with traits in upt. The
VCPU, MEMORY_MB, DISK_GB and VGPU inventory is reported
the same as before, i.e. no support for nested providers
or reshaping allocations. The only additional change is
the need to provide the allocation_ratio and reserved
inventory values for VCPU, MEMORY_MB and DISK_GB since
ResourceTracker._normalize_inventory_from_cn_obj is not
called when the driver implements update_provider_tree.

Change-Id: Ie7bc0b3d3c3d5b1cdea124f6415aa0e87ac8b757
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/667435/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/xenapi/test_driver.py', 'nova/virt/xenapi/driver.py']",2,f26da50367df14324e6a7b1ac8dbbc6b81bb8bed,update_provider_tree," def update_provider_tree(self, provider_tree, nodename, allocations=None): """"""Update a ProviderTree object with current resource provider and inventory information. When this method returns, provider_tree should represent the correct hierarchy of nested resource providers associated with this compute node, as well as the inventory, aggregates, and traits associated with those resource providers. This method supersedes get_inventory(): if this method is implemented, get_inventory() is not used. Implementors of this interface are expected to set ``allocation_ratio`` and ``reserved`` values for inventory records, which may be based on configuration options, e.g. ``[DEFAULT]/cpu_allocation_ratio``, depending on the driver and resource class. If not provided, allocation ratio defaults to 1.0 and reserved defaults to 0 in placement. :note: Renaming the root provider (by deleting it from provider_tree and re-adding it with a different name) is not supported at this time. See the developer reference documentation for more details: https://docs.openstack.org/nova/latest/reference/update-provider-tree.html # noqa :param nova.compute.provider_tree.ProviderTree provider_tree: A nova.compute.provider_tree.ProviderTree object representing all the providers in the tree associated with the compute node, and any sharing providers (those with the ``MISC_SHARES_VIA_AGGREGATE`` trait) associated via aggregate with any of those providers (but not *their* tree- or aggregate-associated providers), as currently known by placement. This object is fully owned by the update_provider_tree method, and can therefore be modified without locking/concurrency considerations. In other words, the parameter is passed *by reference* with the expectation that the virt driver will modify the object. Note, however, that it may contain providers not directly owned/controlled by the compute host. Care must be taken not to remove or modify such providers inadvertently. In addition, providers may be associated with traits and/or aggregates maintained by outside agents. The `update_provider_tree`` method must therefore also be careful only to add/remove traits/aggregates it explicitly controls. :param nodename: String name of the compute node (i.e. ComputeNode.hypervisor_hostname) for which the caller is requesting updated provider information. Drivers may use this to help identify the compute node provider in the ProviderTree. Drivers managing more than one node (e.g. ironic) may also use it as a cue to indicate which node is being processed by the caller. :param allocations: Dict of allocation data of the form: { $CONSUMER_UUID: { # The shape of each ""allocations"" dict below is identical # to the return from GET /allocations/{consumer_uuid} ""allocations"": { $RP_UUID: { ""generation"": $RP_GEN, ""resources"": { $RESOURCE_CLASS: $AMOUNT, ... }, }, ... }, ""project_id"": $PROJ_ID, ""user_id"": $USER_ID, ""consumer_generation"": $CONSUMER_GEN, }, ... } If None, and the method determines that any inventory needs to be moved (from one provider to another and/or to a different resource class), the ReshapeNeeded exception must be raised. Otherwise, this dict must be edited in place to indicate the desired final state of allocations. Drivers should *only* edit allocation records for providers whose inventories are being affected by the reshape operation. :raises ReshapeNeeded: If allocations is None and any inventory needs to be moved from one provider to another and/or to a different resource class. :raises: ReshapeFailed if the requested tree reshape fails for whatever reason. # If the inventory record does not exist, the allocation_ratio # will use the CONF.xxx_allocation_ratio value if xxx_allocation_ratio # is set, and fallback to use the initial_xxx_allocation_ratio # otherwise. inv = provider_tree.data(nodename).inventory ratios = self._get_allocation_ratios(inv) 'allocation_ratio': ratios[orc.VCPU], 'reserved': CONF.reserved_host_cpus, 'allocation_ratio': ratios[orc.MEMORY_MB], 'reserved': CONF.reserved_host_memory_mb, 'allocation_ratio': ratios[orc.DISK_GB], 'reserved': self._get_reserved_host_disk_gb_from_config(), provider_tree.update_inventory(nodename, result)"," def get_inventory(self, nodename): """"""Return a dict, keyed by resource class, of inventory information for the supplied node. return result",126,10
openstack%2Fkuryr-kubernetes~stable%2Fstein~Ie120289de38eefa66a6a0523fc093509de420e4c,openstack/kuryr-kubernetes,stable/stein,Ie120289de38eefa66a6a0523fc093509de420e4c,Raise right exception in case Kubernetes respond with not found,MERGED,2019-07-09 10:34:21.000000000,2019-07-09 17:09:20.000000000,2019-07-09 17:09:20.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-07-09 10:34:21.000000000', 'files': ['kuryr_kubernetes/k8s_client.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/851d63c3c4a8b54871d2a512360f6a8ecdddfb29', 'message': 'Raise right exception in case Kubernetes respond with not found\n\nWhen Kubernetes respond with not found to an API call of deletion,\nwe should raise a K8sResourceNotFound exception, right now we are\nraising K8sClientException.\n\nCloses-Bug: 1834634\n\nChange-Id: Ie120289de38eefa66a6a0523fc093509de420e4c\n(cherry picked from commit c8d41c0d498d8337d6ec5dcb28bbc425be55ff39)\n'}]",0,669837,851d63c3c4a8b54871d2a512360f6a8ecdddfb29,9,5,1,27032,,,0,"Raise right exception in case Kubernetes respond with not found

When Kubernetes respond with not found to an API call of deletion,
we should raise a K8sResourceNotFound exception, right now we are
raising K8sClientException.

Closes-Bug: 1834634

Change-Id: Ie120289de38eefa66a6a0523fc093509de420e4c
(cherry picked from commit c8d41c0d498d8337d6ec5dcb28bbc425be55ff39)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/37/669837/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/k8s_client.py'],1,851d63c3c4a8b54871d2a512360f6a8ecdddfb29,ensure-right-exception-raised-on-delete-stable/stein, else: if response.status_code == requests.codes.not_found: raise exc.K8sResourceNotFound(response.text) raise exc.K8sClientException(response), raise exc.K8sClientException(response),4,1
openstack%2Fproject-config~master~I618e56e255934eeb800347dd325413b03038784e,openstack/project-config,master,I618e56e255934eeb800347dd325413b03038784e,Add jobs for openstackid-resources,ABANDONED,2017-06-08 20:22:00.000000000,2019-07-09 17:01:46.000000000,,"[{'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-06-08 20:22:00.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d6766a7de9176892341ab09834baca5f36615d65', 'message': 'Add jobs for openstackid-resources\n\nSet up Infra docs publication for the\nopenstack-infra/openstackid-resources repo. Also include Laravel\nrelease jobs and experimental docs and Laravel jobs in preparation\nfor eventual gating of new changes.\n\nChange-Id: I618e56e255934eeb800347dd325413b03038784e\n'}]",2,472403,d6766a7de9176892341ab09834baca5f36615d65,7,4,1,5263,,,0,"Add jobs for openstackid-resources

Set up Infra docs publication for the
openstack-infra/openstackid-resources repo. Also include Laravel
release jobs and experimental docs and Laravel jobs in preparation
for eventual gating of new changes.

Change-Id: I618e56e255934eeb800347dd325413b03038784e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/03/472403/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,d6766a7de9176892341ab09834baca5f36615d65,openstackid-resources, experimental: - gate-laravel-openstackid-resources-unittests - gate-openstackid-resources-docs-ubuntu-xenial post: - openstackid-resources-infra-docs - laravel-openstackid-resources-release-branch release: - laravel-openstackid-resources-release-master,,22,0
openstack%2Fneutron-fwaas~master~I2c8cef73df67f13e65ce14e6c5f1192a6bb994b0,openstack/neutron-fwaas,master,I2c8cef73df67f13e65ce14e6c5f1192a6bb994b0,Migrate functional tests job to zuul v3,MERGED,2019-07-03 14:16:44.000000000,2019-07-09 16:52:20.000000000,2019-07-09 16:52:20.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 14:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/c77fc0ffd792a78de306be8493c7b1d5a5d642ad', 'message': 'Migrate functional tests job to zuul v3\n\nJob is also renamed from ""legacy-neutron-fwaas-dsvm-functional"" to\n""neutron-fwaas-functional""\n\nChange-Id: I2c8cef73df67f13e65ce14e6c5f1192a6bb994b0\n'}, {'number': 2, 'created': '2019-07-08 08:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/1dd3786d88035e3181126f465870635fdc21c143', 'message': 'Migrate functional tests job to zuul v3\n\nJob is also renamed from ""legacy-neutron-fwaas-dsvm-functional"" to\n""neutron-fwaas-functional""\n\nChange-Id: I2c8cef73df67f13e65ce14e6c5f1192a6bb994b0\n'}, {'number': 3, 'created': '2019-07-08 09:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/49321caa2265f52e14a2cb10ce3257f5bf4bcccb', 'message': 'Migrate functional tests job to zuul v3\n\nJob is also renamed from ""legacy-neutron-fwaas-dsvm-functional"" to\n""neutron-fwaas-functional""\n\nChange-Id: I2c8cef73df67f13e65ce14e6c5f1192a6bb994b0\n'}, {'number': 4, 'created': '2019-07-08 10:20:35.000000000', 'files': ['bindep.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e351f264ef877660694a965f4f2eb63f8b593548', 'message': 'Migrate functional tests job to zuul v3\n\nJob is also renamed from ""legacy-neutron-fwaas-dsvm-functional"" to\n""neutron-fwaas-functional""\n\nChange-Id: I2c8cef73df67f13e65ce14e6c5f1192a6bb994b0\n'}]",0,668917,e351f264ef877660694a965f4f2eb63f8b593548,11,3,4,11975,,,0,"Migrate functional tests job to zuul v3

Job is also renamed from ""legacy-neutron-fwaas-dsvm-functional"" to
""neutron-fwaas-functional""

Change-Id: I2c8cef73df67f13e65ce14e6c5f1192a6bb994b0
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/17/668917/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c77fc0ffd792a78de306be8493c7b1d5a5d642ad,I2c8cef73df67f13e65ce14e6c5f1192a6bb994b0, - neutron-fwaas-functional - neutron-fwaas-functional name: neutron-fwaas-functional parent: neutron-functional vars: project_name: neutron-fwaas - job:, - legacy-neutron-fwaas-dsvm-functional - legacy-neutron-fwaas-dsvm-functional,8,2
openstack%2Fpuppet-keystone~master~I8ff7de2f59d7963130860f4a71596420e58ccb54,openstack/puppet-keystone,master,I8ff7de2f59d7963130860f4a71596420e58ccb54,Implement resource to configure parameters to use service token,MERGED,2019-06-20 00:22:28.000000000,2019-07-09 16:48:58.000000000,2019-07-09 16:48:58.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-20 00:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/b96b8e913337a554557503ce5fb717857a859753', 'message': 'Implement resource to configure parameters to use service_token\n\nRecently we have service_token feature implemented in some OpenStack\nservices, like nova or cinder, to avoid problems in cross-compnent\ninterfaction caused by token expiration.\n\nThis patch introduces new class to configure required options\nto use that feature.\n\nChange-Id: I8ff7de2f59d7963130860f4a71596420e58ccb54\n'}, {'number': 2, 'created': '2019-06-20 00:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/6c5a7d07ca9f464bf05c3c9718a6f6fed383302d', 'message': 'Implement resource to configure parameters to use service_token\n\nRecently we have service_token feature implemented in some OpenStack\nservices, like nova or cinder, to avoid problems in cross-compnent\ninterfaction caused by token expiration.\n\nThis patch introduces new class to configure required options\nto use that feature.\n\nChange-Id: I8ff7de2f59d7963130860f4a71596420e58ccb54\n'}, {'number': 3, 'created': '2019-06-20 01:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/1f4d7cff2996335fa7e527bb0b04d82aea12d18a', 'message': 'Implement resource to configure parameters to use service_token\n\nRecently we have service_token feature implemented in some OpenStack\nservices, like nova or cinder, to avoid problems in cross-compnent\ninterfaction caused by token expiration.\n\nThis patch introduces new class to configure required options\nto use that feature.\n\nChange-Id: I8ff7de2f59d7963130860f4a71596420e58ccb54\n'}, {'number': 4, 'created': '2019-06-20 03:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/42acb43b8a2c549687f4a3ecfa9f63ddd4941f00', 'message': 'Implement resource to configure parameters to use service_token\n\nRecently we have service_token feature implemented in some OpenStack\nservices, like nova or cinder, to avoid problems in cross-compnent\ninterfaction caused by token expiration.\n\nThis patch introduces new class to configure required options\nto use that feature.\n\nChange-Id: I8ff7de2f59d7963130860f4a71596420e58ccb54\n'}, {'number': 5, 'created': '2019-06-20 07:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/533de557b33d529b66543923370bec0816d83a44', 'message': 'Implement resource to configure parameters to use service_token\n\nRecently we have service_token feature implemented in some OpenStack\nservices, like nova or cinder, to avoid problems in cross-compnent\ninterfaction caused by token expiration.\n\nThis patch introduces new class to configure required options\nto use that feature.\n\nChange-Id: I8ff7de2f59d7963130860f4a71596420e58ccb54\n'}, {'number': 6, 'created': '2019-06-21 00:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/7970e669ff9b57c94c7f89d5d944c257f8cfd8dc', 'message': 'Implement resource to configure parameters to use service_token\n\nRecently we have service_token feature implemented in some OpenStack\nservices, like nova or cinder, to avoid problems in cross-compnent\ninterfaction caused by token expiration.\n\nThis patch introduces new class to configure required options\nto use that feature.\n\nChange-Id: I8ff7de2f59d7963130860f4a71596420e58ccb54\n'}, {'number': 7, 'created': '2019-06-21 02:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/5fda93469df963c428de09acca7b6e1f6f696282', 'message': 'Implement resource to configure parameters to use service_token\n\nRecently we have service_token feature implemented in some OpenStack\nservices, like nova or cinder, to avoid problems in cross-compnent\ninterfaction caused by token expiration.\n\nThis patch introduces new class to configure required options\nto use that feature.\n\nChange-Id: I8ff7de2f59d7963130860f4a71596420e58ccb54\n'}, {'number': 8, 'created': '2019-06-24 00:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/5bae9206a66e03010aca715b8d5a998d9fb2c0cb', 'message': 'Implement resource to configure parameters to use service_token\n\nRecently we have service_token feature implemented in some OpenStack\nservices, like nova or cinder, to avoid problems in cross-compnent\ninterfaction caused by token expiration.\n\nThis patch introduces new class to configure required options\nto use that feature.\n\nChange-Id: I8ff7de2f59d7963130860f4a71596420e58ccb54\n'}, {'number': 9, 'created': '2019-06-24 00:27:01.000000000', 'files': ['manifests/resource/authtoken.pp', 'spec/defines/keystone_resource_authtoken_spec.rb', 'releasenotes/notes/service_token-d49c87af77b8c39b.yaml', 'manifests/resource/service_user.pp', 'spec/defines/keystone_resource_service_user_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/ea2fce5d4c77d301ae230b2636c057827fb7e5d6', 'message': 'Implement resource to configure parameters to use service token\n\nRecently we have service_token feature implemented in some OpenStack\nservices, like nova or cinder, to avoid problems in cross-compnent\ninterfaction caused by token expiration.\n\nThis patch introduces new class to configure required options\nto use that feature.\n\nChange-Id: I8ff7de2f59d7963130860f4a71596420e58ccb54\n'}]",10,666467,ea2fce5d4c77d301ae230b2636c057827fb7e5d6,42,7,9,9816,,,0,"Implement resource to configure parameters to use service token

Recently we have service_token feature implemented in some OpenStack
services, like nova or cinder, to avoid problems in cross-compnent
interfaction caused by token expiration.

This patch introduces new class to configure required options
to use that feature.

Change-Id: I8ff7de2f59d7963130860f4a71596420e58ccb54
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/67/666467/8 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/service_token-d49c87af77b8c39b.yaml', 'manifests/resource/service_token.pp']",2,b96b8e913337a554557503ce5fb717857a859753,service_token,"# == Definition: keystone::resource::service_token # # This resource configures Keystone authentication resources to make OpenStack # services like nova or cinder use service token feature. It will manage the # [service_token] section in the given config resource. # # == Parameters: # # [*name*] # (Required) The name of the resource corresponding to the config file. # For example, keystone::resource::service_token { 'nova_config': ... } # Where 'nova_config' is the name of the resource used to manage # the nova configuration. # # [*send_service_user_token*] # (Optional) The service uses service token feature when this is set as true # Defaults to false # # [*username*] # (Required) The name of the service user # # [*password*] # (Required) Password to create for the service user # # [*auth_url*] # (Required) The URL to use for authentication. # # [*project_name*] # (Required) Service project name # # [*user_domain_name*] # (Optional) Name of domain for $username # Defaults to $::os_service_default # # [*project_domain_name*] # (Optional) Name of domain for $project_name # Defaults to $::os_service_default # # [*insecure*] # (Optional) If true, explicitly allow TLS without checking server cert # against any certificate authorities. WARNING: not recommended. Use with # caution. # Defaults to $::os_service_default # # [*auth_type*] # (Optional) Authentication type to load # Defaults to $::os_service_default # # [*auth_version*] # (Optional) API version of the admin Identity API endpoint. # Defaults to $::os_service_default. # # [*cafile*] # (Optional) A PEM encoded Certificate Authority to use when verifying HTTPs # connections. # Defaults to $::os_service_default. # # [*certfile*] # (Optional) Required if identity server requires client certificate # Defaults to $::os_service_default. # # [*keyfile*] # (Optional) Required if identity server requires client certificate # Defaults to $::os_service_default. # # [*region_name*] # (Optional) The region in which the identity server can be found. # Defaults to $::os_service_default. # define keystone::resource::service_token( $send_service_token = false, $username, $password, $auth_url, $project_name, $user_domain_name = $::os_service_default, $project_domain_name = $::os_service_default, $insecure = $::os_service_default, $auth_section = $::os_service_default, $auth_type = $::os_service_default, $auth_version = $::os_service_default, $cafile = $::os_service_default, $certfile = $::os_service_default, $keyfile = $::os_service_default, $region_name = $::os_service_default, ) { $service_token_options = { 'service_token/auth_type' => {'value' => $auth_type}, 'service_token/auth_version' => {'value' => $auth_version}, 'service_token/cafile' => {'value' => $cafile}, 'service_token/certfile' => {'value' => $certfile}, 'service_token/keyfile' => {'value' => $keyfile}, 'service_token/region_name' => {'value' => $region_name}, 'service_token/auth_url' => {'value' => $auth_url}, 'service_token/username' => {'value' => $username}, 'service_token/password' => {'value' => $password, 'secret' => true}, 'service_token/user_domain_name' => {'value' => $user_domain_name}, 'service_token/project_name' => {'value' => $project_name}, 'service_token/project_domain_name' => {'value' => $project_domain_name}, 'service_token/send_service_token' => {'value' => $send_service_token}, 'service_token/insecure' => {'value' => $insecure}, } create_resources($name, $service_token_options) } ",,110,0
openstack%2Fgovernance~master~If7ad13546aae99d97562e99dda5b4e114e0659ac,openstack/governance,master,If7ad13546aae99d97562e99dda5b4e114e0659ac,Initiate process of migrating Documentation project to a SIG,MERGED,2019-05-04 17:24:37.000000000,2019-07-09 16:47:00.000000000,2019-07-09 16:47:00.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 6928}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 11655}, {'_account_id': 12404}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-05-04 17:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/82d40f0201d3d4dbec5153dabf4036bf0ee5515c', 'message': 'Initiate process of migrating Documentation project to a SIG\n\nThe first step of this is moving the code deliverables to Oslo. This has\nalready been discussed with the Oslo PTL.\n\nChange-Id: If7ad13546aae99d97562e99dda5b4e114e0659ac\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2019-05-08 14:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/16cd2e483c3cea8c3ee56a82b1239c6dce42b9eb', 'message': 'Initiate process of migrating Documentation project to a SIG\n\nThe first step of this is moving the code deliverables to Oslo. This has\nalready been discussed with the Oslo PTL.\n\nChange-Id: If7ad13546aae99d97562e99dda5b4e114e0659ac\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2019-06-13 15:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/2ac41cfe4f3e59c14f0310d05388791e42c14f19', 'message': 'Initiate process of migrating Documentation project to a SIG\n\nThe first step of this is moving the code deliverables to Oslo. This has\nalready been discussed with the Oslo PTL.\n\nChange-Id: If7ad13546aae99d97562e99dda5b4e114e0659ac\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2019-06-13 15:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/81e4670abe8016c567f21362e666e7b7499e6b4f', 'message': 'Initiate process of migrating Documentation project to a SIG\n\nThe first step of this is moving the code deliverables to Oslo. This has\nalready been discussed with the Oslo PTL.\n\nChange-Id: If7ad13546aae99d97562e99dda5b4e114e0659ac\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2019-06-13 15:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/cd26ec5eea82d27c6112b842e0f15ebc96ee7e04', 'message': 'Initiate process of migrating Documentation project to a SIG\n\nThe first step of this is moving the code deliverables to Oslo. This has\nalready been discussed with the Oslo PTL.\n\nChange-Id: If7ad13546aae99d97562e99dda5b4e114e0659ac\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 6, 'created': '2019-06-28 17:20:48.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/0134af1b6c54fafb1d4743d20d9733171b1258b4', 'message': 'Initiate process of migrating Documentation project to a SIG\n\nThe first step of this is moving the code deliverables to Oslo. This has\nalready been discussed with the Oslo PTL.\n\nChange-Id: If7ad13546aae99d97562e99dda5b4e114e0659ac\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,657141,0134af1b6c54fafb1d4743d20d9733171b1258b4,37,15,6,15334,,,0,"Initiate process of migrating Documentation project to a SIG

The first step of this is moving the code deliverables to Oslo. This has
already been discussed with the Oslo PTL.

Change-Id: If7ad13546aae99d97562e99dda5b4e114e0659ac
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/41/657141/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,82d40f0201d3d4dbec5153dabf4036bf0ee5515c,formal-vote, openstack-doc-tools: repos: - openstack/openstack-doc-tools openstackdocstheme: repos: - openstack/openstackdocstheme os-api-ref: repos: - openstack/os-api-ref whereto: repos: - openstack/whereto, openstack-doc-tools: repos: - openstack/openstack-doc-tools openstackdocstheme: repos: - openstack/openstackdocstheme os-api-ref: repos: - openstack/os-api-ref whereto: repos: - openstack/whereto,12,12
openstack%2Fcinder~master~If1e39293889212c77b025f5917ec9f41fd7d1384,openstack/cinder,master,If1e39293889212c77b025f5917ec9f41fd7d1384,RBD: save and restore multiattach features,MERGED,2019-03-13 17:58:54.000000000,2019-07-09 16:45:14.000000000,2019-07-09 16:45:14.000000000,"[{'_account_id': 4523}, {'_account_id': 7488}, {'_account_id': 9008}, {'_account_id': 9236}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29637}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-03-13 17:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/11773b0195abeac51135f9a5d1f773128533a2c1', 'message': 'RBD: save and restore multiattach features\n\nThis patch implements saving and restoring of RBD image features for\nmultiattach volume retyping operations.  If saved features are not found\nbecause the volume was created with an earlier revision of this driver,\nan exception is raised which causes the driver-optimized retype to\ndropped in favor of volume migration.  In the migration, a new volume of\ncorrect type is created and this volume will have the proper features\nboth disabled and stored as metadata.  No additional steps are required\nto migrate from earlier code revisions.\n\nChange-Id: If1e39293889212c77b025f5917ec9f41fd7d1384\n'}, {'number': 2, 'created': '2019-04-10 19:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3fae37b8600c6ac7a84e8c300e3a66b4f2dafc6', 'message': 'RBD: save and restore multiattach features\n\nThis patch implements saving and restoring of RBD image features for\nmultiattach volume retyping operations.  If saved features are not found\nbecause the volume was created with an earlier revision of this driver,\nan exception is raised which causes the driver-optimized retype to\ndropped in favor of volume migration.  In the migration, a new volume of\ncorrect type is created and this volume will have the proper features\nboth disabled and stored as metadata.  No additional steps are required\nto migrate from earlier code revisions.\n\nChange-Id: If1e39293889212c77b025f5917ec9f41fd7d1384\n'}, {'number': 3, 'created': '2019-06-19 20:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/91f8ef4d23a95f6e25259387f5f2c7430f4bf36b', 'message': 'RBD: save and restore multiattach features\n\nThis patch implements saving and restoring of RBD image features for\nmultiattach volume retyping operations.  If saved features are not found\nbecause the volume was created with an earlier revision of this driver,\nan exception is raised which causes the driver-optimized retype to\ndropped in favor of volume migration.  In the migration, a new volume of\ncorrect type is created and this volume will have the proper features\nboth disabled and stored as metadata.  No additional steps are required\nto migrate from earlier code revisions.\n\nChange-Id: If1e39293889212c77b025f5917ec9f41fd7d1384\n'}, {'number': 4, 'created': '2019-06-21 16:06:24.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a56fce0c4fbb0f579493a4b9e4e4de2c49be308', 'message': 'RBD: save and restore multiattach features\n\nThis patch implements saving and restoring of RBD image features for\nmultiattach volume retyping operations.  If saved features are not found\nbecause the volume was created with an earlier revision of this driver,\nan exception is raised which causes the driver-optimized retype to\ndropped in favor of volume migration.  In the migration, a new volume of\ncorrect type is created and this volume will have the proper features\nboth disabled and stored as metadata.  No additional steps are required\nto migrate from earlier code revisions.\n\nChange-Id: If1e39293889212c77b025f5917ec9f41fd7d1384\n'}]",11,643116,2a56fce0c4fbb0f579493a4b9e4e4de2c49be308,130,41,4,9236,,,0,"RBD: save and restore multiattach features

This patch implements saving and restoring of RBD image features for
multiattach volume retyping operations.  If saved features are not found
because the volume was created with an earlier revision of this driver,
an exception is raised which causes the driver-optimized retype to
dropped in favor of volume migration.  In the migration, a new volume of
correct type is created and this volume will have the proper features
both disabled and stored as metadata.  No additional steps are required
to migrate from earlier code revisions.

Change-Id: If1e39293889212c77b025f5917ec9f41fd7d1384
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/643116/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,11773b0195abeac51135f9a5d1f773128533a2c1,multi," image_features = None with RBDVolumeProxy(self, vol_name) as image: image_features = image.features() for feature in multipath_feature_exclusions: if image_features & feature: return {'provider_location': self._dumps({'saved_features': image_features})} def _disable_multiattach(self, volume): multipath_feature_exclusions = [ self.rbd.RBD_FEATURE_EXCLUSIVE_LOCK, self.rbd.RBD_FEATURE_OBJECT_MAP, self.rbd.RBD_FEATURE_FAST_DIFF, self.rbd.RBD_FEATURE_JOURNALING, ] vol_name = utils.convert_str(volume.name) with RBDVolumeProxy(self, vol_name) as image: try: provider_location = json.loads(volume.provider_location) image_features = provider_location['saved_features'] except Exception: msg = _('Could not find saved image features.') raise exception.RBDDriverException(reason=msg) for feature in multipath_feature_exclusions: if image_features & feature: image.update_features(feature, True) return {'provider_location': None} def _setup_volume(self, volume, volume_type=None): if volume_type: had_replication = self._is_replicated_type(volume.volume_type) had_multiattach = self._is_multiattach_type(volume.volume_type) else: had_replication = False had_multiattach = False volume_type = volume.volume_type want_replication = self._is_replicated_type(volume_type) want_multiattach = self._is_multiattach_type(volume_type) volume_update = dict() if want_replication: if had_multiattach: volume_update.update(self._disable_multiattach(volume)) if not had_replication: try: volume_update.update(self._enable_replication(volume)) except Exception: err_msg = (_('Failed to enable image replication')) raise exception.ReplicationError(reason=err_msg, volume_id=volume.id) elif had_replication: try: volume_update.update(self._disable_replication(volume)) except Exception: err_msg = (_('Failed to disable image replication')) raise exception.ReplicationError(reason=err_msg, volume_id=volume.id) elif self._is_replication_enabled: volume_update.update({'replication_status': fields.ReplicationStatus.DISABLED}) volume_update.update(self._enable_multiattach(volume)) elif had_multiattach: volume_update.update(self._disable_multiattach(volume)) return volume_update return True, self._setup_volume(volume, new_type)"," with RBDVolumeProxy(self, vol_name) as image: for feature in multipath_feature_exclusions: if image.features() & feature: def _setup_volume(self, volume): want_replication = self._is_replicated_type(volume.volume_type) want_multiattach = self._is_multiattach_type(volume.volume_type) if want_replication: return self._enable_replication(volume) update = None if self._is_replication_enabled: update = {'replication_status': fields.ReplicationStatus.DISABLED} self._enable_multiattach(volume) return update # NOTE: There is no mechanism to store prior image features when # creating a multiattach volume. So retyping to non-multiattach # would result in an RBD image that lacks several popular # features (object-map, fast-diff, etc). Without saving prior # state as we do for replication, it is impossible to know which # feautures to restore. if self._is_multiattach_type(volume.volume_type): msg = _('Retyping from multiattach is not supported.') raise exception.RBDDriverException(reason=msg) old_vol_replicated = self._is_replicated_type(volume.volume_type) new_vol_replicated = self._is_replicated_type(new_type) if old_vol_replicated and not new_vol_replicated: try: return True, self._disable_replication(volume) except Exception: err_msg = (_('Failed to disable image replication')) raise exception.ReplicationError(reason=err_msg, volume_id=volume.id) elif not old_vol_replicated and new_vol_replicated: try: return True, self._enable_replication(volume) except Exception: err_msg = (_('Failed to enable image replication')) raise exception.ReplicationError(reason=err_msg, volume_id=volume.id) if not new_vol_replicated and self._is_replication_enabled: update = {'replication_status': fields.ReplicationStatus.DISABLED} else: update = None return True, update",62,47
openstack%2Fnova~master~Ibfb879751bba038054ba7852dc49f6d9e67027d6,openstack/nova,master,Ibfb879751bba038054ba7852dc49f6d9e67027d6,Implement update_provider_tree,MERGED,2019-06-25 17:11:55.000000000,2019-07-09 16:45:09.000000000,2019-07-09 16:45:09.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-25 17:11:55.000000000', 'files': ['nova/tests/unit/virt/hyperv/test_hostops.py', 'nova/virt/hyperv/driver.py', 'nova/tests/unit/virt/hyperv/test_driver.py', 'nova/virt/hyperv/hostops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/544738d97b5d9814f2f53505f37aad44594de22c', 'message': ""Implement update_provider_tree\n\nFor now, we'll just set the available ram, disk and vcpus.\nThis will allow allocation ratios to be set at the placement\ninventory level. At the same time, driver capabilities will be\nexposed through traits.\n\nOnce #1784020 is addressed, we may skip reporting shared storage\ncapacity.\n\nWe're also skipping CPU features for a couple of reasons:\n* there are just a few features defined by os-traits, yet even\n  fewer exposed by Windows APIs. One option would be to call cpuid\n  to get a more exhaustive list of features but that would require\n  a C Python extension or separate executable.\n* we can't tell for sure which CPU features will actually be exposed\n  to the guest, especially when limiting guest CPU features in order\n  to support live migration in heterogeneous deployments.\n\nNOTE(mriedem): This is a cherry-pick of the out-of-tree hyperv\ndriver change https://review.opendev.org/655123/. The only\nmodification is the os_resource_classes imports are grouped with\nthird party imports rather than the nova imports.\n\nChange-Id: Ibfb879751bba038054ba7852dc49f6d9e67027d6\n""}]",0,667417,544738d97b5d9814f2f53505f37aad44594de22c,20,15,1,6873,,,0,"Implement update_provider_tree

For now, we'll just set the available ram, disk and vcpus.
This will allow allocation ratios to be set at the placement
inventory level. At the same time, driver capabilities will be
exposed through traits.

Once #1784020 is addressed, we may skip reporting shared storage
capacity.

We're also skipping CPU features for a couple of reasons:
* there are just a few features defined by os-traits, yet even
  fewer exposed by Windows APIs. One option would be to call cpuid
  to get a more exhaustive list of features but that would require
  a C Python extension or separate executable.
* we can't tell for sure which CPU features will actually be exposed
  to the guest, especially when limiting guest CPU features in order
  to support live migration in heterogeneous deployments.

NOTE(mriedem): This is a cherry-pick of the out-of-tree hyperv
driver change https://review.opendev.org/655123/. The only
modification is the os_resource_classes imports are grouped with
third party imports rather than the nova imports.

Change-Id: Ibfb879751bba038054ba7852dc49f6d9e67027d6
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/667417/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/hyperv/test_hostops.py', 'nova/virt/hyperv/driver.py', 'nova/tests/unit/virt/hyperv/test_driver.py', 'nova/virt/hyperv/hostops.py']",4,544738d97b5d9814f2f53505f37aad44594de22c,update_provider_tree,"import os_resource_classes as orcfrom nova.compute import utils as compute_utils def update_provider_tree(self, provider_tree, nodename, allocation_ratios, allocations=None): resources = self.get_available_resource() inventory = { orc.VCPU: { 'total': resources['vcpus'], 'min_unit': 1, 'max_unit': resources['vcpus'], 'step_size': 1, 'allocation_ratio': allocation_ratios[orc.VCPU], 'reserved': CONF.reserved_host_cpus, }, orc.MEMORY_MB: { 'total': resources['memory_mb'], 'min_unit': 1, 'max_unit': resources['memory_mb'], 'step_size': 1, 'allocation_ratio': allocation_ratios[orc.MEMORY_MB], 'reserved': CONF.reserved_host_memory_mb, }, # TODO(lpetrut): once #1784020 is fixed, we can skip reporting # shared storage capacity orc.DISK_GB: { 'total': resources['local_gb'], 'min_unit': 1, 'max_unit': resources['local_gb'], 'step_size': 1, 'allocation_ratio': allocation_ratios[orc.DISK_GB], 'reserved': compute_utils.convert_mb_to_ceil_gb( CONF.reserved_host_disk_mb), }, } provider_tree.update_inventory(nodename, inventory)",,105,0
openstack%2Fgovernance~master~I1d9c103ffc82d37e7eddb04d039dcb4e78160c8d,openstack/governance,master,I1d9c103ffc82d37e7eddb04d039dcb4e78160c8d,Retire docs-specs,MERGED,2019-05-04 17:24:37.000000000,2019-07-09 16:44:31.000000000,2019-07-09 16:44:30.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 15334}, {'_account_id': 17068}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-05-04 17:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/2a35b6e7815d2293b7830c520d62474b1eeeb9aa', 'message': 'Retire docs-specs\n\nChange-Id: I1d9c103ffc82d37e7eddb04d039dcb4e78160c8d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: I557bace8008cc3b4fc1f78264f93291c49f897ad\n'}, {'number': 2, 'created': '2019-05-08 14:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/d2ca9608b62ba98f1e213784d7ed9e5b0aeabd9b', 'message': 'Retire docs-specs\n\nChange-Id: I1d9c103ffc82d37e7eddb04d039dcb4e78160c8d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: I557bace8008cc3b4fc1f78264f93291c49f897ad\n'}, {'number': 3, 'created': '2019-05-27 08:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/cda919849dbf4f96b0facec110f28d471bd97c01', 'message': 'Retire docs-specs\n\nChange-Id: I1d9c103ffc82d37e7eddb04d039dcb4e78160c8d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: I557bace8008cc3b4fc1f78264f93291c49f897ad\n'}, {'number': 4, 'created': '2019-06-13 15:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/46d0a4d827d25f3b3bf9a9495cff84d680b52828', 'message': 'Retire docs-specs\n\nChange-Id: I1d9c103ffc82d37e7eddb04d039dcb4e78160c8d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: I557bace8008cc3b4fc1f78264f93291c49f897ad\n'}, {'number': 5, 'created': '2019-06-13 15:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/6e09dd39b25ed67ad58fe53987b83a6092055af3', 'message': 'Retire docs-specs\n\nChange-Id: I1d9c103ffc82d37e7eddb04d039dcb4e78160c8d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: I557bace8008cc3b4fc1f78264f93291c49f897ad\n'}, {'number': 6, 'created': '2019-06-13 15:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/4df29cea8a4e04faa3d32d2c3d406245b54ddf86', 'message': 'Retire docs-specs\n\nChange-Id: I1d9c103ffc82d37e7eddb04d039dcb4e78160c8d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: I557bace8008cc3b4fc1f78264f93291c49f897ad\n'}, {'number': 7, 'created': '2019-06-28 17:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/8de86144b5daaa28def8fd0c1e4f3febbdd29338', 'message': 'Retire docs-specs\n\nChange-Id: I1d9c103ffc82d37e7eddb04d039dcb4e78160c8d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: I557bace8008cc3b4fc1f78264f93291c49f897ad\n'}, {'number': 8, 'created': '2019-06-28 17:20:48.000000000', 'files': ['reference/legacy.yaml', 'reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/d28c309692bdb8fe86eba203bbc475d7bcfde223', 'message': 'Retire docs-specs\n\nChange-Id: I1d9c103ffc82d37e7eddb04d039dcb4e78160c8d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nDepends-On: I557bace8008cc3b4fc1f78264f93291c49f897ad\n'}]",5,657140,d28c309692bdb8fe86eba203bbc475d7bcfde223,46,12,8,15334,,,0,"Retire docs-specs

Change-Id: I1d9c103ffc82d37e7eddb04d039dcb4e78160c8d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Depends-On: I557bace8008cc3b4fc1f78264f93291c49f897ad
",git fetch https://review.opendev.org/openstack/governance refs/changes/40/657140/8 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,2a35b6e7815d2293b7830c520d62474b1eeeb9aa,project-update,, docs-specs: release-management: none repos: - openstack/docs-specs,0,4
openstack%2Fgovernance~master~I813e323889d17fc655993dc80c3a7444eaa95f83,openstack/governance,master,I813e323889d17fc655993dc80c3a7444eaa95f83,Update mailing lists in release naming process doc,MERGED,2019-07-09 14:21:17.000000000,2019-07-09 16:44:30.000000000,2019-07-09 16:44:30.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-09 14:21:17.000000000', 'files': ['reference/release-naming.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/2891884121121ff7cf0455166abcbff0fa25519c', 'message': 'Update mailing lists in release naming process doc\n\nThe release naming poll will be communicated on openstack-discuss,\nas it replaced the openstack, openstack-dev and openstack-operators\nmailing lists in 2018.\n\nChange-Id: I813e323889d17fc655993dc80c3a7444eaa95f83\n'}]",0,669882,2891884121121ff7cf0455166abcbff0fa25519c,8,3,1,5263,,,0,"Update mailing lists in release naming process doc

The release naming poll will be communicated on openstack-discuss,
as it replaced the openstack, openstack-dev and openstack-operators
mailing lists in 2018.

Change-Id: I813e323889d17fc655993dc80c3a7444eaa95f83
",git fetch https://review.opendev.org/openstack/governance refs/changes/82/669882/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/release-naming.rst'],1,2891884121121ff7cf0455166abcbff0fa25519c,documentation-change, (openstack-discuss and openstack-foundation).," (openstack, openstack-dev, openstack-operators, openstack-foundation).",1,1
openstack%2Fkolla-ansible~master~I83b1e84a43f014ce20be8677868be3f66017e3c2,openstack/kolla-ansible,master,I83b1e84a43f014ce20be8677868be3f66017e3c2,Trivial fix: log stderr of init-runonce as well,MERGED,2019-07-09 13:40:23.000000000,2019-07-09 16:43:10.000000000,2019-07-09 16:43:10.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-09 13:40:23.000000000', 'files': ['tests/deploy.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/53ea3fe4af9418e0a1344d015ed1faef08a1b4e1', 'message': 'Trivial fix: log stderr of init-runonce as well\n\nMissed by me in a recent merge.\n\nTrivialFix\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n\nChange-Id: I83b1e84a43f014ce20be8677868be3f66017e3c2\n'}]",0,669873,53ea3fe4af9418e0a1344d015ed1faef08a1b4e1,7,2,1,30491,,,0,"Trivial fix: log stderr of init-runonce as well

Missed by me in a recent merge.

TrivialFix
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>

Change-Id: I83b1e84a43f014ce20be8677868be3f66017e3c2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/669873/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/deploy.sh'],1,53ea3fe4af9418e0a1344d015ed1faef08a1b4e1,trivial-fix-log-collection, tools/init-runonce &> /tmp/logs/ansible/init-runonce, tools/init-runonce > /tmp/logs/ansible/init-runonce,1,1
openstack%2Frpm-packaging~master~I2c19cc7a8eae940f8bd3e427bbcd337930b1fca3,openstack/rpm-packaging,master,I2c19cc7a8eae940f8bd3e427bbcd337930b1fca3,renderspec: Update to 1.12.0,MERGED,2019-07-08 04:28:39.000000000,2019-07-09 16:33:10.000000000,2019-07-09 16:33:10.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-08 04:28:39.000000000', 'files': ['openstack/renderspec/renderspec.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/954ffd51203acf899e385f79c5198c5a5b1ca7ff', 'message': 'renderspec: Update to 1.12.0\n\nChange-Id: I2c19cc7a8eae940f8bd3e427bbcd337930b1fca3\n'}]",0,669598,954ffd51203acf899e385f79c5198c5a5b1ca7ff,16,5,1,7102,,,0,"renderspec: Update to 1.12.0

Change-Id: I2c19cc7a8eae940f8bd3e427bbcd337930b1fca3
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/98/669598/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/renderspec/renderspec.spec.j2'],1,954ffd51203acf899e385f79c5198c5a5b1ca7ff,,{% set upstream_version = upstream_version('1.12.0') %},{% set upstream_version = upstream_version('1.11.1') %},1,1
openstack%2Fkeystone-specs~master~I9b537ef7a70fa7e61c8cf0d6811120198a01ab37,openstack/keystone-specs,master,I9b537ef7a70fa7e61c8cf0d6811120198a01ab37,Add spec for immutable resources,MERGED,2018-12-12 13:27:35.000000000,2019-07-09 16:32:26.000000000,2019-07-09 16:32:26.000000000,"[{'_account_id': 2218}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 6593}, {'_account_id': 7725}, {'_account_id': 8482}, {'_account_id': 9098}, {'_account_id': 11022}, {'_account_id': 13063}, {'_account_id': 15054}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-12 13:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/6d118203607c79eb87b83a8a1627b47a86d10e70', 'message': 'Add spec for immutable roles\n\nChange-Id: I9b537ef7a70fa7e61c8cf0d6811120198a01ab37\n'}, {'number': 2, 'created': '2018-12-13 14:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/557f3578859adf813a04411ad1fb07be3ce72302', 'message': 'Add spec for immutable roles\n\nCo-authored-by: Lance Bragstad <lbragstad@gmail.com>\nChange-Id: I9b537ef7a70fa7e61c8cf0d6811120198a01ab37\n'}, {'number': 3, 'created': '2018-12-14 08:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/851a6d36827dbcc0939c6e63b9e24f69a782b887', 'message': 'Add spec for immutable roles\n\nCo-authored-by: Lance Bragstad <lbragstad@gmail.com>\nChange-Id: I9b537ef7a70fa7e61c8cf0d6811120198a01ab37\n'}, {'number': 4, 'created': '2018-12-14 10:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/95339d5ce1472661e9e2f607bd988b214b28b6a2', 'message': 'Add spec for immutable roles\n\nCo-authored-by: Lance Bragstad <lbragstad@gmail.com>\nChange-Id: I9b537ef7a70fa7e61c8cf0d6811120198a01ab37\n'}, {'number': 5, 'created': '2018-12-14 12:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/5b68ea74467af108624479d8efdade4122c7bf72', 'message': 'Add spec for immutable roles\n\nCo-authored-by: Lance Bragstad <lbragstad@gmail.com>\nChange-Id: I9b537ef7a70fa7e61c8cf0d6811120198a01ab37\n'}, {'number': 6, 'created': '2019-04-04 20:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/1572633af3944b1de746785d26eb1b03e3124d2c', 'message': 'Add spec for immutable roles\n\nCo-authored-by: Lance Bragstad <lbragstad@gmail.com>\nChange-Id: I9b537ef7a70fa7e61c8cf0d6811120198a01ab37\n'}, {'number': 7, 'created': '2019-05-29 18:04:08.000000000', 'files': ['specs/keystone/train/immutable-resources.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/4d2b9daa8eb79436e7103914cf669fbe412c3844', 'message': 'Add spec for immutable resources\n\nThis spec proposes to allow roles, users, projects, and domains to be\nmarked as ""immutable"", and further elaborates on the migration procedure\nto make the admin role immutable by default.\n\nCo-authored-by: Lance Bragstad <lbragstad@gmail.com>\nChange-Id: I9b537ef7a70fa7e61c8cf0d6811120198a01ab37\n'}]",31,624692,4d2b9daa8eb79436e7103914cf669fbe412c3844,39,13,7,8482,,,0,"Add spec for immutable resources

This spec proposes to allow roles, users, projects, and domains to be
marked as ""immutable"", and further elaborates on the migration procedure
to make the admin role immutable by default.

Co-authored-by: Lance Bragstad <lbragstad@gmail.com>
Change-Id: I9b537ef7a70fa7e61c8cf0d6811120198a01ab37
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/92/624692/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/keystone/ongoing/immutable-roles.rst'],1,6d118203607c79eb87b83a8a1627b47a86d10e70,train-specs,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================= Make Default Roles Immutable by Default ======================================= `bp immutable-roles <https://blueprints.launchpad.net/keystone/+spec/immutable-roles>`_ Keystone is a critical part of a cloud deployment. Administrators should take special care with configuration changes in keystone to avoid cascading bad changes to the rest of the cloud deployment, but keystone should also be more robust against accidentall footgunning. Problem Description =================== If a keystone role is deleted from keystone, it triggers the deletion of all role assignments any user has in any scope for that role. If a role is accidentally deleted, it is irrecoverable. This is especially destructive if the role in question is the admin role, the deletion of which results in a total cloud outage which requires manual intervention to recover from. Proposed Change =============== Eventually, the admin role should become immutable by default. However, hardcoding immutability would be extremely backwards incompatible, so we implement this in steps: #. Add an ``immutable`` `resource option`_ to the role model. This will be off by default, always. #. Add an opt-in flag ``--immutable-roles`` to the ``keystone-manage bootstrap`` command which sets the ``immutable`` resource option on the default roles (``admin``, ``member``, ``reader``) to ``true``. The command should also log a warning that this will become default behavior in the future if they do not set it. #. Add a ``keystone-manage doctor`` check to alert operators if they have not made the default roles immutable. #. Change the ``keystone-manage bootstrap`` behavior to make roles immutable by default and opt-out available with ``--no-immutable-roles``. .. _resource option: https://docs.openstack.org/keystone/latest/admin/resource-options.html Alternatives ------------ * Make role more like domains, which must be disabled and then deleted. This is not backwards compatible. * Change roles to be soft-deleted. This doesn't change the fact that role assignments are hard-deleted, but could make it easier to recover since the role ID still resides in the database. * Change horizon to give a visual alert for potentially destructive actions like deleting the admin role. This doesn't protect against bad scripts. Security Impact --------------- This doesn't have a direct security impact. Notifications Impact -------------------- No notifications will be admitted with this new resource option. Other End User Impact --------------------- Administrative users will need to unset the ``immutable`` flag for a role if they truly want to delete the role. Client changes will be needed to allow the adminitrator to set a role as immutable or mutable. Non-administrative end users should see no difference. Performance Impact ------------------ Negligable performance impact. Other Deployer Impact --------------------- Deployers will be alerted to opt into the new behavior. Detailed upgrade instructions will be made available in the release notes and the command help output. Developer Impact ---------------- Developers of custom role backends will need to be aware of the new property. Implementation ============== Assignee(s) ----------- Primary assignee: Colleen Murphy (cmurphy) Work Items ---------- Outlined in `Proposed Change`_. Dependencies ============ Requires resource options scaffolding to be implemented for the role driver. Documentation Impact ==================== This will require an update to the API reference and instructions in the administrator guide for upgrading and managing roles. References ========== * `Meeting discussion <http://eavesdrop.openstack.org/meetings/keystone/2018/keystone.2018-12-04-16.00.log.html#l-172>`_ ",,128,0
openstack%2Ftempest~master~I554c438f27a7032f31e56eac2aac110e08bb3d7d,openstack/tempest,master,I554c438f27a7032f31e56eac2aac110e08bb3d7d,Remove networking-ansible from tempest plugins list,MERGED,2019-07-04 07:26:27.000000000,2019-07-09 16:12:54.000000000,2019-07-09 16:12:54.000000000,"[{'_account_id': 6167}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-07-04 07:26:27.000000000', 'files': ['tools/generate-tempest-plugins-list.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/012dc98fb2cf25f0febbbc7b67e62062da820296', 'message': ""Remove networking-ansible from tempest plugins list\n\nThis commit removes x/networking-ansible from the tempest plugins list.\nThe original patch[0] was abandoned because networking-ansible took a\ndifferent approach[1] for the testing. So, it's not a tempest plugin\nanymore.\n\n[0] https://review.opendev.org/#/c/634647/\n[1] https://review.opendev.org/#/c/634918/\n\nChange-Id: I554c438f27a7032f31e56eac2aac110e08bb3d7d\n""}]",0,669077,012dc98fb2cf25f0febbbc7b67e62062da820296,7,3,1,5689,,,0,"Remove networking-ansible from tempest plugins list

This commit removes x/networking-ansible from the tempest plugins list.
The original patch[0] was abandoned because networking-ansible took a
different approach[1] for the testing. So, it's not a tempest plugin
anymore.

[0] https://review.opendev.org/#/c/634647/
[1] https://review.opendev.org/#/c/634918/

Change-Id: I554c438f27a7032f31e56eac2aac110e08bb3d7d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/669077/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/generate-tempest-plugins-list.py', '.zuul.yaml']",2,012dc98fb2cf25f0febbbc7b67e62062da820296,remove-networking-ansible,, - opendev.org/x/networking-ansible,0,2
openstack%2Ftempest~master~I72eb62af993bc978127185a1aed0763af18ce9f3,openstack/tempest,master,I72eb62af993bc978127185a1aed0763af18ce9f3,Remove nova-lxd plugin from blacklist,MERGED,2019-07-04 07:54:23.000000000,2019-07-09 16:11:36.000000000,2019-07-09 16:11:35.000000000,"[{'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-07-04 07:54:23.000000000', 'files': ['tools/generate-tempest-plugins-list.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0187a6647ab1632475ae2934b621629aec47742e', 'message': 'Remove nova-lxd plugin from blacklist\n\nThis commit removes the nova-lxd plugin from the blacklist. The proposed\npatch was already merged, so this plugin should pass the sanity job now.\n\nChange-Id: I72eb62af993bc978127185a1aed0763af18ce9f3\n'}]",0,669088,0187a6647ab1632475ae2934b621629aec47742e,8,4,1,5689,,,0,"Remove nova-lxd plugin from blacklist

This commit removes the nova-lxd plugin from the blacklist. The proposed
patch was already merged, so this plugin should pass the sanity job now.

Change-Id: I72eb62af993bc978127185a1aed0763af18ce9f3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/88/669088/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/generate-tempest-plugins-list.py'],1,0187a6647ab1632475ae2934b621629aec47742e,remove-nova-lxd-blacklist,," 'x/nova-lxd', # https://review.opendev.org/#/c/638334/",0,1
openstack%2Ftempest~master~I764cfff7dd07214fa44dacfa2a86476471e8fb20,openstack/tempest,master,I764cfff7dd07214fa44dacfa2a86476471e8fb20,Fix tempest run doc indentation,MERGED,2019-07-05 07:38:04.000000000,2019-07-09 16:11:34.000000000,2019-07-09 16:11:34.000000000,"[{'_account_id': 6167}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-07-05 07:38:04.000000000', 'files': ['tempest/cmd/run.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9c25b1d0ba23210e4956ceba4f127331580c7fea', 'message': ""Fix tempest run doc indentation\n\nThis commit fixes the tempest run documentation indentations for more\nappropriate rendering[0]. Currently, it's rendered as a quote which is\nweird.\n\n[0] https://docs.openstack.org/tempest/latest/run.html#test-selection\n\nChange-Id: I764cfff7dd07214fa44dacfa2a86476471e8fb20\n""}]",0,669282,9c25b1d0ba23210e4956ceba4f127331580c7fea,7,3,1,5689,,,0,"Fix tempest run doc indentation

This commit fixes the tempest run documentation indentations for more
appropriate rendering[0]. Currently, it's rendered as a quote which is
weird.

[0] https://docs.openstack.org/tempest/latest/run.html#test-selection

Change-Id: I764cfff7dd07214fa44dacfa2a86476471e8fb20
",git fetch https://review.opendev.org/openstack/tempest refs/changes/82/669282/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/cmd/run.py'],1,9c25b1d0ba23210e4956ceba4f127331580c7fea,fix-tempest-run-doc,* ``--regex/-r``: This is a selection regex like what stestr uses. It will run any tests that match on re.match() with the regex * ``--smoke/-s``: Run all the tests tagged as smoke * ``--black-regex``: It allows to do simple test exclusion via passing a rejection/black regexp, * **--regex/-r**: This is a selection regex like what stestr uses. It will run any tests that match on re.match() with the regex * **--smoke/-s**: Run all the tests tagged as smoke * **--black-regex**: It allows to do simple test exclusion via passing a rejection/black regexp,5,5
openstack%2Fpuppet-tripleo~master~Ic77281cc69230b77224421e3d79d93803ea18bad,openstack/puppet-tripleo,master,Ic77281cc69230b77224421e3d79d93803ea18bad,Support TLS deployments with KernelDisableIPv6 enabled,MERGED,2019-07-03 16:48:44.000000000,2019-07-09 16:06:21.000000000,2019-07-09 16:05:17.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8866}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-03 16:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/67d0d951f999edf73456336d376990202b1f9346', 'message': '[WiP] Support TLS deployments with KernelDisableIPv6 enabled\n\n* Listen on 127.0.0.1\n\nChange-Id: Ic77281cc69230b77224421e3d79d93803ea18bad\nRelated: rhbz#1703460\n'}, {'number': 2, 'created': '2019-07-08 18:59:56.000000000', 'files': ['manifests/tls_proxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5061ed8b7b8419f1302d425e05b7f80f4d6d051b', 'message': 'Support TLS deployments with KernelDisableIPv6 enabled\n\nThis will listen on 127.0.0.1 in case ipv6 is disabled.\nThe localhost_address is set in t-h-t kernel-baremetal-puppet.yaml\nin a related patch.\n\nChange-Id: Ic77281cc69230b77224421e3d79d93803ea18bad\nNeeded-By: Ide761c21dc87dadc722e27c9b8a7b68194164cb2\nRelated: rhbz#1703460\n'}]",0,668956,5061ed8b7b8419f1302d425e05b7f80f4d6d051b,19,8,2,14250,,,0,"Support TLS deployments with KernelDisableIPv6 enabled

This will listen on 127.0.0.1 in case ipv6 is disabled.
The localhost_address is set in t-h-t kernel-baremetal-puppet.yaml
in a related patch.

Change-Id: Ic77281cc69230b77224421e3d79d93803ea18bad
Needed-By: Ide761c21dc87dadc722e27c9b8a7b68194164cb2
Related: rhbz#1703460
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/56/668956/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/tls_proxy.pp'],1,67d0d951f999edf73456336d376990202b1f9346,kernel_disable_ipv6," url => ""http://127.0.0.1:${port}/"","," url => ""http://localhost:${port}/"",",1,1
openstack%2Fsushy~master~I7f5c16ef867b0b931f9a25674831ade0a78dcd6e,openstack/sushy,master,I7f5c16ef867b0b931f9a25674831ade0a78dcd6e,Refactor DurableName identifier and Protocol fields,MERGED,2019-07-02 12:07:49.000000000,2019-07-09 16:06:10.000000000,2019-07-09 16:06:10.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-07-02 12:07:49.000000000', 'files': ['sushy/resources/common.py', 'sushy/tests/unit/resources/system/storage/test_drive.py', 'sushy/resources/constants.py', 'sushy/tests/unit/resources/system/storage/test_volume.py', 'sushy/resources/fabric/mappings.py', 'sushy/resources/fabric/fabric.py', 'sushy/resources/system/storage/drive.py', 'sushy/__init__.py', 'sushy/resources/mappings.py', 'sushy/tests/unit/resources/system/storage/test_storage.py', 'sushy/resources/fabric/endpoint.py', 'sushy/resources/fabric/constants.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/dc127c80e514f60e0567f82a1d31c4d66c5e35e9', 'message': 'Refactor DurableName identifier and Protocol fields\n\nThe code for the Durable Name identifiers and the Protocol related\nfields had been replicated at different places in different forms.\nThis patch aims at cleaning the same.\n\nChange-Id: I7f5c16ef867b0b931f9a25674831ade0a78dcd6e\n'}]",0,668662,dc127c80e514f60e0567f82a1d31c4d66c5e35e9,7,6,1,30013,,,0,"Refactor DurableName identifier and Protocol fields

The code for the Durable Name identifiers and the Protocol related
fields had been replicated at different places in different forms.
This patch aims at cleaning the same.

Change-Id: I7f5c16ef867b0b931f9a25674831ade0a78dcd6e
",git fetch https://review.opendev.org/openstack/sushy refs/changes/62/668662/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/common.py', 'sushy/tests/unit/resources/system/storage/test_drive.py', 'sushy/resources/constants.py', 'sushy/tests/unit/resources/system/storage/test_volume.py', 'sushy/resources/fabric/mappings.py', 'sushy/resources/fabric/fabric.py', 'sushy/resources/system/storage/drive.py', 'sushy/__init__.py', 'sushy/resources/mappings.py', 'sushy/tests/unit/resources/system/storage/test_storage.py', 'sushy/resources/fabric/endpoint.py', 'sushy/resources/fabric/constants.py']",12,dc127c80e514f60e0567f82a1d31c4d66c5e35e9,refactor-redundant-fields,,# Protocol type constants PROTOCOL_TYPE_AHCI = 'Advanced Host Controller Interface' PROTOCOL_TYPE_FC = 'Fibre Channel' PROTOCOL_TYPE_FCP = 'Fibre Channel Protocol for SCSI' PROTOCOL_TYPE_FCoE = 'Fibre Channel over Ethernet' PROTOCOL_TYPE_FICON = 'FIbre CONnection (FICON)' PROTOCOL_TYPE_FTP = 'File Transfer Protocol' PROTOCOL_TYPE_HTTP = 'Hypertext Transport Protocol' PROTOCOL_TYPE_HTTPS = 'Secure Hypertext Transport Protocol' PROTOCOL_TYPE_I2C = 'Inter-Integrated Circuit Bus' PROTOCOL_TYPE_NFSv3 = 'Network File System version 3' PROTOCOL_TYPE_NFSv4 = 'Network File System version 4' PROTOCOL_TYPE_NVMe = 'Non-Volatile Memory Express' PROTOCOL_TYPE_NVMeOverFabrics = 'NVMe over Fabrics' PROTOCOL_TYPE_OEM = 'OEM specific' PROTOCOL_TYPE_PCIe = 'PCI Express' PROTOCOL_TYPE_RoCE = 'RDMA over Converged Ethernet Protocol' PROTOCOL_TYPE_RoCEv2 = 'RDMA over Converged Ethernet Protocol Version 2' PROTOCOL_TYPE_SAS = 'Serial Attached SCSI' PROTOCOL_TYPE_SATA = 'Serial AT Attachment' PROTOCOL_TYPE_SFTP = 'Secure File Transfer Protocol' PROTOCOL_TYPE_SMB = 'Server Message Block (CIFS Common Internet File System)' PROTOCOL_TYPE_UHCI = 'Universal Host Controller Interface' PROTOCOL_TYPE_USB = 'Universal Serial Bus' PROTOCOL_TYPE_iSCSI = 'Internet SCSI' PROTOCOL_TYPE_iWARP = 'Internet Wide Area Remote Direct Memory Access Protocol' # Durable name format constants DURABLE_NAME_FORMAT_EUI = 'IEEE-defined 64-bit Extended Unique Identifier' DURABLE_NAME_FORMAT_FC_WWN = 'Fibre Channel World Wide Name' DURABLE_NAME_FORMAT_NAA = 'Name Address Authority Format' DURABLE_NAME_FORMAT_NQN = 'NVMe Qualified Name' DURABLE_NAME_FORMAT_NSID = 'NVM Namespace Identifier' DURABLE_NAME_FORMAT_UUID = 'Universally Unique Identifier' DURABLE_NAME_FORMAT_iQN = 'iSCSI Qualified Name' ,97,102
openstack%2Fnetworking-bgpvpn~master~I6b7afd3f6d0b45337f87e13352ab1095d51a23a3,openstack/networking-bgpvpn,master,I6b7afd3f6d0b45337f87e13352ab1095d51a23a3,Add local bindep.txt,MERGED,2019-06-26 09:07:36.000000000,2019-07-09 16:03:41.000000000,2019-07-09 16:03:41.000000000,"[{'_account_id': 5367}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 09:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/eb00fd83a956fe4c828a9e643fffdf83de8351ab', 'message': 'Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nIn test jobs the script tools/test-setup.sh is called which requires\nmysql and postgres servers and clients to be installed.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: I6b7afd3f6d0b45337f87e13352ab1095d51a23a3\n'}, {'number': 2, 'created': '2019-06-26 10:55:48.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/4655630adc4ce3b6c69d3deffb397c36d67fab04', 'message': 'Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nIn test jobs the script tools/test-setup.sh is called which requires\nmysql and postgres servers and clients to be installed.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: I6b7afd3f6d0b45337f87e13352ab1095d51a23a3\n'}]",0,667559,4655630adc4ce3b6c69d3deffb397c36d67fab04,9,3,2,17685,,,0,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: I6b7afd3f6d0b45337f87e13352ab1095d51a23a3
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/59/667559/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,eb00fd83a956fe4c828a9e643fffdf83de8351ab,bindep-fallback,# This is a cross-platform list tracking distribution packages needed for install and tests; # see https://docs.openstack.org/infra/bindep/ for additional information. mysql-client [platform:dpkg] mysql-server [platform:dpkg] postgresql postgresql-client [platform:dpkg] ,,8,0
openstack%2Fpuppet-neutron~stable%2Fqueens~I8248ad80e6ff88aec252919fa687018bda78a60b,openstack/puppet-neutron,stable/queens,I8248ad80e6ff88aec252919fa687018bda78a60b,Ensure tunnel types are absent if not configured,MERGED,2019-06-19 17:11:38.000000000,2019-07-09 16:03:24.000000000,2019-07-09 16:03:24.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 17:11:38.000000000', 'files': ['spec/classes/neutron_agents_ml2_ovs_spec.rb', 'manifests/agents/ml2/ovs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/fedd77e759f42dd086975e285f2c7bcac419d939', 'message': ""Ensure tunnel types are absent if not configured\n\nThis patch fixes a bug where updating a configuration wouldn't remove\nagent/tunnel_types configuration when required.\n\nConflicts:\n  spec/classes/neutron_agents_ml2_ovs_spec.rb\n\nChange-Id: I8248ad80e6ff88aec252919fa687018bda78a60b\nCloses-Bug: #1832251\n(cherry picked from commit 6c34ce2a42ae8c445a1fbe14ab18d4ee59e09c9b)\n""}]",0,666407,fedd77e759f42dd086975e285f2c7bcac419d939,15,3,1,6681,,,0,"Ensure tunnel types are absent if not configured

This patch fixes a bug where updating a configuration wouldn't remove
agent/tunnel_types configuration when required.

Conflicts:
  spec/classes/neutron_agents_ml2_ovs_spec.rb

Change-Id: I8248ad80e6ff88aec252919fa687018bda78a60b
Closes-Bug: #1832251
(cherry picked from commit 6c34ce2a42ae8c445a1fbe14ab18d4ee59e09c9b)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/07/666407/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_agents_ml2_ovs_spec.rb', 'manifests/agents/ml2/ovs.pp']",2,fedd77e759f42dd086975e285f2c7bcac419d939,bug/1832251, 'agent/tunnel_types': ensure => absent;,,2,0
openstack%2Fproject-config~master~I4128c5b46f0060784355345e3f0ed2b53f500768,openstack/project-config,master,I4128c5b46f0060784355345e3f0ed2b53f500768,Scaling FN cloud back down to zero for ipv6 testing,MERGED,2019-07-09 15:36:16.000000000,2019-07-09 15:59:10.000000000,2019-07-09 15:59:10.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-09 15:36:16.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/17cd70ac7457e858039413eda9ead0ad2065d7b1', 'message': 'Scaling FN cloud back down to zero for ipv6 testing\n\nChange-Id: I4128c5b46f0060784355345e3f0ed2b53f500768\n'}]",0,669893,17cd70ac7457e858039413eda9ead0ad2065d7b1,8,4,1,20754,,,0,"Scaling FN cloud back down to zero for ipv6 testing

Change-Id: I4128c5b46f0060784355345e3f0ed2b53f500768
",git fetch https://review.opendev.org/openstack/project-config refs/changes/93/669893/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,17cd70ac7457e858039413eda9ead0ad2065d7b1,, max-servers: 0, max-servers: 10,1,1
openstack%2Fopenstack-helm-images~master~I53521d0655d41ab83ecad724ecb00febcbe4dbbb,openstack/openstack-helm-images,master,I53521d0655d41ab83ecad724ecb00febcbe4dbbb,Retry commit of fixes to new reviews,ABANDONED,2019-07-09 15:13:20.000000000,2019-07-09 15:58:17.000000000,,"[{'_account_id': 17068}, {'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 30166}]","[{'number': 1, 'created': '2019-07-09 15:13:20.000000000', 'files': ['nagios/plugins/query_es_failedlogins.py', 'prometheus-openstack-exporter/exporter/check_os_api.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/79315bf7d1e77e7fe4779d52bc9d80b19add16bb', 'message': 'Retry commit of fixes to new reviews\n\nChange-Id: I53521d0655d41ab83ecad724ecb00febcbe4dbbb\n'}]",3,669887,79315bf7d1e77e7fe4779d52bc9d80b19add16bb,5,9,1,30120,,,0,"Retry commit of fixes to new reviews

Change-Id: I53521d0655d41ab83ecad724ecb00febcbe4dbbb
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/87/669887/1 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/plugins/query_es_failedlogins.py', 'prometheus-openstack-exporter/exporter/check_os_api.py']",2,79315bf7d1e77e7fe4779d52bc9d80b19add16bb,," 'shipyard': {'path': 'api/v1.0/health', 'expect': [204, 503], 'name': 'shipyard'}, 'armada': {'path': 'api/v1.0/health', 'expect': [204, 503], 'name': 'armada'}, 'deckhand': {'path': 'api/v1.0/health', 'expect': [204, 503], 'name': 'deckhand'}, 'drydock': {'path': 'api/v1.0/health', 'expect': [204, 503], 'name': 'drydock'}, 'promenade': {'path': 'api/v1.0/health', 'expect': [204, 503], 'name': 'promenade'},"," 'shipyard': {'path': 'v1.0/health', 'expect': [204, 503], 'name': 'shipyard'}, 'armada': {'path': 'v1.0/health', 'expect': [204, 503], 'name': 'armada'}, 'deckhand': {'path': 'v1.0/health', 'expect': [204, 503], 'name': 'deckhand'}, 'drydock': {'path': 'v1.0/health', 'expect': [204, 503], 'name': 'drydock'}, 'promenade': {'path': 'v1.0/health', 'expect': [204, 503], 'name': 'promenade'},",352,5
openstack%2Ftripleo-validations~master~I0551ab56324ede7f1d33e0e9a680c26ea164023c,openstack/tripleo-validations,master,I0551ab56324ede7f1d33e0e9a680c26ea164023c,Add Molecule tests for the role undercloud-ram.,MERGED,2019-07-01 16:29:55.000000000,2019-07-09 15:55:59.000000000,2019-07-09 15:51:00.000000000,"[{'_account_id': 11491}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-01 16:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c8c0e4fe290150330349b22ce1f6d34a9fed68e6', 'message': 'WIP: Add Molecule tests for the role undercloud-ram.\n\nThis will first require Molecule  CI jobs in Zuul. Then\nthis patch set needs to be rebased.\n\nChange-Id: I0551ab56324ede7f1d33e0e9a680c26ea164023c\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2019-07-01 16:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/533cb1e84a2ddbdd4539c06292ebe73b56dde0da', 'message': 'WIP: Add Molecule tests for the role undercloud-ram.\n\nChange-Id: I0551ab56324ede7f1d33e0e9a680c26ea164023c\nSigned-off-by: Luke Short <ekultails@gmail.com>\nCo-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>\n'}, {'number': 3, 'created': '2019-07-01 17:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a8b8a5abdf48cb6b59e343e6e1170990fdfd1799', 'message': 'Add Molecule tests for the role undercloud-ram.\n\nChange-Id: I0551ab56324ede7f1d33e0e9a680c26ea164023c\nSigned-off-by: Luke Short <ekultails@gmail.com>\nCo-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>\n'}, {'number': 4, 'created': '2019-07-01 17:17:00.000000000', 'files': ['roles/undercloud-ram/molecule/default/molecule.yml', 'zuul.d/layout.yaml', 'roles/undercloud-ram/molecule/default/Dockerfile.j2', 'roles/undercloud-ram/molecule/default/playbook.yml', 'roles/undercloud-ram/tasks/main.yml', 'roles/undercloud-ram/molecule/default/verify.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5bd41653b6bf097bc505b56ff539c26e440cdadb', 'message': 'Add Molecule tests for the role undercloud-ram.\n\nChange-Id: I0551ab56324ede7f1d33e0e9a680c26ea164023c\nSigned-off-by: Luke Short <ekultails@gmail.com>\nCo-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>\n'}]",0,668521,5bd41653b6bf097bc505b56ff539c26e440cdadb,15,6,4,25877,,,0,"Add Molecule tests for the role undercloud-ram.

Change-Id: I0551ab56324ede7f1d33e0e9a680c26ea164023c
Signed-off-by: Luke Short <ekultails@gmail.com>
Co-Authored-By: Sorin Sbarnea <ssbarnea@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/21/668521/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-ram/molecule/success/verify.yml', 'roles/undercloud-ram/molecule/failure/playbook.yml', 'roles/undercloud-ram/molecule/success/molecule.yml', 'roles/undercloud-ram/molecule/failure/Dockerfile.j2', 'roles/undercloud-ram/molecule/success/playbook.yml', 'roles/undercloud-ram/tasks/main.yml', 'roles/undercloud-ram/molecule/failure/verify.yml', 'roles/undercloud-ram/molecule/failure/molecule.yml', 'roles/undercloud-ram/molecule/success/Dockerfile.j2']",9,c8c0e4fe290150330349b22ce1f6d34a9fed68e6,molecule,"# Molecule managed # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. {% if item.registry is defined %} FROM {{ item.registry.url }}/{{ item.image }} {% else %} FROM {{ item.image }} {% endif %} RUN if [ $(command -v apt-get) ]; then apt-get update && apt-get install -y python sudo bash ca-certificates && apt-get clean; \ elif [ $(command -v dnf) ]; then dnf makecache && dnf --assumeyes install python sudo python-devel python*-dnf bash {{ item.pkg_extras | default('') }} && dnf clean all; \ elif [ $(command -v yum) ]; then yum makecache fast && yum install -y python sudo yum-plugin-ovl python-setuptools bash {{ item.pkg_extras | default('') }} && sed -i 's/plugins=0/plugins=1/g' /etc/yum.conf && yum clean all; \ elif [ $(command -v zypper) ]; then zypper refresh && zypper install -y python sudo bash python-xml {{ item.pkg_extras | default('') }} && zypper clean -a; \ elif [ $(command -v apk) ]; then apk update && apk add --no-cache python sudo bash ca-certificates {{ item.pkg_extras | default('') }}; \ elif [ $(command -v xbps-install) ]; then xbps-install -Syu && xbps-install -y python sudo bash ca-certificates {{ item.pkg_extras | default('') }} && xbps-remove -O; fi {% for pkg in item.easy_install | default([]) %} # install pip for centos where there is no python-pip rpm in default repos RUN easy_install {{ pkg }} {% endfor %} CMD [""sh"", ""-c"", ""while true; do sleep 10000; done""] ",,265,2
openstack%2Fkuryr-tempest-plugin~master~I40bf39c4c1d0b43f5d83e6aed81786390753ce99,openstack/kuryr-tempest-plugin,master,I40bf39c4c1d0b43f5d83e6aed81786390753ce99,Enhance svc namespace isolation for LoadBalancer type svc,MERGED,2018-11-19 13:42:36.000000000,2019-07-09 15:50:25.000000000,2019-07-09 15:50:25.000000000,"[{'_account_id': 4727}, {'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 26287}, {'_account_id': 27032}]","[{'number': 1, 'created': '2018-11-19 13:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/75c022c2ecf0f26e4b087736ce40861108e45e84', 'message': 'Enhance svc namespace isolation with LoadBalancer type svc\n\nThis patch extends the current service isolation test with a service\nof LoadBalancer type, checking that it has connectivity across\nnamespaces depite of the namespace isolation.\n\nChange-Id: I40bf39c4c1d0b43f5d83e6aed81786390753ce99\n'}, {'number': 2, 'created': '2018-11-20 09:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/7996d4177f4165f104731b69c7387c2f2623d921', 'message': 'Enhance svc namespace isolation with LoadBalancer type svc\n\nThis patch extends the current service isolation test with a service\nof LoadBalancer type, checking that it has connectivity across\nnamespaces depite of the namespace isolation.\n\nChange-Id: I40bf39c4c1d0b43f5d83e6aed81786390753ce99\n'}, {'number': 3, 'created': '2018-11-30 11:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/5c18a3588ff09ac377041005f5e8b0f16e35b3f5', 'message': 'Enhance svc namespace isolation with LoadBalancer type svc\n\nThis patch extends the current service isolation test with a service\nof LoadBalancer type, checking that it has connectivity across\nnamespaces depite of the namespace isolation.\n\nChange-Id: I40bf39c4c1d0b43f5d83e6aed81786390753ce99\n'}, {'number': 4, 'created': '2018-11-30 15:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/0a2b5c1647451ebfd7965e49ebb5c2ebc1942ad0', 'message': 'Enhance svc namespace isolation with LoadBalancer type svc\n\nThis patch extends the current service isolation test with a service\nof LoadBalancer type, checking that it has connectivity across\nnamespaces depite of the namespace isolation.\n\nChange-Id: I40bf39c4c1d0b43f5d83e6aed81786390753ce99\n'}, {'number': 5, 'created': '2018-12-07 08:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ddcc10056cb649649f5fbacea48b9a74767bddb7', 'message': 'Enhance svc namespace isolation with LoadBalancer type svc\n\nThis patch extends the current service isolation test with a service\nof LoadBalancer type, checking that it has connectivity across\nnamespaces depite of the namespace isolation.\n\nChange-Id: I40bf39c4c1d0b43f5d83e6aed81786390753ce99\n'}, {'number': 6, 'created': '2018-12-10 08:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/468fb9ed0e2c82b129328798434ad9233e4269c7', 'message': 'Enhance svc namespace isolation with LoadBalancer type svc\n\nThis patch extends the current service isolation test with a service\nof LoadBalancer type, checking that it has connectivity across\nnamespaces depite of the namespace isolation.\n\nChange-Id: I40bf39c4c1d0b43f5d83e6aed81786390753ce99\n'}, {'number': 7, 'created': '2018-12-24 13:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/51bdeba5d2e89d62ec768c13f35b3771dd5eca82', 'message': 'Enhance svc namespace isolation with LoadBalancer type svc\n\nThis patch extends the current service isolation test with a service\nof LoadBalancer type, checking that it has connectivity across\nnamespaces depite of the namespace isolation.\n\nChange-Id: I40bf39c4c1d0b43f5d83e6aed81786390753ce99\n'}, {'number': 8, 'created': '2019-05-24 10:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/df29fce4e7c269d56d412cd1f6808ba2abde00f7', 'message': 'Enhance svc namespace isolation with LoadBalancer type svc\n\nThis patch extends the current service isolation test with a service\nof LoadBalancer type, checking that it has connectivity across\nnamespaces depite of the namespace isolation.\n\nChange-Id: I40bf39c4c1d0b43f5d83e6aed81786390753ce99\n'}, {'number': 9, 'created': '2019-06-04 06:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/14314be07427081b668b4bff3fe0bb73212123ee', 'message': 'Enhance svc namespace isolation with LoadBalancer type svc\n\nThis patch extends the current service isolation test with a service\nof LoadBalancer type, checking that it has connectivity across\nnamespaces depite of the namespace isolation.\n\nChange-Id: I40bf39c4c1d0b43f5d83e6aed81786390753ce99\n'}, {'number': 10, 'created': '2019-06-11 07:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/2f3e9cd4d1642ac75738a7f89f9ed30e286ecb5b', 'message': 'Enhance svc namespace isolation with LoadBalancer type svc\n\nThis patch extends the current service isolation test with a service\nof LoadBalancer type, checking that it has connectivity across\nnamespaces depite of the namespace isolation.\n\nChange-Id: I40bf39c4c1d0b43f5d83e6aed81786390753ce99\n'}, {'number': 11, 'created': '2019-06-11 10:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/1e699428df3912d566034756ba5991711221412a', 'message': 'Enhance svc namespace isolation for LoadBalancer type svc\n\nThis patch extends the current service isolation test with a service\nof LoadBalancer type, checking that it has connectivity across\nnamespaces depite of the namespace isolation.\n\nChange-Id: I40bf39c4c1d0b43f5d83e6aed81786390753ce99\n'}, {'number': 12, 'created': '2019-06-13 07:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/b59bf4f6fb00ab09e03952f81ca3144ed2676c9b', 'message': 'Enhance svc namespace isolation for LoadBalancer type svc\n\nThis patch extends the current service isolation test with a service\nof LoadBalancer type, checking that it has connectivity across\nnamespaces depite of the namespace isolation.\n\nDepends-On: I35f3be8fc16d71d0d2ac01c5451d398dd631f118\n\nChange-Id: I40bf39c4c1d0b43f5d83e6aed81786390753ce99\n'}, {'number': 13, 'created': '2019-06-25 12:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/c9336dc686ced587a4d7a0be1c842d474938bff8', 'message': 'Enhance svc namespace isolation for LoadBalancer type svc\n\nThis patch extends the current service isolation test with a service\nof LoadBalancer type, checking that it has connectivity across\nnamespaces depite of the namespace isolation.\n\nDepends-On: I35f3be8fc16d71d0d2ac01c5451d398dd631f118\n\nChange-Id: I40bf39c4c1d0b43f5d83e6aed81786390753ce99\n'}, {'number': 14, 'created': '2019-07-04 08:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/f2619d13eafdb827d8b5350f389aac3afe095eaf', 'message': 'Enhance svc namespace isolation for LoadBalancer type svc\n\nThis patch extends the current service isolation test with a service\nof LoadBalancer type, checking that it has connectivity across\nnamespaces depite of the namespace isolation.\n\nDepends-On: I35f3be8fc16d71d0d2ac01c5451d398dd631f118\n\nChange-Id: I40bf39c4c1d0b43f5d83e6aed81786390753ce99\n'}, {'number': 15, 'created': '2019-07-09 12:03:40.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_namespace.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ad648cd40614cf1ac9836f39ef6e4a7a0edbdaa6', 'message': 'Enhance svc namespace isolation for LoadBalancer type svc\n\nThis patch extends the current service isolation test with a service\nof LoadBalancer type, checking that it has connectivity across\nnamespaces depite of the namespace isolation.\n\nDepends-On: I35f3be8fc16d71d0d2ac01c5451d398dd631f118\n\nChange-Id: I40bf39c4c1d0b43f5d83e6aed81786390753ce99\n'}]",8,618751,ad648cd40614cf1ac9836f39ef6e4a7a0edbdaa6,136,10,15,23567,,,0,"Enhance svc namespace isolation for LoadBalancer type svc

This patch extends the current service isolation test with a service
of LoadBalancer type, checking that it has connectivity across
namespaces depite of the namespace isolation.

Depends-On: I35f3be8fc16d71d0d2ac01c5451d398dd631f118

Change-Id: I40bf39c4c1d0b43f5d83e6aed81786390753ce99
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/51/618751/6 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/test_namespace.py'],1,75c022c2ecf0f26e4b087736ce40861108e45e84,remove-multithread," ns3_name, ns3 = self.create_namespace() self.assertIn(ns3_name, existing_namespaces) subnet_ns3_name = 'ns/' + ns3_name + '-subnet' net_crd_ns3_name = 'ns-' + ns3_name net_crd_ns3 = self.get_kuryr_net_crds(net_crd_ns3_name) self.assertIn(net_crd_ns3_name, net_crd_ns3['metadata']['name']) self.assertIn(net_crd_ns3['spec']['sgId'], seen_sg_ids) pod_ns3_name, pod_ns3 = self.create_pod(labels={""app"": 'pod-label'}, namespace=ns3_name) svc_ns3_name, _ = self.create_service( pod_label=pod_ns3.metadata.labels, spec_type='LoadBalancer', namespace=ns3_name) svc_ns3_ip = self.get_service_ip(service_name=svc_ns3_name, spec_type='LoadBalancer', namespace=ns3_name) self.wait_service_status(svc_ns3_ip, CONF.kuryr_kubernetes.lb_build_timeout) # check connectivity from NS1 pod to NS3 LoadBalancer type service cmd = [""/bin/sh"", ""-c"", ""curl {dst_ip}"".format( dst_ip=svc_ns3_ip)] self.assertIn(consts.POD_OUTPUT, self.exec_command_in_pod(pod_ns1_name, cmd, ns1_name)) self._delete_namespace_resources(ns3_name, net_crd_ns3, subnet_ns3_name)",,25,0
openstack%2Ftripleo-specs~master~I730b021e8810c3c1984e25a5fe0e2a95a5e37bd6,openstack/tripleo-specs,master,I730b021e8810c3c1984e25a5fe0e2a95a5e37bd6,WIP - Add spec for logging overhaul in TripleO and the wider OpenStack,ABANDONED,2019-05-14 14:57:37.000000000,2019-07-09 15:38:06.000000000,,"[{'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2019-05-14 14:57:37.000000000', 'files': ['specs/train/logging-interface.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/c2c4af1e145f73d0e13107943a8f3c5a186d74f4', 'message': 'WIP - Add spec for logging overhaul in TripleO and the wider OpenStack\n\nChange-Id: I730b021e8810c3c1984e25a5fe0e2a95a5e37bd6\n'}]",9,659092,c2c4af1e145f73d0e13107943a8f3c5a186d74f4,7,6,1,27427,,,0,"WIP - Add spec for logging overhaul in TripleO and the wider OpenStack

Change-Id: I730b021e8810c3c1984e25a5fe0e2a95a5e37bd6
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/92/659092/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/logging-interface.rst'],1,c2c4af1e145f73d0e13107943a8f3c5a186d74f4,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================================== Define and provide an interface for logging throughout TripleO ============================================================== Logging remains an ad-hoc and bespoke exercise throughout OpenStack. The purpose of this spec is to create a clearly defined API or interface for applications to log via, in a standardized way. Problem Description =================== TBC: Examples of current logging implementations Proposed Change =============== Overview -------- In tandem with CloudApps work to provide a dedicated container for log files to be written, gathered, and propagated to Enterprise Common Logging project, we need to implement a simple to use interface which allows applications to make a minor configuration setup and automatically have their logs organized correctly in a uniform expected area, provided to the operator, and also integrated with wider ECL. In addition to providing a common mechanism for logging configuration, the goal of this spec is to overhaul the current logging levels. As of now, OpenStack logging reads like masses of non-human readable debug output with little to no view toward operator understanding. Upon reading a given log for a given service, it's unintuitive for an operator to follow what is going on, which file should contain what expected messages, and how to tune logging levels for a given situation, e.g. a production environment or a development or integration environment. Alternatives ------------ Maintain status quo. Security Impact --------------- Possible concerns over encryption of logs as they move around non-host areas, particularly if the logs in question contain sensitive data. Other End User Impact --------------------- The operator will gain a sure footed knowledge of where any and all logs for OpenStack are going to be, and what to expect when they look inside them. With integration to the ECL provided, operators will also be able to aggregate logs with the rest of their Red Hat products which of course opens up avenues for other analytics. Performance Impact ------------------ Possible considerations for write-to-disk latency, network latency, etc, as logging gets integrated into broader scope. Other Deployer Impact --------------------- TBC ? Developer Impact ---------------- TBC ? Implementation ============== Assignee(s) ----------- Primary assignee: dpeacock Other contributors: cjeanner Work Items ---------- TBC ? Dependencies ============ * CloudApps logging container work Testing ======= TBC ? Documentation Impact ==================== TBC > References ========== ",,113,0
openstack%2Fopenstack-ansible-os_nova~master~I8c5162a95d193a1a5f0b3e594e3962cce406913a,openstack/openstack-ansible-os_nova,master,I8c5162a95d193a1a5f0b3e594e3962cce406913a,service_setup: refactor service setup to a single file,MERGED,2019-06-17 11:45:25.000000000,2019-07-09 15:22:23.000000000,2019-07-09 15:22:23.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-17 11:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2805735bd2406fd1db6a4b232fcc20afdb2e8e70', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I8c5162a95d193a1a5f0b3e594e3962cce406913a\n'}, {'number': 2, 'created': '2019-06-28 11:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2b595be83ece266ba768509399b81c99b2f6d39a', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I8c5162a95d193a1a5f0b3e594e3962cce406913a\n'}, {'number': 3, 'created': '2019-06-28 18:51:06.000000000', 'files': ['tasks/main.yml', 'tasks/nova_service_setup.yml', 'tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2d4f60826aba03e70c1dba183f87f163acfeea47', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I8c5162a95d193a1a5f0b3e594e3962cce406913a\n'}]",1,665648,2d4f60826aba03e70c1dba183f87f163acfeea47,15,4,3,28619,,,0,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: I8c5162a95d193a1a5f0b3e594e3962cce406913a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/48/665648/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/nova_service_setup.yml', 'tasks/service_setup.yml']",3,2805735bd2406fd1db6a4b232fcc20afdb2e8e70,osa/service-refactor,"--- # Copyright 2014, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # We set the python interpreter to the ansible runtime venv if # the delegation is to localhost so that we get access to the # appropriate python libraries in that venv. If the delegation # is to another host, we assume that it is accessible by the # system python instead. - name: Setup the OS service delegate_to: ""{{ _service_setup_host }}"" vars: ansible_python_interpreter: ""{{ _service_setup_host_python_interpreter }}"" block: - name: Add service project os_project: cloud: default state: present name: ""{{ _project_name }}"" description: ""{{ _project_description | default('') }}"" domain_id: ""default"" endpoint_type: admin validate_certs: ""{{ (not _service_adminuri_insecure | default('True')) | bool }}"" register: add_service when: - not _service_in_ldap | bool - _project_name is defined until: add_service is success retries: 5 delay: 10 - name: Add services to the keystone service catalog os_keystone_service: cloud: default state: ""{{ item.state | default('present') }}"" name: ""{{ item.name }}"" service_type: ""{{ item.type }}"" description: ""{{ item.description | default('') }}"" endpoint_type: admin validate_certs: ""{{ (not _service_adminuri_insecure | default('True')) | bool }}"" register: add_service with_items: ""{{ _service_catalog }}"" when: _service_catalog is defined until: add_service is success retries: 5 delay: 10 - name: Add default role os_keystone_role: cloud: default state: present name: ""{{ _role_name }}"" endpoint_type: admin validate_certs: ""{{ (not _service_adminuri_insecure | default('True')) | bool }}"" register: add_service when: - not _service_in_ldap | bool - _role_name is defined until: add_service is success retries: 5 delay: 10 - name: Add service user os_user: cloud: default state: present name: ""{{ _service_user_name }}"" password: ""{{ _service_user_password }}"" domain: default default_project: ""{{ _service_project_name }}"" endpoint_type: admin validate_certs: ""{{ (not _service_adminuri_insecure | default('True')) | bool }}"" register: add_service when: - not _service_in_ldap | bool - _service_user_name is defined - _service_user_password is defined until: add_service is success retries: 5 delay: 10 no_log: True - name: Add service user to admin role os_user_role: cloud: default state: present user: ""{{ _service_user_name }}"" role: ""{{ _service_role_name }}"" project: ""{{ _service_project_name }}"" endpoint_type: admin validate_certs: ""{{ (not _service_adminuri_insecure | default('True')) | bool }}"" register: add_service when: - not _service_in_ldap | bool - _service_user_name is defined - _service_role_name is defined until: add_service is success retries: 5 delay: 10 - name: Add endpoints to keystone endpoint catalog os_keystone_endpoint: cloud: default state: ""{{ item.state | default('present') }}"" service: ""{{ item.service }}"" endpoint_interface: ""{{ item.interface }}"" url: ""{{ item.url }}"" region: ""{{ _service_region | default('RegionOne') }}"" endpoint_type: admin validate_certs: ""{{ (not _service_adminuri_insecure | default('True')) | bool }}"" register: add_service until: add_service is success retries: 5 delay: 10 with_items: ""{{ _service_endpoints }}"" when: _service_endpoints is defined ",,152,98
openstack%2Fopenstack-ansible-os_cinder~master~I3d2edfefade7e415aa201bccd2fd2be3ed7159d9,openstack/openstack-ansible-os_cinder,master,I3d2edfefade7e415aa201bccd2fd2be3ed7159d9,Install openSUSE distro packages selectively,MERGED,2019-06-27 21:26:36.000000000,2019-07-09 15:14:05.000000000,2019-07-09 15:14:05.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-27 21:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/cd9117a7f12c9280b22b188bc9d969ba99c793a7', 'message': 'Switch to openSUSE Leap 15.1\n\nDepends-On: https://review.opendev.org/666058\nChange-Id: I3d2edfefade7e415aa201bccd2fd2be3ed7159d9\n'}, {'number': 2, 'created': '2019-06-28 07:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/4d12f980bbadb0cae16a7ed12e3e1beb051a111c', 'message': 'Install openSUSE distro packages selectively.\n\nThis patch moves the cinder distro packages into the correct variables\nso that each packages is only installed where needed.\n\nChange-Id: I3d2edfefade7e415aa201bccd2fd2be3ed7159d9\n'}, {'number': 3, 'created': '2019-06-28 12:57:14.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/b3098ca7bfd90755db7be377776e09d84754c4e4', 'message': 'Install openSUSE distro packages selectively\n\nThis patch moves the cinder distro packages into the correct variables\nso that each packages is only installed where needed.\n\nChange-Id: I3d2edfefade7e415aa201bccd2fd2be3ed7159d9\n'}]",2,668056,b3098ca7bfd90755db7be377776e09d84754c4e4,13,3,3,6593,,,0,"Install openSUSE distro packages selectively

This patch moves the cinder distro packages into the correct variables
so that each packages is only installed where needed.

Change-Id: I3d2edfefade7e415aa201bccd2fd2be3ed7159d9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/56/668056/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,cd9117a7f12c9280b22b188bc9d969ba99c793a7,, - openstack-cinder-apicinder_volume_distro_packages: - openstack-cinder-volume - openstack-cinder-backup, - libpython2_7-1_0 - libxml2 - which - openstack-cinder - openstack-cinder-api - openstack-cinder-backup - openstack-cinder-volume - python-cursivecinder_volume_distro_packages: [],4,9
openstack%2Fopenstack-helm~master~I8cd255969b0f47d541cd5df68dbddde0b1fcf898,openstack/openstack-helm,master,I8cd255969b0f47d541cd5df68dbddde0b1fcf898,Neutron: fix security context typo,MERGED,2019-07-08 19:26:17.000000000,2019-07-09 15:12:16.000000000,2019-07-09 15:12:16.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 19:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4dc8cd139ed62b36758851b88c4daa15c019eaef', 'message': 'Neutron: fix security context typo\n\nThis PS fixes a typo in the security context settings for neutrons\nsriov agent.\n\nChange-Id: I8cd255969b0f47d541cd5df68dbddde0b1fcf898\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-07-09 13:32:50.000000000', 'files': ['neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4d9c91cc3e0c281463c5defa9f9c25299657c024', 'message': 'Neutron: fix security context typo\n\nThis PS fixes a typo in the security context settings for neutrons\nsriov agent.\n\nChange-Id: I8cd255969b0f47d541cd5df68dbddde0b1fcf898\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,669744,4d9c91cc3e0c281463c5defa9f9c25299657c024,12,4,2,23928,,,0,"Neutron: fix security context typo

This PS fixes a typo in the security context settings for neutrons
sriov agent.

Change-Id: I8cd255969b0f47d541cd5df68dbddde0b1fcf898
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/44/669744/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/values.yaml'],1,4dc8cd139ed62b36758851b88c4daa15c019eaef,sriov-fix, neutron_sriov_agent:, neutron_sriov_avent:,1,1
openstack%2Freleases~master~I023a52d374711a1c68ac0e4dbde2518b5c93d3f7,openstack/releases,master,I023a52d374711a1c68ac0e4dbde2518b5c93d3f7,Release ironic-inspector 9.1.0 for Train,MERGED,2019-07-09 14:20:47.000000000,2019-07-09 15:08:03.000000000,2019-07-09 15:08:03.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-09 14:20:47.000000000', 'files': ['deliverables/train/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/333c5d02ade827dc9b1a8dae70da783d54b6455f', 'message': 'Release ironic-inspector 9.1.0 for Train\n\nChange-Id: I023a52d374711a1c68ac0e4dbde2518b5c93d3f7\n'}]",0,669881,333c5d02ade827dc9b1a8dae70da783d54b6455f,6,2,1,11655,,,0,"Release ironic-inspector 9.1.0 for Train

Change-Id: I023a52d374711a1c68ac0e4dbde2518b5c93d3f7
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/669881/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ironic-inspector.yaml'],1,333c5d02ade827dc9b1a8dae70da783d54b6455f,, - projects: - hash: 0b38536d1c9ab92952e6ecd069ea13facf012830 repo: openstack/ironic-inspector version: 9.1.0,,4,0
openstack%2Fopenstack-ansible-os_cinder~master~Idefa676a5851346a83d613aa61cb1d618e015c29,openstack/openstack-ansible-os_cinder,master,Idefa676a5851346a83d613aa61cb1d618e015c29,service_setup: refactor service setup to a single file,MERGED,2019-06-17 08:23:57.000000000,2019-07-09 15:06:07.000000000,2019-07-09 15:06:07.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-17 08:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/a46ea05f587fd74ec8fecf69e8bfc05453f7f9d2', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: Idefa676a5851346a83d613aa61cb1d618e015c29\n'}, {'number': 2, 'created': '2019-06-17 08:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/58f77a2f29cb109ca103e9df5827ebabfba35f32', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: Idefa676a5851346a83d613aa61cb1d618e015c29\n'}, {'number': 3, 'created': '2019-06-28 11:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/9bb70fe045750620f4804d4a623dacaa828a6290', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: Idefa676a5851346a83d613aa61cb1d618e015c29\n'}, {'number': 4, 'created': '2019-06-28 18:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/8736136a4b0d08757ac534bc0b518b7a5944eac5', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: Idefa676a5851346a83d613aa61cb1d618e015c29\n'}, {'number': 5, 'created': '2019-06-28 19:02:41.000000000', 'files': ['tasks/main.yml', 'tasks/service_setup.yml', 'tasks/cinder_service_setup.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/51f2d13c4182a724e6075deba61dc0cb5d320a6a', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: Idefa676a5851346a83d613aa61cb1d618e015c29\n'}]",1,665607,51f2d13c4182a724e6075deba61dc0cb5d320a6a,19,4,5,28619,,,0,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: Idefa676a5851346a83d613aa61cb1d618e015c29
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/07/665607/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/service_setup.yml', 'tasks/cinder_service_setup.yml', 'vars/main.yml']",4,a46ea05f587fd74ec8fecf69e8bfc05453f7f9d2,osa/service-refactor," cinder_service_endpoints: - service: ""{{ cinder_service_v2_name }}"" interface: ""public"" url: ""{{ cinder_service_v2_publicurl }}"" state: ""{{ (cinder_enable_v2_api | bool) | ternary('present', 'absent') }}"" - service: ""{{ cinder_service_v2_name }}"" interface: ""internal"" url: ""{{ cinder_service_v2_internalurl }}"" state: ""{{ (cinder_enable_v2_api | bool) | ternary('present', 'absent') }}"" - service: ""{{ cinder_service_v2_name }}"" interface: ""admin"" url: ""{{ cinder_service_v2_adminurl }}"" state: ""{{ (cinder_enable_v2_api | bool) | ternary('present', 'absent') }}"" - service: ""{{ cinder_service_v3_name }}"" interface: ""public"" url: ""{{ cinder_service_v3_publicurl }}"" state: present - service: ""{{ cinder_service_v3_name }}"" interface: ""internal"" url: ""{{ cinder_service_v3_internalurl }}"" state: present - service: ""{{ cinder_service_v3_name }}"" interface: ""admin"" url: ""{{ cinder_service_v3_adminurl }}"" state: present cinder_service_catalog: - name: ""{{ cinder_service_name }}"" service_type: ""{{ cinder_service_type }}"" description: ""{{ cinder_service_description }}"" state: absent - name: ""{{ cinder_service_v2_name }}"" service_type: ""{{ cinder_service_v2_type }}"" description: ""{{ cinder_service_v2_description }}"" state: ""{{ (cinder_enable_v2_api | bool) | ternary('present', 'absent') }}"" - name: ""{{ cinder_service_v3_name }}"" service_type: ""{{ cinder_service_v3_type }}"" description: ""{{ cinder_service_v3_description }}"" state: present",,180,124
openstack%2Fopenstack-ansible-os_keystone~master~I4f6aa37a5290bd9fcdc732ab502ef66ea3df7ff7,openstack/openstack-ansible-os_keystone,master,I4f6aa37a5290bd9fcdc732ab502ef66ea3df7ff7,service_setup: refactor service setup to a single file,MERGED,2019-06-13 16:02:19.000000000,2019-07-09 15:03:12.000000000,2019-07-09 15:03:12.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-13 16:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/aa597e74077cd57462a684321aa18f384aa7669b', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I4f6aa37a5290bd9fcdc732ab502ef66ea3df7ff7\n'}, {'number': 2, 'created': '2019-06-13 17:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/4abdc799ad98bdf87ebcc7fcdd7810a1811e0708', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I4f6aa37a5290bd9fcdc732ab502ef66ea3df7ff7\n'}, {'number': 3, 'created': '2019-06-17 07:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/e1e3c5219fb3a338c123d340c2c9ab76fa31f6ae', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I4f6aa37a5290bd9fcdc732ab502ef66ea3df7ff7\n'}, {'number': 4, 'created': '2019-06-17 08:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/138da1575a71357a89d6b66d8a7f04340ed4b2b6', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I4f6aa37a5290bd9fcdc732ab502ef66ea3df7ff7\n'}, {'number': 5, 'created': '2019-06-17 09:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/a09b76c0417394c3e29e997e91eb1949dade1db3', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I4f6aa37a5290bd9fcdc732ab502ef66ea3df7ff7\n'}, {'number': 6, 'created': '2019-06-28 11:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/e98ca6bb83668140c090e53836f869378f46f38e', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I4f6aa37a5290bd9fcdc732ab502ef66ea3df7ff7\n'}, {'number': 7, 'created': '2019-06-28 18:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/5c2792559426bf7cf72db2f249d9ad6ac942b531', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I4f6aa37a5290bd9fcdc732ab502ef66ea3df7ff7\n'}, {'number': 8, 'created': '2019-06-28 19:00:46.000000000', 'files': ['tasks/main.yml', 'tasks/service_setup.yml', 'tasks/keystone_service_update.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/ed1344cfdca7432320512b6561e69f4ade94cfe8', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I4f6aa37a5290bd9fcdc732ab502ef66ea3df7ff7\n'}]",3,665167,ed1344cfdca7432320512b6561e69f4ade94cfe8,29,4,8,28619,,,0,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Change-Id: I4f6aa37a5290bd9fcdc732ab502ef66ea3df7ff7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/67/665167/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/service_setup.yml', 'tasks/keystone_service_update.yml']",3,aa597e74077cd57462a684321aa18f384aa7669b,osa/service-refactor,,"--- # Copyright 2014, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # Note(odyssey4me): # This set of tasks specifically runs against the last keystone # node in the cluster to ensure that the modules have access to # the endpoints which were bootstrapped in keystone_service_bootstrap. # We set the python interpreter to the ansible runtime venv if # the delegation is to localhost so that we get access to the # appropriate python libraries in that venv. If the delegation # is to another host, we assume that it is accessible by the # system python instead. - name: Update the service delegate_to: ""{{ keystone_service_setup_host }}"" vars: ansible_python_interpreter: ""{{ keystone_service_setup_host_python_interpreter }}"" block: - name: Wait for services to be up uri: url: ""{{ item.url }}"" validate_certs: ""{{ item.validate_certs }}"" method: ""HEAD"" status_code: 300 with_items: - url: ""{{ keystone_service_adminuri }}"" validate_certs: ""{{ not keystone_service_adminuri_insecure }}"" - url: ""{{ keystone_service_internaluri }}"" validate_certs: ""{{ not keystone_service_internaluri_insecure }}"" register: _wait_check until: _wait_check is success retries: 12 delay: 5 - name: Add service project os_project: cloud: default state: present name: ""{{ keystone_service_tenant_name }}"" description: ""{{ keystone_service_description }}"" domain_id: ""default"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_service when: not keystone_service_in_ldap | bool until: add_service is success retries: 5 delay: 10 - name: Add default role os_keystone_role: cloud: default state: present name: ""{{ keystone_default_role_name }}"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_service when: not keystone_service_in_ldap | bool until: add_service is success retries: 5 delay: 10 - name: Add service to the keystone service catalog os_keystone_service: cloud: default state: present name: ""{{ keystone_service_name }}"" service_type: ""{{ keystone_service_type }}"" description: ""{{ keystone_service_description }}"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_service until: add_service is success retries: 5 delay: 10 - name: Add endpoints to keystone endpoint catalog os_keystone_endpoint: cloud: default state: present service: ""{{ keystone_service_name }}"" endpoint_interface: ""{{ item.interface }}"" url: ""{{ item.url }}"" region: ""{{ keystone_service_region }}"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_service until: add_service is success retries: 5 delay: 10 with_items: - interface: ""public"" url: ""{{ keystone_service_publicuri }}"" - interface: ""internal"" url: ""{{ keystone_service_internaluri }}"" - interface: ""admin"" url: ""{{ keystone_service_adminuri }}"" ",172,110
openstack%2Ftrove~master~I02ecdee3507dfaf949796e79f8919e1233efe6f0,openstack/trove,master,I02ecdee3507dfaf949796e79f8919e1233efe6f0,DNM: bindep test,ABANDONED,2019-07-09 13:57:55.000000000,2019-07-09 15:01:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-09 13:57:55.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/trove/commit/6ef1a98c893cfdc1b420990ed777a1f5612cb728', 'message': 'DNM: bindep test\n\nChange-Id: I02ecdee3507dfaf949796e79f8919e1233efe6f0\n'}]",0,669877,6ef1a98c893cfdc1b420990ed777a1f5612cb728,3,1,1,17685,,,0,"DNM: bindep test

Change-Id: I02ecdee3507dfaf949796e79f8919e1233efe6f0
",git fetch https://review.opendev.org/openstack/trove refs/changes/77/669877/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,6ef1a98c893cfdc1b420990ed777a1f5612cb728,do-not-merge,"# This is the fallback list for packages to install. Do not add # additional packages here. Repositories should use bindep and create # their own bindep.txt files if the list below is not # working for them. build-essential [platform:dpkg] curl [!platform:gentoo] net-misc/curl [platform:gentoo] dev-libs/cyrus-sasl [platform:gentoo] cyrus-sasl-devel [platform:rpm] media-fonts/nanumfont [platform:gentoo] fonts-nanum [platform:dpkg] media-fonts/takao-fonts [platform:gentoo] fonts-takao [platform:dpkg] gawk gettext [!platform:suse] gettext-runtime [platform:suse] graphviz [!platform:gentoo] media-gfx/graphviz [platform:gentoo] language-pack-en [platform:ubuntu] libcurl-devel [platform:rpm] libcurl4-gnutls-dev [platform:dpkg] libevent-dev [platform:dpkg] libevent-devel [platform:rpm] dev-libs/libevent [platform:gentoo] libffi-dev [platform:dpkg] libffi-devel [platform:redhat platform:suse !platform:opensuse423] libffi48-devel [platform:opensuse423] virtual/libffi [platform:gentoo] libjerasure-dev [platform:ubuntu] dev-libs/jerasure [platform:gentoo] libjpeg-dev [platform:dpkg] libjpeg8-devel [platform:suse] libjpeg-turbo-devel [platform:redhat] media-libs/libjpeg-turbo [platform:gentoo] libldap2-dev [platform:dpkg] net-nds/openldap [platform:gentoo] libmysqlclient-dev [platform:dpkg] libpcap-dev [platform:dpkg] libpcap-devel [platform:rpm] net-libs/libpcap [platform:gentoo] libpq-dev [platform:dpkg] librrd-dev [platform:dpkg] net-analyzer/rrdtool [platform:gentoo] libsasl2-dev [platform:dpkg] libselinux-python [platform:redhat] python-selinux [platform:suse] sys-libs/libselinux [platform:gentoo] libsqlite3-dev [platform:dpkg] libuuid-devel [platform:rpm] libvirt-dev [platform:dpkg] libvirt-devel [platform:rpm] app-emulation/libvirt [platform:gentoo] libvirt-python [platform:rpm] dev-python/libvirt-python [platform:gentoo] libxml2-dev [platform:dpkg] libxml2-devel [platform:rpm] libxml2-utils [platform:dpkg] dev-libs/libxml2 [platform:gentoo] libxslt-devel [platform:rpm] libxslt1-dev [platform:dpkg] dev-libs/libxslt [platform:gentoo] locales [platform:debian] mariadb [platform:rpm] mariadb-server [platform:redhat] mariadb-devel [platform:redhat] libmysqlclient-devel [platform:suse] dev-db/mariadb [platform:gentoo] memcached mysql-client [platform:dpkg] mysql-server [platform:dpkg] openldap-devel [platform:redhat] openldap2-devel [platform:suse] pkg-config [platform:dpkg platform:suse] pkgconfig [platform:redhat] virtual/pkgconfig [platform:gentoo] postgresql postgresql-client [platform:dpkg] postgresql-devel [platform:rpm] postgresql-server [platform:rpm] pypy [platform:ubuntu] pypy-dev [platform:ubuntu] python-dev [platform:dpkg] python-devel [platform:rpm] dev-lang/python [platform:gentoo] python-libvirt [platform:dpkg] python-lxml [!platform:gentoo !platform:fedora] python2-lxml [platform:fedora] dev-python/lxml [platform:gentoo] # Note that python3-all-dev includes python3-all, added # both here for documentary purpose. python3-all [platform:dpkg] python3-all-dev [platform:dpkg] python3-devel [platform:fedora platform:suse] # python3-devel does not pull in the python3 package on openSUSE so # we need to be explicit. The python3 package contains the XML module # which is required by a python3 virtualenv. Similarly, in python2, # the XML module is located in python-xml which is not pulled in # by python-devel as well. See https://bugzilla.suse.com/show_bug.cgi?id=1046990 python3 [platform:suse] python-xml [platform:suse] rrdtool-devel [platform:rpm] sqlite [platform:redhat] sqlite-devel [platform:redhat] sqlite3-devel [platform:suse] sqlite3 [platform:dpkg] dev-db/sqlite [platform:gentoo] swig unzip uuid-dev [platform:dpkg] xsltproc [platform:dpkg] zip zlib-devel [platform:rpm] zlib1g-dev [platform:dpkg] sys-libs/zlib [platform:gentoo] ",,115,0
openstack%2Ftripleo-common~master~I87be8c3c7268399d86856eb47e801258d117a172,openstack/tripleo-common,master,I87be8c3c7268399d86856eb47e801258d117a172,Exit 1 when container image prepare fails,MERGED,2019-07-08 22:04:34.000000000,2019-07-09 14:51:58.000000000,2019-07-09 14:49:58.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-08 22:04:34.000000000', 'files': ['scripts/tripleo-container-image-prepare'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4596f0f332a8ba6e03399c994cd9e6a7803f44f3', 'message': ""Exit 1 when container image prepare fails\n\nCurrently if an exception is thrown during the container image prepare,\nwe log it but we still return 0. Anything that is running the command\ndoesn't know it had issues.\n\nChange-Id: I87be8c3c7268399d86856eb47e801258d117a172\nCloses-Bug: #1835837\n""}]",0,669766,4596f0f332a8ba6e03399c994cd9e6a7803f44f3,10,5,1,14985,,,0,"Exit 1 when container image prepare fails

Currently if an exception is thrown during the container image prepare,
we log it but we still return 0. Anything that is running the command
doesn't know it had issues.

Change-Id: I87be8c3c7268399d86856eb47e801258d117a172
Closes-Bug: #1835837
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/66/669766/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-container-image-prepare'],1,4596f0f332a8ba6e03399c994cd9e6a7803f44f3,bug/1835837, sys.exit(1),,1,0
openstack%2Fopenstack-ansible-os_glance~master~I06607f373842b9943da5479a4e863f68dde2f08c,openstack/openstack-ansible-os_glance,master,I06607f373842b9943da5479a4e863f68dde2f08c,service_setup: refactor service setup to a single file,MERGED,2019-06-14 12:40:37.000000000,2019-07-09 14:50:46.000000000,2019-07-09 14:50:46.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-14 12:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/f92dd9390e3119397309713c438baf15428ea0d6', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nDepends-On: https://review.opendev.org/#/c/665244/\nChange-Id: I06607f373842b9943da5479a4e863f68dde2f08c\n'}, {'number': 2, 'created': '2019-06-17 07:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/2a992eda2e4848040220987d138709738aeb0714', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nDepends-On: https://review.opendev.org/#/c/665244/\nChange-Id: I06607f373842b9943da5479a4e863f68dde2f08c\n'}, {'number': 3, 'created': '2019-06-17 08:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/a7c6c16d5533a718654ce49eeed130c7cdeaa539', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nDepends-On: https://review.opendev.org/#/c/665244/\nChange-Id: I06607f373842b9943da5479a4e863f68dde2f08c\n'}, {'number': 4, 'created': '2019-06-17 09:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/56d776ed6170a554fcd09de3edaeba413ba8cd16', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nDepends-On: https://review.opendev.org/#/c/665244/\nChange-Id: I06607f373842b9943da5479a4e863f68dde2f08c\n'}, {'number': 5, 'created': '2019-06-28 11:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/f1e20346c13087be9673f3f567cbf94e66336ccf', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nDepends-On: https://review.opendev.org/#/c/665244/\nChange-Id: I06607f373842b9943da5479a4e863f68dde2f08c\n'}, {'number': 6, 'created': '2019-06-28 18:49:45.000000000', 'files': ['tasks/main.yml', 'tasks/service_setup.yml', 'tasks/glance_service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/fc6683f3d658fd7443eca9bb2c426746b9e63c2a', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nDepends-On: https://review.opendev.org/#/c/665244/\nChange-Id: I06607f373842b9943da5479a4e863f68dde2f08c\n'}]",1,665372,fc6683f3d658fd7443eca9bb2c426746b9e63c2a,24,4,6,28619,,,0,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Depends-On: https://review.opendev.org/#/c/665244/
Change-Id: I06607f373842b9943da5479a4e863f68dde2f08c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/72/665372/5 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/service_setup.yml', 'tasks/glance_service_setup.yml']",3,f92dd9390e3119397309713c438baf15428ea0d6,osa/service-refactor,,"--- # Copyright 2014, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # We set the python interpreter to the ansible runtime venv if # the delegation is to localhost so that we get access to the # appropriate python libraries in that venv. If the delegation # is to another host, we assume that it is accessible by the # system python instead. - name: Setup the service delegate_to: ""{{ glance_service_setup_host }}"" vars: ansible_python_interpreter: ""{{ glance_service_setup_host_python_interpreter }}"" block: - name: Add service to the keystone service catalog os_keystone_service: cloud: default state: present name: ""{{ glance_service_name }}"" service_type: ""{{ glance_service_type }}"" description: ""{{ glance_service_description }}"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_service until: add_service is success retries: 5 delay: 10 - name: Add service user os_user: cloud: default state: present name: ""{{ glance_service_user_name }}"" password: ""{{ glance_service_password }}"" domain: default default_project: ""{{ glance_service_project_name }}"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_service when: not glance_service_in_ldap | bool until: add_service is success retries: 5 delay: 10 no_log: True - name: Add service user to admin role os_user_role: cloud: default state: present user: ""{{ glance_service_user_name }}"" role: ""{{ glance_role_name }}"" project: ""{{ glance_service_project_name }}"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_service when: not glance_service_in_ldap | bool until: add_service is success retries: 5 delay: 10 - name: Add endpoints to keystone endpoint catalog os_keystone_endpoint: cloud: default state: present service: ""{{ glance_service_name }}"" endpoint_interface: ""{{ item.interface }}"" url: ""{{ item.url }}"" region: ""{{ glance_service_region }}"" endpoint_type: admin verify: ""{{ not keystone_service_adminuri_insecure }}"" register: add_service until: add_service is success retries: 5 delay: 10 with_items: - interface: ""public"" url: ""{{ glance_service_publicurl }}"" - interface: ""internal"" url: ""{{ glance_service_internalurl }}"" - interface: ""admin"" url: ""{{ glance_service_adminurl }}"" ",151,93
openstack%2Fopenstack-ansible-os_congress~master~I5654198725841b5e074a1b0ee9e6c2cf2e0d09da,openstack/openstack-ansible-os_congress,master,I5654198725841b5e074a1b0ee9e6c2cf2e0d09da,Add integrated coverage,MERGED,2019-05-20 09:57:13.000000000,2019-07-09 14:47:26.000000000,2019-07-09 14:47:26.000000000,"[{'_account_id': 6593}, {'_account_id': 13095}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-05-20 09:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/8ac3876a0050f476fc1a5d448afed4fd3ec2b9ec', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\nWith the dynamic execution of the roles, this role\nalso tests the congress role in the metal jobs template.\n\nChange-Id: I5654198725841b5e074a1b0ee9e6c2cf2e0d09da\n""}, {'number': 2, 'created': '2019-06-03 15:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/40ff75ed71895ad2e393a093ae2ff192f6a56e25', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\nWith the dynamic execution of the roles, this role\nalso tests the congress role in the metal jobs template.\n\nChange-Id: I5654198725841b5e074a1b0ee9e6c2cf2e0d09da\n""}, {'number': 3, 'created': '2019-06-14 14:57:10.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/fc1b5a59af5dd2e817105f45117c573e2751722f', 'message': ""Add integrated coverage\n\nCurrently this role doesn't test the integrated jobs.\nWith the dynamic execution of the roles, this role\nalso tests the congress role in the metal jobs template.\n\nChange-Id: I5654198725841b5e074a1b0ee9e6c2cf2e0d09da\n""}]",0,660071,fc1b5a59af5dd2e817105f45117c573e2751722f,20,5,3,17068,,,0,"Add integrated coverage

Currently this role doesn't test the integrated jobs.
With the dynamic execution of the roles, this role
also tests the congress role in the metal jobs template.

Change-Id: I5654198725841b5e074a1b0ee9e6c2cf2e0d09da
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_congress refs/changes/71/660071/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,8ac3876a0050f476fc1a5d448afed4fd3ec2b9ec,use-integrated-repo-for-all-tests,,"--- # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - job: name: openstack-ansible-deploy-aio_metal_congress-centos-7 parent: openstack-ansible-deploy-aio nodeset: centos-7 vars: action: deploy scenario: aio_metal_congress - job: name: openstack-ansible-deploy-aio_metal_congress-opensuse-150 parent: openstack-ansible-deploy-aio nodeset: opensuse-150 vars: action: deploy scenario: aio_metal_congress - job: name: openstack-ansible-deploy-aio_metal_congress-ubuntu-bionic parent: openstack-ansible-deploy-aio nodeset: ubuntu-bionic vars: action: deploy scenario: aio_metal_congress - job: name: openstack-ansible-deploy-aio_metal_congress-debian-stable parent: openstack-ansible-deploy-aio nodeset: debian-stable vars: action: deploy scenario: aio_metal_congress ",2,57
openstack%2Fneutron~master~I749a23bbed7074116fba2b3c06e617601e6d4620,openstack/neutron,master,I749a23bbed7074116fba2b3c06e617601e6d4620,Add Python 3 Train unit tests,MERGED,2019-07-05 17:50:44.000000000,2019-07-09 14:45:57.000000000,2019-07-09 14:45:57.000000000,"[{'_account_id': 11805}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-05 17:50:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a5b6d32de849c81cffdd8f216b692cf9993dd5a', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I749a23bbed7074116fba2b3c06e617601e6d4620\nStory: #2005924\nTask: #34225\n'}]",3,669425,0a5b6d32de849c81cffdd8f216b692cf9993dd5a,15,5,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I749a23bbed7074116fba2b3c06e617601e6d4620
Story: #2005924
Task: #34225
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/669425/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0a5b6d32de849c81cffdd8f216b692cf9993dd5a,python3-train,"envlist = docs,py27,py37,pep8","envlist = docs,py36,py37,py27,pep8",1,1
openstack%2Freleases~master~I365e242cad93f76aa5ad88ec420008afa40d1f29,openstack/releases,master,I365e242cad93f76aa5ad88ec420008afa40d1f29,Release ironic-python-agent 4.0.0 for Train,MERGED,2019-07-09 13:42:09.000000000,2019-07-09 14:37:12.000000000,2019-07-09 14:37:12.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-07-09 13:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/dc01ff767f43959a5611b7e9964a2425e46fd530', 'message': 'Release ironic-python-agent 3.8.0 for Train\n\nChange-Id: I365e242cad93f76aa5ad88ec420008afa40d1f29\n'}, {'number': 2, 'created': '2019-07-09 14:08:24.000000000', 'files': ['deliverables/train/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bcce9e35d03b98c9b4b879108a95cf95e8b2dcce', 'message': 'Release ironic-python-agent 4.0.0 for Train\n\nChange-Id: I365e242cad93f76aa5ad88ec420008afa40d1f29\n'}]",0,669875,bcce9e35d03b98c9b4b879108a95cf95e8b2dcce,10,4,2,11655,,,0,"Release ironic-python-agent 4.0.0 for Train

Change-Id: I365e242cad93f76aa5ad88ec420008afa40d1f29
",git fetch https://review.opendev.org/openstack/releases refs/changes/75/669875/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ironic-python-agent.yaml'],1,dc01ff767f43959a5611b7e9964a2425e46fd530,, - projects: - hash: e33744ac2d28d23e1e7951c50deaf07806665023 repo: openstack/ironic-python-agent version: 3.8.0,,4,0
openstack%2Fpuppet-tripleo~stable%2Fqueens~I260b18ae3479da4f5176027d4b26b3e1c6b22063,openstack/puppet-tripleo,stable/queens,I260b18ae3479da4f5176027d4b26b3e1c6b22063,Fix interface_for_ip for newer facter versions,MERGED,2019-07-08 15:32:57.000000000,2019-07-09 14:33:39.000000000,2019-07-09 14:33:39.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-08 15:32:57.000000000', 'files': ['lib/puppet/parser/functions/interface_for_ip.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/db8d7cbe7ce42c0fafafc70c35dd5d9a611802ce', 'message': 'Fix interface_for_ip for newer facter versions\n\nIn facter 3.x, the networking facts are in a complex hash. Previously\nthe interface facts where flat so we would lookup the vars. This change\nfirst tries the facter 2.x lookup before falling back to the facter 3.x\nsyntax.\n\nChange-Id: I260b18ae3479da4f5176027d4b26b3e1c6b22063\nCloses-Bug: #1812938\n(cherry picked from commit 5fff984cecf68c256e60ba6017f37b9d1e76e31b)\n'}]",0,669704,db8d7cbe7ce42c0fafafc70c35dd5d9a611802ce,12,5,1,14985,,,0,"Fix interface_for_ip for newer facter versions

In facter 3.x, the networking facts are in a complex hash. Previously
the interface facts where flat so we would lookup the vars. This change
first tries the facter 2.x lookup before falling back to the facter 3.x
syntax.

Change-Id: I260b18ae3479da4f5176027d4b26b3e1c6b22063
Closes-Bug: #1812938
(cherry picked from commit 5fff984cecf68c256e60ba6017f37b9d1e76e31b)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/04/669704/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/parser/functions/interface_for_ip.rb'],1,db8d7cbe7ce42c0fafafc70c35dd5d9a611802ce,bug/1835718," network_facts = lookupvar('networking') # puppet downcases fact names, interface names can have capitals but # in facter 2.x they were lower case. In facter 3.x they can have # capitals iface_no_dash = interface.gsub('-', '_').downcase facter_ip = 'ip' facter_netmask = 'netmask' facter_ip = 'ip6' facter_netmask = 'netmask6' if network_facts.nil? or network_facts['interfaces'].nil? then # facter 2 facts interface_ip = lookupvar(ipaddress_name) next if interface_ip.nil? netmask = lookupvar(netmask_name) return interface if ip1.mask(netmask) == ip2.mask(netmask) else # facter 3+ syntax: # networking => { # ... # interfaces => { # br-ctlplane => { # bindings => [ # { # address => ""192.168.24.1"", # netmask => ""255.255.255.0"", # network => ""192.168.24.0"" # } # ], # bindings6 => [ # { # address => ""fe80::5054:ff:fe22:bac3"", # netmask => ""ffff:ffff:ffff:ffff::"", # network => ""fe80::"" # } # ], # ip => ""192.168.24.1"", # ip6 => ""fe80::5054:ff:fe22:bac3"", # mac => ""52:54:00:22:ba:c3"", # mtu => 1500, # netmask => ""255.255.255.0"", # netmask6 => ""ffff:ffff:ffff:ffff::"", # network => ""192.168.24.0"", # network6 => ""fe80::"" # }, # }, # ... # } next if network_facts['interfaces'][interface].nil? or network_facts['interfaces'][interface][facter_ip].nil? ip2 = IPAddr.new(network_facts['interfaces'][interface][facter_ip]) netmask = network_facts['interfaces'][interface][facter_netmask]"," iface_no_dash = interface.gsub('-', '_') interface_ip = lookupvar(ipaddress_name) netmask = lookupvar(netmask_name) unless interface_ip.nil? then",50,4
openstack%2Frally-openstack~master~Ic3ca2e5a95005fd4c39bdf58b3004295d06cad62,openstack/rally-openstack,master,Ic3ca2e5a95005fd4c39bdf58b3004295d06cad62,Add healthmonitors scenarios for octavia,NEW,2019-01-02 18:23:57.000000000,2019-07-09 14:33:00.000000000,,"[{'_account_id': 24}, {'_account_id': 9545}, {'_account_id': 15209}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-02 18:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/cf677444833105e7afdf68b85072fa938559620e', 'message': 'Add healthmonitors scenarios for octavia\n\nAdd the following scenarios:\n\n- Octavia.create_and_list_healthmonitors\n- Octavia.create_and_delete_healthmonitors\n- Octavia.create_and_update_healthmonitors\n- Octavia.create_and_show_healthmonitors\n\nChange-Id: Ic3ca2e5a95005fd4c39bdf58b3004295d06cad62\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2019-01-24 13:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/eb56eb3a5285ddbdbb76618d65b5bd5f8d4dcc0e', 'message': 'Add healthmonitors scenarios for octavia\n\nAdd the following scenarios:\n\n- Octavia.create_and_list_healthmonitors\n- Octavia.create_and_delete_healthmonitors\n- Octavia.create_and_update_healthmonitors\n- Octavia.create_and_show_healthmonitors\n\nChange-Id: Ic3ca2e5a95005fd4c39bdf58b3004295d06cad62\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 3, 'created': '2019-01-28 14:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/3d7c5b0d7047ab26ff37472673742a63c584679a', 'message': 'Add healthmonitors scenarios for octavia\n\nAdd the following scenarios:\n\n- Octavia.create_and_list_healthmonitors\n- Octavia.create_and_delete_healthmonitors\n- Octavia.create_and_update_healthmonitors\n- Octavia.create_and_show_healthmonitors\n\nChange-Id: Ic3ca2e5a95005fd4c39bdf58b3004295d06cad62\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 4, 'created': '2019-01-28 14:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0892b88f53f5e2bb29edce9bfbdeea491771a47a', 'message': 'Add healthmonitors scenarios for octavia\n\nAdd the following scenarios:\n\n- Octavia.create_and_list_healthmonitors\n- Octavia.create_and_delete_healthmonitors\n- Octavia.create_and_update_healthmonitors\n- Octavia.create_and_show_healthmonitors\n\nChange-Id: Ic3ca2e5a95005fd4c39bdf58b3004295d06cad62\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 5, 'created': '2019-01-28 15:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/56dc852c8257fe7f9fb7106a9df9ccbab479b749', 'message': 'Add healthmonitors scenarios for octavia\n\nAdd the following scenarios:\n\n- Octavia.create_and_list_healthmonitors\n- Octavia.create_and_delete_healthmonitors\n- Octavia.create_and_update_healthmonitors\n- Octavia.create_and_show_healthmonitors\n\nChange-Id: Ic3ca2e5a95005fd4c39bdf58b3004295d06cad62\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 6, 'created': '2019-02-17 22:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/64a472e8b136b75d32ba39e1b9e4f1581f3bdb0a', 'message': 'Add healthmonitors scenarios for octavia\n\nAdd the following scenarios:\n\n- Octavia.create_and_list_healthmonitors\n- Octavia.create_and_delete_healthmonitors\n- Octavia.create_and_update_healthmonitors\n- Octavia.create_and_show_healthmonitors\n\nChange-Id: Ic3ca2e5a95005fd4c39bdf58b3004295d06cad62\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 7, 'created': '2019-02-27 14:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/69dc8cd0542a6f5760950b81b424eb019c5a1b35', 'message': 'Add healthmonitors scenarios for octavia\n\nAdd the following scenarios:\n\n- Octavia.create_and_list_healthmonitors\n- Octavia.create_and_delete_healthmonitors\n- Octavia.create_and_update_healthmonitors\n- Octavia.create_and_show_healthmonitors\n\nChange-Id: Ic3ca2e5a95005fd4c39bdf58b3004295d06cad62\nDepends-On: I5e67c85a76dd6ab9a4940521447545e1f54d1d58\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 8, 'created': '2019-02-27 15:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/f074e8c4b2a862fa4717d83a01f64473a2343a39', 'message': 'Add healthmonitors scenarios for octavia\n\nAdd the following scenarios:\n\n- Octavia.create_and_list_healthmonitors\n- Octavia.create_and_delete_healthmonitors\n- Octavia.create_and_update_healthmonitors\n- Octavia.create_and_show_healthmonitors\n\nChange-Id: Ic3ca2e5a95005fd4c39bdf58b3004295d06cad62\nDepends-On: I5e67c85a76dd6ab9a4940521447545e1f54d1d58\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 9, 'created': '2019-02-27 15:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/91c7426584b80f681232c29ff648f22443f97b7a', 'message': 'Add healthmonitors scenarios for octavia\n\nAdd the following scenarios:\n\n- Octavia.create_and_list_healthmonitors\n- Octavia.create_and_delete_healthmonitors\n- Octavia.create_and_update_healthmonitors\n- Octavia.create_and_show_healthmonitors\n\nChange-Id: Ic3ca2e5a95005fd4c39bdf58b3004295d06cad62\nDepends-On: I5e67c85a76dd6ab9a4940521447545e1f54d1d58\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 10, 'created': '2019-07-08 13:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/3f087b0bdf27af914b961a8fc95f74edb53bcafe', 'message': 'Add healthmonitors scenarios for octavia\n\nAdd the following scenarios:\n\n- Octavia.create_and_list_healthmonitors\n- Octavia.create_and_delete_healthmonitors\n- Octavia.create_and_update_healthmonitors\n- Octavia.create_and_show_healthmonitors\n\nChange-Id: Ic3ca2e5a95005fd4c39bdf58b3004295d06cad62\nDepends-On: I5e67c85a76dd6ab9a4940521447545e1f54d1d58\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}, {'number': 11, 'created': '2019-07-08 13:26:12.000000000', 'files': ['samples/tasks/scenarios/octavia/octavia-create-and-update-healthmonitors.json', 'rally_openstack/services/loadbalancer/octavia.py', 'samples/tasks/scenarios/octavia/octavia-create-and-show-healthmonitors.yaml', 'tests/unit/services/loadbalancer/test_octavia.py', 'rally_openstack/scenarios/octavia/healthmonitors.py', 'samples/tasks/scenarios/octavia/octavia-create-and-delete-healthmonitors.json', 'rally-jobs/octavia.yaml', 'rally_openstack/cleanup/resources.py', 'samples/tasks/scenarios/octavia/octavia-create-and-list-healthmonitors.json', 'samples/tasks/scenarios/octavia/octavia-create-and-delete-healthmonitors.yaml', 'samples/tasks/scenarios/octavia/octavia-create-and-update-healthmonitors.yaml', 'tests/unit/scenarios/loadbalancer/test_healthmonitors.py', 'samples/tasks/scenarios/octavia/octavia-create-and-list-healthmonitors.yaml', 'samples/tasks/scenarios/octavia/octavia-create-and-show-healthmonitors.json', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/8f0dd372addb236b35d6f9b3bb48b94c9ecb42ef', 'message': 'Add healthmonitors scenarios for octavia\n\nAdd the following scenarios:\n\n- Octavia.create_and_list_healthmonitors\n- Octavia.create_and_delete_healthmonitors\n- Octavia.create_and_update_healthmonitors\n- Octavia.create_and_show_healthmonitors\n\nChange-Id: Ic3ca2e5a95005fd4c39bdf58b3004295d06cad62\nDepends-On: I5e67c85a76dd6ab9a4940521447545e1f54d1d58\nSigned-off-by: Chuck Short <chucks@redhat.com>\n'}]",1,628022,8f0dd372addb236b35d6f9b3bb48b94c9ecb42ef,31,4,11,24,,,0,"Add healthmonitors scenarios for octavia

Add the following scenarios:

- Octavia.create_and_list_healthmonitors
- Octavia.create_and_delete_healthmonitors
- Octavia.create_and_update_healthmonitors
- Octavia.create_and_show_healthmonitors

Change-Id: Ic3ca2e5a95005fd4c39bdf58b3004295d06cad62
Depends-On: I5e67c85a76dd6ab9a4940521447545e1f54d1d58
Signed-off-by: Chuck Short <chucks@redhat.com>
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/22/628022/1 && git format-patch -1 --stdout FETCH_HEAD,"['samples/tasks/scenarios/octavia/octavia-create-and-update-healthmonitors.json', 'rally_openstack/services/loadbalancer/octavia.py', 'samples/tasks/scenarios/octavia/octavia-create-and-show-healthmonitors.yaml', 'rally-jobs/load-balancing.yaml', 'tests/unit/services/loadbalancer/test_octavia.py', 'rally_openstack/scenarios/octavia/healthmonitors.py', 'samples/tasks/scenarios/octavia/octavia-create-and-delete-healthmonitors.json', 'rally_openstack/cleanup/resources.py', 'samples/tasks/scenarios/octavia/octavia-create-and-list-healthmonitors.json', 'samples/tasks/scenarios/octavia/octavia-create-and-delete-healthmonitors.yaml', 'samples/tasks/scenarios/octavia/octavia-create-and-update-healthmonitors.yaml', 'tests/unit/scenarios/loadbalancer/test_healthmonitors.py', 'samples/tasks/scenarios/octavia/octavia-create-and-list-healthmonitors.yaml', 'samples/tasks/scenarios/octavia/octavia-create-and-show-healthmonitors.json', 'CHANGELOG.rst']",15,cf677444833105e7afdf68b85072fa938559620e,add-healthmonitor,* [scenario plugin]Octavia.create_and_list_listeners * [scenario plugin]Octavia.create_and_delete_listeners * [scenario plugin]Octavia.create_and_update_listeners * [scenario plugin]Octavia.create_and_show_listeners * [scenario plugin] Octavia.create_and_list_healthmonitors * [scenario plugin] Octavia.create_and_delete_healthmonitors * [scenario plugin] Octavia.create_and_update_healthmonitors * [scenario plugin] Octavia.create_and_show_healthmonitors,,793,12
openstack%2Fplacement~master~I6ffc19eea84b45dd452bc61d2a2007b6572719ad,openstack/placement,master,I6ffc19eea84b45dd452bc61d2a2007b6572719ad,Trivial: Fix docs for functions,MERGED,2019-07-09 07:52:08.000000000,2019-07-09 14:29:09.000000000,2019-07-09 14:29:09.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-09 07:52:08.000000000', 'files': ['placement/lib.py', 'placement/resource_class_cache.py', 'placement/objects/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/23300f2813e4ae02c566122896b05e883c3ec1c3', 'message': 'Trivial: Fix docs for functions\n\nThis patch fixes some comments in code:\n - Now suffixes can be string in _merge_candidates()\n - Remove old doc for `allow_forbidden` parameter in\n   RequestGroup.dict_from_request\n - Delete unnecessary space in ResourceClassCache\n\nChange-Id: I6ffc19eea84b45dd452bc61d2a2007b6572719ad\n'}]",0,669810,23300f2813e4ae02c566122896b05e883c3ec1c3,7,3,1,25625,,,0,"Trivial: Fix docs for functions

This patch fixes some comments in code:
 - Now suffixes can be string in _merge_candidates()
 - Remove old doc for `allow_forbidden` parameter in
   RequestGroup.dict_from_request
 - Delete unnecessary space in ResourceClassCache

Change-Id: I6ffc19eea84b45dd452bc61d2a2007b6572719ad
",git fetch https://review.opendev.org/openstack/placement refs/changes/10/669810/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/lib.py', 'placement/resource_class_cache.py', 'placement/objects/allocation_candidate.py']",3,23300f2813e4ae02c566122896b05e883c3ec1c3,trivial," :param candidates: A dict, keyed by suffix string or '', of tuples of"," :param candidates: A dict, keyed by integer suffix or '', of tuples of",3,4
openstack%2Fneutron~master~I45480986fc89e0b2f475ee0ceb13d8742fb8c530,openstack/neutron,master,I45480986fc89e0b2f475ee0ceb13d8742fb8c530,"Add ""connectivity"" parameter in vif_details",MERGED,2019-03-22 16:15:03.000000000,2019-07-09 14:29:07.000000000,2019-07-09 14:29:07.000000000,"[{'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-03-22 16:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5fd2f1db085f9eb601790a766ebc984904a9057f', 'message': 'Add ""connectivity"" parameter in vif_details\n\nAdded ""connectivity"" parameter to mech driver vif_details. The default\nvalue is ""legacy"". The in-tree drivers (Linux Bridge, Open vSwitch, SR-IOV\nand MacVTap) have ""l2"" connectivity.\n\nDepends-On: https://review.openstack.org/#/c/645288/\nChange-Id: I45480986fc89e0b2f475ee0ceb13d8742fb8c530\nRelated-Bug: #1821058\n'}, {'number': 2, 'created': '2019-03-24 20:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c857609e9947d737686911956bb7dd7b75b74505', 'message': 'Add ""connectivity"" parameter in vif_details\n\nAdded ""connectivity"" parameter to mech driver vif_details. The default\nvalue is ""legacy"". The in-tree drivers (Linux Bridge, Open vSwitch, SR-IOV\nand MacVTap) have ""l2"" connectivity.\n\nDepends-On: https://review.openstack.org/#/c/645288/\nChange-Id: I45480986fc89e0b2f475ee0ceb13d8742fb8c530\nRelated-Bug: #1821058\n'}, {'number': 3, 'created': '2019-07-01 15:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f9aa90ad13ca6da06234badf2d88eccd4b03318', 'message': 'Add ""connectivity"" parameter in vif_details\n\nAdded ""connectivity"" parameter to mech driver vif_details. The default\nvalue is ""legacy"". The in-tree drivers (Linux Bridge, Open vSwitch, SR-IOV\nand MacVTap) have ""l2"" connectivity.\n\nDepends-On: https://review.openstack.org/#/c/645288/\nChange-Id: I45480986fc89e0b2f475ee0ceb13d8742fb8c530\nRelated-Bug: #1821058\n'}, {'number': 4, 'created': '2019-07-02 09:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d6b35301e1f027eb0a6fd416add75ed6c91cd9c', 'message': 'Add ""connectivity"" parameter in vif_details\n\nAdded ""connectivity"" parameter to mech driver vif_details. The default\nvalue is ""legacy"". The in-tree drivers (Linux Bridge, Open vSwitch, SR-IOV\nand MacVTap) have ""l2"" connectivity.\n\nDepends-On: https://review.openstack.org/#/c/645288/\nChange-Id: I45480986fc89e0b2f475ee0ceb13d8742fb8c530\nRelated-Bug: #1821058\n'}, {'number': 5, 'created': '2019-07-03 15:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/80fdea1c0e6eac44a0000f001841d43491e4bc5b', 'message': 'Add ""connectivity"" parameter in vif_details\n\nAdded ""connectivity"" parameter to mech driver vif_details. The default\nvalue is ""legacy"". The in-tree drivers (Linux Bridge, Open vSwitch, SR-IOV\nand MacVTap) have ""l2"" connectivity.\n\nDepends-On: https://review.openstack.org/#/c/645288/\nChange-Id: I45480986fc89e0b2f475ee0ceb13d8742fb8c530\nRelated-Bug: #1821058\n'}, {'number': 6, 'created': '2019-07-04 09:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b58dc8dae8388664270db101cdae654de2ac5c66', 'message': 'Add ""connectivity"" parameter in vif_details\n\nAdded ""connectivity"" parameter to mech driver vif_details. The default\nvalue is ""legacy"". The in-tree drivers (Linux Bridge, Open vSwitch, SR-IOV\nand MacVTap) have ""l2"" connectivity.\n\nChange-Id: I45480986fc89e0b2f475ee0ceb13d8742fb8c530\nRelated-Bug: #1821058\n'}, {'number': 7, 'created': '2019-07-04 16:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/36910e78a8122745d5c3942f4001e6f0d9cf610e', 'message': 'Add ""connectivity"" parameter in vif_details\n\nAdded ""connectivity"" parameter to mech driver vif_details. The default\nvalue is ""legacy"". The in-tree drivers (Linux Bridge, Open vSwitch, SR-IOV\nand MacVTap) have ""l2"" connectivity.\n\nChange-Id: I45480986fc89e0b2f475ee0ceb13d8742fb8c530\nRelated-Bug: #1821058\n'}, {'number': 8, 'created': '2019-07-05 10:13:52.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/mech_driver/test_mech_openvswitch.py', 'neutron/plugins/ml2/drivers/macvtap/mech_driver/mech_macvtap.py', 'neutron/plugins/ml2/drivers/mech_sriov/mech_driver/mech_driver.py', 'neutron/plugins/ml2/drivers/mech_agent.py', 'neutron/plugins/ml2/drivers/linuxbridge/mech_driver/mech_linuxbridge.py', 'neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a70f07deb155eef450d59ccd897730298f360a0a', 'message': 'Add ""connectivity"" parameter in vif_details\n\nAdded ""connectivity"" parameter to mech driver vif_details. The default\nvalue is ""legacy"". The in-tree drivers (Linux Bridge, Open vSwitch, SR-IOV\nand MacVTap) have ""l2"" connectivity.\n\nChange-Id: I45480986fc89e0b2f475ee0ceb13d8742fb8c530\nRelated-Bug: #1821058\n'}]",0,645645,a70f07deb155eef450d59ccd897730298f360a0a,46,8,8,16688,,,0,"Add ""connectivity"" parameter in vif_details

Added ""connectivity"" parameter to mech driver vif_details. The default
value is ""legacy"". The in-tree drivers (Linux Bridge, Open vSwitch, SR-IOV
and MacVTap) have ""l2"" connectivity.

Change-Id: I45480986fc89e0b2f475ee0ceb13d8742fb8c530
Related-Bug: #1821058
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/645645/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/macvtap/mech_driver/mech_macvtap.py', 'neutron/plugins/ml2/drivers/mech_sriov/mech_driver/mech_driver.py', 'neutron/plugins/ml2/drivers/mech_agent.py', 'neutron/plugins/ml2/drivers/linuxbridge/mech_driver/mech_linuxbridge.py', 'neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py']",5,5fd2f1db085f9eb601790a766ebc984904a9057f,bug/1821058," portbindings.OVS_HYBRID_PLUG: hybrid_plug_required, portbindings.VIF_DETAILS_CONNECTIVITY: portbindings.CONNECTIVITY_L2}", portbindings.OVS_HYBRID_PLUG: hybrid_plug_required},17,5
openstack%2Fcinder~master~I5d26982c39be87242c05e192e9ddd8e509e4162e,openstack/cinder,master,I5d26982c39be87242c05e192e9ddd8e509e4162e,VMware: Min volume size configuration,ABANDONED,2019-01-11 13:57:52.000000000,2019-07-09 14:15:12.000000000,,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29125}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-01-11 13:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/39d4e722ce5fbbc2fd6d489a9bd51adf5cb18d7f', 'message': 'VMware: Min volume size configuration\n\nCurrently, initial volume size is hardcoded to 1MB\n(which is the mininum required by VVol).\nIt must be extracted as configuration so that VASA provider requirements\ncan be met, e.g. NetApp requires min 4MB volume size.\n\nChange-Id: I5d26982c39be87242c05e192e9ddd8e509e4162e\n'}, {'number': 2, 'created': '2019-01-11 13:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d8ac336c6c209051317dd57832889139fd40035', 'message': 'VMware: Min volume size configuration\n\nCurrently, initial volume size is hardcoded to 1MB\n(which is the mininum required by VVol).\nIt must be extracted as configuration so that VASA provider requirements\ncan be met, e.g. NetApp requires min 4MB volume size.\n\nChange-Id: I5d26982c39be87242c05e192e9ddd8e509e4162e\n'}, {'number': 3, 'created': '2019-01-15 09:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/28f76bbcdb0cc1c74eebd5c430996290334479f0', 'message': 'VMware: Min volume size configuration\n\nCurrently, initial volume size is hardcoded to 1MB\n(which is the mininum required by VVol).\nIt must be extracted as configuration so that VASA provider requirements\ncan be met, e.g. NetApp requires min 4MB volume size.\n\nChange-Id: I5d26982c39be87242c05e192e9ddd8e509e4162e\n'}, {'number': 4, 'created': '2019-01-15 11:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a44874cac338e188572b12bab10d934915889e2', 'message': 'VMware: Min volume size configuration\n\nCurrently, initial volume size is hardcoded to 1MB\n(which is the mininum required by VVol).\nIt must be extracted as configuration so that VASA provider requirements\ncan be met, e.g. NetApp requires min 4MB volume size.\n\nChange-Id: I5d26982c39be87242c05e192e9ddd8e509e4162e\n'}, {'number': 5, 'created': '2019-01-15 11:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/19d2eb66907c4b9c8e9d55184fd2e5873b727465', 'message': 'VMware: Min volume size configuration\n\nCurrently, initial volume size is hardcoded to 1MB\n(which is the mininum required by VVol).\nIt must be extracted as configuration so that VASA provider requirements\ncan be met, e.g. NetApp requires min 4MB volume size.\n\nChange-Id: I5d26982c39be87242c05e192e9ddd8e509e4162e\n'}, {'number': 6, 'created': '2019-01-15 11:49:45.000000000', 'files': ['cinder/tests/unit/volume/drivers/vmware/test_vmware_vmdk.py', 'cinder/volume/drivers/vmware/vmdk.py', 'releasenotes/notes/vmware_vmdk_min_vol_size-deb6bf3d6838aacf.yaml', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/tests/unit/volume/drivers/vmware/test_vmware_volumeops.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c6e638796f97c47d2251603eeee5aaefbf60396', 'message': 'VMware: Min volume size configuration\n\nCurrently, initial volume size is hardcoded to 1MB\n(which is the mininum required by VVol).\nIt must be extracted as configuration so that VASA provider requirements\ncan be met, e.g. NetApp requires min 4MB volume size.\n\nChange-Id: I5d26982c39be87242c05e192e9ddd8e509e4162e\n'}]",2,630230,2c6e638796f97c47d2251603eeee5aaefbf60396,70,23,6,29125,,,0,"VMware: Min volume size configuration

Currently, initial volume size is hardcoded to 1MB
(which is the mininum required by VVol).
It must be extracted as configuration so that VASA provider requirements
can be met, e.g. NetApp requires min 4MB volume size.

Change-Id: I5d26982c39be87242c05e192e9ddd8e509e4162e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/630230/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/vmware/test_vmware_vmdk.py', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/tests/unit/volume/drivers/vmware/test_vmware_volumeops.py']",4,39d4e722ce5fbbc2fd6d489a9bd51adf5cb18d7f,vmware-configurable-min-volume-size," MIN_VOL_SIZE_KB = 1024 mock.sentinel.extension_type, self.MIN_VOL_SIZE_KB)", mock.sentinel.extension_type),17,7
openstack%2Ftempest-tripleo-ui~master~I1ce89cce5df90b0e5329b560c1256af31520054c,openstack/tempest-tripleo-ui,master,I1ce89cce5df90b0e5329b560c1256af31520054c,Retire tempest-tripleo-ui,MERGED,2019-06-27 14:53:03.000000000,2019-07-09 14:10:54.000000000,2019-07-09 14:10:54.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 14:53:03.000000000', 'files': ['.gitignore', 'tempest_tripleo_ui/models/__init__.py', 'test-requirements.txt', 'README.rst', 'setup.py', 'tempest_tripleo_ui/core.py', 'tempest_tripleo_ui/tests/__init__.py', 'requirements.txt', 'tempest_tripleo_ui/__init__.py', 'tempest_tripleo_ui/timer.py', 'tempest_tripleo_ui/models/login.py', 'releasenotes/source/_static/.placeholder', 'tempest_tripleo_ui/alerts.py', 'LICENSE', 'tempest_tripleo_ui/widgets/login_page.py', 'releasenotes/notes/set-up-project-1f593fc4174758e6.yaml', '.zuul.yaml', 'tempest_tripleo_ui/base.py', 'releasenotes/source/index.rst', 'tempest_tripleo_ui/tests/scenario/test_basic.py', 'releasenotes/source/unreleased.rst', 'tempest_tripleo_ui/tests/scenario/__init__.py', 'tempest_tripleo_ui/widgets/__init__.py', 'tempest_tripleo_ui/config.py', 'tempest_tripleo_ui/browser.py', 'tempest_tripleo_ui/plugin.py', 'doc/requirements.txt', 'setup.cfg', 'tox.ini', 'tempest_tripleo_ui/decorators.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/tempest-tripleo-ui/commit/8fb9012a16b1280c1150b1576f54981b50b3edc1', 'message': 'Retire tempest-tripleo-ui\n\nDepends-On: https://review.opendev.org/#/c/667949/\nChange-Id: I1ce89cce5df90b0e5329b560c1256af31520054c\n'}]",0,667951,8fb9012a16b1280c1150b1576f54981b50b3edc1,9,3,1,14985,,,0,"Retire tempest-tripleo-ui

Depends-On: https://review.opendev.org/#/c/667949/
Change-Id: I1ce89cce5df90b0e5329b560c1256af31520054c
",git fetch https://review.opendev.org/openstack/tempest-tripleo-ui refs/changes/51/667951/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'tempest_tripleo_ui/models/__init__.py', 'test-requirements.txt', 'README.rst', 'setup.py', 'tempest_tripleo_ui/core.py', 'tempest_tripleo_ui/tests/__init__.py', 'requirements.txt', 'tempest_tripleo_ui/__init__.py', 'tempest_tripleo_ui/timer.py', 'tempest_tripleo_ui/models/login.py', 'releasenotes/source/_static/.placeholder', 'tempest_tripleo_ui/alerts.py', 'LICENSE', 'tempest_tripleo_ui/widgets/login_page.py', 'releasenotes/notes/set-up-project-1f593fc4174758e6.yaml', '.zuul.yaml', 'tempest_tripleo_ui/base.py', 'releasenotes/source/index.rst', 'tempest_tripleo_ui/tests/scenario/test_basic.py', 'releasenotes/source/unreleased.rst', 'tempest_tripleo_ui/tests/scenario/__init__.py', 'tempest_tripleo_ui/widgets/__init__.py', 'tempest_tripleo_ui/config.py', 'tempest_tripleo_ui/browser.py', 'tempest_tripleo_ui/plugin.py', 'doc/requirements.txt', 'setup.cfg', 'tox.ini', 'tempest_tripleo_ui/decorators.py', 'releasenotes/source/conf.py']",31,8fb9012a16b1280c1150b1576f54981b50b3edc1,retire-tempest-tripleo-ui,,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ import openstackdocstheme # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. project = u'tempest-tripleo-ui Release Notes' copyright = u'2017, OpenStack TripleO-UI Developers' # The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. version = '' # The full version, including alpha/beta/rc tags. release = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'sphinx' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. html_theme_path = [openstackdocstheme.get_html_theme_path()] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # html_last_updated_fmt = '%b %d, %Y' # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. # html_use_index = True # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. # html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'tripleo-uiReleaseNotesdoc' # -- Options for LaTeX output --------------------------------------------- latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'tempest-tripleo-uiReleaseNotes.tex', u'tempest-tripleo-ui Release Notes Documentation', u'2017, Puppet OpenStack Developers', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. # latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. # latex_use_parts = False # If true, show page references after internal links. # latex_show_pagerefs = False # If true, show URL addresses after external links. # latex_show_urls = False # Documents to append as an appendix to all manuals. # latex_appendices = [] # If false, no module index is generated. # latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'tempest-tripleo-uireleasenotes', u'tempest-tripleo-ui Release Notes Documentation', [u'2017, Puppet OpenStack Developers'], 1) ] # If true, show URL addresses after external links. # man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'tempest-tripleo-uiReleaseNotes', u'tempest-tripleo-ui Release Notes Documentation', u'2017, Puppet OpenStack Developers', 'tempest-tripleo-uiReleaseNotes', 'One line description of project.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. # texinfo_appendices = [] # If false, no module index is generated. # texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. # texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. # texinfo_no_detailmenu = False ",3,1591
openstack%2Fcyborg~master~I4c7a62bba7faf081066446862b7718dee64bb7a1,openstack/cyborg,master,I4c7a62bba7faf081066446862b7718dee64bb7a1,Add AICHIP and GENERIC type in DB and obj,MERGED,2019-05-22 02:47:20.000000000,2019-07-09 13:58:34.000000000,2019-07-09 13:58:34.000000000,"[{'_account_id': 17813}, {'_account_id': 20722}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 25738}, {'_account_id': 27458}]","[{'number': 1, 'created': '2019-05-22 02:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/88094c818ffda43a98bef375d972b254aa3961f9', 'message': 'WIP: Add Huawei Ascend driver\n\nChange-Id: I4c7a62bba7faf081066446862b7718dee64bb7a1\n'}, {'number': 2, 'created': '2019-05-22 10:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/acaa13ccf6e111dbeaec1a474ac5cc1143bab08f', 'message': 'WIP: Add Huawei Ascend driver\n\nChange-Id: I4c7a62bba7faf081066446862b7718dee64bb7a1\n'}, {'number': 3, 'created': '2019-05-23 03:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f2290791244b71167e88481fd36d7a237afa74fd', 'message': 'Add NPU and GENERIC type in DB and obj\n\n1. Add the NPU and GENERIC type in DB model\n2. Add a migration script.\n3. Change the object to fit the new DB model\n\nChange-Id: I4c7a62bba7faf081066446862b7718dee64bb7a1\n'}, {'number': 4, 'created': '2019-05-23 08:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/82e6d8c8e2c58a55891b82b2ac1a40e0eae9f48e', 'message': 'Add NPU and GENERIC type in DB and obj\n\n1. Add the NPU and GENERIC type in DB model\n2. Add a migration script.\n3. Change the object to fit the new DB model\n\nChange-Id: I4c7a62bba7faf081066446862b7718dee64bb7a1\n'}, {'number': 5, 'created': '2019-05-23 08:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f563b7e32e13d32ed262a3fbbc9f519815a75132', 'message': 'Add NPU and GENERIC type in DB and obj\n\n1. Add the NPU and GENERIC type in DB model\n2. Add a migration script.\n3. Change the object to fit the new DB model\n\nChange-Id: I4c7a62bba7faf081066446862b7718dee64bb7a1\n'}, {'number': 6, 'created': '2019-05-25 02:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/1a80d535756235c4a0a06aeee9947578d262b0b4', 'message': 'Add NPU and GENERIC type in DB and obj\n\n1. Add the NPU and GENERIC type in DB model\n2. Add a migration script.\n3. Change the object to fit the new DB model\n\nChange-Id: I4c7a62bba7faf081066446862b7718dee64bb7a1\n'}, {'number': 7, 'created': '2019-06-18 08:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/3a5221f6a5bbb8919d171ef7709c294ec16afc60', 'message': 'Add AICHIP and GENERIC type in DB and obj\n\n1. Add the AICHIP and GENERIC type in DB model\n2. Add a migration script.\n3. Change the object to fit the new DB model\n\nChange-Id: I4c7a62bba7faf081066446862b7718dee64bb7a1\n'}, {'number': 8, 'created': '2019-07-03 07:18:45.000000000', 'files': ['cyborg/common/constants.py', 'cyborg/db/sqlalchemy/alembic/versions/589ff20545b7_add_aichip_type.py', 'cyborg/tests/unit/objects/test_device.py', 'cyborg/db/sqlalchemy/models.py', 'cyborg/objects/device.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/e8574bb2351e2da538ce9ecfe30dfdb22e393d04', 'message': 'Add AICHIP and GENERIC type in DB and obj\n\n1. Add the AICHIP and GENERIC type in DB model\n2. Add a migration script.\n3. Change the object to fit the new DB model\n\nChange-Id: I4c7a62bba7faf081066446862b7718dee64bb7a1\n'}]",6,660548,e8574bb2351e2da538ce9ecfe30dfdb22e393d04,24,7,8,20722,,,0,"Add AICHIP and GENERIC type in DB and obj

1. Add the AICHIP and GENERIC type in DB model
2. Add a migration script.
3. Change the object to fit the new DB model

Change-Id: I4c7a62bba7faf081066446862b7718dee64bb7a1
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/48/660548/4 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/common/constants.py', 'cyborg/accelerator/drivers/npu/huawei/ascend.py']",2,88094c818ffda43a98bef375d972b254aa3961f9,ascend,"from cyborg.accelerator.drivers.driver import GenericDriver from cyborg.objects.driver_objects import driver_deployable, driver_device, \ driver_attach_handle, driver_controlpath_id import re import subprocess from cyborg.common import constants from oslo_serialization import jsonutils PCI_INFO_PATTERN = re.compile(""(?P<slot>[0-9a-f]{4}:[0-9a-f]{2}:"" ""[0-9a-f]{2}\.[0-9a-f]) "" ""(?P<class>.*) [\[].*]: (?P<device>.*) .*"" ""[\[](?P<vendor_id>[0-9a-fA-F]"" ""{4}):(?P<device_id>[0-9a-fA-F]{4})].*"" ""[(rev ](?P<revision>[0-9a-f]{2})"") class AscendDriver(GenericDriver): """"""Base class for GPU drivers. This is just a virtual GPU drivers interface. Vendor should implement their specific drivers. """""" VENDOR = ""huawei"" # TODO(yikun): can be extracted into PCIDeviceDriver def _generate_controlpath_id(self, pci): driver_cpid = driver_controlpath_id.DriverControlPathID() driver_cpid.cpid_type = ""PCI"" driver_cpid.cpid_info = pci[""slot""] return driver_cpid # TODO(yikun): can be extracted into PCIDeviceDriver def _generate_attach_handle(self, pci): driver_ah = driver_attach_handle.DriverAttachHandle() driver_ah.attach_type = ""PCI"" driver_ah.in_use = False driver_ah.attach_info = pci[""slot""] return driver_ah # TODO(yikun): can be extracted into PCIDeviceDriver def _generate_dep_list(self, pci): driver_dep = driver_deployable.DriverDeployable() driver_dep.attach_handle_list = [self._generate_attach_handle(pci)] driver_dep.name = pci.get('device', '') + '_' + pci[""slot""] driver_dep.num_accelerators = 1 return [driver_dep] # TODO(yikun): can be extracted into PCIDeviceDriver def _get_pci_lines(self, keywords=()): cmd = ""sudo lspci -nnn -D"" if keywords: cmd += ""| grep -E %s"" % '|'.join(keywords) p = subprocess.Popen(cmd, stdout=subprocess.PIPE, shell=True) p.wait() pci_lines = p.stdout.readlines() return pci_lines def discover(self): """""" The PCI line would be matchde as: 0000:0c:00.0 Processing accelerators [1200]: Device [19e5:d100] (rev 20) { 'slot': '0000:0c:00.0', # domain:bus:device.function 'device': 'Device', # Name of the device 'vendor_id': '19e5', # ID of the vendor 'class': 'Processing accelerators', # Name of the class 'device_id': 'd100', # ID of the device 'revision': '20' # Revision number } """""" ascends = self._get_pci_lines(('d100',)) npu_list = [] for ascend in ascends: m = PCI_INFO_PATTERN.match(ascend) if m: pci_dict = m.groupdict() device = driver_device.DriverDevice() device.vendor = pci_dict[""vendor_id""] device.model = pci_dict.get('model', 'miss model info') std_board_info = {'device_id': pci_dict.get('device_id', None), 'class': pci_dict.get('class', None)} device.std_board_info = jsonutils.dumps(std_board_info) device.type = constants.DEVICE_NPU device.controlpath_id = self._generate_controlpath_id(pci_dict) device.deployable_list = self._generate_dep_list(pci_dict) npu_list.append(device) return npu_list def update(self, control_path, image_path): # TODO(yikun): To be implemented return True def get_stats(self): # TODO(yikun): To be implemented return {}",,103,1
openstack%2Fcyborg~master~I9a4fdcfcda3778b87f9bb75df8bdbc136f5bdb66,openstack/cyborg,master,I9a4fdcfcda3778b87f9bb75df8bdbc136f5bdb66,Add the new generic driver,MERGED,2019-05-14 08:55:35.000000000,2019-07-09 13:58:33.000000000,2019-07-09 13:58:33.000000000,"[{'_account_id': 17813}, {'_account_id': 20147}, {'_account_id': 20722}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 27458}, {'_account_id': 30356}, {'_account_id': 30388}, {'_account_id': 30402}]","[{'number': 1, 'created': '2019-05-14 08:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f659bdfedc5de5c1f8ad49d5f23705317cf9e3e4', 'message': 'Add the new generic driver\n\nIn order to add the support for these specific accelerators,\nwe propose to improve the generic driver to manage these\ndevices. We propose to improve the existing GenericDriver.\n\nChange-Id: I9a4fdcfcda3778b87f9bb75df8bdbc136f5bdb66\n'}, {'number': 2, 'created': '2019-05-14 11:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/dff9ed95532ed1fe4388e5bd29442f303a79e6e7', 'message': 'Add the new generic driver\n\nIn order to add the support for these specific accelerators,\nwe propose to improve the generic driver to manage these\ndevices. We propose to improve the existing GenericDriver.\n\nChange-Id: I9a4fdcfcda3778b87f9bb75df8bdbc136f5bdb66\n'}, {'number': 3, 'created': '2019-05-22 02:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/99bb44399f1d0a91d10c51a03ce63708f0651c50', 'message': 'Add the new generic driver\n\nIn order to add the support for these specific accelerators,\nwe propose to improve the generic driver to manage these\ndevices. We propose to improve the existing GenericDriver.\n\nChange-Id: I9a4fdcfcda3778b87f9bb75df8bdbc136f5bdb66\n'}, {'number': 4, 'created': '2019-07-03 06:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/22fdd66f770b77f10fb098d32e0d6c706ad4e674', 'message': 'Add the new generic driver\n\nIn order to add the support for these specific accelerators,\nwe propose to improve the generic driver to manage these\ndevices. We propose to improve the existing GenericDriver.\n\nChange-Id: I9a4fdcfcda3778b87f9bb75df8bdbc136f5bdb66\n'}, {'number': 5, 'created': '2019-07-03 07:18:45.000000000', 'files': ['cyborg/accelerator/drivers/driver.py', 'cyborg/tests/unit/accelerator/drivers/test_driver.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/372591029d3e636f21499747371de085faffd5f5', 'message': 'Add the new generic driver\n\nIn order to add the support for these specific accelerators,\nwe propose to improve the generic driver to manage these\ndevices. We propose to improve the existing GenericDriver.\n\nChange-Id: I9a4fdcfcda3778b87f9bb75df8bdbc136f5bdb66\n'}]",2,658987,372591029d3e636f21499747371de085faffd5f5,21,10,5,20722,,,0,"Add the new generic driver

In order to add the support for these specific accelerators,
we propose to improve the generic driver to manage these
devices. We propose to improve the existing GenericDriver.

Change-Id: I9a4fdcfcda3778b87f9bb75df8bdbc136f5bdb66
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/87/658987/4 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/accelerator/drivers/driver.py', 'cyborg/tests/unit/accelerator/drivers/test_driver.py']",2,f659bdfedc5de5c1f8ad49d5f23705317cf9e3e4,ascend,"import six from cyborg.tests import base from cyborg.accelerator.drivers.driver import GenericDriver class WellDoneDriver(GenericDriver): def discover(self): pass def update(self, control_path, image_path): pass def get_stats(self): pass class NotCompleteDriver(GenericDriver): def discover(self): pass class TestGenericDriver(base.TestCase): def test_generic_driver(self): driver = WellDoneDriver() # Can't instantiate abstract class NotCompleteDriver with # abstract methods get_stats, update result = self.assertRaises(TypeError, NotCompleteDriver) self.assertIn(""Can't instantiate abstract class"", six.text_type(result)) ",,59,0
openstack%2Fneutron-lib~master~I4311a9541b33653c396fa4bae9d39633f14e809f,openstack/neutron-lib,master,I4311a9541b33653c396fa4bae9d39633f14e809f,Add Python 3 Train unit tests,MERGED,2019-07-05 17:53:59.000000000,2019-07-09 13:49:58.000000000,2019-07-09 13:49:58.000000000,"[{'_account_id': 5367}, {'_account_id': 11805}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 17:53:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/806763b86c37fc7041951a499253cf783aad280e', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I4311a9541b33653c396fa4bae9d39633f14e809f\nStory: #2005924\nTask: #34225\n'}]",1,669431,806763b86c37fc7041951a499253cf783aad280e,9,4,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I4311a9541b33653c396fa4bae9d39633f14e809f
Story: #2005924
Task: #34225
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/31/669431/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,806763b86c37fc7041951a499253cf783aad280e,python3-train,"envlist = py27,py37,pep8","envlist = py36,py37,py27,pep8",1,1
openstack%2Fkolla-ansible~stable%2Fstein~Ic603c85c04d8794580a19f9efaa7a8589565f4f6,openstack/kolla-ansible,stable/stein,Ic603c85c04d8794580a19f9efaa7a8589565f4f6,Deprecate Ceph deployment,MERGED,2019-07-09 06:07:10.000000000,2019-07-09 13:46:09.000000000,2019-07-09 13:46:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-09 06:07:10.000000000', 'files': ['ansible/roles/ceph/tasks/main.yml', 'doc/source/reference/storage/ceph-guide.rst', 'releasenotes/notes/deprecate-ceph-4745da91c7ca5a8e.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/53dc70d721451858b67e41df7e8274be6ae54954', 'message': 'Deprecate Ceph deployment\n\nThere are now several good tools for deploying Ceph, including Ceph\nAnsible and ceph-deploy. Maintaining our own Ceph deployment is a\nsignificant maintenance burden, and we should focus on our core mission\nto deploy OpenStack. Given that this is a significant part of kolla\nansible currently we will need a long deprecation period and a migration\npath to another tool.\n\nChange-Id: Ic603c85c04d8794580a19f9efaa7a8589565f4f6\nPartially-Implements: blueprint remove-ceph\n(cherry picked from commit e6d0e610c576bef70b66ab9c3e8e4460e98bc8f8)\n'}]",0,669792,53dc70d721451858b67e41df7e8274be6ae54954,8,4,1,30491,,,0,"Deprecate Ceph deployment

There are now several good tools for deploying Ceph, including Ceph
Ansible and ceph-deploy. Maintaining our own Ceph deployment is a
significant maintenance burden, and we should focus on our core mission
to deploy OpenStack. Given that this is a significant part of kolla
ansible currently we will need a long deprecation period and a migration
path to another tool.

Change-Id: Ic603c85c04d8794580a19f9efaa7a8589565f4f6
Partially-Implements: blueprint remove-ceph
(cherry picked from commit e6d0e610c576bef70b66ab9c3e8e4460e98bc8f8)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/669792/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ceph/tasks/main.yml', 'doc/source/reference/storage/ceph-guide.rst', 'releasenotes/notes/deprecate-ceph-4745da91c7ca5a8e.yaml']",3,53dc70d721451858b67e41df7e8274be6ae54954,bp/remove-ceph-stable/stein,--- deprecations: - | Deprecates support for deploying Ceph. In a future release support for deploying Ceph will be removed from Kolla Ansible. Prior to this we will ensure a migration path to another tool such as `Ceph Ansible <http://docs.ceph.com/ceph-ansible/master/>`__ is available. For new deployments it is recommended to use another tool to deploy Ceph to avoid a future migration. This can be integrated with OpenStack by following the `external Ceph guide <https://docs.openstack.org/kolla-ansible/latest/reference/storage/external-ceph-guide.html>`__. ,,35,3
openstack%2Fkolla-ansible~stable%2Fstein~I58f8fd0a6e82cb614e02fef6e5b271af1d1ce9af,openstack/kolla-ansible,stable/stein,I58f8fd0a6e82cb614e02fef6e5b271af1d1ce9af,Fix nova deploy with Ansible<2.8,MERGED,2019-07-09 09:34:05.000000000,2019-07-09 13:46:08.000000000,2019-07-09 13:46:08.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30322}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-09 09:34:05.000000000', 'files': ['ansible/roles/nova/tasks/discover_computes.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1642a3ca7cf348a2bb5100de8c91b79e7b82b4f2', 'message': 'Fix nova deploy with Ansible<2.8\n\nDue to a bug in ansible, kolla-ansible deploy currently fails in nova\nwith the following error when used with ansible earlier than 2.8:\n\nTASK [nova : Waiting for nova-compute services to register themselves]\n*********\ntask path:\n/home/zuul/src/opendev.org/openstack/kolla-ansible/ansible/roles/nova/tasks/discover_computes.yml:30\nfatal: [primary]: FAILED! => {\n    ""failed"": true,\n    ""msg"": ""The field \'vars\' has an invalid value, which\n        includes an undefined variable. The error was:\n        \'nova_compute_services\' is undefined\\n\\nThe error\n        appears to have been in\n        \'/home/zuul/src/opendev.org/openstack/kolla-ansible/ansible/roles/nova/tasks/discover_computes.yml\':\n        line 30, column 3, but may\\nbe elsewhere in the file\n        depending on the exact syntax problem.\\n\\nThe\n        offending line appears to be:\\n\\n\\n- name: Waiting\n        for nova-compute services to register themselves\\n ^\n            here\\n""\n}\n\nExample:\nhttp://logs.openstack.org/00/669700/1/check/kolla-ansible-centos-source/81b65b9/primary/logs/ansible/deploy\n\nThis was caused by\nhttps://review.opendev.org/#/q/I2915e2610e5c0b8d67412e7ec77f7575b8fe9921,\nwhich hits upon an ansible bug described here:\nhttps://github.com/markgoddard/ansible-experiments/tree/master/05-referencing-registered-var-do-until.\n\nWe can work around this by not using an intermediary variable.\n\nChange-Id: I58f8fd0a6e82cb614e02fef6e5b271af1d1ce9af\nCloses-Bug: #1835817\n(cherry picked from commit 5be093ac5a7b6fb85a4448cd9d0fd1e94f622061)\n'}]",0,669828,1642a3ca7cf348a2bb5100de8c91b79e7b82b4f2,10,6,1,14826,,,0,"Fix nova deploy with Ansible<2.8

Due to a bug in ansible, kolla-ansible deploy currently fails in nova
with the following error when used with ansible earlier than 2.8:

TASK [nova : Waiting for nova-compute services to register themselves]
*********
task path:
/home/zuul/src/opendev.org/openstack/kolla-ansible/ansible/roles/nova/tasks/discover_computes.yml:30
fatal: [primary]: FAILED! => {
    ""failed"": true,
    ""msg"": ""The field 'vars' has an invalid value, which
        includes an undefined variable. The error was:
        'nova_compute_services' is undefined\n\nThe error
        appears to have been in
        '/home/zuul/src/opendev.org/openstack/kolla-ansible/ansible/roles/nova/tasks/discover_computes.yml':
        line 30, column 3, but may\nbe elsewhere in the file
        depending on the exact syntax problem.\n\nThe
        offending line appears to be:\n\n\n- name: Waiting
        for nova-compute services to register themselves\n ^
            here\n""
}

Example:
http://logs.openstack.org/00/669700/1/check/kolla-ansible-centos-source/81b65b9/primary/logs/ansible/deploy

This was caused by
https://review.opendev.org/#/q/I2915e2610e5c0b8d67412e7ec77f7575b8fe9921,
which hits upon an ansible bug described here:
https://github.com/markgoddard/ansible-experiments/tree/master/05-referencing-registered-var-do-until.

We can work around this by not using an intermediary variable.

Change-Id: I58f8fd0a6e82cb614e02fef6e5b271af1d1ce9af
Closes-Bug: #1835817
(cherry picked from commit 5be093ac5a7b6fb85a4448cd9d0fd1e94f622061)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/28/669828/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/discover_computes.yml'],1,1642a3ca7cf348a2bb5100de8c91b79e7b82b4f2,bug/1835817-stable/stein," # A list containing the 'Host' field of compute services that have # registered themselves. Don't exclude compute services that are disabled # since these could have been explicitly disabled by the operator. While we # could exclude services that are down, the nova-manage cell_v2 # discover_hosts does not do this so let's not block on it here. # NOTE(mgoddard): Cannot factor this out into an intermediary variable # before ansible 2.8, due to # https://bugs.launchpad.net/kolla-ansible/+bug/1835817. - (nova_compute_services.stdout | from_json | map(attribute='Host') | list) is superset(expected_compute_service_hosts)"," vars: # A list containing the 'Host' field of compute services that have # registered themselves. Don't exclude compute services that are disabled # since these could have been explicitly disabled by the operator. While we # could exclude services that are down, the nova-manage cell_v2 # discover_hosts does not do this so let's not block on it here. found_compute_service_hosts: >- {{ nova_compute_services.stdout | from_json | map(attribute='Host') | list }} - found_compute_service_hosts is superset(expected_compute_service_hosts)",13,12
openstack%2Fneutron~master~Idcac297b204900037b22ab25a516a161f4e78224,openstack/neutron,master,Idcac297b204900037b22ab25a516a161f4e78224,Remove rootwrap filters for TC commands in Linux Bridge,MERGED,2019-07-01 10:29:07.000000000,2019-07-09 13:43:00.000000000,2019-07-09 13:42:59.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-01 10:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d597185a9d8029d8c76348c52acd7eefab05a103', 'message': 'Remove rootwrap filters for TC commands in Linux Bridge\n\nAll neutron.agent.linux.tc_lib TC commands, used in Linux Bridge\nagent, have been implemented using Pyroute2.\n\nChange-Id: Idcac297b204900037b22ab25a516a161f4e78224\nRelated-Bug: #1560963\n'}, {'number': 2, 'created': '2019-07-01 14:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b22c10c7cf6f8c9059d979f84abf8cd5397624d', 'message': 'Remove rootwrap filters for TC commands in Linux Bridge\n\nAll neutron.agent.linux.tc_lib TC commands, used in Linux Bridge\nagent, have been implemented using Pyroute2.\n\nChange-Id: Idcac297b204900037b22ab25a516a161f4e78224\nRelated-Bug: #1560963\n'}, {'number': 3, 'created': '2019-07-04 21:17:46.000000000', 'files': ['etc/neutron/rootwrap.d/linuxbridge-plugin.filters'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d62308eaa9fb4a80683499ea40f6d0c97fa7a4d', 'message': 'Remove rootwrap filters for TC commands in Linux Bridge\n\nAll neutron.agent.linux.tc_lib TC commands, used in Linux Bridge\nagent, have been implemented using Pyroute2.\n\nChange-Id: Idcac297b204900037b22ab25a516a161f4e78224\nRelated-Bug: #1560963\n'}]",0,668411,7d62308eaa9fb4a80683499ea40f6d0c97fa7a4d,56,6,3,16688,,,0,"Remove rootwrap filters for TC commands in Linux Bridge

All neutron.agent.linux.tc_lib TC commands, used in Linux Bridge
agent, have been implemented using Pyroute2.

Change-Id: Idcac297b204900037b22ab25a516a161f4e78224
Related-Bug: #1560963
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/668411/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/neutron/rootwrap.d/linuxbridge-plugin.filters'],1,d597185a9d8029d8c76348c52acd7eefab05a103,bug/1560963,," # tc commands needed for QoS support tc_replace_tbf: RegExpFilter, tc, root, tc, qdisc, replace, dev, .+, root, tbf, rate, .+, latency, .+, burst, .+ tc_add_ingress: RegExpFilter, tc, root, tc, qdisc, add, dev, .+, ingress, handle, .+ tc_delete: RegExpFilter, tc, root, tc, qdisc, del, dev, .+, .+ tc_show_qdisc: RegExpFilter, tc, root, tc, qdisc, show, dev, .+ tc_show_filters: RegExpFilter, tc, root, tc, filter, show, dev, .+, parent, .+ tc_add_filter: RegExpFilter, tc, root, tc, filter, add, dev, .+, parent, .+, protocol, all, prio, .+, basic, police, rate, .+, burst, .+, mtu, .+, drop",0,8
openstack%2Fdocs-specs~master~I557bace8008cc3b4fc1f78264f93291c49f897ad,openstack/docs-specs,master,I557bace8008cc3b4fc1f78264f93291c49f897ad,Retire docs-specs,MERGED,2019-05-04 17:21:23.000000000,2019-07-09 13:41:28.000000000,2019-07-09 13:41:27.000000000,"[{'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 10459}, {'_account_id': 10607}, {'_account_id': 14482}, {'_account_id': 15334}, {'_account_id': 19779}, {'_account_id': 20156}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-05-04 17:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/296f06fc88948b17409c0279455e5d50698a2551', 'message': ""Retire docs-specs\n\nWe haven't used this in a long time and with the transition of docs from\na project to a SIG, it's not likely to be used again going forward.\n\nChange-Id: I557bace8008cc3b4fc1f78264f93291c49f897ad\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-06-28 18:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/47bec9b6685f095f0f70c386df7253392ef15e9b', 'message': ""Retire docs-specs\n\nWe haven't used this in a long time and with the transition of docs from\na project to a SIG, it's not likely to be used again going forward.\n\nLeave the .zuul.yaml file with noop-jobs to allow this patch to merge.\n\nChange-Id: I557bace8008cc3b4fc1f78264f93291c49f897ad\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-06-28 18:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/0b55902fce49882cb6a9b4a1c4b6bd8a8bdd8796', 'message': ""Retire docs-specs\n\nWe haven't used this in a long time and with the transition of docs from\na project to a SIG, it's not likely to be used again going forward.\n\nLeave the .zuul.yaml file with noop-jobs to allow this patch to merge.\n\nChange-Id: I557bace8008cc3b4fc1f78264f93291c49f897ad\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-07-03 09:55:31.000000000', 'files': ['doc/source/specs', 'tests/test_titles.py', 'specs/mitaka/trove-install-section.rst', 'specs/juno/create-networking-guide.rst', 'specs/pike/admin-guide-repos.rst', 'README.rst', 'setup.py', 'specs/mitaka/config-ref-rst.rst', 'specs/pike/arch-guide-restructure.rst', 'specs/ocata/improve-ha-guide.rst', 'specs/liberty/manila-config-ref.rst', 'specs/liberty/training-labs.rst', 'specs/mitaka/installguide-mitaka.rst', 'specs/kilo/installguide-kilo.rst', 'specs/newton/project-specific-installguides.rst', 'specs/queens/retention-policy.rst', 'specs/newton/ux-personas.rst', 'specs/kilo/migrate-to-new-web-design.rst', 'LICENSE', 'specs/kilo/move-driver-docs.rst', 'specs/liberty/api-site.rst', 'specs/newton/consistency-file-rename.rst', 'specs/newton/installguide.rst', 'specs/rocky/front-page-template.rst', 'specs/mitaka/cli-ref-rst.rst', 'specs/mitaka/config-ref-common-options.rst', 'specs/newton/release-notes-guidelines-to-cg.rst', 'specs/mitaka/user-guides-mitaka-reorg.rst', 'specs/skeleton.rst', 'specs/mitaka/ops-guide-rst.rst', 'specs/kilo/openstack-firstapp.rst', 'specs/ocata/training-labs-python-port.rst', 'specs/mitaka/app-guides-mitaka-vision.rst', 'specs/newton/training-labs-pxe-server.rst', 'specs/newton/contributor-guide-release-chapter.rst', 'setup.cfg', 'specs/kilo/training-guides-osbash-color.rst', 'tox.ini', 'specs/liberty/arch-guide.rst', 'tests/__init__.py', 'specs/liberty/installguide-liberty-debian.rst', '.gitignore', 'specs/template.rst', 'specs/liberty/docs-contributor-guide.rst', 'specs/pike/consolidating-themes.rst', 'specs/newton/contributor-guide-reorg.rst', 'specs/mitaka/networkguide-ovn.rst', 'specs/mitaka/zaqar-config-ref.rst', 'specs/newton/user-guide-edit.rst', 'specs/juno/heat-templates.rst', 'specs/kilo/draft-publishing.rst', 'requirements.txt', 'specs/ocata/arch-guide-restructure.rst', 'specs/mitaka/image-guide-rst.rst', 'specs/mitaka/networkguide-versioning.rst', 'specs/liberty/ha-guide.rst', 'specs/newton/arch-guide-restructure.rst', 'specs/liberty/installguide-liberty-rst.rst', 'specs/ocata/build-pdf-from-rst-guides.rst', 'specs/kilo/training-guides-icehouse-release.rst', 'specs/pike/os-manuals-migration.rst', 'specs/liberty/audio-visual.rst', 'specs/newton/docbook-removal.rst', '.zuul.yaml', 'specs/mitaka/archguide-mitaka-reorg.rst', 'specs/mitaka/ui-content-guidelines.rst', 'doc/source/conf.py', 'specs/newton/improve-glossary-usage.rst', 'specs/pike/document-tools.rst', 'specs/mitaka/archguide-mitaka-rst.rst', 'specs/ocata/ops-guide-upgrades.rst', 'specs/liberty/reorganise-user-guides.rst', 'specs/newton/ui-heuristic-checklist.rst', 'doc/source/index.rst', 'specs/mitaka/create-manila-install-guide.rst', 'specs/mitaka/review-docimpact.rst', 'specs/liberty/installguide-liberty.rst', 'specs/mitaka/publish-stable-translation.rst', 'specs/mitaka/upgrades.rst', 'doc/source/readme.rst', 'specs/juno/common-glossary-setup.rst', 'specs/ocata/use-openstack-command.rst', 'specs/mitaka/improve-ops-guide.rst'], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/5a82d7e9a2cfead2a712d445a9c2a2cf3c813871', 'message': ""Retire docs-specs\n\nWe haven't used this in a long time and with the transition of docs from\na project to a SIG, it's not likely to be used again going forward.\n\nLeave the .zuul.yaml file with noop-jobs to allow this patch to merge.\n\nChange-Id: I557bace8008cc3b4fc1f78264f93291c49f897ad\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: Ie3ed990df99057896130ed0f7d5cf6c07db8c962\n""}]",6,657138,5a82d7e9a2cfead2a712d445a9c2a2cf3c813871,26,11,4,15334,,,0,"Retire docs-specs

We haven't used this in a long time and with the transition of docs from
a project to a SIG, it's not likely to be used again going forward.

Leave the .zuul.yaml file with noop-jobs to allow this patch to merge.

Change-Id: I557bace8008cc3b4fc1f78264f93291c49f897ad
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Depends-On: Ie3ed990df99057896130ed0f7d5cf6c07db8c962
",git fetch https://review.opendev.org/openstack/docs-specs refs/changes/38/657138/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs', 'tests/test_titles.py', 'specs/mitaka/trove-install-section.rst', 'specs/juno/create-networking-guide.rst', 'specs/pike/admin-guide-repos.rst', 'README.rst', 'setup.py', 'specs/mitaka/config-ref-rst.rst', 'specs/pike/arch-guide-restructure.rst', 'specs/ocata/improve-ha-guide.rst', 'specs/liberty/manila-config-ref.rst', 'specs/liberty/training-labs.rst', 'specs/mitaka/installguide-mitaka.rst', 'specs/kilo/installguide-kilo.rst', 'specs/newton/project-specific-installguides.rst', 'specs/queens/retention-policy.rst', 'specs/newton/ux-personas.rst', 'specs/kilo/migrate-to-new-web-design.rst', 'LICENSE', 'specs/kilo/move-driver-docs.rst', 'specs/liberty/api-site.rst', 'specs/newton/consistency-file-rename.rst', 'specs/newton/installguide.rst', 'specs/rocky/front-page-template.rst', 'specs/mitaka/cli-ref-rst.rst', 'specs/mitaka/config-ref-common-options.rst', 'specs/newton/release-notes-guidelines-to-cg.rst', 'specs/mitaka/user-guides-mitaka-reorg.rst', 'specs/skeleton.rst', 'specs/mitaka/ops-guide-rst.rst', 'specs/kilo/openstack-firstapp.rst', 'specs/ocata/training-labs-python-port.rst', 'specs/mitaka/app-guides-mitaka-vision.rst', 'specs/newton/training-labs-pxe-server.rst', 'specs/newton/contributor-guide-release-chapter.rst', 'setup.cfg', 'specs/kilo/training-guides-osbash-color.rst', 'tox.ini', 'specs/liberty/arch-guide.rst', 'tests/__init__.py', 'specs/liberty/installguide-liberty-debian.rst', '.gitignore', 'specs/template.rst', 'specs/liberty/docs-contributor-guide.rst', 'specs/pike/consolidating-themes.rst', 'specs/newton/contributor-guide-reorg.rst', 'specs/mitaka/networkguide-ovn.rst', 'specs/mitaka/zaqar-config-ref.rst', 'specs/newton/user-guide-edit.rst', 'specs/juno/heat-templates.rst', 'specs/kilo/draft-publishing.rst', 'requirements.txt', 'specs/ocata/arch-guide-restructure.rst', 'specs/mitaka/image-guide-rst.rst', 'specs/mitaka/networkguide-versioning.rst', 'specs/liberty/ha-guide.rst', 'specs/newton/arch-guide-restructure.rst', 'specs/liberty/installguide-liberty-rst.rst', 'specs/ocata/build-pdf-from-rst-guides.rst', 'specs/kilo/training-guides-icehouse-release.rst', 'specs/pike/os-manuals-migration.rst', 'specs/liberty/audio-visual.rst', 'specs/newton/docbook-removal.rst', '.zuul.yaml', 'specs/mitaka/archguide-mitaka-reorg.rst', 'specs/mitaka/ui-content-guidelines.rst', 'doc/source/conf.py', 'specs/newton/improve-glossary-usage.rst', 'specs/pike/document-tools.rst', 'specs/mitaka/archguide-mitaka-rst.rst', 'specs/ocata/ops-guide-upgrades.rst', 'specs/liberty/reorganise-user-guides.rst', 'specs/newton/ui-heuristic-checklist.rst', 'doc/source/index.rst', 'specs/mitaka/create-manila-install-guide.rst', 'specs/mitaka/review-docimpact.rst', 'specs/liberty/installguide-liberty.rst', 'specs/mitaka/publish-stable-translation.rst', 'specs/mitaka/upgrades.rst', 'doc/source/readme.rst', 'specs/juno/common-glossary-setup.rst', 'specs/ocata/use-openstack-command.rst', 'specs/mitaka/improve-ops-guide.rst']",83,296f06fc88948b17409c0279455e5d50698a2551,retire-docs-specs,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Improve the Operations Guide ========================================== https://blueprints.launchpad.net/openstack-manuals/+spec/improve-ops-guide Reorganize and update the Operations Guide. Problem description =================== The Operations Guide has become outdated over time, with identified gaps in content. Proposed change =============== Based on doc sessions at the Mitaka summit, reorganize and update the guide to improve usability and accessibility of information. Alternatives ------------ Leave the guide as it is. Implementation ============== Assignee(s) ----------- Primary assignee: * shilla-saebi Other contributors: * Ops Guide specialty team Work Items ---------- * Reach a consensus on the information architecture * Rework the abstract to clearly identify the audience and purpose of the book * Move content to improve information architecture * Identify information gaps and submit and fix bugs Dependencies ============ This work is dependent on the guide being converted from DocBook to RST. See :ref:`ops-guide-rst`. Testing ======= Testing will follow the standard documentation review process. References ========== * Discussion can occur using any official medium including IRC in #openstack-doc, the openstack-docs mailing list with [arch-guide] in the subject, weekly Ops Guide `specialty team meeting`_, weekly `documentation team meeting`_, and potentially etherpads. .. _`specialty team meeting`: https://wiki.openstack.org/wiki/Documentation/OpsGuide .. _`documentation team meeting`: https://wiki.openstack.org/wiki/Meetings/DocTeamMeeting * `Kilo operations midcycle meetup etherpad`_ .. _`Kilo operations midcycle meetup etherpad`: https://etherpad.openstack.org/p/PAO-ops-ops-guide-fixing ",7,10330
openstack%2Fpuppet-tripleo~stable%2Fstein~Ia152aed696be15119ba5b75177ef82bc786c4b05,openstack/puppet-tripleo,stable/stein,Ia152aed696be15119ba5b75177ef82bc786c4b05,Fix rabbitmq staged upgrade,MERGED,2019-07-08 15:20:37.000000000,2019-07-09 13:37:07.000000000,2019-07-09 13:37:07.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-08 15:20:37.000000000', 'files': ['manifests/profile/pacemaker/rabbitmq_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/460ad9ee0a4e58bed8c56ad4cf139063e61be9bc', 'message': 'Fix rabbitmq staged upgrade\n\nFix the short name overriding, and add long name (fqdn) overriding.\n\nChange-Id: Ia152aed696be15119ba5b75177ef82bc786c4b05\nPartial-Bug: #1832588\n(cherry picked from commit bac59f433bf538e20b49774080b6299f354e7497)\n'}]",0,669699,460ad9ee0a4e58bed8c56ad4cf139063e61be9bc,8,4,1,8042,,,0,"Fix rabbitmq staged upgrade

Fix the short name overriding, and add long name (fqdn) overriding.

Change-Id: Ia152aed696be15119ba5b75177ef82bc786c4b05
Partial-Bug: #1832588
(cherry picked from commit bac59f433bf538e20b49774080b6299f354e7497)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/99/669699/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/rabbitmq_bundle.pp'],1,460ad9ee0a4e58bed8c56ad4cf139063e61be9bc,bug/1832588-stable/stein," $rpc_nodes = hiera('oslo_messaging_rpc_node_names_override', hiera('oslo_messaging_rpc_node_names', [])), $notify_nodes = hiera('oslo_messaging_notify_node_names_override', hiera('oslo_messaging_notify_node_names', [])), if $rpc_scheme == 'rabbit' { $rabbitmq_short_node_names = hiera('oslo_messaging_rpc_short_node_names_override', hiera('oslo_messaging_rpc_short_node_names')) } elsif $notify_scheme == 'rabbit' { $rabbitmq_short_node_names = hiera('oslo_messaging_notify_short_node_names_override', hiera('oslo_messaging_notify_short_node_names')) }"," $rpc_nodes = hiera('oslo_messaging_rpc_node_names', []), $notify_nodes = hiera('oslo_messaging_notify_node_names', []), if (hiera('rabbitmq_short_node_names_override', undef)) { $rabbitmq_short_node_names = hiera('rabbitmq_short_node_names_override') } elsif ($rpc_scheme == 'rabbit') { $rabbitmq_short_node_names = hiera('oslo_messaging_rpc_short_node_names') } elsif $notify_scheme == 'rabbit' { $rabbitmq_short_node_names = hiera('oslo_messaging_notify_short_node_names') } ",9,8
openstack%2Fdevstack~stable%2Frocky~Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1,openstack/devstack,stable/rocky,Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1,Fix rdo-release install,MERGED,2019-07-03 05:34:49.000000000,2019-07-09 13:33:13.000000000,2019-07-09 09:28:05.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 9003}, {'_account_id': 12898}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 05:34:49.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ed120e335fadc901f9547e347e3c3a51b278bc73', 'message': 'Fix rdo-release install\n\nThe URL for rdo-release package is version-less and redirects to latest\nstable version. This becomes problematic when stacking older stable\nversions as dependencies might not be met or newer and incompatibile\nones might get installed.\n\nCloses-Bug: #1833696\n\nChange-Id: Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1\n(cherry picked from commit 8b31dce38b630ba3ed1883bcf91a90d296ae44f2)\n(cherry picked from commit fb3b6e4baa5a990da70c8b43bca181959a610278)\n'}]",0,668787,ed120e335fadc901f9547e347e3c3a51b278bc73,10,7,1,16643,,,0,"Fix rdo-release install

The URL for rdo-release package is version-less and redirects to latest
stable version. This becomes problematic when stacking older stable
versions as dependencies might not be met or newer and incompatibile
ones might get installed.

Closes-Bug: #1833696

Change-Id: Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1
(cherry picked from commit 8b31dce38b630ba3ed1883bcf91a90d296ae44f2)
(cherry picked from commit fb3b6e4baa5a990da70c8b43bca181959a610278)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/87/668787/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,ed120e335fadc901f9547e347e3c3a51b278bc73,bug/1833696-stable/stein-stable/rocky," if [[ ""$TARGET_BRANCH"" == ""master"" ]]; then yum_install https://rdoproject.org/repos/rdo-release.rpm else # Get latest rdo-release-$rdo_release RPM package version rdo_release=$(echo $TARGET_BRANCH | sed ""s|stable/||g"") yum_install https://rdoproject.org/repos/openstack-$rdo_release/rdo-release-$rdo_release.rpm fi", yum_install https://rdoproject.org/repos/rdo-release.rpm,7,1
openstack%2Fpython-cinderclient~master~Icbfa21da1e83f745a98822a2f33c4ebc8d11fd0c,openstack/python-cinderclient,master,Icbfa21da1e83f745a98822a2f33c4ebc8d11fd0c,Bump openstackdocstheme to 1.20.0,MERGED,2019-06-06 02:24:29.000000000,2019-07-09 13:22:15.000000000,2019-07-09 13:22:15.000000000,"[{'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 27615}]","[{'number': 1, 'created': '2019-06-06 02:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/8ad8153552a078979d8923f36c542ebf5348aec2', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: Icbfa21da1e83f745a98822a2f33c4ebc8d11fd0c\n'}, {'number': 2, 'created': '2019-07-01 07:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/7983f9fd2d3bc8f4cbda8e6d09f3e7e7b365e17e', 'message': 'Bump openstackdocstheme to 1.20.0\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Icbfa21da1e83f745a98822a2f33c4ebc8d11fd0c\n'}, {'number': 3, 'created': '2019-07-04 05:53:32.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/95a469f9865264dba5d0e19dd29f034960100f62', 'message': 'Bump openstackdocstheme to 1.20.0\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Icbfa21da1e83f745a98822a2f33c4ebc8d11fd0c\n'}]",1,663477,95a469f9865264dba5d0e19dd29f034960100f62,15,14,3,28239,,,0,"Bump openstackdocstheme to 1.20.0

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: Icbfa21da1e83f745a98822a2f33c4ebc8d11fd0c
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/77/663477/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,8ad8153552a078979d8923f36c542ebf5348aec2,bug#openstackdocstheme,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Frpm-packaging~master~If426f1041cbc9833624bad6c16fb27f6eeed2fca,openstack/rpm-packaging,master,If426f1041cbc9833624bad6c16fb27f6eeed2fca,virtualbmc: Add missing deps,MERGED,2019-07-09 12:38:51.000000000,2019-07-09 13:21:48.000000000,2019-07-09 13:21:48.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-09 12:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/114b3e3be59c2d4cd85bac9f1ca40933435feb7d', 'message': 'virtualbmc: Add missing deps\n\nThe requirements.txt for virtualbmc lists cliff and pyzmq but this was\nnot reflected in rpm deps.\n\nChange-Id: If426f1041cbc9833624bad6c16fb27f6eeed2fca\n'}, {'number': 2, 'created': '2019-07-09 12:57:01.000000000', 'files': ['openstack/virtualbmc/virtualbmc.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1ba43bb702fa3c8cc273820feb91b12170e804c5', 'message': 'virtualbmc: Add missing deps\n\nThe requirements.txt for virtualbmc lists cliff and pyzmq but this was\nnot reflected in rpm deps.\n\nChange-Id: If426f1041cbc9833624bad6c16fb27f6eeed2fca\n'}]",0,669862,1ba43bb702fa3c8cc273820feb91b12170e804c5,14,5,2,20312,,,0,"virtualbmc: Add missing deps

The requirements.txt for virtualbmc lists cliff and pyzmq but this was
not reflected in rpm deps.

Change-Id: If426f1041cbc9833624bad6c16fb27f6eeed2fca
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/62/669862/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/virtualbmc/virtualbmc.spec.j2'],1,114b3e3be59c2d4cd85bac9f1ca40933435feb7d,vbmc-deps,Requires: {{ py2pkg('cliff') }} Requires: {{ py2pkg('pyzmq') }},,2,0
openstack%2Fopenstacksdk~master~I26f3a22bf9d9e397c2a032cf2b66ec60d8040b51,openstack/openstacksdk,master,I26f3a22bf9d9e397c2a032cf2b66ec60d8040b51,Use Resource layer for next compute methods,MERGED,2019-06-04 15:21:47.000000000,2019-07-09 13:21:03.000000000,2019-07-09 13:21:03.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 15:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fa5e318a6d8e042177bcffa8efcf241f2885aba4', 'message': 'Use Resource layer for next compute methods\n\n- server_groups\n- server_console\n- create_image\n- server_metadata\n\nChange-Id: I26f3a22bf9d9e397c2a032cf2b66ec60d8040b51\n'}, {'number': 2, 'created': '2019-06-05 09:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/511361cba64393528b421b63858ae33b9c04826f', 'message': 'Use Resource layer for next compute methods\n\n- server_groups\n- server_console\n- create_image\n- server_metadata\n\nChange-Id: I26f3a22bf9d9e397c2a032cf2b66ec60d8040b51\n'}, {'number': 3, 'created': '2019-06-07 06:48:42.000000000', 'files': ['openstack/tests/unit/cloud/test_server_set_metadata.py', 'openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py', 'openstack/compute/v2/server_group.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/tests/unit/cloud/test_server_group.py', 'openstack/tests/unit/cloud/test_server_console.py', 'openstack/tests/unit/cloud/test_image_snapshot.py', 'openstack/cloud/_compute.py', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9cce6310940e2426dfcb92e0ecb4c82b93e7788a', 'message': 'Use Resource layer for next compute methods\n\n- server_groups\n- server_console\n- create_image\n- server_metadata\n\nChange-Id: I26f3a22bf9d9e397c2a032cf2b66ec60d8040b51\n'}]",0,663064,9cce6310940e2426dfcb92e0ecb4c82b93e7788a,11,2,3,27900,,,0,"Use Resource layer for next compute methods

- server_groups
- server_console
- create_image
- server_metadata

Change-Id: I26f3a22bf9d9e397c2a032cf2b66ec60d8040b51
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/64/663064/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_server_set_metadata.py', 'openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py', 'openstack/compute/v2/server_group.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/tests/unit/cloud/test_server_group.py', 'openstack/tests/unit/cloud/test_server_console.py', 'openstack/cloud/_compute.py', 'openstack/compute/v2/_proxy.py']",9,fa5e318a6d8e042177bcffa8efcf241f2885aba4,resource_layer," def create_server_image(self, server, name, metadata=None, wait=False, timeout=120): :class:`~openstack.compute.v2.server.Server` instance. :returns: :class:`~openstack.image.v2.image.Image` object. image_id = server.create_image(self, name, metadata) self._connection.list_images.invalidate(self) image = self._connection.get_image(image_id) if not wait: return image return self._connection.wait_for_image(image, timeout=timeout)"," def create_server_image(self, server, name, metadata=None): :class:`~openstack.compute.v2.server.Server` instance. :returns: None server.create_image(self, name, metadata)",228,98
openstack%2Fopenstacksdk~master~I5c46169de436b9fe4df31a12f3a6246063a7d342,openstack/openstacksdk,master,I5c46169de436b9fe4df31a12f3a6246063a7d342,Use Resource layer in cloud for SecurityGroups of server,MERGED,2019-06-04 10:15:54.000000000,2019-07-09 13:13:22.000000000,2019-07-09 13:13:22.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 10:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9d021a71d2cd5d657213b6999c978542dc7360e1', 'message': 'Use Resource layer in cloud for SecurityGroups of server\n\n- add fetch_server_security_groups to the compute proxy\n- fix add/remove security_group of server to properly pass SG name and \nnot ID according to docs\n- force usage of resource layer in cloud for respective methods\n\nChange-Id: I5c46169de436b9fe4df31a12f3a6246063a7d342\n'}, {'number': 2, 'created': '2019-06-04 15:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8c0a920e2bd235691cad51a50805b3b1351fec32', 'message': 'Use Resource layer in cloud for SecurityGroups of server\n\n- add fetch_server_security_groups to the compute proxy\n- fix add/remove security_group of server to properly pass SG name and \nnot ID according to docs\n- force usage of resource layer in cloud for respective methods\n\nChange-Id: I5c46169de436b9fe4df31a12f3a6246063a7d342\n'}, {'number': 3, 'created': '2019-06-05 07:12:18.000000000', 'files': ['openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/tests/unit/cloud/test_security_groups.py', 'doc/source/user/proxies/compute.rst', 'openstack/cloud/_compute.py', 'openstack/tests/unit/cloud/test_meta.py', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a7fbaba34cb2157403591b55f9ee8c9deca058e2', 'message': 'Use Resource layer in cloud for SecurityGroups of server\n\n- add fetch_server_security_groups to the compute proxy\n- fix add/remove security_group of server to properly pass SG name and \nnot ID according to docs\n- force usage of resource layer in cloud for respective methods\n\nChange-Id: I5c46169de436b9fe4df31a12f3a6246063a7d342\n'}]",0,662998,a7fbaba34cb2157403591b55f9ee8c9deca058e2,11,2,3,27900,,,0,"Use Resource layer in cloud for SecurityGroups of server

- add fetch_server_security_groups to the compute proxy
- fix add/remove security_group of server to properly pass SG name and 
not ID according to docs
- force usage of resource layer in cloud for respective methods

Change-Id: I5c46169de436b9fe4df31a12f3a6246063a7d342
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/98/662998/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/tests/unit/cloud/test_security_groups.py', 'doc/source/user/proxies/compute.rst', 'openstack/cloud/_compute.py', 'openstack/compute/v2/_proxy.py']",7,9d021a71d2cd5d657213b6999c978542dc7360e1,resource_layer,"from openstack.network.v2 import security_group as _sg def fetch_server_security_groups(self, server): """"""Fetch security groups with details for a server. :param server: Either the ID of a server or a :class:`~openstack.compute.v2.server.Server` instance. :returns: updated :class:`~openstack.compute.v2.server.Server` instance """""" server = self._get_resource(_server.Server, server) return server.fetch_security_groups(self) :class:`~openstack.compute.v2.server.Server` instance. :param security_group: Either the ID, Name of a security group or a security_group = self._get_resource(_sg.SecurityGroup, security_group) server.add_security_group(self, security_group.name) :class:`~openstack.compute.v2.server.Server` instance. security_group = self._get_resource(_sg.SecurityGroup, security_group) server.remove_security_group(self, security_group.name)"," :class:`~openstack.compute.v2.server.Server` instance. :param security_group: Either the ID of a security group or a security_group_id = resource.Resource._get_id(security_group) server.add_security_group(self, security_group_id) :class:`~openstack.compute.v2.server.Server` instance. security_group_id = resource.Resource._get_id(security_group) server.remove_security_group(self, security_group_id)",130,27
openstack%2Fopenstacksdk~master~I28745475506848e0f205efd4427cbe2e9e81df17,openstack/openstacksdk,master,I28745475506848e0f205efd4427cbe2e9e81df17,Switch cloud layer to use proxy for DNS,MERGED,2019-06-14 17:09:15.000000000,2019-07-09 13:11:29.000000000,2019-07-09 13:11:29.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-06-14 17:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5f6c2f24a454cd945bacd3c460dff1c4b5d75957', 'message': 'Switch cloud layer to use proxy for DNS\n\n- use dns proxy in cloud layer\n- fix DNS pagination (not-standard - argh)\n- fix wrongly set resource_key for recordset\n- add create_recordset in functional tests of dns\n- streamline cloud tests of dns\n- add required find_recordset function to the proxy\n\nChange-Id: I28745475506848e0f205efd4427cbe2e9e81df17\nStory: 2005749\nTask: 33416\n'}, {'number': 2, 'created': '2019-06-14 19:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5852adfef21b579fa8a23f89351b3c5c93ca9792', 'message': 'Switch cloud layer to use proxy for DNS\n\n- use dns proxy in cloud layer\n- fix DNS pagination (not-standard - argh)\n- fix wrongly set resource_key for recordset\n- add create_recordset in functional tests of dns\n- streamline cloud tests of dns\n- add required find_recordset function to the proxy\n\nChange-Id: I28745475506848e0f205efd4427cbe2e9e81df17\nStory: 2005749\nTask: 33416\n'}, {'number': 3, 'created': '2019-06-14 19:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/83934b5d46a5db274aabb2c00c466616b10fed16', 'message': 'Switch cloud layer to use proxy for DNS\n\n- use dns proxy in cloud layer\n- fix DNS pagination (not-standard - argh)\n- fix wrongly set resource_key for recordset\n- add create_recordset in functional tests of dns\n- streamline cloud tests of dns\n- add required find_recordset function to the proxy\n\nChange-Id: I28745475506848e0f205efd4427cbe2e9e81df17\nStory: 2005749\nTask: 33416\n'}, {'number': 4, 'created': '2019-06-17 10:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f4b1d33b000fab7463bbda2efdc50401ad8f33d5', 'message': 'Switch cloud layer to use proxy for DNS\n\n- use dns proxy in cloud layer\n- fix DNS pagination (not-standard - argh)\n- fix wrongly set resource_key for recordset\n- add create_recordset in functional tests of dns\n- streamline cloud tests of dns\n- add required find_recordset function to the proxy\n\nChange-Id: I28745475506848e0f205efd4427cbe2e9e81df17\nStory: 2005749\nTask: 33416\n'}, {'number': 5, 'created': '2019-06-17 12:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/29a77feabd6ff48b120b9fd068f112163c92725d', 'message': 'Switch cloud layer to use proxy for DNS\n\n- use dns proxy in cloud layer\n- fix DNS pagination (not-standard - argh)\n- fix wrongly set resource_key for recordset\n- add create_recordset in functional tests of dns\n- streamline cloud tests of dns\n- add required find_recordset function to the proxy\n\nChange-Id: I28745475506848e0f205efd4427cbe2e9e81df17\nStory: 2005749\nTask: 33416\n'}, {'number': 6, 'created': '2019-06-17 17:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b5aca9c198228512527760a45356f1937684bbea', 'message': 'Switch cloud layer to use proxy for DNS\n\n- use dns proxy in cloud layer\n- fix DNS pagination (not-standard - argh)\n- fix wrongly set resource_key for recordset\n- add create_recordset in functional tests of dns\n- streamline cloud tests of dns\n- add required find_recordset function to the proxy\n\nChange-Id: I28745475506848e0f205efd4427cbe2e9e81df17\nStory: 2005749\nTask: 33416\n'}, {'number': 7, 'created': '2019-06-17 17:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/10bc9d9d71d8aa16cef4a2538ce18daf2f1d319d', 'message': 'Switch cloud layer to use proxy for DNS\n\n- use dns proxy in cloud layer\n- fix DNS pagination (not-standard - argh)\n- fix wrongly set resource_key for recordset\n- add create_recordset in functional tests of dns\n- streamline cloud tests of dns\n- add required find_recordset function to the proxy\n\nChange-Id: I28745475506848e0f205efd4427cbe2e9e81df17\nStory: 2005749\nTask: 33416\n'}, {'number': 8, 'created': '2019-06-18 07:30:13.000000000', 'files': ['openstack/dns/v2/zone_transfer.py', 'openstack/dns/v2/floating_ip.py', 'openstack/dns/v2/zone.py', 'openstack/dns/v2/zone_import.py', 'openstack/tests/functional/dns/v2/test_zone.py', 'openstack/tests/unit/cloud/test_zone.py', 'openstack/dns/v2/recordset.py', 'openstack/tests/unit/cloud/test_recordset.py', 'openstack/cloud/_dns.py', 'openstack/dns/v2/zone_export.py', 'openstack/dns/v2/_base.py', 'openstack/dns/v2/_proxy.py', 'openstack/tests/unit/dns/v2/test_proxy.py', 'openstack/tests/unit/dns/v2/test_recordset.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/245ebae563fe4440c3e96a4e9f8db90e72a42680', 'message': 'Switch cloud layer to use proxy for DNS\n\n- use dns proxy in cloud layer\n- fix DNS pagination (not-standard - argh)\n- fix wrongly set resource_key for recordset\n- add create_recordset in functional tests of dns\n- streamline cloud tests of dns\n- add required find_recordset function to the proxy\n\nChange-Id: I28745475506848e0f205efd4427cbe2e9e81df17\nStory: 2005749\nTask: 33416\n'}]",0,665435,245ebae563fe4440c3e96a4e9f8db90e72a42680,20,3,8,27900,,,0,"Switch cloud layer to use proxy for DNS

- use dns proxy in cloud layer
- fix DNS pagination (not-standard - argh)
- fix wrongly set resource_key for recordset
- add create_recordset in functional tests of dns
- streamline cloud tests of dns
- add required find_recordset function to the proxy

Change-Id: I28745475506848e0f205efd4427cbe2e9e81df17
Story: 2005749
Task: 33416
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/35/665435/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/dns/v2/zone_transfer.py', 'openstack/dns/v2/floating_ip.py', 'openstack/dns/v2/zone.py', 'openstack/dns/v2/zone_import.py', 'openstack/resource.py', 'openstack/tests/functional/dns/v2/test_zone.py', 'openstack/tests/unit/cloud/test_zone.py', 'openstack/dns/v2/recordset.py', 'openstack/tests/unit/cloud/test_recordset.py', 'openstack/cloud/_dns.py', 'openstack/dns/v2/zone_export.py', 'openstack/dns/v2/_base.py', 'openstack/dns/v2/_proxy.py', 'openstack/tests/unit/dns/v2/test_proxy.py', 'openstack/tests/unit/dns/v2/test_recordset.py']",15,5f6c2f24a454cd945bacd3c460dff1c4b5d75957,resource_layer, self.assertIsNone(sot.resource_key)," self.assertEqual('recordset', sot.resource_key)",497,277
openstack%2Fopenstacksdk~master~I1bccf5221a634493ac89477311daf89acd6ef99c,openstack/openstacksdk,master,I1bccf5221a634493ac89477311daf89acd6ef99c,Fix typo for subnet.py This 'slacc' should be 'slaac',MERGED,2019-07-08 13:14:18.000000000,2019-07-09 13:06:45.000000000,2019-07-09 13:06:45.000000000,"[{'_account_id': 2}, {'_account_id': 6812}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 13:14:18.000000000', 'files': ['openstack/network/v2/subnet.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2d406e7168c31345fe1d9722ffd8e031906920e4', 'message': ""Fix typo for subnet.py\nThis 'slacc' should be 'slaac'\n\nWe need to update the openstacksdk Api documentation as well:\nopenstack.network.v2.subnet\n\nChange-Id: I1bccf5221a634493ac89477311daf89acd6ef99c\n""}]",0,669661,2d406e7168c31345fe1d9722ffd8e031906920e4,9,4,1,6812,,,0,"Fix typo for subnet.py
This 'slacc' should be 'slaac'

We need to update the openstacksdk Api documentation as well:
openstack.network.v2.subnet

Change-Id: I1bccf5221a634493ac89477311daf89acd6ef99c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/61/669661/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/network/v2/subnet.py'],1,2d406e7168c31345fe1d9722ffd8e031906920e4,fix_typo, #: or 'slaac'., #: or 'slacc'.,1,1
openstack%2Fopenstack-helm-infra~master~Idc1e554f9586754a297eb786fcbd69e5ec7e200b,openstack/openstack-helm-infra,master,Idc1e554f9586754a297eb786fcbd69e5ec7e200b,Update Kubernetes versions to 1.14.4,ABANDONED,2019-07-08 18:48:13.000000000,2019-07-09 12:46:39.000000000,,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-07-08 18:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ede1ff0a08a8ffa462b9194f874f24b6d4359e46', 'message': 'Update Kubernetes versions to 1.14.4\n\nThis updates the Kubernetes version deployed in the single node\nand multinode jobs to 1.14.4\n\nChange-Id: Idc1e554f9586754a297eb786fcbd69e5ec7e200b\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-07-08 19:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/80602227eb8ac46fdebb9b0bc9d51d60e228a301', 'message': 'Update Kubernetes versions to 1.14.4\n\nThis updates the Kubernetes version deployed in the single node\nand multinode jobs to 1.14.4\n\nChange-Id: Idc1e554f9586754a297eb786fcbd69e5ec7e200b\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-07-08 19:55:42.000000000', 'files': ['roles/deploy-docker/tasks/main.yaml', 'tools/deployment/common/005-deploy-k8s.sh', 'tools/images/kubeadm-aio/assets/opt/playbooks/vars.yaml', 'tools/images/kubeadm-aio/Dockerfile', 'roles/build-images/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/496d689e252fdea4ae3a559b3c1e453badabf498', 'message': 'Update Kubernetes versions to 1.14.4\n\nThis updates the Kubernetes version deployed in the single node\nand multinode jobs to 1.14.4\n\nChange-Id: Idc1e554f9586754a297eb786fcbd69e5ec7e200b\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,669739,496d689e252fdea4ae3a559b3c1e453badabf498,10,4,3,17591,,,0,"Update Kubernetes versions to 1.14.4

This updates the Kubernetes version deployed in the single node
and multinode jobs to 1.14.4

Change-Id: Idc1e554f9586754a297eb786fcbd69e5ec7e200b
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/39/669739/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/common/005-deploy-k8s.sh', 'tools/images/kubeadm-aio/assets/opt/playbooks/vars.yaml', 'tools/images/kubeadm-aio/Dockerfile', 'roles/build-images/defaults/main.yml']",4,ede1ff0a08a8ffa462b9194f874f24b6d4359e46,k8s-1.14, kubernetes: v1.14.4, kubernetes: v1.13.4,4,4
openstack%2Fshade~master~I96c9f4dc64b252bac3c934936c7eebe270862c9e,openstack/shade,master,I96c9f4dc64b252bac3c934936c7eebe270862c9e,Add Python 3 Train unit tests,MERGED,2019-07-05 18:36:52.000000000,2019-07-09 12:43:46.000000000,2019-07-09 12:43:46.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 18:36:52.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/shade/commit/b0639aa94f4061e85e350287cb488ea738587a47', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I96c9f4dc64b252bac3c934936c7eebe270862c9e\nStory: #2005924\nTask: #34233\n'}]",0,669452,b0639aa94f4061e85e350287cb488ea738587a47,6,2,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I96c9f4dc64b252bac3c934936c7eebe270862c9e
Story: #2005924
Task: #34233
",git fetch https://review.opendev.org/openstack/shade refs/changes/52/669452/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,b0639aa94f4061e85e350287cb488ea738587a47,python3-train,"envlist = py27,py37,pep8","envlist = py36,py35,py27,pep8",4,3
openstack%2Ftripleo-quickstart~master~Ide5b848f59f6be2df888b6644642f748633c7be4,openstack/tripleo-quickstart,master,Ide5b848f59f6be2df888b6644642f748633c7be4,DNM - really DNM - testing installdeps on rhel-8,ABANDONED,2019-07-03 20:04:46.000000000,2019-07-09 12:30:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-07-03 20:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4e44391aa8e25b5ec0ddd405395d978bc5e2a89a', 'message': 'DNM - really DNM - testing installdeps on rhel-8\n\nChange-Id: Ide5b848f59f6be2df888b6644642f748633c7be4\n'}, {'number': 2, 'created': '2019-07-03 21:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/77c04e8e40338de4d6fa5394431919457a8879f3', 'message': 'DNM - really DNM - testing installdeps on rhel-8\n\nChange-Id: Ide5b848f59f6be2df888b6644642f748633c7be4\n'}, {'number': 3, 'created': '2019-07-03 21:23:58.000000000', 'files': ['install-deps.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/294d8625c2423efc6fd7bbb8493a732d59faa1ef', 'message': 'DNM - really DNM - testing installdeps on rhel-8\n\nChange-Id: Ide5b848f59f6be2df888b6644642f748633c7be4\n'}]",0,668989,294d8625c2423efc6fd7bbb8493a732d59faa1ef,9,3,3,9976,,,0,"DNM - really DNM - testing installdeps on rhel-8

Change-Id: Ide5b848f59f6be2df888b6644642f748633c7be4
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/89/668989/3 && git format-patch -1 --stdout FETCH_HEAD,['install-deps.sh'],1,4e44391aa8e25b5ec0ddd405395d978bc5e2a89a,install-deps-virtualenv," print(""Skip"") #check_python_module $module_name || MISSING_MODULES+=(""$module_name"") $(python_cmd) -m pip install pip #--upgrade $(python_cmd) -m pip install bindep #--upgrade $(python_cmd) -m pip install --user bindep #--upgrade"," check_python_module $module_name || MISSING_MODULES+=(""$module_name"") $(python_cmd) -m pip install pip --upgrade $(python_cmd) -m pip install bindep --upgrade $(python_cmd) -m pip install --user bindep --upgrade",4,4
openstack%2Fnetworking-ovn~master~Idbd844d97228b042c94a13bdf9337ec99c60637f,openstack/networking-ovn,master,Idbd844d97228b042c94a13bdf9337ec99c60637f,Add Octavia OVN Driver's UT,MERGED,2019-07-01 09:20:22.000000000,2019-07-09 12:15:28.000000000,2019-07-09 12:15:28.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 10237}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-01 09:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/74998089b9184de46fab147392d1d76e5736507f', 'message': ""Add Octavia OVN Driver's UT\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for networking-ovn.\n\nChange-Id: Idbd844d97228b042c94a13bdf9337ec99c60637f\nCloses-Bug: #1789885\n""}, {'number': 2, 'created': '2019-07-02 11:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6859783f8329bd837d8e6d57bdc7081d3dc2dbb9', 'message': ""Add Octavia OVN Driver's UT\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for networking-ovn.\n\nCo-Authored-By: Maciej Jzefczyk <mjozefcz@redhat.com>\n\nChange-Id: Idbd844d97228b042c94a13bdf9337ec99c60637f\nCloses-Bug: #1789885\n""}, {'number': 3, 'created': '2019-07-08 10:59:05.000000000', 'files': ['networking_ovn/tests/unit/octavia/__init__.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/48cac11283b32e829d34f57c9f87bc207d184347', 'message': ""Add Octavia OVN Driver's UT\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for networking-ovn.\n\nCo-Authored-By: Maciej Jzefczyk <mjozefcz@redhat.com>\n\nChange-Id: Idbd844d97228b042c94a13bdf9337ec99c60637f\nCloses-Bug: #1789885\n""}]",2,668396,48cac11283b32e829d34f57c9f87bc207d184347,38,6,3,24791,,,0,"Add Octavia OVN Driver's UT

This patch adds basic Unit Testing for Octavia OVN Driver which
improves the test coverage for networking-ovn.

Co-Authored-By: Maciej Jzefczyk <mjozefcz@redhat.com>

Change-Id: Idbd844d97228b042c94a13bdf9337ec99c60637f
Closes-Bug: #1789885
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/96/668396/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/octavia/__init__.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py']",2,74998089b9184de46fab147392d1d76e5736507f,bug/1834453,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import collections import mock from neutron.tests import base from octavia_lib.api.drivers import data_models from octavia_lib.api.drivers import exceptions from octavia_lib.common import constants from oslo_utils import uuidutils from networking_ovn.octavia import ovn_driver class MockedLB(data_models.LoadBalancer): def __init__(self, *args, **kwargs): self.external_ids = kwargs.pop('ext_ids') self.uuid = kwargs.pop('uuid') super(MockedLB, self).__init__(*args, **kwargs) def __hash__(self): # Required for Python3, not for Python2 return self.__sizeof__() class TestOvnOctaviaBase(base.BaseTestCase): def setUp(self): super(TestOvnOctaviaBase, self).setUp() self.listener_id = uuidutils.generate_uuid() self.loadbalancer_id = uuidutils.generate_uuid() self.member_id = uuidutils.generate_uuid() self.member_subnet_id = uuidutils.generate_uuid() self.pool_id = uuidutils.generate_uuid() self.port1_id = uuidutils.generate_uuid() self.port2_id = uuidutils.generate_uuid() self.project_id = uuidutils.generate_uuid() self.vip_network_id = uuidutils.generate_uuid() self.vip_port_id = uuidutils.generate_uuid() self.vip_subnet_id = uuidutils.generate_uuid() mock.patch(""networking_ovn.common.utils.get_ovsdb_connection"").start() self.member_address = ""192.168.2.149"" self.vip_address = '192.148.210.109' self.member_port = ""1010"" self.member_pool_id = self.pool_id self.member_subnet_id = uuidutils.generate_uuid() mock.patch( 'ovsdbapp.backend.ovs_idl.idlutils.get_schema_helper').start() class TestOvnProviderDriver(TestOvnOctaviaBase): def setUp(self): super(TestOvnProviderDriver, self).setUp() self.driver = ovn_driver.OvnProviderDriver() add_req_thread = mock.patch.object(ovn_driver.OvnProviderHelper, 'add_request') self.ovn_lb = mock.MagicMock() self.mock_add_request = add_req_thread.start() self.project_id = uuidutils.generate_uuid() self.fail_member = data_models.Member( address='198.51.100.4', admin_state_up=True, member_id=self.member_id, monitor_address=""100.200.200.100"", monitor_port=66, name='Amazin', pool_id=self.pool_id, protocol_port=99, subnet_id=self.member_subnet_id, weight=55) self.ref_member = data_models.Member( address='198.52.100.4', admin_state_up=True, member_id=self.member_id, monitor_address=data_models.Unset, monitor_port=data_models.Unset, name='Amazing', pool_id=self.pool_id, protocol_port=99, subnet_id=self.member_subnet_id, weight=55) self.update_member = data_models.Member( address='198.53.100.4', admin_state_up=False, member_id=self.member_id, monitor_address=data_models.Unset, monitor_port=data_models.Unset, name='Amazin', pool_id=self.pool_id, protocol_port=99, subnet_id=self.member_subnet_id, weight=55) self.ref_update_pool = data_models.Pool( admin_state_up=False, description='pool', name='Peter', lb_algorithm=constants.LB_ALGORITHM_ROUND_ROBIN, loadbalancer_id=self.loadbalancer_id, listener_id=self.listener_id, members=[self.ref_member], pool_id=self.pool_id, protocol='TCP', session_persistence={'type': 'fix'}) self.ref_pool = data_models.Pool( admin_state_up=True, description='pool', name='Peter', lb_algorithm=constants.LB_ALGORITHM_ROUND_ROBIN, loadbalancer_id=self.loadbalancer_id, listener_id=self.listener_id, members=[self.ref_member], pool_id=self.pool_id, protocol='TCP', session_persistence={'type': 'fix'}) self.ref_http_pool = data_models.Pool( admin_state_up=True, description='pool', lb_algorithm=constants.LB_ALGORITHM_ROUND_ROBIN, loadbalancer_id=self.loadbalancer_id, listener_id=self.listener_id, members=[self.ref_member], name='Groot', pool_id=self.pool_id, protocol='HTTP', session_persistence={'type': 'fix'}) self.ref_lc_pool = data_models.Pool( admin_state_up=True, description='pool', lb_algorithm=constants.LB_ALGORITHM_LEAST_CONNECTIONS, loadbalancer_id=self.loadbalancer_id, listener_id=self.listener_id, members=[self.ref_member], name='Groot', pool_id=self.pool_id, protocol='HTTP', session_persistence={'type': 'fix'}) self.ref_listener = data_models.Listener( admin_state_up=False, connection_limit=5, default_pool=self.ref_pool, default_pool_id=self.pool_id, listener_id=self.listener_id, loadbalancer_id=self.loadbalancer_id, name='listener', protocol='TCP', protocol_port=42) self.ref_listener_udp = data_models.Listener( admin_state_up=False, connection_limit=5, default_pool=self.ref_pool, default_pool_id=self.pool_id, listener_id=self.listener_id, loadbalancer_id=self.loadbalancer_id, name='listener', protocol='UDP', protocol_port=42) self.fail_listener = data_models.Listener( admin_state_up=False, connection_limit=5, default_pool=self.ref_pool, default_pool_id=self.pool_id, listener_id=self.listener_id, loadbalancer_id=self.loadbalancer_id, name='listener', protocol='http', protocol_port=42) self.ref_lb0 = data_models.LoadBalancer( admin_state_up=False, listeners=[self.ref_listener], loadbalancer_id=self.loadbalancer_id, name='favorite_lb0', project_id=self.project_id, vip_address=self.vip_address, vip_network_id=self.vip_network_id) self.ref_lb1 = data_models.LoadBalancer( admin_state_up=True, listeners=[self.ref_listener], loadbalancer_id=self.loadbalancer_id, name='favorite_lb1', project_id=self.project_id, vip_address=self.vip_address, vip_network_id=self.vip_network_id) mock.patch.object(ovn_driver.OvnProviderHelper, '_find_ovn_lb', return_value=self.ovn_lb).start() mock.patch.object( ovn_driver.OvnProviderHelper, 'get_member_info', return_value=[ (self.ref_member.member_id, ""198.52.100.4:99""), (self.fail_member.member_id, ""198.51.100.4:99"")]).start() mock.patch.object(ovn_driver.OvnProviderHelper, '_find_ovn_lb_with_pool_key', return_value=self.ovn_lb).start() self.vip_dict = {'vip_network_id': uuidutils.generate_uuid(), 'vip_subnet_id': uuidutils.generate_uuid()} self.vip_output = {'vip_network_id': self.vip_dict['vip_network_id'], 'vip_subnet_id': self.vip_dict['vip_subnet_id']} def test_member_create(self): info = {'id': self.ref_member.member_id, 'address': self.ref_member.address, 'protocol_port': self.ref_member.protocol_port, 'pool_id': self.ref_member.pool_id, 'subnet_id': self.ref_member.subnet_id, 'admin_state_up': self.ref_member.admin_state_up} expected_dict = {'type': ovn_driver.REQ_TYPE_MEMBER_CREATE, 'info': info} self.driver.member_create(self.ref_member) self.mock_add_request.assert_called_once_with(expected_dict) def test_member_create_failure(self): self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_create, self.fail_member) def test_member_update(self): info = {'id': self.update_member.member_id, 'address': self.ref_member.address, 'protocol_port': self.ref_member.protocol_port, 'pool_id': self.ref_member.pool_id, 'admin_state_up': self.update_member.admin_state_up, 'subnet_id': self.ref_member.subnet_id} expected_dict = {'type': ovn_driver.REQ_TYPE_MEMBER_UPDATE, 'info': info} self.driver.member_update(self.ref_member, self.update_member) self.mock_add_request.assert_called_once_with(expected_dict) def test_member_update_batch(self): self.driver.member_batch_update([self.ref_member, self.update_member]) self.assertEqual(self.mock_add_request.call_count, 3) def test_member_update_failure(self): self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_update, self.ref_member, self.fail_member) def test_member_delete(self): info = {'id': self.ref_member.member_id, 'address': self.ref_member.address, 'protocol_port': self.ref_member.protocol_port, 'pool_id': self.ref_member.pool_id, 'subnet_id': self.ref_member.subnet_id} expected_dict = {'type': ovn_driver.REQ_TYPE_MEMBER_DELETE, 'info': info} self.driver.member_delete(self.ref_member) self.mock_add_request.assert_called_once_with(expected_dict) def test_listener_create(self): info = {'id': self.ref_listener.listener_id, 'protocol': self.ref_listener.protocol, 'protocol_port': self.ref_listener.protocol_port, 'default_pool_id': self.ref_listener.default_pool_id, 'admin_state_up': self.ref_listener.admin_state_up, 'loadbalancer_id': self.ref_listener.loadbalancer_id} expected_dict = {'type': ovn_driver.REQ_TYPE_LISTENER_CREATE, 'info': info} self.driver.listener_create(self.ref_listener) self.mock_add_request.assert_called_once_with(expected_dict) def test_listener_update(self): info = {'id': self.ref_listener.listener_id, 'protocol_port': self.ref_listener.protocol_port, 'admin_state_up': self.ref_listener.admin_state_up, 'loadbalancer_id': self.ref_listener.loadbalancer_id} if self.ref_listener.default_pool_id: info['default_pool_id'] = self.ref_listener.default_pool_id expected_dict = {'type': ovn_driver.REQ_TYPE_LISTENER_UPDATE, 'info': info} self.driver.listener_update(self.ref_listener, self.ref_listener) self.mock_add_request.assert_called_once_with(expected_dict) def test_listener_failure(self): self.assertRaises(exceptions.UnsupportedOptionError, self.driver.listener_create, self.fail_listener) self.assertRaises(exceptions.UnsupportedOptionError, self.driver.listener_update, self.ref_listener, self.fail_listener) self.ovn_lb.protocol = ['TCP'] mock.patch(self.mocked_func + ""._is_listener_in_lb"", return_value=True).start() self.assertRaises(exceptions.UnsupportedOptionError, self.driver.listener_create, self.ref_listener_udp) def test_listener_delete(self): info = {'id': self.ref_listener.listener_id, 'protocol_port': self.ref_listener.protocol_port, 'loadbalancer_id': self.ref_listener.loadbalancer_id} expected_dict = {'type': ovn_driver.REQ_TYPE_LISTENER_DELETE, 'info': info} self.driver.listener_delete(self.ref_listener) self.mock_add_request.assert_called_once_with(expected_dict) def test_loadbalancer_create(self): info = {'id': self.ref_lb0.loadbalancer_id, 'vip_address': self.ref_lb0.vip_address, 'vip_network_id': self.ref_lb0.vip_network_id, 'admin_state_up': self.ref_lb0.admin_state_up} expected_dict = {'type': ovn_driver.REQ_TYPE_LB_CREATE, 'info': info} self.driver.loadbalancer_create(self.ref_lb0) self.mock_add_request.assert_called_once_with(expected_dict) def test_loadbalancer_update(self): info = {'id': self.ref_lb1.loadbalancer_id, 'admin_state_up': self.ref_lb1.admin_state_up} expected_dict = {'type': ovn_driver.REQ_TYPE_LB_UPDATE, 'info': info} self.driver.loadbalancer_update(self.ref_lb0, self.ref_lb1) self.mock_add_request.assert_called_once_with(expected_dict) def test_loadbalancer_delete(self): info = {'id': self.ref_lb0.loadbalancer_id, 'cascade': False} expected_dict = {'type': ovn_driver.REQ_TYPE_LB_DELETE, 'info': info} self.driver.loadbalancer_delete(self.ref_lb1) self.mock_add_request.assert_called_once_with(expected_dict) def test_loadbalancer_failover(self): info = {'id': self.ref_lb0.loadbalancer_id} expected_dict = {'type': ovn_driver.REQ_TYPE_LB_FAILOVER, 'info': info} self.driver.loadbalancer_failover(info['id']) self.mock_add_request.assert_called_once_with(expected_dict) def test_pool_create_http(self): self.assertRaises(exceptions.UnsupportedOptionError, self.driver.pool_create, self.ref_http_pool) def test_pool_create_leastcount_algo(self): self.assertRaises(exceptions.UnsupportedOptionError, self.driver.pool_create, self.ref_lc_pool) def test_pool_create_tcp(self): info = {'id': self.ref_pool.pool_id, 'loadbalancer_id': self.ref_pool.loadbalancer_id, 'listener_id': self.ref_pool.listener_id, 'admin_state_up': self.ref_pool.admin_state_up} expected_dict = {'type': ovn_driver.REQ_TYPE_POOL_CREATE, 'info': info} self.driver.pool_create(self.ref_pool) self.mock_add_request.assert_called_once_with(expected_dict) def test_pool_delete(self): info = {'id': self.ref_pool.pool_id, 'loadbalancer_id': self.ref_pool.loadbalancer_id} expected = {'type': ovn_driver.REQ_TYPE_POOL_DELETE, 'info': info} self.driver.pool_delete(self.ref_pool) self.mock_add_request.assert_called_once_with(expected) def test_pool_update(self): info = {'id': self.ref_update_pool.pool_id, 'loadbalancer_id': self.ref_update_pool.loadbalancer_id, 'admin_state_up': self.ref_update_pool.admin_state_up} expected_dict = {'type': ovn_driver.REQ_TYPE_POOL_UPDATE, 'info': info} self.driver.pool_update(self.ref_pool, self.ref_update_pool) self.mock_add_request.assert_called_once_with(expected_dict) def test_create_vip_port(self): with mock.patch.object(ovn_driver, 'get_network_driver'): port_dict = self.driver.create_vip_port(self.loadbalancer_id, self.project_id, self.vip_dict) for key, value in self.vip_output.items(): self.assertEqual(value, port_dict[key]) self.vip_dict['vip_address'] = '10.1.10.1' port_dict = self.driver.create_vip_port(self.loadbalancer_id, self.project_id, self.vip_dict) # The network_driver function is mocked, therefore the # created port vip_address is also mocked. Check if it exists # and move on. self.assertIsNotNone(port_dict.pop('vip_address', None)) for key, value in self.vip_output.items(): self.assertEqual(value, port_dict[key]) class TestOvnProviderHelper(TestOvnOctaviaBase): def setUp(self): super(TestOvnProviderHelper, self).setUp() self.helper = ovn_driver.OvnProviderHelper() mock.patch.object(self.helper, '_update_status_to_octavia').start() self.listener = {'id': self.listener_id, 'loadbalancer_id': self.loadbalancer_id, 'protocol': ""TCP"", 'protocol_port': 80, 'default_pool_id': self.pool_id, 'admin_state_up': False} self.lb = {'id': self.loadbalancer_id, 'vip_address': self.vip_address, 'cascade': False, 'vip_network_id': self.vip_network_id, 'admin_state_up': False} self.ports = {'ports': [{ 'fixed_ips': [{'ip_address': self.vip_address}], 'id': self.port1_id}]} self.pool = {'id': self.pool_id, 'loadbalancer_id': self.loadbalancer_id, 'listener_id': self.listener_id, 'admin_state_up': False} self.member = {'id': self.member_id, 'address': self.member_address, 'protocol_port': self.member_port, 'subnet_id': self.member_subnet_id, 'pool_id': self.member_pool_id, 'admin_state_up': True} mock.patch.object(self.helper, 'ovn_nbdb_api').start() add_req_thread = mock.patch.object(ovn_driver.OvnProviderHelper, 'add_request') self.mock_add_request = add_req_thread.start() self.logical_sw = self.helper.ovn_nbdb_api.ls_get.return_value self.logical_sw.execute.return_value.ports = [] self.ovn_lb = mock.MagicMock() self.ovn_lb.uuid = uuidutils.generate_uuid() self.ovn_lb.external_ids.get.return_value = {} self.helper.ovn_nbdb_api.db_find.return_value.\ execute.return_value = [self.ovn_lb] self.helper.ovn_nbdb_api.db_list_rows.return_value.\ execute.return_value = [self.ovn_lb] ref_lb1 = MockedLB( uuid=uuidutils.generate_uuid(), admin_state_up=True, listeners=[], loadbalancer_id=self.loadbalancer_id, name='favorite_lb1', project_id=self.project_id, vip_address=self.vip_address, vip_network_id=self.vip_network_id, ext_ids={ovn_driver.LB_EXT_IDS_LR_REF_KEY: '1'}) ref_lb2 = MockedLB( uuid=uuidutils.generate_uuid(), admin_state_up=True, listeners=[], loadbalancer_id=self.loadbalancer_id, name='favorite_lb2', project_id=self.project_id, vip_address=self.vip_address, vip_network_id=self.vip_network_id, ext_ids={ovn_driver.LB_EXT_IDS_LR_REF_KEY: '1'}) loadbalancer = collections.namedtuple(""LoadBalancer"", ""load_balancer name uuid"") mock.patch.object(self.helper, '_find_ovn_lb_with_pool_key', return_value=self.ovn_lb).start() mock.patch.object(self.helper, '_get_pool_listeners', return_value=[]).start() mock.patch.object(self.helper, '_update_lb_to_ls_association', return_value=[]).start() mock.patch.object(self.helper, '_update_lb_to_lr_association', return_value=[]).start() self.router = loadbalancer(load_balancer=[ref_lb1], name='router_lb', uuid=uuidutils.generate_uuid()) self.network = loadbalancer(load_balancer=[ref_lb2], name='network_lb', uuid=uuidutils.generate_uuid()) @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') def test_lb_create(self, net_dr): net_dr.return_value.neutron_client.list_ports.return_value = ( self.ports) status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['loadbalancers'][0]['operating_status'], ""OFFLINE"") self.lb['admin_state_up'] = True status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['loadbalancers'][0]['operating_status'], ""ONLINE"") @mock.patch('networking_ovn.octavia.ovn_driver.OvnProviderHelper.' '_find_ovn_lb') @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') def test_lb_delete(self, net_dr, lb): net_dr.return_value.neutron_client.delete_port.return_value = None lb.return_value.external_ids.get.return_value = {} status = self.helper.lb_delete(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""DELETED"") self.assertEqual(status['loadbalancers'][0]['operating_status'], ""OFFLINE"") @mock.patch('networking_ovn.octavia.ovn_driver.OvnProviderHelper.' '_find_ovn_lb') @mock.patch('networking_ovn.octavia.ovn_driver.get_network_driver') def test_lb_cascade_delete(self, net_dr, lb): net_dr.return_value.neutron_client.delete_port.return_value = None lb.return_value.external_ids.get.return_value = {} self.lb['cascade'] = True status = self.helper.lb_delete(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""DELETED"") self.assertEqual(status['loadbalancers'][0]['operating_status'], ""OFFLINE"") def test_lb_update(self): status = self.helper.lb_update(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['loadbalancers'][0]['operating_status'], ""OFFLINE"") self.lb['admin_state_up'] = True status = self.helper.lb_update(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['loadbalancers'][0]['operating_status'], ""ONLINE"") def test_listener_update(self): status = self.helper.listener_update(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['listeners'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['pools'], []) self.listener['admin_state_up'] = True status = self.helper.listener_update(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['listeners'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['pools'], []) def test_listener_create(self): status = self.helper.listener_create(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['listeners'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['listeners'][0]['operating_status'], ""OFFLINE"") self.listener['admin_state_up'] = True status = self.helper.listener_create(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['listeners'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['listeners'][0]['operating_status'], ""ONLINE"") mock.patch.object(self.helper, ""_is_listener_in_lb"", return_value=True).start() status = self.helper.listener_create(self.listener) def test_listener_delete(self): status = self.helper.listener_delete(self.listener) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['listeners'][0]['provisioning_status'], ""DELETED"") self.assertEqual(status['listeners'][0]['operating_status'], ""OFFLINE"") def test_pool_create(self): status = self.helper.pool_create(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['listeners'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['pools'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['pools'][0]['operating_status'], ""OFFLINE"") self.pool['admin_state_up'] = True # Pool Operating status shouldnt change if member isnt present. status = self.helper.pool_create(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['pools'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['pools'][0]['operating_status'], ""OFFLINE"") def test_pool_update(self): status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['pools'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['pools'][0]['operating_status'], ""OFFLINE"") self.pool['admin_state_up'] = True status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['pools'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['pools'][0]['operating_status'], ""ONLINE"") def test_pool_delete(self): status = self.helper.pool_delete(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['pools'][0]['provisioning_status'], ""DELETED"") def test_member_create(self): status = self.helper.member_create(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['pools'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['members'][0]['provisioning_status'], ""ACTIVE"") self.member['admin_state_up'] = False status = self.helper.member_create(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['pools'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['members'][0]['provisioning_status'], ""ACTIVE"") def test_member_update(self): status = self.helper.member_update(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['pools'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['members'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['members'][0]['operating_status'], ""ONLINE"") self.member['admin_state_up'] = False status = self.helper.member_update(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['pools'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['members'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['members'][0]['operating_status'], ""OFFLINE"") @mock.patch('networking_ovn.octavia.ovn_driver.OvnProviderHelper.' '_refresh_lb_vips') def test_member_delete(self, mock_vip_command): self.ovn_lb.external_ids = { 'pool_' + self.pool_id: 'member_' + self.member_id + '_' + self.member_address + ':' + self.member_port} status = self.helper.member_delete(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['pools'][0]['provisioning_status'], ""ACTIVE"") self.assertEqual(status['members'][0]['provisioning_status'], ""DELETED"") ",,665,0
openstack%2Fsolum~master~I134d1365a93b1a281583e2b04b5d65ec9dd0d463,openstack/solum,master,I134d1365a93b1a281583e2b04b5d65ec9dd0d463,Fix py37 test error,MERGED,2019-07-06 07:46:31.000000000,2019-07-09 12:13:33.000000000,2019-07-09 12:13:33.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-06 07:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/d2778dbefdae4aa67f956932b41e6a81ff934b22', 'message': 'TEST\n\nChange-Id: I134d1365a93b1a281583e2b04b5d65ec9dd0d463\n'}, {'number': 2, 'created': '2019-07-06 08:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/6da632f62eb2606647de66d7402fb70f40623fbc', 'message': 'TEST\n\nChange-Id: I134d1365a93b1a281583e2b04b5d65ec9dd0d463\n'}, {'number': 3, 'created': '2019-07-06 08:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/2669b22224da05ec8200e502e5c9392fab4ccb6f', 'message': 'TEST\n\nChange-Id: I134d1365a93b1a281583e2b04b5d65ec9dd0d463\n'}, {'number': 4, 'created': '2019-07-08 06:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/ce4ebf6eb73551c3aef93f15919f150cd104f2a9', 'message': 'TEST\n\nDepends-On: https://review.opendev.org/#/c/637771/\nChange-Id: I134d1365a93b1a281583e2b04b5d65ec9dd0d463\n'}, {'number': 5, 'created': '2019-07-09 01:01:29.000000000', 'files': ['solum/common/repo_utils.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/a70587412460126ef5fa278916b36cb22fef020f', 'message': 'Fix py37 test error\n\nChange-Id: I134d1365a93b1a281583e2b04b5d65ec9dd0d463\n'}]",0,669546,a70587412460126ef5fa278916b36cb22fef020f,14,2,5,14107,,,0,"Fix py37 test error

Change-Id: I134d1365a93b1a281583e2b04b5d65ec9dd0d463
",git fetch https://review.opendev.org/openstack/solum refs/changes/46/669546/5 && git format-patch -1 --stdout FETCH_HEAD,['solum/common/repo_utils.py'],1,d2778dbefdae4aa67f956932b41e6a81ff934b22,,"import requests resp = requests.post(status_url, headers=headers, body=json.dumps(data)) if resp.status_code != '201': LOG.debug(""Failed to send back status. Error code %s,"" ""status_url %s, repo_token %s"" % (resp['status'], status_url, repo_token))"," try: conn = get_http_connection() resp, _ = conn.request(status_url, 'POST', headers=headers, body=json.dumps(data)) if resp['status'] != '201': LOG.debug(""Failed to send back status. Error code %s,"" ""status_url %s, repo_token %s"" % (resp['status'], status_url, repo_token)) except (httplib2.HttpLib2Error, socket.error) as ex: LOG.warning( ""Error in sending status, status url: %s, repo token: %s,"" "" error: %s"" % (status_url, repo_token, ex))",7,12
openstack%2Ftripleo-common~master~I42745941c2d69138d8254dd396b7b110fff96a0f,openstack/tripleo-common,master,I42745941c2d69138d8254dd396b7b110fff96a0f,Install dumb-init rpm,MERGED,2019-06-24 15:38:08.000000000,2019-07-09 12:13:29.000000000,2019-06-26 18:50:08.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-06-24 15:38:08.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/06b38c4ff8ad5d345ab09cf21a194416a8b9ebb4', 'message': ""Install dumb-init rpm\n\nBy default it's installed from source. Let's override it to\ninstall the rpm.\n\nChange-Id: I42745941c2d69138d8254dd396b7b110fff96a0f\n""}]",0,667149,06b38c4ff8ad5d345ab09cf21a194416a8b9ebb4,20,8,1,8833,,,0,"Install dumb-init rpm

By default it's installed from source. Let's override it to
install the rpm.

Change-Id: I42745941c2d69138d8254dd396b7b110fff96a0f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/49/667149/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,06b38c4ff8ad5d345ab09cf21a194416a8b9ebb4,,# Override dumb-init installation {% block dumb_init_installation %}{% endblock %} {% set base_centos_binary_packages_append = base_centos_binary_packages_append + ['dumb-init'] %},,3,0
openstack%2Fkuryr-tempest-plugin~master~Ife099f1d05c0cae954119f0ef4616c95076f83e7,openstack/kuryr-tempest-plugin,master,Ife099f1d05c0cae954119f0ef4616c95076f83e7,Fixing service connectivity testing,MERGED,2019-02-12 13:20:36.000000000,2019-07-09 11:46:33.000000000,2019-07-09 11:46:33.000000000,"[{'_account_id': 4727}, {'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-02-12 13:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/94fee881502c6df640367b4bf7c262040a501956', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 2, 'created': '2019-02-17 14:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/e2506b262f1cc1a8b874c44e5833caab81541800', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 3, 'created': '2019-02-18 13:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/a3620b768604eaf4710e4456ab71a7b57d25481e', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 4, 'created': '2019-03-03 12:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/037375db33c03cb2befc9eb9aca2473e8559b094', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 5, 'created': '2019-03-07 13:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/98bd37ddddbb27eeebf8c74ba3f882bed8223a26', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 6, 'created': '2019-03-13 09:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/a1b85f62152e00533bb8aa2b8d0aba908edd4e21', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 7, 'created': '2019-03-19 13:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ba257c52eff2886355ae2392f22ce524f866f9bb', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 8, 'created': '2019-03-31 13:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/442362f7594b719eb103f7f1784c81de9602628b', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 9, 'created': '2019-05-24 10:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/4878904df27efed8221581fed3bd52acf4824b8d', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 10, 'created': '2019-05-28 15:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/dac5e3189a4bc94eb5e46379bb1b0a1443615713', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 11, 'created': '2019-06-04 06:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/5f591c60cde9878546a1140ce6a02f3c548eebeb', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 12, 'created': '2019-06-04 16:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/c08d3f55c0f58dcedcf3f6cad2c3de550de8f5d3', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 13, 'created': '2019-06-05 12:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/1cef7e4c23702778efec872711fe414c233ad9c0', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 14, 'created': '2019-06-05 15:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/48050152c1ac0f5b363c8ed250b1c64c73b6d646', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 15, 'created': '2019-06-13 07:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/75df7b1384b3fe763fce4cbff8a04569e9a3efed', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nDepends-On: I35f3be8fc16d71d0d2ac01c5451d398dd631f118\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 16, 'created': '2019-06-25 12:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ca12210bb3c37324389e9222b16729ffe5128cb3', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nDepends-On: I35f3be8fc16d71d0d2ac01c5451d398dd631f118\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 17, 'created': '2019-06-26 10:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/494f19c526caa04d8d644b2b60b58582c618f3f5', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nDepends-On: I35f3be8fc16d71d0d2ac01c5451d398dd631f118\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 18, 'created': '2019-07-04 08:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/0e6a970b607a61a140a8d12b014e65874cdd696b', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nDepends-On: I35f3be8fc16d71d0d2ac01c5451d398dd631f118\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 19, 'created': '2019-07-05 07:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/647a96c9d5ab14aff0fad926bd2d7d78a9db87c6', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nDepends-On: I35f3be8fc16d71d0d2ac01c5451d398dd631f118\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 20, 'created': '2019-07-05 12:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/4c55c46ad9f23cf6c2d1c764cead5eebea5cb973', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nDepends-On: I35f3be8fc16d71d0d2ac01c5451d398dd631f118\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}, {'number': 21, 'created': '2019-07-08 12:56:04.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/tests/scenario/test_namespace.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/54220e17fa0a32036fd35b981a9dd1c06997823c', 'message': 'Fixing service connectivity testing\n\nThe service connectivity to ClusterIp service should be tested\nfrom the pod in the same namespace\n\nDepends-On: I35f3be8fc16d71d0d2ac01c5451d398dd631f118\n\nChange-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7\n'}]",15,636329,54220e17fa0a32036fd35b981a9dd1c06997823c,244,9,21,21302,,,0,"Fixing service connectivity testing

The service connectivity to ClusterIp service should be tested
from the pod in the same namespace

Depends-On: I35f3be8fc16d71d0d2ac01c5451d398dd631f118

Change-Id: Ife099f1d05c0cae954119f0ef4616c95076f83e7
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/29/636329/20 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/tests/scenario/test_service.py', 'kuryr_tempest_plugin/tests/scenario/test_namespace.py', 'kuryr_tempest_plugin/tests/scenario/base.py']",3,94fee881502c6df640367b4bf7c262040a501956,remove-multithread," if not spec_type == ""ClusterIP"": cls.wait_service_status(cls.service_ip, CONF.kuryr_kubernetes.lb_build_timeout, protocol, port, num_of_back_ends=pod_num) actual_be = cls.wait_ep_members_status( cls.service_name, namespace, CONF.kuryr_kubernetes.lb_build_timeout) if pod_num != actual_be: LOG.error(""Actual EP backend num(%d) != pod_num(%d)"", actual_be, pod_num) raise lib_exc.ServerFault()"," cls.wait_service_status(cls.service_ip, CONF.kuryr_kubernetes.lb_build_timeout, protocol, port, num_of_back_ends=pod_num) actual_be = cls.wait_ep_members_status( cls.service_name, namespace, CONF.kuryr_kubernetes.lb_build_timeout) if pod_num != actual_be: LOG.error(""Actual EP backend num(%d) != pod_num(%d)"", actual_be, pod_num) raise lib_exc.ServerFault()",20,18
openstack%2Fproject-config~master~I52429e89ede0486c83b9fdb5652174b36998e72e,openstack/project-config,master,I52429e89ede0486c83b9fdb5652174b36998e72e,Mark networking-ovn-tempest-dsvm-ovs-release as voting,MERGED,2019-07-02 16:36:57.000000000,2019-07-09 11:40:43.000000000,2019-07-09 09:39:01.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 16:36:57.000000000', 'files': ['grafana/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f8a01f7ad3261027e9edbb2521c1248f2b252341', 'message': 'Mark networking-ovn-tempest-dsvm-ovs-release as voting\n\nThe networking-ovn-tempest-dsvm-ovs-release job is not voting so reflect\nthat change in Grafana.\n\nChange-Id: I52429e89ede0486c83b9fdb5652174b36998e72e\n'}]",4,668708,f8a01f7ad3261027e9edbb2521c1248f2b252341,13,6,1,13995,,,0,"Mark networking-ovn-tempest-dsvm-ovs-release as voting

The networking-ovn-tempest-dsvm-ovs-release job is not voting so reflect
that change in Grafana.

Change-Id: I52429e89ede0486c83b9fdb5652174b36998e72e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/08/668708/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron.yaml'],1,f8a01f7ad3261027e9edbb2521c1248f2b252341,neutron-ovn-job-voting," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.networking-ovn-tempest-dsvm-ovs-release.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.networking-ovn-tempest-dsvm-ovs-release.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'networking-ovn-tempest-dsvm-ovs-release') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.networking-ovn-tempest-dsvm-ovs-release.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'networking-ovn-tempest-dsvm-ovs-release')"," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.networking-ovn-tempest-dsvm-ovs-release.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.networking-ovn-tempest-dsvm-ovs-release.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'networking-ovn-tempest-dsvm-ovs-release (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.networking-ovn-tempest-dsvm-ovs-release.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'networking-ovn-tempest-dsvm-ovs-release (non-voting)')",2,2
openstack%2Fnetworking-odl~master~I24045a5d0bc41eafc2af0a541d3398a5b0c51fdd,openstack/networking-odl,master,I24045a5d0bc41eafc2af0a541d3398a5b0c51fdd,DNM: test test_feature_configs_does_not_mutate_default_features,ABANDONED,2019-07-03 19:52:52.000000000,2019-07-09 11:24:46.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 19:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/863a9c182fd14b4e181bfa2a013781cf857528f3', 'message': 'DNM: test test_feature_configs_does_not_mutate_default_features\n\nChange-Id: I24045a5d0bc41eafc2af0a541d3398a5b0c51fdd\n'}, {'number': 2, 'created': '2019-07-04 06:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ea1a6dca7cbada9b82378294cb5226294aaaa97a', 'message': 'DNM: test test_feature_configs_does_not_mutate_default_features\n\nFor reference with setUpClass see:\nhttps://review.opendev.org/668904\n\nChange-Id: I24045a5d0bc41eafc2af0a541d3398a5b0c51fdd\n'}, {'number': 3, 'created': '2019-07-09 08:44:15.000000000', 'files': ['README.rst', 'networking_odl/tests/unit/common/test_odl_features.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/aeddd52872d240383d1a63fdfb950eb8e0cf5571', 'message': 'DNM: test test_feature_configs_does_not_mutate_default_features\n\nFor reference with setUpClass see:\nhttps://review.opendev.org/668904\n\nRelated-Bug: #1835216\nChange-Id: I24045a5d0bc41eafc2af0a541d3398a5b0c51fdd\n'}]",0,668985,aeddd52872d240383d1a63fdfb950eb8e0cf5571,20,2,3,8313,,,0,"DNM: test test_feature_configs_does_not_mutate_default_features

For reference with setUpClass see:
https://review.opendev.org/668904

Related-Bug: #1835216
Change-Id: I24045a5d0bc41eafc2af0a541d3398a5b0c51fdd
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/85/668985/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,863a9c182fd14b4e181bfa2a013781cf857528f3,dnm_gate_test,,,1,0
openstack%2Ftripleo-heat-templates~master~Ib5d7cdd8efcb40d313a55b6ab516e7f15e619187,openstack/tripleo-heat-templates,master,Ib5d7cdd8efcb40d313a55b6ab516e7f15e619187,Set nova::keystone auth details hiera on compute,MERGED,2019-07-04 16:26:45.000000000,2019-07-09 10:42:17.000000000,2019-07-09 10:42:17.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-04 16:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3baaffb3c5b464c7d74cfd292c68f0d8fc791e7e', 'message': ""[WIP] Set nova::keystone auth details hiera on compute\n\nFor config drive we need to set the [api]/dhcp_domain\nin the computes. Therefore ::nova::metadata is included\nvia https://review.opendev.org/668949 to the\ntripleo::profile::base::nova::compute class. We'd need\nto add this informaton as the ::nova::metadata includes\n::nova::keystone::authtoken.\n\nChange-Id: Ib5d7cdd8efcb40d313a55b6ab516e7f15e619187\nRelated-Bug: #1832537\n""}, {'number': 2, 'created': '2019-07-07 14:42:11.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e677aeacd706674762751f8b530ad08d6d925910', 'message': ""Set nova::keystone auth details hiera on compute\n\nFor config drive we need to set the [api]/dhcp_domain\nin the computes. Therefore ::nova::metadata is included\nvia https://review.opendev.org/668949 to the\ntripleo::profile::base::nova::compute class. We'd need\nto add this informaton as the ::nova::metadata includes\n::nova::keystone::authtoken.\n\nChange-Id: Ib5d7cdd8efcb40d313a55b6ab516e7f15e619187\nRelated-Bug: #1832537\n""}]",0,669208,e677aeacd706674762751f8b530ad08d6d925910,20,9,2,17216,,,0,"Set nova::keystone auth details hiera on compute

For config drive we need to set the [api]/dhcp_domain
in the computes. Therefore ::nova::metadata is included
via https://review.opendev.org/668949 to the
tripleo::profile::base::nova::compute class. We'd need
to add this informaton as the ::nova::metadata includes
::nova::keystone::authtoken.

Change-Id: Ib5d7cdd8efcb40d313a55b6ab516e7f15e619187
Related-Bug: #1832537
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/669208/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,3baaffb3c5b464c7d74cfd292c68f0d8fc791e7e,bug/1832537," NovaPassword: description: The password for the nova service and db account type: string hidden: true nova::keystone::authtoken::project_name: 'service' nova::keystone::authtoken::user_domain_name: 'Default' nova::keystone::authtoken::project_domain_name: 'Default' nova::keystone::authtoken::password: {get_param: NovaPassword} nova::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] } nova::keystone::authtoken::auth_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] } nova::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} nova::keystone::authtoken::region_name: {get_param: KeystoneRegion}",,12,0
openstack%2Fpython-tripleoclient~master~I8c833819c88f1822bf605df0c997ab5d651e7620,openstack/python-tripleoclient,master,I8c833819c88f1822bf605df0c997ab5d651e7620,Allow running validations by group using Ansible by default,MERGED,2019-07-03 09:59:22.000000000,2019-07-09 10:42:15.000000000,2019-07-09 10:42:15.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-03 09:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1c7bf7aa45ba745db3d430049dad9cd7964688bf', 'message': '[WIP] Allow running validations by group using Ansible directly\n\nThis patch allows the operator to run all the validations belonging to\na group using ansible-playbook instead of Mistral.\n\nChange-Id: I8c833819c88f1822bf605df0c997ab5d651e7620\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-07-03 10:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b680aa670ee6987f45230386404de7969d994163', 'message': 'Allow running validations by group using Ansible directly\n\nThis patch allows the operator to run all the validations belonging to\na group using ansible-playbook instead of Mistral.\n\nChange-Id: I8c833819c88f1822bf605df0c997ab5d651e7620\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2019-07-03 10:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cf09d1e8d7910600b4653d0f52e5b5a0b8b4fbdd', 'message': 'Allow running validations by group using Ansible directly\n\nThis patch allows the operator to run all the validations belonging to\na group using ansible-playbook instead of Mistral.\n\nChange-Id: I8c833819c88f1822bf605df0c997ab5d651e7620\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2019-07-03 13:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9ea58b28ab6b91ff22a6aaee43f6a28ac6001acb', 'message': 'Allow running validations by group using Ansible directly\n\nThis patch allows the operator to run all the validations belonging to\na group using ansible-playbook instead of Mistral.\n\nChange-Id: I8c833819c88f1822bf605df0c997ab5d651e7620\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2019-07-03 13:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bb36b6272ec856d3b41f601e2df404f3b762c5f2', 'message': 'Allow running validations by group using Ansible directly\n\nThis patch allows the operator to run all the validations belonging to\na group using ansible-playbook instead of Mistral.\n\nChange-Id: I8c833819c88f1822bf605df0c997ab5d651e7620\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2019-07-03 13:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6268e2772af4e1ff731a9a5790cf2659f914cfb7', 'message': 'Allow running validations by group using Ansible by default\n\nThis patch allows the operator to run all the validations belonging to\na group using ansible-playbook instead of Mistral.\n\nChange-Id: I8c833819c88f1822bf605df0c997ab5d651e7620\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 7, 'created': '2019-07-05 14:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/977fde2907d2f65ecc454040bf1848ac5f4debb8', 'message': 'Allow running validations by group using Ansible by default\n\nThis patch allows the operator to run all the validations belonging to\na group using ansible-playbook instead of Mistral.\n\nChange-Id: I8c833819c88f1822bf605df0c997ab5d651e7620\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 8, 'created': '2019-07-08 09:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e9fde7f7cbca4015d55b9e2ec45f88e04880a1f5', 'message': 'Allow running validations by group using Ansible by default\n\nThis patch allows the operator to run all the validations belonging to\na group using ansible-playbook instead of Mistral.\n\nChange-Id: I8c833819c88f1822bf605df0c997ab5d651e7620\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 9, 'created': '2019-07-08 09:35:29.000000000', 'files': ['releasenotes/notes/Allow-running-validations-by-name-using-Ansible-by-default-2dac0dfd9c7a4690.yaml', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f10fa0b3c5f1d5e1b7282c0c29175138eaabe126', 'message': 'Allow running validations by group using Ansible by default\n\nThis patch allows the operator to run all the validations belonging to\na group using ansible-playbook instead of Mistral.\n\nChange-Id: I8c833819c88f1822bf605df0c997ab5d651e7620\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",1,668855,f10fa0b3c5f1d5e1b7282c0c29175138eaabe126,30,9,9,11491,,,0,"Allow running validations by group using Ansible by default

This patch allows the operator to run all the validations belonging to
a group using ansible-playbook instead of Mistral.

Change-Id: I8c833819c88f1822bf605df0c997ab5d651e7620
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/55/668855/8 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,1c7bf7aa45ba745db3d430049dad9cd7964688bf,bp/validation-framework," playbooks = [] if parsed_args.use_ansible: if parsed_args.group: workflow_input = { ""group_names"": parsed_args.group } LOG.debug(_('Getting the validations list by group')) try: output = validations.list_validations( clients, workflow_input) for val in output: playbooks.append(val.get('id')) except Exception as e: print(_(""Validations listing by group finished with errors"")) print('Output: {}'.format(e)) else: for pb in parsed_args.validation_name: playbooks.append(pb + '.yaml')", if parsed_args.use_ansible and not parsed_args.group: playbooks = [] for pb in parsed_args.validation_name: playbooks.append(pb + '.yaml'),20,4
openstack%2Fkuryr-kubernetes~master~Ie120289de38eefa66a6a0523fc093509de420e4c,openstack/kuryr-kubernetes,master,Ie120289de38eefa66a6a0523fc093509de420e4c,Raise right exception in case Kubernetes respond with not found,MERGED,2019-06-28 11:57:24.000000000,2019-07-09 10:42:05.000000000,2019-07-01 09:07:27.000000000,"[{'_account_id': 11600}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-06-28 11:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/070d82713b0252ce4111b46b3d7b8fee46e2212a', 'message': 'Raise right exception in case Kubernetes respond with not found\n\nWhen Kubernetes respond with not found to an API call of deletion,\nwe should raise a K8sResourceNotFound exception, right now we are\nraising K8sClientException.\n\nChange-Id: Ie120289de38eefa66a6a0523fc093509de420e4c\n'}, {'number': 2, 'created': '2019-06-28 12:02:35.000000000', 'files': ['kuryr_kubernetes/k8s_client.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c8d41c0d498d8337d6ec5dcb28bbc425be55ff39', 'message': 'Raise right exception in case Kubernetes respond with not found\n\nWhen Kubernetes respond with not found to an API call of deletion,\nwe should raise a K8sResourceNotFound exception, right now we are\nraising K8sClientException.\n\nCloses-Bug: 1834634\n\nChange-Id: Ie120289de38eefa66a6a0523fc093509de420e4c\n'}]",0,668154,c8d41c0d498d8337d6ec5dcb28bbc425be55ff39,10,4,2,27032,,,0,"Raise right exception in case Kubernetes respond with not found

When Kubernetes respond with not found to an API call of deletion,
we should raise a K8sResourceNotFound exception, right now we are
raising K8sClientException.

Closes-Bug: 1834634

Change-Id: Ie120289de38eefa66a6a0523fc093509de420e4c
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/54/668154/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/k8s_client.py'],1,070d82713b0252ce4111b46b3d7b8fee46e2212a,ensure-right-exception-raised-on-delete, else: if response.status_code == requests.codes.not_found: raise exc.K8sResourceNotFound(response.text) raise exc.K8sClientException(response), raise exc.K8sClientException(response),4,1
openstack%2Fironic-python-agent~stable%2Frocky~I7c55aee4b3b52cb414a595cf548e1f22e954f619,openstack/ironic-python-agent,stable/rocky,I7c55aee4b3b52cb414a595cf548e1f22e954f619,Correct formatting of a warning when lshw cannot be run,MERGED,2019-06-27 10:24:13.000000000,2019-07-09 10:39:53.000000000,2019-07-09 10:39:53.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-27 10:24:13.000000000', 'files': ['ironic_python_agent/hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7aeaf1bb456538f62c64a8613d51e00daf9cf238', 'message': 'Correct formatting of a warning when lshw cannot be run\n\nChange-Id: I7c55aee4b3b52cb414a595cf548e1f22e954f619\n(cherry picked from commit 69064a8610134f7e6777083375487f15f7dbbc7b)\n'}]",0,667879,7aeaf1bb456538f62c64a8613d51e00daf9cf238,35,5,1,10239,,,0,"Correct formatting of a warning when lshw cannot be run

Change-Id: I7c55aee4b3b52cb414a595cf548e1f22e954f619
(cherry picked from commit 69064a8610134f7e6777083375487f15f7dbbc7b)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/79/667879/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,7aeaf1bb456538f62c64a8613d51e00daf9cf238,formatting-stable/rocky," LOG.warning('Could not retrieve vendor info from lshw: %s', e)"," LOG.warning('Could not retrieve vendor info from lshw: %e', e)",1,1
openstack%2Fironic~master~I496cb2d786381b9aa1af11c2a37d728b47e2f9be,openstack/ironic,master,I496cb2d786381b9aa1af11c2a37d728b47e2f9be,Add documentation for IntelIPMI hardware,MERGED,2019-06-04 09:17:43.000000000,2019-07-09 10:39:48.000000000,2019-07-09 10:39:48.000000000,"[{'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-04 09:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7dd1a5309b287757a266d4c558b60215d97e8478', 'message': 'Add document of IntelIPMI hardware\n\nChange-Id: I496cb2d786381b9aa1af11c2a37d728b47e2f9be\nStory: 2005390\nTask: 33576\n'}, {'number': 2, 'created': '2019-06-04 09:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d0c207e17b96578deb45fbc17669f6632f4f3559', 'message': 'Add document of IntelIPMI hardware\n\nChange-Id: I496cb2d786381b9aa1af11c2a37d728b47e2f9be\nStory: 2005390\nTask: 33576\n'}, {'number': 3, 'created': '2019-06-19 10:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8225abb6b74cfb492689e012b244d35c083c1817', 'message': 'Add documentation for IntelIPMI hardware\n\nChange-Id: I496cb2d786381b9aa1af11c2a37d728b47e2f9be\nStory: 2005390\nTask: 33576\n'}, {'number': 4, 'created': '2019-06-19 15:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2a29dddad953beb7f8ff03f8af63096dc818a73a', 'message': 'Add documentation for IntelIPMI hardware\n\nChange-Id: I496cb2d786381b9aa1af11c2a37d728b47e2f9be\nStory: 2005390\nTask: 33576\n'}, {'number': 5, 'created': '2019-06-20 05:46:59.000000000', 'files': ['doc/source/admin/drivers.rst', 'doc/source/admin/drivers/intel-ipmi.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f568a80e9d5de9775dbfd6dac671bd2dbfcbde1f', 'message': 'Add documentation for IntelIPMI hardware\n\nChange-Id: I496cb2d786381b9aa1af11c2a37d728b47e2f9be\nStory: 2005390\nTask: 33576\n'}]",31,662980,f568a80e9d5de9775dbfd6dac671bd2dbfcbde1f,20,9,5,10206,,,0,"Add documentation for IntelIPMI hardware

Change-Id: I496cb2d786381b9aa1af11c2a37d728b47e2f9be
Story: 2005390
Task: 33576
",git fetch https://review.opendev.org/openstack/ironic refs/changes/80/662980/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/drivers/intel_ipmi.rst'],1,7dd1a5309b287757a266d4c558b60215d97e8478,intel_ipmi_doc,"================= Intel IPMI driver ================= Overview ======== The ``intel-ipmi`` hardware type is same as ``ipmi`` hardware types except the support of Intel Speed Select Performance Profile (Intel SST-PP_) feature. Intel SST-PP_ allows a server to run different workloads by configuring the CPU to run at 3 distinct operating points or profiles. Intel SST-PP_ supports three configuration levels: * 0 - Intel SST-PP_ Base Config * 1 - Intel SST-PP_ Config 1 * 2 - Intel SST-PP_ Config 2 Following table shows the list of active cores and their base frequency at different SST-PP_ config levels:: --------------------------------------------- | Config | Cores | Base Freq (GHz) | --------------------------------------------- | Base | 24 | 2.4 | | Config 1 | 20 | 2.5 | | Config 2 | 16 | 2.7 | --------------------------------------------- This configuration is managed by the management interface ``intel-ipmitool`` for IntelIPMI hardware. IntelIPMI manage nodes by using IPMI_ (Intelligent Platform Management Interface) protocol versions 2.0 or 1.5. It uses the IPMItool_ utility which is an open-source command-line interface (CLI) for controlling IPMI-enabled devices. Glossary ======== * IPMI_ - Intelligent Platform Management Interface. * SST-PP_ - Intel Speed Select Performance Profile. Enabling the IntelIPMI hardware type ==================================== Please see :doc:`/install/configure-ipmi` for the required dependencies. #. To enable ``intel-ipmi`` hardware, add following to your ``ironic.conf``: .. code-block:: ini [DEFAULT] enabled_hardware_types = intel-ipmi enabled_management_interfaces = intel-ipmitool #. Restart the Ironic conductor service:: sudo service ironic-conductor restart # Or, for RDO: sudo systemctl restart openstack-ironic-conductor Registering a node with the IntelIPMI driver ============================================ Nodes configured to use the IntelIPMI drivers drivers should have the ``driver`` field set to ``intel-ipmi``. All the configuration value required for IntelIPMI is same as the IPMI harware except the management interface which is ``intel-ipmitool``. Refer :doc:ipmitool.rst for details. The ``openstack baremetal node create`` command can be used to enroll a node with an IntelIPMI driver. For example:: openstack baremetal node create --driver intel-ipmi \ --driver-info ipmi_address=<address> \ --driver-info ipmi_username=<username> \ --driver-info ipmi_password=<password> \ --management-interface=intel-ipmitool Features of the ``intel-ipmi`` hardware type ============================================ Intel SST-PP_ ^^^^^^^^^^^^^ A node with Intel SST-PP_ can be configured to use it via ``configure_intel_speedselect`` deploy step. This deploy accepts: * ``intel_speedselect_config``: Hexadecimal code for the configuration. (Required) * ``socket_count``: Number of sockets in the node. (1 by default) The deploy step issues an IPMI command with the raw code for each socket in the node to set the requested configuration. A reboot is required to reflect the changes. Each configuration profile is mapped to traits that Ironic understands. * 0 - ``CUSTOM_INTEL_SPEED_SELECT_CONFIG_BASE`` * 1 - ``CUSTOM_INTEL_SPEED_SELECT_CONFIG_1`` * 2 - ``CUSTOM_INTEL_SPEED_SELECT_CONFIG_2`` All Intel SST-PP_ capable nodes should have these traits associated. .. code-block:: console openstack baremetal node add trait node-0 \ CUSTOM_INTEL_SPEED_SELECT_CONFIG_BASE \ CUSTOM_INTEL_SPEED_SELECT_CONFIG_1 \ CUSTOM_INTEL_SPEED_SELECT_CONFIG_2 Now to configure a node with Intel SST-PP_ while provisioning, create deploy templates for each profiles in Ironic. .. code-block:: console openstack baremetal deploy template create \ CUSTOM_INTEL_SPEED_SELECT_CONFIG_BASE \ --steps '[{""interface"": ""management"", ""step"": ""configure_intel_speedselect"", ""args"": {""intel_speedselect_config"": ""0x00"", ""socket_count"": 2}, ""priority"": 150}]' openstack baremetal deploy template create \ CUSTOM_INTEL_SPEED_SELECT_CONFIG_1 \ --steps '[{""interface"": ""management"", ""step"": ""configure_intel_speedselect"", ""args"": {""intel_speedselect_config"": ""0x01"", ""socket_count"": 2}, ""priority"": 150}]' openstack baremetal deploy template create \ CUSTOM_INTEL_SPEED_SELECT_CONFIG_2 \ --steps '[{""interface"": ""management"", ""step"": ""configure_intel_speedselect"", ""args"": {""intel_speedselect_config"": ""0x02"", ""socket_count"": 2}, ""priority"": 150}]' To trigger the Intel SST-PP_ configuration while node provisioning, one of the traits can be added to the flavor. .. code-block:: console openstack flavor set baremetal --property trait:CUSTOM_INTEL_SPEED_SELECT_CONFIG_1=required Finally create a server with ``baremetal`` flavor to provision a baremetal node with Intel SST-PP_ profile *Config 1*. .. _IPMI: https://en.wikipedia.org/wiki/Intelligent_Platform_Management_Interface .. _IPMItool: https://sourceforge.net/projects/ipmitool/ .. _SST-PP: https://www.intel.com/content/www/us/en/architecture-and-technology/speed-select-technology-article.html ",,149,0
openstack%2Fironic~master~I49abccb4735b43aed3155ea7e24b2fa0416c83b2,openstack/ironic,master,I49abccb4735b43aed3155ea7e24b2fa0416c83b2,Add IntelIPMIHardware,MERGED,2019-05-16 12:41:08.000000000,2019-07-09 10:39:44.000000000,2019-07-09 10:39:44.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28429}, {'_account_id': 30100}, {'_account_id': 30427}]","[{'number': 1, 'created': '2019-05-16 12:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dd2fbb8edac416ad3de645acc628179a1dcc01e9', 'message': 'Add IntelIPMIHardware\n\nIntelIPMIHardware is a hardware that supports configuring Intel Speed Select\nPerformance Profile using ipmitool.\n\nChange-Id: I49abccb4735b43aed3155ea7e24b2fa0416c83b2\nStory: 2005390\nTask: 30484\n'}, {'number': 2, 'created': '2019-06-03 16:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/367404725ea0f106f143c04cc1ed051a5ce582f9', 'message': 'Add IntelIPMIHardware\n\nIntelIPMIHardware is a hardware that supports configuring Intel Speed Select\nPerformance Profile using ipmitool.\n\nChange-Id: I49abccb4735b43aed3155ea7e24b2fa0416c83b2\nStory: 2005390\nTask: 30484\n'}, {'number': 3, 'created': '2019-06-03 16:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/46f199bfdb1c61aba5f7f44129418190c5c02dbf', 'message': 'Add IntelIPMIHardware\n\nIntelIPMIHardware is a hardware that supports configuring Intel Speed Select\nPerformance Profile using ipmitool.\n\nChange-Id: I49abccb4735b43aed3155ea7e24b2fa0416c83b2\nStory: 2005390\nTask: 30484\n'}, {'number': 4, 'created': '2019-06-17 06:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/474835d847359bcf5f86bc6104f924b6f7e95ba1', 'message': 'Add IntelIPMIHardware\n\nIntelIPMIHardware is a hardware that supports configuring Intel Speed Select\nPerformance Profile using ipmitool.\n\nChange-Id: I49abccb4735b43aed3155ea7e24b2fa0416c83b2\nStory: 2005390\nTask: 30484\n'}, {'number': 5, 'created': '2019-06-19 09:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2998cdc8b2ff13630061d5c502932467f99e5b5f', 'message': 'Add IntelIPMIHardware\n\nIntelIPMIHardware is a hardware that supports configuring Intel Speed Select\nPerformance Profile using ipmitool.\n\nChange-Id: I49abccb4735b43aed3155ea7e24b2fa0416c83b2\nStory: 2005390\nTask: 30484\n'}, {'number': 6, 'created': '2019-06-20 05:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f9735ffe2091c26f469020f37c90e47502c038c', 'message': 'Add IntelIPMIHardware\n\nIntelIPMIHardware is a hardware that supports configuring Intel Speed Select\nPerformance Profile using ipmitool.\n\nChange-Id: I49abccb4735b43aed3155ea7e24b2fa0416c83b2\nStory: 2005390\nTask: 30484\n'}, {'number': 7, 'created': '2019-06-20 09:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/41d9e9c7b96d6e3abeda22d25fc00bc22187d5cb', 'message': 'Add IntelIPMIHardware\n\nIntelIPMIHardware is a hardware that supports configuring Intel Speed Select\nPerformance Profile using ipmitool.\n\nChange-Id: I49abccb4735b43aed3155ea7e24b2fa0416c83b2\nStory: 2005390\nTask: 30484\n'}, {'number': 8, 'created': '2019-06-25 08:42:58.000000000', 'files': ['releasenotes/notes/intel-ipmi-hardware-30aaa65cdbcb779a.yaml', 'ironic/tests/unit/drivers/modules/intel_ipmi/base.py', 'ironic/drivers/intel_ipmi.py', 'ironic/tests/unit/drivers/modules/intel_ipmi/test_management.py', 'ironic/drivers/modules/intel_ipmi/__init__.py', 'ironic/tests/unit/drivers/modules/intel_ipmi/__init__.py', 'setup.cfg', 'ironic/drivers/modules/intel_ipmi/management.py', 'ironic/tests/unit/drivers/modules/intel_ipmi/test_intel_ipmi.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5127b6f6ddaddba329e2e250399b334a6a58dbba', 'message': 'Add IntelIPMIHardware\n\nIntelIPMIHardware is a hardware that supports configuring Intel Speed Select\nPerformance Profile using ipmitool.\n\nChange-Id: I49abccb4735b43aed3155ea7e24b2fa0416c83b2\nStory: 2005390\nTask: 30484\n'}]",60,659550,5127b6f6ddaddba329e2e250399b334a6a58dbba,66,13,8,10206,,,0,"Add IntelIPMIHardware

IntelIPMIHardware is a hardware that supports configuring Intel Speed Select
Performance Profile using ipmitool.

Change-Id: I49abccb4735b43aed3155ea7e24b2fa0416c83b2
Story: 2005390
Task: 30484
",git fetch https://review.opendev.org/openstack/ironic refs/changes/50/659550/6 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/intel_ipmi.py', 'ironic/tests/unit/drivers/test_intel_ipmi.py', 'ironic/tests/unit/drivers/modules/intel_ipmi/test_management.py', 'ironic/drivers/modules/intel_ipmi/__init__.py', 'ironic/tests/unit/drivers/modules/intel_ipmi/__init__.py', 'setup.cfg', 'ironic/drivers/modules/intel_ipmi/management.py']",7,dd2fbb8edac416ad3de645acc628179a1dcc01e9,intel_ipmi,"# coding=utf-8 # Copyright 2012 Hewlett-Packard Development Company, L.P. # Copyright (c) 2012 NTT DOCOMO, INC. # Copyright 2014 International Business Machines Corporation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Intel IPMI Hardware. Supports Intel Speed Select Performance Profile. """""" from oslo_log import log as logging from ironic.common.i18n import _ from ironic.drivers import base from ironic.drivers.modules import ipmitool LOG = logging.getLogger(__name__) class IntelIPMIManagement(ipmitool.IPMIManagement): @base.deploy_step(priority=200, argsinfo={ 'intel_speedselect_config': { 'description': ( ""Hexadecimal code of Intel SST-PP configuration."" ), 'required': True }, 'socket_count': { 'description': ( ""No. of sockets."" ) } }) def configure_intel_speedselect(self, task, **kwargs): config = kwargs.get('intel_speedselect_config') sockets = kwargs.get('socket_count') LOG.debug(""Going to set Intel SST-PP %(config)s configuration level "" ""for node %(node)s"", {""config"": config, ""node"": task.node.uuid}) self._configure_intel_speed_select(task, config, sockets) return None def _configure_intel_speed_select(self, task, config, sockets): iss_conf = ""0x2c 0x41 0x04 0x00 0x0%s %s"" socket_count = sockets or 1 for socket in range(socket_count): hexa_code = iss_conf % (socket, config) LOG.error(""Madhuri ==========%s"" % hexa_code) ipmitool.send_raw(task, hexa_code) ",,230,0
openstack%2Fblazar~master~I5af911e4467f2dff329cee5b8954ddbb024a7373,openstack/blazar,master,I5af911e4467f2dff329cee5b8954ddbb024a7373,Update the constraints url,MERGED,2019-07-04 11:11:45.000000000,2019-07-09 10:13:54.000000000,2019-07-09 10:13:54.000000000,"[{'_account_id': 13192}, {'_account_id': 15197}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-04 11:11:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar/commit/ba489b5d39a36f935be99fa2ac77b14102a99330', 'message': 'Update the constraints url\n\nFor more detail, please refer:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I5af911e4467f2dff329cee5b8954ddbb024a7373\n'}]",0,669144,ba489b5d39a36f935be99fa2ac77b14102a99330,9,4,1,18955,,,0,"Update the constraints url

For more detail, please refer:
http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I5af911e4467f2dff329cee5b8954ddbb024a7373
",git fetch https://review.opendev.org/openstack/blazar refs/changes/44/669144/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ba489b5d39a36f935be99fa2ac77b14102a99330,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fblazar~master~I75230c0244dc9f32eacd388c4bcc4d7b27e53f74,openstack/blazar,master,I75230c0244dc9f32eacd388c4bcc4d7b27e53f74,Add Python 3 Train unit tests,MERGED,2019-06-21 21:15:52.000000000,2019-07-09 10:13:51.000000000,2019-07-09 10:13:51.000000000,"[{'_account_id': 4257}, {'_account_id': 8878}, {'_account_id': 13192}, {'_account_id': 15197}, {'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 21:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/eafe68a4ac1deef4cc8ed0c394585359e5bb1f34', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I75230c0244dc9f32eacd388c4bcc4d7b27e53f74\nStory: #2005924\nTask: #34199\n'}, {'number': 2, 'created': '2019-07-02 10:30:31.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar/commit/b5e445da614be305da383c984fb8944bfcdb6841', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I75230c0244dc9f32eacd388c4bcc4d7b27e53f74\nStory: #2005924\nTask: #34199\n'}]",0,666924,b5e445da614be305da383c984fb8944bfcdb6841,18,6,2,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I75230c0244dc9f32eacd388c4bcc4d7b27e53f74
Story: #2005924
Task: #34199
",git fetch https://review.opendev.org/openstack/blazar refs/changes/24/666924/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,eafe68a4ac1deef4cc8ed0c394585359e5bb1f34,python3-train,"envlist = py27,py36,py37,pep8","envlist = py35,py27,pep8",4,5
openstack%2Fkolla-ansible~master~I58f8fd0a6e82cb614e02fef6e5b271af1d1ce9af,openstack/kolla-ansible,master,I58f8fd0a6e82cb614e02fef6e5b271af1d1ce9af,Fix nova deploy with Ansible<2.8,MERGED,2019-07-08 18:08:20.000000000,2019-07-09 09:34:05.000000000,2019-07-09 09:33:28.000000000,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-08 18:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/37abf321890a8dfa75ed131d5e583ed4cea0f1de', 'message': 'Fix nova deploy with Ansible<2.8\n\nDue to a bug in ansible, kolla-ansible deploy currently fails in nova\nwith the following error when used with ansible earlier than 2.8:\n\nTASK [nova : Waiting for nova-compute services to register themselves]\n*********\ntask path:\n/home/zuul/src/opendev.org/openstack/kolla-ansible/ansible/roles/nova/tasks/discover_computes.yml:30\nfatal: [primary]: FAILED! => {\n    ""failed"": true,\n    ""msg"": ""The field \'vars\' has an invalid value, which\n        includes an undefined variable. The error was:\n        \'nova_compute_services\' is undefined\\n\\nThe error\n        appears to have been in\n        \'/home/zuul/src/opendev.org/openstack/kolla-ansible/ansible/roles/nova/tasks/discover_computes.yml\':\n        line 30, column 3, but may\\nbe elsewhere in the file\n        depending on the exact syntax problem.\\n\\nThe\n        offending line appears to be:\\n\\n\\n- name: Waiting\n        for nova-compute services to register themselves\\n ^\n            here\\n""\n}\n\nExample:\nhttp://logs.openstack.org/00/669700/1/check/kolla-ansible-centos-source/81b65b9/primary/logs/ansible/deploy\n\nThis was caused by\nhttps://review.opendev.org/#/q/I2915e2610e5c0b8d67412e7ec77f7575b8fe9921,\nwhich hits upon an ansible bug described here:\nhttps://github.com/markgoddard/ansible-experiments/tree/master/05-referencing-registered-var-do-until.\n\nWe can work around this by not using an intermediary variable.\n\nChange-Id: I58f8fd0a6e82cb614e02fef6e5b271af1d1ce9af\nCloses-Bug: #1835817\n'}, {'number': 2, 'created': '2019-07-08 19:58:55.000000000', 'files': ['ansible/roles/nova/tasks/discover_computes.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5be093ac5a7b6fb85a4448cd9d0fd1e94f622061', 'message': 'Fix nova deploy with Ansible<2.8\n\nDue to a bug in ansible, kolla-ansible deploy currently fails in nova\nwith the following error when used with ansible earlier than 2.8:\n\nTASK [nova : Waiting for nova-compute services to register themselves]\n*********\ntask path:\n/home/zuul/src/opendev.org/openstack/kolla-ansible/ansible/roles/nova/tasks/discover_computes.yml:30\nfatal: [primary]: FAILED! => {\n    ""failed"": true,\n    ""msg"": ""The field \'vars\' has an invalid value, which\n        includes an undefined variable. The error was:\n        \'nova_compute_services\' is undefined\\n\\nThe error\n        appears to have been in\n        \'/home/zuul/src/opendev.org/openstack/kolla-ansible/ansible/roles/nova/tasks/discover_computes.yml\':\n        line 30, column 3, but may\\nbe elsewhere in the file\n        depending on the exact syntax problem.\\n\\nThe\n        offending line appears to be:\\n\\n\\n- name: Waiting\n        for nova-compute services to register themselves\\n ^\n            here\\n""\n}\n\nExample:\nhttp://logs.openstack.org/00/669700/1/check/kolla-ansible-centos-source/81b65b9/primary/logs/ansible/deploy\n\nThis was caused by\nhttps://review.opendev.org/#/q/I2915e2610e5c0b8d67412e7ec77f7575b8fe9921,\nwhich hits upon an ansible bug described here:\nhttps://github.com/markgoddard/ansible-experiments/tree/master/05-referencing-registered-var-do-until.\n\nWe can work around this by not using an intermediary variable.\n\nChange-Id: I58f8fd0a6e82cb614e02fef6e5b271af1d1ce9af\nCloses-Bug: #1835817\n'}]",1,669730,5be093ac5a7b6fb85a4448cd9d0fd1e94f622061,12,3,2,14826,,,0,"Fix nova deploy with Ansible<2.8

Due to a bug in ansible, kolla-ansible deploy currently fails in nova
with the following error when used with ansible earlier than 2.8:

TASK [nova : Waiting for nova-compute services to register themselves]
*********
task path:
/home/zuul/src/opendev.org/openstack/kolla-ansible/ansible/roles/nova/tasks/discover_computes.yml:30
fatal: [primary]: FAILED! => {
    ""failed"": true,
    ""msg"": ""The field 'vars' has an invalid value, which
        includes an undefined variable. The error was:
        'nova_compute_services' is undefined\n\nThe error
        appears to have been in
        '/home/zuul/src/opendev.org/openstack/kolla-ansible/ansible/roles/nova/tasks/discover_computes.yml':
        line 30, column 3, but may\nbe elsewhere in the file
        depending on the exact syntax problem.\n\nThe
        offending line appears to be:\n\n\n- name: Waiting
        for nova-compute services to register themselves\n ^
            here\n""
}

Example:
http://logs.openstack.org/00/669700/1/check/kolla-ansible-centos-source/81b65b9/primary/logs/ansible/deploy

This was caused by
https://review.opendev.org/#/q/I2915e2610e5c0b8d67412e7ec77f7575b8fe9921,
which hits upon an ansible bug described here:
https://github.com/markgoddard/ansible-experiments/tree/master/05-referencing-registered-var-do-until.

We can work around this by not using an intermediary variable.

Change-Id: I58f8fd0a6e82cb614e02fef6e5b271af1d1ce9af
Closes-Bug: #1835817
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/669730/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/discover_computes.yml'],1,37abf321890a8dfa75ed131d5e583ed4cea0f1de,bug/1835817," # A list containing the 'Host' field of compute services that have # registered themselves. Don't exclude compute services that are disabled # since these could have been explicitly disabled by the operator. While we # could exclude services that are down, the nova-manage cell_v2 # discover_hosts does not do this so let's not block on it here. - (nova_compute_services.stdout | from_json | map(attribute='Host') | list) is superset(expected_compute_service_hosts)"," vars: # A list containing the 'Host' field of compute services that have # registered themselves. Don't exclude compute services that are disabled # since these could have been explicitly disabled by the operator. While we # could exclude services that are down, the nova-manage cell_v2 # discover_hosts does not do this so let's not block on it here. found_compute_service_hosts: >- {{ nova_compute_services.stdout | from_json | map(attribute='Host') | list }} - found_compute_service_hosts is superset(expected_compute_service_hosts)",10,12
openstack%2Fkuryr-kubernetes~master~I2f3c18a64cdffa71fb1faacdd34f6972319164e9,openstack/kuryr-kubernetes,master,I2f3c18a64cdffa71fb1faacdd34f6972319164e9,Speed up pools prepopulation on namespace creation,MERGED,2019-07-02 12:05:44.000000000,2019-07-09 09:27:36.000000000,2019-07-09 09:27:36.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-07-02 12:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/73ef3bb3e99c79d89e6f7925f0d60928adbb0c4f', 'message': 'Speed up pools prepopulation on namespace creation\n\nIf the amount of nodes is large, prepopulating the pools on each\nnode when a namespace is created may take a considerable amount\nof time. To limit the impact this patch ensures the initial\nprepopulation is not as large as the normal ones that happen node\nby node depending on the needs.\n\nChange-Id: I2f3c18a64cdffa71fb1faacdd34f6972319164e9\n'}, {'number': 2, 'created': '2019-07-05 10:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/572cc575a3251ef60be77c2fad7ae5c46a5c9677', 'message': 'Speed up pools prepopulation on namespace creation\n\nIf the amount of nodes is large, prepopulating the pools on each\nnode when a namespace is created may take a considerable amount\nof time. To limit the impact this patch ensures the initial\nprepopulation is not as large as the normal ones that happen node\nby node depending on the needs.\n\nThis patch also sets new defaults for the pools to adapt to both\nthe network per namespace instead of having all pods in the same\nsubnet, as well as to env with larger amount of nodes.\n\nChange-Id: I2f3c18a64cdffa71fb1faacdd34f6972319164e9\n'}, {'number': 3, 'created': '2019-07-05 11:26:04.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1347e93207e197aea074f8d39bdc64ec6d0aaeb0', 'message': 'Speed up pools prepopulation on namespace creation\n\nIf the amount of nodes is large, prepopulating the pools on each\nnode when a namespace is created may take a considerable amount\nof time. To limit the impact this patch ensures the initial\nprepopulation is not as large as the normal ones that happen node\nby node depending on the needs.\n\nChange-Id: I2f3c18a64cdffa71fb1faacdd34f6972319164e9\n'}]",0,668661,1347e93207e197aea074f8d39bdc64ec6d0aaeb0,13,6,3,23567,,,0,"Speed up pools prepopulation on namespace creation

If the amount of nodes is large, prepopulating the pools on each
node when a namespace is created may take a considerable amount
of time. To limit the impact this patch ensures the initial
prepopulation is not as large as the normal ones that happen node
by node depending on the needs.

Change-Id: I2f3c18a64cdffa71fb1faacdd34f6972319164e9
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/61/668661/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/vif_pool.py'],1,73ef3bb3e99c79d89e6f7925f0d60928adbb0c4f,pools-prepopulation," def populate_pool(self, trunk_ip, project_id, subnets, security_groups): # NOTE(ltomasbo): If the amount of nodes is large the repopulation # actions may take too long. Using half of the batch to prevent # the problem num_ports = max(oslo_cfg.CONF.vif_pool.ports_pool_batch/2, oslo_cfg.CONF.vif_pool.ports_pool_min)"," def populate_pool(self, trunk_ip, project_id, subnets, security_groups, num_ports=None):",6,2
openstack%2Ftempest~master~Ifec2e45761961bc4dfc3b5c11709c0ac9e81855f,openstack/tempest,master,Ifec2e45761961bc4dfc3b5c11709c0ac9e81855f,Remove cyborg-tempest-plugin from BLACKLIST,MERGED,2019-07-04 07:17:08.000000000,2019-07-09 09:19:50.000000000,2019-07-09 09:19:50.000000000,"[{'_account_id': 6167}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-04 07:17:08.000000000', 'files': ['tools/generate-tempest-plugins-list.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3f5748906ba156e7c0434661642560414f1e107c', 'message': 'Remove cyborg-tempest-plugin from BLACKLIST\n\nThis commit removes the cyborg-tempest-plugin entry from the BLACKLIST\nsince the patch was already merged and this plugin should pass the\nsanity job now.\n\nChange-Id: Ifec2e45761961bc4dfc3b5c11709c0ac9e81855f\n'}]",0,669071,3f5748906ba156e7c0434661642560414f1e107c,7,3,1,5689,,,0,"Remove cyborg-tempest-plugin from BLACKLIST

This commit removes the cyborg-tempest-plugin entry from the BLACKLIST
since the patch was already merged and this plugin should pass the
sanity job now.

Change-Id: Ifec2e45761961bc4dfc3b5c11709c0ac9e81855f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/71/669071/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/generate-tempest-plugins-list.py'],1,3f5748906ba156e7c0434661642560414f1e107c,remove-cyborg-plugin-from-blacklist,," 'openstack/cyborg-tempest-plugin', # https://review.opendev.org/659687",0,1
openstack%2Ftripleo-puppet-elements~master~Iaabaf571f6ec3c08db16a309a845d3bd4c150e1a,openstack/tripleo-puppet-elements,master,Iaabaf571f6ec3c08db16a309a845d3bd4c150e1a,Stop and disable libvirtd service on controller,MERGED,2019-07-03 10:25:24.000000000,2019-07-09 09:18:42.000000000,2019-07-08 08:31:54.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-03 10:25:24.000000000', 'files': ['elements/overcloud-controller/post-install.d/51-disable-libvirtd-service'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/6a1b92d402f427e558101589e6d8145f880b2ccf', 'message': 'Stop and disable libvirtd service on controller\n\nThe libvirtd service is enabled and running unnecessarily on\ncontroller node.\nThis change disables and stop the libvirtd service on controller\nnodes.\n\nChange-Id: Iaabaf571f6ec3c08db16a309a845d3bd4c150e1a\n'}]",1,668860,6a1b92d402f427e558101589e6d8145f880b2ccf,13,11,1,20733,,,0,"Stop and disable libvirtd service on controller

The libvirtd service is enabled and running unnecessarily on
controller node.
This change disables and stop the libvirtd service on controller
nodes.

Change-Id: Iaabaf571f6ec3c08db16a309a845d3bd4c150e1a
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/60/668860/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-controller/post-install.d/51-disable-libvirtd-service'],1,6a1b92d402f427e558101589e6d8145f880b2ccf,disable_libvirt,#!/bin/bash set -eux set -o pipefail systemctl stop libvirtd systemctl disable libvirtd ,,7,0
openstack%2Fzaqar~master~I9d91a31798aaaa54fa0edb6adb98d6130cfe4249,openstack/zaqar,master,I9d91a31798aaaa54fa0edb6adb98d6130cfe4249,Imported Translations from Zanata,MERGED,2019-06-06 10:40:07.000000000,2019-07-09 09:11:06.000000000,2019-07-09 09:11:05.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 10:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/01ffc95eec9dffa1a240f4d2989a579465b576cc', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9d91a31798aaaa54fa0edb6adb98d6130cfe4249\n'}, {'number': 2, 'created': '2019-07-08 06:23:12.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/0a5f0ed5d98d6470d264cf15944aabd5ba079a57', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9d91a31798aaaa54fa0edb6adb98d6130cfe4249\n'}]",0,663594,0a5f0ed5d98d6470d264cf15944aabd5ba079a57,11,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9d91a31798aaaa54fa0edb6adb98d6130cfe4249
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/94/663594/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",2,01ffc95eec9dffa1a240f4d2989a579465b576cc,zanata/translations,"""POT-Creation-Date: 2019-06-05 12:00+0000\n""""PO-Revision-Date: 2018-12-26 06:23+0000\n""msgid """" ""Add an new option named 'message_delete_with_claim_id', when it is True, "" ""delete messages must need claim_ids and message_ids both in request "" ""parameters. This will improve the security of the message."" msgstr """" ""Add an new option named 'message_delete_with_claim_id', when it is True, "" ""delete messages must need claim_ids and message_ids both in request "" ""parameters. This will improve the security of the message."" msgid ""Added new tool ``zaqar-status upgrade check``."" msgstr ""Added new tool ``zaqar-status upgrade check``."" ""Currently the email subscription in Zaqar relay on the third part tools, "" ""such as \""sendmail\"". It means that deployer should install it out of Zaqar. "" ""If he forgets, Zaqar will raise internal error. This work let Zaqar support "" ""email subscription by itself using the ``smtp`` python library."" msgstr """" ""Currently the email subscriptions in Zaqar rely on the third part tools, "" ""such as \""sendmail\"". It means that deployer should install it out of Zaqar. "" ""If he forgets, Zaqar will raise internal error. This work let Zaqar support "" ""email subscription by itself using the ``smtp`` python library."" msgid """"msgid """" ""New framework for ``zaqar-status upgrade check`` command is added. This "" ""framework allows adding various checks which can be run before a Zaqar "" ""upgrade to ensure if the upgrade can be performed safely."" msgstr """" ""New framework for ``zaqar-status upgrade check`` command is added. This "" ""framework allows adding various checks which can be run before a Zaqar "" ""upgrade to ensure if the upgrade can be performed safely."" msgid """" ""Operator can now use new CLI tool ``zaqar-status upgrade check`` to check if "" ""Zaqar deployment can be safely upgraded from N-1 to N release."" msgstr """" ""Operator can now use new CLI tool ``zaqar-status upgrade check`` to check if "" ""Zaqar deployment can be safely upgraded from N-1 to N release."" msgid ""Prelude"" msgstr ""Prelude"" msgid ""Upgrade Notes"" msgstr ""Upgrade Notes"" ","""POT-Creation-Date: 2019-04-25 08:05+0000\n""""PO-Revision-Date: 2018-10-25 04:35+0000\n""",96,3
openstack%2Fkuryr-kubernetes~stable%2Frocky~I4ce376956b66047069b6544d36f5c3d47fa38b01,openstack/kuryr-kubernetes,stable/rocky,I4ce376956b66047069b6544d36f5c3d47fa38b01,Fix adding pods with host networking to svc in L2 mode,MERGED,2019-07-02 06:29:35.000000000,2019-07-09 09:06:42.000000000,2019-07-09 09:06:42.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 06:29:35.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/30efd609515250de236991e286fbcde10487cb62', 'message': 'Fix adding pods with host networking to svc in L2 mode\n\nIf L2 mode is used for services, there is a need for stating the\nsubnet the pods belong to when adding them as members of the load\nbalancer. If these pods have host networking, then their IPs will\nnot be neither in the subnet CIDR range for the default pod subnet,\nnor on the namespace subnet CIDR if namespace subnet driver is used.\n\nTo overcome this, we assume that in case the pod IP is not within\nthose ranges it means it is running on host networking mode. And\nthus the worker_node_subnet CIDR range should be used instead.\n\nChange-Id: I4ce376956b66047069b6544d36f5c3d47fa38b01\nCloses-Bug: 1834605\n(cherry picked from commit 0345cd86c801f635e7dcaccc3768b28e3b3e8439)\n'}]",0,668609,30efd609515250de236991e286fbcde10487cb62,7,5,1,23567,,,0,"Fix adding pods with host networking to svc in L2 mode

If L2 mode is used for services, there is a need for stating the
subnet the pods belong to when adding them as members of the load
balancer. If these pods have host networking, then their IPs will
not be neither in the subnet CIDR range for the default pod subnet,
nor on the namespace subnet CIDR if namespace subnet driver is used.

To overcome this, we assume that in case the pod IP is not within
those ranges it means it is running on host networking mode. And
thus the worker_node_subnet CIDR range should be used instead.

Change-Id: I4ce376956b66047069b6544d36f5c3d47fa38b01
Closes-Bug: 1834605
(cherry picked from commit 0345cd86c801f635e7dcaccc3768b28e3b3e8439)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/09/668609/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/lbaas.py'],1,30efd609515250de236991e286fbcde10487cb62,bug/1834605-stable/rocky," subnet_ids = [subnet_id for subnet_id, network in subnets_map.items() for subnet in network.subnets.objects if ip in subnet.cidr] if subnet_ids: return subnet_ids[0] else: # NOTE(ltomasbo): We are assuming that if ip is not on the # pod subnet is because the member is using hostnetworking. In # this worker_nodes_subnet will be used return config.CONF.pod_vif_nested.worker_nodes_subnet"," # FIXME(ivc): potentially unsafe [0] index return [subnet_id for subnet_id, network in subnets_map.items() for subnet in network.subnets.objects if ip in subnet.cidr][0]",10,4
openstack%2Fkuryr-kubernetes~stable%2Fstein~I7eb253ef49cfc3a9808679123bbc9d14b3284d9e,openstack/kuryr-kubernetes,stable/stein,I7eb253ef49cfc3a9808679123bbc9d14b3284d9e,Support None from Octavia get_api_major_version(),MERGED,2019-07-02 06:44:36.000000000,2019-07-09 09:06:41.000000000,2019-07-09 09:06:41.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-02 06:44:36.000000000', 'files': ['kuryr_kubernetes/controller/drivers/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/86a331c65f16f316b13502ce61a2f97a0cfc2a9b', 'message': 'Support None from Octavia get_api_major_version()\n\nChange-Id: I7eb253ef49cfc3a9808679123bbc9d14b3284d9e\nCloses-Bug: 1834301\n(cherry picked from commit 446a73fc691d5eda786ba6e8be50e1be012adf9a)\n'}]",0,668614,86a331c65f16f316b13502ce61a2f97a0cfc2a9b,8,6,1,23567,,,0,"Support None from Octavia get_api_major_version()

Change-Id: I7eb253ef49cfc3a9808679123bbc9d14b3284d9e
Closes-Bug: 1834301
(cherry picked from commit 446a73fc691d5eda786ba6e8be50e1be012adf9a)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/14/668614/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/lbaasv2.py'],1,86a331c65f16f316b13502ce61a2f97a0cfc2a9b,bug/1834301-stable/stein," if v is None: v_str = 'unknown' else: v_str = '%d.%d' % v 'API %s does not support resource tagging. Kuryr ' 'Octavia resources.', v_str)"," 'API %d.%d does not support resource tagging. Kuryr ' 'Octavia resources.', *v)",6,2
openstack%2Fkuryr-kubernetes~stable%2Fstein~I4ce376956b66047069b6544d36f5c3d47fa38b01,openstack/kuryr-kubernetes,stable/stein,I4ce376956b66047069b6544d36f5c3d47fa38b01,Fix adding pods with host networking to svc in L2 mode,MERGED,2019-07-02 06:28:33.000000000,2019-07-09 09:06:41.000000000,2019-07-09 09:06:41.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-02 06:28:33.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/64567e108431498f95231b25be4ab7179e449928', 'message': 'Fix adding pods with host networking to svc in L2 mode\n\nIf L2 mode is used for services, there is a need for stating the\nsubnet the pods belong to when adding them as members of the load\nbalancer. If these pods have host networking, then their IPs will\nnot be neither in the subnet CIDR range for the default pod subnet,\nnor on the namespace subnet CIDR if namespace subnet driver is used.\n\nTo overcome this, we assume that in case the pod IP is not within\nthose ranges it means it is running on host networking mode. And\nthus the worker_node_subnet CIDR range should be used instead.\n\nChange-Id: I4ce376956b66047069b6544d36f5c3d47fa38b01\nCloses-Bug: 1834605\n(cherry picked from commit 0345cd86c801f635e7dcaccc3768b28e3b3e8439)\n'}]",0,668608,64567e108431498f95231b25be4ab7179e449928,8,6,1,23567,,,0,"Fix adding pods with host networking to svc in L2 mode

If L2 mode is used for services, there is a need for stating the
subnet the pods belong to when adding them as members of the load
balancer. If these pods have host networking, then their IPs will
not be neither in the subnet CIDR range for the default pod subnet,
nor on the namespace subnet CIDR if namespace subnet driver is used.

To overcome this, we assume that in case the pod IP is not within
those ranges it means it is running on host networking mode. And
thus the worker_node_subnet CIDR range should be used instead.

Change-Id: I4ce376956b66047069b6544d36f5c3d47fa38b01
Closes-Bug: 1834605
(cherry picked from commit 0345cd86c801f635e7dcaccc3768b28e3b3e8439)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/08/668608/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/lbaas.py'],1,64567e108431498f95231b25be4ab7179e449928,bug/1834605-stable/stein," subnet_ids = [subnet_id for subnet_id, network in subnets_map.items() for subnet in network.subnets.objects if ip in subnet.cidr] if subnet_ids: return subnet_ids[0] else: # NOTE(ltomasbo): We are assuming that if ip is not on the # pod subnet is because the member is using hostnetworking. In # this worker_nodes_subnet will be used return config.CONF.pod_vif_nested.worker_nodes_subnet"," # FIXME(ivc): potentially unsafe [0] index return [subnet_id for subnet_id, network in subnets_map.items() for subnet in network.subnets.objects if ip in subnet.cidr][0]",10,4
openstack%2Faodh~master~I33deff1b7c87d223af33cc8f95273e3795a74065,openstack/aodh,master,I33deff1b7c87d223af33cc8f95273e3795a74065,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-08 02:29:59.000000000,2019-07-09 09:01:02.000000000,2019-07-09 09:01:02.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 02:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/b963816258fa2ae72838e439a82fe030bb4db6d3', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I33deff1b7c87d223af33cc8f95273e3795a74065\n'}, {'number': 2, 'created': '2019-07-08 02:32:43.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/a492d329e4383cfbc6a5dd00588b0671cc8e7161', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I33deff1b7c87d223af33cc8f95273e3795a74065\n'}]",0,669587,a492d329e4383cfbc6a5dd00588b0671cc8e7161,7,2,2,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I33deff1b7c87d223af33cc8f95273e3795a74065
",git fetch https://review.opendev.org/openstack/aodh refs/changes/87/669587/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,b963816258fa2ae72838e439a82fe030bb4db6d3,openstackdocstheme,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.11.0 # Apache-2.0,1,1
openstack%2Fironic~stable%2Fqueens~If5b0c5b69f0f8759136051072c1ff53c6d86217d,openstack/ironic,stable/queens,If5b0c5b69f0f8759136051072c1ff53c6d86217d,Place upper bound on python-dracclient version,MERGED,2019-06-10 22:31:39.000000000,2019-07-09 09:00:04.000000000,2019-07-09 09:00:03.000000000,"[{'_account_id': 7160}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 10379}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-10 22:31:39.000000000', 'files': ['doc/source/admin/drivers/idrac.rst', 'driver-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/65a63c5fd89a3eec4ad6de9b9fa9efb528ca2f1d', 'message': 'Place upper bound on python-dracclient version\n\nThe idrac hardware type requires python-dracclient versions greater than\nor equal to 1.3.0 and less than 2.0.0.\n\nThis is not a backport of a similar change which merged on the master\nand stable/stein branches [1]. That change specifies python-dracclient\nversions greater than or equal to 1.5.0 and less than 3.0.0 are\nrequired.\n\nSubsequently, a change which merged only on master modified the bounds\nto greater than or equal to 3.0.0 and less than 4.0.0 [2].\n\n[1] https://review.opendev.org/#/q/I5f6d6be53aec9d72e8ba5cfa436f12e01966f871\n[2] https://review.opendev.org/#/c/634903/\n\nChange-Id: If5b0c5b69f0f8759136051072c1ff53c6d86217d\n(cherry picked from commit f78ccef3f563427da3fda2add7dfa02c9a419c91)\n'}]",0,664454,65a63c5fd89a3eec4ad6de9b9fa9efb528ca2f1d,18,11,1,23847,,,0,"Place upper bound on python-dracclient version

The idrac hardware type requires python-dracclient versions greater than
or equal to 1.3.0 and less than 2.0.0.

This is not a backport of a similar change which merged on the master
and stable/stein branches [1]. That change specifies python-dracclient
versions greater than or equal to 1.5.0 and less than 3.0.0 are
required.

Subsequently, a change which merged only on master modified the bounds
to greater than or equal to 3.0.0 and less than 4.0.0 [2].

[1] https://review.opendev.org/#/q/I5f6d6be53aec9d72e8ba5cfa436f12e01966f871
[2] https://review.opendev.org/#/c/634903/

Change-Id: If5b0c5b69f0f8759136051072c1ff53c6d86217d
(cherry picked from commit f78ccef3f563427da3fda2add7dfa02c9a419c91)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/54/664454/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/drivers/idrac.rst', 'driver-requirements.txt']",2,65a63c5fd89a3eec4ad6de9b9fa9efb528ca2f1d,,"python-dracclient>=1.3.0,<2.0.0",python-dracclient>=1.3.0,2,2
openstack%2Fhorizon~master~I316f243d4e680457628a0db2cb462013c6e08584,openstack/horizon,master,I316f243d4e680457628a0db2cb462013c6e08584,Hide/Show button-next or button-final corrently,NEW,2019-02-14 09:20:50.000000000,2019-07-09 08:45:30.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 25946}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-02-14 09:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0394bf4ce22aebf07c1cf5605e4ad4a472ff9216', 'message': 'Hide/Show button-next or button-final corrently\n\nOnly when the tab which contains switchable checkbox is active,\nit is valid to check and modify the visibility of button-next\nand button-final. Otherwise, those cases, like assocated case,\nwill appear.\n\nChange-Id: I316f243d4e680457628a0db2cb462013c6e08584\nCloses-Bug: #1815877\n'}, {'number': 2, 'created': '2019-03-28 09:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e5720ff02ea40ecc617c2ea7025012a6093490b2', 'message': ""Hide/Show button-next or button-final corrently\n\nOnly when the tab which contains switchable checkbox is active,\nit is valid to check and modify the visibility of button-next\nand button-final. Otherwise, those cases, like assocated case,\nwill appear.\n\nFrom @Akihiro Motoki's test, we know the first tab is focused.\nAccording [1][2], I found which tab will be focused depending\non entry_ponit. Accorging [3][4], I found required field,\nwhich does't have a value, will cause the case.\nThe fields, physical_netowrk and segmentation_id, are optional,\nand only required when networy type needs them. So, this commit\nalso fix it.\n\n[1]https://github.com/openstack/horizon/blob/master/horizon/templates/horizon/common/_workflow.html#L3\n[2]https://github.com/openstack/horizon/blob/master/horizon/templates/horizon/common/_workflow.html#L25\n[3]https://github.com/openstack/horizon/blob/master/horizon/workflows/base.py#L779\n[4]https://github.com/openstack/horizon/blob/master/horizon/workflows/base.py#L419\n\nChange-Id: I316f243d4e680457628a0db2cb462013c6e08584\nCloses-Bug: #1815877\n""}, {'number': 3, 'created': '2019-03-28 09:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/064032ea1a73a760fa68f387ec0b8d40e43610ec', 'message': ""Hide/Show button-next or button-final corrently\n\nOnly when the tab which contains switchable checkbox is active,\nit is valid to check and modify the visibility of button-next\nand button-final. Otherwise, those cases, like assocated case,\nwill appear.\n\nFrom @Akihiro Motoki's test, we know the first tab is focused.\nAccording [1][2], I found which tab will be focused depending\non entry_ponit. Accorging [3][4], I found required field,\nwhich does't have a value, will cause the case.\nThe fields, physical_netowrk and segmentation_id, are optional,\nand only required when network type needs them. So, this commit\nalso fix it.\n\n[1]https://github.com/openstack/horizon/blob/master/horizon/templates/horizon/common/_workflow.html#L3\n[2]https://github.com/openstack/horizon/blob/master/horizon/templates/horizon/common/_workflow.html#L25\n[3]https://github.com/openstack/horizon/blob/master/horizon/workflows/base.py#L779\n[4]https://github.com/openstack/horizon/blob/master/horizon/workflows/base.py#L419\n\nChange-Id: I316f243d4e680457628a0db2cb462013c6e08584\nCloses-Bug: #1815877\n""}, {'number': 4, 'created': '2019-06-11 02:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c8948342c8a6ed0490f136be9a89b95ca7e7e54a', 'message': ""Hide/Show button-next or button-final corrently\n\nOnly when the tab which contains switchable checkbox is active,\nit is valid to check and modify the visibility of button-next\nand button-final. Otherwise, those cases, like assocated case,\nwill appear.\n\nFrom @Akihiro Motoki's test, we know the first tab is focused.\nAccording [1][2], I found which tab will be focused depending\non entry_ponit. Accorging [3][4], I found required field,\nwhich does't have a value, will cause the case.\nThe fields, physical_netowrk and segmentation_id, are optional,\nand only required when network type needs them. So, this commit\nalso fix it.\n\n[1]https://github.com/openstack/horizon/blob/master/horizon/templates/horizon/common/_workflow.html#L3\n[2]https://github.com/openstack/horizon/blob/master/horizon/templates/horizon/common/_workflow.html#L25\n[3]https://github.com/openstack/horizon/blob/master/horizon/workflows/base.py#L779\n[4]https://github.com/openstack/horizon/blob/master/horizon/workflows/base.py#L419\n\nChange-Id: I316f243d4e680457628a0db2cb462013c6e08584\nCloses-Bug: #1815877\n""}, {'number': 5, 'created': '2019-06-11 03:11:16.000000000', 'files': ['openstack_dashboard/dashboards/admin/networks/forms.py', 'horizon/static/horizon/js/horizon.forms.js', 'openstack_dashboard/dashboards/project/networks/workflows.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d56394d0f4fcc3d34938fc7496336457eecfc014', 'message': ""Hide/Show button-next or button-final corrently\n\nOnly when the tab which contains switchable checkbox is active,\nit is valid to check and modify the visibility of button-next\nand button-final. Otherwise, those cases, like assocated case,\nwill appear.\n\nFrom @Akihiro Motoki's test, we know the first tab is focused.\nAccording [1][2], I found which tab will be focused depending\non entry_ponit. Accorging [3][4], I found required field,\nwhich does't have a value, will cause the case.\nThe fields, physical_netowrk and segmentation_id, are optional,\nand only required when network type needs them. So, this commit\nalso fix it.\n\n[1]https://github.com/openstack/horizon/blob/master/horizon/templates/horizon/common/_workflow.html#L3\n[2]https://github.com/openstack/horizon/blob/master/horizon/templates/horizon/common/_workflow.html#L25\n[3]https://github.com/openstack/horizon/blob/master/horizon/workflows/base.py#L779\n[4]https://github.com/openstack/horizon/blob/master/horizon/workflows/base.py#L419\n\nChange-Id: I316f243d4e680457628a0db2cb462013c6e08584\nCloses-Bug: #1815877\n""}]",0,636864,d56394d0f4fcc3d34938fc7496336457eecfc014,20,5,5,25946,,,0,"Hide/Show button-next or button-final corrently

Only when the tab which contains switchable checkbox is active,
it is valid to check and modify the visibility of button-next
and button-final. Otherwise, those cases, like assocated case,
will appear.

From @Akihiro Motoki's test, we know the first tab is focused.
According [1][2], I found which tab will be focused depending
on entry_ponit. Accorging [3][4], I found required field,
which does't have a value, will cause the case.
The fields, physical_netowrk and segmentation_id, are optional,
and only required when network type needs them. So, this commit
also fix it.

[1]https://github.com/openstack/horizon/blob/master/horizon/templates/horizon/common/_workflow.html#L3
[2]https://github.com/openstack/horizon/blob/master/horizon/templates/horizon/common/_workflow.html#L25
[3]https://github.com/openstack/horizon/blob/master/horizon/workflows/base.py#L779
[4]https://github.com/openstack/horizon/blob/master/horizon/workflows/base.py#L419

Change-Id: I316f243d4e680457628a0db2cb462013c6e08584
Closes-Bug: #1815877
",git fetch https://review.opendev.org/openstack/horizon refs/changes/64/636864/2 && git format-patch -1 --stdout FETCH_HEAD,['horizon/static/horizon/js/horizon.forms.js'],1,0394bf4ce22aebf07c1cf5605e4ad4a472ff9216,bug/1815877," // hide/show button-next or button-final only when the current tab is active var currentTab = $fieldset.attr('id'); if ($('*[data-target=""#' + currentTab + '""]').parent().hasClass('active')) { var $btnfinal = $('.button-final'); if(checked == hide_on) { $('.button-next').hide(); $btnfinal.show(); $btnfinal.data('show-on-tab', $fieldset.prop('id')); } else{ $btnfinal.hide(); $('.button-next').show(); $btnfinal.removeData('show-on-tab'); }"," // hide/show button-next or button-final var $btnfinal = $('.button-final'); if(checked == hide_on) { $('.button-next').hide(); $btnfinal.show(); $btnfinal.data('show-on-tab', $fieldset.prop('id')); } else{ $btnfinal.hide(); $('.button-next').show(); $btnfinal.removeData('show-on-tab');",13,10
openstack%2Fwatcher~master~I4ab3e1a63dc6f61cdc3e99fa2cae749a711459cc,openstack/watcher,master,I4ab3e1a63dc6f61cdc3e99fa2cae749a711459cc,remove baremetal nodes from hypversior list,MERGED,2019-07-04 08:42:07.000000000,2019-07-09 08:39:44.000000000,2019-07-09 08:38:45.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-07-04 08:42:07.000000000', 'files': ['watcher/common/nova_helper.py', 'watcher/tests/common/test_nova_helper.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/ac53dbf005f636a60ac506750d7532886578a6ba', 'message': 'remove baremetal nodes from hypversior list\n\nopenstack hypervisor list contains ironic nodes. we should\nfilter out baremetal nodes when get compute node list.\n\nChange-Id: I4ab3e1a63dc6f61cdc3e99fa2cae749a711459cc\nCloses-Bug: #1835183\n'}]",0,669109,ac53dbf005f636a60ac506750d7532886578a6ba,7,4,1,21692,,,0,"remove baremetal nodes from hypversior list

openstack hypervisor list contains ironic nodes. we should
filter out baremetal nodes when get compute node list.

Change-Id: I4ab3e1a63dc6f61cdc3e99fa2cae749a711459cc
Closes-Bug: #1835183
",git fetch https://review.opendev.org/openstack/watcher refs/changes/09/669109/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/common/nova_helper.py', 'watcher/tests/common/test_nova_helper.py']",2,ac53dbf005f636a60ac506750d7532886578a6ba,bug/1835183," hypervisor.hypervisor_type = kwargs.pop('hypervisor_type', 'QEMU') def test_get_compute_node_list( self, mock_glance, mock_cinder, mock_neutron, mock_nova): nova_util = nova_helper.NovaHelper() hypervisor1_id = utils.generate_uuid() hypervisor1_name = ""fake_hypervisor_1"" hypervisor1 = self.fake_hypervisor( hypervisor1_id, hypervisor1_name, hypervisor_type=""QEMU"") hypervisor2_id = utils.generate_uuid() hypervisor2_name = ""fake_ironic"" hypervisor2 = self.fake_hypervisor( hypervisor2_id, hypervisor2_name, hypervisor_type=""ironic"") nova_util.nova.hypervisors.list.return_value = [hypervisor1, hypervisor2] compute_nodes = nova_util.get_compute_node_list() # baremetal node should be removed self.assertEqual(1, len(compute_nodes)) self.assertEqual(hypervisor1_name, compute_nodes[0].hypervisor_hostname)",,29,1
openstack%2Frpm-packaging~master~I61f6d0dba4992038661e2ad285e51baf09a76ec7,openstack/rpm-packaging,master,I61f6d0dba4992038661e2ad285e51baf09a76ec7,Update qinlingclient to 2.2.0,MERGED,2019-07-05 06:56:54.000000000,2019-07-09 08:28:11.000000000,2019-07-09 08:28:11.000000000,"[{'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-05 06:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c04ab3415313653fb712fb4962ea4fa4632eb155', 'message': 'Update qinlingclient to 2.2.0\n\nChange-Id: I61f6d0dba4992038661e2ad285e51baf09a76ec7\n'}, {'number': 2, 'created': '2019-07-08 06:45:51.000000000', 'files': ['openstack/python-qinlingclient/python-qinlingclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5a416dacc8bfce93bb1c92de32e544120cc6311c', 'message': 'Update qinlingclient to 2.2.0\n\nChange-Id: I61f6d0dba4992038661e2ad285e51baf09a76ec7\n'}]",0,669273,5a416dacc8bfce93bb1c92de32e544120cc6311c,13,4,2,6593,,,0,"Update qinlingclient to 2.2.0

Change-Id: I61f6d0dba4992038661e2ad285e51baf09a76ec7
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/73/669273/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-qinlingclient/python-qinlingclient.spec.j2'],1,c04ab3415313653fb712fb4962ea4fa4632eb155,oslo_07,{% set upstream_version = upstream_version('2.2.0') %},{% set upstream_version = upstream_version('2.1.0') %},1,1
openstack%2Foctavia~master~Ia05d7e9f8ac2692e5769648255ef0e4e10a18c03,openstack/octavia,master,Ia05d7e9f8ac2692e5769648255ef0e4e10a18c03,Switch the default Ubuntu kernel to -virtual,MERGED,2019-07-08 17:30:44.000000000,2019-07-09 08:25:47.000000000,2019-07-09 08:25:47.000000000,"[{'_account_id': 2245}, {'_account_id': 10850}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 17:30:44.000000000', 'files': ['releasenotes/notes/Use-Ubuntu-KVM-kernel-for-Amphora-a1e8af8bc7893011.yaml', 'diskimage-create/README.rst', 'diskimage-create/diskimage-create.sh', 'releasenotes/notes/Use-Ubuntu-virtual-kernel-for-Amphora-a1e8af8bc7893011.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e3aacb67ada526501a8c080c219ee2be869b959b', 'message': 'Switch the default Ubuntu kernel to -virtual\n\nA previous patch changed the default Ubuntu kernel for the amphora\nimages to the -kvm kernel[1]. This kernel is missing a module required\nfor cryptsetup.\nThis patch switches the default to the -virtual kernel, which is\nslightly larger than the -kvm kernel, but includes the required\nkernel module for cryptsetup.\n\n[1] https://review.opendev.org/665861\n\nChange-Id: Ia05d7e9f8ac2692e5769648255ef0e4e10a18c03\n'}]",0,669725,e3aacb67ada526501a8c080c219ee2be869b959b,8,3,1,11628,,,0,"Switch the default Ubuntu kernel to -virtual

A previous patch changed the default Ubuntu kernel for the amphora
images to the -kvm kernel[1]. This kernel is missing a module required
for cryptsetup.
This patch switches the default to the -virtual kernel, which is
slightly larger than the -kvm kernel, but includes the required
kernel module for cryptsetup.

[1] https://review.opendev.org/665861

Change-Id: Ia05d7e9f8ac2692e5769648255ef0e4e10a18c03
",git fetch https://review.opendev.org/openstack/octavia refs/changes/25/669725/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Use-Ubuntu-KVM-kernel-for-Amphora-a1e8af8bc7893011.yaml', 'diskimage-create/README.rst', 'diskimage-create/diskimage-create.sh', 'releasenotes/notes/Use-Ubuntu-virtual-kernel-for-Amphora-a1e8af8bc7893011.yaml']",4,e3aacb67ada526501a8c080c219ee2be869b959b,,"--- features: - | The default kernel for the amphora image has switched from linux-image-generic to linux-image-virtual, resulting in an image size reduction of about 150MB. The linux-image-virtual kernel works with kvm, qemu tcg, and Xen hypervisors among others. ",,10,10
openstack%2Fwatcher~master~I2cd114060d1960f77dfa8f4fe0a6d0fc05de5d4c,openstack/watcher,master,I2cd114060d1960f77dfa8f4fe0a6d0fc05de5d4c,Remove notifier_driver option in Watcher devstack,MERGED,2019-07-02 06:04:30.000000000,2019-07-09 08:24:50.000000000,2019-07-09 08:24:50.000000000,"[{'_account_id': 6873}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-07-02 06:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/c308f38325253b152ec6077f08f0a060c07673d6', 'message': 'Remove notifier_driver option in Watcher devstack\n\nChange-Id: I2cd114060d1960f77dfa8f4fe0a6d0fc05de5d4c\n'}, {'number': 2, 'created': '2019-07-04 02:00:04.000000000', 'files': ['devstack/lib/watcher'], 'web_link': 'https://opendev.org/openstack/watcher/commit/8bddafbdc3e89a62b5099f2750800e9c137bcc32', 'message': 'Remove notifier_driver option in Watcher devstack\n\nAccording to https://review.opendev.org/#/c/251791/,\nwatcher_messaging group and notifier_driver option\nwere deprecated.\n\nChange-Id: I2cd114060d1960f77dfa8f4fe0a6d0fc05de5d4c\n'}]",1,668602,8bddafbdc3e89a62b5099f2750800e9c137bcc32,14,5,2,21692,,,0,"Remove notifier_driver option in Watcher devstack

According to https://review.opendev.org/#/c/251791/,
watcher_messaging group and notifier_driver option
were deprecated.

Change-Id: I2cd114060d1960f77dfa8f4fe0a6d0fc05de5d4c
",git fetch https://review.opendev.org/openstack/watcher refs/changes/02/668602/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/watcher'],1,c308f38325253b152ec6077f08f0a060c07673d6,unused_option,," if is_service_enabled ceilometer; then iniset $WATCHER_CONF watcher_messaging notifier_driver ""messaging"" fi",0,4
openstack%2Fpython-solumclient~master~Iff44cbae2283df2f2a9a3100de5af6cdb13c3741,openstack/python-solumclient,master,Iff44cbae2283df2f2a9a3100de5af6cdb13c3741,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-08 02:39:10.000000000,2019-07-09 08:22:24.000000000,2019-07-09 08:22:23.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 02:39:10.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/04b2556521d044a1bb4e6598cca580fe339006d1', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Iff44cbae2283df2f2a9a3100de5af6cdb13c3741\n'}]",0,669589,04b2556521d044a1bb4e6598cca580fe339006d1,6,2,1,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: Iff44cbae2283df2f2a9a3100de5af6cdb13c3741
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/89/669589/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt']",2,04b2556521d044a1bb4e6598cca580fe339006d1,openstackdocstheme,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,4,8
openstack%2Fpython-solumclient~master~Ibc085d325f7845486b71460afc941b57c4feb97e,openstack/python-solumclient,master,Ibc085d325f7845486b71460afc941b57c4feb97e,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-08 02:35:34.000000000,2019-07-09 08:22:23.000000000,2019-07-09 08:22:23.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 02:35:34.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/a636822e000552c76c13391d891d4c5d158dee48', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: Ibc085d325f7845486b71460afc941b57c4feb97e\n'}]",0,669588,a636822e000552c76c13391d891d4c5d158dee48,6,2,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: Ibc085d325f7845486b71460afc941b57c4feb97e
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/88/669588/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,a636822e000552c76c13391d891d4c5d158dee48,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fpython-aodhclient~master~Ib6a0bbdca4e8d0bb80a19b3372360f3c2731aac5,openstack/python-aodhclient,master,Ib6a0bbdca4e8d0bb80a19b3372360f3c2731aac5,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-08 02:16:09.000000000,2019-07-09 08:20:48.000000000,2019-07-09 08:20:47.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 02:16:09.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/a8651ec642058a17cd7a6b3648d8250450a73efb', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: Ib6a0bbdca4e8d0bb80a19b3372360f3c2731aac5\n'}]",0,669584,a8651ec642058a17cd7a6b3648d8250450a73efb,6,2,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: Ib6a0bbdca4e8d0bb80a19b3372360f3c2731aac5
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/84/669584/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,a8651ec642058a17cd7a6b3648d8250450a73efb,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fsolum~master~I6ceb876a9835d0b03223c56bf53f8e9120a72b57,openstack/solum,master,I6ceb876a9835d0b03223c56bf53f8e9120a72b57,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-08 02:45:54.000000000,2019-07-09 08:18:59.000000000,2019-07-09 08:18:59.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 02:45:54.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/solum/commit/f995b4d9d372bb3df7d4943493c5ac2644628b86', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I6ceb876a9835d0b03223c56bf53f8e9120a72b57\n'}]",0,669590,f995b4d9d372bb3df7d4943493c5ac2644628b86,6,2,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I6ceb876a9835d0b03223c56bf53f8e9120a72b57
",git fetch https://review.opendev.org/openstack/solum refs/changes/90/669590/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,f995b4d9d372bb3df7d4943493c5ac2644628b86,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fpython-tripleoclient~master~Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e,openstack/python-tripleoclient,master,Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e,Allow running validations by name using Ansible by default.,MERGED,2019-04-23 13:59:08.000000000,2019-07-09 08:17:45.000000000,2019-07-08 18:40:28.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-04-23 13:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b0bb0c5758e39440664e15a99d0d79f0a79cd44c', 'message': 'Allow running specific validations using Ansible directly.\n\nThis submission allow to run validations skipping Mistral\nfor especific cases like pre-deployment validations\nin which the is no Mistral installed yet.\n\nChange-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e\n'}, {'number': 2, 'created': '2019-07-01 13:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3d9419771ab8a6c87d32032a77a3b258527ba877', 'message': 'Allow running specific validations using Ansible directly.\n\nThis submission allow to run validations skipping Mistral\nfor especific cases like pre-deployment validations\nin which the is no Mistral installed yet.\n\nChange-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e\n'}, {'number': 3, 'created': '2019-07-01 13:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c80a18e9c0bf00e63e8527c233a113a055578abc', 'message': 'Allow running specific validations using Ansible directly.\n\nThis submission allow to run validations skipping Mistral\nfor especific cases like pre-deployment validations\nin which the is no Mistral installed yet.\n\nChange-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e\n'}, {'number': 4, 'created': '2019-07-01 14:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cbb4f3f9cae82c53ad2ec12d33c580749de8b91a', 'message': 'Allow running specific validations using Ansible directly.\n\nThis submission allow to run validations skipping Mistral\nfor especific cases like pre-deployment validations\nin which the is no Mistral installed yet.\n\nChange-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e\n'}, {'number': 5, 'created': '2019-07-02 09:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7d8df602cca9c4cf8582db70517ea18e160cebf8', 'message': ""[WIP] Allow running specific validations using Ansible directly.\n\nThis submission allow to run validations skipping Mistral by using\n'ansible-playbook'.\n\nChange-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e\n""}, {'number': 6, 'created': '2019-07-02 11:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fb06bfb67b5a3b2ebae9a1908be566502e079293', 'message': ""[WIP] Allow running specific validations using Ansible directly.\n\nThis submission allow to run validations skipping Mistral by using\n'ansible-playbook'.\n\nChange-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e\n""}, {'number': 7, 'created': '2019-07-02 12:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e2301877c54f9e71bb3f6ec9194a36e479da891a', 'message': ""Allow running specific validations using Ansible directly.\n\nThis submission allow to run validations skipping Mistral by using\n'ansible-playbook'.\n\nChange-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e\n""}, {'number': 8, 'created': '2019-07-02 12:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0369dec48fef71f1be3ef82032feb01f20076955', 'message': ""Allow running specific validations using Ansible directly.\n\nThis submission allow to run validations skipping Mistral by using\n'ansible-playbook'.\n\nChange-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e\n""}, {'number': 9, 'created': '2019-07-02 13:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/79aaeb4eafd1e31d556b731edd0ca41f39166ca6', 'message': ""Allow running specific validations using Ansible directly.\n\nThis submission allow to run validations skipping Mistral by using\n'ansible-playbook'.\n\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e\n""}, {'number': 10, 'created': '2019-07-02 14:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3efb4a9e0eb2950c09993d1f47bb692c692844a4', 'message': ""Allow running specific validations using Ansible directly.\n\nThis submission allow to run validations skipping Mistral by using\n'ansible-playbook'.\n\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e\n""}, {'number': 11, 'created': '2019-07-03 09:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dc16baac74c21a38ae7d17151c6f40be6eb0e3c9', 'message': ""Allow running validations by name using Ansible directly.\n\nThis submission allow to run validations skipping Mistral by using\n'ansible-playbook'.\n\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e\n""}, {'number': 12, 'created': '2019-07-03 10:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/92fe617ae77e0922ca232a3235f5e33401eedd45', 'message': ""Allow running validations by name using Ansible directly.\n\nThis submission allow to run validations skipping Mistral by using\n'ansible-playbook'.\n\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e\n""}, {'number': 13, 'created': '2019-07-03 13:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a81c04dab69f6414c04f068f198d540a930eb343', 'message': 'Allow running validations by name using Ansible by default.\n\nThis patch switch over Ansible to run validations by names by\ndefault. The --use-mistral argument will have to be used in order to\nexecute them through Mistral.\n\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e\n'}, {'number': 14, 'created': '2019-07-03 13:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/00db2361e09de36054c0f983e431562509b450af', 'message': 'Allow running validations by name using Ansible by default.\n\nThis patch switch over Ansible to run validations by names by\ndefault. The --use-mistral argument will have to be used in order to\nexecute them through Mistral.\n\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e\n'}, {'number': 15, 'created': '2019-07-05 14:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3b403532a079a6a85821cb16819ae2abaaa88d2f', 'message': 'Allow running validations by name using Ansible by default.\n\nThis patch switch over Ansible to run validations by names by\ndefault. The --use-mistral argument will have to be used in order to\nexecute them through Mistral.\n\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e\n'}, {'number': 16, 'created': '2019-07-08 09:01:41.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/test_validator.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/27e1e4f833b78f89589aa406e3e4668041c1c3d9', 'message': 'Allow running validations by name using Ansible by default.\n\nThis patch switch over Ansible to run validations by names by\ndefault. The --use-mistral argument will have to be used in order to\nexecute them through Mistral.\n\nCo-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>\nChange-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e\n'}]",0,655165,27e1e4f833b78f89589aa406e3e4668041c1c3d9,52,8,16,20775,,,0,"Allow running validations by name using Ansible by default.

This patch switch over Ansible to run validations by names by
default. The --use-mistral argument will have to be used in order to
execute them through Mistral.

Co-Authored-By: Gal Chamoulaud <gchamoul@redhat.com>
Change-Id: Ia393f4d776ab2c09439e7772b5596ddbb47e0a5e
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/65/655165/9 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,b0bb0c5758e39440664e15a99d0d79f0a79cd44c,bp/validation-framework," val_parser = parser.parse_known_args() if val_parser[0].validation-name: parser.add_argument( '--use-ansible', action='store_true', default='false', help=_(""Execute the validations using "" ""Ansible. "" ""Defaults to: false"") ) LOG = logging.getLogger(__name__ + "".ValidationsRun"") if pased_args.use_ansible: playbook = parsed_args.validation_name + '.yaml' python_interpreter = ""/usr/bin/python{}"".format(sys.version_info[0]) utils.run_ansible_playbook(logger=LOG, workdir=constants.ANSIBLE_VALIDATION_DIR, playbook=playbook, inventory='undercloud,', retries=False, connection='local', output_callback='validation_output', python_interpreter=python_interpreter) else: if not parsed_args.validation_name: workflow_input = { ""plan"": parsed_args.plan, ""group_names"": parsed_args.group } else: workflow_input = { ""plan"": parsed_args.plan, ""validation_names"": parsed_args.validation_name } LOG.debug(_('Runnning the validations')) try: output = validations.run_validations(clients, workflow_input) print(oooutils.get_validations_json(output)) except Exception as e: print(_(""Running the validations finished with errors"")) print('Output: {}'.format(e))"," if not parsed_args.validation_name: workflow_input = { ""plan"": parsed_args.plan, ""group_names"": parsed_args.group } else: workflow_input = { ""plan"": parsed_args.plan, ""validation_names"": parsed_args.validation_name } LOG.debug(_('Runnning the validations')) try: output = validations.run_validations(clients, workflow_input) print(oooutils.get_validations_json(output)) except Exception as e: print(_(""Running the validations finished with errors"")) print('Output: {}'.format(e))",41,16
openstack%2Ftripleo-common~master~I6407cb123beb77b7441602ecb36da94f99460b0b,openstack/tripleo-common,master,I6407cb123beb77b7441602ecb36da94f99460b0b,Add sudo commands for validations tempfile created in Python3,MERGED,2019-07-03 17:45:52.000000000,2019-07-09 08:14:57.000000000,2019-07-08 18:11:41.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-03 17:45:52.000000000', 'files': ['sudoers'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1ebdaa70c909eafa38a05f0ec1b861fdb90c6b92', 'message': ""Add sudo commands for validations tempfile created in Python3\n\nIn Python2, the mkstemp function generates a random name sequence of six\ncharacters long while in Python3 the random name sequence is composed\nof eight characters long.\n\nUnfortunately, 'sudo' doesn't support [A-Za-Z0-9_]{6,8}!\n\nChange-Id: I6407cb123beb77b7441602ecb36da94f99460b0b\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}]",0,668964,1ebdaa70c909eafa38a05f0ec1b861fdb90c6b92,22,12,1,11491,,,0,"Add sudo commands for validations tempfile created in Python3

In Python2, the mkstemp function generates a random name sequence of six
characters long while in Python3 the random name sequence is composed
of eight characters long.

Unfortunately, 'sudo' doesn't support [A-Za-Z0-9_]{6,8}!

Change-Id: I6407cb123beb77b7441602ecb36da94f99460b0b
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/64/668964/1 && git format-patch -1 --stdout FETCH_HEAD,['sudoers'],1,1ebdaa70c909eafa38a05f0ec1b861fdb90c6b92,validations_tempfile_python3," /usr/bin/chown -h validations\: /tmp/validations_identity_[A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_], \ /usr/bin/chown -h validations\: /tmp/validations_inputs_[A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_], \ /usr/bin/rm -f /tmp/validations_identity_[A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_], \ /usr/bin/rm -f /tmp/validations_inputs_[A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_][A-Za-z0-9_], \validations ALL = NOPASSWD: ALL",validations ALL = NOPASSWD: ALL ,5,1
openstack%2Fblazar~master~I6415c51f2bb000b1a474400527785ecfd9a95683,openstack/blazar,master,I6415c51f2bb000b1a474400527785ecfd9a95683,Spec: Follow resource provider inventories,ABANDONED,2018-06-28 03:24:14.000000000,2019-07-09 08:11:08.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23840}, {'_account_id': 25625}]","[{'number': 1, 'created': '2018-06-28 03:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/9eeb7cf3cf212f85e1f8d1defa6b398812e2ba08', 'message': '[WIP] Spec: Follow resource provider inventories\n\nPartially Implements: blueprint resources-overcommitments\n\nChange-Id: I6415c51f2bb000b1a474400527785ecfd9a95683\n'}, {'number': 2, 'created': '2018-07-04 03:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/f442c9cb8bd5441ab9d8b730bc7f97f38d44717f', 'message': 'Spec: Follow resource provider inventories\n\nPartially Implements: blueprint resources-overcommitments\n\nChange-Id: I6415c51f2bb000b1a474400527785ecfd9a95683\n'}, {'number': 3, 'created': '2018-07-18 08:04:42.000000000', 'files': ['doc/source/specs/rocky/follow-resource-provider-inventories.rst'], 'web_link': 'https://opendev.org/openstack/blazar/commit/e7ff54b470cb791d5a8dec753d961c1d9af1817f', 'message': 'Spec: Follow resource provider inventories\n\nPartially Implements: blueprint resources-overcommitments\n\nChange-Id: I6415c51f2bb000b1a474400527785ecfd9a95683\n'}]",0,578641,e7ff54b470cb791d5a8dec753d961c1d9af1817f,8,4,3,23840,,,0,"Spec: Follow resource provider inventories

Partially Implements: blueprint resources-overcommitments

Change-Id: I6415c51f2bb000b1a474400527785ecfd9a95683
",git fetch https://review.opendev.org/openstack/blazar refs/changes/41/578641/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/rocky/follow-resource-provider-inventories.rst'],1,9eeb7cf3cf212f85e1f8d1defa6b398812e2ba08,bp/resources-overcommitments,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================== Follow resource provider inventories ==================================== https://blueprints.launchpad.net/blazar/+spec/resources-overcommitments Placement API [#placement_api]_ was introduced to Nova at the 14.0.0 Newton release to separate API and data model for tracking resource provider inventories and usages. Blazar should follow the resource provider inventories managed by the Placement API. Problem description =================== Currently, Blazar does not check consistency with the allocation policy defined in the resource provider inventory like **allocation_ratio**, **min/max_unit** and **step_size** [#inventory]_. If resource requirements violate the allocation policy, reserved resources cannot be used at the launching phase even though the reservation was successfully created. A typical case is resource overcommitments. To allow users to reserve more resources than the physical amount, Blazar has to follow the **allocation_ratio** of the resource provider inventories. Use Cases --------- * An admin wants to allow users to reserve more resources than the physical amount (resource overcommitment). Proposed change =============== Get the allocation policy of each compute node by calling the `List resource provider inventories API`_ and store it into the new `computehost_inventories table`_ when creating a host. Then, refer to the table when look for available resources for creating/updating a lease. .. _List resource provider inventories API: https://developer.openstack.org/api-ref/placement/#list-resource-provider-inventories Alternatives ------------ WIP Data model impact ----------------- A new **computehost_inventories table** is added for managing inventory of the compute host. Overcommitment policy follows the **allocation_ratio** in the inventory. .. _computehost_inventories table: The computehost_inventories table: .. sourcecode:: none CREATE TABLE computehost_inventories ( id VARCHAR(36) NOT NULL, computehost_id VARCHAR(36) NOT NULL, name VARCHAR(36) NOT NULL, allocation_ratio FLOAT NOT NULL, max_unit INT UNSIGNED NOT NULL, min_unit INT UNSIGNED NOT NULL, step_size INT UNSIGNED NOT NULL, total INT UNSIGNED NOT NULL, PRIMARY key (id), FOREIGN KEY (computehost_id) REFERENCES computehosts(id) ON DELETE CASCADE, ); REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- WIP Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: <hiro-kobayashi> Other contributors: <tetsuro> Work Items ---------- * Update DB schema: add a new computehost_inventories table. * Update the create_computehost() of the host plugin to call Placement APIs and update related tables. * Update the query_available_hosts() of the instance plugin to refer to the computehost_inventories table and care min_unit, max_unit, step_size and allocation_ratio. Dependencies ============ This spec depends on https://blueprints.launchpad.net/blazar/+spec/placement-api Testing ======= WIP Documentation Impact ==================== WIP References ========== .. [#placement_api] https://docs.openstack.org/nova/latest/user/placement.html .. [#inventory] https://developer.openstack.org/api-ref/placement/#show-resource-provider-inventory History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Rocky - Introduced ",,172,0
openstack%2Fvitrage~master~I3dc9becb0b732dc2ef5103ff7b86433557943334,openstack/vitrage,master,I3dc9becb0b732dc2ef5103ff7b86433557943334,update vitrage graph architecture picture,MERGED,2019-07-09 07:35:02.000000000,2019-07-09 08:04:43.000000000,2019-07-09 08:04:43.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-09 07:35:02.000000000', 'files': ['doc/source/contributor/images/vitrage_graph_architecture.png'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/7c9cc804dbf3bb16f2439d38c20f723985bf29f9', 'message': 'update vitrage graph architecture picture\n\nChange-Id: I3dc9becb0b732dc2ef5103ff7b86433557943334\n'}]",0,669807,7c9cc804dbf3bb16f2439d38c20f723985bf29f9,6,2,1,19134,,,0,"update vitrage graph architecture picture

Change-Id: I3dc9becb0b732dc2ef5103ff7b86433557943334
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/07/669807/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/images/vitrage_graph_architecture.png'],1,7c9cc804dbf3bb16f2439d38c20f723985bf29f9,eyalb/doc,,,0,0
openstack%2Fopenstack-helm~master~I45f3e73f8a957576ef82a733c1a7b7feaba7b679,openstack/openstack-helm,master,I45f3e73f8a957576ef82a733c1a7b7feaba7b679,Fix credential cleanup hook,MERGED,2019-06-27 20:11:15.000000000,2019-07-09 07:51:10.000000000,2019-07-09 07:51:10.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-27 20:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/46f5c2399e89888bca131163629d9234f5e74fc9', 'message': 'Fix credential cleanup hook\n\nThe keystone-credential-cleanup hook was previously changed to\npost-delete, this can cause issues where the serviceName is deleted\nprior to running and will cause this to fail. This change reverts\nthe hook back to pre-delete to avoid this issue.\n\nChange-Id: I45f3e73f8a957576ef82a733c1a7b7feaba7b679\n'}, {'number': 2, 'created': '2019-07-09 06:12:11.000000000', 'files': ['keystone/templates/job-credential-cleanup.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a57cd78439bbaca20173e17b4ce601d616ee1189', 'message': 'Fix credential cleanup hook\n\nThe keystone-credential-cleanup hook was previously changed to\npost-delete, this can cause issues where the serviceName is deleted\nprior to running and will cause this to fail. This change reverts\nthe hook back to pre-delete to avoid this issue.\n\nChange-Id: I45f3e73f8a957576ef82a733c1a7b7feaba7b679\n'}]",0,668039,a57cd78439bbaca20173e17b4ce601d616ee1189,12,3,2,21420,,,0,"Fix credential cleanup hook

The keystone-credential-cleanup hook was previously changed to
post-delete, this can cause issues where the serviceName is deleted
prior to running and will cause this to fail. This change reverts
the hook back to pre-delete to avoid this issue.

Change-Id: I45f3e73f8a957576ef82a733c1a7b7feaba7b679
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/39/668039/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/templates/job-credential-cleanup.yaml'],1,46f5c2399e89888bca131163629d9234f5e74fc9,keystone-cred," ""helm.sh/hook"": pre-delete"," ""helm.sh/hook"": post-delete",1,1
openstack%2Fironic-python-agent~master~I64e66682c1e54f6edc260a22f46f5f6df8e85af1,openstack/ironic-python-agent,master,I64e66682c1e54f6edc260a22f46f5f6df8e85af1,manual introspection trigger command,MERGED,2019-06-19 01:27:03.000000000,2019-07-09 07:43:30.000000000,2019-07-09 07:43:30.000000000,"[{'_account_id': 136}, {'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-19 01:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6f1dee06db6703a2fd36a0b1d87e8788c435a246', 'message': 'WIP: manual introspection trigger command\n\nChange-Id: I64e66682c1e54f6edc260a22f46f5f6df8e85af1\nStory: 2005896\nTask: 33756\n'}, {'number': 2, 'created': '2019-06-19 23:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/33ca26d12175693a337f476f42b9c1cbc7a475b3', 'message': 'WIP: manual introspection trigger command\n\nChange-Id: I64e66682c1e54f6edc260a22f46f5f6df8e85af1\nStory: 2005896\nTask: 33756\n'}, {'number': 3, 'created': '2019-06-20 18:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/675fc06cbcb7c252aaf78a347fbf32f9a0038ab3', 'message': ' manual introspection trigger command\n\nChange-Id: I64e66682c1e54f6edc260a22f46f5f6df8e85af1\nStory: 2005896\nTask: 33756\n'}, {'number': 4, 'created': '2019-06-20 22:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b5f0feceef49e5f6f2c1f7cd23da2b14ba498b81', 'message': 'manual introspection trigger command\n\nChange-Id: I64e66682c1e54f6edc260a22f46f5f6df8e85af1\nStory: 2005896\nTask: 33756\n'}, {'number': 5, 'created': '2019-07-01 12:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a07d891ba7e5aeac6eeb47592ce148328a00b91b', 'message': 'manual introspection trigger command\n\nChange-Id: I64e66682c1e54f6edc260a22f46f5f6df8e85af1\nStory: 2005896\nTask: 33756\n'}, {'number': 6, 'created': '2019-07-02 21:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/06b5ec54e88fbaaab23efe62bc162888e89847f5', 'message': 'manual introspection trigger command\n\nChange-Id: I64e66682c1e54f6edc260a22f46f5f6df8e85af1\nStory: 2005896\nTask: 33756\n'}, {'number': 7, 'created': '2019-07-08 14:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a75fdb458514a50cc0fe08b2378f35904ef9c074', 'message': 'manual introspection trigger command\n\nChange-Id: I64e66682c1e54f6edc260a22f46f5f6df8e85af1\nStory: 2005896\nTask: 33756\n'}, {'number': 8, 'created': '2019-07-08 14:44:04.000000000', 'files': ['releasenotes/notes/manual-introspection-b04b5c25f5e004ac.yaml', 'ironic_python_agent/inspect.py', 'ironic_python_agent/cmd/inspect.py', 'ironic_python_agent/tests/unit/test_inspector.py', 'ironic_python_agent/inspector.py', 'ironic_python_agent/config.py', 'ironic_python_agent/agent.py', 'doc/source/admin/how_it_works.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/696606f6826394a32e9d09647f2ab1a8653bf8cb', 'message': 'manual introspection trigger command\n\nChange-Id: I64e66682c1e54f6edc260a22f46f5f6df8e85af1\nStory: 2005896\nTask: 33756\n'}]",54,666198,696606f6826394a32e9d09647f2ab1a8653bf8cb,39,8,8,11655,,,0,"manual introspection trigger command

Change-Id: I64e66682c1e54f6edc260a22f46f5f6df8e85af1
Story: 2005896
Task: 33756
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/98/666198/8 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/inspect.py', 'ironic_python_agent/cmd/inspect.py', 'setup.cfg']",3,6f1dee06db6703a2fd36a0b1d87e8788c435a246,666198, ironic-introspection = ironic_python_agent.cmd.inspect:run,,78,0
openstack%2Fkolla-ansible~master~I9b35bd5f0f76eec26ddd968d093a3a5fd55a7ce2,openstack/kolla-ansible,master,I9b35bd5f0f76eec26ddd968d093a3a5fd55a7ce2,Exit on failure in init-runonce,MERGED,2019-06-28 11:34:44.000000000,2019-07-09 07:36:34.000000000,2019-07-09 07:33:46.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-28 11:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d3f2e66b9bd250cf4613372c02452b71d2adcb2c', 'message': 'Exit on failure in init-runonce\n\nPreviously we sourced this script in tests/deploy.sh, but this was\nrecently changed. Following that change we lost the errexit setting,\nmeaning we ignore errors in init-runonce.\n\nAdding errexit in the script itself means that all callers get error\nhandling.\n\nTrivialFix\n\nChange-Id: I9b35bd5f0f76eec26ddd968d093a3a5fd55a7ce2\n'}, {'number': 2, 'created': '2019-06-28 11:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4d744d3346db99bbe2e722a0c51f97189b09a060', 'message': 'Exit on failure in init-runonce\n\nPreviously we sourced this script in tests/deploy.sh, but this was\nrecently changed. Following that change we lost the errexit setting,\nmeaning we ignore errors in init-runonce.\n\nAdding errexit in the script itself means that all callers get error\nhandling.\n\nAlso log init-runonce output.\n\nTrivialFix\n\nChange-Id: I9b35bd5f0f76eec26ddd968d093a3a5fd55a7ce2\n'}, {'number': 3, 'created': '2019-06-28 14:31:27.000000000', 'files': ['tests/deploy.sh', 'tools/init-runonce'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bc08b44fd11cb083b85ac9b30d7bffa2a4024046', 'message': 'Exit on failure in init-runonce\n\nPreviously we sourced this script in tests/deploy.sh, but this was\nrecently changed. Following that change we lost the errexit setting,\nmeaning we ignore errors in init-runonce.\n\nAdding errexit in the script itself means that all callers get error\nhandling.\n\nAlso log init-runonce output.\n\nTrivialFix\n\nChange-Id: I9b35bd5f0f76eec26ddd968d093a3a5fd55a7ce2\n'}]",1,668149,bc08b44fd11cb083b85ac9b30d7bffa2a4024046,13,2,3,14826,,,0,"Exit on failure in init-runonce

Previously we sourced this script in tests/deploy.sh, but this was
recently changed. Following that change we lost the errexit setting,
meaning we ignore errors in init-runonce.

Adding errexit in the script itself means that all callers get error
handling.

Also log init-runonce output.

TrivialFix

Change-Id: I9b35bd5f0f76eec26ddd968d093a3a5fd55a7ce2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/668149/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/init-runonce'],1,d3f2e66b9bd250cf4613372c02452b71d2adcb2c,, set -o errexit ,#,3,1
openstack%2Fopenstack-zuul-jobs~master~I6a5759e0fbc8f8a6bb37045ca5254412882972ea,openstack/openstack-zuul-jobs,master,I6a5759e0fbc8f8a6bb37045ca5254412882972ea,Remove base role integration testing,MERGED,2019-07-08 17:47:36.000000000,2019-07-09 07:34:45.000000000,2019-07-09 07:34:45.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 17:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c71c7a81c257f7e5769a47b6388671ec1712c4cb', 'message': 'Remove base role integration testing\n\nThese jobs have moved to the zuul-jobs repo.\n\nChange-Id: I6a5759e0fbc8f8a6bb37045ca5254412882972ea\n'}, {'number': 2, 'created': '2019-07-08 17:48:22.000000000', 'files': ['tests/use-cached-repos.yaml', 'tests/configure-mirrors.yaml', 'tests/validate-host.yaml', 'tests/multinode_firewall_persistence_vars/Suse.yaml', 'tests/fetch-zuul-cloner.yaml', 'tests/multinode_firewall_persistence_vars/README.rst', 'tests/multi-node-known-hosts.yaml', 'tests/multi-node-firewall-persistence.yaml', 'tests/multinode_firewall_persistence_vars/Debian.yaml', 'tests/multinode_firewall_persistence_vars/default.yaml', 'tests/multi-node-bridge.yaml', 'tests/multinode_firewall_persistence_vars/RedHat.yaml', 'tests/emit-job-header.yaml', 'tests/multinode_firewall_persistence_vars/Ubuntu_trusty.yaml', 'tests/fetch-output.yaml', 'tests/multinode_firewall_persistence_vars/Gentoo.yaml', 'tests/multi-node-firewall.yaml', 'zuul.d/project.yaml', 'tests/base.yaml', 'tests/ensure-output-dirs.yaml', 'tests/multi-node-hosts-file.yaml', 'tests/multinode.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/0c54a6f4e23c092764ef47b6aa927b605ab52a4b', 'message': 'Remove base role integration testing\n\nThese jobs have moved to the zuul-jobs repo.\n\nChange-Id: I6a5759e0fbc8f8a6bb37045ca5254412882972ea\n'}]",0,669727,0c54a6f4e23c092764ef47b6aa927b605ab52a4b,9,3,2,1,,,0,"Remove base role integration testing

These jobs have moved to the zuul-jobs repo.

Change-Id: I6a5759e0fbc8f8a6bb37045ca5254412882972ea
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/27/669727/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/use-cached-repos.yaml', 'tests/configure-mirrors.yaml', 'tests/validate-host.yaml', 'tests/multinode_firewall_persistence_vars/Suse.yaml', 'tests/fetch-zuul-cloner.yaml', 'tests/multinode_firewall_persistence_vars/README.rst', 'tests/multi-node-known-hosts.yaml', 'tests/multi-node-firewall-persistence.yaml', 'tests/multinode_firewall_persistence_vars/Debian.yaml', 'tests/multinode_firewall_persistence_vars/default.yaml', 'tests/multi-node-bridge.yaml', 'tests/multinode_firewall_persistence_vars/RedHat.yaml', 'tests/emit-job-header.yaml', 'tests/multinode_firewall_persistence_vars/Ubuntu_trusty.yaml', 'tests/fetch-output.yaml', 'tests/multinode_firewall_persistence_vars/Gentoo.yaml', 'tests/multi-node-firewall.yaml', 'zuul.d/project.yaml', 'tests/base.yaml', 'tests/ensure-output-dirs.yaml', 'tests/multi-node-hosts-file.yaml', 'tests/multinode.yaml', 'zuul.d/jobs.yaml']",23,c71c7a81c257f7e5769a47b6388671ec1712c4cb,," name: openstack-zuul-jobs-test-mirror-info Test the mirror-info role. This is meant to be included in a base job, so we inherit from base-minimal to make sure it hasn't already run."," name: openstack-infra-base-integration Runs roles that are included by default in the 'base' job in order to prevent regressions. This job should not be used outside the context of testing roles and playbooks found in project-config, zuul-jobs and openstack-zuul-jobs. required-projects: - openstack/project-config - ^roles/configure-mirrors/.* - ^roles/emit-job-header/.* - ^roles/ensure-output-dirs/.* - ^roles/fetch-zuul-cloner/.* - ^roles/set-zuul-log-path-fact/.* - ^roles/use-cached-repos/.* - ^roles/fetch-output/.* - ^roles/validate-host/.* name: openstack-infra-base-integration-centos-7 parent: openstack-infra-base-integration nodeset: centos-7 - job: name: openstack-infra-base-integration-debian-stable parent: openstack-infra-base-integration nodeset: debian-stable - job: name: openstack-infra-base-integration-fedora-latest parent: openstack-infra-base-integration nodeset: fedora-latest - job: name: openstack-infra-base-integration-gentoo-17-0-systemd parent: openstack-infra-base-integration nodeset: gentoo-17-0-systemd - job: name: openstack-infra-base-integration-opensuse423 parent: openstack-infra-base-integration nodeset: opensuse-423 - job: name: openstack-infra-base-integration-opensuse15 parent: openstack-infra-base-integration nodeset: opensuse-15 - job: name: openstack-infra-base-integration-opensuse-tumbleweed parent: openstack-infra-base-integration nodeset: opensuse-tumbleweed - job: name: openstack-infra-base-integration-ubuntu-bionic parent: openstack-infra-base-integration nodeset: ubuntu-bionic - job: name: openstack-infra-base-integration-ubuntu-trusty parent: openstack-infra-base-integration nodeset: ubuntu-trusty - job: name: openstack-infra-base-integration-ubuntu-xenial parent: openstack-infra-base-integration nodeset: ubuntu-xenial - job: name: openstack-infra-multinode-integration abstract: true protected: true description: | Runs roles that are included by default in the 'multinode' job in order to prevent regressions. This job should not be used outside the context of testing roles and playbooks found in project-config, zuul-jobs and openstack-zuul-jobs. parent: base-minimal vars: ara_generate_html: true required-projects: - openstack/project-config roles: - zuul: zuul/zuul-jobs run: tests/multinode.yaml files: - ^roles/configure-mirrors/.* - ^roles/emit-job-header/.* - ^roles/ensure-output-dirs/.* - ^roles/fetch-zuul-cloner/.* - ^roles/fetch-output/.* - ^roles/mirror-info/.* - ^roles/set-zuul-log-path-fact/.* - ^roles/use-cached-repos/.* - ^roles/multi-node-bridge/.* - ^roles/multi-node-firewall/.* - ^roles/persistent-firewall/.* - ^roles/multi-node-hosts-file/.* - ^roles/multi-node-known-hosts/.* - ^tests/.* - ^playbooks/multinode/.* - job: name: openstack-infra-multinode-integration-centos-7 parent: openstack-infra-multinode-integration nodeset: nodes: - name: primary label: centos-7 - name: secondary label: centos-7 groups: - name: switch nodes: - primary - name: peers nodes: - secondary - job: name: openstack-infra-multinode-integration-debian-stable parent: openstack-infra-multinode-integration nodeset: nodes: - name: primary label: debian-stretch - name: secondary label: debian-stretch groups: - name: switch nodes: - primary - name: peers nodes: - secondary - job: name: openstack-infra-multinode-integration-fedora-latest parent: openstack-infra-multinode-integration nodeset: nodes: - name: primary label: fedora-28 - name: secondary label: fedora-28 groups: - name: switch nodes: - primary - name: peers nodes: - secondary - job: name: openstack-infra-multinode-integration-gentoo-17-0-systemd parent: openstack-infra-multinode-integration nodeset: nodes: - name: primary label: gentoo-17-0-systemd - name: secondary label: gentoo-17-0-systemd groups: - name: switch nodes: - primary - name: peers nodes: - secondary - job: name: openstack-infra-multinode-integration-opensuse423 parent: openstack-infra-multinode-integration nodeset: nodes: - name: primary label: opensuse-423 - name: secondary label: opensuse-423 groups: - name: switch nodes: - primary - name: peers nodes: - secondary - job: # Being updated to the latest opensuse 15.x release when available name: openstack-infra-multinode-integration-opensuse15 description: | Multinode integration job for openSUSE Leap 15.x. Currently points to Leap 15.0 but will be updated to point to the latest available 15.x minor release automatically as they stay backward compatible. parent: openstack-infra-multinode-integration nodeset: nodes: - name: primary label: opensuse-15 - name: secondary label: opensuse-15 groups: - name: switch nodes: - primary - name: peers nodes: - secondary - job: name: openstack-infra-multinode-integration-opensuse-tumbleweed parent: openstack-infra-multinode-integration nodeset: nodes: - name: primary label: opensuse-tumbleweed - name: secondary label: opensuse-tumbleweed groups: - name: switch nodes: - primary - name: peers nodes: - secondary - job: name: openstack-infra-multinode-integration-ubuntu-bionic parent: openstack-infra-multinode-integration nodeset: nodes: - name: primary label: ubuntu-bionic - name: secondary label: ubuntu-bionic groups: - name: switch nodes: - primary - name: peers nodes: - secondary - job: name: openstack-infra-multinode-integration-ubuntu-trusty parent: openstack-infra-multinode-integration nodeset: nodes: - name: primary label: ubuntu-trusty - name: secondary label: ubuntu-trusty groups: - name: switch nodes: - primary - name: peers nodes: - secondary - job: name: openstack-infra-multinode-integration-ubuntu-xenial parent: openstack-infra-multinode-integration nodeset: nodes: - name: primary label: ubuntu-xenial - name: secondary label: ubuntu-xenial groups: - name: switch nodes: - primary - name: peers nodes: - secondary - job:",15,836
openstack%2Fproject-config~master~I2afc533926e375d3b3523eec4e90798f367bb10b,openstack/project-config,master,I2afc533926e375d3b3523eec4e90798f367bb10b,Adding CI for ironic-prometheus-exporter,MERGED,2019-06-18 08:37:52.000000000,2019-07-09 07:32:26.000000000,2019-07-09 07:32:26.000000000,"[{'_account_id': 6547}, {'_account_id': 6794}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 08:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/cdcd2d769dc42b09a3ac2400762ad43032d14063', 'message': 'Adding CI for ironic-prometheus-exporter\n\nRequired change for adding ironic-prometheus-exporter\nunder ironic umbrella I3fe01ec5465e4ddc1eb7966beca96823c2dbda4b\n\nChange-Id: I2afc533926e375d3b3523eec4e90798f367bb10b\n'}, {'number': 2, 'created': '2019-06-20 13:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/496e81476b017414770e3fc60d908d8c50efee02', 'message': 'Adding CI for ironic-prometheus-exporter\n\nRequired change for adding ironic-prometheus-exporter\nunder ironic umbrella I3fe01ec5465e4ddc1eb7966beca96823c2dbda4b\n\nDepends-On: I3fe01ec5465e4ddc1eb7966beca96823c2dbda4b\nChange-Id: I2afc533926e375d3b3523eec4e90798f367bb10b\n'}, {'number': 3, 'created': '2019-07-05 13:42:46.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a9b44eb7729c90ae8b5c11dced324322fbcff650', 'message': 'Adding CI for ironic-prometheus-exporter\n\nRequired change for adding ironic-prometheus-exporter\nunder ironic umbrella I3fe01ec5465e4ddc1eb7966beca96823c2dbda4b\n\nDepends-On: I3fe01ec5465e4ddc1eb7966beca96823c2dbda4b\nChange-Id: I2afc533926e375d3b3523eec4e90798f367bb10b\n'}]",2,665910,a9b44eb7729c90ae8b5c11dced324322fbcff650,12,4,3,15519,,,0,"Adding CI for ironic-prometheus-exporter

Required change for adding ironic-prometheus-exporter
under ironic umbrella I3fe01ec5465e4ddc1eb7966beca96823c2dbda4b

Depends-On: I3fe01ec5465e4ddc1eb7966beca96823c2dbda4b
Change-Id: I2afc533926e375d3b3523eec4e90798f367bb10b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/10/665910/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,cdcd2d769dc42b09a3ac2400762ad43032d14063,new-project,- project: name: openstack/ironic-prometheus-exporter templates: - publish-to-pypi,,4,1
openstack%2Fproject-config~master~I35c7446f2c52c41b7e4652af747e7af445d71609,openstack/project-config,master,I35c7446f2c52c41b7e4652af747e7af445d71609,Retire tempest-tripleo-ui,MERGED,2019-06-27 14:50:39.000000000,2019-07-09 07:30:36.000000000,2019-07-09 07:30:35.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 14:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d8f4b9707ee1468304a55cebd8990384525d406e', 'message': 'Retire tempest-tripleo-ui\n\nNeed to set to noop so we can remove content.\n\nChange-Id: I35c7446f2c52c41b7e4652af747e7af445d71609\nNeeded-By: https://review.opendev.org/#/c/665264/\n'}, {'number': 2, 'created': '2019-06-27 15:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9d4a53a6f5654720ebcbfcd53c218bce741efef5', 'message': 'Retire tempest-tripleo-ui\n\nNeed to set to noop so we can remove content.\n\nChange-Id: I35c7446f2c52c41b7e4652af747e7af445d71609\nNeeded-By: https://review.opendev.org/#/c/665264/\n'}, {'number': 3, 'created': '2019-06-27 15:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ec0368c77a63b6e296cbbdacf666a7e17ca1e148', 'message': 'Retire tempest-tripleo-ui\n\nNeed to set to noop so we can remove content.\n\nChange-Id: I35c7446f2c52c41b7e4652af747e7af445d71609\nNeeded-By: https://review.opendev.org/#/c/667951/\n'}, {'number': 4, 'created': '2019-07-08 17:14:03.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ac095748b90a79123f4de919b32de5d80b3a6081', 'message': 'Retire tempest-tripleo-ui\n\nNeed to set to noop so we can remove content.\n\nChange-Id: I35c7446f2c52c41b7e4652af747e7af445d71609\nNeeded-By: https://review.opendev.org/#/c/665264/\n'}]",0,667949,ac095748b90a79123f4de919b32de5d80b3a6081,17,4,4,14985,,,0,"Retire tempest-tripleo-ui

Need to set to noop so we can remove content.

Change-Id: I35c7446f2c52c41b7e4652af747e7af445d71609
Needed-By: https://review.opendev.org/#/c/665264/
",git fetch https://review.opendev.org/openstack/project-config refs/changes/49/667949/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,d8f4b9707ee1468304a55cebd8990384525d406e,retire-tempest-tripleo-ui, name: openstack/tempest-tripleo-ui check: jobs: - noop: branches: master gate: jobs: - noop: branches: master - project:,,11,0
openstack%2Fnova~master~I8e579920c0eaca81b563a87429c930b21b3d4dc5,openstack/nova,master,I8e579920c0eaca81b563a87429c930b21b3d4dc5,Switch to using os-resource-classes,MERGED,2019-01-03 19:40:21.000000000,2019-07-09 07:26:14.000000000,2019-02-14 19:08:52.000000000,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-01-03 19:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45dd82c7b999e56e4a800cee6148d74d1d98ec62', 'message': 'Switch to using os-resource-classes\n\nWith the extraction of placement we ended up with resource class names\nbeing duplicated between nova and placement. To address that, the\nos-resource-classes library [1] was created to provide a single\nauthority for standard resource classes and the format of custom\nclasses.\n\nThis patch changes nova to use it, getting rid of the rc_fields module\nwhich used to have the information. A method left in it (normalize_name)\nhas been moved to utils.py, renamed as normalize_rc_name, and callers\nand tests updated accordingly.\n\nrequirements and lower-constraints have been updated.\nos-resource-classes is already in global requirements.\n\nFor reference the related placement change is at [2].\n\n[1] https://docs.openstack.org/os-resource-classes\n[2] https://review.openstack.org/#/c/623556/\n\nChange-Id: I8e579920c0eaca81b563a87429c930b21b3d4dc5\n'}, {'number': 2, 'created': '2019-01-08 18:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7490fcdb46fe883aefc2c85293973e9df226b3e', 'message': 'Switch to using os-resource-classes\n\nWith the extraction of placement we ended up with resource class names\nbeing duplicated between nova and placement. To address that, the\nos-resource-classes library [1] was created to provide a single\nauthority for standard resource classes and the format of custom\nclasses.\n\nThis patch changes nova to use it, getting rid of the rc_fields module\nwhich used to have the information. A method left in it (normalize_name)\nhas been moved to utils.py, renamed as normalize_rc_name, and callers\nand tests updated accordingly.\n\nrequirements and lower-constraints have been updated.\nos-resource-classes is already in global requirements.\n\nFor reference the related placement change is at [2].\n\n[1] https://docs.openstack.org/os-resource-classes\n[2] https://review.openstack.org/#/c/623556/\n\nChange-Id: I8e579920c0eaca81b563a87429c930b21b3d4dc5\n'}, {'number': 3, 'created': '2019-01-31 10:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/434e2213a4a6e89fa38a5d5f4f9dbaca297fac42', 'message': 'Switch to using os-resource-classes\n\nWith the extraction of placement we ended up with resource class names\nbeing duplicated between nova and placement. To address that, the\nos-resource-classes library [1] was created to provide a single\nauthority for standard resource classes and the format of custom\nclasses.\n\nThis patch changes nova to use it, getting rid of the rc_fields module\nwhich used to have the information. A method left in it (normalize_name)\nhas been moved to utils.py, renamed as normalize_rc_name, and callers\nand tests updated accordingly.\n\nrequirements and lower-constraints have been updated.\nos-resource-classes is already in global requirements.\n\nFor reference the related placement change is at [2].\n\n[1] https://docs.openstack.org/os-resource-classes\n[2] https://review.openstack.org/#/c/623556/\n\nChange-Id: I8e579920c0eaca81b563a87429c930b21b3d4dc5\n'}, {'number': 4, 'created': '2019-01-31 17:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c03b8e82a9f735774698a71709bc20b713146f7a', 'message': 'Switch to using os-resource-classes\n\nWith the extraction of placement we ended up with resource class names\nbeing duplicated between nova and placement. To address that, the\nos-resource-classes library [1] was created to provide a single\nauthority for standard resource classes and the format of custom\nclasses.\n\nThis patch changes nova to use it, getting rid of the rc_fields module\nwhich used to have the information. A method left in it (normalize_name)\nhas been moved to utils.py, renamed as normalize_rc_name, and callers\nand tests updated accordingly.\n\nrequirements and lower-constraints have been updated.\nos-resource-classes is already in global requirements.\n\nFor reference the related placement change is at [2].\n\n[1] https://docs.openstack.org/os-resource-classes\n[2] https://review.openstack.org/#/c/623556/\n\nChange-Id: I8e579920c0eaca81b563a87429c930b21b3d4dc5\n'}, {'number': 5, 'created': '2019-02-04 09:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3925fd2c67e758314b3507f52aafdc599cdc31aa', 'message': 'Switch to using os-resource-classes\n\nWith the extraction of placement we ended up with resource class names\nbeing duplicated between nova and placement. To address that, the\nos-resource-classes library [1] was created to provide a single\nauthority for standard resource classes and the format of custom\nclasses.\n\nThis patch changes nova to use it, getting rid of the rc_fields module\nwhich used to have the information. A method left in it (normalize_name)\nhas been moved to utils.py, renamed as normalize_rc_name, and callers\nand tests updated accordingly.\n\nrequirements and lower-constraints have been updated.\nos-resource-classes is already in global requirements.\n\nFor reference the related placement change is at [2].\n\n[1] https://docs.openstack.org/os-resource-classes\n[2] https://review.openstack.org/#/c/623556/\n\nChange-Id: I8e579920c0eaca81b563a87429c930b21b3d4dc5\n'}, {'number': 6, 'created': '2019-02-07 11:11:23.000000000', 'files': ['nova/tests/unit/virt/xenapi/test_driver.py', 'nova/scheduler/utils.py', 'nova/tests/functional/wsgi/test_services.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/scheduler/client/report.py', 'nova/virt/powervm/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'requirements.txt', 'nova/tests/functional/test_report_client.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/utils.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/compute/utils.py', 'nova/virt/fake.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/test_utils.py', 'nova/rc_fields.py', 'nova/virt/driver.py', 'lower-constraints.txt', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/objects/test_fields.py', 'nova/virt/xenapi/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/fixtures.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/27617ee1931b3240dbd0ad4c7d8ffd64cc202bc9', 'message': ""Switch to using os-resource-classes\n\nWith the extraction of placement we ended up with resource class names\nbeing duplicated between nova and placement. To address that, the\nos-resource-classes library [1] was created to provide a single\nauthority for standard resource classes and the format of custom\nclasses.\n\nThis patch changes nova to use it, removing the use of the rc_fields\nmodule which used to have the information. A method left in it\n(normalize_name) has been moved to utils.py, renamed as\nnormalize_rc_name, and callers and tests updated accordingly.\n\nBecause the placement code is being kept in nova for the time being,\nthat code's use of rc_fields is maintained, and the module too.\nA note is added in the module explain that. Backporting the changes\nfrom extracted-placement to placement-in-nova was considered but\nbecause we no longer have placement tests in nova, that didn't seem\nlike the right thing to do.\n\nrequirements and lower-constraints have been updated.\nos-resource-classes is already in global requirements.\n\nFor reference the related placement change is at [2].\n\n[1] https://docs.openstack.org/os-resource-classes\n[2] https://review.openstack.org/#/c/623556/\n\nChange-Id: I8e579920c0eaca81b563a87429c930b21b3d4dc5\n""}]",6,628278,27617ee1931b3240dbd0ad4c7d8ffd64cc202bc9,93,17,6,11564,,,0,"Switch to using os-resource-classes

With the extraction of placement we ended up with resource class names
being duplicated between nova and placement. To address that, the
os-resource-classes library [1] was created to provide a single
authority for standard resource classes and the format of custom
classes.

This patch changes nova to use it, removing the use of the rc_fields
module which used to have the information. A method left in it
(normalize_name) has been moved to utils.py, renamed as
normalize_rc_name, and callers and tests updated accordingly.

Because the placement code is being kept in nova for the time being,
that code's use of rc_fields is maintained, and the module too.
A note is added in the module explain that. Backporting the changes
from extracted-placement to placement-in-nova was considered but
because we no longer have placement tests in nova, that didn't seem
like the right thing to do.

requirements and lower-constraints have been updated.
os-resource-classes is already in global requirements.

For reference the related placement change is at [2].

[1] https://docs.openstack.org/os-resource-classes
[2] https://review.openstack.org/#/c/623556/

Change-Id: I8e579920c0eaca81b563a87429c930b21b3d4dc5
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/628278/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/xenapi/test_driver.py', 'nova/scheduler/utils.py', 'nova/tests/functional/wsgi/test_services.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/scheduler/client/report.py', 'nova/virt/powervm/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'requirements.txt', 'nova/tests/functional/test_report_client.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/utils.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/virt/fake.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/test_utils.py', 'nova/rc_fields.py', 'nova/virt/driver.py', 'lower-constraints.txt', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/objects/test_fields.py', 'nova/virt/xenapi/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/virt/vmwareapi/driver.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py']",26,45dd82c7b999e56e4a800cee6148d74d1d98ec62,cd/os-resource-classes,import os_resource_classes as orc if orc.VCPU in inv_data: cpu_inv = inv_data[orc.VCPU] if orc.MEMORY_MB in inv_data: mem_inv = inv_data[orc.MEMORY_MB] if orc.DISK_GB in inv_data: disk_inv = inv_data[orc.DISK_GB],from nova import rc_fields as fields if fields.ResourceClass.VCPU in inv_data: cpu_inv = inv_data[fields.ResourceClass.VCPU] if fields.ResourceClass.MEMORY_MB in inv_data: mem_inv = inv_data[fields.ResourceClass.MEMORY_MB] if fields.ResourceClass.DISK_GB in inv_data: disk_inv = inv_data[fields.ResourceClass.DISK_GB],180,257
openstack%2Fcharm-neutron-api~master~Ic8577fcda3bb6a5ace793949de8052c71ae2c27e,openstack/charm-neutron-api,master,Ic8577fcda3bb6a5ace793949de8052c71ae2c27e,Add bundles to validate DVR and DVR-SNAT operation modes,MERGED,2019-07-03 09:32:39.000000000,2019-07-09 07:24:58.000000000,2019-07-09 07:24:58.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 09:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/6e0c9aea44f490cc882ef8fe4d7985e071d151a8', 'message': 'Add bundles to validate DVR and DVR-SNAT operation modes\n\nChange-Id: Ic8577fcda3bb6a5ace793949de8052c71ae2c27e\n'}, {'number': 2, 'created': '2019-07-04 07:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/dabe1d5de61d7c92c54de59e9da0c6594fb1c8e7', 'message': 'Add bundles to validate DVR and DVR-SNAT operation modes\n\nChange-Id: Ic8577fcda3bb6a5ace793949de8052c71ae2c27e\n'}, {'number': 3, 'created': '2019-07-08 11:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/50b3c081f27285a276f1d636f3dd0f1ed8b56948', 'message': 'Add bundles to validate DVR and DVR-SNAT operation modes\n\nChange-Id: Ic8577fcda3bb6a5ace793949de8052c71ae2c27e\n'}, {'number': 4, 'created': '2019-07-08 11:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/fbc9a8f7b3a12bbdaac638606a56097711e6e721', 'message': 'Add bundles to validate DVR and DVR-SNAT operation modes\n\nChange-Id: Ic8577fcda3bb6a5ace793949de8052c71ae2c27e\n'}, {'number': 5, 'created': '2019-07-08 12:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/5f3a375125c7c0649e8e2e374a163833291cbc3d', 'message': 'Add bundles to validate DVR and DVR-SNAT operation modes\n\nChange-Id: Ic8577fcda3bb6a5ace793949de8052c71ae2c27e\n'}, {'number': 6, 'created': '2019-07-08 13:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/7976fd8b99d56b8ccac9df46f1c2687f2f97cbe3', 'message': 'Add bundles to validate DVR and DVR-SNAT operation modes\n\nChange-Id: Ic8577fcda3bb6a5ace793949de8052c71ae2c27e\n'}, {'number': 7, 'created': '2019-07-08 14:32:50.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/bionic-stein-dvr-snat.yaml', 'tests/bundles/xenial-queens-dvr.yaml', 'tests/bundles/bionic-stein-dvr.yaml', 'tests/bundles/xenial-queens-dvr-snat.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/77cc148bd042d931721e645bb4db2e838c3c0fbb', 'message': 'Add bundles to validate DVR and DVR-SNAT operation modes\n\nChange-Id: Ic8577fcda3bb6a5ace793949de8052c71ae2c27e\n'}]",0,668844,77cc148bd042d931721e645bb4db2e838c3c0fbb,36,4,7,20634,,,0,"Add bundles to validate DVR and DVR-SNAT operation modes

Change-Id: Ic8577fcda3bb6a5ace793949de8052c71ae2c27e
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/44/668844/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/xenial-queens-dvr.yaml', 'tests/bundles/bionic-rocky-dvr-snat.yaml', 'tests/bundles/bionic-rocky-dvr.yaml', 'tests/bundles/xenial-queens-dvr-snat.yaml']",5,6e0c9aea44f490cc882ef8fe4d7985e071d151a8,feature/dvr-test-bundles,"variables: openstack-origin: &openstack-origin cloud:xenial-queens series: &series xenial machines: 0: constraints: ""mem=3072M"" 1: {} 2: {} 3: {} 4: {} 5: {} 6: {} 7: constraints: ""root-disk=20G mem=4G"" 8: constraints: ""root-disk=20G mem=4G"" # We specify machine placements for these to improve iteration # time, given that machine ""0"" comes up way before machine ""7"" applications: percona-cluster: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 options: source: *openstack-origin to: - '0' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '1' neutron-api: charm: ../../../neutron-api series: *series num_units: 1 options: flat-network-providers: physnet1 neutron-security-groups: true openstack-origin: *openstack-origin enable-dvr: True to: - '2' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '3' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '4' neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch options: use-dvr-snat: True bridge-mappings: physnet1:br-ex enable-local-dhcp-and-metadata: True nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: network-manager: Neutron openstack-origin: *openstack-origin to: - '6' nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 2 options: config-flags: default_ephemeral_format=ext4 enable-live-migration: true enable-resize: true migration-auth-type: ssh openstack-origin: *openstack-origin to: - '7' - '8' relations: - - 'neutron-api:shared-db' - 'percona-cluster:shared-db' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:neutron-plugin-api' - 'neutron-gateway:neutron-plugin-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'keystone:shared-db' - 'percona-cluster:shared-db' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'nova-cloud-controller:shared-db' - 'percona-cluster:shared-db' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'neutron-openvswitch:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'percona-cluster:shared-db' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service'",,528,0
openstack%2Fcharm-ceph-osd~master~I54fc582ecb2cee5de1302685e9103c636c7a307b,openstack/charm-ceph-osd,master,I54fc582ecb2cee5de1302685e9103c636c7a307b,bluestore-wal only needed if separate to DB device,MERGED,2019-06-18 04:45:32.000000000,2019-07-09 07:04:41.000000000,2019-07-09 07:04:41.000000000,"[{'_account_id': 6737}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 04:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/8776c0b1030c6fae20fce77e0d457dd3bc553ab9', 'message': 'bluestore-wal only needed if separate to DB device\n\nUpdate config.yaml to clarify that bluestore-wal should only be set\nwhere a separate (faster) device is being used for the WAL. Otherwise,\nthe WAL is automatically maintained within the space of the DB device\nand does not need to be configured separately.\n\nChange-Id: I54fc582ecb2cee5de1302685e9103c636c7a307b\nRef: http://docs.ceph.com/docs/master/rados/configuration/bluestore-config-ref/\n'}, {'number': 2, 'created': '2019-07-09 02:38:13.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/cb05b567d1bae4c78d201c8f3c96a723fb788491', 'message': 'bluestore-wal only needed if separate to DB device\n\nUpdate config.yaml to clarify that bluestore-wal should only be set\nwhere a separate (faster) device is being used for the WAL. Otherwise,\nthe WAL is automatically maintained within the space of the DB device\nand does not need to be configured separately.\n\nAdditionally clarify that this device is used as an LVM PV and space is\nallocated for each block device based on the\nbluestore-block-{db,wal}-size setting.\n\nChange-Id: I54fc582ecb2cee5de1302685e9103c636c7a307b\nRef: http://docs.ceph.com/docs/master/rados/configuration/bluestore-config-ref/\n'}]",0,665859,cb05b567d1bae4c78d201c8f3c96a723fb788491,12,4,2,21107,,,0,"bluestore-wal only needed if separate to DB device

Update config.yaml to clarify that bluestore-wal should only be set
where a separate (faster) device is being used for the WAL. Otherwise,
the WAL is automatically maintained within the space of the DB device
and does not need to be configured separately.

Additionally clarify that this device is used as an LVM PV and space is
allocated for each block device based on the
bluestore-block-{db,wal}-size setting.

Change-Id: I54fc582ecb2cee5de1302685e9103c636c7a307b
Ref: http://docs.ceph.com/docs/master/rados/configuration/bluestore-config-ref/
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/59/665859/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,8776c0b1030c6fae20fce77e0d457dd3bc553ab9,bluestore, Path to a BlueStore WAL block device or file. Should only be set if using a separate physical device that is faster than the DB device. Otherwise BlueStore automatically maintains the WAL inside of the DB device., Path to a BlueStore WAL block device or file.,3,1
openstack%2Fgovernance-uc~master~I0bb8846ee27bb85d89bc584671abf20a53d7b432,openstack/governance-uc,master,I0bb8846ee27bb85d89bc584671abf20a53d7b432,link to August 2019 election page,MERGED,2019-07-03 17:53:42.000000000,2019-07-09 06:49:28.000000000,2019-07-09 06:49:28.000000000,"[{'_account_id': 2033}, {'_account_id': 7272}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 24100}, {'_account_id': 28738}]","[{'number': 1, 'created': '2019-07-03 17:53:42.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/2539faf47f378e38036083504882d6f44146c900', 'message': 'link to August 2019 election page\n\nChange-Id: I0bb8846ee27bb85d89bc584671abf20a53d7b432\n'}]",0,668965,2539faf47f378e38036083504882d6f44146c900,9,6,1,24100,,,0,"link to August 2019 election page

Change-Id: I0bb8846ee27bb85d89bc584671abf20a53d7b432
",git fetch https://review.opendev.org/openstack/governance-uc refs/changes/65/668965/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,2539faf47f378e38036083504882d6f44146c900,election-link, reference/uc-election-aug2019,,1,0
openstack%2Fkuryr-kubernetes~master~I85d903902b516bfd109078705860540d731886bc,openstack/kuryr-kubernetes,master,I85d903902b516bfd109078705860540d731886bc,Fix fail to recreate namespace when previous KuryrNet CRD is not deleted,MERGED,2019-06-21 14:27:28.000000000,2019-07-09 06:45:35.000000000,2019-07-08 09:28:46.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-06-21 14:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/66efe7368281a4e09c33dc112ada1b8128aa982e', 'message': ""Fix fail to recreate namespace when previous KuryrNet CRD is not deleted\n\nWhen a namespace/project is recreated right after its deletion,\nit's possible that the previous kuryrNet CRD is not yet removed,\nand Kuryr will try to create another CRD, resulting in k8s conflict\nexception. In the meantime, other events handling resources under\nthe same namespace in question could be inquiring for an annotation\non the namespace, that was not annotated due to the conflict error,\ncausing the controller to restart.\n\nThis commit fixes the issue by adding an annotation to the KuryrNet\nCRD with the respective namespace uid, which allows to check\nif the existing CRD corresponds to the namespace.\n\nChange-Id: I85d903902b516bfd109078705860540d731886bc\nCloses-Bug: 1833712\n""}, {'number': 2, 'created': '2019-06-28 14:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/66f0c8aa74404ba037d8b88a36c90a39543e76a4', 'message': ""Fix fail to recreate namespace when previous KuryrNet CRD is not deleted\n\nWhen a namespace/project is recreated right after its deletion,\nit's possible that the previous kuryrNet CRD is not yet removed,\nand Kuryr will try to create another CRD, resulting in k8s conflict\nexception. In the meantime, other events handling resources under\nthe same namespace in question could be inquiring for an annotation\non the namespace, that was not annotated due to the conflict error,\ncausing the controller to restart.\n\nThis commit fixes the issue by adding an annotation to the KuryrNet\nCRD with the respective namespace uid, which allows to check\nif the existing CRD corresponds to the namespace.\n\nChange-Id: I85d903902b516bfd109078705860540d731886bc\nCloses-Bug: 1833712\n""}, {'number': 3, 'created': '2019-06-30 22:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c0065622f0ae74b3952644e08d71d6d02a1f3b51', 'message': ""Fix fail to recreate namespace when previous KuryrNet CRD is not deleted\n\nWhen a namespace/project is recreated right after its deletion,\nit's possible that the previous kuryrNet CRD is not yet removed,\nand Kuryr will try to create another CRD, resulting in k8s conflict\nexception. In the meantime, other events handling resources under\nthe same namespace in question could be inquiring for an annotation\non the namespace, that was not annotated due to the conflict error,\ncausing the controller to restart.\n\nThis commit fixes the issue by adding an annotation to the KuryrNet\nCRD with the respective namespace uid, which allows to check\nif the existing CRD corresponds to the namespace.\n\nChange-Id: I85d903902b516bfd109078705860540d731886bc\nCloses-Bug: 1833712\n""}, {'number': 4, 'created': '2019-07-02 18:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6e29b23f25e0d0136978b2a00bdb38eeb13290a0', 'message': ""Fix fail to recreate namespace when previous KuryrNet CRD is not deleted\n\nWhen a namespace/project is recreated right after its deletion,\nit's possible that the previous kuryrNet CRD is not yet removed,\nand Kuryr will try to create another CRD, resulting in k8s conflict\nexception. In the meantime, other events handling resources under\nthe same namespace in question could be inquiring for an annotation\non the namespace, that was not annotated due to the conflict error,\ncausing the controller to restart.\n\nThis commit fixes the issue by adding an annotation to the KuryrNet\nCRD with the respective namespace uid, which allows to check\nif the existing CRD corresponds to the namespace.\n\nChange-Id: I85d903902b516bfd109078705860540d731886bc\nCloses-Bug: 1833712\n""}, {'number': 5, 'created': '2019-07-02 19:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/859fe62734ffd59feee92598b1a3aff7b7d6f132', 'message': ""Fix fail to recreate namespace when previous KuryrNet CRD is not deleted\n\nWhen a namespace/project is recreated right after its deletion,\nit's possible that the previous kuryrNet CRD is not yet removed,\nand Kuryr will try to create another CRD, resulting in k8s conflict\nexception. In the meantime, other events handling resources under\nthe same namespace in question could be inquiring for an annotation\non the namespace, that was not annotated due to the conflict error,\ncausing the controller to restart.\n\nThis commit fixes the issue by adding an annotation to the KuryrNet\nCRD with the respective namespace uid, which allows to check\nif the existing CRD corresponds to the namespace.\n\nChange-Id: I85d903902b516bfd109078705860540d731886bc\nCloses-Bug: 1833712\n""}, {'number': 6, 'created': '2019-07-03 08:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b546d364f910bd9480866797d6e811499fa716c0', 'message': ""Fix fail to recreate namespace when previous KuryrNet CRD is not deleted\n\nWhen a namespace/project is recreated right after its deletion,\nit's possible that the previous kuryrNet CRD is not yet removed,\nand Kuryr will try to create another CRD, resulting in k8s conflict\nexception. In the meantime, other events handling resources under\nthe same namespace in question could be inquiring for an annotation\non the namespace, that was not annotated due to the conflict error,\ncausing the controller to restart.\n\nThis commit fixes the issue by adding an annotation to the KuryrNet\nCRD with the respective namespace uid, which allows to check\nif the existing CRD corresponds to the namespace.\n\nChange-Id: I85d903902b516bfd109078705860540d731886bc\nCloses-Bug: 1833712\n""}, {'number': 7, 'created': '2019-07-04 14:26:23.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_namespace.py', 'kuryr_kubernetes/controller/handlers/namespace.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/37b8e3e6b37c7ffd3136a1fbefdd7bb0c1739f6e', 'message': ""Fix fail to recreate namespace when previous KuryrNet CRD is not deleted\n\nWhen a namespace/project is recreated right after its deletion,\nit's possible that the previous kuryrNet CRD is not yet removed,\nand Kuryr will try to create another CRD, resulting in k8s conflict\nexception. In the meantime, other events handling resources under\nthe same namespace in question could be inquiring for an annotation\non the namespace, that was not annotated due to the conflict error,\ncausing the controller to restart.\n\nThis commit fixes the issue by adding an annotation to the KuryrNet\nCRD with the respective namespace uid, which allows to check\nif the existing CRD corresponds to the namespace.\n\nChange-Id: I85d903902b516bfd109078705860540d731886bc\nCloses-Bug: 1833712\n""}]",12,666850,37b8e3e6b37c7ffd3136a1fbefdd7bb0c1739f6e,29,4,7,27032,,,0,"Fix fail to recreate namespace when previous KuryrNet CRD is not deleted

When a namespace/project is recreated right after its deletion,
it's possible that the previous kuryrNet CRD is not yet removed,
and Kuryr will try to create another CRD, resulting in k8s conflict
exception. In the meantime, other events handling resources under
the same namespace in question could be inquiring for an annotation
on the namespace, that was not annotated due to the conflict error,
causing the controller to restart.

This commit fixes the issue by adding an annotation to the KuryrNet
CRD with the respective namespace uid, which allows to check
if the existing CRD corresponds to the namespace.

Change-Id: I85d903902b516bfd109078705860540d731886bc
Closes-Bug: 1833712
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/50/666850/4 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/namespace.py'],1,66efe7368281a4e09c33dc112ada1b8128aa982e,bug/1833712," kuryr_net_name = 'ns-' + ns_name net_crd = self._get_net_crd(kuryr_net_name) if net_crd: net_crd_annotations = net_crd['metadata']['annotations'] namespace_uid = namespace['metadata']['uid'] if namespace_uid != net_crd_annotations['namespaceUID']: LOG.debug(""Previous CRD existing at the new namespace."") raise exceptions.ResourceNotReady(namespace) ns_uid = namespace['metadata']['uid'] net_crd = self._add_kuryrnet_crd(ns_name, ns_uid, net_crd_spec) except exceptions.K8sResourceNotFound: return None def _add_kuryrnet_crd(self, namespace, namespace_uid, net_crd_spec): 'namespaceUID': namespace_uid,"," net_crd = self._add_kuryrnet_crd(ns_name, net_crd_spec) def _add_kuryrnet_crd(self, namespace, net_crd_spec):",15,2
openstack%2Fpuppet-tripleo~master~I798304a472df41b86a88611c97c2c99131faa0ad,openstack/puppet-tripleo,master,I798304a472df41b86a88611c97c2c99131faa0ad,Add dateext and related parameters for logrotate,MERGED,2019-07-08 05:41:10.000000000,2019-07-09 06:44:07.000000000,2019-07-09 05:35:30.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25613}]","[{'number': 1, 'created': '2019-07-08 05:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5f939db86aba2a1c74605d31ad64fcbd79dffe2d', 'message': 'Add dateext and related parameters for logrotate\n\nlogrotate.pp should support dateext and related parameters.\nBy this change, a filename of a rotated file can be easily distinguished\nby rotated date.\n\nChange-Id: I798304a472df41b86a88611c97c2c99131faa0ad\n'}, {'number': 2, 'created': '2019-07-08 08:00:07.000000000', 'files': ['templates/logrotate/containers_logrotate.conf.erb', 'manifests/profile/base/logging/logrotate.pp', 'releasenotes/notes/add-dateext-and-related-parameters-58dd288c74b818f7.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1eafeb67bf6d613d891fc26ee4452cded8115741', 'message': 'Add dateext and related parameters for logrotate\n\nlogrotate.pp should support dateext and related parameters.\nBy this change, a filename of a rotated file can be easily distinguished\nby rotated date.\n\nChange-Id: I798304a472df41b86a88611c97c2c99131faa0ad\n'}]",2,669604,1eafeb67bf6d613d891fc26ee4452cded8115741,17,6,2,25613,,,0,"Add dateext and related parameters for logrotate

logrotate.pp should support dateext and related parameters.
By this change, a filename of a rotated file can be easily distinguished
by rotated date.

Change-Id: I798304a472df41b86a88611c97c2c99131faa0ad
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/04/669604/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/logrotate/containers_logrotate.conf.erb', 'manifests/profile/base/logging/logrotate.pp']",2,5f939db86aba2a1c74605d31ad64fcbd79dffe2d,add_dateext,"# # [*dateext*] # (optional) Defaults to undef. # Conifugres the dateext parameter. # # [*dateformat*] # (optional) Defaults to undef. # Configures the dateformat parameter used with dateext parameter. # # [*dateyesterday*] # (optional) Defaults to undef. # Configures the dateyesterday parameter used with dateext parameter. $dateext = undef, $dateformat = undef, $dateyesterday = undef,",,24,0
openstack%2Fcinder~master~I87dab6c148c8c0911da9f0ddae2f2285a51da0c2,openstack/cinder,master,I87dab6c148c8c0911da9f0ddae2f2285a51da0c2,Add manage/unmanage to FusionStorage Cinder Driver,ABANDONED,2019-03-20 06:10:08.000000000,2019-07-09 06:41:54.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29217}]","[{'number': 1, 'created': '2019-03-20 06:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9fa35566f6cbd2cf490cdfa30cea8839cac9beba', 'message': 'Add manage/unmanage to FusionStorage Cinder Driver\n\nIn order to improve the functionality of the FusionStorage Driver, the\n""manage_existing/unmanage"" and ""manage_existing_snapshot/unmanage_snapshot""\nare added.\n\nChange-Id: I87dab6c148c8c0911da9f0ddae2f2285a51da0c2\n'}, {'number': 2, 'created': '2019-03-24 09:22:00.000000000', 'files': ['cinder/tests/unit/volume/drivers/fusionstorage/test_fs_client.py', 'cinder/tests/unit/volume/drivers/fusionstorage/test_dsware.py', 'cinder/volume/drivers/fusionstorage/fs_client.py', 'cinder/volume/drivers/fusionstorage/constants.py', 'releasenotes/notes/fusionstorage-driver-manage-unmanage-943aeb8ba10c89fd.yaml', 'cinder/volume/drivers/fusionstorage/dsware.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/812e90e983008c334138fb2f9fd9da16881ee3b2', 'message': 'Add manage/unmanage to FusionStorage Cinder Driver\n\nIn order to improve the functionality of the FusionStorage Driver, the\n""manage_existing/unmanage"" and ""manage_existing_snapshot/unmanage_snapshot""\nare added.\n\nChange-Id: I87dab6c148c8c0911da9f0ddae2f2285a51da0c2\n'}]",4,644773,812e90e983008c334138fb2f9fd9da16881ee3b2,70,35,2,29217,,,0,"Add manage/unmanage to FusionStorage Cinder Driver

In order to improve the functionality of the FusionStorage Driver, the
""manage_existing/unmanage"" and ""manage_existing_snapshot/unmanage_snapshot""
are added.

Change-Id: I87dab6c148c8c0911da9f0ddae2f2285a51da0c2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/644773/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/fusionstorage/test_fs_client.py', 'cinder/tests/unit/volume/drivers/fusionstorage/test_dsware.py', 'cinder/volume/drivers/fusionstorage/fs_client.py', 'cinder/volume/drivers/fusionstorage/constants.py', 'cinder/volume/drivers/fusionstorage/dsware.py']",5,9fa35566f6cbd2cf490cdfa30cea8839cac9beba,," def _get_volume_info(self, pool_id, existing_ref): vol_name = existing_ref.get('source-name') vol_id = existing_ref.get('source-id') if not (vol_name or vol_id): msg = _('Must specify source-name or source-id.') raise exception.ManageExistingInvalidReference( existing_ref=existing_ref, reason=msg) vol_info = None if vol_name: vol_info = self.client.query_volume_by_name(vol_name) if vol_id: try: vol_info = self.client.query_volume_by_id(vol_id) except Exception: LOG.warning(""Query volume info by id failed!"") vol_info = self.client.get_volume_by_id(pool_id, vol_id) if not vol_info: msg = _(""Can't find volume on the array, please check the "" ""source-name or source-id."") raise exception.ManageExistingInvalidReference( existing_ref=existing_ref, reason=msg) return vol_info def manage_existing(self, volume, existing_ref): pool = self._get_pool_id(volume) vol_info = self._get_volume_info(pool, existing_ref) vol_pool_id = vol_info.get('poolId') if pool != vol_pool_id: msg = (_(""The specified LUN does not belong to the given "" ""pool: %s."") % pool) raise exception.ManageExistingInvalidReference( existing_ref=existing_ref, reason=msg) provider_location = {""name"": vol_info.get('volName')} return {'provider_location': json.dumps(provider_location)} def manage_existing_get_size(self, volume, existing_ref): pool = self._get_pool_id(volume) vol_info = self._get_volume_info(pool, existing_ref) remainder = float(vol_info.get(""volSize"")) % units.Ki if remainder != 0: msg = _(""The volume size must be an integer multiple of 1 GB."") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) size = float(vol_info.get(""volSize"")) / units.Ki return int(size) def unmanage(self, volume): return def _get_snapshot_info(self, volume, existing_ref): snapshot_name = existing_ref.get('source-name') if not snapshot_name: msg = _(""Can't find volume on the array, please check the "" ""source-name."") raise exception.ManageExistingInvalidReference( existing_ref=existing_ref, reason=msg) pool_id = self._get_pool_id(volume) snapshot_info = self.client.query_snapshot_by_name( pool_id, snapshot_name=snapshot_name) if not snapshot_info: msg = _(""Can't find snapshot on the array."") raise exception.ManageExistingInvalidReference( existing_ref=existing_ref, reason=msg) return snapshot_info def _check_snapshot_match_volume(self, vol_name, snapshot_name): snapshot_info = self.client.query_snapshots_of_volume( vol_name, snapshot_name) if snapshot_info: return snapshot_info def manage_existing_snapshot(self, snapshot, existing_ref): volume = snapshot.volume snapshot_info = self._get_snapshot_info(volume, existing_ref) vol_name = self._get_vol_name(volume) if not self._check_snapshot_match_volume( vol_name, snapshot_info.get(""snapName"")): msg = (_(""The specified snapshot does not belong to the given "" ""volume: %s."") % vol_name) raise exception.ManageExistingInvalidReference( existing_ref=existing_ref, reason=msg) provider_location = {""name"": snapshot_info.get('snapName')} return {'provider_location': json.dumps(provider_location)} def manage_existing_snapshot_get_size(self, snapshot, existing_ref): snapshot_info = self._get_snapshot_info(snapshot.volume, existing_ref) remainder = float(snapshot_info.get(""snapSize"")) % units.Ki if remainder != 0: msg = _(""The snapshot size must be an integer multiple of 1 GB."") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) size = float(snapshot_info.get(""snapSize"")) / units.Ki return int(size) def unmanage_snapshot(self, snapshot): return ",,432,0
openstack%2Fplacement~master~Icb886d5062a52bfc757ed7bbe36ed8a63abe1387,openstack/placement,master,Icb886d5062a52bfc757ed7bbe36ed8a63abe1387,Update implemented spec and spec document handling,MERGED,2019-07-04 13:56:35.000000000,2019-07-09 06:41:04.000000000,2019-07-08 22:22:24.000000000,"[{'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-04 13:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/7a7ddbae3dd773dfe4f16086626990fbd2a66f0e', 'message': 'Update implemented spec and spec document handling\n\nForbidden aggregates was added in microversion 1.32 (part of Train)\nso that spec has been moved to implemented.\n\nWhile doing that I noticed the management of spec documents can be\nsimplified somewhat by moving placeholders and templates to a\nnon-release specific location. The placeholder can then be used\nas a symlink when in approved or implemented when those are first\ncreated or otherwise empty (an empty directory when doing a table of\ncontents glob is an error so some kind of file is needed).\n\nContribution docs are updated to reflect the location of the\ntemplate.rst file. The template.rst file is updated to be release\ngeneric.\n\nChange-Id: Icb886d5062a52bfc757ed7bbe36ed8a63abe1387\n'}, {'number': 2, 'created': '2019-07-04 14:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/3ee8956dbc852bde8fa1becd403a9857f0a8909f', 'message': ""Update implemented spec and spec document handling\n\nForbidden aggregates was added in microversion 1.32 (part of Train)\nso that spec has been moved to implemented.\n\nAn _extra/.htaccess is added to redirect the approved spec to the\nimplemented spec. If we're experiencing enough volume of specs to\nwarrant automating this, it should be easy to do, but at this point\nwe don't have, nor intend to have, large numbers of specs.\n\nWhile doing that I noticed the management of spec documents can be\nsimplified somewhat by moving placeholders and templates to a\nnon-release specific location. The placeholder can then be used\nas a symlink when in approved or implemented when those are first\ncreated or otherwise empty (an empty directory when doing a table of\ncontents glob is an error so some kind of file is needed).\n\nContribution docs are updated to reflect the location of the\ntemplate.rst file. The template.rst file is updated to be release\ngeneric.\n\nChange-Id: Icb886d5062a52bfc757ed7bbe36ed8a63abe1387\n""}, {'number': 3, 'created': '2019-07-05 15:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/2fa4951fe8dc79ecebb6222dbc15f8f9825c6978', 'message': ""Update implemented spec and spec document handling\n\nForbidden aggregates was added in microversion 1.32 (part of Train)\nand allocation candidates mappings was added in 1.34 so those specs\nhave been moved to implemented.\n\nAn _extra/.htaccess is added to redirect the approved spec to the\nimplemented spec. If we're experiencing enough volume of specs to\nwarrant automating this, it should be easy to do, but at this point\nwe don't have, nor intend to have, large numbers of specs.\n\nWhile doing that I noticed the management of spec documents can be\nsimplified somewhat by moving placeholders and templates to a\nnon-release specific location. The placeholder can then be used\nas a symlink when in approved or implemented when those are first\ncreated or otherwise empty (an empty directory when doing a table of\ncontents glob is an error so some kind of file is needed).\n\nContribution docs are updated to reflect the location of the\ntemplate.rst file. The template.rst file is updated to be release\ngeneric.\n\nChange-Id: Icb886d5062a52bfc757ed7bbe36ed8a63abe1387\n""}, {'number': 4, 'created': '2019-07-05 15:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/c59d0741f83253fcfabeb5bed0249e2deb69c4d4', 'message': ""Update implemented spec and spec document handling\n\nForbidden aggregates was added in microversion 1.32 (part of Train)\nand allocation candidates mappings was added in 1.34 so those specs\nhave been moved to implemented.\n\nAn _extra/.htaccess is added to redirect the approved spec to the\nimplemented spec. If we're experiencing enough volume of specs to\nwarrant automating this, it should be easy to do, but at this point\nwe don't have, nor intend to have, large numbers of specs.\n\nWhile doing that I noticed the management of spec documents can be\nsimplified somewhat by moving placeholders and templates to a\nnon-release specific location. The placeholder can then be used\nas a symlink when in approved or implemented when those are first\ncreated or otherwise empty (an empty directory when doing a table of\ncontents glob is an error so some kind of file is needed).\n\nContribution docs are updated to reflect the location of the\ntemplate.rst file. The template.rst file is updated to be release\ngeneric.\n\nChange-Id: Icb886d5062a52bfc757ed7bbe36ed8a63abe1387\n""}, {'number': 5, 'created': '2019-07-05 15:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ec4404a69a46759f59c2f627fd4e6f02a73a4f0c', 'message': ""Update implemented spec and spec document handling\n\nForbidden aggregates was added in microversion 1.32 (part of Train)\nand allocation candidates mappings was added in 1.34 so those specs\nhave been moved to implemented.\n\nAn _extra/.htaccess is added to redirect the approved spec to the\nimplemented spec. If we're experiencing enough volume of specs to\nwarrant automating this, it should be easy to do, but at this point\nwe don't have, nor intend to have, large numbers of specs.\n\nWhile doing that I noticed the management of spec documents can be\nsimplified somewhat by moving placeholders and templates to a\nnon-release specific location. The placeholder can then be used\nas a symlink when in approved or implemented when those are first\ncreated or otherwise empty (an empty directory when doing a table of\ncontents glob is an error so some kind of file is needed).\n\nContribution docs are updated to reflect the location of the\ntemplate.rst file. The template.rst file is updated to be release\ngeneric.\n\nChange-Id: Icb886d5062a52bfc757ed7bbe36ed8a63abe1387\n""}, {'number': 6, 'created': '2019-07-08 08:18:43.000000000', 'files': ['doc/source/contributor/contributing.rst', 'doc/source/specs/index.rst', 'doc/source/specs/train/implemented/2005297-negative-aggregate-membership.rst', 'doc/source/specs/train/implemented/placement-resource-provider-request-group-mapping-in-allocation-candidates.rst', 'doc/source/specs/template.rst', 'doc/source/conf.py', 'doc/source/_extra/.htaccess', 'doc/source/specs/placeholder.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/3659df6e75ae1fdd98d6cd95ac58fd9dc324bf77', 'message': ""Update implemented spec and spec document handling\n\nForbidden aggregates was added in microversion 1.32 (part of Train)\nand allocation candidates mappings was added in 1.34 so those specs\nhave been moved to implemented.\n\nAn _extra/.htaccess is added to redirect the approved spec to the\nimplemented spec. If we're experiencing enough volume of specs to\nwarrant automating this, it should be easy to do, but at this point\nwe don't have, nor intend to have, large numbers of specs.\n\nWhile doing that I noticed the management of spec documents can be\nsimplified somewhat by moving placeholders and templates to a\nnon-release specific location. The placeholder can then be used\nas a symlink when in approved or implemented when those are first\ncreated or otherwise empty (an empty directory when doing a table of\ncontents glob is an error so some kind of file is needed).\n\nContribution docs are updated to reflect the location of the\ntemplate.rst file. The template.rst file is updated to be release\ngeneric.\n\nChange-Id: Icb886d5062a52bfc757ed7bbe36ed8a63abe1387\n""}]",7,669184,3659df6e75ae1fdd98d6cd95ac58fd9dc324bf77,24,5,6,11564,,,0,"Update implemented spec and spec document handling

Forbidden aggregates was added in microversion 1.32 (part of Train)
and allocation candidates mappings was added in 1.34 so those specs
have been moved to implemented.

An _extra/.htaccess is added to redirect the approved spec to the
implemented spec. If we're experiencing enough volume of specs to
warrant automating this, it should be easy to do, but at this point
we don't have, nor intend to have, large numbers of specs.

While doing that I noticed the management of spec documents can be
simplified somewhat by moving placeholders and templates to a
non-release specific location. The placeholder can then be used
as a symlink when in approved or implemented when those are first
created or otherwise empty (an empty directory when doing a table of
contents glob is an error so some kind of file is needed).

Contribution docs are updated to reflect the location of the
template.rst file. The template.rst file is updated to be release
generic.

Change-Id: Icb886d5062a52bfc757ed7bbe36ed8a63abe1387
",git fetch https://review.opendev.org/openstack/placement refs/changes/84/669184/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'doc/source/specs/index.rst', 'doc/source/specs/train/implemented/2005297-negative-aggregate-membership.rst', 'doc/source/specs/template.rst', 'doc/source/specs/placeholder.rst']",5,7a7ddbae3dd773dfe4f16086626990fbd2a66f0e,cd/spec-update,created in approved or moved to implemented.,implemented.,11,4
openstack%2Fkeystone~master~I6ccf470ef41c858c9aac90c8ce03dcfdb5468b82,openstack/keystone,master,I6ccf470ef41c858c9aac90c8ce03dcfdb5468b82,nit: remove some useless code,MERGED,2018-10-23 08:08:40.000000000,2019-07-09 05:18:55.000000000,2019-07-09 05:18:55.000000000,"[{'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-10-23 08:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/319252c949bb5b62a2ef7c713706e4b7630c1c85', 'message': 'nit: remove useless code\n\nThe code for memcache_pool, mongo and noop cache backends\nhave been removed already.\n\nChange-Id: I6ccf470ef41c858c9aac90c8ce03dcfdb5468b82\n'}, {'number': 2, 'created': '2018-10-23 08:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2cefbf2190aaeaf353502fcbfe30af34c260d453', 'message': 'nit: remove useless code\n\nThe code for memcache_pool, mongo and noop cache backends\nhave been removed already.\n\nChange-Id: I6ccf470ef41c858c9aac90c8ce03dcfdb5468b82\n'}, {'number': 3, 'created': '2018-10-25 03:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f1cb8bcd012a7f2acde37279182610f8e2b24bf5', 'message': 'nit: remove some useless code\n\nRemove some uneless code\n\nChange-Id: I6ccf470ef41c858c9aac90c8ce03dcfdb5468b82\n'}, {'number': 4, 'created': '2018-10-25 03:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2f9dd93a3c3f4b77fb2581393eb48ae1effa41ce', 'message': 'nit: remove some useless code\n\nRemove some uneless code\n\nChange-Id: I6ccf470ef41c858c9aac90c8ce03dcfdb5468b82\n'}, {'number': 5, 'created': '2018-11-08 01:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/01a93949cdfa248eb2acf7362ff85310c74871f0', 'message': 'nit: remove some useless code\n\nRemove some uneless code\n\nChange-Id: I6ccf470ef41c858c9aac90c8ce03dcfdb5468b82\n'}, {'number': 6, 'created': '2019-07-08 19:41:16.000000000', 'files': ['keystone/common/validation/__init__.py', 'keystone/common/password_hashing.py', 'keystone/common/sql/upgrades.py', 'keystone/common/cache/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/19cd84b8409982a3d226fca25b090ff320a64aad', 'message': 'nit: remove some useless code\n\nRemove some uneless code\n\nChange-Id: I6ccf470ef41c858c9aac90c8ce03dcfdb5468b82\n'}]",6,612625,19cd84b8409982a3d226fca25b090ff320a64aad,32,7,6,15054,,,0,"nit: remove some useless code

Remove some uneless code

Change-Id: I6ccf470ef41c858c9aac90c8ce03dcfdb5468b82
",git fetch https://review.opendev.org/openstack/keystone refs/changes/25/612625/4 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/cache/core.py'],1,319252c949bb5b62a2ef7c713706e4b7630c1c85,nit-fix,," # NOTE(stevemar): When memcache_pool, mongo and noop backends are removed # we no longer need to register the backends here. dogpile.cache.register_backend( 'keystone.common.cache.noop', 'keystone.common.cache.backends.noop', 'NoopCacheBackend') dogpile.cache.register_backend( 'keystone.cache.mongo', 'keystone.common.cache.backends.mongo', 'MongoCacheBackend') dogpile.cache.register_backend( 'keystone.cache.memcache_pool', 'keystone.common.cache.backends.memcache_pool', 'PooledMemcachedBackend')",0,18
openstack%2Fcinder~stable%2Frocky~I4ca37dc248ac5defbc988507379288299b19a6d7,openstack/cinder,stable/rocky,I4ca37dc248ac5defbc988507379288299b19a6d7,Remove Sheepdog tests from zuul config,MERGED,2019-07-05 11:36:16.000000000,2019-07-09 05:18:52.000000000,2019-07-09 05:18:52.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 13144}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-07-05 11:36:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2990af850e54ba746e6ca9620d3e817e7e52e5b1', 'message': 'Remove Sheepdog tests from zuul config\n\nThis was not working in Stein either. Backporting to allow us to\neventually remove the job definition in openstack-zuul-jobs.\n\nChange-Id: I4ca37dc248ac5defbc988507379288299b19a6d7\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit c83e7ec2a1fe54ce8c6d217b63b3b8bd4c944b0d)\n(cherry picked from commit 9d63940886337581f7ef3b4a5d3dada0120a20c0)\n'}]",0,669332,2990af850e54ba746e6ca9620d3e817e7e52e5b1,33,17,1,11904,,,0,"Remove Sheepdog tests from zuul config

This was not working in Stein either. Backporting to allow us to
eventually remove the job definition in openstack-zuul-jobs.

Change-Id: I4ca37dc248ac5defbc988507379288299b19a6d7
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit c83e7ec2a1fe54ce8c6d217b63b3b8bd4c944b0d)
(cherry picked from commit 9d63940886337581f7ef3b4a5d3dada0120a20c0)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/669332/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2990af850e54ba746e6ca9620d3e817e7e52e5b1,,, - legacy-tempest-dsvm-full-sheepdog-src-os-brick: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^api-ref/.*$ - ^cinder/hacking/.*$ - ^cinder/locale/.*$ - ^cinder/tests/functional.*$ - ^cinder/tests/unit.*$ - ^contrib/block-box.*$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - legacy-tempest-dsvm-full-sheepdog: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^api-ref/.*$ - ^cinder/hacking/.*$ - ^cinder/locale/.*$ - ^cinder/tests/functional.*$ - ^cinder/tests/unit.*$ - ^contrib/block-box.*$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$,0,30
openstack%2Frequirements~master~I1eb8b41fb3ef655b62ec04cb27245d0c2b067ad9,openstack/requirements,master,I1eb8b41fb3ef655b62ec04cb27245d0c2b067ad9,Updated from generate-constraints,MERGED,2019-06-30 06:16:24.000000000,2019-07-09 05:18:50.000000000,2019-07-09 05:18:50.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-30 06:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/43f524d4f9030c7f150d769b291a504ff8134b99', 'message': 'Updated from generate-constraints\n\nChange-Id: I1eb8b41fb3ef655b62ec04cb27245d0c2b067ad9\n'}, {'number': 2, 'created': '2019-07-02 06:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a083b9b7b442d874c5a3cd5e60f5dfb8900947cb', 'message': 'Updated from generate-constraints\n\nChange-Id: I1eb8b41fb3ef655b62ec04cb27245d0c2b067ad9\n'}, {'number': 3, 'created': '2019-07-04 06:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/94e99bdaf31accd80b98d85a1e568383e3b0970c', 'message': 'Updated from generate-constraints\n\nChange-Id: I1eb8b41fb3ef655b62ec04cb27245d0c2b067ad9\n'}, {'number': 4, 'created': '2019-07-05 06:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/18580a80b98a3611b4c4ce1b284c3a5fe4f40234', 'message': 'Updated from generate-constraints\n\nChange-Id: I1eb8b41fb3ef655b62ec04cb27245d0c2b067ad9\n'}, {'number': 5, 'created': '2019-07-06 06:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0bde619abf0a5e227a9704e3c104fbf4b45586b6', 'message': 'Updated from generate-constraints\n\nChange-Id: I1eb8b41fb3ef655b62ec04cb27245d0c2b067ad9\n'}, {'number': 6, 'created': '2019-07-08 17:03:55.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c41dd980de6433a6f8add3c024e316b9bd7d7ecf', 'message': 'Updated from generate-constraints\n\nChange-Id: I1eb8b41fb3ef655b62ec04cb27245d0c2b067ad9\n'}]",0,668314,c41dd980de6433a6f8add3c024e316b9bd7d7ecf,17,2,6,11131,,,0,"Updated from generate-constraints

Change-Id: I1eb8b41fb3ef655b62ec04cb27245d0c2b067ad9
",git fetch https://review.opendev.org/openstack/requirements refs/changes/14/668314/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,43f524d4f9030c7f150d769b291a504ff8134b99,openstack/requirements/constraints/noclob,tornado===5.1.1;python_version=='2.7'storops===1.2.0jsonschema===3.0.1,tornado===4.5.3;python_version=='2.7'storops===1.1.0jsonschema===2.6.0,3,3
openstack%2Ftempest~master~Ifca8172f2f929105af4bad8ab72b05c2c45a5f58,openstack/tempest,master,Ifca8172f2f929105af4bad8ab72b05c2c45a5f58,Define the Integrated-gate-networking gate template,MERGED,2019-07-03 14:53:23.000000000,2019-07-09 05:18:47.000000000,2019-07-09 05:18:47.000000000,"[{'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11564}, {'_account_id': 11975}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 14:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/454444e49df13c9f25391b626de6a17d18694dcc', 'message': ""Define the Integrated-gate-networking gate template\n\ntempest-full job run all services API and scenario tests (non slow)\nand this job is part of Integrated-gate gate template which run on\nmultiple services (nova, neutron, cinder, glance, placement) check\nand gate pipeline.\n\nBut there are many unrelated tests run on each project gate. For example,\nneutron gate run cinder only tests and fail due to cinder bugs. There is\nno point of breaking the neutron gate due to cinder only test failure and\nslow down the neutron development phase.\n\nThis is what we dicussed in Train PTG in denver to improve the integrated\ngate[1] and came up with idea of split the integated-gate template into\nmuch logical way so that only dependent services tests run on their gate.\n\nOne way was to move the service only tests to service tempest plugin side\nbut Tempest is used by interop as well as on production cloud testing so\nmoving the test is not good idea.\n\nThis commit propose the idea of defining the 'Integrated-gate-networking'\ngate template for neutron gate which will run only nova and neutron tests.\n\nML discussion: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/005871.html\n\nNext step will be to replace the Integrated-gate-py3 template with new\nIntegrated-gate-networking template on neutron gate.\n\n[1] https://etherpad.openstack.org/p/qa-train-ptg\n\nChange-Id: Ifca8172f2f929105af4bad8ab72b05c2c45a5f58\n""}, {'number': 2, 'created': '2019-07-04 04:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b206574b55a7ac5ddc4efea83f5b354446f4c100', 'message': ""Define the Integrated-gate-networking gate template\n\ntempest-full job run all services API and scenario tests (non slow)\nand this job is part of Integrated-gate gate template which run on\nmultiple services (nova, neutron, cinder, glance, placement) check\nand gate pipeline.\n\nBut there are many unrelated tests run on each project gate. For example,\nneutron gate run cinder only tests and fail due to cinder bugs. There is\nno point of breaking the neutron gate due to cinder only test failure and\nslow down the neutron development phase.\n\nThis is what we dicussed in Train PTG in denver to improve the integrated\ngate[1] and came up with idea of split the integated-gate template into\nmuch logical way so that only dependent services tests run on their gate.\n\nOne way was to move the service only tests to service tempest plugin side\nbut Tempest is used by interop as well as on production cloud testing so\nmoving the test is not good idea.\n\nThis commit propose the idea of defining the 'Integrated-gate-networking'\ngate template for neutron gate which will run only nova and neutron tests.\n\nML discussion: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/005871.html\n\nNext step will be to replace the Integrated-gate-py3 template with new\nIntegrated-gate-networking template on neutron gate.\n\n[1] https://etherpad.openstack.org/p/qa-train-ptg\n\nChange-Id: Ifca8172f2f929105af4bad8ab72b05c2c45a5f58\n""}, {'number': 3, 'created': '2019-07-05 08:04:26.000000000', 'files': ['tools/tempest-integrated-gate-networking-blacklist.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5072a24080c00586a130aaf5de130725c4ec32d9', 'message': ""Define the Integrated-gate-networking gate template\n\ntempest-full job run all services API and scenario tests (non slow)\nand this job is part of Integrated-gate gate template which run on\nmultiple services (nova, neutron, cinder, glance, placement) check\nand gate pipeline.\n\nBut there are many unrelated tests run on each project gate. For example,\nneutron gate run cinder only tests and fail due to cinder bugs. There is\nno point of breaking the neutron gate due to cinder only test failure and\nslow down the neutron development phase.\n\nThis is what we dicussed in Train PTG in denver to improve the integrated\ngate[1] and came up with idea of split the integated-gate template into\nmuch logical way so that only dependent services tests run on their gate.\n\nOne way was to move the service only tests to service tempest plugin side\nbut Tempest is used by interop as well as on production cloud testing so\nmoving the test is not good idea.\n\nThis commit propose the idea of defining the 'Integrated-gate-networking'\ngate template for neutron gate which will run only nova and neutron tests.\n\nML discussion: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/005871.html\n\nNext step will be to replace the Integrated-gate-py3 template with new\nIntegrated-gate-networking template on neutron gate.\n\n[1] https://etherpad.openstack.org/p/qa-train-ptg\n\nChange-Id: Ifca8172f2f929105af4bad8ab72b05c2c45a5f58\n""}]",2,668930,5072a24080c00586a130aaf5de130725c4ec32d9,25,8,3,8556,,,0,"Define the Integrated-gate-networking gate template

tempest-full job run all services API and scenario tests (non slow)
and this job is part of Integrated-gate gate template which run on
multiple services (nova, neutron, cinder, glance, placement) check
and gate pipeline.

But there are many unrelated tests run on each project gate. For example,
neutron gate run cinder only tests and fail due to cinder bugs. There is
no point of breaking the neutron gate due to cinder only test failure and
slow down the neutron development phase.

This is what we dicussed in Train PTG in denver to improve the integrated
gate[1] and came up with idea of split the integated-gate template into
much logical way so that only dependent services tests run on their gate.

One way was to move the service only tests to service tempest plugin side
but Tempest is used by interop as well as on production cloud testing so
moving the test is not good idea.

This commit propose the idea of defining the 'Integrated-gate-networking'
gate template for neutron gate which will run only nova and neutron tests.

ML discussion: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/005871.html

Next step will be to replace the Integrated-gate-py3 template with new
Integrated-gate-networking template on neutron gate.

[1] https://etherpad.openstack.org/p/qa-train-ptg

Change-Id: Ifca8172f2f929105af4bad8ab72b05c2c45a5f58
",git fetch https://review.opendev.org/openstack/tempest refs/changes/30/668930/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/tempest-integrated-gate-networking-blacklist.txt', '.zuul.yaml', 'tox.ini']",3,454444e49df13c9f25391b626de6a17d18694dcc,refactor-integrated-gate-testing,"[testenv:integrated-network] envdir = .tox/tempest sitepackages = {[tempestenv]sitepackages} setenv = {[tempestenv]setenv} deps = {[tempestenv]deps} # The regex below is used to select which tests to run and exclude the slow tag and # tests listed in blacklist file: commands = find . -type f -name ""*.pyc"" -delete empest run --regex '(?!.*\[.*\bslow\b.*\])(^tempest\.api)' --blacklist_file ./tools/tempest-integrated-gate-networking-blacklist.txt {posargs} tempest run --combine --serial --regex '(?!.*\[.*\bslow\b.*\])(^tempest\.scenario)' --blacklist_file ./tools/tempest-integrated-gate-networking-blacklist.txt {posargs} ",,66,0
openstack%2Fneutron~master~I960455d6a9bc1b633d485c42a26b3a254731558e,openstack/neutron,master,I960455d6a9bc1b633d485c42a26b3a254731558e,"Implement ""ip route delete"" command using Pyroute2",MERGED,2019-06-21 16:49:22.000000000,2019-07-09 05:18:45.000000000,2019-07-09 05:18:44.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-21 16:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a28e36c71d237b3911e3dc5c1c5ff112d91530d', 'message': '[WIP] Implement ""ip route delete"" command using Pyroute2\n\nChange-Id: I960455d6a9bc1b633d485c42a26b3a254731558e\nRelated-Bug: #1492714\n'}, {'number': 2, 'created': '2019-06-22 17:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d88a9b9e263f3a0acf841274edf77c754ec2aa56', 'message': 'Implement ""ip route delete"" command using Pyroute2\n\nChange-Id: I960455d6a9bc1b633d485c42a26b3a254731558e\nRelated-Bug: #1492714\n'}, {'number': 3, 'created': '2019-06-22 17:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d14009039af2f180631386a5a0edde83830f77b0', 'message': 'Implement ""ip route delete"" command using Pyroute2\n\nChange-Id: I960455d6a9bc1b633d485c42a26b3a254731558e\nRelated-Bug: #1492714\n'}, {'number': 4, 'created': '2019-06-22 19:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6780ebcf7092fe71fce4443d62b519c59d67bf2', 'message': 'Implement ""ip route delete"" command using Pyroute2\n\nChange-Id: I960455d6a9bc1b633d485c42a26b3a254731558e\nRelated-Bug: #1492714\n'}, {'number': 5, 'created': '2019-06-25 10:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5bf2829f3f92c28eb3e8534805fe8121373418d', 'message': 'Implement ""ip route delete"" command using Pyroute2\n\nChange-Id: I960455d6a9bc1b633d485c42a26b3a254731558e\nRelated-Bug: #1492714\n'}, {'number': 6, 'created': '2019-06-27 10:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b69073d5fe1fabc5e9d619db366ef55ad4586e7f', 'message': 'Implement ""ip route delete"" command using Pyroute2\n\nChange-Id: I960455d6a9bc1b633d485c42a26b3a254731558e\nRelated-Bug: #1492714\n'}, {'number': 7, 'created': '2019-07-01 10:37:58.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/429c77c574f471bdbb4dd91debef7a72c920b1e0', 'message': 'Implement ""ip route delete"" command using Pyroute2\n\nChange-Id: I960455d6a9bc1b633d485c42a26b3a254731558e\nRelated-Bug: #1492714\n'}]",9,666890,429c77c574f471bdbb4dd91debef7a72c920b1e0,41,9,7,16688,,,0,"Implement ""ip route delete"" command using Pyroute2

Change-Id: I960455d6a9bc1b633d485c42a26b3a254731558e
Related-Bug: #1492714
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/666890/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py']",3,2a28e36c71d237b3911e3dc5c1c5ff112d91530d,bug/1492714,"@lockutils.synchronized(""privileged-ip-lib"")def _make_pyroute2_route_args(namespace, ip_version, cidr, device, via, table, metric, scope, protocol): """"""Returns a dictionary of arguments to be used in pyroute route commands :param namespace: (string) name of the namespace :param ip_version: (int) [4, 6] :param cidr: (string) source IP or CIDR address (IPv4, IPv6) :param device: (string) input interface name :param via: (string) gateway IP address :param table: (string, int) table number or name :param metric: (int) route metric :param scope: (int) route scope :param protocol: (string) protocol name (pyroute2.netlink.rtnl.rt_proto) :return: a dictionary with the kwargs needed in pyroute rule commands """""" args = {'family': _IP_VERSION_FAMILY_MAP[ip_version]} if not scope: scope = 'global' if via else 'link' scope = _get_scope_name(scope) if scope: args['scope'] = scope if cidr: args['dst'] = cidr if device: args['oif'] = get_link_id(device, namespace) if via: args['gateway'] = via if table: args['table'] = int(table) if metric: args['priority'] = int(metric) if protocol: args['proto'] = protocol return args @privileged.default.entrypoint kwargs.update(_make_pyroute2_route_args( namespace, ip_version, cidr, device, via, table, metric, scope, 'static')) ip.route('replace', **kwargs)@privileged.default.entrypoint kwargs.update(_make_pyroute2_route_args( namespace, ip_version, None, device, None, table, None, None, None)) return make_serializable(ip.route('show', **kwargs)) except OSError as e: if e.errno == errno.ENOENT: raise NetworkNamespaceNotFound(netns_name=namespace) raise @lockutils.synchronized(""privileged-ip-lib"") @privileged.default.entrypoint def delete_ip_route(namespace, cidr, ip_version, device=None, via=None, table=None, scope=None, **kwargs): """"""Delete an IP route"""""" try: with get_iproute(namespace) as ip: kwargs.update(_make_pyroute2_route_args( namespace, ip_version, cidr, device, via, table, None, scope, None)) ip.route('del', **kwargs)","@lockutils.synchronized(""privileged-ip-lib"")@privileged.default.entrypoint family = _IP_VERSION_FAMILY_MAP[ip_version] if not scope: scope = 'global' if via else 'link' scope = _get_scope_name(scope) if cidr: kwargs['dst'] = cidr if via: kwargs['gateway'] = via if table: kwargs['table'] = int(table) if device: kwargs['oif'] = get_link_id(device, namespace) if metric: kwargs['priority'] = int(metric) ip.route('replace', family=family, scope=scope, proto='static', **kwargs)@privileged.default.entrypoint family = _IP_VERSION_FAMILY_MAP[ip_version] if table: kwargs['table'] = table if device: kwargs['oif'] = get_link_id(device, namespace) return make_serializable(ip.route('show', family=family, **kwargs))",127,73
openstack%2Fneutron~master~I5e5e9f6981024317773979d9d2d77db3f5e7ec98,openstack/neutron,master,I5e5e9f6981024317773979d9d2d77db3f5e7ec98,"Implement ""ip route"" commands using Pyroute2",MERGED,2019-05-29 13:23:40.000000000,2019-07-09 05:18:41.000000000,2019-07-09 05:18:41.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-29 13:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ca55b3d6339c2c0ae2a361498fa421b12806d70', 'message': '[WIP] Implement ""ip route"" commands using Pyroute2\n\nCommands implemented:\n* add route\n* list routes\n\nRelated-Bug: #1492714\n\nChange-Id: I5e5e9f6981024317773979d9d2d77db3f5e7ec98\n'}, {'number': 2, 'created': '2019-05-29 18:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/22c9c688580d50487b9e1463f87b384c5cf66e74', 'message': '[WIP] Implement ""ip route"" commands using Pyroute2\n\nCommands implemented:\n* add route\n* list routes\n\nRelated-Bug: #1492714\n\nChange-Id: I5e5e9f6981024317773979d9d2d77db3f5e7ec98\n'}, {'number': 3, 'created': '2019-06-07 16:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/24848528172818c600f57bf7d198d6e0cbc5539f', 'message': '[WIP] Implement ""ip route"" commands using Pyroute2\n\nCommands implemented:\n* add route\n* list routes\n\nRelated-Bug: #1492714\n\nChange-Id: I5e5e9f6981024317773979d9d2d77db3f5e7ec98\n'}, {'number': 4, 'created': '2019-06-11 17:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4f5f0d6602696fc47b55c4270870dfc307a4b40', 'message': '[WIP] Implement ""ip route"" commands using Pyroute2\n\nCommands implemented:\n* add route\n* list routes\n\nRelated-Bug: #1492714\n\nChange-Id: I5e5e9f6981024317773979d9d2d77db3f5e7ec98\n'}, {'number': 5, 'created': '2019-06-12 15:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bca86997f6a49675e12fba71657be4770ade339e', 'message': 'Implement ""ip route"" commands using Pyroute2\n\nCommands implemented:\n* Add route\n* List routes\n\nRelated-Bug: #1492714\n\nChange-Id: I5e5e9f6981024317773979d9d2d77db3f5e7ec98\n'}, {'number': 6, 'created': '2019-06-14 11:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/01478aedee92493cbd15c227d39a012aaad96dff', 'message': 'Implement ""ip route"" commands using Pyroute2\n\nCommands implemented:\n* Add route\n* List routes\n\nRelated-Bug: #1492714\n\nChange-Id: I5e5e9f6981024317773979d9d2d77db3f5e7ec98\n'}, {'number': 7, 'created': '2019-06-15 19:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a062d6eae7fd6cb7e9369ae10c660c34dfd75df', 'message': 'Implement ""ip route"" commands using Pyroute2\n\nCommands implemented:\n* Add route\n* List routes\n\nRelated-Bug: #1492714\n\nChange-Id: I5e5e9f6981024317773979d9d2d77db3f5e7ec98\n'}, {'number': 8, 'created': '2019-06-16 20:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56e57b382c97a3f11dc967fa985cc7bdf364386f', 'message': 'Implement ""ip route"" commands using Pyroute2\n\nCommands implemented:\n* Add route\n* List routes\n\nRelated-Bug: #1492714\n\nChange-Id: I5e5e9f6981024317773979d9d2d77db3f5e7ec98\n'}, {'number': 9, 'created': '2019-06-17 13:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c93967b291aeaa67738a32b07ac778c7a2b47e73', 'message': 'Implement ""ip route"" commands using Pyroute2\n\nCommands implemented:\n* Add route\n* List routes\n\nRelated-Bug: #1492714\n\nChange-Id: I5e5e9f6981024317773979d9d2d77db3f5e7ec98\n'}, {'number': 10, 'created': '2019-06-18 11:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3eb660f3afeb6b372fa9d14862a009d19858094', 'message': 'Implement ""ip route"" commands using Pyroute2\n\nCommands implemented:\n* Add route\n* List routes\n\nRelated-Bug: #1492714\n\nChange-Id: I5e5e9f6981024317773979d9d2d77db3f5e7ec98\n'}, {'number': 11, 'created': '2019-06-25 09:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b564415c107a5aaf2e74148ce5847a065090035', 'message': 'Implement ""ip route"" commands using Pyroute2\n\nCommands implemented:\n* Add route\n* List routes\n\nRelated-Bug: #1492714\n\nChange-Id: I5e5e9f6981024317773979d9d2d77db3f5e7ec98\n'}, {'number': 12, 'created': '2019-06-27 10:08:09.000000000', 'files': ['neutron/cmd/sanity/checks.py', 'neutron/tests/functional/agent/l3/test_legacy_router.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/functional/privileged/agent/linux/test_ip_lib.py', 'neutron/tests/fullstack/resources/machine.py', 'neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/06997136097152ea67611ec56b345e5867184df5', 'message': 'Implement ""ip route"" commands using Pyroute2\n\nCommands implemented:\n* Add route\n* List routes\n\nRelated-Bug: #1492714\n\nChange-Id: I5e5e9f6981024317773979d9d2d77db3f5e7ec98\n'}]",32,661981,06997136097152ea67611ec56b345e5867184df5,76,9,12,16688,,,0,"Implement ""ip route"" commands using Pyroute2

Commands implemented:
* Add route
* List routes

Related-Bug: #1492714

Change-Id: I5e5e9f6981024317773979d9d2d77db3f5e7ec98
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/661981/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/ip_lib.py', 'neutron/tests/functional/privileged/agent/linux/test_ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py']",3,8ca55b3d6339c2c0ae2a361498fa421b12806d70,bug/1492714," @privileged.default.entrypoint @lockutils.synchronized(""privileged-ip-lib"") def add_ip_route(namespace, cidr, ip_version, device=None, via=None, table=None, metric=None, scope='link', **kwargs): try: with get_iproute(namespace) as ip: family = _IP_VERSION_FAMILY_MAP[ip_version] scope = _get_scope_name(scope) if cidr: kwargs['dst'] = cidr if via: kwargs['gateway'] = via if table: kwargs['table'] = int(table) if device: kwargs['oif'] = get_link_id(device, namespace) if metric: kwargs['priority'] = int(metric) ip.route('replace', family=family, scope=scope, **kwargs) except OSError as e: if e.errno == errno.ENOENT: raise NetworkNamespaceNotFound(netns_name=namespace) raise @privileged.default.entrypoint @lockutils.synchronized(""privileged-ip-lib"") def list_ip_routes(namespace, ip_version, device=None, table=None, **kwargs): try: with get_iproute(namespace) as ip: family = _IP_VERSION_FAMILY_MAP[ip_version] if table: kwargs['table'] = table if device: kwargs['idx'] = get_link_id(device, namespace) return make_serializable(ip.route('show', family=family, **kwargs)) except OSError as e: if e.errno == errno.ENOENT: raise NetworkNamespaceNotFound(netns_name=namespace) raise",,628,422
openstack%2Ftripleo-heat-templates~master~I6d68431fd3c66c9496a36d3cfa9c2efe57e2ed99,openstack/tripleo-heat-templates,master,I6d68431fd3c66c9496a36d3cfa9c2efe57e2ed99,Increase the default memlock to 64MiB via ``DockerNovaComputeUlimit``.,MERGED,2019-06-20 06:44:00.000000000,2019-07-09 05:01:27.000000000,2019-07-09 04:52:27.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 12898}, {'_account_id': 13861}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-20 06:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4bff167f9b0c4685d3c690203ad5845f69dd3990', 'message': 'Raise the default ulimit of max locked memory for nova containers\n\nChange-Id: I6d68431fd3c66c9496a36d3cfa9c2efe57e2ed99\n'}, {'number': 2, 'created': '2019-07-03 02:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a4a3c9ac53118daf9fc5433aaf487664514c873c', 'message': 'Raise the default ulimit of max locked memory for nova containers\n\nChange-Id: I6d68431fd3c66c9496a36d3cfa9c2efe57e2ed99\n'}, {'number': 3, 'created': '2019-07-03 02:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f4a487d5d25b57c35b70eed565a4549bf0c91d4', 'message': 'Raise the default ulimit of max locked memory for nova containers\n\nChange-Id: I6d68431fd3c66c9496a36d3cfa9c2efe57e2ed99\n'}, {'number': 4, 'created': '2019-07-03 22:13:55.000000000', 'files': ['releasenotes/notes/nova-memlock-increase-066ed22764ed3ce1.yaml', 'deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ce5989e49eb64cdf1bc13b8a27cdb0674ee0e23', 'message': 'Increase the default memlock to 64MiB via ``DockerNovaComputeUlimit``.\n\nThis builds on I0fb688bfe03cd0459f6f74ca37e3e6c913b0cbcb to raise the\nulimit for locked memory on nova containers[1].  This is needed because\nof [2] where the transient container nova_cell_v2_discover_hosts fails\nwith permission denied on ppc64le\n\nNote: this is a limit maximum not a pre-allocation so for existing\ncontainers and architectures the impact is expected to be a no-op.\n\n[1] Currently nova_compute and nova_cell_v2_discover_hosts\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1709564\n\nChange-Id: I6d68431fd3c66c9496a36d3cfa9c2efe57e2ed99\n'}]",10,666498,6ce5989e49eb64cdf1bc13b8a27cdb0674ee0e23,37,7,4,12898,,,0,"Increase the default memlock to 64MiB via ``DockerNovaComputeUlimit``.

This builds on I0fb688bfe03cd0459f6f74ca37e3e6c913b0cbcb to raise the
ulimit for locked memory on nova containers[1].  This is needed because
of [2] where the transient container nova_cell_v2_discover_hosts fails
with permission denied on ppc64le

Note: this is a limit maximum not a pre-allocation so for existing
containers and architectures the impact is expected to be a no-op.

[1] Currently nova_compute and nova_cell_v2_discover_hosts
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1709564

Change-Id: I6d68431fd3c66c9496a36d3cfa9c2efe57e2ed99
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/666498/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,4bff167f9b0c4685d3c690203ad5845f69dd3990,," default: ['nofile=131072', 'memlock=67108864']", default: ['nofile=131072'],1,1
openstack%2Fwatcher~master~I797ad934a0f8496dbcbf65798e28b0443f238137,openstack/watcher,master,I797ad934a0f8496dbcbf65798e28b0443f238137,Reduce the query time of the instances when call get_instance_list(),MERGED,2019-06-28 06:59:05.000000000,2019-07-09 03:54:20.000000000,2019-07-09 03:54:19.000000000,"[{'_account_id': 6873}, {'_account_id': 13111}, {'_account_id': 14107}, {'_account_id': 15888}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-28 06:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/322598e61f92f20cc407cc00619835c9bdc30c5f', 'message': 'Reduce the query time of the instances when call get_instance_list()\n\nChange-Id: I797ad934a0f8496dbcbf65798e28b0443f238137\n'}, {'number': 2, 'created': '2019-06-29 02:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/6332fb01835e092c5de5a030b4c605468200ed30', 'message': ""Reduce the query time of the instances when call get_instance_list()\n\nThe problem is that watcher is passing limit=-1 to novaclient when\nlisting servers which will always make at least two API calls to be\nsure it's done paging:\n\nhttps://github.com/openstack/python-novaclient/blob/13.0.1/novaclient/v2/servers.py#L896\n\nIf we can determine before we list servers that there are only a\ncertain number - 4 in this example - we should just pass the\nlimit=len(servers) to novaclient and avoid the second call for\npaging which takes extra time and yields no results.\n\nChange-Id: I797ad934a0f8496dbcbf65798e28b0443f238137\nCloses-Bug: #1833665\n""}, {'number': 3, 'created': '2019-07-01 13:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/aa7eee55d38045dc2499cc3b4f0f0099fdf36f3c', 'message': ""Reduce the query time of the instances when call get_instance_list()\n\nThe problem is that watcher is passing limit=-1 to novaclient when\nlisting servers which will always make at least two API calls to be\nsure it's done paging:\n\nhttps://github.com/openstack/python-novaclient/blob/13.0.1/novaclient/v2/servers.py#L896\n\nIf we can determine before we list servers that there are only a\ncertain number - 4 in this example - we should just pass the\nlimit=len(servers) to novaclient and avoid the second call for\npaging which takes extra time and yields no results.\n\nChange-Id: I797ad934a0f8496dbcbf65798e28b0443f238137\nCloses-Bug: #1833665\n""}, {'number': 4, 'created': '2019-07-04 02:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/1f3420ff05daf6c165f1acca0d0da7c1750c3010', 'message': ""Reduce the query time of the instances when call get_instance_list()\n\nThe problem is that watcher is passing limit=-1 to novaclient when\nlisting servers which will always make at least two API calls to be\nsure it's done paging:\n\nhttps://github.com/openstack/python-novaclient/blob/13.0.1/novaclient/v2/servers.py#L896\n\nIf we can determine before we list servers that there are only a\ncertain number where the number of servers is less than 1000. For\nexample: 4, we should just pass the limit=len(servers) to novaclient\nand avoid the second call for paging which takes extra time and\nyields no results.\n\nChange-Id: I797ad934a0f8496dbcbf65798e28b0443f238137\nCloses-Bug: #1834679\n""}, {'number': 5, 'created': '2019-07-04 05:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/415a4268b3039f2062d7b2a3c1972543d4bfa8b1', 'message': ""Reduce the query time of the instances when call get_instance_list()\n\nThe problem is that watcher is passing limit=-1 to novaclient when\nlisting servers which will always make at least two API calls to be\nsure it's done paging:\n\nhttps://github.com/openstack/python-novaclient/blob/13.0.1/novaclient/v2/servers.py#L896\n\nIf we can determine before we list servers that there are only a\ncertain number where the number of servers is less than 1000. For\nexample: 4, we should just pass the limit=len(servers) to novaclient\nand avoid the second call for paging which takes extra time and\nyields no results.\n\nChange-Id: I797ad934a0f8496dbcbf65798e28b0443f238137\nCloses-Bug: #1834679\n""}, {'number': 6, 'created': '2019-07-08 01:59:43.000000000', 'files': ['watcher/common/nova_helper.py', 'watcher/tests/decision_engine/cluster/test_nova_cdmc.py', 'watcher/decision_engine/model/collector/nova.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/1e8b17ac46a9052234c9f56da42a2a4bb8250216', 'message': ""Reduce the query time of the instances when call get_instance_list()\n\nThe problem is that watcher is passing limit=-1 to novaclient when\nlisting servers which will always make at least two API calls to be\nsure it's done paging:\n\nhttps://github.com/openstack/python-novaclient/blob/13.0.1/novaclient/v2/servers.py#L896\n\nIf we can determine before we list servers that there are only a\ncertain number where the number of servers is less than 1000. For\nexample: 4, we should just pass the limit=len(servers) to novaclient\nand avoid the second call for paging which takes extra time and\nyields no results.\n\nChange-Id: I797ad934a0f8496dbcbf65798e28b0443f238137\nCloses-Bug: #1834679\n""}]",24,668100,1e8b17ac46a9052234c9f56da42a2a4bb8250216,35,8,6,28748,,,0,"Reduce the query time of the instances when call get_instance_list()

The problem is that watcher is passing limit=-1 to novaclient when
listing servers which will always make at least two API calls to be
sure it's done paging:

https://github.com/openstack/python-novaclient/blob/13.0.1/novaclient/v2/servers.py#L896

If we can determine before we list servers that there are only a
certain number where the number of servers is less than 1000. For
example: 4, we should just pass the limit=len(servers) to novaclient
and avoid the second call for paging which takes extra time and
yields no results.

Change-Id: I797ad934a0f8496dbcbf65798e28b0443f238137
Closes-Bug: #1834679
",git fetch https://review.opendev.org/openstack/watcher refs/changes/00/668100/6 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/common/nova_helper.py', 'watcher/tests/decision_engine/cluster/test_nova_cdmc.py', 'watcher/decision_engine/model/collector/nova.py']",3,322598e61f92f20cc407cc00619835c9bdc30c5f,bug/1834679," len_instances = len(instances) filters = {'host': host} instances = self.nova_helper.get_instance_list( filters=filters, limit=len_instances)", instances = self.nova_helper.get_instance_list({'host': host}),8,4
openstack%2Fneutron~master~I3bcd3cec12b1b6f6a568cda4bfeb569f636efb98,openstack/neutron,master,I3bcd3cec12b1b6f6a568cda4bfeb569f636efb98,Fix bulk port binding,MERGED,2019-06-15 15:06:02.000000000,2019-07-09 03:35:32.000000000,2019-07-08 20:38:25.000000000,"[{'_account_id': 1131}, {'_account_id': 4727}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11600}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-15 15:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/73e8ddf94e06c102cc9d206ee2da4584befb6d1c', 'message': 'Treat single port additions as a special case of bulk\n\nIn order to make sure that bulk port additions work the same way as\nregular port additions, treat single port additions as a special case of\nbulk.  This should also flush out any issues with edge cases that the\nbulk port logic did not handle correctly.\n\nChange-Id: I3bcd3cec12b1b6f6a568cda4bfeb569f636efb98\n'}, {'number': 2, 'created': '2019-06-26 14:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4631ca3bf88ff6a1339e5ca58ca47db23fc7cf4b', 'message': 'Fic bulk port binding\n\nBulk ports were not binding correctly when they were created.  This is\ndue to a few inconsistencies between the create_port code and the\ncreate_port_bulk code, mostly a result of the use of the Port object in\nthe bulk code.\n\nChange-Id: I3bcd3cec12b1b6f6a568cda4bfeb569f636efb98\n'}, {'number': 3, 'created': '2019-06-26 14:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec3d9dbd9a90c858cc7d8c649ddbbcb62c9a6501', 'message': 'Fix bulk port binding\n\nBulk ports were not binding correctly when they were created.  This is\ndue to a few inconsistencies between the create_port code and the\ncreate_port_bulk code, mostly a result of the use of the Port object in\nthe bulk code.\n\nChange-Id: I3bcd3cec12b1b6f6a568cda4bfeb569f636efb98\n'}, {'number': 4, 'created': '2019-06-28 18:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/592d655165565ff70d22e33cb4a9a33a644b5439', 'message': 'Fix bulk port binding\n\nBulk ports were not binding correctly when they were created.  This is\ndue to a few inconsistencies between the create_port code and the\ncreate_port_bulk code, mostly a result of the use of the Port object in\nthe bulk code.\n\nChange-Id: I3bcd3cec12b1b6f6a568cda4bfeb569f636efb98\n'}, {'number': 5, 'created': '2019-07-03 12:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/020135478ef96d5be85ee5c0916d0d81206fdbf2', 'message': 'Fix bulk port binding\n\nBulk ports were not binding correctly when they were created.  This is\ndue to a few inconsistencies between the create_port code and the\ncreate_port_bulk code, mostly a result of the use of the Port object in\nthe bulk code.\n\nChange-Id: I3bcd3cec12b1b6f6a568cda4bfeb569f636efb98\nCloses-Bug: #1835209\n'}, {'number': 6, 'created': '2019-07-04 09:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4a74ae42fc6f10a617194fad9857c108a7ddd5af', 'message': 'Fix bulk port binding\n\nBulk ports were not binding correctly when they were created.  This is\ndue to a few inconsistencies between the create_port code and the\ncreate_port_bulk code, mostly a result of the use of the Port object in\nthe bulk code.\n\nChange-Id: I3bcd3cec12b1b6f6a568cda4bfeb569f636efb98\nCloses-Bug: #1835209\n'}, {'number': 7, 'created': '2019-07-05 12:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/777c45442f5e8c24193cda8192a5af57de1ddcc7', 'message': 'Fix bulk port binding\n\nBulk ports were not binding correctly when they were created.  This is\ndue to a few inconsistencies between the create_port code and the\ncreate_port_bulk code, mostly a result of the use of the Port object in\nthe bulk code.\n\nChange-Id: I3bcd3cec12b1b6f6a568cda4bfeb569f636efb98\nCloses-Bug: #1835209\n'}, {'number': 8, 'created': '2019-07-05 13:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef1751a6b48ed95c5b73b0ce34c7db1faa59fa2c', 'message': 'Fix bulk port binding\n\nBulk ports were not binding correctly when they were created.  This is\ndue to a few inconsistencies between the create_port code and the\ncreate_port_bulk code, mostly a result of the use of the Port object in\nthe bulk code.\n\nChange-Id: I3bcd3cec12b1b6f6a568cda4bfeb569f636efb98\nCloses-Bug: #1835209\n'}, {'number': 9, 'created': '2019-07-05 17:50:45.000000000', 'files': ['neutron/db/db_base_plugin_common.py', 'neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py', 'neutron/tests/unit/db/test_rbac_db_mixin.py', 'neutron/db/l3_db.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0c172afa6ea38e94563afb4994471420b27cddf', 'message': 'Fix bulk port binding\n\nBulk ports were not binding correctly when they were created.  This is\ndue to a few inconsistencies between the create_port code and the\ncreate_port_bulk code, mostly a result of the use of the Port object in\nthe bulk code.\n\nChange-Id: I3bcd3cec12b1b6f6a568cda4bfeb569f636efb98\nCloses-Bug: #1835209\n'}]",14,665516,d0c172afa6ea38e94563afb4994471420b27cddf,60,12,9,13995,,,0,"Fix bulk port binding

Bulk ports were not binding correctly when they were created.  This is
due to a few inconsistencies between the create_port code and the
create_port_bulk code, mostly a result of the use of the Port object in
the bulk code.

Change-Id: I3bcd3cec12b1b6f6a568cda4bfeb569f636efb98
Closes-Bug: #1835209
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/665516/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_common.py', 'neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_mech_driver.py', 'neutron/tests/unit/db/test_rbac_db_mixin.py', 'neutron/db/l3_db.py', 'neutron/plugins/ml2/plugin.py']",7,73e8ddf94e06c102cc9d206ee2da4584befb6d1c,bulk_port_fix," pdata = port.get('port') if pdata: device_owner = pdata.get('device_owner') if device_owner and device_owner not in const.ROUTER_INTERFACE_OWNERS: ports = {'ports': [port]} return self.create_port_bulk(context, ports).pop() else: self._before_create_port(context, port) result, mech_context = self._create_port_db(context, port) return self._after_create_port(context, result, mech_context) project_id = pdata.get('project_id') or pdata.get('tenant_id') pdata.get('device_id'), project_id) bulk_port_data = dict(project_id=project_id, port['port']['mac_address'] = str(eui_mac_address) bulk_port_data['mac_address'] = str(eui_mac_address) ips = self.ipam.allocate_ips_for_port_and_store( context, port, db_port_obj['id']) ipam_fixed_ips = [] for ip in ips: fixed_ip = ports_obj.IPAllocation( port_id=db_port_obj['id'], subnet_id=ip['subnet_id'], network_id=network_id, ip_address=ip['ip_address']) ipam_fixed_ips.append(fixed_ip) db_port_obj['fixed_ips'] = ipam_fixed_ips # Make port dict port_dict = self._make_port_dict(db_port_obj, process_extensions=False) port_dict[portbindings.HOST_ID] = pdata.get(portbindings.HOST_ID) port_compat = {'port': port_dict} binding[""host""] = pdata.get('name')"," self._before_create_port(context, port) result, mech_context = self._create_port_db(context, port) return self._after_create_port(context, result, mech_context) pdata.get('device_id'), pdata.get('tenant_id')) bulk_port_data = dict(project_id=pdata.get('project_id'), port_dict = self._make_port_dict(db_port_obj, process_extensions=False) port_compat = {'port': port_dict} self.ipam.allocate_ips_for_port_and_store( context, db_port_obj, db_port_obj['id'])",48,14
openstack%2Fkolla-ansible~stable%2Fstein~Iecc46b364ad9fc69fe67dd09ee1b4e3c5511f01c,openstack/kolla-ansible,stable/stein,Iecc46b364ad9fc69fe67dd09ee1b4e3c5511f01c,CI: add periodic-stable-jobs Zuul project template,MERGED,2019-07-08 10:24:41.000000000,2019-07-09 03:16:31.000000000,2019-07-09 03:16:31.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-08 10:24:41.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c38c15e5b6bf2841bc51556574200df2ee06de9c', 'message': 'CI: add periodic-stable-jobs Zuul project template\n\nKolla has it already and kolla-ansible should.\nPatch to backport as far as pike.\nAffects only stable branches.\n\nChange-Id: Iecc46b364ad9fc69fe67dd09ee1b4e3c5511f01c\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit ed540b0496b31b8306355b1cae203a0bed6e678d)\n'}]",0,669630,c38c15e5b6bf2841bc51556574200df2ee06de9c,8,4,1,30491,,,0,"CI: add periodic-stable-jobs Zuul project template

Kolla has it already and kolla-ansible should.
Patch to backport as far as pike.
Affects only stable branches.

Change-Id: Iecc46b364ad9fc69fe67dd09ee1b4e3c5511f01c
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit ed540b0496b31b8306355b1cae203a0bed6e678d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/669630/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,c38c15e5b6bf2841bc51556574200df2ee06de9c,periodic-stable-jobs-stable/stein, - periodic-stable-jobs,,1,0
openstack%2Ftripleo-repos~master~I8c36439a365c714a01e0c6f6cf3e725fa5332fb0,openstack/tripleo-repos,master,I8c36439a365c714a01e0c6f6cf3e725fa5332fb0,Fix mirror replacement logic for empty ones,MERGED,2019-07-05 14:42:20.000000000,2019-07-09 03:12:57.000000000,2019-07-09 03:12:57.000000000,"[{'_account_id': 8175}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-05 14:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/90e0791264eacae29937c91f9100bbaa326080b9', 'message': 'Fix mirror replacement logic for empty ones\n\nFixes installation of mirrors on RHEL8 which has no default mirrors\nsetup.\n\nChange-Id: I8c36439a365c714a01e0c6f6cf3e725fa5332fb0\nNeeded-By: https://review.opendev.org/#/c/666607\n'}, {'number': 2, 'created': '2019-07-05 14:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/5bb5ac55ff2adc5abcff1ba92cd6de568c760348', 'message': 'Fix mirror replacement logic for empty ones\n\nFixes installation of mirrors on RHEL8 which has no default mirrors\nsetup.\n\nChange-Id: I8c36439a365c714a01e0c6f6cf3e725fa5332fb0\nNeeded-By: https://review.opendev.org/#/c/666607\n'}, {'number': 3, 'created': '2019-07-05 15:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/6ce2e0546be1663425d76e4045cc8e82da6edca0', 'message': 'WIP: Fix mirror replacement logic for empty ones\n\nFixes installation of mirrors on RHEL8 which has no default mirrors\nsetup.\n\nChange-Id: I8c36439a365c714a01e0c6f6cf3e725fa5332fb0\nNeeded-By: https://review.opendev.org/#/c/666607\n'}, {'number': 4, 'created': '2019-07-05 15:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/6e530eb286631574295729077607018e35cd65fe', 'message': 'WIP: Fix mirror replacement logic for empty ones\n\nFixes installation of mirrors on RHEL8 which has no default mirrors\nsetup.\n\nChange-Id: I8c36439a365c714a01e0c6f6cf3e725fa5332fb0\nNeeded-By: https://review.opendev.org/#/c/669343/\n'}, {'number': 5, 'created': '2019-07-05 16:43:47.000000000', 'files': ['tripleo_repos/tests/test_main.py', 'tripleo_repos/main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/30712d982f812f13ceb8e03a65e77d28415980e2', 'message': 'Fix mirror replacement logic for empty ones\n\nFixes installation of mirrors on RHEL8 which has no default mirrors\nsetup.\n\nChange-Id: I8c36439a365c714a01e0c6f6cf3e725fa5332fb0\nNeeded-By: https://review.opendev.org/#/c/669343/\n'}]",2,669366,30712d982f812f13ceb8e03a65e77d28415980e2,17,6,5,24162,,,0,"Fix mirror replacement logic for empty ones

Fixes installation of mirrors on RHEL8 which has no default mirrors
setup.

Change-Id: I8c36439a365c714a01e0c6f6cf3e725fa5332fb0
Needed-By: https://review.opendev.org/#/c/669343/
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/66/669366/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_repos/main.py'],1,90e0791264eacae29937c91f9100bbaa326080b9,fix-rhel-mirror," if args.rdo_mirror: new_content = RDO_RE.sub('baseurl=%s' % args.rdo_mirror, content) else: # we replace the entire first part of the url new_content = RDO_RE.sub( r""baseurl=(http|https)\:\/\/[a-zA-Z0-9\.\/\?\:@\-_=#]+\.[a-zA-Z]{2,6}"", content) # noqa E501"," new_content = RDO_RE.sub('baseurl=%s' % args.rdo_mirror, content)",6,1
openstack%2Ftripleo-heat-templates~master~I3c7854654cb7238ee6297c6178ee6d55402be40a,openstack/tripleo-heat-templates,master,I3c7854654cb7238ee6297c6178ee6d55402be40a,Remove the tripleo.plan_management.v1.publish_ui_logs_to_swift cron trigger,MERGED,2019-07-04 12:21:38.000000000,2019-07-09 03:12:56.000000000,2019-07-09 03:12:56.000000000,"[{'_account_id': 3153}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-04 12:21:38.000000000', 'files': ['extraconfig/post_deploy/undercloud_post.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d665a2bb03786d4be269a21415385f99de99d2ae', 'message': 'Remove the tripleo.plan_management.v1.publish_ui_logs_to_swift cron trigger\n\nThis was only used by tripleo-ui and is no longer needed.\n\nChange-Id: I3c7854654cb7238ee6297c6178ee6d55402be40a\nRelated-bug: #1835242\n'}]",0,669159,d665a2bb03786d4be269a21415385f99de99d2ae,15,5,1,9712,,,0,"Remove the tripleo.plan_management.v1.publish_ui_logs_to_swift cron trigger

This was only used by tripleo-ui and is no longer needed.

Change-Id: I3c7854654cb7238ee6297c6178ee6d55402be40a
Related-bug: #1835242
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/669159/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/post_deploy/undercloud_post.py'],1,d665a2bb03786d4be269a21415385f99de99d2ae,mistral-removal,,"def _create_logging_cron(mistral): mistral.cron_triggers.create( 'publish-ui-logs-hourly', 'tripleo.plan_management.v1.publish_ui_logs_to_swift', pattern='0 * * * *') print('INFO: Undercloud post - Cron triggers configured successfully.') _create_logging_cron(mistral)",0,9
openstack%2Fpython-tripleoclient~master~I1cc1d20f8e15d531fb94b02c8d1313888fc8964d,openstack/python-tripleoclient,master,I1cc1d20f8e15d531fb94b02c8d1313888fc8964d,Validate all or no subnets use dns_nameservers,MERGED,2019-07-02 15:28:44.000000000,2019-07-09 02:03:40.000000000,2019-07-09 02:03:40.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-02 15:28:44.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a7dd7a6bbe94388fe73bdfedf47984e734183106', 'message': 'Validate all or no subnets use dns_nameservers\n\nFollow up for https://review.opendev.org/667380\n\nAdds a validation to ensure that dns_nameservers\nare used for all subnets if used. If not subnets\ndefines dns_nameservers they all fall back to\nuse undercloud_nameservers which was has been the\ndefault for some time.\n\nRelates-Bug: #1834306\nChange-Id: I1cc1d20f8e15d531fb94b02c8d1313888fc8964d\n'}]",5,668696,a7dd7a6bbe94388fe73bdfedf47984e734183106,17,7,1,24245,,,0,"Validate all or no subnets use dns_nameservers

Follow up for https://review.opendev.org/667380

Adds a validation to ensure that dns_nameservers
are used for all subnets if used. If not subnets
defines dns_nameservers they all fall back to
use undercloud_nameservers which was has been the
default for some time.

Relates-Bug: #1834306
Change-Id: I1cc1d20f8e15d531fb94b02c8d1313888fc8964d
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/96/668696/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_preflight.py'],1,a7dd7a6bbe94388fe73bdfedf47984e734183106,bug/1834306,"def _check_all_or_no_subnets_use_dns_nameservers(): x = [CONF.get(s).get('dns_nameservers') for s in CONF.subnets] if any(([len(y) == 0 for y in x])) and any(([len(y) > 0 for y in x])): message = (_('Option dns_nameservers is defined for subnets: {0}. ' 'Option dns_nameservers is also required for subnets: ' '{1}.').format( ', '.join([s for s in CONF.subnets if CONF.get(s).get('dns_nameservers')]), ', '.join([s for s in CONF.subnets if not CONF.get(s).get('dns_nameservers')]))) LOG.error(message) raise FailedValidation(message) _check_all_or_no_subnets_use_dns_nameservers()",,15,0
openstack%2Fpuppet-tripleo~master~I58edc44f859a0b46c1b1ae82c453df9f4d2bc487,openstack/puppet-tripleo,master,I58edc44f859a0b46c1b1ae82c453df9f4d2bc487,Remove unnecessary logic,MERGED,2019-07-03 07:33:48.000000000,2019-07-09 01:48:02.000000000,2019-07-09 01:48:01.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-03 07:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/572ac8dc1ddb20871d8227ca8e327fa1dfe7f799', 'message': ""Remove unnecessary logic\n\nTHT logic which exposed fluentd logging hieradata even when the service\nwas not enabled was removed, so the logic in rsyslog file_input working\nwith such data won't ever work.\n\nChange-Id: I58edc44f859a0b46c1b1ae82c453df9f4d2bc487\n""}, {'number': 2, 'created': '2019-07-04 09:14:24.000000000', 'files': ['manifests/profile/base/logging/rsyslog/file_input.pp', 'spec/fixtures/hieradata/step2.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f8eb9096de435ef36af1e4747bbaa4cc3096c72b', 'message': ""Remove unnecessary logic\n\nTHT logic which exposed fluentd logging hieradata even when the service\nwas not enabled was removed, so the logic in rsyslog file_input working\nwith such data won't ever work.\n\nChange-Id: I58edc44f859a0b46c1b1ae82c453df9f4d2bc487\n""}]",0,668810,f8eb9096de435ef36af1e4747bbaa4cc3096c72b,12,5,2,5241,,,0,"Remove unnecessary logic

THT logic which exposed fluentd logging hieradata even when the service
was not enabled was removed, so the logic in rsyslog file_input working
with such data won't ever work.

Change-Id: I58edc44f859a0b46c1b1ae82c453df9f4d2bc487
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/10/668810/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/logging/rsyslog/file_input.pp', 'spec/fixtures/hieradata/step2.yaml']",2,572ac8dc1ddb20871d8227ca8e327fa1dfe7f799,rsyslog-clean,tripleo_logging_sources_horizon: - file: '/var/log/horizon/test.log' - file: '/var/log/horizon/access.log',tripleo_fluentd_sources_horizon: - path: '/var/log/horizon/test.log' - path: '/var/log/horizon/access.log',9,24
openstack%2Fpuppet-tripleo~stable%2Fstein~I04ad7b59c1cdbef61fcd6188c09525da989020c6,openstack/puppet-tripleo,stable/stein,I04ad7b59c1cdbef61fcd6188c09525da989020c6,Fix amphora provider driver description,MERGED,2019-07-08 07:27:19.000000000,2019-07-09 01:03:01.000000000,2019-07-09 01:03:01.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-08 07:27:19.000000000', 'files': ['spec/classes/tripleo_profile_base_octavia_api_spec.rb', 'manifests/profile/base/octavia/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1c96d897663c5160754b8e56407cc1d8b10ad97b', 'message': 'Fix amphora provider driver description\n\nFixed provider driver description to match octavia and\noctavia-tempest-plugin descriptions.\n\nSee: https://opendev.org/openstack/octavia/src/branch/master/octavia/common/\\\nconfig.py\\#L89\n\nCloses-Bug: #1830702\nChange-Id: I04ad7b59c1cdbef61fcd6188c09525da989020c6\n(cherry picked from commit 77ffbe059b42ec15c7ab501ae2e78f88f0cae0cc)\n'}]",0,669612,1c96d897663c5160754b8e56407cc1d8b10ad97b,10,6,1,29244,,,0,"Fix amphora provider driver description

Fixed provider driver description to match octavia and
octavia-tempest-plugin descriptions.

See: https://opendev.org/openstack/octavia/src/branch/master/octavia/common/\
config.py\#L89

Closes-Bug: #1830702
Change-Id: I04ad7b59c1cdbef61fcd6188c09525da989020c6
(cherry picked from commit 77ffbe059b42ec15c7ab501ae2e78f88f0cae0cc)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/12/669612/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_octavia_api_spec.rb', 'manifests/profile/base/octavia/api.pp']",2,1c96d897663c5160754b8e56407cc1d8b10ad97b,bug/1830702-stable/stein," $providers = 'amphora: The Octavia Amphora driver.,octavia: Deprecated alias of the Octavia Amphora driver.,ovn: Octavia OVN driver.'"," $providers = 'amphora: The Octavia Amphora Driver.,octavia: Deprecated alias of the Octavia Amphora driver.,ovn: Octavia OVN driver.'",2,2
openstack%2Fopenstack-helm-infra~master~Id45132d8476ca931042dddc4544074e26135f9fc,openstack/openstack-helm-infra,master,Id45132d8476ca931042dddc4544074e26135f9fc,Remove docker.io version pin,MERGED,2019-07-08 20:13:40.000000000,2019-07-09 00:05:22.000000000,2019-07-09 00:05:22.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-07-08 20:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c69c1624b2550517271291642ca7c1d42ac75ae2', 'message': 'Remove docker.io version pin\n\nChange-Id: Id45132d8476ca931042dddc4544074e26135f9fc\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-07-08 20:40:00.000000000', 'files': ['roles/deploy-docker/tasks/main.yaml', 'tools/deployment/common/005-deploy-k8s.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/09366598b57a9ecd19fd34f5f844685bb6f2aabd', 'message': 'Remove docker.io version pin\n\nChange-Id: Id45132d8476ca931042dddc4544074e26135f9fc\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",1,669750,09366598b57a9ecd19fd34f5f844685bb6f2aabd,15,6,2,17591,,,0,"Remove docker.io version pin

Change-Id: Id45132d8476ca931042dddc4544074e26135f9fc
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/50/669750/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/deploy-docker/tasks/main.yaml', 'tools/deployment/common/005-deploy-k8s.sh']",2,c69c1624b2550517271291642ca7c1d42ac75ae2,remove-docker-pin, docker.io \, docker.io=18.06.1-0ubuntu1.2~18.04.1 \,2,2
openstack%2Ftripleo-ansible~master~I51b4cc721197caeeb3fc9699a8517693f0c73fd6,openstack/tripleo-ansible,master,I51b4cc721197caeeb3fc9699a8517693f0c73fd6,Add post job filters,MERGED,2019-07-08 20:01:31.000000000,2019-07-08 22:44:30.000000000,2019-07-08 22:44:30.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 20:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c10e1f3aa64528fd16f613e3e9187498a8ad99ff', 'message': ""Add post job filters\n\nThere's no need to run the post jobs on every commit. This change\nadds filters so that the post jobs run when needed\n\nChange-Id: I51b4cc721197caeeb3fc9699a8517693f0c73fd6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 2, 'created': '2019-07-08 20:04:20.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2da35e938a2b471c2596507968902d51c0c63ae2', 'message': ""Add post job filters\n\nThere's no need to run the post jobs on every commit. This change\nadds filters so that the post jobs run when needed\n\nChange-Id: I51b4cc721197caeeb3fc9699a8517693f0c73fd6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",0,669749,2da35e938a2b471c2596507968902d51c0c63ae2,8,2,2,7353,,,0,"Add post job filters

There's no need to run the post jobs on every commit. This change
adds filters so that the post jobs run when needed

Change-Id: I51b4cc721197caeeb3fc9699a8517693f0c73fd6
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/49/669749/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,c10e1f3aa64528fd16f613e3e9187498a8ad99ff,doc-pub, - publish-openstack-python-branch-tarball: files: - ^tripleo_ansible/.* - publish-openstack-releasenotes-python3: files: - ^releasenotes/.* - publish-openstack-sphinx-docs: files: - ^doc/.*, - publish-openstack-python-branch-tarball - publish-openstack-releasenotes-python3 <<<<<<< HEAD ======= - publish-openstack-sphinx-docs >>>>>>> 1200577... Add post job for sphix docs,9,6
openstack%2Ftripleo-ansible~master~I78c5371fddd23d88630daac1ba7e78e63069d082,openstack/tripleo-ansible,master,I78c5371fddd23d88630daac1ba7e78e63069d082,Add post job for sphix docs,MERGED,2019-07-08 20:01:31.000000000,2019-07-08 22:44:30.000000000,2019-07-08 22:44:30.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-08 20:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c3bbbe4c62a352d4970af04a2a3552f84ad6d236', 'message': 'Add post job for sphix docs\n\nIn order to post new documentation we need to have a post job run.\nThis change adds the sphinx post job needed to publish documentation.\n\nChange-Id: I78c5371fddd23d88630daac1ba7e78e63069d082\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-07-08 20:02:14.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7a96ecdcaa7a7631c55f9209db9fd4a3255c8c91', 'message': 'Add post job for sphix docs\n\nIn order to post new documentation we need to have a post job run.\nThis change adds the sphinx post job needed to publish documentation.\n\nChange-Id: I78c5371fddd23d88630daac1ba7e78e63069d082\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,669748,7a96ecdcaa7a7631c55f9209db9fd4a3255c8c91,10,3,2,7353,,,0,"Add post job for sphix docs

In order to post new documentation we need to have a post job run.
This change adds the sphinx post job needed to publish documentation.

Change-Id: I78c5371fddd23d88630daac1ba7e78e63069d082
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/669748/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,c3bbbe4c62a352d4970af04a2a3552f84ad6d236,doc-pub,<<<<<<< HEAD ======= - publish-openstack-sphinx-docs >>>>>>> 1200577... Add post job for sphix docs,,4,0
openstack%2Fansible-config_template~master~I90364403e215a67b320dfc7e67a85d47c774e634,openstack/ansible-config_template,master,I90364403e215a67b320dfc7e67a85d47c774e634,config_template does not respect yaml multiline as overrides,MERGED,2019-04-24 16:45:16.000000000,2019-07-08 22:38:37.000000000,2019-07-08 22:38:37.000000000,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27679}, {'_account_id': 29865}]","[{'number': 1, 'created': '2019-04-24 16:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/d31825dce4692388585c333dbaef5533a5e62f22', 'message': 'config_template does not respect yaml multiline as overrides\n\nAdded a flag called yml_multilines which when used will not split on\nlines that have a newline UNLESS they have a comma.\n\nChange-Id: I90364403e215a67b320dfc7e67a85d47c774e634\nPartial-Bug: #1819974\n'}, {'number': 2, 'created': '2019-04-25 11:32:08.000000000', 'files': ['action/config_template.py', 'tests/test-common-tasks.yml', 'tests/test.yml', 'tests/files/test_multiline_strs.yml.expected', 'tests/templates/test_multiline_strs.yml'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/1769158a0e4ce66a8030ed66220268560c08ae0b', 'message': 'config_template does not respect yaml multiline as overrides\n\nAdded a flag called yml_multilines which when used will not split on\nlines that have a newline UNLESS they have a comma.\n\nChange-Id: I90364403e215a67b320dfc7e67a85d47c774e634\nPartial-Bug: #1819974\n'}]",0,655496,1769158a0e4ce66a8030ed66220268560c08ae0b,12,6,2,29865,,,0,"config_template does not respect yaml multiline as overrides

Added a flag called yml_multilines which when used will not split on
lines that have a newline UNLESS they have a comma.

Change-Id: I90364403e215a67b320dfc7e67a85d47c774e634
Partial-Bug: #1819974
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/96/655496/1 && git format-patch -1 --stdout FETCH_HEAD,"['action/config_template.py', 'tests/test-common-tasks.yml', 'tests/test.yml', 'tests/files/test_multiline_strs.yml.expected', 'tests/templates/test_multiline_strs.yml']",5,d31825dce4692388585c333dbaef5533a5e62f22,bug/1819974,test_category1: a test_category2: b existing_multiline: | This multiline string already exists and will be dumped out by PyYaml. ,,75,11
openstack%2Fplacement~master~Ie94add90b507d631a74f4617de7feba56fb0c646,openstack/placement,master,Ie94add90b507d631a74f4617de7feba56fb0c646,tox: Stop building api-ref docs with the main docs,MERGED,2019-07-05 15:29:26.000000000,2019-07-08 22:32:54.000000000,2019-07-08 22:32:54.000000000,"[{'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 15:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/328e6c66bb497a38571920288204dfdb20db16c9', 'message': ""tox: Stop building api-ref docs with the main docs\n\nWe have an 'api-ref' docs target - use that instead.\n\nChange-Id: Ie94add90b507d631a74f4617de7feba56fb0c646\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2019-07-05 15:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/09bc0fc8f72527b20a3d63bcba370a8939767bab', 'message': ""tox: Stop building api-ref docs with the main docs\n\nWe have an 'api-ref' docs target - use that instead.\n\nChange-Id: Ie94add90b507d631a74f4617de7feba56fb0c646\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2019-07-05 15:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d72d00a2c7d83c902dd8bc805ba09f812c96ce83', 'message': ""tox: Stop building api-ref docs with the main docs\n\nWe have an 'api-ref' docs target - use that instead.\n\nChange-Id: Ie94add90b507d631a74f4617de7feba56fb0c646\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2019-07-08 08:18:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/placement/commit/8c4ad849fdac114edde2d7df85cbbb333765abff', 'message': ""tox: Stop building api-ref docs with the main docs\n\nWe have an 'api-ref' docs target - use that instead.\n\nChange-Id: Ie94add90b507d631a74f4617de7feba56fb0c646\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,669371,8c4ad849fdac114edde2d7df85cbbb333765abff,14,4,4,15334,,,0,"tox: Stop building api-ref docs with the main docs

We have an 'api-ref' docs target - use that instead.

Change-Id: Ie94add90b507d631a74f4617de7feba56fb0c646
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/placement refs/changes/71/669371/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,328e6c66bb497a38571920288204dfdb20db16c9,cd/spec-update,, {[testenv:api-ref]commands},0,1
openstack%2Fplacement~master~Id3a8f3b9f372ebe9176f1df917f7a6aac30a8e92,openstack/placement,master,Id3a8f3b9f372ebe9176f1df917f7a6aac30a8e92,Add whereto for testing redirect rules,MERGED,2019-07-05 15:29:26.000000000,2019-07-08 22:32:53.000000000,2019-07-08 22:32:53.000000000,"[{'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 15:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/c8695d3bac220dfcd4aa8ae1d8c8b44fded3b6a8', 'message': 'Add whereto for testing redirect rules\n\nUse whereto to test that the redirect rules do what we expect.\n\nChange-Id: Id3a8f3b9f372ebe9176f1df917f7a6aac30a8e92\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2019-07-05 15:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/3433b6cca6f5806781739fdfcb64126f7c83d667', 'message': 'Add whereto for testing redirect rules\n\nUse whereto to test that the redirect rules do what we expect.\n\nChange-Id: Id3a8f3b9f372ebe9176f1df917f7a6aac30a8e92\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2019-07-05 15:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/5cec4ef2caad5ccb01fd98da1cd2a526a15c835a', 'message': 'Add whereto for testing redirect rules\n\nUse whereto to test that the redirect rules do what we expect.\n\nChange-Id: Id3a8f3b9f372ebe9176f1df917f7a6aac30a8e92\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2019-07-08 08:18:43.000000000', 'files': ['doc/test/redirect-tests.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/placement/commit/4b4dd5ecf8d3122e866b6f98a0c0037a47be1df7', 'message': 'Add whereto for testing redirect rules\n\nUse whereto to test that the redirect rules do what we expect.\n\nChange-Id: Id3a8f3b9f372ebe9176f1df917f7a6aac30a8e92\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,669370,4b4dd5ecf8d3122e866b6f98a0c0037a47be1df7,13,3,4,15334,,,0,"Add whereto for testing redirect rules

Use whereto to test that the redirect rules do what we expect.

Change-Id: Id3a8f3b9f372ebe9176f1df917f7a6aac30a8e92
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/placement refs/changes/70/669370/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/test/redirect-tests.txt', 'tox.ini']",2,c8695d3bac220dfcd4aa8ae1d8c8b44fded3b6a8,cd/spec-update, # Test the redirects whereto doc/build/html/.htaccess doc/test/redirect-tests.txt,,3,0
openstack%2Fswift~master~I32f51f42d76db38271442a261600089404a00f91,openstack/swift,master,I32f51f42d76db38271442a261600089404a00f91,container-replicator: Add a timeout for get_shard_ranges,MERGED,2019-07-03 17:40:26.000000000,2019-07-08 22:21:45.000000000,2019-07-08 22:20:24.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 17:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8980666419d9ede13c5fb27def20c6ecf3673c46', 'message': ""container-replicator: Add a timeout for get_shard_ranges\n\nPreviously this had no timeout, which meant that the replicator might\nhang and fail to make progress indefinitely while trying to receive\nshard ranges.\n\nWhile we're at it, only call get_shard_ranges when the remote indicates\nthat it has shard ranges for us to sync -- this reduces the number of\nrequests necessary to bring unsharded replicas in sync.\n\nChange-Id: I32f51f42d76db38271442a261600089404a00f91\nCloses-Bug: #1835260\n""}, {'number': 2, 'created': '2019-07-04 05:30:15.000000000', 'files': ['test/unit/container/test_replicator.py', 'swift/common/db_replicator.py', 'swift/container/replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4c4bd778ea8fe8d02a2892524c7918da0ca25ea9', 'message': ""container-replicator: Add a timeout for get_shard_ranges\n\nPreviously this had no timeout, which meant that the replicator might\nhang and fail to make progress indefinitely while trying to receive\nshard ranges.\n\nWhile we're at it, only call get_shard_ranges when the remote indicates\nthat it has shard ranges for us to sync -- this reduces the number of\nrequests necessary to bring unsharded replicas in sync.\n\nChange-Id: I32f51f42d76db38271442a261600089404a00f91\nCloses-Bug: #1835260\n""}]",9,668963,4c4bd778ea8fe8d02a2892524c7918da0ca25ea9,11,3,2,15343,,,0,"container-replicator: Add a timeout for get_shard_ranges

Previously this had no timeout, which meant that the replicator might
hang and fail to make progress indefinitely while trying to receive
shard ranges.

While we're at it, only call get_shard_ranges when the remote indicates
that it has shard ranges for us to sync -- this reduces the number of
requests necessary to bring unsharded replicas in sync.

Change-Id: I32f51f42d76db38271442a261600089404a00f91
Closes-Bug: #1835260
",git fetch https://review.opendev.org/openstack/swift refs/changes/63/668963/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_replicator.py', 'swift/common/db_replicator.py', 'swift/container/replicator.py']",3,8980666419d9ede13c5fb27def20c6ecf3673c46,bug/1835260," if remote_info.get('shard_max_row', -1) >= 0: with Timeout(self.node_timeout): response = http.replicate('get_shard_ranges')", if 'shard_max_row' in remote_info: response = http.replicate('get_shard_ranges'),102,14
openstack%2Fneutron~master~Ie6b008c644791bebff0432169cb9d8b4051789c6,openstack/neutron,master,Ie6b008c644791bebff0432169cb9d8b4051789c6,Add ipam.utils.check_gateway_invalid_in_subnet unit tests,MERGED,2019-07-04 17:04:16.000000000,2019-07-08 22:21:35.000000000,2019-07-08 22:21:35.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-04 17:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0aaa58d74a4e3e64148ecc77652db5bd8c1f1537', 'message': 'Add ipam.utils.check_gateway_invalid_in_subnet unit tests\n\nChange-Id: Ie6b008c644791bebff0432169cb9d8b4051789c6\nCloses-Bug: #1835448\n'}, {'number': 2, 'created': '2019-07-04 17:05:28.000000000', 'files': ['neutron/tests/unit/ipam/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c02ad07c33ebaad648fd99d6202386dd39d14774', 'message': 'Add ipam.utils.check_gateway_invalid_in_subnet unit tests\n\nChange-Id: Ie6b008c644791bebff0432169cb9d8b4051789c6\nCloses-Bug: #1835448\n'}]",1,669210,c02ad07c33ebaad648fd99d6202386dd39d14774,10,5,2,16688,,,0,"Add ipam.utils.check_gateway_invalid_in_subnet unit tests

Change-Id: Ie6b008c644791bebff0432169cb9d8b4051789c6
Closes-Bug: #1835448
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/669210/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/ipam/test_utils.py'],1,0aaa58d74a4e3e64148ecc77652db5bd8c1f1537,bug/1835448," def test_check_gateway_invalid_in_subnet(self): data = [('10.0.0.1', '10.0.0.0/8', False), ('10.255.255.255', '10.0.0.0/8', True), ('10.0.0.0', '10.0.0.0/8', True), ('192.168.100.10', '10.0.0.0/8', False), ('2001:db8::1/64', '2001:db8::/64', False), ] for gw_ip, network_cidr, result in data: self.assertEqual(result, utils.check_gateway_invalid_in_subnet( network_cidr, gw_ip))",,11,0
openstack%2Fneutron~master~I8ab51afc154a4359d9667112d4563faa82f02fcd,openstack/neutron,master,I8ab51afc154a4359d9667112d4563faa82f02fcd,Mark fullstack test_ha_router_restart_agents_no_packet_lost as unstable,MERGED,2019-07-03 14:06:52.000000000,2019-07-08 22:20:22.000000000,2019-07-08 22:20:22.000000000,"[{'_account_id': 4694}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-07-03 14:06:52.000000000', 'files': ['neutron/tests/fullstack/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d8ce04ed6e0580e758cc9f6e89ba347e93dcee6', 'message': ""Mark fullstack test_ha_router_restart_agents_no_packet_lost as unstable\n\nEven after we merged [1] which should fix this failing test,\nit is still failing quite often and we don't have root cause yet.\n\nLets (again) mark it as unstable for now to make our gate more\nstable for now.\n\n[1] https://review.opendev.org/#/c/664629/\n\nChange-Id: I8ab51afc154a4359d9667112d4563faa82f02fcd\nRelated-Bug: #1798475\n""}]",0,668914,8d8ce04ed6e0580e758cc9f6e89ba347e93dcee6,33,9,1,11975,,,0,"Mark fullstack test_ha_router_restart_agents_no_packet_lost as unstable

Even after we merged [1] which should fix this failing test,
it is still failing quite often and we don't have root cause yet.

Lets (again) mark it as unstable for now to make our gate more
stable for now.

[1] https://review.opendev.org/#/c/664629/

Change-Id: I8ab51afc154a4359d9667112d4563faa82f02fcd
Related-Bug: #1798475
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/668914/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/test_l3_agent.py'],1,8d8ce04ed6e0580e758cc9f6e89ba347e93dcee6,bug/1798475,"from neutron.tests import base as tests_base @tests_base.unstable_test(""bug 1798475"")",,2,0
openstack%2Ftripleo-common~master~I7fba881645ec2ea167c064be07ed6d4281b7ed3d,openstack/tripleo-common,master,I7fba881645ec2ea167c064be07ed6d4281b7ed3d,Handle registries with incorrect certs correctly,MERGED,2019-06-21 20:10:27.000000000,2019-07-08 21:40:54.000000000,2019-07-08 21:40:16.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-21 20:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ed0cbef312cc6b3d2305edfe9ea1796d2c228b80', 'message': 'Handle registries with incorrect certs correctly\n\nWe actually end up allowing registries with incorrect certificates in\nthe upload code so they get treated the same as inscure registries.\nThis change updates the return code of the is_insecure_registry to match\nhow we handle these registries in the image uploader. Additionally, this\nmeans that when the container image prepare code runs, we will correctly\ninclude these registries that have ssl enabled but incorrect\ncertificates will correctly be included in the\nDockerInsecureRegistryAddress setting.\n\nChange-Id: I7fba881645ec2ea167c064be07ed6d4281b7ed3d\nCloses-Bug: #1833751\n'}, {'number': 2, 'created': '2019-06-21 20:44:49.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/51d723a9ff0d7af47d1974a8e77fe7187e57357b', 'message': 'Handle registries with incorrect certs correctly\n\nWe actually end up allowing registries with incorrect certificates in\nthe upload code so they get treated the same as inscure registries.\nThis change updates the return code of the is_insecure_registry to match\nhow we handle these registries in the image uploader. Additionally, this\nmeans that when the container image prepare code runs, we will correctly\ninclude these registries that have ssl enabled but incorrect\ncertificates will correctly be included in the\nDockerInsecureRegistryAddress setting.\n\nChange-Id: I7fba881645ec2ea167c064be07ed6d4281b7ed3d\nCloses-Bug: #1833751\n'}]",0,666913,51d723a9ff0d7af47d1974a8e77fe7187e57357b,12,8,2,14985,,,0,"Handle registries with incorrect certs correctly

We actually end up allowing registries with incorrect certificates in
the upload code so they get treated the same as inscure registries.
This change updates the return code of the is_insecure_registry to match
how we handle these registries in the image uploader. Additionally, this
means that when the container image prepare code runs, we will correctly
include these registries that have ssl enabled but incorrect
certificates will correctly be included in the
DockerInsecureRegistryAddress setting.

Change-Id: I7fba881645ec2ea167c064be07ed6d4281b7ed3d
Closes-Bug: #1833751
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/13/666913/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,ed0cbef312cc6b3d2305edfe9ea1796d2c228b80,bug/1833751," if (registry_host in self.insecure_registries or registry_host in self.no_verify_registries): # We handle no_verify_registries the same as insecure. So # for instance when this function is used to check if it's # insecure, it's insecure. LP#1833751 return True", if registry_host in self.insecure_registries: return False,18,2
openstack%2Fopenstack-virtual-baremetal~master~I1c5a001fe2ec5c4194030fdf373c0a4318cba10c,openstack/openstack-virtual-baremetal,master,I1c5a001fe2ec5c4194030fdf373c0a4318cba10c,Support ipv6 for provisioning and overcloud subnets,MERGED,2019-07-03 14:03:52.000000000,2019-07-08 21:40:17.000000000,2019-07-08 21:40:17.000000000,"[{'_account_id': 6928}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-03 14:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/ed2bca7214c733a50fb200409d47bc3d8b367f41', 'message': 'Support ipv6 for provisioning and overcloud subnets\n\nAdd parameters to set the ip_version for the subnets.\nBy default ip_version for all networks are 4.\n\nChange-Id: I1c5a001fe2ec5c4194030fdf373c0a4318cba10c\n'}, {'number': 2, 'created': '2019-07-04 12:28:03.000000000', 'files': ['templates/undercloud-networks.yaml', 'templates/baremetal-networks-routed.yaml', 'templates/undercloud-networks-existing.yaml', 'templates/baremetal-networks-all.yaml', 'templates/undercloud-networks-public-router.yaml', 'environments/all-networks.yaml', 'templates/undercloud-networks-routed.yaml', 'environments/all-networks-public-bond.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/6f24206102d3f9807ae01505df13609705d5f5d6', 'message': 'Support ipv6 for provisioning and overcloud subnets\n\nAdd parameters to set the ip_version for the subnets.\nBy default ip_version for all networks are 4.\n\nChange-Id: I1c5a001fe2ec5c4194030fdf373c0a4318cba10c\n'}]",0,668912,6f24206102d3f9807ae01505df13609705d5f5d6,11,4,2,24245,,,0,"Support ipv6 for provisioning and overcloud subnets

Add parameters to set the ip_version for the subnets.
By default ip_version for all networks are 4.

Change-Id: I1c5a001fe2ec5c4194030fdf373c0a4318cba10c
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/12/668912/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/undercloud-networks.yaml', 'templates/baremetal-networks-routed.yaml', 'templates/undercloud-networks-existing.yaml', 'templates/baremetal-networks-all.yaml', 'templates/undercloud-networks-public-router.yaml', 'templates/undercloud-networks-routed.yaml']",6,ed2bca7214c733a50fb200409d47bc3d8b367f41,ipv6-support, provision_net_ip_version: type: number description: IP version for the provision_net subnet default: 4 provision_net2_ip_version: type: number description: IP version for the provision_net2 subnet default: 4 provision_net3_ip_version: type: number description: IP version for the provision_net3 subnet default: 4 public_net_ip_version: type: number description: IP version for the public subnet default: 4 ip_version: {get_param: provision_net_ip_version} ip_version: {get_param: provision_net2_ip_version} ip_version: {get_param: provision_net3_ip_version} ip_version: {get_param: public_net_ip_version},,129,0
openstack%2Fmanila~master~I3e5607c63fffe71c7c9ce421507c0705827b689f,openstack/manila,master,I3e5607c63fffe71c7c9ce421507c0705827b689f,[DNM] Testing change to base legacy job,ABANDONED,2019-06-14 02:55:34.000000000,2019-07-08 21:34:03.000000000,,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-06-14 02:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/df857e103e40c45e730d451a03be3fc37b1f38af', 'message': '[DNM] Testing change to base legacy job\n\n\nChange-Id: I3e5607c63fffe71c7c9ce421507c0705827b689f\nDepends-On: https://review.opendev.org/#/c/663996/\n'}]",0,665279,df857e103e40c45e730d451a03be3fc37b1f38af,11,9,1,16643,,,0,"[DNM] Testing change to base legacy job


Change-Id: I3e5607c63fffe71c7c9ce421507c0705827b689f
Depends-On: https://review.opendev.org/#/c/663996/
",git fetch https://review.opendev.org/openstack/manila refs/changes/79/665279/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,df857e103e40c45e730d451a03be3fc37b1f38af,zuulv3,,,0,0
openstack%2Fdevstack~stable%2Fqueens~I9eeb19d84212686961f540ef3fee58c756d349e0,openstack/devstack,stable/queens,I9eeb19d84212686961f540ef3fee58c756d349e0,DNM: Testing rdo-release fixes,ABANDONED,2019-06-29 00:47:26.000000000,2019-07-08 21:33:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-29 00:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/775569afdc02a3bd768ed712e327aee0fae37a83', 'message': 'DNM: Testing rdo-release fixes\n\nChange-Id: I9eeb19d84212686961f540ef3fee58c756d349e0\n'}, {'number': 2, 'created': '2019-06-29 18:17:32.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/809c8b549b44839ed2678a4efc355ac01591eab5', 'message': 'DNM: Testing rdo-release fixes\n\nChange-Id: I9eeb19d84212686961f540ef3fee58c756d349e0\n'}]",0,668276,809c8b549b44839ed2678a4efc355ac01591eab5,5,1,2,16643,,,0,"DNM: Testing rdo-release fixes

Change-Id: I9eeb19d84212686961f540ef3fee58c756d349e0
",git fetch https://review.opendev.org/openstack/devstack refs/changes/76/668276/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,775569afdc02a3bd768ed712e327aee0fae37a83,," if [[ ""$REQUIREMENTS_BRANCH"" == ""master"" ]]; then yum_install https://rdoproject.org/repos/rdo-release.rpm else # Get latest rdo-release-$rdo_release RPM package version rdo_release=$(echo $REQUIREMENTS_BRANCH | sed ""s|stable/||g"") rdo_package=$(curl -s https://repos.fedorapeople.org/repos/openstack/openstack-$rdo_release/ | grep -o 'rdo-release-.[^>]*.noarch.rpm' | sort | tail -1) yum_install https://rdoproject.org/repos/openstack-$rdo_release/$rdo_package fi", yum_install https://rdoproject.org/repos/rdo-release.rpm,8,1
openstack%2Fnetworking-ovn~stable%2Fstein~Ieddc16e607bccef84316f9ee908e884539c7ed39,openstack/networking-ovn,stable/stein,Ieddc16e607bccef84316f9ee908e884539c7ed39,Propagate mtu to all subnets,MERGED,2019-07-08 09:14:02.000000000,2019-07-08 21:31:24.000000000,2019-07-08 21:31:24.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-07-08 09:14:02.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/functional/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/87ecdd8e0b3a7564ac9bc003debe0afad0782f46', 'message': 'Propagate mtu to all subnets\n\nIn networking-ovn we map subnets to OVN DHCP_Options\nrows (where we store the MTU), but from neutron API perspective,\nthe MTU is applied per network. So we need update all subnets\nthats belong to network to propagade correctly MTU for network.\n\nCloses-Bug: #1816449\nChange-Id: Ieddc16e607bccef84316f9ee908e884539c7ed39\n(cherry picked from commit 1daffa9634a813ccbcf00a4c4c9dbd2c504d326d)\n'}]",0,669624,87ecdd8e0b3a7564ac9bc003debe0afad0782f46,9,4,1,11082,,,0,"Propagate mtu to all subnets

In networking-ovn we map subnets to OVN DHCP_Options
rows (where we store the MTU), but from neutron API perspective,
the MTU is applied per network. So we need update all subnets
thats belong to network to propagade correctly MTU for network.

Closes-Bug: #1816449
Change-Id: Ieddc16e607bccef84316f9ee908e884539c7ed39
(cherry picked from commit 1daffa9634a813ccbcf00a4c4c9dbd2c504d326d)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/24/669624/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/functional/test_mech_driver.py']",3,87ecdd8e0b3a7564ac9bc003debe0afad0782f46,,"from networking_ovn.db import revision as db_rev class TestNetworkMTUUpdate(base.TestOVNFunctionalBase): def setUp(self): super(TestNetworkMTUUpdate, self).setUp() self._ovn_client = self.mech_driver._ovn_client self.n1 = self._make_network(self.fmt, 'n1', True) res = self._create_subnet(self.fmt, self.n1['network']['id'], '10.0.0.0/24') self.sub = self.deserialize(self.fmt, res) def test_update_network_mtu(self): mtu_value = self.n1['network']['mtu'] - 100 dhcp_options = ( self.mech_driver._ovn_client._nb_idl.get_subnet_dhcp_options( self.sub['subnet']['id']) ) self.assertNotEqual( int(dhcp_options['subnet']['options']['mtu']), mtu_value) data = {'network': {'mtu': mtu_value}} req = self.new_update_request( 'networks', data, self.n1['network']['id'], self.fmt) req.get_response(self.api) dhcp_options = ( self.mech_driver._ovn_client._nb_idl.get_subnet_dhcp_options( self.sub['subnet']['id']) ) self.assertEqual( int(dhcp_options['subnet']['options']['mtu']), mtu_value) def test_no_update_network_mtu(self): mtu_value = self.n1['network']['mtu'] base_revision = db_rev.get_revision_row(self.sub['subnet']['id']) data = {'network': {'mtu': mtu_value}} req = self.new_update_request( 'networks', data, self.n1['network']['id'], self.fmt) req.get_response(self.api) second_revision = db_rev.get_revision_row(self.sub['subnet']['id']) self.assertEqual( base_revision.updated_at, second_revision.updated_at)",,75,10
openstack%2Fpycadf~master~I3555792aff294a1ea533464ef78a1cc8bf545c82,openstack/pycadf,master,I3555792aff294a1ea533464ef78a1cc8bf545c82,Add Python 3 Train unit tests,MERGED,2019-06-26 23:30:58.000000000,2019-07-08 21:31:20.000000000,2019-07-08 21:31:20.000000000,"[{'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 23:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pycadf/commit/a52aa5e205ac4c92679516d0b64bd3e4c366910f', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I3555792aff294a1ea533464ef78a1cc8bf545c82\nStory: #2005924\nTask: #34215\n'}, {'number': 2, 'created': '2019-07-05 23:42:08.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/5c9e79e93f3c1e6d51644dd7b94eab18045e4daa', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nDepends-On: https://review.opendev.org/669543\n\nChange-Id: I3555792aff294a1ea533464ef78a1cc8bf545c82\nStory: #2005924\nTask: #34215\n'}]",0,667757,5c9e79e93f3c1e6d51644dd7b94eab18045e4daa,9,4,2,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Depends-On: https://review.opendev.org/669543

Change-Id: I3555792aff294a1ea533464ef78a1cc8bf545c82
Story: #2005924
Task: #34215
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/57/667757/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,a52aa5e205ac4c92679516d0b64bd3e4c366910f,python3-train,"envlist = py27,py37,pep8","envlist = py36,py37,py27,pep8",2,3
openstack%2Fmanila~master~I4750d28c8acfe6d68a91e129e767c6e8607e6a75,openstack/manila,master,I4750d28c8acfe6d68a91e129e767c6e8607e6a75,Check NetApp SnapRestore license for pools,MERGED,2019-06-13 13:55:21.000000000,2019-07-08 21:30:41.000000000,2019-07-01 14:03:36.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 29831}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-06-13 13:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2953c1c427cf3ed6e328ee7c447d685e60a798d0', 'message': 'Check NetApp SnapRestore license for pools\n\nAdded check to validate SnapRestore license for\nNetApp ONTAP pools before setting revert_to_snapshot_support\nto true/false for the respective pool.\nThis was always set to True before.\n\nChange-Id: I4750d28c8acfe6d68a91e129e767c6e8607e6a75\nCloses-Bug: #1678524\n'}, {'number': 2, 'created': '2019-06-28 09:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8f5903ec37dfe59c08b6c80b7ed0a628d44c77b3', 'message': 'Check NetApp SnapRestore license for pools\n\nAdded check to validate SnapRestore license for\nNetApp ONTAP pools before setting revert_to_snapshot_support\nto true/false for the respective pool.\nThis was always set to True before.\n\nChange-Id: I4750d28c8acfe6d68a91e129e767c6e8607e6a75\nCloses-Bug: #1678524\n'}, {'number': 3, 'created': '2019-07-01 06:11:03.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/bug-1678524-check-snaprestore-license-for-snapshot-revert-6d32afdc5d0b2b51.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/f333b88e2521c8a1fecb88206cfb08046957346f', 'message': 'Check NetApp SnapRestore license for pools\n\nAdded check to validate SnapRestore license for\nNetApp ONTAP pools before setting revert_to_snapshot_support\nto true/false for the respective pool.\nThis was always set to True before.\n\nChange-Id: I4750d28c8acfe6d68a91e129e767c6e8607e6a75\nCloses-Bug: #1678524\n'}]",7,665142,f333b88e2521c8a1fecb88206cfb08046957346f,45,15,3,30002,,,0,"Check NetApp SnapRestore license for pools

Added check to validate SnapRestore license for
NetApp ONTAP pools before setting revert_to_snapshot_support
to true/false for the respective pool.
This was always set to True before.

Change-Id: I4750d28c8acfe6d68a91e129e767c6e8607e6a75
Closes-Bug: #1678524
",git fetch https://review.opendev.org/openstack/manila refs/changes/42/665142/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/bug-1678524-check-snaprestore-license-for-snapshot-revert-6d32afdc5d0b2b51.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py']",3,2953c1c427cf3ed6e328ee7c447d685e60a798d0,bug/1678524," def test_check_snaprestore_license_notfound(self): licenses = list(fake.LICENSES) licenses.remove('snaprestore') self.mock_object(self.client, 'get_licenses', mock.Mock(return_value=licenses)) result = self.library._check_snaprestore_license() self.assertFalse(result) def test_check_snaprestore_license_found(self): self.mock_object(self.client, 'get_licenses', mock.Mock(return_value=fake.LICENSES)) result = self.library._check_snaprestore_license() self.assertTrue(result) self.mock_object(self.library, '_check_snaprestore_license', mock.Mock(return_value=True)) self.mock_object(self.library, '_check_snaprestore_license', mock.Mock(return_value=True))",,41,1
openstack%2Fpycadf~master~Idf9dc73d99b4233f49effe24aa047959b1a2ef2c,openstack/pycadf,master,Idf9dc73d99b4233f49effe24aa047959b1a2ef2c,Removes temporary fix for doc generation,MERGED,2019-07-05 23:41:44.000000000,2019-07-08 21:29:17.000000000,2019-07-08 21:29:17.000000000,"[{'_account_id': 2903}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 23:41:44.000000000', 'files': ['doc/ext/__init__.py', 'doc/source/conf.py', 'doc/ext/apidoc.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/ab2eb59068d1f486df40573da93fb167c859429e', 'message': 'Removes temporary fix for doc generation\n\nA temporary fix was added to get around a bug in how pbr handles\nits autodoc_tree_index_modules setting. Since this bug is fixed we no\nlonger need the work around.\n\nThis change is needed since the workaround is now incompatible with the\nlatest version of Sphinx.\n\nSee also[1][2].\n\n[1] https://review.opendev.org/191633\n[2] https://review.opendev.org/121667\n\nChange-Id: Idf9dc73d99b4233f49effe24aa047959b1a2ef2c\n'}]",0,669543,ab2eb59068d1f486df40573da93fb167c859429e,7,3,1,8482,,,0,"Removes temporary fix for doc generation

A temporary fix was added to get around a bug in how pbr handles
its autodoc_tree_index_modules setting. Since this bug is fixed we no
longer need the work around.

This change is needed since the workaround is now incompatible with the
latest version of Sphinx.

See also[1][2].

[1] https://review.opendev.org/191633
[2] https://review.opendev.org/121667

Change-Id: Idf9dc73d99b4233f49effe24aa047959b1a2ef2c
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/43/669543/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/ext/__init__.py', 'doc/ext/apidoc.py', 'doc/source/conf.py', 'setup.cfg']",4,ab2eb59068d1f486df40573da93fb167c859429e,fix-docs,autodoc_tree_index_modules = True autodoc_tree_root = ./pycadf,#autodoc_tree_index_modules = True #autodoc_tree_root = ./pycadf,3,48
openstack%2Ftripleo-heat-templates~master~I2f8b377ba7eb472e6c229e425b3e5c42d7ec82ce,openstack/tripleo-heat-templates,master,I2f8b377ba7eb472e6c229e425b3e5c42d7ec82ce,Cleanup keystone items,MERGED,2019-05-15 22:29:09.000000000,2019-07-08 21:27:23.000000000,2019-07-08 21:27:23.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-05-15 22:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/daedb91069847da2dd3fa1d7553421e184c0ef75', 'message': ""Remove keystone_paste_ini tag\n\nThe provider is being removed so we don't need to include it anymore.\n\nChange-Id: I2f8b377ba7eb472e6c229e425b3e5c42d7ec82ce\nDepends-On: https://review.opendev.org/#/c/658381/\n""}, {'number': 2, 'created': '2019-05-15 22:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/646da48ba0421a91f2fb262115db6f6fffd70fb4', 'message': ""Cleanup keystone items\n\nThe keystone_paste_ini provider is being removed so we don't\nneed to include it anymore. Additionally some of the\nkesytone::wsgi::apache options are being removed (like admin_port).\n\nChange-Id: I2f8b377ba7eb472e6c229e425b3e5c42d7ec82ce\nDepends-On: https://review.opendev.org/#/c/658381/\nDepends-On: https://review.opendev.org/#/c/658382/\n""}, {'number': 3, 'created': '2019-05-16 14:05:29.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/462d45b8299bf5f98ff36f2425ca18215e19ae99', 'message': ""Cleanup keystone items\n\nThe keystone_paste_ini provider is being removed so we don't\nneed to include it anymore. Additionally some of the\nkesytone::wsgi::apache options are being removed (like admin_port).\n\nChange-Id: I2f8b377ba7eb472e6c229e425b3e5c42d7ec82ce\nDepends-On: https://review.opendev.org/#/c/658381/\nNeeded-By: https://review.opendev.org/#/c/658382/\n""}]",0,659386,462d45b8299bf5f98ff36f2425ca18215e19ae99,15,5,3,14985,,,0,"Cleanup keystone items

The keystone_paste_ini provider is being removed so we don't
need to include it anymore. Additionally some of the
kesytone::wsgi::apache options are being removed (like admin_port).

Change-Id: I2f8b377ba7eb472e6c229e425b3e5c42d7ec82ce
Depends-On: https://review.opendev.org/#/c/658381/
Needed-By: https://review.opendev.org/#/c/658382/
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/659386/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,daedb91069847da2dd3fa1d7553421e184c0ef75,keystone-cleanup," puppet_tags: 'keystone_config,keystone_domain_config,keystone_endpoint,keystone_identity_provider,keystone_role,keystone_service,keystone_tenant,keystone_user,keystone_user_role,keystone_domain'"," puppet_tags: 'keystone_config,keystone_domain_config,keystone_endpoint,keystone_identity_provider,keystone_paste_ini,keystone_role,keystone_service,keystone_tenant,keystone_user,keystone_user_role,keystone_domain'",1,1
openstack%2Fcharm-percona-cluster~master~Ia5ae43f16caffb5c4356d3f5616e0383e23b5f50,openstack/charm-percona-cluster,master,Ia5ae43f16caffb5c4356d3f5616e0383e23b5f50,Convert to python3,MERGED,2019-06-28 19:00:47.000000000,2019-07-08 21:15:22.000000000,2019-07-08 21:15:22.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 19:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/52c008f191e1c6515e66c951ff08e56250d55d54', 'message': 'Convert to python3\n\nConvert the percona cluster charm to python3.\n\nChange-Id: Ia5ae43f16caffb5c4356d3f5616e0383e23b5f50\n'}, {'number': 2, 'created': '2019-06-28 20:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/373e688b71b8ad3ae8e90b5a1fb6c8b587a6fd04', 'message': 'Convert to python3\n\nConvert the percona cluster charm to python3.\n\nChange-Id: Ia5ae43f16caffb5c4356d3f5616e0383e23b5f50\n'}, {'number': 3, 'created': '2019-06-28 23:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/6a3185adb9801a9e0b13263bb87bc4cd03a463bb', 'message': 'Convert to python3\n\nConvert the percona cluster charm to python3.\n\nChange-Id: Ia5ae43f16caffb5c4356d3f5616e0383e23b5f50\n'}, {'number': 4, 'created': '2019-07-02 17:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/8543329c694b37477127d59700ab496816b93596', 'message': 'Convert to python3\n\nConvert the percona cluster charm to python3.\n\nRemove Trusty testing.\n\nChange-Id: Ia5ae43f16caffb5c4356d3f5616e0383e23b5f50\n'}, {'number': 5, 'created': '2019-07-08 14:41:56.000000000', 'files': ['hooks/__init__.py', '.zuul.yaml', 'unit_tests/__init__.py', 'hooks/charmhelpers', 'hooks/percona_hooks.py', 'hooks/percona_utils.py', 'unit_tests/test_percona_utils.py', 'actions/actions.py', 'unit_tests/test_percona_hooks.py', 'tests/gate-basic-trusty', 'unit_tests/test_utils.py', 'unit_tests/test_actions.py', 'hooks/install', 'actions/__init__.py', 'metadata.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/681cdf8e4522168f6d2303469c9c5f514ef3e433', 'message': 'Convert to python3\n\nConvert the percona cluster charm to python3.\n\nRemove Trusty testing.\n\nChange-Id: Ia5ae43f16caffb5c4356d3f5616e0383e23b5f50\n'}]",10,668233,681cdf8e4522168f6d2303469c9c5f514ef3e433,35,6,5,20805,,,0,"Convert to python3

Convert the percona cluster charm to python3.

Remove Trusty testing.

Change-Id: Ia5ae43f16caffb5c4356d3f5616e0383e23b5f50
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/33/668233/3 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/__init__.py', 'unit_tests/__init__.py', 'hooks/charmhelpers', 'hooks/percona_hooks.py', 'hooks/percona_utils.py', 'unit_tests/test_percona_utils.py', 'actions/actions.py', 'unit_tests/test_percona_hooks.py', 'unit_tests/test_utils.py', 'unit_tests/test_actions.py', 'hooks/install', 'actions/__init__.py', 'tox.ini']",13,52c008f191e1c6515e66c951ff08e56250d55d54,python3-unit-tests,"envlist = pep8,py3deps = -r{toxinidir}/test-requirements.txt[testenv:py3] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:cover] # Technique based heavily upon # https://github.com/openstack/nova/blob/master/tox.ini basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt setenv = {[testenv]setenv} PYTHON=coverage run commands = coverage erase stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage report [coverage:run] branch = True concurrency = multiprocessing parallel = True source = . omit = .tox/* */charmhelpers/* unit_tests/* ","envlist = pep8,py27 [testenv:py27] basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt",165,65
openstack%2Fneutron~stable%2Fstein~Iadf704c00378da99c502dca3e3b79796c368cac7,openstack/neutron,stable/stein,Iadf704c00378da99c502dca3e3b79796c368cac7,Refactor qos_plugin._extend_port_resource_request,MERGED,2019-07-05 16:40:17.000000000,2019-07-08 21:08:58.000000000,2019-07-08 21:08:58.000000000,"[{'_account_id': 1131}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-05 16:40:17.000000000', 'files': ['neutron/db/qos/models.py', 'neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1229be91d9c66ef073188fc1fa916d50e1710ba1', 'message': 'Refactor qos_plugin._extend_port_resource_request\n\nIn order to speed up the port collection, some DB calls\nhave been deleted in the extended function\n""QoSPlugin._extend_port_resource_request"".\n\nWith the parent commit, the port DB/OVO object now has the\nnetwork QoS policy ID, making the network retrieval unneeded.\n\nIn this refactor the QoS policy is collected from the DB only\nif a valid QoS policy ID exists, bound to the port or to the\nnetwork. This reduces the number of QoS objects collection to\none or zero.\n\nChange-Id: Iadf704c00378da99c502dca3e3b79796c368cac7\nCloses-Bug: #1834484\n(cherry picked from commit 8b00349a63c65e04b3d188366245234e880b7f60)\n'}]",0,669394,1229be91d9c66ef073188fc1fa916d50e1710ba1,12,7,1,16688,,,0,"Refactor qos_plugin._extend_port_resource_request

In order to speed up the port collection, some DB calls
have been deleted in the extended function
""QoSPlugin._extend_port_resource_request"".

With the parent commit, the port DB/OVO object now has the
network QoS policy ID, making the network retrieval unneeded.

In this refactor the QoS policy is collected from the DB only
if a valid QoS policy ID exists, bound to the port or to the
network. This reduces the number of QoS objects collection to
one or zero.

Change-Id: Iadf704c00378da99c502dca3e3b79796c368cac7
Closes-Bug: #1834484
(cherry picked from commit 8b00349a63c65e04b3d188366245234e880b7f60)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/669394/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/qos/models.py', 'neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py']",3,1229be91d9c66ef073188fc1fa916d50e1710ba1,bug/1834484-stable/stein," has_qos_policy=True, has_net_qos_policy=False): self.port_data = { 'port': {'id': uuidutils.generate_uuid(), 'network_id': network_id} } if has_qos_policy: self.port_data['port']['qos_policy_id'] = self.policy.id self.policy.rules = bw_rules elif has_net_qos_policy: self.port_data['port']['qos_network_policy_id'] = self.policy.id self.policy.rules = bw_rules self.port = ports_object.Port( self.ctxt, **self.port_data['port']) port_res = {""binding:vnic_type"": ""normal""} with mock.patch('neutron.objects.network.NetworkSegment.get_objects', return_value=[segment_mock]), \ mock.patch('neutron.objects.qos.policy.QosPolicy.get_object', return_value=self.policy): port_res, self.port) has_net_qos_policy=True)"," has_qos_policy=True, network_qos=None): if has_qos_policy or network_qos: policy = self.policy policy_id = self.policy.id self.policy.rules = bw_rules for rule in bw_rules: rule.qos_policy_id = self.policy.id else: policy = None policy_id = None port_res = { ""id"": uuidutils.generate_uuid(), ""qos_policy_id"": policy_id, ""network_id"": network_id, ""binding:vnic_type"": ""normal"", } network_mock = mock.MagicMock(id=network_id, qos_policy_id=policy_id) with mock.patch( 'neutron.objects.network.Network.get_object', return_value=network_mock ), mock.patch( 'neutron.objects.network.NetworkSegment.get_objects', return_value=[segment_mock] ), mock.patch( 'neutron.objects.qos.policy.QosPolicy.get_port_policy', return_value=policy ): port_res, {}) network_qos=self.policy)",43,57
openstack%2Fneutron~stable%2Fstein~I219a925d5e269b8c73a0481daa879d72c399fd8f,openstack/neutron,stable/stein,I219a925d5e269b8c73a0481daa879d72c399fd8f,Add qos_network_policy_id to Port OVO,MERGED,2019-07-05 14:10:44.000000000,2019-07-08 21:08:55.000000000,2019-07-08 21:08:55.000000000,"[{'_account_id': 1131}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-05 14:10:44.000000000', 'files': ['neutron/db/qos/models.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/objects/ports.py', 'neutron/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b452c508b6271e5809252aadd2332b60b41efe3b', 'message': 'Add qos_network_policy_id to Port OVO\n\nAdded field ""qos_network_policy_id"" to Port OVO. This parameter\nwill be used to retrieve the QoS policy bound to the port network.\nThis reduces the number of calls to the database by creating a join\nbetween the QosNetworkPolicyBinding table and the Port table, based\non the network ID.\n\nThis backref association is not persistent (marked as ""viewonly"").\nThis relationship is using for loading the QoS policy ID of the\nport network in the Port OVO.\n\nRelated-Bug: #1834484\n\nChange-Id: I219a925d5e269b8c73a0481daa879d72c399fd8f\n(cherry picked from commit 66fca96e5293040d23fa76380ba3f88b4117a5d7)\n'}]",2,669360,b452c508b6271e5809252aadd2332b60b41efe3b,28,7,1,13995,,,0,"Add qos_network_policy_id to Port OVO

Added field ""qos_network_policy_id"" to Port OVO. This parameter
will be used to retrieve the QoS policy bound to the port network.
This reduces the number of calls to the database by creating a join
between the QosNetworkPolicyBinding table and the Port table, based
on the network ID.

This backref association is not persistent (marked as ""viewonly"").
This relationship is using for loading the QoS policy ID of the
port network in the Port OVO.

Related-Bug: #1834484

Change-Id: I219a925d5e269b8c73a0481daa879d72c399fd8f
(cherry picked from commit 66fca96e5293040d23fa76380ba3f88b4117a5d7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/669360/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/qos/models.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/objects/ports.py', 'neutron/tests/unit/objects/test_objects.py']",5,b452c508b6271e5809252aadd2332b60b41efe3b,bug/1834484-stable/stein," 'Port': '1.5-98f35183d876c9beb188f4bf44d4d886',"," 'Port': '1.4-1b6183bccfc2cd210919a1a72faefce1',",52,11
openstack%2Fmanila~stable%2Fqueens~I1aa05aa07b1cb64c44b1f654ee77b620b6c5e6d0,openstack/manila,stable/queens,I1aa05aa07b1cb64c44b1f654ee77b620b6c5e6d0,NetApp cDOT driver switch volume efficiency,MERGED,2019-04-15 19:57:51.000000000,2019-07-08 20:39:03.000000000,2019-07-08 20:39:03.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-04-15 19:57:51.000000000', 'files': ['releasenotes/notes/netapp-cdot-switch-volume-efficiency-bd22733445d146f0.yaml', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/19c3ed01762349d59f8090ebf5298e8117e72730', 'message': 'NetApp cDOT driver switch volume efficiency\n\ncDOT compression requires that deduplication is enabled.\nReflect that in update_volume_efficiency_attributes\nmethod, which is now also used for create_volume.\n\nCloses-Bug: #1778022\nChange-Id: I1aa05aa07b1cb64c44b1f654ee77b620b6c5e6d0\n(cherry picked from commit 04aa4ba141d7a78ca5a924432cd2ddc7494a2c78)\n(cherry picked from commit d509dbb5e9532769b4e46b7c71433ab4099c808a)\n'}]",0,652768,19c3ed01762349d59f8090ebf5298e8117e72730,24,6,1,16643,,,0,"NetApp cDOT driver switch volume efficiency

cDOT compression requires that deduplication is enabled.
Reflect that in update_volume_efficiency_attributes
method, which is now also used for create_volume.

Closes-Bug: #1778022
Change-Id: I1aa05aa07b1cb64c44b1f654ee77b620b6c5e6d0
(cherry picked from commit 04aa4ba141d7a78ca5a924432cd2ddc7494a2c78)
(cherry picked from commit d509dbb5e9532769b4e46b7c71433ab4099c808a)
",git fetch https://review.opendev.org/openstack/manila refs/changes/68/652768/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/netapp-cdot-switch-volume-efficiency-bd22733445d146f0.yaml', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py']",3,19c3ed01762349d59f8090ebf5298e8117e72730,bug/1778022-stable/queens," self.update_volume_efficiency_attributes(volume_name, dedup_enabled, compression_enabled) # cDOT compression requires dedup to be enabled dedup_enabled = dedup_enabled or compression_enabled # enable/disable dedup if needed if dedup_enabled and not efficiency_status['dedupe']: self.enable_dedup(volume_name) elif not dedup_enabled and efficiency_status['dedupe']: self.disable_dedup(volume_name) # enable/disable compression if needed if compression_enabled and not efficiency_status['compression']: self.enable_compression(volume_name) elif not compression_enabled and efficiency_status['compression']: self.disable_compression(volume_name)", # cDOT compression requires that deduplication be enabled. if dedup_enabled or compression_enabled: self.enable_dedup(volume_name) if compression_enabled: self.enable_compression(volume_name) if efficiency_status['compression'] != compression_enabled: if compression_enabled: self.enable_compression(volume_name) else: self.disable_compression(volume_name) if efficiency_status['dedupe'] != dedup_enabled: if dedup_enabled: self.enable_dedup(volume_name) else: self.disable_dedup(volume_name),30,15
openstack%2Fos-vif~master~I36fbb56a56832d535facd9bff25d352c8f0274a1,openstack/os-vif,master,I36fbb56a56832d535facd9bff25d352c8f0274a1,Sync Sphinx requirement,MERGED,2019-06-19 16:34:29.000000000,2019-07-08 20:23:37.000000000,2019-07-08 20:23:37.000000000,"[{'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 25733}]","[{'number': 1, 'created': '2019-06-19 16:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/5ef8fdb50c97cf9e428abf41a25afe94eb5e1d06', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update some URLs to latest\n3. Remove unncessary ""==""\n\nChange-Id: I36fbb56a56832d535facd9bff25d352c8f0274a1\n'}, {'number': 2, 'created': '2019-07-08 16:18:10.000000000', 'files': ['releasenotes/source/unreleased.rst', 'CONTRIBUTING.rst', 'releasenotes/source/queens.rst', 'releasenotes/source/pike.rst', 'doc/requirements.txt', 'releasenotes/source/stein.rst'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/cef202b083a67c9b93c593ac026d88c488ca96f7', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update some URLs to latest\n3. Remove unncessary ""==""\n\nCloses-Bug: #1835804\nChange-Id: I36fbb56a56832d535facd9bff25d352c8f0274a1\n'}]",3,666387,cef202b083a67c9b93c593ac026d88c488ca96f7,15,5,2,28614,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Update some URLs to latest
3. Remove unncessary ""==""

Closes-Bug: #1835804
Change-Id: I36fbb56a56832d535facd9bff25d352c8f0274a1
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/87/666387/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/unreleased.rst', 'CONTRIBUTING.rst', 'releasenotes/source/queens.rst', 'releasenotes/source/pike.rst', 'doc/requirements.txt', 'releasenotes/source/stein.rst']",6,5ef8fdb50c97cf9e428abf41a25afe94eb5e1d06,bug/1835804,========================== Stein Series Release Notes ==========================,=================================== Stein Series Release Notes ===================================,16,15
openstack%2Fansible-role-chrony~master~Ic25772c04047bcd3aaa3e8abc5b947feb66bcbbb,openstack/ansible-role-chrony,master,Ic25772c04047bcd3aaa3e8abc5b947feb66bcbbb,Avoid hard-coded value in a generic ansible role,MERGED,2019-07-08 15:02:30.000000000,2019-07-08 20:19:42.000000000,2019-07-08 20:19:42.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 15:02:30.000000000', 'files': ['tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-chrony/commit/71b73d6406af8020f8202a6b2cd6431eb3e2915f', 'message': 'Avoid hard-coded value in a generic ansible role\n\nThe service will be enabled if and only if its state is set to ""running""\nor ""started"".\n\nThis change addresses comment in this change:\nhttps://review.opendev.org/#/c/669365/1/tasks/config.yml@14\n\nChange-Id: Ic25772c04047bcd3aaa3e8abc5b947feb66bcbbb\n'}]",0,669696,71b73d6406af8020f8202a6b2cd6431eb3e2915f,7,3,1,28223,,,0,"Avoid hard-coded value in a generic ansible role

The service will be enabled if and only if its state is set to ""running""
or ""started"".

This change addresses comment in this change:
https://review.opendev.org/#/c/669365/1/tasks/config.yml@14

Change-Id: Ic25772c04047bcd3aaa3e8abc5b947feb66bcbbb
",git fetch https://review.opendev.org/openstack/ansible-role-chrony refs/changes/96/669696/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/config.yml'],1,71b73d6406af8020f8202a6b2cd6431eb3e2915f,follow-up/enable-service," enabled: ""{{ (chrony_service_state|default('started') in ['running', 'started']) |bool }}""", enabled: yes,1,1
openstack%2Ftripleo-ansible~master~Ic614d166451032c1b7b650a4d37a4e3a89afa629,openstack/tripleo-ansible,master,Ic614d166451032c1b7b650a4d37a4e3a89afa629,update example zuul job parent,MERGED,2019-07-08 19:13:15.000000000,2019-07-08 19:40:33.000000000,2019-07-08 19:40:33.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 19:13:15.000000000', 'files': ['doc/source/contributing.rst', 'role-addition.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/560e4cbb75ae4d39c3b3b88db141f8540c2276e7', 'message': 'update example zuul job parent\n\nThe zuul job parent was not correct and if someone was following\nthe documentation importing or creating a new role, manually or\nusing the automation, their initial commit would not work. This\nchange updates the parent job name so that its functional on day\none.\n\nChange-Id: Ic614d166451032c1b7b650a4d37a4e3a89afa629\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,669741,560e4cbb75ae4d39c3b3b88db141f8540c2276e7,6,2,1,7353,,,0,"update example zuul job parent

The zuul job parent was not correct and if someone was following
the documentation importing or creating a new role, manually or
using the automation, their initial commit would not work. This
change updates the parent job name so that its functional on day
one.

Change-Id: Ic614d166451032c1b7b650a4d37a4e3a89afa629
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/669741/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributing.rst', 'role-addition.yml']",2,560e4cbb75ae4d39c3b3b88db141f8540c2276e7,update-docs," ""parent"": ""tripleo-ansible-centos-7-base"","," ""parent"": ""tripleo-ansible-centos"",",2,2
openstack%2Fpuppet-tripleo~master~I94f354c057a41abac42ccff501912f81cb905aa2,openstack/puppet-tripleo,master,I94f354c057a41abac42ccff501912f81cb905aa2,"Disallow SSLv2, SSLv3 and TLS1.0 in stunnel for FedRAMP compliance.",ABANDONED,2018-04-10 16:59:58.000000000,2019-07-08 19:38:56.000000000,,"[{'_account_id': 6449}, {'_account_id': 10873}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2018-04-10 16:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/db3d692f279595cce7f7b205040533b0c3b764e6', 'message': 'Disallow SSLv2, SSLv3 and TLS1.0 in stunnel for FedRAMP compliance.\n\nWe now enforce TLS1.1 or higher for stunnel connections, to meet the\nrequirements for FedRAMP.\n\nChange-Id: I94f354c057a41abac42ccff501912f81cb905aa2\nRelated-Bug: #1754368\n'}, {'number': 2, 'created': '2018-04-10 19:27:17.000000000', 'files': ['templates/stunnel/service.erb', 'manifests/stunnel/service_proxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/62905d69dc361bd1012c459988dd694de9ce388a', 'message': 'Disallow SSLv2, SSLv3 and TLS1.0 in stunnel for FedRAMP compliance.\n\nWe now enforce TLS1.1 or higher for stunnel connections, to meet the\nrequirements for FedRAMP.\n\nChange-Id: I94f354c057a41abac42ccff501912f81cb905aa2\nRelated-Bug: #1754368\n'}]",2,560086,62905d69dc361bd1012c459988dd694de9ce388a,24,6,2,6449,,,0,"Disallow SSLv2, SSLv3 and TLS1.0 in stunnel for FedRAMP compliance.

We now enforce TLS1.1 or higher for stunnel connections, to meet the
requirements for FedRAMP.

Change-Id: I94f354c057a41abac42ccff501912f81cb905aa2
Related-Bug: #1754368
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/86/560086/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/stunnel/service.erb', 'manifests/stunnel/service_proxy.pp']",2,db3d692f279595cce7f7b205040533b0c3b764e6,bug/1754368,"# [*ssl_options*] # OpenSSL options for the tunnel $ssl_options = [ 'NO_SSLv2', 'NO_SSLv3', 'NO_TLSv1' ],",,6,0
openstack%2Fpymod2pkg~master~I7add04a3f3d02c5e771088986920b6743234dfee,openstack/pymod2pkg,master,I7add04a3f3d02c5e771088986920b6743234dfee,Add Python 3 Train unit tests,MERGED,2019-07-05 19:20:55.000000000,2019-07-08 19:32:46.000000000,2019-07-08 19:32:46.000000000,"[{'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 19:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/bf0506bb52a6d2e69c979f767c7fb2392f00d748', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I7add04a3f3d02c5e771088986920b6743234dfee\nStory: #2005924\nTask: #34235\n'}, {'number': 2, 'created': '2019-07-05 23:28:56.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/4229765d71f83bfa6adf574976e237779393c671', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nDepends-On: https://review.opendev.org/669542\n\nChange-Id: I7add04a3f3d02c5e771088986920b6743234dfee\nStory: #2005924\nTask: #34235\n'}]",0,669473,4229765d71f83bfa6adf574976e237779393c671,9,3,2,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Depends-On: https://review.opendev.org/669542

Change-Id: I7add04a3f3d02c5e771088986920b6743234dfee
Story: #2005924
Task: #34235
",git fetch https://review.opendev.org/openstack/pymod2pkg refs/changes/73/669473/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,bf0506bb52a6d2e69c979f767c7fb2392f00d748,python3-train,"envlist = py27,py37,pypy,pep8","envlist = py35,py27,pypy,pep8",4,4
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ia71e80c84449209653609c911fef4cb3cdce5b5c,openstack/tripleo-heat-templates,stable/queens,Ia71e80c84449209653609c911fef4cb3cdce5b5c,ceilometer_agent_notification: disable-panko.yaml,MERGED,2019-07-01 15:44:21.000000000,2019-07-08 18:40:34.000000000,2019-07-08 18:40:33.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-01 15:44:21.000000000', 'files': ['docker/services/ceilometer-agent-notification.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de9453ba2a4dabbf5d5e0838e7c12745237876aa', 'message': 'ceilometer_agent_notification: disable-panko.yaml\n\nceilometer-agent-notification.yaml updated the\nkolla_config section in template file to include\nnothing related to panko when disable-panko env file is passed.\n\nCloses-Bug: #1824840\n\nChange-Id: Ia71e80c84449209653609c911fef4cb3cdce5b5c\n(cherry picked from commit 8fac4c4334ad2b2ef67040d053a58a9ba8857425)\n(cherry picked from commit 9a1491a42fd6679b9222eb22af5844ce3edf5067)\n'}]",0,668498,de9453ba2a4dabbf5d5e0838e7c12745237876aa,8,4,1,28504,,,0,"ceilometer_agent_notification: disable-panko.yaml

ceilometer-agent-notification.yaml updated the
kolla_config section in template file to include
nothing related to panko when disable-panko env file is passed.

Closes-Bug: #1824840

Change-Id: Ia71e80c84449209653609c911fef4cb3cdce5b5c
(cherry picked from commit 8fac4c4334ad2b2ef67040d053a58a9ba8857425)
(cherry picked from commit 9a1491a42fd6679b9222eb22af5844ce3edf5067)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/668498/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ceilometer-agent-notification.yaml'],1,de9453ba2a4dabbf5d5e0838e7c12745237876aa,bug/1824840," list_concat: - - source: ""/var/lib/kolla/config_files/src/*"" - if: - ceilometer_enable_panko - - source: ""/var/lib/kolla/config_files/src-panko/*"" dest: ""/"" merge: true preserve_properties: true - null "," - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true - if: - ceilometer_enable_panko - source: ""/var/lib/kolla/config_files/src-panko/*"" - ''",10,8
openstack%2Ftripleo-heat-templates~master~I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb,openstack/tripleo-heat-templates,master,I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb,Move nova cell v2 discovery to deploy_steps_tasks,MERGED,2019-06-05 08:35:35.000000000,2019-07-08 18:40:31.000000000,2019-07-08 18:40:31.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-06-05 08:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c6280c7fd20889393126acc0fd04b7a98c1438f', 'message': '[WIP] Move nova cell v2 discovery to external_post_deploy_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to external_post_deploy_tasks\nthat it gets triggered even if --skip-deploy-identifier is used, or\nthe compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n'}, {'number': 2, 'created': '2019-06-05 08:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7f33876f0cc99fba5c8ffe30a533c46b60a406f', 'message': '[WIP] Move nova cell v2 discovery to external_post_deploy_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to external_post_deploy_tasks\nthat it gets triggered even if --skip-deploy-identifier is used, or\nthe compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n'}, {'number': 3, 'created': '2019-06-05 14:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/51d6372b21daa8c9e605f8e804582acfc06e599c', 'message': '[WIP] Move nova cell v2 discovery to external_post_deploy_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to external_post_deploy_tasks\nthat it gets triggered even if --skip-deploy-identifier is used, or\nthe compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n'}, {'number': 4, 'created': '2019-06-05 15:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eafffcad21ca5c532f3624801e8b212458eb321f', 'message': 'Move nova cell v2 discovery to external_post_deploy_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to external_post_deploy_tasks\nthat it gets triggered even if --skip-deploy-identifier is used, or\nthe compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n'}, {'number': 5, 'created': '2019-06-06 12:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84df8af98f579fb9e8793b8e19c39fdaf0629c70', 'message': 'Move nova cell v2 discovery to external_post_deploy_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to external_post_deploy_tasks\nthat it gets triggered even if --skip-deploy-identifier is used, or\nthe compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n'}, {'number': 6, 'created': '2019-06-06 14:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1082b2e7aa5ce46d1c62f90c7a4c446a6ef0b7cf', 'message': 'Move nova cell v2 discovery to external_post_deploy_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to external_post_deploy_tasks\nthat it gets triggered even if --skip-deploy-identifier is used, or\nthe compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n'}, {'number': 7, 'created': '2019-06-07 15:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/91f1a4b16d90784b73f4bed3aa8c742bd24d2c5e', 'message': 'Move nova cell v2 discovery to external_post_deploy_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to external_post_deploy_tasks\nthat it gets triggered even if --skip-deploy-identifier is used, or\nthe compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n'}, {'number': 8, 'created': '2019-06-28 15:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/01575a20cdf0fb996883da84cfc56e71ca660a90', 'message': 'Move nova cell v2 discovery to external_post_deploy_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to be an ansible\ndeploy_steps_tasks that it gets triggered even if --skip-deploy-identifier\nis used, or the compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n'}, {'number': 9, 'created': '2019-06-28 15:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/965db7c9594cf649458e3404b9967d388047c1c4', 'message': 'Move nova cell v2 discovery to deploy_steps_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to be an ansible\ndeploy_steps_tasks that it gets triggered even if --skip-deploy-identifier\nis used, or the compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n'}, {'number': 10, 'created': '2019-06-29 22:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0b148cf534529809ddd6310b3bff2266112c72e3', 'message': 'Move nova cell v2 discovery to deploy_steps_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to be an ansible\ndeploy_steps_tasks that it gets triggered even if --skip-deploy-identifier\nis used, or the compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n'}, {'number': 11, 'created': '2019-06-30 10:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebda94765b42285a603e8a0a5b55430af6b78258', 'message': 'Move nova cell v2 discovery to deploy_steps_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to be an ansible\ndeploy_steps_tasks that it gets triggered even if --skip-deploy-identifier\nis used, or the compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n'}, {'number': 12, 'created': '2019-07-01 11:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/12ddc17c22617fb8fa10668434612dd49409a378', 'message': 'Move nova cell v2 discovery to deploy_steps_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to be an ansible\ndeploy_steps_tasks that it gets triggered even if --skip-deploy-identifier\nis used, or the compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n'}, {'number': 13, 'created': '2019-07-01 16:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64215088f5aac0e4ed08196247fdd5835e004cca', 'message': 'Move nova cell v2 discovery to deploy_steps_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to be an ansible\ndeploy_steps_tasks that it gets triggered even if --skip-deploy-identifier\nis used, or the compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n'}, {'number': 14, 'created': '2019-07-02 14:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/442f89df7d1453b88fee6f4b0e229a26415e0b2d', 'message': 'Move nova cell v2 discovery to deploy_steps_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to be an ansible\ndeploy_steps_tasks that it gets triggered even if --skip-deploy-identifier\nis used, or the compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n'}, {'number': 15, 'created': '2019-07-02 15:24:44.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml', 'releasenotes/notes/nova_move_host_discovery_to_external_post_deploy_tasks-e978560ee59b8b56.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'container_config_scripts/nova_cell_v2_discover_hosts.py', 'deployment/nova/nova-compute-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f8779e5023c7b5dd54dd879d4f5431ed4742e9e1', 'message': 'Move nova cell v2 discovery to deploy_steps_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to be an ansible\ndeploy_steps_tasks that it gets triggered even if --skip-deploy-identifier\nis used, or the compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n'}]",22,663273,f8779e5023c7b5dd54dd879d4f5431ed4742e9e1,74,10,15,17216,,,0,"Move nova cell v2 discovery to deploy_steps_tasks

Recent changes for e.g edge scenarios caused intended move of discovery
from controller to bootstrap compute node. The task is triggered by
deploy-identifier to make sure it gets run on any deploy,scale, ... run.
If deploy run is triggered with --skip-deploy-identifier flag, discovery
will not be triggered at and as result causing failures in previously
supported scenarios.
This change moves the host discovery task to be an ansible
deploy_steps_tasks that it gets triggered even if --skip-deploy-identifier
is used, or the compute bootstrap node is blacklisted.

Closes-Bug: #1831711

Change-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/663273/14 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nova_move_host_discovery_to_external_post_deploy_tasks-e978560ee59b8b56.yaml', 'deployment/nova/nova-compute-container-puppet.yaml']",2,0c6280c7fd20889393126acc0fd04b7a98c1438f,bug/1831711," external_post_deploy_tasks: - name: Discovering nova hosts command: ""{{ container_cli }} exec nova_compute nova-manage cell_v2 discover_hosts --by-service"" register: discover_hosts become: true changed_when: False run_once: True delegate_to: ""{{ groups['nova_compute'][0] }}"""," step_5: if: - is_not_additional_cell - nova_cell_v2_discover_hosts: start_order: 0 image: *nova_compute_image net: host detach: false volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/config-data/nova_libvirt/etc/my.cnf.d/:/etc/my.cnf.d/:ro - /var/lib/config-data/nova_libvirt/etc/nova/:/etc/nova/:ro - /var/log/containers/nova:/var/log/nova - /var/lib/container-config-scripts/:/container-config-scripts/ user: root command: ""/usr/bin/bootstrap_host_exec nova_compute su nova -s /bin/bash -c '/container-config-scripts/pyshim.sh /container-config-scripts/nova_cell_v2_discover_hosts.py'"" environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) - list_join: - '' - - 'TRIPLEO_DEPLOY_IDENTIFIER=' - {get_param: DeployIdentifier} - list_join: - '' - - '__OS_DEBUG=' - yaql: expression: str($.data.debug) data: debug: {get_attr: [NovaBase, role_data, config_settings, 'nova::logging::debug']} - {}",20,33
openstack%2Fpuppet-tripleo~stable%2Fqueens~I8e0f4bd90d22617a6451fa591f9ff50821d9c33b,openstack/puppet-tripleo,stable/queens,I8e0f4bd90d22617a6451fa591f9ff50821d9c33b,Fix bootstrap node for nova conductor,MERGED,2019-06-20 20:02:15.000000000,2019-07-08 18:40:30.000000000,2019-07-08 18:40:29.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2019-06-20 20:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/87b742ff27acea8c815347b0ae78089063e9adb9', 'message': 'Fix bootstrap node for nova conductor\n\nThe doc was updated but the actual default value still the one.\nSee context in I48ec4549552910f3cb8db960b0ff10a6c61b4bb9\n\nPartial-Bug: #1792613\nChange-Id: I8e0f4bd90d22617a6451fa591f9ff50821d9c33b\n(cherry picked from commit 31e5cc36fdb91a83a76ed0c7cf32949e464222cb)\n'}, {'number': 2, 'created': '2019-07-05 02:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e89b2bcfb8563d109cdf9c611bff6250d55dda55', 'message': 'Fix bootstrap node for nova conductor\n\nThe doc was updated but the actual default value still the one.\nSee context in I48ec4549552910f3cb8db960b0ff10a6c61b4bb9\n\nPartial-Bug: #1792613\nChange-Id: I8e0f4bd90d22617a6451fa591f9ff50821d9c33b\n(cherry picked from commit 31e5cc36fdb91a83a76ed0c7cf32949e464222cb)\n'}, {'number': 3, 'created': '2019-07-05 02:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/970e5171354902e31e52a3c100a0dae9c848184b', 'message': 'Fix bootstrap node for nova conductor\n\nThe doc was updated but the actual default value still the one.\nSee context in I48ec4549552910f3cb8db960b0ff10a6c61b4bb9\n\nPartial-Bug: #1792613\nChange-Id: I8e0f4bd90d22617a6451fa591f9ff50821d9c33b\n(cherry picked from commit 31e5cc36fdb91a83a76ed0c7cf32949e464222cb)\n'}, {'number': 4, 'created': '2019-07-05 02:08:14.000000000', 'files': ['manifests/profile/base/nova/conductor.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/02660341f3c7389fb740a6a844858ea73d2f34d3', 'message': 'Fix bootstrap node for nova conductor\n\nThe doc was updated but the actual default value still the one.\nSee context in I48ec4549552910f3cb8db960b0ff10a6c61b4bb9\n\nPartial-Bug: #1792613\nChange-Id: I8e0f4bd90d22617a6451fa591f9ff50821d9c33b\n(cherry picked from commit 31e5cc36fdb91a83a76ed0c7cf32949e464222cb)\n'}]",0,666688,02660341f3c7389fb740a6a844858ea73d2f34d3,19,4,4,27427,,,0,"Fix bootstrap node for nova conductor

The doc was updated but the actual default value still the one.
See context in I48ec4549552910f3cb8db960b0ff10a6c61b4bb9

Partial-Bug: #1792613
Change-Id: I8e0f4bd90d22617a6451fa591f9ff50821d9c33b
(cherry picked from commit 31e5cc36fdb91a83a76ed0c7cf32949e464222cb)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/88/666688/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/nova/conductor.pp'],1,87b742ff27acea8c815347b0ae78089063e9adb9,bug/1792613," $bootstrap_node = hiera('nova_api_short_bootstrap_node_name', undef),",,1,0
openstack%2Ftripleo-heat-templates~master~Ic1a7ff0996c5cfeec2ca013bc4e5b2eddab0c377,openstack/tripleo-heat-templates,master,Ic1a7ff0996c5cfeec2ca013bc4e5b2eddab0c377,Add new parameter NovaSchedulerLimitTenantsToPlacementAggregate,MERGED,2019-07-05 06:04:24.000000000,2019-07-08 18:40:27.000000000,2019-07-08 18:40:26.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-05 06:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a0f7ed006c9041a4aba20a35438239048907051', 'message': 'Add new parameter NovaSchedulerLimitTenantsToPlacementAggregate\n\nAdd new parameter NovaSchedulerLimitTenantsToPlacementAggregate\nallows for configuring scheduler to enable tenant-isolation with\nplacement, which ensures that hosts in tenant-isolated host\naggregate and availability zones will only be available to\nspecific set of tenants.\n\nDepends-On: https://review.opendev.org/#/c/669252/\nChange-Id: Ic1a7ff0996c5cfeec2ca013bc4e5b2eddab0c377\n'}, {'number': 2, 'created': '2019-07-05 07:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b9bea1f25d49037dbb8bfdd7a6e047010a5b1142', 'message': 'Add new parameter NovaSchedulerLimitTenantsToPlacementAggregate\n\nAdd new parameter NovaSchedulerLimitTenantsToPlacementAggregate\nallows for configuring scheduler to enable tenant-isolation with\nplacement, which ensures that hosts in tenant-isolated host\naggregate and availability zones will only be available to\nspecific set of tenants.\n\nDepends-On: https://review.opendev.org/#/c/669252/\nChange-Id: Ic1a7ff0996c5cfeec2ca013bc4e5b2eddab0c377\n'}, {'number': 3, 'created': '2019-07-08 06:53:53.000000000', 'files': ['releasenotes/notes/nova_scheduler_limit_tenants_to_placement_aggregate-9889b0a73dd1d042.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2074b356f57c29f66cf750b86c2b1d8c4e263fe5', 'message': 'Add new parameter NovaSchedulerLimitTenantsToPlacementAggregate\n\nAdd new parameter NovaSchedulerLimitTenantsToPlacementAggregate\nallows for configuring scheduler to enable tenant-isolation with\nplacement, which ensures that hosts in tenant-isolated host\naggregate and availability zones will only be available to\nspecific set of tenants.\n\nDepends-On: https://review.opendev.org/#/c/669252/\nChange-Id: Ic1a7ff0996c5cfeec2ca013bc4e5b2eddab0c377\n'}]",0,669253,2074b356f57c29f66cf750b86c2b1d8c4e263fe5,20,7,3,20733,,,0,"Add new parameter NovaSchedulerLimitTenantsToPlacementAggregate

Add new parameter NovaSchedulerLimitTenantsToPlacementAggregate
allows for configuring scheduler to enable tenant-isolation with
placement, which ensures that hosts in tenant-isolated host
aggregate and availability zones will only be available to
specific set of tenants.

Depends-On: https://review.opendev.org/#/c/669252/
Change-Id: Ic1a7ff0996c5cfeec2ca013bc4e5b2eddab0c377
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/669253/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-scheduler-container-puppet.yaml'],1,5a0f7ed006c9041a4aba20a35438239048907051,multi_tenant_isolation, NovaSchedulerLimitTenantsToPlacementAggregate: default: false description: > This value allows to have tenant isolation with placement. It ensures hosts in tenant-isolated host aggregate and availability zones will only be available to specific set of tenants. type: boolean nova::scheduler::limit_tenants_to_placement_aggregate: {get_param: NovaSchedulerLimitTenantsToPlacementAggregate},,8,0
openstack%2Ftripleo-heat-templates~master~I732c0c3e0b3eb1b52f0df58568ec3a42f3d6d1a1,openstack/tripleo-heat-templates,master,I732c0c3e0b3eb1b52f0df58568ec3a42f3d6d1a1,Don't use the z flag in case NovaNfsEnabled is true,MERGED,2019-07-05 10:17:03.000000000,2019-07-08 18:40:25.000000000,2019-07-08 18:40:25.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-05 10:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2935d23f300dcd3215c137e708f6b1ece08b49a', 'message': 'Don\'t use the z flag in case NovaNfsEnabled is true\n\nDeployment with enabled NFS share for nova ephemeral storage fails. Podman\nfails to relable with mounted nfs in /var/lib/nova/instances and container\nfail to start with ""operation not supported"".\nThis change only sets the z flag for the /var/lib/nova in case nfs is not\nenabled for the compute.\n\nChange-Id: I732c0c3e0b3eb1b52f0df58568ec3a42f3d6d1a1\nCloses-Bug: #1835503\n'}, {'number': 2, 'created': '2019-07-07 14:22:00.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova_nfs_enabled_podman-a92ea12cd4cd92c8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b56c521e01d0a4b42f44f2d9d03f524a4dc60475', 'message': 'Don\'t use the z flag in case NovaNfsEnabled is true\n\nDeployment with enabled NFS share for nova ephemeral storage fails. Podman\nfails to relable with mounted nfs in /var/lib/nova/instances and container\nfail to start with ""operation not supported"".\nThis change only sets the z flag for the /var/lib/nova in case nfs is not\nenabled for the compute.\n\nChange-Id: I732c0c3e0b3eb1b52f0df58568ec3a42f3d6d1a1\nCloses-Bug: #1835503\n'}]",0,669317,b56c521e01d0a4b42f44f2d9d03f524a4dc60475,23,9,2,17216,,,0,"Don't use the z flag in case NovaNfsEnabled is true

Deployment with enabled NFS share for nova ephemeral storage fails. Podman
fails to relable with mounted nfs in /var/lib/nova/instances and container
fail to start with ""operation not supported"".
This change only sets the z flag for the /var/lib/nova in case nfs is not
enabled for the compute.

Change-Id: I732c0c3e0b3eb1b52f0df58568ec3a42f3d6d1a1
Closes-Bug: #1835503
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/669317/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/nova_nfs_enabled_podman-a92ea12cd4cd92c8.yaml']",5,b2935d23f300dcd3215c137e708f6b1ece08b49a,bug/1835503,"--- fixes: - | Deployment with enabled NFS share for nova ephemeral storage fails. Podman fails to relable with mounted nfs in /var/lib/nova/instances and container fail to start with ""operation not supported"". This change only sets the z flag for the /var/lib/nova in case nfs is not enabled for the compute. ",,111,9
openstack%2Fproject-config~master~I4bcc80ca8bfec799f15c06e13c667f121896f8c5,openstack/project-config,master,I4bcc80ca8bfec799f15c06e13c667f121896f8c5,Use opendev mirror in fortnebula cloud,MERGED,2019-07-08 18:13:52.000000000,2019-07-08 18:34:56.000000000,2019-07-08 18:34:56.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 18:13:52.000000000', 'files': ['zuul/site-variables.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/497d0d3a5ee60ccb33354b59f504af35fc4077ba', 'message': 'Use opendev mirror in fortnebula cloud\n\nI did not add openstack.org DNS records for the mirror in this cloud\nregion so we need to use the opendev name instead.\n\nChange-Id: I4bcc80ca8bfec799f15c06e13c667f121896f8c5\n'}]",0,669733,497d0d3a5ee60ccb33354b59f504af35fc4077ba,9,4,1,4146,,,0,"Use opendev mirror in fortnebula cloud

I did not add openstack.org DNS records for the mirror in this cloud
region so we need to use the opendev name instead.

Change-Id: I4bcc80ca8bfec799f15c06e13c667f121896f8c5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/33/669733/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/site-variables.yaml'],1,497d0d3a5ee60ccb33354b59f504af35fc4077ba,fn-opendev-mirror," {%- if nodepool.region + ""."" + nodepool.cloud in [ ""DFW.rax"", ""ORD.rax"", ""regionOne.fortnebula"" ] -%}"," {%- if nodepool.region + ""."" + nodepool.cloud in [ ""DFW.rax"", ""ORD.rax"" ] -%}",1,1
openstack%2Finstack-undercloud~stable%2Frocky~Ia8e77585f82309904960c1d8781158483ed90a69,openstack/instack-undercloud,stable/rocky,Ia8e77585f82309904960c1d8781158483ed90a69,Catch the error if we are not able to connect to the heat client and fetch Overcloud names,MERGED,2019-06-17 12:16:16.000000000,2019-07-08 18:11:42.000000000,2019-07-08 18:11:42.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-17 12:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/4ea5a05545693ea7199d8506e5921430da2cd618', 'message': 'Catch the error if we are not able to connect to the heat client and fetch Overcloud names\n\nIf by any reason heat is not able\nto fetch the Overcloud stack name\nthe client will fail.\n\nThis submission catch the exception for\nnot breaking the python client and fail\nstating that the stack was not able to be found.\n\nChange-Id: Ia8e77585f82309904960c1d8781158483ed90a69\n'}, {'number': 2, 'created': '2019-06-18 06:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/3311b586f18bd37282629c745b83943672b49b76', 'message': 'Catch the error if we are not able to connect to the heat client and fetch Overcloud names\n\nIf by any reason heat is not able\nto fetch the Overcloud stack name\nthe client will fail.\n\nThis submission catch the exception for\nnot breaking the python client and fail\nstating that the stack was not able to be found.\n\nChange-Id: Ia8e77585f82309904960c1d8781158483ed90a69\n'}, {'number': 3, 'created': '2019-06-20 07:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/77a7880eefbf145358a05eeee3d980e25253d534', 'message': 'Catch the error if we are not able to connect to the heat client and fetch Overcloud names\n\nIf by any reason heat is not able\nto fetch the Overcloud stack name\nthe client will fail.\n\nThis submission catch the exception for\nnot breaking the python client and fail\nstating that the stack was not able to be found.\n\nChange-Id: Ia8e77585f82309904960c1d8781158483ed90a69\n'}, {'number': 4, 'created': '2019-06-22 07:24:22.000000000', 'files': ['instack_undercloud/undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/b5fe4cd63653fcb1f03abdf2eeb95a46a987ca20', 'message': 'Catch the error if we are not able to connect to the heat client and fetch Overcloud names\n\nIf by any reason heat is not able\nto fetch the Overcloud stack name\nthe client will fail.\n\nThis submission catch the exception for\nnot breaking the python client and fail\nstating that the stack was not able to be found.\n\nChange-Id: Ia8e77585f82309904960c1d8781158483ed90a69\n'}]",0,665653,b5fe4cd63653fcb1f03abdf2eeb95a46a987ca20,25,8,4,20775,,,0,"Catch the error if we are not able to connect to the heat client and fetch Overcloud names

If by any reason heat is not able
to fetch the Overcloud stack name
the client will fail.

This submission catch the exception for
not breaking the python client and fail
stating that the stack was not able to be found.

Change-Id: Ia8e77585f82309904960c1d8781158483ed90a69
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/53/665653/4 && git format-patch -1 --stdout FETCH_HEAD,['instack_undercloud/undercloud.py'],1,4ea5a05545693ea7199d8506e5921430da2cd618,665653," try: sess = _get_session() mistral = mistralclient.client(mistral_url=mistral_url, session=sess) # Here we fetch all the containers names from swift, we should have # a container called with the same name as the deployment plan. swift_client = swiftclient.Connection(session=sess) swift = swift_client.get_account()[1] plans = [container[""name""] for container in swift] user, password, project, auth_url = _get_auth_values() heat = os_client_config.make_client('orchestration', auth_url=auth_url, username=user, password=password, project_name=project, project_domain_name='Default', user_domain_name='Default') # Here we get all the stack names, we should have only one. stack_names_list = [stack.stack_name for stack in heat.stacks.list()] # We calculate the interception of the two previous list, the # result should be only one value in case the Overcloud exists. existing_stack = list(set(plans) & set(stack_names_list)) # We can not run the validations if we do not have the Overcloud deployed # We are running a group validation and if the validation runs in both # the Undercloud and Overcloud nodes is mandatory to define the Overcloud # stack name. For example there are validations in the post-upgrade group # that will run in both the Undercloud and Overcloud making this mistral # execution fail. except Exception as e: LOG.info(""We can not run validations if the Overcloud is "" ""not deployed or if are not able to find it."") existing_stack = false LOG.info(""We can not run validations if the Overcloud is "" ""not deployed or if are not able to find it."")"," sess = _get_session() mistral = mistralclient.client(mistral_url=mistral_url, session=sess) # Here we fetch all the containers names from swift, we should have # a container called with the same name as the deployment plan. swift_client = swiftclient.Connection(session=sess) swift = swift_client.get_account()[1] plans = [container[""name""] for container in swift] user, password, project, auth_url = _get_auth_values() heat = os_client_config.make_client('orchestration', auth_url=auth_url, username=user, password=password, project_name=project, project_domain_name='Default', user_domain_name='Default') # Here we get all the stack names, we should have only one. stack_names_list = [stack.stack_name for stack in heat.stacks.list()] # We calculate the interception of the two previous list, the # result should be only one value in case the Overcloud exists. existing_stack = list(set(plans) & set(stack_names_list)) # We can not run the validations if we do not have the Overcloud deployed # We are running a group validation and if the validation runs in both # the Undercloud and Overcloud nodes is mandatory to define the Overcloud # stack name. For example there are validations in the post-upgrade group # that will run in both the Undercloud and Overcloud making this mistral # execution fail. LOG.info('We can not run validations if the Overcloud is not deployed')",34,27
openstack%2Frally-openstack~master~Ieab9642153d903a461765abc35ea36fd9f399089,openstack/rally-openstack,master,Ieab9642153d903a461765abc35ea36fd9f399089,Add Octavia Authenticate,MERGED,2019-06-21 19:49:22.000000000,2019-07-08 18:08:47.000000000,2019-07-08 18:08:47.000000000,"[{'_account_id': 9545}, {'_account_id': 15209}, {'_account_id': 16845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 19:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0c1c17e32d85ef7294048c7a23fd55441d50d694', 'message': 'Add Octavia Authenticate\n\nChange-Id: Ieab9642153d903a461765abc35ea36fd9f399089\n'}, {'number': 2, 'created': '2019-06-24 12:32:17.000000000', 'files': ['tests/unit/scenarios/authenticate/test_authenticate.py', 'rally_openstack/scenarios/authenticate/authenticate.py', 'samples/tasks/scenarios/authenticate/token-validate-octavia.yaml', 'samples/tasks/scenarios/authenticate/token-validate-octavia.json'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/a1c98eca517bdaabb736f664623bb7a67b5c7b1f', 'message': 'Add Octavia Authenticate\n\nChange-Id: Ieab9642153d903a461765abc35ea36fd9f399089\n'}]",0,666909,a1c98eca517bdaabb736f664623bb7a67b5c7b1f,21,4,2,15209,,,0,"Add Octavia Authenticate

Change-Id: Ieab9642153d903a461765abc35ea36fd9f399089
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/09/666909/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/scenarios/authenticate/test_authenticate.py', 'rally_openstack/scenarios/authenticate/authenticate.py']",2,0c1c17e32d85ef7294048c7a23fd55441d50d694,octavia-authenticate,"@scenario.configure(name=""Authenticate.validate_octavia"", platform=""openstack"") class ValidateOctavia(scenario.OpenStackScenario): def run(self, repetitions): """"""Check Octavia Client to ensure validation of token. Creation of the client does not ensure validation of the token. We have to do some minimal operation to make sure token gets validated. :param repetitions: number of times to validate """""" octavia_client = self.clients(""octavia"") with atomic.ActionTimer(self, ""authenticate.validate_octavia""): for i in range(repetitions): octavia_client.load_balancer_list() @validation.add(""number"", param_name=""repetitions"", minval=1) @validation.add(""required_platform"", platform=""openstack"", users=True)",,27,0
openstack%2Fpaunch~master~I9b7f1df0f466f8e5cd44f0c8e4465618fe4fc8a1,openstack/paunch,master,I9b7f1df0f466f8e5cd44f0c8e4465618fe4fc8a1,runner: refactor image_exist,MERGED,2019-06-17 18:04:15.000000000,2019-07-08 18:04:18.000000000,2019-07-08 06:43:38.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-06-17 18:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/29bb794a0f5796113ccc737f3aaef9d4581f5bf0', 'message': 'runner: refactor image_exist\n\niamge_exist only makes sense in podman where the inspect command\nrequires the image to be here.\n\nAlso, rather than returning a return code, return a bool to make the use\nof image_exist simpler in the code.\n\nThis patch is preparing the code to have container_exist and re-use the\nsame logic later.\n\nChange-Id: I9b7f1df0f466f8e5cd44f0c8e4465618fe4fc8a1\n'}, {'number': 2, 'created': '2019-06-21 15:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/ed21d4f6276a2cd892ab70bcefddd9d2e0f774f0', 'message': 'runner: refactor image_exist\n\niamge_exist only makes sense in podman where the inspect command\nrequires the image to be here.\n\nAlso, rather than returning a return code, return a bool to make the use\nof image_exist simpler in the code.\n\nThis patch is preparing the code to have container_exist and re-use the\nsame logic later.\n\nChange-Id: I9b7f1df0f466f8e5cd44f0c8e4465618fe4fc8a1\n'}, {'number': 3, 'created': '2019-06-25 12:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/bd32de1f209e13fd275ae8b96b6489c6a1102f66', 'message': 'runner: refactor image_exist\n\niamge_exist only makes sense in podman where the inspect command\nrequires the image to be here.\n\nAlso, rather than returning a return code, return a bool to make the use\nof image_exist simpler in the code.\n\nThis patch is preparing the code to have container_exist and re-use the\nsame logic later.\n\nChange-Id: I9b7f1df0f466f8e5cd44f0c8e4465618fe4fc8a1\n'}, {'number': 4, 'created': '2019-06-25 17:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/a7a6d823abf7ae6112684e3253f5849059aaf855', 'message': 'runner: refactor image_exist\n\niamge_exist only makes sense in podman where the inspect command\nrequires the image to be here.\n\nAlso, rather than returning a return code, return a bool to make the use\nof image_exist simpler in the code.\n\nThis patch is preparing the code to have container_exist and re-use the\nsame logic later.\n\nChange-Id: I9b7f1df0f466f8e5cd44f0c8e4465618fe4fc8a1\n'}, {'number': 5, 'created': '2019-06-26 13:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/747a90ac21540e35d18e8cd70472a9b103901c64', 'message': 'runner: refactor image_exist\n\niamge_exist only makes sense in podman where the inspect command\nrequires the image to be here.\n\nAlso, rather than returning a return code, return a bool to make the use\nof image_exist simpler in the code.\n\nThis patch is preparing the code to have container_exist and re-use the\nsame logic later.\n\nChange-Id: I9b7f1df0f466f8e5cd44f0c8e4465618fe4fc8a1\n'}, {'number': 6, 'created': '2019-07-04 19:38:38.000000000', 'files': ['paunch/runner.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/43468616c89e695f65befd4d49b8c1c7bdcd0b2c', 'message': 'runner: refactor image_exist\n\niamge_exist only makes sense in podman where the inspect command\nrequires the image to be here.\n\nAlso, rather than returning a return code, return a bool to make the use\nof image_exist simpler in the code.\n\nThis patch is preparing the code to have container_exist and re-use the\nsame logic later.\n\nChange-Id: I9b7f1df0f466f8e5cd44f0c8e4465618fe4fc8a1\n'}]",11,665739,43468616c89e695f65befd4d49b8c1c7bdcd0b2c,37,7,6,3153,,,0,"runner: refactor image_exist

iamge_exist only makes sense in podman where the inspect command
requires the image to be here.

Also, rather than returning a return code, return a bool to make the use
of image_exist simpler in the code.

This patch is preparing the code to have container_exist and re-use the
same logic later.

Change-Id: I9b7f1df0f466f8e5cd44f0c8e4465618fe4fc8a1
",git fetch https://review.opendev.org/openstack/paunch refs/changes/39/665739/1 && git format-patch -1 --stdout FETCH_HEAD,['paunch/runner.py'],1,29bb794a0f5796113ccc737f3aaef9d4581f5bf0,refactor/exists," if self.cont_cmd == 'podman': cmd = ['podman', 'image', 'exists', name] (cmd_stdout, cmd_stderr, returncode) = self.execute( cmd, self.log, quiet) return True if returncode == 0 else False else: return True # In podman, if we're being asked to inspect a container image, we if not self.image_exist(name):"," if self.cont_cmd != 'podman': return 0 cmd = ['podman', 'image', 'exists', name] (cmd_stdout, cmd_stderr, returncode) = self.execute( cmd, self.log, quiet) return returncode # If we're being asked to inspect a container image, we img_exist = self.image_exist(name) if img_exist != 0:",9,9
