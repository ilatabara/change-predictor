id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fsolum~master~I7871881adce792a5ae9d1f80ffa6351a98753566,openstack/solum,master,I7871881adce792a5ae9d1f80ffa6351a98753566,pypy is not checked at gate,MERGED,2018-03-21 16:02:20.000000000,2018-03-22 02:25:42.000000000,2018-03-22 02:25:42.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 25983}]","[{'number': 1, 'created': '2018-03-21 16:02:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/solum/commit/6f4eaebebb123cf84485258417b15426c82115c8', 'message': 'pypy is not checked at gate\n\nChange-Id: I7871881adce792a5ae9d1f80ffa6351a98753566\n'}]",0,554969,6f4eaebebb123cf84485258417b15426c82115c8,7,3,1,25983,,,0,"pypy is not checked at gate

Change-Id: I7871881adce792a5ae9d1f80ffa6351a98753566
",git fetch https://review.opendev.org/openstack/solum refs/changes/69/554969/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6f4eaebebb123cf84485258417b15426c82115c8,,"envlist = py35,py27,pep8","envlist = py35,py27,pypy,pep8",1,1
openstack%2Fproject-config~master~I234d428d9eddbeb95b8db681c49e75caa34bb128,openstack/project-config,master,I234d428d9eddbeb95b8db681c49e75caa34bb128,Unpause Centos 7 for dib 2.12.1,MERGED,2018-03-22 01:19:27.000000000,2018-03-22 02:24:08.000000000,2018-03-22 02:24:07.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 01:19:27.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6e1fb811ab45dc7f5eed14b8c94e84fdc8b7a3f1', 'message': 'Unpause Centos 7 for dib 2.12.1\n\nThis is a partial revert of 8962dfb8d8e463a1b4d42dfd8f6b2daa116c5b46\nto just unpause CentOS 7 and validate the fix.\n\nChange-Id: I234d428d9eddbeb95b8db681c49e75caa34bb128\n'}]",0,555106,6e1fb811ab45dc7f5eed14b8c94e84fdc8b7a3f1,6,2,1,7118,,,0,"Unpause Centos 7 for dib 2.12.1

This is a partial revert of 8962dfb8d8e463a1b4d42dfd8f6b2daa116c5b46
to just unpause CentOS 7 and validate the fix.

Change-Id: I234d428d9eddbeb95b8db681c49e75caa34bb128
",git fetch https://review.opendev.org/openstack/project-config refs/changes/06/555106/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,6e1fb811ab45dc7f5eed14b8c94e84fdc8b7a3f1,pause-dib-partition-error, pause: false, pause: true,1,1
openstack%2Fcinder~master~If65780000fa8f59f663b00b88584cf289effa590,openstack/cinder,master,If65780000fa8f59f663b00b88584cf289effa590,Dell EMC SC: ISCSI initialize_connection fixes.,MERGED,2018-03-14 15:48:45.000000000,2018-03-22 02:18:11.000000000,2018-03-20 15:45:11.000000000,"[{'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12112}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-03-14 15:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8e32dc567c548f215cdd26faa6e5d278859912e', 'message': 'Dell EMC SC: ISCSI initialize_connection fixes.\n\nDriver was not honoring the server in ISCSI and returning connection\ninformation for all servers (IQNs) connected to a volume.\n\nIf multiple servers are mapped to a volume the driver was only returning\nthe first server for a given portal.\n\nChange-Id: If65780000fa8f59f663b00b88584cf289effa590\n'}, {'number': 2, 'created': '2018-03-14 19:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7467a7425c0e2ac3d09bd6f04963a3ecf351e66d', 'message': 'Dell EMC SC: ISCSI initialize_connection fixes.\n\nDriver was not honoring the server in ISCSI and returning connection\ninformation for all servers (IQNs) connected to a volume.\n\nIf multiple servers are mapped to a volume the driver was only returning\nthe first server for a given portal.\n\nChange-Id: If65780000fa8f59f663b00b88584cf289effa590\n'}, {'number': 3, 'created': '2018-03-15 15:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3306bd181f76ac1d47a2181f8987cb83873defbf', 'message': 'Dell EMC SC: ISCSI initialize_connection fixes.\n\nDriver was not honoring the server in ISCSI and returning connection\ninformation for all servers (IQNs) connected to a volume.\n\nIf multiple servers are mapped to a volume the driver was only returning\nthe first server for a given portal.\n\nChange-Id: If65780000fa8f59f663b00b88584cf289effa590\n'}, {'number': 4, 'created': '2018-03-19 16:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a07ccfa809a3848f4a93eba80e1e13a7a7aa56f4', 'message': 'Dell EMC SC: ISCSI initialize_connection fixes.\n\nDriver was not honoring the server in ISCSI and returning connection\ninformation for all servers (IQNs) connected to a volume.\n\nIf multiple servers are mapped to a volume the driver was only returning\nthe first server for a given portal.\n\nCloses-Bug: #1756914\nChange-Id: If65780000fa8f59f663b00b88584cf289effa590\n'}, {'number': 5, 'created': '2018-03-19 20:26:16.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py', 'releasenotes/notes/dell-emc-sc-bugfix-1756914-ffca3133273040f6.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8980ea128dd6698a1cb3a283d98b47371b854f6', 'message': 'Dell EMC SC: ISCSI initialize_connection fixes.\n\nDriver was not honoring the server in ISCSI and returning connection\ninformation for all servers (IQNs) connected to a volume.\n\nIf multiple servers are mapped to a volume the driver was only returning\nthe first server for a given portal.\n\nCloses-Bug: #1756914\nChange-Id: If65780000fa8f59f663b00b88584cf289effa590\n'}]",7,552933,f8980ea128dd6698a1cb3a283d98b47371b854f6,147,45,5,12112,,,0,"Dell EMC SC: ISCSI initialize_connection fixes.

Driver was not honoring the server in ISCSI and returning connection
information for all servers (IQNs) connected to a volume.

If multiple servers are mapped to a volume the driver was only returning
the first server for a given portal.

Closes-Bug: #1756914
Change-Id: If65780000fa8f59f663b00b88584cf289effa590
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/552933/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py']",2,a8e32dc567c548f215cdd26faa6e5d278859912e,bug/1756914," iscsiprops = api.find_iscsi_properties(scvolume, scserver) return api.find_iscsi_properties(secondaryvol, secondary)", iscsiprops = api.find_iscsi_properties(scvolume) return api.find_iscsi_properties(secondaryvol),21,8
openstack%2Fsenlin-dashboard~master~I2413efce292075e2833adcba9f450e67c131b69d,openstack/senlin-dashboard,master,I2413efce292075e2833adcba9f450e67c131b69d,Imported Translations from Zanata,MERGED,2018-03-21 06:51:27.000000000,2018-03-22 02:14:54.000000000,2018-03-22 02:14:54.000000000,"[{'_account_id': 8246}, {'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 06:51:27.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/3f86df5ebe91435d7760d198069cff582ebd3211', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2413efce292075e2833adcba9f450e67c131b69d\n'}]",0,554812,3f86df5ebe91435d7760d198069cff582ebd3211,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2413efce292075e2833adcba9f450e67c131b69d
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/12/554812/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,3f86df5ebe91435d7760d198069cff582ebd3211,zanata/translations,"""POT-Creation-Date: 2018-03-20 09:34+0000\n""""PO-Revision-Date: 2018-03-20 05:23+0000\n""msgid ""0.8.0-27"" msgstr ""0.8.0-27""","""POT-Creation-Date: 2018-03-19 00:37+0000\n""""PO-Revision-Date: 2018-03-19 09:39+0000\n""msgid ""0.8.0-26"" msgstr ""0.8.0-26""",4,4
openstack%2Fpython-manilaclient~master~I891972c313b5cf843cd7bcc02a657d5e5fb3b62b,openstack/python-manilaclient,master,I891972c313b5cf843cd7bcc02a657d5e5fb3b62b,DO NOT MERGE,ABANDONED,2018-03-21 18:08:40.000000000,2018-03-22 02:12:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-21 18:08:40.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d80de2778f830ac6506b0a5a20f87cb2232912fd', 'message': 'DO NOT MERGE\n\nChange-Id: I891972c313b5cf843cd7bcc02a657d5e5fb3b62b\n'}]",0,555010,d80de2778f830ac6506b0a5a20f87cb2232912fd,3,1,1,9003,,,0,"DO NOT MERGE

Change-Id: I891972c313b5cf843cd7bcc02a657d5e5fb3b62b
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/10/555010/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,d80de2778f830ac6506b0a5a20f87cb2232912fd,stable/queens,,,0,0
openstack%2Fpython-troveclient~master~I55b9d91ca34f964235a93c48f45c2a4ff8b8e241,openstack/python-troveclient,master,I55b9d91ca34f964235a93c48f45c2a4ff8b8e241,pypy is not checked at gate,NEW,2018-03-21 15:53:57.000000000,2018-03-22 02:03:50.000000000,,"[{'_account_id': 13157}, {'_account_id': 22348}, {'_account_id': 25983}]","[{'number': 1, 'created': '2018-03-21 15:53:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/cede32a6b93ca35d0e1f626cf80cea6a76ac5bc0', 'message': 'pypy is not checked at gate\n\nChange-Id: I55b9d91ca34f964235a93c48f45c2a4ff8b8e241\n'}]",1,554964,cede32a6b93ca35d0e1f626cf80cea6a76ac5bc0,4,3,1,25983,,,0,"pypy is not checked at gate

Change-Id: I55b9d91ca34f964235a93c48f45c2a4ff8b8e241
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/64/554964/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cede32a6b93ca35d0e1f626cf80cea6a76ac5bc0,,"envlist = py34,py27,pep8","envlist = py34,py27,pypy,pep8",1,1
openstack%2Fsolum-dashboard~master~If0f254cced57980b42879ec342484be00bc13edb,openstack/solum-dashboard,master,If0f254cced57980b42879ec342484be00bc13edb,pypy is not checked at gate,MERGED,2018-03-21 15:52:02.000000000,2018-03-22 01:57:59.000000000,2018-03-22 01:57:59.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 25983}]","[{'number': 1, 'created': '2018-03-21 15:52:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/solum-dashboard/commit/d58b5a2bfab23d8082a6e6d8ae0134747a5798aa', 'message': 'pypy is not checked at gate\n\nChange-Id: If0f254cced57980b42879ec342484be00bc13edb\n'}]",0,554962,d58b5a2bfab23d8082a6e6d8ae0134747a5798aa,7,3,1,25983,,,0,"pypy is not checked at gate

Change-Id: If0f254cced57980b42879ec342484be00bc13edb
",git fetch https://review.opendev.org/openstack/solum-dashboard refs/changes/62/554962/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d58b5a2bfab23d8082a6e6d8ae0134747a5798aa,,"envlist = py35,py27,pep8","envlist = py35,py27,pypy,pep8",1,1
openstack%2Fopenstack-helm~master~Ibf70dbab78f03d32e1ec96e99ac8db59d23cb96e,openstack/openstack-helm,master,Ibf70dbab78f03d32e1ec96e99ac8db59d23cb96e,"Revert ""Changed MariaDB version to 10.2.13""",MERGED,2018-03-21 18:23:16.000000000,2018-03-22 01:57:13.000000000,2018-03-22 01:57:12.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-03-21 18:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/72c70e117a4fbfb6d6eb742ef3544e3e445b2367', 'message': 'Revert ""Changed MariaDB version to 10.2.13""\n\nThis reverts commit 81bf5f3656f12b6f8279329edcf91ef63e7a6b5f back to\nMariaDB 10.1.23 which we now works with clustering enabled\n(pod.replicas.server > 1).\n\nChange-Id: Ibf70dbab78f03d32e1ec96e99ac8db59d23cb96e\n'}, {'number': 2, 'created': '2018-03-21 21:12:03.000000000', 'files': ['mariadb/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2a94026c6f90450aa498fd009039898e62032005', 'message': 'Revert ""Changed MariaDB version to 10.2.13""\n\nThis reverts commit 81bf5f3656f12b6f8279329edcf91ef63e7a6b5f back to\nMariaDB 10.1.23 which we know works with clustering enabled\n(pod.replicas.server > 1).\n\nChange-Id: Ibf70dbab78f03d32e1ec96e99ac8db59d23cb96e\n'}]",0,555012,2a94026c6f90450aa498fd009039898e62032005,12,3,2,8898,,,0,"Revert ""Changed MariaDB version to 10.2.13""

This reverts commit 81bf5f3656f12b6f8279329edcf91ef63e7a6b5f back to
MariaDB 10.1.23 which we know works with clustering enabled
(pod.replicas.server > 1).

Change-Id: Ibf70dbab78f03d32e1ec96e99ac8db59d23cb96e
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/12/555012/1 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/values.yaml'],1,72c70e117a4fbfb6d6eb742ef3544e3e445b2367,mariadb-fix-clustering-revert, mariadb: docker.io/mariadb:10.1.23 prometheus_create_mysql_user: docker.io/mariadb:10.1.23, mariadb: docker.io/mariadb:10.2.13 prometheus_create_mysql_user: docker.io/mariadb:10.2.13,2,2
openstack%2Fwatcher-dashboard~master~I513e201b6f67dec3ffe64259531a5cae199242c8,openstack/watcher-dashboard,master,I513e201b6f67dec3ffe64259531a5cae199242c8,Delete the unnecessary '-',MERGED,2018-03-21 16:05:48.000000000,2018-03-22 01:43:09.000000000,2018-03-22 01:43:09.000000000,"[{'_account_id': 19055}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 16:05:48.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/1b5421330141df709549b83feb0d3c5c80d7c1c5', 'message': ""Delete the unnecessary '-'\n\nFix a typo\n\nChange-Id: I513e201b6f67dec3ffe64259531a5cae199242c8\n""}]",0,554973,1b5421330141df709549b83feb0d3c5c80d7c1c5,7,3,1,17130,,,0,"Delete the unnecessary '-'

Fix a typo

Change-Id: I513e201b6f67dec3ffe64259531a5cae199242c8
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/73/554973/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,1b5421330141df709549b83feb0d3c5c80d7c1c5,,"migration, increased energy efficiency and more!","migration, increased energy efficiencyâ€”and more!",1,1
openstack%2Fcinder~master~Ia66d3522bbe107fb7ab077ab948393c2b7f34737,openstack/cinder,master,Ia66d3522bbe107fb7ab077ab948393c2b7f34737,DS8K: correct in-use replication vol status,MERGED,2018-02-01 14:04:37.000000000,2018-03-22 01:23:50.000000000,2018-03-21 06:39:03.000000000,"[{'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26297}, {'_account_id': 26422}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-01 14:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d823a77ff8ee959de727e107da0da67563bd2d05', 'message': 'DS8K: correct in-use replication vol status\n\nCorrect in-use replication volume status after failover/failback.\nCurrently the status of in-use replication volume is changed to\navailable after failover in ds8k cinder driver to make the replication\nvolume can be attached again after failover. So does failback operation.\nHowever, nova is using the new cinder attach api right now. The in-use\nvolume can not be attached to the same instance again even the volume\nstatus is changed to available and attach_status is changed to detached\nin cinder driver by force. This is due to nova stores the combined\nrelationship of volume_id and instance.uuid in nova db as\nBlockDeviceMapping. This is to avoid attaching the same volume to the\nsame instance twice. So the attaching request can not be sent to cinder\nif there is attached record in BlockDeviceMapping between the volume and\ninstance. So this patch keeps replication volume status during failover\nand faiback.\n\nChange-Id: Ia66d3522bbe107fb7ab077ab948393c2b7f34737\nCloses-Bug: 1746732\n'}, {'number': 2, 'created': '2018-03-16 05:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dfd48a5384672b1d944370ad75e9ef690953cd22', 'message': 'DS8K: correct in-use replication vol status\n\nCorrect in-use replication volume status after failover/failback.\nCurrently the status of in-use replication volume is changed to\navailable after failover in ds8k cinder driver to make sure the\nreplication volume can be attached again after failover. So does\nfailback operation. However, nova is using the new cinder attach\napi right now. The in-use volume can not be attached to the same\ninstance again even the volume status is changed to available and\nattach_status is changed to detached in cinder driver by force.\nThis is due to nova stores the combined relationship of volume_id\nand instance.uuid in nova db as BlockDeviceMapping. This is to avoid\nattaching the same volume to the same instance twice. So the\nattaching request can not be sent to cinder if there is attached\nrecord in BlockDeviceMapping between the volume and instance. So this\npatch keeps replication volume status during failover and faiback.\n\nChange-Id: Ia66d3522bbe107fb7ab077ab948393c2b7f34737\nCloses-Bug: 1746732\n'}, {'number': 3, 'created': '2018-03-20 03:04:10.000000000', 'files': ['cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d86ac14887689f9188aa2ab6f6b8d0a9dc385e77', 'message': 'DS8K: correct in-use replication vol status\n\nCorrect in-use replication volume status after failover/failback.\nCurrently the status of in-use replication volume is changed to\navailable after failover in ds8k cinder driver to make sure the\nreplication volume can be attached again after failover. So does\nfailback operation. However, nova is using the new cinder attach\napi right now. The in-use volume can not be attached to the same\ninstance again even the volume status is changed to available and\nattach_status is changed to detached in cinder driver by force.\nThis is due to nova stores the combined relationship of volume_id\nand instance.uuid in nova db as BlockDeviceMapping. This is to avoid\nattaching the same volume to the same instance twice. So the\nattaching request can not be sent to cinder if there is attached\nrecord in BlockDeviceMapping between the volume and instance. So this\npatch keeps replication volume status during failover and faiback.\n\nChange-Id: Ia66d3522bbe107fb7ab077ab948393c2b7f34737\nCloses-Bug: 1746732\n'}]",8,539960,d86ac14887689f9188aa2ab6f6b8d0a9dc385e77,171,47,3,26422,,,0,"DS8K: correct in-use replication vol status

Correct in-use replication volume status after failover/failback.
Currently the status of in-use replication volume is changed to
available after failover in ds8k cinder driver to make sure the
replication volume can be attached again after failover. So does
failback operation. However, nova is using the new cinder attach
api right now. The in-use volume can not be attached to the same
instance again even the volume status is changed to available and
attach_status is changed to detached in cinder driver by force.
This is due to nova stores the combined relationship of volume_id
and instance.uuid in nova db as BlockDeviceMapping. This is to avoid
attaching the same volume to the same instance twice. So the
attaching request can not be sent to cinder if there is attached
record in BlockDeviceMapping between the volume and instance. So this
patch keeps replication volume status during failover and faiback.

Change-Id: Ia66d3522bbe107fb7ab077ab948393c2b7f34737
Closes-Bug: 1746732
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/539960/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py']",3,d823a77ff8ee959de727e107da0da67563bd2d05,bug/1746732," TEST_TARGET_DS8K_IP + '/ioports/get': FAKE_GET_IOPORT_RESPONSE, TEST_TARGET_DS8K_IP + '/hosts%5Bid=' + TEST_HOST_ID + '%5D/mappings/' + TEST_LUN_ID + '/delete': FAKE_DELETE_MAPPINGS_RESPONSE, TEST_TARGET_DS8K_IP + '/host_ports/' + TEST_SOURCE_WWPN_2 + '/delete': FAKE_DELETE_HOST_PORTS_RESPONSE, TEST_SOURCE_DS8K_IP + '/hosts%5Bid=' + TEST_HOST_ID + '%5D/delete': FAKE_DELETE_HOSTS_RESPONSE, TEST_TARGET_DS8K_IP + '/hosts%5Bid=' + TEST_HOST_ID + '%5D/delete': def test_terminate_connection_of_eckd_volume(self): """"""attach a ECKD volume to host."""""" self.configuration.connection_type = ( storage.XIV_CONNECTION_TYPE_FC_ECKD) self.configuration.ds8k_devadd_unitadd_mapping = 'C4-10' self.configuration.ds8k_ssid_prefix = 'FF' self.configuration.san_clustername = TEST_ECKD_POOL_ID self.driver = FakeDS8KProxy(self.storage_info, self.logger, self.exception, self) self.driver.setup(self.ctxt) vol_type = volume_types.create(self.ctxt, 'VOL_TYPE', {}) location = six.text_type({'vol_hex_id': TEST_ECKD_VOLUME_ID}) volume = self._create_volume(volume_type_id=vol_type.id, provider_location=location) unmap_data = self.driver.terminate_connection(volume, {}) self.assertIsNone(unmap_data) self.assertRaises(exception.VolumeDriverException, self.driver.terminate_connection, volume, TEST_CONNECTOR) @mock.patch.object(helper.DS8KCommonHelper, '_get_host_ports') @mock.patch.object(helper.DS8KCommonHelper, '_get_mappings') def test_detach_with_host_has_failed_over(self, mock_get_mappings, mock_get_host_ports): self.configuration.replication_device = [TEST_REPLICATION_DEVICE] self.driver = FakeDS8KProxy(self.storage_info, self.logger, self.exception, self, TEST_TARGET_DS8K_IP) self.driver.setup(self.ctxt) vol_type = volume_types.create(self.ctxt, 'VOL_TYPE', {'replication_enabled': '<is> True'}) location = six.text_type({'vol_hex_id': TEST_VOLUME_ID}) data = json.dumps( {'default': {'vol_hex_id': TEST_VOLUME_ID}}) volume = self._create_volume(volume_type_id=vol_type.id, provider_location=location, replication_driver_data=data) host_ports_1 = [ { ""wwpn"": TEST_SOURCE_WWPN_1, ""state"": ""logged in"", ""hosttype"": ""LinuxRHEL"", ""addrdiscovery"": ""lunpolling"", ""host_id"": TEST_HOST_ID }, { ""wwpn"": TEST_SOURCE_WWPN_2, ""state"": ""unconfigured"", ""hosttype"": ""LinuxRHEL"", ""addrdiscovery"": ""lunpolling"", ""host_id"": '' } ] host_ports_2 = [ { ""wwpn"": TEST_SOURCE_WWPN_1, ""state"": ""logged in"", ""hosttype"": ""LinuxRHEL"", ""addrdiscovery"": ""lunpolling"", ""host_id"": TEST_HOST_ID }, { ""wwpn"": TEST_SOURCE_WWPN_2, ""state"": ""unconfigured"", ""hosttype"": ""LinuxRHEL"", ""addrdiscovery"": ""lunpolling"", ""host_id"": '' } ] mappings_1 = [ { ""lunid"": TEST_LUN_ID, ""link"": {}, ""volume"": {""id"": TEST_VOLUME_ID_2, ""link"": {}} } ] mappings_2 = [ { ""lunid"": TEST_LUN_ID, ""link"": {}, ""volume"": {""id"": TEST_VOLUME_ID, ""link"": {}} } ] mock_get_host_ports.side_effect = [host_ports_1, host_ports_2] mock_get_mappings.side_effect = [mappings_1, mappings_2] self.driver.terminate_connection(volume, TEST_CONNECTOR) @mock.patch.object(helper.DS8KCommonHelper, '_get_host_ports') @mock.patch.object(helper.DS8KCommonHelper, '_get_mappings') def test_detach_with_group_has_failed_over(self, mock_get_mappings, mock_get_host_ports): self.configuration.replication_device = [TEST_REPLICATION_DEVICE] self.driver = FakeDS8KProxy(self.storage_info, self.logger, self.exception, self) self.driver.setup(self.ctxt) group_type = group_types.create( self.ctxt, 'group', {'consistent_group_snapshot_enabled': '<is> True'} ) group = self._create_group(host=TEST_GROUP_HOST, group_type_id=group_type.id, replication_status='failed-over') vol_type = volume_types.create(self.ctxt, 'VOL_TYPE', {'replication_enabled': '<is> True'}) location = six.text_type({'vol_hex_id': TEST_VOLUME_ID}) data = json.dumps( {'default': {'vol_hex_id': TEST_VOLUME_ID}}) volume = self._create_volume(volume_type_id=vol_type.id, provider_location=location, replication_driver_data=data, group_id=group.id, replication_status='failed-over') host_ports = [ { ""wwpn"": TEST_SOURCE_WWPN_1, ""state"": ""logged in"", ""hosttype"": ""LinuxRHEL"", ""addrdiscovery"": ""lunpolling"", ""host_id"": TEST_HOST_ID }, { ""wwpn"": TEST_SOURCE_WWPN_2, ""state"": ""unconfigured"", ""hosttype"": ""LinuxRHEL"", ""addrdiscovery"": ""lunpolling"", ""host_id"": '' } ] mappings = [ { ""lunid"": TEST_LUN_ID, ""link"": {}, ""volume"": {""id"": TEST_VOLUME_ID, ""link"": {}} } ] mock_get_host_ports.side_effect = [host_ports] mock_get_mappings.side_effect = [mappings] self.driver.terminate_connection(volume, TEST_CONNECTOR) "," TEST_SOURCE_DS8K_IP + '/hosts%5Bid=' + TEST_HOST_ID + '%5D/delete': unmap_data = self.driver.terminate_connection(volume, TEST_CONNECTOR) self.assertIsNone(unmap_data)",259,51
openstack%2Fswift~feature%2Fdeep~I0643ae314986b9be6aa36b3ace2eca81f6fcb7c5,openstack/swift,feature/deep,I0643ae314986b9be6aa36b3ace2eca81f6fcb7c5,Fix some stats reports and improve tests,MERGED,2018-03-21 14:07:00.000000000,2018-03-22 01:08:07.000000000,2018-03-22 01:08:07.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 14:07:00.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/03a2e9ce896ed49b16ffc45b003fc5dcc602102b', 'message': 'Fix some stats reports and improve tests\n\nfollow up for [1]\n\n[1] Related-Change: I15b58529f641fac009dff167ff7fa6f37abda2d6\n\nChange-Id: I0643ae314986b9be6aa36b3ace2eca81f6fcb7c5\n'}]",2,554928,03a2e9ce896ed49b16ffc45b003fc5dcc602102b,6,2,1,7847,,,0,"Fix some stats reports and improve tests

follow up for [1]

[1] Related-Change: I15b58529f641fac009dff167ff7fa6f37abda2d6

Change-Id: I0643ae314986b9be6aa36b3ace2eca81f6fcb7c5
",git fetch https://review.opendev.org/openstack/swift refs/changes/28/554928/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,03a2e9ce896ed49b16ffc45b003fc5dcc602102b,," category_keys = ( ('visited', default_stats + ('skipped',)), ('scanned', default_stats + ('found', 'min_time', 'max_time')), ('created', default_stats), ('cleaved', default_stats + ('min_time', 'max_time',)), ('misplaced', default_stats + ('found',)), ('audit', default_stats), ) for category, keys in category_keys: msg = ' '.join(['%s:%s' % (k, str(stats[k])) for k in keys]) self.logger.info('Since %s %s - %s', last_report, category, msg) self._increment_stat('misplaced', 'success') self._increment_stat('misplaced', 'found') self._increment_stat('misplaced', 'success') self._increment_stat('audit', 'attempted') self._increment_stat('audit', 'success') self._increment_stat('audit', 'success') self._increment_stat('audit', 'success')"," category_stats = { 'visited': default_stats + ('skipped',), 'scanned': default_stats + ('found', 'min_time', 'max_time'), 'created': default_stats, 'cleaved': default_stats + ('min_time', 'max_time',), 'misplaced': default_stats} for category in ( 'visited', 'scanned', 'created', 'cleaved', 'misplaced'): msg = ', '.join(['%s %s' % (str(stats[k]), k) for k in category_stats[category]]) self.logger.info( 'Since %s: %s: %s', last_report, category, msg) self._increment_stat('misplaced', 'success')",92,48
openstack%2Fswift~feature%2Fdeep~Id75b5ccd91f9a19b26900f5a9cef2d0992da1bce,openstack/swift,feature/deep,Id75b5ccd91f9a19b26900f5a9cef2d0992da1bce,Defend against sharding an expanding root container,MERGED,2018-03-20 23:40:22.000000000,2018-03-22 01:08:01.000000000,2018-03-22 01:08:01.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 23:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a5ed1145fb0f53f4e35e5a581b20f28ae384e19a', 'message': 'Defend against sharding an expanding root container\n\nChange-Id: Id75b5ccd91f9a19b26900f5a9cef2d0992da1bce\n'}, {'number': 2, 'created': '2018-03-21 16:13:47.000000000', 'files': ['swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/723c81632a4094b3a755ba571891297b7a8c6b36', 'message': 'Defend against sharding an expanding root container\n\nChange-Id: Id75b5ccd91f9a19b26900f5a9cef2d0992da1bce\n'}]",1,554733,723c81632a4094b3a755ba571891297b7a8c6b36,10,2,2,15343,,,0,"Defend against sharding an expanding root container

Change-Id: Id75b5ccd91f9a19b26900f5a9cef2d0992da1bce
",git fetch https://review.opendev.org/openstack/swift refs/changes/33/554733/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/sharder.py'],1,a5ed1145fb0f53f4e35e5a581b20f28ae384e19a,p-sharding-dev, if shard_range.state != ShardRange.ACTIVE: continue if shard_range.object_count < self.shard_container_size: continue shard_range.update_state(ShardRange.SHARDING) candidates.append(shard_range), if shard_range.object_count >= self.shard_container_size: shard_range.update_state(ShardRange.SHARDING) candidates.append(shard_range),6,3
openstack%2Fswift~feature%2Fdeep~Ic4925a04be0b7c498e80beeb5c8d77d77df2826a,openstack/swift,feature/deep,Ic4925a04be0b7c498e80beeb5c8d77d77df2826a,Make default own_shard_range have state ACTIVE,MERGED,2018-03-21 16:13:47.000000000,2018-03-22 01:07:53.000000000,2018-03-22 01:07:53.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 16:13:47.000000000', 'files': ['test/unit/container/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f009b9df337cb618405062f7ce6e6599d60634fc', 'message': 'Make default own_shard_range have state ACTIVE\n\nOnly an unsharded root container will have no own_shard_range in\nits shard ranges table. When creating a default own_shard_range it\nis useful for it to be in state ACTIVE.\n\nChange-Id: Ic4925a04be0b7c498e80beeb5c8d77d77df2826a\n'}]",0,554978,f009b9df337cb618405062f7ce6e6599d60634fc,6,2,1,7847,,,0,"Make default own_shard_range have state ACTIVE

Only an unsharded root container will have no own_shard_range in
its shard ranges table. When creating a default own_shard_range it
is useful for it to be in state ACTIVE.

Change-Id: Ic4925a04be0b7c498e80beeb5c8d77d77df2826a
",git fetch https://review.opendev.org/openstack/swift refs/changes/78/554978/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_backend.py', 'swift/container/backend.py']",2,f009b9df337cb618405062f7ce6e6599d60634fc,p-sharding-dev," self.path, now, ShardRange.MIN, ShardRange.MAX, state=ShardRange.ACTIVE)"," self.path, now, ShardRange.MIN, ShardRange.MAX)",5,3
openstack%2Ftaskflow~master~Ifc672b1db4e04e8c0dbfda813f1cec3f325911e9,openstack/taskflow,master,Ifc672b1db4e04e8c0dbfda813f1cec3f325911e9,Use newly minted notifier library and deprecate existing and alias to new,ABANDONED,2015-12-10 23:05:50.000000000,2018-03-22 01:07:29.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-12-10 23:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/819f30bccdd4a508b3d836ffc51bfd8ed61a570f', 'message': 'Use newly minted notifier library and deprecate existing and alias to new\n\nChange-Id: Ifc672b1db4e04e8c0dbfda813f1cec3f325911e9\n'}, {'number': 2, 'created': '2015-12-10 23:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/fa7de59ff89cb45150058be7c2ad4e0c4a8b3116', 'message': 'Use newly minted notifier library and deprecate existing and alias to new\n\nChange-Id: Ifc672b1db4e04e8c0dbfda813f1cec3f325911e9\n'}, {'number': 3, 'created': '2015-12-11 01:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f47dbf5bc4b8f738152fbd1e20c7ac19145f765c', 'message': 'Use newly minted notifier library and deprecate existing and alias to new\n\nChange-Id: Ifc672b1db4e04e8c0dbfda813f1cec3f325911e9\n'}, {'number': 4, 'created': '2015-12-11 23:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/20b8ec758c0a4a63382b13062ed39b019ca2405f', 'message': 'Use newly minted notifier library and deprecate existing and alias to new\n\nChange-Id: Ifc672b1db4e04e8c0dbfda813f1cec3f325911e9\n'}, {'number': 5, 'created': '2015-12-12 02:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/38569078a18cad0f40a4928aeff682d4f307b770', 'message': 'Use newly minted notifier library and deprecate existing and alias to new\n\nDepends-On: Id9be7b270ac73ae05700197adff93f6a865e3c2d\n\nChange-Id: Ifc672b1db4e04e8c0dbfda813f1cec3f325911e9\n'}, {'number': 6, 'created': '2016-01-05 23:15:08.000000000', 'files': ['requirements.txt', 'doc/source/notifications.rst', 'taskflow/types/notifier.py', 'taskflow/tests/unit/test_notifier.py', 'taskflow/tests/unit/test_task.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b4f3ee809e23828631c48245a2bf65d92c089455', 'message': 'Use newly minted notifier library and deprecate existing and alias to new\n\nChange-Id: Ifc672b1db4e04e8c0dbfda813f1cec3f325911e9\n'}]",0,256130,b4f3ee809e23828631c48245a2bf65d92c089455,22,2,6,1297,,,0,"Use newly minted notifier library and deprecate existing and alias to new

Change-Id: Ifc672b1db4e04e8c0dbfda813f1cec3f325911e9
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/30/256130/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'taskflow/types/notifier.py', 'taskflow/tests/unit/test_notifier.py']",3,819f30bccdd4a508b3d836ffc51bfd8ed61a570f,256130,,"# -*- coding: utf-8 -*- # Copyright (C) 2013 Yahoo! Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections import functools from taskflow import states from taskflow import test from taskflow.types import notifier as nt class NotifierTest(test.TestCase): def test_notify_called(self): call_collector = [] def call_me(state, details): call_collector.append((state, details)) notifier = nt.Notifier() notifier.register(nt.Notifier.ANY, call_me) notifier.notify(states.SUCCESS, {}) notifier.notify(states.SUCCESS, {}) self.assertEqual(2, len(call_collector)) self.assertEqual(1, len(notifier)) def test_notify_not_called(self): call_collector = [] def call_me(state, details): call_collector.append((state, details)) notifier = nt.Notifier() notifier.register(nt.Notifier.ANY, call_me) notifier.notify(nt.Notifier.ANY, {}) self.assertFalse(notifier.can_trigger_notification(nt.Notifier.ANY)) self.assertEqual(0, len(call_collector)) self.assertEqual(1, len(notifier)) def test_notify_register_deregister(self): def call_me(state, details): pass class A(object): def call_me_too(self, state, details): pass notifier = nt.Notifier() notifier.register(nt.Notifier.ANY, call_me) a = A() notifier.register(nt.Notifier.ANY, a.call_me_too) self.assertEqual(2, len(notifier)) notifier.deregister(nt.Notifier.ANY, call_me) notifier.deregister(nt.Notifier.ANY, a.call_me_too) self.assertEqual(0, len(notifier)) def test_notify_reset(self): def call_me(state, details): pass notifier = nt.Notifier() notifier.register(nt.Notifier.ANY, call_me) self.assertEqual(1, len(notifier)) notifier.reset() self.assertEqual(0, len(notifier)) def test_bad_notify(self): def call_me(state, details): pass notifier = nt.Notifier() self.assertRaises(KeyError, notifier.register, nt.Notifier.ANY, call_me, kwargs={'details': 5}) def test_not_callable(self): notifier = nt.Notifier() self.assertRaises(ValueError, notifier.register, nt.Notifier.ANY, 2) def test_restricted_notifier(self): notifier = nt.RestrictedNotifier(['a', 'b']) self.assertRaises(ValueError, notifier.register, 'c', lambda *args, **kargs: None) notifier.register('b', lambda *args, **kargs: None) self.assertEqual(1, len(notifier)) def test_restricted_notifier_any(self): notifier = nt.RestrictedNotifier(['a', 'b']) self.assertRaises(ValueError, notifier.register, 'c', lambda *args, **kargs: None) notifier.register('b', lambda *args, **kargs: None) self.assertEqual(1, len(notifier)) notifier.register(nt.RestrictedNotifier.ANY, lambda *args, **kargs: None) self.assertEqual(2, len(notifier)) def test_restricted_notifier_no_any(self): notifier = nt.RestrictedNotifier(['a', 'b'], allow_any=False) self.assertRaises(ValueError, notifier.register, nt.RestrictedNotifier.ANY, lambda *args, **kargs: None) notifier.register('b', lambda *args, **kargs: None) self.assertEqual(1, len(notifier)) def test_selective_notify(self): call_counts = collections.defaultdict(list) def call_me_on(registered_state, state, details): call_counts[registered_state].append((state, details)) notifier = nt.Notifier() call_me_on_success = functools.partial(call_me_on, states.SUCCESS) notifier.register(states.SUCCESS, call_me_on_success) self.assertTrue(notifier.is_registered(states.SUCCESS, call_me_on_success)) call_me_on_any = functools.partial(call_me_on, nt.Notifier.ANY) notifier.register(nt.Notifier.ANY, call_me_on_any) self.assertTrue(notifier.is_registered(nt.Notifier.ANY, call_me_on_any)) self.assertEqual(2, len(notifier)) notifier.notify(states.SUCCESS, {}) self.assertEqual(1, len(call_counts[nt.Notifier.ANY])) self.assertEqual(1, len(call_counts[states.SUCCESS])) notifier.notify(states.FAILURE, {}) self.assertEqual(2, len(call_counts[nt.Notifier.ANY])) self.assertEqual(1, len(call_counts[states.SUCCESS])) self.assertEqual(2, len(call_counts)) def test_details_filter(self): call_counts = collections.defaultdict(list) def call_me_on(registered_state, state, details): call_counts[registered_state].append((state, details)) def when_red(details): return details.get('color') == 'red' notifier = nt.Notifier() call_me_on_success = functools.partial(call_me_on, states.SUCCESS) notifier.register(states.SUCCESS, call_me_on_success, details_filter=when_red) self.assertEqual(1, len(notifier)) self.assertTrue(notifier.is_registered( states.SUCCESS, call_me_on_success, details_filter=when_red)) notifier.notify(states.SUCCESS, {}) self.assertEqual(0, len(call_counts[states.SUCCESS])) notifier.notify(states.SUCCESS, {'color': 'red'}) self.assertEqual(1, len(call_counts[states.SUCCESS])) notifier.notify(states.SUCCESS, {'color': 'green'}) self.assertEqual(1, len(call_counts[states.SUCCESS])) def test_different_details_filter(self): call_counts = collections.defaultdict(list) def call_me_on(registered_state, state, details): call_counts[registered_state].append((state, details)) def when_red(details): return details.get('color') == 'red' def when_blue(details): return details.get('color') == 'blue' notifier = nt.Notifier() call_me_on_success = functools.partial(call_me_on, states.SUCCESS) notifier.register(states.SUCCESS, call_me_on_success, details_filter=when_red) notifier.register(states.SUCCESS, call_me_on_success, details_filter=when_blue) self.assertEqual(2, len(notifier)) self.assertTrue(notifier.is_registered( states.SUCCESS, call_me_on_success, details_filter=when_blue)) self.assertTrue(notifier.is_registered( states.SUCCESS, call_me_on_success, details_filter=when_red)) notifier.notify(states.SUCCESS, {}) self.assertEqual(0, len(call_counts[states.SUCCESS])) notifier.notify(states.SUCCESS, {'color': 'red'}) self.assertEqual(1, len(call_counts[states.SUCCESS])) notifier.notify(states.SUCCESS, {'color': 'blue'}) self.assertEqual(2, len(call_counts[states.SUCCESS])) notifier.notify(states.SUCCESS, {'color': 'green'}) self.assertEqual(2, len(call_counts[states.SUCCESS])) ",18,558
openstack%2Fcinder~master~Iaaf0d321b0321ac50102c8d96d7899af173a8cb8,openstack/cinder,master,Iaaf0d321b0321ac50102c8d96d7899af173a8cb8,Updated from global requirements,MERGED,2018-03-16 07:19:57.000000000,2018-03-22 01:07:10.000000000,2018-03-22 01:07:10.000000000,"[{'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-03-16 07:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/119985247e77f3f9ede32974f36b32c6d02e3e72', 'message': 'Updated from global requirements\n\nChange-Id: Iaaf0d321b0321ac50102c8d96d7899af173a8cb8\n'}, {'number': 2, 'created': '2018-03-17 08:24:59.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c45073b87c1faaa049f1f014c42b0a10df2f220', 'message': 'Updated from global requirements\n\nChange-Id: Iaaf0d321b0321ac50102c8d96d7899af173a8cb8\n'}]",0,553704,7c45073b87c1faaa049f1f014c42b0a10df2f220,111,35,2,11131,,,0,"Updated from global requirements

Change-Id: Iaaf0d321b0321ac50102c8d96d7899af173a8cb8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/553704/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,119985247e77f3f9ede32974f36b32c6d02e3e72,openstack/requirements,python-barbicanclient>=4.5.2 # Apache-2.0,"python-barbicanclient!=4.5.0,!=4.5.1,>=4.0.0 # Apache-2.0",1,1
openstack%2Ftaskflow~master~I9351f1dccfb7b2e064c475ee1f10c6f9b12d7705,openstack/taskflow,master,I9351f1dccfb7b2e064c475ee1f10c6f9b12d7705,Add a delayed exception to allow tasks to delay themselves (WIP),ABANDONED,2015-12-02 06:53:53.000000000,2018-03-22 01:05:49.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}, {'_account_id': 9648}]","[{'number': 1, 'created': '2015-12-02 06:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/114d5849bd7e829f91e0403b520661022a510907', 'message': 'Add a delayed exception to allow tasks to delay themselves (WIP)\n\nChange-Id: I9351f1dccfb7b2e064c475ee1f10c6f9b12d7705\n'}, {'number': 2, 'created': '2015-12-02 06:58:48.000000000', 'files': ['taskflow/engines/action_engine/engine.py', 'taskflow/engines/action_engine/builder.py', 'taskflow/engines/action_engine/actions/task.py', 'taskflow/exceptions.py', 'taskflow/states.py', 'taskflow/engines/action_engine/completer.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/89ac58766f6d6167b736305046873b0c61f5794a', 'message': 'Add a delayed exception to allow tasks to delay themselves (WIP)\n\nChange-Id: I9351f1dccfb7b2e064c475ee1f10c6f9b12d7705\n'}]",0,252215,89ac58766f6d6167b736305046873b0c61f5794a,11,3,2,1297,,,0,"Add a delayed exception to allow tasks to delay themselves (WIP)

Change-Id: I9351f1dccfb7b2e064c475ee1f10c6f9b12d7705
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/15/252215/2 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/action_engine/engine.py', 'taskflow/engines/action_engine/builder.py', 'taskflow/engines/action_engine/actions/task.py', 'taskflow/exceptions.py', 'taskflow/states.py', 'taskflow/engines/action_engine/completer.py']",6,114d5849bd7e829f91e0403b520661022a510907,,"from taskflow import exceptions as excp def complete(self, atom, outcome, result): if isinstance(atom, task_atom.BaseTask): self._complete_task(atom, outcome, result) else: self._complete_retry(atom, outcome, result) retain_failure = False if isinstance(result, failure.Failure): if not result.check(excp.Delayed): if outcome == ex.EXECUTED: self._process_atom_failure(atom, result) else: retain_failure = True return retain_failure"," def complete(self, node, outcome, result): if isinstance(node, task_atom.BaseTask): self._complete_task(node, outcome, result) else: self._complete_retry(node, outcome, result) if isinstance(result, failure.Failure): if outcome == ex.EXECUTED: self._process_atom_failure(node, result) else: # Reverting failed, always retain the failure... return True return False",86,23
openstack%2Ftaskflow~master~I542aacd06afb63a6b100a1f6c23af5de7c4d8262,openstack/taskflow,master,I542aacd06afb63a6b100a1f6c23af5de7c4d8262,Add 'lock_factory' class attribute to action engine,ABANDONED,2015-11-20 16:14:51.000000000,2018-03-22 01:05:22.000000000,,"[{'_account_id': 6486}, {'_account_id': 9648}, {'_account_id': 10584}]","[{'number': 1, 'created': '2015-11-20 16:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/aa05dcc96dd15a00028bcc1217840751644f5bbc', 'message': ""Add '_rlock_factory' class attribute to action engine\n\nTo match how other classes provide '_event_factory'\nand '_semaphore_factory' so that users of these components\ncan alter the impl. of these threading objects (say to\nuse green impls) it makes sense to mirror that attribute\nchanging ability in the action engine as well for its usage\nof locks.\n\nChange-Id: I542aacd06afb63a6b100a1f6c23af5de7c4d8262\n""}, {'number': 2, 'created': '2015-11-20 16:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f0fb8a38718aa7871e329ba8d46ab255e202d5ee', 'message': ""Add 'lock_factory(s)' class attribute(s) to action engine\n\nTo match how other classes provide '_event_factory'\nand '_semaphore_factory' so that users of these components\ncan alter the impl. of these threading objects (say to\nuse green impls) it makes sense to mirror that attribute\nchanging ability in the action engine as well for its usage\nof locks.\n\nChange-Id: I542aacd06afb63a6b100a1f6c23af5de7c4d8262\n""}, {'number': 3, 'created': '2015-12-01 00:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/898fd33a00d3b43b0919c3b8264e87a95443e8e9', 'message': ""Add 'lock_factory(s)' class attribute(s) to action engine\n\nTo match how other classes provide '_event_factory'\nand '_semaphore_factory' so that users of these components\ncan alter the impl. of these threading objects (say to\nuse green impls) it makes sense to mirror that attribute\nchanging ability in the action engine as well for its usage\nof locks.\n\nChange-Id: I542aacd06afb63a6b100a1f6c23af5de7c4d8262\n""}, {'number': 4, 'created': '2015-12-02 18:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/de4a96122199994b55dcecddf168ef493b45b912', 'message': ""Add 'lock_factory' class attribute to action engine\n\nTo match how other classes provide '_event_factory'\nand '_semaphore_factory' so that users of these components\ncan alter the impl. of these threading objects (say to\nuse green impls) it makes sense to mirror that attribute\nchanging ability in the action engine as well for its usage\nof locks.\n\nIt also removes the lock used inside the compiler component\nof the action engine, because the engine class itself protects\nthe usage of its compile() method with a lock already, so there\nisn't much need to have another layer of locking as well.\n\nChange-Id: I542aacd06afb63a6b100a1f6c23af5de7c4d8262\n""}, {'number': 5, 'created': '2015-12-30 22:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/117209d014bfb165c75675d0ff085ec35ffe2e30', 'message': ""Add 'lock_factory' class attribute to action engine\n\nTo match how other classes provide '_event_factory'\nand '_semaphore_factory' so that users of these components\ncan alter the impl. of these threading objects (say to\nuse green impls) it makes sense to mirror that attribute\nchanging ability in the action engine as well for its usage\nof locks.\n\nIt also removes the lock used inside the compiler component\nof the action engine, because the engine class itself protects\nthe usage of its compile() method with a lock already, so there\nisn't much need to have another layer of locking as well.\n\nChange-Id: I542aacd06afb63a6b100a1f6c23af5de7c4d8262\n""}, {'number': 6, 'created': '2015-12-31 04:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/07348d31ffe1388cad7377262d8e825f6d3679d4', 'message': ""Add 'lock_factory' class attribute to action engine\n\nTo match how other classes provide '_event_factory'\nand '_semaphore_factory' so that users of these components\ncan alter the impl. of these threading objects (say to\nuse green impls) it makes sense to mirror that attribute\nchanging ability in the action engine as well for its usage\nof locks.\n\nIt also removes the lock used inside the compiler component\nof the action engine, because the engine class itself protects\nthe usage of its compile() method with a lock already, so there\nisn't much need to have another layer of locking as well.\n\nChange-Id: I542aacd06afb63a6b100a1f6c23af5de7c4d8262\n""}, {'number': 7, 'created': '2016-01-10 21:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/eb6106896b4d3920b848a878f6a456453d2f9b4e', 'message': ""Add 'lock_factory' class attribute to action engine\n\nTo match how other classes provide '_event_factory'\nand '_semaphore_factory' so that users of these components\ncan alter the impl. of these threading objects (say to\nuse green impls) it makes sense to mirror that attribute\nchanging ability in the action engine as well for its usage\nof locks.\n\nIt also removes the lock used inside the compiler component\nof the action engine, because the engine class itself protects\nthe usage of its compile() method with a lock already, so there\nisn't much need to have another layer of locking as well.\n\nChange-Id: I542aacd06afb63a6b100a1f6c23af5de7c4d8262\n""}, {'number': 8, 'created': '2016-05-13 05:13:48.000000000', 'files': ['taskflow/engines/action_engine/engine.py', 'taskflow/engines/action_engine/compiler.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/553daae50a9e192bbaa14ec4050a2a7cfccf6737', 'message': ""Add 'lock_factory' class attribute to action engine\n\nTo match how other classes provide '_event_factory'\nand '_semaphore_factory' so that users of these components\ncan alter the impl. of these threading objects (say to\nuse green impls) it makes sense to mirror that attribute\nchanging ability in the action engine as well for its usage\nof locks.\n\nIt also removes the lock used inside the compiler component\nof the action engine, because the engine class itself protects\nthe usage of its compile() method with a lock already, so there\nisn't much need to have another layer of locking as well.\n\nChange-Id: I542aacd06afb63a6b100a1f6c23af5de7c4d8262\n""}]",0,248156,553daae50a9e192bbaa14ec4050a2a7cfccf6737,28,3,8,1297,,,0,"Add 'lock_factory' class attribute to action engine

To match how other classes provide '_event_factory'
and '_semaphore_factory' so that users of these components
can alter the impl. of these threading objects (say to
use green impls) it makes sense to mirror that attribute
changing ability in the action engine as well for its usage
of locks.

It also removes the lock used inside the compiler component
of the action engine, because the engine class itself protects
the usage of its compile() method with a lock already, so there
isn't much need to have another layer of locking as well.

Change-Id: I542aacd06afb63a6b100a1f6c23af5de7c4d8262
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/56/248156/8 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/action_engine/engine.py', 'taskflow/engines/action_engine/compiler.py']",2,aa05dcc96dd15a00028bcc1217840751644f5bbc,248156," def __init__(self, root, freeze=True, lock_factory=threading.Lock): self._lock = lock_factory()"," def __init__(self, root, freeze=True): self._lock = threading.Lock()",17,6
openstack%2Fpuppet-tripleo~stable%2Fnewton~I61577be2434d7321dd462902d386c6911c2c4f57,openstack/puppet-tripleo,stable/newton,I61577be2434d7321dd462902d386c6911c2c4f57,Extract local CA if it expired,MERGED,2018-03-20 06:19:36.000000000,2018-03-22 01:02:00.000000000,2018-03-22 01:02:00.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 06:19:36.000000000', 'files': ['manifests/certmonger/ca/local.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/712df442f3b8ddeae4531ef7e3a4293613ae9294', 'message': ""Extract local CA if it expired\n\nThis adds a conditional that extracts certmonger's local CA if the\ncertificate doesn't exist or if it has expired already. This adds the\nability for the deployer to fix the undercloud installation with the\nundercloud install command itself if expiration of the CA cert happens.\n\nConflicts:\n    spec/classes/tripleo_certmonger_ca_local_spec.rb\n\nThe file above didn't exist in stable/newton\n\nChange-Id: I61577be2434d7321dd462902d386c6911c2c4f57\nCloses-Bug: #1753948\n(cherry picked from commit a4ae09d169396f63b1952570b2105d695753fa9d)\n""}]",0,554421,712df442f3b8ddeae4531ef7e3a4293613ae9294,6,4,1,10873,,,0,"Extract local CA if it expired

This adds a conditional that extracts certmonger's local CA if the
certificate doesn't exist or if it has expired already. This adds the
ability for the deployer to fix the undercloud installation with the
undercloud install command itself if expiration of the CA cert happens.

Conflicts:
    spec/classes/tripleo_certmonger_ca_local_spec.rb

The file above didn't exist in stable/newton

Change-Id: I61577be2434d7321dd462902d386c6911c2c4f57
Closes-Bug: #1753948
(cherry picked from commit a4ae09d169396f63b1952570b2105d695753fa9d)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/21/554421/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/certmonger/ca/local.pp'],1,712df442f3b8ddeae4531ef7e3a4293613ae9294,bug/1753948," unless => ""test -e ${ca_pem} && openssl x509 -checkend 0 -noout -in ${ca_pem}"","," creates => $ca_pem,",1,1
openstack%2Ftaskflow~master~If620b230ac2188ce791a4c8b6e41ca03c04edd04,openstack/taskflow,master,If620b230ac2188ce791a4c8b6e41ca03c04edd04,Track dirtiness of models and use it during saving,ABANDONED,2015-11-04 02:06:18.000000000,2018-03-22 00:58:56.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}, {'_account_id': 9648}, {'_account_id': 10584}]","[{'number': 1, 'created': '2015-11-04 02:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0aebd4169dc1359124b61a1d5b58bddbba932ac6', 'message': 'Track dirtiness of models and use during saving (WIP)\n\nChange-Id: If620b230ac2188ce791a4c8b6e41ca03c04edd04\n'}, {'number': 2, 'created': '2015-11-05 02:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/9d74e08e652077cd841ca8d291256eb2a5af996b', 'message': 'Track dirtiness of models and use during saving (WIP)\n\nChange-Id: If620b230ac2188ce791a4c8b6e41ca03c04edd04\n'}, {'number': 3, 'created': '2015-11-06 01:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a6ddc8730ddd41877b310fff63df4decd0081c46', 'message': 'Track dirtiness of models and use during saving (WIP)\n\nChange-Id: If620b230ac2188ce791a4c8b6e41ca03c04edd04\n'}, {'number': 4, 'created': '2015-11-06 21:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/152ac1e85c86936db5e50c7f635637dee17c8192', 'message': ""Track dirtiness of models\n\nInstead of having awkward logic to determine if a model\nis dirty (its properties have changed since it was last\nsaved) we can do better by having a metaclass that will\ngenerate properties that when set/changed those changes\nwill affect a new 'dirty' property.\n\nIn a followup change that dirty property will be more\nextensively used to refactor the persistence backend\nwriting (so that persistence backends can easily determine\nwhat is dirty and what isn't and just save what is).\n\nChange-Id: If620b230ac2188ce791a4c8b6e41ca03c04edd04\n""}, {'number': 5, 'created': '2015-11-06 23:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/720c987eba609d7f34d4e8088eb3398a1a8a914e', 'message': ""Track dirtiness of models and use it during saving\n\nInstead of having awkward logic to determine if a model\nis dirty (its properties have changed since it was last\nsaved) we can do better by having a metaclass that will\ngenerate properties that when set/changed those changes\nwill affect a new 'dirty' property.\n\nChange-Id: If620b230ac2188ce791a4c8b6e41ca03c04edd04\n""}, {'number': 6, 'created': '2015-11-07 00:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ff85c58b0bf683450e8a6cbdf6538c7b3754f1fb', 'message': ""Track dirtiness of models and use it during saving\n\nInstead of having awkward logic to determine if a model\nis dirty (its properties have changed since it was last\nsaved) we can do better by having a helper method that will\ngenerate properties that when set/changed those changes\nwill affect a new 'dirty' property.\n\nChange-Id: If620b230ac2188ce791a4c8b6e41ca03c04edd04\n""}, {'number': 7, 'created': '2015-11-07 01:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/90763cc0202aa7b177f468693132e1b7f12c19a4', 'message': ""Track dirtiness of models and use it during saving\n\nInstead of having awkward logic to determine if a model\nis dirty (its properties have changed since it was last\nsaved) we can do better by having a helper method that will\ngenerate properties that when set/changed those changes\nwill affect a new 'dirty' property.\n\nChange-Id: If620b230ac2188ce791a4c8b6e41ca03c04edd04\n""}, {'number': 8, 'created': '2015-12-18 00:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/9ed223852c404713c0cd524ea7128e685bbde77b', 'message': ""Track dirtiness of models and use it during saving (WIP)\n\nInstead of having awkward logic to determine if a model\nis dirty (its properties have changed since it was last\nsaved) we can do better by having a helper method that will\ngenerate properties that when set/changed those changes\nwill affect a new 'dirty' property.\n\nChange-Id: If620b230ac2188ce791a4c8b6e41ca03c04edd04\n""}, {'number': 9, 'created': '2015-12-18 01:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/22e2ab9b56bbd547e02395b1a55b9b5ddfa60648', 'message': ""Track dirtiness of models and use it during saving (WIP)\n\nInstead of having awkward logic to determine if a model\nis dirty (its properties have changed since it was last\nsaved) we can do better by having a helper method that will\ngenerate properties that when set/changed those changes\nwill affect a new 'dirty' property.\n\nChange-Id: If620b230ac2188ce791a4c8b6e41ca03c04edd04\n""}, {'number': 10, 'created': '2015-12-18 01:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/c7d8ecb42221c3acf4f1f55febd149a17f5a0456', 'message': ""Track dirtiness of models and use it during saving (WIP)\n\nInstead of having awkward logic to determine if a model\nis dirty (its properties have changed since it was last\nsaved) we can do better by having a helper method that will\ngenerate properties that when set/changed those changes\nwill affect a new 'dirty' property.\n\nChange-Id: If620b230ac2188ce791a4c8b6e41ca03c04edd04\n""}, {'number': 11, 'created': '2015-12-18 17:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0fdf35ea159de5ea7444111b6671d14c6d50b4bb', 'message': ""Track dirtiness of models and use it during saving (WIP)\n\nInstead of having awkward logic to determine if a model\nis dirty (its properties have changed since it was last\nsaved) we can do better by having a helper method that will\ngenerate properties that when set/changed those changes\nwill affect a new 'dirty' property.\n\nChange-Id: If620b230ac2188ce791a4c8b6e41ca03c04edd04\n""}, {'number': 12, 'created': '2015-12-22 04:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a42ca570bace21b0194385c21848acf3d20ee9ac', 'message': ""Track dirtiness of models and use it during saving\n\nInstead of having awkward logic to determine if a model\nis dirty (its properties have changed since it was last\nsaved) we can do better by having a helper method that will\ngenerate properties that when set/changed those changes\nwill affect a new 'dirty' property.\n\nChange-Id: If620b230ac2188ce791a4c8b6e41ca03c04edd04\n""}, {'number': 13, 'created': '2015-12-22 20:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/11363de3b75693bc4b9bad406aab9c2b62ed2873', 'message': ""Track dirtiness of models and use it during saving\n\nInstead of having awkward logic to determine if a model\nis dirty (its properties have changed since it was last\nsaved) we can do better by having a helper method that will\ngenerate properties that when set/changed those changes\nwill affect a new 'dirty' property.\n\nChange-Id: If620b230ac2188ce791a4c8b6e41ca03c04edd04\n""}, {'number': 14, 'created': '2015-12-22 22:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f471af18f1224c198025230caa90b1cc4e65d5c5', 'message': ""Track dirtiness of models and use it during saving\n\nInstead of having awkward logic to determine if a model\nis dirty (its properties have changed since it was last\nsaved) we can do better by having a helper method that will\ngenerate properties that when set/changed those changes\nwill affect a new 'dirty' property.\n\nChange-Id: If620b230ac2188ce791a4c8b6e41ca03c04edd04\n""}, {'number': 15, 'created': '2015-12-22 22:22:14.000000000', 'files': ['taskflow/storage.py', 'taskflow/tests/unit/test_models.py', 'taskflow/persistence/models.py', 'taskflow/tests/unit/persistence/base.py', 'taskflow/persistence/path_based.py', 'taskflow/persistence/backends/impl_sqlalchemy.py', 'taskflow/tests/unit/test_utils.py', 'taskflow/utils/misc.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a2e62b7888903bea7d72d72d16412a45a735be20', 'message': ""Track dirtiness of models and use it during saving\n\nInstead of having awkward logic to determine if a model\nis dirty (its properties have changed since it was last\nsaved) we can do better by having a helper method that will\ngenerate properties that when set/changed those changes\nwill affect a new 'dirty' property.\n\nChange-Id: If620b230ac2188ce791a4c8b6e41ca03c04edd04\n""}]",5,241441,a2e62b7888903bea7d72d72d16412a45a735be20,33,4,15,1297,,,0,"Track dirtiness of models and use it during saving

Instead of having awkward logic to determine if a model
is dirty (its properties have changed since it was last
saved) we can do better by having a helper method that will
generate properties that when set/changed those changes
will affect a new 'dirty' property.

Change-Id: If620b230ac2188ce791a4c8b6e41ca03c04edd04
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/41/241441/15 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/tests/unit/test_models.py', 'taskflow/persistence/models.py']",2,0aebd4169dc1359124b61a1d5b58bddbba932ac6,dirty-models," self._dirty = False @property def dirty(self): """"""Whether this logbook has attributes that need to be saved. Does **not** check dirtiness of contained flow details. """""" return self._dirty self._dirty = True self._dirty = True self._dirty = True self._dirty = True clone._dirty = True self._dirty = False @property def dirty(self): """"""Whether this flow detail has attributes that need to be saved. Does **not** check dirtiness of contained atom details. """""" return self._dirty self._dirty = fd._dirty self._dirty = True self._dirty = True clone._dirty = True self._dirty = False def dirty(self): """"""Whether this atom detail has attributes that need to be saved."""""" return self._dirty @property self._dirty = ad._dirty self._dirty = True self._dirty = True self._dirty = True self._dirty = True self._dirty = True self._dirty = was_altered self._dirty = True self._dirty = True self._dirty = was_altered self._dirty = True",,83,1
openstack%2Ftaskflow~master~I64b6594c84c6303b5858dd3d3004006bdb76ecac,openstack/taskflow,master,I64b6594c84c6303b5858dd3d3004006bdb76ecac,Allow an atom to request rescheduling (WIP),ABANDONED,2015-10-16 23:31:32.000000000,2018-03-22 00:58:26.000000000,,"[{'_account_id': 6486}, {'_account_id': 9648}]","[{'number': 1, 'created': '2015-10-16 23:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/336cf186945c08e6f3d3cd0cb1784958520a7c1d', 'message': 'Allow an atom to request rescheduling (WIP)\n\nChange-Id: I64b6594c84c6303b5858dd3d3004006bdb76ecac\n'}, {'number': 2, 'created': '2015-10-19 21:50:21.000000000', 'files': ['taskflow/engines/action_engine/actions/base.py', 'taskflow/engines/action_engine/actions/task.py', 'taskflow/engines/action_engine/actions/retry.py', 'taskflow/exceptions.py', 'taskflow/engines/action_engine/analyzer.py', 'taskflow/engines/action_engine/completer.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/3c88076dc7d08438c7ce3bf913a1e3b938fd581e', 'message': 'Allow an atom to request rescheduling (WIP)\n\nChange-Id: I64b6594c84c6303b5858dd3d3004006bdb76ecac\n'}]",0,236167,3c88076dc7d08438c7ce3bf913a1e3b938fd581e,9,2,2,1297,,,0,"Allow an atom to request rescheduling (WIP)

Change-Id: I64b6594c84c6303b5858dd3d3004006bdb76ecac
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/67/236167/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/action_engine/actions/task.py', 'taskflow/engines/action_engine/actions/retry.py', 'taskflow/exceptions.py', 'taskflow/engines/action_engine/analyzer.py', 'taskflow/engines/action_engine/completer.py']",5,336cf186945c08e6f3d3cd0cb1784958520a7c1d,,from taskflow import exceptions as exc if result.check(exc.Reschedule): return False,,44,4
openstack%2Foslo.messaging~master~I7b1594e56e9906c9484e9666a3d440a8b2809591,openstack/oslo.messaging,master,I7b1594e56e9906c9484e9666a3d440a8b2809591,Allow for acking before/after processing (WIP),ABANDONED,2015-09-29 23:40:29.000000000,2018-03-22 00:58:13.000000000,,"[{'_account_id': 1297}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 5511}, {'_account_id': 5638}, {'_account_id': 6486}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 8770}, {'_account_id': 11744}, {'_account_id': 13290}, {'_account_id': 13692}, {'_account_id': 19206}]","[{'number': 1, 'created': '2015-09-29 23:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/db340d62562100a8015110f430745c9554506de4', 'message': 'Allow for acking before/after processing (WIP)\n\nChange-Id: I7b1594e56e9906c9484e9666a3d440a8b2809591\n'}, {'number': 2, 'created': '2015-11-30 14:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a6873ea0b1aff4d277d5e073eb24520af80f3da2', 'message': 'Allow for acking before/after processing (WIP)\n\nAdd tests if ack have been called before dispatch\n(ack_then_process=False), or after (ack_then_process=False)\n\nCo-authored-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n\nChange-Id: I7b1594e56e9906c9484e9666a3d440a8b2809591\n'}, {'number': 3, 'created': '2015-11-30 15:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/5ac033e24864313b8c16b44ddda35e44993e610c', 'message': 'Allow for acking before/after processing (WIP)\n\nAdd tests if ack have been called before dispatch\n(ack_then_process=False), or after (ack_then_process=False)\n\nCo-authored-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n\nChange-Id: I7b1594e56e9906c9484e9666a3d440a8b2809591\n'}, {'number': 4, 'created': '2015-12-02 11:06:47.000000000', 'files': ['oslo_messaging/tests/rpc/test_dispatcher.py', 'oslo_messaging/rpc/dispatcher.py', 'oslo_messaging/rpc/server.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/34333f8ff766e7aabcf6f141e4c3581911720564', 'message': 'Allow for acking before/after processing (WIP)\n\nAdd tests if ack have been called before dispatch\n(ack_then_process=False), or after (ack_then_process=False)\n\nCo-authored-by: Bogdan Dobrelya <bdobrelia@mirantis.com>\n\nPartial blueprint at-least-once-guarantee\n\nChange-Id: I7b1594e56e9906c9484e9666a3d440a8b2809591\n'}]",6,229186,34333f8ff766e7aabcf6f141e4c3581911720564,45,13,4,1297,,,0,"Allow for acking before/after processing (WIP)

Add tests if ack have been called before dispatch
(ack_then_process=False), or after (ack_then_process=False)

Co-authored-by: Bogdan Dobrelya <bdobrelia@mirantis.com>

Partial blueprint at-least-once-guarantee

Change-Id: I7b1594e56e9906c9484e9666a3d440a8b2809591
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/86/229186/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/rpc/dispatcher.py', 'oslo_messaging/rpc/server.py']",2,db340d62562100a8015110f430745c9554506de4,229186," executor='blocking', serializer=None, ack_then_process=True): :param ack_then_process: acknowledge the message before processing it versus acknowledging the message after processing it :type ack_then_process: bool dispatcher = rpc_dispatcher.RPCDispatcher( target, endpoints, serializer, ack_then_process=ack_then_process)"," executor='blocking', serializer=None): dispatcher = rpc_dispatcher.RPCDispatcher(target, endpoints, serializer)",24,7
openstack%2Ftaskflow~master~I9640b00db32001a3697160fbf1e9a68bcd80d5d6,openstack/taskflow,master,I9640b00db32001a3697160fbf1e9a68bcd80d5d6,Allow explicit passing of what is or isn't optional,ABANDONED,2015-08-04 00:37:38.000000000,2018-03-22 00:57:57.000000000,,"[{'_account_id': 6486}, {'_account_id': 9648}, {'_account_id': 10806}]","[{'number': 1, 'created': '2015-08-04 00:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/83f987638d5c0bd0ca700fe42d97327549c9eeeb', 'message': ""Allow explicit passing of what is or isn't optional\n\nInstead of *only* trying to infer the optional arguments\nby examining the function provided, make it so that just\nlike 'requires' and 'provides' the 'optional' values can\nalso be explicitly provided (for folks that like to do\njust that).\n\nChange-Id: I9640b00db32001a3697160fbf1e9a68bcd80d5d6\n""}, {'number': 2, 'created': '2015-08-04 23:32:01.000000000', 'files': ['taskflow/task.py', 'taskflow/tests/unit/test_engines.py', 'taskflow/tests/utils.py', 'taskflow/atom.py', 'taskflow/retry.py', 'taskflow/tests/unit/worker_based/test_worker.py', 'taskflow/tests/unit/test_task.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/57b5a1cf89de07f6899c317279325fefaaf904f0', 'message': ""Allow explicit passing of what is or isn't optional\n\nInstead of *only* trying to infer the optional arguments\nby examining the function provided, make it so that just\nlike 'requires' and 'provides' the 'optional' values can\nalso be explicitly provided (for folks that like to do\njust that).\n\nChange-Id: I9640b00db32001a3697160fbf1e9a68bcd80d5d6\n""}]",0,208686,57b5a1cf89de07f6899c317279325fefaaf904f0,10,3,2,1297,,,0,"Allow explicit passing of what is or isn't optional

Instead of *only* trying to infer the optional arguments
by examining the function provided, make it so that just
like 'requires' and 'provides' the 'optional' values can
also be explicitly provided (for folks that like to do
just that).

Change-Id: I9640b00db32001a3697160fbf1e9a68bcd80d5d6
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/86/208686/2 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/task.py', 'taskflow/tests/unit/test_engines.py', 'taskflow/tests/utils.py', 'taskflow/atom.py', 'taskflow/retry.py', 'taskflow/tests/unit/worker_based/test_worker.py', 'taskflow/tests/unit/test_task.py']",7,83f987638d5c0bd0ca700fe42d97327549c9eeeb,," def test_requires_explicit_optional_to_many(self): self.assertRaises(ValueError, MyTask, auto_extract=False, requires=('spam', 'eggs'), optional=['context', 'bacon']) self.assertRaises(ValueError, MyTask, auto_extract=True, optional=['context', 'bacon']) def test_requires_explicit_optional(self): my_task = KwargsTask(optional=['bacon', 'eggs']) self.assertEqual(set(['spam']), my_task.requires) self.assertEqual(set(['eggs', 'bacon']), my_task.optional) ",,80,25
openstack%2Ftaskflow~master~I6c3f31477073aa575a342ebcc135db0710ba5ac2,openstack/taskflow,master,I6c3f31477073aa575a342ebcc135db0710ba5ac2,Allow customized scope lookup reordering,ABANDONED,2015-07-29 00:25:53.000000000,2018-03-22 00:57:46.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}, {'_account_id': 9648}]","[{'number': 1, 'created': '2015-07-29 00:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/5531a856c6e3087b8e7dc928d454333b4ac5294e', 'message': 'Allow customized provider reordering\n\nChange-Id: I6c3f31477073aa575a342ebcc135db0710ba5ac2\n'}, {'number': 2, 'created': '2015-07-29 01:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/cf299f95c7550207db5ce03a965893acf0f8058c', 'message': 'Allow customized provider reordering\n\nChange-Id: I6c3f31477073aa575a342ebcc135db0710ba5ac2\n'}, {'number': 3, 'created': '2015-07-29 01:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a77a3fb93f5caba589ac9f6c447c8f2c14b232f1', 'message': 'Allow customized provider reordering\n\nChange-Id: I6c3f31477073aa575a342ebcc135db0710ba5ac2\n'}, {'number': 4, 'created': '2015-07-29 04:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/14a14863286b9f29f03934bdc4743050a3056355', 'message': 'Allow customized provider reordering\n\nChange-Id: I6c3f31477073aa575a342ebcc135db0710ba5ac2\n'}, {'number': 5, 'created': '2015-07-29 05:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/367324e2aec0114206523a0e20fa81c9b22f98e5', 'message': ""Allow customized scope lookup reordering (WIP)\n\nThe current strategy of:\n\n1. Injected atom providers\n2. Injected flow providers\n3. Dynamic scope found providers\n\nDoes not suit everyone's desires, so this addition\nmakes it possible to re-order that order into some other\norder that the user may desire more than what the default\nis.\n\nChange-Id: I6c3f31477073aa575a342ebcc135db0710ba5ac2\n""}, {'number': 6, 'created': '2015-07-30 02:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/6a4cb8f73a115f53089046d3d334d80f2512e5b8', 'message': ""Allow customized scope lookup reordering (WIP)\n\nThe current strategy of:\n\n1. Injected atom providers\n2. Injected flow providers\n3. Dynamic scope found providers\n\nDoes not suit everyone's desires, so this addition\nmakes it possible to re-order that order into some other\norder that the user may desire more than what the default\nis.\n\nChange-Id: I6c3f31477073aa575a342ebcc135db0710ba5ac2\n""}, {'number': 7, 'created': '2015-07-30 05:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8486f5c2cd31148077926f5a6c809e9b1e827849', 'message': ""Allow customized scope lookup reordering\n\nThe current strategy of:\n\n1. Injected atom providers\n2. Injected flow providers\n3. Dynamic scope found providers\n\nDoes not suit everyone's desires, so this addition\nmakes it possible to re-order that order into some other\norder that the user may desire more than what the default\nis.\n\nChange-Id: I6c3f31477073aa575a342ebcc135db0710ba5ac2\n""}, {'number': 8, 'created': '2015-07-30 05:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/504346f2f82fb84b5cc3ffc476b3594283e93a05', 'message': ""Allow customized scope lookup reordering\n\nThe current strategy of:\n\n1. Injected atom providers\n2. Injected flow providers\n3. Dynamic scope found providers\n\nDoes not suit everyone's desires, so this addition\nmakes it possible to re-order that order into some other\norder that the user may desire more than what the default\nis.\n\nChange-Id: I6c3f31477073aa575a342ebcc135db0710ba5ac2\n""}, {'number': 9, 'created': '2015-08-01 19:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/daa7a7edfb61b19467b1014a96c304efbb7d8613', 'message': ""Allow customized scope lookup reordering\n\nThe current strategy of:\n\n1. Injected atom providers\n2. Injected flow providers\n3. Dynamic scope found providers\n\nDoes not suit everyone's desires, so this addition\nmakes it possible to re-order that order into some other\norder that the user may desire more than what the default\nis.\n\nChange-Id: I6c3f31477073aa575a342ebcc135db0710ba5ac2\n""}, {'number': 10, 'created': '2015-08-05 06:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/5894f692c381d608518b5a486dfd69bfddbc3111', 'message': ""Allow customized scope lookup reordering\n\nThe current strategy of:\n\n1. Injected atom providers\n2. Injected flow providers\n3. Dynamic scope found providers\n\nDoes not suit everyone's desires, so this addition\nmakes it possible to re-order that order into some other\norder that the user may desire more than what the default\nis.\n\nChange-Id: I6c3f31477073aa575a342ebcc135db0710ba5ac2\n""}, {'number': 11, 'created': '2015-12-24 04:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/912400d698d8919c438363ba2282789a92e0ca0a', 'message': ""Allow customized scope lookup reordering\n\nThe current strategy of:\n\n1. Injected atom providers\n2. Injected flow providers\n3. Dynamic scope found providers\n\nDoes not suit everyone's desires, so this addition\nmakes it possible to re-order that order into some other\norder that the user may desire more than what the default\nis.\n\nChange-Id: I6c3f31477073aa575a342ebcc135db0710ba5ac2\n""}, {'number': 12, 'created': '2015-12-25 02:33:50.000000000', 'files': ['taskflow/storage.py', 'taskflow/engines/action_engine/engine.py', 'taskflow/tests/unit/test_storage.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/6bac9564a270b8be8d997efa0ab3a1fe16032b99', 'message': ""Allow customized scope lookup reordering\n\nThe current strategy of:\n\n1. Injected atom providers\n2. Injected flow providers\n3. Dynamic scope found providers\n\nDoes not suit everyone's desires, so this addition\nmakes it possible to re-order that order into some other\norder that the user may desire more than what the default\nis.\n\nChange-Id: I6c3f31477073aa575a342ebcc135db0710ba5ac2\n""}]",2,206769,6bac9564a270b8be8d997efa0ab3a1fe16032b99,29,3,12,1297,,,0,"Allow customized scope lookup reordering

The current strategy of:

1. Injected atom providers
2. Injected flow providers
3. Dynamic scope found providers

Does not suit everyone's desires, so this addition
makes it possible to re-order that order into some other
order that the user may desire more than what the default
is.

Change-Id: I6c3f31477073aa575a342ebcc135db0710ba5ac2
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/69/206769/12 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/storage.py'],1,5531a856c6e3087b8e7dc928d454333b4ac5294e,206769," default_lookup_order = (('injected_atom', 0), ('injected_flow', 1), ('scope', 2)) """""" Default argument lookup order. This defaults to (1) injected atom values, then (2) injected flow values then (3) looking for the nearest scoped atom that provides needed named argument; if user-provided then this must be a mapping of these values to an integer that will be used to arrange these in a different order... """""" def __init__(self, flow_detail, backend=None, scope_fetcher=None, lookup_order=None): self._lookup_order = dict(self.default_lookup_order) if lookup_order: self._lookup_order.update(lookup_order) provider_reordering = [ (self._lookup_order['injected_atom'], providers.injected_atom), (self._lookup_order['injected_flow'], providers.injected_flow), (self._lookup_order['scope'], providers.scoped_iter), ] providers = [provider for (_order, provider) in sorted(provider_reordering, key=lambda v: v[0:1])] providers_iter = itertools.chain(*providers)"," def __init__(self, flow_detail, backend=None, scope_fetcher=None): providers_iter = itertools.chain(providers.injected_atom, providers.injected_flow, providers.scoped_iter)",24,4
openstack%2Ftaskflow~master~I5135ce649a647e3b30563fd5f44e1a06d40d9eee,openstack/taskflow,master,I5135ce649a647e3b30563fd5f44e1a06d40d9eee,Move bulk of storage '__init__' logic to new '_prepare' method,ABANDONED,2015-07-16 21:27:42.000000000,2018-03-22 00:57:38.000000000,,"[{'_account_id': 6486}, {'_account_id': 9648}, {'_account_id': 10584}]","[{'number': 1, 'created': '2015-07-16 21:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/9f74cd050308f81930364c5e19ed94dd0a8f771a', 'message': ""Move bulk of storage '__init__' logic to new 'initialize' method\n\nConstructors should not be doing that much work, so move the loading\nof an existing injected values, mapping/caching to uuids and mapping/caching\nfailures to a new 'initialize' method instead and call it when the\nstorage object is created (in an engine).\n\nChange-Id: I5135ce649a647e3b30563fd5f44e1a06d40d9eee\n""}, {'number': 2, 'created': '2015-07-17 16:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/857756fdc5170e1935659cdc40913d4fbdd19ae1', 'message': ""Move bulk of storage '__init__' logic to new '_prepare' method\n\nConstructors should not be doing that much work, so move the loading\nof an existing injected values, mapping/caching to uuids and mapping/caching\nfailures to a new '_prepare' method instead and call it when the\nstorage object is created to make it easier to understand the various stages\nof the storage '__init__' logic.\n\nChange-Id: I5135ce649a647e3b30563fd5f44e1a06d40d9eee\n""}, {'number': 3, 'created': '2015-07-19 03:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/3f0b2444ce1f2a652e7a4f40056df4cae9a3d61c', 'message': ""Move bulk of storage '__init__' logic to new '_prepare' method\n\nConstructors should not be doing that much work, so move the loading\nof an existing injected values, mapping/caching to uuids and mapping/caching\nfailures to a new '_prepare' method instead and call it when the\nstorage object is created to make it easier to understand the various stages\nof the storage '__init__' logic.\n\nChange-Id: I5135ce649a647e3b30563fd5f44e1a06d40d9eee\n""}, {'number': 4, 'created': '2015-07-21 03:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/6e5359e972e77412956f17d922fe232d4e7e9428', 'message': ""Move bulk of storage '__init__' logic to new '_prepare' method\n\nConstructors should not be doing that much work, so move the loading\nof an existing injected values, mapping/caching to uuids and mapping/caching\nfailures to a new '_prepare' method instead and call it when the\nstorage object is created to make it easier to understand the various stages\nof the storage '__init__' logic.\n\nChange-Id: I5135ce649a647e3b30563fd5f44e1a06d40d9eee\n""}, {'number': 5, 'created': '2015-08-04 23:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a33c91a4d614b976e2ab48db67f5590bfd3621f7', 'message': ""Move bulk of storage '__init__' logic to new '_prepare' method\n\nConstructors should not be doing that much work, so move the loading\nof an existing injected values, mapping/caching to uuids and mapping/caching\nfailures to a new '_prepare' method instead and call it when the\nstorage object is created to make it easier to understand the various stages\nof the storage '__init__' logic.\n\nChange-Id: I5135ce649a647e3b30563fd5f44e1a06d40d9eee\n""}, {'number': 6, 'created': '2015-08-05 06:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/6bc3ce158dbb50ee5ab5eb0e20a43fd91a972c08', 'message': ""Move bulk of storage '__init__' logic to new '_prepare' method\n\nConstructors should not be doing that much work, so move the loading\nof an existing injected values, mapping/caching to uuids and mapping/caching\nfailures to a new '_prepare' method instead and call it when the\nstorage object is created to make it easier to understand the various stages\nof the storage '__init__' logic.\n\nChange-Id: I5135ce649a647e3b30563fd5f44e1a06d40d9eee\n""}, {'number': 7, 'created': '2015-12-24 04:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/dd2dc2d740a7dd2e463f9a4da848ff30baf5ab62', 'message': ""Move bulk of storage '__init__' logic to new '_prepare' method\n\nConstructors should not be doing that much work, so move the loading\nof an existing injected values, mapping/caching to uuids and mapping/caching\nfailures to a new '_prepare' method instead and call it when the\nstorage object is created to make it easier to understand the various stages\nof the storage '__init__' logic.\n\nChange-Id: I5135ce649a647e3b30563fd5f44e1a06d40d9eee\n""}, {'number': 8, 'created': '2015-12-30 22:07:08.000000000', 'files': ['taskflow/storage.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/e2f3e56ed16da72d126306d21dd48da88eba6714', 'message': ""Move bulk of storage '__init__' logic to new '_prepare' method\n\nConstructors should not be doing that much work, so move the loading\nof an existing injected values, mapping/caching to uuids and mapping/caching\nfailures to a new '_prepare' method instead and call it when the\nstorage object is created to make it easier to understand the various stages\nof the storage '__init__' logic.\n\nChange-Id: I5135ce649a647e3b30563fd5f44e1a06d40d9eee\n""}]",2,202794,e2f3e56ed16da72d126306d21dd48da88eba6714,26,3,8,1297,,,0,"Move bulk of storage '__init__' logic to new '_prepare' method

Constructors should not be doing that much work, so move the loading
of an existing injected values, mapping/caching to uuids and mapping/caching
failures to a new '_prepare' method instead and call it when the
storage object is created to make it easier to understand the various stages
of the storage '__init__' logic.

Change-Id: I5135ce649a647e3b30563fd5f44e1a06d40d9eee
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/94/202794/8 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/storage.py', 'taskflow/engines/action_engine/engine.py', 'taskflow/tests/unit/test_storage.py', 'taskflow/tests/unit/action_engine/test_runner.py']",4,9f74cd050308f81930364c5e19ed94dd0a8f771a,bug/1479466, store = storage.Storage(flow_detail).initialize(), store = storage.Storage(flow_detail),32,11
openstack%2Ftaskflow~master~I83e3e31836e5ed3a60f4fa45a098af07a32112e5,openstack/taskflow,master,I83e3e31836e5ed3a60f4fa45a098af07a32112e5,Separate revert/execute failure into different outcome constants,ABANDONED,2015-07-09 03:47:01.000000000,2018-03-22 00:57:29.000000000,,"[{'_account_id': 6486}, {'_account_id': 9648}]","[{'number': 1, 'created': '2015-07-09 03:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/210ed0c16cbd6906c605600ba6e82ad7a51f8aa7', 'message': 'Seperate revert/execute failure into different outcome constants (WIP)\n\nInstead of depending on type checks to determine if a execute\nor revert function failed use new outcome constants to better handle\nand identify when revert/execute have really failed.\n\nChange-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5\n'}, {'number': 2, 'created': '2015-07-09 03:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a6e11dcc72414c7cf74e66dd903367cdb2443415', 'message': 'Seperate revert/execute failure into different outcome constants (WIP)\n\nInstead of depending on type checks to determine if a execute\nor revert function failed use new outcome constants to better handle\nand identify when revert/execute have really failed.\n\nChange-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5\n'}, {'number': 3, 'created': '2015-07-09 07:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/168261282e951c560b5c5ebe5626a61c3864a0fd', 'message': 'Seperate revert/execute failure into different outcome constants\n\nInstead of depending on type checks to determine if a execute\nor revert function failed use new outcome constants to better handle\nand identify when revert/execute have really failed.\n\nChange-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5\n'}, {'number': 4, 'created': '2015-07-09 07:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/055bcff81b160f28271316046cf90cc8ce94f470', 'message': 'Separate revert/execute failure into different outcome constants\n\nInstead of depending on type checks to determine if a execute\nor revert function failed use new outcome constants to better handle\nand identify when revert/execute have really failed.\n\nChange-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5\n'}, {'number': 5, 'created': '2015-07-09 20:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0c7672e4414838ffcbbeb7263bd6759f8b7d0ab2', 'message': 'Separate revert/execute failure into different outcome constants\n\nInstead of depending on type checks to determine if a execute\nor revert function failed use new outcome constants to better handle\nand identify when revert/execute have really failed.\n\nChange-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5\n'}, {'number': 6, 'created': '2015-07-09 21:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/376863e2bc2b0c84315fd6bce596e6692a1e6e6e', 'message': 'Separate revert/execute failure into different outcome constants\n\nInstead of depending on type checks to determine if a execute\nor revert function failed use new outcome constants to better handle\nand identify when revert/execute have really failed.\n\nChange-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5\n'}, {'number': 7, 'created': '2015-07-10 18:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/db47097332c45a74edde5985d85a962fcd945d2b', 'message': 'Separate revert/execute failure into different outcome constants\n\nInstead of depending on type checks to determine if a execute\nor revert function failed use new outcome constants to better handle\nand identify when revert/execute have really failed.\n\nChange-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5\n'}, {'number': 8, 'created': '2015-07-11 04:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/3e323eadd0f63f14dc507f86189e84d268c62173', 'message': 'Separate revert/execute failure into different outcome constants\n\nInstead of depending on type checks to determine if a execute\nor revert function failed use new outcome constants to better handle\nand identify when revert/execute have really failed.\n\nChange-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5\n'}, {'number': 9, 'created': '2015-07-13 15:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/27f476990ea04d579f21cfcc75406e87ecf49831', 'message': 'Separate revert/execute failure into different outcome constants\n\nInstead of depending on type checks to determine if a execute\nor revert function failed use new outcome constants to better handle\nand identify when revert/execute have really failed.\n\nChange-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5\n'}, {'number': 10, 'created': '2015-07-15 00:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0abdecca08a7a6de573105d00f7d8f84770546d2', 'message': 'Separate revert/execute failure into different outcome constants\n\nInstead of depending on type checks to determine if a execute\nor revert function failed use new outcome constants to better handle\nand identify when revert/execute have really failed.\n\nChange-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5\n'}, {'number': 11, 'created': '2015-07-15 19:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/10d9bf4c02a04efc14c0faabe5853c9d3186d84e', 'message': 'Separate revert/execute failure into different outcome constants\n\nInstead of depending on type checks to determine if a execute\nor revert function failed use new outcome constants to better handle\nand identify when revert/execute have really failed.\n\nChange-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5\n'}, {'number': 12, 'created': '2015-07-16 02:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/82d9e3d6b79dc39d084f1bfe03945741b1fe89f8', 'message': 'Separate revert/execute failure into different outcome constants\n\nInstead of depending on type checks to determine if a execute\nor revert function failed use new outcome constants to better handle\nand identify when revert/execute have really failed.\n\nChange-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5\n'}, {'number': 13, 'created': '2015-07-18 03:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/10ba5bae7d3c34078a19d7af93cbc2e8596a46c9', 'message': 'Separate revert/execute failure into different outcome constants\n\nInstead of depending on type checks to determine if a execute\nor revert function failed use new outcome constants to better handle\nand identify when revert/execute have really failed.\n\nChange-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5\n'}, {'number': 14, 'created': '2015-07-18 21:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/d2eea28c707bb0be880331a8b74ec7568c17189b', 'message': 'Separate revert/execute failure into different outcome constants\n\nInstead of depending on type checks to determine if a execute\nor revert function failed use new outcome constants to better handle\nand identify when revert/execute have really failed.\n\nChange-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5\n'}, {'number': 15, 'created': '2015-07-21 17:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8768e977786d3392b028ca110de1a3c48e3a09f8', 'message': 'Separate revert/execute failure into different outcome constants\n\nInstead of depending on type checks to determine if a execute\nor revert function failed use new outcome constants to better handle\nand identify when revert/execute have really failed.\n\nChange-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5\n'}, {'number': 16, 'created': '2015-07-31 19:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/532739b042daf04f99a8e83ee77b9bf9109afe5d', 'message': 'Separate revert/execute failure into different outcome constants\n\nInstead of depending on type checks to determine if a execute\nor revert function failed use new outcome constants to better handle\nand identify when revert/execute have really failed.\n\nChange-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5\n'}, {'number': 17, 'created': '2015-08-03 19:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/9dadef4aebce64953b0aff489258e996bbf01fb1', 'message': 'Separate revert/execute failure into different outcome constants\n\nInstead of depending on type checks to determine if a execute\nor revert function failed use new outcome constants to better handle\nand identify when revert/execute have really failed.\n\nChange-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5\n'}, {'number': 18, 'created': '2015-10-05 23:15:07.000000000', 'files': ['taskflow/engines/worker_based/server.py', 'taskflow/engines/action_engine/builder.py', 'taskflow/engines/action_engine/actions/base.py', 'taskflow/tests/unit/worker_based/test_protocol.py', 'taskflow/tests/unit/worker_based/test_pipeline.py', 'taskflow/engines/action_engine/actions/task.py', 'taskflow/engines/action_engine/actions/retry.py', 'taskflow/tests/unit/worker_based/test_executor.py', 'taskflow/tests/unit/worker_based/test_message_pump.py', 'taskflow/engines/action_engine/executor.py', 'taskflow/engines/worker_based/executor.py', 'taskflow/engines/worker_based/endpoint.py', 'taskflow/engines/action_engine/completer.py', 'taskflow/engines/worker_based/protocol.py', 'taskflow/tests/unit/worker_based/test_endpoint.py', 'taskflow/tests/unit/worker_based/test_server.py', 'taskflow/tests/unit/worker_based/test_types.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0c81c488da69641ccdfac6b313954a7bf0ee824c', 'message': 'Separate revert/execute failure into different outcome constants\n\nInstead of depending on type checks to determine if a execute\nor revert function failed use new outcome constants to better handle\nand identify when revert/execute have really failed.\n\nChange-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5\n'}]",0,199848,0c81c488da69641ccdfac6b313954a7bf0ee824c,49,2,18,1297,,,0,"Separate revert/execute failure into different outcome constants

Instead of depending on type checks to determine if a execute
or revert function failed use new outcome constants to better handle
and identify when revert/execute have really failed.

Change-Id: I83e3e31836e5ed3a60f4fa45a098af07a32112e5
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/48/199848/18 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/worker_based/server.py', 'taskflow/engines/worker_based/executor.py', 'taskflow/engines/action_engine/actions/base.py', 'taskflow/engines/action_engine/actions/task.py', 'taskflow/engines/action_engine/actions/retry.py', 'taskflow/engines/worker_based/endpoint.py', 'taskflow/engines/action_engine/executor.py', 'taskflow/engines/action_engine/runner.py', 'taskflow/engines/action_engine/completer.py', 'taskflow/engines/worker_based/protocol.py']",10,210ed0c16cbd6906c605600ba6e82ad7a51f8aa7,separate-revert-execute-outcomes," ""enum"": [EXECUTE, REVERT], def action(self): return self._action @property def set_result(self, outcome, result): self.result.set_result((outcome, result))","from taskflow.engines.action_engine import executor# Remote task action to event map. ACTION_TO_EVENT = { EXECUTE: executor.EXECUTED, REVERT: executor.REVERTED } ""enum"": list(six.iterkeys(ACTION_TO_EVENT)), self._event = ACTION_TO_EVENT[action] def set_result(self, result): self.result.set_result((self._event, result))",85,64
openstack%2Ftaskflow~master~Ie0e6bd5f3a9c1ff27cd3257270b238cf719d8398,openstack/taskflow,master,Ie0e6bd5f3a9c1ff27cd3257270b238cf719d8398,Allow regeneration of built-in matched python exceptions,ABANDONED,2015-06-26 01:07:02.000000000,2018-03-22 00:57:22.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}, {'_account_id': 9648}]","[{'number': 1, 'created': '2015-06-26 01:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/888057b93f9713fa7a894dfdc048d04e9a2d7bb1', 'message': ""Allow regeneration of built-in matched python exceptions (WIP)\n\nInstead of always re-raising a 'WrappedFailure' when we\nhave translated a failure into an dict and back again we\ncan attempt to safely regenerate the exception class and\na valid exception value from it instead (and only enable\nthis for exceptions that we explicitly match).\n\nThis allows for users to catch the native exception class\nwhen running an engine (and especially when running a worker\nor remote engine that does not run its tasks locally and\ntranslates its failures into dictionaries, and back again).\n\nChange-Id: Ie0e6bd5f3a9c1ff27cd3257270b238cf719d8398\n""}, {'number': 2, 'created': '2015-06-26 04:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/137146d04bae62752f94a72da6b6c6f279f37306', 'message': ""Allow regeneration of built-in matched python exceptions (WIP)\n\nInstead of always re-raising a 'WrappedFailure' when we\nhave translated a failure into an dict and back again we\ncan attempt to safely regenerate the exception class and\na valid exception value from it instead (and only enable\nthis for exceptions that we explicitly match).\n\nThis allows for users to catch the native exception class\nwhen running an engine (and especially when running a worker\nor remote engine that does not run its tasks locally and\ntranslates its failures into dictionaries, and back again).\n\nChange-Id: Ie0e6bd5f3a9c1ff27cd3257270b238cf719d8398\n""}, {'number': 3, 'created': '2015-06-26 06:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/5d881e1d4d7bc203a6f020bc12be12feb589aa9d', 'message': ""Allow regeneration of built-in matched python exceptions (WIP)\n\nInstead of always re-raising a 'WrappedFailure' when we\nhave translated a failure into an dict and back again we\ncan attempt to safely regenerate the exception class and\na valid exception value from it instead (and only enable\nthis for exceptions that we explicitly match).\n\nThis allows for users to catch the native exception class\nwhen running an engine (and especially when running a worker\nor remote engine that does not run its tasks locally and\ntranslates its failures into dictionaries, and back again).\n\nChange-Id: Ie0e6bd5f3a9c1ff27cd3257270b238cf719d8398\n""}, {'number': 4, 'created': '2015-06-26 20:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/924f509d6099fda7b771abaef6adbb961cbb5f6d', 'message': ""Allow regeneration of built-in matched python exceptions\n\nInstead of always re-raising a 'WrappedFailure' when we\nhave translated a failure into an dict and back again we\ncan attempt to safely regenerate the exception class and\na valid exception value from it instead (and only enable\nthis for exceptions that we explicitly match).\n\nThis allows for users to catch the native exception class\nwhen running an engine (and especially when running a worker\nor remote engine that does not run its tasks locally and\ntranslates its failures into dictionaries, and back again).\n\nChange-Id: Ie0e6bd5f3a9c1ff27cd3257270b238cf719d8398\n""}, {'number': 5, 'created': '2015-06-29 18:10:07.000000000', 'files': ['taskflow/types/failure.py', 'taskflow/tests/unit/test_failure.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/1d736e0fcc42e4a1e24a54da6470e9be272d15f2', 'message': ""Allow regeneration of built-in matched python exceptions\n\nInstead of always re-raising a 'WrappedFailure' when we\nhave translated a failure into an dict and back again we\ncan attempt to safely regenerate the exception class and\na valid exception value from it instead (and only enable\nthis for exceptions that we explicitly match).\n\nThis allows for users to catch the native exception class\nwhen running an engine (and especially when running a worker\nor remote engine that does not run its tasks locally and\ntranslates its failures into dictionaries, and back again).\n\nChange-Id: Ie0e6bd5f3a9c1ff27cd3257270b238cf719d8398\n""}]",1,195817,1d736e0fcc42e4a1e24a54da6470e9be272d15f2,18,3,5,1297,,,0,"Allow regeneration of built-in matched python exceptions

Instead of always re-raising a 'WrappedFailure' when we
have translated a failure into an dict and back again we
can attempt to safely regenerate the exception class and
a valid exception value from it instead (and only enable
this for exceptions that we explicitly match).

This allows for users to catch the native exception class
when running an engine (and especially when running a worker
or remote engine that does not run its tasks locally and
translates its failures into dictionaries, and back again).

Change-Id: Ie0e6bd5f3a9c1ff27cd3257270b238cf719d8398
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/17/195817/1 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/types/failure.py'],1,888057b93f9713fa7a894dfdc048d04e9a2d7bb1,regenerate-basic-excps,"# Types of exceptions we can re-generate and there fully qualified # class structure (so that we can use that structure to verify if we are # capable of regenerating an exception in the first place). # # Should only include built-in exceptions (as we are not really able # to know about user exceptions and if they can or can not be regenerated # safely). # # NOTE(harlowja): this is different than 'oslo_messaging/_drivers/common.py' # in that it does **not** allow regenerating and/or dynamically creating # exceptions out of thin air (which seems hacky and/or unsafe). _REGENERATE_EXCEPTIONS = [ AttributeError, EnvironmentError, IndexError, IOError, KeyError, NameError, OSError, RuntimeError, TypeError, UnicodeError, ValueError, ] _REGENERATE_EXCEPTIONS = [ # Add on a function that can be used to regenerate it from a string # value of its prior self... (exc_cls, lambda exception_str: exc_cls(exception_str)) for exc_cls in _REGENERATE_EXCEPTIONS ] _REGENERATE_EXCEPTIONS = tuple([ # Now get the exception structure that we can later use to ensure # we know how to regenerate failures that are missing there exception # info (but that they do have there value and types they came from). (exc_cls, exc_regen, tuple(reflection.get_all_class_names(exc_cls, up_to=Exception))) for (exc_cls, exc_regen) in _REGENERATE_EXCEPTIONS ]) def _regenerate_exc_info(exc_type_names, exception_str): exc_cls = exc_regen = None for match in _REGENERATE_EXCEPTIONS: maybe_exc_cls, maybe_exc_regen, maybe_exc_type_names = match if exc_type_names == maybe_exc_type_names: exc_cls = maybe_exc_cls exc_regen = maybe_exc_regen break if exc_cls is not None and exc_regen is not None: # Sorry we can't regenerate a traceback currently... return (exc_cls, exc_regen(exception_str), None) return None if not exc_info: maybe_exc_info = _regenerate_exc_info(self._exc_type_names, self._exception_str) if maybe_exc_info: exc_info = maybe_exc_info self._exc_info = exc_info", self._exc_info = exc_info,60,1
openstack%2Foslo.utils~master~Ia5ada0d4a8cf4c0807212867c6d993b729063f6e,openstack/oslo.utils,master,Ia5ada0d4a8cf4c0807212867c6d993b729063f6e,Provide direct access to splits captured vs. returning a tuple,ABANDONED,2015-06-20 00:45:29.000000000,2018-03-22 00:57:14.000000000,,"[{'_account_id': 1297}, {'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6486}, {'_account_id': 9107}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-06-20 00:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/257ea2c58d65992e3bffd76eb895fb259db491ba', 'message': 'Provide access to number of splits captured\n\nOslo.concurrency has a lock timing func that can just use splits\nbut it needs to have easy access to the number of splits that\nhave been captured to do things differently if the number is\ndifferent; so add the ability to easily fetch how many splits\nhave been captured.\n\nChange-Id: Ia5ada0d4a8cf4c0807212867c6d993b729063f6e\n'}, {'number': 2, 'created': '2015-08-22 14:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/fa6a4267818a04f457de56ab8852f1b0ba2dc9d0', 'message': 'Provide direct access to splits captured\n\nOslo.concurrency has a lock timing func that can just use splits\nbut it needs to have easy access to the number of splits that\nhave been captured to do things differently if the number is\ndifferent; so add the ability to easily fetch how many splits\nhave been captured by just returning the underlying list (and marking\nthe docstring to denote it should only be used in a read-only\nfashion).\n\nChange-Id: Ia5ada0d4a8cf4c0807212867c6d993b729063f6e\n'}, {'number': 3, 'created': '2015-08-28 04:39:55.000000000', 'files': ['oslo_utils/timeutils.py', 'oslo_utils/tests/test_timeutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/ed22bd304369e0a1017ddcd0e734cc8bc4576a02', 'message': 'Provide direct access to splits captured vs. returning a tuple\n\nOslo.concurrency has a lock timing function that can just use splits\nbut it needs to have easy access to the number of splits that have\nbeen captured to do things differently if the number is\ndifferent; so add the ability to easily fetch how many splits\nhave been captured by just returning the underlying list (and updating\nthe docstring to denote it should only be used in a read-only\nfashion).\n\nThis is a api change, that alters how the splits property now returns\na list, instead of a previous tuple, this should be harmless, or that\nis the goal as the returned result is still recommended to be read-only\neven after this change.\n\nChange-Id: Ia5ada0d4a8cf4c0807212867c6d993b729063f6e\n'}]",4,193764,ed22bd304369e0a1017ddcd0e734cc8bc4576a02,24,7,3,1297,,,0,"Provide direct access to splits captured vs. returning a tuple

Oslo.concurrency has a lock timing function that can just use splits
but it needs to have easy access to the number of splits that have
been captured to do things differently if the number is
different; so add the ability to easily fetch how many splits
have been captured by just returning the underlying list (and updating
the docstring to denote it should only be used in a read-only
fashion).

This is a api change, that alters how the splits property now returns
a list, instead of a previous tuple, this should be harmless, or that
is the goal as the returned result is still recommended to be read-only
even after this change.

Change-Id: Ia5ada0d4a8cf4c0807212867c6d993b729063f6e
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/64/193764/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/timeutils.py', 'oslo_utils/tests/test_timeutils.py']",2,257ea2c58d65992e3bffd76eb895fb259db491ba,," self.assertEqual(1, watch.num_splits) def test_splits_reset(self): watch = timeutils.StopWatch() watch.start() watch.split() watch.split() watch.stop() self.assertEqual(2, watch.num_splits) watch.restart() self.assertEqual(0, watch.num_splits) self.assertEqual(2, watch.num_splits) self.assertEqual(0, watch.num_splits)"," self.assertEqual(1, len(watch.splits)) self.assertEqual(2, len(watch.splits)) self.assertEqual(0, len(watch.splits))",19,3
openstack%2Ftaskflow~master~Ib3d6e3acb7117cb73f11ea84b8a7ddf6032a9889,openstack/taskflow,master,Ib3d6e3acb7117cb73f11ea84b8a7ddf6032a9889,Allow destroying a specific flow detail of a given logbook (WIP),ABANDONED,2015-06-09 22:24:41.000000000,2018-03-22 00:56:58.000000000,,"[{'_account_id': 6486}, {'_account_id': 9648}]","[{'number': 1, 'created': '2015-06-09 22:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8e65f828aa53ad79cfd1c28e45ea50125fcc0d4e', 'message': 'Allow destroying a specific flow detail of a given logbook (WIP)\n\nIt is quite useful to be able to remove a flow detail from\na logbook once the flow associated with that object has been\nfinished; so support a basic api that allows for this removal\nto occur.\n\nChange-Id: Ib3d6e3acb7117cb73f11ea84b8a7ddf6032a9889\n'}, {'number': 2, 'created': '2015-06-10 01:12:55.000000000', 'files': ['taskflow/persistence/backends/impl_zookeeper.py', 'taskflow/persistence/backends/impl_memory.py', 'taskflow/persistence/path_based.py', 'taskflow/persistence/base.py', 'taskflow/persistence/backends/impl_dir.py', 'taskflow/persistence/backends/impl_sqlalchemy.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/7564c75b6dbb62b368f1f387ee2ccb60c32696b6', 'message': 'Allow destroying a specific flow detail of a given logbook (WIP)\n\nIt is quite useful to be able to remove a flow detail from\na logbook once the flow associated with that object has been\nfinished; so support a basic api that allows for this removal\nto occur.\n\nChange-Id: Ib3d6e3acb7117cb73f11ea84b8a7ddf6032a9889\n'}]",0,189963,7564c75b6dbb62b368f1f387ee2ccb60c32696b6,10,2,2,1297,,,0,"Allow destroying a specific flow detail of a given logbook (WIP)

It is quite useful to be able to remove a flow detail from
a logbook once the flow associated with that object has been
finished; so support a basic api that allows for this removal
to occur.

Change-Id: Ib3d6e3acb7117cb73f11ea84b8a7ddf6032a9889
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/63/189963/2 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/persistence/path_based.py', 'taskflow/persistence/base.py']",2,8e65f828aa53ad79cfd1c28e45ea50125fcc0d4e,delete-flow-detail," def destroy_flow_detail(self, book_uuid, flow_uuid): """"""Deletes a flow detail in the book matching the given uuid. This will also delete the atom details contained in the flow detail. """""" @abc.abstractmethod",,22,5
openstack%2Ftaskflow~master~I7850820e3d8fba39e68a3eb058abd820a7cdfa06,openstack/taskflow,master,I7850820e3d8fba39e68a3eb058abd820a7cdfa06,Add ability to cancel an engine via a cancel method (WIP),ABANDONED,2015-05-21 01:01:57.000000000,2018-03-22 00:56:46.000000000,,"[{'_account_id': 6486}, {'_account_id': 9648}]","[{'number': 1, 'created': '2015-05-21 01:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/54f0ae67d9335f0566a9de1e2d8bf9b4d0bb31c4', 'message': 'Start ability to cancel an engine via a cancel() method (WIP)\n\nChange-Id: I7850820e3d8fba39e68a3eb058abd820a7cdfa06\n'}, {'number': 2, 'created': '2015-05-21 16:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/7cf915959ff1d927c8499fb7eead9697af0627fb', 'message': 'Add ability to cancel an engine via a cancel method (WIP)\n\nChange-Id: I7850820e3d8fba39e68a3eb058abd820a7cdfa06\n'}, {'number': 3, 'created': '2015-08-12 00:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8036fb14eaff3763172d3a9c4139399eef95261c', 'message': 'Add ability to cancel an engine via a cancel method (WIP)\n\nChange-Id: I7850820e3d8fba39e68a3eb058abd820a7cdfa06\n'}, {'number': 4, 'created': '2015-08-12 00:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8957cf01d8641058f5e8e802b91f88968003d944', 'message': 'Add ability to cancel an engine via a cancel method (WIP)\n\nChange-Id: I7850820e3d8fba39e68a3eb058abd820a7cdfa06\n'}, {'number': 5, 'created': '2015-08-12 00:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/bfeb7fbcad7899aeccfacd9a9caac8af792c64b4', 'message': 'Add ability to cancel an engine via a cancel method (WIP)\n\nChange-Id: I7850820e3d8fba39e68a3eb058abd820a7cdfa06\n'}, {'number': 6, 'created': '2015-08-12 05:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2ac8ce5d42e30e91bedcc1ae4c86db029222070e', 'message': 'Add ability to cancel an engine via a cancel method (WIP)\n\nThis also at the same time cleans up the states.py transitions\nthat are ignored, adding explanations to why certain ones are\nignored.\n\nAnd it adds edge information in the flow state diagram, using\nreasons built into the flow state transitions set.\n\nChange-Id: I7850820e3d8fba39e68a3eb058abd820a7cdfa06\n'}, {'number': 7, 'created': '2015-08-12 08:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/4f0f40f875fd9e1a754998cffac77f862b44af1d', 'message': 'Add ability to cancel an engine via a cancel method (WIP)\n\nThis also at the same time cleans up the states.py transitions\nthat are ignored, adding explanations to why certain ones are\nignored.\n\nChange-Id: I7850820e3d8fba39e68a3eb058abd820a7cdfa06\n'}, {'number': 8, 'created': '2015-08-15 21:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/585b58a7f17398c570a37613b7bf171f5df3e28c', 'message': 'Add ability to cancel an engine via a cancel method (WIP)\n\nThis also at the same time cleans up the states.py transitions\nthat are ignored, adding explanations to why certain ones are\nignored.\n\nChange-Id: I7850820e3d8fba39e68a3eb058abd820a7cdfa06\n'}, {'number': 9, 'created': '2015-12-03 21:13:16.000000000', 'files': ['taskflow/engines/base.py', 'taskflow/engines/action_engine/builder.py', 'doc/source/img/job_states.svg', 'doc/source/img/task_states.svg', 'doc/source/img/engine_states.svg', 'doc/source/img/wbe_request_states.svg', 'taskflow/engines/action_engine/analyzer.py', 'taskflow/engines/action_engine/engine.py', 'tools/state_graph.py', 'doc/source/img/retry_states.svg', 'taskflow/tests/unit/test_engines.py', 'taskflow/states.py', 'doc/source/img/flow_states.svg', 'doc/source/states.rst', 'taskflow/engines/action_engine/completer.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/c08027fd2316fee18fa058c7aa093a745a1228d9', 'message': 'Add ability to cancel an engine via a cancel method (WIP)\n\nThis also at the same time cleans up the states.py transitions\nthat are ignored, adding explanations to why certain ones are\nignored.\n\nChange-Id: I7850820e3d8fba39e68a3eb058abd820a7cdfa06\n'}]",0,184663,c08027fd2316fee18fa058c7aa093a745a1228d9,23,2,9,1297,,,0,"Add ability to cancel an engine via a cancel method (WIP)

This also at the same time cleans up the states.py transitions
that are ignored, adding explanations to why certain ones are
ignored.

Change-Id: I7850820e3d8fba39e68a3eb058abd820a7cdfa06
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/63/184663/9 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/action_engine/engine.py', 'taskflow/states.py']",2,54f0ae67d9335f0566a9de1e2d8bf9b4d0bb31c4,cancel-engine,"CANCELLING = 'CANCELLING' (RUNNING, CANCELLING), # engine.cancel was called (SUSPENDED, RUNNING), # restart from being suspended (CANCELLING, SUCCESS), # all tasks finished while we were waiting (CANCELLING, FAILURE), # some tasks failed while we were waiting (CANCELLING, REVERTED), # cancel completed *or* all tasks were reverted while we were waiting (CANCELLING, RESUMING), # resuming from a previous cancel (RESUMING, SUSPENDED), # after flow resumed, it is transitioned into suspended"," (SUSPENDED, RUNNING), # restart from suspended (RESUMING, SUSPENDED), # after flow resumed, it is suspended",14,2
openstack%2Ftaskflow~master~I2bf6208c8450213d3f80b27e1353fb442a3c8d86,openstack/taskflow,master,I2bf6208c8450213d3f80b27e1353fb442a3c8d86,Use singledispatch functions instead of isinstance checks,ABANDONED,2015-05-07 23:20:51.000000000,2018-03-22 00:56:33.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}, {'_account_id': 9648}, {'_account_id': 9796}, {'_account_id': 10584}]","[{'number': 1, 'created': '2015-05-07 23:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/aab618032b0fe5588261d052ce22981753b0f34b', 'message': 'Use matcher utility functions instead of isinstance checks\n\nUsing a common shared matching function(s) allows for those\nfunction to be further optimized and moves the type checking\nand match result to be defined at __init__ or class creation\ntime instead of at runtime.\n\nAlso adds tests for the utility matching instance/subclass\nto handler/match result functions.\n\nChange-Id: I2bf6208c8450213d3f80b27e1353fb442a3c8d86\n'}, {'number': 2, 'created': '2015-06-01 23:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/069f0557c3fc7ab5e59984f098ea39044e253abb', 'message': 'Use matcher utility functions instead of isinstance checks\n\nUsing a common shared matching function(s) allows for those\nfunction to be further optimized and moves the type checking\nand match result to be defined at __init__ or class creation\ntime instead of at runtime.\n\nAlso adds tests for the utility matching instance/subclass\nto handler/match result functions.\n\nChange-Id: I2bf6208c8450213d3f80b27e1353fb442a3c8d86\n'}, {'number': 3, 'created': '2015-07-21 21:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/33c2f8a892d523c6d3e12eada1ce5f842c2959b9', 'message': 'Use singledispatch functions instead of isinstance checks\n\nUsing the singledispatch matching function(s) allows for those\nfunction to be further optimized and moves the type checking\ninto the singledispatch routine instead of in the class.\n\nDepends-On: I3c8ff515c29d8156ad114ba6dfb36bcfc68689e0\n\nChange-Id: I2bf6208c8450213d3f80b27e1353fb442a3c8d86\n'}, {'number': 4, 'created': '2015-07-21 22:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/5fb32af8e3be63c430bcc0c5892545fdc6336186', 'message': 'Use singledispatch functions instead of isinstance checks\n\nUsing the singledispatch matching function(s) allows for those\nfunction to be further optimized and moves the type checking\ninto the singledispatch routine instead of in the class.\n\nDepends-On: I3c8ff515c29d8156ad114ba6dfb36bcfc68689e0\n\nChange-Id: I2bf6208c8450213d3f80b27e1353fb442a3c8d86\n'}, {'number': 5, 'created': '2015-07-22 15:58:06.000000000', 'files': ['requirements.txt', 'taskflow/persistence/path_based.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/1ab70461098de34a3bc69b3d55738ad1f9b3944b', 'message': 'Use singledispatch functions instead of isinstance checks\n\nUsing the singledispatch matching function(s) allows for those\nfunction to be further optimized and moves the type checking\ninto the singledispatch routine instead of in the class.\n\nDepends-On: Idb046b0e4e23af49c947a80cf6f77fef3a9ec0c8\n\nDepends-On: I3c8ff515c29d8156ad114ba6dfb36bcfc68689e0\n\nChange-Id: I2bf6208c8450213d3f80b27e1353fb442a3c8d86\n'}]",0,181192,1ab70461098de34a3bc69b3d55738ad1f9b3944b,23,5,5,1297,,,0,"Use singledispatch functions instead of isinstance checks

Using the singledispatch matching function(s) allows for those
function to be further optimized and moves the type checking
into the singledispatch routine instead of in the class.

Depends-On: Idb046b0e4e23af49c947a80cf6f77fef3a9ec0c8

Depends-On: I3c8ff515c29d8156ad114ba6dfb36bcfc68689e0

Change-Id: I2bf6208c8450213d3f80b27e1353fb442a3c8d86
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/92/181192/2 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/persistence/path_based.py', 'taskflow/tests/unit/test_utils.py', 'taskflow/utils/misc.py']",3,aab618032b0fe5588261d052ce22981753b0f34b,,"def match_class(obj_cls, matchers): """"""Matches a given class using the given matchers list/iterable. NOTE(harlowja): each element of the provided list/iterable must be tuple of (valid types, result). Returns the result (the second element of the provided tuple) if a subclass match occurs, otherwise none if no matches are found. """""" for (match_types, match_result) in matchers: if issubclass(obj_cls, match_types): return match_result else: return None ",,130,27
openstack%2Ftaskflow~master~I3c6b15d9a6a9e0ff37194e45f903e1e225718e26,openstack/taskflow,master,I3c6b15d9a6a9e0ff37194e45f903e1e225718e26,Allow jobs to be posted in DELAYED state,ABANDONED,2015-04-15 20:17:25.000000000,2018-03-22 00:56:24.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}, {'_account_id': 9648}]","[{'number': 1, 'created': '2015-04-15 20:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/5b745e9df2b11963f74b8c23c194a9ec09db5e39', 'message': 'Allow jobs to be posted in incomplete state\n\nChange-Id: I3c6b15d9a6a9e0ff37194e45f903e1e225718e26\n'}, {'number': 2, 'created': '2015-04-15 22:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/37ded2de93d3a1e453fbf38acd14b5dae8306cac', 'message': 'Allow jobs to be posted in DELAYED state\n\nChange-Id: I3c6b15d9a6a9e0ff37194e45f903e1e225718e26\n'}, {'number': 3, 'created': '2015-04-15 22:11:52.000000000', 'files': ['taskflow/jobs/base.py', 'taskflow/jobs/backends/impl_zookeeper.py', 'taskflow/states.py', 'taskflow/conductors/backends/impl_blocking.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/bb271b8a4b92ae65ac16edf1bebaff7c8e02bcd3', 'message': 'Allow jobs to be posted in DELAYED state\n\nChange-Id: I3c6b15d9a6a9e0ff37194e45f903e1e225718e26\n'}]",0,174082,bb271b8a4b92ae65ac16edf1bebaff7c8e02bcd3,12,3,3,1297,,,0,"Allow jobs to be posted in DELAYED state

Change-Id: I3c6b15d9a6a9e0ff37194e45f903e1e225718e26
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/82/174082/2 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/jobs/base.py', 'taskflow/jobs/backends/impl_zookeeper.py', 'taskflow/states.py', 'taskflow/conductors/backends/impl_blocking.py']",4,5b745e9df2b11963f74b8c23c194a9ec09db5e39,,from taskflow import states if job.state == states.INCOMPLETE: continue,,11,2
openstack%2Ftaskflow~master~I047244a85546b394945cbb06db3ee43509614577,openstack/taskflow,master,I047244a85546b394945cbb06db3ee43509614577,Avoid the writing to special task detail,ABANDONED,2015-03-18 23:13:08.000000000,2018-03-22 00:56:17.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}, {'_account_id': 9608}, {'_account_id': 9648}, {'_account_id': 11024}]","[{'number': 1, 'created': '2015-03-18 23:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/fb553e938a057f24b1ceccb98fa7ca2481c862b6', 'message': ""Avoid the writing to special task detail\n\nInstead of writing flow symbols that are global to\nthe flow to a special task detail object, move to\nwriting that same data into the flow detail metadata\nkey with name '_TaskFlow_INJECTOR'. This also activates\na routine that transfers data from existing atom details\non storage creation to flow detail metadata on __init__\nso that the existing saved values still exist (until a\npoint in the future when they will not).\n\nChange-Id: I047244a85546b394945cbb06db3ee43509614577\n""}, {'number': 2, 'created': '2015-03-19 03:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8a03d62cae5318661e0e7be487596c33bcceb06b', 'message': ""Avoid the writing to special task detail\n\nInstead of writing flow symbols that are global to\nthe flow to a special task detail object, move to\nwriting that same data into the flow detail metadata\nkey with name '_TaskFlow_INJECTOR'.\n\nThis also activates/creates a routine that transfers\ndata from that existing atom detail on storage creation\nto flow detail metadata on __init__ so that the existing\nsaved values still exist (until a point in the future\nwhen we turn off this migration helper).\n\nChange-Id: I047244a85546b394945cbb06db3ee43509614577\n""}, {'number': 3, 'created': '2015-05-05 00:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/d4b32db60e1e8f6aa243d83c99bf7408858d1434', 'message': ""Avoid the writing to special task detail\n\nInstead of writing flow symbols that are global to\nthe flow to a special task detail object, move to\nwriting that same data into the flow detail metadata\nkey with name '_TaskFlow_INJECTOR'.\n\nThis also activates/creates a routine that transfers\ndata from that existing atom detail on storage creation\nto flow detail metadata on __init__ so that the existing\nsaved values still exist (until a point in the future\nwhen we turn off this migration helper).\n\nChange-Id: I047244a85546b394945cbb06db3ee43509614577\n""}, {'number': 4, 'created': '2015-07-10 22:42:44.000000000', 'files': ['taskflow/storage.py', 'taskflow/tests/unit/test_storage.py', 'taskflow/tests/unit/test_suspend.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/19144e4817ec33752808f5917eb2eb38174c34df', 'message': ""Avoid the writing to special task detail\n\nInstead of writing flow symbols that are global to\nthe flow to a special task detail object, move to\nwriting that same data into the flow detail metadata\nkey with name '_TaskFlow_INJECTOR'.\n\nThis also activates/creates a routine that transfers\ndata from that existing atom detail on storage creation\nto flow detail metadata on __init__ so that the existing\nsaved values still exist (until a point in the future\nwhen we turn off this migration helper).\n\nChange-Id: I047244a85546b394945cbb06db3ee43509614577\n""}]",3,165645,19144e4817ec33752808f5917eb2eb38174c34df,17,5,4,1297,,,0,"Avoid the writing to special task detail

Instead of writing flow symbols that are global to
the flow to a special task detail object, move to
writing that same data into the flow detail metadata
key with name '_TaskFlow_INJECTOR'.

This also activates/creates a routine that transfers
data from that existing atom detail on storage creation
to flow detail metadata on __init__ so that the existing
saved values still exist (until a point in the future
when we turn off this migration helper).

Change-Id: I047244a85546b394945cbb06db3ee43509614577
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/45/165645/2 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/storage.py', 'taskflow/tests/unit/test_storage.py', 'taskflow/tests/unit/test_suspend.py']",3,fb553e938a057f24b1ceccb98fa7ca2481c862b6,,," def test_storage_is_rechecked(self): flow = lf.Flow('linear').add( utils.ProgressingTask('b', requires=['foo']), utils.ProgressingTask('c') ) engine = self._make_engine(flow) engine.storage.inject({'foo': 'bar'}) with SuspendingListener(engine, task_name='b', task_state=states.SUCCESS): engine.run() self.assertEqual(engine.storage.get_flow_state(), states.SUSPENDED) # uninject everything: engine.storage.save(engine.storage.injector_name, {}, states.SUCCESS) self.assertRaises(exc.MissingDependencies, engine.run) ",48,38
openstack%2Ftaskflow~master~Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f,openstack/taskflow,master,Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f,Add ability to use tooz to find and advertise workers,ABANDONED,2015-01-30 01:37:34.000000000,2018-03-22 00:56:10.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}]","[{'number': 1, 'created': '2015-01-30 01:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ff48f6513a62e90613212f75e0ff4c2fb7cf812d', 'message': 'WIP for having the ability to have tooz find workers+topics\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 2, 'created': '2015-01-30 01:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/4dfe3663386186fb6d2b6662aaddf3139cf12a2c', 'message': 'WIP for having the ability to have tooz find workers+topics\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 3, 'created': '2015-01-31 03:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b1b833c91280eb96f7cf8882d50bd13a5941ebc2', 'message': 'WIP for having the ability to have tooz find workers+topics\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 4, 'created': '2015-01-31 04:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0b9ae4c58722b4550add608875227b0181564aa7', 'message': 'WIP for having the ability to have tooz find workers+topics\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 5, 'created': '2015-01-31 04:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/3386f38552083acd9e5591ede471eda921574708', 'message': 'WIP for having the ability to have tooz find workers+topics\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 6, 'created': '2015-01-31 04:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/7ebd91739edb88d7331aeee74936f3377e268a52', 'message': 'WIP for having the ability to have tooz find workers+topics\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 7, 'created': '2015-02-05 02:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8d69514cf2761210a09026dc1f6286abe86faf2a', 'message': 'WIP for having the ability to have tooz find workers+topics\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 8, 'created': '2015-02-05 04:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/c01a1b2d49c3341de894aa558208ae08d7f18da2', 'message': 'WIP for having the ability to have tooz find workers+topics\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 9, 'created': '2015-02-18 02:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/c1489e0aac31428f9bda1ca3cdcb6e520786a780', 'message': 'WIP for having the ability to have tooz find workers+topics\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 10, 'created': '2015-02-19 20:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ac15f4782431b3f32ded2fed3d0485203feb9621', 'message': 'WIP for having the ability to have tooz find workers+topics\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 11, 'created': '2015-02-19 23:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/03b0fef39d91d1620983dbbbb927c305883d6672', 'message': 'WIP for having the ability to have tooz find/advertise workers\n\nInstead of having a not very optimial worker capability discovery\nprocess that involves periodic message queue pings/pongs we can\nuse the ability of the tooz library to maintain groups and information\nabout members that are in each group to expose that same information\nin a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 12, 'created': '2015-02-20 02:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/16163bfee6579e60f9c2d19d815953a613a37e1e', 'message': 'Optionally use tooz and its group concepts to find/advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nDepends-On: Ibc745927eccac050992227410cca393d956f8c44\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 13, 'created': '2015-02-20 04:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0d92b5f580d804472cf679a548aadf4607bdb134', 'message': 'Experimentally & optionally use tooz to find/advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nDepends-On: Ibc745927eccac050992227410cca393d956f8c44\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 14, 'created': '2015-02-20 19:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0cd41914b4680217601f3e40a69cf2082bfbbc03', 'message': 'Experimentally & optionally use tooz to find/advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nDepends-On: Ibc745927eccac050992227410cca393d956f8c44\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 15, 'created': '2015-02-20 19:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/183874a01cb35a6396a78e0820406c4aabb7f0cf', 'message': 'Experimentally & optionally use tooz to find/advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nDepends-On: Ibc745927eccac050992227410cca393d956f8c44\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 16, 'created': '2015-02-21 00:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2276e95c911a6da362a75fba8c2f78daa8bd6317', 'message': 'Experimentally & optionally use tooz to find/advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nDepends-On: Ibc745927eccac050992227410cca393d956f8c44\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 17, 'created': '2015-02-21 01:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/86e1fb6a4ca3052defda4adc5cf360ae634e3c1f', 'message': 'Experimentally & optionally use tooz to find/advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nDepends-On: Ibc745927eccac050992227410cca393d956f8c44\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 18, 'created': '2015-02-21 01:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/c82effc9a595acb621190dec3b2d4dfd2a53dce8', 'message': 'Experimentally & optionally use tooz to find/advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 19, 'created': '2015-02-21 04:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2adca8e968ce461559edf32a7807b1f440fd9f88', 'message': 'Experimentally & optionally use tooz to find/advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 20, 'created': '2015-02-21 04:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/96bf1840752818be5617f5b7060419ed5458f338', 'message': 'Experimentally & optionally use tooz to find/advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 21, 'created': '2015-02-21 07:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/68c2d7ed5ff256759db0ea77438cc9e70861f58f', 'message': 'Experimentally & optionally use tooz to find/advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 22, 'created': '2015-02-21 16:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ab1f41afd38cb75d6c9f786776ea87bfdbbadecd', 'message': 'Experimentally & optionally use tooz to find/advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 23, 'created': '2015-02-24 00:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/6e35819507b632720c40ff2d6b9ce0dfed3f0304', 'message': 'Experimentally & optionally use tooz to find/advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 24, 'created': '2015-02-24 00:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/dcdf5e3a8e27a2c274d611c8dd221e963420c0f1', 'message': 'Experimentally & optionally use tooz to find/advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 25, 'created': '2015-02-24 20:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/382b52c7a1affff15e7511d52e7e236eaff33cbb', 'message': 'Experimentally & optionally use tooz to find/advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 26, 'created': '2015-03-03 21:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/c6510bed5b469d4ad98bd3ee2f5b860ee6b77489', 'message': 'Use tooz to find/advertise workers (WIP, need to drop 2.6)\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 27, 'created': '2015-03-04 00:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b7627789522d058c91ec46803163e39ec4ab958c', 'message': 'Use tooz to find/advertise workers (WIP, need to drop 2.6)\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 28, 'created': '2015-03-04 02:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b2c905d19efd36ab1575cf703ea2bb24fba3b3db', 'message': 'Use tooz to find/advertise workers (WIP, need to drop 2.6)\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 29, 'created': '2015-03-04 02:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/aaf33960e7f8473d714a853e3ba9c2468df78274', 'message': 'Use tooz to find/advertise workers (WIP, need to drop 2.6)\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 30, 'created': '2015-03-04 02:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/072c6d93cd7b1ca50d8804597d26dcb20cb72db6', 'message': 'Use tooz to find/advertise workers (WIP, need to drop 2.6)\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 31, 'created': '2015-03-04 02:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/36e716088d5e74c19008264caa61ca8ded461f1f', 'message': 'Use tooz to find/advertise workers (WIP, need to drop 2.6)\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 32, 'created': '2015-03-04 05:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/d8fe00b365177c2d280f65dcf2da0a338f466b80', 'message': 'Use tooz to find/advertise workers (WIP, need to drop 2.6)\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 33, 'created': '2015-03-04 16:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/14b40836e230347b746c27b56b9407266a83086e', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 34, 'created': '2015-03-04 16:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b37467ce2f19f76b342b04327194f790622ad257', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 35, 'created': '2015-03-05 03:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/95b93165aafc349b5d3bcb00937ac68daaa60856', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 36, 'created': '2015-03-05 06:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/fdbd44c130b1cf745dd4ea31b24a1beb0ff4b647', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 37, 'created': '2015-03-05 23:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/9a1b43bc2d1e4ab583383183653cb0de45646a81', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 38, 'created': '2015-03-13 21:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/bd12fdc0d10d38a9ded161ace19fa13d6e156099', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 39, 'created': '2015-03-23 22:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0926cd4e6d422dbbf191852b1ce6f8f54b1f5372', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 40, 'created': '2015-04-08 21:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/857ffb8347ca1400b21272aa7a026cd14cd9d649', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 41, 'created': '2015-04-17 21:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/5055897f086c27a0e2f2774b83856a9aa2d20e2e', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 42, 'created': '2015-04-23 18:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/5c01076530d6a1230b5cfbe664494db17806227b', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 43, 'created': '2015-05-04 20:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/334b94bfd60106cafaa7558c69040a7f1fd28f8a', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 44, 'created': '2015-06-15 22:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2da2db619059dd072db96c07aa43145d82aec89e', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 45, 'created': '2015-06-22 18:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f24ad6c0260f267f31dc94da97341c6e58f97ae2', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 46, 'created': '2015-07-13 22:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/1565a019f8095d653295e5c2a9532e050bdcdb80', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 47, 'created': '2015-07-14 00:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/1ef5d46a862c689a9b69984f2386987af8bcbc18', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 48, 'created': '2015-10-22 21:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/5e299a955b734e880d1aa33f96e1ae0bb93cb927', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 49, 'created': '2015-10-22 22:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/d22cf8e9ab82eed95638248be02ac055de461c4b', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 50, 'created': '2015-10-25 09:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/daec3c6d460b227aa8aa6e13e50060221a87d852', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 51, 'created': '2015-12-01 00:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b5c38d0f04395f2a906956189b2d19ba08a02631', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 52, 'created': '2015-12-01 19:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/634ccf1e965085f2629f35ba76bd672db0ea0c4c', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}, {'number': 53, 'created': '2015-12-01 19:18:28.000000000', 'files': ['doc/source/workers.rst', 'taskflow/tests/unit/test_utils_iter_utils.py', 'taskflow/tests/unit/worker_based/test_pipeline.py', 'taskflow/engines/worker_based/types.py', 'taskflow/examples/tooz_wbe_example.py', 'taskflow/tests/unit/worker_based/test_executor.py', 'taskflow/tests/unit/worker_based/test_creation.py', 'taskflow/engines/worker_based/engine.py', 'requirements.txt', 'taskflow/engines/worker_based/executor.py', 'taskflow/utils/threading_utils.py', 'taskflow/tests/unit/test_utils.py', 'taskflow/tests/unit/worker_based/test_worker.py', 'taskflow/utils/iter_utils.py', 'taskflow/utils/misc.py', 'taskflow/engines/worker_based/protocol.py', 'taskflow/engines/worker_based/worker.py', 'taskflow/tests/unit/worker_based/test_types.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/db928b627e4efff40f25f766ad4a530a5131b45d', 'message': 'Add ability to use tooz to find and advertise workers\n\nInstead of having a not very optimal (but good for a default) worker\ncapability discovery process that involves periodic message queue\npings/pongs we can use the ability of the tooz library to maintain groups\nand information about members that are in each group to expose (and find)\nthat same information in a more decoupled manner.\n\nPart of blueprint wbe-worker-info\n\nPart of blueprint use-tooz-for-membership\n\nChange-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f\n'}]",6,151495,db928b627e4efff40f25f766ad4a530a5131b45d,120,2,53,1297,,,0,"Add ability to use tooz to find and advertise workers

Instead of having a not very optimal (but good for a default) worker
capability discovery process that involves periodic message queue
pings/pongs we can use the ability of the tooz library to maintain groups
and information about members that are in each group to expose (and find)
that same information in a more decoupled manner.

Part of blueprint wbe-worker-info

Part of blueprint use-tooz-for-membership

Change-Id: Icb43c345024ebd7845b8b02a9e0aeb3255bf2f1f
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/95/151495/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/worker_based/executor.py', 'taskflow/engines/worker_based/types.py']",2,ff48f6513a62e90613212f75e0ff4c2fb7cf812d,bp/wbe-worker-info,"from tooz import coordinationclass ProxyWorkerFinder(object): def __init__(self, uuid, proxy, topics): # Must be set before usage... # TODO(harlowja): make this better... self.workers = None self.on_worker = None worker = self.workers.add(topic, tasks) if self.on_worker is not None: self.on_worker(worker) class ToozWorkerFinder(object): """"""Requests and receives responses about workers topic+task details."""""" # TODO(harlowja): make this more configurable... REFRESH_PERIOD = 2.5 def __init__(self, coordinator, tasks): self._coordinator = coordinator self._tasks = list(tasks) self._watching_groups = set() # Must be set before usage... # TODO(harlowja): make this better... self.workers = None self.on_worker = None @classmethod def create(cls, backend_url, member_id, tasks): coordinator = coordination.get_coordinator(backend_url, member_id) return cls(coordinator, tasks) @staticmethod def _get_group_for(task): if not isinstance(task, six.string_types): task = reflection.get_class_name(task) return task def _bootstrap(self): # Ensure that all the tasks we want to know about are being # actively monitored for workers that can perform them.... for task in self._tasks: group = self._get_group_for(task) if group in self._watching_groups: continue try: self._coordinator.watch_join_group(group, self._on_join) except coordination.GroupNotCreated: LOG.debug(""Group '%s' does not yet exist"", group) else: self._watching_groups.add(group) try: self._coordinator.watch_leave_group(group, self._on_leave) except coordination.GroupNotCreated: self._coordinator.unwatch_join_group(group, self._on_join) self._watching_groups.remove(group) LOG.debug(""Group '%s' does not yet exist"", group) def start(self): self._coordinator.start() self._watching_groups.clear() self._bootstrap() def stop(self): for group in self._watching_groups: self._coordinator.unwatch_join_group(group, self._on_join) self._coordinator.unwatch_leave_group(group, self._on_leave) self._watching_groups.clear() self._coordinator.stop() def _on_join(self, event): print(""Got notified that %s now exists in %s"" % (event.member_id, event.group_id)) def _on_leave(self, event): print(""Got notified that %s has left %s"" % (event.member_id, event.group_id)) @periodic(REFRESH_PERIOD) def refresh(self): self._coordinator.heartbeat() self._bootstrap() if self._watching_groups: self._coordinator.run_watchers()","class TopicRequestor(object): def __init__(self, uuid, proxy, workers, topics, on_worker=None): self._workers = workers self._on_worker = on_worker worker = self._workers.add(topic, tasks) if self._on_worker is not None: self._on_worker(worker)",99,11
openstack%2Ftaskflow~master~Ibbeae69be2c8ffe3a54bf9e37ff80c0196d3e8e7,openstack/taskflow,master,Ibbeae69be2c8ffe3a54bf9e37ff80c0196d3e8e7,Add *basic* scope visibility constraints,ABANDONED,2014-11-26 00:20:38.000000000,2018-03-22 00:56:02.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}, {'_account_id': 9648}, {'_account_id': 11024}]","[{'number': 1, 'created': '2014-11-26 00:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/097330e7573845491828c666879831d6be892f32', 'message': 'Add *basic* scope visibility constraints (WIP)\n\nAllow for a flow to mandate the visibility of its\ncontents (in terms of the flows internals providing\noutputs to the inputs of further atoms that may need\nthose named inputs).\n\nThe currently implemented types are:\n\n- SCOPE_VISIBLE (the default, allows contains atoms\n  provided results to be visible to successors).\n- SCOPE_INVISIBLE (does not allow contained atoms\n  provided results to be visible to successors).\n\nPart of blueprint taskflow-improved-scoping\n\nChange-Id: Ibbeae69be2c8ffe3a54bf9e37ff80c0196d3e8e7\n'}, {'number': 2, 'created': '2014-11-26 02:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/5e124aa460c94509a46a0b05698d85787a61252f', 'message': 'Add *basic* scope visibility constraints (WIP)\n\nAllow for a flow to mandate the visibility of its\ncontents (in terms of the flows internals providing\noutputs to the inputs of further atoms that may need\nthose named inputs).\n\nThe currently implemented types are:\n\n- SCOPE_VISIBLE (the default, allows contains atoms\n  provided results to be visible to successors).\n- SCOPE_INVISIBLE (does not allow contained atoms\n  provided results to be visible to successors).\n\nPart of blueprint taskflow-improved-scoping\n\nChange-Id: Ibbeae69be2c8ffe3a54bf9e37ff80c0196d3e8e7\n'}, {'number': 3, 'created': '2014-11-26 06:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/2fe28b690d1699ac19800798db7c7bbcce896b0b', 'message': 'Add *basic* scope visibility constraints\n\nAllow for a flow to mandate the visibility of its\ncontents (in terms of the flows internals providing\noutputs to the inputs of further atoms that may look\nfor/use those named inputs).\n\nThe currently implemented types are:\n\n- SCOPE_VISIBLE (the *default*, allows contained\n  atoms/flows provided results to be visible to\n  successors).\n- SCOPE_INVISIBLE (does not allow contained\n  atoms/flows provided results to be visible to\n  successors).\n\nPart of blueprint taskflow-improved-scoping\n\nChange-Id: Ibbeae69be2c8ffe3a54bf9e37ff80c0196d3e8e7\n'}, {'number': 4, 'created': '2014-11-26 18:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8c32f91c48726d380710e11a671581f8ccc7607b', 'message': 'Add *basic* scope visibility constraints\n\nAllow for a flow to mandate the visibility of its\ncontents (in terms of the flows internals providing\noutputs to the inputs of further atoms that may look\nfor/use those named inputs).\n\nThe currently implemented types are:\n\n- SCOPE_VISIBLE (the *default*, allows contained\n  atoms/flows provided results to be visible to\n  successors).\n- SCOPE_HIDDEN (does not allow contained\n  atoms/flows provided results to be visible to\n  successors).\n\nPart of blueprint taskflow-improved-scoping\n\nChange-Id: Ibbeae69be2c8ffe3a54bf9e37ff80c0196d3e8e7\n'}, {'number': 5, 'created': '2014-11-26 22:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/6da65c4db9fdc3178bd9a1108d1c397e75c5fded', 'message': 'Add *basic* scope visibility constraints\n\nAllow for a flow to mandate the visibility of its\ncontents (in terms of the flows internals providing\noutputs to the inputs of further atoms that may look\nfor/use those named inputs).\n\nThe currently implemented types are:\n\n- SCOPE_VISIBLE (the *default*, allows contained\n  atoms/flows provided results to be visible to\n  successors).\n- SCOPE_HIDDEN (does not allow contained\n  atoms/flows provided results to be visible to\n  successors).\n\nPart of blueprint taskflow-improved-scoping\n\nChange-Id: Ibbeae69be2c8ffe3a54bf9e37ff80c0196d3e8e7\n'}, {'number': 6, 'created': '2014-12-02 02:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/e72347f509b07cf47000f11627d4784d2d989203', 'message': 'Add *basic* scope visibility constraints\n\nAllow for a flow to mandate the visibility of its\ncontents (in terms of the flows internals providing\noutputs to the inputs of further atoms that may look\nfor/use those named inputs).\n\nThe currently implemented types are:\n\n- SCOPE_VISIBLE (the *default*, allows contained\n  atoms/flows provided results to be visible to\n  successors).\n- SCOPE_HIDDEN (does not allow contained\n  atoms/flows provided results to be visible to\n  successors).\n\nPart of blueprint taskflow-improved-scoping\n\nChange-Id: Ibbeae69be2c8ffe3a54bf9e37ff80c0196d3e8e7\n'}, {'number': 7, 'created': '2014-12-03 00:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/d83f2f53495249d1fa404bb01fcf111ccffb8b76', 'message': 'Add *basic* scope visibility constraints\n\nAllow for a flow to mandate the visibility of its\ncontents (in terms of the flows internals providing\noutputs to the inputs of further atoms that may look\nfor/use those named inputs).\n\nThe currently implemented types are:\n\n- SCOPE_VISIBLE (the *default*, allows contained\n  atoms/flows provided results to be visible to\n  successors).\n- SCOPE_HIDDEN (does not allow contained\n  atoms/flows provided results to be visible to\n  successors).\n\nPart of blueprint taskflow-improved-scoping\n\nChange-Id: Ibbeae69be2c8ffe3a54bf9e37ff80c0196d3e8e7\n'}, {'number': 8, 'created': '2014-12-09 05:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/46939460192411df6696a3ca21fae8f21b9817a3', 'message': 'Add *basic* scope visibility constraints\n\nAllow for a flow to mandate the visibility of its\ncontents (in terms of the flows internals providing\noutputs to the inputs of further atoms that may look\nfor/use those named inputs).\n\nThe currently implemented types are:\n\n- SCOPE_VISIBLE (the *default*, allows contained\n  atoms/flows provided results to be visible to\n  successors).\n- SCOPE_HIDDEN (does not allow contained\n  atoms/flows provided results to be visible to\n  successors).\n\nPart of blueprint taskflow-improved-scoping\n\nChange-Id: Ibbeae69be2c8ffe3a54bf9e37ff80c0196d3e8e7\n'}, {'number': 9, 'created': '2014-12-20 03:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/4c19a4f37ebb16facdbf46d28edb17234455816b', 'message': 'Add *basic* scope visibility constraints\n\nAllow for a flow to mandate the visibility of its\ncontents (in terms of the flows internals providing\noutputs to the inputs of further atoms that may look\nfor/use those named inputs).\n\nThe currently implemented types are:\n\n- SCOPE_VISIBLE (the *default*, allows contained\n  atoms/flows provided results to be visible to\n  successors).\n- SCOPE_HIDDEN (does not allow contained\n  atoms/flows provided results to be visible to\n  successors).\n\nPart of blueprint taskflow-improved-scoping\n\nChange-Id: Ibbeae69be2c8ffe3a54bf9e37ff80c0196d3e8e7\n'}, {'number': 10, 'created': '2015-01-02 18:35:07.000000000', 'files': ['taskflow/flow.py', 'taskflow/patterns/linear_flow.py', 'taskflow/tests/unit/patterns/test_graph_flow.py', 'taskflow/patterns/unordered_flow.py', 'taskflow/tests/unit/action_engine/test_scoping.py', 'taskflow/tests/unit/patterns/test_linear_flow.py', 'taskflow/engines/action_engine/scopes.py', 'taskflow/tests/unit/patterns/test_unordered_flow.py', 'taskflow/patterns/graph_flow.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/912132e627aa45a209e5c82eeb60b3d5b65d3dc5', 'message': 'Add *basic* scope visibility constraints\n\nAllow for a flow to mandate the visibility of its\ncontents (in terms of the flows internals providing\noutputs to the inputs of further atoms that may look\nfor/use those named inputs).\n\nThe currently implemented types are:\n\n- SCOPE_VISIBLE (the *default*, allows contained\n  atoms/flows provided results to be visible to\n  successors).\n- SCOPE_HIDDEN (does not allow contained\n  atoms/flows provided results to be visible to\n  successors).\n\nPart of blueprint taskflow-improved-scoping\n\nChange-Id: Ibbeae69be2c8ffe3a54bf9e37ff80c0196d3e8e7\n'}]",2,137245,912132e627aa45a209e5c82eeb60b3d5b65d3dc5,32,4,10,1297,,,0,"Add *basic* scope visibility constraints

Allow for a flow to mandate the visibility of its
contents (in terms of the flows internals providing
outputs to the inputs of further atoms that may look
for/use those named inputs).

The currently implemented types are:

- SCOPE_VISIBLE (the *default*, allows contained
  atoms/flows provided results to be visible to
  successors).
- SCOPE_HIDDEN (does not allow contained
  atoms/flows provided results to be visible to
  successors).

Part of blueprint taskflow-improved-scoping

Change-Id: Ibbeae69be2c8ffe3a54bf9e37ff80c0196d3e8e7
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/45/137245/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/flow.py', 'taskflow/patterns/linear_flow.py', 'taskflow/patterns/unordered_flow.py', 'taskflow/engines/action_engine/scopes.py', 'taskflow/patterns/graph_flow.py']",5,097330e7573845491828c666879831d6be892f32,bp/taskflow-improved-scoping," def __init__(self, name, retry=None, scoping=flow.SCOPE_VISIBLE): super(Flow, self).__init__(name=name, retry=retry, scoping=scoping)"," def __init__(self, name, retry=None): super(Flow, self).__init__(name, retry)",24,8
openstack%2Ftaskflow~master~I2911be0697bbbe8fbafa1eafe99bdee5fcba417d,openstack/taskflow,master,I2911be0697bbbe8fbafa1eafe99bdee5fcba417d,Allow for atoms to fail and execution to continue,ABANDONED,2014-11-25 03:12:46.000000000,2018-03-22 00:55:47.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}, {'_account_id': 9648}, {'_account_id': 11024}]","[{'number': 1, 'created': '2014-11-25 03:12:46.000000000', 'files': ['taskflow/retry.py', 'taskflow/engines/action_engine/runner.py', 'taskflow/engines/action_engine/completer.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/dc8deb0284fa6835ef70b2c599230cfcfea78577', 'message': 'Allow for atoms to fail and execution to continue\n\nMake it possible that a retry controller can inform the\nruntime to just retain the failure but continue to execute\nany other capable atoms. This allows users to provide this\nand handle the failures post-runtime if they so choose to\ndo so.\n\nChange-Id: I2911be0697bbbe8fbafa1eafe99bdee5fcba417d\n'}]",1,136952,dc8deb0284fa6835ef70b2c599230cfcfea78577,9,4,1,1297,,,0,"Allow for atoms to fail and execution to continue

Make it possible that a retry controller can inform the
runtime to just retain the failure but continue to execute
any other capable atoms. This allows users to provide this
and handle the failures post-runtime if they so choose to
do so.

Change-Id: I2911be0697bbbe8fbafa1eafe99bdee5fcba417d
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/52/136952/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/retry.py', 'taskflow/engines/action_engine/runner.py', 'taskflow/engines/action_engine/completer.py']",3,dc8deb0284fa6835ef70b2c599230cfcfea78577,,"# When a failure happens, these constants are used by the runner to # decide what to do with that failure and how to interpret its existence. NO_RETAIN = 0 RETAIN_STOP = 1 RETAIN_CONTINUE = 2 retain_failure = self._process_atom_failure(node, result) else: retain_failure = RETAIN_STOP return (True, retain_failure) return (False, NO_RETAIN) return NO_RETAIN return self._process_atom_failure(retry, failure) elif action == retry_atom.REVERT_ALL: # Prepare all flow for revert. return NO_RETAIN elif action == retry_atom.NOOP: # Retain failure, but continue working on other atoms... return RETAIN_CONTINUE return NO_RETAIN"," self._process_atom_failure(node, result) else: return True return False self._process_atom_failure(retry, failure) elif action == retry_atom.REVERT_ALL: # Prepare all flow for revert",51,12
openstack%2Ftaskflow~master~I157a3722dac60a6117684b622c12f2d3335c9731,openstack/taskflow,master,I157a3722dac60a6117684b622c12f2d3335c9731,Allow nested flows to be unnamed/anonymous,ABANDONED,2014-11-20 23:04:31.000000000,2018-03-22 00:55:39.000000000,,"[{'_account_id': 6486}, {'_account_id': 9648}]","[{'number': 1, 'created': '2014-11-20 23:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/daf11f704ceddfe930ebda2ddc197f5f178f6def', 'message': 'Allow nested flows to be unnamed/anonymous\n\nInstead of requiring names for nested flows make it possible\nso that nested flows can be unnamed (since with the current\ncompilation that exists the nested flows will be squashed and\nlost anyway) so that users are able to avoid names if they\ndesire to (the root flow must be named, as that one is strongly\nconnected to a flow detail during execution).\n\nChange-Id: I157a3722dac60a6117684b622c12f2d3335c9731\n'}, {'number': 2, 'created': '2014-12-04 06:36:39.000000000', 'files': ['taskflow/flow.py', 'taskflow/patterns/linear_flow.py', 'taskflow/patterns/unordered_flow.py', 'taskflow/engines/action_engine/compiler.py', 'taskflow/exceptions.py', 'taskflow/tests/unit/action_engine/test_compile.py', 'taskflow/patterns/graph_flow.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0fd1144db2e8ff60f8868424e8dd6e8944f1a7a0', 'message': 'Allow nested flows to be unnamed/anonymous\n\nInstead of requiring names for nested flows make it possible\nso that nested flows can be unnamed (since with the current\ncompilation that exists the nested flows will be squashed and\nlost anyway) so that users are able to avoid names if they\ndesire to (the root flow must be named, as that one is strongly\nconnected to a flow detail during execution).\n\nChange-Id: I157a3722dac60a6117684b622c12f2d3335c9731\n'}]",1,136171,0fd1144db2e8ff60f8868424e8dd6e8944f1a7a0,11,2,2,1297,,,0,"Allow nested flows to be unnamed/anonymous

Instead of requiring names for nested flows make it possible
so that nested flows can be unnamed (since with the current
compilation that exists the nested flows will be squashed and
lost anyway) so that users are able to avoid names if they
desire to (the root flow must be named, as that one is strongly
connected to a flow detail during execution).

Change-Id: I157a3722dac60a6117684b622c12f2d3335c9731
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/71/136171/2 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/flow.py', 'taskflow/patterns/linear_flow.py', 'taskflow/patterns/unordered_flow.py', 'taskflow/engines/action_engine/compiler.py', 'taskflow/exceptions.py', 'taskflow/tests/unit/action_engine/test_compile.py', 'taskflow/patterns/graph_flow.py']",7,daf11f704ceddfe930ebda2ddc197f5f178f6def,," def __init__(self, name=None, retry=None): super(Flow, self).__init__(name=name, retry=retry) def __init__(self, name=None, retry=None): super(TargetedFlow, self).__init__(name=name, retry=retry)"," def __init__(self, name, retry=None): super(Flow, self).__init__(name, retry) def __init__(self, *args, **kwargs): super(TargetedFlow, self).__init__(*args, **kwargs)",63,20
openstack%2Ftaskflow~master~Ifef2d21bb9b00dfcdc417070682d2a7136885539,openstack/taskflow,master,Ifef2d21bb9b00dfcdc417070682d2a7136885539,Allow endpoints to be fetched from factories,ABANDONED,2014-07-29 01:52:24.000000000,2018-03-22 00:55:32.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}, {'_account_id': 9648}]","[{'number': 1, 'created': '2014-07-29 01:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/cc94e5c2b735fd2efb5550014be762543d4e6c50', 'message': 'Allow endpoints to be fetched from factories\n\nTo make it possible to have more than simple lists\nprovide the endpoints that WBE workers can execute\nallow for a factory concept to be also used.\n\nThese factories can get() endpoints from some internal\nlocation and provide those endpoints back for others to\nuse and for others to become aware of (via the notify\nprocess).\n\nChange-Id: Ifef2d21bb9b00dfcdc417070682d2a7136885539\n'}, {'number': 2, 'created': '2014-07-29 02:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/f0ca8b450ed2e210e8a8d689626ab5d7322b8955', 'message': 'Allow endpoints to be fetched from factories\n\nTo make it possible to have more than simple lists\nfor endpoints make it so that the provided endpoints\nthat WBE workers can execute can be a factory like\nconcept.\n\nThese factories expose a get() method and a __iter__()\nmethod that can be used be by others to fetch endpoints\nfrom the factory and for others to use to notify others\nabout the endpoints the worker supports.\n\nChange-Id: Ifef2d21bb9b00dfcdc417070682d2a7136885539\n'}, {'number': 3, 'created': '2014-07-29 04:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/168a0133a5ad1a0df31b66f769ddbf19b61a8ea0', 'message': 'Allow endpoints to be fetched from factories\n\nTo make it possible to have more than simple lists\nfor endpoints make it so that the provided endpoints\nthat WBE workers can execute can be a factory like\nconcept.\n\nThese factories expose a get() method and a __iter__()\nmethod that can be used be by others to fetch endpoints\nfrom the factory and for others to use to notify others\nabout the endpoints the worker supports.\n\nChange-Id: Ifef2d21bb9b00dfcdc417070682d2a7136885539\n'}, {'number': 4, 'created': '2014-08-21 22:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/b871027b1e66844586f6b898d2bbffd98f43acf8', 'message': 'Allow endpoints to be fetched from factories\n\nTo make it possible to have more than simple lists\nfor endpoints make it so that the provided endpoints\nthat WBE workers can execute can be a factory like\nconcept.\n\nThese factories expose a get() method and a __iter__()\nmethod that can be used be by others to fetch endpoints\nfrom the factory and for others to use to notify others\nabout the endpoints the worker supports.\n\nChange-Id: Ifef2d21bb9b00dfcdc417070682d2a7136885539\n'}, {'number': 5, 'created': '2014-09-29 00:28:33.000000000', 'files': ['taskflow/engines/worker_based/server.py', 'taskflow/engines/worker_based/endpoint.py', 'taskflow/tests/unit/worker_based/test_worker.py', 'taskflow/engines/worker_based/worker.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/8025d2c2c9beab0a0422d5c290aed9e4225d2944', 'message': 'Allow endpoints to be fetched from factories\n\nTo make it possible to have more than simple lists\nfor endpoints make it so that the provided endpoints\nthat WBE workers can execute can be a factory like\nconcept.\n\nThese factories expose a get() method and a __iter__()\nmethod that can be used be by others to fetch endpoints\nfrom the factory and for others to use to notify others\nabout the endpoints the worker supports.\n\nChange-Id: Ifef2d21bb9b00dfcdc417070682d2a7136885539\n'}]",0,110181,8025d2c2c9beab0a0422d5c290aed9e4225d2944,22,3,5,1297,,,0,"Allow endpoints to be fetched from factories

To make it possible to have more than simple lists
for endpoints make it so that the provided endpoints
that WBE workers can execute can be a factory like
concept.

These factories expose a get() method and a __iter__()
method that can be used be by others to fetch endpoints
from the factory and for others to use to notify others
about the endpoints the worker supports.

Change-Id: Ifef2d21bb9b00dfcdc417070682d2a7136885539
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/81/110181/4 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/engines/worker_based/server.py', 'taskflow/engines/worker_based/endpoint.py', 'taskflow/tests/unit/worker_based/test_worker.py', 'taskflow/engines/worker_based/worker.py']",4,cc94e5c2b735fd2efb5550014be762543d4e6c50,,"from taskflow import task as task_type_ENDPOINT_OFFSET = "" "" """"""Derive endpoints or endpoint factories from some source."""""" derived_tasks = reflection.find_subclasses(tasks, task_type.BaseTask) if not derived_tasks: return [] return [ endpoint.StaticEndpointFactory( endpoint.Endpoint(task) for task in derived_tasks), ] if isinstance(ep, endpoint.EndpointFactory): pretty_endpoints.append( ""%s%s provides its own endpoints:"" % (_ENDPOINT_OFFSET, ep)) generated_pretty_endpoints = [] for gep in ep: generated_pretty_endpoints.append( ""%s- %s"" % (_ENDPOINT_OFFSET * 2, gep)) if generated_pretty_endpoints: pretty_endpoints.extend(generated_pretty_endpoints) else: pretty_endpoints[-1] += "" []"" elif isinstance(ep, endpoint.Endpoint): pretty_endpoints.append(""%s- %s"" % (_ENDPOINT_OFFSET, ep)) else: raise TypeError( ""Unknown endpoint '%s' (%s)"" % (ep, type(ep)))","from taskflow import task as t_task """"""Derive endpoints from list of strings, classes or packages."""""" derived_tasks = reflection.find_subclasses(tasks, t_task.BaseTask) return [endpoint.Endpoint(task) for task in derived_tasks] pretty_endpoints.append("" - %s"" % ep)",108,23
openstack%2Ftaskflow~master~Icd9cef5859f199bf50d353000ff3f8b5bfdca589,openstack/taskflow,master,Icd9cef5859f199bf50d353000ff3f8b5bfdca589,Work on a CAP section (WIP),ABANDONED,2014-06-21 06:39:31.000000000,2018-03-22 00:55:25.000000000,,"[{'_account_id': 1297}, {'_account_id': 6486}, {'_account_id': 8871}, {'_account_id': 9608}, {'_account_id': 9648}]","[{'number': 1, 'created': '2014-06-21 06:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/461540fcc9414f0d6f2e4d0c6438b78b825a7381', 'message': 'Work on a CAP section\n\nTo describe the distributed system and model\nthat taskflow provides start adding a section\nthat analyzes how taskflow fits in the three\ndimensions of the CAP theorem.\n\nChange-Id: Icd9cef5859f199bf50d353000ff3f8b5bfdca589\n'}, {'number': 2, 'created': '2014-06-21 06:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/a638a646a6e51658fbecbf54c71a90409089673b', 'message': 'Work on a CAP section (WIP)\n\nTo describe the distributed system and model\nthat taskflow provides start adding a section\nthat analyzes how taskflow jobs, engines,\nworkers, .... fit in the three dimensions of\nthe CAP theorem.\n\nChange-Id: Icd9cef5859f199bf50d353000ff3f8b5bfdca589\n'}, {'number': 3, 'created': '2014-06-24 00:37:34.000000000', 'files': ['doc/source/index.rst', 'doc/source/cap.rst'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/7e16d2ccca10b1943bcea5a0493d2d0a8fab7f96', 'message': 'Work on a CAP section (WIP)\n\nTo describe the distributed system and model\nthat taskflow provides start adding a section\nthat analyzes how taskflow jobs, engines,\nworkers, .... fit in the three dimensions of\nthe CAP theorem.\n\nChange-Id: Icd9cef5859f199bf50d353000ff3f8b5bfdca589\n'}]",0,101691,7e16d2ccca10b1943bcea5a0493d2d0a8fab7f96,19,5,3,1297,,,0,"Work on a CAP section (WIP)

To describe the distributed system and model
that taskflow provides start adding a section
that analyzes how taskflow jobs, engines,
workers, .... fit in the three dimensions of
the CAP theorem.

Change-Id: Icd9cef5859f199bf50d353000ff3f8b5bfdca589
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/91/101691/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/cap.rst', 'doc/source/img/cap.png']",3,461540fcc9414f0d6f2e4d0c6438b78b825a7381,,,,13,0
openstack%2Foslo.log~master~I9a9ee70ac591bb99f29af2693e184af60d80cfce,openstack/oslo.log,master,I9a9ee70ac591bb99f29af2693e184af60d80cfce,Make it possible to set the root logger level (not via debug),ABANDONED,2016-09-07 05:43:03.000000000,2018-03-22 00:55:16.000000000,,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 6873}, {'_account_id': 8688}]","[{'number': 1, 'created': '2016-09-07 05:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/cb9c66a6062c417bd08bdce281af5ea70a3535fa', 'message': 'Make it possible to set the root logger (not via verbose/debug) [WIP]\n\nChange-Id: I9a9ee70ac591bb99f29af2693e184af60d80cfce\n'}, {'number': 2, 'created': '2016-09-07 06:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/ff7b3a6ce3978a9043f77c3005d55cf8a31d43d0', 'message': 'Make it possible to set the root logger level (not via verbose/debug) [WIP]\n\nJust allow people to provide logging levels for the root logger\nand stop trying to mash our own set of verbose or debug or ... to\ndo the same thing.\n\nChange-Id: I9a9ee70ac591bb99f29af2693e184af60d80cfce\n'}, {'number': 3, 'created': '2016-09-08 04:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/be7d82b7e6d6dd905b7692eccc1a9881b5364fe3', 'message': 'Make it possible to set the root logger level (not via verbose/debug) [WIP]\n\nJust allow people to provide logging levels for the root logger\nand stop trying to mash our own set of verbose or debug or ... to\ndo the same thing.\n\nChange-Id: I9a9ee70ac591bb99f29af2693e184af60d80cfce\n'}, {'number': 4, 'created': '2016-09-09 04:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/cc25e363dd50d0c87631e0bd2ea25380ebbec07a', 'message': 'Make it possible to set the root logger level (not via verbose/debug)\n\nJust allow people to provide logging levels for the root logger\nand stop trying to mash our own set of verbose or debug or ... to\ndo the same thing.\n\nCloses-Bug: #1620789\n\nChange-Id: I9a9ee70ac591bb99f29af2693e184af60d80cfce\n'}, {'number': 5, 'created': '2017-06-26 23:06:15.000000000', 'files': ['oslo_log/_options.py', 'oslo_log/log.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/81b494ec5cb6e195b7b849321c25be0d0096c439', 'message': 'Make it possible to set the root logger level (not via debug)\n\nJust allow people to provide logging levels for the root logger\nand stop trying to mash our own set of debug or ... to\ndo the same thing.\n\nCloses-Bug: #1620789\n\nChange-Id: I9a9ee70ac591bb99f29af2693e184af60d80cfce\n'}]",19,366497,81b494ec5cb6e195b7b849321c25be0d0096c439,22,4,5,1297,,,0,"Make it possible to set the root logger level (not via debug)

Just allow people to provide logging levels for the root logger
and stop trying to mash our own set of debug or ... to
do the same thing.

Closes-Bug: #1620789

Change-Id: I9a9ee70ac591bb99f29af2693e184af60d80cfce
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/97/366497/4 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/_options.py'],1,cb9c66a6062c417bd08bdce281af5ea70a3535fa,317148," cfg.StrOpt('log-level', short='l', ignore_case=True, choices=sorted([ ""WARN"", ""WARNING"", ""ERROR"", ""INFO"", ""DEBUG"", ""TRACE"", ""FATAL"", ""CRITICAL"", ]), help='Log level to be applied (overrides verbose' ' or debug if both are provided)'),",,9,1
openstack%2Fswift~feature%2Fdeep~I0381a99ab265557f36a0fff09edf6711cc1e4d38,openstack/swift,feature/deep,I0381a99ab265557f36a0fff09edf6711cc1e4d38,Remove unnecessary timestamp shenanigans when creating shard container,MERGED,2018-03-12 20:26:44.000000000,2018-03-22 00:48:53.000000000,2018-03-21 21:42:20.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-12 20:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7002ecc8e25d470e1447c8b3fcc670ee4836aa29', 'message': ""Remove unnecessary timestamp shenanigans when creating shard container\n\nThe root container must not use object stats from a newly created\nshard container to which no objects have been cleaved. Those stats are\nlikely to be much lower than the shard's steady-state values.\n\nBefore, we avoided the root merging updates for newly created shards\nby artificially winding the shard container's timestamp back so that\nall updates from that container would be ignored until it received a\nnew timestamp via cleaving.\n\nThis timestamp trick is no longer necessary now that we have the\nluxury of every container explicitly reporting its shard range\nstate. The root broker simply ignores shard ranges in CREATED state\nwhen calculating object stats. When a shard range is cleaved to a\nCREATED shard container its shard range moves to ACTIVE and the next\nroot update will propagate that change of state.\n\nChange-Id: I0381a99ab265557f36a0fff09edf6711cc1e4d38\n""}, {'number': 2, 'created': '2018-03-13 19:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5602c7b17d271564041b446049b483b9136fddf6', 'message': ""Remove unnecessary timestamp shenanigans when creating shard container\n\nThe root container must not use object stats from a newly created\nshard container to which no objects have been cleaved. Those stats are\nlikely to be much lower than the shard's steady-state values.\n\nBefore, we avoided the root merging updates for newly created shards\nby artificially winding the shard container's timestamp back so that\nall updates from that container would be ignored until it received a\nnew timestamp via cleaving.\n\nThis timestamp trick is no longer necessary now that we have the\nluxury of every container explicitly reporting its shard range\nstate. The root broker simply ignores shard ranges in CREATED state\nwhen calculating object stats. When a shard range is cleaved to a\nCREATED shard container its shard range moves to ACTIVE and the next\nroot update will propagate that change of state.\n\nChange-Id: I0381a99ab265557f36a0fff09edf6711cc1e4d38\n""}, {'number': 3, 'created': '2018-03-19 15:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d8322cbf4b2b7fdb5ff4542afbb44ddf5babb8a5', 'message': ""Remove unnecessary timestamp shenanigans when creating shard container\n\nThe root container must not use object stats from a newly created\nshard container to which no objects have been cleaved. Those stats are\nlikely to be much lower than the shard's steady-state values.\n\nBefore, we avoided the root merging updates for newly created shards\nby artificially winding the shard container's timestamp back so that\nall updates from that container would be ignored until it received a\nnew timestamp via cleaving.\n\nThis timestamp trick is no longer necessary now that we have the\nluxury of every container explicitly reporting its shard range\nstate. The root broker simply ignores shard ranges in CREATED state\nwhen calculating object stats. When a shard range is cleaved to a\nCREATED shard container its shard range moves to ACTIVE and the next\nroot update will propagate that change of state.\n\nChange-Id: I0381a99ab265557f36a0fff09edf6711cc1e4d38\n""}, {'number': 4, 'created': '2018-03-20 10:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c877f87efe2e02eda3be6dca0b1cec6eedad4090', 'message': ""Remove unnecessary timestamp shenanigans when creating shard container\n\nThe root container must not use object stats from a newly created\nshard container to which no objects have been cleaved. Those stats are\nlikely to be much lower than the shard's steady-state values.\n\nBefore, we avoided the root merging updates for newly created shards\nby artificially winding the shard container's timestamp back so that\nall updates from that container would be ignored until it received a\nnew timestamp via cleaving.\n\nThis timestamp trick is no longer necessary now that we have the\nluxury of every container explicitly reporting its shard range\nstate. The root broker simply ignores shard ranges in CREATED state\nwhen calculating object stats. When a shard range is cleaved to a\nCREATED shard container its shard range moves to ACTIVE and the next\nroot update will propagate that change of state.\n\nChange-Id: I0381a99ab265557f36a0fff09edf6711cc1e4d38\n""}, {'number': 5, 'created': '2018-03-21 14:52:18.000000000', 'files': ['test/probe/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4d9122da4c36024fb6c06507105f9bcf3de85a67', 'message': ""Remove unnecessary timestamp shenanigans when creating shard container\n\nThe root container must not use object stats from a newly created\nshard container to which no objects have been cleaved. Those stats are\nlikely to be much lower than the shard's steady-state values.\n\nBefore, we avoided the root merging updates for newly created shards\nby artificially winding the shard container's timestamp back so that\nall updates from that container would be ignored until it received a\nnew timestamp via cleaving.\n\nThis timestamp trick is no longer necessary now that we have the\nluxury of every container explicitly reporting its shard range\nstate. The root broker simply ignores shard ranges in CREATED state\nwhen calculating object stats. When a shard range is cleaved to a\nCREATED shard container its shard range moves to ACTIVE and the next\nroot update will propagate that change of state.\n\nChange-Id: I0381a99ab265557f36a0fff09edf6711cc1e4d38\n""}]",0,552133,4d9122da4c36024fb6c06507105f9bcf3de85a67,16,3,5,7847,,,0,"Remove unnecessary timestamp shenanigans when creating shard container

The root container must not use object stats from a newly created
shard container to which no objects have been cleaved. Those stats are
likely to be much lower than the shard's steady-state values.

Before, we avoided the root merging updates for newly created shards
by artificially winding the shard container's timestamp back so that
all updates from that container would be ignored until it received a
new timestamp via cleaving.

This timestamp trick is no longer necessary now that we have the
luxury of every container explicitly reporting its shard range
state. The root broker simply ignores shard ranges in CREATED state
when calculating object stats. When a shard range is cleaved to a
CREATED shard container its shard range moves to ACTIVE and the next
root update will propagate that change of state.

Change-Id: I0381a99ab265557f36a0fff09edf6711cc1e4d38
",git fetch https://review.opendev.org/openstack/swift refs/changes/33/552133/5 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/test_sharder.py', 'swift/container/sharder.py']",2,7002ecc8e25d470e1447c8b3fcc670ee4836aa29,p-sharding-created-shenanigans," num_found = 0 # create shard containers for newly found ranges num_created = self._create_shard_containers(broker) shard_range.update_state(ShardRange.CREATED) try: self._put_shard_container(broker, shard_range) 'PUT of new shard container %r failed for %s.', shard_range, broker.path) [shard_range]) shard_range)"," num_found = num_created = 0 if is_leader: # create shard containers for newly found ranges # TODO: the current messing with timestamps when creating # the shard container makes it safer to restrict this to # the leader; an improved container creation strategy might # allow this to run on any node num_created = self._create_shard_containers(broker) # Create newly found shard containers with a timestamp that is # slightly older that the persisted shard range. Why? The new shard # container will initially be empty. As a result, any shard range # updates received at the root from the shard container are likely # to make the new shard range mistakenly appear ready for # shrinking. Creating the shard container with an older timestamp # means that updates from it will be ignored until cleaving # replicates objects to it and simultaneously updates timestamps to # the persisted shard range timestamps. # TODO: avoid these timestamp shenanigans by sending state to the # shard container and have it not send updates until in active # state older_shard_range = shard_range.copy( timestamp=Timestamp(float(shard_range.timestamp) - 1)) try: self._put_shard_container(broker, older_shard_range) 'PUT of new shard container %r failed for %s/%s.', older_shard_range, broker.account, broker.container) [older_shard_range]) older_shard_range)",25,27
openstack%2Fsenlin~master~Id8ac13b9c190a4ece8d098837c47964059fd33fe,openstack/senlin,master,Id8ac13b9c190a4ece8d098837c47964059fd33fe,Fix hints update appear 'NoneType' object has no attribute 'update',MERGED,2018-03-20 11:18:19.000000000,2018-03-22 00:36:30.000000000,2018-03-22 00:36:30.000000000,"[{'_account_id': 8246}, {'_account_id': 21690}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-03-20 11:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/e57ea913d91d1384fd8d53555805d92d15f6538c', 'message': ""Fix hints update appear 'NoneType' object has no attribute 'update'\n\nThis patch fix hints update error, If scheduler_hints not configure\nin create profile, the hints get 'None' value, the None not exist\nupdate operation.\n\nChange-Id: Id8ac13b9c190a4ece8d098837c47964059fd33fe\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n""}, {'number': 2, 'created': '2018-03-21 03:27:00.000000000', 'files': ['senlin/profiles/os/nova/server.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/d3a487127f8a24a57b1c4c6851d7ec5ec8341b42', 'message': ""Fix hints update appear 'NoneType' object has no attribute 'update'\n\nThis patch fix hints update error, If scheduler_hints not configure\nin create profile, the hints get 'None' value, the None not exist\nupdate operation.\n\nChange-Id: Id8ac13b9c190a4ece8d098837c47964059fd33fe\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n""}]",1,554506,d3a487127f8a24a57b1c4c6851d7ec5ec8341b42,14,6,2,23517,,,0,"Fix hints update appear 'NoneType' object has no attribute 'update'

This patch fix hints update error, If scheduler_hints not configure
in create profile, the hints get 'None' value, the None not exist
update operation.

Change-Id: Id8ac13b9c190a4ece8d098837c47964059fd33fe
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
",git fetch https://review.opendev.org/openstack/senlin refs/changes/06/554506/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/profiles/os/nova/server.py'],1,e57ea913d91d1384fd8d53555805d92d15f6538c,fix_hints_update, hints = self.properties.get(self.SCHEDULER_HINTS) if hints is None: hints = {}," hints = self.properties.get(self.SCHEDULER_HINTS, {})",3,1
openstack%2Fcinder~master~Iba886fd0bd401052a444eb7a4427607e693d7c81,openstack/cinder,master,Iba886fd0bd401052a444eb7a4427607e693d7c81,QNAP Drivers - Move from httplib to requests,MERGED,2018-01-26 14:03:06.000000000,2018-03-22 00:25:37.000000000,2018-03-21 16:40:28.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11651}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19844}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26134}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-26 14:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc10cf77ae9ace1fa7c87408d1b54027760b96d7', 'message': 'QNAP Drivers - Move from httplib to requests\n\nAdding new conf entry qnap_verify_ssl to enable or disable\nSSL verification when using HTTPS protocol.\n\nChange-Id: Iba886fd0bd401052a444eb7a4427607e693d7c81\nCloses-Bug: 1658766\nPartial-Bug: 1188189\n'}, {'number': 2, 'created': '2018-01-26 14:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/db69a32a6a401049d6b7eaceafbe4f9aeb685df9', 'message': 'QNAP Drivers - Move from httplib to requests\n\nAdding new conf entry qnap_verify_ssl to enable or disable\nSSL verification when using HTTPS protocol.\n\nChange-Id: Iba886fd0bd401052a444eb7a4427607e693d7c81\nCloses-Bug: 1658766\nPartial-Bug: 1188189\n'}, {'number': 3, 'created': '2018-01-26 18:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/549d3ba112e4ffc2e8b034569e014da89137c4dc', 'message': 'QNAP Drivers - Move from httplib to requests\n\nUse driver_ssl_cert_verify under backend section to\nenable or disable SSL verfication.\n\nChange-Id: Iba886fd0bd401052a444eb7a4427607e693d7c81\nCloses-Bug: 1658766\nPartial-Bug: 1188189\n'}, {'number': 4, 'created': '2018-01-29 13:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8727f62958c513a8d9fde0ceab26c9af8fbbb217', 'message': 'QNAP Drivers - Move from httplib to requests\n\nUse driver_ssl_cert_verify under backend section to\nenable or disable SSL verfication.\n\nChange-Id: Iba886fd0bd401052a444eb7a4427607e693d7c81\nCloses-Bug: 1658766\nPartial-Bug: 1188189\n'}, {'number': 5, 'created': '2018-02-01 18:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1fc3c6064e6f24ed3f5d75560632d9107d8081ea', 'message': 'QNAP Drivers - Move from httplib to requests\n\nUse driver_ssl_cert_verify under backend section to\nenable or disable SSL verfication.\n\nChange-Id: Iba886fd0bd401052a444eb7a4427607e693d7c81\nCloses-Bug: 1658766\nPartial-Bug: 1188189\n'}, {'number': 6, 'created': '2018-02-03 09:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ce942086e1c0f1065ad176dda1fbb57f9e7e6b80', 'message': 'QNAP Drivers - Move from httplib to requests\n\nUse driver_ssl_cert_verify under backend section to\nenable or disable SSL verfication.\n\nChange-Id: Iba886fd0bd401052a444eb7a4427607e693d7c81\nCloses-Bug: 1658766\nPartial-Bug: 1188189\n'}, {'number': 7, 'created': '2018-02-07 04:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c044cf153ac4d1502e04b3db99512dc4e559018a', 'message': 'QNAP Drivers - Move from httplib to requests\n\nUse driver_ssl_cert_verify under backend section to\nenable or disable SSL verfication.\n\nChange-Id: Iba886fd0bd401052a444eb7a4427607e693d7c81\nCloses-Bug: 1658766\nPartial-Bug: 1188189\n'}, {'number': 8, 'created': '2018-02-16 06:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d35dae6e7f7ef4c9b67239683c2f1616d1dba3b1', 'message': ""QNAP Drivers - Move from httplib to requests\n\nUse driver_ssl_cert_verify under backend section to\nenable or disable SSL verfication.\n\nNOTE: IPv6 isn't supported by QNAP driver.\n\nChange-Id: Iba886fd0bd401052a444eb7a4427607e693d7c81\nCloses-Bug: 1658766\nPartial-Bug: 1188189\n""}, {'number': 9, 'created': '2018-02-23 14:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ce14d2d7fff08c6c4493580252ebd13610e7d9d', 'message': ""QNAP Drivers - Move from httplib to requests\n\nUse driver_ssl_cert_verify under backend section to\nenable or disable SSL verfication.\n\nNOTE: IPv6 isn't supported by QNAP driver.\n\nChange-Id: Iba886fd0bd401052a444eb7a4427607e693d7c81\nCloses-Bug: 1658766\nPartial-Bug: 1188189\n""}, {'number': 10, 'created': '2018-02-28 10:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/42088e308ec62b97a61ae086638a8724cf28e479', 'message': ""QNAP Drivers - Move from httplib to requests\n\nUse driver_ssl_cert_verify under backend section to\nenable or disable SSL verfication.\n\nNOTE: IPv6 isn't supported by QNAP driver.\n\nChange-Id: Iba886fd0bd401052a444eb7a4427607e693d7c81\nCloses-Bug: 1658766\nPartial-Bug: 1188189\n""}, {'number': 11, 'created': '2018-03-05 07:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e324b582b441a4159c984d21a0e9507231ea31e', 'message': ""QNAP Drivers - Move from httplib to requests\n\nUse driver_ssl_cert_verify under backend section to\nenable or disable SSL verfication.\n\nNOTE: IPv6 isn't supported by QNAP driver.\n\nChange-Id: Iba886fd0bd401052a444eb7a4427607e693d7c81\nCloses-Bug: 1658766\nPartial-Bug: 1188189\n""}, {'number': 12, 'created': '2018-03-09 11:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b0e055cf1fd6496fc30537ce098cd8bbc56be2a', 'message': ""QNAP Drivers - Move from httplib to requests\n\nUse driver_ssl_cert_verify under backend section to\nenable or disable SSL verfication.\n\nNOTE: IPv6 isn't supported by QNAP driver.\n\nChange-Id: Iba886fd0bd401052a444eb7a4427607e693d7c81\nCloses-Bug: 1658766\nPartial-Bug: 1188189\n""}, {'number': 13, 'created': '2018-03-15 05:50:07.000000000', 'files': ['cinder/volume/drivers/qnap.py', 'cinder/tests/unit/volume/drivers/test_qnap.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/431b4284bf12dfd8f97af95a9b96356105e08404', 'message': ""QNAP Drivers - Move from httplib to requests\n\nUse driver_ssl_cert_verify under backend section to\nenable or disable SSL verfication.\n\nNOTE: IPv6 isn't supported by QNAP driver.\n\nChange-Id: Iba886fd0bd401052a444eb7a4427607e693d7c81\nCloses-Bug: 1658766\nPartial-Bug: 1188189\n""}]",6,538237,431b4284bf12dfd8f97af95a9b96356105e08404,341,49,13,11651,,,0,"QNAP Drivers - Move from httplib to requests

Use driver_ssl_cert_verify under backend section to
enable or disable SSL verfication.

NOTE: IPv6 isn't supported by QNAP driver.

Change-Id: Iba886fd0bd401052a444eb7a4427607e693d7c81
Closes-Bug: 1658766
Partial-Bug: 1188189
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/538237/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/qnap.py', 'cinder/tests/unit/volume/drivers/test_qnap.py']",2,bc10cf77ae9ace1fa7c87408d1b54027760b96d7,bug/1658766,"import requests header = { 'charset': 'utf-8', 'Content-Type': 'application/x-www-form-urlencoded' } login_url = '/cgi-bin/authLogin.cgi?' fake_login_url = 'http://1.2.3.4:8080' + login_url get_basic_info_url = '/cgi-bin/authLogin.cgi' fake_get_basic_info_url = 'http://1.2.3.4:8080' + get_basic_info_url ssd_cache=False, verify_ssl=True): configuration.qnap_verify_ssl = verify_ssl self.mock_session = None @staticmethod def sanitize(params): sanitized = {_key: six.text_type(_value) for _key, _value in six.iteritems(params) if _value is not None} return urllib.parse.urlencode(sanitized) status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" status_code = 'fackStatus' @property def text(self): status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" status_code = 'fackStatus' @property def text(self): status_code = 'fackStatus' @property def text(self): status_code = 'fackStatus' @property def text(self): status_code = 'fackStatus' @property def text(self): status_code = 'fackStatus' @property def text(self): status_code = 'fackStatus' @property def text(self): status_code = 'fackStatus' @property def text(self): status_code = 'fackStatus' @property def text(self): status_code = 'fackStatus' @property def text(self): status_code = 'fackStatus' @property def text(self): status_code = 'fackStatus' @property def text(self): status_code = 'fackStatus' @property def text(self): status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" status_code = 'fackStatus' @property def text(self): """"""Mock response.text.""""""class FakeCreateTargetResponse(object): status_code = 'fackStatus' @property def text(self): """"""Mock response.text.""""""class FakeCreateTargetFailResponse(object): status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" status_code = 'fackStatus' @property def text(self): """"""Mock response.text."""""" self.mock_object(requests, 'request') mock_request = requests.request mock_request.side_effect = ([ '1.2.3.4', 'Storage Pool 1', True, verify_ssl=ssl)) mock_request = requests.request mock_request.side_effect = ([ '1.2.3.4', 'Storage Pool 1', True, verify_ssl=ssl)) mock_request = requests.request mock_request.side_effect = ([ '1.2.3.4', 'Storage Pool 1', True, verify_ssl=ssl)) mock_request = requests.request mock_request.side_effect = ([ '1.2.3.4', 'Storage Pool 1', True, verify_ssl=ssl)) ret = {'data': fake_one_lun_info_response.text, 'http_status': fake_one_lun_info_response.status_code} ret = {'data': fake_mapped_one_lun_info_response.text, 'http_status': fake_mapped_one_lun_info_response.status_code} @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', create_lun_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', create_lun_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', delete_lun_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') def test_delete_lun_negative(self, mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', delete_lun_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/disk_manage.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_specific_poolinfo_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ FakeCreateTargetResponse()]) fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', create_target_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ FakeCreateTargetFailResponse()]) @mock.patch('requests.request') def test_add_target_init(self, mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', add_target_init_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', map_lun_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', unmap_lun_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') def test_disable_lun_negative(self, mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', unmap_lun_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_iscsi_portal_info_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') def test_get_lun_info(self, mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_lun_info_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_lun_info_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_lun_info_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_lun_info_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_lun_info_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/snapshot.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_snapshot_info_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/snapshot.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', create_snapshot_api_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/snapshot.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', api_delete_snapshot_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/snapshot.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', api_delete_snapshot_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/snapshot.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', api_delete_snapshot_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/snapshot.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', clone_snapshot_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', edit_lun_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_all_iscsi_portal_setting_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/sys/sysRequest.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_ethernet_ip_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/sys/sysRequest.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_ethernet_ip_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') def test_get_ethernet_ip_with_type_all(self, mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/sys/sysRequest.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_ethernet_ip_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_target_info_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_target_info_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_target_info_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', create_lun_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', create_lun_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', delete_lun_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', delete_lun_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', map_lun_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', unmap_lun_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', unmap_lun_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', remove_target_init_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') self, mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') self, mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_target_info_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ 'http://1.2.3.4:8080/cgi-bin/sys/sysRequest.cgi?' + fake_post_parm) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_ethernet_ip_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') def test_get_ethernet_ip_negative(self, mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/snapshot.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_snapshot_info_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ FakeCreateTargetResponse()]) fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', create_target_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ FakeCreateTargetFailResponse()]) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', create_lun_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ fake_post_params = self.sanitize(fake_params) 'http://1.2.3.4:8080/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_params) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', create_lun_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ @mock.patch('requests.request') mock_request): mock_request.side_effect = ([ 'http://1.2.3.4:8080/cgi-bin/sys/sysRequest.cgi?' + fake_post_parm) mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', fake_get_basic_info_url, data=None, headers=None, verify=False), mock.call('POST', fake_login_url, data=global_sanitized_params, headers=header, verify=False), mock.call('GET', get_ethernet_ip_url, data=None, headers=None, verify=False)] self.assertEqual(expected_call_list, mock_request.call_args_list) @mock.patch('requests.request') mock_request): mock_request.side_effect = ([","header = { 'charset': 'utf-8', 'Content-Type': 'application/x-www-form-urlencoded'} login_url = ('/cgi-bin/authLogin.cgi?') get_basic_info_url = ('/cgi-bin/authLogin.cgi') ssd_cache=False): self.mock_HTTPConnection = None status = 'fackStatus' def read(self): """"""Mock response.read."""""" status = 'fackStatus' def read(self): status = 'fackStatus' def read(self): """"""Mock response.read."""""" status = 'fackStatus' def read(self): status = 'fackStatus' def read(self): status = 'fackStatus' def read(self): status = 'fackStatus' def read(self): status = 'fackStatus' def read(self): status = 'fackStatus' def read(self): status = 'fackStatus' def read(self): status = 'fackStatus' def read(self): status = 'fackStatus' def read(self): status = 'fackStatus' def read(self): status = 'fackStatus' def read(self): status = 'fackStatus' def read(self): status = 'fackStatus' def read(self): """"""Mock response.read."""""" status = 'fackStatus' def read(self): """"""Mock response.read."""""" status = 'fackStatus' def read(self): """"""Mock response.read."""""" status = 'fackStatus' def read(self): """"""Mock response.read."""""" status = 'fackStatus' def read(self): """"""Mock response.read."""""" status = 'fackStatus' def read(self): """"""Mock response.read.""""""class FakeCreatTargetResponse(object): status = 'fackStatus' def read(self): """"""Mock response.read.""""""class FakeCreatTargetFailResponse(object): status = 'fackStatus' def read(self): """"""Mock response.read."""""" status = 'fackStatus' def read(self): """"""Mock response.read."""""" status = 'fackStatus' def read(self): """"""Mock response.read."""""" status = 'fackStatus' def read(self): """"""Mock response.read."""""" status = 'fackStatus' def read(self): """"""Mock response.read."""""" status = 'fackStatus' def read(self): """"""Mock response.read."""""" status = 'fackStatus' def read(self): """"""Mock response.read."""""" status = 'fackStatus' def read(self): """"""Mock response.read."""""" status = 'fackStatus' def read(self): """"""Mock response.read."""""" status = 'fackStatus' def read(self): """"""Mock response.read."""""" status = 'fackStatus' def read(self): """"""Mock response.read."""""" status = 'fackStatus' def read(self): """"""Mock response.read."""""" self.mock_object(six.moves.http_client, 'HTTPConnection') self.mock_object(six.moves.http_client, 'HTTPSConnection') if ssl: mock_connection = six.moves.http_client.HTTPSConnection else: mock_connection = six.moves.http_client.HTTPConnection mock_connection.return_value.getresponse.side_effect = ([ '1.2.3.4', 'Storage Pool 1', True)) if ssl: mock_connection = six.moves.http_client.HTTPSConnection else: mock_connection = six.moves.http_client.HTTPConnection mock_connection.return_value.getresponse.side_effect = ([ '1.2.3.4', 'Storage Pool 1', True)) if ssl: mock_connection = six.moves.http_client.HTTPSConnection else: mock_connection = six.moves.http_client.HTTPConnection mock_connection.return_value.getresponse.side_effect = ([ '1.2.3.4', 'Storage Pool 1', True)) if ssl: mock_connection = six.moves.http_client.HTTPSConnection else: mock_connection = six.moves.http_client.HTTPConnection mock_connection.return_value.getresponse.side_effect = ([ '1.2.3.4', 'Storage Pool 1', True)) ret = {'data': fake_one_lun_info_response.read(), 'http_status': fake_one_lun_info_response.status} ret = {'data': fake_mapped_one_lun_info_response.read(), 'http_status': fake_mapped_one_lun_info_response.status} @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', create_lun_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', create_lun_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', delete_lun_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') def test_delete_lun_negative(self, mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', delete_lun_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/disk_manage.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call( 'GET', get_specific_poolinfo_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ FakeCreatTargetResponse()]) fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', create_target_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ FakeCreatTargetFailResponse()]) @mock.patch('six.moves.http_client.HTTPConnection') def test_add_target_init(self, mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call( 'GET', add_target_init_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', map_lun_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', unmap_lun_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') def test_disable_lun_negative(self, mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', unmap_lun_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call( 'GET', get_iscsi_portal_info_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') def test_get_lun_info(self, mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_lun_info_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_lun_info_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_lun_info_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_lun_info_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_lun_info_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/snapshot.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_snapshot_info_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/snapshot.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call( 'GET', create_snapshot_api_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/snapshot.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call( 'GET', api_delete_snapshot_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/snapshot.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call( 'GET', api_delete_snapshot_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/snapshot.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call( 'GET', api_delete_snapshot_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/snapshot.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', clone_snapshot_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', edit_lun_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call( 'GET', get_all_iscsi_portal_setting_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/sys/sysRequest.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_ethernet_ip_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/sys/sysRequest.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_ethernet_ip_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') def test_get_ethernet_ip_with_type_all(self, mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/sys/sysRequest.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_ethernet_ip_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_target_info_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_target_info_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_target_info_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', create_lun_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', create_lun_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', delete_lun_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', delete_lun_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', map_lun_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', unmap_lun_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', unmap_lun_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_params = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_params[key] = six.text_type(value) fake_post_params = urllib.parse.urlencode(fake_post_params) '/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_params) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call( 'GET', remove_target_init_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') self, mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') self, mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_params = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_params[key] = six.text_type(value) fake_post_params = urllib.parse.urlencode(fake_post_params) '/cgi-bin/disk/iscsi_portal_setting.cgi?' + fake_post_params) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_target_info_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ '/cgi-bin/sys/sysRequest.cgi?' + fake_post_parm) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_ethernet_ip_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') def test_get_ethernet_ip_negative(self, mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/snapshot.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_snapshot_info_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ FakeCreatTargetResponse()]) fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_target_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', create_target_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ FakeCreatTargetFailResponse()]) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', create_lun_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ fake_post_parms = {} for key in fake_params: value = fake_params[key] if value is not None: fake_post_parms[key] = six.text_type(value) fake_post_parms = urllib.parse.urlencode(fake_post_parms) '/cgi-bin/disk/iscsi_lun_setting.cgi?' + fake_post_parms) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', create_lun_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([ '/cgi-bin/sys/sysRequest.cgi?' + fake_post_parm) mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_basic_info_url), mock.call('POST', login_url, global_sanitized_params, header), mock.call('GET', get_ethernet_ip_url)] self.assertEqual( expected_call_list, mock_http_connection.return_value.request.call_args_list) @mock.patch('six.moves.http_client.HTTPConnection') mock_http_connection): mock_http_connection.return_value.getresponse.side_effect = ([",1064,1162
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fqueens~I8ddc9931cbca5db8c1a411fd2581b34763179d01,openstack/openstack-ansible-lxc_hosts,stable/queens,I8ddc9931cbca5db8c1a411fd2581b34763179d01,tasks: Ensure machinectl quota value is reasonable,MERGED,2018-03-21 14:49:31.000000000,2018-03-22 00:10:09.000000000,2018-03-22 00:10:09.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 14:49:31.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/400f0c80b9c531a792dc01ff12cf1f3b3bd69a2d', 'message': 'tasks: Ensure machinectl quota value is reasonable\n\nIt appears that when setting a limit which is greater than the size\nof the underlying filesystem, machinectl does not change the quota at\nall. As such, lets calculate the limit based on the /var/lib/machines\nmountpoint or any of its parents.\n\nChange-Id: I8ddc9931cbca5db8c1a411fd2581b34763179d01\n(cherry picked from commit 345b501464880ecbb5d122d7715277cf1d0506c5)\n'}]",0,554941,400f0c80b9c531a792dc01ff12cf1f3b3bd69a2d,8,3,1,23163,,,0,"tasks: Ensure machinectl quota value is reasonable

It appears that when setting a limit which is greater than the size
of the underlying filesystem, machinectl does not change the quota at
all. As such, lets calculate the limit based on the /var/lib/machines
mountpoint or any of its parents.

Change-Id: I8ddc9931cbca5db8c1a411fd2581b34763179d01
(cherry picked from commit 345b501464880ecbb5d122d7715277cf1d0506c5)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/41/554941/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,400f0c80b9c531a792dc01ff12cf1f3b3bd69a2d,ensure-proper-machinectl-quota-stable/queens,"# Set the volume size for the machine image caches. We only use the # most specific mountpoint from the hierarchy.lxc_host_machine_volume_size: |- {%- set mounts = [] -%} {%- set mount_points = ['/var/lib/machines', '/var/lib/', '/var', '/'] -%} {%- for mount in mount_points -%} {%- for dev in ansible_mounts -%} {%- if mount == dev.mount -%} {%- set _ = mounts.append(dev.size_total // (1024 ** 3)) -%} {%- endif -%} {%- endfor -%} {%- endfor -%} {{ mounts[0] }}","# Set the volume size for the machine image caches.lxc_host_machine_volume_size: ""64""",13,2
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fpike~I8ddc9931cbca5db8c1a411fd2581b34763179d01,openstack/openstack-ansible-lxc_hosts,stable/pike,I8ddc9931cbca5db8c1a411fd2581b34763179d01,tasks: Ensure machinectl quota value is reasonable,MERGED,2018-03-21 14:49:50.000000000,2018-03-22 00:10:08.000000000,2018-03-22 00:10:07.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 14:49:50.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/1295a3a6841e7631edcfe80581358a177fee947d', 'message': 'tasks: Ensure machinectl quota value is reasonable\n\nIt appears that when setting a limit which is greater than the size\nof the underlying filesystem, machinectl does not change the quota at\nall. As such, lets calculate the limit based on the /var/lib/machines\nmountpoint or any of its parents.\n\nChange-Id: I8ddc9931cbca5db8c1a411fd2581b34763179d01\n(cherry picked from commit 345b501464880ecbb5d122d7715277cf1d0506c5)\n'}]",0,554942,1295a3a6841e7631edcfe80581358a177fee947d,7,3,1,23163,,,0,"tasks: Ensure machinectl quota value is reasonable

It appears that when setting a limit which is greater than the size
of the underlying filesystem, machinectl does not change the quota at
all. As such, lets calculate the limit based on the /var/lib/machines
mountpoint or any of its parents.

Change-Id: I8ddc9931cbca5db8c1a411fd2581b34763179d01
(cherry picked from commit 345b501464880ecbb5d122d7715277cf1d0506c5)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/42/554942/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,1295a3a6841e7631edcfe80581358a177fee947d,ensure-proper-machinectl-quota-stable/queens-stable/pike,"# Set the volume size for the machine image caches. We only use the # most specific mountpoint from the hierarchy.lxc_host_machine_volume_size: |- {%- set mounts = [] -%} {%- set mount_points = ['/var/lib/machines', '/var/lib/', '/var', '/'] -%} {%- for mount in mount_points -%} {%- for dev in ansible_mounts -%} {%- if mount == dev.mount -%} {%- set _ = mounts.append(dev.size_total // (1024 ** 3)) -%} {%- endif -%} {%- endfor -%} {%- endfor -%} {{ mounts[0] }}","# Set the volume size for the machine image caches.lxc_host_machine_volume_size: ""64""",13,2
openstack%2Fkeystone~master~I41cf87702df5389c1424d35f0abcef9c16301450,openstack/keystone,master,I41cf87702df5389c1424d35f0abcef9c16301450,Add logging for xmlsec1 installation,MERGED,2018-03-15 19:43:22.000000000,2018-03-21 23:58:14.000000000,2018-03-21 23:58:14.000000000,"[{'_account_id': 1916}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 19:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d77733b3654f3097d2c5b729662f34129d4eda40', 'message': ""Add logging for xmlsec1 installation\n\nKeystone uses a library called xmlsec1 to create SAML assertions when\nacting as an identity provider. If this library isn't present and\nsomeone attempts to authenticate, keystone will throw an HTTP 500.\nThe only thing the error says is that a file or directory doesn't\nexist.\n\nThis patch checks a couple different case to see if the binary is\nactually installed. If it isn't, it leaves a error for operators in\nthe logs to help them figure out the exact cause of the HTTP 500.\n\nChange-Id: I41cf87702df5389c1424d35f0abcef9c16301450\nCloses-Bug: 1750917\n""}, {'number': 2, 'created': '2018-03-16 19:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/17b98ed4fc8bee09b6d66ec5a01e88aac59af722', 'message': ""Add logging for xmlsec1 installation\n\nKeystone uses a library called xmlsec1 to create SAML assertions when\nacting as an identity provider. If this library isn't present and\nsomeone attempts to authenticate, keystone will throw an HTTP 500.\nThe only thing the error says is that a file or directory doesn't\nexist.\n\nThis patch uses subprocess to check if the provided binary actually\nexists on the system and handles cases when it isn't and logs a\nuseful message for operators.\n\nChange-Id: I41cf87702df5389c1424d35f0abcef9c16301450\nCloses-Bug: 1750917\n""}, {'number': 3, 'created': '2018-03-16 19:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/45ea384728ff3ca8114a28ab2394d9ab815dda09', 'message': ""Add logging for xmlsec1 installation\n\nKeystone uses a library called xmlsec1 to create SAML assertions when\nacting as an identity provider. If this library isn't present and\nsomeone attempts to authenticate, keystone will throw an HTTP 500.\nThe only thing the error says is that a file or directory doesn't\nexist.\n\nThis patch uses subprocess to check if the provided binary actually\nexists on the system and handles cases when it isn't and logs a\nuseful message for operators.\n\nChange-Id: I41cf87702df5389c1424d35f0abcef9c16301450\nCloses-Bug: 1750917\n""}, {'number': 4, 'created': '2018-03-19 14:04:51.000000000', 'files': ['keystone/tests/unit/test_v3_federation.py', 'keystone/federation/idp.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ccdf2d976f4d26df4f6a2a915da6ff0f643757ac', 'message': ""Add logging for xmlsec1 installation\n\nKeystone uses a library called xmlsec1 to create SAML assertions when\nacting as an identity provider. If this library isn't present and\nsomeone attempts to authenticate, keystone will throw an HTTP 500.\nThe only thing the error says is that a file or directory doesn't\nexist.\n\nThis patch uses subprocess to check if the provided binary actually\nexists on the system and handles cases when it isn't and logs a\nuseful message for operators.\n\nChange-Id: I41cf87702df5389c1424d35f0abcef9c16301450\nCloses-Bug: 1750917\n""}]",9,553592,ccdf2d976f4d26df4f6a2a915da6ff0f643757ac,21,6,4,5046,,,0,"Add logging for xmlsec1 installation

Keystone uses a library called xmlsec1 to create SAML assertions when
acting as an identity provider. If this library isn't present and
someone attempts to authenticate, keystone will throw an HTTP 500.
The only thing the error says is that a file or directory doesn't
exist.

This patch uses subprocess to check if the provided binary actually
exists on the system and handles cases when it isn't and logs a
useful message for operators.

Change-Id: I41cf87702df5389c1424d35f0abcef9c16301450
Closes-Bug: 1750917
",git fetch https://review.opendev.org/openstack/keystone refs/changes/92/553592/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/federation/idp.py'],1,d77733b3654f3097d2c5b729662f34129d4eda40,bug/1750917,"def _verify_assertion_binary_is_installed(): """"""Make sure the specified xmlsec binary is installed. If the binary specified in configuration isn't installed, make sure we leave some sort of useful error message for operators since the absense of it is going to throw an HTTP 500. """""" msg = ( 'Unable to locate binary %(binary)s on the system. Check to make sure ' 'it is installed.' % {'binary': CONF.saml.xmlsec1} ) # If the specified binary is an absolute path (e.g. `/path/to/xmlsec1`, # then it was supplied by the operator to tell us exactly where to find it. # We should verify that file exists on the system. If the binary isn't an # absolute file path, then we should assume it's an executable (e.g. # `xmlsec1`) and verify it resolves to a path. if os.path.isabs(CONF.saml.xmlsec_binary): if not os.path.isfile(CONF.saml.xmlsec_binary): LOG.error(msg) else: process = subprocess.Popen(['/usr/bin/which', CONF.saml.xmlsec_binary]) process.communicate() # If `which xmlsec1` resolved the binary to a path, the return code # will be 0. If it's anything else, the path doesn't exist. if process.returncode: LOG.error(msg) # Verify that the binary used to create the assertion actually exists on # the system. If it doesn't, log a warning for operators to go and install # it. Requests for assertions will fail with HTTP 500s until the package is # installed, so providing something useful in the logs is about the best we # can do. _verify_assertion_binary_is_installed() ",,36,0
openstack%2Fnova~master~Id9627839c38798704dbffac3b52dfd4c4046b598,openstack/nova,master,Id9627839c38798704dbffac3b52dfd4c4046b598,Rename '_numa_get_constraints_XXX' functions,MERGED,2016-10-11 15:59:51.000000000,2018-03-21 23:58:01.000000000,2018-03-21 23:58:01.000000000,"[{'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21279}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2016-10-11 15:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d89602885c17251b85bdbcf44c7ca718321680b', 'message': ""Rename '_numa_get_constraints_XXX' functions\n\nThese don't actually return constraints but topologies, so rename and\ngroup them together.\n\nChange-Id: Id9627839c38798704dbffac3b52dfd4c4046b598\n""}, {'number': 2, 'created': '2016-10-17 12:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19c9c37089d111bc5be94bd0e5c66ffd18895879', 'message': ""Rename '_numa_get_constraints_XXX' functions\n\nThese don't actually return constraints but topologies, so rename and\ngroup them together.\n\nChange-Id: Id9627839c38798704dbffac3b52dfd4c4046b598\n""}, {'number': 3, 'created': '2016-10-17 14:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0e201da76fce109c7e5fd8bda097a4694ced2a3', 'message': ""Rename '_numa_get_constraints_XXX' functions\n\nThese don't actually return constraints but topologies, so rename and\ngroup them together.\n\nChange-Id: Id9627839c38798704dbffac3b52dfd4c4046b598\n""}, {'number': 4, 'created': '2016-11-02 11:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5cf77ab9c58b5e79a1fce281da03e8f035897cf4', 'message': ""Rename '_numa_get_constraints_XXX' functions\n\nThese don't actually return constraints but topologies, so rename and\ngroup them together.\n\nChange-Id: Id9627839c38798704dbffac3b52dfd4c4046b598\n""}, {'number': 5, 'created': '2016-11-04 10:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/148aaa604af0259736bd9004848f98e06ddfcc86', 'message': ""Rename '_numa_get_constraints_XXX' functions\n\nThese don't actually return constraints but topologies, so rename and\ngroup them together.\n\nChange-Id: Id9627839c38798704dbffac3b52dfd4c4046b598\n""}, {'number': 6, 'created': '2016-11-28 10:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c830683399a3fee9878581d4234c009bda6afcd', 'message': ""Rename '_numa_get_constraints_XXX' functions\n\nThese don't actually return constraints but topologies, so rename and\ngroup them together.\n\nChange-Id: Id9627839c38798704dbffac3b52dfd4c4046b598\n""}, {'number': 7, 'created': '2017-02-13 18:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93226c6fb8839d6a88a038c91398b8647015a8ec', 'message': ""Rename '_numa_get_constraints_XXX' functions\n\nThese don't actually return constraints but topologies, so rename and\ngroup them together.\n\nChange-Id: Id9627839c38798704dbffac3b52dfd4c4046b598\n""}, {'number': 8, 'created': '2017-03-10 16:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e20133633769ce71c144b1bd8ac9218d311145b9', 'message': ""Rename '_numa_get_constraints_XXX' functions\n\nThese don't actually return constraints but topologies, so rename and\ngroup them together.\n\nChange-Id: Id9627839c38798704dbffac3b52dfd4c4046b598\n""}, {'number': 9, 'created': '2017-04-03 09:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39cff31661ea6950cce2d0431307940f772a2ec5', 'message': ""Rename '_numa_get_constraints_XXX' functions\n\nThese don't actually return constraints but topologies. Rename and\ngroup them together.\n\nChange-Id: Id9627839c38798704dbffac3b52dfd4c4046b598\n""}, {'number': 10, 'created': '2017-08-07 15:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df6f909a974ef3fb2a8c4fac22244a5a4c8ca591', 'message': ""Rename '_numa_get_constraints_XXX' functions\n\nThese don't actually return constraints but topologies. Rename and\ngroup them together.\n\nChange-Id: Id9627839c38798704dbffac3b52dfd4c4046b598\n""}, {'number': 11, 'created': '2017-09-04 16:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a64b37adcc16751908f549dbbbd82d7ca2c8dd6', 'message': ""Rename '_numa_get_constraints_XXX' functions\n\nThese don't actually return constraints but topologies. Rename and\ngroup them together.\n\nChange-Id: Id9627839c38798704dbffac3b52dfd4c4046b598\n""}, {'number': 12, 'created': '2017-10-09 12:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83656f99e5f6d53ca05546d133588a35afd7420c', 'message': ""Rename '_numa_get_constraints_XXX' functions\n\nThese don't actually return constraints but topologies. Rename and\ngroup them together.\n\nChange-Id: Id9627839c38798704dbffac3b52dfd4c4046b598\n""}, {'number': 13, 'created': '2018-02-16 16:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e23313fa397b7599e38100566662542f190ea11', 'message': ""Rename '_numa_get_constraints_XXX' functions\n\nThese don't actually return constraints but topologies. Rename and\ngroup them together.\n\nChange-Id: Id9627839c38798704dbffac3b52dfd4c4046b598\n""}, {'number': 14, 'created': '2018-03-09 10:46:41.000000000', 'files': ['nova/virt/hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0e7e3e18c73f32243a7c572a9c9971f9bc5c542e', 'message': ""Rename '_numa_get_constraints_XXX' functions\n\nThese don't actually return constraints but topologies. Rename and\ngroup them together.\n\nChange-Id: Id9627839c38798704dbffac3b52dfd4c4046b598\n""}]",5,385072,0e7e3e18c73f32243a7c572a9c9971f9bc5c542e,211,29,14,15334,,,0,"Rename '_numa_get_constraints_XXX' functions

These don't actually return constraints but topologies. Rename and
group them together.

Change-Id: Id9627839c38798704dbffac3b52dfd4c4046b598
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/385072/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/hardware.py'],1,1d89602885c17251b85bdbcf44c7ca718321680b,feat/numa-refactor,"def _get_numa_topology_auto(nodes, flavor): if ((flavor.vcpus % nodes) > 0 or (flavor.memory_mb % nodes) > 0): raise exception.ImageNUMATopologyAsymmetric() cells = [] for node in range(nodes): ncpus = int(flavor.vcpus / nodes) mem = int(flavor.memory_mb / nodes) start = node * ncpus cpuset = set(range(start, start + ncpus)) cells.append(objects.InstanceNUMACell( id=node, cpuset=cpuset, memory=mem)) return objects.InstanceNUMATopology(cells=cells) def _get_numa_topology_manual(nodes, flavor, cpu_list, mem_list): numa_topology = _get_numa_topology_auto( numa_topology = _get_numa_topology_manual(","def _numa_get_constraints_manual(nodes, flavor, cpu_list, mem_list):def _numa_get_constraints_auto(nodes, flavor): if ((flavor.vcpus % nodes) > 0 or (flavor.memory_mb % nodes) > 0): raise exception.ImageNUMATopologyAsymmetric() cells = [] for node in range(nodes): ncpus = int(flavor.vcpus / nodes) mem = int(flavor.memory_mb / nodes) start = node * ncpus cpuset = set(range(start, start + ncpus)) cells.append(objects.InstanceNUMACell( id=node, cpuset=cpuset, memory=mem)) return objects.InstanceNUMATopology(cells=cells) numa_topology = _numa_get_constraints_auto( numa_topology = _numa_get_constraints_manual(",21,21
openstack%2Fpython-heatclient~master~Id17c81059b4be9115c0f05edb749213185df8e9c,openstack/python-heatclient,master,Id17c81059b4be9115c0f05edb749213185df8e9c,Follow the new PTI for document build,ABANDONED,2018-03-20 21:29:04.000000000,2018-03-21 23:40:05.000000000,,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 21:29:04.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/9bf86a76426d0347d7e4684f4911adbc2f12ae36', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: Id17c81059b4be9115c0f05edb749213185df8e9c\n'}]",0,554706,9bf86a76426d0347d7e4684f4911adbc2f12ae36,4,2,1,17130,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
https://governance.openstack.org/tc/reference/project-testing-interface.html
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: Id17c81059b4be9115c0f05edb749213185df8e9c
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/06/554706/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,9bf86a76426d0347d7e4684f4911adbc2f12ae36,update-pti,deps = -r{toxinidir}/doc/requirements.txt commands = sphinx-build -W -b html doc/source doc/build/htmldeps = -r{toxinidir}/doc/requirements.txt commands= sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,commands= python setup.py build_sphinxcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,8,6
openstack%2Fopenstack-ansible~master~Iaf2667b7cbd63b6fee04075122a2a532471cf205,openstack/openstack-ansible,master,Iaf2667b7cbd63b6fee04075122a2a532471cf205,Re-add ceph NFS gateway disable settings,MERGED,2018-03-21 05:48:27.000000000,2018-03-21 23:36:59.000000000,2018-03-21 23:36:59.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-03-21 05:48:27.000000000', 'files': ['inventory/group_vars/ceph_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9604e65599fe834ec3ae28f7f854b43879d22b50', 'message': ""Re-add ceph NFS gateway disable settings\n\nThe vars to disable ceph's ganesha NFS gateway installation were\nmistakenly removed in I243e742da3bf7d1e452998f257f7d0804e13237b.\n\nThe NFS gateway serves no purpose in an OSA installation and should\nbe disabled by default.\n\nChange-Id: Iaf2667b7cbd63b6fee04075122a2a532471cf205\n""}]",0,554798,9604e65599fe834ec3ae28f7f854b43879d22b50,10,5,1,17799,,,0,"Re-add ceph NFS gateway disable settings

The vars to disable ceph's ganesha NFS gateway installation were
mistakenly removed in I243e742da3bf7d1e452998f257f7d0804e13237b.

The NFS gateway serves no purpose in an OSA installation and should
be disabled by default.

Change-Id: Iaf2667b7cbd63b6fee04075122a2a532471cf205
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/98/554798/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/ceph_all.yml'],1,9604e65599fe834ec3ae28f7f854b43879d22b50,rgw_config, # Disable the NFS gateway PPA and package install by default as it is not # needed. nfs_file_gw: False nfs_obj_gw: False,,5,0
openstack%2Foslo.messaging~master~I52ea5ccb7e7c247abd95e2d8d50dac4c4ad11246,openstack/oslo.messaging,master,I52ea5ccb7e7c247abd95e2d8d50dac4c4ad11246,Remove the deprecated Pika driver,MERGED,2018-01-23 20:34:06.000000000,2018-03-21 23:33:20.000000000,2018-03-21 23:33:20.000000000,"[{'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 9796}, {'_account_id': 20523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-23 20:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/76119ca3a574135dff9b12b000b60839d715f018', 'message': 'Remove the deprecated Pika driver\n\nIt is recommended that all users of the Pika driver transition to\nusing the Rabbit driver instead.  Typically this is done by changing\nthe prefix of the transport_url configuration option from ""pika://...""\nto ""rabbit://..."".  There are no changes required to the RabbitMQ\nserver configuration.\n\nChange-Id: I52ea5ccb7e7c247abd95e2d8d50dac4c4ad11246\nCloses-Bug: #1744741\n'}, {'number': 2, 'created': '2018-03-21 15:04:09.000000000', 'files': ['doc/source/admin/index.rst', 'playbooks/oslo.messaging-telemetry-dsvm-integration-pika/run.yaml', 'releasenotes/notes/remove-pika-1bae204ced2521a3.yaml', 'oslo_messaging/opts.py', 'oslo_messaging/_drivers/pika_driver/__init__.py', 'requirements.txt', 'bindep.txt', 'oslo_messaging/_drivers/impl_pika.py', 'oslo_messaging/_drivers/pika_driver/pika_commons.py', 'oslo_messaging/tests/functional/utils.py', 'playbooks/oslo.messaging-tempest-neutron-dsvm-src-pika-default/run.yaml', 'oslo_messaging/_drivers/pika_driver/pika_connection_factory.py', '.zuul.yaml', 'doc/source/admin/pika_driver.rst', 'oslo_messaging/_drivers/pika_driver/pika_connection.py', 'oslo_messaging/tests/drivers/pika/test_poller.py', 'oslo_messaging/_drivers/pika_driver/pika_message.py', 'oslo_messaging/_drivers/pika_driver/pika_exceptions.py', 'oslo_messaging/_drivers/pika_driver/pika_listener.py', 'oslo_messaging/_drivers/pika_driver/pika_poller.py', 'playbooks/oslo.messaging-src-dsvm-full-pika-default/post.yaml', 'oslo_messaging/tests/drivers/pika/test_message.py', 'oslo_messaging/tests/functional/test_rabbitmq.py', 'oslo_messaging/_drivers/pika_driver/pika_engine.py', 'playbooks/oslo.messaging-src-dsvm-full-pika-default/run.yaml', 'playbooks/oslo.messaging-telemetry-dsvm-integration-pika/post.yaml', 'playbooks/oslo.messaging-tempest-neutron-dsvm-src-pika-default/post.yaml', 'oslo_messaging/tests/drivers/pika/__init__.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/222a939361579f73fb33a51580fd2ed4d28decb3', 'message': 'Remove the deprecated Pika driver\n\nIt is recommended that all users of the Pika driver transition to\nusing the Rabbit driver instead.  Typically this is done by changing\nthe prefix of the transport_url configuration option from ""pika://...""\nto ""rabbit://..."".  There are no changes required to the RabbitMQ\nserver configuration.\n\nChange-Id: I52ea5ccb7e7c247abd95e2d8d50dac4c4ad11246\nCloses-Bug: #1744741\n'}]",0,536960,222a939361579f73fb33a51580fd2ed4d28decb3,18,5,2,8770,,,0,"Remove the deprecated Pika driver

It is recommended that all users of the Pika driver transition to
using the Rabbit driver instead.  Typically this is done by changing
the prefix of the transport_url configuration option from ""pika://...""
to ""rabbit://..."".  There are no changes required to the RabbitMQ
server configuration.

Change-Id: I52ea5ccb7e7c247abd95e2d8d50dac4c4ad11246
Closes-Bug: #1744741
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/60/536960/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'playbooks/oslo.messaging-telemetry-dsvm-integration-pika/run.yaml', 'oslo_messaging/opts.py', 'oslo_messaging/_drivers/pika_driver/__init__.py', 'requirements.txt', 'bindep.txt', 'oslo_messaging/_drivers/impl_pika.py', 'oslo_messaging/_drivers/pika_driver/pika_commons.py', 'oslo_messaging/tests/functional/utils.py', 'playbooks/oslo.messaging-tempest-neutron-dsvm-src-pika-default/run.yaml', 'oslo_messaging/_drivers/pika_driver/pika_connection_factory.py', '.zuul.yaml', 'doc/source/admin/pika_driver.rst', 'oslo_messaging/_drivers/pika_driver/pika_connection.py', 'oslo_messaging/tests/drivers/pika/test_poller.py', 'oslo_messaging/_drivers/pika_driver/pika_message.py', 'oslo_messaging/_drivers/pika_driver/pika_exceptions.py', 'oslo_messaging/_drivers/pika_driver/pika_listener.py', 'oslo_messaging/_drivers/pika_driver/pika_poller.py', 'playbooks/oslo.messaging-src-dsvm-full-pika-default/post.yaml', 'oslo_messaging/tests/drivers/pika/test_message.py', 'oslo_messaging/tests/functional/test_rabbitmq.py', 'oslo_messaging/_drivers/pika_driver/pika_engine.py', 'playbooks/oslo.messaging-src-dsvm-full-pika-default/run.yaml', 'playbooks/oslo.messaging-telemetry-dsvm-integration-pika/post.yaml', 'playbooks/oslo.messaging-tempest-neutron-dsvm-src-pika-default/post.yaml', 'oslo_messaging/tests/drivers/pika/__init__.py', 'setup.cfg', 'tox.ini']",29,76119ca3a574135dff9b12b000b60839d715f018,bug/1744741,,[testenv:py27-func-pika] setenv = {[testenv]setenv} TRANSPORT_DRIVER=pika commands = pifpaf run rabbitmq -- python setup.py testr --slowest --testr-args='{posargs:oslo_messaging.tests.functional}' ,4,4548
openstack%2Fhorizon~master~Ieb6788a1301167ea7084a8c63462375426100e0a,openstack/horizon,master,Ieb6788a1301167ea7084a8c63462375426100e0a,Show Network Mask field when subnetpool is used,ABANDONED,2018-03-21 23:20:20.000000000,2018-03-21 23:29:18.000000000,,[],"[{'number': 1, 'created': '2018-03-21 23:20:20.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/workflows.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/78af0270712f6f72aa66bec2f6492c9043c4fcf9', 'message': 'Show Network Mask field when subnetpool is used\n\nIn the ""Create Network"" form and ""Create Subnet"" form, ""Network Mask""\nfield was not shown when a subnet pool mode (""Allocate Network Address\nfrom a pool"") is selected as ""Network Address Source"".\n\nChange-Id: Ieb6788a1301167ea7084a8c63462375426100e0a\nCloses-Bug: #552247\n'}]",0,555090,78af0270712f6f72aa66bec2f6492c9043c4fcf9,2,0,1,841,,,0,"Show Network Mask field when subnetpool is used

In the ""Create Network"" form and ""Create Subnet"" form, ""Network Mask""
field was not shown when a subnet pool mode (""Allocate Network Address
from a pool"") is selected as ""Network Address Source"".

Change-Id: Ieb6788a1301167ea7084a8c63462375426100e0a
Closes-Bug: #552247
",git fetch https://review.opendev.org/openstack/horizon refs/changes/90/555090/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/networks/workflows.py'],1,78af0270712f6f72aa66bec2f6492c9043c4fcf9,bug/552247," prefixlen = forms.ChoiceField( widget=forms.ThemableSelectWidget(attrs={ 'class': 'switched', 'data-switch-on': 'subnetpool', 'data-switch-on': 'source', 'data-source-subnetpool': _(""Network Mask""), }), label=_('Network Mask'), required=False)"," prefixlen = forms.ChoiceField(widget=forms.ThemableSelectWidget(attrs={ 'class': 'switched', 'data-switch-on': 'subnetpool', }), label=_('Network Mask'), required=False)",9,6
openstack%2Fopenstack-helm~master~I44411687f756968d00178d487af66c2393e6bde0,openstack/openstack-helm,master,I44411687f756968d00178d487af66c2393e6bde0,Ingress: support arbitary hostnames.,MERGED,2018-03-20 21:47:55.000000000,2018-03-21 23:24:55.000000000,2018-03-21 23:24:55.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2018-03-20 21:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/934e8abc125df443b1bc9dba27d5e9adf983f1b5', 'message': 'WIP: Ingress: support arbitary hostnames.\n\nChange-Id: I44411687f756968d00178d487af66c2393e6bde0\n'}, {'number': 2, 'created': '2018-03-20 23:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bf21501fd35bc1fa5a04a7d3b8e9cd67453a2e06', 'message': 'WIP: Ingress: support arbitary hostnames.\n\nChange-Id: I44411687f756968d00178d487af66c2393e6bde0\n'}, {'number': 3, 'created': '2018-03-21 14:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f01775ed8553d297c3eaa155501fc6d291dceba9', 'message': 'Ingress: support arbitary hostnames.\n\nThis PS allows arbitary hostnames to be used for public endpoints,\nprovided the resolve externally to the ingress controllers.\n\nChange-Id: I44411687f756968d00178d487af66c2393e6bde0\n'}, {'number': 4, 'created': '2018-03-21 14:40:05.000000000', 'files': ['mistral/values.yaml', 'congress/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'glance/values.yaml', 'horizon/values.yaml', 'ceilometer/values.yaml', 'gnocchi/values.yaml', 'nova/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'helm-toolkit/templates/manifests/_ingress.yaml.tpl', 'neutron/values.yaml', 'senlin/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/69711430486c2a915b17c3845522dabb4b22fc81', 'message': 'Ingress: support arbitary hostnames.\n\nThis PS allows arbitary hostnames to be used for public endpoints,\nprovided the resolve externally to the ingress controllers.\n\nChange-Id: I44411687f756968d00178d487af66c2393e6bde0\n'}]",0,554713,69711430486c2a915b17c3845522dabb4b22fc81,11,3,4,23928,,,0,"Ingress: support arbitary hostnames.

This PS allows arbitary hostnames to be used for public endpoints,
provided the resolve externally to the ingress controllers.

Change-Id: I44411687f756968d00178d487af66c2393e6bde0
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/13/554713/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/values.yaml', 'helm-toolkit/templates/manifests/_ingress.yaml.tpl']",2,934e8abc125df443b1bc9dba27d5e9adf983f1b5,ingress/fqdn-update," kubernetes.io/ingress.class: {{ $envAll.Values.network.api.ingress.classes.namespace }}{{- range $key1, $vHost := tuple $hostName (printf ""%s.%s"" $hostName $envAll.Release.Namespace) (printf ""%s.%s.svc.%s"" $hostName $envAll.Release.Namespace $envAll.Values.endpoints.cluster_domain_suffix)}} - host: {{ $vHost }} http: paths: - path: / backend: serviceName: {{ $backendName }} servicePort: {{ $backendPort }}{{- if not ( hasSuffix ( printf "".%s.svc.%s"" $envAll.Release.Namespace $envAll.Values.endpoints.cluster_domain_suffix) $hostNameFull) }} - host: {{ $hostNameFull }} http: paths: - path: / backend: serviceName: {{ $backendName }} servicePort: {{ $backendPort }} {{ if not ( hasSuffix ( printf "".%s.svc.%s"" $envAll.Release.Namespace $envAll.Values.endpoints.cluster_domain_suffix) $hostNameFull) }} --- apiVersion: extensions/v1beta1 kind: Ingress metadata: name: {{ $ingressName }} annotations: kubernetes.io/ingress.class: {{ $envAll.Values.network.api.ingress.classes.namespace }} {{ toYaml (index $envAll.Values.network $backendService ""ingress"" ""annotations"") | indent 4 }} spec: rules: - host: {{ $hostNameFull }} http: paths: - path: / backend: serviceName: {{ $backendName }} servicePort: {{ $backendPort }} ","{{ if ne $hostNameNamespaced $hostNameFull }} {{- range $key1, $vHost := tuple $hostName $hostNameNamespaced $hostNameFull }} - host: {{ $vHost }} http: paths: - path: / backend: serviceName: {{ $backendName }} servicePort: {{ $backendPort }}{{- else }} {{- range $key1, $vHost := tuple $hostName $hostNameNamespaced }} - host: {{ $vHost }} http: paths: - path: / backend: serviceName: {{ $backendName }} servicePort: {{ $backendPort }}",46,24
openstack%2Freleases~master~If0b3b07a0f4f400b99e22f3276f04cd3d5321564,openstack/releases,master,If0b3b07a0f4f400b99e22f3276f04cd3d5321564,os-vif 1.10.0,MERGED,2018-03-21 15:26:27.000000000,2018-03-21 23:11:41.000000000,2018-03-21 23:11:41.000000000,"[{'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 21561}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 15:26:27.000000000', 'files': ['deliverables/rocky/os-vif.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5b38416d9797cd63a86370c9ea4c268525da9b07', 'message': 'os-vif 1.10.0\n\nChange-Id: If0b3b07a0f4f400b99e22f3276f04cd3d5321564\n'}]",1,554948,5b38416d9797cd63a86370c9ea4c268525da9b07,11,7,1,15334,,,0,"os-vif 1.10.0

Change-Id: If0b3b07a0f4f400b99e22f3276f04cd3d5321564
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/554948/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/os-vif.yaml'],1,5b38416d9797cd63a86370c9ea4c268525da9b07,os-vif,releases: - version: 1.10.0 projects: - repo: openstack/os-vif hash: 761b3c42790a2c1a084f05075aafa35826e2f416 tarball-base: os_vif,,6,0
openstack%2Fnova-powervm~stable%2Fqueens~Ifdc23f94a8448e12252ce73a436fcf4049d4f7b3,openstack/nova-powervm,stable/queens,Ifdc23f94a8448e12252ce73a436fcf4049d4f7b3,tox needs to pull from stable/queens,MERGED,2018-03-21 21:57:25.000000000,2018-03-21 22:55:00.000000000,2018-03-21 22:55:00.000000000,"[{'_account_id': 14070}, {'_account_id': 16710}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 21:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/67516ae81403d801b6402607d4adce21ab05995a', 'message': ""tox needs to pull from stable/queens\n\nUpdates the tox.ini to pull from nova's stable/queens branch\ninstead of master. This should have been done when we first\nbranched queens here, but was missed.\n\nChange-Id: Ifdc23f94a8448e12252ce73a436fcf4049d4f7b3\n""}, {'number': 2, 'created': '2018-03-21 22:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/3c7b41b5abeb15d5a63ed1de5d34364a08216264', 'message': ""tox needs to pull from stable/queens\n\nUpdates the tox.ini to pull from nova's stable/queens branch\ninstead of master. This should have been done when we first\nbranched queens here, but was missed.\n\nChange-Id: Ifdc23f94a8448e12252ce73a436fcf4049d4f7b3\n""}, {'number': 3, 'created': '2018-03-21 22:04:27.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/3cb455fb3148cd277e678a643a76cfbb5074030f', 'message': ""tox needs to pull from stable/queens\n\nUpdates the tox.ini to pull from nova's stable/queens branch\ninstead of master. This should have been done when we first\nbranched queens here, but was missed.\n\nChange-Id: Ifdc23f94a8448e12252ce73a436fcf4049d4f7b3\n""}]",1,555073,3cb455fb3148cd277e678a643a76cfbb5074030f,11,3,3,10608,,,0,"tox needs to pull from stable/queens

Updates the tox.ini to pull from nova's stable/queens branch
instead of master. This should have been done when we first
branched queens here, but was missed.

Change-Id: Ifdc23f94a8448e12252ce73a436fcf4049d4f7b3
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/73/555073/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,67516ae81403d801b6402607d4adce21ab05995a,pull_queens, -egit+https://github.com/openstack/nova@stable/queens#egg=nova, -egit+https://github.com/openstack/nova#egg=nova,1,1
openstack%2Fpython-manilaclient~stable%2Fqueens~Ib11281434ac9c4d33aeb2603f5d65b446b73f5fb,openstack/python-manilaclient,stable/queens,Ib11281434ac9c4d33aeb2603f5d65b446b73f5fb,add os-testr to test-requirements,MERGED,2018-03-21 18:49:02.000000000,2018-03-21 22:52:32.000000000,2018-03-21 22:52:31.000000000,"[{'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 18:49:02.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/821676b53f60ac3b0b9e0529fd0c0a4c14c33a1a', 'message': 'add os-testr to test-requirements\n\nUnit tests are failing without it.\n\nTrivial-Fix\n\nChange-Id: Ib11281434ac9c4d33aeb2603f5d65b446b73f5fb\n(cherry picked from commit 946993c0b005c581b734ed916838d60807f8a868)\n'}]",0,555020,821676b53f60ac3b0b9e0529fd0c0a4c14c33a1a,8,3,1,16643,,,0,"add os-testr to test-requirements

Unit tests are failing without it.

Trivial-Fix

Change-Id: Ib11281434ac9c4d33aeb2603f5d65b446b73f5fb
(cherry picked from commit 946993c0b005c581b734ed916838d60807f8a868)
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/20/555020/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,821676b53f60ac3b0b9e0529fd0c0a4c14c33a1a,TrivialFix,os-testr>=1.0.0 # Apache-2.0,,1,0
openstack%2Fnova-specs~master~I8e54668e810f716daf150aa34930a0009534105a,openstack/nova-specs,master,I8e54668e810f716daf150aa34930a0009534105a,Support member_of param for allocation candidates,MERGED,2018-02-14 21:08:23.000000000,2018-03-21 22:40:20.000000000,2018-02-15 17:40:49.000000000,"[{'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-14 21:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ea3f940b80555c6bc5d641e886a7b10255d192b7', 'message': 'Support member_of param for allocation candidates\n\nAdds support for the ?member_of= query parameter to the `GET\n/allocation_candidates` REST API call.\n\nChange-Id: I8e54668e810f716daf150aa34930a0009534105a\nblueprint: alloc-candidates-member-of\n'}, {'number': 2, 'created': '2018-02-15 15:03:20.000000000', 'files': ['specs/rocky/approved/alloc-candidates-member-of.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6ab0f717d037c15c0c334f0cb15d93f96da7cd10', 'message': 'Support member_of param for allocation candidates\n\nAdds support for the ?member_of= query parameter to the `GET\n/allocation_candidates` REST API call.\n\nChange-Id: I8e54668e810f716daf150aa34930a0009534105a\nblueprint: alloc-candidates-member-of\n'}]",7,544694,6ab0f717d037c15c0c334f0cb15d93f96da7cd10,23,6,2,7,,,0,"Support member_of param for allocation candidates

Adds support for the ?member_of= query parameter to the `GET
/allocation_candidates` REST API call.

Change-Id: I8e54668e810f716daf150aa34930a0009534105a
blueprint: alloc-candidates-member-of
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/94/544694/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/approved/alloc-candidates-member-of.rst'],1,ea3f940b80555c6bc5d641e886a7b10255d192b7,bp/alloc-candidates-member-of,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================================== Support filtering by aggregate membership to allocation candidates ================================================================== https://blueprints.launchpad.net/nova/+spec/alloc-candidates-member-of Provide support for filtering allocation candidates by the underlying resource provider's membership in one or more aggregates. Problem description =================== The list of resource providers that the placement API's ``GET /allocation_candidates`` returns can be very large, particularly when many compute hosts are empty. Sometimes nova may have information that would allow the number of compute hosts to be dramatically reduced. For instance, if nova knows that a particular project is ""pinned"" to a host aggregate, currently nova asks placement for all the resource providers that meet the resource requirements of the flavor and then promptly discards any compute hosts that are not in that particular host aggregate (in the aggregate multi-tenancy isolation filter). This process could be much more efficient if the nova scheduler were to simply ask placement to only return compute hosts that are associated with a nova host aggregate. Use Cases --------- Simple post-processing scheduler filters like the aggregate multi-tenancy isolation filter can be replaced with more efficient placement-side filtering. Proposed change =============== The existing ``GET /resource_providers`` placement REST API call supports a ``member_of`` query `parameter_`. This parameter is ""a string representing an aggregate uuid; or the prefix in: followed by a comma-separated list of strings representing aggregate uuids. The returned resource providers must be associated with at least one of the aggregates identified by uuid."" We propose to support this exact same parameter for the ``GET /allocation_candidates`` placement REST API call. .. _parameter: https://developer.openstack.org/api-ref/placement/#list-resource-providers Alternatives ------------ We can continue to do post-processing of compute hosts by looking at host aggregate relationships in the scheduler filters. As noted, however, this is inefficient. Data model impact ----------------- None. REST API impact --------------- Add the ``member_of`` parameter to the ``GET /allocation_candidates`` REST API call. Make the behavior and specification identical to the same-named parameter for the ``GET /resource_providers`` REST API call. A new microversion will be used to indicate to clients that the new parameter is available. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- None. Performance Impact ------------------ Expected increase in overall scheduler performance for use cases where the scheduler can limit the number of compute hosts it operates on. Other deployer impact --------------------- We should be able to deprecate the aggregate multi-tenancy isolation scheduler filter after the ""S"" release. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: jaypipes Other contributors: cdent Work Items ---------- * Add support to the ``nova.objects.AllocationCandidates.get_by_requests()`` method for the ``member_of`` filter. This will require changes to the ``RequestGroup`` object as well * Add new microversion to the placement REST API to support the ``member_of`` query parameter Dependencies ============ In order for this functionality to be useful, nova host aggregates should be ""mirrored"" into the placement service. Currently, nova host aggregates are not yet showing up automatically in the placement service. A separate `blueprint_` for this will be a soft dependency for this work. .. blueprint_: https://blueprints.launchpad.net/nova/+spec/placement-mirror-host-aggregates Testing ======= Normal functional and unit testing. Documentation Impact ==================== Document the REST API microversion in the appropriate reference docs. References ========== placement-req-filter blueprint (use case): https://review.openstack.org/544585 ",,150,0
openstack%2Fpython-tripleoclient~master~Ib0c2e3ffd81742441400d27857afae457d71a424,openstack/python-tripleoclient,master,Ib0c2e3ffd81742441400d27857afae457d71a424,Prepare t-h-t for undercloud in a work dir,MERGED,2018-02-09 15:11:53.000000000,2018-03-21 22:28:55.000000000,2018-03-19 23:17:08.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 6159}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-09 15:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/21c4f81f802f4373fb086179ee80a44ff4e02e78', 'message': 'Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nAdd an optional --work-dir, the persistent work dir\nfor the Heat templates including those rendered from\nthe --templates dir. By default, it is a temporary\ndirectory under /var/tmp/ rendered from templates installed\nfrom the t-h-t package.\n\nDepends-on: https://review.openstack.org/#/c/542833\n\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-02-09 15:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b382ed00cc940c4fccc220b25e5d11352154dd42', 'message': 'Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nAdd an optional --work-dir, the persistent work dir\nfor the Heat templates including those rendered from\nthe --templates dir. By default, it is a temporary\ndirectory under /var/tmp/ rendered from templates installed\nfrom the t-h-t package.\n\nAdditional changes:\n  - fix tox errors for undercloud_backup\n  - refactor symlinks into a function to not repeat itself\n    and to be more safe on teardown\n\nDepends-on: https://review.openstack.org/#/c/542833\n\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2018-02-09 15:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c2cbb463a3fcf53baa73f55a2acd23e209bca33d', 'message': 'Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nAdd an optional --work-dir, the persistent work dir\nfor the Heat templates including those rendered from\nthe --templates dir. By default, it is a temporary\ndirectory under /var/tmp/ rendered from templates installed\nfrom the t-h-t package.\n\nAdditional changes:\n  - fix tox errors for undercloud_backup\n  - refactor symlinks into a function to not repeat itself\n    and to be more safe on teardown\n\nDepends-on: https://review.openstack.org/#/c/542833\n\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2018-02-09 17:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a96b5334ffc2f0b55fe4a03a5fa516b385a78bca', 'message': 'Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nAdd an optional --work-dir, the persistent work dir\nfor the Heat templates including those rendered from\nthe --templates dir. By default, it is a temporary\ndirectory under /var/tmp/ rendered from templates installed\nfrom the t-h-t package.\n\nAdditional changes:\n  - refactor symlinks into a function to not repeat itself\n    and to be more safe on teardown\n\nDepends-on: https://review.openstack.org/#/c/542833\n\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2018-02-12 09:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/aca4a494199363d6cfe557dac065dca9fcfe05fa', 'message': 'Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nAdd an optional --work-dir, the persistent work dir\nfor the Heat templates including those rendered from\nthe --templates dir. By default, it is a temporary\ndirectory under /var/tmp/ rendered from templates installed\nfrom the t-h-t package.\n\nAdditional changes:\n  - refactor symlinks into a function to not repeat itself\n    and to be more safe on teardown\n\nDepends-on: https://review.openstack.org/#/c/542833\nDepends-on: https://review.openstack.org/#/c/543386\n\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2018-02-12 13:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/84c3228b2508311e74ca2035ec7b0a1c7cf392d2', 'message': 'Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nAdd an optional --work-dir, the persistent work dir\nfor the Heat templates including those rendered from\nthe --templates dir. By default, it is a temporary\ndirectory under /var/tmp/ rendered from templates installed\nfrom the t-h-t package.\n\nAdditional changes:\n  - refactor symlinks into a function to not repeat itself\n    and to be more safe on teardown\n\nDepends-on: https://review.openstack.org/#/c/542833\nDepends-on: https://review.openstack.org/#/c/543386\n\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2018-02-12 13:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2e8e48470219f8ef2a4b230b290f5162175e46c7', 'message': 'Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nAdd an optional --work-dir, the persistent work dir\nfor the Heat templates including those rendered from\nthe --templates dir. By default, it is a temporary\ndirectory under /var/tmp/ rendered from templates installed\nfrom the t-h-t package.\n\nAdditional changes:\n  - refactor symlinks into a function to not repeat itself\n    and to be more safe on teardown\n\nDepends-on: https://review.openstack.org/#/c/542833\nDepends-on: https://review.openstack.org/#/c/543386\n\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 8, 'created': '2018-02-12 13:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b202563eaa5d38fdd94ef6da3662aada11c591ae', 'message': 'Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nAdd an optional --work-dir, the persistent work dir\nfor the Heat templates including those rendered from\nthe --templates dir. By default, it is a temporary\ndirectory under /var/tmp/ rendered from templates installed\nfrom the t-h-t package.\n\nAdditional changes:\n  - refactor symlinks into a function to not repeat itself\n    and to be more safe on teardown\n\nDepends-on: https://review.openstack.org/#/c/542833\nDepends-on: https://review.openstack.org/#/c/543386\n\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 9, 'created': '2018-02-13 08:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7332461215ba0910e39fce1410f43075646ad193', 'message': 'Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nAdd an optional --work-dir, the persistent work dir\nfor the Heat templates including those rendered from\nthe --templates dir. By default, it is a temporary\ndirectory under /var/tmp/ rendered from templates installed\nfrom the t-h-t package.\n\nAdditional changes:\n  - refactor symlinks into a function to not repeat itself\n    and to be more safe on teardown\n\nDepends-on: https://review.openstack.org/#/c/542833\nDepends-on: https://review.openstack.org/#/c/543386\n\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 10, 'created': '2018-02-13 16:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3962c3ffa2808ccd41ea80cd92f8bc4261f2e86c', 'message': 'Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in an ephemeral temporary work dir created\nfrom the source --templates dir. And delete it after the\nundercloud deployment done or failed with an exception.\n\nAdditional changes:\n\n  - Refactor symlinking into a function for a better teardown.\n  - Fix teardown of the used temp files and dirs to not spread\n    temp files around and to not leave them if an exception\n    raised.\n\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 11, 'created': '2018-02-13 19:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4ab644a9d898306db7ca174ed88b9bf9b621d556', 'message': 'Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in an ephemeral temporary work dir created\nfrom the source --templates dir. And delete it after the\nundercloud deployment done or failed with an exception.\n\nAdditional changes:\n\n  - Refactor symlinking into a function for a better teardown.\n  - Fix teardown of the used temp files and dirs to not spread\n    temp files around and to not leave them if an exception\n    raised.\n\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 12, 'created': '2018-02-14 02:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3eb76591c9cf3cb375db2a16f67fcb779215cec5', 'message': 'Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in an ephemeral temporary work dir created\nfrom the source --templates dir. And delete it after the\nundercloud deployment done or failed with an exception.\n\nAdditional changes:\n\n  - Refactor symlinking into a function for a better teardown.\n  - Fix teardown of the used temp files and dirs to not spread\n    temp files around and to not leave them if an exception\n    raised.\n\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 13, 'created': '2018-02-14 10:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/602c9ded6a4514aade55a3764c7272a5e701caf2', 'message': 'Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in an ephemeral temporary work dir created\nfrom the source --templates dir. And delete it after the\nundercloud deployment done or failed with an exception.\n\nAdditional changes:\n\n  - Refactor symlinking into a function for a better teardown.\n  - Fix teardown of the used temp files and dirs to not spread\n    temp files around and to not leave them if an exception\n    raised.\n\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 14, 'created': '2018-02-14 10:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a14d01a8707d4c3f9cef6077b7f62a50ca941148', 'message': 'Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in an ephemeral temporary work dir created\nfrom the source --templates dir. And delete it after the\nundercloud deployment done or failed with an exception.\n\nAdditional changes:\n\n  - Refactor symlinking into a function for a better teardown.\n  - Fix teardown of the used temp files and dirs to not spread\n    temp files around and to not leave them if an exception\n    raised.\n\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 15, 'created': '2018-02-14 11:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/be0aa271f3a0482f64fd6cf43df8679a9faebb94', 'message': 'Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in an ephemeral temporary work dir created\nfrom the source --templates dir. And delete it after the\nundercloud deployment done or failed with an exception.\n\nAdditional changes:\n\n  - Refactor symlinking into a function for a better teardown.\n  - Fix teardown of the used temp files and dirs to not spread\n    temp files around and to not leave them if an exception\n    raised.\n\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 16, 'created': '2018-02-15 11:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9c146d1cb8349a176119be1458f1391cf12f220a', 'message': 'Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in an ephemeral temporary work dir created\nfrom the source --templates dir. And delete it after the\nundercloud deployment done or failed with an exception.\n\nCloses-bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 17, 'created': '2018-02-20 11:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f8bffc2f9a8438fb538d60b1d2db091a33e132eb', 'message': 'Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\n\nNOTE: some of technical debt for relative paths fixes\nremains as it is described in the referenced bug.\n\nPartial-bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 18, 'created': '2018-02-21 08:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eed5f96f4bc3f6b9b204ef47ef9d6c10b5d91af6', 'message': 'Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\n\nNOTE: some of technical debt for relative paths fixes\nremains as it is described in the referenced bug.\n\nPartial-bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 19, 'created': '2018-02-22 11:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1018e49e06487875eaa2a72343065818d01bdd28', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --no-cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as output_dir and no_cleanup.\nThe latter way only works for 'undercloud install --use-heat'.\n\nNOTE: some of technical debt for relative paths fixes\nremains as it is described in the referenced bug.\n\nPartial-bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 20, 'created': '2018-02-22 11:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3f5d1154b84f367f89218549fbc3358ffd52e46f', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --no-cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as output_dir and no_cleanup.\nThe latter way only works for 'undercloud install --use-heat'.\n\nNOTE: some of technical debt for relative paths fixes\nremains as it is described in the referenced bug.\n\nPartial-bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 21, 'created': '2018-02-22 11:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9900a7aa010e7a26cf7d28e197c256a07537d207', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --no-cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as output_dir and no_cleanup.\nThe latter way only works for 'undercloud install --use-heat'.\n\nNOTE: some of technical debt for relative paths fixes\nremains as it is described in the referenced bug.\n\nPartial-bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 22, 'created': '2018-02-22 14:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e462baef98d253d3c39978387554b4fab63efd79', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --no-cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as output_dir and no_cleanup.\nThe latter way only works for 'undercloud install --use-heat'.\n\nNOTE: some of technical debt for relative paths fixes\nremains as it is described in the referenced bug.\n\nPartial-bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 23, 'created': '2018-02-22 14:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bff3c0d28b340a140997f0b4ca8ab386325191fd', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --no-cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as output_dir and no_cleanup.\nThe latter way only works for 'undercloud install --use-heat'.\n\nNOTE: some of technical debt for relative paths fixes\nremains as it is described in the referenced bug.\n\nPartial-bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 24, 'created': '2018-02-22 14:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/76af1694bc40a1fc0c48e4fcec0a79fdcce6581f', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --no-cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as output_dir and no_cleanup.\nThe latter way only works for 'undercloud install --use-heat'.\n\nNOTE: some of technical debt for relative paths fixes\nremains as it is described in the referenced bug.\n\nPartial-bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 25, 'created': '2018-02-22 15:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c63061a153ae99d37f353f991f103fd30c2999dc', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --no-cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as output_dir and no_cleanup.\nThe latter way only works for 'undercloud install --use-heat'.\n\nNOTE: some of technical debt for relative paths fixes\nremains as it is described in the referenced bug.\n\nPartial-bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 26, 'created': '2018-02-22 15:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b8bf1bd780971dd5a5c2e4ea48fcdd88058adc4f', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --no-cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as output_dir and no_cleanup.\nThe latter way only works for 'undercloud install --use-heat'.\n\nNOTE: some of technical debt for relative paths fixes\nremains as it is described in the referenced bug.\n\nPartial-bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 27, 'created': '2018-02-23 08:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4d3e6f9d460f57ccc123e65b3a694a4696101922', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --no-cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as output_dir and no_cleanup.\nThe latter way only works for 'undercloud install --use-heat'.\n\nNOTE: some of technical debt for relative paths fixes\nremains as it is described in the referenced bug.\n\nPartial-bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 28, 'created': '2018-02-23 17:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1d14549ab4932002f28a9dc81027dbe28ff8be14', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --no-cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as output_dir and no_cleanup.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 29, 'created': '2018-02-23 17:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0ac828a5b2254912a3f6e069f4b4c56e71f056a2', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --no-cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as output_dir and no_cleanup.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 30, 'created': '2018-02-28 14:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/96191c124b9c4f5f47cea9722bc0ec5fc4e6fb54', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --no-cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as output_dir and no_cleanup.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 31, 'created': '2018-03-01 13:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4ba64c7e52253c991e803a57a66b5d172c4cf3a5', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --no-cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as output_dir and no_cleanup.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nAdditionally, fix the shared process_multiple_environments\nredirect/rewrite: only redirect and rewrite paths, if fully\nmatched.\n\nCloses-Bug: #1752272\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 32, 'created': '2018-03-01 13:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/42372cec57766cef1f31f7226a17fce6a70a185c', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --no-cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as output_dir and no_cleanup.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nAdditionally, fix the shared process_multiple_environments\nredirect/rewrite: only redirect and rewrite paths, if fully\nmatched.\n\nCloses-Bug: #1752272\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 33, 'created': '2018-03-01 16:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f241abbeb7eaa3a341740a39a5be0f916eda982e', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --no-cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as output_dir and no_cleanup.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nAdditionally, fix the shared process_multiple_environments\nredirect/rewrite: only redirect and rewrite paths, if fully\nmatched.\n\nCloses-Bug: #1752272\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 34, 'created': '2018-03-02 10:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/23a71e78dd0800a878addb923b0677166e7c0381', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --no-cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as output_dir and no_cleanup.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nAdditionally, fix the shared process_multiple_environments\nredirect/rewrite: only redirect and rewrite paths, if fully\nmatched.\n\nCloses-Bug: #1752272\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 35, 'created': '2018-03-05 08:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c261c74354218660e30e1bc65ce298f2bc2e6a9c', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --no-cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as output_dir and no_cleanup.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nAdditionally, fix the shared process_multiple_environments\nredirect/rewrite: only redirect and rewrite paths, if fully\nmatched.\n\nCloses-Bug: #1752272\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 36, 'created': '2018-03-06 12:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/afedf5b5da5cd8b2e35df46e4cb755b4ad86f0e9', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete it after the undercloud deployment done, or failed\nwith an exception, unless --no-cleanup is specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --no-cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as output_dir and no_cleanup.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nAdditionally, fix the shared process_multiple_environments\nredirect/rewrite: only redirect and rewrite paths, if fully\nmatched.\n\nCloses-Bug: #1752272\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 37, 'created': '2018-03-07 12:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0422364fcad88354712131c1327e6bed4185a3ad', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete generated templates and temp files after the\nundercloud deployment done or failed, when --cleanup\nis specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as 'output_dir' and 'cleanup'.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nAdditionally, fix the shared process_multiple_environments\nredirect/rewrite: only redirect and rewrite paths, if fully\nmatched.\n\nCloses-Bug: #1752272\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 38, 'created': '2018-03-07 12:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dc47ba9381706bdb5223f641f7488a1f7ad581b2', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete generated templates and temp files after the\nundercloud deployment done or failed, when --cleanup\nis specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as 'output_dir' and 'cleanup'.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nAdditionally, fix the shared process_multiple_environments\nredirect/rewrite: only redirect and rewrite paths, if fully\nmatched.\n\nCloses-Bug: #1752272\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 39, 'created': '2018-03-08 16:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8bffd731e5dc18220a377adaa59fa972b3990ced', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete generated templates and temp files after the\nundercloud deployment done or failed, when --cleanup\nis specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as 'output_dir' and 'cleanup'.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nAdditionally, fix the shared process_multiple_environments\nredirect/rewrite: only redirect and rewrite paths, if fully\nmatched.\n\nCloses-Bug: #1752272\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 40, 'created': '2018-03-08 16:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d1e31b4b54abe205e4a32e2734b509841354b679', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete generated templates and temp files after the\nundercloud deployment done or failed, when --cleanup\nis specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as 'output_dir' and 'cleanup'.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nAdditionally, fix the shared process_multiple_environments\nredirect/rewrite: only redirect and rewrite paths, if fully\nmatched.\n\nCloses-Bug: #1752272\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 41, 'created': '2018-03-09 09:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/26adecd4a27d47a815d64b5a8134e9cd82e81251', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete generated templates and temp files after the\nundercloud deployment done or failed, when --cleanup\nis specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as 'output_dir' and 'cleanup'.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nAdditionally, fix the shared process_multiple_environments\nredirect/rewrite: only redirect and rewrite paths, if fully\nmatched.\n\nCloses-Bug: #1752272\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 42, 'created': '2018-03-09 09:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/88f4f53619c07f02c67572cb5c539367f6625ea6', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete generated templates and temp files after the\nundercloud deployment done or failed, when --cleanup\nis specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as 'output_dir' and 'cleanup'.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nAdditionally, fix the shared process_multiple_environments\nredirect/rewrite: only redirect and rewrite paths, if fully\nmatched.\n\nCloses-Bug: #1752272\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 43, 'created': '2018-03-13 12:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/01ab722d01d619dbbeeff5dae9bfeccdc2f61707', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete generated templates and temp files after the\nundercloud deployment done or failed, when --cleanup\nis specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as 'output_dir' and 'cleanup'.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nAdditionally, fix the shared process_multiple_environments\nredirect/rewrite: only redirect and rewrite paths, if fully\nmatched.\n\nCloses-Bug: #1752272\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 44, 'created': '2018-03-14 08:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/061a0f49125cf673e3451f8cd28b8af9dbbdfd2e', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete generated templates and temp files after the\nundercloud deployment done or failed, when --cleanup\nis specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as 'output_dir' and 'cleanup'.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nAdditionally, fix the shared process_multiple_environments\nredirect/rewrite: only redirect and rewrite paths, if fully\nmatched.\n\nCloses-Bug: #1752272\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 45, 'created': '2018-03-14 12:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4e690d0cb6a6589a9ac6d4b85067a3b808e1f803', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete generated templates and temp files after the\nundercloud deployment done or failed, when --cleanup\nis specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as 'output_dir' and 'cleanup'.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nAdditionally, fix the shared process_multiple_environments\nredirect/rewrite: only redirect and rewrite paths, if fully\nmatched.\n\nCloses-Bug: #1752272\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 46, 'created': '2018-03-15 16:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/50cfb845b2a0519969435d885b99544489e4414a', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete generated templates and temp files after the\nundercloud deployment done or failed, when --cleanup\nis specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as 'output_dir' and 'cleanup'.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nAdditionally, fix the shared process_multiple_environments\nredirect/rewrite: only redirect and rewrite paths, if fully\nmatched.\n\nCloses-Bug: #1752272\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 47, 'created': '2018-03-16 08:38:04.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/undercloud/test_undercloud_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py', 'releasenotes/notes/undercloud-deploy-tht-4af4b91774600e8f.yaml', 'tripleoclient/v1/undercloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0b3b55288b85cdf158b90c895dd4c17937d81f3c', 'message': ""Prepare t-h-t for undercloud in a work dir\n\nThe issue here is that the undercloud heat installer\ndefault uses template in /usr/share and renders the\nresult of the process-templates.py in place.\n\nProcess templates in a temporary work dir created\nfrom the source --templates dir under the --output-dir.\nDelete generated templates and temp files after the\nundercloud deployment done or failed, when --cleanup\nis specified.\nEnsure the --output-dir exists for all of the cases.\n\nThe --output-dir and --cleanup may be passed\neither as the 'undercloud deploy' CLI args, or via\nthe undercloud.conf file, as 'output_dir' and 'cleanup'.\nThe latter way only works for 'undercloud install --use-heat'.\n\nAlso, share process_multiple_environments in utils lib.\nReuse the shared process_multiple_environments for\nundercloud and overcloud heat installers and add unit tests.\n\nAdditionally, fix the shared process_multiple_environments\nredirect/rewrite: only redirect and rewrite paths, if fully\nmatched.\n\nCloses-Bug: #1752272\nCloses-Bug: #1749683\nChange-Id: Ib0c2e3ffd81742441400d27857afae457d71a424\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",58,542875,0b3b55288b85cdf158b90c895dd4c17937d81f3c,212,12,47,6926,,,0,"Prepare t-h-t for undercloud in a work dir

The issue here is that the undercloud heat installer
default uses template in /usr/share and renders the
result of the process-templates.py in place.

Process templates in a temporary work dir created
from the source --templates dir under the --output-dir.
Delete generated templates and temp files after the
undercloud deployment done or failed, when --cleanup
is specified.
Ensure the --output-dir exists for all of the cases.

The --output-dir and --cleanup may be passed
either as the 'undercloud deploy' CLI args, or via
the undercloud.conf file, as 'output_dir' and 'cleanup'.
The latter way only works for 'undercloud install --use-heat'.

Also, share process_multiple_environments in utils lib.
Reuse the shared process_multiple_environments for
undercloud and overcloud heat installers and add unit tests.

Additionally, fix the shared process_multiple_environments
redirect/rewrite: only redirect and rewrite paths, if fully
matched.

Closes-Bug: #1752272
Closes-Bug: #1749683
Change-Id: Ib0c2e3ffd81742441400d27857afae457d71a424
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/75/542875/38 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/undercloud-deploy-tht-4af4b91774600e8f.yaml', 'tripleoclient/v1/undercloud_deploy.py']",2,21c4f81f802f4373fb086179ee80a44ff4e02e78,bug/1749683," def _symlink(self, src, dst, tmpd): self.log.debug(""Symlinking %s to %d, via temp dir %s"" % (src, dst, tmpd)) try: tmp = tempfile.mkdtemp(dir=tmpd) subprocess.check_call(['mkdir', '-p', dst]) os.chmod(tmp, 0o755) for obj in os.listdir(src): tmpf = os.path.join(tmp, obj) os.symlink(os.path.join(src, obj), tmpf) os.rename(tmpf, os.path.join(dst, obj)) except: raise finally: os.rmdir(tmp) self._symlink(src, dst, constants.PUPPET_BASE) tht_render = parset_args.work_dir or tempfile.mkdtemp(dir='/var/tmp') # Symlink t-h-t installed from its package to the work dir src = constants.TRIPLEO_HEAT_TEMPLATES dst = tht_render self._symlink(src, dst, '/tmp') # generate jinja templates by its work dir location parsed_args.roles_file, '--output-dir', tht_render] os.path.abspath(tht_render))) tht_render, 'overcloud-resource-registry-puppet.yaml') tht_render, 'environments', 'undercloud.yaml') tht_render, 'environments', tht_render, 'environments', parser.add_argument( '--work-dir', nargs='?', default=None, help=_(""The persistent work dir for the Heat templates plus"" "" those rendered from the --templates dir. By default,"" "" it is a temporary directory under /var/tmp, rendered "" from %s installed from its package"" % constants.TRIPLEO_HEAT_TEMPLATES), )"," subprocess.check_call(['mkdir', '-p', dst]) tmp = tempfile.mkdtemp(dir=constants.PUPPET_BASE) os.chmod(tmp, 0o755) for obj in os.listdir(src): tmpf = os.path.join(tmp, obj) os.symlink(os.path.join(src, obj), tmpf) os.rename(tmpf, os.path.join(dst, obj)) os.rmdir(tmp) # generate jinja templates parsed_args.roles_file] os.path.abspath(tht_root))) tht_root, 'overcloud-resource-registry-puppet.yaml') tht_root, 'environments', 'undercloud.yaml') tht_root, 'environments', tht_root, 'environments',",55,15
openstack%2Fnova-powervm~master~I95c7c3b80f3bbeaae931d6842959d89ad0442e30,openstack/nova-powervm,master,I95c7c3b80f3bbeaae931d6842959d89ad0442e30,Remove custom hacking rules,MERGED,2018-03-21 21:43:21.000000000,2018-03-21 22:21:45.000000000,2018-03-21 22:21:45.000000000,"[{'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 16710}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 21:43:21.000000000', 'files': ['nova_powervm/hacking/checks.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/9b3abb325b3b8a7a67981af9046f3b78e61bd2db', 'message': 'Remove custom hacking rules\n\nThe two hacking rules, no_log_warn and no_os_popen, have existed in base\nnova for quite some time.  Removing them.\n\nChange-Id: I95c7c3b80f3bbeaae931d6842959d89ad0442e30\n'}]",0,555068,9b3abb325b3b8a7a67981af9046f3b78e61bd2db,8,4,1,14070,,,0,"Remove custom hacking rules

The two hacking rules, no_log_warn and no_os_popen, have existed in base
nova for quite some time.  Removing them.

Change-Id: I95c7c3b80f3bbeaae931d6842959d89ad0442e30
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/68/555068/1 && git format-patch -1 --stdout FETCH_HEAD,['nova_powervm/hacking/checks.py'],1,9b3abb325b3b8a7a67981af9046f3b78e61bd2db,remove_hacking,def factory(register):,"def no_log_warn(logical_line, filename): """"""Disallow 'LOG.warn(' """""" if logical_line.startswith('LOG.warn('): yield(0, 'P301 Use LOG.warning() rather than LOG.warn()') def no_os_popen(logical_line): """"""Disallow 'os.popen(' Deprecated library function os.popen() Replace it using subprocess https://bugs.launchpad.net/tempest/+bug/1529836 P302 """""" if 'os.popen(' in logical_line: yield(0, 'P302 Deprecated library function os.popen(). ' 'Replace it using subprocess module. ') def factory(register): register(no_log_warn) register(no_os_popen)",0,24
openstack%2Fpatrole~master~I0840c6e137b74c7bc41d992a26842918cbc4554a,openstack/patrole,master,I0840c6e137b74c7bc41d992a26842918cbc4554a,Patrole base job as zuulv3 native,MERGED,2018-02-25 13:49:03.000000000,2018-03-21 22:18:56.000000000,2018-03-21 22:18:56.000000000,"[{'_account_id': 8556}, {'_account_id': 17896}, {'_account_id': 22348}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-02-25 13:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/028f9081cd839ddbd6d41bc71c0cd23cb251c27e', 'message': 'Patrole base job as zuulv3 native\n\nThis PS writes Patrole base job (and by extension admin and\nMember jobs as well) as zuulv3 native.\n\nChange-Id: I0840c6e137b74c7bc41d992a26842918cbc4554a\n'}, {'number': 2, 'created': '2018-02-25 13:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/0896a6b0839a6e90ec2328fef887f6905dbeb6e7', 'message': 'Patrole base job as zuulv3 native\n\nThis PS writes Patrole base job (and by extension admin and\nMember jobs as well) as zuulv3 native.\n\nChange-Id: I0840c6e137b74c7bc41d992a26842918cbc4554a\n'}, {'number': 3, 'created': '2018-02-25 13:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/90b401cff22c2dc3b2132e1c03e12ff64353c0ce', 'message': '[WIP] Patrole base job as zuulv3 native\n\nThis PS writes Patrole base job (and by extension admin and\nMember jobs as well) as zuulv3 native.\n\nChange-Id: I0840c6e137b74c7bc41d992a26842918cbc4554a\n'}, {'number': 4, 'created': '2018-02-25 13:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/ceb87364c48b28943fa4a414e854d88436b6dfb0', 'message': '[WIP] Patrole base job as zuulv3 native\n\nThis PS writes Patrole base job (and by extension admin and\nMember jobs as well) as zuulv3 native.\n\nChange-Id: I0840c6e137b74c7bc41d992a26842918cbc4554a\n'}, {'number': 5, 'created': '2018-02-25 17:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/a92b193561621073d94d2849adaf882dd76ade1d', 'message': '[WIP] Patrole base job as zuulv3 native\n\nThis PS writes Patrole base job (and by extension admin and\nMember jobs as well) as zuulv3 native.\n\nChange-Id: I0840c6e137b74c7bc41d992a26842918cbc4554a\n'}, {'number': 6, 'created': '2018-02-25 18:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/88c854816930940d91b55608f589b7ce7b57020b', 'message': 'Patrole base job as zuulv3 native\n\nThis PS writes Patrole base job (and by extension admin and\nMember jobs as well) as zuulv3 native.\n\nChange-Id: I0840c6e137b74c7bc41d992a26842918cbc4554a\n'}, {'number': 7, 'created': '2018-03-12 15:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/cead0edf173dede6d3c36f9a6030ac48b63f2d65', 'message': 'Patrole base job as zuulv3 native\n\nThis PS writes Patrole base job (and by extension admin and\nMember jobs as well) as zuulv3 native.\n\nChange-Id: I0840c6e137b74c7bc41d992a26842918cbc4554a\n'}, {'number': 8, 'created': '2018-03-14 00:32:34.000000000', 'files': ['playbooks/patrole-admin/run.yaml', 'playbooks/patrole-member/post.yaml', '.zuul.yaml', 'playbooks/patrole-admin/post.yaml', 'playbooks/patrole-py35-member/run.yaml', 'playbooks/patrole-py35-member/post.yaml', 'playbooks/patrole-member/run.yaml'], 'web_link': 'https://opendev.org/openstack/patrole/commit/097d94cc0dc0a413a7f92f4c9078d49c2af1efd9', 'message': 'Patrole base job as zuulv3 native\n\nThis PS writes Patrole base job (and by extension admin and\nMember jobs as well) as zuulv3 native.\n\nChange-Id: I0840c6e137b74c7bc41d992a26842918cbc4554a\n'}]",1,547820,097d94cc0dc0a413a7f92f4c9078d49c2af1efd9,31,5,8,23186,,,0,"Patrole base job as zuulv3 native

This PS writes Patrole base job (and by extension admin and
Member jobs as well) as zuulv3 native.

Change-Id: I0840c6e137b74c7bc41d992a26842918cbc4554a
",git fetch https://review.opendev.org/openstack/patrole refs/changes/20/547820/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/patrole-admin/run.yaml', 'playbooks/patrole-member/post.yaml', '.zuul.yaml', 'playbooks/patrole-admin/post.yaml', 'playbooks/patrole-member/run.yaml']",5,028f9081cd839ddbd6d41bc71c0cd23cb251c27e,patrole-base-v3,,"- hosts: all name: Autoconverted job legacy-tempest-dsvm-patrole-member from old job gate-tempest-dsvm-patrole-member-ubuntu-xenial tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack-infra/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ git://git.openstack.org \ openstack-infra/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[local|localrc]] enable_plugin patrole git://git.openstack.org/openstack/patrole TEMPEST_PLUGINS='/opt/stack/new/patrole' # Needed by Patrole devstack plugin RBAC_TEST_ROLE=member EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_TEMPEST_REGEX='(?!.*\[.*\bslow\b.*\])(^patrole_tempest_plugin\.tests\.api)' export DEVSTACK_GATE_TEMPEST_ALL_PLUGINS=1 export TEMPEST_CONCURRENCY=2 export PROJECTS=""openstack/patrole $PROJECTS"" export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",24,290
openstack%2Fnova~stable%2Fpike~I2694b32e9c90ad098101e41e4e3ae36ddafd8d0f,openstack/nova,stable/pike,I2694b32e9c90ad098101e41e4e3ae36ddafd8d0f,Fix docs for IsolatedHostsFilter,MERGED,2018-02-12 20:17:28.000000000,2018-03-21 21:42:42.000000000,2018-03-21 21:42:41.000000000,"[{'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 16128}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-02-12 20:17:28.000000000', 'files': ['doc/source/user/filter-scheduler.rst', 'doc/source/admin/configuration/schedulers.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/f510e2e7f00f612ad636f4e7fcc188d64285a889', 'message': 'Fix docs for IsolatedHostsFilter\n\nThe docs were using variable names from the filter code rather\nthan the actual config options.\n\nChange-Id: I2694b32e9c90ad098101e41e4e3ae36ddafd8d0f\nRelated-Bug: #1746483\n(cherry picked from commit 60bbec15ed319ce703d49667b2649289639a86da)\n(cherry picked from commit c1dfe464bbe2c1a5b0e306285a86c814ceff9e80)\n'}]",0,543604,f510e2e7f00f612ad636f4e7fcc188d64285a889,15,7,1,6873,,,0,"Fix docs for IsolatedHostsFilter

The docs were using variable names from the filter code rather
than the actual config options.

Change-Id: I2694b32e9c90ad098101e41e4e3ae36ddafd8d0f
Related-Bug: #1746483
(cherry picked from commit 60bbec15ed319ce703d49667b2649289639a86da)
(cherry picked from commit c1dfe464bbe2c1a5b0e306285a86c814ceff9e80)
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/543604/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/filter-scheduler.rst', 'doc/source/admin/configuration/schedulers.rst']",2,f510e2e7f00f612ad636f4e7fcc188d64285a889,bug/1746483, [filter_scheduler],,5,4
openstack%2Fnova~stable%2Fpike~Ieb8abb1a3f04ce008f9617e051e4d720dbe6917a,openstack/nova,stable/pike,Ieb8abb1a3f04ce008f9617e051e4d720dbe6917a,Handle volume-backed instances in IsolatedHostsFilter,MERGED,2018-02-12 20:17:28.000000000,2018-03-21 21:42:33.000000000,2018-03-21 21:42:33.000000000,"[{'_account_id': 6873}, {'_account_id': 8213}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-02-12 20:17:28.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1746483.py', 'nova/scheduler/filters/isolated_hosts_filter.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fb723851707d6a764cb8154343087affc19e5db0', 'message': ""Handle volume-backed instances in IsolatedHostsFilter\n\nThe RequestSpec.image object for a volume-backed instance will\nnot have the 'id' attribute set because the\nnova.utils.get_image_metadata_from_volume() method doesn't convert\nthe volume['volume_image_metadata']['image_id'] into the ImageMeta.id\nfield. It is unclear if there are intentional reasons for omitting\nthis information, but the IsolatedHostsFilter has just never supported\nfiltering for volume-backed instances based on a provided image id.\n\nThe logic within the filter depends on the\nrestrict_isolated_hosts_to_isolated_images config option, which\ndefaults to True. When True, a volume-backed instance will not be\nput on an isolated host. When False, a volume-backed instance can\ngo on any host, isolated or not.\n\nAgain, it's unclear if we should actually be filtering volume-backed\nservers using the image_id from the volume_image_metadata or not,\nbut it's not what we've historically done so this change simply\nfixes the regression bug.\n\nChange-Id: Ieb8abb1a3f04ce008f9617e051e4d720dbe6917a\nCloses-Bug: #1746483\n(cherry picked from commit 0a7427dc58eeb271646a962604106e0e84b870b6)\n(cherry picked from commit 4c6443c0b5579853f4b87eb8302d24aca99dddab)\n""}]",0,543603,fb723851707d6a764cb8154343087affc19e5db0,17,9,1,6873,,,0,"Handle volume-backed instances in IsolatedHostsFilter

The RequestSpec.image object for a volume-backed instance will
not have the 'id' attribute set because the
nova.utils.get_image_metadata_from_volume() method doesn't convert
the volume['volume_image_metadata']['image_id'] into the ImageMeta.id
field. It is unclear if there are intentional reasons for omitting
this information, but the IsolatedHostsFilter has just never supported
filtering for volume-backed instances based on a provided image id.

The logic within the filter depends on the
restrict_isolated_hosts_to_isolated_images config option, which
defaults to True. When True, a volume-backed instance will not be
put on an isolated host. When False, a volume-backed instance can
go on any host, isolated or not.

Again, it's unclear if we should actually be filtering volume-backed
servers using the image_id from the volume_image_metadata or not,
but it's not what we've historically done so this change simply
fixes the regression bug.

Change-Id: Ieb8abb1a3f04ce008f9617e051e4d720dbe6917a
Closes-Bug: #1746483
(cherry picked from commit 0a7427dc58eeb271646a962604106e0e84b870b6)
(cherry picked from commit 4c6443c0b5579853f4b87eb8302d24aca99dddab)
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/543603/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1746483.py', 'nova/scheduler/filters/isolated_hosts_filter.py']",2,fb723851707d6a764cb8154343087affc19e5db0,bug/1746483, # Check to see if the image id is set since volume-backed instances # can be created without an imageRef in the server create request. image_ref = spec_obj.image.id \ if spec_obj.image and 'id' in spec_obj.image else None, image_ref = spec_obj.image.id if spec_obj.image else None,12,5
openstack%2Fkeystone~master~I0b5aef233d9e51799595802d0812015866727987,openstack/keystone,master,I0b5aef233d9e51799595802d0812015866727987,Mark the implied role API as stable,MERGED,2018-03-07 21:30:13.000000000,2018-03-21 21:42:28.000000000,2018-03-21 21:42:27.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 11022}, {'_account_id': 15054}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-07 21:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d12e50bf0e07a0bfe5f3b1a987d31a249795efc9', 'message': 'Mark the implied role API as stable\n\nThis API has been in keystone for a long time and we never really\nupdated it to stable, yet we treat it like a stable API. This change\nupdates the JSON home document to reflect that. This is also\nconsistent with discussions during the Rocky PTG.\n\nChange-Id: I0b5aef233d9e51799595802d0812015866727987\n'}, {'number': 2, 'created': '2018-03-16 16:06:36.000000000', 'files': ['releasenotes/notes/implied-roles-stable-8b293e187c5620ad.yaml', 'keystone/assignment/routers.py', 'keystone/tests/unit/test_versions.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/07a66b9c2e02d5fea92455fb56e26734df49ce8f', 'message': 'Mark the implied role API as stable\n\nThis API has been in keystone for a long time and we never updated it\nto stable, yet we treat it like a stable API. This change updates the\nJSON home document to reflect that. This is also consistent with\ndiscussions during the Rocky PTG:\n\n  https://etherpad.openstack.org/p/keystone-rocky-ptg-json-home\n\nChange-Id: I0b5aef233d9e51799595802d0812015866727987\n'}]",6,550611,07a66b9c2e02d5fea92455fb56e26734df49ce8f,19,7,2,5046,,,0,"Mark the implied role API as stable

This API has been in keystone for a long time and we never updated it
to stable, yet we treat it like a stable API. This change updates the
JSON home document to reflect that. This is also consistent with
discussions during the Rocky PTG:

  https://etherpad.openstack.org/p/keystone-rocky-ptg-json-home

Change-Id: I0b5aef233d9e51799595802d0812015866727987
",git fetch https://review.opendev.org/openstack/keystone refs/changes/11/550611/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/implied-roles-stable-8b293e187c5620ad.yaml', 'keystone/assignment/routers.py', 'keystone/tests/unit/test_versions.py']",3,d12e50bf0e07a0bfe5f3b1a987d31a249795efc9,550611," 'prior_role_id': json_home.Parameters.ROLE_ID} }, }, },"," 'prior_role_id': json_home.Parameters.ROLE_ID}, 'hints': {'status': 'experimental'}}, 'hints': {'status': 'experimental'}}, 'hints': {'status': 'experimental'}},",9,7
openstack%2Fopenstack-ansible-os_nova~master~I9a00e3bd5dca4581cb43bf298c4d792375b5252f,openstack/openstack-ansible-os_nova,master,I9a00e3bd5dca4581cb43bf298c4d792375b5252f,Move nova_glance_api_servers variable into role,MERGED,2018-03-02 16:45:19.000000000,2018-03-21 21:41:42.000000000,2018-03-21 21:41:42.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 26405}]","[{'number': 1, 'created': '2018-03-02 16:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/c46ee722b252766268a8e966c285435969c6a6df', 'message': 'Clean glance variable\n\nClean glance api servers variable.\n\nChange-Id: I9a00e3bd5dca4581cb43bf298c4d792375b5252f\n'}, {'number': 2, 'created': '2018-03-20 16:46:24.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2bef934a4b0af949be0158e856321211162458e3', 'message': 'Move nova_glance_api_servers variable into role\n\nAs part of cleaning inventory variables, we are\nmoving some of the variables to be created in\nroles instead of in inventory. This moves the\nnova_glance_api_servers variable into role.\n\nChange-Id: I9a00e3bd5dca4581cb43bf298c4d792375b5252f\n'}]",0,549285,2bef934a4b0af949be0158e856321211162458e3,11,4,2,26405,,,0,"Move nova_glance_api_servers variable into role

As part of cleaning inventory variables, we are
moving some of the variables to be created in
roles instead of in inventory. This moves the
nova_glance_api_servers variable into role.

Change-Id: I9a00e3bd5dca4581cb43bf298c4d792375b5252f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/85/549285/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,c46ee722b252766268a8e966c285435969c6a6df,cleanup-nova-glance,"nova_glance_api_servers: ""{{ glance_service_internalurl | netorigin }}""",# nova_glance_api_servers:,1,1
openstack%2Fnetworking-ovn~master~I179716da4d1d46012a53ec8e6b470b57de952beb,openstack/networking-ovn,master,I179716da4d1d46012a53ec8e6b470b57de952beb,Fix test_provision_path() unittest,MERGED,2018-03-20 16:51:55.000000000,2018-03-21 21:30:11.000000000,2018-03-21 21:30:11.000000000,"[{'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 16:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5bdcc0df777404e31f18a0dfdc3ba78224daad7e', 'message': ""Fix test_provision_path() unittest\n\nThe patch I2d5b95ec109fb19fc2a46c1017959f74011b9a22 changed the way the\nIPDevice.exists() method work and it broke the unittest\ntest_provision_path() in networking-ovn.\n\nThis patch is mocking the IPDevice.exists() method now to what is\nexpected on that test so it doesn't rely on it's implementation anymore.\n\nChange-Id: I179716da4d1d46012a53ec8e6b470b57de952beb\n""}, {'number': 2, 'created': '2018-03-20 16:53:41.000000000', 'files': ['networking_ovn/tests/unit/agent/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/04ffe70cfc7ce8d1b1c4895f8617b45a5b3f8c51', 'message': ""Fix test_provision_path() unittest\n\nThe patch aaf11f45ecf8f832301491017a8009f1897e8d43 in Neutron changed\nthe way the IPDevice.exists() method work and it broke the unittest\ntest_provision_path() in networking-ovn.\n\nThis patch is mocking the IPDevice.exists() method now to what is\nexpected on that test so it doesn't rely on it's implementation anymore.\n\nChange-Id: I179716da4d1d46012a53ec8e6b470b57de952beb\n""}]",0,554626,04ffe70cfc7ce8d1b1c4895f8617b45a5b3f8c51,13,4,2,6773,,,0,"Fix test_provision_path() unittest

The patch aaf11f45ecf8f832301491017a8009f1897e8d43 in Neutron changed
the way the IPDevice.exists() method work and it broke the unittest
test_provision_path() in networking-ovn.

This patch is mocking the IPDevice.exists() method now to what is
expected on that test so it doesn't rely on it's implementation anymore.

Change-Id: I179716da4d1d46012a53ec8e6b470b57de952beb
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/26/554626/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/unit/agent/metadata/test_agent.py'],1,5bdcc0df777404e31f18a0dfdc3ba78224daad7e,," mock.patch.object( ip_lib.IPDevice, 'exists', return_value=False),\",,2,0
openstack%2Fcinder~master~I7b5a870bf74574f45fc46fdccb9551a2e911f360,openstack/cinder,master,I7b5a870bf74574f45fc46fdccb9551a2e911f360,Fix policy in code docs for extended_snapshot_attributes,MERGED,2018-03-18 23:02:11.000000000,2018-03-21 21:26:43.000000000,2018-03-20 01:59:18.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 17887}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21486}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23186}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-03-18 23:02:11.000000000', 'files': ['cinder/policies/snapshots.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/354f9d70b272275cd95655650750622472ddb43d', 'message': ""Fix policy in code docs for extended_snapshot_attributes\n\nThis is to fix policy in code docs for the policy\n'volume_extension:extended_snapshot_attributes' which currently\nincorrectly says that the policy is enforced for GET /snapshots\nwhich is wrong [0].\n\nAccording to the code, the policy is enforced for show and details\n(GET /snapshots/{snapshot_id} and GET /snapshots/details) [1].\n\nThis was also confirmed using Patrole test [2].\n\n[0] https://github.com/openstack/cinder/blob/831665f59a0d87f2dbf7fa4f7496305977a98b0f/cinder/policies/snapshots.py#L48\n[1] https://github.com/openstack/cinder/blob/831665f59a0d87f2dbf7fa4f7496305977a98b0f/cinder/api/contrib/extended_snapshot_attributes.py#L30\n[2] I7770148584e10a08b3e133b1793a1533f1728fc1\n\nChange-Id: I7b5a870bf74574f45fc46fdccb9551a2e911f360\n""}]",0,554071,354f9d70b272275cd95655650750622472ddb43d,39,29,1,23186,,,0,"Fix policy in code docs for extended_snapshot_attributes

This is to fix policy in code docs for the policy
'volume_extension:extended_snapshot_attributes' which currently
incorrectly says that the policy is enforced for GET /snapshots
which is wrong [0].

According to the code, the policy is enforced for show and details
(GET /snapshots/{snapshot_id} and GET /snapshots/details) [1].

This was also confirmed using Patrole test [2].

[0] https://github.com/openstack/cinder/blob/831665f59a0d87f2dbf7fa4f7496305977a98b0f/cinder/policies/snapshots.py#L48
[1] https://github.com/openstack/cinder/blob/831665f59a0d87f2dbf7fa4f7496305977a98b0f/cinder/api/contrib/extended_snapshot_attributes.py#L30
[2] I7770148584e10a08b3e133b1793a1533f1728fc1

Change-Id: I7b5a870bf74574f45fc46fdccb9551a2e911f360
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/554071/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/policies/snapshots.py'],1,354f9d70b272275cd95655650750622472ddb43d,fix-snapshot-policy-docs," description=""List or show snapshots with extended attributes."", 'path': '/snapshots/{snapshot_id}'"," description=""List snapshots with extended attributes."", 'path': '/snapshots'",2,2
openstack%2Foslo.utils~stable%2Focata~I663ed579c27e48a34fdd9565037110a43e5b5587,openstack/oslo.utils,stable/ocata,I663ed579c27e48a34fdd9565037110a43e5b5587,Prevent deprecation error messages from pkg_resources,MERGED,2018-03-19 19:49:02.000000000,2018-03-21 21:23:19.000000000,2018-03-19 22:04:07.000000000,"[{'_account_id': 2472}, {'_account_id': 6928}, {'_account_id': 14760}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 19:49:02.000000000', 'files': ['oslo_utils/versionutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/229a1690bbfe554e84e63bff9e7e3ce3bef1126f', 'message': 'Prevent deprecation error messages from pkg_resources\n\nCurrently pkg_resources is creating this warning message:\n\n    RuntimeWarning: You have iterated over the result of\n    pkg_resources.parse_version. This is a legacy behavior which is\n    inconsistent with the new version class introduced in setuptools\n    8.0.  In most cases, conversion to a tuple is unnecessary. For\n    comparison of versions, sort the Version instances directly. If\n    you have another use case requiring the tuple, please file a bug\n    with the setuptools project describing that need.\n\nGet the major_version directly from the version string passed in\ninstead so that the warning message is not raised.\n\nCloses-Bug: #1706394\nChange-Id: I663ed579c27e48a34fdd9565037110a43e5b5587\n(cherry picked from commit 47b22208eaa6be2c0352514a66926dd2baeaa025)\n'}]",0,554338,229a1690bbfe554e84e63bff9e7e3ce3bef1126f,10,4,1,11904,,,0,"Prevent deprecation error messages from pkg_resources

Currently pkg_resources is creating this warning message:

    RuntimeWarning: You have iterated over the result of
    pkg_resources.parse_version. This is a legacy behavior which is
    inconsistent with the new version class introduced in setuptools
    8.0.  In most cases, conversion to a tuple is unnecessary. For
    comparison of versions, sort the Version instances directly. If
    you have another use case requiring the tuple, please file a bug
    with the setuptools project describing that need.

Get the major_version directly from the version string passed in
instead so that the warning message is not raised.

Closes-Bug: #1706394
Change-Id: I663ed579c27e48a34fdd9565037110a43e5b5587
(cherry picked from commit 47b22208eaa6be2c0352514a66926dd2baeaa025)
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/38/554338/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_utils/versionutils.py'],1,229a1690bbfe554e84e63bff9e7e3ce3bef1126f,pip/5081," if same_major: # NOTE(jlvillal) pkg_resources issues a warning if we try to access # portions of the version, for example requested_parts[0] will issue a # warning message. So get the major_version from the string instead. if requested_version.split('.')[0] != current_version.split('.')[0]: return False", if same_major and (requested_parts[0] != current_parts[0]): return False,6,2
openstack%2Frpm-packaging~master~I7caa10c1038b666a0723fc07f5ceec8272c43200,openstack/rpm-packaging,master,I7caa10c1038b666a0723fc07f5ceec8272c43200,Updated os-win to 3.1.0,ABANDONED,2018-02-27 12:54:05.000000000,2018-03-21 21:22:57.000000000,,"[{'_account_id': 13294}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-27 12:54:05.000000000', 'files': ['openstack/os-win/os-win.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f876871d047a572a2edaafc128889ab82f4dc25b', 'message': 'Updated os-win to 3.1.0\n\nChange-Id: I7caa10c1038b666a0723fc07f5ceec8272c43200\n'}]",0,548266,f876871d047a572a2edaafc128889ab82f4dc25b,8,6,1,26297,,,0,"Updated os-win to 3.1.0

Change-Id: I7caa10c1038b666a0723fc07f5ceec8272c43200
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/66/548266/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-win/os-win.spec.j2'],1,f876871d047a572a2edaafc128889ab82f4dc25b,os-win,Version: 3.1.0,Version: 3.0.0,1,1
openstack%2Fopenstack-specs~master~Idfe1ff0024c607e676930495cd867919147565ef,openstack/openstack-specs,master,Idfe1ff0024c607e676930495cd867919147565ef,Replace eventlet + monkey-patching with ??,ABANDONED,2015-03-13 00:20:31.000000000,2018-03-21 20:50:20.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 308}, {'_account_id': 1297}, {'_account_id': 1736}, {'_account_id': 1849}, {'_account_id': 2472}, {'_account_id': 2622}, {'_account_id': 4190}, {'_account_id': 6804}, {'_account_id': 6969}, {'_account_id': 8978}, {'_account_id': 12210}, {'_account_id': 12363}, {'_account_id': 15648}]","[{'number': 1, 'created': '2015-03-13 00:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/f049461704e4dda2f314e039a685d3299f23e78c', 'message': 'Replace eventlet + monkey-patching with ??\n\nChange-Id: Idfe1ff0024c607e676930495cd867919147565ef\n'}, {'number': 2, 'created': '2015-03-16 18:39:05.000000000', 'files': ['specs/eventlet-to-something.rst'], 'web_link': 'https://opendev.org/openstack/openstack-specs/commit/d7e5a573702c3dc1f122ea342ad71a8bacdd3078', 'message': 'Replace eventlet + monkey-patching with ??\n\nChange-Id: Idfe1ff0024c607e676930495cd867919147565ef\n'}]",57,164035,d7e5a573702c3dc1f122ea342ad71a8bacdd3078,25,15,2,1297,,,0,"Replace eventlet + monkey-patching with ??

Change-Id: Idfe1ff0024c607e676930495cd867919147565ef
",git fetch https://review.opendev.org/openstack/openstack-specs refs/changes/35/164035/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/eventlet-to-something.rst'],1,f049461704e4dda2f314e039a685d3299f23e78c,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================= Replace eventlet + monkeypatching by ?? ======================================= .. contents:: Table of Contents :depth: 1 Problem description =================== As of recent times there has been an ongoing discussion as to what needs to be done about the `eventlet`_ (and by association `greenlet`_) situation in OpenStack. There have been various discussions at summits about how eventlet has been problematic, sometimes flakey and at worst causes incorrectness in the OpenStack projects. Due to times past [#old]_ when twisted and others were considered but eventually rejected we have ended up in the situation where we are today where OpenStack has become heavily reliant on the ability of eventlet monkey-patching to patch out synchronous calls and make them transparently asynchronous. It has become more and more apparent that this way forward is not desirable and certain options have started to appear to allow for getting away from that model (and to something where the pasture is more green). Some of the issues of worth noting: #. Certain third party/python libraries not interacting with the patching mechanism correctly (the subprocess module being one example, MySQL-Python being another...). #. Poor support for python 3.x (ongoing work related to this has been slowly progressing for years). This limits the ability of OpenStack projects to themselves move to python 3.x (as they depend on eventlet to support it first). #. Incorrect, non-obvious monkeypatching order. It has required a watchful eye and even a `best practices`_ specification of its own to try to reconcile the different usages of eventlet (and the usages have varied over time). Certain projects patch certain modules and in certain orders and achieving consistency here has been a tax on developers as well as a constant source of frustration and/or misunderstanding. These types of issues can lead to lock-ups and/or races if done incorrectly... #. `Action at a distance`_, lock-ups (and other issues/races) can happen at a distance (in some library applications use, or a library of a library that is being used...); so it is not always obvious where the problem actually originates (this makes debugging much harder). One such option being asyncio and another option is to just use native python threads. Both of these approaches can be used to deal with (and alleviate) the issues of eventlet and its monkey patching. This proposal will discuss and debate the merits, drawbacks, associated changes, and impact of doing just that (with potential plans on how to make this possible) Threads proposal ================ Proposed change --------------- Let us propose the most dramatic change first (and weaken that argument as we see fit later) to get the thought exercise going; replace eventlet and its croonies with usage of threads and thread pools (and associated thread concepts, like locks...) outright. Now let's analyze the potential side-effects of doing this (each section below will touch on a key underlying part of OpenStack that would be affected). Services and forking ~~~~~~~~~~~~~~~~~~~~ Services ******** First there would be required changes to make the dispatching 'receiving' libraries use threads (these are mostly all the non-wsgi long-living services that exist in OpenStack), one of the key libraries required to accommodate this would be `oslo.messaging`_. That library recently acquired a thread-pool executor (see `70914`_) that can spin off requests into a future compatible `executor`_ (this module added in python 3.2 has a `backport`_ that has been used for quite a while in OpenStack projects, primarily by `taskflow engines`_ and `tooz`_ but likely also by others?). This spinning off of requests into a **per-request** thread (using a shared pool) will allow that thread to block, unblock, and yield to other threads (just as it would normally) by taking advantage of the in-built ability of threads to be suspended when doing blocking I/O (or acquiring some shared lock...) by using the operating system scheduler to do the work for us (in combination with the python internals as well). Python itself has some internal mechanics that help switch between threads periodically (this is connected to how the GIL works and how the internal details of threads in python operate). Both of these intervals listed below are relevant for those that are interested in learning more about how this works: * https://docs.python.org/2/library/sys.html#sys.setcheckinterval * https://docs.python.org/dev/library/sys.html#sys.setswitchinterval Since most libraries **should** already be able to work in this type of mode (running in a thread, blocking as needed, using shared-data in a safe manner) this makes the change noted above that much less dramatic (and likely just requires us to tweak the thread pool size to a reasonable value; and potentially fix some libraries shared usage of data, if any is encountered). For libraries which are not thread-safe (or do not release the GIL at the appropriate time) we will need to devise strategies to fix those libraries so that they work correctly without issue. Some of those strategies could be: * Put a lock around any usage of that library (or provide an API that locks and then calls into the libraries API). * Use a shared pool of objects from the library and have a access layer that fetches items from that pool before usage (and returns it after usage). In general I would prefer **not** to use the above listed strategies and instead contribute to those libraries, making them better, and helping be good citizens in the larger python community. Forking ******* In regard to forking, let's also dive into what happens *before* a request is received and dispatched. First and foremost most of the OpenStack projects (that are not wsgi entrypoints or simple command line scripts) use a `service.py`_ set of code to spin-up eventlet thread *pool* (and associated forked processes). This would need to be redone/refactored to use thread pools (the amount of work here should be achievable as the concepts are very similar and/or nearly equivalent with a real thread pool). Certain concepts that will likely *not* apply are around the default ability to stop green-threads by 'force' (this will not work with regular threads as you can not stop them by 'force' but must request them to stop and ``join()`` on them; this likely *should* be the default for green-threads anyway as forcefully terminating a thread is typically bad practice, especially when the code being terminated is unable to have any response and/or become aware that it has been terminated forcefully). WSGI ~~~~ The other bigger change is what to do about the wsgi entrypoints requests (not the same per-request as above, but a web-service request vs a message queue received request). For this option I would prefer to let applications such as apache or others handle the request as they see fit and just make sure that our applications provide wsgi entrypoints that are stateless and can be horizontally scaled as needed (aka remove all eventlet and thread ... semantics and usage from these entrypoints entirely). If at deployment time a deployer wants to use apache (or wants to use something else) or wants to shove the wsgi entrypoint into a *hacky* (and typically non-standard/questionably solid IMHO) eventlet wsgi server that is up to there own deployment decisions/choices. For those wsgi applications that interact with the previously mentioned message queue based services it should be fine for each WSGI request to use a blocking executor (oslo.messaging provides one of these) or a thread-pool executor that the WSGI server maintains (or keep a pool of executors alive so that each WSGI request that comes in can grap a executor from the pool and use it as needed, and release that executor back to the pool when done). Periodics ~~~~~~~~~ Another change that will need to be done is to refactor the usage of periodic tasks (and things like `loopingcall.py`_) used in various projects to move away from using eventlet style semantics to achieve these types of periodic work. Instead a thread (or multiple threads) that run functions periodically can/should be used instead, or in the case of a looping call a implementation that potentially takes advantage of something like a `scheduled executor`_ should be preferred instead. `TaskFlow`_ has a piece of code that *could* be useful to achieve this: https://github.com/openstack/taskflow/blob/master/taskflow/types/periodic.py This above code could/should be able to replace periodic eventlet loops and/or calls with a thread that achieves the same thing (using a `heapq`_ to determine next run-times). It will be expected that these types of eventlet specific usage will need to be explored in more depth and analyzed to determine exactly the best way to convert them from what they are *today* to there equivalent (or nearly equivalent) future version. Locks locks and more locks ~~~~~~~~~~~~~~~~~~~~~~~~~~ In the various OpenStack projects there *may* be a set of issues that are discovered with the above shift to threads that uncover races that need to be protected. I personally don't expect many of these as the above describes that most of OpenStack projects are already using shared-nothing workers (and/or shared-nothing process that themselves contain shared-nothing workers). Where appropriate it may be required to add more locks around shared state (where/if it exists) to avoid these types of issues that were previously being hidden by eventlet usage. Projects/libraries that we use that we uncover to be not thread-safe may also be required to be fixed/adjusted to be thread-safe (although we likely have seen most of the problematic areas already due to how any races around I/O like function would have already been uncovered). The amount of code we will hit that has threading issues (and doesn't use locks) is a definite unknown (but does seem solveable and tractable). It may be useful to do a analysis of patterns that projects are using and to have each projects PTL provide a summary/basic analysis of there feeling for there projects thread-safety (it would be nice to do a similar analysis of any libraries that are being used). This kind of proactive (instead of reactive) analysis would help in determining issues ahead of time, instead of when those libraries or projects start causing hard to detect bugs/errors/issues. Caches ****** Where *in-process* caches are used in OpenStack they will need to be examined to determine if they are thread-safe; certain checks need to be done to verify this. For example to ensure that a thread is not iterating over a dictionary (which could be the potential cache) and another thread is removing items from that same dictionary (this is not a thread-safe operation). These types of checks will likely need to be done by each project (and would be a great type of thing to report back on in the previously mentioned per-project analysis). External locks ************** This document does not go into the already existing (and already known) external state that is being maintained (in databases, using lock files, libvirt databases ...). These kind of state (and the issues associated with them) are an already known and addressed (or are being addressed) issue since there usage is independent of green-threads (or native-threads). The problems that exist with these types of external state (and coordination/usage) exist no matter what internal application solution (greenthreads, asyncio, threads...) is finally determined to be the path forward. How to address ************** For projects that need locks the following code & references are useful: * https://docs.python.org/2/library/threading.html (locks and more...) * https://pypi.python.org/pypi/oslo.concurrency (includes a reader/writer lock and filesystem based locks and more...). * https://pypi.python.org/pypi/tooz (includes distributed locks backed by various implementations, each with there own benefits/drawbacks that need to be considered before usage and more...). * Others... Backdoors ~~~~~~~~~ The other functionality that would go away (or need to be reproduced) would be the usage of the eventlet `backdoor`_ for debugging. This should be easily reproducible by having a *idle* thread that is dedicated to doing this (if its existence is still justified now that things like ``gdb`` will operate more naturally with regular threads and without the funkiness that required having a `backdoor`_ in the first place). REST API impact --------------- Depending on the above mentioned WSGI section and how it would be advantegous to remove eventlet/(green)thread concepts entirely from those layers this would have an impact on the operators running those API(s) as they would have to make a decision about which WSGI hosting container (apache, nginx, uWSGI...) to use. Performance Impact ------------------ Unknown, there will likely need to be analysis done to determine exactly what the conversion of green-thread workers to native thread workers needs to be and what impact it will have on request rate (if any). For this we will need to determine how many green-threads a single regular thread can perform the equivalent work of (perhaps the ratio is 1:1, although it is likley not). It should be relatively simple to increase the ratio as we see fit and address bottlenecks that we find (as long as those bottlenecks are not python itself, which they might actually be...). For certain *compute* (and not I/O) intensive projects (keystone?) they may not see much advantage of switching to native threads (due to the GIL) and they may have to try alternate techniques to solve there architectural limitations (scaling out with processes...). This is **not** expected to be new territory for these projects as they *should have* hit the same kind of issues already with eventlet at scale (if they didn't that project seems somewhat questionable). Things that would likely work better ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ * MySQL-Python (assuming in ``C`` land it releases the `GIL`_ correctly and protects its internals from threads correctly as well...). This does **not** solve the issue that MySQL-Python is *still* not python3.x compatible... * Other ``C`` libraries that we may use? * All those libraries that are already built to (and prepared to) work with threads. Things that would likely not work better ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ * Hashlib in python 2.6 apparently does not release the GIL (this is fixed in `4751`_ and is no longer a problem in python 2.7 or greater). * All those libraries that forgot to think about threads (and are racey and/or broken due to this). Developer impact ---------------- Likely a shift in mindset, a shift in usage patterns... Developers will now have to think more about what may block and where that code that is blocking is running (if it's running in one of these per-request threads that most OpenStack applications use, then they likely don't need to care). They may need to think about locks on shared data (especially anything regarding global or shared object data/state); although most projects are already avoiding this kind of usage already (by using ``context`` variables for per-request state for example); certain things like ``oslo.config`` objects may need to be analyzed to determine thread-safety but most other usages should not be that problematic. Work Items ---------- Using this section to highlight things we need to decide that aren't settled as of yet. * Request PTLs feedback/analysis on there own projects thread-safety. * Investigate (to some level) libraries used and expected/anticipated thread-safety (or expected issues/fixes required). * Refactor `service.py`_ to use native threads (and refactor associated unit tests accordingly); or replace it with some pre-existing library (or make one of the ones that already exists better)? * See: https://etherpad.openstack.org/service-py-replacements * Switch the default oslo.messaging executor used to the threadpool executor... * Run tests... * See what fails (due to thread issues or races or other)... * Fix issues related to thread safety (or other) and repeat... * Figure out how to best inform operators about the new way this works and any adjustements they would need to make. * Profit! Asyncio proposal ================ Proposed change --------------- This specification proposes to replace eventlet with asyncio. It reduces the risk of race conditions, fix eventlet issues, prepare OpenStack for the future (reduce the technical debt) and ease the usage of native threads (for better performances). Even if the title contains ""asyncio"", the spec proposes to use trollius. The name asyncio is used in the spec because it is better known than trollius, and trollius is almost the same thing than asyncio. The spec doesn't change OpenStack components running WSGI servers like nova-api. The specific problem of using asyncio with WSGI will need a separated spec. The spec is focused on Oslo Messaging and Ceilometer projects, except of the ``ceilometer-api`` daemon. More OpenStack applications may be modified later if the Ceilometer port to asyncio is successful. Ceilometer will be used to find and solve technical issues with asyncio, so the same solutions can be used on other OpenStack components. Changes on Ceilometer should be done during an OpenStack cycle. Ceilometer must not be (much) slower and less reliable because of these changes. The development on Ceilometer may be done in a new branch of the git repository, to not touch the ``master`` branch. Then the code will then be merged with classical reviews. Blueprint: https://blueprints.launchpad.net/oslo.messaging/+spec/greenio-executor Note: Since Trollius will be used, this spec is unrelated to Python 3. See the `OpenStack Python 3 wiki page <https://wiki.openstack.org/wiki/Python3>`_ to get the status of the port. Implementation ============== Assignee(s) ----------- Assignee is for moving these guidelines through the review process to something that we all agree on. The expectation is that these become review criteria that we can reference and are implemented by a large number of people than listed below (one person will **not** be able to change all of OpenStack to this new/different model). Primary assignee(s): * Joshua Harlow <harlowja@yahoo-inc.com> * Victor Stinner <vstinner@redhat.com> Documentation Impact ==================== Once agreed upon this should/could form a more permanent document on concurrency specifications and best practices in OpenStack... References ========== .. _Action at a distance: http://en.wikipedia.org/wiki/Action_at_a_distance .. _GIL: https://wiki.python.org/moin/GlobalInterpreterLock .. _4751: http://bugs.python.org/issue4751 .. _tooz: https://github.com/openstack/tooz .. _backport: https://pypi.python.org/pypi/futures .. _TaskFlow: https://github.com/openstack/taskflow .. _heapq: https://docs.python.org/2/library/heapq.html .. _futures: https://docs.python.org/dev/library/concurrent.futures.html#future-objects .. _oslo.messaging: http://docs.openstack.org/developer/oslo.messaging/ .. _eventlet: http://eventlet.net/ .. _taskflow engines: http://docs.openstack.org/developer/taskflow/engines.html#how-they-run .. _greenlet: https://greenlet.readthedocs.org/en/latest/ .. _asyncio: https://docs.python.org/3/library/asyncio.html .. _153298: https://review.openstack.org/#/c/153298/ .. _executor: https://docs.python.org/dev/library/concurrent.futures.html#threadpoolexecutor .. _it: http://docs.openstack.org/developer/taskflow/types.html#taskflow.types.futures.GreenThreadPoolExecutor .. _70914: https://review.openstack.org/#/c/70914/ .. _service.py: https://github.com/openstack/oslo-incubator/blob/master/openstack/common/service.py .. _loopingcall.py: https://github.com/openstack/oslo-incubator/blob/master/openstack/common/loopingcall.py .. _scheduled executor: http://bugs.python.org/issue17956 .. _backdoor: https://github.com/openstack/oslo-incubator/blob/master/openstack/common/eventlet_backdoor.py .. _best practices: https://review.openstack.org/#/c/154642/ .. [#old] https://wiki.openstack.org/wiki/UnifiedServiceArchitecture#eventlet_vs_Twisted ",,428,0
openstack%2Fnova~master~Ia7e99a49e5a3e787ffbb2a98100a836cd7b788f0,openstack/nova,master,Ia7e99a49e5a3e787ffbb2a98100a836cd7b788f0,trivialfix: cleanup _pack_instance_onto_cores(),MERGED,2018-01-29 00:04:18.000000000,2018-03-21 20:44:01.000000000,2018-03-21 14:47:03.000000000,"[{'_account_id': 7}, {'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27566}]","[{'number': 1, 'created': '2018-01-29 00:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebc3ccc0cb018d001aa5bb7ad8d7868f308e7003', 'message': 'trivialfix: cleanup _pack_instance_onto_cores()\n\n_pack_instance_onto_cores function received several arguments for\nvalues in objects.NUMACell instance. This patch changes the function\nto receive just objects.NUMACell instance for clean up purpose.\n\nChange-Id: Ia7e99a49e5a3e787ffbb2a98100a836cd7b788f0\n'}, {'number': 2, 'created': '2018-01-30 10:28:09.000000000', 'files': ['nova/virt/hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c5d84e3a02687f48f7b2d88e6c7d6265cf113f0e', 'message': 'trivialfix: cleanup _pack_instance_onto_cores()\n\n_pack_instance_onto_cores function received several arguments for\nvalues in objects.NUMACell instance. This patch changes the function\nto receive just objects.NUMACell instance for clean up purpose.\n\nChange-Id: Ia7e99a49e5a3e787ffbb2a98100a836cd7b788f0\n'}]",0,538698,c5d84e3a02687f48f7b2d88e6c7d6265cf113f0e,46,18,2,25625,,,0,"trivialfix: cleanup _pack_instance_onto_cores()

_pack_instance_onto_cores function received several arguments for
values in objects.NUMACell instance. This patch changes the function
to receive just objects.NUMACell instance for clean up purpose.

Change-Id: Ia7e99a49e5a3e787ffbb2a98100a836cd7b788f0
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/538698/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/hardware.py'],1,ebc3ccc0cb018d001aa5bb7ad8d7868f308e7003,bug/1744965,"def _pack_instance_onto_cores(host_cell, instance_cell, :param host_cell: objects.NUMACell instance - the host cell that the instance should be pinned to # get number of threads per core in host's cell threads_per_core = max(map(len, host_cell.siblings)) or 1 ' host_cell_free_siblings: %(siblings)s' {'siblings': host_cell.free_siblings, 'host_cell_id': host_cell.id, for sib in host_cell.free_siblings: host_cell.id) instance_cell.id = host_cell.id host_cell, instance_cell, num_cpu_reserved=num_cpu_reserved)","def _pack_instance_onto_cores(available_siblings, instance_cell, host_cell_id, threads_per_core=1, :param available_siblings: list of sets of CPU IDs corresponding to available siblings per core :param threads_per_core: number of threads per core in host's cell ' available_siblings: %(siblings)s' {'siblings': available_siblings, 'host_cell_id': host_cell_id, for sib in available_siblings: host_cell_id) instance_cell.id = host_cell_id # TODO(stephenfin): We should just pass host_cell to this function host_cell.free_siblings, instance_cell, host_cell.id, max(map(len, host_cell.siblings)), num_cpu_reserved=num_cpu_reserved)",13,18
openstack%2Fopenstack-ansible~master~Ic52c1d00592fb194889a3aef695075c3e102fc4c,openstack/openstack-ansible,master,Ic52c1d00592fb194889a3aef695075c3e102fc4c,common-tasks: Container Start/Stop conditions,MERGED,2018-03-14 23:22:56.000000000,2018-03-21 20:43:03.000000000,2018-03-21 20:43:03.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 11869}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-03-14 23:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/84a2fca9dda5980a0e0e733ef84cf65d06376f92', 'message': ""common-tasks: Container Start/Stop conditions\n\nThe container start/stop conditions for lxc can fail if a container is\nslow to start/stop which may result in an retry and fail due to the\nconfused state. This change checks the stdout of the command which will\nreport if the container is already started or stopped which should\nensure we're not failing a playbook run simply because of a container\nis slow to respond to a command or in an otherwise confused state.\n\nChange-Id: Ic52c1d00592fb194889a3aef695075c3e102fc4c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 2, 'created': '2018-03-15 01:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/14bf264ba51266679e8e7c5ad9b32d4a068871c9', 'message': ""common-tasks: Container Start/Stop conditions\n\nThe container start/stop conditions for lxc can fail if a container is\nslow to start/stop which may result in an retry and fail due to the\nconfused state. This change checks the stdout of the command which will\nreport if the container is already started or stopped which should\nensure we're not failing a playbook run simply because of a container\nis slow to respond to a command or in an otherwise confused state.\n\nThis issue is often seen on the cent gates:\nhttp://logs.openstack.org/47/552047/23/check/openstack-ansible-deploy-aio_basekit-centos-7/222e1b2/job-output.txt.gz#_2018-03-15_01_45_14_559041\n\nChange-Id: Ic52c1d00592fb194889a3aef695075c3e102fc4c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 3, 'created': '2018-03-15 19:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/472dcc01637106e76f6f4e4308f28c4da1c882af', 'message': ""common-tasks: Container Start/Stop conditions\n\nThe container start/stop conditions for lxc can fail if a container is\nslow to start/stop which may result in an retry and fail due to the\nconfused state. This change checks the stdout of the command which will\nreport if the container is already started or stopped which should\nensure we're not failing a playbook run simply because of a container\nis slow to respond to a command or in an otherwise confused state.\n\nThis issue is often seen on the cent gates:\nhttp://logs.openstack.org/47/552047/23/check/openstack-ansible-deploy-aio_basekit-centos-7/222e1b2/job-output.txt.gz#_2018-03-15_01_45_14_559041\n\nChange-Id: Ic52c1d00592fb194889a3aef695075c3e102fc4c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 4, 'created': '2018-03-16 05:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/127bab6936efbf1c9473b1434aa92b4a928490f4', 'message': ""common-tasks: Container Start/Stop conditions\n\nThe container start/stop conditions for lxc can fail if a container is\nslow to start/stop which may result in an retry and fail due to the\nconfused state. This change checks the stdout of the command which will\nreport if the container is already started or stopped which should\nensure we're not failing a playbook run simply because of a container\nis slow to respond to a command or in an otherwise confused state.\n\nThis issue is often seen on the cent gates:\nhttp://logs.openstack.org/47/552047/23/check/openstack-ansible-deploy-aio_basekit-centos-7/222e1b2/job-output.txt.gz#_2018-03-15_01_45_14_559041\n\nChange-Id: Ic52c1d00592fb194889a3aef695075c3e102fc4c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 5, 'created': '2018-03-16 23:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5025714d1a444b3c3b294711471d2bbb9d6e6624', 'message': ""common-tasks: Container Start/Stop conditions\n\nThe container start/stop conditions for lxc can fail if a container is\nslow to start/stop which may result in an retry and fail due to the\nconfused state. This change checks the stdout of the command which will\nreport if the container is already started or stopped which should\nensure we're not failing a playbook run simply because of a container\nis slow to respond to a command or in an otherwise confused state.\n\nThis issue is often seen on the cent gates:\nhttp://logs.openstack.org/47/552047/23/check/openstack-ansible-deploy-aio_basekit-centos-7/222e1b2/job-output.txt.gz#_2018-03-15_01_45_14_559041\n\nChange-Id: Ic52c1d00592fb194889a3aef695075c3e102fc4c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 6, 'created': '2018-03-17 14:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/87c5dcb274f83aa395f5f83c72b9fa1a8c032eb8', 'message': ""common-tasks: Container Start/Stop conditions\n\nThe container start/stop conditions for lxc can fail if a container is\nslow to start/stop which may result in an retry and fail due to the\nconfused state. This change checks the stdout of the command which will\nreport if the container is already started or stopped which should\nensure we're not failing a playbook run simply because of a container\nis slow to respond to a command or in an otherwise confused state.\n\nThis issue is often seen on the cent gates:\nhttp://logs.openstack.org/47/552047/23/check/openstack-ansible-deploy-aio_basekit-centos-7/222e1b2/job-output.txt.gz#_2018-03-15_01_45_14_559041\n\nChange-Id: Ic52c1d00592fb194889a3aef695075c3e102fc4c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 7, 'created': '2018-03-20 05:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0cd30b6fa4b9d56ac0f6de786ae780fa84d5363b', 'message': ""common-tasks: Container Start/Stop conditions\n\nThe container start/stop conditions for lxc can fail if a container is\nslow to start/stop which may result in an retry and fail due to the\nconfused state. This change checks the stdout of the command which will\nreport if the container is already started or stopped which should\nensure we're not failing a playbook run simply because of a container\nis slow to respond to a command or in an otherwise confused state.\n\nThis issue is often seen on the cent gates:\nhttp://logs.openstack.org/47/552047/23/check/openstack-ansible-deploy-aio_basekit-centos-7/222e1b2/job-output.txt.gz#_2018-03-15_01_45_14_559041\n\nChange-Id: Ic52c1d00592fb194889a3aef695075c3e102fc4c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 8, 'created': '2018-03-21 15:46:00.000000000', 'files': ['playbooks/common-tasks/os-lxc-container-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b6119e6d2f961267aca57179e5d39e66428ab1dd', 'message': ""common-tasks: Container Start/Stop conditions\n\nThe container start/stop conditions for lxc can fail if a container is\nslow to start/stop which may result in an retry and fail due to the\nconfused state. This change checks the stdout of the command which will\nreport if the container is already started or stopped which should\nensure we're not failing a playbook run simply because of a container\nis slow to respond to a command or in an otherwise confused state.\n\nThis issue is often seen on the cent gates:\nhttp://logs.openstack.org/47/552047/23/check/openstack-ansible-deploy-aio_basekit-centos-7/222e1b2/job-output.txt.gz#_2018-03-15_01_45_14_559041\n\nChange-Id: Ic52c1d00592fb194889a3aef695075c3e102fc4c\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}]",3,553094,b6119e6d2f961267aca57179e5d39e66428ab1dd,39,6,8,7353,,,0,"common-tasks: Container Start/Stop conditions

The container start/stop conditions for lxc can fail if a container is
slow to start/stop which may result in an retry and fail due to the
confused state. This change checks the stdout of the command which will
report if the container is already started or stopped which should
ensure we're not failing a playbook run simply because of a container
is slow to respond to a command or in an otherwise confused state.

This issue is often seen on the cent gates:
http://logs.openstack.org/47/552047/23/check/openstack-ansible-deploy-aio_basekit-centos-7/222e1b2/job-output.txt.gz#_2018-03-15_01_45_14_559041

Change-Id: Ic52c1d00592fb194889a3aef695075c3e102fc4c
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/94/553094/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-tasks/os-lxc-container-setup.yml'],1,84a2fca9dda5980a0e0e733ef84cf65d06376f92,, until: (container_stop | success) or (container_stop.stdout | search('is not running')) until: (container_start | success) or (container_start.stdout | search('is already running')), until: container_stop | success until: container_start | success,2,2
openstack%2Fcinder~master~I2ab2160478d2163dbb45175aa5f1b884f316db24,openstack/cinder,master,I2ab2160478d2163dbb45175aa5f1b884f316db24,Dell EMC SC: Find volume folder API call fails on root folders,MERGED,2018-01-26 17:57:18.000000000,2018-03-21 20:41:41.000000000,2018-02-01 09:10:44.000000000,"[{'_account_id': 1}, {'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12112}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-26 17:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d89d15405cc70de8d1ee8f578747b595f5038eb', 'message': 'Dell EMC SC: Find volume folder API call fails on root folders\n\nChanges to the SC API have changed how calls are made to the\nStorageCenter/ScVolumeFolder/GetList payload filter options. In\nthe case of a folder under root this call could fail depending on\nthe API.\n\nChange-Id: I2ab2160478d2163dbb45175aa5f1b884f316db24\n'}, {'number': 2, 'created': '2018-01-26 20:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5565c11fd5f6291acd1c4cfc45380dc5bcd358fe', 'message': 'Dell EMC SC: Find volume folder API call fails on root folders\n\nChanges to the SC API have changed how calls are made to the\nStorageCenter/ScVolumeFolder/GetList payload filter options. In\nthe case of a folder under root this call could fail depending on\nthe API.\n\nChange-Id: I2ab2160478d2163dbb45175aa5f1b884f316db24\n'}, {'number': 3, 'created': '2018-01-31 18:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0442c1d40d5707829e491a893d8ad2b08e5893ec', 'message': 'Dell EMC SC: Find volume folder API call fails on root folders\n\nChanges to the SC API have changed how calls are made to the\nStorageCenter/ScVolumeFolder/GetList payload filter options. In\nthe case of a folder under root this call could fail depending on\nthe API..\n\nChange-Id: I2ab2160478d2163dbb45175aa5f1b884f316db24\n'}, {'number': 4, 'created': '2018-01-31 18:21:05.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9a7fb8da533251772b79140c7161b393c52f15b', 'message': 'Dell EMC SC: Find volume folder API call fails on root folders\n\nChanges to the SC API have changed how calls are made to the\nStorageCenter/ScVolumeFolder/GetList payload filter options. In\nthe case of a folder under root this call could fail depending on\nthe API.\n\nChange-Id: I2ab2160478d2163dbb45175aa5f1b884f316db24\n'}]",0,538314,c9a7fb8da533251772b79140c7161b393c52f15b,93,38,4,12112,,,0,"Dell EMC SC: Find volume folder API call fails on root folders

Changes to the SC API have changed how calls are made to the
StorageCenter/ScVolumeFolder/GetList payload filter options. In
the case of a folder under root this call could fail depending on
the API.

Change-Id: I2ab2160478d2163dbb45175aa5f1b884f316db24
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/538314/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/sc/storagecenter_api.py'],1,8d89d15405cc70de8d1ee8f578747b595f5038eb,dellemc/duplicate-volume-folders," # Put our path into the filters elif not self.legacyfoldernames: folderpath = '/' pf.append('folderPath', folderpath)"," # If we have any kind of path we throw it into the filters. pf.append('folderPath', folderpath)",4,2
openstack%2Fopenstacksdk~master~Ifaab26e5c71ee3f7268443ca396e3f93b83e2b7f,openstack/openstacksdk,master,Ifaab26e5c71ee3f7268443ca396e3f93b83e2b7f,Provide OpenStackConfigException backwards compat,MERGED,2018-03-20 16:15:50.000000000,2018-03-21 20:37:33.000000000,2018-03-21 20:37:33.000000000,"[{'_account_id': 986}, {'_account_id': 1004}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27707}]","[{'number': 1, 'created': '2018-03-20 16:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b35c2e05f79a5061ed8c4d7afb6a8a454ca287dd', 'message': ""Provide OpenStackConfigException backwards compat\n\nosc-lib does a 'import os_client_config.exceptions as occ_exceptions' or\n'import openstack.config.exceptions as occ_exceptions' and then\ntry/caches occ_exceptions.OpenStackConfigException. Add\nopenstack.config.exceptions.OpenStackConfigException back as an alias\nfor openstack.exceptions.ConfigException to ease that transition.\n\nChange-Id: Ifaab26e5c71ee3f7268443ca396e3f93b83e2b7f\n""}, {'number': 2, 'created': '2018-03-21 14:15:39.000000000', 'files': ['openstack/config/exceptions.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c12108e720abe7b00c53248817ecaf27987cb561', 'message': ""Provide OpenStackConfigException backwards compat\n\nosc-lib does a 'import os_client_config.exceptions as occ_exceptions' or\n'import openstack.config.exceptions as occ_exceptions' and then\ntry/caches occ_exceptions.OpenStackConfigException. Add\nopenstack.config.exceptions.OpenStackConfigException back as an alias\nfor openstack.exceptions.ConfigException to ease that transition.\n\nCloses-Bug: 1757391\nChange-Id: Ifaab26e5c71ee3f7268443ca396e3f93b83e2b7f\n""}]",1,554615,c12108e720abe7b00c53248817ecaf27987cb561,13,5,2,2,,,0,"Provide OpenStackConfigException backwards compat

osc-lib does a 'import os_client_config.exceptions as occ_exceptions' or
'import openstack.config.exceptions as occ_exceptions' and then
try/caches occ_exceptions.OpenStackConfigException. Add
openstack.config.exceptions.OpenStackConfigException back as an alias
for openstack.exceptions.ConfigException to ease that transition.

Closes-Bug: 1757391
Change-Id: Ifaab26e5c71ee3f7268443ca396e3f93b83e2b7f
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/15/554615/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/config/exceptions.py'],1,b35c2e05f79a5061ed8c4d7afb6a8a454ca287dd,549306,"# Copyright (c) 2014 Hewlett-Packard Development Company, L.P. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack import exceptions OpenStackConfigException = exceptions.ConfigException ",,17,0
openstack%2Fopenstack-ansible-plugins~master~I0f8443ee4681af38fc09135668b12f852f2dcb31,openstack/openstack-ansible-plugins,master,I0f8443ee4681af38fc09135668b12f852f2dcb31,Add tests for container_user connection attribute,MERGED,2018-03-19 16:16:30.000000000,2018-03-21 20:36:44.000000000,2018-03-21 20:36:44.000000000,"[{'_account_id': 4162}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 16:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/a90ca790a5314dcf8d9cd55d7287628af37324df', 'message': 'Add tests for container_user connection attribute\n\nAdd a test to ensure container_user executes as the correct user\ninside the container.\n\nChange-Id: I0f8443ee4681af38fc09135668b12f852f2dcb31\n'}, {'number': 2, 'created': '2018-03-19 16:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/16f32828a549ec8543bf1641ecda0601e9c933d3', 'message': 'Add tests for container_user connection attribute\n\nAdd a test to ensure container_user executes as the correct user\ninside the container.\n\nChange-Id: I0f8443ee4681af38fc09135668b12f852f2dcb31\n'}, {'number': 3, 'created': '2018-03-19 20:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/752098436dc7d2eb91bccfd31a606df9d573b987', 'message': 'Add tests for container_user connection attribute\n\nAdd a test to ensure container_user executes as the correct user\ninside the container.\n\nChange-Id: I0f8443ee4681af38fc09135668b12f852f2dcb31\n'}, {'number': 4, 'created': '2018-03-19 20:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/1bcb5f14232042b3ec2be6cb6112a53fdf27690a', 'message': 'Add tests for container_user connection attribute\n\nAdd a test to ensure container_user executes as the correct user\ninside the container.\n\nChange-Id: I0f8443ee4681af38fc09135668b12f852f2dcb31\n'}, {'number': 5, 'created': '2018-03-20 00:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/cd8d71029be451ee8edc79358fb6691a70c73b66', 'message': 'Add tests for container_user connection attribute\n\nAdd a test to ensure container_user executes as the correct user\ninside the container.\n\nChange-Id: I0f8443ee4681af38fc09135668b12f852f2dcb31\n'}, {'number': 6, 'created': '2018-03-20 19:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/2bf4576daa098ef7675c32e6a901b0ad86969a5f', 'message': 'Add tests for container_user connection attribute\n\nAdd a test to ensure container_user executes as the correct user\ninside the container.\n\nChange-Id: I0f8443ee4681af38fc09135668b12f852f2dcb31\n'}, {'number': 7, 'created': '2018-03-20 20:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/582f4b3ad2282f6bc4faf2ced88e7fd9f4f36a90', 'message': 'Add tests for container_user connection attribute\n\nAdd a test to ensure container_user executes as the correct user\ninside the container.\n\nChange-Id: I0f8443ee4681af38fc09135668b12f852f2dcb31\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 8, 'created': '2018-03-20 20:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/f232548e71a9a6263a1648eda6bccee578a5557c', 'message': 'Add tests for container_user connection attribute\n\nAdd a test to ensure container_user executes as the correct user\ninside the container.\n\nChange-Id: I0f8443ee4681af38fc09135668b12f852f2dcb31\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 9, 'created': '2018-03-20 20:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/171b119e854837ffcaafecc124b00bc8f46d2ded', 'message': 'Add tests for container_user connection attribute\n\nAdd a test to ensure container_user executes as the correct user\ninside the container.\n\nChange-Id: I0f8443ee4681af38fc09135668b12f852f2dcb31\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 10, 'created': '2018-03-20 20:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/3265a1d4912752cb090382f542b8156057db020a', 'message': 'Add tests for container_user connection attribute\n\nAdd a test to ensure container_user executes as the correct user\ninside the container.\n\nChange-Id: I0f8443ee4681af38fc09135668b12f852f2dcb31\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 11, 'created': '2018-03-21 15:24:18.000000000', 'files': ['tests/test-connection-plugin.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/37f1df3a33a56fd9d23543849194fef8c743604c', 'message': 'Add tests for container_user connection attribute\n\nAdd a test to ensure container_user executes as the correct user\ninside the container.\n\nChange-Id: I0f8443ee4681af38fc09135668b12f852f2dcb31\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,554277,37f1df3a33a56fd9d23543849194fef8c743604c,28,5,11,17799,,,0,"Add tests for container_user connection attribute

Add a test to ensure container_user executes as the correct user
inside the container.

Change-Id: I0f8443ee4681af38fc09135668b12f852f2dcb31
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/77/554277/10 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-connection-plugin.yml'],1,a90ca790a5314dcf8d9cd55d7287628af37324df,container-user-tests, - name: Test container_user attribute hosts: container1 tasks: - name: Ensure container alt user user: name: testing group: users - name: command: whoami vars: container_user: testing register: whoami_output post_tasks: - name: Ensure the container_user functionality assert: that: - whoami_output.stdout == 'testing',,18,0
openstack%2Fopenstack-helm~master~I2bb02bfa028a61b2d8a9206eaff305590664946f,openstack/openstack-helm,master,I2bb02bfa028a61b2d8a9206eaff305590664946f,Document node and label specific configurations,MERGED,2018-03-15 20:45:06.000000000,2018-03-21 20:33:23.000000000,2018-03-21 20:33:23.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 27715}]","[{'number': 1, 'created': '2018-03-15 20:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2a560582d2e43cd71598496100c808dd53fe5525', 'message': 'Documentation for node and label specific configurations\n\nThis PS adds documentation for node and label specific configurations.\n\nChange-Id: I2bb02bfa028a61b2d8a9206eaff305590664946f\n'}, {'number': 2, 'created': '2018-03-20 16:49:34.000000000', 'files': ['doc/source/devref/node-and-label-specific-configurations.rst', 'doc/source/devref/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8d23741c20c0632913cbcf91b413ddaeba5a9b6b', 'message': 'Document node and label specific configurations\n\nThis PS adds documentation for node and label specific configurations.\n\nChange-Id: I2bb02bfa028a61b2d8a9206eaff305590664946f\n'}]",2,553606,8d23741c20c0632913cbcf91b413ddaeba5a9b6b,11,4,2,27715,,,0,"Document node and label specific configurations

This PS adds documentation for node and label specific configurations.

Change-Id: I2bb02bfa028a61b2d8a9206eaff305590664946f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/06/553606/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/devref/node-and-label-specific-configurations.rst', 'doc/source/devref/index.rst']",2,2a560582d2e43cd71598496100c808dd53fe5525,node_and_label_specific_configuration_docs, node-and-label-specific-configurations,,106,0
openstack%2Fopenstack-helm~master~Ie8289eb09b31cd8f98c2c5b4dd5bbe469078e6d8,openstack/openstack-helm,master,Ie8289eb09b31cd8f98c2c5b4dd5bbe469078e6d8,Use v0.3.0 of kubernetes-entrypoint,MERGED,2018-03-19 15:36:07.000000000,2018-03-21 20:33:21.000000000,2018-03-21 20:33:21.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 27715}]","[{'number': 1, 'created': '2018-03-19 15:36:07.000000000', 'files': ['mongodb/values.yaml', 'doc/source/devref/images.rst', 'libvirt/values.yaml', 'ceph/values.yaml', 'glance/values.yaml', 'horizon/values.yaml', 'ceilometer/values.yaml', 'etcd/values.yaml', 'gnocchi/values.yaml', 'ldap/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'rabbitmq/values.yaml', 'senlin/values.yaml', 'mistral/values.yaml', 'openvswitch/values.yaml', 'congress/values.yaml', 'memcached/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'mariadb/values.yaml', 'postgresql/values.yaml', 'ingress/values.yaml', 'rally/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/85587f2f564fb31d02bd5ba6cbcd625c50adf02e', 'message': 'Use v0.3.0 of kubernetes-entrypoint\n\nThis version is already being used by some charts, so this brings the\nrest of the charts in line and allows them to use a new feature,\npod dependencies, that this version provides.\n\nChange-Id: Ie8289eb09b31cd8f98c2c5b4dd5bbe469078e6d8\n'}]",0,554268,85587f2f564fb31d02bd5ba6cbcd625c50adf02e,9,4,1,27715,,,0,"Use v0.3.0 of kubernetes-entrypoint

This version is already being used by some charts, so this brings the
rest of the charts in line and allows them to use a new feature,
pod dependencies, that this version provides.

Change-Id: Ie8289eb09b31cd8f98c2c5b4dd5bbe469078e6d8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/68/554268/1 && git format-patch -1 --stdout FETCH_HEAD,"['mongodb/values.yaml', 'doc/source/devref/images.rst', 'libvirt/values.yaml', 'ceph/values.yaml', 'glance/values.yaml', 'horizon/values.yaml', 'ceilometer/values.yaml', 'etcd/values.yaml', 'gnocchi/values.yaml', 'ldap/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'rabbitmq/values.yaml', 'senlin/values.yaml', 'mistral/values.yaml', 'openvswitch/values.yaml', 'congress/values.yaml', 'memcached/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'mariadb/values.yaml', 'postgresql/values.yaml', 'ingress/values.yaml', 'rally/values.yaml']",26,85587f2f564fb31d02bd5ba6cbcd625c50adf02e,, dep_check: quay.io/stackanetes/kubernetes-entrypoint:v0.3.0, dep_check: quay.io/stackanetes/kubernetes-entrypoint:v0.2.1,27,27
openstack%2Fopenstack-ansible-plugins~master~I09d341923f43c7bc3b18252f7791880eba5469f2,openstack/openstack-ansible-plugins,master,I09d341923f43c7bc3b18252f7791880eba5469f2,Fix bug with pipelining disable and container_user,MERGED,2018-03-20 19:25:51.000000000,2018-03-21 20:29:22.000000000,2018-03-21 20:29:22.000000000,"[{'_account_id': 538}, {'_account_id': 4162}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-03-20 19:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/2848306297bad63d7bf48943ed34fb50c703ac1a', 'message': 'Fix bug with pipelining disable and container_user\n\nWhen using SFTP to put files onto the remote node, we place those\nfiles into the container as the remote_user (eg: root), however when\nthe container_user tries to use said file, it will have the incorrect\npermission.\n\nUpdate put_file function to chmod files after they are copied into the\ncontainer.\n\nChange-Id: I09d341923f43c7bc3b18252f7791880eba5469f2\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2018-03-21 15:24:18.000000000', 'files': ['connection/ssh.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/1449f5ec01655edb099caf662d20563547fa5a21', 'message': 'Fix bug with pipelining disable and container_user\n\nWhen using SFTP to put files onto the remote node, we place those\nfiles into the container as the remote_user (eg: root), however when\nthe container_user tries to use said file, it will have the incorrect\npermission.\n\nUpdate put_file function to chmod files after they are copied into the\ncontainer.\n\nChange-Id: I09d341923f43c7bc3b18252f7791880eba5469f2\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",3,554670,1449f5ec01655edb099caf662d20563547fa5a21,16,6,2,4162,,,0,"Fix bug with pipelining disable and container_user

When using SFTP to put files onto the remote node, we place those
files into the container as the remote_user (eg: root), however when
the container_user tries to use said file, it will have the incorrect
permission.

Update put_file function to chmod files after they are copied into the
container.

Change-Id: I09d341923f43c7bc3b18252f7791880eba5469f2
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/70/554670/2 && git format-patch -1 --stdout FETCH_HEAD,['connection/ssh.py'],1,2848306297bad63d7bf48943ed34fb50c703ac1a,container-user-tests," _out_path = out_path if self._container_check(): _out_path = self._container_path_pad(path=_out_path) res = super(Connection, self).put_file(in_path, _out_path) # NOTE(pabelanger): Because we put_file as remote_user, it is possible # that user doesn't exist inside the container, so use the root user to # chown the file to container_user. if self.container_user != 'root': _user = self.container_user self.container_user = 'root' self.exec_command('chown %s %s' % (_user, out_path)) self.container_user = _user"," if self._container_check(): out_path = self._container_path_pad(path=out_path) return super(Connection, self).put_file(in_path, out_path)",12,2
openstack%2Fopenstack-ansible-lxc_hosts~master~Ic90fa7c8fdec8ffd844070ee78d30bd63a33a2a9,openstack/openstack-ansible-lxc_hosts,master,Ic90fa7c8fdec8ffd844070ee78d30bd63a33a2a9,Move the image prep script into a template file,MERGED,2018-03-18 19:45:19.000000000,2018-03-21 20:23:36.000000000,2018-03-21 20:23:36.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-18 19:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/a32b056cfcceda567ac9d170b90e237a10e4a8db', 'message': 'Move the image prep script into a template file\n\nThis change moves the image prep scripts out of a ser of variables and\ninto an actual template. This change will reduce our overall memory\nfootprint by simply rendering a template instead of injecting content\ninto a file using the copy module. The result will be faster time to\nexecution and more understandable output, especially when running in\ndebug.\n\nChange-Id: Ic90fa7c8fdec8ffd844070ee78d30bd63a33a2a9\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-03-18 19:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/41ad6bf59bc22a0df0b8693149df87dd72a6ee22', 'message': 'Move the image prep script into a template file\n\nThis change moves the image prep scripts out of a ser of variables and\ninto an actual template. This change will reduce our overall memory\nfootprint by simply rendering a template instead of injecting content\ninto a file using the copy module. The result will be faster time to\nexecution and more understandable output, especially when running in\ndebug.\n\nChange-Id: Ic90fa7c8fdec8ffd844070ee78d30bd63a33a2a9\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-03-18 19:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/24868ac54356ec60ae97eea367e3ab476d3cf557', 'message': 'Move the image prep script into a template file\n\nThis change moves the image prep scripts out of a ser of variables and\ninto an actual template. This change will reduce our overall memory\nfootprint by simply rendering a template instead of injecting content\ninto a file using the copy module. The result will be faster time to\nexecution and more understandable output, especially when running in\ndebug.\n\nChange-Id: Ic90fa7c8fdec8ffd844070ee78d30bd63a33a2a9\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2018-03-18 20:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/2e72b60e84b2aec77667bb051eaa2b045f1a69d8', 'message': 'Move the image prep script into a template file\n\nThis change moves the image prep scripts out of a ser of variables and\ninto an actual template. This change will reduce our overall memory\nfootprint by simply rendering a template instead of injecting content\ninto a file using the copy module. The result will be faster time to\nexecution and more understandable output, especially when running in\ndebug.\n\nChange-Id: Ic90fa7c8fdec8ffd844070ee78d30bd63a33a2a9\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2018-03-19 03:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/961562c50edfa506c01e81165ca5caedc5e834c4', 'message': 'Move the image prep script into a template file\n\nThis change moves the image prep scripts out of a ser of variables and\ninto an actual template. This change will reduce our overall memory\nfootprint by simply rendering a template instead of injecting content\ninto a file using the copy module. The result will be faster time to\nexecution and more understandable output, especially when running in\ndebug.\n\nChange-Id: Ic90fa7c8fdec8ffd844070ee78d30bd63a33a2a9\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2018-03-19 16:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/90cf49e4254a30345ea393e64244c3546cd712b8', 'message': 'Move the image prep script into a template file\n\nThis change moves the image prep scripts out of a ser of variables and\ninto an actual template. This change will reduce our overall memory\nfootprint by simply rendering a template instead of injecting content\ninto a file using the copy module. The result will be faster time to\nexecution and more understandable output, especially when running in\ndebug.\n\nChange-Id: Ic90fa7c8fdec8ffd844070ee78d30bd63a33a2a9\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 7, 'created': '2018-03-19 17:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/90cbe059f7cd111925f985fcb7170c03c82dd406', 'message': 'Move the image prep script into a template file\n\nThis change moves the image prep scripts out of a ser of variables and\ninto an actual template. This change will reduce our overall memory\nfootprint by simply rendering a template instead of injecting content\ninto a file using the copy module. The result will be faster time to\nexecution and more understandable output, especially when running in\ndebug.\n\nChange-Id: Ic90fa7c8fdec8ffd844070ee78d30bd63a33a2a9\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 8, 'created': '2018-03-19 17:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/3ade8f5c0b55582668720d4e219a1a905e0d065f', 'message': 'Move the image prep script into a template file\n\nThis change moves the image prep scripts out of a ser of variables and\ninto an actual template. This change will reduce our overall memory\nfootprint by simply rendering a template instead of injecting content\ninto a file using the copy module. The result will be faster time to\nexecution and more understandable output, especially when running in\ndebug.\n\nChange-Id: Ic90fa7c8fdec8ffd844070ee78d30bd63a33a2a9\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 9, 'created': '2018-03-19 20:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/50b2a65d6e1c36f7eb9c6343a66b8343ea0aaef7', 'message': 'Move the image prep script into a template file\n\nThis change moves the image prep scripts out of a ser of variables and\ninto an actual template. This change will reduce our overall memory\nfootprint by simply rendering a template instead of injecting content\ninto a file using the copy module. The result will be faster time to\nexecution and more understandable output, especially when running in\ndebug.\n\nChange-Id: Ic90fa7c8fdec8ffd844070ee78d30bd63a33a2a9\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 10, 'created': '2018-03-19 21:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/77e11482c5be8d485604fdf5ef95bb0446bbf8fd', 'message': 'Move the image prep script into a template file\n\nThis change moves the image prep scripts out of a ser of variables and\ninto an actual template. This change will reduce our overall memory\nfootprint by simply rendering a template instead of injecting content\ninto a file using the copy module. The result will be faster time to\nexecution and more understandable output, especially when running in\ndebug.\n\nChange-Id: Ic90fa7c8fdec8ffd844070ee78d30bd63a33a2a9\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 11, 'created': '2018-03-21 14:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/98874055330ec49e5e408c67d044c2e9be78d886', 'message': 'Move the image prep script into a template file\n\nThis change moves the image prep scripts out of a ser of variables and\ninto an actual template. This change will reduce our overall memory\nfootprint by simply rendering a template instead of injecting content\ninto a file using the copy module. The result will be faster time to\nexecution and more understandable output, especially when running in\ndebug.\n\nChange-Id: Ic90fa7c8fdec8ffd844070ee78d30bd63a33a2a9\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 12, 'created': '2018-03-21 14:52:50.000000000', 'files': ['vars/redhat-7.yml', 'vars/suse-42.yml', 'templates/prep-scripts/centos_7_prep.sh.j2', 'templates/prep-scripts/ubuntu_16_prep.sh.j2', 'templates/prep-scripts/opensuse_leap_42_prep.sh.j2', 'vars/ubuntu-16.04.yml', 'releasenotes/notes/template-setup-70a3daadc2a9d93b.yaml', 'tasks/lxc_cache_preparation.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/0d8fa41d32667ea309947f6ef4643192570fd0b1', 'message': 'Move the image prep script into a template file\n\nThis change moves the image prep scripts out of a ser of variables and\ninto an actual template. This change will reduce our overall memory\nfootprint by simply rendering a template instead of injecting content\ninto a file using the copy module. The result will be faster time to\nexecution and more understandable output, especially when running in\ndebug.\n\nChange-Id: Ic90fa7c8fdec8ffd844070ee78d30bd63a33a2a9\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",5,554064,0d8fa41d32667ea309947f6ef4643192570fd0b1,30,5,12,7353,,,0,"Move the image prep script into a template file

This change moves the image prep scripts out of a ser of variables and
into an actual template. This change will reduce our overall memory
footprint by simply rendering a template instead of injecting content
into a file using the copy module. The result will be faster time to
execution and more understandable output, especially when running in
debug.

Change-Id: Ic90fa7c8fdec8ffd844070ee78d30bd63a33a2a9
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/64/554064/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/prep-scripts/opensuse_prep.sh.j2', 'templates/prep-scripts/centos_prep.sh.j2', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'templates/prep-scripts/ubuntu_prep.sh.j2', 'vars/ubuntu-16.04.yml', 'tasks/lxc_cache_preparation.yml']",7,a32b056cfcceda567ac9d170b90e237a10e4a8db,image-prep-script," template: src: ""prep-scripts/nspawn_{{ lxc_cache_map.distro }}_prep.sh.j2"" dest: ""{{ lxc_image_cache_path }}/opt/cache-prep-commands.sh"""," copy: content: | #!/usr/bin/env bash set -e -x {{ lxc_cache_map.cache_prep_commands }} dest: ""{{ lxc_image_cache_path }}/usr/local/bin/cache-prep-commands.sh""",166,131
openstack%2Fopenstack-ansible-tests~master~I07b2e1654b5fdc819eb0b53ec0d2715ae795ddd0,openstack/openstack-ansible-tests,master,I07b2e1654b5fdc819eb0b53ec0d2715ae795ddd0,Allow yum to skip broken package dependencies,ABANDONED,2018-03-09 13:36:20.000000000,2018-03-21 20:05:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-03-09 13:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/31b7d1de4becf1c166bbaf4c59f847608017916f', 'message': 'Upgrade CentOS packages before testing\n\nChange-Id: I07b2e1654b5fdc819eb0b53ec0d2715ae795ddd0\n'}, {'number': 2, 'created': '2018-03-09 13:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/2e4402c843b6dcae8a0d197db762d195b34037cb', 'message': 'Upgrade CentOS packages before testing\n\nChange-Id: I07b2e1654b5fdc819eb0b53ec0d2715ae795ddd0\n'}, {'number': 3, 'created': '2018-03-09 14:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/c32c1f73dcf485eb999befd0453b28a18b49581b', 'message': 'Allow yum to skip broken package dependencies\n\nThere is an issue with the CentOS image in the gate or the cached\nCentOS repository that is causing package conflicts with libstdc++\nand gcc-c++. This patch allows yum to skip the broken dependencies\nand move on.\n\nChange-Id: I07b2e1654b5fdc819eb0b53ec0d2715ae795ddd0\nSigned-off-by: Major Hayden <major@mhtx.net>\n'}, {'number': 4, 'created': '2018-03-09 14:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/814aab97356fde610afaeaaa6fc5fdd088ed4e6f', 'message': 'Allow yum to skip broken package dependencies\n\nThere is an issue with the CentOS image in the gate or the cached\nCentOS repository that is causing package conflicts with libstdc++\nand gcc-c++. This patch allows yum to skip the broken dependencies\nand move on.\n\nChange-Id: I07b2e1654b5fdc819eb0b53ec0d2715ae795ddd0\nSigned-off-by: Major Hayden <major@mhtx.net>\n'}, {'number': 5, 'created': '2018-03-09 16:16:22.000000000', 'files': ['run_tests_common.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/f4820cbc1d88f7e838c19e07fdea80cfdb7a636b', 'message': 'Allow yum to skip broken package dependencies\n\nThere is an issue with the CentOS image in the gate or the cached\nCentOS repository that is causing package conflicts with libstdc++\nand gcc-c++. This patch allows yum to skip the broken dependencies\nand move on.\n\nChange-Id: I07b2e1654b5fdc819eb0b53ec0d2715ae795ddd0\nSigned-off-by: Major Hayden <major@mhtx.net>\n'}]",0,551279,f4820cbc1d88f7e838c19e07fdea80cfdb7a636b,9,2,5,538,,,0,"Allow yum to skip broken package dependencies

There is an issue with the CentOS image in the gate or the cached
CentOS repository that is causing package conflicts with libstdc++
and gcc-c++. This patch allows yum to skip the broken dependencies
and move on.

Change-Id: I07b2e1654b5fdc819eb0b53ec0d2715ae795ddd0
Signed-off-by: Major Hayden <major@mhtx.net>
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/79/551279/4 && git format-patch -1 --stdout FETCH_HEAD,['run_tests_common.sh'],1,31b7d1de4becf1c166bbaf4c59f847608017916f,update-before-test, sudo $RHT_PKG_MGR -y upgrade,,1,0
openstack%2Fpython-glanceclient~master~I0e1d18844f64723608288de473e97710798eb602,openstack/python-glanceclient,master,I0e1d18844f64723608288de473e97710798eb602,Add support for web-download import method,MERGED,2018-03-12 09:49:21.000000000,2018-03-21 20:02:35.000000000,2018-03-21 20:02:35.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-03-12 09:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/50f22e7c458a6f2ba7e97c570aa53af4ca9d2c63', 'message': ""Add 'web-download' import method support at clinetside\n\nThis change adds 'web-download' image import support in\nglanceclient.\n\nChange-Id: I0e1d18844f64723608288de473e97710798eb602\n""}, {'number': 2, 'created': '2018-03-12 10:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/247065ccdab8a9a19e757ff25a15eefc0463c942', 'message': ""Add 'web-download' import method support at clientside\n\nThis change adds 'web-download' image import support in\nglanceclient.\n\nChange-Id: I0e1d18844f64723608288de473e97710798eb602\n""}, {'number': 3, 'created': '2018-03-13 06:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/62639a1047f7ce763fb71822736939a72a592d8a', 'message': ""Add 'web-download' import method support at clientside\n\nThis change adds 'web-download' image import support in\nglanceclient.\n\nChange-Id: I0e1d18844f64723608288de473e97710798eb602\n""}, {'number': 4, 'created': '2018-03-13 10:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/95b38d11735df19e89b87a4005017590a1a41b8e', 'message': ""Add support for web-download import method\n\nThis change adds support for 'web-download' import method\nto 'image-import' and 'create-image-via-import' call.\nTo use this 'web-download' import method, user needs to pass\n--uri option 'a valid uri to external image to import in glance'\nto 'image-import' and 'create-image-via-imaport' calls.\n\nChange-Id: I0e1d18844f64723608288de473e97710798eb602\n""}, {'number': 5, 'created': '2018-03-14 06:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/560c384000e07b2778bb57f5d1ab58e7b2e54652', 'message': ""Add support for web-download import method\n\nThis change adds support for 'web-download' import method\nto 'image-import' and 'create-image-via-import' call.\nTo use this 'web-download' import method, user needs to pass\n--uri option 'a valid uri to external image to import in glance'\nto 'image-import' and 'create-image-via-imaport' calls.\n\nChange-Id: I0e1d18844f64723608288de473e97710798eb602\n""}, {'number': 6, 'created': '2018-03-14 06:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/217f8515d78fe451b4a700022a9919483bf001e5', 'message': ""Add support for web-download import method\n\nThis change adds support for 'web-download' import method\nto 'image-import' and 'create-image-via-import' call.\nTo use this 'web-download' import method, user needs to pass\n--uri option 'a valid uri to external image to import in glance'\nto 'image-import' and 'create-image-via-imaport' calls.\n\nChange-Id: I0e1d18844f64723608288de473e97710798eb602\n""}, {'number': 7, 'created': '2018-03-14 08:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/b41807d9aca3aa1b226c4aad1ecbedf7650ffc76', 'message': ""Add support for web-download import method\n\nThis change adds support for 'web-download' import method\nto 'image-import' and 'create-image-via-import' call.\nTo use this 'web-download' import method, user needs to pass\n--uri option 'a valid uri to external image to import in glance'\nto 'image-import' and 'create-image-via-imaport' calls.\n\nChange-Id: I0e1d18844f64723608288de473e97710798eb602\n""}, {'number': 8, 'created': '2018-03-16 06:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/ce780a393c432ad21c8a34aa887e5bd862f6267b', 'message': ""Add support for web-download import method\n\nThis change adds support for 'web-download' import method\nto 'image-import' and 'create-image-via-import' call.\nTo use this 'web-download' import method, user needs to pass\n--uri option 'a valid uri to external image to import in glance'\nto 'image-import' and 'create-image-via-imaport' calls.\n\nChange-Id: I0e1d18844f64723608288de473e97710798eb602\n""}, {'number': 9, 'created': '2018-03-16 06:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/0a837320009ec4aec80b130a2b67436781218616', 'message': ""Add support for web-download import method\n\nThis change adds support for 'web-download' import method\nto 'image-import' and 'create-image-via-import' call.\nTo use this 'web-download' import method, user needs to pass\n--uri option 'a valid uri to external image to import in glance'\nto 'image-import' and 'create-image-via-imaport' calls.\n\nChange-Id: I0e1d18844f64723608288de473e97710798eb602\n""}, {'number': 10, 'created': '2018-03-19 07:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/1404e16cc622af61efc08bd261cec39732e3e218', 'message': ""Add support for web-download import method\n\nThis change adds support for 'web-download' import method\nto 'image-import' and 'create-image-via-import' call.\nTo use this 'web-download' import method, user needs to pass\n--uri option 'a valid uri to external image to import in glance'\nto 'image-import' and 'create-image-via-imaport' calls.\n\nChange-Id: I0e1d18844f64723608288de473e97710798eb602\n""}, {'number': 11, 'created': '2018-03-21 13:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/8f72babd61891d8309aaa000a585067faec72243', 'message': ""Add support for web-download import method\n\nThis change adds support for 'web-download' import method\nto 'image-import' and 'create-image-via-import' call.\nTo use this 'web-download' import method, user needs to pass\n--uri option 'a valid uri to external image to import in glance'\nto 'image-import' and 'create-image-via-imaport' calls.\n\nCo-authored-by: Pranali Deore <pdeore@redhat.com>\nCo-authored-by: Erno Kuvaja <jokke@usr.fi>\n\nChange-Id: I0e1d18844f64723608288de473e97710798eb602\n""}, {'number': 12, 'created': '2018-03-21 15:09:26.000000000', 'files': ['glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/images.py', 'glanceclient/v2/shell.py', 'glanceclient/tests/unit/v2/base.py', 'glanceclient/tests/unit/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/aedabec9e46e80266cdefb315f112a30927e216a', 'message': ""Add support for web-download import method\n\nThis change adds support for 'web-download' import method\nto 'image-import' and 'create-image-via-import' call.\nTo use this 'web-download' import method, user needs to pass\n--uri option 'a valid uri to external image to import in glance'\nto 'image-import' and 'create-image-via-imaport' calls.\n\nCo-authored-by: Pranali Deore <pdeore@redhat.com>\nCo-authored-by: Erno Kuvaja <jokke@usr.fi>\n\nChange-Id: I0e1d18844f64723608288de473e97710798eb602\n""}]",17,551935,aedabec9e46e80266cdefb315f112a30927e216a,39,6,12,19138,,,0,"Add support for web-download import method

This change adds support for 'web-download' import method
to 'image-import' and 'create-image-via-import' call.
To use this 'web-download' import method, user needs to pass
--uri option 'a valid uri to external image to import in glance'
to 'image-import' and 'create-image-via-imaport' calls.

Co-authored-by: Pranali Deore <pdeore@redhat.com>
Co-authored-by: Erno Kuvaja <jokke@usr.fi>

Change-Id: I0e1d18844f64723608288de473e97710798eb602
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/35/551935/1 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/images.py', 'glanceclient/v2/shell.py', 'glanceclient/tests/unit/v2/base.py', 'glanceclient/tests/unit/v2/test_images.py']",5,50f22e7c458a6f2ba7e97c570aa53af4ca9d2c63,web-dl_support," '/v2/images/606b0e88-7c5a-4d54-b5bb-046105d4de6f/import': { 'POST': ({}, None) }, def test_image_import(self): uri = 'http://cloud.foo/image.qcow2' data = [('method', {'name': 'web-download', 'uri': 'http://cloud.foo/image.qcow2'})] image_id = '606b0e88-7c5a-4d54-b5bb-046105d4de6f' self.controller.image_import(image_id, 'web-download', uri) expect = [('POST', '/v2/images/%s/import' % image_id, {}, data)] self.assertEqual(expect, self.api.calls) ",,76,7
openstack%2Fpython-keystoneclient~master~I50a3011c302fb5568da8f57e2f5c354d1afb3a94,openstack/python-keystoneclient,master,I50a3011c302fb5568da8f57e2f5c354d1afb3a94,Updated from global requirements,MERGED,2018-03-04 10:25:32.000000000,2018-03-21 19:58:39.000000000,2018-03-21 19:58:39.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-04 10:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/7f7870077c2938fc7826ed328e9c7eef7b731f8e', 'message': 'Updated from global requirements\n\nChange-Id: I50a3011c302fb5568da8f57e2f5c354d1afb3a94\n'}, {'number': 2, 'created': '2018-03-10 13:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/854fd4c01ca419d294e9649618ceab82f11fc702', 'message': 'Updated from global requirements\n\nChange-Id: I50a3011c302fb5568da8f57e2f5c354d1afb3a94\n'}, {'number': 3, 'created': '2018-03-13 07:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/04c8da306bc50896f0053d77bf5d39eeeb63740d', 'message': 'Updated from global requirements\n\nChange-Id: I50a3011c302fb5568da8f57e2f5c354d1afb3a94\n'}, {'number': 4, 'created': '2018-03-14 06:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/af76830f7d49d0d494c0384cef088dd9e974fc3a', 'message': 'Updated from global requirements\n\nChange-Id: I50a3011c302fb5568da8f57e2f5c354d1afb3a94\n'}, {'number': 5, 'created': '2018-03-15 07:58:05.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/2a13f2b557c0865ca152fcf04f3ff3158225ce9c', 'message': 'Updated from global requirements\n\nChange-Id: I50a3011c302fb5568da8f57e2f5c354d1afb3a94\n'}]",0,549565,2a13f2b557c0865ca152fcf04f3ff3158225ce9c,16,2,5,11131,,,0,"Updated from global requirements

Change-Id: I50a3011c302fb5568da8f57e2f5c354d1afb3a94
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/65/549565/4 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7f7870077c2938fc7826ed328e9c7eef7b731f8e,openstack/requirements,oauthlib>=0.6.2 # BSD,oauthlib>=0.6.0 # BSD,1,1
openstack%2Ftripleo-heat-templates~master~Ie380cc41ca50a294a2647d673f339d02111bf6b3,openstack/tripleo-heat-templates,master,Ie380cc41ca50a294a2647d673f339d02111bf6b3,Fixes ODL container failing to start due to missing etc config,MERGED,2018-03-14 21:18:33.000000000,2018-03-21 19:55:10.000000000,2018-03-21 19:34:05.000000000,"[{'_account_id': 3153}, {'_account_id': 7921}, {'_account_id': 8449}, {'_account_id': 14287}, {'_account_id': 14985}, {'_account_id': 17280}, {'_account_id': 20866}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-14 21:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c5e06380185441b141a2925bac15b1f31e990bff', 'message': 'Fixes ODL container failing to start due to missing etc config\n\nThe ODL etc directory was being overridden with an empty mount directory\nbefore kolla_start copied the puppet-generated config files.  The\npuppet-generated config files only include modified configuration files\nand not all of the default config files.  Therefore ODL was missing\nconfig files when it started so the container was constantly crashing.\n\nCloses-Bug: 1755916\n\nChange-Id: Ie380cc41ca50a294a2647d673f339d02111bf6b3\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n'}, {'number': 2, 'created': '2018-03-15 16:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/51ed014600fe55970c457473635ba0a4f9c2221e', 'message': 'Fixes ODL container failing to start due to missing etc config\n\nThe ODL etc directory was being overridden with an empty mount directory\nbefore kolla_start copied the puppet-generated config files.  The\npuppet-generated config files only include modified configuration files\nand not all of the default config files.  Therefore ODL was missing\nconfig files when it started so the container was constantly crashing.\n\nThis patch removes the unwanted mount erasing the /opt/opendaylight/etc\ndirectory and moves the upgrade file to be created in puppet-generated,\nwhich will be copied at kolla start time for upgrade.\n\nCloses-Bug: 1755916\n\nChange-Id: Ie380cc41ca50a294a2647d673f339d02111bf6b3\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n'}, {'number': 3, 'created': '2018-03-16 14:16:43.000000000', 'files': ['docker/services/opendaylight-api.yaml', 'releasenotes/notes/fix-odl-missing-etc-config-87c33bc05f692f44.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97173caf8f68695140d207c2ab88226fd86659dc', 'message': 'Fixes ODL container failing to start due to missing etc config\n\nThe ODL etc directory was being overridden with an empty mount directory\nbefore kolla_start copied the puppet-generated config files.  The\npuppet-generated config files only include modified configuration files\nand not all of the default config files.  Therefore ODL was missing\nconfig files when it started so the container was constantly crashing.\n\nThis patch removes the unwanted mount erasing the /opt/opendaylight/etc\ndirectory and moves the upgrade file to be created in puppet-generated,\nwhich will be copied at kolla start time for upgrade.  The\npuppet-generated dir is read-only, so the REST call to disable upgrade\nflag in ODL will only disable it for the running instance.  Therefore we\nhave to use ansible to write the file again to disable it incase ODL is\nrebooted.\n\nCloses-Bug: 1755916\n\nChange-Id: Ie380cc41ca50a294a2647d673f339d02111bf6b3\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n'}]",2,553079,97173caf8f68695140d207c2ab88226fd86659dc,31,9,3,17280,,,0,"Fixes ODL container failing to start due to missing etc config

The ODL etc directory was being overridden with an empty mount directory
before kolla_start copied the puppet-generated config files.  The
puppet-generated config files only include modified configuration files
and not all of the default config files.  Therefore ODL was missing
config files when it started so the container was constantly crashing.

This patch removes the unwanted mount erasing the /opt/opendaylight/etc
directory and moves the upgrade file to be created in puppet-generated,
which will be copied at kolla start time for upgrade.  The
puppet-generated dir is read-only, so the REST call to disable upgrade
flag in ODL will only disable it for the running instance.  Therefore we
have to use ansible to write the file again to disable it incase ODL is
rebooted.

Closes-Bug: 1755916

Change-Id: Ie380cc41ca50a294a2647d673f339d02111bf6b3
Signed-off-by: Tim Rozet <trozet@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/553079/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/opendaylight-api.yaml', 'releasenotes/notes/fix-odl-missing-etc-config-87c33bc05f692f44.yaml']",2,c5e06380185441b141a2925bac15b1f31e990bff,bug/1755916,--- fixes: - | Fixes OpenDaylight container service not starting due to missing config files in /opt/opendaylight/etc directory. ,,6,2
openstack%2Fpython-manilaclient~master~I2376a2e948445ca532f3126cc5570bab2544e7b4,openstack/python-manilaclient,master,I2376a2e948445ca532f3126cc5570bab2544e7b4,Add unit-test for apiversions.APIVersion.is_latest,MERGED,2018-01-25 09:49:20.000000000,2018-03-21 19:54:44.000000000,2018-03-21 19:54:44.000000000,"[{'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 15100}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-25 09:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/1ee1fd45229bc9c95f647ecced4b32d1927f4c46', 'message': 'Add unit-test for apiversions.APIVersion.is_latest\n\nThe method was not covered.\n\nChange-Id: I2376a2e948445ca532f3126cc5570bab2544e7b4\nPartial-Bug: #1364800\n'}, {'number': 2, 'created': '2018-01-26 10:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/4b748fdbbca1833c8c1e6dad9ef2a9da69289b8b', 'message': 'Add unit-test for apiversions.APIVersion.is_latest\n\nThe method was not covered.\n\nChange-Id: I2376a2e948445ca532f3126cc5570bab2544e7b4\nPartial-Bug: #1364800\n'}, {'number': 3, 'created': '2018-02-01 16:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f4fba8ce90ace2bd4b5556d45d437915b61394fa', 'message': 'Add unit-test for apiversions.APIVersion.is_latest\n\nThe method was not covered.\n\nChange-Id: I2376a2e948445ca532f3126cc5570bab2544e7b4\nPartial-Bug: #1364800\n'}, {'number': 4, 'created': '2018-03-20 16:44:43.000000000', 'files': ['manilaclient/tests/unit/test_api_versions.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e20171bf66358c3e1ae6a5873059d026bf892df1', 'message': 'Add unit-test for apiversions.APIVersion.is_latest\n\nThe method was not covered.\n\nChange-Id: I2376a2e948445ca532f3126cc5570bab2544e7b4\nPartial-Bug: #1364800\n'}]",2,537819,e20171bf66358c3e1ae6a5873059d026bf892df1,18,4,4,23512,,,0,"Add unit-test for apiversions.APIVersion.is_latest

The method was not covered.

Change-Id: I2376a2e948445ca532f3126cc5570bab2544e7b4
Partial-Bug: #1364800
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/19/537819/2 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/tests/unit/test_api_versions.py'],1,1ee1fd45229bc9c95f647ecced4b32d1927f4c46,bug/1364800," def test_is_latest(self): v1 = api_versions.APIVersion(""1.0"") self.assertFalse(v1.is_latest()) v_latest = api_versions.APIVersion(""2.40"") self.assertTrue(v_latest.is_latest()) ",,6,0
openstack%2Fcharm-keystone~master~I2e0140f909ef2c57182895f37cf191b6bc80157b,openstack/charm-keystone,master,I2e0140f909ef2c57182895f37cf191b6bc80157b,Update SSL/https documentation,MERGED,2018-03-12 18:21:05.000000000,2018-03-21 19:38:08.000000000,2018-03-14 21:58:18.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-12 18:21:05.000000000', 'files': ['config.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/3384ddcb87a2c7621719c8844cf5a24a25936d48', 'message': 'Update SSL/https documentation\n\nThe README documentation implies that use-https and\nhttps-service-endpoints are required when enabling SSL/https\nwith your own CA, SSL cert, and key. Update the README and\nconfig.yaml to explain that config options use-https and\nhttps-service-endpoints should not be set when using ssl_*\nconfig options.\n\nChange-Id: I2e0140f909ef2c57182895f37cf191b6bc80157b\nCloses-Bug: #1754682\n'}]",0,552106,3384ddcb87a2c7621719c8844cf5a24a25936d48,8,3,1,11805,,,0,"Update SSL/https documentation

The README documentation implies that use-https and
https-service-endpoints are required when enabling SSL/https
with your own CA, SSL cert, and key. Update the README and
config.yaml to explain that config options use-https and
https-service-endpoints should not be set when using ssl_*
config options.

Change-Id: I2e0140f909ef2c57182895f37cf191b6bc80157b
Closes-Bug: #1754682
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/06/552106/1 && git format-patch -1 --stdout FETCH_HEAD,"['config.yaml', 'README.md']",2,3384ddcb87a2c7621719c8844cf5a24a25936d48,bug/1754682," - identity-service: Openstack API endpoints request an entry in theSupport for SSL and https endpoint is provided via various charm configuration options. To enable SSL and https endpoint with a charm-generated CA, set the following configuration options: - use-https - if enabled this option tells Keystone to configure the identity endpoint as https, and the keystone charm will generate its own CA and sync across peers. The cert will be distributed to all service endpoints which will be configured to use https. - https-service-endpoints - if enabled this option tells Keystone to configure ALL endpoints as https. Under this model the keystone charm will generate its own CA and sync across peers. The cert will be distributed to all service endpoints which will be configured to use https as well as configuring themselves to be used as https. To enable SSL and https endpoint with your own CA, SSL cert, and key set the following configuration options: ssl_ca, ssl_cert, and ssl_key. The user can provide SSL cert and key using ssl_cert and ssl_key only when the cert is signed by a trusted CA. These options should not be used with use-https and https-service-endpoints.NOTE: Existing deployments using os\-\*-network configuration options will continue to function; these options are preferred over any network space binding provided if set."," - identity-service: Openstack API endpoints request an entry in the Support for SSL and https endpoint is provided via a set of configuration options on the charm. There are two types supported; use-https - if enabled this option tells Keystone to configure the identity endpoint as https. Under this model the keystone charm will either use the CA as provided by the user (see ssl_* options below) or will generate its own and sync across peers. The cert will be distributed to all service endpoints which will be configured to use https. https-service-endpoints - if enabled this option tells Keystone to configure ALL endpoints as https. Under this model the keystone charm will either use the CA as provided by the user (see ssl_* options below) or will generate its own and sync across peers. The cert will be distributed to all service endpoints which will be configured to use https as well as configuring themselves to be used as https. When configuring the charms to use SSL there are three charm config options as ssl_ca, ssl_cert and ssl_key. - The user can provide their own CA, SSL cert and key using the options ssl_ca, ssl_cert, ssl_key. - The user can provide SSL cert and key using ssl_cert and ssl_key when the cert is signed by a trusted CA. - If not provided, the keystone charm will automatically generate a CA and certs to distribute to endpoints.NOTE: Existing deployments using os-*-network configuration options will continue to function; these options are preferred over any network space binding provided if set.",25,27
openstack%2Ftripleo-heat-templates~master~Ie4f84481029be1e133f4da7dc6e0a22fefc4f4ad,openstack/tripleo-heat-templates,master,Ie4f84481029be1e133f4da7dc6e0a22fefc4f4ad,Update service readme files,MERGED,2018-03-15 10:41:44.000000000,2018-03-21 19:34:01.000000000,2018-03-21 19:34:01.000000000,"[{'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 16515}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 10:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27223084ebd1afc80bd913a71078c4fe58add63c', 'message': 'Update service readme files\n\nRefer from docker readme to puppet readme as the basics are documented\nthere. Add pre-upgrade rolling tasks docs, move and reword some\nrelated content.\n\nChange-Id: Ie4f84481029be1e133f4da7dc6e0a22fefc4f4ad\n'}, {'number': 2, 'created': '2018-03-16 11:37:47.000000000', 'files': ['puppet/services/README.rst', 'docker/services/README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3f6863c7ac068354518892ff6d3d9399557cd02', 'message': 'Update service readme files\n\nRefer from docker readme to puppet readme as the basics are documented\nthere. Add pre-upgrade rolling tasks docs, move and reword some\nrelated content.\n\nChange-Id: Ie4f84481029be1e133f4da7dc6e0a22fefc4f4ad\n'}]",0,553321,e3f6863c7ac068354518892ff6d3d9399557cd02,10,5,2,8042,,,0,"Update service readme files

Refer from docker readme to puppet readme as the basics are documented
there. Add pre-upgrade rolling tasks docs, move and reword some
related content.

Change-Id: Ie4f84481029be1e133f4da7dc6e0a22fefc4f4ad
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/553321/2 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/README.rst', 'docker/services/README.rst']",2,27223084ebd1afc80bd913a71078c4fe58add63c,major-upgrade,Also see the `Puppet services README file <https://github.com/openstack/tripleo-heat-templates/blob/master/puppet/services/README.rst>`_ for more information about how the service templates work in general. ,,28,16
openstack%2Fpython-manilaclient~master~I544cd61a7028421986df961eaa3af2155137ab5a,openstack/python-manilaclient,master,I544cd61a7028421986df961eaa3af2155137ab5a,Add missing assertions for APIVersion comparison,MERGED,2018-01-24 09:32:39.000000000,2018-03-21 19:17:59.000000000,2018-03-21 19:17:59.000000000,"[{'_account_id': 2417}, {'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-24 09:32:39.000000000', 'files': ['manilaclient/tests/unit/test_api_versions.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/791b9f4a81e2ab337156653f5391eafb34e18d46', 'message': 'Add missing assertions for APIVersion comparison\n\nThe test already had the assertion for __lt__ methods.\nAdding assertions for __eq__ and __gt__ methods.\n\nThis insreases code coverage.\n\nChange-Id: I544cd61a7028421986df961eaa3af2155137ab5a\nPartial-Bug: #1364800\n'}]",0,537319,791b9f4a81e2ab337156653f5391eafb34e18d46,11,3,1,23512,,,0,"Add missing assertions for APIVersion comparison

The test already had the assertion for __lt__ methods.
Adding assertions for __eq__ and __gt__ methods.

This insreases code coverage.

Change-Id: I544cd61a7028421986df961eaa3af2155137ab5a
Partial-Bug: #1364800
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/19/537319/1 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/tests/unit/test_api_versions.py'],1,791b9f4a81e2ab337156653f5391eafb34e18d46,," self.assertRaises(TypeError, v1.__eq__, ""2.1"") self.assertRaises(TypeError, v1.__gt__, ""2.1"")",,2,0
openstack%2Fopenstack-helm~master~Ib5a2878ea109510d4a07aa0f6eb22bcb6e8699d7,openstack/openstack-helm,master,Ib5a2878ea109510d4a07aa0f6eb22bcb6e8699d7,Libvirt: enable hugepages if enabled on host,ABANDONED,2018-03-21 18:52:10.000000000,2018-03-21 19:00:28.000000000,,[],"[{'number': 1, 'created': '2018-03-21 18:52:10.000000000', 'files': ['libvirt/templates/bin/_libvirt.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ed13b468fa156f787d518fe15f907b7a43d77d05', 'message': 'Libvirt: enable hugepages if enabled on host\n\nThis ps enables hugepage support if enabled on the host.\n\nChange-Id: Ib5a2878ea109510d4a07aa0f6eb22bcb6e8699d7\n'}]",0,555022,ed13b468fa156f787d518fe15f907b7a43d77d05,2,0,1,23928,,,0,"Libvirt: enable hugepages if enabled on host

This ps enables hugepage support if enabled on the host.

Change-Id: Ib5a2878ea109510d4a07aa0f6eb22bcb6e8699d7
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/22/555022/1 && git format-patch -1 --stdout FETCH_HEAD,['libvirt/templates/bin/_libvirt.sh.tpl'],1,ed13b468fa156f787d518fe15f907b7a43d77d05,libvirt/hugepages,if [ -d /sys/kernel/mm/hugepages ]; then sed -i '/^KVM_HUGEPAGES/d' /etc/default/qemu-kvm echo KVM_HUGEPAGES=1 >> /etc/default/qemu-kvm fi ,,5,0
openstack%2Fopenstack-helm~master~I252089006929d7e218ebfc4f98d49c4650143a7e,openstack/openstack-helm,master,I252089006929d7e218ebfc4f98d49c4650143a7e,Document usage of pod dependencies,MERGED,2018-03-19 15:37:48.000000000,2018-03-21 18:53:21.000000000,2018-03-21 18:53:21.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 27715}]","[{'number': 1, 'created': '2018-03-19 15:37:48.000000000', 'files': ['doc/source/devref/networking.rst', 'doc/source/specs/support-linux-bridge-on-neutron.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a44ab387b5650915e9f762a68082020553a4b7ae', 'message': 'Document usage of pod dependencies\n\nReplace references to daemonset dependencies with pod dependencies in\ndocs.\n\nChange-Id: I252089006929d7e218ebfc4f98d49c4650143a7e\n'}]",1,554271,a44ab387b5650915e9f762a68082020553a4b7ae,8,4,1,27715,,,0,"Document usage of pod dependencies

Replace references to daemonset dependencies with pod dependencies in
docs.

Change-Id: I252089006929d7e218ebfc4f98d49c4650143a7e
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/71/554271/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/devref/networking.rst', 'doc/source/specs/support-linux-bridge-on-neutron.rst']",2,a44ab387b5650915e9f762a68082020553a4b7ae,pod_dep_docs, pod: - labels: application: neutron component: neutron-lb-agent metadata: pod: - labels: application: neutron component: neutron-lb-agent l3: pod: - labels: application: neutron component: neutron-lb-agent, daemonset: - lb-agent metadata: daemonset: - lb-agent l3: daemonset: - lb-agent,29,15
openstack%2Fopenstack-helm~master~I35bfd1d73e80474e26bc863297f7dc07072a6ec2,openstack/openstack-helm,master,I35bfd1d73e80474e26bc863297f7dc07072a6ec2,WIP: neutron daemonset host targeting,ABANDONED,2018-03-07 11:40:31.000000000,2018-03-21 18:44:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-03-07 11:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/948428ecf13fc621ded7467711538b4de4c5f9e9', 'message': 'WIP: neutron daemonset host targeting\n\nChange-Id: I35bfd1d73e80474e26bc863297f7dc07072a6ec2\n'}, {'number': 2, 'created': '2018-03-07 11:41:45.000000000', 'files': ['neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f8a529f42f5def9f61d9aaea6d3f7ef1ef223c76', 'message': 'WIP: neutron daemonset host targeting\n\nChange-Id: I35bfd1d73e80474e26bc863297f7dc07072a6ec2\n'}]",0,550448,f8a529f42f5def9f61d9aaea6d3f7ef1ef223c76,5,2,2,23928,,,0,"WIP: neutron daemonset host targeting

Change-Id: I35bfd1d73e80474e26bc863297f7dc07072a6ec2
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/48/550448/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/configmap-etc.yaml']",2,948428ecf13fc621ded7467711538b4de4c5f9e9,neutron/daemonsets,"{{- define ""neutron.configmap.etc"" }} {{- $configMapName := index . 0 }} {{- $envAll := index . 1 }} {{- with $envAll }}{{- end }} {{- if .Values.manifests.configmap_etc }} {{- list ""neutron-etc"" . | include ""neutron.configmap.etc"" }} {{- end }}",{{- if .Values.manifests.configmap_etc }} {{- $envAll := . }},30,11
openstack%2Ftripleo-upgrade~stable%2Fpike~I4915f48b6711add3d6f013c375e08ca1b0d0b22e,openstack/tripleo-upgrade,stable/pike,I4915f48b6711add3d6f013c375e08ca1b0d0b22e,Remove ceph osd hieradata during upgrade,MERGED,2018-03-15 18:15:10.000000000,2018-03-21 18:38:29.000000000,2018-03-21 18:38:29.000000000,"[{'_account_id': 6796}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-03-15 18:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5ef1f55391d5f575625c663d24b51d69256f122c', 'message': 'DNM: Remove ceph osd hieradata during upgrade\n\nChange-Id: I4915f48b6711add3d6f013c375e08ca1b0d0b22e\n'}, {'number': 2, 'created': '2018-03-16 15:12:53.000000000', 'files': ['templates/extraconfig_override.yaml.j2', 'tasks/upgrade/convert_ceph_params.yaml', 'tasks/upgrade/create-upgrade-scripts.yaml', 'templates/cephosd.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/07e6d2673660ecada04233136c2ee611449c0b0d', 'message': 'Remove ceph osd hieradata during upgrade\n\nOverriding ExtraConfig in an extra environment file is not working\nas expected and stale hieradata is still remaining on the overcloud\nnodes. This removes the hieradata from existing environment file\ninstead of overriding ExtraConfig.\n\nRelated-bug: 1756363\n\nChange-Id: I4915f48b6711add3d6f013c375e08ca1b0d0b22e\n'}]",0,553572,07e6d2673660ecada04233136c2ee611449c0b0d,11,7,2,18851,,,0,"Remove ceph osd hieradata during upgrade

Overriding ExtraConfig in an extra environment file is not working
as expected and stale hieradata is still remaining on the overcloud
nodes. This removes the hieradata from existing environment file
instead of overriding ExtraConfig.

Related-bug: 1756363

Change-Id: I4915f48b6711add3d6f013c375e08ca1b0d0b22e
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/72/553572/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/extraconfig_override.yaml.j2', 'tasks/upgrade/convert_ceph_params.yaml', 'tasks/upgrade/create-upgrade-scripts.yaml', 'templates/cephosd.yaml.j2']",4,5ef1f55391d5f575625c663d24b51d69256f122c,bug/1756363,{% if ceph_osds_pg is defined %} CephPoolDefaultPgNum: {{ceph_osds_pg}} {% endif %},,49,19
openstack%2Ftripleo-ci~master~Iefb4f6c62969efd4179544b453dd1e119d6073d8,openstack/tripleo-ci,master,Iefb4f6c62969efd4179544b453dd1e119d6073d8,Allow custom sequence of playbooks,MERGED,2018-02-21 06:28:16.000000000,2018-03-21 18:38:26.000000000,2018-03-21 18:38:26.000000000,"[{'_account_id': 8652}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-21 06:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1e6c2187cd26cac424a8c4b011b42a93209dcfe7', 'message': 'Allow custom sequence of playbooks\n\nIn reproducing jobs sometimes there is need to specify which\nexactly playbook to run, this patch allows customization of\nplaybooks sequence to run.\nPLAYBOOKS variable can be exported in reproducer script.\n\nChange-Id: Iefb4f6c62969efd4179544b453dd1e119d6073d8\n'}, {'number': 2, 'created': '2018-02-21 09:41:44.000000000', 'files': ['toci_gate_test-oooq.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c8f05c5a35ca78e7b4d4f2d98d813a86534bb75a', 'message': 'Allow custom sequence of playbooks\n\nIn reproducing jobs sometimes there is need to specify which\nexactly playbook to run, this patch allows customization of\nplaybooks sequence to run.\nPLAYBOOKS variable can be exported in reproducer script.\n\nChange-Id: Iefb4f6c62969efd4179544b453dd1e119d6073d8\n'}]",0,546501,c8f05c5a35ca78e7b4d4f2d98d813a86534bb75a,26,8,2,10969,,,0,"Allow custom sequence of playbooks

In reproducing jobs sometimes there is need to specify which
exactly playbook to run, this patch allows customization of
playbooks sequence to run.
PLAYBOOKS variable can be exported in reproducer script.

Change-Id: Iefb4f6c62969efd4179544b453dd1e119d6073d8
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/01/546501/2 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test-oooq.sh'],1,1e6c2187cd26cac424a8c4b011b42a93209dcfe7,step-based-deploy," PLAYBOOKS=${PLAYBOOKS:-""baremetal-full-deploy.yml""} PLAYBOOKS=${PLAYBOOKS:-""ovb-setup.yml baremetal-full-undercloud.yml baremetal-full-overcloud-prep.yml baremetal-full-overcloud.yml baremetal-full-overcloud-validate.yml""} PLAYBOOKS=${PLAYBOOKS:-""multinode.yml""} PLAYBOOKS=${PLAYBOOKS:-""quickstart.yml multinode-undercloud.yml multinode-overcloud-prep.yml multinode-overcloud.yml multinode-overcloud-upgrade.yml multinode-validate.yml""} PLAYBOOKS=${PLAYBOOKS:-""multinode.yml""} PLAYBOOKS=${PLAYBOOKS:-""quickstart.yml multinode-undercloud.yml multinode-overcloud-prep.yml multinode-overcloud.yml multinode-overcloud-upgrade.yml multinode-validate.yml""}","# Indentifies which playbooks to run export PLAYBOOKS="""" PLAYBOOKS=""baremetal-full-deploy.yml"" PLAYBOOKS=""ovb-setup.yml baremetal-full-undercloud.yml baremetal-full-overcloud-prep.yml baremetal-full-overcloud.yml baremetal-full-overcloud-validate.yml"" PLAYBOOKS=""multinode.yml"" PLAYBOOKS=""quickstart.yml multinode-undercloud.yml multinode-overcloud-prep.yml multinode-overcloud.yml multinode-overcloud-upgrade.yml multinode-validate.yml"" PLAYBOOKS=""multinode.yml"" PLAYBOOKS=""quickstart.yml multinode-undercloud.yml multinode-overcloud-prep.yml multinode-overcloud.yml multinode-overcloud-upgrade.yml multinode-validate.yml""",6,8
openstack%2Fneutron~master~Icea5981a5b920a30e159a0271052b9cc43236bc5,openstack/neutron,master,Icea5981a5b920a30e159a0271052b9cc43236bc5,use segment api def from neutron-lib,MERGED,2018-03-12 21:20:52.000000000,2018-03-21 18:33:49.000000000,2018-03-20 12:37:31.000000000,"[{'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-12 21:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f535bab3a66668d7d9a213634e17452e16e3853', 'message': ""use segment api def from neutron-lib\n\nThe segment extension's API definition was rehomed into neutron-lib with\ncommit I8b598c9aff2f0b28e5b11d3ab3570aeae2df1a4b\n\nThis patch consumes it by using lib's version of the module, removing\nthe rehomed code and updating the segment extension's test to mock\nout standard_attr to ensure the description of segments isn't\noverridden by the standardattrdescription extension.\n\nNeutronLibImpact\n\nChange-Id: Icea5981a5b920a30e159a0271052b9cc43236bc5\n""}, {'number': 2, 'created': '2018-03-14 12:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/76eb6f88c339d35459540a8c6d9dcdff541279f1', 'message': ""use segment api def from neutron-lib\n\nThe segment extension's API definition was rehomed into neutron-lib with\ncommit I8b598c9aff2f0b28e5b11d3ab3570aeae2df1a4b\n\nThis patch consumes it by using lib's version of the module, removing\nthe rehomed code and updating the segment extension's test to mock\nout standard_attr to ensure the description of segments isn't\noverridden by the standardattrdescription extension.\n\nNeutronLibImpact\n\nChange-Id: Icea5981a5b920a30e159a0271052b9cc43236bc5\n""}, {'number': 3, 'created': '2018-03-16 20:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/acdc30a3f351830cba9adc15bf238b29025ea989', 'message': ""use segment api def from neutron-lib\n\nThe segment extension's API definition was rehomed into neutron-lib with\ncommit I8b598c9aff2f0b28e5b11d3ab3570aeae2df1a4b\n\nThis patch consumes it by using lib's version of the module, removing\nthe rehomed code and updating the segment extension's test to mock\nout standard_attr to ensure the description of segments isn't\noverridden by the standardattrdescription extension.\n\nNeutronLibImpact\n\nChange-Id: Icea5981a5b920a30e159a0271052b9cc43236bc5\n""}, {'number': 4, 'created': '2018-03-19 17:28:18.000000000', 'files': ['neutron/services/segments/db.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/db/models/segment.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/extensions/segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec1d5def67d404972d3a46a2c281380b061c5219', 'message': ""use segment api def from neutron-lib\n\nThe segment extension's API definition was rehomed into neutron-lib with\ncommit I8b598c9aff2f0b28e5b11d3ab3570aeae2df1a4b\n\nThis patch consumes it by using lib's version of the module, removing\nthe rehomed code and updating the segment extension's test to mock\nout standard_attr to ensure the description of segments isn't\noverridden by the standardattrdescription extension.\n\nNeutronLibImpact\n\nChange-Id: Icea5981a5b920a30e159a0271052b9cc43236bc5\n""}]",0,552140,ec1d5def67d404972d3a46a2c281380b061c5219,35,10,4,5367,,,0,"use segment api def from neutron-lib

The segment extension's API definition was rehomed into neutron-lib with
commit I8b598c9aff2f0b28e5b11d3ab3570aeae2df1a4b

This patch consumes it by using lib's version of the module, removing
the rehomed code and updating the segment extension's test to mock
out standard_attr to ensure the description of segments isn't
overridden by the standardattrdescription extension.

NeutronLibImpact

Change-Id: Icea5981a5b920a30e159a0271052b9cc43236bc5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/552140/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/db.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/db/models/segment.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/extensions/segment.py']",5,5f535bab3a66668d7d9a213634e17452e16e3853,use-lib-segment-apidef,"from neutron_lib.api.definitions import segment as apidef class Segment(api_extensions.APIExtensionDescriptor): api_definition = apidef resource_attributes = apidef.RESOURCE_ATTRIBUTE_MAP[ apidef.COLLECTION_NAME] apidef.COLLECTION_NAME, apidef.RESOURCE_NAME, directory.get_plugin(apidef.COLLECTION_NAME), return [extensions.ResourceExtension(apidef.COLLECTION_NAME, return apidef.COLLECTION_NAME","from neutron_lib.api import converters from neutron_lib.api.definitions import provider_net as providernet from neutron_lib.api.definitions import subnet as subnet_deffrom neutron_lib import constants from neutron_lib.db import constants as db_constSEGMENT = 'segment' SEGMENTS = '%ss' % SEGMENT SEGMENT_ID = 'segment_id' NETWORK_TYPE = 'network_type' PHYSICAL_NETWORK = 'physical_network' SEGMENTATION_ID = 'segmentation_id' NAME_LEN = db_const.NAME_FIELD_SIZE DESC_LEN = db_const.DESCRIPTION_FIELD_SIZE # Attribute Map RESOURCE_ATTRIBUTE_MAP = { SEGMENTS: { 'id': {'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'tenant_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:string': db_const.PROJECT_ID_FIELD_SIZE}, 'is_visible': False}, 'network_id': {'allow_post': True, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True}, PHYSICAL_NETWORK: {'allow_post': True, 'allow_put': False, 'default': constants.ATTR_NOT_SPECIFIED, 'validate': {'type:string': providernet.PHYSICAL_NETWORK_MAX_LEN}, 'is_visible': True}, NETWORK_TYPE: {'allow_post': True, 'allow_put': False, 'validate': {'type:string': providernet.NETWORK_TYPE_MAX_LEN}, 'is_visible': True}, SEGMENTATION_ID: {'allow_post': True, 'allow_put': False, 'default': constants.ATTR_NOT_SPECIFIED, 'convert_to': converters.convert_to_int, 'is_visible': True}, 'name': {'allow_post': True, 'allow_put': True, 'default': constants.ATTR_NOT_SPECIFIED, 'validate': {'type:string_or_none': NAME_LEN}, 'is_visible': True}, 'description': {'allow_post': True, 'allow_put': True, 'default': constants.ATTR_NOT_SPECIFIED, 'validate': {'type:string_or_none': DESC_LEN}, 'is_visible': True}, }, subnet_def.COLLECTION_NAME: { SEGMENT_ID: {'allow_post': True, 'allow_put': False, 'default': None, 'validate': {'type:uuid_or_none': None}, 'is_visible': True, }, }, } class Segment(api_extensions.ExtensionDescriptor): @classmethod def get_name(cls): return ""Segment"" @classmethod def get_alias(cls): return ""segment"" @classmethod def get_description(cls): return ""Segments extension."" @classmethod def get_updated(cls): return ""2016-02-24T17:00:00-00:00"" resource_attributes = RESOURCE_ATTRIBUTE_MAP[SEGMENTS] SEGMENTS, SEGMENT, directory.get_plugin(SEGMENTS), return [extensions.ResourceExtension(SEGMENTS, def get_extended_resources(self, version): if version == ""2.0"": return RESOURCE_ATTRIBUTE_MAP else: return {} return SEGMENTS",30,106
openstack%2Fkolla-ansible~master~I657ff1427908610a8aa2397b4ce1115be0ac8ace,openstack/kolla-ansible,master,I657ff1427908610a8aa2397b4ce1115be0ac8ace,Add documentation for Ansible become feature,MERGED,2018-03-15 05:08:40.000000000,2018-03-21 18:30:20.000000000,2018-03-21 17:07:15.000000000,"[{'_account_id': 1390}, {'_account_id': 6697}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 21486}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 23717}, {'_account_id': 24574}]","[{'number': 1, 'created': '2018-03-15 05:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a605c9e2b32848c69aa59548126bfad3a19b8619', 'message': 'Add documentation for Ansible become feature\n\nChange-Id: I657ff1427908610a8aa2397b4ce1115be0ac8ace\nPartial-Implements: blueprint ansible-specific-task-become\n'}, {'number': 2, 'created': '2018-03-21 03:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/09fb17cb9eeab67ca918054c9727906471aefcaf', 'message': 'Add documentation for Ansible become feature\n\nChange-Id: I657ff1427908610a8aa2397b4ce1115be0ac8ace\nPartial-Implements: blueprint ansible-specific-task-become\n'}, {'number': 3, 'created': '2018-03-21 07:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7e378fa371e90cfe2d1bb99d07355bf9d592fde5', 'message': 'Add documentation for Ansible become feature\n\nChange-Id: I657ff1427908610a8aa2397b4ce1115be0ac8ace\nPartial-Implements: blueprint ansible-specific-task-become\n'}, {'number': 4, 'created': '2018-03-21 07:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/72e11a15bb2c5d1601c623f0c55e2a3315b2aa7d', 'message': 'Add documentation for Ansible become feature\n\nChange-Id: I657ff1427908610a8aa2397b4ce1115be0ac8ace\nPartial-Implements: blueprint ansible-specific-task-become\n'}, {'number': 5, 'created': '2018-03-21 15:24:48.000000000', 'files': ['doc/source/user/security.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/04fa7c039c04b44e047a169f59a0a0354e0b5eea', 'message': 'Add documentation for Ansible become feature\n\nChange-Id: I657ff1427908610a8aa2397b4ce1115be0ac8ace\nPartial-Implements: blueprint ansible-specific-task-become\n'}]",29,553142,04fa7c039c04b44e047a169f59a0a0354e0b5eea,29,10,5,22582,,,0,"Add documentation for Ansible become feature

Change-Id: I657ff1427908610a8aa2397b4ce1115be0ac8ace
Partial-Implements: blueprint ansible-specific-task-become
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/553142/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/security.rst'],1,a605c9e2b32848c69aa59548126bfad3a19b8619,bp/ansible-specific-task-become," Kolla-ansbile become ==================== Kolla uses ``root`` for connection by default, but this is not recommended for any system. Kolla also uses ``root`` as configuration owner in destination nodes. From Rocky release, Kolla support connection using any user which has passwordless sudo capability. For setting custom owner user and group, user can set ``config_owner_user`` and ``config_owner_group`` in ``globals.yml``",,10,0
openstack%2Fnetworking-calico~master~Idd7e179d30cc0a2d666d090130cea4ad6cc9c04e,openstack/networking-calico,master,Idd7e179d30cc0a2d666d090130cea4ad6cc9c04e,Try to trigger compaction during OpenStack CI run,MERGED,2018-03-21 10:35:36.000000000,2018-03-21 18:29:20.000000000,2018-03-21 18:29:20.000000000,"[{'_account_id': 19461}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 10:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/62637544098d7dc13404573f7804e0e52250eb85', 'message': 'Try to trigger compaction during OpenStack CI run\n\nChange-Id: Idd7e179d30cc0a2d666d090130cea4ad6cc9c04e\n'}, {'number': 2, 'created': '2018-03-21 11:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/e749cfbc4c6259d72439921fad1ef9755a0abdc6', 'message': 'Try to trigger compaction during OpenStack CI run\n\nChange-Id: Idd7e179d30cc0a2d666d090130cea4ad6cc9c04e\n'}, {'number': 3, 'created': '2018-03-21 13:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/a1e6cbeb1717e1c772a01b012c1a2a68088113e4', 'message': 'Try to trigger compaction during OpenStack CI run\n\nChange-Id: Idd7e179d30cc0a2d666d090130cea4ad6cc9c04e\n'}, {'number': 4, 'created': '2018-03-21 13:58:35.000000000', 'files': ['devstack/devstackgaterc', 'networking_calico/plugins/ml2/drivers/calico/mech_calico.py', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/c89d91fd3cb25f1d9d9a128c660ada2b85ca443d', 'message': 'Try to trigger compaction during OpenStack CI run\n\nChange-Id: Idd7e179d30cc0a2d666d090130cea4ad6cc9c04e\n'}]",0,554870,c89d91fd3cb25f1d9d9a128c660ada2b85ca443d,12,2,4,13734,,,0,"Try to trigger compaction during OpenStack CI run

Change-Id: Idd7e179d30cc0a2d666d090130cea4ad6cc9c04e
",git fetch https://review.opendev.org/openstack/networking-calico refs/changes/70/554870/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/devstackgaterc'],1,62637544098d7dc13404573f7804e0e52250eb85,st-compaction,"# Request etcd compaction every minute during the Tempest test. export DEVSTACK_LOCAL_CONFIG+=$'\n'""CALICO_ETCD_COMPACTION_PERIOD_MINS=1"" ", # Request etcd compaction every minute during the Tempest test. export CALICO_ETCD_COMPACTION_PERIOD_MINS=1 ,3,3
openstack%2Fnetworking-bgpvpn~master~I13e61fffca48b6c004e028f0da8a1d84a2337e10,openstack/networking-bgpvpn,master,I13e61fffca48b6c004e028f0da8a1d84a2337e10,Avoid tox-install.sh,MERGED,2018-03-07 08:21:14.000000000,2018-03-21 18:28:16.000000000,2018-03-21 18:28:16.000000000,"[{'_account_id': 2}, {'_account_id': 55}, {'_account_id': 2888}, {'_account_id': 6547}, {'_account_id': 12021}, {'_account_id': 22348}, {'_account_id': 27686}]","[{'number': 1, 'created': '2018-03-07 08:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/95338712047c4e5ba949d220d694043b4a60eec5', 'message': 'DNM: Avoid tox-install.sh\n\nInstead of using tox-install.sh, we can install horizon now directly\nfrom pypi - or use the current branch in CI system using\ntox-siblings.\n\nCreate doc/requriements.txt for doc requirements as well.\n\nUpdate tox.ini for this change and add horizon to test-requirements\nfile.\n\nNote this is one step in fixing publishing of docs for this repository.\n\nChange-Id: I13e61fffca48b6c004e028f0da8a1d84a2337e10\n'}, {'number': 2, 'created': '2018-03-07 09:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/8d12950f40ec2b5cc4c044fb7142a4c2310605a0', 'message': 'DNM: Avoid tox-install.sh\n\nInstead of using tox-install.sh, we can install horizon now directly\nfrom pypi - or use the current branch in CI system using\ntox-siblings.\n\nCreate doc/requriements.txt for doc requirements as well.\n\nUpdate tox.ini for this change and add horizon to test-requirements\nfile.\n\nNote this is one step in fixing publishing of docs for this repository.\n\nChange-Id: I13e61fffca48b6c004e028f0da8a1d84a2337e10\n'}, {'number': 3, 'created': '2018-03-07 16:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/4099de11d888e51ace0319562f88a824cf29b7d5', 'message': 'DNM: Avoid tox-install.sh\n\nInstead of using tox-install.sh, we can install horizon now directly\nfrom pypi - or use the current branch in CI system using\ntox-siblings.\n\nCreate doc/requriements.txt for doc requirements as well.\n\nUpdate tox.ini for this change and add horizon to test-requirements\nfile.\n\nNote this is one step in fixing publishing of docs for this repository.\n\nChange-Id: I13e61fffca48b6c004e028f0da8a1d84a2337e10\n'}, {'number': 4, 'created': '2018-03-14 10:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/ff05ee3437c2d5f3636329ea13f217afe2f11c93', 'message': 'DNM: Avoid tox-install.sh\n\nDNM: Will fail since odl and bagpipe are not in global requirements yet.\n\nInstead of using tox-install.sh, we can install horizon and neutron\netc. now directly from pypi - or use the current branch in CI system using\ntox-siblings.\n\nCreate doc/requriements.txt for doc requirements as well.\n\nUpdate tox.ini for this change and add horizon to test-requirements\nfile.\n\nNote this is one step in fixing publishing of docs for this repository.\n\nChange-Id: I13e61fffca48b6c004e028f0da8a1d84a2337e10\n'}, {'number': 5, 'created': '2018-03-21 08:24:19.000000000', 'files': ['requirements.txt', 'tools/tox_install.sh', 'test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/35af7b89c92f7e8d46dc427f2fc49ebfbbb4ffa2', 'message': 'Avoid tox-install.sh\n\nInstead of using tox-install.sh, we can install horizon and neutron\netc. now directly from pypi - or use the current branch in CI system using\ntox-siblings.\n\nCreate doc/requirements.txt for doc requirements as well.\n\nUpdate tox.ini for this change and add projects to test-requirements\nfile.\n\nNote this is one step in fixing publishing of docs for this repository.\n\nDepends-On: https://review.openstack.org/552865\nDepends-On: https://review.openstack.org/554297\nChange-Id: I13e61fffca48b6c004e028f0da8a1d84a2337e10\n'}]",0,550387,35af7b89c92f7e8d46dc427f2fc49ebfbbb4ffa2,20,7,5,6547,,,0,"Avoid tox-install.sh

Instead of using tox-install.sh, we can install horizon and neutron
etc. now directly from pypi - or use the current branch in CI system using
tox-siblings.

Create doc/requirements.txt for doc requirements as well.

Update tox.ini for this change and add projects to test-requirements
file.

Note this is one step in fixing publishing of docs for this repository.

Depends-On: https://review.openstack.org/552865
Depends-On: https://review.openstack.org/554297
Change-Id: I13e61fffca48b6c004e028f0da8a1d84a2337e10
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/87/550387/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",4,95338712047c4e5ba949d220d694043b4a60eec5,tox-siblings,install_command = pip install {opts} {packages}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txtdeps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/doc/requirements.txtdeps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/doc/requirements.txt,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages}deps = -r{toxinidir}/requirements.txt,19,14
openstack%2Fmanila~stable%2Fpike~Ib31b9a627a9bbd413e46bfc09775e0c6d30ac084,openstack/manila,stable/pike,Ib31b9a627a9bbd413e46bfc09775e0c6d30ac084,Raise error when image status is not active,MERGED,2018-01-12 15:18:00.000000000,2018-03-21 18:20:13.000000000,2018-03-21 18:20:13.000000000,"[{'_account_id': 6413}, {'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 15100}, {'_account_id': 20160}, {'_account_id': 21486}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25456}, {'_account_id': 27577}, {'_account_id': 27802}]","[{'number': 1, 'created': '2018-01-12 15:18:00.000000000', 'files': ['manila/share/drivers/service_instance.py', 'manila/tests/share/drivers/test_service_instance.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/7e85de320fff36818c02ebd088059f74248c4556', 'message': 'Raise error when image status is not active\n\nwhen the image is not active status, it should be raise\nerror, because there is no need to take an error status\nimage to create share server.\n\nChange-Id: Ib31b9a627a9bbd413e46bfc09775e0c6d30ac084\nCloses-Bug: #1740010\n(cherry picked from commit 5bfe68664af36d34702c340f207374416bc762b6)\n'}]",0,533208,7e85de320fff36818c02ebd088059f74248c4556,17,12,1,25456,,,0,"Raise error when image status is not active

when the image is not active status, it should be raise
error, because there is no need to take an error status
image to create share server.

Change-Id: Ib31b9a627a9bbd413e46bfc09775e0c6d30ac084
Closes-Bug: #1740010
(cherry picked from commit 5bfe68664af36d34702c340f207374416bc762b6)
",git fetch https://review.opendev.org/openstack/manila refs/changes/08/533208/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/service_instance.py', 'manila/tests/share/drivers/test_service_instance.py']",2,7e85de320fff36818c02ebd088059f74248c4556,bug/1740010-stable/pike," name=self._manager.get_config_option('service_image_name'), status='active') fake_image2 = fake_compute.FakeImage( name='service_image_name', status='error') fake_image3 = fake_compute.FakeImage( name='another-image', status='active') mock.Mock(return_value=[fake_image1, fake_image2, fake_image3])) fake_error_image = fake_compute.FakeImage( name='service_image_name', status='error') self.mock_object(self._manager.compute_api, 'image_list', mock.Mock(return_value=[fake_error_image])) self.assertRaises( exception.ServiceInstanceException, self._manager._get_service_image, self._manager.admin_context) name=fake_get_config_option('service_image_name'), status='active')"," name=self._manager.get_config_option('service_image_name')) fake_image2 = fake_compute.FakeImage(name='another-image') mock.Mock(return_value=[fake_image1, fake_image2])) name=fake_get_config_option('service_image_name'))",26,7
openstack%2Fmicroversion-parse~master~I62f437ed7ac7852f400fd4d8391577c8ea3ab6a9,openstack/microversion-parse,master,I62f437ed7ac7852f400fd4d8391577c8ea3ab6a9,Enable universal wheels for microversion-parse,MERGED,2018-03-21 17:40:21.000000000,2018-03-21 18:19:41.000000000,2018-03-21 18:19:41.000000000,"[{'_account_id': 1063}, {'_account_id': 10670}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 17:40:21.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/ae5e3ce521556aaec85661e4b76ac997037d4f75', 'message': 'Enable universal wheels for microversion-parse\n\nThe library is fully python 3 and 2 happy, so the wheel\nshould be too.\n\nChange-Id: I62f437ed7ac7852f400fd4d8391577c8ea3ab6a9\n'}]",0,555001,ae5e3ce521556aaec85661e4b76ac997037d4f75,7,3,1,11564,,,0,"Enable universal wheels for microversion-parse

The library is fully python 3 and 2 happy, so the wheel
should be too.

Change-Id: I62f437ed7ac7852f400fd4d8391577c8ea3ab6a9
",git fetch https://review.opendev.org/openstack/microversion-parse refs/changes/01/555001/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ae5e3ce521556aaec85661e4b76ac997037d4f75,cd/universal-wheel, [bdist_wheel] universal=1,,3,0
openstack%2Fpython-manilaclient~master~I14db19fb87da5cac86ec3634ddde6d647999db96,openstack/python-manilaclient,master,I14db19fb87da5cac86ec3634ddde6d647999db96,Fix 'List' command filters do not accept unicode symbols,MERGED,2018-01-16 03:29:13.000000000,2018-03-21 18:19:10.000000000,2018-03-21 18:19:09.000000000,"[{'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 13984}, {'_account_id': 22348}, {'_account_id': 23512}, {'_account_id': 25456}]","[{'number': 1, 'created': '2018-01-16 03:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7443bf818cdf2c010cf830846c0d23c1ffca4aad', 'message': ""Fix 'List' command filters do not accept unicode symbols\n\nWhen using the name or description to filter the share group list,\nif the name or description is unicode symbols, the query will fail\ndue to the invalid str value. This change is to fix this.\n\nPS: this bug is left from [1]\n[1] I73ed2b675542d3aeedc9efdba08067819bf7d3e4\n\nChange-Id: I14db19fb87da5cac86ec3634ddde6d647999db96\nCloses-bug: #1712988\n""}, {'number': 2, 'created': '2018-02-24 07:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/83b2e15cb5384417c282276af79a9219895dbe13', 'message': ""Fix 'List' command filters do not accept unicode symbols\n\nWhen using the name or description to filter the share group list,\nif the name or description is unicode symbols, the query will fail\ndue to the invalid str value. This change is to fix this.\n\nPS: this bug is left from [1]\n[1] I73ed2b675542d3aeedc9efdba08067819bf7d3e4\n\nChange-Id: I14db19fb87da5cac86ec3634ddde6d647999db96\nCloses-bug: #1712988\n""}, {'number': 3, 'created': '2018-02-24 10:11:34.000000000', 'files': ['manilaclient/base.py', 'manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/0cee351ed3f4c8da20beadf4097fedd00af51eac', 'message': ""Fix 'List' command filters do not accept unicode symbols\n\nWhen using the name or description to filter the share group list,\nif the name or description is unicode symbols, the query will fail\ndue to the invalid str value. This change is to fix this.\n\nPS: this bug is left from [1]\n[1] I73ed2b675542d3aeedc9efdba08067819bf7d3e4\n\nChange-Id: I14db19fb87da5cac86ec3634ddde6d647999db96\nCloses-bug: #1712988\n""}]",5,533889,0cee351ed3f4c8da20beadf4097fedd00af51eac,18,6,3,25456,,,0,"Fix 'List' command filters do not accept unicode symbols

When using the name or description to filter the share group list,
if the name or description is unicode symbols, the query will fail
due to the invalid str value. This change is to fix this.

PS: this bug is left from [1]
[1] I73ed2b675542d3aeedc9efdba08067819bf7d3e4

Change-Id: I14db19fb87da5cac86ec3634ddde6d647999db96
Closes-bug: #1712988
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/89/533889/3 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/base.py', 'manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/v2/shell.py']",3,7443bf818cdf2c010cf830846c0d23c1ffca4aad,bug/1712988," type=six.text_type, type=six.text_type, type=six.text_type, type=six.text_type,"," type=str, type=str, type=str, type=str,",29,7
openstack%2Foslo.middleware~master~Ife9b091d92f3fe23bd3b099185d866fc7bfc6e45,openstack/oslo.middleware,master,Ife9b091d92f3fe23bd3b099185d866fc7bfc6e45,pypy is not checked at gate,MERGED,2018-03-21 12:51:11.000000000,2018-03-21 18:17:31.000000000,2018-03-21 18:17:31.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 16367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 12:51:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/7280af27d08d4061124fc15064ed0db93de5c768', 'message': 'pypy is not checked at gate\n\nChange-Id: Ife9b091d92f3fe23bd3b099185d866fc7bfc6e45\n'}]",0,554900,7280af27d08d4061124fc15064ed0db93de5c768,8,4,1,16367,,,0,"pypy is not checked at gate

Change-Id: Ife9b091d92f3fe23bd3b099185d866fc7bfc6e45
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/00/554900/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7280af27d08d4061124fc15064ed0db93de5c768,,"envlist = py35,py27,pep8","envlist = py35,py27,pypy,pep8",1,1
openstack%2Fdebtcollector~master~Ife5ecf3c6acfd0df611fbe2d56af10bad881c3fb,openstack/debtcollector,master,Ife5ecf3c6acfd0df611fbe2d56af10bad881c3fb,pypy is not checked at gate,MERGED,2018-03-21 12:56:14.000000000,2018-03-21 18:14:04.000000000,2018-03-21 18:14:04.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 16367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 12:56:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/17ffa68c937ff8551876a4a1b2b77b0c0ea29af9', 'message': 'pypy is not checked at gate\n\nChange-Id: Ife5ecf3c6acfd0df611fbe2d56af10bad881c3fb\n'}]",0,554904,17ffa68c937ff8551876a4a1b2b77b0c0ea29af9,8,4,1,16367,,,0,"pypy is not checked at gate

Change-Id: Ife5ecf3c6acfd0df611fbe2d56af10bad881c3fb
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/04/554904/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,17ffa68c937ff8551876a4a1b2b77b0c0ea29af9,,"envlist = py35,py27,pep8","envlist = py35,py27,pypy,pep8",1,1
openstack%2Fhorizon~stable%2Fqueens~I5864c58751ec5f182f30feb302a95923948ad2ad,openstack/horizon,stable/queens,I5864c58751ec5f182f30feb302a95923948ad2ad,Add a warning to user: Unable to remove availability zone from host aggregate,MERGED,2018-03-14 20:00:43.000000000,2018-03-21 18:12:59.000000000,2018-03-21 18:12:59.000000000,"[{'_account_id': 841}, {'_account_id': 8478}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 26247}]","[{'number': 1, 'created': '2018-03-14 20:00:43.000000000', 'files': ['openstack_dashboard/dashboards/admin/aggregates/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1f6b915fda8d6960f618e4f80087789b5c8e2b60', 'message': 'Add a warning to user: Unable to remove availability zone from host aggregate\n\nBecause the nova API does not allow to set aggregates an empty\navailability_zone which has availability_zone at first.\nAdd a warning to notice users to reduce confusion\n\nChange-Id: I5864c58751ec5f182f30feb302a95923948ad2ad\nCloses-Bug: #1644051\n(cherry picked from commit 7cb2355dffa32951cc9f283dd5dcb5ff1836190f)\n'}]",0,553033,1f6b915fda8d6960f618e4f80087789b5c8e2b60,8,5,1,1736,,,0,"Add a warning to user: Unable to remove availability zone from host aggregate

Because the nova API does not allow to set aggregates an empty
availability_zone which has availability_zone at first.
Add a warning to notice users to reduce confusion

Change-Id: I5864c58751ec5f182f30feb302a95923948ad2ad
Closes-Bug: #1644051
(cherry picked from commit 7cb2355dffa32951cc9f283dd5dcb5ff1836190f)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/33/553033/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/admin/aggregates/forms.py'],1,1f6b915fda8d6960f618e4f80087789b5c8e2b60,bug/1644051-stable/queens," old_availability_zone = self.initial['availability_zone'] try: if availability_zone: aggregate['availability_zone'] = availability_zone elif old_availability_zone: raise ValueError except Exception: exceptions.handle(request, _('The new availability zone can\'t be empty'))", if availability_zone: aggregate['availability_zone'] = availability_zone,9,2
openstack%2Fsushy~master~If255cdbd97f076b1f9703956808e5b67dfceb14d,openstack/sushy,master,If255cdbd97f076b1f9703956808e5b67dfceb14d,Updated from global requirements,MERGED,2018-03-10 13:55:16.000000000,2018-03-21 18:07:45.000000000,2018-03-21 18:07:45.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 16635}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-10 13:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/60ff08c92a203e262d031df14cb7272383a44fa9', 'message': 'Updated from global requirements\n\nChange-Id: If255cdbd97f076b1f9703956808e5b67dfceb14d\n'}, {'number': 2, 'created': '2018-03-15 09:34:25.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/sushy/commit/569b6dcd1a6636dddc04a93a9c406c1db8343cf3', 'message': 'Updated from global requirements\n\nChange-Id: If255cdbd97f076b1f9703956808e5b67dfceb14d\n'}]",0,551653,569b6dcd1a6636dddc04a93a9c406c1db8343cf3,11,4,2,11131,,,0,"Updated from global requirements

Change-Id: If255cdbd97f076b1f9703956808e5b67dfceb14d
",git fetch https://review.opendev.org/openstack/sushy refs/changes/53/551653/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,60ff08c92a203e262d031df14cb7272383a44fa9,openstack/requirements,"sphinx!=1.6.6,<1.7.0,>=1.6.2 # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",1,1
openstack%2Fsushy~master~Icf3e095e7f035f040a1d6ebaa76f3eff59ded1ad,openstack/sushy,master,Icf3e095e7f035f040a1d6ebaa76f3eff59ded1ad,fix error url,MERGED,2018-02-05 16:58:46.000000000,2018-03-21 18:02:28.000000000,2018-03-21 18:02:28.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 16635}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-05 16:58:46.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/sushy/commit/aff7dda8770cc303a3dbcda477ad633509d819df', 'message': 'fix error url\n\nChange-Id: Icf3e095e7f035f040a1d6ebaa76f3eff59ded1ad\n'}]",0,540932,aff7dda8770cc303a3dbcda477ad633509d819df,9,5,1,17130,,,0,"fix error url

Change-Id: Icf3e095e7f035f040a1d6ebaa76f3eff59ded1ad
",git fetch https://review.opendev.org/openstack/sushy refs/changes/32/540932/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,aff7dda8770cc303a3dbcda477ad633509d819df,fix-url,Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/,Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/,1,1
openstack%2Fsushy~stable%2Fqueens~I3c973964bbb2ba0e6aedd4f2f1b5f96d212b2684,openstack/sushy,stable/queens,I3c973964bbb2ba0e6aedd4f2f1b5f96d212b2684,Updated from global requirements,MERGED,2018-02-13 02:02:12.000000000,2018-03-21 18:00:34.000000000,2018-03-21 18:00:34.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19457}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-13 02:02:12.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/sushy/commit/446bb945dd88ca89c179c89f595526e888bc4f3b', 'message': 'Updated from global requirements\n\nChange-Id: I3c973964bbb2ba0e6aedd4f2f1b5f96d212b2684\n'}]",0,543754,446bb945dd88ca89c179c89f595526e888bc4f3b,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: I3c973964bbb2ba0e6aedd4f2f1b5f96d212b2684
",git fetch https://review.opendev.org/openstack/sushy refs/changes/54/543754/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,446bb945dd88ca89c179c89f595526e888bc4f3b,openstack/requirements,openstackdocstheme>=1.18.1 # Apache-2.0,openstackdocstheme>=1.17.0 # Apache-2.0,1,1
openstack%2Fironic~master~Ia3241547f79f09ca22a0f0c5dcfac77e13f1fd9e,openstack/ironic,master,Ia3241547f79f09ca22a0f0c5dcfac77e13f1fd9e,[api-ref] Add fault names for the error response codes,NEW,2018-01-29 01:58:38.000000000,2018-03-21 17:50:21.000000000,,"[{'_account_id': 6637}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 12356}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-29 01:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e4736411a37a84a8c145b5d09fc2d97d413df8d7', 'message': '[api-ref] Add fault names for the error response codes\n\nI think error response codes with fault names will be easier\nfor understanding.\n\nChange-Id: Ia3241547f79f09ca22a0f0c5dcfac77e13f1fd9e\n'}, {'number': 2, 'created': '2018-02-03 09:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f0e8c6839237af29e7c04a1d0051ed9f219f6119', 'message': '[api-ref] Add fault names for the error response codes\n\nI think error response codes with fault names will be easier\nfor understanding.\n\nChange-Id: Ia3241547f79f09ca22a0f0c5dcfac77e13f1fd9e\n'}, {'number': 3, 'created': '2018-02-06 09:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/33606cbbd256f97e0cbc7a94e6682d65b5d28f39', 'message': '[api-ref] Add fault names for the error response codes\n\nI think error response codes with fault names will be easier\nfor understanding.\n\nChange-Id: Ia3241547f79f09ca22a0f0c5dcfac77e13f1fd9e\n'}, {'number': 4, 'created': '2018-03-19 00:27:14.000000000', 'files': ['api-ref/source/baremetal-api-v1-portgroups-ports.inc', 'api-ref/source/baremetal-api-v1-portgroups.inc', 'api-ref/source/baremetal-api-v1-volume.inc', 'api-ref/source/baremetal-api-v1-nodes-vifs.inc', 'api-ref/source/baremetal-api-v1-driver-passthru.inc', 'api-ref/source/baremetal-api-v1-nodes-volume.inc', 'api-ref/source/baremetal-api-v1-misc.inc', 'api-ref/source/baremetal-api-v1-nodes-portgroups.inc', 'api-ref/source/baremetal-api-v1-nodes-traits.inc'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e037453e1bad8ef20f9fee36e703a74ea1362998', 'message': '[api-ref] Add fault names for the error response codes\n\nI think error response codes with fault names will be easier\nfor understanding.\n\nChange-Id: Ia3241547f79f09ca22a0f0c5dcfac77e13f1fd9e\n'}]",6,538717,e037453e1bad8ef20f9fee36e703a74ea1362998,25,9,4,23317,,,0,"[api-ref] Add fault names for the error response codes

I think error response codes with fault names will be easier
for understanding.

Change-Id: Ia3241547f79f09ca22a0f0c5dcfac77e13f1fd9e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/17/538717/4 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/baremetal-api-v1-portgroups-ports.inc', 'api-ref/source/baremetal-api-v1-portgroups.inc', 'api-ref/source/baremetal-api-v1-volume.inc', 'api-ref/source/baremetal-api-v1-nodes-vifs.inc', 'api-ref/source/baremetal-api-v1-driver-passthru.inc', 'api-ref/source/baremetal-api-v1-nodes-volume.inc', 'api-ref/source/baremetal-api-v1-misc.inc', 'api-ref/source/baremetal-api-v1-nodes-portgroups.inc', 'api-ref/source/baremetal-api-v1-nodes-traits.inc']",9,e4736411a37a84a8c145b5d09fc2d97d413df8d7,dev,"Error codes: - 400 (Invalid) - 401 (Unauthorized) - 403 (Forbidden) - 404 (NotFound)Error codes: - 400 (Invalid) - 401 (Unauthorized) - 403 (Forbidden) - 404 (NotFound) - 409 (NodeLocked, ClientError)Error codes: - 400 (Invalid) - 401 (Unauthorized) - 403 (Forbidden) - 404 (NotFound) - 409 (NodeLocked, ClientError)Error codes: - 400 (Invalid) - 401 (Unauthorized) - 403 (Forbidden) - 404 (NotFound) - 409 (NodeLocked, ClientError)Error codes: - 400 (Invalid) - 401 (Unauthorized) - 403 (Forbidden) - 404 (NotFound) - 409 (NodeLocked, ClientError)","Error codes: 400,401,403,404Error codes: 400,401,403,404,409Error codes: 400,401,403,404,409Error codes: 400,401,403,404,409Error codes: 400,401,403,404,409",170,33
openstack%2Fcharm-nova-cloud-controller~master~I4806580f58e2a2feba82c74d9d5ff29dfb220c9e,openstack/charm-nova-cloud-controller,master,I4806580f58e2a2feba82c74d9d5ff29dfb220c9e,Ensure only the leader can add hosts to cell,MERGED,2018-03-21 14:17:35.000000000,2018-03-21 17:47:11.000000000,2018-03-21 17:47:11.000000000,"[{'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 14:17:35.000000000', 'files': ['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/8893bace59853c6379659a94f81c1a4a5cc095d1', 'message': 'Ensure only the leader can add hosts to cell\n\nEnsure that only the elected leader can add compute hosts to the\ncell in cloud-compute-relation-changed as database commands should\nonly be run by the elected leader.\n\nChange-Id: I4806580f58e2a2feba82c74d9d5ff29dfb220c9e\nCloses-Bug: #1752402\n'}]",0,554931,8893bace59853c6379659a94f81c1a4a5cc095d1,14,5,1,11805,,,0,"Ensure only the leader can add hosts to cell

Ensure that only the elected leader can add compute hosts to the
cell in cloud-compute-relation-changed as database commands should
only be run by the elected leader.

Change-Id: I4806580f58e2a2feba82c74d9d5ff29dfb220c9e
Closes-Bug: #1752402
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/31/554931/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py']",2,8893bace59853c6379659a94f81c1a4a5cc095d1,bug/1752402, if is_leader() and is_cellv2_init_ready() and is_db_initialised():, if is_cellv2_init_ready() and is_db_initialised():,33,1
openstack%2Fnova-specs~master~I778769bcbd2f399fcbd6e4b942bc23a4bbacde07,openstack/nova-specs,master,I778769bcbd2f399fcbd6e4b942bc23a4bbacde07,PowerVM Virt Integration (Rocky),ABANDONED,2018-02-15 20:34:49.000000000,2018-03-21 17:37:07.000000000,,"[{'_account_id': 7}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10608}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 16710}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-15 20:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5d8474354a8037b9ccfd687e9f49ce42a66e25ab', 'message': 'PowerVM Virt Integration (Rocky)\n\nThis blueprint continues the multi-release work of bringing the\nout-of-tree PowerVM driver in-tree. This proposes the third phase of\nthat integration for Rocky.\n\nChange-Id: I778769bcbd2f399fcbd6e4b942bc23a4bbacde07\nBlueprint: powervm-virt-rocky\n'}, {'number': 2, 'created': '2018-02-15 20:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0fc0831b8411f12837273e6a6a4b443da7b911f3', 'message': 'PowerVM Virt Integration (Rocky)\n\nThis continues the multi-release work of bringing the out-of-tree\nPowerVM driver in-tree. This proposes the third phase of that\nintegration for Rocky.\n\nBlueprint: powervm-virt-rocky\n\nChange-Id: I778769bcbd2f399fcbd6e4b942bc23a4bbacde07\n'}, {'number': 3, 'created': '2018-02-15 20:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/183b9c355f0efdcf6c5daa430d09d13bbaa56905', 'message': 'PowerVM Virt Integration (Rocky)\n\nThis continues the multi-release work of bringing the out-of-tree\nPowerVM driver in-tree. This proposes the third phase of that\nintegration for Rocky.\n\nBlueprint: powervm-virt-rocky\n\nChange-Id: I778769bcbd2f399fcbd6e4b942bc23a4bbacde07\n'}, {'number': 4, 'created': '2018-02-16 17:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6b7da04e62e0e7488258476bc3c2845cbbc5d36f', 'message': 'PowerVM Virt Integration (Rocky)\n\nThis continues the multi-release work of bringing the out-of-tree\nPowerVM driver in-tree. This proposes the third phase of that\nintegration for Rocky.\n\nBlueprint: powervm-virt-rocky\n\nChange-Id: I778769bcbd2f399fcbd6e4b942bc23a4bbacde07\n'}, {'number': 5, 'created': '2018-02-20 22:31:45.000000000', 'files': ['specs/rocky/approved/powervm-virt-rocky.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/75ee6bb9808855954cbd88b49f1f4780d37022d0', 'message': 'PowerVM Virt Integration (Rocky)\n\nThis continues the multi-release work of bringing the out-of-tree\nPowerVM driver in-tree. This proposes the third phase of that\nintegration for Rocky.\n\nBlueprint: powervm-virt-rocky\n\nChange-Id: I778769bcbd2f399fcbd6e4b942bc23a4bbacde07\n'}]",17,545111,75ee6bb9808855954cbd88b49f1f4780d37022d0,28,8,5,10608,,,0,"PowerVM Virt Integration (Rocky)

This continues the multi-release work of bringing the out-of-tree
PowerVM driver in-tree. This proposes the third phase of that
integration for Rocky.

Blueprint: powervm-virt-rocky

Change-Id: I778769bcbd2f399fcbd6e4b942bc23a4bbacde07
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/11/545111/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/approved/powervm-virt-rocky.rst'],1,5d8474354a8037b9ccfd687e9f49ce42a66e25ab,bp/powervm-virt-rocky,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== PowerVM Driver Integration - Queens ========================================== `<https://blueprints.launchpad.net/nova/+spec/powervm-nova-it-compute-driver>`_ The PowerVM driver provides OpenStack enablement for AIX, IBM i and Linux virtual machines running on a PowerVM hypervisor. It has been developed out-of-tree, but with the intention to provide an in-tree implementation. Before it could be integrated in-tree, the Nova core teams provided several requirements that have since been met. The integration process began in Pike and was continued in Queens. This blueprint will expand on that beginning by integrating additional PowerVM driver functionality for Rocky. Problem description =================== The out-of-tree driver has grown to contain a significant amount of function and maturity over the past several OpenStack releases. The work to achieve full integration is expected to continue over multiple OpenStack releases. The first blueprint provided integration of the PowerVMLiveMigrateData object into Nova for the Ocata release, and laid out plans to incorporate minimal compute driver functionality incrementally. During Pike some of the basic driver functionality was introduced which is detailed below in the history section. This blueprint continues that work. The out-of-tree driver will be maintained, supported and extended as the in-tree driver is being integrated. In general for this phase, it is expected that new code will first be proposed to the out-of-tree driver and then proposed in-tree. As the integration of the driver progresses further, that process will shift to all code being proposed in-tree. However, for any contribution (either in-tree or out-of-tree), the primary contributors of this blueprint will ensure the change is proposed to the other driver during this transition period. Use Cases --------- * A user should be able to attach and detach cinder volumes. * A user should be able to boot using local disks. * A user should be able to snapshot a server instance. * A user should be able to move a server instance. * A user should be able to change a server instance's properties. Proposed change =============== The proposed change is to submit a series of patches to build on the functionality implemented in Pike and Queens. The new subset of driver code would support the following features: * `vSCSI`_ cinder volume attach/detach * Boot via host local disk * Snapshot * At least one of Cold / Live Migration * At least one of Resize / Rebuild This does not bring the entirety of the PowerVM out-of-tree driver in-tree. There are other features that will not be implemented in-tree this release. Implementing the PowerVM driver in-tree is a long-term process that will continue through multiple OpenStack releases. .. _`vSCSI`: https://www.ibm.com/support/knowledgecenter/en/8284-21A/p8hat/p8hat_virtualscsi.htm Alternatives ------------ None. The multi-release goal of integrating the PowerVM driver began in Pike, and other than abandoning this effort there is no alternative. Implementing the rest of the driver this release is too vast of a task and would take too much core reviewer time. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None. Integration has no performance effect on existing code paths. Other deployer impact --------------------- Deployers who wish to use the PowerVM driver will need to change the ``compute_driver`` in their conf to ``powervm.driver.PowerVMDriver``. The in-tree PowerVM driver will still have a limited set of functionality. Deployers can install the nova-powervm out-of-tree driver to gain additional functionality while the team works over multiple releases to integrate the driver. The driver will be documented in the hypervisor support matrix (along with its capabilities in-tree) and any additional configuration options will be documented. A new dependency on ``pypowervm`` was introduced in Ocata. This is a third-party, open-source library that allows its consumers to drive PowerVM virtualization. The pypowervm version requirement will be updated as needed throughout the Rocky release. Developer impact ---------------- There are no changes to the driver API. The PowerVM driver will conform to the existing Nova API. Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignees: esberglu edmondsw efried Work Items ---------- * Add vSCSI cinder volume support * Add support for local ephemeral disk * Add support for instance snapshot * Add support for instance migration * Add support for changing instance properties * Update PowerVM CI to stay up to date with new in-tree functionality as it is implemented. Dependencies ============ * `pypowervm`_ - third-party, open-source library that allows for control of the PowerVM platform. * PowerVM with `NovaLink`_ - PowerVM is the hypervisor, and the NovaLink is a Linux based Virtualization Management VM. The Novalink virtualization management VM is what allows the nova-compute process to run on the system itself. .. _`pypowervm`: http://github.com/powervm/pypowervm .. _`NovaLink`: https://www.ibm.com/support/knowledgecenter/en/POWER8/p8eig/p8eig_kickoff.html Testing ======= All code paths run through the standard Tempest tests as part of our CI. The code will also include significant unit test. This code will come from the out-of-tree nova-powervm driver. The CI infrastructure will also continue to support the automated testing of the out-of-tree nova-powervm driver. PowerVM CI will post run results for both the out-of-tree and in-tree driver for all nova changesets. All logs will be publicly available. Non-gating votes will be provided by PowerVM CI. We have dedicated team members monitoring and supporting the CI. No new tests are required. The PowerVM driver is meant to conform to the Nova model. Documentation Impact ==================== We will continue to work with the ID team to update and create new documents for the PowerVM driver. The hypervisor support matrix will be updated as new functionality is implemented. References ========== * nova-powervm: * Overview: Out-of-tree Nova driver for PowerVM * Source: `<git://git.openstack.org/openstack/nova-powervm/>`_ * Bugs: `<https://bugs.launchpad.net/nova-powervm/>`_ * pypowervm * Overview: third-party, open-source module providing access to PowerVM hypervisor functionality. * Source: `<https://github.com/powervm/pypowervm/tree/develop>`_ * Bugs: `<https://bugs.launchpad.net/pypowervm/>`_ * networking-powervm: * Overview: Neutron ML2 mechanism driver and plugin supporting PowerVM's Shared Ethernet Adapter and (as of newton) SR-IOV virtual NIC. * Source: `<git://git.openstack.org/openstack/networking-powervm/>`_ * Bugs: `<https://bugs.launchpad.net/networking-powervm/>`_ * ceilometer-powervm: * Overview: Ceilometer collector for the PowerVM platform. Captures I/O, CPU and memory statistics. * Source: `<git://git.openstack.org/openstack/ceilometer-powervm/>`_ * Bugs: `<https://bugs.launchpad.net/ceilometer-powervm/>`_ * Continuous Integration: * Overview: The CI server's configuration * CI Configuration: `<https://github.com/powervm/powervm-ci/tree/master>`_ History ======= Historically speaking, there have been a couple of other Power drivers. The first PowerVM driver was built on PowerVM and only worked with a component called IVM. The challenge with this was that it required the nova-compute to run on a separate server and SSH in to issue commands. It also did not integrate well with other OpenStack components. There was also the PowerVC OpenStack driver. This sat on top of PowerVC and was a clustered management model. Due to the push away from clustered management, this was not the approved management model for OpenStack Nova Compute. It was never pulled in-tree. This model is different, with core changes to the PowerVM hypervisor. It has been shipping in the field for a long period of time, and has products built on top of it. It also matches the development model of OpenStack Nova and has dedicated developers who have been working on it for multiple years. Lastly, Power systems also natively run Linux. For those wishing to use KVM on Power, the standard libvirt driver is also available. However, that support is limited to Linux based client virtual machines. A rough timeline is provided below. * November 2013: PowerVM IVM driver removed due to lack of CI and development. Also did not fit the direction of Nova core team to have the Nova compute process running on the system itself. * October 2014: `First commit`_ for new PowerVM driver built on NovaLink. * May 2015: Socialized the NovaLink based PowerVM driver at the summit. NovaLink changes the hypervisor itself to match the OpenStack model. All OpenStack code was developed from the start as open source. * October 2015: Liberty based out-of-tree nova-powervm driver released. All developed openly. Support for: * Lifecycle operations * Spawn from glance * Cinder FC support * Nova with networking-powervm agent * Live Migration * AIX and Linux VMs * DevStack * TaskFlow in its core to support graceful rollbacks of failed operations * January 2016: Continuous Integration environment live. * April 2016: nova-powervm driver updated for Mitaka release. All nova-powervm development done openly during the release. Initial third-party contributions made. Added new capabilities: * Cold Migration / Rebuild / Resize * Scalability testing * Basic VNC Console * IBM i VMs * Scale & Resiliency testing * July 2016: CI running against all Nova patch sets. Not voting (due to Nova core team guidance) but logs still published to log server. * October 2016: nova-powervm driver updated for Newton release. Updated for: * SR-IOV via PowerVM vNIC * Linux Bridge / OVS * Enhancements to VNC console * Integration with OpenStack Ansible (outside nova-powervm) * October 2016: `First in-tree change set`_ proposed for compute driver spawn/destroy. * November 2016: PowerVMLiveMigrateData object introduced in-tree (Ocata). * January 2017: pypowervm dependency introduced in requirements project (Ocata). * August 2017: Pike Release - `Phase 1`_ implemented including * Full flavor spawn and destroy * Power on/off and reboot * VNC console * PowerVM Shared Storage Pool ephemeral disk * February 2018: Queens Release - `Phase 2`_ implemented including * Config drive * Open vSwitch networking * PowerVM Shared Ethernet Adapter networking .. _`First commit`: https://github.com/openstack/nova-powervm/commit/095e1c183baf4f9083d6b0d363818be21f64f992 .. _`First in-tree change set`: https://review.openstack.org/#/c/391288/ .. _`Phase 1`: https://blueprints.launchpad.net/nova/+spec/powervm-nova-compute-driver .. _`Phase 2`: https://blueprints.launchpad.net/nova/+spec/powervm-nova-it-compute-driver .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Ocata - Introduced * - Pike - Phase 1 implemented * - Queens - Phase 2 implemented * - Rocky - Phase 3 proposed ",,350,0
openstack%2Fhorizon~master~Ie0e516d82c2c1cdc1c343075393cdf9c336f8e5f,openstack/horizon,master,Ie0e516d82c2c1cdc1c343075393cdf9c336f8e5f,Fix wrong setting name for SHOW_KEYSTONE_V2_RC,MERGED,2018-03-20 05:03:58.000000000,2018-03-21 17:34:31.000000000,2018-03-21 12:42:24.000000000,"[{'_account_id': 841}, {'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 05:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/321185b2b6426c67dcc7aef4c3ff7060dd516055', 'message': ""Fix wrong setting name for SHOW_KEYSTONE_V2_RC\n\nThe user links patch didn't use the same setting\nvariable name in context_processors.py, this fixes\nthat.\n\nChange-Id: Ie0e516d82c2c1cdc1c343075393cdf9c336f8e5f\n""}, {'number': 2, 'created': '2018-03-20 11:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fbfa7c162c097afb2073df5d313db6dd6947bab2', 'message': ""Fix wrong setting name for SHOW_KEYSTONE_V2_RC\n\nThe user links patch didn't use the same setting\nvariable name in context_processors.py, this fixes\nthat.\n\nfixes: #1757112\n\nChange-Id: Ie0e516d82c2c1cdc1c343075393cdf9c336f8e5f\n""}, {'number': 3, 'created': '2018-03-20 18:22:12.000000000', 'files': ['openstack_dashboard/context_processors.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f588b4ee2e73c754a7565928c47552e159a1666d', 'message': ""Fix wrong setting name for SHOW_KEYSTONE_V2_RC\n\nThe user links patch didn't use the same setting\nvariable name in context_processors.py, this fixes\nthat.\n\nCloses-Bug: #1757112\n\nChange-Id: Ie0e516d82c2c1cdc1c343075393cdf9c336f8e5f\n""}]",4,554413,f588b4ee2e73c754a7565928c47552e159a1666d,15,3,3,10420,,,0,"Fix wrong setting name for SHOW_KEYSTONE_V2_RC

The user links patch didn't use the same setting
variable name in context_processors.py, this fixes
that.

Closes-Bug: #1757112

Change-Id: Ie0e516d82c2c1cdc1c343075393cdf9c336f8e5f
",git fetch https://review.opendev.org/openstack/horizon refs/changes/13/554413/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/context_processors.py'],1,321185b2b6426c67dcc7aef4c3ff7060dd516055,bug/1757112," if not getattr(settings, ""SHOW_KEYSTONE_V2_RC"", True):"," if not getattr(settings, ""SHOW_V2_KEYSTONE_RC"", True):",1,1
openstack%2Fwatcher-dashboard~master~If2923cb97514fb79e25a6b40b287548bf6516416,openstack/watcher-dashboard,master,If2923cb97514fb79e25a6b40b287548bf6516416,Install horizon directly from pypi,MERGED,2018-03-16 07:20:53.000000000,2018-03-21 17:18:59.000000000,2018-03-21 17:18:59.000000000,"[{'_account_id': 19055}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 07:20:53.000000000', 'files': ['requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/8cbd5cb32a377c810c2d754f66d7b094781e076e', 'message': ""Install horizon directly from pypi\n\nIt's no longer possible to install horizon with our current\nmethod, and it's causing the ci to fail.\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-March/128310.html\n\nDepends-On: https://review.openstack.org/553703\nChange-Id: If2923cb97514fb79e25a6b40b287548bf6516416\n""}]",0,553706,8cbd5cb32a377c810c2d754f66d7b094781e076e,8,3,1,22623,,,0,"Install horizon directly from pypi

It's no longer possible to install horizon with our current
method, and it's causing the ci to fail.
http://lists.openstack.org/pipermail/openstack-dev/2018-March/128310.html

Depends-On: https://review.openstack.org/553703
Change-Id: If2923cb97514fb79e25a6b40b287548bf6516416
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/06/553706/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tox.ini']",2,8cbd5cb32a377c810c2d754f66d7b094781e076e,tox-siblings,, http://tarballs.openstack.org/horizon/horizon-master.tar.gz,2,1
openstack%2Fpuppet-tripleo~master~Ie51bd1fa08d7690ac76a01ee2c558e86fb52bb2d,openstack/puppet-tripleo,master,Ie51bd1fa08d7690ac76a01ee2c558e86fb52bb2d,Replace perl with awk,MERGED,2018-03-16 13:56:41.000000000,2018-03-21 17:12:30.000000000,2018-03-20 02:05:34.000000000,"[{'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-16 13:56:41.000000000', 'files': ['templates/logrotate/containers_logrotate.conf.erb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cc82b62f44641233c515e5b2920c87dda6c4f21e', 'message': 'Replace perl with awk\n\nPerl is missing in kolla containers. Replace it with\nawk.\nbz: #1553077\n\nCloses-Bug: #1756343\n\nChange-Id: Ie51bd1fa08d7690ac76a01ee2c558e86fb52bb2d\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,553795,cc82b62f44641233c515e5b2920c87dda6c4f21e,19,7,1,6926,,,0,"Replace perl with awk

Perl is missing in kolla containers. Replace it with
awk.
bz: #1553077

Closes-Bug: #1756343

Change-Id: Ie51bd1fa08d7690ac76a01ee2c558e86fb52bb2d
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/95/553795/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/logrotate/containers_logrotate.conf.erb'],1,cc82b62f44641233c515e5b2920c87dda6c4f21e,bug/1756343, awk '/\S+\s+[0-9]+\s.*\/var\/log\/.*\(deleted\)/ {print $2}' |\," /bin/perl -ne '/\S+\s+(\d+).*\/var\/log\/.*\(deleted\)/ && print ""$1\n""' |\",1,1
openstack%2Fpython-heatclient~master~I7a6a32d2a8c01b62455774199b6ed1ab4adefc65,openstack/python-heatclient,master,I7a6a32d2a8c01b62455774199b6ed1ab4adefc65,"use assertIsInstance(A, B) instead of assertEqual(type(A), B)",ABANDONED,2016-03-07 17:57:14.000000000,2018-03-21 17:03:47.000000000,,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 8399}, {'_account_id': 14033}, {'_account_id': 17211}]","[{'number': 1, 'created': '2016-03-07 17:57:14.000000000', 'files': ['heatclient/tests/unit/osc/utils.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/50e7b3000aa693b973f1e1ed3bf490ac26ce4e45', 'message': 'use assertIsInstance(A, B) instead of assertEqual(type(A), B)\n\nChange-Id: I7a6a32d2a8c01b62455774199b6ed1ab4adefc65\n'}]",2,289482,50e7b3000aa693b973f1e1ed3bf490ac26ce4e45,9,5,1,20216,,,0,"use assertIsInstance(A, B) instead of assertEqual(type(A), B)

Change-Id: I7a6a32d2a8c01b62455774199b6ed1ab4adefc65
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/82/289482/1 && git format-patch -1 --stdout FETCH_HEAD,['heatclient/tests/unit/osc/utils.py'],1,50e7b3000aa693b973f1e1ed3bf490ac26ce4e45,," """"""self.assertIsInstance(obj, cls), with a nicer message"""""""," """"""self.assertTrue(isinstance(obj, cls)), with a nicer message""""""",1,1
openstack%2Fdevstack~master~Icad4dcd7305ffd709f9c9170bfbe48730b7ee6eb,openstack/devstack,master,Icad4dcd7305ffd709f9c9170bfbe48730b7ee6eb,etcd: bump to v3.2.0,ABANDONED,2017-06-16 02:03:08.000000000,2018-03-21 17:01:26.000000000,,"[{'_account_id': 7979}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10608}, {'_account_id': 12033}, {'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 14070}, {'_account_id': 16376}, {'_account_id': 19741}, {'_account_id': 22752}]","[{'number': 1, 'created': '2017-06-16 02:03:08.000000000', 'files': ['lib/etcd3'], 'web_link': 'https://opendev.org/openstack/devstack/commit/5898899cc94e1c15980b133ae8d153e01503aff1', 'message': 'etcd: bump to v3.2.0\n\nWhen we added support for etcd as a base service there was discussion\nabout allowing support for ppc64le.  The PowerKVM CI[1] is using a local\nbuild of 3.2.0.rc when gateing[2].  We\'re relativly late in the cycle\nbut if we release with a requirement on 3.1.x it will make supporting\nppc64le a little harder.\n\nBump the base version to 3.2.0 to accommodate that architecture.\n\nNote: You can verify the SHA sums match the good tarballs with:\n ---\n [tony@balder tmp]$ gpg  --verify etcd-v3.2.0-linux-ppc64le.tar.gz.asc\n gpg: assuming signed data in `etcd-v3.2.0-linux-ppc64le.tar.gz\'\n gpg: Signature made Sat 10 Jun 2017 04:26:11 AM AEST\n gpg:                using RSA key F804F4137EF48FD3\n gpg: Can\'t check signature: public key not found\n [tony@balder tmp]$ gpg --recv-key F804F4137EF48FD3\n gpg: requesting key F804F4137EF48FD3 from hkp server pgp.mit.edu\n gpg: key 50BDD3E0FC8A365E: public key ""CoreOS Application Signing Key <security@coreos.com>"" imported\n gpg: Note: signatures using the MD5 algorithm are rejected\n gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model\n gpg: depth: 0  valid:   4  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 4u\n gpg: next trustdb check due at 2017-11-03\n gpg: Total number processed: 1\n gpg:               imported: 1  (RSA: 1)\n [tony@balder tmp]$ gpg  --verify etcd-v3.2.0-linux-ppc64le.tar.gz.asc\n gpg: assuming signed data in `etcd-v3.2.0-linux-ppc64le.tar.gz\'\n gpg: Signature made Sat 10 Jun 2017 04:26:11 AM AEST\n gpg:                using RSA key F804F4137EF48FD3\n gpg: Good signature from ""CoreOS Application Signing Key <security@coreos.com>""\n gpg: WARNING: This key is not certified with a trusted signature!\n gpg:          There is no indication that the signature belongs to the owner.\n Primary key fingerprint: 18AD 5014 C99E F7E3 BA5F  6CE9 50BD D3E0 FC8A 365E\n      Subkey fingerprint: B261 4119 157B E592 32DF  D2AA F804 F413 7EF4 8FD3\n [tony@balder tmp]$ gpg  --verify etcd-v3.2.0-linux-amd64.tar.gz.asc\n gpg: assuming signed data in `etcd-v3.2.0-linux-amd64.tar.gz\'\n gpg: Signature made Sat 10 Jun 2017 04:26:05 AM AEST\n gpg:                using RSA key F804F4137EF48FD3\n gpg: Good signature from ""CoreOS Application Signing Key <security@coreos.com>""\n gpg: WARNING: This key is not certified with a trusted signature!\n gpg:          There is no indication that the signature belongs to the owner.\n Primary key fingerprint: 18AD 5014 C99E F7E3 BA5F  6CE9 50BD D3E0 FC8A 365E\n      Subkey fingerprint: B261 4119 157B E592 32DF  D2AA F804 F413 7EF4 8FD3\n [tony@balder tmp]$ sha256sum etcd-v3.2.0-linux-*.tar.gz\n f2528f5d499720f2fba7a8ff544d73f185316db6d7896ed2b84f0ca3bb84471d  etcd-v3.2.0-linux-amd64.tar.gz\n 2466ec19d41290ccb15616c3b021e2e4edc7efa669c6b65f41da1d8c0a2a0fbc  etcd-v3.2.0-linux-ppc64le.tar.gz\n ---\n\n[1] https://wiki.openstack.org/wiki/PowerKVM\n[2] http://dal05.objectstorage.softlayer.net/v1/AUTH_3d8e6ecb-f597-448c-8ec2-164e9f710dd6/pkvmci/nova/32/461532/13/check/tempest-dsvm-full-xenial/bafe29d/local.conf.txt.gz\n\nChange-Id: Icad4dcd7305ffd709f9c9170bfbe48730b7ee6eb\n'}]",1,474825,5898899cc94e1c15980b133ae8d153e01503aff1,21,11,1,12898,,,0,"etcd: bump to v3.2.0

When we added support for etcd as a base service there was discussion
about allowing support for ppc64le.  The PowerKVM CI[1] is using a local
build of 3.2.0.rc when gateing[2].  We're relativly late in the cycle
but if we release with a requirement on 3.1.x it will make supporting
ppc64le a little harder.

Bump the base version to 3.2.0 to accommodate that architecture.

Note: You can verify the SHA sums match the good tarballs with:
 ---
 [tony@balder tmp]$ gpg  --verify etcd-v3.2.0-linux-ppc64le.tar.gz.asc
 gpg: assuming signed data in `etcd-v3.2.0-linux-ppc64le.tar.gz'
 gpg: Signature made Sat 10 Jun 2017 04:26:11 AM AEST
 gpg:                using RSA key F804F4137EF48FD3
 gpg: Can't check signature: public key not found
 [tony@balder tmp]$ gpg --recv-key F804F4137EF48FD3
 gpg: requesting key F804F4137EF48FD3 from hkp server pgp.mit.edu
 gpg: key 50BDD3E0FC8A365E: public key ""CoreOS Application Signing Key <security@coreos.com>"" imported
 gpg: Note: signatures using the MD5 algorithm are rejected
 gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model
 gpg: depth: 0  valid:   4  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 4u
 gpg: next trustdb check due at 2017-11-03
 gpg: Total number processed: 1
 gpg:               imported: 1  (RSA: 1)
 [tony@balder tmp]$ gpg  --verify etcd-v3.2.0-linux-ppc64le.tar.gz.asc
 gpg: assuming signed data in `etcd-v3.2.0-linux-ppc64le.tar.gz'
 gpg: Signature made Sat 10 Jun 2017 04:26:11 AM AEST
 gpg:                using RSA key F804F4137EF48FD3
 gpg: Good signature from ""CoreOS Application Signing Key <security@coreos.com>""
 gpg: WARNING: This key is not certified with a trusted signature!
 gpg:          There is no indication that the signature belongs to the owner.
 Primary key fingerprint: 18AD 5014 C99E F7E3 BA5F  6CE9 50BD D3E0 FC8A 365E
      Subkey fingerprint: B261 4119 157B E592 32DF  D2AA F804 F413 7EF4 8FD3
 [tony@balder tmp]$ gpg  --verify etcd-v3.2.0-linux-amd64.tar.gz.asc
 gpg: assuming signed data in `etcd-v3.2.0-linux-amd64.tar.gz'
 gpg: Signature made Sat 10 Jun 2017 04:26:05 AM AEST
 gpg:                using RSA key F804F4137EF48FD3
 gpg: Good signature from ""CoreOS Application Signing Key <security@coreos.com>""
 gpg: WARNING: This key is not certified with a trusted signature!
 gpg:          There is no indication that the signature belongs to the owner.
 Primary key fingerprint: 18AD 5014 C99E F7E3 BA5F  6CE9 50BD D3E0 FC8A 365E
      Subkey fingerprint: B261 4119 157B E592 32DF  D2AA F804 F413 7EF4 8FD3
 [tony@balder tmp]$ sha256sum etcd-v3.2.0-linux-*.tar.gz
 f2528f5d499720f2fba7a8ff544d73f185316db6d7896ed2b84f0ca3bb84471d  etcd-v3.2.0-linux-amd64.tar.gz
 2466ec19d41290ccb15616c3b021e2e4edc7efa669c6b65f41da1d8c0a2a0fbc  etcd-v3.2.0-linux-ppc64le.tar.gz
 ---

[1] https://wiki.openstack.org/wiki/PowerKVM
[2] http://dal05.objectstorage.softlayer.net/v1/AUTH_3d8e6ecb-f597-448c-8ec2-164e9f710dd6/pkvmci/nova/32/461532/13/check/tempest-dsvm-full-xenial/bafe29d/local.conf.txt.gz

Change-Id: Icad4dcd7305ffd709f9c9170bfbe48730b7ee6eb
",git fetch https://review.opendev.org/openstack/devstack refs/changes/25/474825/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/etcd3'],1,5898899cc94e1c15980b133ae8d153e01503aff1,feature/etcd-v3.2.0,"ETCD_VERSION=${ETCD_VERSION:-v3.2.0}ETCD_SHA256_AMD64=""f2528f5d499720f2fba7a8ff544d73f185316db6d7896ed2b84f0ca3bb84471d"" ETCD_SHA256_PPC64=""2466ec19d41290ccb15616c3b021e2e4edc7efa669c6b65f41da1d8c0a2a0fbc"" # NOTE(sdague/tonyb): etcd v3.2.0 doesn't have anything for arm","ETCD_VERSION=${ETCD_VERSION:-v3.1.7}ETCD_SHA256_AMD64=""4fde194bbcd259401e2b5c462dfa579ee7f6af539f13f130b8f5b4f52e3b3c52"" # NOTE(sdague): etcd v3.1.7 doesn't have anything for these architectures, though 3.2.0 does.ETCD_SHA256_PPC64=""""",4,4
openstack%2Fkeystone~master~Ia4d0d64e73551845e39b8c56aded67bce5464c51,openstack/keystone,master,Ia4d0d64e73551845e39b8c56aded67bce5464c51,WIP add version data to the controllers,ABANDONED,2017-07-31 18:35:46.000000000,2018-03-21 17:00:52.000000000,,[{'_account_id': 5046}],"[{'number': 1, 'created': '2017-07-31 18:35:46.000000000', 'files': ['keystone/common/api_version_request.py', 'keystone/common/controller.py', 'keystone/tests/unit/test_versions.py', 'keystone/common/wsgi.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e1bc4bac9e33b430edd67cb7b479031ba8225c1a', 'message': 'WIP add version data to the controllers\n\nThis is a follow on to a previous patch that tries to simplify some\nof the version handling by pulling it into the controller.\n\nChange-Id: Ia4d0d64e73551845e39b8c56aded67bce5464c51\n'}]",0,489297,e1bc4bac9e33b430edd67cb7b479031ba8225c1a,5,1,1,5046,,,0,"WIP add version data to the controllers

This is a follow on to a previous patch that tries to simplify some
of the version handling by pulling it into the controller.

Change-Id: Ia4d0d64e73551845e39b8c56aded67bce5464c51
",git fetch https://review.opendev.org/openstack/keystone refs/changes/97/489297/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/api_version_request.py', 'keystone/common/controller.py', 'keystone/tests/unit/test_versions.py', 'keystone/common/wsgi.py']",4,e1bc4bac9e33b430edd67cb7b479031ba8225c1a,bug/1689644, version = self.version_object.version,"from keystone.common import api_version_request url = wsgiref.util.application_uri(req.environ) version = None vf = api_version_request.VersionFactory() controller = importutils.import_class('keystone.common.controller') if isinstance(self, controller.V3Controller): version = vf.max_api_version elif isinstance(self, controller.V2Controller): version = vf.deprecated_api_version elif url: if ""v3"" in url: version = vf.max_api_version elif ""v2.0"" in url: version = vf.deprecated_api_version",43,72
openstack%2Fkeystone~master~I9fafc995e76e00db5e22f45f33b4284f931d569d,openstack/keystone,master,I9fafc995e76e00db5e22f45f33b4284f931d569d,Remove policy mapping documentation,ABANDONED,2017-07-07 03:30:41.000000000,2018-03-21 16:59:40.000000000,,"[{'_account_id': 5046}, {'_account_id': 18464}]","[{'number': 1, 'created': '2017-07-07 03:30:41.000000000', 'files': ['doc/source/getting-started/policy_mapping.rst', 'doc/source/getting-started/index.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/1298ef23e2ef96be57d8ae845afe3f358923ff77', 'message': 'Remove policy mapping documentation\n\nThis document pre-dated the policy-in-code and policy-docs work. Now\nthat policy is moved into code and documented, this is no longer\nneeded and is duplicated from the sample we generate with our\ndocumentation.\n\nChange-Id: I9fafc995e76e00db5e22f45f33b4284f931d569d\n'}]",2,481395,1298ef23e2ef96be57d8ae845afe3f358923ff77,8,2,1,5046,,,0,"Remove policy mapping documentation

This document pre-dated the policy-in-code and policy-docs work. Now
that policy is moved into code and documented, this is no longer
needed and is duplicated from the sample we generate with our
documentation.

Change-Id: I9fafc995e76e00db5e22f45f33b4284f931d569d
",git fetch https://review.opendev.org/openstack/keystone refs/changes/95/481395/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/getting-started/policy_mapping.rst', 'doc/source/getting-started/index.rst']",2,1298ef23e2ef96be57d8ae845afe3f358923ff77,remove-duplicate-docs,, policy_mapping.rst,0,232
openstack%2Ftraining-labs~stable%2Fqueens~I67b582afa869265ce4f64426747f1fa0c6455ebe,openstack/training-labs,stable/queens,I67b582afa869265ce4f64426747f1fa0c6455ebe,Update .gitreview for stable/queens,MERGED,2018-03-21 16:03:32.000000000,2018-03-21 16:57:49.000000000,2018-03-21 16:57:49.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 16:03:32.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/training-labs/commit/8c5ac92f5bc38dc491a78cf3ba13c37b20a2af3a', 'message': 'Update .gitreview for stable/queens\n\nChange-Id: I67b582afa869265ce4f64426747f1fa0c6455ebe\n'}]",0,554970,8c5ac92f5bc38dc491a78cf3ba13c37b20a2af3a,6,2,1,22816,,,0,"Update .gitreview for stable/queens

Change-Id: I67b582afa869265ce4f64426747f1fa0c6455ebe
",git fetch https://review.opendev.org/openstack/training-labs refs/changes/70/554970/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8c5ac92f5bc38dc491a78cf3ba13c37b20a2af3a,create-queens,defaultbranch=stable/queens,,1,0
openstack%2Fglance~stable%2Fqueens~Iefac190a4adf5f08df538e04db3e07e261ad1bd9,openstack/glance,stable/queens,Iefac190a4adf5f08df538e04db3e07e261ad1bd9,Use config opt value to determine import methods,MERGED,2018-03-19 16:48:49.000000000,2018-03-21 16:54:37.000000000,2018-03-21 16:54:37.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 16:48:49.000000000', 'files': ['glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/2221868690e004a74de313fb2cba41045fe99bc8', 'message': 'Use config opt value to determine import methods\n\nInstead of validating import requests by checking the provided\nimport-method against a hard-coded list, use the values in the\nappropriate configuration option.\n\nChange-Id: Iefac190a4adf5f08df538e04db3e07e261ad1bd9\nCloses-bug: #1754634\n(cherry picked from commit e1738033dfab389727e61c76eb0312f392f0ff41)\n'}]",0,554291,2221868690e004a74de313fb2cba41045fe99bc8,27,4,1,5314,,,0,"Use config opt value to determine import methods

Instead of validating import requests by checking the provided
import-method against a hard-coded list, use the values in the
appropriate configuration option.

Change-Id: Iefac190a4adf5f08df538e04db3e07e261ad1bd9
Closes-bug: #1754634
(cherry picked from commit e1738033dfab389727e61c76eb0312f392f0ff41)
",git fetch https://review.opendev.org/openstack/glance refs/changes/91/554291/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/tests/unit/v2/test_images_resource.py']",2,2221868690e004a74de313fb2cba41045fe99bc8,bug/1754634-stable/queens," # Bug 1754634: make sure that what's considered valid # is determined by the config option self.config(enabled_import_methods=['party-time']) ""name"": ""party-time"" def _get_request_for_method(self, method_name): ""name"": method_name return request KNOWN_IMPORT_METHODS = ['glance-direct', 'web-download'] def test_import_image_invalid_import_method(self): self.config(enable_image_import=True) # Bug 1754634: make sure that what's considered valid # is determined by the config option. So put known bad # name in config, and known good name in request self.config(enabled_import_methods=['bad-method-name']) for m in self.KNOWN_IMPORT_METHODS: request = self._get_request_for_method(m) self.assertRaises(webob.exc.HTTPBadRequest, self.deserializer.import_image, request)"," ""name"": ""glance-direct"" def test_import_image_invalid_import_method(self): self.config(enable_image_import=True) ""name"": ""abcd"" self.assertRaises(webob.exc.HTTPBadRequest, self.deserializer.import_image, request)",22,8
openstack%2Foslo.context~master~I0cb3208aa193bc75a77a6e192e947eb6cc4f8cfd,openstack/oslo.context,master,I0cb3208aa193bc75a77a6e192e947eb6cc4f8cfd,pypy not checked at gate,MERGED,2018-03-21 12:49:41.000000000,2018-03-21 16:53:13.000000000,2018-03-21 16:53:13.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 16367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 12:49:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/c025b071305963bfbf808031bed17e27e8b4cd4b', 'message': 'pypy not checked at gate\n\nChange-Id: I0cb3208aa193bc75a77a6e192e947eb6cc4f8cfd\n'}]",0,554899,c025b071305963bfbf808031bed17e27e8b4cd4b,8,4,1,16367,,,0,"pypy not checked at gate

Change-Id: I0cb3208aa193bc75a77a6e192e947eb6cc4f8cfd
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/99/554899/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c025b071305963bfbf808031bed17e27e8b4cd4b,,"envlist = py35,py27,pep8","envlist = py35,py27,pypy,pep8",1,1
openstack%2Fmicroversion-parse~master~I925a9df3b044b1f581b2c62db1bda9ace0a5cc47,openstack/microversion-parse,master,I925a9df3b044b1f581b2c62db1bda9ace0a5cc47,"Correct docstring on Version(0, 0) test",MERGED,2018-03-21 14:37:24.000000000,2018-03-21 16:43:22.000000000,2018-03-21 16:43:22.000000000,"[{'_account_id': 1063}, {'_account_id': 10670}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 14:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/4648990ca8f34cafece2450284ba4bbdb85d30d0', 'message': 'Correct docstring on Version(0, 0) test\n\nIf no max or min is set, no Version should match, including\n0.0. The test was already correct, but the associated\ndocstring was a pasto.\n\nChange-Id: I925a9df3b044b1f581b2c62db1bda9ace0a5cc47\n'}, {'number': 2, 'created': '2018-03-21 15:18:58.000000000', 'files': ['microversion_parse/tests/test_extract_version.py'], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/6a379d9783c02a75deaccb4f96cf0a3ad35bdb44', 'message': 'Correct docstring on Version(0, 0) test\n\nIf no max or min is set, no Version should match, including\n0.0. The test was already correct, but the associated\ndocstring was a pasto.\n\nChange-Id: I925a9df3b044b1f581b2c62db1bda9ace0a5cc47\n'}]",1,554937,6a379d9783c02a75deaccb4f96cf0a3ad35bdb44,11,3,2,11564,,,0,"Correct docstring on Version(0, 0) test

If no max or min is set, no Version should match, including
0.0. The test was already correct, but the associated
docstring was a pasto.

Change-Id: I925a9df3b044b1f581b2c62db1bda9ace0a5cc47
",git fetch https://review.opendev.org/openstack/microversion-parse refs/changes/37/554937/2 && git format-patch -1 --stdout FETCH_HEAD,['microversion_parse/tests/test_extract_version.py'],1,4648990ca8f34cafece2450284ba4bbdb85d30d0,cd/placement-functions," """"""A version of '0.0' without min and max should not match."""""""," """"""If a version is '0.0' we want to it be able to match.""""""",1,1
openstack%2Fmicroversion-parse~master~I7a09b63db390431be044ae3fc6aeece565606b40,openstack/microversion-parse,master,I7a09b63db390431be044ae3fc6aeece565606b40,Do not use redundant attr check for keys in fold_headers,MERGED,2018-03-20 13:54:27.000000000,2018-03-21 16:43:22.000000000,2018-03-21 16:43:22.000000000,"[{'_account_id': 1063}, {'_account_id': 10670}, {'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 13:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/8f6c35fafd4ec59cc84f5052fde0c6a58165f7cc', 'message': 'Do not use redundant attr check for keys in fold_headers\n\nWe only care about items, so use it, and pass if we get an\nAttributeError\n\nChange-Id: I7a09b63db390431be044ae3fc6aeece565606b40\nCloses-Bug: #1756157\n'}, {'number': 2, 'created': '2018-03-20 15:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/5387589c8e3d8d96658826043ce94217ba84f887', 'message': 'Do not use redundant attr check for keys in fold_headers\n\nWe only care about items, so use it, and pass if we get an\nAttributeError\n\nChange-Id: I7a09b63db390431be044ae3fc6aeece565606b40\nCloses-Bug: #1756157\n'}, {'number': 3, 'created': '2018-03-20 17:28:16.000000000', 'files': ['microversion_parse/__init__.py'], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/e93d35f10d3c9ad20774a4be73fd80ecaf97d404', 'message': 'Do not use redundant attr check for keys in fold_headers\n\nWe only care about items, so use it, and pass if we get an\nAttributeError\n\nChange-Id: I7a09b63db390431be044ae3fc6aeece565606b40\nCloses-Bug: #1756157\n'}]",1,554547,e93d35f10d3c9ad20774a4be73fd80ecaf97d404,15,4,3,11564,,,0,"Do not use redundant attr check for keys in fold_headers

We only care about items, so use it, and pass if we get an
AttributeError

Change-Id: I7a09b63db390431be044ae3fc6aeece565606b40
Closes-Bug: #1756157
",git fetch https://review.opendev.org/openstack/microversion-parse refs/changes/47/554547/1 && git format-patch -1 --stdout FETCH_HEAD,['microversion_parse/__init__.py'],1,8f6c35fafd4ec59cc84f5052fde0c6a58165f7cc,cd/placement-functions, try: except AttributeError: pass," if hasattr(headers, 'keys'):",3,1
openstack%2Fmicroversion-parse~master~Iaeff8dca06b7c4de2eff497dc2f1e49c4ee1f5e4,openstack/microversion-parse,master,Iaeff8dca06b7c4de2eff497dc2f1e49c4ee1f5e4,Clean up package version and python version support,MERGED,2018-03-06 21:22:40.000000000,2018-03-21 16:43:21.000000000,2018-03-21 16:43:21.000000000,"[{'_account_id': 1063}, {'_account_id': 10670}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-06 21:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/dae3f8c44e3c37afecf1b2ed230b58fe1e9c4f35', 'message': 'Clean up package version and python version support\n\nThe __version__ in __init__.py is not used, and is out of date.\n\nsetup.cfg is adjusted to show that python 3.4 received no attention.\n\nChange-Id: Iaeff8dca06b7c4de2eff497dc2f1e49c4ee1f5e4\n'}, {'number': 2, 'created': '2018-03-15 12:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/d6e2dff628239fde68e90c9e0eb2c72cf003b016', 'message': 'Clean up package version and python version support\n\nThe __version__ in __init__.py is not used, and is out of date.\n\nsetup.cfg is adjusted to show that python 3.4 receives no attention.\n\nChange-Id: Iaeff8dca06b7c4de2eff497dc2f1e49c4ee1f5e4\n'}, {'number': 3, 'created': '2018-03-15 18:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/0fb4576addf73d99c9cf51c0502ebbc0081b9958', 'message': 'Clean up package version and python version support\n\nThe __version__ in __init__.py is not used, and is out of date.\n\nsetup.cfg is adjusted to show that python 3.4 receives no attention.\n\nChange-Id: Iaeff8dca06b7c4de2eff497dc2f1e49c4ee1f5e4\n'}, {'number': 4, 'created': '2018-03-20 15:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/b5a254d2d50eff7c11c018c00db248ac47e90a0b', 'message': 'Clean up package version and python version support\n\nThe __version__ in __init__.py is not used, and is out of date.\n\nsetup.cfg is adjusted to show that python 3.4 receives no attention.\n\nChange-Id: Iaeff8dca06b7c4de2eff497dc2f1e49c4ee1f5e4\n'}, {'number': 5, 'created': '2018-03-20 17:28:16.000000000', 'files': ['microversion_parse/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/4b8719683734e613360498fb08141dd9c4152599', 'message': 'Clean up package version and python version support\n\nThe __version__ in __init__.py is not used, and is out of date.\n\nsetup.cfg is adjusted to show that python 3.4 receives no attention.\n\nChange-Id: Iaeff8dca06b7c4de2eff497dc2f1e49c4ee1f5e4\n'}]",0,550264,4b8719683734e613360498fb08141dd9c4152599,16,3,5,11564,,,0,"Clean up package version and python version support

The __version__ in __init__.py is not used, and is out of date.

setup.cfg is adjusted to show that python 3.4 receives no attention.

Change-Id: Iaeff8dca06b7c4de2eff497dc2f1e49c4ee1f5e4
",git fetch https://review.opendev.org/openstack/microversion-parse refs/changes/64/550264/3 && git format-patch -1 --stdout FETCH_HEAD,"['microversion_parse/__init__.py', 'setup.cfg']",2,dae3f8c44e3c37afecf1b2ed230b58fe1e9c4f35,cd/placement-functions, Programming Language :: Python :: 3.6, Programming Language :: Python :: 3.4,1,3
openstack%2Fmicroversion-parse~master~Ie44399447a349ebc49251dc63c23f56c6423fca6,openstack/microversion-parse,master,Ie44399447a349ebc49251dc63c23f56c6423fca6,Allow passing a json_error_formatter to the middleware,MERGED,2018-03-06 21:22:40.000000000,2018-03-21 16:43:20.000000000,2018-03-21 16:43:19.000000000,"[{'_account_id': 1063}, {'_account_id': 10670}, {'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-06 21:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/c1f6d478732a28fd0b354be3e0d0d61df97767f1', 'message': 'Allow passing a json_error_formatter to the middleware\n\nThis is so error responses can be formatted according to the rules\nof the application.\n\nChange-Id: Ie44399447a349ebc49251dc63c23f56c6423fca6\n'}, {'number': 2, 'created': '2018-03-15 12:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/df28dfe7da8c7d9bb2bdc2f0ba38724434f1488f', 'message': 'Allow passing a json_error_formatter to the middleware\n\nThis is so error responses can be formatted according to the rules\nof the application.\n\nChange-Id: Ie44399447a349ebc49251dc63c23f56c6423fca6\n'}, {'number': 3, 'created': '2018-03-15 18:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/376158b90e50b927a65163d181ef7e0984c25b3e', 'message': 'Allow passing a json_error_formatter to the middleware\n\nThis is so error responses can be formatted according to the rules\nof the application.\n\nChange-Id: Ie44399447a349ebc49251dc63c23f56c6423fca6\n'}, {'number': 4, 'created': '2018-03-20 15:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/5b30249614de8c0bfc41642f81fb4436bc061b3e', 'message': 'Allow passing a json_error_formatter to the middleware\n\nThis is so error responses can be formatted according to the rules\nof the application.\n\nChange-Id: Ie44399447a349ebc49251dc63c23f56c6423fca6\n'}, {'number': 5, 'created': '2018-03-20 17:28:16.000000000', 'files': ['README.rst', 'microversion_parse/middleware.py'], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/f816e324b896b4a4a53dbbcdf5ecf45e5813ad74', 'message': 'Allow passing a json_error_formatter to the middleware\n\nThis is so error responses can be formatted according to the rules\nof the application.\n\nChange-Id: Ie44399447a349ebc49251dc63c23f56c6423fca6\n'}]",0,550263,f816e324b896b4a4a53dbbcdf5ecf45e5813ad74,19,4,5,11564,,,0,"Allow passing a json_error_formatter to the middleware

This is so error responses can be formatted according to the rules
of the application.

Change-Id: Ie44399447a349ebc49251dc63c23f56c6423fca6
",git fetch https://review.opendev.org/openstack/microversion-parse refs/changes/63/550263/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'microversion_parse/middleware.py']",2,c1f6d478732a28fd0b354be3e0d0d61df97767f1,cd/placement-functions," def __init__(self, application, service_type, versions, json_error_formatter=None): :param json_error_formatter: A Webob exception error formatter. See Webob for details. self.json_error_formatter = json_error_formatter # api-wg guidelines, unless a json_error_formatter is provided # that can do it. For an example, see the placement service. ('Invalid microversion: %(error)s') % {'error': exc}, json_formatter=self.json_error_formatter) ('Invalid microversion: %(error)s') % {'error': exc}, json_formatter=self.json_error_formatter)"," def __init__(self, application, service_type, versions): # api-wg guidelines. ('Invalid microversion: %(error)s') % {'error': exc}) ('Invalid microversion: %(error)s') % {'error': exc})",17,4
openstack%2Fmicroversion-parse~master~I9d27b6fad35f7aea0085f08c0353f8e8acdb8b73,openstack/microversion-parse,master,I9d27b6fad35f7aea0085f08c0353f8e8acdb8b73,Add MicroversionMiddleware,MERGED,2018-03-06 20:49:08.000000000,2018-03-21 16:43:19.000000000,2018-03-21 16:43:18.000000000,"[{'_account_id': 1063}, {'_account_id': 10670}, {'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-06 20:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/94be1066231de6f92750f14df5df88248346a193', 'message': 'Add MicroversionMiddleware\n\nThis change imports (with slight modification) the\nMicroversionMiddleware created for the placement service.\n\nFor the time being the middleware relies on webob as that is\nwhat it originally relied on. If there are requirements to do\notherwise, later, we can make adjustments then.\n\nThe README is updated with limited usage instructions.\n\nGabbi tests are added, requiring adjustments to the test configuration,\nso the opportunity was taken to switch to using stestr instead of testr.\n\nThough arguably ""functional"" tests because they are not strictly unit\ntests, no distincation is made in the tests directory, for now, as it\nis all nice and fast.\n\nChange-Id: I9d27b6fad35f7aea0085f08c0353f8e8acdb8b73\n'}, {'number': 2, 'created': '2018-03-15 12:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/de87eb069fcb152b095e9264b4b0c90a1b79b73b', 'message': 'Add MicroversionMiddleware\n\nThis change imports (with slight modification) the\nMicroversionMiddleware created for the placement service.\n\nFor the time being the middleware relies on WebOb as that is\nwhat it originally relied on. If there are requirements to do\notherwise, later, we can make adjustments then.\n\nThe README is updated with limited usage instructions.\n\nGabbi tests are added, requiring adjustments to the test configuration,\nso the opportunity was taken to switch to using stestr instead of testr.\n\nThough arguably ""functional"" tests because they are not strictly unit\ntests, no distinction is made in the tests directory, for now, as it\nis all nice and fast and we\'d like to keep it that way.\n\nChange-Id: I9d27b6fad35f7aea0085f08c0353f8e8acdb8b73\n'}, {'number': 3, 'created': '2018-03-15 18:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/3b1e0cbd7b351f9ba17ad8be69ecc0b7e6839bc5', 'message': 'Add MicroversionMiddleware\n\nThis change imports (with slight modification) the\nMicroversionMiddleware created for the placement service.\n\nFor the time being the middleware relies on WebOb as that is\nwhat it originally relied on. If there are requirements to do\notherwise, later, we can make adjustments then.\n\nThe README is updated with limited usage instructions.\n\nGabbi tests are added, requiring adjustments to the test configuration,\nso the opportunity was taken to switch to using stestr instead of testr.\n\nThough arguably ""functional"" tests because they are not strictly unit\ntests, no distinction is made in the tests directory, for now, as it\nis all nice and fast and we\'d like to keep it that way.\n\nChange-Id: I9d27b6fad35f7aea0085f08c0353f8e8acdb8b73\n'}, {'number': 4, 'created': '2018-03-20 15:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/1d80fe24ab6ebe23821f69f3b987cda6a535d79b', 'message': 'Add MicroversionMiddleware\n\nThis change imports (with slight modification) the\nMicroversionMiddleware created for the placement service.\n\nFor the time being the middleware relies on WebOb as that is\nwhat it originally relied on. If there are requirements to do\notherwise, later, we can make adjustments then.\n\nThe README is updated with limited usage instructions.\n\nGabbi tests are added, requiring adjustments to the test configuration,\nso the opportunity was taken to switch to using stestr instead of testr.\n\nThough arguably ""functional"" tests because they are not strictly unit\ntests, no distinction is made in the tests directory, for now, as it\nis all nice and fast and we\'d like to keep it that way.\n\nChange-Id: I9d27b6fad35f7aea0085f08c0353f8e8acdb8b73\n'}, {'number': 5, 'created': '2018-03-20 17:28:16.000000000', 'files': ['requirements.txt', '.gitignore', 'test-requirements.txt', 'microversion_parse/tests/gabbits/simple.yaml', 'README.rst', '.testr.conf', 'microversion_parse/middleware.py', 'microversion_parse/tests/gabbits/middleware.yaml', 'tox.ini', 'microversion_parse/tests/test_middleware.py', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/b5359fcd805258bd7e31fd6fe610190c1149c665', 'message': 'Add MicroversionMiddleware\n\nThis change imports (with slight modification) the\nMicroversionMiddleware created for the placement service.\n\nFor the time being the middleware relies on WebOb as that is\nwhat it originally relied on. If there are requirements to do\notherwise, later, we can make adjustments then.\n\nThe README is updated with limited usage instructions.\n\nGabbi tests are added, requiring adjustments to the test configuration,\nso the opportunity was taken to switch to using stestr instead of testr.\n\nThough arguably ""functional"" tests because they are not strictly unit\ntests, no distinction is made in the tests directory, for now, as it\nis all nice and fast and we\'d like to keep it that way.\n\nChange-Id: I9d27b6fad35f7aea0085f08c0353f8e8acdb8b73\n'}]",7,550252,b5359fcd805258bd7e31fd6fe610190c1149c665,18,4,5,11564,,,0,"Add MicroversionMiddleware

This change imports (with slight modification) the
MicroversionMiddleware created for the placement service.

For the time being the middleware relies on WebOb as that is
what it originally relied on. If there are requirements to do
otherwise, later, we can make adjustments then.

The README is updated with limited usage instructions.

Gabbi tests are added, requiring adjustments to the test configuration,
so the opportunity was taken to switch to using stestr instead of testr.

Though arguably ""functional"" tests because they are not strictly unit
tests, no distinction is made in the tests directory, for now, as it
is all nice and fast and we'd like to keep it that way.

Change-Id: I9d27b6fad35f7aea0085f08c0353f8e8acdb8b73
",git fetch https://review.opendev.org/openstack/microversion-parse refs/changes/52/550252/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.gitignore', 'microversion_parse/tests/gabbits/simple.yaml', 'test-requirements.txt', 'README.rst', '.testr.conf', 'microversion_parse/middleware.py', 'microversion_parse/tests/gabbits/middleware.yaml', 'tox.ini', '.stestr.conf', 'microversion_parse/tests/test_middleware.py']",11,94be1066231de6f92750f14df5df88248346a193,cd/placement-functions,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # The microversion_parse middlware is tests using gabbi to run real # http requests through it. To do that, we need a simple WSGI # application running under wsgi-intercept (handled by gabbi). import os from gabbi import driver import webob from microversion_parse import middleware TESTS_DIR = 'gabbits' SERVICE_TYPE = 'cats' VERSIONS = [ '1.0', # initial version '1.1', # now with kittens '1.2', # added breeds ] class SimpleWSGI(object): """"""A WSGI application that can be contiained within a middlware."""""" def __call__(self, environ, start_response): path_info = environ['PATH_INFO'] if path_info == '/good': start_response('200 OK', [('content-type', 'text/plain')]) return [b'good'] raise webob.exc.HTTPNotFound('%s not found' % path_info) def app(): app = middleware.MicroversionMiddleware( SimpleWSGI(), SERVICE_TYPE, VERSIONS) return app def load_tests(loader, tests, pattern): """"""Provide a TestSuite to the discovery process."""""" test_dir = os.path.join(os.path.dirname(__file__), TESTS_DIR) return driver.build_tests( test_dir, loader, test_loader_name=__name__, intercept=app) ",,294,12
openstack%2Fsahara-specs~master~I8eb7836a8c0fc3f4f47ae5c25ecabd4ddeb252e3,openstack/sahara-specs,master,I8eb7836a8c0fc3f4f47ae5c25ecabd4ddeb252e3,Fix the old or invalid links in docs,MERGED,2018-03-19 07:01:11.000000000,2018-03-21 16:42:44.000000000,2018-03-21 16:42:44.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2018-03-19 07:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/fb5073cdcb14b4c087fc44ff3855ce734ad95354', 'message': 'Fix the old or invalid links in docs\n\nReplace the old or invalid doc links to the right ones\nin CONTRIBUTING.rst and README.rst.\n\nChange-Id: I8eb7836a8c0fc3f4f47ae5c25ecabd4ddeb252e3\n'}, {'number': 2, 'created': '2018-03-19 07:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/c8d41411010068117c94e44f487e3f9d875d2e2e', 'message': 'Fix the old or invalid links in CONTRIBUTING.rst\n\nReplace the old or invalid doc links to the right ones\nin CONTRIBUTING.rst.\n\nChange-Id: I8eb7836a8c0fc3f4f47ae5c25ecabd4ddeb252e3\n'}, {'number': 3, 'created': '2018-03-21 00:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/23beee51a36c0965adaa730495f64191d0fd0056', 'message': 'Fix the old or invalid links in CONTRIBUTING.rst\n\nReplace the old or invalid doc links to the right ones\nin CONTRIBUTING.rst.\n\nChange-Id: I8eb7836a8c0fc3f4f47ae5c25ecabd4ddeb252e3\n'}, {'number': 4, 'created': '2018-03-21 08:40:40.000000000', 'files': ['CONTRIBUTING.rst', 'doc/source/conf.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/sahara-specs/commit/c8cd679a0f42f491eb8643789bb55effdad7cf38', 'message': 'Fix the old or invalid links in docs\n\nReplace the old or invalid doc links to the right ones\nin the docs.\n\nChange-Id: I8eb7836a8c0fc3f4f47ae5c25ecabd4ddeb252e3\n'}]",0,554141,c8cd679a0f42f491eb8643789bb55effdad7cf38,18,3,4,23317,,,0,"Fix the old or invalid links in docs

Replace the old or invalid doc links to the right ones
in the docs.

Change-Id: I8eb7836a8c0fc3f4f47ae5c25ecabd4ddeb252e3
",git fetch https://review.opendev.org/openstack/sahara-specs refs/changes/41/554141/4 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst']",2,fb5073cdcb14b4c087fc44ff3855ce734ad95354,fix,.. image:: https://governance.openstack.org/tc/badges/sahara-specs.svg :target: https://governance.openstack.org/tc/reference/tags/index.html https://docs.openstack.org/infra/manual/developers.html#development-workflow,.. image:: http://governance.openstack.org/badges/sahara-specs.svg :target: http://governance.openstack.org/reference/tags/index.html http://docs.openstack.org/infra/manual/developers.html#development-workflow,6,6
openstack%2Fcinder~driverfixes%2Fnewton~I8da37cd772d24fbb63a6fb12ccd782ffb4fef5c2,openstack/cinder,driverfixes/newton,I8da37cd772d24fbb63a6fb12ccd782ffb4fef5c2,VMAX driver - Ensure VMAX volume matches cinder db volume,MERGED,2018-01-22 15:46:03.000000000,2018-03-21 16:40:34.000000000,2018-03-21 16:40:34.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12670}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-01-22 15:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c2348083ca8d1b833174bb354293f193b4c20ed', 'message': ""VMAX driver - Ensure VMAX volume matches cinder db volume\n\nThe VMAX cinder driver locates volumes on the backend by\nusing the volume's backend 'DeviceID'. It does not check\nto ensure the volume retrieved matches the volume in the\ncinder database. This can cause inconsistencies in cinder,\nwhere a volume may be deleted off the backend, but remains\nin the cinder database. This patch addresses the issue by\nensuring the 'ElementName' of the volume retrieved matches\nthe VMAX cinder driver element name (cinder UUID).\n\nChange-Id: I8da37cd772d24fbb63a6fb12ccd782ffb4fef5c2\nCloses-Bug: #1401297\n(cherry picked from commit ae4d4799375cb8253b2f06e023e9d681de672053)\n""}, {'number': 2, 'created': '2018-02-28 15:40:19.000000000', 'files': ['cinder/tests/unit/volume/drivers/emc/test_emc_vmax.py', 'cinder/volume/drivers/emc/emc_vmax_common.py', 'cinder/volume/drivers/emc/emc_vmax_fc.py', 'cinder/volume/drivers/emc/emc_vmax_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cca267a3e333b1074b63830c511664fa94f5cbd2', 'message': ""VMAX driver - Ensure VMAX volume matches cinder db volume\n\nThe VMAX cinder driver locates volumes on the backend by\nusing the volume's backend 'DeviceID'. It does not check\nto ensure the volume retrieved matches the volume in the\ncinder database. This can cause inconsistencies in cinder,\nwhere a volume may be deleted off the backend, but remains\nin the cinder database. This patch addresses the issue by\nensuring the 'ElementName' of the volume retrieved matches\nthe VMAX cinder driver element name (cinder UUID).\n\nFix relevant for Ocata and Newton only as VMAX driver changed\nfrom SMI-S to REST in Pike.\n\nChange-Id: I8da37cd772d24fbb63a6fb12ccd782ffb4fef5c2\nCloses-Bug: #1401297\n(cherry picked from commit ae4d4799375cb8253b2f06e023e9d681de672053)\n""}]",0,536396,cca267a3e333b1074b63830c511664fa94f5cbd2,38,21,2,12670,,,0,"VMAX driver - Ensure VMAX volume matches cinder db volume

The VMAX cinder driver locates volumes on the backend by
using the volume's backend 'DeviceID'. It does not check
to ensure the volume retrieved matches the volume in the
cinder database. This can cause inconsistencies in cinder,
where a volume may be deleted off the backend, but remains
in the cinder database. This patch addresses the issue by
ensuring the 'ElementName' of the volume retrieved matches
the VMAX cinder driver element name (cinder UUID).

Fix relevant for Ocata and Newton only as VMAX driver changed
from SMI-S to REST in Pike.

Change-Id: I8da37cd772d24fbb63a6fb12ccd782ffb4fef5c2
Closes-Bug: #1401297
(cherry picked from commit ae4d4799375cb8253b2f06e023e9d681de672053)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/536396/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/emc/test_emc_vmax.py', 'cinder/volume/drivers/emc/emc_vmax_common.py', 'cinder/volume/drivers/emc/emc_vmax_fc.py', 'cinder/volume/drivers/emc/emc_vmax_iscsi.py']",4,9c2348083ca8d1b833174bb354293f193b4c20ed,," 2.4.4 - Adding amended (bug #1401297) so no backward compatibility issues VERSION = ""2.4.4"""," VERSION = ""2.4.3""",23,13
openstack%2Fmonasca-api~stable%2Fpike~Ib34fbf4ce282c106f63659ac2125cde6489e9832,openstack/monasca-api,stable/pike,Ib34fbf4ce282c106f63659ac2125cde6489e9832,Upgrade Apache Storm to 1.0.6,MERGED,2018-03-12 09:27:04.000000000,2018-03-21 16:38:28.000000000,2018-03-21 16:38:27.000000000,"[{'_account_id': 10311}, {'_account_id': 14123}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2018-03-12 09:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/bc4a48b572c9578b109cd291135e63e0d548265c', 'message': 'Upgrade Apache Storm to 1.0.6\n\nApache Storm 1.0.x is used in Pike and Ocata releases.\nVersion 1.0.6 is the latest in this series and includes a number of\nimportant bug fixes [1].\n\n[1] https://storm.apache.org/2018/02/14/storm106-released.html\n\nChange-Id: Ib34fbf4ce282c106f63659ac2125cde6489e9832\n'}, {'number': 2, 'created': '2018-03-20 12:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/1a335a5449b08904e89d9fe170f28f771b086531', 'message': 'Upgrade Apache Storm to 1.0.6\n\nApache Storm 1.0.x is used in Pike and Ocata releases.\nVersion 1.0.6 is the latest in this series and includes a number of\nimportant bug fixes [1].\n\nAlso, switch from using `testr` to `stestr` for running tempest tests.\n\n[1] https://storm.apache.org/2018/02/14/storm106-released.html\n\nChange-Id: Ib34fbf4ce282c106f63659ac2125cde6489e9832\n'}, {'number': 3, 'created': '2018-03-20 14:44:19.000000000', 'files': ['monasca_tempest_tests/contrib/post_test_hook.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/4ab5f3a77ce9ab9fe8cfd6c05dd5a9b97ec95089', 'message': 'Upgrade Apache Storm to 1.0.6\n\nApache Storm 1.0.x is used in Pike and Ocata releases.\nVersion 1.0.6 is the latest in this series and includes a number of\nimportant bug fixes [1].\n\nAlso, switch from using `testr` to `stestr` for running tempest tests.\n\n[1] https://storm.apache.org/2018/02/14/storm106-released.html\n\nChange-Id: Ib34fbf4ce282c106f63659ac2125cde6489e9832\n'}]",0,551928,4ab5f3a77ce9ab9fe8cfd6c05dd5a9b97ec95089,20,5,3,16222,,,0,"Upgrade Apache Storm to 1.0.6

Apache Storm 1.0.x is used in Pike and Ocata releases.
Version 1.0.6 is the latest in this series and includes a number of
important bug fixes [1].

Also, switch from using `testr` to `stestr` for running tempest tests.

[1] https://storm.apache.org/2018/02/14/storm106-released.html

Change-Id: Ib34fbf4ce282c106f63659ac2125cde6489e9832
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/28/551928/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,bc4a48b572c9578b109cd291135e63e0d548265c,551928,STORM_VERSION=${STORM_VERSION:-1.0.6},STORM_VERSION=${STORM_VERSION:-1.0.5},1,1
openstack%2Fcompute-hyperv~master~If0002b2c711aaeaf13273bed9b912fdd9c639a64,openstack/compute-hyperv,master,If0002b2c711aaeaf13273bed9b912fdd9c639a64,autospecs os-win utils classes,MERGED,2018-02-01 13:45:30.000000000,2018-03-21 16:36:53.000000000,2018-03-21 16:36:53.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 22348}, {'_account_id': 27707}]","[{'number': 1, 'created': '2018-02-01 13:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/3109f5d287f79107884211877b1dff2c8b86df56', 'message': ""autospecs os-win utils classes\n\nMost of the os-win utils are created through\nos_win.utilsfactory, which all rely on its function\n'_get_class' to load and initialize the proper Utils\nbased on the OS version.\n\nThis commit patches the mention method, returning\nan autospeced mock for the desired Utils instead.\n\nCloses-Bug: #1735588\n\nChange-Id: If0002b2c711aaeaf13273bed9b912fdd9c639a64\n""}, {'number': 2, 'created': '2018-03-21 12:04:05.000000000', 'files': ['compute_hyperv/tests/unit/cluster/test_clusterops.py', 'compute_hyperv/tests/unit/test_migrationops.py', 'compute_hyperv/tests/unit/test_base.py', 'compute_hyperv/tests/unit/test_serialconsolehandler.py', 'compute_hyperv/tests/unit/test_volumeops.py', 'compute_hyperv/tests/unit/test_vmops.py', 'compute_hyperv/tests/unit/cluster/test_livemigrationops.py', 'compute_hyperv/tests/unit/test_rdpconsoleops.py', 'compute_hyperv/tests/unit/test_eventhandler.py', 'compute_hyperv/tests/unit/test_vif.py', 'compute_hyperv/tests/unit/test_livemigrationops.py', 'compute_hyperv/tests/unit/test_block_device_manager.py', 'compute_hyperv/tests/unit/test_imagecache.py', 'compute_hyperv/tests/unit/test_snapshotops.py', 'compute_hyperv/tests/unit/test_hostops.py', 'compute_hyperv/tests/unit/test_serialconsoleops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/d19606a82809f2a909d20b102166880b65d74b1f', 'message': ""autospecs os-win utils classes\n\nMost of the os-win utils are created through\nos_win.utilsfactory, which all rely on its function\n'_get_class' to load and initialize the proper Utils\nbased on the OS version.\n\nThis commit patches the mention method, returning\nan autospeced mock for the desired Utils instead.\n\nCloses-Bug: #1735588\n\nChange-Id: If0002b2c711aaeaf13273bed9b912fdd9c639a64\n""}]",0,539954,d19606a82809f2a909d20b102166880b65d74b1f,14,4,2,8213,,,0,"autospecs os-win utils classes

Most of the os-win utils are created through
os_win.utilsfactory, which all rely on its function
'_get_class' to load and initialize the proper Utils
based on the OS version.

This commit patches the mention method, returning
an autospeced mock for the desired Utils instead.

Closes-Bug: #1735588

Change-Id: If0002b2c711aaeaf13273bed9b912fdd9c639a64
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/54/539954/2 && git format-patch -1 --stdout FETCH_HEAD,"['compute_hyperv/tests/unit/cluster/test_clusterops.py', 'compute_hyperv/tests/unit/test_migrationops.py', 'compute_hyperv/tests/unit/test_base.py', 'compute_hyperv/tests/unit/test_serialconsolehandler.py', 'compute_hyperv/tests/unit/test_volumeops.py', 'compute_hyperv/tests/unit/test_vmops.py', 'compute_hyperv/tests/unit/cluster/test_livemigrationops.py', 'compute_hyperv/tests/unit/test_rdpconsoleops.py', 'compute_hyperv/tests/unit/test_eventhandler.py', 'compute_hyperv/tests/unit/test_vif.py', 'compute_hyperv/tests/unit/test_livemigrationops.py', 'compute_hyperv/tests/unit/test_block_device_manager.py', 'compute_hyperv/tests/unit/test_imagecache.py', 'compute_hyperv/tests/unit/test_snapshotops.py', 'compute_hyperv/tests/unit/test_hostops.py', 'compute_hyperv/tests/unit/test_serialconsoleops.py']",16,3109f5d287f79107884211877b1dff2c8b86df56,bug/1735588,, self._serialops._vmutils = mock.MagicMock() ,12,43
openstack%2Frpm-packaging~master~I91bb230a3320a0b49faedcb8aa5306cf6f8bba9b,openstack/rpm-packaging,master,I91bb230a3320a0b49faedcb8aa5306cf6f8bba9b,Updated osprofiler to 2.0.0,MERGED,2018-03-14 16:10:59.000000000,2018-03-21 16:30:29.000000000,2018-03-21 16:30:29.000000000,"[{'_account_id': 6593}, {'_account_id': 9414}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-14 16:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1ad44d103edc0a3fcacac447715f80a1388a4a9e', 'message': 'Updated osprofiler to 2.0.0\n\nChange-Id: I91bb230a3320a0b49faedcb8aa5306cf6f8bba9b\n'}, {'number': 2, 'created': '2018-03-21 08:14:21.000000000', 'files': ['openstack/osprofiler/osprofiler.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/40752540d67a54aa54eb4d0d8c0f1e6d82bda7e0', 'message': 'Updated osprofiler to 2.0.0\n\nDepends-On: https://review.openstack.org/#/c/553006/\nChange-Id: I91bb230a3320a0b49faedcb8aa5306cf6f8bba9b\n'}]",0,552956,40752540d67a54aa54eb4d0d8c0f1e6d82bda7e0,20,7,2,26297,,,0,"Updated osprofiler to 2.0.0

Depends-On: https://review.openstack.org/#/c/553006/
Change-Id: I91bb230a3320a0b49faedcb8aa5306cf6f8bba9b
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/56/552956/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/osprofiler/osprofiler.spec.j2'],1,1ad44d103edc0a3fcacac447715f80a1388a4a9e,osprofiler,{% set upstream_version = upstream_version('2.0.0') %},{% set upstream_version = upstream_version('1.15.2') %},1,1
openstack%2Frpm-packaging~master~I335a935f3737d72e39215b56d6e2a68001fd4489,openstack/rpm-packaging,master,I335a935f3737d72e39215b56d6e2a68001fd4489,Updated tooz to 1.61.0,MERGED,2018-03-14 16:15:31.000000000,2018-03-21 16:25:23.000000000,2018-03-21 16:25:23.000000000,"[{'_account_id': 6593}, {'_account_id': 9414}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-14 16:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/45623580d2602c23163de0448812106dbc648fd8', 'message': 'Updated tooz to 1.61.0\n\nChange-Id: I335a935f3737d72e39215b56d6e2a68001fd4489\n'}, {'number': 2, 'created': '2018-03-21 08:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f7c644ac376531d86cb0e482385af45b4ee925b1', 'message': 'Updated tooz to 1.61.0\n\nDepends-On: https://review.openstack.org/#/c/553003/\nChange-Id: I335a935f3737d72e39215b56d6e2a68001fd4489\n'}, {'number': 3, 'created': '2018-03-21 13:08:02.000000000', 'files': ['openstack/tooz/tooz.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/816539955a608d240790d24678a16f9972b1843e', 'message': 'Updated tooz to 1.61.0\n\nDepends-On: https://review.openstack.org/#/c/553003/\nChange-Id: I335a935f3737d72e39215b56d6e2a68001fd4489\n'}]",0,552965,816539955a608d240790d24678a16f9972b1843e,21,8,3,26297,,,0,"Updated tooz to 1.61.0

Depends-On: https://review.openstack.org/#/c/553003/
Change-Id: I335a935f3737d72e39215b56d6e2a68001fd4489
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/65/552965/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tooz/tooz.spec.j2'],1,45623580d2602c23163de0448812106dbc648fd8,tooz,Version: 1.61.0,Version: 1.60.0,1,1
openstack%2Frpm-packaging~master~I5bd0e487e860fce148b64d3b95fb4e5f3c3c03b2,openstack/rpm-packaging,master,I5bd0e487e860fce148b64d3b95fb4e5f3c3c03b2,Updated oslo.messaging to 5.36.0,MERGED,2018-03-14 16:08:42.000000000,2018-03-21 16:25:22.000000000,2018-03-21 16:25:22.000000000,"[{'_account_id': 6593}, {'_account_id': 9414}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-14 16:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/787d971a179b5891b9074d45e80e32142a1c2318', 'message': 'Updated oslo.messaging to 5.36.0\n\nChange-Id: I5bd0e487e860fce148b64d3b95fb4e5f3c3c03b2\n'}, {'number': 2, 'created': '2018-03-20 12:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/928f2bce7d895bc0400a79471c6bd989c34542d5', 'message': 'Updated oslo.messaging to 5.36.0\n\nDepends-On: https://review.openstack.org/#/c/552998/\nChange-Id: I5bd0e487e860fce148b64d3b95fb4e5f3c3c03b2\n'}, {'number': 3, 'created': '2018-03-21 08:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/752953f47337e26a8de665cd103201aa80ac7ed0', 'message': 'Updated oslo.messaging to 5.36.0\n\nDepends-On: https://review.openstack.org/#/c/552998/\nChange-Id: I5bd0e487e860fce148b64d3b95fb4e5f3c3c03b2\n'}, {'number': 4, 'created': '2018-03-21 13:04:21.000000000', 'files': ['openstack/oslo.messaging/oslo.messaging.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4aaf2b20587205224f830f7519f7db068ae9a457', 'message': 'Updated oslo.messaging to 5.36.0\n\nDepends-On: https://review.openstack.org/#/c/552998/\nChange-Id: I5bd0e487e860fce148b64d3b95fb4e5f3c3c03b2\n'}]",0,552948,4aaf2b20587205224f830f7519f7db068ae9a457,25,8,4,26297,,,0,"Updated oslo.messaging to 5.36.0

Depends-On: https://review.openstack.org/#/c/552998/
Change-Id: I5bd0e487e860fce148b64d3b95fb4e5f3c3c03b2
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/48/552948/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.messaging/oslo.messaging.spec.j2'],1,787d971a179b5891b9074d45e80e32142a1c2318,oslo.messaging,{% set upstream_version = upstream_version('5.36.0') %},{% set upstream_version = upstream_version('5.35.0') %},1,1
openstack%2Fpuppet-tripleo~stable%2Fqueens~I5fc2f852c66c2b825af96aba2657d0f9085dc8c3,openstack/puppet-tripleo,stable/queens,I5fc2f852c66c2b825af96aba2657d0f9085dc8c3,Create vhost_socket_dir with proper permissions,MERGED,2018-03-16 13:26:00.000000000,2018-03-21 16:23:46.000000000,2018-03-21 16:23:45.000000000,"[{'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17280}, {'_account_id': 18575}, {'_account_id': 20866}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-16 13:26:00.000000000', 'files': ['spec/fixtures/hieradata/step4.yaml', 'spec/classes/tripleo_profile_base_neutron_ovs_opendaylight_spec.rb', 'spec/fixtures/hieradata/default.yaml', 'spec/classes/tripleo_profile_base_neutron_ovs_spec.rb', 'manifests/profile/base/neutron/ovs.pp', 'manifests/profile/base/neutron/plugins/ovs/opendaylight.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/08792df18c7e6d3334ca1bfa663c62fe81f06d13', 'message': 'Create vhost_socket_dir with proper permissions\n\nFor ovs2.8 version, it is required to modify the vhost socket\ndirectory permissions as openvswitch:hugetlbfs instead of\nqemu:qemu. Create the dir and assign it proper permissions in\nstep 3.\n\nChange-Id: I5fc2f852c66c2b825af96aba2657d0f9085dc8c3\n(cherry picked from commit c8fe3cbb06bfff5536f967fbd8903aaf3a18ec25)\n'}]",0,553788,08792df18c7e6d3334ca1bfa663c62fe81f06d13,13,8,1,17280,,,0,"Create vhost_socket_dir with proper permissions

For ovs2.8 version, it is required to modify the vhost socket
directory permissions as openvswitch:hugetlbfs instead of
qemu:qemu. Create the dir and assign it proper permissions in
step 3.

Change-Id: I5fc2f852c66c2b825af96aba2657d0f9085dc8c3
(cherry picked from commit c8fe3cbb06bfff5536f967fbd8903aaf3a18ec25)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/88/553788/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/fixtures/hieradata/step4.yaml', 'spec/classes/tripleo_profile_base_neutron_ovs_opendaylight_spec.rb', 'spec/classes/tripleo_profile_base_neutron_ovs_spec.rb', 'spec/fixtures/hieradata/default.yaml', 'manifests/profile/base/neutron/ovs.pp', 'manifests/profile/base/neutron/plugins/ovs/opendaylight.pp']",6,08792df18c7e6d3334ca1bfa663c62fe81f06d13,,"# [*vhostuser_socket_group*] # (Optional) Group name for vhostuser socket dir. # Defaults to qemu # # [*vhostuser_socket_user*] # (Optional) User name for vhostuser socket dir. # Defaults to qemu # # [*vhostuser_socket_dir*] # (Optional) vhostuser socket dir, The directory where $vhostuser_socket_dir # will be created with correct permissions, inorder to support vhostuser # client mode. # $odl_port = hiera('opendaylight::odl_rest_port'), $odl_check_url = hiera('opendaylight_check_url'), $odl_api_ips = hiera('opendaylight_api_node_ips'), $odl_url_ip = hiera('opendaylight_api_vip'), $conn_proto = 'http', $certificate_specs = {}, $enable_internal_tls = hiera('enable_internal_tls', false), $tunnel_ip = hiera('neutron::agents::ml2::ovs::local_ip'), $step = Integer(hiera('step')), $vhostuser_socket_group = hiera('tripleo::profile::base::neutron::plugins::ovs::opendaylight::vhostuser_socket_group', 'qemu'), $vhostuser_socket_user = hiera('tripleo::profile::base::neutron::plugins::ovs::opendaylight::vhostuser_socket_user', 'qemu'), $vhostuser_socket_dir = hiera('neutron::plugins::ovs::opendaylight::vhostuser_socket_dir', undef), ) { if $step >= 3 { if $vhostuser_socket_dir { file { $vhostuser_socket_dir: ensure => directory, owner => $vhostuser_socket_user, group => $vhostuser_socket_group, mode => '0775', } } }"," $odl_port = hiera('opendaylight::odl_rest_port'), $odl_check_url = hiera('opendaylight_check_url'), $odl_api_ips = hiera('opendaylight_api_node_ips'), $odl_url_ip = hiera('opendaylight_api_vip'), $conn_proto = 'http', $certificate_specs = {}, $enable_internal_tls = hiera('enable_internal_tls', false), $tunnel_ip = hiera('neutron::agents::ml2::ovs::local_ip'), $step = Integer(hiera('step')), ) {",102,44
openstack%2Fneutron-fwaas-dashboard~master~I38897d147e2d12d1dde982339a262679167b0b85,openstack/neutron-fwaas-dashboard,master,I38897d147e2d12d1dde982339a262679167b0b85,Updated from global requirements,MERGED,2018-03-15 07:22:39.000000000,2018-03-21 16:21:54.000000000,2018-03-21 16:21:53.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 07:22:39.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/ba79751f23b6e494759494d6b59f18b4e2bd9df9', 'message': 'Updated from global requirements\n\nChange-Id: I38897d147e2d12d1dde982339a262679167b0b85\n'}]",0,553209,ba79751f23b6e494759494d6b59f18b4e2bd9df9,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I38897d147e2d12d1dde982339a262679167b0b85
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/09/553209/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ba79751f23b6e494759494d6b59f18b4e2bd9df9,openstack/requirements,"sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",1,1
openstack%2Fswift-bench~master~Ibf7af10895df24231fac1868c05de34a5cf2859e,openstack/swift-bench,master,Ibf7af10895df24231fac1868c05de34a5cf2859e,pypy is not checked at gate,NEW,2018-03-21 15:49:31.000000000,2018-03-21 16:19:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 25983}]","[{'number': 1, 'created': '2018-03-21 15:49:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/swift-bench/commit/11c6a257cd55ee7adce1e049538a06fc9ec20a7b', 'message': 'pypy is not checked at gate\n\nChange-Id: Ibf7af10895df24231fac1868c05de34a5cf2859e\n'}]",0,554958,11c6a257cd55ee7adce1e049538a06fc9ec20a7b,3,2,1,25983,,,0,"pypy is not checked at gate

Change-Id: Ibf7af10895df24231fac1868c05de34a5cf2859e
",git fetch https://review.opendev.org/openstack/swift-bench refs/changes/58/554958/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,11c6a257cd55ee7adce1e049538a06fc9ec20a7b,,"envlist = py34,py27,pep8","envlist = py34,py27,pypy,pep8",1,1
openstack%2Fopenstack-ansible~stable%2Focata~I0f99bd9d2c1c6b8332a54fe5195c0f7c9c0a0518,openstack/openstack-ansible,stable/ocata,I0f99bd9d2c1c6b8332a54fe5195c0f7c9c0a0518,Use /opt/ansible-runtime when executing ansible-playbook command,ABANDONED,2017-07-30 04:28:02.000000000,2018-03-21 16:19:25.000000000,,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 9061}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-07-30 04:28:02.000000000', 'files': ['scripts/bootstrap-aio.sh', 'scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/397606c026ccc46444a606749a140d047ddb8387', 'message': 'Use /opt/ansible-runtime when executing ansible-playbook command\n\nThe change introduced in https://review.openstack.org/#/c/466379/\nis fairly significant but one of the things it did was to prefix\nthe ansible-playbook command by the virtualenv bin path,\n""/opt/ansible-runtime/bin"".\n\nThis is interesting to backport to stable branches because\n\'/usr/local/bin\' is not in $PATH by default on CentOS.\nThis means even though ansible-playbook has been symlinked from\n/opt/ansible-runtime/bin to /usr/local/bin, the command will fail\nbecause ansible-playbook cannot be found.\n\nChange-Id: I0f99bd9d2c1c6b8332a54fe5195c0f7c9c0a0518\n'}]",1,488983,397606c026ccc46444a606749a140d047ddb8387,11,6,1,9061,,,0,"Use /opt/ansible-runtime when executing ansible-playbook command

The change introduced in https://review.openstack.org/#/c/466379/
is fairly significant but one of the things it did was to prefix
the ansible-playbook command by the virtualenv bin path,
""/opt/ansible-runtime/bin"".

This is interesting to backport to stable branches because
'/usr/local/bin' is not in $PATH by default on CentOS.
This means even though ansible-playbook has been symlinked from
/opt/ansible-runtime/bin to /usr/local/bin, the command will fail
because ansible-playbook cannot be found.

Change-Id: I0f99bd9d2c1c6b8332a54fe5195c0f7c9c0a0518
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/83/488983/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/bootstrap-aio.sh', 'scripts/gate-check-commit.sh']",2,397606c026ccc46444a606749a140d047ddb8387,," /opt/ansible-runtime/bin/ansible-playbook bootstrap-aio.yml \ -i test-inventory.ini \ ${ANSIBLE_PARAMETERS} /opt/ansible-runtime/bin/ansible-playbook bootstrap-aio.yml \ -i test-inventory.ini \ -e ""${BOOTSTRAP_OPTS}"" \ ${ANSIBLE_PARAMETERS}"," ansible-playbook bootstrap-aio.yml \ -i test-inventory.ini \ ${ANSIBLE_PARAMETERS} ansible-playbook bootstrap-aio.yml \ -i test-inventory.ini \ -e ""${BOOTSTRAP_OPTS}"" \ ${ANSIBLE_PARAMETERS}",12,13
openstack%2Fopenstack-ansible-plugins~stable%2Focata~I7c7cd9ef1dd767a2a5d754ac4663cf8655dd60c2,openstack/openstack-ansible-plugins,stable/ocata,I7c7cd9ef1dd767a2a5d754ac4663cf8655dd60c2,Utilise sorted to ensure no random changes,MERGED,2018-03-21 15:40:22.000000000,2018-03-21 16:19:21.000000000,2018-03-21 16:19:21.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 15:40:22.000000000', 'files': ['action/_v1_config_template.py', 'action/_v2_config_template.py', 'tests/test-config_template.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/2ab01601235d9087c1381432cde5f511f4c66e5c', 'message': ""Utilise sorted to ensure no random changes\n\nThis is a manual backport of a5ef4ea.\nThe config_template plugin was unified in Queens.\n\nAs part of the ceph-ansible project, this change was put in:\nceph/ceph-ansible@ec04221\nThis was to handle the case where the config would change, initiating a\nrestart handler, even though no actual change happened.\n\nWe can juse use sorted() since we are passing back a list with .items()\nwhich can then be sorted.\n\nThe above change didn't include a change to ensure the order of the\nsections, which meant that although the individual items were sorted the\nsections could change order causing unnecessary changes.\n\nAdditionally, this adds a test to retemplate the file 3 times, with a\nlot more sections to ensure the order remains the same, this will fail\nwhen the config template changes even though no changes have happened.\n\nChange-Id: I7c7cd9ef1dd767a2a5d754ac4663cf8655dd60c2\n(cherry picked from commit 542835cb502856f6aa4b59c0c9565fdb3061de39)\n""}]",0,554954,2ab01601235d9087c1381432cde5f511f4c66e5c,7,3,1,2799,,,0,"Utilise sorted to ensure no random changes

This is a manual backport of a5ef4ea.
The config_template plugin was unified in Queens.

As part of the ceph-ansible project, this change was put in:
ceph/ceph-ansible@ec04221
This was to handle the case where the config would change, initiating a
restart handler, even though no actual change happened.

We can juse use sorted() since we are passing back a list with .items()
which can then be sorted.

The above change didn't include a change to ensure the order of the
sections, which meant that although the individual items were sorted the
sections could change order causing unnecessary changes.

Additionally, this adds a test to retemplate the file 3 times, with a
lot more sections to ensure the order remains the same, this will fail
when the config template changes even though no changes have happened.

Change-Id: I7c7cd9ef1dd767a2a5d754ac4663cf8655dd60c2
(cherry picked from commit 542835cb502856f6aa4b59c0c9565fdb3061de39)
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/54/554954/1 && git format-patch -1 --stdout FETCH_HEAD,"['action/_v1_config_template.py', 'action/_v2_config_template.py', 'tests/test-config_template.yml']",3,2ab01601235d9087c1381432cde5f511f4c66e5c,," - name: Template multiple times to assert no changes config_template: src: ""{{ playbook_dir }}/templates/test.ini"" dest: ""/tmp/test_with_content.ini"" config_type: ""ini"" config_overrides: ""{{ item[1] }}"" register: template_changed failed_when: template_changed | changed with_nested: - [ 0, 1, 2 ] - [ ""{{ test_config_ini_overrides }}"" ] section1: key1: ""value1"" key2: ""value2"" key3: ""value3"" key4: ""value4"" key5: ""value5"" key6: ""value6"" key7: ""value7"" key8: ""value8"" key9: ""value9"" key10: ""value10"" key11: ""value11"" section2: key1: ""value1"" section3: key1: ""value1"" section4: key1: ""value1"" section5: key1: ""value1"" section6: key1: ""value1"" section7: key1: ""value1"" section8: key1: ""value1"" section9: key1: ""value1"" section10: key1: ""value1"" section11: key1: ""value1""",,50,6
openstack%2Fneutron-vpnaas-dashboard~stable%2Fqueens~I3a1f787046b24770a3d20c045c2433359336a7ad,openstack/neutron-vpnaas-dashboard,stable/queens,I3a1f787046b24770a3d20c045c2433359336a7ad,Imported Translations from Zanata,MERGED,2018-03-21 06:05:49.000000000,2018-03-21 16:19:20.000000000,2018-03-21 16:19:20.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 06:05:49.000000000', 'files': ['neutron_vpnaas_dashboard/locale/pt_BR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/f6af7a6d649b7c3dce203cd31157a04c7bf6113e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I3a1f787046b24770a3d20c045c2433359336a7ad\n'}]",0,554800,f6af7a6d649b7c3dce203cd31157a04c7bf6113e,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3a1f787046b24770a3d20c045c2433359336a7ad
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/00/554800/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas_dashboard/locale/pt_BR/LC_MESSAGES/django.po'],1,f6af7a6d649b7c3dce203cd31157a04c7bf6113e,zanata/translations,"""POT-Creation-Date: 2018-03-20 07:43+0000\n""""PO-Revision-Date: 2018-03-20 11:51+0000\n""msgid ""An IKE policy is an association of the following attributes:"" msgstr ""Uma polÃ­tica IKE Ã© uma associaÃ§Ã£o dos seguintes atributos:"" msgid ""An IPsec policy is an association of the following attributes"" msgstr ""Uma polÃ­tica IPsec Ã© uma associaÃ§Ã£o dos seguintes atributos"" msgid ""Auth algorithm limited to SHA1 only."" msgstr ""Algoritmo de autenticaÃ§Ã£o Ã© limitado ao SHA1 somente."" msgid ""Create IPsec policy for current project."" msgstr ""Criar polÃ­tica IPsec para o projeto atual."" msgid ""Delete IPsec Site Connection"" msgid_plural ""Delete IPsec Site Connections"" msgstr[0] ""Excluir a ConexÃ£o IPsec do Site"" msgstr[1] ""Excluir as ConexÃµes IPsec do Site"" msgid ""Edit Endpoint Group"" msgstr ""Editar Grupo de Endpoint"" msgid ""Edit IPsec Policy"" msgstr ""Editar PolÃ­tica IPsec"" msgid ""Endpoint Groups"" msgstr ""Grupos de Endpoints"" msgid ""Endpoint Groups Details"" msgstr ""Detalhes do Grupo de Endpoint"" msgid ""IKE Phase 1 negotiation mode"" msgstr ""Modo de negociaÃ§Ã£o IKE Fase 1"" msgid ""IPsec Policies"" msgstr ""PolÃ­ticas IPsec"" msgid ""IPsec Policy"" msgstr ""PolÃ­tica IPsec"" msgid ""IPsec Policy ="" msgstr ""PolÃ­tica IPsec ="" msgid ""IPsec Policy Details"" msgstr ""Detalhes da PolÃ­tica IPsec"" msgid ""IPsec Policy ID ="" msgstr ""ID da PolÃ­tica IPsec = "" msgid ""IPsec Site Connection Details"" msgstr ""Detalhes da ConexÃ£o de Site IPsec"" msgid ""IPsec Site Connections"" msgstr ""ConexÃµes de Site IPsec"" msgid """" ""Life time consists of units and value. Units in 'seconds' and the default "" ""value is 3600."" msgstr """" ""Tempo de vida consiste de unidades e valor. Unidades em 'segundos' e o valor "" ""padrÃ£o Ã© 3600."" msgid ""Limited to 'main' mode only."" msgstr ""Limitado ao modo 'principal' somente."" msgid ""Scheduled deletion of IPsec policy"" msgid_plural ""Scheduled deletion of IPsec policies"" msgstr[0] ""ExclusÃ£o agendada de PolÃ­tica IPsec"" msgstr[1] ""ExclusÃ£o agendada de PolÃ­ticas IPsec"" msgid ""Scheduled deletion of IPsec site connection"" msgid_plural ""Scheduled deletion of IPsec site connections"" msgstr[0] ""ExclusÃ£o agendada da conexÃ£o IPsec do site"" msgstr[1] ""ExclusÃ£o agendada das conexÃµes IPsec do site"" msgid ""The type of IPsec tunnel (tunnel/transport) to be used."" msgstr ""O tipo de tÃºnel IPsec (tÃºnel/transporte) a ser utilizado."" msgid """" ""The type of algorithm (3des, aes-128, aes-192, aes-256) used in the IKE "" ""policy."" msgstr """" ""O tipo de algoritmo (3des, aes-128, aes-192, aes-256) utilizado na polÃ­tica "" ""IKE."" msgid """" ""The type of algorithm (3des, aes-128, aes-192, aes-256) used in the IPsec "" ""policy."" msgstr """" ""O tipo de algoritmo (3des, aes-128, aes-192, aes-256) utilizado na polÃ­tica "" ""IPsec."" msgid ""The type of protocol (esp, ah, ah-esp) used in IPsec policy."" msgstr ""O tipo de protocolo (esp, ah, ah-esp) utilizado na polÃ­tica IPsec."" msgid ""The type of version (v1/v2) that needs to be filtered."" msgstr ""O tipo de versÃ£o (v1/v2) que precisa ser filtrada."" msgid ""Unable to delete IPsec policy. %s"" msgstr ""NÃ£o Ã© possÃ­vel excluir a polÃ­tica IPsec. %s"" #, python-format msgid ""Unable to delete IPsec site connection. %s"" msgstr ""NÃ£o foi possÃ­vel excluir a conexÃ£o IPsec do site. %s"" #, python-formatmsgid ""Unable to retrieve IKE policies list."" msgstr ""NÃ£o Ã© possÃ­vel obter a lista de polÃ­ticas IKE."" msgid ""Unable to retrieve IKE policy details."" msgstr ""NÃ£o Ã© possÃ­vel obter detalhes da polÃ­tica IKE."" msgid ""Unable to retrieve IPsec policy details."" msgstr ""NÃ£o Ã© possÃ­vel obter detalhes da polÃ­tica IPsec."" msgid ""Unable to retrieve IPsec policy list."" msgstr ""NÃ£o Ã© possÃ­vel obter a lista de polÃ­ticas IPsec."" msgid ""Unable to retrieve IPsec site connections list."" msgstr ""NÃ£o Ã© possÃ­vel obter a lista de conexÃµes de site IPsec."" msgid ""Unable to retrieve VPN service details."" msgstr ""NÃ£o Ã© possÃ­vel obter detalhes do serviÃ§o de VPN."" msgid ""Unable to retrieve VPN services list."" msgstr ""NÃ£o Ã© possÃ­vel obter a lista de serviÃ§os de VPN."" msgid ""Unable to retrieve endpoint group list."" msgstr ""NÃ£o Ã© possÃ­vel obter a lista de grupos de endpoint."" ","""POT-Creation-Date: 2018-03-12 02:30+0000\n""""PO-Revision-Date: 2018-03-16 12:46+0000\n""",130,2
openstack%2Fopenstack-ansible-ops~master~I755cc9c54eb1e5b3cacf30f54275285976f31325,openstack/openstack-ansible-ops,master,I755cc9c54eb1e5b3cacf30f54275285976f31325,Remove ability to upgrade from Juno,ABANDONED,2017-07-10 18:46:46.000000000,2018-03-21 16:17:48.000000000,,"[{'_account_id': 11268}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-07-10 18:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/7af64206cca3c708991f45027d753746bcf5bd78', 'message': 'Remove upgrades from Juno\n\nThis commit removes the promise of upgrading froma Juno deployment.\nThe deployment of Juno environments now-a-days cannot be verified nor\nare they supported. From now on, the leapfrog tooling will only support\nleapfrogging from Kilo or Liberty.\n\nChange-Id: I755cc9c54eb1e5b3cacf30f54275285976f31325\n'}, {'number': 2, 'created': '2017-07-10 18:47:17.000000000', 'files': ['leap-upgrades/upgrade.sh', 'leap-upgrades/README.md', 'leap-upgrades/upgrade-utilities-kilo/scripts/new-variable-prep.sh', 'leap-upgrades/upgrade-utilities-kilo/scripts/juno-is-metal-preserve.py', 'leap-upgrades/upgrade-utilities-kilo/playbooks/swift-ring-adjustments.yml', 'leap-upgrades/upgrade-utilities-liberty/playbooks/mariadb-apt-cleanup.yml', 'leap-upgrades/upgrade-utilities-kilo/playbooks/container-network-bounce.yml', 'leap-upgrades/upgrade-utilities-kilo/scripts/create-new-openstack-deploy-structure.sh', 'leap-upgrades/upgrade-utilities-kilo/scripts/juno-container-cleanup.sh', 'leap-upgrades/upgrade-utilities-kilo/playbooks/container-network-adjustments.yml', 'leap-upgrades/upgrade-utilities-kilo/scripts/old-variable-remove.sh', 'leap-upgrades/upgrade-utilities-kilo/playbooks/remove-juno-log-rotate.yml', 'leap-upgrades/upgrade-utilities-kilo/scripts/juno-kilo-ldap-conversion.py', 'leap-upgrades/lib/functions.sh', 'leap-upgrades/upgrade-utilities-kilo/playbooks/host-adjustments.yml', 'leap-upgrades/upgrade-utilities-kilo/playbooks/user-secrets-adjustments-kilo.yml', 'leap-upgrades/prep.sh', 'leap-upgrades/lib/vars.sh', 'leap-upgrades/upgrade-utilities-kilo/scripts/juno-rpc-extras-create.py', 'leap-upgrades/upgrade-utilities-kilo/playbooks/swift-repo-adjustments.yml', 'leap-upgrades/upgrade-utilities-kilo/scripts/juno-kilo-add-repo-infra.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/22d552d5e4a577c31a1d2272764387d17a04f996', 'message': 'Remove ability to upgrade from Juno\n\nThis commit removes the promise of upgrading froma Juno deployment.\nThe deployment of Juno environments now-a-days cannot be verified nor\nare they supported. From now on, the leapfrog tooling will only support\nleapfrogging from Kilo or Liberty.\n\nChange-Id: I755cc9c54eb1e5b3cacf30f54275285976f31325\n'}]",0,482242,22d552d5e4a577c31a1d2272764387d17a04f996,9,2,2,11268,,,0,"Remove ability to upgrade from Juno

This commit removes the promise of upgrading froma Juno deployment.
The deployment of Juno environments now-a-days cannot be verified nor
are they supported. From now on, the leapfrog tooling will only support
leapfrogging from Kilo or Liberty.

Change-Id: I755cc9c54eb1e5b3cacf30f54275285976f31325
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/42/482242/1 && git format-patch -1 --stdout FETCH_HEAD,"['leap-upgrades/upgrade.sh', 'leap-upgrades/README.md', 'leap-upgrades/upgrade-utilities-kilo/scripts/new-variable-prep.sh', 'leap-upgrades/upgrade-utilities-kilo/scripts/juno-is-metal-preserve.py', 'leap-upgrades/upgrade-utilities-kilo/playbooks/swift-ring-adjustments.yml', 'leap-upgrades/upgrade-utilities-liberty/playbooks/mariadb-apt-cleanup.yml', 'leap-upgrades/upgrade-utilities-kilo/playbooks/container-network-bounce.yml', 'leap-upgrades/upgrade-utilities-kilo/scripts/create-new-openstack-deploy-structure.sh', 'leap-upgrades/upgrade-utilities-kilo/scripts/juno-container-cleanup.sh', 'leap-upgrades/upgrade-utilities-kilo/playbooks/container-network-adjustments.yml', 'leap-upgrades/upgrade-utilities-kilo/scripts/old-variable-remove.sh', 'leap-upgrades/upgrade-utilities-kilo/playbooks/remove-juno-log-rotate.yml', 'leap-upgrades/upgrade-utilities-kilo/scripts/juno-kilo-ldap-conversion.py', 'leap-upgrades/lib/functions.sh', 'leap-upgrades/upgrade-utilities-kilo/playbooks/host-adjustments.yml', 'leap-upgrades/upgrade-utilities-kilo/playbooks/user-secrets-adjustments-kilo.yml', 'leap-upgrades/prep.sh', 'leap-upgrades/lib/vars.sh', 'leap-upgrades/upgrade-utilities-kilo/scripts/juno-rpc-extras-create.py', 'leap-upgrades/upgrade-utilities-kilo/playbooks/swift-repo-adjustments.yml', 'leap-upgrades/upgrade-utilities-kilo/scripts/juno-kilo-add-repo-infra.py']",21,7af64206cca3c708991f45027d753746bcf5bd78,cantu/removejuno,,"#!/usr/bin/env python # Copyright 2015, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import yaml with open('/etc/openstack_deploy/openstack_user_config.yml', 'r') as f: user_config = yaml.safe_load(f.read()) # Create the new repo servers entries repo_servers = dict() o = repo_servers['repo-infra_hosts'] = user_config['infra_hosts'] with open('/etc/openstack_deploy/conf.d/repo-servers.yml', 'w') as fsw: fsw.write( yaml.safe_dump( repo_servers, default_flow_style=False, width=1000 ) ) ",24,927
openstack%2Fopenstack-ansible~master~I7bfa5d1a786ab68560783d7ac662fec6c7848c93,openstack/openstack-ansible,master,I7bfa5d1a786ab68560783d7ac662fec6c7848c93,Remove telemetry roles from role requirements,ABANDONED,2017-06-28 17:22:25.000000000,2018-03-21 16:17:14.000000000,,"[{'_account_id': 1004}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-06-28 17:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/499cfaf62c50902e8d0104006b5ded94fbd2974d', 'message': 'Remove telemetry roles from role requirements\n\nThe telemetry roles are under-maintained, and not properly tested.\nHence, the roles are removed as a requirement  from OpenStack-Ansible\nuntil they can find a maintainer. Their respective playbooks and\nvariables have been moved into the role repositories under the\n`extras/` directory.\n\nChange-Id: I7bfa5d1a786ab68560783d7ac662fec6c7848c93\n'}, {'number': 2, 'created': '2017-06-30 20:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/20959fc057b9613042fcef60ef96cbe694e7d331', 'message': 'Remove telemetry roles from role requirements\n\nThe telemetry roles are under-maintained, and not properly tested.\nHence, the roles are removed as a requirement  from OpenStack-Ansible\nuntil they can find a maintainer. Their respective playbooks and\nvariables have been moved into the role repositories under the\n`extras/` directory.\n\nChange-Id: I7bfa5d1a786ab68560783d7ac662fec6c7848c93\n'}, {'number': 3, 'created': '2017-07-06 16:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fb42a979caead3d4984734d1501641e6e39fec82', 'message': 'Remove telemetry roles from role requirements\n\nThe telemetry roles are under-maintained, and not properly tested.\nHence, the roles are removed as a requirement  from OpenStack-Ansible\nuntil they can find a maintainer. Their respective playbooks and\nvariables have been moved into the role repositories under the\n`extras/` directory.\n\nChange-Id: I7bfa5d1a786ab68560783d7ac662fec6c7848c93\n'}, {'number': 4, 'created': '2017-07-06 19:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/98fbd414aaaa0edfecb092a09bc5671a00f4d9fe', 'message': 'Remove telemetry roles from role requirements\n\nThe telemetry roles are under-maintained, and not properly tested.\nHence, the roles are removed as a requirement  from OpenStack-Ansible\nuntil they can find a maintainer. Their respective playbooks and\nvariables have been moved into the role repositories under the\n`extras/` directory.\n\nChange-Id: I7bfa5d1a786ab68560783d7ac662fec6c7848c93\n'}, {'number': 5, 'created': '2017-07-11 17:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ed43e0ca48a56ef9835200bfea3b80de3a784dd1', 'message': 'Remove telemetry roles from role requirements\n\nThe telemetry roles are under-maintained, and not properly tested.\nHence, the roles are removed as a requirement  from OpenStack-Ansible\nuntil they can find a maintainer. Their respective playbooks and\nvariables have been moved into the role repositories under the\n`extras/` directory.\n\nChange-Id: I7bfa5d1a786ab68560783d7ac662fec6c7848c93\n'}, {'number': 6, 'created': '2017-07-14 14:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7cca51f9ceb8f562db1339aeb88e9f44adc5fb55', 'message': 'Remove telemetry roles from role requirements\n\nThe telemetry roles are under-maintained, and not properly tested.\nHence, the roles are removed as a requirement  from OpenStack-Ansible\nuntil they can find a maintainer. Their respective playbooks and\nvariables have been moved into the role repositories under the\n`extras/` directory.\n\nChange-Id: I7bfa5d1a786ab68560783d7ac662fec6c7848c93\n'}, {'number': 7, 'created': '2017-07-17 13:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/19a75cb901b47a490a7996283e1c5035c3e16fe0', 'message': 'Remove telemetry roles from role requirements\n\nThe telemetry roles are under-maintained, and not properly tested.\nHence, the roles are removed as a requirement  from OpenStack-Ansible\nuntil they can find a maintainer. Their respective playbooks and\nvariables have been moved into the role repositories under the\n`extras/` directory.\n\nChange-Id: I7bfa5d1a786ab68560783d7ac662fec6c7848c93\n'}, {'number': 8, 'created': '2017-07-27 16:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/08f0f1030c952b82bfc30f3f0356cc7500ebc1d1', 'message': 'Remove telemetry roles from role requirements\n\nThe telemetry roles are under-maintained, and not properly tested.\nHence, the roles are removed as a requirement  from OpenStack-Ansible\nuntil they can find a maintainer. Their respective playbooks and\nvariables have been moved into the role repositories under the\n`extras/` directory.\n\nChange-Id: I7bfa5d1a786ab68560783d7ac662fec6c7848c93\n'}, {'number': 9, 'created': '2017-07-28 14:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/086148d3eed0dfec81bc9aec1494f6f1e17a9a67', 'message': 'Remove telemetry roles from role requirements\n\nThe telemetry roles are under-maintained, and not properly tested.\nHence, the roles are removed as a requirement  from OpenStack-Ansible\nuntil they can find a maintainer. Their respective playbooks and\nvariables have been moved into the role repositories under the\n`extras/` directory.\n\nChange-Id: I7bfa5d1a786ab68560783d7ac662fec6c7848c93\n'}, {'number': 10, 'created': '2017-07-28 14:59:41.000000000', 'files': ['etc/openstack_deploy/conf.d/gnocchi.yml.aio', 'etc/openstack_deploy/conf.d/aodh.yml.aio', 'group_vars/aodh_all.yml', 'etc/openstack_deploy/conf.d/ceilometer.yml.example', 'playbooks/os-gnocchi-install.yml', 'group_vars/gnocchi_all.yml', 'etc/openstack_deploy/conf.d/ceilometer.yml.aio', 'scripts/sources-branch-updater-lib.sh', 'ansible-role-requirements.yml', 'playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/os-ceilometer-install.yml', 'group_vars/ceilometer_all.yml', 'playbooks/inventory/env.d/gnocchi.yml', 'etc/openstack_deploy/user_secrets.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/inventory/env.d/ceilometer.yml', 'playbooks/setup-openstack.yml', 'etc/openstack_deploy/conf.d/aodh.yml.example', 'tests/test_inventory.py', 'playbooks/os-aodh-install.yml', 'playbooks/inventory/env.d/aodh.yml', 'releasenotes/notes/move-out-telemetry-fc00c1c364a3b796.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/27d9d362abeffa50a6ff90fa97f42b3da212bdb3', 'message': 'Remove telemetry roles from role requirements\n\nThe telemetry roles are under-maintained, and not properly tested.\nHence, the roles are removed as a requirement  from OpenStack-Ansible\nuntil they can find a maintainer. Their respective playbooks and\nvariables have been moved into the role repositories under the\n`extras/` directory.\n\nChange-Id: I7bfa5d1a786ab68560783d7ac662fec6c7848c93\n'}]",0,478573,27d9d362abeffa50a6ff90fa97f42b3da212bdb3,26,2,10,11268,,,0,"Remove telemetry roles from role requirements

The telemetry roles are under-maintained, and not properly tested.
Hence, the roles are removed as a requirement  from OpenStack-Ansible
until they can find a maintainer. Their respective playbooks and
variables have been moved into the role repositories under the
`extras/` directory.

Change-Id: I7bfa5d1a786ab68560783d7ac662fec6c7848c93
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/73/478573/5 && git format-patch -1 --stdout FETCH_HEAD,"['etc/openstack_deploy/conf.d/gnocchi.yml.aio', 'etc/openstack_deploy/conf.d/aodh.yml.aio', 'group_vars/aodh_all.yml', 'etc/openstack_deploy/conf.d/ceilometer.yml.example', 'playbooks/os-gnocchi-install.yml', 'group_vars/gnocchi_all.yml', 'etc/openstack_deploy/conf.d/ceilometer.yml.aio', 'ansible-role-requirements.yml', 'playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/os-ceilometer-install.yml', 'group_vars/ceilometer_all.yml', 'playbooks/inventory/env.d/gnocchi.yml', 'etc/openstack_deploy/user_secrets.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/inventory/env.d/ceilometer.yml', 'etc/openstack_deploy/conf.d/aodh.yml.example', 'playbooks/os-aodh-install.yml', 'playbooks/inventory/env.d/aodh.yml', 'releasenotes/notes/move-out-telemetry-fc00c1c364a3b796.yaml']",19,499cfaf62c50902e8d0104006b5ded94fbd2974d,move-out-telem,--- deprecations: - | The telemetry stack roles have been removed from the ansible role requirements file and their respective variables and playbooks have been moved into the role repositories under the `extras/` directory. The roles are in need of a maintainer before they can be part of the integrated repo again. ,,8,538
openstack%2Fopenstack-ansible-os_rally~master~Ia7e53a474527339305e03ecf84004fa371da1864,openstack/openstack-ansible-os_rally,master,Ia7e53a474527339305e03ecf84004fa371da1864,Add openSUSE support,MERGED,2018-03-20 09:51:46.000000000,2018-03-21 16:16:41.000000000,2018-03-21 16:16:41.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-03-20 09:51:46.000000000', 'files': ['vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/debian.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/ffad7499516701b469af0635a7e5487e36ca2948', 'message': 'Add openSUSE support\n\nAdd the required var files and jobs for openSUSE Leap 42.3. Moreover,\ndrop some packages from all distros since they do not appear to be\nused anymore.\n\nChange-Id: Ia7e53a474527339305e03ecf84004fa371da1864\n'}]",0,554485,ffad7499516701b469af0635a7e5487e36ca2948,11,4,1,23163,,,0,"Add openSUSE support

Add the required var files and jobs for openSUSE Leap 42.3. Moreover,
drop some packages from all distros since they do not appear to be
used anymore.

Change-Id: Ia7e53a474527339305e03ecf84004fa371da1864
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/85/554485/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/debian.yml', 'zuul.d/project.yaml']",4,ffad7499516701b469af0635a7e5487e36ca2948,osa-add-suse-support, - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-opensuse-423,,22,8
openstack%2Fneutron-fwaas-dashboard~stable%2Fqueens~I5651f9c417fc5407d4c9e5aca0c68a534c6d79b9,openstack/neutron-fwaas-dashboard,stable/queens,I5651f9c417fc5407d4c9e5aca0c68a534c6d79b9,Imported Translations from Zanata,MERGED,2018-03-15 07:02:38.000000000,2018-03-21 16:16:14.000000000,2018-03-21 16:16:13.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 07:02:38.000000000', 'files': ['neutron_fwaas_dashboard/locale/pt_BR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/50e2da83d2a372b5d5547d65077b7913b79be7a9', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I5651f9c417fc5407d4c9e5aca0c68a534c6d79b9\n'}]",0,553188,50e2da83d2a372b5d5547d65077b7913b79be7a9,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I5651f9c417fc5407d4c9e5aca0c68a534c6d79b9
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/88/553188/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas_dashboard/locale/pt_BR/LC_MESSAGES/django.po'],1,50e2da83d2a372b5d5547d65077b7913b79be7a9,zanata/translations,"""POT-Creation-Date: 2018-03-14 18:56+0000\n""""PO-Revision-Date: 2018-03-14 08:46+0000\n""msgctxt ""Current status of a Firewall Group"" msgid ""Active"" msgstr ""Ativo"" msgid ""Add Firewall Group"" msgstr ""Adicionar Grupo de Firewall"" msgid ""Add New Firewall Group"" msgstr ""Adicionar um novo Grupo de Firewall"" msgid ""Add Port"" msgstr ""Adicionar Porta"" msgid ""Add port to FirewallGroup {{ name }}"" msgstr ""Adicionar porta ao Grupo de Firewall {{ name }}"" msgid ""Added Firewall Group\""%s\""."" msgstr ""Adicionado o Grupo de Firewall \""%s\""."" #, python-format#, python-format msgid ""Added policy \""%s\""."" msgstr ""Adicionada a polÃ­tica \""%s\""."" #, python-format msgid ""Added rule \""%s\""."" msgstr ""Adicionada a regra \""%s\""."" msgid ""Create Firewall Group"" msgstr ""Criar Grupo de Firewall"" msgid ""Create a Firewall Group with selected ports."" msgstr ""Criar um Grupo de Firewall com as portas selecionadas."" ""Create a firewall group based on a policy.\n"" ""\n"" ""A firewall represents a logical firewall resource that a tenant can "" ""instantiate and manage. A firewall must be associated with one policy, all "" ""other fields are optional."" msgstr """" ""Criar um grupo de firewall baseado em uma polÃ­tica.\n"" ""\n"" ""Um firewall representa um recurso virtual de firewall que um tenant pode "" ""instanciar e gerenciar. Um firewall deve estar associado com uma polÃ­tica, "" ""todos os outros campos sÃ£o opcionais."" msgid """"msgid """" ""Create a firewall rule.\n"" ""\n"" ""A firewall rule is an association of the following attributes:\n"" ""\n"" ""<li>IP Addresses: The addresses from/to which the traffic filtration needs "" ""to be applied.</li><li>IP Version: The type of IP packets (IP V4/V6) that "" ""needs to be filtered.</li><li>Protocol: Type of packets (UDP, ICMP, TCP, "" ""Any) that needs to be checked.</li><li>Action: Action is the type of "" ""filtration required, it can be Reject/Deny/Allow data packets.</li>\n"" ""The protocol and action fields are required, all others are optional."" msgstr """" ""Criar uma regra de firewall.\n"" ""\n"" ""Um regra de firewall Ã© uma associaÃ§Ã£o dos seguintes atributos:\n"" ""\n"" ""<li>EndereÃ§os IP: Os endereÃ§os de/para os quais a filtragem de trÃ¡fego "" ""precisa ser aplicada.</li><li>VersÃ£o do IP: O tipo dos pacotes IP (IP V4/V6) "" ""que precisam ser filtrados.</li><li>Protocolo: Tipos de pacotes (UDP, ICMP, "" ""TCP, Any) que precisam ser verificados.</li><li>AÃ§Ã£o: AÃ§Ã£o Ã© o tipo de "" ""filtragem necessÃ¡ria, que pode ser Rejeitar/Negar/Permitir pacotes de dados."" ""</li>\n"" ""Os campos protocolo e aÃ§Ã£o sÃ£o obrigatÃ³rios, todos os outros sÃ£o opcionais."" msgctxt ""Current status of a Firewall Group"" msgid ""Created"" msgstr ""Criado"" msgctxt ""Admin state of a Firewall Group"" msgid ""DOWN"" msgstr ""DESLIGADO"" msgid ""Delete Firewall Group"" msgid_plural ""Delete Firewall Groups"" msgstr[0] ""Excluir Grupo de Firewall"" msgstr[1] ""Excluir Grupos de Firewall"" msgctxt ""Current status of a Firewall Group"" msgid ""Down"" msgstr ""Desligado"" msgid ""Edit Firewall Group"" msgstr ""Editar Grupo de Firewall"" msgid ""Edit FirewallGroup {{ name }}"" msgstr ""Editar Grupo de Firewall {{ name }}"" msgid ""Egress Policy"" msgstr ""PolÃ­tica de SaÃ­da"" msgctxt ""Current status of a Firewall Group"" msgid ""Error"" msgstr ""Erro"" msgid ""Failed to retrieve port list of the firewall group."" msgstr ""Falha ao obter a lista de portas do grupo de firewall."" msgid ""Failed to update firewallgroup %(name)s: %(reason)s"" msgstr ""Falha ao atualizar os grupos de firewall %(name)s: %(reason)s"" #, python-formatmsgid ""Firewall Groups"" msgstr ""Grupos de Firewall"" msgid ""FirewallGroup"" msgstr ""Grupo de Firewall"" #, python-format msgid ""FirewallGroup %s was successfully updated."" msgstr ""O Grupo de Firewall %s foi atualizado com sucesso."" msgctxt ""Current status of a Firewall Group"" msgid ""Inactive"" msgstr ""Inativo"" msgid ""Ingress Policy"" msgstr ""PolÃ­tica de Entrada"" msgctxt ""Current status of a Firewall Group""msgid ""Pending Create"" msgstr ""CriaÃ§Ã£o Pendente"" msgctxt ""Current status of a Firewall Group""msgid ""Pending Delete"" msgstr ""ExclusÃ£o Pendente"" msgctxt ""Current status of a Firewall Group"" msgid ""Pending Update"" msgstr ""AtualizaÃ§Ã£o Pendente"" msgctxt ""Current status of a firewall""msgid ""Remove Port"" msgstr ""Remover Porta"" msgid ""Remove port from FirewallGroup {{ name }}"" msgstr ""Remover porta do Grupo de Firewall {{ name }}"" msgid ""Scheduled deletion of Firewall Group"" msgid_plural ""Scheduled deletion of Firewall Groups"" msgstr[0] ""Agendada a exclusÃ£o do Grupo de Firewall"" msgstr[1] ""Agendada a exclusÃ£o do Grupos de Firewall"" msgid ""Select ports for your firewall group."" msgstr ""Selecione as portas para o seu grupo de firewall."" msgctxt ""Admin state of a Firewall Group"" msgid ""UP"" msgstr ""LIGADO"" msgid ""Unable to add Firewall Group \""%s\""."" msgstr ""NÃ£o Ã© possÃ­vel adicionar o Grupo de Firewall \""%s\""."" #, python-formatmsgid ""Unable to add firewall \""%s\""."" msgstr ""NÃ£o Ã© possÃ­vel adicionar o firewall \""%s\""."" #, python-format msgid ""Unable to add policy \""%s\""."" msgstr ""NÃ£o Ã© possÃ­vel adicionar a polÃ­tica \""%s\""."" #, python-format msgid ""Unable to add rule \""%s\""."" msgstr ""NÃ£o Ã© possÃ­vel adicionar a regra \""%s\""."" #, python-formatmsgid ""Unable to retrieve firewallgroup details."" msgstr ""NÃ£o Ã© possÃ­vel obter detalhes do grupo de firewall."" #, python-format msgid ""Unable to retrieve policy list (%s)."" msgstr ""NÃ£o Ã© possÃ­vel obter a lista de polÃ­ticas (%s)."" msgid ""Unable to retrieve port list."" msgstr ""NÃ£o Ã© possÃ­vel obter a lista de portas."" #, python-format msgid ""Unable to retrieve ports (%s)."" msgstr ""NÃ£o Ã© possÃ­vel obter as portas (%s)."" #, python-format msgid ""Unable to retrieve rules (%s)."" msgstr ""NÃ£o Ã© possÃ­vel obter a regras (%s)."" ","""POT-Creation-Date: 2018-03-01 11:02+0000\n""""PO-Revision-Date: 2018-03-13 03:09+0000\n""msgctxt ""Current status of a firewall""",192,3
openstack%2Fneutron-vpnaas-dashboard~master~If63e9a4b366cb28039d80584bbd0ffa3801845aa,openstack/neutron-vpnaas-dashboard,master,If63e9a4b366cb28039d80584bbd0ffa3801845aa,Updated from global requirements,MERGED,2018-03-15 07:24:44.000000000,2018-03-21 16:15:15.000000000,2018-03-21 16:15:14.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 07:24:44.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/235f664ffb013416fde6a7431a6289fe3b165e35', 'message': 'Updated from global requirements\n\nChange-Id: If63e9a4b366cb28039d80584bbd0ffa3801845aa\n'}]",0,553210,235f664ffb013416fde6a7431a6289fe3b165e35,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: If63e9a4b366cb28039d80584bbd0ffa3801845aa
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/10/553210/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,235f664ffb013416fde6a7431a6289fe3b165e35,openstack/requirements,"sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",1,1
openstack%2Fironic~master~I218a3ac59fa17bd8378e0ed112e43431f666b3b0,openstack/ironic,master,I218a3ac59fa17bd8378e0ed112e43431f666b3b0,Ironic bond automation configuration,NEW,2018-03-07 03:26:14.000000000,2018-03-21 16:10:59.000000000,,"[{'_account_id': 6637}, {'_account_id': 10118}, {'_account_id': 14208}, {'_account_id': 14826}, {'_account_id': 19003}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 25943}, {'_account_id': 26150}]","[{'number': 1, 'created': '2018-03-07 03:26:14.000000000', 'files': ['ironic/common/neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4dba223c49998553cf4e148aae581d9b20b1fd32', 'message': 'Ironic bond automation configuration\n\nThe trunkid field is added to the portgroups information, which is used for the switch to configure the trunk interface.\n\nFixes Bug: #1753876\n\nChange-Id: I218a3ac59fa17bd8378e0ed112e43431f666b3b0\n'}]",0,550314,4dba223c49998553cf4e148aae581d9b20b1fd32,10,9,1,26150,,,0,"Ironic bond automation configuration

The trunkid field is added to the portgroups information, which is used for the switch to configure the trunk interface.

Fixes Bug: #1753876

Change-Id: I218a3ac59fa17bd8378e0ed112e43431f666b3b0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/14/550314/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/neutron.py'],1,4dba223c49998553cf4e148aae581d9b20b1fd32,bug/1753876," if portgroup.extra: trunkid = portgroup.extra.get('trunkid') if trunkid: return { 'id': portgroup.uuid, 'name': portgroup.name, 'bond_mode': portgroup.mode, 'bond_properties': portgroup_properties, 'trunk_id': trunkid } ",,11,0
openstack%2Fpython-saharaclient~master~Ia719ff481743c4c5d56c90a8c93eb12450673fcb,openstack/python-saharaclient,master,Ia719ff481743c4c5d56c90a8c93eb12450673fcb,pypy is not checked at gate,ABANDONED,2018-03-21 16:00:02.000000000,2018-03-21 16:10:19.000000000,,[{'_account_id': 10459}],"[{'number': 1, 'created': '2018-03-21 16:00:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/f921b79ca701383d13c4dd5867fb844492e42661', 'message': 'pypy is not checked at gate\n\nChange-Id: Ia719ff481743c4c5d56c90a8c93eb12450673fcb\n'}]",0,554967,f921b79ca701383d13c4dd5867fb844492e42661,3,1,1,25983,,,0,"pypy is not checked at gate

Change-Id: Ia719ff481743c4c5d56c90a8c93eb12450673fcb
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/67/554967/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f921b79ca701383d13c4dd5867fb844492e42661,,"envlist = py27,py35,pep8,releasenotes","envlist = py27,py35,pypy,pep8,releasenotes",1,1
openstack%2Freleases~master~I76d0df26180cf710a34b6304716b4f2725d1ebd3,openstack/releases,master,I76d0df26180cf710a34b6304716b4f2725d1ebd3,training-labs stable/queens,MERGED,2018-03-21 14:07:09.000000000,2018-03-21 16:00:39.000000000,2018-03-21 16:00:39.000000000,"[{'_account_id': 11109}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 14:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/60c50d843f6e282c7b0ba7e30ee8bb8f6fd9b411', 'message': 'training-labs stable/queens\n\nChange-Id: I76d0df26180cf710a34b6304716b4f2725d1ebd3\n'}, {'number': 2, 'created': '2018-03-21 14:46:37.000000000', 'files': ['deliverables/_independent/training-labs.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3963b6d4fadad6cb35db4aef2468775ce488395e', 'message': 'training-labs stable/queens\n\nChange-Id: I76d0df26180cf710a34b6304716b4f2725d1ebd3\n'}]",1,554929,3963b6d4fadad6cb35db4aef2468775ce488395e,13,3,2,11109,,,0,"training-labs stable/queens

Change-Id: I76d0df26180cf710a34b6304716b4f2725d1ebd3
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/554929/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/training-labs.yaml'],1,60c50d843f6e282c7b0ba7e30ee8bb8f6fd9b411,add_training-labs,--- launchpad: labs release-model: untagged team: Documentation type: other stable-branch-type: tagless branches: - name: stable/queens location: openstack/training-labs: b5a44c367b99a13af577248b354572e241734d7a repository-settings: openstack/training-labs: {} ,,12,0
openstack%2Ftripleo-ui~master~I6afc3f91ee2cc44ae149e482d5633876c85c3cff,openstack/tripleo-ui,master,I6afc3f91ee2cc44ae149e482d5633876c85c3cff,eslint: use as-needed for arrow-body-style,MERGED,2018-02-21 17:29:21.000000000,2018-03-21 15:58:09.000000000,2018-03-21 15:58:09.000000000,"[{'_account_id': 7509}, {'_account_id': 17888}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-21 17:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/74921842816f75b654e877efa02903c9d55d4da7', 'message': ""eslint: use as-needed for arrow-body-style\n\nWhen a function that is introduced by an arrow, don't insert a return\nstatement and its required curly braces when not needed.\n\nBad:\n\n    const f = () => {\n        return 1;\n    }\n\nGood:\n\n    const f = () => 1\n\nThis patch consists of a change to .eslintrc, and automatically fixed\nfiles (via eslint --fix).\n\nChange-Id: I6afc3f91ee2cc44ae149e482d5633876c85c3cff\n""}, {'number': 2, 'created': '2018-03-01 13:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/9f03ede0cc0c1c098373617859cb73c97cd28e89', 'message': ""eslint: use as-needed for arrow-body-style\n\nWhen a function that is introduced by an arrow, don't insert a return\nstatement and its required curly braces when not needed.\n\nBad:\n\n    const f = () => {\n        return 1;\n    }\n\nGood:\n\n    const f = () => 1\n\nThis patch consists of a change to .eslintrc, and automatically fixed\nfiles (via eslint --fix).\n\nChange-Id: I6afc3f91ee2cc44ae149e482d5633876c85c3cff\n""}, {'number': 3, 'created': '2018-03-14 17:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/40226fca23bd745ffb552dd50da485b9b2324341', 'message': ""eslint: use as-needed for arrow-body-style\n\nWhen a function that is introduced by an arrow, don't insert a return\nstatement and its required curly braces when not needed.\n\nBad:\n\n    const f = () => {\n        return 1;\n    }\n\nGood:\n\n    const f = () => 1\n\nThis patch consists of a change to .eslintrc, and automatically fixed\nfiles (via eslint --fix).\n\nChange-Id: I6afc3f91ee2cc44ae149e482d5633876c85c3cff\n""}, {'number': 4, 'created': '2018-03-15 18:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/7ea674ad53669d00fc53f55ef23b42ef01fe9117', 'message': ""eslint: use as-needed for arrow-body-style\n\nWhen a function that is introduced by an arrow, don't insert a return\nstatement and its required curly braces when not needed.\n\nBad:\n\n    const f = () => {\n        return 1;\n    }\n\nGood:\n\n    const f = () => 1\n\nThis patch consists of a change to .eslintrc, and automatically fixed\nfiles (via eslint --fix).\n\nChange-Id: I6afc3f91ee2cc44ae149e482d5633876c85c3cff\n""}, {'number': 5, 'created': '2018-03-21 14:53:44.000000000', 'files': ['src/js/components/ui/reduxForm/HorizontalInput.js', 'src/js/components/validations/ValidationsList.js', 'src/js/selectors/filters.js', 'src/__tests__/actions/PlansActions.tests.js', 'src/js/components/nodes/registerNodes/RegisterNodesForm.js', '.eslintrc', 'src/__tests__/actions/StacksActions.tests.js', 'src/__tests__/services/HeatApiService.tests.js', 'src/js/components/ui/tables/DataTableRow.js', 'src/js/components/deployment/DeploymentConfirmation.js', 'src/js/components/validations/Validation.js', 'src/js/components/validations/ValidationDetail.js', 'src/js/components/ui/dropdown/DropdownKebab.js', 'src/js/components/ui/tables/DataTable.js', 'src/js/components/ui/forms/FormErrorList.js', 'src/js/components/nodes/registerNodes/RegisterNodeFields.js', 'src/js/selectors/environmentConfiguration.js', 'src/js/components/environment_configuration/EnvironmentCheckBox.js', 'src/js/components/i18n/I18nProvider.js', 'src/js/components/ui/dropdown/MenuItemLink.js', 'src/js/components/roles/RoleServices.js', 'src/js/components/ui/reduxForm/HorizontalCheckBox.js', 'src/js/selectors/parameters.js', 'src/__tests__/actions/EnvironmentConfigurationActions.tests.js', 'src/js/components/deployment_plan/HardwareStep.js', 'src/js/components/nodes/NodesToolbar/NodesToolbar.js', 'src/js/reducers/filtersReducer.js', 'src/js/selectors/notifications.js', 'src/js/components/nodes/registerNodes/NodesFileUpload.js', 'src/js/components/ui/reduxForm/HorizontalSelect.js', 'src/js/selectors/plans.js', 'src/js/components/roles/NodesAssignment.js', 'src/js/components/nodes/NodesTable.js', 'src/js/components/UserAuthenticator.js', 'src/__tests__/actions/workflowExecutionActions.tests.js', 'src/js/selectors/validations.js', 'src/js/components/deployment/StackResourcesTable.js', 'src/__tests__/components/ui/tables/DataTable.tests.js', 'src/js/components/nodes/NodesListView/NodeExtendedInfo.js', 'src/js/components/login/Login.js', 'src/__tests__/actions/ValidationsActions.tests.js', 'src/js/reducers/environmentConfigurationReducer.js', 'src/js/components/deployment_plan/ConfigurePlanStep.js', 'src/__tests__/actions/NodesActions.tests.js', 'src/js/components/ui/Toolbar/ToolbarInputs.js', 'src/js/selectors/nodes.js', 'src/js/components/parameters/Parameters.js', 'src/js/components/validations/ValidationsToolbar.js', 'src/js/components/ui/NavTab.js', 'src/js/components/notifications/NotificationsToaster.js', 'src/js/utils/nodes.js', 'src/__tests__/actions/utils.js', 'src/js/selectors/stacks.js', 'src/js/components/deployment_plan/DeploymentPlanStep.js', 'src/js/components/login/LanguageInput.js', 'src/js/components/parameters/ParameterInputList.js', 'src/js/components/parameters/ParametersForm.js', 'src/js/components/plan/PlanFileInput.js', 'src/js/components/parameters/ParametersSidebar.js', 'src/js/components/ui/reduxForm/NodePickerInput.js', 'src/js/components/i18n/I18nDropdown.js', 'src/__tests__/actions/ParametersActions.tests.js', 'src/js/components/deployment/DeploymentDetail.js'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/16514bf462a5c4f0272626c9024e3fae99f3844f', 'message': ""eslint: use as-needed for arrow-body-style\n\nWhen a function that is introduced by an arrow, don't insert a return\nstatement and its required curly braces when not needed.\n\nBad:\n\n    const f = () => {\n        return 1;\n    }\n\nGood:\n\n    const f = () => 1\n\nThis patch consists of a change to .eslintrc, and automatically fixed\nfiles (via eslint --fix).\n\nChange-Id: I6afc3f91ee2cc44ae149e482d5633876c85c3cff\n""}]",0,546707,16514bf462a5c4f0272626c9024e3fae99f3844f,15,3,5,20970,,,0,"eslint: use as-needed for arrow-body-style

When a function that is introduced by an arrow, don't insert a return
statement and its required curly braces when not needed.

Bad:

    const f = () => {
        return 1;
    }

Good:

    const f = () => 1

This patch consists of a change to .eslintrc, and automatically fixed
files (via eslint --fix).

Change-Id: I6afc3f91ee2cc44ae149e482d5633876c85c3cff
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/07/546707/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/js/components/ui/reduxForm/HorizontalInput.js', 'src/js/components/validations/ValidationsList.js', 'src/js/selectors/filters.js', 'src/__tests__/actions/PlansActions.tests.js', 'src/js/components/nodes/registerNodes/RegisterNodesForm.js', '.eslintrc', 'src/__tests__/actions/StacksActions.tests.js', 'src/__tests__/services/HeatApiService.tests.js', 'src/js/components/ui/tables/DataTableRow.js', 'src/js/components/deployment/DeploymentConfirmation.js', 'src/js/components/validations/Validation.js', 'src/js/components/validations/ValidationDetail.js', 'src/js/components/ui/dropdown/DropdownKebab.js', 'src/js/components/ui/tables/DataTable.js', 'src/js/components/ui/forms/FormErrorList.js', 'src/js/components/nodes/registerNodes/RegisterNodeFields.js', 'src/js/selectors/environmentConfiguration.js', 'src/js/components/environment_configuration/EnvironmentCheckBox.js', 'src/js/components/i18n/I18nProvider.js', 'src/js/components/ui/dropdown/MenuItemLink.js', 'src/js/components/roles/RoleServices.js', 'src/js/components/ui/reduxForm/HorizontalCheckBox.js', 'src/js/selectors/parameters.js', 'src/__tests__/actions/EnvironmentConfigurationActions.tests.js', 'src/js/components/deployment_plan/HardwareStep.js', 'src/js/components/nodes/NodesToolbar/NodesToolbar.js', 'src/js/reducers/filtersReducer.js', 'src/js/selectors/notifications.js', 'src/js/components/parameters/NewParameterInputList.js', 'src/js/components/nodes/registerNodes/NodesFileUpload.js', 'src/js/components/ui/reduxForm/HorizontalSelect.js', 'src/js/selectors/plans.js', 'src/js/components/roles/NodesAssignment.js', 'src/js/components/nodes/NodesTable.js', 'src/js/components/UserAuthenticator.js', 'src/__tests__/actions/workflowExecutionActions.tests.js', 'src/js/selectors/validations.js', 'src/js/components/roles/RoleDetail.js', 'src/js/components/deployment/StackResourcesTable.js', 'src/__tests__/components/ui/tables/DataTable.tests.js', 'src/js/components/nodes/NodesListView/NodeExtendedInfo.js', 'src/js/components/login/Login.js', 'src/__tests__/actions/ValidationsActions.tests.js', 'src/js/reducers/environmentConfigurationReducer.js', 'src/js/components/deployment_plan/ConfigurePlanStep.js', 'src/__tests__/actions/NodesActions.tests.js', 'src/js/components/ui/Toolbar/ToolbarInputs.js', 'src/js/selectors/nodes.js', 'src/js/components/parameters/Parameters.js', 'src/js/components/validations/ValidationsToolbar.js', 'src/js/components/ui/NavTab.js', 'src/js/components/notifications/NotificationsToaster.js', 'src/js/utils/nodes.js', 'src/js/store.js', 'src/__tests__/actions/utils.js', 'src/js/selectors/stacks.js', 'src/js/components/deployment_plan/DeploymentPlanStep.js', 'src/js/components/login/LanguageInput.js', 'src/js/components/parameters/ParameterInputList.js', 'src/js/components/plan/PlanFileInput.js', 'src/js/components/parameters/ParametersSidebar.js', 'src/js/components/ui/reduxForm/NodePickerInput.js', 'src/js/components/i18n/I18nDropdown.js', 'src/__tests__/actions/ParametersActions.tests.js', 'src/js/components/deployment/DeploymentDetail.js']",65,74921842816f75b654e877efa02903c9d55d4da7,arrows,"const mapStateToProps = state => ({ allPreDeploymentValidationsSuccessful: allPreDeploymentValidationsSuccessful( state ), currentPlan: getCurrentPlan(state), currentPlanName: getCurrentPlanName(state), currentStack: getCurrentStack(state), currentStackDeploymentProgress: getCurrentStackDeploymentProgress(state), currentStackResources: state.stacks.resources, currentStackResourcesLoaded: state.stacks.resourcesLoaded, environmentConfigurationSummary: getEnvironmentConfigurationSummary(state), stacksLoaded: state.stacks.isLoaded }); const mapDispatchToProps = dispatch => ({ deployPlan: planName => dispatch(PlanActions.deployPlan(planName)), fetchStackResources: stack => dispatch(StacksActions.fetchResources(stack.stack_name, stack.id)), runPreDeploymentValidations: planName => dispatch( ValidationsActions.runValidationGroups(['pre-deployment'], planName) ) });","const mapStateToProps = state => { return { allPreDeploymentValidationsSuccessful: allPreDeploymentValidationsSuccessful( state ), currentPlan: getCurrentPlan(state), currentPlanName: getCurrentPlanName(state), currentStack: getCurrentStack(state), currentStackDeploymentProgress: getCurrentStackDeploymentProgress(state), currentStackResources: state.stacks.resources, currentStackResourcesLoaded: state.stacks.resourcesLoaded, environmentConfigurationSummary: getEnvironmentConfigurationSummary(state), stacksLoaded: state.stacks.isLoaded }; }; const mapDispatchToProps = dispatch => { return { deployPlan: planName => dispatch(PlanActions.deployPlan(planName)), fetchStackResources: stack => dispatch(StacksActions.fetchResources(stack.stack_name, stack.id)), runPreDeploymentValidations: planName => dispatch( ValidationsActions.runValidationGroups(['pre-deployment'], planName) ) }; };",777,938
openstack%2Fcharm-neutron-gateway~stable%2F18.02~I79a1183e7eddd4981367baf4a22fe2ec6374b0b9,openstack/charm-neutron-gateway,stable/18.02,I79a1183e7eddd4981367baf4a22fe2ec6374b0b9,Switch keystone authentication calls to admin ep,MERGED,2018-03-20 23:30:39.000000000,2018-03-21 15:46:09.000000000,2018-03-21 15:46:09.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 23:30:39.000000000', 'files': ['templates/mitaka/l3_agent.ini', 'tests/basic_deployment.py', 'templates/icehouse/l3_agent.ini', 'templates/juno/l3_agent.ini', 'templates/kilo/nova.conf', 'templates/icehouse/nova.conf', 'templates/newton/l3_agent.ini', 'templates/icehouse/metadata_agent.ini', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/82bb7166ef25562d8fcd93f946151eb5c487747e', 'message': 'Switch keystone authentication calls to admin ep\n\nEnsure that the keystone admin endpoint is used for calls\nto keystone, resolving issues when the public ep is not\nnetwork accessible from the neutron-gateway units.\n\nChange-Id: I79a1183e7eddd4981367baf4a22fe2ec6374b0b9\nCloses-Bug: 1756111\n(cherry picked from commit 802f607b8c0f9dc20703b0eac9706431fc2f08bc)\n'}]",0,554732,82bb7166ef25562d8fcd93f946151eb5c487747e,9,3,1,8108,,,0,"Switch keystone authentication calls to admin ep

Ensure that the keystone admin endpoint is used for calls
to keystone, resolving issues when the public ep is not
network accessible from the neutron-gateway units.

Change-Id: I79a1183e7eddd4981367baf4a22fe2ec6374b0b9
Closes-Bug: 1756111
(cherry picked from commit 802f607b8c0f9dc20703b0eac9706431fc2f08bc)
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/32/554732/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/mitaka/l3_agent.ini', 'tests/basic_deployment.py', 'templates/icehouse/l3_agent.ini', 'templates/juno/l3_agent.ini', 'templates/kilo/nova.conf', 'templates/icehouse/nova.conf', 'templates/newton/l3_agent.ini', 'templates/icehouse/metadata_agent.ini', 'templates/mitaka/nova.conf']",9,82bb7166ef25562d8fcd93f946151eb5c487747e,bug/1756111-stable/18.02,auth_url={{ auth_protocol }}://{{ keystone_host }}:{{ auth_port }},auth_url={{ service_protocol }}://{{ keystone_host }}:{{ service_port }},9,9
openstack%2Fpuppet-ironic~master~I8cd78987d0076b592c378d476396a0e46d1520e6,openstack/puppet-ironic,master,I8cd78987d0076b592c378d476396a0e46d1520e6,oslo middleware: check puppet resource instead of actual config in spec,MERGED,2018-03-21 03:33:48.000000000,2018-03-21 15:40:56.000000000,2018-03-21 15:40:56.000000000,"[{'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 03:33:48.000000000', 'files': ['spec/classes/ironic_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/697124993155119f68ec77a1d87b7d91f3c825df', 'message': 'oslo middleware: check puppet resource instead of actual config in spec\n\nChange-Id: I8cd78987d0076b592c378d476396a0e46d1520e6\n'}]",0,554777,697124993155119f68ec77a1d87b7d91f3c825df,7,3,1,9414,,,0,"oslo middleware: check puppet resource instead of actual config in spec

Change-Id: I8cd78987d0076b592c378d476396a0e46d1520e6
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/77/554777/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/ironic_api_spec.rb'],1,697124993155119f68ec77a1d87b7d91f3c825df,standard-oslo-middleware-params," is_expected.to contain_oslo__middleware('ironic_config').with( :enable_proxy_headers_parsing => '<SERVICE DEFAULT>', ) it { is_expected.to contain_oslo__middleware('ironic_config').with( :enable_proxy_headers_parsing => true, )}", is_expected.to contain_ironic_config('oslo_middleware/enable_proxy_headers_parsing').with_value('<SERVICE DEFAULT>') it { is_expected.to contain_ironic_config('oslo_middleware/enable_proxy_headers_parsing').with_value(true) },6,2
openstack%2Fopenstack-ansible-plugins~stable%2Fpike~I7c7cd9ef1dd767a2a5d754ac4663cf8655dd60c2,openstack/openstack-ansible-plugins,stable/pike,I7c7cd9ef1dd767a2a5d754ac4663cf8655dd60c2,Utilise sorted to ensure no random changes,MERGED,2018-03-21 11:27:40.000000000,2018-03-21 15:40:22.000000000,2018-03-21 13:47:22.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 27707}]","[{'number': 1, 'created': '2018-03-21 11:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/3ac5ad49f97dad5cbbb28706e70f105e11a89c94', 'message': ""Utilise sorted to ensure no random changes\n\nThis is a manual backport of a5ef4ea.\nThe config_template plugin was unified in Queens.\n\nAs part of the ceph-ansible project, this change was put in:\nceph/ceph-ansible@ec04221\nThis was to handle the case where the config would change, initiating a\nrestart handler, even though no actual change happened.\n\nWe can juse use sorted() since we are passing back a list with .items()\nwhich can then be sorted.\n\nThe above change didn't include a change to ensure the order of the\nsections, which meant that although the individual items were sorted the\nsections could change order causing unnecessary changes.\n\nAdditionally, this adds a test to retemplate the file 3 times, with a\nlot more sections to ensure the order remains the same, this will fail\nwhen the config template changes even though no changes have happened.\n\nChange-Id: I7c7cd9ef1dd767a2a5d754ac4663cf8655dd60c2\n""}, {'number': 2, 'created': '2018-03-21 11:46:23.000000000', 'files': ['action/_v1_config_template.py', 'action/_v2_config_template.py', 'tests/test-config_template.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/542835cb502856f6aa4b59c0c9565fdb3061de39', 'message': ""Utilise sorted to ensure no random changes\n\nThis is a manual backport of a5ef4ea.\nThe config_template plugin was unified in Queens.\n\nAs part of the ceph-ansible project, this change was put in:\nceph/ceph-ansible@ec04221\nThis was to handle the case where the config would change, initiating a\nrestart handler, even though no actual change happened.\n\nWe can juse use sorted() since we are passing back a list with .items()\nwhich can then be sorted.\n\nThe above change didn't include a change to ensure the order of the\nsections, which meant that although the individual items were sorted the\nsections could change order causing unnecessary changes.\n\nAdditionally, this adds a test to retemplate the file 3 times, with a\nlot more sections to ensure the order remains the same, this will fail\nwhen the config template changes even though no changes have happened.\n\nChange-Id: I7c7cd9ef1dd767a2a5d754ac4663cf8655dd60c2\n""}]",0,554881,542835cb502856f6aa4b59c0c9565fdb3061de39,11,4,2,2799,,,0,"Utilise sorted to ensure no random changes

This is a manual backport of a5ef4ea.
The config_template plugin was unified in Queens.

As part of the ceph-ansible project, this change was put in:
ceph/ceph-ansible@ec04221
This was to handle the case where the config would change, initiating a
restart handler, even though no actual change happened.

We can juse use sorted() since we are passing back a list with .items()
which can then be sorted.

The above change didn't include a change to ensure the order of the
sections, which meant that although the individual items were sorted the
sections could change order causing unnecessary changes.

Additionally, this adds a test to retemplate the file 3 times, with a
lot more sections to ensure the order remains the same, this will fail
when the config template changes even though no changes have happened.

Change-Id: I7c7cd9ef1dd767a2a5d754ac4663cf8655dd60c2
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/81/554881/2 && git format-patch -1 --stdout FETCH_HEAD,"['action/_v1_config_template.py', 'action/_v2_config_template.py', 'tests/test-config_template.yml']",3,3ac5ad49f97dad5cbbb28706e70f105e11a89c94,," - name: Template multiple times to assert no changes config_template: src: ""{{ playbook_dir }}/templates/test_with_comments.ini"" dest: ""/tmp/test_with_comments.ini"" config_type: ""ini"" config_overrides: ""{{ item[1] }}"" register: template_changed failed_when: template_changed | changed with_nested: - [ 0, 1, 2 ] - [ ""{{ test_config_ini_overrides }}"" ] section1: key1: ""value1"" key2: ""value2"" key3: ""value3"" key4: ""value4"" key5: ""value5"" key6: ""value6"" key7: ""value7"" key8: ""value8"" key9: ""value9"" key10: ""value10"" key11: ""value11"" section2: key1: ""value1"" section3: key1: ""value1"" section4: key1: ""value1"" section5: key1: ""value1"" section6: key1: ""value1"" section7: key1: ""value1"" section8: key1: ""value1"" section9: key1: ""value1"" section10: key1: ""value1"" section11: key1: ""value1""",,50,6
openstack%2Ftripleo-heat-templates~master~Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091,openstack/tripleo-heat-templates,master,Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091,[FFU] Hook to allow user to pass a custom script for repo switching.,MERGED,2018-01-31 11:49:00.000000000,2018-03-21 15:39:34.000000000,2018-03-21 14:40:16.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 11166}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 21151}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27552}, {'_account_id': 27802}]","[{'number': 1, 'created': '2018-01-31 11:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1b527fe1551eba4f9780a931820d0295a5ba198e', 'message': '[FFU] Hook to allow user to pass a custom script for repo switching.\n\nThis allow the user to use whatever script is necessary to switch repo\nin its own infrastructure.\n\nChange-Id: Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091\n'}, {'number': 2, 'created': '2018-02-14 17:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f8efacd0860a81e78df6ffe94f28c6f4b0e31359', 'message': '[FFU] Hook to allow user to pass a custom script for repo switching.\n\nThis allow the user to use whatever script is necessary to switch repo\nin its own infrastructure.\n\nChange-Id: Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091\n'}, {'number': 3, 'created': '2018-02-14 17:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48f5ead651a1e84b1828fcb086d9994fc647bb79', 'message': '[FFU] Hook to allow user to pass a custom script for repo switching.\n\nThis allow the user to use whatever script is necessary to switch repo\nin its own infrastructure.\n\nChange-Id: Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091\n'}, {'number': 4, 'created': '2018-02-20 18:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e658669bddee705f94b67ecc7971097a459fae7e', 'message': '[FFU] Hook to allow user to pass a custom script for repo switching.\n\nThis allow the user to use whatever script is necessary to switch repo\nin its own infrastructure.\n\nChange-Id: Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091\n'}, {'number': 5, 'created': '2018-02-22 09:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3deaac09f94d0fba12b5dc892af784b01a5c9f80', 'message': '[FFU] Hook to allow user to pass a custom script for repo switching.\n\nThis allow the user to use whatever script is necessary to switch repo\nin its own infrastructure.\n\nChange-Id: Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091\n'}, {'number': 6, 'created': '2018-02-27 10:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e1a77f75716e533952e4e8cd2dc0f7ddc1d80eb0', 'message': '[FFU] Hook to allow user to pass a custom script for repo switching.\n\nThis allow the user to use whatever script is necessary to switch repo\nin its own infrastructure.\n\nChange-Id: Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091\n'}, {'number': 7, 'created': '2018-03-01 15:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3564fa5aa891d2e3153d7c97d669c689029be047', 'message': '[FFU] Hook to allow user to pass a custom script for repo switching.\n\nThis allow the user to use whatever script is necessary to switch repo\nin its own infrastructure.\n\nChange-Id: Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091\n'}, {'number': 8, 'created': '2018-03-05 11:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0be82aedaa109f83e2a3b2208db592e69b7c9896', 'message': '[FFU] Hook to allow user to pass a custom script for repo switching.\n\nThis allow the user to use whatever script is necessary to switch repo\nin its own infrastructure.\n\nChange-Id: Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091\n'}, {'number': 9, 'created': '2018-03-14 12:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ed8f962f3c0cccc7df413fdd948fa2831b05304', 'message': '[FFU] Hook to allow user to pass a custom script for repo switching.\n\nThis allow the user to use whatever script is necessary to switch repo\nin its own infrastructure.\n\nChange-Id: Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091\n'}, {'number': 10, 'created': '2018-03-15 14:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f9c93536ba0020254cb3fff1b18876f838368dd8', 'message': '[FFU] Hook to allow user to pass a custom script for repo switching.\n\nThis allow the user to use whatever script is necessary to switch repo\nin its own infrastructure.\n\nChange-Id: Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091\n'}, {'number': 11, 'created': '2018-03-16 15:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c224774540ceaccf1772c679c7c1352b338f4b2b', 'message': '[FFU] Hook to allow user to pass a custom script for repo switching.\n\nThis allow the user to use whatever script is necessary to switch repo\nin its own infrastructure during fast forward upgrade.\n\nChange-Id: Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091\n'}, {'number': 12, 'created': '2018-03-19 08:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/877d8c2a670390891d85fdddac4af3e72caa0c48', 'message': '[FFU] Hook to allow user to pass a custom script for repo switching.\n\nThis allow the user to use whatever script is necessary to switch repo\nin its own infrastructure during fast forward upgrade.\n\nChange-Id: Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091\n'}, {'number': 13, 'created': '2018-03-19 08:44:38.000000000', 'files': ['releasenotes/notes/ffu-custom-script-to-switch-repo-a65db91760b46ec2.yaml', 'puppet/services/tripleo-packages.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2587cb4acf44d9b64ff2cabab8b056f66812d45b', 'message': '[FFU] Hook to allow user to pass a custom script for repo switching.\n\nThis allow the user to use whatever script is necessary to switch repo\nin its own infrastructure during fast forward upgrade.\n\nChange-Id: Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091\n'}]",23,539503,2587cb4acf44d9b64ff2cabab8b056f66812d45b,74,11,13,8297,,,0,"[FFU] Hook to allow user to pass a custom script for repo switching.

This allow the user to use whatever script is necessary to switch repo
in its own infrastructure during fast forward upgrade.

Change-Id: Ie74106de7a4d5cd761c2bd836c2aa03efa7ac091
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/539503/6 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/tripleo-packages.yaml'],1,1b527fe1551eba4f9780a931820d0295a5ba198e,bp/fast-forward-upgrades," constraints: - allowed_values: ['tripleo-repos', 'custom-script'] FastForwardCustomRepoScriptContent: default: >- #!/bin/bash set -e echo ""If you use FastForwardRepoType 'custom-script' you have to provide the upgrade repo script content."" echo ""It will be installed as /root/ffu_upgrade_repo.sh on the node"" echo ""and passed the upstream name (ocata, pike) of the release as first argument"" exit 1 type: string - block: - name: Create custom Script for upgrading repo. copy: dest: /root/ffu_update_repo.sh content: {get_param: FastForwardCustomRepoScriptContent} mode: 0700 - name: Execute custom script for upgrading repo. command: ""/root/ffu_update_repo.sh {{release}}"" when: - step|int == 3 - fast_forward_repo_type == 'custom-script'",,22,0
openstack%2Fmicroversion-parse~master~I71d091d037abcd068601b32722a09094ae74e658,openstack/microversion-parse,master,I71d091d037abcd068601b32722a09094ae74e658,Improve Version.matches() method,MERGED,2018-03-06 20:49:08.000000000,2018-03-21 15:31:55.000000000,2018-03-21 15:31:55.000000000,"[{'_account_id': 1063}, {'_account_id': 10670}, {'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-06 20:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/807a471ccf522978a8aecc40f16ef994d58fd2ab', 'message': 'Improve Version.matches() method\n\nUse within the placement service has made it clear that the\nVersion object knowing the min and max versions is useful when\nmaking Version.matches comparisons.\n\nTherefore the matches method has been updated to refer to\nmin_version and max_version attributes if they are not set\nin the matches() request. The extract_version function will\nnow set those attributes based on the version_list that is\npassed to it.\n\nChange-Id: I71d091d037abcd068601b32722a09094ae74e658\n'}, {'number': 2, 'created': '2018-03-15 12:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/023756d6ae19dfe6f04d2f0094885a8b6e091070', 'message': 'Improve Version.matches() method\n\nUse of Version within the placement service has made it clear\nthat the Version object knowing the min and max versions is\nuseful when making Version.matches comparisons.\n\nTherefore the matches method has been updated to refer to\nmin_version and max_version attributes if they are not set\nin the matches() request. The extract_version function now\nsets those attributes based on the version_list that is\npassed to it.\n\nChange-Id: I71d091d037abcd068601b32722a09094ae74e658\n'}, {'number': 3, 'created': '2018-03-15 18:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/15ea09649c594af5f0f8ce61e9d93e1448d0949a', 'message': 'Improve Version.matches() method\n\nUse of Version within the placement service has made it clear\nthat the Version object knowing the min and max versions is\nuseful when making Version.matches comparisons.\n\nTherefore the matches method has been updated to refer to\nmin_version and max_version attributes if they are not set\nin the matches() request. The extract_version function now\nsets those attributes based on the version_list that is\npassed to it.\n\nChange-Id: I71d091d037abcd068601b32722a09094ae74e658\n'}, {'number': 4, 'created': '2018-03-20 15:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/6b9c88b539cf3d5cf12ff98b045481f889b48c19', 'message': 'Improve Version.matches() method\n\nUse of Version within the placement service has made it clear\nthat the Version object knowing the min and max versions is\nuseful when making Version.matches comparisons.\n\nTherefore the matches method has been updated to refer to\nmin_version and max_version attributes if they are not set\nin the matches() request. The extract_version function now\nsets those attributes based on the version_list that is\npassed to it.\n\nChange-Id: I71d091d037abcd068601b32722a09094ae74e658\n'}, {'number': 5, 'created': '2018-03-20 17:28:16.000000000', 'files': ['microversion_parse/tests/test_extract_version.py', 'microversion_parse/__init__.py'], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/e346558d5f67ae2a3a848f6d8ad6166c761b39d1', 'message': 'Improve Version.matches() method\n\nUse of Version within the placement service has made it clear\nthat the Version object knowing the min and max versions is\nuseful when making Version.matches comparisons.\n\nTherefore the matches method has been updated to refer to\nmin_version and max_version attributes if they are not set\nin the matches() request. The extract_version function now\nsets those attributes based on the version_list that is\npassed to it.\n\nIf min and max are not set on the Version object, they default\nto negative versions, which are not possible in microversions\nand mean matches() (without override args) will be false. The\nuse of explicit values (instead of None) is so python3 is happy\n(and it is better anyway).\n\nChange-Id: I71d091d037abcd068601b32722a09094ae74e658\n'}]",12,550251,e346558d5f67ae2a3a848f6d8ad6166c761b39d1,30,4,5,11564,,,0,"Improve Version.matches() method

Use of Version within the placement service has made it clear
that the Version object knowing the min and max versions is
useful when making Version.matches comparisons.

Therefore the matches method has been updated to refer to
min_version and max_version attributes if they are not set
in the matches() request. The extract_version function now
sets those attributes based on the version_list that is
passed to it.

If min and max are not set on the Version object, they default
to negative versions, which are not possible in microversions
and mean matches() (without override args) will be false. The
use of explicit values (instead of None) is so python3 is happy
(and it is better anyway).

Change-Id: I71d091d037abcd068601b32722a09094ae74e658
",git fetch https://review.opendev.org/openstack/microversion-parse refs/changes/51/550251/4 && git format-patch -1 --stdout FETCH_HEAD,"['microversion_parse/tests/test_extract_version.py', 'microversion_parse/__init__.py']",2,807a471ccf522978a8aecc40f16ef994d58fd2ab,cd/placement-functions," def matches(self, min_version=None, max_version=None): """"""Is this version within min_version and max_version. :raises: AttributeError is min or max_version cannot be determined. """""" if min_version is None: min_version = self.min_version if max_version is None: max_version = self.max_version :returns: a Version with the optional min_version and max_version attributes set. request_version.max_version = parse_version_string(max_version_string) request_version.min_version = parse_version_string(min_version_string)"," def matches(self, min_version, max_version): """"""Is this version within min_version and max_version."""""" :returns: a Version",35,3
openstack%2Ftripleo-quickstart-extras~master~Id1a7ac0f92d99ae01f1d34ab5c141398d5b37cd9,openstack/tripleo-quickstart-extras,master,Id1a7ac0f92d99ae01f1d34ab5c141398d5b37cd9,Ensure gated packages are installed during upgrade.,MERGED,2018-03-03 11:32:50.000000000,2018-03-21 15:31:34.000000000,2018-03-21 15:31:34.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-03-03 11:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/aa2b0ebb02489969542c3da47f9ea1e40e78f841', 'message': 'WIP: Ensure gated packages are installed during upgrade.\n\nCURRENTLY TESTED.  Will let a comment in that review when test pass.\n\nThis ensures built packages from the gate are installed and used\nduring the upgrade using the new workflow.\n\nIt also prevents a small warning by not trying to build the\ntripleo-upgrade package.\n\nChange-Id: Id1a7ac0f92d99ae01f1d34ab5c141398d5b37cd9\n'}, {'number': 2, 'created': '2018-03-06 11:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8a96ae415d0054edd3e0b0e92beac79ac11ab27c', 'message': 'WIP: Ensure gated packages are installed during upgrade.\n\nCURRENTLY TESTED.  Will let a comment in that review when test pass.\n\nThis ensures built packages from the gate are installed and used\nduring the upgrade using the new workflow.\n\nIt also prevents a small warning by not trying to build the\ntripleo-upgrade package.\n\nChange-Id: Id1a7ac0f92d99ae01f1d34ab5c141398d5b37cd9\n'}, {'number': 3, 'created': '2018-03-06 11:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9802938383e7452930539a8eea4605d2734e0793', 'message': 'Ensure gated packages are installed during upgrade.\n\nThis ensures built packages from the gate are installed and used\nduring the upgrade using the new workflow.\n\nIt ensures that docker images get updated as well.\n\nIt also prevents a small warning by not trying to build the\ntripleo-upgrade package.\n\nChange-Id: Id1a7ac0f92d99ae01f1d34ab5c141398d5b37cd9\n'}, {'number': 4, 'created': '2018-03-13 10:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3e724584a883c0b71d36ef20a6e1af0d0bf20d5d', 'message': 'Ensure gated packages are installed during upgrade.\n\nThis ensures built packages from the gate are installed and used\nduring the upgrade using the new workflow.\n\nIt ensures that docker images get updated as well.\n\nIt also prevents a small warning by not trying to build the\ntripleo-upgrade package.\n\nChange-Id: Id1a7ac0f92d99ae01f1d34ab5c141398d5b37cd9\n'}, {'number': 5, 'created': '2018-03-15 17:39:19.000000000', 'files': ['playbooks/multinode-overcloud-upgrade-new.yml', 'roles/build-test-packages/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4a6bdeb2cbae7c7bd6741f0c572dcb2a10ec97a9', 'message': 'Ensure gated packages are installed during upgrade.\n\nThis ensures built packages from the gate are installed and used\nduring the upgrade using the new workflow.\n\nIt ensures that docker images get updated as well.\n\nIt also prevents a small warning by not trying to build the\ntripleo-upgrade package.\n\nChange-Id: Id1a7ac0f92d99ae01f1d34ab5c141398d5b37cd9\n'}]",7,549414,4a6bdeb2cbae7c7bd6741f0c572dcb2a10ec97a9,59,12,5,8297,,,0,"Ensure gated packages are installed during upgrade.

This ensures built packages from the gate are installed and used
during the upgrade using the new workflow.

It ensures that docker images get updated as well.

It also prevents a small warning by not trying to build the
tripleo-upgrade package.

Change-Id: Id1a7ac0f92d99ae01f1d34ab5c141398d5b37cd9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/14/549414/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/multinode-overcloud-upgrade-new.yml', 'roles/build-test-packages/defaults/main.yml']",2,aa2b0ebb02489969542c3da47f9ea1e40e78f841,bug/1742924, - openstack/tripleo-upgrade,,3,1
openstack%2Fkolla-ansible~master~I5f9d3eb6bd42f43073704d1e8c2b8bd03fb9eb9b,openstack/kolla-ansible,master,I5f9d3eb6bd42f43073704d1e8c2b8bd03fb9eb9b,Remove the duplicate dict key (become),MERGED,2018-03-20 14:23:50.000000000,2018-03-21 15:26:03.000000000,2018-03-21 15:26:03.000000000,"[{'_account_id': 7488}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23295}]","[{'number': 1, 'created': '2018-03-20 14:23:50.000000000', 'files': ['ansible/roles/ceph/tasks/distribute_keyrings.yml', 'ansible/roles/ceph/tasks/start_osds.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d6549a70ed66167d920becf74053826012c387b9', 'message': 'Remove the duplicate dict key (become)\n\nChange-Id: I5f9d3eb6bd42f43073704d1e8c2b8bd03fb9eb9b\n'}]",0,554565,d6549a70ed66167d920becf74053826012c387b9,10,5,1,22165,,,0,"Remove the duplicate dict key (become)

Change-Id: I5f9d3eb6bd42f43073704d1e8c2b8bd03fb9eb9b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/554565/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ceph/tasks/distribute_keyrings.yml', 'ansible/roles/ceph/tasks/start_osds.yml']",2,d6549a70ed66167d920becf74053826012c387b9,,, become: true,0,4
openstack%2Fos-vif~stable%2Fqueens~I0ab28bc38be1f72635afa97c2c4651cd1c2ab336,openstack/os-vif,stable/queens,I0ab28bc38be1f72635afa97c2c4651cd1c2ab336,ovs: do not delete port if already exists,MERGED,2018-03-06 13:37:48.000000000,2018-03-21 15:22:32.000000000,2018-03-21 15:22:32.000000000,"[{'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-06 13:37:48.000000000', 'files': ['vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/3be52b9e650db643827b8b97b28799407f30926f', 'message': 'ovs: do not delete port if already exists\n\nChange-Id: I0ab28bc38be1f72635afa97c2c4651cd1c2ab336\nCloses-Bug: #1670628\n(cherry picked from commit dadc65c0fae857020f75c8180f159f72cd66c7bd)\n'}]",2,550079,3be52b9e650db643827b8b97b28799407f30926f,9,3,1,7730,,,0,"ovs: do not delete port if already exists

Change-Id: I0ab28bc38be1f72635afa97c2c4651cd1c2ab336
Closes-Bug: #1670628
(cherry picked from commit dadc65c0fae857020f75c8180f159f72cd66c7bd)
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/79/550079/1 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py']",2,3be52b9e650db643827b8b97b28799407f30926f,bug/1670628-stable/queens," expected = ['--', '--may-exist', 'add-port',"," expected = ['--', '--if-exists', 'del-port', 'fake-dev', '--', 'add-port',",2,4
openstack%2Ftripleo-heat-templates~master~I123c34cae2404aee5a239ad764fc117a5a6af71f,openstack/tripleo-heat-templates,master,I123c34cae2404aee5a239ad764fc117a5a6af71f,DO NOT MERGE: testing ironic,ABANDONED,2017-02-02 09:42:45.000000000,2018-03-21 15:11:01.000000000,,"[{'_account_id': 10239}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-02-02 09:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afe27a3f0d0af24b22cdce5a5137237beef91d87', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 2, 'created': '2017-02-02 11:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/21b3035bac80ed43ecadaea354ca958c763c89cc', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 3, 'created': '2017-02-03 14:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/53c5a0e813966fca98fc1f88ce73b5829f36a918', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 4, 'created': '2017-03-15 17:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a9fa349fbd5b8d32f2ff5f4dcafb5c6e63fddeb', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 5, 'created': '2017-03-16 09:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/10ad70885059689aa595a819f03cd2c1ec4f2c45', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 6, 'created': '2017-03-16 20:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7f5ad4ed4a62cf009ce6b422b3a20145dc9221f', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 7, 'created': '2017-04-03 16:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/340a745adbb0ab0f2112d4abe716b36f32fb8d14', 'message': 'DO NOT MERGE: testing ironic ocata\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 8, 'created': '2017-04-03 21:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/773b12ad4193f9725f0bf61a5e776164eec49ed4', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 9, 'created': '2017-04-04 08:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/128ba2c6618335a76bcc1641ed023b66d1eb30cb', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 10, 'created': '2017-04-05 10:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19f478e64134934e65e0d977dfce0ffaaceafc77', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 11, 'created': '2017-04-07 09:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/54e91d6d514be9441663d6968cd6ece2c5c980b4', 'message': 'DO NOT MERGE: testing ironic\n\nDepends-On: I4fd567dffa3992042eebcf495334b8130e1bdc9f\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 12, 'created': '2017-04-10 09:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95f8dbf318d25ec79b6cdb68e8b3c2f0b678d52f', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 13, 'created': '2017-04-24 12:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb15f45afe07b14b0f1b5be7957f376d99acabbb', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 14, 'created': '2017-04-24 12:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc26e2a35b7268b371e69ae02f0faf68b738fd05', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 15, 'created': '2017-04-28 10:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e64da31db5c9966e89628a6dda8a758e719990bd', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 16, 'created': '2017-06-09 15:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be17efc417f112fe90fd7f0dfe6b327dbe24c8bd', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 17, 'created': '2017-06-12 13:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9650d200fc80f58ecbb0b4763ace216858fafefc', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 18, 'created': '2017-06-15 11:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc6cdd37e50515802c7628d7242105cf5830356f', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 19, 'created': '2017-06-15 11:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/626445130e922fe2995221acc627746a644b8c0b', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 20, 'created': '2017-06-21 13:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf0597023393a9b0b3a8ba65d177790491a2768a', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 21, 'created': '2017-06-23 16:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42490d1772086e857fcde21108f2997e6af621ab', 'message': 'DO NOT MERGE: testing ironic\n\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}, {'number': 22, 'created': '2017-08-07 13:56:02.000000000', 'files': ['puppet/services/nova-scheduler.yaml', 'overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/199ae553345bdfcc785576027441100647e84c7a', 'message': 'DO NOT MERGE: testing ironic\n\nDepends-On: Iebbd0c6dfc704ba2e0b5176d607354dd31f13a0d\nChange-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f\n'}]",0,428053,199ae553345bdfcc785576027441100647e84c7a,70,2,22,10239,,,0,"DO NOT MERGE: testing ironic

Depends-On: Iebbd0c6dfc704ba2e0b5176d607354dd31f13a0d
Change-Id: I123c34cae2404aee5a239ad764fc117a5a6af71f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/428053/17 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,afe27a3f0d0af24b22cdce5a5137237beef91d87,test, OS::TripleO::Services::IronicApi: ../../puppet/services/ironic-api.yaml OS::TripleO::Services::IronicConductor: ../../puppet/services/ironic-conductor.yaml OS::TripleO::Services::NovaIronic: ../../puppet/services/nova-ironic.yaml, OS::TripleO::Services::IronicApi: OS::Heat::None OS::TripleO::Services::IronicConductor: OS::Heat::None OS::TripleO::Services::NovaIronic: OS::Heat::None,3,3
openstack%2Fopenstack-ansible~stable%2Fqueens~I2221fc63c3779358dec5edf9e2d110bc2e1528c1,openstack/openstack-ansible,stable/queens,I2221fc63c3779358dec5edf9e2d110bc2e1528c1,Add missing Ubuntu packages,MERGED,2018-03-16 16:18:04.000000000,2018-03-21 15:10:49.000000000,2018-03-21 15:10:48.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 19578}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-03-16 16:18:04.000000000', 'files': ['tests/roles/bootstrap-host/vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cd931de94707a999f7a4c021b3880f00798eb1c6', 'message': 'Add missing Ubuntu packages\n\nWhen running scripts/bootstrap-aio.sh with options set to\nexport BOOTSTRAP_OPTS=""bootstrap_host_data_disk_device=sdb""\nparted is required to cope with disk wiping and proper\npartitioning. iptables are required later while configuring\nvlans and bridges.\n\nChange-Id: I2221fc63c3779358dec5edf9e2d110bc2e1528c1\n(cherry picked from commit 83555059570cb5dd9d3f98e643dc04a823d5197b)\n'}]",0,553844,cd931de94707a999f7a4c021b3880f00798eb1c6,24,7,1,6816,,,0,"Add missing Ubuntu packages

When running scripts/bootstrap-aio.sh with options set to
export BOOTSTRAP_OPTS=""bootstrap_host_data_disk_device=sdb""
parted is required to cope with disk wiping and proper
partitioning. iptables are required later while configuring
vlans and bridges.

Change-Id: I2221fc63c3779358dec5edf9e2d110bc2e1528c1
(cherry picked from commit 83555059570cb5dd9d3f98e643dc04a823d5197b)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/44/553844/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/vars/ubuntu.yml'],1,cd931de94707a999f7a4c021b3880f00798eb1c6,add-missing-ubuntu-utilities-stable/queens, - iptables - iputils-tracepath - parted, - iputils-tracepath,3,1
openstack%2Fblazar-nova~master~Ib8f7f6c83a7543bfae1f94fc57193e28ee8329ba,openstack/blazar-nova,master,Ib8f7f6c83a7543bfae1f94fc57193e28ee8329ba,Updated from global requirements,MERGED,2018-03-14 05:23:58.000000000,2018-03-21 15:09:40.000000000,2018-03-21 15:09:39.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23840}]","[{'number': 1, 'created': '2018-03-14 05:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/dd66276de6e4dd9eda1c49201a7e6b2afb83ff76', 'message': 'Updated from global requirements\n\nChange-Id: Ib8f7f6c83a7543bfae1f94fc57193e28ee8329ba\n'}, {'number': 2, 'created': '2018-03-15 06:47:18.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/a340bf1b955ab14d8fe2947764195de7993e6506', 'message': 'Updated from global requirements\n\nChange-Id: Ib8f7f6c83a7543bfae1f94fc57193e28ee8329ba\n'}]",0,552743,a340bf1b955ab14d8fe2947764195de7993e6506,10,3,2,11131,,,0,"Updated from global requirements

Change-Id: Ib8f7f6c83a7543bfae1f94fc57193e28ee8329ba
",git fetch https://review.opendev.org/openstack/blazar-nova refs/changes/43/552743/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,dd66276de6e4dd9eda1c49201a7e6b2afb83ff76,openstack/requirements,oslo.config>=5.2.0 # Apache-2.0,oslo.config>=5.1.0 # Apache-2.0,1,1
openstack%2Ftrove~master~I15c96ba6974bb0660bb2d7dd2f51801066b9d29d,openstack/trove,master,I15c96ba6974bb0660bb2d7dd2f51801066b9d29d,Add check_process() for mysqldump,ABANDONED,2018-03-21 14:17:43.000000000,2018-03-21 15:08:37.000000000,,[],"[{'number': 1, 'created': '2018-03-21 14:17:43.000000000', 'files': ['trove/guestagent/strategies/backup/mysql_impl.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/2068c150a89bae486a6a2214082e97118636e652', 'message': 'Add check_process() for mysqldump\n\nBefore, mysqldump had redirect parts for stderr but did not have\nany check logic for that. So redirect part was deleted to avoid\nreporting which is always success.\n\nBut, mysqldump does not emit not only errors but also warnings like\n""Warning: ..."" or ""[Warning] ..."". This warnings should not be\nconsidered to error, so add check_process for filtering that like\nother backup strategies.\n\nAlso, change message log level to debug for the right purpose and\nchange print location not to print None when the output file is empty.\n\nChange-Id: I15c96ba6974bb0660bb2d7dd2f51801066b9d29d\nClose-Bug: 1756806\n'}]",0,554932,2068c150a89bae486a6a2214082e97118636e652,2,0,1,26970,,,0,"Add check_process() for mysqldump

Before, mysqldump had redirect parts for stderr but did not have
any check logic for that. So redirect part was deleted to avoid
reporting which is always success.

But, mysqldump does not emit not only errors but also warnings like
""Warning: ..."" or ""[Warning] ..."". This warnings should not be
considered to error, so add check_process for filtering that like
other backup strategies.

Also, change message log level to debug for the right purpose and
change print location not to print None when the output file is empty.

Change-Id: I15c96ba6974bb0660bb2d7dd2f51801066b9d29d
Close-Bug: 1756806
",git fetch https://review.opendev.org/openstack/trove refs/changes/32/554932/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/guestagent/strategies/backup/mysql_impl.py'],1,2068c150a89bae486a6a2214082e97118636e652,revert-removing-redirect-stderr-of-mysqldump-backup," def check_process(self): """"""Check the output from mysqldump ignoring 'Warning:'."""""" LOG.debug('Checking mysqldump process output.') with open('/tmp/mysqldump.log', 'r') as backup_log: output = backup_log.read() if not output: LOG.error(""Mysqldump log file empty."") return False LOG.debug(output) for line in output.splitlines(): if not re.search('Warning', line.strip()): LOG.error(""Mysqldump did not complete successfully."") return False return True LOG.debug(output)", LOG.info(output),19,1
openstack%2Fpuppet-swift~master~I9464a51706a912526ad3a33913ff29de2383c4ff,openstack/puppet-swift,master,I9464a51706a912526ad3a33913ff29de2383c4ff,Support configuring temporary URL key for account,ABANDONED,2018-03-21 11:54:45.000000000,2018-03-21 15:06:54.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 11:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/ec82d8cca6f24de94f63aef44233a8d752261edd', 'message': 'Add puppet provider to run Swift commands\n\nMostly cargo-culted from puppet-nova.\n\nRequired for TripleO blueprint ironic-direct-deploy\n\nChange-Id: I9464a51706a912526ad3a33913ff29de2383c4ff\n'}, {'number': 2, 'created': '2018-03-21 14:03:55.000000000', 'files': ['spec/unit/provider/swift_spec.rb', 'releasenotes/notes/swift-provider-51b04ccdaf513bce.yaml', 'lib/puppet/provider/swift.rb', 'spec/unit/provider/swift_temp_url_key/openstack_spec.rb', 'lib/puppet/type/swift_temp_url_key.rb', 'lib/puppet/provider/swift_temp_url_key/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/8aedec533537bc90eda13b936b41d0be689a5d09', 'message': 'Support configuring temporary URL key for account\n\nFirst, this patch introduces the ""swift"" provider to call swift\ncommands. Second, the new ""swift_temp_url_key"" type can be\nused to make sure the given project account has a temporary URL\nkey configured. The value of the key cannot be set for now.\n\nRequired for TripleO blueprint ironic-direct-deploy\n\nChange-Id: I9464a51706a912526ad3a33913ff29de2383c4ff\n'}]",0,554885,8aedec533537bc90eda13b936b41d0be689a5d09,6,2,2,10239,,,0,"Support configuring temporary URL key for account

First, this patch introduces the ""swift"" provider to call swift
commands. Second, the new ""swift_temp_url_key"" type can be
used to make sure the given project account has a temporary URL
key configured. The value of the key cannot be set for now.

Required for TripleO blueprint ironic-direct-deploy

Change-Id: I9464a51706a912526ad3a33913ff29de2383c4ff
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/85/554885/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/swift_spec.rb', 'releasenotes/notes/swift-provider-51b04ccdaf513bce.yaml', 'lib/puppet/provider/swift.rb']",3,ec82d8cca6f24de94f63aef44233a8d752261edd,bp/ironic-direct-deploy,"# Add openstacklib code to $LOAD_PATH so that we can load this during # standalone compiles without error. File.expand_path('../../../../openstacklib/lib', File.dirname(__FILE__)).tap { |dir| $LOAD_PATH.unshift(dir) unless $LOAD_PATH.include?(dir) } require 'puppet/util/inifile' require 'puppet/provider/openstack' require 'puppet/provider/openstack/auth' require 'puppet/provider/openstack/credentials' class Puppet::Provider::Swift < Puppet::Provider::Openstack extend Puppet::Provider::Openstack::Auth def self.request(service, action, properties=nil) begin super rescue Puppet::Error::OpenstackAuthInputError => error swift_request(service, action, error, properties) end end def self.swift_request(service, action, error, properties=nil) properties ||= [] @credentials.username = swift_credentials['username'] @credentials.password = swift_credentials['password'] @credentials.project_name = swift_credentials['project_name'] @credentials.auth_url = auth_endpoint if @credentials.version == '3' @credentials.user_domain_name = swift_credentials['user_domain_name'] @credentials.project_domain_name = swift_credentials['project_domain_name'] end if swift_credentials['region_name'] @credentials.region_name = swift_credentials['region_name'] end raise error unless @credentials.set? Puppet::Provider::Openstack.request(service, action, properties, @credentials) end def self.swift_user 'swift' end def self.conf_filename # This file has OpenStack credentials '/etc/swift/proxy-server.conf' end def self.swift_conf return @swift_conf if @swift_conf @swift_conf = Puppet::Util::IniConfig::File.new @swift_conf.read(conf_filename) @swift_conf end def self.swift_credentials @swift_credentials ||= get_swift_credentials end def swift_credentials self.class.swift_credentials end def self.get_swift_credentials #needed keys for authentication auth_keys = ['auth_uri', 'project_name', 'username', 'password'] conf = swift_conf if conf and conf['filter:authtoken'] and auth_keys.all?{|k| !conf['filter:authtoken'][k].nil?} creds = Hash[ auth_keys.map \ { |k| [k, conf['filter:authtoken'][k].strip] } ] if !conf['filter:authtoken']['project_domain_name'].nil? creds['project_domain_name'] = conf['filter:authtoken']['project_domain_name'].strip else creds['project_domain_name'] = 'Default' end if !conf['filter:authtoken']['user_domain_name'].nil? creds['user_domain_name'] = conf['filter:authtoken']['user_domain_name'].strip else creds['user_domain_name'] = 'Default' end return creds else raise(Puppet::Error, ""File: #{conf_filename} does not contain all "" + ""required sections. Swift types will not work if swift is not "" + ""correctly configured."") end end def self.get_auth_endpoint q = swift_credentials ""#{q['auth_uri']}"" end def self.auth_endpoint @auth_endpoint ||= get_auth_endpoint end def self.reset @swift_conf = nil @swift_credentials = nil end def self.str2hash(s) #parse string if s.include? ""="" k, v = s.split(""="", 2) return {k.gsub(/'/, """") => v.gsub(/'/, """")} else return s.gsub(/'/, """") end end end ",,209,0
openstack%2Finstack-undercloud~master~Id2332b286dd230702851196c13fdd1f17d13b109,openstack/instack-undercloud,master,Id2332b286dd230702851196c13fdd1f17d13b109,"Generate a temporary URL key for Swift ""service"" project",ABANDONED,2017-12-12 11:40:17.000000000,2018-03-21 15:06:28.000000000,,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-12-12 11:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/082114c3c445c4d87d38c56ade058b38bb3d116d', 'message': 'Generate a temporary URL key for Swift ""service"" project\n\nThis is required for Ironic ""ansible"" and ""direct"" deploy, as well\nas vendors drivers using virtual media (e.g. iLO).\n\nChange-Id: Id2332b286dd230702851196c13fdd1f17d13b109\nImplements: blueprint ansible-deploy\nImplements: blueprint direct-deploy\n'}, {'number': 2, 'created': '2017-12-12 11:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/ab78eeb76437e959f9a6c5407d1619c25c803e9a', 'message': 'Generate a temporary URL key for Swift ""service"" project\n\nThis is required for Ironic ""ansible"" and ""direct"" deploy, as well\nas vendors drivers using virtual media (e.g. iLO).\n\nChange-Id: Id2332b286dd230702851196c13fdd1f17d13b109\nImplements: blueprint ansible-deploy\nImplements: blueprint ironic-direct-deploy\n'}, {'number': 3, 'created': '2017-12-20 14:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/2abc898b1874b6b5fbe5ca9787a10da6732a9b87', 'message': 'Generate a temporary URL key for Swift ""service"" project\n\nThis is required for Ironic ""ansible"" and ""direct"" deploy, as well\nas vendors drivers using virtual media (e.g. iLO).\n\nChange-Id: Id2332b286dd230702851196c13fdd1f17d13b109\nImplements: blueprint ironic-direct-deploy\n'}, {'number': 4, 'created': '2017-12-20 16:15:36.000000000', 'files': ['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/90812c55516a268b89d3896e836d2e2968f0bf1a', 'message': 'Generate a temporary URL key for Swift ""service"" project\n\nThis is required for Ironic ""ansible"" and ""direct"" deploy, as well\nas vendors drivers using virtual media (e.g. iLO).\n\nChange-Id: Id2332b286dd230702851196c13fdd1f17d13b109\nImplements: blueprint ironic-direct-deploy\n'}]",3,527376,90812c55516a268b89d3896e836d2e2968f0bf1a,23,5,4,10239,,,0,"Generate a temporary URL key for Swift ""service"" project

This is required for Ironic ""ansible"" and ""direct"" deploy, as well
as vendors drivers using virtual media (e.g. iLO).

Change-Id: Id2332b286dd230702851196c13fdd1f17d13b109
Implements: blueprint ironic-direct-deploy
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/76/527376/4 && git format-patch -1 --stdout FETCH_HEAD,"['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py']",2,082114c3c445c4d87d38c56ade058b38bb3d116d,bp/ironic-direct-deploy," 'UNDERCLOUD_SWIFT_SERVICE_TEMP_URL_KEY': '42', mock_swift_client.return_value.head_account.return_value = {} mock_swift_client.return_value.post_account.assert_called_once_with( {'x-account-meta-temp-url-key': '42'})",,34,1
openstack%2Fpython-zunclient~master~Ic51e865c628e09447d2f1e1dfde407b0a7eee97e,openstack/python-zunclient,master,Ic51e865c628e09447d2f1e1dfde407b0a7eee97e,Add image delete to zunclient OSC,MERGED,2018-03-14 15:36:26.000000000,2018-03-21 15:03:07.000000000,2018-03-21 15:03:06.000000000,"[{'_account_id': 11536}, {'_account_id': 21690}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23365}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-03-14 15:36:26.000000000', 'files': ['zunclient/osc/v1/images.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/1f95e1e3e4c71d5add653788c86c20f8a772d238', 'message': 'Add image delete to zunclient OSC\n\nChange-Id: Ic51e865c628e09447d2f1e1dfde407b0a7eee97e\n'}]",0,552928,1f95e1e3e4c71d5add653788c86c20f8a772d238,14,6,1,27577,,,0,"Add image delete to zunclient OSC

Change-Id: Ic51e865c628e09447d2f1e1dfde407b0a7eee97e
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/28/552928/1 && git format-patch -1 --stdout FETCH_HEAD,"['zunclient/osc/v1/images.py', 'setup.cfg']",2,1f95e1e3e4c71d5add653788c86c20f8a772d238,osc/image-delete, appcontainer_image_delete = zunclient.osc.v1.images:DeleteImage,,26,0
openstack%2Fironic-tempest-plugin~master~Ie28a1d2122d3ea49fc3d39864e3f149aae4c1190,openstack/ironic-tempest-plugin,master,Ie28a1d2122d3ea49fc3d39864e3f149aae4c1190,Use the main introspection test instead of the smoke one,MERGED,2018-03-15 16:49:54.000000000,2018-03-21 15:00:10.000000000,2018-03-21 15:00:10.000000000,"[{'_account_id': 6637}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 16:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/0aef39ea6258fd218837ff4b4dc7210a52fc05ce', 'message': '[WIP] Use the main introspection test instead of the smoke one\n\nChange-Id: Ie28a1d2122d3ea49fc3d39864e3f149aae4c1190\n'}, {'number': 2, 'created': '2018-03-16 09:51:13.000000000', 'files': ['ironic_tempest_plugin/tests/scenario/test_introspection_basic.py', 'zuul.d/stable-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/9089e567616972846968a04de8784a4090c94b74', 'message': 'Use the main introspection test instead of the smoke one\n\nCurrently we have two introspection tests:\n- Full, running in the regular job. Deploys after introspection.\n- Smoke, running in grenade. Only does introspection.\n\nThis change leaves only the first test and marks at as smoke,\nso that it runs in grenade. This way we get better upgrade testing\ncoverage at the expense of slightly longer grenade run time.\n\nThis change makes it unnecessary to run inspector grenade jobs\non ironic-tempest-plugin, so they are removed.\n\nChange-Id: Ie28a1d2122d3ea49fc3d39864e3f149aae4c1190\n'}]",0,553477,9089e567616972846968a04de8784a4090c94b74,19,4,2,10239,,,0,"Use the main introspection test instead of the smoke one

Currently we have two introspection tests:
- Full, running in the regular job. Deploys after introspection.
- Smoke, running in grenade. Only does introspection.

This change leaves only the first test and marks at as smoke,
so that it runs in grenade. This way we get better upgrade testing
coverage at the expense of slightly longer grenade run time.

This change makes it unnecessary to run inspector grenade jobs
on ironic-tempest-plugin, so they are removed.

Change-Id: Ie28a1d2122d3ea49fc3d39864e3f149aae4c1190
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/77/553477/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/tests/scenario/test_introspection_basic.py'],1,0aef39ea6258fd218837ff4b4dc7210a52fc05ce,inspector-smoke, @decorators.attr(type='smoke')," class InspectorSmokeTest(introspection_manager.InspectorScenarioTest): @decorators.idempotent_id('a702d1f1-88e4-42ce-88ef-cba2d9e3312e') @decorators.attr(type='smoke') @utils.services('object_storage') def test_baremetal_introspection(self): """"""This smoke test case follows this very basic set of operations: * Fetches expected properties from baremetal flavor * Removes all properties from one node * Sets the node to manageable state * Inspects the node * Sets the node to available state """""" # NOTE(dtantsur): we can't silently skip this test because it runs in # grenade with several other tests, and we won't have any indication # that it was not run. assert self.node_ids, ""No available nodes"" node_id = next(iter(self.node_ids)) self.introspect_node(node_id) # settle down introspection self.wait_for_introspection_finished([node_id]) self.wait_provisioning_state( node_id, 'manageable', timeout=CONF.baremetal_introspection.ironic_sync_timeout, interval=self.wait_provisioning_state_interval)",1,30
openstack%2Finstack-undercloud~master~Id329081c06343373309d6880d464ba99aba0c7be,openstack/instack-undercloud,master,Id329081c06343373309d6880d464ba99aba0c7be,Enable TLS by default,MERGED,2018-03-13 07:27:25.000000000,2018-03-21 14:57:47.000000000,2018-03-21 14:57:47.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 4978}, {'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17893}, {'_account_id': 18002}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 27068}, {'_account_id': 27954}]","[{'number': 1, 'created': '2018-03-13 07:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/5d615d4af0fc5133c0736e0b21eb1444cc759094', 'message': 'Enable TLS by default\n\nThis enables TLS by defalut in the undercloud. This is done by setting\nthe generate_service_certificate option to True by default, although,\nthe deployer can turn it off if needed.\n\nChange-Id: Id329081c06343373309d6880d464ba99aba0c7be\n'}, {'number': 2, 'created': '2018-03-13 14:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/56c083984aa227ca9d4565f2f5b3fb6b4eeb9bec', 'message': 'Enable TLS by default\n\nThis enables TLS by defalut in the undercloud. This is done by setting\nthe generate_service_certificate option to True by default, although,\nthe deployer can turn it off if needed.\n\nCloses-Bug: #1755497\nChange-Id: Id329081c06343373309d6880d464ba99aba0c7be\n'}, {'number': 3, 'created': '2018-03-13 14:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/4585f9e68e40f2ee0953f276fb2ef749630ca5c4', 'message': 'Enable TLS by default\n\nThis enables TLS by defalut in the undercloud. This is done by setting\nthe generate_service_certificate option to True by default, although,\nthe deployer can turn it off if needed.\n\nChange-Id: Id329081c06343373309d6880d464ba99aba0c7be\n'}, {'number': 4, 'created': '2018-03-14 05:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/576fd5feee762827b6b2a3d2bf44756e94e8153a', 'message': 'Enable TLS by default\n\nThis enables TLS by defalut in the undercloud. This is done by setting\nthe generate_service_certificate option to True by default, although,\nthe deployer can turn it off if needed.\n\nChange-Id: Id329081c06343373309d6880d464ba99aba0c7be\n'}, {'number': 5, 'created': '2018-03-21 09:33:17.000000000', 'files': ['releasenotes/notes/TLS-by-default-bc12660c12ba7ab1.yaml', 'undercloud.conf.sample', 'instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/41f2694d13386a2c533ca300f109afc2fc2f0595', 'message': 'Enable TLS by default\n\nThis enables TLS by defalut in the undercloud. This is done by setting\nthe generate_service_certificate option to True by default, although,\nthe deployer can turn it off if needed.\n\nChange-Id: Id329081c06343373309d6880d464ba99aba0c7be\n'}]",0,552382,41f2694d13386a2c533ca300f109afc2fc2f0595,40,16,5,10873,,,0,"Enable TLS by default

This enables TLS by defalut in the undercloud. This is done by setting
the generate_service_certificate option to True by default, although,
the deployer can turn it off if needed.

Change-Id: Id329081c06343373309d6880d464ba99aba0c7be
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/82/552382/3 && git format-patch -1 --stdout FETCH_HEAD,"['undercloud.conf.sample', 'instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py']",3,5d615d4af0fc5133c0736e0b21eb1444cc759094,public-tls-default," f.write('OS_AUTH_URL=https://bletchley:5000/\n') self.assertEqual('https://bletchley:5000/', self.assertEqual('https://192.168.24.2:13000', self.assertEqual('http://192.168.24.3:5000', self.assertEqual('http://192.168.24.3:35357', self.assertEqual('https://192.168.24.2:13808/v1/AUTH_%(tenant_id)s', def test_generate_endpoints_ssl_off(self): self.conf.config(generate_service_certificate=False) self.assertEqual('http://192.168.24.1:5000', self.assertEqual('http://192.168.24.1:5000', self.assertEqual('http://192.168.24.1:35357', self.assertEqual('http://192.168.24.1:8080/v1/AUTH_%(tenant_id)s', self.assertEqual('/etc/pki/tls/certs/undercloud-192.168.24.2.pem', env['UNDERCLOUD_SERVICE_CERTIFICATE']) def test_no_ssl(self): self.conf.config(generate_service_certificate=False) env = undercloud._generate_environment('.')"," f.write('OS_AUTH_URL=http://bletchley:5000/\n') self.assertEqual('http://bletchley:5000/', self.assertEqual('http://192.168.24.1:5000', self.assertEqual('http://192.168.24.1:5000', self.assertEqual('http://192.168.24.1:35357', self.assertEqual('http://192.168.24.1:8080/v1/AUTH_%(tenant_id)s', def test_generate_endpoints_ssl_auto(self): self.conf.config(generate_service_certificate=True) self.assertEqual('https://192.168.24.2:13000', self.assertEqual('http://192.168.24.3:5000', self.assertEqual('http://192.168.24.3:35357', self.assertEqual('https://192.168.24.2:13808/v1/AUTH_%(tenant_id)s',",20,14
openstack%2Fopenstack-ansible-os_swift~stable%2Fqueens~Ib54defcdabcd6ea577acd3759ff0780111c2c363,openstack/openstack-ansible-os_swift,stable/queens,Ib54defcdabcd6ea577acd3759ff0780111c2c363,Switch pypy functional test to experimental,MERGED,2018-03-16 10:01:49.000000000,2018-03-21 14:54:39.000000000,2018-03-21 14:54:39.000000000,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 10:01:49.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/8f2693552648736353ad00f745905e4ec86bdc7d', 'message': 'Switch pypy functional test to experimental\n\nThe pypy test has never worked. Running in non-voting\njust wastes time and resources.\n\nChange-Id: Ib54defcdabcd6ea577acd3759ff0780111c2c363\n(cherry picked from commit 6af035cfbc456e59e8e1a5e709f1e77acf8d4235)\n'}]",0,553737,8f2693552648736353ad00f745905e4ec86bdc7d,7,3,1,6816,,,0,"Switch pypy functional test to experimental

The pypy test has never worked. Running in non-voting
just wastes time and resources.

Change-Id: Ib54defcdabcd6ea577acd3759ff0780111c2c363
(cherry picked from commit 6af035cfbc456e59e8e1a5e709f1e77acf8d4235)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/37/553737/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8f2693552648736353ad00f745905e4ec86bdc7d,, - openstack-ansible-pypy-ubuntu-xenial-nv, - openstack-ansible-pypy-ubuntu-xenial-nv,1,1
openstack%2Fopenstack-ansible-lxc_hosts~master~I8ddc9931cbca5db8c1a411fd2581b34763179d01,openstack/openstack-ansible-lxc_hosts,master,I8ddc9931cbca5db8c1a411fd2581b34763179d01,tasks: Ensure machinectl quota value is reasonable,MERGED,2018-03-14 09:03:08.000000000,2018-03-21 14:49:31.000000000,2018-03-21 14:34:46.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-03-14 09:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/275a0c2cbc1f67b9246f5639ee035ca1da9fae6b', 'message': 'tasks: Ensure machinectl quota value is reasonable\n\nIt appears that when setting a limit which is greater than the size\nof the underlying filesystem, machinectl does not change the quota at\nall. This can lead to surprises in deployment, so make sure that we do\nour best to fix the situation by simply setting the quota to 100% of\nthe disk size and warn the deployer about that.\n\nChange-Id: I8ddc9931cbca5db8c1a411fd2581b34763179d01\n'}, {'number': 2, 'created': '2018-03-15 16:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/aaa4625af3073a37b55b6c0d8e84d2e2697f3f24', 'message': 'tasks: Ensure machinectl quota value is reasonable\n\nIt appears that when setting a limit which is greater than the size\nof the underlying filesystem, machinectl does not change the quota at\nall. As such, lets calculate the limit based on the /var/lib/machines\nmountpoint or any of its parents.\n\nChange-Id: I8ddc9931cbca5db8c1a411fd2581b34763179d01\n'}, {'number': 3, 'created': '2018-03-16 14:55:09.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/345b501464880ecbb5d122d7715277cf1d0506c5', 'message': 'tasks: Ensure machinectl quota value is reasonable\n\nIt appears that when setting a limit which is greater than the size\nof the underlying filesystem, machinectl does not change the quota at\nall. As such, lets calculate the limit based on the /var/lib/machines\nmountpoint or any of its parents.\n\nChange-Id: I8ddc9931cbca5db8c1a411fd2581b34763179d01\n'}]",1,552842,345b501464880ecbb5d122d7715277cf1d0506c5,23,4,3,23163,,,0,"tasks: Ensure machinectl quota value is reasonable

It appears that when setting a limit which is greater than the size
of the underlying filesystem, machinectl does not change the quota at
all. As such, lets calculate the limit based on the /var/lib/machines
mountpoint or any of its parents.

Change-Id: I8ddc9931cbca5db8c1a411fd2581b34763179d01
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/42/552842/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_cache_preparation_systemd_new.yml'],1,275a0c2cbc1f67b9246f5639ee035ca1da9fae6b,ensure-proper-machinectl-quota,"- name: Ensure machinectl quota value is sane shell: df --output=size -BG /var/lib/machines | tail -n 1 | tr -d ' ' args: executable: /bin/bash changed_when: false register: _var_lib_machines_size - name: Override quota value for machinectl if needed set_fact: lxc_volume_size: ""{{ _var_lib_machines_size.stdout }}"" when: lxc_host_machine_volume_size > _var_lib_machines_size.stdout - name: Warn deployer about quota override debug: msg: ""machinectl quota was changed to '{{ lxc_volume_size }}' since the requested value exceeds the size of the underlying disk"" verbosity: 1 when: lxc_volume_size is defined shell: machinectl set-limit {{ lxc_volume_size | default(lxc_host_machine_volume_size) | regex_replace('\D*$', '') }}G"," shell: machinectl set-limit {{ lxc_host_machine_volume_size | regex_replace('\D*$', '') }}G",19,1
openstack%2Fnova~stable%2Fpike~I8b1c05317734e14ea73dc868941351bb31210bf0,openstack/nova,stable/pike,I8b1c05317734e14ea73dc868941351bb31210bf0,Detach volumes when VM creation fails,MERGED,2018-02-14 01:11:52.000000000,2018-03-21 14:48:43.000000000,2018-03-21 14:48:43.000000000,"[{'_account_id': 6873}, {'_account_id': 8213}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 12813}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25562}, {'_account_id': 26515}, {'_account_id': 26580}, {'_account_id': 27277}]","[{'number': 1, 'created': '2018-02-14 01:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6bb6280da8d6d90eea5f8d7b20511a0a20f6280', 'message': 'detach instance volumes when VM creation fails\n\nbug description:\nIf the boot-volume creation fails, the data volume is left in state\n""in-use"", ttached to the server which is now in ""error"" state"".\nThe user can\'t detach the volume because of the server\'s error state.\n\nThey can delete the server,which then leaves the volume apparently\nattached to a server that no longer exists.\n""Mel\'s patch resolves this failure\n https://review.openstack.org/#/c/340614/ ""\n\nThe only way out of this is to ask an administrator to reset the state of\nthe data volume (this option is not available to regular users by\ndefault policy).\n\nhow the fix resolves the issue:\nWhen the creation fails, compute manager detach the created volumes\nthen put the VM in error state.\nso you can delete the instance without care about attached volumes.\n\nMel\'s patach resolves any other issues will happen while instance\nis running.\n\nChange-Id: I8b1c05317734e14ea73dc868941351bb31210bf0\nCloses-bug: #1633249\n'}, {'number': 2, 'created': '2018-02-15 18:30:49.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4dbe72f976a67d442fd0e0489cadc3bc605ed012', 'message': 'Detach volumes when VM creation fails\n\nIf the boot-volume creation fails, the data volume is left in state\n""in-use"", attached to the server which is now in ""error"" state.\nThe user can\'t detach the volume because of the server\'s error state.\n\nThey can delete the server, which then leaves the volume apparently\nattached to a server that no longer exists, which is being fixed\nseparately: https://review.openstack.org/#/c/340614/\n\nThe only way out of this is to ask an administrator to reset the state of\nthe data volume (this option is not available to regular users by\ndefault policy).\n\nThis change fixes the problem in the compute service such that\nwhen the creation fails, compute manager detaches the created volumes\nbefore putting the VM into error state. Then you can delete the instance\nwithout care about attached volumes.\n\nChange-Id: I8b1c05317734e14ea73dc868941351bb31210bf0\nCloses-bug: #1633249\n(cherry picked from commit 61f6751a1807d3c3ee76d0351d17a82c6e1a915a)\n(cherry picked from commit 22164d5118ea04321432432d89877aae91097e81)\n'}]",0,544143,4dbe72f976a67d442fd0e0489cadc3bc605ed012,67,15,2,12813,,,0,"Detach volumes when VM creation fails

If the boot-volume creation fails, the data volume is left in state
""in-use"", attached to the server which is now in ""error"" state.
The user can't detach the volume because of the server's error state.

They can delete the server, which then leaves the volume apparently
attached to a server that no longer exists, which is being fixed
separately: https://review.openstack.org/#/c/340614/

The only way out of this is to ask an administrator to reset the state of
the data volume (this option is not available to regular users by
default policy).

This change fixes the problem in the compute service such that
when the creation fails, compute manager detaches the created volumes
before putting the VM into error state. Then you can delete the instance
without care about attached volumes.

Change-Id: I8b1c05317734e14ea73dc868941351bb31210bf0
Closes-bug: #1633249
(cherry picked from commit 61f6751a1807d3c3ee76d0351d17a82c6e1a915a)
(cherry picked from commit 22164d5118ea04321432432d89877aae91097e81)
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/544143/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",3,b6bb6280da8d6d90eea5f8d7b20511a0a20f6280,bug/1633249," self._cleanup_volumes(context, instance, self._cleanup_volumes(context, instance, self._cleanup_volumes(context, instance, def _cleanup_volumes(self, context, instance, bdms, raise_exc=True, detach=True): for bdm in bdms: if detach and bdm.volume_id: try: destroy = bdm.delete_on_termination self._detach_volume(context, bdm, instance, destroy_bdm=destroy) except Exception as exc: exc_info = sys.exc_info() LOG.warning('Failed to detach volume: %(volume_id)s ' 'due to %(exc)s', {'volume_id': bdm.volume_id, 'exc': exc}) instance_uuid=instance.uuid) # NOTE(ameeda): The volumes already detached during the above # _shutdown_instance() call and this is why # detach is not requested from _cleanup_volumes() # in this case self._cleanup_volumes(context, instance, bdms, raise_exc=False, detach=False) self._cleanup_volumes(context, instance, bdms)"," self._cleanup_volumes(context, instance.uuid, self._cleanup_volumes(context, instance.uuid, self._cleanup_volumes(context, instance.uuid, def _cleanup_volumes(self, context, instance_uuid, bdms, raise_exc=True): for bdm in bdms: instance_uuid=instance_uuid) self._cleanup_volumes(context, instance.uuid, bdms, raise_exc=False) self._cleanup_volumes(context, instance.uuid, bdms)",57,20
openstack%2Fswift~feature%2Fdeep~I031e3e9079ca72f5361df72930cc8e69ee189964,openstack/swift,feature/deep,I031e3e9079ca72f5361df72930cc8e69ee189964,Minor fix to manage_shard_ranges.py,MERGED,2018-03-21 10:49:01.000000000,2018-03-21 14:48:32.000000000,2018-03-21 14:48:32.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 10:49:01.000000000', 'files': ['swift/cli/manage_shard_ranges.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a376e4896e2c19782ac0535dd9fd8416d5972c44', 'message': 'Minor fix to manage_shard_ranges.py\n\nChange-Id: I031e3e9079ca72f5361df72930cc8e69ee189964\n'}]",0,554873,a376e4896e2c19782ac0535dd9fd8416d5972c44,6,2,1,7847,,,0,"Minor fix to manage_shard_ranges.py

Change-Id: I031e3e9079ca72f5361df72930cc8e69ee189964
",git fetch https://review.opendev.org/openstack/swift refs/changes/73/554873/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/cli/manage_shard_ranges.py'],1,a376e4896e2c19782ac0535dd9fd8416d5972c44,, enable_parser = subparsers.add_parser( enable_parser.set_defaults(func=enable_sharding), info_parser = subparsers.add_parser( info_parser.set_defaults(func=enable_sharding),2,2
openstack%2Fnova~stable%2Fqueens~I7fde8ce9dea16679e76b0cb2db1427aeeec0c222,openstack/nova,stable/queens,I7fde8ce9dea16679e76b0cb2db1427aeeec0c222,Only attempt a rebuild claim for an evacuation to a new host,MERGED,2018-03-07 17:38:16.000000000,2018-03-21 14:47:47.000000000,2018-03-21 14:47:47.000000000,"[{'_account_id': 8213}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 27802}]","[{'number': 1, 'created': '2018-03-07 17:38:16.000000000', 'files': ['nova/compute/manager.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3c5e519a8875a9766a0d3a06cb76cceba26634e6', 'message': ""Only attempt a rebuild claim for an evacuation to a new host\n\nChange I11746d1ea996a0f18b7c54b4c9c21df58cc4714b changed the\nbehavior of the API and conductor when rebuilding an instance\nwith a new image such that the image is run through the scheduler\nfilters again to see if it will work on the existing host that\nthe instance is running on.\n\nAs a result, conductor started passing 'scheduled_node' to the\ncompute which was using it for logic to tell if a claim should be\nattempted. We don't need to do a claim for a rebuild since we're\non the same host.\n\nThis removes the scheduled_node logic from the claim code, as we\nshould only ever attempt a claim if we're evacuating, which we\ncan determine based on the 'recreate' parameter.\n\nChange-Id: I7fde8ce9dea16679e76b0cb2db1427aeeec0c222\nCloses-Bug: #1750618\n(cherry picked from commit a39029076c7997236a7f999682fb1e998c474204)\n""}]",0,550545,3c5e519a8875a9766a0d3a06cb76cceba26634e6,13,9,1,6873,,,0,"Only attempt a rebuild claim for an evacuation to a new host

Change I11746d1ea996a0f18b7c54b4c9c21df58cc4714b changed the
behavior of the API and conductor when rebuilding an instance
with a new image such that the image is run through the scheduler
filters again to see if it will work on the existing host that
the instance is running on.

As a result, conductor started passing 'scheduled_node' to the
compute which was using it for logic to tell if a claim should be
attempted. We don't need to do a claim for a rebuild since we're
on the same host.

This removes the scheduled_node logic from the claim code, as we
should only ever attempt a claim if we're evacuating, which we
can determine based on the 'recreate' parameter.

Change-Id: I7fde8ce9dea16679e76b0cb2db1427aeeec0c222
Closes-Bug: #1750618
(cherry picked from commit a39029076c7997236a7f999682fb1e998c474204)
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/550545/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/functional/test_servers.py']",2,3c5e519a8875a9766a0d3a06cb76cceba26634e6,bug/1750618," # A rebuild to the same host should never attempt a rebuild claim. @mock.patch('nova.compute.resource_tracker.ResourceTracker.rebuild_claim', new_callable=mock.NonCallableMock) def test_rebuild_with_new_image(self, mock_rebuild_claim):", def test_rebuild_with_new_image(self):,9,15
openstack%2Fneutron~stable%2Fpike~Ie056578abbe6e18c8415c6e61d755f2248a70541,openstack/neutron,stable/pike,Ie056578abbe6e18c8415c6e61d755f2248a70541,[Fullstack] Respawn dhclient process in case of error,MERGED,2018-02-23 11:36:33.000000000,2018-03-21 14:47:11.000000000,2018-03-21 14:47:11.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 10267}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 11:36:33.000000000', 'files': ['neutron/tests/fullstack/resources/machine.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/82167ddca384e54b743446f02392b25c1d1084b0', 'message': '[Fullstack] Respawn dhclient process in case of error\n\nWhen dhclient process is started as async process by fake machine resource,\nit might happen that ""None"" will be returned as first line of output\nfrom this process. This is treated as an error and dhclient is halted\nimmediately.\nBecause of that fake machine don\'t have configured IP address and\ntest fails.\n\nThis patch adds ""respawn_timeout"" value set to 5 seconds for dhclient\nasync process. When dhclient process is restarted it should works fine\nand IP address should be then configured properly.\n\nChange-Id: Ie056578abbe6e18c8415c6e61d755f2248a70541\nCloses-Bug: #1728948\n(cherry picked from commit 92959238a3e408e810ccd4f3d3d453a35afb5bba)\n'}]",0,547387,82167ddca384e54b743446f02392b25c1d1084b0,26,8,1,23804,,,0,"[Fullstack] Respawn dhclient process in case of error

When dhclient process is started as async process by fake machine resource,
it might happen that ""None"" will be returned as first line of output
from this process. This is treated as an error and dhclient is halted
immediately.
Because of that fake machine don't have configured IP address and
test fails.

This patch adds ""respawn_timeout"" value set to 5 seconds for dhclient
async process. When dhclient process is restarted it should works fine
and IP address should be then configured properly.

Change-Id: Ie056578abbe6e18c8415c6e61d755f2248a70541
Closes-Bug: #1728948
(cherry picked from commit 92959238a3e408e810ccd4f3d3d453a35afb5bba)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/547387/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/resources/machine.py'],1,82167ddca384e54b743446f02392b25c1d1084b0,bug/1728948," cmd, run_as_root=True, respawn_interval=5, namespace=self.namespace)"," cmd, run_as_root=True, namespace=self.namespace)",2,1
openstack%2Fapi-sig~master~Ifb86989f37425513f75558b2e15ab12460a7cc61,openstack/api-sig,master,Ifb86989f37425513f75558b2e15ab12460a7cc61,Correct header on time based filtering,MERGED,2018-03-21 14:30:16.000000000,2018-03-21 14:43:20.000000000,2018-03-21 14:43:20.000000000,"[{'_account_id': 1063}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 14:30:16.000000000', 'files': ['guidelines/pagination_filter_sort.rst'], 'web_link': 'https://opendev.org/openstack/api-sig/commit/dffcfe99f3ceb374dba1aa07e3c9454c4f9782d3', 'message': ""Correct header on time based filtering\n\nSomething must have changed somewhere in the docs jobs\nwhich made an error show up in the gate where the header\nin question had the wrong nesting.\n\nInterestingly, this had apparently impacted the publishing\njob, making it so the published page hasn't had the new\ncontent. For months:\n\nhttp://specs.openstack.org/openstack/api-wg/guidelines/pagination_filter_sort.html#filtering\n\nChange-Id: Ifb86989f37425513f75558b2e15ab12460a7cc61\n""}]",0,554935,dffcfe99f3ceb374dba1aa07e3c9454c4f9782d3,6,2,1,11564,,,0,"Correct header on time based filtering

Something must have changed somewhere in the docs jobs
which made an error show up in the gate where the header
in question had the wrong nesting.

Interestingly, this had apparently impacted the publishing
job, making it so the published page hasn't had the new
content. For months:

http://specs.openstack.org/openstack/api-wg/guidelines/pagination_filter_sort.html#filtering

Change-Id: Ifb86989f37425513f75558b2e15ab12460a7cc61
",git fetch https://review.opendev.org/openstack/api-sig refs/changes/35/554935/1 && git format-patch -1 --stdout FETCH_HEAD,['guidelines/pagination_filter_sort.rst'],1,dffcfe99f3ceb374dba1aa07e3c9454c4f9782d3,cd/docs-tox-fixup,~~~~~~~~~~~~~~~~~~~~~~~~~~~~,^^^^^^^^^^^^^^^^^^^^^^^^^^^^,1,1
openstack%2Fmonasca-agent~master~I1398a674b22647214c0f851b6def8404c3163e0e,openstack/monasca-agent,master,I1398a674b22647214c0f851b6def8404c3163e0e,Manual updated from global requirements,MERGED,2018-03-14 06:01:28.000000000,2018-03-21 14:36:16.000000000,2018-03-21 14:36:16.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-14 06:01:28.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/2662ebb399df24f5efb3c787a1e703678a587533', 'message': 'Manual updated from global requirements\n\nChange-Id: I1398a674b22647214c0f851b6def8404c3163e0e\nSigned-off-by: Amir Mofakhar <amofakhar@op5.com>\n'}]",0,552782,2662ebb399df24f5efb3c787a1e703678a587533,6,2,1,26733,,,0,"Manual updated from global requirements

Change-Id: I1398a674b22647214c0f851b6def8404c3163e0e
Signed-off-by: Amir Mofakhar <amofakhar@op5.com>
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/82/552782/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,2662ebb399df24f5efb3c787a1e703678a587533,openstack/requirements,oslo.config>=5.2.0 # Apache-2.0,oslo.config>=5.1.0 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-openstack_hosts~master~Ied4875d4fc6754bb262496e69b231b192166b23c,openstack/openstack-ansible-openstack_hosts,master,Ied4875d4fc6754bb262496e69b231b192166b23c,Fix error when /etc/hosts does not exist,MERGED,2018-03-15 15:17:49.000000000,2018-03-21 14:33:25.000000000,2018-03-21 14:33:25.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 15:17:49.000000000', 'files': ['tasks/openstack_update_hosts_file.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/d5d516ee7c214d09ff5c2ba3eaa2ac92728b4688', 'message': 'Fix error when /etc/hosts does not exist\n\nEven though this might seem very rare/unusual/non-acceptable\nthere are cases where the /etc/hosts file does not exist\n(or has been moved temporarily). This fix prevents error\nfrom being raised. This furthermore ensure idem-potency\nas without the fix, using the role after failure just\nworks because /etc/hosts has now been created.\n\nChange-Id: Ied4875d4fc6754bb262496e69b231b192166b23c\n'}]",0,553432,d5d516ee7c214d09ff5c2ba3eaa2ac92728b4688,8,4,1,19578,,,0,"Fix error when /etc/hosts does not exist

Even though this might seem very rare/unusual/non-acceptable
there are cases where the /etc/hosts file does not exist
(or has been moved temporarily). This fix prevents error
from being raised. This furthermore ensure idem-potency
as without the fix, using the role after failure just
works because /etc/hosts has now been created.

Change-Id: Ied4875d4fc6754bb262496e69b231b192166b23c
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/32/553432/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_update_hosts_file.yml'],1,d5d516ee7c214d09ff5c2ba3eaa2ac92728b4688,fix-non-existing-etc-hosts-error, changed_when: not stat_hosts.stat.exists or stat_hosts.stat.checksum | string != update_hosts.stdout | string, changed_when: stat_hosts.stat.checksum | string != update_hosts.stdout | string,1,1
openstack%2Fos-service-types~master~I61e1dcfbeecede7fa49f43eb9e45efeed78551ab,openstack/os-service-types,master,I61e1dcfbeecede7fa49f43eb9e45efeed78551ab,Updated from OpenStack Service Type Authority,MERGED,2018-03-21 13:06:20.000000000,2018-03-21 14:29:14.000000000,2018-03-21 14:29:14.000000000,"[{'_account_id': 2}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 13:06:20.000000000', 'files': ['os_service_types/data/service-types.json'], 'web_link': 'https://opendev.org/openstack/os-service-types/commit/12975c954869e9df002fa10515c0db0d0857650e', 'message': 'Updated from OpenStack Service Type Authority\n\nChange-Id: I61e1dcfbeecede7fa49f43eb9e45efeed78551ab\n'}]",0,554910,12975c954869e9df002fa10515c0db0d0857650e,7,3,1,11131,,,0,"Updated from OpenStack Service Type Authority

Change-Id: I61e1dcfbeecede7fa49f43eb9e45efeed78551ab
",git fetch https://review.opendev.org/openstack/os-service-types refs/changes/10/554910/1 && git format-patch -1 --stdout FETCH_HEAD,['os_service_types/data/service-types.json'],1,12975c954869e9df002fa10515c0db0d0857650e,openstack/os-service-types/sync-service-types-authority," ""function-engine"": [ ""function-engine"" ], ""qinling"": { ""api_reference"": ""https://developer.openstack.org/api-ref/function-engine/"", ""project"": ""qinling"", ""service_type"": ""function-engine"" }, ""qinling"": [ ""function-engine"" ], }, { ""api_reference"": ""https://developer.openstack.org/api-ref/function-engine/"", ""project"": ""qinling"", ""service_type"": ""function-engine"" ""sha"": ""5b97acc64ffda1d67232e930a4aa4a5350758831"", ""version"": ""2018-03-21T12:56:54.053693"""," ""sha"": ""6c2697de1636dc2dfc5a7ee64d29e8185fcb784f"", ""version"": ""2018-02-14T15:26:17.931502""",18,2
openstack%2Fos-service-types~master~I4b8b1154ca23d7df69425e0cead8aeeca23bb015,openstack/os-service-types,master,I4b8b1154ca23d7df69425e0cead8aeeca23bb015,Updated from global requirements,MERGED,2018-03-10 13:40:40.000000000,2018-03-21 14:29:13.000000000,2018-03-21 14:29:12.000000000,"[{'_account_id': 2}, {'_account_id': 2472}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-10 13:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-service-types/commit/d518b2ab1dcf30fd03448470277da902960f7b97', 'message': 'Updated from global requirements\n\nChange-Id: I4b8b1154ca23d7df69425e0cead8aeeca23bb015\n'}, {'number': 2, 'created': '2018-03-15 07:44:54.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-service-types/commit/6f154befeac54d403f30c970869f8d5a0b7f33db', 'message': 'Updated from global requirements\n\nChange-Id: I4b8b1154ca23d7df69425e0cead8aeeca23bb015\n'}]",0,551598,6f154befeac54d403f30c970869f8d5a0b7f33db,12,4,2,11131,,,0,"Updated from global requirements

Change-Id: I4b8b1154ca23d7df69425e0cead8aeeca23bb015
",git fetch https://review.opendev.org/openstack/os-service-types refs/changes/98/551598/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d518b2ab1dcf30fd03448470277da902960f7b97,openstack/requirements,"sphinx!=1.6.6,<1.7.0,>=1.6.2 # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",1,1
openstack%2Fpython-neutronclient~master~Ic10e23d2be3ab1796c02619540fbf09cfad9a9fb,openstack/python-neutronclient,master,Ic10e23d2be3ab1796c02619540fbf09cfad9a9fb,Update links in README,ABANDONED,2018-03-02 10:20:14.000000000,2018-03-21 14:27:50.000000000,,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-02 10:20:14.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/d6aba25dfcd76f62f2ecb20b20151492d02d1a3b', 'message': 'Update links in README\n\nChange the outdated links to the latest links in README\n\nChange-Id: Ic10e23d2be3ab1796c02619540fbf09cfad9a9fb\n'}]",1,549161,d6aba25dfcd76f62f2ecb20b20151492d02d1a3b,6,4,1,17130,,,0,"Update links in README

Change the outdated links to the latest links in README

Change-Id: Ic10e23d2be3ab1796c02619540fbf09cfad9a9fb
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/61/549161/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,d6aba25dfcd76f62f2ecb20b20151492d02d1a3b,readme,.. image:: https://governance.openstack.org/tc/badges/python-neutronclient.svg :target: https://governance.openstack.org/tc/reference/tags/index.html,.. image:: http://governance.openstack.org/badges/python-neutronclient.svg :target: http://governance.openstack.org/reference/tags/index.html,2,2
openstack%2Fpython-manilaclient~master~I65e908e6a180703b179391e3d01c984f32f29a38,openstack/python-manilaclient,master,I65e908e6a180703b179391e3d01c984f32f29a38,Updated from global requirements,MERGED,2018-03-04 10:25:58.000000000,2018-03-21 14:23:54.000000000,2018-03-21 14:23:54.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-04 10:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/0d0cd7a2c7d88d4c8692a6b23f1064df70cf798a', 'message': 'Updated from global requirements\n\nChange-Id: I65e908e6a180703b179391e3d01c984f32f29a38\n'}, {'number': 2, 'created': '2018-03-10 13:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9a2050ea1355a04f342efd5b26618bfe0cd7e363', 'message': 'Updated from global requirements\n\nChange-Id: I65e908e6a180703b179391e3d01c984f32f29a38\n'}, {'number': 3, 'created': '2018-03-13 07:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b960945867a75eefae67cd204ebf1f48ad91232f', 'message': 'Updated from global requirements\n\nChange-Id: I65e908e6a180703b179391e3d01c984f32f29a38\n'}, {'number': 4, 'created': '2018-03-14 06:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/34f4652557538566f29b98e5cc2499e7e8d867be', 'message': 'Updated from global requirements\n\nChange-Id: I65e908e6a180703b179391e3d01c984f32f29a38\n'}, {'number': 5, 'created': '2018-03-15 07:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d3aee8706c9e7b8bf4de142896aa484ec3c088c6', 'message': 'Updated from global requirements\n\nChange-Id: I65e908e6a180703b179391e3d01c984f32f29a38\n'}, {'number': 6, 'created': '2018-03-21 04:46:32.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d14ab17a77daff6e7899bf249c2bec6236b87abf', 'message': 'Updated from global requirements\n\nChange-Id: I65e908e6a180703b179391e3d01c984f32f29a38\n'}]",0,549566,d14ab17a77daff6e7899bf249c2bec6236b87abf,20,3,6,11131,,,0,"Updated from global requirements

Change-Id: I65e908e6a180703b179391e3d01c984f32f29a38
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/66/549566/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,0d0cd7a2c7d88d4c8692a6b23f1064df70cf798a,openstack/requirements,ipaddress>=1.0.17;python_version<'3.3' # PSF,ipaddress>=1.0.16;python_version<'3.3' # PSF,1,1
openstack%2Fswift~feature%2Fdeep~Icdc82379199364f0d10529d4f7c05437d1569d48,openstack/swift,feature/deep,Icdc82379199364f0d10529d4f7c05437d1569d48,Root leader decides when shard containers shard,MERGED,2018-03-12 18:54:25.000000000,2018-03-21 14:20:43.000000000,2018-03-21 14:20:43.000000000,"[{'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-12 18:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7f8c5c53dbbe50fce5c57f1fa1c6e8ec1ec65f42', 'message': 'Root leader decides when shard containers shard\n\nThe root leader already decides when shard containers should\nshrink. Now it also decides when they should shard. This avoids\nobvious potential for a root and a shard to make independent\nconflicting decisions.\n\nOn each sharder cycle the root leader looks for candidates to shard,\nsets their shard range state to SHARDING and propagates the state\nchange to those shard containers.\n\nChange-Id: Icdc82379199364f0d10529d4f7c05437d1569d48\n'}, {'number': 2, 'created': '2018-03-13 19:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0f6dc6ad87a83c3b8ffaf7af1cb903387f0e3ae1', 'message': 'Root leader decides when shard containers shard\n\nThe root leader already decides when shard containers should\nshrink. Now it also decides when they should shard. This avoids\nobvious potential for a root and a shard to make independent\nconflicting decisions.\n\nOn each sharder cycle the root leader looks for candidates to shard,\nsets their shard range state to SHARDING and propagates the state\nchange to those shard containers.\n\nChange-Id: Icdc82379199364f0d10529d4f7c05437d1569d48\n'}, {'number': 3, 'created': '2018-03-19 14:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/83b011cda3dbb3b18bde54f0281bf9a088b3cf20', 'message': 'Root leader decides when shard containers shard\n\nThe root leader already decides when shard containers should\nshrink. Now it also decides when they should shard. This avoids\nobvious potential for a root and a shard to make independent\nconflicting decisions.\n\nOn each sharder cycle the root leader looks for candidates to shard,\nsets their shard range state to SHARDING and propagates the state\nchange to those shard containers.\n\nChange-Id: Icdc82379199364f0d10529d4f7c05437d1569d48\n'}, {'number': 4, 'created': '2018-03-19 15:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4946f58903347c46703520be5d611a3cdbcce702', 'message': 'Root leader decides when shard containers shard\n\nThe root leader already decides when shard containers should\nshrink. Now it also decides when they should shard. This avoids\nobvious potential for a root and a shard to make independent\nconflicting decisions.\n\nOn each sharder cycle the root leader looks for candidates to shard,\nsets their shard range state to SHARDING and propagates the state\nchange to those shard containers.\n\nChange-Id: Icdc82379199364f0d10529d4f7c05437d1569d48\n'}, {'number': 5, 'created': '2018-03-20 10:14:30.000000000', 'files': ['swift/container/server.py', 'test/probe/test_sharder.py', 'test/unit/container/test_server.py', 'swift/container/sharder.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0c9b3735d4becf57a2d724528a80550589c2e669', 'message': 'Root leader decides when shard containers shard\n\nThe root leader already decides when shard containers should\nshrink. Now it also decides when they should shard. This avoids\nobvious potential for a root and a shard to make independent\nconflicting decisions.\n\nOn each sharder cycle the root leader looks for candidates to shard,\nsets their shard range state to SHARDING and propagates the state\nchange to those shard containers.\n\nChange-Id: Icdc82379199364f0d10529d4f7c05437d1569d48\n'}]",11,552120,0c9b3735d4becf57a2d724528a80550589c2e669,24,4,5,7847,,,0,"Root leader decides when shard containers shard

The root leader already decides when shard containers should
shrink. Now it also decides when they should shard. This avoids
obvious potential for a root and a shard to make independent
conflicting decisions.

On each sharder cycle the root leader looks for candidates to shard,
sets their shard range state to SHARDING and propagates the state
change to those shard containers.

Change-Id: Icdc82379199364f0d10529d4f7c05437d1569d48
",git fetch https://review.opendev.org/openstack/swift refs/changes/20/552120/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/container/server.py', 'test/probe/test_sharder.py', 'test/unit/container/test_server.py', 'swift/container/sharder.py', 'swift/container/backend.py']",5,7f8c5c53dbbe50fce5c57f1fa1c6e8ec1ec65f42,p-sharding-dev," states = [ShardRange.ACTIVE, ShardRange.SHARDING, ShardRange.SHRINKING,"," states = [ShardRange.ACTIVE, ShardRange.SHRINKING,",84,34
openstack%2Fopenstack-ansible~master~Id0c4a4bb4c01757da671a495613141ad738573dd,openstack/openstack-ansible,master,Id0c4a4bb4c01757da671a495613141ad738573dd,Integrate Congress with OSA.,MERGED,2017-09-14 06:22:48.000000000,2018-03-21 14:16:56.000000000,2018-03-21 14:16:55.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 15362}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}, {'_account_id': 26790}]","[{'number': 1, 'created': '2017-09-14 06:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1198f3a2cd5a0eaeefd1108e6b95fcf09b4ca0ba', 'message': '(WIP) Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 2, 'created': '2017-09-14 11:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fa9346f3714c0f20f6afcf042794379f67c9ff5c', 'message': '(WIP) Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 3, 'created': '2017-10-03 14:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5e961c07d2193eb469d17492b9028d66cdc5755d', 'message': '(WIP) Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 4, 'created': '2017-10-06 11:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ca91376f805a700b265b268f57b5beb51e53340c', 'message': '(WIP) Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 5, 'created': '2017-10-09 13:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6d1f5b14a1326cd8285a125be680fd156f260b46', 'message': '(WIP) Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 6, 'created': '2017-10-19 11:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6a8a27ef0429356a6573976c4846c684e0afae37', 'message': '(WIP) Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 7, 'created': '2017-10-20 09:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0bc65031e26d7c4da5ab71a69f5a7854947fa6ef', 'message': '(WIP) Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 8, 'created': '2017-10-20 11:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3f6e58469f61bab5fc8f7e067e48bd648525fb25', 'message': '(WIP) Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 9, 'created': '2017-10-20 11:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/768ec6b3aadf897710713bf4d8cbdc48a527bc85', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 10, 'created': '2017-10-22 17:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ff74e0f4a3b61bd561e0241ca84305d8abaa9af1', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 11, 'created': '2017-10-23 11:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/126804ea44f1fb2e536c8e88d15158b1ddc71630', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 12, 'created': '2017-10-24 14:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3482ddc01797f7f993122cfc4820e0ae0ef33a58', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 13, 'created': '2017-10-25 08:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/277d991c211f8dc8267bc032543134908dc3d1f2', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 14, 'created': '2017-10-25 12:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/841b970300fe01fdf3b3f51b64e067b88540e9ff', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 15, 'created': '2017-10-25 14:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3edb69415c8088b26bc93232bc0af539d4049a6f', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 16, 'created': '2017-10-25 18:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/718fada3866bc4d30f31d103cdbbc3cb4fbe7a39', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 17, 'created': '2017-10-26 17:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fdfd7b811fffbe555ed5bddf9f5cf28161613e50', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 18, 'created': '2017-11-23 09:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b4ee7cdc9b9cfdbe90df761014f9d770048f031c', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 19, 'created': '2018-02-14 15:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dab0b364096b1de3c17e23215a95c9b30c342895', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 20, 'created': '2018-02-14 19:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b798cfc98a9078c660f56b73f6fe1e04e31a0547', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 22, 'created': '2018-02-15 04:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cea9421885e62ec26e5349d77e6e8816b69d60da', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 23, 'created': '2018-02-15 09:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/033f2afbe8eaf90b2bb9dab11a1f250427dd17fe', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 24, 'created': '2018-02-15 12:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/05c89a3879d3654a2c137319191b6d23e4d0f221', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 25, 'created': '2018-02-19 10:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a597b3b54b600e965b87ac42e2318ae8956c156d', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 26, 'created': '2018-02-19 14:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3b0dd4d32f8c86079dbfd3bf04564fb6666ba486', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 27, 'created': '2018-02-19 20:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/134f65ce94a2a65b58846317e394f424fc96cef7', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 28, 'created': '2018-02-20 09:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bd8ba7b1e6715a49843d009f6f6693534d78fab6', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 29, 'created': '2018-02-26 08:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d3179c610a5ab97f64732dc144e9d0e360699db3', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 30, 'created': '2018-02-26 13:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/deff2680b25075d076c3b0881c41845107b5ea5d', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 31, 'created': '2018-02-27 05:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4662ec4a0a9fce60e779ae89de19507a2e62ca6a', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 32, 'created': '2018-03-05 09:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2485af38a9c36aa8e3441fcb1c1282fbd7e8678b', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 33, 'created': '2018-03-05 09:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a5efcfcd5a6f9788d670698295f4ed2e14bade44', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 34, 'created': '2018-03-05 11:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dfefc1981e85648cdf8b4dabf4c8a8eecb780829', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 35, 'created': '2018-03-12 11:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/566e10a72cf8cecc09b95b0dd3c3fb58b1b9191e', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 36, 'created': '2018-03-13 15:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1ea703f2f11097914633c6695490c2787771b27f', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 37, 'created': '2018-03-14 04:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3edfab2360791abe522c3c86c7eaad3fabbe5b93', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 38, 'created': '2018-03-14 06:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/39e574e1b15e58abc8d4af0a931037bf834cdc72', 'message': 'Integrate Congress with OSA.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n'}, {'number': 39, 'created': '2018-03-14 09:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5a1d40b8ec1c4d8a14807fa98ea99e1b718bf630', 'message': ""Integrate Congress with OSA.\n\n- Tests minimum tempest's congress tests.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n""}, {'number': 40, 'created': '2018-03-15 13:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/601947a6669ecbd7ff652448947d0b2530d738ae', 'message': ""Integrate Congress with OSA.\n\n- Tests minimum tempest's congress tests.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n""}, {'number': 41, 'created': '2018-03-15 17:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/820b66039c6113873f1821ea939504a01a1ac925', 'message': ""Integrate Congress with OSA.\n\n- Tests minimum tempest's congress tests.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n""}, {'number': 42, 'created': '2018-03-16 04:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/11eeb2729a7965cfe5d01863eb1979c8896ece68', 'message': ""Integrate Congress with OSA.\n\n- Tests minimum tempest's congress tests.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n""}, {'number': 43, 'created': '2018-03-17 06:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/705996299c88785e88d178b84443f847f6913d01', 'message': ""Integrate Congress with OSA.\n\n- Tests minimum tempest's congress tests.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n""}, {'number': 44, 'created': '2018-03-20 08:42:46.000000000', 'files': ['playbooks/os-congress-install.yml', 'etc/openstack_deploy/conf.d/congress.yml.aio', 'tests/roles/bootstrap-host/templates/user_variables_congress.yml.j2', 'inventory/env.d/congress.yml', 'tests/roles/bootstrap-host/defaults/main.yml', 'ansible-role-requirements.yml', 'inventory/group_vars/congress_all.yml', 'playbooks/defaults/repo_packages/openstack_services.yml', 'etc/openstack_deploy/user_secrets.yml', 'tests/vars/bootstrap-aio-vars.yml', 'zuul.d/project.yaml', 'playbooks/setup-openstack.yml', 'tests/test_inventory.py', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eee6c77180375ce7471863fac818c199aad01f1b', 'message': ""Integrate Congress with OSA.\n\n- Tests minimum tempest's congress tests.\n\nChange-Id: Id0c4a4bb4c01757da671a495613141ad738573dd\nSigned-off-by: Taseer Ahmed <taseer94@gmail.com>\n""}]",21,503971,eee6c77180375ce7471863fac818c199aad01f1b,175,10,43,26790,,,0,"Integrate Congress with OSA.

- Tests minimum tempest's congress tests.

Change-Id: Id0c4a4bb4c01757da671a495613141ad738573dd
Signed-off-by: Taseer Ahmed <taseer94@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/71/503971/35 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/os-congress-install.yml', 'playbooks/inventory/env.d/congress.yml', 'ansible-role-requirements.yml', 'tests/bootstrap-aio.yml']",5,1198f3a2cd5a0eaeefd1108e6b95fcf09b4ca0ba,, congress: - name: congress.yml.aio,,71,0
openstack%2Fheat~master~Ib7c820376244a59d3248bf3b97d5803dbc071f64,openstack/heat,master,Ib7c820376244a59d3248bf3b97d5803dbc071f64,Fix some trivial type errors,ABANDONED,2017-02-10 05:20:58.000000000,2018-03-21 14:12:19.000000000,,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 25903}]","[{'number': 1, 'created': '2017-02-10 05:20:58.000000000', 'files': ['heat/common/exception.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/6dcf4b1f2fb4e7b27137c74e6744b54376114938', 'message': 'Fix some trivial type errors\n\nChange-Id: Ib7c820376244a59d3248bf3b97d5803dbc071f64\n'}]",2,431917,6dcf4b1f2fb4e7b27137c74e6744b54376114938,5,3,1,21511,,,0,"Fix some trivial type errors

Change-Id: Ib7c820376244a59d3248bf3b97d5803dbc071f64
",git fetch https://review.opendev.org/openstack/heat refs/changes/17/431917/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/common/exception.py'],1,6dcf4b1f2fb4e7b27137c74e6744b54376114938,, # an unique number will be provided. All exceptions for an entity will # have the same XX code., # an unique number will be provided. All exceptions for a entity will # have same XX code.,2,2
openstack%2Fansible-role-systemd_networkd~master~I3b270cc65aedaf9ef7375289b0ff7373b2c8d705,openstack/ansible-role-systemd_networkd,master,I3b270cc65aedaf9ef7375289b0ff7373b2c8d705,Add base role tests,MERGED,2018-03-19 20:24:16.000000000,2018-03-21 14:12:07.000000000,2018-03-21 14:12:07.000000000,"[{'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 20:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/075321683d99ac2da1fad5a21cfa05b4e2d98568', 'message': 'Add base role tests\n\nChange-Id: I3b270cc65aedaf9ef7375289b0ff7373b2c8d705\n'}, {'number': 2, 'created': '2018-03-20 00:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/1ff1d66431ce4ebf5482ec7cee4f8fde693ca5f5', 'message': 'Add base role tests\n\nChange-Id: I3b270cc65aedaf9ef7375289b0ff7373b2c8d705\n'}, {'number': 3, 'created': '2018-03-20 01:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/9fd66a202c7b4370307d2df36ec5f81068e687d1', 'message': 'Add base role tests\n\nChange-Id: I3b270cc65aedaf9ef7375289b0ff7373b2c8d705\n'}, {'number': 4, 'created': '2018-03-20 01:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/0ae4ddfd5d081c91565a37966c6b721b217ed64b', 'message': 'Add base role tests\n\nChange-Id: I3b270cc65aedaf9ef7375289b0ff7373b2c8d705\n'}, {'number': 5, 'created': '2018-03-20 01:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/def2fe5a07215e5edf0df58258833dcf319916f2', 'message': 'Add base role tests\n\nChange-Id: I3b270cc65aedaf9ef7375289b0ff7373b2c8d705\n'}, {'number': 6, 'created': '2018-03-20 02:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/658b5f07c1cace1174b1309ba4277065c5ded78a', 'message': 'Add base role tests\n\nChange-Id: I3b270cc65aedaf9ef7375289b0ff7373b2c8d705\n'}, {'number': 7, 'created': '2018-03-20 02:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/30db24ed579ea1eff4aa734df59efa66199c8053', 'message': 'Add base role tests\n\nDepends-On: https://review.openstack.org/#/c/554402/\nChange-Id: I3b270cc65aedaf9ef7375289b0ff7373b2c8d705\n'}, {'number': 8, 'created': '2018-03-20 03:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/c232bd31a8cc2f9c3f83bab823da18e82dd8dbf3', 'message': 'Add base role tests\n\nDepends-On: https://review.openstack.org/#/c/554402/\nChange-Id: I3b270cc65aedaf9ef7375289b0ff7373b2c8d705\n'}, {'number': 9, 'created': '2018-03-20 03:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/de92a2fd3995e3d9e6393f4737ad941ce7eb2eef', 'message': 'Add base role tests\n\nDepends-On: https://review.openstack.org/#/c/554402/\nChange-Id: I3b270cc65aedaf9ef7375289b0ff7373b2c8d705\n'}, {'number': 10, 'created': '2018-03-20 03:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/a2a37f9d806948dfd5e162dfa84c82c700635a51', 'message': 'Add base role tests\n\nDepends-On: https://review.openstack.org/#/c/554402/\nChange-Id: I3b270cc65aedaf9ef7375289b0ff7373b2c8d705\n'}, {'number': 11, 'created': '2018-03-21 03:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/62dfa8328bd070da58e2433c6399dbd080cc668e', 'message': 'Add base role tests\n\nDepends-On: https://review.openstack.org/#/c/554402/\nChange-Id: I3b270cc65aedaf9ef7375289b0ff7373b2c8d705\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 12, 'created': '2018-03-21 04:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/288c93c7f5b6c23f8d62b5d8187c78b08f090cfb', 'message': 'Add base role tests\n\nDepends-On: https://review.openstack.org/#/c/554402/\nChange-Id: I3b270cc65aedaf9ef7375289b0ff7373b2c8d705\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 13, 'created': '2018-03-21 04:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/691cba96cd9e59b35d259923f214bbea0dd610ac', 'message': 'Add base role tests\n\nDepends-On: https://review.openstack.org/#/c/554402/\nChange-Id: I3b270cc65aedaf9ef7375289b0ff7373b2c8d705\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 14, 'created': '2018-03-21 05:18:31.000000000', 'files': ['tasks/main.yml', 'run_tests.sh', 'bindep.txt', 'vars/redhat-7.yml', 'doc/source/conf.py', 'tests/tests-repo-clone.sh', 'zuul.d/project.yaml', 'tests/test.yml', 'setup.cfg', 'vars/main.yml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/cebf3b34821f46e0ed250a3fad2657acc89ef9a0', 'message': 'Add base role tests\n\nDepends-On: https://review.openstack.org/#/c/554402/\nChange-Id: I3b270cc65aedaf9ef7375289b0ff7373b2c8d705\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,554350,cebf3b34821f46e0ed250a3fad2657acc89ef9a0,35,4,14,17799,,,0,"Add base role tests

Depends-On: https://review.openstack.org/#/c/554402/
Change-Id: I3b270cc65aedaf9ef7375289b0ff7373b2c8d705
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/50/554350/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,075321683d99ac2da1fad5a21cfa05b4e2d98568,systemd-zuul,"# Copyright 2017, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - project: check: jobs: - openstack-ansible-linters - openstack-ansible-functional-centos-7 - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-ubuntu-xenial experimental: jobs: - openstack-ansible-integrated-deploy-aio gate: jobs: - openstack-ansible-linters - openstack-ansible-functional-centos-7 - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-ubuntu-xenial ",,30,0
openstack%2Fopenstack-ansible-os_sahara~master~I07bd00096c1ed7c49b32ea357b585ab0f851cd73,openstack/openstack-ansible-os_sahara,master,I07bd00096c1ed7c49b32ea357b585ab0f851cd73,Update links in README,MERGED,2018-03-08 11:24:45.000000000,2018-03-21 14:03:30.000000000,2018-03-21 14:03:29.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-08 11:24:45.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/83d36d8f248d83734d254ebb9c82fca83ab10e72', 'message': 'Update links in README\n\nChange the outdated links to the latest links in README\n\nChange-Id: I07bd00096c1ed7c49b32ea357b585ab0f851cd73\n'}]",0,550784,83d36d8f248d83734d254ebb9c82fca83ab10e72,9,4,1,21486,,,0,"Update links in README

Change the outdated links to the latest links in README

Change-Id: I07bd00096c1ed7c49b32ea357b585ab0f851cd73
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/84/550784/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,83d36d8f248d83734d254ebb9c82fca83ab10e72,,.. image:: https://governance.openstack.org/tc/badges/openstack-ansible-os_sahara.svg :target: https://governance.openstack.org/tc/reference/tags/index.html,.. image:: https://governance.openstack.org/badges/openstack-ansible-os_sahara.svg :target: https://governance.openstack.org/reference/tags/index.html,2,2
openstack%2Fsphinx-feature-classification~master~I01a1f5820b6424f872473a04a9b53781bdd455ad,openstack/sphinx-feature-classification,master,I01a1f5820b6424f872473a04a9b53781bdd455ad,"Add badges, description and fix links in README",MERGED,2018-03-20 16:05:20.000000000,2018-03-21 13:59:41.000000000,2018-03-21 13:59:41.000000000,"[{'_account_id': 170}, {'_account_id': 308}, {'_account_id': 6476}, {'_account_id': 10278}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 16:05:20.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/sphinx-feature-classification/commit/36b5634dd64e0e8b92be94bf8fdf785c687ec457', 'message': 'Add badges, description and fix links in README\n\nThe bug report and documentation links were broken.\n\nChange-Id: I01a1f5820b6424f872473a04a9b53781bdd455ad\n'}]",0,554609,36b5634dd64e0e8b92be94bf8fdf785c687ec457,8,6,1,170,,,0,"Add badges, description and fix links in README

The bug report and documentation links were broken.

Change-Id: I01a1f5820b6424f872473a04a9b53781bdd455ad
",git fetch https://review.opendev.org/openstack/sphinx-feature-classification refs/changes/09/554609/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,36b5634dd64e0e8b92be94bf8fdf785c687ec457,,"======================== Team and repository tags ======================== .. image:: https://governance.openstack.org/tc/badges/sphinx-feature-classification.svg :target: https://governance.openstack.org/tc/reference/tags/index.html .. Change things from this point on .. image:: https://img.shields.io/pypi/v/oslo.db.svg :target: https://pypi.python.org/pypi/oslo.db/ :alt: Latest Version .. image:: https://img.shields.io/pypi/dm/oslo.db.svg :target: https://pypi.python.org/pypi/oslo.db/ :alt: Downloads This is a Sphinx directive that allows creating matrices of drivers a project contains and which features they support. The directive takes an INI file with specific syntax explained in the usage documentation to generate the matrices, in which projects have the authority to say what is supported within their own repository.* Documentation: https://docs.openstack.org/sphinx-feature-classification/latest/* Bugs: https://storyboard.openstack.org/#!/project/921",Generate in sphinx a matrix of pluggable drivers and their support to an API.* Documentation: http://docs.openstack.org/developer/sphinx-feature-classification* Bugs: http://bugs.launchpad.net/sphinx-feature-classification Features -------- * TODO,24,8
openstack%2Ftripleo-ui~master~I939d0118135e90ba56b1f15cf5845e676617e193,openstack/tripleo-ui,master,I939d0118135e90ba56b1f15cf5845e676617e193,Imported Translations from Zanata,MERGED,2018-03-21 06:36:37.000000000,2018-03-21 13:54:40.000000000,2018-03-21 13:54:40.000000000,"[{'_account_id': 4978}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 06:36:37.000000000', 'files': ['i18n/locales/en-GB.json', 'i18n/locales/de.json', 'i18n/locales/zh-CN.json', 'i18n/locales/es.json', 'i18n/locales/ja.json', 'i18n/locales/ko-KR.json', 'i18n/locales/tr-TR.json', 'i18n/locales/id.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/bc9804b753619c4de0fd98b2d123ec14c90ad6df', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I939d0118135e90ba56b1f15cf5845e676617e193\n'}]",0,554808,bc9804b753619c4de0fd98b2d123ec14c90ad6df,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I939d0118135e90ba56b1f15cf5845e676617e193
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/08/554808/1 && git format-patch -1 --stdout FETCH_HEAD,"['i18n/locales/en-GB.json', 'i18n/locales/de.json', 'i18n/locales/es.json', 'i18n/locales/zh-CN.json', 'i18n/locales/ja.json', 'i18n/locales/ko-KR.json', 'i18n/locales/tr-TR.json', 'i18n/locales/id.json']",8,bc9804b753619c4de0fd98b2d123ec14c90ad6df,zanata/translations," ""RolesStep.manageRoles"": ""Mengelola Roles"","," ""NodesAssignment.manageRolesLink"": ""Mengelola Roles"",",28,28
openstack%2Ftripleo-ui~stable%2Fqueens~I2bb7a01b8ac4f7fccbddb7c500018d71462478fb,openstack/tripleo-ui,stable/queens,I2bb7a01b8ac4f7fccbddb7c500018d71462478fb,Imported Translations from Zanata,MERGED,2018-03-21 06:34:05.000000000,2018-03-21 13:53:53.000000000,2018-03-21 13:53:53.000000000,"[{'_account_id': 4978}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 06:34:05.000000000', 'files': ['i18n/locales/es.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/74be88ca4976e8fe4a289983d3e8073eddfc1cfb', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2bb7a01b8ac4f7fccbddb7c500018d71462478fb\n'}]",0,554806,74be88ca4976e8fe4a289983d3e8073eddfc1cfb,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2bb7a01b8ac4f7fccbddb7c500018d71462478fb
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/06/554806/1 && git format-patch -1 --stdout FETCH_HEAD,['i18n/locales/es.json'],1,74be88ca4976e8fe4a289983d3e8073eddfc1cfb,zanata/translations," ""CurrentPlan.configurePlanStepTooltip"": ""Este paso permite editar par\u00e1metros espec\u00edficos para la configuraci\u00f3n de la red, almacenamiento y otros componentes certificados. Utilice este paso para definir la configuraci\u00f3n del aislamiento de la red y los par\u00e1metros de configuraci\u00f3n del backend para el almacenamiento."", ""CurrentPlan.configureRolesStepTooltip"": ""En el cuadro de di\u00e1logo de selecci\u00f3n de cada rol, puede asignar los nodos disponibles o anular la asignaci\u00f3n de aquellos nodos ya asignados. Tambi\u00e9n puede personalizar la configuraci\u00f3n espec\u00edfica del rol en este paso. Haga clic en el \u00edcono de la esquina superior derecha de cada rol para ver estas opciones de configuraci\u00f3n espec\u00edficas."", ""CurrentPlan.deploymentStepTooltip"": ""Este paso inicia el despliegue de la Overcloud. Una vez comenzado el despliegue, se puede monitorizar el progreso y ver reportes de cada paso."", ""CurrentPlan.hardwareStepTooltip"": ""El registro del hardware implica definir los detalles de administraci\u00f3n de energ\u00eda de cada nodo para que la aplicaci\u00f3n pueda controlarlos durante la introspecci\u00f3n y el aprovisionamiento. La introspecci\u00f3n identifica y construye un perfil de hardware utilizado en cada nodo."", ""DeleteStackButton.deleteConfirmationQuestion"": ""\u00bfSeguro que desea eliminar el despliegue?"", ""EnvironmentConfigurationActions.configurationNotUpdatedError"": ""La configuraci\u00f3n del despliegue no ha podido ser actualizada"", ""EnvironmentConfigurationForm.missingConfiguration"": ""Configuraci\u00f3n no encontrada"", ""EnvironmentConfigurationForm.requiredEnvironmentGlobalError"": ""Las opciones seleccionadas dependen de otras opciones no habilitadas"", ""EnvironmentConfigurationForm.updatingEnvironmentConfiguration"": ""Actualizando la configuraci\u00f3n del entorno"", ""ParametersActions.updateParametersFailed"": ""Los par\u00e1metros no se han podido actualizar"", ""ParametersForm.enterValidJson"": ""Por favor introduzca un JSON v\u00e1lido."", ""ParametersForm.invalidParameters"": ""Algunos valores de los par\u00e1metros configurados son inv\u00e1lidos:"", ""ParametersForm.invalidParametersList"": ""{parameters}"", ""ParametersForm.updatingParameters"": ""Actualizando configuraci\u00f3n..."", ""RegisterNodeForm.enterValidMacAddress"": ""Introduzca una lista de direcciones MAC v\u00e1lidas."", ""RoleDetail.updatingParameters"": ""Actualizando par\u00e1metros..."","," ""CurrentPlan.configurePlanStepTooltip"": """", ""CurrentPlan.configureRolesStepTooltip"": """", ""CurrentPlan.deploymentStepTooltip"": """", ""CurrentPlan.hardwareStepTooltip"": """", ""DeleteStackButton.deleteConfirmationQuestion"": """", ""EnvironmentConfigurationActions.configurationNotUpdatedError"": """", ""EnvironmentConfigurationForm.missingConfiguration"": """", ""EnvironmentConfigurationForm.requiredEnvironmentGlobalError"": """", ""EnvironmentConfigurationForm.updatingEnvironmentConfiguration"": """", ""ParametersActions.updateParametersFailed"": """", ""ParametersForm.enterValidJson"": """", ""ParametersForm.invalidParameters"": """", ""ParametersForm.invalidParametersList"": """", ""ParametersForm.updatingParameters"": """", ""RegisterNodeForm.enterValidMacAddress"": """", ""RoleDetail.updatingParameters"": """",",16,16
openstack%2Fheat~master~I40e38d1f5517ea3c078a37d17299543c11e1ee5a,openstack/heat,master,I40e38d1f5517ea3c078a37d17299543c11e1ee5a,Remove mox from test_neutron_floating_ip,MERGED,2018-03-08 05:08:35.000000000,2018-03-21 13:51:55.000000000,2018-03-21 13:51:54.000000000,"[{'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 21728}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-08 05:08:35.000000000', 'files': ['heat/tests/openstack/neutron/test_neutron_floating_ip.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/88e09d2c7264fa02f3a5b781f3d6cfb7a6444a7d', 'message': 'Remove mox from test_neutron_floating_ip\n\nChange-Id: I40e38d1f5517ea3c078a37d17299543c11e1ee5a\n'}]",5,550698,88e09d2c7264fa02f3a5b781f3d6cfb7a6444a7d,10,5,1,4257,,,0,"Remove mox from test_neutron_floating_ip

Change-Id: I40e38d1f5517ea3c078a37d17299543c11e1ee5a
",git fetch https://review.opendev.org/openstack/heat refs/changes/98/550698/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/openstack/neutron/test_neutron_floating_ip.py'],1,88e09d2c7264fa02f3a5b781f3d6cfb7a6444a7d,mox-removal," self.mockclient = mock.Mock(spec=neutronclient.Client) self.patchobject(neutronclient, 'Client', return_value=self.mockclient) def lookup(client, lookup_type, name, cmd_resource): return name self.patchobject(neutronV20, 'find_resourceid_by_name_or_id', side_effect=lookup) self.mockclient.create_floatingip.return_value = { 'floatingip': { 'id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'floating_network_id': u'abcd1234' } } self.mockclient.show_floatingip.side_effect = [ qe.NeutronClientException(status_code=404), { 'floatingip': { 'id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'floating_network_id': u'abcd1234' } }, { 'floatingip': { 'id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'floating_network_id': u'abcd1234' } }, # Start delete { 'floatingip': { 'id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'floating_network_id': u'abcd1234' } }, qe.NeutronClientException(status_code=404), ] retry_delay = self.patchobject(timeutils, 'retry_backoff_delay', return_value=0.01) self.mockclient.delete_floatingip.side_effect = [ None, None, qe.NeutronClientException(status_code=404), ] self.mockclient.create_floatingip.assert_called_once_with({ 'floatingip': {'floating_network_id': u'abcd1234'} }) self.mockclient.show_floatingip.assert_called_with( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766') retry_delay.assert_called_once_with(1, jitter_max=2.0) self.mockclient.delete_floatingip.assert_called_with( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766') self.mockclient.create_floatingip.return_value = { 'floatingip': { ""status"": ""ACTIVE"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" } } self.mockclient.create_port.return_value = { 'port': { ""status"": ""BUILD"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" } } self.mockclient.show_port.side_effect = [ { 'port': { ""status"": ""ACTIVE"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" } }, # delete qe.PortNotFoundClient(status_code=404), ] self.mockclient.update_floatingip.side_effect = [ # create as ""status"": ""ACTIVE"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" } }, # update as with port_id ""status"": ""ACTIVE"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" } }, # update as with floatingip_id None, ""status"": ""ACTIVE"", ""id"": ""2146dfbf-ba77-4083-8e86-d052f671ece5"" } }, # update as with both None, ""status"": ""ACTIVE"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" } }, # delete as None, ] self.mockclient.delete_port.side_effect = [ None, qe.PortNotFoundClient(status_code=404), ] self.mockclient.delete_floatingip.side_effect = [ None, qe.PortNotFoundClient(status_code=404), ] self.mockclient.show_floatingip.side_effect = ( qe.NeutronClientException(status_code=404)) self.mockclient.create_floatingip.assert_called_once_with({ 'floatingip': {'floating_network_id': u'abcd1234'} }) self.mockclient.create_port.assert_called_once_with({ 'port': { 'network_id': u'abcd1234', 'fixed_ips': [ {'subnet_id': u'sub1234', 'ip_address': u'10.0.0.10'} ], 'name': utils.PhysName(stack.name, 'port_floating'), 'admin_state_up': True, 'device_owner': '', 'device_id': '', 'binding:vnic_type': 'normal' } }) self.mockclient.show_port.assert_called_with( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766' ) self.mockclient.update_floatingip.assert_has_calls([ # create as mock.call('fc68ea2c-b60b-4b4f-bd82-94ec81110766', {'floatingip': { 'port_id': u'fc68ea2c-b60b-4b4f-bd82-94ec81110766' }}), # update as with port_id mock.call('fc68ea2c-b60b-4b4f-bd82-94ec81110766', {'floatingip': { 'port_id': u'2146dfbf-ba77-4083-8e86-d052f671ece5', 'fixed_ip_address': None }}), # update as with floatingip_id mock.call('fc68ea2c-b60b-4b4f-bd82-94ec81110766', {'floatingip': {'port_id': None}}), mock.call('2146dfbf-ba77-4083-8e86-d052f671ece5', {'floatingip': { 'port_id': u'2146dfbf-ba77-4083-8e86-d052f671ece5', 'fixed_ip_address': None }}), # update as with both mock.call('2146dfbf-ba77-4083-8e86-d052f671ece5', {'floatingip': {'port_id': None}}), mock.call('fc68ea2c-b60b-4b4f-bd82-94ec81110766', {'floatingip': { 'port_id': u'ade6fcac-7d47-416e-a3d7-ad12efe445c1', 'fixed_ip_address': None }}), # delete as mock.call('fc68ea2c-b60b-4b4f-bd82-94ec81110766', {'floatingip': {'port_id': None}}) ]) self.mockclient.delete_port.assert_called_with( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766') self.mockclient.delete_floatingip.assert_called_with( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766') self.mockclient.show_floatingip.assert_called_with( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766') p_show = self.mockclient.show_network self.mockclient.create_floatingip.return_value = { 'floatingip': { 'status': 'ACTIVE', 'id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'floating_ip_address': '172.24.4.98' } } self.mockclient.show_floatingip.return_value = { 'floatingip': { 'status': 'ACTIVE', 'id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'floating_ip_address': '172.24.4.98' } } self.mockclient.create_floatingip.assert_called_once_with({ 'floatingip': {'floating_network_id': u'abcd1234', 'floating_ip_address': '172.24.4.98'} }) self.mockclient.show_floatingip.assert_called_once_with( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766') self.mockclient.create_floatingip.return_value = { 'floatingip': { 'status': 'ACTIVE', 'id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'floating_ip_address': '172.24.4.98' } } self.mockclient.create_floatingip.assert_called_once_with({ 'floatingip': {'floating_network_id': u'abcd1234', 'dns_name': 'myvm', 'dns_domain': 'openstack.org.'} }) self.mockclient.create_floatingip.return_value = { 'floatingip': { 'status': 'ACTIVE', 'id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'floating_ip_address': '172.24.4.98' } } self.mockclient.create_floatingip.assert_called_once_with({ 'floatingip': {'floating_network_id': u'abcd1234', 'subnet_id': u'sub1234'} }) self.mockclient.create_port.return_value = { 'port': { ""status"": ""BUILD"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" } } self.mockclient.show_port.side_effect = [ { 'port': { ""status"": ""ACTIVE"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" } }, # delete qe.PortNotFoundClient(status_code=404), ] self.mockclient.create_floatingip.return_value = { 'floatingip': { ""status"": ""ACTIVE"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" } } self.mockclient.update_floatingip.return_value = { 'floatingip': { ""status"": ""ACTIVE"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" } } self.mockclient.delete_floatingip.return_value = None self.mockclient.delete_port.return_value = None self.mockclient.show_floatingip.side_effect = ( qe.PortNotFoundClient(status_code=404)) self.mockclient.create_port.assert_called_once_with({ 'port': { 'network_id': u'xyz1234', 'fixed_ips': [ {'subnet_id': u'sub1234', 'ip_address': u'10.0.0.10'} ], 'name': utils.PhysName(stack.name, 'port_floating'), 'admin_state_up': True, 'binding:vnic_type': 'normal', 'device_owner': '', 'device_id': '' } }) self.mockclient.show_port.assert_called_with( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766') self.mockclient.create_floatingip.assert_called_once_with({ 'floatingip': { 'floating_network_id': u'abcd1234', 'port_id': u'fc68ea2c-b60b-4b4f-bd82-94ec81110766' } }) self.mockclient.update_floatingip.assert_has_calls([ # update with new port_id mock.call('fc68ea2c-b60b-4b4f-bd82-94ec81110766', {'floatingip': { 'port_id': u'2146dfbf-ba77-4083-8e86-d052f671ece5', 'fixed_ip_address': None }}), # update with None port_id mock.call('fc68ea2c-b60b-4b4f-bd82-94ec81110766', {'floatingip': { 'port_id': None, 'fixed_ip_address': None }}) ]) self.mockclient.delete_floatingip.assert_called_once_with( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766') self.mockclient.show_floatingip.assert_called_once_with( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766') self.mockclient.delete_port.assert_called_once_with( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766')","import mox self.m.StubOutWithMock(neutronclient.Client, 'create_floatingip') self.m.StubOutWithMock(neutronclient.Client, 'delete_floatingip') self.m.StubOutWithMock(neutronclient.Client, 'show_floatingip') self.m.StubOutWithMock(neutronclient.Client, 'update_floatingip') self.m.StubOutWithMock(neutronclient.Client, 'create_port') self.m.StubOutWithMock(neutronclient.Client, 'delete_port') self.m.StubOutWithMock(neutronclient.Client, 'update_port') self.m.StubOutWithMock(neutronclient.Client, 'show_port') self.m.StubOutWithMock(neutronV20, 'find_resourceid_by_name_or_id') self.m.StubOutWithMock(timeutils, 'retry_backoff_delay') neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'network', 'abcd1234', cmd_resource=None, ).MultipleTimes().AndReturn('abcd1234') self.m.ReplayAll() self.m.VerifyAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'network', 'abcd1234', cmd_resource=None, ).MultipleTimes().AndReturn('abcd1234') neutronclient.Client.create_floatingip({ 'floatingip': {'floating_network_id': u'abcd1234'} }).AndReturn({'floatingip': { 'id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'floating_network_id': u'abcd1234' }}) neutronclient.Client.show_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766' ).AndRaise(qe.NeutronClientException(status_code=404)) neutronclient.Client.show_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766' ).AndReturn({'floatingip': { 'id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'floating_network_id': u'abcd1234' }}) neutronclient.Client.show_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766' ).AndReturn({'floatingip': { 'id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'floating_network_id': u'abcd1234' }}) timeutils.retry_backoff_delay(1, jitter_max=2.0).AndReturn(0.01) neutronclient.Client.delete_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766').AndReturn(None) neutronclient.Client.show_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766' ).AndReturn({'floatingip': { 'id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'floating_network_id': u'abcd1234' }}) neutronclient.Client.delete_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766').AndReturn(None) neutronclient.Client.show_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766').AndRaise( qe.NeutronClientException(status_code=404)) neutronclient.Client.delete_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766').AndRaise( qe.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() self.m.VerifyAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'network', 'abcd1234', cmd_resource=None, ).MultipleTimes().AndReturn('abcd1234') neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', 'sub1234', cmd_resource=None, ).MultipleTimes().AndReturn('sub1234') self.m.ReplayAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'network', 'abcd1234', cmd_resource=None, ).MultipleTimes().AndReturn('abcd1234') neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', 'sub1234', cmd_resource=None, ).MultipleTimes().AndReturn('sub1234') neutronclient.Client.create_floatingip({ 'floatingip': {'floating_network_id': u'abcd1234'} }).AndReturn({'floatingip': { ""status"": ""ACTIVE"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" }}) neutronclient.Client.create_port({'port': { 'network_id': u'abcd1234', 'fixed_ips': [ {'subnet_id': u'sub1234', 'ip_address': u'10.0.0.10'} ], 'name': utils.PhysName(stack.name, 'port_floating'), 'admin_state_up': True, 'device_owner': '', 'device_id': '', 'binding:vnic_type': 'normal' }} ).AndReturn({'port': { ""status"": ""BUILD"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" }}) neutronclient.Client.show_port( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766' ).AndReturn({'port': { ""status"": ""ACTIVE"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" }}) # create as neutronclient.Client.update_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'port_id': u'fc68ea2c-b60b-4b4f-bd82-94ec81110766'}} ).AndReturn({'floatingip': { ""status"": ""ACTIVE"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" }}) # update as with port_id neutronclient.Client.update_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'port_id': u'2146dfbf-ba77-4083-8e86-d052f671ece5', 'fixed_ip_address': None}} ).AndReturn({'floatingip': { ""status"": ""ACTIVE"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" }}) # update as with floatingip_id neutronclient.Client.update_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', {'floatingip': { 'port_id': None }}).AndReturn(None) neutronclient.Client.update_floatingip( '2146dfbf-ba77-4083-8e86-d052f671ece5', 'port_id': u'2146dfbf-ba77-4083-8e86-d052f671ece5', 'fixed_ip_address': None}} ).AndReturn({'floatingip': { ""status"": ""ACTIVE"", ""id"": ""2146dfbf-ba77-4083-8e86-d052f671ece5"" }}) # update as with both neutronclient.Client.update_floatingip( '2146dfbf-ba77-4083-8e86-d052f671ece5', {'floatingip': { 'port_id': None }}).AndReturn(None) neutronclient.Client.update_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'port_id': u'ade6fcac-7d47-416e-a3d7-ad12efe445c1', 'fixed_ip_address': None}} ).AndReturn({'floatingip': { ""status"": ""ACTIVE"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" }}) # delete as neutronclient.Client.update_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', {'floatingip': { 'port_id': None }}).AndReturn(None) neutronclient.Client.delete_port( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766' ).AndReturn(None) neutronclient.Client.show_port( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766' ).AndRaise(qe.PortNotFoundClient(status_code=404)) neutronclient.Client.delete_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766' ).AndReturn(None) neutronclient.Client.show_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766').AndRaise( qe.NeutronClientException(status_code=404)) neutronclient.Client.delete_port( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766' ).AndRaise(qe.PortNotFoundClient(status_code=404)) neutronclient.Client.delete_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766' ).AndRaise(qe.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.VerifyAll() self.m.VerifyAll() p_show = self.patchobject(neutronclient.Client, 'show_network') self.m.VerifyAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'network', 'abcd1234', cmd_resource=None, ).MultipleTimes().AndReturn('abcd1234') neutronclient.Client.create_floatingip({ 'floatingip': {'floating_network_id': u'abcd1234', 'floating_ip_address': '172.24.4.98'} }).AndReturn({'floatingip': { 'status': 'ACTIVE', 'id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'floating_ip_address': '172.24.4.98' }}) neutronclient.Client.show_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766' ).AndReturn({'floatingip': { 'status': 'ACTIVE', 'id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'floating_ip_address': '172.24.4.98' }}) self.m.ReplayAll() self.m.VerifyAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'network', 'abcd1234', cmd_resource=None, ).MultipleTimes().AndReturn('abcd1234') neutronclient.Client.create_floatingip({ 'floatingip': {'floating_network_id': u'abcd1234', 'dns_name': 'myvm', 'dns_domain': 'openstack.org.'} }).AndReturn({'floatingip': { 'status': 'ACTIVE', 'id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'floating_ip_address': '172.24.4.98' }}) self.m.ReplayAll() self.m.VerifyAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'network', 'abcd1234', cmd_resource=None, ).MultipleTimes().AndReturn('abcd1234') neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', 'sub1234', cmd_resource=None, ).MultipleTimes().AndReturn('sub1234') neutronclient.Client.create_floatingip({ 'floatingip': {'floating_network_id': u'abcd1234', 'subnet_id': u'sub1234'} }).AndReturn({'floatingip': { 'status': 'ACTIVE', 'id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'floating_ip_address': '172.24.4.98' }}) self.m.ReplayAll() self.m.VerifyAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'network', 'xyz1234', cmd_resource=None, ).MultipleTimes().AndReturn('xyz1234') neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', 'sub1234', cmd_resource=None, ).MultipleTimes().AndReturn('sub1234') neutronclient.Client.create_port({'port': { 'network_id': u'xyz1234', 'fixed_ips': [ {'subnet_id': u'sub1234', 'ip_address': u'10.0.0.10'} ], 'name': utils.PhysName(stack.name, 'port_floating'), 'admin_state_up': True, 'binding:vnic_type': 'normal', 'device_owner': '', 'device_id': ''}} ).AndReturn({'port': { ""status"": ""BUILD"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" }}) neutronclient.Client.show_port( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766' ).AndReturn({'port': { ""status"": ""ACTIVE"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" }}) neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'network', 'abcd1234', cmd_resource=None, ).MultipleTimes().AndReturn('abcd1234') neutronclient.Client.create_floatingip({ 'floatingip': { 'floating_network_id': u'abcd1234', 'port_id': u'fc68ea2c-b60b-4b4f-bd82-94ec81110766' } }).AndReturn({'floatingip': { ""status"": ""ACTIVE"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" }}) # update with new port_id neutronclient.Client.update_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', { 'floatingip': { 'port_id': u'2146dfbf-ba77-4083-8e86-d052f671ece5', 'fixed_ip_address': None}} ).AndReturn({'floatingip': { ""status"": ""ACTIVE"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" }}) # update with None port_id neutronclient.Client.update_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', { 'floatingip': { 'port_id': None, 'fixed_ip_address': None}} ).AndReturn({'floatingip': { ""status"": ""ACTIVE"", ""id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"" }}) neutronclient.Client.delete_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766' ).AndReturn(None) neutronclient.Client.show_floatingip( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766').AndRaise( qe.NeutronClientException(status_code=404)) neutronclient.Client.delete_port( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766' ).AndReturn(None) neutronclient.Client.show_port( 'fc68ea2c-b60b-4b4f-bd82-94ec81110766' ).AndRaise(qe.PortNotFoundClient(status_code=404)) self.m.ReplayAll() self.m.VerifyAll()",288,345
openstack%2Fpuppet-panko~master~Ie10fad3e59721492a7a332031eec4fb102f39b0d,openstack/puppet-panko,master,Ie10fad3e59721492a7a332031eec4fb102f39b0d,fix mysql connection,ABANDONED,2018-03-05 05:49:55.000000000,2018-03-21 13:38:04.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-05 05:49:55.000000000', 'files': ['spec/classes/panko_db_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/647656df9c95828cfbe34f8a3ef89fddb8aa28fd', 'message': 'fix mysql connection\n\nChange-Id: Ie10fad3e59721492a7a332031eec4fb102f39b0d\n'}]",1,549683,647656df9c95828cfbe34f8a3ef89fddb8aa28fd,7,2,1,17130,,,0,"fix mysql connection

Change-Id: Ie10fad3e59721492a7a332031eec4fb102f39b0d
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/83/549683/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/panko_db_spec.rb'],1,647656df9c95828cfbe34f8a3ef89fddb8aa28fd,," { :database_connection => 'mysql+pymysql://panko:panko@localhost/panko', }"," { :database_connection => 'mysql://panko:panko@localhost/panko', }",1,1
openstack%2Fswift~feature%2Fdeep~I2cabeaa3873694577d3ef6778c0a1fe1d6bc4e63,openstack/swift,feature/deep,I2cabeaa3873694577d3ef6778c0a1fe1d6bc4e63,Minor fix to test,MERGED,2018-03-21 10:37:46.000000000,2018-03-21 13:37:10.000000000,2018-03-21 13:37:10.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}, {'_account_id': 27686}]","[{'number': 1, 'created': '2018-03-21 10:37:46.000000000', 'files': ['test/unit/container/test_backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1071fdfe50a2af061a8d54e010051a05c7854fa9', 'message': 'Minor fix to test\n\nMake test setup better reflect reality.\n\nChange-Id: I2cabeaa3873694577d3ef6778c0a1fe1d6bc4e63\nRelated-Change: I74df5085f999095a7d38444299abf12038e62d76\n'}]",0,554871,1071fdfe50a2af061a8d54e010051a05c7854fa9,7,3,1,7847,,,0,"Minor fix to test

Make test setup better reflect reality.

Change-Id: I2cabeaa3873694577d3ef6778c0a1fe1d6bc4e63
Related-Change: I74df5085f999095a7d38444299abf12038e62d76
",git fetch https://review.opendev.org/openstack/swift refs/changes/71/554871/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/container/test_backend.py'],1,1071fdfe50a2af061a8d54e010051a05c7854fa9,," state=ShardRange.SHARDING) exclude_states=ShardRange.SHARDING,"," state=ShardRange.CLEAVED) exclude_states=ShardRange.CLEAVED,",2,2
openstack%2Fnova~stable%2Fpike~Id21e0afa5cec401555bee679193c256e55be863b,openstack/nova,stable/pike,Id21e0afa5cec401555bee679193c256e55be863b,Add regression test for BFV+IsolatedHostsFilter failure,MERGED,2018-02-12 20:17:28.000000000,2018-03-21 13:37:04.000000000,2018-03-21 13:37:04.000000000,"[{'_account_id': 8213}, {'_account_id': 12898}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-02-12 20:17:28.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1746483.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3ff30f407c36264641ea8a1bfe8849d9e7a75f0e', 'message': ""Add regression test for BFV+IsolatedHostsFilter failure\n\nCreating a volume-backed server while using the IsolatedHostsFilter\nresults in a NoValidHost failure because the filter tries to load\nthe RequestSpec.image.id but when you create a server from a volume,\nan image is not required directly in the server create request.\n\nNOTE(mriedem): The CinderFixture had to be used since the\nCinderFixtureNewAttachFlow fixture didn't exist until Queens.\n\nChange-Id: Id21e0afa5cec401555bee679193c256e55be863b\nRelated-Bug: #1746483\n(cherry picked from commit 4f9667b7a92ffef4329380e39c64cf314203b06e)\n(cherry picked from commit ed959b94ee8a211a270d9d89a6021e76a16bf31f)\n""}]",0,543602,3ff30f407c36264641ea8a1bfe8849d9e7a75f0e,9,5,1,6873,,,0,"Add regression test for BFV+IsolatedHostsFilter failure

Creating a volume-backed server while using the IsolatedHostsFilter
results in a NoValidHost failure because the filter tries to load
the RequestSpec.image.id but when you create a server from a volume,
an image is not required directly in the server create request.

NOTE(mriedem): The CinderFixture had to be used since the
CinderFixtureNewAttachFlow fixture didn't exist until Queens.

Change-Id: Id21e0afa5cec401555bee679193c256e55be863b
Related-Bug: #1746483
(cherry picked from commit 4f9667b7a92ffef4329380e39c64cf314203b06e)
(cherry picked from commit ed959b94ee8a211a270d9d89a6021e76a16bf31f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/543602/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1746483.py'],1,3ff30f407c36264641ea8a1bfe8849d9e7a75f0e,bug/1746483,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from nova import config from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit.image import fake as image_fakes from nova.tests.unit import policy_fixture from nova import utils from nova.virt import fake CONF = config.CONF class TestBootFromVolumeIsolatedHostsFilter( test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Regression test for bug #1746483 The IsolatedHostsFilter checks for images restricted to certain hosts via config options. When creating a server from a root volume, the image is in the volume (and it's related metadata from Cinder). When creating a volume-backed server, the imageRef is not required. The regression is that the RequestSpec.image.id field is not set and the IsolatedHostsFilter blows up trying to load the image id. """""" def setUp(self): super(TestBootFromVolumeIsolatedHostsFilter, self).setUp() self.useFixture(policy_fixture.RealPolicyFixture()) self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(nova_fixtures.CinderFixture(self)) self.useFixture(nova_fixtures.PlacementFixture()) api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api image_fakes.stub_out_image_service(self) self.addCleanup(image_fakes.FakeImageService_reset) self.start_service('conductor') # Add the IsolatedHostsFilter to the list of enabled filters since it # is not enabled by default. enabled_filters = CONF.filter_scheduler.enabled_filters enabled_filters.append('IsolatedHostsFilter') self.flags( enabled_filters=enabled_filters, isolated_images=[image_fakes.AUTO_DISK_CONFIG_ENABLED_IMAGE_UUID], isolated_hosts=['host1'], restrict_isolated_hosts_to_isolated_images=True, group='filter_scheduler') self.start_service('scheduler') # Create two compute nodes/services so we can restrict the image # we'll use to one of the hosts. for host in ('host1', 'host2'): fake.set_nodes([host]) self.addCleanup(fake.restore_nodes) self.start_service('compute', host=host) def test_boot_from_volume_with_isolated_image(self): # Create our server without networking just to keep things simple. image_id = nova_fixtures.CinderFixture.IMAGE_BACKED_VOL server_req_body = { # There is no imageRef because this is boot from volume. 'server': { 'flavorRef': '1', # m1.tiny from DefaultFlavorsFixture, 'name': 'test_boot_from_volume_with_isolated_image', 'networks': 'none', 'block_device_mapping_v2': [{ 'boot_index': 0, 'uuid': image_id, 'source_type': 'volume', 'destination_type': 'volume' }] } } # Note that we're using v2.1 by default but need v2.37 to use # networks='none'. with utils.temporary_mutation(self.api, microversion='2.37'): server = self.api.post_server(server_req_body) server = self._wait_for_state_change(self.api, server, 'ERROR') # Due to bug 1746483 we expect scheduling to fail. self.assertIn(""Cannot load 'id' in the base class"", server['fault']['message']) ",,98,0
openstack%2Fyaql~master~Icbd355f35eeccb3d77c14a9bc1dd4e1b5fbc57b4,openstack/yaql,master,Icbd355f35eeccb3d77c14a9bc1dd4e1b5fbc57b4,Pypy is not checked at gate,NEW,2018-03-21 12:40:55.000000000,2018-03-21 13:32:34.000000000,,"[{'_account_id': 16367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 12:40:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/yaql/commit/c583f41da19db9155b76f286711bd371b113d308', 'message': 'Pypy is not checked at gate\n\nChange-Id: Icbd355f35eeccb3d77c14a9bc1dd4e1b5fbc57b4\n'}]",0,554893,c583f41da19db9155b76f286711bd371b113d308,3,2,1,16367,,,0,"Pypy is not checked at gate

Change-Id: Icbd355f35eeccb3d77c14a9bc1dd4e1b5fbc57b4
",git fetch https://review.opendev.org/openstack/yaql refs/changes/93/554893/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c583f41da19db9155b76f286711bd371b113d308,,"envlist = py27,py34,pep8","envlist = py27,py34,pypy,pep8",1,1
openstack%2Fanchor~master~I8354a8dcce7e28aadd0e61a55bc2b10ad4dd3f21,openstack/anchor,master,I8354a8dcce7e28aadd0e61a55bc2b10ad4dd3f21,pypy is not checked at gate,ABANDONED,2018-03-21 13:11:41.000000000,2018-03-21 13:26:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-21 13:11:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/anchor/commit/683c66db7a1d8fa6764ed9a62974a6fbc49ad94c', 'message': 'pypy is not checked at gate\n\nChange-Id: I8354a8dcce7e28aadd0e61a55bc2b10ad4dd3f21\n'}]",0,554915,683c66db7a1d8fa6764ed9a62974a6fbc49ad94c,3,1,1,16367,,,0,"pypy is not checked at gate

Change-Id: I8354a8dcce7e28aadd0e61a55bc2b10ad4dd3f21
",git fetch https://review.opendev.org/openstack/anchor refs/changes/15/554915/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,683c66db7a1d8fa6764ed9a62974a6fbc49ad94c,,"envlist = py35,py27,pep8,docs","envlist = pypy,py35,py27,pep8,docs",1,1
openstack%2Fheat-dashboard~master~Id04f8482e077bb62dabb2f7dfdbce5497572b610,openstack/heat-dashboard,master,Id04f8482e077bb62dabb2f7dfdbce5497572b610,Imported Translations from Zanata,MERGED,2018-03-21 06:47:56.000000000,2018-03-21 13:24:25.000000000,2018-03-21 13:24:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25221}]","[{'number': 1, 'created': '2018-03-21 06:47:56.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/58e822ac68c3e8170cba23842ba2f018fb9d9913', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id04f8482e077bb62dabb2f7dfdbce5497572b610\n'}]",0,554811,58e822ac68c3e8170cba23842ba2f018fb9d9913,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id04f8482e077bb62dabb2f7dfdbce5497572b610
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/11/554811/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po']",2,58e822ac68c3e8170cba23842ba2f018fb9d9913,zanata/translations,"# Robert Simai <robert.simai@suse.com>, 2018. #zanata""POT-Creation-Date: 2018-03-21 02:18+0000\n""""PO-Revision-Date: 2018-03-20 02:24+0000\n"" ""Last-Translator: Robert Simai <robert.simai@suse.com>\n""""X-Generator: Zanata 4.3.3\n""msgid """" ""If you need to update your queens heat-dashboard to rocky, you must copy the "" ""latest enabled file (_1650_project_template_generator_panel.py) to horizon/"" ""openstack_dashboard/enabled directory again. The enabled file for template "" ""generator has been changed a lot in rocky and it does not have compatibility "" ""with queens heat-dashboard. The background of this change is that SCSS and "" ""xstatic modules are started to be used rather than CSS and embedded "" ""JavaScript copies to follow Horizonâ€™s contribution rule. [`bug 1753919 "" ""<https://bugs.launchpad.net/heat-dashboard/+bug/1753919>`__] [`bug 1755140 "" ""<https://bugs.launchpad.net/heat-dashboard/+bug/1755140>`__] [`bug 1755308 "" ""<https://bugs.launchpad.net/heat-dashboard/+bug/1755308>`__]"" msgstr """" ""Wenn Sie das Queens heat-dashboard nach Rocky aktualisieren mÃ¼ssen Sie die "" ""aktuellste enabled-Datei (_1650_project_template_generator_panel.py) wieder "" ""in das horizon/openstack_dashboard/enabled Verzeichnis laden. Die enabled-"" ""Datei fÃ¼r den Vorlagengenerator hat sich in Rocky stark geÃ¤ndert und ist "" ""nicht kompatibel mit dem Queens heat-dashboard. Hintergrund der Ã„nderung "" ""ist, dass begonnen wird, SCSS und xstatic Module zu verwenden, zum Nachteil "" ""von CSS und embedded JavaScript, um den Regeln fÃ¼r die Horizon "" ""Zusammenarbeit zu genÃ¼gen. [`bug 1753919 <https://bugs.launchpad.net/heat-"" ""dashboard/+bug/1753919>`__] [`bug 1755140 <https://bugs.launchpad.net/heat-"" ""dashboard/+bug/1755140>`__] [`bug 1755308 <https://bugs.launchpad.net/heat-"" ""dashboard/+bug/1755308>`__]"" msgid ""Upgrade Notes"" msgstr ""Aktualisierungsnotizen""","""POT-Creation-Date: 2018-02-15 01:11+0000\n""""PO-Revision-Date: 2018-02-14 09:36+0000\n"" ""Last-Translator: Reik Keutterling <spielkind@gmail.com>\n""""X-Generator: Zanata 3.9.6\n""",34,9
openstack%2Fmonasca-specs~master~Icf9ec728a20ff38cfe29c72acae2df5f4383f0f6,openstack/monasca-specs,master,Icf9ec728a20ff38cfe29c72acae2df5f4383f0f6,Add spec on implementing oslo.policy,MERGED,2017-10-11 13:56:50.000000000,2018-03-21 13:14:20.000000000,2018-03-21 13:14:19.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 12542}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 23630}, {'_account_id': 26141}, {'_account_id': 26702}, {'_account_id': 26733}]","[{'number': 1, 'created': '2017-10-11 13:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/c3f5ed52ae5b732aec651e391c54a34990bcd2d6', 'message': 'Add spec on implementing oslo.policy\n\nPresently, neither monasca-api nor monasca-log-api use oslo.policy. Instead,\nthey contain their own policy enforcement code. Without oslo.policy they will\nnot be able to implement the policy in code community goal for Queens, which\nrequires the use of oslo mechanisms for defining and enforcing policy. This\nspec gives a roadmap for switching monasca-{api,log-api} to using oslo.policy.\n\nChange-Id: Icf9ec728a20ff38cfe29c72acae2df5f4383f0f6\nStory: 2001233\nTask: 5749\n'}, {'number': 2, 'created': '2017-10-20 19:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/77b89716760b611fb5415123e374381de64f41e4', 'message': 'Add spec on implementing oslo.policy\n\nPresently, neither monasca-api nor monasca-log-api use oslo.policy. Instead,\nthey contain their own policy enforcement code. Without oslo.policy they will\nnot be able to implement the policy in code community goal for Queens, which\nrequires the use of oslo mechanisms for defining and enforcing policy. This\nspec gives a roadmap for switching monasca-{api,log-api} to using oslo.policy.\n\nChange-Id: Icf9ec728a20ff38cfe29c72acae2df5f4383f0f6\nStory: 2001233\nTask: 5749\n'}, {'number': 3, 'created': '2017-10-30 09:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/08352c420a48b750fa263921987569646366cddb', 'message': 'Add spec on implementing oslo.policy\n\nPresently, neither monasca-api nor monasca-log-api use oslo.policy. Instead,\nthey contain their own policy enforcement code. Without oslo.policy they will\nnot be able to implement the policy in code community goal for Queens, which\nrequires the use of oslo mechanisms for defining and enforcing policy. This\nspec gives a roadmap for switching monasca-{api,log-api} to using oslo.policy.\n\nChange-Id: Icf9ec728a20ff38cfe29c72acae2df5f4383f0f6\nStory: 2001233\nTask: 5749\n'}, {'number': 4, 'created': '2018-03-13 13:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/e63f02db36b1155cefe39e1914e2a9561bbf5f05', 'message': 'Add spec on implementing oslo.policy\n\nPresently, neither monasca-api nor monasca-log-api use oslo.policy. Instead,\nthey contain their own policy enforcement code. Without oslo.policy they will\nnot be able to implement the policy in code community goal for Queens, which\nrequires the use of oslo mechanisms for defining and enforcing policy. This\nspec gives a roadmap for switching monasca-{api,log-api} to using oslo.policy.\n\nChange-Id: Icf9ec728a20ff38cfe29c72acae2df5f4383f0f6\nStory: 2001233\nTask: 5749\n'}, {'number': 5, 'created': '2018-03-19 08:16:32.000000000', 'files': ['specs/queens/approved/implement-oslo-policy.rst'], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/921482e249776fca15934cbf04de7babf51aa392', 'message': 'Add spec on implementing oslo.policy\n\nPresently, neither monasca-api nor monasca-log-api use oslo.policy. Instead,\nthey contain their own policy enforcement code. Without oslo.policy they will\nnot be able to implement the policy in code community goal for Queens, which\nrequires the use of oslo mechanisms for defining and enforcing policy. This\nspec gives a roadmap for switching monasca-{api,log-api} to using oslo.policy.\n\nChange-Id: Icf9ec728a20ff38cfe29c72acae2df5f4383f0f6\nStory: 2001233\nTask: 5749\n'}]",32,511245,921482e249776fca15934cbf04de7babf51aa392,33,9,5,12542,,,0,"Add spec on implementing oslo.policy

Presently, neither monasca-api nor monasca-log-api use oslo.policy. Instead,
they contain their own policy enforcement code. Without oslo.policy they will
not be able to implement the policy in code community goal for Queens, which
requires the use of oslo mechanisms for defining and enforcing policy. This
spec gives a roadmap for switching monasca-{api,log-api} to using oslo.policy.

Change-Id: Icf9ec728a20ff38cfe29c72acae2df5f4383f0f6
Story: 2001233
Task: 5749
",git fetch https://review.opendev.org/openstack/monasca-specs refs/changes/45/511245/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/approved/implement-oslo-policy.rst'],1,c3f5ed52ae5b732aec651e391c54a34990bcd2d6,implement-oslo-policy,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================ Use oslo.policy for Monasca APIs ================================ https://storyboard.openstack.org/#!/story/2001233 Presently, neither monasca-api nor monasca-log-api use `oslo.policy`. Instead, they contain their own policy enforcement code. Without `oslo.policy` they will not be able to implement the policy in code community goal for Queens[0], which requires the use of oslo mechanisms for defining and enforcing policy. Problem description =================== Since neither monasca-api nor monasca-log-api use oslo.policy for policy enforcement, they cannot describe their policy in code using `oslo.policy` mechanisms as mandated by the community goal[0]. Use Cases --------- The change proposed by this spec will improve the situation outlined above as follows: 1) Policy will be enforced in the OpenStack wide standard manner by `oslo.policy`. This reduces the maintenance burden on Monasca developers because they will no longer need to maintain Monasca's own policy enforcement code. 2) All default policy rules will be available in a standard format to all interested parties, which fullfils the community goal 3) Operators will be able to override the Monasca API and Monasca Log API default policies using `policy.json` files and run command line tools to generate a full `policy.json` for either service (e.g. for auditing purposes). Proposed change =============== This spec proposes the following changes to both monasca-common, monasca-api and monasca-log-api: 1. Implement a policy enforcement engine in `monasca_common.policy`. We can probably model this on Nova's policy enforcement engine[1]. We will have to modify it somewhat to account for the fact that we have multiple APIs that use the same policy engine. 2. Define a module that contains the default policy rules in both monasca-api and monasca-log-api and exposes them to the enforcement engine. Nova's approach of having a `list_rules()` method[2] should work just fine for us. We can either copy Nova's approach of aggregating individual endpoints' policies in a that central module[3] or just have them in there directly. 3. Modify existing policy enforcement code in monasca-api and monasca-log-api by code that uses the enforcement engine's `authorize()` method to both 4. Add monasca-api-policy and monasca-log-api-policy command line entry points that allow the user to generate a policy.json file for both APIs. Alternatives ------------ None, since this is a community goal. One thing that could be done differently is the policy enforcement engine: it would be conceivable to have independent enforcer implementations in both monasca-api and monasca-log-api. This would needlessly violate the DRY principle, though. Data model impact ----------------- This change does not impact the data model. REST API impact --------------- This change must be implemented in a way that creates no discernible impact for the API's consumers. Client impact ------------- N/A Configuration changes --------------------- This change will continue to use the same `monasca-api` and `monasca-log-api` configuration settings we already use for policy enforcement: * `agent_authorized_roles`, `default_authorized_roles`, `delegate_authorized_roles` and `read_only_authorized_roles` for `monasca-api` * `default_roles`, `agent_roles`, for `monasca-log-api` The only difference is that a different implementation (`monasca.common.policy`) will use them now. Additionally, the policy enforcer will allow operators to create a `policy.json` file for each API service that overrides the in-code defaults. Security impact --------------- This change introduces a way for operators to influence monasca-api and monasca-log-api policy through configuration files. If they misconfigure policy that way, they may allow unauthorized users to send or retrieve metrics and logs. Other end user impact --------------------- N/A Performance Impact ------------------ N/A Other deployer impact --------------------- N/A Developer impact ---------------- Developers that introduce new API operations will need to register policy rules for these endpoints once this feature is implemented. Implementation ============== Assignee(s) ----------- Primary assignee: tbd Work Items ---------- 1. Add policy enforcement module to `monasca-common`. It might be a good idea to have a an extension mechanism for the policy's target analogous to this one[1] in Magnum to account for the different role variables from the configuration file needed by `monasca-api` and `monasca-log-api`, respectively. That way a generic policy enforcer can be made flexible to the point where all the role differences between `monasca-api` and `monasca-log-api` can be expressed in terms of policy rules. 2. Add policy registration code to `monasca-api`. 3. Use policy enforcement module in `monasca_api.v2.reference.helpers.validate_authorization()` 4. Add policy registration code to `monasca-log-api` 5. Remove policy enforcement code from `monasca_log_api.middleware.role_middleware.` (for validating agent role) and `monasca_log_api.app.base.request` and replace it by using `monasca-common.policy` from either `monasca_log_api.middleware.role_middleware.` or `monasca_log_api.app.base_request` (to have centralized enforcement in one spot). 6. Add `monasca-api-policy` console script to `monasca-api` 7. Add `monasca-log-api-policy` console script to `monasca-log-api` Dependencies ============ N/A Testing ======= Existing policy enforcement tests are likely to need a major overhaul. Documentation Impact ==================== The following things need to be documented for operators: 1) Their newly added ability to create `policy.json` files for Monasca API services 2) The functionality of the `monasca-api-policy` and `monasca-log-api-policy` scripts References ========== [0] https://governance.openstack.org/tc/goals/queens/policy-in-code.html [1] https://github.com/openstack/nova/blob/master/nova/policy.py [2] https://github.com/openstack/nova/blob/master/nova/policy.py#L207 [3] https://github.com/openstack/nova/blob/master/nova/policies/__init__.py [2] https://github.com/openstack/magnum/blob/master/magnum/common/policy.py#L102 History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Queens - Introduced ",,212,0
openstack%2Fos-vif~master~I5727878b63026a19fafcf7e71dda3ba480432fbf,openstack/os-vif,master,I5727878b63026a19fafcf7e71dda3ba480432fbf,Fix VF-rep lookup routine to use parent PF number,MERGED,2018-01-08 07:51:57.000000000,2018-03-21 13:12:50.000000000,2018-01-18 12:55:29.000000000,"[{'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 16690}, {'_account_id': 22348}, {'_account_id': 27540}]","[{'number': 1, 'created': '2018-01-08 07:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/b30fd3e718adbdcd2ce3eb8ddec3a027e1a34f0c', 'message': ""Fix VF-rep lookup routine to use parent PF number\n\nThe current logic in get_representor_port() matches the VF number with\nthe one in 'phys_port_name' file. If and when multiple PFs on the same\ncard are configured in switchdev mode, we could end up returning a wrong\nrepresentor device. Fix this by including the parent PF number also in\nthis logic, when 'pfXvfY' format is used in 'phys_port_name' file.\n\nChange-Id: I5727878b63026a19fafcf7e71dda3ba480432fbf\nSigned-off-by: Sriharsha Basavapatna <sriharsha.basavapatna@broadcom.com>\n""}, {'number': 2, 'created': '2018-01-09 05:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/cf26cfd3520686e99b9e2ccc266c4be45616d4d7', 'message': ""Fix VF-rep lookup routine to use parent PF number\n\nThe current logic in get_representor_port() matches the VF number with\nthe one in 'phys_port_name' file. If and when multiple PFs on the same\ncard are configured in switchdev mode, we could end up returning a wrong\nrepresentor device. Fix this by including the parent PF number also in\nthis logic, when 'pfXvfY' format is used in 'phys_port_name' file.\n\nChange-Id: I5727878b63026a19fafcf7e71dda3ba480432fbf\nSigned-off-by: Sriharsha Basavapatna <sriharsha.basavapatna@broadcom.com>\n""}, {'number': 3, 'created': '2018-01-12 09:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/83e27798dedf451a9307267e85536f5eb9276e96', 'message': ""Fix VF-rep lookup routine to use parent PF number\n\nThe current logic in get_representor_port() matches the VF number with\nthe one in 'phys_port_name' file. If and when multiple PFs on the same\ncard are configured in switchdev mode, we could end up returning a wrong\nrepresentor device. Fix this by including the parent PF number also in\nthis logic, when 'pfXvfY' (or vfY@pfX) format is used in 'phys_port_name'\nfile.\n\nThis patch also provides corresponding changes in unit tests. The tests\nhave been updated to validate 'phys_port_name' in 'pfXvfY' format (in\naddition to the simple format - vfX or X). The test case for 2 PFs\nspecifically utilizes the 'pfXvfY' format, since otherwise it won't\nbe possible to disambiguate VFs with the same VF-ID under 2 PFs on the\nsame card (switch).\n\nChange-Id: I5727878b63026a19fafcf7e71dda3ba480432fbf\nSigned-off-by: Sriharsha Basavapatna <sriharsha.basavapatna@broadcom.com>\n""}, {'number': 4, 'created': '2018-01-12 19:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/b493ee61c624484ab0da8a3df26b59ed9b326bd1', 'message': ""Fix VF-rep lookup routine to use parent PF number\n\nThe current logic in get_representor_port() matches the VF number with\nthe one in 'phys_port_name' file. If and when multiple PFs on the same\ncard are configured in switchdev mode, we could end up returning a wrong\nrepresentor device. Fix this by including the parent PF number also in\nthis logic, when 'pfXvfY' (or vfY@pfX) format is used in 'phys_port_name'\nfile.\n\nThis patch also provides corresponding changes in unit tests. The tests\nhave been updated to validate 'phys_port_name' in 'pfXvfY' format (in\naddition to the simple format - vfX or X). The test case for 2 PFs\nspecifically utilizes the 'pfXvfY' format, since otherwise it won't\nbe possible to disambiguate VFs with the same VF-ID under 2 PFs on the\nsame card (switch).\n\nChange-Id: I5727878b63026a19fafcf7e71dda3ba480432fbf\nSigned-off-by: Sriharsha Basavapatna <sriharsha.basavapatna@broadcom.com>\n""}, {'number': 5, 'created': '2018-01-16 04:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/2aa564ffdb4f875a3d56433de575d8883ecd513f', 'message': ""Fix VF-rep lookup routine to use parent PF number\n\nThe current logic in get_representor_port() matches the VF number with\nthe one in 'phys_port_name' file. If and when multiple PFs on the same\ncard are configured in switchdev mode, we could end up returning a wrong\nrepresentor device. Fix this by including the parent PF number also in\nthis logic, when 'pfXvfY' (or vfY@pfX) format is used in 'phys_port_name'\nfile.\n\nThis patch also provides corresponding changes in unit tests. The tests\nhave been updated to validate 'phys_port_name' in 'pfXvfY' format (in\naddition to the simple format - vfX or X). The test case for 2 PFs\nspecifically utilizes the 'pfXvfY' format, since otherwise it won't\nbe possible to disambiguate VFs with the same VF-ID under 2 PFs on the\nsame card (switch).\n\nChange-Id: I5727878b63026a19fafcf7e71dda3ba480432fbf\nCloses-Bug: #1743494\nSigned-off-by: Sriharsha Basavapatna <sriharsha.basavapatna@broadcom.com>\n""}, {'number': 6, 'created': '2018-01-17 22:20:34.000000000', 'files': ['vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/84688a22db22039f5566c1439c3983db23672a45', 'message': ""Fix VF-rep lookup routine to use parent PF number\n\nThe current logic in get_representor_port() matches the VF number with\nthe one in 'phys_port_name' file. If and when multiple PFs on the same\ncard are configured in switchdev mode, we could end up returning a wrong\nrepresentor device. Fix this by including the parent PF number also in\nthis logic, when 'pfXvfY' (or vfY@pfX) format is used in 'phys_port_name'\nfile.\n\nThis patch also provides corresponding changes in unit tests. The tests\nhave been updated to validate 'phys_port_name' in 'pfXvfY' format (in\naddition to the simple format - vfX or X). The test case for 2 PFs\nspecifically utilizes the 'pfXvfY' format, since otherwise it won't\nbe possible to disambiguate VFs with the same VF-ID under 2 PFs on the\nsame card (switch).\n\nChange-Id: I5727878b63026a19fafcf7e71dda3ba480432fbf\nCloses-Bug: #1743494\nSigned-off-by: Sriharsha Basavapatna <sriharsha.basavapatna@broadcom.com>\n""}]",6,531674,84688a22db22039f5566c1439c3983db23672a45,40,7,6,27540,,,0,"Fix VF-rep lookup routine to use parent PF number

The current logic in get_representor_port() matches the VF number with
the one in 'phys_port_name' file. If and when multiple PFs on the same
card are configured in switchdev mode, we could end up returning a wrong
representor device. Fix this by including the parent PF number also in
this logic, when 'pfXvfY' (or vfY@pfX) format is used in 'phys_port_name'
file.

This patch also provides corresponding changes in unit tests. The tests
have been updated to validate 'phys_port_name' in 'pfXvfY' format (in
addition to the simple format - vfX or X). The test case for 2 PFs
specifically utilizes the 'pfXvfY' format, since otherwise it won't
be possible to disambiguate VFs with the same VF-ID under 2 PFs on the
same card (switch).

Change-Id: I5727878b63026a19fafcf7e71dda3ba480432fbf
Closes-Bug: #1743494
Signed-off-by: Sriharsha Basavapatna <sriharsha.basavapatna@broadcom.com>
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/74/531674/3 && git format-patch -1 --stdout FETCH_HEAD,['vif_plug_ovs/linux_net.py'],1,b30fd3e718adbdcd2ce3eb8ddec3a027e1a34f0c,bug/1743494,"import commands# bus_info (bdf) contains <bus>:<dev>.<func> PF_FUNC_RE = re.compile(""\.(\d+)"", 0)def _get_pf_func(pf_ifname): """"""Gets PF function number using pf_ifname and returns function number or None. To determine the PF function number from the pf_ifname, get the output of 'ethtool -i <pf_ifname> | grep bus_info' and parse the PCI function number and return the first valid match. """""" cmd_string = ""ethtool -i %s | grep bus-info"" % pf_ifname bus_info = commands.getoutput(cmd_string) match = PF_FUNC_RE.search(bus_info) if match: return match.group(1) return None # If the phys_port_name of the VF-rep is of the format pfXvfY, # then match ""X"" (parent PF's func number) with the PCI func # number of pf_ifname. rep_parent_pf_func = _parse_pf_number(phys_port_name) if rep_parent_pf_func is not None: ifname_pf_func = _get_pf_func(pf_ifname) if int(rep_parent_pf_func) != int(ifname_pf_func): continue ",,27,0
openstack%2Fpuppet-tripleo~master~Ie5b9e98ea2fc16b820d56272653df4874e81cf68,openstack/puppet-tripleo,master,Ie5b9e98ea2fc16b820d56272653df4874e81cf68,Fixes incorrect ownership of ODL TLS cert/key,MERGED,2018-03-20 13:30:46.000000000,2018-03-21 13:05:11.000000000,2018-03-21 12:13:17.000000000,"[{'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 17280}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-20 13:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0b6291495dc37214930e8ef57f00d06442173314', 'message': ""Fixes incorrect ownership of ODL TLS cert/key\n\nDeployments were failing because the owner/group of the TLS generated\ncertificate and key were set to 'odl'.  This user and group does not\nexist in a containerized deployment because the ODL RPM is only\ninstalled in the container.\n\nThis patch leaves the owner as root for the files which works because\nthe files are only used to generate a keystore for ODL (which is owned\nby odl), and the cert/key files themselves are never read by ODL.\n\nCloses-Bug: 1757135\n\nChange-Id: Ie5b9e98ea2fc16b820d56272653df4874e81cf68\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n""}, {'number': 2, 'created': '2018-03-20 16:47:13.000000000', 'files': ['spec/classes/tripleo_certmonger_opendaylight_spec.rb', 'releasenotes/notes/fix-odl-tls-owner-77d2d71fe39ea3e7.yaml', 'manifests/certmonger/opendaylight.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e11804237e81c8488bd008603638d5f62758acb7', 'message': ""Fixes incorrect ownership of ODL TLS cert/key\n\nDeployments were failing because the owner/group of the TLS generated\ncertificate and key were set to 'odl'.  This user and group does not\nexist in a containerized deployment because the ODL RPM is only\ninstalled in the container.\n\nThis patch leaves the owner as root for the files which works because\nthe files are only used to generate a keystore for ODL (which is owned\nby odl), and the cert/key files themselves are never read by ODL.\n\nCloses-Bug: 1757135\n\nChange-Id: Ie5b9e98ea2fc16b820d56272653df4874e81cf68\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n""}]",0,554537,e11804237e81c8488bd008603638d5f62758acb7,22,5,2,17280,,,0,"Fixes incorrect ownership of ODL TLS cert/key

Deployments were failing because the owner/group of the TLS generated
certificate and key were set to 'odl'.  This user and group does not
exist in a containerized deployment because the ODL RPM is only
installed in the container.

This patch leaves the owner as root for the files which works because
the files are only used to generate a keystore for ODL (which is owned
by odl), and the cert/key files themselves are never read by ODL.

Closes-Bug: 1757135

Change-Id: Ie5b9e98ea2fc16b820d56272653df4874e81cf68
Signed-off-by: Tim Rozet <trozet@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/37/554537/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-odl-tls-owner-77d2d71fe39ea3e7.yaml', 'manifests/certmonger/opendaylight.pp']",2,0b6291495dc37214930e8ef57f00d06442173314,bug/1757135,," owner => 'odl', group => 'odl', owner => 'odl', group => 'odl',",5,4
openstack%2Frpm-packaging~stable%2Fqueens~Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798,openstack/rpm-packaging,stable/queens,Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798,Add monasca tempest plugin package,MERGED,2018-03-20 14:45:03.000000000,2018-03-21 12:59:16.000000000,2018-03-21 12:59:16.000000000,"[{'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24580}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-03-20 14:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0cb120f17999e921dab9d885540ed8ed4a21f6df', 'message': 'Add monasca tempest plugin package\n\nThis patch add monasca tempest plugin package spec template.\n\nChange-Id: Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798\nCo-Authored-By: Scott Grasley <sgrasley@suse.com>\n(cherry picked from commit c9cabc77ceb740c0797ada0d97742dd51af29e34)\n'}, {'number': 2, 'created': '2018-03-21 09:20:54.000000000', 'files': ['openstack/monasca-tempest-plugin/monasca-tempest-plugin.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/27b9afe508aa21c1221de7687374fc1f8dd4c6c0', 'message': 'Add monasca tempest plugin package\n\nThis patch add monasca tempest plugin package spec template.\n\nChange-Id: Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798\nCo-Authored-By: Scott Grasley <sgrasley@suse.com>\n(cherry picked from commit c9cabc77ceb740c0797ada0d97742dd51af29e34)\n'}]",0,554575,27b9afe508aa21c1221de7687374fc1f8dd4c6c0,24,7,2,24580,,,0,"Add monasca tempest plugin package

This patch add monasca tempest plugin package spec template.

Change-Id: Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798
Co-Authored-By: Scott Grasley <sgrasley@suse.com>
(cherry picked from commit c9cabc77ceb740c0797ada0d97742dd51af29e34)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/75/554575/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-tempest-plugin/monasca-tempest-plugin.spec.j2'],1,0cb120f17999e921dab9d885540ed8ed4a21f6df,monasca-tempest-plugin-stable/queens,"{% set pypi_name = 'monasca-tempest-plugin' %} {% set source=fetch_source('http://tarballs.openstack.org/monasca-tempest-plugin/monasca-tempest-plugin-master.tar.gz') %} {% set upstream_version = upstream_version() %} {% set rpm_release = '1' %} %global sname monasca_tempest_plugin %global with_doc 0 %global common_desc \ This package contains Tempest tests to cover the monasca project. \ Additionally it provides a plugin to automatically load these tests into Tempest. Name: {{ py2pkg('monasca-tempest-plugin') }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }} Summary: Tempest plugin for the monaca project License: {{ license('Apache-2.0') }} Group: Development/Languages/Python URL: https://git.openstack.org/cgit/openstack/{{ pypi_name }} Source0: {{ source|basename }} BuildRequires: openstack-macros BuildRequires: {{ py2pkg('devel') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('setuptools') }} Requires: {{ py2pkg('Tempest') }} Requires: {{ py2pkg('mock') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('oslotest') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('six') }} BuildArch: noarch %description %{common_desc} %if 0%{?with_doc} %package doc Summary: Documentation for monasca tempest plugin BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }} %description doc It contains the documentation for the monasca tempest tests. %endif %prep %autosetup -n {{ pypi_name }}-{{ upstream_version }} # Let's handle dependencies ourseleves %py_req_cleanup # Remove bundled egg-info rm -rf %{module}.egg-info %build %{py2_build} # Generate Docs %if 0%{?with_doc} %{__python2} setup.py build_sphinx # remove the sphinx build leftovers rm -rf doc/build/html/.{doctrees,buildinfo} %endif %install %{py2_install} %files %license LICENSE %doc README.rst %{python2_sitelib}/monasca_tempest_tests %{python2_sitelib}/*.egg-info %if 0%{?with_doc} %files doc %doc doc/build/html %license LICENSE %endif %changelog ",,79,0
openstack%2Fopenstack-ansible-os_neutron~stable%2Fqueens~I00ec7a01e5790223d378317f2354bb78ddba5ee3,openstack/openstack-ansible-os_neutron,stable/queens,I00ec7a01e5790223d378317f2354bb78ddba5ee3,add networking-bgpvpn repo correctly for the tests,MERGED,2018-03-21 09:36:30.000000000,2018-03-21 12:54:47.000000000,2018-03-21 12:54:47.000000000,"[{'_account_id': 6816}, {'_account_id': 15362}, {'_account_id': 17068}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25505}]","[{'number': 1, 'created': '2018-03-21 09:36:30.000000000', 'files': ['tests/neutron-overrides-opendaylight-bgpvpn.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/4bbb681632f2d577585905982d81fa019332f993', 'message': 'add networking-bgpvpn repo correctly for the tests\n\nChange-Id: I00ec7a01e5790223d378317f2354bb78ddba5ee3\nSigned-off-by: Periyasamy Palanisamy <periyasamy.palanisamy@ericsson.com>\n(cherry picked from commit 2e86cbd4d4d7c3f06b0955272845d7075d1e3427)\n'}]",0,554844,4bbb681632f2d577585905982d81fa019332f993,9,7,1,26445,,,0,"add networking-bgpvpn repo correctly for the tests

Change-Id: I00ec7a01e5790223d378317f2354bb78ddba5ee3
Signed-off-by: Periyasamy Palanisamy <periyasamy.palanisamy@ericsson.com>
(cherry picked from commit 2e86cbd4d4d7c3f06b0955272845d7075d1e3427)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/44/554844/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/neutron-overrides-opendaylight-bgpvpn.yml'],1,4bbb681632f2d577585905982d81fa019332f993,, - name: networking-bgpvpn repo: https://git.openstack.org/openstack/networking-bgpvpn, - name: https://git.openstack.org/openstack/networking-bgpvpn,2,1
openstack%2Foslo.config~master~I35ef216552b0b8def9c70b262825acb4a50083f4,openstack/oslo.config,master,I35ef216552b0b8def9c70b262825acb4a50083f4,add user documentation for get_location(),MERGED,2018-01-24 14:35:43.000000000,2018-03-21 12:49:57.000000000,2018-03-21 12:49:56.000000000,"[{'_account_id': 7}, {'_account_id': 6722}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-24 14:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/18d447e0cef93d5d4b0a91c82ae22022613fb1b6', 'message': 'add user documentation for get_location()\n\nChange-Id: I35ef216552b0b8def9c70b262825acb4a50083f4\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-02-05 19:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/bdf28f60bd9025264db4222846eec11bef18cc6b', 'message': 'add user documentation for get_location()\n\nChange-Id: I35ef216552b0b8def9c70b262825acb4a50083f4\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-02-05 19:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/fe070d151ea10cda02cededfac0b55f58d789f3c', 'message': 'add user documentation for get_location()\n\nChange-Id: I35ef216552b0b8def9c70b262825acb4a50083f4\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2018-03-15 14:14:10.000000000', 'files': ['doc/source/reference/index.rst', 'doc/source/reference/locations.rst'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/835cad6aa0a9be8506e7cc137e7931f0a054806c', 'message': 'add user documentation for get_location()\n\nChange-Id: I35ef216552b0b8def9c70b262825acb4a50083f4\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,537401,835cad6aa0a9be8506e7cc137e7931f0a054806c,15,6,4,2472,,,0,"add user documentation for get_location()

Change-Id: I35ef216552b0b8def9c70b262825acb4a50083f4
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/01/537401/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/index.rst', 'doc/source/reference/locations.rst']",2,18d447e0cef93d5d4b0a91c82ae22022613fb1b6,setting-location,"========================== Option Setting Locations ========================== .. currentmodule:: oslo_config.cfg The :func:`~ConfigOpts.get_location` method of :class:`ConfigOpts` can be used to determine where the value for an option was set, either by the user or by the application code. The return value is a :class:`LocationInfo` instance, which includes 2 fields: ``location`` and ``detail``. The ``location`` value is a member of the :class:`Locations` enum, which has 5 possible values. The ``detail`` value is a string describing the location. Its value depends on the ``location``. .. list-table:: :header-rows: 1 :widths: 15 15 35 35 * - Value - ``is_user_controlled`` - Description - ``detail`` * - ``opt_default`` - ``False`` - The original default set when the option was defined. - The source file name where the option is defined. * - ``set_default`` - ``False`` - A default value set by the application as an override of the original default. This usually only applies to options defined in libraries. - The source file name where :func:`~ConfigOpts.set_default` or :func:`set_defaults` was called. * - ``set_override`` - ``False`` - A forced value set by the application. - The source file name where :func:`~ConfigOpts.set_override` was called. * - ``user`` - ``True`` - A value set by the user through a configuration backend such as a file. - The configuration file where the option is set. * - ``command_line`` - ``True`` - A value set by the user on the command line. - Empty string. Did a user set a configuration option? ====================================== Each :class:`Locations` enum value has a boolean property indicating whether that type of location is managed by the user. This eliminates the need for application code to track which types of locations are user-controlled separately. .. code-block:: python loc = CONF.get_location('normal_opt') if loc.is_user_controlled: print('normal_opt was set by the user') else: print('normal_opt was set by the application') ",,66,1
openstack%2Foslo.config~master~I04ce72dbc5f676296acfeafc13169177ad815350,openstack/oslo.config,master,I04ce72dbc5f676296acfeafc13169177ad815350,track config file and command line locations for user settings,MERGED,2018-01-24 14:35:43.000000000,2018-03-21 12:49:55.000000000,2018-03-21 12:49:55.000000000,"[{'_account_id': 7}, {'_account_id': 2472}, {'_account_id': 6722}, {'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-24 14:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/a5dd279a62a8add1979fbe10eaecaac95d2c126a', 'message': 'track config file and command line locations for user settings\n\nKeep track of which configuration file a group of settings is in to\ntry to report that as a detail for user settings.\n\nTrack settings from the command line separately from settings in the\nconfiguration files.\n\nIt is possible that the configuration file details can be wrong if a\ngroup appears in more than one file. We can be more accurate with this\nafter we have the backend driver feature implemented, but since most\ndeployments use a single file so this should be relatively useful.\n\nChange-Id: I04ce72dbc5f676296acfeafc13169177ad815350\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-02-05 19:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/eb899efaed4991a8643253cd24c2ca804d139e9d', 'message': 'track config file and command line locations for user settings\n\nKeep track of which configuration file a group of settings is in to\ntry to report that as a detail for user settings.\n\nTrack settings from the command line separately from settings in the\nconfiguration files.\n\nIt is possible that the configuration file details can be wrong if a\ngroup appears in more than one file. We can be more accurate with this\nafter we have the backend driver feature implemented, but since most\ndeployments use a single file so this should be relatively useful.\n\nChange-Id: I04ce72dbc5f676296acfeafc13169177ad815350\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-02-05 19:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/6bd61b393ed18d352df99ca679daf2e534ed6a9a', 'message': 'track config file and command line locations for user settings\n\nKeep track of which configuration file a group of settings is in to\ntry to report that as a detail for user settings.\n\nTrack settings from the command line separately from settings in the\nconfiguration files.\n\nIt is possible that the configuration file details can be wrong if a\ngroup appears in more than one file. We can be more accurate with this\nafter we have the backend driver feature implemented, but since most\ndeployments use a single file so this should be relatively useful.\n\nChange-Id: I04ce72dbc5f676296acfeafc13169177ad815350\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2018-03-15 14:14:10.000000000', 'files': ['oslo_config/tests/test_get_location.py', 'oslo_config/fixture.py', 'oslo_config/tests/test_cfg.py', 'oslo_config/cfg.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/2fce6fc40a7d3b0124b14e3cfa3a9bcf141b4458', 'message': 'track config file and command line locations for user settings\n\nKeep track of which configuration file a group of settings is in to\ntry to report that as a detail for user settings.\n\nTrack settings from the command line separately from settings in the\nconfiguration files.\n\nIt is possible that the configuration file details can be wrong if a\ngroup appears in more than one file. We can be more accurate with this\nafter we have the backend driver feature implemented, but since most\ndeployments use a single file so this should be relatively useful.\n\nChange-Id: I04ce72dbc5f676296acfeafc13169177ad815350\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",3,537400,2fce6fc40a7d3b0124b14e3cfa3a9bcf141b4458,16,6,4,2472,,,0,"track config file and command line locations for user settings

Keep track of which configuration file a group of settings is in to
try to report that as a detail for user settings.

Track settings from the command line separately from settings in the
configuration files.

It is possible that the configuration file details can be wrong if a
group appears in more than one file. We can be more accurate with this
after we have the backend driver feature implemented, but since most
deployments use a single file so this should be relatively useful.

Change-Id: I04ce72dbc5f676296acfeafc13169177ad815350
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/00/537400/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/tests/test_get_location.py', 'oslo_config/fixture.py', 'oslo_config/tests/test_cfg.py', 'oslo_config/cfg.py']",4,a5dd279a62a8add1979fbe10eaecaac95d2c126a,setting-location," command_line = (5, True) value, loc = namespace._get_value( return (value, loc) namespace._add_parsed_config_file(config_file, sections, normalized) namespace._parse_cli_opts_from_config_file( config_file, sections, normalized) self._add_parsed_config_file(filename, sections, normalized) def _add_parsed_config_file(self, filename, sections, normalized): self._sections_to_file = {} def _parse_cli_opts_from_config_file(self, config_file, sections, normalized): namespace._add_parsed_config_file(config_file, sections, normalized) value, loc = opt._get_from_namespace(namespace, group_name) def _add_parsed_config_file(self, filename, sections, normalized): for s in sections: self._sections_to_file[s] = filename loc = None if loc is None: loc = LocationInfo( Locations.user, self._sections_to_file.get(section, ''), ) return (val, loc) if multi and rvalue != []: return (rvalue, loc) # NOTE(dhellmann): We don't have a way to track which options # that are registered as command line values show up on the # command line or in the configuration files. So we look up # the value in the file first to get the location, and then # try looking it up as a CLI value in case it was set there. # Set a default location indicating that the value came from # the command line. This will be overridden if we find a value # in a file. loc = LocationInfo(Locations.command_line, '') try: file_names = [(g if g is not None else 'DEFAULT', n) for g, n in names] values, loc = self._get_file_value( file_names, multi=multi, normalized=normalized, except KeyError: # If we receive a KeyError when looking for the CLI, just # go ahead and throw it because we know we don't have a # value. raise_later = True else: raise_later = False # Now try the CLI try: value = self._get_cli_value(names, positional) return (value, loc) except KeyError: if raise_later: # Re-raise to indicate that we haven't found the value # anywhere. raise # Return the value we found in the file. return (values if multi else values[-1], loc) val, alt_loc = opt._get_from_namespace(namespace, group_name) return (convert(val), alt_loc) value, loc = opt._get_from_namespace(namespace, group_name) old, _ = opt._get_from_namespace(self._namespace, groupname) new, _ = opt._get_from_namespace(self._mutable_ns, groupname) old, _ = opt._get_from_namespace(old_ns, groupname) new, _ = opt._get_from_namespace(new_ns, groupname)"," value = namespace._get_value( return value namespace._add_parsed_config_file(sections, normalized) namespace._parse_cli_opts_from_config_file(sections, normalized) self._add_parsed_config_file(sections, normalized) def _add_parsed_config_file(self, sections, normalized): def _parse_cli_opts_from_config_file(self, sections, normalized): namespace._add_parsed_config_file(sections, normalized) value = opt._get_from_namespace(namespace, group_name) def _add_parsed_config_file(self, sections, normalized): return val if multi and rvalue != []: return rvalue try: return self._get_cli_value(names, positional) except KeyError: names = [(g if g is not None else 'DEFAULT', n) for g, n in names] values = self._get_file_value( names, multi=multi, normalized=normalized, return values if multi else values[-1] return ( convert(opt._get_from_namespace(namespace, group_name)), loc, ) value = opt._get_from_namespace(namespace, group_name) old = opt._get_from_namespace(self._namespace, groupname) new = opt._get_from_namespace(self._mutable_ns, groupname) old = opt._get_from_namespace(old_ns, groupname) new = opt._get_from_namespace(new_ns, groupname)",137,29
openstack%2Fservice-types-authority~master~I99e0601b293cc42c2da67ead82c50ba412dc022e,openstack/service-types-authority,master,I99e0601b293cc42c2da67ead82c50ba412dc022e,Add qinling project,MERGED,2018-03-08 11:30:01.000000000,2018-03-21 12:48:33.000000000,2018-03-21 12:48:33.000000000,"[{'_account_id': 2}, {'_account_id': 6732}, {'_account_id': 8482}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-08 11:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/service-types-authority/commit/6532437d9906ef3a21abb9405614bc2f8828248e', 'message': 'Add qinling project\n\nChange-Id: I99e0601b293cc42c2da67ead82c50ba412dc022e\n'}, {'number': 2, 'created': '2018-03-12 22:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/service-types-authority/commit/2ecc5017eef8d72bc93dbcc686f57f7c0c8ae8d5', 'message': 'Add qinling project\n\nChange-Id: I99e0601b293cc42c2da67ead82c50ba412dc022e\n'}, {'number': 3, 'created': '2018-03-15 04:12:06.000000000', 'files': ['service-types.yaml'], 'web_link': 'https://opendev.org/openstack/service-types-authority/commit/5b97acc64ffda1d67232e930a4aa4a5350758831', 'message': 'Add qinling project\n\nChange-Id: I99e0601b293cc42c2da67ead82c50ba412dc022e\n'}]",3,550787,5b97acc64ffda1d67232e930a4aa4a5350758831,20,7,3,6732,,,0,"Add qinling project

Change-Id: I99e0601b293cc42c2da67ead82c50ba412dc022e
",git fetch https://review.opendev.org/openstack/service-types-authority refs/changes/87/550787/2 && git format-patch -1 --stdout FETCH_HEAD,['service-types.yaml'],1,6532437d9906ef3a21abb9405614bc2f8828248e,add-qinling,- service_type: severless project: qinling aliases: - function-engine ,,5,0
openstack%2Fhorizon~master~I3d89cc2aa3e410b9e5a3e169a1ec93c42f81eaa3,openstack/horizon,master,I3d89cc2aa3e410b9e5a3e169a1ec93c42f81eaa3,Imported Translations from Zanata,MERGED,2018-03-21 07:38:35.000000000,2018-03-21 12:42:28.000000000,2018-03-21 12:42:27.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 07:38:35.000000000', 'files': ['openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'openstack_dashboard/locale/de/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/fde0095776e81b14ee1001ade97e1f289619715d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I3d89cc2aa3e410b9e5a3e169a1ec93c42f81eaa3\n'}]",0,554820,fde0095776e81b14ee1001ade97e1f289619715d,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3d89cc2aa3e410b9e5a3e169a1ec93c42f81eaa3
",git fetch https://review.opendev.org/openstack/horizon refs/changes/20/554820/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",7,fde0095776e81b14ee1001ade97e1f289619715d,zanata/translations,"""POT-Creation-Date: 2018-03-20 22:03+0000\n""""PO-Revision-Date: 2018-03-20 05:25+0000\n""""[`blueprint ng-server-groups <https://blueprints.launchpad.net/horizon/+spec/"" ""ng-server-groups>`_] This blueprint add angular server groups panel below "" ""the Project->Compute panel group. The panel turns on if Nova API extension "" ""'ServerGroups' is available. It displays information about server groups. "" ""The details page for each server group also shows information about "" ""instances of that server group. Supported actions: create, delete."" msgstr """" ""[`blueprint ng-server-groups <https://blueprints.launchpad.net/horizon/+spec/"" ""ng-server-groups>`_] This blueprint add Angular server groups panel below "" ""the Project->Compute panel group. The panel turns on if Nova API extension "" ""'ServerGroups' is available. It displays information about server groups. "" ""The details page for each server group also shows information about "" ""instances of that server group. Supported actions: create, delete."" msgid """" ""[`blueprint ng-users <https://blueprints.launchpad.net/horizon/+spec/ng-"" ""users>`_] AngularJS-based Users panel is added. The features in the legacy "" ""panel are almost implemented. The Users panel now may be configured to use "" ""either the legacy or AngularJS-based codes. The ANGULAR_FEATURES setting now "" ""allows for a `users_panel`. If set to True, then the AngularJS-Based Users "" ""panel will be used, while the Django version will be used if set to False. "" ""Default value for users_panel is False, due to lack of extensional buttons, "" ""i.e. for showing password and adding project, see also [`bug/1733271 "" ""<https://bugs.launchpad.net/horizon/1744271>`_]."" msgstr """" ""[`blueprint ng-users <https://blueprints.launchpad.net/horizon/+spec/ng-"" ""users>`_] AngularJS-based Users panel is added. The features in the legacy "" ""panel are almost implemented. The Users panel now may be configured to use "" ""either the legacy or AngularJS-based codes. The ANGULAR_FEATURES setting now "" ""allows for a `users_panel`. If set to True, then the AngularJS-Based Users "" ""panel will be used, while the Django version will be used if set to False. "" ""Default value for users_panel is False, due to lack of extensional buttons, "" ""i.e. for showing password and adding project, see also [`bug/1733271 "" ""<https://bugs.launchpad.net/horizon/1744271>`_]."" msgid """"""[`bug/1733271 <https://bugs.launchpad.net/horizon/1744271>`_] Users panel "" ""has Angularized, but buttons showing passwords is not implemented, i.e. for "" ""Password, Confirm Password and Admin password. Also, button adding project "" ""for selection of Primary Project is not implemented."" msgstr """" ""[`bug/1733271 <https://bugs.launchpad.net/horizon/1744271>`_] Users panel "" ""has Angularised, but buttons showing passwords is not implemented, i.e. for "" ""Password, Confirm Password and Admin password. Also, button adding project "" ""for selection of Primary Project is not implemented."" msgid """"","""POT-Creation-Date: 2018-03-20 04:29+0000\n""""PO-Revision-Date: 2018-03-19 09:43+0000\n""",336,21
openstack%2Fdevstack-plugin-amqp1~master~I1355d7dd6767378bacd7394013416ac0d27c8770,openstack/devstack-plugin-amqp1,master,I1355d7dd6767378bacd7394013416ac0d27c8770,update configuration for qdrouter v1.0.0,MERGED,2018-02-23 22:01:45.000000000,2018-03-21 12:33:59.000000000,2018-03-21 12:33:58.000000000,"[{'_account_id': 8770}, {'_account_id': 20523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 22:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-amqp1/commit/75ad22899e31d66bbc4d3152fca12bebf4a0c61f', 'message': 'update configuration for qdrouter v1.0.0\n\nChange-Id: I1355d7dd6767378bacd7394013416ac0d27c8770\n'}, {'number': 2, 'created': '2018-03-20 20:34:22.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-amqp1/commit/70e18b5738d7c1a77adc41217d96ea3e2830ab67', 'message': 'update configuration for qdrouter v1.0.0\n\nChange-Id: I1355d7dd6767378bacd7394013416ac0d27c8770\n'}]",0,547678,70e18b5738d7c1a77adc41217d96ea3e2830ab67,9,3,2,8770,,,0,"update configuration for qdrouter v1.0.0

Change-Id: I1355d7dd6767378bacd7394013416ac0d27c8770
",git fetch https://review.opendev.org/openstack/devstack-plugin-amqp1 refs/changes/78/547678/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,75ad22899e31d66bbc4d3152fca12bebf4a0c61f,fix-qdrouterd-conf, host: 0.0.0.0 enable: trace+, debugDump: /opt/stack/amqp1 addr: 0.0.0.0 enable: info+,2,3
openstack%2Fcompute-hyperv~master~I4a8167b385c0f778e60f40bc504a9482f22266ce,openstack/compute-hyperv,master,I4a8167b385c0f778e60f40bc504a9482f22266ce,Updated from global requirements,MERGED,2018-03-10 13:09:15.000000000,2018-03-21 12:27:21.000000000,2018-03-21 12:27:21.000000000,"[{'_account_id': 8213}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-10 13:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/2b632010557f2118df75ce9b4728723ce6560742', 'message': 'Updated from global requirements\n\nChange-Id: I4a8167b385c0f778e60f40bc504a9482f22266ce\n'}, {'number': 2, 'created': '2018-03-14 05:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/ce31249e472f7cd9abfbc32a16ba67a0ad1a20b8', 'message': 'Updated from global requirements\n\nChange-Id: I4a8167b385c0f778e60f40bc504a9482f22266ce\n'}, {'number': 3, 'created': '2018-03-15 06:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/271557fc46cffb1e9ea8c5bbf266951ecce58a22', 'message': 'Updated from global requirements\n\nChange-Id: I4a8167b385c0f778e60f40bc504a9482f22266ce\n'}, {'number': 4, 'created': '2018-03-16 07:20:15.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/24b2bc3322bca6550baecb476c6c2889da435c4f', 'message': 'Updated from global requirements\n\nChange-Id: I4a8167b385c0f778e60f40bc504a9482f22266ce\n'}]",0,551461,24b2bc3322bca6550baecb476c6c2889da435c4f,16,2,4,11131,,,0,"Updated from global requirements

Change-Id: I4a8167b385c0f778e60f40bc504a9482f22266ce
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/61/551461/3 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2b632010557f2118df75ce9b4728723ce6560742,openstack/requirements,"sphinx!=1.6.6,<1.7.0,>=1.6.2 # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",1,1
openstack%2Fnetworking-hyperv~master~I41a9b2b2dcea46ed9f6f1d5fa61b8d70e5bcb546,openstack/networking-hyperv,master,I41a9b2b2dcea46ed9f6f1d5fa61b8d70e5bcb546,Updated from global requirements,MERGED,2018-03-10 13:25:21.000000000,2018-03-21 12:25:18.000000000,2018-03-21 12:25:18.000000000,"[{'_account_id': 8213}, {'_account_id': 22348}, {'_account_id': 27802}]","[{'number': 1, 'created': '2018-03-10 13:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/447b94790a5af4c2e8734af9486560f0e295344c', 'message': 'Updated from global requirements\n\nChange-Id: I41a9b2b2dcea46ed9f6f1d5fa61b8d70e5bcb546\n'}, {'number': 2, 'created': '2018-03-14 05:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/d3ee23438c4ee254dd7460fdff7b4afabdffe9c5', 'message': 'Updated from global requirements\n\nChange-Id: I41a9b2b2dcea46ed9f6f1d5fa61b8d70e5bcb546\n'}, {'number': 3, 'created': '2018-03-15 07:18:14.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/4359badbb8d30be792bcf574ad4e792b47430da7', 'message': 'Updated from global requirements\n\nChange-Id: I41a9b2b2dcea46ed9f6f1d5fa61b8d70e5bcb546\n'}]",0,551522,4359badbb8d30be792bcf574ad4e792b47430da7,12,3,3,11131,,,0,"Updated from global requirements

Change-Id: I41a9b2b2dcea46ed9f6f1d5fa61b8d70e5bcb546
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/22/551522/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,447b94790a5af4c2e8734af9486560f0e295344c,openstack/requirements,"sphinx!=1.6.6,<1.7.0,>=1.6.2 # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",1,1
openstack%2Fkolla-ansible~master~I5c2c134051e336c2d5f251e7b51f3e7e5fe21763,openstack/kolla-ansible,master,I5c2c134051e336c2d5f251e7b51f3e7e5fe21763,Change default value of keystone_token_provider to fernet.,ABANDONED,2018-03-20 15:50:49.000000000,2018-03-21 12:18:08.000000000,,"[{'_account_id': 16520}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 15:50:49.000000000', 'files': ['ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/group_vars/all.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3d6059babd275a910ec1ff9f22fe171ea359a721', 'message': ""Change default value of keystone_token_provider to fernet.\n\nThe previous default value of 'uuid' is no longer allowed by\nKeystone.  See:\nhttps://review.openstack.org/#/c/543060\n\nChange-Id: I5c2c134051e336c2d5f251e7b51f3e7e5fe21763\n""}]",0,554601,3d6059babd275a910ec1ff9f22fe171ea359a721,5,3,1,24147,,,0,"Change default value of keystone_token_provider to fernet.

The previous default value of 'uuid' is no longer allowed by
Keystone.  See:
https://review.openstack.org/#/c/543060

Change-Id: I5c2c134051e336c2d5f251e7b51f3e7e5fe21763
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/554601/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/group_vars/all.yml', 'etc/kolla/globals.yml']",3,3d6059babd275a910ec1ff9f22fe171ea359a721,rm_uuid,"# At this time, the only valid value is fernet #keystone_token_provider: 'fernet'","# Valid options are [ uuid, fernet ] #keystone_token_provider: 'uuid'",5,7
openstack%2Fopenstack-ansible~master~I01f90d8d58391215c2a6294093a65daffbc20fcf,openstack/openstack-ansible,master,I01f90d8d58391215c2a6294093a65daffbc20fcf,zuul: Make openSUSE a voting job,MERGED,2018-03-14 16:49:29.000000000,2018-03-21 12:11:06.000000000,2018-03-21 12:11:06.000000000,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-03-14 16:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/50e5109459966f543acbc1d4e3087e59494fec82', 'message': 'zuul: Make openSUSE a voting job\n\nopenSUSE only has been reliably passing ever since it switched to the\naio_basekit scenario so make it a voting job in order to start testing\nit properly in the integrated repository.\n\nChange-Id: I01f90d8d58391215c2a6294093a65daffbc20fcf\n'}, {'number': 2, 'created': '2018-03-16 11:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c71100409613f8ea621f83cdb6ca85d68cb1f4e2', 'message': 'zuul: Make openSUSE a voting job\n\nopenSUSE only has been reliably passing ever since it switched to the\naio_basekit scenario so make it a voting job in order to start testing\nit properly in the integrated repository.\n\nChange-Id: I01f90d8d58391215c2a6294093a65daffbc20fcf\n'}, {'number': 3, 'created': '2018-03-19 12:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/db6b0f34953ec2f7db7f5c9fae5930554efd3e4c', 'message': 'zuul: Make openSUSE a voting job\n\nopenSUSE only has been reliably passing ever since it switched to the\naio_basekit scenario so make it a voting job in order to start testing\nit properly in the integrated repository.\n\nChange-Id: I01f90d8d58391215c2a6294093a65daffbc20fcf\n'}, {'number': 4, 'created': '2018-03-19 18:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a2a4b9e5b2dca538cee5e0301889cf62eb12a78b', 'message': 'zuul: Make openSUSE a voting job\n\nopenSUSE only has been reliably passing ever since it switched to the\naio_basekit scenario so make it a voting job in order to start testing\nit properly in the integrated repository.\n\nChange-Id: I01f90d8d58391215c2a6294093a65daffbc20fcf\n'}, {'number': 5, 'created': '2018-03-20 02:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/29f09cd8c6237059db26e03b945a82f5f241f3b5', 'message': 'zuul: Make openSUSE a voting job\n\nopenSUSE only has been reliably passing ever since it switched to the\naio_basekit scenario so make it a voting job in order to start testing\nit properly in the integrated repository.\n\nChange-Id: I01f90d8d58391215c2a6294093a65daffbc20fcf\n'}, {'number': 6, 'created': '2018-03-20 15:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2b0fa80b90f16b8975d3d2b561044c3afb3842b5', 'message': 'zuul: Make openSUSE a voting job\n\nopenSUSE only has been reliably passing ever since it switched to the\naio_basekit scenario so make it a voting job in order to start testing\nit properly in the integrated repository. Moreover, make sure the\nopenSUSE OpenStack CI mirror is used throughout the zuul jobs.\n\nChange-Id: I01f90d8d58391215c2a6294093a65daffbc20fcf\n'}, {'number': 7, 'created': '2018-03-20 15:25:38.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b319899e0a61779375ea1a92d7dbf54b4d977367', 'message': 'zuul: Make openSUSE a voting job\n\nopenSUSE only has been reliably passing ever since it switched to the\naio_basekit scenario so make it a voting job in order to start testing\nit properly in the integrated repository. Moreover, make sure the\nopenSUSE OpenStack CI mirror is used throughout the zuul jobs.\n\nChange-Id: I01f90d8d58391215c2a6294093a65daffbc20fcf\n'}]",0,552977,b319899e0a61779375ea1a92d7dbf54b4d977367,42,6,7,23163,,,0,"zuul: Make openSUSE a voting job

openSUSE only has been reliably passing ever since it switched to the
aio_basekit scenario so make it a voting job in order to start testing
it properly in the integrated repository. Moreover, make sure the
openSUSE OpenStack CI mirror is used throughout the zuul jobs.

Change-Id: I01f90d8d58391215c2a6294093a65daffbc20fcf
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/77/552977/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,50e5109459966f543acbc1d4e3087e59494fec82,suse-check-voting, voting: true,,1,0
openstack%2Frpm-packaging~master~Iccc240189964698a07192310ce8c638bec634b3b,openstack/rpm-packaging,master,Iccc240189964698a07192310ce8c638bec634b3b,Updated oslo.versionedobjects to 1.32.0,MERGED,2018-03-14 16:10:20.000000000,2018-03-21 12:08:05.000000000,2018-03-21 12:08:05.000000000,"[{'_account_id': 6593}, {'_account_id': 9414}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-14 16:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bedcd345bf30d6f6c876d215ec19e37e44119c0e', 'message': 'Updated oslo.versionedobjects to 1.32.0\n\nChange-Id: Iccc240189964698a07192310ce8c638bec634b3b\n'}, {'number': 2, 'created': '2018-03-21 08:10:36.000000000', 'files': ['openstack/oslo.versionedobjects/oslo.versionedobjects.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9cae80fcd73379dfc340a903a5515e893507451b', 'message': 'Updated oslo.versionedobjects to 1.32.0\n\nDepends-On: https://review.openstack.org/#/c/553000/\nChange-Id: Iccc240189964698a07192310ce8c638bec634b3b\n'}]",0,552953,9cae80fcd73379dfc340a903a5515e893507451b,16,8,2,26297,,,0,"Updated oslo.versionedobjects to 1.32.0

Depends-On: https://review.openstack.org/#/c/553000/
Change-Id: Iccc240189964698a07192310ce8c638bec634b3b
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/53/552953/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.versionedobjects/oslo.versionedobjects.spec.j2'],1,bedcd345bf30d6f6c876d215ec19e37e44119c0e,oslo.versionedobjects,{% set upstream_version = upstream_version('1.32.0') %},{% set upstream_version = upstream_version('1.31.2') %},1,1
openstack%2Frpm-packaging~master~Ia09cd769f3d0eb1432650dc76da36df7754ab614,openstack/rpm-packaging,master,Ia09cd769f3d0eb1432650dc76da36df7754ab614,Updated mox3 to 0.25.0,MERGED,2018-03-14 16:08:28.000000000,2018-03-21 12:08:00.000000000,2018-03-21 12:08:00.000000000,"[{'_account_id': 6593}, {'_account_id': 9414}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-14 16:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/973493a090ea5570f466758babd1bfa84de268a6', 'message': 'Updated mox3 to 0.25.0\n\nChange-Id: Ia09cd769f3d0eb1432650dc76da36df7754ab614\n'}, {'number': 2, 'created': '2018-03-21 08:11:02.000000000', 'files': ['openstack/mox3/mox3.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e70920c3f5180b49907fed5877ce4c7f24926b6b', 'message': 'Updated mox3 to 0.25.0\n\nDepends-On: https://review.openstack.org/#/c/552995/\nChange-Id: Ia09cd769f3d0eb1432650dc76da36df7754ab614\n'}]",0,552947,e70920c3f5180b49907fed5877ce4c7f24926b6b,15,8,2,26297,,,0,"Updated mox3 to 0.25.0

Depends-On: https://review.openstack.org/#/c/552995/
Change-Id: Ia09cd769f3d0eb1432650dc76da36df7754ab614
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/47/552947/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/mox3/mox3.spec.j2'],1,973493a090ea5570f466758babd1bfa84de268a6,mox3,Version: 0.25.0,Version: 0.24.0,1,1
openstack%2Frpm-packaging~master~I4d07fe9f7533ae3c518d142014c132e63227ca15,openstack/rpm-packaging,master,I4d07fe9f7533ae3c518d142014c132e63227ca15,Updated oslo.middleware to 3.35.0,MERGED,2018-03-14 16:07:50.000000000,2018-03-21 12:07:59.000000000,2018-03-21 12:07:59.000000000,"[{'_account_id': 6593}, {'_account_id': 9414}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-14 16:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/109527fe0362151d19c94911a40ebaf96f322f05', 'message': 'Updated oslo.middleware to 3.35.0\n\nChange-Id: I4d07fe9f7533ae3c518d142014c132e63227ca15\n'}, {'number': 2, 'created': '2018-03-21 08:13:26.000000000', 'files': ['openstack/oslo.middleware/oslo.middleware.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/cf644bdb4494ed6b43ed9abc2ddcd360f41c6c66', 'message': 'Updated oslo.middleware to 3.35.0\n\nDepends-On: https://review.openstack.org/#/c/552996/\nChange-Id: I4d07fe9f7533ae3c518d142014c132e63227ca15\n'}]",0,552945,cf644bdb4494ed6b43ed9abc2ddcd360f41c6c66,14,7,2,26297,,,0,"Updated oslo.middleware to 3.35.0

Depends-On: https://review.openstack.org/#/c/552996/
Change-Id: I4d07fe9f7533ae3c518d142014c132e63227ca15
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/45/552945/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.middleware/oslo.middleware.spec.j2'],1,109527fe0362151d19c94911a40ebaf96f322f05,oslo.middleware,{% set upstream_version = upstream_version('3.35.0') %},{% set upstream_version = upstream_version('3.34.0') %},1,1
openstack%2Frpm-packaging~master~I87da106247261b3ec87e19022c5f4b62e53e1184,openstack/rpm-packaging,master,I87da106247261b3ec87e19022c5f4b62e53e1184,Updated oslo.cache to 1.29.0,MERGED,2018-03-14 16:12:42.000000000,2018-03-21 12:07:58.000000000,2018-03-21 12:07:57.000000000,"[{'_account_id': 6593}, {'_account_id': 9414}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-14 16:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/dc1be171c5236a8546268e613163e8ac28f1a0da', 'message': 'Updated oslo.cache to 1.29.0\n\nChange-Id: I87da106247261b3ec87e19022c5f4b62e53e1184\n'}, {'number': 2, 'created': '2018-03-21 08:12:43.000000000', 'files': ['openstack/oslo.cache/oslo.cache.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3e3ff11b28d83c3b48effb612af45af017ff4b16', 'message': 'Updated oslo.cache to 1.29.0\n\nDepends-On: https://review.openstack.org/#/c/552992/\nChange-Id: I87da106247261b3ec87e19022c5f4b62e53e1184\n'}]",0,552959,3e3ff11b28d83c3b48effb612af45af017ff4b16,15,8,2,26297,,,0,"Updated oslo.cache to 1.29.0

Depends-On: https://review.openstack.org/#/c/552992/
Change-Id: I87da106247261b3ec87e19022c5f4b62e53e1184
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/59/552959/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.cache/oslo.cache.spec.j2'],1,dc1be171c5236a8546268e613163e8ac28f1a0da,oslo.cache,{% set upstream_version = upstream_version('1.29.0') %},{% set upstream_version = upstream_version('1.28.0') %},1,1
openstack%2Frpm-packaging~master~I4e54c411c50ba8fcb3730d5fa66589849133f594,openstack/rpm-packaging,master,I4e54c411c50ba8fcb3730d5fa66589849133f594,Updated oslo.utils to 3.36.0,MERGED,2018-03-14 16:09:39.000000000,2018-03-21 12:07:57.000000000,2018-03-21 12:07:56.000000000,"[{'_account_id': 6593}, {'_account_id': 9414}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27686}]","[{'number': 1, 'created': '2018-03-14 16:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/96ebcd89651506793ce6992376d3050097ede847', 'message': 'Updated oslo.utils to 3.36.0\n\nChange-Id: I4e54c411c50ba8fcb3730d5fa66589849133f594\n'}, {'number': 2, 'created': '2018-03-20 12:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c3d69c4e4549ed4264a8eb706704235313d12905', 'message': 'Updated oslo.utils to 3.36.0\n\nDepends-On: https://review.openstack.org/#/c/552994/\nChange-Id: I4e54c411c50ba8fcb3730d5fa66589849133f594\n'}, {'number': 3, 'created': '2018-03-21 08:16:13.000000000', 'files': ['openstack/oslo.utils/0001-Fix-breaking-unit-tests-due-to-iso8601-changes.patch', 'openstack/oslo.utils/oslo.utils.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4f3746dc3567a1aa9a5cc951f9555a77c244646e', 'message': 'Updated oslo.utils to 3.36.0\n\nDepends-On: https://review.openstack.org/#/c/552994/\nChange-Id: I4e54c411c50ba8fcb3730d5fa66589849133f594\n'}]",0,552951,4f3746dc3567a1aa9a5cc951f9555a77c244646e,21,9,3,26297,,,0,"Updated oslo.utils to 3.36.0

Depends-On: https://review.openstack.org/#/c/552994/
Change-Id: I4e54c411c50ba8fcb3730d5fa66589849133f594
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/51/552951/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.utils/oslo.utils.spec.j2'],1,96ebcd89651506793ce6992376d3050097ede847,oslo.utils,{% set upstream_version = upstream_version('3.36.0') %},{% set upstream_version = upstream_version('3.35.0') %},1,1
openstack%2Frpm-packaging~master~I3e8c53cffa403bbf402423e39ea9b74e22a902a0,openstack/rpm-packaging,master,I3e8c53cffa403bbf402423e39ea9b74e22a902a0,Updated oslotest to 3.3.0,MERGED,2018-03-14 16:14:10.000000000,2018-03-21 12:05:14.000000000,2018-03-21 12:05:14.000000000,"[{'_account_id': 6593}, {'_account_id': 9414}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23327}]","[{'number': 1, 'created': '2018-03-14 16:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/cceb5a51676f542dd975ea0d1f2750cd5638c802', 'message': 'Updated oslotest to 3.3.0\n\nChange-Id: I3e8c53cffa403bbf402423e39ea9b74e22a902a0\n'}, {'number': 2, 'created': '2018-03-20 12:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6c1d77845682ab8412db457904b556e19bc7c245', 'message': 'Updated oslotest to 3.3.0\n\nDepends-On: https://review.openstack.org/#/c/552997/\nChange-Id: I3e8c53cffa403bbf402423e39ea9b74e22a902a0\n'}, {'number': 3, 'created': '2018-03-21 09:59:38.000000000', 'files': ['openstack/oslotest/oslotest.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9c6abcaf0862fd4025c6c6579c1f7c57668c9966', 'message': 'Updated oslotest to 3.3.0\n\nDepends-On: https://review.openstack.org/#/c/552997/\nChange-Id: I3e8c53cffa403bbf402423e39ea9b74e22a902a0\n'}]",0,552962,9c6abcaf0862fd4025c6c6579c1f7c57668c9966,19,8,3,26297,,,0,"Updated oslotest to 3.3.0

Depends-On: https://review.openstack.org/#/c/552997/
Change-Id: I3e8c53cffa403bbf402423e39ea9b74e22a902a0
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/62/552962/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslotest/oslotest.spec.j2'],1,cceb5a51676f542dd975ea0d1f2750cd5638c802,oslotest,Version: 3.3.0,Version: 3.2.0,1,1
openstack%2Fnova~stable%2Fqueens~I183cc9f80b3feec6789332860b5aeb7591b710df,openstack/nova,stable/queens,I183cc9f80b3feec6789332860b5aeb7591b710df,Update the nova-manage db archive_deleted_rows description,MERGED,2018-03-16 09:48:46.000000000,2018-03-21 12:03:07.000000000,2018-03-21 12:03:06.000000000,"[{'_account_id': 8213}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 27732}]","[{'number': 1, 'created': '2018-03-16 09:48:46.000000000', 'files': ['doc/source/cli/nova-manage.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/c714d8a910f64d836e200aa52c8e42b03d46a321', 'message': 'Update the nova-manage db archive_deleted_rows description\n\nThis patch adds the bit about removing the deleted rows from the\ninstance_mappings and request_specs tables as well permanently so\nthat the users are aware of this.\n\nChange-Id: I183cc9f80b3feec6789332860b5aeb7591b710df\n(cherry picked from commit 00a0308d2a6736d9846da89557d35c66cb30ea0d)\n'}]",0,553733,c714d8a910f64d836e200aa52c8e42b03d46a321,12,8,1,26936,,,0,"Update the nova-manage db archive_deleted_rows description

This patch adds the bit about removing the deleted rows from the
instance_mappings and request_specs tables as well permanently so
that the users are aware of this.

Change-Id: I183cc9f80b3feec6789332860b5aeb7591b710df
(cherry picked from commit 00a0308d2a6736d9846da89557d35c66cb30ea0d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/553733/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/nova-manage.rst'],1,c714d8a910f64d836e200aa52c8e42b03d46a321,update_nova_manage_docs-stable/queens, Move deleted rows from production tables to shadow tables. Note that the corresponding rows in the instance_mappings and request_specs tables of the API database are purged when instance records are archived. Specifying --verbose will print the results of the archive operation for any tables that were changed. Specifying --until-complete will make the command run, Move deleted rows from production tables to shadow tables. Specifying --verbose will print the results of the archive operation for any tables that were changed. Specifying --until-complete will make the command run,5,3
openstack%2Ftripleo-upgrade~stable%2Fqueens~Iae680d97eeef52b9145c290b0b988cb267af3b3d,openstack/tripleo-upgrade,stable/queens,Iae680d97eeef52b9145c290b0b988cb267af3b3d,New major upgrade workflow implementation.,MERGED,2018-03-12 16:32:22.000000000,2018-03-21 11:52:32.000000000,2018-03-21 11:52:32.000000000,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-03-12 16:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/717ad798fba89afda21bbad989850ce6c3d735e6', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 2, 'created': '2018-03-12 16:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/dae3f841f0e3e66a2f5aaaa66413a8cb33d274cd', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 3, 'created': '2018-03-13 11:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7d50a6aa9ba1ea5bcab46f36cf24a8e3995a7452', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 4, 'created': '2018-03-13 14:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/787213b800b4c12a45228af59ca4dbf0e26bb19f', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 5, 'created': '2018-03-13 15:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f1da3e2d3abd6bd13cc2dba5fc14d20e0a6907ad', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 6, 'created': '2018-03-13 21:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b28c1d6e928488082f43ae4adf4fce0e1a5d58f6', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 7, 'created': '2018-03-14 22:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c1cfb0e371e0a075130657a4a36bb40e6a7eff97', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 8, 'created': '2018-03-19 11:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/26e68248eb687692b404720703bc4c108ed9309d', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 9, 'created': '2018-03-19 17:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e70c0dce598991654cac20e6f2f5006df6540a36', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 10, 'created': '2018-03-21 08:53:15.000000000', 'files': ['tasks/common/convert_roles_data.yaml', 'tasks/upgrade/docker_converge_upgrade.yml', 'templates/download_images.sh.j2', 'tasks/upgrade/overcloud_upgrade_run.yml', 'tasks/upgrade/docker_composable_upgrade.yml', 'defaults/main.yml', 'README.md', 'templates/overcloud_upgrade_run.sh.j2', 'templates/overcloud_upgrade_prepare.sh.j2', 'tasks/upgrade/main.yml', 'tasks/upgrade/overcloud_upgrade_converge.yml', 'tasks/upgrade/overcloud_upgrade_prepare.yml', 'templates/create_registry_env.sh.j2', 'templates/dpdk-upgrade-env.yaml.j2', 'tasks/upgrade/create-upgrade-scripts.yaml', 'templates/overcloud_upgrade_converge.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/22469e1fe2a991899b4a612cf755e58a0fb664c6', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n(cherry picked from commit 799eea86d53577be885791cfb3f3e191420d7b65)\n'}]",1,552082,22469e1fe2a991899b4a612cf755e58a0fb664c6,30,5,10,8297,,,0,"New major upgrade workflow implementation.

This patch includes the new upgrades workflow to
upgrade to Queens into the tripleo-upgrade role.
A overcloud_upgrade_prepare.sh script will be run
to get the HEAT outputs into Ansible playbooks which
will be run later via as many scripts as roles in
the environment (Controller, Compute, etc...).
In each of these scripts the command to run the
downloaded playbooks is executed.

All containers preparation and downloading tasks
have been moved out of the upgrade playbook, so
it becomes a pre-requisite to have uploaded the
right containers before upgrading using this role.

All this new workflow is based on the steps defined
in [0].

[0] https://review.openstack.org/#/c/535859/

Change-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d
(cherry picked from commit 799eea86d53577be885791cfb3f3e191420d7b65)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/82/552082/6 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/upgrade/docker_converge_upgrade.yml', 'templates/download_images.sh.j2', 'tasks/upgrade/convert_roles_data.yaml', 'templates/overcloud_upgrade.sh.j2', 'tasks/upgrade/overcloud_upgrade_run.yml', 'tasks/upgrade/docker_composable_upgrade.yml', 'defaults/main.yml', 'README.md', 'templates/overcloud_upgrade_prepare.sh.j2', 'tasks/upgrade/convert_ceph_params.yaml', 'tasks/upgrade/main.yml', 'tasks/upgrade/overcloud_upgrade_converge.yml', 'tasks/upgrade/overcloud_upgrade_prepare.yml', 'templates/create_registry_env.sh.j2', 'templates/dpdk-upgrade-env.yaml.j2', 'tasks/upgrade/create-upgrade-scripts.yaml', 'templates/overcloud_upgrade_converge.sh.j2']",17,717ad798fba89afda21bbad989850ce6c3d735e6,548336-stable/queens,"#!/bin/env bash # # Run major upgrade converge step on overcloud nodes # set -euo pipefail source {{ undercloud_rc }} echo ""Running major upgrade converge step"" openstack overcloud upgrade \ {% if tripleo_upgrade_debug|bool %} --debug \ {% endif %} {% if tripleo_upgrade_skip_validations|bool %} --validation-errors-nonfatal \ {% endif %} --converge 2>&1 ",,221,679
openstack%2Finstack-undercloud~stable%2Fqueens~Iebc3f39cb2dae355124ba39f7653ef8d20baacc6,openstack/instack-undercloud,stable/queens,Iebc3f39cb2dae355124ba39f7653ef8d20baacc6,Mariadb online upgrade after yum update,MERGED,2018-03-19 17:43:21.000000000,2018-03-21 11:52:30.000000000,2018-03-21 11:52:30.000000000,"[{'_account_id': 20775}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-19 17:43:21.000000000', 'files': ['instack_undercloud/undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/e3142ba2860c7b1c76146f331679a6bf4879a1d1', 'message': 'Mariadb online upgrade after yum update\n\nDuring undercloud upgrade, yum can update the mariadb-server package.\nIf that is the case and the updated package is a major mariadb update\n(e.g. 5.5 -> 10.1, or 10.0 -> 10.1), some database system tables might\nneed to be updated.\n\nEnsure that mysql_upgrade will be run after a major mariadb update.\nAlso, force-stop the mariadb server before the upgrade to workaround\na rpm scriptlet limitation when going 5.5 -> 10.1.\n\nChange-Id: Iebc3f39cb2dae355124ba39f7653ef8d20baacc6\n(cherry picked from commit c1dd23cd8a890896e98c441d2f5def42b5d0c35e)\n'}]",0,554306,e3142ba2860c7b1c76146f331679a6bf4879a1d1,8,4,1,20172,,,0,"Mariadb online upgrade after yum update

During undercloud upgrade, yum can update the mariadb-server package.
If that is the case and the updated package is a major mariadb update
(e.g. 5.5 -> 10.1, or 10.0 -> 10.1), some database system tables might
need to be updated.

Ensure that mysql_upgrade will be run after a major mariadb update.
Also, force-stop the mariadb server before the upgrade to workaround
a rpm scriptlet limitation when going 5.5 -> 10.1.

Change-Id: Iebc3f39cb2dae355124ba39f7653ef8d20baacc6
(cherry picked from commit c1dd23cd8a890896e98c441d2f5def42b5d0c35e)
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/06/554306/1 && git format-patch -1 --stdout FETCH_HEAD,['instack_undercloud/undercloud.py'],1,e3142ba2860c7b1c76146f331679a6bf4879a1d1,queens-mariadb-upgrade,"def _is_database_upgrade_needed(): """"""Check whether a yum update will cause an major version update for the database. :return whether an update will happen :rtype bool """""" need_upgrade = False try: args = ['sudo', 'rpm', '--query', '--queryformat', '%{VERSION}', 'mariadb-server'] installed = subprocess.check_output(args).strip() LOG.info('Current mariadb version is: %s' % installed) args = ['sudo', 'repoquery', '--pkgnarrow=updates', '--queryformat', '%{VERSION}', 'mariadb-server'] available = subprocess.check_output(args).strip() LOG.info('Available mariadb version is: %s' % (available or ""(no new version available)"")) if available: # compare major versions majorX.majorY.minor major_installed, major_available = \ [re.sub(r'^(\d+\.\d+)\..*', r'\1', ver) for ver in [installed, available]] if not major_installed or not major_available: raise RuntimeError('Could not determine mariadb versions ' '(installed:""%s"", available:""%s""' % (major_installed, major_available)) need_upgrade = (major_available != major_installed) if need_upgrade: LOG.info('Major versions differ (%s vs %s), ' 'database needs an upgrade' % (major_installed, major_available)) except subprocess.CalledProcessError: LOG.error('Could not determine if mariadb will be updated') raise return need_upgrade # Check whether a major version upgrade is pending for the database mariadb_upgrade = _is_database_upgrade_needed() if mariadb_upgrade: args = ['sudo', 'systemctl', 'stop', 'mariadb'] LOG.info('Stopping OpenStack database before upgrade') _run_live_command(args, name='systemctl stop mariadb') LOG.info('Database stopped successfully') if mariadb_upgrade: args = ['sudo', 'systemctl', 'start', 'mariadb'] LOG.info('Start OpenStack database after upgrade') _run_live_command(args, name='systemctl start mariadb') LOG.info('Database started successfully') args = ['sudo', 'mysql_upgrade'] LOG.info('Run online upgrade of the database') _run_live_command(args, name='mysql_upgrade') LOG.info('Database upgraded successfully') args = ['sudo', 'systemctl', 'restart', 'mariadb'] LOG.info('Restart OpenStack database for upgrade to take effect') _run_live_command(args, name='systemctl restart mariadb') LOG.info('Database restarted successfully')",,65,0
openstack%2Ftripleo-heat-templates~master~I58af23129bcba04a367d0169dcafd53d33ab42f2,openstack/tripleo-heat-templates,master,I58af23129bcba04a367d0169dcafd53d33ab42f2,Fix newton compat mode for deployed server.,MERGED,2018-03-14 15:20:55.000000000,2018-03-21 11:52:27.000000000,2018-03-21 11:52:27.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-14 15:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/445518da199237f2bc329f6353b0c14bd690a2dd', 'message': 'Fix newton compat mode for deployed sever.\n\nThe ControlPlanePort interface changed in the deployed-server\nressource.  It now takes an additional fixed_ips parameters.\n\nThis add the required parameter and is required for FFU testing in CI.\n\nChange-Id: I58af23129bcba04a367d0169dcafd53d33ab42f2\nCloses-Bug: #1755837\n'}, {'number': 2, 'created': '2018-03-14 18:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f7575faee89b83e4f00b5e71375fc7892f6c6b4', 'message': 'Fix newton compat mode for deployed server.\n\nThe ControlPlanePort interface changed in the deployed-server\nressource.  It now takes an additional fixed_ips parameters.\n\nThis add the required parameter and is required for FFU testing in CI.\n\nAdjust the validation to take the fixed_ips discrepancies between two\ndifferent templates interfaces in deployed-neutron-port and\nctlplane-port.\n\nChange-Id: I58af23129bcba04a367d0169dcafd53d33ab42f2\nCloses-Bug: #1755837\n'}, {'number': 3, 'created': '2018-03-15 15:52:53.000000000', 'files': ['tools/yaml-validate.py', 'deployed-server/ctlplane-port.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5015cc6dd8763826901fae65dfb737c4909adaea', 'message': 'Fix newton compat mode for deployed server.\n\nThe ControlPlanePort interface changed in the deployed-server\nressource.  It now takes an additional fixed_ips parameters.\n\nThis add the required parameter and is required for FFU testing in CI.\n\nAdjust the validation to take the fixed_ips discrepancies between two\ndifferent templates interfaces in deployed-neutron-port and\nctlplane-port.\n\nChange-Id: I58af23129bcba04a367d0169dcafd53d33ab42f2\nCloses-Bug: #1755837\n'}]",0,552923,5015cc6dd8763826901fae65dfb737c4909adaea,23,6,3,8297,,,0,"Fix newton compat mode for deployed server.

The ControlPlanePort interface changed in the deployed-server
ressource.  It now takes an additional fixed_ips parameters.

This add the required parameter and is required for FFU testing in CI.

Adjust the validation to take the fixed_ips discrepancies between two
different templates interfaces in deployed-neutron-port and
ctlplane-port.

Change-Id: I58af23129bcba04a367d0169dcafd53d33ab42f2
Closes-Bug: #1755837
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/552923/1 && git format-patch -1 --stdout FETCH_HEAD,['deployed-server/ctlplane-port.yaml'],1,445518da199237f2bc329f6353b0c14bd690a2dd,bug/1755837, fixed_ips: default: [] type: json,,3,0
openstack%2Fopenstack-ansible-os_neutron~master~Ie6e306fb0147ea7d3fdcd943342b346dacf7d39a,openstack/openstack-ansible-os_neutron,master,Ie6e306fb0147ea7d3fdcd943342b346dacf7d39a,Allow choosing different versions of ODL to deploy,ABANDONED,2018-03-02 16:57:33.000000000,2018-03-21 11:45:23.000000000,,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-03-02 16:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/fcf0501f0e509fdbdf6dd96f9d623f617f1e7ad1', 'message': 'Provide a dynamic repo for ODL\n\nTo deploy different ODL versions, we need to be able to pass along the repo.\nODL infra publishes one repo per ODL version. Depending on the distro, the user\nwill fill the variable in the user_* file (e.g. if opensuse then suse_rpm_path)\nIf the user does not pass any repo, the default repos in opendaylight role will\nbe used:\n\nhttps://github.com/opendaylight/integration-packaging-ansible-opendaylight/blob/master/vars/main.yml#L65\n\nThe omit filter allows that behaviour and nothing is passed if the variable is\nnot defined.\n\nChange-Id: Ie6e306fb0147ea7d3fdcd943342b346dacf7d39a\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 2, 'created': '2018-03-05 08:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/34e8a2b84efc4dc76bcce258d0bd1ce187307a2a', 'message': 'Provide a dynamic repo for ODL\n\nTo deploy different ODL versions, we need to be able to pass along the repo.\nODL infra publishes one repo per ODL version. Depending on the distro, the user\nwill fill the variable in the user_* file (e.g. if opensuse then suse_rpm_path)\nIf the user does not pass any repo, the default repos in opendaylight role will\nbe used:\n\nhttps://github.com/opendaylight/integration-packaging-ansible-opendaylight/blob/master/vars/main.yml#L65\n\nThe omit filter allows that behaviour and nothing is passed if the variable is\nnot defined.\n\nChange-Id: Ie6e306fb0147ea7d3fdcd943342b346dacf7d39a\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 3, 'created': '2018-03-05 17:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/4da9df03ab4a6d7d5222853220f29fd056ffdec8', 'message': 'Provide a dynamic repo for ODL\n\nTo deploy different ODL versions, we need to be able to pass along the repo.\nODL infra publishes one repo per ODL version. Depending on the distro, the user\nwill fill the variable in the user_* file (e.g. if opensuse then suse_rpm_path)\nIf the user does not pass any repo, the default repos in opendaylight role will\nbe used:\n\nhttps://github.com/opendaylight/integration-packaging-ansible-opendaylight/blob/master/vars/main.yml#L65\n\nThe omit filter allows that behaviour and nothing is passed if the variable is\nnot defined.\n\nChange-Id: Ie6e306fb0147ea7d3fdcd943342b346dacf7d39a\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 4, 'created': '2018-03-06 10:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/7c236826b18976c5594b85895261798a1a761f22', 'message': 'Provide a dynamic repo for ODL\n\nTo deploy different ODL versions, we need to be able to pass along the repo.\nODL infra publishes one repo per ODL version. Depending on the distro, the user\nwill fill the variable in the user_* file (e.g. if opensuse then suse_rpm_path)\nIf the user does not pass any repo, the default repos in opendaylight role will\nbe used:\n\nhttps://github.com/opendaylight/integration-packaging-ansible-opendaylight/blob/master/vars/main.yml#L65\n\nChange-Id: Ie6e306fb0147ea7d3fdcd943342b346dacf7d39a\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 5, 'created': '2018-03-19 11:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/bf2cb12aa81c5360d2fbf85a667cae8d52be5417', 'message': 'Provide a dynamic repo for ODL\n\nTo deploy different ODL versions, we need to be able to pass along the repo.\nODL infra publishes one repo per ODL version. Depending on the distro, the user\nwill fill the variable in the user_* file (e.g. if opensuse then suse_rpm_path)\nIf the user does not pass any repo, the default repos in opendaylight role will\nbe used:\n\nhttps://github.com/opendaylight/integration-packaging-ansible-opendaylight/blob/master/vars/main.yml#L65\n\nChange-Id: Ie6e306fb0147ea7d3fdcd943342b346dacf7d39a\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 6, 'created': '2018-03-19 13:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/67b23a1cab295d0a068c01388db5cde43671c6b9', 'message': 'Allow choosing different versions of ODL to deploy\n\nTo deploy different ODL versions, we need to be able to pass along the repo.\nODL infra publishes one repo per ODL version. Depending on the distro, the user\nwill fill the variable odl_repo_url in the user_* file.\nIf the user does not pass any repo, the default repos in opendaylight role will\nbe used:\n\nhttps://github.com/opendaylight/integration-packaging-ansible-opendaylight/blob/master/vars/main.yml#L65\n\nChange-Id: Ie6e306fb0147ea7d3fdcd943342b346dacf7d39a\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 7, 'created': '2018-03-19 18:47:39.000000000', 'files': ['tasks/dependent_neutron_roles.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/b76ab32f49887e3d88432ca8570830de8ed58a57', 'message': 'Allow choosing different versions of ODL to deploy\n\nTo deploy different ODL versions, we need to be able to pass along the repo.\nODL infra publishes one repo per ODL version. Depending on the distro, the user\nwill fill the variable odl_repo_url in the user_* file.\nIf the user does not pass any repo, the default repos in opendaylight role will\nbe used:\n\nhttps://github.com/opendaylight/integration-packaging-ansible-opendaylight/blob/master/vars/main.yml#L65\n\nChange-Id: Ie6e306fb0147ea7d3fdcd943342b346dacf7d39a\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}]",7,549288,b76ab32f49887e3d88432ca8570830de8ed58a57,27,5,7,21883,,,0,"Allow choosing different versions of ODL to deploy

To deploy different ODL versions, we need to be able to pass along the repo.
ODL infra publishes one repo per ODL version. Depending on the distro, the user
will fill the variable odl_repo_url in the user_* file.
If the user does not pass any repo, the default repos in opendaylight role will
be used:

https://github.com/opendaylight/integration-packaging-ansible-opendaylight/blob/master/vars/main.yml#L65

Change-Id: Ie6e306fb0147ea7d3fdcd943342b346dacf7d39a
Signed-off-by: Manuel Buil <mbuil@suse.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/88/549288/6 && git format-patch -1 --stdout FETCH_HEAD,['meta/main.yml'],1,fcf0501f0e509fdbdf6dd96f9d623f617f1e7ad1,," rpm_repo_url: ""{{ odl_repo_url | omit }}"" suse_rpm_repo_url: ""{{ odl_repo_url | omit }}"" deb_repo_url: ""{{ odl_repo_url | omit }}""",,3,0
openstack%2Frpm-packaging~master~If4dd73b69d0ddb2bda7f364134b995955acd0020,openstack/rpm-packaging,master,If4dd73b69d0ddb2bda7f364134b995955acd0020,Updated oslo.service to 1.30.0,MERGED,2018-03-14 16:08:59.000000000,2018-03-21 11:44:17.000000000,2018-03-21 11:44:17.000000000,"[{'_account_id': 6593}, {'_account_id': 9414}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-14 16:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a62a019bb2203e64aa03358be8555bcc1b30185f', 'message': 'Updated oslo.service to 1.30.0\n\nChange-Id: If4dd73b69d0ddb2bda7f364134b995955acd0020\n'}, {'number': 2, 'created': '2018-03-21 08:13:55.000000000', 'files': ['openstack/oslo.service/oslo.service.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f4231500b94a170f335abdd4dfef254c469d8bcf', 'message': 'Updated oslo.service to 1.30.0\n\nDepends-On: https://review.openstack.org/#/c/553005/\nChange-Id: If4dd73b69d0ddb2bda7f364134b995955acd0020\n'}]",0,552949,f4231500b94a170f335abdd4dfef254c469d8bcf,14,7,2,26297,,,0,"Updated oslo.service to 1.30.0

Depends-On: https://review.openstack.org/#/c/553005/
Change-Id: If4dd73b69d0ddb2bda7f364134b995955acd0020
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/49/552949/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.service/oslo.service.spec.j2'],1,a62a019bb2203e64aa03358be8555bcc1b30185f,oslo.service,{% set upstream_version = upstream_version('1.30.0') %},{% set upstream_version = upstream_version('1.29.0') %},1,1
openstack%2Frpm-packaging~master~I8637118721b18ed09c6f8fa18b9863cb6ddf9f8f,openstack/rpm-packaging,master,I8637118721b18ed09c6f8fa18b9863cb6ddf9f8f,Updated oslo.i18n to 3.20.0,MERGED,2018-03-14 16:08:10.000000000,2018-03-21 11:43:43.000000000,2018-03-21 11:43:43.000000000,"[{'_account_id': 6593}, {'_account_id': 9414}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-14 16:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a7eb768278529f12cb6bee95c479351b141541e7', 'message': 'Updated oslo.i18n to 3.20.0\n\nChange-Id: I8637118721b18ed09c6f8fa18b9863cb6ddf9f8f\n'}, {'number': 2, 'created': '2018-03-21 08:12:11.000000000', 'files': ['openstack/oslo.i18n/oslo.i18n.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c00759025e16b8779b9e84fbc63facef761f6676', 'message': 'Updated oslo.i18n to 3.20.0\n\nDepends-On: https://review.openstack.org/#/c/552990/\nChange-Id: I8637118721b18ed09c6f8fa18b9863cb6ddf9f8f\n'}]",0,552946,c00759025e16b8779b9e84fbc63facef761f6676,15,8,2,26297,,,0,"Updated oslo.i18n to 3.20.0

Depends-On: https://review.openstack.org/#/c/552990/
Change-Id: I8637118721b18ed09c6f8fa18b9863cb6ddf9f8f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/46/552946/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.i18n/oslo.i18n.spec.j2'],1,a7eb768278529f12cb6bee95c479351b141541e7,oslo.i18n,{% set upstream_version = upstream_version('3.20.0') %},{% set upstream_version = upstream_version('3.19.0') %},1,1
openstack%2Fopenstack-ansible~stable%2Fqueens~If66a4d09dda8bab477c8f8aa8d5cefee7db7ddd9,openstack/openstack-ansible,stable/queens,If66a4d09dda8bab477c8f8aa8d5cefee7db7ddd9,Stop running get-ansible-role-requirements with -vvv,MERGED,2018-03-20 18:01:20.000000000,2018-03-21 11:43:05.000000000,2018-03-21 11:43:05.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 18:01:20.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cad9025796b77c1dc9415c42df6d324a0710baab', 'message': 'Stop running get-ansible-role-requirements with -vvv\n\nIt generates a lot of console spam and adds very little value to\nclone the roles with verbose every time.\n\nChange-Id: If66a4d09dda8bab477c8f8aa8d5cefee7db7ddd9\n(cherry picked from commit 758cd74ec10dbe1b83de8230b973764c6a3dc9d7)\n'}]",0,554650,cad9025796b77c1dc9415c42df6d324a0710baab,7,3,1,17799,,,0,"Stop running get-ansible-role-requirements with -vvv

It generates a lot of console spam and adds very little value to
clone the roles with verbose every time.

Change-Id: If66a4d09dda8bab477c8f8aa8d5cefee7db7ddd9
(cherry picked from commit 758cd74ec10dbe1b83de8230b973764c6a3dc9d7)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/50/554650/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,cad9025796b77c1dc9415c42df6d324a0710baab,," -e role_file=""${ANSIBLE_ROLE_FILE}"""," -e role_file=""${ANSIBLE_ROLE_FILE}"" \ -vvv",1,2
openstack%2Fneutron-lbaas~master~I2de5800f4a6b06f98174ef42390f0e2c91bf0cfd,openstack/neutron-lbaas,master,I2de5800f4a6b06f98174ef42390f0e2c91bf0cfd,Fix the wrong device_owner when recreate LBaas listener,MERGED,2017-05-24 09:52:51.000000000,2018-03-21 11:35:49.000000000,2017-06-18 19:41:04.000000000,"[{'_account_id': 3}, {'_account_id': 6579}, {'_account_id': 9008}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 12860}, {'_account_id': 22406}]","[{'number': 1, 'created': '2017-05-24 09:52:51.000000000', 'files': ['neutron_lbaas/drivers/common/agent_callbacks.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/7fa6bb9030a1801e7956ec9bd98cd5c2d2021569', 'message': ""Fix the wrong device_owner when recreate LBaas listener\n\nCurrently, lbaas agent refresh loadbalancer based on the number of active\nlistener, and will update the port with device_own='' if delete the last\nlistener in loadbalancer.\n\nSo the device_owner of the vip port of exist loadbalancer will never\nupdate to the correct one.\n\nThis patch add port device_owner field to PUT to guarantee the field is\n'neutron:LOADBALANCERV2'.\n\nChange-Id: I2de5800f4a6b06f98174ef42390f0e2c91bf0cfd\nCloses-Bug:#1692995\n""}]",1,467559,7fa6bb9030a1801e7956ec9bd98cd5c2d2021569,14,7,1,15309,,,0,"Fix the wrong device_owner when recreate LBaas listener

Currently, lbaas agent refresh loadbalancer based on the number of active
listener, and will update the port with device_own='' if delete the last
listener in loadbalancer.

So the device_owner of the vip port of exist loadbalancer will never
update to the correct one.

This patch add port device_owner field to PUT to guarantee the field is
'neutron:LOADBALANCERV2'.

Change-Id: I2de5800f4a6b06f98174ef42390f0e2c91bf0cfd
Closes-Bug:#1692995
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/59/467559/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas/drivers/common/agent_callbacks.py'],1,7fa6bb9030a1801e7956ec9bd98cd5c2d2021569,bug/1692995, port['device_owner'] = constants.DEVICE_OWNER_LOADBALANCERV2,,1,0
openstack%2Frpm-packaging~master~I6a15bd57a77f72fde254e9c25a026a46075e68d4,openstack/rpm-packaging,master,I6a15bd57a77f72fde254e9c25a026a46075e68d4,Updated oslo.policy to 1.34.0,MERGED,2018-03-14 16:15:50.000000000,2018-03-21 11:34:46.000000000,2018-03-21 11:34:46.000000000,"[{'_account_id': 6593}, {'_account_id': 9414}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-14 16:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7b521b046149e38e5ff2ccadde46eb9b5bd918f0', 'message': 'Updated oslo.policy to 1.34.0\n\nChange-Id: I6a15bd57a77f72fde254e9c25a026a46075e68d4\n'}, {'number': 2, 'created': '2018-03-21 08:14:51.000000000', 'files': ['openstack/oslo.policy/oslo.policy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b6b434dc69fdcc67aa61a116e202f3af747ce465', 'message': 'Updated oslo.policy to 1.34.0\n\nDepends-On: https://review.openstack.org/#/c/553007/\nChange-Id: I6a15bd57a77f72fde254e9c25a026a46075e68d4\n'}]",1,552966,b6b434dc69fdcc67aa61a116e202f3af747ce465,14,7,2,26297,,,0,"Updated oslo.policy to 1.34.0

Depends-On: https://review.openstack.org/#/c/553007/
Change-Id: I6a15bd57a77f72fde254e9c25a026a46075e68d4
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/66/552966/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.policy/oslo.policy.spec.j2'],1,7b521b046149e38e5ff2ccadde46eb9b5bd918f0,oslo.policy,{% set upstream_version = upstream_version('1.34.0') %},{% set upstream_version = upstream_version('1.33.1') %},1,1
openstack%2Fopenstack-doc-tools~master~Ida63a086125b5144f43e49bcc96516aa5f7bae4f,openstack/openstack-doc-tools,master,Ida63a086125b5144f43e49bcc96516aa5f7bae4f,Remove unused oslo.config requirement,MERGED,2018-03-14 06:52:54.000000000,2018-03-21 11:30:51.000000000,2018-03-21 11:30:50.000000000,"[{'_account_id': 15334}, {'_account_id': 20156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-14 06:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/93aa461ee18148d83efc09ad80048f926c887725', 'message': 'Remove unused oslo.config requirement\n\nThis is not needed anymore, remove it.\n\nChange-Id: Ida63a086125b5144f43e49bcc96516aa5f7bae4f\n'}, {'number': 2, 'created': '2018-03-14 08:27:33.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/391c6d8c6289988f2388a4b4735902798de7d550', 'message': 'Remove unused oslo.config requirement\n\nThis is not needed anymore, remove it.\n\nChange-Id: Ida63a086125b5144f43e49bcc96516aa5f7bae4f\n'}]",0,552803,391c6d8c6289988f2388a4b4735902798de7d550,9,3,2,6547,,,0,"Remove unused oslo.config requirement

This is not needed anymore, remove it.

Change-Id: Ida63a086125b5144f43e49bcc96516aa5f7bae4f
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/03/552803/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,93aa461ee18148d83efc09ad80048f926c887725,config,,oslo.config>=5.1.0 # Apache-2.0,0,1
openstack%2Ftripleo-common~master~If7eb342a84b530b07db513146e85916f2d5c1370,openstack/tripleo-common,master,If7eb342a84b530b07db513146e85916f2d5c1370,Remove the noop deploystep for upgrade converge step,MERGED,2018-03-13 13:07:57.000000000,2018-03-21 11:25:19.000000000,2018-03-16 23:08:51.000000000,"[{'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-13 13:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/25f855eadd868fd7e26472a2d65c6c8e03fe80c7', 'message': 'Remove the noop deploystep for upgrade converge step\n\nThe noop deploystep is set during the prepare step for\nupgrade. It put in the plan_env directly, so since we are\nkeeping the user-env / plan-env for upgrade the noop\nsteps are never removed.\nThis patch aim to trigger a mistral action to remove all\nthe OS::Heat::None for the deploystep/pre/post\n\nChange-Id: If7eb342a84b530b07db513146e85916f2d5c1370\n'}, {'number': 2, 'created': '2018-03-13 16:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/04328640db1a8528a228d3b783a25ab980431a69', 'message': 'Remove the noop deploystep for upgrade converge step\n\nThe noop deploystep is set during the prepare step for\nupgrade. It put in the plan_env directly, so since we are\nkeeping the user-env / plan-env for upgrade the noop\nsteps are never removed.\nThis patch aim to trigger a mistral action to remove all\nthe OS::Heat::None for the deploystep/pre/post\n\nChange-Id: If7eb342a84b530b07db513146e85916f2d5c1370\n'}, {'number': 3, 'created': '2018-03-13 16:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/186fd1016ad2ec34011390837eaa3ac0491fe370', 'message': 'Remove the noop deploystep for upgrade converge step\n\nThe noop deploystep is set during the prepare step for\nupgrade. It put in the plan_env directly, so since we are\nkeeping the user-env / plan-env for upgrade the noop\nsteps are never removed.\nThis patch aim to trigger a mistral action to remove all\nthe OS::Heat::None for the deploystep/pre/post\n\nChange-Id: If7eb342a84b530b07db513146e85916f2d5c1370\n'}, {'number': 4, 'created': '2018-03-13 16:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b38cbf46604c114776b45150c3af3e84ef3ccc87', 'message': 'Remove the noop deploystep for upgrade converge step\n\nThe noop deploystep is set during the prepare step for\nupgrade. It put in the plan_env directly, so since we are\nkeeping the user-env / plan-env for upgrade the noop\nsteps are never removed.\nThis patch aim to trigger a mistral action to remove all\nthe OS::Heat::None for the deploystep/pre/post\n\nChange-Id: If7eb342a84b530b07db513146e85916f2d5c1370\n'}, {'number': 5, 'created': '2018-03-13 20:59:51.000000000', 'files': ['workbooks/package_update.yaml', 'setup.cfg', 'tripleo_common/actions/plan.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/426f4aa6d859eda7614cd173974f5ccd32446116', 'message': 'Remove the noop deploystep for upgrade converge step\n\nThe noop deploystep is set during the prepare step for\nupgrade. It put in the plan_env directly, so since we are\nkeeping the user-env / plan-env for upgrade the noop\nsteps are never removed.\nThis patch aim to trigger a mistral action to remove all\nthe OS::Heat::None for the deploystep/pre/post\n\nChange-Id: If7eb342a84b530b07db513146e85916f2d5c1370\n'}]",7,552509,426f4aa6d859eda7614cd173974f5ccd32446116,20,6,5,16515,,,0,"Remove the noop deploystep for upgrade converge step

The noop deploystep is set during the prepare step for
upgrade. It put in the plan_env directly, so since we are
keeping the user-env / plan-env for upgrade the noop
steps are never removed.
This patch aim to trigger a mistral action to remove all
the OS::Heat::None for the deploystep/pre/post

Change-Id: If7eb342a84b530b07db513146e85916f2d5c1370
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/09/552509/4 && git format-patch -1 --stdout FETCH_HEAD,"['workbooks/package_update.yaml', 'setup.cfg', 'tripleo_common/actions/plan.py']",3,25f855eadd868fd7e26472a2d65c6c8e03fe80c7,upgrade/cleanup," class RemoveNoopDeployStepAction(actions.Action): def __init__(self, container=constants.DEFAULT_CONTAINER_NAME): super(RemoveNoopDeployStepAction, self).__init__() self.container = container def run(self, context): # get the stack. Error if doesn't exist heat = self.get_orchestration_client(context) try: stack = heat.stacks.get(self.container) except heat_exc.HTTPNotFound: msg = ""Error retrieving stack: %s"" % self.container LOG.exception(msg) return actions.Result(error=msg) swift = self.get_object_client(context) plan_env = plan_utils.get_env(swift, self.container) # Get output and check if DeployStep are None steps = ['OS::TripleO::DeploymentSteps'] for output in stack.to_dict().get('outputs', {}): if output['output_key'] == 'RoleData': for role in output['output_value']: steps.append(""OS::TripleO::Tasks::%sPreConfig"" % role) steps.append(""OS::TripleO::Tasks::%sPostConfig"" % role) # Remove noop Steps for step in steps: if step in plan_env['resource_registry'].keys() if plan_env['resource_registry'][step] == 'OS::Heat::None': plan_env['resource_registry'].pop(step) # Push plan_env plan_utils.put_env(swift, plan_env) ",,44,0
openstack%2Fopenstack-ansible-plugins~stable%2Fqueens~I428a80cfb99821053d27dcf8a4b130377467d469,openstack/openstack-ansible-plugins,stable/queens,I428a80cfb99821053d27dcf8a4b130377467d469,Fixed insecure passing in keystone module,MERGED,2018-03-20 10:30:33.000000000,2018-03-21 11:22:42.000000000,2018-03-21 11:22:42.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-03-20 10:30:33.000000000', 'files': ['library/keystone'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/fb4f15b68da385784d344fc95d6c51e75ae8506d', 'message': ""Fixed insecure passing in keystone module\n\nAs Keystone Client is passed already created Session object (L603), it doesn't\ntake into an account client_args, so Session is created with default verify\nvalue.\n\nChange-Id: I428a80cfb99821053d27dcf8a4b130377467d469\n""}]",0,554496,fb4f15b68da385784d344fc95d6c51e75ae8506d,11,4,1,26139,,,0,"Fixed insecure passing in keystone module

As Keystone Client is passed already created Session object (L603), it doesn't
take into an account client_args, so Session is created with default verify
value.

Change-Id: I428a80cfb99821053d27dcf8a4b130377467d469
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/96/554496/1 && git format-patch -1 --stdout FETCH_HEAD,['library/keystone'],1,fb4f15b68da385784d344fc95d6c51e75ae8506d,keystone_verify_fix_queens," sess = session.Session(auth=auth, verify=(not insecure))", sess = session.Session(auth=auth),1,1
openstack%2Fkayobe~master~I6e3ebdfc739d155c0953d43c878247fc590901c6,openstack/kayobe,master,I6e3ebdfc739d155c0953d43c878247fc590901c6,Don't restart cloud-init when disabling it,MERGED,2018-03-20 10:42:55.000000000,2018-03-21 11:16:54.000000000,2018-03-21 11:16:54.000000000,"[{'_account_id': 16984}, {'_account_id': 18368}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 10:42:55.000000000', 'files': ['ansible/disable-cloud-init.yml', 'ansible/roles/disable-cloud-init/tasks/main.yml', 'ansible/roles/disable-cloud-init/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/71f493db77947ade0ffb159cbeb8a6751674c111', 'message': ""Don't restart cloud-init when disabling it\n\nChange-Id: I6e3ebdfc739d155c0953d43c878247fc590901c6\nStory: 2001697\n""}]",0,554500,71f493db77947ade0ffb159cbeb8a6751674c111,7,3,1,14826,,,0,"Don't restart cloud-init when disabling it

Change-Id: I6e3ebdfc739d155c0953d43c878247fc590901c6
Story: 2001697
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/00/554500/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/disable-cloud-init.yml', 'ansible/roles/disable-cloud-init/tasks/main.yml', 'ansible/roles/disable-cloud-init/handlers/main.yml']",3,71f493db77947ade0ffb159cbeb8a6751674c111,,- name: reload systemd daemon systemd:,- name: restart cloud-init daemon systemd: state: restarted ,7,8
openstack%2Fansible-role-systemd_service~master~I2c250f7d0d14747b50fd77f54d3777c28f11e957,openstack/ansible-role-systemd_service,master,I2c250f7d0d14747b50fd77f54d3777c28f11e957,Simplify unit file,MERGED,2018-03-21 04:36:07.000000000,2018-03-21 10:59:07.000000000,2018-03-21 10:59:07.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 27732}]","[{'number': 1, 'created': '2018-03-21 04:36:07.000000000', 'files': ['templates/systemd-service.j2', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/134c6f7f245373a15a78c80abec964cf20be665d', 'message': 'Simplify unit file\n\nCombine the flow for simple and oneshot services into one set of\nexecstart/execreload/execstop loops.\n\nChange-Id: I2c250f7d0d14747b50fd77f54d3777c28f11e957\n'}]",0,554790,134c6f7f245373a15a78c80abec964cf20be665d,8,4,1,17799,,,0,"Simplify unit file

Combine the flow for simple and oneshot services into one set of
execstart/execreload/execstop loops.

Change-Id: I2c250f7d0d14747b50fd77f54d3777c28f11e957
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/90/554790/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/systemd-service.j2', 'defaults/main.yml', 'vars/main.yml']",3,134c6f7f245373a15a78c80abec964cf20be665d,simplify-unit,"--- # Copyright 2018, Logan Vig <logan2211@gmail.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. systemd_default_execstarts: - ""{{ item.program_override | default(systemd_bin_path ~ '/' ~ item.service_name) }} {{ item.program_config_options | default('') }}"" systemd_default_execreloads: - '/bin/kill -HUP $MAINPID' systemd_default_execstops: ""{{ item.program_stop | default([]) }}"" ",,48,24
openstack%2Fneutron~master~I75374fce0e01bac874107abea0b7389382588905,openstack/neutron,master,I75374fce0e01bac874107abea0b7389382588905,Pull in ubuntu cloud archive openvswitch pkg,MERGED,2018-02-01 07:39:39.000000000,2018-03-21 10:58:14.000000000,2018-03-13 07:50:10.000000000,"[{'_account_id': 4694}, {'_account_id': 9200}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-01 07:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/63d931e258fb8157bed0b8eeb50ab948ddd31021', 'message': 'DNM: pull in cloud archive openvswitch pkg\n\nChange-Id: I75374fce0e01bac874107abea0b7389382588905\n'}, {'number': 2, 'created': '2018-02-02 01:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/870a7e2cd3f3e1e2746407fb284375bd10fb45ce', 'message': 'Pull in cloud archive openvswitch pkg\n\nThe environments for functional and fullstack tests are prepared\ndifferently.  They should use the ubuntu cloud archive, too.\n\nChange-Id: I75374fce0e01bac874107abea0b7389382588905\n'}, {'number': 3, 'created': '2018-02-02 04:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30799168dea91ff66d481a41d29b103c45ddc6df', 'message': 'Pull in cloud archive openvswitch pkg\n\nThe environments for functional and fullstack tests are prepared\ndifferently.  They should use the ubuntu cloud archive, too.\n\nChange-Id: I75374fce0e01bac874107abea0b7389382588905\n'}, {'number': 4, 'created': '2018-02-02 06:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3438c874eb240303aa103ff1e369713e533636a5', 'message': 'Pull in cloud archive openvswitch pkg\n\nThe environments for functional and fullstack tests are prepared\ndifferently.  They should use the ubuntu cloud archive, too.\n\nChange-Id: I75374fce0e01bac874107abea0b7389382588905\n'}, {'number': 5, 'created': '2018-02-02 08:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/49675d222d93fcfdf39256379a97bb3076836056', 'message': ""Pull in ubuntu cloud archive openvswitch pkg\n\nThe environments for functional and fullstack tests are prepared\ndifferently than others and aren't using UCA.  They should use the\nubuntu cloud archive, too.\n\nChange-Id: I75374fce0e01bac874107abea0b7389382588905\n""}, {'number': 6, 'created': '2018-02-19 04:26:05.000000000', 'files': ['tools/configure_for_func_testing.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b95434816fcde25cad2ffaac666270631069a4d3', 'message': ""Pull in ubuntu cloud archive openvswitch pkg\n\nThe environments for functional and fullstack tests are prepared\ndifferently than others and aren't using UCA.  They should use the\nubuntu cloud archive, too.\n\nDepends-On: Ie18833bfa30f1789e63cbe9c86f5ece3453f43fb\nChange-Id: I75374fce0e01bac874107abea0b7389382588905\n""}]",4,539847,b95434816fcde25cad2ffaac666270631069a4d3,30,6,6,9200,,,0,"Pull in ubuntu cloud archive openvswitch pkg

The environments for functional and fullstack tests are prepared
differently than others and aren't using UCA.  They should use the
ubuntu cloud archive, too.

Depends-On: Ie18833bfa30f1789e63cbe9c86f5ece3453f43fb
Change-Id: I75374fce0e01bac874107abea0b7389382588905
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/539847/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/configure_for_func_testing.sh'],1,63d931e258fb8157bed0b8eeb50ab948ddd31021,bug/1672340," PACKAGES=$(get_packages general,neutron,q-agt,q-l3,openvswitch)"," PACKAGES=$(get_packages general,neutron,q-agt,q-l3)",1,1
openstack%2Fdevstack~master~Ie18833bfa30f1789e63cbe9c86f5ece3453f43fb,openstack/devstack,master,Ie18833bfa30f1789e63cbe9c86f5ece3453f43fb,Break up fixup_stuff,MERGED,2018-02-05 08:01:58.000000000,2018-03-21 10:57:40.000000000,2018-03-13 07:35:05.000000000,"[{'_account_id': 1653}, {'_account_id': 7118}, {'_account_id': 8655}, {'_account_id': 9200}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-05 08:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e62c016757341a44f742296b6634d46d7dc89835', 'message': ""Break up fixup_stuff\n\nNeutron functional tests want to use ubuntu cloud archive but it's\nnot possible to source the fixup_stuff.sh from a neutron CI setup\nscript. Break it up so that only the UCA portion can be executed\nfrom neutron.\n\nChange-Id: Ie18833bfa30f1789e63cbe9c86f5ece3453f43fb\n""}, {'number': 2, 'created': '2018-02-16 05:04:16.000000000', 'files': ['tools/fixup_stuff.sh', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4d835e33b6e901ef87023ce9b7d71bc21170a9e3', 'message': ""Break up fixup_stuff\n\nNeutron functional tests want to use ubuntu cloud archive but it's\nnot possible to source the fixup_stuff.sh from a neutron CI setup\nscript. Break it up so that only the UCA portion can be executed\nfrom neutron.\n\nChange-Id: Ie18833bfa30f1789e63cbe9c86f5ece3453f43fb\n""}]",0,540752,4d835e33b6e901ef87023ce9b7d71bc21170a9e3,21,11,2,9200,,,0,"Break up fixup_stuff

Neutron functional tests want to use ubuntu cloud archive but it's
not possible to source the fixup_stuff.sh from a neutron CI setup
script. Break it up so that only the UCA portion can be executed
from neutron.

Change-Id: Ie18833bfa30f1789e63cbe9c86f5ece3453f43fb
",git fetch https://review.opendev.org/openstack/devstack refs/changes/52/540752/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/fixup_stuff.sh', 'stack.sh']",2,e62c016757341a44f742296b6634d46d7dc89835,break-fixup-stuff,fixup_all,,66,45
openstack%2Fkolla-ansible~master~I825deadefcf996732a03e61c8fd19cfd6a498e77,openstack/kolla-ansible,master,I825deadefcf996732a03e61c8fd19cfd6a498e77,Upgrade the rst convention of the Reference Guide [2],MERGED,2018-02-28 11:10:51.000000000,2018-03-21 10:49:43.000000000,2018-03-21 10:49:43.000000000,"[{'_account_id': 11869}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-28 11:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3d79a0b27f18fad44f8ffac2db719a70949ded4a', 'message': 'Upgrade the rst convention of the Reference Guide [2]\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide\n\nChange-Id: I825deadefcf996732a03e61c8fd19cfd6a498e77\nPartially-Implements: blueprint optimize-the-documentation-format\n'}, {'number': 2, 'created': '2018-03-16 11:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2c06acf8bb81fb3ca5617ee2e63f9fffafe0c63f', 'message': 'Upgrade the rst convention of the Reference Guide [2]\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide\n\nChange-Id: I825deadefcf996732a03e61c8fd19cfd6a498e77\nPartially-Implements: blueprint optimize-the-documentation-format\n'}, {'number': 3, 'created': '2018-03-17 09:58:41.000000000', 'files': ['doc/source/reference/hyperv-guide.rst', 'doc/source/reference/ironic-guide.rst', 'doc/source/reference/index.rst', 'doc/source/reference/external-mariadb-guide.rst', 'doc/source/reference/external-ceph-guide.rst', 'doc/source/reference/kuryr-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c2d54b9737cd5839162827eb4b6f3478630dde68', 'message': 'Upgrade the rst convention of the Reference Guide [2]\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide\n\nChange-Id: I825deadefcf996732a03e61c8fd19cfd6a498e77\nPartially-Implements: blueprint optimize-the-documentation-format\n'}]",0,548567,c2d54b9737cd5839162827eb4b6f3478630dde68,17,5,3,19779,,,0,"Upgrade the rst convention of the Reference Guide [2]

We upgrade the rst convention by following Documentation Contributor
Guide[1].

[1] https://docs.openstack.org/doc-contrib-guide

Change-Id: I825deadefcf996732a03e61c8fd19cfd6a498e77
Partially-Implements: blueprint optimize-the-documentation-format
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/548567/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/hyperv-guide.rst', 'doc/source/reference/ironic-guide.rst', 'doc/source/reference/index.rst', 'doc/source/reference/external-mariadb-guide.rst', 'doc/source/reference/external-ceph-guide.rst', 'doc/source/reference/kuryr-guide.rst']",6,3d79a0b27f18fad44f8ffac2db719a70949ded4a,bp/optimize-the-documentation-format,"==============Neutron plugins. Kuryr requires at least Keystone and neutron. Kolla makes~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~``docker.service`` file. .. code-block:: none ExecStart= -H tcp://172.16.1.13:2375 -H unix:///var/run/docker.sock --cluster-store=etcd://172.16.1.13:2379 --cluster-advertise=172.16.1.13:2375 .. end.. code-block:: yaml enable_etcd: ""yes"" enable_kuryr: ""yes"" .. end.. code-block:: console kolla-ansible deploy .. end~~~~~~~~~~~~~~~~~~~~~~~~ .. code-block:: console docker network create -d kuryr --ipam-driver=kuryr --subnet=10.1.0.0/24 --gateway=10.1.0.1 docker-net1 .. end.. code-block:: console docker network ls .. end.. code-block:: console openstack network list .. end`kuryr (OpenStack Containers Networking)","Neutron plugins"" [1]. Kuryr requires at least Keystone and neutron. Kolla makes--------------------------------------docker.service file. :: ExecStart= -H tcp://172.16.1.13:2375 -H unix:///var/run/docker.sock --cluster-store=etcd://172.16.1.13:2379 --cluster-advertise=172.16.1.13:2375:: enable_etcd: ""yes"" enable_kuryr: ""yes"":: kolla-ansible deploy-------------------------------- :: docker network create -d kuryr --ipam-driver=kuryr --subnet=10.1.0.0/24 --gateway=10.1.0.1 docker-net1:: docker network ls:: openstack network list`kuryr, OpenStack Containers Networking",396,342
openstack%2Fnetworking-hyperv~master~I6a3543aa5bfd7e622be76de8b96c1a521d7a1627,openstack/networking-hyperv,master,I6a3543aa5bfd7e622be76de8b96c1a521d7a1627,Avoid tox-install.sh,MERGED,2018-03-14 21:10:14.000000000,2018-03-21 10:43:04.000000000,2018-03-21 10:43:04.000000000,"[{'_account_id': 8213}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-14 21:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/22be6997188c12627c3c83ae89b46da5b32f91b1', 'message': 'Avoid tox-install.sh\n\nInstead of using tox-install.sh, we can install horizon and neutron\nnow directly from pypi - or use the current branch in CI system using\ntox-siblings.\n\nUpdate tox.ini for this change and add neutron to requirements file.\n\nChange-Id: I6a3543aa5bfd7e622be76de8b96c1a521d7a1627\n'}, {'number': 2, 'created': '2018-03-14 21:11:52.000000000', 'files': ['requirements.txt', 'tools/tox_install.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/45aa0b395f3d9ef8b0e31e97502c42ce47776cc4', 'message': 'Avoid tox-install.sh\n\nInstead of using tox-install.sh, we can install horizon and neutron\nnow directly from pypi - or use the current branch in CI system using\ntox-siblings.\n\nUpdate tox.ini for this change and add neutron to requirements file.\n\nChange-Id: I6a3543aa5bfd7e622be76de8b96c1a521d7a1627\n'}]",0,553074,45aa0b395f3d9ef8b0e31e97502c42ce47776cc4,7,2,2,6547,,,0,"Avoid tox-install.sh

Instead of using tox-install.sh, we can install horizon and neutron
now directly from pypi - or use the current branch in CI system using
tox-siblings.

Update tox.ini for this change and add neutron to requirements file.

Change-Id: I6a3543aa5bfd7e622be76de8b96c1a521d7a1627
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/74/553074/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tools/tox_install.sh', 'tox.ini']",3,22be6997188c12627c3c83ae89b46da5b32f91b1,tox-siblings,install_command = {opts} {packages}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} BRANCH_NAME=master CLIENT_NAME=networking-hypervdeps = -r{toxinidir}/requirements.txt,4,69
openstack%2Fos-win~master~I00706a22109c3c5b03ad1696b2cdad78b8e78f73,openstack/os-win,master,I00706a22109c3c5b03ad1696b2cdad78b8e78f73,Removing pypy,MERGED,2018-02-23 06:13:07.000000000,2018-03-21 10:39:37.000000000,2018-03-21 10:39:36.000000000,"[{'_account_id': 8213}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 06:13:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-win/commit/c9285bdc0aa40c2a804fae3fb2c815a930304088', 'message': 'Removing pypy\n\nPypy is not checked at gate.\n\nChange-Id: I00706a22109c3c5b03ad1696b2cdad78b8e78f73\n'}]",0,547287,c9285bdc0aa40c2a804fae3fb2c815a930304088,6,2,1,26310,,,0,"Removing pypy

Pypy is not checked at gate.

Change-Id: I00706a22109c3c5b03ad1696b2cdad78b8e78f73
",git fetch https://review.opendev.org/openstack/os-win refs/changes/87/547287/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c9285bdc0aa40c2a804fae3fb2c815a930304088,,"envlist = py35,py27,pep8","envlist = py35,py27,pypy,pep8",1,1
openstack%2Fos-win~master~Ie32a28cce8f8a629ab6dceaf460868f67f7ff91c,openstack/os-win,master,Ie32a28cce8f8a629ab6dceaf460868f67f7ff91c,Update links in README,MERGED,2018-03-09 03:38:55.000000000,2018-03-21 10:39:36.000000000,2018-03-21 10:39:36.000000000,"[{'_account_id': 8213}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-09 03:38:55.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/os-win/commit/068d1b5ec788c6dd66aa202f980f9fd3ef8cd857', 'message': 'Update links in README\n\nChange the outdated links to the latest links in README\n\nChange-Id: Ie32a28cce8f8a629ab6dceaf460868f67f7ff91c\n'}]",0,551113,068d1b5ec788c6dd66aa202f980f9fd3ef8cd857,6,2,1,17130,,,0,"Update links in README

Change the outdated links to the latest links in README

Change-Id: Ie32a28cce8f8a629ab6dceaf460868f67f7ff91c
",git fetch https://review.opendev.org/openstack/os-win refs/changes/13/551113/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,068d1b5ec788c6dd66aa202f980f9fd3ef8cd857,readme,.. image:: https://governance.openstack.org/tc/badges/os-win.svg :target: https://governance.openstack.org/tc/reference/tags/index.html,.. image:: https://governance.openstack.org/badges/os-win.svg :target: https://governance.openstack.org/reference/tags/index.html,2,2
openstack%2Fos-win~master~I939f98e5ece79821959b6c6ff921c0732b669c5f,openstack/os-win,master,I939f98e5ece79821959b6c6ff921c0732b669c5f,Updated from global requirements,MERGED,2018-03-10 13:41:18.000000000,2018-03-21 10:39:34.000000000,2018-03-21 10:39:34.000000000,"[{'_account_id': 8213}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-10 13:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/082b86e0bb61c5aa27c8c2dd09d64e72534b4404', 'message': 'Updated from global requirements\n\nChange-Id: I939f98e5ece79821959b6c6ff921c0732b669c5f\n'}, {'number': 2, 'created': '2018-03-14 05:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/03a0193aace69eb34527dd7432d58a76b8771178', 'message': 'Updated from global requirements\n\nChange-Id: I939f98e5ece79821959b6c6ff921c0732b669c5f\n'}, {'number': 3, 'created': '2018-03-15 07:46:09.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-win/commit/51cc7eb1ed4441a89deae22a5ae0e88cdc07fadf', 'message': 'Updated from global requirements\n\nChange-Id: I939f98e5ece79821959b6c6ff921c0732b669c5f\n'}]",0,551600,51cc7eb1ed4441a89deae22a5ae0e88cdc07fadf,10,2,3,11131,,,0,"Updated from global requirements

Change-Id: I939f98e5ece79821959b6c6ff921c0732b669c5f
",git fetch https://review.opendev.org/openstack/os-win refs/changes/00/551600/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,082b86e0bb61c5aa27c8c2dd09d64e72534b4404,openstack/requirements,"sphinx!=1.6.6,<1.7.0,>=1.6.2 # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",1,1
openstack%2Fswift~feature%2Fdeep~I74df5085f999095a7d38444299abf12038e62d76,openstack/swift,feature/deep,I74df5085f999095a7d38444299abf12038e62d76,Use state rather than subtlety to make shards of shards authoritative,MERGED,2018-03-09 18:57:24.000000000,2018-03-21 10:38:49.000000000,2018-03-20 23:17:06.000000000,"[{'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-09 18:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cda2fb75a389a70d3b6b95e946e373fb6e92b10a', 'message': 'Use explicit state rather than subtlety to control when we update root\n\nIt is important that a sharding shard does not advertise any of its\nsub-shards as being ACTIVE to the root before they have *all* been\ncleaved. Then we need the shard to simultaneously inform the root\nabout its new set of sub-shard ranges and its deleted own shard range.\nHowever, it is useful for sub-shards to becaome ACTIVE as soon as they\nare individually cleaved so that listing requests can be redirected to\nthem. This requires careful control over when cleaved ACTIVE\nsub-shards actually got reported to the root.\n\nBefore, we controlled when sub-shards appeared ACTIVE to the root by\nusing a subtle distortion of the shard state pushed to newly cleaved\nsub-shards, and by not including other shard ranges in root container\nupdates while in sharding state.\n\nNow, a newly cleaved shard is put in state CLEAVED until all shards\nhave been found, at which point all CLEAVED shards are simultaneously\nmoved to ACTIVE. This enables much simpler control over what the root\nlearns: shard containers never report CLEAVED shards to the\nroot. Otherwise, CLEAVED shard ranges are treated the same as ACTIVE\nshard ranges for the purposes of listings etc.\n\nIn summary:\n\nCLEAVED -> use in listings, update redirection; do not report to root.\nACTIVE -> use in listings, update redirection; report to root.\n\nChange-Id: I74df5085f999095a7d38444299abf12038e62d76\n'}, {'number': 2, 'created': '2018-03-10 22:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4f64b27e583cae981b0a1ad9e109d22ec03db3a0', 'message': 'Use explicit state rather than subtlety to control when we update root\n\nIt is important that a sharding shard does not advertise any of its\nsub-shards as being ACTIVE to the root before they have *all* been\ncleaved. Then we need the shard to simultaneously inform the root\nabout its new set of sub-shard ranges and its deleted own shard range.\nHowever, it is useful for sub-shards to becaome ACTIVE as soon as they\nare individually cleaved so that listing requests can be redirected to\nthem. This requires careful control over when cleaved ACTIVE\nsub-shards actually got reported to the root.\n\nBefore, we controlled when sub-shards appeared ACTIVE to the root by\nusing a subtle distortion of the shard state pushed to newly cleaved\nsub-shards, and by not including other shard ranges in root container\nupdates while in sharding state.\n\nNow, a newly cleaved shard of a shard is put in state CLEAVED until\nall shards have been found, at which point all CLEAVED shards are\nsimultaneously moved to ACTIVE. This enables much simpler control over\nwhat the root learns: shard containers never report CLEAVED shards to\nthe root. Otherwise, CLEAVED shard ranges are treated the same as\nACTIVE shard ranges for the purposes of listings etc.\n\nIn summary:\n\nCLEAVED -> use in listings, update redirection; do not report to root.\nACTIVE -> use in listings, update redirection; report to root.\n\nChange-Id: I74df5085f999095a7d38444299abf12038e62d76\n'}, {'number': 3, 'created': '2018-03-12 10:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a9b0eee9c7e10e74a85f8443196eaa3c41fbce2a', 'message': 'Use explicit state rather than subtlety to control when we update root\n\nIt is important that a sharding shard does not advertise any of its\nsub-shards as being ACTIVE to the root before they have *all* been\ncleaved. Then we need the shard to simultaneously inform the root\nabout its new set of sub-shard ranges and its deleted own shard range.\nHowever, it is useful for sub-shards to becaome ACTIVE as soon as they\nare individually cleaved so that listing requests can be redirected to\nthem. This requires careful control over when cleaved ACTIVE\nsub-shards actually got reported to the root.\n\nBefore, we controlled when sub-shards appeared ACTIVE to the root by\nusing a subtle distortion of the shard state pushed to newly cleaved\nsub-shards, and by not including other shard ranges in root container\nupdates while in sharding state.\n\nNow, a newly cleaved shard of a shard is put in state CLEAVED until\nall shards have been found, at which point all CLEAVED shards are\nsimultaneously moved to ACTIVE. This enables much simpler control over\nwhat the root learns: shard containers never report CLEAVED shards to\nthe root. Otherwise, CLEAVED shard ranges are treated the same as\nACTIVE shard ranges for the purposes of listings etc.\n\nIn summary:\n\nCLEAVED -> use in listings, update redirection; do not report to root.\nACTIVE -> use in listings, update redirection; report to root.\n\nChange-Id: I74df5085f999095a7d38444299abf12038e62d76\n'}, {'number': 4, 'created': '2018-03-12 15:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1e005aa137e7de119e7a3c77fbef3fa476eeb6a6', 'message': ""Use state rather than subtlety to make shards of shards authoritative\n\nIn the root container it is important that sub-shards of a sharding\nshard are not considered as being authoritative for the purposes of\nlistings before they have *all* been cleaved and the sharding shard is\nsimultaneously deleted.\n\nHowever, it is useful for sub-shards to considered authoritative by a\nsharding shard as soon as they are individually cleaved so that\nlisting requests to the shard can be redirected to them. Maintaining\nthis distinction between root and shard behaviour requires careful\ncontrol of how cleaved sub-shards are reported to the root.\n\nBefore, we controlled when sub-shards appeared ACTIVE to the root by\nusing a subtle distortion of the shard range state pushed to newly\ncleaved sub-shards, and by not including other shard ranges in root\ncontainer updates while in sharding state.\n\nNow, a newly cleaved shard of a shard is put in state CLEAVED until\nall shards have been found, at which point all CLEAVED shards are\nsimultaneously moved to ACTIVE. This enables much simpler control over\nwhat is considered as authoritative: CLEAVED shard ranges are not\nauthoritative in the root but CLEAVED shard ranges are considered\nauthoritative in shards.\n\nIn summary:\n\nCLEAVED -> use when handling listings of shards but not roots;\n   use for update redirection.\n\nACTIVE -> use when handling listings of shards and roots; use\n  for update redirection.\n\nAlso, include other shard ranges when updating root...\n\nBefore, when a shard container made its periodic update\nto the root, it only included its own shard range. Now it\nalso includes other shard ranges that it knows about, unless\nit is shrinking.\n\nThis change ensures that when a donor shard has shrunk and\ncleaved itself to an acceptor, the acceptor will update the\nroot with its own new expanded namespace (as before) and the\ndeleted donor shard range (which wasn't happening before).\n\nChange-Id: I74df5085f999095a7d38444299abf12038e62d76\n""}, {'number': 5, 'created': '2018-03-12 15:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d3f696f91c6d642631744ba0e8afeda9faf39971', 'message': ""Use state rather than subtlety to make shards of shards authoritative\n\nIn the root container it is important that sub-shards of a sharding\nshard are not considered as being authoritative for the purposes of\nlistings before they have *all* been cleaved and the sharding shard is\nsimultaneously deleted.\n\nHowever, it is useful for sub-shards to considered authoritative by a\nsharding shard as soon as they are individually cleaved so that\nlisting requests to the shard can be redirected to them. Maintaining\nthis distinction between root and shard behaviour requires careful\ncontrol of how cleaved sub-shards are reported to the root.\n\nBefore, we controlled when sub-shards appeared ACTIVE to the root by\nusing a subtle distortion of the shard range state pushed to newly\ncleaved sub-shards, and by not including other shard ranges in root\ncontainer updates while in sharding state.\n\nNow, a newly cleaved shard of a shard is put in state CLEAVED until\nall shards have been found, at which point all CLEAVED shards are\nsimultaneously moved to ACTIVE. This enables much simpler control over\nwhat is considered as authoritative: CLEAVED shard ranges are not\nauthoritative in the root but CLEAVED shard ranges are considered\nauthoritative in shards.\n\nIn summary:\n\nCLEAVED -> use when handling listings of shards but not roots;\n   use for update redirection.\n\nACTIVE -> use when handling listings of shards and roots; use\n  for update redirection.\n\nAlso, include other shard ranges when updating root...\n\nBefore, when a shard container made its periodic update\nto the root, it only included its own shard range. Now it\nalso includes other shard ranges that it knows about, unless\nit is shrinking.\n\nThis change ensures that when a donor shard has shrunk and\ncleaved itself to an acceptor, the acceptor will update the\nroot with its own new expanded namespace (as before) and the\ndeleted donor shard range (which wasn't happening before).\n\nChange-Id: I74df5085f999095a7d38444299abf12038e62d76\n""}, {'number': 6, 'created': '2018-03-12 18:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1ebf68bedd2d704c9906fa6f3fce90c8e02d7aac', 'message': ""Use state rather than subtlety to make shards of shards authoritative\n\nIn the root container it is important that sub-shards of a sharding\nshard are not considered as being authoritative for the purposes of\nlistings before they have *all* been cleaved and the sharding shard is\nsimultaneously deleted.\n\nHowever, it is useful for sub-shards to considered authoritative by a\nsharding shard as soon as they are individually cleaved so that\nlisting requests to the shard can be redirected to them. Maintaining\nthis distinction between root and shard behaviour requires careful\ncontrol of how cleaved sub-shards are reported to the root.\n\nBefore, we controlled when sub-shards appeared ACTIVE to the root by\nusing a subtle distortion of the shard range state pushed to newly\ncleaved sub-shards, and by not including other shard ranges in root\ncontainer updates while in sharding state.\n\nNow, a newly cleaved shard of a shard is put in state CLEAVED until\nall shards have been found, at which point all CLEAVED shards are\nsimultaneously moved to ACTIVE. This enables much simpler control over\nwhat is considered as authoritative: CLEAVED shard ranges are not\nauthoritative in the root but CLEAVED shard ranges are considered\nauthoritative in shards.\n\nIn summary:\n\nCLEAVED -> use when handling listings of shards but not roots;\n   use for update redirection.\n\nACTIVE -> use when handling listings of shards and roots; use\n  for update redirection.\n\nAlso, include other shard ranges when updating root...\n\nBefore, when a shard container made its periodic update\nto the root, it only included its own shard range. Now it\nalso includes other shard ranges that it knows about, unless\nit is shrinking.\n\nThis change ensures that when a donor shard has shrunk and\ncleaved itself to an acceptor, the acceptor will update the\nroot with its own new expanded namespace (as before) and the\ndeleted donor shard range (which wasn't happening before).\n\nChange-Id: I74df5085f999095a7d38444299abf12038e62d76\n""}, {'number': 7, 'created': '2018-03-13 19:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b5383278bd915b31badb1c81f2f4952743112c0f', 'message': ""Use state rather than subtlety to make shards of shards authoritative\n\nIn the root container it is important that sub-shards of a sharding\nshard are not considered as being authoritative for the purposes of\nlistings before they have *all* been cleaved and the sharding shard is\nsimultaneously deleted.\n\nHowever, it is useful for sub-shards to considered authoritative by a\nsharding shard as soon as they are individually cleaved so that\nlisting requests to the shard can be redirected to them. Maintaining\nthis distinction between root and shard behaviour requires careful\ncontrol of how cleaved sub-shards are reported to the root.\n\nBefore, we controlled when sub-shards appeared ACTIVE to the root by\nusing a subtle distortion of the shard range state pushed to newly\ncleaved sub-shards, and by not including other shard ranges in root\ncontainer updates while in sharding state.\n\nNow, a newly cleaved shard of a shard is put in state CLEAVED until\nall shards have been found, at which point all CLEAVED shards are\nsimultaneously moved to ACTIVE. This enables much simpler control over\nwhat is considered as authoritative: CLEAVED shard ranges are not\nauthoritative in the root but CLEAVED shard ranges are considered\nauthoritative in shards.\n\nIn summary:\n\nCLEAVED -> use when handling listings of shards but not roots;\n   use for update redirection.\n\nACTIVE -> use when handling listings of shards and roots; use\n  for update redirection.\n\nAlso, include other shard ranges when updating root...\n\nBefore, when a shard container made its periodic update\nto the root, it only included its own shard range. Now it\nalso includes other shard ranges that it knows about, unless\nit is shrinking.\n\nThis change ensures that when a donor shard has shrunk and\ncleaved itself to an acceptor, the acceptor will update the\nroot with its own new expanded namespace (as before) and the\ndeleted donor shard range (which wasn't happening before).\n\nChange-Id: I74df5085f999095a7d38444299abf12038e62d76\n""}, {'number': 8, 'created': '2018-03-19 14:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/75121e522cddbafd2e9387a7d24bb87c9b1a29d6', 'message': ""Use state rather than subtlety to make shards of shards authoritative\n\nIn the root container it is important that sub-shards of a sharding\nshard are not considered as being authoritative for the purposes of\nlistings before they have *all* been cleaved and the sharding shard is\nsimultaneously deleted.\n\nHowever, it is useful for sub-shards to considered authoritative by a\nsharding shard as soon as they are individually cleaved so that\nlisting requests to the shard can be redirected to them. Maintaining\nthis distinction between root and shard behaviour requires careful\ncontrol of how cleaved sub-shards are reported to the root.\n\nBefore, we controlled when sub-shards appeared ACTIVE to the root by\nusing a subtle distortion of the shard range state pushed to newly\ncleaved sub-shards, and by not including other shard ranges in root\ncontainer updates while in sharding state.\n\nNow, a newly cleaved shard of a shard is put in state CLEAVED until\nall shards have been found, at which point all CLEAVED shards are\nsimultaneously moved to ACTIVE. This enables much simpler control over\nwhat is considered as authoritative: CLEAVED shard ranges are not\nauthoritative in the root but CLEAVED shard ranges are considered\nauthoritative in shards.\n\nIn summary:\n\nCLEAVED -> use when handling listings of shards but not roots;\n   use for update redirection.\n\nACTIVE -> use when handling listings of shards and roots; use\n  for update redirection.\n\nAlso, include other shard ranges when updating root...\n\nBefore, when a shard container made its periodic update\nto the root, it only included its own shard range. Now it\nalso includes other shard ranges that it knows about, unless\nit is shrinking.\n\nThis change ensures that when a donor shard has shrunk and\ncleaved itself to an acceptor, the acceptor will update the\nroot with its own new expanded namespace (as before) and the\ndeleted donor shard range (which wasn't happening before).\n\nChange-Id: I74df5085f999095a7d38444299abf12038e62d76\n""}, {'number': 9, 'created': '2018-03-19 15:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c73f0a4b73b2815fda08fc4a9f384733d02ca3ac', 'message': ""Use state rather than subtlety to make shards of shards authoritative\n\nIn the root container it is important that sub-shards of a sharding\nshard are not considered as being authoritative for the purposes of\nlistings before they have *all* been cleaved and the sharding shard is\nsimultaneously deleted.\n\nHowever, it is useful for sub-shards to considered authoritative by a\nsharding shard as soon as they are individually cleaved so that\nlisting requests to the shard can be redirected to them. Maintaining\nthis distinction between root and shard behaviour requires careful\ncontrol of how cleaved sub-shards are reported to the root.\n\nBefore, we controlled when sub-shards appeared ACTIVE to the root by\nusing a subtle distortion of the shard range state pushed to newly\ncleaved sub-shards, and by not including other shard ranges in root\ncontainer updates while in sharding state.\n\nNow, a newly cleaved shard of a shard is put in state CLEAVED until\nall shards have been found, at which point all CLEAVED shards are\nsimultaneously moved to ACTIVE. This enables much simpler control over\nwhat is considered as authoritative: CLEAVED shard ranges are not\nauthoritative in the root but CLEAVED shard ranges are considered\nauthoritative in shards.\n\nIn summary:\n\nCLEAVED -> use when handling listings of shards but not roots;\n   use for update redirection.\n\nACTIVE -> use when handling listings of shards and roots; use\n  for update redirection.\n\nAlso, include other shard ranges when updating root...\n\nBefore, when a shard container made its periodic update\nto the root, it only included its own shard range. Now it\nalso includes other shard ranges that it knows about, unless\nit is shrinking.\n\nThis change ensures that when a donor shard has shrunk and\ncleaved itself to an acceptor, the acceptor will update the\nroot with its own new expanded namespace (as before) and the\ndeleted donor shard range (which wasn't happening before).\n\nChange-Id: I74df5085f999095a7d38444299abf12038e62d76\n""}, {'number': 10, 'created': '2018-03-20 10:14:30.000000000', 'files': ['swift/container/server.py', 'swift/common/utils.py', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'test/unit/container/test_server.py', 'test/unit/container/test_backend.py', 'swift/container/sharder.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/173887aa169cdc7997e6f4c7a20851af69c01f5c', 'message': ""Use state rather than subtlety to make shards of shards authoritative\n\nIn the root container it is important that sub-shards of a sharding\nshard are not considered as being authoritative for the purposes of\nlistings before they have *all* been cleaved and the sharding shard is\nsimultaneously deleted.\n\nHowever, it is useful for sub-shards to considered authoritative by a\nsharding shard as soon as they are individually cleaved so that\nlisting requests to the shard can be redirected to them. Maintaining\nthis distinction between root and shard behaviour requires careful\ncontrol of how cleaved sub-shards are reported to the root.\n\nBefore, we controlled when sub-shards appeared ACTIVE to the root by\nusing a subtle distortion of the shard range state pushed to newly\ncleaved sub-shards, and by not including other shard ranges in root\ncontainer updates while in sharding state.\n\nNow, a newly cleaved shard of a shard is put in state CLEAVED until\nall shards have been found, at which point all CLEAVED shards are\nsimultaneously moved to ACTIVE. This enables much simpler control over\nwhat is considered as authoritative: CLEAVED shard ranges are not\nauthoritative in the root but CLEAVED shard ranges are considered\nauthoritative in shards.\n\nIn summary:\n\nCLEAVED -> use when handling listings of shards but not roots;\n   use for update redirection.\n\nACTIVE -> use when handling listings of shards and roots; use\n  for update redirection.\n\nAlso, include other shard ranges when updating root...\n\nBefore, when a shard container made its periodic update\nto the root, it only included its own shard range. Now it\nalso includes other shard ranges that it knows about, unless\nit is shrinking.\n\nThis change ensures that when a donor shard has shrunk and\ncleaved itself to an acceptor, the acceptor will update the\nroot with its own new expanded namespace (as before) and the\ndeleted donor shard range (which wasn't happening before).\n\nChange-Id: I74df5085f999095a7d38444299abf12038e62d76\n""}]",35,551356,173887aa169cdc7997e6f4c7a20851af69c01f5c,31,4,10,7847,,,0,"Use state rather than subtlety to make shards of shards authoritative

In the root container it is important that sub-shards of a sharding
shard are not considered as being authoritative for the purposes of
listings before they have *all* been cleaved and the sharding shard is
simultaneously deleted.

However, it is useful for sub-shards to considered authoritative by a
sharding shard as soon as they are individually cleaved so that
listing requests to the shard can be redirected to them. Maintaining
this distinction between root and shard behaviour requires careful
control of how cleaved sub-shards are reported to the root.

Before, we controlled when sub-shards appeared ACTIVE to the root by
using a subtle distortion of the shard range state pushed to newly
cleaved sub-shards, and by not including other shard ranges in root
container updates while in sharding state.

Now, a newly cleaved shard of a shard is put in state CLEAVED until
all shards have been found, at which point all CLEAVED shards are
simultaneously moved to ACTIVE. This enables much simpler control over
what is considered as authoritative: CLEAVED shard ranges are not
authoritative in the root but CLEAVED shard ranges are considered
authoritative in shards.

In summary:

CLEAVED -> use when handling listings of shards but not roots;
   use for update redirection.

ACTIVE -> use when handling listings of shards and roots; use
  for update redirection.

Also, include other shard ranges when updating root...

Before, when a shard container made its periodic update
to the root, it only included its own shard range. Now it
also includes other shard ranges that it knows about, unless
it is shrinking.

This change ensures that when a donor shard has shrunk and
cleaved itself to an acceptor, the acceptor will update the
root with its own new expanded namespace (as before) and the
deleted donor shard range (which wasn't happening before).

Change-Id: I74df5085f999095a7d38444299abf12038e62d76
",git fetch https://review.opendev.org/openstack/swift refs/changes/56/551356/10 && git format-patch -1 --stdout FETCH_HEAD,"['swift/container/server.py', 'swift/common/utils.py', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'swift/container/sharder.py', 'swift/container/backend.py']",6,cda2fb75a389a70d3b6b95e946e373fb6e92b10a,p-sharding-dev," states=[ShardRange.CLEAVED, ShardRange.ACTIVE, ShardRange.SHRINKING, ShardRange.EXPANDING])"," states=[ShardRange.ACTIVE, ShardRange.SHRINKING, ShardRange.EXPANDING])",44,52
openstack%2Fpuppet-openstack-integration~stable%2Fqueens~I5e5e89a4d691fc3890fbc863caa1fc87e42e7d87,openstack/puppet-openstack-integration,stable/queens,I5e5e89a4d691fc3890fbc863caa1fc87e42e7d87,Grep command error,MERGED,2018-03-20 00:18:13.000000000,2018-03-21 10:30:05.000000000,2018-03-21 10:30:05.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 00:18:13.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/47da92f4e8c0131f7ec2c606b05651c3ed630c2f', 'message': 'Grep command error\n\nError[1] when executing grep command. add sudo for the grep commands\nwhen it is currently enabled.\n\n[1]:http://logs.openstack.org/63/554163/1/check/puppet-openstack-integration-4-scenario002-tempest-ubuntu-xenial/dd454e9/job-output.txt.gz#_2018-03-19_08_44_16_398090\n\nChange-Id: I5e5e89a4d691fc3890fbc863caa1fc87e42e7d87\nCloses-Bug: #1756832\n(cherry picked from commit f8d4883f520c1dcbfd000b37c14607f87ae65932)\n'}]",0,554387,47da92f4e8c0131f7ec2c606b05651c3ed630c2f,21,4,1,9414,,,0,"Grep command error

Error[1] when executing grep command. add sudo for the grep commands
when it is currently enabled.

[1]:http://logs.openstack.org/63/554163/1/check/puppet-openstack-integration-4-scenario002-tempest-ubuntu-xenial/dd454e9/job-output.txt.gz#_2018-03-19_08_44_16_398090

Change-Id: I5e5e89a4d691fc3890fbc863caa1fc87e42e7d87
Closes-Bug: #1756832
(cherry picked from commit f8d4883f520c1dcbfd000b37c14607f87ae65932)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/87/554387/1 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,47da92f4e8c0131f7ec2c606b05651c3ed630c2f,bug/1756832-stable/queens, $SUDO grep -wiE '(Error|\(err\))' ${WORKSPACE}/puppet.log, grep -wiE '(Error|\(err\))' ${WORKSPACE}/puppet.log,1,1
openstack%2Fneutron~master~Ia4ea2ed86ec1fd7aee5428319efb956672c9d1a8,openstack/neutron,master,Ia4ea2ed86ec1fd7aee5428319efb956672c9d1a8,"Revert ""[Fullstack] Mark security group test as unstable""",MERGED,2018-03-20 21:31:17.000000000,2018-03-21 10:27:34.000000000,2018-03-21 10:27:34.000000000,"[{'_account_id': 1653}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 21:31:17.000000000', 'files': ['neutron/tests/fullstack/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e8aa9062e3a3d9c6de65c762379c6e74f3560d9', 'message': 'Revert ""[Fullstack] Mark security group test as unstable""\n\nIt is possible that issue with ncat process can be already fixed by [1]\nso there is no need to mark as unstable anymore.\n\nThis reverts commit 685596f89c02711410bd6b650a12264ca99145fe.\n\n[1] https://review.openstack.org/#/c/545820/\n\nChange-Id: Ia4ea2ed86ec1fd7aee5428319efb956672c9d1a8\n'}]",0,554709,8e8aa9062e3a3d9c6de65c762379c6e74f3560d9,10,7,1,11975,,,0,"Revert ""[Fullstack] Mark security group test as unstable""

It is possible that issue with ncat process can be already fixed by [1]
so there is no need to mark as unstable anymore.

This reverts commit 685596f89c02711410bd6b650a12264ca99145fe.

[1] https://review.openstack.org/#/c/545820/

Change-Id: Ia4ea2ed86ec1fd7aee5428319efb956672c9d1a8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/554709/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/test_securitygroup.py'],1,8e8aa9062e3a3d9c6de65c762379c6e74f3560d9,bug/1744402,,"from neutron.tests import base as tests_base @tests_base.unstable_test(""bug 1744402"")",0,2
openstack%2Fzun~master~I9603e1794e370dd32d4000fc05e88842291df2ee,openstack/zun,master,I9603e1794e370dd32d4000fc05e88842291df2ee,Add essential comments for API image search,MERGED,2018-03-20 02:37:21.000000000,2018-03-21 10:25:56.000000000,2018-03-21 10:25:56.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 22406}]","[{'number': 1, 'created': '2018-03-20 02:37:21.000000000', 'files': ['zun/api/controllers/v1/images.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/81188493fba5f8a123af592011449a8600ce4ecc', 'message': 'Add essential comments for API image search\n\nChange-Id: I9603e1794e370dd32d4000fc05e88842291df2ee\n'}]",0,554401,81188493fba5f8a123af592011449a8600ce4ecc,7,3,1,27577,,,0,"Add essential comments for API image search

Change-Id: I9603e1794e370dd32d4000fc05e88842291df2ee
",git fetch https://review.opendev.org/openstack/zun refs/changes/01/554401/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/api/controllers/v1/images.py'],1,81188493fba5f8a123af592011449a8600ce4ecc,add-essential-param-comments," """"""Search a specific image :param image: Name of the image. :param image_driver: Name of the image driver (glance, docker). :param exact_match: if True, exact match the image name. """"""",,6,0
openstack%2Foslo.db~master~Iba311cc69ec5272d8beb433e3589c53f371d5d0a,openstack/oslo.db,master,Iba311cc69ec5272d8beb433e3589c53f371d5d0a,Use the new PTI for document build,MERGED,2017-12-19 05:21:58.000000000,2018-03-21 10:25:43.000000000,2017-12-21 14:09:32.000000000,"[{'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6547}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-19 05:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/982d738f00528d77df453b3111f56d8c76f1d2b2', 'message': 'DNM: just test\n\nChange-Id: Iba311cc69ec5272d8beb433e3589c53f371d5d0a\n'}, {'number': 2, 'created': '2017-12-19 05:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/ef2f7edd4b0765cc2c5d2a3e64237f49d93bb046', 'message': 'Use the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: Iba311cc69ec5272d8beb433e3589c53f371d5d0a\n'}, {'number': 3, 'created': '2017-12-19 05:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/8aaf0f09654a2d81cc74377d1ca0a9da54986f62', 'message': 'Use the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: Iba311cc69ec5272d8beb433e3589c53f371d5d0a\n'}, {'number': 4, 'created': '2017-12-19 05:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/ebfdf5b5f7126a428a9115fc39c70f1fc96b7d87', 'message': 'Use the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: Iba311cc69ec5272d8beb433e3589c53f371d5d0a\n'}, {'number': 5, 'created': '2017-12-19 05:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/1df2a912972554fed2bd068685fd0ed99e3f1f5b', 'message': 'Use the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: Iba311cc69ec5272d8beb433e3589c53f371d5d0a\n'}, {'number': 6, 'created': '2017-12-19 06:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/6ef819103d17a11cc56f278835e7c0e1cb4cae39', 'message': 'Use the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: Iba311cc69ec5272d8beb433e3589c53f371d5d0a\n'}, {'number': 7, 'created': '2017-12-19 06:41:33.000000000', 'files': ['doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/4f81c419947e2793e3eda4ce8f3664058b5a5d2c', 'message': 'Use the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: Iba311cc69ec5272d8beb433e3589c53f371d5d0a\n'}]",2,528954,4f81c419947e2793e3eda4ce8f3664058b5a5d2c,17,5,7,9796,,,0,"Use the new PTI for document build

For compliance with the Project Testing Interface as described in:

https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:

http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: Iba311cc69ec5272d8beb433e3589c53f371d5d0a
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/54/528954/3 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,982d738f00528d77df453b3111f56d8c76f1d2b2,updated-pti,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt commands = sphinx-build -b html doc/source doc/build/html sphinx-build -b html doc/source doc/build/html, python setup.py build_sphinx,5,3
openstack%2Foslo.versionedobjects~master~Ib02738563f5ae3712e1074a3b08c693ea7cdea79,openstack/oslo.versionedobjects,master,Ib02738563f5ae3712e1074a3b08c693ea7cdea79,Follow the new PTI for document build,MERGED,2017-12-19 08:27:00.000000000,2018-03-21 10:25:14.000000000,2017-12-21 14:28:18.000000000,"[{'_account_id': 5638}, {'_account_id': 6159}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-19 08:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/e3ab5016f7137001ebc4fdf1b945ddb82a9a546a', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: Ib02738563f5ae3712e1074a3b08c693ea7cdea79\n'}, {'number': 2, 'created': '2017-12-21 02:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/789a9b2f9dc9d50ea19ccd0415c65c5f51c99f5e', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: Ib02738563f5ae3712e1074a3b08c693ea7cdea79\n'}, {'number': 3, 'created': '2017-12-21 09:18:27.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/bd7090a1080c1be9d72252ca6368779a38f61874', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: Ib02738563f5ae3712e1074a3b08c693ea7cdea79\n'}]",2,528986,bd7090a1080c1be9d72252ca6368779a38f61874,16,4,3,9796,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:

https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:

http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: Ib02738563f5ae3712e1074a3b08c693ea7cdea79
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/86/528986/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,e3ab5016f7137001ebc4fdf1b945ddb82a9a546a,updated-pti,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt commands = sphinx-build -b html doc/source doc/build/htmldeps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,commands = python setup.py build_sphinx,13,6
openstack%2Foslo.utils~master~I3d86f1897dc900ba815c0c3975e95e27bb29b532,openstack/oslo.utils,master,I3d86f1897dc900ba815c0c3975e95e27bb29b532,Follow the new PTI for document build,MERGED,2017-12-19 05:42:25.000000000,2018-03-21 10:24:50.000000000,2018-01-03 15:35:27.000000000,"[{'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6547}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-19 05:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/c57099c7d60c20dede3621790a657520ec8757bc', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I3d86f1897dc900ba815c0c3975e95e27bb29b532\n'}, {'number': 2, 'created': '2017-12-19 05:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/53ec2ba16a6b9c9085f1f8a84a26e88e9ee42f3a', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I3d86f1897dc900ba815c0c3975e95e27bb29b532\n'}, {'number': 3, 'created': '2017-12-19 06:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/925d7418b6ef6cd0121262f69f7f04669fb1e755', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I3d86f1897dc900ba815c0c3975e95e27bb29b532\n'}, {'number': 4, 'created': '2017-12-19 06:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/e7b1cddf8f36f261660ac57206679969d8f7c316', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I3d86f1897dc900ba815c0c3975e95e27bb29b532\n'}, {'number': 5, 'created': '2017-12-19 10:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/6b47f0bb87d37541835a2035e0b33bb00d837439', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I3d86f1897dc900ba815c0c3975e95e27bb29b532\n'}, {'number': 6, 'created': '2017-12-20 09:35:46.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/2ba0aa94a0024332b119e49274bcd027225141e5', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I3d86f1897dc900ba815c0c3975e95e27bb29b532\n'}]",3,528956,2ba0aa94a0024332b119e49274bcd027225141e5,19,5,6,9796,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:

https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:

http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I3d86f1897dc900ba815c0c3975e95e27bb29b532
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/56/528956/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,c57099c7d60c20dede3621790a657520ec8757bc,updated-pti,deps = -r{toxinidir}/doc/requirements.txt commands = sphinx-build -b html doc/source doc/build/htmldeps = -r{toxinidir}/doc/requirements.txt,commands = python setup.py build_sphinx,7,7
openstack%2Foslo.context~master~I9d23ea7b5731fb677b2b1a09cdec74a1101dcd2c,openstack/oslo.context,master,I9d23ea7b5731fb677b2b1a09cdec74a1101dcd2c,Follow the new PTI for document build,MERGED,2017-12-19 06:47:27.000000000,2018-03-21 10:24:27.000000000,2018-01-03 15:41:52.000000000,"[{'_account_id': 2472}, {'_account_id': 5638}, {'_account_id': 6547}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-19 06:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/6efff35a835e79adcbac40b355f4108b39e305f0', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I9d23ea7b5731fb677b2b1a09cdec74a1101dcd2c\n'}, {'number': 2, 'created': '2017-12-19 06:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/0b0045bed5b5f89730ab12fde9f025d0e5b2ebea', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I9d23ea7b5731fb677b2b1a09cdec74a1101dcd2c\n'}, {'number': 3, 'created': '2017-12-19 06:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/b7a8571a41229b0c6d4ce8581513ef68fb98afb0', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I9d23ea7b5731fb677b2b1a09cdec74a1101dcd2c\n'}, {'number': 4, 'created': '2017-12-19 11:00:58.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/f0dd124daa78c1f214fa67d9504cb0d5ab1b24db', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I9d23ea7b5731fb677b2b1a09cdec74a1101dcd2c\n'}]",3,528970,f0dd124daa78c1f214fa67d9504cb0d5ab1b24db,16,5,4,9796,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:

https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:

http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I9d23ea7b5731fb677b2b1a09cdec74a1101dcd2c
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/70/528970/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,6efff35a835e79adcbac40b355f4108b39e305f0,updated-pti,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt commands = sphinx-build -b html doc/source doc/build/htmldeps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,commands = python setup.py build_sphinx,9,6
openstack%2Foslo.cache~master~I46607ac6b8448f6f6373736e54f5f75fa626538f,openstack/oslo.cache,master,I46607ac6b8448f6f6373736e54f5f75fa626538f,Follow the new PTI for document build,MERGED,2018-01-03 12:29:30.000000000,2018-03-21 10:23:50.000000000,2018-01-05 05:36:42.000000000,"[{'_account_id': 2472}, {'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-03 12:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/093fc416c095f857261bc78ba449e5abf5983604', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I46607ac6b8448f6f6373736e54f5f75fa626538f\n'}, {'number': 2, 'created': '2018-01-03 12:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/91356eaab74300dcc47bbfec43679e7e28c8d325', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I46607ac6b8448f6f6373736e54f5f75fa626538f\n'}, {'number': 3, 'created': '2018-01-04 05:20:32.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/e52c99825cd888c9e7771697e189bfdba8cbe406', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I46607ac6b8448f6f6373736e54f5f75fa626538f\n'}]",1,530909,e52c99825cd888c9e7771697e189bfdba8cbe406,15,4,3,9796,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I46607ac6b8448f6f6373736e54f5f75fa626538f
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/09/530909/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,093fc416c095f857261bc78ba449e5abf5983604,updated-pti,deps = -r{toxinidir}/doc/requirements.txt commands = sphinx-build -b html doc/source doc/build/htmldeps = -r{toxinidir}/doc/requirements.txt,commands = python setup.py build_sphinx,9,4
openstack%2Fstevedore~master~I673214c9e231294e7d5eb473232e2a611e219b47,openstack/stevedore,master,I673214c9e231294e7d5eb473232e2a611e219b47,Follow the new PTI for document build,MERGED,2018-01-08 18:29:19.000000000,2018-03-21 10:23:26.000000000,2018-01-09 00:02:23.000000000,"[{'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-08 18:29:19.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/5d0fb1193c20904a2a9d2e6e31f71f189bbd5bdb', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I673214c9e231294e7d5eb473232e2a611e219b47\n'}]",0,531875,5d0fb1193c20904a2a9d2e6e31f71f189bbd5bdb,8,3,1,11904,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:

https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:

http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I673214c9e231294e7d5eb473232e2a611e219b47
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/75/531875/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,5d0fb1193c20904a2a9d2e6e31f71f189bbd5bdb,updated-pti,commands = sphinx-build -W -b html doc/source doc/build/html,commands = python setup.py build_sphinx,1,8
openstack%2Foslo.messaging~master~I39b9806013a0912b27c0523dfc2b713b3105bdf1,openstack/oslo.messaging,master,I39b9806013a0912b27c0523dfc2b713b3105bdf1,Follow the new PTI for document build,MERGED,2018-01-08 18:12:45.000000000,2018-03-21 10:22:55.000000000,2018-01-09 12:48:45.000000000,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-08 18:12:45.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1cbe9361cbbe40485fce57c1a8a7a8fde30e549b', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I39b9806013a0912b27c0523dfc2b713b3105bdf1\n'}]",0,531869,1cbe9361cbbe40485fce57c1a8a7a8fde30e549b,9,3,1,11904,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:

https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:

http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I39b9806013a0912b27c0523dfc2b713b3105bdf1
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/69/531869/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,1cbe9361cbbe40485fce57c1a8a7a8fde30e549b,updated-pti,commands = sphinx-build -W -b html doc/source doc/build/html,commands = python setup.py build_sphinx,1,10
openstack%2Foslo.db~stable%2Fpike~Iba311cc69ec5272d8beb433e3589c53f371d5d0a,openstack/oslo.db,stable/pike,Iba311cc69ec5272d8beb433e3589c53f371d5d0a,Use the new PTI for document build,MERGED,2018-01-11 19:11:42.000000000,2018-03-21 10:22:20.000000000,2018-01-15 10:32:37.000000000,"[{'_account_id': 6547}, {'_account_id': 9796}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-11 19:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/92dc3cefd1afa49ef7ada5ba5a2b9696b53290ac', 'message': 'Use the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: Iba311cc69ec5272d8beb433e3589c53f371d5d0a\n(cherry picked from commit 4f81c419947e2793e3eda4ce8f3664058b5a5d2c)\n'}, {'number': 2, 'created': '2018-01-11 19:27:42.000000000', 'files': ['doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/9da74057dc97b8d707f8d3009d02d78a6bf3ec59', 'message': 'Use the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: Iba311cc69ec5272d8beb433e3589c53f371d5d0a\n(cherry picked from commit 4f81c419947e2793e3eda4ce8f3664058b5a5d2c)\n'}]",1,532945,9da74057dc97b8d707f8d3009d02d78a6bf3ec59,15,4,2,11904,,,0,"Use the new PTI for document build

For compliance with the Project Testing Interface as described in:

https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:

http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: Iba311cc69ec5272d8beb433e3589c53f371d5d0a
(cherry picked from commit 4f81c419947e2793e3eda4ce8f3664058b5a5d2c)
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/45/532945/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'setup.cfg', 'tox.ini']",3,92dc3cefd1afa49ef7ada5ba5a2b9696b53290ac,updated-pti,deps = -r{toxinidir}/doc/requirements.txt sphinx-build -b html doc/source doc/build/htmldeps = -r{toxinidir}/doc/requirements.txt, python setup.py build_sphinx,16,6
openstack%2Fnetworking-calico~master~I42d44f8c20a598e996d7ebc48f13db904e701b94,openstack/networking-calico,master,I42d44f8c20a598e996d7ebc48f13db904e701b94,Implement periodic etcd compaction,MERGED,2018-03-06 13:36:53.000000000,2018-03-21 10:22:09.000000000,2018-03-21 10:22:08.000000000,"[{'_account_id': 13734}, {'_account_id': 19461}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-06 13:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/a1984dcf9dc61f00e5473745c406aaf1241040e7', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 2, 'created': '2018-03-06 15:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/d3a7169919d462112a24d7829229ca86b09d2e87', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 3, 'created': '2018-03-06 16:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/a235d66dc8eeab1bbcd3984b82d9c07e21f4fccc', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 4, 'created': '2018-03-07 10:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/ce3804c4559386768d1af6dbc31b8f9278e2de92', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 5, 'created': '2018-03-07 13:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/8025796131b03d6e91a48edd95d8b8209ccf158f', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 6, 'created': '2018-03-07 14:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/e700d8c6ce65d837f909e3836abf9b92c645532f', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 7, 'created': '2018-03-07 15:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/0acdcfd3eef1e2fc39517c375e2c29c09b6393b4', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 8, 'created': '2018-03-07 17:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/36a963c2866f925c1d25a5f6bf81fdeb330460c0', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 9, 'created': '2018-03-08 16:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/ecdbbb80ac585b59a6e945d3d846776801c6b57c', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 10, 'created': '2018-03-10 16:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/5a01881f465ffecb2826672e7d20a8657c477473', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 11, 'created': '2018-03-10 17:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/a512f5aa2603e14529eec433ebe1bbac659b05f2', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 12, 'created': '2018-03-12 12:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/5650fdc175036d45781820c4e68cefefe6ab2720', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 13, 'created': '2018-03-12 12:26:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/ed5dd39aff7b193ba534d6f91ffc98077d7935b4', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 14, 'created': '2018-03-12 14:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/be5e1652899a229f367a3b62cc19690085115e93', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 15, 'created': '2018-03-12 15:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/d2d8805d29967d486e1d8bb819d4de44b83352ef', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 16, 'created': '2018-03-12 15:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/c7b02130710be8583659462d75fab5859490efad', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 17, 'created': '2018-03-13 10:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/a9df6da393fc276abf9723affb76b28b3a5ef35c', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 18, 'created': '2018-03-13 15:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/c93e0119ea2bf75a25449c3d920feed9ef732016', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 19, 'created': '2018-03-14 18:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/6ccd12557de3f79ffa59eaf95b471f9c0ba2e349', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 20, 'created': '2018-03-20 11:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/1f6770ce7b7e5c1ff68ab7cf5417e4a573bc107c', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 21, 'created': '2018-03-21 00:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/d466c85f70bb22ee70382cdaecd3afe09498f2d0', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}, {'number': 22, 'created': '2018-03-21 00:58:40.000000000', 'files': ['networking_calico/plugins/ml2/drivers/calico/test/test_plugin_etcd.py', 'devstack/devstackgaterc', 'networking_calico/etcdv3.py', 'networking_calico/plugins/ml2/drivers/calico/mech_calico.py', 'devstack/plugin.sh', 'networking_calico/plugins/ml2/drivers/calico/test/test_compaction.py'], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/24c7d47a1137ce6d1307602dc80566d8967cd3ec', 'message': 'Implement periodic etcd compaction\n\nChange-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94\n'}]",25,550078,24c7d47a1137ce6d1307602dc80566d8967cd3ec,56,3,22,13734,,,0,"Implement periodic etcd compaction

Change-Id: I42d44f8c20a598e996d7ebc48f13db904e701b94
",git fetch https://review.opendev.org/openstack/networking-calico refs/changes/78/550078/22 && git format-patch -1 --stdout FETCH_HEAD,"['networking_calico/plugins/ml2/drivers/calico/test/test_plugin_etcd.py', 'devstack/devstackgaterc', 'networking_calico/etcdv3.py', 'networking_calico/plugins/ml2/drivers/calico/mech_calico.py', 'devstack/plugin.sh']",5,a1984dcf9dc61f00e5473745c406aaf1241040e7,periodic-compaction," # If CALICO_ETCD_COMPACTION_PERIOD_MINS is # defined, set that as the value of the # etcd_compaction_period_mins setting. if test -n ""$CALICO_ETCD_COMPACTION_PERIOD_MINS""; then iniset $NEUTRON_CONF calico etcd_compaction_period_mins $CALICO_ETCD_COMPACTION_PERIOD_MINS fi",,92,1
openstack%2Foslo.cache~stable%2Fpike~I46607ac6b8448f6f6373736e54f5f75fa626538f,openstack/oslo.cache,stable/pike,I46607ac6b8448f6f6373736e54f5f75fa626538f,Follow the new PTI for document build,MERGED,2018-01-11 22:35:40.000000000,2018-03-21 10:21:58.000000000,2018-01-15 15:18:16.000000000,"[{'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-11 22:35:40.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/700c420475697ddcaf5c4a588312ea124bfe97a5', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I46607ac6b8448f6f6373736e54f5f75fa626538f\n(cherry picked from commit e52c99825cd888c9e7771697e189bfdba8cbe406)\n'}]",0,533001,700c420475697ddcaf5c4a588312ea124bfe97a5,8,3,1,11904,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I46607ac6b8448f6f6373736e54f5f75fa626538f
(cherry picked from commit e52c99825cd888c9e7771697e189bfdba8cbe406)
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/01/533001/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,700c420475697ddcaf5c4a588312ea124bfe97a5,updated-pti,deps = -r{toxinidir}/doc/requirements.txt commands = sphinx-build -b html doc/source doc/build/htmldeps = -r{toxinidir}/doc/requirements.txt,commands = python setup.py build_sphinx,18,4
openstack%2Foslo.db~stable%2Focata~Iba311cc69ec5272d8beb433e3589c53f371d5d0a,openstack/oslo.db,stable/ocata,Iba311cc69ec5272d8beb433e3589c53f371d5d0a,Use the new PTI for document build,MERGED,2018-01-15 17:56:23.000000000,2018-03-21 10:18:32.000000000,2018-01-19 12:04:16.000000000,"[{'_account_id': 9796}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-15 17:56:23.000000000', 'files': ['doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/5ae8e69b4126ae408e0c4d354ee25b34b009c932', 'message': 'Use the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: Iba311cc69ec5272d8beb433e3589c53f371d5d0a\n(cherry picked from commit 4f81c419947e2793e3eda4ce8f3664058b5a5d2c)\n(cherry picked from commit 9da74057dc97b8d707f8d3009d02d78a6bf3ec59)\n'}]",0,533748,5ae8e69b4126ae408e0c4d354ee25b34b009c932,9,4,1,11904,,,0,"Use the new PTI for document build

For compliance with the Project Testing Interface as described in:

https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:

http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: Iba311cc69ec5272d8beb433e3589c53f371d5d0a
(cherry picked from commit 4f81c419947e2793e3eda4ce8f3664058b5a5d2c)
(cherry picked from commit 9da74057dc97b8d707f8d3009d02d78a6bf3ec59)
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/48/533748/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'setup.cfg', 'tox.ini']",3,5ae8e69b4126ae408e0c4d354ee25b34b009c932,updated-pti,deps = -r{toxinidir}/doc/requirements.txt sphinx-build -b html doc/source doc/build/htmldeps = -r{toxinidir}/doc/requirements.txt, python setup.py build_sphinx,16,5
openstack%2Freleases~master~Ifd9f88785852f38bd61ceb0692180469b8ee3ce2,openstack/releases,master,Ifd9f88785852f38bd61ceb0692180469b8ee3ce2,update TestValidateExistingTags to create its own git repository,MERGED,2018-03-16 19:45:17.000000000,2018-03-21 10:12:48.000000000,2018-03-21 10:12:48.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 19:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d20ec99b5490e279dc4a15732c0e13ba13a9de22', 'message': 'update TestValidateExistingTags to create its own git repository\n\nAvoid cloning a repository that is going to change state to verify the\nbehavior for existing tags.\n\nChange-Id: Ifd9f88785852f38bd61ceb0692180469b8ee3ce2\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-03-16 19:47:19.000000000', 'files': ['openstack_releases/tests/test_validate.py', 'openstack_releases/cmds/validate.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/646b2e8ccec8966e86a13053c06c6d0bc6d4df62', 'message': 'update TestValidateExistingTags to create its own git repository\n\nAvoid cloning a repository that is going to change state to verify the\nbehavior for existing tags.\n\nChange-Id: Ifd9f88785852f38bd61ceb0692180469b8ee3ce2\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,553891,646b2e8ccec8966e86a13053c06c6d0bc6d4df62,9,4,2,2472,,,0,"update TestValidateExistingTags to create its own git repository

Avoid cloning a repository that is going to change state to verify the
behavior for existing tags.

Change-Id: Ifd9f88785852f38bd61ceb0692180469b8ee3ce2
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/553891/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_releases/tests/test_validate.py', 'openstack_releases/cmds/validate.py']",2,d20ec99b5490e279dc4a15732c0e13ba13a9de22,test-improvements," 'Version {} in {} is on ' 'commit {!r} instead of {!r}'.format( release.version, project.repo.name, actual_sha, project.hash) )"," ('Version %s in %s is on ' 'commit %s instead of %s') % (release.version, project.repo.name, actual_sha, project.hash))",93,13
openstack%2Freleases~master~I3f50da28f660dcb0ef9f52b707079ed24ca89ce2,openstack/releases,master,I3f50da28f660dcb0ef9f52b707079ed24ca89ce2,show the cwd for commands before running them,MERGED,2018-03-16 19:45:17.000000000,2018-03-21 10:12:39.000000000,2018-03-21 10:12:39.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 19:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/accc26aa39162732a594fc9e5dc9e8b3d7577268', 'message': 'show the cwd for commands before running them\n\nIf the caller passes a cwd value, display it before showing the\ncommand and running it.\n\nChange-Id: I3f50da28f660dcb0ef9f52b707079ed24ca89ce2\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-03-16 19:47:19.000000000', 'files': ['openstack_releases/processutils.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/5420e23870b8d373267cc45d42f1f6a1cfe8546c', 'message': 'show the cwd for commands before running them\n\nIf the caller passes a cwd value, display it before showing the\ncommand and running it.\n\nChange-Id: I3f50da28f660dcb0ef9f52b707079ed24ca89ce2\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,553890,5420e23870b8d373267cc45d42f1f6a1cfe8546c,9,4,2,2472,,,0,"show the cwd for commands before running them

If the caller passes a cwd value, display it before showing the
command and running it.

Change-Id: I3f50da28f660dcb0ef9f52b707079ed24ca89ce2
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/553890/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/processutils.py'],1,accc26aa39162732a594fc9e5dc9e8b3d7577268,test-improvements, if 'cwd' in kwargs: LOG.debug('cwd = {}'.format(kwargs['cwd'])) if 'cwd' in kwargs: LOG.debug('cwd = {}'.format(kwargs['cwd'])),,4,0
openstack%2Freleases~master~I12b65577b93f07d383b9cfa131ef56d68bdd130a,openstack/releases,master,I12b65577b93f07d383b9cfa131ef56d68bdd130a,test SHA validation using a fake repository,MERGED,2018-03-16 19:45:17.000000000,2018-03-21 10:12:38.000000000,2018-03-21 10:12:38.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 19:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/75733cb2daaf0eb5659950c3cffa41e9c585bda2', 'message': 'test SHA validation using a fake repository\n\nCreate a local repository instead of cloning one from the git server\nfor the tests that verify the SHA values being tagged.\n\nChange-Id: I12b65577b93f07d383b9cfa131ef56d68bdd130a\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-03-16 19:47:19.000000000', 'files': ['openstack_releases/tests/test_validate.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/f942b9e076aeeaa04f5aeec9fcf7fd6a8e810993', 'message': 'test SHA validation using a fake repository\n\nCreate a local repository instead of cloning one from the git server\nfor the tests that verify the SHA values being tagged.\n\nChange-Id: I12b65577b93f07d383b9cfa131ef56d68bdd130a\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,553889,f942b9e076aeeaa04f5aeec9fcf7fd6a8e810993,9,4,2,2472,,,0,"test SHA validation using a fake repository

Create a local repository instead of cloning one from the git server
for the tests that verify the SHA values being tagged.

Change-Id: I12b65577b93f07d383b9cfa131ef56d68bdd130a
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/89/553889/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/tests/test_validate.py'],1,75733cb2daaf0eb5659950c3cffa41e9c585bda2,test-improvements,"import loggingfrom openstack_releases import processutilsclass GitRepoFixture(fixtures.Fixture): logger = logging.getLogger('git') def __init__(self, workdir, name): self.workdir = workdir self.name = name self.path = os.path.join(self.workdir, self.name) super().__init__() def setUp(self): super().setUp() os.makedirs(self.path) self.git('init', '.') self.git('config', '--local', 'user.email', 'example@example.com') self.git('config', '--local', 'user.name', 'super developer') def git(self, *args): self.logger.debug('$ git %s', ' '.join(args)) output = processutils.check_output( ['git'] + list(args), cwd=self.path, ) self.logger.debug(output) return output def commit(self, message='commit message'): self.git('add', '.') self.git('commit', '-m', message) sha = self.git('show', '--pretty=format:%H') return sha.decode('utf-8') def add_file(self, name): with open(os.path.join(self.path, name), 'w') as f: f.write('adding %s\n' % name) return self.commit('add %s' % name) self._make_repo() def _make_repo(self): self.repo = self.useFixture( GitRepoFixture(self.ctx.workdir, 'openstack/release-test') ) self.commit_1 = self.repo.add_file('testfile.txt') def test_valid_hash(self): deliv = deliverable.Deliverable( team='team', series='ocata', name='name', data={ 'artifact-link-mode': 'none', 'releases': [ {'version': '0.1', 'projects': [ {'repo': 'openstack/release-test', 'hash': self.commit_1, 'tarball-base': 'openstack-release-test'}, ]} ], }, ) validate.validate_release_sha_exists(deliv, self.ctx) self.ctx.show_summary() self.assertEqual(0, len(self.ctx.warnings)) self.assertEqual(1, len(self.ctx.errors)) "," gitutils.clone_repo(self.ctx.workdir, 'openstack/release-test')",69,1
openstack%2Freleases~master~I4f3ea775314225bf7c300e921a04d5b9194eb680,openstack/releases,master,I4f3ea775314225bf7c300e921a04d5b9194eb680,use mocks for release note link checking,MERGED,2018-03-16 19:45:17.000000000,2018-03-21 10:12:37.000000000,2018-03-21 10:12:36.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 19:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5125583ec659865e81f18be3cbb815096cc3842a', 'message': 'use mocks for release note link checking\n\nEnsure the tests do not need internet access.\n\nChange-Id: I4f3ea775314225bf7c300e921a04d5b9194eb680\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-03-16 19:47:19.000000000', 'files': ['openstack_releases/tests/test_validate.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/502fd6dfcdb1b73a68432c14fee1e08f270959d2', 'message': 'use mocks for release note link checking\n\nEnsure the tests do not need internet access.\n\nChange-Id: I4f3ea775314225bf7c300e921a04d5b9194eb680\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,553888,502fd6dfcdb1b73a68432c14fee1e08f270959d2,9,4,2,2472,,,0,"use mocks for release note link checking

Ensure the tests do not need internet access.

Change-Id: I4f3ea775314225bf7c300e921a04d5b9194eb680
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/553888/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/tests/test_validate.py'],1,5125583ec659865e81f18be3cbb815096cc3842a,test-improvements," @mock.patch('requests.get') def test_invalid_link(self, get): get.return_value = mock.Mock(status_code=404) @mock.patch('requests.get') def test_valid_link(self, get): get.return_value = mock.Mock(status_code=200) @mock.patch('requests.get') def test_invalid_link_multi(self, get): get.return_value = mock.Mock(status_code=404) @mock.patch('requests.get') def test_unknown_repo(self, get): get.return_value = mock.Mock(status_code=200) @mock.patch('requests.get') def test_valid_link_multi(self, get): get.return_value = mock.Mock(status_code=200)", def test_invalid_link(self): def test_valid_link(self): def test_invalid_link_multi(self): def test_unknown_repo(self): def test_valid_link_multi(self):,15,5
openstack%2Freleases~master~I5dbb352285d3e3fcb7fff8ddd18939f3d525f0c6,openstack/releases,master,I5dbb352285d3e3fcb7fff8ddd18939f3d525f0c6,store test temporary files under the .tox environment,MERGED,2018-03-16 19:45:17.000000000,2018-03-21 10:12:35.000000000,2018-03-21 10:12:35.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 19:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1cfc09874bbfca5ba15a638817c0c4677b9a15a6', 'message': 'store test temporary files under the .tox environment\n\nChange-Id: I5dbb352285d3e3fcb7fff8ddd18939f3d525f0c6\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-03-16 19:47:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/releases/commit/b8df43f4de36edcc0d144642861f1b00c869d4e3', 'message': 'store test temporary files under the .tox environment\n\nChange-Id: I5dbb352285d3e3fcb7fff8ddd18939f3d525f0c6\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,553886,b8df43f4de36edcc0d144642861f1b00c869d4e3,9,4,2,2472,,,0,"store test temporary files under the .tox environment

Change-Id: I5dbb352285d3e3fcb7fff8ddd18939f3d525f0c6
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/553886/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1cfc09874bbfca5ba15a638817c0c4677b9a15a6,test-improvements, TMPDIR={envdir}/tmp,,1,0
openstack%2Freleases~master~Ib87984f655e8bc72964af5eca00ca80460c819c8,openstack/releases,master,Ib87984f655e8bc72964af5eca00ca80460c819c8,turn on debug in tests,MERGED,2018-03-16 19:45:17.000000000,2018-03-21 10:12:34.000000000,2018-03-21 10:12:34.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 19:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9f44365675cd921813db3b1ee742d64bd69281f6', 'message': 'turn on debug in tests\n\nThis triggers configuring logging to stderr.\n\nChange-Id: Ib87984f655e8bc72964af5eca00ca80460c819c8\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-03-16 19:47:19.000000000', 'files': ['.testr.conf'], 'web_link': 'https://opendev.org/openstack/releases/commit/7e25f41443c9e7f621e11720f5678ee3537dd389', 'message': 'turn on debug in tests\n\nThis triggers configuring logging to stderr.\n\nChange-Id: Ib87984f655e8bc72964af5eca00ca80460c819c8\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,553885,7e25f41443c9e7f621e11720f5678ee3537dd389,9,4,2,2472,,,0,"turn on debug in tests

This triggers configuring logging to stderr.

Change-Id: Ib87984f655e8bc72964af5eca00ca80460c819c8
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/85/553885/1 && git format-patch -1 --stdout FETCH_HEAD,['.testr.conf'],1,9f44365675cd921813db3b1ee742d64bd69281f6,test-improvements,test_command=OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60 OS_DEBUG=1 ${PYTHON:-python} -m subunit.run discover -t ./ . $LISTOPT $IDOPTION,test_command=OS_STDOUT_CAPTURE=1 OS_STDERR_CAPTURE=1 OS_TEST_TIMEOUT=60 ${PYTHON:-python} -m subunit.run discover -t ./ . $LISTOPT $IDOPTION,1,1
openstack%2Fkolla-ansible~master~Ie482c51a189f11d2beef6a336e2dd5c10db31aa8,openstack/kolla-ansible,master,Ie482c51a189f11d2beef6a336e2dd5c10db31aa8,Fix doc formatter error,ABANDONED,2018-03-02 10:03:19.000000000,2018-03-21 10:07:33.000000000,,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 25167}]","[{'number': 1, 'created': '2018-03-02 10:03:19.000000000', 'files': ['doc/source/reference/external-mariadb-guide.rst', 'doc/source/reference/networking-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/da60c591f71e765f9e8959d98684b25fee438f52', 'message': 'Fix doc formatter error\n\nAccording to output of ""tox -edocs"", we need this change.\n\nChange-Id: Ie482c51a189f11d2beef6a336e2dd5c10db31aa8\nSigned-off-by: pengdake <19921207pq@gmail.com>\n'}]",1,549155,da60c591f71e765f9e8959d98684b25fee438f52,5,3,1,25167,,,0,"Fix doc formatter error

According to output of ""tox -edocs"", we need this change.

Change-Id: Ie482c51a189f11d2beef6a336e2dd5c10db31aa8
Signed-off-by: pengdake <19921207pq@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/549155/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/external-mariadb-guide.rst', 'doc/source/reference/networking-guide.rst']",2,da60c591f71e765f9e8959d98684b25fee438f52,fix-doc-format,"Modify the file ``/etc/kolla/config/neutron/ml2_conf.ini``. Add ``sriovnicswitch`` to the mechanism drivers and add the provider networks for use by SRIOV. Both flat and VLAN are configured with the same physical network name in this example:``provider-segment`` is set to the correct VLAN ID. Type VLAN is used in this example:on the control node requires the ``PciPassthroughFilter`` to be added to the list of filters and the Nova Compute service(s) on the compute node(s) need PCI``[pci]`` section. The alias can be configured as 'type-VF' to pass VFs or 'type-PF' to pass the PF. Type-VF is shown in this example:Create (or use an existing) flavor, and then configure it to request one PCI device from the PCI alias:For more information see `OpenStack PCI passthrough documentation <https://docs.openstack.org/nova/pike/admin/pci-passthrough.html>`_. ","Modify the file ``/etc/kolla/config/neutron/ml2_conf.ini``. Add ``sriovnicswitch`` to the mechanism drivers and add the provider networks for use by SRIOV. Both flat and VLAN are configured with the same physical network name in this example:``provider-segment`` is set to the correct VLAN ID. Type VLAN is used in this example:on the control node requires the ``PciPassthroughFilter`` to be added to the list of filters and the Nova Compute service(s) on the compute node(s) need PCI``[pci]`` section. The alias can be configured as 'type-VF' to pass VFs or 'type-PF' to pass the PF. Type-VF is shown in this example:Create (or use an existing) flavor, and then configure it to request one PCI device from the PCI alias:For more information see `OpenStack PCI passthrough documentation <https://docs.openstack.org/nova/pike/admin/pci-passthrough.html>`_.",17,14
openstack%2Foslo-specs~master~Id06803a45d088e1e4292598a79b7515d3eb91a11,openstack/oslo-specs,master,Id06803a45d088e1e4292598a79b7515d3eb91a11,Add -W for document build,MERGED,2018-03-11 20:46:20.000000000,2018-03-21 10:05:12.000000000,2018-03-21 10:05:12.000000000,"[{'_account_id': 6928}, {'_account_id': 9414}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-11 20:46:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/69ea5d7dcae735a3d4237453eb78f7a8d83aa2ad', 'message': 'Add -W for document build\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: Id06803a45d088e1e4292598a79b7515d3eb91a11\n'}]",0,551806,69ea5d7dcae735a3d4237453eb78f7a8d83aa2ad,12,4,1,17130,,,0,"Add -W for document build

For more detials information, please refer to:
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: Id06803a45d088e1e4292598a79b7515d3eb91a11
",git fetch https://review.opendev.org/openstack/oslo-specs refs/changes/06/551806/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,69ea5d7dcae735a3d4237453eb78f7a8d83aa2ad,tox,commands = sphinx-build -W -b html doc/source doc/build/html,commands = sphinx-build -b html doc/source doc/build/html,1,1
openstack%2Freleases~master~Ib4de175e82ec7ece65951ce66692c76caac95aa5,openstack/releases,master,Ib4de175e82ec7ece65951ce66692c76caac95aa5,make clone_repo.sh work on macOS,MERGED,2018-03-16 19:45:17.000000000,2018-03-21 10:03:48.000000000,2018-03-21 10:03:48.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 19:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d09820246559ab1325577b03c519484f8ba44714', 'message': ""make clone_repo.sh work on macOS\n\nThe getopt command doesn't work the same under macOS, so don't use it\nan process the arguments directly.\n\nChange-Id: Ib4de175e82ec7ece65951ce66692c76caac95aa5\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 2, 'created': '2018-03-16 19:47:19.000000000', 'files': ['tools/clone_repo.sh'], 'web_link': 'https://opendev.org/openstack/releases/commit/853ba13fc5974cf8b154955e70182941858d58cd', 'message': ""make clone_repo.sh work on macOS\n\nThe getopt command doesn't work the same under macOS, so don't use it\nan process the arguments directly.\n\nChange-Id: Ib4de175e82ec7ece65951ce66692c76caac95aa5\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}]",0,553884,853ba13fc5974cf8b154955e70182941858d58cd,9,4,2,2472,,,0,"make clone_repo.sh work on macOS

The getopt command doesn't work the same under macOS, so don't use it
an process the arguments directly.

Change-Id: Ib4de175e82ec7ece65951ce66692c76caac95aa5
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/553884/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/clone_repo.sh'],1,d09820246559ab1325577b03c519484f8ba44714,test-improvements,"#!/bin/bash -xif [[ $(uname) != ""Darwin"" ]]; then OPTS=`getopt -o hv --long branch:,cache-dir:,ref:,upstream:,workspace: -n $0 -- ""$@""` if [ $? != 0 ] ; then echo ""Failed parsing options."" >&2 print_help exit 1 fi eval set -- ""$OPTS""echo $@ echo ""next arg :$1:"" *) # Under macOS we don't get -- because getopt doesn't work # the same so we aren't using it. If we see an # unrecognized argument, that's the REPO name, so break # out of the loop. break ;;","#!/bin/bashOPTS=`getopt -o hv --long branch:,cache-dir:,ref:,upstream:,workspace: -n $0 -- ""$@""` if [ $? != 0 ] ; then echo ""Failed parsing options."" >&2 print_help exit 1eval set -- ""$OPTS""",19,7
openstack%2Ffreezer~master~I07e15a9fd65fa5daad7e07278524af718bfa3006,openstack/freezer,master,I07e15a9fd65fa5daad7e07278524af718bfa3006,test,ABANDONED,2018-03-21 09:53:11.000000000,2018-03-21 09:54:34.000000000,,[{'_account_id': 22165}],"[{'number': 1, 'created': '2018-03-21 09:53:11.000000000', 'files': ['freezer/storage/fslike.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/40f72dd1df52e843a71fc25e1fb4c3bd58d9dc85', 'message': 'test\n\nChange-Id: I07e15a9fd65fa5daad7e07278524af718bfa3006\n'}]",1,554855,40f72dd1df52e843a71fc25e1fb4c3bd58d9dc85,3,1,1,26285,,,0,"test

Change-Id: I07e15a9fd65fa5daad7e07278524af718bfa3006
",git fetch https://review.opendev.org/openstack/freezer refs/changes/55/554855/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/storage/fslike.py'],1,40f72dd1df52e843a71fc25e1fb4c3bd58d9dc85,, :type rich_queue: freezer.utils.streaming.RichQueue, :type rich_queue: freezer.streaming.RichQueue,1,1
openstack%2Fnova~master~I24ce609ba4525d2332316e5ba14d0812175ac0cd,openstack/nova,master,I24ce609ba4525d2332316e5ba14d0812175ac0cd,"Revert ""[libvirt] Add _get_numa_memnode()""",ABANDONED,2018-03-20 08:22:53.000000000,2018-03-21 09:47:56.000000000,,"[{'_account_id': 7}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20191}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}, {'_account_id': 27336}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-03-20 08:22:53.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2c02cc09e8cc227841b032dae4379169d8a4bbad', 'message': 'Revert ""[libvirt] Add _get_numa_memnode()""\n\nThere is a designer module to handle such methods\n\nThis reverts commit 7abd28954a178f32367fea7ce9411e6be064d672.\n\nChange-Id: I24ce609ba4525d2332316e5ba14d0812175ac0cd\n'}]",0,554449,2c02cc09e8cc227841b032dae4379169d8a4bbad,11,23,1,7730,,,0,"Revert ""[libvirt] Add _get_numa_memnode()""

There is a designer module to handle such methods

This reverts commit 7abd28954a178f32367fea7ce9411e6be064d672.

Change-Id: I24ce609ba4525d2332316e5ba14d0812175ac0cd
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/554449/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,2c02cc09e8cc227841b032dae4379169d8a4bbad,bp/libvirt-qemu-numa-support," guest_numa_tune = vconfig.LibvirtConfigGuestNUMATune() numa_mem = vconfig.LibvirtConfigGuestNUMATuneMemory() numa_memnodes = [vconfig.LibvirtConfigGuestNUMATuneMemNode() for _ in guest_cpu_numa_config.cells] for host_cell in topology.cells: for guest_node_id, guest_config_cell in enumerate( guest_cpu_numa_config.cells): if guest_config_cell.id == host_cell.id: node = numa_memnodes[guest_node_id] node.cellid = guest_node_id node.nodeset = [host_cell.id] node.mode = ""strict"" numa_mem.nodeset.append(host_cell.id) object_numa_cell = ( instance_numa_topology.cells[guest_node_id] ) for cpu in guest_config_cell.cpus: pin_cpuset = ( vconfig.LibvirtConfigGuestCPUTuneVCPUPin()) pin_cpuset.id = cpu # If there is pinning information in the cell # we pin to individual CPUs, otherwise we float # over the whole host NUMA node if (object_numa_cell.cpu_pinning and self._has_cpu_policy_support()): pcpu = object_numa_cell.cpu_pinning[cpu] pin_cpuset.cpuset = set([pcpu]) else: pin_cpuset.cpuset = host_cell.cpuset if emulator_threads_isolated: emupcpus.extend( object_numa_cell.cpuset_reserved) elif not wants_realtime or cpu not in vcpus_rt: # - If realtime IS NOT enabled, the # emulator threads are allowed to float # across all the pCPUs associated with # the guest vCPUs (""not wants_realtime"" # is true, so we add all pcpus) # - If realtime IS enabled, then at least # 1 vCPU is required to be set aside for # non-realtime usage. The emulator # threads are allowed to float acros the # pCPUs that are associated with the # non-realtime VCPUs (the ""cpu not in # vcpu_rt"" check deals with this # filtering) emupcpus.extend(pin_cpuset.cpuset) guest_cpu_tune.vcpupin.append(pin_cpuset) guest_numa_tune.memory = numa_mem guest_numa_tune.memnodes = numa_memnodes "," def _get_cell_pairs(self, guest_cpu_numa_config, host_topology): """"""Returns the lists of pairs(tuple) of an instance cell and corresponding host cell: [(LibvirtConfigGuestCPUNUMACell, NUMACell), ...] """""" cell_pairs = [] for guest_config_cell in guest_cpu_numa_config.cells: for host_cell in host_topology.cells: if guest_config_cell.id == host_cell.id: cell_pairs.append((guest_config_cell, host_cell)) return cell_pairs def _get_numa_memnode(self, guest_node_id, host_cell_id): """"""Returns the config object of LibvirtConfigGuestNUMATuneMemNode. Prepares numa memory node config for the guest. """""" node = vconfig.LibvirtConfigGuestNUMATuneMemNode() node.cellid = guest_node_id node.nodeset = [host_cell_id] node.mode = ""strict"" return node # Init NUMATune configuration guest_numa_tune = vconfig.LibvirtConfigGuestNUMATune() guest_numa_tune.memory = ( vconfig.LibvirtConfigGuestNUMATuneMemory()) guest_numa_tune.memnodes = [] cell_pairs = self._get_cell_pairs(guest_cpu_numa_config, topology) for guest_node_id, (guest_config_cell, host_cell) in enumerate( cell_pairs): guest_numa_tune.memnodes.append( self._get_numa_memnode(guest_node_id, host_cell.id)) guest_numa_tune.memory.nodeset.append(host_cell.id) object_numa_cell = instance_numa_topology.cells[ guest_node_id] for cpu in guest_config_cell.cpus: pin_cpuset = ( vconfig.LibvirtConfigGuestCPUTuneVCPUPin()) pin_cpuset.id = cpu # If there is pinning information in the cell # we pin to individual CPUs, otherwise we float # over the whole host NUMA node if (object_numa_cell.cpu_pinning and self._has_cpu_policy_support()): pcpu = object_numa_cell.cpu_pinning[cpu] pin_cpuset.cpuset = set([pcpu]) else: pin_cpuset.cpuset = host_cell.cpuset if emulator_threads_isolated: emupcpus.extend( object_numa_cell.cpuset_reserved) elif not wants_realtime or cpu not in vcpus_rt: # - If realtime IS NOT enabled, the # emulator threads are allowed to float # across all the pCPUs associated with # the guest vCPUs (""not wants_realtime"" # is true, so we add all pcpus) # - If realtime IS enabled, then at least # 1 vCPU is required to be set aside for # non-realtime usage. The emulator # threads are allowed to float acros the # pCPUs that are associated with the # non-realtime VCPUs (the ""cpu not in # vcpu_rt"" check deals with this # filtering) emupcpus.extend(pin_cpuset.cpuset) guest_cpu_tune.vcpupin.append(pin_cpuset)",51,68
openstack%2Fnova~master~Ica4501ab932e177d29d24d0720c5877b9569d5e6,openstack/nova,master,Ica4501ab932e177d29d24d0720c5877b9569d5e6,"Revert ""[libvirt] Add _get_vcpu_realtime_scheduler()""",ABANDONED,2018-03-20 08:22:43.000000000,2018-03-21 09:47:38.000000000,,"[{'_account_id': 7}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 7730}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}, {'_account_id': 27374}]","[{'number': 1, 'created': '2018-03-20 08:22:43.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a1d3bab6ae796e085087ebfe897edcaee52ab760', 'message': 'Revert ""[libvirt] Add _get_vcpu_realtime_scheduler()""\n\nThere is a designer module to handle such methods\n\nThis reverts commit c6aef6ba2baf5facce8f0ccadcf259a4a8069236.\n\nChange-Id: Ica4501ab932e177d29d24d0720c5877b9569d5e6\n'}]",2,554448,a1d3bab6ae796e085087ebfe897edcaee52ab760,9,22,1,7730,,,0,"Revert ""[libvirt] Add _get_vcpu_realtime_scheduler()""

There is a designer module to handle such methods

This reverts commit c6aef6ba2baf5facce8f0ccadcf259a4a8069236.

Change-Id: Ica4501ab932e177d29d24d0720c5877b9569d5e6
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/554448/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,a1d3bab6ae796e085087ebfe897edcaee52ab760,bp/libvirt-qemu-numa-support," # Prepare realtime config for libvirt vcpusched = vconfig.LibvirtConfigGuestCPUTuneVCPUSched() vcpusched.vcpus = vcpus_rt vcpusched.scheduler = ""fifo"" vcpusched.priority = ( CONF.libvirt.realtime_scheduler_priority)"," def _get_vcpu_realtime_scheduler(self, vcpus_rt): """"""Returns the config object of LibvirtConfigGuestCPUTuneVCPUSched. Prepares realtime config for the guest. """""" vcpusched = vconfig.LibvirtConfigGuestCPUTuneVCPUSched() vcpusched.vcpus = vcpus_rt vcpusched.scheduler = ""fifo"" vcpusched.priority = CONF.libvirt.realtime_scheduler_priority return vcpusched # Set realtime scheduler for CPUTune vcpusched = self._get_vcpu_realtime_scheduler(vcpus_rt)",6,12
openstack%2Fmonasca-api~stable%2Fqueens~I38cb00fe7b10bbe6732022e8fffcecd7e5eab6b5,openstack/monasca-api,stable/queens,I38cb00fe7b10bbe6732022e8fffcecd7e5eab6b5,Fix:No alarms created if metric name in alarm def. expr. is mix case,MERGED,2018-02-21 15:54:57.000000000,2018-03-21 09:46:43.000000000,2018-03-21 09:46:42.000000000,"[{'_account_id': 11809}, {'_account_id': 16222}, {'_account_id': 16957}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-02-21 15:54:57.000000000', 'files': ['monasca_api/v2/reference/alarm_definitions.py', 'monasca_api/common/repositories/sqla/alarm_definitions_repository.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/f67228d66203f43a306407eee0c9f3e3caec6d9e', 'message': 'Fix:No alarms created if metric name in alarm def. expr. is mix case\n\nChange-Id: I38cb00fe7b10bbe6732022e8fffcecd7e5eab6b5\nStory: 2001539\nTask: 6349\nDepends-On: I739612e96a2975bde12aea91f3f8dfcd6fb15342\n'}]",0,546671,f67228d66203f43a306407eee0c9f3e3caec6d9e,12,6,1,16222,,,0,"Fix:No alarms created if metric name in alarm def. expr. is mix case

Change-Id: I38cb00fe7b10bbe6732022e8fffcecd7e5eab6b5
Story: 2001539
Task: 6349
Depends-On: I739612e96a2975bde12aea91f3f8dfcd6fb15342
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/71/546671/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_api/v2/reference/alarm_definitions.py', 'monasca_api/common/repositories/sqla/alarm_definitions_repository.py']",2,f67228d66203f43a306407eee0c9f3e3caec6d9e,," metric_name = sub_expr.metric_name.encode(""utf8"")"," metric_name = sub_expr.normalized_metric_name.encode(""utf8"")",2,3
openstack%2Fironic~master~Icdcc4f0ddd336cc44dbfabc2b1a3c21b3c270803,openstack/ironic,master,Icdcc4f0ddd336cc44dbfabc2b1a3c21b3c270803,Stop running standalone tests for classic drivers,MERGED,2018-02-13 13:30:14.000000000,2018-03-21 09:35:54.000000000,2018-03-21 09:35:53.000000000,"[{'_account_id': 6637}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14760}, {'_account_id': 17998}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-13 13:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e348df238c354f1fa5b3c0cdf9e6a2f9f51b99b5', 'message': 'Stop running standalone tests for classic drivers\n\nThey are pending removal this cycle anyway. Removing them will free\nup CI resources for more standalone tests in the near future.\n\nChange-Id: Icdcc4f0ddd336cc44dbfabc2b1a3c21b3c270803\n'}, {'number': 2, 'created': '2018-02-13 16:18:54.000000000', 'files': ['playbooks/legacy/ironic-dsvm-standalone/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/06426493a06bb76fb9d342c370235efe38662b19', 'message': 'Stop running standalone tests for classic drivers\n\nThey are pending removal this cycle anyway. Removing them will free\nup CI resources for more standalone tests in the near future.\n\nDepends-On: I90f8b42113d6621c7af644fdb4c76d5f3dde318e\nChange-Id: Icdcc4f0ddd336cc44dbfabc2b1a3c21b3c270803\n'}]",0,543930,06426493a06bb76fb9d342c370235efe38662b19,34,10,2,10239,,,0,"Stop running standalone tests for classic drivers

They are pending removal this cycle anyway. Removing them will free
up CI resources for more standalone tests in the near future.

Depends-On: I90f8b42113d6621c7af644fdb4c76d5f3dde318e
Change-Id: Icdcc4f0ddd336cc44dbfabc2b1a3c21b3c270803
",git fetch https://review.opendev.org/openstack/ironic refs/changes/30/543930/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/ironic-dsvm-standalone/run.yaml'],1,e348df238c354f1fa5b3c0cdf9e6a2f9f51b99b5,gate," export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_ENABLED_DRIVERS=fake"""," # keep classic drivers enabled here until we remove them, as # standalone tests cover both types of drivers. export DEVSTACK_LOCAL_CONFIG+=$'\n'""IRONIC_ENABLED_DRIVERS=fake,agent_ipmitool,pxe_ipmitool""",1,3
openstack%2Fos-brick~master~I9fe6f35ad75ba45a15a578d798c7c79e7daa1eff,openstack/os-brick,master,I9fe6f35ad75ba45a15a578d798c7c79e7daa1eff,Find multipath device if not found.,ABANDONED,2018-03-21 09:34:32.000000000,2018-03-21 09:35:08.000000000,,[],"[{'number': 1, 'created': '2018-03-21 09:34:32.000000000', 'files': ['os_brick/initiator/connectors/iscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d17d9fa413dda437a7d498485afec28025fa66cb', 'message': 'Find multipath device if not found.\n\nChange-Id: I9fe6f35ad75ba45a15a578d798c7c79e7daa1eff\n'}]",0,554843,d17d9fa413dda437a7d498485afec28025fa66cb,2,0,1,27940,,,0,"Find multipath device if not found.

Change-Id: I9fe6f35ad75ba45a15a578d798c7c79e7daa1eff
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/43/554843/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/connectors/iscsi.py'],1,d17d9fa413dda437a7d498485afec28025fa66cb,, if not mpath: wwn = self._linuxscsi.get_sysfs_wwn(self._linuxscsi.find_sysfs_multipath_dm(found)) else: wwn = self._linuxscsi.get_sysfs_wwn(found), wwn = self._linuxscsi.get_sysfs_wwn(found),4,1
openstack%2Fopenstack-ansible-os_neutron~master~I00ec7a01e5790223d378317f2354bb78ddba5ee3,openstack/openstack-ansible-os_neutron,master,I00ec7a01e5790223d378317f2354bb78ddba5ee3,add networking-bgpvpn repo correctly for the tests,MERGED,2018-03-20 10:28:14.000000000,2018-03-21 09:26:50.000000000,2018-03-21 09:26:50.000000000,"[{'_account_id': 6816}, {'_account_id': 15362}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-03-20 10:28:14.000000000', 'files': ['tests/neutron-overrides-opendaylight-bgpvpn.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/2e86cbd4d4d7c3f06b0955272845d7075d1e3427', 'message': 'add networking-bgpvpn repo correctly for the tests\n\nChange-Id: I00ec7a01e5790223d378317f2354bb78ddba5ee3\nSigned-off-by: Periyasamy Palanisamy <periyasamy.palanisamy@ericsson.com>\n'}]",0,554494,2e86cbd4d4d7c3f06b0955272845d7075d1e3427,7,5,1,26445,,,0,"add networking-bgpvpn repo correctly for the tests

Change-Id: I00ec7a01e5790223d378317f2354bb78ddba5ee3
Signed-off-by: Periyasamy Palanisamy <periyasamy.palanisamy@ericsson.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/94/554494/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/neutron-overrides-opendaylight-bgpvpn.yml'],1,2e86cbd4d4d7c3f06b0955272845d7075d1e3427,, - name: networking-bgpvpn repo: https://git.openstack.org/openstack/networking-bgpvpn, - name: https://git.openstack.org/openstack/networking-bgpvpn,2,1
openstack%2Ftripleo-upgrade~master~Ic3268aa1c0fb84d0039395186861e9dea838a6e3,openstack/tripleo-upgrade,master,Ic3268aa1c0fb84d0039395186861e9dea838a6e3,Ensure ansible-pacemaker is present on the undercloud.,MERGED,2018-03-19 15:29:16.000000000,2018-03-21 09:24:57.000000000,2018-03-21 09:24:56.000000000,"[{'_account_id': 18851}, {'_account_id': 21537}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 15:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7495bc7a42f495134957110691fdf1088e85f0b9', 'message': 'Ensure ansible-pacemaker is present on the undercloud.\n\nOn upstream CI in mixed upgrade the undercloud doesn\'t have this\npackage by default.\n\nThis make the ffu upgrade fail during ffu_upgrade_playbook with:\n\n  exception: no action detected in task. This often indicates a\n  misspelled module name, or incorrect module path.\n\nThis make sure that this package is installed as it should on ""normal""\ninstallation.\n\nChange-Id: Ic3268aa1c0fb84d0039395186861e9dea838a6e3\n'}, {'number': 2, 'created': '2018-03-19 23:24:02.000000000', 'files': ['tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d195142ac546250a2df60ee1dc9ad7cfd78948af', 'message': 'Ensure ansible-pacemaker is present on the undercloud.\n\nOn upstream CI in mixed upgrade the undercloud doesn\'t have this\npackage by default.\n\nThis make the ffu upgrade fail during ffu_upgrade_playbook with:\n\n  exception: no action detected in task. This often indicates a\n  misspelled module name, or incorrect module path.\n\nThis make sure that this package is installed as it should on ""normal""\ninstallation.\n\nChange-Id: Ic3268aa1c0fb84d0039395186861e9dea838a6e3\n'}]",0,554262,d195142ac546250a2df60ee1dc9ad7cfd78948af,10,3,2,8297,,,0,"Ensure ansible-pacemaker is present on the undercloud.

On upstream CI in mixed upgrade the undercloud doesn't have this
package by default.

This make the ffu upgrade fail during ffu_upgrade_playbook with:

  exception: no action detected in task. This often indicates a
  misspelled module name, or incorrect module path.

This make sure that this package is installed as it should on ""normal""
installation.

Change-Id: Ic3268aa1c0fb84d0039395186861e9dea838a6e3
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/62/554262/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/main.yml'],1,7495bc7a42f495134957110691fdf1088e85f0b9,552064-master, - name: Ensure ansible-pacemaker module is present in CI. yum: name=ansible-pacemaker state=latest when: tripleo_ci|default(false)|bool tags: ffu_upgrade_playbook ,,5,0
openstack%2Fpuppet-tripleo~stable%2Fnewton~I14f4de3875a743ee5328b13668790b26cefd8439,openstack/puppet-tripleo,stable/newton,I14f4de3875a743ee5328b13668790b26cefd8439,Disallow TLS v1.0 from HAProxy,MERGED,2018-03-20 06:28:15.000000000,2018-03-21 09:24:54.000000000,2018-03-21 09:24:54.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 06:28:15.000000000', 'files': ['releasenotes/notes/No-TLS-v1.0-0edeac680bb51f94.yaml', 'manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b83cc42da9b037bbbd1461f559a53e1d3258743b', 'message': 'Disallow TLS v1.0 from HAProxy\n\nThis forces HAProxy to only accept newer versions of TLS, which allows\nus to meet FedRAMP requirements.\n\nConflicts:\n      manifests/haproxy.pp\n\nChange-Id: I14f4de3875a743ee5328b13668790b26cefd8439\nRelated-Bug: #1754368\n(cherry picked from commit ebde918b0f0cea8715a30f57ca7c2683dd477c50)\n'}]",0,554422,b83cc42da9b037bbbd1461f559a53e1d3258743b,10,6,1,10873,,,0,"Disallow TLS v1.0 from HAProxy

This forces HAProxy to only accept newer versions of TLS, which allows
us to meet FedRAMP requirements.

Conflicts:
      manifests/haproxy.pp

Change-Id: I14f4de3875a743ee5328b13668790b26cefd8439
Related-Bug: #1754368
(cherry picked from commit ebde918b0f0cea8715a30f57ca7c2683dd477c50)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/22/554422/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/No-TLS-v1.0-0edeac680bb51f94.yaml', 'manifests/haproxy.pp']",2,b83cc42da9b037bbbd1461f559a53e1d3258743b,bug/1754368,"# Defaults to 'no-sslv3 no-tlsv10' $ssl_options = 'no-sslv3 no-tlsv10',","# Defaults to 'no-sslv3' $ssl_options = 'no-sslv3',",6,2
openstack%2Fpython-vitrageclient~master~I6f7f233f414391180bc9d46fa46d47509f8e31fd,openstack/python-vitrageclient,master,I6f7f233f414391180bc9d46fa46d47509f8e31fd,Update the old doc links,MERGED,2018-03-21 09:10:58.000000000,2018-03-21 09:24:31.000000000,2018-03-21 09:24:31.000000000,"[{'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 09:10:58.000000000', 'files': ['CONTRIBUTING.rst', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/84ac4484ba4d91c6d2b44be412bf741ab51f68da', 'message': 'Update the old doc links\n\nUpdate the old http url links in CONTRIBUTING.rst\nand HACKING.rst.\n\nChange-Id: I6f7f233f414391180bc9d46fa46d47509f8e31fd\n'}]",0,554834,84ac4484ba4d91c6d2b44be412bf741ab51f68da,7,3,1,23317,,,0,"Update the old doc links

Update the old http url links in CONTRIBUTING.rst
and HACKING.rst.

Change-Id: I6f7f233f414391180bc9d46fa46d47509f8e31fd
",git fetch https://review.opendev.org/openstack/python-vitrageclient refs/changes/34/554834/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'HACKING.rst']",2,84ac4484ba4d91c6d2b44be412bf741ab51f68da,fix,Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/,Read the OpenStack Style Commandments http://docs.openstack.org/developer/hacking/,3,3
openstack%2Fpython-barbicanclient~master~I8bdd2912638e497f3ade79967136d1d6924574f5,openstack/python-barbicanclient,master,I8bdd2912638e497f3ade79967136d1d6924574f5,Follow the new PTI for document build,MERGED,2018-03-20 08:47:45.000000000,2018-03-21 09:19:29.000000000,2018-03-21 09:19:29.000000000,"[{'_account_id': 10873}, {'_account_id': 21797}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 08:47:45.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/a62d1e74712bfdec37bcc917a17fa1940af7ef9d', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I8bdd2912638e497f3ade79967136d1d6924574f5\n'}]",0,554456,a62d1e74712bfdec37bcc917a17fa1940af7ef9d,7,3,1,27153,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
https://governance.openstack.org/tc/reference/project-testing-interface.html
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I8bdd2912638e497f3ade79967136d1d6924574f5
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/56/554456/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,a62d1e74712bfdec37bcc917a17fa1940af7ef9d,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt commands = sphinx-build -b html doc/source doc/build/html,commands = python setup.py build_sphinx,7,5
openstack%2Fsahara-tests~master~I77a1cf4616f0466d13b2f02fc8dda0aa5ef819df,openstack/sahara-tests,master,I77a1cf4616f0466d13b2f02fc8dda0aa5ef819df,Fix the old or invalid links in docs,MERGED,2018-03-19 07:17:53.000000000,2018-03-21 09:19:13.000000000,2018-03-21 09:19:13.000000000,"[{'_account_id': 10459}, {'_account_id': 13919}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-03-19 07:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/616712e6e0c6629ff1502e3b487abe2e5e64d69f', 'message': 'Fix the old or invalid links in CONTRIBUTING.rst\n\nReplace the old or invalid doc links to the right ones\nin CONTRIBUTING.rst.\n\nChange-Id: I77a1cf4616f0466d13b2f02fc8dda0aa5ef819df\n'}, {'number': 2, 'created': '2018-03-21 08:39:54.000000000', 'files': ['CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/b1c173a00f6408844df9cf37c339425a4004a851', 'message': 'Fix the old or invalid links in docs\n\nReplace the old or invalid doc links to the right ones\nin the docs.\n\nChange-Id: I77a1cf4616f0466d13b2f02fc8dda0aa5ef819df\n'}]",0,554143,b1c173a00f6408844df9cf37c339425a4004a851,13,4,2,23317,,,0,"Fix the old or invalid links in docs

Replace the old or invalid doc links to the right ones
in the docs.

Change-Id: I77a1cf4616f0466d13b2f02fc8dda0aa5ef819df
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/43/554143/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,616712e6e0c6629ff1502e3b487abe2e5e64d69f,dev, https://docs.openstack.org/infra/manual/developers.html https://docs.openstack.org/sahara/latest/contributor/how-to-participate.html https://docs.openstack.org/infra/manual/developers.html#development-workflow, http://docs.openstack.org/infra/manual/developers.html https://docs.openstack.org/sahara/latest/devref/how_to_participate.html http://docs.openstack.org/infra/manual/developers.html#development-workflow,3,3
openstack%2Fswift~feature%2Fdeep~I5b98fff8a2da958ea0c5453c272675fc7a3bbe61,openstack/swift,feature/deep,I5b98fff8a2da958ea0c5453c272675fc7a3bbe61,Add a bit more context to errors,MERGED,2018-03-20 20:46:18.000000000,2018-03-21 09:12:50.000000000,2018-03-21 04:13:49.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 20:46:18.000000000', 'files': ['test/unit/__init__.py', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d3af55e3347ad4f387417aac8ae7bee80449874f', 'message': 'Add a bit more context to errors\n\n... but either way works\n\nRelated-Change-Id: I87578db750527b822b5038fd2b6dcedce278a74e\n\nChange-Id: I5b98fff8a2da958ea0c5453c272675fc7a3bbe61\n'}]",9,554692,d3af55e3347ad4f387417aac8ae7bee80449874f,9,3,1,1179,,,0,"Add a bit more context to errors

... but either way works

Related-Change-Id: I87578db750527b822b5038fd2b6dcedce278a74e

Change-Id: I5b98fff8a2da958ea0c5453c272675fc7a3bbe61
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/554692/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/__init__.py', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py']",3,d3af55e3347ad4f387417aac8ae7bee80449874f,,"from swift.common.direct_client import (direct_put_container, DirectClientException) except DirectClientException as err: node['ip'], node['port'], node['device'], err.http_status) except Exception as err: self.logger.exception( 'Failed to put shard ranges to %s:%s/%s: %s', else: return True return False",from swift.common.direct_client import direct_put_container except Exception as err: return False return True,48,37
openstack%2Fpuppet-tripleo~stable%2Focata~I61577be2434d7321dd462902d386c6911c2c4f57,openstack/puppet-tripleo,stable/ocata,I61577be2434d7321dd462902d386c6911c2c4f57,Extract local CA if it expired,MERGED,2018-03-20 06:32:00.000000000,2018-03-21 09:09:27.000000000,2018-03-21 09:09:27.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-20 06:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fd76e3bf5cf18bf76202ecd23cfd65ed369d6cb1', 'message': ""Extract local CA if it expired\n\nThis adds a conditional that extracts certmonger's local CA if the\ncertificate doesn't exist or if it has expired already. This adds the\nability for the deployer to fix the undercloud installation with the\nundercloud install command itself if expiration of the CA cert happens.\n\nConflicts:\n      spec/classes/tripleo_certmonger_ca_local_spec.rb\n\nTests didn't exist in this branch, so I added them.\n\nChange-Id: I61577be2434d7321dd462902d386c6911c2c4f57\nCloses-Bug: #1753948\n(cherry picked from commit a4ae09d169396f63b1952570b2105d695753fa9d)\n""}, {'number': 2, 'created': '2018-03-20 10:42:33.000000000', 'files': ['manifests/certmonger/ca/local.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fef73cca5c3618b45ce7fc2d063081912e158ba3', 'message': ""Extract local CA if it expired\n\nThis adds a conditional that extracts certmonger's local CA if the\ncertificate doesn't exist or if it has expired already. This adds the\nability for the deployer to fix the undercloud installation with the\nundercloud install command itself if expiration of the CA cert happens.\n\nConflicts:\n      spec/classes/tripleo_certmonger_ca_local_spec.rb\n\nSpecs test file didn't exist in this branch, so I removed it.\n\nChange-Id: I61577be2434d7321dd462902d386c6911c2c4f57\nCloses-Bug: #1753948\n(cherry picked from commit a4ae09d169396f63b1952570b2105d695753fa9d)\n""}]",0,554423,fef73cca5c3618b45ce7fc2d063081912e158ba3,14,6,2,10873,,,0,"Extract local CA if it expired

This adds a conditional that extracts certmonger's local CA if the
certificate doesn't exist or if it has expired already. This adds the
ability for the deployer to fix the undercloud installation with the
undercloud install command itself if expiration of the CA cert happens.

Conflicts:
      spec/classes/tripleo_certmonger_ca_local_spec.rb

Specs test file didn't exist in this branch, so I removed it.

Change-Id: I61577be2434d7321dd462902d386c6911c2c4f57
Closes-Bug: #1753948
(cherry picked from commit a4ae09d169396f63b1952570b2105d695753fa9d)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/23/554423/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certmonger/ca/local.pp', 'spec/classes/tripleo_certmonger_ca_local_spec.rb']",2,fd76e3bf5cf18bf76202ecd23cfd65ed369d6cb1,bug/1753948,"# # Copyright (C) 2017 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # Unit tests for tripleo # require 'spec_helper' describe 'tripleo::certmonger::ca::local' do shared_examples_for 'tripleo::certmonger::ca::local' do let :pre_condition do ""include ::certmonger"" end let :params do { :ca_pem => '/etc/pki/ca-trust/source/anchors/cm-local-ca.pem', } end it 'should extract CA cert' do is_expected.to contain_exec('extract-and-trust-ca').with( :unless => ""test -e #{params[:ca_pem]} && openssl x509 -checkend 0 -noout -in #{params[:ca_pem]}"", ) end end on_supported_os.each do |os, facts| context ""on #{os}"" do let(:facts) do facts.merge({}) end it_behaves_like 'tripleo::certmonger::ca::local' end end end ",,52,1
openstack%2Fopenstack-ansible-os_neutron~stable%2Fqueens~I29b3da7d29399708b2edef2328b174434d081259,openstack/openstack-ansible-os_neutron,stable/queens,I29b3da7d29399708b2edef2328b174434d081259,add ml2 config for networking bgpvpn,MERGED,2018-03-04 15:24:50.000000000,2018-03-21 09:04:59.000000000,2018-03-21 09:04:59.000000000,"[{'_account_id': 6816}, {'_account_id': 15362}, {'_account_id': 17068}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25505}, {'_account_id': 26445}]","[{'number': 1, 'created': '2018-03-04 15:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/25de918086f7cb32b6a87e10fbf9ea0d319a785b', 'message': 'add ml2 config for networking bgpvpn\n\n- provides an option to choose ODL BGVPN\n- installs networking-bgpvpn driver\n- configures neutron to use ODL BGPVPN driver\n- add bgpvpn scenario as a non-voting zuul job\n- run networking-bgpvpn tempest\n\nChange-Id: I29b3da7d29399708b2edef2328b174434d081259\nSigned-off-by: Periyasamy Palanisamy <periyasamy.palanisamy@ericsson.com>\n'}, {'number': 2, 'created': '2018-03-20 09:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/6682106454a969844edd683026f36884307098ec', 'message': 'add ml2 config for networking bgpvpn\n\n- provides an option to choose ODL BGVPN\n- installs networking-bgpvpn driver\n- configures neutron to use ODL BGPVPN driver\n- add bgpvpn scenario as a non-voting zuul job\n- run networking-bgpvpn tempest\n\nChange-Id: I29b3da7d29399708b2edef2328b174434d081259\n(cherry picked from commit ced7cb81e995e8c15e80464e0217798b788ee139)\n'}, {'number': 3, 'created': '2018-03-20 09:47:42.000000000', 'files': ['templates/plugins/ml2/ml2_conf.ini.j2', 'defaults/main.yml', 'vars/main.yml', 'releasenotes/notes/neutron-opendaylight-bgpvpn-support-3e44e278a53deeac.yaml', 'tasks/providers/setup_ovs_opendaylight.yml', 'templates/networking_bgpvpn.conf.j2', 'tasks/neutron_post_install.yml', 'zuul.d/project.yaml', 'doc/source/app-opendaylight.rst', 'tests/neutron-overrides-opendaylight-bgpvpn.yml', 'tox.ini', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ca01e2f82dc34b5221492de1cf9a93dfe5925bd2', 'message': 'add ml2 config for networking bgpvpn\n\n- provides an option to choose ODL BGVPN\n- installs networking-bgpvpn driver\n- configures neutron to use ODL BGPVPN driver\n- add bgpvpn scenario as a non-voting zuul job\n- run networking-bgpvpn tempest\n\nChange-Id: I29b3da7d29399708b2edef2328b174434d081259\n(cherry picked from commit ced7cb81e995e8c15e80464e0217798b788ee139)\n'}]",4,549617,ca01e2f82dc34b5221492de1cf9a93dfe5925bd2,16,8,3,26445,,,0,"add ml2 config for networking bgpvpn

- provides an option to choose ODL BGVPN
- installs networking-bgpvpn driver
- configures neutron to use ODL BGPVPN driver
- add bgpvpn scenario as a non-voting zuul job
- run networking-bgpvpn tempest

Change-Id: I29b3da7d29399708b2edef2328b174434d081259
(cherry picked from commit ced7cb81e995e8c15e80464e0217798b788ee139)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/17/549617/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/plugins/ml2/ml2_conf.ini.j2', 'defaults/main.yml', 'vars/main.yml', 'releasenotes/notes/neutron-opendaylight-bgpvpn-support-3e44e278a53deeac.yaml', 'tasks/providers/setup_ovs_opendaylight.yml', 'templates/networking_bgpvpn.conf.j2', 'tasks/neutron_post_install.yml', 'zuul.d/project.yaml', 'doc/source/app-opendaylight.rst', 'tests/neutron-overrides-opendaylight-bgpvpn.yml', 'tox.ini', 'zuul.d/jobs.yaml']",12,25de918086f7cb32b6a87e10fbf9ea0d319a785b,, - job: name: openstack-ansible-opendaylight-bgpvpn-ubuntu-xenial parent: openstack-ansible-functional-ubuntu-xenial voting: false vars: tox_env: opendaylight-bgpvpn,,128,3
openstack%2Fmistral~master~I093d5e2442a5489d406f4b8a188552f201b1a076,openstack/mistral,master,I093d5e2442a5489d406f4b8a188552f201b1a076,Ensure workflow check is retried on DB error,MERGED,2018-02-22 17:03:01.000000000,2018-03-21 08:58:59.000000000,2018-03-21 08:58:59.000000000,"[{'_account_id': 8731}, {'_account_id': 9029}, {'_account_id': 9408}, {'_account_id': 9712}, {'_account_id': 11085}, {'_account_id': 11391}, {'_account_id': 15895}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 23211}, {'_account_id': 23271}, {'_account_id': 27008}]","[{'number': 1, 'created': '2018-02-22 17:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1ef7ab07d03b6aab209c14f9795947cff7fa208b', 'message': 'Ensure workflow check is retried on DB error\n\nOn DB error, the _check_and_complete logic is retried. DB disconnect errors\nare not shadowed by subsequent DB operations in the failed transaction. Other\nnon DB disconnect or MistralExceptions are considered fatal, thus, the consistency\ncheck is not rescheduled.\n\nChange-Id: I093d5e2442a5489d406f4b8a188552f201b1a076\nCloses-Bug: 1751018\n'}, {'number': 2, 'created': '2018-02-26 11:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/29338735386d310d3175d9b917f78b46d7d54b68', 'message': 'Ensure workflow check is retried on DB error\n\nOn DB error, the _check_and_complete logic is retried. DB disconnect errors\nare not shadowed by subsequent DB operations in the failed transaction. Other\nnon DB disconnect or MistralExceptions are considered fatal, thus, the consistency\ncheck is not rescheduled.\n\nChange-Id: I093d5e2442a5489d406f4b8a188552f201b1a076\nCloses-Bug: 1751018\n'}, {'number': 3, 'created': '2018-03-19 08:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4e25db6e7d87a877c8565e133bcce626037e0922', 'message': 'Ensure workflow check is retried on DB error\n\nOn DB error, the _check_and_complete logic is retried. DB disconnect errors\nare not shadowed by subsequent DB operations in the failed transaction. Other\nnon DB disconnect or MistralExceptions are considered fatal, thus, the consistency\ncheck is not rescheduled.\n\nChange-Id: I093d5e2442a5489d406f4b8a188552f201b1a076\nCloses-Bug: 1751018\n'}, {'number': 4, 'created': '2018-03-19 09:34:30.000000000', 'files': ['mistral/engine/workflow_handler.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/a59af3f24729e3bca9ad7125ffd5090cb7d1b5ba', 'message': 'Ensure workflow check is retried on DB error\n\nOn DB error, the _check_and_complete logic is retried. DB disconnect errors\nare not shadowed by subsequent DB operations in the failed transaction. Other\nnon DB disconnect or MistralExceptions are considered fatal, thus, the consistency\ncheck is not rescheduled.\n\nChange-Id: I093d5e2442a5489d406f4b8a188552f201b1a076\nCloses-Bug: 1751018\n'}]",5,547069,a59af3f24729e3bca9ad7125ffd5090cb7d1b5ba,29,12,4,21970,,,0,"Ensure workflow check is retried on DB error

On DB error, the _check_and_complete logic is retried. DB disconnect errors
are not shadowed by subsequent DB operations in the failed transaction. Other
non DB disconnect or MistralExceptions are considered fatal, thus, the consistency
check is not rescheduled.

Change-Id: I093d5e2442a5489d406f4b8a188552f201b1a076
Closes-Bug: 1751018
",git fetch https://review.opendev.org/openstack/mistral refs/changes/69/547069/4 && git format-patch -1 --stdout FETCH_HEAD,['mistral/engine/workflow_handler.py'],1,1ef7ab07d03b6aab209c14f9795947cff7fa208b,bug/1751018," num_incomplete_tasks = wf.check_and_complete() if not states.is_completed(wf_ex.state): delay = ( 2 + int(num_incomplete_tasks * 0.1) if num_incomplete_tasks else 4 ) _schedule_check_and_complete(wf_ex, delay) "," incomplete_tasks_count = 0 incomplete_tasks_count = wf.check_and_complete() return finally: if states.is_completed(wf_ex.state): return # Let's assume that a task takes 0.01 sec in average to complete # and based on this assumption calculate a time of the next check. # The estimation is very rough but this delay will be decreasing # as tasks will be completing which will give a decent # approximation. # For example, if a workflow has 100 incomplete tasks then the # next check call will happen in 1 second. For 500 tasks it will # be 5 seconds. The larger the workflow is, the more beneficial # this mechanism will be. delay = ( int(incomplete_tasks_count * 0.01) if incomplete_tasks_count else 4 ) _schedule_check_and_complete(wf_ex, delay) ",10,24
openstack%2Fkolla-ansible~master~Id480cd24f5eed810e81af0f12e84a4a6db49247d,openstack/kolla-ansible,master,Id480cd24f5eed810e81af0f12e84a4a6db49247d,Upgrade the rst convention of the Reference Guide [3],MERGED,2018-03-17 14:22:39.000000000,2018-03-21 08:52:37.000000000,2018-03-21 08:52:37.000000000,"[{'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-17 14:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c2640bc20721436c267c46a00f48e49d2ad3399d', 'message': 'Upgrade the rst convention of the Reference Guide [3]\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide\n\nChange-Id: Id480cd24f5eed810e81af0f12e84a4a6db49247d\nPartially-Implements: blueprint optimize-the-documentation-format\n'}, {'number': 2, 'created': '2018-03-17 14:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1ec9c6c64c4472386379d9d50f36e7eed8d282a6', 'message': 'Upgrade the rst convention of the Reference Guide [3]\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide\n\nChange-Id: Id480cd24f5eed810e81af0f12e84a4a6db49247d\nPartially-Implements: blueprint optimize-the-documentation-format\n'}, {'number': 3, 'created': '2018-03-17 14:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7a5b1b73ea4471ce9d6cf2ea884868d5d0cbc6c6', 'message': 'Upgrade the rst convention of the Reference Guide [3]\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide\n\nChange-Id: Id480cd24f5eed810e81af0f12e84a4a6db49247d\nPartially-Implements: blueprint optimize-the-documentation-format\n'}, {'number': 4, 'created': '2018-03-19 01:53:13.000000000', 'files': ['doc/source/reference/manila-guide.rst', 'doc/source/reference/manila-hnas-guide.rst', 'doc/source/reference/osprofiler-guide.rst', 'doc/source/reference/nova-fake-driver.rst', 'doc/source/reference/networking-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0002de177e5357dcd023bbd582f9aa4e45390322', 'message': 'Upgrade the rst convention of the Reference Guide [3]\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide\n\nChange-Id: Id480cd24f5eed810e81af0f12e84a4a6db49247d\nPartially-Implements: blueprint optimize-the-documentation-format\n'}]",0,553993,0002de177e5357dcd023bbd582f9aa4e45390322,12,3,4,19779,,,0,"Upgrade the rst convention of the Reference Guide [3]

We upgrade the rst convention by following Documentation Contributor
Guide[1].

[1] https://docs.openstack.org/doc-contrib-guide

Change-Id: Id480cd24f5eed810e81af0f12e84a4a6db49247d
Partially-Implements: blueprint optimize-the-documentation-format
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/553993/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/manila-guide.rst', 'doc/source/reference/manila-hnas-guide.rst', 'doc/source/reference/osprofiler-guide.rst', 'doc/source/reference/nova-fake-driver.rst', 'doc/source/reference/networking-guide.rst']",5,c2640bc20721436c267c46a00f48e49d2ad3399d,bp/optimize-the-documentation-format,"=================== Networking in Kolla =================== Kolla deploys Neutron by default as OpenStack networking component. This section describes configuring and running Neutron extensions like LBaaS, Networking-SFC, QoS, and so on. To enable provider networks, modify the ``/etc/kolla/globals.yml`` file as the following example shows: .. code-block:: yaml enable_neutron_provider_networks: ""yes"" .. end ~~~~~~~~~~~~~~Modify the ``/etc/kolla/globals.yml`` file as the following example shows: .. code-block:: yaml enable_neutron_sfc: ""yes"" .. endto `networking-sfc documentation <https://docs.openstack.org/networking-sfc/latest/contributor/system_design_and_workflow.html>`__.~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~Modify the ``/etc/kolla/globals.yml`` file as the following example shows: .. code-block:: yaml enable_neutron_vpnaas: ""yes"" .. end.. code-block:: console # docker ps --filter name=neutron_vpnaas_agent CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 97d25657d55e operator:5000/kolla/oraclelinux-source-neutron-vpnaas-agent:4.0.0 ""kolla_start"" 44 minutes ago Up 44 minutes neutron_vpnaas_agent .. end.. code-block:: console tools/init-runonce tools/init-vpn .. end.. code-block:: console # neutron vpn-service-list +--------------------------------------+----------+--------------------------------------+--------+ | id | name | router_id | status | +--------------------------------------+----------+--------------------------------------+--------+ | ad941ec4-5f3d-4a30-aae2-1ab3f4347eb1 | vpn_west | 051f7ce3-4301-43cc-bfbd-7ffd59af539e | ACTIVE | | edce15db-696f-46d8-9bad-03d087f1f682 | vpn_east | 058842e0-1d01-4230-af8d-0ba6d0da8b1f | ACTIVE | +--------------------------------------+----------+--------------------------------------+--------+ .. endFor more information on this and VPNaaS in Neutron refer to the `Neutron VPNaaS Testing <https://docs.openstack.org/neutron-vpnaas/latest/contributor/index.html#testing>`__ and the `OpenStack wiki <https://wiki.openstack.org/wiki/Neutron/VPNaaS>`_.~~~~~~~~~~~~~~Modify the ``/etc/kolla/globals.yml`` file as the following example shows: .. code-block:: yaml enable_opendaylight: ""yes"" .. endOpenDaylight ``globals.yml`` configurable options with their defaults include: .. code-block:: yaml opendaylight_release: ""0.6.1-Carbon"" opendaylight_mechanism_driver: ""opendaylight_v2"" opendaylight_l3_service_plugin: ""odl-router_v2"" opendaylight_acl_impl: ""learn"" enable_opendaylight_qos: ""no"" enable_opendaylight_l3: ""yes"" enable_opendaylight_legacy_netvirt_conntrack: ""no"" opendaylight_port_binding_type: ""pseudo-agentdb-binding"" opendaylight_features: ""odl-mdsal-apidocs,odl-netvirt-openstack"" opendaylight_allowed_network_types: '""flat"", ""vlan"", ""vxlan""' .. end .. note:: The OpenDaylight role will allow deploy of one or three plus hosts for OpenDaylight/Networking role.https://github.com/openstack/networking-odl~~~~~~~~~~~~~.. code-block:: none default_hugepagesz=2M hugepagesz=2M hugepages=25000 .. enddpdk technically support 3 kernel drivers ``igb_uio``,``uio_pci_generic``, and ``vfio_pci``. While it is technically possible to use all 3 only ``uio_pci_generic`` and ``vfio_pci`` are recommended for use with kolla. ``igb_uio`` is BSD licenced and distributed as part of the dpdk library. While it has some advantages over ``uio_pci_generic`` loading the ``igb_uio`` module will taint the kernel and possibly invalidate distro support. To successfully deploy ``ovs-dpdk``, ``vfio_pci`` or ``uio_pci_generic`` kernel module must be present on the platform. Most distros include ``vfio_pci`` or ``uio_pci_generic`` as part of the default kernel though on some distros you may need to install ``kernel-modules-extra`` or the distro equivalent prior to running :command:`kolla-ansible deploy`. Installation ------------ To enable ovs-dpdk, add the following configuration to ``/etc/kolla/globals.yml`` file: .. code-block:: yaml ovs_datapath: ""netdev"" enable_ovs_dpdk: yes enable_openvswitch: yes tunnel_interface: ""dpdk_bridge"" neutron_bridge_name: ""dpdk_bridge"" .. end~~~~~~~~~~~~~platforms. Consult NIC and platform specific documentation for instructionsModify the ``/etc/kolla/globals.yml`` file as the following example shows: .. code-block:: yaml enable_neutron_sriov: ""yes"" .. end Modify the ``/etc/kolla/config/neutron/ml2_conf.ini`` file and add ``sriovnicswitch`` to the ``mechanism_drivers``. Also, the provider networks used by SRIOV should be configured. Both flat and VLAN are configured with the same physical network name in this example: .. path /etc/kolla/config/neutron/ml2_conf.ini .. code-block:: ini [ml2] mechanism_drivers = openvswitch,l2population,sriovnicswitch [ml2_type_vlan] network_vlan_ranges = sriovtenant1:1000:1009 [ml2_type_flat] flat_networks = sriovtenant1 .. end Add ``PciPassthroughFilter`` to scheduler_default_filters The ``PciPassthroughFilter``, which is required by Nova Scheduler service on the Controller, should be added to ``scheduler_default_filters`` Modify the ``/etc/kolla/config/nova.conf`` file and add ``PciPassthroughFilter`` to ``scheduler_default_filters``. this filter is required by The Nova Scheduler service on the controller node. .. path /etc/kolla/config/nova.conf .. code-block:: ini [DEFAULT] scheduler_default_filters = <existing filters>, PciPassthroughFilter scheduler_available_filters = nova.scheduler.filters.all_filters .. end Edit the ``/etc/kolla/config/nova.conf`` file and add PCI device whitelisting. this is needed by OpenStack Compute service(s) on the Compute. .. path /etc/kolla/config/nova.conf .. code-block:: ini [pci] passthrough_whitelist = [{""devname"": ""ens785f0"", ""physical_network"": ""sriovtenant1""}] .. end Modify the ``/etc/kolla/config/neutron/sriov_agent.ini`` file. Add physical network to interface mapping. Specific VFs can also be excluded here. Leaving blank means to enable all VFs for the interface: .. path /etc/kolla/config/neutron/sriov_agent.ini .. code-block:: ini [sriov_nic] physical_device_mappings = sriovtenant1:ens785f0 exclude_devices = .. endCheck that VFs were created on the compute node(s). VFs will appear in the.. code-block:: console # lspci | grep net 05:10.0 Ethernet controller: Intel Corporation 82599 Ethernet Controller Virtual Function (rev 01) # ip -d link show ens785f0 4: ens785f0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq master ovs-system state UP mode DEFAULT qlen 1000 link/ether 90:e2:ba:ba:fb:20 brd ff:ff:ff:ff:ff:ff promiscuity 1 openvswitch_slave addrgenmode eui64 vf 0 MAC 52:54:00:36:57:e0, spoof checking on, link-state auto, trust off vf 1 MAC 52:54:00:00:62:db, spoof checking on, link-state auto, trust off vf 2 MAC fa:16:3e:92:cf:12, spoof checking on, link-state auto, trust off vf 3 MAC fa:16:3e:00:a3:01, vlan 1000, spoof checking on, link-state auto, trust off .. end.. code-block:: console # docker ps --filter name=neutron_sriov_agent CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES b03a8f4c0b80 10.10.10.10:4000/registry/centos-source-neutron-sriov-agent:17.04.0 ""kolla_start"" 18 minutes ago Up 18 minutes neutron_sriov_agent .. end.. code-block:: console # openstack network agent list +--------------------------------------+--------------------+-------------+-------------------+-------+-------+---------------------------+ | ID | Agent Type | Host | Availability Zone | Alive | State | Binary | +--------------------------------------+--------------------+-------------+-------------------+-------+-------+---------------------------+ | 7c06bda9-7b87-487e-a645-cc6c289d9082 | NIC Switch agent | av09-18-wcp | None | :-) | UP | neutron-sriov-nic-agent | +--------------------------------------+--------------------+-------------+-------------------+-------+-------+---------------------------+ .. end Create a new provider network. Set ``provider-physical-network`` to theSet ``provider-network-type`` to the desired type. If using VLAN, ensure ``provider-segment`` is set to the correct VLAN ID. This example uses ``VLAN`` network type: .. code-block:: console # openstack network create --project=admin \ --provider-network-type=vlan \ --provider-physical-network=sriovtenant1 \ --provider-segment=1000 \ sriovnet1.. code-block:: console # openstack subnet create --network=sriovnet1 \ --subnet-range=11.0.0.0/24 \ --allocation-pool start=11.0.0.5,end=11.0.0.100 \ sriovnet1_sub1 .. end Create a port on the provider network with ``vnic_type`` set to ``direct``: .. code-block:: console # openstack port create --network sriovnet1 --vnic-type=direct sriovnet1-port1 .. end.. code-block:: console # openstack server create --flavor flavor1 \ --image fc-26 \ --nic port-id=`openstack port list | grep sriovnet1-port1 | awk '{print $2}'` \ vm1 Verify the instance boots with the SRIOV port. Verify VF assignment by running.. code-block:: console # dmesg [ 2896.849970] ixgbe 0000:05:00.0: setting MAC fa:16:3e:00:a3:01 on VF 3 [ 2896.850028] ixgbe 0000:05:00.0: Setting VLAN 1000, QOS 0x0 on VF 3 [ 2897.403367] vfio-pci 0000:05:10.4: enabling device (0000 -> 0002) .. end~~~~~~~~~~.. path /etc/kolla/config/nova.conf .. code-block:: ini [DEFAULT] scheduler_default_filters = <existing filters>, PciPassthroughFilter scheduler_available_filters = nova.scheduler.filters.all_filters [pci] passthrough_whitelist = [{""vendor_id"": ""8086"", ""product_id"": ""10fb""}] alias = [{""vendor_id"":""8086"", ""product_id"":""10ed"", ""device_type"":""type-VF"", ""name"":""vf1""}] .. end.. code-block:: console # openstack flavor set sriov-flavor --property ""pci_passthrough:alias""=""vf1:1"" .. end.. code-block:: console # openstack server create --flavor sriov-flavor --image fc-26 vm2 .. end","==========================To enable provider networks modify the configuration file ``/etc/kolla/globals.yml``: :: enable_neutron_provider_networks: ""yes"" ===========================Overview ======== Kolla deploys Neutron by default as OpenStack networking component. This guide describes configuring and running Neutron extensions like LBaaS, Networking-SFC, QoS, etc. ==============Modify the configuration file ``/etc/kolla/globals.yml`` and change the following: :: enable_neutron_sfc: ""yes""to `networking-sfc documentation <https://docs.openstack.org/networking-sfc/latest/contributor/system_design_and_workflow.html>`_:=================================Modify the configuration file ``/etc/kolla/globals.yml`` and change the following: :: enable_neutron_vpnaas: ""yes"":: docker ps --filter name=neutron_vpnaas_agent CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 97d25657d55e operator:5000/kolla/oraclelinux-source-neutron-vpnaas-agent:4.0.0 ""kolla_start"" 44 minutes ago Up 44 minutes neutron_vpnaas_agent:: tools/init-runonce tools/init-vpn:: neutron vpn-service-list +--------------------------------------+----------+--------------------------------------+--------+ | id | name | router_id | status | +--------------------------------------+----------+--------------------------------------+--------+ | ad941ec4-5f3d-4a30-aae2-1ab3f4347eb1 | vpn_west | 051f7ce3-4301-43cc-bfbd-7ffd59af539e | ACTIVE | | edce15db-696f-46d8-9bad-03d087f1f682 | vpn_east | 058842e0-1d01-4230-af8d-0ba6d0da8b1f | ACTIVE | +--------------------------------------+----------+--------------------------------------+--------+For more information on this and VPNaaS in Neutron refer to the VPNaaS area on the OpenStack wiki: https://wiki.openstack.org/wiki/Neutron/VPNaaS/HowToInstall https://wiki.openstack.org/wiki/Neutron/VPNaaS==============Modify the configuration file ``/etc/kolla/globals.yml`` and enable the following: :: enable_opendaylight: ""yes""OpenDaylight globals.yml configurable options with their defaults include: :: opendaylight_release: ""0.6.1-Carbon"" opendaylight_mechanism_driver: ""opendaylight_v2"" opendaylight_l3_service_plugin: ""odl-router_v2"" opendaylight_acl_impl: ""learn"" enable_opendaylight_qos: ""no"" enable_opendaylight_l3: ""yes"" enable_opendaylight_legacy_netvirt_conntrack: ""no"" opendaylight_port_binding_type: ""pseudo-agentdb-binding"" opendaylight_features: ""odl-mdsal-apidocs,odl-netvirt-openstack"" opendaylight_allowed_network_types: '""flat"", ""vlan"", ""vxlan""'Note: The OpenDaylight role will allow deploy of one or three plus hosts for OpenDaylight/Networking role. https://github.com/openstack/networking-odl =============:: default_hugepagesz=2M hugepagesz=2M hugepages=25000 dpdk technically support 3 kernel drivers igb_uio,uio_pci_generic and vfio_pci. While it is technically possible to use all 3 only uio_pci_generic and vfio_pci are recommended for use with kolla. igb_uio is BSD licenced and distributed as part of the dpdk library. While it has some advantages over uio_pci_generic loading the igb_uio module will taint the kernel and possibly invalidate distro support. To successfully deploy ovs-dpdk, vfio_pci or uio_pci_generic kernel module must be present on the platform. Most distros include vfio_pci or uio_pci_generic as part of the default kernel though on some distros you may need to install kernel-modules-extra or the distro equivalent prior to running kolla-ansible deploy. Install ------- To enable ovs-dpdk add the following to /etc/kolla/globals.yml :: ovs_datapath: ""netdev"" enable_ovs_dpdk: yes enable_openvswitch: yes tunnel_interface: ""dpdk_bridge"" neutron_bridge_name: ""dpdk_bridge""=============platforms. Consult NIC and platform specific documentation for instructionsModify the configuration file ``/etc/kolla/globals.yml``: :: enable_neutron_sriov: ""yes"" Modify the file ``/etc/kolla/config/neutron/ml2_conf.ini``. Add ``sriovnicswitch`` to the mechanism drivers and add the provider networks for use by SRIOV. Both flat and VLAN are configured with the same physical network name in this example: :: [ml2] mechanism_drivers = openvswitch,l2population,sriovnicswitch [ml2_type_vlan] network_vlan_ranges = sriovtenant1:1000:1009 [ml2_type_flat] flat_networks = sriovtenant1 Modify the file ``/etc/kolla/config/nova.conf``. The Nova Scheduler service on the control node requires the ``PciPassthroughFilter`` to be added to the list of filters and the Nova Compute service(s) on the compute node(s) need PCI device whitelisting: :: [DEFAULT] scheduler_default_filters = <existing filters>, PciPassthroughFilter scheduler_available_filters = nova.scheduler.filters.all_filters [pci] passthrough_whitelist = [{""devname"": ""ens785f0"", ""physical_network"": ""sriovtenant1""}] Modify the file ``/etc/kolla/config/neutron/sriov_agent.ini``. Add physical network to interface mapping. Specific VFs can also be excluded here. Leave blank to enable all VFs for the interface: :: [sriov_nic] physical_device_mappings = sriovtenant1:ens785f0 exclude_devices =Check that VFs were created on the compute node(s). VFs will appear in the:: lspci | grep net 05:10.0 Ethernet controller: Intel Corporation 82599 Ethernet Controller Virtual Function (rev 01) :: ip -d link show ens785f0 4: ens785f0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq master ovs-system state UP mode DEFAULT qlen 1000 link/ether 90:e2:ba:ba:fb:20 brd ff:ff:ff:ff:ff:ff promiscuity 1 openvswitch_slave addrgenmode eui64 vf 0 MAC 52:54:00:36:57:e0, spoof checking on, link-state auto, trust off vf 1 MAC 52:54:00:00:62:db, spoof checking on, link-state auto, trust off vf 2 MAC fa:16:3e:92:cf:12, spoof checking on, link-state auto, trust off vf 3 MAC fa:16:3e:00:a3:01, vlan 1000, spoof checking on, link-state auto, trust off:: docker ps --filter name=neutron_sriov_agent CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES b03a8f4c0b80 10.10.10.10:4000/registry/centos-source-neutron-sriov-agent:17.04.0 ""kolla_start"" 18 minutes ago Up 18 minutes neutron_sriov_agent :: openstack network agent list +--------------------------------------+--------------------+-------------+-------------------+-------+-------+---------------------------+ | ID | Agent Type | Host | Availability Zone | Alive | State | Binary | +--------------------------------------+--------------------+-------------+-------------------+-------+-------+---------------------------+ | 7c06bda9-7b87-487e-a645-cc6c289d9082 | NIC Switch agent | av09-18-wcp | None | :-) | UP | neutron-sriov-nic-agent | +--------------------------------------+--------------------+-------------+-------------------+-------+-------+---------------------------+ Create a new provider network. Set ``provider-physical-network`` to theSet ``provider-network-type`` to the desired type. If using VLAN, ensure ``provider-segment`` is set to the correct VLAN ID. Type VLAN is used in this example: :: openstack network create --project=admin \ --provider-network-type=vlan \ --provider-physical-network=sriovtenant1 \ --provider-segment=1000 \ sriovnet1:: openstack subnet create --network=sriovnet1 \ --subnet-range=11.0.0.0/24 \ --allocation-pool start=11.0.0.5,end=11.0.0.100 \ sriovnet1_sub1 Create a port on the provider network with vnic_type set to direct: :: openstack port create --network sriovnet1 --vnic-type=direct sriovnet1-port1:: openstack server create --flavor flavor1 \ --image fc-26 \ --nic port-id=`openstack port list | grep sriovnet1-port1 | awk '{print $2}'` \ vm1 Verify the instance boots with the SRIOV port. Verify VF assignment by running:: dmesg [ 2896.849970] ixgbe 0000:05:00.0: setting MAC fa:16:3e:00:a3:01 on VF 3 [ 2896.850028] ixgbe 0000:05:00.0: Setting VLAN 1000, QOS 0x0 on VF 3 [ 2897.403367] vfio-pci 0000:05:10.4: enabling device (0000 -> 0002)==========:: [DEFAULT] scheduler_default_filters = <existing filters>, PciPassthroughFilter scheduler_available_filters = nova.scheduler.filters.all_filters [pci] passthrough_whitelist = [{""vendor_id"": ""8086"", ""product_id"": ""10fb""}] alias = [{""vendor_id"":""8086"", ""product_id"":""10ed"", ""device_type"":""type-VF"", ""name"":""vf1""}]:: openstack flavor set sriov-flavor --property ""pci_passthrough:alias""=""vf1:1"":: openstack server create --flavor sriov-flavor --image fc-26 vm2 ",654,521
openstack%2Fkolla-ansible~master~I0e4184e24210f920ea5e7b33e4878385a0758a01,openstack/kolla-ansible,master,I0e4184e24210f920ea5e7b33e4878385a0758a01,Upgrade the rst convention of the Reference Guide [4],MERGED,2018-03-19 03:49:15.000000000,2018-03-21 08:49:42.000000000,2018-03-21 08:49:42.000000000,"[{'_account_id': 11869}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 03:49:15.000000000', 'files': ['doc/source/reference/swift-guide.rst', 'doc/source/reference/skydive-guide.rst', 'doc/source/reference/zun-guide.rst', 'doc/source/reference/vmware-guide.rst', 'doc/source/reference/tacker-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1b3b0734fae0e6b7f5dc2abd8addbec849cbf549', 'message': 'Upgrade the rst convention of the Reference Guide [4]\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide\n\nChange-Id: I0e4184e24210f920ea5e7b33e4878385a0758a01\nImplements: blueprint optimize-the-documentation-format\n'}]",2,554110,1b3b0734fae0e6b7f5dc2abd8addbec849cbf549,8,4,1,19779,,,0,"Upgrade the rst convention of the Reference Guide [4]

We upgrade the rst convention by following Documentation Contributor
Guide[1].

[1] https://docs.openstack.org/doc-contrib-guide

Change-Id: I0e4184e24210f920ea5e7b33e4878385a0758a01
Implements: blueprint optimize-the-documentation-format
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/554110/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/swift-guide.rst', 'doc/source/reference/skydive-guide.rst', 'doc/source/reference/zun-guide.rst', 'doc/source/reference/vmware-guide.rst', 'doc/source/reference/tacker-guide.rst']",5,1b3b0734fae0e6b7f5dc2abd8addbec849cbf549,bp/optimize-the-documentation-format,"===============""Tacker is an OpenStack service for NFV Orchestration with a general purpose VNF Manager to deploy and operate Virtual Network Functions (VNFs) and Network Services on an NFV Platform. It is based on ETSI MANO Architectural Framework."" For more details about Tacker, see `OpenStack Tacker Documentation <https://docs.openstack.org/tacker/latest/>`__.~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Heat is enabled by default, ensure it is not disabled. .. code-block:: yaml enable_tacker: ""yes"" enable_barbican: ""yes"" enable_mistral: ""yes"" enable_redis: ""yes"" .. end Barbican is required in multinode deployments to share VIM fernet_keys. If not enabled, only one tacker-server host will have the keys on it and any request made to a different tacker-server will fail with a similar error as ``No such file or directory /etc/tacker/vim/fernet_keys``.. code-block:: console $ kolla-ansible deploy .. end Verification ~~~~~~~~~~~~.. code-block:: console $ kolla-ansible post-deploy .. end.. code-block:: console $ . /etc/kolla/admin-openrc.sh .. end.. code-block:: console $ sh tools/init-runonce .. end ``init-runonce`` file is located in ``$PYTHON_PATH/kolla-ansible`` folder in kolla-ansible installation from pip. Barbican, heat and mistral python clients are in tacker's requirements and will be installed as dependency. .. code-block:: console $ pip install python-tackerclient .. end.. code-block:: console $ sh deploy-tacker-demo .. end.. code-block:: console $ tacker vnf-list +--------------------------------------+------------------+-----------------------+--------+--------------------------------------+--------------------------------------+ | id | name | mgmt_url | status | vim_id | vnfd_id | +--------------------------------------+------------------+-----------------------+--------+--------------------------------------+--------------------------------------+ | c52fcf99-101d-427b-8a2d-c9ef54af8b1d | kolla-sample-vnf | {""VDU1"": ""10.0.0.10""} | ACTIVE | eb3aa497-192c-4557-a9d7-1dff6874a8e6 | 27e8ea98-f1ff-4a40-a45c-e829e53b3c41 | +--------------------------------------+------------------+-----------------------+--------+--------------------------------------+--------------------------------------+ .. end.. code-block:: console $ openstack server list +--------------------------------------+-------------------------------------------------------+--------+--------------------+--------+-----------------------------------------------------------------------------------------------------------------------+ | ID | Name | Status | Networks | Image | Flavor | +--------------------------------------+-------------------------------------------------------+--------+--------------------+--------+-----------------------------------------------------------------------------------------------------------------------+ | d2d59eeb-8526-4826-8f1b-c50b571395e2 | ta-cf99-101d-427b-8a2d-c9ef54af8b1d-VDU1-fchiv6saay7p | ACTIVE | demo-net=10.0.0.10 | cirros | tacker.vnfm.infra_drivers.openstack.openstack_OpenStack-c52fcf99-101d-427b-8a2d-c9ef54af8b1d-VDU1_flavor-yl4bzskwxdkn | +--------------------------------------+-------------------------------------------------------+--------+--------------------+--------+-----------------------------------------------------------------------------------------------------------------------+ .. end.. code-block:: console $ openstack stack list +--------------------------------------+----------------------------------------------------------------------------------------------+----------------------------------+-----------------+----------------------+--------------+ | ID | Stack Name | Project | Stack Status | Creation Time | Updated Time | +--------------------------------------+----------------------------------------------------------------------------------------------+----------------------------------+-----------------+----------------------+--------------+ | 289a6686-70f6-4db7-aa10-ed169fe547a6 | tacker.vnfm.infra_drivers.openstack.openstack_OpenStack-c52fcf99-101d-427b-8a2d-c9ef54af8b1d | 1243948e59054aab83dbf2803e109b3f | CREATE_COMPLETE | 2017-08-23T09:49:50Z | None | +--------------------------------------+----------------------------------------------------------------------------------------------+----------------------------------+-----------------+----------------------+--------------+ .. end.. code-block:: console $ sh cleanup-tacker .. end","""Tacker is an OpenStack service for NFV Orchestration with a general purpose VNF Manager to deploy and operate Virtual Network Functions (VNFs) and Network Services on an NFV Platform. It is based on ETSI MANO Architectural Framework."" [1].----------------------------------------------- Heat is enabled by default, ensure it is not disabled. :: enable_tacker: ""yes"" enable_barbican: ""yes"" enable_mistral: ""yes"" enable_redis: ""yes"" Barbican is required in multinode deployments to share VIM fernet_keys. If not enabled, only one tacker-server host will have the keys on it and any request made to a different tacker-server will fail with a similar error as ``No such file or directory /etc/tacker/vim/fernet_keys``:: $ kolla-ansible deploy Verify ------:: $ kolla-ansible post-deploy:: $ . /etc/kolla/admin-openrc.sh:: $ sh tools/init-runonce ``init-runonce`` file is located in ``$PYTHON_PATH/kolla-ansible`` folder in kolla-ansible installation from pip. Barbican, heat and mistral python clients are in tacker's requirements and will be installed as dependency. :: $ pip install python-tackerclient:: $ sh deploy-tacker-demo:: $ tacker vnf-list +--------------------------------------+------------------+-----------------------+--------+--------------------------------------+--------------------------------------+ | id | name | mgmt_url | status | vim_id | vnfd_id | +--------------------------------------+------------------+-----------------------+--------+--------------------------------------+--------------------------------------+ | c52fcf99-101d-427b-8a2d-c9ef54af8b1d | kolla-sample-vnf | {""VDU1"": ""10.0.0.10""} | ACTIVE | eb3aa497-192c-4557-a9d7-1dff6874a8e6 | 27e8ea98-f1ff-4a40-a45c-e829e53b3c41 | +--------------------------------------+------------------+-----------------------+--------+--------------------------------------+--------------------------------------+:: $ openstack server list +--------------------------------------+-------------------------------------------------------+--------+--------------------+--------+-----------------------------------------------------------------------------------------------------------------------+ | ID | Name | Status | Networks | Image | Flavor | +--------------------------------------+-------------------------------------------------------+--------+--------------------+--------+-----------------------------------------------------------------------------------------------------------------------+ | d2d59eeb-8526-4826-8f1b-c50b571395e2 | ta-cf99-101d-427b-8a2d-c9ef54af8b1d-VDU1-fchiv6saay7p | ACTIVE | demo-net=10.0.0.10 | cirros | tacker.vnfm.infra_drivers.openstack.openstack_OpenStack-c52fcf99-101d-427b-8a2d-c9ef54af8b1d-VDU1_flavor-yl4bzskwxdkn | +--------------------------------------+-------------------------------------------------------+--------+--------------------+--------+-----------------------------------------------------------------------------------------------------------------------+:: $ openstack stack list +--------------------------------------+----------------------------------------------------------------------------------------------+----------------------------------+-----------------+----------------------+--------------+ | ID | Stack Name | Project | Stack Status | Creation Time | Updated Time | +--------------------------------------+----------------------------------------------------------------------------------------------+----------------------------------+-----------------+----------------------+--------------+ | 289a6686-70f6-4db7-aa10-ed169fe547a6 | tacker.vnfm.infra_drivers.openstack.openstack_OpenStack-c52fcf99-101d-427b-8a2d-c9ef54af8b1d | 1243948e59054aab83dbf2803e109b3f | CREATE_COMPLETE | 2017-08-23T09:49:50Z | None | +--------------------------------------+----------------------------------------------------------------------------------------------+----------------------------------+-----------------+----------------------+--------------+:: $ sh cleanup-tacker [1] https://docs.openstack.org/tacker/latest/ ",492,357
openstack%2Fdevstack~master~Ied5ee7da0a37405f130f7cecff48919f16435952,openstack/devstack,master,Ied5ee7da0a37405f130f7cecff48919f16435952,URL changes are modified to be correct,MERGED,2018-01-18 07:56:50.000000000,2018-03-21 08:33:19.000000000,2018-03-21 08:33:19.000000000,"[{'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-18 07:56:50.000000000', 'files': ['doc/source/guides/neutron.rst', 'doc/source/guides/devstack-with-lbaas-v2.rst', 'doc/source/configuration.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/789301240adc7fa91cd34405bf87e15c3b21bc51', 'message': 'URL changes are modified to be correct\n\nChange-Id: Ied5ee7da0a37405f130f7cecff48919f16435952\n'}]",0,535209,789301240adc7fa91cd34405bf87e15c3b21bc51,9,4,1,27549,,,0,"URL changes are modified to be correct

Change-Id: Ied5ee7da0a37405f130f7cecff48919f16435952
",git fetch https://review.opendev.org/openstack/devstack refs/changes/09/535209/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/guides/neutron.rst', 'doc/source/guides/devstack-with-lbaas-v2.rst', 'doc/source/configuration.rst']",3,789301240adc7fa91cd34405bf87e15c3b21bc51,brokenurl,`Cells <https://wiki.openstack.org/wiki/Blueprint-nova-compute-cells>`__ is,`Cells <http://wiki.openstack.org/blueprint-nova-compute-cells>`__ is,3,3
openstack%2Frequirements~master~I9feeda89b87bd88636170fee25dc6d1c20208e37,openstack/requirements,master,I9feeda89b87bd88636170fee25dc6d1c20208e37,Add some OpenStack networking-* projects to global-requirements 1/2,MERGED,2018-03-14 10:15:30.000000000,2018-03-21 08:33:16.000000000,2018-03-21 08:33:15.000000000,"[{'_account_id': 2}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 6547}, {'_account_id': 6593}, {'_account_id': 9656}, {'_account_id': 12021}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-14 10:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/860e0e8c1ec21dfafe2de6321a2ea1a3eb17a837', 'message': ""Add some OpenStack networking-* projects to global-requirements\n\nNow that we're publishing them to PyPI we can begin the work of\neworking the plugin projects to depend on the PyPI versions instead\nof listing direct git url depends. To do that, we need them in\nglobal-requirements.\n\nAdd networking-odl, networking-bagpipe, networking-bgpvpn,\nnetworking-sfc.\n\nChange-Id: I9feeda89b87bd88636170fee25dc6d1c20208e37\n""}, {'number': 2, 'created': '2018-03-14 12:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c16a042877850e491c1862bfa3b11430a2c34771', 'message': ""Add some OpenStack networking-* projects to global-requirements\n\nNow that we're publishing them to PyPI we can begin the work of\neworking the plugin projects to depend on the PyPI versions instead\nof listing direct git url depends. To do that, we need them in\nglobal-requirements.\n\nAdd networking-odl, networking-bagpipe, networking-bgpvpn,\nnetworking-sfc.\n\nChange-Id: I9feeda89b87bd88636170fee25dc6d1c20208e37\n""}, {'number': 3, 'created': '2018-03-15 07:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7ef41d5962304833a0216a201205f60f511cfed4', 'message': ""Add some OpenStack networking-* projects to global-requirements (part 1)\n\nNow that we're publishing them to PyPI we can begin the work of\neworking the plugin projects to depend on the PyPI versions instead\nof listing direct git url depends. To do that, we need them in\nglobal-requirements.\n\nAdd networking-odl, networking-bagpipe, networking-bgpvpn,\nnetworking-sfc.\n\nAdd thse only to global-requirements for now - that way\ntools/tox_install.sh continues to work. As next step we can migrate from\ntox_isntall.sh to requirements and then add the constraints.\n\nChange-Id: I9feeda89b87bd88636170fee25dc6d1c20208e37\n""}, {'number': 4, 'created': '2018-03-15 20:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b2d906f59b05c34257f3f864a3235376ade33f97', 'message': ""Add some OpenStack networking-* projects to global-requirements (part 1)\n\nNow that we're publishing them to PyPI we can begin the work of\neworking the plugin projects to depend on the PyPI versions instead\nof listing direct git url depends. To do that, we need them in\nglobal-requirements.\n\nAdd networking-odl, networking-bagpipe, networking-bgpvpn,\nnetworking-sfc,networking-l2gw,neutron-lbaas,neutron-fwaas, neutron-vpnaas,\nand neutron-dynamic-routing.\n\nAdd these only to global-requirements for now - that way\ntools/tox_install.sh continues to work. As next step we can migrate from\ntox_isntall.sh to requirements and then add the constraints.\n\nChange-Id: I9feeda89b87bd88636170fee25dc6d1c20208e37\n""}, {'number': 5, 'created': '2018-03-15 20:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/57935de1f5f11ab0479fbe93592ab75e6e9d3456', 'message': ""Add some OpenStack networking-* projects to global-requirements 1/2\n\nNow that we're publishing them to PyPI we can begin the work of\nreworking the plugin projects to depend on the PyPI versions instead\nof listing direct git url depends. To do that, we need them in\nglobal-requirements.\n\nAdd networking-odl, networking-bagpipe, networking-bgpvpn,\nnetworking-sfc, networking-l2gw, neutron-lbaas, neutron-fwaas,\nneutron-vpnaas, and neutron-dynamic-routing.\n\nAdd these only to global-requirements for now - that way\ntools/tox_install.sh continues to work. As next step we can migrate from\ntox_install.sh to requirements and then add the constraints.\n\nChange-Id: I9feeda89b87bd88636170fee25dc6d1c20208e37\n""}, {'number': 6, 'created': '2018-03-19 16:52:57.000000000', 'files': ['global-requirements.txt', 'blacklist.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/479d010d2dd3c0d4a78b1af81b5398d916ec4e05', 'message': ""Add some OpenStack networking-* projects to global-requirements 1/2\n\nNow that we're publishing them to PyPI we can begin the work of\nreworking the plugin projects to depend on the PyPI versions instead\nof listing direct git url depends. To do that, we need them in\nglobal-requirements.\n\nAdd networking-odl, networking-bagpipe, networking-bgpvpn,\nnetworking-sfc, networking-l2gw, neutron-lbaas, neutron-fwaas,\nneutron-vpnaas, neutron-dynamic-routing, and vmware-nsxlib.\n\nAdd these only to global-requirements for now - that way\ntools/tox_install.sh continues to work. As next step we can migrate from\ntox_install.sh to requirements and then add the constraints.\n\nChange-Id: I9feeda89b87bd88636170fee25dc6d1c20208e37\n""}]",7,552865,479d010d2dd3c0d4a78b1af81b5398d916ec4e05,39,11,6,6547,,,0,"Add some OpenStack networking-* projects to global-requirements 1/2

Now that we're publishing them to PyPI we can begin the work of
reworking the plugin projects to depend on the PyPI versions instead
of listing direct git url depends. To do that, we need them in
global-requirements.

Add networking-odl, networking-bagpipe, networking-bgpvpn,
networking-sfc, networking-l2gw, neutron-lbaas, neutron-fwaas,
neutron-vpnaas, neutron-dynamic-routing, and vmware-nsxlib.

Add these only to global-requirements for now - that way
tools/tox_install.sh continues to work. As next step we can migrate from
tox_install.sh to requirements and then add the constraints.

Change-Id: I9feeda89b87bd88636170fee25dc6d1c20208e37
",git fetch https://review.opendev.org/openstack/requirements refs/changes/65/552865/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'lower-constraints.txt', 'upper-constraints.txt']",3,860e0e8c1ec21dfafe2de6321a2ea1a3eb17a837,tox-siblings,networking-odl===12.0.0 networking-bagpipe===8.0.0 networking-bgpvpn===8.0.0 networking-sfc===6.0.0,,12,0
openstack%2Fnova~stable%2Focata~I69f2ddca8fb0935e03b0f426891d01360940a85a,openstack/nova,stable/ocata,I69f2ddca8fb0935e03b0f426891d01360940a85a,Fix joins in instance_get_all_by_host,MERGED,2017-10-13 02:43:55.000000000,2018-03-21 08:33:09.000000000,2018-03-21 08:33:09.000000000,"[{'_account_id': 3}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26490}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-13 02:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ec3ccb3b28f497af4c38a4f3f4e2f9d31323b88', 'message': ""Fix joins in instance_get_all_by_host\n\nSome callers of instance_get_all_by_host are passing\nin columns_to_join=[], like the _sync_scheduler_instance_info\nperiodic task in the compute manager, to avoid unnecessary\njoins with other tables.\n\nThe problem was columns_to_join wasn't being passed through\nto _instance_get_all_query which builds the actual query\nmethod, and defaults to join on info_cache and security_groups.\n\nThis fixes the problem by passing through columns_to_join and\nprovides tests to show it working both with and without the joins.\n\nChange-Id: I69f2ddca8fb0935e03b0f426891d01360940a85a\nCloses-Bug: #1680616\n(cherry picked from commit d52bcc616f2d1c0df7bad8a6f5a00adc7ad1fb27)\n""}, {'number': 2, 'created': '2017-10-31 01:36:48.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e2c2b1d586f4e24f0e4f3fc760c687e03c501ec7', 'message': ""Fix joins in instance_get_all_by_host\n\nSome callers of instance_get_all_by_host are passing\nin columns_to_join=[], like the _sync_scheduler_instance_info\nperiodic task in the compute manager, to avoid unnecessary\njoins with other tables.\n\nThe problem was columns_to_join wasn't being passed through\nto _instance_get_all_query which builds the actual query\nmethod, and defaults to join on info_cache and security_groups.\n\nThis fixes the problem by passing through columns_to_join and\nprovides tests to show it working both with and without the joins.\n\nChange-Id: I69f2ddca8fb0935e03b0f426891d01360940a85a\nCloses-Bug: #1680616\n(cherry picked from commit d52bcc616f2d1c0df7bad8a6f5a00adc7ad1fb27)\n""}]",0,511682,e2c2b1d586f4e24f0e4f3fc760c687e03c501ec7,34,14,2,6873,,,0,"Fix joins in instance_get_all_by_host

Some callers of instance_get_all_by_host are passing
in columns_to_join=[], like the _sync_scheduler_instance_info
periodic task in the compute manager, to avoid unnecessary
joins with other tables.

The problem was columns_to_join wasn't being passed through
to _instance_get_all_query which builds the actual query
method, and defaults to join on info_cache and security_groups.

This fixes the problem by passing through columns_to_join and
provides tests to show it working both with and without the joins.

Change-Id: I69f2ddca8fb0935e03b0f426891d01360940a85a
Closes-Bug: #1680616
(cherry picked from commit d52bcc616f2d1c0df7bad8a6f5a00adc7ad1fb27)
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/511682/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",2,9ec3ccb3b28f497af4c38a4f3f4e2f9d31323b88,bug/1680616," query = _instance_get_all_query(context, joins=columns_to_join) query.filter_by(host=host).all(), manual_joins=columns_to_join)"," _instance_get_all_query(context).filter_by(host=host).all(), manual_joins=columns_to_join)",25,2
openstack%2Fopenstack-ansible-memcached_server~master~I12655940f683caec7cc0708a42ddf52720de6dbe,openstack/openstack-ansible-memcached_server,master,I12655940f683caec7cc0708a42ddf52720de6dbe,Follow the new PTI for document build,MERGED,2018-03-20 19:28:08.000000000,2018-03-21 08:17:49.000000000,2018-03-21 08:17:48.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 19:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/584e2525c94b537c17d8c5bca353a779f2da2e0c', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I12655940f683caec7cc0708a42ddf52720de6dbe\n'}, {'number': 2, 'created': '2018-03-20 20:13:04.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/80bee99f277bd981cd32053d5e6586361f224bd3', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I12655940f683caec7cc0708a42ddf52720de6dbe\n'}]",0,554671,80bee99f277bd981cd32053d5e6586361f224bd3,9,3,2,17130,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I12655940f683caec7cc0708a42ddf52720de6dbe
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/71/554671/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,584e2525c94b537c17d8c5bca353a779f2da2e0c,update-pti,deps = -r{toxinidir}/doc/requirements.txt sphinx-build -b html doc/source doc/build/htmldeps = -r{toxinidir}/doc/requirements.txt, python setup.py build_sphinx,14,9
openstack%2Fmonasca-ui~master~I4e1ad4129ba1ed97ee3637f2b528e2cb50eb467c,openstack/monasca-ui,master,I4e1ad4129ba1ed97ee3637f2b528e2cb50eb467c,Imported Translations from Zanata,MERGED,2018-03-21 06:59:31.000000000,2018-03-21 08:09:40.000000000,2018-03-21 08:09:40.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 06:59:31.000000000', 'files': ['monitoring/locale/de/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/77b4709046939039ba14828b94d151b7fb891a81', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4e1ad4129ba1ed97ee3637f2b528e2cb50eb467c\n'}]",0,554814,77b4709046939039ba14828b94d151b7fb891a81,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4e1ad4129ba1ed97ee3637f2b528e2cb50eb467c
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/14/554814/1 && git format-patch -1 --stdout FETCH_HEAD,['monitoring/locale/de/LC_MESSAGES/django.po'],1,77b4709046939039ba14828b94d151b7fb891a81,zanata/translations,"# Robert Simai <robert.simai@suse.com>, 2018. #zanata""POT-Creation-Date: 2018-03-20 12:17+0000\n""""PO-Revision-Date: 2018-03-20 02:34+0000\n"" ""Last-Translator: Robert Simai <robert.simai@suse.com>\n""#, python-format msgid ""%s"" msgstr ""%s"" msgid ""Alarm Actions"" msgstr ""Alarmaktionen"" msgid ""Alarm Definitions"" msgstr ""Alarmdefinitionen"" msgid ""Alarm definition has been updated."" msgstr ""Die Alarmdefinition wurde aktualisiert."" msgid ""Could not retrieve alarm definitions"" msgstr ""Alarmdefinitionen konnten nicht abgerufen werden"" msgid ""Create Alarm Definition"" msgstr ""Alarmdefinition erstellen"" msgid ""Critical"" msgstr ""Kritisch"" msgid ""Delete Alarm Definition"" msgid_plural ""Delete Alarm Definitions"" msgstr[0] ""LÃ¶sche Alarmdefinition"" msgstr[1] ""LÃ¶sche Alarmdefinitionen"" msgid ""Deleted Alarm Definition"" msgid_plural ""Deleted Alarm Definitions"" msgstr[0] ""GelÃ¶schte Alarmdefinition"" msgstr[1] ""GelÃ¶schte Alarmdefinitionen"" msgid ""Edit Alarm Definition"" msgstr ""Alarmdefinition bearbeiten"" #, python-format msgid ""Notification %s has already been deleted."" msgstr ""Die Benachrichtigung %s wurde bereits gelÃ¶scht."" msgid """" ""Notification methods. Notifications can be sent when an alarm state "" ""transition occurs."" msgstr """" ""Benachrichtigungsmethoden. Benachrichtigungen kÃ¶nnen gesendet werden, wenn "" ""ein AlarmstatusÃ¼bergang auftritt."" msgid ""Notifications"" msgstr ""Benachrichtigungen"" msgid ""Notifications Enabled"" msgstr ""Benachrichtigungen aktiviert"" msgid ""OK Actions"" msgstr ""OK Aktionen"" msgid ""Severity"" msgstr ""Schwere"" msgid """" ""Severity of an alarm. Must be either LOW, MEDIUM, HIGH or CRITICAL. Default "" ""is LOW."" msgstr """" ""Schweregrad eines Alarms. Muss entweder LOW, MEDIUM, HIGH oder CRITICAL "" ""sein. Standard ist LOW."" msgid ""Unable to retrieve alarm details."" msgstr ""Die Alarmdetails kÃ¶nnen nicht abgerufen werden."" #, python-format msgid ""Unable to retrieve notifications: %s"" msgstr ""Benachrichtigungen kÃ¶nnen nicht abgerufen werden: %s"" msgid ""Undetermined Actions"" msgstr ""Unbestimmte Aktionen"" ","""POT-Creation-Date: 2018-03-06 16:04+0000\n""""PO-Revision-Date: 2018-02-10 09:29+0000\n"" ""Last-Translator: Frank Kloeker <eumel@arcor.de>\n""",79,3
openstack%2Fcongress~master~Id63dd1af70e5c968adf00cbde17ddb4f27671691,openstack/congress,master,Id63dd1af70e5c968adf00cbde17ddb4f27671691,Allow project/user domain with datasources,MERGED,2018-03-15 14:39:47.000000000,2018-03-21 08:09:30.000000000,2018-03-21 08:09:30.000000000,"[{'_account_id': 11278}, {'_account_id': 12549}, {'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 14:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/cdb8dfd93472208feff28a352210bdda8e6c1dd5', 'message': 'Allow project/user domain with datasources\n\nget_keystone_session looks for the user_domain_name and\nproject_domain_name config options but because they are missing\nfrom get_openstack_required_config they cannot be set from the\ncommand line when creating a datasource. This change just adds them\nas supported optional config.\n\nChange-Id: Id63dd1af70e5c968adf00cbde17ddb4f27671691\nCloses-Bug: #1756095\n'}, {'number': 2, 'created': '2018-03-16 11:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/af7a21faf9b85a9f31dcc93f46883c1f2e27a1e7', 'message': 'Allow project/user domain with datasources\n\nget_keystone_session looks for the user_domain_name and\nproject_domain_name config options but because they are missing\nfrom get_openstack_required_config they cannot be set from the\ncommand line when creating a datasource. This change just adds them\nas supported optional config.\n\nChange-Id: Id63dd1af70e5c968adf00cbde17ddb4f27671691\nCloses-Bug: #1756095\n'}, {'number': 3, 'created': '2018-03-16 19:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/ec884817b225b9ce7523f8afbd1ddca844e10847', 'message': 'Allow project/user domain with datasources\n\nget_keystone_session looks for the user_domain_name and\nproject_domain_name config options but because they are missing\nfrom get_openstack_required_config they cannot be set from the\ncommand line when creating a datasource. This change just adds them\nas supported optional config.\n\nChange-Id: Id63dd1af70e5c968adf00cbde17ddb4f27671691\nCloses-Bug: #1756095\n'}, {'number': 4, 'created': '2018-03-20 07:53:27.000000000', 'files': ['congress/tests/api/test_driver_model.py', 'congress/datasources/datasource_utils.py', 'congress/tests/datasources/test_datasource_utils.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/9c7a0615831bae76b0c2f47cb1da5e5f71d35326', 'message': 'Allow project/user domain with datasources\n\nget_keystone_session looks for the user_domain_name and\nproject_domain_name config options but because they are missing\nfrom get_openstack_required_config they cannot be set from the\ncommand line when creating a datasource. This change just adds them\nas supported optional config.\n\nChange-Id: Id63dd1af70e5c968adf00cbde17ddb4f27671691\nCloses-Bug: #1756095\n'}]",1,553415,9c7a0615831bae76b0c2f47cb1da5e5f71d35326,20,4,4,12549,,,0,"Allow project/user domain with datasources

get_keystone_session looks for the user_domain_name and
project_domain_name config options but because they are missing
from get_openstack_required_config they cannot be set from the
command line when creating a datasource. This change just adds them
as supported optional config.

Change-Id: Id63dd1af70e5c968adf00cbde17ddb4f27671691
Closes-Bug: #1756095
",git fetch https://review.opendev.org/openstack/congress refs/changes/15/553415/1 && git format-patch -1 --stdout FETCH_HEAD,['congress/datasources/datasource_utils.py'],1,cdb8dfd93472208feff28a352210bdda8e6c1dd5,bug/1756095," 'user_domain_name': constants.OPTIONAL, 'project_domain_name': constants.OPTIONAL,",,2,0
openstack%2Fpython-zunclient~master~I64a9e6ed04d63a3171c580f5b234fe61ee346676,openstack/python-zunclient,master,I64a9e6ed04d63a3171c580f5b234fe61ee346676,Add image-delete to python-zunclient,MERGED,2018-02-13 13:58:28.000000000,2018-03-21 07:54:21.000000000,2018-03-21 07:54:21.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23365}, {'_account_id': 25167}, {'_account_id': 25695}, {'_account_id': 27068}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-02-13 13:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/8d4038e42472bb62c87249f83d69caabea057aa4', 'message': 'Add image-delete to python-zunclient\n\nThis change adds image delete support to the python-zunclient\nproject for the image-delete command\n\nThe zun command image-delete is now:\n    zun image-delete\n\nChange-Id: I64a9e6ed04d63a3171c580f5b234fe61ee346676\n'}, {'number': 2, 'created': '2018-02-14 07:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/535f97b238f51e8427ea564c2f30c499ec9baf76', 'message': 'Add image-delete to python-zunclient\n\nThis change adds image delete support to the python-zunclient\nproject for the image-delete command\n\nThe zun command image-delete is now:\n    zun image-delete\n\nChange-Id: I64a9e6ed04d63a3171c580f5b234fe61ee346676\n'}, {'number': 3, 'created': '2018-03-13 13:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/35e9e79cd7c817beb0ab8a429b8352efc99463ea', 'message': 'Add image-delete to python-zunclient\n\nThis change adds image delete support to the python-zunclient\nproject for the image-delete command\n\nThe zun command image-delete is now:\n    zun image-delete\n\nChange-Id: I64a9e6ed04d63a3171c580f5b234fe61ee346676\n'}, {'number': 4, 'created': '2018-03-13 14:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/0b63a5da37f944096a875f6000ab9889f0027e29', 'message': 'Add image-delete to python-zunclient\n\nThis change adds image delete support to the python-zunclient\nproject for the image-delete command\n\nThe zun command image-delete is now:\n    zun image-delete\n\nChange-Id: I64a9e6ed04d63a3171c580f5b234fe61ee346676\n'}, {'number': 5, 'created': '2018-03-21 02:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/2b1e30160d2201bb8a6c5df65007742943e4ec9a', 'message': 'Add image-delete to python-zunclient\n\nThis change adds image delete support to the python-zunclient\nproject for the image-delete command\n\nThe zun command image-delete is now:\n    zun image-delete\n\nChange-Id: I64a9e6ed04d63a3171c580f5b234fe61ee346676\n'}, {'number': 6, 'created': '2018-03-21 02:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/e310372a615ea9a2c2941d0379ba997fa8084382', 'message': 'Add image-delete to python-zunclient\n\nThis change adds image delete support to the python-zunclient\nproject for the image-delete command\n\nThe zun command image-delete is now:\n    zun image-delete\n\nChange-Id: I64a9e6ed04d63a3171c580f5b234fe61ee346676\n'}, {'number': 7, 'created': '2018-03-21 02:49:45.000000000', 'files': ['zunclient/v1/images_shell.py', 'zunclient/v1/images.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/0732bf610f43e48a3374aafee5f8fdd2d9993e48', 'message': 'Add image-delete to python-zunclient\n\nThis change adds image delete support to the python-zunclient\nproject for the image-delete command\n\nThe zun command image-delete is now:\n    zun image-delete\n\nChange-Id: I64a9e6ed04d63a3171c580f5b234fe61ee346676\n'}]",6,543940,0732bf610f43e48a3374aafee5f8fdd2d9993e48,27,8,7,27577,,,0,"Add image-delete to python-zunclient

This change adds image delete support to the python-zunclient
project for the image-delete command

The zun command image-delete is now:
    zun image-delete

Change-Id: I64a9e6ed04d63a3171c580f5b234fe61ee346676
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/40/543940/6 && git format-patch -1 --stdout FETCH_HEAD,"['zunclient/v1/images_shell.py', 'zunclient/v1/images.py']",2,8d4038e42472bb62c87249f83d69caabea057aa4,image-delete," def delete(self, image): id = image.uuid return self._delete(self._path(id))[0] ",,12,0
openstack%2Fironic~master~I2ecfe0b30a3176acee995656810f54d3236f3125,openstack/ironic,master,I2ecfe0b30a3176acee995656810f54d3236f3125,"TESTING: DNR Revert ""Run in superconductor cellsv2 mode for non-grenade jobs""",ABANDONED,2018-01-10 09:56:29.000000000,2018-03-21 07:45:48.000000000,,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 6637}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 14208}, {'_account_id': 14525}, {'_account_id': 14760}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-10 09:56:29.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/ironic/commit/57bd5de8af403223a7c757b49563b5cdcfcce3e3', 'message': 'TESTING: DNR Revert ""Run in superconductor cellsv2 mode for non-grenade jobs""\n\n\n\nThis reverts commit da477a07f8c2781cee597040f21b7deec0bff624.\n\nChange-Id: I2ecfe0b30a3176acee995656810f54d3236f3125\n'}]",0,532474,57bd5de8af403223a7c757b49563b5cdcfcce3e3,35,17,1,14525,,,0,"TESTING: DNR Revert ""Run in superconductor cellsv2 mode for non-grenade jobs""



This reverts commit da477a07f8c2781cee597040f21b7deec0bff624.

Change-Id: I2ecfe0b30a3176acee995656810f54d3236f3125
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/532474/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,57bd5de8af403223a7c757b49563b5cdcfcce3e3,bp/return-alternate-hosts," # NOTE(vdrok): we don't use the multicell setup because it won't let the # reschedules happen. We hit them quite often in multinode job. CELLSV2_SETUP=""singleconductor""",,4,0
openstack%2Frpm-packaging~master~Ie408206a948301f7dadcfd414f432b0e7e4d7080,openstack/rpm-packaging,master,Ie408206a948301f7dadcfd414f432b0e7e4d7080,Updated oslo.reports to 1.27.0,MERGED,2018-03-14 16:13:06.000000000,2018-03-21 07:27:40.000000000,2018-03-21 07:27:40.000000000,"[{'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-14 16:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/19481172d7c660e5bf68b729d69515c9725077a2', 'message': 'Updated oslo.reports to 1.27.0\n\nChange-Id: Ie408206a948301f7dadcfd414f432b0e7e4d7080\n'}, {'number': 2, 'created': '2018-03-20 12:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9eccaa0a06bc1fd9efc81f5b370e39a66fc1e67a', 'message': 'Updated oslo.reports to 1.27.0\n\nDepends-On: https://review.openstack.org/#/c/553009/\nChange-Id: Ie408206a948301f7dadcfd414f432b0e7e4d7080\n'}, {'number': 3, 'created': '2018-03-21 05:47:19.000000000', 'files': ['openstack/oslo.reports/oslo.reports.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/aaa5adaf6846e0f5e49561fc24005908635a8f17', 'message': 'Updated oslo.reports to 1.27.0\n\nDepends-On: https://review.openstack.org/#/c/553009/\nChange-Id: Ie408206a948301f7dadcfd414f432b0e7e4d7080\n'}]",0,552960,aaa5adaf6846e0f5e49561fc24005908635a8f17,18,6,3,26297,,,0,"Updated oslo.reports to 1.27.0

Depends-On: https://review.openstack.org/#/c/553009/
Change-Id: Ie408206a948301f7dadcfd414f432b0e7e4d7080
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/60/552960/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.reports/oslo.reports.spec.j2'],1,19481172d7c660e5bf68b729d69515c9725077a2,oslo.reports,{% set upstream_version = upstream_version('1.27.0') %},{% set upstream_version = upstream_version('1.26.0') %},1,1
openstack%2Frpm-packaging~master~I1ee3d85446c9532a3013aad8c0f60b271d933d7f,openstack/rpm-packaging,master,I1ee3d85446c9532a3013aad8c0f60b271d933d7f,Updated oslo.log to 3.37.0,MERGED,2018-03-14 16:11:33.000000000,2018-03-21 07:24:56.000000000,2018-03-21 07:24:56.000000000,"[{'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-03-14 16:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f775c3c7da291db59102aa73b2d9e2f034f45e66', 'message': 'Updated oslo.log to 3.37.0\n\nChange-Id: I1ee3d85446c9532a3013aad8c0f60b271d933d7f\n'}, {'number': 2, 'created': '2018-03-20 12:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/baedffd18121cc59950d7a25269715715b15fcd1', 'message': 'Updated oslo.log to 3.37.0\n\nDepends-On: https://review.openstack.org/#/c/552999/\nChange-Id: I1ee3d85446c9532a3013aad8c0f60b271d933d7f\n'}, {'number': 3, 'created': '2018-03-21 05:49:21.000000000', 'files': ['openstack/oslo.log/oslo.log.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2beb73dd7261c610a3e34c9295250d40ccfb1305', 'message': 'Updated oslo.log to 3.37.0\n\nDepends-On: https://review.openstack.org/#/c/552999/\nChange-Id: I1ee3d85446c9532a3013aad8c0f60b271d933d7f\n'}]",0,552957,2beb73dd7261c610a3e34c9295250d40ccfb1305,20,8,3,26297,,,0,"Updated oslo.log to 3.37.0

Depends-On: https://review.openstack.org/#/c/552999/
Change-Id: I1ee3d85446c9532a3013aad8c0f60b271d933d7f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/57/552957/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.log/oslo.log.spec.j2'],1,f775c3c7da291db59102aa73b2d9e2f034f45e66,oslo.log,{% set upstream_version = upstream_version('3.37.0') %},{% set upstream_version = upstream_version('3.36.0') %},1,1
openstack%2Fcharm-openstack-dashboard~master~If6046167a8ea2773b12d77e833ed580b7d2952c3,openstack/charm-openstack-dashboard,master,If6046167a8ea2773b12d77e833ed580b7d2952c3,Add heat-policy.json for Queens releases,ABANDONED,2018-03-09 08:42:31.000000000,2018-03-21 07:23:57.000000000,,"[{'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-09 08:42:31.000000000', 'files': ['hooks/horizon_utils.py', 'unit_tests/test_horizon_utils.py', 'templates/queens/heat_policy.json'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/2276d9a3b2877fd09f1e8a261ee28c165b6345cd', 'message': 'Add heat-policy.json for Queens releases\n\nHeat uses the policy in code approach in Queens rather than using the\npolicy.json and reflecting that the heat package no longer ships with a\npolicy.json. However, horizon still needs a heat policy.json.\n\nThe oslopolicy-sample-generator was used to generate the heat-policy.json\nincluded in this patch. Credit to Dmitrii-Sh for outlining the approach in the\nbug report.\n\nArguably, the openstack-dashboard package should include the heat-policy.json\nso I am only marking this as a partial fix as it may be decided that the\ncorrect approach is a package update, in which case, this is a temporary fix\nwhich can be removed later.\n\nChange-Id: If6046167a8ea2773b12d77e833ed580b7d2952c3\nPartial-Bug: #1754508\n'}]",0,551213,2276d9a3b2877fd09f1e8a261ee28c165b6345cd,8,4,1,12549,,,0,"Add heat-policy.json for Queens releases

Heat uses the policy in code approach in Queens rather than using the
policy.json and reflecting that the heat package no longer ships with a
policy.json. However, horizon still needs a heat policy.json.

The oslopolicy-sample-generator was used to generate the heat-policy.json
included in this patch. Credit to Dmitrii-Sh for outlining the approach in the
bug report.

Arguably, the openstack-dashboard package should include the heat-policy.json
so I am only marking this as a partial fix as it may be decided that the
correct approach is a package update, in which case, this is a temporary fix
which can be removed later.

Change-Id: If6046167a8ea2773b12d77e833ed580b7d2952c3
Partial-Bug: #1754508
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/13/551213/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/horizon_utils.py', 'unit_tests/test_horizon_utils.py', 'templates/queens/heat_policy.json']",3,2276d9a3b2877fd09f1e8a261ee28c165b6345cd,bug/1754508,"{ ""context_is_admin"": ""role:admin and is_admin_project:True"", ""project_admin"": ""role:admin"", ""deny_stack_user"": ""not role:heat_stack_user"", ""deny_everybody"": ""!"", ""allow_everybody"": """", ""actions:action"": ""rule:deny_stack_user"", ""build_info:build_info"": ""rule:deny_stack_user"", ""cloudformation:ListStacks"": ""rule:deny_stack_user"", ""cloudformation:CreateStack"": ""rule:deny_stack_user"", ""cloudformation:DescribeStacks"": ""rule:deny_stack_user"", ""cloudformation:DeleteStack"": ""rule:deny_stack_user"", ""cloudformation:UpdateStack"": ""rule:deny_stack_user"", ""cloudformation:CancelUpdateStack"": ""rule:deny_stack_user"", ""cloudformation:DescribeStackEvents"": ""rule:deny_stack_user"", ""cloudformation:ValidateTemplate"": ""rule:deny_stack_user"", ""cloudformation:GetTemplate"": ""rule:deny_stack_user"", ""cloudformation:EstimateTemplateCost"": ""rule:deny_stack_user"", ""cloudformation:DescribeStackResource"": ""rule:allow_everybody"", ""cloudformation:DescribeStackResources"": ""rule:deny_stack_user"", ""cloudformation:ListStackResources"": ""rule:deny_stack_user"", ""events:index"": ""rule:deny_stack_user"", ""events:show"": ""rule:deny_stack_user"", ""resource:index"": ""rule:deny_stack_user"", ""resource:metadata"": ""rule:allow_everybody"", ""resource:signal"": ""rule:allow_everybody"", ""resource:mark_unhealthy"": ""rule:deny_stack_user"", ""resource:show"": ""rule:deny_stack_user"", ""resource_types:OS::Nova::Flavor"": ""rule:project_admin"", ""resource_types:OS::Cinder::EncryptedVolumeType"": ""rule:project_admin"", ""resource_types:OS::Cinder::VolumeType"": ""rule:project_admin"", ""resource_types:OS::Cinder::Quota"": ""rule:project_admin"", ""resource_types:OS::Neutron::Quota"": ""rule:project_admin"", ""resource_types:OS::Nova::Quota"": ""rule:project_admin"", ""resource_types:OS::Manila::ShareType"": ""rule:project_admin"", ""resource_types:OS::Neutron::ProviderNet"": ""rule:project_admin"", ""resource_types:OS::Neutron::QoSPolicy"": ""rule:project_admin"", ""resource_types:OS::Neutron::QoSBandwidthLimitRule"": ""rule:project_admin"", ""resource_types:OS::Neutron::Segment"": ""rule:project_admin"", ""resource_types:OS::Nova::HostAggregate"": ""rule:project_admin"", ""resource_types:OS::Cinder::QoSSpecs"": ""rule:project_admin"", ""resource_types:OS::Cinder::QoSAssociation"": ""rule:project_admin"", ""resource_types:OS::Keystone::*"": ""rule:project_admin"", ""service:index"": ""rule:context_is_admin"", ""software_configs:global_index"": ""rule:deny_everybody"", ""software_configs:index"": ""rule:deny_stack_user"", ""software_configs:create"": ""rule:deny_stack_user"", ""software_configs:show"": ""rule:deny_stack_user"", ""software_configs:delete"": ""rule:deny_stack_user"", ""software_deployments:index"": ""rule:deny_stack_user"", ""software_deployments:create"": ""rule:deny_stack_user"", ""software_deployments:show"": ""rule:deny_stack_user"", ""software_deployments:update"": ""rule:deny_stack_user"", ""software_deployments:delete"": ""rule:deny_stack_user"", ""software_deployments:metadata"": ""rule:allow_everybody"", ""stacks:abandon"": ""rule:deny_stack_user"", ""stacks:create"": ""rule:deny_stack_user"", ""stacks:delete"": ""rule:deny_stack_user"", ""stacks:detail"": ""rule:deny_stack_user"", ""stacks:export"": ""rule:deny_stack_user"", ""stacks:generate_template"": ""rule:deny_stack_user"", ""stacks:global_index"": ""rule:deny_everybody"", ""stacks:index"": ""rule:deny_stack_user"", ""stacks:list_resource_types"": ""rule:deny_stack_user"", ""stacks:list_template_versions"": ""rule:deny_stack_user"", ""stacks:list_template_functions"": ""rule:deny_stack_user"", ""stacks:lookup"": ""rule:allow_everybody"", ""stacks:preview"": ""rule:deny_stack_user"", ""stacks:resource_schema"": ""rule:deny_stack_user"", ""stacks:show"": ""rule:deny_stack_user"", ""stacks:template"": ""rule:deny_stack_user"", ""stacks:environment"": ""rule:deny_stack_user"", ""stacks:files"": ""rule:deny_stack_user"", ""stacks:update"": ""rule:deny_stack_user"", ""stacks:update_patch"": ""rule:deny_stack_user"", ""stacks:preview_update"": ""rule:deny_stack_user"", ""stacks:preview_update_patch"": ""rule:deny_stack_user"", ""stacks:validate_template"": ""rule:deny_stack_user"", ""stacks:snapshot"": ""rule:deny_stack_user"", ""stacks:show_snapshot"": ""rule:deny_stack_user"", ""stacks:delete_snapshot"": ""rule:deny_stack_user"", ""stacks:list_snapshots"": ""rule:deny_stack_user"", ""stacks:restore_snapshot"": ""rule:deny_stack_user"", ""stacks:list_outputs"": ""rule:deny_stack_user"", ""stacks:show_output"": ""rule:deny_stack_user"" } ",,117,0
openstack%2Frpm-packaging~master~I4754a5df66349718304a239d054d6cd2d37f027a,openstack/rpm-packaging,master,I4754a5df66349718304a239d054d6cd2d37f027a,Updated oslo.concurrency to 3.26.0,MERGED,2018-03-14 16:12:19.000000000,2018-03-21 07:23:24.000000000,2018-03-21 07:23:24.000000000,"[{'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-14 16:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/eb4411e9c7bbcbfead29dc2fb9271ee19937643a', 'message': 'Updated oslo.concurrency to 3.26.0\n\nChange-Id: I4754a5df66349718304a239d054d6cd2d37f027a\n'}, {'number': 2, 'created': '2018-03-20 12:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7c34a30da10fd2b8ba11984dd6244be175b752b7', 'message': 'Updated oslo.concurrency to 3.26.0\n\nDepends-On: https://review.openstack.org/#/c/552993/\nChange-Id: I4754a5df66349718304a239d054d6cd2d37f027a\n'}, {'number': 3, 'created': '2018-03-21 05:48:25.000000000', 'files': ['openstack/oslo.concurrency/oslo.concurrency.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/056874418be869b3780555ae375f7f9ee0eaffb7', 'message': 'Updated oslo.concurrency to 3.26.0\n\nDepends-On: https://review.openstack.org/#/c/552993/\nChange-Id: I4754a5df66349718304a239d054d6cd2d37f027a\n'}]",0,552958,056874418be869b3780555ae375f7f9ee0eaffb7,18,6,3,26297,,,0,"Updated oslo.concurrency to 3.26.0

Depends-On: https://review.openstack.org/#/c/552993/
Change-Id: I4754a5df66349718304a239d054d6cd2d37f027a
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/58/552958/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.concurrency/oslo.concurrency.spec.j2'],1,eb4411e9c7bbcbfead29dc2fb9271ee19937643a,oslo.concurrency,{% set upstream_version = upstream_version('3.26.0') %},{% set upstream_version = upstream_version('3.25.0') %},1,1
openstack%2Fkolla-ansible~master~I217fb56226ac25d9a109ee539286b0be33e890e3,openstack/kolla-ansible,master,I217fb56226ac25d9a109ee539286b0be33e890e3,test the first patch,ABANDONED,2018-03-21 06:32:14.000000000,2018-03-21 07:18:34.000000000,,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-03-21 06:32:14.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f9697fd9acb9e57442319836101ad6f06f60ad6f', 'message': 'test the first patch\n\nChange-Id: I217fb56226ac25d9a109ee539286b0be33e890e3\n'}]",0,554805,f9697fd9acb9e57442319836101ad6f06f60ad6f,6,4,1,26285,,,0,"test the first patch

Change-Id: I217fb56226ac25d9a109ee539286b0be33e890e3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/554805/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f9697fd9acb9e57442319836101ad6f06f60ad6f,,test,,1,1
openstack%2Fneutron-lbaas~master~I3b40d2a84219b52774e358b99d1d49fb5178f4f9,openstack/neutron-lbaas,master,I3b40d2a84219b52774e358b99d1d49fb5178f4f9,DNM: check support for neutron ext from master,ABANDONED,2018-03-20 08:25:06.000000000,2018-03-21 07:16:22.000000000,,"[{'_account_id': 9008}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 08:25:06.000000000', 'files': ['neutron_lbaas/services/loadbalancer/proxy_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/8453d9ac33bbc5f68b288c8596e06db0dfb11f91', 'message': 'DNM: check support for neutron ext from master\n\nverifying that CI testing passes successfuly when\nadding support for neutron extension from master\n\nChange-Id: I3b40d2a84219b52774e358b99d1d49fb5178f4f9\nSigned-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>\n'}]",0,554452,8453d9ac33bbc5f68b288c8596e06db0dfb11f91,4,2,1,27546,,,0,"DNM: check support for neutron ext from master

verifying that CI testing passes successfuly when
adding support for neutron extension from master

Change-Id: I3b40d2a84219b52774e358b99d1d49fb5178f4f9
Signed-off-by: Michal Kelner Mishali <mkelnermishal@vmware.com>
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/52/554452/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas/services/loadbalancer/proxy_plugin.py'],1,8453d9ac33bbc5f68b288c8596e06db0dfb11f91,ci_testing," ""hm_max_retries_down"", ""port-security-groups-filtering""]"," ""hm_max_retries_down""]",2,1
openstack%2Ftacker~master~Ib10e71e5ecc7979d85f50ba4361851a3df7a9c87,openstack/tacker,master,Ib10e71e5ecc7979d85f50ba4361851a3df7a9c87,Add reno note for creating VNFFG without flow-classifier feature,MERGED,2018-03-20 08:15:53.000000000,2018-03-21 07:06:52.000000000,2018-03-21 07:06:52.000000000,"[{'_account_id': 2874}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-03-20 08:15:53.000000000', 'files': ['releasenotes/notes/create-vnffg-without-flow-classifier-913d79783629e719.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/80eef8071a6cc60453b342604d33cd38f092f57e', 'message': 'Add reno note for creating VNFFG without flow-classifier feature\n\nrelated patch set:\nhttps://review.openstack.org/#/c/551255\n\nChange-Id: Ib10e71e5ecc7979d85f50ba4361851a3df7a9c87\n'}]",0,554446,80eef8071a6cc60453b342604d33cd38f092f57e,7,3,1,26222,,,0,"Add reno note for creating VNFFG without flow-classifier feature

related patch set:
https://review.openstack.org/#/c/551255

Change-Id: Ib10e71e5ecc7979d85f50ba4361851a3df7a9c87
",git fetch https://review.opendev.org/openstack/tacker refs/changes/46/554446/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/create-vnffg-without-flow-classifier-913d79783629e719.yaml'],1,80eef8071a6cc60453b342604d33cd38f092f57e,,--- features: - Support creating VNFFG without flow-classifier ,,3,0
openstack%2Fkolla-ansible~master~Ieceb3942073512fb10670a48d258c4055909496e,openstack/kolla-ansible,master,Ieceb3942073512fb10670a48d258c4055909496e,Upgrade the rst convention of the User Guide,MERGED,2018-01-26 11:28:45.000000000,2018-03-21 07:05:24.000000000,2018-03-21 07:05:23.000000000,"[{'_account_id': 1390}, {'_account_id': 21486}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-01-26 11:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f133bbe1d4d46291e2abc187a01d1cff2208ea1', 'message': 'Upgrade the rst convention of the User Guide\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide\n\nChange-Id: Ieceb3942073512fb10670a48d258c4055909496e\nPartially-Implements: blueprint optimize-the-documentation-format\n'}, {'number': 2, 'created': '2018-03-19 09:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5a6740b1fc648b5fe99da0cf556a584f1ef79e88', 'message': 'Upgrade the rst convention of the User Guide\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide\n\nChange-Id: Ieceb3942073512fb10670a48d258c4055909496e\nPartially-Implements: blueprint optimize-the-documentation-format\n'}, {'number': 3, 'created': '2018-03-19 09:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/974929d4b648673f0eb5e16019c94b2248ad482d', 'message': 'Upgrade the rst convention of the User Guide\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide\n\nChange-Id: Ieceb3942073512fb10670a48d258c4055909496e\nPartially-Implements: blueprint optimize-the-documentation-format\n'}, {'number': 4, 'created': '2018-03-19 09:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e490db5e5fbc3a11753abccf78ad0e937bece659', 'message': 'Upgrade the rst convention of the User Guide\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide\n\nChange-Id: Ieceb3942073512fb10670a48d258c4055909496e\nPartially-Implements: blueprint optimize-the-documentation-format\n'}, {'number': 5, 'created': '2018-03-19 09:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/28c664e76eefc96937b9427ce3bbd2b8d5300435', 'message': 'Upgrade the rst convention of the User Guide\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide\n\nChange-Id: Ieceb3942073512fb10670a48d258c4055909496e\nPartially-Implements: blueprint optimize-the-documentation-format\n'}, {'number': 6, 'created': '2018-03-19 09:13:39.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/user/multinode.rst', 'doc/source/user/multi-regions.rst', 'doc/source/user/quickstart.rst', 'doc/source/user/security.rst', 'doc/source/user/troubleshooting.rst', 'doc/source/user/operating-kolla.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3a77dba89991d35528c675f05e3f0d34b167aac2', 'message': 'Upgrade the rst convention of the User Guide\n\nWe upgrade the rst convention by following Documentation Contributor\nGuide[1].\n\n[1] https://docs.openstack.org/doc-contrib-guide\n\nChange-Id: Ieceb3942073512fb10670a48d258c4055909496e\nPartially-Implements: blueprint optimize-the-documentation-format\n'}]",0,538220,3a77dba89991d35528c675f05e3f0d34b167aac2,21,5,6,19779,,,0,"Upgrade the rst convention of the User Guide

We upgrade the rst convention by following Documentation Contributor
Guide[1].

[1] https://docs.openstack.org/doc-contrib-guide

Change-Id: Ieceb3942073512fb10670a48d258c4055909496e
Partially-Implements: blueprint optimize-the-documentation-format
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/538220/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/user/multinode.rst', 'doc/source/user/multi-regions.rst', 'doc/source/user/quickstart.rst', 'doc/source/user/security.rst', 'doc/source/user/troubleshooting.rst', 'doc/source/user/operating-kolla.rst']",7,1f133bbe1d4d46291e2abc187a01d1cff2208ea1,bp/optimize-the-documentation-format,"~~~~~~~~~ For example, to deploy a custom built ``Liberty`` version built with the :command:`kolla-build --tag 1.0.0.0` operation, configure the ``globals.yml`` file: .. code-block:: none openstack_version: 1.0.0.0 .. end Then run the following command to deploy: .. code-block:: console kolla-ansible deploy .. end If using Liberty and a custom alpha number of 0, and upgrading to 1, configure the ``globals.yml`` file: .. code-block:: none openstack_version: 1.0.0.1 .. end Then run the command to upgrade: .. code-block:: console kolla-ansible upgrade .. end .. note:: Varying degrees of success have been reported with upgrading the libvirt container with a running virtual machine in it. The libvirt upgrade still needs a bit more validation, but the Kolla community feels confident this mechanism can be used with the correct Docker graph driver. .. note:: The Kolla community recommends the btrfs or aufs graph drivers for storing data as sometimes the LVM graph driver loses track of its reference counting and results in an unremovable container. .. note:: Because of system technical limitations, upgrade of a libvirt container when using software emulation (``virt_type = qemu`` in ``nova.conf`` file), does not work at all. This is acceptable because KVM is the recommended virtualization driver to use with Nova.~~~~~~~~~~~~~~~ In order to do smoke tests, requires ``kolla_enable_sanity_checks=yes``.#. Save old passwords from ``/etc/kolla/passwords.yml`` into ``passwords.yml.old``. #. Generate new passwords via ``kolla-genpwd`` as ``passwords.yml.new``. #. Merge ``passwords.yml.old`` and ``passwords.yml.new`` into ``/etc/kolla/passwords.yml``. For example: .. code-block:: console mv /etc/kolla/passwords.yml passwords.yml.old cp kolla-ansible/etc/kolla/passwords.yml passwords.yml.new kolla-genpwd -p passwords.yml.new kolla-mergepwd --old passwords.yml.old --new passwords.yml.new --final /etc/kolla/passwords.yml .. end","=========For example, to deploy a custom built Liberty version built with the ``kolla-build --tag 1.0.0.0`` operation, change globals.yml:: openstack_version: 1.0.0.0 Then run the command to deploy:: kolla-ansible deploy If using Liberty and a custom alpha number of 0, and upgrading to 1, change globals.yml:: openstack_version: 1.0.0.1 Then run the command to upgrade:: kolla-ansible upgrade .. note:: Varying degrees of success have been reported with upgrading the libvirt container with a running virtual machine in it. The libvirt upgrade still needs a bit more validation, but the Kolla community feels confident this mechanism can be used with the correct Docker graph driver. .. note:: The Kolla community recommends the btrfs or aufs graph drivers for storing data as sometimes the LVM graph driver loses track of its reference counting and results in an unremovable container. .. note:: Because of system technical limitations, upgrade of a libvirt container when using software emulation (``virt_type = qemu`` in nova.conf), does not work at all. This is acceptable because KVM is the recommended virtualization driver to use with Nova.=============== In order to do smoke tests, requires ``kolla_enable_sanity_checks=yes``.- Save old passwords from ``/etc/kolla/passwords.yml`` into ``passwords.yml.old`` - Generate new passwords via ``kolla-genpwd`` as ``passwords.yml.new`` - Merge ``passwords.yml.old`` and ``passwords.yml.new`` into ``/etc/kolla/passwords.yml`` For example:: mv /etc/kolla/passwords.yml passwords.yml.old cp kolla-ansible/etc/kolla/passwords.yml passwords.yml.new kolla-genpwd -p passwords.yml.new kolla-mergepwd --old passwords.yml.old --new passwords.yml.new --final /etc/kolla/passwords.yml",470,286
openstack%2Frpm-packaging~stable%2Fqueens~Ic3132f8a87cee464c4444b5161bfc187d13667ec,openstack/rpm-packaging,stable/queens,Ic3132f8a87cee464c4444b5161bfc187d13667ec,Switch to track stable-queens.tar.gz tarballs,MERGED,2018-03-12 14:15:10.000000000,2018-03-21 06:01:08.000000000,2018-03-21 06:01:08.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-12 14:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/54e41e2be69f740b43076c27ae6f1f5fc8973f3b', 'message': 'Switch to track stable-queens.tar.gz tarballs\n\nInstead of tracking master tarballs, switch to stable-queens tarballs.\n\nChange-Id: Ic3132f8a87cee464c4444b5161bfc187d13667ec\n'}, {'number': 2, 'created': '2018-03-14 14:38:09.000000000', 'files': ['openstack/neutron-vpnaas-dashboard/neutron-vpnaas-dashboard.spec.j2', 'openstack/networking-vsphere/networking-vsphere.spec.j2', 'openstack/freezer-api/freezer-api.spec.j2', 'openstack/mistral/mistral.spec.j2', 'openstack/masakari/masakari.spec.j2', 'openstack/masakari-monitors/masakari-monitors.spec.j2', 'openstack/nova/nova.spec.j2', 'openstack/freezer-web-ui/freezer-web-ui.spec.j2', 'openstack/keystone/keystone.spec.j2', 'openstack/monasca-ceilometer/monasca-ceilometer.spec.j2', 'openstack/karbor-dashboard/karbor-dashboard.spec.j2', 'openstack/horizon/horizon.spec.j2', 'openstack/freezer/freezer.spec.j2', 'openstack/neutron-fwaas-dashboard/neutron-fwaas-dashboard.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a8ba7f19a0a2582b20be61ede93f17191aa40cad', 'message': 'Switch to track stable-queens.tar.gz tarballs\n\nInstead of tracking master tarballs, switch to stable-queens tarballs.\n\nChange-Id: Ic3132f8a87cee464c4444b5161bfc187d13667ec\n'}]",1,552029,a8ba7f19a0a2582b20be61ede93f17191aa40cad,24,7,2,7102,,,0,"Switch to track stable-queens.tar.gz tarballs

Instead of tracking master tarballs, switch to stable-queens tarballs.

Change-Id: Ic3132f8a87cee464c4444b5161bfc187d13667ec
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/29/552029/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/neutron-vpnaas-dashboard/neutron-vpnaas-dashboard.spec.j2', 'openstack/networking-vsphere/networking-vsphere.spec.j2', 'openstack/freezer-api/freezer-api.spec.j2', 'openstack/mistral/mistral.spec.j2', 'openstack/masakari/masakari.spec.j2', 'openstack/masakari-monitors/masakari-monitors.spec.j2', 'openstack/nova/nova.spec.j2', 'openstack/freezer-web-ui/freezer-web-ui.spec.j2', 'openstack/keystone/keystone.spec.j2', 'openstack/monasca-ceilometer/monasca-ceilometer.spec.j2', 'openstack/karbor-dashboard/karbor-dashboard.spec.j2', 'openstack/horizon/horizon.spec.j2', 'openstack/freezer/freezer.spec.j2', 'openstack/neutron-fwaas-dashboard/neutron-fwaas-dashboard.spec.j2']",14,54e41e2be69f740b43076c27ae6f1f5fc8973f3b,stable-queens,{% set source = fetch_source('http://tarballs.openstack.org/neutron-fwaas-dashboard/neutron-fwaas-dashboard-stable-queens.tar.gz') %},{% set source = fetch_source('http://tarballs.openstack.org/neutron-fwaas-dashboard/neutron-fwaas-dashboard-master.tar.gz') %},15,15
openstack%2Fglance~master~I67cd8f032cbc4be6469ccb90b9f9a6e552bd963d,openstack/glance,master,I67cd8f032cbc4be6469ccb90b9f9a6e552bd963d,Use oslo_db.sqlalchemy.test_fixtures,MERGED,2018-02-19 16:45:25.000000000,2018-03-21 05:57:29.000000000,2018-03-21 05:57:29.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-02-19 16:45:25.000000000', 'files': ['glance/tests/functional/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/139c93223469ed5c04e5816157047b38f5f22bc9', 'message': 'Use oslo_db.sqlalchemy.test_fixtures\n\nThe change in I25e41fc4103b4eafd3aef2b0a863b2053927edad\nmakes use of oslo_db.tests.*, which was not the intent of the\ndeprecations added to oslo_db in\nI0163e637ffef6d45d2573ebe29b5438911d01fce.   Make use of the\nnewer fixtures in oslo_db.sqlalchemy.test_fixtures which is\nwhat was intended to supersede oslo_db.sqlalchemy.test_base.\n\nChange-Id: I67cd8f032cbc4be6469ccb90b9f9a6e552bd963d\n'}]",0,545878,139c93223469ed5c04e5816157047b38f5f22bc9,16,8,1,11816,,,0,"Use oslo_db.sqlalchemy.test_fixtures

The change in I25e41fc4103b4eafd3aef2b0a863b2053927edad
makes use of oslo_db.tests.*, which was not the intent of the
deprecations added to oslo_db in
I0163e637ffef6d45d2573ebe29b5438911d01fce.   Make use of the
newer fixtures in oslo_db.sqlalchemy.test_fixtures which is
what was intended to supersede oslo_db.sqlalchemy.test_base.

Change-Id: I67cd8f032cbc4be6469ccb90b9f9a6e552bd963d
",git fetch https://review.opendev.org/openstack/glance refs/changes/78/545878/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/functional/db/test_migrations.py'],1,139c93223469ed5c04e5816157047b38f5f22bc9,use_correct_oslodb_fixtures,"from oslo_db.sqlalchemy import enginefacade from oslo_db.sqlalchemy import test_fixtures def setUp(self): super(AlembicMigrationsMixin, self).setUp() self.engine = enginefacade.writer.get_engine() class TestMysqlMigrations(test_fixtures.OpportunisticDBTestMixin, AlembicMigrationsMixin, test_utils.BaseTestCase): FIXTURE = test_fixtures.MySQLOpportunisticFixtureclass TestPostgresqlMigrations(test_fixtures.OpportunisticDBTestMixin, AlembicMigrationsMixin, test_utils.BaseTestCase): FIXTURE = test_fixtures.PostgresqlOpportunisticFixture class TestSqliteMigrations(test_fixtures.OpportunisticDBTestMixin, AlembicMigrationsMixin, test_utils.BaseTestCase):class TestMigrations(test_fixtures.OpportunisticDBTestMixin, test_utils.BaseTestCase): def setUp(self): super(ModelsMigrationSyncMixin, self).setUp() self.engine = enginefacade.writer.get_engine() test_fixtures.OpportunisticDBTestMixin, test_utils.BaseTestCase): FIXTURE = test_fixtures.MySQLOpportunisticFixture test_fixtures.OpportunisticDBTestMixin, test_utils.BaseTestCase): FIXTURE = test_fixtures.PostgresqlOpportunisticFixture test_fixtures.OpportunisticDBTestMixin, test_utils.BaseTestCase):","from oslo_db.tests.sqlalchemy import base as test_baseclass TestMysqlMigrations(test_base.MySQLOpportunisticTestCase, AlembicMigrationsMixin):class TestPostgresqlMigrations(test_base.PostgreSQLOpportunisticTestCase, AlembicMigrationsMixin):class TestSqliteMigrations(test_base.DbTestCase, AlembicMigrationsMixin): pass class TestMigrations(test_base.DbTestCase, test_utils.BaseTestCase): test_base.MySQLOpportunisticTestCase): pass test_base.PostgreSQLOpportunisticTestCase): pass test_base.DbTestCase):",33,15
openstack%2Foslo.middleware~master~I35fb490d34af834182522a856d6ab7e24d0ec678,openstack/oslo.middleware,master,I35fb490d34af834182522a856d6ab7e24d0ec678,Follow the new PTI for document build,MERGED,2018-03-02 02:37:43.000000000,2018-03-21 05:43:21.000000000,2018-03-21 05:43:21.000000000,"[{'_account_id': 6928}, {'_account_id': 9414}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-02 02:37:43.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/f277b8770300e6a0446302528ddcfffeb9d48c0f', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I35fb490d34af834182522a856d6ab7e24d0ec678\n'}]",0,549089,f277b8770300e6a0446302528ddcfffeb9d48c0f,11,4,1,9414,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:

https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:

http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I35fb490d34af834182522a856d6ab7e24d0ec678
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/89/549089/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,f277b8770300e6a0446302528ddcfffeb9d48c0f,updated-pti,deps = -r{toxinidir}/doc/requirements.txt commands = sphinx-build -W -b html doc/source doc/build/htmldeps = -r{toxinidir}/doc/requirements.txt,commands = python setup.py build_sphinx,11,4
openstack%2Ftacker~master~I287cd9979a8bf19d12757d2e7b7d6716e9b0339e,openstack/tacker,master,I287cd9979a8bf19d12757d2e7b7d6716e9b0339e,Updated from global requirements,MERGED,2018-03-20 14:22:36.000000000,2018-03-21 05:42:56.000000000,2018-03-21 05:42:56.000000000,"[{'_account_id': 2874}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 14:22:36.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/tacker/commit/379e9399749b2d5d1da8d5e0034ddcbd3d9d8edd', 'message': 'Updated from global requirements\n\nChange-Id: I287cd9979a8bf19d12757d2e7b7d6716e9b0339e\n'}]",0,554563,379e9399749b2d5d1da8d5e0034ddcbd3d9d8edd,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I287cd9979a8bf19d12757d2e7b7d6716e9b0339e
",git fetch https://review.opendev.org/openstack/tacker refs/changes/63/554563/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,379e9399749b2d5d1da8d5e0034ddcbd3d9d8edd,openstack/requirements,"# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later.",,3,0
openstack%2Fcongress~master~I033cf5017122a4d38c7d1eae0713ba4a29722cb9,openstack/congress,master,I033cf5017122a4d38c7d1eae0713ba4a29722cb9,Remove prepush_processor dead code,MERGED,2018-03-16 03:37:57.000000000,2018-03-21 05:28:47.000000000,2018-03-21 05:28:47.000000000,"[{'_account_id': 11278}, {'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 03:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/a8aa6e00b38801296807956dee67d386927bcc09', 'message': 'Remove prepush_processor dead code\n\nLeftover code from DSE1. No longer used at all in DSE2.\n\nChange-Id: I033cf5017122a4d38c7d1eae0713ba4a29722cb9\n'}, {'number': 2, 'created': '2018-03-16 06:09:33.000000000', 'files': ['congress/policy_engines/agnostic.py', 'congress/datasources/datasource_driver.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/08bfb120cf289159bfff810bdd1d28324961f260', 'message': 'Remove prepush_processor dead code\n\nLeftover code from DSE1. No longer used at all in DSE2.\n\nChange-Id: I033cf5017122a4d38c7d1eae0713ba4a29722cb9\n'}]",0,553676,08bfb120cf289159bfff810bdd1d28324961f260,11,3,2,18591,,,0,"Remove prepush_processor dead code

Leftover code from DSE1. No longer used at all in DSE2.

Change-Id: I033cf5017122a4d38c7d1eae0713ba4a29722cb9
",git fetch https://review.opendev.org/openstack/congress refs/changes/76/553676/2 && git format-patch -1 --stdout FETCH_HEAD,"['congress/policy_engines/agnostic.py', 'congress/datasources/datasource_driver.py']",2,a8aa6e00b38801296807956dee67d386927bcc09,, # publishing full table and using differential processing in # data_service to send," def prepush_processor(self, data, dataindex, type=None): """"""Called before push. Takes as input the DATA that the receiver needs and returns the payload for the message. If this is a regular publication message, make the payload just the delta; otherwise, make the payload the entire table. """""" # This routine basically ignores DATA and sends a delta # of the self.prior_state and self.state, for the DATAINDEX # part of the state. self.log(""prepush_processor: dataindex <%s> data: %s"", dataindex, data) # if not a regular publication, just return the original data if type != 'pub': self.log(""prepush_processor: returned original data"") if type == 'sub': # Always want to send initialization of [] if data is None: return [] else: return data return data # grab deltas to_add = self.state_set_diff(self.state, self.prior_state, dataindex) to_del = self.state_set_diff(self.prior_state, self.state, dataindex) self.log(""to_add: %s"", to_add) self.log(""to_del: %s"", to_del) # create Events result = [] for row in to_add: formula = compile.Literal.create_from_table_tuple(dataindex, row) event = compile.Event(formula=formula, insert=True) result.append(event) for row in to_del: formula = compile.Literal.create_from_table_tuple(dataindex, row) event = compile.Event(formula=formula, insert=False) result.append(event) if len(result) == 0: # Policy engine expects an empty update to be an init msg # So if delta is empty, return None, which signals # the message should not be sent. result = None text = ""None"" else: text = utility.iterstr(result) self.log(""prepush_processor for <%s> returning with %s items"", dataindex, text) return result # publishing full table and using prepush_processing to send",2,84
openstack%2Fswift~feature%2Fdeep~I15b58529f641fac009dff167ff7fa6f37abda2d6,openstack/swift,feature/deep,I15b58529f641fac009dff167ff7fa6f37abda2d6,Clean up stats dumped to recon cache and logged,MERGED,2018-03-19 20:56:47.000000000,2018-03-21 05:27:56.000000000,2018-03-21 05:27:55.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 20:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7c3378e4d1364c198e8bcfc32e8cf3a9db1e4e71', 'message': 'WIP Clean up stats dumped to recon cache\n\nTODO: unit tests need updating\n\n- use container.recon file by default\n- dump sharding_last, sharding_time and sharding_stats keys\n- sharding_stats dict includes all inherited replicator stats\n  plus sharder stats\n- clean up which stats are updated where in sharder cycle\n- log stats for each phase of a sharder cycle on separate line\n\nChange-Id: I15b58529f641fac009dff167ff7fa6f37abda2d6\n'}, {'number': 2, 'created': '2018-03-20 22:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/396af60787b26bb58efb6de53d7c5b8b0c69c811', 'message': 'Clean up stats dumped to recon cache and logged\n\n- use container.recon file by default\n- dump sharding_last, sharding_time and sharding_stats keys\n- sharding_stats dict includes all inherited replicator stats\n  plus sharder stats\n- clean up which stats are updated where in sharder cycle\n- log stats for each phase of a sharder cycle on separate line\n\nChange-Id: I15b58529f641fac009dff167ff7fa6f37abda2d6\n'}, {'number': 3, 'created': '2018-03-20 22:28:57.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2cdcfbf7a5684249b9e43888c6c4909344064900', 'message': 'Clean up stats dumped to recon cache and logged\n\n- use container.recon file by default\n- dump sharding_last, sharding_time and sharding_stats keys\n- sharding_stats dict includes all inherited replicator stats\n  plus sharder stats\n- clean up which stats are updated where in sharder cycle\n- log stats for each phase of a sharder cycle on separate line\n\nChange-Id: I15b58529f641fac009dff167ff7fa6f37abda2d6\n'}]",8,554358,2cdcfbf7a5684249b9e43888c6c4909344064900,9,2,3,7847,,,0,"Clean up stats dumped to recon cache and logged

- use container.recon file by default
- dump sharding_last, sharding_time and sharding_stats keys
- sharding_stats dict includes all inherited replicator stats
  plus sharder stats
- clean up which stats are updated where in sharder cycle
- log stats for each phase of a sharder cycle on separate line

Change-Id: I15b58529f641fac009dff167ff7fa6f37abda2d6
",git fetch https://review.opendev.org/openstack/swift refs/changes/58/554358/3 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/sharder.py'],1,7c3378e4d1364c198e8bcfc32e8cf3a9db1e4e71,p-sharding-recon,"from collections import defaultdict # all sharding stats that are additional to the inherited replicator # stats are maintained under the 'sharding' key in self.stats self.stats['sharding'] = defaultdict(lambda: defaultdict(int)) def _min_max_stat(self, category, key, value): current = self.stats['sharding'][category][key] if not current: self.stats['sharding'][category][key] = (value, value) else: self.stats['sharding'][category][key] = (min(current[0], value), max(current[1], value)) def _increment_stat(self, category, key, step=1): self.stats['sharding'][category][key] += step default_stats = ('attempted', 'success', 'failure') category_stats = { 'visited': default_stats + ('skipped',), 'scanned': default_stats + ('found', 'time'), 'created': default_stats, 'cleaved': default_stats + ('time',), 'misplaced': default_stats} now = time.time() last_report = time.ctime(self.reported) elapsed = now - self.stats['start'] sharding_stats = self.stats['sharding'] for category in ( 'visited', 'scanned', 'created', 'cleaved', 'misplaced'): stats = sharding_stats[category] msg = ', '.join(['%s %s' % (str(stats[k]), k) for k in category_stats[category]]) self.logger.info( 'Since %s: %s: %s', last_report, category, msg) dump_recon_cache( {'sharding_stats': self.stats, 'sharding_time': elapsed, 'sharding_last': now}, self.rcache, self.logger) self.reported = now self._report_stats() self._zero_stats() self._increment_stat('misplaced', 'success') self._increment_stat('audit', 'failure') self._increment_stat('audit', 'failure') self._increment_stat('audit', 'failure') self._increment_stat('audit', 'failure') begin = time.time() self._zero_stats() self._increment_stat('visited', 'attempted') self._increment_stat('visited', 'failure') else: self._increment_stat('visited', 'success') else: self._increment_stat('visited', 'skipped') self._periodic_report_stats() self._report_stats() elapsed = time.time() - begin self.logger.info( 'Finished container sharding cycle (%.02f seconds).', elapsed) self._increment_stat('scanned', 'attempted') start = time.time() elapsed = time.time() - start self._increment_stat('scanned', 'failure') num_found = len(shard_ranges) ""Completed scan for shard ranges: %d found"", num_found) self._increment_stat('scanned', 'found', step=num_found) self._min_max_stat('scanned', 'time', elapsed / num_found) self._increment_stat('scanned', 'success') return last_found, num_found self._increment_stat('created', 'attempted') self._increment_stat('created', 'success') self._increment_stat('created', 'failure') self._increment_stat('cleaved', 'attempted') start = time.time() self._increment_stat('cleaved', 'failure') self._increment_stat('cleaved', 'success') self._min_max_stat('cleaved', 'time', time.time() - start) self.logger.exception('Exception in sharder') self.reported = time.time()"," self.rcache = os.path.join(self.recon_cache_path, ""container-sharder.recon"") # TODO check that none of the replicator stats are useful self.stats.update({ 'containers_scanned': 0, 'containers_sharded': 0, 'containers_shrunk': 0, 'container_shard_ranges': 0, 'containers_misplaced': 0, 'containers_audit_failed': 0, 'containers_failed': 0, }) stats = self.stats stats['since'] = time.ctime(self.reported) self.logger.info( 'Since %(since)s Stats: %(containers_scanned)s scanned, ' '%(containers_sharded)s sharded, ' '%(containers_shrunk)s shrunk, ' '%(container_shard_ranges)s shard ranges found, ' '%(containers_misplaced)s contained misplaced items, ' '%(containers_audit_failed)s failed audit, ' '%(containers_failed)s containers failed.', stats) dump_recon_cache(stats, self.rcache, self.logger) self._zero_stats() self.reported = time.time() return self._report_stats() self.stats['containers_misplaced'] += 1 self.stats['containers_failed'] += 1 self.stats['containers_audit_failed'] += 1 self.stats['containers_failed'] += 1 self.stats['containers_audit_failed'] += 1 self.stats['containers_failed'] += 1 self.stats['containers_audit_failed'] += 1 self.stats['containers_failed'] += 1 self.stats['containers_audit_failed'] += 1 self.stats['containers_scanned'] += 1 self._periodic_report_stats() else: self.logger.info('Finished container sharding pass') ""Completed scan for shard ranges: %d found"", len(shard_ranges)) return last_found, len(shard_ranges) self.stats['containers_failed'] += 1 self.stats['containers_sharded'] += 1 self._zero_stats() self.logger.exception('ERROR sharding') self.logger.info( 'Container sharder cycle completed: %.02fs', elapsed) dump_recon_cache({'container_sharder_cycle_completed': elapsed}, self.rcache, self.logger) self._report_stats() self._zero_stats() begin = self.reported = time.time() elapsed = time.time() - begin self.logger.info( 'Container sharder ""once"" mode completed: %.02fs', elapsed) # TODO: why's the stat order different compared to above? self._report_stats() dump_recon_cache({'container_sharder_cycle_completed': elapsed}, self.rcache, self.logger)",82,59
openstack%2Fzun~master~I241aa3103858705b445efc7f21bc7529650f4171,openstack/zun,master,I241aa3103858705b445efc7f21bc7529650f4171,Support the option volume_binds of docker run,NEW,2017-10-14 08:11:23.000000000,2018-03-21 05:00:23.000000000,,"[{'_account_id': 3}, {'_account_id': 11536}, {'_account_id': 16277}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2017-10-14 08:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/5eaaa696e0872986655ae4653c9a12f4c04be851', 'message': 'Support the option volume_binds of docker run\n\nChange-Id: I241aa3103858705b445efc7f21bc7529650f4171\nImplements: blueprint support-volume-binds\n'}, {'number': 2, 'created': '2017-11-02 10:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/979e08a0c9287e5d15ff993b50b28fab1d56c42b', 'message': 'Support the option volume_binds of docker run\n\nChange-Id: I241aa3103858705b445efc7f21bc7529650f4171\nImplements: blueprint support-volume-binds\n'}, {'number': 3, 'created': '2017-11-02 10:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c4169f1b02d5bcb718d078524aa835daceaff087', 'message': 'Support the option volume_binds of docker run\n\nChange-Id: I241aa3103858705b445efc7f21bc7529650f4171\nImplements: blueprint support-volume-binds\n'}, {'number': 4, 'created': '2017-11-02 11:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/64ec3fc51a2d5af0fb3309e79f622ce9f9af2711', 'message': 'Support the option volume_binds of docker run\n\nChange-Id: I241aa3103858705b445efc7f21bc7529650f4171\nImplements: blueprint support-volume-binds\n'}, {'number': 5, 'created': '2017-11-15 05:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/4474645efbada4de7726271727b5d406875c5167', 'message': 'Support the option volume_binds of docker run\n\nChange-Id: I241aa3103858705b445efc7f21bc7529650f4171\nImplements: blueprint support-volume-binds\n'}, {'number': 6, 'created': '2017-11-18 08:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c422161fcb8e0181a1058c4fd095386427217da1', 'message': 'Support the option volume_binds of docker run\n\nChange-Id: I241aa3103858705b445efc7f21bc7529650f4171\nImplements: blueprint support-volume-binds\n'}, {'number': 7, 'created': '2017-12-06 06:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/4cecc43f05f7c0a45c83d6635dc0ebab0aab3050', 'message': 'Support the option volume_binds of docker run\n\nChange-Id: I241aa3103858705b445efc7f21bc7529650f4171\nImplements: blueprint support-volume-binds\n'}, {'number': 8, 'created': '2017-12-12 08:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/283e6cc951993075a095f7a2a74f95b7a1280914', 'message': 'Support the option volume_binds of docker run\n\nChange-Id: I241aa3103858705b445efc7f21bc7529650f4171\nImplements: blueprint support-volume-binds\n'}, {'number': 9, 'created': '2017-12-16 02:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c4bce90a54aa792db8d8c90d5c960e81a2af709b', 'message': 'Support the option volume_binds of docker run\n\nChange-Id: I241aa3103858705b445efc7f21bc7529650f4171\nImplements: blueprint support-volume-binds\n'}, {'number': 10, 'created': '2017-12-16 03:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/92e83aefecdaaebb881e865820b482a01813b03e', 'message': 'Support the option volume_binds of docker run\n\nChange-Id: I241aa3103858705b445efc7f21bc7529650f4171\nImplements: blueprint support-volume-binds\n'}, {'number': 11, 'created': '2017-12-16 03:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/7fa35fb4264808f885d89968d086ebb6fc12bff6', 'message': 'Support the option volume_binds of docker run\n\nChange-Id: I241aa3103858705b445efc7f21bc7529650f4171\nImplements: blueprint support-volume-binds\n'}, {'number': 12, 'created': '2018-01-24 06:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/724ec4e95d257fb680f365de32ea4ae12467d21f', 'message': 'Support the option volume_binds of docker run\n\nChange-Id: I241aa3103858705b445efc7f21bc7529650f4171\nImplements: blueprint support-volume-binds\n'}, {'number': 13, 'created': '2018-02-02 09:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ed56439387d818697b7147456f887154bcb94a33', 'message': 'Support the option volume_binds of docker run\n\nChange-Id: I241aa3103858705b445efc7f21bc7529650f4171\nImplements: blueprint support-volume-binds\n'}, {'number': 14, 'created': '2018-02-02 09:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/5797c3767896869efa622875e6d92d3fdfc5090e', 'message': 'Support the option volume_binds of docker run\n\nChange-Id: I241aa3103858705b445efc7f21bc7529650f4171\nImplements: blueprint support-volume-binds\n'}, {'number': 15, 'created': '2018-03-21 02:55:09.000000000', 'files': ['zun/common/utils.py', 'zun/tests/unit/compute/test_compute_manager.py', 'zun/common/policies/container.py', 'zun/api/validation/parameter_types.py', 'zun/container/docker/driver.py', 'zun/conf/volume.py', 'zun/compute/manager.py', 'zun/tests/unit/api/controllers/v1/test_containers.py', 'zun/api/controllers/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/e06d155bf48d9e7af873e09e68f1bdb2ee9f1ed0', 'message': 'Support the option volume_binds of docker run\n\nChange-Id: I241aa3103858705b445efc7f21bc7529650f4171\nImplements: blueprint support-volume-binds\n'}]",1,512000,e06d155bf48d9e7af873e09e68f1bdb2ee9f1ed0,46,5,15,23365,,,0,"Support the option volume_binds of docker run

Change-Id: I241aa3103858705b445efc7f21bc7529650f4171
Implements: blueprint support-volume-binds
",git fetch https://review.opendev.org/openstack/zun refs/changes/00/512000/11 && git format-patch -1 --stdout FETCH_HEAD,"['zun/db/sqlalchemy/alembic/versions/9b874eef1029_add_volume_binds.py', 'zun/tests/unit/db/utils.py', 'zun/db/sqlalchemy/models.py', 'zun/api/controllers/v1/schemas/containers.py', 'zun/api/controllers/v1/views/containers_view.py', 'zun/container/docker/driver.py', 'zun/objects/container.py', 'zun/tests/unit/container/docker/test_docker_driver.py', 'zun/common/validation/parameter_types.py', 'zun/tests/unit/objects/test_objects.py']",10,5eaaa696e0872986655ae4653c9a12f4c04be851,bp/support-volume-binds," 'Container': '1.23-6e80833c3691a04464c23b0d6324f613',"," 'Container': '1.22-ce965ef78647d4d20dd7c60b2eb1c19a',",55,3
openstack%2Ftrove~master~I31f1f97901d6ebff8a91c1b70a343e724ab806eb,openstack/trove,master,I31f1f97901d6ebff8a91c1b70a343e724ab806eb,Fix guestagent.test_operating_system for Python3,MERGED,2018-02-24 07:53:11.000000000,2018-03-21 04:30:27.000000000,2018-03-21 04:30:27.000000000,"[{'_account_id': 5293}, {'_account_id': 13157}, {'_account_id': 13562}, {'_account_id': 22348}, {'_account_id': 22608}, {'_account_id': 22694}, {'_account_id': 22818}, {'_account_id': 24739}, {'_account_id': 24791}, {'_account_id': 25113}, {'_account_id': 26895}]","[{'number': 1, 'created': '2018-02-24 07:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3f9205fbb8ac9fcda02642b8fe53e3084eb80640', 'message': 'Fix guestagent.test_operating_system for Python3\n\n* Tests for _write_file_as_root failed because tempfile.NamedTemporaryFile\n  use binary mode by default, changing to text mode fixes.\n* Migrate to olso_serialization.base64 for Base64Codec. Also change the\n  return value from bytearray to bytes for Base64Codec.deserialize.\n  Base64Codec supports reverse encoding(i.e. binary data will be written\n  to the dest file), in this situation, the dest file should be opened\n  with binary mode(and when reading from the file, binary mode should\n  also be used).\n* stream_codecs.StringConverter converts iterable objects with map\n  function. The behavior of map function is different under Python 2.x\n  and 3.x. However csv.writerows(before Python 3.5) and unpack_singleton in\n  trove.common.utils both need a list object. Converting the return\n  value of map function to a list explicitly before passing to these\n  functions fixes.\n\nguestagent.test_operating_system is the last blacklist regex pattern for\npy3 unittests. With the above problems fixed, blacklist-py3.txt is not\nneeded any more, and tox.ini is also updateted.\n\nMigrating from ostestr to stestr is also done while updating tox.ini.\nHere is the ML post for more information about os-testr and stestr:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-September/122135.html\n\nPartially implements: blueprint trove-python3\n\nChange-Id: I31f1f97901d6ebff8a91c1b70a343e724ab806eb\nSigned-off-by: Zhao Chao <zhaochao1984@gmail.com>\n'}, {'number': 2, 'created': '2018-03-01 02:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/3c498bf97880379bc7f7d55f4fe7b8d69d36aa3d', 'message': 'Fix guestagent.test_operating_system for Python3\n\n* Tests for _write_file_as_root failed because tempfile.NamedTemporaryFile\n  use binary mode by default, changing to text mode fixes.\n* Migrate to olso_serialization.base64 for Base64Codec. Also change the\n  return value from bytearray to bytes for Base64Codec.deserialize.\n  Base64Codec supports reverse encoding(i.e. binary data will be written\n  to the dest file), in this situation, the dest file should be opened\n  with binary mode(and when reading from the file, binary mode should\n  also be used).\n* stream_codecs.StringConverter converts iterable objects with map\n  function. The behavior of map function is different under Python 2.x\n  and 3.x. However csv.writerows(before Python 3.5) and unpack_singleton in\n  trove.common.utils both need a list object. Converting the return\n  value of map function to a list explicitly before passing to these\n  functions fixes.\n\nguestagent.test_operating_system is the last blacklist regex pattern for\npy3 unittests. With the above problems fixed, blacklist-py3.txt is not\nneeded any more, and tox.ini is also updateted.\n\nMigrating from ostestr to stestr is also done while updating tox.ini.\nHere is the ML post for more information about os-testr and stestr:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-September/122135.html\n\nPartially implements: blueprint trove-python3\n\nChange-Id: I31f1f97901d6ebff8a91c1b70a343e724ab806eb\nSigned-off-by: Zhao Chao <zhaochao1984@gmail.com>\n'}, {'number': 3, 'created': '2018-03-01 02:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6a469562f0bf4c02a98ac790379411ffb973b749', 'message': 'Fix guestagent.test_operating_system for Python3\n\n* Tests for _write_file_as_root failed because tempfile.NamedTemporaryFile\n  use binary mode by default, changing to text mode fixes.\n* Migrate to olso_serialization.base64 for Base64Codec. Also change the\n  return value from bytearray to bytes for Base64Codec.deserialize.\n  Base64Codec supports reverse encoding(i.e. binary data will be written\n  to the dest file), in this situation, the dest file should be opened\n  with binary mode(and when reading from the file, binary mode should\n  also be used).\n* stream_codecs.StringConverter converts iterable objects with map\n  function. The behavior of map function is different under Python 2.x\n  and 3.x. However csv.writerows(before Python 3.5) and unpack_singleton in\n  trove.common.utils both need a list object. Converting the return\n  value of map function to a list explicitly before passing to these\n  functions fixes.\n\nguestagent.test_operating_system is the last blacklist regex pattern for\npy3 unittests. With the above problems fixed, blacklist-py3.txt is not\nneeded any more, and tox.ini is also updateted.\n\nMigrating from ostestr to stestr is also done while updating tox.ini.\nHere is the ML post for more information about os-testr and stestr:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-September/122135.html\n\nPartially implements: blueprint trove-python3\n\nChange-Id: I31f1f97901d6ebff8a91c1b70a343e724ab806eb\nSigned-off-by: Zhao Chao <zhaochao1984@gmail.com>\n'}, {'number': 4, 'created': '2018-03-01 02:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e202e0f46b23e12ba3ab566123f4514a11c813b2', 'message': 'Fix guestagent.test_operating_system for Python3\n\n* Tests for _write_file_as_root failed because tempfile.NamedTemporaryFile\n  use binary mode by default, changing to text mode fixes.\n* Migrate to olso_serialization.base64 for Base64Codec. Also change the\n  return value from bytearray to bytes for Base64Codec.deserialize.\n  Base64Codec supports reverse encoding(i.e. binary data will be written\n  to the dest file), in this situation, the dest file should be opened\n  with binary mode(and when reading from the file, binary mode should\n  also be used).\n* stream_codecs.StringConverter converts iterable objects with map\n  function. The behavior of map function is different under Python 2.x\n  and 3.x. However csv.writerows(before Python 3.5) and unpack_singleton in\n  trove.common.utils both need a list object. Converting the return\n  value of map function to a list explicitly before passing to these\n  functions fixes.\n\nguestagent.test_operating_system is the last blacklist regex pattern for\npy3 unittests. With the above problems fixed, blacklist-py3.txt is not\nneeded any more, and tox.ini is also updateted.\n\nMigrating from ostestr to stestr is also done while updating tox.ini.\nHere is the ML post for more information about os-testr and stestr:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-September/122135.html\n\nPartially implements: blueprint trove-python3\n\nChange-Id: I31f1f97901d6ebff8a91c1b70a343e724ab806eb\nSigned-off-by: Zhao Chao <zhaochao1984@gmail.com>\n'}, {'number': 5, 'created': '2018-03-01 02:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/98a083ffb73368fbcb587c00a776aae3ef2c8c07', 'message': 'Fix guestagent.test_operating_system for Python3\n\n* Tests for _write_file_as_root failed because tempfile.NamedTemporaryFile\n  use binary mode by default, changing to text mode fixes.\n* Migrate to olso_serialization.base64 for Base64Codec. Also change the\n  return value from bytearray to bytes for Base64Codec.deserialize.\n  Base64Codec supports reverse encoding(i.e. binary data will be written\n  to the dest file), in this situation, the dest file should be opened\n  with binary mode(and when reading from the file, binary mode should\n  also be used).\n* stream_codecs.StringConverter converts iterable objects with map\n  function. The behavior of map function is different under Python 2.x\n  and 3.x. However csv.writerows(before Python 3.5) and unpack_singleton in\n  trove.common.utils both need a list object. Converting the return\n  value of map function to a list explicitly before passing to these\n  functions fixes.\n\nguestagent.test_operating_system is the last blacklist regex pattern for\npy3 unittests. With the above problems fixed, blacklist-py3.txt is not\nneeded any more, and tox.ini is also updateted.\n\nMigrating from ostestr to stestr is also done while updating tox.ini.\nHere is the ML post for more information about os-testr and stestr:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-September/122135.html\n\nPartially implements: blueprint trove-python3\n\nChange-Id: I31f1f97901d6ebff8a91c1b70a343e724ab806eb\nSigned-off-by: Zhao Chao <zhaochao1984@gmail.com>\n'}, {'number': 6, 'created': '2018-03-01 02:53:24.000000000', 'files': ['trove/common/crypto_utils.py', 'trove/guestagent/common/operating_system.py', 'blacklist-py3.txt', '.testr.conf', 'trove/common/stream_codecs.py', 'trove/tests/unittests/guestagent/test_operating_system.py', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/trove/commit/8ce9d735d25d209a747b8f29c614236b74f95591', 'message': 'Fix guestagent.test_operating_system for Python3\n\n* Tests for _write_file_as_root failed because tempfile.NamedTemporaryFile\n  use binary mode by default, changing to text mode fixes.\n* Migrate to olso_serialization.base64 for Base64Codec. Also change the\n  return value from bytearray to bytes for Base64Codec.deserialize.\n  Base64Codec supports reverse encoding(i.e. binary data will be written\n  to the dest file), in this situation, the dest file should be opened\n  with binary mode(and when reading from the file, binary mode should\n  also be used).\n* stream_codecs.StringConverter converts iterable objects with map\n  function. The behavior of map function is different under Python 2.x\n  and 3.x. However csv.writerows(before Python 3.5) and unpack_singleton in\n  trove.common.utils both need a list object. Converting the return\n  value of map function to a list explicitly before passing to these\n  functions fixes.\n\nguestagent.test_operating_system is the last blacklist regex pattern for\npy3 unittests. With the above problems fixed, blacklist-py3.txt is not\nneeded any more, and tox.ini is also updateted.\n\nMigrating from ostestr to stestr is also done while updating tox.ini.\nHere is the ML post for more information about os-testr and stestr:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-September/122135.html\n\nPartially implements: blueprint trove-python3\n\nChange-Id: I31f1f97901d6ebff8a91c1b70a343e724ab806eb\nSigned-off-by: Zhao Chao <zhaochao1984@gmail.com>\n'}]",28,547724,8ce9d735d25d209a747b8f29c614236b74f95591,26,11,6,13157,,,0,"Fix guestagent.test_operating_system for Python3

* Tests for _write_file_as_root failed because tempfile.NamedTemporaryFile
  use binary mode by default, changing to text mode fixes.
* Migrate to olso_serialization.base64 for Base64Codec. Also change the
  return value from bytearray to bytes for Base64Codec.deserialize.
  Base64Codec supports reverse encoding(i.e. binary data will be written
  to the dest file), in this situation, the dest file should be opened
  with binary mode(and when reading from the file, binary mode should
  also be used).
* stream_codecs.StringConverter converts iterable objects with map
  function. The behavior of map function is different under Python 2.x
  and 3.x. However csv.writerows(before Python 3.5) and unpack_singleton in
  trove.common.utils both need a list object. Converting the return
  value of map function to a list explicitly before passing to these
  functions fixes.

guestagent.test_operating_system is the last blacklist regex pattern for
py3 unittests. With the above problems fixed, blacklist-py3.txt is not
needed any more, and tox.ini is also updateted.

Migrating from ostestr to stestr is also done while updating tox.ini.
Here is the ML post for more information about os-testr and stestr:

http://lists.openstack.org/pipermail/openstack-dev/2017-September/122135.html

Partially implements: blueprint trove-python3

Change-Id: I31f1f97901d6ebff8a91c1b70a343e724ab806eb
Signed-off-by: Zhao Chao <zhaochao1984@gmail.com>
",git fetch https://review.opendev.org/openstack/trove refs/changes/24/547724/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove/common/crypto_utils.py', 'trove/guestagent/common/operating_system.py', 'blacklist-py3.txt', '.testr.conf', 'trove/common/stream_codecs.py', 'trove/tests/unittests/guestagent/test_operating_system.py', 'tox.ini', '.stestr.conf']",8,3f9205fbb8ac9fcda02642b8fe53e3084eb80640,bp/trove-python3,test_path=${OS_TEST_PATH:-./trove/tests/unittests} top_dir=./ ,test_path=${OS_TEST_PATH:-./trove/tests} top_dir=./,85,69
openstack%2Fpython-manilaclient~master~Ib11281434ac9c4d33aeb2603f5d65b446b73f5fb,openstack/python-manilaclient,master,Ib11281434ac9c4d33aeb2603f5d65b446b73f5fb,add os-testr to test-requirements,MERGED,2018-03-20 19:17:45.000000000,2018-03-21 04:24:26.000000000,2018-03-21 04:24:25.000000000,"[{'_account_id': 6413}, {'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 17780}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-03-20 19:17:45.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/946993c0b005c581b734ed916838d60807f8a868', 'message': 'add os-testr to test-requirements\n\nUnit tests are failing without it.\n\nTrivial-Fix\n\nChange-Id: Ib11281434ac9c4d33aeb2603f5d65b446b73f5fb\n'}]",0,554669,946993c0b005c581b734ed916838d60807f8a868,11,8,1,9003,,,0,"add os-testr to test-requirements

Unit tests are failing without it.

Trivial-Fix

Change-Id: Ib11281434ac9c4d33aeb2603f5d65b446b73f5fb
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/69/554669/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,946993c0b005c581b734ed916838d60807f8a868,,os-testr>=1.0.0 # Apache-2.0,,1,0
openstack%2Ftripleo-upgrade~master~Iae680d97eeef52b9145c290b0b988cb267af3b3d,openstack/tripleo-upgrade,master,Iae680d97eeef52b9145c290b0b988cb267af3b3d,New major upgrade workflow implementation.,MERGED,2018-02-27 16:32:40.000000000,2018-03-21 04:16:27.000000000,2018-03-21 04:16:27.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 16515}, {'_account_id': 18851}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-02-27 16:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0f3b949f4fed4777e8c759c274cd65697b94f470', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades\nworkflow to upgrade to Queens into the\nrole.\n\nAll containers preparation and downloading\ntasks have been moved out of the upgrade\nplaybook, so it becomes a pre-requisite to\nhave uploaded the right containers before\nupgrading using this role.\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 2, 'created': '2018-02-27 16:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/cd047d2bf0565bfa4c96147f4f00799bfb49ac2c', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades\nworkflow to upgrade to Queens into the\nrole.\n\nAll containers preparation and downloading\ntasks have been moved out of the upgrade\nplaybook, so it becomes a pre-requisite to\nhave uploaded the right containers before\nupgrading using this role.\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 3, 'created': '2018-02-28 11:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/18c442002fb6c648f1b208073cc02dc5179b2e03', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades\nworkflow to upgrade to Queens into the\nrole.\n\nAll containers preparation and downloading\ntasks have been moved out of the upgrade\nplaybook, so it becomes a pre-requisite to\nhave uploaded the right containers before\nupgrading using this role.\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 4, 'created': '2018-02-28 17:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/95c3c0c3540e81decb5ae4af8e9033c05f7eaebe', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to upgrade to Queens into the\ntripleo-upgrade role. A overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which will be run later via\nas many scripts as roles in the environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the downloaded playbooks is\nexecuted.\n\nAll containers preparation and downloading tasks have been moved out of the upgrade\nplaybook, so it becomes a pre-requisite to have uploaded the right containers before\nupgrading using this role.\n\nAll this new workflow is based on the steps defined in [0]\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 5, 'created': '2018-02-28 17:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0331b793cc4afdb49a24f24e32945fee8f29ed4b', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to upgrade to Queens into the\ntripleo-upgrade role. A overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which will be run later via\nas many scripts as roles in the environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the downloaded playbooks is\nexecuted.\n\nAll containers preparation and downloading tasks have been moved out of the\nupgrade playbook, so it becomes a pre-requisite to have uploaded the right\ncontainers before upgrading using this role.\n\nAll this new workflow is based on the steps defined in [0]\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 6, 'created': '2018-02-28 17:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/76def93661de4ba8184375acf8f057717ef6c688', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 7, 'created': '2018-03-01 07:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/405b95080ffd0edd2323422974af2ca0019f9799', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 8, 'created': '2018-03-01 10:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9f9dad81b9827207efbd16c4f7645970530234e2', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 9, 'created': '2018-03-02 15:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/dddbcaee002a1485366561acb5fd0d2c9669d6e0', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 10, 'created': '2018-03-02 22:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/dc8d9df37329b2126e8abb26e4b0029ae9ca05c5', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 11, 'created': '2018-03-06 14:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d2e6f0c9860919329ac37bc2622d3a6bea694c85', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 12, 'created': '2018-03-06 15:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b1b4f2ee00e2d0e4c530193bc09e91596bf81cc1', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 13, 'created': '2018-03-06 15:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1d476a441e515bb7c5d22be2bfb1f4247255ec0f', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 14, 'created': '2018-03-06 17:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/64ba3b839e0404670af523cc84d73e02728cb2ff', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 15, 'created': '2018-03-06 17:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8755426be941538443807a20502033674218e04d', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 16, 'created': '2018-03-06 23:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2070a16e7fe544935f0bdc7fa8bdfcc129a01fb1', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 17, 'created': '2018-03-07 16:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b2f53b4c4ec7f94a43c504b96ada7b3c229900b8', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 18, 'created': '2018-03-08 10:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/068163b93c2cfe706b2ec5d2042f520c2475814b', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 19, 'created': '2018-03-08 10:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8aefb9a4f93637c92861240a5075551410926662', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 20, 'created': '2018-03-08 10:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/570ca317e1f9fea8223ce8bad0689d92328ad8b7', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 21, 'created': '2018-03-09 08:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/914d227df659a399f8a23ae09669c523618bf64c', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 22, 'created': '2018-03-12 08:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/432640610b82ed72d2af2026dba47e00babf1a90', 'message': 'WIP: New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 23, 'created': '2018-03-12 16:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/08265ec5c35b4bcd95e5d0e962e1f3dcb6885fee', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 24, 'created': '2018-03-13 01:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/be4774cb1bd455fed708f3d1e344794e2e65f159', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 25, 'created': '2018-03-13 06:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c0accd3071dc3f29aa3ebb710ef395858e3ee02d', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 26, 'created': '2018-03-13 14:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/677197815f3bf58ccb04c9dcdffded6dbd45261b', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 27, 'created': '2018-03-13 21:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c5d6d562e9d3b5f7c3f0b65b139162dab6efc7ed', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 28, 'created': '2018-03-14 13:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/84f2476ca90c702b022e80a2d41402fba04c8152', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 29, 'created': '2018-03-14 14:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e9ea473bf04b3feed944ce24b4353f7ed0b99c79', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 30, 'created': '2018-03-14 15:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e5ebcb6da0700243a8ee311492868f85396a4d31', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 31, 'created': '2018-03-19 08:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d24fb323bfa18f608373a2480831e8af213e76df', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 32, 'created': '2018-03-19 09:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/38b082ac2b6c0673fe2d4ceefd5416e84516ca5e', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 33, 'created': '2018-03-20 06:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/21c2ba7f08699b73d19f3d1516611cc909740c54', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}, {'number': 34, 'created': '2018-03-20 16:07:39.000000000', 'files': ['tasks/common/convert_roles_data.yaml', 'tasks/upgrade/docker_converge_upgrade.yml', 'templates/download_images.sh.j2', 'tasks/upgrade/overcloud_upgrade_run.yml', 'tasks/upgrade/docker_composable_upgrade.yml', 'defaults/main.yml', 'README.md', 'templates/overcloud_upgrade_run.sh.j2', 'templates/overcloud_upgrade_prepare.sh.j2', 'tasks/upgrade/main.yml', 'tasks/upgrade/overcloud_upgrade_converge.yml', 'tasks/upgrade/overcloud_upgrade_prepare.yml', 'templates/create_registry_env.sh.j2', 'templates/dpdk-upgrade-env.yaml.j2', 'tasks/upgrade/create-upgrade-scripts.yaml', 'templates/overcloud_upgrade_converge.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/799eea86d53577be885791cfb3f3e191420d7b65', 'message': 'New major upgrade workflow implementation.\n\nThis patch includes the new upgrades workflow to\nupgrade to Queens into the tripleo-upgrade role.\nA overcloud_upgrade_prepare.sh script will be run\nto get the HEAT outputs into Ansible playbooks which\nwill be run later via as many scripts as roles in\nthe environment (Controller, Compute, etc...).\nIn each of these scripts the command to run the\ndownloaded playbooks is executed.\n\nAll containers preparation and downloading tasks\nhave been moved out of the upgrade playbook, so\nit becomes a pre-requisite to have uploaded the\nright containers before upgrading using this role.\n\nAll this new workflow is based on the steps defined\nin [0].\n\n[0] https://review.openstack.org/#/c/535859/\n\nChange-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d\n'}]",65,548336,799eea86d53577be885791cfb3f3e191420d7b65,102,9,34,26343,,,0,"New major upgrade workflow implementation.

This patch includes the new upgrades workflow to
upgrade to Queens into the tripleo-upgrade role.
A overcloud_upgrade_prepare.sh script will be run
to get the HEAT outputs into Ansible playbooks which
will be run later via as many scripts as roles in
the environment (Controller, Compute, etc...).
In each of these scripts the command to run the
downloaded playbooks is executed.

All containers preparation and downloading tasks
have been moved out of the upgrade playbook, so
it becomes a pre-requisite to have uploaded the
right containers before upgrading using this role.

All this new workflow is based on the steps defined
in [0].

[0] https://review.openstack.org/#/c/535859/

Change-Id: Iae680d97eeef52b9145c290b0b988cb267af3b3d
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/36/548336/32 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/upgrade/docker_converge_upgrade.yml', 'templates/overcloud_upgrade_prepare.sh.j2', 'templates/overcloud_upgrade.sh.j2', 'tasks/upgrade/docker_composable_upgrade.yml', 'tasks/upgrade/main.yml', 'tasks/upgrade/create-upgrade-scripts.yaml', 'templates/overcloud_upgrade_converge.sh.j2', 'defaults/main.yml']",8,0f3b949f4fed4777e8c759c274cd65697b94f470,548336,"overcloud_upgrade_prepare_template: overcloud_upgrade_prepare.sh.j2 overcloud_upgrade_template: overcloud_upgrade.sh.j2 overcloud_upgrade_converge_template: overcloud_upgrade_converge.sh.j2overcloud_upgrade_prepare_script: ""{{ working_dir }}/overcloud_upgrade_prepare.sh"" overcloud_upgrade_script_base: ""{{ working_dir }}/overcloud_upgrade"" overcloud_upgrade_converge_script: ""{{ working_dir }}/overcloud_upgrade_converge.sh""","container_images_download_template: download_images.sh.j2 local_docker_registry_env_template: create_registry_env.sh.j2overcloud_composable_upgrade_script: ""{{ working_dir }}/composable_docker_upgrade.sh"" overcloud_converge_upgrade_script: ""{{ working_dir }}/converge_docker_upgrade.sh"" container_images_download_script: ""{{ working_dir }}/container_images_download.sh"" local_docker_registry_env_script: ""{{ working_dir }}/local_docker_registry_env.sh""",113,210
openstack%2Frequirements~master~I7c729e0b16b590a3e3237b5f0245b00f396ab041,openstack/requirements,master,I7c729e0b16b590a3e3237b5f0245b00f396ab041,update constraint for python-zunclient to new release 1.2.1,MERGED,2018-03-19 14:53:17.000000000,2018-03-21 04:13:48.000000000,2018-03-21 04:13:48.000000000,"[{'_account_id': 6593}, {'_account_id': 14288}, {'_account_id': 17880}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 14:53:17.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4419dc5dc183ba55ce31eb00b4bc2a0f150afe9f', 'message': 'update constraint for python-zunclient to new release 1.2.1\n\nChange-Id: I7c729e0b16b590a3e3237b5f0245b00f396ab041\nmeta:version: 1.2.1\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Feng Shengqin <feng.shengqin@zte.com.cn>\nmeta:release:Commit: Feng Shengqin <feng.shengqin@zte.com.cn>\nmeta:release:Change-Id: I55e17f48c220e7d7df3a081e7db807206ae4d21c\nmeta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>\nmeta:release:Code-Review+1: Hongbin Lu <hongbin034@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,554248,4419dc5dc183ba55ce31eb00b4bc2a0f150afe9f,29,4,1,11131,,,0,"update constraint for python-zunclient to new release 1.2.1

Change-Id: I7c729e0b16b590a3e3237b5f0245b00f396ab041
meta:version: 1.2.1
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Feng Shengqin <feng.shengqin@zte.com.cn>
meta:release:Commit: Feng Shengqin <feng.shengqin@zte.com.cn>
meta:release:Change-Id: I55e17f48c220e7d7df3a081e7db807206ae4d21c
meta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>
meta:release:Code-Review+1: Hongbin Lu <hongbin034@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/48/554248/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4419dc5dc183ba55ce31eb00b4bc2a0f150afe9f,new-release,python-zunclient===1.2.1,python-zunclient===1.1.0,1,1
openstack%2Foslo.utils~master~I7afa363b41b42f7dbd1e31a68b65f122eeffc447,openstack/oslo.utils,master,I7afa363b41b42f7dbd1e31a68b65f122eeffc447,Add bindep.txt file to prevent fallback to generic list,MERGED,2018-03-19 22:28:54.000000000,2018-03-21 04:07:08.000000000,2018-03-21 04:07:08.000000000,"[{'_account_id': 6928}, {'_account_id': 9542}, {'_account_id': 9796}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 22:28:54.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/7c16543e4fad64123eb0b18a6dc35b6e0eaae164', 'message': 'Add bindep.txt file to prevent fallback to generic list\n\nJobs will look for bindep.txt in each repo to get a list of required\nsystem packages to be installed. If that file is not found, it will\nfallback to a generic bindep.txt file that contains many things that\nare not needed for running oslo.utils jobs (things such as mysql and\npostgres packages).\n\nThis adds a basic bindep.txt file with just a few packages to speed\nup job setup times and prevent unnecessary work in the gate.\n\nChange-Id: I7afa363b41b42f7dbd1e31a68b65f122eeffc447\n'}]",0,554371,7c16543e4fad64123eb0b18a6dc35b6e0eaae164,10,5,1,11904,,,0,"Add bindep.txt file to prevent fallback to generic list

Jobs will look for bindep.txt in each repo to get a list of required
system packages to be installed. If that file is not found, it will
fallback to a generic bindep.txt file that contains many things that
are not needed for running oslo.utils jobs (things such as mysql and
postgres packages).

This adds a basic bindep.txt file with just a few packages to speed
up job setup times and prevent unnecessary work in the gate.

Change-Id: I7afa363b41b42f7dbd1e31a68b65f122eeffc447
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/71/554371/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,7c16543e4fad64123eb0b18a6dc35b6e0eaae164,bindep,# This is a cross-platform list tracking distribution packages needed by tests; # see http://docs.openstack.org/infra/bindep/ for additional information. locales [platform:debian] python-dev [platform:dpkg] python-devel [platform:rpm] python3-all-dev [platform:ubuntu !platform:ubuntu-precise] python3-dev [platform:dpkg] python3-devel [platform:fedora] ,,9,0
openstack%2Fswift~feature%2Fdeep~I6d78613971cf3343d7d10fdf843cae06d5a04e89,openstack/swift,feature/deep,I6d78613971cf3343d7d10fdf843cae06d5a04e89,Add swift-manage-shard-ranges entry point; drop find_shard_ranges script,MERGED,2018-03-20 17:23:46.000000000,2018-03-21 04:01:49.000000000,2018-03-21 04:01:49.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 17:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/72b83b3cd3937fd3c79a313328befb54a236b028', 'message': 'Add swift-manage-shard-ranges entry point; drop find_shard_ranges script\n\nDo a little cleanup, too.\n\nChange-Id: I6d78613971cf3343d7d10fdf843cae06d5a04e89\n'}, {'number': 2, 'created': '2018-03-20 21:14:42.000000000', 'files': ['swift/cli/find_shard_ranges.py', 'swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/swift/commit/133c933dba0d105d0b30cafdad9aa35df3cc31a5', 'message': 'Add swift-manage-shard-ranges entry point; drop find_shard_ranges script\n\nDo a little cleanup, too.\n\nChange-Id: I6d78613971cf3343d7d10fdf843cae06d5a04e89\n'}]",0,554639,133c933dba0d105d0b30cafdad9aa35df3cc31a5,9,3,2,15343,,,0,"Add swift-manage-shard-ranges entry point; drop find_shard_ranges script

Do a little cleanup, too.

Change-Id: I6d78613971cf3343d7d10fdf843cae06d5a04e89
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/554639/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/find_shard_ranges.py', 'swift/cli/manage_shard_ranges.py', 'setup.cfg']",3,72b83b3cd3937fd3c79a313328befb54a236b028,p-sharding-tool, swift-manage-shard-ranges = swift.cli.manage_shard_ranges:main, swift-container-find-shard-ranges = swift.cli.find_shard_ranges:main,5,44
openstack%2Fswift~feature%2Fdeep~Ia83bb129d532a3d153ab0d7ecf44366f72d86331,openstack/swift,feature/deep,Ia83bb129d532a3d153ab0d7ecf44366f72d86331,Imperceptible performance improvement,MERGED,2018-03-20 20:08:46.000000000,2018-03-21 04:01:47.000000000,2018-03-21 04:01:47.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 20:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/98f30cd4d50403604955d3ab5db1448020bf4569', 'message': 'Imperceptible performance improvement\n\n... but either way works\n\nChange-Id: Ia83bb129d532a3d153ab0d7ecf44366f72d86331\nRelated-Change-Id: I1653ed69c51c9789e2ef19fae762a96a63139766\n'}, {'number': 2, 'created': '2018-03-20 20:46:53.000000000', 'files': ['swift/common/direct_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/630bc8a1b8e315eb8e78bd72c95fb2e6784888f6', 'message': 'Imperceptible performance improvement\n\n... but either way works\n\nRelated-Change-Id: I87578db750527b822b5038fd2b6dcedce278a74e\n\nChange-Id: Ia83bb129d532a3d153ab0d7ecf44366f72d86331\n'}]",0,554686,630bc8a1b8e315eb8e78bd72c95fb2e6784888f6,8,3,2,1179,,,0,"Imperceptible performance improvement

... but either way works

Related-Change-Id: I87578db750527b822b5038fd2b6dcedce278a74e

Change-Id: Ia83bb129d532a3d153ab0d7ecf44366f72d86331
",git fetch https://review.opendev.org/openstack/swift refs/changes/86/554686/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/direct_client.py'],1,98f30cd4d50403604955d3ab5db1448020bf4569,554531," lower_headers = set(k.lower() for k in headers) headers_out = gen_headers(headers, add_ts='x-timestamp' not in lower_headers, add_user_agent='user-agent' not in lower_headers)"," have_x_timestamp = 'x-timestamp' in (k.lower() for k in headers) add_user_agent = 'user-agent' not in (k.lower() for k in headers) headers_out = gen_headers(headers, add_ts=(not have_x_timestamp), add_user_agent=add_user_agent)",4,4
openstack%2Fironic-specs~master~Ibb820b624faca275f8266f6b9d18efb2a83326f8,openstack/ironic-specs,master,Ibb820b624faca275f8266f6b9d18efb2a83326f8,Update OOB RAID for iLO5 based HPE Proliant Servers,MERGED,2018-01-03 04:48:27.000000000,2018-03-21 03:57:31.000000000,2018-03-21 03:57:31.000000000,"[{'_account_id': 6618}, {'_account_id': 10202}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 22977}]","[{'number': 1, 'created': '2018-01-03 04:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/27bead719eb4469f3e654a2206323b364cd0d925', 'message': 'Update OOB RAID for iLO5 based HPE Proliant Servers\n\nThis commit is to update OOB raid spec to add additional clean\nstep ``read_configuration`` for out-of-band raid creation to\nget the raid config from the system.\n\nChange-Id: Ibb820b624faca275f8266f6b9d18efb2a83326f8\n'}, {'number': 2, 'created': '2018-01-15 10:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/970770214f81ba68744c791d7c938e4299a3f47a', 'message': 'Update OOB RAID for iLO5 based HPE Proliant Servers\n\nThis commit is to update OOB raid spec to add additional clean\nstep ``read_configuration`` for out-of-band raid creation to\nget the raid config from the system.\n\nChange-Id: Ibb820b624faca275f8266f6b9d18efb2a83326f8\n'}, {'number': 3, 'created': '2018-01-16 09:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d4b3852f075fd0b18bad707ec6edb80dc78f8375', 'message': 'Update OOB RAID for iLO5 based HPE Proliant Servers\n\nThis commit is to update OOB raid spec to add additional clean\nstep ``read_configuration`` for out-of-band raid creation to\nget the raid config from the system.\n\nChange-Id: Ibb820b624faca275f8266f6b9d18efb2a83326f8\n'}, {'number': 4, 'created': '2018-03-16 09:18:57.000000000', 'files': ['specs/approved/ilo-oob-raid.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/89ee32937a704213b33b190df9066e8849c30772', 'message': 'Update OOB RAID for iLO5 based HPE Proliant Servers\n\nThis commit is to update OOB raid spec to add additional clean\nstep ``read_configuration`` for out-of-band raid creation to\nget the raid config from the system.\n\nChange-Id: Ibb820b624faca275f8266f6b9d18efb2a83326f8\n'}]",36,530838,89ee32937a704213b33b190df9066e8849c30772,21,8,4,22977,,,0,"Update OOB RAID for iLO5 based HPE Proliant Servers

This commit is to update OOB raid spec to add additional clean
step ``read_configuration`` for out-of-band raid creation to
get the raid config from the system.

Change-Id: Ibb820b624faca275f8266f6b9d18efb2a83326f8
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/38/530838/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/ilo-oob-raid.rst'],1,27bead719eb4469f3e654a2206323b364cd0d925,update_oobraid,"OOB RAID configuration will be a three step process. 1. delete_configuration - delete the current raid config from the system. 2. create_configuration - create the raid config which set by the user in target_raid_config of node properties. 3. read_configuration - get the updated raid config from system and update the node properties accordingly. NOTE: A reboot is required after create_configuration for iLO5 based HPE Proliant Gen10 system for raid configuration to take place. Hence, clean step `read_configuration` is a mandatory step to be executed after clean step `create_configuration`. + ``create_configuration`` - This will create the RAID configuration on the bare metal node. - It will be decorated with additional argument `reboot_required` with value set to `True`. - It will create an IloClient object from proliantutils library to do operations on the iLO. This will make call to create_raid_configuration of proliantutils library to create the logical drives on the system. + ``read_configuration`` - This will read the RAID configuration on the bare metal node. - It will create an IloClient object from proliantutils library to do operations on the iLO. This will make call to read_raid_configuration of proliantutils library to get the logical drives on the system. Hence, it will update the node properties with the actual RAID configuration. * The following would be the updates required in cleaning architecture in ironic to support post reboot operation if required any clean step. + Addition a new boolean positional argument ``reboot_required`` to BaseInterface. Default is set to False for this parameter. + Update _do_next_clean_step() for each step to call prepare_cleaning() if reboot_required is set to True and result of its manual cleaning is not ``clean wait``. ", + ``create_configuration`` - This will create the RAID configuration on the bare metal node. - It will create an IloClient object from proliantutils library to do operations on the iLO. This will make call to create_raid_configuration of proliantutils library to create the logical drives on the system. + ``_create_configuration_final`` - This will be called after the clean step ``IloRAID.create_configuration`` is completed. This method will call ``update_raid_info`` with the actual RAID configuration returned by ilo object. ,41,12
openstack%2Fproject-config~master~I920e5230a96bf3e6c4a29486c662e905436ab3a7,openstack/project-config,master,I920e5230a96bf3e6c4a29486c662e905436ab3a7,Pause builds for dib 2.12.0,MERGED,2018-03-21 03:33:54.000000000,2018-03-21 03:46:27.000000000,2018-03-21 03:46:27.000000000,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 03:33:54.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8962dfb8d8e463a1b4d42dfd8f6b2daa116c5b46', 'message': 'Pause builds for dib 2.12.0\n\ndib 2.12.0 is creating an invalid main partition.  Pause until fixed.\n\nChange-Id: I920e5230a96bf3e6c4a29486c662e905436ab3a7\n'}]",0,554785,8962dfb8d8e463a1b4d42dfd8f6b2daa116c5b46,6,2,1,7118,,,0,"Pause builds for dib 2.12.0

dib 2.12.0 is creating an invalid main partition.  Pause until fixed.

Change-Id: I920e5230a96bf3e6c4a29486c662e905436ab3a7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/85/554785/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,8962dfb8d8e463a1b4d42dfd8f6b2daa116c5b46,pause-dib-partition-error, pause: true pause: true pause: true pause: true pause: true pause: true pause: true pause: true pause: true pause: true,,10,0
openstack%2Fansible-role-systemd_service~master~I220eb6eac324cc085efa7f50f06a72d2e5f846ac,openstack/ansible-role-systemd_service,master,I220eb6eac324cc085efa7f50f06a72d2e5f846ac,Add base role tests,MERGED,2018-03-19 20:22:37.000000000,2018-03-21 03:39:53.000000000,2018-03-21 03:39:53.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 20:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/2b50445fbb41c437b10b8acf289e6d0fb331a2a6', 'message': 'Add base role tests\n\nChange-Id: I220eb6eac324cc085efa7f50f06a72d2e5f846ac\n'}, {'number': 2, 'created': '2018-03-20 00:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/53742238edcacdb43ca8884b9386e0587c833346', 'message': 'Add base role tests\n\nChange-Id: I220eb6eac324cc085efa7f50f06a72d2e5f846ac\n'}, {'number': 3, 'created': '2018-03-20 01:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/dc913eeb66015b0121ac5b72a80f5b466ccf9f20', 'message': 'Add base role tests\n\nChange-Id: I220eb6eac324cc085efa7f50f06a72d2e5f846ac\n'}, {'number': 4, 'created': '2018-03-20 01:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/86410294d1897a083c7815e8b39ce304457f25a1', 'message': 'Add base role tests\n\nChange-Id: I220eb6eac324cc085efa7f50f06a72d2e5f846ac\n'}, {'number': 5, 'created': '2018-03-20 01:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/158eb2f1db3b6075575dfde6dc626c9986abad04', 'message': 'Add base role tests\n\nChange-Id: I220eb6eac324cc085efa7f50f06a72d2e5f846ac\n'}, {'number': 6, 'created': '2018-03-20 02:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/506edee4ab5345b2ea2db3b0f12e23d473d7f98a', 'message': 'Add base role tests\n\nChange-Id: I220eb6eac324cc085efa7f50f06a72d2e5f846ac\n'}, {'number': 7, 'created': '2018-03-20 02:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/1fe4dfb538b4c6dda5d9985507e4f93ccc5c4172', 'message': 'Add base role tests\n\nDepends-On: https://review.openstack.org/#/c/554402/\nChange-Id: I220eb6eac324cc085efa7f50f06a72d2e5f846ac\n'}, {'number': 8, 'created': '2018-03-20 03:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/67f23dbb54935345acf96c99948523fea845cccd', 'message': 'Add base role tests\n\nDepends-On: https://review.openstack.org/#/c/554402/\nChange-Id: I220eb6eac324cc085efa7f50f06a72d2e5f846ac\n'}, {'number': 9, 'created': '2018-03-20 03:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/6a404f5317c28197543727c18f98b576cecf9e24', 'message': 'Add base role tests\n\nDepends-On: https://review.openstack.org/#/c/554402/\nChange-Id: I220eb6eac324cc085efa7f50f06a72d2e5f846ac\n'}, {'number': 10, 'created': '2018-03-20 04:01:18.000000000', 'files': ['run_tests.sh', 'doc/source/index.rst', 'bindep.txt', 'doc/source/conf.py', 'tests/tests-repo-clone.sh', 'zuul.d/project.yaml', 'tests/test.yml', 'setup.cfg', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/d66dc97872da639e2e783d602026d3909eef79b2', 'message': 'Add base role tests\n\nDepends-On: https://review.openstack.org/#/c/554402/\nChange-Id: I220eb6eac324cc085efa7f50f06a72d2e5f846ac\n'}]",0,554348,d66dc97872da639e2e783d602026d3909eef79b2,26,4,10,17799,,,0,"Add base role tests

Depends-On: https://review.openstack.org/#/c/554402/
Change-Id: I220eb6eac324cc085efa7f50f06a72d2e5f846ac
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/48/554348/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,2b50445fbb41c437b10b8acf289e6d0fb331a2a6,systemd-zuul,"# Copyright 2017, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - project: check: jobs: - openstack-ansible-linters - openstack-ansible-functional-centos-7 - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-ubuntu-xenial experimental: jobs: - openstack-ansible-integrated-deploy-aio gate: jobs: - openstack-ansible-linters - openstack-ansible-functional-centos-7 - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-ubuntu-xenial ",,30,0
openstack%2Fcinder~driverfixes%2Fnewton~Id903658f944880c4ce341bd27452bbb4a37fce44,openstack/cinder,driverfixes/newton,Id903658f944880c4ce341bd27452bbb4a37fce44,Pin setuptools version,MERGED,2018-03-19 20:48:53.000000000,2018-03-21 03:37:43.000000000,2018-03-20 21:07:52.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 16258}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}]","[{'number': 1, 'created': '2018-03-19 20:48:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0754ce99d99f99ad8d3bb76750f4f32f68965f1', 'message': 'Pin setuptools version\n\nSetuptools 39.0.0 breaks unit tests.\n\nChange-Id: Id903658f944880c4ce341bd27452bbb4a37fce44\nRelated-Bug: #1706394\n(cherry picked from commit 0ddbf9bd734c40a58f6ad12dd14b6f837385915a)\nConflicts:\n\tupper-constraints.txt\n'}]",0,554355,d0754ce99d99f99ad8d3bb76750f4f32f68965f1,20,16,1,21129,,,0,"Pin setuptools version

Setuptools 39.0.0 breaks unit tests.

Change-Id: Id903658f944880c4ce341bd27452bbb4a37fce44
Related-Bug: #1706394
(cherry picked from commit 0ddbf9bd734c40a58f6ad12dd14b6f837385915a)
Conflicts:
	upper-constraints.txt
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/554355/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d0754ce99d99f99ad8d3bb76750f4f32f68965f1,bug/1715456,setuptools===38.7.0,,1,0
openstack%2Fqinling~master~I6ecc7d631c7deccf7d5011ec68a08759441a0318,openstack/qinling,master,I6ecc7d631c7deccf7d5011ec68a08759441a0318,zuul: create Neutron config dir for the devstack job,MERGED,2018-03-20 04:08:00.000000000,2018-03-21 03:35:32.000000000,2018-03-21 03:35:32.000000000,"[{'_account_id': 6732}, {'_account_id': 21781}, {'_account_id': 22348}, {'_account_id': 27695}, {'_account_id': 27732}]","[{'number': 1, 'created': '2018-03-20 04:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/651e5ee26117070c12e3da382d65412458c32999', 'message': ""zuul: create Neutron config dir for the devstack job\n\nWith [1] the devstack zuul job will try to update Neutron's\nconfiguration, even though we don't use Neutron for Qinling at all.\n\nThis commit is a workaround to create a Neutron config dir to satisfy\ndevstack when the Neutron service is actually disabled.\n\n[1] I2dcbd9bdb401860820e655d97aa3c4775af2827f\n\nChange-Id: I6ecc7d631c7deccf7d5011ec68a08759441a0318\n""}, {'number': 2, 'created': '2018-03-20 04:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/931a056c9534a09d89ad9bc87ec972d45aae5656', 'message': ""zuul: create Neutron config dir for the devstack job\n\nWith [1] the devstack zuul job will try to update Neutron's\nconfiguration, even though we don't use Neutron for Qinling at all.\n\nThis commit is a workaround to create a Neutron config dir to satisfy\ndevstack when the Neutron service is actually disabled.\n\n[1] I2dcbd9bdb401860820e655d97aa3c4775af2827f\n\nChange-Id: I6ecc7d631c7deccf7d5011ec68a08759441a0318\n""}, {'number': 3, 'created': '2018-03-20 05:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/32f23944afb48f5ff81ef9f74d0a75e801063e36', 'message': ""zuul: create Neutron config dir for the devstack job\n\nWith [1] the devstack zuul job will try to update Neutron's\nconfiguration, even though we don't use Neutron for Qinling at all.\n\nThis commit is a workaround to create a Neutron config dir to satisfy\ndevstack when the Neutron service is actually disabled.\n\n[1] I2dcbd9bdb401860820e655d97aa3c4775af2827f\n\nChange-Id: I6ecc7d631c7deccf7d5011ec68a08759441a0318\n""}, {'number': 4, 'created': '2018-03-20 05:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/ff96c72244ceb2325f99738e19e26341645d906a', 'message': ""zuul: create Neutron config dir for the devstack job\n\nWith [1] the devstack zuul job will try to update Neutron's\nconfiguration, even though we don't use Neutron for Qinling at all.\n\nThis commit is a workaround to create a Neutron config dir to satisfy\ndevstack when the Neutron service is actually disabled.\n\n[1] I2dcbd9bdb401860820e655d97aa3c4775af2827f\n\nChange-Id: I6ecc7d631c7deccf7d5011ec68a08759441a0318\n""}, {'number': 5, 'created': '2018-03-20 06:28:27.000000000', 'files': ['playbooks/post.yaml', 'playbooks/pre.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/qinling/commit/9f91d6f2e6c5d552f12f6e64ecc81661123415a9', 'message': ""zuul: create Neutron config dir for the devstack job\n\nWith [1] the devstack zuul job will try to update Neutron's\nconfiguration, even though we don't use Neutron for Qinling at all.\n\nThis commit is a workaround to create a Neutron config dir to satisfy\ndevstack when the Neutron service is actually disabled.\n\n[1] I2dcbd9bdb401860820e655d97aa3c4775af2827f\n\nChange-Id: I6ecc7d631c7deccf7d5011ec68a08759441a0318\n""}]",0,554410,9f91d6f2e6c5d552f12f6e64ecc81661123415a9,18,5,5,21781,,,0,"zuul: create Neutron config dir for the devstack job

With [1] the devstack zuul job will try to update Neutron's
configuration, even though we don't use Neutron for Qinling at all.

This commit is a workaround to create a Neutron config dir to satisfy
devstack when the Neutron service is actually disabled.

[1] I2dcbd9bdb401860820e655d97aa3c4775af2827f

Change-Id: I6ecc7d631c7deccf7d5011ec68a08759441a0318
",git fetch https://review.opendev.org/openstack/qinling refs/changes/10/554410/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/post.yaml', 'playbooks/pre.yaml', '.zuul.yaml']",3,651e5ee26117070c12e3da382d65412458c32999,, pre-run: playbooks/pre.yaml post-run: playbooks/post.yaml,,17,0
openstack%2Fansible-role-systemd_mount~master~If4047f2d3f2286dc6188cc62e3d17c47b2f88cd4,openstack/ansible-role-systemd_mount,master,If4047f2d3f2286dc6188cc62e3d17c47b2f88cd4,Add base role tests,MERGED,2018-03-19 20:23:20.000000000,2018-03-21 03:13:47.000000000,2018-03-21 03:13:47.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 20:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/f6012be8e9cafa16324b653f73616790eb56ade2', 'message': 'Add base role tests\n\nChange-Id: If4047f2d3f2286dc6188cc62e3d17c47b2f88cd4\n'}, {'number': 2, 'created': '2018-03-20 00:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/00fd521e1621e69f3058bbf9f73b3d3371d1e1ac', 'message': 'Add base role tests\n\nChange-Id: If4047f2d3f2286dc6188cc62e3d17c47b2f88cd4\n'}, {'number': 3, 'created': '2018-03-20 01:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/462cb2dfe91520ccbddfff55dd36c95d10441f5d', 'message': 'Add base role tests\n\nChange-Id: If4047f2d3f2286dc6188cc62e3d17c47b2f88cd4\n'}, {'number': 4, 'created': '2018-03-20 01:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/06b0cc9af3a68a58fff030c14a136b886a51366f', 'message': 'Add base role tests\n\nChange-Id: If4047f2d3f2286dc6188cc62e3d17c47b2f88cd4\n'}, {'number': 5, 'created': '2018-03-20 01:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/26a995162de7884e0f0f8a1c5de82659d0ed57a4', 'message': 'Add base role tests\n\nChange-Id: If4047f2d3f2286dc6188cc62e3d17c47b2f88cd4\n'}, {'number': 6, 'created': '2018-03-20 02:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/be9315c7c2e892a8445c866cc8b4d2057ea6d5e9', 'message': 'Add base role tests\n\nChange-Id: If4047f2d3f2286dc6188cc62e3d17c47b2f88cd4\n'}, {'number': 7, 'created': '2018-03-20 02:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/ebfb52ed565c6ddb8938650b355ed782ab23d837', 'message': 'Add base role tests\n\nDepends-On: https://review.openstack.org/#/c/554402/\nChange-Id: If4047f2d3f2286dc6188cc62e3d17c47b2f88cd4\n'}, {'number': 8, 'created': '2018-03-20 03:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/aca713958a7b9a35e1a03fd77d44af4a5ebfbdbb', 'message': 'Add base role tests\n\nDepends-On: https://review.openstack.org/#/c/554402/\nChange-Id: If4047f2d3f2286dc6188cc62e3d17c47b2f88cd4\n'}, {'number': 9, 'created': '2018-03-20 03:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/0b3826582345878168eabe00871f68a8d4314ca4', 'message': 'Add base role tests\n\nDepends-On: https://review.openstack.org/#/c/554402/\nChange-Id: If4047f2d3f2286dc6188cc62e3d17c47b2f88cd4\n'}, {'number': 10, 'created': '2018-03-20 04:00:33.000000000', 'files': ['run_tests.sh', 'doc/source/index.rst', 'bindep.txt', 'doc/source/conf.py', 'tests/tests-repo-clone.sh', 'zuul.d/project.yaml', 'tests/test.yml', 'setup.cfg', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/cc125a7437a31caac70345d7c83d9700058d125d', 'message': 'Add base role tests\n\nDepends-On: https://review.openstack.org/#/c/554402/\nChange-Id: If4047f2d3f2286dc6188cc62e3d17c47b2f88cd4\n'}]",0,554349,cc125a7437a31caac70345d7c83d9700058d125d,26,4,10,17799,,,0,"Add base role tests

Depends-On: https://review.openstack.org/#/c/554402/
Change-Id: If4047f2d3f2286dc6188cc62e3d17c47b2f88cd4
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/49/554349/8 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f6012be8e9cafa16324b653f73616790eb56ade2,systemd-zuul,"# Copyright 2017, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - project: check: jobs: - openstack-ansible-linters - openstack-ansible-functional-centos-7 - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-ubuntu-xenial experimental: jobs: - openstack-ansible-integrated-deploy-aio gate: jobs: - openstack-ansible-linters - openstack-ansible-functional-centos-7 - openstack-ansible-functional-opensuse-423 - openstack-ansible-functional-ubuntu-xenial ",,30,0
openstack%2Fironic-tempest-plugin~master~I90f8b42113d6621c7af644fdb4c76d5f3dde318e,openstack/ironic-tempest-plugin,master,I90f8b42113d6621c7af644fdb4c76d5f3dde318e,Add a full set of tests for the IPMI hardware type to the standalone job,MERGED,2018-02-13 16:18:16.000000000,2018-03-21 03:12:35.000000000,2018-03-21 03:12:34.000000000,"[{'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 11655}, {'_account_id': 14760}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-13 16:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/d3dc7d8ac76080ab614ade7b64ece3bb5045eb77', 'message': 'Add a full set of tests for the IPMI hardware type to the standalone job\n\nThis makes sure that when we remove classic drivers, the standalone job\nstill tests all combinations of deploy methods and image types.\n\nChange-Id: I90f8b42113d6621c7af644fdb4c76d5f3dde318e\n'}, {'number': 2, 'created': '2018-02-14 09:12:06.000000000', 'files': ['ironic_tempest_plugin/tests/scenario/ironic_standalone/test_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/5fba20b16eb5921eb01eade57b22d14621f780ca', 'message': 'Add a full set of tests for the IPMI hardware type to the standalone job\n\nThis makes sure that when we remove classic drivers, the standalone job\nstill tests all combinations of deploy methods and image types.\n\nChange-Id: I90f8b42113d6621c7af644fdb4c76d5f3dde318e\n'}]",0,543989,5fba20b16eb5921eb01eade57b22d14621f780ca,22,6,2,10239,,,0,"Add a full set of tests for the IPMI hardware type to the standalone job

This makes sure that when we remove classic drivers, the standalone job
still tests all combinations of deploy methods and image types.

Change-Id: I90f8b42113d6621c7af644fdb4c76d5f3dde318e
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/89/543989/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/tests/scenario/ironic_standalone/test_basic_ops.py'],1,d3dc7d8ac76080ab614ade7b64ece3bb5045eb77,hw-types,"class BaremetalIpmiIscsiWholedisk(bsm.BaremetalStandaloneScenarioTest): api_microversion = '1.31' # to set the deploy_interface driver = 'ipmi' deploy_interface = 'iscsi' image_ref = CONF.baremetal.whole_disk_image_ref wholedisk_image = True @decorators.idempotent_id('f25b71df-2150-45d7-a780-7f5b07124808') @utils.services('image', 'network') def test_ip_access_to_server(self): self.assertTrue(self.ping_ip_address(self.node_ip, should_succeed=True)) class BaremetalIpmiDirectWholedisk(bsm.BaremetalStandaloneScenarioTest):class BaremetalIpmiIscsiPartitioned(bsm.BaremetalStandaloneScenarioTest):class BaremetalIpmiDirectPartitioned(bsm.BaremetalStandaloneScenarioTest): api_microversion = '1.31' # to set the deploy_interface driver = 'ipmi' deploy_interface = 'direct' image_ref = CONF.baremetal.partition_image_ref wholedisk_image = False @decorators.idempotent_id('7b4b2dcd-2bbb-44f5-991f-0964300af6b7') @utils.services('image', 'network') def test_ip_access_to_server(self): self.assertTrue(self.ping_ip_address(self.node_ip, should_succeed=True)) class BaremetalIpmiAnsiblePartitioned(bsm.BaremetalStandaloneScenarioTest): api_microversion = '1.31' # to set the deploy_interface driver = 'ipmi' deploy_interface = 'ansible' image_ref = CONF.baremetal.partition_image_ref wholedisk_image = False @decorators.idempotent_id('c3d73abd-a671-4f02-8255-4af83a7466f3') @utils.services('image', 'network') def test_ip_access_to_server(self): self.assertTrue(self.ping_ip_address(self.node_ip, should_succeed=True))",class BaremetalIpmiWholedisk(bsm.BaremetalStandaloneScenarioTest):class BaremetalIpmiPartitioned(bsm.BaremetalStandaloneScenarioTest):,47,2
openstack%2Fansible-role-systemd_networkd~master~I1b49cc62d01fe2e3aa5766eea898c771ec6ac3d1,openstack/ansible-role-systemd_networkd,master,I1b49cc62d01fe2e3aa5766eea898c771ec6ac3d1,Implement networkd restart as handler,MERGED,2018-03-19 19:57:28.000000000,2018-03-21 03:09:16.000000000,2018-03-21 03:09:16.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 19:57:28.000000000', 'files': ['tasks/main.yml', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/d9849f1d373a465154a11d4cf8207df5ea59174c', 'message': 'Implement networkd restart as handler\n\nChange-Id: I1b49cc62d01fe2e3aa5766eea898c771ec6ac3d1\n'}]",0,554345,d9849f1d373a465154a11d4cf8207df5ea59174c,7,2,1,17799,,,0,"Implement networkd restart as handler

Change-Id: I1b49cc62d01fe2e3aa5766eea898c771ec6ac3d1
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/45/554345/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'handlers/main.yml']",2,d9849f1d373a465154a11d4cf8207df5ea59174c,networkd-restarts,"--- # Copyright 2018, Logan Vig <logan2211@gmail.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Restart systemd-networkd systemd: name: ""systemd-networkd"" daemon_reload: yes state: restarted when: - systemd_run_networkd | bool tags: - systemd-networkd ",,32,2
openstack%2Fansible-role-systemd_networkd~master~I801fe5604d543ae36daf5bd1764ef1035644ea44,openstack/ansible-role-systemd_networkd,master,I801fe5604d543ae36daf5bd1764ef1035644ea44,Allow networkd filename override,MERGED,2018-03-19 19:54:41.000000000,2018-03-21 03:08:45.000000000,2018-03-21 03:08:45.000000000,"[{'_account_id': 7353}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 19:54:41.000000000', 'files': ['tasks/main.yml', 'templates/systemd-netdev.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/b9b135ab9a3e9645696c3b0abba8cc32a1818120', 'message': 'Allow networkd filename override\n\n- Allow configuring the default filename format\n- Allow configuring a filename override on a per netdev/network\n  basis.\n\nChange-Id: I801fe5604d543ae36daf5bd1764ef1035644ea44\n'}]",0,554343,b9b135ab9a3e9645696c3b0abba8cc32a1818120,8,3,1,17799,,,0,"Allow networkd filename override

- Allow configuring the default filename format
- Allow configuring a filename override on a per netdev/network
  basis.

Change-Id: I801fe5604d543ae36daf5bd1764ef1035644ea44
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/43/554343/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/systemd-netdev.j2', 'defaults/main.yml']",3,b9b135ab9a3e9645696c3b0abba8cc32a1818120,filename-override,"# Default filename formatting systemd_networkd_netdev_filename: ""{{ item.0 }}-{{ item.1.NetDev.Name }}.netdev"" systemd_networkd_network_filename: ""{{ item.0 }}-{{ item.1.interface }}.network"" # filename: ""{{ item.1.NetDev.Name }}.netdev""# filename: ""{{ item.1.interface }}.network""",,13,4
openstack%2Fnova~master~Ibbd620c5ebcfc7b923a20db9e0f74575f5335c36,openstack/nova,master,Ibbd620c5ebcfc7b923a20db9e0f74575f5335c36,Remove old flavor_extra_specs_get db api method,MERGED,2018-01-31 22:15:27.000000000,2018-03-21 02:41:14.000000000,2018-03-20 17:23:27.000000000,"[{'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-31 22:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98be76ed5dd5c38e7ce8aba47afbbf52c9d909da', 'message': ""Remove old flavor_extra_specs_get db api method\n\nWe haven't used this since the flavor migration compat\ncode was removed in:\n\nI4107af592448e20fe929f8fa3112929e3685b581\n\nChange-Id: Ibbd620c5ebcfc7b923a20db9e0f74575f5335c36\n""}, {'number': 2, 'created': '2018-01-31 22:19:08.000000000', 'files': ['nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cf6a2688b97544b82493e3c84879913096181ce3', 'message': ""Remove old flavor_extra_specs_get db api method\n\nWe haven't used this since the flavor migration compat\ncode was removed in:\n\nI4107af592448e20fe929f8fa3112929e3685b581\n\nChange-Id: Ibbd620c5ebcfc7b923a20db9e0f74575f5335c36\n""}]",0,539706,cf6a2688b97544b82493e3c84879913096181ce3,31,14,2,6873,,,0,"Remove old flavor_extra_specs_get db api method

We haven't used this since the flavor migration compat
code was removed in:

I4107af592448e20fe929f8fa3112929e3685b581

Change-Id: Ibbd620c5ebcfc7b923a20db9e0f74575f5335c36
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/539706/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",3,98be76ed5dd5c38e7ce8aba47afbbf52c9d909da,rm-old-db-flavor-apis,,"def _flavor_extra_specs_get_query(context, flavor_id): instance_type_id_subq = _flavor_get_id_from_flavor_query(context, flavor_id) return model_query(context, models.InstanceTypeExtraSpecs, read_deleted=""no"").\ filter_by(instance_type_id=instance_type_id_subq) @require_context @pick_context_manager_reader def flavor_extra_specs_get(context, flavor_id): rows = _flavor_extra_specs_get_query(context, flavor_id).all() return {row['key']: row['value'] for row in rows} ",0,42
openstack%2Fopenstack-ansible-os_nova~stable%2Fqueens~I6341e694cee527b4bcf46f813c09db9f1bcabb00,openstack/openstack-ansible-os_nova,stable/queens,I6341e694cee527b4bcf46f813c09db9f1bcabb00,Change include: to include_tasks:,ABANDONED,2018-02-20 16:51:22.000000000,2018-03-21 02:25:58.000000000,,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-20 16:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/f2a341341714caf9be9c02d1e0aeb9459b41fecd', 'message': 'Change include: to include_tasks:\n\nThis removes warnings in Ansible 2.4+.\n\nThe patch also removes ""static:"" arguments which are no longer\nused by Ansible.\n\nChange-Id: I6341e694cee527b4bcf46f813c09db9f1bcabb00\n(cherry picked from commit 044025ca0a2a68d143499fa3601902ed688320b0)\n'}, {'number': 2, 'created': '2018-03-01 17:53:16.000000000', 'files': ['tasks/main.yml', 'tasks/nova_compute.yml', 'tasks/consoles/nova_console_novnc_install.yml', 'tasks/nova_install.yml', 'tasks/nova_post_install.yml', 'meta/main.yml', 'tasks/drivers/kvm/nova_compute_kvm.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/882dbe310372af479edce203576edcee41261c54', 'message': 'Change include: to include_tasks:\n\nThis removes warnings in Ansible 2.4+.\n\nThe patch also removes ""static:"" arguments which are no longer\nused by Ansible.\n\nChange-Id: I6341e694cee527b4bcf46f813c09db9f1bcabb00\n(cherry picked from commit 044025ca0a2a68d143499fa3601902ed688320b0)\n'}]",0,546231,882dbe310372af479edce203576edcee41261c54,9,4,2,6816,,,0,"Change include: to include_tasks:

This removes warnings in Ansible 2.4+.

The patch also removes ""static:"" arguments which are no longer
used by Ansible.

Change-Id: I6341e694cee527b4bcf46f813c09db9f1bcabb00
(cherry picked from commit 044025ca0a2a68d143499fa3601902ed688320b0)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/31/546231/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/nova_compute.yml', 'tasks/consoles/nova_console_novnc_install.yml', 'tasks/nova_install.yml', 'tasks/nova_post_install.yml', 'meta/main.yml', 'tasks/drivers/kvm/nova_compute_kvm.yml']",7,f2a341341714caf9be9c02d1e0aeb9459b41fecd,include-to-include-tasks-stable/queens,- include_tasks: nova_compute_kvm_install.yml include_tasks: nova_kernel_permissions.yml- include_tasks: nova_disable_smt.yml- include_tasks: nova_enable_ksm.yml- include_tasks: nova_compute_kvm_virsh_net_remove.yml,- include: nova_compute_kvm_install.yml include: nova_kernel_permissions.yml- include: nova_disable_smt.yml- include: nova_enable_ksm.yml- include: nova_compute_kvm_virsh_net_remove.yml,23,29
openstack%2Fpython-solumclient~master~I3ffb5c54f5526a59b01da51e85c73170e4c973f4,openstack/python-solumclient,master,I3ffb5c54f5526a59b01da51e85c73170e4c973f4,Follow the new PTI for document build,MERGED,2018-03-20 16:46:26.000000000,2018-03-21 02:24:02.000000000,2018-03-21 02:24:01.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 16:46:26.000000000', 'files': ['test-requirements.txt', 'doc/source/cli/index.rst', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/8e0148d2690dd4a771774132a7a95ec2e51c44a9', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I3ffb5c54f5526a59b01da51e85c73170e4c973f4\n'}]",0,554625,8e0148d2690dd4a771774132a7a95ec2e51c44a9,6,2,1,27153,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
https://governance.openstack.org/tc/reference/project-testing-interface.html
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I3ffb5c54f5526a59b01da51e85c73170e4c973f4
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/25/554625/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/cli/index.rst', 'doc/requirements.txt', 'tox.ini']",4,8e0148d2690dd4a771774132a7a95ec2e51c44a9,,[testenv:docs] deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt commands = sphinx-build -b html doc/source doc/build/html ,,15,5
openstack%2Fmurano~master~Ia4788f0230ea702428d5f7e166e5b37ed8fa4ce1,openstack/murano,master,Ia4788f0230ea702428d5f7e166e5b37ed8fa4ce1,Rename rabbitmq config section,NEW,2018-03-08 12:38:47.000000000,2018-03-21 02:11:45.000000000,,"[{'_account_id': 14107}, {'_account_id': 15279}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-03-08 12:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/3530adb49d90f6410059fe9e0098fb65369587a9', 'message': ""Rename rabbitmq config section\n\nContinuing from abandoned earlier patch. Renaming the 'rabbitmq' section to\ndifferentiate between internel communication and engine<>VM communication\n\nChange-Id: Ia4788f0230ea702428d5f7e166e5b37ed8fa4ce1\nCloses-Bug: 1627705\n""}, {'number': 2, 'created': '2018-03-08 14:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/4595fe7528f5261fa0fece24d5f41c74e44b393e', 'message': ""Rename rabbitmq config section\n\nContinuing from abandoned earlier patch. Renaming the 'rabbitmq' section to\ndifferentiate between internel communication and engine<>VM communication\n\nChange-Id: Ia4788f0230ea702428d5f7e166e5b37ed8fa4ce1\nCloses-Bug: 1627705\n""}, {'number': 3, 'created': '2018-03-08 15:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/de170a518680566345e3d0853def78643867cd73', 'message': ""Rename rabbitmq config section\n\nContinuing from abandoned earlier patch. Renaming the 'rabbitmq' section to\ndifferentiate between internel communication and engine<>VM communication\n\nChange-Id: Ia4788f0230ea702428d5f7e166e5b37ed8fa4ce1\nCloses-Bug: 1627705\n""}, {'number': 4, 'created': '2018-03-08 15:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/95db47499d47ea010583151b59c4d242d1b0fb11', 'message': ""Rename rabbitmq config section\n\nContinuing from abandoned earlier patch. Renaming the 'rabbitmq' section to\ndifferentiate between internel communication and engine<>VM communication\n\nChange-Id: Ia4788f0230ea702428d5f7e166e5b37ed8fa4ce1\nCloses-Bug: 1627705\n""}, {'number': 5, 'created': '2018-03-12 14:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/c7f71e48ebf2d0c986255a7d871ac12a393ca4fb', 'message': ""Rename rabbitmq config section\n\nContinuing from abandoned earlier patch. Renaming the 'rabbitmq' section to\ndifferentiate between internal communication and engine<>VM communication\n\nChange-Id: Ia4788f0230ea702428d5f7e166e5b37ed8fa4ce1\nCloses-Bug: 1627705\nCo-Authored-By: zhurong\n""}, {'number': 6, 'created': '2018-03-12 15:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/dfccc85634ef4ceb7b9623498178f359e713df6f', 'message': ""Rename rabbitmq config section\n\nContinuing from abandoned earlier patch. Renaming the 'rabbitmq' section to\ndifferentiate between internal communication and engine<>VM communication\n\nChange-Id: Ia4788f0230ea702428d5f7e166e5b37ed8fa4ce1\nCloses-Bug: 1627705\nCo-Authored-By: zhurong\n""}, {'number': 7, 'created': '2018-03-12 16:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/ede51a0b1caa8162bb7e45cb4868316d60570e53', 'message': ""Rename rabbitmq config section\n\nContinuing from abandoned earlier patch. Renaming the 'rabbitmq' section to\ndifferentiate between internal communication and engine<>VM communication\n\nChange-Id: Ia4788f0230ea702428d5f7e166e5b37ed8fa4ce1\nCloses-Bug: 1627705\nCo-Authored-By: zhurong\n""}, {'number': 8, 'created': '2018-03-13 09:08:45.000000000', 'files': ['doc/source/admin/deploy_murano/configure_ssl.rst', 'meta/io.murano/Classes/resources/LinuxMuranoInstance.yaml', 'meta/io.murano/Resources/Agent-v1.template', 'murano/common/config.py', 'meta/io.murano/Classes/Environment.yaml', 'devstack/plugin.sh', 'doc/source/admin/deploy_murano/install_manually.rst', 'doc/source/install/enable-ssl.rst', 'meta/io.murano/Resources/Agent-v2.template', 'murano/opts.py', 'releasenotes/notes/rabbitmq-config-rename-455fa49f78b1acc8.yaml', 'doc/source/install/install-api.rst', 'doc/source/admin/murano_agent.rst', 'murano/engine/system/common.py', 'murano/engine/system/yaql_functions.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/0096060d47acf04911c6bf1e311b11bcce23c21c', 'message': ""Rename rabbitmq config section\n\nContinuing from abandoned earlier patch. Renaming the 'rabbitmq' section to\ndifferentiate between internal communication and engine<>VM communication\n\nChange-Id: Ia4788f0230ea702428d5f7e166e5b37ed8fa4ce1\nCloses-Bug: 1627705\nCo-Authored-By: zhurong <aaronzhu1121@gmail.com>\n""}]",7,550815,0096060d47acf04911c6bf1e311b11bcce23c21c,24,4,8,15279,,,0,"Rename rabbitmq config section

Continuing from abandoned earlier patch. Renaming the 'rabbitmq' section to
differentiate between internal communication and engine<>VM communication

Change-Id: Ia4788f0230ea702428d5f7e166e5b37ed8fa4ce1
Closes-Bug: 1627705
Co-Authored-By: zhurong <aaronzhu1121@gmail.com>
",git fetch https://review.opendev.org/openstack/murano refs/changes/15/550815/6 && git format-patch -1 --stdout FETCH_HEAD,"['meta/io.murano/Classes/resources/LinuxMuranoInstance.yaml', 'murano/opts.py', 'meta/io.murano/Resources/Agent-v1.template', 'murano/common/config.py', 'meta/io.murano/Classes/Environment.yaml', 'murano/engine/system/common.py', 'murano/engine/system/yaql_functions.py', 'meta/io.murano/Resources/Agent-v2.template']",8,3530adb49d90f6410059fe9e0098fb65369587a9,bug/1627705,[murano_rabbitmq],[rabbitmq],63,35
openstack%2Fheat-dashboard~master~I5fa33e0f658001cea535df8e72d15fbba4f2969c,openstack/heat-dashboard,master,I5fa33e0f658001cea535df8e72d15fbba4f2969c,Updated from global requirements,MERGED,2018-03-20 13:57:48.000000000,2018-03-21 02:08:43.000000000,2018-03-21 02:08:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25221}]","[{'number': 1, 'created': '2018-03-20 13:57:48.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/7fbb63e2e842b30e2c88229e6cf573d2c79320c9', 'message': 'Updated from global requirements\n\nChange-Id: I5fa33e0f658001cea535df8e72d15fbba4f2969c\n'}]",0,554550,7fbb63e2e842b30e2c88229e6cf573d2c79320c9,8,2,1,11131,,,0,"Updated from global requirements

Change-Id: I5fa33e0f658001cea535df8e72d15fbba4f2969c
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/50/554550/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,7fbb63e2e842b30e2c88229e6cf573d2c79320c9,openstack/requirements,horizon>=13.0.0 # Apache-2.0,horizon>=13.0.0 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-plugins~master~I428a80cfb99821053d27dcf8a4b130377467d469,openstack/openstack-ansible-plugins,master,I428a80cfb99821053d27dcf8a4b130377467d469,Fixed insecure passing in keystone module,MERGED,2018-03-19 13:32:47.000000000,2018-03-21 02:04:51.000000000,2018-03-21 02:04:51.000000000,"[{'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 13:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/9ab3b69b980295ddb6e71a1dd145020bf4b57c65', 'message': 'Fixed insecure passing in keystone module\n\nChange-Id: I428a80cfb99821053d27dcf8a4b130377467d469\n'}, {'number': 2, 'created': '2018-03-19 13:36:31.000000000', 'files': ['library/keystone'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/884500daae2c09a115f8521a28e4cecf2d9a329c', 'message': ""Fixed insecure passing in keystone module\n\nAs Keystone Client is passed already created Session object (L603), it doesn't\ntake into an account client_args, so Session is created with default verify\nvalue.\n\nChange-Id: I428a80cfb99821053d27dcf8a4b130377467d469\n""}]",0,554226,884500daae2c09a115f8521a28e4cecf2d9a329c,8,3,2,26139,,,0,"Fixed insecure passing in keystone module

As Keystone Client is passed already created Session object (L603), it doesn't
take into an account client_args, so Session is created with default verify
value.

Change-Id: I428a80cfb99821053d27dcf8a4b130377467d469
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/26/554226/1 && git format-patch -1 --stdout FETCH_HEAD,['library/keystone'],1,9ab3b69b980295ddb6e71a1dd145020bf4b57c65,keystone_verify_fix," sess = session.Session(auth=auth, verify=(not insecure))", sess = session.Session(auth=auth),1,1
openstack%2Fnova~stable%2Focata~Id24dea7465bafc1f6f58c4a121c4ffb35b7a634a,openstack/nova,stable/ocata,Id24dea7465bafc1f6f58c4a121c4ffb35b7a634a,Regenerate context during targeting,ABANDONED,2018-02-01 21:28:12.000000000,2018-03-21 02:01:40.000000000,,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-02-01 21:28:12.000000000', 'files': ['nova/context.py', 'nova/tests/unit/test_context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/323a67c205dc1519e29ca3037ecb3c42f17292cc', 'message': ""Regenerate context during targeting\n\nWe are only doing a copy.copy() on context when we do target_cell(),\nwhich may mean we're sharing more across threads than we intend to.\nThis makes that a full regeneration of the context (like we would\ndo over RPC). This will necessarily dump the targeting, if already\nset, and any per-thread database context.\n\nConflicts:\n      nova/context.py\n\nNOTE(mriedem): The conflict is due to not having changes\nIf63a4fa7349890a6e7ac0fa3fe12917dc53334d0 or\nIccdf6b80f5fc8adcc8a89ce6ece3f37b6cbcaee2 in Ocata.\n\nCloses-Bug: #1722404\nChange-Id: Id24dea7465bafc1f6f58c4a121c4ffb35b7a634a\n(cherry picked from commit 42b70509c6e632b0553e92d8ff04cb4cecaa563c)\n(cherry picked from commit 42e5b7549e8b920e682204f5745454c0680ec0fb)\n""}]",4,540145,323a67c205dc1519e29ca3037ecb3c42f17292cc,14,10,1,6873,,,0,"Regenerate context during targeting

We are only doing a copy.copy() on context when we do target_cell(),
which may mean we're sharing more across threads than we intend to.
This makes that a full regeneration of the context (like we would
do over RPC). This will necessarily dump the targeting, if already
set, and any per-thread database context.

Conflicts:
      nova/context.py

NOTE(mriedem): The conflict is due to not having changes
If63a4fa7349890a6e7ac0fa3fe12917dc53334d0 or
Iccdf6b80f5fc8adcc8a89ce6ece3f37b6cbcaee2 in Ocata.

Closes-Bug: #1722404
Change-Id: Id24dea7465bafc1f6f58c4a121c4ffb35b7a634a
(cherry picked from commit 42b70509c6e632b0553e92d8ff04cb4cecaa563c)
(cherry picked from commit 42e5b7549e8b920e682204f5745454c0680ec0fb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/540145/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/context.py', 'nova/tests/unit/test_context.py']",2,323a67c205dc1519e29ca3037ecb3c42f17292cc,bug/1722404," @mock.patch('nova.context.set_target_cell') def test_target_cell_regenerates(self, mock_set): ctxt = context.RequestContext('fake', 'fake') # Set a non-tracked property on the context to make sure it # does not make it to the targeted one (like a copy would do) ctxt.sentinel = mock.sentinel.parent with context.target_cell(ctxt, mock.sentinel.cm) as cctxt: # Should be a different object self.assertIsNot(cctxt, ctxt) # Should not have inherited the non-tracked property self.assertFalse(hasattr(cctxt, 'sentinel'), 'Targeted context was copied from original') # Set another non-tracked property cctxt.sentinel = mock.sentinel.child # Make sure we didn't pollute the original context self.assertNotEqual(ctxt.sentinel, mock.sentinel.child) ",,32,10
openstack%2Fqinling~master~I8b9097c84d3c35135a27e1edc07989f311df5776,openstack/qinling,master,I8b9097c84d3c35135a27e1edc07989f311df5776,Add a basic feature description about Sync/Async,MERGED,2018-03-21 01:22:34.000000000,2018-03-21 02:01:09.000000000,2018-03-21 02:01:09.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 27974}]","[{'number': 1, 'created': '2018-03-21 01:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/ac44f5a5667daf09623a2079c19c97fc46b69dde', 'message': 'Add a basic feature description about Sync/Async\n\nChange-Id: I8b9097c84d3c35135a27e1edc07989f311df5776\nStory: #2001577\nTask: #6526\n'}, {'number': 2, 'created': '2018-03-21 01:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/4a0366153c5eb49e6d3cec8723d376c6c8ef79f4', 'message': 'Add a basic feature description about Sync/Async\n\nThis is my first commit.\n\nChange-Id: I8b9097c84d3c35135a27e1edc07989f311df5776\nStory: #2001577\nTask: #6526\n'}, {'number': 3, 'created': '2018-03-21 01:37:26.000000000', 'files': ['doc/source/features.rst'], 'web_link': 'https://opendev.org/openstack/qinling/commit/c9c1c1a6b55453a7937ab8dff3bfdaafce28922b', 'message': 'Add a basic feature description about Sync/Async\n\nThis is my first commit.\n\nChange-Id: I8b9097c84d3c35135a27e1edc07989f311df5776\nStory: #2001577\nTask: #6526\n'}]",2,554752,c9c1c1a6b55453a7937ab8dff3bfdaafce28922b,11,3,3,27974,,,0,"Add a basic feature description about Sync/Async

This is my first commit.

Change-Id: I8b9097c84d3c35135a27e1edc07989f311df5776
Story: #2001577
Task: #6526
",git fetch https://review.opendev.org/openstack/qinling refs/changes/52/554752/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/features.rst'],1,ac44f5a5667daf09623a2079c19c97fc46b69dde,betty," Sync/Async Function Executions ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Qinling allows the functions to be executed either synchronously or Asynchronously. For synchronous functions, the caller will be blocked to wait for the responses. Asynchronous functions will be executed at the same time point and the responses will be returned to the caller immediately, the caller could check the result later on.",,9,0
openstack%2Fpython-openstackclient~master~Id2b015a733350578fefb80328ea27cc8217c6821,openstack/python-openstackclient,master,Id2b015a733350578fefb80328ea27cc8217c6821,"WIP: Deprecate server add/remove floating, remove fixed CLIs",ABANDONED,2018-01-28 02:12:16.000000000,2018-03-21 02:00:44.000000000,,"[{'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-28 02:12:16.000000000', 'files': ['openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/431ce26aec4289f91f7f74dfc19b5ad721adbb39', 'message': ""WIP: Deprecate server add/remove floating, remove fixed CLIs\n\npython-novaclient 10.0.0 removed the deprecated multinic\npython API bindings (add_fixed_ip/remove_fixed_ip) and the\nfloating IP add/remove methods (floating_ip_add/floating_ip_remove).\n\nTherefore we need to change how the existing server CLIs deal\nwith these removed methods and use the networking client instead,\nand we should deprecate the CLIs while we're at it so we don't\nhave to maintain this bridge code.\n\nChange-Id: Id2b015a733350578fefb80328ea27cc8217c6821\nCloses-Bug: #1745795\n""}]",1,538539,431ce26aec4289f91f7f74dfc19b5ad721adbb39,7,2,1,6873,,,0,"WIP: Deprecate server add/remove floating, remove fixed CLIs

python-novaclient 10.0.0 removed the deprecated multinic
python API bindings (add_fixed_ip/remove_fixed_ip) and the
floating IP add/remove methods (floating_ip_add/floating_ip_remove).

Therefore we need to change how the existing server CLIs deal
with these removed methods and use the networking client instead,
and we should deprecate the CLIs while we're at it so we don't
have to maintain this bridge code.

Change-Id: Id2b015a733350578fefb80328ea27cc8217c6821
Closes-Bug: #1745795
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/39/538539/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/v2/server.py'],1,431ce26aec4289f91f7f74dfc19b5ad721adbb39,bug/1745795," # FIXME(mriedem): add_floating_ip no longer exists in novaclient # 10.0.0. We should deprecate this CLI. To mimic the compute API, # if a fixed IP isn't provided, find the first fixed IP associated # with the instance, and then use that to associate with the floating # IP (and port for the fixed IP). # FIXME(mriedem): Deprecate this CLI since novaclient 10.0.0 removed # the remove_fixed_ip method; to mimic the compute API, find the port # with this instance as the device_id, then modify the port's list # of fixed_ips and remove the one passed in here. # FIXME(mriedem): Deprecate this CLI since novaclient 10.0.0 removed # the remove_floating_ip method; to mimic the compute API, find the # floating IP and set it's port_id value to None.",,12,0
openstack%2Fopenstack-ansible-plugins~master~Ie8e32b0441a5d72fcbc3cbf9769d8a7dc7548f08,openstack/openstack-ansible-plugins,master,Ie8e32b0441a5d72fcbc3cbf9769d8a7dc7548f08,Add container_user to SSH connection plugin,MERGED,2018-03-19 15:35:24.000000000,2018-03-21 01:55:14.000000000,2018-03-21 01:55:14.000000000,"[{'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 15:35:24.000000000', 'files': ['strategy/linear.py', 'connection/ssh.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/f253c51d3922d92fbfce21aa611c0afe13babbb7', 'message': 'Add container_user to SSH connection plugin\n\nThis exposes the container_user setting to an operator and allows them\nto override it. This is helpful when you want to use 2 different\nusername for your physical_host user and container user.  Today if the\nphysical_host user is root, the container user will always be root\ntoo.\n\nChange-Id: Ie8e32b0441a5d72fcbc3cbf9769d8a7dc7548f08\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,554267,f253c51d3922d92fbfce21aa611c0afe13babbb7,7,3,1,4162,,,0,"Add container_user to SSH connection plugin

This exposes the container_user setting to an operator and allows them
to override it. This is helpful when you want to use 2 different
username for your physical_host user and container user.  Today if the
physical_host user is root, the container user will always be root
too.

Change-Id: Ie8e32b0441a5d72fcbc3cbf9769d8a7dc7548f08
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/67/554267/1 && git format-patch -1 --stdout FETCH_HEAD,"['strategy/linear.py', 'connection/ssh.py']",2,f253c51d3922d92fbfce21aa611c0afe13babbb7,," container_user: description: Username used when running command inside a container vars: - name: container_user # Check to see if container_user is setup first, if so use that value. if hasattr(self._play_context, 'container_user'): self.container_user = self._play_context.container_user elif self._play_context.remote_user:", if self._play_context.remote_user:,9,1
openstack%2Fopenstack-ansible-plugins~master~I8e1b448a1eba483f90cbf1c43cb45d18bf0db91b,openstack/openstack-ansible-plugins,master,I8e1b448a1eba483f90cbf1c43cb45d18bf0db91b,Remove duplicate check of self.container_user,MERGED,2018-03-19 15:35:24.000000000,2018-03-21 01:55:12.000000000,2018-03-21 01:55:12.000000000,"[{'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 15:35:24.000000000', 'files': ['connection/ssh.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/513b86004c3c0abb836090e86134039584b9a227', 'message': 'Remove duplicate check of self.container_user\n\nClean up some duplicate code that is already setup in the init()\nfunction.\n\nChange-Id: I8e1b448a1eba483f90cbf1c43cb45d18bf0db91b\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,554266,513b86004c3c0abb836090e86134039584b9a227,7,3,1,4162,,,0,"Remove duplicate check of self.container_user

Clean up some duplicate code that is already setup in the init()
function.

Change-Id: I8e1b448a1eba483f90cbf1c43cb45d18bf0db91b
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/66/554266/1 && git format-patch -1 --stdout FETCH_HEAD,['connection/ssh.py'],1,513b86004c3c0abb836090e86134039584b9a227,, else: self.container_user = 'root'," self.container_user = 'root' # Remote user is normally set, but if it isn't, then default to 'root' if self._play_context.remote_user: self.container_user = self._play_context.remote_user else: self.container_user = 'root'",3,6
openstack%2Fqinling~master~I759ee017f294cbe158e2df236da2f24e18fb1a46,openstack/qinling,master,I759ee017f294cbe158e2df236da2f24e18fb1a46,Test,ABANDONED,2018-03-21 01:46:20.000000000,2018-03-21 01:50:56.000000000,,[],"[{'number': 1, 'created': '2018-03-21 01:46:20.000000000', 'files': ['doc/source/features.rst'], 'web_link': 'https://opendev.org/openstack/qinling/commit/49e4c9b86e594b88f4f5c409de3192de8d3e0bf7', 'message': 'Test\n\nChange-Id: I759ee017f294cbe158e2df236da2f24e18fb1a46\n'}]",0,554758,49e4c9b86e594b88f4f5c409de3192de8d3e0bf7,2,0,1,27974,,,0,"Test

Change-Id: I759ee017f294cbe158e2df236da2f24e18fb1a46
",git fetch https://review.opendev.org/openstack/qinling refs/changes/58/554758/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/features.rst'],1,49e4c9b86e594b88f4f5c409de3192de8d3e0bf7,test, Test ~~~~,,3,0
openstack%2Fnova~master~I00600c297e39c0dd097f9da80b1dccb38ee3d235,openstack/nova,master,I00600c297e39c0dd097f9da80b1dccb38ee3d235,Provide a hint when performing a server action can't find the method,ABANDONED,2018-02-16 16:48:12.000000000,2018-03-21 01:42:12.000000000,,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-02-16 16:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c036af64ce88e72effc02bae386a208acc11b13', 'message': 'Provide a hint when performing a volume action can\'t find the method\n\nThere is no CLI for the os-force_detach volume action API, and while\nmaking a request for it with curl, I mistakenly used the Accept\nheader rather than the Content-Type header and got the unhelpful\nerror message:\n\n  ""There is no such action: None""\n\nWe can provide some simple details in the error message about\nmaking sure the request body is correct and that the Content-Type\nheader is specified to help the user.\n\nChange-Id: I00600c297e39c0dd097f9da80b1dccb38ee3d235\nCloses-Bug: #1749983\n'}, {'number': 2, 'created': '2018-02-19 14:21:25.000000000', 'files': ['nova/api/openstack/wsgi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2728d085866990e4f71d600c9839cc9545291d85', 'message': 'Provide a hint when performing a server action can\'t find the method\n\nI mistakenly used the Accept header rather than the Content-Type\nheader and got the unhelpful error message:\n\n  ""There is no such action: None""\n\nWe can provide some simple details in the error message about\nmaking sure the request body is correct and that the Content-Type\nheader is specified to help the user.\n\nChange-Id: I00600c297e39c0dd097f9da80b1dccb38ee3d235\nCloses-Bug: #1749983\n'}]",1,545382,2728d085866990e4f71d600c9839cc9545291d85,23,12,2,6873,,,0,"Provide a hint when performing a server action can't find the method

I mistakenly used the Accept header rather than the Content-Type
header and got the unhelpful error message:

  ""There is no such action: None""

We can provide some simple details in the error message about
making sure the request body is correct and that the Content-Type
header is specified to help the user.

Change-Id: I00600c297e39c0dd097f9da80b1dccb38ee3d235
Closes-Bug: #1749983
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/545382/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/wsgi.py'],1,5c036af64ce88e72effc02bae386a208acc11b13,bug/1749983," msg = (_(""There is no such action: %s. Verify the request body "" ""and Content-Type header and try again."") % ex.args[0])"," msg = _(""There is no such action: %s"") % ex.args[0]",2,1
openstack%2Fnetworking-generic-switch~master~I64e9433a3cb9f120490c4466e76ffd7d00d0133f,openstack/networking-generic-switch,master,I64e9433a3cb9f120490c4466e76ffd7d00d0133f,Support ironic bond,ABANDONED,2018-03-07 08:58:19.000000000,2018-03-21 01:38:22.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 25943}]","[{'number': 1, 'created': '2018-03-07 08:58:19.000000000', 'files': ['networking_generic_switch/tests/unit/test_generic_switch_mech.py', 'networking_generic_switch/devices/netmiko_devices/__init__.py', 'networking_generic_switch/generic_switch_mech.py'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/22bd9cbd54c66c10162624749a29c9469c3eb3c8', 'message': 'Support ironic bond\n\nThe switch automatically configuring the trunk interface for ironic bond.\nUse the local_group_information information in port to\ncreate trunk and delete the trunk interface.\n\nFixes Bug: #1753876\n\nChange-Id: I64e9433a3cb9f120490c4466e76ffd7d00d0133f\n'}]",12,550402,22bd9cbd54c66c10162624749a29c9469c3eb3c8,9,4,1,26150,,,0,"Support ironic bond

The switch automatically configuring the trunk interface for ironic bond.
Use the local_group_information information in port to
create trunk and delete the trunk interface.

Fixes Bug: #1753876

Change-Id: I64e9433a3cb9f120490c4466e76ffd7d00d0133f
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/02/550402/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_generic_switch/tests/unit/test_generic_switch_mech.py', 'networking_generic_switch/devices/netmiko_devices/__init__.py', 'networking_generic_switch/generic_switch_mech.py']",3,22bd9cbd54c66c10162624749a29c9469c3eb3c8,bug/1753876," def _plug_port(self, context, portid, local_info): switch_info = local_info[0].get('switch_info') switch_id = local_info[0].get('switch_id') switch = device_utils.get_switch_device( self.switches, switch_info=switch_info, ngs_mac_address=switch_id) if not switch: return port_id = local_info[0].get('port_id') segments = context.segments_to_bind segmentation_id = segments[0].get('segmentation_id') # If segmentation ID is None, set vlan 1 if not segmentation_id: segmentation_id = '1' provisioning_blocks.add_provisioning_component( context._plugin_context, portid, resources.PORT, GENERIC_SWITCH_ENTITY) LOG.debug(""Putting port {port} on {switch_info} to vlan: "" ""{segmentation_id} when plug port"".format( port=port_id, switch_info=switch_info, segmentation_id=segmentation_id)) # Move port to network switch.plug_port_to_network(port_id, segmentation_id) LOG.info(""Successfully bound port %(port_id)s in segment "" "" %(segment_id)s on device %(device)s when plug port"", {'port_id': portid, 'device': switch_info, 'segment_id': segmentation_id}) context.set_binding(segments[0][api.ID], portbindings.VIF_TYPE_OTHER, {}) def _bond_port(self, context, portid, local_info, group_info): trunkid = group_info.get('trunk_id') if not trunkid: return mode = group_info['bond_mode'] if not cmp(mode, '0'): mode_type = 'manual load-balance' if not cmp(mode, '4'): mode_type = 'lacp' segments = context.segments_to_bind segmentation_id = segments[0].get('segmentation_id') # If segmentation ID is None, set vlan 1 if not segmentation_id: segmentation_id = '1' switch_info = local_info[0].get('switch_info') switch_id = local_info[0].get('switch_id') switch = device_utils.get_switch_device( self.switches, switch_info=switch_info, ngs_mac_address=switch_id) if not switch: return if not cmp(mode, '0'): switch.bond_trunk_mode0(segmentation_id, trunkid, mode_type) if not cmp(mode, '4'): switch.bond_trunk_mode4(segmentation_id, trunkid, mode_type) for link in local_info: switch_info = link.get('switch_info') switch_id = link.get('switch_id') switch = device_utils.get_switch_device( self.switches, switch_info=switch_info, ngs_mac_address=switch_id) if not switch: continue port_id = link.get('port_id') provisioning_blocks.add_provisioning_component( context._plugin_context, portid, resources.PORT, GENERIC_SWITCH_ENTITY) LOG.debug(""bond port {port} on {switch_info} to eth-trunk: "" ""{trunkid}"".format( port=port_id, switch_info=switch_info, trunkid=trunkid)) # Bond port to eth-trunk switch.bond_port(port_id, trunkid) LOG.info(""Successfully bound port %(port_id)s in segment "" "" %(segment_id)s on device %(device)s when bond port"", {'port_id': portid, 'device': switch_info, 'segment_id': segmentation_id}) context.set_binding(segments[0][api.ID], portbindings.VIF_TYPE_OTHER, {}) local_group_information = binding_profile.get( 'local_group_information') if self._is_port_supported(port) and local_link_information: if local_group_information: self._bond_port(context, port['id'], local_link_information, local_group_information) else: self._plug_port(context, port['id'], local_link_information) def _delete_port(self, id, net_id, seg_id, local_link): switch_info = local_link[0].get('switch_info') switch_id = local_link[0].get('switch_id') switch = device_utils.get_switch_device( self.switches, switch_info=switch_info, ngs_mac_address=switch_id) if not switch: return port_id = local_link[0].get('port_id') LOG.debug(""Unplugging port {port} on {switch_info} from vlan: "" ""{segmentation_id} when delete_port"".format( port=port_id, switch_info=switch_info, segmentation_id=seg_id)) try: switch.delete_port(port_id, seg_id) except Exception as e: LOG.error(""Failed to unplug port %(port_id)s "" ""on device: %(switch)s from network %(net_id)s "" ""reason: %(exc)s when delete_port"", {'port_id': id, 'net_id': net_id, 'switch': switch_info, 'exc': e}) raise e LOG.info('Port %(port_id)s has been unplugged from network ' ' %(net_id)s on device %(device)s when delete_port', {'port_id': id, 'net_id': net_id, 'device': switch_info}) def _delete_bond(self, id, net_id, seg_id, local_link, group_info): trunkid = group_info.get('trunk_id') if not trunkid: return for link in local_link: switch_info = link.get('switch_info') switch_id = link.get('switch_id') switch = device_utils.get_switch_device( self.switches, switch_info=switch_info, ngs_mac_address=switch_id) if not switch: continue port_id = link.get('port_id') LOG.debug(""Unplugging port {port} on {switch_info} from vlan: "" ""{segmentation_id} when delete_bond"".format( port=port_id, switch_info=switch_info, segmentation_id=seg_id)) try: switch.delete_bond_port(port_id) except Exception as e: LOG.error(""Failed to unplug port %(port_id)s "" ""on device: %(switch)s from network %(net_id)s "" ""reason: %(exc)s when delete_bond"", {'port_id': id, 'net_id': net_id, 'switch': switch_info, 'exc': e}) raise e LOG.info('Port %(port_id)s has been unplugged from network ' ' %(net_id)s on device %(device)s when delete_bond', {'port_id': id, 'net_id': net_id, 'device': switch_info}) trunkid = group_info['trunk_id'] try: switch.delete_port_int(trunkid) except Exception as e: LOG.error(""Failed to delete eth-trunk %(trunkid)s "" ""on device: %(switch)s "" ""reason: %(exc)s when delete_bond"", {'trunkid': id, 'switch': switch_info, 'exc': e}) raise e LOG.info('eth-trunk %(trunkid)s has been deleted ' 'on device %(device)s when delete_bond', {'trunkid': id, 'device': switch_info}) local_group_information = binding_profile.get( 'local_group_information') if not local_group_information: self._delete_port(port['id'], network['id'], segmentation_id, local_link_information) else: self._delete_bond(port['id'], network['id'], segmentation_id, local_link_information, local_group_information)"," if self._is_port_supported(port) and local_link_information: switch_info = local_link_information[0].get('switch_info') switch_id = local_link_information[0].get('switch_id') switch = device_utils.get_switch_device( self.switches, switch_info=switch_info, ngs_mac_address=switch_id) if not switch: return network = context.network.current physnet = network['provider:physical_network'] switch_physnets = switch._get_physical_networks() if switch_physnets and physnet not in switch_physnets: LOG.error(""Cannot bind port %(port)s as device %(device)s is "" ""not on physical network %(physnet)"", {'port_id': port['id'], 'device': switch_info, 'physnet': physnet}) return port_id = local_link_information[0].get('port_id') segments = context.segments_to_bind # If segmentation ID is None, set vlan 1 segmentation_id = segments[0].get('segmentation_id') or '1' provisioning_blocks.add_provisioning_component( context._plugin_context, port['id'], resources.PORT, GENERIC_SWITCH_ENTITY) LOG.debug(""Putting port {port} on {switch_info} to vlan: "" ""{segmentation_id}"".format( port=port_id, switch_info=switch_info, segmentation_id=segmentation_id)) # Move port to network switch.plug_port_to_network(port_id, segmentation_id) LOG.info(""Successfully bound port %(port_id)s in segment "" ""%(segment_id)s on device %(device)s"", {'port_id': port['id'], 'device': switch_info, 'segment_id': segmentation_id}) context.set_binding(segments[0][api.ID], portbindings.VIF_TYPE_OTHER, {}) switch_info = local_link_information[0].get('switch_info') switch_id = local_link_information[0].get('switch_id') switch = device_utils.get_switch_device( self.switches, switch_info=switch_info, ngs_mac_address=switch_id) if not switch: return port_id = local_link_information[0].get('port_id') # If segmentation ID is None, set vlan 1 LOG.debug(""Unplugging port {port} on {switch_info} from vlan: "" ""{segmentation_id}"".format( port=port_id, switch_info=switch_info, segmentation_id=segmentation_id)) try: switch.delete_port(port_id, segmentation_id) except Exception as e: LOG.error(""Failed to unplug port %(port_id)s "" ""on device: %(switch)s from network %(net_id)s "" ""reason: %(exc)s"", {'port_id': port['id'], 'net_id': network['id'], 'switch': switch_info, 'exc': e}) raise e LOG.info('Port %(port_id)s has been unplugged from network ' '%(net_id)s on device %(device)s', {'port_id': port['id'], 'net_id': network['id'], 'device': switch_info})",216,63
openstack%2Fpuppet-murano~stable%2Fqueens~I3e41ba755f0d5ba54f3814b601fcab6bbb5b3f32,openstack/puppet-murano,stable/queens,I3e41ba755f0d5ba54f3814b601fcab6bbb5b3f32,Package openstack-murano-dashboard not found on Redhat,MERGED,2018-03-21 00:35:15.000000000,2018-03-21 01:16:09.000000000,2018-03-21 01:16:09.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 00:35:15.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/990cef403fe5a6a3952db8a567fcd6ad8524a4da', 'message': 'Package openstack-murano-dashboard not found on Redhat\n\npackage openstack-murano-dashboard not found on Redhat. It should be\nopenstack-murano-ui.[1]\n\n[1]https://trunk.rdoproject.org/centos7-master/puppet-passed-ci/openstack-murano-ui-5.0.0-0.20180314092433.27daadd.el7.centos.noarch.rpm\n\nChange-Id: I3e41ba755f0d5ba54f3814b601fcab6bbb5b3f32\nCloses-Bug: #1757034\n(cherry picked from commit ca7f7657acac8a9efe1943929a1e38a8a8921af8)\n'}]",0,554736,990cef403fe5a6a3952db8a567fcd6ad8524a4da,7,2,1,9414,,,0,"Package openstack-murano-dashboard not found on Redhat

package openstack-murano-dashboard not found on Redhat. It should be
openstack-murano-ui.[1]

[1]https://trunk.rdoproject.org/centos7-master/puppet-passed-ci/openstack-murano-ui-5.0.0-0.20180314092433.27daadd.el7.centos.noarch.rpm

Change-Id: I3e41ba755f0d5ba54f3814b601fcab6bbb5b3f32
Closes-Bug: #1757034
(cherry picked from commit ca7f7657acac8a9efe1943929a1e38a8a8921af8)
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/36/554736/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,990cef403fe5a6a3952db8a567fcd6ad8524a4da,bug/1757034-stable/queens, $dashboard_package_name = 'openstack-murano-ui', $dashboard_package_name = 'openstack-murano-dashboard',1,1
openstack%2Fpython-vitrageclient~master~I545bab01d42bbddbfd30eb41dc386d8f7df8aea7,openstack/python-vitrageclient,master,I545bab01d42bbddbfd30eb41dc386d8f7df8aea7,Follow the new PTI for document build,MERGED,2018-03-20 15:52:22.000000000,2018-03-21 01:12:51.000000000,2018-03-21 01:12:51.000000000,"[{'_account_id': 19134}, {'_account_id': 21414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 15:52:22.000000000', 'files': ['doc/source/contributor/readme.rst', 'doc/source/index.rst', 'test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/367b46c2e4ef20043b21707a04fd1011f8688249', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nThis patch also changes minor things in doc.\n\nChange-Id: I545bab01d42bbddbfd30eb41dc386d8f7df8aea7\n'}]",0,554602,367b46c2e4ef20043b21707a04fd1011f8688249,7,3,1,27153,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
https://governance.openstack.org/tc/reference/project-testing-interface.html
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

This patch also changes minor things in doc.

Change-Id: I545bab01d42bbddbfd30eb41dc386d8f7df8aea7
",git fetch https://review.opendev.org/openstack/python-vitrageclient refs/changes/02/554602/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/readme.rst', 'doc/source/index.rst', 'test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",5,367b46c2e4ef20043b21707a04fd1011f8688249,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt commands = sphinx-build -b html doc/source doc/build/htmldeps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,commands = python setup.py build_sphinx,18,5
openstack%2Fpuppet-murano~stable%2Fpike~I3e41ba755f0d5ba54f3814b601fcab6bbb5b3f32,openstack/puppet-murano,stable/pike,I3e41ba755f0d5ba54f3814b601fcab6bbb5b3f32,Package openstack-murano-dashboard not found on Redhat,MERGED,2018-03-21 00:35:22.000000000,2018-03-21 01:12:49.000000000,2018-03-21 01:12:49.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 00:35:22.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/ea486842bcd4ca6c6265ec765f450fac56c1479f', 'message': 'Package openstack-murano-dashboard not found on Redhat\n\npackage openstack-murano-dashboard not found on Redhat. It should be\nopenstack-murano-ui.[1]\n\n[1]https://trunk.rdoproject.org/centos7-master/puppet-passed-ci/openstack-murano-ui-5.0.0-0.20180314092433.27daadd.el7.centos.noarch.rpm\n\nChange-Id: I3e41ba755f0d5ba54f3814b601fcab6bbb5b3f32\nCloses-Bug: #1757034\n(cherry picked from commit ca7f7657acac8a9efe1943929a1e38a8a8921af8)\n'}]",0,554737,ea486842bcd4ca6c6265ec765f450fac56c1479f,6,2,1,9414,,,0,"Package openstack-murano-dashboard not found on Redhat

package openstack-murano-dashboard not found on Redhat. It should be
openstack-murano-ui.[1]

[1]https://trunk.rdoproject.org/centos7-master/puppet-passed-ci/openstack-murano-ui-5.0.0-0.20180314092433.27daadd.el7.centos.noarch.rpm

Change-Id: I3e41ba755f0d5ba54f3814b601fcab6bbb5b3f32
Closes-Bug: #1757034
(cherry picked from commit ca7f7657acac8a9efe1943929a1e38a8a8921af8)
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/37/554737/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,ea486842bcd4ca6c6265ec765f450fac56c1479f,bug/1757034-stable/queens-stable/pike, $dashboard_package_name = 'openstack-murano-ui', $dashboard_package_name = 'openstack-murano-dashboard',1,1
openstack%2Fpuppet-ceilometer~master~I2ce4de9d5212b112932ba9660ae5b13cbd23b0ad,openstack/puppet-ceilometer,master,I2ce4de9d5212b112932ba9660ae5b13cbd23b0ad,Switch acceptance test to use integration classes,MERGED,2018-03-20 05:58:42.000000000,2018-03-21 01:07:17.000000000,2018-03-21 01:07:17.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}, {'_account_id': 23317}]","[{'number': 1, 'created': '2018-03-20 05:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/83fb17e72469d4a400ca98b15c97a49abb627b59', 'message': 'Switch acceptance test to use integration classes\n\nChange-Id: I2ce4de9d5212b112932ba9660ae5b13cbd23b0ad\nDepends-On: If3a1c1299de725c23e2586453c9ab85e9db988b8\n'}, {'number': 2, 'created': '2018-03-20 06:24:03.000000000', 'files': ['spec/acceptance/ceilometer_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/29b45e8ab544282e71ff817151a8769c3bb2acfb', 'message': 'Switch acceptance test to use integration classes\n\nChange-Id: I2ce4de9d5212b112932ba9660ae5b13cbd23b0ad\nDepends-On: If3a1c1299de725c23e2586453c9ab85e9db988b8\n'}]",0,554417,29b45e8ab544282e71ff817151a8769c3bb2acfb,16,5,2,9414,,,0,"Switch acceptance test to use integration classes

Change-Id: I2ce4de9d5212b112932ba9660ae5b13cbd23b0ad
Depends-On: If3a1c1299de725c23e2586453c9ab85e9db988b8
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/17/554417/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/ceilometer_wsgi_apache_spec.rb'],1,83fb17e72469d4a400ca98b15c97a49abb627b59,ceilometer-beaker-refactor, include ::openstack_integration::ceilometer," rabbitmq_user { 'ceilometer': admin => true, password => 'an_even_bigger_secret', provider => 'rabbitmqctl', require => Class['rabbitmq'], } rabbitmq_user_permissions { 'ceilometer@/': configure_permission => '.*', write_permission => '.*', read_permission => '.*', provider => 'rabbitmqctl', require => Class['rabbitmq'], } # Ceilometer resources class { '::ceilometer': debug => true, telemetry_secret => 'secrete', default_transport_url => 'rabbit://ceilometer:an_even_bigger_secret@127.0.0.1:5672', } class { '::ceilometer::keystone::auth': password => 'a_big_secret', } class { '::ceilometer::db::mysql': password => 'a_big_secret', } class { '::ceilometer::db': database_connection => 'mysql+pymysql://ceilometer:a_big_secret@127.0.0.1/ceilometer?charset=utf8', sync_db => false, } # NOTE(tobasco): When running the beaker tests we need to exclude the # gnocchi resource types since the acceptance test does not setup gnocchi itself. class { '::ceilometer::db::sync': extra_params => '--skip-gnocchi-resource-types', } class { '::ceilometer::expirer': } class { '::ceilometer::agent::central': } class { '::ceilometer::agent::notification': } class { '::ceilometer::keystone::authtoken': password => 'a_big_secret', } class { '::ceilometer::dispatcher::gnocchi': }",1,44
openstack%2Fpuppet-murano~master~I3e41ba755f0d5ba54f3814b601fcab6bbb5b3f32,openstack/puppet-murano,master,I3e41ba755f0d5ba54f3814b601fcab6bbb5b3f32,Package openstack-murano-dashboard not found on Redhat,MERGED,2018-03-20 02:50:12.000000000,2018-03-21 00:35:15.000000000,2018-03-20 14:43:07.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 02:50:12.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/ca7f7657acac8a9efe1943929a1e38a8a8921af8', 'message': 'Package openstack-murano-dashboard not found on Redhat\n\npackage openstack-murano-dashboard not found on Redhat. It should be\nopenstack-murano-ui.[1]\n\n[1]https://trunk.rdoproject.org/centos7-master/puppet-passed-ci/openstack-murano-ui-5.0.0-0.20180314092433.27daadd.el7.centos.noarch.rpm\n\nChange-Id: I3e41ba755f0d5ba54f3814b601fcab6bbb5b3f32\nCloses-Bug: #1757034\n'}]",0,554404,ca7f7657acac8a9efe1943929a1e38a8a8921af8,8,3,1,9414,,,0,"Package openstack-murano-dashboard not found on Redhat

package openstack-murano-dashboard not found on Redhat. It should be
openstack-murano-ui.[1]

[1]https://trunk.rdoproject.org/centos7-master/puppet-passed-ci/openstack-murano-ui-5.0.0-0.20180314092433.27daadd.el7.centos.noarch.rpm

Change-Id: I3e41ba755f0d5ba54f3814b601fcab6bbb5b3f32
Closes-Bug: #1757034
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/04/554404/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,ca7f7657acac8a9efe1943929a1e38a8a8921af8,bug/1757034, $dashboard_package_name = 'openstack-murano-ui', $dashboard_package_name = 'openstack-murano-dashboard',1,1
openstack%2Fpatrole~master~Ie0d4f653d6b036d072b2307ed7859d406c17aa97,openstack/patrole,master,Ie0d4f653d6b036d072b2307ed7859d406c17aa97,Fix a bug in patrole documentation.,MERGED,2018-03-15 10:34:29.000000000,2018-03-21 00:12:05.000000000,2018-03-21 00:12:05.000000000,"[{'_account_id': 21800}, {'_account_id': 22348}, {'_account_id': 23185}, {'_account_id': 23186}, {'_account_id': 26674}]","[{'number': 1, 'created': '2018-03-15 10:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/7f37859a894205a950cd16b98e3d96714c525a79', 'message': 'Fix a bug in patrole documentation.\n\nChange-Id: Ie0d4f653d6b036d072b2307ed7859d406c17aa97\n'}, {'number': 2, 'created': '2018-03-15 19:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/cb94c25969a8348539d7f09ff0479c9ac07b9693', 'message': 'Fix a bug in patrole documentation.\n\nChange-Id: Ie0d4f653d6b036d072b2307ed7859d406c17aa97\n'}, {'number': 3, 'created': '2018-03-20 08:11:49.000000000', 'files': ['doc/source/installation.rst'], 'web_link': 'https://opendev.org/openstack/patrole/commit/bb46c5af88ca98ce2bb18237c0ccd016dad59457', 'message': 'Fix a bug in patrole documentation.\n\nCloses-Bug: 1752673\nChange-Id: Ie0d4f653d6b036d072b2307ed7859d406c17aa97\n'}]",4,553320,bb46c5af88ca98ce2bb18237c0ccd016dad59457,18,5,3,26674,,,0,"Fix a bug in patrole documentation.

Closes-Bug: 1752673
Change-Id: Ie0d4f653d6b036d072b2307ed7859d406c17aa97
",git fetch https://review.opendev.org/openstack/patrole refs/changes/20/553320/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/installation.rst'],1,7f37859a894205a950cd16b98e3d96714c525a79,doc_update, $ sudo pip install ./patrole, $ sudo pip install patrole,1,1
openstack%2Fcinder~driverfixes%2Focata~Ic57c122311039af159c0cfc083e6e9349702d1e4,openstack/cinder,driverfixes/ocata,Ic57c122311039af159c0cfc083e6e9349702d1e4,Solving permission errors due to directory ownership on NFS,MERGED,2018-03-19 18:56:14.000000000,2018-03-21 00:05:07.000000000,2018-03-20 21:07:48.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 25820}, {'_account_id': 26297}, {'_account_id': 27552}, {'_account_id': 27679}]","[{'number': 1, 'created': '2018-03-19 18:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a59d8fd93ffd4788685b5a4061c49668e0be1aeb', 'message': 'Solving permission errors due to directory ownership on NFS\n\nWe do the same work as the GlusterfsBackupDriver, uses chgrp+chmod to set\nproper permissions on the directories if needs be.\n\nChange-Id: Ic57c122311039af159c0cfc083e6e9349702d1e4\nCloses-Bug: #1715456\n(cherry picked from commit dd4c31f527e2c8f93fdfa55fe6713e0e32d94cc9)\n(cherry picked from commit 0f3fb16ba3da0fdfc816887aa06920740824bc68)\n(cherry picked from commit 9d06094c26dee3d5a87b5ad8fb70f0424ee432f9)\nConflicts:\n\tcinder/tests/unit/backup/drivers/test_backup_nfs.py\n'}, {'number': 2, 'created': '2018-03-19 20:29:40.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/backup/drivers/nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8bd1713fa4d280c786178373ecdf39b51404557', 'message': 'Solving permission errors due to directory ownership on NFS\n\nWe do the same work as the GlusterfsBackupDriver, uses chgrp+chmod to set\nproper permissions on the directories if needs be.\n\nChange-Id: Ic57c122311039af159c0cfc083e6e9349702d1e4\nCloses-Bug: #1715456\n(cherry picked from commit dd4c31f527e2c8f93fdfa55fe6713e0e32d94cc9)\n(cherry picked from commit 0f3fb16ba3da0fdfc816887aa06920740824bc68)\n(cherry picked from commit 9d06094c26dee3d5a87b5ad8fb70f0424ee432f9)\nConflicts:\n\tcinder/tests/unit/backup/drivers/test_backup_nfs.py\n'}]",0,554324,f8bd1713fa4d280c786178373ecdf39b51404557,29,21,2,21129,,,0,"Solving permission errors due to directory ownership on NFS

We do the same work as the GlusterfsBackupDriver, uses chgrp+chmod to set
proper permissions on the directories if needs be.

Change-Id: Ic57c122311039af159c0cfc083e6e9349702d1e4
Closes-Bug: #1715456
(cherry picked from commit dd4c31f527e2c8f93fdfa55fe6713e0e32d94cc9)
(cherry picked from commit 0f3fb16ba3da0fdfc816887aa06920740824bc68)
(cherry picked from commit 9d06094c26dee3d5a87b5ad8fb70f0424ee432f9)
Conflicts:
	cinder/tests/unit/backup/drivers/test_backup_nfs.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/24/554324/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/backup/drivers/nfs.py']",2,a59d8fd93ffd4788685b5a4061c49668e0be1aeb,bug/1715456,"import os import stat from oslo_concurrency import processutils as putils self._execute = putils.execute self._root_helper = utils.get_root_helper() self._root_helper, # Ensure we can write to this share mount_path = remotefsclient.get_mount_point(self.backup_share) group_id = os.getegid() current_group_id = utils.get_file_gid(mount_path) current_mode = utils.get_file_mode(mount_path) if group_id != current_group_id: cmd = ['chgrp', group_id, mount_path] self._execute(*cmd, root_helper=self._root_helper, run_as_root=True) if not (current_mode & stat.S_IWGRP): cmd = ['chmod', 'g+w', mount_path] self._execute(*cmd, root_helper=self._root_helper, run_as_root=True) return mount_path"," utils.get_root_helper(), return remotefsclient.get_mount_point(self.backup_share)",74,20
openstack%2Fcinder~driverfixes%2Focata~Id903658f944880c4ce341bd27452bbb4a37fce44,openstack/cinder,driverfixes/ocata,Id903658f944880c4ce341bd27452bbb4a37fce44,Pin setuptools version,MERGED,2018-03-19 20:06:50.000000000,2018-03-21 00:03:48.000000000,2018-03-20 21:07:41.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21129}, {'_account_id': 21486}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23295}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 27679}, {'_account_id': 27738}]","[{'number': 1, 'created': '2018-03-19 20:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e8a21bd9f5980d0657165f94a7c91483d00c41ff', 'message': 'Pin setuptools version\n\nSetuptools 39.0.0 breaks unit tests.\n\nChange-Id: Id903658f944880c4ce341bd27452bbb4a37fce44\nRelated-Bug: #1706394\n'}, {'number': 2, 'created': '2018-03-19 20:29:40.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ddbf9bd734c40a58f6ad12dd14b6f837385915a', 'message': 'Pin setuptools version\n\nSetuptools 39.0.0 breaks unit tests.\n\nChange-Id: Id903658f944880c4ce341bd27452bbb4a37fce44\nRelated-Bug: #1706394\n'}]",0,554347,0ddbf9bd734c40a58f6ad12dd14b6f837385915a,27,21,2,4523,,,0,"Pin setuptools version

Setuptools 39.0.0 breaks unit tests.

Change-Id: Id903658f944880c4ce341bd27452bbb4a37fce44
Related-Bug: #1706394
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/554347/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e8a21bd9f5980d0657165f94a7c91483d00c41ff,bug/1715456,setuptools===38.7.0,,1,0
openstack%2Fcinder~master~I419fdb69f27232663aaa4bff5fa3ec925cb221d4,openstack/cinder,master,I419fdb69f27232663aaa4bff5fa3ec925cb221d4,nimble: update documentation for supportability,MERGED,2018-03-13 18:02:51.000000000,2018-03-21 00:03:44.000000000,2018-03-20 01:59:22.000000000,"[{'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-03-13 18:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea607f8a5ba091ee97f9dce134aeaefe49642a8c', 'message': 'nimble: update documentation for supportability\n\n- update the ocata supportability for Nimble OS\n- update supportability for single subnet with multiple interfaces\n- remove unsupportability for unicode\n\nChange-Id: I419fdb69f27232663aaa4bff5fa3ec925cb221d4\nCloses-Bug: 1755546\n'}, {'number': 2, 'created': '2018-03-13 18:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6ceb75dfa7eea992e524018737e89c27179ba095', 'message': 'nimble: update documentation for supportability\n\n- update the ocata supportability for Nimble OS\n- update supportability for single subnet with multiple interfaces\n- remove unsupportability for unicode\n\nChange-Id: I419fdb69f27232663aaa4bff5fa3ec925cb221d4\nCloses-Bug: 1755546\n'}, {'number': 3, 'created': '2018-03-13 18:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/88a5c8fef0d59b5541ea78897616efdd5d2612f6', 'message': 'nimble: update documentation for supportability\n\n- update the ocata supportability for Nimble OS\n- update supportability for single subnet with multiple interfaces\n- remove unsupportability for unicode\n\nChange-Id: I419fdb69f27232663aaa4bff5fa3ec925cb221d4\nCloses-Bug: 1755546\n'}, {'number': 4, 'created': '2018-03-14 07:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2cc259b387c487de7af8f108b1e1da23609f675d', 'message': 'nimble: update documentation for supportability\n\n- update the ocata supportability for Nimble OS\n- update supportability for single subnet with multiple interfaces\n- remove unsupportability for unicode\n\nChange-Id: I419fdb69f27232663aaa4bff5fa3ec925cb221d4\nCloses-Bug: 1755546\n'}, {'number': 5, 'created': '2018-03-19 16:52:36.000000000', 'files': ['doc/source/configuration/block-storage/drivers/nimble-volume-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c26ef21381f48ba6b5e249192b155dd439c4d53', 'message': 'nimble: update documentation for supportability\n\n- update the ocata supportability for Nimble OS\n- update supportability for single subnet with multiple interfaces\n- remove unsupportability for unicode\n\nChange-Id: I419fdb69f27232663aaa4bff5fa3ec925cb221d4\nCloses-Bug: 1755546\n'}]",2,552646,2c26ef21381f48ba6b5e249192b155dd439c4d53,79,31,5,16668,,,0,"nimble: update documentation for supportability

- update the ocata supportability for Nimble OS
- update supportability for single subnet with multiple interfaces
- remove unsupportability for unicode

Change-Id: I419fdb69f27232663aaa4bff5fa3ec925cb221d4
Closes-Bug: 1755546
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/552646/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/nimble-volume-driver.rst'],1,ea607f8a5ba091ee97f9dce134aeaefe49642a8c,bug/1755546,Support for the Liberty release and above is available from Nimble OS 2.3.8 or later. Support for the Ocata release and abova is available from Nimble OS 3.6 or later. Nimble Storage Cinder driver does not support port binding with multiple interfaces on the same subnet due to existing limitation in os-brick. This is partially referenced in the bug https://bugs.launchpad .net/os-brick/+bug/1722432 but does not resolve for multiple software iscsi ifaces.,Nimble Storage Cinder driver does not accept unicode characters in the volume name or volume description.,11,2
openstack%2Fcinder~master~Ib38890e5cffbbd5dd2c31fad35bfba442519df26,openstack/cinder,master,Ib38890e5cffbbd5dd2c31fad35bfba442519df26,Fix incorrect usage of assertEqual() method in RBD unit tests,MERGED,2018-03-19 13:06:05.000000000,2018-03-21 00:03:39.000000000,2018-03-20 00:05:31.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23081}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-03-19 13:06:05.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a7c0621ac455e680a847c40484ded546a9aa6239', 'message': 'Fix incorrect usage of assertEqual() method in RBD unit tests\n\nThis patch is to fix some incorrect usage of assertEqual() method in RBD\nunit tests, and the right way is to use with assertEqual(expected, actual).\n\nChange-Id: Ib38890e5cffbbd5dd2c31fad35bfba442519df26\n'}]",1,554221,a7c0621ac455e680a847c40484ded546a9aa6239,32,27,1,23081,,,0,"Fix incorrect usage of assertEqual() method in RBD unit tests

This patch is to fix some incorrect usage of assertEqual() method in RBD
unit tests, and the right way is to use with assertEqual(expected, actual).

Change-Id: Ib38890e5cffbbd5dd2c31fad35bfba442519df26
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/554221/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/test_rbd.py'],1,a7c0621ac455e680a847c40484ded546a9aa6239,fix_rbd_unit_tests," self.assertEqual([self.mock_rbd.ImageExists], RAISED_EXCEPTIONS) self.assertEqual([self.mock_rbd.ImageNotFound], RAISED_EXCEPTIONS) self.assertEqual([self.mock_rbd.ImageNotFound], RAISED_EXCEPTIONS) self.assertEqual([self.mock_rbd.ImageNotFound], RAISED_EXCEPTIONS) self.assertEqual([self.mock_rbd.ImageExists], RAISED_EXCEPTIONS)"," self.assertEqual(RAISED_EXCEPTIONS, [self.mock_rbd.ImageExists]) self.assertEqual(RAISED_EXCEPTIONS, [self.mock_rbd.ImageNotFound]) self.assertEqual(RAISED_EXCEPTIONS, [self.mock_rbd.ImageNotFound]) self.assertEqual(RAISED_EXCEPTIONS, [self.mock_rbd.ImageNotFound]) self.assertEqual(RAISED_EXCEPTIONS, [self.mock_rbd.ImageExists])",6,8
openstack%2Fopenstack-ansible~master~I6aafca34ba9dc3a3a45a3ac01848eefeca2ad03d,openstack/openstack-ansible,master,I6aafca34ba9dc3a3a45a3ac01848eefeca2ad03d,Add more infos into error message,MERGED,2018-03-16 19:16:02.000000000,2018-03-20 23:59:33.000000000,2018-03-20 23:59:32.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 19578}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-03-16 19:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e55c9399dfeb646a944d5bf318a8f990179767b7', 'message': 'Add more infos into error message\n\nIt is way more convenient to tell the user exactly how much\nspace was found and what is the minimal size required instead\nof forcing him to go through the source code.\n\nChange-Id: I6aafca34ba9dc3a3a45a3ac01848eefeca2ad03d\n'}, {'number': 2, 'created': '2018-03-16 19:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b69b602a1d6b1684afe85a4a4b59dcef02b9e37b', 'message': 'Add more infos into error message\n\nIt is way more convenient to tell the user exactly how much\nspace was found and what is the minimal size required instead\nof forcing him to go through the source code.\n\nChange-Id: I6aafca34ba9dc3a3a45a3ac01848eefeca2ad03d\n'}, {'number': 3, 'created': '2018-03-17 07:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cf831e16dfb5d74f203ffabe6538ec6d3f6a2f9b', 'message': 'Add more infos into error message\n\nIt is way more convenient to tell the user exactly how much\nspace was found and what is the minimal size required instead\nof forcing him to go through the source code.\n\nChange-Id: I6aafca34ba9dc3a3a45a3ac01848eefeca2ad03d\n'}, {'number': 4, 'created': '2018-03-19 09:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8e0c92f653a93fca96bae7c3b8b546fd3f259d3c', 'message': 'Add more infos into error message\n\nIt is way more convenient to tell the user exactly how much\nspace was found and what is the minimal size required instead\nof forcing him to go through the source code.\n\nChange-Id: I6aafca34ba9dc3a3a45a3ac01848eefeca2ad03d\n'}, {'number': 5, 'created': '2018-03-19 11:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6020958e6fad2bd6958dbf506c69cd7b6c349a62', 'message': 'Add more infos into error message\n\nIt is way more convenient to tell the user exactly how much\nspace was found and what is the minimal size required instead\nof forcing him to go through the source code.\n\nChange-Id: I6aafca34ba9dc3a3a45a3ac01848eefeca2ad03d\n'}, {'number': 6, 'created': '2018-03-19 23:42:23.000000000', 'files': ['tests/roles/bootstrap-host/tasks/check-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dc890ee30d5220d9ebfe0b051b2393ffbeffd736', 'message': 'Add more infos into error message\n\nIt is way more convenient to tell the user exactly how much\nspace was found and what is the minimal size required instead\nof forcing him to go through the source code.\n\nChange-Id: I6aafca34ba9dc3a3a45a3ac01848eefeca2ad03d\n'}]",6,553881,dc890ee30d5220d9ebfe0b051b2393ffbeffd736,56,7,6,19578,,,0,"Add more infos into error message

It is way more convenient to tell the user exactly how much
space was found and what is the minimal size required instead
of forcing him to go through the source code.

Change-Id: I6aafca34ba9dc3a3a45a3ac01848eefeca2ad03d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/81/553881/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/check-requirements.yml'],1,e55c9399dfeb646a944d5bf318a8f990179767b7,add-error-message-infos,"- name: Set size facts set_fact: disk_gb_available: ""{{ ((host_data_disk_size_bytes | int ) / 1024**3) | round(2, 'floor') }}"" root_gb_available: ""{{ ((host_root_space_available_bytes | int ) / 1024**3) | round(2, 'floor') }}"" - name: Fail if there is not enough space available in / (found {{ root_gb_available }} GB, required {{ bootstrap_host_data_disk_min_size }} GB)- name: Fail if there is not enough disk space available (disk specified) (found {{ disk_gb_available }} GB, required {{ bootstrap_host_data_disk_min_size }} GB)",- name: Fail if there is not enough space available in /- name: Fail if there is not enough disk space available (disk specified),7,2
openstack%2Fmanila~stable%2Fqueens~Ifa2ca7bcdceef2d47e2841a27ddf51d86f1ef63c,openstack/manila,stable/queens,Ifa2ca7bcdceef2d47e2841a27ddf51d86f1ef63c,Change a parameter key for CIFS mounting command,MERGED,2018-03-09 06:55:23.000000000,2018-03-20 23:54:58.000000000,2018-03-20 23:54:58.000000000,"[{'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 15100}, {'_account_id': 16203}, {'_account_id': 16657}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-03-09 06:55:23.000000000', 'files': ['manila/share/drivers/huawei/v3/connection.py', 'releasenotes/notes/fix-huawei-driver-cifs-mount-issue-2d7bff5a7e6e3ad6.yaml', 'manila/tests/share/drivers/huawei/test_huawei_nas.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/0b2ac684a8a91c3eee62872f512989a1abc77e3f', 'message': 'Change a parameter key for CIFS mounting command\n\nWhile Huawei driver mounting CIFS filesystem, the username parameter\nkey passed to the mount command is by the form of ""user=***"", which\'s\ncompatible as ""username=***"" in Ubuntu. However, for some other\nsystems, such as Redhat, it is not valid.\n\nThis patch changes it to the more compatible form ""username=***"".\n\nChange-Id: Ifa2ca7bcdceef2d47e2841a27ddf51d86f1ef63c\nCloses-Bug: #1740816\n(cherry picked from commit 5ef160ca7511ca92d8735cfca7bd176dee8ed995)\n'}]",0,551180,0b2ac684a8a91c3eee62872f512989a1abc77e3f,18,10,1,16203,,,0,"Change a parameter key for CIFS mounting command

While Huawei driver mounting CIFS filesystem, the username parameter
key passed to the mount command is by the form of ""user=***"", which's
compatible as ""username=***"" in Ubuntu. However, for some other
systems, such as Redhat, it is not valid.

This patch changes it to the more compatible form ""username=***"".

Change-Id: Ifa2ca7bcdceef2d47e2841a27ddf51d86f1ef63c
Closes-Bug: #1740816
(cherry picked from commit 5ef160ca7511ca92d8735cfca7bd176dee8ed995)
",git fetch https://review.opendev.org/openstack/manila refs/changes/80/551180/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/huawei/v3/connection.py', 'releasenotes/notes/fix-huawei-driver-cifs-mount-issue-2d7bff5a7e6e3ad6.yaml', 'manila/tests/share/drivers/huawei/test_huawei_nas.py']",3,0b2ac684a8a91c3eee62872f512989a1abc77e3f,bug/1740816," @ddt.data({'name': 'fake_name', 'share_proto': 'NFS', 'mount_path': 'fake_nfs_mount_path', 'mount_src': '/mnt/test'}, {'name': 'fake_name', 'share_proto': 'CIFS', 'mount_path': 'fake_cifs_mount_path', 'mount_src': '/mnt/test'}, ) def test_mount_share_to_host(self, share): access = {'access_to': 'cifs_user', 'access_password': 'cifs_password'} mocker = self.mock_object(utils, 'execute') self.driver.plugin.mount_share_to_host(share, access) if share['share_proto'] == 'NFS': mocker.assert_called_once_with( 'mount', '-t', 'nfs', 'fake_nfs_mount_path', '/mnt/test', run_as_root=True) else: mocker.assert_called_once_with( 'mount', '-t', 'cifs', 'fake_cifs_mount_path', '/mnt/test', '-o', 'username=cifs_user,password=cifs_password', run_as_root=True) ",,30,1
openstack%2Fneutron~master~Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d,openstack/neutron,master,Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d,DVR:Pro-active router creation with live migration,MERGED,2016-02-02 21:45:00.000000000,2018-03-20 23:53:30.000000000,2016-03-15 11:14:22.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 7016}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10692}, {'_account_id': 11159}, {'_account_id': 13667}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14215}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15443}, {'_account_id': 15752}, {'_account_id': 16707}, {'_account_id': 20084}, {'_account_id': 20246}]","[{'number': 1, 'created': '2016-02-02 21:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c0657a3a98c79d37a88168d29de9a4ff52b01a78', 'message': ""(WIP)DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'state' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nBased on the portbinding profile information in the port,\nthe ml2 plugin will notify the L3 plugin if there is a profile\nupdate.\n\nL3 plugin will verify the profile state and then take action\nto create routers in the respective agents if routers have not\nbeen created.\n\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 2, 'created': '2016-02-02 21:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c7222f4ca6875320659d26555c5e51195d21625', 'message': ""(WIP)DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'state' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nBased on the portbinding profile information in the port,\nthe ml2 plugin will notify the L3 plugin if there is a profile\nupdate.\n\nL3 plugin will verify the profile state and then take action\nto create routers in the respective agents if routers have not\nbeen created.\n\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 3, 'created': '2016-02-02 23:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5148d9faa711b77d39cb831b8ed8170bf0b3b3e1', 'message': ""(WIP)DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'state' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nBased on the portbinding profile information in the port,\nthe ml2 plugin will notify the L3 plugin if there is a profile\nupdate.\n\nL3 plugin will verify the profile state and then take action\nto create routers in the respective agents if routers have not\nbeen created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 4, 'created': '2016-02-03 15:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eaeafb91e3dcaa855c2acf75587317e09a9dd438', 'message': ""(WIP)DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'state' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nBased on the portbinding profile information in the port,\nthe ml2 plugin will notify the L3 plugin if there is a profile\nupdate.\n\nL3 plugin will verify the profile state and then take action\nto create routers in the respective agents if routers have not\nbeen created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 5, 'created': '2016-02-03 20:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/911210f67bc6cc5ae71c69513f901a0b43a481f9', 'message': ""(WIP)DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'state' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nBased on the portbinding profile information in the port,\nthe ml2 plugin will notify the L3 plugin if there is a profile\nupdate.\n\nL3 plugin will verify the profile state and then take action\nto create routers in the respective agents if routers have not\nbeen created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 6, 'created': '2016-02-04 00:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a241c2dae4a12405b47dc70dc061ee2bc255d06a', 'message': ""(WIP)DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'state' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nBased on the portbinding profile information in the port,\nthe ml2 plugin will notify the L3 plugin if there is a profile\nupdate.\n\nL3 plugin will verify the profile state and then take action\nto create routers in the respective agents if routers have not\nbeen created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 7, 'created': '2016-02-04 05:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/55e698445e6883c8c54a2fdcd878216072dfa901', 'message': ""(WIP)DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'state' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nBased on the portbinding profile information in the port,\nthe ml2 plugin will notify the L3 plugin if there is a profile\nupdate.\n\nL3 plugin will verify the profile state and then take action\nto create routers in the respective agents if routers have not\nbeen created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 8, 'created': '2016-02-04 09:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b20eda542f0feb114b7cfe0b6b64168204a2a84', 'message': ""(WIP)DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'state' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nBased on the portbinding profile information in the port,\nthe ml2 plugin will notify the L3 plugin if there is a profile\nupdate.\n\nL3 plugin will verify the profile state and then take action\nto create routers in the respective agents if routers have not\nbeen created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 9, 'created': '2016-02-05 02:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75c16532f04f86aa0e80e5a1cdcfc907ad2a64c8', 'message': ""(WIP)DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'state' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nBased on the portbinding profile information in the port,\nthe ml2 plugin will notify the L3 plugin if there is a profile\nupdate.\n\nL3 plugin will verify the profile state and then take action\nto create routers in the respective agents if routers have not\nbeen created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 10, 'created': '2016-02-05 10:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bf3797337267aa9e1db6c5b28991f6b27a05af11', 'message': ""(WIP)DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'state' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nBased on the portbinding profile information in the port,\nthe ml2 plugin will notify the L3 plugin if there is a profile\nupdate.\n\nL3 plugin will verify the profile state and then take action\nto create routers in the respective agents if routers have not\nbeen created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 11, 'created': '2016-02-09 01:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e7eb42992ee2527d7438341bd4baa23b170011c', 'message': ""DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'state' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nBased on the portbinding profile information in the port,\nthe ml2 plugin will notify the L3 plugin if there is a profile\nupdate.\n\nL3 plugin will verify the profile state and then take action\nto create routers in the respective agents if routers have not\nbeen created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 12, 'created': '2016-02-09 16:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b0dcb6caf7b66b55ea69d5c9ae1a4171fc716cf', 'message': ""DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'state' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nBased on the portbinding profile information in the port,\nthe ml2 plugin will notify the L3 plugin if there is a profile\nupdate.\n\nL3 plugin will verify the profile state and then take action\nto create routers in the respective agents if routers have not\nbeen created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 13, 'created': '2016-02-10 00:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb424058f677a8a89eb472ab16509f4508823154', 'message': ""DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'state' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nBased on the portbinding profile information in the port,\nthe ml2 plugin will notify the L3 plugin if there is a profile\nupdate.\n\nL3 plugin will verify the profile state and then take action\nto create routers in the respective agents if routers have not\nbeen created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 14, 'created': '2016-02-10 23:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a600b73331dcfe3307243ce6872947da707484d7', 'message': ""DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'state' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nBased on the portbinding profile information in the port,\nthe ml2 plugin will notify the L3 plugin if there is a profile\nupdate.\n\nL3 plugin will verify the profile state and then take action\nto create routers in the respective agents if routers have not\nbeen created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 15, 'created': '2016-02-11 17:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a45be0b8a7ba7ccf66dd4e7b3d359d556657b9a', 'message': ""DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'state' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nBased on the portbinding profile information in the port,\nthe ml2 plugin will notify the L3 plugin if there is a profile\nupdate.\n\nL3 plugin will verify the profile state and then take action\nto create routers in the respective agents if routers have not\nbeen created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 16, 'created': '2016-02-11 22:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c032e5e8d46986e24467acf11eab331d5f7f773a', 'message': ""DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'state' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nBased on the portbinding profile information in the port,\nthe ml2 plugin will notify the L3 plugin if there is a profile\nupdate.\n\nL3 plugin will verify the profile state and then take action\nto create routers in the respective agents if routers have not\nbeen created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 17, 'created': '2016-02-23 02:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f974f22799efa43acb8ab7df4bf4e0703b6d0840', 'message': ""DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'state' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nBased on the portbinding profile information in the port,\nthe ml2 plugin will notify the L3 plugin if there is a profile\nupdate.\n\nL3 plugin will verify the profile state and then take action\nto create routers in the respective agents if routers have not\nbeen created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 18, 'created': '2016-02-24 17:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed07e1be935da6e111cdd24cb8a397f4cbb038b7', 'message': ""DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'migration_status' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nL3 plugin will verify the migration profile for the port on\nany port update and then take action to create routers in the\nrespective agents if routers have not been created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 19, 'created': '2016-02-24 21:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7f22665dbb47f5288278b034863893c5f4106d3', 'message': ""DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'migration_status' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nL3 plugin will verify the migration profile for the port on\nany port update and then take action to create routers in the\nrespective agents if routers have not been created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 20, 'created': '2016-02-25 17:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f60b288ea3033b32164179d683a404287886abbb', 'message': ""DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'migration_status' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nL3 plugin will verify the migration profile for the port on\nany port update and then take action to create routers in the\nrespective agents if routers have not been created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 21, 'created': '2016-02-25 23:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd57ca9198a08674df3d440bc38a44d54c690c78', 'message': ""DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\nthe 'migrating_to' attribute.\n\nport:{'binding:profile':{'migrating_to': 'host-id'}}\n\nL3 plugin will verify the migration profile for the port on\nany port update and then take action to create routers in the\nrespective agents if routers have not been created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 22, 'created': '2016-02-29 18:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd01e100fcfe2e4719880940c5be6e80136eacb5', 'message': ""DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\ntwo attributes\n'migration_status' = 'migration' and\n'destination' = 'host-id' ( destination host id)\n\nL3 plugin will verify the migration profile for the port on\nany port update and then take action to create routers in the\nrespective agents if routers have not been created.\n\nDepends-On: Ib1cc44bf9d01baf4d1f1d26c2a368a5ca7c6ab68\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 23, 'created': '2016-03-14 16:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2a4d0047925b781810060b9b504626ce58c1248', 'message': ""DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\nan attribute 'migrating_to' as shown below\n\nport:{'binding:profile':{'migrating_to': 'host'}}\n\nwhere 'host' points to the 'destination' of the port.\n\nL3 plugin will verify the migration profile for the port on\nany port update and then take action to create routers in the\nrespective agents if routers have not been created.\n\nIf the live migration fails or if reverted, then the port\nbinding profile attribute 'migrating_to' will be cleared from\nthe port profile. In this case, the router and the fip namespace\nmay be created on the destination node, but since the VM did\nnot land on the destination node, it would not cause any issues,\nsince the traffic will still be flowing out from the origination\nnode, except for the existence of the router and fip namespace.\n\nFor some reason if the creation of the router namespace and fip\nnamespace fails, then the live migration may still proceed as\nit is now and the agent will create the router namespace and fip\nnamespace reactively.\n\nThe case were we report status back to Nova and Nova reacting\nto the setup_networks_on_host status will be handled in the\nupcoming release.\n\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 24, 'created': '2016-03-14 17:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8b79baa614362acea188a1c4af47382b4424cd5', 'message': ""DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\nan attribute 'migrating_to' as shown below\n\nport:{'binding:profile':{'migrating_to': 'host'}}\n\nwhere 'host' points to the 'destination' of the port.\n\nL3 plugin will verify the migration profile for the port on\nany port update and then take action to create routers in the\nrespective agents if routers have not been created.\n\nIf the live migration fails or if reverted, then the port\nbinding profile attribute 'migrating_to' will be cleared from\nthe port profile. In this case, the router and the fip namespace\nmay be created on the destination node, but since the VM did\nnot land on the destination node, it would not cause any issues,\nsince the traffic will still be flowing out from the origination\nnode, except for the existence of the router and fip namespace.\n\nFor some reason if the creation of the router namespace and fip\nnamespace fails, then the live migration may still proceed as\nit is now and the agent will create the router namespace and fip\nnamespace reactively.\n\nThe case were we report status back to Nova and Nova reacting\nto the setup_networks_on_host status will be handled in the\nupcoming release.\n\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}, {'number': 25, 'created': '2016-03-14 23:54:13.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/tests/functional/services/l3_router/test_l3_dvr_router_plugin.py', 'releasenotes/notes/dvr-support-live-migration-b818b12bd9cbb518.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0bdb798fa14b7bd5649d98789e71803127dd9f7', 'message': ""DVR:Pro-active router creation with live migration\n\nToday DVR routers are created after a dvr service port is\nseen on a given node. But in the case of instance live\nmigration, the creation of l3 routed networks on the\ndestination node is delayed since we react to the event.\n\nThis patch tries to proactively create routers on the\ndestination node based on the portbinding profile info\nupdated by the nova when the instance is on a pre-migration\nstate.\n\nNova calls setup_network_on_host during the pre-migration\nphase and we update the portbinding profile dict with\nan attribute 'migrating_to' as shown below\n\nport:{'binding:profile':{'migrating_to': 'host'}}\n\nwhere 'host' points to the 'destination' of the port.\n\nL3 plugin will verify the migration profile for the port on\nany port update and then take action to create routers in the\nrespective agents if routers have not been created.\n\nIf the live migration fails or if reverted, then the port\nbinding profile attribute 'migrating_to' will be cleared from\nthe port profile. In this case, the router and the fip namespace\nmay be created on the destination node, but since the VM did\nnot land on the destination node, it would not cause any issues,\nsince the traffic will still be flowing out from the origination\nnode, except for the existence of the router and fip namespace.\n\nFor some reason if the creation of the router namespace and fip\nnamespace fails, then the live migration may still proceed as\nit is now and the agent will create the router namespace and fip\nnamespace reactively.\n\nThe case were we report status back to Nova and Nova reacting\nto the setup_networks_on_host status will be handled in the\nupcoming release.\n\nThis patch should not affect any upgrades with respect to the\nagent or server.\n\nChange-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d\nRelated-Bug: #1456073\n""}]",64,275420,f0bdb798fa14b7bd5649d98789e71803127dd9f7,380,28,25,7016,,,0,"DVR:Pro-active router creation with live migration

Today DVR routers are created after a dvr service port is
seen on a given node. But in the case of instance live
migration, the creation of l3 routed networks on the
destination node is delayed since we react to the event.

This patch tries to proactively create routers on the
destination node based on the portbinding profile info
updated by the nova when the instance is on a pre-migration
state.

Nova calls setup_network_on_host during the pre-migration
phase and we update the portbinding profile dict with
an attribute 'migrating_to' as shown below

port:{'binding:profile':{'migrating_to': 'host'}}

where 'host' points to the 'destination' of the port.

L3 plugin will verify the migration profile for the port on
any port update and then take action to create routers in the
respective agents if routers have not been created.

If the live migration fails or if reverted, then the port
binding profile attribute 'migrating_to' will be cleared from
the port profile. In this case, the router and the fip namespace
may be created on the destination node, but since the VM did
not land on the destination node, it would not cause any issues,
since the traffic will still be flowing out from the origination
node, except for the existence of the router and fip namespace.

For some reason if the creation of the router namespace and fip
namespace fails, then the live migration may still proceed as
it is now and the agent will create the router namespace and fip
namespace reactively.

The case were we report status back to Nova and Nova reacting
to the setup_networks_on_host status will be handled in the
upcoming release.

This patch should not affect any upgrades with respect to the
agent or server.

Change-Id: Ibb62f012333cfdfd468bafdc0b4501aa46b4b54d
Related-Bug: #1456073
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/275420/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvrscheduler_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/plugins/ml2/plugin.py']",4,c0657a3a98c79d37a88168d29de9a4ff52b01a78,bug/1456073," profile_updated = False if attrs and portbindings.PROFILE in attrs: profile = attrs.get(portbindings.PROFILE) if profile: profile_updated = True 'profile_updated': profile_updated,",,54,8
openstack%2Fcharm-neutron-gateway~master~I79a1183e7eddd4981367baf4a22fe2ec6374b0b9,openstack/charm-neutron-gateway,master,I79a1183e7eddd4981367baf4a22fe2ec6374b0b9,Switch keystone authentication calls to admin ep,MERGED,2018-03-19 14:25:04.000000000,2018-03-20 23:30:39.000000000,2018-03-20 19:06:44.000000000,"[{'_account_id': 935}, {'_account_id': 8108}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 14:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/06563be2eec8e7e4114fb9b6de328f04ad5c0a8c', 'message': 'Switch keystone authentication calls to admin ep\n\nEnsure that the keystone admin endpoint is used for calls\nto keystone, resolving issues when the public ep is not\nnetwork accessible from the neutron-gateway units.\n\nChange-Id: I79a1183e7eddd4981367baf4a22fe2ec6374b0b9\nCloses-Bug: 1756111\n'}, {'number': 2, 'created': '2018-03-19 18:00:37.000000000', 'files': ['templates/mitaka/l3_agent.ini', 'tests/basic_deployment.py', 'templates/icehouse/l3_agent.ini', 'templates/juno/l3_agent.ini', 'templates/kilo/nova.conf', 'templates/icehouse/nova.conf', 'templates/newton/l3_agent.ini', 'templates/icehouse/metadata_agent.ini', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/802f607b8c0f9dc20703b0eac9706431fc2f08bc', 'message': 'Switch keystone authentication calls to admin ep\n\nEnsure that the keystone admin endpoint is used for calls\nto keystone, resolving issues when the public ep is not\nnetwork accessible from the neutron-gateway units.\n\nChange-Id: I79a1183e7eddd4981367baf4a22fe2ec6374b0b9\nCloses-Bug: 1756111\n'}]",0,554240,802f607b8c0f9dc20703b0eac9706431fc2f08bc,15,5,2,935,,,0,"Switch keystone authentication calls to admin ep

Ensure that the keystone admin endpoint is used for calls
to keystone, resolving issues when the public ep is not
network accessible from the neutron-gateway units.

Change-Id: I79a1183e7eddd4981367baf4a22fe2ec6374b0b9
Closes-Bug: 1756111
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/40/554240/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/mitaka/l3_agent.ini', 'templates/icehouse/l3_agent.ini', 'templates/juno/l3_agent.ini', 'templates/kilo/nova.conf', 'templates/icehouse/nova.conf', 'templates/newton/l3_agent.ini', 'templates/icehouse/metadata_agent.ini', 'templates/mitaka/nova.conf']",8,06563be2eec8e7e4114fb9b6de328f04ad5c0a8c,bug/1756111,auth_url={{ auth_protocol }}://{{ keystone_host }}:{{ auth_port }},auth_url={{ service_protocol }}://{{ keystone_host }}:{{ service_port }},8,8
openstack%2Fsenlin-dashboard~master~I331d3a78cd674a88a57d981eea4514341be337c3,openstack/senlin-dashboard,master,I331d3a78cd674a88a57d981eea4514341be337c3,Simplify tox.ini,ABANDONED,2018-03-19 19:49:25.000000000,2018-03-20 23:10:04.000000000,,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-03-19 19:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/a60e755e054971bab89c3f12577b4cc2341267f9', 'message': 'Simplify tox.ini\n\nSimplify tox.ini install since it will not\nfetch the correct horizon tree and will cause\nthe runs to fail.\n\nChange-Id: I331d3a78cd674a88a57d981eea4514341be337c3\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 2, 'created': '2018-03-20 12:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/a99ca4e55bda7c313ed2049dc1bed989be135dc1', 'message': 'Simplify tox.ini\n\nSimplify tox.ini install since it will not\nfetch the correct horizon tree and will cause\nthe runs to fail.\n\nChange-Id: I331d3a78cd674a88a57d981eea4514341be337c3\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}, {'number': 3, 'created': '2018-03-20 12:22:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/313969594af2a4f0ac224e8e6b95c3407f6f899e', 'message': 'Simplify tox.ini\n\nSimplify tox.ini install since it will not\nfetch the correct horizon tree and will cause\nthe runs to fail.\n\nChange-Id: I331d3a78cd674a88a57d981eea4514341be337c3\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}]",0,554339,313969594af2a4f0ac224e8e6b95c3407f6f899e,8,3,3,24,,,0,"Simplify tox.ini

Simplify tox.ini install since it will not
fetch the correct horizon tree and will cause
the runs to fail.

Change-Id: I331d3a78cd674a88a57d981eea4514341be337c3
Signed-off-by: Charles Short <zulcss@gmail.com>
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/39/554339/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a60e755e054971bab89c3f12577b4cc2341267f9,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages}deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt,4,3
openstack%2Fswift~feature%2Fdeep~I1201708de4e9b0ab73af52af42ab346ad0ffa598,openstack/swift,feature/deep,I1201708de4e9b0ab73af52af42ab346ad0ffa598,Add script tool to manage container db shard ranges,MERGED,2018-03-16 19:19:27.000000000,2018-03-20 22:55:27.000000000,2018-03-20 19:54:19.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 19:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7b7adb839e5c603677f0368e06e20473609bbe42', 'message': 'Add script tool to manage container db shard ranges\n\n- find shard ranges\n- inject shard ranges to a db\n- show db shard ranges\n- show db sharding info\n- delete existing shard ranges\n\nChange-Id: I1201708de4e9b0ab73af52af42ab346ad0ffa598\n'}, {'number': 2, 'created': '2018-03-19 13:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cd8fc5890568c4d2764cb546ea01a5ae33913f06', 'message': 'Add script tool to manage container db shard ranges\n\n- find shard ranges\n- inject shard ranges to a db\n- show db shard ranges\n- show db sharding info\n- delete existing shard ranges\n\nChange-Id: I1201708de4e9b0ab73af52af42ab346ad0ffa598\n'}, {'number': 3, 'created': '2018-03-19 18:17:49.000000000', 'files': ['swift/cli/manage_shard_ranges.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/aaa9cab961761c65b34985adcdf32fe62f0bfd20', 'message': 'Add script tool to manage container db shard ranges\n\n- find shard ranges\n- inject shard ranges to a db\n- show db shard ranges\n- show db sharding info\n- delete existing shard ranges\n\nChange-Id: I1201708de4e9b0ab73af52af42ab346ad0ffa598\n'}]",13,553882,aaa9cab961761c65b34985adcdf32fe62f0bfd20,12,3,3,7847,,,0,"Add script tool to manage container db shard ranges

- find shard ranges
- inject shard ranges to a db
- show db shard ranges
- show db sharding info
- delete existing shard ranges

Change-Id: I1201708de4e9b0ab73af52af42ab346ad0ffa598
",git fetch https://review.opendev.org/openstack/swift refs/changes/82/553882/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/manage_shard_ranges.py', 'swift/container/sharder.py']",2,7b7adb839e5c603677f0368e06e20473609bbe42,p-sharding-tool,"def make_shard_ranges(broker, shard_data, shards_account_prefix): timestamp = Timestamp.now() return [ ShardRange(ShardRange.make_path( shards_account_prefix + broker.root_account, broker.root_container, broker.container, timestamp, data.pop('index')), timestamp, **data) for data in shard_data] shard_data, last_found = broker.find_shard_ranges( if not shard_data: shard_ranges = make_shard_ranges( broker, self.shards_account_prefix, shard_data)"," found_ranges, last_found = broker.find_shard_ranges( if not found_ranges: timestamp = Timestamp.now() shard_ranges = [ ShardRange(ShardRange.make_path( self.shards_account_prefix + broker.root_account, broker.root_container, broker.container, timestamp, found_range.pop('index')), timestamp, **found_range) for found_range in found_ranges]",211,10
openstack%2Fcinder~stable%2Fqueens~Idcfdbf815f404982d26618710a291054f19be736,openstack/cinder,stable/queens,Idcfdbf815f404982d26618710a291054f19be736,Fix leftovers after backup abort,MERGED,2018-03-13 12:12:34.000000000,2018-03-20 22:47:19.000000000,2018-03-20 22:47:19.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-03-13 12:12:34.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/objects/test_base.py', 'cinder/backup/manager.py', 'cinder/objects/base.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/backup/chunkeddriver.py', 'releasenotes/notes/fix-abort-backup-df196e9dcb992586.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d65444ce7df88292581d0726f9eb633be2292287', 'message': ""Fix leftovers after backup abort\n\nWhen aborting a backup on any chunked driver we will be leaving chunks\nin the backend without Cinder knowing so and with no way of deleting\nthem from Cinder.  In this case the only way to delete them is going to\nthe storage itself and deleting them manually.\n\nAnother issue that will happen if we are using a temporary resource for\nthe backup, be it a volume or a snapshot, is that it will not be cleaned\nup and will be left for us to manually issue the delete through the\nCinder API.\n\nThe first issue is caused by the chunked driver's assumption that the\n`refresh` method in an OVO will ignore the context's `read_deleted`\nconfiguration and always read the record, which is not true.  And since\nit doesn't work when the record is deleted there will be leftovers if\nthe status of the backup transitions to deleted during the processing of\na chunk.\n\nThe second issue is caused by the same thing, but in this case is when\nthe backup manager refreshes the backup OVO to know the temporary\nresource it needs to clean up.\n\nThis patches fixes the incorrect behavior of the backup abort mechanism\nto prevent leaving things behind.\n\nCloses-Bug: #1746559\nChange-Id: Idcfdbf815f404982d26618710a291054f19be736\n(cherry picked from commit 4ff9e63707e2c4cf5869f28e3e86fd0606d2db9a)\n""}]",0,552495,d65444ce7df88292581d0726f9eb633be2292287,60,19,1,9535,,,0,"Fix leftovers after backup abort

When aborting a backup on any chunked driver we will be leaving chunks
in the backend without Cinder knowing so and with no way of deleting
them from Cinder.  In this case the only way to delete them is going to
the storage itself and deleting them manually.

Another issue that will happen if we are using a temporary resource for
the backup, be it a volume or a snapshot, is that it will not be cleaned
up and will be left for us to manually issue the delete through the
Cinder API.

The first issue is caused by the chunked driver's assumption that the
`refresh` method in an OVO will ignore the context's `read_deleted`
configuration and always read the record, which is not true.  And since
it doesn't work when the record is deleted there will be leftovers if
the status of the backup transitions to deleted during the processing of
a chunk.

The second issue is caused by the same thing, but in this case is when
the backup manager refreshes the backup OVO to know the temporary
resource it needs to clean up.

This patches fixes the incorrect behavior of the backup abort mechanism
to prevent leaving things behind.

Closes-Bug: #1746559
Change-Id: Idcfdbf815f404982d26618710a291054f19be736
(cherry picked from commit 4ff9e63707e2c4cf5869f28e3e86fd0606d2db9a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/552495/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/objects/test_base.py', 'cinder/backup/manager.py', 'cinder/objects/base.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/backup/chunkeddriver.py', 'releasenotes/notes/fix-abort-backup-df196e9dcb992586.yaml']",7,d65444ce7df88292581d0726f9eb633be2292287,bug/1746559,--- fixes: - | We no longer leave orphaned chunks on the backup backend or leave a temporary volume/snapshot when aborting a backup. ,,131,15
openstack%2Fswift~master~I04e3f30a82c89fb7e714c5eb7225374b9a5c76f9,openstack/swift,master,I04e3f30a82c89fb7e714c5eb7225374b9a5c76f9,Add round_robin_iter function to common/utils,MERGED,2018-03-20 15:05:57.000000000,2018-03-20 22:47:14.000000000,2018-03-20 22:47:14.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}, {'_account_id': 25251}]","[{'number': 1, 'created': '2018-03-20 15:05:57.000000000', 'files': ['swift/common/utils.py', 'swift/common/db_replicator.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9f4910f6b938aa1679571d4787bbdcfa5b5f3a19', 'message': 'Add round_robin_iter function to common/utils\n\nMove the existing code in db_replicator.py to utils.py\n\nChange-Id: I04e3f30a82c89fb7e714c5eb7225374b9a5c76f9\n'}]",2,554582,9f4910f6b938aa1679571d4787bbdcfa5b5f3a19,8,3,1,25251,,,0,"Add round_robin_iter function to common/utils

Move the existing code in db_replicator.py to utils.py

Change-Id: I04e3f30a82c89fb7e714c5eb7225374b9a5c76f9
",git fetch https://review.opendev.org/openstack/swift refs/changes/82/554582/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'swift/common/db_replicator.py', 'test/unit/common/test_utils.py']",3,9f4910f6b938aa1679571d4787bbdcfa5b5f3a19,feature/round_robin_iter," def test_round_robin_iter(self): it1 = iter([1, 2, 3]) it2 = iter([4, 5]) it3 = iter([6, 7, 8, 9]) it4 = iter([]) rr_its = utils.round_robin_iter([it1, it2, it3, it4]) got = list(rr_its) # Expect that items get fetched in a round-robin fashion from the # iterators self.assertListEqual([1, 4, 6, 2, 5, 7, 3, 8, 9], got) ",,32,7
openstack%2Fswift~feature%2Fdeep~I87578db750527b822b5038fd2b6dcedce278a74e,openstack/swift,feature/deep,I87578db750527b822b5038fd2b6dcedce278a74e,Handle exceptions in _send_shard_ranges,MERGED,2018-03-20 13:08:27.000000000,2018-03-20 22:47:13.000000000,2018-03-20 22:47:13.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 13:08:27.000000000', 'files': ['test/unit/common/test_direct_client.py', 'swift/common/direct_client.py', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/729517d5f86dcb34127c2c976949aaea86168603', 'message': 'Handle exceptions in _send_shard_ranges\n\ndirect_client can raise other exception types in addition to\nDirectClientException so make sure they are all handled in the spawned\nthread.\n\nAlso allow a custom user agent header to be passed through direct\nclient.\n\nChange-Id: I87578db750527b822b5038fd2b6dcedce278a74e\n'}]",4,554531,729517d5f86dcb34127c2c976949aaea86168603,7,2,1,7847,,,0,"Handle exceptions in _send_shard_ranges

direct_client can raise other exception types in addition to
DirectClientException so make sure they are all handled in the spawned
thread.

Also allow a custom user agent header to be passed through direct
client.

Change-Id: I87578db750527b822b5038fd2b6dcedce278a74e
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/554531/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_direct_client.py', 'swift/common/direct_client.py', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py']",4,729517d5f86dcb34127c2c976949aaea86168603,,"from swift.common.direct_client import direct_put_container except Exception as err: 'Failed to put shard ranges to %s:%s/%s: %s', node['ip'], node['port'], node['device'], err)","from swift.common.direct_client import direct_put_container, \ DirectClientException except DirectClientException as err: 'Failed to put shard shard ranges to %s:%s/%s: %s', node['ip'], node['port'], node['device'], err.http_status)",148,15
openstack%2Fnova~master~I0a9dd49e68f2d47c58a46b107c77975e7b2aeaf7,openstack/nova,master,I0a9dd49e68f2d47c58a46b107c77975e7b2aeaf7,Remove version/date from CLI documentation,MERGED,2018-03-16 21:32:02.000000000,2018-03-20 22:43:14.000000000,2018-03-20 00:05:02.000000000,"[{'_account_id': 1004}, {'_account_id': 4690}, {'_account_id': 5196}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-16 21:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05d90f798f5fd63baa3d8643ebb4b48fea661f05', 'message': 'Clean up man page and remove version/date\n\nThis patch removes the unnecessary maintenance of a date and version\nfrom the CLI documantation.\n\nNOTE: Cinder team also did the same removal with\n      the commit Idf78bbed44f942bb6976ccf4da67c748d9283ed9\n\nChange-Id: I0a9dd49e68f2d47c58a46b107c77975e7b2aeaf7\n'}, {'number': 2, 'created': '2018-03-16 21:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bccd04b60b8ce644f6e3ad30a74db3b385e240f', 'message': 'Remove version/date from CLI documantation\n\nThis patch removes the unnecessary maintenance of a date and version\nfrom the CLI documantation.\n\nNOTE: Cinder team also did the same removal with\n      the commit Idf78bbed44f942bb6976ccf4da67c748d9283ed9\n\nChange-Id: I0a9dd49e68f2d47c58a46b107c77975e7b2aeaf7\n'}, {'number': 3, 'created': '2018-03-16 22:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac9c5b3e000806cd4dd317cef9b0cf23b1b132d5', 'message': 'Remove version/date from CLI documantation\n\nThis patch removes the unnecessary maintenance of a date and version\nfrom the CLI documentation.\n\nNOTE: Cinder team also did the same removal with\n      the commit Idf78bbed44f942bb6976ccf4da67c748d9283ed9\n\nChange-Id: I0a9dd49e68f2d47c58a46b107c77975e7b2aeaf7\n'}, {'number': 4, 'created': '2018-03-19 17:03:08.000000000', 'files': ['doc/source/cli/nova-console.rst', 'doc/source/cli/nova-status.rst', 'doc/source/cli/nova-consoleauth.rst', 'doc/source/cli/nova-api-metadata.rst', 'doc/source/cli/nova-compute.rst', 'doc/source/cli/nova-novncproxy.rst', 'doc/source/cli/nova-network.rst', 'doc/source/cli/nova-rootwrap.rst', 'doc/source/cli/nova-dhcpbridge.rst', 'doc/source/cli/nova-manage.rst', 'doc/source/cli/nova-api-os-compute.rst', 'doc/source/cli/nova-conductor.rst', 'doc/source/cli/nova-serialproxy.rst', 'doc/source/cli/nova-xvpvncproxy.rst', 'doc/source/cli/nova-api.rst', 'doc/source/cli/nova-scheduler.rst', 'doc/source/cli/nova-cells.rst', 'doc/source/cli/nova-spicehtml5proxy.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/d6be2ece5102f5119b885a01fd144f14a2c7021b', 'message': 'Remove version/date from CLI documentation\n\nThis patch removes the unnecessary maintenance of a date and version\nfrom the CLI documentation.\n\nNOTE: Cinder team also did the same removal with\n      the commit Idf78bbed44f942bb6976ccf4da67c748d9283ed9\n\nChange-Id: I0a9dd49e68f2d47c58a46b107c77975e7b2aeaf7\n'}]",6,553903,d6be2ece5102f5119b885a01fd144f14a2c7021b,37,14,4,6167,,,0,"Remove version/date from CLI documentation

This patch removes the unnecessary maintenance of a date and version
from the CLI documentation.

NOTE: Cinder team also did the same removal with
      the commit Idf78bbed44f942bb6976ccf4da67c748d9283ed9

Change-Id: I0a9dd49e68f2d47c58a46b107c77975e7b2aeaf7
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/553903/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/nova-console.rst', 'doc/source/cli/nova-status.rst', 'doc/source/cli/nova-consoleauth.rst', 'doc/source/cli/nova-api-metadata.rst', 'doc/source/cli/nova-compute.rst', 'doc/source/cli/nova-novncproxy.rst', 'doc/source/cli/nova-network.rst', 'doc/source/cli/nova-rootwrap.rst', 'doc/source/cli/nova-dhcpbridge.rst', 'doc/source/cli/nova-manage.rst', 'doc/source/cli/nova-api-os-compute.rst', 'doc/source/cli/nova-conductor.rst', 'doc/source/cli/nova-serialproxy.rst', 'doc/source/cli/nova-xvpvncproxy.rst', 'doc/source/cli/nova-api.rst', 'doc/source/cli/nova-scheduler.rst', 'doc/source/cli/nova-cells.rst', 'doc/source/cli/nova-spicehtml5proxy.rst']",18,05d90f798f5fd63baa3d8643ebb4b48fea661f05,remove-date,,:Date: 2012-09-27:Version: 2012.1,0,36
openstack%2Fmonasca-ceilometer~master~I2dabefd825bbe131b42d435af479075f8a372e0d,openstack/monasca-ceilometer,master,I2dabefd825bbe131b42d435af479075f8a372e0d,Refresh the ceilometer.conf file provided by Ceilosca,MERGED,2018-03-14 23:20:49.000000000,2018-03-20 22:40:59.000000000,2018-03-20 22:40:59.000000000,"[{'_account_id': 7052}, {'_account_id': 10311}, {'_account_id': 11580}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-14 23:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/6a1b64f29f47f45d1705b819a554047d3d0aad80', 'message': 'WIP Refresh the ceilometer.conf file provided by Ceilosca\n\nmonasca-ceilometer repo has an example copy of the ceilometer.conf\nfile used for devstack deployment and as an example.  Ceilometer\nproject has made a few changes in Pike and Queens (including\nremoval of the famous v2 API), so some options have changed.\n\nChange-Id: I2dabefd825bbe131b42d435af479075f8a372e0d\n'}, {'number': 2, 'created': '2018-03-20 22:07:34.000000000', 'files': ['etc/ceilometer/ceilometer.conf', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/05b0c9abb4f24a9de89b429fb49779802f1ca869', 'message': 'Refresh the ceilometer.conf file provided by Ceilosca\n\nmonasca-ceilometer repo has an example copy of the ceilometer.conf\nfile used for devstack deployment and as an example.  Ceilometer\nproject has made a few changes in Pike and Queens (including\nremoval of the famous v2 API), so some options have changed.\n\nAlso noticed a typo in devstack/plugin.sh.\n\nChange-Id: I2dabefd825bbe131b42d435af479075f8a372e0d\n'}]",0,553093,05b0c9abb4f24a9de89b429fb49779802f1ca869,9,5,2,10311,,,0,"Refresh the ceilometer.conf file provided by Ceilosca

monasca-ceilometer repo has an example copy of the ceilometer.conf
file used for devstack deployment and as an example.  Ceilometer
project has made a few changes in Pike and Queens (including
removal of the famous v2 API), so some options have changed.

Also noticed a typo in devstack/plugin.sh.

Change-Id: I2dabefd825bbe131b42d435af479075f8a372e0d
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/93/553093/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/ceilometer/ceilometer.conf'],1,6a1b64f29f47f45d1705b819a554047d3d0aad80,ceilometerconfrefresh,"# example ceilometer.conf file provided by monasca-ceilometer#collector_workers = 1 ## removed #notification_workers = 3 ## moved to notification #policy_file = /etc/ceilometer/policy.json debug = false verbose = false #notification_topics = notifications ## moved to oslo_messaging_notifications #rpc_backend = rabbit ## replaced by transport_url transport_url = rabbit://stackrabbit:password@16.78.179.83:5672//## these are all now part of transport_url #rabbit_userid = stackrabbit #rabbit_password = password #rabbit_hosts = 16.78.179.83 [oslo_messaging_notifications] topics = notifications## no ceil v2 api, no need for tokens? #[keystone_authtoken] #auth_type = v3password #cafile = /opt/stack/data/ca-bundle.pem #auth_uri = http://16.78.179.83:5000 #project_domain_id = default #project_name = service #user_domain_id = default #project_domain_name = Default #user_domain_name = Default #password = password #username = ceilometer #auth_url = http://16.78.179.83:35357 #auth_plugin = password #region_name = RegionOneworkers = 3 #store_events = True ## removed #disable_non_metric_meters = False ## removed #[database] ##metering_connection = mysql://root:password@127.0.0.1/ceilometer?charset=utf8 #event_connection = mysql://root:password@127.0.0.1/ceilometer?charset=utf8 #alarm_connection = mysql://root:password@127.0.0.1/ceilometer?charset=utf8 #connection = monasca://http://127.0.0.1:8070/v2.0",collector_workers = 1 notification_workers = 3 policy_file = /etc/ceilometer/policy.json debug = False verbose = False notification_topics = notifications rpc_backend = rabbitrabbit_userid = stackrabbit rabbit_password = password rabbit_hosts = 16.78.179.83[keystone_authtoken] auth_type = v3password cafile = /opt/stack/data/ca-bundle.pem auth_uri = http://16.78.179.83:5000 project_domain_id = default project_name = service user_domain_id = default project_domain_name = Default user_domain_name = Default password = password username = ceilometer auth_url = http://16.78.179.83:35357 auth_plugin = password region_name = RegionOnestore_events = True disable_non_metric_meters = False [database] #metering_connection = mysql://root:password@127.0.0.1/ceilometer?charset=utf8 event_connection = mysql://root:password@127.0.0.1/ceilometer?charset=utf8 alarm_connection = mysql://root:password@127.0.0.1/ceilometer?charset=utf8 connection = monasca://http://127.0.0.1:8070/v2.0,39,32
openstack%2Fnova-specs~master~I3220ea784ae8f8b809bf732725aaf2d92266683f,openstack/nova-specs,master,I3220ea784ae8f8b809bf732725aaf2d92266683f,Allow instances to be booted with trusted virtual function,ABANDONED,2016-11-15 20:27:01.000000000,2018-03-20 22:35:02.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 7730}, {'_account_id': 8864}, {'_account_id': 12171}, {'_account_id': 15334}]","[{'number': 1, 'created': '2016-11-15 20:27:01.000000000', 'files': ['specs/backlog/approved/sroiv-trusted-vfs.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/94f82c219a2ab0d6814dd4bba0d9fdab6337720f', 'message': 'Allow instances to be booted with trusted virtual function\n\nThe inability to modify VF mac addresses in the guest prevents the\nusers from being able to setup up two VFs in a fail-over bond.\nThis spec aims to provide a way for users to boot instances with trusted VFs.\n\nAPIImpact\nImplements blueprint sriov-trusted-vfs\nCo-Authored-By: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n\nChange-Id: I3220ea784ae8f8b809bf732725aaf2d92266683f\n'}]",17,397932,94f82c219a2ab0d6814dd4bba0d9fdab6337720f,8,6,1,8802,,,0,"Allow instances to be booted with trusted virtual function

The inability to modify VF mac addresses in the guest prevents the
users from being able to setup up two VFs in a fail-over bond.
This spec aims to provide a way for users to boot instances with trusted VFs.

APIImpact
Implements blueprint sriov-trusted-vfs
Co-Authored-By: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>

Change-Id: I3220ea784ae8f8b809bf732725aaf2d92266683f
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/32/397932/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/backlog/approved/sroiv-trusted-vfs.rst'],1,94f82c219a2ab0d6814dd4bba0d9fdab6337720f,bp/sriov-trusted-vfs,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================================== Trusted Virtual Functions ==================================================== https://blueprints.launchpad.net/nova/+spec/sriov-trusted-vfs A new kernel feature allows Virtual Functions to become ""trusted"" by the Physical Function and perform some privileged operations, such as enabling VF promiscuous mode and changing VF MAC address within the guest. The inability to modify mac addresses in the guest prevents the users from being able to easily setup up two VFs in a fail-over bond in a guest. This spec aims to suggest a way for users to boot instances with trusted VFs. Problem description =================== By default, Virtual Functions have no privileges to perform certain operations, such as enabling multicast promiscuous mode and modifying the VFs MAC address in the guest. These security measures are designed to prevent possible attacks, however, in some cases these operations performed by a VF would be legitimate. Openstack currently doesn't provide an easy way for a user to boot an instance with selected trusted VFs. As well as there is no easy way for cloud operators to specify with PFs allows it's VFs to become trusted. Use Cases ---------- There are several use cases in which users would prefer to take advantage of the trusted VFs. Bonding VFs in a guest would be one of these. Bonding modes that require all slaves to use the same MAC address, would require address modification on one of the VFs during a fail-over. As MAC address altering is a privileged operation, participating VFs should be trusted in order to successfully configure bonding in the guest. [1]_ Project Priority ----------------- None Proposed change =============== The aim of this proposal is to provide a comfortable way for users to boot instances with as assigned SR-IOV VFs which will be configured as trusted. Cloud operators would have a manageable way to specify which PFs will allow trusted VFs to be configured. Users will be able to request to boot an instance with trusted VF by adding a `trusted=true` parameter to the nova boot nic option: .. code-block:: console $ nova boot --nic port-id=[ID],trusted=true The operators will be able to select which PFs can have trusted VFs, during the devices white list process. This is by adding an additional parameter to the filter in nova.conf: .. code-block:: json [pci] passthrough_whitelist = {""devname"":""eth0"", ""device_type"":""type-PF"", ""trusted_vfs"":""true""} NOTE: After the instance destruction, VFs which have been configured with the bit trust will be cleared. Alternatives ------------ The operator will have to manually configure VFs as trust in the compute nodes. Data model impact ----------------- The object 'PciDevice' will be enhanced by a new field 'trusted'.:: 'trusted': fields.BooleanField(nullable=False) In the database during the upgrade all PCI devices are going to be set as `trusted=False`. REST API impact --------------- A new microversion will be added in servers schemes to configure NICs as trusted. Security impact --------------- Some security issue are associated with the trusted VFs feature. As noted above, trusted VFs can be set into VF promiscuous mode which will enable sniffing and monitoring of the entire physical port for incoming traffic, including traffic targeting other virtual functions. [2]_ [3]_ It will be up to the deployer to decide whether the security issue is manageable. Notifications impact -------------------- None Other end user impact --------------------- Users which set their NICs a 'trusted' during boot time will have the ability to change the MAC addresses of the VFs Performance Impact ------------------ None Other deployer impact --------------------- Operators will have to list PCI devices which can be considered to be set as 'trusted' Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Vladik Romanovsky Sahid Ferdjaoui Work Items ---------- * Add field to the pci device object and database table * Update create REST API to boot instance and set NICs as trusted * Modify PCI whitelist to include trusted_vfs param. * Define new attribute for NetworkRequest object * Modify `pci.passthrough_filter` to filter our hosts without trusted_vfs PFs * Setup VF trust on compute node for a requested VFs Dependencies ============ Even if not directly related the spec User-controlled SR-IOV ports allocation"" [4]_ would provide required granularity in an use-case like ""fail-over bonding"" to connect NICs on different physical switch. Testing ======= New unit and functional tests will be written to cover the changes. Documentation Impact ==================== New devices metadata structure should be documented. References ========== .. [1] https://communities.intel.com/thread/54061 or https://access.redhat.com/solutions/355853 .. [2] https://community.mellanox.com/docs/DOC-2473 .. [3] http://events.linuxfoundation.org/sites/events/files/slides/20160715_LinuxCon_sriov_final.pdf .. [4] https://review.openstack.org/#/c/182242/ History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Pike - Introduced ",,190,0
openstack%2Fneutron-dynamic-routing~master~I354c33bb825a8ec58e46a13a0a9e9f412ec01541,openstack/neutron-dynamic-routing,master,I354c33bb825a8ec58e46a13a0a9e9f412ec01541,Update docs,MERGED,2018-02-20 12:44:43.000000000,2018-03-20 22:25:21.000000000,2018-03-20 22:25:21.000000000,"[{'_account_id': 4694}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-20 12:44:43.000000000', 'files': ['doc/source/contributor/testing.rst', 'devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/1e5d33f80e8e3e3c52ed3958967330278c00625e', 'message': 'Update docs\n\n- Start using OSC instead of neutron CLI\n- Fix description of speaker scheduling\n- Increase readability\n- Fix some minor issues\n\nChange-Id: I354c33bb825a8ec58e46a13a0a9e9f412ec01541\nCloses-Bug: 1750562\n'}]",0,546135,1e5d33f80e8e3e3c52ed3958967330278c00625e,7,3,1,13252,,,0,"Update docs

- Start using OSC instead of neutron CLI
- Fix description of speaker scheduling
- Increase readability
- Fix some minor issues

Change-Id: I354c33bb825a8ec58e46a13a0a9e9f412ec01541
Closes-Bug: 1750562
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/35/546135/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/testing.rst', 'devstack/README.rst']",2,1e5d33f80e8e3e3c52ed3958967330278c00625e,bug/1750562," cat << EOF > local.conf > [[local|localrc]]1. In the default case, neutron-dynamic-routing is installed in allinone mode. cat << EOF > local.conf > [[local|localrc]] cat << EOF > local.conf > [[local|localrc]]2. In the default case, protocol BGP is enabled for neutron-dynamic-routing."," cat << EOF >> local.conf1. In default case, neutron-dynamic-routing is installed in allinone mode. cat << EOF >> local.conf cat << EOF >> local.conf2. In default case, protocol BGP is enabled for neutron-dynamic-routing.",34,35
openstack%2Fnova~master~Ia371684dd9f821f214c6e023845875021848ca0a,openstack/nova,master,Ia371684dd9f821f214c6e023845875021848ca0a,Always pass 'NUMACell.siblings' to _pack_instance_onto_cores',MERGED,2018-01-24 11:53:00.000000000,2018-03-20 22:24:35.000000000,2018-03-20 21:00:05.000000000,"[{'_account_id': 7}, {'_account_id': 782}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-24 11:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3bb7631bd145088e3ba4d7a6cc0d8bf6cde0a01', 'message': 'Always pass \'NUMACell.siblings\' to _pack_instance_onto_cores\'\n\nNow that we\'re populating the aforementioned attribute with cores that\ndon\'t have siblings, we don\'t need to continue creating imitation lists\nof ""siblings"".\n\nChange-Id: Ia371684dd9f821f214c6e023845875021848ca0a\nRelated-Bug: #1744965\n'}, {'number': 2, 'created': '2018-01-24 17:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8dee59f15a550244f29ad3d668bc23eae8c38ae9', 'message': 'Always pass \'NUMACell.siblings\' to _pack_instance_onto_cores\'\n\nNow that we\'re populating the aforementioned attribute with cores that\ndon\'t have siblings, we don\'t need to continue creating imitation lists\nof ""siblings"".\n\nChange-Id: Ia371684dd9f821f214c6e023845875021848ca0a\nRelated-Bug: #1744965\n'}, {'number': 3, 'created': '2018-01-25 14:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04c46f5dd875c2e094daa96826fec8d7b003d7eb', 'message': 'Always pass \'NUMACell.siblings\' to _pack_instance_onto_cores\'\n\nNow that we\'re populating the aforementioned attribute with cores that\ndon\'t have siblings, we don\'t need to continue creating imitation lists\nof ""siblings"".\n\nChange-Id: Ia371684dd9f821f214c6e023845875021848ca0a\nRelated-Bug: #1744965\n'}, {'number': 4, 'created': '2018-01-30 10:28:09.000000000', 'files': ['nova/virt/hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5e899e88879b4acaa0a9c49dbbc5c0e93aa2eecc', 'message': 'Always pass \'NUMACell.siblings\' to _pack_instance_onto_cores\'\n\nNow that we\'re populating the aforementioned attribute with cores that\ndon\'t have siblings, we don\'t need to continue creating imitation lists\nof ""siblings"".\n\nChange-Id: Ia371684dd9f821f214c6e023845875021848ca0a\nRelated-Bug: #1744965\n'}]",1,537364,5e899e88879b4acaa0a9c49dbbc5c0e93aa2eecc,81,15,4,15334,,,0,"Always pass 'NUMACell.siblings' to _pack_instance_onto_cores'

Now that we're populating the aforementioned attribute with cores that
don't have siblings, we don't need to continue creating imitation lists
of ""siblings"".

Change-Id: Ia371684dd9f821f214c6e023845875021848ca0a
Related-Bug: #1744965
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/537364/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/hardware.py'],1,b3bb7631bd145088e3ba4d7a6cc0d8bf6cde0a01,bug/1744965," if (instance_cell.cpu_thread_policy == fields.CPUThreadAllocationPolicy.REQUIRE): # make sure we actually have some siblings to play with if threads_per_core <= 1: LOG.info(""Host does not support hyperthreading or "" ""hyperthreading is disabled, but 'require' "" ""threads policy was requested."") return # Try to pack the instance cell onto cores # TODO(stephenfin): We should just pass host_cell to this function numa_cell = _pack_instance_onto_cores( host_cell.free_siblings, instance_cell, host_cell.id, max(map(len, host_cell.siblings)), num_cpu_reserved=num_cpu_reserved)"," if host_cell.siblings: LOG.debug('Using thread siblings for packing') # Try to pack the instance cell onto cores numa_cell = _pack_instance_onto_cores( host_cell.free_siblings, instance_cell, host_cell.id, max(map(len, host_cell.siblings)), num_cpu_reserved=num_cpu_reserved) else: if (instance_cell.cpu_thread_policy == fields.CPUThreadAllocationPolicy.REQUIRE): LOG.info(""Host does not support hyperthreading or "" ""hyperthreading is disabled, but 'require' "" ""threads policy was requested."") return # Straightforward to pin to available cpus when there is no # hyperthreading on the host free_cpus = [set([cpu]) for cpu in host_cell.free_cpus] numa_cell = _pack_instance_onto_cores( free_cpus, instance_cell, host_cell.id, num_cpu_reserved=num_cpu_reserved)",15,21
openstack%2Frpm-packaging~stable%2Fqueens~I7e6aee0ef66f16844c37c6b7fa72bab4cc19e991,openstack/rpm-packaging,stable/queens,I7e6aee0ef66f16844c37c6b7fa72bab4cc19e991,monasca-api: include Cassandra schema,MERGED,2018-03-20 15:12:01.000000000,2018-03-20 22:17:23.000000000,2018-03-20 22:17:23.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-20 15:12:01.000000000', 'files': ['openstack/monasca-api/monasca-api.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5aa9ba6440dfbbaf6d67ff10fb21d4da11a861e7', 'message': 'monasca-api: include Cassandra schema\n\nChange-Id: I7e6aee0ef66f16844c37c6b7fa72bab4cc19e991\n(cherry picked from commit 631f5ab996755a0d858e9047fff78ffeea469f20)\n'}]",0,554583,5aa9ba6440dfbbaf6d67ff10fb21d4da11a861e7,10,6,1,12542,,,0,"monasca-api: include Cassandra schema

Change-Id: I7e6aee0ef66f16844c37c6b7fa72bab4cc19e991
(cherry picked from commit 631f5ab996755a0d858e9047fff78ffeea469f20)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/83/554583/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-api/monasca-api.spec.j2'],1,5aa9ba6440dfbbaf6d67ff10fb21d4da11a861e7,include-cassandra-schema-queens,install -D -m 640 devstack/files/cassandra/monasca_schema.cql %{buildroot}%{_usr}/share/%{component}/schema/,,1,0
openstack%2Frpm-packaging~master~If29a5a7f1cc4d7254ab6e479e9ae5f5eacd031e8,openstack/rpm-packaging,master,If29a5a7f1cc4d7254ab6e479e9ae5f5eacd031e8,nova: update documentation directory,MERGED,2018-03-20 15:22:40.000000000,2018-03-20 22:11:27.000000000,2018-03-20 22:11:27.000000000,"[{'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 15:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1d78ab0cc56bd0891d2b570548d31031bc76b483', 'message': 'nova: update man pages directory\n\nChange-Id: If29a5a7f1cc4d7254ab6e479e9ae5f5eacd031e8\n'}, {'number': 2, 'created': '2018-03-20 15:46:04.000000000', 'files': ['openstack/nova/nova.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e9eeb76c22229c9b444af5c23b5c6c7f2a76e1c4', 'message': 'nova: update documentation directory\n\nChange-Id: If29a5a7f1cc4d7254ab6e479e9ae5f5eacd031e8\n'}]",0,554587,e9eeb76c22229c9b444af5c23b5c6c7f2a76e1c4,12,4,2,13404,,,0,"nova: update documentation directory

Change-Id: If29a5a7f1cc4d7254ab6e479e9ae5f5eacd031e8
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/87/554587/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/nova/nova.spec.j2'],1,1d78ab0cc56bd0891d2b570548d31031bc76b483,,install -p -D -m 644 build/sphinx/man/*.1 %{buildroot}%{_mandir}/man1/,install -p -D -m 644 doc/build/man/*.1 %{buildroot}%{_mandir}/man1/,1,1
openstack%2Frpm-packaging~master~Ic27ebb7a651b6f7a3aad23b28442a90afb6fc1c0,openstack/rpm-packaging,master,Ic27ebb7a651b6f7a3aad23b28442a90afb6fc1c0,Updated oslo.vmware to 2.27.0,MERGED,2018-03-14 16:13:49.000000000,2018-03-20 22:08:23.000000000,2018-03-20 22:08:22.000000000,"[{'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23327}]","[{'number': 1, 'created': '2018-03-14 16:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1ff607656595e569cd99dfe0e958b3c5dbd08969', 'message': 'Updated oslo.vmware to 2.27.0\n\nChange-Id: Ic27ebb7a651b6f7a3aad23b28442a90afb6fc1c0\n'}, {'number': 2, 'created': '2018-03-20 12:27:35.000000000', 'files': ['openstack/oslo.vmware/oslo.vmware.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3adb8e6fce7a57998779b61c86163edc721d1c72', 'message': 'Updated oslo.vmware to 2.27.0\n\nDepends-On: https://review.openstack.org/#/c/553001/\nChange-Id: Ic27ebb7a651b6f7a3aad23b28442a90afb6fc1c0\n'}]",0,552961,3adb8e6fce7a57998779b61c86163edc721d1c72,16,8,2,26297,,,0,"Updated oslo.vmware to 2.27.0

Depends-On: https://review.openstack.org/#/c/553001/
Change-Id: Ic27ebb7a651b6f7a3aad23b28442a90afb6fc1c0
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/61/552961/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.vmware/oslo.vmware.spec.j2'],1,1ff607656595e569cd99dfe0e958b3c5dbd08969,oslo.vmware,{% set upstream_version = upstream_version('2.27.0') %},{% set upstream_version = upstream_version('2.26.0') %},1,1
openstack%2Frpm-packaging~master~Ia860e2a202ed7aaa8c0ab4654425cf89ea5205d5,openstack/rpm-packaging,master,Ia860e2a202ed7aaa8c0ab4654425cf89ea5205d5,Updated oslo.privsep to 1.28.0,MERGED,2018-03-14 16:10:41.000000000,2018-03-20 22:08:10.000000000,2018-03-20 22:08:10.000000000,"[{'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23327}]","[{'number': 1, 'created': '2018-03-14 16:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8b66172f2cc1c693ccc06ec013fde2dff45465f0', 'message': 'Updated oslo.privsep to 1.28.0\n\nChange-Id: Ia860e2a202ed7aaa8c0ab4654425cf89ea5205d5\n'}, {'number': 2, 'created': '2018-03-20 12:17:47.000000000', 'files': ['openstack/oslo.privsep/oslo.privsep.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6d6b390872a86bc7ec90fb8c1b58955ae488eb5c', 'message': 'Updated oslo.privsep to 1.28.0\n\nDepends-On: https://review.openstack.org/#/c/552991/\nChange-Id: Ia860e2a202ed7aaa8c0ab4654425cf89ea5205d5\n'}]",0,552954,6d6b390872a86bc7ec90fb8c1b58955ae488eb5c,16,7,2,26297,,,0,"Updated oslo.privsep to 1.28.0

Depends-On: https://review.openstack.org/#/c/552991/
Change-Id: Ia860e2a202ed7aaa8c0ab4654425cf89ea5205d5
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/54/552954/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.privsep/oslo.privsep.spec.j2'],1,8b66172f2cc1c693ccc06ec013fde2dff45465f0,oslo.privsep,{% set upstream_version = upstream_version('1.28.0') %},{% set upstream_version = upstream_version('1.27.0') %},1,1
openstack%2Foctavia~stable%2Fqueens~I077330ad6f0308845d1b5330040be6f92c39580d,openstack/octavia,stable/queens,I077330ad6f0308845d1b5330040be6f92c39580d,Reduce stestr concurrency to 1 for tempest jobs,MERGED,2018-03-15 13:20:00.000000000,2018-03-20 22:03:18.000000000,2018-03-20 22:03:18.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 13:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/80f8c9616897c8b04e3972991374b3d8186e33f8', 'message': 'Reduce stestr concurrency to 1 for tempest jobs\n\nThe switch from ostestr to stestr introduced in Change-Id\nIe6a275170ec6faf0db3976410660f52078710a54 missed setting concurrency\njobs to 1 for api and scenario tests, leading to intermittent gate\nissues.\n\nThis patch also fixes coverage test that got broken in the\naforementioned Change-Id.\n\nChange-Id: I077330ad6f0308845d1b5330040be6f92c39580d\n(cherry picked from commit d871c2a7fb57f4e99ea74ff26e8037a9316b696d)\n'}, {'number': 2, 'created': '2018-03-16 14:53:19.000000000', 'files': ['.testr.conf', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fcd8dea9800ae0e74699dc5f8a0f17ede93ba90d', 'message': 'Reduce stestr concurrency to 1 for tempest jobs\n\nThe switch from ostestr to stestr introduced in Change-Id\nIe6a275170ec6faf0db3976410660f52078710a54 missed setting concurrency\njobs to 1 for api and scenario tests, leading to intermittent gate\nissues.\n\nThis patch also fixes coverage test that got broken in the\naforementioned Change-Id.\n\nDepends-On: https://review.openstack.org/#/c/542223/\nChange-Id: I077330ad6f0308845d1b5330040be6f92c39580d\n(cherry picked from commit d871c2a7fb57f4e99ea74ff26e8037a9316b696d)\n'}]",0,553399,fcd8dea9800ae0e74699dc5f8a0f17ede93ba90d,11,3,2,6469,,,0,"Reduce stestr concurrency to 1 for tempest jobs

The switch from ostestr to stestr introduced in Change-Id
Ie6a275170ec6faf0db3976410660f52078710a54 missed setting concurrency
jobs to 1 for api and scenario tests, leading to intermittent gate
issues.

This patch also fixes coverage test that got broken in the
aforementioned Change-Id.

Depends-On: https://review.openstack.org/#/c/542223/
Change-Id: I077330ad6f0308845d1b5330040be6f92c39580d
(cherry picked from commit d871c2a7fb57f4e99ea74ff26e8037a9316b696d)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/99/553399/2 && git format-patch -1 --stdout FETCH_HEAD,"['.testr.conf', 'tox.ini']",2,80f8c9616897c8b04e3972991374b3d8186e33f8,stestr_concurrency-stable/queens,setenv = {[testenv]setenv} PYTHON=coverage run --source octavia --parallel-mode sh -c 'OS_TEST_PATH={toxinidir}/octavia/tests/unit stestr run {posargs}' sh -c 'OS_TEST_PATH={toxinidir}/octavia/tests/functional stestr run {posargs}' coverage combinecommands = stestr run --concurrency 1 '{posargs}' stestr slowestcommands = stestr run --concurrency 1 '{posargs}' stestr slowest, sh -c 'COVERAGE_FILE={toxinidir}/.coverage-py27 python setup.py testr --coverage --testr-args='{posargs}'' sh -c 'COVERAGE_FILE={toxinidir}/.coverage-functional OS_TEST_PATH={toxinidir}/octavia/tests/functional python setup.py testr --coverage --testr-args='{posargs}'' coverage combine {toxinidir}/.coverage-py27 {toxinidir}/.coverage-functional OS_TESTR_CONCURRENCY=1 OS_TESTR_CONCURRENCY=1,12,10
openstack%2Fos-brick~master~Ia3d3136caedd51686ac49dcceacff04e7c627c7b,openstack/os-brick,master,Ia3d3136caedd51686ac49dcceacff04e7c627c7b,Nova is configured to use multipath and we're trying to start an instance with attached volumes.,ABANDONED,2018-03-20 21:55:39.000000000,2018-03-20 22:00:49.000000000,,[{'_account_id': 10068}],"[{'number': 1, 'created': '2018-03-20 21:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5c76ed133199332fc17b0d8afc895c2df1879658', 'message': 'Nova is configured to use multipath and we\'re trying to start an instance with attached volumes.\n\nWhile starting the instance, nova performs iSCSI discovery and obtains a list of 4 (ip, iqn, lun) tuples that it should use for constructing a multipath device.\n4 iSCSI sessions are started, and the LUNs appear as block devices in Linux - let\'s call them /dev/sda, /dev/sdb, /dev/sdc and /dev/sdd.\nThen, apperently, os-brick tries to find the WWN of any of our devices by globbing for ""/dev/disk/by-id/scsi-*"", iterating over all found symlinks, and seeing if any of them leads to any of our 4 devices.\nThe above fails (yields no result), because no links from /dev/disk/by-id point to our devices anymore - udev replaces those with links to /dev/dm-* devices because of udev rules.\nThe lack of a WWN causes os-brick\'s multipath logic to be skipped completely (the multipath branch is only entered if at least one device\'s WWN can be found).\n\nIn nova-compute.log, this manifests itself as this particular log entry:\n""No dm was created, connection to volume is probably bad and will perform poorly.""\n(In fact, of course, the dm device is still there, only its parts are no represented by proper links in /dev/disk/by-id/.)\n\nAll of the above causes os-brick to attach our volume in a ""degraded"" mode - in virsh, it can be observed thar only one of the underlying ""single-path"" devices, such as /dev/sda, is used as the volume backing store, instead of using the multipath device.\n\nChange-Id: Ia3d3136caedd51686ac49dcceacff04e7c627c7b\n'}]",0,554718,5c76ed133199332fc17b0d8afc895c2df1879658,3,1,1,27940,,,0,"Nova is configured to use multipath and we're trying to start an instance with attached volumes.

While starting the instance, nova performs iSCSI discovery and obtains a list of 4 (ip, iqn, lun) tuples that it should use for constructing a multipath device.
4 iSCSI sessions are started, and the LUNs appear as block devices in Linux - let's call them /dev/sda, /dev/sdb, /dev/sdc and /dev/sdd.
Then, apperently, os-brick tries to find the WWN of any of our devices by globbing for ""/dev/disk/by-id/scsi-*"", iterating over all found symlinks, and seeing if any of them leads to any of our 4 devices.
The above fails (yields no result), because no links from /dev/disk/by-id point to our devices anymore - udev replaces those with links to /dev/dm-* devices because of udev rules.
The lack of a WWN causes os-brick's multipath logic to be skipped completely (the multipath branch is only entered if at least one device's WWN can be found).

In nova-compute.log, this manifests itself as this particular log entry:
""No dm was created, connection to volume is probably bad and will perform poorly.""
(In fact, of course, the dm device is still there, only its parts are no represented by proper links in /dev/disk/by-id/.)

All of the above causes os-brick to attach our volume in a ""degraded"" mode - in virsh, it can be observed thar only one of the underlying ""single-path"" devices, such as /dev/sda, is used as the volume backing store, instead of using the multipath device.

Change-Id: Ia3d3136caedd51686ac49dcceacff04e7c627c7b
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/18/554718/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,5c76ed133199332fc17b0d8afc895c2df1879658,Nova falling back to single path when using multipath device,,,0,0
openstack%2Fhorizon~master~Ie2e31a7a4f4d205b19190be5960770f83e1ce858,openstack/horizon,master,Ie2e31a7a4f4d205b19190be5960770f83e1ce858,Update docstring of test.helpers.create_mocks,MERGED,2018-02-21 14:30:54.000000000,2018-03-20 21:53:39.000000000,2018-03-20 21:53:39.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8478}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-21 14:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/890f7534d813031cfeecea7125ba0139b9016326', 'message': 'Update docstring of test.helpers.create_mocks\n\nIn the era of mox, we usually use tuples for create_stubs.\ncreate_mocks was introduced to achieve the similar functionality\nin mock testing and we can use a tuple and a list equivalently.\nA tuple is used more commonly in our mock tests so far, it sounds\nbetter to document in thd docstring of create_mocks.\nThis was raised in https://review.openstack.org/#/c/531728/6.\n\nPart of blueprint mock-framework-in-unit-tests\n\nChange-Id: Ie2e31a7a4f4d205b19190be5960770f83e1ce858\n'}, {'number': 2, 'created': '2018-02-21 22:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8c8a13eba759ee24b1dc6e1d44cf9b98342cc1df', 'message': 'Update docstring of test.helpers.create_mocks\n\nIn the era of mox, we usually use tuples for create_stubs.\ncreate_mocks was introduced to achieve the similar functionality\nin mock testing and we can use a tuple and a list equivalently.\nA tuple is used more commonly in our mock tests so far, it sounds\nbetter to document in the docstring of create_mocks.\nThis was raised in https://review.openstack.org/#/c/531728/6.\n\nPart of blueprint mock-framework-in-unit-tests\n\nChange-Id: Ie2e31a7a4f4d205b19190be5960770f83e1ce858\n'}, {'number': 3, 'created': '2018-02-23 16:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ad915f6830de227700d01cdbe22314dabe2e8e48', 'message': 'Update docstring of test.helpers.create_mocks\n\nIn the era of mox, we usually use tuples for create_stubs.\ncreate_mocks was introduced to achieve the similar functionality\nin mock testing, but the docstring says to use a list instead of\na tuple. On the other hand, a tuple is used more commonly in our\nmock tests so far, it sounds better to document in the docstring\nof create_mocks.\n\nWhile a tuple and a list works equivalently, I was suggested from\nother horizon developers to use either of them consistently.\nAlthough I am not against using a list, this commit updates the docstring\nto recommend a tuple.\n\nPart of blueprint mock-framework-in-unit-tests\nChange-Id: Ie2e31a7a4f4d205b19190be5960770f83e1ce858\n'}, {'number': 4, 'created': '2018-02-28 12:14:09.000000000', 'files': ['openstack_dashboard/test/helpers.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/61c7473bffb221a3438380da8fcd4a3347e46f01', 'message': 'Update docstring of test.helpers.create_mocks\n\nThis commit improves examples in the docstring of create_mocks.\n\nNote that we agreed to use a list over a tuple to define methods\nto be mocked for consistency in general.\n\nPart of blueprint mock-framework-in-unit-tests\nChange-Id: Ie2e31a7a4f4d205b19190be5960770f83e1ce858\n'}]",6,546648,61c7473bffb221a3438380da8fcd4a3347e46f01,29,5,4,841,,,0,"Update docstring of test.helpers.create_mocks

This commit improves examples in the docstring of create_mocks.

Note that we agreed to use a list over a tuple to define methods
to be mocked for consistency in general.

Part of blueprint mock-framework-in-unit-tests
Change-Id: Ie2e31a7a4f4d205b19190be5960770f83e1ce858
",git fetch https://review.opendev.org/openstack/horizon refs/changes/48/546648/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/helpers.py'],1,890f7534d813031cfeecea7125ba0139b9016326,bp/mock-framework-in-unit-tests," A value of ""target_methods"" is a tuple or a list of methods to be patched using mock. Each element can be a string or a tuple @create_mocks({api.nova: ('server_list', 'flavor_list')}) def test_example(self): ... self.mock_server_list.return_value = ... self.mock_flavar_list.side_effect = ... api.nova: ( ), api.cinder: ( ('tenant_absolute_limits', 'cinder_tenant_absolute_limits'), ), }) self.mock_cinder_tenant_absolute_limits.return_value = ..."," A value of ""target_methods"" is a list of methods to be patched using mock. Each element can be a string or a tuple @create_mocks({api.nova: ['server_list']}) api.nova: [ ]})",15,5
openstack%2Fpatrole~master~I9e519d199b30c43e6e75d49aadc0c700a63c087c,openstack/patrole,master,I9e519d199b30c43e6e75d49aadc0c700a63c087c,[docs] Add information about supported & stable tests,MERGED,2018-02-27 14:44:50.000000000,2018-03-20 21:43:35.000000000,2018-03-20 21:43:35.000000000,"[{'_account_id': 17896}, {'_account_id': 22348}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-02-27 14:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/b82852caea85b2268ac9b2197b79e092eb65d4e6', 'message': '[docs] Add information about supported & stable tests\n\nThis is to add documentation about the stability and correctness\nof current RBAC tests in Patrole and briefly lay out a roadmap\nfor test stability.\n\nChange-Id: I9e519d199b30c43e6e75d49aadc0c700a63c087c\n'}, {'number': 2, 'created': '2018-03-13 15:06:21.000000000', 'files': ['doc/source/index.rst', 'doc/source/testing.rst'], 'web_link': 'https://opendev.org/openstack/patrole/commit/f9ace2b0a5fa61ae84a562e5afa04c02b0ddbd5a', 'message': '[docs] Add information about supported & stable tests\n\nThis is to add documentation about the stability and correctness\nof current RBAC tests in Patrole and briefly lay out a roadmap\nfor test stability.\n\nChange-Id: I9e519d199b30c43e6e75d49aadc0c700a63c087c\n'}]",3,548307,f9ace2b0a5fa61ae84a562e5afa04c02b0ddbd5a,12,4,2,23186,,,0,"[docs] Add information about supported & stable tests

This is to add documentation about the stability and correctness
of current RBAC tests in Patrole and briefly lay out a roadmap
for test stability.

Change-Id: I9e519d199b30c43e6e75d49aadc0c700a63c087c
",git fetch https://review.opendev.org/openstack/patrole refs/changes/07/548307/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/testing.rst']",2,b82852caea85b2268ac9b2197b79e092eb65d4e6,test-documentation,".. _patrole-testing: =============== Patrole Testing =============== Testing Scope ============= Patrole testing scope is strictly confined to Role-Based Access Control (RBAC). In OpenStack, ``oslo.policy`` is the RBAC library used by all major services. Thus, Patrole is concerned with validating that public API endpoints are correctly using ``oslo.policy`` for authorization. In other words, all tests in Patrole are RBAC tests. Stable Tests ============ In the discussion below, ""correct"" means that a test is consistent with a service's API-to-policy mapping and ""stable"" means that a test should require minimal maintenance for the supported releases. Present ------- During the Queens release, a `governance spec`_ was pushed to support policy in code, which documents the mapping between APIs and each of their policies. This documentation is an important prerequisite for ensuring that Patrole tests for a given service are correct. This mapping can be referenced to confirm that Patrole's assumed mapping for a test is correct. For example, Nova has implemented policy in code which can be used to verify that Patrole's Nova RBAC tests use the same mapping. If a given service does not have policy in code, this implies that it is *more likely* that the RBAC tests for that service are inconsistent with the *intended* policy mapping. Until that service implements policy in code, it is difficult for Patrole maintainers to verify that tests for that service are correct. Future ------ Once all services that Patrole tests have implemented policy in code -- and once Patrole has updated all its tests in accordance with the policy in code documentation -- then Patrole tests can guaranteed to be stable. This stability will be denoted with a 1.x.x version release. .. _governance spec: https://governance.openstack.org/tc/goals/queens/policy-in-code.html ",,52,0
openstack%2Fzun~stable%2Fqueens~Ia467d6521e96df9e0338e129c85c13ad72124718,openstack/zun,stable/queens,Ia467d6521e96df9e0338e129c85c13ad72124718,Correct the response code of attach,MERGED,2018-03-18 03:44:46.000000000,2018-03-20 21:40:44.000000000,2018-03-20 21:40:44.000000000,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-03-18 03:44:46.000000000', 'files': ['api-ref/source/containers.inc'], 'web_link': 'https://opendev.org/openstack/zun/commit/1631d56855c977d94d7a58cc7a720161fb8dacb6', 'message': 'Correct the response code of attach\n\nThe attach operation will return the URL that can be used to attach\nto the container. The success response code is 200 instead of 202.\n\nChange-Id: Ia467d6521e96df9e0338e129c85c13ad72124718\n(cherry picked from commit f4f84de2a9460e1703dbc781b38f901e9a4c36ec)\n'}]",0,554022,1631d56855c977d94d7a58cc7a720161fb8dacb6,15,4,1,11536,,,0,"Correct the response code of attach

The attach operation will return the URL that can be used to attach
to the container. The success response code is 200 instead of 202.

Change-Id: Ia467d6521e96df9e0338e129c85c13ad72124718
(cherry picked from commit f4f84de2a9460e1703dbc781b38f901e9a4c36ec)
",git fetch https://review.opendev.org/openstack/zun refs/changes/22/554022/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/containers.inc'],1,1631d56855c977d94d7a58cc7a720161fb8dacb6,, - 200, - 202,1,1
openstack%2Fneutron~master~I0651da07fb786cce82262703bfab8ca30ad4125d,openstack/neutron,master,I0651da07fb786cce82262703bfab8ca30ad4125d,[Fullstack] Mark security group test as unstable,MERGED,2018-02-06 11:24:59.000000000,2018-03-20 21:31:17.000000000,2018-02-07 05:07:05.000000000,"[{'_account_id': 1653}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-06 11:24:59.000000000', 'files': ['neutron/tests/fullstack/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/685596f89c02711410bd6b650a12264ca99145fe', 'message': '[Fullstack] Mark security group test as unstable\n\nAs is described in related bug report this tests is failing\nquite often due to some problem with spawning ""ncat"" process.\n\nChange-Id: I0651da07fb786cce82262703bfab8ca30ad4125d\nRelated-Bug: 1744402\n'}]",0,541242,685596f89c02711410bd6b650a12264ca99145fe,8,4,1,11975,,,0,"[Fullstack] Mark security group test as unstable

As is described in related bug report this tests is failing
quite often due to some problem with spawning ""ncat"" process.

Change-Id: I0651da07fb786cce82262703bfab8ca30ad4125d
Related-Bug: 1744402
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/541242/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/test_securitygroup.py'],1,685596f89c02711410bd6b650a12264ca99145fe,bug/1744402,"from neutron.tests import base as tests_base @tests_base.unstable_test(""bug 1744402"")",,2,0
openstack%2Fnova~master~If26a5785a453466c5795369573f7a109616f24c9,openstack/nova,master,If26a5785a453466c5795369573f7a109616f24c9,Add method repr() to NovaException,ABANDONED,2018-03-20 16:03:54.000000000,2018-03-20 21:29:50.000000000,,"[{'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 16:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a52e29af700d070c14c04634ae6ee7df8ab6864', 'message': 'Add method repr() to NovaException\n\nAdd method repr() to NovaException so that kwargs are not\nremoved when the exception is serialized. The change to return\nrepr(Exception) instead of serializing the individual variables\nand arguments of the exception is\nhttps://github.com/openstack/oslo.serialization/commit/c1a7079c26d27a2e46cca26963d3d9aa040bdbe8.\n\nChange-Id: If26a5785a453466c5795369573f7a109616f24c9\n'}, {'number': 2, 'created': '2018-03-20 16:30:35.000000000', 'files': ['nova/exception.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5d44edb660a1507388c29defc64f84b932c50fb4', 'message': 'Add method repr() to NovaException\n\nAdd method repr() to NovaException so that kwargs are not\nremoved when the exception is serialized. The change to return\nrepr(Exception) instead of serializing the individual variables\nand arguments of the exception is\nhttps://github.com/openstack/oslo.serialization/commit/c1a7079c26d27a2e46cca26963d3d9aa040bdbe8.\n\nCloses-Bug: #1756360\nChange-Id: If26a5785a453466c5795369573f7a109616f24c9\n'}]",5,554607,5d44edb660a1507388c29defc64f84b932c50fb4,13,9,2,22522,,,0,"Add method repr() to NovaException

Add method repr() to NovaException so that kwargs are not
removed when the exception is serialized. The change to return
repr(Exception) instead of serializing the individual variables
and arguments of the exception is
https://github.com/openstack/oslo.serialization/commit/c1a7079c26d27a2e46cca26963d3d9aa040bdbe8.

Closes-Bug: #1756360
Change-Id: If26a5785a453466c5795369573f7a109616f24c9
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/554607/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/exception.py'],1,9a52e29af700d070c14c04634ae6ee7df8ab6864,bug/1756360," def repr(self): repr = self for name, value in self.kwargs.items(): repr += ("", %s: %s"" % (name, value)) ",,5,0
openstack%2Fneutron-lib~master~I2c0e4ef03425ba0bb2651ae3e68d6c8cde7b8f90,openstack/neutron-lib,master,I2c0e4ef03425ba0bb2651ae3e68d6c8cde7b8f90,rehome create functions from plugin utils,MERGED,2018-03-20 13:48:42.000000000,2018-03-20 21:28:49.000000000,2018-03-20 21:28:49.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 13:48:42.000000000', 'files': ['neutron_lib/plugins/utils.py', 'neutron_lib/tests/unit/plugins/test_utils.py', 'releasenotes/notes/rehome-plugin-utils-create-fns-9b8591f5222bff66.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ebf776ac85bb559d9e8f275b47f3b6b34dd033f5', 'message': 'rehome create functions from plugin utils\n\nWhile we rehomed a bulk of the plugin utils with commit\nIabb155b5d2d0ec6104ebee5dd42cf292bdf3ec61, the create_* functions were\nnot included in that commit. Today we have a handful of consumers that\nuse these create functions [1], so this patch rehomes them into lib.\n\n[1] http://codesearch.openstack.org/?q=util.*%5C.create_\n(port%7Cnetwork%7Csubnet)%5C(&i=nope&files=&repos=\n\nChange-Id: I2c0e4ef03425ba0bb2651ae3e68d6c8cde7b8f90\n'}]",0,554546,ebf776ac85bb559d9e8f275b47f3b6b34dd033f5,7,3,1,5367,,,0,"rehome create functions from plugin utils

While we rehomed a bulk of the plugin utils with commit
Iabb155b5d2d0ec6104ebee5dd42cf292bdf3ec61, the create_* functions were
not included in that commit. Today we have a handful of consumers that
use these create functions [1], so this patch rehomes them into lib.

[1] http://codesearch.openstack.org/?q=util.*%5C.create_
(port%7Cnetwork%7Csubnet)%5C(&i=nope&files=&repos=

Change-Id: I2c0e4ef03425ba0bb2651ae3e68d6c8cde7b8f90
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/46/554546/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/plugins/utils.py', 'neutron_lib/tests/unit/plugins/test_utils.py', 'releasenotes/notes/rehome-plugin-utils-create-fns-9b8591f5222bff66.yaml']",3,ebf776ac85bb559d9e8f275b47f3b6b34dd033f5,rehome-plugin-utils,"--- features: - The ``create_network``, ``create_subnet`` and ``create_port`` functions from ``neutron.plugins.common.utils`` are now available in ``neutron_lib.plugins.utils``. ",,91,0
openstack%2Fcinder~master~I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2,openstack/cinder,master,I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2,Dell EMC SC: API 4.0 incompatibilities,MERGED,2017-09-25 20:01:57.000000000,2018-03-20 21:19:30.000000000,2018-01-03 23:19:44.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2759}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12112}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15011}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17042}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 23630}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-09-25 20:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f520644ad98cf8e6f388ef55741eb8bb93b8c6fe', 'message': 'Dell EMC SC: API 4.0 incompatibilities\n\n4.0 folder paths begin with a /. Also add a check that the user formatted\nthe folder path correctly.\n\nChange-Id: I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2\nCloses-Bug: #1719428\n'}, {'number': 2, 'created': '2017-10-19 15:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/be8d4b10cbf28bb25b565ec8ac7ec5bd78735350', 'message': 'Dell EMC SC: API 4.0 incompatibilities\n\n4.0 folder paths begin with a /. Also add a check that the user formatted\nthe folder path correctly.\n\nChange-Id: I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2\nCloses-Bug: #1719428\n'}, {'number': 3, 'created': '2017-12-19 18:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/158f166b74a7a31755e2ca02571c945816d7e3ba', 'message': 'Dell EMC SC: API 4.0 incompatibilities\n\n4.0 folder paths begin with a /. Also add a check that the user formatted\nthe folder path correctly.\n\nChange-Id: I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2\nCloses-Bug: #1719428\n'}, {'number': 4, 'created': '2017-12-19 19:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7382b54dbf684d910aaa14275d2dbd2a123365f9', 'message': 'Dell EMC SC: API 4.0 incompatibilities\n\n4.0 folder paths begin with a /. Also add a check that the user formatted\nthe folder path correctly.\n\nChange-Id: I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2\nCloses-Bug: #1719428\n'}, {'number': 5, 'created': '2017-12-19 20:05:44.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d414696c66ebc30c098cbb1ae24e4e772c15aca4', 'message': 'Dell EMC SC: API 4.0 incompatibilities\n\n4.0 folder paths begin with a /. Also add a check that the user formatted\nthe folder path correctly.\n\nChange-Id: I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2\nCloses-Bug: #1719428\n'}]",4,507260,d414696c66ebc30c098cbb1ae24e4e772c15aca4,126,51,5,12112,,,0,"Dell EMC SC: API 4.0 incompatibilities

4.0 folder paths begin with a /. Also add a check that the user formatted
the folder path correctly.

Change-Id: I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2
Closes-Bug: #1719428
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/507260/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/sc/storagecenter_api.py'],1,f520644ad98cf8e6f388ef55741eb8bb93b8c6fe,bug/1719428, self.legacyfoldernames = True self.legacyfoldernames = (splitver[0] < '4') # save the user from themselves. folderpath = foldername.lstrip('/').rstrip('/') folderpath = os.path.dirname(folderpath) if folderpath != '': # Legacy didn't begin with a slash. if not self.legacyfoldernames: folderpath = '/' + folderpath, folderpath = os.path.dirname(foldername) if folderpath != '':,8,1
openstack%2Fneutron-tempest-plugin~master~I10ca771c181ca3f4f9d29150211ed70486fa3c4e,openstack/neutron-tempest-plugin,master,I10ca771c181ca3f4f9d29150211ed70486fa3c4e,Updated from global requirements,MERGED,2018-03-04 10:14:09.000000000,2018-03-20 21:07:54.000000000,2018-03-20 21:07:54.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-04 10:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9f057ab251a20c7c7323d146650e4006b7c5be4b', 'message': 'Updated from global requirements\n\nChange-Id: I10ca771c181ca3f4f9d29150211ed70486fa3c4e\n'}, {'number': 2, 'created': '2018-03-10 13:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/788e99796d4a0f93476a8a56f3116251c2675239', 'message': 'Updated from global requirements\n\nChange-Id: I10ca771c181ca3f4f9d29150211ed70486fa3c4e\n'}, {'number': 3, 'created': '2018-03-13 07:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/be0575b064362a39399c9281b1bb77dd0462c8c4', 'message': 'Updated from global requirements\n\nChange-Id: I10ca771c181ca3f4f9d29150211ed70486fa3c4e\n'}, {'number': 4, 'created': '2018-03-14 05:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/178adee07aacb52d3e68a28701d56f05556a9a99', 'message': 'Updated from global requirements\n\nChange-Id: I10ca771c181ca3f4f9d29150211ed70486fa3c4e\n'}, {'number': 5, 'created': '2018-03-15 07:24:03.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/cf28ac2dc13e9b5a5dd4395ea8fcc8f0d250ca52', 'message': 'Updated from global requirements\n\nChange-Id: I10ca771c181ca3f4f9d29150211ed70486fa3c4e\n'}]",0,549547,cf28ac2dc13e9b5a5dd4395ea8fcc8f0d250ca52,19,3,5,11131,,,0,"Updated from global requirements

Change-Id: I10ca771c181ca3f4f9d29150211ed70486fa3c4e
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/47/549547/5 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9f057ab251a20c7c7323d146650e4006b7c5be4b,openstack/requirements,ipaddress>=1.0.17;python_version<'3.3' # PSF,ipaddress>=1.0.16;python_version<'3.3' # PSF,1,1
openstack%2Fkeystone~master~Ia15be1c79a6e8718b3613a16383ce0f5af839013,openstack/keystone,master,Ia15be1c79a6e8718b3613a16383ce0f5af839013,Fix api-ref for project tag create,MERGED,2018-03-15 14:50:17.000000000,2018-03-20 21:07:38.000000000,2018-03-20 21:07:38.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-03-15 14:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/669035d5405f782d78d18c714a97faa7875d9a42', 'message': 'Fix api-ref for project tag create\n\nKeystone currently returns a 201 with no body when creating a single\nproject tag by calling /v3/projects/{id}/tags/{value}, however the\ncurrent api documentation states that an array of tags is returned.\n\nThis is inconsistent with the current implementation which matches the\napi-wg spec[0] for tags.\n\n[0] https://specs.openstack.org/openstack/api-wg/guidelines/tags.html#addressing-individual-tags\n\nChange-Id: Ia15be1c79a6e8718b3613a16383ce0f5af839013\n'}, {'number': 2, 'created': '2018-03-15 17:01:07.000000000', 'files': ['api-ref/source/v3/project-tags.inc'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d10bafeb04b60f899d2618985a8f7a6ad7b21ade', 'message': 'Fix api-ref for project tag create\n\nKeystone currently returns a 201 with no body when creating a single\nproject tag by calling /v3/projects/{id}/tags/{value}, however the\ncurrent api documentation states that an array of tags is returned.\n\nThis is inconsistent with the current implementation which matches the\napi-wg spec[0] for tags.\n\n[0] https://specs.openstack.org/openstack/api-wg/guidelines/tags.html#addressing-individual-tags\n\nCloses-Bug: #1756140\n\nChange-Id: Ia15be1c79a6e8718b3613a16383ce0f5af839013\n'}]",0,553422,d10bafeb04b60f899d2618985a8f7a6ad7b21ade,13,6,2,21420,,,0,"Fix api-ref for project tag create

Keystone currently returns a 201 with no body when creating a single
project tag by calling /v3/projects/{id}/tags/{value}, however the
current api documentation states that an array of tags is returned.

This is inconsistent with the current implementation which matches the
api-wg spec[0] for tags.

[0] https://specs.openstack.org/openstack/api-wg/guidelines/tags.html#addressing-individual-tags

Closes-Bug: #1756140

Change-Id: Ia15be1c79a6e8718b3613a16383ce0f5af839013
",git fetch https://review.opendev.org/openstack/keystone refs/changes/22/553422/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/project-tags.inc'],1,669035d5405f782d78d18c714a97faa7875d9a42,bug/1756140," GET /v3/projects?tags=foo,bar&tags-any=red,blue ","Parameters ~~~~~~~~~~ .. rest_parameters:: parameters.yaml - tags: response_body_project_tags_required GET /v3/projects?tags=foo,bar&tags-any=red,blue",1,8
openstack%2Fpython-troveclient~master~I824f040c7de084254570d1ed01ab5193c926b056,openstack/python-troveclient,master,I824f040c7de084254570d1ed01ab5193c926b056,Follow the new PTI for document build,ABANDONED,2018-03-20 20:40:53.000000000,2018-03-20 20:51:13.000000000,,[],"[{'number': 1, 'created': '2018-03-20 20:40:53.000000000', 'files': ['Â¡', 'test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/35ccdf918046caaccdab7edd14fe736d9e6cf0d4', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I824f040c7de084254570d1ed01ab5193c926b056\n'}]",0,554691,35ccdf918046caaccdab7edd14fe736d9e6cf0d4,2,0,1,17130,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
https://governance.openstack.org/tc/reference/project-testing-interface.html
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I824f040c7de084254570d1ed01ab5193c926b056
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/91/554691/1 && git format-patch -1 --stdout FETCH_HEAD,"['Â¡', 'test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",4,35ccdf918046caaccdab7edd14fe736d9e6cf0d4,update-pti,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt rm -rf doc/build sphinx-build -W -b html doc/source doc/build/htm deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt commands = rm -rf releasenotes/build sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html, rm -rf doc/html doc/build python setup.py build_sphinxcommands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html,31,7
openstack%2Fopenstack-ansible~stable%2Fpike~Ia6d91bd6aabf0f9584a83641d5bd990d3f9e404f,openstack/openstack-ansible,stable/pike,Ia6d91bd6aabf0f9584a83641d5bd990d3f9e404f,Update existing container_networks,MERGED,2017-12-15 17:41:34.000000000,2018-03-20 20:31:41.000000000,2018-03-20 20:31:41.000000000,"[{'_account_id': 538}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24468}, {'_account_id': 27908}]","[{'number': 1, 'created': '2017-12-15 17:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c2468326e92f9fca2586e382456563bd96a2125e', 'message': ""Update existing container_networks\n\nWe don't update an existing container_network so once you have settings\nset, they will not be changed, even if you change settings.\n\nThis patch ensures that if the existing container_network does not match\nthe current provider_network, it will get updated.\n\nCloses-Bug: 1678165\nChange-Id: Ia6d91bd6aabf0f9584a83641d5bd990d3f9e404f\n(cherry picked from commit 850d8f2663fd91c4142b373a5b6c68c9ecb8f25b)\n""}, {'number': 2, 'created': '2018-02-02 17:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0ef894e3892fa796fb2fd1228e7b01b48d8f70d5', 'message': ""Update existing container_networks\n\nWe don't update an existing container_network so once you have settings\nset, they will not be changed, even if you change settings.\n\nThis patch ensures that if the existing container_network does not match\nthe current provider_network, it will get updated.\n\nCloses-Bug: 1678165\nChange-Id: Ia6d91bd6aabf0f9584a83641d5bd990d3f9e404f\n(cherry picked from commit 850d8f2663fd91c4142b373a5b6c68c9ecb8f25b)\n""}, {'number': 3, 'created': '2018-02-22 10:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ecd83774437298279fa08eba48e5dbeca89263f1', 'message': ""Update existing container_networks\n\nWe don't update an existing container_network so once you have settings\nset, they will not be changed, even if you change settings.\n\nThis patch ensures that if the existing container_network does not match\nthe current provider_network, it will get updated.\n\nCloses-Bug: 1678165\nChange-Id: Ia6d91bd6aabf0f9584a83641d5bd990d3f9e404f\n(cherry picked from commit 850d8f2663fd91c4142b373a5b6c68c9ecb8f25b)\n""}, {'number': 4, 'created': '2018-03-19 10:57:48.000000000', 'files': ['osa_toolkit/generate.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9629a03bf2ceab779ba4f588568bd5e55b28b413', 'message': ""Update existing container_networks\n\nCombined backport of:\n- https://review.openstack.org/494515\n- https://review.openstack.org/553726\n\nWe don't update an existing container_network so once you have settings\nset, they will not be changed, even if you change settings.\n\nThis patch ensures that if the existing container_network does not match\nthe current provider_network, it will get updated.\n\nCloses-Bug: 1678165\nRelated-Bug: 1756091\nChange-Id: Ia6d91bd6aabf0f9584a83641d5bd990d3f9e404f\n""}]",0,528357,9629a03bf2ceab779ba4f588568bd5e55b28b413,44,8,4,6816,,,0,"Update existing container_networks

Combined backport of:
- https://review.openstack.org/494515
- https://review.openstack.org/553726

We don't update an existing container_network so once you have settings
set, they will not be changed, even if you change settings.

This patch ensures that if the existing container_network does not match
the current provider_network, it will get updated.

Closes-Bug: 1678165
Related-Bug: 1756091
Change-Id: Ia6d91bd6aabf0f9584a83641d5bd990d3f9e404f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/57/528357/4 && git format-patch -1 --stdout FETCH_HEAD,['osa_toolkit/generate.py'],1,c2468326e92f9fca2586e382456563bd96a2125e,bug/1678165-stable/pike," _network = network_entry( is_metal, interface, bridge, net_type, net_mtu ) if not is_metal and (old_address not in networks or networks[old_address] != _network): network = networks[old_address] = _network network = networks[old_address] = _network"," if not is_metal and old_address not in networks: network = networks[old_address] = network_entry( is_metal, interface, bridge, net_type, net_mtu ) network = networks[old_address] = network_entry( is_metal, interface, bridge, net_type, net_mtu )",11,15
openstack%2Fhorizon~master~I8fe53390da2f7c35a31e339306e7d1394bb36218,openstack/horizon,master,I8fe53390da2f7c35a31e339306e7d1394bb36218,Convert project tests into mock: cgroups/cg_snapshots,MERGED,2018-01-08 12:28:30.000000000,2018-03-20 20:24:19.000000000,2018-03-20 20:24:19.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8478}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-01-08 12:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f6e5c26981e8e13198b8684816ff192434de4765', 'message': ""Convert project tests into mock: cgroups/cg_snapshots\n\ntest_update_cgroup_add_vol/remove_vol tests were completely broken\nas add/remove_vol operation is not a part of cgroup_update.\nThese tests are fixed to pass tests after mock migration.\nI don't know why they passes before.\n\ntest_create_cgroup_from_snapshot* in CG snapshot tests was also\nbroken (redirect destination and method signature were wrong).\nThey are fixed as well though I am not sure why they passed.\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I8fe53390da2f7c35a31e339306e7d1394bb36218\n""}, {'number': 2, 'created': '2018-01-08 14:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/31aecb8e7a25ab77728ddd432f350df9baac8711', 'message': ""Convert project tests into mock: cgroups/cg_snapshots\n\ntest_update_cgroup_add_vol/remove_vol tests were completely broken\nas add/remove_vol operation is not a part of cgroup_update.\nThese tests are fixed to pass tests after mock migration.\nI don't know why they passes before.\n\ntest_create_cgroup_from_snapshot* in CG snapshot tests was also\nbroken (redirect destination and method signature were wrong).\nThey are fixed as well though I am not sure why they passed.\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I8fe53390da2f7c35a31e339306e7d1394bb36218\n""}, {'number': 3, 'created': '2018-02-20 16:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b49bc2df34165426a1f6755a8e09b2159b55bf69', 'message': ""Convert project tests into mock: cgroups/cg_snapshots\n\ntest_update_cgroup_add_vol/remove_vol tests were completely broken\nas add/remove_vol operation is not a part of cgroup_update.\nThese tests are fixed to pass tests after mock migration.\nI don't know why they passes before.\n\ntest_create_cgroup_from_snapshot* in CG snapshot tests was also\nbroken (redirect destination and method signature were wrong).\nThey are fixed as well though I am not sure why they passed.\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I8fe53390da2f7c35a31e339306e7d1394bb36218\n""}, {'number': 4, 'created': '2018-03-04 21:46:32.000000000', 'files': ['openstack_dashboard/dashboards/project/cg_snapshots/tests.py', 'openstack_dashboard/test/test_data/cinder_data.py', 'openstack_dashboard/dashboards/project/cgroups/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f8150ab4cc1c95690510ee1d8d75c3e2f063f648', 'message': ""Convert project tests into mock: cgroups/cg_snapshots\n\ntest_update_cgroup_add_vol/remove_vol tests were completely broken\nas add/remove_vol operation is not a part of cgroup_update.\nThese tests are fixed to pass tests after mock migration.\nI don't know why they passes before.\n\ntest_create_cgroup_from_snapshot* in CG snapshot tests was also\nbroken (redirect destination and method signature were wrong).\nThey are fixed as well though I am not sure why they passed.\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I8fe53390da2f7c35a31e339306e7d1394bb36218\n""}]",2,531729,f8150ab4cc1c95690510ee1d8d75c3e2f063f648,20,6,4,841,,,0,"Convert project tests into mock: cgroups/cg_snapshots

test_update_cgroup_add_vol/remove_vol tests were completely broken
as add/remove_vol operation is not a part of cgroup_update.
These tests are fixed to pass tests after mock migration.
I don't know why they passes before.

test_create_cgroup_from_snapshot* in CG snapshot tests was also
broken (redirect destination and method signature were wrong).
They are fixed as well though I am not sure why they passed.

Partially-Implements: blueprint mock-framework-in-unit-tests
Change-Id: I8fe53390da2f7c35a31e339306e7d1394bb36218
",git fetch https://review.opendev.org/openstack/horizon refs/changes/29/531729/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/cg_snapshots/tests.py', 'openstack_dashboard/test/test_data/cinder_data.py', 'openstack_dashboard/dashboards/project/cgroups/tests.py']",3,f6e5c26981e8e13198b8684816ff192434de4765,bp/mock-framework-in-unit-tests,"import mock @mock.patch.object(cinder, 'extension_supported') @mock.patch.object(cinder, 'availability_zone_list') @mock.patch.object(cinder, 'volume_type_list') @mock.patch.object(cinder, 'volume_type_list_with_qos_associations') @mock.patch.object(cinder, 'volume_cgroup_list') @mock.patch.object(cinder, 'volume_cgroup_create') def test_create_cgroup(self, mock_volume_cgroup_create, mock_volume_cgroup_list, mock_volume_type_list_with_qos_associations, mock_volume_type_list, mock_availability_zone_list, mock_extension_supported): mock_extension_supported.return_value = True mock_availability_zone_list.return_value = \ self.cinder_availability_zones.list() mock_volume_type_list.return_value = volume_types mock_volume_type_list_with_qos_associations.return_value = volume_types mock_volume_cgroup_list.return_value = \ self.cinder_consistencygroups.list() mock_volume_cgroup_create.return_value = cgroup mock_extension_supported.assert_called_once_with( test.IsHttpRequest(), 'AvailabilityZones') mock_availability_zone_list.assert_called_once_with( test.IsHttpRequest()) mock_volume_type_list.assert_called_once_with(test.IsHttpRequest()) mock_volume_type_list_with_qos_associations.assert_called_once_with( test.IsHttpRequest()) mock_volume_cgroup_list.assert_called_once_with(test.IsHttpRequest()) mock_volume_cgroup_create.assert_called_once_with( test.IsHttpRequest(), formData['volume_types'], formData['name'], description=formData['description'], availability_zone=formData['availability_zone']) @mock.patch.object(cinder, 'extension_supported') @mock.patch.object(cinder, 'availability_zone_list') @mock.patch.object(cinder, 'volume_type_list') @mock.patch.object(cinder, 'volume_type_list_with_qos_associations') @mock.patch.object(cinder, 'volume_cgroup_list') @mock.patch.object(cinder, 'volume_cgroup_create') def test_create_cgroup_exception( self, mock_volume_cgroup_create, mock_volume_cgroup_list, mock_volume_type_list_with_qos_associations, mock_volume_type_list, mock_availability_zone_list, mock_extension_supported): mock_extension_supported.return_value = True mock_availability_zone_list.return_value = \ self.cinder_availability_zones.list() mock_volume_type_list.return_value = volume_types mock_volume_type_list_with_qos_associations.return_value = volume_types mock_volume_cgroup_list.return_value = \ self.cinder_consistencygroups.list() mock_volume_cgroup_create.side_effect = self.exceptions.cinder mock_extension_supported.assert_called_once_with( test.IsHttpRequest(), 'AvailabilityZones') mock_availability_zone_list.assert_called_once_with( test.IsHttpRequest()) mock_volume_type_list.assert_called_once_with(test.IsHttpRequest()) mock_volume_type_list_with_qos_associations.assert_called_once_with( test.IsHttpRequest()) mock_volume_cgroup_list.assert_called_once_with(test.IsHttpRequest()) mock_volume_cgroup_create.assert_called_once_with( test.IsHttpRequest(), formData['volume_types'], formData['name'], description=formData['description'], availability_zone=formData['availability_zone']) @mock.patch.object(cinder, 'volume_cgroup_get') @mock.patch.object(cinder, 'volume_cgroup_delete') def test_delete_cgroup(self, mock_volume_cgroup_delete, mock_volume_cgroup_get): mock_volume_cgroup_get.return_value = cgroup mock_volume_cgroup_delete.return_value = None mock_volume_cgroup_get.assert_called_once_with(test.IsHttpRequest(), cgroup.id) mock_volume_cgroup_delete.assert_called_once_with(test.IsHttpRequest(), cgroup.id, force=False) @mock.patch.object(cinder, 'volume_cgroup_get') @mock.patch.object(cinder, 'volume_cgroup_delete') def test_delete_cgroup_force_flag(self, mock_volume_cgroup_delete, mock_volume_cgroup_get): mock_volume_cgroup_get.return_value = cgroup mock_volume_cgroup_delete.return_value = None mock_volume_cgroup_get.assert_called_once_with(test.IsHttpRequest(), cgroup.id) mock_volume_cgroup_delete.assert_called_once_with(test.IsHttpRequest(), cgroup.id, force=True) @mock.patch.object(cinder, 'volume_cgroup_get') @mock.patch.object(cinder, 'volume_cgroup_delete') def test_delete_cgroup_exception(self, mock_volume_cgroup_delete, mock_volume_cgroup_get): mock_volume_cgroup_get.return_value = cgroup mock_volume_cgroup_delete.side_effect = self.exceptions.cinder mock_volume_cgroup_get.assert_called_once_with(test.IsHttpRequest(), cgroup.id) mock_volume_cgroup_delete.assert_called_once_with(test.IsHttpRequest(), cgroup.id, force=False) def test_update_cgroup_add_vol(self): self._test_update_cgroup_add_remove_vol(add=True) def test_update_cgroup_remove_vol(self): self._test_update_cgroup_add_remove_vol(add=False) @mock.patch.object(cinder, 'volume_list') @mock.patch.object(cinder, 'volume_type_list') @mock.patch.object(cinder, 'volume_cgroup_get') @mock.patch.object(cinder, 'volume_cgroup_update') def _test_update_cgroup_add_remove_vol(self, mock_volume_cgroup_update, mock_volume_cgroup_get, mock_volume_type_list, mock_volume_list, add=True): volume_types = self.cinder_volume_types.list() volumes = (self.cinder_volumes.list() + self.cinder_cgroup_volumes.list()) cgroup_voltype_names = [t.name for t in volume_types if t.id in cgroup.volume_types] compat_volumes = [v for v in volumes if v.volume_type in cgroup_voltype_names] compat_volume_ids = [v.id for v in compat_volumes] assigned_volume_ids = [v.id for v in compat_volumes if getattr(v, 'consistencygroup_id', None)] add_volume_ids = [v.id for v in compat_volumes if v.id not in assigned_volume_ids] new_volums = compat_volume_ids if add else [] formData = { 'default_add_volumes_to_cgroup_role': 'member', 'add_volumes_to_cgroup_role_member': new_volums, } mock_volume_list.return_value = volumes mock_volume_type_list.return_value = volume_types mock_volume_cgroup_get.return_value = cgroup mock_volume_cgroup_update.return_value = cgroup url = reverse('horizon:project:cgroups:manage', self.assert_mock_multiple_calls_with_same_arguments( mock_volume_list, 2, mock.call(test.IsHttpRequest())) mock_volume_type_list.assert_called_once_with(test.IsHttpRequest()) mock_volume_cgroup_get.assert_called_once_with( test.IsHttpRequest(), cgroup.id) if add: mock_volume_cgroup_update.assert_called_once_with( test.IsHttpRequest(), cgroup.id, name=cgroup.name, add_vols=','.join(add_volume_ids), remove_vols='') else: mock_volume_cgroup_update.assert_called_once_with( test.IsHttpRequest(), cgroup.id, name=cgroup.name, add_vols='', remove_vols=','.join(assigned_volume_ids)) @mock.patch.object(cinder, 'volume_cgroup_get') @mock.patch.object(cinder, 'volume_cgroup_update') def test_update_cgroup_name_and_description(self, mock_volume_cgroup_update, mock_volume_cgroup_get): mock_volume_cgroup_get.return_value = cgroup mock_volume_cgroup_update.return_value = cgroup mock_volume_cgroup_get.assert_called_once_with( test.IsHttpRequest(), cgroup.id) mock_volume_cgroup_update.assert_called_once_with( test.IsHttpRequest(), cgroup.id, formData['name'], formData['description']) @mock.patch.object(cinder, 'volume_cgroup_get') @mock.patch.object(cinder, 'volume_cgroup_update') def test_update_cgroup_with_exception(self, mock_volume_cgroup_update, mock_volume_cgroup_get): mock_volume_cgroup_get.return_value = cgroup mock_volume_cgroup_update.side_effect = self.exceptions.cinder mock_volume_cgroup_get.assert_called_once_with( test.IsHttpRequest(), cgroup.id) mock_volume_cgroup_update.assert_called_once_with( test.IsHttpRequest(), cgroup.id, formData['name'], formData['description']) @mock.patch.object(cinder, 'volume_cgroup_get') def test_detail_view_with_exception(self, mock_volume_cgroup_get): mock_volume_cgroup_get.side_effect = self.exceptions.cinder mock_volume_cgroup_get.assert_called_once_with( test.IsHttpRequest(), cgroup.id) @mock.patch.object(cinder, 'volume_cg_snapshot_create') def test_create_snapshot(self, mock_volume_cg_snapshot_create): mock_volume_cg_snapshot_create.return_value = cg_snapshot mock_volume_cg_snapshot_create.assert_called_once_with( test.IsHttpRequest(), formData['cgroup_id'], formData['name'], formData['description']) @mock.patch.object(cinder, 'volume_cgroup_get') @mock.patch.object(cinder, 'volume_cgroup_create_from_source') def test_create_clone(self, mock_volume_cgroup_create_from_source, mock_volume_cgroup_get): mock_volume_cgroup_get.return_value = cgroup mock_volume_cgroup_create_from_source.return_value = cgroup mock_volume_cgroup_get.assert_called_once_with( test.IsHttpRequest(), cgroup.id) mock_volume_cgroup_create_from_source.assert_called_once_with( test.IsHttpRequest(), formData['name'], source_cgroup_id=formData['cgroup_id'], description=formData['description'])","from django import httpfrom mox3.mox import IsA @test.create_stubs({cinder: ('extension_supported', 'availability_zone_list', 'volume_type_list', 'volume_type_list_with_qos_associations', 'volume_cgroup_list', 'volume_cgroup_create')}) def test_create_cgroup(self): cinder.extension_supported(IsA(http.HttpRequest), 'AvailabilityZones')\ .AndReturn(True) cinder.availability_zone_list(IsA(http.HttpRequest)).AndReturn( self.cinder_availability_zones.list()) cinder.volume_type_list(IsA(http.HttpRequest)).AndReturn(volume_types) cinder.volume_type_list_with_qos_associations(IsA(http.HttpRequest)).\ AndReturn(volume_types) cinder.volume_cgroup_list(IsA(http.HttpRequest)).\ AndReturn(self.cinder_consistencygroups.list()) cinder.volume_cgroup_create( IsA(http.HttpRequest), formData['volume_types'], formData['name'], formData['description'], availability_zone=formData['availability_zone'])\ .AndReturn(cgroup) self.mox.ReplayAll() @test.create_stubs({cinder: ('extension_supported', 'availability_zone_list', 'volume_type_list', 'volume_type_list_with_qos_associations', 'volume_cgroup_list', 'volume_cgroup_create')}) def test_create_cgroup_exception(self): cinder.extension_supported(IsA(http.HttpRequest), 'AvailabilityZones')\ .AndReturn(True) cinder.availability_zone_list(IsA(http.HttpRequest)).AndReturn( self.cinder_availability_zones.list()) cinder.volume_type_list(IsA(http.HttpRequest)).AndReturn(volume_types) cinder.volume_type_list_with_qos_associations(IsA(http.HttpRequest)).\ AndReturn(volume_types) cinder.volume_cgroup_list(IsA(http.HttpRequest)).\ AndReturn(self.cinder_consistencygroups.list()) cinder.volume_cgroup_create( IsA(http.HttpRequest), formData['volume_types'], formData['name'], formData['description'], availability_zone=formData['availability_zone'])\ .AndRaise(self.exceptions.cinder) self.mox.ReplayAll() @test.create_stubs({cinder: ('volume_cgroup_get', 'volume_cgroup_delete')}) def test_delete_cgroup(self): cinder.volume_cgroup_get(IsA(http.HttpRequest), cgroup.id).\ AndReturn(cgroup) cinder.volume_cgroup_delete(IsA(http.HttpRequest), cgroup.id, force=False) self.mox.ReplayAll() @test.create_stubs({cinder: ('volume_cgroup_get', 'volume_cgroup_delete')}) def test_delete_cgroup_force_flag(self): cinder.volume_cgroup_get(IsA(http.HttpRequest), cgroup.id).\ AndReturn(cgroup) cinder.volume_cgroup_delete(IsA(http.HttpRequest), cgroup.id, force=True) self.mox.ReplayAll() @test.create_stubs({cinder: ('volume_cgroup_get', 'volume_cgroup_delete')}) def test_delete_cgroup_exception(self): cinder.volume_cgroup_get(IsA(http.HttpRequest), cgroup.id).\ AndReturn(cgroup) cinder.volume_cgroup_delete(IsA(http.HttpRequest), cgroup.id, force=False).\ AndRaise(self.exceptions.cinder) self.mox.ReplayAll() @test.create_stubs({cinder: ('volume_cgroup_update', 'volume_cgroup_get')}) def test_update_cgroup_add_vol(self): cgroup = self.cinder_consistencygroups.first() volume = self.cinder_volumes.first() formData = {'volume_types': '1', 'name': 'test CG', 'description': 'test desc'} cinder.volume_cgroup_get(IsA( http.HttpRequest), cgroup.id).\ AndReturn(cgroup) cinder.volume_cgroup_update( IsA(http.HttpRequest), formData['name'], formData['description'], add_vols=volume)\ .AndReturn(cgroup) self.mox.ReplayAll() url = reverse('horizon:project:cgroups:update', args=[cgroup.id]) res = self.client.post(url, formData) self.assertNoFormErrors(res) self.assertRedirectsNoFollow(res, INDEX_URL) @test.create_stubs({cinder: ('volume_cgroup_update', 'volume_cgroup_get')}) def test_update_cgroup_remove_vol(self): volume = self.cinder_volumes.first() formData = {'volume_types': '1', 'name': 'test CG', 'description': 'test desc'} cinder.volume_cgroup_get(IsA( http.HttpRequest), cgroup.id).\ AndReturn(cgroup) cinder.volume_cgroup_update( IsA(http.HttpRequest), formData['name'], formData['description'], remove_vols=volume)\ .AndReturn(cgroup) self.mox.ReplayAll() url = reverse('horizon:project:cgroups:update', @test.create_stubs({cinder: ('volume_cgroup_update', 'volume_cgroup_get')}) def test_update_cgroup_name_and_description(self): cinder.volume_cgroup_get(IsA( http.HttpRequest), cgroup.id).\ AndReturn(cgroup) cinder.volume_cgroup_update( IsA(http.HttpRequest), formData['name'], formData['description'])\ .AndReturn(cgroup) self.mox.ReplayAll() @test.create_stubs({cinder: ('volume_cgroup_update', 'volume_cgroup_get')}) def test_update_cgroup_with_exception(self): cinder.volume_cgroup_get(IsA( http.HttpRequest), cgroup.id).\ AndReturn(cgroup) cinder.volume_cgroup_update( IsA(http.HttpRequest), formData['name'], formData['description'])\ .AndRaise(self.exceptions.cinder) self.mox.ReplayAll() @test.create_stubs({cinder: ('volume_cgroup_get',)}) def test_detail_view_with_exception(self): cinder.volume_cgroup_get(IsA(http.HttpRequest), cgroup.id).\ AndRaise(self.exceptions.cinder) self.mox.ReplayAll() @test.create_stubs({cinder: ('volume_cg_snapshot_create',)}) def test_create_snapshot(self): cinder.volume_cg_snapshot_create( IsA(http.HttpRequest), formData['cgroup_id'], formData['name'], formData['description'])\ .AndReturn(cg_snapshot) self.mox.ReplayAll() @test.create_stubs({cinder: ('volume_cgroup_get', 'volume_cgroup_create_from_source',)}) def test_create_clone(self): cinder.volume_cgroup_create_from_source( IsA(http.HttpRequest), formData['name'], source_cgroup_id=formData['cgroup_id'], description=formData['description'])\ .AndReturn(cgroup) self.mox.ReplayAll()",314,234
openstack%2Fopenstack-ansible-plugins~stable%2Fqueens~I7c7cd9ef1dd767a2a5d754ac4663cf8655dd60c2,openstack/openstack-ansible-plugins,stable/queens,I7c7cd9ef1dd767a2a5d754ac4663cf8655dd60c2,Utilise sorted to ensure no random changes,MERGED,2018-03-19 17:36:11.000000000,2018-03-20 20:23:41.000000000,2018-03-20 20:23:41.000000000,"[{'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 17:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/c153d538503839a54314b4d93b69b8c1411a41dc', 'message': ""Utilise sorted to ensure no random changes\n\nAs part of the ceph-ansible project, this change was put in:\nhttps://github.com/ceph/ceph-ansible/commit/ec042219e64a321fa67fce0384af76eeb238c645\nThis was to handle the case where the config would change, initiating a\nrestart handler, even though no actual change happened.\n\nWe can juse use sorted() since we are passing back a list with .items()\nwhich can then be sorted.\n\nThe above change didn't include a change to ensure the order of the\nsections, which meant that although the individual items were sorted the\nsections could change order causing unnecessary changes.\n\nAdditionally, this adds a test to retemplate the file 3 times, with a\nlot more sections to ensure the order remains the same, this will fail\nwhen the config template changes even though no changes have happened.\n\nChange-Id: I7c7cd9ef1dd767a2a5d754ac4663cf8655dd60c2\n""}, {'number': 2, 'created': '2018-03-20 17:21:27.000000000', 'files': ['action/config_template.py', 'tests/test-config_template.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/fce9a020a3f70e5b518968e995fd2735a3a79b34', 'message': ""Utilise sorted to ensure no random changes\n\nAs part of the ceph-ansible project, this change was put in:\nhttps://github.com/ceph/ceph-ansible/commit/ec042219e64a321fa67fce0384af76eeb238c645\nThis was to handle the case where the config would change, initiating a\nrestart handler, even though no actual change happened.\n\nWe can juse use sorted() since we are passing back a list with .items()\nwhich can then be sorted.\n\nThe above change didn't include a change to ensure the order of the\nsections, which meant that although the individual items were sorted the\nsections could change order causing unnecessary changes.\n\nAdditionally, this adds a test to retemplate the file 3 times, with a\nlot more sections to ensure the order remains the same, this will fail\nwhen the config template changes even though no changes have happened.\n\nChange-Id: I7c7cd9ef1dd767a2a5d754ac4663cf8655dd60c2\n(cherry picked from commit a5ef4eadd1b7ab056e5bb16dc2a1284226871903)\n""}]",0,554301,fce9a020a3f70e5b518968e995fd2735a3a79b34,10,4,2,7353,,,0,"Utilise sorted to ensure no random changes

As part of the ceph-ansible project, this change was put in:
https://github.com/ceph/ceph-ansible/commit/ec042219e64a321fa67fce0384af76eeb238c645
This was to handle the case where the config would change, initiating a
restart handler, even though no actual change happened.

We can juse use sorted() since we are passing back a list with .items()
which can then be sorted.

The above change didn't include a change to ensure the order of the
sections, which meant that although the individual items were sorted the
sections could change order causing unnecessary changes.

Additionally, this adds a test to retemplate the file 3 times, with a
lot more sections to ensure the order remains the same, this will fail
when the config template changes even though no changes have happened.

Change-Id: I7c7cd9ef1dd767a2a5d754ac4663cf8655dd60c2
(cherry picked from commit a5ef4eadd1b7ab056e5bb16dc2a1284226871903)
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/01/554301/1 && git format-patch -1 --stdout FETCH_HEAD,"['action/config_template.py', 'tests/test-config_template.yml']",2,c153d538503839a54314b4d93b69b8c1411a41dc,fix_ordering-stable/queens," - name: Template multiple times to assert no changes config_template: src: ""{{ playbook_dir }}/templates/test_with_comments.ini"" dest: ""/tmp/test_with_comments.ini"" config_type: ""ini"" config_overrides: ""{{ item[1] }}"" register: template_changed failed_when: template_changed | changed with_nested: - [ 0, 1, 2 ] - [ ""{{ test_config_ini_overrides }}"" ] section1: key1: ""value1"" key2: ""value2"" key3: ""value3"" key4: ""value4"" key5: ""value5"" key6: ""value6"" key7: ""value7"" key8: ""value8"" key9: ""value9"" key10: ""value10"" key11: ""value11"" section2: key1: ""value1"" section3: key1: ""value1"" section4: key1: ""value1"" section5: key1: ""value1"" section6: key1: ""value1"" section7: key1: ""value1"" section8: key1: ""value1"" section9: key1: ""value1"" section10: key1: ""value1"" section11: key1: ""value1""",,47,4
openstack%2Freleases~master~Ie9e2e8dbaf677fd47e4d169eec0220d2c22d2d74,openstack/releases,master,Ie9e2e8dbaf677fd47e4d169eec0220d2c22d2d74,openstackdocstheme 1.20.0,MERGED,2018-03-20 17:29:19.000000000,2018-03-20 20:20:56.000000000,2018-03-20 20:20:56.000000000,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 20156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 17:29:19.000000000', 'files': ['deliverables/_independent/openstackdocstheme.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/826b0e554b75d213d7d82236fe1bd26bd47ad396', 'message': 'openstackdocstheme 1.20.0\n\nChange-Id: Ie9e2e8dbaf677fd47e4d169eec0220d2c22d2d74\n'}]",0,554641,826b0e554b75d213d7d82236fe1bd26bd47ad396,9,4,1,15334,,,0,"openstackdocstheme 1.20.0

Change-Id: Ie9e2e8dbaf677fd47e4d169eec0220d2c22d2d74
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/554641/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/openstackdocstheme.yaml'],1,826b0e554b75d213d7d82236fe1bd26bd47ad396,release, - projects: - hash: ad20979b5d0fb14e7dfe688d2c0c5019211a6903 repo: openstack/openstackdocstheme version: 1.20.0,,4,0
openstack%2Fopenstacksdk~master~I6be932088b4e622efafb2ee83b87cd929b2525d2,openstack/openstacksdk,master,I6be932088b4e622efafb2ee83b87cd929b2525d2,Use defined version instead of service.version parameter,MERGED,2018-03-19 13:14:46.000000000,2018-03-20 20:07:15.000000000,2018-03-20 20:07:15.000000000,"[{'_account_id': 2}, {'_account_id': 8246}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 13:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9fd832fe9dc3d8ee44bb68271ae6723f197c87d3', 'message': 'Use define version parameter replace service.version\n\nChange-Id: I6be932088b4e622efafb2ee83b87cd929b2525d2\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}, {'number': 2, 'created': '2018-03-20 10:28:05.000000000', 'files': ['openstack/profile.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2f61a6757d55c329a3b7e6403fe0a9b5c928643f', 'message': ""Use defined version instead of service.version parameter\n\nWhen api_version contains a version that begins with 'v',\nWe should use the defined version parameters.\n\nChange-Id: I6be932088b4e622efafb2ee83b87cd929b2525d2\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n""}]",1,554223,2f61a6757d55c329a3b7e6403fe0a9b5c928643f,11,4,2,23517,,,0,"Use defined version instead of service.version parameter

When api_version contains a version that begins with 'v',
We should use the defined version parameters.

Change-Id: I6be932088b4e622efafb2ee83b87cd929b2525d2
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/23/554223/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/profile.py'],1,9fd832fe9dc3d8ee44bb68271ae6723f197c87d3,, kwargs[key] = version, kwargs[key] = service.version,1,1
openstack%2Fproject-config~master~I81da138666ef3a5cb35cadae95f0c2feb5ba92fc,openstack/project-config,master,I81da138666ef3a5cb35cadae95f0c2feb5ba92fc,Add ansible-role-statsd project,MERGED,2018-03-20 17:54:46.000000000,2018-03-20 20:07:08.000000000,2018-03-20 20:07:08.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 17:54:46.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/ansible-role-statsd.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a7ef24116684d3a06217d1de2307fff0c8ffbde3', 'message': ""Add ansible-role-statsd project\n\nCreate an ansible role to be used by windmill for the purpose of\nmanaging statsd. We won't be publishing to pypi or using official\ndocumentation.\n\nChange-Id: I81da138666ef3a5cb35cadae95f0c2feb5ba92fc\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n""}]",0,554646,a7ef24116684d3a06217d1de2307fff0c8ffbde3,7,3,1,4162,,,0,"Add ansible-role-statsd project

Create an ansible role to be used by windmill for the purpose of
managing statsd. We won't be publishing to pypi or using official
documentation.

Change-Id: I81da138666ef3a5cb35cadae95f0c2feb5ba92fc
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/46/554646/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/ansible-role-statsd.config']",4,a7ef24116684d3a06217d1de2307fff0c8ffbde3,new-project,"[access ""refs/heads/*""] abandon = group ansible-role-statsd-core label-Code-Review = -2..+2 group ansible-role-statsd-core label-Workflow = -1..+1 group ansible-role-statsd-core [access ""refs/tags/*""] pushSignedTag = group ansible-role-statsd-release [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,18,0
openstack%2Fopenstack-ansible-os_keystone~stable%2Fpike~Id3ccba83a402074af77b62f67754a834d6f765b7,openstack/openstack-ansible-os_keystone,stable/pike,Id3ccba83a402074af77b62f67754a834d6f765b7,Only try to stop services that exist,MERGED,2018-03-16 10:28:00.000000000,2018-03-20 20:01:57.000000000,2018-03-20 20:01:57.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-03-16 10:28:00.000000000', 'files': ['tasks/keystone_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/a7f57f5afe363b58304f61a0bbd9e053e786a93c', 'message': 'Only try to stop services that exist\n\nTest for the presence of services before trying to stop them.\nAvoids a delay during initial deploy.\n\nChange-Id: Id3ccba83a402074af77b62f67754a834d6f765b7\n(cherry picked from commit 966b08123c4b350eb5a47e0ac301d2f89f85cd74)\n'}]",0,553747,a7f57f5afe363b58304f61a0bbd9e053e786a93c,11,5,1,6816,,,0,"Only try to stop services that exist

Test for the presence of services before trying to stop them.
Avoids a delay during initial deploy.

Change-Id: Id3ccba83a402074af77b62f67754a834d6f765b7
(cherry picked from commit 966b08123c4b350eb5a47e0ac301d2f89f85cd74)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/47/553747/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/keystone_db_setup.yml'],1,a7f57f5afe363b58304f61a0bbd9e053e786a93c,service_test-stable/pike,"# host this task is executed on. Detect the presence of the services. - name: Test if keystone service exists check_mode: yes register: keystone_service_exists with_items: ""{{ keystone_wsgi_program_names }}"" - name: Ensure keystone service is stopped service: name: ""{{ item.name }}"" with_items: ""{{ keystone_service_exists.results }}"" - ""(item.status['LoadState'] == 'loaded' | bool)""","# host this task is executed on. We therefore use failed_when for the task # to catch a failure that's outside the norm. - name: Ensure keystone service is stopped with_items: ""{{ keystone_wsgi_program_names }}"" failed_when: - ""_stop.msg is defined"" - ""'no service or tool' not in _stop.msg"" - ""'systemd could not find' not in _stop.msg"" - ""'Could not find the requested service' not in _stop.msg""",11,9
openstack%2Fdesignate~master~I07825694f173a8bebd7d62ade089c38d3c666283,openstack/designate,master,I07825694f173a8bebd7d62ade089c38d3c666283,Remove translation of log messages,MERGED,2018-03-12 17:10:38.000000000,2018-03-20 20:01:50.000000000,2018-03-20 20:01:50.000000000,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 25674}, {'_account_id': 26220}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-03-12 17:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/34ea626d02ee8fe15165f0f93bbde0c9c3c464ef', 'message': 'Remove translation of log messages\n\n- Removed log translation.\n- Always lazy-load logging.\n- Fixed broken log lines.\n\nLogs should no longer be translated (starting with Pike).\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/thread.html#113365\n\nAccording to OpenStack Guideline[1], logged string message should be\ninterpolated by the logger.\n\n[1]: http://docs.openstack.org/developer/oslo.i18n/guidelines.html#adding-variables-to-log-messages\n\nChange-Id: I07825694f173a8bebd7d62ade089c38d3c666283\n'}, {'number': 2, 'created': '2018-03-12 18:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6390710991e5150e35d72f681c27642d471eb91e', 'message': 'Remove translation of log messages\n\nChanges\n- Removed log translation.\n- Always lazy-load logging.\n- Fixed broken log lines.\n\nLogs should no longer be translated (starting with Pike)[1].\n\nAccording to OpenStack Guideline[1], logged string message should be\ninterpolated by the logger.\n\n[1]: http://lists.openstack.org/pipermail/openstack-dev/2017-March/thread.html#113365\n[2]: https://docs.openstack.org/oslo.i18n/latest/user/guidelines.html#adding-variables-to-log-messages\n\nChange-Id: I07825694f173a8bebd7d62ade089c38d3c666283\n'}, {'number': 3, 'created': '2018-03-12 22:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a39a86d52d098749b05cc1b53397271d71dbb601', 'message': 'Remove translation of log messages\n\nChanges\n- Removed log translation.\n- Always lazy-load logging.\n- Fixed broken log lines.\n\nLogs should no longer be translated (starting with Pike)[1].\n\nAccording to OpenStack Guideline[2], logged string message should be\ninterpolated by the logger.\n\n[1]: http://lists.openstack.org/pipermail/openstack-dev/2017-March/thread.html#113365\n[2]: https://docs.openstack.org/oslo.i18n/latest/user/guidelines.html#adding-variables-to-log-messages\n\nChange-Id: I07825694f173a8bebd7d62ade089c38d3c666283\n'}, {'number': 4, 'created': '2018-03-12 23:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d1df5743805006da370734113280096b6a856541', 'message': 'Remove translation of log messages\n\nChanges\n- Removed log translation.\n- Always lazy-load logging.\n- Fixed broken log lines.\n\nLogs should no longer be translated (starting with Pike)[1].\n\nAccording to OpenStack Guideline[2], logged string message should be\ninterpolated by the logger.\n\n[1]: http://lists.openstack.org/pipermail/openstack-dev/2017-March/thread.html#113365\n[2]: https://docs.openstack.org/oslo.i18n/latest/user/guidelines.html#adding-variables-to-log-messages\n\nChange-Id: I07825694f173a8bebd7d62ade089c38d3c666283\n'}, {'number': 5, 'created': '2018-03-12 23:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d77cedd22bc225fa3790f21d0780cb6225abb9f0', 'message': 'Remove translation of log messages\n\nChanges\n- Removed log translation.\n- Always lazy-load logging.\n- Fixed broken log lines.\n\nLogs should no longer be translated (starting with Pike)[1].\n\nAccording to OpenStack Guideline[2], logged string message should be\ninterpolated by the logger.\n\n[1]: http://lists.openstack.org/pipermail/openstack-dev/2017-March/thread.html#113365\n[2]: https://docs.openstack.org/oslo.i18n/latest/user/guidelines.html#adding-variables-to-log-messages\n\nChange-Id: I07825694f173a8bebd7d62ade089c38d3c666283\n'}, {'number': 6, 'created': '2018-03-13 03:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a543b8f0e5c92a3de3dafda26edf32de93ea0656', 'message': 'Remove translation of log messages\n\n* Removed all log translation.\n* Always lazy-load logging.\n* Fixed broken log lines and updated tests.\n\nLogs should no longer be translated (starting with Pike)[1].\n\nAlso, according to OpenStack Guideline[2], logged string message should be\ninterpolated by the logger.\n\n[1]: http://lists.openstack.org/pipermail/openstack-dev/2017-March/thread.html#113365\n[2]: https://docs.openstack.org/oslo.i18n/latest/user/guidelines.html#adding-variables-to-log-messages\n\nChange-Id: I07825694f173a8bebd7d62ade089c38d3c666283\n'}, {'number': 7, 'created': '2018-03-13 19:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8bd572aefeeb637a79a67539887f8ffd5e9a8186', 'message': 'Remove translation of log messages\n\nChanges\n- Removed log translation.\n- Always lazy-load logging.\n- Fixed broken log lines.\n\nLogs should no longer be translated (starting with Pike)[1].\n\nAccording to OpenStack Guideline[2], logged string message should be\ninterpolated by the logger.\n\n[1]: http://lists.openstack.org/pipermail/openstack-dev/2017-March/thread.html#113365\n[2]: https://docs.openstack.org/oslo.i18n/latest/user/guidelines.html#adding-variables-to-log-messages\n\nChange-Id: I07825694f173a8bebd7d62ade089c38d3c666283\n'}, {'number': 8, 'created': '2018-03-13 19:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/532d13b771f15692066b91554d4e2285ad8e5791', 'message': 'Remove translation of log messages\n\n* Removed all log translation.\n* Always lazy-load logging.\n* Fixed broken log lines and updated tests.\n\nLogs should no longer be translated (starting with Pike)[1].\n\nAlso, according to OpenStack Guideline[2], logged string message should be\ninterpolated by the logger.\n\n[1]: http://lists.openstack.org/pipermail/openstack-dev/2017-March/thread.html#113365\n[2]: https://docs.openstack.org/oslo.i18n/latest/user/guidelines.html#adding-variables-to-log-messages\n\nChange-Id: I07825694f173a8bebd7d62ade089c38d3c666283\n'}, {'number': 9, 'created': '2018-03-13 20:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/760e1f044549818c231e1f15f2a95e7064695ed7', 'message': 'Remove translation of log messages\n\n* Removed all log translation.\n* Always lazy-load logging.\n* Fixed broken log lines and updated tests.\n\nLogs should no longer be translated (starting with Pike)[1].\n\nAlso, according to OpenStack Guideline[2], logged string message should be\ninterpolated by the logger.\n\n[1]: http://lists.openstack.org/pipermail/openstack-dev/2017-March/thread.html#113365\n[2]: https://docs.openstack.org/oslo.i18n/latest/user/guidelines.html#adding-variables-to-log-messages\n\nChange-Id: I07825694f173a8bebd7d62ade089c38d3c666283\n'}, {'number': 10, 'created': '2018-03-14 17:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b1d11e69d4805e6d9f9ac2d987b5b622b5b974d5', 'message': 'Remove translation of log messages\n\n* Removed all log translation.\n* Always lazy-load logging.\n* Fixed broken log lines and updated tests.\n\nLogs should no longer be translated (starting with Pike)[1].\n\nAlso, according to OpenStack Guideline[2], logged string message should be\ninterpolated by the logger.\n\n[1]: http://lists.openstack.org/pipermail/openstack-dev/2017-March/thread.html#113365\n[2]: https://docs.openstack.org/oslo.i18n/latest/user/guidelines.html#adding-variables-to-log-messages\n\nChange-Id: I07825694f173a8bebd7d62ade089c38d3c666283\n'}, {'number': 11, 'created': '2018-03-14 19:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f137a68a5dc59aa43e71f51132ca781f3f77e346', 'message': 'Remove translation of log messages\n\n* Removed all log translation.\n* Always lazy-load logging.\n* Fixed broken log lines and updated tests.\n\nLogs should no longer be translated (starting with Pike)[1].\n\nAlso, according to OpenStack Guideline[2], logged string message should be\ninterpolated by the logger.\n\n[1]: http://lists.openstack.org/pipermail/openstack-dev/2017-March/thread.html#113365\n[2]: https://docs.openstack.org/oslo.i18n/latest/user/guidelines.html#adding-variables-to-log-messages\n\nChange-Id: I07825694f173a8bebd7d62ade089c38d3c666283\n'}, {'number': 12, 'created': '2018-03-14 19:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/071650012c9216703de52d7913d45544c42ab849', 'message': 'Remove translation of log messages\n\n* Removed all log translation.\n* Always lazy-load logging.\n* Fixed broken log lines and updated tests.\n\nLogs should no longer be translated (starting with Pike)[1].\n\nAlso, according to OpenStack Guideline[2], logged string message should be\ninterpolated by the logger.\n\n[1]: http://lists.openstack.org/pipermail/openstack-dev/2017-March/thread.html#113365\n[2]: https://docs.openstack.org/oslo.i18n/latest/user/guidelines.html#adding-variables-to-log-messages\n\nChange-Id: I07825694f173a8bebd7d62ade089c38d3c666283\n'}, {'number': 13, 'created': '2018-03-14 19:54:14.000000000', 'files': ['designate/worker/tasks/zone.py', 'designate/backend/agent_backend/impl_gdnsd.py', 'designate/cmd/worker.py', 'designate/api/v2/controllers/zones/tasks/imports.py', 'designate/sqlalchemy/utils.py', 'doc/source/contributor/getting-involved.rst', 'designate/backend/impl_powerdns/migrate_repo/versions/006_add_inherit_ttl_col.py', 'designate/manage/pool.py', 'designate/backend/impl_powerdns/__init__.py', 'designate/sink/service.py', 'designate/backend/impl_bind9.py', 'designate/api/v2/controllers/tlds.py', 'designate/backend/impl_dynect.py', 'designate/mdns/base.py', 'designate/notifications.py', 'designate/manage/akamai.py', 'designate/backend/impl_fake.py', 'designate/cmd/zone_manager.py', 'designate/backend/agent_backend/impl_msdns.py', 'designate/coordination.py', 'designate/backend/agent_backend/impl_denominator.py', 'designate/backend/agent_backend/impl_knot2.py', 'designate/api/v2/controllers/recordsets.py', 'designate/scheduler/base.py', 'designate/cmd/producer.py', 'designate/utils.py', 'designate/api/service.py', 'designate/mdns/notify.py', 'designate/api/v2/controllers/rest.py', 'designate/objects/adapters/base.py', 'designate/network_api/neutron.py', 'designate/producer/tasks.py', 'designate/central/service.py', 'designate/tests/fixtures.py', 'designate/backend/impl_designate.py', 'designate/manage/tlds.py', 'designate/quota/__init__.py', 'designate/metrics.py', 'designate/agent/handler.py', 'designate/backend/agent.py', 'designate/backend/impl_infoblox/__init__.py', 'designate/backend/impl_infoblox/connector.py', 'designate/policy.py', 'designate/backend/agent_backend/impl_fake.py', 'designate/storage/impl_sqlalchemy/migrate_repo/versions/084_add_delayed_notify_column.py', 'designate/dnsutils.py', 'designate/storage/__init__.py', 'designate/api/admin/controllers/root.py', 'designate/backend/agent_backend/__init__.py', 'designate/api/v2/controllers/zones/nameservers.py', 'designate/metrics_client/noop.py', 'designate/pool_manager/service.py', 'designate/tests/unit/test_metrics/test_metrics.py', 'designate/api/v2/controllers/zones/tasks/transfer_requests.py', 'designate/api/v2/controllers/zones/tasks/exports.py', 'designate/pool_manager/rpcapi.py', 'designate/api/middleware.py', 'designate/api/v2/controllers/tsigkeys.py', 'designate/api/v2/controllers/blacklists.py', 'designate/api/v2/controllers/floatingips.py', 'designate/api/v2/controllers/pools.py', 'designate/backend/impl_infoblox/object_manipulator.py', 'designate/objects/base.py', 'designate/notification_handler/base.py', 'designate/mdns/handler.py', 'designate/backend/agent_backend/impl_bind9.py', 'designate/api/v2/controllers/zones/tasks/xfr.py', 'designate/storage/impl_sqlalchemy/migrate_repo/utils.py', 'designate/worker/service.py', 'designate/storage/impl_sqlalchemy/__init__.py', 'designate/backend/impl_powerdns/migrate_repo/versions/011_records_drop_designate_ids.py', 'contrib/zoneextractor.py', 'designate/mdns/rpcapi.py', 'designate/backend/impl_akamai.py', 'designate/backend/impl_nsd4.py', 'designate/api/v2/controllers/zones/tasks/abandon.py', 'designate/context.py', 'designate/cmd/pool_manager.py', 'designate/backend/base.py', 'designate/objects/recordset.py', 'designate/backend/agent_backend/impl_djbdns.py', 'designate/service.py', 'designate/api/v2/controllers/zones/tasks/transfer_accepts.py', 'designate/producer/service.py', 'designate/api/v2/controllers/zones/__init__.py', 'designate/plugin.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/6ad30a39e6bdcaefa2f9ed68b8951012710e7661', 'message': 'Remove translation of log messages\n\n* Removed all log translation.\n* Always lazy-load logging.\n* Fixed broken log lines and updated tests.\n\nLogs should no longer be translated (starting with Pike)[1].\n\nAlso, according to OpenStack Guideline[2], logged string message should be\ninterpolated by the logger.\n\n[1]: http://lists.openstack.org/pipermail/openstack-dev/2017-March/thread.html#113365\n[2]: https://docs.openstack.org/oslo.i18n/latest/user/guidelines.html#adding-variables-to-log-messages\n\nChange-Id: I07825694f173a8bebd7d62ade089c38d3c666283\n'}]",6,552092,6ad30a39e6bdcaefa2f9ed68b8951012710e7661,45,7,13,22623,,,0,"Remove translation of log messages

* Removed all log translation.
* Always lazy-load logging.
* Fixed broken log lines and updated tests.

Logs should no longer be translated (starting with Pike)[1].

Also, according to OpenStack Guideline[2], logged string message should be
interpolated by the logger.

[1]: http://lists.openstack.org/pipermail/openstack-dev/2017-March/thread.html#113365
[2]: https://docs.openstack.org/oslo.i18n/latest/user/guidelines.html#adding-variables-to-log-messages

Change-Id: I07825694f173a8bebd7d62ade089c38d3c666283
",git fetch https://review.opendev.org/openstack/designate refs/changes/92/552092/12 && git format-patch -1 --stdout FETCH_HEAD,"['designate/worker/tasks/zone.py', 'designate/backend/agent_backend/impl_gdnsd.py', 'designate/cmd/worker.py', 'designate/api/v2/controllers/zones/tasks/imports.py', 'designate/sqlalchemy/utils.py', 'designate/backend/impl_powerdns/migrate_repo/versions/006_add_inherit_ttl_col.py', 'designate/manage/pool.py', 'designate/backend/impl_powerdns/__init__.py', 'designate/sink/service.py', 'designate/backend/impl_bind9.py', 'designate/api/v2/controllers/tlds.py', 'designate/backend/impl_dynect.py', 'designate/mdns/base.py', 'designate/notifications.py', 'designate/manage/akamai.py', 'designate/backend/impl_fake.py', 'designate/cmd/zone_manager.py', 'designate/backend/agent_backend/impl_msdns.py', 'designate/coordination.py', 'designate/backend/agent_backend/impl_denominator.py', 'designate/backend/agent_backend/impl_knot2.py', 'designate/api/v2/controllers/recordsets.py', 'designate/scheduler/base.py', 'designate/cmd/producer.py', 'designate/utils.py', 'designate/api/service.py', 'designate/mdns/notify.py', 'designate/objects/adapters/base.py', 'designate/network_api/neutron.py', 'designate/producer/tasks.py', 'designate/central/service.py', 'designate/tests/fixtures.py', 'designate/backend/impl_designate.py', 'designate/manage/tlds.py', 'designate/quota/__init__.py', 'designate/metrics.py', 'designate/agent/handler.py', 'designate/backend/agent.py', 'designate/backend/impl_infoblox/__init__.py', 'designate/backend/impl_infoblox/connector.py', 'designate/backend/agent_backend/impl_fake.py', 'designate/storage/impl_sqlalchemy/migrate_repo/versions/084_add_delayed_notify_column.py', 'designate/dnsutils.py', 'designate/storage/__init__.py', 'designate/api/admin/controllers/root.py', 'designate/backend/agent_backend/__init__.py', 'designate/api/v2/controllers/zones/nameservers.py', 'designate/metrics_client/noop.py', 'designate/pool_manager/service.py', 'designate/tests/unit/test_metrics/test_metrics.py', 'designate/api/v2/controllers/zones/tasks/transfer_requests.py', 'designate/api/v2/controllers/zones/tasks/exports.py', 'designate/pool_manager/rpcapi.py', 'designate/api/middleware.py', 'designate/api/v2/controllers/tsigkeys.py', 'designate/api/v2/controllers/blacklists.py', 'designate/api/v2/controllers/floatingips.py', 'designate/api/v2/controllers/pools.py', 'designate/backend/impl_infoblox/object_manipulator.py', 'designate/objects/base.py', 'designate/notification_handler/base.py', 'designate/mdns/handler.py', 'designate/backend/agent_backend/impl_bind9.py', 'designate/api/v2/controllers/zones/tasks/xfr.py', 'designate/storage/impl_sqlalchemy/migrate_repo/utils.py', 'designate/worker/service.py', 'designate/storage/impl_sqlalchemy/__init__.py', 'designate/backend/impl_powerdns/migrate_repo/versions/011_records_drop_designate_ids.py', 'designate/mdns/rpcapi.py', 'designate/backend/impl_akamai.py', 'designate/backend/impl_nsd4.py', 'designate/api/v2/controllers/zones/tasks/abandon.py', 'designate/context.py', 'designate/cmd/pool_manager.py', 'designate/backend/base.py', 'designate/objects/recordset.py', 'designate/backend/agent_backend/impl_djbdns.py', 'designate/service.py', 'designate/api/v2/controllers/zones/tasks/transfer_accepts.py', 'designate/producer/service.py', 'designate/api/v2/controllers/zones/__init__.py', 'designate/plugin.py']",82,34ea626d02ee8fe15165f0f93bbde0c9c3c464ef,log_translation_removal," LOG.debug(""Loaded plugin %s"", self.name) LOG.debug('Looking for driver %s in %s', name, cls.__plugin_ns__)"," LOG.debug(""Loaded plugin %s"" % self.name) LOG.debug('Looking for driver %s in %s' % (name, cls.__plugin_ns__))",822,784
openstack%2Fnova~master~I68f2074814c3ae890888a5c75fd2870bb99f0e08,openstack/nova,master,I68f2074814c3ae890888a5c75fd2870bb99f0e08,api-ref: add a note in DELETE /os-services about deleting computes,MERGED,2018-03-15 20:10:38.000000000,2018-03-20 19:47:58.000000000,2018-03-20 19:47:58.000000000,"[{'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 8768}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-15 20:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80536d1db2277402bbfd26b902d91bba71686916', 'message': ""api-ref: add a note in DELETE /os-services about deleting computes\n\nAs seen in I2717274bb1bd370870acbf58c03dc59cee30cc5e, if an\noperator deletes a nova-compute service via the API but fails\nto stop the actual nova-compute process, the API will delete the\nservices table and compute_nodes table records, but the nova-compute\nprocess will hit the 'update_available_resource' periodic task and\nre-create the compute node record, which at that point is orphaned\nsince it does not have an associated nova-compute service.\n\nRestarting the nova-compute service _should_ recreate the service\ntable record for that host and then the user could delete attempt to\ndelete the service and compute node record again via this API, but\nit's better to not have to find this out the hard way.\n\nSo this change adds a simple reminder that the nova-compute process\non the host should be stopped before deleting the compute service.\n\nChange-Id: I68f2074814c3ae890888a5c75fd2870bb99f0e08\nRelated-Bug: #1646255\n""}, {'number': 2, 'created': '2018-03-15 20:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2e2bfedc0c3a424266c24292b0c44d0b569ac57', 'message': ""api-ref: add a note in DELETE /os-services about deleting computes\n\nAs seen in I2717274bb1bd370870acbf58c03dc59cee30cc5e, if an\noperator deletes a nova-compute service via the API but fails\nto stop the actual nova-compute process, the API will delete the\nservices table and compute_nodes table records, but the nova-compute\nprocess will hit the 'update_available_resource' periodic task and\nre-create the compute node record, which at that point is orphaned\nsince it does not have an associated nova-compute service.\n\nRestarting the nova-compute service _should_ recreate the service\ntable record for that host and then the user could attempt to\ndelete the service and compute node record again via this API, but\nit's better to not have to find this out the hard way.\n\nSo this change adds a simple reminder that the nova-compute process\non the host should be stopped before deleting the compute service.\n\nChange-Id: I68f2074814c3ae890888a5c75fd2870bb99f0e08\nRelated-Bug: #1646255\n""}, {'number': 3, 'created': '2018-03-16 17:55:07.000000000', 'files': ['api-ref/source/os-services.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/e0c43ac7a7b9edbd3eb4921d87f476a33364549b', 'message': ""api-ref: add a note in DELETE /os-services about deleting computes\n\nAs seen in I2717274bb1bd370870acbf58c03dc59cee30cc5e, if an\noperator deletes a nova-compute service via the API but fails\nto stop the actual nova-compute process, the API will delete the\nservices table and compute_nodes table records, but the nova-compute\nprocess will hit the 'update_available_resource' periodic task and\nre-create the compute node record, which at that point is orphaned\nsince it does not have an associated nova-compute service.\n\nRestarting the nova-compute service _should_ recreate the service\ntable record for that host and then the user could attempt to\ndelete the service and compute node record again via this API, but\nit's better to not have to find this out the hard way.\n\nSo this change adds a simple reminder that the nova-compute process\non the host should be stopped before deleting the compute service.\n\nWhile in here, the link to the install guide about the various\ncompute services is also fixed.\n\nChange-Id: I68f2074814c3ae890888a5c75fd2870bb99f0e08\nRelated-Bug: #1646255\n""}]",8,553598,e0c43ac7a7b9edbd3eb4921d87f476a33364549b,33,15,3,6873,,,0,"api-ref: add a note in DELETE /os-services about deleting computes

As seen in I2717274bb1bd370870acbf58c03dc59cee30cc5e, if an
operator deletes a nova-compute service via the API but fails
to stop the actual nova-compute process, the API will delete the
services table and compute_nodes table records, but the nova-compute
process will hit the 'update_available_resource' periodic task and
re-create the compute node record, which at that point is orphaned
since it does not have an associated nova-compute service.

Restarting the nova-compute service _should_ recreate the service
table record for that host and then the user could attempt to
delete the service and compute node record again via this API, but
it's better to not have to find this out the hard way.

So this change adds a simple reminder that the nova-compute process
on the host should be stopped before deleting the compute service.

While in here, the link to the install guide about the various
compute services is also fixed.

Change-Id: I68f2074814c3ae890888a5c75fd2870bb99f0e08
Related-Bug: #1646255
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/553598/2 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/os-services.inc'],1,80536d1db2277402bbfd26b902d91bba71686916,bug/1646255,"Deletes a service. If it's a ``nova-compute`` service, then the.. important:: Be sure to stop an actual ``nova-compute`` process on the physical host *before* deleting the service with this API. Failing to do so can lead to the running service re-creating orphaned **compute_nodes** table records in the database. ","Deletes a Compute service. If it's a nova-compute service, then the",6,1
openstack%2Fswift~master~Ifd8a0534fbdf41837977028c0c6ef99f1f6ac0f0,openstack/swift,master,Ifd8a0534fbdf41837977028c0c6ef99f1f6ac0f0,Refactor tempurl functional test's try-finally,MERGED,2018-03-20 04:56:34.000000000,2018-03-20 19:47:43.000000000,2018-03-20 19:47:43.000000000,"[{'_account_id': 2622}, {'_account_id': 14766}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 04:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/661f98049af50b1e87554c56d2bc889845722c1e', 'message': ""Refactor tempurl functional test's try-finally\n\nThis is a following patch of [1]. In [1] comment, tim suggested\nimplementation for same behavior with less code.\nThis change implemented the suggestion. See [1] for more details.\n\n[1]: https://review.openstack.org/#/c/547306/\n\nChange-Id: Ifd8a0534fbdf41837977028c0c6ef99f1f6ac0f0\n""}, {'number': 2, 'created': '2018-03-20 09:03:23.000000000', 'files': ['test/functional/test_tempurl.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7e77bf34f2fdc43c935380064eb0d7045988eec0', 'message': ""Refactor tempurl functional test's try-finally\n\nThis is a following patch of [1]. In [1] comment, tim suggested\nimplementation for same behavior with less code.\nThis change implemented the suggestion. See [1] for more details.\n\n[1]: https://review.openstack.org/#/c/547306/\n\nChange-Id: Ifd8a0534fbdf41837977028c0c6ef99f1f6ac0f0\n""}]",0,554412,7e77bf34f2fdc43c935380064eb0d7045988eec0,10,4,2,14766,,,0,"Refactor tempurl functional test's try-finally

This is a following patch of [1]. In [1] comment, tim suggested
implementation for same behavior with less code.
This change implemented the suggestion. See [1] for more details.

[1]: https://review.openstack.org/#/c/547306/

Change-Id: Ifd8a0534fbdf41837977028c0c6ef99f1f6ac0f0
",git fetch https://review.opendev.org/openstack/swift refs/changes/12/554412/1 && git format-patch -1 --stdout FETCH_HEAD,['test/functional/test_tempurl.py'],1,661f98049af50b1e87554c56d2bc889845722c1e,554412, metadata = self.env.container.info(cfg={ 'use_token': self.env.conn2.storage_token}), try: self.env.container.conn.storage_token = \ self.env.conn2.storage_token metadata = self.env.container.info() finally: self.env.container.conn.storage_token = original_token,2,6
openstack%2Fopenstack-ansible-memcached_server~master~I1ab2af26e643e9741721f02224ab934862cb209a,openstack/openstack-ansible-memcached_server,master,I1ab2af26e643e9741721f02224ab934862cb209a,Follow the new PTI for document build,ABANDONED,2018-03-11 21:15:55.000000000,2018-03-20 19:45:31.000000000,,"[{'_account_id': 6816}, {'_account_id': 9414}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-11 21:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/cab153cd8605752f941b0e2762fdea05c1ff155e', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I1ab2af26e643e9741721f02224ab934862cb209a\n'}, {'number': 2, 'created': '2018-03-12 04:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/7283ade5dc215c0ac4e895cc502fa1e64b775e51', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I1ab2af26e643e9741721f02224ab934862cb209a\n'}, {'number': 3, 'created': '2018-03-12 09:27:54.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/0472ca0160ef678941ca8f921be5b07bb9e5841d', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I1ab2af26e643e9741721f02224ab934862cb209a\n'}]",4,551810,0472ca0160ef678941ca8f921be5b07bb9e5841d,13,4,3,17130,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I1ab2af26e643e9741721f02224ab934862cb209a
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/10/551810/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,cab153cd8605752f941b0e2762fdea05c1ff155e,,deps = -r{toxinidir}/doc/requirements.txt sphinx-build -b html doc/source doc/build/htmldeps = -r{toxinidir}/doc/requirements.txt, python setup.py build_sphinx,13,9
openstack%2Fcharm-cinder-ceph~master~I1a394bd9f0a008a403d36ba5d7332b7fb5659006,openstack/charm-cinder-ceph,master,I1a394bd9f0a008a403d36ba5d7332b7fb5659006,Ensure cinder-ceph installs its prerequisites,MERGED,2018-03-20 09:04:06.000000000,2018-03-20 19:44:58.000000000,2018-03-20 19:44:57.000000000,"[{'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 09:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/b34fe48b522e0656c7f5a66b576f4dd7b6d9c386', 'message': 'Ensure cinder-ceph installs its prerequistis\n\nThe charm has been assuming that the principle charm will install\nthe packages this charm needs to run. This is not always the case\nso the change forces the charm to install what it needs.\n\nChange-Id: I1a394bd9f0a008a403d36ba5d7332b7fb5659006\nCloses-Bug: #1754007\n'}, {'number': 2, 'created': '2018-03-20 09:05:18.000000000', 'files': ['hooks/cinder_hooks.py', 'hooks/install', 'hooks/install.real'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/d6ef6b317dc6bf8e715bf66a524cae049a0cfee8', 'message': 'Ensure cinder-ceph installs its prerequisites\n\nThe charm has been assuming that the principle charm will install\nthe packages this charm needs to run. This is not always the case\nso the change forces the charm to install what it needs.\n\nChange-Id: I1a394bd9f0a008a403d36ba5d7332b7fb5659006\nCloses-Bug: #1754007\n'}]",0,554464,d6ef6b317dc6bf8e715bf66a524cae049a0cfee8,10,4,2,12549,,,0,"Ensure cinder-ceph installs its prerequisites

The charm has been assuming that the principle charm will install
the packages this charm needs to run. This is not always the case
so the change forces the charm to install what it needs.

Change-Id: I1a394bd9f0a008a403d36ba5d7332b7fb5659006
Closes-Bug: #1754007
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/64/554464/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/cinder_hooks.py', 'hooks/install', 'hooks/install.real']",3,b34fe48b522e0656c7f5a66b576f4dd7b6d9c386,bug/1754007,,,21,1
openstack%2Fpython-keystoneclient~master~Iea2166df927b84484a727121dd4831c991d8a4a7,openstack/python-keystoneclient,master,Iea2166df927b84484a727121dd4831c991d8a4a7,DNM: This makes keystoneclient.session.Session explode,ABANDONED,2017-09-12 21:30:44.000000000,2018-03-20 19:41:40.000000000,,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-12 21:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/63a4e8da404b7f6822ad8880f0d5a5dfa98746eb', 'message': 'DNM: This is a change that makes keystoneclient.session.Session explode\n\nThis will show if anyone in the gate is using keystoneclient session\ninstead of keystoneauth (as expected)\n\nChange-Id: Iea2166df927b84484a727121dd4831c991d8a4a7\n'}, {'number': 2, 'created': '2017-09-29 15:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/e04c8d6f0b049d811919ab86ae87b48288c08b95', 'message': 'DNM: This is a change that makes keystoneclient.session.Session explode\n\nThis will show if anyone in the gate is using keystoneclient session\ninstead of keystoneauth (as expected)\n\nChange-Id: Iea2166df927b84484a727121dd4831c991d8a4a7\n'}, {'number': 3, 'created': '2017-10-19 18:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/f9b6f109d7503d3e165f9edd80fd0708e82ef040', 'message': 'DNM: This makes keystoneclient.session.Session explode\n\nThis will show if anyone in the gate is using keystoneclient session\ninstead of keystoneauth (as expected)\n\nChange-Id: Iea2166df927b84484a727121dd4831c991d8a4a7\n'}, {'number': 4, 'created': '2017-12-13 23:28:01.000000000', 'files': ['keystoneclient/session.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/72a345b50e1f2659c3fe9039ac75f6da153a781a', 'message': 'DNM: This makes keystoneclient.session.Session explode\n\nThis will show if anyone in the gate is using keystoneclient session\ninstead of keystoneauth (as expected)\n\nChange-Id: Iea2166df927b84484a727121dd4831c991d8a4a7\n'}]",0,503207,72a345b50e1f2659c3fe9039ac75f6da153a781a,16,4,4,2903,,,0,"DNM: This makes keystoneclient.session.Session explode

This will show if anyone in the gate is using keystoneclient session
instead of keystoneauth (as expected)

Change-Id: Iea2166df927b84484a727121dd4831c991d8a4a7
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/07/503207/4 && git format-patch -1 --stdout FETCH_HEAD,['keystoneclient/session.py'],1,63a4e8da404b7f6822ad8880f0d5a5dfa98746eb,session-removal," raise Exception('keystoneclient.session.Session no longer works, use ' 'keystoneauth1.session.Session instead')"," warnings.warn( 'keystoneclient.session.Session is deprecated as of the 2.1.0 ' 'release in favor of keystoneauth1.session.Session. It will be ' 'removed in future releases.', DeprecationWarning)",2,5
openstack%2Fpuppet-nova~master~I4ac0c9bd30463c546b141326b1293c78f845cf81,openstack/puppet-nova,master,I4ac0c9bd30463c546b141326b1293c78f845cf81,Support --purge in Nova cleanup crons.,MERGED,2018-03-12 11:02:19.000000000,2018-03-20 19:33:10.000000000,2018-03-20 19:33:10.000000000,"[{'_account_id': 3153}, {'_account_id': 4393}, {'_account_id': 10135}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-03-12 11:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bfa166f43a9af87bd94956977c37a2b065b21edd', 'message': 'Add --all-cells and --purge to the archive command.\n\nThis patch adds the --all-cells and --purge to the\narchive command.\n\nThis feature is relevant due to the fact that we\nwere not purging the databases before running\nupgrades leading to an increasing DB sizes.\n\nChange-Id: I4ac0c9bd30463c546b141326b1293c78f845cf81\n'}, {'number': 2, 'created': '2018-03-12 18:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f1f06bcd92331dac6bd6d3f5f8026783fcc3ea43', 'message': 'Add --all-cells and --purge to the archive command.\n\nThis patch adds the --all-cells and --purge to the\narchive command.\n\nThis feature is relevant due to the fact that we\nwere not purging the databases before running\nupgrades leading to an increasing DB sizes.\n\nChange-Id: I4ac0c9bd30463c546b141326b1293c78f845cf81\n'}, {'number': 3, 'created': '2018-03-12 18:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/144f95365e0003984f36af4dc78d87c93125a8dc', 'message': 'Add --all-cells and --purge to the archive command.\n\nThis patch adds the --all-cells and --purge to the\narchive command.\n\nThis feature is relevant due to the fact that we\nwere not purging the databases before running\nupgrades leading to an increasing DB sizes.\n\nChange-Id: I4ac0c9bd30463c546b141326b1293c78f845cf81\n'}, {'number': 4, 'created': '2018-03-12 21:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/46fca3c95ef630666c357bd75d5954b2f3084f40', 'message': 'Add --all-cells and --purge to the archive command.\n\nThis patch adds the --all-cells and --purge to the\narchive command.\n\nThis feature is relevant due to the fact that we\nwere not purging the databases before running\nupgrades leading to an increasing DB sizes.\n\nChange-Id: I4ac0c9bd30463c546b141326b1293c78f845cf81\n'}, {'number': 5, 'created': '2018-03-13 08:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/cfaf7aa3d990a389d17bcde0b04ad9900db199c4', 'message': 'Add --purge to the archive command.\n\nThis patch adds the --purge parameter o the\narchive command.\n\nThis feature is relevant due to the fact that we\nwere not purging the databases before running\nupgrades, leading to the increase of the DB sizes.\n\nChange-Id: I4ac0c9bd30463c546b141326b1293c78f845cf81\n'}, {'number': 6, 'created': '2018-03-13 08:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/17d104de51fa87ea8a696ae2e05ce865468a6a04', 'message': 'Add --purge to the archive command.\n\nThis patch adds the --purge parameter o the\narchive command.\n\nThis feature is relevant due to the fact that we\nwere not purging the databases before running\nupgrades, leading to the increase of the DB sizes.\n\nChange-Id: I4ac0c9bd30463c546b141326b1293c78f845cf81\n'}, {'number': 7, 'created': '2018-03-13 10:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2c2726243b848db3ba9f955093fe51f486f6d4f3', 'message': 'Add --purge to the archive command.\n\nThis patch adds the --purge parameter o the\narchive command.\n\nThis feature is relevant due to the fact that we\nwere not purging the databases before running\nupgrades, leading to the increase of the DB sizes.\n\nChange-Id: I4ac0c9bd30463c546b141326b1293c78f845cf81\n'}, {'number': 8, 'created': '2018-03-13 10:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/576820957ced0894926a0c80e7e7fb809ca53f42', 'message': 'Add --purge to the archive command.\n\nThis patch adds the --purge parameter o the\narchive command.\n\nThis feature is relevant due to the fact that we\nwere not purging the databases before running\nupgrades, leading to the increase of the DB sizes.\n\nChange-Id: I4ac0c9bd30463c546b141326b1293c78f845cf81\n'}, {'number': 9, 'created': '2018-03-13 14:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/433e498561201236efa0972214c5bcd794aa2b47', 'message': 'Add --purge to the archive command.\n\nThis patch adds the --purge parameter to the\narchive command.\n\nThis feature is relevant due to the fact that we\nwere not purging the databases before running\nupgrades, leading to the increase of the DB sizes.\n\nChange-Id: I4ac0c9bd30463c546b141326b1293c78f845cf81\n'}, {'number': 10, 'created': '2018-03-16 16:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e73625dc3ca599d5cd7ad995eca7cf57c6d15a20', 'message': 'Add --purge to the archive command.\n\nThis patch adds the --purge parameter to the\narchive command.\n\nThis feature is relevant due to the fact that we\nwere not purging the databases before running\nupgrades, leading to the increase of the DB sizes.\n\nChange-Id: I4ac0c9bd30463c546b141326b1293c78f845cf81\n'}, {'number': 11, 'created': '2018-03-20 14:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/24f9898dce23855e4a4b38833c007da886d39b27', 'message': ""Support --purge in Nova cleanup crons.\n\nThis patch adds the --purge parameter from\n'nova-manage db' when executing the cleanup\ntasks.\n\nIt will add the --purge parameter to the\narchive_deleted_rows cron and will add an additional\ncron to exclusively purge the shadow tables.\n\nThis feature is relevant due to the fact that we\nwere not purging the databases before running\nupgrades, leading to the increase of the DB sizes.\n\nChange-Id: I4ac0c9bd30463c546b141326b1293c78f845cf81\n""}, {'number': 12, 'created': '2018-03-20 15:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2005ad27f815f46bbf7217e5d27aa1dbfd6be838', 'message': ""Support --purge in Nova cleanup crons.\n\nThis patch adds the --purge parameter from\n'nova-manage db' when executing the cleanup\ntasks.\n\nIt will add the --purge parameter to the\narchive_deleted_rows cron and will add an additional\ncron to exclusively purge the shadow tables.\n\nThis feature is relevant due to the fact that we\nwere not purging the databases before running\nupgrades, leading to the increase of the DB sizes.\n\nChange-Id: I4ac0c9bd30463c546b141326b1293c78f845cf81\n""}, {'number': 13, 'created': '2018-03-20 15:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b8a93a10648caa13214fdf072349a53422d29caf', 'message': ""Support --purge in Nova cleanup crons.\n\nThis patch adds the --purge parameter from\n'nova-manage db' when executing the cleanup\ntasks.\n\nIt will add the --purge parameter to the\narchive_deleted_rows cron and will add an additional\ncron to exclusively purge the shadow tables.\n\nThis feature is relevant due to the fact that we\nwere not purging the databases before running\nupgrades, leading to the increase of the DB sizes.\n\nChange-Id: I4ac0c9bd30463c546b141326b1293c78f845cf81\n""}, {'number': 14, 'created': '2018-03-20 15:43:57.000000000', 'files': ['manifests/cron/purge_shadow_tables.pp', 'releasenotes/notes/add-purge-to-cron-9b7c80e3e915fb4f.yaml', 'spec/acceptance/nova_wsgi_apache_spec.rb', 'manifests/cron/archive_deleted_rows.pp', 'spec/classes/nova_cron_purge_shadow_tables.rb', 'spec/classes/nova_cron_archive_deleted_rows_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/919fc8160ae616b211aafedc8a0043a63cf5fb27', 'message': ""Support --purge in Nova cleanup crons.\n\nThis patch adds the --purge parameter from\n'nova-manage db' when executing the cleanup\ntasks.\n\nIt will add the --purge parameter to the\narchive_deleted_rows cron and will add an additional\ncron to exclusively purge the shadow tables.\n\nThis feature is relevant due to the fact that we\nwere not purging the databases before running\nupgrades, leading to the increase of the DB sizes.\n\nChange-Id: I4ac0c9bd30463c546b141326b1293c78f845cf81\n""}]",9,551959,919fc8160ae616b211aafedc8a0043a63cf5fb27,34,8,14,20775,,,0,"Support --purge in Nova cleanup crons.

This patch adds the --purge parameter from
'nova-manage db' when executing the cleanup
tasks.

It will add the --purge parameter to the
archive_deleted_rows cron and will add an additional
cron to exclusively purge the shadow tables.

This feature is relevant due to the fact that we
were not purging the databases before running
upgrades, leading to the increase of the DB sizes.

Change-Id: I4ac0c9bd30463c546b141326b1293c78f845cf81
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/59/551959/14 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-all-cells-and-purge-to-cron-9b7c80e3e915fb4f.yaml', 'manifests/cron/archive_deleted_rows.pp', 'spec/classes/nova_cron_archive_deleted_rows_spec.rb']",3,bfa166f43a9af87bd94956977c37a2b065b21edd,add-purge-all-cells," context 'purge is true' do before :each do params.merge!( :purge => true, ) end it 'configures a cron with purge' do is_expected.to contain_cron('nova-manage db archive_deleted_rows').with( :command => ""nova-manage db archive_deleted_rows --max_rows #{params[:max_rows]} --until-complete >>#{params[:destination]} 2>&1"", :user => 'nova', :environment => 'PATH=/bin:/usr/bin:/usr/sbin SHELL=/bin/sh', :user => params[:user], :minute => params[:minute], :hour => params[:hour], :monthday => params[:monthday], :month => params[:month], :weekday => params[:weekday], :require => 'Anchor[nova::dbsync::end]', ) end end context 'all_cells is true' do before :each do params.merge!( :all_cells => true, ) end it 'configures a cron with all_cells' do is_expected.to contain_cron('nova-manage db archive_deleted_rows').with( :command => ""nova-manage db archive_deleted_rows --all-cells --max_rows #{params[:max_rows]} --until-complete >>#{params[:destination]} 2>&1"", :user => 'nova', :environment => 'PATH=/bin:/usr/bin:/usr/sbin SHELL=/bin/sh', :user => params[:user], :minute => params[:minute], :hour => params[:hour], :monthday => params[:monthday], :month => params[:month], :weekday => params[:weekday], :require => 'Anchor[nova::dbsync::end]', ) end end",,80,1
openstack%2Fneutron~master~I919f9bcb08d1916de3ec3b80279aa01a42db77cf,openstack/neutron,master,I919f9bcb08d1916de3ec3b80279aa01a42db77cf,DNM: testing devstack DVR change removing linuxbridge,ABANDONED,2017-09-12 22:34:32.000000000,2018-03-20 19:29:01.000000000,,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 15752}]","[{'number': 1, 'created': '2017-09-12 22:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d01aa4640c9c8cd98698decc0f9ebfb587c7d34e', 'message': 'DNM: testing devstack DVR change removing linuxbridge\n\nChange-Id: I919f9bcb08d1916de3ec3b80279aa01a42db77cf\n'}, {'number': 2, 'created': '2017-09-12 22:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/351303720b1feb55e596391be50fec2783a4fe23', 'message': 'DNM: testing devstack DVR change removing linuxbridge\n\nDepends-on: Ic50e12e5fecf366a182c141b5c99649e653254cb\n\nChange-Id: I919f9bcb08d1916de3ec3b80279aa01a42db77cf\n'}, {'number': 3, 'created': '2017-09-13 04:46:51.000000000', 'files': ['neutron/plugins/ml2/drivers/mech_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2d593e9cf8fe032e8ee006d5687089489ca391e', 'message': 'DNM: testing devstack DVR change removing linuxbridge\n\nChange-Id: I919f9bcb08d1916de3ec3b80279aa01a42db77cf\nDepends-On: Ic50e12e5fecf366a182c141b5c99649e653254cb\n'}]",0,503444,b2d593e9cf8fe032e8ee006d5687089489ca391e,14,5,3,1131,,,0,"DNM: testing devstack DVR change removing linuxbridge

Change-Id: I919f9bcb08d1916de3ec3b80279aa01a42db77cf
Depends-On: Ic50e12e5fecf366a182c141b5c99649e653254cb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/503444/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/mech_agent.py'],1,d01aa4640c9c8cd98698decc0f9ebfb587c7d34e,dnm-test, # testing this isn't triggered,,1,0
openstack%2Fnetworking-calico~master~Iac18c750708ddc6c6d23ae20c07460e7449c4ef2,openstack/networking-calico,master,Iac18c750708ddc6c6d23ae20c07460e7449c4ef2,Version 2.0.0,MERGED,2018-03-20 17:54:06.000000000,2018-03-20 19:28:20.000000000,2018-03-20 19:28:20.000000000,"[{'_account_id': 10068}, {'_account_id': 13734}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 17:54:06.000000000', 'files': ['debian/rules', 'debian/changelog', 'CHANGES.md', 'rpm/networking-calico.spec'], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/635bb641bae8e820f2c95f4954bb95da5bb115c9', 'message': 'Version 2.0.0\n\nChange-Id: Iac18c750708ddc6c6d23ae20c07460e7449c4ef2\n'}]",0,554645,635bb641bae8e820f2c95f4954bb95da5bb115c9,8,3,1,27983,,,0,"Version 2.0.0

Change-Id: Iac18c750708ddc6c6d23ae20c07460e7449c4ef2
",git fetch https://review.opendev.org/openstack/networking-calico refs/changes/45/554645/1 && git format-patch -1 --stdout FETCH_HEAD,"['debian/rules', 'debian/changelog', 'CHANGES.md', 'rpm/networking-calico.spec']",4,635bb641bae8e820f2c95f4954bb95da5bb115c9,release-v2.0.0,Version: 2.0.0* Tue Mar 20 2018 Neil Jerram <neil@tigera.io> 1:2.0.0-1 - networking-calico version 2.0.0 release - Adapt for new Calico data model (v3) - Transition remaining uses of etcdv2 to etcdv3 - Disambiguate DHCP agent's subnet lookup for an endpoint - Model security groups as NetworkPolicy instead of Profiles - Ensure that all Calico driver/plugin code logs consistently - Change Calico policy and labels prefix - Initialize privsep infrastructure for Calico DHCP agent - DHCP agent: Handle endpoint with no ipNetworks - Fix watch loops to handle compaction ,Version: 1.4.3,56,2
openstack%2Fopenstack-ansible~master~Iaaf48b2eb603b295b35c824327d1e8339f9054b1,openstack/openstack-ansible,master,Iaaf48b2eb603b295b35c824327d1e8339f9054b1,[DOC] contributor: Add initial documentation for distribution support,MERGED,2018-03-02 14:20:47.000000000,2018-03-20 19:27:19.000000000,2018-03-20 19:27:18.000000000,"[{'_account_id': 6816}, {'_account_id': 15993}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-03-02 14:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/53039511b877a9e11209fa4a69f407e938e4ec3c', 'message': '[DOC] contributor: Add initial documentation for distribution support\n\nDefine minimum requirements for distribution support and voting jobs.\n\nChange-Id: Iaaf48b2eb603b295b35c824327d1e8339f9054b1\n'}, {'number': 2, 'created': '2018-03-02 15:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0c6d7ca9eabbc18fa7eb3e15d54a297e82a4880c', 'message': '[DOC] contributor: Add initial documentation for distribution support\n\nDefine minimum requirements for distribution support and voting jobs.\n\nChange-Id: Iaaf48b2eb603b295b35c824327d1e8339f9054b1\n'}, {'number': 3, 'created': '2018-03-02 17:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/83832b911f15007d37ae4f4781a28c479a313eeb', 'message': '[DOC] contributor: Add initial documentation for distribution support\n\nDefine minimum requirements for distribution support and voting jobs.\n\nChange-Id: Iaaf48b2eb603b295b35c824327d1e8339f9054b1\n'}, {'number': 4, 'created': '2018-03-12 11:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/68737ad94237cb6871f3c7e8c7135d29d5f1f47c', 'message': '[DOC] contributor: Add initial documentation for distribution support\n\nDefine minimum requirements for distribution support and voting jobs.\n\nChange-Id: Iaaf48b2eb603b295b35c824327d1e8339f9054b1\n'}, {'number': 5, 'created': '2018-03-13 08:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/68928b311fd3593aab2676fbeee656810afa728f', 'message': 'contributor: Add initial documentation for distribution support\n\nDefine minimum requirements for distribution support and voting jobs.\n\nChange-Id: Iaaf48b2eb603b295b35c824327d1e8339f9054b1\n'}, {'number': 6, 'created': '2018-03-16 08:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c88940eb06198f01386008c8a04eb5d16ac004f7', 'message': '[DOC] contributor: Add initial documentation for distribution support\n\nDefine minimum requirements for distribution support and voting jobs.\n\nChange-Id: Iaaf48b2eb603b295b35c824327d1e8339f9054b1\n'}, {'number': 7, 'created': '2018-03-20 14:31:45.000000000', 'files': ['doc/source/contributor/index.rst', 'doc/source/developer-docs/distributions.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0bfa253122ae81b8ed5ac20e1bb68c9006b06de5', 'message': '[DOC] contributor: Add initial documentation for distribution support\n\nDefine minimum requirements for distribution support and voting jobs.\n\nChange-Id: Iaaf48b2eb603b295b35c824327d1e8339f9054b1\n'}]",0,549225,0bfa253122ae81b8ed5ac20e1bb68c9006b06de5,27,5,7,23163,,,0,"[DOC] contributor: Add initial documentation for distribution support

Define minimum requirements for distribution support and voting jobs.

Change-Id: Iaaf48b2eb603b295b35c824327d1e8339f9054b1
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/25/549225/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/index.rst', 'doc/source/developer-docs/distributions.rst']",2,53039511b877a9e11209fa4a69f407e938e4ec3c,define-first-class-distros,"==================== Distribution support ==================== Supported distributions ~~~~~~~~~~~~~~~~~~~~~~~ The list of supported distributions can be found in the :deploy_guide:`Deployment Guide <deploymenthost.html>` Minimum requirements for OpenStack-Ansible roles ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Existing and new distributions are expected to meet the following requirements in order for them to be accepted in the individual OpenStack-Ansible roles: * Pass functional tests Graduation ~~~~~~~~~~ For a distribution to be considered a supported one by the OpenStack-Ansible project, it has to meet the following minimum requirements: * Necessary steps for bootstrapping the operating system have to be documented in the :deploy_guide:`Deployment Guide <index.html>`. * At least one job in the integration repository which passes the Temptest testing framework. Voting ~~~~~~ Distributions can be promoted to voting jobs on individual roles once they move to the `Graduation` phase and their stability has been confirmed by the core OpenStack-Ansible developers. Similar to this, voting can also be enabled in the integration repository for all the scenarios or a particular one. ",,34,0
openstack%2Fopenstack-ansible~master~I243e742da3bf7d1e452998f257f7d0804e13237b,openstack/openstack-ansible,master,I243e742da3bf7d1e452998f257f7d0804e13237b,Avoid putting rgw conf on ALL hosts,MERGED,2018-03-05 18:26:41.000000000,2018-03-20 19:27:17.000000000,2018-03-20 19:27:16.000000000,"[{'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-03-05 18:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ba35d90fff9980116054b9d2e7e9528df6318235', 'message': ""Avoid putting rgw conf on ALL hosts\n\nTo avoid adding unnecessary RGW configuration to hosts that don't\nrequire it we should separate out the rgw_overrides to only apply to\nceph.conf on RGW hosts.\n\nChange-Id: I243e742da3bf7d1e452998f257f7d0804e13237b\n""}, {'number': 2, 'created': '2018-03-05 19:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dbc98c1987752a225c75d34f0cf4b12319a0c57f', 'message': ""Avoid putting rgw conf on ALL hosts\n\nTo avoid adding unnecessary RGW configuration to hosts that don't\nrequire it we should separate out the rgw_overrides to only apply to\nceph.conf on RGW hosts.\n\nAdditionally, the radosgw_dns_name var is no longer used by ceph-ansible\nor OSA in any way, so this has been cleaned up and removed.\n\nChange-Id: I243e742da3bf7d1e452998f257f7d0804e13237b\n""}, {'number': 3, 'created': '2018-03-06 09:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0b0742b4bd881196f60a2aef134d7a9ad85e5c6d', 'message': ""Avoid putting rgw conf on ALL hosts\n\nTo avoid adding unnecessary RGW configuration to hosts that don't\nrequire it we should separate out the rgw_overrides to only apply to\nceph.conf on RGW hosts.\n\nAdditionally, the radosgw_dns_name var is no longer used by ceph-ansible\nor OSA in any way, so this has been cleaned up and removed.\n\nChange-Id: I243e742da3bf7d1e452998f257f7d0804e13237b\n""}, {'number': 4, 'created': '2018-03-07 13:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0634cb140cb078ddf47d987f1ed6ef3a2aaf9937', 'message': ""Avoid putting rgw conf on ALL hosts\n\nTo avoid adding unnecessary RGW configuration to hosts that don't\nrequire it we should separate out the rgw_overrides to only apply to\nceph.conf on RGW hosts.\n\nAdditionally, the radosgw_dns_name var is no longer used by ceph-ansible\nor OSA in any way, so this has been cleaned up and removed.\n\nChange-Id: I243e742da3bf7d1e452998f257f7d0804e13237b\n""}, {'number': 5, 'created': '2018-03-12 09:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/69b72ac7bd54ba65ec4e678c4622ec7185f5db31', 'message': ""Avoid putting rgw conf on ALL hosts\n\nTo avoid adding unnecessary RGW configuration to hosts that don't\nrequire it we should separate out the rgw_overrides to only apply to\nceph.conf on RGW hosts.\n\nAdditionally, the radosgw_dns_name var is no longer used by ceph-ansible\nor OSA in any way, so this has been cleaned up and removed.\n\nChange-Id: I243e742da3bf7d1e452998f257f7d0804e13237b\n""}, {'number': 6, 'created': '2018-03-12 12:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/29e067163176399b2f8acd1bcf897756482627af', 'message': ""Avoid putting rgw conf on ALL hosts\n\nTo avoid adding unnecessary RGW configuration to hosts that don't\nrequire it we should separate out the rgw_overrides to only apply to\nceph.conf on RGW hosts.\n\nAdditionally, the radosgw_dns_name var is no longer used by ceph-ansible\nor OSA in any way, so this has been cleaned up and removed.\n\nChange-Id: I243e742da3bf7d1e452998f257f7d0804e13237b\n""}, {'number': 7, 'created': '2018-03-12 21:27:22.000000000', 'files': ['inventory/group_vars/ceph_all.yml', 'inventory/group_vars/ceph-rgw.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/58f49a8a2d488f3e550a6e6e4c0880964c6ccaf8', 'message': ""Avoid putting rgw conf on ALL hosts\n\nTo avoid adding unnecessary RGW configuration to hosts that don't\nrequire it we should separate out the rgw_overrides to only apply to\nceph.conf on RGW hosts.\n\nAdditionally, the radosgw_dns_name var is no longer used by ceph-ansible\nor OSA in any way, so this has been cleaned up and removed.\n\nChange-Id: I243e742da3bf7d1e452998f257f7d0804e13237b\n""}]",6,549840,58f49a8a2d488f3e550a6e6e4c0880964c6ccaf8,49,7,7,2799,,,0,"Avoid putting rgw conf on ALL hosts

To avoid adding unnecessary RGW configuration to hosts that don't
require it we should separate out the rgw_overrides to only apply to
ceph.conf on RGW hosts.

Additionally, the radosgw_dns_name var is no longer used by ceph-ansible
or OSA in any way, so this has been cleaned up and removed.

Change-Id: I243e742da3bf7d1e452998f257f7d0804e13237b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/40/549840/5 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/ceph_all.yml', 'inventory/group_vars/ceph-rgw.yml']",2,ba35d90fff9980116054b9d2e7e9528df6318235,rgw_config,"--- ceph_conf_overrides_rgw: ""client.rgw.{{ hostvars[inventory_hostname]['ansible_hostname'] }}"": # OpenStack integration with Keystone rgw_keystone_url: ""{{ keystone_service_adminuri }}"" rgw_keystone_api_version: 3 rgw_keystone_admin_user: ""{{ radosgw_admin_user }}"" rgw_keystone_admin_password: ""{{ radosgw_admin_password }}"" rgw_keystone_admin_tenant: ""{{ radosgw_admin_tenant }}"" rgw_keystone_admin_domain: default rgw_keystone_accepted_roles: 'Member, _member_, admin, swiftoperator' rgw_s3_auth_use_keystone: true rgw_enable_apis: swift ",,15,14
openstack%2Fopenstack-ansible~stable%2Fpike~I1351fddbdfd09f0a1a5eeef4afb44679bd39cd63,openstack/openstack-ansible,stable/pike,I1351fddbdfd09f0a1a5eeef4afb44679bd39cd63,Fix BOOTSTRAP_OPTS,MERGED,2018-03-16 10:20:01.000000000,2018-03-20 19:27:15.000000000,2018-03-20 19:27:15.000000000,"[{'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-03-16 10:20:01.000000000', 'files': ['scripts/bootstrap-aio.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3eaeafc0fba245bfa1ae25900b81a980a2ccd8d8', 'message': 'Fix BOOTSTRAP_OPTS\n\nBOOTSTRAP_OPTS was surrounded by "" "", which meant it would evaluate to:\n-e \'BOOTSTRAP_OPTS\', this became problematic if you wanted to add more\nthan one value.\n\nBy removing the "" "" this is resolved.\n\nChange-Id: I1351fddbdfd09f0a1a5eeef4afb44679bd39cd63\n(cherry picked from commit 07817a412c6473a812c9c0a7014e45eba5c62a30)\n'}]",0,553745,3eaeafc0fba245bfa1ae25900b81a980a2ccd8d8,15,6,1,2799,,,0,"Fix BOOTSTRAP_OPTS

BOOTSTRAP_OPTS was surrounded by "" "", which meant it would evaluate to:
-e 'BOOTSTRAP_OPTS', this became problematic if you wanted to add more
than one value.

By removing the "" "" this is resolved.

Change-Id: I1351fddbdfd09f0a1a5eeef4afb44679bd39cd63
(cherry picked from commit 07817a412c6473a812c9c0a7014e45eba5c62a30)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/45/553745/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-aio.sh'],1,3eaeafc0fba245bfa1ae25900b81a980a2ccd8d8,, -e ${BOOTSTRAP_OPTS}," -e ""${BOOTSTRAP_OPTS}""",1,1
openstack%2Fsahara~stable%2Fqueens~I5b54d69def7b457715ed60da3663a0153fe94be8,openstack/sahara,stable/queens,I5b54d69def7b457715ed60da3663a0153fe94be8,Fix Spark EDP job failed in vanilla 2.8.2,MERGED,2018-03-20 15:02:37.000000000,2018-03-20 19:26:53.000000000,2018-03-20 19:26:52.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 22689}, {'_account_id': 23078}]","[{'number': 1, 'created': '2018-03-20 15:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/1da45a006e0bfd652ac5776e49e261c48067665c', 'message': 'Fix Spark EDP job failed in vanilla 2.8.2\n\nVanilla should specify corresponded hadoop-openstack package\naccording to plugin version in spark configuration.\n\nIn Vanilla 2.8.2, there is an error that hadoop-openstack\nversion was specified to 2.7.1. This causes spark job failed\nin vanilla 2.8.2 because of ""No such file"".\n\nChange-Id: I5b54d69def7b457715ed60da3663a0153fe94be8\n'}, {'number': 2, 'created': '2018-03-20 16:24:54.000000000', 'files': ['sahara/plugins/vanilla/v2_8_2/config_helper.py', 'sahara/tests/unit/plugins/vanilla/hadoop2/test_config_helper.py', 'sahara/tests/unit/plugins/vanilla/v2_8_2/test_config_helper.py', 'sahara/tests/unit/plugins/vanilla/v2_7_1/test_config_helper.py', 'sahara/plugins/vanilla/v2_7_1/config_helper.py', 'sahara/plugins/vanilla/hadoop2/config_helper.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/d3322efcb8dca2e2a74940dade83c09639189515', 'message': 'Fix Spark EDP job failed in vanilla 2.8.2\n\nVanilla should specify corresponded hadoop-openstack package\naccording to plugin version in spark configuration.\n\nIn Vanilla 2.8.2, there is an error that hadoop-openstack\nversion was specified to 2.7.1. This causes spark job failed\nin vanilla 2.8.2 because of ""No such file"".\n\nChange-Id: I5b54d69def7b457715ed60da3663a0153fe94be8\n(cherry picked from commit 779cade38548687b63ca3fa84c1ff58598e64768)\n'}]",0,554580,d3322efcb8dca2e2a74940dade83c09639189515,10,4,2,23078,,,0,"Fix Spark EDP job failed in vanilla 2.8.2

Vanilla should specify corresponded hadoop-openstack package
according to plugin version in spark configuration.

In Vanilla 2.8.2, there is an error that hadoop-openstack
version was specified to 2.7.1. This causes spark job failed
in vanilla 2.8.2 because of ""No such file"".

Change-Id: I5b54d69def7b457715ed60da3663a0153fe94be8
(cherry picked from commit 779cade38548687b63ca3fa84c1ff58598e64768)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/80/554580/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/plugins/vanilla/v2_8_2/config_helper.py', 'sahara/tests/unit/plugins/vanilla/hadoop2/test_config_helper.py', 'sahara/tests/unit/plugins/vanilla/v2_7_1/test_config_helper.py', 'sahara/tests/unit/plugins/vanilla/v2_8_2/test_config_helper.py', 'sahara/plugins/vanilla/v2_7_1/config_helper.py', 'sahara/plugins/vanilla/hadoop2/config_helper.py']",6,1da45a006e0bfd652ac5776e49e261c48067665c,fix-spark-edp-stable/queens,,"_default_executor_classpath = "":"".join( ['/opt/hadoop/share/hadoop/tools/lib/hadoop-openstack-2.7.1.jar']) 'name': 'Executor extra classpath', 'description': 'Value for spark.executor.extraClassPath' ' in spark-defaults.conf' ' (default: %s)' % _default_executor_classpath, 'default': '%s' % _default_executor_classpath, 'priority': 2, }, {def _get_spark_opt_default(opt_name): for opt in SPARK_CONFS[""Spark""][""OPTIONS""]: if opt_name == opt[""name""]: return opt[""default""] return None ",66,55
openstack%2Fpython-novaclient~master~I1ff1cb103dcaad1396bc2bda487165feae6b0931,openstack/python-novaclient,master,I1ff1cb103dcaad1396bc2bda487165feae6b0931,Fix local test fails with pypy,MERGED,2018-03-15 14:56:43.000000000,2018-03-20 19:23:45.000000000,2018-03-20 18:11:29.000000000,"[{'_account_id': 679}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26477}]","[{'number': 1, 'created': '2018-03-15 14:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/b5a52c463b1e868c508162deff79d6266cb8397d', 'message': 'Fix local test fails with pypy\n\ntox: ERROR: pypy: InterpreterNotFound: pypy\n\nMaybe we need to remove pypy-constraints from envlist in tox.ini\nbecause there is no effect to review.\n\nChange-Id: I1ff1cb103dcaad1396bc2bda487165feae6b0931\n'}, {'number': 2, 'created': '2018-03-15 14:57:23.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/c0f2f96d2f787a988b95dec895b48c0d50e36f4a', 'message': 'Fix local test fails with pypy\n\ntox: ERROR: pypy: InterpreterNotFound: pypy\n\nMaybe we need to remove pypy-constraints from envlist in tox.ini\nbecause there is no effect to review.\n\nChange-Id: I1ff1cb103dcaad1396bc2bda487165feae6b0931\nCloses-Bug: #1756108\n'}]",0,553426,c0f2f96d2f787a988b95dec895b48c0d50e36f4a,9,4,2,27153,,,0,"Fix local test fails with pypy

tox: ERROR: pypy: InterpreterNotFound: pypy

Maybe we need to remove pypy-constraints from envlist in tox.ini
because there is no effect to review.

Change-Id: I1ff1cb103dcaad1396bc2bda487165feae6b0931
Closes-Bug: #1756108
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/26/553426/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b5a52c463b1e868c508162deff79d6266cb8397d,bug/1756108,"envlist = py35,py27,pep8,docs","envlist = py35,py27,pypy,pep8,docs",1,1
openstack%2Fcinder~master~I6f168e4214195aa949950fab9613fd17d794226f,openstack/cinder,master,I6f168e4214195aa949950fab9613fd17d794226f,Fix create volume error from source volume,ABANDONED,2018-01-19 10:24:14.000000000,2018-03-20 19:06:16.000000000,,"[{'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13157}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 27558}]","[{'number': 1, 'created': '2018-01-19 10:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ddbba7be375d697b4f40ee87048b974fbf580f2e', 'message': 'Fix create volume error from source volume\n\nChange-Id: I6f168e4214195aa949950fab9613fd17d794226f\n'}, {'number': 2, 'created': '2018-01-19 10:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc3a27be99b13a111c6ef701fb0d75d73ccaf3ea', 'message': ""Fix create volume error from source volume\n\nWhen creating a volume from a source volume, if the source volume's\nvolume_type_id is none, set the source volume id to the currently selected\nvolume type's id. This only applies to back-end hosts that are consistent.\n\nPartial-Bug: #1589349\nChange-Id: I6f168e4214195aa949950fab9613fd17d794226f\n""}, {'number': 3, 'created': '2018-01-23 08:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f83c13ea3e9cdb5ac2d84b5937f6b8320377440d', 'message': ""Fix create volume error from source volume\n\nWhen creating a volume from a source volume, if the source volume's\nvolume_type_id is none, set the source volume id to the currently selected\nvolume type's id. This only applies to back-end hosts that are consistent.\n\nPartial-Bug: #1589349\nChange-Id: I6f168e4214195aa949950fab9613fd17d794226f\n""}, {'number': 4, 'created': '2018-01-23 12:16:30.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2625eb32fd2539cf73532b7e59afae6ec05b9df0', 'message': ""Fix create volume error from source volume\n\nWhen creating a volume from a source volume, if the source volume's\nvolume_type_id is none, set the source volume id to the currently selected\nvolume type's id. This only applies to back-end hosts that are consistent.\n\nPartial-Bug: #1589349\nChange-Id: I6f168e4214195aa949950fab9613fd17d794226f\n""}]",9,535712,2625eb32fd2539cf73532b7e59afae6ec05b9df0,99,45,4,26458,,,0,"Fix create volume error from source volume

When creating a volume from a source volume, if the source volume's
volume_type_id is none, set the source volume id to the currently selected
volume type's id. This only applies to back-end hosts that are consistent.

Partial-Bug: #1589349
Change-Id: I6f168e4214195aa949950fab9613fd17d794226f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/535712/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,ddbba7be375d697b4f40ee87048b974fbf580f2e,535712, if source_volume.volume_type_id is None and volume_type.id: source_volume.volume_type_id = volume_type.id elif volume_type.id != source_volume.volume_type_id:, if volume_type.id != source_volume.volume_type_id:,3,1
openstack%2Fcinder~master~I180500fbd1eb790e0caf19bcf8061b7536a63120,openstack/cinder,master,I180500fbd1eb790e0caf19bcf8061b7536a63120,Introduced VzStorage Backup Driver,ABANDONED,2017-04-05 12:30:06.000000000,2018-03-20 19:05:04.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12408}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13431}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15847}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-04-05 12:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c3ed69172b7bdb16b6c6e786c8a4df3aaa221fd', 'message': 'WIP: Introduced VzStorage Backup Driver\n\nChange-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120\nImplements: blueprint vzstorage-backup-driver\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 2, 'created': '2017-04-06 11:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/60aba79a764701709b5cecd184ac45e1707e8c16', 'message': 'WIP: Introduced VzStorage Backup Driver\n\nChange-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120\nImplements: blueprint vzstorage-backup-driver\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 3, 'created': '2017-04-07 14:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/838552075984409dc8b9d46b478584d58d6de7a8', 'message': 'WIP: Introduced VzStorage Backup Driver\n\nChange-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120\nImplements: blueprint vzstorage-backup-driver\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 4, 'created': '2017-04-07 14:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4dd18b3d41ae1ff90c7336e29bc81532d6617e2', 'message': 'WIP: Introduced VzStorage Backup Driver\n\nChange-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120\nImplements: blueprint vzstorage-backup-driver\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 5, 'created': '2017-04-07 14:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/96e2d3ba4e217c4d8345926ee930843a2174922d', 'message': 'WIP: Introduced VzStorage Backup Driver\n\nChange-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120\nImplements: blueprint vzstorage-backup-driver\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 6, 'created': '2017-04-07 15:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13cad56baa42cd44900cd6fe3563aa36ba220c2f', 'message': 'WIP: Introduced VzStorage Backup Driver\n\nChange-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120\nImplements: blueprint vzstorage-backup-driver\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 7, 'created': '2017-04-10 17:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/31e6f01dae98650eedc1da0c841e9ca0c82a817d', 'message': 'Introduced VzStorage Backup Driver\n\nChange-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120\nImplements: blueprint vzstorage-backup-driver\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 8, 'created': '2017-04-11 08:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a375f3fa07afb85ed235d7bea28faa81c777edc', 'message': 'Introduced VzStorage Backup Driver\n\nChange-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120\nImplements: blueprint vzstorage-backup-driver\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 9, 'created': '2017-04-11 11:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac89db5885497a162b705fa4447775f2fbaf3064', 'message': 'Introduced VzStorage Backup Driver\n\nChange-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120\nImplements: blueprint vzstorage-backup-driver\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 10, 'created': '2017-05-11 15:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a4d596b162a628959df0127a21bdab3eb6b8438', 'message': 'Introduced VzStorage Backup Driver\n\nChange-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120\nImplements: blueprint vzstorage-backup-driver\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 11, 'created': '2017-05-11 15:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d06997e3199bd14a7f25e173d94b0756d6dfe8f', 'message': 'Introduced VzStorage Backup Driver\n\nChange-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120\nImplements: blueprint vzstorage-backup-driver\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 12, 'created': '2017-05-11 15:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a1258ab59cfa7a6c06a76d17d0bbda95b2e368fa', 'message': 'Introduced VzStorage Backup Driver\n\nChange-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120\nImplements: blueprint vzstorage-backup-driver\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 13, 'created': '2017-05-18 17:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/68c7b854dfc90db7418c45f404867ce54788af57', 'message': 'Introduced VzStorage Backup Driver\n\nChange-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120\nImplements: blueprint vzstorage-backup-driver\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 14, 'created': '2017-05-19 11:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e5df812eea50a08bc76c308cfcb7fac242c29da9', 'message': 'Introduced VzStorage Backup Driver\n\nChange-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120\nImplements: blueprint vzstorage-backup-driver\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 15, 'created': '2017-05-29 09:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b05fa4acf872dc740ca4d48e14b43b62ff6e2292', 'message': 'Introduced VzStorage Backup Driver\n\nChange-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120\nImplements: blueprint vzstorage-backup-driver\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 16, 'created': '2017-08-15 18:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/277bebd4f932f5172fe2c4be15839d8b79e754c4', 'message': 'Introduced VzStorage Backup Driver\n\nChange-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120\nImplements: blueprint vzstorage-backup-driver\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 17, 'created': '2017-08-16 14:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/25b446a9ad62006a096e1a02069baed9f27256f4', 'message': 'Introduced VzStorage Backup Driver\n\nChange-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120\nImplements: blueprint vzstorage-backup-driver\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 18, 'created': '2017-08-17 15:36:42.000000000', 'files': ['cinder/opts.py', 'cinder/tests/unit/backup/drivers/test_backup_vzstorage.py', 'cinder/backup/drivers/vzstorage.py', 'cinder/volume/drivers/vzstorage.py', 'releasenotes/notes/vzstorage-backup-driver-0b728e2183013fac.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/67ced0b3e89ce97e0336984e37e5c7dac881fe61', 'message': 'Introduced VzStorage Backup Driver\n\nChange-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120\nImplements: blueprint vzstorage-backup-driver\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}]",19,453616,67ced0b3e89ce97e0336984e37e5c7dac881fe61,278,57,18,21284,,,0,"Introduced VzStorage Backup Driver

Change-Id: I180500fbd1eb790e0caf19bcf8061b7536a63120
Implements: blueprint vzstorage-backup-driver
Signed-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/453616/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/vzstorage.py'],1,1c3ed69172b7bdb16b6c6e786c8a4df3aaa221fd,bp/vzstorage-backup-driver,"# Copyright (C) 2017 Virtuozzo # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Implementation of a backup service that uses VzStorage as the backend."""""" from os_brick.remotefs import remotefs from oslo_concurrency import processutils as putils from oslo_config import cfg from oslo_log import log as logging from cinder.backup.drivers import posix from cinder import exception from cinder.i18n import _ from cinder import interface from cinder import utils LOG = logging.getLogger(__name__) vzstorage_backup_service_opts = [ cfg.StrOpt('vzstorage_backup_share', help=('VzStorage share in format ' '[MDS1[,MDS2],...:/]<CLUSTER NAME>[:PASSWORD]')), cfg.StrOpt('vzstorage_backup_mount_point', default='$state_path/backup_mount', help='Mount point for VzStorage share.'), cfg.StrOpt('vzstorage_backup_mount_user', default='nova', help='Mount user for pstorage-mount.'), cfg.StrOpt('vzstorage_backup_mount_group', default='root', help='Mount group for pstorage-mount.'), cfg.StrOpt('vzstorage_backup_mount_perms', default='0770', help='Mount permissions for pstorage-mount.'), ] CONF = cfg.CONF CONF.register_opts(vzstorage_backup_service_opts) @interface.backupdriver class VzStorageBackupDriver(posix.PosixBackupDriver): def __init__(self, context, db_driver=None): self.backup_share = CONF.vzstorage_backup_share self.backup_mount_point = CONF.vzstorage_backup_mount_point self.backup_mount_user = CONF.vzstorage_backup_mount_user self.backup_mount_group = CONF.vzstorage_backup_mount_group self.backup_mount_perms = CONF.vzstorage_backup_mount_perms if not self.backup_share: raise exception.ConfigNotFound(_( 'Required option vzstorage_backup_share is not set')) backup_path = self._init_backup_path() LOG.debug(""Using VzStorage backup path: %s"", backup_path) super(VzStorageBackupDriver, self).__init__(context, db_driver=db_driver, backup_path=backup_path) def _init_backup_path(self): root_helper = utils.get_root_helper() # NOTE(scsnow): vzstorage_mount_options is not honored by # RemoteFsClient. However mount options can still be passed # to mount method further. remotefs_client = remotefs.RemoteFsClient( 'vzstorage', root_helper, execute=putils.execute, vzstorage_mount_point_base=self.backup_mount_point) remotefs_client.mount(self.backup_share, flags=self._get_mount_options()) return remotefs_client.get_mount_point(self.backup_share) def _get_mount_options(self): return ['-u', self.backup_mount_user, '-g', self.backup_mount_group, '-m', self.backup_mount_perms] def get_backup_driver(context): return VzStorageBackupDriver(context) ",,93,0
openstack%2Fopenstack-zuul-jobs~master~I33b229e6bc5d216bab4530477ccf64e14aa38df1,openstack/openstack-zuul-jobs,master,I33b229e6bc5d216bab4530477ccf64e14aa38df1,"Revert ""Temporarily make legacy-tempest-dsvm-neutron-src NV""",MERGED,2018-03-19 18:51:04.000000000,2018-03-20 18:53:32.000000000,2018-03-20 18:53:32.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 18:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/e258c61cf008cc503f659b9c0e14b58c1ccce61f', 'message': 'Revert ""Temporarily make legacy-tempest-dsvm-neutron-src NV""\n\nThis reverts commit 852acf50e6116cd89da2ec21f517c4060f38df51.\n\nDepends-on: https://review.openstack.org/554270/\nChange-Id: I33b229e6bc5d216bab4530477ccf64e14aa38df1\n'}, {'number': 2, 'created': '2018-03-19 19:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/ce94efc7e6151816a39c85af829c9c314a3440d6', 'message': 'Revert ""Temporarily make legacy-tempest-dsvm-neutron-src NV""\n\nThis reverts commit 852acf50e6116cd89da2ec21f517c4060f38df51.\n\nDepends-on: https://review.openstack.org/554270/\nChange-Id: I33b229e6bc5d216bab4530477ccf64e14aa38df1\n'}, {'number': 3, 'created': '2018-03-20 13:01:16.000000000', 'files': ['zuul.d/zuul-legacy-project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b870950becf55518885f57d9cf26eafa180386f3', 'message': 'Revert ""Temporarily make legacy-tempest-dsvm-neutron-src NV""\n\nThis reverts commit 852acf50e6116cd89da2ec21f517c4060f38df51.\n\nChange-Id: I33b229e6bc5d216bab4530477ccf64e14aa38df1\n'}]",0,554323,b870950becf55518885f57d9cf26eafa180386f3,19,4,3,11904,,,0,"Revert ""Temporarily make legacy-tempest-dsvm-neutron-src NV""

This reverts commit 852acf50e6116cd89da2ec21f517c4060f38df51.

Change-Id: I33b229e6bc5d216bab4530477ccf64e14aa38df1
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/23/554323/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/zuul-legacy-project-templates.yaml'],1,e258c61cf008cc503f659b9c0e14b58c1ccce61f,pip/5081, - legacy-tempest-dsvm-neutron-src - legacy-tempest-dsvm-neutron-src, - legacy-tempest-dsvm-neutron-src: voting: false - legacy-tempest-dsvm-neutron-src: voting: false,2,4
openstack%2Fopenstack-manuals~master~I67a759440c2e99b33aa925c5e17c11a1b885ac82,openstack/openstack-manuals,master,I67a759440c2e99b33aa925c5e17c11a1b885ac82,Added deprecation badge,MERGED,2017-12-26 20:33:19.000000000,2018-03-20 18:49:48.000000000,2018-03-20 16:36:43.000000000,"[{'_account_id': 964}, {'_account_id': 2472}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 9139}, {'_account_id': 10278}, {'_account_id': 10607}, {'_account_id': 15334}, {'_account_id': 19779}, {'_account_id': 20156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-26 20:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8170906eb36926cc8a1379eed54310f7cda03dff', 'message': 'Added deprecation badge\n\nadded a new fixed badge indicating the deprecation status of each\nrelease\n\n* obsolete - ""No longer supported by the community. For the current release, CLICK HERE."", #ff0000\n* EOL - ""No longer supported by the community. For the current release, CLICK HERE."", #ff0000\n* maintained - This has two states. The current release and recent releases.\n** Current Release - ""This is the current release."", #30739C\n** Recent Release - ""This is maintained, but NOT the current release. For the current release, CLICK HERE."", #eaeaea\n* Current Release - ""This is the current release."", #30739C\n* Recent Release - ""This is maintained, but NOT the current release. For the current release, CLICK HERE."", #eaeaea\n* development - ""This release is currently under development For the current release, CLICK HERE."", #eaeaea\n\nChange-Id: I67a759440c2e99b33aa925c5e17c11a1b885ac82\n'}, {'number': 2, 'created': '2017-12-26 20:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/5365c681a49fee91787c3c7f02d13babb6dd4a1f', 'message': 'Added deprecation badge\n\nadded a new fixed badge indicating the deprecation status of each\nrelease\n\n* obsolete - ""No longer supported by the community. For the current release,\n  CLICK HERE."", #ff0000\n* EOL - ""No longer supported by the community. For the current release,\n  CLICK HERE."", #ff0000\n* maintained - This has two states. The current release and recent releases.\n** Current Release - ""This is the current release."", #30739C\n** Recent Release - ""This is maintained, but NOT the current release. For\n   the current release, CLICK HERE."", #eaeaea\n* Current Release - ""This is the current release."", #30739C\n* Recent Release - ""This is maintained, but NOT the current release. For\n  the current release, CLICK HERE."", #eaeaea\n* development - ""This release is currently under development For the\n  current release, CLICK HERE."", #eaeaea\n\nChange-Id: I67a759440c2e99b33aa925c5e17c11a1b885ac82\n'}, {'number': 3, 'created': '2017-12-27 03:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f6dd384a0277f9e06ebc3c05d5f2769d799750cd', 'message': 'Added deprecation badge\n\nadded a new fixed badge indicating the deprecation status of each\nrelease\n\n* obsolete - ""No longer supported by the community. For the current release,\n  CLICK HERE."", #ff0000\n* EOL - ""No longer supported by the community. For the current release,\n  CLICK HERE."", #ff0000\n* maintained - This has two states. The current release and recent releases.\n** Current Release - ""This is the current release."", #30739C\n** Recent Release - ""This is maintained, but NOT the current release. For\n   the current release, CLICK HERE."", #eaeaea\n* Current Release - ""This is the current release."", #30739C\n* Recent Release - ""This is maintained, but NOT the current release. For\n  the current release, CLICK HERE."", #eaeaea\n* development - ""This release is currently under development For the\n  current release, CLICK HERE."", #eaeaea\n\nChange-Id: I67a759440c2e99b33aa925c5e17c11a1b885ac82\n'}, {'number': 4, 'created': '2017-12-27 12:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1a255387571425ceea5e05b91f641d1062201c22', 'message': 'Added deprecation badge\n\nadded a new fixed badge indicating the deprecation status of each\nrelease\n\n* obsolete - ""No longer supported by the community. For the current release,\n  CLICK HERE."", #ff0000\n* EOL - ""No longer supported by the community. For the current release,\n  CLICK HERE."", #ff0000\n* maintained - This has two states. The current release and recent releases.\n** Current Release - ""This is the current release."", #30739C\n** Recent Release - ""This is maintained, but NOT the current release. For\n   the current release, CLICK HERE."", #eaeaea\n* Current Release - ""This is the current release."", #30739C\n* Recent Release - ""This is maintained, but NOT the current release. For\n  the current release, CLICK HERE."", #eaeaea\n* development - ""This release is currently under development For the\n  current release, CLICK HERE."", #eaeaea\n\nChange-Id: I67a759440c2e99b33aa925c5e17c11a1b885ac82\n'}, {'number': 5, 'created': '2018-02-02 16:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/970fff2abfff17351203e3b008c57a10b84cd269', 'message': 'Added deprecation badge\n\nadded a new fixed badge indicating the deprecation status of each\nrelease\n\n* obsolete - ""No longer supported by the community. For the current release,\n  CLICK HERE."", #ff0000\n* EOL - ""No longer supported by the community. For the current release,\n  CLICK HERE."", #ff0000\n* maintained - This has two states. The current release and recent releases.\n** Current Release - ""This is the current release."", #30739C\n** Recent Release - ""This is maintained, but NOT the current release. For\n   the current release, CLICK HERE."", #eaeaea\n* Current Release - ""This is the current release."", #30739C\n* Recent Release - ""This is maintained, but NOT the current release. For\n  the current release, CLICK HERE."", #eaeaea\n* development - ""This release is currently under development For the\n  current release, CLICK HERE."", #eaeaea\n\nChange-Id: I67a759440c2e99b33aa925c5e17c11a1b885ac82\n'}, {'number': 6, 'created': '2018-02-02 18:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4e15bc2432d0f297976e6753120fb2f249affbea', 'message': 'Added deprecation badge\n\nadded a new fixed badge indicating the deprecation status of each\nrelease\n\n* obsolete - ""No longer supported by the community. For the current release,\n  CLICK HERE."", #ff0000\n* EOL - ""No longer supported by the community. For the current release,\n  CLICK HERE."", #ff0000\n* maintained - This has two states. The current release and recent releases.\n** Current Release - ""This is the current release."", #30739C\n** Recent Release - ""This is maintained, but NOT the current release. For\n   the current release, CLICK HERE."", #eaeaea\n* Current Release - ""This is the current release."", #30739C\n* Recent Release - ""This is maintained, but NOT the current release. For\n  the current release, CLICK HERE."", #eaeaea\n* development - ""This release is currently under development For the\n  current release, CLICK HERE."", #eaeaea\n\nChange-Id: I67a759440c2e99b33aa925c5e17c11a1b885ac82\n'}, {'number': 7, 'created': '2018-03-07 13:12:55.000000000', 'files': ['www/cactus/badge.html', 'www/kilo/badge.html', 'www/templates/base.tmpl', 'www/havana/badge.html', 'www/bexar/badge.html', 'www/templates/deprecated_badge.tmpl', 'www/folsom/badge.html', 'www/diablo/badge.html', 'www/ocata/badge.html', 'www/templates/indexbase.tmpl', 'www/essex/badge.html', 'www/newton/badge.html', 'www/grizzly/badge.html', 'www/liberty/badge.html', 'www/queens/badge.html', 'www/static/common/js/deprecated-badge.js', 'www/static/common/css/deprecated-badge.css', 'www/pike/badge.html', 'www/mitaka/badge.html', 'www/austin/badge.html', 'www/juno/badge.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b603d1be803dc055f72cc5516b2e0afa6f6e41fa', 'message': 'Added deprecation badge\n\nadded a new fixed badge indicating the deprecation status of each\nrelease\n\n* obsolete - ""No longer supported by the community. For the current release,\n  CLICK HERE."", #ff0000\n* EOL - ""No longer supported by the community. For the current release,\n  CLICK HERE."", #ff0000\n* maintained - This has two states. The current release and recent releases.\n** Current Release - ""This is the current release."", #30739C\n** Recent Release - ""This is maintained, but NOT the current release. For\n   the current release, CLICK HERE."", #eaeaea\n* Current Release - ""This is the current release."", #30739C\n* Recent Release - ""This is maintained, but NOT the current release. For\n  the current release, CLICK HERE."", #eaeaea\n* development - ""This release is currently under development For the\n  current release, CLICK HERE."", #eaeaea\n\nChange-Id: I67a759440c2e99b33aa925c5e17c11a1b885ac82\n'}]",20,530142,b603d1be803dc055f72cc5516b2e0afa6f6e41fa,35,11,7,9139,,,0,"Added deprecation badge

added a new fixed badge indicating the deprecation status of each
release

* obsolete - ""No longer supported by the community. For the current release,
  CLICK HERE."", #ff0000
* EOL - ""No longer supported by the community. For the current release,
  CLICK HERE."", #ff0000
* maintained - This has two states. The current release and recent releases.
** Current Release - ""This is the current release."", #30739C
** Recent Release - ""This is maintained, but NOT the current release. For
   the current release, CLICK HERE."", #eaeaea
* Current Release - ""This is the current release."", #30739C
* Recent Release - ""This is maintained, but NOT the current release. For
  the current release, CLICK HERE."", #eaeaea
* development - ""This release is currently under development For the
  current release, CLICK HERE."", #eaeaea

Change-Id: I67a759440c2e99b33aa925c5e17c11a1b885ac82
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/42/530142/7 && git format-patch -1 --stdout FETCH_HEAD,"['www/templates/indexbase.tmpl', 'www/templates/base.tmpl', 'www/templates/deprecated_badge.tmpl', 'tools/www-generator.py', 'www/static/common/css/combined.css']",5,8170906eb36926cc8a1379eed54310f7cda03dff,," /* deprecated badge css */ .deprecated-badge { background: #2A4E68; padding: 15px; text-transform: uppercase; font-size: 1em; box-shadow: 0px 2px 2px 0px rgba(0, 0, 0, 0.46); -webkit-font-smoothing: subpixel-antialiased; color: #edf2f7 !important; } .deprecated-badge a, .deprecated-badge p { text-decoration: none; position: relative; color: #edf2f7; } .deprecated-badge a:hover { color: white; text-decoration: none; } .deprecated-badge.fixed { position: fixed; top: 0; left: 0; right: 0; z-index: 1000; } p.deprecated-badge-left { float: left; } a.deprecated-badge-right { float: right; display: none; font-size: 0.9em; } .deprecated-badge.fixed a.deprecated-badge-right { display: inline-block; } .navbar-default{ margin-top: 50px !important; } .deprecated-badge-obsolete { background: #ff0000 !important; } .deprecated-badge-eol { background: #ff0000 !important; } .deprecated-badge-current { background: #30739C !important; } .deprecated-badge-maintained { background: #eaeaea !important; } .deprecated-badge-development { background: #eaeaea !important; } .deprecated-badge-development a, .deprecated-badge-development p { color: #000000 !important; } .deprecated-badge-maintained a, .deprecated-badge-maintained p { color: #000000 !important; }",,122,0
openstack%2Ftripleo-common~stable%2Fpike~Ib2531e0a696915ab980aea5a65a425789938786c,openstack/tripleo-common,stable/pike,Ib2531e0a696915ab980aea5a65a425789938786c,Purge resolv.conf from the overcloud images,MERGED,2018-02-20 21:26:53.000000000,2018-03-20 18:46:48.000000000,2018-03-20 18:46:48.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-20 21:26:53.000000000', 'files': ['image-yaml/overcloud-hardened-images.yaml', 'image-yaml/overcloud-images.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ab8e88c494c96637bd272727da5dba1e7a4a0cc3', 'message': 'Purge resolv.conf from the overcloud images\n\nWhen building the images we should not be including any values in the\nresolv.conf. This change adds the element to clear it for the\novercloud-full, hardened and realtime compute images.\n\nDepends-On: If8c44137d120059b356675a074e3af23ea63a6f8\nChange-Id: Ib2531e0a696915ab980aea5a65a425789938786c\nCloses-Bug: #1749756\n(cherry picked from commit e54f1a72843aa2b35a4ec273ff260c94ba05a456)\n'}]",0,546311,ab8e88c494c96637bd272727da5dba1e7a4a0cc3,19,4,1,14985,,,0,"Purge resolv.conf from the overcloud images

When building the images we should not be including any values in the
resolv.conf. This change adds the element to clear it for the
overcloud-full, hardened and realtime compute images.

Depends-On: If8c44137d120059b356675a074e3af23ea63a6f8
Change-Id: Ib2531e0a696915ab980aea5a65a425789938786c
Closes-Bug: #1749756
(cherry picked from commit e54f1a72843aa2b35a4ec273ff260c94ba05a456)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/11/546311/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-hardened-images.yaml', 'image-yaml/overcloud-images.yaml']",2,ab8e88c494c96637bd272727da5dba1e7a4a0cc3,bug/1749756-stable/pike, - remove-resolvconf,,2,0
openstack%2Ftripleo-quickstart~master~I53cd1a937a05f15376a2613fb57a97b324289294,openstack/tripleo-quickstart,master,I53cd1a937a05f15376a2613fb57a97b324289294,turn off ping/tempest in fs023,MERGED,2018-03-20 12:09:01.000000000,2018-03-20 18:37:45.000000000,2018-03-20 18:37:45.000000000,"[{'_account_id': 10022}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-03-20 12:09:01.000000000', 'files': ['config/general_config/featureset023.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e150e2b06d57c625e275de0c779272c979bd2c70', 'message': 'turn off ping/tempest in fs023\n\nCloses-Bug: #1757005\nChange-Id: I53cd1a937a05f15376a2613fb57a97b324289294\n'}]",0,554519,e150e2b06d57c625e275de0c779272c979bd2c70,10,6,1,9592,,,0,"turn off ping/tempest in fs023

Closes-Bug: #1757005
Change-Id: I53cd1a937a05f15376a2613fb57a97b324289294
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/19/554519/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset023.yml'],1,e150e2b06d57c625e275de0c779272c979bd2c70,bug/1757005,test_ping: false run_tempest: false,,2,0
openstack%2Fpuppet-tripleo~stable%2Fqueens~I197e8036a4f5c790a833d037d03ba6822f5488eb,openstack/puppet-tripleo,stable/queens,I197e8036a4f5c790a833d037d03ba6822f5488eb,Pin puppet-collectd,MERGED,2018-03-20 02:06:52.000000000,2018-03-20 18:37:44.000000000,2018-03-20 18:37:44.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 02:06:52.000000000', 'files': ['Puppetfile_extras'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/be6b5ca52ea9a3db472a9cee60192b26a7451f2d', 'message': 'Pin puppet-collectd\n\npuppet-collectd introduced a change which requires stdlib 4.25:\nde0a96e86651 - (2018-03-17 00:12:21 +0100) feat: bump minimum puppetlabs/stdlib version to 4.25.0\nc0c5ba9357ea - (2018-03-16 23:54:58 +0100) feat: use Stdlib::Fqdn type for package_keyserver\n\nLet\'s pin the repo to the change which is already being used in RDO at\nhttps://github.com/redhat-openstack/rdoinfo/blob/master/rdo.yml#L1467\n\n(aka 93c8d0bd32bb5610652f30e785ba6644fc82a8b6 ""Merge pull request #751 from bastelfreak/test"")\n\nCloses-Bug: #1756890\nChange-Id: I197e8036a4f5c790a833d037d03ba6822f5488eb\n(cherry picked from commit 489d5502dad7f936fadb90a6ff97b98465414de5)\n'}]",0,554396,be6b5ca52ea9a3db472a9cee60192b26a7451f2d,7,3,1,3153,,,0,"Pin puppet-collectd

puppet-collectd introduced a change which requires stdlib 4.25:
de0a96e86651 - (2018-03-17 00:12:21 +0100) feat: bump minimum puppetlabs/stdlib version to 4.25.0
c0c5ba9357ea - (2018-03-16 23:54:58 +0100) feat: use Stdlib::Fqdn type for package_keyserver

Let's pin the repo to the change which is already being used in RDO at
https://github.com/redhat-openstack/rdoinfo/blob/master/rdo.yml#L1467

(aka 93c8d0bd32bb5610652f30e785ba6644fc82a8b6 ""Merge pull request #751 from bastelfreak/test"")

Closes-Bug: #1756890
Change-Id: I197e8036a4f5c790a833d037d03ba6822f5488eb
(cherry picked from commit 489d5502dad7f936fadb90a6ff97b98465414de5)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/96/554396/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile_extras'],1,be6b5ca52ea9a3db472a9cee60192b26a7451f2d,bug/1756890-stable/queens,# Note(bandini): Pinned due to LP#1756890 :ref => '93c8d0bd32bb5610652f30e785ba6644fc82a8b6', :ref => 'master',2,1
openstack%2Ftripleo-upgrade~stable%2Fqueens~I8c2fe2ad88c8388a673a4b6c415f6a76bebfd72d,openstack/tripleo-upgrade,stable/queens,I8c2fe2ad88c8388a673a4b6c415f6a76bebfd72d,Add floating ip connectivity check to common dir and use it for FFU,MERGED,2018-03-19 15:17:46.000000000,2018-03-20 18:37:43.000000000,2018-03-20 18:37:43.000000000,"[{'_account_id': 8297}, {'_account_id': 18851}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 15:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c17bef9787d17cb4a1d552e2f6dd64199243599d', 'message': 'Add floating ip connectivity check to common dir and use it for FFU\n\nThis change adds the floating IP connectivity check scripts to the\ncommon directory and adjusts existing update and upgrade to use the\nnew location. In addition it runs the connectivity check scripts\nbefore and after the FFU overcloud upgrade stages.\n\nChange-Id: I8c2fe2ad88c8388a673a4b6c415f6a76bebfd72d\n'}, {'number': 2, 'created': '2018-03-20 14:06:25.000000000', 'files': ['tasks/upgrade/docker_converge_upgrade.yml', 'tasks/common/l3_agent_connectivity_check_stop_script.yml', 'tasks/common/l3_agent_connectivity_check_start_script.yml', 'tasks/update/main.yml', 'tasks/upgrade/docker_composable_upgrade.yml', 'tasks/fast-forward-upgrade/main.yml', 'templates/l3_agent_start_ping.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f21207d5f8c08282be6b55e8e9a5083e545f65cb', 'message': 'Add floating ip connectivity check to common dir and use it for FFU\n\nThis change adds the floating IP connectivity check scripts to the\ncommon directory and adjusts existing update and upgrade to use the\nnew location. In addition it runs the connectivity check scripts\nbefore and after the FFU overcloud upgrade stages.\n\nChange-Id: I8c2fe2ad88c8388a673a4b6c415f6a76bebfd72d\n(cherry picked from commit db75499539c4ccf72c4a9524fe2c3651d879a7b1)\n'}]",0,554256,f21207d5f8c08282be6b55e8e9a5083e545f65cb,9,3,2,8297,,,0,"Add floating ip connectivity check to common dir and use it for FFU

This change adds the floating IP connectivity check scripts to the
common directory and adjusts existing update and upgrade to use the
new location. In addition it runs the connectivity check scripts
before and after the FFU overcloud upgrade stages.

Change-Id: I8c2fe2ad88c8388a673a4b6c415f6a76bebfd72d
(cherry picked from commit db75499539c4ccf72c4a9524fe2c3651d879a7b1)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/56/554256/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/upgrade/docker_converge_upgrade.yml', 'tasks/common/l3_agent_connectivity_check_stop_script.yml', 'tasks/common/l3_agent_connectivity_check_start_script.yml', 'tasks/update/main.yml', 'tasks/upgrade/docker_composable_upgrade.yml', 'tasks/fast-forward-upgrade/main.yml', 'templates/l3_agent_start_ping.sh.j2']",7,c17bef9787d17cb4a1d552e2f6dd64199243599d,ffu_ping_test-stable/queens,ping -D ${FIP} >> ~/ping_results_$(date +%Y%m%d%H%M).log &,ping -D ${FIP} >> ~/ping_results_$(date +%Y%m%d%H%M) &,41,37
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I245edb766cba21f46a4d31bde71752551422b168,openstack/tripleo-heat-templates,stable/queens,I245edb766cba21f46a4d31bde71752551422b168,FFU: Introduce Aodh fast-forward-upgrade tasks,MERGED,2018-03-20 11:17:26.000000000,2018-03-20 18:37:42.000000000,2018-03-20 18:37:42.000000000,"[{'_account_id': 6924}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 11:17:26.000000000', 'files': ['docker/services/aodh-listener.yaml', 'docker/services/aodh-api.yaml', 'docker/services/aodh-notifier.yaml', 'docker/services/aodh-evaluator.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7740849c401fbe08b1ba5a7199c2224a0880d322', 'message': 'FFU: Introduce Aodh fast-forward-upgrade tasks\n\nthis upgrades the aodh services from N -> Q\n\nbp fast-forward-upgrades\n\nChange-Id: I245edb766cba21f46a4d31bde71752551422b168\n(cherry picked from commit e9557a61a5f62bc9a01f8cdb655f773789f82375)\n'}]",0,554505,7740849c401fbe08b1ba5a7199c2224a0880d322,6,2,1,11166,,,0,"FFU: Introduce Aodh fast-forward-upgrade tasks

this upgrades the aodh services from N -> Q

bp fast-forward-upgrades

Change-Id: I245edb766cba21f46a4d31bde71752551422b168
(cherry picked from commit e9557a61a5f62bc9a01f8cdb655f773789f82375)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/554505/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/aodh-listener.yaml', 'docker/services/aodh-api.yaml', 'docker/services/aodh-notifier.yaml', 'docker/services/aodh-evaluator.yaml']",4,7740849c401fbe08b1ba5a7199c2224a0880d322,bp/fast-forward-upgrades-stable/queens," fast_forward_upgrade_tasks: - name: FFU check if openstack-aodh-evaluator is deployed command: systemctl is-enabled --quiet openstack-aodh-evaluator ignore_errors: True register: aodh_evaluator_enabled_result when: - step|int == 0 - release == 'ocata' - name: Set fact aodh_evaluator_enabled set_fact: aodh_evaluator_enabled: ""{{ aodh_evaluator_enabled_result.rc == 0 }}"" when: - step|int == 0 - release == 'ocata' - name: FFU stop and disable openstack-aodh-evaluator service service: name=openstack-aodh-evaluator state=stopped enabled=no when: - step|int == 1 - release == 'ocata' - aodh_evaluator_enabled|bool",,109,0
openstack%2Fneutron~master~I2d5b95ec109fb19fc2a46c1017959f74011b9a22,openstack/neutron,master,I2d5b95ec109fb19fc2a46c1017959f74011b9a22,Switch IPDevice.exists() method to use pyroute2,MERGED,2018-03-16 15:00:20.000000000,2018-03-20 18:32:33.000000000,2018-03-20 04:28:55.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 15:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/25cc3ef1e612809b546cbac6f593db3e8ca5199b', 'message': 'Switch IPDevice.exists() method to use pyroute2\n\nCheck if network device exists is now done by checking\ninterface index with pyroute2 interface instead of checking\nif MAC address for device is set.\n\nChange-Id: I2d5b95ec109fb19fc2a46c1017959f74011b9a22\nRelated-Bug: #1492714\n'}, {'number': 2, 'created': '2018-03-16 21:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a44b929b4809c68735e489064b00e014b252059', 'message': 'Switch IPDevice.exists() method to use pyroute2\n\nCheck if network device exists is now done by checking\ninterface index with pyroute2 interface instead of checking\nif MAC address for device is set.\n\nChange-Id: I2d5b95ec109fb19fc2a46c1017959f74011b9a22\nRelated-Bug: #1492714\n'}, {'number': 3, 'created': '2018-03-19 10:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e687a76027c743890f17c8e6239f4ea84e03478', 'message': 'Switch IPDevice.exists() method to use pyroute2\n\nCheck if network device exists is now done by checking\ninterface index with pyroute2 interface instead of checking\nif MAC address for device is set.\n\nChange-Id: I2d5b95ec109fb19fc2a46c1017959f74011b9a22\nRelated-Bug: #1492714\n'}, {'number': 4, 'created': '2018-03-19 11:02:16.000000000', 'files': ['neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/cmd/linuxbridge_cleanup.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/tests/base.py', 'neutron/tests/functional/cmd/test_linuxbridge_cleanup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aaf11f45ecf8f832301491017a8009f1897e8d43', 'message': 'Switch IPDevice.exists() method to use pyroute2\n\nCheck if network device exists is now done by checking\ninterface index with pyroute2 interface instead of checking\nif MAC address for device is set.\n\nChange-Id: I2d5b95ec109fb19fc2a46c1017959f74011b9a22\nRelated-Bug: #1492714\n'}]",2,553809,aaf11f45ecf8f832301491017a8009f1897e8d43,25,12,4,11975,,,0,"Switch IPDevice.exists() method to use pyroute2

Check if network device exists is now done by checking
interface index with pyroute2 interface instead of checking
if MAC address for device is set.

Change-Id: I2d5b95ec109fb19fc2a46c1017959f74011b9a22
Related-Bug: #1492714
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/553809/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py']",3,25cc3ef1e612809b546cbac6f593db3e8ca5199b,bug/1492714,"def interface_exists(ifname, namespace): try: idx = _get_link_id(ifname, namespace) return bool(idx) except NetworkInterfaceNotFound: return False except OSError as e: if e.errno == errno.ENOENT: return False raise @privileged.default.entrypoint",,14,28
openstack%2Floci~master~I7fc1b9fd47da5a2a524237aa9b8e626dbc7d6a09,openstack/loci,master,I7fc1b9fd47da5a2a524237aa9b8e626dbc7d6a09,Add support for installing novnc and spice-html5,MERGED,2017-12-01 23:49:59.000000000,2018-03-20 18:31:10.000000000,2018-03-20 18:31:10.000000000,"[{'_account_id': 7822}, {'_account_id': 14119}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2017-12-01 23:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/c9469dc0ff23fd072e8fd525b645e17add6de939', 'message': 'Add support for installing novnc and spice-html5\n\nPreviously, these items would have needed to be bind-mounted in so the\nconsole services could properly render these pages and provide the\nconsole service.\n\nChange-Id: I7fc1b9fd47da5a2a524237aa9b8e626dbc7d6a09\n'}, {'number': 2, 'created': '2017-12-11 20:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/205f8547241d1db23d1f286d60cc1f6e9637167a', 'message': 'Add support for installing novnc and spice-html5\n\nPreviously, these items would have needed to be bind-mounted in so the\nconsole services could properly render these pages and provide the\nconsole service.\n\nChange-Id: I7fc1b9fd47da5a2a524237aa9b8e626dbc7d6a09\n'}, {'number': 3, 'created': '2018-02-14 20:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/9a95724dec7a4dcf6798f85b05c62805083d9bd8', 'message': 'Add support for installing novnc and spice-html5\n\nPreviously, these items would have needed to be bind-mounted in so the\nconsole services could properly render these pages and provide the\nconsole service.\n\nChange-Id: I7fc1b9fd47da5a2a524237aa9b8e626dbc7d6a09\n'}, {'number': 4, 'created': '2018-03-20 16:35:35.000000000', 'files': ['scripts/install_nova_console.sh', 'Dockerfile', 'scripts/install.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/d647991541b6f7640e840f2b0d15137ab54f41de', 'message': 'Add support for installing novnc and spice-html5\n\nPreviously, these items would have needed to be bind-mounted in so the\nconsole services could properly render these pages and provide the\nconsole service.\n\nChange-Id: I7fc1b9fd47da5a2a524237aa9b8e626dbc7d6a09\n'}]",0,524767,d647991541b6f7640e840f2b0d15137ab54f41de,22,4,4,14119,,,0,"Add support for installing novnc and spice-html5

Previously, these items would have needed to be bind-mounted in so the
console services could properly render these pages and provide the
console service.

Change-Id: I7fc1b9fd47da5a2a524237aa9b8e626dbc7d6a09
",git fetch https://review.opendev.org/openstack/loci refs/changes/67/524767/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/install_nova_console.sh', 'Dockerfile', 'scripts/install.sh']",3,c9469dc0ff23fd072e8fd525b645e17add6de939,novnc,if [[ ${PROJECT} == 'nova' ]]; then $(dirname $0)/install_nova_console.sh fi,,24,0
openstack%2Fnova-specs~master~Ie9ff758bc4663af001a1ee966fecc8baa490b08b,openstack/nova-specs,master,Ie9ff758bc4663af001a1ee966fecc8baa490b08b,Report CPU features to placement service by traits API,MERGED,2017-08-25 05:37:24.000000000,2018-03-20 18:22:38.000000000,2018-03-12 21:39:28.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15888}, {'_account_id': 16688}, {'_account_id': 17920}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 23942}, {'_account_id': 25625}]","[{'number': 1, 'created': '2017-08-25 05:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4bba6653abcd3339e48edf94f553e91fb5090e1f', 'message': 'Report CPU features to placement service by traits API\n\nRelated to blueprint report-cpu-features-as-traits\n\nChange-Id: Ie9ff758bc4663af001a1ee966fecc8baa490b08b\n'}, {'number': 2, 'created': '2018-03-09 08:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f73293a23b335140ea0be56ac1320c5133ab3a53', 'message': 'Report CPU features to placement service by traits API\n\nRelated to blueprint report-cpu-features-as-traits\n\nChange-Id: Ie9ff758bc4663af001a1ee966fecc8baa490b08b\n'}, {'number': 3, 'created': '2018-03-11 14:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/18bdbe536aa66ea5ac03dfa53193c1990bf51e84', 'message': 'Report CPU features to placement service by traits API\n\nRelated to blueprint report-cpu-features-as-traits\n\nChange-Id: Ie9ff758bc4663af001a1ee966fecc8baa490b08b\n'}, {'number': 4, 'created': '2018-03-12 09:38:52.000000000', 'files': ['specs/rocky/approved/report-cpu-features-to-placement.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/74da0860d85d7b4594f30d3fcd4f4b5c7385c16e', 'message': 'Report CPU features to placement service by traits API\n\nRelated to blueprint report-cpu-features-as-traits\n\nChange-Id: Ie9ff758bc4663af001a1ee966fecc8baa490b08b\n'}]",46,497733,74da0860d85d7b4594f30d3fcd4f4b5c7385c16e,40,17,4,5754,,,0,"Report CPU features to placement service by traits API

Related to blueprint report-cpu-features-as-traits

Change-Id: Ie9ff758bc4663af001a1ee966fecc8baa490b08b
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/33/497733/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/approved/report-cpu-features-to-placement.rst'],1,4bba6653abcd3339e48edf94f553e91fb5090e1f,bp/report-cpu-features-as-traits,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================ Report CPU features to the placement service ============================================ https://blueprints.launchpad.net/nova/+spec/report-cpu-features-as-traits The traits is already supported by the placement service. All the compute node's capabilities should be reported to the placement by the traits API. This spec aims to propose reporting the cpu features of compute node to the placement service by traits API. Problem description =================== Currently Nova supports to scheduling the instance based on the compute node's cpu features. But it isn't perfect for now. * There is no consistent naming for the cpu features in all the virt drivers. That leads to the user may need different input when the under cloud use different virt driver. * The CPU features of each compute node are stored in a JSON-BLOB of the compute node DB table. That can't provide efficient way to query the compute nodes by cpu features. * The flavor extra spec `capabilities` mix the cpu features and other things together, and it depends on the virt driver. Use Cases --------- * The end user expects the standard and consistent naming for the CPU features whatever the virt driver is used by the cloud. * The end user expects the consistent way to request capabilities for the CPU features. Proposed change =============== Proposes the compute nodes should report CPU features to the placement service by the traits API. The CPU features should map to the CPU traits which are defined in the os-traits library. Then the administrator can define the required traits for each flavor in the extra spec `traits`:: nova flavor-key 1 set traits=HW:CPU:X86:AVX,HW:CPU:X86:AVX2 The above commands sets a value to the extra spec `traits` for the flavor which id is `1`. It means that any server booting up with that flavor will be scheduled to the compute node which has the cpu features `avx` and `avx2`. Alternatives ------------ If just keep the old way for the scheduling instance based on the cpu features, there is nothing improvement on the cloud interoperability. Data model impact ----------------- None REST API impact --------------- No API change, and the original cpu feature reporting to the DB table `compute_nodes` will be kept for the `/os-hypervisors` API backward compatible. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- The ends user should use the extra spec `traits` in the flavor instead of the extra spec `capabilities:cpu_info:features` to define required CPU features. Performance Impact ------------------ None Other deployer impact --------------------- It needn't to enable `ComputeCapabilitiesFilter` filter for using the extra spec `traits` in the flavor to request CPU features. Developer impact ---------------- None Implementation ============== Each virt driver should returns a list of CPU traits instead of a set of free string for the CPU features. Assignee(s) ----------- Primary assignee: Alex Xu <hejie.xu@intel.com> Other contributors: Lei Zhang <lei.a.zhang@intel.com> Work Items ---------- * Add more CPU traits into the os-traits library * Implement an interface which returns a list of traits for the CPU features in each virt driver * Implement report CPU traits to the placement service in the compute manager. Dependencies ============ * https://blueprints.launchpad.net/nova/+spec/add-trait-support-in-allocation-candidates This BP implement the scheduling based on the traits. * https://blueprints.launchpad.net/nova/+spec/request-traits-in-nova This BP implement the required traits definition in the flavor. Testing ======= The related unit-tests and functional tests are required. Documentation Impact ==================== In the administrator guideline to explain how to use traits to define the required CPU features. References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Queens - Introduced ",,163,0
openstack%2Fironic~master~Idff8a09f917f9fc2891aecd395bb13f2cc097284,openstack/ironic,master,Idff8a09f917f9fc2891aecd395bb13f2cc097284,Infiniband Port Configuration update[1],MERGED,2018-03-15 13:23:18.000000000,2018-03-20 18:17:04.000000000,2018-03-20 18:17:04.000000000,"[{'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 12171}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 14807}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 13:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3682ee9654f0b57f7bc0614b61380d99bc9bef4', 'message': 'Infiniband Port Configuration update[1]\n\n[1] https://review.openstack.org/#/c/548396/\n\nChange-Id: Idff8a09f917f9fc2891aecd395bb13f2cc097284\n'}, {'number': 2, 'created': '2018-03-15 14:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb7279847e41e1fd37f79cd07959c981611abd26', 'message': 'Infiniband Port Configuration update[1]\n\n[1] https://review.openstack.org/#/c/548396/\n\nChange-Id: Idff8a09f917f9fc2891aecd395bb13f2cc097284\n'}, {'number': 3, 'created': '2018-03-15 15:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3c6327e76cfcd0fc0dfca8a2d945865579f3efa4', 'message': 'Infiniband Port Configuration update[1]\n\n[1] https://review.openstack.org/#/c/548396/\n\nChange-Id: Idff8a09f917f9fc2891aecd395bb13f2cc097284\n'}, {'number': 4, 'created': '2018-03-18 07:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2c9b1e5db815bc4748c5f0ada86e91bea93629c0', 'message': 'Infiniband Port Configuration update[1]\n\n[1] https://review.openstack.org/#/c/548396/\n\nChange-Id: Idff8a09f917f9fc2891aecd395bb13f2cc097284\n'}, {'number': 5, 'created': '2018-03-19 17:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1070b7d03ddc9e03755b6961fbfdb649d7063131', 'message': 'Infiniband Port Configuration update[1]\n\n[1] https://review.openstack.org/#/c/548396/\n\nChange-Id: Idff8a09f917f9fc2891aecd395bb13f2cc097284\n'}, {'number': 6, 'created': '2018-03-20 06:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3714eb6b8ba912240584aa2233afc3567b4fcd7a', 'message': 'Infiniband Port Configuration update[1]\n\n[1] https://review.openstack.org/#/c/548396/\n\nChange-Id: Idff8a09f917f9fc2891aecd395bb13f2cc097284\n'}, {'number': 7, 'created': '2018-03-20 14:56:45.000000000', 'files': ['doc/source/admin/multitenancy.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7c3058a8e6b9b3c1571c838db9aae8d263b4bf36', 'message': 'Infiniband Port Configuration update[1]\n\n[1] https://review.openstack.org/#/c/548396/\n\nChange-Id: Idff8a09f917f9fc2891aecd395bb13f2cc097284\n'}]",37,553400,7c3058a8e6b9b3c1571c838db9aae8d263b4bf36,45,9,7,14807,,,0,"Infiniband Port Configuration update[1]

[1] https://review.openstack.org/#/c/548396/

Change-Id: Idff8a09f917f9fc2891aecd395bb13f2cc097284
",git fetch https://review.opendev.org/openstack/ironic refs/changes/00/553400/7 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/multitenancy.rst'],1,b3682ee9654f0b57f7bc0614b61380d99bc9bef4,,.. note:: This isn't applicable to Infiniband ports because the network topology is discoverable by the Infiniband Subnet Manager and local_link_connection information is not required. .. note:: Infiniband port requires adding client-id by setting --extra client-id=$IB_CLIENT_ID ,,8,0
openstack%2Fnova~master~I9f752fe01b0b1506691586e78f231b3dabe24698,openstack/nova,master,I9f752fe01b0b1506691586e78f231b3dabe24698,Remove old flavor_create db api method,MERGED,2018-02-14 21:36:35.000000000,2018-03-20 18:11:06.000000000,2018-03-20 18:11:06.000000000,"[{'_account_id': 782}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-02-14 21:36:35.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/compute/test_compute.py', 'nova/objects/flavor.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9238711460dc2c6bf08b958ade9152814a1cb659', 'message': ""Remove old flavor_create db api method\n\nWe haven't used this since the flavor migration compat\ncode was removed: I4107af592448e20fe929f8fa3112929e3685b581\n\nChange-Id: I9f752fe01b0b1506691586e78f231b3dabe24698\n""}]",0,544703,9238711460dc2c6bf08b958ade9152814a1cb659,24,13,1,6873,,,0,"Remove old flavor_create db api method

We haven't used this since the flavor migration compat
code was removed: I4107af592448e20fe929f8fa3112929e3685b581

Change-Id: I9f752fe01b0b1506691586e78f231b3dabe24698
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/544703/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/compute/test_compute.py', 'nova/objects/flavor.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",7,9238711460dc2c6bf08b958ade9152814a1cb659,rm-old-db-flavor-apis,,"def flavor_create(context, values, projects=None): """"""Create a new instance type. In order to pass in extra specs, the values dict should contain a 'extra_specs' key/value pair: {'extra_specs' : {'k1': 'v1', 'k2': 'v2', ...}} """""" specs = values.get('extra_specs') specs_refs = [] if specs: for k, v in specs.items(): specs_ref = models.InstanceTypeExtraSpecs() specs_ref['key'] = k specs_ref['value'] = v specs_refs.append(specs_ref) values['extra_specs'] = specs_refs instance_type_ref = models.InstanceTypes() instance_type_ref.update(values) if projects is None: projects = [] try: instance_type_ref.save(context.session) except db_exc.DBDuplicateEntry as e: if 'flavorid' in e.columns: raise exception.FlavorIdExists(flavor_id=values['flavorid']) raise exception.FlavorExists(name=values['name']) except Exception as e: raise db_exc.DBError(e) for project in set(projects): access_ref = models.InstanceTypeProjects() access_ref.update({""instance_type_id"": instance_type_ref.id, ""project_id"": project}) access_ref.save(context.session) return _dict_with_extra_specs(instance_type_ref) def _dict_with_extra_specs(inst_type_query): """"""Takes an instance or instance type query returned by sqlalchemy and returns it as a dictionary, converting the extra_specs entry from a list of dicts: 'extra_specs' : [{'key': 'k1', 'value': 'v1', ...}, ...] to a single dict: 'extra_specs' : {'k1': 'v1'} """""" inst_type_dict = dict(inst_type_query) extra_specs = {x['key']: x['value'] for x in inst_type_query['extra_specs']} inst_type_dict['extra_specs'] = extra_specs return inst_type_dict #################### @pick_context_manager_writer",17,161
openstack%2Fnova~master~Ic167a6e7f1be7246ef57d157c2e485465902e512,openstack/nova,master,Ic167a6e7f1be7246ef57d157c2e485465902e512,Remove old flavor_get_all db api method,MERGED,2018-02-14 20:53:53.000000000,2018-03-20 18:10:54.000000000,2018-03-20 18:10:54.000000000,"[{'_account_id': 782}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-02-14 20:53:53.000000000', 'files': ['nova/tests/functional/db/test_flavor.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/tests/unit/test_flavors.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/233cebc3effb3e9e5e23ba9c7c4acbb907c255de', 'message': ""Remove old flavor_get_all db api method\n\nWe haven't used this since the flavor migration compat\ncode was removed: I4107af592448e20fe929f8fa3112929e3685b581\n\nChange-Id: Ic167a6e7f1be7246ef57d157c2e485465902e512\n""}]",0,544688,233cebc3effb3e9e5e23ba9c7c4acbb907c255de,31,17,1,6873,,,0,"Remove old flavor_get_all db api method

We haven't used this since the flavor migration compat
code was removed: I4107af592448e20fe929f8fa3112929e3685b581

Change-Id: Ic167a6e7f1be7246ef57d157c2e485465902e512
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/544688/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_flavor.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/tests/unit/test_flavors.py', 'nova/db/sqlalchemy/api.py']",5,233cebc3effb3e9e5e23ba9c7c4acbb907c255de,rm-old-db-flavor-apis,,"def _flavor_get_query(context, read_deleted=None): query = model_query(context, models.InstanceTypes, read_deleted=read_deleted).\ options(joinedload('extra_specs')) if not context.is_admin: the_filter = [models.InstanceTypes.is_public == true()] the_filter.extend([ models.InstanceTypes.projects.any(project_id=context.project_id) ]) query = query.filter(or_(*the_filter)) return query @require_context @pick_context_manager_reader def flavor_get_all(context, inactive=False, filters=None, sort_key='flavorid', sort_dir='asc', limit=None, marker=None): """"""Returns all flavors. """""" filters = filters or {} # FIXME(sirp): now that we have the `disabled` field for flavors, we # should probably remove the use of `deleted` to mark inactive. `deleted` # should mean truly deleted, e.g. we can safely purge the record out of the # database. read_deleted = ""yes"" if inactive else ""no"" query = _flavor_get_query(context, read_deleted=read_deleted) if 'min_memory_mb' in filters: query = query.filter( models.InstanceTypes.memory_mb >= filters['min_memory_mb']) if 'min_root_gb' in filters: query = query.filter( models.InstanceTypes.root_gb >= filters['min_root_gb']) if 'disabled' in filters: query = query.filter( models.InstanceTypes.disabled == filters['disabled']) if 'is_public' in filters and filters['is_public'] is not None: the_filter = [models.InstanceTypes.is_public == filters['is_public']] if filters['is_public'] and context.project_id is not None: the_filter.extend([ models.InstanceTypes.projects.any( project_id=context.project_id, deleted=0) ]) if len(the_filter) > 1: query = query.filter(or_(*the_filter)) else: query = query.filter(the_filter[0]) marker_row = None if marker is not None: marker_row = _flavor_get_query(context, read_deleted=read_deleted).\ filter_by(flavorid=marker).\ first() if not marker_row: raise exception.MarkerNotFound(marker=marker) query = sqlalchemyutils.paginate_query(query, models.InstanceTypes, limit, [sort_key, 'id'], marker=marker_row, sort_dir=sort_dir) inst_types = query.all() return [_dict_with_extra_specs(i) for i in inst_types] ",0,215
openstack%2Fnova~master~I1cb3b75e512b6766320ead2e5ff2595e7a485df9,openstack/nova,master,I1cb3b75e512b6766320ead2e5ff2595e7a485df9,Remove old flavor_get db api method,MERGED,2018-02-14 19:53:16.000000000,2018-03-20 18:10:43.000000000,2018-03-20 18:10:43.000000000,"[{'_account_id': 5754}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-02-14 19:53:16.000000000', 'files': ['nova/tests/unit/db/fakes.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/04f381ce794973250625e09fe8a3e3cc039afad8', 'message': ""Remove old flavor_get db api method\n\nWe haven't used this since the flavor migration compat\ncode was removed: I4107af592448e20fe929f8fa3112929e3685b581\n\nChange-Id: I1cb3b75e512b6766320ead2e5ff2595e7a485df9\n""}]",0,544621,04f381ce794973250625e09fe8a3e3cc039afad8,18,12,1,6873,,,0,"Remove old flavor_get db api method

We haven't used this since the flavor migration compat
code was removed: I4107af592448e20fe929f8fa3112929e3685b581

Change-Id: I1cb3b75e512b6766320ead2e5ff2595e7a485df9
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/544621/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/fakes.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",4,04f381ce794973250625e09fe8a3e3cc039afad8,rm-old-db-flavor-apis,,"@require_context @pick_context_manager_reader def flavor_get(context, id): """"""Returns a dict describing specific flavor."""""" result = _flavor_get_query(context).\ filter_by(id=id).\ first() if not result: raise exception.FlavorNotFound(flavor_id=id) return _dict_with_extra_specs(result) ",0,45
openstack%2Fnova~master~I9da861b672da7ac45e5b2ca588942a55847f2d46,openstack/nova,master,I9da861b672da7ac45e5b2ca588942a55847f2d46,Remove old flavor_get_by_name db api method,MERGED,2018-02-14 15:24:00.000000000,2018-03-20 18:10:31.000000000,2018-03-20 18:10:31.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-02-14 15:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8df84c9264a6ad5c33aafc1f845f995f00847b60', 'message': ""Remove old flavor_get_by_name db api method\n\nWe haven't used this since the flavor migration compat\ncode was removed: I4107af592448e20fe929f8fa3112929e3685b581\n\nChange-Id: I9da861b672da7ac45e5b2ca588942a55847f2d46\n""}, {'number': 2, 'created': '2018-02-14 16:33:32.000000000', 'files': ['nova/tests/functional/db/test_flavor.py', 'nova/tests/unit/utils.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0a767277ff1921a99682f7bceda8d6f881861cd8', 'message': ""Remove old flavor_get_by_name db api method\n\nWe haven't used this since the flavor migration compat\ncode was removed: I4107af592448e20fe929f8fa3112929e3685b581\n\nChange-Id: I9da861b672da7ac45e5b2ca588942a55847f2d46\n""}]",0,544379,0a767277ff1921a99682f7bceda8d6f881861cd8,23,13,2,6873,,,0,"Remove old flavor_get_by_name db api method

We haven't used this since the flavor migration compat
code was removed: I4107af592448e20fe929f8fa3112929e3685b581

Change-Id: I9da861b672da7ac45e5b2ca588942a55847f2d46
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/544379/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_flavor.py', 'nova/tests/unit/utils.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",5,8df84c9264a6ad5c33aafc1f845f995f00847b60,rm-old-db-flavor-apis,,"@require_context @pick_context_manager_reader def flavor_get_by_name(context, name): """"""Returns a dict describing specific flavor."""""" result = _flavor_get_query(context).\ filter_by(name=name).\ first() if not result: raise exception.FlavorNotFoundByName(flavor_name=name) return _dict_with_extra_specs(result) ",4,53
openstack%2Fnova~master~I7481e53edbbf2439e38c61f75bd71d381565636b,openstack/nova,master,I7481e53edbbf2439e38c61f75bd71d381565636b,Remove old flavor_get_by_flavor_id db api method,MERGED,2018-01-31 23:49:06.000000000,2018-03-20 18:10:17.000000000,2018-03-20 18:10:17.000000000,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-31 23:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef45d27fc74dae4a3c629d757a84446f68ddf4f7', 'message': ""Remove old flavor_get_by_flavor_id db api method\n\nWe haven't used this since the flavor migration compat\ncode was removed:\n\nI4107af592448e20fe929f8fa3112929e3685b581\n\nChange-Id: I7481e53edbbf2439e38c61f75bd71d381565636b\n""}, {'number': 2, 'created': '2018-02-14 16:33:32.000000000', 'files': ['nova/tests/functional/db/test_flavor.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f74651e7180f4fc85972a31b273e16d990ef0b88', 'message': ""Remove old flavor_get_by_flavor_id db api method\n\nWe haven't used this since the flavor migration compat\ncode was removed:\n\nI4107af592448e20fe929f8fa3112929e3685b581\n\nChange-Id: I7481e53edbbf2439e38c61f75bd71d381565636b\n""}]",0,539733,f74651e7180f4fc85972a31b273e16d990ef0b88,31,16,2,6873,,,0,"Remove old flavor_get_by_flavor_id db api method

We haven't used this since the flavor migration compat
code was removed:

I4107af592448e20fe929f8fa3112929e3685b581

Change-Id: I7481e53edbbf2439e38c61f75bd71d381565636b
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/539733/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_flavor.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",4,ef45d27fc74dae4a3c629d757a84446f68ddf4f7,rm-old-db-flavor-apis,,"@require_context @pick_context_manager_reader def flavor_get_by_flavor_id(context, flavor_id, read_deleted): """"""Returns a dict describing specific flavor_id."""""" result = _flavor_get_query(context, read_deleted=read_deleted).\ filter_by(flavorid=flavor_id).\ order_by(asc(models.InstanceTypes.deleted), asc(models.InstanceTypes.id)).\ first() if not result: raise exception.FlavorNotFound(flavor_id=flavor_id) return _dict_with_extra_specs(result) ",0,53
openstack%2Fnova~master~I77e23d6b52a81cf2835287fc69582559943ef31b,openstack/nova,master,I77e23d6b52a81cf2835287fc69582559943ef31b,Remove old flavor_destroy db api method,MERGED,2018-01-31 23:33:21.000000000,2018-03-20 18:09:45.000000000,2018-03-20 18:09:45.000000000,"[{'_account_id': 5754}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-31 23:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8fe493068a7fcbb0b7f1164fc547f75ee6a2363e', 'message': ""Remove old flavor_destroy db api method\n\nThis hasn't been used since the flavor migration compat\ncode was removed:\n\nI4107af592448e20fe929f8fa3112929e3685b581\n\nChange-Id: I77e23d6b52a81cf2835287fc69582559943ef31b\n""}, {'number': 2, 'created': '2018-02-14 16:33:32.000000000', 'files': ['nova/tests/functional/db/test_flavor.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b0b23708936c8955be698b3b28b61ca05a615444', 'message': ""Remove old flavor_destroy db api method\n\nThis hasn't been used since the flavor migration compat\ncode was removed:\n\nI4107af592448e20fe929f8fa3112929e3685b581\n\nChange-Id: I77e23d6b52a81cf2835287fc69582559943ef31b\n""}]",0,539729,b0b23708936c8955be698b3b28b61ca05a615444,28,15,2,6873,,,0,"Remove old flavor_destroy db api method

This hasn't been used since the flavor migration compat
code was removed:

I4107af592448e20fe929f8fa3112929e3685b581

Change-Id: I77e23d6b52a81cf2835287fc69582559943ef31b
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/539729/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_flavor.py', 'nova/tests/unit/db/test_sqlalchemy_migration.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",5,8fe493068a7fcbb0b7f1164fc547f75ee6a2363e,rm-old-db-flavor-apis,,"@pick_context_manager_writer def flavor_destroy(context, flavor_id): """"""Marks specific flavor as deleted."""""" ref = model_query(context, models.InstanceTypes, read_deleted=""no"").\ filter_by(flavorid=flavor_id).\ first() if not ref: raise exception.FlavorNotFound(flavor_id=flavor_id) ref.soft_delete(context.session) model_query(context, models.InstanceTypeExtraSpecs, read_deleted=""no"").\ filter_by(instance_type_id=ref['id']).\ soft_delete() model_query(context, models.InstanceTypeProjects, read_deleted=""no"").\ filter_by(instance_type_id=ref['id']).\ soft_delete() ",0,87
openstack%2Fnova~master~Iff84a719f5297e570316d8f17ec6b720471d549d,openstack/nova,master,Iff84a719f5297e570316d8f17ec6b720471d549d,Remove old flavor_access_get_by_flavor_id db api method,MERGED,2018-01-31 22:48:05.000000000,2018-03-20 18:08:59.000000000,2018-03-20 18:08:59.000000000,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-01-31 22:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/270a9f7bf20f78b5109fd356851094c708e72765', 'message': ""Remove old flavor_access_get_by_flavor_id db api method\n\nThis hasn't been used since the flavor migration compat\ncode was removed:\n\nI4107af592448e20fe929f8fa3112929e3685b581\n\nChange-Id: Iff84a719f5297e570316d8f17ec6b720471d549d\n""}, {'number': 2, 'created': '2018-02-14 16:33:32.000000000', 'files': ['nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4aedd5120b115b9d9f909ceaf3f045e23d17d612', 'message': ""Remove old flavor_access_get_by_flavor_id db api method\n\nThis hasn't been used since the flavor migration compat\ncode was removed:\n\nI4107af592448e20fe929f8fa3112929e3685b581\n\nChange-Id: Iff84a719f5297e570316d8f17ec6b720471d549d\n""}]",1,539720,4aedd5120b115b9d9f909ceaf3f045e23d17d612,30,16,2,6873,,,0,"Remove old flavor_access_get_by_flavor_id db api method

This hasn't been used since the flavor migration compat
code was removed:

I4107af592448e20fe929f8fa3112929e3685b581

Change-Id: Iff84a719f5297e570316d8f17ec6b720471d549d
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/539720/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",3,270a9f7bf20f78b5109fd356851094c708e72765,rm-old-db-flavor-apis,,"def _flavor_access_query(context): return model_query(context, models.InstanceTypeProjects, read_deleted=""no"") @pick_context_manager_reader def flavor_access_get_by_flavor_id(context, flavor_id): """"""Get flavor access list by flavor id."""""" instance_type_id_subq = _flavor_get_id_from_flavor_query(context, flavor_id) access_refs = _flavor_access_query(context).\ filter_by(instance_type_id=instance_type_id_subq).\ all() return access_refs ",0,27
openstack%2Ftripleo-common~master~I55caee4fc3e04362f8a6f7935d6ad0ea72527b70,openstack/tripleo-common,master,I55caee4fc3e04362f8a6f7935d6ad0ea72527b70,Add undercloud's CA certificate before deployment,MERGED,2018-03-16 09:03:14.000000000,2018-03-20 18:08:12.000000000,2018-03-20 18:08:12.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 7065}, {'_account_id': 8449}, {'_account_id': 9712}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11391}, {'_account_id': 11589}, {'_account_id': 17893}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27068}, {'_account_id': 27954}]","[{'number': 1, 'created': '2018-03-16 09:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5dd0a4d2f5582c6e57212029c5ac45848b39fb9e', 'message': ""Add undercloud's CA certificate before deployment\n\nAs part of making the undercloud use TLS by default, this sets the\nundercloud's CA certificate to be deployed to the overcloud nodes\nas part of the depoy workflow. This workflow was used because it\nassures us that it's undercloud specific (which might have a different\nCA certificate).\n\nChange-Id: I55caee4fc3e04362f8a6f7935d6ad0ea72527b70\n""}, {'number': 2, 'created': '2018-03-16 09:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/117fa16457a07925091931f892376ce28fa9fab3', 'message': ""Add undercloud's CA certificate before deployment\n\nAs part of making the undercloud use TLS by default, this sets the\nundercloud's CA certificate to be deployed to the overcloud nodes\nas part of the depoy workflow. This workflow was used because it\nassures us that it's undercloud specific (which might have a different\nCA certificate).\n\nChange-Id: I55caee4fc3e04362f8a6f7935d6ad0ea72527b70\n""}, {'number': 3, 'created': '2018-03-16 09:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ea75b8c01b3f0f643bfd8421d26a1bfb29368b20', 'message': ""Add undercloud's CA certificate before deployment\n\nAs part of making the undercloud use TLS by default, this sets the\nundercloud's CA certificate to be deployed to the overcloud nodes\nas part of the depoy workflow. This workflow was used because it\nassures us that it's undercloud specific (which might have a different\nCA certificate).\n\nChange-Id: I55caee4fc3e04362f8a6f7935d6ad0ea72527b70\n""}, {'number': 4, 'created': '2018-03-16 09:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fa3ee215bc105273781b178274673c99398974c6', 'message': ""Add undercloud's CA certificate before deployment\n\nAs part of making the undercloud use TLS by default, this sets the\nundercloud's CA certificate to be deployed to the overcloud nodes\nas part of the depoy workflow. This workflow was used because it\nassures us that it's undercloud specific (which might have a different\nCA certificate).\n\nChange-Id: I55caee4fc3e04362f8a6f7935d6ad0ea72527b70\n""}, {'number': 5, 'created': '2018-03-19 16:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7d60beb24989659268468236b1b5d5186d216a4b', 'message': ""Add undercloud's CA certificate before deployment\n\nAs part of making the undercloud use TLS by default, this sets the\nundercloud's CA certificate to be deployed to the overcloud nodes\nas part of the depoy workflow. This workflow was used because it\nassures us that it's undercloud specific (which might have a different\nCA certificate).\n\nChange-Id: I55caee4fc3e04362f8a6f7935d6ad0ea72527b70\n""}, {'number': 6, 'created': '2018-03-19 16:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/60288d9decfeb24fa7eee933c2cb8ad86a27a281', 'message': ""Add undercloud's CA certificate before deployment\n\nAs part of making the undercloud use TLS by default, this sets the\nundercloud's CA certificate to be deployed to the overcloud nodes\nas part of the depoy workflow. This workflow was used because it\nassures us that it's undercloud specific (which might have a different\nCA certificate).\n\nChange-Id: I55caee4fc3e04362f8a6f7935d6ad0ea72527b70\n""}, {'number': 7, 'created': '2018-03-20 06:22:43.000000000', 'files': ['tripleo_common/tests/actions/test_deployment.py', 'tripleo_common/actions/deployment.py', 'tripleo_common/constants.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/564ae5b82cf50375dc191869175d37860344c996', 'message': ""Add undercloud's CA certificate before deployment\n\nAs part of making the undercloud use TLS by default, this sets the\nundercloud's CA certificate to be deployed to the overcloud nodes\nas part of the depoy workflow. This workflow was used because it\nassures us that it's undercloud specific (which might have a different\nCA certificate).\n\nChange-Id: I55caee4fc3e04362f8a6f7935d6ad0ea72527b70\n""}]",3,553720,564ae5b82cf50375dc191869175d37860344c996,37,14,7,10873,,,0,"Add undercloud's CA certificate before deployment

As part of making the undercloud use TLS by default, this sets the
undercloud's CA certificate to be deployed to the overcloud nodes
as part of the depoy workflow. This workflow was used because it
assures us that it's undercloud specific (which might have a different
CA certificate).

Change-Id: I55caee4fc3e04362f8a6f7935d6ad0ea72527b70
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/20/553720/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/deployment.py'],1,5dd0a4d2f5582c6e57212029c5ac45848b39fb9e,public-tls-default," parameters[] parameters[] self.set_tls_parameters(parameters) def set_tls_parameters(self, parameters): # Since the undercloud has TLS by default, we'll add the undercloud's # CA to be trusted by the overcloud. local_ca_path = '/etc/pki/ca-trust/source/anchors/cm-local-ca.pem' try: with open(local_ca_path, 'r') as ca_file: cacert = ca_file.read() ca_map_entry = { 'undercloud-ca': { 'content': cacert } } try: parameters['CAMap'].udpate(ca_map_entry) except AttributeError: parameters['CAMap'] = ca_map_entry except IOError: # If the file wasn't found it means that the undercloud's TLS # was explicitly disabled or another CA is being used. So we'll # let the user handle this. pass ",,26,0
openstack%2Ftripleo-ci~master~I6a1f4e13468a4bab1589d2b9e2904c0a21599b8c,openstack/tripleo-ci,master,I6a1f4e13468a4bab1589d2b9e2904c0a21599b8c,Run specific jobs with quickstart.sh,MERGED,2018-02-19 12:28:09.000000000,2018-03-20 18:08:08.000000000,2018-03-20 18:08:07.000000000,"[{'_account_id': 8652}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 12715}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23327}]","[{'number': 1, 'created': '2018-02-19 12:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a2efb8d7ddf1b020cf9a03da8594f5c14da70df1', 'message': 'Run specific jobs with quickstart.sh\n\nTo continue to gate quickstart.sh in CI we need to run\na few jobs with quickstart.sh.\nSet containers multinode and fs001 jobs to run with quickstart.sh\n\nChange-Id: I6a1f4e13468a4bab1589d2b9e2904c0a21599b8c\n'}, {'number': 2, 'created': '2018-02-21 09:41:44.000000000', 'files': ['toci_gate_test-oooq.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0c2a144a72bcf8797f26ff376c8ff2b0d3fe3e4f', 'message': 'Run specific jobs with quickstart.sh\n\nTo continue to gate quickstart.sh in CI we need to run\na few jobs with quickstart.sh.\nSet containers multinode and fs001 jobs to run with quickstart.sh\n\nChange-Id: I6a1f4e13468a4bab1589d2b9e2904c0a21599b8c\n'}]",6,545815,0c2a144a72bcf8797f26ff376c8ff2b0d3fe3e4f,26,9,2,10969,,,0,"Run specific jobs with quickstart.sh

To continue to gate quickstart.sh in CI we need to run
a few jobs with quickstart.sh.
Set containers multinode and fs001 jobs to run with quickstart.sh

Change-Id: I6a1f4e13468a4bab1589d2b9e2904c0a21599b8c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/15/545815/1 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test-oooq.sh'],1,a2efb8d7ddf1b020cf9a03da8594f5c14da70df1,step-based-deploy,"QUICKSTART_SH_JOBS=""ovb-3ctlr_1comp-featureset001 multinode-1ctlr-featureset010"" if [[ "" $QUICKSTART_SH_JOBS "" =~ "" $TOCI_JOBTYPE "" ]]; then PLAYBOOKS=""baremetal-full-deploy.yml"" else PLAYBOOKS=""ovb-setup.yml baremetal-full-undercloud.yml baremetal-full-overcloud-prep.yml baremetal-full-overcloud.yml baremetal-full-overcloud-validate.yml"" fi if [[ "" $QUICKSTART_SH_JOBS "" =~ "" $TOCI_JOBTYPE "" ]]; then PLAYBOOKS=""multinode.yml"" else PLAYBOOKS=""quickstart.yml multinode-undercloud.yml multinode-overcloud-prep.yml multinode-overcloud.yml multinode-overcloud-upgrade.yml multinode-validate.yml"" fi if [[ "" $QUICKSTART_SH_JOBS "" =~ "" $TOCI_JOBTYPE "" ]]; then PLAYBOOKS=""multinode.yml"" else PLAYBOOKS=""quickstart.yml multinode-undercloud.yml multinode-overcloud-prep.yml multinode-overcloud.yml multinode-overcloud-upgrade.yml multinode-validate.yml"" fi"," PLAYBOOKS=""ovb-setup.yml baremetal-full-undercloud.yml baremetal-full-overcloud-prep.yml baremetal-full-overcloud.yml baremetal-full-overcloud-validate.yml"" PLAYBOOKS=""quickstart.yml multinode-undercloud.yml multinode-overcloud-prep.yml multinode-overcloud.yml multinode-overcloud-upgrade.yml multinode-validate.yml"" PLAYBOOKS=""quickstart.yml multinode-undercloud.yml multinode-overcloud-prep.yml multinode-overcloud.yml multinode-overcloud-upgrade.yml multinode-validate.yml""",16,3
openstack%2Fhorizon~master~Ib039417b4e666c2341f17ac05fd7723bc758816c,openstack/horizon,master,Ib039417b4e666c2341f17ac05fd7723bc758816c,Fix Angular errors in openstack_auth,MERGED,2018-03-14 06:08:25.000000000,2018-03-20 18:04:38.000000000,2018-03-20 00:50:32.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8478}, {'_account_id': 11880}, {'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-14 06:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/43bed4ca88aa2345cfd33251c175d7d51f4f63c9', 'message': 'Fix Angular errors in openstack_auth\n\nThis change should be cherry-picked into stable/queens and\nstable/pike.\n\nChange-Id: Ib039417b4e666c2341f17ac05fd7723bc758816c\nCloses-Bug: #1754133\n'}, {'number': 2, 'created': '2018-03-14 08:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/39b2786af54376ec5eb54ff1288280bfcf57010f', 'message': 'Fix Angular errors in openstack_auth\n\nAngular errors on login page are caused by loading ngdetails view.\nAlthough registration of URL for ngdetails is executed on top level\nof Horizon, ngdetails view is not needed to be loaded in login page,\ni.e. openstack_auth side.\nTo fix this issue, this patch moves registration of URL for ngdetails\ninto openstack_dashboard side.\n\nChange-Id: Ib039417b4e666c2341f17ac05fd7723bc758816c\nCloses-Bug: #1754133\n'}, {'number': 3, 'created': '2018-03-16 06:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9a4ec429e88c4bc176e5a029af635579422eb3f4', 'message': 'Fix Angular errors in openstack_auth\n\nAngular errors on login page are caused by loading ngdetails view.\nAlthough registration of URL for ngdetails is executed on top level\nof Horizon, ngdetails view is not needed to be loaded in login page,\ni.e. openstack_auth side.\nTo fix this issue, this patch moves registration of URL for ngdetails\ninto openstack_dashboard side.\n\nChange-Id: Ib039417b4e666c2341f17ac05fd7723bc758816c\nCloses-Bug: #1754133\nCloses-Bug: #1753557\n'}, {'number': 4, 'created': '2018-03-17 09:36:19.000000000', 'files': ['horizon/test/unit/test_base.py', 'horizon/base.py', 'openstack_dashboard/test/unit/test_views.py', 'openstack_dashboard/test/urls.py', 'openstack_dashboard/urls.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f494c6f2d475bfc936b78fda7ce11ed4d46c7224', 'message': 'Fix Angular errors in openstack_auth\n\nAngular errors on login page are caused by loading ngdetails view.\nAlthough registration of URL for ngdetails is executed on top level\nof Horizon, ngdetails view is not needed to be loaded in login page,\ni.e. openstack_auth side.\nTo fix this issue, this patch moves registration of URL for ngdetails\ninto openstack_dashboard side.\n\nChange-Id: Ib039417b4e666c2341f17ac05fd7723bc758816c\nCloses-Bug: #1754133\nCloses-Bug: #1753557\n'}]",5,552789,f494c6f2d475bfc936b78fda7ce11ed4d46c7224,38,6,4,16352,,,0,"Fix Angular errors in openstack_auth

Angular errors on login page are caused by loading ngdetails view.
Although registration of URL for ngdetails is executed on top level
of Horizon, ngdetails view is not needed to be loaded in login page,
i.e. openstack_auth side.
To fix this issue, this patch moves registration of URL for ngdetails
into openstack_dashboard side.

Change-Id: Ib039417b4e666c2341f17ac05fd7723bc758816c
Closes-Bug: #1754133
Closes-Bug: #1753557
",git fetch https://review.opendev.org/openstack/horizon refs/changes/89/552789/3 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/test/unit/test_base.py', 'horizon/base.py', 'openstack_dashboard/test/unit/test_views.py', 'openstack_dashboard/test/urls.py', 'openstack_dashboard/urls.py']",5,43bed4ca88aa2345cfd33251c175d7d51f4f63c9,bug/1754133,"from horizon.browsers import views as browsers_views from horizon.decorators import require_auth# add URL for ngdetails ngdetails_url = url(r'^ngdetails/', browsers_views.AngularDetailsView.as_view(), name='ngdetails') urlpatterns.append(ngdetails_url) horizon.base._decorate_urlconf([ngdetails_url], require_auth) ",,19,13
openstack%2Fironic-specs~master~Ia14c054e3db0fa973640ddb44ee7cca9db611b8f,openstack/ironic-specs,master,Ia14c054e3db0fa973640ddb44ee7cca9db611b8f,Remove unnecessary indents,MERGED,2018-03-20 03:02:44.000000000,2018-03-20 17:50:57.000000000,2018-03-20 17:50:57.000000000,"[{'_account_id': 6618}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 03:02:44.000000000', 'files': ['specs/approved/generic-bios-config.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/93fd4b1fb4f7c58d20faae206af213e7bb31c671', 'message': 'Remove unnecessary indents\n\nThe theme of ironic specs was changed just before the BIOS\nconfiguration spec of was approved. Due to this change, this spec looks\nslightly ugly. This patch removes unnecessary indents to make it\ncomfortable to read this spec during code review.\n\nChange-Id: Ia14c054e3db0fa973640ddb44ee7cca9db611b8f\nPartial-Bug: #1712032\n'}]",4,554406,93fd4b1fb4f7c58d20faae206af213e7bb31c671,12,3,1,13689,,,0,"Remove unnecessary indents

The theme of ironic specs was changed just before the BIOS
configuration spec of was approved. Due to this change, this spec looks
slightly ugly. This patch removes unnecessary indents to make it
comfortable to read this spec during code review.

Change-Id: Ia14c054e3db0fa973640ddb44ee7cca9db611b8f
Partial-Bug: #1712032
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/06/554406/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/generic-bios-config.rst'],1,93fd4b1fb4f7c58d20faae206af213e7bb31c671,bug/1712032,"- ``do_factory_reset()`` - This method is called to reset all the BIOS settings supported by driver to factory default. It will also update the records of ``bios_settings`` database table to the known defaults once reset action succeeds. It is up to the vendor to decide the BIOS defaults settings that will be set. - ``factory_reset()`` - This cleaning step will delegate the actual reset work into the abstract method ``do_factory_reset()``. The operator can choose to call it as part of manual cleaning steps. The corresponding manual cleaning step will be ``bios.factory_reset``. - ``do_apply_configuration(configuration={})`` - The driver implementation of this method will take the settings from the configuration dictionary and will apply BIOS configuration on the bare metal. The driver is responsible for doing the corresponding validation before applying the settings, and/or manage failures when setting an invalid BIOS config. Implementation of this method needs to rollback previous settings upon first failure. In the case of needing password to update the BIOS config, it will be taken from the ``driver_info`` properties. The implementation detail is up to the driver. - ``apply_configuration(configuration={})`` - This cleaning step will delegate the actual configuration work into the abstract method ``do_apply_configuration(configuration={})``. The operator can choose to call it as part of manual cleaning steps. The corresponding manual cleaning step will be ``bios.apply_configuration``. - ``cache_bios_settings()`` - This method will be called to update BIOS configuration in ``bios_settings`` database table. It will attempt to get the current BIOS settings and store them in the ``bios_settings`` database table. It will also update the timestamp fields of 'created_at' and 'updated_at' accordingly. The implementation detail is up to the driver, for example, whether to have a sub method shared by ``do_factory_reset``, ``do_apply_configuration`` and ``cache_bios_settings`` to retrieve and save bios information in ``bios_settings`` table."," - ``do_factory_reset()`` - This method is called to reset all the BIOS settings supported by driver to factory default. It will also update the records of ``bios_settings`` database table to the known defaults once reset action succeeds. It is up to the vendor to decide the BIOS defaults settings that will be set. - ``factory_reset()`` - This cleaning step will delegate the actual reset work into the abstract method ``do_factory_reset()``. The operator can choose to call it as part of manual cleaning steps. The corresponding manual cleaning step will be ``bios.factory_reset``. - ``do_apply_configuration(configuration={})`` - The driver implementation of this method will take the settings from the configuration dictionary and will apply BIOS configuration on the bare metal. The driver is responsible for doing the corresponding validation before applying the settings, and/or manage failures when setting an invalid BIOS config. Implementation of this method needs to rollback previous settings upon first failure. In the case of needing password to update the BIOS config, it will be taken from the ``driver_info`` properties. The implementation detail is up to the driver. - ``apply_configuration(configuration={})`` - This cleaning step will delegate the actual configuration work into the abstract method ``do_apply_configuration(configuration={})``. The operator can choose to call it as part of manual cleaning steps. The corresponding manual cleaning step will be ``bios.apply_configuration``. - ``cache_bios_settings()`` - This method will be called to update BIOS configuration in ``bios_settings`` database table. It will attempt to get the current BIOS settings and store them in the ``bios_settings`` database table. It will also update the timestamp fields of 'created_at' and 'updated_at' accordingly. The implementation detail is up to the driver, for example, whether to have a sub method shared by ``do_factory_reset``, ``do_apply_configuration`` and ``cache_bios_settings`` to retrieve and save bios information in ``bios_settings`` table.",32,32
openstack%2Fnova~master~Ic5f62e7554cee059f579515b05224fecc11bd476,openstack/nova,master,Ic5f62e7554cee059f579515b05224fecc11bd476,Remove old flavor_access_add db api methods,MERGED,2018-01-31 22:35:12.000000000,2018-03-20 17:38:11.000000000,2018-03-20 17:38:11.000000000,"[{'_account_id': 5754}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-31 22:35:12.000000000', 'files': ['nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/082191ec877d0a529d8db19e936f723537ca8382', 'message': ""Remove old flavor_access_add db api methods\n\nThis hasn't been used since the flavor migration compat\ncode was removed:\n\nI4107af592448e20fe929f8fa3112929e3685b581\n\nChange-Id: Ic5f62e7554cee059f579515b05224fecc11bd476\n""}]",1,539714,082191ec877d0a529d8db19e936f723537ca8382,16,12,1,6873,,,0,"Remove old flavor_access_add db api methods

This hasn't been used since the flavor migration compat
code was removed:

I4107af592448e20fe929f8fa3112929e3685b581

Change-Id: Ic5f62e7554cee059f579515b05224fecc11bd476
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/539714/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",3,082191ec877d0a529d8db19e936f723537ca8382,rm-old-db-flavor-apis,,"@pick_context_manager_writer def flavor_access_add(context, flavor_id, project_id): """"""Add given tenant to the flavor access list."""""" instance_type_id = _flavor_get_id_from_flavor(context, flavor_id) access_ref = models.InstanceTypeProjects() access_ref.update({""instance_type_id"": instance_type_id, ""project_id"": project_id}) try: access_ref.save(context.session) except db_exc.DBDuplicateEntry: raise exception.FlavorAccessExists(flavor_id=flavor_id, project_id=project_id) return access_ref ",0,111
openstack%2Fpython-saharaclient~master~I4cfb47a758f39f2de5ebd77fc88124335ded4aa3,openstack/python-saharaclient,master,I4cfb47a758f39f2de5ebd77fc88124335ded4aa3,Remove outdated tools and files,MERGED,2018-03-20 14:40:35.000000000,2018-03-20 17:37:29.000000000,2018-03-20 17:37:29.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2018-03-20 14:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/d061d3bc93535f5be66d621d6319856264a3e786', 'message': 'Remove outdated tools\n\nThose tools have been mostly removed from the repositories and\nthey do not add much to what can be done with few commands\n(direct call of virtualenv, or use of tox for various test runners).\n\nChange-Id: I4cfb47a758f39f2de5ebd77fc88124335ded4aa3\n'}, {'number': 2, 'created': '2018-03-20 15:09:47.000000000', 'files': ['run_tests.sh', 'tools/with_venv.sh', 'tools/install_venv_common.py', 'tools/install_venv.py', 'MANIFEST.in'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/6dc4ef2343f6ef456a85476a22a6422a7a22f10b', 'message': 'Remove outdated tools and files\n\nThose tools have been mostly removed from the repositories and\nthey do not add much to what can be done with few commands\n(direct call of virtualenv, or use of tox for various test runners).\nMANIFEST.in is not needed anymore apparently too, thanks\nto changes in pbr (thanks Jeremy Freudberg for noticing this).\n\nChange-Id: I4cfb47a758f39f2de5ebd77fc88124335ded4aa3\n'}]",0,554574,6dc4ef2343f6ef456a85476a22a6422a7a22f10b,10,3,2,10459,,,0,"Remove outdated tools and files

Those tools have been mostly removed from the repositories and
they do not add much to what can be done with few commands
(direct call of virtualenv, or use of tox for various test runners).
MANIFEST.in is not needed anymore apparently too, thanks
to changes in pbr (thanks Jeremy Freudberg for noticing this).

Change-Id: I4cfb47a758f39f2de5ebd77fc88124335ded4aa3
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/74/554574/2 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tools/with_venv.sh', 'tools/install_venv_common.py', 'tools/install_venv.py']",4,d061d3bc93535f5be66d621d6319856264a3e786,cleanup-old-scripts,,"# Copyright 2010 United States Government as represented by the # Administrator of the National Aeronautics and Space Administration. # All Rights Reserved. # # Copyright 2010 OpenStack Foundation # Copyright 2013 IBM Corp. # Copyright (c) 2013 Hewlett-Packard Development Company, L.P. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import ConfigParser import os import sys import install_venv_common as install_venv def print_help(project, venv, root): help = """""" %(project)s development environment setup is complete. %(project)s development uses virtualenv to track and manage Python dependencies while in development and testing. To activate the %(project)s virtualenv for the extent of your current shell session you can run: $ source %(venv)s/bin/activate Or, if you prefer, you can run commands in the virtualenv on a case by case basis by running: $ %(root)s/tools/with_venv.sh <your command> """""" print(help % dict(project=project, venv=venv, root=root)) def main(argv): root = os.path.dirname(os.path.dirname(os.path.realpath(__file__))) if os.environ.get('tools_path'): root = os.environ['tools_path'] venv = os.path.join(root, '.venv') if os.environ.get('venv'): venv = os.environ['venv'] pip_requires = os.path.join(root, 'requirements.txt') test_requires = os.path.join(root, 'test-requirements.txt') py_version = ""python%s.%s"" % (sys.version_info[0], sys.version_info[1]) setup_cfg = ConfigParser.ConfigParser() setup_cfg.read('setup.cfg') project = setup_cfg.get('metadata', 'name') install = install_venv.InstallVenv( root, venv, pip_requires, test_requires, py_version, project) options = install.parse_args(argv) install.check_python_version() install.check_dependencies() install.create_virtualenv(no_site_packages=options.no_site_packages) install.install_dependencies() install.post_process() print_help(project, venv, root) if __name__ == '__main__': main(sys.argv) ",0,455
openstack%2Fironic~master~I17e38454f7893c00b71ac29328bd80d3978ed1f4,openstack/ironic,master,I17e38454f7893c00b71ac29328bd80d3978ed1f4,Rework Bare Metal service overview in the install guide,MERGED,2018-03-19 16:30:53.000000000,2018-03-20 17:36:28.000000000,2018-03-20 17:36:28.000000000,"[{'_account_id': 6637}, {'_account_id': 10343}, {'_account_id': 12860}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-03-19 16:30:53.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/install/get_started.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c9e079da683cdba1e45bddcc402b69104f683a55', 'message': 'Rework Bare Metal service overview in the install guide\n\nCurrently we have a detailed explanation of how ironic is architected,\nbut it resides in the user guide for some reason. This change moves\nrelevant bits to the install guide to the existing ""Bare Metal service\noverview"" section. The text is cleaned up (e.g. s/ironic/Bare Metal/)\nand ordered to simplify reading. A link to ironic-ui is added.\n\nThe user guide still contains the bits that are helpful for users\nto understand the bare metal deployment process.\n\nChange-Id: I17e38454f7893c00b71ac29328bd80d3978ed1f4\n'}]",0,554284,c9e079da683cdba1e45bddcc402b69104f683a55,10,7,1,10239,,,0,"Rework Bare Metal service overview in the install guide

Currently we have a detailed explanation of how ironic is architected,
but it resides in the user guide for some reason. This change moves
relevant bits to the install guide to the existing ""Bare Metal service
overview"" section. The text is cleaned up (e.g. s/ironic/Bare Metal/)
and ordered to simplify reading. A link to ironic-ui is added.

The user guide still contains the bits that are helpful for users
to understand the bare metal deployment process.

Change-Id: I17e38454f7893c00b71ac29328bd80d3978ed1f4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/84/554284/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/install/get_started.rst']",2,c9e079da683cdba1e45bddcc402b69104f683a55,refarch/logical,"The Bare Metal service, codenamed ``ironic``, is a collection of components that provides support to manage and provision physical machines. Bare Metal service components ----------------------------- The Bare Metal service includes the following components: ironic-api A RESTful API that processes application requests by sending them to the ironic-conductor over `remote procedure call (RPC)`_. Can be run through WSGI_ or as a separate process. ironic-conductor Adds/edits/deletes nodes; powers on/off nodes with IPMI or other vendor-specific protocol; provisions/deploys/cleans bare metal nodes. ironic-conductor uses :doc:`drivers </install/enabling-drivers>` to execute operations on hardware. ironic-python-agent A python service which is run in a temporary ramdisk to provide ironic-conductor and ironic-inspector services with remote access, in-band hardware control, and hardware introspection. Additionally, the Bare Metal service has certain external dependencies, which are very similar to other OpenStack services: - A database to store hardware information and state. You can set the database back-end type and location. A simple approach is to use the same database back end as the Compute service. Another approach is to use a separate database back-end to further isolate bare metal resources (and associated metadata) from users. - An oslo.messaging_ compatible queue, such as RabbitMQ. It may use the same implementation as that of the Compute service, but that is not a requirement. Used to implement RPC between ironic-api and ironic-conductor. Deployment architecture ----------------------- The Bare Metal RESTful API service is used to enroll hardware that the Bare Metal service will manage. A cloud administrator usually registers it, specifying their attributes such as MAC addresses and IPMI credentials. There can be multiple instances of the API service. The *ironic-conductor* process does the bulk of the work. For security reasons, it is advisable to place it on an isolated host, since it is the only service that requires access to both the data plane and IPMI control plane. There can be multiple instances of the conductor service to support various class of drivers and also to manage fail over. Instances of the conductor service should be on separate nodes. Each conductor can itself run many drivers to operate heterogeneous hardware. This is depicted in the following figure. .. figure:: ../images/deployment_architecture_2.png :alt: Deployment Architecture The API exposes a list of supported drivers and the names of conductor hosts servicing them. Interaction with OpenStack components ------------------------------------- The Bare Metal service may, depending upon configuration, interact with several other OpenStack services. This includes:Logical architecture -------------------- The diagram below shows the logical architecture. It shows the basic components that form the Bare Metal service, the relation of the Bare Metal service with other OpenStack services and the logical flow of a boot instance request resulting in the provisioning of a physical server. .. figure:: ../images/logical_architecture.png :alt: Logical Architecture A user's request to boot an instance is passed to the Compute service via the Compute API and the Compute Scheduler. The Compute service uses the *ironic virt driver* to hand over this request to the Bare Metal service, where the request passes from the Bare Metal API, to the Conductor, to a Driver to successfully provision a physical server for the user. Just as the Compute service talks to various OpenStack services like Image, Network, Object Store etc to provision a virtual machine instance, here the Bare Metal service talks to the same OpenStack services for image, network and other resource needs to provision a bare metal instance. See :ref:`understanding-deployment` for a more detailed breakdown of a typical deployment process. Associated projects -------------------ironic-ui_ Horizon dashboard, providing graphical interface (GUI) for the Bare Metal API. .. _remote procedure call (RPC): https://en.wikipedia.org/wiki/Remote_procedure_call .. _WSGI: https://en.wikipedia.org/wiki/Web_Server_Gateway_Interface .. _oslo.messaging: https://docs.openstack.org/oslo.messaging/latest/.. _ironic-ui: https://docs.openstack.org/ironic-ui/latest/","The Bare Metal service is a collection of components that provides support to manage and provision physical machines. Also known as the ``ironic`` project, the Bare Metal service may, depending upon configuration, interact with several other OpenStack services. This includes:The Bare Metal service includes the following components: ironic-api A RESTful API that processes application requests by sending them to the ironic-conductor over `remote procedure call (RPC)`_. ironic-conductor Adds/edits/deletes nodes; powers on/off nodes with ipmi or other vendor-specific protocol; provisions/deploys/cleans bare metal nodes. ironic-python-agent A python service which is run in a temporary ramdisk to provide ironic-conductor and ironic-inspector services with remote access, in-band hardware control, and hardware introspection. .. _`remote procedure call (RPC)`: https://en.wikipedia.org/wiki/Remote_procedure_call Additionally, the Bare Metal service has certain external dependencies, which are very similar to other OpenStack services: - A database to store hardware information and state. You can set the database back-end type and location. A simple approach is to use the same database back end as the Compute service. Another approach is to use a separate database back-end to further isolate bare metal resources (and associated metadata) from users. - An oslo.messaging compatible queue, such as RabbitMQ. It may use the same implementation as that of the Compute service, but that is not a requirement.",96,91
openstack%2Fnova~master~If0433c7a6d988165d854e965f3b7d498af3f952d,openstack/nova,master,If0433c7a6d988165d854e965f3b7d498af3f952d,Remove old flavor_access_remove db api method,MERGED,2018-01-31 22:24:46.000000000,2018-03-20 17:35:57.000000000,2018-03-20 17:35:56.000000000,"[{'_account_id': 5754}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-31 22:24:46.000000000', 'files': ['nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/39e54d5d442e740c4f5e32acdb70f55b1d42f919', 'message': ""Remove old flavor_access_remove db api method\n\nWe haven't used this since the flavor migration compat\ncode was removed:\n\nI4107af592448e20fe929f8fa3112929e3685b581\n\nChange-Id: If0433c7a6d988165d854e965f3b7d498af3f952d\n""}]",0,539709,39e54d5d442e740c4f5e32acdb70f55b1d42f919,16,12,1,6873,,,0,"Remove old flavor_access_remove db api method

We haven't used this since the flavor migration compat
code was removed:

I4107af592448e20fe929f8fa3112929e3685b581

Change-Id: If0433c7a6d988165d854e965f3b7d498af3f952d
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/539709/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",3,39e54d5d442e740c4f5e32acdb70f55b1d42f919,rm-old-db-flavor-apis,,"@pick_context_manager_writer def flavor_access_remove(context, flavor_id, project_id): """"""Remove given tenant from the flavor access list."""""" instance_type_id = _flavor_get_id_from_flavor(context, flavor_id) count = _flavor_access_query(context).\ filter_by(instance_type_id=instance_type_id).\ filter_by(project_id=project_id).\ soft_delete(synchronize_session=False) if count == 0: raise exception.FlavorAccessNotFound(flavor_id=flavor_id, project_id=project_id) ",0,50
openstack%2Fopenstack-helm-infra~master~I2bb381c227b06f5c511497b3e1720f9336f6d1c8,openstack/openstack-helm-infra,master,I2bb381c227b06f5c511497b3e1720f9336f6d1c8,calico: only specify ipv6 listen address if we have one,MERGED,2018-03-13 21:38:07.000000000,2018-03-20 17:29:23.000000000,2018-03-20 17:29:23.000000000,"[{'_account_id': 7769}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 25907}, {'_account_id': 26628}]","[{'number': 1, 'created': '2018-03-13 21:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b3a790e1a6e93ebff14c5b52be5361c54ead3698', 'message': 'calico: only specify ipv6 listen address if we have one\n\nChange-Id: I2bb381c227b06f5c511497b3e1720f9336f6d1c8\n'}, {'number': 2, 'created': '2018-03-13 21:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aaae760b7ec342a3f9ffd6a3ef07a885a29af7fb', 'message': 'calico: only specify ipv6 listen address if we have one\n\nChange-Id: I2bb381c227b06f5c511497b3e1720f9336f6d1c8\n'}, {'number': 3, 'created': '2018-03-20 15:40:45.000000000', 'files': ['calico/templates/etc/bird/_bird6.cfg.mesh.template.tpl', 'calico/templates/etc/bird/_bird6.cfg.no-mesh.template.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3c66523aabce3130714a68dc70bcad553cefd751', 'message': 'calico: only specify ipv6 listen address if we have one\n\nChange-Id: I2bb381c227b06f5c511497b3e1720f9336f6d1c8\n'}]",0,552690,3c66523aabce3130714a68dc70bcad553cefd751,12,6,3,8898,,,0,"calico: only specify ipv6 listen address if we have one

Change-Id: I2bb381c227b06f5c511497b3e1720f9336f6d1c8
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/90/552690/3 && git format-patch -1 --stdout FETCH_HEAD,['calico/templates/etc/bird/_bird6.cfg.no-mesh.template.tpl'],1,b3a790e1a6e93ebff14c5b52be5361c54ead3698,calico-fix-ipv6, # ensure we only listen to a specific ip and address listen bgp address {{`{{$node_ip6}}`}} port {{.Values.networking.bgp.ipv6.no_mesh.port.listen}}; ,# ensure we only listen to a specific ip and address listen bgp address {{`{{$node_ip6}}`}} port {{.Values.networking.bgp.ipv6.no_mesh.port.listen}}; ,4,3
openstack%2Fhorizon~master~Ie49a522b28aaf6e028c5b218968d68189dd7eef1,openstack/horizon,master,Ie49a522b28aaf6e028c5b218968d68189dd7eef1,Add plugin xstatic modules support,MERGED,2018-03-13 03:15:53.000000000,2018-03-20 17:25:56.000000000,2018-03-20 17:25:55.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 19224}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-03-13 03:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/913c9b12070500337129460f985e10cb7f646e97', 'message': 'Add plugin xstatic modules support\n\nThis patch allows Horizon to accept additional xstatic modules\n in plugin dashboards. Related static files would be collected\n and included in every page.\n\nChange-Id: Ie49a522b28aaf6e028c5b218968d68189dd7eef1\nCloses-Bug: #1755339\n'}, {'number': 2, 'created': '2018-03-14 04:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/36fd716ee0d04c6c836ef58ede7dd7e4991455a7', 'message': 'Add plugin xstatic modules support\n\nThis patch allows Horizon to accept additional xstatic modules\n in plugin dashboards. Related static files would be collected\n and included in every page.\n\nChange-Id: Ie49a522b28aaf6e028c5b218968d68189dd7eef1\nCloses-Bug: #1755339\n'}, {'number': 3, 'created': '2018-03-14 05:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/577334c696f309cac7019caf077c4afec5e2ac18', 'message': 'Add plugin xstatic modules support\n\nThis patch allows Horizon to accept additional xstatic modules\n in plugin dashboards. Related static files would be collected\n and included in every page.\n\nChange-Id: Ie49a522b28aaf6e028c5b218968d68189dd7eef1\nCloses-Bug: #1755339\n'}, {'number': 4, 'created': '2018-03-16 04:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8454614e4672eb7b559ba1a7cc0a9f531e83dd27', 'message': 'Add plugin xstatic modules support\n\nThis patch allows Horizon to accept additional xstatic modules\n in plugin dashboards. Related static files would be collected\n and included in every page.\n\nChange-Id: Ie49a522b28aaf6e028c5b218968d68189dd7eef1\nCloses-Bug: #1755339\n'}, {'number': 5, 'created': '2018-03-16 04:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/da21d33c893499c0f0c46aeb3204e4aa7c3d2d5f', 'message': 'Add plugin xstatic modules support\n\nThis patch allows Horizon to accept additional xstatic modules\n in plugin dashboards. Related static files would be collected\n and included in every page.\n\nChange-Id: Ie49a522b28aaf6e028c5b218968d68189dd7eef1\nCloses-Bug: #1755339\n'}, {'number': 6, 'created': '2018-03-19 05:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c71adc2214e92441508227e403ff4f76d8bf8124', 'message': 'Add plugin xstatic modules support\n\nThis patch allows Horizon to accept additional xstatic modules\n in plugin dashboards. Related static files would be collected\n and included in every page.\n\nChange-Id: Ie49a522b28aaf6e028c5b218968d68189dd7eef1\nCloses-Bug: #1755339\n'}, {'number': 7, 'created': '2018-03-20 02:39:46.000000000', 'files': ['doc/source/configuration/pluggable_panels.rst', 'openstack_dashboard/test/test_plugins/panel_config/_10_admin_add_panel.py', 'openstack_dashboard/test/test_plugins/panel_tests.py', 'openstack_dashboard/utils/settings.py', 'openstack_dashboard/settings.py', 'releasenotes/notes/bug-1755339-2dfa3ce2accb568f.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/1f93e64a3d8a582d1cc0aef88c4e6b9b5d5de703', 'message': 'Add plugin xstatic modules support\n\nThis patch allows Horizon to accept additional xstatic modules\n in plugin dashboards. Related static files would be collected\n and included in every page.\n\nChange-Id: Ie49a522b28aaf6e028c5b218968d68189dd7eef1\nCloses-Bug: #1755339\n'}]",10,552259,1f93e64a3d8a582d1cc0aef88c4e6b9b5d5de703,31,6,7,19224,,,0,"Add plugin xstatic modules support

This patch allows Horizon to accept additional xstatic modules
 in plugin dashboards. Related static files would be collected
 and included in every page.

Change-Id: Ie49a522b28aaf6e028c5b218968d68189dd7eef1
Closes-Bug: #1755339
",git fetch https://review.opendev.org/openstack/horizon refs/changes/59/552259/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/pluggable_panels.rst', 'openstack_dashboard/utils/settings.py', 'openstack_dashboard/settings.py']",3,913c9b12070500337129460f985e10cb7f646e97,bug/1755339," STATICFILES_DIRS += settings_utils.get_xstatic_dirs( HORIZON_CONFIG['xstatic_modules'], HORIZON_CONFIG) ",,18,1
openstack%2Fvirtualbmc~master~I29a5071b68643914b8e4b1988700e6ec772195a6,openstack/virtualbmc,master,I29a5071b68643914b8e4b1988700e6ec772195a6,Updated from global requirements,MERGED,2018-03-13 07:37:22.000000000,2018-03-20 17:18:55.000000000,2018-03-20 17:18:55.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 07:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/d7bb47421227ef1e65c83d548b6acb823d55fd84', 'message': 'Updated from global requirements\n\nChange-Id: I29a5071b68643914b8e4b1988700e6ec772195a6\n'}, {'number': 2, 'created': '2018-03-15 09:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/8cf036678f7734d25be56f3e2737f08020c016f4', 'message': 'Updated from global requirements\n\nChange-Id: I29a5071b68643914b8e4b1988700e6ec772195a6\n'}, {'number': 3, 'created': '2018-03-16 03:55:03.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/bf64f4d4a4616c74e116a87b0ed0492c3b945ed5', 'message': 'Updated from global requirements\n\nChange-Id: I29a5071b68643914b8e4b1988700e6ec772195a6\n'}]",0,552411,bf64f4d4a4616c74e116a87b0ed0492c3b945ed5,12,3,3,11131,,,0,"Updated from global requirements

Change-Id: I29a5071b68643914b8e4b1988700e6ec772195a6
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/11/552411/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d7bb47421227ef1e65c83d548b6acb823d55fd84,openstack/requirements,"sphinx!=1.6.6,>=1.6.2 # BSD","sphinx!=1.6.6,<1.7.0,>=1.6.2 # BSD",1,1
openstack%2Fpython-manilaclient~master~Ib1d5615808fdcdf9457a13acb13fc915b9d88734,openstack/python-manilaclient,master,Ib1d5615808fdcdf9457a13acb13fc915b9d88734,Update reno for stable/queens,MERGED,2018-02-01 17:43:49.000000000,2018-03-20 17:16:55.000000000,2018-03-20 17:16:55.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-01 17:43:49.000000000', 'files': ['releasenotes/source/queens.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b55e0566a132e32449877eac57b805a10445a897', 'message': 'Update reno for stable/queens\n\nChange-Id: Ib1d5615808fdcdf9457a13acb13fc915b9d88734\n'}]",0,540061,b55e0566a132e32449877eac57b805a10445a897,6,2,1,22816,,,0,"Update reno for stable/queens

Change-Id: Ib1d5615808fdcdf9457a13acb13fc915b9d88734
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/61/540061/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/queens.rst', 'releasenotes/source/index.rst']",2,b55e0566a132e32449877eac57b805a10445a897,reno-queens, queens,,7,0
openstack%2Fironic-inspector~master~I7e55c4070c41927f05c2cfdd284c8d542f1d8906,openstack/ironic-inspector,master,I7e55c4070c41927f05c2cfdd284c8d542f1d8906,test_failure_to_write fails with root user,MERGED,2018-03-01 09:26:46.000000000,2018-03-20 17:11:47.000000000,2018-03-20 17:11:46.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 12860}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2018-03-01 09:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/681b4b9faba4a8d5d056a99b83f38ac91ea1dc2f', 'message': 'test_failure_to_write fails with root user\n\nThe test test_failure_to_write will fail with root user, it makes no\nsense as root has such privilege.\n\nThis patch add check to skip the test if current user executing unittest\nis root.\n\nChange-Id: I7e55c4070c41927f05c2cfdd284c8d542f1d8906\nCloses-Bug: #1693129\n'}, {'number': 2, 'created': '2018-03-01 11:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/2cc47e502e17aef134d846f7ad6230d1753954c1', 'message': 'test_failure_to_write fails with root user\n\nThe test test_failure_to_write will fail with root user, it makes no\nsense as root has such privilege.\n\nThis patch add codes to differentiate two use cases.\n\nChange-Id: I7e55c4070c41927f05c2cfdd284c8d542f1d8906\nCloses-Bug: #1693129\n'}, {'number': 3, 'created': '2018-03-15 06:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/838b2aa9a08c4c83fe8734906af4ec6c02070118', 'message': 'test_failure_to_write fails with root user\n\nThe test test_failure_to_write will fail with root user, it makes no\nsense as root has such privilege.\n\nThis patch add codes to differentiate two use cases.\n\nChange-Id: I7e55c4070c41927f05c2cfdd284c8d542f1d8906\nCloses-Bug: #1693129\n'}, {'number': 4, 'created': '2018-03-15 07:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/e2f758550b171a580b3271e51445ade283f7dbd4', 'message': 'test_failure_to_write fails with root user\n\nThe test test_failure_to_write will fail with root.\n\nThis patch add a mock to prevent path creation, makes the test\nfits for root and non-root user.\n\nChange-Id: I7e55c4070c41927f05c2cfdd284c8d542f1d8906\nCloses-Bug: #1693129\n'}, {'number': 5, 'created': '2018-03-20 08:09:56.000000000', 'files': ['ironic_inspector/test/unit/test_process.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0c159b021e8aaef3c4cb1173c09f40a8499aea7e', 'message': 'test_failure_to_write fails with root user\n\nThe test test_failure_to_write will fail with root.\n\nThis patch add a mock to prevent path creation, makes the test\nfits for root and non-root user.\n\nChange-Id: I7e55c4070c41927f05c2cfdd284c8d542f1d8906\nCloses-Bug: #1693129\n'}]",9,548884,0c159b021e8aaef3c4cb1173c09f40a8499aea7e,28,5,5,24828,,,0,"test_failure_to_write fails with root user

The test test_failure_to_write will fail with root.

This patch add a mock to prevent path creation, makes the test
fits for root and non-root user.

Change-Id: I7e55c4070c41927f05c2cfdd284c8d542f1d8906
Closes-Bug: #1693129
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/84/548884/4 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/test/unit/test_process.py'],1,681b4b9faba4a8d5d056a99b83f38ac91ea1dc2f,bug/1693129,import getpass if getpass.getuser() == 'root': self.skipTest('Makes no sense for root user'),,3,0
openstack%2Fpuppet-tripleo~master~I67809c7a754fb2569baf389daa056b3cdac071f0,openstack/puppet-tripleo,master,I67809c7a754fb2569baf389daa056b3cdac071f0,ironic-inspector: enable support for dnsmasq PXE filter,MERGED,2017-12-04 14:08:41.000000000,2018-03-20 17:09:23.000000000,2018-03-20 17:09:23.000000000,"[{'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23327}, {'_account_id': 24245}]","[{'number': 1, 'created': '2017-12-04 14:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e676fe507644417d82dacc51f2e82fcbdb3202b0', 'message': 'ironic-inspector: enable support for dnsmasq PXE filter\n\nChange-Id: I67809c7a754fb2569baf389daa056b3cdac071f0\nDepends-On: I056cdadc025f35d8b6fd22f510a7c0a8e259a1f0\n'}, {'number': 2, 'created': '2017-12-12 07:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8c0e37ddceb7cfff983a2db55df64ee601a8de4f', 'message': 'ironic-inspector: enable support for dnsmasq PXE filter\n\nChange-Id: I67809c7a754fb2569baf389daa056b3cdac071f0\nDepends-On: I056cdadc025f35d8b6fd22f510a7c0a8e259a1f0\n'}, {'number': 3, 'created': '2018-03-15 13:21:03.000000000', 'files': ['manifests/profile/base/ironic_inspector.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4bd257bb1e23921ccee1fa92b2f44b3718288c2b', 'message': 'ironic-inspector: enable support for dnsmasq PXE filter\n\nChange-Id: I67809c7a754fb2569baf389daa056b3cdac071f0\nDepends-On: I056cdadc025f35d8b6fd22f510a7c0a8e259a1f0\n'}]",2,525203,4bd257bb1e23921ccee1fa92b2f44b3718288c2b,32,7,3,10239,,,0,"ironic-inspector: enable support for dnsmasq PXE filter

Change-Id: I67809c7a754fb2569baf389daa056b3cdac071f0
Depends-On: I056cdadc025f35d8b6fd22f510a7c0a8e259a1f0
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/03/525203/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/ironic_inspector.pp'],1,e676fe507644417d82dacc51f2e82fcbdb3202b0,pxe_filter, include ::ironic::inspector::pxe_filter include ::ironic::inspector::pxe_filter::dnsmasq,,2,0
openstack%2Foslo.config~master~I2f41c882049964f1f6da07ed06330a81a73b2cfb,openstack/oslo.config,master,I2f41c882049964f1f6da07ed06330a81a73b2cfb,WIP! sphinxext: Move some functions into directive class scope,ABANDONED,2018-03-16 17:30:34.000000000,2018-03-20 17:05:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-16 17:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/fb9c2ea7fc303578c06b1bdb120bec6692bbc986', 'message': ""WIP! sphinxext: Move some functions into directive class scope\n\nWe're going to need access to some instance attributes. It's easier to\nmove all this into class scope rather than pass everything around as\nparameters.\n\nChange-Id: I2f41c882049964f1f6da07ed06330a81a73b2cfb\n""}, {'number': 2, 'created': '2018-03-20 15:46:07.000000000', 'files': ['oslo_config/sphinxext.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/a59929c8f81b56f54de9ce0a8bb335a658b6eb5a', 'message': ""WIP! sphinxext: Move some functions into directive class scope\n\nWe're going to need access to some instance attributes. It's easier to\nmove all this into class scope rather than pass everything around as\nparameters.\n\nChange-Id: I2f41c882049964f1f6da07ed06330a81a73b2cfb\n""}]",0,553861,a59929c8f81b56f54de9ce0a8bb335a658b6eb5a,4,1,2,15334,,,0,"WIP! sphinxext: Move some functions into directive class scope

We're going to need access to some instance attributes. It's easier to
move all this into class scope rather than pass everything around as
parameters.

Change-Id: I2f41c882049964f1f6da07ed06330a81a73b2cfb
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/61/553861/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/sphinxext.py'],1,fb9c2ea7fc303578c06b1bdb120bec6692bbc986,bug/1755783," def _format_group_opts(self, namespace, group_name, group_obj, opt_list): group_name = group_name or 'DEFAULT' self.app.debug('[oslo.config] %s %s' % (namespace, group_name)) for line in _format_group(namespace, group_name, group_obj): yield line for opt in opt_list: for line in _format_opt(opt, group_name): yield line def _format_option_help(self, namespaces, split_namespaces): """"""Generate a series of lines of restructuredtext. Format the option help as restructuredtext and return it as a list of lines. """""" opts = generator._list_opts(namespaces) if split_namespaces: for namespace, opt_list in opts: for group, opts in opt_list: if isinstance(group, cfg.OptGroup): group_name = group.name else: group_name = group group = None if group_name is None: group_name = 'DEFAULT' lines = self._format_group_opts( namespace=namespace, group_name=group_name, group_obj=group, opt_list=opts, ) for line in lines: yield line else: # Merge the options from different namespaces that belong to # the same group together and format them without the # namespace. by_section = {} group_objs = {} for ignore, opt_list in opts: for group, group_opts in opt_list: if isinstance(group, cfg.OptGroup): group_name = group.name else: group_name = group group = None if group_name is None: group_name = 'DEFAULT' group_objs.setdefault(group_name, group) by_section.setdefault(group_name, []).extend(group_opts) for group_name, group_opts in sorted(by_section.items()): lines = self._format_group_opts( namespace=None, group_name=group_name, group_obj=group_objs.get(group_name), opt_list=group_opts, ) for line in lines: yield line def run(self): self.app = self.state.document.settings.env.app self.app.info('loading config file %s' % config_file)","def _format_group_opts(app, namespace, group_name, group_obj, opt_list): group_name = group_name or 'DEFAULT' app.debug('[oslo.config] %s %s' % (namespace, group_name)) for line in _format_group(namespace, group_name, group_obj): yield line for opt in opt_list: for line in _format_opt(opt, group_name): yield line def _format_option_help(app, namespaces, split_namespaces): """"""Generate a series of lines of restructuredtext. Format the option help as restructuredtext and return it as a list of lines. """""" opts = generator._list_opts(namespaces) if split_namespaces: for namespace, opt_list in opts: for group, opts in opt_list: if isinstance(group, cfg.OptGroup): group_name = group.name else: group_name = group group = None if group_name is None: group_name = 'DEFAULT' lines = _format_group_opts( app=app, namespace=namespace, group_name=group_name, group_obj=group, opt_list=opts, ) for line in lines: yield line else: # Merge the options from different namespaces that belong to # the same group together and format them without the # namespace. by_section = {} group_objs = {} for ignore, opt_list in opts: for group, group_opts in opt_list: if isinstance(group, cfg.OptGroup): group_name = group.name else: group_name = group group = None if group_name is None: group_name = 'DEFAULT' group_objs.setdefault(group_name, group) by_section.setdefault(group_name, []).extend(group_opts) for group_name, group_opts in sorted(by_section.items()): lines = _format_group_opts( app=app, namespace=None, group_name=group_name, group_obj=group_objs.get(group_name), opt_list=group_opts, ) for line in lines: yield line def run(self): env = self.state.document.settings.env app = env.app app.info('loading config file %s' % config_file)",66,72
openstack%2Foslo.config~master~I182f0d19e979b985edf0aa358b1b93c711ce063d,openstack/oslo.config,master,I182f0d19e979b985edf0aa358b1b93c711ce063d,WIP! sphinxext: Parse each opt group independently,ABANDONED,2018-03-16 17:30:34.000000000,2018-03-20 17:05:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-16 17:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/17fcd6cd5c4ff4e4321e6f6d44f48f3b8c8fc3d1', 'message': 'WIP! sphinxext: Parse each opt group independently\n\nAt present, badly formatted rST in \'Opt.help\' attributes will result in\nthe following, rather unhelpful warning message:\n\n  <oslo_config.sphinxext>:1:Unexpected indentation.\n\nThis is clearly useless and we want to provide more information.\nThe way to do this is to include the rST we generated on the \'source\'\nattribute of a \'ViewList\' object, allowing docutils reporters to link an\nerror to a particualar ""source"" line. However, for something like nova,\nthe entire source is more than 10,000 lines long, making this output\nextremely hard to parse.\n\nResolve this by parsing each option separately. This ensure our error\nmessages are localized to the offending option.\n\nChange-Id: I182f0d19e979b985edf0aa358b1b93c711ce063d\n'}, {'number': 2, 'created': '2018-03-20 15:46:07.000000000', 'files': ['oslo_config/sphinxext.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/25c7629184a0ddbe4a6cc538172431830106b56a', 'message': 'WIP! sphinxext: Parse each opt group independently\n\nAt present, badly formatted rST in \'Opt.help\' attributes will result in\nthe following, rather unhelpful warning message:\n\n  <oslo_config.sphinxext>:1:Unexpected indentation.\n\nThis is clearly useless and we want to provide more information.\nThe way to do this is to include the rST we generated on the \'source\'\nattribute of a \'ViewList\' object, allowing docutils reporters to link an\nerror to a particualar ""source"" line. However, for something like nova,\nthe entire source is more than 10,000 lines long, making this output\nextremely hard to parse.\n\nResolve this by parsing each option separately. This ensure our error\nmessages are localized to the offending option.\n\nChange-Id: I182f0d19e979b985edf0aa358b1b93c711ce063d\n'}]",0,553862,25c7629184a0ddbe4a6cc538172431830106b56a,4,1,2,15334,,,0,"WIP! sphinxext: Parse each opt group independently

At present, badly formatted rST in 'Opt.help' attributes will result in
the following, rather unhelpful warning message:

  <oslo_config.sphinxext>:1:Unexpected indentation.

This is clearly useless and we want to provide more information.
The way to do this is to include the rST we generated on the 'source'
attribute of a 'ViewList' object, allowing docutils reporters to link an
error to a particualar ""source"" line. However, for something like nova,
the entire source is more than 10,000 lines long, making this output
extremely hard to parse.

Resolve this by parsing each option separately. This ensure our error
messages are localized to the offending option.

Change-Id: I182f0d19e979b985edf0aa358b1b93c711ce063d
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/62/553862/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/sphinxext.py'],1,17fcd6cd5c4ff4e4321e6f6d44f48f3b8c8fc3d1,bug/1755783," def _generate_rst(source_name, lines): result = ViewList() for line in lines: result.append(line, source_name) node = nodes.Element() # With the resolution for bug #1755783, we now parse the 'Opt.help' # attribute as rST. Unfortunately, there are a lot of broken option # descriptions out there and we don't want to break peoples' builds # suddenly. As a result, we disable 'warning-is-error' temporarily. # Users will still see the warnings but the build will continue. with logging.skip_warningiserror(): nested_parse_with_titles(self.state, result, node) return node.children name = '[%s]' % group_name for child in _generate_rst(name, _format_group(namespace, group_name, group_obj)): yield child name = '[%s] %s' % (group_name, opt.dest) for child in _generate_rst(name, _format_opt(opt, group_name)): yield child child_nodes = self._format_group_opts( for child in child_nodes: yield child child_nodes = self._format_group_opts( for child in child_nodes: yield child return list(self._format_option_help(namespaces, split_namespaces))"," for line in _format_group(namespace, group_name, group_obj): yield line for line in _format_opt(opt, group_name): yield line lines = self._format_group_opts( for line in lines: yield line lines = self._format_group_opts( for line in lines: yield line result = ViewList() source_name = '<' + __name__ + '>' for line in _format_option_help(app, namespaces, split_namespaces): result.append(line, source_name) node = nodes.section() node.document = self.state.document # With the resolution for bug #1755783, we now parse the 'Opt.help' # attribute as rST. Unfortunately, there are a lot of broken option # descriptions out there and we don't want to break peoples' builds # suddenly. As a result, we disable 'warning-is-error' temporarily. # Users will still see the warnings but the build will continue. with logging.skip_warningiserror(): nested_parse_with_titles(self.state, result, node) return node.children",31,27
openstack%2Foslo.config~master~Ie6f34413dc051d6d23b3e62374f9fc5a60b252d0,openstack/oslo.config,master,Ie6f34413dc051d6d23b3e62374f9fc5a60b252d0,WIP! sphinxext: Add custom reporter,ABANDONED,2018-03-16 17:30:34.000000000,2018-03-20 17:05:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-16 17:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/b05e2932c5f3fcea3a35f31229332830a55276e3', 'message': ""WIP! sphinxext: Add custom reporter\n\nThis should allow us to dump the rendered text out somewhere so that\nline numbers actually make sense. Unfortunately, I can't get meaningful\nline numbers out. Still WIP.\n\nChange-Id: Ie6f34413dc051d6d23b3e62374f9fc5a60b252d0\n""}, {'number': 2, 'created': '2018-03-20 15:46:07.000000000', 'files': ['oslo_config/sphinxext.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/4d6e6454043513fec47c085ac0e3624584355f4d', 'message': ""WIP! sphinxext: Add custom reporter\n\nThis should allow us to dump the rendered text out somewhere so that\nline numbers actually make sense. Unfortunately, I can't get meaningful\nline numbers out. Still WIP.\n\nChange-Id: Ie6f34413dc051d6d23b3e62374f9fc5a60b252d0\n""}]",0,553863,4d6e6454043513fec47c085ac0e3624584355f4d,4,1,2,15334,,,0,"WIP! sphinxext: Add custom reporter

This should allow us to dump the rendered text out somewhere so that
line numbers actually make sense. Unfortunately, I can't get meaningful
line numbers out. Still WIP.

Change-Id: Ie6f34413dc051d6d23b3e62374f9fc5a60b252d0
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/63/553863/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/sphinxext.py'],1,b05e2932c5f3fcea3a35f31229332830a55276e3,bug/1755783,"from docutils import utilsclass Reporter(utils.Reporter): @classmethod def from_reporter(cls, reporter): return cls(reporter.source, reporter.report_level, reporter.halt_level, reporter.debug_flag, reporter.error_handler) def system_message(self, level, message, *children, **kwargs): # not a new-style class, so we can't use super msg = utils.Reporter.system_message(self, level, message, *children, **kwargs) print('Here we gooooooo!') return msg self.state.memo.reporter = Reporter.from_reporter( self.state.memo.reporter)",,18,1
openstack%2Fdevstack~master~I7bdf2be9a885994bf2c437dd104048a1ff2f6666,openstack/devstack,master,I7bdf2be9a885994bf2c437dd104048a1ff2f6666,functions-common: Don't reguess Python versions,MERGED,2018-01-18 15:28:57.000000000,2018-03-20 17:01:18.000000000,2018-03-19 18:39:14.000000000,"[{'_account_id': 1653}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-18 15:28:57.000000000', 'files': ['functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ffd0047afa78bfd4d6576afe1d4b8c79435b158c', 'message': ""functions-common: Don't reguess Python versions\n\nWe have already established the correct version of Python to use during\ninstallation, either automatically or through user-provided information\n(USE_PYTHON3, PYTHON3_VERSION). Don't do it again.\n\nChange-Id: I7bdf2be9a885994bf2c437dd104048a1ff2f6666\nCloses-Bug: #1744096\n""}]",0,535365,ffd0047afa78bfd4d6576afe1d4b8c79435b158c,27,9,1,15334,,,0,"functions-common: Don't reguess Python versions

We have already established the correct version of Python to use during
installation, either automatically or through user-provided information
(USE_PYTHON3, PYTHON3_VERSION). Don't do it again.

Change-Id: I7bdf2be9a885994bf2c437dd104048a1ff2f6666
Closes-Bug: #1744096
",git fetch https://review.opendev.org/openstack/devstack refs/changes/65/535365/1 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,ffd0047afa78bfd4d6576afe1d4b8c79435b158c,bug/1744096," total=$(cat $OSCWRAP_TIMER_FILE | $PYTHON -c ""import sys; print(sum(int(l) for l in sys.stdin))"")"," if python3_enabled ; then local python=python3 else local python=python fi total=$(cat $OSCWRAP_TIMER_FILE | $python -c ""import sys; print(sum(int(l) for l in sys.stdin))"")",1,6
openstack%2Fos-vif~master~Ic4327866190467596540efbf58ce774b9655b1cb,openstack/os-vif,master,Ic4327866190467596540efbf58ce774b9655b1cb,Add kuryr-kubernetes Tempest job,MERGED,2018-02-28 09:25:23.000000000,2018-03-20 17:00:12.000000000,2018-03-09 01:50:16.000000000,"[{'_account_id': 6873}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-28 09:25:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/dccbfb37824e3c207b71371cde432b547cc292d7', 'message': 'Add kuryr-kubernetes Tempest job\n\nkuryr-kubernetes is one of the consumers of os-vif. This commit adds a\ngate that will run it and test with kuryr-tempest-plugin.\n\nChange-Id: Ic4327866190467596540efbf58ce774b9655b1cb\n'}]",0,548525,dccbfb37824e3c207b71371cde432b547cc292d7,14,5,1,11600,,,0,"Add kuryr-kubernetes Tempest job

kuryr-kubernetes is one of the consumers of os-vif. This commit adds a
gate that will run it and test with kuryr-tempest-plugin.

Change-Id: Ic4327866190467596540efbf58ce774b9655b1cb
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/25/548525/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dccbfb37824e3c207b71371cde432b547cc292d7,kuryr-gate, - kuryr-kubernetes-tempest-daemon-octavia - kuryr-kubernetes-tempest-daemon-octavia,,2,0
openstack%2Fpuppet-openstack-integration~master~If3a1c1299de725c23e2586453c9ab85e9db988b8,openstack/puppet-openstack-integration,master,If3a1c1299de725c23e2586453c9ab85e9db988b8,Add integration_enable option to beaker test,MERGED,2018-03-20 05:45:51.000000000,2018-03-20 16:58:14.000000000,2018-03-20 16:58:14.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 05:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/74da728b9dccfb3b6f73eeda63074fdde66cd386', 'message': 'include expirer class to beaker test\n\nChange-Id: If3a1c1299de725c23e2586453c9ab85e9db988b8\n'}, {'number': 2, 'created': '2018-03-20 06:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/59760bcfa9cc57e26eb735a687a6814f17a88e9d', 'message': 'Add integration_enable option to beaker test\n\nChange-Id: If3a1c1299de725c23e2586453c9ab85e9db988b8\n'}, {'number': 3, 'created': '2018-03-20 07:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/451a69289bf0190e46d30bc380f1934595410e2f', 'message': 'Add integration_enable option to beaker test\n\nChange-Id: If3a1c1299de725c23e2586453c9ab85e9db988b8\n'}, {'number': 4, 'created': '2018-03-20 08:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ebf90e9d0dc63a227224e5e0ebed008d917be6d8', 'message': 'Add integration_enable option to beaker test\n\nChange-Id: If3a1c1299de725c23e2586453c9ab85e9db988b8\n'}, {'number': 5, 'created': '2018-03-20 09:18:41.000000000', 'files': ['manifests/ceilometer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/34a0a5c9800d54c55fade1d124e4d20556b8d9e8', 'message': 'Add integration_enable option to beaker test\n\nChange-Id: If3a1c1299de725c23e2586453c9ab85e9db988b8\n'}]",0,554415,34a0a5c9800d54c55fade1d124e4d20556b8d9e8,12,3,5,9414,,,0,"Add integration_enable option to beaker test

Change-Id: If3a1c1299de725c23e2586453c9ab85e9db988b8
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/15/554415/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ceilometer.pp'],1,74da728b9dccfb3b6f73eeda63074fdde66cd386,ceilometer-beaker-refactor, class { '::ceilometer::expirer': },,1,0
openstack%2Fopenstacksdk~master~I003f7064c13dc907833c2a1e66cc11a823d47be6,openstack/openstacksdk,master,I003f7064c13dc907833c2a1e66cc11a823d47be6,Fix 'block_store' aliases define error,MERGED,2018-03-20 02:50:08.000000000,2018-03-20 16:52:55.000000000,2018-03-20 16:52:55.000000000,"[{'_account_id': 2}, {'_account_id': 8246}, {'_account_id': 11975}, {'_account_id': 14119}, {'_account_id': 21690}, {'_account_id': 22348}, {'_account_id': 25167}]","[{'number': 1, 'created': '2018-03-20 02:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d6eccd2ef22b7269272772fefe7666b98e081940', 'message': ""Fix 'block_store' aliases define error\n\nThis patch fix volume aliases error, the service type use\n'block-storage', but aliases define use 'block_storage'.\nSo, Can't use 'block_store' finish list volumes.\n\nChange-Id: I003f7064c13dc907833c2a1e66cc11a823d47be6\nCloses-Bug: #1757032\n""}, {'number': 2, 'created': '2018-03-20 07:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3133427509cf53f182cc1a65390cc762b3b8c5ce', 'message': ""Fix 'block_store' aliases define error\n\nThis patch fix volume aliases error, the service type use\n'block-storage', but aliases define use 'block_storage'.\nSo, Can't use 'block_store' finish list volumes.\n\nChange-Id: I003f7064c13dc907833c2a1e66cc11a823d47be6\nCloses-Bug: #1757032\n""}, {'number': 3, 'created': '2018-03-20 07:26:56.000000000', 'files': ['openstack/_meta/connection.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ca3c3def347faa4dd610c54753d75b6472ef0457', 'message': ""Fix 'block_store' aliases define error\n\nThis patch fix volume aliases error, the service type use\n'block-storage', but aliases define use 'block_storage'.\nSo, Can't use 'block_store' finish list volumes.\n\nChange-Id: I003f7064c13dc907833c2a1e66cc11a823d47be6\nCloses-Bug: #1757032\n""}]",0,554403,ca3c3def347faa4dd610c54753d75b6472ef0457,12,7,3,23517,,,0,"Fix 'block_store' aliases define error

This patch fix volume aliases error, the service type use
'block-storage', but aliases define use 'block_storage'.
So, Can't use 'block_store' finish list volumes.

Change-Id: I003f7064c13dc907833c2a1e66cc11a823d47be6
Closes-Bug: #1757032
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/03/554403/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/_meta/connection.py'],1,d6eccd2ef22b7269272772fefe7666b98e081940,bug/1757032," 'block-storage': 'block_store',"," 'block_storage': 'block_store',",1,1
openstack%2Fpuppet-keystone~master~I1b0b7a169cc35f83c8a23773030fefaabd1b3bb9,openstack/puppet-keystone,master,I1b0b7a169cc35f83c8a23773030fefaabd1b3bb9,Remove deprecated user_allow_* and group_allow_* options for ldap,MERGED,2018-03-20 06:37:48.000000000,2018-03-20 16:45:00.000000000,2018-03-20 16:45:00.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 06:37:48.000000000', 'files': ['manifests/ldap.pp', 'releasenotes/notes/remove-deprecate-user-group_allow_ldap-params-4a1b6d9a53d7d818.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/de4e1b4baf05ddc9e0982a16dba3c7ddb74f22b3', 'message': 'Remove deprecated user_allow_* and group_allow_* options for ldap\n\nChange-Id: I1b0b7a169cc35f83c8a23773030fefaabd1b3bb9\n'}]",0,554425,de4e1b4baf05ddc9e0982a16dba3c7ddb74f22b3,7,3,1,9414,,,0,"Remove deprecated user_allow_* and group_allow_* options for ldap

Change-Id: I1b0b7a169cc35f83c8a23773030fefaabd1b3bb9
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/25/554425/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ldap.pp', 'releasenotes/notes/remove-deprecate-user-group_allow_ldap-params-4a1b6d9a53d7d818.yaml']",2,de4e1b4baf05ddc9e0982a16dba3c7ddb74f22b3,remove_ldap_user_group_options,--- other: - Remove deprecated user_allow_* and group_allow_* options for ldap. ,,3,43
openstack%2Frequirements~stable%2Focata~Ia358176cd9d590ac153fcf6bd9da34e2425ff3ee,openstack/requirements,stable/ocata,Ia358176cd9d590ac153fcf6bd9da34e2425ff3ee,Bump ryu to 4.18 to avoid pip import issues,MERGED,2018-03-19 19:59:29.000000000,2018-03-20 16:44:12.000000000,2018-03-20 16:44:12.000000000,"[{'_account_id': 6873}, {'_account_id': 9542}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 19:59:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1e083914af0e8c93ce8dc49300bcc3e39d78637b', 'message': 'Bump ryu to 4.18 to avoid pip import issues\n\nImporting pip in code is apparently not supported, but the ryu\nlibrary is using it internally. Version 4.18 included a change\nto only import pip where needed in a specific method that we\nappear to not call from any OpenStack code. Bumping u-c to pick\nup this change and test with affected projects.\n\nPip issue with more details:\nhttps://github.com/pypa/pip/issues/5081\n\nChange-Id: Ia358176cd9d590ac153fcf6bd9da34e2425ff3ee\nDepends-on: https://review.openstack.org/554338\n'}]",1,554346,1e083914af0e8c93ce8dc49300bcc3e39d78637b,14,6,1,11904,,,0,"Bump ryu to 4.18 to avoid pip import issues

Importing pip in code is apparently not supported, but the ryu
library is using it internally. Version 4.18 included a change
to only import pip where needed in a specific method that we
appear to not call from any OpenStack code. Bumping u-c to pick
up this change and test with affected projects.

Pip issue with more details:
https://github.com/pypa/pip/issues/5081

Change-Id: Ia358176cd9d590ac153fcf6bd9da34e2425ff3ee
Depends-on: https://review.openstack.org/554338
",git fetch https://review.opendev.org/openstack/requirements refs/changes/46/554346/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1e083914af0e8c93ce8dc49300bcc3e39d78637b,pip/5081,ryu===4.18,ryu===4.10,1,1
openstack%2Frequirements~stable%2Fpike~I571205ee9df61d2d3c74e15e498122205eb1320b,openstack/requirements,stable/pike,I571205ee9df61d2d3c74e15e498122205eb1320b,update constraint for oslo.utils to new release 3.28.2,MERGED,2018-03-19 22:40:49.000000000,2018-03-20 16:44:11.000000000,2018-03-20 16:44:10.000000000,"[{'_account_id': 1004}, {'_account_id': 6593}, {'_account_id': 6873}, {'_account_id': 8655}, {'_account_id': 9542}, {'_account_id': 11904}, {'_account_id': 13404}, {'_account_id': 14288}, {'_account_id': 14676}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 22:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b4538dffd236b011c34118671629c3ff33486f86', 'message': 'update constraint for oslo.utils to new release 3.28.2\n\nChange-Id: I571205ee9df61d2d3c74e15e498122205eb1320b\nmeta:version: 3.28.2\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I2cf0d148b7d2b1178b1211682a6223bf707764ee\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-03-20 00:33:09.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/188248aab9bb834023a6cbe2f5e488e30e6046a3', 'message': 'update constraint for oslo.utils to new release 3.28.2\n\nAlso updates ryu to 4.18 to avoid pip import issues.\n\nChange-Id: I571205ee9df61d2d3c74e15e498122205eb1320b\nmeta:version: 3.28.2\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I2cf0d148b7d2b1178b1211682a6223bf707764ee\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,554374,188248aab9bb834023a6cbe2f5e488e30e6046a3,22,11,2,11131,,,0,"update constraint for oslo.utils to new release 3.28.2

Also updates ryu to 4.18 to avoid pip import issues.

Change-Id: I571205ee9df61d2d3c74e15e498122205eb1320b
meta:version: 3.28.2
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I2cf0d148b7d2b1178b1211682a6223bf707764ee
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/74/554374/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b4538dffd236b011c34118671629c3ff33486f86,pip/5081,oslo.utils===3.28.2,oslo.utils===3.28.1,1,1
openstack%2Fzun-tempest-plugin~master~I94430e252f688dcf074cbd32be5f28c328f4c009,openstack/zun-tempest-plugin,master,I94430e252f688dcf074cbd32be5f28c328f4c009,Updated from global requirements,MERGED,2018-03-15 09:41:29.000000000,2018-03-20 16:42:06.000000000,2018-03-20 16:42:06.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 09:41:29.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/0375128c2e9c39d926c3bb6dc39ede53209d4927', 'message': 'Updated from global requirements\n\nChange-Id: I94430e252f688dcf074cbd32be5f28c328f4c009\n'}]",0,553306,0375128c2e9c39d926c3bb6dc39ede53209d4927,7,2,1,11131,,,0,"Updated from global requirements

Change-Id: I94430e252f688dcf074cbd32be5f28c328f4c009
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/06/553306/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,0375128c2e9c39d926c3bb6dc39ede53209d4927,openstack/requirements,"sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",1,1
openstack%2Fpython-manilaclient~master~Ia43756983524cd5d9b90f358ccfe821b190ac300,openstack/python-manilaclient,master,Ia43756983524cd5d9b90f358ccfe821b190ac300,"Fix to use ""."" to source script files",ABANDONED,2017-08-28 18:29:33.000000000,2018-03-20 16:40:29.000000000,,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23512}]","[{'number': 1, 'created': '2017-08-28 18:29:33.000000000', 'files': ['tools/install_venv.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f3887dbc9e5d1c6585b66d2c9ce778e31e7aed6a', 'message': 'Fix to use ""."" to source script files\n\nAdhering to coding conventions. Refer to ``Code conventions`` at\nhttps://docs.openstack.org/contributor-guide/ for details.\n\nChange-Id: Ia43756983524cd5d9b90f358ccfe821b190ac300\n'}]",0,498557,f3887dbc9e5d1c6585b66d2c9ce778e31e7aed6a,9,7,1,17130,,,0,"Fix to use ""."" to source script files

Adhering to coding conventions. Refer to ``Code conventions`` at
https://docs.openstack.org/contributor-guide/ for details.

Change-Id: Ia43756983524cd5d9b90f358ccfe821b190ac300
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/57/498557/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/install_venv.py'],1,f3887dbc9e5d1c6585b66d2c9ce778e31e7aed6a,docfix, $ . .venv/bin/activate, $ source .venv/bin/activate,1,1
openstack%2Fzun-tempest-plugin~master~Ic088bc26bf786f2844d4fba5dbeca0a3256ad8a9,openstack/zun-tempest-plugin,master,Ic088bc26bf786f2844d4fba5dbeca0a3256ad8a9,Cleanup the created security groups,MERGED,2018-02-14 03:48:02.000000000,2018-03-20 16:39:09.000000000,2018-03-20 16:39:09.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-02-14 03:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/68652bd8f21001e8c49669c365645206ea744cd8', 'message': 'Cleanup the created security groups\n\nThe security groups created in test needs to be cleanup after.\nIn addition, refactor the image cleanup code.\n\nChange-Id: Ic088bc26bf786f2844d4fba5dbeca0a3256ad8a9\n'}, {'number': 2, 'created': '2018-03-04 20:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/71bc355d2681d8d2ffeca3254b92524139d07a68', 'message': 'Cleanup the created security groups\n\nThe security groups created in test needs to be cleanup after.\nIn addition, refactor the image cleanup code.\n\nChange-Id: Ic088bc26bf786f2844d4fba5dbeca0a3256ad8a9\n'}, {'number': 3, 'created': '2018-03-04 20:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/e4ecc2e51491befdea6896e3d2b4877a625f802c', 'message': 'Cleanup the created security groups\n\nThe security groups created in test needs to be cleanup after.\nIn addition, refactor the image cleanup code.\n\nChange-Id: Ic088bc26bf786f2844d4fba5dbeca0a3256ad8a9\n'}, {'number': 4, 'created': '2018-03-14 04:39:54.000000000', 'files': ['zun_tempest_plugin/tests/tempest/api/test_containers.py'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/6cae7e41ef23068988b53a0af55d58cfbe4fa9cd', 'message': 'Cleanup the created security groups\n\nThe security groups created in test needs to be cleanup after.\nIn addition, refactor the image cleanup code.\n\nChange-Id: Ic088bc26bf786f2844d4fba5dbeca0a3256ad8a9\n'}]",0,544160,6cae7e41ef23068988b53a0af55d58cfbe4fa9cd,16,4,4,11536,,,0,"Cleanup the created security groups

The security groups created in test needs to be cleanup after.
In addition, refactor the image cleanup code.

Change-Id: Ic088bc26bf786f2844d4fba5dbeca0a3256ad8a9
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/60/544160/4 && git format-patch -1 --stdout FETCH_HEAD,['zun_tempest_plugin/tests/tempest/api/test_containers.py'],1,68652bd8f21001e8c49669c365645206ea744cd8,," docker_base_url = self._get_docker_url() self.docker_client.pull_image( 'cirros', docker_auth_url=docker_base_url) image_data = self.docker_client.get_image( 'cirros', docker_base_url) image = self.images_client.create_image( name='cirros', disk_format='raw', container_format='docker') self.addCleanup(self.images_client.delete_image, image['id']) self.images_client.store_image_file(image['id'], image_data) # delete the local image that was previously pulled down self.docker_client.delete_image('cirros', docker_base_url) _, model = self._run_container( image='cirros', image_driver='glance') sg = self.sgs_client.create_security_group(name=sg_name) self.addCleanup(self.sgs_client.delete_security_group, sg['security_group']['id']) sg = self.sgs_client.create_security_group(name=sg_name) self.addCleanup(self.sgs_client.delete_security_group, sg['security_group']['id'])"," image = None try: docker_base_url = self._get_docker_url() self.docker_client.pull_image( 'cirros', docker_auth_url=docker_base_url) image_data = self.docker_client.get_image( 'cirros', docker_base_url) image = self.images_client.create_image( name='cirros', disk_format='raw', container_format='docker') self.images_client.store_image_file(image['id'], image_data) # delete the local image that was previously pulled down self.docker_client.delete_image('cirros', docker_base_url) _, model = self._run_container( image='cirros', image_driver='glance') finally: if image: try: self.images_client.delete_image(image['id']) except Exception: pass self.sgs_client.create_security_group(name=sg_name) self.sgs_client.create_security_group(name=sg_name)",19,22
openstack%2Fzun-tempest-plugin~master~Ie00deb46b879e7625ec83141715d9383ce961469,openstack/zun-tempest-plugin,master,Ie00deb46b879e7625ec83141715d9383ce961469,Add tempest test for the 'nets' parameter,MERGED,2018-03-13 04:09:37.000000000,2018-03-20 16:39:06.000000000,2018-03-20 16:39:06.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 25571}]","[{'number': 1, 'created': '2018-03-13 04:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/5b7518fbbac8b6581bc126c29c0337f47c33fe14', 'message': ""[WIP] Add tempest test for the 'nets' parameter\n\nThis PS will add the tempest test for the â€˜netsâ€™ parameter.\n\nCloses-bug: #1753270\n\nChange-Id: Ie00deb46b879e7625ec83141715d9383ce961469\n""}, {'number': 2, 'created': '2018-03-14 05:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/acad766b1b0db37f0e32e240620bd71e6f55c6d8', 'message': ""[WIP] Add tempest test for the 'nets' parameter\n\nThis PS will add the tempest test for the â€˜netsâ€™ parameter.\n\nCloses-bug: #1753270\n\nChange-Id: Ie00deb46b879e7625ec83141715d9383ce961469\n""}, {'number': 3, 'created': '2018-03-14 08:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/5ec817ca191a7dca8f83bb5dab7b72f85fe0efb5', 'message': ""[WIP] Add tempest test for the 'nets' parameter\n\nThis PS will add the tempest test for the â€˜netsâ€™ parameter.\n\nCloses-bug: #1753270\n\nChange-Id: Ie00deb46b879e7625ec83141715d9383ce961469\n""}, {'number': 4, 'created': '2018-03-15 03:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/82182c294992d427554137fd1a2478b7d4a3c61c', 'message': ""Add tempest test for the 'nets' parameter\n\nThis PS will add the tempest test for the â€˜netsâ€™ parameter.\n\nCloses-bug: #1753270\n\nChange-Id: Ie00deb46b879e7625ec83141715d9383ce961469\n""}, {'number': 5, 'created': '2018-03-17 01:06:02.000000000', 'files': ['zun_tempest_plugin/tests/tempest/api/test_containers.py', 'zun_tempest_plugin/tests/tempest/api/clients.py'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/37456f57eb646a290656416789d07eb9d77a1173', 'message': ""Add tempest test for the 'nets' parameter\n\nThis patch will add the tempest test for the 'nets' parameter.\nThe test pre-creates a neutron port and run a container with\nthe pre-created neutron port. This test verifies the Zun container\nwill work with an existing neutron port.\n\nCloses-bug: #1753270\n\nChange-Id: Ie00deb46b879e7625ec83141715d9383ce961469\n""}]",1,552270,37456f57eb646a290656416789d07eb9d77a1173,21,3,5,25695,,,0,"Add tempest test for the 'nets' parameter

This patch will add the tempest test for the 'nets' parameter.
The test pre-creates a neutron port and run a container with
the pre-created neutron port. This test verifies the Zun container
will work with an existing neutron port.

Closes-bug: #1753270

Change-Id: Ie00deb46b879e7625ec83141715d9383ce961469
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/70/552270/4 && git format-patch -1 --stdout FETCH_HEAD,"['zun_tempest_plugin/tests/tempest/api/test_containers.py', 'zun_tempest_plugin/tests/tempest/api/clients.py']",2,5b7518fbbac8b6581bc126c29c0337f47c33fe14,bug/1753270,"from tempest.lib.services.network import networks_client self.neutron_client = networks_client.NetworksClient( self.auth_provider, 'network', CONF.identity.region)",,16,0
openstack%2Fkeystone-specs~master~Iccdbee3ca64bc9c1ca6195d1725dd61a29ddcb20,openstack/keystone-specs,master,Iccdbee3ca64bc9c1ca6195d1725dd61a29ddcb20,Change keystone-specs webpage from oslosphinx to openstackdocstheme,MERGED,2018-03-12 11:38:53.000000000,2018-03-20 16:26:01.000000000,2018-03-20 16:26:01.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-03-12 11:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/4c2e34e6c70498077aa1d9255e60fa8bf4f9de3b', 'message': 'Change keystone-specs webpage from oslosphinx to openstackdocstheme\n\nChange-Id: Iccdbee3ca64bc9c1ca6195d1725dd61a29ddcb20\nCloses-Bug: #1755015\n'}, {'number': 2, 'created': '2018-03-16 08:57:10.000000000', 'files': ['doc/source/index.rst', 'requirements.txt', 'doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/9246e7e3d60e9742f826228de475080bfe491b44', 'message': 'Change keystone-specs webpage from oslosphinx to openstackdocstheme\n\nChange-Id: Iccdbee3ca64bc9c1ca6195d1725dd61a29ddcb20\nCloses-Bug: #1755015\n'}]",0,551974,9246e7e3d60e9742f826228de475080bfe491b44,11,4,2,27153,,,0,"Change keystone-specs webpage from oslosphinx to openstackdocstheme

Change-Id: Iccdbee3ca64bc9c1ca6195d1725dd61a29ddcb20
Closes-Bug: #1755015
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/74/551974/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/source/conf.py', 'tox.ini']",3,4c2e34e6c70498077aa1d9255e60fa8bf4f9de3b,bug/1755015,commands = sphinx-build -b html doc/source doc/build/html,basepython=python2.7 commands = python setup.py build_sphinx,6,11
openstack%2Fopenstack-ansible~stable%2Fqueens~I0a757e9f503d3f604b2ba2c3409b4a4507d5edff,openstack/openstack-ansible,stable/queens,I0a757e9f503d3f604b2ba2c3409b4a4507d5edff,Stop inventory constantly giving containers new IP,MERGED,2018-03-19 10:51:13.000000000,2018-03-20 16:12:38.000000000,2018-03-20 16:12:38.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 27908}]","[{'number': 1, 'created': '2018-03-19 10:51:13.000000000', 'files': ['osa_toolkit/generate.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8ab855152d680cd57e14331a1bd90c454c816793', 'message': 'Stop inventory constantly giving containers new IP\n\nSee bug for further details, this was affecting pike after applying\nthe backported patch.\n\nAs the bug mentions, some containers were constantly given new IPs,\neven with no changes to user_variables yml files or\nopenstack_user_config.yml file.\n\nFurther to the bug, I think that the code in master/patch will\ncause containers to receive new IPs when network settings are\nchanged (bridge, mtu, type) rather than just updating that setting.\n\nChange-Id: I0a757e9f503d3f604b2ba2c3409b4a4507d5edff\nCloses-Bug: 1756091\n(cherry picked from commit b72b3add9f20cc9a64a858d5ab70c3d90846c460)\n'}]",0,554196,8ab855152d680cd57e14331a1bd90c454c816793,14,5,1,6816,,,0,"Stop inventory constantly giving containers new IP

See bug for further details, this was affecting pike after applying
the backported patch.

As the bug mentions, some containers were constantly given new IPs,
even with no changes to user_variables yml files or
openstack_user_config.yml file.

Further to the bug, I think that the code in master/patch will
cause containers to receive new IPs when network settings are
changed (bridge, mtu, type) rather than just updating that setting.

Change-Id: I0a757e9f503d3f604b2ba2c3409b4a4507d5edff
Closes-Bug: 1756091
(cherry picked from commit b72b3add9f20cc9a64a858d5ab70c3d90846c460)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/96/554196/1 && git format-patch -1 --stdout FETCH_HEAD,['osa_toolkit/generate.py'],1,8ab855152d680cd57e14331a1bd90c454c816793,bug/1756091-stable/queens, _network = dict() if not is_metal: _network['interface'] = interface # update values from _network in case they have changed if old_address in networks: for key in _network.keys(): networks[old_address][key] = _network[key] if not is_metal and old_address not in networks:, if is_metal: _network = dict() else: _network = {'interface': interface} if not is_metal and (old_address not in networks or networks[old_address] != _network):,11,6
openstack%2Fopenstack-ansible-lxc_hosts~master~I5eed0da8904cc9cff4fffbb9a76802cb29b559bf,openstack/openstack-ansible-lxc_hosts,master,I5eed0da8904cc9cff4fffbb9a76802cb29b559bf,[DNM]: testing random things,ABANDONED,2018-03-20 14:18:18.000000000,2018-03-20 16:07:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-20 14:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/758390c76976982babacb9667e6f3a497b4fb36f', 'message': '[DNM]: testing random things\n\nChange-Id: I5eed0da8904cc9cff4fffbb9a76802cb29b559bf\n'}, {'number': 2, 'created': '2018-03-20 14:44:55.000000000', 'files': ['vars/suse-42.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/183360e025ae5ca8d77373cb64bb8b125840d002', 'message': '[DNM]: testing random things\n\nChange-Id: I5eed0da8904cc9cff4fffbb9a76802cb29b559bf\n'}]",0,554560,183360e025ae5ca8d77373cb64bb8b125840d002,4,1,2,23163,,,0,"[DNM]: testing random things

Change-Id: I5eed0da8904cc9cff4fffbb9a76802cb29b559bf
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/60/554560/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse-42.yml'],1,758390c76976982babacb9667e6f3a497b4fb36f,fix-cache-preparation, cat /etc/zypp/repos.d/* ping -c 4 www.google.com zypper ref -f,,4,0
openstack%2Fnetworking-l2gw~master~Ie5e8f2986540b03f8c8f594389b54408b9e95d38,openstack/networking-l2gw,master,Ie5e8f2986540b03f8c8f594389b54408b9e95d38,Updated from global requirements,MERGED,2018-03-10 13:25:30.000000000,2018-03-20 16:05:41.000000000,2018-03-20 16:05:41.000000000,"[{'_account_id': 21626}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-10 13:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/f7c4c286dab4c0f7e867922f7ffbe6a0f53bffde', 'message': 'Updated from global requirements\n\nChange-Id: Ie5e8f2986540b03f8c8f594389b54408b9e95d38\n'}, {'number': 2, 'created': '2018-03-15 00:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/9db3b8133bd61cc7928c69320d94c315ebc10416', 'message': 'Updated from global requirements\n\nChange-Id: Ie5e8f2986540b03f8c8f594389b54408b9e95d38\n'}, {'number': 3, 'created': '2018-03-15 07:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/e062f8820d66e07f7a30bab1f9b042517bc18d2f', 'message': 'Updated from global requirements\n\nChange-Id: Ie5e8f2986540b03f8c8f594389b54408b9e95d38\n'}, {'number': 4, 'created': '2018-03-20 14:04:58.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/daf11215289390fbc578746a7d97bd4a8fd0668e', 'message': 'Updated from global requirements\n\nChange-Id: Ie5e8f2986540b03f8c8f594389b54408b9e95d38\n'}]",0,551523,daf11215289390fbc578746a7d97bd4a8fd0668e,21,2,4,11131,,,0,"Updated from global requirements

Change-Id: Ie5e8f2986540b03f8c8f594389b54408b9e95d38
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/23/551523/4 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f7c4c286dab4c0f7e867922f7ffbe6a0f53bffde,openstack/requirements,"sphinx!=1.6.6,<1.7.0,>=1.6.2 # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",1,1
openstack%2Fnova~stable%2Fqueens~I8b95a96e51e8cc11c1348298c72490bc674a958f,openstack/nova,stable/queens,I8b95a96e51e8cc11c1348298c72490bc674a958f,Add method repr() to NovaException,ABANDONED,2018-03-20 15:56:20.000000000,2018-03-20 16:02:58.000000000,,[{'_account_id': 6873}],"[{'number': 1, 'created': '2018-03-20 15:56:20.000000000', 'files': ['nova/exception.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3f1b6fed171e717a7783d086af94257b6b080a47', 'message': 'Add method repr() to NovaException\n\nAdd method repr() to NovaException so that kwargs are not\nremoved when the exception is serialized.\n\nThe change to return repr(Exception) instead of serializing\nthe individual variables and arguments of the exception is\nhttps://github.com/openstack/oslo.serialization/commit/c1a7079c26d27a2e46cca26963d3d9aa040bdbe8.\n\nChange-Id: I8b95a96e51e8cc11c1348298c72490bc674a958f\n'}]",0,554604,3f1b6fed171e717a7783d086af94257b6b080a47,3,1,1,22522,,,0,"Add method repr() to NovaException

Add method repr() to NovaException so that kwargs are not
removed when the exception is serialized.

The change to return repr(Exception) instead of serializing
the individual variables and arguments of the exception is
https://github.com/openstack/oslo.serialization/commit/c1a7079c26d27a2e46cca26963d3d9aa040bdbe8.

Change-Id: I8b95a96e51e8cc11c1348298c72490bc674a958f
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/554604/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/exception.py'],1,3f1b6fed171e717a7783d086af94257b6b080a47,bug/1756360," def repr(self): repr = self for name, value in self.kwargs.items(): repr += ("", %s: %s"" % (name, value)) ",,5,0
openstack%2Fpuppet-openstack-integration~master~I0a849e4f41f027de806f0969fc03ce4a2dcc8ffa,openstack/puppet-openstack-integration,master,I0a849e4f41f027de806f0969fc03ce4a2dcc8ffa,Adding driver to mysql connection URL,MERGED,2018-03-20 09:36:12.000000000,2018-03-20 15:57:59.000000000,2018-03-20 15:57:59.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 09:36:12.000000000', 'files': ['manifests/murano.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5bf7fd676d26951fbead727294b3c0c884f3674e', 'message': 'Adding driver to mysql connection URL\n\nWith current URL [1], default driver will be used.\nIn order to ensure the compatibility, it is better to include the exact driver [2].\n\n[1] connection = mysql://\n[2] connection = mysql+pymysql://\n\nChange-Id: I0a849e4f41f027de806f0969fc03ce4a2dcc8ffa\n'}]",0,554481,5bf7fd676d26951fbead727294b3c0c884f3674e,7,3,1,21486,,,0,"Adding driver to mysql connection URL

With current URL [1], default driver will be used.
In order to ensure the compatibility, it is better to include the exact driver [2].

[1] connection = mysql://
[2] connection = mysql+pymysql://

Change-Id: I0a849e4f41f027de806f0969fc03ce4a2dcc8ffa
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/81/554481/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/murano.pp'],1,5bf7fd676d26951fbead727294b3c0c884f3674e,," database_connection => 'mysql+pymysql://murano:a_big_secret@127.0.0.1/murano?charset=utf8',"," database_connection => 'mysql://murano:a_big_secret@127.0.0.1/murano?charset=utf8',",1,1
openstack%2Fswift~feature%2Fdeep~I28cce3562a683c36ff39e3d99b8c48eaff70f34d,openstack/swift,feature/deep,I28cce3562a683c36ff39e3d99b8c48eaff70f34d,Add auto_shard option to enable or disable leader behaviour,MERGED,2018-03-16 13:03:26.000000000,2018-03-20 15:51:44.000000000,2018-03-20 01:59:33.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 13:03:26.000000000', 'files': ['doc/saio/swift/container-server/3.conf', 'doc/saio/swift/container-server/1.conf', 'etc/container-server.conf-sample', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'doc/saio/swift/container-server/2.conf', 'swift/container/sharder.py', 'doc/saio/swift/container-server/4.conf'], 'web_link': 'https://opendev.org/openstack/swift/commit/cb76ad65493495724af03b3dcf16dff90a40cd70', 'message': 'Add auto_shard option to enable or disable leader behaviour\n\nAdd auto_shard option to container-sharder section of container server\nconfig.\n\nWhen auto_shard is true the sharder daemon will adopt leader behaviour\nas before, i.e.  the daemon is the leader for the node index 0 replica\nof a container.\n\nWhen auto_shard is false (the default) the sharder daemon never adopts\nleader behaviour.\n\nChange-Id: I28cce3562a683c36ff39e3d99b8c48eaff70f34d\n'}]",4,553781,cb76ad65493495724af03b3dcf16dff90a40cd70,11,2,1,7847,,,0,"Add auto_shard option to enable or disable leader behaviour

Add auto_shard option to container-sharder section of container server
config.

When auto_shard is true the sharder daemon will adopt leader behaviour
as before, i.e.  the daemon is the leader for the node index 0 replica
of a container.

When auto_shard is false (the default) the sharder daemon never adopts
leader behaviour.

Change-Id: I28cce3562a683c36ff39e3d99b8c48eaff70f34d
",git fetch https://review.opendev.org/openstack/swift refs/changes/81/553781/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/saio/swift/container-server/3.conf', 'doc/saio/swift/container-server/1.conf', 'etc/container-server.conf-sample', 'test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'doc/saio/swift/container-server/2.conf', 'swift/container/sharder.py', 'doc/saio/swift/container-server/4.conf']",8,cb76ad65493495724af03b3dcf16dff90a40cd70,,auto_shard = true,,25,3
openstack%2Fpuppet-ironic~master~Ic2385603281a9c611d451bf0a99b80c9881bf2ac,openstack/puppet-ironic,master,Ic2385603281a9c611d451bf0a99b80c9881bf2ac,inspector: allow configuring always_store_ramdisk_logs,MERGED,2018-03-15 13:50:22.000000000,2018-03-20 15:47:53.000000000,2018-03-16 11:36:25.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-03-15 13:50:22.000000000', 'files': ['spec/classes/ironic_inspector_spec.rb', 'releasenotes/notes/always_store_ramdisk_logs-cec708576c54b399.yaml', 'manifests/inspector.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/731b563675778d85f871625dd9bb5c43dd477d44', 'message': 'inspector: allow configuring always_store_ramdisk_logs\n\nChange-Id: Ic2385603281a9c611d451bf0a99b80c9881bf2ac\n'}]",0,553405,731b563675778d85f871625dd9bb5c43dd477d44,9,4,1,10239,,,0,"inspector: allow configuring always_store_ramdisk_logs

Change-Id: Ic2385603281a9c611d451bf0a99b80c9881bf2ac
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/05/553405/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_inspector_spec.rb', 'releasenotes/notes/always_store_ramdisk_logs-cec708576c54b399.yaml', 'manifests/inspector.pp']",3,731b563675778d85f871625dd9bb5c43dd477d44,,"# [*always_store_ramdisk_logs*] # (optional) Whether to store ramdisk logs even for successful introspection. # Defaults to $::os_service_default # $always_store_ramdisk_logs = $::os_service_default, 'processing/always_store_ramdisk_logs': value => $always_store_ramdisk_logs;",,12,0
openstack%2Fdragonflow~master~I93b9043a794e124315f9f5795a72d27dee42fead,openstack/dragonflow,master,I93b9043a794e124315f9f5795a72d27dee42fead,Fix a typo in skydive spec,MERGED,2018-03-20 10:05:06.000000000,2018-03-20 15:31:05.000000000,2018-03-20 15:31:05.000000000,"[{'_account_id': 20229}, {'_account_id': 22348}, {'_account_id': 23235}]","[{'number': 1, 'created': '2018-03-20 10:05:06.000000000', 'files': ['doc/source/specs/skydive_integration.rst'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/6605dd26bc22458924f9bf58bc5ebf475c99ca80', 'message': 'Fix a typo in skydive spec\n\nNewlines were missing so the formatting was wrong\n\nChange-Id: I93b9043a794e124315f9f5795a72d27dee42fead\nRelated-Bug: #1749429\n'}]",0,554489,6605dd26bc22458924f9bf58bc5ebf475c99ca80,7,3,1,17880,,,0,"Fix a typo in skydive spec

Newlines were missing so the formatting was wrong

Change-Id: I93b9043a794e124315f9f5795a72d27dee42fead
Related-Bug: #1749429
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/89/554489/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/skydive_integration.rst'],1,6605dd26bc22458924f9bf58bc5ebf475c99ca80,bug/1749429," - One solution may be using the pubsub mechanism, but it will require"," One solution may be using the pubsub mechanism, but it will require",3,1
openstack%2Fpuppet-gnocchi~master~Iaba77dbf12ae80121ae2b630655faae5269f721b,openstack/puppet-gnocchi,master,Iaba77dbf12ae80121ae2b630655faae5269f721b,Remove deprecated logging options,MERGED,2018-03-20 05:52:53.000000000,2018-03-20 15:26:14.000000000,2018-03-20 15:26:14.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 05:52:53.000000000', 'files': ['manifests/logging.pp', 'releasenotes/notes/remove_deprecated_logging_options-7601c56e6cc49f3c.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/62701862288129bdd4579768982549d100ebd801', 'message': 'Remove deprecated logging options\n\nChange-Id: Iaba77dbf12ae80121ae2b630655faae5269f721b\n'}]",0,554416,62701862288129bdd4579768982549d100ebd801,7,3,1,9414,,,0,"Remove deprecated logging options

Change-Id: Iaba77dbf12ae80121ae2b630655faae5269f721b
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/16/554416/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'releasenotes/notes/remove_deprecated_logging_options-7601c56e6cc49f3c.yaml']",2,62701862288129bdd4579768982549d100ebd801,remove_deprecated_logging_options,--- other: - Remove deprecated logging options for ::gnocchi::logging class. ,,3,118
openstack%2Fironic-inspector~master~Ife51165742a8b762e84d5ac7ad807480669bfedb,openstack/ironic-inspector,master,Ife51165742a8b762e84d5ac7ad807480669bfedb,Switch documentation to hardware types,MERGED,2018-02-16 12:43:41.000000000,2018-03-20 15:21:56.000000000,2018-03-19 22:22:08.000000000,"[{'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-16 12:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/423bee8df442aee485e46f45e14a13438944f280', 'message': 'Switch documentation to hardware types\n\nAlso remove setting IRONIC_VM_LOGS_DIR from the example local.conf,\nas it does not work, at least not on CentOS.\n\nChange-Id: Ife51165742a8b762e84d5ac7ad807480669bfedb\n'}, {'number': 2, 'created': '2018-02-16 13:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0acae19e55faaae5f4699344c08b39e2b29a3af2', 'message': 'Switch documentation to hardware types\n\nThe devstack example configuration is synchronized with\nhttps://docs.openstack.org/ironic/latest/contributor/dev-quickstart.html\n\nAlso remove setting IRONIC_VM_LOGS_DIR from the example local.conf,\nas it does not work, at least not on CentOS.\n\nChange-Id: Ife51165742a8b762e84d5ac7ad807480669bfedb\n'}, {'number': 3, 'created': '2018-02-20 16:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/2e9a5f83e489de0d9a020f5d9c9297dee4524dc5', 'message': 'Switch documentation to hardware types\n\nThe devstack example configuration is synchronized with\nhttps://docs.openstack.org/ironic/latest/contributor/dev-quickstart.html\n\nAlso remove setting IRONIC_VM_LOGS_DIR from the example local.conf,\nas it does not work, at least not on CentOS.\n\nChange-Id: Ife51165742a8b762e84d5ac7ad807480669bfedb\n'}, {'number': 4, 'created': '2018-03-07 12:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1a8f18f8790413b011d7ebfebb25ef1ed5a821c8', 'message': 'Switch documentation to hardware types\n\nThe devstack example configuration is synchronized with\nhttps://docs.openstack.org/ironic/latest/contributor/dev-quickstart.html\n\nAlso remove setting IRONIC_VM_LOGS_DIR from the example local.conf,\nas it does not work, at least not on CentOS.\n\nChange-Id: Ife51165742a8b762e84d5ac7ad807480669bfedb\n'}, {'number': 5, 'created': '2018-03-16 14:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/dbff7f6aba5eff740adb51bcd0a3005a2bd8efdb', 'message': 'Switch documentation to hardware types\n\nThe devstack example configuration is synchronized with\nhttps://docs.openstack.org/ironic/latest/contributor/dev-quickstart.html\n\nAlso remove setting IRONIC_VM_LOGS_DIR from the example local.conf,\nas it does not work, at least not on CentOS.\n\nChange-Id: Ife51165742a8b762e84d5ac7ad807480669bfedb\n'}, {'number': 6, 'created': '2018-03-16 14:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4f41a657b21144fecae524eb753ae6802a1029fb', 'message': 'Switch documentation to hardware types\n\nThe devstack example configuration is synchronized with\nhttps://docs.openstack.org/ironic/latest/contributor/dev-quickstart.html\n\nAlso remove setting IRONIC_VM_LOGS_DIR from the example local.conf,\nas it does not work, at least not on CentOS.\n\nChange-Id: Ife51165742a8b762e84d5ac7ad807480669bfedb\n'}, {'number': 7, 'created': '2018-03-16 16:11:14.000000000', 'files': ['ironic_inspector/test/base.py', 'doc/source/user/usage.rst', 'devstack/example.local.conf'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/faf9d3508b20a26e6df90ce818491500bc603f1e', 'message': 'Switch documentation to hardware types\n\nThe devstack example configuration is synchronized with\nhttps://docs.openstack.org/ironic/latest/contributor/dev-quickstart.html\n\nAlso remove setting IRONIC_VM_LOGS_DIR from the example local.conf,\nas it does not work, at least not on CentOS.\n\nChange-Id: Ife51165742a8b762e84d5ac7ad807480669bfedb\n'}]",12,545285,faf9d3508b20a26e6df90ce818491500bc603f1e,32,6,7,10239,,,0,"Switch documentation to hardware types

The devstack example configuration is synchronized with
https://docs.openstack.org/ironic/latest/contributor/dev-quickstart.html

Also remove setting IRONIC_VM_LOGS_DIR from the example local.conf,
as it does not work, at least not on CentOS.

Change-Id: Ife51165742a8b762e84d5ac7ad807480669bfedb
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/85/545285/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/base.py', 'doc/source/user/usage.rst', 'devstack/example.local.conf']",3,423bee8df442aee485e46f45e14a13438944f280,hw-types,"SWIFT_TEMPURL_KEY=$ADMIN_PASSWORD# Enable Swift for storing introspection data# Swift temp URL's are required for the direct deploy drivers.# Enable bare metal hardware types. IRONIC_ENABLED_HARDWARE_TYPES=ipmi,fake-hardware # Enable inspection via ironic-inspector IRONIC_ENABLED_INSPECT_INTERFACES=inspector,no-inspect # Optionally make it the default for all hardware types: #IRONIC_DEFAULT_INSPECT_INTERFACE=inspectorIRONIC_DEPLOY_DRIVER=ipmi","# Enable Swift for agent_* drivers# Swift temp URL's are required for agent_* drivers.# Enable Ironic drivers. IRONIC_ENABLED_DRIVERS=fake,agent_ipmitool,pxe_ipmitoolIRONIC_DEPLOY_DRIVER=agent_ipmitoolIRONIC_VM_LOG_DIR=$HOME/ironic-bm-logs",15,10
openstack%2Ftripleo-heat-templates~master~I367081a8aa32178f1c8cf07bae2db3d0c0bc1258,openstack/tripleo-heat-templates,master,I367081a8aa32178f1c8cf07bae2db3d0c0bc1258,Remove registry special casing which no longer has any effect,MERGED,2018-03-09 10:22:48.000000000,2018-03-20 15:21:45.000000000,2018-03-20 15:21:45.000000000,"[{'_account_id': 3153}, {'_account_id': 6968}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-09 10:22:48.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f5776cc368211b4a7cdd889b5f01b1b322823f2', 'message': 'Remove registry special casing which no longer has any effect\n\nThis was only needed when we need to special-case SwiftStorage, but\nsince we now have the resource names match the role name [1], having\nthe special casing will result in the same resource registry being\ngenerated as when not having it.\n\n[1] see change I96fd27bdad5d417f23550ecc3387d81fd3c5418a\n\nChange-Id: I367081a8aa32178f1c8cf07bae2db3d0c0bc1258\n'}]",2,551243,6f5776cc368211b4a7cdd889b5f01b1b322823f2,13,7,1,8042,,,0,"Remove registry special casing which no longer has any effect

This was only needed when we need to special-case SwiftStorage, but
since we now have the resource names match the role name [1], having
the special casing will result in the same resource registry being
generated as when not having it.

[1] see change I96fd27bdad5d417f23550ecc3387d81fd3c5418a

Change-Id: I367081a8aa32178f1c8cf07bae2db3d0c0bc1258
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/551243/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,6f5776cc368211b4a7cdd889b5f01b1b322823f2,remove-special-case, {%- for network in networks %} {%- endfor %}, {%- if role.name != 'ObjectStorage' %} {%- for network in networks %} {%- endfor %} {%- else %} # Note we have to special-case ObjectStorage for backwards compatibility {%- for network in networks %} OS::TripleO::ObjectStorage::Ports::{{network.name}}Port: network/ports/noop.yaml {%- endfor %} {%- endif %},2,9
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I5b09f20aa273904cf7a0949e10ca9137827a4957,openstack/tripleo-heat-templates,stable/queens,I5b09f20aa273904cf7a0949e10ca9137827a4957,FFU: add fast forward upgrade support for sensu client,MERGED,2018-03-19 09:39:17.000000000,2018-03-20 15:21:42.000000000,2018-03-20 15:21:42.000000000,"[{'_account_id': 6924}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-19 09:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9987b9248914c3626e5e82a1487f45580e2ff673', 'message': 'FFU: add fast forward upgrade support for sensu client\n\nbp fast-forward-upgrades\n\nChange-Id: I5b09f20aa273904cf7a0949e10ca9137827a4957\n'}, {'number': 2, 'created': '2018-03-19 23:44:17.000000000', 'files': ['docker/services/sensu-client.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e792331bb69fe18703768bc8c1a6effc4789b25', 'message': 'FFU: add fast forward upgrade support for sensu client\n\nbp fast-forward-upgrades\n\nChange-Id: I5b09f20aa273904cf7a0949e10ca9137827a4957\n(cherry picked from commit c5a08fdc24e5ca558366bd6425c9598ee7251a8f)\n'}]",0,554178,1e792331bb69fe18703768bc8c1a6effc4789b25,12,4,2,8297,,,0,"FFU: add fast forward upgrade support for sensu client

bp fast-forward-upgrades

Change-Id: I5b09f20aa273904cf7a0949e10ca9137827a4957
(cherry picked from commit c5a08fdc24e5ca558366bd6425c9598ee7251a8f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/554178/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/sensu-client.yaml'],1,9987b9248914c3626e5e82a1487f45580e2ff673,bp/fast-forward-upgrades-stable/queens," fast_forward_upgrade_tasks: - name: Check if sensu client is deployed command: systemctl is-enabled --quiet sensu-client ignore_errors: True register: sensu_enabled_result when: - step|int == 0 - release == 'ocata' - name: Set fact sensu_enabled set_fact: sensu_enabled: ""{{ sensu_enabled_result.rc == 0 }}"" when: - step|int == 0 - release == 'ocata' - name: Stop and disable sensu-client service when: - step|int == 1 - release == 'ocata' - sensu_enabled|bool service: name=sensu-client state=stopped enabled=no",,20,0
openstack%2Ftripleo-quickstart-extras~master~I4f8955e387387606b76f1dbb91cbed6b94b47b15,openstack/tripleo-quickstart-extras,master,I4f8955e387387606b76f1dbb91cbed6b94b47b15,Do not record host identification for reproducer ssh commands.,MERGED,2018-03-07 11:19:06.000000000,2018-03-20 15:21:35.000000000,2018-03-20 15:21:35.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-03-07 11:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d2e4757b6203a0b4d9c22e1c305d48d94848ec32', 'message': 'Do not record host identification for reproducer ssh commands.\n\nAs we\'re using cloud instance the probability to get the same ip with\nchanged ssh keys is high.  Avoid ""WARNING: REMOTE HOST IDENTIFICATION\nHAS CHANGED!"" failure by making sure that we don\'t record the ssh key\nlocally.\n\nChange-Id: I4f8955e387387606b76f1dbb91cbed6b94b47b15\n'}, {'number': 2, 'created': '2018-03-13 10:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/142e3706e52c8e55ec31ff76900039c517d69970', 'message': 'Do not record host identification for reproducer ssh commands.\n\nAs we\'re using cloud instance the probability to get the same ip with\nchanged ssh keys is high.  Avoid ""WARNING: REMOTE HOST IDENTIFICATION\nHAS CHANGED!"" failure by making sure that we don\'t record the ssh key\nlocally.\n\nChange-Id: I4f8955e387387606b76f1dbb91cbed6b94b47b15\n'}, {'number': 3, 'created': '2018-03-14 09:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f38f7949d864a50bee0661bcae84bd4113bafb1c', 'message': 'Do not record host identification for reproducer ssh commands.\n\nAs we\'re using cloud instance the probability to get the same ip with\nchanged ssh keys is high.  Avoid ""WARNING: REMOTE HOST IDENTIFICATION\nHAS CHANGED!"" failure by making sure that we don\'t record the ssh key\nlocally.\n\nChange-Id: I4f8955e387387606b76f1dbb91cbed6b94b47b15\n'}, {'number': 4, 'created': '2018-03-19 08:01:47.000000000', 'files': ['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9eb2bbf55a30c4aeec23c840fc2283eb95ce5134', 'message': 'Do not record host identification for reproducer ssh commands.\n\nAs we\'re using cloud instance the probability to get the same ip with\nchanged ssh keys is high.  Avoid ""WARNING: REMOTE HOST IDENTIFICATION\nHAS CHANGED!"" failure by making sure that we don\'t record the ssh key\nlocally.\n\nChange-Id: I4f8955e387387606b76f1dbb91cbed6b94b47b15\n'}]",0,550437,9eb2bbf55a30c4aeec23c840fc2283eb95ce5134,27,10,4,8297,,,0,"Do not record host identification for reproducer ssh commands.

As we're using cloud instance the probability to get the same ip with
changed ssh keys is high.  Avoid ""WARNING: REMOTE HOST IDENTIFICATION
HAS CHANGED!"" failure by making sure that we don't record the ssh key
locally.

Change-Id: I4f8955e387387606b76f1dbb91cbed6b94b47b15
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/37/550437/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2'],1,d2e4757b6203a0b4d9c22e1c305d48d94848ec32,,"SSH_OPTS=""-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null"" scp ${SSH_OPTS} $WORKSPACE/nodes.json zuul@$ansible_host:/home/zuul/scp ${SSH_OPTS} ""$WORKSPACE/{{ env_vars_to_source_file }}"" zuul@$ansible_host:/home/zuul/ ssh ${SSH_OPTS} zuul@$ansible_host -tt \ ssh ${SSH_OPTS} zuul@$ansible_host","scp $WORKSPACE/nodes.json zuul@$ansible_host:/home/zuul/scp ""$WORKSPACE/{{ env_vars_to_source_file }}"" zuul@$ansible_host:/home/zuul/ ssh zuul@$ansible_host -tt \ ssh zuul@$ansible_host",6,4
openstack%2Ftripleo-common~master~Ia1226123271408e959d7aa2049140c06f7ba5e87,openstack/tripleo-common,master,Ia1226123271408e959d7aa2049140c06f7ba5e87,Improve messages on node state transitions,MERGED,2018-03-19 12:13:58.000000000,2018-03-20 15:21:26.000000000,2018-03-20 02:05:31.000000000,"[{'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-19 12:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/babc23defc00f1f9a6063ceb10a80e6d645e1c7e', 'message': ""Improve messages on node state transitions\n\nFirst, the state is called 'manageable', not 'managed'. Second,\nthe current messages do not provide enough context to be valuable.\nThis change modifies them to include nodes count and uses more\nprecise wording.\n\nChange-Id: Ia1226123271408e959d7aa2049140c06f7ba5e87\n""}, {'number': 2, 'created': '2018-03-19 12:17:18.000000000', 'files': ['workbooks/baremetal.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9f2980d7a269f457e37924e55580ac7399afb54e', 'message': ""Improve messages on node state transitions\n\nFirst, the state is called 'manageable', not 'managed'. Second,\nthe current messages do not provide enough context to be valuable.\nThis change modifies them to include nodes count and uses more\nprecise wording.\n\nChange-Id: Ia1226123271408e959d7aa2049140c06f7ba5e87\n""}]",0,554207,9f2980d7a269f457e37924e55580ac7399afb54e,10,4,2,10239,,,0,"Improve messages on node state transitions

First, the state is called 'manageable', not 'managed'. Second,
the current messages do not provide enough context to be valuable.
This change modifies them to include nodes count and uses more
precise wording.

Change-Id: Ia1226123271408e959d7aa2049140c06f7ba5e87
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/554207/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/baremetal.yaml'],1,babc23defc00f1f9a6063ceb10a80e6d645e1c7e,state-message," message: <% $.new_nodes.len() %> node(s) successfully moved to the ""manageable"" state. message: <% $.new_nodes.len() %> node(s) successfully moved to the ""available"" state.", message: Nodes set to managed. message: Nodes set to available.,2,2
openstack%2Fcharm-specs~master~I07ce4503ee7d0ce10dce41b7912abbfa00f3736c,openstack/charm-specs,master,I07ce4503ee7d0ce10dce41b7912abbfa00f3736c,Charm spec for openstack+ovn under specs/queens/backlog.,MERGED,2018-03-11 18:56:17.000000000,2018-03-20 15:21:02.000000000,2018-03-20 15:21:02.000000000,"[{'_account_id': 935}, {'_account_id': 10068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-11 18:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/993b8ac375545fa6d71a9b97153738c84123ac89', 'message': 'Charm spec for openstack+ovn under specs/queens/backlog.\n\nChange-Id: I07ce4503ee7d0ce10dce41b7912abbfa00f3736c\nSigned-off-by: Aakash KT <aakash.kt@research.iiit.ac.in>\n'}, {'number': 2, 'created': '2018-03-12 18:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/da7aaa3a9b9076548f2a152daaf0aa83d29f3241', 'message': 'Charm spec for openstack+ovn under specs/queens/backlog.\nMade changes as suggested by James Page.\n\nChange-Id: I07ce4503ee7d0ce10dce41b7912abbfa00f3736c\nSigned-off-by: Aakash KT <aakash.kt@research.iiit.ac.in>\n'}, {'number': 3, 'created': '2018-03-19 12:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/aae8fa5876f1d6187c51dd1f8cf70c6a7065663a', 'message': 'Charm spec for openstack+ovn under specs/queens/backlog.\n\nChange-Id: I07ce4503ee7d0ce10dce41b7912abbfa00f3736c\n'}, {'number': 4, 'created': '2018-03-19 12:03:45.000000000', 'files': ['specs/queens/backlog/charm-openstack-ovn.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/6e07e55d8cec25ba75919e6be09596737e0e03b9', 'message': 'Charm spec for openstack+ovn under specs/queens/backlog.\n\nChange-Id: I07ce4503ee7d0ce10dce41b7912abbfa00f3736c\n'}]",17,551800,6e07e55d8cec25ba75919e6be09596737e0e03b9,14,3,4,26805,,,0,"Charm spec for openstack+ovn under specs/queens/backlog.

Change-Id: I07ce4503ee7d0ce10dce41b7912abbfa00f3736c
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/00/551800/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/backlog/charm-openstack-ovn.rst'],1,993b8ac375545fa6d71a9b97153738c84123ac89,I07ce4503ee7d0ce10dce41b7912abbfa00f3736c,".. Copyright 2018 Aakash KT This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: ""None"". For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html =============================== Openstack with OVN =============================== Openstack can be deployed with a number of SDN solutions (e.g. ODL). OVN provides virtual-networking for Open vSwitch (OVS). OVN has a lot of desirable features and is designed to be integrated into Openstack, among others. Since there is already a networking-ovn project under openstack, it is the obvious next step to implement a Juju charm that provides this service. Problem Description =================== Currently, Juju charms have support for deploying openstack, either with it's default SDN solution (Neutron), or with others such as ODL. This project will expand the deployment scenarios under Juju for openstack by including OVN in the list of available SDN solutions. It can also benifit OPNFV's JOID installer in providing another scenario in its deployment. Proposed Change =============== Charms implementing neutron-api, ovn-controller and neutron-ovn will need to be implemented. Charm : neutron-ovn ------------------- This charm will be deployed alongside nova-compute deployments. This is a subordinate charm. Charm : ovn-controller ---------------------- This charm will deploy ovn itself. It will start the OVN services (ovsdb-server, ovn-northd). It will also start the neutron-server, all with the right config parameters. Charm : neutron-api-ovn ----------------------- This charm will provide the api only integration of neutron to OVN. This charm will need to be subordinate to the ""ovn-controller"" charm. This is because, along with editing the config files of neutron (neutron.con, ml2.conf), we need to start other services on the same node. Refer for more information : https://docs.openstack.org/networking-ovn/latest/install/manual.html Alternatives ------------ It is debatable whether two charms (ovn-controller, neutron-api-ovn) are required. We can very well have the services provided by both these charms in an all-in-one charm. There seems to be no benifit of having two seperate charms other than that of being consistent with the existing openstack charms structure. Implementation ============== Assignee(s) ----------- Unknown Gerrit Topic ------------ Use Gerrit topic ""<charm-os-ovn>"" for all patches related to this spec. .. code-block:: bash git-review -t <charm-os-ovn> Work Items ---------- * Implement neutron-api-ovn charm * Implement ovn-controller charm * Implement neutron-ovn charm * Integration testing * Create documentation for above three charms Repositories ------------ Yes, three new repositories will need to be created : * charm-neutron-api-ovn * charm-ovn-controller * charm-neuton-ovn Documentation ------------- This will require creation of new documentation for the covered scenario of openstack + ovn in Juju. Security -------- None that I can think of. Testing ------- Someone can weigh in here. I am not sure whether this project will add some extra tests to be implemented. Dependencies ============ None that I know. ",,119,0
openstack%2Fopenstack-ansible~stable%2Fqueens~Ia7cb6327dc887c859404930e238bd5462e2bbc72,openstack/openstack-ansible,stable/queens,Ia7cb6327dc887c859404930e238bd5462e2bbc72,Improve healthchecks,MERGED,2018-03-13 07:49:06.000000000,2018-03-20 15:16:17.000000000,2018-03-20 15:16:17.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 07:49:06.000000000', 'files': ['playbooks/healthcheck-infrastructure.yml', 'playbooks/healthcheck-hosts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/47f6df7f23feac88a53aaadccb9e06bff7d5c593', 'message': 'Improve healthchecks\n\nTo help deployers with openstack ansible, we add these playbooks\non the deploy guide path. It makes it easier for everyone\nto know the cause for failures: the common one would be caught\nand documented.\n\nChange-Id: Ia7cb6327dc887c859404930e238bd5462e2bbc72\n(cherry picked from commit 17c1439ccb82ec9ecdbe6cac5565233f92df100b)\n'}]",0,552422,47f6df7f23feac88a53aaadccb9e06bff7d5c593,16,5,1,17068,,,0,"Improve healthchecks

To help deployers with openstack ansible, we add these playbooks
on the deploy guide path. It makes it easier for everyone
to know the cause for failures: the common one would be caught
and documented.

Change-Id: Ia7cb6327dc887c859404930e238bd5462e2bbc72
(cherry picked from commit 17c1439ccb82ec9ecdbe6cac5565233f92df100b)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/22/552422/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/healthcheck-infrastructure.yml', 'playbooks/healthcheck-hosts.yml']",2,47f6df7f23feac88a53aaadccb9e06bff7d5c593,healthchecks-stable/queens,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # This playbook is meant to run after setup-hosts. # To succeed, it expects the setup-hosts playbook to have run successfuly. # Ensuring the openstack hosts are well setup # Ensure the containers are properly setup - name: Ensuring hosts good behavior hosts: hosts gather_facts: no tasks: - name: Check the right role code was used debug: msg: ""To be implemented"" verbosity: 1 # TODO(evrardjp): Add nspawn checking - name: Looking for dnsmasq process command: pgrep dnsmasq changed_when: false when: container_tech | default('lxc') == 'lxc' - name: Ensuring containers creation, connection and good behavior hosts: all_containers gather_facts: yes tasks: - name: Ensure the physical host has all the proper interfaces defined assert: that: - item.value.bridge in hostvars[physical_host]['ansible_interfaces'] with_dict: ""{{ container_networks }}"" - name: Check if dns resolution and external connectivity is fine get_url: url: https://git.openstack.org/cgit/openstack/openstack-ansible/plain/ansible-role-requirements.yml dest: /tmp/osa-master-requirements - name: Ensure settings are not wrong with the usual suspects issues before trying to deploy infra hosts: haproxy_all gather_facts: yes tasks: - name: Checking that the LB vips are well configured. assert: that: - external_lb_vip_address != internal_lb_vip_address msg: | External and Internal LB vip addresses are the same. Run with -e vipcheck=False if you want to bypass this check. when: - vipcheck | default(True) | bool - inventory_hostname == ansible_play_hosts[0] - name: Checking that vip nics are well configured assert: that: - item in ansible_interfaces msg: ""Misconfigured keepalived IP, the carrying interface {{ item }} doesn't exist"" with_items: - ""{{ haproxy_keepalived_external_interface }}"" - ""{{ haproxy_keepalived_internal_interface }}"" when: - groups['haproxy_all'] | length > 1 - name: Checking that vip address is well formed assert: that: - item | ipaddr('address') msg: ""Misconfigured keepalived: The vip {{ item }} is not an IP address, but a network"" with_items: - ""{{ haproxy_keepalived_internal_vip_cidr }}"" - ""{{ haproxy_keepalived_external_vip_cidr }}"" when: - groups['haproxy_all'] | length > 1 ",,102,2
openstack%2Fpython-saharaclient~master~Ie139d509497bce763dcaa4293a0bab7cd806d2af,openstack/python-saharaclient,master,Ie139d509497bce763dcaa4293a0bab7cd806d2af,Updated from global requirements,MERGED,2018-03-20 14:56:10.000000000,2018-03-20 15:14:52.000000000,2018-03-20 15:14:52.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 14:56:10.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/8f608f2d4f6a9c9b94c6964d812eb2cc9b58e122', 'message': 'Updated from global requirements\n\nChange-Id: Ie139d509497bce763dcaa4293a0bab7cd806d2af\n'}]",0,554578,8f608f2d4f6a9c9b94c6964d812eb2cc9b58e122,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Ie139d509497bce763dcaa4293a0bab7cd806d2af
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/78/554578/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,8f608f2d4f6a9c9b94c6964d812eb2cc9b58e122,openstack/requirements,"# The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later.",,3,0
openstack%2Fkuryr-kubernetes~stable%2Fqueens~If9c8e898ec711576afc125f0d3af50d1bd2f3eff,openstack/kuryr-kubernetes,stable/queens,If9c8e898ec711576afc125f0d3af50d1bd2f3eff,Add network id to pools keys,MERGED,2018-03-20 10:06:29.000000000,2018-03-20 15:11:14.000000000,2018-03-20 15:11:14.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 21041}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 10:06:29.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/acb62b020500ae5ec95c26077ac0cb772b085eb5', 'message': 'Add network id to pools keys\n\nThis is one of the first steps needed to have pools support when\npods can be allocated on different networks. Otherwise, a common\npool could serve pods on different networks if they share\nhostIP/hostname, project_id and security groups.\n\nCloses-Bug: 1752600\nChange-Id: If9c8e898ec711576afc125f0d3af50d1bd2f3eff\n(cherry picked from commit bc7e90008299a856f951e895c700362b74fb3d67)\n'}]",0,554490,acb62b020500ae5ec95c26077ac0cb772b085eb5,8,5,1,23567,,,0,"Add network id to pools keys

This is one of the first steps needed to have pools support when
pods can be allocated on different networks. Otherwise, a common
pool could serve pods on different networks if they share
hostIP/hostname, project_id and security groups.

Closes-Bug: 1752600
Change-Id: If9c8e898ec711576afc125f0d3af50d1bd2f3eff
(cherry picked from commit bc7e90008299a856f951e895c700362b74fb3d67)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/90/554490/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py']",2,acb62b020500ae5ec95c26077ac0cb772b085eb5,cni-plugin-drivers-stable/queens,"from oslo_utils import uuidutilsfrom kuryr_kubernetes import os_vif_util as ovu project_id = uuidutils.generate_uuid() subnet_id = uuidutils.generate_uuid() net_id = uuidutils.generate_uuid() network = ovu.neutron_to_osvif_network({'id': net_id}) subnets = {subnet_id: network} project_id = uuidutils.generate_uuid() subnet_id = uuidutils.generate_uuid() net_id = uuidutils.generate_uuid() network = ovu.neutron_to_osvif_network({'id': net_id}) subnets = {subnet_id: network} project_id = uuidutils.generate_uuid() project_id = uuidutils.generate_uuid() project_id = uuidutils.generate_uuid() project_id = uuidutils.generate_uuid() net_id = uuidutils.generate_uuid() network = ovu.neutron_to_osvif_network({'id': net_id}) vif = osv_vif.VIFOpenVSwitch(id='0fa0e837-d34e-4580-a6c4-04f5f607d93e', network=network) port_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() net_id = uuidutils.generate_uuid() network = ovu.neutron_to_osvif_network({'id': net_id}) subnet = {subnet_id: network} m_get_subnet.return_value = network pool_key = (port['binding:host_id'], port['project_id'], tuple(port['security_groups']), net_id) m_driver._get_pool_key.return_value = pool_key m_to_osvif.assert_called_once_with(vif_plugin, port, subnet) port_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() trunk_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() trunk_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() trunk_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() trunk_id = uuidutils.generate_uuid() subport_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() port_id = uuidutils.generate_uuid() trunk_id = uuidutils.generate_uuid() net_id = uuidutils.generate_uuid() network = ovu.neutron_to_osvif_network({'id': net_id}) subnets = {subnet_id: {subnet_id: network}} pool_key = (port['binding:host_id'], port['project_id'], tuple(port['security_groups']), net_id) m_driver._get_pool_key.return_value = pool_key port_id = uuidutils.generate_uuid() trunk_id = uuidutils.generate_uuid() net_id = uuidutils.generate_uuid() network = ovu.neutron_to_osvif_network({'id': net_id}) subnets = {subnet_id: {subnet_id: network}} tuple(port['security_groups']), net_id) m_driver._get_pool_key.return_value = pool_key port_id1 = uuidutils.generate_uuid() trunk_id1 = uuidutils.generate_uuid() port_id2 = uuidutils.generate_uuid() trunk_id2 = uuidutils.generate_uuid() trunk_id=uuidutils.generate_uuid()) net_id = uuidutils.generate_uuid() network = ovu.neutron_to_osvif_network({'id': net_id}) subnets = {subnet_id: {subnet_id: network}} port_id1 = uuidutils.generate_uuid() port_id2 = uuidutils.generate_uuid() trunk_id = uuidutils.generate_uuid() net_id = uuidutils.generate_uuid() network = ovu.neutron_to_osvif_network({'id': net_id}) subnets = {subnet_id: {subnet_id: network}} pool_key = (port1['binding:host_id'], port1['project_id'], tuple(port1['security_groups']), net_id) m_driver._get_pool_key.return_value = pool_key port_id = uuidutils.generate_uuid()"," project_id = mock.sentinel.project_id subnets = mock.sentinel.subnets project_id = mock.sentinel.project_id subnets = mock.sentinel.subnets project_id = mock.sentinel.project_id project_id = mock.sentinel.project_id project_id = mock.sentinel.project_id project_id = mock.sentinel.project_id vif = osv_vif.VIFOpenVSwitch(id='0fa0e837-d34e-4580-a6c4-04f5f607d93e') port_id = 'f2c1b73a-6a0c-4dca-b986-0d07d09e0c02' port_id = mock.sentinel.port_id port_id = mock.sentinel.port_id port_id = mock.sentinel.port_id port_id = mock.sentinel.port_id port_id = mock.sentinel.port_id port_id = mock.sentinel.port_id port_id = mock.sentinel.port_id port_id = mock.sentinel.port_id port_id = mock.sentinel.port_id subnet = mock.sentinel.subnet m_get_subnet.return_value = subnet m_to_osvif.assert_called_once_with(vif_plugin, port, {subnet_id: subnet}) pool_key = (port['binding:host_id'], port['project_id'], tuple(port['security_groups'])) port_id = mock.sentinel.port_id port_id = mock.sentinel.port_id port_id = mock.sentinel.port_id port_id = mock.sentinel.port_id port_id = mock.sentinel.port_id trunk_id = mock.sentinel.trunk_id port_id = mock.sentinel.port_id port_id = mock.sentinel.port_id trunk_id = mock.sentinel.trunk_id port_id = mock.sentinel.port_id trunk_id = mock.sentinel.trunk_id port_id = mock.sentinel.port_id port_id = mock.sentinel.port_id trunk_id = mock.sentinel.id subport_id = mock.sentinel.subport_id port_id = mock.sentinel.port_id port_id = mock.sentinel.port_id trunk_id = mock.sentinel.trunk_id subnet = mock.sentinel.subnet subnets = {subnet_id: {subnet_id: subnet}} pool_key = (port['binding:host_id'], port['project_id'], tuple(port['security_groups'])) port_id = mock.sentinel.port_id trunk_id = mock.sentinel.trunk_id subnet = mock.sentinel.subnet subnets = {subnet_id: {subnet_id: subnet}} tuple(port['security_groups'])) port_id1 = mock.sentinel.port_id1 trunk_id1 = mock.sentinel.trunk_id1 port_id2 = mock.sentinel.port_id2 trunk_id2 = mock.sentinel.trunk_id2 trunk_id=mock.sentinel.id) subnet = mock.sentinel.subnet subnets = {subnet_id: {subnet_id: subnet}} port_id1 = mock.sentinel.port_id1 port_id2 = mock.sentinel.port_id2 trunk_id = mock.sentinel.trunk_id subnet = mock.sentinel.subnet subnets = {subnet_id: {subnet_id: subnet}} pool_key = (port1['binding:host_id'], port1['project_id'], tuple(port1['security_groups'])) port_id = mock.sentinel.port_id",119,77
openstack%2Fcinder-tempest-plugin~master~Ie2fd98673272b94a527188c6670f3b538b7c4bd5,openstack/cinder-tempest-plugin,master,Ie2fd98673272b94a527188c6670f3b538b7c4bd5,DNM: regex formatting test,ABANDONED,2018-03-13 15:17:26.000000000,2018-03-20 15:10:17.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 15:17:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/53a75856a85680196eece3d972ffd156ee758edd', 'message': 'DNM: regex formatting test\n\nThe yaml language definition suggests we\'d want a "">"" here\nthat collapses line-breaks rather than a ""|"".\n\nTesting...\n\nChange-Id: Ie2fd98673272b94a527188c6670f3b538b7c4bd5\n'}]",0,552550,53a75856a85680196eece3d972ffd156ee758edd,4,2,1,4523,,,0,"DNM: regex formatting test

The yaml language definition suggests we'd want a "">"" here
that collapses line-breaks rather than a ""|"".

Testing...

Change-Id: Ie2fd98673272b94a527188c6670f3b538b7c4bd5
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/50/552550/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,53a75856a85680196eece3d972ffd156ee758edd,zuulve_jobs, tempest_test_regex: >, tempest_test_regex: |,1,1
openstack%2Fbifrost~master~If9caf26a8ef5b37cf3db718054a2522f750f924b,openstack/bifrost,master,If9caf26a8ef5b37cf3db718054a2522f750f924b,Define ironic_db_password default,MERGED,2018-03-14 20:04:27.000000000,2018-03-20 15:07:58.000000000,2018-03-20 15:07:58.000000000,"[{'_account_id': 5805}, {'_account_id': 6133}, {'_account_id': 22348}, {'_account_id': 22474}]","[{'number': 1, 'created': '2018-03-14 20:04:27.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0cb04c82be1d44c76722dbbc922a6cf532112c63', 'message': ""Define ironic_db_password default\n\nIt seems we're encountering a weird variable expansing\na weird variable expansion issue on FC 27 with ansible.\n\nDefining a default should at least unblock infra efforts\nand we can figure it out later.\n\nChange-Id: If9caf26a8ef5b37cf3db718054a2522f750f924b\n""}]",0,553036,0cb04c82be1d44c76722dbbc922a6cf532112c63,8,4,1,11655,,,0,"Define ironic_db_password default

It seems we're encountering a weird variable expansing
a weird variable expansion issue on FC 27 with ansible.

Defining a default should at least unblock infra efforts
and we can figure it out later.

Change-Id: If9caf26a8ef5b37cf3db718054a2522f750f924b
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/36/553036/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/defaults/main.yml'],1,0cb04c82be1d44c76722dbbc922a6cf532112c63,,"# NOTE(TheJulia): While we have indicated we're going to deprecate ironic_db_password, # we didn't properly notate it from what I can see at a glance, and we seem to have # an odd variable expansion issue on fedora blocking migration to fedora-27 that this # should fix.... ironic_db_password: aSecretPassword473z",,5,0
openstack%2Fcharm-swift-proxy~master~I4de220d3561bf065a3f1f64455cda22a7a807c1a,openstack/charm-swift-proxy,master,I4de220d3561bf065a3f1f64455cda22a7a807c1a,Enable xenial/queens amulet tests,MERGED,2018-02-25 15:15:14.000000000,2018-03-20 15:04:36.000000000,2018-03-20 15:04:36.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-25 15:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/169f5942432b98c3317586333bb3909c065a8005', 'message': 'Enable xenial/queens amulet tests\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\n'}, {'number': 2, 'created': '2018-02-25 15:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/d58b56c70ef48bc2b05c61cf0c5b698f9aeb09e7', 'message': 'Enable xenial/queens amulet tests\n\nSwitch to using automatic keystone v2/v3 version detection\nusing new amulet charmhelpers.\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\n'}, {'number': 3, 'created': '2018-02-25 18:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/6dbb23b1892dd5f33abf0964c94e0dca60499a81', 'message': 'Enable xenial/queens amulet tests\n\nSwitch to using automatic keystone v2/v3 version detection\nusing new amulet charmhelpers.\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\n'}, {'number': 4, 'created': '2018-02-25 18:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/33841f2ba0038962275fe9f5768a0fdd33e0ce07', 'message': 'Enable xenial/queens amulet tests\n\nSwitch to using automatic keystone v2/v3 version detection\nusing new amulet charmhelpers.\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\n'}, {'number': 5, 'created': '2018-02-26 14:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/b0a73a9d65f50e2b5c439cb87ba0f03f539aadd9', 'message': 'Enable xenial/queens amulet tests\n\nSwitch to using automatic keystone v2/v3 version detection\nusing new amulet charmhelpers.\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\n'}, {'number': 6, 'created': '2018-02-26 15:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/30a2eb911942834d9635073ee875b5f81cedb2ae', 'message': 'Enable xenial/queens amulet tests\n\nSwitch to using automatic keystone v2/v3 version detection\nusing new amulet charmhelpers.\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\n'}, {'number': 7, 'created': '2018-02-27 18:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/d2c7ba7c264a46b9a4d882d7b352949fe84bd3fb', 'message': 'Enable xenial/queens amulet tests\n\nSwitch to using automatic keystone v2/v3 version detection\nusing new amulet charmhelpers.\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\n'}, {'number': 8, 'created': '2018-02-28 08:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/ac1947b5762c15ebd6093bd61d76510f243a8396', 'message': 'Enable xenial/queens amulet tests\n\nSwitch to using automatic keystone v2/v3 version detection\nusing new amulet charmhelpers.\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\n'}, {'number': 9, 'created': '2018-02-28 09:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/a4ce19f1011980d01ab415415f6af31b4b813051', 'message': 'Enable xenial/queens amulet tests\n\nSwitch to using automatic keystone v2/v3 version detection\nusing new amulet charmhelpers in functional tests.\n\nEnable xenial/queens amulet test as part of extended tests.\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\nDepends-On: Ie6e2733f34de10a4d34b18dbf1fd9ba623af0e18\nDepends-On: Ibcc36ca22d72d310921f840e6081608be1fbc7e1\n'}, {'number': 10, 'created': '2018-02-28 11:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/4f895f2c86f9be4e233911667ab4f97d4feea61a', 'message': 'Enable xenial/queens amulet tests\n\nSwitch to using automatic keystone v2/v3 version detection\nusing new amulet charmhelpers in functional tests.\n\nEnable xenial/queens amulet test as part of extended tests.\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\nDepends-On: Ie6e2733f34de10a4d34b18dbf1fd9ba623af0e18\nDepends-On: Ibcc36ca22d72d310921f840e6081608be1fbc7e1\n'}, {'number': 11, 'created': '2018-03-12 09:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/42f0c5838ec5bad1073085a98daf0c7ec4d07988', 'message': 'Enable xenial/queens amulet tests\n\nSwitch to using automatic keystone v2/v3 version detection\nusing new amulet charmhelpers in functional tests.\n\nEnable xenial/queens amulet test as part of extended tests.\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\nDepends-On: Ie6e2733f34de10a4d34b18dbf1fd9ba623af0e18\nDepends-On: Ibcc36ca22d72d310921f840e6081608be1fbc7e1\n'}, {'number': 12, 'created': '2018-03-12 13:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/56e53df84226a61a290cdfe4e1a7bdf733b28054', 'message': 'Enable xenial/queens amulet tests\n\nSwitch to using automatic keystone v2/v3 version detection\nusing new amulet charmhelpers in functional tests.\n\nEnable xenial/queens amulet test as part of extended tests.\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\nDepends-On: Ie6e2733f34de10a4d34b18dbf1fd9ba623af0e18\nDepends-On: Ibcc36ca22d72d310921f840e6081608be1fbc7e1\n'}, {'number': 13, 'created': '2018-03-14 17:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/1ed6391c4203464d92ff75d2315fc9869ca11f80', 'message': 'Enable xenial/queens amulet tests\n\nSwitch to using automatic keystone v2/v3 version detection\nusing new amulet charmhelpers in functional tests.\n\nEnable xenial/queens amulet test as part of extended tests.\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\nDepends-On: Ie6e2733f34de10a4d34b18dbf1fd9ba623af0e18\nDepends-On: Ibcc36ca22d72d310921f840e6081608be1fbc7e1\n'}, {'number': 14, 'created': '2018-03-15 11:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/c18ccc60b7cb0bb8cb538a438ec960d1ba511ed1', 'message': 'Enable xenial/queens amulet tests\n\nSwitch to using automatic keystone v2/v3 version detection\nusing new amulet charmhelpers in functional tests.\n\nEnable xenial/queens amulet test as part of extended tests.\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\nDepends-On: Ie6e2733f34de10a4d34b18dbf1fd9ba623af0e18\nDepends-On: Ibcc36ca22d72d310921f840e6081608be1fbc7e1\n'}, {'number': 15, 'created': '2018-03-15 12:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/4ecb23e7fae1d22de83f35a47521b6abd7606e64', 'message': 'Enable xenial/queens amulet tests\n\nSwitch to using automatic keystone v2/v3 version detection\nusing new amulet charmhelpers in functional tests.\n\nEnable xenial/queens amulet test as part of extended tests.\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\nDepends-On: Ie6e2733f34de10a4d34b18dbf1fd9ba623af0e18\nDepends-On: Ibcc36ca22d72d310921f840e6081608be1fbc7e1\n'}, {'number': 16, 'created': '2018-03-15 13:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/2bd89050a1f935e35fb53e77e262d97376bf0949', 'message': 'Enable xenial/queens amulet tests\n\nSwitch to using automatic keystone v2/v3 version detection\nusing new amulet charmhelpers in functional tests.\n\nEnable xenial/queens amulet test as part of extended tests.\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\nDepends-On: Ie6e2733f34de10a4d34b18dbf1fd9ba623af0e18\nDepends-On: Ibcc36ca22d72d310921f840e6081608be1fbc7e1\n'}, {'number': 17, 'created': '2018-03-16 13:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/c5dfd21ea9aa62c098b339f3044095a111fc3976', 'message': 'Enable xenial/queens amulet tests\n\nSwitch to using automatic keystone v2/v3 version detection\nusing new amulet charmhelpers in functional tests.\n\nEnable xenial/queens amulet test as part of extended tests.\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\nDepends-On: Ie6e2733f34de10a4d34b18dbf1fd9ba623af0e18\nDepends-On: Ibcc36ca22d72d310921f840e6081608be1fbc7e1\n'}, {'number': 18, 'created': '2018-03-16 15:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/8248d0378282128a90130d13180ab647dd1ffbb7', 'message': 'Enable xenial/queens amulet tests\n\nSwitch to using automatic keystone v2/v3 version detection\nusing new amulet charmhelpers in functional tests.\n\nEnable xenial/queens amulet test as part of extended tests.\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\nDepends-On: Ie6e2733f34de10a4d34b18dbf1fd9ba623af0e18\nDepends-On: Ibcc36ca22d72d310921f840e6081608be1fbc7e1\n'}, {'number': 19, 'created': '2018-03-20 09:54:18.000000000', 'files': ['charmhelpers/contrib/openstack/amulet/deployment.py', 'tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'tests/charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'unit_tests/test_actions_openstack_upgrade.py', 'tests/gate-basic-xenial-queens', '.pydevproject'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/59971e1c7d31a0d293ecaa513f319d1d0019e260', 'message': 'Enable xenial/queens amulet tests\n\nSwitch to using automatic keystone v2/v3 version detection\nusing new amulet charmhelpers in functional tests.\n\nEnable xenial/queens amulet test as part of extended tests.\n\nChange-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a\nDepends-On: Ie6e2733f34de10a4d34b18dbf1fd9ba623af0e18\nDepends-On: Ibcc36ca22d72d310921f840e6081608be1fbc7e1\n'}]",0,547824,59971e1c7d31a0d293ecaa513f319d1d0019e260,77,5,19,935,,,0,"Enable xenial/queens amulet tests

Switch to using automatic keystone v2/v3 version detection
using new amulet charmhelpers in functional tests.

Enable xenial/queens amulet test as part of extended tests.

Change-Id: I4de220d3561bf065a3f1f64455cda22a7a807c1a
Depends-On: Ie6e2733f34de10a4d34b18dbf1fd9ba623af0e18
Depends-On: Ibcc36ca22d72d310921f840e6081608be1fbc7e1
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/24/547824/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/charmhelpers/contrib/openstack/amulet/utils.py', 'tests/basic_deployment.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'tests/gate-basic-xenial-queens']",4,169f5942432b98c3317586333bb3909c065a8005,queens-testing,,,166,36
openstack%2Fsahara~master~I5b54d69def7b457715ed60da3663a0153fe94be8,openstack/sahara,master,I5b54d69def7b457715ed60da3663a0153fe94be8,Fix Spark EDP job failed in vanilla 2.8.2,MERGED,2018-02-27 11:22:09.000000000,2018-03-20 15:03:25.000000000,2018-03-07 12:27:44.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 22689}]","[{'number': 1, 'created': '2018-02-27 11:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/17885767cfd2ceed0ada6f82da86cc4c6c498741', 'message': 'Fix Spark EDP job failed\n\nVanilla plugin should specify corresponded hadoop-openstack package\naccording to plugin version in spark configuration.\n\nChange-Id: I5b54d69def7b457715ed60da3663a0153fe94be8\n'}, {'number': 2, 'created': '2018-02-27 11:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/22c4aec59c2054b9b55b5e0e5b8cefadb957fdb9', 'message': 'Fix Spark EDP job failed\n\nVanilla plugin should specify corresponded hadoop-openstack package\naccording to plugin version in spark configuration.\n\nChange-Id: I5b54d69def7b457715ed60da3663a0153fe94be8\n'}, {'number': 3, 'created': '2018-02-27 15:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/caad1da58440873944f14031481b8ee7d41292a8', 'message': 'Fix Spark EDP job failed\n\nVanilla plugin should specify corresponded hadoop-openstack package\naccording to plugin version in spark configuration.\n\nChange-Id: I5b54d69def7b457715ed60da3663a0153fe94be8\n'}, {'number': 4, 'created': '2018-03-01 02:13:10.000000000', 'files': ['sahara/plugins/vanilla/v2_8_2/config_helper.py', 'sahara/tests/unit/plugins/vanilla/hadoop2/test_config_helper.py', 'sahara/tests/unit/plugins/vanilla/v2_8_2/test_config_helper.py', 'sahara/tests/unit/plugins/vanilla/v2_7_1/test_config_helper.py', 'sahara/plugins/vanilla/v2_7_1/config_helper.py', 'sahara/plugins/vanilla/hadoop2/config_helper.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/779cade38548687b63ca3fa84c1ff58598e64768', 'message': 'Fix Spark EDP job failed in vanilla 2.8.2\n\nVanilla should specify corresponded hadoop-openstack package\naccording to plugin version in spark configuration.\n\nIn Vanilla 2.8.2, there is an error that hadoop-openstack\nversion was specified to 2.7.1. This causes spark job failed\nin vanilla 2.8.2 because of ""No such file"".\n\nChange-Id: I5b54d69def7b457715ed60da3663a0153fe94be8\n'}]",1,548233,779cade38548687b63ca3fa84c1ff58598e64768,20,4,4,22689,,,0,"Fix Spark EDP job failed in vanilla 2.8.2

Vanilla should specify corresponded hadoop-openstack package
according to plugin version in spark configuration.

In Vanilla 2.8.2, there is an error that hadoop-openstack
version was specified to 2.7.1. This causes spark job failed
in vanilla 2.8.2 because of ""No such file"".

Change-Id: I5b54d69def7b457715ed60da3663a0153fe94be8
",git fetch https://review.opendev.org/openstack/sahara refs/changes/33/548233/4 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/plugins/vanilla/v2_8_2/config_helper.py', 'sahara/tests/unit/plugins/vanilla/hadoop2/test_config_helper.py', 'sahara/tests/unit/plugins/vanilla/v2_7_1/test_config_helper.py', 'sahara/tests/unit/plugins/vanilla/v2_8_2/test_config_helper.py', 'sahara/plugins/vanilla/v2_7_1/config_helper.py', 'sahara/plugins/vanilla/hadoop2/config_helper.py']",6,17885767cfd2ceed0ada6f82da86cc4c6c498741,fix-spark-edp,,"_default_executor_classpath = "":"".join( ['/opt/hadoop/share/hadoop/tools/lib/hadoop-openstack-2.7.1.jar']) 'name': 'Executor extra classpath', 'description': 'Value for spark.executor.extraClassPath' ' in spark-defaults.conf' ' (default: %s)' % _default_executor_classpath, 'default': '%s' % _default_executor_classpath, 'priority': 2, }, {def _get_spark_opt_default(opt_name): for opt in SPARK_CONFS[""Spark""][""OPTIONS""]: if opt_name == opt[""name""]: return opt[""default""] return None ",80,37
openstack%2Fpuppet-tripleo~master~Iffb6e76cdd0286ef10ada57c70ce31971e42c84f,openstack/puppet-tripleo,master,Iffb6e76cdd0286ef10ada57c70ce31971e42c84f,Make the 'Could not find data item hacluster_pwd' error a bit clearer,MERGED,2018-03-19 18:13:25.000000000,2018-03-20 14:54:30.000000000,2018-03-20 14:54:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6924}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-19 18:13:25.000000000', 'files': ['manifests/profile/base/pacemaker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/77527bb050ba8ae7fb2c67742466e099818fb446', 'message': 'Make the \'Could not find data item hacluster_pwd\' error a bit clearer\n\nIf you deploy a role with a pacemaker-managed service (galera, rabbit, redis,\netc) but forgot to add the ::tripleo::profile::base::pacemaker\nthere will be a rather unintuitive error:\n  puppet apply --debug --verbose --detailed-exitcodes --summarize --color=false --modulepath\n    /etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/module --tags\n    file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation\n    -e \'include ::tripleo::profile::base::pacemaker;include ::tripleo::profile::pacemaker::database::redis_bundle\'"",\n  Error: Evaluation Error: Error while evaluating a Function\n  Call, Could not find data item hacluster_pwd in any Hiera data file and no default supplied at\n  /etc/puppet/modules/tripleo/manifests/profile/base/pacemaker.pp:127:24 on node role-2.localdomain\n\nLet\'s make it a bit clearer. Long-term we want to look at a validation\nthat covers this.\n\nChange-Id: Iffb6e76cdd0286ef10ada57c70ce31971e42c84f\n'}]",0,554309,77527bb050ba8ae7fb2c67742466e099818fb446,12,5,1,20172,,,0,"Make the 'Could not find data item hacluster_pwd' error a bit clearer

If you deploy a role with a pacemaker-managed service (galera, rabbit, redis,
etc) but forgot to add the ::tripleo::profile::base::pacemaker
there will be a rather unintuitive error:
  puppet apply --debug --verbose --detailed-exitcodes --summarize --color=false --modulepath
    /etc/puppet/modules:/opt/stack/puppet-modules:/usr/share/openstack-puppet/module --tags
    file,file_line,concat,augeas,pacemaker::resource::bundle,pacemaker::property,pacemaker::resource::ocf,pacemaker::constraint::order,pacemaker::constraint::colocation
    -e 'include ::tripleo::profile::base::pacemaker;include ::tripleo::profile::pacemaker::database::redis_bundle'"",
  Error: Evaluation Error: Error while evaluating a Function
  Call, Could not find data item hacluster_pwd in any Hiera data file and no default supplied at
  /etc/puppet/modules/tripleo/manifests/profile/base/pacemaker.pp:127:24 on node role-2.localdomain

Let's make it a bit clearer. Long-term we want to look at a validation
that covers this.

Change-Id: Iffb6e76cdd0286ef10ada57c70ce31971e42c84f
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/09/554309/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker.pp'],1,77527bb050ba8ae7fb2c67742466e099818fb446,clearer-pcmk-error-message," if hiera('hacluster_pwd', undef) == undef { fail(""The 'hacluster_pwd' hiera key is undefined, did you forget to include ::tripleo::profile::base::pacemaker in your role?"") } ",,4,0
openstack%2Frpm-packaging~master~Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798,openstack/rpm-packaging,master,Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798,Add monasca tempest plugin package,MERGED,2018-03-15 17:45:50.000000000,2018-03-20 14:45:03.000000000,2018-03-20 12:13:00.000000000,"[{'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24580}, {'_account_id': 27679}]","[{'number': 1, 'created': '2018-03-15 17:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6c9128f90a82021657c796307fd41f0c864403c0', 'message': 'Add monasca tempest plugin package\n\nThis patch add monasca tempest plugin package spec template.\n\nChange-Id: Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798\nco-Authored-By: Scott Grasley <sgrasley@suse.com>\n'}, {'number': 2, 'created': '2018-03-15 17:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/80d5f9405abc12425c726a8a33a4c72c532f9970', 'message': 'Add monasca tempest plugin package\n\nThis patch add monasca tempest plugin package spec template.\n\nChange-Id: Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798\nCo-Authored-By: Scott Grasley <sgrasley@suse.com>\n'}, {'number': 3, 'created': '2018-03-19 17:29:04.000000000', 'files': ['openstack/monasca-tempest-plugin/monasca-tempest-plugin.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c9cabc77ceb740c0797ada0d97742dd51af29e34', 'message': 'Add monasca tempest plugin package\n\nThis patch add monasca tempest plugin package spec template.\n\nChange-Id: Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798\nCo-Authored-By: Scott Grasley <sgrasley@suse.com>\n'}]",0,553505,c9cabc77ceb740c0797ada0d97742dd51af29e34,26,8,3,24580,,,0,"Add monasca tempest plugin package

This patch add monasca tempest plugin package spec template.

Change-Id: Ie9b9e7d087a5e8de2c2d282b11bf0dc8b25cb798
Co-Authored-By: Scott Grasley <sgrasley@suse.com>
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/05/553505/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-tempest-plugin/monasca-tempest-plugin.spec.j2'],1,6c9128f90a82021657c796307fd41f0c864403c0,monasca-tempest-plugin,"{% set pypi_name = 'monasca-tempest-plugin' %} {% set source=fetch_source('http://tarballs.openstack.org/monasca-tempest-plugin/monasca-tempest-plugin-master.tar.gz') %} {% set upstream_version = upstream_version() %} {% set rpm_release = '1' %} %global sname monasca_tempest_plugin %global with_doc 0 %global common_desc \ This package contains Tempest tests to cover the monasca project. \ Additionally it provides a plugin to automatically load these tests into Tempest. Name: {{ py2pkg('monasca-tempest-plugin') }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }} Summary: Tempest plugin for the monaca project License: {{ license('Apache-2.0') }} Group: Development/Languages/Python URL: https://git.openstack.org/cgit/openstack/{{ pypi_name }} Source0: {{ source|basename }} BuildRequires: openstack-macros BuildRequires: {{ py2pkg('devel') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('setuptools') }} Requires: {{ py2pkg('Tempest') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('oslotest') }} Requires: {{ py2pkg('mock') }} BuildArch: noarch %description %{common_desc} %if 0%{?with_doc} %package doc Summary: Documentation for monasca tempest plugin BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('oslosphinx') }} %description doc It contains the documentation for the monasca tempest tests. %endif %prep %autosetup -n {{ pypi_name }}-{{ upstream_version }} # Let's handle dependencies ourseleves %py_req_cleanup # Remove bundled egg-info rm -rf %{module}.egg-info %build %{py2_build} # Generate Docs %if 0%{?with_doc} %{__python2} setup.py build_sphinx # remove the sphinx build leftovers rm -rf doc/build/html/.{doctrees,buildinfo} %endif %install %{py2_install} %files %license LICENSE %doc README.rst %{python2_sitelib}/monasca_tempest_tests %{python2_sitelib}/*.egg-info %if 0%{?with_doc} %files doc %doc doc/build/html %license LICENSE %endif %changelog ",,79,0
openstack%2Fneutron~master~I746be2ea2d35dd88db9736f78248fb51f86f9839,openstack/neutron,master,I746be2ea2d35dd88db9736f78248fb51f86f9839,DNM: consume create_ plugin utils from neutron-lib,ABANDONED,2018-03-20 14:15:35.000000000,2018-03-20 14:41:02.000000000,,"[{'_account_id': 5367}, {'_account_id': 15752}]","[{'number': 1, 'created': '2018-03-20 14:15:35.000000000', 'files': ['neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/services/auto_allocate/db.py', 'neutron/db/l3_hamode_db.py', 'neutron/plugins/common/_utils.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/api/rpc/handlers/test_dhcp_rpc.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/09b3df471093b35113fa709773f613cf60bb2d07', 'message': 'DNM: consume create_ plugin utils from neutron-lib\n\nDO NOT MERGE\n\nThis is a sample consumption patch for\nI2c0e4ef03425ba0bb2651ae3e68d6c8cde7b8f90\n\nNeutronLibImpact\n\nChange-Id: I746be2ea2d35dd88db9736f78248fb51f86f9839\n'}]",0,554558,09b3df471093b35113fa709773f613cf60bb2d07,4,2,1,5367,,,0,"DNM: consume create_ plugin utils from neutron-lib

DO NOT MERGE

This is a sample consumption patch for
I2c0e4ef03425ba0bb2651ae3e68d6c8cde7b8f90

NeutronLibImpact

Change-Id: I746be2ea2d35dd88db9736f78248fb51f86f9839
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/554558/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/services/auto_allocate/db.py', 'neutron/db/l3_hamode_db.py', 'neutron/plugins/common/_utils.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/api/rpc/handlers/test_dhcp_rpc.py', 'neutron/db/l3_db.py']",7,09b3df471093b35113fa709773f613cf60bb2d07,use-lib-pluginutils," gw_port = plugin_utils.create_port( self._core_plugin, context.elevated(), {'port': port_data}) return plugin_utils.create_port( self._core_plugin, context, {'port': port_data}), [subnet], True external_port = plugin_utils.create_port( self._core_plugin, context.elevated(), {'port': port}, check_allow_post=False)","from neutron.plugins.common import _utils as p_utils gw_port = p_utils.create_port(self._core_plugin, context.elevated(), {'port': port_data}) return p_utils.create_port(self._core_plugin, context, {'port': port_data}), [subnet], True external_port = p_utils.create_port(self._core_plugin, context.elevated(), {'port': port}, check_allow_post=False)",16,61
openstack%2Fos-client-config~master~I7d15abb4ee1cbe84f7d7b976bd665635018ed3dc,openstack/os-client-config,master,I7d15abb4ee1cbe84f7d7b976bd665635018ed3dc,Add image_format for VEXXHOST profile,MERGED,2018-03-19 20:42:26.000000000,2018-03-20 14:36:58.000000000,2018-03-20 14:36:58.000000000,"[{'_account_id': 2}, {'_account_id': 4162}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 20:42:26.000000000', 'files': ['os_client_config/vendors/vexxhost.json'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/4216b2fb848107fb484a59c3ca78b4a6f68a7e5f', 'message': 'Add image_format for VEXXHOST profile\n\nChange-Id: I7d15abb4ee1cbe84f7d7b976bd665635018ed3dc\n'}]",0,554351,4216b2fb848107fb484a59c3ca78b4a6f68a7e5f,8,4,1,1004,,,0,"Add image_format for VEXXHOST profile

Change-Id: I7d15abb4ee1cbe84f7d7b976bd665635018ed3dc
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/51/554351/1 && git format-patch -1 --stdout FETCH_HEAD,['os_client_config/vendors/vexxhost.json'],1,4216b2fb848107fb484a59c3ca78b4a6f68a7e5f,," ""image_format"": ""raw"",",,1,0
openstack%2Fmanila~master~Ibcdd4f58f15a53c69d35db06bc42283859349758,openstack/manila,master,Ibcdd4f58f15a53c69d35db06bc42283859349758,Fix tap device disappear after node restart,MERGED,2018-02-01 12:16:43.000000000,2018-03-20 14:33:34.000000000,2018-03-13 19:51:40.000000000,"[{'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 11047}, {'_account_id': 11865}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 15942}, {'_account_id': 16643}, {'_account_id': 16657}, {'_account_id': 18883}, {'_account_id': 20160}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26297}, {'_account_id': 27173}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-02-01 12:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/43f2a3e50f1a1cb8c04d8a28ec19c0cc2f4d37ef', 'message': 'Fix tap device disappear after node restart\n\nFixed the tap device will disappear after restart the node in generic,\nthat will caused manila can not manage share that created by this service\n\nChange-Id: Ibcdd4f58f15a53c69d35db06bc42283859349758\nCloses-Bug:#1688155\n'}, {'number': 2, 'created': '2018-02-01 12:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cb1c9bfb0246aff50402464640319fc176ae1cfb', 'message': 'Fix tap device disappear after node restart\n\nFixed the tap device will disappear after restart the node in generic,\nthat will caused manila can not manage share that created by this service\n\nChange-Id: Ibcdd4f58f15a53c69d35db06bc42283859349758\nCloses-Bug:#1688155\n'}, {'number': 3, 'created': '2018-02-05 11:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d3b58d3107dca2bfa56e5d3568629e0598db87e5', 'message': 'Fix tap device disappear after node restart\n\nWhen use driver_handles_share_servers driver, the tap device will\ndown and the tap device  mac address is changed after restart the\nnode, that will caused manila can not manage share that created\nby this service.\nThis path fix this issue. When restart manila-share service,\ncall setup_connectivity_with_service_instances() to create host port\nand check the the mac address.\n\nChange-Id: Ibcdd4f58f15a53c69d35db06bc42283859349758\nCloses-Bug:#1688155\n'}, {'number': 4, 'created': '2018-02-06 07:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d788296e4c7a537455d570407034009a20d8a396', 'message': 'Fix tap device disappear after node restart\n\nWhen use driver_handles_share_servers driver, the tap device will\ndown and the tap device  mac address is changed after restart the\nnode, that will caused manila can not manage share that created\nby this service.\nThis path fix this issue. When restart manila-share service,\ncall setup_connectivity_with_service_instances() to create host port\nand check the the mac address.\n\nChange-Id: Ibcdd4f58f15a53c69d35db06bc42283859349758\nCloses-Bug:#1688155\n'}, {'number': 5, 'created': '2018-02-07 04:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/63efdd9700c600f152d16cfa1a2d9c7fb4f41509', 'message': 'Fix tap device disappear after node restart\n\nWhen use driver_handles_share_servers driver, the tap device will\ndown and the tap device  mac address is changed after restart the\nnode, that will caused manila can not manage share that created\nby this service.\nThis path fix this issue. When restart manila-share service,\ncall setup_connectivity_with_service_instances() to create host port\nand check the the mac address.\n\nChange-Id: Ibcdd4f58f15a53c69d35db06bc42283859349758\nCloses-Bug:#1688155\n'}, {'number': 6, 'created': '2018-02-07 06:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8393b4277c97ee4e1e73e49ef2f2c13669fb79ca', 'message': 'Fix tap device disappear after node restart\n\nWhen use driver_handles_share_servers driver, the tap device will\ndown and the tap device  mac address is changed after restart the\nnode, that will caused manila can not manage share that created\nby this service.\nThis path fix this issue. When restart manila-share service,\ncall setup_connectivity_with_service_instances() to create host port\nand check the the mac address.\n\nChange-Id: Ibcdd4f58f15a53c69d35db06bc42283859349758\nCloses-Bug:#1688155\n'}, {'number': 7, 'created': '2018-03-02 06:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3632b173afd098df0961adcb503505a1b7a651e6', 'message': 'Fix tap device disappear after node restart\n\nWhen use driver_handles_share_servers driver, the tap device will\ndown and the tap device  mac address is changed after restart the\nnode, that will caused manila can not manage share that created\nby this service.\nThis path fix this issue. When restart manila-share service,\ncall setup_connectivity_with_service_instances() to create host port\nand check the the mac address.\n\nChange-Id: Ibcdd4f58f15a53c69d35db06bc42283859349758\nCloses-Bug:#1688155\n'}, {'number': 8, 'created': '2018-03-13 01:58:21.000000000', 'files': ['releasenotes/notes/reset_tap_device_after_node_restart-0690a6beca077b95.yaml', 'manila/tests/fake_service_instance.py', 'manila/network/linux/interface.py', 'manila/tests/fake_driver.py', 'manila/share/manager.py', 'manila/tests/network/linux/test_interface.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/7422aef799dd3f03bf01d40a60fb9a3c5abc8432', 'message': 'Fix tap device disappear after node restart\n\nWhen use driver_handles_share_servers driver, the tap device will\ndown and the tap device  mac address is changed after restart the\nnode, that will caused manila can not manage share that created\nby this service.\nThis path fix this issue. When restart manila-share service,\ncall setup_connectivity_with_service_instances() to create host port\nand check the the mac address.\n\nChange-Id: Ibcdd4f58f15a53c69d35db06bc42283859349758\nCloses-Bug:#1688155\n'}]",0,539924,7422aef799dd3f03bf01d40a60fb9a3c5abc8432,88,25,8,20160,,,0,"Fix tap device disappear after node restart

When use driver_handles_share_servers driver, the tap device will
down and the tap device  mac address is changed after restart the
node, that will caused manila can not manage share that created
by this service.
This path fix this issue. When restart manila-share service,
call setup_connectivity_with_service_instances() to create host port
and check the the mac address.

Change-Id: Ibcdd4f58f15a53c69d35db06bc42283859349758
Closes-Bug:#1688155
",git fetch https://review.opendev.org/openstack/manila refs/changes/24/539924/8 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/fake_service_instance.py', 'manila/tests/fake_driver.py', 'manila/share/manager.py', 'manila/tests/share/drivers/test_generic.py']",4,43f2a3e50f1a1cb8c04d8a28ec19c0cc2f4d37ef,bug/1688155," self.mock_object(self._driver.service_instance_manager, '_get_network_helper()')",,26,0
openstack%2Frpm-packaging~master~I7e6aee0ef66f16844c37c6b7fa72bab4cc19e991,openstack/rpm-packaging,master,I7e6aee0ef66f16844c37c6b7fa72bab4cc19e991,monasca-api: include Cassandra schema,MERGED,2018-03-20 10:59:33.000000000,2018-03-20 14:31:31.000000000,2018-03-20 14:31:31.000000000,"[{'_account_id': 12542}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-20 10:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/dfc1e7c03070c5c2941657bcddeb78f96dbff1a7', 'message': 'monasca-api: include Cassandra schema\n\nChange-Id: I7e6aee0ef66f16844c37c6b7fa72bab4cc19e991\n'}, {'number': 2, 'created': '2018-03-20 13:05:32.000000000', 'files': ['openstack/monasca-api/monasca-api.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/631f5ab996755a0d858e9047fff78ffeea469f20', 'message': 'monasca-api: include Cassandra schema\n\nChange-Id: I7e6aee0ef66f16844c37c6b7fa72bab4cc19e991\n'}]",0,554503,631f5ab996755a0d858e9047fff78ffeea469f20,16,6,2,12542,,,0,"monasca-api: include Cassandra schema

Change-Id: I7e6aee0ef66f16844c37c6b7fa72bab4cc19e991
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/03/554503/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-api/monasca-api.spec.j2'],1,dfc1e7c03070c5c2941657bcddeb78f96dbff1a7,include-cassandra-schema,install -D -m 640 devstack/files/cassandra/cassandra_schema.cql %{buildroot}%{_usr}/share/%{component}/schema/,,1,0
openstack%2Fvitrage~stable%2Fqueens~I97011c0dd3e0984b638a51f6ec9bddf5325d32e7,openstack/vitrage,stable/queens,I97011c0dd3e0984b638a51f6ec9bddf5325d32e7,Bug fix: filter topology by project_id also when there is a query,MERGED,2018-03-20 12:13:35.000000000,2018-03-20 14:29:49.000000000,2018-03-20 14:29:48.000000000,"[{'_account_id': 19134}, {'_account_id': 19184}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 12:13:35.000000000', 'files': ['vitrage/api_handler/apis/topology.py', 'vitrage/api_handler/apis/base.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/ebebc14b623347893bb18b3eeacc6cac0dec6880', 'message': 'Bug fix: filter topology by project_id also when there is a query\n\nPreviously, if vitrage topology show was called with a filter parameter,\nthe project_id was not added to the query so the returned topology\nincluded resources of other projects as well.\n\nExample:\nvitrage topology show --filter ""{ \\""==\\"" : {\\""vitrage_type\\"" : \\""nova.instance\\""} }""\n\nReturned instances of other projects.\n\nChange-Id: I97011c0dd3e0984b638a51f6ec9bddf5325d32e7\n'}]",0,554520,ebebc14b623347893bb18b3eeacc6cac0dec6880,7,3,1,19159,,,0,"Bug fix: filter topology by project_id also when there is a query

Previously, if vitrage topology show was called with a filter parameter,
the project_id was not added to the query so the returned topology
included resources of other projects as well.

Example:
vitrage topology show --filter ""{ \""==\"" : {\""vitrage_type\"" : \""nova.instance\""} }""

Returned instances of other projects.

Change-Id: I97011c0dd3e0984b638a51f6ec9bddf5325d32e7
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/20/554520/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/api_handler/apis/topology.py', 'vitrage/api_handler/apis/base.py']",2,ebebc14b623347893bb18b3eeacc6cac0dec6880,query_with_project_id," @classmethod def _get_query_with_project(cls, vitrage_category, project_id, is_admin): cls._add_project_to_query(query, project_id, is_admin) return query @staticmethod def _add_project_to_query(query, project_id, is_admin): """"""Add project_id filter to the query Each query should contain the project_id condition :type query: string representing a json query :type project_id: string :type is_admin: boolean :rtype: string representing a json query """""" if 'and' in query: query_with_project_id = query query_with_project_id['and'].append(project_query) else: query_with_project_id = {'and': [project_query, query]} return query_with_project_id"," @staticmethod def _get_query_with_project(vitrage_category, project_id, is_admin): query['and'].append(project_query) return query",25,5
openstack%2Fneutron~master~I3ba11fae433b437d9d3a0b12dd8a11fe1b35046a,openstack/neutron,master,I3ba11fae433b437d9d3a0b12dd8a11fe1b35046a,DVR: Fix mac format for backward compatibility with vsctl api,MERGED,2018-03-16 17:59:17.000000000,2018-03-20 14:28:03.000000000,2018-03-20 14:18:18.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6876}, {'_account_id': 7016}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 13770}, {'_account_id': 15309}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 19307}, {'_account_id': 22348}, {'_account_id': 23327}]","[{'number': 1, 'created': '2018-03-16 17:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f5a8df5874da45d851515c1390924929be91d0f', 'message': 'DVR: Fix mac format in the ovs agent to be supported by legacy openflow\n\nFix the mac address format in the ovs agent to be supported\nby the legacy openflow\n\nCloses-Bug: #1756406\nChange-Id: I3ba11fae433b437d9d3a0b12dd8a11fe1b35046a\n'}, {'number': 2, 'created': '2018-03-16 18:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f2fd7f6784d422089e97be8a8ab330af17c4422', 'message': 'DVR: Fix mac format for backward compatibility with vsctl api\n\nFix the mac address format for backward compatibility with\nvsctl ovs api\n\nCloses-Bug: #1756406\nChange-Id: I3ba11fae433b437d9d3a0b12dd8a11fe1b35046a\n'}, {'number': 3, 'created': '2018-03-16 18:49:36.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b13cf0bee67e6196201e7863b1facce54b6d6f6', 'message': 'DVR: Fix mac format for backward compatibility with vsctl api\n\nFix the mac address format for backward compatibility with\nvsctl ovs api\n\nCloses-Bug: #1756406\nChange-Id: I3ba11fae433b437d9d3a0b12dd8a11fe1b35046a\n'}]",8,553870,6b13cf0bee67e6196201e7863b1facce54b6d6f6,22,15,3,7016,,,0,"DVR: Fix mac format for backward compatibility with vsctl api

Fix the mac address format for backward compatibility with
vsctl ovs api

Closes-Bug: #1756406
Change-Id: I3ba11fae433b437d9d3a0b12dd8a11fe1b35046a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/553870/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,0f5a8df5874da45d851515c1390924929be91d0f,bug/1756406," 'mac_address': 'aa-bb-cc-dd-ee-ff'}, 'mac_address': '11-22-33-44-55-66'}]): 'mac_address': 'aa-22-33-44-55-66'}): valid_entry = {'host': 'cn1', 'mac_address': 'aa-22-33-44-55-66'}"," 'mac_address': 'aa:bb:cc:dd:ee:ff'}, 'mac_address': '11:22:33:44:55:66'}]): 'mac_address': 'aa:22:33:44:55:66'}): valid_entry = {'host': 'cn1', 'mac_address': 'aa:22:33:44:55:66'}",18,9
openstack%2Fopenstack-ansible-os_keystone~master~I36c112c4fe50b0b125291de51d4267729e58aeee,openstack/openstack-ansible-os_keystone,master,I36c112c4fe50b0b125291de51d4267729e58aeee,Add --show-task-ratio-json to locust command,ABANDONED,2017-02-09 16:50:23.000000000,2018-03-20 14:26:42.000000000,,"[{'_account_id': 5046}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-02-09 16:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/f4f9e180f20411335b328372ca2069a853897d4a', 'message': ""Add --show-task-ratio-json to locust command\n\nLocusts provides a report of the performance we achieved during the\nupgrade, but it is not really in any sort of format. Let's see if we\nget things back in JSON so that it's easier to make sense of the\ninformation in automated ways.\n\nChange-Id: I36c112c4fe50b0b125291de51d4267729e58aeee\n""}, {'number': 2, 'created': '2017-02-09 16:51:45.000000000', 'files': ['tests/test-benchmark-keystone-upgrade.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/d0a07c5a306d6b916583c98e4066b31c878f96ad', 'message': ""Add --show-task-ratio-json to locust command\n\nLocust provides a report of the performance we achieved during the\nupgrade, but it is not really in any sort of format. Let's see if we\nget things back in JSON so that it's easier to make sense of the\ninformation in automated ways.\n\nChange-Id: I36c112c4fe50b0b125291de51d4267729e58aeee\n""}]",0,431643,d0a07c5a306d6b916583c98e4066b31c878f96ad,8,2,2,5046,,,0,"Add --show-task-ratio-json to locust command

Locust provides a report of the performance we achieved during the
upgrade, but it is not really in any sort of format. Let's see if we
get things back in JSON so that it's easier to make sense of the
information in automated ways.

Change-Id: I36c112c4fe50b0b125291de51d4267729e58aeee
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/43/431643/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test-benchmark-keystone-upgrade.yml'],1,f4f9e180f20411335b328372ca2069a853897d4a,bp/upgrade-testing, command: locust -f /opt/locustfile.py --no-web --clients=4 --hatch-rate=1 --only-summary --host=http://localhost --port=5000 --logfile=/var/log/locust.log --show-task-ratio-json, command: locust -f /opt/locustfile.py --no-web --clients=4 --hatch-rate=1 --only-summary --host=http://localhost --port=5000 --logfile=/var/log/locust.log,1,1
openstack%2Fmonasca-ceilometer~master~I51c06d37404ca376e7fd7a059253b68ce4e9e924,openstack/monasca-ceilometer,master,I51c06d37404ca376e7fd7a059253b68ce4e9e924,updata mysql connection method,ABANDONED,2018-03-12 13:14:32.000000000,2018-03-20 14:24:34.000000000,,"[{'_account_id': 10311}, {'_account_id': 11580}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-12 13:14:32.000000000', 'files': ['etc/ceilometer/ceilometer.conf'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/4e5eb475d5a2dc785771aed9377494645f49b9d7', 'message': 'updata mysql connection method\n\nChange-Id: I51c06d37404ca376e7fd7a059253b68ce4e9e924\n'}]",0,552010,4e5eb475d5a2dc785771aed9377494645f49b9d7,5,3,1,21486,,,0,"updata mysql connection method

Change-Id: I51c06d37404ca376e7fd7a059253b68ce4e9e924
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/10/552010/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/ceilometer/ceilometer.conf'],1,4e5eb475d5a2dc785771aed9377494645f49b9d7,,#metering_connection = mysql+pymysql://root:password@127.0.0.1/ceilometer?charset=utf8 event_connection = mysql+pymysql://root:password@127.0.0.1/ceilometer?charset=utf8 alarm_connection = mysql+pymysql://root:password@127.0.0.1/ceilometer?charset=utf8,#metering_connection = mysql://root:password@127.0.0.1/ceilometer?charset=utf8 event_connection = mysql://root:password@127.0.0.1/ceilometer?charset=utf8 alarm_connection = mysql://root:password@127.0.0.1/ceilometer?charset=utf8,3,3
openstack%2Fpython-saharaclient~master~I616ad9f7f089873890ba508cf3e39067f046ae53,openstack/python-saharaclient,master,I616ad9f7f089873890ba508cf3e39067f046ae53,Follow the new PTI for document build,MERGED,2018-03-19 11:36:32.000000000,2018-03-20 14:24:14.000000000,2018-03-20 14:24:14.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-03-19 11:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/363718d80ed080bfffb7957e43ae1ec3bbb46cc4', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I616ad9f7f089873890ba508cf3e39067f046ae53\n'}, {'number': 2, 'created': '2018-03-19 11:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/0b12ae0a2c6f1ff453002155440497d0574484b0', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I616ad9f7f089873890ba508cf3e39067f046ae53\n'}, {'number': 3, 'created': '2018-03-20 09:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/27bc986e05a7529c16a5061ef77afeb4d36d5e8a', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I616ad9f7f089873890ba508cf3e39067f046ae53\n'}, {'number': 4, 'created': '2018-03-20 09:37:05.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/7043c1af54ba110d0505edaac58e2f910ebf10ad', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I616ad9f7f089873890ba508cf3e39067f046ae53\n'}]",4,554201,7043c1af54ba110d0505edaac58e2f910ebf10ad,22,4,4,27153,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:
https://governance.openstack.org/tc/reference/project-testing-interface.html
http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I616ad9f7f089873890ba508cf3e39067f046ae53
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/01/554201/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,363718d80ed080bfffb7957e43ae1ec3bbb46cc4,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt commands = sphinx-build -b html doc/source doc/build/htmldeps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,commands = rm -rf doc/html doc/build python setup.py build_sphinx whitelist_externals = rm,12,8
openstack%2Fpuppet-barbican~master~I61544d2defa3fd7f28c312ce94a753f36a2b7d30,openstack/puppet-barbican,master,I61544d2defa3fd7f28c312ce94a753f36a2b7d30,Call sync secret store on db-sync,MERGED,2018-03-20 09:06:45.000000000,2018-03-20 14:23:36.000000000,2018-03-20 14:23:36.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 09:06:45.000000000', 'files': ['manifests/db/sync.pp', 'spec/classes/barbican_db_sync_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/a51b1e0d667ace3afe005a89ce71105f899a2a92', 'message': 'Call sync secret store on db-sync\n\nDue to race conditions when doing the secret store sync in the code, we\nopted for requiring the command to be explicitly called. This reflects\nthe new requirement by adding the secret store sync in the db-sync\nmanifest.\n\nChange-Id: I61544d2defa3fd7f28c312ce94a753f36a2b7d30\nRelated-Bug: #1738863\n'}]",0,554466,a51b1e0d667ace3afe005a89ce71105f899a2a92,7,6,1,10873,,,0,"Call sync secret store on db-sync

Due to race conditions when doing the secret store sync in the code, we
opted for requiring the command to be explicitly called. This reflects
the new requirement by adding the secret store sync in the db-sync
manifest.

Change-Id: I61544d2defa3fd7f28c312ce94a753f36a2b7d30
Related-Bug: #1738863
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/66/554466/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db/sync.pp', 'spec/classes/barbican_db_sync_spec.rb']",2,a51b1e0d667ace3afe005a89ce71105f899a2a92,bug/1738863," :notify => 'Exec[barbican-db-manage sync secret stores]', :tag => 'openstack-db', ) is_expected.to contain_exec('barbican-db-manage sync secret stores').with( :command => 'barbican-manage db sync_secret_stores ', :user => 'barbican', :path => ['/bin','/usr/bin'], :refreshonly => 'true', :try_sleep => 5, :tries => 10, :logoutput => 'on_failure', :subscribe => ['Anchor[barbican::install::end]', 'Anchor[barbican::config::end]', 'Anchor[barbican::dbsync::begin]'], :extra_params => '--config-file /etc/barbican/barbican.conf', :secret_store_extra_params => '--config-file /etc/barbican/barbican.conf', :notify => 'Exec[barbican-db-manage sync secret stores]', :tag => 'openstack-db', ) is_expected.to contain_exec('barbican-db-manage sync secret stores').with( :command => 'barbican-manage db sync_secret_stores --config-file /etc/barbican/barbican.conf', :user => 'barbican', :path => ['/bin','/usr/bin'], :refreshonly => 'true', :try_sleep => 5, :tries => 10, :logoutput => 'on_failure', :subscribe => ['Anchor[barbican::install::end]', 'Anchor[barbican::config::end]', 'Anchor[barbican::dbsync::begin]'],"," :extra_params => '--config-file /etc/barbican/barbican.conf',",54,3
openstack%2Fdevstack-gate~master~I1aa1484f7d875e11850bcfce5ac57f27b4312b5a,openstack/devstack-gate,master,I1aa1484f7d875e11850bcfce5ac57f27b4312b5a,Remove double timestamp from console logs,ABANDONED,2016-02-29 16:15:35.000000000,2018-03-20 14:21:07.000000000,,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 6554}, {'_account_id': 6609}, {'_account_id': 6786}, {'_account_id': 7069}, {'_account_id': 7118}, {'_account_id': 7385}, {'_account_id': 7979}]","[{'number': 1, 'created': '2016-02-29 16:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/e50703e6fd4bf4c5f59fb5e514c21709a6b30a4e', 'message': ""Remove double timestamp from console logs\n\nIn numerous build logs, we can see that test hooks are treated with 2\ntimestamps, the second being slighly delayed just because it's embedded.\nIt doesn't provide any value as we already call all the test commands\nwith a timestamp prefix, so I think it's safe to remove it.\n\nChange-Id: I1aa1484f7d875e11850bcfce5ac57f27b4312b5a\nCloses-Bug: #1551296\n""}, {'number': 2, 'created': '2016-03-01 20:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/1443823f520243bc9378061b4b5a90cc6309468f', 'message': ""Remove double timestamp from console logs\n\nIn numerous build logs, we can see that test hooks are treated with 2\ntimestamps, the second being slighly delayed just because it's embedded.\nWe keep it in the hook logfile itself, but not the general output.\n\nChange-Id: I1aa1484f7d875e11850bcfce5ac57f27b4312b5a\nCloses-Bug: #1551296\n""}, {'number': 3, 'created': '2016-03-02 08:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/a3fe84954a9acb3b94ce8373f97f648efd7518b6', 'message': ""Remove double timestamp from console logs\n\nIn numerous build logs, we can see that test hooks are treated with 2\ntimestamps, the second being slighly delayed just because it's embedded.\nWe keep it in the hook logfile itself, but not the general output.\n\nChange-Id: I1aa1484f7d875e11850bcfce5ac57f27b4312b5a\nCloses-Bug: #1551296\n""}, {'number': 4, 'created': '2016-05-16 13:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/59ca1bea0ee11f094d4c11d3ec8ca2d914558ddf', 'message': ""Remove double timestamp from console logs\n\nIn numerous build logs, we can see that test hooks are treated with 2\ntimestamps, the second being slighly delayed just because it's embedded.\nWe keep it in the hook logfile itself, but not the general output.\n\nChange-Id: I1aa1484f7d875e11850bcfce5ac57f27b4312b5a\nCloses-Bug: #1551296\n""}, {'number': 5, 'created': '2016-05-20 19:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/65c6e88de5137ee9b09b9172f2ee9291b3e32530', 'message': ""Remove double timestamp from console logs\n\nIn numerous build logs, we can see that test hooks are treated with 2\ntimestamps, the second being slighly delayed just because it's embedded.\nThe patch simply logs to stdout and not writes a log file for hooks.\n\nChange-Id: I1aa1484f7d875e11850bcfce5ac57f27b4312b5a\nCloses-Bug: #1551296\n""}, {'number': 6, 'created': '2016-05-21 11:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/1f2d13c0fc4f0ee474ab332d61a2ac1c0b38be81', 'message': ""Remove double timestamp from console logs\n\nIn numerous build logs, we can see that test hooks are treated with 2\ntimestamps, the second being slighly delayed just because it's embedded.\nThe patch simply logs to stdout and not writes a log file for hooks.\n\nChange-Id: I1aa1484f7d875e11850bcfce5ac57f27b4312b5a\nCloses-Bug: #1551296\n""}, {'number': 7, 'created': '2016-12-21 09:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/2dbdca48a6d1a6b4c6840954e7e7eb0e93793f6c', 'message': ""Remove double timestamp from console logs\n\nIn numerous build logs, we can see that test hooks are treated with 2\ntimestamps, the second being slighly delayed just because it's embedded.\nThe patch simply logs to stdout and not writes a log file for hooks.\n\nChange-Id: I1aa1484f7d875e11850bcfce5ac57f27b4312b5a\nCloses-Bug: #1551296\n""}, {'number': 8, 'created': '2017-03-03 15:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/8dc02a6c1ed48d22fb019854a77ae844eaf2ad67', 'message': ""Remove double timestamp from console logs\n\nIn numerous build logs, we can see that test hooks are treated with 2\ntimestamps, the second being slighly delayed just because it's embedded.\nThe patch simply logs to stdout and not writes a log file for hooks.\n\nChange-Id: I1aa1484f7d875e11850bcfce5ac57f27b4312b5a\nCloses-Bug: #1551296\n""}, {'number': 9, 'created': '2017-04-18 13:46:55.000000000', 'files': ['test-functions.sh', 'functions.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/f6d36303a1b99b0442fc8599a476a7149e1f1a70', 'message': ""Remove double timestamp from console logs\n\nIn numerous build logs, we can see that test hooks are treated with 2\ntimestamps, the second being slighly delayed just because it's embedded.\nThe patch simply logs to stdout and not writes a log file for hooks.\n\nChange-Id: I1aa1484f7d875e11850bcfce5ac57f27b4312b5a\nCloses-Bug: #1551296\n""}]",3,286136,f6d36303a1b99b0442fc8599a476a7149e1f1a70,42,14,9,7385,,,0,"Remove double timestamp from console logs

In numerous build logs, we can see that test hooks are treated with 2
timestamps, the second being slighly delayed just because it's embedded.
The patch simply logs to stdout and not writes a log file for hooks.

Change-Id: I1aa1484f7d875e11850bcfce5ac57f27b4312b5a
Closes-Bug: #1551296
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/36/286136/9 && git format-patch -1 --stdout FETCH_HEAD,['functions.sh'],1,e50703e6fd4bf4c5f59fb5e514c21709a6b30a4e,bug/1551296, $hook_name | tee $filename, tsfilter $hook_name | tee $filename,1,1
openstack%2Fglance~master~I0ef66a8ed79b53e1e741c291f303aa4cd8eda201,openstack/glance,master,I0ef66a8ed79b53e1e741c291f303aa4cd8eda201,Update Release CPL doc,MERGED,2018-03-09 15:58:53.000000000,2018-03-20 14:18:21.000000000,2018-03-20 14:18:20.000000000,"[{'_account_id': 5202}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26734}]","[{'number': 1, 'created': '2018-03-09 15:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/458bda2f7e43d9b661315460b3c44d09aa36ec9d', 'message': 'Update Release CPL doc\n\nRemove an unnecessary task from post-release duties.\n\nChange-Id: I0ef66a8ed79b53e1e741c291f303aa4cd8eda201\n'}, {'number': 2, 'created': '2018-03-09 16:03:12.000000000', 'files': ['doc/source/contributor/release-cpl.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/8d53a388ba9ea98ff7739475cda237fca3cf1c3f', 'message': 'Update Release CPL doc\n\nRemove an unnecessary task from post-release duties.\n\nChange-Id: I0ef66a8ed79b53e1e741c291f303aa4cd8eda201\n'}]",0,551320,8d53a388ba9ea98ff7739475cda237fca3cf1c3f,9,4,2,5314,,,0,"Update Release CPL doc

Remove an unnecessary task from post-release duties.

Change-Id: I0ef66a8ed79b53e1e741c291f303aa4cd8eda201
",git fetch https://review.opendev.org/openstack/glance refs/changes/20/551320/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/release-cpl.rst'],1,458bda2f7e43d9b661315460b3c44d09aa36ec9d,update-release-cpl-doc,"- Erno Kuvaja, Release CPL for Queens - Brian Rosmaita, Release CPL for Rocky","- Right after cutting the stable branch, Glance release version (not the API version) must be bumped so that all further development is attributed to the next release version. This could be done by adding an empty commit with commit message containing the flag ``Sem-Ver: api-break`` to indicate a version. Here is a sample commit attempting to `bump the release version`_.",2,6
openstack%2Fceilometer~master~I2aa7045873fd740255a3be5f64b9e9f5fd94e2d4,openstack/ceilometer,master,I2aa7045873fd740255a3be5f64b9e9f5fd94e2d4,ignore compute.instance.create.start for metrics,MERGED,2018-01-12 14:19:13.000000000,2018-03-20 14:12:48.000000000,2018-01-13 15:24:29.000000000,"[{'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-12 14:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9e01f334f0304f144bd6ad0a1547e36f073b506b', 'message': ""ignore compute.instance.create.start for metrics\n\ndo not build metrics off compute.instance.create.start as it\ndoesn't have enough information in it to push to Gnocchi. there is\nan .end event that happens seconds later so .start event has little\nvalue outside context of event.\n\nCloses-Bug: #1718290\nChange-Id: I2aa7045873fd740255a3be5f64b9e9f5fd94e2d4\n""}, {'number': 2, 'created': '2018-01-12 17:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/254b66ed319f0e737ed0a03022e957ba60a17878', 'message': ""ignore compute.instance.create.start for metrics\n\ndo not build metrics off compute.instance.create.start as it\ndoesn't have enough information in it to push to Gnocchi. there is\nan .end event that happens seconds later so .start event has little\nvalue outside context of event.\n\nwe change fnmatch to regex for more useful regex comparison and it's\nfaster\n\nCloses-Bug: #1718290\nChange-Id: I2aa7045873fd740255a3be5f64b9e9f5fd94e2d4\n""}, {'number': 3, 'created': '2018-01-12 19:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/7c660042f2d177646a856163b616b9696755e16a', 'message': ""ignore compute.instance.create.start for metrics\n\ndo not build metrics off compute.instance.create.start as it\ndoesn't have enough information in it to push to Gnocchi. there is\nan .end event that happens seconds later so .start event has little\nvalue outside context of event.\n\nwe change fnmatch to regex for more useful regex comparison and it's\nfaster\n\nCloses-Bug: #1718290\nChange-Id: I2aa7045873fd740255a3be5f64b9e9f5fd94e2d4\n""}, {'number': 4, 'created': '2018-01-12 21:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/feb30fe8bb30165999bbb55fd21998427100bc59', 'message': ""ignore compute.instance.create.start for metrics\n\ndo not build metrics off compute.instance.create.start as it\ndoesn't have enough information in it to push to Gnocchi. there is\nan .end event that happens seconds later so .start event has little\nvalue outside context of event.\n\nwe change fnmatch to regex for more useful regex comparison and it's\nfaster\n\nCloses-Bug: #1718290\nChange-Id: I2aa7045873fd740255a3be5f64b9e9f5fd94e2d4\n""}, {'number': 5, 'created': '2018-01-12 22:02:25.000000000', 'files': ['ceilometer/meter/notifications.py', 'ceilometer/data/meters.d/meters.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3a5fd619fabd1380290f39e8677b255db01158a1', 'message': ""ignore compute.instance.create.start for metrics\n\ndo not build metrics off compute.instance.create.start as it\ndoesn't have enough information in it to push to Gnocchi. there is\nan .end event that happens seconds later so .start event has little\nvalue outside context of event.\n\nwe change fnmatch to regex for more useful regex comparison and it's\nfaster\n\nnot a complete fix as compute.instance.update also is missing host\nvalue occasionally\n\nPartial-Bug: #1718290\nChange-Id: I2aa7045873fd740255a3be5f64b9e9f5fd94e2d4\n""}]",0,533191,3a5fd619fabd1380290f39e8677b255db01158a1,17,4,5,6537,,,0,"ignore compute.instance.create.start for metrics

do not build metrics off compute.instance.create.start as it
doesn't have enough information in it to push to Gnocchi. there is
an .end event that happens seconds later so .start event has little
value outside context of event.

we change fnmatch to regex for more useful regex comparison and it's
faster

not a complete fix as compute.instance.update also is missing host
value occasionally

Partial-Bug: #1718290
Change-Id: I2aa7045873fd740255a3be5f64b9e9f5fd94e2d4
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/91/533191/4 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/data/meters.d/meters.yaml'],1,9e01f334f0304f144bd6ad0a1547e36f073b506b,bug/1718290, event_type: &instance_events compute.instance.(?!create.start) event_type: *instance_events event_type: *instance_events event_type: *instance_events, event_type: 'compute.instance.*' event_type: 'compute.instance.*' event_type: 'compute.instance.*' event_type: 'compute.instance.*',4,4
openstack%2Fglance_store~master~Ib9ab50dc3f7e526da7511032b5986adbe1585c43,openstack/glance_store,master,Ib9ab50dc3f7e526da7511032b5986adbe1585c43,Updated from global requirements,MERGED,2018-03-10 13:12:39.000000000,2018-03-20 14:11:21.000000000,2018-03-20 14:11:21.000000000,"[{'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-10 13:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/d9059aeee684c332fc41665e45dc12f9c9d40669', 'message': 'Updated from global requirements\n\nChange-Id: Ib9ab50dc3f7e526da7511032b5986adbe1585c43\n'}, {'number': 2, 'created': '2018-03-14 05:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/a3bdc18f2ecd0dada1ab48cc0fdb7300642d695e', 'message': 'Updated from global requirements\n\nChange-Id: Ib9ab50dc3f7e526da7511032b5986adbe1585c43\n'}, {'number': 3, 'created': '2018-03-15 06:56:12.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/07f76ca158e042734ca6db9e9b4eac13f93df713', 'message': 'Updated from global requirements\n\nChange-Id: Ib9ab50dc3f7e526da7511032b5986adbe1585c43\n'}]",0,551476,07f76ca158e042734ca6db9e9b4eac13f93df713,19,2,3,11131,,,0,"Updated from global requirements

Change-Id: Ib9ab50dc3f7e526da7511032b5986adbe1585c43
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/76/551476/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d9059aeee684c332fc41665e45dc12f9c9d40669,openstack/requirements,"sphinx!=1.6.6,<1.7.0,>=1.6.2 # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",1,1
openstack%2Fzun~master~I3ca5d853588b3705cb6cb2410df16e16a621c030,openstack/zun,master,I3ca5d853588b3705cb6cb2410df16e16a621c030,Introduce rootwrap and filter,MERGED,2018-02-14 02:56:34.000000000,2018-03-20 14:08:35.000000000,2018-03-20 09:42:27.000000000,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-02-14 02:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ab7c8a28e6152a91c3aafa548c3d4060c9056b7b', 'message': '[WIP] Introduce rootwrap and filter\n\nChange-Id: I3ca5d853588b3705cb6cb2410df16e16a621c030\n'}, {'number': 2, 'created': '2018-02-16 04:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/5e64399d96a501c7f2ab03fe2ca7bec607bb0ed1', 'message': '[WIP] Introduce rootwrap and filter\n\nChange-Id: I3ca5d853588b3705cb6cb2410df16e16a621c030\n'}, {'number': 3, 'created': '2018-02-16 04:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/d3e9b082a280e06d7b1b1885dd62a10b0a8ace78', 'message': '[WIP] Introduce rootwrap and filter\n\nNeeded-By: I69c47d25fa53f8e08efad9daa71d2f550425a5e7\nChange-Id: I3ca5d853588b3705cb6cb2410df16e16a621c030\n'}, {'number': 4, 'created': '2018-03-12 01:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/cc404a3146b68900395c18df20682bf01d4cac07', 'message': '[WIP] Introduce rootwrap and filter\n\nNeeded-By: I69c47d25fa53f8e08efad9daa71d2f550425a5e7\nChange-Id: I3ca5d853588b3705cb6cb2410df16e16a621c030\n'}, {'number': 5, 'created': '2018-03-12 03:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/04d7693539a242e3eea4bbf9c1cc791ebe087352', 'message': '[WIP] Introduce rootwrap and filter\n\nNeeded-By: I69c47d25fa53f8e08efad9daa71d2f550425a5e7\nChange-Id: I3ca5d853588b3705cb6cb2410df16e16a621c030\n'}, {'number': 6, 'created': '2018-03-12 04:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/f31c18a1fdbb8735d9a90cabfe3a442f642ee368', 'message': '[WIP] Introduce rootwrap and filter\n\nNeeded-By: I69c47d25fa53f8e08efad9daa71d2f550425a5e7\nChange-Id: I3ca5d853588b3705cb6cb2410df16e16a621c030\n'}, {'number': 7, 'created': '2018-03-12 23:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c877cce5dea8b29a32ef7cc89429506bcb80ea88', 'message': 'Introduce rootwrap and filter\n\nIf the zun-compute process is owned by a user who doesn\'t have\npasswordless sudo privilege, zun-compute will fail to run\nprivileged command (e.g. sudo privsep-helper ...).\n\nA native solution is to grant passwordless sudo to the user\nwho owns the zun process, but the best practice is to leverage\nRootwrap [1], which can restrict the privilege escalation.\n\nThis patch make Zun leverage Rootwrap. In particular, it does\nthe following:\n* Setup Rootwrap in the Zun devstack plugin\n* Introduce a sample rootwrap config file\n* Introduce sample rootwrap filters for executing privsep-helper\n* Introduce a root helper which basically adds ""sudo zun-rootwrap""\n  to the beginning of the command to be execute.\n* Initialize privsep to use the Zun\'s root helper\n\n[1] https://wiki.openstack.org/wiki/Rootwrap\n\nCloses-Bug: #1749342\nNeeded-By: I69c47d25fa53f8e08efad9daa71d2f550425a5e7\nChange-Id: I3ca5d853588b3705cb6cb2410df16e16a621c030\n'}, {'number': 8, 'created': '2018-03-14 04:36:40.000000000', 'files': ['zun/common/utils.py', 'zun/cmd/compute.py', 'devstack/lib/zun', 'zun/conf/__init__.py', 'etc/zun/rootwrap.d/zun.filters', 'setup.cfg', 'zun/conf/utils.py', 'etc/zun/rootwrap.conf'], 'web_link': 'https://opendev.org/openstack/zun/commit/d412de7100058f4a362cf58bd11f88b31b500f77', 'message': 'Introduce rootwrap and filter\n\nIf the zun-compute process is owned by a user who doesn\'t have\npasswordless sudo privilege, zun-compute will fail to run\nprivileged command (e.g. sudo privsep-helper ...).\n\nA native solution is to grant passwordless sudo to the user\nwho owns the zun process, but the best practice is to leverage\nRootwrap [1], which can restrict the privilege escalation.\n\nThis patch make Zun leverage Rootwrap. In particular, it does\nthe following:\n* Setup Rootwrap in the Zun devstack plugin\n* Introduce a sample rootwrap config file\n* Introduce sample rootwrap filters for executing privsep-helper\n* Introduce a root helper which basically adds ""sudo zun-rootwrap""\n  to the beginning of the command to be execute.\n* Initialize privsep to use the Zun\'s root helper\n\n[1] https://wiki.openstack.org/wiki/Rootwrap\n\nCloses-Bug: #1749342\nNeeded-By: I69c47d25fa53f8e08efad9daa71d2f550425a5e7\nChange-Id: I3ca5d853588b3705cb6cb2410df16e16a621c030\n'}]",0,544155,d412de7100058f4a362cf58bd11f88b31b500f77,26,5,8,11536,,,0,"Introduce rootwrap and filter

If the zun-compute process is owned by a user who doesn't have
passwordless sudo privilege, zun-compute will fail to run
privileged command (e.g. sudo privsep-helper ...).

A native solution is to grant passwordless sudo to the user
who owns the zun process, but the best practice is to leverage
Rootwrap [1], which can restrict the privilege escalation.

This patch make Zun leverage Rootwrap. In particular, it does
the following:
* Setup Rootwrap in the Zun devstack plugin
* Introduce a sample rootwrap config file
* Introduce sample rootwrap filters for executing privsep-helper
* Introduce a root helper which basically adds ""sudo zun-rootwrap""
  to the beginning of the command to be execute.
* Initialize privsep to use the Zun's root helper

[1] https://wiki.openstack.org/wiki/Rootwrap

Closes-Bug: #1749342
Needed-By: I69c47d25fa53f8e08efad9daa71d2f550425a5e7
Change-Id: I3ca5d853588b3705cb6cb2410df16e16a621c030
",git fetch https://review.opendev.org/openstack/zun refs/changes/55/544155/2 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/zun', 'etc/zun/rootwrap.d/zun.filters', 'etc/zun/rootwrap.conf']",3,ab7c8a28e6152a91c3aafa548c3d4060c9056b7b,bug/1749342,"# Configuration for zun-rootwrap # This file should be owned by (and only-writable by) the root user [DEFAULT] # List of directories to load filter definitions from (separated by ','). # These directories MUST all be only writable by root ! filters_path=/etc/zun/rootwrap.d # List of directories to search executables in, in case filters do not # explicitely specify a full path (separated by ',') # If not specified, defaults to system PATH environment variable. # These directories MUST all be only writable by root ! exec_dirs=/sbin,/usr/sbin,/bin,/usr/bin,/usr/local/bin,/usr/local/sbin # Enable logging to syslog # Default value is False use_syslog=False # Which syslog facility to use. # Valid values include auth, authpriv, syslog, local0, local1... # Default value is 'syslog' syslog_log_facility=syslog # Which messages to log. # INFO means log all usage # ERROR means only log unsuccessful attempts syslog_log_level=ERROR ",,37,0
openstack%2Fcharm-swift-storage~stable%2F18.02~Ib99852c645517cf316adcd02d04428b248fc9724,openstack/charm-swift-storage,stable/18.02,Ib99852c645517cf316adcd02d04428b248fc9724,Resolve hostnames if needed to allow access in ufw,MERGED,2018-03-19 10:40:54.000000000,2018-03-20 14:00:50.000000000,2018-03-20 14:00:50.000000000,"[{'_account_id': 2424}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 23327}]","[{'number': 1, 'created': '2018-03-19 10:40:54.000000000', 'files': ['unit_tests/test_swift_storage_utils.py', 'lib/swift_storage_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/edb18168a100112b3cfe05c30a258f24d69474b1', 'message': 'Resolve hostnames if needed to allow access in ufw\n\nIn some cases juju 1.25 (with maas 1.9) may return a hostname in the\nprivate-address field breaking the assumption that private-address will\nalways be an IP address. This patch uses get_host_ip() to assure an IP\naddress is given to ufw.\n\nChange-Id: Ib99852c645517cf316adcd02d04428b248fc9724\nCloses-Bug: 1747516\n(cherry picked from commit 1d28ceb64835f2206f216de3ef98febda01e8d58)\n'}]",0,554193,edb18168a100112b3cfe05c30a258f24d69474b1,13,5,1,2424,,,0,"Resolve hostnames if needed to allow access in ufw

In some cases juju 1.25 (with maas 1.9) may return a hostname in the
private-address field breaking the assumption that private-address will
always be an IP address. This patch uses get_host_ip() to assure an IP
address is given to ufw.

Change-Id: Ib99852c645517cf316adcd02d04428b248fc9724
Closes-Bug: 1747516
(cherry picked from commit 1d28ceb64835f2206f216de3ef98febda01e8d58)
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/93/554193/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_swift_storage_utils.py', 'lib/swift_storage_utils.py']",2,edb18168a100112b3cfe05c30a258f24d69474b1,bug/1747516,"from charmhelpers.contrib.network.ip import get_host_ip allowed_hosts += [get_host_ip(ingress_address(rid=u.rid, unit=u.unit))"," allowed_hosts += [ingress_address(rid=u.rid, unit=u.unit)",9,4
openstack%2Fmicroversion-parse~master~I267586c78308cc5520a88598c350a7e055783f3e,openstack/microversion-parse,master,I267586c78308cc5520a88598c350a7e055783f3e,Import functions from placement,MERGED,2017-08-22 11:53:35.000000000,2018-03-20 14:00:31.000000000,2018-03-20 14:00:31.000000000,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 5754}, {'_account_id': 10670}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-22 11:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/b8a485ed348466eb65c577d0108f349b35ab4c0f', 'message': ""Import functions from placement\n\nThis change imports two functions and a class from the microversion\nhandling implementation in the placement service. This code should be\ngenerally useful for other implementations.\n\nThe added code provides functions for not just extracting the\nmicroversion from HTTP headers, but for validating that the found\ninformation is actually a properly formed microversion value.\n\n'latest' is translated to whatever latest is in an ordered list of\nversions and any found version is confirmed to be within the bounds of\nand a member of that list of versions.\n\nThe README.rst has been updated to reflect the newly available methods.\nThis is a start at documentation, but we'll probably want more.\n\nChange-Id: I267586c78308cc5520a88598c350a7e055783f3e\n""}, {'number': 2, 'created': '2017-08-22 20:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/e750b83f5d6a0b3eceeab7492e545ce452bf7012', 'message': ""Import functions from placement\n\nThis change imports two functions and a class from the microversion\nhandling implementation in the placement service. This code should be\ngenerally useful for other implementations.\n\nThe added code provides functions for not just extracting the\nmicroversion from HTTP headers, but for validating that the found\ninformation is actually a properly formed microversion value.\n\n'latest' is translated to whatever latest is in an ordered list of\nversions and any found version is confirmed to be within the bounds of\nand a member of that list of versions.\n\nThe README.rst has been updated to reflect the newly available methods.\nThis is a start at documentation, but we'll probably want more.\n\nChange-Id: I267586c78308cc5520a88598c350a7e055783f3e\n""}, {'number': 3, 'created': '2018-03-06 16:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/ed426421200de823c3486c26852de9e4e206fe5c', 'message': ""Import functions from placement\n\nThis change imports two functions and a class from the microversion\nhandling implementation in the placement service. This code should be\ngenerally useful for other implementations.\n\nThe added code provides functions for not just extracting the\nmicroversion from HTTP headers, but for validating that the found\ninformation is actually a properly formed microversion value.\n\n'latest' is translated to whatever latest is in an ordered list of\nversions and any found version is confirmed to be within the bounds of\nand a member of that list of versions.\n\nThe README.rst has been updated to reflect the newly available methods.\nThis is a start at documentation, but we'll probably want more.\n\nChange-Id: I267586c78308cc5520a88598c350a7e055783f3e\n""}, {'number': 4, 'created': '2018-03-15 12:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/e0155972f2964d7ee8a631388f1d9be00c637b5c', 'message': ""Import functions from placement\n\nThis change imports two functions and a class from the microversion\nhandling implementation in the placement service. This code should be\ngenerally useful for other implementations.\n\nThe added code provides functions for not just extracting the\nmicroversion from HTTP headers, but for validating that the found\ninformation is actually a properly formed microversion value.\n\n'latest' is translated to whatever latest is in an ordered list of\nversions and any found version is confirmed to be within the bounds of\nand a member of that list of versions.\n\nThe README.rst has been updated to reflect the newly available methods.\nThis is a start at documentation, but we'll probably want more.\n\nChange-Id: I267586c78308cc5520a88598c350a7e055783f3e\n""}, {'number': 5, 'created': '2018-03-15 18:24:58.000000000', 'files': ['microversion_parse/tests/test_extract_version.py', 'microversion_parse/__init__.py', 'README.rst'], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/da0b4d66c964242ffea1f6dfe4a91556048f1243', 'message': ""Import functions from placement\n\nThis change imports two functions and a class from the microversion\nhandling implementation in the placement service. This code should be\ngenerally useful for other implementations.\n\nThe added code provides functions for not just extracting the\nmicroversion from HTTP headers, but for validating that the found\ninformation is actually a properly formed microversion value.\n\n'latest' is translated to whatever latest is in an ordered list of\nversions and any found version is confirmed to be within the bounds of\nand a member of that list of versions.\n\nThe README.rst has been updated to reflect the newly available methods.\nThis is a start at documentation, but we'll probably want more.\n\nChange-Id: I267586c78308cc5520a88598c350a7e055783f3e\n""}]",31,496212,da0b4d66c964242ffea1f6dfe4a91556048f1243,27,8,5,11564,,,0,"Import functions from placement

This change imports two functions and a class from the microversion
handling implementation in the placement service. This code should be
generally useful for other implementations.

The added code provides functions for not just extracting the
microversion from HTTP headers, but for validating that the found
information is actually a properly formed microversion value.

'latest' is translated to whatever latest is in an ordered list of
versions and any found version is confirmed to be within the bounds of
and a member of that list of versions.

The README.rst has been updated to reflect the newly available methods.
This is a start at documentation, but we'll probably want more.

Change-Id: I267586c78308cc5520a88598c350a7e055783f3e
",git fetch https://review.opendev.org/openstack/microversion-parse refs/changes/12/496212/4 && git format-patch -1 --stdout FETCH_HEAD,"['microversion_parse/tests/test_extract_version.py', 'microversion_parse/__init__.py', 'README.rst', 'tox.ini']",4,b8a485ed348466eb65c577d0108f349b35ab4c0f,cd/placement-functions,"whitelist_externals = rm commands = rm -Rf .testrepository/times.dbm python setup.py testr --testr-args=""{posargs}""","commands = python setup.py testr --testr-args=""{posargs}""",222,2
openstack%2Fmicroversion-parse~master~I5262031d9cde0378eabe342c1913091658c3bf9b,openstack/microversion-parse,master,I5262031d9cde0378eabe342c1913091658c3bf9b,Provide a helper method to get headers from environ,MERGED,2017-08-18 15:43:12.000000000,2018-03-20 13:59:43.000000000,2018-03-20 13:59:43.000000000,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 6062}, {'_account_id': 10670}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-18 15:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/1891a091d08f031429e1ed366a3ea203fe8e4289', 'message': ""Provide a helper method to get headers from environ\n\nThe get_version method accepts a dict or list of tuples that\nrepresent HTTP request headers that will be processed to find a\nmicroversion header. Sometimes, for example in some middlwares,\ndirect access to a headers dict will not be available and only the\nWSGI environ will be present.\n\nThis change provides a utility method which creates a new dict of\nheaders: headers_from_wsgi_environ. This mode was chosen to make it\nclear that a copy of the environ is being made, not the environ\nitself as we really don't want to be passing that as some values in\nit will not be simple objects (strings and numbers) and we do not\nknow what other middleware might have done or want to do with it.\n\nInternal to get_version any attempt to get a header named 'FOO' will\nfall back to looking for the WSGI equivalent of 'HTTP_FOO'.\n\nREADME.rst has been updated to indicate the new style.\n\nThis change is backwards compatible, existing clients will not\nnotice.\n\nChange-Id: I5262031d9cde0378eabe342c1913091658c3bf9b\nCloses-Bug: #1579772\n""}, {'number': 2, 'created': '2017-08-22 08:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/307205b8cc16999343ffe6c8185f0842c78956e4', 'message': ""Provide a helper method to get headers from environ\n\nThe get_version method accepts a dict or list of tuples that\nrepresent HTTP request headers that will be processed to find a\nmicroversion header. Sometimes, for example in some middlwares,\ndirect access to a headers dict will not be available and only the\nWSGI environ will be present.\n\nThis change provides a utility method which creates a new dict of\nheaders: headers_from_wsgi_environ. This mode was chosen to make it\nclear that a copy of the environ is being made, not the environ\nitself as we really don't want to be passing that as some values in\nit will not be simple objects (strings and numbers) and we do not\nknow what other middleware might have done or want to do with it.\n\nInternal to get_version any attempt to get a header named 'FOO' will\nfall back to looking for the WSGI equivalent of 'HTTP_FOO'.\n\nREADME.rst has been updated to indicate the new style.\n\nThis change is backwards compatible, existing clients will not\nnotice.\n\nChange-Id: I5262031d9cde0378eabe342c1913091658c3bf9b\nCloses-Bug: #1579772\n""}, {'number': 3, 'created': '2017-08-22 20:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/1e7074d62882f2309ca7f3bea45d201aad6d3485', 'message': ""Provide a helper method to get headers from environ\n\nThe get_version method accepts a dict or list of tuples that\nrepresent HTTP request headers that will be processed to find a\nmicroversion header. Sometimes, for example in some middlwares,\ndirect access to a headers dict will not be available and only the\nWSGI environ will be present.\n\nThis change provides a utility method which creates a new dict of\nheaders: headers_from_wsgi_environ. This mode was chosen to make it\nclear that a copy of the environ is being made, not the environ\nitself as we really don't want to be passing that as some values in\nit will not be simple objects (strings and numbers) and we do not\nknow what other middleware might have done or want to do with it.\n\nInternal to get_version any attempt to get a header named 'FOO' will\nfall back to looking for the WSGI equivalent of 'HTTP_FOO'.\n\nREADME.rst has been updated to indicate the new style.\n\nThis change is backwards compatible, existing clients will not\nnotice.\n\nChange-Id: I5262031d9cde0378eabe342c1913091658c3bf9b\nCloses-Bug: #1579772\n""}, {'number': 4, 'created': '2018-03-06 16:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/383daf79e652e796dfe73474e7e79502ecf86897', 'message': ""Provide a helper method to get headers from environ\n\nThe get_version method accepts a dict or list of tuples that\nrepresent HTTP request headers that will be processed to find a\nmicroversion header. Sometimes, for example in some middlewares,\ndirect access to a headers dict will not be available and only the\nWSGI environ will be present.\n\nThis change provides a utility method which creates a new dict of\nheaders: headers_from_wsgi_environ. This mode was chosen to make it\nclear that a copy of the environ is being made, not the environ\nitself as we really don't want to be passing that as some values in\nit will not be simple objects (strings and numbers) and we do not\nknow what other middleware might have done or want to do with it.\n\nInternal to get_version any attempt to get a header named 'FOO' will\nfall back to looking for the WSGI equivalent of 'HTTP_FOO'.\n\nREADME.rst has been updated to indicate the new style.\n\nThis change is backwards compatible, existing clients will not\nnotice.\n\nChange-Id: I5262031d9cde0378eabe342c1913091658c3bf9b\nCloses-Bug: #1579772\n""}, {'number': 5, 'created': '2018-03-15 12:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/c0df7fa0349a6e406a73cf400d770e0b94633a13', 'message': ""Provide a helper method to get headers from environ\n\nThe get_version method accepts a dict or list of tuples that\nrepresent HTTP request headers that will be processed to find a\nmicroversion header. Sometimes, for example in some middlewares,\ndirect access to a headers dict will not be available and only the\nWSGI environ will be present.\n\nThis change provides a utility method which creates a new dict of\nheaders: headers_from_wsgi_environ. This mode was chosen to make it\nclear that a copy of the environ is being made, not the environ\nitself as we really don't want to be passing that as some values in\nit will not be simple objects (strings and numbers) and we do not\nknow what other middleware might have done or want to do with it.\n\nInternal to get_version any attempt to get a header named 'FOO' will\nfall back to looking for the WSGI equivalent of 'HTTP_FOO'.\n\nREADME.rst has been updated to indicate the new style.\n\nThis change is backwards compatible, existing clients will not\nnotice.\n\nChange-Id: I5262031d9cde0378eabe342c1913091658c3bf9b\nCloses-Bug: #1579772\n""}, {'number': 6, 'created': '2018-03-15 18:24:58.000000000', 'files': ['microversion_parse/tests/test_headers_from_wsgi_environ.py', 'microversion_parse/__init__.py', 'README.rst'], 'web_link': 'https://opendev.org/openstack/microversion-parse/commit/bd003b52a5076905ceadf514c4d360fee545bfc5', 'message': ""Provide a helper method to get headers from environ\n\nThe get_version method accepts a dict or list of tuples that\nrepresent HTTP request headers that will be processed to find a\nmicroversion header. Sometimes, for example in some middlewares,\ndirect access to a headers dict will not be available and only the\nWSGI environ will be present.\n\nThis change provides a utility method which creates a new dict of\nheaders: headers_from_wsgi_environ. This mode was chosen to make it\nclear that a copy of the environ is being made, not the environ\nitself as we really don't want to be passing that as some values in\nit will not be simple objects (strings and numbers) and we do not\nknow what other middleware might have done or want to do with it.\n\nInternal to get_version any attempt to get a header named 'FOO' will\nfall back to looking for the WSGI equivalent of 'HTTP_FOO'.\n\nREADME.rst has been updated to indicate the new style.\n\nThis change is backwards compatible, existing clients will not\nnotice.\n\nChange-Id: I5262031d9cde0378eabe342c1913091658c3bf9b\nCloses-Bug: #1579772\n""}]",18,495356,bd003b52a5076905ceadf514c4d360fee545bfc5,35,8,6,11564,,,0,"Provide a helper method to get headers from environ

The get_version method accepts a dict or list of tuples that
represent HTTP request headers that will be processed to find a
microversion header. Sometimes, for example in some middlewares,
direct access to a headers dict will not be available and only the
WSGI environ will be present.

This change provides a utility method which creates a new dict of
headers: headers_from_wsgi_environ. This mode was chosen to make it
clear that a copy of the environ is being made, not the environ
itself as we really don't want to be passing that as some values in
it will not be simple objects (strings and numbers) and we do not
know what other middleware might have done or want to do with it.

Internal to get_version any attempt to get a header named 'FOO' will
fall back to looking for the WSGI equivalent of 'HTTP_FOO'.

README.rst has been updated to indicate the new style.

This change is backwards compatible, existing clients will not
notice.

Change-Id: I5262031d9cde0378eabe342c1913091658c3bf9b
Closes-Bug: #1579772
",git fetch https://review.opendev.org/openstack/microversion-parse refs/changes/56/495356/6 && git format-patch -1 --stdout FETCH_HEAD,"['microversion_parse/tests/test_headers_from_wsgi_environ.py', 'microversion_parse/__init__.py', 'README.rst']",3,1891a091d08f031429e1ed366a3ea203fe8e4289,cd/placement-functions," # If headers are not already available, a dict of headers # can be extracted from the WSGI environ headers = microversion_parse.headers_from_wsgi_environ(environ) version = microversion_parse.get_version( headers, service_type='placement') ",,95,2
openstack%2Frequirements~master~Iab62a70825c0fce15b253d88aafb8af66b3f4e3c,openstack/requirements,master,Iab62a70825c0fce15b253d88aafb8af66b3f4e3c,update constraint for oslo.db to new release 4.35.0,MERGED,2018-03-19 14:47:16.000000000,2018-03-20 13:55:06.000000000,2018-03-20 13:55:06.000000000,"[{'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 14288}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 14:47:16.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6d4b3e612add5d455540f246c405066c7f209e61', 'message': 'update constraint for oslo.db to new release 4.35.0\n\nChange-Id: Iab62a70825c0fce15b253d88aafb8af66b3f4e3c\nmeta:version: 4.35.0\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I03d9f67a8015ecec0a0627dd3eef998c3eb56534\nmeta:release:Code-Review+1: Colleen Murphy <colleen@gazlene.net>\nmeta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>\nmeta:release:Code-Review+1: melissaml <ma.lei@99cloud.net>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,554244,6d4b3e612add5d455540f246c405066c7f209e61,13,5,1,11131,,,0,"update constraint for oslo.db to new release 4.35.0

Change-Id: Iab62a70825c0fce15b253d88aafb8af66b3f4e3c
meta:version: 4.35.0
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I03d9f67a8015ecec0a0627dd3eef998c3eb56534
meta:release:Code-Review+1: Colleen Murphy <colleen@gazlene.net>
meta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>
meta:release:Code-Review+1: melissaml <ma.lei@99cloud.net>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/44/554244/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6d4b3e612add5d455540f246c405066c7f209e61,new-release,oslo.db===4.35.0,oslo.db===4.33.0,1,1
openstack%2Frequirements~master~Ia4dd876729c6646bae275a9310bd63f3d7acfa5f,openstack/requirements,master,Ia4dd876729c6646bae275a9310bd63f3d7acfa5f,update constraint for openstack-release-test to new release 0.13.0,MERGED,2018-03-20 01:52:50.000000000,2018-03-20 13:50:17.000000000,2018-03-20 13:50:17.000000000,"[{'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 14288}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 01:52:50.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b484152945ebb83a5717ab49d17085b12700a1ed', 'message': 'update constraint for openstack-release-test to new release 0.13.0\n\nChange-Id: Ia4dd876729c6646bae275a9310bd63f3d7acfa5f\nmeta:version: 0.13.0\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: yes\nmeta:release:Author: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Commit: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Change-Id: Ie32fc042abfe0ce24e910470dce850c5fd13c329\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,554393,b484152945ebb83a5717ab49d17085b12700a1ed,11,5,1,11131,,,0,"update constraint for openstack-release-test to new release 0.13.0

Change-Id: Ia4dd876729c6646bae275a9310bd63f3d7acfa5f
meta:version: 0.13.0
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: no
meta:first: yes
meta:release:Author: Doug Hellmann <doug@doughellmann.com>
meta:release:Commit: Doug Hellmann <doug@doughellmann.com>
meta:release:Change-Id: Ie32fc042abfe0ce24e910470dce850c5fd13c329
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/93/554393/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b484152945ebb83a5717ab49d17085b12700a1ed,new-release,openstack-release-test===0.13.0,openstack-release-test===0.12.0,1,1
openstack%2Frequirements~master~I8513c35989f0058158e74a167ca835a593af34a8,openstack/requirements,master,I8513c35989f0058158e74a167ca835a593af34a8,update constraint for osc-lib to new release 1.10.0,MERGED,2018-03-19 14:44:56.000000000,2018-03-20 13:45:23.000000000,2018-03-20 13:45:23.000000000,"[{'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 14288}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 27679}]","[{'number': 1, 'created': '2018-03-19 14:44:56.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/29189e99d19e56833d7b8cf4435fbefadb1f56a8', 'message': 'update constraint for osc-lib to new release 1.10.0\n\nChange-Id: I8513c35989f0058158e74a167ca835a593af34a8\nmeta:version: 1.10.0\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Dean Troyer <dtroyer@gmail.com>\nmeta:release:Commit: Dean Troyer <dtroyer@gmail.com>\nmeta:release:Change-Id: I103186504390ff58e9a6a197aef7ee29810df1a2\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,554243,29189e99d19e56833d7b8cf4435fbefadb1f56a8,14,6,1,11131,,,0,"update constraint for osc-lib to new release 1.10.0

Change-Id: I8513c35989f0058158e74a167ca835a593af34a8
meta:version: 1.10.0
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Dean Troyer <dtroyer@gmail.com>
meta:release:Commit: Dean Troyer <dtroyer@gmail.com>
meta:release:Change-Id: I103186504390ff58e9a6a197aef7ee29810df1a2
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/43/554243/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,29189e99d19e56833d7b8cf4435fbefadb1f56a8,new-release,osc-lib===1.10.0,osc-lib===1.9.0,1,1
openstack%2Frequirements~stable%2Fpike~Id0a1ff17ef7e2f1dcfb607cfc62bd12862205172,openstack/requirements,stable/pike,Id0a1ff17ef7e2f1dcfb607cfc62bd12862205172,Bump ryu to 4.18 to avoid pip import issues,ABANDONED,2018-03-19 15:37:13.000000000,2018-03-20 13:43:36.000000000,,"[{'_account_id': 1004}, {'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 15:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ed4d61460c252f2654e4a97fb0ae1ae27af272bc', 'message': 'Bump ryu to 4.18 to avoid pip import issues\n\nImporting pip in code is apparently not supported, but the ryu\nlibrary is using it internally. Version 4.18 included a change\nto only import pip where needed in a specific method that we\nappear to not call from any OpenStack code. Bumping u-c to pick\nup this change and test with affected projects.\n\nPip issue with more details:\nhttps://github.com/pypa/pip/issues/5081\n\nChange-Id: Id0a1ff17ef7e2f1dcfb607cfc62bd12862205172\n'}, {'number': 2, 'created': '2018-03-19 18:47:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/017f595a5cb58a1f73e9bc70d409e9e0cefad3cc', 'message': 'Bump ryu to 4.18 to avoid pip import issues\n\nImporting pip in code is apparently not supported, but the ryu\nlibrary is using it internally. Version 4.18 included a change\nto only import pip where needed in a specific method that we\nappear to not call from any OpenStack code. Bumping u-c to pick\nup this change and test with affected projects.\n\nPip issue with more details:\nhttps://github.com/pypa/pip/issues/5081\n\nDepends-on: https://review.openstack.org/554053/\n\nChange-Id: Id0a1ff17ef7e2f1dcfb607cfc62bd12862205172\n'}]",4,554270,017f595a5cb58a1f73e9bc70d409e9e0cefad3cc,20,6,2,11904,,,0,"Bump ryu to 4.18 to avoid pip import issues

Importing pip in code is apparently not supported, but the ryu
library is using it internally. Version 4.18 included a change
to only import pip where needed in a specific method that we
appear to not call from any OpenStack code. Bumping u-c to pick
up this change and test with affected projects.

Pip issue with more details:
https://github.com/pypa/pip/issues/5081

Depends-on: https://review.openstack.org/554053/

Change-Id: Id0a1ff17ef7e2f1dcfb607cfc62bd12862205172
",git fetch https://review.opendev.org/openstack/requirements refs/changes/70/554270/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ed4d61460c252f2654e4a97fb0ae1ae27af272bc,pip/5081,ryu===4.18,ryu===4.15,1,1
openstack%2Floci~master~Ib4e5c74058748df39067a7aecdd5ade2d89f40e6,openstack/loci,master,Ib4e5c74058748df39067a7aecdd5ade2d89f40e6,Remove warning about stability,MERGED,2018-03-09 14:31:34.000000000,2018-03-20 13:40:52.000000000,2018-03-20 13:40:52.000000000,"[{'_account_id': 1390}, {'_account_id': 14119}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-09 14:31:34.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/loci/commit/52b95fc20c82372004d6af9c91a4769b01dd176e', 'message': 'Remove warning about stability\n\nLOCI is running in production and is pretty low entropy, i think its\nsafe to all it stable ;)\n\nChange-Id: Ib4e5c74058748df39067a7aecdd5ade2d89f40e6\n'}]",0,551299,52b95fc20c82372004d6af9c91a4769b01dd176e,7,3,1,14119,,,0,"Remove warning about stability

LOCI is running in production and is pretty low entropy, i think its
safe to all it stable ;)

Change-Id: Ib4e5c74058748df39067a7aecdd5ade2d89f40e6
",git fetch https://review.opendev.org/openstack/loci refs/changes/99/551299/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,52b95fc20c82372004d6af9c91a4769b01dd176e,ease_warning,"LOCI is considered stable. There are production installs of OpenStack using LOCI built images at this time. The project is very low-entopy with very little changing, but this is expected. The highest traffic section of LOCI is the gates.","LOCI is still a relatively young project. While some of us have been using it for going on a year, we have made breaking changes a few times while we flesh out the best way to achieve goals. We are targeting a 1.0.0 release for OpenStack Queens and will be following upstream practices as far as tagging and branching. We will be adding in a stable/ocata and stable/pike branch (possibly an eol-newton and eol-mitaka tag as well) over the next few months so we can build images for these versions of OpenStack as well. While the master branch of LOCI is currently capable of building all of these versions right now, we will be maintaining stable branches going forward so as not to rely on compatibility for all versions of OpenStack on one branch. We highly encourage people to use this, and some have even adopted it into build pipelines internally already.",4,14
openstack%2Floci~master~Ib5144cc34e5c9968c333caf9a1083c78f86ae652,openstack/loci,master,Ib5144cc34e5c9968c333caf9a1083c78f86ae652,Some README fixups,MERGED,2018-03-08 17:52:59.000000000,2018-03-20 13:33:08.000000000,2018-03-20 13:33:08.000000000,"[{'_account_id': 1390}, {'_account_id': 14119}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-08 17:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/e64fdd28326d2837ac7494a0d925e531fe8b949c', 'message': 'Fix the microbadges on the README\n\nChange-Id: Ib5144cc34e5c9968c333caf9a1083c78f86ae652\n'}, {'number': 2, 'created': '2018-03-08 18:04:07.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/loci/commit/9c55e2622529eb3c07849e79ff921f0a943d8174', 'message': ""Some README fixups\n\n* Fix the microbadges\n\n* Wrap commands to 100 lines so github doesn't show a horizontal scroll\n  bar\n\n* Break out the example for building from a different base so its more\n  clear\n\n* Fix a typo and add some backticks around inline code blocks\n\nChange-Id: Ib5144cc34e5c9968c333caf9a1083c78f86ae652\n""}]",0,550964,9c55e2622529eb3c07849e79ff921f0a943d8174,9,3,2,1390,,,0,"Some README fixups

* Fix the microbadges

* Wrap commands to 100 lines so github doesn't show a horizontal scroll
  bar

* Break out the example for building from a different base so its more
  clear

* Fix a typo and add some backticks around inline code blocks

Change-Id: Ib5144cc34e5c9968c333caf9a1083c78f86ae652
",git fetch https://review.opendev.org/openstack/loci refs/changes/64/550964/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,e64fdd28326d2837ac7494a0d925e531fe8b949c,,"[![](https://images.microbadger.com/badges/version/loci/keystone:master-debian.svg)](https://microbadger.com/images/loci/keystone:master-debian ""loci/keystone:master-debian"") [![](https://images.microbadger.com/badges/image/loci/keystone:master-debian.svg)](https://microbadger.com/images/loci/keystone:master-debian ""loci/keystone:master-debian"") [![](https://images.microbadger.com/badges/version/loci/keystone:master-ubuntu.svg)](https://microbadger.com/images/loci/keystone:master-ubuntu ""loci/keystone:master-ubuntu"") [![](https://images.microbadger.com/badges/image/loci/keystone:master-ubuntu.svg)](https://microbadger.com/images/loci/keystone:master-ubuntu ""loci/keystone:master-ubuntu"") [![](https://images.microbadger.com/badges/version/loci/keystone:master-centos.svg)](https://microbadger.com/images/loci/keystone:master-centos ""loci/keystone:master-centos"") [![](https://images.microbadger.com/badges/image/loci/keystone:master-centos.svg)](https://microbadger.com/images/loci/keystone:master-centos ""loci/keystone:master-centos"")","[![](https://images.microbadger.com/badges/version/loci/keystone:debian.svg)](https://microbadger.com/images/loci/keystone:debian ""loci/keystone:debian"") [![](https://images.microbadger.com/badges/image/loci/keystone:debian.svg)](https://microbadger.com/images/loci/keystone:debian ""loci/keystone:debian"") [![](https://images.microbadger.com/badges/version/loci/keystone:ubuntu.svg)](https://microbadger.com/images/loci/keystone:ubuntu ""loci/keystone:ubuntu"") [![](https://images.microbadger.com/badges/image/loci/keystone:ubuntu.svg)](https://microbadger.com/images/loci/keystone:ubuntu ""loci/keystone:ubuntu"") [![](https://images.microbadger.com/badges/version/loci/keystone:centos.svg)](https://microbadger.com/images/loci/keystone:centos ""loci/keystone:centos"") [![](https://images.microbadger.com/badges/image/loci/keystone:centos.svg)](https://microbadger.com/images/loci/keystone:centos ""loci/keystone:centos"")",3,3
openstack%2Fceilometer-powervm~master~Ia14d9d78b08c160eea6337e4eb2e85cac4484812,openstack/ceilometer-powervm,master,Ia14d9d78b08c160eea6337e4eb2e85cac4484812,Updated from global requirements,MERGED,2018-03-15 06:48:16.000000000,2018-03-20 13:29:39.000000000,2018-03-20 13:29:39.000000000,"[{'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 06:48:16.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer-powervm/commit/a93bc62d450df44319301a7ef2f56f6a7fd36132', 'message': 'Updated from global requirements\n\nChange-Id: Ia14d9d78b08c160eea6337e4eb2e85cac4484812\n'}]",0,553168,a93bc62d450df44319301a7ef2f56f6a7fd36132,10,4,1,11131,,,0,"Updated from global requirements

Change-Id: Ia14d9d78b08c160eea6337e4eb2e85cac4484812
",git fetch https://review.opendev.org/openstack/ceilometer-powervm refs/changes/68/553168/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a93bc62d450df44319301a7ef2f56f6a7fd36132,openstack/requirements,"sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",1,1
openstack%2Ftripleo-upgrade~stable%2Fpike~Ic4c941ff9a65bee9a5d2f5060d1637be3d7d8f22,openstack/tripleo-upgrade,stable/pike,Ic4c941ff9a65bee9a5d2f5060d1637be3d7d8f22,[DNM] Testing bug/1756037,ABANDONED,2018-03-15 15:45:41.000000000,2018-03-20 13:23:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-03-15 15:45:41.000000000', 'files': ['templates/node_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d21f58f118928c326c61e62990163dfd5c83eef6', 'message': '[DNM] Testing bug/1756037\n\nDepends-On: Iecf1534afff2bf3df4e2bfc23d0969fb57566b66\nChange-Id: Ic4c941ff9a65bee9a5d2f5060d1637be3d7d8f22\n'}]",0,553439,d21f58f118928c326c61e62990163dfd5c83eef6,10,3,1,26343,,,0,"[DNM] Testing bug/1756037

Depends-On: Iecf1534afff2bf3df4e2bfc23d0969fb57566b66
Change-Id: Ic4c941ff9a65bee9a5d2f5060d1637be3d7d8f22
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/39/553439/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/node_upgrade.sh.j2'],1,d21f58f118928c326c61e62990163dfd5c83eef6,,###########,,1,0
openstack%2Ftripleo-quickstart-extras~master~Iecf1534afff2bf3df4e2bfc23d0969fb57566b66,openstack/tripleo-quickstart-extras,master,Iecf1534afff2bf3df4e2bfc23d0969fb57566b66,Check repo setup script exists before content load.,MERGED,2018-03-15 10:53:13.000000000,2018-03-20 13:17:18.000000000,2018-03-20 13:17:17.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-03-15 10:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1053030a149a8fc208fac327b7cf408694daee8a', 'message': ""Check repo setup script exists before content load.\n\nIn [0] there was an attempt to bypass the case\nin which the repo setup script was not created\nby using the Ansible lookup 'first_found'. However,\nthis lookup doesn't return the content of the file,\nas the 'file' lookup does. It returns the name of\nthe file if the file exists.\n\nThis patch adds an Ansible step that checks the\nexistence of the repo setup script and loads the\ncontent of the file if it exists, otherwise sets\nthe variable to false.\n\n[0] https://review.openstack.org/#/c/549179/4\n\nChange-Id: Iecf1534afff2bf3df4e2bfc23d0969fb57566b66\nCloses-Bug: #1756037\n""}, {'number': 2, 'created': '2018-03-16 06:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7b8da1ed3e650c272b010247a8ea8d0541a5132a', 'message': ""Check repo setup script exists before content load.\n\nIn [0] there was an attempt to bypass the case\nin which the repo setup script was not created\nby using the Ansible lookup 'first_found'. However,\nthis lookup doesn't return the content of the file,\nas the 'file' lookup does. It returns the name of\nthe file if the file exists.\n\nThis patch adds an Ansible step that checks the\nexistence of the repo setup script and loads the\ncontent of the file if it exists, otherwise sets\nthe variable to false.\n\n[0] https://review.openstack.org/#/c/549179/4\n\nChange-Id: Iecf1534afff2bf3df4e2bfc23d0969fb57566b66\nCloses-Bug: #1756037\n""}, {'number': 3, 'created': '2018-03-16 10:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/86eb5e43507bf2329b180a77f5032ec2281f8167', 'message': ""Check repo setup script exists before content load.\n\nIn [0] there was an attempt to bypass the case\nin which the repo setup script was not created\nby using the Ansible lookup 'first_found'. However,\nthis lookup doesn't return the content of the file,\nas the 'file' lookup does. It returns the name of\nthe file if the file exists.\n\nThis patch adds an Ansible step that checks the\nexistence of the repo setup script and loads the\ncontent of the file if it exists, otherwise sets\nthe variable to false.\n\n[0] https://review.openstack.org/#/c/549179/4\n\nChange-Id: Iecf1534afff2bf3df4e2bfc23d0969fb57566b66\nCloses-Bug: #1756037\n""}, {'number': 4, 'created': '2018-03-16 14:26:05.000000000', 'files': ['playbooks/multinode-overcloud-upgrade-new.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/eaa3fd0d62291ad7ac9887b6cadf1339f7b39046', 'message': ""Check repo setup script exists before content load.\n\nIn [0] there was an attempt to bypass the case\nin which the repo setup script was not created\nby using the Ansible lookup 'first_found'. However,\nthis lookup doesn't return the content of the file,\nas the 'file' lookup does. It returns the name of\nthe file if the file exists.\n\nThis patch adds an Ansible step that checks the\nexistence of the repo setup script and loads the\ncontent of the file if it exists, otherwise sets\nthe variable to false.\n\n[0] https://review.openstack.org/#/c/549179/4\n\nChange-Id: Iecf1534afff2bf3df4e2bfc23d0969fb57566b66\nCloses-Bug: #1756037\n""}]",0,553326,eaa3fd0d62291ad7ac9887b6cadf1339f7b39046,40,9,4,26343,,,0,"Check repo setup script exists before content load.

In [0] there was an attempt to bypass the case
in which the repo setup script was not created
by using the Ansible lookup 'first_found'. However,
this lookup doesn't return the content of the file,
as the 'file' lookup does. It returns the name of
the file if the file exists.

This patch adds an Ansible step that checks the
existence of the repo setup script and loads the
content of the file if it exists, otherwise sets
the variable to false.

[0] https://review.openstack.org/#/c/549179/4

Change-Id: Iecf1534afff2bf3df4e2bfc23d0969fb57566b66
Closes-Bug: #1756037
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/26/553326/4 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/multinode-overcloud-upgrade-new.yml'],1,1053030a149a8fc208fac327b7cf408694daee8a,bug/1756037," repo_setup_script: ""repo-setup-{{ target_upgrade_version }}.sh"" - name: Check repo setup script exists stat: path: ""{{ repo_setup_script }}"" register: repo_script_status upgrade_init_command: ""{% if repo_script_status.stat.exists %}{{ lookup('file', repo_setup_script) }}{% else %}false{% endif %}"""," update_repo_script: ""{{ lookup('first_found', dict(files=['{{ working_dir }}/repo-setup-{{ target_upgrade_version }}.sh'], skip=true)) }}"" upgrade_init_command: ""{{ update_repo_script }}""",7,2
openstack%2Fvitrage~master~Icd6391530695fdb31b28eecd627e3ffc9427dd1d,openstack/vitrage,master,Icd6391530695fdb31b28eecd627e3ffc9427dd1d,Bug fix: filter topology by project_id also when there is a query,MERGED,2018-03-20 10:33:23.000000000,2018-03-20 13:07:26.000000000,2018-03-20 13:07:26.000000000,"[{'_account_id': 19134}, {'_account_id': 19184}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 10:33:23.000000000', 'files': ['vitrage/api_handler/apis/topology.py', 'vitrage/api_handler/apis/base.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/683b7a3cdb1ba4540617e473eff80203c3922d61', 'message': 'Bug fix: filter topology by project_id also when there is a query\n\nPreviously, if vitrage topology show was called with a filter parameter,\nthe project_id was not added to the query so the returned topology\nincluded resources of other projects as well.\n\nExample:\nvitrage topology show --filter ""{ \\""==\\"" : {\\""vitrage_type\\"" : \\""nova.instance\\""} }""\n\nReturned instances of other projects.\n\nChange-Id: Icd6391530695fdb31b28eecd627e3ffc9427dd1d\n'}]",0,554497,683b7a3cdb1ba4540617e473eff80203c3922d61,7,3,1,19159,,,0,"Bug fix: filter topology by project_id also when there is a query

Previously, if vitrage topology show was called with a filter parameter,
the project_id was not added to the query so the returned topology
included resources of other projects as well.

Example:
vitrage topology show --filter ""{ \""==\"" : {\""vitrage_type\"" : \""nova.instance\""} }""

Returned instances of other projects.

Change-Id: Icd6391530695fdb31b28eecd627e3ffc9427dd1d
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/97/554497/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage/api_handler/apis/topology.py', 'vitrage/api_handler/apis/base.py']",2,683b7a3cdb1ba4540617e473eff80203c3922d61,query_with_project_id," @classmethod def _get_query_with_project(cls, vitrage_category, project_id, is_admin): cls._add_project_to_query(query, project_id, is_admin) return query @staticmethod def _add_project_to_query(query, project_id, is_admin): """"""Add project_id filter to the query Each query should contain the project_id condition :type query: string representing a json query :type project_id: string :type is_admin: boolean :rtype: string representing a json query """""" if 'and' in query: query_with_project_id = query query_with_project_id['and'].append(project_query) else: query_with_project_id = {'and': [project_query, query]} return query_with_project_id"," @staticmethod def _get_query_with_project(vitrage_category, project_id, is_admin): query['and'].append(project_query) return query",25,5
openstack%2Fironic-specs~master~Idec0e7be483d9617318006a5592cbc0502eafaf2,openstack/ironic-specs,master,Idec0e7be483d9617318006a5592cbc0502eafaf2,Follow up of inspect wait state spec,MERGED,2018-03-16 15:18:15.000000000,2018-03-20 13:06:15.000000000,2018-03-20 13:06:15.000000000,"[{'_account_id': 6618}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 27679}]","[{'number': 1, 'created': '2018-03-16 15:18:15.000000000', 'files': ['specs/approved/inspect-wait-state.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/c48069bea7c925847291d62490ae67a2020ae736', 'message': 'Follow up of inspect wait state spec\n\nThe comments raised at patch [1] needs to be addressed:\n\n1. The document inconsistency about default value of\n   ``[conductor]inspect_wait_timeout``.\n2. The deprecation of returning ``INSPECTING`` from inspect_hardware\n   of inspect interface.\n\n[1] https://review.openstack.org/#/c/515657/\n\nChange-Id: Idec0e7be483d9617318006a5592cbc0502eafaf2\nRelated-Bug: #1725211\n'}]",4,553822,c48069bea7c925847291d62490ae67a2020ae736,10,5,1,24828,,,0,"Follow up of inspect wait state spec

The comments raised at patch [1] needs to be addressed:

1. The document inconsistency about default value of
   ``[conductor]inspect_wait_timeout``.
2. The deprecation of returning ``INSPECTING`` from inspect_hardware
   of inspect interface.

[1] https://review.openstack.org/#/c/515657/

Change-Id: Idec0e7be483d9617318006a5592cbc0502eafaf2
Related-Bug: #1725211
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/22/553822/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/inspect-wait-state.rst'],1,c48069bea7c925847291d62490ae67a2020ae736,bug/1725211,"request is issued, then the ironic conductor moves node to ``inspect wait`` state if ``InspectInterface.inspect_hardware`` returns ``INSPECTING`` or ``INSPECTWAIT``. The behavior of returning ``INSPECTING`` will be deprecated and logged as a warning. After deprecation period, returning ``INSPECTING`` will cause node be moved to ``inspect failed`` state.``inspecting``, defaults to 1800 seconds.","request is issued, then the ironic conductor moves node to ``inspect-wait`` state if ``InspectInterface.inspect_hardware`` returns ``INSPECTING``.``inspecting``, defaults to 150 seconds.",6,3
openstack%2Fcinder~master~Icabeb01b9598c123382b3f3cc5d68fcdbb3d4380,openstack/cinder,master,Icabeb01b9598c123382b3f3cc5d68fcdbb3d4380,Don't fail detach if volume already detached,ABANDONED,2017-10-10 19:53:45.000000000,2018-03-20 12:54:35.000000000,,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10439}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21486}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25169}, {'_account_id': 25243}, {'_account_id': 25376}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-10 19:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a636aac02598a8d75163f01a334268aa160b263e', 'message': ""Don't fail detach if volume already detached\n\nAPI check currently fails in begin_detach if the volume is already detached.\nSince the user just wants a detached volume, allow this to succeed.\n\nChange-Id: Icabeb01b9598c123382b3f3cc5d68fcdbb3d4380\n""}, {'number': 2, 'created': '2018-02-24 02:04:45.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9819a4ac5d761e79f2b827d2814d74566287b2ec', 'message': ""Don't fail detach if volume already detached\n\nAPI check currently fails in begin_detach if the volume is already detached.\nSince the user just wants a detached volume, allow this to succeed.\n\nChange-Id: Icabeb01b9598c123382b3f3cc5d68fcdbb3d4380\n""}]",4,511003,9819a4ac5d761e79f2b827d2814d74566287b2ec,70,48,2,11904,,,0,"Don't fail detach if volume already detached

API check currently fails in begin_detach if the volume is already detached.
Since the user just wants a detached volume, allow this to succeed.

Change-Id: Icabeb01b9598c123382b3f3cc5d68fcdbb3d4380
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/511003/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/test_volume.py', 'cinder/volume/api.py']",2,a636aac02598a8d75163f01a334268aa160b263e,detach_detached," expected = {'status': ('in-use', 'available'), 'attach_status': ( fields.VolumeAttachStatus.ATTACHED, fields.VolumeAttachStatus.DETACHED),"," expected = {'status': 'in-use', 'attach_status': fields.VolumeAttachStatus.ATTACHED,",11,10
openstack%2Fnetworking-calico~master~Ic4592f0f4ebf1b6d713359e4291be4953c552625,openstack/networking-calico,master,Ic4592f0f4ebf1b6d713359e4291be4953c552625,DevStack: Fix git clone error,MERGED,2017-05-15 05:26:41.000000000,2018-03-20 12:37:15.000000000,2018-03-20 12:37:15.000000000,"[{'_account_id': 3}, {'_account_id': 13734}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-05-15 05:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/4ee2f3f292022552fbee58998fee0589d72ea2e2', 'message': 'DevStack: Fix git clone error\n\nAn git clone error occurs if networking-calico and devstack\nare already cloned.\n\nChange-Id: Ic4592f0f4ebf1b6d713359e4291be4953c552625\n'}, {'number': 2, 'created': '2018-03-13 11:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/3d44d440e14d55d9c18e3187dbf11a989fe3ad75', 'message': 'DevStack: Fix git clone error\n\nAn git clone error occurs if networking-calico and devstack\nare already cloned.\n\nChange-Id: Ic4592f0f4ebf1b6d713359e4291be4953c552625\n'}, {'number': 3, 'created': '2018-03-13 15:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/9f79b723b4b0a761b5a7241fe734f30d16767997', 'message': 'DevStack: Fix git clone error\n\nAn git clone error occurs if networking-calico and devstack\nare already cloned.\n\nChange-Id: Ic4592f0f4ebf1b6d713359e4291be4953c552625\n'}, {'number': 4, 'created': '2018-03-14 15:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/5087f99ad945b0e5b6ce616a80f8c6e5ec4a3d2a', 'message': 'DevStack: Fix git clone error\n\nAn git clone error occurs if networking-calico and devstack\nare already cloned.\n\nChange-Id: Ic4592f0f4ebf1b6d713359e4291be4953c552625\n'}, {'number': 5, 'created': '2018-03-14 18:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/aa22f5b3c9a30409e38de607b42ee0b15e1e6d8a', 'message': 'DevStack: Fix git clone error\n\nAn git clone error occurs if networking-calico and devstack\nare already cloned.\n\nChange-Id: Ic4592f0f4ebf1b6d713359e4291be4953c552625\n'}, {'number': 6, 'created': '2018-03-20 11:15:53.000000000', 'files': ['devstack/bootstrap.sh'], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/b55e917e52155731c0ad676d8973d242e1797b9e', 'message': 'DevStack: Fix git clone error\n\nAn git clone error occurs if networking-calico and devstack\nare already cloned.\n\nChange-Id: Ic4592f0f4ebf1b6d713359e4291be4953c552625\n'}]",2,464535,b55e917e52155731c0ad676d8973d242e1797b9e,24,3,6,15326,,,0,"DevStack: Fix git clone error

An git clone error occurs if networking-calico and devstack
are already cloned.

Change-Id: Ic4592f0f4ebf1b6d713359e4291be4953c552625
",git fetch https://review.opendev.org/openstack/networking-calico refs/changes/35/464535/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/bootstrap.sh'],1,4ee2f3f292022552fbee58998fee0589d72ea2e2,devstack-existing-repo,if [ -e networking-calico ]; then cd networking-calico else git clone https://git.openstack.org/openstack/networking-calico cd networking-calico fiif [ -e devstack ]; then cd devstack else git clone https://git.openstack.org/openstack-dev/devstack cd devstack fi,git clone https://git.openstack.org/openstack/networking-calico cd networking-calicogit clone https://git.openstack.org/openstack-dev/devstack cd devstack,12,4
openstack%2Frpm-packaging~master~Iac2257c74dd679e27976c97fbde784b6e36ed0c2,openstack/rpm-packaging,master,Iac2257c74dd679e27976c97fbde784b6e36ed0c2,Updated openstackdocstheme to 1.19.0,MERGED,2018-03-03 14:05:42.000000000,2018-03-20 12:27:49.000000000,2018-03-20 12:27:49.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-03 14:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/70011b5cc3ca7befb6cac62c8f9c4eede1df050b', 'message': 'Updated openstackdocstheme to 1.19.0\n\nChange-Id: Iac2257c74dd679e27976c97fbde784b6e36ed0c2\n'}, {'number': 2, 'created': '2018-03-05 10:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1c10fabedea0d0c5ff128453d3d8f300bc19c012', 'message': 'Updated openstackdocstheme to 1.19.0\n\nDepends-on: I5c5dde7d551bcd6849d98cee61c4299a8428913a\nChange-Id: Iac2257c74dd679e27976c97fbde784b6e36ed0c2\n'}, {'number': 3, 'created': '2018-03-14 14:12:32.000000000', 'files': ['openstack/openstackdocstheme/openstackdocstheme.spec.j2', 'openstack/openstackdocstheme/0001-Fix-typo-in-logger.warning-call.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8199528ccdb944c781780cec5abc0acb554168cd', 'message': 'Updated openstackdocstheme to 1.19.0\n\nDepends-on: I5c5dde7d551bcd6849d98cee61c4299a8428913a\nChange-Id: Iac2257c74dd679e27976c97fbde784b6e36ed0c2\n'}]",0,549467,8199528ccdb944c781780cec5abc0acb554168cd,24,7,3,26297,,,0,"Updated openstackdocstheme to 1.19.0

Depends-on: I5c5dde7d551bcd6849d98cee61c4299a8428913a
Change-Id: Iac2257c74dd679e27976c97fbde784b6e36ed0c2
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/67/549467/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstackdocstheme/openstackdocstheme.spec.j2'],1,70011b5cc3ca7befb6cac62c8f9c4eede1df050b,openstackdocstheme,{% set upstream_version = upstream_version('1.19.0') %},{% set upstream_version = upstream_version('1.18.1') %},1,1
openstack%2Frpm-packaging~master~Ia08c439065d6ac5ce068aae7263d5870f5e23e57,openstack/rpm-packaging,master,Ia08c439065d6ac5ce068aae7263d5870f5e23e57,Updated neutron to 12.0.0,MERGED,2018-03-02 00:28:33.000000000,2018-03-20 12:23:53.000000000,2018-03-20 12:23:52.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-02 00:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/67cdb143de86607fc8f2e0256c84841069833a6a', 'message': 'Updated neutron to 12.0.0\n\nChange-Id: Ia08c439065d6ac5ce068aae7263d5870f5e23e57\n'}, {'number': 2, 'created': '2018-03-14 15:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/458eb6911de441b98e28b8b809ad9d72ac9bd513', 'message': 'Updated neutron to 12.0.0\n\nCo-Authored-By: jpena@redhat.com\n\nChange-Id: Ia08c439065d6ac5ce068aae7263d5870f5e23e57\n'}, {'number': 3, 'created': '2018-03-14 16:01:36.000000000', 'files': ['openstack/neutron/neutron.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/eead19a5322d8b434e01c77a355620ea65d3cf5e', 'message': 'Updated neutron to 12.0.0\n\nCo-Authored-By: jpena@redhat.com\n\nChange-Id: Ia08c439065d6ac5ce068aae7263d5870f5e23e57\n'}]",0,549073,eead19a5322d8b434e01c77a355620ea65d3cf5e,23,7,3,26297,,,0,"Updated neutron to 12.0.0

Co-Authored-By: jpena@redhat.com

Change-Id: Ia08c439065d6ac5ce068aae7263d5870f5e23e57
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/73/549073/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron/neutron.spec.j2'],1,67cdb143de86607fc8f2e0256c84841069833a6a,neutron,{% set upstream_version = '12.0.0' %},{% set upstream_version = '10.0.1' %},1,1
openstack%2Frpm-packaging~master~I00acea4b582fefbc63299d0945c577be115c44f8,openstack/rpm-packaging,master,I00acea4b582fefbc63299d0945c577be115c44f8,Updated oslo.db to 4.34.0,ABANDONED,2018-03-14 16:14:58.000000000,2018-03-20 12:19:44.000000000,,"[{'_account_id': 6593}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-14 16:14:58.000000000', 'files': ['openstack/oslo.db/oslo.db.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4f0fbda3d8b65fb95de00dc65a07fe5d3cffd6b8', 'message': 'Updated oslo.db to 4.34.0\n\nChange-Id: I00acea4b582fefbc63299d0945c577be115c44f8\n'}]",0,552964,4f0fbda3d8b65fb95de00dc65a07fe5d3cffd6b8,11,6,1,26297,,,0,"Updated oslo.db to 4.34.0

Change-Id: I00acea4b582fefbc63299d0945c577be115c44f8
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/64/552964/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.db/oslo.db.spec.j2'],1,4f0fbda3d8b65fb95de00dc65a07fe5d3cffd6b8,oslo.db,{% set upstream_version = upstream_version('4.34.0') %},{% set upstream_version = upstream_version('4.33.0') %},1,1
openstack%2Ftripleo-heat-templates~master~Ic56c48fa35ab2f4c1762c0e370be03fbf2e7671c,openstack/tripleo-heat-templates,master,Ic56c48fa35ab2f4c1762c0e370be03fbf2e7671c,Add check for old-style nic config files,MERGED,2018-03-06 19:01:54.000000000,2018-03-20 12:19:16.000000000,2018-03-20 08:14:09.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 11391}, {'_account_id': 12398}, {'_account_id': 17280}, {'_account_id': 20936}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-03-06 19:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c84ee3500e9de0b1db9e6653b33f77aeb54e9dfd', 'message': 'Add check for old-style nic config files\n\nSince old-style nic config files can no longer be used in Queens\n(the format changed in Ocata) add a check in yaml-validate to\ndetect that old-style files are in use and list conversion script\nthat can be used.\n\nAlso made some changes to the script to ask before overwriting\nthe nic config file and save a copy as backup.\n\nChange-Id: Ic56c48fa35ab2f4c1762c0e370be03fbf2e7671c\nCloses-Bug: 1753812\n'}, {'number': 2, 'created': '2018-03-06 22:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6d482d6915d58d7d9f9eb68d00f52d2db364f1b', 'message': 'Add check for old-style nic config files\n\nSince old-style nic config files can no longer be used in Queens\n(the format changed in Ocata) add a check in yaml-validate to\ndetect that old-style files are in use and list conversion script\nthat can be used.\n\nAlso made some changes to the script to ask before overwriting\nthe nic config file and save a copy as backup.\n\nChange-Id: Ic56c48fa35ab2f4c1762c0e370be03fbf2e7671c\nCloses-Bug: 1753812\n'}, {'number': 3, 'created': '2018-03-07 16:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/68a060ac1df4da1d6e8c91cc44c02672beac9336', 'message': 'Add check for old-style nic config files\n\nSince old-style nic config files can no longer be used in Queens\n(the format changed in Ocata) add a check in yaml-validate to\ndetect that old-style files are in use and list conversion script\nthat can be used.\n\nAlso made some changes to the script to ask before overwriting\nthe nic config file and save a copy as backup.\n\nChange-Id: Ic56c48fa35ab2f4c1762c0e370be03fbf2e7671c\nCloses-Bug: 1753812\n'}, {'number': 4, 'created': '2018-03-09 13:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d9d0701f506e6c0822cfa0e9056527d6a541bef', 'message': 'Add check for old-style nic config files\n\nSince old-style nic config files can no longer be used in Queens\n(the format changed in Ocata) add a check in yaml-validate to\ndetect that old-style files are in use and list conversion script\nthat can be used.\n\nAlso made some changes to the script to ask before overwriting\nthe nic config file and save a copy as backup.\n\nChange-Id: Ic56c48fa35ab2f4c1762c0e370be03fbf2e7671c\nCloses-Bug: 1753812\n'}, {'number': 5, 'created': '2018-03-13 18:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a703ebed7414d4462f68b99528614eb7317be83', 'message': 'Add check for old-style nic config files\n\nSince old-style nic config files can no longer be used in Queens\n(the format changed in Ocata) add a check in yaml-validate to\ndetect that old-style files are in use and list conversion script\nthat can be used.\n\nAlso made some changes to the script to ask before overwriting\nthe nic config file and save a copy as backup.\n\nChange-Id: Ic56c48fa35ab2f4c1762c0e370be03fbf2e7671c\nCloses-Bug: 1753812\n'}, {'number': 6, 'created': '2018-03-14 20:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd5687f0ee6b0334aa719d860c91323bb2f722ab', 'message': 'Add check for old-style nic config files\n\nSince old-style nic config files can no longer be used in Queens\nor Rocky (the format changed in Ocata), add a check in yaml-validate\nto detect that old-style files are in use and list conversion script\nthat can be used.\n\nMade some changes to the script to ask before overwriting the nic\nconfig file and save a datestamped copy as backup.  In addition,\nthe script now takes an optional parameter to define location\nof run-os-net-config.sh.\n\nChange-Id: Ic56c48fa35ab2f4c1762c0e370be03fbf2e7671c\nCloses-Bug: 1753812\n'}, {'number': 7, 'created': '2018-03-14 22:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fff1cec00de37b818e0e9affc2acf6fc3d791ff0', 'message': 'Add check for old-style nic config files\n\nSince old-style nic config files can no longer be used in Queens\nor Rocky (the format changed in Ocata), add a check in yaml-validate\nto detect that old-style files are in use and list conversion script\nthat can be used.\n\nMade some changes to the script to ask before overwriting the nic\nconfig file and save a datestamped copy as backup.  In addition,\nthe script now takes an optional parameter to define location\nof run-os-net-config.sh.\n\nChange-Id: Ic56c48fa35ab2f4c1762c0e370be03fbf2e7671c\nCloses-Bug: 1753812\n'}, {'number': 8, 'created': '2018-03-14 22:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/684eb7056f5661d612fc18ee03e3d1efc5399f18', 'message': 'Add check for old-style nic config files\n\nSince old-style nic config files can no longer be used in Queens\nor Rocky (the format changed in Ocata), add a check in yaml-validate\nto detect that old-style files are in use and list conversion script\nthat can be used.\n\nMade some changes to the script to ask before overwriting the nic\nconfig file and save a datestamped copy as backup.  In addition,\nthe script now takes an optional parameter to define location\nof run-os-net-config.sh.\n\nChange-Id: Ic56c48fa35ab2f4c1762c0e370be03fbf2e7671c\nCloses-Bug: 1753812\n'}, {'number': 9, 'created': '2018-03-16 19:34:56.000000000', 'files': ['tools/yaml-nic-config-2-script.py', 'releasenotes/notes/check-old-style-nic-config-4624a60e3303411b.yaml', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0017b64560074032b09b18b349c2ba1d8b71196b', 'message': 'Add check for old-style nic config files\n\nSince old-style nic config files can no longer be used in Queens\nor Rocky (the format changed in Ocata), add a check in yaml-validate\nto detect that old-style files are in use and list conversion script\nthat can be used.\n\nMade some changes to the script to ask before overwriting the nic\nconfig file and save a datestamped copy as backup.  In addition,\nthe script now takes an optional parameter to define location\nof run-os-net-config.sh.\n\nChange-Id: Ic56c48fa35ab2f4c1762c0e370be03fbf2e7671c\nCloses-Bug: 1753812\n'}]",34,550201,0017b64560074032b09b18b349c2ba1d8b71196b,42,11,9,21909,,,0,"Add check for old-style nic config files

Since old-style nic config files can no longer be used in Queens
or Rocky (the format changed in Ocata), add a check in yaml-validate
to detect that old-style files are in use and list conversion script
that can be used.

Made some changes to the script to ask before overwriting the nic
config file and save a datestamped copy as backup.  In addition,
the script now takes an optional parameter to define location
of run-os-net-config.sh.

Change-Id: Ic56c48fa35ab2f4c1762c0e370be03fbf2e7671c
Closes-Bug: 1753812
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/550201/9 && git format-patch -1 --stdout FETCH_HEAD,"['tools/yaml-nic-config-2-script.py', 'releasenotes/notes/check-old-style-nic-config-4624a60e3303411b.yaml', 'tools/yaml-validate.py']",3,c84ee3500e9de0b1db9e6653b33f77aeb54e9dfd,bug/1753812," if retval == 0: # nic config files can have various names retval = validate_nic_config_file(filename, tpl) def validate_nic_config_file(filename, tpl): try: resources = tpl.get('resources') if resources: for resource, data in resources.items(): if 'OsNetConfigImpl' in resource: if 'OS::Heat::StructuredConfig' in data['type']: print('ERROR: Using old format of nic configuration file: %s' % filename) print('tools/yaml-nic-config-2-script.py can be used to convert to new format') return 1 except Exception: print(traceback.format_exc()) return 1 return 0 ",,80,26
openstack%2Fproject-config~master~I67dadd6a89d913fd101b59198dd730ce7d9a8857,openstack/project-config,master,I67dadd6a89d913fd101b59198dd730ce7d9a8857,Set up cyborg-specs repository,MERGED,2018-03-17 11:05:34.000000000,2018-03-20 12:14:10.000000000,2018-03-20 12:14:09.000000000,"[{'_account_id': 6547}, {'_account_id': 7069}, {'_account_id': 13629}, {'_account_id': 22348}, {'_account_id': 24872}]","[{'number': 1, 'created': '2018-03-17 11:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d3b9eb2e4e46d6dcdcf9ca78fa44a8aa41e1716b', 'message': 'Set up cyborg-specs repository\n\nThis patch set does the following things:\n * Add cyborg-specs to the master projects list and gerrit permissions\n * Add cyborg-specs to zuul\n * Configure GerritBot to Announce Changes\n\nChange-Id: I67dadd6a89d913fd101b59198dd730ce7d9a8857\n'}, {'number': 2, 'created': '2018-03-19 01:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/05b04afc730a366bc3af8d81a7fba4caeb75ad68', 'message': 'Set up cyborg-specs repository\n\nThis patch set does the following things:\n * Add cyborg-specs to the master projects list and gerrit permissions\n * Add cyborg-specs to zuul\n * Configure GerritBot to Announce Changes\n\nChange-Id: I67dadd6a89d913fd101b59198dd730ce7d9a8857\n'}, {'number': 3, 'created': '2018-03-19 01:47:16.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9758ee4f0ea1b9f296efa7bcba37bddc1dc95465', 'message': 'Set up cyborg-specs repository\n\nThis patch set does the following things:\n * Add cyborg-specs to the master projects list and gerrit permissions\n * Add cyborg-specs to zuul\n * Configure GerritBot to Announce Changes\n\nChange-Id: I67dadd6a89d913fd101b59198dd730ce7d9a8857\nNeeded-By: https://review.openstack.org/553977/\n'}]",2,553975,9758ee4f0ea1b9f296efa7bcba37bddc1dc95465,18,5,3,24872,,,0,"Set up cyborg-specs repository

This patch set does the following things:
 * Add cyborg-specs to the master projects list and gerrit permissions
 * Add cyborg-specs to zuul
 * Configure GerritBot to Announce Changes

Change-Id: I67dadd6a89d913fd101b59198dd730ce7d9a8857
Needed-By: https://review.openstack.org/553977/
",git fetch https://review.opendev.org/openstack/project-config refs/changes/75/553975/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'specs/specs.yaml', 'gerrit/projects.yaml', 'zuul/main.yaml']",4,d3b9eb2e4e46d6dcdcf9ca78fa44a8aa41e1716b,, - openstack/cyborg-specs,,7,0
openstack%2Fmonasca-ui~master~I3853edaafcaf30d862185b3ec4e4a75b28717933,openstack/monasca-ui,master,I3853edaafcaf30d862185b3ec4e4a75b28717933,Update README file to add description about running tests,MERGED,2018-03-15 09:21:54.000000000,2018-03-20 12:06:38.000000000,2018-03-20 12:06:37.000000000,"[{'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21486}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-03-15 09:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/1589fcfb746544978f785333fb4a887527eaf3a8', 'message': 'Update README file\n\nDescribing how to run style checks and unit tests\n\nStory: 2001657\nTask: 6689\n\nChange-Id: I3853edaafcaf30d862185b3ec4e4a75b28717933\nSigned-off-by: Amir Mofakhar <amofakhar@op5.com>\n'}, {'number': 2, 'created': '2018-03-15 10:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/b471a7eb82599f9cf60adb6c6151843142c11687', 'message': 'Update README file\n\nDescribing how to run style checks and unit tests\n\nStory: 2001657\nTask: 6689\n\nChange-Id: I3853edaafcaf30d862185b3ec4e4a75b28717933\nSigned-off-by: Amir Mofakhar <amofakhar@op5.com>\n'}, {'number': 3, 'created': '2018-03-15 12:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/3c7a0bc22a80bbcd7ff2897b4c1c61101fce989c', 'message': 'Update README file\n\nDescribing how to run style checks and unit tests\n\nStory: 2001657\nTask: 6689\n\nChange-Id: I3853edaafcaf30d862185b3ec4e4a75b28717933\nSigned-off-by: Amir Mofakhar <amofakhar@op5.com>\n'}, {'number': 4, 'created': '2018-03-16 13:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/e74ec34dbab9d64cd29e25b183d0fa0916004e54', 'message': 'Update README file\n\nDescribing how to run style checks and unit tests\n\nStory: 2001657\nTask: 6689\n\nChange-Id: I3853edaafcaf30d862185b3ec4e4a75b28717933\nSigned-off-by: Amir Mofakhar <amofakhar@op5.com>\n'}, {'number': 5, 'created': '2018-03-19 08:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/f7c745a50973d0d606f407dfe3ee2247644c3978', 'message': 'Update README file\n\nDescribing how to run style checks and unit tests\n\nStory: 2001657\nTask: 6689\n\nChange-Id: I3853edaafcaf30d862185b3ec4e4a75b28717933\nSigned-off-by: Amir Mofakhar <amofakhar@op5.com>\n'}, {'number': 6, 'created': '2018-03-19 10:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/45d630a9e8bb5ac81d55f6ea3ecc68d5b0cc0050', 'message': 'Update README file\n\nDescribing how to run style checks and unit tests\n\nStory: 2001657\nTask: 6689\n\nChange-Id: I3853edaafcaf30d862185b3ec4e4a75b28717933\nSigned-off-by: Amir Mofakhar <amofakhar@op5.com>\n'}, {'number': 7, 'created': '2018-03-20 07:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/a70e5e929fb68e19ce3e06b29a73382434456bec', 'message': 'Update README file\n\nDescribing how to run style checks and unit tests\n\nStory: 2001657\nTask: 6689\n\nChange-Id: I3853edaafcaf30d862185b3ec4e4a75b28717933\nSigned-off-by: Amir Mofakhar <amofakhar@op5.com>\n'}, {'number': 8, 'created': '2018-03-20 07:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/c520d7cd7887a02688a8e580ee30b99756ffb1d2', 'message': 'Update README file\n\nDescribing how to run style checks and unit tests\n\nStory: 2001657\nTask: 6689\n\nChange-Id: I3853edaafcaf30d862185b3ec4e4a75b28717933\nSigned-off-by: Amir Mofakhar <amofakhar@op5.com>\n'}, {'number': 9, 'created': '2018-03-20 09:21:24.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/0f4c059e4d524884404ef712222f6f60cb9f008e', 'message': 'Update README file to add description about running tests\n\nDescribing how to run style checks and unit tests\n\nStory: 2001657\nTask: 6689\n\nChange-Id: I3853edaafcaf30d862185b3ec4e4a75b28717933\nSigned-off-by: Amir Mofakhar <amofakhar@op5.com>\n'}]",18,553287,0f4c059e4d524884404ef712222f6f60cb9f008e,40,7,9,26733,,,0,"Update README file to add description about running tests

Describing how to run style checks and unit tests

Story: 2001657
Task: 6689

Change-Id: I3853edaafcaf30d862185b3ec4e4a75b28717933
Signed-off-by: Amir Mofakhar <amofakhar@op5.com>
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/87/553287/7 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,1589fcfb746544978f785333fb4a887527eaf3a8,update-readme,"## Style checks To check if the code follows python coding style, run the following command from the root directory of this project $ tox -e pep8 ## Unit tests To run all the unit test cases, run the following command from the root directory of this project $ tox -e py27 ",,14,0
openstack%2Ftripleo-ui~stable%2Fqueens~I69d713ae57d07f52fa1664bd264bde3b7167e88e,openstack/tripleo-ui,stable/queens,I69d713ae57d07f52fa1664bd264bde3b7167e88e,Fix DeploymentInfo in DeploymentSuccess,MERGED,2018-03-20 10:58:45.000000000,2018-03-20 11:54:53.000000000,2018-03-20 11:54:53.000000000,"[{'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 10:58:45.000000000', 'files': ['src/js/components/deployment/DeploymentSuccess.js', 'src/js/components/deployment/DeploymentDetail.js'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/ace324587cd498a50b109a39dfa3881f4a279413', 'message': 'Fix DeploymentInfo in DeploymentSuccess\n\nIn case when deployment successfully finishes and deployment detail\nis open, rendered DeploymentSuccess does not receive overcloudInfo\nprop\n\nThis change adds the prop so DeploymentSuccess renders properly\n\nCloses-Bug: #1755542\nChange-Id: I69d713ae57d07f52fa1664bd264bde3b7167e88e\n(cherry picked from commit c53bf2e8eb6f78d4cbadeb6e6edb977578b15049)\n'}]",0,554502,ace324587cd498a50b109a39dfa3881f4a279413,6,2,1,7509,,,0,"Fix DeploymentInfo in DeploymentSuccess

In case when deployment successfully finishes and deployment detail
is open, rendered DeploymentSuccess does not receive overcloudInfo
prop

This change adds the prop so DeploymentSuccess renders properly

Closes-Bug: #1755542
Change-Id: I69d713ae57d07f52fa1664bd264bde3b7167e88e
(cherry picked from commit c53bf2e8eb6f78d4cbadeb6e6edb977578b15049)
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/02/554502/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/js/components/deployment/DeploymentSuccess.js', 'src/js/components/deployment/DeploymentDetail.js']",2,ace324587cd498a50b109a39dfa3881f4a279413,bug/1755542-stable/queens," getCurrentStackDeploymentProgress, getOvercloudInfo overcloudInfo={this.props.overcloudInfo} overcloudInfo: ImmutablePropTypes.map.isRequired, overcloudInfo: getOvercloudInfo(state),", getCurrentStackDeploymentProgress,8,4
openstack%2Ftripleo-ui~master~I8e5069c276e49d810554db81d71c06e62223fc56,openstack/tripleo-ui,master,I8e5069c276e49d810554db81d71c06e62223fc56,Update Manage Roles link to be Inline Button,MERGED,2018-03-19 23:20:26.000000000,2018-03-20 11:51:18.000000000,2018-03-20 11:51:18.000000000,"[{'_account_id': 7509}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 23:20:26.000000000', 'files': ['src/js/components/deployment_plan/RolesStep.js', 'src/js/components/roles/NodesAssignment.js'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/355f64532b66d83e8a937372435b8eb42be1423f', 'message': 'Update Manage Roles link to be Inline Button\n\nThis patch changes the Manage Roles link on the deployment plan\npage to be a button. It also moves it to be inline with all\nother main buttons on the page.\n\nNote that the Save and Cancel buttons when changing the number\non nodes assigned to roles will remain floating to the right.\n\nChange-Id: I8e5069c276e49d810554db81d71c06e62223fc56\nCloses-Bug: #1757014\n'}]",0,554379,355f64532b66d83e8a937372435b8eb42be1423f,7,3,1,8351,,,0,"Update Manage Roles link to be Inline Button

This patch changes the Manage Roles link on the deployment plan
page to be a button. It also moves it to be inline with all
other main buttons on the page.

Note that the Save and Cancel buttons when changing the number
on nodes assigned to roles will remain floating to the right.

Change-Id: I8e5069c276e49d810554db81d71c06e62223fc56
Closes-Bug: #1757014
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/79/554379/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/js/components/deployment_plan/RolesStep.js', 'src/js/components/roles/NodesAssignment.js']",2,355f64532b66d83e8a937372435b8eb42be1423f,bug/1757014,,"import { defineMessages, FormattedMessage } from 'react-intl';import { Link } from 'react-router-dom';import FloatingToolbar from '../ui/FloatingToolbar'; const messages = defineMessages({ manageRolesLink: { id: 'NodesAssignment.manageRolesLink', defaultMessage: 'Manage Roles' } }); <FloatingToolbar bottom right> <Link to={`/plans/${currentPlanName}/select-roles`}> <span className=""pficon pficon-maintenance"" />{' '} <FormattedMessage {...messages.manageRolesLink} /> </Link> </FloatingToolbar>",11,16
openstack%2Fopenstack-ansible~stable%2Fqueens~I951a7c4b063fb606c2221b59294d19ffbcd32d6d,openstack/openstack-ansible,stable/queens,I951a7c4b063fb606c2221b59294d19ffbcd32d6d,[Docs] Flatten out monitoring,ABANDONED,2018-03-15 15:48:35.000000000,2018-03-20 11:46:41.000000000,,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 15:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f2240d9d8098b32fb5b8bfc01f8249eb349fb311', 'message': ""[Docs] Flatten out monitoring\n\nMonitoring has no content, and doesn't need subfiles.\n\nChange-Id: I951a7c4b063fb606c2221b59294d19ffbcd32d6d\n(cherry picked from commit ebdd5759b1be7323126845be7f3af99af8bc149d)\n""}, {'number': 2, 'created': '2018-03-20 11:08:39.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/monitoring-systems.rst', 'doc/source/admin/monitor-environment.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d82455c4f57f22a19cae6113348a7897da76c323', 'message': ""[Docs] Flatten out monitoring\n\nMonitoring has no content, and doesn't need subfiles.\n\nChange-Id: I951a7c4b063fb606c2221b59294d19ffbcd32d6d\n(cherry picked from commit ebdd5759b1be7323126845be7f3af99af8bc149d)\n""}]",0,553446,d82455c4f57f22a19cae6113348a7897da76c323,10,4,2,17068,,,0,"[Docs] Flatten out monitoring

Monitoring has no content, and doesn't need subfiles.

Change-Id: I951a7c4b063fb606c2221b59294d19ffbcd32d6d
(cherry picked from commit ebdd5759b1be7323126845be7f3af99af8bc149d)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/46/553446/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/monitor-environment/monitoring-systems.rst', 'doc/source/admin/monitor-environment.rst']",3,f2240d9d8098b32fb5b8bfc01f8249eb349fb311,bp/docs-improvements-stable/queens,,=========================== Monitoring your environment =========================== This is a draft monitoring environment page for the proposed OpenStack-Ansible operations guide. .. toctree:: :maxdepth: 2 monitor-environment/monitoring-systems.rst ,4,15
openstack%2Fopenstack-ansible-tests~master~I776e34f55237376620d3a107bb363426af0ca2ee,openstack/openstack-ansible-tests,master,I776e34f55237376620d3a107bb363426af0ca2ee,Add systemd roles to required projects,MERGED,2018-03-20 02:49:00.000000000,2018-03-20 11:34:21.000000000,2018-03-20 11:34:21.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 02:49:00.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/4a795e649f7a73dfbf99b405e94ad30c21fdc640', 'message': 'Add systemd roles to required projects\n\nChange-Id: I776e34f55237376620d3a107bb363426af0ca2ee\n'}]",0,554402,4a795e649f7a73dfbf99b405e94ad30c21fdc640,8,4,1,17799,,,0,"Add systemd roles to required projects

Change-Id: I776e34f55237376620d3a107bb363426af0ca2ee
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/02/554402/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,4a795e649f7a73dfbf99b405e94ad30c21fdc640,systemd-zuul, - name: openstack/ansible-role-systemd_mount - name: openstack/ansible-role-systemd_networkd - name: openstack/ansible-role-systemd_service - name: openstack/ansible-role-systemd_mount - name: openstack/ansible-role-systemd_networkd - name: openstack/ansible-role-systemd_service,,6,0
openstack%2Fopenstack-ansible~stable%2Fqueens~I4dfc5941abfd834d1d53a9c737db7afcce2841a0,openstack/openstack-ansible,stable/queens,I4dfc5941abfd834d1d53a9c737db7afcce2841a0,[Docs] Migrate security into user guide,ABANDONED,2018-03-15 17:00:25.000000000,2018-03-20 11:30:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-15 17:00:25.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/user/security/ssl-certificates.rst', 'deploy-guide/source/app-resources.rst', 'doc/source/user/security/hardening.rst', 'deploy-guide/source/app.rst', 'doc/source/reference/architecture/security.rst', 'doc/source/user/security/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/03b28fb11fd16403bb2d641e7f134da66371450f', 'message': '[Docs] Migrate security into user guide\n\nMigrate all the security related user configurations into\na user story.\n\nChange-Id: I4dfc5941abfd834d1d53a9c737db7afcce2841a0\n(cherry picked from commit f1a7525570f8a30cc9e335f00fb3007a52ed6344)\n'}]",0,553491,03b28fb11fd16403bb2d641e7f134da66371450f,3,1,1,17068,,,0,"[Docs] Migrate security into user guide

Migrate all the security related user configurations into
a user story.

Change-Id: I4dfc5941abfd834d1d53a9c737db7afcce2841a0
(cherry picked from commit f1a7525570f8a30cc9e335f00fb3007a52ed6344)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/91/553491/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/user/security/ssl-certificates.rst', 'deploy-guide/source/app-resources.rst', 'doc/source/user/security/hardening.rst', 'deploy-guide/source/app.rst', 'doc/source/reference/architecture/security.rst', 'doc/source/user/security/index.rst']",7,03b28fb11fd16403bb2d641e7f134da66371450f,bp/docs-improvements-stable/queens,"================= Security settings ================= This chapter contains information to configure specific security settings for your OpenStack-Ansible cloud. For understanding security design, please see :ref:`security-design`. .. include:: ssl-certificates.rst .. include:: hardening.rst ",,72,22
