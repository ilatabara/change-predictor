id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fec2-api~stable%2Fzed~I3103c4ecb803e784c87ed4cff5124d303620d4a5,openstack/ec2-api,stable/zed,I3103c4ecb803e784c87ed4cff5124d303620d4a5,Correct queue declaration in Zuul config,ABANDONED,2023-06-12 16:16:14.000000000,2023-06-12 16:18:51.000000000,,[],"[{'number': 1, 'created': '2023-06-12 16:16:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/2a9d9d6fd6c6d80dd6d61216513d522803d5f4c2', 'message': 'Correct queue declaration in Zuul config\n\nMove the ec2-api queue declaration from the pipeline level (where it\nis no longer valid) to the project level.\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I3103c4ecb803e784c87ed4cff5124d303620d4a5\n(cherry picked from commit 16b27e67ea4b5fce9e84e217bde8f07af6a7481b)\n'}]",0,885911,2a9d9d6fd6c6d80dd6d61216513d522803d5f4c2,4,0,1,13252,,,0,"Correct queue declaration in Zuul config

Move the ec2-api queue declaration from the pipeline level (where it
is no longer valid) to the project level.

https: //lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I3103c4ecb803e784c87ed4cff5124d303620d4a5
(cherry picked from commit 16b27e67ea4b5fce9e84e217bde8f07af6a7481b)
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/11/885911/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2a9d9d6fd6c6d80dd6d61216513d522803d5f4c2,fix-zuul-errors, queue: ec2-api,,1,0
openstack%2Fsenlin~stable%2Fstein~Ie3440cb649484f999fc37f4779d36033c96a45d7,openstack/senlin,stable/stein,Ie3440cb649484f999fc37f4779d36033c96a45d7,Fix zuul CI,MERGED,2023-06-12 16:11:26.000000000,2023-06-12 16:14:42.000000000,2023-06-12 16:13:05.000000000,[{'_account_id': 13252}],"[{'number': 1, 'created': '2023-06-12 16:11:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin/commit/1c21ef12bcb2fa138251f2ec5e932bb020f6db11', 'message': 'Fix zuul CI\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\n(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)\n\nFor stable/ussuri dropped the tox.ini changes from the backport series\nagain since the number of merge conflicts increases and the CI is\nfailing anyway.\n\nAdded for stable/stein: Drop no longer existing neutron-lbaas project\nfrom rally-dsvm-senlin-senlin job definition.\n\nChange-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7\n(cherry picked from commit b6ef17b0f787fb7a0609ba36dc13097882a6a3ff)\n(cherry picked from commit 2f4166b23ab1fe0f66c15d65d738deda4b7b0836)\n(cherry picked from commit 1dd9588ae8f9223565177967a319d463560b4d21)\n(cherry picked from commit 5d79a976cffcc8c136da208bea4c7f0e717f8b43)\n(cherry picked from commit dacc6792d068b14820627d3c8155f81b1fe81684)\n'}]",1,885892,1c21ef12bcb2fa138251f2ec5e932bb020f6db11,4,1,1,13252,,,0,"Fix zuul CI

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)

For stable/ussuri dropped the tox.ini changes from the backport series
again since the number of merge conflicts increases and the CI is
failing anyway.

Added for stable/stein: Drop no longer existing neutron-lbaas project
from rally-dsvm-senlin-senlin job definition.

Change-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7
(cherry picked from commit b6ef17b0f787fb7a0609ba36dc13097882a6a3ff)
(cherry picked from commit 2f4166b23ab1fe0f66c15d65d738deda4b7b0836)
(cherry picked from commit 1dd9588ae8f9223565177967a319d463560b4d21)
(cherry picked from commit 5d79a976cffcc8c136da208bea4c7f0e717f8b43)
(cherry picked from commit dacc6792d068b14820627d3c8155f81b1fe81684)
",git fetch https://review.opendev.org/openstack/senlin refs/changes/92/885892/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1c21ef12bcb2fa138251f2ec5e932bb020f6db11,fix-zuul-errors, queue: senlin, queue: senlin - openstack/neutron-lbaas,1,2
openstack%2Fsenlin~stable%2Ftrain~Ie3440cb649484f999fc37f4779d36033c96a45d7,openstack/senlin,stable/train,Ie3440cb649484f999fc37f4779d36033c96a45d7,Fix zuul CI,MERGED,2023-06-12 16:07:14.000000000,2023-06-12 16:09:45.000000000,2023-06-12 16:07:44.000000000,[{'_account_id': 13252}],"[{'number': 1, 'created': '2023-06-12 16:07:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin/commit/dacc6792d068b14820627d3c8155f81b1fe81684', 'message': 'Fix zuul CI\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\n(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)\n\nFor stable/ussuri dropped the tox.ini changes from the backport series\nagain since the number of merge conflicts increases and the CI is\nfailing anyway.\n\nChange-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7\n(cherry picked from commit b6ef17b0f787fb7a0609ba36dc13097882a6a3ff)\n(cherry picked from commit 2f4166b23ab1fe0f66c15d65d738deda4b7b0836)\n(cherry picked from commit 1dd9588ae8f9223565177967a319d463560b4d21)\n(cherry picked from commit 5d79a976cffcc8c136da208bea4c7f0e717f8b43)\n'}]",1,885910,dacc6792d068b14820627d3c8155f81b1fe81684,4,1,1,13252,,,0,"Fix zuul CI

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)

For stable/ussuri dropped the tox.ini changes from the backport series
again since the number of merge conflicts increases and the CI is
failing anyway.

Change-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7
(cherry picked from commit b6ef17b0f787fb7a0609ba36dc13097882a6a3ff)
(cherry picked from commit 2f4166b23ab1fe0f66c15d65d738deda4b7b0836)
(cherry picked from commit 1dd9588ae8f9223565177967a319d463560b4d21)
(cherry picked from commit 5d79a976cffcc8c136da208bea4c7f0e717f8b43)
",git fetch https://review.opendev.org/openstack/senlin refs/changes/10/885910/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dacc6792d068b14820627d3c8155f81b1fe81684,fix-zuul-errors-stable/train, queue: senlin, queue: senlin,1,1
openstack%2Fsenlin~stable%2Fussuri~Ie3440cb649484f999fc37f4779d36033c96a45d7,openstack/senlin,stable/ussuri,Ie3440cb649484f999fc37f4779d36033c96a45d7,Fix zuul CI,MERGED,2023-06-12 16:01:18.000000000,2023-06-12 16:08:58.000000000,2023-06-12 16:06:52.000000000,[{'_account_id': 13252}],"[{'number': 1, 'created': '2023-06-12 16:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/0b9f8055f0ae8406ef1bf2b38552c872d6bb7c01', 'message': 'Fix zuul CI\n\nThis is squashed from two commits in order to get a passing CI.\nManually fixed tox.ini inconsistency.\n\nFirst commit:\n\nUpdate deprecated zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\n(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)\n\nSecond commit:\n\nFix doc failing to build properly\n\n(cherry picked from commit 83de2e97c05f9d34c059ff0d7c8680643009ebdf)\n\nChange-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7\n(cherry picked from commit b6ef17b0f787fb7a0609ba36dc13097882a6a3ff)\n(cherry picked from commit 2f4166b23ab1fe0f66c15d65d738deda4b7b0836)\n(cherry picked from commit 1dd9588ae8f9223565177967a319d463560b4d21)\n'}, {'number': 2, 'created': '2023-06-12 16:05:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/senlin/commit/5d79a976cffcc8c136da208bea4c7f0e717f8b43', 'message': 'Fix zuul CI\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\n(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)\n\nFor stable/ussuri dropped the tox.ini changes from the backport series\nagain since the number of merge conflicts increases and the CI is\nfailing anyway.\n\nChange-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7\n(cherry picked from commit b6ef17b0f787fb7a0609ba36dc13097882a6a3ff)\n(cherry picked from commit 2f4166b23ab1fe0f66c15d65d738deda4b7b0836)\n(cherry picked from commit 1dd9588ae8f9223565177967a319d463560b4d21)\n'}]",1,885890,5d79a976cffcc8c136da208bea4c7f0e717f8b43,5,1,2,13252,,,0,"Fix zuul CI

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)

For stable/ussuri dropped the tox.ini changes from the backport series
again since the number of merge conflicts increases and the CI is
failing anyway.

Change-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7
(cherry picked from commit b6ef17b0f787fb7a0609ba36dc13097882a6a3ff)
(cherry picked from commit 2f4166b23ab1fe0f66c15d65d738deda4b7b0836)
(cherry picked from commit 1dd9588ae8f9223565177967a319d463560b4d21)
",git fetch https://review.opendev.org/openstack/senlin refs/changes/90/885890/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,0b9f8055f0ae8406ef1bf2b38552c872d6bb7c01,fix-zuul-errors," find . -type f -name ""*.py[c|o]"" -delete stestr run {posargs} stestr slowest allowlist_externals = bash find rmdeps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txtallowlist_externals = rm"," find . -type f -name ""*.py[c|o]"" -delete stestr run {posargs} stestr slowest whitelist_externals = bash find rmdeps = -r{toxinidir}/doc/requirements.txtwhitelist_externals = rm",13,10
openstack%2Ftripleo-common~stable%2Ftrain~I80d44b15e92563df7f0cce8c2c52097f406780cb,openstack/tripleo-common,stable/train,I80d44b15e92563df7f0cce8c2c52097f406780cb,Stop using dumb-init entry for nova-libvirt image,MERGED,2023-06-02 14:10:23.000000000,2023-06-12 16:07:41.000000000,2023-06-12 16:05:57.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-06-02 14:10:23.000000000', 'files': ['container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f05781f09b75c317d3e1cd651e7b4b2abd227efc', 'message': ""Stop using dumb-init entry for nova-libvirt image\n\nContainers that use nova-libvirt image are mostly run in the\nhost'd pid namespace, and require no artificial init.\nThis solves the problem for nova libvirt container, that execute\nlibvirtd in a transient systemd unit, when its parent dumb-init\nprocess dies for *reasons*.\n\nConflicts:\n  container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml\n\nChange-Id: I80d44b15e92563df7f0cce8c2c52097f406780cb\nRelated: rhbz#2168530\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit c2195211e470a7b26fc2a1c8a364615d5a64e34c)\n""}]",0,885141,f05781f09b75c317d3e1cd651e7b4b2abd227efc,7,4,1,6926,,,0,"Stop using dumb-init entry for nova-libvirt image

Containers that use nova-libvirt image are mostly run in the
host'd pid namespace, and require no artificial init.
This solves the problem for nova libvirt container, that execute
libvirtd in a transient systemd unit, when its parent dumb-init
process dies for *reasons*.

Conflicts:
  container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml

Change-Id: I80d44b15e92563df7f0cce8c2c52097f406780cb
Related: rhbz#2168530
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit c2195211e470a7b26fc2a1c8a364615d5a64e34c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/41/885141/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml'],1,f05781f09b75c317d3e1cd651e7b4b2abd227efc,train,tcib_entrypoint: '',,1,0
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I685e8ef117a394629b9be4bb6dfa8f6301bf6e89,openstack/tripleo-upgrade,stable/wallaby,I685e8ef117a394629b9be4bb6dfa8f6301bf6e89,[update] Add ha-image-update external run.,MERGED,2023-05-03 10:06:01.000000000,2023-06-12 16:06:01.000000000,2023-06-12 16:06:01.000000000,"[{'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 29307}, {'_account_id': 32432}, {'_account_id': 33080}, {'_account_id': 34847}]","[{'number': 1, 'created': '2023-05-03 10:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2299f0e9f1676dfd3d88ab720a801d29fce80b38', 'message': '[update] Add ha-image-update external run.\n\nThe templates now integrate a test to verify very early if we need\ncontainer image\'s name under pacemaker control need to be modified[1].\n\nWhen this happen we need to run\n\n    openstack overcloud external-update run --tags ha_image_update\n\nbefore overcloud update run on the Controller to ensure the control\nplane doesn\'t break during update.\n\nThis patch offer the possibility to trigger this command when the\noperator know that there will be such change and thus will prevent the\ncheck from[1] to fail the update.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/861100/\n    look for the ""Check for update of * container image name"" tasks\n\nChange-Id: I685e8ef117a394629b9be4bb6dfa8f6301bf6e89\n'}, {'number': 2, 'created': '2023-06-06 10:36:20.000000000', 'files': ['tasks/update/create-overcloud-update-scripts.yaml', 'templates/ha-image-update-external-update.sh.j2', 'infrared_plugin/plugin.spec', 'tasks/update/main.yml', 'infrared_plugin/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/cf0db8ac466fb3f1dbfd0cf8c3b040ed4bdd2a9f', 'message': '[update] Add ha-image-update external run.\n\nThe templates now integrate a test to verify very early if we need\ncontainer image\'s name under pacemaker control need to be modified[1].\n\nWhen this happen we need to run\n\n    openstack overcloud external-update run --tags ha_image_update\n\nbefore overcloud update run on the Controller to ensure the control\nplane doesn\'t break during update.\n\nThis patch offer the possibility to trigger this command when the\noperator know that there will be such change and thus will prevent the\ncheck from[1] to fail the update.\n\nWe also collect the log before that stage.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/861100/\n    look for the ""Check for update of * container image name"" tasks\n\nChange-Id: I685e8ef117a394629b9be4bb6dfa8f6301bf6e89\n'}]",12,882134,cf0db8ac466fb3f1dbfd0cf8c3b040ed4bdd2a9f,18,7,2,8297,,,0,"[update] Add ha-image-update external run.

The templates now integrate a test to verify very early if we need
container image's name under pacemaker control need to be modified[1].

When this happen we need to run

    openstack overcloud external-update run --tags ha_image_update

before overcloud update run on the Controller to ensure the control
plane doesn't break during update.

This patch offer the possibility to trigger this command when the
operator know that there will be such change and thus will prevent the
check from[1] to fail the update.

We also collect the log before that stage.

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/861100/
    look for the ""Check for update of * container image name"" tasks

Change-Id: I685e8ef117a394629b9be4bb6dfa8f6301bf6e89
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/34/882134/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/update/create-overcloud-update-scripts.yaml', 'templates/ha-image-update-external-update.sh.j2', 'infrared_plugin/plugin.spec', 'tasks/update/main.yml', 'infrared_plugin/main.yml', 'defaults/main.yml']",6,2299f0e9f1676dfd3d88ab720a801d29fce80b38,,# enable ha_image_update external run. ha_image_update_run: false ,,109,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia72c9d088326f4652e5844f09dd283dfcea4f8b8,openstack/tripleo-heat-templates,stable/train,Ia72c9d088326f4652e5844f09dd283dfcea4f8b8,Use dumb-init for nova migration target cmd,MERGED,2023-06-02 14:12:26.000000000,2023-06-12 16:05:59.000000000,2023-06-12 16:05:59.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-06-02 14:12:26.000000000', 'files': ['deployment/nova/nova-migration-target-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05e9655e44b93a17118d06bf46bc47156e78ac00', 'message': ""Use dumb-init for nova migration target cmd\n\nThe libvirt container image used for the subject container\nno longer contains dumb-init in its entrypoint, because\nother (not init-like) containers that use it, run in the host\npid namespace.\n\nAdd dumb-init to the migration target container directly as it\ndoesn't run in the host pid ns.\n\nConflicts:\n  deployment/nova/nova-migration-target-container-puppet.yaml\n\nDepends-On: I80d44b15e92563df7f0cce8c2c52097f406780cb\nRelated: rhbz#2168530\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ia72c9d088326f4652e5844f09dd283dfcea4f8b8\n(cherry picked from commit 701b3fe3aff0107f1a6a0bd4050125e45c77cb23)\n""}]",0,885142,05e9655e44b93a17118d06bf46bc47156e78ac00,7,4,1,6926,,,0,"Use dumb-init for nova migration target cmd

The libvirt container image used for the subject container
no longer contains dumb-init in its entrypoint, because
other (not init-like) containers that use it, run in the host
pid namespace.

Add dumb-init to the migration target container directly as it
doesn't run in the host pid ns.

Conflicts:
  deployment/nova/nova-migration-target-container-puppet.yaml

Depends-On: I80d44b15e92563df7f0cce8c2c52097f406780cb
Related: rhbz#2168530
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: Ia72c9d088326f4652e5844f09dd283dfcea4f8b8
(cherry picked from commit 701b3fe3aff0107f1a6a0bd4050125e45c77cb23)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/885142/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-migration-target-container-puppet.yaml'],1,05e9655e44b93a17118d06bf46bc47156e78ac00,train," template: ""dumb-init --single-child -- /usr/sbin/sshd -D -p SSHDPORT"""," template: ""/usr/sbin/sshd -D -p SSHDPORT""",1,1
openstack%2Fironic~master~I4ba61d8defdfe86fbe7e40fad1bb12927d3ca598,openstack/ironic,master,I4ba61d8defdfe86fbe7e40fad1bb12927d3ca598,DNM terrible unittest bisecting,ABANDONED,2023-06-07 21:50:59.000000000,2023-06-12 16:04:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-07 21:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a7ab4779fdc0121e07bdb249a613d08d3fa1ec3f', 'message': 'DNM terrible unittest bisecting\n\nThis change runs a bunch of unittests over the various python versions\nattempting to determine which set of tests from\nhttps://paste.opendev.org/show/bPbFfzlyhZfXS1SPe4dJ/ causes jobs to time\nout. We can modify the stestr filter in a new patchset as each group\npasses.\n\nChange-Id: I4ba61d8defdfe86fbe7e40fad1bb12927d3ca598\n'}, {'number': 2, 'created': '2023-06-07 22:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7813a64b0412148bcdfad939f80cc7001d6965fe', 'message': 'DNM terrible unittest bisecting\n\nThis change runs a bunch of unittests over the various python versions\nattempting to determine which set of tests from\nhttps://paste.opendev.org/show/bPbFfzlyhZfXS1SPe4dJ/ causes jobs to time\nout. We can modify the stestr filter in a new patchset as each group\npasses.\n\nChange-Id: I4ba61d8defdfe86fbe7e40fad1bb12927d3ca598\n'}, {'number': 3, 'created': '2023-06-07 22:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/91c6b35dc9e83d8cb3a8bf2203a78fee1e09f02b', 'message': 'DNM terrible unittest bisecting\n\nThis change runs a bunch of unittests over the various python versions\nattempting to determine which set of tests from\nhttps://paste.opendev.org/show/bPbFfzlyhZfXS1SPe4dJ/ causes jobs to time\nout. We can modify the stestr filter in a new patchset as each group\npasses.\n\nChange-Id: I4ba61d8defdfe86fbe7e40fad1bb12927d3ca598\n'}, {'number': 4, 'created': '2023-06-07 22:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8f95407863ecfdf7fb9c3ea28a946a2c22909c53', 'message': 'DNM terrible unittest bisecting\n\nThis change runs a bunch of unittests over the various python versions\nattempting to determine which set of tests from\nhttps://paste.opendev.org/show/bPbFfzlyhZfXS1SPe4dJ/ causes jobs to time\nout. We can modify the stestr filter in a new patchset as each group\npasses.\n\nChange-Id: I4ba61d8defdfe86fbe7e40fad1bb12927d3ca598\n'}, {'number': 5, 'created': '2023-06-07 23:13:42.000000000', 'files': ['zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a82aa044b385780e1586554e030fe56cde4d3045', 'message': 'DNM terrible unittest bisecting\n\nThis change runs a bunch of unittests over the various python versions\nattempting to determine which set of tests from\nhttps://paste.opendev.org/show/bPbFfzlyhZfXS1SPe4dJ/ causes jobs to time\nout. We can modify the stestr filter in a new patchset as each group\npasses.\n\nChange-Id: I4ba61d8defdfe86fbe7e40fad1bb12927d3ca598\n'}]",0,885552,a82aa044b385780e1586554e030fe56cde4d3045,11,1,5,4146,,,0,"DNM terrible unittest bisecting

This change runs a bunch of unittests over the various python versions
attempting to determine which set of tests from
https://paste.opendev.org/show/bPbFfzlyhZfXS1SPe4dJ/ causes jobs to time
out. We can modify the stestr filter in a new patchset as each group
passes.

Change-Id: I4ba61d8defdfe86fbe7e40fad1bb12927d3ca598
",git fetch https://review.opendev.org/openstack/ironic refs/changes/52/885552/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'tox.ini']",2,a7ab4779fdc0121e07bdb249a613d08d3fa1ec3f,,# We're doing a poor version of a bisect. We'll do each module that shows up # in this list https://paste.opendev.org/show/bPbFfzlyhZfXS1SPe4dJ/ one by # one until we catch a fish. stestr run --slowest ironic.tests.unit.db, stestr run --slowest {posargs},79,93
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fwallaby~I52dbef6ce59c4e624c3ea27c501776947c19940b,openstack/openstack-ansible-rabbitmq_server,stable/wallaby,I52dbef6ce59c4e624c3ea27c501776947c19940b,Fix no longer existing version,NEW,2023-05-18 10:17:08.000000000,2023-06-12 16:02:49.000000000,,"[{'_account_id': 14552}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 10:17:08.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/8acb4a8e7bcd2580dd917b839d7c0572897a9f98', 'message': 'Fix no longer existing version\n\nVersion 23.3.4.15-1 no longer existing on the cloudsmith servers,\nthe version is updated to 23.3.4.16-1\n\nChange-Id: I52dbef6ce59c4e624c3ea27c501776947c19940b\n'}]",3,883183,8acb4a8e7bcd2580dd917b839d7c0572897a9f98,5,2,1,14552,,,0,"Fix no longer existing version

Version 23.3.4.15-1 no longer existing on the cloudsmith servers,
the version is updated to 23.3.4.16-1

Change-Id: I52dbef6ce59c4e624c3ea27c501776947c19940b
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/83/883183/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,8acb4a8e7bcd2580dd917b839d7c0572897a9f98,,"_rabbitmq_erlang_version_spec: ""{{ (rabbitmq_install_method == 'external_repo') | ternary('1:23.3.4.16-1', '1:22.*') }}""","_rabbitmq_erlang_version_spec: ""{{ (rabbitmq_install_method == 'external_repo') | ternary('1:23.3.4.15-1', '1:22.*') }}""",2,2
openstack%2Fsenlin~stable%2Fvictoria~Ie3440cb649484f999fc37f4779d36033c96a45d7,openstack/senlin,stable/victoria,Ie3440cb649484f999fc37f4779d36033c96a45d7,Fix zuul CI,MERGED,2023-06-07 19:22:29.000000000,2023-06-12 15:59:46.000000000,2023-06-12 15:57:01.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-06-07 19:22:29.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin/commit/1dd9588ae8f9223565177967a319d463560b4d21', 'message': 'Fix zuul CI\n\nThis is squashed from two commits in order to get a passing CI.\nManually fixed tox.ini inconsistency.\n\nFirst commit:\n\nUpdate deprecated zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\n(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)\n\nSecond commit:\n\nFix doc failing to build properly\n\n(cherry picked from commit 83de2e97c05f9d34c059ff0d7c8680643009ebdf)\n\nChange-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7\n(cherry picked from commit b6ef17b0f787fb7a0609ba36dc13097882a6a3ff)\n(cherry picked from commit 2f4166b23ab1fe0f66c15d65d738deda4b7b0836)\n'}]",1,885541,1dd9588ae8f9223565177967a319d463560b4d21,6,3,1,13252,,,0,"Fix zuul CI

This is squashed from two commits in order to get a passing CI.
Manually fixed tox.ini inconsistency.

First commit:

Update deprecated zuul syntax

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)

Second commit:

Fix doc failing to build properly

(cherry picked from commit 83de2e97c05f9d34c059ff0d7c8680643009ebdf)

Change-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7
(cherry picked from commit b6ef17b0f787fb7a0609ba36dc13097882a6a3ff)
(cherry picked from commit 2f4166b23ab1fe0f66c15d65d738deda4b7b0836)
",git fetch https://review.opendev.org/openstack/senlin refs/changes/41/885541/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,1dd9588ae8f9223565177967a319d463560b4d21,fix-zuul-errors," find . -type f -name ""*.py[c|o]"" -delete stestr run {posargs} stestr slowest allowlist_externals = bash find rmdeps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt rm -rf doc/buildallowlist_externals = rm"," find . -type f -name ""*.py[c|o]"" -delete stestr run {posargs} stestr slowest whitelist_externals = bash find rmdeps = -r{toxinidir}/doc/requirements.txt whitelist_externals = rm",14,11
openstack%2Fsahara-tests~master~Ia545db6d85f0771ab05721124feb15559cf0e049,openstack/sahara-tests,master,Ia545db6d85f0771ab05721124feb15559cf0e049,Fix zuul config error,MERGED,2023-06-09 04:05:16.000000000,2023-06-12 15:59:33.000000000,2023-06-12 15:56:14.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-09 04:05:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/f67f18fbdef1e3f88276d1a421c75b2d80d7605a', 'message': 'Fix zuul config error\n\nChange-Id: Ia545db6d85f0771ab05721124feb15559cf0e049\n'}]",1,885673,f67f18fbdef1e3f88276d1a421c75b2d80d7605a,6,2,1,8556,,,0,"Fix zuul config error

Change-Id: Ia545db6d85f0771ab05721124feb15559cf0e049
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/73/885673/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f67f18fbdef1e3f88276d1a421c75b2d80d7605a,fix-zuul-errors, queue: sahara, queue: sahara,1,1
openstack%2Fblazar~stable%2Ftrain~I34934eefee6c0cd3b999fa028e6697d1c5e8476a,openstack/blazar,stable/train,I34934eefee6c0cd3b999fa028e6697d1c5e8476a,[CI] Move queue setting to project level,MERGED,2023-06-06 19:01:47.000000000,2023-06-12 15:56:45.000000000,2023-06-12 15:53:57.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 19:01:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/57a131014899317ab3f42aed522babba64822cdc', 'message': '[CI] Move queue setting to project level\n\nPer [1].\n\n[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I34934eefee6c0cd3b999fa028e6697d1c5e8476a\n(cherry picked from commit b6ec5600fd7f5c6d04d8b60654406def9b3a95b3)\n(cherry picked from commit 95a3d4d821dfb8c4fe48aff7c59cd879df69810c)\n'}]",1,885404,57a131014899317ab3f42aed522babba64822cdc,6,2,1,13252,,,0,"[CI] Move queue setting to project level

Per [1].

[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I34934eefee6c0cd3b999fa028e6697d1c5e8476a
(cherry picked from commit b6ec5600fd7f5c6d04d8b60654406def9b3a95b3)
(cherry picked from commit 95a3d4d821dfb8c4fe48aff7c59cd879df69810c)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/04/885404/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,57a131014899317ab3f42aed522babba64822cdc,fix-zuul-errors, queue: blazar, queue: blazar,1,1
openstack%2Fblazar~stable%2Fpike~I34934eefee6c0cd3b999fa028e6697d1c5e8476a,openstack/blazar,stable/pike,I34934eefee6c0cd3b999fa028e6697d1c5e8476a,[CI] Move queue setting to project level,MERGED,2023-06-06 19:02:18.000000000,2023-06-12 15:55:09.000000000,2023-06-12 15:55:09.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 19:02:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/55cacc36f88ec6a6c0c5a055e375c2aef050c555', 'message': '[CI] Move queue setting to project level\n\nPer [1].\n\n[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I34934eefee6c0cd3b999fa028e6697d1c5e8476a\n(cherry picked from commit b6ec5600fd7f5c6d04d8b60654406def9b3a95b3)\n(cherry picked from commit 95a3d4d821dfb8c4fe48aff7c59cd879df69810c)\n'}]",1,885406,55cacc36f88ec6a6c0c5a055e375c2aef050c555,5,2,1,13252,,,0,"[CI] Move queue setting to project level

Per [1].

[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I34934eefee6c0cd3b999fa028e6697d1c5e8476a
(cherry picked from commit b6ec5600fd7f5c6d04d8b60654406def9b3a95b3)
(cherry picked from commit 95a3d4d821dfb8c4fe48aff7c59cd879df69810c)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/06/885406/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,55cacc36f88ec6a6c0c5a055e375c2aef050c555,fix-zuul-errors, queue: blazar, queue: blazar,1,1
openstack%2Fswift~master~Id3920f911a2775513bbc1af8e5e730590771fd87,openstack/swift,master,Id3920f911a2775513bbc1af8e5e730590771fd87,some printf profiling to demonstrate the issue,ABANDONED,2023-06-02 22:52:50.000000000,2023-06-12 15:29:52.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-02 22:52:50.000000000', 'files': ['swift/container/server.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f9656cbc7bd3846bc0b292e7f084551a58a5e01a', 'message': 'some printf profiling to demonstrate the issue\n\nChange-Id: Id3920f911a2775513bbc1af8e5e730590771fd87\n'}]",3,885165,f9656cbc7bd3846bc0b292e7f084551a58a5e01a,6,2,1,1179,,,0,"some printf profiling to demonstrate the issue

Change-Id: Id3920f911a2775513bbc1af8e5e730590771fd87
",git fetch https://review.opendev.org/openstack/swift refs/changes/65/885165/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/container/server.py', 'swift/container/backend.py']",2,f9656cbc7bd3846bc0b292e7f084551a58a5e01a,slow-get-info,import time started = time.time() finally: self.logger.info('_really_merge_items took %s' % ( time.time() - started)),,13,6
openstack%2Fcloudkitty~master~I69d4ba14cc72ba55e47baa6fd372f2085e1124da,openstack/cloudkitty,master,I69d4ba14cc72ba55e47baa6fd372f2085e1124da,Allows multiple rating types for same metric for gnocchi,MERGED,2022-10-19 00:14:00.000000000,2023-06-12 14:36:24.000000000,2023-06-12 14:35:27.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-10-19 00:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/8ed5b4f70a11b2660b0555cac2f62788ffe5a729', 'message': 'Allows multiple rating types for same metric for gnocchi\n\nProblem description\n===================\n\nIt is not possible to create multiple rating types\nfor the same metric in Gnocchi, which forces operators\nto create multiple metrics for the same resource type in\nGnocchi to create different rating types in Cloudkitty for\nthe same resource type in Gnocchi.\n\nProposal\n========\n\nWe propose to extend the Gnocchi collector to allow operators\nto create multiple rating types for the same metric in Gnocchi.\nUsing this approach we can create for example a rating type\nfor software licenses in a running instance and another rating type\nfor the instance flavor, it using only one metric in Gnocchi which\nhas the instance installed softwares and flavor metadatas.\n\nChange-Id: I69d4ba14cc72ba55e47baa6fd372f2085e1124da\n'}, {'number': 2, 'created': '2022-12-07 17:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/82885a2e66ed7d973f742cf193761cf516d2324e', 'message': 'Allows multiple rating types for same metric for gnocchi\n\nProblem description\n===================\n\nIt is not possible to create multiple rating types\nfor the same metric in Gnocchi, which forces operators\nto create multiple metrics for the same resource type in\nGnocchi to create different rating types in Cloudkitty for\nthe same resource type in Gnocchi.\n\nProposal\n========\n\nWe propose to extend the Gnocchi collector to allow operators\nto create multiple rating types for the same metric in Gnocchi.\nUsing this approach we can create for example a rating type\nfor software licenses in a running instance and another rating type\nfor the instance flavor, it using only one metric in Gnocchi which\nhas the instance installed softwares and flavor metadatas.\n\nChange-Id: I69d4ba14cc72ba55e47baa6fd372f2085e1124da\n'}, {'number': 3, 'created': '2022-12-12 14:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/0bcf7544c3fee57e84de12cc07c49fb36e225f4e', 'message': 'Allows multiple rating types for same metric for gnocchi\n\nProblem description\n===================\n\nIt is not possible to create multiple rating types\nfor the same metric in Gnocchi, which forces operators\nto create multiple metrics for the same resource type in\nGnocchi to create different rating types in Cloudkitty for\nthe same resource type in Gnocchi.\n\nProposal\n========\n\nWe propose to extend the Gnocchi collector to allow operators\nto create multiple rating types for the same metric in Gnocchi.\nUsing this approach we can create, for example, a rating type\nfor software licenses in a running instance and another rating\ntype for the instance flavor; it can be implemented using only\none metric in Gnocchi which has the instance installed softwares\nand flavor metadata.\n\nChange-Id: I69d4ba14cc72ba55e47baa6fd372f2085e1124da\n'}, {'number': 4, 'created': '2023-02-06 16:28:33.000000000', 'files': ['cloudkitty/tests/collectors/test_gnocchi.py', 'releasenotes/notes/allow-multiple-ranting-types-for-same-metric-in-gnocchi-1011ba2d5d36c073.yaml', 'cloudkitty/tests/test_orchestrator.py', 'cloudkitty/orchestrator.py', 'doc/source/admin/configuration/collector.rst', 'cloudkitty/collector/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/7966437397c01db13d97fcc8cfbb87e7c97eaf31', 'message': 'Allows multiple rating types for same metric for gnocchi\n\nProblem description\n===================\n\nIt is not possible to create multiple rating types\nfor the same metric in Gnocchi, which forces operators\nto create multiple metrics for the same resource type in\nGnocchi to create different rating types in Cloudkitty for\nthe same resource type in Gnocchi.\n\nProposal\n========\n\nWe propose to extend the Gnocchi collector to allow operators\nto create multiple rating types for the same metric in Gnocchi.\nUsing this approach we can create, for example, a rating type\nfor software licenses in a running instance and another rating\ntype for the instance flavor; it can be implemented using only\none metric in Gnocchi which has the instance installed softwares\nand flavor metadata.\n\nChange-Id: I69d4ba14cc72ba55e47baa6fd372f2085e1124da\n'}]",19,861806,7966437397c01db13d97fcc8cfbb87e7c97eaf31,33,4,4,30695,,,0,"Allows multiple rating types for same metric for gnocchi

Problem description
===================

It is not possible to create multiple rating types
for the same metric in Gnocchi, which forces operators
to create multiple metrics for the same resource type in
Gnocchi to create different rating types in Cloudkitty for
the same resource type in Gnocchi.

Proposal
========

We propose to extend the Gnocchi collector to allow operators
to create multiple rating types for the same metric in Gnocchi.
Using this approach we can create, for example, a rating type
for software licenses in a running instance and another rating
type for the instance flavor; it can be implemented using only
one metric in Gnocchi which has the instance installed softwares
and flavor metadata.

Change-Id: I69d4ba14cc72ba55e47baa6fd372f2085e1124da
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/06/861806/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/tests/collectors/test_gnocchi.py', 'cloudkitty/tests/test_orchestrator.py', 'cloudkitty/orchestrator.py', 'doc/source/admin/configuration/collector.rst', 'cloudkitty/collector/gnocchi.py']",5,8ed5b4f70a11b2660b0555cac2f62788ffe5a729,upstream/multiple-rating-types,"import copyfrom voluptuous import Invalid def GnocchiMetricDict(value): if isinstance(value, dict) and len(value.keys()) > 0: return value if isinstance(value, list) and len(value) > 0: for v in value: if not (isinstance(v, dict) and len(v.keys()) > 0): raise Invalid(""Not a dict with at least one key or a "" ""list with at least one dict with at "" ""least one key. Provided value: %s"" % value) return value raise Invalid(""Not a dict with at least one key or a "" ""list with at least one dict with at "" ""least one key. Provided value: %s"" % value) GNOCCHI_CONF_SCHEMA = {Required('metrics'): GnocchiMetricDict} conf = Schema(GNOCCHI_CONF_SCHEMA)(conf) conf = copy.deepcopy(conf) scope_key = CONF.collect.scope_key for metric_name, metric in conf['metrics'].items(): if not isinstance(metric, list): metric = [metric] for m in metric: met = metric_schema(m) m.update(met) if scope_key not in m['groupby']: m['groupby'].append(scope_key) if met['extra_args']['resource_key'] not in m['groupby']: m['groupby'].append(met['extra_args']['resource_key']) names = [metric_name] alt_name = met.get('alt_name') if alt_name is not None: names.append(alt_name) new_metric_name = ""@#"".join(names) output[new_metric_name] = m 'current cycle.'.format(scope=project_id)) metric_name = metric_name.split('@#')[0]"," conf = collector.BaseCollector.check_configuration(conf) for metric_name, metric in conf.items(): met = output[metric_name] = metric_schema(metric) if met['extra_args']['resource_key'] not in met['groupby']: met['groupby'].append(met['extra_args']['resource_key']) 'current cycle.'.format(scope=project_id, err=e))",145,23
openstack%2Fkolla~stable%2Fyoga~I3723e418c061c387c7f18cd33556ebb74ba1bd95,openstack/kolla,stable/yoga,I3723e418c061c387c7f18cd33556ebb74ba1bd95,fluentd: pin td-agent to 4.4.2,MERGED,2023-05-31 10:04:45.000000000,2023-06-12 14:25:27.000000000,2023-06-12 14:24:23.000000000,"[{'_account_id': 167}, {'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-05-31 10:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a071ccc6780bb0333c6cc6677929c2f895f237e4', 'message': ""fluentd: pin fluent-plugin-elasticsearch to <5.3.0\n\n5.3.0 requires faraday>2.0, let's pin stable branches requiring\nElasticSearch support.\n\nadded: remove newer plugin actively\n\nCloses-Bug: #2019557\n\nChange-Id: I3723e418c061c387c7f18cd33556ebb74ba1bd95\nSigned-off-by: Sven Kieske <kieske@osism.tech>\n""}, {'number': 2, 'created': '2023-05-31 14:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/27c5198ea1b51d5ac150580028b717c6da642dce', 'message': 'fluentd: pin td-agent to 4.4.2\n\nCloses-Bug: #2019557\n\nChange-Id: I3723e418c061c387c7f18cd33556ebb74ba1bd95\nSigned-off-by: Sven Kieske <kieske@osism.tech>\n'}, {'number': 3, 'created': '2023-05-31 14:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e1cf6ee2f82103cfa7dae42983b4ca3512d3bb83', 'message': 'fluentd: pin td-agent to 4.4.2\n\nCloses-Bug: #2019557\n\nChange-Id: I3723e418c061c387c7f18cd33556ebb74ba1bd95\nSigned-off-by: Sven Kieske <kieske@osism.tech>\n'}, {'number': 4, 'created': '2023-06-01 12:26:35.000000000', 'files': ['docker/base/apt_preferences.ubuntu', 'docker/base/apt_preferences.debian', 'docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/59a5de343ac3adf9463d7231fa0f5ff5f1f0a433', 'message': 'fluentd: pin td-agent to 4.4.2\n\nCloses-Bug: #2019557\n\nChange-Id: I3723e418c061c387c7f18cd33556ebb74ba1bd95\nSigned-off-by: Sven Kieske <kieske@osism.tech>\n'}]",20,884856,59a5de343ac3adf9463d7231fa0f5ff5f1f0a433,36,6,4,32553,,,0,"fluentd: pin td-agent to 4.4.2

Closes-Bug: #2019557

Change-Id: I3723e418c061c387c7f18cd33556ebb74ba1bd95
Signed-off-by: Sven Kieske <kieske@osism.tech>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/56/884856/4 && git format-patch -1 --stdout FETCH_HEAD,['docker/fluentd/Dockerfile.j2'],1,a071ccc6780bb0333c6cc6677929c2f895f237e4,fix/fluentd_gems," && td-agent-gem install ""fluent-plugin-elasticsearch:5.2.5"" \ && td-agent-gem uninstall ""elastic-transport:>7.13.0"" \ && td-agent-gem uninstall ""fluent-plugin-elasticsearch:>=5.3.0"""," && td-agent-gem uninstall ""elastic-transport:>7.13.0""",3,1
openstack%2Fkolla-ansible~stable%2Fzed~I11f8b683478d07f4b19ddb671c0195d337f7cd59,openstack/kolla-ansible,stable/zed,I11f8b683478d07f4b19ddb671c0195d337f7cd59,DNM Quick test on the impact of CStream 8 on baremetal,NEW,2023-06-12 13:12:45.000000000,2023-06-12 14:22:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-12 13:12:45.000000000', 'files': ['tests/run-hashi-vault.yml', 'ansible/group_vars/all.yml', 'roles/cephadm/tasks/pkg_redhat.yml', 'tests/pre.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml', 'ansible/roles/prechecks/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0060a32f13121bde7017cf6e29ad6a223587c71b', 'message': 'DNM Quick test on the impact of CStream 8 on baremetal\n\nThis reverts commit 67607c679e20adaa42bc5271110a6b0aa992ffc8.\n\nChange-Id: I11f8b683478d07f4b19ddb671c0195d337f7cd59\n'}]",0,885875,0060a32f13121bde7017cf6e29ad6a223587c71b,3,1,1,33350,,,0,"DNM Quick test on the impact of CStream 8 on baremetal

This reverts commit 67607c679e20adaa42bc5271110a6b0aa992ffc8.

Change-Id: I11f8b683478d07f4b19ddb671c0195d337f7cd59
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/75/885875/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run-hashi-vault.yml', 'ansible/group_vars/all.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'roles/cephadm/tasks/pkg_redhat.yml', 'tests/pre.yml', 'zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml', 'ansible/roles/prechecks/vars/main.yml']",9,0060a32f13121bde7017cf6e29ad6a223587c71b,," - ""8"" RHEL: - ""8"" Rocky: - ""8"""," - ""9"" Rocky: - ""9""",159,117
openstack%2Fcloudkitty~master~Icea8d00eaf3343e59f0f7b2234754f6abcb23258,openstack/cloudkitty,master,Icea8d00eaf3343e59f0f7b2234754f6abcb23258,Add description option to a rating metric definition,NEW,2022-10-27 15:34:38.000000000,2023-06-12 14:03:59.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2022-10-27 15:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/64d47194ec7647e1759af461158291743d4c1ac7', 'message': 'Add description option to a rating metric definition\n\nThere is the need to add human-readable description to the metric\ndefinition. This can then be used to create custom reports in the\n`summary` GET API. The value has to be stored in the backend as\nwe do with the alt-name and unit of the metric as well.\n\nChange-Id: Icea8d00eaf3343e59f0f7b2234754f6abcb23258\n'}, {'number': 2, 'created': '2022-11-28 14:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/eaea0adad5ebb9fc318a28ea131ebd6811764022', 'message': 'Add description option to a rating metric definition\n\nThere is the need to add human-readable description to the metric\ndefinition. This can then be used to create custom reports in the\n`summary` GET API. The value has to be stored in the backend as\nwe do with the alt_name and unit of the metric as well.\n\nDepends-On: https://review.opendev.org/c/openstack/cloudkitty/+/861786\nChange-Id: Icea8d00eaf3343e59f0f7b2234754f6abcb23258\n'}, {'number': 3, 'created': '2022-11-30 11:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/e70684c0a6c34c48513bb8d029a9f3627cb2e9de', 'message': 'Add description option to a rating metric definition\n\nThere is the need to add human-readable description to the metric\ndefinition. This can then be used to create custom reports in the\n`summary` GET API. The value has to be stored in the backend as\nwe do with the alt_name and unit of the metric as well.\n\nDepends-On: https://review.opendev.org/c/openstack/cloudkitty/+/861786\nChange-Id: Icea8d00eaf3343e59f0f7b2234754f6abcb23258\n'}, {'number': 4, 'created': '2022-12-08 10:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/40a5dbe9b41406cc0e8aeda228d88b6c550ab1a3', 'message': 'Add description option to a rating metric definition\n\nThere is the need to add human-readable description to the metric\ndefinition. This can then be used to create custom reports in the\n`summary` GET API. The value has to be stored in the backend as\nwe do with the alt_name and unit of the metric as well.\n\nDepends-On: https://review.opendev.org/c/openstack/cloudkitty/+/861786\nChange-Id: Icea8d00eaf3343e59f0f7b2234754f6abcb23258\n'}, {'number': 5, 'created': '2022-12-12 16:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/09dd55062a56004c7c719381f75e63d2f3dcb5f0', 'message': 'Add description option to a rating metric definition\n\nThere is the need to add human-readable description to the metric\ndefinition. This can then be used to create custom reports in the\n`summary` GET API. The value has to be stored in the backend as\nwe do with the alt_name and unit of the metric as well.\n\nDepends-On: https://review.opendev.org/c/openstack/cloudkitty/+/861786\nChange-Id: Icea8d00eaf3343e59f0f7b2234754f6abcb23258\n'}, {'number': 6, 'created': '2022-12-12 16:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/2e451bac04579f39e54fdbfd8431c78491ecae4b', 'message': 'Add description option to a rating metric definition\n\nThere is the need to add human-readable description to the metric\ndefinition. This can then be used to create custom reports in the\n`summary` GET API. The value has to be stored in the backend as\nwe do with the alt_name and unit of the metric as well.\n\nDepends-On: https://review.opendev.org/c/openstack/cloudkitty/+/861786\nChange-Id: Icea8d00eaf3343e59f0f7b2234754f6abcb23258\n'}, {'number': 7, 'created': '2022-12-12 16:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/514a436b7e321b7d62b0c64e793436e1c9a2a950', 'message': 'Add description option to a rating metric definition\n\nThere is the need to add human-readable description to the metric\ndefinition. This can then be used to create custom reports in the\n`summary` GET API. The value has to be stored in the backend as\nwe do with the alt_name and unit of the metric as well.\n\nDepends-On: https://review.opendev.org/c/openstack/cloudkitty/+/861786\nChange-Id: Icea8d00eaf3343e59f0f7b2234754f6abcb23258\n'}, {'number': 8, 'created': '2022-12-12 16:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/38250e056cde609c4713cdc8b8746313da2b9915', 'message': 'Add description option to a rating metric definition\n\nThere is the need to add human-readable description to the metric\ndefinition. This can then be used to create custom reports in the\n`summary` GET API. The value has to be stored in the backend as\nwe do with the alt_name and unit of the metric as well.\n\nDepends-On: https://review.opendev.org/c/openstack/cloudkitty/+/861786\nChange-Id: Icea8d00eaf3343e59f0f7b2234754f6abcb23258\n'}, {'number': 9, 'created': '2022-12-12 18:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b72a9e8b941adc098a227397c71bdff29e01da46', 'message': 'Add description option to a rating metric definition\n\nThere is the need to add human-readable description to the metric\ndefinition. This can then be used to create custom reports in the\n`summary` GET API. The value has to be stored in the backend as\nwe do with the alt_name and unit of the metric as well.\n\nDepends-On: https://review.opendev.org/c/openstack/cloudkitty/+/861786\nChange-Id: Icea8d00eaf3343e59f0f7b2234754f6abcb23258\n'}, {'number': 10, 'created': '2023-01-09 16:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/55b1ae9661e5663c5fa7eb88f2939d519d7b2ce5', 'message': 'Add description option to a rating metric definition\n\nThere is the need to add human-readable description to the metric\ndefinition. This can then be used to create custom reports in the\n`summary` GET API. The value has to be stored in the backend as\nwe do with the alt_name and unit of the metric as well.\n\nDepends-On: https://review.opendev.org/c/openstack/cloudkitty/+/861786\nChange-Id: Icea8d00eaf3343e59f0f7b2234754f6abcb23258\n'}, {'number': 11, 'created': '2023-01-26 12:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a7534c1dc8f0cd3ce0e43559f198e5c285f47ea9', 'message': 'Add description option to a rating metric definition\n\nThere is the need to add human-readable description to the metric\ndefinition. This can then be used to create custom reports in the\n`summary` GET API. The value has to be stored in the backend as\nwe do with the alt_name and unit of the metric as well.\n\nDepends-On: https://review.opendev.org/c/openstack/cloudkitty/+/861786\nChange-Id: Icea8d00eaf3343e59f0f7b2234754f6abcb23258\n'}, {'number': 12, 'created': '2023-02-06 20:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/5f4aee4e1f4c9f31e635894444c997730d4c10a1', 'message': 'Add description option to a rating metric definition\n\nThere is the need to add human-readable description to the metric\ndefinition. This can then be used to create custom reports in the\n`summary` GET API. The value has to be stored in the backend as\nwe do with the alt_name and unit of the metric as well.\n\nDepends-On: https://review.opendev.org/c/openstack/cloudkitty/+/861786\nChange-Id: Icea8d00eaf3343e59f0f7b2234754f6abcb23258\n'}, {'number': 13, 'created': '2023-04-03 14:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/6089c9c8bc49f288f4faf0d54efd10033c031f2d', 'message': 'Add description option to a rating metric definition\n\nThere is the need to add human-readable description to the metric\ndefinition. This can then be used to create custom reports in the\n`summary` GET API. The value has to be stored in the backend as\nwe do with the alt_name and unit of the metric as well.\n\nDepends-On: https://review.opendev.org/c/openstack/cloudkitty/+/861786\nChange-Id: Icea8d00eaf3343e59f0f7b2234754f6abcb23258\n'}, {'number': 14, 'created': '2023-04-17 14:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/3732fb4436f9cb52cd692427dd1e996b2299abe1', 'message': 'Add description option to a rating metric definition\n\nThere is the need to add human-readable description to the metric\ndefinition. This can then be used to create custom reports in the\n`summary` GET API. The value has to be stored in the backend as\nwe do with the alt_name and unit of the metric as well.\n\nDepends-On: https://review.opendev.org/c/openstack/cloudkitty/+/861786\nChange-Id: Icea8d00eaf3343e59f0f7b2234754f6abcb23258\n'}, {'number': 15, 'created': '2023-04-17 14:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/558940841866df5a61f9ec30b2abcaa1744ee009', 'message': 'Add description option to a rating metric definition\n\nThere is the need to add human-readable description to the metric\ndefinition. This can then be used to create custom reports in the\n`summary` GET API. The value has to be stored in the backend as\nwe do with the alt_name and unit of the metric as well.\n\nDepends-On: https://review.opendev.org/c/openstack/cloudkitty/+/861786\nChange-Id: Icea8d00eaf3343e59f0f7b2234754f6abcb23258\n'}, {'number': 16, 'created': '2023-06-12 13:59:28.000000000', 'files': ['cloudkitty/storage/v2/elasticsearch/client.py', 'cloudkitty/storage/v2/influx.py', 'cloudkitty/tests/storage/v2/elasticsearch/test_client.py', 'cloudkitty/collector/__init__.py', 'doc/source/admin/configuration/collector.rst', 'releasenotes/notes/add-description-option-to-rating-671430ac73c0315b.yaml', 'cloudkitty/collector/prometheus.py', 'cloudkitty/dataframe.py', 'cloudkitty/collector/gnocchi.py', 'cloudkitty/collector/monasca.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b7ae3fbc527fe76c4e1422c7bc5b253e3371d792', 'message': 'Add description option to a rating metric definition\n\nThere is the need to add human-readable description to the metric\ndefinition. This can then be used to create custom reports in the\n`summary` GET API. The value has to be stored in the backend as\nwe do with the alt_name and unit of the metric as well.\n\nDepends-On: https://review.opendev.org/c/openstack/cloudkitty/+/861786\nChange-Id: Icea8d00eaf3343e59f0f7b2234754f6abcb23258\n'}]",36,862824,b7ae3fbc527fe76c4e1422c7bc5b253e3371d792,52,3,16,28356,,,0,"Add description option to a rating metric definition

There is the need to add human-readable description to the metric
definition. This can then be used to create custom reports in the
`summary` GET API. The value has to be stored in the backend as
we do with the alt_name and unit of the metric as well.

Depends-On: https://review.opendev.org/c/openstack/cloudkitty/+/861786
Change-Id: Icea8d00eaf3343e59f0f7b2234754f6abcb23258
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/24/862824/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/storage/v2/elasticsearch/client.py', 'cloudkitty/storage/v2/influx.py', 'cloudkitty/tests/storage/v2/elasticsearch/test_client.py', 'cloudkitty/collector/__init__.py', 'cloudkitty/collector/gnocchi.py', 'cloudkitty/collector/prometheus.py', 'cloudkitty/dataframe.py', 'cloudkitty/collector/monasca.py']",8,64d47194ec7647e1759af461158291743d4c1ac7,add-description-to-metrics-upstream," point = self._create_data_point(met, qty, 0, groupby, metadata, start)"," point = self._create_data_point( met['unit'], qty, 0, groupby, metadata, start)",19,10
openstack%2Fkolla-ansible~master~I8bee27882c15e39a3d2946787d56bc90db994887,openstack/kolla-ansible,master,I8bee27882c15e39a3d2946787d56bc90db994887,Fix Venus containers start issue,MERGED,2023-06-07 18:05:08.000000000,2023-06-12 14:01:24.000000000,2023-06-12 14:00:18.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-06-07 18:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fb21be4f07c2eadcc11fdd3575a1360a7b058c80', 'message': '[DNM] fix venus start\n\nChange-Id: I8bee27882c15e39a3d2946787d56bc90db994887\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2023-06-07 18:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/69b563aa03e1630d309fed6c3bc2150ca19434ec', 'message': 'Fix Venus containers start issue\n\nThe venus containers failed to start with an error (venus_api container):\n/usr/local/bin/kolla_start: line 24: exec: venus-api: not found\nbecause of [1] and also changes the encoding of the files form dos to unix.\n\n1. https://opendev.org/openstack/venus/src/branch/master/setup.cfg#L29-L30\n\nChange-Id: I8bee27882c15e39a3d2946787d56bc90db994887\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2023-06-07 18:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2befc9d5e93d24235fa8024edd5d000573eecdc9', 'message': 'Fix Venus containers start issue\n\nThe venus containers failed to start with an error\n(venus_api container):\n/usr/local/bin/kolla_start: line 24: exec: venus-api: not found\nbecause of [1] and also changes the encoding of the files form\ndos to unix.\n\n1. https://opendev.org/openstack/venus/src/branch/master/setup.cfg#L29-L30\n\nChange-Id: I8bee27882c15e39a3d2946787d56bc90db994887\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 4, 'created': '2023-06-07 18:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6bb2becec42c1e513a19e306e34056e80f97a741', 'message': 'Fix Venus containers start issue\n\nThe venus containers failed to start with an error\n(venus_api container):\n/usr/local/bin/kolla_start: line 24: exec: venus-api: not found\nbecause of [1] and also changes the encoding of the files form\ndos to unix introduced in [2].\n\n1. https://opendev.org/openstack/venus/src/branch/master/setup.cfg#L29-L30\n2. 3ccb176f13e26f1bc295f406ae9fa301c41690a6\n\nChange-Id: I8bee27882c15e39a3d2946787d56bc90db994887\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 5, 'created': '2023-06-07 18:56:40.000000000', 'files': ['ansible/roles/venus/templates/venus-manager.json.j2', 'ansible/roles/venus/templates/venus.conf.j2', 'ansible/roles/venus/templates/venus-api.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8c8dad01877c795bec01dbb65de9532fc1f31a5a', 'message': 'Fix Venus containers start issue\n\nThe venus containers failed to start with an error\n(venus_api container):\n/usr/local/bin/kolla_start: line 24: exec: venus-api: not found\nbecause of [1] and also changes the encoding of the files form\ndos to unix introduced in [2].\n\n1. https://opendev.org/openstack/venus/src/branch/master/setup.cfg#L29-L30\n2. If3562bbed6181002b76831bab54f863041c5a885\n\nChange-Id: I8bee27882c15e39a3d2946787d56bc90db994887\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",8,885537,8c8dad01877c795bec01dbb65de9532fc1f31a5a,20,4,5,14200,,,0,"Fix Venus containers start issue

The venus containers failed to start with an error
(venus_api container):
/usr/local/bin/kolla_start: line 24: exec: venus-api: not found
because of [1] and also changes the encoding of the files form
dos to unix introduced in [2].

1. https://opendev.org/openstack/venus/src/branch/master/setup.cfg#L29-L30
2. If3562bbed6181002b76831bab54f863041c5a885

Change-Id: I8bee27882c15e39a3d2946787d56bc90db994887
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/885537/5 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/venus/templates/venus-manager.json.j2', 'ansible/roles/venus/templates/venus-api.json.j2']",2,fb21be4f07c2eadcc11fdd3575a1360a7b058c80,fix-venus,"{ ""command"": ""venus_api --config-file /etc/venus/venus.conf"", ""config_files"": [ { ""source"": ""{{ container_config_directory }}/venus.conf"", ""dest"": ""/etc/venus/venus.conf"", ""owner"": ""venus"", ""perm"": ""0644"" } ], ""permissions"": [ { ""path"":""/var/log/kolla/venus/venus-api.log"", ""owner"": ""venus:venus"", ""recurse"": true } ] } ","{ ""command"": ""venus-api --config-file /etc/venus/venus.conf"", ""config_files"": [ { ""source"": ""{{ container_config_directory }}/venus.conf"", ""dest"": ""/etc/venus/venus.conf"", ""owner"": ""venus"", ""perm"": ""0644"" } ], ""permissions"": [ { ""path"":""/var/log/kolla/venus/venus-api.log"", ""owner"": ""venus:venus"", ""recurse"": true } ] } ",38,38
openstack%2Freleases~master~I643ecc29633d4b0265b18584f69faf53c3b18bb1,openstack/releases,master,I643ecc29633d4b0265b18584f69faf53c3b18bb1,[octavia-tempest-plugin] Tag xena-last,MERGED,2023-06-09 06:32:39.000000000,2023-06-12 13:43:08.000000000,2023-06-12 13:43:08.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29244}]","[{'number': 1, 'created': '2023-06-09 06:32:39.000000000', 'files': ['deliverables/xena/octavia-tempest-plugin.yaml', 'deliverables/bobcat/octavia-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/67296d752c21fc8460add224c365d2392db7d251', 'message': ""[octavia-tempest-plugin] Tag xena-last\n\nXena branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'xena-last' as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/wallaby/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I643ecc29633d4b0265b18584f69faf53c3b18bb1\n""}]",1,885712,67296d752c21fc8460add224c365d2392db7d251,9,6,1,8556,,,0,"[octavia-tempest-plugin] Tag xena-last

Xena branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'xena-last' as well as a new version also with same hash.

[1] https://releases.openstack.org/wallaby/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: I643ecc29633d4b0265b18584f69faf53c3b18bb1
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/885712/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/octavia-tempest-plugin.yaml', 'deliverables/bobcat/octavia-tempest-plugin.yaml']",2,67296d752c21fc8460add224c365d2392db7d251,xena-last,releases: - version: 2.4.0 projects: - repo: openstack/octavia-tempest-plugin hash: b9af9163cb7a5277e4c72dc1becb563148f7fa1b,,9,0
openstack%2Freleases~master~Ie07968ef6e8999e992d2573080daece750bc6e95,openstack/releases,master,Ie07968ef6e8999e992d2573080daece750bc6e95,[blazar-tempest-plugin] Tag xena-last,MERGED,2023-06-09 06:04:22.000000000,2023-06-12 13:43:06.000000000,2023-06-12 13:43:06.000000000,"[{'_account_id': 15197}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-09 06:04:22.000000000', 'files': ['deliverables/xena/blazar-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/71915c1ed4ff6ac00d137928181a50e71863cfb3', 'message': ""[blazar-tempest-plugin] Tag xena-last\n\nXena branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'xena-last' with the latest hash which is nothing but 0.10.1\ntag.\n\n[1] https://review.opendev.org/c/openstack/releases/+/881254\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Ie07968ef6e8999e992d2573080daece750bc6e95\n""}]",1,885697,71915c1ed4ff6ac00d137928181a50e71863cfb3,9,4,1,8556,,,0,"[blazar-tempest-plugin] Tag xena-last

Xena branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'xena-last' with the latest hash which is nothing but 0.10.1
tag.

[1] https://review.opendev.org/c/openstack/releases/+/881254
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: Ie07968ef6e8999e992d2573080daece750bc6e95
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/885697/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/blazar-tempest-plugin.yaml'],1,71915c1ed4ff6ac00d137928181a50e71863cfb3,xena-last, - version: xena-last projects: - repo: openstack/blazar-tempest-plugin hash: 190a7c165e8bcf738e87e5d32035c6caa123f76b,,4,0
openstack%2Freleases~master~Ic0adf06fd4115f19f00652f2785905ccb828fad5,openstack/releases,master,Ic0adf06fd4115f19f00652f2785905ccb828fad5,[monasca-tempest-plugin] Tag xena-last,MERGED,2023-06-09 06:07:56.000000000,2023-06-12 13:43:04.000000000,2023-06-12 13:43:04.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 35988}]","[{'number': 1, 'created': '2023-06-09 06:07:56.000000000', 'files': ['deliverables/xena/monasca-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/97345e6bb70613d0ba727e3fb30d6257384802f1', 'message': ""[monasca-tempest-plugin] Tag xena-last\n\nXena branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'xena-last' with the latest hash which is nothing but 2.6.0\ntag.\n\n[1] https://review.opendev.org/c/openstack/releases/+/881254\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Ic0adf06fd4115f19f00652f2785905ccb828fad5\n""}]",1,885700,97345e6bb70613d0ba727e3fb30d6257384802f1,9,4,1,8556,,,0,"[monasca-tempest-plugin] Tag xena-last

Xena branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'xena-last' with the latest hash which is nothing but 2.6.0
tag.

[1] https://review.opendev.org/c/openstack/releases/+/881254
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: Ic0adf06fd4115f19f00652f2785905ccb828fad5
",git fetch https://review.opendev.org/openstack/releases refs/changes/00/885700/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/monasca-tempest-plugin.yaml'],1,97345e6bb70613d0ba727e3fb30d6257384802f1,xena-last, - version: xena-last projects: - repo: openstack/monasca-tempest-plugin hash: 4163264c551318e96ce11cc0cadb5c78de5f8bf8,,4,0
openstack%2Freleases~master~I9fde108d3cb7ac7d4655458ec29eddae485b962d,openstack/releases,master,I9fde108d3cb7ac7d4655458ec29eddae485b962d,[trove-tempest-plugin] Tag xena-last,MERGED,2023-06-09 06:30:23.000000000,2023-06-12 13:41:33.000000000,2023-06-12 13:41:33.000000000,"[{'_account_id': 6732}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-09 06:30:23.000000000', 'files': ['deliverables/xena/trove-tempest-plugin.yaml', 'deliverables/bobcat/trove-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/be2e101910daed87d053121109916f1236648028', 'message': ""[trove-tempest-plugin] Tag xena-last\n\nXena branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'xena-last' as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/wallaby/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I9fde108d3cb7ac7d4655458ec29eddae485b962d\n""}]",1,885711,be2e101910daed87d053121109916f1236648028,9,5,1,8556,,,0,"[trove-tempest-plugin] Tag xena-last

Xena branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'xena-last' as well as a new version also with same hash.

[1] https://releases.openstack.org/wallaby/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: I9fde108d3cb7ac7d4655458ec29eddae485b962d
",git fetch https://review.opendev.org/openstack/releases refs/changes/11/885711/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/trove-tempest-plugin.yaml', 'deliverables/bobcat/trove-tempest-plugin.yaml']",2,be2e101910daed87d053121109916f1236648028,xena-last,releases: - version: 2.1.0 projects: - repo: openstack/trove-tempest-plugin hash: 1300140f76834f7e8373e799cbeb9e58ffd98b4c,,9,0
openstack%2Freleases~master~I0820ca8f89f2f213e58f73978a2c6ebcb6e36450,openstack/releases,master,I0820ca8f89f2f213e58f73978a2c6ebcb6e36450,[ec2api-tempest-plugin] Tag xena-last,MERGED,2023-06-09 05:57:34.000000000,2023-06-12 13:41:31.000000000,2023-06-12 13:41:31.000000000,"[{'_account_id': 10234}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-09 05:57:34.000000000', 'files': ['deliverables/xena/ec2api-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5cc86e8b88c10da3fcb187a90e7917496c178336', 'message': ""[ec2api-tempest-plugin] Tag xena-last\n\nXena branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'xena-last' with the latest hash which is nothing but 1.6.1\ntag.\n\n[1] https://review.opendev.org/c/openstack/releases/+/881254\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I0820ca8f89f2f213e58f73978a2c6ebcb6e36450\n""}]",2,885694,5cc86e8b88c10da3fcb187a90e7917496c178336,10,4,1,8556,,,0,"[ec2api-tempest-plugin] Tag xena-last

Xena branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'xena-last' with the latest hash which is nothing but 1.6.1
tag.

[1] https://review.opendev.org/c/openstack/releases/+/881254
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: I0820ca8f89f2f213e58f73978a2c6ebcb6e36450
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/885694/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/ec2api-tempest-plugin.yaml'],1,5cc86e8b88c10da3fcb187a90e7917496c178336,xena-last, - version: xena-last projects: - repo: openstack/ec2api-tempest-plugin hash: 3b82f3eba835424e4a9363ef435f1b75501fbe2d,,4,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ic5f81a2ac3176059280dfbb327e243638b613abc,openstack/tripleo-ansible,stable/train,Ic5f81a2ac3176059280dfbb327e243638b613abc,Update the repo to install tripleo-repos,MERGED,2023-06-09 11:23:12.000000000,2023-06-12 13:39:59.000000000,2023-06-12 13:39:59.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-09 11:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7cb149b858783b0f71ad7aaf41d30601f8a094fa', 'message': 'Update the repo to install tripleo-repos\n\nTrain was using delorean.repo from master, which no longer have\ntripleo components and started to fail with missing package. This patch\nfix it using the proper release for wallaby, instead of rely on master\nrepositories (which was wrong anyway).\n\nCloses-Bug: #2023379\n\nChange-Id: Ic5f81a2ac3176059280dfbb327e243638b613abc\n'}, {'number': 2, 'created': '2023-06-09 11:23:37.000000000', 'files': ['tripleo_ansible/roles/test_deps/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cc5950e37ac0199505c0490e3484b610e8c7cda7', 'message': 'Update the repo to install tripleo-repos\n\nTrain was using delorean.repo from master, which no longer have\ntripleo components and started to fail with missing package. This patch\nfix it using the proper release for wallaby, instead of rely on master\nrepositories (which was wrong anyway).\n\nCloses-Bug: #2023379\n\nChange-Id: Ic5f81a2ac3176059280dfbb327e243638b613abc\n'}]",1,885485,cc5950e37ac0199505c0490e3484b610e8c7cda7,11,3,2,8367,,,0,"Update the repo to install tripleo-repos

Train was using delorean.repo from master, which no longer have
tripleo components and started to fail with missing package. This patch
fix it using the proper release for wallaby, instead of rely on master
repositories (which was wrong anyway).

Closes-Bug: #2023379

Change-Id: Ic5f81a2ac3176059280dfbb327e243638b613abc
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/85/885485/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/test_deps/tasks/main.yml'],1,7cb149b858783b0f71ad7aaf41d30601f8a094fa,fix-repos-stable/train, url: https://trunk.rdoproject.org/centos{{ ansible_facts['distribution_major_version'] }}-wallaby/current/delorean.repo, url: https://trunk.rdoproject.org/centos{{ ansible_facts['distribution_major_version'] }}/current/delorean.repo,1,1
openstack%2Freleases~master~I90e2f0bfeff36942af14a22c11cc708373fa5076,openstack/releases,master,I90e2f0bfeff36942af14a22c11cc708373fa5076,[designate-tempest-plugin] Tag xena-last,MERGED,2023-06-09 06:36:39.000000000,2023-06-12 13:38:13.000000000,2023-06-12 13:38:13.000000000,"[{'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-09 06:36:39.000000000', 'files': ['deliverables/bobcat/designate-tempest-plugin.yaml', 'deliverables/xena/designate-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/22858ea2215bbca6bfedff28e9522aa79cd03c85', 'message': ""[designate-tempest-plugin] Tag xena-last\n\nXena branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'xena-last' as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/wallaby/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I90e2f0bfeff36942af14a22c11cc708373fa5076\n""}]",2,885714,22858ea2215bbca6bfedff28e9522aa79cd03c85,9,4,1,8556,,,0,"[designate-tempest-plugin] Tag xena-last

Xena branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'xena-last' as well as a new version also with same hash.

[1] https://releases.openstack.org/wallaby/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: I90e2f0bfeff36942af14a22c11cc708373fa5076
",git fetch https://review.opendev.org/openstack/releases refs/changes/14/885714/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/bobcat/designate-tempest-plugin.yaml', 'deliverables/xena/designate-tempest-plugin.yaml']",2,22858ea2215bbca6bfedff28e9522aa79cd03c85,xena-last, - version: xena-last projects: - repo: openstack/designate-tempest-plugin hash: 25c93a50ec2ce08677129071b123ce056fef9fe5,,8,0
openstack%2Freleases~master~If84ad98238a3ab5358f5858e18d6af7985a913c4,openstack/releases,master,If84ad98238a3ab5358f5858e18d6af7985a913c4,[zun-tempest-plugin] Tag xena-last,MERGED,2023-06-09 06:02:35.000000000,2023-06-12 13:38:11.000000000,2023-06-12 13:38:11.000000000,"[{'_account_id': 11536}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-09 06:02:35.000000000', 'files': ['deliverables/xena/zun-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/43babe09fbe21751b795a836f9454a71e98d5911', 'message': ""[zun-tempest-plugin] Tag xena-last\n\nXena branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'xena-last' with the latest hash which is nothing but 4.7.1\ntag.\n\n[1] https://review.opendev.org/c/openstack/releases/+/881254\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: If84ad98238a3ab5358f5858e18d6af7985a913c4\n""}]",2,885696,43babe09fbe21751b795a836f9454a71e98d5911,9,4,1,8556,,,0,"[zun-tempest-plugin] Tag xena-last

Xena branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'xena-last' with the latest hash which is nothing but 4.7.1
tag.

[1] https://review.opendev.org/c/openstack/releases/+/881254
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: If84ad98238a3ab5358f5858e18d6af7985a913c4
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/885696/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/zun-tempest-plugin.yaml'],1,43babe09fbe21751b795a836f9454a71e98d5911,xena-last, - version: xena-last projects: - repo: openstack/zun-tempest-plugin hash: 29250bda508c95d0e24f383ca159016385326536,,4,0
openstack%2Freleases~master~I42946e7a9ce2cbd466ce59702de70eb5c9019a02,openstack/releases,master,I42946e7a9ce2cbd466ce59702de70eb5c9019a02,[neutron] New Yoga releases for Neutron projects,MERGED,2023-06-01 10:45:55.000000000,2023-06-12 13:34:28.000000000,2023-06-12 13:34:28.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-01 10:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8d41a5a555d9dd76347e254b930c1dcc187606c7', 'message': '[neutron] New Yoga releases for Neutron projects\n\nNeutron 20.4.0: 0a590e57dac3640b5bfa3e6310045752b4d3783d\nneutron-lib 2.20.2: 5398bbdec6cbb3a3ec27732ab06c1e19508977be\novn-octavia-provider 2.1.1: ce730cbd91048897f5abf7e1bce35424b5b24de3\n\nChange-Id: I42946e7a9ce2cbd466ce59702de70eb5c9019a02\n'}, {'number': 2, 'created': '2023-06-01 12:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f04cc659e90c7a51795a3703095c01e08f42da59', 'message': '[neutron] New Yoga releases for Neutron projects\n\nNeutron 20.4.0: 0a590e57dac3640b5bfa3e6310045752b4d3783d\nneutron-lib 2.20.2: 5398bbdec6cbb3a3ec27732ab06c1e19508977be\novn-octavia-provider 2.1.1: ce730cbd91048897f5abf7e1bce35424b5b24de3\n\nChange-Id: I42946e7a9ce2cbd466ce59702de70eb5c9019a02\n'}, {'number': 3, 'created': '2023-06-07 07:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e43840e9510d92cedba91aeb61cf597c5558c3a6', 'message': '[neutron] New Yoga releases for Neutron projects\n\nNeutron 20.4.0: 5c4f9023cfe13c1e3e07e28cde35366bdb2ce0e0\nneutron-lib 2.20.2: 467eafd20a229e24459ad225b458ff4e04e46fd8\novn-octavia-provider 2.1.1: 02d4506408f381d641005dafd5c8e0aaa47823a4\n\nChange-Id: I42946e7a9ce2cbd466ce59702de70eb5c9019a02\n'}, {'number': 4, 'created': '2023-06-09 16:17:10.000000000', 'files': ['deliverables/yoga/neutron.yaml', 'deliverables/yoga/neutron-lib.yaml', 'deliverables/yoga/ovn-octavia-provider.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/527c74e1ef26e9bb08d3e8ab280318876b47ddb5', 'message': '[neutron] New Yoga releases for Neutron projects\n\nNeutron 20.3.1: 5c4f9023cfe13c1e3e07e28cde35366bdb2ce0e0\nneutron-lib 2.20.2: 467eafd20a229e24459ad225b458ff4e04e46fd8\novn-octavia-provider 2.1.1: 02d4506408f381d641005dafd5c8e0aaa47823a4\n\nChange-Id: I42946e7a9ce2cbd466ce59702de70eb5c9019a02\n'}]",12,885030,527c74e1ef26e9bb08d3e8ab280318876b47ddb5,37,11,4,16688,,,0,"[neutron] New Yoga releases for Neutron projects

Neutron 20.3.1: 5c4f9023cfe13c1e3e07e28cde35366bdb2ce0e0
neutron-lib 2.20.2: 467eafd20a229e24459ad225b458ff4e04e46fd8
ovn-octavia-provider 2.1.1: 02d4506408f381d641005dafd5c8e0aaa47823a4

Change-Id: I42946e7a9ce2cbd466ce59702de70eb5c9019a02
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/885030/4 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/yoga/neutron.yaml', 'deliverables/zed/ovn-octavia-provider.yaml', 'deliverables/yoga/neutron-lib.yaml', 'deliverables/yoga/ovn-octavia-provider.yaml']",4,8d41a5a555d9dd76347e254b930c1dcc187606c7,neutron_new_yoga_releases, - version: 2.1.1 projects: - repo: openstack/ovn-octavia-provider hash: ce730cbd91048897f5abf7e1bce35424b5b24de3,,16,0
openstack%2Fcloudkitty~master~I55f1f2e0f792943fed74240fa6eb474f14f6aec2,openstack/cloudkitty,master,I55f1f2e0f792943fed74240fa6eb474f14f6aec2,Create concepts definition page for CloudKitty,MERGED,2023-04-27 19:21:06.000000000,2023-06-12 13:33:04.000000000,2023-06-12 13:31:08.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}, {'_account_id': 30695}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-04-27 19:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/2a1e1656a8c5b95c4dd80be3884bc90482750ecf', 'message': 'Create concepts definition page for CloudKitty\n\nChange-Id: I55f1f2e0f792943fed74240fa6eb474f14f6aec2\n'}, {'number': 2, 'created': '2023-04-27 20:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a9904d820b0d3ce745a140bc133eda8b15573913', 'message': 'Create concepts definition page for CloudKitty\n\nChange-Id: I55f1f2e0f792943fed74240fa6eb474f14f6aec2\n'}, {'number': 3, 'created': '2023-04-27 22:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/7185b92f7ed3252859e444b23c330e8458c60ffa', 'message': 'Create concepts definition page for CloudKitty\n\nChange-Id: I55f1f2e0f792943fed74240fa6eb474f14f6aec2\n'}, {'number': 4, 'created': '2023-05-03 16:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/44f75e51db3f460aee35cfc31a8b495413d3cc67', 'message': 'Create concepts definition page for CloudKitty\n\nChange-Id: I55f1f2e0f792943fed74240fa6eb474f14f6aec2\n'}, {'number': 5, 'created': '2023-05-03 16:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/6e651ba50583495350cee976cf0197f0afb7cebb', 'message': 'Create concepts definition page for CloudKitty\n\nChange-Id: I55f1f2e0f792943fed74240fa6eb474f14f6aec2\n'}, {'number': 6, 'created': '2023-05-15 18:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/f1c6e1ab280ba553b7805507041cc7f47ae7b0bc', 'message': 'Create concepts definition page for CloudKitty\n\nChange-Id: I55f1f2e0f792943fed74240fa6eb474f14f6aec2\n'}, {'number': 7, 'created': '2023-05-29 14:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/501d2fe3de8924fa9491bc8b6d1b10a5e4a45b6a', 'message': 'Create concepts definition page for CloudKitty\n\nChange-Id: I55f1f2e0f792943fed74240fa6eb474f14f6aec2\n'}, {'number': 8, 'created': '2023-05-29 14:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/da8457e8bbfbd9ac2aab2d7b8936e75e30ab0479', 'message': 'Create concepts definition page for CloudKitty\n\nChange-Id: I55f1f2e0f792943fed74240fa6eb474f14f6aec2\n'}, {'number': 9, 'created': '2023-05-29 14:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/19071f4c2c998e5c8014453e56a3deda25067d91', 'message': 'Create concepts definition page for CloudKitty\n\nChange-Id: I55f1f2e0f792943fed74240fa6eb474f14f6aec2\n'}, {'number': 10, 'created': '2023-05-29 14:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/e681184f13d73da510c46871ec65542315a01c8c', 'message': 'Create concepts definition page for CloudKitty\n\nChange-Id: I55f1f2e0f792943fed74240fa6eb474f14f6aec2\n'}, {'number': 11, 'created': '2023-05-29 15:23:30.000000000', 'files': ['doc/source/index.rst', 'doc/source/common-index.rst', 'doc/source/concepts/index.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/8c1ad7d0c6dce95cdfd3348021f0e70f74445bfc', 'message': 'Create concepts definition page for CloudKitty\n\nChange-Id: I55f1f2e0f792943fed74240fa6eb474f14f6aec2\n'}]",60,881757,8c1ad7d0c6dce95cdfd3348021f0e70f74445bfc,42,6,11,28356,,,0,"Create concepts definition page for CloudKitty

Change-Id: I55f1f2e0f792943fed74240fa6eb474f14f6aec2
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/57/881757/11 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/common-index.rst', 'doc/source/_static/cloudkitty.conf.sample', 'doc/source/concepts/index.rst']",4,2a1e1656a8c5b95c4dd80be3884bc90482750ecf,add-cloudkitty-concepts,"Concepts Documentation ====================== This page provides the definitions for the concepts used in CloudKitty. It is recommended that you get familiar with them. Rating ------ It is the process of assigning a monetary value to the consumption of a computing resources. CloudKitty uses the concepts of services, which are rated. Therefore, one can configured services to be collected/monitored, and then through its processes, we can assign monetary values to the service consumption. Modules ------- Define the rating processes that are enabled. To get to know more about the rating modules, one should check `rating modules`_ . .. _rating modules: ../user/rating/index.html Services -------- Define the metrics that are collected in a storage backend, and that are then rated by CloudKitty. Services need to be defined via API to be processed later by the rating modules, and configured in the collectors to be captured. Services are configured to be collected in the ``metrics.yml`` file. More information about service creation can be found at `service configuration page`_ .. _service configuration page: ../admin/configuration/configuration.html Groups ------ Define sets of services that should be charged together. Therefore, once a group rating rule is configure, the charge of the group is going to be applied together with the service charge. Fields ------ Define the attributes that are retrieved together with the service collection that can be used to activate a rating rule. PyScripts --------- It is an alternative method to write rating rule. When writing PyScripts, one will be able to handle the complete processing of the rating. Therefore, no need to create services, fields, and groups in cloudKitty. The PyScript logic should take care of all that. Rating rules ------------ Are the expressions used to create a charge (assign a monetary value to a computing resource consumption). Rating rules can be created with PyScripts or with the use of fields, services and groups with hashmap rating rules. Rating type ----------- Is the expression used to determine a service definition in the collection backend. For instance, one can use the following syntax in the ``metrics.yml`` file. The entry ``dynamic_pollster.compute.services.instance.status`` is the definition for rating types. In the example e show here, there are two rating types being defined, one called ``instance-usage-hours`` and the other called ``instance-operating-system-license``. The rating types are configured in CloudKitty API as services. If they are not configured, they will not be rated by rating rules defined with hashmap. Therefore, they would be collected, and persisted with value (price) as zero. .. code-block:: yaml metrics: dynamic_pollster.compute.services.instance.status: - unit: instance alt_name: instance-usage-hours description: ""compute"" groupby: - id - display_name - flavor_id - flavor_name - user_id - project_id - revision_start - availability_zone metadata: - image_ref - flavor_vcpus - flavor_ram - operating_system_name - operating_system_distro - operating_system_type - operating_system_version - mssql_version extra_args: aggregation_method: max resource_type: instance use_all_resource_revisions: false - unit: license-hours alt_name: ""instance-operating-system-license"" description: ""license"" groupby: - id - display_name - flavor_id - flavor_name - user_id - project_id - revision_start - availability_zone - operating_system_distro - operating_system_name metadata: - image_ref - flavor_vcpus - flavor_ram - operating_system_type - operating_system_version extra_args: aggregation_method: max resource_type: instance use_all_resource_revisions: false ",,186,9
openstack%2Fcloudkitty-tempest-plugin~master~Ic55417d33e0ab4f5ede51b92f9d91e5befc60107,openstack/cloudkitty-tempest-plugin,master,Ic55417d33e0ab4f5ede51b92f9d91e5befc60107,Add stable/2023.1 jobs on master gate,MERGED,2023-06-09 04:11:24.000000000,2023-06-12 13:31:06.000000000,2023-06-12 13:31:06.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2023-06-09 04:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/1e809a4a25f2b2c1f9fbf52fa1228e585eb8068b', 'message': 'Add stable/zed jobs on master gate\n\nAs zed is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nAlso, remove stable/wallaby jobs given that wallaby went\nto Extended Maintenance on 2022-11-07T10:52:23+00:00\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ic55417d33e0ab4f5ede51b92f9d91e5befc60107\n'}, {'number': 2, 'created': '2023-06-09 05:05:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/a93eff4b2e74a3aed9b7114db9480630baeb0268', 'message': 'Add stable/2023.1 jobs on master gate\n\nAs 2023.1 is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ic55417d33e0ab4f5ede51b92f9d91e5befc60107\n'}]",0,885679,a93eff4b2e74a3aed9b7114db9480630baeb0268,9,3,2,8556,,,0,"Add stable/2023.1 jobs on master gate

As 2023.1 is released, we should add its job on master
gate to keep branchless tempest plugins compatible
to stable branch.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Ic55417d33e0ab4f5ede51b92f9d91e5befc60107
",git fetch https://review.opendev.org/openstack/cloudkitty-tempest-plugin refs/changes/79/885679/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1e809a4a25f2b2c1f9fbf52fa1228e585eb8068b,2023-1-stable-job, - cloudkitty-tempest-full-v2-storage-influxdb-2023-1 name: cloudkitty-tempest-full-v2-storage-influxdb-2023-1 parent: cloudkitty-tempest-full-v2-storage-influxdb nodeset: openstack-single-node-jammy override-checkout: stable/2023.1 - job:,,7,0
openstack%2Ftap-as-a-service~master~I44d2009ca661ff88d7b4a2ed89528aefc3a1f2eb,openstack/tap-as-a-service,master,I44d2009ca661ff88d7b4a2ed89528aefc3a1f2eb,Remove the old CLI code from taas,MERGED,2023-05-16 09:25:03.000000000,2023-06-12 12:47:03.000000000,2023-06-12 12:47:03.000000000,"[{'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34437}, {'_account_id': 34579}]","[{'number': 1, 'created': '2023-05-16 09:25:03.000000000', 'files': ['neutron_taas/tests/unit/taas_client/test_cli20_tapservice.py', 'neutron_taas/tests/unit/taas_client/test_cli20_tapflow.py', 'neutron_taas/taas_client/tapservice.py', 'neutron_taas/taas_client/tapflow.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/bdc5f4b951323e69c64f1bdb8c56ead4fecc346a', 'message': 'Remove the old CLI code from taas\n\nWith [1] all the CLI code was removed from python-neutronclient,\nThis causes test discovery failure for tap-as-a-servic, and\nthe old neutron tap-service-create type commads can be removed from\nthe tap-as-a-service repository.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/871711\n\nChange-Id: I44d2009ca661ff88d7b4a2ed89528aefc3a1f2eb\nRelated-Bug: #2003861\n'}]",3,883240,bdc5f4b951323e69c64f1bdb8c56ead4fecc346a,11,6,1,8313,,,0,"Remove the old CLI code from taas

With [1] all the CLI code was removed from python-neutronclient,
This causes test discovery failure for tap-as-a-servic, and
the old neutron tap-service-create type commads can be removed from
the tap-as-a-service repository.

[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/871711

Change-Id: I44d2009ca661ff88d7b4a2ed89528aefc3a1f2eb
Related-Bug: #2003861
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/40/883240/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_taas/tests/unit/taas_client/test_cli20_tapservice.py', 'neutron_taas/tests/unit/taas_client/test_cli20_tapflow.py', 'neutron_taas/taas_client/tapservice.py', 'neutron_taas/taas_client/tapflow.py', 'setup.cfg']",5,bdc5f4b951323e69c64f1bdb8c56ead4fecc346a,bug/2003861,,neutronclient.extension = tap_service = neutron_taas.taas_client.tapservice tap_flow = neutron_taas.taas_client.tapflow,0,463
openstack%2Fcloudkitty~master~I88b0a30f66af13dad1bd75cde412d2880b4ead30,openstack/cloudkitty,master,I88b0a30f66af13dad1bd75cde412d2880b4ead30,Add OpenSearch as a v2 storage backend,NEW,2023-04-18 12:44:12.000000000,2023-06-12 12:40:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2023-04-18 12:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/037cacd73c6bf8d9103b2aa0ee2ceefb75078644', 'message': 'Add OpenSearch as a v2 storage backend\n\nTo facilitate the switch from EleasticSearch to OpenSearch, the ES\nbackend has been duplicated and renamed where appropriate to OpenSearch.\n\nThis will allow for the future removal of the ElasticSearch backend.\n\nChange-Id: I88b0a30f66af13dad1bd75cde412d2880b4ead30\n'}, {'number': 2, 'created': '2023-04-18 12:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/17566468b3bb8e7e5af9ecb16f7348f1ccbbabc1', 'message': 'Add OpenSearch as a v2 storage backend\n\nTo facilitate the switch from Elasticsearch to OpenSearch, the ES\nbackend has been duplicated and renamed where appropriate to OpenSearch.\n\nThis will allow for the future removal of the Elasticsearch backend.\n\nChange-Id: I88b0a30f66af13dad1bd75cde412d2880b4ead30\n'}, {'number': 3, 'created': '2023-04-21 13:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b703bf11e7f33af475717a1ead2307a4a59fb389', 'message': 'Add OpenSearch as a v2 storage backend\n\nTo facilitate the switch from Elasticsearch to OpenSearch, the ES\nbackend has been duplicated and renamed where appropriate to OpenSearch.\n\nThis will allow for the future removal of the Elasticsearch backend.\n\nChange-Id: I88b0a30f66af13dad1bd75cde412d2880b4ead30\n'}, {'number': 4, 'created': '2023-04-21 14:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/1178738a92e2aefbcf05bb80732b013d9a7af818', 'message': 'Add OpenSearch as a v2 storage backend\n\nTo facilitate the switch from Elasticsearch to OpenSearch, the ES\nbackend has been duplicated and renamed where appropriate to OpenSearch.\n\nThis will allow for the future removal of the Elasticsearch backend.\n\nChange-Id: I88b0a30f66af13dad1bd75cde412d2880b4ead30\n'}, {'number': 5, 'created': '2023-04-21 14:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/cb14219740ea590db887e07f4d86c9ed454c491d', 'message': 'Add OpenSearch as a v2 storage backend\n\nTo facilitate the switch from Elasticsearch to OpenSearch, the ES\nbackend has been duplicated and renamed where appropriate to OpenSearch.\n\nThis will allow for the future removal of the Elasticsearch backend.\n\nChange-Id: I88b0a30f66af13dad1bd75cde412d2880b4ead30\n'}, {'number': 6, 'created': '2023-04-21 15:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/7af2e07a24c6ffe30e81af5b86b4fa09ac9ca7cb', 'message': 'Add OpenSearch as a v2 storage backend\n\nTo facilitate the switch from Elasticsearch to OpenSearch, the ES\nbackend has been duplicated and renamed where appropriate to OpenSearch.\n\nThis will allow for the future removal of the Elasticsearch backend.\n\nChange-Id: I88b0a30f66af13dad1bd75cde412d2880b4ead30\n'}, {'number': 7, 'created': '2023-05-17 15:42:04.000000000', 'files': ['.zuul.yaml', 'devstack/plugin.sh', 'cloudkitty/common/config.py', 'cloudkitty/tests/storage/v2/test_storage_unit.py', 'cloudkitty/storage/v2/opensearch/__init__.py', 'releasenotes/notes/add-opensearch-as-v2-storage-backend-ff4080d6d32d8a2a.yaml', 'cloudkitty/tests/storage/v2/opensearch/test_client.py', 'devstack/settings', 'cloudkitty/storage/v2/opensearch/client.py', 'cloudkitty/storage/v2/opensearch/exceptions.py', 'cloudkitty/tests/storage/v2/opensearch_utils.py', 'doc/source/_static/cloudkitty.conf.sample', 'cloudkitty/tests/storage/v2/opensearch/__init__.py', 'doc/source/admin/configuration/storage.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/8974726051caf422835ba083abfeb1aec67c0b88', 'message': 'Add OpenSearch as a v2 storage backend\n\nTo facilitate the switch from Elasticsearch to OpenSearch, the ES\nbackend has been duplicated and renamed where appropriate to OpenSearch.\n\nThis will allow for the future removal of the Elasticsearch backend.\n\nChange-Id: I88b0a30f66af13dad1bd75cde412d2880b4ead30\n'}]",10,880739,8974726051caf422835ba083abfeb1aec67c0b88,21,2,7,35263,,,0,"Add OpenSearch as a v2 storage backend

To facilitate the switch from Elasticsearch to OpenSearch, the ES
backend has been duplicated and renamed where appropriate to OpenSearch.

This will allow for the future removal of the Elasticsearch backend.

Change-Id: I88b0a30f66af13dad1bd75cde412d2880b4ead30
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/39/880739/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'devstack/plugin.sh', 'cloudkitty/common/config.py', 'cloudkitty/tests/storage/v2/test_storage_unit.py', 'cloudkitty/storage/v2/opensearch/__init__.py', 'releasenotes/notes/add-opensearch-as-v2-storage-backend-ff4080d6d32d8a2a.yaml', 'cloudkitty/tests/storage/v2/opensearch/test_client.py', 'devstack/settings', 'cloudkitty/storage/v2/opensearch/client.py', 'cloudkitty/storage/v2/opensearch/exceptions.py', 'doc/source/_static/cloudkitty.conf.sample', 'cloudkitty/tests/storage/v2/opensearch/__init__.py', 'doc/source/admin/configuration/storage.rst', 'cloudkitty/tests/storage/v2/os_utils.py', 'setup.cfg']",15,037cacd73c6bf8d9103b2aa0ee2ceefb75078644,opensearch2, opensearch = cloudkitty.storage.v2.opensearch:OpensearchStorage,,1327,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I6d4e47a7ad7d38fc5401d578e10eeefc5846f92d,openstack/tripleo-heat-templates,stable/train,I6d4e47a7ad7d38fc5401d578e10eeefc5846f92d,Fix CeilometerAgentIpmi service to gather and report power metrics,MERGED,2023-06-08 05:14:50.000000000,2023-06-12 12:38:16.000000000,2023-06-12 12:37:15.000000000,"[{'_account_id': 9816}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 05:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52b57794dd37b79f61dc7dff7c89210b2002609e', 'message': 'Fix CeilometerAgentIpmi service to gather and report power metrics\n\n* As of now, upon adding ""environments/metrics/ceilometer-write-qdr.yaml""\n  to the deploy command, ""CeilometerAgentIpmi"" service does not start.\n\n  If enabled, this service is supposed to run on individual compute\n  nodes to gather IPMI sensor data using polling meters like:\n    - hardware.ipmi.fan\n    - hardware.ipmi.temperature\n    - hardware.ipmi.current\n    - hardware.ipmi.voltage\n\n  This change updates every Compute role file where\n  ""CeilometerAgentIpmi"" service was found missing.\n\n* Add ""--logfile"" parameter to the ceilometer-polling command to\n  log the process output to ""ipmi.log"" file.\n\n* Ipmi agent must run inside a privileged container which is\n  required to execute ipmitool commands on the host and gather\n  power metrics. Without privileges oslo.privsep.daemon reports\n  ""OSError: [Errno 1] Operation not permitted""\n\nResolves: rhbz#2169303\nChange-Id: I6d4e47a7ad7d38fc5401d578e10eeefc5846f92d\n(cherry picked from commit 0a2fadf8fd891462a5a6e89a7c6c9d8415ae378c)\n'}, {'number': 2, 'created': '2023-06-08 05:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eaa2405b47b17c8880394c03eb6a65abec69cb40', 'message': 'Fix CeilometerAgentIpmi service to gather and report power metrics\n\n* As of now, upon adding ""environments/metrics/ceilometer-write-qdr.yaml""\n  to the deploy command, ""CeilometerAgentIpmi"" service does not start.\n\n  If enabled, this service is supposed to run on individual compute\n  nodes to gather IPMI sensor data using polling meters like:\n    - hardware.ipmi.fan\n    - hardware.ipmi.temperature\n    - hardware.ipmi.current\n    - hardware.ipmi.voltage\n\n  This change updates every Compute role file where\n  ""CeilometerAgentIpmi"" service was found missing.\n\n* Add ""--logfile"" parameter to the ceilometer-polling command to\n  log the process output to ""ipmi.log"" file.\n\n* Ipmi agent must run inside a privileged container which is\n  required to execute ipmitool commands on the host and gather\n  power metrics. Without privileges oslo.privsep.daemon reports\n  ""OSError: [Errno 1] Operation not permitted""\n\nResolves: rhbz#2169303\nChange-Id: I6d4e47a7ad7d38fc5401d578e10eeefc5846f92d\n(cherry picked from commit 0a2fadf8fd891462a5a6e89a7c6c9d8415ae378c)\n'}, {'number': 3, 'created': '2023-06-08 05:26:47.000000000', 'files': ['roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeAlt.yaml', 'roles/DistributedComputeScaleOut.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/HciCephMon.yaml', 'ci/environments/scenario001-standalone.yaml', 'roles/ComputeDVR.yaml', 'environments/standalone/standalone-tripleo.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles/README.rst', 'environments/hyperconverged-ceph.yaml', 'roles/ComputeSriovIB.yaml', 'sample-env-generator/standalone.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/Standalone.yaml', 'roles/HciCephFile.yaml', 'ci/environments/scenario002-standalone.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/DistributedComputeHCIDashboard.yaml', 'releasenotes/notes/fix-ceilometer-ipmi-agent-b7613623f7f463f5.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/ComputeRBDEphemeral.yaml', 'environments/standalone/standalone-overcloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/434303936747561a3e2c9e4ddf13946b3f73343a', 'message': 'Fix CeilometerAgentIpmi service to gather and report power metrics\n\n* As of now, upon adding ""environments/metrics/ceilometer-write-qdr.yaml""\n  to the deploy command, ""CeilometerAgentIpmi"" service does not start.\n\n  If enabled, this service is supposed to run on individual compute\n  nodes to gather IPMI sensor data using polling meters like:\n    - hardware.ipmi.fan\n    - hardware.ipmi.temperature\n    - hardware.ipmi.current\n    - hardware.ipmi.voltage\n\n  This change updates every Compute role file where\n  ""CeilometerAgentIpmi"" service was found missing.\n\n* Add ""--logfile"" parameter to the ceilometer-polling command to\n  log the process output to ""ipmi.log"" file.\n\n* Ipmi agent must run inside a privileged container which is\n  required to execute ipmitool commands on the host and gather\n  power metrics. Without privileges oslo.privsep.daemon reports\n  ""OSError: [Errno 1] Operation not permitted""\n\nResolves: rhbz#2213409\nChange-Id: I6d4e47a7ad7d38fc5401d578e10eeefc5846f92d\n(cherry picked from commit 0a2fadf8fd891462a5a6e89a7c6c9d8415ae378c)\n'}]",1,885564,434303936747561a3e2c9e4ddf13946b3f73343a,12,3,3,32240,,,0,"Fix CeilometerAgentIpmi service to gather and report power metrics

* As of now, upon adding ""environments/metrics/ceilometer-write-qdr.yaml""
  to the deploy command, ""CeilometerAgentIpmi"" service does not start.

  If enabled, this service is supposed to run on individual compute
  nodes to gather IPMI sensor data using polling meters like:
    - hardware.ipmi.fan
    - hardware.ipmi.temperature
    - hardware.ipmi.current
    - hardware.ipmi.voltage

  This change updates every Compute role file where
  ""CeilometerAgentIpmi"" service was found missing.

* Add ""--logfile"" parameter to the ceilometer-polling command to
  log the process output to ""ipmi.log"" file.

* Ipmi agent must run inside a privileged container which is
  required to execute ipmitool commands on the host and gather
  power metrics. Without privileges oslo.privsep.daemon reports
  ""OSError: [Errno 1] Operation not permitted""

Resolves: rhbz#2213409
Change-Id: I6d4e47a7ad7d38fc5401d578e10eeefc5846f92d
(cherry picked from commit 0a2fadf8fd891462a5a6e89a7c6c9d8415ae378c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/885564/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeAlt.yaml', 'roles/DistributedComputeScaleOut.yaml', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/HciCephMon.yaml', 'ci/environments/scenario001-standalone.yaml', 'roles/ComputeDVR.yaml', 'environments/standalone/standalone-tripleo.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles/README.rst', 'environments/hyperconverged-ceph.yaml', 'roles/ComputeSriovIB.yaml', 'sample-env-generator/standalone.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/Standalone.yaml', 'roles/HciCephFile.yaml', 'ci/environments/scenario002-standalone.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/DistributedComputeHCIDashboard.yaml', 'releasenotes/notes/fix-ceilometer-ipmi-agent-b7613623f7f463f5.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Compute.yaml', 'roles/ComputeHCI.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ComputeHCISriov.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/ComputeRBDEphemeral.yaml', 'environments/standalone/standalone-overcloud.yaml']",39,52b57794dd37b79f61dc7dff7c89210b2002609e,, OS::TripleO::Services::CeilometerAgentIpmi: OS::Heat::None,,122,2
openstack%2Fbifrost~stable%2F2023.1~I3c8658d0cd3e0ec9c2b82f9ca5dfe7415af79cde,openstack/bifrost,stable/2023.1,I3c8658d0cd3e0ec9c2b82f9ca5dfe7415af79cde,Fix ansible-lint,MERGED,2023-05-16 03:41:31.000000000,2023-06-12 11:49:56.000000000,2023-06-12 11:48:59.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-05-16 03:41:31.000000000', 'files': ['tools/ansible-lint.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ad4a2cefe05f4787f67c084a1519a46422b3eddd', 'message': 'Fix ansible-lint\n\nChange-Id: I3c8658d0cd3e0ec9c2b82f9ca5dfe7415af79cde\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 45a92ea49c5ff6e7883fa766cdc0b99c50259828)\n'}]",0,883119,ad4a2cefe05f4787f67c084a1519a46422b3eddd,9,5,1,15197,,,0,"Fix ansible-lint

Change-Id: I3c8658d0cd3e0ec9c2b82f9ca5dfe7415af79cde
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 45a92ea49c5ff6e7883fa766cdc0b99c50259828)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/19/883119/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ansible-lint.sh'],1,ad4a2cefe05f4787f67c084a1519a46422b3eddd,,"export ANSIBLE_ROLES_PATH=""$(dirname $0)/../playbooks/roles""",,1,0
openstack%2Ftripleo-upgrade~stable%2Fwallaby~Icacd09d291c6705bf34f3c976609200f56f5c266,openstack/tripleo-upgrade,stable/wallaby,Icacd09d291c6705bf34f3c976609200f56f5c266,"Revert ""Modify workload creation script to include multirhel usecase""",MERGED,2023-06-11 10:25:00.000000000,2023-06-12 11:36:31.000000000,2023-06-12 11:36:31.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 29307}]","[{'number': 1, 'created': '2023-06-11 10:25:00.000000000', 'files': ['tasks/main.yml', 'tasks/update/create-overcloud-update-scripts.yaml', 'templates/workload_launch.sh.j2', 'tasks/common/create_workload.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a33ea1e25d74279a1ae664342e66fdf5e9dffa8d', 'message': 'Revert ""Modify workload creation script to include multirhel usecase""\n\nWe can\'t hardcode single compte as for update and upgrade\nwe iterate through all of them. We need to count with\nscenarios when inventory is not yet available for example\nin the 16->17 case.\n\nThis reverts commit 5d1eeff5673542119a3ca225d1d33146401a3f32.\n\nChange-Id: Icacd09d291c6705bf34f3c976609200f56f5c266\n'}]",2,885828,a33ea1e25d74279a1ae664342e66fdf5e9dffa8d,12,4,1,11166,,,0,"Revert ""Modify workload creation script to include multirhel usecase""

We can't hardcode single compte as for update and upgrade
we iterate through all of them. We need to count with
scenarios when inventory is not yet available for example
in the 16->17 case.

This reverts commit 5d1eeff5673542119a3ca225d1d33146401a3f32.

Change-Id: Icacd09d291c6705bf34f3c976609200f56f5c266
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/28/885828/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/update/create-overcloud-update-scripts.yaml', 'templates/workload_launch.sh.j2', 'tasks/common/create_workload.yml']",4,a33ea1e25d74279a1ae664342e66fdf5e9dffa8d,,,- name: generate roles list from inventory file import_tasks: ../common/load_roles_from_inventory.yaml ,0,12
openstack%2Fansible-role-collect-logs~master~Iacf544dfffa0e68c369e19c96cce67d04cc22c68,openstack/ansible-role-collect-logs,master,Iacf544dfffa0e68c369e19c96cce67d04cc22c68,Fixes for ansible-lint in tox linter job,NEW,2023-05-26 12:06:50.000000000,2023-06-12 11:27:39.000000000,,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2023-05-26 12:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/33266fbb9053ef6707e784abe7639d3397d8aecb', 'message': 'Fixes for ansible-lint in tox linter job\n\nThis patch updated ansible-lint version on pre-commit configuration\nfile and updates tox.ini to install ansible and collections needed for\nansible-lint validation.\n\nChange-Id: Iacf544dfffa0e68c369e19c96cce67d04cc22c68\nRelated-Bug: #2019875\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2023-05-31 12:08:19.000000000', 'files': ['infrared_plugin/main.yml', 'tox.ini', '.ansible-lint', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/d7d89d2fc1eadf42fdcbc7dff51c425e66610f3c', 'message': 'Fixes for ansible-lint in tox linter job\n\nThis patch updated ansible-lint version on pre-commit configuration\nfile and updates tox.ini to install ansible and collections needed for\nansible-lint validation.\n\nChange-Id: Iacf544dfffa0e68c369e19c96cce67d04cc22c68\nRelated-Bug: #2019875\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,884486,d7d89d2fc1eadf42fdcbc7dff51c425e66610f3c,5,4,2,6926,,,0,"Fixes for ansible-lint in tox linter job

This patch updated ansible-lint version on pre-commit configuration
file and updates tox.ini to install ansible and collections needed for
ansible-lint validation.

Change-Id: Iacf544dfffa0e68c369e19c96cce67d04cc22c68
Related-Bug: #2019875
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/86/884486/2 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', '.ansible-lint', '.pre-commit-config.yaml']",3,33266fbb9053ef6707e784abe7639d3397d8aecb,, rev: v6.16.0, rev: v5.3.2,7,1
openstack%2Fcharm-neutron-k8s~main~If837d173a1663aab304ae7f4ee0a5904f17d597a,openstack/charm-neutron-k8s,main,If837d173a1663aab304ae7f4ee0a5904f17d597a,Drop priviledges for server process,MERGED,2023-04-24 09:48:40.000000000,2023-06-12 11:07:06.000000000,2023-06-12 10:50:22.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 09:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/5f9a432a89ff672a6daaaf121c4ecebe0997773b', 'message': 'Drop priviledges for server process\n\nUse neutron:neutron to run the neutron-server process.\n\nChange-Id: If837d173a1663aab304ae7f4ee0a5904f17d597a\n'}, {'number': 2, 'created': '2023-04-24 11:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/d51012df1c3503332e667c3e2dd7046cb9363f2b', 'message': 'Drop priviledges for server process\n\nUse neutron:neutron to run the neutron-server process.\n\nUpdate file permissions to allow neutron user to read.\n\nChange-Id: If837d173a1663aab304ae7f4ee0a5904f17d597a\n'}, {'number': 3, 'created': '2023-04-24 11:28:03.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/af7aceb46bb473dde8342ad17bf04ee27e32c8e3', 'message': 'Drop priviledges for server process\n\nUse neutron:neutron to run the neutron-server process.\n\nUpdate file permissions to allow neutron user to read.\n\nChange-Id: If837d173a1663aab304ae7f4ee0a5904f17d597a\n'}]",0,881344,af7aceb46bb473dde8342ad17bf04ee27e32c8e3,10,2,3,935,,,0,"Drop priviledges for server process

Use neutron:neutron to run the neutron-server process.

Update file permissions to allow neutron user to read.

Change-Id: If837d173a1663aab304ae7f4ee0a5904f17d597a
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/44/881344/2 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,5f9a432a89ff672a6daaaf121c4ecebe0997773b,unpriviledged-user," ""user"": ""neutron"", ""group"": ""neutron"",",,2,0
openstack%2Fcharm-keystone~master~I49e46e010c543f831959581b2122f59068f2c07b,openstack/charm-keystone,master,I49e46e010c543f831959581b2122f59068f2c07b,Make role-cache-expiration configurable,MERGED,2023-06-07 13:16:05.000000000,2023-06-12 10:53:35.000000000,2023-06-12 10:53:35.000000000,"[{'_account_id': 2424}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 13:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/958b89d9360a833f2bb56961eea163d13cc5dca2', 'message': 'Add role-cache-expiration config with default to 60s\n\nUsing the default dogpile-expiration-time of 600s might not\nbe suitable for some clouds and not everyone will want to\nmodify the global value either so adding this and setting to\na more appropriate value for role caching.\n\nChange-Id: I49e46e010c543f831959581b2122f59068f2c07b\nCloses-Bug: #1771114\n'}, {'number': 2, 'created': '2023-06-09 08:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/4e1518d4fa17ccb0ca4479ad4ff4cf1cea0cb5ad', 'message': 'Add role-cache-expiration config with default to 10s\n\nWe use a default expiration_time (dogpile-expiration-time)\nof 600s which means that role assignments will take up to\nthis amount of time before all caches are updated to\nreflect changes. This may not be suitable for some clouds\nthat make frequent changes to role assignments and lowering\nthe global value is not recommended so this overrides the\n[role] cache_time to a more appropriate value and also\nmakes it configurable.\n\nChange-Id: I49e46e010c543f831959581b2122f59068f2c07b\nCloses-Bug: #1771114\n'}, {'number': 3, 'created': '2023-06-09 15:31:13.000000000', 'files': ['templates/queens/keystone.conf', 'config.yaml', 'hooks/keystone_context.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/0cb787bb9d2e8a5c87821646f2387ae1f2dcd8a0', 'message': 'Make role-cache-expiration configurable\n\nWe use a default expiration_time (dogpile-expiration-time)\nof 600s which means that role assignments will take up to\nthis amount of time before all caches are updated to\nreflect changes. This may not be suitable for some clouds\nthat make frequent changes to role assignments and lowering\nthe global value is not recommended so this overrides the\n[role] cache_time to a more appropriate value and also\nmakes it configurable. We leave default value as None so\nthat the global value is still inherited but this at least\nallows it to be customised.\n\nChange-Id: I49e46e010c543f831959581b2122f59068f2c07b\nCloses-Bug: #1771114\n'}]",6,885465,0cb787bb9d2e8a5c87821646f2387ae1f2dcd8a0,16,4,3,6737,,,0,"Make role-cache-expiration configurable

We use a default expiration_time (dogpile-expiration-time)
of 600s which means that role assignments will take up to
this amount of time before all caches are updated to
reflect changes. This may not be suitable for some clouds
that make frequent changes to role assignments and lowering
the global value is not recommended so this overrides the
[role] cache_time to a more appropriate value and also
makes it configurable. We leave default value as None so
that the global value is still inherited but this at least
allows it to be customised.

Change-Id: I49e46e010c543f831959581b2122f59068f2c07b
Closes-Bug: #1771114
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/65/885465/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/queens/keystone.conf', 'config.yaml', 'hooks/keystone_context.py']",3,958b89d9360a833f2bb56961eea163d13cc5dca2,bug/1771114, ctxt['role_cache_expiration'] = config('role-cache-expiration'),,8,0
openstack%2Fbarbican~master~Id755a9efd896b900d31eca93c0136398ed1925b8,openstack/barbican,master,Id755a9efd896b900d31eca93c0136398ed1925b8,Update secret:delete policy to allow admin to delete secret,NEW,2023-05-24 11:31:12.000000000,2023-06-12 10:39:48.000000000,,"[{'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 35125}]","[{'number': 1, 'created': '2023-05-24 11:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/4e9993ab25cb5c196d8d9d48f9d84a17105f5605', 'message': ""Update secret:delete policy to allow admin to delete secret\n\nCurrently a secret can be orphan, if the project that owns it\nis deleted by an user that doesn`t have permission on the\nproject.[1]\nThe orphan secret cannot be deleted because the current rule\nenforces a scoped token on that project to delete it (that\ndoesn't exist anymore).\nTo solve this issue, it's needed to override the policy\nsecret:delete rule to allow the cloud admin to delete it.\nThis patch is making this update by default.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1932705\n\nCo-author: Mauricio Harley <mharley@redhat.com>\nChange-Id: Id755a9efd896b900d31eca93c0136398ed1925b8\n""}, {'number': 2, 'created': '2023-05-24 16:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/efe00a7524243c58a04d3f27fc0e3f614f2bca46', 'message': ""Update secret:delete policy to allow admin to delete secret\n\nCurrently a secret can be orphan, if the project that owns it\nis deleted by an user that doesn`t have permission on the\nproject.[1]\n\nThe orphan secret cannot be deleted because the current rule\nenforces a scoped token on that project to delete it (that\ndoesn't exist anymore).\n\nTo solve this issue, it's needed to override the policy\nsecret:delete rule to allow the cloud admin to delete it.\nThis patch is making this update by default. The secret:get\npolicy also needed to be changed because the Python Barbican\nclient gets the secret to check if it has consumers before\nactually deleting it.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1932705\n\nCo-author: Mauricio Harley <mharley@redhat.com>\nChange-Id: Id755a9efd896b900d31eca93c0136398ed1925b8\n""}, {'number': 3, 'created': '2023-05-30 15:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b6e24dab121560bdc30ebb057618eefd80c5f63b', 'message': ""Update secret:delete policy to allow admin to delete secret\n\nCurrently a secret can be orphan, if the project that owns it\nis deleted by an user that doesn`t have permission on the\nproject.[1]\n\nThe orphan secret cannot be deleted because the current rule\nenforces a scoped token on that project to delete it (that\ndoesn't exist anymore).\n\nTo solve this issue, it's needed to override the policy\nsecret:delete rule to allow the cloud admin to delete it.\nThis patch is making this update by default. The secret:get\npolicy also needed to be changed because the Python Barbican\nclient gets the secret to check if it has consumers before\nactually deleting it.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1932705\n\nCo-author: Mauricio Harley <mharley@redhat.com>\nChange-Id: Id755a9efd896b900d31eca93c0136398ed1925b8\n""}, {'number': 4, 'created': '2023-05-31 10:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/6bbc51d90373cc9fb0278e4edac1ddf141936a83', 'message': ""Update secret:delete policy to allow admin to delete secret\n\nCurrently a secret can be orphan, if the project that owns it\nis deleted by an user that doesn`t have permission on the\nproject.[1]\nThe orphan secret cannot be deleted because the current rule\nenforces a scoped token on that project to delete it (that\ndoesn't exist anymore).\nTo solve this issue, it's necessary to override the secret:delete\npolicy rule to allow the cloud admin to delete it.\nThe secret:get policy rule also needed to be changed because the\nPython Barbican client gets the secret to check if it has\nconsumers before actually deleting it. This patch is making these\nupdates by default\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1932705\n\nCo-author: Mauricio Harley <mharley@redhat.com>\nChange-Id: Id755a9efd896b900d31eca93c0136398ed1925b8\n""}, {'number': 5, 'created': '2023-05-31 14:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/33282332c0d867539f12445607a07dcbf196bec2', 'message': ""Update secret:delete policy to allow admin to delete secret\n\nCurrently a secret can be orphan, if the project that owns it\nis deleted by an user that doesn`t have permission on the\nproject.[1]\nThe orphan secret cannot be deleted because the current rule\nenforces a scoped token on that project to delete it (that\ndoesn't exist anymore).\nTo solve this issue, it's necessary to override the secret:delete\npolicy rule to allow the cloud admin to delete it.\nThe secret:get policy rule also needed to be changed because the\nPython Barbican client gets the secret to check if it has\nconsumers before actually deleting it. This patch is making these\nupdates by default\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1932705\n\nCo-author: Mauricio Harley <mharley@redhat.com>\nChange-Id: Id755a9efd896b900d31eca93c0136398ed1925b8\n""}, {'number': 6, 'created': '2023-06-06 12:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/3a3f3c83e8edede6882ec53023b1192f7a050e27', 'message': ""Update secret:delete policy to allow admin to delete secret\n\nCurrently a secret can be orphan, if the project that owns it\nis deleted by an user that doesn`t have permission on the\nproject.[1]\nThe orphan secret cannot be deleted because the current rule\nenforces a scoped token on that project to delete it (that\ndoesn't exist anymore).\nTo solve this issue, it's necessary to override the secret:delete\npolicy rule to allow the cloud admin to delete it.\nThe secret:get policy rule also needed to be changed because the\nPython Barbican client gets the secret to check if it has\nconsumers before actually deleting it. This patch is making these\nupdates by default\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1932705\n\nCo-author: Mauricio Harley <mharley@redhat.com>\nChange-Id: Id755a9efd896b900d31eca93c0136398ed1925b8\n""}, {'number': 7, 'created': '2023-06-07 11:21:33.000000000', 'files': ['barbican/common/policies/secrets.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/57d7ff378a497af361c7597f2958f6cd4c0ce25b', 'message': ""Update secret:delete policy to allow admin to delete secret\n\nCurrently a secret can be orphan, if the project that owns it\nis deleted by an user that doesn`t have permission on the\nproject.[1]\nThe orphan secret cannot be deleted because the current rule\nenforces a scoped token on that project to delete it (that\ndoesn't exist anymore).\nTo solve this issue, it's necessary to override the secret:delete\npolicy rule to allow the cloud admin to delete it.\nThe secret:get policy rule also needed to be changed because the\nPython Barbican client gets the secret to check if it has\nconsumers before actually deleting it. This patch is making these\nupdates by default\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1932705\n\nCo-author: Mauricio Harley <mharley@redhat.com>\nChange-Id: Id755a9efd896b900d31eca93c0136398ed1925b8\n""}]",11,884181,57d7ff378a497af361c7597f2958f6cd4c0ce25b,28,5,7,34120,,,0,"Update secret:delete policy to allow admin to delete secret

Currently a secret can be orphan, if the project that owns it
is deleted by an user that doesn`t have permission on the
project.[1]
The orphan secret cannot be deleted because the current rule
enforces a scoped token on that project to delete it (that
doesn't exist anymore).
To solve this issue, it's necessary to override the secret:delete
policy rule to allow the cloud admin to delete it.
The secret:get policy rule also needed to be changed because the
Python Barbican client gets the secret to check if it has
consumers before actually deleting it. This patch is making these
updates by default

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1932705

Co-author: Mauricio Harley <mharley@redhat.com>
Change-Id: Id755a9efd896b900d31eca93c0136398ed1925b8
",git fetch https://review.opendev.org/openstack/barbican refs/changes/81/884181/4 && git format-patch -1 --stdout FETCH_HEAD,['barbican/common/policies/secrets.py'],1,4e9993ab25cb5c196d8d9d48f9d84a17105f5605,884181," ""(role:admin or """," ""(rule:secret_project_admin or """,1,1
openstack%2Fcinder~stable%2Fwallaby~I7d73a9c2e65918ce6cf1adf59e75d0e7d57e616e,openstack/cinder,stable/wallaby,I7d73a9c2e65918ce6cf1adf59e75d0e7d57e616e,Fixed cinder-tempest-plugin-lvm-lio-barbican job,ABANDONED,2023-06-08 22:49:31.000000000,2023-06-12 10:11:17.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 22:49:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a2b030d154374c6b2b779688c7756fdd1245eaf9', 'message': 'Fixed cinder-tempest-plugin-lvm-lio-barbican job\n\nUse 1.8.0 tag for cinder-tempest-plugin\n\nCloses-bug: #2023341\nChange-Id: I7d73a9c2e65918ce6cf1adf59e75d0e7d57e616e\nSigned-off-by: Alexander Deiter <adeiter@infinidat.com>\n'}]",1,885448,a2b030d154374c6b2b779688c7756fdd1245eaf9,9,2,1,35075,,,0,"Fixed cinder-tempest-plugin-lvm-lio-barbican job

Use 1.8.0 tag for cinder-tempest-plugin

Closes-bug: #2023341
Change-Id: I7d73a9c2e65918ce6cf1adf59e75d0e7d57e616e
Signed-off-by: Alexander Deiter <adeiter@infinidat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/885448/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a2b030d154374c6b2b779688c7756fdd1245eaf9,bug/2023341, required-projects: - name: opendev.org/openstack/cinder-tempest-plugin override-checkout: 1.8.0,,3,0
openstack%2Fcharm-ceph-dashboard~master~I3e2461b7d2dcbf8a24c19a514c0bfa8360f838e8,openstack/charm-ceph-dashboard,master,I3e2461b7d2dcbf8a24c19a514c0bfa8360f838e8,Adds defer logic to non leader units if dashboard is not enabled.,ABANDONED,2023-05-25 11:46:54.000000000,2023-06-12 09:39:38.000000000,,"[{'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 11:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/a70466a88f3da832edad833f3a7e0be65991e182', 'message': '[WIP]: Testing\n\nChange-Id: I3e2461b7d2dcbf8a24c19a514c0bfa8360f838e8\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 2, 'created': '2023-05-26 10:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/e420846c757502d4831a939ede9281cd2872b26e', 'message': 'Adds defer logic to non leader units when dashboard is not enabled.\n\nChange-Id: I3e2461b7d2dcbf8a24c19a514c0bfa8360f838e8\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 3, 'created': '2023-05-29 07:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/9ae035ad96ddead28a76d7b5c507d74cd1b6b7e1', 'message': 'Adds defer logic to non leader units if dashboard is not enabled.\n\nPartial-Bug: #1952282\nChange-Id: I3e2461b7d2dcbf8a24c19a514c0bfa8360f838e8\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 4, 'created': '2023-05-30 12:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/fed6a83e8ee45b966fe409c66cdd41a38b9cf828', 'message': 'Adds defer logic to non leader units if dashboard is not enabled.\n\nPartial-Bug: #1952282\nChange-Id: I3e2461b7d2dcbf8a24c19a514c0bfa8360f838e8\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 5, 'created': '2023-05-30 12:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/a92f6ef68ba635157d7bec30d0ae60bbc2fcc5b0', 'message': 'Adds defer logic to non leader units if dashboard is not enabled.\n\nThe change also removes host-specific ssl-cert(-key) path configuration\nsince paths are same for all hosts.\n\nPartial-Bug: #1952282\nChange-Id: I3e2461b7d2dcbf8a24c19a514c0bfa8360f838e8\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 6, 'created': '2023-05-31 11:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/b8f8fe9ea57788a7261bf61e6f74562e54176560', 'message': 'Adds defer logic to non leader units if dashboard is not enabled.\n\nThe change also removes host-specific ssl-cert(-key) path configuration\nsince paths are same for all hosts.\n\nPartial-Bug: #1952282\nChange-Id: I3e2461b7d2dcbf8a24c19a514c0bfa8360f838e8\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 7, 'created': '2023-05-31 12:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/6981c1f9cb72e77029656c08aa85a67e20d180e4', 'message': 'Adds defer logic to non leader units if dashboard is not enabled.\n\nThe change also removes host-specific ssl-cert(-key) path configuration\nsince paths are same for all hosts.\n\nPartial-Bug: #1952282\nChange-Id: I3e2461b7d2dcbf8a24c19a514c0bfa8360f838e8\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 8, 'created': '2023-05-31 13:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/c80b37c71c07972f9ac6f8492f6adb59eb8791ca', 'message': 'Adds defer logic to non leader units if dashboard is not enabled.\n\nThe change also removes host-specific ssl-cert(-key) path configuration\nsince paths are same for all hosts.\n\nPartial-Bug: #1952282\nChange-Id: I3e2461b7d2dcbf8a24c19a514c0bfa8360f838e8\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 9, 'created': '2023-05-31 13:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/bc3b2d9c5abb5fe4ef24856f03cb6ee94022b9b0', 'message': 'Adds defer logic to non leader units if dashboard is not enabled.\n\nPartial-Bug: #1952282\nChange-Id: I3e2461b7d2dcbf8a24c19a514c0bfa8360f838e8\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 10, 'created': '2023-05-31 13:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/a5429dba0b4e6ae117553f9c3bf4d55743d4b53a', 'message': 'Adds defer logic to non leader units if dashboard is not enabled.\n\nPartial-Bug: #1952282\nChange-Id: I3e2461b7d2dcbf8a24c19a514c0bfa8360f838e8\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 11, 'created': '2023-05-31 14:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/e4e7edabb0fa0fd18fa8f5f7b4d010289fd1dfdc', 'message': 'Adds defer logic to non leader units if dashboard is not enabled.\n\nPartial-Bug: #1952282\nChange-Id: I3e2461b7d2dcbf8a24c19a514c0bfa8360f838e8\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 12, 'created': '2023-05-31 15:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/6679f4dbb94e48025b15e58d0aaedd6ae57c73b5', 'message': 'Adds defer logic to non leader units if dashboard is not enabled.\n\nPartial-Bug: #1952282\nChange-Id: I3e2461b7d2dcbf8a24c19a514c0bfa8360f838e8\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 13, 'created': '2023-05-31 16:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/cfa1f3d4ba4242f4d6ec21b5fea63b366a454866', 'message': 'Adds defer logic to non leader units if dashboard is not enabled.\n\nPartial-Bug: #1952282\nChange-Id: I3e2461b7d2dcbf8a24c19a514c0bfa8360f838e8\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 14, 'created': '2023-05-31 18:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/b057eff368d3dcd306d3725aac86b713cd755c6b', 'message': 'Adds defer logic to non leader units if dashboard is not enabled.\n\nPartial-Bug: #1952282\nChange-Id: I3e2461b7d2dcbf8a24c19a514c0bfa8360f838e8\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 15, 'created': '2023-06-01 06:59:39.000000000', 'files': ['src/interface_peer.py', 'src/charm.py', 'metadata.yaml', 'unit_tests/test_ceph_dashboard_charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/6632cfcca5eff822314d0e51da10b2394afc0c84', 'message': 'Adds defer logic to non leader units if dashboard is not enabled.\n\nPartial-Bug: #1952282\nChange-Id: I3e2461b7d2dcbf8a24c19a514c0bfa8360f838e8\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}]",17,884364,6632cfcca5eff822314d0e51da10b2394afc0c84,42,3,15,34952,,,0,"Adds defer logic to non leader units if dashboard is not enabled.

Partial-Bug: #1952282
Change-Id: I3e2461b7d2dcbf8a24c19a514c0bfa8360f838e8
Signed-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/64/884364/8 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,a70466a88f3da832edad833f3a7e0be65991e182,official," def _configure_dashboard(self, event) -> None: if not ceph_utils.is_dashboard_enabled(): if self.unit.is_leader(): ceph_utils.mgr_enable_dashboard() else: logging.info(""Dashboard not enabled, deferring event."") event.defer() return"," def _configure_dashboard(self, _) -> None: if self.unit.is_leader() and not ceph_utils.is_dashboard_enabled(): ceph_utils.mgr_enable_dashboard()",8,3
openstack%2Fvenus~master~If481c0ba0bb28225f9bbf1e0e5dee1789e081a36,openstack/venus,master,If481c0ba0bb28225f9bbf1e0e5dee1789e081a36,add new table config in sql init,MERGED,2023-06-12 08:26:02.000000000,2023-06-12 09:36:03.000000000,2023-06-12 09:35:10.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-06-12 08:26:02.000000000', 'files': ['venus/db/alembic/versions/a6cf98f55b4d_.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/9f9c676e1d46b059fd8f030f6cc60c966ddb7cac', 'message': 'add new table config in sql init\n\nChange-Id: If481c0ba0bb28225f9bbf1e0e5dee1789e081a36\n'}]",0,885843,9f9c676e1d46b059fd8f030f6cc60c966ddb7cac,7,2,1,30455,,,0,"add new table config in sql init

Change-Id: If481c0ba0bb28225f9bbf1e0e5dee1789e081a36
",git fetch https://review.opendev.org/openstack/venus refs/changes/43/885843/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/db/alembic/versions/a6cf98f55b4d_.py'],1,9f9c676e1d46b059fd8f030f6cc60c966ddb7cac,," t_mo_custom_config = op.Table( 't_mo_custom_config', op.Column('id', op.String(64), primary_key=True), op.Column('value', op.String(10240), nullable=False), op.Column('update_time', op.DateTime), mysql_engine='InnoDB', mysql_charset='utf8') new_data = { 'id': 'log_save_days', 'value': '30', 'update_time': now } op.bulk_insert( t_mo_custom_config, [ new_data, ], )",,21,0
openstack%2Fkolla-ansible~master~I4b50053ced9150499d1d09fd4a0ec2e243cf938b,openstack/kolla-ansible,master,I4b50053ced9150499d1d09fd4a0ec2e243cf938b,Fix passwords.yml permissions,MERGED,2023-05-02 21:41:52.000000000,2023-06-12 08:38:51.000000000,2023-06-12 08:37:48.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 32398}, {'_account_id': 32553}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-05-02 21:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f785d7d4cb4ddbd902f95026f1e9c8f3fbc5fcc4', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd command now creates or updates passwords.yml with\ncorrect permissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2023-05-02 22:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ce32c78e16e1ff2768048f1104caa6db647b5b12', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd command now creates or updates passwords.yml with\ncorrect permissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2023-05-02 22:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a6b44f179edd4b3c99864d38eeff037bd6c99668', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd command now creates or updates passwords.yml with\ncorrect permissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 4, 'created': '2023-05-02 22:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/19e946532bc2cf1e112e6b2014c4849fd5c6fbb7', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd command now creates or updates passwords.yml with\ncorrect permissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 5, 'created': '2023-05-02 22:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/90fad0ab0802f44fa578d8404595be2885390dc9', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd command now creates or updates passwords.yml with\ncorrect permissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 6, 'created': '2023-05-02 22:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/32241ad69810e70a3362de40465a26f56ef614c6', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd command now creates or updates passwords.yml with\ncorrect permissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 7, 'created': '2023-05-02 23:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0dad6735ac407211ecd9e208e51597fd7a2f3a71', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd command now creates or updates passwords.yml with\ncorrect permissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 8, 'created': '2023-05-03 10:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/410c8be158262e2e551bd2d8a3adee31f5fccf21', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd command now creates or updates passwords.yml with\ncorrect permissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 9, 'created': '2023-05-04 09:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/416cc7c81ffe7336f6c182c6d2da2163d9a55a7e', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd\ncommands now creates or updates passwords.yml with correct\npermissions. Also they display warning message about incorrect\npermissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 10, 'created': '2023-05-18 11:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9b8f36b855e9813186c3e721a4965ad27c349104', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd\ncommands now creates or updates passwords.yml with correct\npermissions. Also they display warning message about incorrect\npermissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 11, 'created': '2023-05-24 14:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a7be11ad6c294595457071e11948b5bcd768c710', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd\ncommands now creates or updates passwords.yml with correct\npermissions. Also they display warning message about incorrect\npermissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 12, 'created': '2023-05-25 15:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4fe8738e9cce7a5926c2efa22ce1028884853e42', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd\ncommands now creates or updates passwords.yml with correct\npermissions. Also they display warning message about incorrect\npermissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 13, 'created': '2023-05-25 21:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/59ad6fc496b6a3fbe31aeec7e3c85255bdd673d7', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd\ncommands now creates or updates passwords.yml with correct\npermissions. Also they display warning message about incorrect\npermissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 14, 'created': '2023-05-26 18:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1928361747683427ff0d3144e85a030beb9842e', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd\ncommands now creates or updates passwords.yml with correct\npermissions. Also they display warning message about incorrect\npermissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 15, 'created': '2023-05-31 11:23:11.000000000', 'files': ['tests/run-hashi-vault.yml', 'kolla_ansible/cmd/mergepwd.py', 'tests/run.yml', 'kolla_ansible/cmd/readpwd.py', 'kolla_ansible/cmd/genpwd.py', 'kolla_ansible/cmd/writepwd.py', 'releasenotes/notes/fix-passwords-yml-permissions-ca73638b71aeadf4.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5fd8117098d3fec6d96f6a918cc2d2bfa2f14c86', 'message': 'Fix passwords.yml permissions\n\nThe kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd\ncommands now creates or updates passwords.yml with correct\npermissions. Also they display warning message about incorrect\npermissions.\n\nCloses-Bug: #2018338\nChange-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",29,882100,5fd8117098d3fec6d96f6a918cc2d2bfa2f14c86,75,8,15,14200,,,0,"Fix passwords.yml permissions

The kolla-genpwd, kolla-mergepwd, kolla-readpwd and kolla-writepwd
commands now creates or updates passwords.yml with correct
permissions. Also they display warning message about incorrect
permissions.

Closes-Bug: #2018338
Change-Id: I4b50053ced9150499d1d09fd4a0ec2e243cf938b
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/882100/6 && git format-patch -1 --stdout FETCH_HEAD,['kolla_ansible/cmd/genpwd.py'],1,f785d7d4cb4ddbd902f95026f1e9c8f3fbc5fcc4,fix-passwords-yml-permissions," os.chmod(passwords_file, 0o660)",,1,0
openstack%2Fvenus~master~I01f730c3c93da53a9b43faf992c27140fa20c92e,openstack/venus,master,I01f730c3c93da53a9b43faf992c27140fa20c92e,add updatetime field in table to_mo_register_task,MERGED,2023-06-12 07:27:51.000000000,2023-06-12 08:13:33.000000000,2023-06-12 08:12:20.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-06-12 07:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/73f81540db24e385596cf1416a6b58e0c8f31143', 'message': 'add updatetime field in table to_mo_register_task\n\nChange-Id: I01f730c3c93da53a9b43faf992c27140fa20c92e\n'}, {'number': 2, 'created': '2023-06-12 07:51:31.000000000', 'files': ['venus/db/alembic/versions/a6cf98f55b4d_.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/1155b1901f040636d9fa9cf5c86c1a035b466c8f', 'message': 'add updatetime field in table to_mo_register_task\n\nChange-Id: I01f730c3c93da53a9b43faf992c27140fa20c92e\n'}]",1,885838,1155b1901f040636d9fa9cf5c86c1a035b466c8f,9,2,2,30455,,,0,"add updatetime field in table to_mo_register_task

Change-Id: I01f730c3c93da53a9b43faf992c27140fa20c92e
",git fetch https://review.opendev.org/openstack/venus refs/changes/38/885838/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/db/alembic/versions/a6cf98f55b4d_.py'],1,73f81540db24e385596cf1416a6b58e0c8f31143,," 't_mo_regitster_task', sa.Column('update_time', sa.DateTime, nullable=True, primary_key=False, default='0000-00-00 00:00:00'),"," 't_mo_regitster_task1',",3,1
openstack%2Fsahara-plugin-cdh~master~Id3db8c318c22969e28ab8f8b2f8080fa06830693,openstack/sahara-plugin-cdh,master,Id3db8c318c22969e28ab8f8b2f8080fa06830693,setup.cfg: Replace dashes with underscores,NEW,2023-06-12 07:31:23.000000000,2023-06-12 08:01:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-12 07:31:23.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/25afc94b3c09c816c9f6bf9700bead0bbecb7eac', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Id3db8c318c22969e28ab8f8b2f8080fa06830693\n""}]",1,885776,25afc94b3c09c816c9f6bf9700bead0bbecb7eac,4,1,1,29423,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Id3db8c318c22969e28ab8f8b2f8080fa06830693
",git fetch https://review.opendev.org/openstack/sahara-plugin-cdh refs/changes/76/885776/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,25afc94b3c09c816c9f6bf9700bead0bbecb7eac,,description_file = README.rstpython_requires = >=3.8author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/sahara/latest/,description-file = README.rstpython-requires = >=3.8author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/sahara/latest/,4,4
openstack%2Fsahara-image-elements~master~I5c64c191b98f88d48a6878e960a6b7694a185153,openstack/sahara-image-elements,master,I5c64c191b98f88d48a6878e960a6b7694a185153,setup.cfg: Replace dashes with underscores,NEW,2023-06-12 07:29:20.000000000,2023-06-12 07:57:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-12 07:29:20.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/528272d787ca4dcd177182ac84e7135b71ae10bc', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I5c64c191b98f88d48a6878e960a6b7694a185153\n""}]",1,885775,528272d787ca4dcd177182ac84e7135b71ae10bc,4,1,1,29423,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I5c64c191b98f88d48a6878e960a6b7694a185153
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/75/885775/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,528272d787ca4dcd177182ac84e7135b71ae10bc,,description_file = README.rstpython_requires = >=3.6author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/sahara/latest,description-file = README.rstpython-requires = >=3.6author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/sahara/latest,4,4
openstack%2Fcyborg-specs~master~I43f35e6781b84917b835834dc8d530ccbf1f1a9a,openstack/cyborg-specs,master,I43f35e6781b84917b835834dc8d530ccbf1f1a9a,Add NVIDIA MIG management spec,NEW,2023-06-12 07:36:34.000000000,2023-06-12 07:51:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-12 07:36:34.000000000', 'files': ['specs/2023.2/approved/nvidia_mig_driver.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/7b1bbd34c3034c290de4071c9258bc79398d1d87', 'message': 'Add NVIDIA MIG management spec\n\nimplement blueprint nvidia-a100-vgpu\nChange-Id: I43f35e6781b84917b835834dc8d530ccbf1f1a9a\n'}]",0,885778,7b1bbd34c3034c290de4071c9258bc79398d1d87,2,1,1,31412,,,0,"Add NVIDIA MIG management spec

implement blueprint nvidia-a100-vgpu
Change-Id: I43f35e6781b84917b835834dc8d530ccbf1f1a9a
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/78/885778/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.2/approved/nvidia_mig_driver.rst'],1,7b1bbd34c3034c290de4071c9258bc79398d1d87,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================================== Cyborg NVIDIA GPU Driver support MIG management =============================================== GPU MIG is the new feature of A serial card, MIG can partition the GPU into as many as seven instances, each fully isolated with its own high-bandwidth memory, cache, and compute cores[1]_. Its virtualization need enable SRIOV like QAT and SmartNIC, which is different from V100 and other GPU cards. This spec proposes the specification of supporting MIG management in the nvidia mig driver. Problem description =================== GPU MIG is the new feature of A serial card and has different virtualization type from V serial and other GPU cards. We need a new driver to manage MIG resources by Cyborg like other accelerators. Use Cases --------- An admin or operator wants to use the MIG resource like other vGPU resources, and boots up VM with MIG device attached. Proposed change =============== Add new driver to manage MIG resources. 1.collect raw info of GPU devices from compute node by ""lspci"" and grep nvidia related keyword. 2.partition the default GPU instances for every A serial cards. 3.find the MIG resources by filter the VFs of GPU 4.report available VFs to cyborg-conductor and placement Change MIG partition by cyborg-api like change vgpu_type. Cyborg-api will call cyborg-agent to partition GPU and exec the period task to report new MIG info. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- No need to configure the vpgu_type for A serial GPU cards. Add new driver named nvidia_mig_driver for enabled_drivers. Developer impact ---------------- If the user want to use these feature, they should upgrade their Cyborg project to latest to support these changes. Implementation ============== Assignee(s) ----------- Primary assignee: songwenping Work Items ---------- * Add new driver to manage MIG resources. * Change MIG partition by cyborg-api. * Change cyborgclient to support change MIG partition action. * Add related tests. Dependencies ============ None Testing ======= Appropriate unit and functional tests should be added. Documentation Impact ==================== * Need a documentaiton to explain nvidia_mig_driver usage. References ========== .. [1] https://www.nvidia.com/en-in/technologies/multi-instance-gpu/ History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Bobcat - Introduced ",,125,0
openstack%2Fglance-specs~master~Ib0c2c1eedda72b45988b99e7afb9bd6026e0707b,openstack/glance-specs,master,Ib0c2c1eedda72b45988b99e7afb9bd6026e0707b,Repropose Spec for the Glance part of Image Encryption (Bobcat),MERGED,2023-04-17 12:48:29.000000000,2023-06-12 07:50:31.000000000,2023-06-12 07:49:30.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 28271}]","[{'number': 1, 'created': '2023-04-17 12:48:29.000000000', 'files': ['specs/2023.2/approved/glance/image-encryption.rst', 'specs/2023.2/approved/index.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/ec880a511e9ae109e2420094089f091a3f6c3c69', 'message': 'Repropose Spec for the Glance part of Image Encryption (Bobcat)\n\nThis commit re-proposes the Image Encryption spec for Glance part\nto latest bobcat cycle based on Bobcat PTG discussion[1]\n\n[1]: https://lists.openstack.org/pipermail/openstack-discuss/2023-April/033187.html\n\nChange-Id: Ib0c2c1eedda72b45988b99e7afb9bd6026e0707b\n'}]",2,880627,ec880a511e9ae109e2420094089f091a3f6c3c69,10,5,1,19138,,,0,"Repropose Spec for the Glance part of Image Encryption (Bobcat)

This commit re-proposes the Image Encryption spec for Glance part
to latest bobcat cycle based on Bobcat PTG discussion[1]

[1]: https://lists.openstack.org/pipermail/openstack-discuss/2023-April/033187.html

Change-Id: Ib0c2c1eedda72b45988b99e7afb9bd6026e0707b
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/27/880627/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/2023.2/approved/glance/image-encryption.rst', 'specs/2023.2/approved/index.rst']",2,ec880a511e9ae109e2420094089f091a3f6c3c69,image-encryption,2023.2 approved specs for glance: .. toctree:: :glob: :maxdepth: 1 glance/*,TODO: fill this in once a new approved spec is added. ,5,3
openstack%2Fansible-role-collect-logs~master~I1cbcf97fb96375c48030a6b3f839601664654cab,openstack/ansible-role-collect-logs,master,I1cbcf97fb96375c48030a6b3f839601664654cab,setup.cfg: Replace dashes with underscores,NEW,2023-06-08 12:34:55.000000000,2023-06-12 07:49:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-08 12:34:55.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/563011d680830750d30ef4a3ca1a6f47c3dd9c70', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I1cbcf97fb96375c48030a6b3f839601664654cab\n""}]",3,885447,563011d680830750d30ef4a3ca1a6f47c3dd9c70,8,1,1,29423,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I1cbcf97fb96375c48030a6b3f839601664654cab
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/47/885447/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,563011d680830750d30ef4a3ca1a6f47c3dd9c70,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://opendev.org/openstack/ansible-role-collect-logs,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://opendev.org/openstack/ansible-role-collect-logs,3,3
openstack%2Fkolla-ansible~stable%2Fzed~I75def02cb7001566d3f7ab4e083ceeb13f05daf6,openstack/kolla-ansible,stable/zed,I75def02cb7001566d3f7ab4e083ceeb13f05daf6,docs: Fix note block,MERGED,2023-06-07 19:27:34.000000000,2023-06-12 07:42:01.000000000,2023-06-12 07:41:04.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 19:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b58b64b3dc004399754ef445dcc5f598f3546df9', 'message': 'docs: Fix note block\n\nFollowup on I34fd1dcb52cffd9d545d10526109772aeebc2393\nPartial fix of the note block only.\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: I75def02cb7001566d3f7ab4e083ceeb13f05daf6\n'}, {'number': 2, 'created': '2023-06-07 19:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f4080d87d20716535b917c97a864748b90e5fcd4', 'message': 'docs: Fix note block\n\nFollowup on I34fd1dcb52cffd9d545d10526109772aeebc2393\nPartial fix of the note block only.\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: I75def02cb7001566d3f7ab4e083ceeb13f05daf6\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2023-06-07 19:32:39.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc61357af9670c830ef12c514e494e182981da1f', 'message': 'docs: Fix note block\n\nFollowup on I34fd1dcb52cffd9d545d10526109772aeebc2393\nPartial fix of the note block only.\n\nChange-Id: I75def02cb7001566d3f7ab4e083ceeb13f05daf6\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",0,885543,fc61357af9670c830ef12c514e494e182981da1f,9,2,3,14200,,,0,"docs: Fix note block

Followup on I34fd1dcb52cffd9d545d10526109772aeebc2393
Partial fix of the note block only.

Change-Id: I75def02cb7001566d3f7ab4e083ceeb13f05daf6
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/885543/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,b58b64b3dc004399754ef445dcc5f598f3546df9,docs," .. note:: The file will be generated in /etc/kolla/clouds.yaml, you can use it by copying it to /etc/openstack or ~/.config/openstack or setting OS_CLIENT_CONFIG_FILE environment variable."," * The file will be generated in /etc/kolla/clouds.yaml, you can use it by copying it to /etc/openstack or ~/.config/openstack or setting OS_CLIENT_CONFIG_FILE environment variable.",5,3
openstack%2Fkolla-ansible~stable%2F2023.1~I3a14f85fbe5be6ae635774c49872e17f5daea805,openstack/kolla-ansible,stable/2023.1,I3a14f85fbe5be6ae635774c49872e17f5daea805,docs: Correct indentation in quickstart (again),MERGED,2023-06-07 17:27:56.000000000,2023-06-12 07:37:23.000000000,2023-06-12 07:35:33.000000000,"[{'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 17:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/67464709345ae4a4d09b6ce12c91e72f549e450f', 'message': 'docs: Correct indentation in quickstart (again)\n\nFollowup on I34fd1dcb52cffd9d545d10526109772aeebc2393\n\nChange-Id: I3a14f85fbe5be6ae635774c49872e17f5daea805\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit aff8e4a065710aa9a7e4e5db46a7a00f5209c0b5)\n'}, {'number': 2, 'created': '2023-06-07 17:30:13.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c5b6ddc51f86f2707038069341dc7230cfb32502', 'message': 'docs: Correct indentation in quickstart (again)\n\nFollowup on I34fd1dcb52cffd9d545d10526109772aeebc2393\n\nChange-Id: I3a14f85fbe5be6ae635774c49872e17f5daea805\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit aff8e4a065710aa9a7e4e5db46a7a00f5209c0b5)\n'}]",0,885535,c5b6ddc51f86f2707038069341dc7230cfb32502,8,3,2,14200,,,0,"docs: Correct indentation in quickstart (again)

Followup on I34fd1dcb52cffd9d545d10526109772aeebc2393

Change-Id: I3a14f85fbe5be6ae635774c49872e17f5daea805
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit aff8e4a065710aa9a7e4e5db46a7a00f5209c0b5)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/35/885535/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,67464709345ae4a4d09b6ce12c91e72f549e450f,docs, .. code-block:: console /path/to/venv/share/kolla-ansible/init-runonce, .. code-block:: console /path/to/venv/share/kolla-ansible/init-runonce,2,2
openstack%2Fkolla-ansible~stable%2F2023.1~I34fd1dcb52cffd9d545d10526109772aeebc2393,openstack/kolla-ansible,stable/2023.1,I34fd1dcb52cffd9d545d10526109772aeebc2393,docs: Correct indentation in quickstart,MERGED,2023-06-07 16:28:16.000000000,2023-06-12 07:36:35.000000000,2023-06-12 07:35:31.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 16:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8c686ae7b0ef5f80a066624bce88dc87ae7f71f0', 'message': 'docs: Correct indentation in quickstart\n\nWhere a list item has multiple paragraphs, the additional paragraphs\nmust be indented by three spaces (i.e. the level of the first paragraph)\nto be considered part of the list item.\n\nChange-Id: I34fd1dcb52cffd9d545d10526109772aeebc2393\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 3c38224f3e3925951337e09bd6a899f2f0f73e87)\n'}, {'number': 2, 'created': '2023-06-07 16:40:25.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d31c0ac32fdad344e8865a4bd2fb4016a4a45d7b', 'message': 'docs: Correct indentation in quickstart\n\nWhere a list item has multiple paragraphs, the additional paragraphs\nmust be indented by three spaces (i.e. the level of the first paragraph)\nto be considered part of the list item.\n\nChange-Id: I34fd1dcb52cffd9d545d10526109772aeebc2393\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 3c38224f3e3925951337e09bd6a899f2f0f73e87)\n'}]",0,885522,d31c0ac32fdad344e8865a4bd2fb4016a4a45d7b,11,4,2,14200,,,0,"docs: Correct indentation in quickstart

Where a list item has multiple paragraphs, the additional paragraphs
must be indented by three spaces (i.e. the level of the first paragraph)
to be considered part of the list item.

Change-Id: I34fd1dcb52cffd9d545d10526109772aeebc2393
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit 3c38224f3e3925951337e09bd6a899f2f0f73e87)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/885522/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,8c686ae7b0ef5f80a066624bce88dc87ae7f71f0,docs," .. code-block:: console kolla-ansible -i ./all-in-one bootstrap-servers .. code-block:: console kolla-ansible -i ./all-in-one prechecks .. code-block:: console kolla-ansible -i ./all-in-one deploy .. code-block:: console kolla-ansible post-deploy .. note:: The file will be generated in ``/etc/kolla/clouds.yaml``, you can use it by copying it to ``/etc/openstack`` or ``~/.config/openstack``, or by setting the ``OS_CLIENT_CONFIG_FILE`` environment variable."," .. code-block:: console kolla-ansible -i ./all-in-one bootstrap-servers .. code-block:: console kolla-ansible -i ./all-in-one prechecks .. code-block:: console kolla-ansible -i ./all-in-one deploy .. code-block:: console kolla-ansible post-deploy * The file will be generated in /etc/kolla/clouds.yaml, you can use it by copying it to /etc/openstack or ~/.config/openstack or setting OS_CLIENT_CONFIG_FILE environment variable.",13,11
openstack%2Fmagnum~master~I30d3c422a5bfb605afe7f9589ee56dc139988de2,openstack/magnum,master,I30d3c422a5bfb605afe7f9589ee56dc139988de2,Use new get_rpc_client API from oslo.messaging,ABANDONED,2023-05-24 01:35:25.000000000,2023-06-12 07:16:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-24 01:35:25.000000000', 'files': ['requirements.txt', 'magnum/common/rpc.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/891926a133e153312b82912c155f0b31fe32654e', 'message': 'Use new get_rpc_client API from oslo.messaging\n\nUse the new API that is consistent with\nthe existing API instead of instantiating the client\nclass directly.\n\nThis was introduced in release 14.1.0 here [1] and\nadded into oslo.messaging here [2]\n\n[1] https://review.opendev.org/c/openstack/requirements/+/869340\n[2] https://review.opendev.org/c/openstack/oslo.messaging/+/862419\n\nChange-Id: I30d3c422a5bfb605afe7f9589ee56dc139988de2\n'}]",41,883820,891926a133e153312b82912c155f0b31fe32654e,19,1,1,29423,,,0,"Use new get_rpc_client API from oslo.messaging

Use the new API that is consistent with
the existing API instead of instantiating the client
class directly.

This was introduced in release 14.1.0 here [1] and
added into oslo.messaging here [2]

[1] https://review.opendev.org/c/openstack/requirements/+/869340
[2] https://review.opendev.org/c/openstack/oslo.messaging/+/862419

Change-Id: I30d3c422a5bfb605afe7f9589ee56dc139988de2
",git fetch https://review.opendev.org/openstack/magnum refs/changes/20/883820/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'magnum/common/rpc.py']",2,891926a133e153312b82912c155f0b31fe32654e,," return messaging.get_rpc_client(TRANSPORT,"," return messaging.RPCClient(TRANSPORT,",2,2
openstack%2Fnova-specs~master~Ide2e51a46811ff267d9e5cdfc6b1ebc31b47396e,openstack/nova-specs,master,Ide2e51a46811ff267d9e5cdfc6b1ebc31b47396e,Re-propose using extend volume completion action for 2023.2,MERGED,2023-03-13 08:39:20.000000000,2023-06-12 06:33:45.000000000,2023-06-08 08:18:22.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-13 08:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3d9aa45706e2efbf5ece93df011999361e6fe34d', 'message': 'Re-propose using extend volume completion action for 2023.2\n\nPreviously-approved: 2023.1\n\nFor previous discussion see the change at:\nhttps://review.opendev.org/c/openstack/nova-specs/+/855490\n\nBlueprint: assisted-volume-extend\nChange-Id: Ide2e51a46811ff267d9e5cdfc6b1ebc31b47396e\n'}, {'number': 2, 'created': '2023-04-04 08:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/dd03c4879ca1e78055ba59bc73b3018d01a8a7ba', 'message': 'Re-propose using extend volume completion action for 2023.2\n\nPreviously-approved: 2023.1\n\nFor previous discussion see the change at:\nhttps://review.opendev.org/c/openstack/nova-specs/+/855490\n\nBlueprint: assisted-volume-extend\nChange-Id: Ide2e51a46811ff267d9e5cdfc6b1ebc31b47396e\n'}, {'number': 3, 'created': '2023-04-06 08:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1b9d60929b3bfecd0da16d4daee1c7544340f96b', 'message': 'Re-propose using extend volume completion action for 2023.2\n\nPreviously-approved: 2023.1\n\nFor previous discussion see the change at:\nhttps://review.opendev.org/c/openstack/nova-specs/+/855490\n\nFor the proposed implementation in Nova see change at:\nhttps://review.opendev.org/c/openstack/nova/+/873560\n\nBlueprint: assisted-volume-extend\nChange-Id: Ide2e51a46811ff267d9e5cdfc6b1ebc31b47396e\n'}, {'number': 4, 'created': '2023-04-11 08:07:45.000000000', 'files': ['specs/2023.2/approved/use-extend-volume-completion-action.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2c28b1eeb598257f97962cd1b3837708c50cd12d', 'message': 'Re-propose using extend volume completion action for 2023.2\n\nPreviously-approved: 2023.1\n\nFor previous discussion see the change at:\nhttps://review.opendev.org/c/openstack/nova-specs/+/855490\n\nFor the proposed implementation in Nova see change at:\nhttps://review.opendev.org/c/openstack/nova/+/873560\n\nBlueprint: assisted-volume-extend\nChange-Id: Ide2e51a46811ff267d9e5cdfc6b1ebc31b47396e\n'}]",11,877233,2c28b1eeb598257f97962cd1b3837708c50cd12d,18,3,4,34859,,,0,"Re-propose using extend volume completion action for 2023.2

Previously-approved: 2023.1

For previous discussion see the change at:
https://review.opendev.org/c/openstack/nova-specs/+/855490

For the proposed implementation in Nova see change at:
https://review.opendev.org/c/openstack/nova/+/873560

Blueprint: assisted-volume-extend
Change-Id: Ide2e51a46811ff267d9e5cdfc6b1ebc31b47396e
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/33/877233/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.2/approved/use-extend-volume-completion-action.rst'],1,3d9aa45706e2efbf5ece93df011999361e6fe34d,bp/assisted-volume-extend,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================================== Use extend volume completion action =================================== https://blueprints.launchpad.net/nova/+spec/assisted-volume-extend This blueprint proposes to use the ``os-extend_volume_completion`` volume action that has been proposed for Cinder in [3]_, to provide feedback on success or failure when handling ``volume-extended`` external server events. Problem description =================== Many remotefs-based volume drivers in Cinder use the ``qemu-img resize`` command to extend volume files. However, when the volume is attached to a guest, QEMU will lock the file and ``qemu-img`` will be unable to resize it. In this case, only the QEMU process holding the lock can resize the volume, which can be triggered through the QEMU monitor command ``block-resize``. There is currently no adequate way for Cinder to use this feature, so the NFS, NetApp NFS, Powerstore NFS, and Quobyte volume drivers all disable extending attached volumes. Use Cases --------- As a user, I want to extend a NFS/NetApp NFS/Powerstore NFS/Quobyte volume while it is attached to an instance and I want the volume size and status to reflect the success or failure of the operation. Proposed change =============== Nova's libvirt driver uses the ``block-resize`` command when handling the ``volume-extended`` external server event, to inform QEMU that the size of an attached volume has changed. It is in principle also capable of extending a volume file, but is currently unable to provide feedback to Cinder on the success of the operation. Currently, Cinder will send the ``volume-extended`` external server event to Nova only after it has finalized the extend operation and reset the volume status from ``extending`` back to ``in-use``. With [3]_, Cinder will allow volume drivers to hold off finalizing the extend operation and leave the volume status as ``extending``, until after it has send the ``volume-extended`` event and received feedback from Nova in form of the ``os-extend_volume_completion`` volume action, with an ``error`` argument indicating whether to finalize or to roll back the operation. This will currently affect only the volume drivers mentioned above, all of which did not previously support online extend. All other drivers will continue to send the ``volume-extended`` event after finalizing the operation and resetting to ``in-use`` status, and will not expect a ``os-extend_volume_completion`` volume action. Compute Agent ------------- Nova's compute agent will use the volume status to differentiate between the two behaviors when handling ``volume-extended`` events: * If the volume status is ``extending``, then it will attempt to read ``extend_new_size`` from the volume's metadata and use this value as the new size of the volume, instead of the volume size field. After successfully extending the volume, it will call the extend volume completion action of the volume, with ``""error"": false``. If anything goes wrong, including ``extend_new_size`` being missing from the metadata, or being smaller than the current size of the volume, it will log the error and call the ``os-extend_volume_completion`` action with ``""error"": true``, so Cinder can roll back the operation. * For any other volume status, including ``in-use``, the event will be handled as before. API --- Nova's API will introduce a new microversion, so that Cinder can make sure the new behavior is available, before leaving an extend operation unfinished. To handle older compute agents during a rolling upgrade, the API will also check the compute service version of the target agent when receiving a ``volume-extended`` event with the new microversion. If a target compute agent is too old to support the feature, the API will discard the event and call the ``os-extend_volume_completion`` action with ``""error"": true``. Alternatives ------------ * A previous change tried to use the ``volume-extended`` external server event to support online extend for the NFS driver [1]_, but did not rely on feedback from Nova to Cinder at all. Instead, it would just set the new size of the volume, change the status back to ``in-use``, notify Nova, and hope for the best. If anything went wrong on Nova's side, this would still result in a volume state indicating that the operation was successful, which is not acceptable. * A previous version of this spec proposed a new synchronous API in Nova [2]_, that would directly call ``CompVirtAPI.extend_image`` of the nova-compute instance managing the guest that a volume was attached to. This API would provide a single mechanism to trigger the resize operation, communicate the new size to Nova, and get feedback on the success of the operation. The problem with a synchronous API is, that RPC and API timeouts limit the maximum time an extend operation can take. For QEMU, this seemed to be acceptable, because storage preallocation is hard disabled for the ``block-resize`` command, and because all currently plausible file systems support sparse file operations. However, this may not be true for other volume or virt drivers that might require this API in the future. It would also break with the established pattern of asynchronous coordination between Nova and Cinder, which includes the assisted snapshot and volume migration features. * Following this pattern, we could make the proposed API asynchronous and use a new callback in Cinder, similar to Nova's ``os-assisted-volume-snapshots`` API, which uses the ``os-update_snapshot_status`` snapshot action to provide feedback to Cinder. The function of the new Nova API would then just be to trigger the operation and to communicate the new size. The question is then, whether that warrants adding a new API to Nova, since there are existing mechanisms that could be used for either. * The existing mechanism for triggering the extend operation in Nova is of course the ``volume-extended`` external server event. Using it for this purpose, as this spec proposes, requires the target size to be transferred separately, because external server events only have a single text field that is freely usable, which for ``volume-extended`` is already used for the volume ID. Besides storing it in the admin metadata, as [3]_ and this spec propose, there is also the option of updating the size field of the volume, as [1]_ was essentially doing. This would require the volume size field to be reset on a failure. If an error response from Nova was lost, the volume would just keep the new size. We would need to extend ``os-reset_status`` to allow a size reset, or something similar to clean up volumes like this. This would be possible, but updating the size field only after the volume was successfully extended seems like a cleaner solution. * We could also extend the external server event API to accept additional data for events, and use this to communicate the new size to Nova. This option was judged favorably by reviewers on the previous version of this spec, [2]_, but it would be a more complex change to the Nova API. However, if additional data fields become available in a future version of the external server event API, it would be a relatively minor change to use this instead of volume metadata. Data model impact ----------------- None REST API impact --------------- The behavior of the external server event API will change. * If Nova receives a ``volume-extended`` event, and the referenced volume has status of ``extending``, Nova will look for the ``extend_new_size`` key in the volume metadata, and use this instead of the volume size field as the target size to update the block device mapping and to pass to the virt driver's ``extend_volume`` method. Nova will also attempt to call Cinder's new ``os-extend_volume_completion`` volume action proposed in [3]_ to let Cinder know if the operation was successful or not. * Otherwise, the API will behave as before. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- Checking the target compute service version allows the API to handle rolling upgrades gracefully. Implementation ============== Assignee(s) ----------- Primary assignee: kgube Other contributors: None Feature Liaison --------------- Feature liaison: None yet Work Items ---------- * Update the external server event API to check the target compute service version for ``volume-extended`` events. * Update the ``ComputeVirtAPI.extend_volume`` method to follow the behavior outlined in `Compute Agent`_. * Add unit tests. * Adapt NFS job in the Nova gate to validate online extend. Dependencies ============ * The extend volume completion action [3]_ Testing ======= We should test that the ``os-extend_volume_completion`` gets called correctly in all possible error or success condition if a volume has ``extending`` status. We should test the case that the call to ``os-extend_volume_completion`` fails. We also need to test that ``volume-extended`` continues to be handled correctly for volumes not in ``extending`` status. Documentation Impact ==================== The new behavior of the ``volume-extended`` event should be added to the documentation of the external server event API. References ========== .. [1] https://review.opendev.org/c/openstack/cinder/+/739079 .. [2] https://review.opendev.org/c/openstack/nova-specs/+/855490/6 .. [3] https://review.opendev.org/c/openstack/cinder-specs/+/866718 History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - 2023.1 Antelope - Introduced ",,293,0
openstack%2Fcinder~master~I901e48307a6b1b5f8d763b523a6e20482f127b22,openstack/cinder,master,I901e48307a6b1b5f8d763b523a6e20482f127b22,DNM: Create for temporary test - Please ignore,ABANDONED,2023-03-02 08:50:29.000000000,2023-06-12 05:30:25.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-03-02 08:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b49bda9ff7c9c4afa48861e59661b0d3604e09ec', 'message': 'Submitted for temporary test - Please ignore\n\nPlease ignore this patch.\n\nChange-Id: I901e48307a6b1b5f8d763b523a6e20482f127b22\n'}, {'number': 2, 'created': '2023-03-07 11:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e442041e513788b99c4554d913694d437238511', 'message': 'Create for temporary test - Please ignore\n\nPlease ignore this patch.\n\nChange-Id: I901e48307a6b1b5f8d763b523a6e20482f127b22\n'}, {'number': 3, 'created': '2023-03-20 12:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9de7592f6ed12d59216e52aede8bdb553d92240a', 'message': 'DNM: Create for temporary test - Please ignore\n\ndo not merge.\nPlease ignore this patch.\n\nChange-Id: I901e48307a6b1b5f8d763b523a6e20482f127b22\n'}, {'number': 4, 'created': '2023-05-31 07:11:40.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6fac61fce54084ef7a7a0bc31ab218880c610dd', 'message': 'DNM: Create for temporary test - Please ignore\n\ndo not merge.\nPlease ignore this patch.\n\nChange-Id: I901e48307a6b1b5f8d763b523a6e20482f127b22\n'}]",13,875643,e6fac61fce54084ef7a7a0bc31ab218880c610dd,105,3,4,29122,,,0,"DNM: Create for temporary test - Please ignore

do not merge.
Please ignore this patch.

Change-Id: I901e48307a6b1b5f8d763b523a6e20482f127b22
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/875643/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/hpe/hpe_3par_common.py'],1,b49bda9ff7c9c4afa48861e59661b0d3604e09ec,,# test comment ,,2,0
openstack%2Foslo.messaging~stable%2Fyoga~I103d2aa79b4bd2c331810583aeca53e22ee27a49,openstack/oslo.messaging,stable/yoga,I103d2aa79b4bd2c331810583aeca53e22ee27a49,Increase ACK_REQUEUE_EVERY_SECONDS_MAX to exceed default kombu_reconnect_delay,MERGED,2023-05-18 15:10:54.000000000,2023-06-12 02:23:27.000000000,2023-06-12 02:22:01.000000000,"[{'_account_id': 9816}, {'_account_id': 14200}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-05-18 15:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a5ca24fc0a6c1dcc765b4a2b1466f13a5060ba23', 'message': ""Increase ACK_REQUEUE_EVERY_SECONDS_MAX to exceed default kombu_reconnect_delay\n\nPreviously the two values were the same; this caused us\nto always exceed the timeout limit ACK_REQUEUE_EVERY_SECONDS_MAX\nwhich results in various code paths never being traversed\ndue to premature timeout exceptions.\n\nAlso apply min/max values to kombu_reconnect_delay so it doesn't\nexceed ACK_REQUEUE_EVERY_SECONDS_MAX and break things again.\n\nCloses-Bug: #1993149\nChange-Id: I103d2aa79b4bd2c331810583aeca53e22ee27a49\n(cherry picked from commit 0602d1a10ac20c48fa35ad711355c79ee5b0ec77)\n""}, {'number': 2, 'created': '2023-06-01 14:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ee6923c07c469183fc82cfda30ab78c295cc6a12', 'message': ""Increase ACK_REQUEUE_EVERY_SECONDS_MAX to exceed default kombu_reconnect_delay\n\nPreviously the two values were the same; this caused us\nto always exceed the timeout limit ACK_REQUEUE_EVERY_SECONDS_MAX\nwhich results in various code paths never being traversed\ndue to premature timeout exceptions.\n\nAlso apply min/max values to kombu_reconnect_delay so it doesn't\nexceed ACK_REQUEUE_EVERY_SECONDS_MAX and break things again.\n\nCloses-Bug: #1993149\nChange-Id: I103d2aa79b4bd2c331810583aeca53e22ee27a49\n(cherry picked from commit 0602d1a10ac20c48fa35ad711355c79ee5b0ec77)\n(cherry picked from commit b4b49248bcfcb169f96ab2d47b5d207b1354ffa8)\n(cherry picked from commit fa3195a3459cae3f4e9be43f114ee2d5eb7a60f1)\n""}, {'number': 3, 'created': '2023-06-02 16:51:04.000000000', 'files': ['releasenotes/notes/bug-1993149-e8b231791b65e938.yaml', 'oslo_messaging/tests/test_config_opts_proxy.py', 'oslo_messaging/_drivers/amqpdriver.py', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f20a905ea6f41399c1723f8f1cbd0bc1097b8672', 'message': ""Increase ACK_REQUEUE_EVERY_SECONDS_MAX to exceed default kombu_reconnect_delay\n\nPreviously the two values were the same; this caused us\nto always exceed the timeout limit ACK_REQUEUE_EVERY_SECONDS_MAX\nwhich results in various code paths never being traversed\ndue to premature timeout exceptions.\n\nAlso apply min/max values to kombu_reconnect_delay so it doesn't\nexceed ACK_REQUEUE_EVERY_SECONDS_MAX and break things again.\n\nCloses-Bug: #1993149\nChange-Id: I103d2aa79b4bd2c331810583aeca53e22ee27a49\n(cherry picked from commit 0602d1a10ac20c48fa35ad711355c79ee5b0ec77)\n(cherry picked from commit b4b49248bcfcb169f96ab2d47b5d207b1354ffa8)\n(cherry picked from commit fa3195a3459cae3f4e9be43f114ee2d5eb7a60f1)\n""}]",6,883538,f20a905ea6f41399c1723f8f1cbd0bc1097b8672,21,5,3,27339,,,0,"Increase ACK_REQUEUE_EVERY_SECONDS_MAX to exceed default kombu_reconnect_delay

Previously the two values were the same; this caused us
to always exceed the timeout limit ACK_REQUEUE_EVERY_SECONDS_MAX
which results in various code paths never being traversed
due to premature timeout exceptions.

Also apply min/max values to kombu_reconnect_delay so it doesn't
exceed ACK_REQUEUE_EVERY_SECONDS_MAX and break things again.

Closes-Bug: #1993149
Change-Id: I103d2aa79b4bd2c331810583aeca53e22ee27a49
(cherry picked from commit 0602d1a10ac20c48fa35ad711355c79ee5b0ec77)
(cherry picked from commit b4b49248bcfcb169f96ab2d47b5d207b1354ffa8)
(cherry picked from commit fa3195a3459cae3f4e9be43f114ee2d5eb7a60f1)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/38/883538/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1993149-e8b231791b65e938.yaml', 'oslo_messaging/tests/test_config_opts_proxy.py', 'oslo_messaging/_drivers/amqpdriver.py', 'oslo_messaging/_drivers/impl_rabbit.py']",4,a5ca24fc0a6c1dcc765b4a2b1466f13a5060ba23,bug/1993149-stable/yoga," min=0.0, max=amqpdriver.ACK_REQUEUE_EVERY_SECONDS_MAX * 0.9, help='How long to wait (in seconds) before reconnecting in ' 'response to an AMQP consumer cancel notification.'),"," help='How long to wait before reconnecting in response to an ' 'AMQP consumer cancel notification.'),",15,4
openstack%2Foslo.messaging~stable%2Fyoga~I476e3c573523d5991c56b31ad4df1172196aa7f1,openstack/oslo.messaging,stable/yoga,I476e3c573523d5991c56b31ad4df1172196aa7f1,tests: Fix test failures with kombu >= 5.2.4,MERGED,2023-06-02 16:51:04.000000000,2023-06-12 02:15:39.000000000,2023-06-12 02:14:10.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-02 16:51:04.000000000', 'files': ['oslo_messaging/tests/drivers/test_impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a1b36e7823e2764db7914ad9fbcbc0a5dc300205', 'message': 'tests: Fix test failures with kombu >= 5.2.4\n\nkombu 5.2.4 fixed an off-by-one issue that meant we were attempting\nretries more than once [1]. We need to handle this to unblock the gate.\nThis was discovered by examining the call stack and comparing this with\nrecent changes in openstack/requirements.\n\n[1] https://github.com/celery/kombu/commit/5bed2a8f983a3bf61c12443e7704ffd89991ef9a\n\nChange-Id: I476e3c573523d5991c56b31ad4df1172196aa7f1\n(cherry picked from commit 723513a9d95b6d7678cc851afdfafba41120693c)\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,885152,a1b36e7823e2764db7914ad9fbcbc0a5dc300205,8,3,1,27339,,,0,"tests: Fix test failures with kombu >= 5.2.4

kombu 5.2.4 fixed an off-by-one issue that meant we were attempting
retries more than once [1]. We need to handle this to unblock the gate.
This was discovered by examining the call stack and comparing this with
recent changes in openstack/requirements.

[1] https://github.com/celery/kombu/commit/5bed2a8f983a3bf61c12443e7704ffd89991ef9a

Change-Id: I476e3c573523d5991c56b31ad4df1172196aa7f1
(cherry picked from commit 723513a9d95b6d7678cc851afdfafba41120693c)
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/52/885152/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/tests/drivers/test_impl_rabbit.py'],1,a1b36e7823e2764db7914ad9fbcbc0a5dc300205,bug/1993149-stable/yoga," # TODO(stephenfin): Remove when we drop support for kombu < 5.2.4 expected = 5 if kombu.VERSION < (5, 2, 4): expected = 6 self.assertEqual(expected, mock_callback.call_count) # TODO(stephenfin): Remove when we drop support for kombu < 5.2.4 expected = 2 if kombu.VERSION < (5, 2, 4): expected = 3 self.assertEqual(expected, mock_callback.call_count) self.assertRaises( oslo_messaging.MessageDeliveryFailure, self.connection.ensure, mock_callback, retry=0, ) # TODO(stephenfin): Remove when we drop support for kombu < 5.2.4 expected = 1 if kombu.VERSION < (5, 2, 4): expected = 2 self.assertEqual(expected, mock_callback.call_count)"," self.assertEqual(6, mock_callback.call_count) self.assertEqual(3, mock_callback.call_count) self.assertRaises(oslo_messaging.MessageDeliveryFailure, self.connection.ensure, mock_callback, retry=0) self.assertEqual(2, mock_callback.call_count)",21,6
openstack%2Ftripleo-ci~master~I7262f3d2e34790e13885a20ca389516f08a75bf9,openstack/tripleo-ci,master,I7262f3d2e34790e13885a20ca389516f08a75bf9,[ussuri][goal] Updates for python 2.7 drop,ABANDONED,2020-04-26 00:40:22.000000000,2023-06-11 21:53:57.000000000,,"[{'_account_id': 7144}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-26 00:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c8a90ed49d05a7ef5b0f5c5a36c5c2f02e612446', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle except\nswift and sorlets which is exception approved in this goal.\n\nSomehow this repo is left to remove the support of py2.7.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I7262f3d2e34790e13885a20ca389516f08a75bf9\n'}, {'number': 2, 'created': '2020-04-26 00:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4a3c75314d61ec3788f09ff75bfa67778b9cf2c1', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle except\nswift and sorlets which is exception approved in this goal.\n\nSomehow this repo is left to remove the support of py2.7.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I7262f3d2e34790e13885a20ca389516f08a75bf9\n'}, {'number': 3, 'created': '2020-04-27 18:43:09.000000000', 'files': ['zuul.d/layout.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/65822440fc2572c159e11923916eb73ef19d5828', 'message': '[ussuri][goal] Updates for python 2.7 drop\n\nOpenStack is dropping the py2.7 support in ussuri cycle except\nswift and sorlets which is exception approved in this goal.\n\nSomehow this repo is left to remove the support of py2.7.\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I7262f3d2e34790e13885a20ca389516f08a75bf9\n'}]",4,723126,65822440fc2572c159e11923916eb73ef19d5828,22,6,3,8556,,,0,"[ussuri][goal] Updates for python 2.7 drop

OpenStack is dropping the py2.7 support in ussuri cycle except
swift and sorlets which is exception approved in this goal.

Somehow this repo is left to remove the support of py2.7.

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I7262f3d2e34790e13885a20ca389516f08a75bf9
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/26/723126/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c8a90ed49d05a7ef5b0f5c5a36c5c2f02e612446,drop-py27-support,python-requires = >=3.6 Programming Language :: Python :: Implementation :: CPython Programming Language :: Python :: 3 :: Only Programming Language :: Python :: 3.6, Programming Language :: Python :: 2 Programming Language :: Python :: 2.7 Programming Language :: Python :: 2.6 Programming Language :: Python :: 3.3,4,4
openstack%2Ftrove-tempest-plugin~master~Ie03a8cfc979cb96d90e2dd47a693043bdaf227ae,openstack/trove-tempest-plugin,master,Ie03a8cfc979cb96d90e2dd47a693043bdaf227ae,Add stable branch jobs on the plugins master gate,ABANDONED,2020-05-05 22:44:09.000000000,2023-06-11 21:53:22.000000000,,"[{'_account_id': 6732}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-05 22:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/0899dbdf086b73514f6753e14633f1798cba5f52', 'message': 'Add stable branch jobs on the plugins master gate\n\nSupported stable branches in maintenance state\n(stein, train, ussuri) use the Tempest and plugins master\nversion for their testing. To make sure master version (new\ntests or any changes) is compatible with stable branch testing,\nwe need to add the stable branches job on the plugins master gate.\nTempest and many other plugins are already testing the stable\nbranches in same way[1].\n\nUssuri onwards, Tempest or plugins are py3 only, so we are\nrunning only python3 version of stable jobs\n\nTempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\n [1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646\n\nChange-Id: Ie03a8cfc979cb96d90e2dd47a693043bdaf227ae\n'}, {'number': 2, 'created': '2020-05-08 21:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/85d6faaffd57d228adef06fd367d4f75bb86fff4', 'message': 'Add stable branch jobs on the plugins master gate\n\nSupported stable branches in maintenance state\n(stein, train, ussuri) use the Tempest and plugins master\nversion for their testing. To make sure master version (new\ntests or any changes) is compatible with stable branch testing,\nwe need to add the stable branches job on the plugins master gate.\nTempest and many other plugins are already testing the stable\nbranches in same way[1].\n\nUssuri onwards, Tempest or plugins are py3 only, so we are\nrunning only python3 version of stable jobs\n\nTempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\n [1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646\n\nChange-Id: Ie03a8cfc979cb96d90e2dd47a693043bdaf227ae\n'}, {'number': 3, 'created': '2020-06-04 22:59:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/ba7e79eb8c50f551a1b661ba11d7c79ce951775d', 'message': 'Add stable branch jobs on the plugins master gate\n\nSupported stable branches in maintenance state\n(stein, train, ussuri) use the Tempest and plugins master\nversion for their testing. To make sure master version (new\ntests or any changes) is compatible with stable branch testing,\nwe need to add the stable branches job on the plugins master gate.\nTempest and many other plugins are already testing the stable\nbranches in same way[1].\n\nUssuri onwards, Tempest or plugins are py3 only, so we are\nrunning only python3 version of stable jobs\n\nTempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\n [1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646\n\nChange-Id: Ie03a8cfc979cb96d90e2dd47a693043bdaf227ae\n'}]",0,725714,ba7e79eb8c50f551a1b661ba11d7c79ce951775d,11,3,3,8556,,,0,"Add stable branch jobs on the plugins master gate

Supported stable branches in maintenance state
(stein, train, ussuri) use the Tempest and plugins master
version for their testing. To make sure master version (new
tests or any changes) is compatible with stable branch testing,
we need to add the stable branches job on the plugins master gate.
Tempest and many other plugins are already testing the stable
branches in same way[1].

Ussuri onwards, Tempest or plugins are py3 only, so we are
running only python3 version of stable jobs

Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

 [1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646

Change-Id: Ie03a8cfc979cb96d90e2dd47a693043bdaf227ae
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/14/725714/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0899dbdf086b73514f6753e14633f1798cba5f52,stable-testing-tempest-plugins, - trove-tempest-plugin-ussuri - trove-tempest-plugin-train - trove-tempest-plugin-stein - job: name: trove-tempest-plugin-ussuri parent: trove-tempest-plugin override-checkout: stable/ussuri - job: name: trove-tempest-plugin-train parent: trove-tempest-plugin override-checkout: stable/train vars: devstack_localrc: USE_PYTHON3: True - job: name: trove-tempest-plugin-stein parent: trove-tempest-plugin override-checkout: stable/stein vars: devstack_localrc: USE_PYTHON3: True,,24,0
openstack%2Fzaqar-tempest-plugin~master~I310ab8ce1f5e6dd34f26a982ecb4b060254f8a9c,openstack/zaqar-tempest-plugin,master,I310ab8ce1f5e6dd34f26a982ecb4b060254f8a9c,Add stable branch jobs on the plugins master gate,ABANDONED,2020-05-05 22:44:42.000000000,2023-06-11 21:53:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-05 22:44:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/eeb4abafdfd35042f3667b4b761aed907609c5bf', 'message': 'Add stable branch jobs on the plugins master gate\n\nSupported stable branches in maintenance state\n(stein, train, ussuri) use the Tempest and plugins master\nversion for their testing. To make sure master version (new\ntests or any changes) is compatible with stable branch testing,\nwe need to add the stable branches job on the plugins master gate.\nTempest and many other plugins are already testing the stable\nbranches in same way[1].\n\nUssuri onwards, Tempest or plugins are py3 only, so we are\nrunning only python3 version of stable jobs\n\nTempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\n [1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646\n\nChange-Id: I310ab8ce1f5e6dd34f26a982ecb4b060254f8a9c\n'}]",0,725717,eeb4abafdfd35042f3667b4b761aed907609c5bf,3,1,1,8556,,,0,"Add stable branch jobs on the plugins master gate

Supported stable branches in maintenance state
(stein, train, ussuri) use the Tempest and plugins master
version for their testing. To make sure master version (new
tests or any changes) is compatible with stable branch testing,
we need to add the stable branches job on the plugins master gate.
Tempest and many other plugins are already testing the stable
branches in same way[1].

Ussuri onwards, Tempest or plugins are py3 only, so we are
running only python3 version of stable jobs

Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

 [1] https://opendev.org/openstack/tempest/src/commit/e8f1876aa6772077f85f380677b30251c2454505/.zuul.yaml#L646

Change-Id: I310ab8ce1f5e6dd34f26a982ecb4b060254f8a9c
",git fetch https://review.opendev.org/openstack/zaqar-tempest-plugin refs/changes/17/725717/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,eeb4abafdfd35042f3667b4b761aed907609c5bf,stable-testing-tempest-plugins,- job: name: zaqar-tempest-plugin-tempest-swift-ussuri parent: zaqar-tempest-plugin-tempest-swift override-checkout: stable/ussuri - job: name: zaqar-tempest-plugin-tempest-swift-train parent: zaqar-tempest-plugin-tempest-swift override-checkout: stable/train vars: devstack_localrc: USE_PYTHON3: True - job: name: zaqar-tempest-plugin-tempest-swift-stein parent: zaqar-tempest-plugin-tempest-swift override-checkout: stable/stein vars: devstack_localrc: USE_PYTHON3: True - zaqar-tempest-plugin-tempest-swift-ussuri - zaqar-tempest-plugin-tempest-swift-train - zaqar-tempest-plugin-tempest-swift-stein,,24,0
openstack%2Fkarbor-dashboard~master~I35c021cac17b83a121e742c4915d5cdffdf33ab4,openstack/karbor-dashboard,master,I35c021cac17b83a121e742c4915d5cdffdf33ab4,Fix hacking min version to 3.0.1,ABANDONED,2020-05-13 00:25:42.000000000,2023-06-11 21:52:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-05-13 00:25:42.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/b631f22272241712a2e40a9b5370a09620718746', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: I35c021cac17b83a121e742c4915d5cdffdf33ab4\n'}]",0,727496,b631f22272241712a2e40a9b5370a09620718746,5,3,1,8556,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: I35c021cac17b83a121e742c4915d5cdffdf33ab4
",git fetch https://review.opendev.org/openstack/karbor-dashboard refs/changes/96/727496/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b631f22272241712a2e40a9b5370a09620718746,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0,<3.1.0 # Apache-2.0",1,1
openstack%2Fpython-zaqarclient~master~I1bb0b4ee8a94d21c0e320672c609c7f13c22cf47,openstack/python-zaqarclient,master,I1bb0b4ee8a94d21c0e320672c609c7f13c22cf47,Fix hacking min version to 3.0.1,ABANDONED,2020-05-13 02:44:35.000000000,2023-06-11 21:52:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-13 02:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/247a90dc905d6ceaaa92e1963d634bf0349d4059', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: I1bb0b4ee8a94d21c0e320672c609c7f13c22cf47\n'}, {'number': 2, 'created': '2020-05-15 15:32:50.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/a282438a40098663de0926e1e6495132d2c07180', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\nAlso removing the hacking and other related dep from lower-constraints file\nas theose are blacklisted requirements and does not need to be present\nthere.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: I1bb0b4ee8a94d21c0e320672c609c7f13c22cf47\n'}]",0,727613,a282438a40098663de0926e1e6495132d2c07180,6,2,2,8556,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

Also removing the hacking and other related dep from lower-constraints file
as theose are blacklisted requirements and does not need to be present
there.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: I1bb0b4ee8a94d21c0e320672c609c7f13c22cf47
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/13/727613/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,247a90dc905d6ceaaa92e1963d634bf0349d4059,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0,<3.1.0 # Apache-2.0",1,1
openstack%2Fswift~master~I866537f6b9d8a0fdb080f5abce938afb2ebdf68b,openstack/swift,master,I866537f6b9d8a0fdb080f5abce938afb2ebdf68b,Bump hacking min version to 3.0.1,ABANDONED,2020-05-12 15:51:07.000000000,2023-06-11 21:52:29.000000000,,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-12 15:51:07.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/0b5fc779458b828e2ba4998ffe52b15a9acf5ecb', 'message': 'Bump hacking min version to 3.0.1\n\nhacking 3.0.1 fix the pinning of flake8 to avoid bringing in a new\nversion with new checks.\n\nbumping the min version for hacking so that any older hacking versions\nwhich auto adopt the new checks are not used.\n\nChange-Id: I866537f6b9d8a0fdb080f5abce938afb2ebdf68b\n'}]",0,727246,0b5fc779458b828e2ba4998ffe52b15a9acf5ecb,12,3,1,8556,,,0,"Bump hacking min version to 3.0.1

hacking 3.0.1 fix the pinning of flake8 to avoid bringing in a new
version with new checks.

bumping the min version for hacking so that any older hacking versions
which auto adopt the new checks are not used.

Change-Id: I866537f6b9d8a0fdb080f5abce938afb2ebdf68b
",git fetch https://review.opendev.org/openstack/swift refs/changes/46/727246/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,0b5fc779458b828e2ba4998ffe52b15a9acf5ecb,hacking-fix,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=2.0,<2.1.0 # Apache-2.0",1,1
openstack%2Fkeystone-tempest-plugin~master~I94854842979216b6a1eeb83df9639855a77f4693,openstack/keystone-tempest-plugin,master,I94854842979216b6a1eeb83df9639855a77f4693,Fix hacking min version to 3.0.1,ABANDONED,2020-05-13 00:26:27.000000000,2023-06-11 21:52:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-05-13 00:26:27.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/cf046cb44af434ec165f92b325d4a3a85765ac12', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: I94854842979216b6a1eeb83df9639855a77f4693\n'}]",0,727500,cf046cb44af434ec165f92b325d4a3a85765ac12,4,2,1,8556,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: I94854842979216b6a1eeb83df9639855a77f4693
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/00/727500/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,cf046cb44af434ec165f92b325d4a3a85765ac12,,"hacking>=3.0.1,<3.1.0;python_version>='3.5' # Apache-2.0","hacking>=3.0,<3.1.0;python_version>='3.5' # Apache-2.0",1,1
openstack%2Fmagnum~master~I922ce32bfc34d1939fa004356b660d7c1e7e9402,openstack/magnum,master,I922ce32bfc34d1939fa004356b660d7c1e7e9402,WIP: Pass additional args to helm command to set/override values yaml,ABANDONED,2023-05-18 02:43:25.000000000,2023-06-11 18:15:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 33467}]","[{'number': 1, 'created': '2023-05-18 02:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d90eef05ad114b579cba6137f73ff3fd0cef44ca', 'message': ""WIP: Pass additional args to helm command to set/override values yaml\n\nProposed approach for passing some values into the helm install command.\nSome OS builds and kubernetes versions require additional arguments to bootstrap properly i.e.\nUbuntu 22.04 with k8s v1.26.*, v1.27.*.\n\nExamples:\n* set up the SSH key on hosts (machineSSHKeyName)\n* Pass DNS networking (clusterNetworking.dnsNameservers)\n* Pass extra arguments for kubeletExtraArgs to mitigate known issue with\n  systemd-resolved (see https://kubernetes.io/docs/tasks/administer-cluster/dns-debugging-resolution/#known-issues)\n\nCurrently passing as a single comma separated string. However this will\nbe modified in future patches to serialised json.\n\nExample:\n\n openstack coe cluster create template \\\n .\n .\n --label helm_extra_args='machineSSHKeyName: test-key,\n         controlPlane.kubeadmConfigSpec.initConfiguration.nodeRegistration.kubeletExtraArgs.resolv-conf=/run/systemd/resolve/resolv.conf,....'\n\nChange-Id: I922ce32bfc34d1939fa004356b660d7c1e7e9402\n""}, {'number': 2, 'created': '2023-05-18 03:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d5f07b780cfe0da06737447ed886d051fcf3c229', 'message': ""WIP: Pass additional args to helm command to set/override values yaml\n\nProposed approach for passing some values into the helm install command.\nSome OS builds and kubernetes versions require additional arguments to bootstrap properly i.e.\nUbuntu 22.04 with k8s v1.26.*, v1.27.*.\n\nExamples:\n* set up the SSH key on hosts (machineSSHKeyName)\n* Pass DNS networking (clusterNetworking.dnsNameservers)\n* Pass extra arguments for kubeletExtraArgs to mitigate known issue with\n  systemd-resolved (see https://kubernetes.io/docs/tasks/administer-cluster/dns-debugging-resolution/#known-issues)\n\nCurrently passing as a single comma separated string. However this will\nbe modified in future patches to serialised json.\n\nExample:\n\n openstack coe cluster create template \\\n .\n .\n --label helm_extra_args='machineSSHKeyName=test-key,\n     controlPlane.kubeadmConfigSpec.initConfiguration.nodeRegistration.kubeletExtraArgs.resolv-conf=/run/systemd/resolve/resolv.conf,....'\n\nChange-Id: I922ce32bfc34d1939fa004356b660d7c1e7e9402\n""}, {'number': 3, 'created': '2023-05-19 18:13:38.000000000', 'files': ['magnum/tests/unit/drivers/cluster_api/test_driver.py', 'magnum/drivers/cluster_api/driver.py', 'magnum/drivers/cluster_api/helm.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/c6f574f7d971369dbebcb5162c1685cd8ff18e19', 'message': ""WIP: Pass additional args to helm command to set/override values yaml\n\nProposed approach for passing some values into the helm install command.\nSome OS builds and kubernetes versions require additional arguments to bootstrap properly i.e.\nUbuntu 22.04 with k8s v1.26.*, v1.27.*.\n\nExamples:\n* override image repository location\n* Pass extra arguments for kubeletExtraArgs to mitigate known issue with\n  systemd-resolved (see https://kubernetes.io/docs/tasks/administer-cluster/dns-debugging-resolution/#known-issues)\n\nCurrently passing as a single comma separated string. However this will\nbe modified in future patches to serialised json.\n\nExample:\n\n openstack coe cluster create template \\\n .\n .\n --label helm_extra_args='machineSSHKeyName: test-key,\n         controlPlane.kubeadmConfigSpec.initConfiguration.nodeRegistration.kubeletExtraArgs.resolv-conf=/run/systemd/resolve/resolv.conf,....'\n\nChange-Id: I922ce32bfc34d1939fa004356b660d7c1e7e9402\n""}]",51,883179,c6f574f7d971369dbebcb5162c1685cd8ff18e19,13,2,3,35921,,,0,"WIP: Pass additional args to helm command to set/override values yaml

Proposed approach for passing some values into the helm install command.
Some OS builds and kubernetes versions require additional arguments to bootstrap properly i.e.
Ubuntu 22.04 with k8s v1.26.*, v1.27.*.

Examples:
* override image repository location
* Pass extra arguments for kubeletExtraArgs to mitigate known issue with
  systemd-resolved (see https://kubernetes.io/docs/tasks/administer-cluster/dns-debugging-resolution/#known-issues)

Currently passing as a single comma separated string. However this will
be modified in future patches to serialised json.

Example:

 openstack coe cluster create template \
 .
 .
 --label helm_extra_args='machineSSHKeyName: test-key,
         controlPlane.kubeadmConfigSpec.initConfiguration.nodeRegistration.kubeletExtraArgs.resolv-conf=/run/systemd/resolve/resolv.conf,....'

Change-Id: I922ce32bfc34d1939fa004356b660d7c1e7e9402
",git fetch https://review.opendev.org/openstack/magnum refs/changes/79/883179/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/unit/drivers/cluster_api/test_driver.py', 'magnum/drivers/cluster_api/driver.py', 'magnum/drivers/cluster_api/helm.py']",3,d90eef05ad114b579cba6137f73ff3fd0cef44ca,extend-set-label-options," helm_extra_args: t.Optional[str] = None, if helm_extra_args: command.extend([""--set"", helm_extra_args])",,79,0
openstack%2Fopenstack-helm-infra~master~I5717d8c6c2de270268a0e14ee4b8abb7969b07bb,openstack/openstack-helm-infra,master,I5717d8c6c2de270268a0e14ee4b8abb7969b07bb,Fix grafana job deployment condition,MERGED,2023-06-08 04:38:19.000000000,2023-06-11 02:21:18.000000000,2023-06-11 02:19:58.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2023-06-08 04:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ed67d8ab1fb998539d31f56038003ede84a85be9', 'message': 'Fix grafana job deployment condition\n\nThe run migrator job should be deployed\nif .Values.manifests.job_run_migrator is true\n\nstory: 2010696\ntask: 47809\nChange-Id: I5717d8c6c2de270268a0e14ee4b8abb7969b07bb\n'}, {'number': 2, 'created': '2023-06-08 11:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8891376887cfe6aa63bc5ee0e248223b2dca5d60', 'message': 'Fix grafana job deployment condition\n\nThe run migrator job should be deployed\nif .Values.manifests.job_run_migrator is true\n\nstory: 2010696\ntask: 47809\nChange-Id: I5717d8c6c2de270268a0e14ee4b8abb7969b07bb\n'}, {'number': 3, 'created': '2023-06-08 13:02:42.000000000', 'files': ['releasenotes/notes/grafana.yaml', 'grafana/templates/job-run-migrator.yaml', 'grafana/Chart.yaml', 'grafana/values_overrides/sqlite3.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2e5920835190e79317b03ccdd4355732748d38c2', 'message': 'Fix grafana job deployment condition\n\nThe run migrator job should be deployed\nif .Values.manifests.job_run_migrator is true\n\nstory: 2010696\ntask: 47809\nChange-Id: I5717d8c6c2de270268a0e14ee4b8abb7969b07bb\n'}]",0,885563,2e5920835190e79317b03ccdd4355732748d38c2,12,3,3,3009,,,0,"Fix grafana job deployment condition

The run migrator job should be deployed
if .Values.manifests.job_run_migrator is true

story: 2010696
task: 47809
Change-Id: I5717d8c6c2de270268a0e14ee4b8abb7969b07bb
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/63/885563/2 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/templates/job-run-migrator.yaml', 'grafana/values_overrides/sqlite3.yaml']",2,ed67d8ab1fb998539d31f56038003ede84a85be9,,dependencies: static: grafana: jobs: null services: null manifests: job_db_init: false job_db_init_session: false job_db_session_sync: false job_image_repo_sync: true job_run_migrator: false job_set_admin_user: false secret_db: false secret_db_session: false conf: grafana: database: type: sqlite3 path: /var/lib/grafana/data/sqlite3.db session: provider: file provider_config: sessions ,,23,1
openstack%2Fopenstack-helm-images~master~I57c50d2feb072192498390437facc06481d57c2f,openstack/openstack-helm-images,master,I57c50d2feb072192498390437facc06481d57c2f,Build 2023.1 images,MERGED,2023-06-07 17:43:26.000000000,2023-06-11 00:54:12.000000000,2023-06-11 00:51:37.000000000,"[{'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 32204}, {'_account_id': 33330}]","[{'number': 1, 'created': '2023-06-07 17:43:26.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/14ce9685b88a1f8794daac0d0d705190efc0753f', 'message': 'Build 2023.1 images\n\nChange-Id: I57c50d2feb072192498390437facc06481d57c2f\n'}]",5,885536,14ce9685b88a1f8794daac0d0d705190efc0753f,25,4,1,3009,,,0,"Build 2023.1 images

Change-Id: I57c50d2feb072192498390437facc06481d57c2f
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/36/885536/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/openstack-loci.yaml']",2,14ce9685b88a1f8794daac0d0d705190efc0753f,," - openstack-helm-images-build-openstack-loci-2023-1-ubuntu_focal - openstack-helm-images-upload-openstack-loci-2023-1-ubuntu_focal - openstack-helm-images-promote-openstack-loci-2023-1-ubuntu_focal - openstack-helm-images-upload-openstack-loci-2023-1-ubuntu_focal - openstack-helm-images-promote-openstack-loci-2023-1-ubuntu_focal: dependencies: [] # - name: openstack-helm-images-compute-kit-2023-1-ubuntu_focal # - name: openstack-helm-images-cinder-2023-1-ubuntu_focal########## # 2023.1 # ########## - job: name: openstack-helm-images-build-openstack-loci-2023-1-ubuntu_focal description: Build LOCI 2023.1 focal images parent: openstack-helm-images-build-openstack-loci-master vars: &build_2023_1_focal_images currentdate: ""{{ now(utc=True,fmt='%Y%m%d') }}"" branchname: ""stable/2023.1"" shortbranchname: ""2023.1"" distroname: ""ubuntu_focal"" from: ""docker.io/ubuntu:20.04"" python3: ""yes"" wheels_location: ""http://172.17.0.1:8080/wheels.tar.gz"" base_repository: ""base"" ceph_repo: ""deb https://download.ceph.com/debian-quincy/ focal main"" ceph_key: ""https://download.ceph.com/keys/release.asc"" base_docker_image: - <<: *base_image prep_docker_images: - <<: *prep_requirements_project docker_images: - <<: *requirements_project - <<: *keystone_project - <<: *glance_project - <<: *cinder_project - <<: *nova_project - <<: *ironic_project - <<: *neutron_project - <<: *horizon_project - <<: *heat_project - <<: *barbican_project - <<: *placement_project - <<: *monasca_api_project - <<: *watcher_project - <<: *cyborg_project - <<: *masakari_project - <<: *masakari_monitors_project - <<: *manila_project - <<: *tacker_project - job: name: openstack-helm-images-upload-openstack-loci-2023-1-ubuntu_focal parent: openstack-helm-images-upload-openstack-loci-master description: Build and upload LOCI 2023.1 focal images vars: *build_2023_1_focal_images - job: name: openstack-helm-images-promote-openstack-loci-2023-1-ubuntu_focal parent: openstack-helm-images-promote-openstack-loci-master description: Promote previously published LOCI 2023.1 focal images vars: *build_2023_1_focal_images ",,119,0
openstack%2Fmanila~stable%2F2023.1~I1f010c4ff9faf837bd50b6c2823cbc526f3a42df,openstack/manila,stable/2023.1,I1f010c4ff9faf837bd50b6c2823cbc526f3a42df,Report PortLimitExceeded error to customer,NEW,2023-06-10 17:45:13.000000000,2023-06-10 22:01:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-10 17:45:13.000000000', 'files': ['releasenotes/notes/report-PortLimitExceeded-error-to-customer-528990dc9574688f.yaml', 'manila/share/manager.py', 'manila/message/message_field.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/e4099b0f0b27a8aad31c69f11c1db69bb703f3a0', 'message': ""Report PortLimitExceeded error to customer\n\nWhen share creation fails due to missing ports quota (\n'manila.exception.PortLimitExceeded: Maximum number of ports\nexceeded.'), error message propogated to user is not useful.\nImprove user message in this scenario.\n\nCloses-bug: #2019846\nChange-Id: I1f010c4ff9faf837bd50b6c2823cbc526f3a42df\n(cherry picked from commit a372e5309821720308d13d8b597be551769e8e4f)\n""}]",0,885486,e4099b0f0b27a8aad31c69f11c1db69bb703f3a0,5,1,1,16643,,,0,"Report PortLimitExceeded error to customer

When share creation fails due to missing ports quota (
'manila.exception.PortLimitExceeded: Maximum number of ports
exceeded.'), error message propogated to user is not useful.
Improve user message in this scenario.

Closes-bug: #2019846
Change-Id: I1f010c4ff9faf837bd50b6c2823cbc526f3a42df
(cherry picked from commit a372e5309821720308d13d8b597be551769e8e4f)
",git fetch https://review.opendev.org/openstack/manila refs/changes/86/885486/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/report-PortLimitExceeded-error-to-customer-528990dc9574688f.yaml', 'manila/share/manager.py', 'manila/message/message_field.py', 'manila/tests/share/test_manager.py']",4,e4099b0f0b27a8aad31c69f11c1db69bb703f3a0,bug/2019846," def test_create_share_instance_with_network_port_limit_exceeded(self): share_network = db_utils.create_share_network(id='fake_sn_id') share_net_subnet = db_utils.create_share_network_subnet( id='fake_sns_id', share_network_id=share_network['id'] ) fake_share = db_utils.create_share( share_network_id=share_network['id'], size=1) fake_metadata = { 'request_host': 'fake_host', 'share_type_id': 'fake_share_type_id', } fake_server = db_utils.create_share_server( id='fake_srv_id', status=constants.STATUS_CREATING, share_network_subnets=[share_net_subnet]) self.mock_object(self.share_manager, '_build_server_metadata', mock.Mock(return_value=fake_metadata)) self.mock_object(db, 'share_server_create', mock.Mock(return_value=fake_server)) self.mock_object(db, 'share_instance_update', mock.Mock(return_value=fake_share.instance)) self.mock_object(db, 'share_instance_get', mock.Mock(return_value=fake_share.instance)) self.mock_object( db, 'share_network_subnets_get_all_by_availability_zone_id', mock.Mock(return_value=[share_net_subnet])) self.mock_object(manager.LOG, 'error') def raise_manila_exception(*args, **kwargs): raise exception.PortLimitExceeded() self.mock_object(self.share_manager, '_setup_server', mock.Mock(side_effect=raise_manila_exception)) self.assertRaises( exception.PortLimitExceeded, self.share_manager.create_share_instance, self.context, fake_share.instance['id'], ) db.share_server_create.assert_called_once_with( utils.IsAMatcher(context.RequestContext), mock.ANY) db.share_instance_update.assert_has_calls([ mock.call( utils.IsAMatcher(context.RequestContext), fake_share.instance['id'], {'status': constants.STATUS_ERROR}, ) ]) self.share_manager._setup_server.assert_called_once_with( utils.IsAMatcher(context.RequestContext), fake_server, fake_metadata) manager.LOG.error.assert_called_with(mock.ANY, fake_share.instance['id']) self.share_manager.message_api.create.assert_called_once_with( utils.IsAMatcher(context.RequestContext), message_field.Action.CREATE, str(fake_share.project_id), resource_type=message_field.Resource.SHARE, resource_id=fake_share['id'], detail=( message_field.Detail.SHARE_NETWORK_PORT_QUOTA_LIMIT_EXCEEDED)) ",,95,0
openstack%2Fmanila~master~Icfdba020267bc1270f7d581b635730f20d99135e,openstack/manila,master,Icfdba020267bc1270f7d581b635730f20d99135e,[DOC] Add doc for Scheduler Hints,MERGED,2023-05-25 14:13:43.000000000,2023-06-10 17:53:52.000000000,2023-06-10 17:52:40.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 33986}]","[{'number': 1, 'created': '2023-05-25 14:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/44a8e3bae732dd2635ad762918d570a175053aa8', 'message': '[DOC] Add doc for Scheduler Hints\n\nCloses-bug: #:2008029\nChange-Id: Icfdba020267bc1270f7d581b635730f20d99135e\n'}, {'number': 2, 'created': '2023-05-25 14:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ecb9265c841568cc0f167af0b9a28c2a1f36051e', 'message': '[DOC] Add doc for Scheduler Hints\n\nCloses-bug: #2008029\nChange-Id: Icfdba020267bc1270f7d581b635730f20d99135e\n'}, {'number': 3, 'created': '2023-05-26 11:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/13bd855d7ff7c8e92bbb04ce67974e21410d8413', 'message': '[DOC] Add doc for Scheduler Hints\n\nCloses-bug: #2008029\nChange-Id: Icfdba020267bc1270f7d581b635730f20d99135e\n'}, {'number': 4, 'created': '2023-05-26 12:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cc5eae1cac7fecb576edfd175cee485350798991', 'message': '[DOC] Add doc for Scheduler Hints\n\nCloses-bug: #2008029\nChange-Id: Icfdba020267bc1270f7d581b635730f20d99135e\n'}, {'number': 5, 'created': '2023-06-09 11:16:18.000000000', 'files': ['doc/source/admin/shared-file-systems-share-replication.rst', 'doc/source/user/create-and-manage-shares.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/21356fee2da6a87a6b432bea8703521d04f9421a', 'message': '[DOC] Add doc for Scheduler Hints\n\nCloses-bug: #2008029\nChange-Id: Icfdba020267bc1270f7d581b635730f20d99135e\n'}]",20,884401,21356fee2da6a87a6b432bea8703521d04f9421a,43,4,5,33648,,,0,"[DOC] Add doc for Scheduler Hints

Closes-bug: #2008029
Change-Id: Icfdba020267bc1270f7d581b635730f20d99135e
",git fetch https://review.opendev.org/openstack/manila refs/changes/01/884401/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/shared-file-systems-share-replication.rst', 'doc/source/user/create-and-manage-shares.rst']",2,44a8e3bae732dd2635ad762918d570a175053aa8,bug/2008029,"* Create a share using scheduler hints to specify the host. With scheduler hints, you can optionally specify the host where the scheduler will place the share. Possible keys are `same_host` and `different_host`, and the value must be the share name or id. .. code-block:: console $ manila create NFS 1 \ --name myshare2 \ --description ""My Manila share - Different Host"" \ --share-network mysharenetwork \ --share-type dhss_true \ --scheduler-hints different_host=myshare +---------------------------------------+-----------------------------------------------------------------------+ | Property | Value | +---------------------------------------+-----------------------------------------------------------------------+ | id | 40de4f4c-4588-4d9c-844b-f74d8951053a | | size | 1 | | availability_zone | None | | created_at | 2020-08-07T05:24:14.000000 | | status | creating | | name | myshare2 | | description | My Manila share - Different Host | | project_id | d9932a60d9ee4087b6cff9ce6e9b4e3b | | snapshot_id | None | | share_network_id | c4bfdd5e-7502-4a65-8876-0ce8b9914a64 | | share_proto | NFS | | metadata | {'__affinity_different_host': '83b0772b-00ad-4e45-8fad-106b9d4f1719'} | | share_type | af7b64ec-cdb3-4a5f-93c9-51672d72e172 | | is_public | False | | snapshot_support | True | | task_state | None | | share_type_name | dhss_true | | access_rules_status | active | | replication_type | None | | has_replicas | False | | user_id | 2cebd96a794f431caa06ce5215e0da21 | | create_share_from_snapshot_support | True | | revert_to_snapshot_support | True | | share_group_id | None | | source_share_group_snapshot_member_id | None | | mount_snapshot_support | True | | progress | None | +---------------------------------------+-----------------------------------------------------------------------+ Share is created in a different host. .. code-block:: console $ manila list +--------------------------------------+-----------+------+-------------+-----------+-----------+-----------------+-----------------------------+-------------------+ | ID | Name | Size | Share Proto | Status | Is Public | Share Type Name | Host | Availability Zone | +--------------------------------------+-----------+------+-------------+-----------+-----------+-----------------+-----------------------------+-------------------+ | 83b0772b-00ad-4e45-8fad-106b9d4f1719 | myshare | 1 | NFS | available | False | default | nosb-devstack@london#LONDON | nova | | 40de4f4c-4588-4d9c-844b-f74d8951053a | myshare2 | 1 | NFS | available | False | default | nosb-devstack@lisboa#LISBOA | nova | +--------------------------------------+-----------+------+-------------+-----------+-----------+-----------------+-----------------------------+-------------------+ ",,63,2
openstack%2Fdevstack~master~Icc3aa69d7bbfa217676402682454cd4b37fb6c29,openstack/devstack,master,Icc3aa69d7bbfa217676402682454cd4b37fb6c29,Updated from generate-devstack-plugins-list,MERGED,2023-06-10 03:08:01.000000000,2023-06-10 08:56:34.000000000,2023-06-10 08:55:22.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-10 03:08:01.000000000', 'files': ['doc/source/plugin-registry.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f1c5442becad6fcdfb16676e8bc99835d4a75b22', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: Icc3aa69d7bbfa217676402682454cd4b37fb6c29\n'}]",0,885811,f1c5442becad6fcdfb16676e8bc99835d4a75b22,7,2,1,11131,,,0,"Updated from generate-devstack-plugins-list

Change-Id: Icc3aa69d7bbfa217676402682454cd4b37fb6c29
",git fetch https://review.opendev.org/openstack/devstack refs/changes/11/885811/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/plugin-registry.rst'],1,f1c5442becad6fcdfb16676e8bc99835d4a75b22,openstack/devstack/plugins,,openstack/networking-hyperv `https://opendev.org/openstack/networking-hyperv <https://opendev.org/openstack/networking-hyperv>`__ openstack/networking-odl `https://opendev.org/openstack/networking-odl <https://opendev.org/openstack/networking-odl>`__ openstack/networking-powervm `https://opendev.org/openstack/networking-powervm <https://opendev.org/openstack/networking-powervm>`__ openstack/networking-sfc `https://opendev.org/openstack/networking-sfc <https://opendev.org/openstack/networking-sfc>`__,0,4
openstack%2Fcharm-ops-sunbeam~main~I3b2b8a8d0d86e471f9c7384cebc19b40556c0a13,openstack/charm-ops-sunbeam,main,I3b2b8a8d0d86e471f9c7384cebc19b40556c0a13,Add pebble ExecError to dbsync retry logic,MERGED,2023-06-10 04:37:03.000000000,2023-06-10 08:50:23.000000000,2023-06-10 08:50:23.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-10 04:37:03.000000000', 'files': ['ops_sunbeam/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/72b2ffaed01b8d66e1baa64d6ffea6b4142d112b', 'message': 'Add pebble ExecError to dbsync retry logic\n\ndbsync retries on ops.pebble.ChangeError. Add\nops.pebble.ExecError as well to the itenacity\nretry param.\n\nChange-Id: I3b2b8a8d0d86e471f9c7384cebc19b40556c0a13\n'}]",0,885813,72b2ffaed01b8d66e1baa64d6ffea6b4142d112b,6,2,1,10366,,,0,"Add pebble ExecError to dbsync retry logic

dbsync retries on ops.pebble.ChangeError. Add
ops.pebble.ExecError as well to the itenacity
retry param.

Change-Id: I3b2b8a8d0d86e471f9c7384cebc19b40556c0a13
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/13/885813/1 && git format-patch -1 --stdout FETCH_HEAD,['ops_sunbeam/charm.py'],1,72b2ffaed01b8d66e1baa64d6ffea6b4142d112b,dbsync-error," retry=( tenacity.retry_if_exception_type(ops.pebble.ChangeError) | tenacity.retry_if_exception_type(ops.pebble.ExecError) ),"," retry=tenacity.retry_if_exception_type(ops.pebble.ChangeError),",4,1
openstack%2Fneutron~master~Id885565e88f6f1898ca5cfac709a24dd62605d1a,openstack/neutron,master,Id885565e88f6f1898ca5cfac709a24dd62605d1a,Allow Multiple External Gateways,MERGED,2023-02-13 15:31:16.000000000,2023-06-10 02:14:29.000000000,2023-06-10 02:13:02.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-02-13 15:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/10b311d32e60506de565f83d37ad0e8370af7e34', 'message': '[WIP] Allow Multiple External Gateways\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 2, 'created': '2023-02-13 20:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad1fb65e884c6c2dcc23d39c29418e6d1a0ee84e', 'message': '[WIP] Allow Multiple External Gateways\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 3, 'created': '2023-02-13 20:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a064a60923c5c25607136d6de3beebee254958a1', 'message': '[WIP] Allow Multiple External Gateways\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 4, 'created': '2023-02-13 23:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe78613a0a687ae7c83ed11d333a22ae505e9a32', 'message': '[WIP] Allow Multiple External Gateways\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 5, 'created': '2023-02-15 14:03:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15bbba35edcc66d8530e419e12b3d960768a6d12', 'message': '[WIP] Allow Multiple External Gateways\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 6, 'created': '2023-02-15 14:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e86fd7f8c313e8245f2b31233fe427f8ec5c7b1', 'message': '[WIP] Allow Multiple External Gateways\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 7, 'created': '2023-02-16 01:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64a969f0c1c83135d623008e83ed03ca577d3acb', 'message': '[WIP] Allow Multiple External Gateways\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 8, 'created': '2023-02-16 12:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/72f1b741861003a32a46f943f2f83fe5e5eccebb', 'message': '[WIP] Allow Multiple External Gateways\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 9, 'created': '2023-02-16 14:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca900726fe05f88cf9a873fb0f4d6069d0a11619', 'message': '[WIP] Allow Multiple External Gateways\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 10, 'created': '2023-02-17 00:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/954ee084cac3c0682ac8b488ad680bd9fb5118a5', 'message': 'Allow Multiple External Gateways\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 11, 'created': '2023-02-17 00:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/555d9642818e4f049fcb38e31084d30f7a16111e', 'message': 'Allow Multiple External Gateways\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 12, 'created': '2023-02-17 08:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/16014a773ebc13fb51af59283bdb9f117b90995b', 'message': 'Allow Multiple External Gateways\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 13, 'created': '2023-02-19 18:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/59c9610b373bc4d959109e246dd7a22019dc6874', 'message': 'Allow Multiple External Gateways\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 14, 'created': '2023-02-20 11:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4982fbd45cddbbc0c1f6414dd73620d5b86761a6', 'message': 'Allow Multiple External Gateways\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 15, 'created': '2023-02-20 15:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ed4f0c65e7a4a200a61162175405baeb2643808', 'message': 'Allow Multiple External Gateways\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 16, 'created': '2023-02-22 10:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9477628f29316cd4f9bead6acc04ba01d1ad5e2f', 'message': 'Allow Multiple External Gateways\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 17, 'created': '2023-02-28 15:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/137437f6a409c3244edbc4fd815cf4f0557f8f16', 'message': 'Allow Multiple External Gateways\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 18, 'created': '2023-02-28 21:14:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/00dcedbeac328efedb6d79d9d54e9535c77ca997', 'message': 'Allow Multiple External Gateways\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 19, 'created': '2023-03-17 13:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4bff3720898d1dd8a6802a427697127fd6f5f38b', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 20, 'created': '2023-03-18 01:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/398750c3fc699865bc06af07782af9d51dd96574', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/870887\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 21, 'created': '2023-03-20 08:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f59e8f55c6f30630c65d88098b41e31bf8aea038', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/870887\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 22, 'created': '2023-03-20 08:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9800ea64cb9867a7f7306cbaa6b9c9a03606eb12', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nhttps: //bugs.launchpad.net/neutron/+bug/2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 23, 'created': '2023-03-21 09:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e25bfde4d982fd536daef56413c0e1bfdb6decb9', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 24, 'created': '2023-03-22 13:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dcca516aba328b209f78bbdc430d281387b60364', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 25, 'created': '2023-03-24 11:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e8d4ab155f5cad2e5757868b192aa55266ca51b', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 26, 'created': '2023-03-27 11:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e33750da3d1fbba5e14d0d92f91fe965f8c14f4b', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 27, 'created': '2023-03-29 10:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/35d1889bc18b39ff9ab974467227e852062d3384', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 28, 'created': '2023-03-29 17:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ba3cae8cc741970711cf5b9b1a81786fcbbb226', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 29, 'created': '2023-03-30 20:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e8b2aae53323b13b7248782bd6436a6b6a795fa', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 30, 'created': '2023-03-31 16:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/001cf47bf814a63d3be7bda51bc897eb036849a1', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 31, 'created': '2023-03-31 16:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/68a7ecf75a03d1c16113cfc73fe19a26229be124', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 32, 'created': '2023-03-31 20:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61c091169cdcd39bfaa2d7ec765101c99406e6dd', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 33, 'created': '2023-04-01 06:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a96782aba11e25a815afff4c5c219f5a5d7cb17b', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 34, 'created': '2023-04-03 12:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0ec9ded7825adc56436dd93f3cdccb5214948b1', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 35, 'created': '2023-04-03 13:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fe22d8e81f767d3c1ac3355cf9c5565a0801bd9', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 36, 'created': '2023-04-04 10:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cbbb4442df5fcb287c7a88dd33caa33f2435db45', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 37, 'created': '2023-04-04 14:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5cebc13908ccdf6e0db36b35316f2029cbb61586', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 38, 'created': '2023-04-13 18:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b6be6100769f3a2982bf18e2437fdb4395d92b66', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 39, 'created': '2023-04-18 18:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e6aae043fa17b833aa19c120b7f897c5c5be7e8', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 40, 'created': '2023-04-27 14:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/006804558e698d042ab7be6b7cd50d2dd72614bf', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 41, 'created': '2023-04-27 17:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75a8df50a861e2a123618fbb92533a4ac250f304', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 42, 'created': '2023-05-02 11:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff67bb780821ac19dd365a7fc56f546bea9d017f', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 43, 'created': '2023-05-02 18:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f7b6455bec61017de9f64453a77724256954164', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 44, 'created': '2023-05-04 00:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ce993e05d70f3d2ea3f2c77ff727db995d2b8a9', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 45, 'created': '2023-05-05 23:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04559c32451d26abcde506d505c36aa54f7de810', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 46, 'created': '2023-05-05 23:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9a18ec65b627d71a5f435ea9098f8355e30b51c', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 47, 'created': '2023-05-08 13:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96d3e96b95c9053da6129a4c7c1c2cd54f2802e1', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 48, 'created': '2023-05-12 06:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1448362a6f0dae8de1f188abd7d5872d71eac67', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 49, 'created': '2023-05-16 21:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a47c9df41ab9263d936eb5d9410cba69c607d63', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 50, 'created': '2023-05-16 21:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/083cb9a1429e85779dd42b9e0e9d9be9dbbe1a40', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 51, 'created': '2023-05-19 09:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ecabbff1ba2c6d4bba540332e8e81384fb145e8e', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}, {'number': 52, 'created': '2023-05-24 23:27:47.000000000', 'files': ['releasenotes/notes/l3-ext-gw-multihoming-99be481ddeaa3a6d.yaml', 'neutron/tests/contrib/hooks/api_all_extensions', 'neutron/db/l3_extra_gws_db.py', 'neutron/extensions/l3_extra_gws.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/db/test_l3_extra_gws_db.py', 'neutron/services/ovn_l3/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a221764751de05e42069f1c097b1025bd9c4fc52', 'message': 'Allow Multiple External Gateways\n\n* Add a new API for adding/updating/removing multiple gateway ports\n  on routers;\n\n* Implement the necessary backend changes.\n\nPartial-Bug: #2002687\nDepends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547\nChange-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a\n'}]",200,873593,a221764751de05e42069f1c097b1025bd9c4fc52,289,9,52,24824,,,0,"Allow Multiple External Gateways

* Add a new API for adding/updating/removing multiple gateway ports
  on routers;

* Implement the necessary backend changes.

Partial-Bug: #2002687
Depends-On: I2618475636b2bb9bfd743a62f5d4859d4f68a547
Change-Id: Id885565e88f6f1898ca5cfac709a24dd62605d1a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/873593/48 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron/db/l3_extra_gws_db.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/db/test_l3_extra_gws_db.py', 'neutron/services/ovn_l3/plugin.py', 'tox.ini', 'neutron/objects/router.py', 'neutron/tests/unit/objects/test_objects.py']",8,10b311d32e60506de565f83d37ad0e8370af7e34,2023-aa-l3-gw-multihoming," 'Router': '1.2-6e0cbe044b86c249faa76cc971d1b2fc',"," 'Router': '1.1-614fa16cc99c60e4fc19ac1b31a52291',",697,7
openstack%2Fglance~stable%2Fwallaby~Ie9a4f289aa1e7c2db1370804ec91e68444051965,openstack/glance,stable/wallaby,Ie9a4f289aa1e7c2db1370804ec91e68444051965,DNM: testing gate,ABANDONED,2023-05-04 20:53:20.000000000,2023-06-10 01:49:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-04 20:53:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/d3a01a95cc83d373f92a4eba108be574809f2f77', 'message': 'DNM: testing gate\n\nChange-Id: Ie9a4f289aa1e7c2db1370804ec91e68444051965\n'}]",0,882360,d3a01a95cc83d373f92a4eba108be574809f2f77,3,1,1,8556,,,0,"DNM: testing gate

Change-Id: Ie9a4f289aa1e7c2db1370804ec91e68444051965
",git fetch https://review.opendev.org/openstack/glance refs/changes/60/882360/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d3a01a95cc83d373f92a4eba108be574809f2f77,, # already running periodic jobs using our unit tests. Those, # already running periodic jobs using our unit tests. Those,1,1
openstack%2Fgrenade~master~Ib0ed4630dca145f10858f1f50ad5419fdae128e9,openstack/grenade,master,Ib0ed4630dca145f10858f1f50ad5419fdae128e9,DNM: test by running tempest on target branch,ABANDONED,2023-03-31 02:33:50.000000000,2023-06-10 01:49:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-31 02:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/22147e3c9934963de7054b444f184a7b9ab25c90', 'message': 'DNM: test by running tempest on target branch\n\nChange-Id: Ib0ed4630dca145f10858f1f50ad5419fdae128e9\n'}, {'number': 2, 'created': '2023-03-31 02:42:00.000000000', 'files': ['.zuul.yaml', 'roles/write-grenade-conf/templates/localrc.j2'], 'web_link': 'https://opendev.org/openstack/grenade/commit/88eb3c3e042d486fda1a9128f8763dc6607e6bec', 'message': 'DNM: test by running tempest on target branch\n\nChange-Id: Ib0ed4630dca145f10858f1f50ad5419fdae128e9\n'}]",0,879115,88eb3c3e042d486fda1a9128f8763dc6607e6bec,4,1,2,8556,,,0,"DNM: test by running tempest on target branch

Change-Id: Ib0ed4630dca145f10858f1f50ad5419fdae128e9
",git fetch https://review.opendev.org/openstack/grenade refs/changes/15/879115/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/write-grenade-conf/templates/localrc.j2'],1,22147e3c9934963de7054b444f184a7b9ab25c90,target-tempest-run,TARGET_RUN_SMOKE=True,TARGET_RUN_SMOKE=False,1,1
openstack%2Fgrenade~stable%2Fxena~I78cac1ab146c157d235595f934f80dcf3efe572c,openstack/grenade,stable/xena,I78cac1ab146c157d235595f934f80dcf3efe572c,DNM: tetsing with running tempest on target,ABANDONED,2023-03-22 19:22:55.000000000,2023-06-10 01:49:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-22 19:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/8aab7e3712c0e23c3f3c57eea74e91daa80de247', 'message': 'DNM: tetsing with running tempest on target\n\nChange-Id: I78cac1ab146c157d235595f934f80dcf3efe572c\n'}, {'number': 2, 'created': '2023-03-30 21:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/9c8fe04a13e7a5a440a3cb84eebad5049ae4e8fc', 'message': 'DNM: tetsing with running tempest on target\n\nChange-Id: I78cac1ab146c157d235595f934f80dcf3efe572c\n'}, {'number': 3, 'created': '2023-03-30 22:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/e05305a1145fffe1d0e4418a812d074077c4ce61', 'message': 'DNM: tetsing with running tempest on target\n\nChange-Id: I78cac1ab146c157d235595f934f80dcf3efe572c\n'}, {'number': 4, 'created': '2023-03-31 01:31:27.000000000', 'files': ['grenade.sh', 'roles/write-grenade-conf/templates/localrc.j2'], 'web_link': 'https://opendev.org/openstack/grenade/commit/ba17c70b83639f931ac4ff5aeb1e711cf1135c4f', 'message': 'DNM: tetsing with running tempest on target\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/879112\n\nChange-Id: I78cac1ab146c157d235595f934f80dcf3efe572c\n'}]",0,878247,ba17c70b83639f931ac4ff5aeb1e711cf1135c4f,8,1,4,8556,,,0,"DNM: tetsing with running tempest on target

Depends-On: https://review.opendev.org/c/openstack/devstack/+/879112

Change-Id: I78cac1ab146c157d235595f934f80dcf3efe572c
",git fetch https://review.opendev.org/openstack/grenade refs/changes/47/878247/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/write-grenade-conf/templates/localrc.j2'],1,8aab7e3712c0e23c3f3c57eea74e91daa80de247,target-test,TARGET_RUN_SMOKE=True,TARGET_RUN_SMOKE=False,1,1
openstack%2Ftempest~master~Idaf9b2a0f637db45704ab85a6d8a5856e32d1ad8,openstack/tempest,master,Idaf9b2a0f637db45704ab85a6d8a5856e32d1ad8,DNM: testing https://review.opendev.org/c/openstack/cinder/+/874865,ABANDONED,2023-03-07 18:36:54.000000000,2023-06-10 01:49:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-07 18:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/42373f5748f520a4ef9c32a836d902538f2ba582', 'message': 'DNM: testing https://review.opendev.org/c/openstack/cinder/+/874865\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/874865\nChange-Id: Idaf9b2a0f637db45704ab85a6d8a5856e32d1ad8\n'}, {'number': 2, 'created': '2023-03-15 19:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9aeadd35615a6c4476ba6ae0a5f898aafa6d0874', 'message': 'DNM: testing https://review.opendev.org/c/openstack/cinder/+/874865\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/874865\nChange-Id: Idaf9b2a0f637db45704ab85a6d8a5856e32d1ad8\n'}, {'number': 3, 'created': '2023-03-15 19:52:45.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2730406c818743add362fabbe610f56c972f35f6', 'message': 'DNM: testing https://review.opendev.org/c/openstack/cinder/+/874865\n\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/874865\nChange-Id: Idaf9b2a0f637db45704ab85a6d8a5856e32d1ad8\n'}]",4,876774,2730406c818743add362fabbe610f56c972f35f6,14,1,3,8556,,,0,"DNM: testing https://review.opendev.org/c/openstack/cinder/+/874865

Depends-On: https://review.opendev.org/c/openstack/cinder/+/874865
Change-Id: Idaf9b2a0f637db45704ab85a6d8a5856e32d1ad8
",git fetch https://review.opendev.org/openstack/tempest refs/changes/74/876774/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,42373f5748f520a4ef9c32a836d902538f2ba582,testmultiattach,#tets https://review.opendev.org/c/openstack/cinder/+/874865,,1,0
openstack%2Fnova~stable%2Fzed~I3f2cb4408467e34df5e258d8cbd8e79f32df17ed,openstack/nova,stable/zed,I3f2cb4408467e34df5e258d8cbd8e79f32df17ed,DNM: testing 2023.1|2 unit tests job template,ABANDONED,2023-03-13 19:10:24.000000000,2023-06-10 01:49:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-13 19:10:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/9bfc8e3ffa2404493df2b502ccbadcf81ed78403', 'message': 'DNM: testing 2023.1|2 unit tests job template\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/873051\nChange-Id: I3f2cb4408467e34df5e258d8cbd8e79f32df17ed\n'}]",0,877263,9bfc8e3ffa2404493df2b502ccbadcf81ed78403,5,1,1,8556,,,0,"DNM: testing 2023.1|2 unit tests job template

Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/873051
Change-Id: I3f2cb4408467e34df5e258d8cbd8e79f32df17ed
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/877263/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9bfc8e3ffa2404493df2b502ccbadcf81ed78403,,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fnova~master~I3f2cb4408467e34df5e258d8cbd8e79f32df17ed,openstack/nova,master,I3f2cb4408467e34df5e258d8cbd8e79f32df17ed,DNM: testing 2023.1|2 unit tests job template,ABANDONED,2023-03-13 19:09:47.000000000,2023-06-10 01:49:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-13 19:09:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/7bd4359cd7c7155240adebc8225b1c46605798fc', 'message': 'DNM: testing 2023.1|2 unit tests job template\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/873051\nChange-Id: I3f2cb4408467e34df5e258d8cbd8e79f32df17ed\n'}]",0,877320,7bd4359cd7c7155240adebc8225b1c46605798fc,7,1,1,8556,,,0,"DNM: testing 2023.1|2 unit tests job template

Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/873051
Change-Id: I3f2cb4408467e34df5e258d8cbd8e79f32df17ed
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/877320/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7bd4359cd7c7155240adebc8225b1c46605798fc,,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fnova~stable%2F2023.1~I3f2cb4408467e34df5e258d8cbd8e79f32df17ed,openstack/nova,stable/2023.1,I3f2cb4408467e34df5e258d8cbd8e79f32df17ed,DNM: testing 2023.1|2 unit tests job template,ABANDONED,2023-03-13 19:10:10.000000000,2023-06-10 01:49:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-13 19:10:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/98790493706a779e6e88006859b1f7a402f63a46', 'message': 'DNM: testing 2023.1|2 unit tests job template\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/873051\nChange-Id: I3f2cb4408467e34df5e258d8cbd8e79f32df17ed\n'}]",0,877262,98790493706a779e6e88006859b1f7a402f63a46,4,1,1,8556,,,0,"DNM: testing 2023.1|2 unit tests job template

Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/873051
Change-Id: I3f2cb4408467e34df5e258d8cbd8e79f32df17ed
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/877262/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,98790493706a779e6e88006859b1f7a402f63a46,,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fdevstack~stable%2Fxena~Ie7d6f9fd662463757f898c6ca97c1c99e70a62fa,openstack/devstack,stable/xena,Ie7d6f9fd662463757f898c6ca97c1c99e70a62fa,DNM: testing gate,ABANDONED,2023-01-27 02:45:41.000000000,2023-06-10 01:48:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-27 02:45:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6a3ea356e0f302be063832132f78ca9fe9c4d059', 'message': 'DNM: testing gate\n\nChange-Id: Ie7d6f9fd662463757f898c6ca97c1c99e70a62fa\n'}]",1,871901,6a3ea356e0f302be063832132f78ca9fe9c4d059,7,1,1,8556,,,0,"DNM: testing gate

Change-Id: Ie7d6f9fd662463757f898c6ca97c1c99e70a62fa
",git fetch https://review.opendev.org/openstack/devstack refs/changes/01/871901/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6a3ea356e0f302be063832132f78ca9fe9c4d059,,#test,,1,0
openstack%2Fnova~stable%2Fxena~If9feb286b411526b18766ce03477552de734d85a,openstack/nova,stable/xena,If9feb286b411526b18766ce03477552de734d85a,DNM: testing requirement-checks job on stable branch,ABANDONED,2022-12-29 04:21:29.000000000,2023-06-10 01:48:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-29 04:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55fc1fbea88312f4caac56bf3bca9db20de9255f', 'message': 'DNM: testing requirement-checks job on stable branch\n\nChange-Id: If9feb286b411526b18766ce03477552de734d85a\n'}, {'number': 2, 'created': '2022-12-29 05:05:17.000000000', 'files': ['requirements.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/70459f3619933a1a7474fdb9547e7a67e1f8074b', 'message': 'DNM: testing requirement-checks job on stable branch\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/868857\n\nChange-Id: If9feb286b411526b18766ce03477552de734d85a\n'}]",0,868853,70459f3619933a1a7474fdb9547e7a67e1f8074b,5,1,2,8556,,,0,"DNM: testing requirement-checks job on stable branch

Depends-On: https://review.opendev.org/c/openstack/requirements/+/868857

Change-Id: If9feb286b411526b18766ce03477552de734d85a
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/868853/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml']",2,55fc1fbea88312f4caac56bf3bca9db20de9255f,,, - integrated-gate-compute - openstack-cover-jobs - openstack-python3-xena-jobs - openstack-python3-xena-jobs-arm64 - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 check: jobs: # We define our own irrelevant-files so we don't run the job # on things like nova docs-only changes. - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *nova-base-irrelevant-files - nova-ceph-multistore: irrelevant-files: *nova-base-irrelevant-files - neutron-linuxbridge-tempest: irrelevant-files: # NOTE(mriedem): This job has its own irrelevant-files section # so that we only run it on changes to networking and libvirt/vif # code; we don't need to run this on all changes. - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ - nova-live-migration - nova-live-migration-ceph - nova-lvm - nova-multi-cell - nova-next - nova-ovs-hybrid-plug - nova-tox-validate-backport: voting: false - nova-tox-functional-centos8-py36 - nova-tox-functional-py38 - nova-tox-functional-py39: voting: false - tempest-integrated-compute: # NOTE(gmann): Policies changes do not need to run all the # integration test jobs. Running only tempest and grenade # common jobs will be enough along with nova functional # and unit tests. irrelevant-files: &policies-irrelevant-files - ^api-.*$ - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^.git.*$ - ^doc/.*$ - ^nova/hacking/.*$ - ^nova/locale/.*$ - ^nova/tests/.*$ - ^nova/test.py$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - nova-grenade-multinode: irrelevant-files: *policies-irrelevant-files - tempest-ipv6-only: irrelevant-files: *nova-base-irrelevant-files - openstacksdk-functional-devstack: irrelevant-files: *nova-base-irrelevant-files - cyborg-tempest: irrelevant-files: *nova-base-irrelevant-files voting: false - barbican-tempest-plugin-simple-crypto: irrelevant-files: *nova-base-irrelevant-files voting: false gate: jobs: - nova-live-migration - nova-live-migration-ceph - nova-tox-functional-centos8-py36 - nova-tox-functional-py38 - nova-multi-cell - nova-next - nova-tox-validate-backport - nova-ceph-multistore: irrelevant-files: *nova-base-irrelevant-files - neutron-linuxbridge-tempest: irrelevant-files: # NOTE(mriedem): This job has its own irrelevant-files section # so that we only run it on changes to networking and libvirt/vif # code; we don't need to run this on all changes. - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ - tempest-integrated-compute: irrelevant-files: *policies-irrelevant-files - nova-grenade-multinode: irrelevant-files: *policies-irrelevant-files - tempest-ipv6-only: irrelevant-files: *nova-base-irrelevant-files - openstacksdk-functional-devstack: irrelevant-files: *nova-base-irrelevant-files experimental: jobs: - ironic-tempest-bfv: irrelevant-files: *nova-base-irrelevant-files - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: irrelevant-files: *nova-base-irrelevant-files - devstack-plugin-nfs-tempest-full: irrelevant-files: *nova-base-irrelevant-files - nova-osprofiler-redis - tempest-full-py3-opensuse15: irrelevant-files: *nova-base-irrelevant-files - tempest-pg-full: irrelevant-files: *nova-base-irrelevant-files - nova-tempest-full-oslo.versionedobjects: irrelevant-files: *nova-base-irrelevant-files - nova-tempest-v2-api: irrelevant-files: *nova-base-irrelevant-files - neutron-ovs-tempest-dvr-ha-multinode-full: irrelevant-files: *nova-base-irrelevant-files - neutron-ovs-tempest-iptables_hybrid: irrelevant-files: *nova-base-irrelevant-files - os-vif-ovs: irrelevant-files: *nova-base-irrelevant-files - devstack-platform-fedora-latest: irrelevant-files: *nova-base-irrelevant-files - devstack-platform-fedora-latest-virt-preview: irrelevant-files: *nova-base-irrelevant-files - devstack-plugin-ceph-compute-local-ephemeral: irrelevant-files: *nova-base-irrelevant-files,1,120
openstack%2Fnova~stable%2Fyoga~I82c07e9efe2a03a36b89608caacb22e18ae04fb0,openstack/nova,stable/yoga,I82c07e9efe2a03a36b89608caacb22e18ae04fb0,DNM force latest tox,ABANDONED,2022-12-21 16:35:35.000000000,2023-06-10 01:48:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-21 16:35:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/76d30a8ba0a6277bf0f9e30ca6fc301b517716b8', 'message': 'DNM force latest tox\n\nThis change will test nova against tox v4 to check compatibility.\n\nChange-Id: I82c07e9efe2a03a36b89608caacb22e18ae04fb0\n'}]",0,868283,76d30a8ba0a6277bf0f9e30ca6fc301b517716b8,4,1,1,8556,,,0,"DNM force latest tox

This change will test nova against tox v4 to check compatibility.

Change-Id: I82c07e9efe2a03a36b89608caacb22e18ae04fb0
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/868283/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,76d30a8ba0a6277bf0f9e30ca6fc301b517716b8,force-tox-v4-stable/yoga, vars: # Ensures latest tox is installed. Switch to '<4' to cap to old tox. ensure_tox_version: '',,3,0
openstack%2Fdevstack~stable%2Fussuri~I10335b106259e445e865384acb1ab4f6960951b7,openstack/devstack,stable/ussuri,I10335b106259e445e865384acb1ab4f6960951b7,DNM: testing sdk job fix,ABANDONED,2022-05-31 00:03:31.000000000,2023-06-10 01:48:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-31 00:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2d8dea0b52b43012172522480183ca029aad6b75', 'message': 'DNM: testing sdk job fix\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/843968\nChange-Id: I10335b106259e445e865384acb1ab4f6960951b7\n'}, {'number': 2, 'created': '2022-05-31 00:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6a7cdb3e6dcde08d0adc5123fd87f04de260abde', 'message': 'DNM: testing sdk job fix\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/843978\nChange-Id: I10335b106259e445e865384acb1ab4f6960951b7\n'}, {'number': 3, 'created': '2022-05-31 01:53:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/05047b45069ed324f76d8cd8a528cf73b8361f4d', 'message': 'DNM: testing sdk job fix\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/843978\nChange-Id: I10335b106259e445e865384acb1ab4f6960951b7\n'}]",1,843969,05047b45069ed324f76d8cd8a528cf73b8361f4d,9,1,3,8556,,,0,"DNM: testing sdk job fix

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/843978
Change-Id: I10335b106259e445e865384acb1ab4f6960951b7
",git fetch https://review.opendev.org/openstack/devstack refs/changes/69/843969/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2d8dea0b52b43012172522480183ca029aad6b75,sdk, #- devstack #- devstack-ipv6 #- devstack-platform-opensuse-15 #- devstack-multinode #- devstack-unit-tests #- openstack-tox-bashate #- ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: # voting: false #- swift-dsvm-functional: # voting: false # irrelevant-files: &dsvm-irrelevant-files # - ^.*\.rst$ # - ^doc/.*$ #- swift-dsvm-functional-py3: # voting: false # irrelevant-files: *dsvm-irrelevant-files #- grenade: # voting: false # irrelevant-files: # - ^.*\.rst$ # - ^doc/.*$ #- tempest-full-py3 #- neutron-grenade-multinode: # voting: false # irrelevant-files: # - ^.*\.rst$ # - ^doc/.*$ #- neutron-tempest-linuxbridge: # irrelevant-files: # - ^.*\.rst$ # - ^doc/.*$ #- tempest-multinode-full-py3: # voting: false # irrelevant-files: # - ^.*\.rst$ # - ^doc/.*$ #- tempest-ipv6-only: # irre#levant-files: # - ^.*\.rst$ # - ^doc/.*$ #- nova-live-migration: # voting: false # irrelevant-files: # - ^.*\.rst$ # - ^doc/.*$, - devstack - devstack-ipv6 - devstack-platform-opensuse-15 - devstack-multinode - devstack-unit-tests - openstack-tox-bashate - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false - swift-dsvm-functional: voting: false irrelevant-files: &dsvm-irrelevant-files - ^.*\.rst$ - ^doc/.*$ - swift-dsvm-functional-py3: voting: false irrelevant-files: *dsvm-irrelevant-files - grenade: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-full-py3 - neutron-grenade-multinode: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-tempest-linuxbridge: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-multinode-full-py3: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - nova-live-migration: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$,45,45
openstack%2Fnova~stable%2Fyoga~I801efdc7d5cb05f8584bbaaeecb9b053b33a6099,openstack/nova,stable/yoga,I801efdc7d5cb05f8584bbaaeecb9b053b33a6099,DNM: test https://review.opendev.org/c/openstack/tempest/+/839647,ABANDONED,2022-04-27 22:56:16.000000000,2023-06-10 01:48:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-27 22:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4b3df2d004bafd66e40d0ea2645b1ca71e84c92', 'message': 'DNM: test https://review.opendev.org/c/openstack/tempest/+/839647\n\nChange-Id: I801efdc7d5cb05f8584bbaaeecb9b053b33a6099\n'}, {'number': 2, 'created': '2022-04-27 23:02:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/179d70c7c62342a184896901553c1a7dd5b8dd34', 'message': 'DNM: test https://review.opendev.org/c/openstack/tempest/+/839647\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/839647\n\nChange-Id: I801efdc7d5cb05f8584bbaaeecb9b053b33a6099\n'}]",0,839653,179d70c7c62342a184896901553c1a7dd5b8dd34,6,1,2,8556,,,0,"DNM: test https://review.opendev.org/c/openstack/tempest/+/839647

Depends-On: https://review.opendev.org/c/openstack/tempest/+/839647

Change-Id: I801efdc7d5cb05f8584bbaaeecb9b053b33a6099
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/839653/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e4b3df2d004bafd66e40d0ea2645b1ca71e84c92,,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fnova~master~I801efdc7d5cb05f8584bbaaeecb9b053b33a6099,openstack/nova,master,I801efdc7d5cb05f8584bbaaeecb9b053b33a6099,DNM: test https://review.opendev.org/c/openstack/tempest/+/839647,ABANDONED,2022-04-27 22:53:53.000000000,2023-06-10 01:48:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-27 22:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce05d555a1f0e20229fae4dee795e1fa6e68f3d0', 'message': 'DNM: test https://review.opendev.org/c/openstack/tempest/+/839647\n\nChange-Id: I801efdc7d5cb05f8584bbaaeecb9b053b33a6099\n'}, {'number': 2, 'created': '2022-04-27 23:02:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/6a88a1c43a311c8e78febba39e5b6f3a15e04260', 'message': 'DNM: test https://review.opendev.org/c/openstack/tempest/+/839647\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/839647\n\nChange-Id: I801efdc7d5cb05f8584bbaaeecb9b053b33a6099\n'}]",0,839648,6a88a1c43a311c8e78febba39e5b6f3a15e04260,6,1,2,8556,,,0,"DNM: test https://review.opendev.org/c/openstack/tempest/+/839647

Depends-On: https://review.opendev.org/c/openstack/tempest/+/839647

Change-Id: I801efdc7d5cb05f8584bbaaeecb9b053b33a6099
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/839648/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ce05d555a1f0e20229fae4dee795e1fa6e68f3d0,,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fnova~stable%2Fxena~I801efdc7d5cb05f8584bbaaeecb9b053b33a6099,openstack/nova,stable/xena,I801efdc7d5cb05f8584bbaaeecb9b053b33a6099,DNM: test https://review.opendev.org/c/openstack/tempest/+/839647,ABANDONED,2022-04-27 22:56:27.000000000,2023-06-10 01:48:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-27 22:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5212b2611065714462f0e99e0daf5daae3307365', 'message': 'DNM: test https://review.opendev.org/c/openstack/tempest/+/839647\n\nChange-Id: I801efdc7d5cb05f8584bbaaeecb9b053b33a6099\n'}, {'number': 2, 'created': '2022-04-27 23:03:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/93332999f15d97fd9d22b10c3ba50b612816e6e6', 'message': 'DNM: test https://review.opendev.org/c/openstack/tempest/+/839647\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/839647\n\nChange-Id: I801efdc7d5cb05f8584bbaaeecb9b053b33a6099\n'}]",0,839654,93332999f15d97fd9d22b10c3ba50b612816e6e6,6,1,2,8556,,,0,"DNM: test https://review.opendev.org/c/openstack/tempest/+/839647

Depends-On: https://review.opendev.org/c/openstack/tempest/+/839647

Change-Id: I801efdc7d5cb05f8584bbaaeecb9b053b33a6099
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/839654/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5212b2611065714462f0e99e0daf5daae3307365,,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fnova~master~Ie78d54add7e80ede22d47385ee7f31ddef0d9355,openstack/nova,master,Ie78d54add7e80ede22d47385ee7f31ddef0d9355,DNM: test grenade skip job running,ABANDONED,2022-03-26 03:04:27.000000000,2023-06-10 01:48:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-03-26 03:04:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/ed79216a66bada0d13d00127fc601792636a808e', 'message': 'DNM: test grenade skip job running\n\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/835232\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/835233\nChange-Id: Ie78d54add7e80ede22d47385ee7f31ddef0d9355\n'}]",0,835351,ed79216a66bada0d13d00127fc601792636a808e,10,1,1,8556,,,0,"DNM: test grenade skip job running

Depends-On: https://review.opendev.org/c/openstack/grenade/+/835232
Depends-On: https://review.opendev.org/c/openstack/grenade/+/835233
Change-Id: Ie78d54add7e80ede22d47385ee7f31ddef0d9355
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/835351/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ed79216a66bada0d13d00127fc601792636a808e,testing-grenade-skip-job,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fnova~stable%2Fyoga~I118eb6a105802dcda4a37e3c2b8e390b415e4804,openstack/nova,stable/yoga,I118eb6a105802dcda4a37e3c2b8e390b415e4804,DNM: test grenade skip job running,ABANDONED,2022-03-26 03:03:26.000000000,2023-06-10 01:47:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-03-26 03:03:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/85ce4678fdf1223d92a76e4b6385a300ca9b486e', 'message': 'DNM: test grenade skip job running\n\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/835232\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/835233\nChange-Id: I118eb6a105802dcda4a37e3c2b8e390b415e4804\n'}]",0,835350,85ce4678fdf1223d92a76e4b6385a300ca9b486e,5,1,1,8556,,,0,"DNM: test grenade skip job running

Depends-On: https://review.opendev.org/c/openstack/grenade/+/835232
Depends-On: https://review.opendev.org/c/openstack/grenade/+/835233
Change-Id: I118eb6a105802dcda4a37e3c2b8e390b415e4804
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/835350/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,85ce4678fdf1223d92a76e4b6385a300ca9b486e,testing-grenade-skip-job,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fnova~stable%2Fwallaby~I65b899d8b603ffc989358dde89fa6c1bda5ca7be,openstack/nova,stable/wallaby,I65b899d8b603ffc989358dde89fa6c1bda5ca7be,DNM: testing centos8 py36 job,ABANDONED,2022-03-22 18:38:06.000000000,2023-06-10 01:47:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-03-22 18:38:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/f1152c05e96f1a8b1d184c2270f3bfd8ca642987', 'message': 'DNM: testing centos8 py36 job\n\nChange-Id: I65b899d8b603ffc989358dde89fa6c1bda5ca7be\n'}]",0,834721,f1152c05e96f1a8b1d184c2270f3bfd8ca642987,7,1,1,8556,,,0,"DNM: testing centos8 py36 job

Change-Id: I65b899d8b603ffc989358dde89fa6c1bda5ca7be
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/834721/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f1152c05e96f1a8b1d184c2270f3bfd8ca642987,,<<<<<<< HEAD (9609ae libvirt: Add announce-self post live-migration workaround)======= >>>>>>> CHANGE (ee291a DNM: testing centos8 py36 job)<<<<<<< HEAD (9609ae libvirt: Add announce-self post live-migration workaround)======= - nova-tox-functional-centos8-py36 >>>>>>> CHANGE (ee291a DNM: testing centos8 py36 job),,7,0
openstack%2Fdevstack~master~Ia17c7a136cbe83efa1ef4e302d1c404034a50cda,openstack/devstack,master,Ia17c7a136cbe83efa1ef4e302d1c404034a50cda,Add manila service to configuration,NEW,2023-04-24 12:49:27.000000000,2023-06-10 01:41:44.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 12:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e3e9ca674776dafe2ea122e85b3d3e355cf8b439', 'message': 'WIP Add manila service to configuration\n\nManila is a service in OpenStack that enables shared filesystems. The\nmodifications add the manila section in nova configuration files\nenabling the virtiofs feature.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nChange-Id: Ia17c7a136cbe83efa1ef4e302d1c404034a50cda\n'}, {'number': 2, 'created': '2023-04-24 13:02:32.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b8f228620f6ad038ab8f31db861580f5e664a280', 'message': 'Add manila service to configuration\n\nManila is a service in OpenStack that enables shared filesystems. The\nmodifications add the manila section in nova configuration files\nenabling the virtiofs feature.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nChange-Id: Ia17c7a136cbe83efa1ef4e302d1c404034a50cda\n'}]",2,881368,b8f228620f6ad038ab8f31db861580f5e664a280,5,2,2,16207,,,0,"Add manila service to configuration

Manila is a service in OpenStack that enables shared filesystems. The
modifications add the manila section in nova configuration files
enabling the virtiofs feature.

Implements: blueprint libvirt-virtiofs-attach-manila-shares
Change-Id: Ia17c7a136cbe83efa1ef4e302d1c404034a50cda
",git fetch https://review.opendev.org/openstack/devstack refs/changes/68/881368/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,e3e9ca674776dafe2ea122e85b3d3e355cf8b439,bp/manila_shares_attachments_v3," PROJECT_VENV[""nova""]=${NOVA_DIR}.venv NOVA_BIN_DIR=${PROJECT_VENV[""nova""]}/bin NOVA_BIN_DIR=$(get_python_exec_prefix) NOVA_SERVICE_PROTOCOL=""https"" die $LINENO ""enabling TLS for the console proxy requires the tls-proxy service"" NOVA_MY_IP=""$HOST_IPV6"" NOVA_MY_IP=""$HOST_IP"" # Load plugin source $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER [[ ,${DISABLED_SERVICES} =~ ,""nova"" ]] && return 1 [[ ,${ENABLED_SERVICES} =~ ,""n-"" ]] && return 0 return 1 [[ ${NOVA_CONSOLE_PROXY_COMPUTE_TLS} = ""True"" ]] && return 0 return 1 # Delete rules sudo iptables -S -v | sed ""s/-c [0-9]* [0-9]* //g"" | grep ""nova"" | grep ""\-A"" | sed ""s/-A/-D/g"" | awk '{print ""sudo iptables"",$0}' | bash # Delete nat rules sudo iptables -S -v -t nat | sed ""s/-c [0-9]* [0-9]* //g"" | grep ""nova"" | grep ""\-A"" | sed ""s/-A/-D/g"" | awk '{print ""sudo iptables -t nat"",$0}' | bash # Delete chains sudo iptables -S -v | sed ""s/-c [0-9]* [0-9]* //g"" | grep ""nova"" | grep ""\-N"" | sed ""s/-N/-X/g"" | awk '{print ""sudo iptables"",$0}' | bash # Delete nat chains sudo iptables -S -v -t nat | sed ""s/-c [0-9]* [0-9]* //g"" | grep ""nova"" | grep ""\-N"" | sed ""s/-N/-X/g"" | awk '{print ""sudo iptables -t nat"",$0}' | bash if is_service_enabled n-cpu; then # Clean iptables from previous runs clean_iptables # Destroy old instances local instances instances=$(sudo virsh list --all | grep $INSTANCE_NAME_PREFIX | sed ""s/.*\($INSTANCE_NAME_PREFIX[0-9a-fA-F]*\).*/\1/g"") if [ ! ""$instances"" = """" ]; then echo $instances | xargs -n1 sudo virsh destroy || true if ! xargs -n1 sudo virsh undefine --managed-save --nvram <<<$instances; then # Can't delete with nvram flags, then just try without this flag xargs -n1 sudo virsh undefine --managed-save <<<$instances fi fi # Logout and delete iscsi sessions local tgts tgts=$(sudo iscsiadm --mode node | grep $VOLUME_NAME_PREFIX | cut -d ' ' -f2) local target for target in $tgts; do sudo iscsiadm --mode node -T $target --logout || true done sudo iscsiadm --mode node --op delete || true # Disconnect all nvmeof connections sudo nvme disconnect-all || true # Clean out the instances directory. sudo rm -rf $NOVA_INSTANCES_PATH/* fi sudo rm -rf $NOVA_STATE_PATH # NOTE(dtroyer): This really should be called from here but due to the way # nova abuses the _cleanup() function we're moving it # directly into cleanup.sh until this can be fixed. #if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then # cleanup_nova_hypervisor #fi stop_process ""n-api"" stop_process ""n-api-meta"" remove_uwsgi_config ""$NOVA_UWSGI_CONF"" ""$NOVA_UWSGI"" remove_uwsgi_config ""$NOVA_METADATA_UWSGI_CONF"" ""$NOVA_METADATA_UWSGI"" if [[ ""$NOVA_BACKEND"" == ""LVM"" ]]; then clean_lvm_volume_group $DEFAULT_VOLUME_GROUP_NAME fi # Put config files in ``/etc/nova`` for everyone to find sudo install -d -o $STACK_USER $NOVA_CONF_DIR configure_rootwrap nova if [[ ""$ENABLED_SERVICES"" =~ ""n-api"" ]]; then # Get the sample configuration file in place cp $NOVA_DIR/etc/nova/api-paste.ini $NOVA_CONF_DIR fi if is_service_enabled n-cpu; then # Force IP forwarding on, just on case sudo sysctl -w net.ipv4.ip_forward=1 if [[ ""$VIRT_DRIVER"" = 'libvirt' ]]; then # Check for kvm (hardware based virtualization). If unable to initialize # kvm, we drop back to the slower emulation mode (qemu). Note: many systems # come with hardware virtualization disabled in BIOS. if [[ ""$LIBVIRT_TYPE"" == ""kvm"" ]]; then sudo modprobe kvm || true if [ ! -e /dev/kvm ]; then echo ""WARNING: Switching to QEMU"" LIBVIRT_TYPE=qemu LIBVIRT_CPU_MODE=custom LIBVIRT_CPU_MODEL=Nehalem if which selinuxenabled >/dev/null 2>&1 && selinuxenabled; then # https://bugzilla.redhat.com/show_bug.cgi?id=753589 sudo setsebool virt_use_execmem on fi fi fi # Install and configure **LXC** if specified. LXC is another approach to # splitting a system into many smaller parts. LXC uses cgroups and chroot # to simulate multiple systems. if [[ ""$LIBVIRT_TYPE"" == ""lxc"" ]]; then if is_ubuntu; then # enable nbd for lxc unless you're using an lvm backend # otherwise you can't boot instances if [[ ""$NOVA_BACKEND"" != ""LVM"" ]]; then sudo modprobe nbd fi fi fi fi # Instance Storage # ---------------- # Nova stores each instance in its own directory. sudo install -d -o $STACK_USER $NOVA_INSTANCES_PATH # You can specify a different disk to be mounted and used for backing the # virtual machines. If there is a partition labeled nova-instances we # mount it (ext filesystems can be labeled via e2label). if [ -L /dev/disk/by-label/nova-instances ]; then if ! mount -n | grep -q $NOVA_INSTANCES_PATH; then sudo mount -L nova-instances $NOVA_INSTANCES_PATH sudo chown -R $STACK_USER $NOVA_INSTANCES_PATH fi fi # Due to cinder bug #1966513 we ALWAYS need an initiator name for LVM # Ensure each compute host uses a unique iSCSI initiator echo InitiatorName=$(iscsi-iname) | sudo tee /etc/iscsi/initiatorname.iscsi if [[ ${ISCSID_DEBUG} == ""True"" ]]; then # Install an override that starts iscsid with debugging # enabled. cat >/tmp/iscsid.override <<EOF sudo mkdir -p /etc/systemd/system/iscsid.service.d sudo mv /tmp/iscsid.override /etc/systemd/system/iscsid.service.d/override.conf sudo systemctl daemon-reload fi # set chap algorithms. The default chap_algorithm is md5 which will # not work under FIPS. iniset -sudo /etc/iscsi/iscsid.conf DEFAULT ""node.session.auth.chap_algs"" ""SHA3-256,SHA256"" if [[ $CINDER_TARGET_HELPER != 'nvmet' ]]; then # ensure that iscsid is started, even when disabled by default restart_service iscsid # For NVMe-oF we need different packages that many not be present else install_package nvme-cli sudo modprobe nvme-fabrics # Ensure NVMe is ready and create the Soft-RoCE device over the networking interface if [[ $CINDER_TARGET_PROTOCOL == 'nvmet_rdma' ]]; then sudo modprobe nvme-rdma iface=${HOST_IP_IFACE:-$(ip -br -$SERVICE_IP_VERSION a | grep $NOVA_MY_IP | awk '{print $1}')} if ! sudo rdma link | grep $iface; then sudo rdma link add rxe_$iface type rxe netdev $iface fi elif [[ $CINDER_TARGET_PROTOCOL == 'nvmet_tcp' ]]; then sudo modprobe nvme-tcp else # 'nvmet_fc' sudo modprobe nvme-fc fi fi fi # Rebuild the config file from scratch create_nova_conf if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then # Configure hypervisor plugin configure_nova_hypervisor fi # Nova if [[ ""$ENABLED_SERVICES"" =~ ""n-api"" ]]; then # NOTE(jamielennox): Nova doesn't need the admin role here, however neutron uses # this service user when notifying nova of changes and that requires the admin role. create_service_user ""nova"" ""admin"" local nova_api_url if [[ ""$NOVA_USE_MOD_WSGI"" == ""False"" ]]; then nova_api_url=""$NOVA_SERVICE_PROTOCOL://$NOVA_SERVICE_HOST:$NOVA_SERVICE_PORT"" else nova_api_url=""$NOVA_SERVICE_PROTOCOL://$NOVA_SERVICE_HOST/compute"" fi get_or_create_service ""nova_legacy"" ""compute_legacy"" ""Nova Compute Service (Legacy 2.0)"" get_or_create_endpoint \ ""compute_legacy"" \ ""$REGION_NAME"" \ ""$nova_api_url/v2/\$(project_id)s"" get_or_create_service ""nova"" ""compute"" ""Nova Compute Service"" get_or_create_endpoint \ ""compute"" \ ""$REGION_NAME"" \ ""$nova_api_url/v2.1"" fi if is_service_enabled n-api; then # Swift if is_service_enabled swift; then # Nova needs ResellerAdmin role to download images when accessing # swift through the s3 api. get_or_add_user_project_role ResellerAdmin nova $SERVICE_PROJECT_NAME $SERVICE_DOMAIN_NAME $SERVICE_DOMAIN_NAME fi fi # S3 if is_service_enabled s3api; then get_or_create_service ""s3"" ""s3"" ""S3"" get_or_create_endpoint \ ""s3"" \ ""$REGION_NAME"" \ ""http://$SERVICE_HOST:$S3_SERVICE_PORT"" \ ""http://$SERVICE_HOST:$S3_SERVICE_PORT"" \ ""http://$SERVICE_HOST:$S3_SERVICE_PORT"" fi # Unified limits if is_service_enabled n-api; then if [[ ""$NOVA_USE_UNIFIED_LIMITS"" = True ]]; then configure_nova_unified_limits fi fi # Remove legacy ``nova.conf`` rm -f $NOVA_DIR/bin/nova.conf # (Re)create ``nova.conf`` rm -f $NOVA_CONF iniset $NOVA_CONF DEFAULT debug ""$ENABLE_DEBUG_LOG_LEVEL"" if [ ""$NOVA_ALLOW_MOVE_TO_SAME_HOST"" == ""True"" ]; then iniset $NOVA_CONF DEFAULT allow_resize_to_same_host ""True"" fi iniset $NOVA_CONF wsgi api_paste_config ""$NOVA_API_PASTE_INI"" iniset $NOVA_CONF DEFAULT rootwrap_config ""$NOVA_CONF_DIR/rootwrap.conf"" iniset $NOVA_CONF filter_scheduler enabled_filters ""$NOVA_FILTERS"" iniset $NOVA_CONF scheduler workers ""$API_WORKERS"" iniset $NOVA_CONF neutron default_floating_pool ""$PUBLIC_NETWORK_NAME"" iniset $NOVA_CONF DEFAULT my_ip ""$NOVA_MY_IP"" iniset $NOVA_CONF DEFAULT instance_name_template ""${INSTANCE_NAME_PREFIX}%08x"" iniset $NOVA_CONF DEFAULT osapi_compute_listen ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $NOVA_CONF DEFAULT metadata_listen ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $NOVA_CONF DEFAULT shutdown_timeout $NOVA_SHUTDOWN_TIMEOUT iniset $NOVA_CONF key_manager backend nova.keymgr.conf_key_mgr.ConfKeyManager if is_fedora; then # nova defaults to /usr/local/bin, but fedora pip like to # install things in /usr/bin iniset $NOVA_CONF DEFAULT bindir ""/usr/bin"" fi # only setup database connections and cache backend if there are services # that require them running on the host. The ensures that n-cpu doesn't # leak a need to use the db in a multinode scenario. if is_service_enabled n-api n-cond n-sched; then # If we're in multi-tier cells mode, we want our control services pointing # at cell0 instead of cell1 to ensure isolation. If not, we point everything # at the main database like normal. if [[ ""$CELLSV2_SETUP"" == ""singleconductor"" ]]; then local db=""nova_cell1"" else local db=""nova_cell0"" # When in superconductor mode, nova-compute can't send instance # info updates to the scheduler, so just disable it. iniset $NOVA_CONF filter_scheduler track_instance_changes False fi iniset $NOVA_CONF database connection $(database_connection_url $db) iniset $NOVA_CONF api_database connection $(database_connection_url nova_api) # Cache related settings # Those settings aren't really needed in n-cpu thus it is configured # only on nodes which runs controller services iniset $NOVA_CONF cache enabled $NOVA_ENABLE_CACHE iniset $NOVA_CONF cache backend $CACHE_BACKEND iniset $NOVA_CONF cache memcache_servers $MEMCACHE_SERVERS fi if is_service_enabled n-api; then if is_service_enabled n-api-meta; then # If running n-api-meta as a separate service NOVA_ENABLED_APIS=$(echo $NOVA_ENABLED_APIS | sed ""s/,metadata//"") fi iniset $NOVA_CONF DEFAULT enabled_apis ""$NOVA_ENABLED_APIS"" if [[ ""$NOVA_ENFORCE_SCOPE"" == ""True"" || ""$ENFORCE_SCOPE"" == ""True"" ]]; then iniset $NOVA_CONF oslo_policy enforce_new_defaults True iniset $NOVA_CONF oslo_policy enforce_scope True else iniset $NOVA_CONF oslo_policy enforce_new_defaults False iniset $NOVA_CONF oslo_policy enforce_scope False fi if is_service_enabled tls-proxy && [ ""$NOVA_USE_MOD_WSGI"" == ""False"" ]; then # Set the service port for a proxy to take the original iniset $NOVA_CONF DEFAULT osapi_compute_listen_port ""$NOVA_SERVICE_PORT_INT"" iniset $NOVA_CONF DEFAULT osapi_compute_link_prefix $NOVA_SERVICE_PROTOCOL://$NOVA_SERVICE_HOST:$NOVA_SERVICE_PORT fi configure_keystone_authtoken_middleware $NOVA_CONF nova fi if is_service_enabled cinder; then configure_cinder_access fi if is_service_enabled manila; then configure_manila_access fi if [ -n ""$NOVA_STATE_PATH"" ]; then iniset $NOVA_CONF DEFAULT state_path ""$NOVA_STATE_PATH"" iniset $NOVA_CONF oslo_concurrency lock_path ""$NOVA_STATE_PATH"" fi if [ -n ""$NOVA_INSTANCES_PATH"" ]; then iniset $NOVA_CONF DEFAULT instances_path ""$NOVA_INSTANCES_PATH"" fi if [ ""$SYSLOG"" != ""False"" ]; then iniset $NOVA_CONF DEFAULT use_syslog ""True"" fi if [ ""$FORCE_CONFIG_DRIVE"" != ""False"" ]; then iniset $NOVA_CONF DEFAULT force_config_drive ""$FORCE_CONFIG_DRIVE"" fi # nova defaults to genisoimage but only mkisofs is available for 15.0+ # rhel provides mkisofs symlink to genisoimage or xorriso appropiately if is_fedora; then iniset $NOVA_CONF DEFAULT mkisofs_cmd /usr/bin/mkisofs fi # Format logging setup_logging $NOVA_CONF iniset $NOVA_CONF upgrade_levels compute ""auto"" if is_service_enabled n-api; then write_uwsgi_config ""$NOVA_UWSGI_CONF"" ""$NOVA_UWSGI"" ""/compute"" fi if is_service_enabled n-api-meta; then write_uwsgi_config ""$NOVA_METADATA_UWSGI_CONF"" ""$NOVA_METADATA_UWSGI"" """" ""$SERVICE_LISTEN_ADDRESS:${METADATA_SERVICE_PORT}"" fi if is_service_enabled ceilometer; then iniset $NOVA_CONF DEFAULT instance_usage_audit ""True"" iniset $NOVA_CONF DEFAULT instance_usage_audit_period ""hour"" iniset $NOVA_CONF DEFAULT notify_on_state_change ""vm_and_task_state"" fi # Set the oslo messaging driver to the typical default. This does not # enable notifications, but it will allow them to function when enabled. iniset $NOVA_CONF oslo_messaging_notifications driver ""messagingv2"" iniset $NOVA_CONF oslo_messaging_notifications transport_url $(get_notification_url) iniset $NOVA_CONF notifications notification_format ""$NOVA_NOTIFICATION_FORMAT"" iniset_rpc_backend nova $NOVA_CONF iniset $NOVA_CONF DEFAULT osapi_compute_workers ""$API_WORKERS"" iniset $NOVA_CONF DEFAULT metadata_workers ""$API_WORKERS"" # don't let the conductor get out of control now that we're using a pure python db driver iniset $NOVA_CONF conductor workers ""$API_WORKERS"" if is_service_enabled tls-proxy; then iniset $NOVA_CONF DEFAULT glance_protocol https iniset $NOVA_CONF oslo_middleware enable_proxy_headers_parsing True fi iniset $NOVA_CONF DEFAULT graceful_shutdown_timeout ""$SERVICE_GRACEFUL_SHUTDOWN_TIMEOUT"" if [ ""$NOVA_USE_SERVICE_TOKEN"" == ""True"" ]; then init_nova_service_user_conf fi if is_service_enabled n-cond; then for i in $(seq 1 $NOVA_NUM_CELLS); do local conf local vhost conf=$(conductor_conf $i) vhost=""nova_cell${i}"" # clean old conductor conf rm -f $conf iniset $conf database connection $(database_connection_url nova_cell${i}) iniset $conf conductor workers ""$API_WORKERS"" iniset $conf DEFAULT debug ""$ENABLE_DEBUG_LOG_LEVEL"" # if we have a singleconductor, we don't have per host message queues. if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then iniset_rpc_backend nova $conf DEFAULT else rpc_backend_add_vhost $vhost iniset_rpc_backend nova $conf DEFAULT $vhost # When running in superconductor mode, the cell conductor # must be configured to talk to the placement service for # reschedules to work. if is_service_enabled placement placement-client; then configure_placement_nova_compute $conf fi fi # Format logging setup_logging $conf done fi # Console proxy configuration has to go after conductor configuration # because the per cell config file nova_cellN.conf is cleared out as part # of conductor configuration. if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then configure_console_proxies else for i in $(seq 1 $NOVA_NUM_CELLS); do local conf local offset conf=$(conductor_conf $i) offset=$((i - 1)) configure_console_proxies $conf $offset done fi # Use the provided config file path or default to $NOVA_CONF. local conf=${1:-$NOVA_CONF} iniset $conf placement auth_type ""password"" iniset $conf placement auth_url ""$KEYSTONE_SERVICE_URI"" iniset $conf placement username placement iniset $conf placement password ""$SERVICE_PASSWORD"" iniset $conf placement user_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $conf placement project_name ""$SERVICE_TENANT_NAME"" iniset $conf placement project_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $conf placement region_name ""$REGION_NAME"" iniset $NOVA_CONF cinder os_region_name ""$REGION_NAME"" iniset $NOVA_CONF cinder auth_type ""password"" iniset $NOVA_CONF cinder auth_url ""$KEYSTONE_SERVICE_URI"" # NOTE(mriedem): This looks a bit weird but we use the nova user here # since it has the admin role and the cinder user does not. This is # similar to using the nova user in init_nova_service_user_conf. We need # to use a user with the admin role for background tasks in nova to # be able to GET block-storage API resources owned by another project # since cinder has low-level ""is_admin"" checks in its DB API. iniset $NOVA_CONF cinder username nova iniset $NOVA_CONF cinder password ""$SERVICE_PASSWORD"" iniset $NOVA_CONF cinder user_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $NOVA_CONF cinder project_name ""$SERVICE_TENANT_NAME"" iniset $NOVA_CONF cinder project_domain_name ""$SERVICE_DOMAIN_NAME"" if is_service_enabled tls-proxy; then CINDER_SERVICE_HOST=${CINDER_SERVICE_HOST:-$SERVICE_HOST} CINDER_SERVICE_PORT=${CINDER_SERVICE_PORT:-8776} iniset $NOVA_CONF cinder cafile $SSL_BUNDLE_FILE fi } # Configure access to manila. function configure_manila_access { iniset $NOVA_CONF manila os_region_name ""$REGION_NAME"" iniset $NOVA_CONF manila auth_type ""password"" iniset $NOVA_CONF manila auth_url ""$KEYSTONE_SERVICE_URI"" # NOTE(mriedem): This looks a bit weird but we use the nova user here # since it has the admin role and the manila user does not. This is # similar to using the nova user in init_nova_service_user_conf. We need # to use a user with the admin role for background tasks in nova to # be able to GET block-storage API resources owned by another project # since manila has low-level ""is_admin"" checks in its DB API. iniset $NOVA_CONF manila username nova iniset $NOVA_CONF manila password ""$SERVICE_PASSWORD"" iniset $NOVA_CONF manila user_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $NOVA_CONF manila project_name ""$SERVICE_TENANT_NAME"" iniset $NOVA_CONF manila project_domain_name ""$SERVICE_DOMAIN_NAME"" # If we are running multiple cells (and thus multiple console proxies) on a # single host, we offset the ports to avoid collisions. We need to # correspondingly configure the console proxy port for nova-compute and we # can use the NOVA_CPU_CELL variable to know which cell we are for # calculating the offset. # Stagger the offset based on the total number of possible console proxies # (novnc, spice, serial) so that their ports will not collide if # all are enabled. local offset offset=$(((NOVA_CPU_CELL - 1) * 3)) # Use the host IP instead of the service host because for multi-node, the # service host will be the controller only. local default_proxyclient_addr default_proxyclient_addr=$(iniget $NOVA_CPU_CONF DEFAULT my_ip) # All nova-compute workers need to know the vnc configuration options # These settings don't hurt anything if n-novnc is disabled if is_service_enabled n-cpu; then if [ ""$NOVNC_FROM_PACKAGE"" == ""True"" ]; then # Use the old URL when installing novnc packages. NOVNCPROXY_URL=${NOVNCPROXY_URL:-""http://$SERVICE_HOST:$((6080 + offset))/vnc_auto.html""} elif vercmp ${NOVNC_BRANCH} ""<"" ""1.0.0""; then # Use the old URL when installing older novnc source. NOVNCPROXY_URL=${NOVNCPROXY_URL:-""http://$SERVICE_HOST:$((6080 + offset))/vnc_auto.html""} else # Use the new URL when building >=v1.0.0 from source. NOVNCPROXY_URL=${NOVNCPROXY_URL:-""http://$SERVICE_HOST:$((6080 + offset))/vnc_lite.html""} fi iniset $NOVA_CPU_CONF vnc novncproxy_base_url ""$NOVNCPROXY_URL"" SPICEHTML5PROXY_URL=${SPICEHTML5PROXY_URL:-""http://$SERVICE_HOST:$((6081 + offset))/spice_auto.html""} iniset $NOVA_CPU_CONF spice html5proxy_base_url ""$SPICEHTML5PROXY_URL"" fi if is_service_enabled n-novnc || [ ""$NOVA_VNC_ENABLED"" != False ]; then # Address on which instance vncservers will listen on compute hosts. # For multi-host, this should be the management ip of the compute host. VNCSERVER_LISTEN=${VNCSERVER_LISTEN:-$NOVA_SERVICE_LISTEN_ADDRESS} VNCSERVER_PROXYCLIENT_ADDRESS=${VNCSERVER_PROXYCLIENT_ADDRESS:-$default_proxyclient_addr} iniset $NOVA_CPU_CONF vnc server_listen ""$VNCSERVER_LISTEN"" iniset $NOVA_CPU_CONF vnc server_proxyclient_address ""$VNCSERVER_PROXYCLIENT_ADDRESS"" else iniset $NOVA_CPU_CONF vnc enabled false fi if is_service_enabled n-spice; then # Address on which instance spiceservers will listen on compute hosts. # For multi-host, this should be the management ip of the compute host. SPICESERVER_PROXYCLIENT_ADDRESS=${SPICESERVER_PROXYCLIENT_ADDRESS:-$default_proxyclient_addr} SPICESERVER_LISTEN=${SPICESERVER_LISTEN:-$NOVA_SERVICE_LISTEN_ADDRESS} iniset $NOVA_CPU_CONF spice enabled true iniset $NOVA_CPU_CONF spice server_listen ""$SPICESERVER_LISTEN"" iniset $NOVA_CPU_CONF spice server_proxyclient_address ""$SPICESERVER_PROXYCLIENT_ADDRESS"" fi if is_service_enabled n-sproxy; then iniset $NOVA_CPU_CONF serial_console enabled True iniset $NOVA_CPU_CONF serial_console base_url ""ws://$SERVICE_HOST:$((6082 + offset))/"" fi # Use the provided config file path or default to $NOVA_CONF. local conf=${1:-$NOVA_CONF} local offset=${2:-0} # Stagger the offset based on the total number of possible console proxies # (novnc, spice, serial) so that their ports will not collide if # all are enabled. offset=$((offset * 3)) if is_service_enabled n-novnc || [ ""$NOVA_VNC_ENABLED"" != False ]; then iniset $conf vnc novncproxy_host ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $conf vnc novncproxy_port $((6080 + offset)) if is_nova_console_proxy_compute_tls_enabled; then iniset $conf vnc auth_schemes ""vencrypt"" iniset $conf vnc vencrypt_client_key ""/etc/pki/nova-novnc/client-key.pem"" iniset $conf vnc vencrypt_client_cert ""/etc/pki/nova-novnc/client-cert.pem"" iniset $conf vnc vencrypt_ca_certs ""/etc/pki/nova-novnc/ca-cert.pem"" sudo mkdir -p /etc/pki/nova-novnc deploy_int_CA /etc/pki/nova-novnc/ca-cert.pem deploy_int_cert /etc/pki/nova-novnc/client-cert.pem /etc/pki/nova-novnc/client-key.pem # OpenSSL 1.1.0 generates the key file with permissions: 600, by # default, and the deploy_int* methods use 'sudo cp' to copy the # files, making them owned by root:root. # Change ownership of everything under /etc/pki/nova-novnc to # $STACK_USER:$(id -g ${STACK_USER}) so that $STACK_USER can read # the key file. sudo chown -R $STACK_USER:$(id -g ${STACK_USER}) /etc/pki/nova-novnc # This is needed to enable TLS in the proxy itself, example log: # WebSocket server settings: # - Listen on 0.0.0.0:6080 # - Flash security policy server # - Web server (no directory listings). Web root: /usr/share/novnc # - SSL/TLS support # - proxying from 0.0.0.0:6080 to None:None iniset $conf DEFAULT key ""/etc/pki/nova-novnc/client-key.pem"" iniset $conf DEFAULT cert ""/etc/pki/nova-novnc/client-cert.pem"" fi fi if is_service_enabled n-spice; then iniset $conf spice html5proxy_host ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $conf spice html5proxy_port $((6081 + offset)) fi if is_service_enabled n-sproxy; then iniset $conf serial_console serialproxy_host ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $conf serial_console serialproxy_port $((6082 + offset)) fi # Registered limit resources in keystone are system-specific resources. # Make sure we use a system-scoped token to interact with this API. # Default limits here mirror the legacy config-based default values. # Note: disk quota is new in nova as of unified limits. openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 10 --region $REGION_NAME servers openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 20 --region $REGION_NAME class:VCPU openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit $((50 * 1024)) --region $REGION_NAME class:MEMORY_MB openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 20 --region $REGION_NAME class:DISK_GB openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 128 --region $REGION_NAME server_metadata_items openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 5 --region $REGION_NAME server_injected_files openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 10240 --region $REGION_NAME server_injected_file_content_bytes openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 255 --region $REGION_NAME server_injected_file_path_bytes openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 100 --region $REGION_NAME server_key_pairs openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 10 --region $REGION_NAME server_groups openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 10 --region $REGION_NAME server_group_members # Tell nova to use these limits iniset $NOVA_CONF quota driver ""nova.quota.UnifiedLimitsDriver"" # Configure oslo_limit so it can talk to keystone iniset $NOVA_CONF oslo_limit user_domain_name $SERVICE_DOMAIN_NAME iniset $NOVA_CONF oslo_limit password $SERVICE_PASSWORD iniset $NOVA_CONF oslo_limit username nova iniset $NOVA_CONF oslo_limit auth_type password iniset $NOVA_CONF oslo_limit auth_url $KEYSTONE_SERVICE_URI iniset $NOVA_CONF oslo_limit system_scope all iniset $NOVA_CONF oslo_limit endpoint_id \ $(openstack endpoint list --service nova -f value -c ID) # Allow the nova service user to read quotas openstack --os-cloud devstack-system-admin role add --user nova \ --user-domain $SERVICE_DOMAIN_NAME --system all reader iniset $NOVA_CONF service_user send_service_user_token True iniset $NOVA_CONF service_user auth_type password iniset $NOVA_CONF service_user auth_url ""$KEYSTONE_SERVICE_URI"" iniset $NOVA_CONF service_user username nova iniset $NOVA_CONF service_user password ""$SERVICE_PASSWORD"" iniset $NOVA_CONF service_user user_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $NOVA_CONF service_user project_name ""$SERVICE_PROJECT_NAME"" iniset $NOVA_CONF service_user project_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $NOVA_CONF service_user auth_strategy keystone local cell=""$1"" echo ""${NOVA_CONF_DIR}/nova_cell${cell}.conf"" # Create keys dir sudo install -d -o $STACK_USER ${NOVA_STATE_PATH} ${NOVA_STATE_PATH}/keys local dbname=""$1"" local conffile=""$2"" recreate_database $dbname $NOVA_BIN_DIR/nova-manage --config-file $conffile db sync --local_cell # All nova components talk to a central database. # Only do this step once on the API node for an entire cluster. if is_service_enabled $DATABASE_BACKENDS && is_service_enabled n-api; then # (Re)create nova databases if [[ ""$CELLSV2_SETUP"" == ""singleconductor"" ]]; then # If we are doing singleconductor mode, we have some strange # interdependencies. in that the main config refers to cell1 # instead of cell0. In that case, just make sure the cell0 database # is created before we need it below, but don't db_sync it until # after the cellN databases are there. recreate_database nova_cell0 else async_run nova-cell-0 init_nova_db nova_cell0 $NOVA_CONF fi for i in $(seq 1 $NOVA_NUM_CELLS); do async_run nova-cell-$i init_nova_db nova_cell${i} $(conductor_conf $i) done recreate_database $NOVA_API_DB $NOVA_BIN_DIR/nova-manage --config-file $NOVA_CONF api_db sync # map_cell0 will create the cell mapping record in the nova_api DB so # this needs to come after the api_db sync happens. $NOVA_BIN_DIR/nova-manage cell_v2 map_cell0 --database_connection $(database_connection_url nova_cell0) # Wait for DBs to finish from above for i in $(seq 0 $NOVA_NUM_CELLS); do async_wait nova-cell-$i done if [[ ""$CELLSV2_SETUP"" == ""singleconductor"" ]]; then # We didn't db sync cell0 above, so run it now $NOVA_BIN_DIR/nova-manage --config-file $NOVA_CONF db sync fi # Run online migrations on the new databases # Needed for flavor conversion $NOVA_BIN_DIR/nova-manage --config-file $NOVA_CONF db online_data_migrations # create the cell1 cell for the main nova db where the hosts live for i in $(seq 1 $NOVA_NUM_CELLS); do $NOVA_BIN_DIR/nova-manage --config-file $NOVA_CONF --config-file $(conductor_conf $i) cell_v2 create_cell --name ""cell$i"" done fi create_nova_keys_dir if [[ ""$NOVA_BACKEND"" == ""LVM"" ]]; then init_default_lvm_volume_group fi if use_library_from_git ""python-novaclient""; then git_clone_by_name ""python-novaclient"" setup_dev_lib ""python-novaclient"" sudo install -D -m 0644 -o $STACK_USER {${GITDIR[""python-novaclient""]}/tools/,/etc/bash_completion.d/}nova.bash_completion fi # Install os-vif if use_library_from_git ""os-vif""; then git_clone_by_name ""os-vif"" setup_dev_lib ""os-vif"" fi if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then install_nova_hypervisor fi if is_service_enabled n-novnc; then # a websockets/html5 or flash powered VNC console for vm instances NOVNC_FROM_PACKAGE=$(trueorfalse False NOVNC_FROM_PACKAGE) if [ ""$NOVNC_FROM_PACKAGE"" = ""True"" ]; then # Installing novnc on Debian bullseye breaks the global pip # install. This happens because novnc pulls in distro cryptography # which will be prefered by distro pip, but if anything has # installed pyOpenSSL from pypi (keystone) that is not compatible # with distro cryptography. Fix this by installing # python3-openssl (pyOpenSSL) from the distro which pip will prefer # on Debian. Ubuntu has inverse problems so we only do this for # Debian. local novnc_packages novnc_packages=""novnc"" GetOSVersion if [[ ""$os_VENDOR"" = ""Debian"" ]]; then novnc_packages=""$novnc_packages python3-openssl"" fi NOVNC_WEB_DIR=/usr/share/novnc install_package $novnc_packages else NOVNC_WEB_DIR=$DEST/novnc git_clone $NOVNC_REPO $NOVNC_WEB_DIR $NOVNC_BRANCH fi fi if is_service_enabled n-spice; then # a websockets/html5 or flash powered SPICE console for vm instances SPICE_FROM_PACKAGE=$(trueorfalse True SPICE_FROM_PACKAGE) if [ ""$SPICE_FROM_PACKAGE"" = ""True"" ]; then SPICE_WEB_DIR=/usr/share/spice-html5 install_package spice-html5 else SPICE_WEB_DIR=$DEST/spice-html5 git_clone $SPICE_REPO $SPICE_WEB_DIR $SPICE_BRANCH fi fi git_clone $NOVA_REPO $NOVA_DIR $NOVA_BRANCH setup_develop $NOVA_DIR sudo install -D -m 0644 -o $STACK_USER {$NOVA_DIR/tools/,/etc/bash_completion.d/}nova-manage.bash_completion # Get right service port for testing local service_port=$NOVA_SERVICE_PORT local service_protocol=$NOVA_SERVICE_PROTOCOL local nova_url if is_service_enabled tls-proxy; then service_port=$NOVA_SERVICE_PORT_INT service_protocol=""http"" fi # Hack to set the path for rootwrap local old_path=$PATH export PATH=$NOVA_BIN_DIR:$PATH if [ ""$NOVA_USE_MOD_WSGI"" == ""False"" ]; then run_process n-api ""$NOVA_BIN_DIR/nova-api"" nova_url=$service_protocol://$SERVICE_HOST:$service_port # Start proxy if tsl enabled if is_service_enabled tls-proxy; then start_tls_proxy nova '*' $NOVA_SERVICE_PORT $NOVA_SERVICE_HOST $NOVA_SERVICE_PORT_INT fi else run_process ""n-api"" ""$(which uwsgi) --procname-prefix nova-api --ini $NOVA_UWSGI_CONF"" nova_url=$service_protocol://$SERVICE_HOST/compute/v2.1/ fi echo ""Waiting for nova-api to start..."" if ! wait_for_service $SERVICE_TIMEOUT $nova_url; then die $LINENO ""nova-api did not start"" fi export PATH=$old_path } # Hack to set the path for rootwrap local old_path=$PATH export PATH=$NOVA_BIN_DIR:$PATH local compute_cell_conf=$NOVA_CONF # Bug #1802143: $NOVA_CPU_CONF is constructed by first copying $NOVA_CONF... cp $compute_cell_conf $NOVA_CPU_CONF # ...and then adding/overriding anything explicitly set in $NOVA_CPU_CONF merge_config_file $TOP_DIR/local.conf post-config '$NOVA_CPU_CONF' if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then # NOTE(danms): Grenade doesn't setup multi-cell rabbit, so # skip these bits and use the normal config. echo ""Skipping multi-cell conductor fleet setup"" else # ""${CELLSV2_SETUP}"" is ""superconductor"" # FIXME(danms): Should this be configurable? iniset $NOVA_CPU_CONF workarounds disable_group_policy_check_upcall True # Since the nova-compute service cannot reach nova-scheduler over # RPC, we also disable track_instance_changes. iniset $NOVA_CPU_CONF filter_scheduler track_instance_changes False iniset_rpc_backend nova $NOVA_CPU_CONF DEFAULT ""nova_cell${NOVA_CPU_CELL}"" fi # Make sure we nuke any database config inidelete $NOVA_CPU_CONF database connection inidelete $NOVA_CPU_CONF api_database connection # Console proxies were configured earlier in create_nova_conf. Now that the # nova-cpu.conf has been created, configure the console settings required # by the compute process. configure_console_compute # Configure the OVSDB connection for os-vif if [ -n ""$OVSDB_SERVER_LOCAL_HOST"" ]; then iniset $NOVA_CPU_CONF os_vif_ovs ovsdb_connection ""tcp:$OVSDB_SERVER_LOCAL_HOST:6640"" fi # Workaround bug #1939108 if [[ ""$VIRT_DRIVER"" == ""libvirt"" && ""$LIBVIRT_TYPE"" == ""qemu"" ]]; then iniset $NOVA_CPU_CONF workarounds libvirt_disable_apic True fi if [[ ""$VIRT_DRIVER"" = 'libvirt' ]]; then # The group **$LIBVIRT_GROUP** is added to the current user in this script. # ``sg`` is used in run_process to execute nova-compute as a member of the # **$LIBVIRT_GROUP** group. run_process n-cpu ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF"" $LIBVIRT_GROUP elif [[ ""$VIRT_DRIVER"" = 'lxd' ]]; then run_process n-cpu ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF"" $LXD_GROUP elif [[ ""$VIRT_DRIVER"" = 'docker' || ""$VIRT_DRIVER"" = 'zun' ]]; then run_process n-cpu ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF"" $DOCKER_GROUP elif [[ ""$VIRT_DRIVER"" = 'fake' ]]; then local i for i in $(seq 1 $NUMBER_FAKE_NOVA_COMPUTE); do # Avoid process redirection of fake host configurations by # creating or modifying real configurations. Each fake # gets its own configuration and own log file. local fake_conf=""${NOVA_FAKE_CONF}-${i}"" iniset $fake_conf DEFAULT host ""${HOSTNAME}${i}"" run_process ""n-cpu-${i}"" ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF --config-file $fake_conf"" done else if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then start_nova_hypervisor fi run_process n-cpu ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF"" fi export PATH=$old_path # Hack to set the path for rootwrap local old_path=$PATH export PATH=$NOVA_BIN_DIR:$PATH local compute_cell_conf=$NOVA_CONF run_process n-sch ""$NOVA_BIN_DIR/nova-scheduler --config-file $compute_cell_conf"" if [ ""$NOVA_USE_MOD_WSGI"" == ""False"" ]; then run_process n-api-meta ""$NOVA_BIN_DIR/nova-api-metadata --config-file $compute_cell_conf"" else run_process n-api-meta ""$(which uwsgi) --procname-prefix nova-api-meta --ini $NOVA_METADATA_UWSGI_CONF"" fi export PATH=$old_path for i in $(seq 1 $NOVA_NUM_CELLS); do for srv in n-novnc n-spice n-sproxy; do if is_service_enabled $srv; then enable_service ${srv}-cell${i} fi done done # Hack to set the path for rootwrap local old_path=$PATH # This is needed to find the nova conf export PATH=$NOVA_BIN_DIR:$PATH local api_cell_conf=$NOVA_CONF # console proxies run globally for singleconductor, else they run per cell if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then run_process n-novnc ""$NOVA_BIN_DIR/nova-novncproxy --config-file $api_cell_conf --web $NOVNC_WEB_DIR"" run_process n-spice ""$NOVA_BIN_DIR/nova-spicehtml5proxy --config-file $api_cell_conf --web $SPICE_WEB_DIR"" run_process n-sproxy ""$NOVA_BIN_DIR/nova-serialproxy --config-file $api_cell_conf"" else enable_nova_console_proxies for i in $(seq 1 $NOVA_NUM_CELLS); do local conf conf=$(conductor_conf $i) run_process n-novnc-cell${i} ""$NOVA_BIN_DIR/nova-novncproxy --config-file $conf --web $NOVNC_WEB_DIR"" run_process n-spice-cell${i} ""$NOVA_BIN_DIR/nova-spicehtml5proxy --config-file $conf --web $SPICE_WEB_DIR"" run_process n-sproxy-cell${i} ""$NOVA_BIN_DIR/nova-serialproxy --config-file $conf"" done fi export PATH=$old_path if is_service_enabled n-cond; then enable_service n-super-cond for i in $(seq 1 $NOVA_NUM_CELLS); do enable_service n-cond-cell${i} done fi if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then echo ""Starting nova-conductor in a cellsv1-compatible way"" run_process n-cond ""$NOVA_BIN_DIR/nova-conductor --config-file $NOVA_COND_CONF"" return fi enable_nova_fleet if is_service_enabled n-super-cond; then run_process n-super-cond ""$NOVA_BIN_DIR/nova-conductor --config-file $NOVA_COND_CONF"" fi for i in $(seq 1 $NOVA_NUM_CELLS); do if is_service_enabled n-cond-cell${i}; then local conf conf=$(conductor_conf $i) run_process n-cond-cell${i} ""$NOVA_BIN_DIR/nova-conductor --config-file $conf"" fi done # NOTE(sdague): with cells v2 all the compute services must be up # and checked into the database before discover_hosts is run. This # happens in all in one installs by accident, because > 30 seconds # happen between here and the script ending. However, in multinode # tests this can very often not be the case. So ensure that the # compute is up before we move on. wait_for_compute $NOVA_READY_TIMEOUT start_nova_rest start_nova_console_proxies start_nova_conductor start_nova_compute if is_service_enabled n-api; then # dump the cell mapping to ensure life is good echo ""Dumping cells_v2 mapping"" $NOVA_BIN_DIR/nova-manage cell_v2 list_cells --verbose fi if [ ""$VIRT_DRIVER"" == ""fake"" ]; then local i for i in $(seq 1 $NUMBER_FAKE_NOVA_COMPUTE); do stop_process n-cpu-${i} done else stop_process n-cpu fi if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then stop_nova_hypervisor fi # Kill the non-compute nova processes for serv in n-api n-api-meta n-sch; do stop_process $serv done if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then for srv in n-novnc n-spice n-sproxy; do stop_process $srv done else enable_nova_console_proxies for i in $(seq 1 $NOVA_NUM_CELLS); do for srv in n-novnc n-spice n-sproxy; do stop_process ${srv}-cell${i} done done fi if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then stop_process n-cond return fi enable_nova_fleet for srv in n-super-cond $(seq -f n-cond-cell%0.f 1 $NOVA_NUM_CELLS); do if is_service_enabled $srv; then stop_process $srv fi done stop_nova_rest stop_nova_console_proxies stop_nova_conductor stop_nova_compute if is_service_enabled n-api; then if ! openstack --os-region-name=""$REGION_NAME"" flavor list | grep -q ds512M; then # Note that danms hates these flavors and apologizes for sdague openstack --os-region-name=""$REGION_NAME"" flavor create --id c1 --ram 256 --disk 1 --vcpus 1 --property hw_rng:allowed=True cirros256 openstack --os-region-name=""$REGION_NAME"" flavor create --id d1 --ram 512 --disk 5 --vcpus 1 --property hw_rng:allowed=True ds512M openstack --os-region-name=""$REGION_NAME"" flavor create --id d2 --ram 1024 --disk 10 --vcpus 1 --property hw_rng:allowed=True ds1G openstack --os-region-name=""$REGION_NAME"" flavor create --id d3 --ram 2048 --disk 10 --vcpus 2 --property hw_rng:allowed=True ds2G openstack --os-region-name=""$REGION_NAME"" flavor create --id d4 --ram 4096 --disk 20 --vcpus 4 --property hw_rng:allowed=True ds4G fi if ! openstack --os-region-name=""$REGION_NAME"" flavor list | grep -q m1.tiny; then openstack --os-region-name=""$REGION_NAME"" flavor create --id 1 --ram 512 --disk 1 --vcpus 1 --property hw_rng:allowed=True m1.tiny openstack --os-region-name=""$REGION_NAME"" flavor create --id 2 --ram 2048 --disk 20 --vcpus 1 --property hw_rng:allowed=True m1.small openstack --os-region-name=""$REGION_NAME"" flavor create --id 3 --ram 4096 --disk 40 --vcpus 2 --property hw_rng:allowed=True m1.medium openstack --os-region-name=""$REGION_NAME"" flavor create --id 4 --ram 8192 --disk 80 --vcpus 4 --property hw_rng:allowed=True m1.large openstack --os-region-name=""$REGION_NAME"" flavor create --id 5 --ram 16384 --disk 160 --vcpus 8 --property hw_rng:allowed=True m1.xlarge fi fi"," PROJECT_VENV[""nova""]=${NOVA_DIR}.venv NOVA_BIN_DIR=${PROJECT_VENV[""nova""]}/bin NOVA_BIN_DIR=$(get_python_exec_prefix) NOVA_SERVICE_PROTOCOL=""https"" die $LINENO ""enabling TLS for the console proxy requires the tls-proxy service"" NOVA_MY_IP=""$HOST_IPV6"" NOVA_MY_IP=""$HOST_IP"" # Load plugin source $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER [[ ,${DISABLED_SERVICES} =~ ,""nova"" ]] && return 1 [[ ,${ENABLED_SERVICES} =~ ,""n-"" ]] && return 0 return 1 [[ ${NOVA_CONSOLE_PROXY_COMPUTE_TLS} = ""True"" ]] && return 0 return 1 # Delete rules sudo iptables -S -v | sed ""s/-c [0-9]* [0-9]* //g"" | grep ""nova"" | grep ""\-A"" | sed ""s/-A/-D/g"" | awk '{print ""sudo iptables"",$0}' | bash # Delete nat rules sudo iptables -S -v -t nat | sed ""s/-c [0-9]* [0-9]* //g"" | grep ""nova"" | grep ""\-A"" | sed ""s/-A/-D/g"" | awk '{print ""sudo iptables -t nat"",$0}' | bash # Delete chains sudo iptables -S -v | sed ""s/-c [0-9]* [0-9]* //g"" | grep ""nova"" | grep ""\-N"" | sed ""s/-N/-X/g"" | awk '{print ""sudo iptables"",$0}' | bash # Delete nat chains sudo iptables -S -v -t nat | sed ""s/-c [0-9]* [0-9]* //g"" | grep ""nova"" | grep ""\-N"" | sed ""s/-N/-X/g"" | awk '{print ""sudo iptables -t nat"",$0}' | bash if is_service_enabled n-cpu; then # Clean iptables from previous runs clean_iptables # Destroy old instances local instances instances=`sudo virsh list --all | grep $INSTANCE_NAME_PREFIX | sed ""s/.*\($INSTANCE_NAME_PREFIX[0-9a-fA-F]*\).*/\1/g""` if [ ! ""$instances"" = """" ]; then echo $instances | xargs -n1 sudo virsh destroy || true if ! xargs -n1 sudo virsh undefine --managed-save --nvram <<< $instances; then # Can't delete with nvram flags, then just try without this flag xargs -n1 sudo virsh undefine --managed-save <<< $instances fi fi # Logout and delete iscsi sessions local tgts tgts=$(sudo iscsiadm --mode node | grep $VOLUME_NAME_PREFIX | cut -d ' ' -f2) local target for target in $tgts; do sudo iscsiadm --mode node -T $target --logout || true done sudo iscsiadm --mode node --op delete || true # Disconnect all nvmeof connections sudo nvme disconnect-all || true # Clean out the instances directory. sudo rm -rf $NOVA_INSTANCES_PATH/* fi sudo rm -rf $NOVA_STATE_PATH # NOTE(dtroyer): This really should be called from here but due to the way # nova abuses the _cleanup() function we're moving it # directly into cleanup.sh until this can be fixed. #if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then # cleanup_nova_hypervisor #fi stop_process ""n-api"" stop_process ""n-api-meta"" remove_uwsgi_config ""$NOVA_UWSGI_CONF"" ""$NOVA_UWSGI"" remove_uwsgi_config ""$NOVA_METADATA_UWSGI_CONF"" ""$NOVA_METADATA_UWSGI"" if [[ ""$NOVA_BACKEND"" == ""LVM"" ]]; then clean_lvm_volume_group $DEFAULT_VOLUME_GROUP_NAME fi # Put config files in ``/etc/nova`` for everyone to find sudo install -d -o $STACK_USER $NOVA_CONF_DIR configure_rootwrap nova if [[ ""$ENABLED_SERVICES"" =~ ""n-api"" ]]; then # Get the sample configuration file in place cp $NOVA_DIR/etc/nova/api-paste.ini $NOVA_CONF_DIR fi if is_service_enabled n-cpu; then # Force IP forwarding on, just on case sudo sysctl -w net.ipv4.ip_forward=1 if [[ ""$VIRT_DRIVER"" = 'libvirt' ]]; then # Check for kvm (hardware based virtualization). If unable to initialize # kvm, we drop back to the slower emulation mode (qemu). Note: many systems # come with hardware virtualization disabled in BIOS. if [[ ""$LIBVIRT_TYPE"" == ""kvm"" ]]; then sudo modprobe kvm || true if [ ! -e /dev/kvm ]; then echo ""WARNING: Switching to QEMU"" LIBVIRT_TYPE=qemu LIBVIRT_CPU_MODE=custom LIBVIRT_CPU_MODEL=Nehalem if which selinuxenabled >/dev/null 2>&1 && selinuxenabled; then # https://bugzilla.redhat.com/show_bug.cgi?id=753589 sudo setsebool virt_use_execmem on fi fi fi # Install and configure **LXC** if specified. LXC is another approach to # splitting a system into many smaller parts. LXC uses cgroups and chroot # to simulate multiple systems. if [[ ""$LIBVIRT_TYPE"" == ""lxc"" ]]; then if is_ubuntu; then # enable nbd for lxc unless you're using an lvm backend # otherwise you can't boot instances if [[ ""$NOVA_BACKEND"" != ""LVM"" ]]; then sudo modprobe nbd fi fi fi fi # Instance Storage # ---------------- # Nova stores each instance in its own directory. sudo install -d -o $STACK_USER $NOVA_INSTANCES_PATH # You can specify a different disk to be mounted and used for backing the # virtual machines. If there is a partition labeled nova-instances we # mount it (ext filesystems can be labeled via e2label). if [ -L /dev/disk/by-label/nova-instances ]; then if ! mount -n | grep -q $NOVA_INSTANCES_PATH; then sudo mount -L nova-instances $NOVA_INSTANCES_PATH sudo chown -R $STACK_USER $NOVA_INSTANCES_PATH fi fi # Due to cinder bug #1966513 we ALWAYS need an initiator name for LVM # Ensure each compute host uses a unique iSCSI initiator echo InitiatorName=$(iscsi-iname) | sudo tee /etc/iscsi/initiatorname.iscsi if [[ ${ISCSID_DEBUG} == ""True"" ]]; then # Install an override that starts iscsid with debugging # enabled. cat > /tmp/iscsid.override <<EOF sudo mkdir -p /etc/systemd/system/iscsid.service.d sudo mv /tmp/iscsid.override /etc/systemd/system/iscsid.service.d/override.conf sudo systemctl daemon-reload fi # set chap algorithms. The default chap_algorithm is md5 which will # not work under FIPS. iniset -sudo /etc/iscsi/iscsid.conf DEFAULT ""node.session.auth.chap_algs"" ""SHA3-256,SHA256"" if [[ $CINDER_TARGET_HELPER != 'nvmet' ]]; then # ensure that iscsid is started, even when disabled by default restart_service iscsid # For NVMe-oF we need different packages that many not be present else install_package nvme-cli sudo modprobe nvme-fabrics # Ensure NVMe is ready and create the Soft-RoCE device over the networking interface if [[ $CINDER_TARGET_PROTOCOL == 'nvmet_rdma' ]]; then sudo modprobe nvme-rdma iface=${HOST_IP_IFACE:-`ip -br -$SERVICE_IP_VERSION a | grep $NOVA_MY_IP | awk '{print $1}'`} if ! sudo rdma link | grep $iface ; then sudo rdma link add rxe_$iface type rxe netdev $iface fi elif [[ $CINDER_TARGET_PROTOCOL == 'nvmet_tcp' ]]; then sudo modprobe nvme-tcp else # 'nvmet_fc' sudo modprobe nvme-fc fi fi fi # Rebuild the config file from scratch create_nova_conf if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then # Configure hypervisor plugin configure_nova_hypervisor fi # Nova if [[ ""$ENABLED_SERVICES"" =~ ""n-api"" ]]; then # NOTE(jamielennox): Nova doesn't need the admin role here, however neutron uses # this service user when notifying nova of changes and that requires the admin role. create_service_user ""nova"" ""admin"" local nova_api_url if [[ ""$NOVA_USE_MOD_WSGI"" == ""False"" ]]; then nova_api_url=""$NOVA_SERVICE_PROTOCOL://$NOVA_SERVICE_HOST:$NOVA_SERVICE_PORT"" else nova_api_url=""$NOVA_SERVICE_PROTOCOL://$NOVA_SERVICE_HOST/compute"" fi get_or_create_service ""nova_legacy"" ""compute_legacy"" ""Nova Compute Service (Legacy 2.0)"" get_or_create_endpoint \ ""compute_legacy"" \ ""$REGION_NAME"" \ ""$nova_api_url/v2/\$(project_id)s"" get_or_create_service ""nova"" ""compute"" ""Nova Compute Service"" get_or_create_endpoint \ ""compute"" \ ""$REGION_NAME"" \ ""$nova_api_url/v2.1"" fi if is_service_enabled n-api; then # Swift if is_service_enabled swift; then # Nova needs ResellerAdmin role to download images when accessing # swift through the s3 api. get_or_add_user_project_role ResellerAdmin nova $SERVICE_PROJECT_NAME $SERVICE_DOMAIN_NAME $SERVICE_DOMAIN_NAME fi fi # S3 if is_service_enabled s3api; then get_or_create_service ""s3"" ""s3"" ""S3"" get_or_create_endpoint \ ""s3"" \ ""$REGION_NAME"" \ ""http://$SERVICE_HOST:$S3_SERVICE_PORT"" \ ""http://$SERVICE_HOST:$S3_SERVICE_PORT"" \ ""http://$SERVICE_HOST:$S3_SERVICE_PORT"" fi # Unified limits if is_service_enabled n-api; then if [[ ""$NOVA_USE_UNIFIED_LIMITS"" = True ]]; then configure_nova_unified_limits fi fi # Remove legacy ``nova.conf`` rm -f $NOVA_DIR/bin/nova.conf # (Re)create ``nova.conf`` rm -f $NOVA_CONF iniset $NOVA_CONF DEFAULT debug ""$ENABLE_DEBUG_LOG_LEVEL"" if [ ""$NOVA_ALLOW_MOVE_TO_SAME_HOST"" == ""True"" ]; then iniset $NOVA_CONF DEFAULT allow_resize_to_same_host ""True"" fi iniset $NOVA_CONF wsgi api_paste_config ""$NOVA_API_PASTE_INI"" iniset $NOVA_CONF DEFAULT rootwrap_config ""$NOVA_CONF_DIR/rootwrap.conf"" iniset $NOVA_CONF filter_scheduler enabled_filters ""$NOVA_FILTERS"" iniset $NOVA_CONF scheduler workers ""$API_WORKERS"" iniset $NOVA_CONF neutron default_floating_pool ""$PUBLIC_NETWORK_NAME"" iniset $NOVA_CONF DEFAULT my_ip ""$NOVA_MY_IP"" iniset $NOVA_CONF DEFAULT instance_name_template ""${INSTANCE_NAME_PREFIX}%08x"" iniset $NOVA_CONF DEFAULT osapi_compute_listen ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $NOVA_CONF DEFAULT metadata_listen ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $NOVA_CONF DEFAULT shutdown_timeout $NOVA_SHUTDOWN_TIMEOUT iniset $NOVA_CONF key_manager backend nova.keymgr.conf_key_mgr.ConfKeyManager if is_fedora; then # nova defaults to /usr/local/bin, but fedora pip like to # install things in /usr/bin iniset $NOVA_CONF DEFAULT bindir ""/usr/bin"" fi # only setup database connections and cache backend if there are services # that require them running on the host. The ensures that n-cpu doesn't # leak a need to use the db in a multinode scenario. if is_service_enabled n-api n-cond n-sched; then # If we're in multi-tier cells mode, we want our control services pointing # at cell0 instead of cell1 to ensure isolation. If not, we point everything # at the main database like normal. if [[ ""$CELLSV2_SETUP"" == ""singleconductor"" ]]; then local db=""nova_cell1"" else local db=""nova_cell0"" # When in superconductor mode, nova-compute can't send instance # info updates to the scheduler, so just disable it. iniset $NOVA_CONF filter_scheduler track_instance_changes False fi iniset $NOVA_CONF database connection `database_connection_url $db` iniset $NOVA_CONF api_database connection `database_connection_url nova_api` # Cache related settings # Those settings aren't really needed in n-cpu thus it is configured # only on nodes which runs controller services iniset $NOVA_CONF cache enabled $NOVA_ENABLE_CACHE iniset $NOVA_CONF cache backend $CACHE_BACKEND iniset $NOVA_CONF cache memcache_servers $MEMCACHE_SERVERS fi if is_service_enabled n-api; then if is_service_enabled n-api-meta; then # If running n-api-meta as a separate service NOVA_ENABLED_APIS=$(echo $NOVA_ENABLED_APIS | sed ""s/,metadata//"") fi iniset $NOVA_CONF DEFAULT enabled_apis ""$NOVA_ENABLED_APIS"" if [[ ""$NOVA_ENFORCE_SCOPE"" == ""True"" || ""$ENFORCE_SCOPE"" == ""True"" ]]; then iniset $NOVA_CONF oslo_policy enforce_new_defaults True iniset $NOVA_CONF oslo_policy enforce_scope True else iniset $NOVA_CONF oslo_policy enforce_new_defaults False iniset $NOVA_CONF oslo_policy enforce_scope False fi if is_service_enabled tls-proxy && [ ""$NOVA_USE_MOD_WSGI"" == ""False"" ]; then # Set the service port for a proxy to take the original iniset $NOVA_CONF DEFAULT osapi_compute_listen_port ""$NOVA_SERVICE_PORT_INT"" iniset $NOVA_CONF DEFAULT osapi_compute_link_prefix $NOVA_SERVICE_PROTOCOL://$NOVA_SERVICE_HOST:$NOVA_SERVICE_PORT fi configure_keystone_authtoken_middleware $NOVA_CONF nova fi if is_service_enabled cinder; then configure_cinder_access fi if [ -n ""$NOVA_STATE_PATH"" ]; then iniset $NOVA_CONF DEFAULT state_path ""$NOVA_STATE_PATH"" iniset $NOVA_CONF oslo_concurrency lock_path ""$NOVA_STATE_PATH"" fi if [ -n ""$NOVA_INSTANCES_PATH"" ]; then iniset $NOVA_CONF DEFAULT instances_path ""$NOVA_INSTANCES_PATH"" fi if [ ""$SYSLOG"" != ""False"" ]; then iniset $NOVA_CONF DEFAULT use_syslog ""True"" fi if [ ""$FORCE_CONFIG_DRIVE"" != ""False"" ]; then iniset $NOVA_CONF DEFAULT force_config_drive ""$FORCE_CONFIG_DRIVE"" fi # nova defaults to genisoimage but only mkisofs is available for 15.0+ # rhel provides mkisofs symlink to genisoimage or xorriso appropiately if is_fedora; then iniset $NOVA_CONF DEFAULT mkisofs_cmd /usr/bin/mkisofs fi # Format logging setup_logging $NOVA_CONF iniset $NOVA_CONF upgrade_levels compute ""auto"" if is_service_enabled n-api; then write_uwsgi_config ""$NOVA_UWSGI_CONF"" ""$NOVA_UWSGI"" ""/compute"" fi if is_service_enabled n-api-meta; then write_uwsgi_config ""$NOVA_METADATA_UWSGI_CONF"" ""$NOVA_METADATA_UWSGI"" """" ""$SERVICE_LISTEN_ADDRESS:${METADATA_SERVICE_PORT}"" fi if is_service_enabled ceilometer; then iniset $NOVA_CONF DEFAULT instance_usage_audit ""True"" iniset $NOVA_CONF DEFAULT instance_usage_audit_period ""hour"" iniset $NOVA_CONF DEFAULT notify_on_state_change ""vm_and_task_state"" fi # Set the oslo messaging driver to the typical default. This does not # enable notifications, but it will allow them to function when enabled. iniset $NOVA_CONF oslo_messaging_notifications driver ""messagingv2"" iniset $NOVA_CONF oslo_messaging_notifications transport_url $(get_notification_url) iniset $NOVA_CONF notifications notification_format ""$NOVA_NOTIFICATION_FORMAT"" iniset_rpc_backend nova $NOVA_CONF iniset $NOVA_CONF DEFAULT osapi_compute_workers ""$API_WORKERS"" iniset $NOVA_CONF DEFAULT metadata_workers ""$API_WORKERS"" # don't let the conductor get out of control now that we're using a pure python db driver iniset $NOVA_CONF conductor workers ""$API_WORKERS"" if is_service_enabled tls-proxy; then iniset $NOVA_CONF DEFAULT glance_protocol https iniset $NOVA_CONF oslo_middleware enable_proxy_headers_parsing True fi iniset $NOVA_CONF DEFAULT graceful_shutdown_timeout ""$SERVICE_GRACEFUL_SHUTDOWN_TIMEOUT"" if [ ""$NOVA_USE_SERVICE_TOKEN"" == ""True"" ]; then init_nova_service_user_conf fi if is_service_enabled n-cond; then for i in $(seq 1 $NOVA_NUM_CELLS); do local conf local vhost conf=$(conductor_conf $i) vhost=""nova_cell${i}"" # clean old conductor conf rm -f $conf iniset $conf database connection `database_connection_url nova_cell${i}` iniset $conf conductor workers ""$API_WORKERS"" iniset $conf DEFAULT debug ""$ENABLE_DEBUG_LOG_LEVEL"" # if we have a singleconductor, we don't have per host message queues. if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then iniset_rpc_backend nova $conf DEFAULT else rpc_backend_add_vhost $vhost iniset_rpc_backend nova $conf DEFAULT $vhost # When running in superconductor mode, the cell conductor # must be configured to talk to the placement service for # reschedules to work. if is_service_enabled placement placement-client; then configure_placement_nova_compute $conf fi fi # Format logging setup_logging $conf done fi # Console proxy configuration has to go after conductor configuration # because the per cell config file nova_cellN.conf is cleared out as part # of conductor configuration. if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then configure_console_proxies else for i in $(seq 1 $NOVA_NUM_CELLS); do local conf local offset conf=$(conductor_conf $i) offset=$((i - 1)) configure_console_proxies $conf $offset done fi # Use the provided config file path or default to $NOVA_CONF. local conf=${1:-$NOVA_CONF} iniset $conf placement auth_type ""password"" iniset $conf placement auth_url ""$KEYSTONE_SERVICE_URI"" iniset $conf placement username placement iniset $conf placement password ""$SERVICE_PASSWORD"" iniset $conf placement user_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $conf placement project_name ""$SERVICE_TENANT_NAME"" iniset $conf placement project_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $conf placement region_name ""$REGION_NAME"" iniset $NOVA_CONF cinder os_region_name ""$REGION_NAME"" iniset $NOVA_CONF cinder auth_type ""password"" iniset $NOVA_CONF cinder auth_url ""$KEYSTONE_SERVICE_URI"" # NOTE(mriedem): This looks a bit weird but we use the nova user here # since it has the admin role and the cinder user does not. This is # similar to using the nova user in init_nova_service_user_conf. We need # to use a user with the admin role for background tasks in nova to # be able to GET block-storage API resources owned by another project # since cinder has low-level ""is_admin"" checks in its DB API. iniset $NOVA_CONF cinder username nova iniset $NOVA_CONF cinder password ""$SERVICE_PASSWORD"" iniset $NOVA_CONF cinder user_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $NOVA_CONF cinder project_name ""$SERVICE_TENANT_NAME"" iniset $NOVA_CONF cinder project_domain_name ""$SERVICE_DOMAIN_NAME"" if is_service_enabled tls-proxy; then CINDER_SERVICE_HOST=${CINDER_SERVICE_HOST:-$SERVICE_HOST} CINDER_SERVICE_PORT=${CINDER_SERVICE_PORT:-8776} iniset $NOVA_CONF cinder cafile $SSL_BUNDLE_FILE fi # If we are running multiple cells (and thus multiple console proxies) on a # single host, we offset the ports to avoid collisions. We need to # correspondingly configure the console proxy port for nova-compute and we # can use the NOVA_CPU_CELL variable to know which cell we are for # calculating the offset. # Stagger the offset based on the total number of possible console proxies # (novnc, spice, serial) so that their ports will not collide if # all are enabled. local offset offset=$(((NOVA_CPU_CELL - 1) * 3)) # Use the host IP instead of the service host because for multi-node, the # service host will be the controller only. local default_proxyclient_addr default_proxyclient_addr=$(iniget $NOVA_CPU_CONF DEFAULT my_ip) # All nova-compute workers need to know the vnc configuration options # These settings don't hurt anything if n-novnc is disabled if is_service_enabled n-cpu; then if [ ""$NOVNC_FROM_PACKAGE"" == ""True"" ]; then # Use the old URL when installing novnc packages. NOVNCPROXY_URL=${NOVNCPROXY_URL:-""http://$SERVICE_HOST:$((6080 + offset))/vnc_auto.html""} elif vercmp ${NOVNC_BRANCH} ""<"" ""1.0.0""; then # Use the old URL when installing older novnc source. NOVNCPROXY_URL=${NOVNCPROXY_URL:-""http://$SERVICE_HOST:$((6080 + offset))/vnc_auto.html""} else # Use the new URL when building >=v1.0.0 from source. NOVNCPROXY_URL=${NOVNCPROXY_URL:-""http://$SERVICE_HOST:$((6080 + offset))/vnc_lite.html""} fi iniset $NOVA_CPU_CONF vnc novncproxy_base_url ""$NOVNCPROXY_URL"" SPICEHTML5PROXY_URL=${SPICEHTML5PROXY_URL:-""http://$SERVICE_HOST:$((6081 + offset))/spice_auto.html""} iniset $NOVA_CPU_CONF spice html5proxy_base_url ""$SPICEHTML5PROXY_URL"" fi if is_service_enabled n-novnc || [ ""$NOVA_VNC_ENABLED"" != False ]; then # Address on which instance vncservers will listen on compute hosts. # For multi-host, this should be the management ip of the compute host. VNCSERVER_LISTEN=${VNCSERVER_LISTEN:-$NOVA_SERVICE_LISTEN_ADDRESS} VNCSERVER_PROXYCLIENT_ADDRESS=${VNCSERVER_PROXYCLIENT_ADDRESS:-$default_proxyclient_addr} iniset $NOVA_CPU_CONF vnc server_listen ""$VNCSERVER_LISTEN"" iniset $NOVA_CPU_CONF vnc server_proxyclient_address ""$VNCSERVER_PROXYCLIENT_ADDRESS"" else iniset $NOVA_CPU_CONF vnc enabled false fi if is_service_enabled n-spice; then # Address on which instance spiceservers will listen on compute hosts. # For multi-host, this should be the management ip of the compute host. SPICESERVER_PROXYCLIENT_ADDRESS=${SPICESERVER_PROXYCLIENT_ADDRESS:-$default_proxyclient_addr} SPICESERVER_LISTEN=${SPICESERVER_LISTEN:-$NOVA_SERVICE_LISTEN_ADDRESS} iniset $NOVA_CPU_CONF spice enabled true iniset $NOVA_CPU_CONF spice server_listen ""$SPICESERVER_LISTEN"" iniset $NOVA_CPU_CONF spice server_proxyclient_address ""$SPICESERVER_PROXYCLIENT_ADDRESS"" fi if is_service_enabled n-sproxy; then iniset $NOVA_CPU_CONF serial_console enabled True iniset $NOVA_CPU_CONF serial_console base_url ""ws://$SERVICE_HOST:$((6082 + offset))/"" fi # Use the provided config file path or default to $NOVA_CONF. local conf=${1:-$NOVA_CONF} local offset=${2:-0} # Stagger the offset based on the total number of possible console proxies # (novnc, spice, serial) so that their ports will not collide if # all are enabled. offset=$((offset * 3)) if is_service_enabled n-novnc || [ ""$NOVA_VNC_ENABLED"" != False ]; then iniset $conf vnc novncproxy_host ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $conf vnc novncproxy_port $((6080 + offset)) if is_nova_console_proxy_compute_tls_enabled ; then iniset $conf vnc auth_schemes ""vencrypt"" iniset $conf vnc vencrypt_client_key ""/etc/pki/nova-novnc/client-key.pem"" iniset $conf vnc vencrypt_client_cert ""/etc/pki/nova-novnc/client-cert.pem"" iniset $conf vnc vencrypt_ca_certs ""/etc/pki/nova-novnc/ca-cert.pem"" sudo mkdir -p /etc/pki/nova-novnc deploy_int_CA /etc/pki/nova-novnc/ca-cert.pem deploy_int_cert /etc/pki/nova-novnc/client-cert.pem /etc/pki/nova-novnc/client-key.pem # OpenSSL 1.1.0 generates the key file with permissions: 600, by # default, and the deploy_int* methods use 'sudo cp' to copy the # files, making them owned by root:root. # Change ownership of everything under /etc/pki/nova-novnc to # $STACK_USER:$(id -g ${STACK_USER}) so that $STACK_USER can read # the key file. sudo chown -R $STACK_USER:$(id -g ${STACK_USER}) /etc/pki/nova-novnc # This is needed to enable TLS in the proxy itself, example log: # WebSocket server settings: # - Listen on 0.0.0.0:6080 # - Flash security policy server # - Web server (no directory listings). Web root: /usr/share/novnc # - SSL/TLS support # - proxying from 0.0.0.0:6080 to None:None iniset $conf DEFAULT key ""/etc/pki/nova-novnc/client-key.pem"" iniset $conf DEFAULT cert ""/etc/pki/nova-novnc/client-cert.pem"" fi fi if is_service_enabled n-spice; then iniset $conf spice html5proxy_host ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $conf spice html5proxy_port $((6081 + offset)) fi if is_service_enabled n-sproxy; then iniset $conf serial_console serialproxy_host ""$NOVA_SERVICE_LISTEN_ADDRESS"" iniset $conf serial_console serialproxy_port $((6082 + offset)) fi # Registered limit resources in keystone are system-specific resources. # Make sure we use a system-scoped token to interact with this API. # Default limits here mirror the legacy config-based default values. # Note: disk quota is new in nova as of unified limits. openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 10 --region $REGION_NAME servers openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 20 --region $REGION_NAME class:VCPU openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit $((50 * 1024)) --region $REGION_NAME class:MEMORY_MB openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 20 --region $REGION_NAME class:DISK_GB openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 128 --region $REGION_NAME server_metadata_items openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 5 --region $REGION_NAME server_injected_files openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 10240 --region $REGION_NAME server_injected_file_content_bytes openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 255 --region $REGION_NAME server_injected_file_path_bytes openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 100 --region $REGION_NAME server_key_pairs openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 10 --region $REGION_NAME server_groups openstack --os-cloud devstack-system-admin registered limit create \ --service nova --default-limit 10 --region $REGION_NAME server_group_members # Tell nova to use these limits iniset $NOVA_CONF quota driver ""nova.quota.UnifiedLimitsDriver"" # Configure oslo_limit so it can talk to keystone iniset $NOVA_CONF oslo_limit user_domain_name $SERVICE_DOMAIN_NAME iniset $NOVA_CONF oslo_limit password $SERVICE_PASSWORD iniset $NOVA_CONF oslo_limit username nova iniset $NOVA_CONF oslo_limit auth_type password iniset $NOVA_CONF oslo_limit auth_url $KEYSTONE_SERVICE_URI iniset $NOVA_CONF oslo_limit system_scope all iniset $NOVA_CONF oslo_limit endpoint_id \ $(openstack endpoint list --service nova -f value -c ID) # Allow the nova service user to read quotas openstack --os-cloud devstack-system-admin role add --user nova \ --user-domain $SERVICE_DOMAIN_NAME --system all reader iniset $NOVA_CONF service_user send_service_user_token True iniset $NOVA_CONF service_user auth_type password iniset $NOVA_CONF service_user auth_url ""$KEYSTONE_SERVICE_URI"" iniset $NOVA_CONF service_user username nova iniset $NOVA_CONF service_user password ""$SERVICE_PASSWORD"" iniset $NOVA_CONF service_user user_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $NOVA_CONF service_user project_name ""$SERVICE_PROJECT_NAME"" iniset $NOVA_CONF service_user project_domain_name ""$SERVICE_DOMAIN_NAME"" iniset $NOVA_CONF service_user auth_strategy keystone local cell=""$1"" echo ""${NOVA_CONF_DIR}/nova_cell${cell}.conf"" # Create keys dir sudo install -d -o $STACK_USER ${NOVA_STATE_PATH} ${NOVA_STATE_PATH}/keys local dbname=""$1"" local conffile=""$2"" recreate_database $dbname $NOVA_BIN_DIR/nova-manage --config-file $conffile db sync --local_cell # All nova components talk to a central database. # Only do this step once on the API node for an entire cluster. if is_service_enabled $DATABASE_BACKENDS && is_service_enabled n-api; then # (Re)create nova databases if [[ ""$CELLSV2_SETUP"" == ""singleconductor"" ]]; then # If we are doing singleconductor mode, we have some strange # interdependencies. in that the main config refers to cell1 # instead of cell0. In that case, just make sure the cell0 database # is created before we need it below, but don't db_sync it until # after the cellN databases are there. recreate_database nova_cell0 else async_run nova-cell-0 init_nova_db nova_cell0 $NOVA_CONF fi for i in $(seq 1 $NOVA_NUM_CELLS); do async_run nova-cell-$i init_nova_db nova_cell${i} $(conductor_conf $i) done recreate_database $NOVA_API_DB $NOVA_BIN_DIR/nova-manage --config-file $NOVA_CONF api_db sync # map_cell0 will create the cell mapping record in the nova_api DB so # this needs to come after the api_db sync happens. $NOVA_BIN_DIR/nova-manage cell_v2 map_cell0 --database_connection `database_connection_url nova_cell0` # Wait for DBs to finish from above for i in $(seq 0 $NOVA_NUM_CELLS); do async_wait nova-cell-$i done if [[ ""$CELLSV2_SETUP"" == ""singleconductor"" ]]; then # We didn't db sync cell0 above, so run it now $NOVA_BIN_DIR/nova-manage --config-file $NOVA_CONF db sync fi # Run online migrations on the new databases # Needed for flavor conversion $NOVA_BIN_DIR/nova-manage --config-file $NOVA_CONF db online_data_migrations # create the cell1 cell for the main nova db where the hosts live for i in $(seq 1 $NOVA_NUM_CELLS); do $NOVA_BIN_DIR/nova-manage --config-file $NOVA_CONF --config-file $(conductor_conf $i) cell_v2 create_cell --name ""cell$i"" done fi create_nova_keys_dir if [[ ""$NOVA_BACKEND"" == ""LVM"" ]]; then init_default_lvm_volume_group fi if use_library_from_git ""python-novaclient""; then git_clone_by_name ""python-novaclient"" setup_dev_lib ""python-novaclient"" sudo install -D -m 0644 -o $STACK_USER {${GITDIR[""python-novaclient""]}/tools/,/etc/bash_completion.d/}nova.bash_completion fi # Install os-vif if use_library_from_git ""os-vif""; then git_clone_by_name ""os-vif"" setup_dev_lib ""os-vif"" fi if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then install_nova_hypervisor fi if is_service_enabled n-novnc; then # a websockets/html5 or flash powered VNC console for vm instances NOVNC_FROM_PACKAGE=$(trueorfalse False NOVNC_FROM_PACKAGE) if [ ""$NOVNC_FROM_PACKAGE"" = ""True"" ]; then # Installing novnc on Debian bullseye breaks the global pip # install. This happens because novnc pulls in distro cryptography # which will be prefered by distro pip, but if anything has # installed pyOpenSSL from pypi (keystone) that is not compatible # with distro cryptography. Fix this by installing # python3-openssl (pyOpenSSL) from the distro which pip will prefer # on Debian. Ubuntu has inverse problems so we only do this for # Debian. local novnc_packages novnc_packages=""novnc"" GetOSVersion if [[ ""$os_VENDOR"" = ""Debian"" ]] ; then novnc_packages=""$novnc_packages python3-openssl"" fi NOVNC_WEB_DIR=/usr/share/novnc install_package $novnc_packages else NOVNC_WEB_DIR=$DEST/novnc git_clone $NOVNC_REPO $NOVNC_WEB_DIR $NOVNC_BRANCH fi fi if is_service_enabled n-spice; then # a websockets/html5 or flash powered SPICE console for vm instances SPICE_FROM_PACKAGE=$(trueorfalse True SPICE_FROM_PACKAGE) if [ ""$SPICE_FROM_PACKAGE"" = ""True"" ]; then SPICE_WEB_DIR=/usr/share/spice-html5 install_package spice-html5 else SPICE_WEB_DIR=$DEST/spice-html5 git_clone $SPICE_REPO $SPICE_WEB_DIR $SPICE_BRANCH fi fi git_clone $NOVA_REPO $NOVA_DIR $NOVA_BRANCH setup_develop $NOVA_DIR sudo install -D -m 0644 -o $STACK_USER {$NOVA_DIR/tools/,/etc/bash_completion.d/}nova-manage.bash_completion # Get right service port for testing local service_port=$NOVA_SERVICE_PORT local service_protocol=$NOVA_SERVICE_PROTOCOL local nova_url if is_service_enabled tls-proxy; then service_port=$NOVA_SERVICE_PORT_INT service_protocol=""http"" fi # Hack to set the path for rootwrap local old_path=$PATH export PATH=$NOVA_BIN_DIR:$PATH if [ ""$NOVA_USE_MOD_WSGI"" == ""False"" ]; then run_process n-api ""$NOVA_BIN_DIR/nova-api"" nova_url=$service_protocol://$SERVICE_HOST:$service_port # Start proxy if tsl enabled if is_service_enabled tls-proxy; then start_tls_proxy nova '*' $NOVA_SERVICE_PORT $NOVA_SERVICE_HOST $NOVA_SERVICE_PORT_INT fi else run_process ""n-api"" ""$(which uwsgi) --procname-prefix nova-api --ini $NOVA_UWSGI_CONF"" nova_url=$service_protocol://$SERVICE_HOST/compute/v2.1/ fi echo ""Waiting for nova-api to start..."" if ! wait_for_service $SERVICE_TIMEOUT $nova_url; then die $LINENO ""nova-api did not start"" fi export PATH=$old_path } # Hack to set the path for rootwrap local old_path=$PATH export PATH=$NOVA_BIN_DIR:$PATH local compute_cell_conf=$NOVA_CONF # Bug #1802143: $NOVA_CPU_CONF is constructed by first copying $NOVA_CONF... cp $compute_cell_conf $NOVA_CPU_CONF # ...and then adding/overriding anything explicitly set in $NOVA_CPU_CONF merge_config_file $TOP_DIR/local.conf post-config '$NOVA_CPU_CONF' if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then # NOTE(danms): Grenade doesn't setup multi-cell rabbit, so # skip these bits and use the normal config. echo ""Skipping multi-cell conductor fleet setup"" else # ""${CELLSV2_SETUP}"" is ""superconductor"" # FIXME(danms): Should this be configurable? iniset $NOVA_CPU_CONF workarounds disable_group_policy_check_upcall True # Since the nova-compute service cannot reach nova-scheduler over # RPC, we also disable track_instance_changes. iniset $NOVA_CPU_CONF filter_scheduler track_instance_changes False iniset_rpc_backend nova $NOVA_CPU_CONF DEFAULT ""nova_cell${NOVA_CPU_CELL}"" fi # Make sure we nuke any database config inidelete $NOVA_CPU_CONF database connection inidelete $NOVA_CPU_CONF api_database connection # Console proxies were configured earlier in create_nova_conf. Now that the # nova-cpu.conf has been created, configure the console settings required # by the compute process. configure_console_compute # Configure the OVSDB connection for os-vif if [ -n ""$OVSDB_SERVER_LOCAL_HOST"" ]; then iniset $NOVA_CPU_CONF os_vif_ovs ovsdb_connection ""tcp:$OVSDB_SERVER_LOCAL_HOST:6640"" fi # Workaround bug #1939108 if [[ ""$VIRT_DRIVER"" == ""libvirt"" && ""$LIBVIRT_TYPE"" == ""qemu"" ]]; then iniset $NOVA_CPU_CONF workarounds libvirt_disable_apic True fi if [[ ""$VIRT_DRIVER"" = 'libvirt' ]]; then # The group **$LIBVIRT_GROUP** is added to the current user in this script. # ``sg`` is used in run_process to execute nova-compute as a member of the # **$LIBVIRT_GROUP** group. run_process n-cpu ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF"" $LIBVIRT_GROUP elif [[ ""$VIRT_DRIVER"" = 'lxd' ]]; then run_process n-cpu ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF"" $LXD_GROUP elif [[ ""$VIRT_DRIVER"" = 'docker' || ""$VIRT_DRIVER"" = 'zun' ]]; then run_process n-cpu ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF"" $DOCKER_GROUP elif [[ ""$VIRT_DRIVER"" = 'fake' ]]; then local i for i in `seq 1 $NUMBER_FAKE_NOVA_COMPUTE`; do # Avoid process redirection of fake host configurations by # creating or modifying real configurations. Each fake # gets its own configuration and own log file. local fake_conf=""${NOVA_FAKE_CONF}-${i}"" iniset $fake_conf DEFAULT host ""${HOSTNAME}${i}"" run_process ""n-cpu-${i}"" ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF --config-file $fake_conf"" done else if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then start_nova_hypervisor fi run_process n-cpu ""$NOVA_BIN_DIR/nova-compute --config-file $NOVA_CPU_CONF"" fi export PATH=$old_path # Hack to set the path for rootwrap local old_path=$PATH export PATH=$NOVA_BIN_DIR:$PATH local compute_cell_conf=$NOVA_CONF run_process n-sch ""$NOVA_BIN_DIR/nova-scheduler --config-file $compute_cell_conf"" if [ ""$NOVA_USE_MOD_WSGI"" == ""False"" ]; then run_process n-api-meta ""$NOVA_BIN_DIR/nova-api-metadata --config-file $compute_cell_conf"" else run_process n-api-meta ""$(which uwsgi) --procname-prefix nova-api-meta --ini $NOVA_METADATA_UWSGI_CONF"" fi export PATH=$old_path for i in $(seq 1 $NOVA_NUM_CELLS); do for srv in n-novnc n-spice n-sproxy; do if is_service_enabled $srv; then enable_service ${srv}-cell${i} fi done done # Hack to set the path for rootwrap local old_path=$PATH # This is needed to find the nova conf export PATH=$NOVA_BIN_DIR:$PATH local api_cell_conf=$NOVA_CONF # console proxies run globally for singleconductor, else they run per cell if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then run_process n-novnc ""$NOVA_BIN_DIR/nova-novncproxy --config-file $api_cell_conf --web $NOVNC_WEB_DIR"" run_process n-spice ""$NOVA_BIN_DIR/nova-spicehtml5proxy --config-file $api_cell_conf --web $SPICE_WEB_DIR"" run_process n-sproxy ""$NOVA_BIN_DIR/nova-serialproxy --config-file $api_cell_conf"" else enable_nova_console_proxies for i in $(seq 1 $NOVA_NUM_CELLS); do local conf conf=$(conductor_conf $i) run_process n-novnc-cell${i} ""$NOVA_BIN_DIR/nova-novncproxy --config-file $conf --web $NOVNC_WEB_DIR"" run_process n-spice-cell${i} ""$NOVA_BIN_DIR/nova-spicehtml5proxy --config-file $conf --web $SPICE_WEB_DIR"" run_process n-sproxy-cell${i} ""$NOVA_BIN_DIR/nova-serialproxy --config-file $conf"" done fi export PATH=$old_path if is_service_enabled n-cond; then enable_service n-super-cond for i in $(seq 1 $NOVA_NUM_CELLS); do enable_service n-cond-cell${i} done fi if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then echo ""Starting nova-conductor in a cellsv1-compatible way"" run_process n-cond ""$NOVA_BIN_DIR/nova-conductor --config-file $NOVA_COND_CONF"" return fi enable_nova_fleet if is_service_enabled n-super-cond; then run_process n-super-cond ""$NOVA_BIN_DIR/nova-conductor --config-file $NOVA_COND_CONF"" fi for i in $(seq 1 $NOVA_NUM_CELLS); do if is_service_enabled n-cond-cell${i}; then local conf conf=$(conductor_conf $i) run_process n-cond-cell${i} ""$NOVA_BIN_DIR/nova-conductor --config-file $conf"" fi done # NOTE(sdague): with cells v2 all the compute services must be up # and checked into the database before discover_hosts is run. This # happens in all in one installs by accident, because > 30 seconds # happen between here and the script ending. However, in multinode # tests this can very often not be the case. So ensure that the # compute is up before we move on. wait_for_compute $NOVA_READY_TIMEOUT start_nova_rest start_nova_console_proxies start_nova_conductor start_nova_compute if is_service_enabled n-api; then # dump the cell mapping to ensure life is good echo ""Dumping cells_v2 mapping"" $NOVA_BIN_DIR/nova-manage cell_v2 list_cells --verbose fi if [ ""$VIRT_DRIVER"" == ""fake"" ]; then local i for i in `seq 1 $NUMBER_FAKE_NOVA_COMPUTE`; do stop_process n-cpu-${i} done else stop_process n-cpu fi if is_service_enabled n-cpu && [[ -r $NOVA_PLUGINS/hypervisor-$VIRT_DRIVER ]]; then stop_nova_hypervisor fi # Kill the non-compute nova processes for serv in n-api n-api-meta n-sch; do stop_process $serv done if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then for srv in n-novnc n-spice n-sproxy; do stop_process $srv done else enable_nova_console_proxies for i in $(seq 1 $NOVA_NUM_CELLS); do for srv in n-novnc n-spice n-sproxy; do stop_process ${srv}-cell${i} done done fi if [[ ""${CELLSV2_SETUP}"" == ""singleconductor"" ]]; then stop_process n-cond return fi enable_nova_fleet for srv in n-super-cond $(seq -f n-cond-cell%0.f 1 $NOVA_NUM_CELLS); do if is_service_enabled $srv; then stop_process $srv fi done stop_nova_rest stop_nova_console_proxies stop_nova_conductor stop_nova_compute if is_service_enabled n-api; then if ! openstack --os-region-name=""$REGION_NAME"" flavor list | grep -q ds512M; then # Note that danms hates these flavors and apologizes for sdague openstack --os-region-name=""$REGION_NAME"" flavor create --id c1 --ram 256 --disk 1 --vcpus 1 --property hw_rng:allowed=True cirros256 openstack --os-region-name=""$REGION_NAME"" flavor create --id d1 --ram 512 --disk 5 --vcpus 1 --property hw_rng:allowed=True ds512M openstack --os-region-name=""$REGION_NAME"" flavor create --id d2 --ram 1024 --disk 10 --vcpus 1 --property hw_rng:allowed=True ds1G openstack --os-region-name=""$REGION_NAME"" flavor create --id d3 --ram 2048 --disk 10 --vcpus 2 --property hw_rng:allowed=True ds2G openstack --os-region-name=""$REGION_NAME"" flavor create --id d4 --ram 4096 --disk 20 --vcpus 4 --property hw_rng:allowed=True ds4G fi if ! openstack --os-region-name=""$REGION_NAME"" flavor list | grep -q m1.tiny; then openstack --os-region-name=""$REGION_NAME"" flavor create --id 1 --ram 512 --disk 1 --vcpus 1 --property hw_rng:allowed=True m1.tiny openstack --os-region-name=""$REGION_NAME"" flavor create --id 2 --ram 2048 --disk 20 --vcpus 1 --property hw_rng:allowed=True m1.small openstack --os-region-name=""$REGION_NAME"" flavor create --id 3 --ram 4096 --disk 40 --vcpus 2 --property hw_rng:allowed=True m1.medium openstack --os-region-name=""$REGION_NAME"" flavor create --id 4 --ram 8192 --disk 80 --vcpus 4 --property hw_rng:allowed=True m1.large openstack --os-region-name=""$REGION_NAME"" flavor create --id 5 --ram 16384 --disk 160 --vcpus 8 --property hw_rng:allowed=True m1.xlarge fi fi",889,868
openstack%2Fproject-config~master~I1ec9729c4660f675fad0415dd2f0f9ebe713e4a5,openstack/project-config,master,I1ec9729c4660f675fad0415dd2f0f9ebe713e4a5,Make TC Rollcall-Vote label as Submit Requirements,ABANDONED,2022-12-24 03:08:51.000000000,2023-06-10 01:30:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-24 03:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3300b56f9f2f930509e30875e5cf3472f1fe0e7e', 'message': ""Make TC Rollcall-Vote label as Submit Requirements\n\nAdding Rollcall-Vote woth function AnyWithBlock and\n-2 as unused value so that it shows in 'Submit Requirements'\n\nChange-Id: I1ec9729c4660f675fad0415dd2f0f9ebe713e4a5\n""}, {'number': 2, 'created': '2022-12-25 04:32:14.000000000', 'files': ['gerrit/acls/openstack/governance.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/db2cf881587c96e06bf60011ce45dd156329f800', 'message': ""Make TC Rollcall-Vote label as Submit Requirements\n\nAdding Rollcall-Vote woth function AnyWithBlock and\n-2 as unused value so that it shows in 'Submit Requirements'\n\nChange-Id: I1ec9729c4660f675fad0415dd2f0f9ebe713e4a5\n""}]",1,868512,db2cf881587c96e06bf60011ce45dd156329f800,8,1,2,8556,,,0,"Make TC Rollcall-Vote label as Submit Requirements

Adding Rollcall-Vote woth function AnyWithBlock and
-2 as unused value so that it shows in 'Submit Requirements'

Change-Id: I1ec9729c4660f675fad0415dd2f0f9ebe713e4a5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/12/868512/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/governance.config'],1,3300b56f9f2f930509e30875e5cf3472f1fe0e7e,,function = AnyWithBlock value = -2 Unused -2,function = NoOp,2,1
openstack%2Ftempest~master~I2af6bd156e09392999bbc6064dd3f82b0fd7c40f,openstack/tempest,master,I2af6bd156e09392999bbc6064dd3f82b0fd7c40f,add group type negative testcase,ABANDONED,2021-07-23 07:52:28.000000000,2023-06-10 01:11:28.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-07-23 07:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7aafd7555a933cf67e991d865f1209ed78ff7c34', 'message': 'add group type negative testcase\n\nadd group type negative api testcase for empty and nonexistent group\ntype id\nChange-Id: I2af6bd156e09392999bbc6064dd3f82b0fd7c40f\n'}, {'number': 2, 'created': '2021-07-27 07:46:43.000000000', 'files': ['tempest/api/volume/admin/test_group_types_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/57cdf0eca7d9da3b780befb5f2684f4af92b3868', 'message': 'add group type negative testcase\n\nadd group type negative api testcase for empty and nonexistent group\ntype id\nChange-Id: I2af6bd156e09392999bbc6064dd3f82b0fd7c40f\n'}]",1,801974,57cdf0eca7d9da3b780befb5f2684f4af92b3868,10,3,2,30409,,,0,"add group type negative testcase

add group type negative api testcase for empty and nonexistent group
type id
Change-Id: I2af6bd156e09392999bbc6064dd3f82b0fd7c40f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/74/801974/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_group_types_negative.py'],1,7aafd7555a933cf67e991d865f1209ed78ff7c34,master26,"# Copyright 2020 Inspur # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.api.volume import base from tempest.lib.common.utils import data_utils from tempest.lib import decorators from tempest.lib import exceptions as lib_exc class GroupTypesNegativeTest(base.BaseVolumeAdminTest): """"""Negative tests of group type"""""" @decorators.attr(type=['negative']) @decorators.idempotent_id('2be0d387-68fe-4481-bbb1-302d229b91f5') def test_create_with_empty_name(self): """"""Test create group type with an empty name will fail"""""" group_specs = {""consistent_group_snapshot_enabled"": ""<is> False""} params = {'name': """", 'description': """", 'group_specs': group_specs, 'is_public': True} self.assertRaises( lib_exc.BadRequest, self.admin_group_types_client.create_group_type, **params) @decorators.attr(type=['negative']) @decorators.idempotent_id('e6d7fc98-3a06-4c04-be60-3d58b786a3e2') def test_get_nonexistent_group_type_id(self): """"""Test get group type with nonexistent group type id will fail"""""" self.assertRaises(lib_exc.NotFound, self.admin_group_types_client.show_group_type, data_utils.rand_uuid()) @decorators.attr(type=['negative']) @decorators.idempotent_id('58202b9d-4532-4771-bd6c-d4869179b6f9') def test_delete_nonexistent_group_type_id(self): """"""Test delete group type with nonexistent group type id will fail"""""" self.assertRaises(lib_exc.NotFound, self.admin_group_types_client.delete_group_type, data_utils.rand_uuid()) ",,52,0
openstack%2Ftempest~master~I7cb4f88f21815851ef052e12c0cffce3eac63255,openstack/tempest,master,I7cb4f88f21815851ef052e12c0cffce3eac63255,delete volume type in the use,ABANDONED,2021-08-19 07:15:55.000000000,2023-06-10 01:11:22.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-08-19 07:15:55.000000000', 'files': ['tempest/api/volume/admin/test_volume_types_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2cfec3995f2606fcc71143f5b3b4a5e7a2f20b82', 'message': 'delete volume type in the use\n\nTest deleting volume type with in the use will fail\n\nChange-Id: I7cb4f88f21815851ef052e12c0cffce3eac63255\n'}]",1,805126,2cfec3995f2606fcc71143f5b3b4a5e7a2f20b82,6,3,1,30409,,,0,"delete volume type in the use

Test deleting volume type with in the use will fail

Change-Id: I7cb4f88f21815851ef052e12c0cffce3eac63255
",git fetch https://review.opendev.org/openstack/tempest refs/changes/26/805126/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_types_negative.py'],1,2cfec3995f2606fcc71143f5b3b4a5e7a2f20b82,master31," @decorators.attr(type=['negative']) @decorators.idempotent_id('c7731eb0-e58c-981c-da31-d5e60cc9fa63') def test_delete_in_use_volume_type(self): """"""Test deleting volume type with in the use will fail"""""" params = {'os-volume-type-access:is_public': True} volume_type_id = self.create_volume_type(**params)['id'] params = {'name': data_utils.rand_name('volume'), 'volume_type': volume_type_id, 'size': 1} self.create_volume(**params) self.assertRaises(lib_exc.BadRequest, self.admin_volume_types_client.delete_volume_type, volume_type_id)",,14,0
openstack%2Ftempest~master~Ib6c8cad9d12edebb11acc58a168e0f20c7d41cb4,openstack/tempest,master,Ib6c8cad9d12edebb11acc58a168e0f20c7d41cb4,update volume type with an repeat name,ABANDONED,2021-08-19 07:13:46.000000000,2023-06-10 01:11:16.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-08-19 07:13:46.000000000', 'files': ['tempest/api/volume/admin/test_volume_types_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e4bbc620572c65886ca6a8d96ee55b1516fd4cb7', 'message': 'update volume type with an repeat name\n\nTest update volume type with an repeat name will fail\n\nChange-Id: Ib6c8cad9d12edebb11acc58a168e0f20c7d41cb4\n'}]",1,805125,e4bbc620572c65886ca6a8d96ee55b1516fd4cb7,6,3,1,30409,,,0,"update volume type with an repeat name

Test update volume type with an repeat name will fail

Change-Id: Ib6c8cad9d12edebb11acc58a168e0f20c7d41cb4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/25/805125/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_types_negative.py'],1,e4bbc620572c65886ca6a8d96ee55b1516fd4cb7,master30," @decorators.attr(type=['negative']) @decorators.idempotent_id('33ca8fa8-6059-7e3a-aa75-c1b086931032') def test_update_with_repeat_name(self): """"""Test update volume type with an repeat name will fail"""""" volume_type_id = self.create_volume_type()['id'] volume_type_name = self.create_volume_type()['name'] kwargs = {'name': volume_type_name, 'description': """", 'is_public': True} self.assertRaises( lib_exc.Conflict, self.admin_volume_types_client.update_volume_type, volume_type_id, **kwargs)",,14,0
openstack%2Ftempest~master~I292261a3479a9d0ed2f305eed06ea77ceda53688,openstack/tempest,master,I292261a3479a9d0ed2f305eed06ea77ceda53688,modify resource types relevant interface parameters,ABANDONED,2019-12-16 07:58:44.000000000,2023-06-10 01:11:11.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-16 07:58:44.000000000', 'files': ['tempest/lib/services/image/v2/resource_types_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/bea930e826f8652483821166af08cfb152de2e32', 'message': 'modify resource types relevant interface parameters\n\nmodify resource types relevant interface parameters for metadata\naccording to api description\n\nChange-Id: I292261a3479a9d0ed2f305eed06ea77ceda53688\n'}]",1,699164,bea930e826f8652483821166af08cfb152de2e32,4,2,1,30409,,,0,"modify resource types relevant interface parameters

modify resource types relevant interface parameters for metadata
according to api description

Change-Id: I292261a3479a9d0ed2f305eed06ea77ceda53688
",git fetch https://review.opendev.org/openstack/tempest refs/changes/64/699164/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/services/image/v2/resource_types_client.py'],1,bea930e826f8652483821166af08cfb152de2e32,master4," def create_resource_type_association(self, namespace_name, **kwargs): url = 'metadefs/namespaces/%s/resource_types' % namespace_name def list_resource_type_association(self, namespace_name): url = 'metadefs/namespaces/%s/resource_types' % namespace_name def delete_resource_type_association(self, namespace_name, resource_name): url = 'metadefs/namespaces/%s/resource_types/%s' % (namespace_name,"," def create_resource_type_association(self, namespace_id, **kwargs): url = 'metadefs/namespaces/%s/resource_types' % namespace_id def list_resource_type_association(self, namespace_id): url = 'metadefs/namespaces/%s/resource_types' % namespace_id def delete_resource_type_association(self, namespace_id, resource_name): url = 'metadefs/namespaces/%s/resource_types/%s' % (namespace_id,",6,6
openstack%2Ftempest~master~Ib482ac64d0b441ec27383b910eae70f32b39a41b,openstack/tempest,master,Ib482ac64d0b441ec27383b910eae70f32b39a41b,add api test for tasks schema,ABANDONED,2019-12-18 12:09:41.000000000,2023-06-10 01:11:04.000000000,,"[{'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 30409}]","[{'number': 1, 'created': '2019-12-18 12:09:41.000000000', 'files': ['tempest/api/image/v2/admin/test_tasks.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5f697a24a52bad5b4f43a4839b42e6805316af27', 'message': 'add api test for tasks schema\n\nadd api test for tasks schema in image service API V2\n\nChange-Id: Ib482ac64d0b441ec27383b910eae70f32b39a41b\n'}]",1,699672,5f697a24a52bad5b4f43a4839b42e6805316af27,9,4,1,30409,,,0,"add api test for tasks schema

add api test for tasks schema in image service API V2

Change-Id: Ib482ac64d0b441ec27383b910eae70f32b39a41b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/72/699672/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/v2/admin/test_tasks.py'],1,5f697a24a52bad5b4f43a4839b42e6805316af27,master6,"# Copyright 2019 INSPUR. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.api.image import base from tempest.lib import decorators class TaskSchemaTest(base.BaseV2ImageTest): """"""Test to get task schema"""""" @decorators.idempotent_id('34b754c9-4afe-4c49-b40a-09c6d5a6f697') def test_get_tasks_schema(self): # Test to get tasks schema body = self.schemas_client.show_schema(""tasks"") self.assertEqual(""tasks"", body['name']) @decorators.idempotent_id('5326476c-a1b1-4b28-9ccc-e6a45fd6d71f') def test_get_task_schema(self): # Test to get task schema body = self.schemas_client.show_schema(""task"") self.assertEqual(""task"", body['name']) ",,33,0
openstack%2Ftempest~master~If3cf23e1d2420c19b7d858a70d7dfd86630215b4,openstack/tempest,master,If3cf23e1d2420c19b7d858a70d7dfd86630215b4,add list role assignments interface and unit test,ABANDONED,2020-01-09 07:37:45.000000000,2023-06-10 01:10:55.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 26458}, {'_account_id': 30409}]","[{'number': 1, 'created': '2020-01-09 07:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8dd6b4f46ceea0af9269cfd7fe88c4351114b85b', 'message': 'add list role assignments interface and unit test\n\nadd list role assignments api to v3 role client and add unittest\n\nChange-Id: If3cf23e1d2420c19b7d858a70d7dfd86630215b4\n'}, {'number': 2, 'created': '2020-01-09 09:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/68cf9e387f0328c6ec13c4d552b37c61a592530a', 'message': 'add list role assignments interface and unit test\n\nadd list role assignments api to v3 role client and add unittest\n\nChange-Id: If3cf23e1d2420c19b7d858a70d7dfd86630215b4\n'}, {'number': 3, 'created': '2020-01-10 01:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ece209d8d5936750e1f9d788ce10205c2e02df19', 'message': 'add list role assignments interface and unit test\n\nadd list role assignments api to v3 role client and add unittest\n\nChange-Id: If3cf23e1d2420c19b7d858a70d7dfd86630215b4\n'}, {'number': 4, 'created': '2020-01-13 06:18:26.000000000', 'files': ['releasenotes/notes/add-list-role-assignments-api-to-v3-roles-client-6ba83e96c3713439.yaml', 'tempest/tests/lib/services/identity/v3/test_roles_client.py', 'tempest/lib/services/identity/v3/roles_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/cddcb69912a2bb63ae51094d4ce1a079fd257267', 'message': 'add list role assignments interface and unit test\n\nadd list role assignments api to v3 role client and add unittest\n\nChange-Id: If3cf23e1d2420c19b7d858a70d7dfd86630215b4\n'}]",7,701675,cddcb69912a2bb63ae51094d4ce1a079fd257267,23,6,4,30409,,,0,"add list role assignments interface and unit test

add list role assignments api to v3 role client and add unittest

Change-Id: If3cf23e1d2420c19b7d858a70d7dfd86630215b4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/75/701675/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-list-role-assignments-api-to-v3-roles-client-6ba83e96c3713439.yaml', 'tempest/tests/lib/services/identity/v3/test_roles_client.py', 'tempest/lib/services/identity/v3/roles_client.py']",3,8dd6b4f46ceea0af9269cfd7fe88c4351114b85b,master8," def list_role_assignments(self): """"""List role assignments. For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/identity/v3/index.html#list-role-assignments """""" resp, body = self.get('role_assignments') self.expected_success(200, resp.status) body = json.loads(body) return rest_client.ResponseBody(resp, body) ",,75,0
openstack%2Ftempest~master~Idddaa364f6da22fbe1a191f2bb91ff6171b01c63,openstack/tempest,master,Idddaa364f6da22fbe1a191f2bb91ff6171b01c63,add get limit enforement model interface and unittest,ABANDONED,2020-02-11 09:28:45.000000000,2023-06-10 01:10:41.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30409}]","[{'number': 1, 'created': '2020-02-11 09:28:45.000000000', 'files': ['tempest/lib/services/identity/v3/limits_client.py', 'tempest/tests/lib/services/identity/v3/test_limits_client.py', 'releasenotes/notes/add-identity-limits-clients-for-limits_relation_interface-9bfd217fd2c6a623.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3ca2e45044e3b4384dc81290ed462e67c973dce3', 'message': 'add get limit enforement model interface and unittest\n\nadd identity limits related interfaces in limits_client file\nand add unittest for get limit enforement model function\n\nChange-Id: Idddaa364f6da22fbe1a191f2bb91ff6171b01c63\n'}]",1,707085,3ca2e45044e3b4384dc81290ed462e67c973dce3,7,4,1,30409,,,0,"add get limit enforement model interface and unittest

add identity limits related interfaces in limits_client file
and add unittest for get limit enforement model function

Change-Id: Idddaa364f6da22fbe1a191f2bb91ff6171b01c63
",git fetch https://review.opendev.org/openstack/tempest refs/changes/85/707085/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/identity/v3/limits_client.py', 'tempest/tests/lib/services/identity/v3/test_limits_client.py', 'releasenotes/notes/add-identity-limits-clients-for-limits_relation_interface-9bfd217fd2c6a623.yaml']",3,3ca2e45044e3b4384dc81290ed462e67c973dce3,master12,--- features: - | Add limits related interface function to v3 limits_client library for keystone. * get_limit_enforement_model ,,87,0
openstack%2Ftempest~master~Ib94a20158dad934d557d1dd3b890166682d0ffed,openstack/tempest,master,Ib94a20158dad934d557d1dd3b890166682d0ffed,add delete group negative test,ABANDONED,2020-08-10 06:23:07.000000000,2023-06-10 01:10:23.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30409}]","[{'number': 1, 'created': '2020-08-10 06:23:07.000000000', 'files': ['tempest/api/identity/admin/v3/test_groups_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2a49da3f8cdc97c8276629034ae485b3ffd66cd2', 'message': 'add delete group negative test\n\ndelete a non existent group negative test for delete group interface\n\nChange-Id: Ib94a20158dad934d557d1dd3b890166682d0ffed\n'}]",1,745478,2a49da3f8cdc97c8276629034ae485b3ffd66cd2,12,3,1,30409,,,0,"add delete group negative test

delete a non existent group negative test for delete group interface

Change-Id: Ib94a20158dad934d557d1dd3b890166682d0ffed
",git fetch https://review.opendev.org/openstack/tempest refs/changes/78/745478/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_groups_negative.py'],1,2a49da3f8cdc97c8276629034ae485b3ffd66cd2,master24,"# Copyright 2020 Inspur # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.api.identity import base from tempest import config from tempest.lib.common.utils import data_utils from tempest.lib import decorators from tempest.lib import exceptions as lib_exc CONF = config.CONF class GroupsNegativeTest(base.BaseIdentityV3AdminTest): @decorators.attr(type=['negative']) @decorators.idempotent_id('1cc2c997-11bc-405f-90cf-7109331f4cfa') def test_delete_non_existent_group(self): """"""Attempt to delete a non existent group should fail"""""" self.assertRaises(lib_exc.NotFound, self.groups_client.delete_group, data_utils.rand_uuid_hex()) ",,33,0
openstack%2Ftempest~master~I8d538742c62975a14150c8387ae6ae953145f7bb,openstack/tempest,master,I8d538742c62975a14150c8387ae6ae953145f7bb,add create volume with image id not exist negative test,ABANDONED,2020-05-27 03:06:48.000000000,2023-06-10 01:10:15.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-27 03:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2b0c137379761d1c138747a9574d2443e9562be6', 'message': 'add create volume with image id not exist negative test\n\ncreate volume with image id not exist\n\nChange-Id: I8d538742c62975a14150c8387ae6ae953145f7bb\n'}, {'number': 2, 'created': '2020-05-27 05:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9040385fc840325ce02618307bcf076811d8a1f7', 'message': 'add create volume with image id not exist negative test\n\ncreate volume with image id not exist\n\nChange-Id: I8d538742c62975a14150c8387ae6ae953145f7bb\n'}, {'number': 3, 'created': '2020-05-27 07:54:05.000000000', 'files': ['tempest/api/volume/test_volumes_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e9b22ab0780a1ee82f8016033835aa7baaefe0e5', 'message': 'add create volume with image id not exist negative test\n\ncreate volume with image id not exist\n\nChange-Id: I8d538742c62975a14150c8387ae6ae953145f7bb\n'}]",1,731063,e9b22ab0780a1ee82f8016033835aa7baaefe0e5,7,2,3,30409,,,0,"add create volume with image id not exist negative test

create volume with image id not exist

Change-Id: I8d538742c62975a14150c8387ae6ae953145f7bb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/63/731063/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_negative.py'],1,2b0c137379761d1c138747a9574d2443e9562be6,master18," @decorators.attr(type=['negative']) @decorators.idempotent_id('aec872c9-01ed-4112-8c67-4da51aa0b34e') @utils.services('image') def test_create_volume_with_nonexistent_image_id(self): # Should not be able to create volume with non-existent image self.assertRaises(lib_exc.BadRequest, self.volumes_client.create_volume, size=CONF.volume.volume_size, imageRef=data_utils.rand_uuid()) ",,10,0
openstack%2Ftempest~master~Ia52e5062e33fc5988d6fe46a09cc5d4253e6c877,openstack/tempest,master,Ia52e5062e33fc5988d6fe46a09cc5d4253e6c877,add-image-service-import-method-to-service-client-library,ABANDONED,2020-04-01 02:58:09.000000000,2023-06-10 01:10:10.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-01 02:58:09.000000000', 'files': ['releasenotes/notes/add-image-service-import-method-to-service-client-library-702b291f8f451be8.yaml', 'tempest/lib/services/image/v2/service_client.py', 'tempest/tests/lib/services/image/v2/test_service_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f38a4b59d6201ccf9dbc6f869fb616888a1adf15', 'message': 'add-image-service-import-method-to-service-client-library\n\nadd import methods and values interface to v2 service client library\nof glance module\n\nChange-Id: Ia52e5062e33fc5988d6fe46a09cc5d4253e6c877\n'}]",1,716472,f38a4b59d6201ccf9dbc6f869fb616888a1adf15,5,3,1,30409,,,0,"add-image-service-import-method-to-service-client-library

add import methods and values interface to v2 service client library
of glance module

Change-Id: Ia52e5062e33fc5988d6fe46a09cc5d4253e6c877
",git fetch https://review.opendev.org/openstack/tempest refs/changes/72/716472/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-image-service-import-method-to-service-client-library-702b291f8f451be8.yaml', 'tempest/lib/services/image/v2/service_client.py', 'tempest/tests/lib/services/image/v2/test_service_client.py']",3,f38a4b59d6201ccf9dbc6f869fb616888a1adf15,master16,"# Copyright 2016 NEC Corporation. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.lib.services.image.v2 import service_client from tempest.tests.lib import fake_auth_provider from tempest.tests.lib.services import base class TestServiceClient(base.BaseServiceTest): FAKE_IMPORT_METHODS = { ""import-methods"": { ""description"": ""Import methods available."", ""type"": ""array"", ""value"": [ ""glance-direct"", ""web-download"" ] } } def setUp(self): super(TestServiceClient, self).setUp() fake_auth = fake_auth_provider.FakeAuthProvider() self.client = service_client.ServiceClient(fake_auth, 'image', 'regionOne') def _test_get_import_methods(self, bytes_body=False): self.check_service_client_function( self.client.get_import_methods, 'tempest.lib.common.rest_client.RestClient.get', self.FAKE_IMPORT_METHODS, bytes_body) def test_get_import_methods_with_str_body(self): self._test_get_import_methods() def test_get_import_methods_with_bytes_body(self): self._test_get_import_methods(bytes_body=True) ",,85,0
openstack%2Ftempest~master~I3e2c10f67ce0700ffcd1fa5f9931ba56f1449c35,openstack/tempest,master,I3e2c10f67ce0700ffcd1fa5f9931ba56f1449c35,add images task api to v2 tasks_client library,ABANDONED,2020-04-01 02:30:50.000000000,2023-06-10 01:10:03.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-01 02:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6903db81b983690d1d4f4a9f1d963099ec8e3aae', 'message': 'add images task api to v2 tasks_client library\n\nadd show and list tasks interface of images module to v2 tasks_client\nlibrary\n\nChange-Id: I3e2c10f67ce0700ffcd1fa5f9931ba56f1449c35\n'}, {'number': 2, 'created': '2020-04-01 06:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5896e83b7516a6f4191d2b9b361791da6e97ae32', 'message': 'add images task api to v2 tasks_client library\n\nadd show and list tasks interface of images module to v2 tasks_client\nlibrary\n\nChange-Id: I3e2c10f67ce0700ffcd1fa5f9931ba56f1449c35\n'}, {'number': 3, 'created': '2020-04-01 10:57:10.000000000', 'files': ['tempest/tests/lib/services/image/v2/test_tasks_client.py', 'releasenotes/notes/add-glance-show-list-tasks-apis-to-v3-tasks-client-204525b0aeaeae13.yaml', 'tempest/lib/services/image/v2/tasks_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/31f92d52b767d782a4b511b214e3fc0cdcf8ac0c', 'message': 'add images task api to v2 tasks_client library\n\nadd show and list tasks interface of images module to v2 tasks_client\nlibrary\n\nChange-Id: I3e2c10f67ce0700ffcd1fa5f9931ba56f1449c35\n'}]",1,716469,31f92d52b767d782a4b511b214e3fc0cdcf8ac0c,9,3,3,30409,,,0,"add images task api to v2 tasks_client library

add show and list tasks interface of images module to v2 tasks_client
library

Change-Id: I3e2c10f67ce0700ffcd1fa5f9931ba56f1449c35
",git fetch https://review.opendev.org/openstack/tempest refs/changes/69/716469/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/lib/services/image/v2/test_tasks_client.py', 'releasenotes/notes/add-glance-show-list-tasks-apis-to-v3-tasks-client-204525b0aeaeae13.yaml', 'tempest/lib/services/image/v2/tasks_client.py']",3,6903db81b983690d1d4f4a9f1d963099ec8e3aae,master15,"# Copyright 2013 IBM Corp. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_serialization import jsonutils as json from six.moves.urllib import parse as urllib from tempest.lib.common import rest_client class TasksClient(rest_client.RestClient): api_version = ""v2"" def show_task(self, task_id): url = 'tasks/%s' % task_id resp, body = self.get(url) self.expected_success(200, resp.status) body = json.loads(body) return rest_client.ResponseBody(resp, body) def list_tasks(self, params=None): url = 'tasks' if params: url += '?%s' % urllib.urlencode(params) resp, body = self.get(url) self.expected_success(200, resp.status) body = json.loads(body) return rest_client.ResponseBody(resp, body) ",,148,0
openstack%2Ftripleo-validations~stable%2Fwallaby~I95c408edbc84662085d9acd7f4387a64db9d8a3c,openstack/tripleo-validations,stable/wallaby,I95c408edbc84662085d9acd7f4387a64db9d8a3c,[Wallaby only] Update the nautilus repository URL,MERGED,2023-06-09 12:59:57.000000000,2023-06-09 21:54:59.000000000,2023-06-09 21:54:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2023-06-09 12:59:57.000000000', 'files': ['roles/ceph/molecule/ceph-ansible-installed/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cb2237c83d9a7e311c647847198e9ee87668d786', 'message': '[Wallaby only] Update the nautilus repository URL\n\nUpdate the URL for the package tripleo-centos-ceph-nautilus to tripleo-centos-ceph-pacific\n\nChange-Id: I95c408edbc84662085d9acd7f4387a64db9d8a3c\n'}]",1,885757,cb2237c83d9a7e311c647847198e9ee87668d786,7,2,1,34423,,,0,"[Wallaby only] Update the nautilus repository URL

Update the URL for the package tripleo-centos-ceph-nautilus to tripleo-centos-ceph-pacific

Change-Id: I95c408edbc84662085d9acd7f4387a64db9d8a3c
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/57/885757/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ceph/molecule/ceph-ansible-installed/prepare.yml'],1,cb2237c83d9a7e311c647847198e9ee87668d786,update-nautilus-repo, name: tripleo-centos-ceph-pacific baseurl: http://mirror.centos.org/centos/8-stream/storage/x86_64/ceph-pacific/, name: tripleo-centos-ceph-nautilus baseurl: http://mirror.centos.org/centos/8/storage/x86_64/ceph-nautilus/,2,2
openstack%2Fptgbot~master~I7a67ba777c004e57206976aca377fe3f41956db0,openstack/ptgbot,master,I7a67ba777c004e57206976aca377fe3f41956db0,[iCal] Add an iCal file route.,NEW,2023-06-07 14:47:57.000000000,2023-06-09 21:16:24.000000000,,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 14:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/fc072494235b96a3cfa6766ccf2ccb918e9abee5', 'message': '[iCal] Add an iCal file route.\n\nAdd a handler that converts the existing slot data into an ICS file.\nThis .ics file can be global "".../ptg.ics"" or per track "".../ironic.ics""\n\nRight now each block deafults to 30mins if there isn\'t a \'duration\'\nfield in the slot entry.\n\nChange-Id: I7a67ba777c004e57206976aca377fe3f41956db0\n'}, {'number': 2, 'created': '2023-06-08 17:27:53.000000000', 'files': ['ptgbot/web.py', 'ptgbot/ics.py'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/31c9a9fedb4a7e2f1047a733b4a794ea1fa44a58', 'message': '[iCal] Add an iCal file route.\n\nAdd a handler that converts the existing slot data into an ICS file.\nThis .ics file can be global "".../ptg.ics"" or per track "".../ironic.ics""\n\nRight now each block deafults to 30mins if there isn\'t a \'duration\'\nfield in the slot entry.\n\nChange-Id: I7a67ba777c004e57206976aca377fe3f41956db0\n'}]",5,885503,31c9a9fedb4a7e2f1047a733b4a794ea1fa44a58,5,2,2,12898,,,0,"[iCal] Add an iCal file route.

Add a handler that converts the existing slot data into an ICS file.
This .ics file can be global "".../ptg.ics"" or per track "".../ironic.ics""

Right now each block deafults to 30mins if there isn't a 'duration'
field in the slot entry.

Change-Id: I7a67ba777c004e57206976aca377fe3f41956db0
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/03/885503/1 && git format-patch -1 --stdout FETCH_HEAD,"['ptgbot/web.py', 'ptgbot/ics.py']",2,fc072494235b96a3cfa6766ccf2ccb918e9abee5,feature/iCal," import datetime import icalendar def json2ical(db, include_teams=""ALL""): teams = {} slots = {} # FIXME: The unused label and the _slots here are irritating. for label, _slots in db[""slots""].items(): for slot in _slots: slots[slot[""name""]] = slot for location, schedule in db[""schedule""].items(): for slot in schedule: team = schedule[slot] # FIXME: This is possibly wrong as teams can globally override the # VC url and ignore the setting in the room/slot/table if slot == ""url"" or team == """": continue teams.setdefault(team, []).append((location, slot)) if include_teams in [""ALL"", ""ptg""]: include_teams = list(teams.keys()) if isinstance(include_teams, str): include_teams = [include_teams] c = icalendar.Calendar() c.add(""prodid"", ""-//Opendev PTGBot//ptg.opendev.org//"") c.add(""version"", ""2.0"") for team in include_teams: for booking in teams.get(team, []): location, slot = booking url = db[""schedule""].get(location, {}).get(""url"", """") etherpad = db[""etherpads""].get(team, """") time = slots.get(slot, {}).get(""realtime"") # TODO(tonyb): 30 mins is a default picked to make the existing # DB work unchanged. We can leave this as is or pick another number # We could also potentially add 'default_duration' to the DB as a per-event # not hard-coded value to save adding a 'duration' to each slot. duration = slots.get(slot, {}).get(""duration"", 30) dtstart = datetime.datetime.fromisoformat(time) name = summary = ""[PTG] "" + team desc = ""Etherpad: "" + etherpad + ""\n"" uid = (dtstart.strftime(""%Y%m%d%H%M"") + ""/"" + location + ""@ptg.opendev.org"") e = icalendar.Event() e.add(""name"", name) e.add(""summary"", summary) e.add(""description"", desc) e.add(""dtstart"", dtstart) e.add(""dtend"", dtstart + datetime.timedelta(mins=duration)) e.add(""priority"", 0) # FIXME: Why the change in format # FIXME: Check for empty url? it shouldn't happen due to the way we build the # the teams/bookings lists e[""location""] = icalendar.vText(url) e[""uid""] = uid c.add_component(e) return c.to_ical() ",,77,0
openstack%2Fneutron~master~I8c87e5ff7b948455c62e2fa2a3c89b8b1e45875c,openstack/neutron,master,I8c87e5ff7b948455c62e2fa2a3c89b8b1e45875c,Stop the RPC connections when the agent exits,MERGED,2023-05-19 16:53:59.000000000,2023-06-09 20:47:16.000000000,2023-06-09 20:46:09.000000000,"[{'_account_id': 4694}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 16:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a9034f42ace48d8c902ab85613aef899ce20fd5b', 'message': '[WIP] Stop the RPC connections when the agent exits\n\nTODO: testing\n\nCloses-Bug: #2019314\nChange-Id: I8c87e5ff7b948455c62e2fa2a3c89b8b1e45875c\n'}, {'number': 2, 'created': '2023-06-06 13:22:49.000000000', 'files': ['neutron/plugins/ml2/drivers/agent/_common_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/agent/test__common_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/050536c66e4f8cdc6c7aa3ff77c0e9995db5717a', 'message': 'Stop the RPC connections when the agent exits\n\nThis behaviour is already present in the OVS agent RPC plugin;\nthis patch is imitating that in the ``CommonAgentLoop`` class.\n\nCloses-Bug: #2019314\nChange-Id: I8c87e5ff7b948455c62e2fa2a3c89b8b1e45875c\n'}]",6,883685,050536c66e4f8cdc6c7aa3ff77c0e9995db5717a,27,5,2,16688,,,0,"Stop the RPC connections when the agent exits

This behaviour is already present in the OVS agent RPC plugin;
this patch is imitating that in the ``CommonAgentLoop`` class.

Closes-Bug: #2019314
Change-Id: I8c87e5ff7b948455c62e2fa2a3c89b8b1e45875c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/85/883685/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/agent/_common_agent.py'],1,a9034f42ace48d8c902ab85613aef899ce20fd5b,bug/2019314, self.connection = None if self.connection: self.connection.stop(),,3,0
openstack%2Fneutron~master~If0f843463edfd7edc5c897cc098de31444f9d81b,openstack/neutron,master,If0f843463edfd7edc5c897cc098de31444f9d81b,[OVN] The L3 scheduler does not use all chassis by default,MERGED,2023-05-25 09:45:00.000000000,2023-06-09 20:39:04.000000000,2023-06-09 20:37:12.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 09:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c21986b8805a3579d9f5d68b08806214cb99375e', 'message': '[OVN] The L3 scheduler does not use all chassis by default\n\nAny OVN scheduler, inheriting from ``OVNGatewayScheduler``, calls\n``_schedule_gateway`` to make the decision of in what chassis the\nrouter gatweway should be located. Before this patch, if the list\nof candidates was empty, the scheduler used all available chassis\nas candidate list. This patch is removing this default behaviour.\nIn a deployment, only those chassis marked explicitly with\n""ovn-cms-options=enable-chassis-as-gw"" can be used as gateway\nchassis.\n\nAfter enabling this patch, any existing router gateway port will\npreserve the assigned chassis; any new router gateway will be\nscheduled only on the chassis configured as gateways.\n\nIf a router gateway port cannot find any chassis to be scheduled,\nthe ""neutron-ovn-invalid-chassis"" will be used instead and a\nwarning message will be printed in the logs.\n\nCloses-Bug: #2019217\nChange-Id: If0f843463edfd7edc5c897cc098de31444f9d81b\n'}, {'number': 2, 'created': '2023-05-25 13:26:49.000000000', 'files': ['releasenotes/notes/ovn-l3-scheduler-only-on-gw-chassis-33c22c1f5f7a73d4.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/scheduler/l3_ovn_scheduler.py', 'neutron/tests/unit/scheduler/test_l3_ovn_scheduler.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/413044f253b6d434164e8a94dbeccec7b1b79ebe', 'message': '[OVN] The L3 scheduler does not use all chassis by default\n\nAny OVN scheduler, inheriting from ``OVNGatewayScheduler``, calls\n``_schedule_gateway`` to make the decision of in what chassis the\nrouter gatweway should be located. Before this patch, if the list\nof candidates was empty, the scheduler used all available chassis\nas candidate list. This patch is removing this default behaviour.\nIn a deployment, only those chassis marked explicitly with\n""ovn-cms-options=enable-chassis-as-gw"" can be used as gateway\nchassis.\n\nAfter enabling this patch, any existing router gateway port will\npreserve the assigned chassis; any new router gateway will be\nscheduled only on the chassis configured as gateways.\n\nIf a router gateway port cannot find any chassis to be scheduled,\nthe ""neutron-ovn-invalid-chassis"" will be used instead and a\nwarning message will be printed in the logs.\n\nCloses-Bug: #2019217\nChange-Id: If0f843463edfd7edc5c897cc098de31444f9d81b\n'}]",5,884323,413044f253b6d434164e8a94dbeccec7b1b79ebe,19,6,2,16688,,,0,"[OVN] The L3 scheduler does not use all chassis by default

Any OVN scheduler, inheriting from ``OVNGatewayScheduler``, calls
``_schedule_gateway`` to make the decision of in what chassis the
router gatweway should be located. Before this patch, if the list
of candidates was empty, the scheduler used all available chassis
as candidate list. This patch is removing this default behaviour.
In a deployment, only those chassis marked explicitly with
""ovn-cms-options=enable-chassis-as-gw"" can be used as gateway
chassis.

After enabling this patch, any existing router gateway port will
preserve the assigned chassis; any new router gateway will be
scheduled only on the chassis configured as gateways.

If a router gateway port cannot find any chassis to be scheduled,
the ""neutron-ovn-invalid-chassis"" will be used instead and a
warning message will be printed in the logs.

Closes-Bug: #2019217
Change-Id: If0f843463edfd7edc5c897cc098de31444f9d81b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/884323/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovn-l3-scheduler-only-on-gw-chassis-33c22c1f5f7a73d4.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/scheduler/l3_ovn_scheduler.py', 'neutron/tests/unit/scheduler/test_l3_ovn_scheduler.py', 'neutron/services/ovn_l3/plugin.py']",5,c21986b8805a3579d9f5d68b08806214cb99375e,bug/2019217," self._nb_ovn, g_name, candidates=candidates,"," self._nb_ovn, self._sb_ovn, g_name, candidates=candidates,",56,37
openstack%2Fneutron~stable%2Fwallaby~I160dfc4e893b93ac7a40e19b3dd6b89750dac57d,openstack/neutron,stable/wallaby,I160dfc4e893b93ac7a40e19b3dd6b89750dac57d,[OVN][Migration] Enable settings backup subnet for NFS clients,MERGED,2023-05-22 15:03:51.000000000,2023-06-09 20:38:28.000000000,2023-06-09 20:37:16.000000000,"[{'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34118}]","[{'number': 1, 'created': '2023-05-22 15:03:51.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/recovery-backup/tasks/main.yml', 'doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0fb61d06a3b58a3d62e85cd9a5ab6b6c40b12c77', 'message': '[OVN][Migration] Enable settings backup subnet for NFS clients\n\nIf the BACKUP_MIGRATION_IP is set to a different IP outside of\nthe default nets[1] set in the “openstack overcloud backup”\nplaybook setup_nfs role[2]. Then the NFS will fail to mount\ndirectories during the backup, because they will not be\nreachable | permitted.\nThis change simply adds a new variable\nBACKUP_MIGRATION_CTL_PLANE_CIDRS into the ovn_migration script\nto allow the user to overwrite the extra-var used for\nOpenstack overcloud backup --setup-nfs command.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/defaults/main.yml#L47\n[2] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml#L127\n\nChange-Id: I160dfc4e893b93ac7a40e19b3dd6b89750dac57d\n'}]",1,883722,0fb61d06a3b58a3d62e85cd9a5ab6b6c40b12c77,11,6,1,34271,,,0,"[OVN][Migration] Enable settings backup subnet for NFS clients

If the BACKUP_MIGRATION_IP is set to a different IP outside of
the default nets[1] set in the “openstack overcloud backup”
playbook setup_nfs role[2]. Then the NFS will fail to mount
directories during the backup, because they will not be
reachable | permitted.
This change simply adds a new variable
BACKUP_MIGRATION_CTL_PLANE_CIDRS into the ovn_migration script
to allow the user to overwrite the extra-var used for
Openstack overcloud backup --setup-nfs command.

[1] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/defaults/main.yml#L47
[2] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml#L127

Change-Id: I160dfc4e893b93ac7a40e19b3dd6b89750dac57d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/883722/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ovn_migration/tripleo_environment/playbooks/roles/recovery-backup/tasks/main.yml', 'doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh']",3,0fb61d06a3b58a3d62e85cd9a5ab6b6c40b12c77,migration_nfs_subnets-stable/wallaby,: ${BACKUP_MIGRATION_IP:=192.168.24.1} : ${BACKUP_MIGRATION_CTL_PLANE_CIDRS:=192.168.24.0/24} -e backup_migration_ctl_plane_cidrs=$BACKUP_MIGRATION_CTL_PLANE_CIDRS \,: ${BACKUP_MIGRATION_IP:=192.168.24.1} # TODO: Document this new var,10,1
openstack%2Fneutron~master~Ieb8aac6244d384b0af522f9ba145e9367de2c8ef,openstack/neutron,master,Ieb8aac6244d384b0af522f9ba145e9367de2c8ef,"Make ""project_id"" in ""L3HARouterNetwork"" unique constraint",MERGED,2023-04-27 15:24:29.000000000,2023-06-09 20:38:12.000000000,2023-06-09 20:37:03.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2023-04-27 15:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ca839894fd37d5b76486ad6814cd16956ab1648', 'message': 'Make ""project_id"" in ""L3HARouterNetwork"" unique index\n\nThere could be just only one HA network per project. This database\nenforcement guarantees this limitation.\n\nPartial-Bug: #2016198\nChange-Id: Ieb8aac6244d384b0af522f9ba145e9367de2c8ef\n'}, {'number': 2, 'created': '2023-04-28 08:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9561bf35c9012999c7c5c5a806beaa2fcd3b7026', 'message': 'Make ""project_id"" in ""L3HARouterNetwork"" unique index\n\nThere could be just only one HA network per project. This database\nenforcement guarantees this limitation.\n\nPartial-Bug: #2016198\nChange-Id: Ieb8aac6244d384b0af522f9ba145e9367de2c8ef\n'}, {'number': 3, 'created': '2023-04-28 08:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4a3b7e60230b884983f625e4d5077c7ce3a7c6b3', 'message': 'Make ""project_id"" in ""L3HARouterNetwork"" unique index\n\nThere could be just only one HA network per project. This database\nenforcement guarantees this limitation.\n\nPartial-Bug: #2016198\nChange-Id: Ieb8aac6244d384b0af522f9ba145e9367de2c8ef\n'}, {'number': 4, 'created': '2023-04-28 11:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/deac2cddb321828dda2f903e52119c78161d4a05', 'message': 'Make ""project_id"" in ""L3HARouterNetwork"" unique index\n\nThere could be just only one HA network per project. This database\nenforcement guarantees this limitation.\n\nPartial-Bug: #2016198\nChange-Id: Ieb8aac6244d384b0af522f9ba145e9367de2c8ef\n'}, {'number': 5, 'created': '2023-04-28 15:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/27f776fc5599820db65a28fb549c1239bbeabc16', 'message': 'Make ""project_id"" in ""L3HARouterNetwork"" unique constraint\n\nThere could be just only one HA network per project. This database\nenforcement guarantees this limitation.\n\nPartial-Bug: #2016198\nChange-Id: Ieb8aac6244d384b0af522f9ba145e9367de2c8ef\n'}, {'number': 6, 'created': '2023-04-28 16:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2716da9a768f5e1f6b1318ba61a4b7eafd8d478', 'message': 'Make ""project_id"" in ""L3HARouterNetwork"" unique constraint\n\nThere could be just only one HA network per project. This database\nenforcement guarantees this limitation.\n\nPartial-Bug: #2016198\nChange-Id: Ieb8aac6244d384b0af522f9ba145e9367de2c8ef\n'}, {'number': 7, 'created': '2023-05-02 13:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6bec7095e67bc9426f6d768fd2e2220dc3720a4', 'message': 'Make ""project_id"" in ""L3HARouterNetwork"" unique constraint\n\nThere could be just only one HA network per project. This database\nenforcement guarantees this limitation.\n\nPartial-Bug: #2016198\nChange-Id: Ieb8aac6244d384b0af522f9ba145e9367de2c8ef\n'}, {'number': 8, 'created': '2023-05-08 08:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0957c8a41ebb7f0db4b899813362fb2747b4324', 'message': 'Make ""project_id"" in ""L3HARouterNetwork"" unique constraint\n\nThere could be just only one HA network per project. This database\nenforcement guarantees this limitation.\n\nPartial-Bug: #2016198\nChange-Id: Ieb8aac6244d384b0af522f9ba145e9367de2c8ef\n'}, {'number': 9, 'created': '2023-05-08 09:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6fd416ccb8628fb5b6a8e782b86c3fddcfc799a', 'message': 'Make ""project_id"" in ""L3HARouterNetwork"" unique constraint\n\nThere could be just only one HA network per project. This database\nenforcement guarantees this limitation.\n\nPartial-Bug: #2016198\nChange-Id: Ieb8aac6244d384b0af522f9ba145e9367de2c8ef\n'}, {'number': 10, 'created': '2023-05-11 11:29:51.000000000', 'files': ['neutron/cmd/upgrade_checks/checks.py', 'releasenotes/notes/ha_router_networks_unique_per_project-4d02e963cfc8d546.yaml', 'neutron/db/migration/alembic_migrations/versions/2023.2/expand/682c319773d7_create_l3harouternetwork_project_id_.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/tests/unit/cmd/upgrade_checks/test_checks.py', 'neutron/db/models/l3ha.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a2ccfac32c2993e11ee9d958886d786914131e8', 'message': 'Make ""project_id"" in ""L3HARouterNetwork"" unique constraint\n\nThere could be just only one HA network per project. This database\nenforcement guarantees this limitation.\n\nPartial-Bug: #2016198\nChange-Id: Ieb8aac6244d384b0af522f9ba145e9367de2c8ef\n'}]",9,881735,6a2ccfac32c2993e11ee9d958886d786914131e8,61,8,10,16688,,,0,"Make ""project_id"" in ""L3HARouterNetwork"" unique constraint

There could be just only one HA network per project. This database
enforcement guarantees this limitation.

Partial-Bug: #2016198
Change-Id: Ieb8aac6244d384b0af522f9ba145e9367de2c8ef
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/881735/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/2023.2/expand/682c319773d7_create_l3harouternetwork_project_id_.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/models/l3ha.py']",4,6ca839894fd37d5b76486ad6814cd16956ab1648,bug/2016198,"class L3HARouterNetwork(model_base.BASEV2, model_base.HasProjectPrimaryUniqueKey):","class L3HARouterNetwork(model_base.BASEV2, model_base.HasProjectPrimaryKey):",42,3
openstack%2Fproject-config~master~I8b3169dd67c74e56633a2e4ebed19db2c5e6409d,openstack/project-config,master,I8b3169dd67c74e56633a2e4ebed19db2c5e6409d,launchpad: Use repo name to match project + series,NEW,2023-05-19 01:13:42.000000000,2023-06-09 20:18:07.000000000,,"[{'_account_id': 4690}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 01:13:42.000000000', 'files': ['roles/copy-release-tools-scripts/files/release-tools/release.sh', 'roles/copy-release-tools-scripts/files/release-tools/launchpad_add_comment_set_status.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d583c95b1dad2bab81f9896ff64e1fa6b060bc45', 'message': ""launchpad: Use repo name to match project + series\n\nNoticed recently that on a bug affecting multiple projects, it's\npossible for the wrong project + series combination to be set to\nFix Released because only the series is being checked.\n\nThis passes the repository name (example: openstack/nova) to the\nlaunchpad_add_comment_and_set_status.py script to extract the project\nand use it to locate the correct project + series task to update.\n\nChange-Id: I8b3169dd67c74e56633a2e4ebed19db2c5e6409d\n""}]",3,883603,d583c95b1dad2bab81f9896ff64e1fa6b060bc45,5,3,1,4690,,,0,"launchpad: Use repo name to match project + series

Noticed recently that on a bug affecting multiple projects, it's
possible for the wrong project + series combination to be set to
Fix Released because only the series is being checked.

This passes the repository name (example: openstack/nova) to the
launchpad_add_comment_and_set_status.py script to extract the project
and use it to locate the correct project + series task to update.

Change-Id: I8b3169dd67c74e56633a2e4ebed19db2c5e6409d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/03/883603/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/copy-release-tools-scripts/files/release-tools/release.sh', 'roles/copy-release-tools-scripts/files/release-tools/launchpad_add_comment_set_status.py']",2,d583c95b1dad2bab81f9896ff64e1fa6b060bc45,update-bug-project-series," parser.add_argument('--repository', help='The repository being released. ' 'Will be used to set the bug status to Fix Released ' 'when specified') project = '' # Get the project name from --repository if it was specified # This assumes that repository is of format: openstack/$project_name if args.repository: project = args.repository.rsplit('/', 1)[-1] msg = project + '/' + args.series if project else args.series print(""Setting #%d to 'Fix Released' on %s..."" % (bugid, msg), end='') if (task.bug_target_name.startswith(project) and task.bug_target_name.endswith(args.series)):","import re print(""Setting #%d to 'Fix Released' on %s..."" % (bugid, args.series), end='') # Find '\bSERIES$' in the bug_target_name if re.findall(r'\b%s$' % args.series, task.bug_target_name):",13,5
openstack%2Fironic~master~I15bf0476b80521d3bfb3be9d62534310b7c97e06,openstack/ironic,master,I15bf0476b80521d3bfb3be9d62534310b7c97e06,DO NOT MERGE: See if Unit tests fail more interestingly without wal,ABANDONED,2023-06-07 21:13:12.000000000,2023-06-09 19:13:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-07 21:13:12.000000000', 'files': ['zuul.d/project.yaml', 'ironic/db/sqlalchemy/__init__.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e3c82c663f9383d64d5dfa109153db8e4b56e665', 'message': 'DO NOT MERGE: See if Unit tests fail more interestingly without wal\n\nChange-Id: I15bf0476b80521d3bfb3be9d62534310b7c97e06\n'}]",4,885550,e3c82c663f9383d64d5dfa109153db8e4b56e665,5,1,1,10342,,,0,"DO NOT MERGE: See if Unit tests fail more interestingly without wal

Change-Id: I15bf0476b80521d3bfb3be9d62534310b7c97e06
",git fetch https://review.opendev.org/openstack/ironic refs/changes/50/885550/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'ironic/db/sqlalchemy/__init__.py']",2,e3c82c663f9383d64d5dfa109153db8e4b56e665,,"#@event.listens_for(Engine, ""connect"") #def _setup_journal_mode(dbapi_connection, connection_record): # # NOTE(TheJulia): The string may not be loaded in some unit # # tests so handle whatever the output is as a string so we # # can lower/compare it and send the appropriate command to # # the database. # if 'sqlite' in str(CONF.database.connection).lower(): # dbapi_connection.execute(""PRAGMA journal_mode=WAL"")","@event.listens_for(Engine, ""connect"") def _setup_journal_mode(dbapi_connection, connection_record): # NOTE(TheJulia): The string may not be loaded in some unit # tests so handle whatever the output is as a string so we # can lower/compare it and send the appropriate command to # the database. if 'sqlite' in str(CONF.database.connection).lower(): dbapi_connection.execute(""PRAGMA journal_mode=WAL"")",66,66
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I73f7fea6ee7cf044da3f4608b5a63dc5cbf57fb2,openstack/tripleo-upgrade,stable/wallaby,I73f7fea6ee7cf044da3f4608b5a63dc5cbf57fb2,Modify workload creation script to include multirhel usecase,MERGED,2023-04-28 12:31:03.000000000,2023-06-09 18:14:08.000000000,2023-06-09 18:14:08.000000000,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 33080}]","[{'number': 1, 'created': '2023-04-28 12:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/815b25211617874b22ae8f7746afe148735e7627', 'message': 'Modify workload creation script to include multirhel usecase\n\n- Added --hypervisor-hostname to create vm on specific compute node\n- Compute node name will be fetch from the infrared inventory\n- Add el8_workload_launch function that will create vm/fip and volume\n  for rhel8 vms.\n\nChange-Id: I73f7fea6ee7cf044da3f4608b5a63dc5cbf57fb2\n'}, {'number': 2, 'created': '2023-05-02 15:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bba27b64e442d1e81d8690198e4c89b43ec99f11', 'message': 'Modify workload creation script to include multirhel usecase\n\n- Added --hypervisor-hostname to create vm on specific compute node\n- Compute node name will be fetch from the infrared inventory\n- Add el8_workload_launch function that will create vm/fip and volume\n  for rhel8 vms.\n\nChange-Id: I73f7fea6ee7cf044da3f4608b5a63dc5cbf57fb2\n'}, {'number': 3, 'created': '2023-05-08 13:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0076ffa5d171c2c345ccc9ca6a103936744138df', 'message': 'Modify workload creation script to include multirhel usecase\n\n- Added --hypervisor-hostname to create vm on specific compute node\n- Compute node name will be fetch from the infrared inventory\n- We will try to spin vm on ComputeRHEL8 node first and it we dont\nfind it then we will go to regular Compute role\n\nChange-Id: I73f7fea6ee7cf044da3f4608b5a63dc5cbf57fb2\n'}, {'number': 4, 'created': '2023-05-09 12:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d28fe2c88a9422e344d37bdd5e2921391d2c3392', 'message': 'Modify workload creation script to include multirhel usecase\n\n- Added --hypervisor-hostname to create vm on specific compute node\n- Compute node name will be fetch from the infrared inventory\n- We will try to spin vm on ComputeRHEL8 node first and it we dont\nfind it then we will go to regular Compute role\n\nChange-Id: I73f7fea6ee7cf044da3f4608b5a63dc5cbf57fb2\n'}, {'number': 5, 'created': '2023-05-09 14:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/51a99181ba8bc65450d71c96650afb9f8843cc92', 'message': 'Modify workload creation script to include multirhel usecase\n\n- Added --hypervisor-hostname to create vm on specific compute node\n- Compute node name will be fetch from the infrared inventory\n- We will try to spin vm on ComputeRHEL8 node first and it we dont\nfind it then we will go to regular Compute role\n\nChange-Id: I73f7fea6ee7cf044da3f4608b5a63dc5cbf57fb2\n'}, {'number': 6, 'created': '2023-05-16 08:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c4c8374f2cb1ab9fa7cd34aa94b960ae97289b86', 'message': 'Modify workload creation script to include multirhel usecase\n\n- Added --hypervisor-hostname to create vm on specific compute node\n- Compute node name will be fetch from the infrared inventory\n- We will try to spin vm on ComputeRHEL8 node first and it we dont\nfind it then we will go to regular Compute role\n\nChange-Id: I73f7fea6ee7cf044da3f4608b5a63dc5cbf57fb2\n'}, {'number': 7, 'created': '2023-05-25 14:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/627ca988c5525e1c08605f74808e1993a295811e', 'message': 'Modify workload creation script to include multirhel usecase\n\n- Added --hypervisor-hostname to create vm on specific compute node\n- Compute node name will be fetch from the infrared inventory\n- We will try to spin vm on ComputeRHEL8 node first and it we dont\nfind it then we will go to regular Compute role\n\nChange-Id: I73f7fea6ee7cf044da3f4608b5a63dc5cbf57fb2\n'}, {'number': 8, 'created': '2023-05-30 09:23:49.000000000', 'files': ['tasks/main.yml', 'tasks/update/create-overcloud-update-scripts.yaml', 'templates/workload_launch.sh.j2', 'tasks/common/create_workload.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5d1eeff5673542119a3ca225d1d33146401a3f32', 'message': 'Modify workload creation script to include multirhel usecase\n\n- Added --hypervisor-hostname to create vm on specific compute node\n- Compute node name will be fetch from the infrared inventory\n- We will try to spin vm on ComputeRHEL8 node first and it we dont\nfind it then we will go to regular Compute role\n\nChange-Id: I73f7fea6ee7cf044da3f4608b5a63dc5cbf57fb2\n'}]",17,881821,5d1eeff5673542119a3ca225d1d33146401a3f32,37,3,8,29307,,,0,"Modify workload creation script to include multirhel usecase

- Added --hypervisor-hostname to create vm on specific compute node
- Compute node name will be fetch from the infrared inventory
- We will try to spin vm on ComputeRHEL8 node first and it we dont
find it then we will go to regular Compute role

Change-Id: I73f7fea6ee7cf044da3f4608b5a63dc5cbf57fb2
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/21/881821/8 && git format-patch -1 --stdout FETCH_HEAD,"['templates/workload_launch.sh.j2', 'tasks/common/create_workload.yml']",2,815b25211617874b22ae8f7746afe148735e7627,,- name: generate roles list from inventory file import_tasks: ../common/load_roles_from_inventory.yaml ,,162,0
openstack%2Fdevstack~master~Id80b46acab7d600ad7394ab5bc1984304825a672,openstack/devstack,master,Id80b46acab7d600ad7394ab5bc1984304825a672,Use OS_CLOUD in sample local.sh,NEW,2023-06-09 14:26:19.000000000,2023-06-09 18:13:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-09 14:26:19.000000000', 'files': ['samples/local.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b063998f1e29a7e8cc3a355b381dffd308b3bc4b', 'message': 'Use OS_CLOUD in sample local.sh\n\nlocal.sh, if present, will be executed at the end of stack.sh. The\nsample file here is meant to be copied to devstack root if desired.\n\nUnfortunately, due to Change I86ffa9cd52454f1c1c72d29b3a0e0caa3e44b829\nchanging to use OS_CLOUD in stack.sh, sourcing openrc here will cause\nboth OS_CLOUD and traditional OS_* env vars to be set, which causes a\nconflict.\n\nChange-Id: Id80b46acab7d600ad7394ab5bc1984304825a672\n'}]",0,885764,b063998f1e29a7e8cc3a355b381dffd308b3bc4b,2,1,1,8064,,,0,"Use OS_CLOUD in sample local.sh

local.sh, if present, will be executed at the end of stack.sh. The
sample file here is meant to be copied to devstack root if desired.

Unfortunately, due to Change I86ffa9cd52454f1c1c72d29b3a0e0caa3e44b829
changing to use OS_CLOUD in stack.sh, sourcing openrc here will cause
both OS_CLOUD and traditional OS_* env vars to be set, which causes a
conflict.

Change-Id: Id80b46acab7d600ad7394ab5bc1984304825a672
",git fetch https://review.opendev.org/openstack/devstack refs/changes/64/885764/1 && git format-patch -1 --stdout FETCH_HEAD,['samples/local.sh'],1,b063998f1e29a7e8cc3a355b381dffd308b3bc4b,, export OS_CLOUD=devstack, source $TOP_DIR/openrc,1,1
openstack%2Fadjutant~stable%2Fxena~I1420f59cc5a315a47f7a4bfe0ac2a9761d06e11d,openstack/adjutant,stable/xena,I1420f59cc5a315a47f7a4bfe0ac2a9761d06e11d,Fix deprecated zuul queue syntax,MERGED,2023-06-06 18:50:32.000000000,2023-06-09 17:26:54.000000000,2023-06-07 06:55:12.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 18:50:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/af4cf0debaf8eb7d98a20e267e475430ed7bc215', 'message': 'Fix deprecated zuul queue syntax\n\nZuul deprecated (and now removed) declaring shared queues at a pipeline\nlevel [1]. This patch fixes the syntax to make the gate work for\nadjutant.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I1420f59cc5a315a47f7a4bfe0ac2a9761d06e11d\n'}]",2,885382,af4cf0debaf8eb7d98a20e267e475430ed7bc215,7,2,1,13252,,,0,"Fix deprecated zuul queue syntax

Zuul deprecated (and now removed) declaring shared queues at a pipeline
level [1]. This patch fixes the syntax to make the gate work for
adjutant.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I1420f59cc5a315a47f7a4bfe0ac2a9761d06e11d
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/82/885382/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,af4cf0debaf8eb7d98a20e267e475430ed7bc215,fix-zuul-errors, queue: adjutant jobs: - adjutant-black-style-check , queue: adjutant jobs: - adjutant-black-style-check,2,2
openstack%2Fmonasca-api~master~I6cfa0f392b10edf5e086b130606ba079a651c2a1,openstack/monasca-api,master,I6cfa0f392b10edf5e086b130606ba079a651c2a1,Update invalid zuul syntax,MERGED,2023-06-01 15:57:52.000000000,2023-06-09 17:26:43.000000000,2023-06-06 16:24:55.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 15:57:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/1421da749be2ab926d60c14024c12f664a7a85f4', 'message': 'Update invalid zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\nChange-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1\n'}]",1,885071,1421da749be2ab926d60c14024c12f664a7a85f4,6,2,1,13252,,,0,"Update invalid zuul syntax

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
Change-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/71/885071/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1421da749be2ab926d60c14024c12f664a7a85f4,fix-zuul-errors, queue: monasca, queue: monasca,1,1
openstack%2Fopenstack-helm-infra~master~Ic060d925b6e97e5651e74a1a1161906aef740a8c,openstack/openstack-helm-infra,master,Ic060d925b6e97e5651e74a1a1161906aef740a8c,Remove PodSecurityPolicy,MERGED,2023-06-02 01:57:31.000000000,2023-06-09 17:26:36.000000000,2023-06-09 17:24:15.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2023-06-02 01:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6d37882dbd313667adcf60e367fd80894cdc7e24', 'message': 'Remvoe PodSecurityPolicy\n\nPodSecurityPolicy was deprecated in Kubernetes v1.21, and removed from Kubernetes in v1.25.[1]\n\nIn Kubernetes 1.21, PodSecurityPolicy is deprecated. As with all Kubernetes feature deprecations, PodSecurityPolicy will continue to be available and fully-functional for several more releases. PodSecurityPolicy, previously in the beta stage, is planned for removal in Kubernetes 1.25.[2]\n\n[1] https://kubernetes.io/docs/concepts/security/pod-security-policy/\n[2] https://kubernetes.io/blog/2021/04/08/kubernetes-1-21-release-announcement/#podsecuritypolicy-deprecation\n\nChange-Id: Ic060d925b6e97e5651e74a1a1161906aef740a8c\n'}, {'number': 2, 'created': '2023-06-08 18:53:44.000000000', 'files': ['tools/deployment/podsecuritypolicy/000-install-packages.sh', 'podsecuritypolicy/Chart.yaml', 'releasenotes/notes/namespace-config.yaml', 'tools/deployment/podsecuritypolicy/005-deploy-k8s.sh', 'podsecuritypolicy/.helmignore', 'tools/deployment/podsecuritypolicy/007-podsecuritypolicy.sh', 'namespace-config/templates/psp-rbac.yaml', 'podsecuritypolicy/templates/podsecuritypolicy.yaml', 'podsecuritypolicy/requirements.yaml', 'namespace-config/values.yaml', 'releasenotes/config.yaml', 'podsecuritypolicy/values.yaml', 'releasenotes/notes/podsecuritypolicy.yaml', 'namespace-config/Chart.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'tools/deployment/podsecuritypolicy/006-config-k8s-psp.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/664f4c9dfb146a90c6f3681e0e9859d1daf33fcc', 'message': 'Remove PodSecurityPolicy\n\nPodSecurityPolicy was deprecated in Kubernetes v1.21, and removed from Kubernetes in v1.25.[1]\n\nIn Kubernetes 1.21, PodSecurityPolicy is deprecated. As with all Kubernetes feature deprecations, PodSecurityPolicy will continue to be available and fully-functional for several more releases. PodSecurityPolicy, previously in the beta stage, is planned for removal in Kubernetes 1.25.[2]\n\n[1] https://kubernetes.io/docs/concepts/security/pod-security-policy/\n[2] https://kubernetes.io/blog/2021/04/08/kubernetes-1-21-release-announcement/#podsecuritypolicy-deprecation\n\nChange-Id: Ic060d925b6e97e5651e74a1a1161906aef740a8c\n'}]",3,884598,664f4c9dfb146a90c6f3681e0e9859d1daf33fcc,12,3,2,33173,,,0,"Remove PodSecurityPolicy

PodSecurityPolicy was deprecated in Kubernetes v1.21, and removed from Kubernetes in v1.25.[1]

In Kubernetes 1.21, PodSecurityPolicy is deprecated. As with all Kubernetes feature deprecations, PodSecurityPolicy will continue to be available and fully-functional for several more releases. PodSecurityPolicy, previously in the beta stage, is planned for removal in Kubernetes 1.25.[2]

[1] https://kubernetes.io/docs/concepts/security/pod-security-policy/
[2] https://kubernetes.io/blog/2021/04/08/kubernetes-1-21-release-announcement/#podsecuritypolicy-deprecation

Change-Id: Ic060d925b6e97e5651e74a1a1161906aef740a8c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/98/884598/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/podsecuritypolicy/000-install-packages.sh', 'podsecuritypolicy/Chart.yaml', 'releasenotes/notes/namespace-config.yaml', 'tools/deployment/podsecuritypolicy/005-deploy-k8s.sh', 'podsecuritypolicy/.helmignore', 'tools/deployment/podsecuritypolicy/007-podsecuritypolicy.sh', 'namespace-config/templates/psp-rbac.yaml', 'podsecuritypolicy/templates/podsecuritypolicy.yaml', 'podsecuritypolicy/requirements.yaml', 'namespace-config/values.yaml', 'releasenotes/config.yaml', 'podsecuritypolicy/values.yaml', 'releasenotes/notes/podsecuritypolicy.yaml', 'namespace-config/Chart.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'tools/deployment/podsecuritypolicy/006-config-k8s-psp.sh']",17,6d37882dbd313667adcf60e367fd80894cdc7e24,remove-psp,,"#!/bin/bash # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -xe # This restarts minikube with podsecuritypolicy admission controller enabled sudo -E minikube stop sleep 10 sudo -E minikube start \ --docker-env HTTP_PROXY=""${HTTP_PROXY}"" \ --docker-env HTTPS_PROXY=""${HTTPS_PROXY}"" \ --docker-env NO_PROXY=""${NO_PROXY},10.96.0.0/12"" \ --extra-config=kubelet.network-plugin=cni \ --extra-config=controller-manager.allocate-node-cidrs=true \ --extra-config=controller-manager.cluster-cidr=192.168.0.0/16 \ --extra-config=apiserver.enable-admission-plugins=PodSecurityPolicy # NOTE: Wait for node to be ready. kubectl wait --timeout=240s --for=condition=Ready nodes/minikube ",2,404
openstack%2Foctavia~master~I4b2282d438cae573d156e3529e669c7ad27a0901,openstack/octavia,master,I4b2282d438cae573d156e3529e669c7ad27a0901,WIP Add an element for installing FRR daemon,NEW,2022-04-08 15:53:43.000000000,2023-06-09 16:54:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-08 15:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d53630f5e98ed2093c1a2024569e21e9667a2f69', 'message': 'WIP Add an element for installing FRR daemon\n\nChange-Id: I4b2282d438cae573d156e3529e669c7ad27a0901\n'}, {'number': 2, 'created': '2022-07-11 06:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/358de9c5caca3697c33d98408819009807dfdb16', 'message': 'WIP Add an element for installing FRR daemon\n\nChange-Id: I4b2282d438cae573d156e3529e669c7ad27a0901\n'}, {'number': 3, 'created': '2022-09-26 13:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fe9d13a1c51e2369e1a15d413a3808d257416d53', 'message': 'WIP Add an element for installing FRR daemon\n\nChange-Id: I4b2282d438cae573d156e3529e669c7ad27a0901\n'}, {'number': 4, 'created': '2023-04-11 05:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ceba584511d22c56db520edaf5e142100dd2ca41', 'message': 'WIP Add an element for installing FRR daemon\n\nChange-Id: I4b2282d438cae573d156e3529e669c7ad27a0901\n'}, {'number': 5, 'created': '2023-06-09 13:58:44.000000000', 'files': ['elements/frr/post-install.d/30-configure-frr', 'diskimage-create/diskimage-create.sh', 'elements/frr/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7519f779a2954cda0eca38f7c34fa5ace6a0b7a4', 'message': 'WIP Add an element for installing FRR daemon\n\nChange-Id: I4b2282d438cae573d156e3529e669c7ad27a0901\n'}]",0,837147,7519f779a2954cda0eca38f7c34fa5ace6a0b7a4,10,1,5,29244,,,0,"WIP Add an element for installing FRR daemon

Change-Id: I4b2282d438cae573d156e3529e669c7ad27a0901
",git fetch https://review.opendev.org/openstack/octavia refs/changes/47/837147/4 && git format-patch -1 --stdout FETCH_HEAD,"['elements/frr/post-install.d/30-configure-frr', 'diskimage-create/diskimage-create.sh', 'elements/frr/package-installs.yaml']",3,d53630f5e98ed2093c1a2024569e21e9667a2f69,bgp-exp,frr: ,,17,0
openstack%2Foctavia~master~If30fe1d471bb6e985b344ab892f4d8686c859a4d,openstack/octavia,master,If30fe1d471bb6e985b344ab892f4d8686c859a4d,WIP Configure FRR endpoint in devstack,NEW,2022-04-08 15:53:43.000000000,2023-06-09 16:53:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-08 15:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/27a9eeaf0f4381eaf99a7c3affc49453e5f5d517', 'message': 'WIP Configure FRR endpoint in devstack\n\nChange-Id: If30fe1d471bb6e985b344ab892f4d8686c859a4d\n'}, {'number': 2, 'created': '2022-07-11 06:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8d3d67601602060abeebaee6933df70c010668f4', 'message': 'WIP Configure FRR endpoint in devstack\n\nChange-Id: If30fe1d471bb6e985b344ab892f4d8686c859a4d\n'}, {'number': 3, 'created': '2022-09-26 13:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c36cca07cbb2d7ca77bc5407dc7a826bc1fc52ff', 'message': 'WIP Configure FRR endpoint in devstack\n\nChange-Id: If30fe1d471bb6e985b344ab892f4d8686c859a4d\n'}, {'number': 4, 'created': '2023-04-11 05:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f4961df2a494677759b5251f7518f70e8154cd11', 'message': 'WIP Configure FRR endpoint in devstack\n\nChange-Id: If30fe1d471bb6e985b344ab892f4d8686c859a4d\n'}, {'number': 5, 'created': '2023-06-09 13:58:44.000000000', 'files': ['devstack/plugin.sh', 'devstack/etc/frr/frr.conf', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c0bd8dfb5ced71d4a465c38545ae86db7128b9ed', 'message': 'WIP Configure FRR endpoint in devstack\n\nChange-Id: If30fe1d471bb6e985b344ab892f4d8686c859a4d\n'}]",1,837148,c0bd8dfb5ced71d4a465c38545ae86db7128b9ed,11,1,5,29244,,,0,"WIP Configure FRR endpoint in devstack

Change-Id: If30fe1d471bb6e985b344ab892f4d8686c859a4d
",git fetch https://review.opendev.org/openstack/octavia refs/changes/48/837148/3 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/etc/frr/frr.conf', 'devstack/settings']",3,27a9eeaf0f4381eaf99a7c3affc49453e5f5d517,bgp-exp," OCTAVIA_FRR_BGP_LOCAL_AS=${OCTAVIA_FRR_BGP_LOCAL_AS:-100} OCTAVIA_FRR_BGP_REMOTE_AS=${OCTAVIA_FRR_BGP_REMOTE_AS:-100} OCTAVIA_FRR_BGP_AUTH_PASSWORD=${OCTAVIA_FRR_BGP_AUTH_PASSWORD:-""mypassword""}",,102,0
openstack%2Fnova~master~Ib50cebc76c5a0446d3f58ed8abd6af6502af4e09,openstack/nova,master,Ib50cebc76c5a0446d3f58ed8abd6af6502af4e09,Support spawn an instance with a local share (compute manager part),NEW,2023-06-01 09:37:44.000000000,2023-06-09 16:32:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-01 09:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1f70e871abe02cfbe262c0c76da6ebf9754a525', 'message': 'Support spawn an instance with a local share (compute manager part)\n\nThis patch incorporates modifications to the compute manager, enabling the\nability to spawn an instance with a configured local share.\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: Ib50cebc76c5a0446d3f58ed8abd6af6502af4e09\n'}, {'number': 2, 'created': '2023-06-09 12:52:54.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dd085ae989ecffeffa84732f7cfb33e005cbfe8b', 'message': 'Support spawn an instance with a local share (compute manager part)\n\nThis patch incorporates modifications to the compute manager, enabling the\nability to spawn an instance with a configured local share.\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: Ib50cebc76c5a0446d3f58ed8abd6af6502af4e09\n'}]",0,885004,dd085ae989ecffeffa84732f7cfb33e005cbfe8b,9,1,2,16207,,,0,"Support spawn an instance with a local share (compute manager part)

This patch incorporates modifications to the compute manager, enabling the
ability to spawn an instance with a configured local share.

Implements: blueprint virtiofs-scaphandre
Change-Id: Ib50cebc76c5a0446d3f58ed8abd6af6502af4e09
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/885004/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,f1f70e871abe02cfbe262c0c76da6ebf9754a525,bp/virtiofs_scaphandre," share_info = self._get_share_info(context, instance) accel_info=accel_info, share_info=share_info)", accel_info=accel_info),141,17
openstack%2Fnova~master~I623fa6568cfa2259b91eac9dc43b08c5ec24a32d,openstack/nova,master,I623fa6568cfa2259b91eac9dc43b08c5ec24a32d,Do not mount local share at startup (init_instance),NEW,2023-06-01 09:37:44.000000000,2023-06-09 16:30:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-01 09:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8dac004f7a943afeba5b91b0c317173ffcbb44e', 'message': 'Do not mount local share at startup (init_instance)\n\nThis patch makes an adjustment to the\nIa498c72e1d79e98e4d50e2337a5acc4921910f06 change by skipping the\nmount phase.\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: I623fa6568cfa2259b91eac9dc43b08c5ec24a32d\n'}, {'number': 2, 'created': '2023-06-09 12:52:54.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/467d34e9e95edb663a89af9c1ff2933709c8105d', 'message': 'Do not mount local share at startup (init_instance)\n\nThis patch makes an adjustment to the\nIa498c72e1d79e98e4d50e2337a5acc4921910f06 change by skipping the\nmount phase.\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: I623fa6568cfa2259b91eac9dc43b08c5ec24a32d\n'}]",0,885001,467d34e9e95edb663a89af9c1ff2933709c8105d,10,1,2,16207,,,0,"Do not mount local share at startup (init_instance)

This patch makes an adjustment to the
Ia498c72e1d79e98e4d50e2337a5acc4921910f06 change by skipping the
mount phase.

Implements: blueprint virtiofs-scaphandre
Change-Id: I623fa6568cfa2259b91eac9dc43b08c5ec24a32d
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/885001/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,d8dac004f7a943afeba5b91b0c317173ffcbb44e,bp/virtiofs_scaphandre," LOCAL = fields.ShareMappingProto.LOCAL if not share_mapping.share_proto == LOCAL: self.mount_share(context, instance, share_mapping)"," self.mount_share(context, instance, share_mapping)",3,1
openstack%2Fnova~master~I118de236746f83d6f5a5133e44788fecc18a22c4,openstack/nova,master,I118de236746f83d6f5a5133e44788fecc18a22c4,Support spawn an instance with a local share (driver part),NEW,2023-06-01 09:37:44.000000000,2023-06-09 16:11:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-01 09:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/502f804ff3a7b9eb12982611677a3edae5242b16', 'message': 'Support spawn an instance with a local share (driver part)\n\nThis patch incorporates modifications to the driver, enabling the\nability to spawn an instance with a configured local share.\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: I118de236746f83d6f5a5133e44788fecc18a22c4\n'}, {'number': 2, 'created': '2023-06-09 12:52:54.000000000', 'files': ['nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/zvm/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f01da7aa21acdeb75c2030e9292febc492ed34c5', 'message': 'Support spawn an instance with a local share (driver part)\n\nThis patch incorporates modifications to the driver, enabling the\nability to spawn an instance with a configured local share.\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: I118de236746f83d6f5a5133e44788fecc18a22c4\n'}]",0,885003,f01da7aa21acdeb75c2030e9292febc492ed34c5,9,1,2,16207,,,0,"Support spawn an instance with a local share (driver part)

This patch incorporates modifications to the driver, enabling the
ability to spawn an instance with a configured local share.

Implements: blueprint virtiofs-scaphandre
Change-Id: I118de236746f83d6f5a5133e44788fecc18a22c4
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/885003/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/zvm/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",8,502f804ff3a7b9eb12982611677a3edae5242b16,bp/virtiofs_scaphandre," def _test_spawn_accels(self, accel_info, share_info, mock_get_disk_info): accel_info=accel_info, power_on=False, share_info=share_info) share_info = objects.ShareMappingList() instance = self._test_spawn_accels(accel_info, share_info) accel_info=[], share_info=share_info) share_info = objects.ShareMappingList() instance = self._test_spawn_accels(accel_info, share_info) accel_info=accel_info, share_info=share_info)"," def _test_spawn_accels(self, accel_info, mock_get_disk_info): accel_info=accel_info, power_on=False) instance = self._test_spawn_accels(accel_info) accel_info=[]) instance = self._test_spawn_accels(accel_info) accel_info=accel_info)",40,17
openstack%2Fnova~master~Ib471fd31e41df226ad0f09c4328b33eb7d0506eb,openstack/nova,master,Ib471fd31e41df226ad0f09c4328b33eb7d0506eb,Manage local share (compute manager part),NEW,2023-06-01 09:37:44.000000000,2023-06-09 16:05:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-01 09:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b29a6dbe647103f3de813b99d722b2e5dd93fe28', 'message': 'Manage local share (compute manager part)\n\nThe purpose of this patch is to enhance the functionality of\nthe _get_share_info method. It has been modified to include the\nconfiguration of a local share, if necessary. Depending on the status,\nthe method now manages the share_mappings to determine whether a\nlocal share should be added to the instance or not.\n\nUpon execution, this method will provide the ShareMappingList object,\nwhich defines the attachments to be associated with the instance.\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: Ib471fd31e41df226ad0f09c4328b33eb7d0506eb\n'}, {'number': 2, 'created': '2023-06-09 12:52:54.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ff0cfa4ced5bbdd83e9cf25c7f7e73f0d6fa5cb4', 'message': 'Manage local share (compute manager part)\n\nThe purpose of this patch is to enhance the functionality of\nthe _get_share_info method. It has been modified to include the\nconfiguration of a local share, if necessary. Depending on the status,\nthe method now manages the share_mappings to determine whether a\nlocal share should be added to the instance or not.\n\nUpon execution, this method will provide the ShareMappingList object,\nwhich defines the attachments to be associated with the instance.\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: Ib471fd31e41df226ad0f09c4328b33eb7d0506eb\n'}]",0,885000,ff0cfa4ced5bbdd83e9cf25c7f7e73f0d6fa5cb4,11,1,2,16207,,,0,"Manage local share (compute manager part)

The purpose of this patch is to enhance the functionality of
the _get_share_info method. It has been modified to include the
configuration of a local share, if necessary. Depending on the status,
the method now manages the share_mappings to determine whether a
local share should be added to the instance or not.

Upon execution, this method will provide the ShareMappingList object,
which defines the attachments to be associated with the instance.

Implements: blueprint virtiofs-scaphandre
Change-Id: Ib471fd31e41df226ad0f09c4328b33eb7d0506eb
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/885000/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,b29a6dbe647103f3de813b99d722b2e5dd93fe28,bp/virtiofs_scaphandre,"from oslo_utils import uuidutils # Algo: # 1. Do we have a local share ? # 2. Does this instance need a local share ? # 3. So we have 4 cases: # +-------+----------+-----------------------------------+ # | Local | Local | Actions | # | share | share | | # | | required | | # +-------+----------+-----------------------------------+ # | no | no | Do nothing | # | | | Get the list of share_mapping | # +-------+----------+-----------------------------------+ # | no | yes | Create a ""local"" share | # | | | Get the list of share_mapping | # | | | that will include the created one | # +-------+----------+-----------------------------------+ # | yes | no | Delete the ""local"" share | # | | | Get the list of share_mapping, | # | | | local share should no be included | # | | | anymore | # +-------+----------+-----------------------------------+ # | yes | yes | Do nothing | # | | | Get the list of share_mapping, | # | | | local share will be included. | # +-------+----------+-----------------------------------+ def is_local_share_required(): try: # We may have issues to retrieve instance properties, if the # instance is partialy deleted image_metadata = objects.ImageMeta.from_instance(instance) share_local_extra_spec = instance.flavor.extra_specs.get( ""hw:share_local_fs"" ) share_local_image_property = image_metadata.properties.get( ""hw_share_local_fs"" ) except exception.InstanceNotFound: share_local_extra_spec = False share_local_image_property = False if (share_local_extra_spec or share_local_image_property): return True return False local_share = objects.ShareMapping.get_local_share_by_instance_uuid( context, instance.uuid ) local_share_required = is_local_share_required() if local_share is None and local_share_required: # Create the local share local_share_conf = jsonutils.loads(CONF.share_local_fs) fs = next(iter(local_share_conf)) tag = local_share_conf[fs] local_share = objects.ShareMapping(context) local_share.uuid = uuidutils.generate_uuid() local_share.instance_uuid = instance.uuid local_share.share_id = uuidutils.generate_uuid() local_share.status = fields.ShareMappingStatus.INACTIVE local_share.tag = tag local_share.export_location = fs local_share.share_proto = fields.ShareMappingProto.LOCAL local_share.create() if local_share and not local_share_required: # Delete local share because it's no longer required local_share.delete() # Filter share_mapping in error to allow VM to start.", # Filter share_mapping in error to allow VM to start.,288,5
openstack%2Fnova~master~Ief0fed454e740ef69e5d4605c6ab3c108f3c4925,openstack/nova,master,Ief0fed454e740ef69e5d4605c6ab3c108f3c4925,Add hw_share_local_fs extra specs and image property,NEW,2023-06-01 09:37:44.000000000,2023-06-09 16:05:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-01 09:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9eea034339edf92beeaf928c0f0fb9d3426cff36', 'message': 'Add hw_share_local_fs extra specs and image property\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: Ief0fed454e740ef69e5d4605c6ab3c108f3c4925\n'}, {'number': 2, 'created': '2023-06-09 12:52:54.000000000', 'files': ['nova/notifications/objects/image.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/api/validation/extra_specs/test_validators.py', 'nova/tests/unit/objects/test_image_meta.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'doc/notification_samples/common_payloads/ImageMetaPropsPayload.json', 'nova/api/validation/extra_specs/hw.py', 'nova/objects/image_meta.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/62a5b2c661ac309b836539e69980d40f4f6bc698', 'message': 'Add hw_share_local_fs extra specs and image property\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: Ief0fed454e740ef69e5d4605c6ab3c108f3c4925\n'}]",0,884995,62a5b2c661ac309b836539e69980d40f4f6bc698,9,1,2,16207,,,0,"Add hw_share_local_fs extra specs and image property

Implements: blueprint virtiofs-scaphandre
Change-Id: Ief0fed454e740ef69e5d4605c6ab3c108f3c4925
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/884995/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/notifications/objects/image.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/api/validation/extra_specs/test_validators.py', 'nova/tests/unit/objects/test_image_meta.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'doc/notification_samples/common_payloads/ImageMetaPropsPayload.json', 'nova/api/validation/extra_specs/hw.py', 'nova/objects/image_meta.py']",9,9eea034339edf92beeaf928c0f0fb9d3426cff36,bp/virtiofs_scaphandre," # Version 1.35: Added 'hw_share_local_fs' field VERSION = '1.35' if target_version < (1, 35): primitive.pop('hw_share_local_fs', None) # boolean 'true' or 'false' to enable share_local_fs 'hw_share_local_fs': fields.FlexibleBooleanField(), ", VERSION = '1.34',43,7
openstack%2Ftripleo-quickstart-extras~master~Id32285e6674a5aee1a6fba3cbba300626d0b868e,openstack/tripleo-quickstart-extras,master,Id32285e6674a5aee1a6fba3cbba300626d0b868e,Adds CinderLVMLoopDeviceSize option if it is defined to standalone config,MERGED,2023-06-06 08:38:17.000000000,2023-06-09 16:01:41.000000000,2023-06-09 16:01:41.000000000,"[{'_account_id': 9976}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 08:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5438e8d31487d8067c6f59ffe8c60ee893343726', 'message': 'Adds CinderLVMLoopDeviceSize option if it is defined to standalone config\n\nChange-Id: Id32285e6674a5aee1a6fba3cbba300626d0b868e\n'}, {'number': 2, 'created': '2023-06-06 10:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f329402f2ae9a651b780178782de2d5d809f365d', 'message': 'Adds CinderLVMLoopDeviceSize option if it is defined to standalone config\n\nChange-Id: Id32285e6674a5aee1a6fba3cbba300626d0b868e\n'}, {'number': 3, 'created': '2023-06-06 10:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/07ce518593034a3228ed7b7f9c03a27e36e08253', 'message': 'Adds CinderLVMLoopDeviceSize option if it is defined to standalone config\n\nChange-Id: Id32285e6674a5aee1a6fba3cbba300626d0b868e\n'}, {'number': 4, 'created': '2023-06-06 13:48:37.000000000', 'files': ['roles/standalone/templates/standalone_config.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fb19dd085aff35a0bcaa0c6be5d9ec7740094186', 'message': 'Adds CinderLVMLoopDeviceSize option if it is defined to standalone config\n\nChange-Id: Id32285e6674a5aee1a6fba3cbba300626d0b868e\n'}]",3,885346,fb19dd085aff35a0bcaa0c6be5d9ec7740094186,18,3,4,32458,,,0,"Adds CinderLVMLoopDeviceSize option if it is defined to standalone config

Change-Id: Id32285e6674a5aee1a6fba3cbba300626d0b868e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/46/885346/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/templates/standalone_config.yaml.j2'],1,5438e8d31487d8067c6f59ffe8c60ee893343726,,{% if cinder_lvm_loop_device_size is defined %} CinderLVMLoopDeviceSize: {{ cinder_lvm_loop_device_size }} {% endif %},,3,0
openstack%2Fopenstack-manuals~master~I8ad7db9453f01721a9f0313cf22ca1e7df88aeb8,openstack/openstack-manuals,master,I8ad7db9453f01721a9f0313cf22ca1e7df88aeb8,Update deployment indices,MERGED,2023-06-09 12:53:40.000000000,2023-06-09 15:58:43.000000000,2023-06-09 15:35:13.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-09 12:53:40.000000000', 'files': ['www/stein/deploy/index.html', 'www/2023.2/deploy/index.html', 'www/train/deploy/index.html', 'www/zed/deploy/index.html', 'www/2023.1/deploy/index.html', 'www/ussuri/deploy/index.html', 'www/rocky/deploy/index.html', 'www/victoria/deploy/index.html', 'www/queens/deploy/index.html', 'www/xena/deploy/index.html', 'www/wallaby/deploy/index.html', 'www/yoga/deploy/index.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/35a193574653cc451f446695e03d4633189ede74', 'message': 'Update deployment indices\n\nThere are no new releases being made for tripleo, so no need to\nreference them from the deployment index pages.\n\nAlso everything older than 2023.2 has been released, we can drop the\n""in progress"" comment.\n\nChange-Id: I8ad7db9453f01721a9f0313cf22ca1e7df88aeb8\n'}]",0,885754,35a193574653cc451f446695e03d4633189ede74,7,2,1,13252,,,0,"Update deployment indices

There are no new releases being made for tripleo, so no need to
reference them from the deployment index pages.

Also everything older than 2023.2 has been released, we can drop the
""in progress"" comment.

Change-Id: I8ad7db9453f01721a9f0313cf22ca1e7df88aeb8
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/54/885754/1 && git format-patch -1 --stdout FETCH_HEAD,"['www/stein/deploy/index.html', 'www/2023.2/deploy/index.html', 'www/train/deploy/index.html', 'www/zed/deploy/index.html', 'www/2023.1/deploy/index.html', 'www/ussuri/deploy/index.html', 'www/rocky/deploy/index.html', 'www/victoria/deploy/index.html', 'www/queens/deploy/index.html', 'www/xena/deploy/index.html', 'www/wallaby/deploy/index.html', 'www/yoga/deploy/index.html']",12,35a193574653cc451f446695e03d4633189ede74,fix-deploy-index,, <p>This is documentation in progress for the next release.</p>,0,17
openstack%2Fnova~master~Id636b641820b97114105f64f1e9d680f45fc8fa2,openstack/nova,master,Id636b641820b97114105f64f1e9d680f45fc8fa2,Do not umount local share if instance id deleted,NEW,2023-06-01 09:37:44.000000000,2023-06-09 15:56:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-01 09:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77d5751d3426746226247bd42a9e89c6e6ec5bb4', 'message': 'Do not umount local share if instance id deleted\n\nThis patch make an adjustement to the\nI920266e5ff1397f6324344e21c56e243e9f02417 change by skipping umount\nphase for local share.\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: Id636b641820b97114105f64f1e9d680f45fc8fa2\n'}, {'number': 2, 'created': '2023-06-09 12:52:54.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d858ae41428c21bdd91ebb0627a3911a8bf20254', 'message': 'Do not umount local share if instance id deleted\n\nThis patch make an adjustement to the\nI920266e5ff1397f6324344e21c56e243e9f02417 change by skipping umount\nphase for local share.\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: Id636b641820b97114105f64f1e9d680f45fc8fa2\n'}]",0,885002,d858ae41428c21bdd91ebb0627a3911a8bf20254,12,1,2,16207,,,0,"Do not umount local share if instance id deleted

This patch make an adjustement to the
I920266e5ff1397f6324344e21c56e243e9f02417 change by skipping umount
phase for local share.

Implements: blueprint virtiofs-scaphandre
Change-Id: Id636b641820b97114105f64f1e9d680f45fc8fa2
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/885002/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,77d5751d3426746226247bd42a9e89c6e6ec5bb4,bp/virtiofs_scaphandre," if not share.share_proto == fields.ShareMappingProto.LOCAL: self.umount_share(context, instance, share)"," self.umount_share(context, instance, share)",2,1
openstack%2Fnova~master~I190cbc1d8fae93f6c93f92f6f2695e6d1b8dde28,openstack/nova,master,I190cbc1d8fae93f6c93f92f6f2695e6d1b8dde28,Add share_local_fs scheduler filter,NEW,2023-06-01 09:37:44.000000000,2023-06-09 15:56:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-01 09:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1570bea5466d0372a665bce7a35099b5916b1429', 'message': 'Add share_local_fs scheduler filter\n\nThis filter retains only nodes whose compute manager published the\nCOMPUTE_SHARE_LOCAL_FS trait.\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: I190cbc1d8fae93f6c93f92f6f2695e6d1b8dde28\n'}, {'number': 2, 'created': '2023-06-09 12:52:54.000000000', 'files': ['nova/tests/unit/scheduler/test_request_filter.py', 'nova/scheduler/request_filter.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/908c1eb384bcbe3a02794bfed2150c6415e4ba8f', 'message': 'Add share_local_fs scheduler filter\n\nThis filter retains only nodes whose compute manager published the\nCOMPUTE_SHARE_LOCAL_FS trait.\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: I190cbc1d8fae93f6c93f92f6f2695e6d1b8dde28\n'}]",0,884997,908c1eb384bcbe3a02794bfed2150c6415e4ba8f,9,1,2,16207,,,0,"Add share_local_fs scheduler filter

This filter retains only nodes whose compute manager published the
COMPUTE_SHARE_LOCAL_FS trait.

Implements: blueprint virtiofs-scaphandre
Change-Id: I190cbc1d8fae93f6c93f92f6f2695e6d1b8dde28
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/884997/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/test_request_filter.py', 'nova/scheduler/request_filter.py']",2,1570bea5466d0372a665bce7a35099b5916b1429,bp/virtiofs_scaphandre,"@trace_request_filter def share_local_fs_filter(ctxt, request_spec): """"""Allow only compute nodes with share_local_fs support. This filter retains only nodes whose compute manager published the COMPUTE_SHARE_LOCAL_FS trait. """""" trait_name = os_traits.COMPUTE_SHARE_LOCAL_FS if ( request_spec.flavor.extra_specs.get('hw:share_local_fs') or request_spec.image.properties.get('hw_share_local_fs') ): request_spec.root_required.add(trait_name) LOG.debug('share_local_fs request filter added required ' 'trait %s', trait_name) return True share_local_fs_filter,",,61,0
openstack%2Fnova~master~I13c92da63769957fad563540835b137630f2b1df,openstack/nova,master,I13c92da63769957fad563540835b137630f2b1df,Add new api to retrieve local share (object and db),NEW,2023-06-01 09:37:44.000000000,2023-06-09 15:54:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-01 09:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61930286ad3606aeea1097aef1902787e344ed94', 'message': 'Add new api to retrieve local share (object and db)\n\nThe purpose of this patch is to add a new method called\nshare_mapping_get_local_share_by_instance_uuid. Its function is to\ndetermine whether a local share has already been configured on a\nspecific instance.\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: I13c92da63769957fad563540835b137630f2b1df\n'}, {'number': 2, 'created': '2023-06-09 12:52:54.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/db/main/api.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/unit/objects/test_share_mapping.py', 'nova/objects/share_mapping.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/af3f13f9e2d8db2440e58385fc1966ef785b41f1', 'message': 'Add new api to retrieve local share (object and db)\n\nThe purpose of this patch is to add a new method called\nshare_mapping_get_local_share_by_instance_uuid. Its function is to\ndetermine whether a local share has already been configured on a\nspecific instance.\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: I13c92da63769957fad563540835b137630f2b1df\n'}]",0,884998,af3f13f9e2d8db2440e58385fc1966ef785b41f1,9,1,2,16207,,,0,"Add new api to retrieve local share (object and db)

The purpose of this patch is to add a new method called
share_mapping_get_local_share_by_instance_uuid. Its function is to
determine whether a local share has already been configured on a
specific instance.

Implements: blueprint virtiofs-scaphandre
Change-Id: I13c92da63769957fad563540835b137630f2b1df
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/884998/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/db/main/api.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/unit/objects/test_share_mapping.py', 'nova/objects/share_mapping.py']",5,61930286ad3606aeea1097aef1902787e344ed94,bp/virtiofs_scaphandre," if self.share_proto == fields.ShareMappingProto.LOCAL: self.delete() else: self.status = fields.ShareMappingStatus.INACTIVE self.save() @base.remotable_classmethod def get_local_share_by_instance_uuid( cls, context, instance_uuid): share_mapping = ShareMapping(context) db_share_mapping = db.share_mapping_get_local_share_by_instance_uuid( context, instance_uuid) if not db_share_mapping: return None assert isinstance(db_share_mapping, models.ShareMapping) return ShareMapping._from_db_object( context, share_mapping, db_share_mapping) ", self.status = fields.ShareMappingStatus.INACTIVE self.save(),153,9
openstack%2Fnova~master~I6f4fb2a355b1078de519d92c53e30034aa0f1316,openstack/nova,master,I6f4fb2a355b1078de519d92c53e30034aa0f1316,Manage local share (driver part),NEW,2023-06-01 09:37:44.000000000,2023-06-09 15:42:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-01 09:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/607b2724e05e472d157c1fd39e67afd9026bce3d', 'message': 'Manage local share (driver part)\n\nThis patch serves the purpose of managing local shares. It involves\nmodifying the libvirt XML file to establish a connection between the\nVM and the local share. The tag used for this connection is determined\nby the configuration value of the share_local_parameter parameter.\n\nThe share_local_parameter key specifies the root of the file system\n(fs) and appends the instance name to define the source directory\nthat will be mapped.\n\nFurthermore, the patch introduces support for the ""readonly"" attribute,\nbut it is currently inactive due to the lack of support for it in\nvirtiofs.\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: I6f4fb2a355b1078de519d92c53e30034aa0f1316\n'}, {'number': 2, 'created': '2023-06-09 12:52:54.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e0f19310446d6df72b67afd59b50f6752427bb2c', 'message': 'Manage local share (driver part)\n\nThis patch serves the purpose of managing local shares. It involves\nmodifying the libvirt XML file to establish a connection between the\nVM and the local share. The tag used for this connection is determined\nby the configuration value of the share_local_parameter parameter.\n\nThe share_local_parameter key specifies the root of the file system\n(fs) and appends the instance name to define the source directory\nthat will be mapped.\n\nFurthermore, the patch introduces support for the ""readonly"" attribute,\nbut it is currently inactive due to the lack of support for it in\nvirtiofs.\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: I6f4fb2a355b1078de519d92c53e30034aa0f1316\n'}]",0,884999,e0f19310446d6df72b67afd59b50f6752427bb2c,9,1,2,16207,,,0,"Manage local share (driver part)

This patch serves the purpose of managing local shares. It involves
modifying the libvirt XML file to establish a connection between the
VM and the local share. The tag used for this connection is determined
by the configuration value of the share_local_parameter parameter.

The share_local_parameter key specifies the root of the file system
(fs) and appends the instance name to define the source directory
that will be mapped.

Furthermore, the patch introduces support for the ""readonly"" attribute,
but it is currently inactive due to the lack of support for it in
virtiofs.

Implements: blueprint virtiofs-scaphandre
Change-Id: I6f4fb2a355b1078de519d92c53e30034aa0f1316
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/884999/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py']",3,607b2724e05e472d157c1fd39e67afd9026bce3d,bp/virtiofs_scaphandre, obj.ro = True <readonly/>,,17,1
openstack%2Fnova~master~I692ff5fc2a8b3af08a98cd72b3fda366042de869,openstack/nova,master,I692ff5fc2a8b3af08a98cd72b3fda366042de869,Add configuration option share_local_fs,NEW,2023-06-01 09:37:44.000000000,2023-06-09 15:31:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-01 09:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/645c30d39a4e86b27bd111c4519329c7ae06cf92', 'message': 'Add configuration option share_local_fs\n\nEnsure configuration enables supports_share_local_fs and respective\ntraits.\n\nImplements: blueprint virtiofs-scaphandre\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/872185\nChange-Id: I692ff5fc2a8b3af08a98cd72b3fda366042de869\n'}, {'number': 2, 'created': '2023-06-09 12:52:54.000000000', 'files': ['nova/conf/compute.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d4574e727d9d79137e4fa1718bf21659d5cbdd68', 'message': 'Add configuration option share_local_fs\n\nEnsure configuration enables supports_share_local_fs and respective\ntraits.\n\nImplements: blueprint virtiofs-scaphandre\n\nDepends-On: https://review.opendev.org/c/openstack/os-traits/+/872185\nChange-Id: I692ff5fc2a8b3af08a98cd72b3fda366042de869\n'}]",0,884994,d4574e727d9d79137e4fa1718bf21659d5cbdd68,9,1,2,16207,,,0,"Add configuration option share_local_fs

Ensure configuration enables supports_share_local_fs and respective
traits.

Implements: blueprint virtiofs-scaphandre

Depends-On: https://review.opendev.org/c/openstack/os-traits/+/872185
Change-Id: I692ff5fc2a8b3af08a98cd72b3fda366042de869
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/884994/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/tests/functional/libvirt/test_server_shares.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",6,645c30d39a4e86b27bd111c4519329c7ae06cf92,bp/virtiofs_scaphandre," @mock.patch.object(libvirt_driver.LibvirtDriver, '_register_all_undefined_instance_details', new=mock.Mock()) def test_driver_capabilities_share_local_fs(self): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr.init_host(""dummyhost"") self.assertFalse(drvr.capabilities['supports_share_local_fs'], 'Driver capabilities for ' '\'supports_share_local_fs\' ' 'is invalid when \'share_local_fs is not set\'') self.flags( share_local_fs= '{ ""/var"": ""scaphandre"" }') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr.init_host(""dummyhost"") self.assertTrue(drvr.capabilities['supports_share_local_fs']) self.flags( share_local_fs= '{ ""/zorglub"": ""scaphandre"" }') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) exp = self.assertRaises( exception.InternalError, drvr.init_host, ""dummyhost"") self.assertEqual( exp.message, ""share_local_fs provided directory does not exist"") # Providing invalid JSON missing ':' self.flags( share_local_fs= '{ ""/zorglub"" ""scaphandre"" }') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) exp = self.assertRaises( exception.InternalError, drvr.init_host, ""dummyhost"") self.assertEqual( exp.message, ""share_local_fs is not configured properly"") ",,85,1
openstack%2Fnova~master~Iae07354620ead717413294076bebb8917a6523da,openstack/nova,master,Iae07354620ead717413294076bebb8917a6523da,Add LOCAL storage type,NEW,2023-06-01 09:37:44.000000000,2023-06-09 15:29:00.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 09:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/472730f374d22629e0959655272034b3d626ec96', 'message': 'Add LOCAL storage type\n\nThis type is to handle directories defined by share_local_fs\nconfiguration option.\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: Iae07354620ead717413294076bebb8917a6523da\n'}, {'number': 2, 'created': '2023-06-09 12:52:54.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/objects/fields.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b094e784747d280aab3437222d1a4c7e68f5300c', 'message': 'Add LOCAL storage type\n\nThis type is to handle directories defined by share_local_fs\nconfiguration option.\n\nImplements: blueprint virtiofs-scaphandre\nChange-Id: Iae07354620ead717413294076bebb8917a6523da\n'}]",1,884996,b094e784747d280aab3437222d1a4c7e68f5300c,10,2,2,16207,,,0,"Add LOCAL storage type

This type is to handle directories defined by share_local_fs
configuration option.

Implements: blueprint virtiofs-scaphandre
Change-Id: Iae07354620ead717413294076bebb8917a6523da
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/884996/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/objects/fields.py']",2,472730f374d22629e0959655272034b3d626ec96,bp/virtiofs_scaphandre," LOCAL = ""LOCAL"" ALL = (NFS, CEPHFS, LOCAL)"," ALL = (NFS, CEPHFS)",3,2
openstack%2Fcharm-neutron-openvswitch~stable%2F2023.1~Ie6fb842ad8cd8b310f495cb308bf5e7f61f3cd18,openstack/charm-neutron-openvswitch,stable/2023.1,Ie6fb842ad8cd8b310f495cb308bf5e7f61f3cd18,Charm-helpers sync,NEW,2023-06-08 19:38:29.000000000,2023-06-09 15:04:38.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:38:29.000000000', 'files': ['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/1ec5f345eadc93bc223739cfe40b1862a04555a8', 'message': 'Charm-helpers sync\n\nSync to the latest revision available in the stable/antelope branch, among the\nmost relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: Ie6fb842ad8cd8b310f495cb308bf5e7f61f3cd18\n'}]",1,885616,1ec5f345eadc93bc223739cfe40b1862a04555a8,4,2,1,2424,,,0,"Charm-helpers sync

Sync to the latest revision available in the stable/antelope branch, among the
most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: Ie6fb842ad8cd8b310f495cb308bf5e7f61f3cd18
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/16/885616/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py']",2,1ec5f345eadc93bc223739cfe40b1862a04555a8,ch-sync-antelope," sent = relation_get(rid=rid, unit=local_unit()) legacy_keys = ['certificate_name', 'common_name'] is_legacy_request = set(sent).intersection(legacy_keys) elif is_legacy_request: bundles.append({ 'ca': data['ca'], 'chain': data.get('chain'), 'certs': {sent['common_name']: {'cert': data.get(local_name + '.server.cert'), 'key': data.get(local_name + '.server.key')}}}) ",,18,0
openstack%2Fcharm-glance~stable%2F2023.1~I9f09f414fd63148bca48118c5a1fe4877951d10b,openstack/charm-glance,stable/2023.1,I9f09f414fd63148bca48118c5a1fe4877951d10b,Charm-helpers sync,NEW,2023-06-08 19:35:36.000000000,2023-06-09 15:04:09.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:35:36.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/cert_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/6e5f144f8e5628195c5c1389b2cbfac062ccf75b', 'message': 'Charm-helpers sync\n\nSync to the latest revision available in the stable/antelope branch, among the\nmost relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I9f09f414fd63148bca48118c5a1fe4877951d10b\n'}]",1,885611,6e5f144f8e5628195c5c1389b2cbfac062ccf75b,5,3,1,2424,,,0,"Charm-helpers sync

Sync to the latest revision available in the stable/antelope branch, among the
most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I9f09f414fd63148bca48118c5a1fe4877951d10b
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/11/885611/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/cert_utils.py']",3,6e5f144f8e5628195c5c1389b2cbfac062ccf75b,ch-sync-antelope," sent = relation_get(rid=rid, unit=local_unit()) legacy_keys = ['certificate_name', 'common_name'] is_legacy_request = set(sent).intersection(legacy_keys) elif is_legacy_request: bundles.append({ 'ca': data['ca'], 'chain': data.get('chain'), 'certs': {sent['common_name']: {'cert': data.get(local_name + '.server.cert'), 'key': data.get(local_name + '.server.key')}}}) ",,19,1
openstack%2Fcharm-ironic-conductor~stable%2F2023.1~I0b76f1ef1c9de2253eabf69416ef1322f1b3ed9c,openstack/charm-ironic-conductor,stable/2023.1,I0b76f1ef1c9de2253eabf69416ef1322f1b3ed9c,Bump up Charm-helpers revision,ABANDONED,2023-06-08 20:00:47.000000000,2023-06-09 14:56:48.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:00:47.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/9e52f889a3f77b9a260569b46b8f8440175be988', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: I0b76f1ef1c9de2253eabf69416ef1322f1b3ed9c\n'}]",0,885636,9e52f889a3f77b9a260569b46b8f8440175be988,4,2,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: I0b76f1ef1c9de2253eabf69416ef1322f1b3ed9c
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/36/885636/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,9e52f889a3f77b9a260569b46b8f8440175be988,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Fcharm-ironic-api~stable%2F2023.1~Ic6591aa5c302a5e2ff8a18bd77a458f8ef6d2cf6,openstack/charm-ironic-api,stable/2023.1,Ic6591aa5c302a5e2ff8a18bd77a458f8ef6d2cf6,Bump up Charm-helpers revision,ABANDONED,2023-06-08 20:00:33.000000000,2023-06-09 14:56:07.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 20:00:33.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/903e1df874b5305b982b8b335fe41cb7cd698361', 'message': 'Bump up Charm-helpers revision\n\nUpdate src/build.lock to get the latest revision available in the\nstable/antelope branch, among the most relevant patches are:\n\n837a8b58 Support legacy cert requests (#799)\n580c7764 Update Makefile to be consistent with CI (#777) (#795)\na2468260 Run CI on stable branches (#786) (#787)\ned014373 Update method for checking endpoint protocol (#769) (#775)\n\nChange-Id: Ic6591aa5c302a5e2ff8a18bd77a458f8ef6d2cf6\n'}]",0,885635,903e1df874b5305b982b8b335fe41cb7cd698361,4,2,1,2424,,,0,"Bump up Charm-helpers revision

Update src/build.lock to get the latest revision available in the
stable/antelope branch, among the most relevant patches are:

837a8b58 Support legacy cert requests (#799)
580c7764 Update Makefile to be consistent with CI (#777) (#795)
a2468260 Run CI on stable branches (#786) (#787)
ed014373 Update method for checking endpoint protocol (#769) (#775)

Change-Id: Ic6591aa5c302a5e2ff8a18bd77a458f8ef6d2cf6
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/35/885635/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,903e1df874b5305b982b8b335fe41cb7cd698361,ch-sync-antelope," ""version"": ""837a8b58737d19e114ac7ac66f917101b2c01b04"","," ""version"": ""b9444c20fdf3dc938790ed208cd1053b60055590"",",1,1
openstack%2Ftripleo-quickstart~master~Id58b6b906fffc72753a26231aaae1d88a28aa6a6,openstack/tripleo-quickstart,master,Id58b6b906fffc72753a26231aaae1d88a28aa6a6,Replaces default trunk url by a mirror url in config files,MERGED,2023-05-30 19:42:51.000000000,2023-06-09 13:42:45.000000000,2023-06-09 13:41:46.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2023-05-30 19:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/09431ccdb594e76e800c65c0b9edac95b8374738', 'message': 'Pin openssl version, newer versions failing under FIPS\n\nChange-Id: Id58b6b906fffc72753a26231aaae1d88a28aa6a6\n'}, {'number': 2, 'created': '2023-05-31 19:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7bb7026984df5c429e6b4d6246ad4e180590eb83', 'message': 'Pin openssl version, newer versions failing under FIPS\n\nChange-Id: Id58b6b906fffc72753a26231aaae1d88a28aa6a6\n'}, {'number': 3, 'created': '2023-05-31 20:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/75436a106aa5fb2af5545ad12277acec9d1115be', 'message': 'Pin openssl version, newer versions failing under FIPS\n\nChange-Id: Id58b6b906fffc72753a26231aaae1d88a28aa6a6\n'}, {'number': 4, 'created': '2023-06-01 12:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/96f03d65a2f2b01bdb2c57d476015093de3caffb', 'message': 'Pin openssl version, newer versions failing under FIPS\n\nChange-Id: Id58b6b906fffc72753a26231aaae1d88a28aa6a6\n'}, {'number': 5, 'created': '2023-06-06 14:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4f178be8211b63bba964fa54d93864faa0e11b8c', 'message': 'Replaces curl due to issues with FIPS and new openssl versions\n\nThis patch is a workaround to avoid issue with curl and new openssl\nreleases when running on fips-enabled environments.\n\nRelated-Bug: #2023029\n\nChange-Id: Id58b6b906fffc72753a26231aaae1d88a28aa6a6\n'}, {'number': 6, 'created': '2023-06-06 16:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9b7a2111d1a49c37c227b6d8b64d2480d7e633ff', 'message': 'Replaces default trunk url with a mirror\n\n""trunk.rdoproject.org"" fails with curl when runnnig\nin fips-enabled systems. This patch replaces the default url\nwith the mirror url.\n\nRelated-Bug: #2023029\n\nChange-Id: Id58b6b906fffc72753a26231aaae1d88a28aa6a6\n'}, {'number': 7, 'created': '2023-06-07 15:41:29.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/wallaby.yml', 'config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3f4426c97a0f24109e014e91a8aae87f04a4adee', 'message': 'Replaces default trunk url by a mirror url in config files\n\n`curl` command fails with ""trunk.rdoproject.org"" when runnnig\na job in fips-enabled systems. Thiis patch replaces the default url\nwith the mirror url, which doesn\'t have the same issues.\nThis patch updates both wallaby and train configuration to be\nconsistent.\n\nRelated-Bug: #2023029\n\nChange-Id: Id58b6b906fffc72753a26231aaae1d88a28aa6a6\n'}]",13,884774,3f4426c97a0f24109e014e91a8aae87f04a4adee,33,6,7,30002,,,0,"Replaces default trunk url by a mirror url in config files

`curl` command fails with ""trunk.rdoproject.org"" when runnnig
a job in fips-enabled systems. Thiis patch replaces the default url
with the mirror url, which doesn't have the same issues.
This patch updates both wallaby and train configuration to be
consistent.

Related-Bug: #2023029

Change-Id: Id58b6b906fffc72753a26231aaae1d88a28aa6a6
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/74/884774/6 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/wallaby.yml']",2,09431ccdb594e76e800c65c0b9edac95b8374738,bug_2023029," # downgrading openssl. Version>3.0.7-6 is failing under fips mode # fails on curl, so it needs to be in repo_cmd_before sudo dnf install openssl-3.0.7-6.el9 -y exclude: - openssl-3.0.7-1*",,10,1
openstack%2Fmanila~master~Id60a0e009320a1e7b7ae7a84faf76c8bc3a50828,openstack/manila,master,Id60a0e009320a1e7b7ae7a84faf76c8bc3a50828,[DOC] Add doc for Share Transfer,MERGED,2023-05-25 15:10:25.000000000,2023-06-09 13:18:35.000000000,2023-06-09 13:16:31.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2023-05-25 15:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/53e0ddfed1f72efc76554b12441e080b36b0effa', 'message': '[DOC] Add doc for Share Transfer\n\nChange-Id: Id60a0e009320a1e7b7ae7a84faf76c8bc3a50828\n'}, {'number': 2, 'created': '2023-05-25 15:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9cc1d394c71d98ee0e9dcf98a365a00adb325941', 'message': '[DOC] Add doc for Share Transfer\n\nChange-Id: Id60a0e009320a1e7b7ae7a84faf76c8bc3a50828\n'}, {'number': 3, 'created': '2023-05-25 15:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ad1a1dc8bfce390788acae5144df40bb15639c55', 'message': '[DOC] Add doc for Share Transfer\n\nChange-Id: Id60a0e009320a1e7b7ae7a84faf76c8bc3a50828\n'}, {'number': 4, 'created': '2023-06-02 14:08:00.000000000', 'files': ['doc/source/user/create-and-manage-shares.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/e9f4bf7474e1ed1de525f75c0e8795b2bf742ea9', 'message': '[DOC] Add doc for Share Transfer\n\nChange-Id: Id60a0e009320a1e7b7ae7a84faf76c8bc3a50828\n'}]",24,884411,e9f4bf7474e1ed1de525f75c0e8795b2bf742ea9,29,3,4,33301,,,0,"[DOC] Add doc for Share Transfer

Change-Id: Id60a0e009320a1e7b7ae7a84faf76c8bc3a50828
",git fetch https://review.opendev.org/openstack/manila refs/changes/11/884411/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/create-and-manage-shares.rst'],1,53e0ddfed1f72efc76554b12441e080b36b0effa,,"Share Transfer ~~~~~~~~~~~ * Share transfer create .. note:: - Share transfer is available for ``driver_handles_share_servers=False``, only support transferring shares that are not tied to a share network. .. code-block:: console $ manila share-transfer-create myshare --name mytransfer +------------------------+--------------------------------------+ | Property | Value | +------------------------+--------------------------------------+ | id | 1c56314e-7e97-455a-bbde-83828db038d4 | | created_at | 2023-05-25T14:37:11.178869 | | name | mytransfer | | resource_type | share | | resource_id | 5573c214-ef79-4fb7-83f8-8c01fbe847f7 | | source_project_id | 88b1f2cf8f554edaa8dd92892d1eabf7 | | destination_project_id | None | | accepted | False | | expires_at | 2023-05-25T14:42:11.176049 | | auth_key | af429e22e0abc31d | +------------------------+--------------------------------------+ .. code-block:: console $ manila share-transfer-accept 1c56314e-7e97-455a-bbde-83828db038d4 af429e22e0abc31d .. code-block:: console $ manila share-transfer-delete 1c56314e-7e97-455a-bbde-83828db038d4 .. code-block:: console $ manila share-transfer-list +--------------------------------------+------------+---------------+--------------------------------------+ | ID | Name | Resource Type | Resource Id | +--------------------------------------+------------+---------------+--------------------------------------+ | 1c56314e-7e97-455a-bbde-83828db038d4 | mytransfer | share | 5573c214-ef79-4fb7-83f8-8c01fbe847f7 | +--------------------------------------+------------+---------------+--------------------------------------+ .. code-block:: console $ manila share-transfer-show 1c56314e-7e97-455a-bbde-83828db038d4 +------------------------+--------------------------------------+ | Property | Value | +------------------------+--------------------------------------+ | id | 1c56314e-7e97-455a-bbde-83828db038d4 | | created_at | 2023-05-25T14:37:11.178869 | | name | mytransfer | | resource_type | share | | resource_id | 5573c214-ef79-4fb7-83f8-8c01fbe847f7 | | source_project_id | 88b1f2cf8f554edaa8dd92892d1eabf7 | | destination_project_id | None | | accepted | False | | expires_at | 2023-05-25T14:42:11.176049 | +------------------------+--------------------------------------+ ",,62,0
openstack%2Fhorizon~master~I8cde590f2f5eece5e0504a81e6169eaad12b60b2,openstack/horizon,master,I8cde590f2f5eece5e0504a81e6169eaad12b60b2,Attempt to repair test_floatingips.py,ABANDONED,2023-06-09 13:14:47.000000000,2023-06-09 13:16:00.000000000,,[],"[{'number': 1, 'created': '2023-06-09 13:14:47.000000000', 'files': ['openstack_dashboard/test/integration_tests/tests/test_floatingips.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/54fb5eb995f75ee9d0346914d15e4ff5c6beb2cf', 'message': 'Attempt to repair test_floatingips.py\n\nChange-Id: I8cde590f2f5eece5e0504a81e6169eaad12b60b2\n'}]",0,885760,54fb5eb995f75ee9d0346914d15e4ff5c6beb2cf,2,0,1,6476,,,0,"Attempt to repair test_floatingips.py

Change-Id: I8cde590f2f5eece5e0504a81e6169eaad12b60b2
",git fetch https://review.opendev.org/openstack/horizon refs/changes/60/885760/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/test/integration_tests/tests/test_floatingips.py'],1,54fb5eb995f75ee9d0346914d15e4ff5c6beb2cf,ci-repair," INSTANCE_NAME = helpers.gen_random_resource_name('instance', timestamp=False) def test_floatingip_associate_disassociate(self): instance_name = helpers.gen_random_resource_name(self.INSTANCE_NAME,"," def test_floatingip_associate_disassociate(self): instance_name = helpers.gen_random_resource_name('instance',",4,1
openstack%2Fneutron-tempest-plugin~master~I191591db2499a45ab8d00238da1fe7403c96915d,openstack/neutron-tempest-plugin,master,I191591db2499a45ab8d00238da1fe7403c96915d,Fix vpn scenario test to work with DVR,NEW,2022-12-21 11:03:52.000000000,2023-06-09 13:05:28.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-21 11:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5e8310b2f33c086db87b17be0731e6dde7aa7725', 'message': 'Fix vpn scenario test to work with DVR\n\nIPSec is deployed in SNAT router in case of DVR,\nto make it work for instances with floating IPs we\nneed to add extra routes to neighbour subnet via SNAT.\n\nRelated-Prod: PRODX-29188\nChange-Id: I191591db2499a45ab8d00238da1fe7403c96915d\n'}, {'number': 2, 'created': '2023-06-07 11:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3c47bdf90747acd69b708daf95f3f5238dde36a6', 'message': 'Fix vpn scenario test to work with DVR\n\nIPSec is deployed in SNAT router in case of DVR,\nto make it work for instances with floating IPs we\nneed to add extra routes to neighbour subnet via SNAT.\n\nRelated-Prod: PRODX-29188\nChange-Id: I191591db2499a45ab8d00238da1fe7403c96915d\n'}, {'number': 3, 'created': '2023-06-09 06:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2c695cf5116c62379b1a14831585d5d807d1f4b1', 'message': 'Fix vpn scenario test to work with DVR\n\nIPSec is deployed in SNAT router in case of DVR,\nto make it work for instances with floating IPs we\nneed to add extra routes to neighbour subnet via SNAT.\n\nRelated-Prod: PRODX-29188\nChange-Id: I191591db2499a45ab8d00238da1fe7403c96915d\n'}, {'number': 4, 'created': '2023-06-09 06:25:42.000000000', 'files': ['neutron_tempest_plugin/vpnaas/scenario/test_vpnaas.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1ea2e9253a8230e411eb2113d903ed67dcce40e0', 'message': 'Fix vpn scenario test to work with DVR\n\nIPSec is deployed in SNAT router in case of DVR,\nto make it work for instances with floating IPs we\nneed to add extra routes to neighbour subnet via SNAT.\n\nChange-Id: I191591db2499a45ab8d00238da1fe7403c96915d\n'}]",9,868308,1ea2e9253a8230e411eb2113d903ed67dcce40e0,12,2,4,14525,,,0,"Fix vpn scenario test to work with DVR

IPSec is deployed in SNAT router in case of DVR,
to make it work for instances with floating IPs we
need to add extra routes to neighbour subnet via SNAT.

Change-Id: I191591db2499a45ab8d00238da1fe7403c96915d
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/08/868308/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/vpnaas/scenario/test_vpnaas.py'],1,5e8310b2f33c086db87b17be0731e6dde7aa7725,," left_v4_cidr = netaddr.IPNetwork('10.20.0.0/24') left_v6_cidr = netaddr.IPNetwork('2001:db8:0:2::/64') cls.left_cidr = left_v6_cidr if cls.inner_ipv6 else left_v4_cidr right_v4_cidr = netaddr.IPNetwork('10.10.0.0/24') right_v6_cidr = netaddr.IPNetwork('2001:db8:0:1::/64') cls.right_cidr = right_v6_cidr if cls.inner_ipv6 else right_v4_cidr is_distributed = cls.os_admin.network_client.show_router( cls.router['id'])['router'].get('distributed') cls.subnet = cls.create_subnet( cls.network, ip_version=ip_version, cidr=cls.left_cidr, name='left-subnet', **cls.extra_subnet_attributes) cls.create_router_interface(cls.router['id'], cls.subnet['id']) if is_distributed: snat_port = cls.os_admin.network_client.list_ports( device_id=cls.router['id'], device_owner='network:router_centralized_snat') snat_ip = cls._get_ip_on_subnet_for_port( cls, snat_port['ports'][0], cls.subnet['id']) cls.os_admin.network_client.update_subnet( cls.subnet['id'], host_routes=[{""destination"": cls.right_cidr, ""nexthop"": snat_ip}]) is_distributed = cls.os_admin.network_client.show_router( router['id'])['router'].get('distributed') network, ip_version=ip_version, cidr=cls.right_cidr, name='right-subnet', **cls.extra_subnet_attributes) if is_distributed: snat_port = cls.os_admin.network_client.list_ports( device_id=router['id'], device_owner='network:router_centralized_snat') snat_ip = cls._get_ip_on_subnet_for_port( cls, snat_port['ports'][0], subnet['id']) cls.os_admin.network_client.update_subnet( subnet['id'], host_routes=[{""destination"": cls.left_cidr, ""nexthop"": snat_ip}])"," v4_cidr = netaddr.IPNetwork('10.20.0.0/24') v6_cidr = netaddr.IPNetwork('2001:db8:0:2::/64') cidr = v6_cidr if cls.inner_ipv6 else v4_cidr cls.subnet = cls.create_subnet( cls.network, ip_version=ip_version, cidr=cidr, name='left-subnet', **cls.extra_subnet_attributes) cls.create_router_interface(cls.router['id'], cls.subnet['id']) v4_cidr = netaddr.IPNetwork('10.10.0.0/24') v6_cidr = netaddr.IPNetwork('2001:db8:0:1::/64') cidr = v6_cidr if cls.inner_ipv6 else v4_cidr network, ip_version=ip_version, cidr=cidr, name='right-subnet', **cls.extra_subnet_attributes)",35,12
openstack%2Fproject-config~master~I2061f6a85445fd55272b1ed65bfed6cfdee58916,openstack/project-config,master,I2061f6a85445fd55272b1ed65bfed6cfdee58916,Add ovn-bgp-agent to openstack-neutron IRC channel,MERGED,2023-06-09 06:49:47.000000000,2023-06-09 13:03:51.000000000,2023-06-09 12:53:39.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}]","[{'number': 1, 'created': '2023-06-09 06:49:47.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bf11008a57356fffcb27c3da2aedd7eb1506f946', 'message': 'Add ovn-bgp-agent to openstack-neutron IRC channel\n\nChange-Id: I2061f6a85445fd55272b1ed65bfed6cfdee58916\n'}]",1,885721,bf11008a57356fffcb27c3da2aedd7eb1506f946,9,6,1,8313,,,0,"Add ovn-bgp-agent to openstack-neutron IRC channel

Change-Id: I2061f6a85445fd55272b1ed65bfed6cfdee58916
",git fetch https://review.opendev.org/openstack/project-config refs/changes/21/885721/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,bf11008a57356fffcb27c3da2aedd7eb1506f946,ovn-bgp-agent-to-neutron, - openstack/ovn-bgp-agent,,1,0
openstack%2Fpuppet-pacemaker~stable%2F1.5.x~I376f80b0585d562a3bdaa07b1e565f59a010f1e0,openstack/puppet-pacemaker,stable/1.5.x,I376f80b0585d562a3bdaa07b1e565f59a010f1e0,Stable-only: Stop testing with stable/zed,NEW,2023-03-13 02:26:57.000000000,2023-06-09 12:57:08.000000000,,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2023-03-13 02:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/b50528d59303ae1fc87fecec9be2573f7b0fdb7c', 'message': 'dnm\n\nChange-Id: I376f80b0585d562a3bdaa07b1e565f59a010f1e0\n'}, {'number': 2, 'created': '2023-03-13 02:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/d2441cc8340c533d1f9a9e2d3879d3a9873b71cf', 'message': 'dnm\n\nChange-Id: I376f80b0585d562a3bdaa07b1e565f59a010f1e0\n'}, {'number': 3, 'created': '2023-03-13 04:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/4f9dd7bb99990cfa88acefa860369da7e7438949', 'message': 'dnm\n\nChange-Id: I376f80b0585d562a3bdaa07b1e565f59a010f1e0\n'}, {'number': 4, 'created': '2023-05-30 12:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/65fc85825f554dba3000a7cb610a3c2c101a6739', 'message': 'Stable-only: Stop testing with stable/zed\n\nThe stable/zed branch of TripleO repos is no longer maintained. This\nremoves the tests with stable/zed contents to remove tests with\nthe unmaintained branch.\n\nChange-Id: I376f80b0585d562a3bdaa07b1e565f59a010f1e0\n'}, {'number': 5, 'created': '2023-06-07 05:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/75c8f1ea9dd82aca1579bc9248eb3761e647e447', 'message': 'Stable-only: Stop testing with stable/zed\n\nThe stable/zed branch of TripleO repos is no longer maintained. This\nremoves the tests with stable/zed contents to remove tests with\nthe unmaintained branch.\n\nChange-Id: I376f80b0585d562a3bdaa07b1e565f59a010f1e0\n'}, {'number': 6, 'created': '2023-06-09 04:58:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/014008c16bbbebc0cccbffad5c0353f6677006e3', 'message': 'Stable-only: Stop testing with stable/zed\n\nThe stable/zed branch of TripleO repos is no longer maintained. This\nremoves the tests with stable/zed contents to remove tests with\nthe unmaintained branch.\n\nChange-Id: I376f80b0585d562a3bdaa07b1e565f59a010f1e0\n'}]",3,877203,014008c16bbbebc0cccbffad5c0353f6677006e3,22,5,6,9816,,,0,"Stable-only: Stop testing with stable/zed

The stable/zed branch of TripleO repos is no longer maintained. This
removes the tests with stable/zed contents to remove tests with
the unmaintained branch.

Change-Id: I376f80b0585d562a3bdaa07b1e565f59a010f1e0
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/03/877203/6 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b50528d59303ae1fc87fecec9be2573f7b0fdb7c,remove-tripleo-zed, override-checkout: stable/wallaby name: puppet-pacemaker-unit-6.21-centos-9-stream parent: puppet-openstack-unit-6.21-centos-9-stream voting: false override-checkout: stable/wallaby - job: - puppet-pacemaker-unit-6.21-centos-9-stream override-checkout: stable/wallaby - puppet-pacemaker-unit-6.21-centos-9-stream, override-checkout: stable/zed- job: name: puppet-pacemaker-unit-6.28-ubuntu-focal parent: puppet-openstack-unit-6.28-ubuntu-focal override-checkout: stable/zed - job: name: puppet-pacemaker-unit-7.16-ubuntu-focal parent: puppet-openstack-unit-7.16-ubuntu-focal override-checkout: stable/zed - puppet-pacemaker-unit-6.28-ubuntu-focal - puppet-pacemaker-unit-7.16-ubuntu-focal override-checkout: stable/zed - puppet-pacemaker-unit-6.28-ubuntu-focal - puppet-pacemaker-unit-7.16-ubuntu-focal,10,16
openstack%2Fcharm-glance-k8s~main~Ib78b187374e2c1fa01b5aada2daa538c975d27de,openstack/charm-glance-k8s,main,Ib78b187374e2c1fa01b5aada2daa538c975d27de,deps: add netifaces,MERGED,2023-05-05 06:39:45.000000000,2023-06-09 12:55:43.000000000,2023-06-09 12:33:22.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-05 06:39:45.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/57a0bf3e5b8e2259ca032d3aa010fbf9e2bea83a', 'message': 'deps: add netifaces\n\nSomewhere in the depths of the ceph-client ops interface code a\ncall occurs in charmhelpers that depends on netifaces; although\nthis is not actually needed for this k8s charm, it results in an\napt install of the python3-netifaces package.\n\nAdd this dependency to the charm requirements to avoid this\nsituation.\n\nChange-Id: Ib78b187374e2c1fa01b5aada2daa538c975d27de\n'}]",3,882375,57a0bf3e5b8e2259ca032d3aa010fbf9e2bea83a,8,2,1,935,,,0,"deps: add netifaces

Somewhere in the depths of the ceph-client ops interface code a
call occurs in charmhelpers that depends on netifaces; although
this is not actually needed for this k8s charm, it results in an
apt install of the python3-netifaces package.

Add this dependency to the charm requirements to avoid this
situation.

Change-Id: Ib78b187374e2c1fa01b5aada2daa538c975d27de
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/75/882375/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,57a0bf3e5b8e2259ca032d3aa010fbf9e2bea83a,fix/netifaces-dep,netifaces,,1,0
openstack%2Fskyline-console~master~I3d407535cc389312c4c314e2a2f10cad1979679a,openstack/skyline-console,master,I3d407535cc389312c4c314e2a2f10cad1979679a,feat: add domain link in projects page,MERGED,2023-06-09 09:31:34.000000000,2023-06-09 12:47:29.000000000,2023-06-09 12:46:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2023-06-09 09:31:34.000000000', 'files': ['src/locales/en.json', 'src/locales/zh-hans.json', 'src/pages/identity/containers/Project/index.jsx', 'src/locales/ko-kr.json'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/ee25e44c4eba0a9ef66abf500b87f37d30bdc047', 'message': 'feat: add domain link in projects page\n\nAdd domain id, domain detail link for the domain column in the project list page\n\nChange-Id: I3d407535cc389312c4c314e2a2f10cad1979679a\n'}]",0,885737,ee25e44c4eba0a9ef66abf500b87f37d30bdc047,7,2,1,30434,,,0,"feat: add domain link in projects page

Add domain id, domain detail link for the domain column in the project list page

Change-Id: I3d407535cc389312c4c314e2a2f10cad1979679a
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/37/885737/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/locales/zh-hans.json', 'src/pages/identity/containers/Project/index.jsx', 'src/locales/ko-kr.json']",4,ee25e44c4eba0a9ef66abf500b87f37d30bdc047,project," ""Affiliated Domain ID/Name"": """",",,7,1
openstack%2Fblazar-tempest-plugin~master~I5b43a1a3061367a2d49b2d8dc10a06da6742bdaf,openstack/blazar-tempest-plugin,master,I5b43a1a3061367a2d49b2d8dc10a06da6742bdaf,Add stable/2023.1 jobs on master gate,MERGED,2023-06-09 04:11:27.000000000,2023-06-09 12:24:10.000000000,2023-06-09 12:22:19.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-09 04:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/6117d81ff5a76869de05c7c0f9e9b4af5ac56826', 'message': 'Add stable/zed jobs on master gate\n\nAs zed is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nAlso, remove stable/wallaby jobs given that wallaby went\nto Extended Maintenance on 2022-11-07T10:52:23+00:00\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I5b43a1a3061367a2d49b2d8dc10a06da6742bdaf\n'}, {'number': 2, 'created': '2023-06-09 05:07:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/2758d56872b5932925dee702abb9a57c6d1a123a', 'message': 'Add stable/2023.1 jobs on master gate\n\nAs 2023.1 is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I5b43a1a3061367a2d49b2d8dc10a06da6742bdaf\n'}]",1,885680,2758d56872b5932925dee702abb9a57c6d1a123a,13,2,2,8556,,,0,"Add stable/2023.1 jobs on master gate

As 2023.1 is released, we should add its job on master
gate to keep branchless tempest plugins compatible
to stable branch.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I5b43a1a3061367a2d49b2d8dc10a06da6742bdaf
",git fetch https://review.opendev.org/openstack/blazar-tempest-plugin refs/changes/80/885680/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6117d81ff5a76869de05c7c0f9e9b4af5ac56826,2023-1-stable-job, - blazar-tempest-plugin-2023-1 name: blazar-tempest-plugin-2023-1 parent: blazar-tempest-plugin-base nodeset: openstack-single-node-jammy override-checkout: stable/2023.1 - job:,,7,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I6abfb8bc20c7e4eaa2d63b11d3fbac425d7def09,openstack/tripleo-heat-templates,stable/wallaby,I6abfb8bc20c7e4eaa2d63b11d3fbac425d7def09,Align FrrBgpAsn and FrrOvnBgpAgentAsn default values,MERGED,2023-05-26 06:34:55.000000000,2023-06-09 11:51:31.000000000,2023-06-09 11:50:34.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 30126}]","[{'number': 1, 'created': '2023-05-26 06:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/477b3b851187863b4d4ae8756c657bfc8b1a8dd9', 'message': 'Align FrrBgpAsn and FrrOvnBgpAgentAsn default values\n\nThe two parameters need to be configured to the same value. It makes\nsense that their default values are common too.\n\nChange-Id: I6abfb8bc20c7e4eaa2d63b11d3fbac425d7def09\n'}, {'number': 2, 'created': '2023-05-30 09:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c4d7b2d395d2374249954bf70a3d4cac4cabb297', 'message': 'Align FrrBgpAsn and FrrOvnBgpAgentAsn default values\n\nThe two parameters need to be configured to the same value. It makes\nsense that their default values are common too.\n\nChange-Id: I6abfb8bc20c7e4eaa2d63b11d3fbac425d7def09\n'}, {'number': 3, 'created': '2023-05-30 09:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4cae2a5ab1c89cc566ddfbf2df3e3f8db48534dc', 'message': 'Align FrrBgpAsn and FrrOvnBgpAgentAsn default values\n\nThe two parameters need to be configured to the same value. It makes\nsense that their default values are common too.\n\nChange-Id: I6abfb8bc20c7e4eaa2d63b11d3fbac425d7def09\n'}, {'number': 4, 'created': '2023-05-30 11:56:37.000000000', 'files': ['releasenotes/notes/align-FrrBgpAsn-FrrOvnBgpAgentAsn-values-bac3d947881e3475.yaml', 'deployment/frr/frr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1f54376e0e45de4049d7c53b3f9a741ec4bfc3e', 'message': 'Align FrrBgpAsn and FrrOvnBgpAgentAsn default values\n\nThe two parameters need to be configured to the same value. It makes\nsense that their default values are common too.\n\nChange-Id: I6abfb8bc20c7e4eaa2d63b11d3fbac425d7def09\n'}]",5,884378,a1f54376e0e45de4049d7c53b3f9a741ec4bfc3e,17,6,4,31291,,,0,"Align FrrBgpAsn and FrrOvnBgpAgentAsn default values

The two parameters need to be configured to the same value. It makes
sense that their default values are common too.

Change-Id: I6abfb8bc20c7e4eaa2d63b11d3fbac425d7def09
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/884378/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/frr/frr-container-ansible.yaml'],1,477b3b851187863b4d4ae8756c657bfc8b1a8dd9,, default: 64999, default: 65000,1,1
openstack%2Fpuppet-nova~stable%2Fzed~I0ace8e21815ccf18196eb0ba6055bc9e64abacac,openstack/puppet-nova,stable/zed,I0ace8e21815ccf18196eb0ba6055bc9e64abacac,Add manage_service to nova::migration::libvirt,ABANDONED,2023-06-09 08:50:24.000000000,2023-06-09 11:42:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-09 08:50:24.000000000', 'files': ['manifests/migration/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3d24e699a2906f94579b2e6253194fe2bea6868f', 'message': 'Add manage_service to nova::migration::libvirt\n\nIf you want to use modular libvirt with older versions such\nas Zed and Yoga the Puppet layer that handles the\n<daemon>-<transport>.socket service is not handled when\nusing nova::compute::libvirt::services class directly and\nsetting modular_libvirt to true which requires you to set\nthe nova::compute::libvirt::manage_libvirt_services parameter to\nfalse for the class to not be included.\n\nThe <daemon>-<transport>.socket service depends on the\nmanage_libvirt_services from the nova::compute::libvirt class to\nbe true in order for it to work.\n\nThis adds the same manage_service parameter to the\nnova::migration::libvirt class that is available in newer\nversions but with a undef default value and since it uses\npick() for that value we keep backward compatibility.\n\nChange-Id: I0ace8e21815ccf18196eb0ba6055bc9e64abacac\n'}]",2,885730,3d24e699a2906f94579b2e6253194fe2bea6868f,5,1,1,16137,,,0,"Add manage_service to nova::migration::libvirt

If you want to use modular libvirt with older versions such
as Zed and Yoga the Puppet layer that handles the
<daemon>-<transport>.socket service is not handled when
using nova::compute::libvirt::services class directly and
setting modular_libvirt to true which requires you to set
the nova::compute::libvirt::manage_libvirt_services parameter to
false for the class to not be included.

The <daemon>-<transport>.socket service depends on the
manage_libvirt_services from the nova::compute::libvirt class to
be true in order for it to work.

This adds the same manage_service parameter to the
nova::migration::libvirt class that is available in newer
versions but with a undef default value and since it uses
pick() for that value we keep backward compatibility.

Change-Id: I0ace8e21815ccf18196eb0ba6055bc9e64abacac
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/30/885730/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/migration/libvirt.pp'],1,3d24e699a2906f94579b2e6253194fe2bea6868f,,"# [*manage_service*] # (optional) Whether to start/stop the service. This defaults to undef # for backward compatibility and is set to true in newer releases. # Defaults to undef # $manage_service = undef, $manage_services = pick($manage_service, $::nova::compute::libvirt::manage_libvirt_services, true)"," $manage_services = pick($::nova::compute::libvirt::manage_libvirt_services, true)",7,1
openstack%2Fkuryr-tempest-plugin~master~I2d80915b78ac024c5db5fa21d9e71f7904a58c3f,openstack/kuryr-tempest-plugin,master,I2d80915b78ac024c5db5fa21d9e71f7904a58c3f,Add stable/2023.1 jobs on master gate,MERGED,2023-06-09 04:11:54.000000000,2023-06-09 11:29:14.000000000,2023-06-09 11:27:27.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-09 04:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/2c293ed034239d91b00727e2e84b8614432306fd', 'message': 'Add stable/zed jobs on master gate\n\nAs zed is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nAlso, remove stable/wallaby jobs given that wallaby went\nto Extended Maintenance on 2022-11-07T10:52:23+00:00\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I2d80915b78ac024c5db5fa21d9e71f7904a58c3f\n'}, {'number': 2, 'created': '2023-06-09 05:05:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/160b9a208b423b3e940d642f024c650c1eb1e6fc', 'message': 'Add stable/2023.1 jobs on master gate\n\nAs 2023.1 is released, we should add its job on master\ngate to keep branchless tempest plugins compatible\nto stable branch.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I2d80915b78ac024c5db5fa21d9e71f7904a58c3f\n'}]",0,885683,160b9a208b423b3e940d642f024c650c1eb1e6fc,8,2,2,8556,,,0,"Add stable/2023.1 jobs on master gate

As 2023.1 is released, we should add its job on master
gate to keep branchless tempest plugins compatible
to stable branch.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I2d80915b78ac024c5db5fa21d9e71f7904a58c3f
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/83/885683/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2c293ed034239d91b00727e2e84b8614432306fd,2023-1-stable-job, - kuryr-kubernetes-tempest-2023-1 name: kuryr-kubernetes-tempest-2023-1 parent: kuryr-kubernetes-tempest nodeset: openstack-single-node-jammy override-checkout: stable/2023.1 - job:,,7,0
openstack%2Freleases~master~I404ea09f54727811e8f290044cd6a8072f98b250,openstack/releases,master,I404ea09f54727811e8f290044cd6a8072f98b250,[freezer-tempest-plugin] Tag xena-last,NEW,2023-06-09 06:11:55.000000000,2023-06-09 11:21:19.000000000,,"[{'_account_id': 13940}, {'_account_id': 21387}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-09 06:11:55.000000000', 'files': ['deliverables/xena/freezer-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/66ece2615606c0c36adc3034ec02555279bc1f1d', 'message': ""[freezer-tempest-plugin] Tag xena-last\n\nXena branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'xena-last' with the latest hash which is nothing but 3.0.1\ntag.\n\n[1] https://review.opendev.org/c/openstack/releases/+/881254\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I404ea09f54727811e8f290044cd6a8072f98b250\n""}]",0,885703,66ece2615606c0c36adc3034ec02555279bc1f1d,2,3,1,8556,,,0,"[freezer-tempest-plugin] Tag xena-last

Xena branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'xena-last' with the latest hash which is nothing but 3.0.1
tag.

[1] https://review.opendev.org/c/openstack/releases/+/881254
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: I404ea09f54727811e8f290044cd6a8072f98b250
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/885703/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/freezer-tempest-plugin.yaml'],1,66ece2615606c0c36adc3034ec02555279bc1f1d,xena-last, - version: xena-last projects: - repo: openstack/freezer-tempest-plugin hash: f8fe406aafb82878837706984b9a441a46aaf088,,4,0
openstack%2Freleases~master~Iecd6fc57af0e9c31e778756635e5bc88354ac620,openstack/releases,master,Iecd6fc57af0e9c31e778756635e5bc88354ac620,[mistral-tempest-plugin] Tag xena-last,NEW,2023-06-09 06:16:17.000000000,2023-06-09 11:20:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 35600}]","[{'number': 1, 'created': '2023-06-09 06:16:17.000000000', 'files': ['deliverables/xena/mistral-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6c4f42f048524e37e4b0623677fcb769c56185c9', 'message': ""[mistral-tempest-plugin] Tag xena-last\n\nXena branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'xena-last' with the latest hash which is nothing but 2.1.1\ntag.\n\n[1] https://review.opendev.org/c/openstack/releases/+/881254\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: Iecd6fc57af0e9c31e778756635e5bc88354ac620\n""}]",0,885706,6c4f42f048524e37e4b0623677fcb769c56185c9,2,2,1,8556,,,0,"[mistral-tempest-plugin] Tag xena-last

Xena branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'xena-last' with the latest hash which is nothing but 2.1.1
tag.

[1] https://review.opendev.org/c/openstack/releases/+/881254
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: Iecd6fc57af0e9c31e778756635e5bc88354ac620
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/885706/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/mistral-tempest-plugin.yaml'],1,6c4f42f048524e37e4b0623677fcb769c56185c9,xena-last, - version: xena-last projects: - repo: openstack/mistral-tempest-plugin hash: 2f92367896338ec38205f2486c6339a96c21604c,,4,0
openstack%2Fneutron-tempest-plugin~master~Ic1fffa7d51edec72405d42cc74d43795aa643ed1,openstack/neutron-tempest-plugin,master,Ic1fffa7d51edec72405d42cc74d43795aa643ed1,DNM: test master bgpvpn job,ABANDONED,2023-05-26 15:23:04.000000000,2023-06-09 11:00:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-26 15:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1c8b0b1ac8ccea118f229758ec8c4a28b6d509dd', 'message': 'DNM: test master bgpvpn job\n\nChange-Id: Ic1fffa7d51edec72405d42cc74d43795aa643ed1\n'}, {'number': 2, 'created': '2023-05-31 11:05:42.000000000', 'files': ['neutron_tempest_plugin/bgpvpn/scenario/test_bgpvpn_basic.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/feda4bb54d61ac3289a16cad03db2e10bb9681d7', 'message': 'DNM: test master bgpvpn job\n\nDepends-On: https://review.opendev.org/c/openstack/networking-bagpipe/+/883064\nChange-Id: Ic1fffa7d51edec72405d42cc74d43795aa643ed1\n'}]",3,884515,feda4bb54d61ac3289a16cad03db2e10bb9681d7,9,1,2,8313,,,0,"DNM: test master bgpvpn job

Depends-On: https://review.opendev.org/c/openstack/networking-bagpipe/+/883064
Change-Id: Ic1fffa7d51edec72405d42cc74d43795aa643ed1
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/15/884515/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/bgpvpn/scenario/test_bgpvpn_basic.py'],1,1c8b0b1ac8ccea118f229758ec8c4a28b6d509dd,bug/2019097,# DNM: test master job ,,2,0
openstack%2Fos-net-config~stable%2Ftrain~I6445685b00ec98788426d0786e78c6d3750c9910,openstack/os-net-config,stable/train,I6445685b00ec98788426d0786e78c6d3750c9910,os-net-config runs ethtool command without restarting interfaces,MERGED,2023-04-21 04:51:22.000000000,2023-06-09 10:49:56.000000000,2023-06-09 10:48:53.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-21 04:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/9e22cfc98632b6fc80480b5c0b69c5493f942203', 'message': 'os-net-config runs ethtool command without restarting interfaces\n\nPreviously, adding or modifying ETHTOOL_OPTS causes restarting\ninterfaces. It causes a downtime though ETHTOOL_OPTS can be applied\nwithout restarting interfaces.\nThis change will apply ETHTOOL_OPTS via ethtool command when the option\nis added or modified without restarting interfaces.\n\nChanges from Master branch:\nThe bindep.txt file is removed as its already present in stable/zed branch.\n\nCloses-Bug: #1800237\nChange-Id: I6445685b00ec98788426d0786e78c6d3750c9910\n(cherry picked from commit 1b2987ca3f66cbdc95b8fa1d8808b01f1b10cce5)\n(cherry picked from commit b2e7d956ba8bb619e89cb20b8e1d94d2662ce305)\n'}, {'number': 2, 'created': '2023-05-30 07:57:04.000000000', 'files': ['bindep.txt', 'os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ce21f81e32c19fd972c9a7113b3da33b311d1182', 'message': 'os-net-config runs ethtool command without restarting interfaces\n\nPreviously, adding or modifying ETHTOOL_OPTS causes restarting\ninterfaces. It causes a downtime though ETHTOOL_OPTS can be applied\nwithout restarting interfaces.\nThis change will apply ETHTOOL_OPTS via ethtool command when the option\nis added or modified without restarting interfaces.\n\nChanges from Master branch:\nThe bindep.txt file is removed as its already present in stable/zed branch.\n\nCloses-Bug: #1800237\nChange-Id: I6445685b00ec98788426d0786e78c6d3750c9910\n(cherry picked from commit 1b2987ca3f66cbdc95b8fa1d8808b01f1b10cce5)\n(cherry picked from commit b2e7d956ba8bb619e89cb20b8e1d94d2662ce305)\n'}]",5,881087,ce21f81e32c19fd972c9a7113b3da33b311d1182,15,4,2,18904,,,0,"os-net-config runs ethtool command without restarting interfaces

Previously, adding or modifying ETHTOOL_OPTS causes restarting
interfaces. It causes a downtime though ETHTOOL_OPTS can be applied
without restarting interfaces.
This change will apply ETHTOOL_OPTS via ethtool command when the option
is added or modified without restarting interfaces.

Changes from Master branch:
The bindep.txt file is removed as its already present in stable/zed branch.

Closes-Bug: #1800237
Change-Id: I6445685b00ec98788426d0786e78c6d3750c9910
(cherry picked from commit 1b2987ca3f66cbdc95b8fa1d8808b01f1b10cce5)
(cherry picked from commit b2e7d956ba8bb619e89cb20b8e1d94d2662ce305)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/87/881087/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py']",4,9e22cfc98632b6fc80480b5c0b69c5493f942203,bug#1800237-stable/zed-stable/wallaby-stable/train," ""ONBOOT"", ""ETHTOOL_OPTS"" def ethtool_apply_command(self, device_name, filename, data): """"""Return list of commands needed to implement changes. Given ifcfg data for an interface, return commands required to apply the configuration using 'ethtool' commands. :param device_name: The name of the int, bridge, or bond :type device_name: string :param filename: The ifcfg-<int> filename. :type filename: string :param data: The data for the new ifcfg-<int> file. :type data: string :returns: commands (commands to be run) """""" previous_cfg = common.get_file_data(filename) file_values = self.parse_ifcfg(previous_cfg) data_values = self.parse_ifcfg(data) logger.debug(""File values:\n%s"" % file_values) logger.debug(""Data values:\n%s"" % data_values) changes = self.enumerate_ifcfg_changes(file_values, data_values) commands = [] if ""ETHTOOL_OPTS"" in changes: if changes[""ETHTOOL_OPTS""] == ""added"" or \ changes[""ETHTOOL_OPTS""] == ""modified"": for command_opts in data_values[""ETHTOOL_OPTS""].split(';'): if re.match(r'\s*-+\w+-*\w* ', command_opts): if device_name or ""${DEVICE}"" or ""$DEVICE"" \ in command_opts: commands.append(""%s"" % command_opts) else: msg = (""Assigned interface name to \ ETHTOOL_OPTS is invalid %s"" % device_name) raise utils.InvalidInterfaceException(msg) else: commands.append(""-s %s %s"" % (device_name, command_opts)) return commands ethtoolcmd = utils.ethtool_path() commands = self.ethtool_apply_command(interface[0], interface[1], interface[2]) if commands is not None: for command in commands: try: args = command.split() args = [interface[0] if item in [""${DEVICE}"", ""$DEVICE""] else item for item in args] self.execute('Running ethtool %s' % command, ethtoolcmd, *args) except Exception as e: logger.warning(""Error in 'ethtool %s', restarting %s:\ \n%s)"" % (command, interface[0], str(e))) restart_interfaces.append(interface[0]) restart_interfaces.extend( self.child_members(interface[0])) break "," ""ONBOOT""",169,1
openstack%2Fpython-designateclient~master~I41525a005e98244c60078e7004c2a75dd170f06e,openstack/python-designateclient,master,I41525a005e98244c60078e7004c2a75dd170f06e,Add new API - zone pool move,NEW,2021-06-17 14:02:48.000000000,2023-06-09 10:23:54.000000000,,"[{'_account_id': 6994}, {'_account_id': 11628}, {'_account_id': 20104}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 14:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/83a12e990e29fe9f83119931278846ed6a241d6f', 'message': 'Add new API - zone move\n\nThe new API would be v2/zones/<zone_id>/tasks/move\nOnly POST would be allowed on this API.\n\nImplements: blueprint zone-move\nChange-Id: I41525a005e98244c60078e7004c2a75dd170f06e\n'}, {'number': 2, 'created': '2022-04-30 12:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/4ed856f39eeaaec251d7b4a4c13ee48c39e1bdd6', 'message': 'Add new API - zone move\n\nThe new API would be v2/zones/<zone_id>/tasks/move\nOnly POST would be allowed on this API.\n\nImplements: blueprint zone-move\nChange-Id: I41525a005e98244c60078e7004c2a75dd170f06e\n'}, {'number': 3, 'created': '2022-07-20 08:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/f543d7de4fdfe5b6a0b75d59710c6edfc45da915', 'message': 'Add new API - zone move\n\nThe new API would be v2/zones/<zone_id>/tasks/move\nOnly POST would be allowed on this API.\n\nImplements: blueprint zone-move\nChange-Id: I41525a005e98244c60078e7004c2a75dd170f06e\n'}, {'number': 4, 'created': '2022-10-23 08:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/baf9683d2900603c06a9cc2d72d406793f1256c2', 'message': 'Add new API - zone move\n\nThe new API would be v2/zones/<zone_id>/tasks/move\nOnly POST would be allowed on this API.\n\nImplements: blueprint zone-move\nChange-Id: I41525a005e98244c60078e7004c2a75dd170f06e\n'}, {'number': 5, 'created': '2023-05-23 07:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/1c99eb35aca57e6f0aad0b1baae05b6f48b6dfbf', 'message': 'Add new API - zone pool move\n\nThe new API would be v2/zones/<zone_id>/tasks/pool_move\nOnly POST would be allowed on this API.\n\nImplements: blueprint zone-move\nChange-Id: I41525a005e98244c60078e7004c2a75dd170f06e\n'}, {'number': 6, 'created': '2023-06-09 09:05:59.000000000', 'files': ['designateclient/v2/cli/zones.py', 'designateclient/tests/v2/test_zones.py', 'setup.cfg', 'designateclient/v2/zones.py'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/84e585dbc2ca48d8a073b2cb688958eecf92397e', 'message': 'Add new API - zone pool move\n\nThe new API would be v2/zones/<zone_id>/tasks/pool_move\nOnly POST would be allowed on this API.\n\nImplements: blueprint zone-move\nChange-Id: I41525a005e98244c60078e7004c2a75dd170f06e\n'}]",2,796846,84e585dbc2ca48d8a073b2cb688958eecf92397e,15,4,6,32919,,,0,"Add new API - zone pool move

The new API would be v2/zones/<zone_id>/tasks/pool_move
Only POST would be allowed on this API.

Implements: blueprint zone-move
Change-Id: I41525a005e98244c60078e7004c2a75dd170f06e
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/46/796846/6 && git format-patch -1 --stdout FETCH_HEAD,"['designateclient/v2/cli/zones.py', 'designateclient/tests/v2/test_zones.py', 'setup.cfg', 'designateclient/v2/zones.py']",4,83a12e990e29fe9f83119931278846ed6a241d6f,bp/zone-move," def move(self, zone, values): zone = v2_utils.resolve_by_name(self.list, zone) url = self.build_url('/zones/%s/tasks/move' % zone) return self._post(url, data=values) ",,45,0
openstack%2Fnetworking-bgpvpn~master~Idafcd5425d5339c3ff0788f26260a78e7c14c169,openstack/networking-bgpvpn,master,Idafcd5425d5339c3ff0788f26260a78e7c14c169,Make neutron-tempest-plugin-bgpvpn-bagpipe job voting again,MERGED,2023-06-08 16:59:31.000000000,2023-06-09 09:55:55.000000000,2023-06-09 09:54:00.000000000,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 16:59:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/50b448eb971d8cee886abac56c3ed05be6a8235c', 'message': 'Make neutron-tempest-plugin-bgpvpn-bagpipe job voting again\n\n[1] made neutron-tempest-plugin-bgpvpn-bagpipe job temporarily\nnon-voting, as both the networking-bagpipe and networking-bgpvpn\nfixes are merged the job can be voting again.\n\n[1]: https://review.opendev.org/c/openstack/networking-bgpvpn/+/883057\n\nChange-Id: Idafcd5425d5339c3ff0788f26260a78e7c14c169\nRelated-Bug: 2019097\nDepends-On: https://review.opendev.org/c/openstack/networking-bagpipe/+/883064\n'}]",0,885598,50b448eb971d8cee886abac56c3ed05be6a8235c,8,3,1,8313,,,0,"Make neutron-tempest-plugin-bgpvpn-bagpipe job voting again

[1] made neutron-tempest-plugin-bgpvpn-bagpipe job temporarily
non-voting, as both the networking-bagpipe and networking-bgpvpn
fixes are merged the job can be voting again.

[1]: https://review.opendev.org/c/openstack/networking-bgpvpn/+/883057

Change-Id: Idafcd5425d5339c3ff0788f26260a78e7c14c169
Related-Bug: 2019097
Depends-On: https://review.opendev.org/c/openstack/networking-bagpipe/+/883064
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/98/885598/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,50b448eb971d8cee886abac56c3ed05be6a8235c,bug/2019097, - neutron-tempest-plugin-bgpvpn-bagpipe: irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$," # failing, see https://bugs.launchpad.net/neutron/+bug/2020698, # https://bugs.launchpad.net/neutron/+bug/2019097 # When both bgpvpn and bagpipe fixes are merged # voting can be set again to true voting: false # failing, see https://bugs.launchpad.net/neutron/+bug/2020698, # https://bugs.launchpad.net/neutron/+bug/2019097 # When both bgpvpn and bagpipe fixes are merged # voting can be set again to true # - neutron-tempest-plugin-bgpvpn-bagpipe: # irrelevant-files: # - ^(test-|)requirements.txt$ # - ^setup.cfg$",4,13
openstack%2Ftripleo-ci~master~I74443326d55d7a8a72d9fe122656635966ac841c,openstack/tripleo-ci,master,I74443326d55d7a8a72d9fe122656635966ac841c,Switch branches to test puppet-pacemaker stable/1.5.x,NEW,2023-06-09 07:22:41.000000000,2023-06-09 09:52:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-09 07:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/016e6bc0c18937ad78e38890b5dc360bf6ba7d71', 'message': 'Switch branches to test puppet-pacemaker stable branches\n\nWe are bumping puppet-pacemaker version used with stable branches\n(mainly to leverage features/fixes available in stable/1.5 in wallaby\nTripleO).\n\nChange-Id: I74443326d55d7a8a72d9fe122656635966ac841c\n'}, {'number': 2, 'created': '2023-06-09 07:30:02.000000000', 'files': ['roles/run-test/templates/common_vars.bash.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3c13dbeca6dc22c824e5c19b754f5a60c58e2315', 'message': 'Switch branches to test puppet-pacemaker stable/1.5.x\n\nWe are bumping puppet-pacemaker version used with wallaby branches\nmainly to leverage features/fixes available in stable/1.5.\n\nChange-Id: I74443326d55d7a8a72d9fe122656635966ac841c\n'}]",0,885722,3c13dbeca6dc22c824e5c19b754f5a60c58e2315,3,1,2,9816,,,0,"Switch branches to test puppet-pacemaker stable/1.5.x

We are bumping puppet-pacemaker version used with wallaby branches
mainly to leverage features/fixes available in stable/1.5.

Change-Id: I74443326d55d7a8a72d9fe122656635966ac841c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/22/885722/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/common_vars.bash.j2'],1,016e6bc0c18937ad78e38890b5dc360bf6ba7d71,," export ZUUL_BRANCH=""stable/train"" export STABLE_RELEASE=""train"" export ZUUL_BRANCH=""stable/wallaby"" export STABLE_RELEASE=""wallaby"""," export ZUUL_BRANCH=""stable/wallaby"" export STABLE_RELEASE=""wallaby"" export ZUUL_BRANCH=""stable/zed"" export STABLE_RELEASE=""zed""",4,4
openstack%2Fheat~master~Ie0876080c771fb124d4dd36f803fbfd3b108e240,openstack/heat,master,Ie0876080c771fb124d4dd36f803fbfd3b108e240,Bump Fedora image used in CI,NEW,2023-06-09 08:10:13.000000000,2023-06-09 09:51:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-09 08:10:13.000000000', 'files': ['doc/source/getting_started/on_devstack.rst', '.zuul.yaml', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/56452926ec05c2df39906f839012bcffd773a902', 'message': ""Bump Fedora image used in CI\n\nFedora 36 is already EOLed. Let's use the latest version.\n\nChange-Id: Ie0876080c771fb124d4dd36f803fbfd3b108e240\n""}]",0,885725,56452926ec05c2df39906f839012bcffd773a902,3,1,1,9816,,,0,"Bump Fedora image used in CI

Fedora 36 is already EOLed. Let's use the latest version.

Change-Id: Ie0876080c771fb124d4dd36f803fbfd3b108e240
",git fetch https://review.opendev.org/openstack/heat refs/changes/25/885725/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/getting_started/on_devstack.rst', '.zuul.yaml', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh']",5,56452926ec05c2df39906f839012bcffd773a902,, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-38-1.6.x86_64, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-36-1.5.x86_64,6,6
openstack%2Fpython-ironicclient~master~Idf6ba4cbf7035e0617edc67f55c93b434d9a76aa,openstack/python-ironicclient,master,Idf6ba4cbf7035e0617edc67f55c93b434d9a76aa,Add support for node inventory,MERGED,2023-05-22 12:36:49.000000000,2023-06-09 09:32:11.000000000,2023-06-08 11:35:29.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-05-22 12:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/ee671045cc8dbc1c277fce95eb1588d810d14d12', 'message': ""Add support for node inventory\n\nAdds REST API version 1.82, which supports querying a node's hardware\ninventory using the python client library, and also using the baremetal\nCLI using the `baremetal node inventory <node>` command.\n\nChange-Id: Idf6ba4cbf7035e0617edc67f55c93b434d9a76aa\n""}, {'number': 2, 'created': '2023-05-22 13:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/d33fae5a6949b064e49f4895553da57cca98eb63', 'message': ""Add support for node inventory\n\nAdds REST API version 1.82, which supports querying a node's hardware\ninventory using the python client library, and also using the baremetal\nCLI using the `baremetal node inventory <node>` command.\n\nChange-Id: Idf6ba4cbf7035e0617edc67f55c93b434d9a76aa\n""}, {'number': 3, 'created': '2023-05-25 21:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/3dce06a6000a3233b89eff677b1cf2968e146626', 'message': ""Add support for node inventory\n\nAdds REST API version 1.81, which supports querying a node's hardware\ninventory using the python client library, and also using the baremetal\nCLI using the `baremetal node inventory <node>` command.\n\nChange-Id: Idf6ba4cbf7035e0617edc67f55c93b434d9a76aa\n""}, {'number': 4, 'created': '2023-05-30 10:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/de91b5feb19d04ee84ec6d12e094ef514c75c8c4', 'message': ""Add support for node inventory\n\nAdds REST API version 1.81, which supports querying a node's hardware\ninventory using the python client library, and also using the baremetal\nCLI using the `baremetal node inventory <node>` command.\n\nChange-Id: Idf6ba4cbf7035e0617edc67f55c93b434d9a76aa\n""}, {'number': 5, 'created': '2023-06-01 11:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/1a4a2ce0b9b91b8545a1b3a32e12b6318081c56e', 'message': ""Add support for node inventory\n\nAdds REST API version 1.81, which supports querying a node's hardware\ninventory using the python client library, and also using the baremetal\nCLI using the\n`baremetal node inventory save [--file <filename>] <node>` command.\n\nChange-Id: Idf6ba4cbf7035e0617edc67f55c93b434d9a76aa\n""}, {'number': 6, 'created': '2023-06-01 12:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/f38c17ed3ed41daf15c05a8c63caf268a48590f7', 'message': ""Add support for node inventory\n\nAdds REST API version 1.81, which supports querying a node's hardware\ninventory using the python client library, and also using the baremetal\nCLI using the\n`baremetal node inventory save [--file <filename>] <node>` command.\n\nChange-Id: Idf6ba4cbf7035e0617edc67f55c93b434d9a76aa\n""}, {'number': 7, 'created': '2023-06-01 14:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/3815792bc51459d15ca21b8abc04da0ddb5f8118', 'message': ""Add support for node inventory\n\nAdds REST API version 1.81, which supports querying a node's hardware\ninventory using the python client library, and also using the baremetal\nCLI using the\n`baremetal node inventory save [--file <filename>] <node>` command.\n\nChange-Id: Idf6ba4cbf7035e0617edc67f55c93b434d9a76aa\n""}, {'number': 8, 'created': '2023-06-01 15:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/3b69a5e1823b81207ebfcfa44e7a5c6e75c9e2cf', 'message': ""Add support for node inventory\n\nAdds REST API version 1.81, which supports querying a node's hardware\ninventory using the python client library, and also using the baremetal\nCLI using the\n`baremetal node inventory save [--file <filename>] <node>` command.\n\nChange-Id: Idf6ba4cbf7035e0617edc67f55c93b434d9a76aa\n""}, {'number': 9, 'created': '2023-06-06 16:16:08.000000000', 'files': ['ironicclient/tests/unit/osc/v1/fakes.py', 'ironicclient/v1/node.py', 'ironicclient/common/http.py', 'ironicclient/tests/unit/v1/test_node.py', 'releasenotes/notes/add-node-inventory-74e856c019cfa7e2.yaml', 'setup.cfg', 'ironicclient/tests/unit/osc/v1/test_baremetal_node.py', 'ironicclient/osc/v1/baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/0b6b282d40507a188df0e824a406a71652290952', 'message': ""Add support for node inventory\n\nAdds REST API version 1.81, which supports querying a node's hardware\ninventory using the python client library, and also using the baremetal\nCLI using the\n`baremetal node inventory save [--file <filename>] <node>` command.\n\nChange-Id: Idf6ba4cbf7035e0617edc67f55c93b434d9a76aa\n""}]",27,883833,0b6b282d40507a188df0e824a406a71652290952,34,3,9,35929,,,0,"Add support for node inventory

Adds REST API version 1.81, which supports querying a node's hardware
inventory using the python client library, and also using the baremetal
CLI using the
`baremetal node inventory save [--file <filename>] <node>` command.

Change-Id: Idf6ba4cbf7035e0617edc67f55c93b434d9a76aa
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/33/883833/8 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/tests/unit/osc/v1/fakes.py', 'ironicclient/v1/node.py', 'ironicclient/common/http.py', 'ironicclient/tests/unit/v1/test_node.py', 'releasenotes/notes/add-node-inventory-74e856c019cfa7e2.yaml', 'setup.cfg', 'ironicclient/v1/resource_fields.py', 'ironicclient/osc/v1/baremetal_node.py', 'ironicclient/tests/unit/osc/v1/test_baremetal_node.py']",9,ee671045cc8dbc1c277fce95eb1588d810d14d12,add-inventory-api," class TestNodeInventoryList(TestBaremetal): def setUp(self): super(TestNodeInventoryList, self).setUp() self.baremetal_mock.node.get_inventory.return_value = ( baremetal_fakes.NODE_INVENTORY[0]) # Get the command object to test self.cmd = baremetal_node.NodeInventoryList(self.app, None) def test_baremetal_node_inventory_list(self): arglist = ['node_uuid'] verifylist = [('node', 'node_uuid')] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.baremetal_mock.node.get_inventory.assert_called_once_with( 'node_uuid') expected_columns = ['Inventory Item', 'Value'] expected_data = (('memory', {'physical_mb': '3072'}), ('cpu', {'architecture': 'x86_64', 'count': 1, 'model_name': 'qemu64'}), ('disks', [{'size': '10'}]), ('interfaces', [{'mac_address': '52:54:00:c7:02:45'}])) self.assertEqual(expected_columns, columns) self.assertEqual(expected_data, tuple(data))",,167,23
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I24ae759e2bbbbf92e0a1a26ca2ac70689d3f0af1,openstack/tripleo-heat-templates,stable/wallaby,I24ae759e2bbbbf92e0a1a26ca2ac70689d3f0af1,WIP - debug,ABANDONED,2023-05-29 07:24:35.000000000,2023-06-09 09:32:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-29 07:24:35.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d06d4e141dbd2b9b3faf07e56bf927f2a7eab35d', 'message': 'WIP - debug\n\nChange-Id: I24ae759e2bbbbf92e0a1a26ca2ac70689d3f0af1\n'}]",0,884576,d06d4e141dbd2b9b3faf07e56bf927f2a7eab35d,3,1,1,22954,,,0,"WIP - debug

Change-Id: I24ae759e2bbbbf92e0a1a26ca2ac70689d3f0af1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/884576/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/redis-pacemaker-puppet.yaml'],1,d06d4e141dbd2b9b3faf07e56bf927f2a7eab35d,redis," - name: Check redis variables when: - step|int == 5 block: - name: Debug redis variables debug: msg: ""step {{step}}, is_redis_bootstrap {{is_redis_bootstrap_node}}, redis_pcs_res {{redis_pcs_res}}""",,7,0
openstack%2Ftripleo-ansible~master~If6affe70a598a9f8f1f9457a274a0b9da0b2305f,openstack/tripleo-ansible,master,If6affe70a598a9f8f1f9457a274a0b9da0b2305f,WIP Added tripleo_barbican,ABANDONED,2022-10-25 10:04:44.000000000,2023-06-09 09:31:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-10-25 10:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ef68f3b4e39c53d87fb772a21aff0e8a75ec317', 'message': 'WIP Added tripleo_barbican\n\nSo far only to create the vhost.\n\nChange-Id: If6affe70a598a9f8f1f9457a274a0b9da0b2305f\n'}, {'number': 2, 'created': '2022-10-26 07:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/727cd28e25c5c9040aec23ccef9f9a08b2db3487', 'message': 'WIP Added tripleo_barbican\n\nSo far only to create the vhost.\n\nChange-Id: If6affe70a598a9f8f1f9457a274a0b9da0b2305f\n'}, {'number': 3, 'created': '2022-10-26 08:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc97edc71ae3b6810676a358070f3ba9a2f100aa', 'message': 'WIP Added tripleo_barbican\n\nSo far only to create the vhost.\n\nChange-Id: If6affe70a598a9f8f1f9457a274a0b9da0b2305f\n'}, {'number': 4, 'created': '2022-10-26 11:35:03.000000000', 'files': ['tripleo_ansible/roles/tripleo_barbican/tasks/api_httpd.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_barbican/defaults/main.yml', 'tripleo_ansible/roles/tripleo_barbican/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_barbican/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_barbican/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_barbican/meta/main.yml', 'doc/source/roles/role-tripleo_barbican.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a486b8d5c535c04231345ba1d948188930e5c71d', 'message': 'WIP Added tripleo_barbican\n\nSo far only to create the vhost.\n\nChange-Id: If6affe70a598a9f8f1f9457a274a0b9da0b2305f\n'}]",1,862591,a486b8d5c535c04231345ba1d948188930e5c71d,12,2,4,22954,,,0,"WIP Added tripleo_barbican

So far only to create the vhost.

Change-Id: If6affe70a598a9f8f1f9457a274a0b9da0b2305f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/91/862591/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_barbican/tasks/api_httpd.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_barbican/defaults/main.yml', 'tripleo_ansible/roles/tripleo_barbican/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_barbican/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_barbican/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_barbican/meta/main.yml', 'doc/source/roles/role-tripleo_barbican.rst']",8,8ef68f3b4e39c53d87fb772a21aff0e8a75ec317,httpd/barbican,=================== Role - tripleo_barbican =================== .. ansibleautoplugin:: :role: tripleo_ansible/roles/tripleo_barbican ,,185,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Iead220dd67c5293f4b4ba14b3e79f52b0646998e,openstack/tripleo-heat-templates,stable/wallaby,Iead220dd67c5293f4b4ba14b3e79f52b0646998e,WIP leapp test,ABANDONED,2023-01-16 09:33:56.000000000,2023-06-09 09:31:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2023-01-16 09:33:56.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad1c40035b5b34e741dbc18e82bf068c43e71771', 'message': 'WIP leapp test\n\nChange-Id: Iead220dd67c5293f4b4ba14b3e79f52b0646998e\n'}]",0,870515,ad1c40035b5b34e741dbc18e82bf068c43e71771,4,2,1,22954,,,0,"WIP leapp test

Change-Id: Iead220dd67c5293f4b4ba14b3e79f52b0646998e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/870515/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,ad1c40035b5b34e741dbc18e82bf068c43e71771,," default: ['irb'] ansible_facts['distribution_major_version'] is version('8', '==') }} source /etc/os-release; [ ""${VERSION_ID%.*}"" -ge ""9"" ] && systemctl is-system-running | grep -qE ""running|degraded"" || exit 1 - python3-iso8601 when: ansible_facts['distribution_major_version'] is version('9', '==')"," default: [] ansible_facts['distribution_major_version'] is version('7', '==') }} - name: remove all OpenStack packages shell: | yum -y remove *el7ost* \ mariadb-server* -- \ -*openvswitch* \ -python2-babel \ -python2-dateutil \ -python2-ipaddress \ -python2-jinja2 \ -python2-markupsafe \ -python2-six source /etc/os-release; [ ""${VERSION_ID%.*}"" -ge ""8"" ] && systemctl is-system-running | grep -qE ""running|degraded"" || exit 1 - jq - lvm2 - net-snmp - openstack-selinux - puppet-tripleo - python3-heat-agent* - rsync when: ansible_facts['distribution_major_version'] is version('8', '==')",5,22
openstack%2Ftripleo-upgrade~stable%2Ftrain~I69b11394cc958e5d9dcd6c5f4ff613de98f05b7f,openstack/tripleo-upgrade,stable/train,I69b11394cc958e5d9dcd6c5f4ff613de98f05b7f,DNM filter tests,ABANDONED,2022-11-25 16:27:34.000000000,2023-06-09 09:30:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-25 16:27:34.000000000', 'files': ['tasks/common/load_roles_from_inventory.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ec5f2b64505bd7edb1ec2514f0b5f44baf314e97', 'message': 'DNM filter tests\n\nChange-Id: I69b11394cc958e5d9dcd6c5f4ff613de98f05b7f\n'}]",0,865700,ec5f2b64505bd7edb1ec2514f0b5f44baf314e97,3,1,1,22954,,,0,"DNM filter tests

Change-Id: I69b11394cc958e5d9dcd6c5f4ff613de98f05b7f
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/00/865700/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/load_roles_from_inventory.yaml'],1,ec5f2b64505bd7edb1ec2514f0b5f44baf314e97,test1,- name: set inventory facts - to_inventory_rolemap ignore_errors: true - name: set inventory facts - to_inventory_hostmap set_fact: ignore_errors: true - name: set inventory facts - to_inventory_roles set_fact: ignore_errors: true,- name: set inventory facts,10,1
openstack%2Ftripleo-heat-templates~master~I7a2210b082965ae8c950f709acd4bf31a6ec1c63,openstack/tripleo-heat-templates,master,I7a2210b082965ae8c950f709acd4bf31a6ec1c63,WIP: barbican check,ABANDONED,2022-10-20 07:32:07.000000000,2023-06-09 09:30:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-10-20 07:32:07.000000000', 'files': ['deployment/barbican/barbican-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9931675bc2e85dd3a40a1d5b8b3a69409373df2f', 'message': 'WIP: barbican check\n\nChange-Id: I7a2210b082965ae8c950f709acd4bf31a6ec1c63\n'}]",0,861941,9931675bc2e85dd3a40a1d5b8b3a69409373df2f,4,2,1,22954,,,0,"WIP: barbican check

Change-Id: I7a2210b082965ae8c950f709acd4bf31a6ec1c63
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/861941/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/barbican/barbican-api-container-puppet.yaml'],1,9931675bc2e85dd3a40a1d5b8b3a69409373df2f,httpd/barbican,,,1,0
openstack%2Ftripleo-quickstart-extras~master~Ib32adc054c7441a1cdd37d6969ace5f4c3df3ed3,openstack/tripleo-quickstart-extras,master,Ib32adc054c7441a1cdd37d6969ace5f4c3df3ed3,WIP test,ABANDONED,2022-03-03 13:22:27.000000000,2023-06-09 09:29:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-03 13:22:27.000000000', 'files': ['roles/modify-image/tasks/libguestfs.yml', 'roles/validate-undercloud/templates/undercloud-sanity-check.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9e7a0ce2b500b880a9322ee044d52a882ec2b354', 'message': 'WIP test\n\nChange-Id: Ib32adc054c7441a1cdd37d6969ace5f4c3df3ed3\n'}]",0,831775,9e7a0ce2b500b880a9322ee044d52a882ec2b354,6,2,1,22954,,,0,"WIP test

Change-Id: Ib32adc054c7441a1cdd37d6969ace5f4c3df3ed3
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/75/831775/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/modify-image/tasks/libguestfs.yml', 'roles/validate-undercloud/templates/undercloud-sanity-check.sh.j2']",2,9e7a0ce2b500b880a9322ee044d52a882ec2b354,libvirt_test,,## * Install deps for subunit results sudo {{ ansible_pkg_mgr }} install -y python-os-testr ,1,4
openstack%2Ftripleo-ci~master~If0ae31a9c8349d792255a0baa9ef5d2117630939,openstack/tripleo-ci,master,If0ae31a9c8349d792255a0baa9ef5d2117630939,DNM Reboot test,ABANDONED,2021-11-23 13:31:01.000000000,2023-06-09 09:29:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-23 13:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/75030b691d41bda65e0c566836c42a7dc6bfd911', 'message': 'DNM Reboot test\n\nChange-Id: If0ae31a9c8349d792255a0baa9ef5d2117630939\n'}, {'number': 2, 'created': '2021-11-23 13:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b3581ffa9c861189b29c890b9c576690d77cc56c', 'message': 'DNM Reboot test\n\nChange-Id: If0ae31a9c8349d792255a0baa9ef5d2117630939\n'}, {'number': 3, 'created': '2021-11-23 21:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0ea55d0df1c0f31587b943d8b1256de36f509db7', 'message': 'DNM Reboot test\n\nChange-Id: If0ae31a9c8349d792255a0baa9ef5d2117630939\n'}, {'number': 4, 'created': '2021-11-24 06:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f4d83969063a665dc0e1e9146f49c49c7b158b5a', 'message': 'DNM Reboot test\n\nChange-Id: If0ae31a9c8349d792255a0baa9ef5d2117630939\n'}, {'number': 5, 'created': '2021-11-24 07:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e11d607c6405c37c29a43f06c74b699e83e6b7eb', 'message': 'DNM Reboot test\n\nChange-Id: If0ae31a9c8349d792255a0baa9ef5d2117630939\n'}, {'number': 6, 'created': '2021-11-24 12:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/37e86c825288e775ed73051b0ecc5b76768701e8', 'message': 'DNM Reboot test\n\nChange-Id: If0ae31a9c8349d792255a0baa9ef5d2117630939\n'}, {'number': 7, 'created': '2021-11-24 22:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9092616aa1874471320cae1f5bc01f368a184f48', 'message': 'DNM Reboot test\n\nChange-Id: If0ae31a9c8349d792255a0baa9ef5d2117630939\n'}, {'number': 8, 'created': '2021-11-25 08:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/590882f8399981c3c75ca2fdf35d6e6b6734e18e', 'message': 'DNM Reboot test\n\nChange-Id: If0ae31a9c8349d792255a0baa9ef5d2117630939\n'}, {'number': 9, 'created': '2021-11-25 11:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b4c52821dbd6fed3cca1896be647c95c5cd05b33', 'message': 'DNM Reboot test\n\nChange-Id: If0ae31a9c8349d792255a0baa9ef5d2117630939\n'}, {'number': 10, 'created': '2021-12-13 13:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5556fa1c168a555708aa291ae843d9402600821c', 'message': 'DNM Reboot test\n\nChange-Id: If0ae31a9c8349d792255a0baa9ef5d2117630939\n'}, {'number': 11, 'created': '2021-12-13 15:20:25.000000000', 'files': ['playbooks/tripleo-ci/run-v3.yaml', 'roles/reboot-node/tasks/main.yml', 'roles/reboot-node/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2f335c4c038e977f0bd17647c06c1562620cf947', 'message': 'DNM Reboot test\n\nChange-Id: If0ae31a9c8349d792255a0baa9ef5d2117630939\n'}]",1,818918,2f335c4c038e977f0bd17647c06c1562620cf947,31,2,11,22954,,,0,"DNM Reboot test

Change-Id: If0ae31a9c8349d792255a0baa9ef5d2117630939
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/18/818918/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/tripleo-ci/run-v3.yaml', 'roles/reboot-node/tasks/main.yml', 'roles/reboot-node/defaults/main.yml']",3,75030b691d41bda65e0c566836c42a7dc6bfd911,,--- # default node to reboot tripleo_reboot_node: overcloud-controller-0 ,,39,0
openstack%2Fnova~master~I9782427787d9e7a64ca57e826141daf4d985b39a,openstack/nova,master,I9782427787d9e7a64ca57e826141daf4d985b39a,[wip]network: convert usage of neutronclient to openstacksdk,NEW,2023-05-09 13:44:35.000000000,2023-06-09 09:27:31.000000000,,"[{'_account_id': 7166}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-09 13:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c676467e3fafd27d5f4455d63e385fff16c3eb98', 'message': 'wip: convert usage of neutronclient to openstacksdk\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I9782427787d9e7a64ca57e826141daf4d985b39a\n'}, {'number': 2, 'created': '2023-05-10 08:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efa9778eb5fe3b9ece13516a0af0143c3e900138', 'message': '[wip]network: convert usage of neutronclient to openstacksdk\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I9782427787d9e7a64ca57e826141daf4d985b39a\n'}, {'number': 3, 'created': '2023-05-10 11:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87fb42836629824ecd34abef2ed7978ef2a9cc9e', 'message': '[wip]network: convert usage of neutronclient to openstacksdk\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I9782427787d9e7a64ca57e826141daf4d985b39a\n'}, {'number': 4, 'created': '2023-05-17 06:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4aa2a6bfcd2bdf83ed1dc1a9a805f22ea028decf', 'message': '[wip]network: convert usage of neutronclient to openstacksdk\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I9782427787d9e7a64ca57e826141daf4d985b39a\n'}, {'number': 5, 'created': '2023-05-22 10:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9823d6f3de41d37a771f15104e13fcb6694367d1', 'message': '[wip]network: convert usage of neutronclient to openstacksdk\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I9782427787d9e7a64ca57e826141daf4d985b39a\n'}, {'number': 6, 'created': '2023-05-23 13:51:23.000000000', 'files': ['nova/network/security_group_api.py', 'nova/tests/fixtures/neutron.py', 'nova/tests/fixtures/nova.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b4637c3dfde79348e3a0b265edaf9bcc05af2a7d', 'message': '[wip]network: convert usage of neutronclient to openstacksdk\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I9782427787d9e7a64ca57e826141daf4d985b39a\n'}]",27,882714,b4637c3dfde79348e3a0b265edaf9bcc05af2a7d,31,3,6,7730,,,0,"[wip]network: convert usage of neutronclient to openstacksdk

Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: I9782427787d9e7a64ca57e826141daf4d985b39a
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/882714/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/security_group_api.py'],1,c676467e3fafd27d5f4455d63e385fff16c3eb98,usesdk,"from openstack import exceptions as sdk_excdef _safe_find_security_group(client, name, context): try: sg = client.find_security_group(name, ignore_missing=False) if sg.project_id != context.project_id: raise sdk_exc.ResourceNotFound() return sg.id except sdk_exc.ResourceNotFound: LOG.debug('Neutron security group %s not found', name) raise exception.SecurityGroupNotFound(security_group_id=name) except sdk_exc.ConflictException as e: raise exception.NoUniqueMatch(str(e)) except sdk_exc.HttpException as e: with excutils.save_and_reraise_exception(): LOG.error('Neutron Error: %s', e) return _safe_find_security_group( utils.get_sdk_adapter('network'), name, context) neutron = utils.get_sdk_adapter('network') name=name, description=description) except sdk_exc.ConflictException: raise exception.SecurityGroupLimitExceeded() except sdk_exc.BadRequest as e: except sdk_exc.HttpException as e: with excutils.save_and_reraise_exception(): LOG.exception(""Neutron Error creating security group %s"", name) neutron = utils.get_sdk_adapter('network') security_group['id'], name=name, description=description) except sdk_exc.HttpException: with excutils.save_and_reraise_exception(): LOG.exception(""Neutron Error updating security group %s"", name) return _convert_to_nova_security_group_format( _safe_find_security_group(utils.get_sdk_adapter('network'), id, context)) neutron = utils.get_sdk_adapter('network') security_groups = neutron.list_security_groups(**params) except sdk_exc.HttpException: neutron = utils.get_sdk_adapter('network') except sdk_exc.HttpNotFound: raise exception.SecurityGroupNotFound( security_group=security_group['id']) except sdk_exc.HttpConflict as e: raise exception.Invalid(str(e)) except sdk_exc.HttpException: with excutils.save_and_reraise_exception(): neutron = utils.get_sdk_adapter('network') security_group_id = _safe_find_security_group(neutron, name, context) neutron = utils.get_sdk_adapter('network') security_group_id = _safe_find_security_group(neutron, name, context)"," neutron = neutronapi.get_client(context) try: return neutronv20.find_resourceid_by_name_or_id( neutron, 'security_group', name, context.project_id) except n_exc.NeutronClientNoUniqueMatch as e: raise exception.NoUniqueMatch(str(e)) except n_exc.NeutronClientException as e: if e.status_code == 404: LOG.debug('Neutron security group %s not found', name) raise exception.SecurityGroupNotFound(str(e)) else: LOG.error('Neutron Error: %s', e) raise e neutron = neutronapi.get_client(context) body = _make_neutron_security_group_dict(name, description) body).get('security_group') except n_exc.BadRequest as e: except n_exc.NeutronClientException as e: LOG.exception(""Neutron Error creating security group %s"", name) if e.status_code == 401: # TODO(arosen) Cannot raise generic response from neutron here # as this error code could be related to bad input or over # quota raise exc.HTTPBadRequest() elif e.status_code == 409: raise exception.SecurityGroupLimitExceeded(str(e)) raise e neutron = neutronapi.get_client(context) body = _make_neutron_security_group_dict(name, description) security_group['id'], body).get('security_group') except n_exc.NeutronClientException as e: LOG.exception(""Neutron Error updating security group %s"", name) if e.status_code == 401: # TODO(arosen) Cannot raise generic response from neutron here # as this error code could be related to bad input or over # quota raise exc.HTTPBadRequest() raise e neutron = neutronapi.get_client(context) try: group = neutron.show_security_group(id).get('security_group') return _convert_to_nova_security_group_format(group) except n_exc.NeutronClientException as e: if e.status_code == 404: LOG.debug('Neutron security group %s not found', id) raise exception.SecurityGroupNotFound(str(e)) else: LOG.error(""Neutron Error: %s"", e) raise e neutron = neutronapi.get_client(context) security_groups = neutron.list_security_groups(**params).get( 'security_groups') except n_exc.NeutronClientException: neutron = neutronapi.get_client(context) except n_exc.NeutronClientException as e: if e.status_code == 404: raise exception.SecurityGroupNotFound(str(e)) elif e.status_code == 409: raise exception.Invalid(str(e)) else: raise e neutron = neutronapi.get_client(context) try: security_group_id = neutronv20.find_resourceid_by_name_or_id( neutron, 'security_group', security_group_name, context.project_id) except n_exc.NeutronClientNoUniqueMatch as e: raise exception.NoUniqueMatch(str(e)) except n_exc.NeutronClientException as e: if e.status_code == 404: msg = (_(""Security group %(name)s is not found for "" ""project %(project)s"") % {'name': security_group_name, 'project': context.project_id}) raise exception.SecurityGroupNotFound(msg) else: raise e neutron = neutronapi.get_client(context) try: security_group_id = neutronv20.find_resourceid_by_name_or_id( neutron, 'security_group', security_group_name, context.project_id) except n_exc.NeutronClientNoUniqueMatch as e: raise exception.NoUniqueMatch(e) except n_exc.NeutronClientException as e: if e.status_code == 404: msg = (_(""Security group %(name)s is not found for "" ""project %(project)s"") % {'name': security_group_name, 'project': context.project_id}) raise exception.SecurityGroupNotFound(msg) else: raise e",50,96
openstack%2Fnova~master~I843078886d64f5aea0f8e8710be207b92e503cec,openstack/nova,master,I843078886d64f5aea0f8e8710be207b92e503cec,Add ability to flatten RBD disks upon clone,ABANDONED,2023-05-30 13:54:26.000000000,2023-06-09 09:04:04.000000000,,"[{'_account_id': 4393}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 25468}]","[{'number': 1, 'created': '2023-05-30 13:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0df4f492a8e78d4d6c5d4a6a6a7aad76ecfb3690', 'message': 'Add ability to flatten RBD disks upon clone\n\nThis change will allow glance to delete the image, by flattening the cloned\ndisk immediately and by storing the parent pool of the source image\nin the system metadata table.\n\nThis way the information required to create a successfull\nlive-snapshot is still available, even if the glance api returns a 404.\n\nTo enable the flattening feature, a operator needs to specifically enable\nit by configuring the option\n`workarounds.always_flatten_rbd_image_on_clone` to `True`\n\nThe source pool information is always stored, regardless of the\nworkaround option and will be used when possible to prevent a call\nto glance and/or ceph, since we already have this information anyway.\n\nIf this information were to be outdated, a operator should update this\nvalue in the database, or at least find out rather sooner than later.\n\nImplements: blueprint rbd-allow-glance-image-deletion\nRelated-Bug: #1959186\n\nChange-Id: I843078886d64f5aea0f8e8710be207b92e503cec\n'}, {'number': 2, 'created': '2023-05-30 14:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8bdecd5cc64135fca1484e1eeec77de918db981', 'message': 'Add ability to flatten RBD disks upon clone\n\nThis change will allow glance to delete the image, by flattening the cloned\ndisk immediately and by storing the parent pool of the source image\nin the system metadata table.\n\nThis way the information required to create a successfull\nlive-snapshot is still available, even if the glance api returns a 404.\n\nTo enable the flattening feature, a operator needs to specifically enable\nit by configuring the option\n`workarounds.always_flatten_rbd_image_on_clone` to `True`\n\nThe source pool information is always stored, regardless of the\nworkaround option and will be used when possible to prevent a call\nto glance and/or ceph, since we already have this information anyway.\n\nIf this information were to be outdated, a operator should update this\nvalue in the database, or at least find out rather sooner than later.\n\nImplements: blueprint rbd-allow-glance-image-deletion\nRelated-Bug: #1959186\n\nChange-Id: I843078886d64f5aea0f8e8710be207b92e503cec\n'}, {'number': 3, 'created': '2023-06-01 07:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b533207571a3cc2cec9ef2c3285ea400eb34668d', 'message': 'Add ability to flatten RBD disks upon clone\n\nThis change will allow glance to delete the image, by flattening the cloned\ndisk immediately and by storing the parent pool of the source image\nin the system metadata table.\n\nThis way the information required to create a successfull\nlive-snapshot is still available, even if the glance api returns a 404.\n\nTo enable the flattening feature, a operator needs to specifically enable\nit by configuring the option\n`workarounds.always_flatten_rbd_image_on_clone` to `True`\n\nThe source pool information is always stored, regardless of the\nworkaround option and will be used when possible to prevent a call\nto glance and/or ceph, since we already have this information anyway.\n\nIf this information were to be outdated, a operator should update this\nvalue in the database, or at least find out rather sooner than later.\n\nImplements: blueprint rbd-allow-glance-image-deletion\nRelated-Bug: #1959186\n\nChange-Id: I843078886d64f5aea0f8e8710be207b92e503cec\n'}, {'number': 4, 'created': '2023-06-01 07:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96e42a373b74206eaea04bd29df846a34f83dd74', 'message': 'Add ability to flatten RBD disks upon clone\n\nThis change will allow glance to delete the image, by flattening the cloned\ndisk immediately and by storing the parent pool of the source image\nin the system metadata table.\n\nThis way the information required to create a successfull\nlive-snapshot is still available, even if the glance api returns a 404.\n\nTo enable the flattening feature, a operator needs to specifically enable\nit by configuring the option\n`workarounds.always_flatten_rbd_image_on_clone` to `True`\n\nThe source pool information is always stored, regardless of the\nworkaround option and will be used when possible to prevent a call\nto glance and/or ceph, since we already have this information anyway.\n\nIf this information were to be outdated, a operator should update this\nvalue in the database, or at least find out rather sooner than later.\n\nImplements: blueprint rbd-allow-glance-image-deletion\nRelated-Bug: #1959186\n\nChange-Id: I843078886d64f5aea0f8e8710be207b92e503cec\n'}, {'number': 5, 'created': '2023-06-01 10:09:08.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/utils.py', 'nova/conf/workarounds.py', 'nova/virt/libvirt/imagebackend.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/316b44a98a4cca6e9f6a2593df7372cf1d67927b', 'message': 'Add ability to flatten RBD disks upon clone\n\nThis change will allow glance to delete the image, by flattening the cloned\ndisk immediately and by storing the parent pool of the source image\nin the system metadata table.\n\nThis way the information required to create a successfull\nlive-snapshot is still available, even if the glance api returns a 404.\n\nTo enable the flattening feature, a operator needs to specifically enable\nit by configuring the option\n`workarounds.always_flatten_rbd_image_on_clone` to `True`\n\nThe source pool information is always stored, regardless of the\nworkaround option and will be used when possible to prevent a call\nto glance and/or ceph, since we already have this information anyway.\n\nIf this information were to be outdated, a operator should update this\nvalue in the database, or at least find out rather sooner than later.\n\nImplements: blueprint rbd-allow-glance-image-deletion\nRelated-Bug: #1959186\n\nChange-Id: I843078886d64f5aea0f8e8710be207b92e503cec\n'}]",25,884595,316b44a98a4cca6e9f6a2593df7372cf1d67927b,36,4,5,25468,,,0,"Add ability to flatten RBD disks upon clone

This change will allow glance to delete the image, by flattening the cloned
disk immediately and by storing the parent pool of the source image
in the system metadata table.

This way the information required to create a successfull
live-snapshot is still available, even if the glance api returns a 404.

To enable the flattening feature, a operator needs to specifically enable
it by configuring the option
`workarounds.always_flatten_rbd_image_on_clone` to `True`

The source pool information is always stored, regardless of the
workaround option and will be used when possible to prevent a call
to glance and/or ceph, since we already have this information anyway.

If this information were to be outdated, a operator should update this
value in the database, or at least find out rather sooner than later.

Implements: blueprint rbd-allow-glance-image-deletion
Related-Bug: #1959186

Change-Id: I843078886d64f5aea0f8e8710be207b92e503cec
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/884595/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/conf/workarounds.py', 'nova/virt/libvirt/imagebackend.py']",4,0df4f492a8e78d4d6c5d4a6a6a7aad76ecfb3690,rbd-image-flatten," self.instance = instance def _get_rbd_pool_name_from_location(self, location): try: parent_fsid, parent_pool, _im, _snap = \ self.driver.parse_url(location['url']) except exception.ImageUnacceptable: return None return parent_pool if self.instance and self.instance.image_ref: instance_image_meta = self.instance.image_meta # only store the parent information, if we are working on # the parent image of the instance. if instance_image_meta.id == image_meta['id']: pool = self._get_rbd_pool_name_from_location(location) LOG.debug('Source rbd pool location: %s', pool) # We store the parent pool in system metadata. # This is needed in cases we want to do a live # snapshot and the image has been deleted in glance. # In that case the image api cannot return the parent # location, eventhough we could do a live-snapshot on # the ceph cluster sys_meta = self.instance.system_metadata sys_meta['source_rbd_pool_name'] = pool self.instance.save() # Final attempt is to see what we stored in the system metadata # whenever the image has been deleted from glance, and it is no # longer a child image. if (not parent_pool and self.instance and self.instance.image_ref and self.instance.image_ref == base_image_id): LOG.debug('Fetch parent info for base image %s', base_image_id) parent_pool = self.instance.system_metadata.get( 'source_rbd_pool_name', None) if parent_pool: LOG.debug('- Stored metadata image parent: %s', parent_pool) return parent_pool ",,116,0
openstack%2Fneutron~master~Id2e8aca7c52359eee7c4fd8006d93c97c84f817a,openstack/neutron,master,Id2e8aca7c52359eee7c4fd8006d93c97c84f817a,Do not dispose local_vlan_hints,NEW,2023-04-13 15:04:13.000000000,2023-06-09 08:29:05.000000000,,"[{'_account_id': 1131}, {'_account_id': 7730}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-13 15:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c8ef79f31ca361fc4af8d6eb2175382282cf05d', 'message': 'Do not dispose local_vlan_hints\n\nAfter first iteration, neutron ovs agent was releasing the vlan hints\nback into available vlan.\n\nThis could be an issue if neutron agent failed to configure a device\nduring that first loop.\n\nExample of failure: a RPC call like get_device_details.\n\nWhen such failure occur, the vlan is not removed from local_vlan_hints\nwhen configuring the device, but the hint is anyway restored in\navailable vlans at the end of the iteration.\n\nIn such situation, a new port can be plugged into br-int reusing a vlan\nthat is still used by a previous port.\n\nNot disposing the local_vlan_hints after first iteration allow neutron\nto keep looking into the hints on next iteration, until it succeed.\n\nAnyway, having a local_vlan_hints not empty after an iteration is an\nerror and should be logged so operator can eventually fix ovs manually\non some edge cases.\n\nChange-Id: Id2e8aca7c52359eee7c4fd8006d93c97c84f817a\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 2, 'created': '2023-05-03 11:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ddd8482ba0fd6f8c8e33b7b5a98ddc65fdaf6b4d', 'message': 'Do not dispose local_vlan_hints\n\nAfter first iteration, neutron ovs agent was releasing the vlan hints\nback into available vlan.\n\nThis could be an issue if neutron agent failed to configure a device\nduring that first loop.\n\nExample of failure: a RPC call like get_device_details.\n\nWhen such failure occur, the vlan is not removed from local_vlan_hints\nwhen configuring the device, but the hint is anyway restored in\navailable vlans at the end of the iteration.\n\nIn such situation, a new port can be plugged into br-int reusing a vlan\nthat is still used by a previous port.\n\nNot disposing the local_vlan_hints after first iteration allow neutron\nto keep looking into the hints on next iteration, until it succeed.\n\nAnyway, having a local_vlan_hints not empty after an iteration is an\nerror and should be logged so operator can eventually fix ovs manually\non some edge cases.\n\nChange-Id: Id2e8aca7c52359eee7c4fd8006d93c97c84f817a\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 3, 'created': '2023-05-03 15:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/908d990b95d93a054ff848d41b41cac7859b6477', 'message': 'Do not dispose local_vlan_hints\n\nAfter first iteration, neutron ovs agent was releasing the vlan hints\nback into available vlan.\n\nThis could be an issue if neutron agent failed to configure a device\nduring that first loop.\n\nExample of failure: a RPC call like get_device_details.\n\nWhen such failure occur, the vlan is not removed from local_vlan_hints\nwhen configuring the device, but the hint is anyway restored in\navailable vlans at the end of the iteration.\n\nIn such situation, a new port can be plugged into br-int reusing a vlan\nthat is still used by a previous port.\n\nNot disposing the local_vlan_hints after first iteration allow neutron\nto keep looking into the hints on next iteration, until it succeed.\n\nAnyway, having a local_vlan_hints not empty after an iteration is an\nerror and should be logged so operator can eventually fix ovs manually\non some edge cases.\n\nChange-Id: Id2e8aca7c52359eee7c4fd8006d93c97c84f817a\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 4, 'created': '2023-05-03 15:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff8028d03ec86ce940c3fe08eb7ec94b30d59b05', 'message': 'Do not dispose local_vlan_hints\n\nAfter first iteration, neutron ovs agent was releasing the vlan hints\nback into available vlan.\n\nThis could be an issue if neutron agent failed to configure a device\nduring that first loop.\n\nExample of failure: a RPC call like get_device_details.\n\nWhen such failure occur, the vlan is not removed from local_vlan_hints\nwhen configuring the device, but the hint is anyway restored in\navailable vlans at the end of the iteration.\n\nIn such situation, a new port can be plugged into br-int reusing a vlan\nthat is still used by a previous port.\n\nNot disposing the local_vlan_hints after first iteration allow neutron\nto keep looking into the hints on next iteration, until it succeed.\n\nAnyway, having a local_vlan_hints not empty after an iteration is an\nerror and should be logged so operator can eventually fix ovs manually\non some edge cases.\n\nChange-Id: Id2e8aca7c52359eee7c4fd8006d93c97c84f817a\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 5, 'created': '2023-05-04 08:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd3f3d32c0c4f530fa2cffe7884bbc8ebee54713', 'message': 'Do not dispose local_vlan_hints\n\nAfter first iteration, neutron ovs agent was releasing the vlan hints\nback into available vlan.\n\nThis could be an issue if neutron agent failed to configure a device\nduring that first loop.\n\nExample of failure: a RPC call like get_device_details.\n\nWhen such failure occur, the vlan is not removed from local_vlan_hints\nwhen configuring the device, but the hint is anyway restored in\navailable vlans at the end of the iteration.\n\nIn such situation, a new port can be plugged into br-int reusing a vlan\nthat is still used by a previous port.\n\nNot disposing the local_vlan_hints after first iteration allow neutron\nto keep looking into the hints on next iteration, until it succeed.\n\nAnyway, having a local_vlan_hints not empty after an iteration is an\nerror and should be logged so operator can eventually fix ovs manually\non some edge cases.\n\nChange-Id: Id2e8aca7c52359eee7c4fd8006d93c97c84f817a\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 6, 'created': '2023-05-04 16:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d181f0e130364fcb5ce10b0d7b299c5e8fc2641a', 'message': 'Do not dispose local_vlan_hints\n\nAfter first iteration, neutron ovs agent was releasing the vlan hints\nback into available vlan.\n\nThis could be an issue if neutron agent failed to configure a device\nduring that first loop.\n\nExample of failure: a RPC call like get_device_details.\n\nWhen such failure occur, the vlan is not removed from local_vlan_hints\nwhen configuring the device, but the hint is anyway restored in\navailable vlans at the end of the iteration.\n\nIn such situation, a new port can be plugged into br-int reusing a vlan\nthat is still used by a previous port.\n\nNot disposing the local_vlan_hints after first iteration allow neutron\nto keep looking into the hints on next iteration, until it succeed.\n\nAnyway, having a local_vlan_hints not empty after an iteration is an\nerror and should be logged so operator can eventually fix ovs manually\non some edge cases.\n\nChange-Id: Id2e8aca7c52359eee7c4fd8006d93c97c84f817a\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}, {'number': 7, 'created': '2023-06-06 14:03:36.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3ac0c9ae9d044014c56f3b8e45442d0ff84aea0', 'message': 'Do not dispose local_vlan_hints\n\nAfter first iteration, neutron ovs agent was releasing the vlan hints\nback into available vlan.\n\nThis could be an issue if neutron agent failed to configure a device\nduring that first loop.\n\nExample of failure: a RPC call like get_device_details.\n\nWhen such failure occur, the vlan is not removed from local_vlan_hints\nwhen configuring the device, but the hint is anyway restored in\navailable vlans at the end of the iteration.\n\nIn such situation, a new port can be plugged into br-int reusing a vlan\nthat is still used by a previous port.\n\nNot disposing the local_vlan_hints after first iteration allow neutron\nto keep looking into the hints on next iteration, until it succeed.\n\nAnyway, having a local_vlan_hints not empty after an iteration is an\nerror and should be logged so operator can eventually fix ovs manually\non some edge cases.\n\nChange-Id: Id2e8aca7c52359eee7c4fd8006d93c97c84f817a\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n'}]",33,880334,e3ac0c9ae9d044014c56f3b8e45442d0ff84aea0,42,4,7,11583,,,0,"Do not dispose local_vlan_hints

After first iteration, neutron ovs agent was releasing the vlan hints
back into available vlan.

This could be an issue if neutron agent failed to configure a device
during that first loop.

Example of failure: a RPC call like get_device_details.

When such failure occur, the vlan is not removed from local_vlan_hints
when configuring the device, but the hint is anyway restored in
available vlans at the end of the iteration.

In such situation, a new port can be plugged into br-int reusing a vlan
that is still used by a previous port.

Not disposing the local_vlan_hints after first iteration allow neutron
to keep looking into the hints on next iteration, until it succeed.

Anyway, having a local_vlan_hints not empty after an iteration is an
error and should be logged so operator can eventually fix ovs manually
on some edge cases.

Change-Id: Id2e8aca7c52359eee7c4fd8006d93c97c84f817a
Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/880334/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,6c8ef79f31ca361fc4af8d6eb2175382282cf05d,," if len(self._local_vlan_hints.values()) > 0: LOG.error( ""After iteration %(iter_num)d, local_vlan_hints "" ""still contains %(nb_hints)d values! You may "" ""have dead ports in integration bridge."", {'iter_num': self.iter_num, 'nb_hints': len(self._local_vlan_hints.values())} ) LOG.error( ""local_vlan_hints: %(map)s"", {""map"": self._local_vlan_hints} )", def _dispose_local_vlan_hints(self): self.available_local_vlans.update(self._local_vlan_hints.values()) self._local_vlan_hints = {} self._dispose_local_vlan_hints(),12,5
openstack%2Fironic~master~I604369e000c80914cf0c584c9deab7245c66b1b4,openstack/ironic,master,I604369e000c80914cf0c584c9deab7245c66b1b4,Disabling test_upgrade_twice temporarily for CI fix,MERGED,2023-06-08 17:02:01.000000000,2023-06-09 08:15:29.000000000,2023-06-09 07:53:49.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-06-08 17:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bb52248317d6327e715b8503da44ff816c2776c1', 'message': 'DNM: Testing to see if disabling this test lets things pass\n\nRelated-Bug: https://bugs.launchpad.net/ironic/+bug/2023316\nChange-Id: I604369e000c80914cf0c584c9deab7245c66b1b4\n'}, {'number': 2, 'created': '2023-06-08 17:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b405ac65035c16dae5420f10d890c47c7ee789ea', 'message': 'Disabling test_upgrade_twice temporarily for CI fix\n\nThis test has been taking an inordinate amount of time to complete. We\nshould figure out the root cause and fix it, but in the meantime it only\ncauses us harm to be unable to land patches.\n\nRelated-Bug: https://bugs.launchpad.net/ironic/+bug/2023316\nChange-Id: I604369e000c80914cf0c584c9deab7245c66b1b4\n'}, {'number': 3, 'created': '2023-06-08 17:21:43.000000000', 'files': ['ironic/tests/unit/db/sqlalchemy/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b4f8209b99af32d8d2a646591af9b62436aad3d8', 'message': 'Disabling test_upgrade_twice temporarily for CI fix\n\nThis test has been taking an inordinate amount of time to complete. We\nshould figure out the root cause and fix it, but in the meantime it only\ncauses us harm to be unable to land patches.\n\nRelated-Bug: 2023316\nChange-Id: I604369e000c80914cf0c584c9deab7245c66b1b4\n'}]",3,885600,b4f8209b99af32d8d2a646591af9b62436aad3d8,16,2,3,10342,,,0,"Disabling test_upgrade_twice temporarily for CI fix

This test has been taking an inordinate amount of time to complete. We
should figure out the root cause and fix it, but in the meantime it only
causes us harm to be unable to land patches.

Related-Bug: 2023316
Change-Id: I604369e000c80914cf0c584c9deab7245c66b1b4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/00/885600/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'ironic/tests/unit/db/sqlalchemy/test_migrations.py']",2,bb52248317d6327e715b8503da44ff816c2776c1,,"# NOTE(JayF): bug2023316 means we need to disable this for now. We need # to fix the hangs in this test then re-enable it as quickly # as possible # def test_upgrade_twice(self): # with patch_with_engine(self.engine): # self.migration_api.upgrade('31baaf680d2b') # v1 = self.migration_api.version() # self.migration_api.upgrade('head') # v2 = self.migration_api.version() # self.assertNotEqual(v1, v2)"," def test_upgrade_twice(self): with patch_with_engine(self.engine): self.migration_api.upgrade('31baaf680d2b') v1 = self.migration_api.version() self.migration_api.upgrade('head') v2 = self.migration_api.version() self.assertNotEqual(v1, v2)",68,65
openstack%2Freleases~master~I41e2cfbf8014ac91bfdfe5cd0aa755d943fb15b7,openstack/releases,master,I41e2cfbf8014ac91bfdfe5cd0aa755d943fb15b7,[tempest] Tag xena-last,MERGED,2023-06-07 20:04:40.000000000,2023-06-09 08:10:01.000000000,2023-06-09 08:10:01.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-07 20:04:40.000000000', 'files': ['deliverables/xena/tempest.yaml', 'deliverables/bobcat/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e35ca69e9f54c782c6b085eaed77b80e5ec0dcf2', 'message': ""[tempest] Tag xena-last\n\nXena branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'xena-last' with the same hash of new tag 35.0.0 which mark\nthe end of support for stable/xena in Tempest.\n\n[1] https://releases.openstack.org/xena/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I41e2cfbf8014ac91bfdfe5cd0aa755d943fb15b7\n""}]",4,885548,e35ca69e9f54c782c6b085eaed77b80e5ec0dcf2,11,4,1,8556,,,0,"[tempest] Tag xena-last

Xena branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'xena-last' with the same hash of new tag 35.0.0 which mark
the end of support for stable/xena in Tempest.

[1] https://releases.openstack.org/xena/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: I41e2cfbf8014ac91bfdfe5cd0aa755d943fb15b7
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/885548/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/tempest.yaml', 'deliverables/bobcat/tempest.yaml']",2,e35ca69e9f54c782c6b085eaed77b80e5ec0dcf2,xena-last, - projects: - repo: openstack/tempest hash: 3d29d5e3ba5de63f8109843fe786c69dc8943f46 version: 35.0.0,,8,0
openstack%2Fpuppet-nova~stable%2Fyoga~I91271f3cb8de7a9b5c20fdb7b249931d88c5c1b1,openstack/puppet-nova,stable/yoga,I91271f3cb8de7a9b5c20fdb7b249931d88c5c1b1,Dont log output when setting virsh secret,MERGED,2023-06-08 19:51:23.000000000,2023-06-09 06:58:02.000000000,2023-06-09 06:58:02.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:51:23.000000000', 'files': ['manifests/compute/rbd.pp', 'spec/classes/nova_compute_rbd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/41a7721b83560cc5b30639c067fe6d80fa85235d', 'message': 'Dont log output when setting virsh secret\n\nIf the command failes we will leak the secret\ninto log files and output.\n\nChange-Id: I91271f3cb8de7a9b5c20fdb7b249931d88c5c1b1\n(cherry picked from commit 1a3eebcf121353464dfcca7f679d63da1ec90dc4)\n(cherry picked from commit c6e354fcf24693318aa5dbc149095fd3cd404cfe)\n(cherry picked from commit b518ec5f9d4f963ade725bdcd621a75d2f817b39)\n'}]",0,885624,41a7721b83560cc5b30639c067fe6d80fa85235d,7,3,1,16137,,,0,"Dont log output when setting virsh secret

If the command failes we will leak the secret
into log files and output.

Change-Id: I91271f3cb8de7a9b5c20fdb7b249931d88c5c1b1
(cherry picked from commit 1a3eebcf121353464dfcca7f679d63da1ec90dc4)
(cherry picked from commit c6e354fcf24693318aa5dbc149095fd3cd404cfe)
(cherry picked from commit b518ec5f9d4f963ade725bdcd621a75d2f817b39)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/24/885624/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/rbd.pp', 'spec/classes/nova_compute_rbd_spec.rb']",2,41a7721b83560cc5b30639c067fe6d80fa85235d,," :command => ""/usr/bin/virsh secret-set-value --secret UUID --base64 $(ceph auth get-key client.rbd_test)"", :logoutput => false, :command => ""/usr/bin/virsh secret-set-value --secret #{params[:libvirt_rbd_secret_uuid]} --base64 #{params[:libvirt_rbd_secret_key]}"", :logoutput => false, :command => ""/usr/bin/virsh secret-set-value --secret UUID --base64 $(ceph auth get-key client.rbd_test)"", :logoutput => false,"," :command => ""/usr/bin/virsh secret-set-value --secret UUID --base64 $(ceph auth get-key client.rbd_test)"" :command => ""/usr/bin/virsh secret-set-value --secret #{params[:libvirt_rbd_secret_uuid]} --base64 #{params[:libvirt_rbd_secret_key]}"" :command => ""/usr/bin/virsh secret-set-value --secret UUID --base64 $(ceph auth get-key client.rbd_test)""",10,6
openstack%2Fos-net-config~master~I7602b121f3ad0f86e6925208d7691b4faff24686,openstack/os-net-config,master,I7602b121f3ad0f86e6925208d7691b4faff24686,Add linux bond support for nmstate provider,MERGED,2023-05-05 02:51:23.000000000,2023-06-09 05:34:07.000000000,2023-06-09 05:33:13.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-05 02:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/8da52cecc36f55ebd7f1c588dd62c30855de0bc6', 'message': 'Add linux bond support for nmstate provider\n\nExtend the support for linux bonds in nmstate provider.\n\nChange-Id: I7602b121f3ad0f86e6925208d7691b4faff24686\n'}, {'number': 2, 'created': '2023-05-05 08:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/21923493c8ff41794496a144c1f6ffe4a44898a3', 'message': 'Add linux bond support for nmstate provider\n\nExtend the support for linux bonds in nmstate provider.\n\nChange-Id: I7602b121f3ad0f86e6925208d7691b4faff24686\n'}, {'number': 3, 'created': '2023-05-23 03:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f354334a490efbb1dc6c09b96c9064d2c5524e76', 'message': 'Add linux bond support for nmstate provider\n\nExtend the support for linux bonds in nmstate provider.\n\nChange-Id: I7602b121f3ad0f86e6925208d7691b4faff24686\n'}, {'number': 4, 'created': '2023-06-06 06:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/50938b7e5e117dbc79c4c4ec0048259a4dd327fc', 'message': 'Add linux bond support for nmstate provider\n\nExtend the support for linux bonds in nmstate provider.\n\nChange-Id: I7602b121f3ad0f86e6925208d7691b4faff24686\n'}, {'number': 5, 'created': '2023-06-06 07:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/fade33fa4dcb4c364c31318e35ac1012fd11ed6d', 'message': 'Add linux bond support for nmstate provider\n\nExtend the support for linux bonds in nmstate provider.\n\nChange-Id: I7602b121f3ad0f86e6925208d7691b4faff24686\n'}, {'number': 6, 'created': '2023-06-06 07:44:11.000000000', 'files': ['os_net_config/impl_nmstate.py', 'os_net_config/tests/test_impl_nmstate.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/447d07550d73d07bae2a3a6ed9cd1841b06e1943', 'message': 'Add linux bond support for nmstate provider\n\nExtend the support for linux bonds in nmstate provider.\n\nChange-Id: I7602b121f3ad0f86e6925208d7691b4faff24686\n'}]",6,882370,447d07550d73d07bae2a3a6ed9cd1841b06e1943,26,3,6,18904,,,0,"Add linux bond support for nmstate provider

Extend the support for linux bonds in nmstate provider.

Change-Id: I7602b121f3ad0f86e6925208d7691b4faff24686
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/70/882370/4 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/impl_nmstate.py', 'os_net_config/tests/test_impl_nmstate.py']",2,8da52cecc36f55ebd7f1c588dd62c30855de0bc6,impl_nmstate," def get_linuxbond_config(self, name='bond0'): return self.provider.linuxbond_data[name] def test_linux_bond(self): expected_config1 = """""" name: bond0 type: bond state: up link-aggregation: mode: active-slave port: - em1 - em2 ipv4: auto-dns: True enabled: True dhcp: True auto-routes: True auto-gateway: True ipv6: enabled: False autoconf: False dhcp: False """""" expected_em1_cfg = """""" name: em1 state: up ethernet: {} ipv4: dhcp: False enabled: False ipv6: autoconf: False dhcp: False enabled: False type: ethernet """""" expected_em2_cfg = """""" name: em2 state: up ethernet: {} ipv4: dhcp: False enabled: False ipv6: autoconf: False dhcp: False enabled: False type: ethernet """""" interface1 = objects.Interface('em1') interface2 = objects.Interface('em2') bond = objects.LinuxBond('bond0', use_dhcp=True, members=[interface1, interface2]) self.provider.add_linux_bond(bond) self.provider.add_interface(interface1) self.provider.add_interface(interface2) self.assertEqual(yaml.safe_load(expected_config1), self.get_linuxbond_config('bond0')) self.assertEqual(yaml.safe_load(expected_em1_cfg), self.get_interface_config('em1')) self.assertEqual(yaml.safe_load(expected_em2_cfg), self.get_interface_config('em2')) ",,145,5
openstack%2Fpuppet-nova~stable%2Fzed~I91271f3cb8de7a9b5c20fdb7b249931d88c5c1b1,openstack/puppet-nova,stable/zed,I91271f3cb8de7a9b5c20fdb7b249931d88c5c1b1,Dont log output when setting virsh secret,MERGED,2023-06-08 19:50:58.000000000,2023-06-09 05:21:47.000000000,2023-06-09 05:21:47.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:50:58.000000000', 'files': ['manifests/compute/rbd.pp', 'spec/classes/nova_compute_rbd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b518ec5f9d4f963ade725bdcd621a75d2f817b39', 'message': 'Dont log output when setting virsh secret\n\nIf the command failes we will leak the secret\ninto log files and output.\n\nChange-Id: I91271f3cb8de7a9b5c20fdb7b249931d88c5c1b1\n(cherry picked from commit 1a3eebcf121353464dfcca7f679d63da1ec90dc4)\n(cherry picked from commit c6e354fcf24693318aa5dbc149095fd3cd404cfe)\n'}]",0,885623,b518ec5f9d4f963ade725bdcd621a75d2f817b39,7,3,1,16137,,,0,"Dont log output when setting virsh secret

If the command failes we will leak the secret
into log files and output.

Change-Id: I91271f3cb8de7a9b5c20fdb7b249931d88c5c1b1
(cherry picked from commit 1a3eebcf121353464dfcca7f679d63da1ec90dc4)
(cherry picked from commit c6e354fcf24693318aa5dbc149095fd3cd404cfe)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/23/885623/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/rbd.pp', 'spec/classes/nova_compute_rbd_spec.rb']",2,b518ec5f9d4f963ade725bdcd621a75d2f817b39,," :command => ""/usr/bin/virsh secret-set-value --secret UUID --base64 $(ceph auth get-key client.rbd_test)"", :logoutput => false, :command => ""/usr/bin/virsh secret-set-value --secret #{params[:libvirt_rbd_secret_uuid]} --base64 #{params[:libvirt_rbd_secret_key]}"", :logoutput => false, :command => ""/usr/bin/virsh secret-set-value --secret UUID --base64 $(ceph auth get-key client.rbd_test)"", :logoutput => false,"," :command => ""/usr/bin/virsh secret-set-value --secret UUID --base64 $(ceph auth get-key client.rbd_test)"" :command => ""/usr/bin/virsh secret-set-value --secret #{params[:libvirt_rbd_secret_uuid]} --base64 #{params[:libvirt_rbd_secret_key]}"" :command => ""/usr/bin/virsh secret-set-value --secret UUID --base64 $(ceph auth get-key client.rbd_test)""",10,6
openstack%2Fneutron~master~I4b486c910ed298633ac6f60fd93f695c6c3bfef2,openstack/neutron,master,I4b486c910ed298633ac6f60fd93f695c6c3bfef2,[ovn]disable security group notifier,MERGED,2023-02-15 02:55:51.000000000,2023-06-09 05:20:30.000000000,2023-06-09 05:19:14.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-02-15 02:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6a0cee36eec98e975cece6cc493e0c48ff47ee2', 'message': '[ovn]disable security group notifier\n\nChange-Id: I4b486c910ed298633ac6f60fd93f695c6c3bfef2\n'}, {'number': 2, 'created': '2023-02-15 06:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b36faa55bfb7c4835ced545b0e9f74f2ed433aaa', 'message': '[ovn]disable security group notifier\n\nWhen we use the ovn driver, the security group is implemented\nby the ACL of ovn. There is no need to send rpc messages.\n\nCloses-bug: #2007327\n\nChange-Id: I4b486c910ed298633ac6f60fd93f695c6c3bfef2\n'}, {'number': 3, 'created': '2023-02-16 01:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99ccb701639a4a91cf05b88c586cec5a552873ba', 'message': '[ovn]disable security group notifier\n\nWhen we use the ovn driver, the security group is implemented\nby the ACL of ovn. There is no need to send rpc messages.\n\nCloses-Bug: #2007327\n\nChange-Id: I4b486c910ed298633ac6f60fd93f695c6c3bfef2\n'}, {'number': 4, 'created': '2023-02-16 06:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e2a09ab80b52ff21dccbd65f4ad866ca621cef1', 'message': '[ovn]disable security group notifier\n\nWhen we use the ovn driver, the security group is implemented\nby the ACL of ovn. There is no need to send rpc messages.\n\nCloses-Bug: #2007327\n\nChange-Id: I4b486c910ed298633ac6f60fd93f695c6c3bfef2\n'}, {'number': 5, 'created': '2023-03-28 02:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/47ecc7b851fe33cb0a9f54980bcf93867edd80da', 'message': '[ovn]disable security group notifier\n\nWhen we use the ovn driver, the security group is implemented\nby the ACL of ovn. There is no need to send rpc messages.\n\nCloses-Bug: #2007327\n\nChange-Id: I4b486c910ed298633ac6f60fd93f695c6c3bfef2\n'}, {'number': 6, 'created': '2023-04-06 06:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/075a64876864bef0dd33898504641ad9fd9803e3', 'message': '[ovn]disable security group notifier\n\nWhen we use the ovn driver, the security group is implemented\nby the ACL of ovn. There is no need to send rpc messages.\n\nCloses-Bug: #2007327\n\nChange-Id: I4b486c910ed298633ac6f60fd93f695c6c3bfef2\n'}, {'number': 7, 'created': '2023-05-24 06:15:58.000000000', 'files': ['doc/source/admin/ovn/rpc.rst', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/securitygroups_rpc_base.py', 'doc/source/admin/ovn/index.rst', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/35cb164ea557ca4f26b7c7ef21d1db13cdda0d71', 'message': '[ovn]disable security group notifier\n\nWhen we use the ovn driver, the security group is implemented\nby the ACL of ovn. There is no need to send rpc messages.\n\nCloses-Bug: #2007327\n\nChange-Id: I4b486c910ed298633ac6f60fd93f695c6c3bfef2\n'}]",47,873850,35cb164ea557ca4f26b7c7ef21d1db13cdda0d71,107,9,7,30380,,,0,"[ovn]disable security group notifier

When we use the ovn driver, the security group is implemented
by the ACL of ovn. There is no need to send rpc messages.

Closes-Bug: #2007327

Change-Id: I4b486c910ed298633ac6f60fd93f695c6c3bfef2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/873850/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_rpc_base.py', 'neutron/plugins/ml2/plugin.py']",2,f6a0cee36eec98e975cece6cc493e0c48ff47ee2,, if 'ovn' not in self.mechanism_manager.mech_drivers: self.register_sg_notifier(),,10,4
openstack%2Foslo.utils~master~I26812ca6eaaeff70796bafa9f735d15d80f1bc30,openstack/oslo.utils,master,I26812ca6eaaeff70796bafa9f735d15d80f1bc30,Add netutils.get_my_ipv6(),MERGED,2023-03-21 13:56:54.000000000,2023-06-09 05:05:36.000000000,2023-06-09 05:04:33.000000000,"[{'_account_id': 8313}, {'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-21 13:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/174d989e47775c074bdfa8dbaba571a23d59b0ef', 'message': 'Add netutils.get_my_ipv6()\n\nAnalog to netutils.get_my_ipv4(), except will return an\nIPv6 address on the local host.\n\nChange-Id: I26812ca6eaaeff70796bafa9f735d15d80f1bc30\n'}, {'number': 2, 'created': '2023-03-23 16:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/aeb5ba8736505847d0663f836ecbbd638f2809fe', 'message': 'Add netutils.get_my_ipv6()\n\nAnalog to netutils.get_my_ipv4(), except will return an\nIPv6 address on the local host.\n\nChange-Id: I26812ca6eaaeff70796bafa9f735d15d80f1bc30\n'}, {'number': 3, 'created': '2023-05-24 13:58:29.000000000', 'files': ['oslo_utils/tests/test_netutils.py', 'releasenotes/notes/netutils-get_my_ipv6-c9f124374655326b.yaml', 'oslo_utils/netutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/650b31f8eac66b4892716377a6abbfcd23ad53fe', 'message': 'Add netutils.get_my_ipv6()\n\nAnalog to netutils.get_my_ipv4(), except will return an\nIPv6 address on the local host.\n\nChange-Id: I26812ca6eaaeff70796bafa9f735d15d80f1bc30\n'}]",8,878078,650b31f8eac66b4892716377a6abbfcd23ad53fe,24,4,3,1131,,,0,"Add netutils.get_my_ipv6()

Analog to netutils.get_my_ipv4(), except will return an
IPv6 address on the local host.

Change-Id: I26812ca6eaaeff70796bafa9f735d15d80f1bc30
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/78/878078/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/tests/test_netutils.py', 'releasenotes/notes/netutils-get_my_ipv6-c9f124374655326b.yaml', 'oslo_utils/netutils.py']",3,174d989e47775c074bdfa8dbaba571a23d59b0ef,get-my-ipv6,"def get_my_ipv6(): """"""Returns the actual IPv6 address of the local machine. This code figures out what source address would be used if some traffic were to be sent out to some well known address on the Internet. In this case, IPv6 from RFC3849 is used, but the specific address does not matter much. No traffic is actually sent. .. versionadded:: 6.1 Return ``'::1'`` if there is no default interface. """""" try: csock = socket.socket(socket.AF_INET6, socket.SOCK_DGRAM) csock.connect(('2001:db8::1', 80)) (addr, port) = csock.getsockname() csock.close() return addr except socket.error: return _get_my_ipv6_address() def _get_my_ipv6_address(): """"""Figure out the best IPv6 address """""" LOCALHOST = '::1' gtw = netifaces.gateways() try: interface = gtw['default'][netifaces.AF_INET6][1] except (KeyError, IndexError): LOG.info('Could not determine default network interface, ' 'using %s for IPv6 address', LOCALHOST) return LOCALHOST try: return netifaces.ifaddresses(interface)[netifaces.AF_INET6][0]['addr'] except (KeyError, IndexError): LOG.info('Could not determine IPv6 address for interface ' '%(interface)s, using %(address)s', {'interface': interface, 'address': LOCALHOST}) except Exception as e: LOG.info('Could not determine IPv6 address for ' 'interface %(interface)s: %(error)s', {'interface': interface, 'error': e}) return LOCALHOST ",,82,17
openstack%2Fos-net-config~master~I516daad62989a9edb0db2a0255b94f04fddf12d2,openstack/os-net-config,master,I516daad62989a9edb0db2a0255b94f04fddf12d2,Allow configuration of inactive DPDK devices as well,MERGED,2023-05-17 07:53:42.000000000,2023-06-09 04:48:58.000000000,2023-06-09 04:48:00.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 33688}]","[{'number': 1, 'created': '2023-05-17 07:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f160a95dac8dfbff190727ec87f5dd327f939b2c', 'message': 'Allow configuration of inactive DPDK devices as well\n\nWhen DPDK ports (Mellanox)  from a bond, are setup the link state\nis expected to be active. The patch allows the configuration of\nsuch ports even when the link state is inactive.\n\nChange-Id: I516daad62989a9edb0db2a0255b94f04fddf12d2\n'}, {'number': 2, 'created': '2023-05-22 06:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/2a0126dfc01f2a18243a3e44534289d287b2910f', 'message': 'Allow configuration of inactive DPDK devices as well\n\nWhen DPDK ports (Mellanox)  from a bond, are setup the link state\nis expected to be active. The patch allows the configuration of\nsuch ports even when the link state is inactive.\n\nChange-Id: I516daad62989a9edb0db2a0255b94f04fddf12d2\n'}, {'number': 3, 'created': '2023-05-29 08:08:38.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/cb523689865c40b0d8cefb8c640944177b914b23', 'message': 'Allow configuration of inactive DPDK devices as well\n\nWhen DPDK ports (Mellanox)  from a bond, are setup the link state\nis expected to be active. The patch allows the configuration of\nsuch ports even when the link state is inactive.\n\nChange-Id: I516daad62989a9edb0db2a0255b94f04fddf12d2\n'}]",10,883334,cb523689865c40b0d8cefb8c640944177b914b23,31,5,3,18904,,,0,"Allow configuration of inactive DPDK devices as well

When DPDK ports (Mellanox)  from a bond, are setup the link state
is expected to be active. The patch allows the configuration of
such ports even when the link state is inactive.

Change-Id: I516daad62989a9edb0db2a0255b94f04fddf12d2
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/34/883334/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/tests/test_utils.py']",2,f160a95dac8dfbff190727ec87f5dd327f939b2c,," os.makedirs(os.path.join(nic_path, 'device', 'physfn')) os.rmdir(os.path.join(nic_path, 'device', 'physfn')) self.assertEqual(utils.get_dpdk_devargs(nic, False), '0000:00:19.0')"," def test_vf_by_name(ifname): return True def test_not_vf_by_name(ifname): return False self.stub_out('os_net_config.utils._is_vf_by_name', test_vf_by_name) self.stub_out('os_net_config.utils._is_vf_by_name', test_not_vf_by_name) self.assertRaises(utils.InvalidInterfaceException, utils.get_dpdk_devargs, nic, False)",9,23
openstack%2Fos-net-config~master~I528337801f0c31d8e72ebb11a602bacbb565cd3b,openstack/os-net-config,master,I528337801f0c31d8e72ebb11a602bacbb565cd3b,Remove jobs which blocks CI.,MERGED,2023-06-07 11:29:52.000000000,2023-06-09 04:27:58.000000000,2023-06-09 04:24:49.000000000,"[{'_account_id': 12393}, {'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 11:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/4c6b6c80705dbfed9a456f5c40416b33118751f0', 'message': 'Remove jobs which blocks CI.\n\nRemove the job tripleo-multinode-container-minimal-pipeline, since\nit blocks the CI and is no longer maintained in master/Zed.\n\nChange-Id: I528337801f0c31d8e72ebb11a602bacbb565cd3b\n'}, {'number': 2, 'created': '2023-06-08 06:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/4428cedbd9ee1b8ae3b2a5c61ce3ae858395d610', 'message': 'Remove jobs which blocks CI.\n\nRemove the job tripleo-multinode-container-minimal-pipeline, since\nit blocks the CI and is no longer maintained in master/Zed.\n\nChange-Id: I528337801f0c31d8e72ebb11a602bacbb565cd3b\n'}, {'number': 3, 'created': '2023-06-08 14:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3e4f0c67cfeaaf52a54d5e7727f95c6428417b9a', 'message': 'WIP: Remove jobs which blocks CI.\n\nRemove the job tripleo-multinode-container-minimal-pipeline, since\nit blocks the CI and is no longer maintained in master/Zed.\n\nChange-Id: I528337801f0c31d8e72ebb11a602bacbb565cd3b\n'}, {'number': 4, 'created': '2023-06-08 16:25:42.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ed17dcc2cb157e2fe83ea9d00272bb98e48f2a54', 'message': 'Remove jobs which blocks CI.\n\nRemove the job tripleo-multinode-container-minimal-pipeline, since\nit blocks the CI and is no longer maintained in master/Zed.\n\nChange-Id: I528337801f0c31d8e72ebb11a602bacbb565cd3b\n'}]",3,885458,ed17dcc2cb157e2fe83ea9d00272bb98e48f2a54,21,4,4,18904,,,0,"Remove jobs which blocks CI.

Remove the job tripleo-multinode-container-minimal-pipeline, since
it blocks the CI and is no longer maintained in master/Zed.

Change-Id: I528337801f0c31d8e72ebb11a602bacbb565cd3b
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/58/885458/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,4c6b6c80705dbfed9a456f5c40416b33118751f0,,, - tripleo-multinode-container-minimal-pipeline,0,1
openstack%2Fdesignate-tempest-plugin~master~If5db25580fc979f9b4184e3556d2e1f1ed227c6f,openstack/designate-tempest-plugin,master,If5db25580fc979f9b4184e3556d2e1f1ed227c6f,Remove stable/wallaby job from master gate,MERGED,2023-01-27 00:57:23.000000000,2023-06-09 04:27:49.000000000,2023-06-09 04:24:47.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28609}]","[{'number': 1, 'created': '2023-01-27 00:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/f2d9a0c0729524e345b29e1a944318d91066cf9f', 'message': 'Remove stable/wallaby job from master gate\n\nstable/wallaby is in EM state. As Tempest and\nplugins masters does not support Em stable branches\nqa team is pinning tempest in devstack stable/wallaby\ntesitng[1]. With that we do not need to test the\nstable/wallaby jobs on master gate\n\n[1] https://review.opendev.org/c/openstack/devstack/+/871782\n\nChange-Id: If5db25580fc979f9b4184e3556d2e1f1ed227c6f\n'}, {'number': 2, 'created': '2023-06-09 01:55:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/25c93a50ec2ce08677129071b123ce056fef9fe5', 'message': 'Remove stable/wallaby job from master gate\n\nstable/wallaby is in EM state. As Tempest and\nplugins masters does not support Em stable branches\nqa team is pinning tempest in devstack stable/wallaby\ntesitng[1]. With that we do not need to test the\nstable/wallaby jobs on master gate\n\n[1] https://review.opendev.org/c/openstack/devstack/+/871782\n\nChange-Id: If5db25580fc979f9b4184e3556d2e1f1ed227c6f\n'}]",1,871866,25c93a50ec2ce08677129071b123ce056fef9fe5,14,5,2,8556,,,0,"Remove stable/wallaby job from master gate

stable/wallaby is in EM state. As Tempest and
plugins masters does not support Em stable branches
qa team is pinning tempest in devstack stable/wallaby
tesitng[1]. With that we do not need to test the
stable/wallaby jobs on master gate

[1] https://review.opendev.org/c/openstack/devstack/+/871782

Change-Id: If5db25580fc979f9b4184e3556d2e1f1ed227c6f
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/66/871866/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f2d9a0c0729524e345b29e1a944318d91066cf9f,wallaby-last,,- job: name: designate-bind9-stable-wallaby parent: designate-bind9 nodeset: openstack-single-node-focal override-checkout: stable/wallaby - designate-bind9-stable-wallaby,0,7
openstack%2Fskyline-console~master~I56211de76792bf4eabba1a38ed3cc5ae05532579,openstack/skyline-console,master,I56211de76792bf4eabba1a38ed3cc5ae05532579,fix: fix the virtual resource in administrator,MERGED,2023-06-09 01:08:50.000000000,2023-06-09 04:15:59.000000000,2023-06-09 04:13:41.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2023-06-09 01:08:50.000000000', 'files': ['src/pages/base/containers/AdminOverview/components/VirtualResource.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/861876cddfa3ece91f1513aa3385e5c659d33c7e', 'message': 'fix: fix the virtual resource in administrator\n\nFix the virtual resource used background in the administrator overview page\n\nChange-Id: I56211de76792bf4eabba1a38ed3cc5ae05532579\n'}]",0,885665,861876cddfa3ece91f1513aa3385e5c659d33c7e,7,2,1,30434,,,0,"fix: fix the virtual resource in administrator

Fix the virtual resource used background in the administrator overview page

Change-Id: I56211de76792bf4eabba1a38ed3cc5ae05532579
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/65/885665/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/base/containers/AdminOverview/components/VirtualResource.jsx'],1,861876cddfa3ece91f1513aa3385e5c659d33c7e,color, let circleColor = color.infoColor; if (percentNum > 70) { circleColor = color.warnColor;, let circleColor = color.primaryColor; if (percentNum > 70) { circleColor = color.warnDarkColor;,2,2
openstack%2Fpuppet-barbican~master~I5bddc8c47d3fca80175981dd345f9e7f17ae837a,openstack/puppet-barbican,master,I5bddc8c47d3fca80175981dd345f9e7f17ae837a,apache: Remove deprecated parameters,ABANDONED,2023-06-09 03:39:19.000000000,2023-06-09 03:41:48.000000000,,[],"[{'number': 1, 'created': '2023-06-09 03:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/b42e3ec9ce633a519f9f267f8745cf6197a88a73', 'message': 'apache: Remove deprecated parameters\n\nThis removes the parameters which were deprecated two cycles ago to\nfix inconsistent parameter names.\n\nChange-Id: I5bddc8c47d3fca80175981dd345f9e7f17ae837a\n'}, {'number': 2, 'created': '2023-06-09 03:39:37.000000000', 'files': ['releasenotes/notes/remove-inconsistent-wsgi-apache-params-5561052cdcd729e1.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/e08f2354f3c6649b646d58da36c3112d3fe4d0a5', 'message': 'apache: Remove deprecated parameters\n\nThis removes the parameters which were deprecated two cycles ago[1] to\nfix inconsistent parameter names.\n\n[1] eb2b84ea8fd4513c00a1b38e6d7041e1d6d81a23\n\nChange-Id: I5bddc8c47d3fca80175981dd345f9e7f17ae837a\n'}]",0,885670,e08f2354f3c6649b646d58da36c3112d3fe4d0a5,3,0,2,9816,,,0,"apache: Remove deprecated parameters

This removes the parameters which were deprecated two cycles ago[1] to
fix inconsistent parameter names.

[1] eb2b84ea8fd4513c00a1b38e6d7041e1d6d81a23

Change-Id: I5bddc8c47d3fca80175981dd345f9e7f17ae837a
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/70/885670/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/remove-inconsistent-wsgi-apache-params-5561052cdcd729e1.yaml'],1,b42e3ec9ce633a519f9f267f8745cf6197a88a73,,--- upgrade: - | The ``public_port`` parameter and the ``public_path`` parameter of the ``barbican::wsgi::apache`` class have been removed. ,,5,0
openstack%2Fpuppet-nova~stable%2F2023.1~I91271f3cb8de7a9b5c20fdb7b249931d88c5c1b1,openstack/puppet-nova,stable/2023.1,I91271f3cb8de7a9b5c20fdb7b249931d88c5c1b1,Dont log output when setting virsh secret,MERGED,2023-06-08 19:16:57.000000000,2023-06-09 02:08:22.000000000,2023-06-09 02:08:22.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 19:16:57.000000000', 'files': ['manifests/compute/rbd.pp', 'spec/classes/nova_compute_rbd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c6e354fcf24693318aa5dbc149095fd3cd404cfe', 'message': 'Dont log output when setting virsh secret\n\nIf the command failes we will leak the secret\ninto log files and output.\n\nChange-Id: I91271f3cb8de7a9b5c20fdb7b249931d88c5c1b1\n(cherry picked from commit 1a3eebcf121353464dfcca7f679d63da1ec90dc4)\n'}]",0,885480,c6e354fcf24693318aa5dbc149095fd3cd404cfe,7,3,1,16137,,,0,"Dont log output when setting virsh secret

If the command failes we will leak the secret
into log files and output.

Change-Id: I91271f3cb8de7a9b5c20fdb7b249931d88c5c1b1
(cherry picked from commit 1a3eebcf121353464dfcca7f679d63da1ec90dc4)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/80/885480/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/rbd.pp', 'spec/classes/nova_compute_rbd_spec.rb']",2,c6e354fcf24693318aa5dbc149095fd3cd404cfe,," :command => ""/usr/bin/virsh secret-set-value --secret UUID --base64 $(ceph auth get-key client.rbd_test)"", :logoutput => false, :command => ""/usr/bin/virsh secret-set-value --secret #{params[:libvirt_rbd_secret_uuid]} --base64 #{params[:libvirt_rbd_secret_key]}"", :logoutput => false, :command => ""/usr/bin/virsh secret-set-value --secret UUID --base64 $(ceph auth get-key client.rbd_test)"", :logoutput => false,"," :command => ""/usr/bin/virsh secret-set-value --secret UUID --base64 $(ceph auth get-key client.rbd_test)"" :command => ""/usr/bin/virsh secret-set-value --secret #{params[:libvirt_rbd_secret_uuid]} --base64 #{params[:libvirt_rbd_secret_key]}"" :command => ""/usr/bin/virsh secret-set-value --secret UUID --base64 $(ceph auth get-key client.rbd_test)""",10,6
openstack%2Fsahara-plugin-storm~master~Ie95246ca228a4f2c5054407535130e1aaf0fd140,openstack/sahara-plugin-storm,master,Ie95246ca228a4f2c5054407535130e1aaf0fd140,setup.cfg: Replace dashes with underscores,NEW,2023-06-08 12:19:06.000000000,2023-06-09 01:33:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-08 12:19:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-storm/commit/1fc9d25f7472d570671bf0542a1cc6a8c0213d71', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ie95246ca228a4f2c5054407535130e1aaf0fd140\n""}]",3,885445,1fc9d25f7472d570671bf0542a1cc6a8c0213d71,8,1,1,29423,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ie95246ca228a4f2c5054407535130e1aaf0fd140
",git fetch https://review.opendev.org/openstack/sahara-plugin-storm refs/changes/45/885445/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1fc9d25f7472d570671bf0542a1cc6a8c0213d71,,description_file = README.rstpython_requires = >=3.8author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/sahara/latest/,description-file = README.rstpython-requires = >=3.8author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/sahara/latest/,4,4
openstack%2Fpuppet-openstack-integration~master~Ied7ba6c4ffae9cc5439019d7d5e97035b90fa362,openstack/puppet-openstack-integration,master,Ied7ba6c4ffae9cc5439019d7d5e97035b90fa362,Updated from Puppet OpenStack modules constraints,MERGED,2023-06-06 02:18:57.000000000,2023-06-08 23:52:20.000000000,2023-06-08 23:52:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 02:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0f78c071ec02a2b13eeaa9475642f996019221dc', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ied7ba6c4ffae9cc5439019d7d5e97035b90fa362\n'}, {'number': 2, 'created': '2023-06-08 02:13:57.000000000', 'files': ['Puppetfile', 'Puppetfile_unit'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/225e497addc6c170d2d184e8a0f888d56a74d129', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ied7ba6c4ffae9cc5439019d7d5e97035b90fa362\n'}]",0,885328,225e497addc6c170d2d184e8a0f888d56a74d129,9,3,2,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ied7ba6c4ffae9cc5439019d7d5e97035b90fa362
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/28/885328/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,0f78c071ec02a2b13eeaa9475642f996019221dc,openstack/puppet/constraints, :ref => 'v7.0.0', :ref => 'v6.1.2',1,1
openstack%2Fglance~master~I470e3b8c1106d88e85343508a8e5891c88861c98,openstack/glance,master,I470e3b8c1106d88e85343508a8e5891c88861c98,Test glance RBAC old defaults,MERGED,2023-05-19 01:11:03.000000000,2023-06-08 23:34:55.000000000,2023-06-08 23:33:10.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 01:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fd9a8515262574580a5f97fdf64fec533603eb43', 'message': 'Test glance RBAC old defaults\n\nGlance has enabled the scope checks and new defaults in\nantelope release and now devstack is switching the testing\nto new defaults by default (depends-on). With that all the\njobs will run the the new defaults.\n\nAs old defaults are still supported (as deprecated), we should\ntest those at least in a single integrated job. Enable the old\ndefaults in glance-multistore-cinder-import job.\n\nKeeping existing job enabling the new defaults because other services\nhave not switched to new defaults yet to this job enable new defaults\nfor those service and test Glance against that.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/883601/\nChange-Id: I470e3b8c1106d88e85343508a8e5891c88861c98\n'}, {'number': 2, 'created': '2023-05-19 03:30:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/43b2116adb92e5fbe945b53edd115edadd73a016', 'message': 'Test glance RBAC old defaults\n\nGlance has enabled the scope checks and new defaults in\nantelope release and now devstack is switching the testing\nto new defaults by default (depends-on). With that all the\njobs will run the the new defaults.\n\nAs old defaults are still supported (as deprecated), we should\ntest those at least in a single integrated job. Enable the old\ndefaults in glance-multistore-cinder-import job.\n\nKeeping existing job enabling the new defaults because other services\nhave not switched to new defaults yet to this job enable new defaults\nfor those service and test Glance against that.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/883601/\nChange-Id: I470e3b8c1106d88e85343508a8e5891c88861c98\n'}]",9,883602,43b2116adb92e5fbe945b53edd115edadd73a016,47,3,2,8556,,,0,"Test glance RBAC old defaults

Glance has enabled the scope checks and new defaults in
antelope release and now devstack is switching the testing
to new defaults by default (depends-on). With that all the
jobs will run the the new defaults.

As old defaults are still supported (as deprecated), we should
test those at least in a single integrated job. Enable the old
defaults in glance-multistore-cinder-import job.

Keeping existing job enabling the new defaults because other services
have not switched to new defaults yet to this job enable new defaults
for those service and test Glance against that.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/883601/
Change-Id: I470e3b8c1106d88e85343508a8e5891c88861c98
",git fetch https://review.opendev.org/openstack/glance refs/changes/02/883602/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fd9a8515262574580a5f97fdf64fec533603eb43,secure-rbac, # Glance RBAC new defaults are tested by default so we need to test # old defaults in some job. GLANCE_ENFORCE_SCOPE: false # Nova and glance scope and new defaults are enabled by default in # Devstack so we do not need to explicitly set that to True., NOVA_ENFORCE_SCOPE: true GLANCE_ENFORCE_SCOPE: true,5,2
openstack%2Fneutron-tempest-plugin~master~I8dbc6e812c1a6fbe57a86827b3b9755bbd2eeee8,openstack/neutron-tempest-plugin,master,I8dbc6e812c1a6fbe57a86827b3b9755bbd2eeee8,"Revert ""Make neutron-tempest-plugin-bgpvpn-bagpipe non-voting""",MERGED,2023-06-08 16:53:01.000000000,2023-06-08 22:26:08.000000000,2023-06-08 22:26:08.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2023-06-08 16:53:01.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/08f0f97d3df67c64bc6a1cef8950b5e85643be97', 'message': 'Revert ""Make neutron-tempest-plugin-bgpvpn-bagpipe non-voting""\n\nThis reverts commit 318d629308287c199ff937c1b4923a09a56f2984.\n\nReason for revert: Fix both for networking-bagpipe and networking-bgpvpn are merged now.\nDepends-On: https://review.opendev.org/c/openstack/networking-bagpipe/+/883064\n\nChange-Id: I8dbc6e812c1a6fbe57a86827b3b9755bbd2eeee8\n'}]",1,885479,08f0f97d3df67c64bc6a1cef8950b5e85643be97,7,6,1,8313,,,0,"Revert ""Make neutron-tempest-plugin-bgpvpn-bagpipe non-voting""

This reverts commit 318d629308287c199ff937c1b4923a09a56f2984.

Reason for revert: Fix both for networking-bagpipe and networking-bgpvpn are merged now.
Depends-On: https://review.opendev.org/c/openstack/networking-bagpipe/+/883064

Change-Id: I8dbc6e812c1a6fbe57a86827b3b9755bbd2eeee8
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/79/885479/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,08f0f97d3df67c64bc6a1cef8950b5e85643be97,bug/2020698, - neutron-tempest-plugin-bgpvpn-bagpipe - neutron-tempest-plugin-bgpvpn-bagpipe," # Unstable, https://bugs.launchpad.net/neutron/+bug/2020698 - neutron-tempest-plugin-bgpvpn-bagpipe: voting: false # Unstable, https://bugs.launchpad.net/neutron/+bug/2020698 # - neutron-tempest-plugin-bgpvpn-bagpipe",2,5
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ibbe726ec4de29231d999a7fa8587ec43259ef6ab,openstack/tripleo-heat-templates,stable/wallaby,Ibbe726ec4de29231d999a7fa8587ec43259ef6ab,WIP DNM Redis removal,NEW,2023-06-08 17:42:00.000000000,2023-06-08 22:18:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-08 17:42:00.000000000', 'files': ['environments/enable-designate.yaml', 'environments/enable-legacy-telemetry.yaml', 'environments/services/octavia.yaml', 'environments/services-baremetal/octavia.yaml', 'environments/metrics/ceilometer-write-qdr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c967164f15018a33be9d8d162ee3f2a4a49a90e', 'message': 'WIP DNM Redis removal\n\nChange-Id: Ibbe726ec4de29231d999a7fa8587ec43259ef6ab\n'}]",0,885604,7c967164f15018a33be9d8d162ee3f2a4a49a90e,2,1,1,22954,,,0,"WIP DNM Redis removal

Change-Id: Ibbe726ec4de29231d999a7fa8587ec43259ef6ab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/885604/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/enable-designate.yaml', 'environments/enable-legacy-telemetry.yaml', 'environments/services/octavia.yaml', 'environments/services-baremetal/octavia.yaml', 'environments/metrics/ceilometer-write-qdr.yaml']",5,7c967164f15018a33be9d8d162ee3f2a4a49a90e,no_redis,, OS::TripleO::Services::Redis: ../../deployment/database/redis-pacemaker-puppet.yaml,0,5
openstack%2Fwhitebox-tempest-plugin~master~I62f519db8709c23824a0fee1a6ce63ab3bf1f9e2,openstack/whitebox-tempest-plugin,master,I62f519db8709c23824a0fee1a6ce63ab3bf1f9e2,Convert the XML vlan value found from str to int,MERGED,2023-06-06 21:13:38.000000000,2023-06-08 22:15:54.000000000,2023-06-08 22:15:54.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 29455}, {'_account_id': 34309}]","[{'number': 1, 'created': '2023-06-06 21:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/1a99651e8cd47f9a063c1590244bca687ea37d3e', 'message': ""Convert found vlan to int\n\nStarting with 17 the vlan id stored in guest xml is a str, e.g.:\n\n    <interface type='hostdev' managed='yes'>\n      <mac address='fa:16:3e:5f:c6:99'/>\n      <driver name='vfio'/>\n      <source>\n        <address type='pci' domain='0x0000' bus='0x22' slot='0x06' function='0x7'/>\n      </source>\n      <vlan>\n        <tag id='2000'/>\n      </vlan>\n      <alias name='hostdev0'/>\n\nTo keep backwords compatibility with older versions when checking vlan,\nexplicitly cast to int when making the comparison.\n\nChange-Id: I62f519db8709c23824a0fee1a6ce63ab3bf1f9e2\n""}, {'number': 2, 'created': '2023-06-08 20:03:05.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_sriov.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/401cb527c6eb4c3705768e3681c4b383ce44f796', 'message': 'Convert the XML vlan value found from str to int\n\nTo update that created a vlan ID parameter for SR-IOV (sriov_vlan_id)\n[1], introduces the parameter as an int. When checking the vlan tag in\nthe guest it will return as a str causing the check to fail e.g.:\n\n""testtools.matchers._impl.MismatchError: 2000 != \'2000\': Interface should have have vlan tag 2000 but instead it is tagged with 2000""\n\nCasting the vlan tag found in the XML as an int to ensure the check\nmatches.\n\n[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/f7104a681d2e808642ea65132a2a3ad6997a614f\n\nChange-Id: I62f519db8709c23824a0fee1a6ce63ab3bf1f9e2\n'}]",3,885413,401cb527c6eb4c3705768e3681c4b383ce44f796,12,4,2,31033,,,0,"Convert the XML vlan value found from str to int

To update that created a vlan ID parameter for SR-IOV (sriov_vlan_id)
[1], introduces the parameter as an int. When checking the vlan tag in
the guest it will return as a str causing the check to fail e.g.:

""testtools.matchers._impl.MismatchError: 2000 != '2000': Interface should have have vlan tag 2000 but instead it is tagged with 2000""

Casting the vlan tag found in the XML as an int to ensure the check
matches.

[1] https://opendev.org/openstack/whitebox-tempest-plugin/commit/f7104a681d2e808642ea65132a2a3ad6997a614f

Change-Id: I62f519db8709c23824a0fee1a6ce63ab3bf1f9e2
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/13/885413/1 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_sriov.py'],1,1a99651e8cd47f9a063c1590244bca687ea37d3e,vlan_id_int," found_vlan = int(interface_vlan) if interface_vlan else None expected_vlan, found_vlan, 'Interface should have have vlan ' (expected_vlan, found_vlan))"," expected_vlan, interface_vlan, 'Interface should have have vlan ' (expected_vlan, interface_vlan))",3,2
openstack%2Fwhitebox-tempest-plugin~master~I930afbdbe25e301c78832220c8207bfedb10a111,openstack/whitebox-tempest-plugin,master,I930afbdbe25e301c78832220c8207bfedb10a111,Change sriov config option to str from int,ABANDONED,2023-06-08 17:32:44.000000000,2023-06-08 21:23:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-08 17:32:44.000000000', 'files': ['whitebox_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/988e9bc0436c52f5575c83b66c9616d96ef45fb6', 'message': 'Change sriov config option to str from int\n\nThe SR-IOV and vDPA vlan id options should follow in line with the how\nprovider_net_base_segmentation_id is defined for standard tempest [1].\nConverting from int to str.\n\n[1] https://github.com/openstack/tempest/blob/master/tempest/config.py#L875\n\nChange-Id: I930afbdbe25e301c78832220c8207bfedb10a111\n'}]",0,885601,988e9bc0436c52f5575c83b66c9616d96ef45fb6,3,1,1,31033,,,0,"Change sriov config option to str from int

The SR-IOV and vDPA vlan id options should follow in line with the how
provider_net_base_segmentation_id is defined for standard tempest [1].
Converting from int to str.

[1] https://github.com/openstack/tempest/blob/master/tempest/config.py#L875

Change-Id: I930afbdbe25e301c78832220c8207bfedb10a111
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/01/885601/1 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/config.py'],1,988e9bc0436c52f5575c83b66c9616d96ef45fb6,int_to_str_vlan_opt, cfg.StrOpt( cfg.StrOpt(, cfg.IntOpt( cfg.IntOpt(,2,2
openstack%2Fcinder~stable%2Fwallaby~I83b5232076250553650b8b97409cbf72e90c15b9,openstack/cinder,stable/wallaby,I83b5232076250553650b8b97409cbf72e90c15b9,[stable-em-only] Add CVE-2023-2088 warning,MERGED,2023-06-07 22:08:46.000000000,2023-06-08 20:41:01.000000000,2023-06-08 20:39:39.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 22:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4062a860a809fd083ab8ee64ede47bce0cd2b390', 'message': '[stable-em-only] Add CVE-2023-2088 warning\n\nThe Cinder project team does not intend to backport a fix for\nCVE-2023-2088 to stable/wallaby, so add a warning to the README\nso that consumers are aware of the vulnerabilitiy of this branch\nof the cinder code.\n\nChange-Id: I83b5232076250553650b8b97409cbf72e90c15b9\nRelated-bug: #2004555\n'}, {'number': 2, 'created': '2023-06-08 03:35:59.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2fef6c41fa8c5ea772cde227a119dcf22ce7a07d', 'message': '[stable-em-only] Add CVE-2023-2088 warning\n\nThe Cinder project team does not intend to backport a fix for\nCVE-2023-2088 to stable/wallaby, so add a warning to the README\nso that consumers are aware of the vulnerability of this branch\nof the cinder code.\n\nChange-Id: I83b5232076250553650b8b97409cbf72e90c15b9\nRelated-bug: #2004555\n'}]",1,885553,2fef6c41fa8c5ea772cde227a119dcf22ce7a07d,16,3,2,5314,,,0,"[stable-em-only] Add CVE-2023-2088 warning

The Cinder project team does not intend to backport a fix for
CVE-2023-2088 to stable/wallaby, so add a warning to the README
so that consumers are aware of the vulnerability of this branch
of the cinder code.

Change-Id: I83b5232076250553650b8b97409cbf72e90c15b9
Related-bug: #2004555
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/885553/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,4062a860a809fd083ab8ee64ede47bce0cd2b390,no-cve-fix,".. warning:: The stable/wallaby branch of cinder does not contain a fix for CVE-2023-2088_. Be aware that such a fix must span cinder, os-brick, nova, and, depending on your deployment configuration, glance_store and ironic. *The Cinder project team advises against using the code in this branch unless a mitigation against CVE-2023-2088 is applied.* .. _CVE-2023-2088: https://nvd.nist.gov/vuln/detail/CVE-2023-2088 References: * https://nvd.nist.gov/vuln/detail/CVE-2023-2088 * https://bugs.launchpad.net/cinder/+bug/2004555 * https://security.openstack.org/ossa/OSSA-2023-003.html * https://wiki.openstack.org/wiki/OSSN/OSSN-0092 ",,16,0
openstack%2Fcinder~stable%2Fussuri~I5c55ab7ca6c85d23c5ab7d2d383a18226735aaf2,openstack/cinder,stable/ussuri,I5c55ab7ca6c85d23c5ab7d2d383a18226735aaf2,[stable-em-only] Add CVE-2023-2088 warning,MERGED,2023-06-07 22:15:34.000000000,2023-06-08 20:40:58.000000000,2023-06-08 20:39:36.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 22:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b433ab6ed2b3b702e02d1d9c9efee65cb8a8b3c7', 'message': '[stable-em-only] Add CVE-2023-2088 warning\n\nThe Cinder project team does not intend to backport a fix for\nCVE-2023-2088 to stable/ussuri, so add a warning to the README\nso that consumers are aware of the vulnerabilitiy of this branch\nof the cinder code.\n\nChange-Id: I5c55ab7ca6c85d23c5ab7d2d383a18226735aaf2\nRelated-bug: #2004555\n'}, {'number': 2, 'created': '2023-06-08 03:37:08.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/60f705d722fc6b7c434194a9f3b11595294d6aa0', 'message': '[stable-em-only] Add CVE-2023-2088 warning\n\nThe Cinder project team does not intend to backport a fix for\nCVE-2023-2088 to stable/ussuri, so add a warning to the README\nso that consumers are aware of the vulnerability of this branch\nof the cinder code.\n\nChange-Id: I5c55ab7ca6c85d23c5ab7d2d383a18226735aaf2\nRelated-bug: #2004555\n'}]",1,885555,60f705d722fc6b7c434194a9f3b11595294d6aa0,14,3,2,5314,,,0,"[stable-em-only] Add CVE-2023-2088 warning

The Cinder project team does not intend to backport a fix for
CVE-2023-2088 to stable/ussuri, so add a warning to the README
so that consumers are aware of the vulnerability of this branch
of the cinder code.

Change-Id: I5c55ab7ca6c85d23c5ab7d2d383a18226735aaf2
Related-bug: #2004555
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/885555/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,b433ab6ed2b3b702e02d1d9c9efee65cb8a8b3c7,no-cve-fix,".. warning:: The stable/ussuri branch of cinder does not contain a fix for CVE-2023-2088_. Be aware that such a fix must span cinder, os-brick, nova, and, depending on your deployment configuration, glance_store and ironic. *The Cinder project team advises against using the code in this branch unless a mitigation against CVE-2023-2088 is applied.* .. _CVE-2023-2088: https://nvd.nist.gov/vuln/detail/CVE-2023-2088 References: * https://nvd.nist.gov/vuln/detail/CVE-2023-2088 * https://bugs.launchpad.net/cinder/+bug/2004555 * https://security.openstack.org/ossa/OSSA-2023-003.html * https://wiki.openstack.org/wiki/OSSN/OSSN-0092 ",,16,0
openstack%2Fcinder~stable%2Fvictoria~I2866b0ca1511a53b096b73bbe51a74588cdd8947,openstack/cinder,stable/victoria,I2866b0ca1511a53b096b73bbe51a74588cdd8947,[stable-em-only] Add CVE-2023-2088 warning,MERGED,2023-06-07 22:13:22.000000000,2023-06-08 20:40:54.000000000,2023-06-08 20:39:34.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 22:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2076f58567fee59db8fcdd717774d7939fb2263f', 'message': '[stable-em-only] Add CVE-2023-2088 warning\n\nThe Cinder project team does not intend to backport a fix for\nCVE-2023-2088 to stable/victoria, so add a warning to the README\nso that consumers are aware of the vulnerabilitiy of this branch\nof the cinder code.\n\nChange-Id: I2866b0ca1511a53b096b73bbe51a74588cdd8947\nRelated-bug: #2004555\n'}, {'number': 2, 'created': '2023-06-08 03:36:32.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/63d7848a9548180d283a833beb7c5718e0ad0bdb', 'message': '[stable-em-only] Add CVE-2023-2088 warning\n\nThe Cinder project team does not intend to backport a fix for\nCVE-2023-2088 to stable/victoria, so add a warning to the README\nso that consumers are aware of the vulnerability of this branch\nof the cinder code.\n\nChange-Id: I2866b0ca1511a53b096b73bbe51a74588cdd8947\nRelated-bug: #2004555\n'}]",1,885554,63d7848a9548180d283a833beb7c5718e0ad0bdb,14,3,2,5314,,,0,"[stable-em-only] Add CVE-2023-2088 warning

The Cinder project team does not intend to backport a fix for
CVE-2023-2088 to stable/victoria, so add a warning to the README
so that consumers are aware of the vulnerability of this branch
of the cinder code.

Change-Id: I2866b0ca1511a53b096b73bbe51a74588cdd8947
Related-bug: #2004555
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/885554/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,2076f58567fee59db8fcdd717774d7939fb2263f,no-cve-fix,".. warning:: The stable/victoria branch of cinder does not contain a fix for CVE-2023-2088_. Be aware that such a fix must span cinder, os-brick, nova, and, depending on your deployment configuration, glance_store and ironic. *The Cinder project team advises against using the code in this branch unless a mitigation against CVE-2023-2088 is applied.* .. _CVE-2023-2088: https://nvd.nist.gov/vuln/detail/CVE-2023-2088 References: * https://nvd.nist.gov/vuln/detail/CVE-2023-2088 * https://bugs.launchpad.net/cinder/+bug/2004555 * https://security.openstack.org/ossa/OSSA-2023-003.html * https://wiki.openstack.org/wiki/OSSN/OSSN-0092 ",,16,0
openstack%2Fcinder~stable%2Ftrain~I1621e3d3d9272a7a25b2d9d9e6710efb6b637a89,openstack/cinder,stable/train,I1621e3d3d9272a7a25b2d9d9e6710efb6b637a89,[stable-em-only] Add CVE-2023-2088 warning,MERGED,2023-06-07 22:22:36.000000000,2023-06-08 20:36:20.000000000,2023-06-08 20:35:06.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 22:22:36.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/299553a4fe281cde9b14da34a470dcdb3ed17cc0', 'message': '[stable-em-only] Add CVE-2023-2088 warning\n\nThe Cinder project team does not intend to backport a fix for\nCVE-2023-2088 to stable/train, so add a warning to the README\nso that consumers are aware of the vulnerability of this branch\nof the cinder code.\n\nChange-Id: I1621e3d3d9272a7a25b2d9d9e6710efb6b637a89\nRelated-bug: #2004555\n'}]",1,885556,299553a4fe281cde9b14da34a470dcdb3ed17cc0,10,3,1,5314,,,0,"[stable-em-only] Add CVE-2023-2088 warning

The Cinder project team does not intend to backport a fix for
CVE-2023-2088 to stable/train, so add a warning to the README
so that consumers are aware of the vulnerability of this branch
of the cinder code.

Change-Id: I1621e3d3d9272a7a25b2d9d9e6710efb6b637a89
Related-bug: #2004555
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/885556/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,299553a4fe281cde9b14da34a470dcdb3ed17cc0,no-cve-fix,".. warning:: The stable/train branch of cinder does not contain a fix for CVE-2023-2088_. Be aware that such a fix must span cinder, os-brick, nova, and, depending on your deployment configuration, glance_store and ironic. *The Cinder project team advises against using the code in this branch unless a mitigation against CVE-2023-2088 is applied.* .. _CVE-2023-2088: https://nvd.nist.gov/vuln/detail/CVE-2023-2088 References: * https://nvd.nist.gov/vuln/detail/CVE-2023-2088 * https://bugs.launchpad.net/cinder/+bug/2004555 * https://security.openstack.org/ossa/OSSA-2023-003.html * https://wiki.openstack.org/wiki/OSSN/OSSN-0092 ",,16,0
openstack%2Fnetworking-bagpipe~master~I2f643e539df39a36e81570257ab9425131d02b9d,openstack/networking-bagpipe,master,I2f643e539df39a36e81570257ab9425131d02b9d,Fix issues due to rcent RBAC changes and removal of neutron.debug,MERGED,2023-05-12 12:33:43.000000000,2023-06-08 19:31:38.000000000,2023-06-08 19:30:45.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-12 12:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/f8164fe4051e91511f4d929fd68ffa457e28c8c4', 'message': 'Fix issues due to rcent RBAC changes\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-bagpipe.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b1.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nChange-Id: I2f643e539df39a36e81570257ab9425131d02b9d\nRelated-Bug: 2019097\n'}, {'number': 2, 'created': '2023-05-16 11:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/e867d1eb83acc412048d34e77f457e10c5a79938', 'message': 'Fix issues due to rcent RBAC changes\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-bagpipe.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b1.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nChange-Id: I2f643e539df39a36e81570257ab9425131d02b9d\nRelated-Bug: 2019097\n'}, {'number': 3, 'created': '2023-05-16 11:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/9255f83a13833f8fc34fb901c4a96058096e84fd', 'message': 'Fix issues due to rcent RBAC changes\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-bagpipe.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b2.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nChange-Id: I2f643e539df39a36e81570257ab9425131d02b9d\nRelated-Bug: 2019097\n'}, {'number': 4, 'created': '2023-05-17 12:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/0a1692486981061a8373cac9ebcc7a7e4d6feb30', 'message': 'Fix issues due to rcent RBAC changes and removal of neutron.debug\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-bagpipe.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b2.\n[2] remove neutron.debug, remove the dependency to it in\nagent_extension.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n[2]: https://review.opendev.org/c/openstack/neutron/+/883081\n\nChange-Id: I2f643e539df39a36e81570257ab9425131d02b9d\nRelated-Bug: 2019097\n'}, {'number': 5, 'created': '2023-05-22 10:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/c85c6994ed7eb972f1003f317615b2846e007e87', 'message': 'Fix issues due to rcent RBAC changes and removal of neutron.debug\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-bagpipe.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b2.\n[2] remove neutron.debug, remove the dependency to it in\nagent_extension.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n[2]: https://review.opendev.org/c/openstack/neutron/+/883081\n\nDepends-On: https://review.opendev.org/c/openstack/networking-bgpvpn/+/883057\nChange-Id: I2f643e539df39a36e81570257ab9425131d02b9d\nRelated-Bug: 2019097\n'}, {'number': 6, 'created': '2023-05-22 13:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/7634d891e4cac3a5b12763d12496ac74db713c45', 'message': 'Fix issues due to rcent RBAC changes and removal of neutron.debug\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-bagpipe.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b2.\n[2] remove neutron.debug, remove the dependency to it in\nagent_extension.\nRemove skipdist=True from tox.ini to avoid bagpipe installaion\nfrom package.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n[2]: https://review.opendev.org/c/openstack/neutron/+/883081\n\nDepends-On: https://review.opendev.org/c/openstack/networking-bgpvpn/+/883057\nChange-Id: I2f643e539df39a36e81570257ab9425131d02b9d\nRelated-Bug: 2019097\n'}, {'number': 7, 'created': '2023-05-31 10:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/57c0d84b480bd930c01ae048c4b568efe669cd35', 'message': 'Fix issues due to rcent RBAC changes and removal of neutron.debug\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-bagpipe.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b2.\n[2] removed neutron.debug, remove the dependency to it in\nagent_extension.\nRemove skipdist=True from tox.ini to avoid bagpipe installaion\nfrom package.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n[2]: https://review.opendev.org/c/openstack/neutron/+/883081\n\nDepends-On: https://review.opendev.org/c/openstack/networking-bgpvpn/+/883057\nChange-Id: I2f643e539df39a36e81570257ab9425131d02b9d\nRelated-Bug: 2019097\n'}, {'number': 8, 'created': '2023-05-31 10:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/61f56ac03168bbe83b30d85c039d5604c5e9649b', 'message': 'Fix issues due to rcent RBAC changes and removal of neutron.debug\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-bagpipe.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b2.\n[2] removed neutron.debug, remove the dependency to it in\nagent_extension.\nRemove skipdist=True from tox.ini to avoid bagpipe installaion\nfrom package.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n[2]: https://review.opendev.org/c/openstack/neutron/+/883081\n\nDepends-On: https://review.opendev.org/c/openstack/networking-bgpvpn/+/883057\nChange-Id: I2f643e539df39a36e81570257ab9425131d02b9d\nRelated-Bug: 2019097\n'}, {'number': 9, 'created': '2023-06-05 08:34:10.000000000', 'files': ['networking_bagpipe/agent/bgpvpn/agent_extension.py', 'requirements.txt', 'networking_bagpipe/tests/unit/driver/sfc/base.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/23a3f6026e5c0a2026804e71b17c458751c7844e', 'message': 'Fix issues due to rcent RBAC changes and removal of neutron.debug\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-bagpipe.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b2.\n[2] removed neutron.debug, remove the dependency to it in\nagent_extension.\nRemove skipdist=True from tox.ini to avoid bagpipe installaion\nfrom package.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n[2]: https://review.opendev.org/c/openstack/neutron/+/883081\n\nChange-Id: I2f643e539df39a36e81570257ab9425131d02b9d\nDepends-On: https://review.opendev.org/c/openstack/networking-bgpvpn/+/883057\nRelated-Bug: 2019097\n'}]",10,883064,23a3f6026e5c0a2026804e71b17c458751c7844e,43,3,9,8313,,,0,"Fix issues due to rcent RBAC changes and removal of neutron.debug

neutron recently merged a commit enabling secure rbacs by default [1]
breaking several unit tests of networking-bagpipe.
This patch changes the necessary test calls to be admin and
requires neutron >= 23.0.0.0b2.
[2] removed neutron.debug, remove the dependency to it in
agent_extension.
Remove skipdist=True from tox.ini to avoid bagpipe installaion
from package.

[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00
[2]: https://review.opendev.org/c/openstack/neutron/+/883081

Change-Id: I2f643e539df39a36e81570257ab9425131d02b9d
Depends-On: https://review.opendev.org/c/openstack/networking-bgpvpn/+/883057
Related-Bug: 2019097
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/64/883064/7 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'networking_bagpipe/tests/unit/driver/sfc/base.py']",2,f8164fe4051e91511f4d929fd68ffa457e28c8c4,bug/2019097," True, as_admin=True) cidr='10.0.0.0/24', ip_version=4, as_admin=True True, as_admin=True) cidr=SRC_CIDR, ip_version=4, as_admin=True True, as_admin=True) cidr=DEST_CIDR, ip_version=4, as_admin=True"," True) cidr='10.0.0.0/24', ip_version=4 True) cidr=SRC_CIDR, ip_version=4 True) cidr=DEST_CIDR, ip_version=4",7,7
openstack%2Fos-brick~stable%2Fvictoria~I37da3be26c7099307b46ae6b6320a3de7658e106,openstack/os-brick,stable/victoria,I37da3be26c7099307b46ae6b6320a3de7658e106,[stable-em-only] Add CVE-2023-2088 warning,MERGED,2023-06-07 22:34:52.000000000,2023-06-08 18:41:49.000000000,2023-06-08 18:40:46.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 22:34:52.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/78a0ea24a586139343c98821f9914901f1b5ec5b', 'message': '[stable-em-only] Add CVE-2023-2088 warning\n\nThe Cinder project team does not intend to backport a fix for\nCVE-2023-2088 to stable/victoria, so add a warning to the README\nso that consumers are aware of the vulnerability of this branch\nof the os-brick code.\n\nChange-Id: I37da3be26c7099307b46ae6b6320a3de7658e106\nRelated-bug: #2004555\n'}]",1,885559,78a0ea24a586139343c98821f9914901f1b5ec5b,8,3,1,5314,,,0,"[stable-em-only] Add CVE-2023-2088 warning

The Cinder project team does not intend to backport a fix for
CVE-2023-2088 to stable/victoria, so add a warning to the README
so that consumers are aware of the vulnerability of this branch
of the os-brick code.

Change-Id: I37da3be26c7099307b46ae6b6320a3de7658e106
Related-bug: #2004555
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/59/885559/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,78a0ea24a586139343c98821f9914901f1b5ec5b,no-cve-fix,".. warning:: The stable/victoria branch of os-brick does not contain a fix for CVE-2023-2088_. Be aware that such a fix must span cinder, os-brick, nova, and, depending on your deployment configuration, glance_store and ironic. *The Cinder project team advises against using the code in this branch unless a mitigation against CVE-2023-2088 is applied.* .. _CVE-2023-2088: https://nvd.nist.gov/vuln/detail/CVE-2023-2088 References: * https://nvd.nist.gov/vuln/detail/CVE-2023-2088 * https://bugs.launchpad.net/cinder/+bug/2004555 * https://security.openstack.org/ossa/OSSA-2023-003.html * https://wiki.openstack.org/wiki/OSSN/OSSN-0092",,15,0
openstack%2Fos-brick~stable%2Ftrain~I6d04c164521b72538665f53ab62250b14b2710fe,openstack/os-brick,stable/train,I6d04c164521b72538665f53ab62250b14b2710fe,[stable-em-only] Add CVE-2023-2088 warning,MERGED,2023-06-07 22:38:49.000000000,2023-06-08 18:41:47.000000000,2023-06-08 18:40:47.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 22:38:49.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0cc7019eec2b58f507905d52370a74eb80613b99', 'message': '[stable-em-only] Add CVE-2023-2088 warning\n\nThe Cinder project team does not intend to backport a fix for\nCVE-2023-2088 to stable/train, so add a warning to the README\nso that consumers are aware of the vulnerability of this branch\nof the os-brick code.\n\nChange-Id: I6d04c164521b72538665f53ab62250b14b2710fe\nRelated-bug: #2004555\n'}]",1,885561,0cc7019eec2b58f507905d52370a74eb80613b99,8,3,1,5314,,,0,"[stable-em-only] Add CVE-2023-2088 warning

The Cinder project team does not intend to backport a fix for
CVE-2023-2088 to stable/train, so add a warning to the README
so that consumers are aware of the vulnerability of this branch
of the os-brick code.

Change-Id: I6d04c164521b72538665f53ab62250b14b2710fe
Related-bug: #2004555
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/61/885561/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,0cc7019eec2b58f507905d52370a74eb80613b99,no-cve-fix,".. warning:: The stable/train branch of os-brick does not contain a fix for CVE-2023-2088_. Be aware that such a fix must span cinder, os-brick, nova, and, depending on your deployment configuration, glance_store and ironic. *The Cinder project team advises against using the code in this branch unless a mitigation against CVE-2023-2088 is applied.* .. _CVE-2023-2088: https://nvd.nist.gov/vuln/detail/CVE-2023-2088 References: * https://nvd.nist.gov/vuln/detail/CVE-2023-2088 * https://bugs.launchpad.net/cinder/+bug/2004555 * https://security.openstack.org/ossa/OSSA-2023-003.html * https://wiki.openstack.org/wiki/OSSN/OSSN-0092",,15,0
openstack%2Fos-brick~stable%2Fussuri~Ie54cfc6697b4e54d37fd66dbad2ff20971399c00,openstack/os-brick,stable/ussuri,Ie54cfc6697b4e54d37fd66dbad2ff20971399c00,[stable-em-only] Add CVE-2023-2088 warning,MERGED,2023-06-07 22:36:51.000000000,2023-06-08 18:41:42.000000000,2023-06-08 18:40:45.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 22:36:51.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2845871c87fc4e6384bd16d81832cc71e2fb0d61', 'message': '[stable-em-only] Add CVE-2023-2088 warning\n\nThe Cinder project team does not intend to backport a fix for\nCVE-2023-2088 to stable/ussuri, so add a warning to the README\nso that consumers are aware of the vulnerability of this branch\nof the os-brick code.\n\nChange-Id: Ie54cfc6697b4e54d37fd66dbad2ff20971399c00\nRelated-bug: #2004555\n'}]",1,885560,2845871c87fc4e6384bd16d81832cc71e2fb0d61,8,3,1,5314,,,0,"[stable-em-only] Add CVE-2023-2088 warning

The Cinder project team does not intend to backport a fix for
CVE-2023-2088 to stable/ussuri, so add a warning to the README
so that consumers are aware of the vulnerability of this branch
of the os-brick code.

Change-Id: Ie54cfc6697b4e54d37fd66dbad2ff20971399c00
Related-bug: #2004555
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/60/885560/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,2845871c87fc4e6384bd16d81832cc71e2fb0d61,no-cve-fix,".. warning:: The stable/ussuri branch of os-brick does not contain a fix for CVE-2023-2088_. Be aware that such a fix must span cinder, os-brick, nova, and, depending on your deployment configuration, glance_store and ironic. *The Cinder project team advises against using the code in this branch unless a mitigation against CVE-2023-2088 is applied.* .. _CVE-2023-2088: https://nvd.nist.gov/vuln/detail/CVE-2023-2088 References: * https://nvd.nist.gov/vuln/detail/CVE-2023-2088 * https://bugs.launchpad.net/cinder/+bug/2004555 * https://security.openstack.org/ossa/OSSA-2023-003.html * https://wiki.openstack.org/wiki/OSSN/OSSN-0092",,15,0
openstack%2Fos-brick~stable%2Fwallaby~I6345a5a3a7c08c88233b47806c28284fa2dd87d3,openstack/os-brick,stable/wallaby,I6345a5a3a7c08c88233b47806c28284fa2dd87d3,[stable-em-only] Add CVE-2023-2088 warning,MERGED,2023-06-07 22:32:21.000000000,2023-06-08 18:41:42.000000000,2023-06-08 18:40:43.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 22:32:21.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5dcda6b961fa765c817f94a782a6fff48295c89a', 'message': '[stable-em-only] Add CVE-2023-2088 warning\n\nThe Cinder project team does not intend to backport a fix for\nCVE-2023-2088 to stable/wallaby, so add a warning to the README\nso that consumers are aware of the vulnerability of this branch\nof the os-brick code.\n\nChange-Id: I6345a5a3a7c08c88233b47806c28284fa2dd87d3\nRelated-bug: #2004555\n'}]",1,885558,5dcda6b961fa765c817f94a782a6fff48295c89a,8,3,1,5314,,,0,"[stable-em-only] Add CVE-2023-2088 warning

The Cinder project team does not intend to backport a fix for
CVE-2023-2088 to stable/wallaby, so add a warning to the README
so that consumers are aware of the vulnerability of this branch
of the os-brick code.

Change-Id: I6345a5a3a7c08c88233b47806c28284fa2dd87d3
Related-bug: #2004555
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/58/885558/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,5dcda6b961fa765c817f94a782a6fff48295c89a,no-cve-fix,".. warning:: The stable/wallaby branch of os-brick does not contain a fix for CVE-2023-2088_. Be aware that such a fix must span cinder, os-brick, nova, and, depending on your deployment configuration, glance_store and ironic. *The Cinder project team advises against using the code in this branch unless a mitigation against CVE-2023-2088 is applied.* .. _CVE-2023-2088: https://nvd.nist.gov/vuln/detail/CVE-2023-2088 References: * https://nvd.nist.gov/vuln/detail/CVE-2023-2088 * https://bugs.launchpad.net/cinder/+bug/2004555 * https://security.openstack.org/ossa/OSSA-2023-003.html * https://wiki.openstack.org/wiki/OSSN/OSSN-0092 ",,16,0
openstack%2Foctavia~stable%2Fxena~Iecedb9e9c8f293cd4c067900e1696f5050769ee8,openstack/octavia,stable/xena,Iecedb9e9c8f293cd4c067900e1696f5050769ee8,Send IP advertisements when plugging a new member subnet,MERGED,2023-04-18 09:39:12.000000000,2023-06-08 18:31:46.000000000,2023-06-08 18:30:30.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-04-18 09:39:12.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/plug.py', 'releasenotes/notes/members-subnet-ip-advertisements-af2264844079ef6b.yaml', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/util.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/44b792bdeaae37b4a14a5c4a256a7a8b98ee1de6', 'message': 'Send IP advertisements when plugging a new member subnet\n\nWhen plugging a new subnet, the amphora sends a packet advertising the\nIP address of the port. In case previously deallocated IP addresses are\nre-used, it helps the other resources on the same L2 network to flush\nthe old ARP entries.\n\nCloses-Bug: #2015572\n\nConflicts:\n\toctavia/amphorae/backends/agent/api_server/plug.py\n\nChange-Id: Iecedb9e9c8f293cd4c067900e1696f5050769ee8\n(cherry picked from commit 18cd1f34c8a918ab6f969a3271ac74132c4ac736)\n(cherry picked from commit f03a2df9aa10f6901020292b2f2f4eaa912c4cb8)\n(cherry picked from commit 6a380e3775e10485f1ded67d12bab3725225c8bb)\n(cherry picked from commit 4b5849c8d8a673c6a4c2cf15b4fb5e69b2b6308f)\n'}]",2,880726,44b792bdeaae37b4a14a5c4a256a7a8b98ee1de6,10,3,1,29244,,,0,"Send IP advertisements when plugging a new member subnet

When plugging a new subnet, the amphora sends a packet advertising the
IP address of the port. In case previously deallocated IP addresses are
re-used, it helps the other resources on the same L2 network to flush
the old ARP entries.

Closes-Bug: #2015572

Conflicts:
	octavia/amphorae/backends/agent/api_server/plug.py

Change-Id: Iecedb9e9c8f293cd4c067900e1696f5050769ee8
(cherry picked from commit 18cd1f34c8a918ab6f969a3271ac74132c4ac736)
(cherry picked from commit f03a2df9aa10f6901020292b2f2f4eaa912c4cb8)
(cherry picked from commit 6a380e3775e10485f1ded67d12bab3725225c8bb)
(cherry picked from commit 4b5849c8d8a673c6a4c2cf15b4fb5e69b2b6308f)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/26/880726/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/plug.py', 'releasenotes/notes/members-subnet-ip-advertisements-af2264844079ef6b.yaml', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/util.py']",5,44b792bdeaae37b4a14a5c4a256a7a8b98ee1de6,,"import typing as tp def send_member_advertisements(fixed_ips: tp.Iterable[tp.Dict[str, str]]): """"""Sends advertisements for each fixed_ip of a list This method will send either GARP (IPv4) or neighbor advertisements (IPv6) for the addresses of the subnets of the members. :param fixed_ips: a list of dicts that contain 'ip_address' elements :returns: None """""" try: for fixed_ip in fixed_ips: ip_address = fixed_ip[consts.IP_ADDRESS] interface = network_utils.get_interface_name( ip_address, net_ns=consts.AMPHORA_NAMESPACE) ip_advertisement.send_ip_advertisement( interface, ip_address, net_ns=consts.AMPHORA_NAMESPACE) except Exception as e: LOG.debug('Send member advertisement failed due to: %s', str(e))",,79,3
openstack%2Fpuppet-nova~master~I91271f3cb8de7a9b5c20fdb7b249931d88c5c1b1,openstack/puppet-nova,master,I91271f3cb8de7a9b5c20fdb7b249931d88c5c1b1,Dont log output when setting virsh secret,MERGED,2023-06-05 07:42:44.000000000,2023-06-08 18:02:17.000000000,2023-06-08 18:02:17.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 07:42:44.000000000', 'files': ['manifests/compute/rbd.pp', 'spec/classes/nova_compute_rbd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1a3eebcf121353464dfcca7f679d63da1ec90dc4', 'message': 'Dont log output when setting virsh secret\n\nIf the command failes we will leak the secret\ninto log files and output.\n\nChange-Id: I91271f3cb8de7a9b5c20fdb7b249931d88c5c1b1\n'}]",2,885230,1a3eebcf121353464dfcca7f679d63da1ec90dc4,11,3,1,16137,,,0,"Dont log output when setting virsh secret

If the command failes we will leak the secret
into log files and output.

Change-Id: I91271f3cb8de7a9b5c20fdb7b249931d88c5c1b1
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/30/885230/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/rbd.pp', 'spec/classes/nova_compute_rbd_spec.rb']",2,1a3eebcf121353464dfcca7f679d63da1ec90dc4,," :command => ""/usr/bin/virsh secret-set-value --secret UUID --base64 $(ceph auth get-key client.rbd_test)"", :logoutput => false, :command => ""/usr/bin/virsh secret-set-value --secret #{params[:libvirt_rbd_secret_uuid]} --base64 #{params[:libvirt_rbd_secret_key]}"", :logoutput => false, :command => ""/usr/bin/virsh secret-set-value --secret UUID --base64 $(ceph auth get-key client.rbd_test)"", :logoutput => false,"," :command => ""/usr/bin/virsh secret-set-value --secret UUID --base64 $(ceph auth get-key client.rbd_test)"" :command => ""/usr/bin/virsh secret-set-value --secret #{params[:libvirt_rbd_secret_uuid]} --base64 #{params[:libvirt_rbd_secret_key]}"" :command => ""/usr/bin/virsh secret-set-value --secret UUID --base64 $(ceph auth get-key client.rbd_test)""",10,6
openstack%2Fmanila~master~Ib613e6aabaa8707c6311ae30a02e7a68c90aba08,openstack/manila,master,Ib613e6aabaa8707c6311ae30a02e7a68c90aba08,[api-ref] Enhance quotas per share types doc,MERGED,2023-05-26 20:19:59.000000000,2023-06-08 17:53:50.000000000,2023-06-08 17:52:37.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 20:19:59.000000000', 'files': ['api-ref/source/quota-sets.inc'], 'web_link': 'https://opendev.org/openstack/manila/commit/de0a0e632143d168458a34e37815c48e046ecf13', 'message': '[api-ref] Enhance quotas per share types doc\n\nFurther instructions have been added to the quota API reference,\nmentioning what needs to be done in order to retrieve and modify\nquotas for a given share type. The workflow is similar to the user\nand the responses too, but one parameter must be different.\n\nChange-Id: Ib613e6aabaa8707c6311ae30a02e7a68c90aba08\n'}]",1,884557,de0a0e632143d168458a34e37815c48e046ecf13,12,2,1,29632,,,0,"[api-ref] Enhance quotas per share types doc

Further instructions have been added to the quota API reference,
mentioning what needs to be done in order to retrieve and modify
quotas for a given share type. The workflow is similar to the user
and the responses too, but one parameter must be different.

Change-Id: Ib613e6aabaa8707c6311ae30a02e7a68c90aba08
",git fetch https://review.opendev.org/openstack/manila refs/changes/57/884557/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/quota-sets.inc'],1,de0a0e632143d168458a34e37815c48e046ecf13,," In order to manipulate share type quotas, the requests will be similar to the examples below, except that the ``user_id={user_id}`` must be replaced by ``share_type={share_type_name_or_id}`` in the request path. ",,4,0
openstack%2Fironic~bugfix%2F22.0~I5c455ce3e28a5c69a167a2cc9ea87a9d1752a3be,openstack/ironic,bugfix/22.0,I5c455ce3e28a5c69a167a2cc9ea87a9d1752a3be,Update .gitreview for bugfix/22.0,MERGED,2023-06-08 14:25:55.000000000,2023-06-08 17:38:37.000000000,2023-06-08 15:49:21.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-06-08 14:25:55.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bee8209623b1fe1e596c271078e2025392d0d0ec', 'message': 'Update .gitreview for bugfix/22.0\n\nChange-Id: I5c455ce3e28a5c69a167a2cc9ea87a9d1752a3be\n'}]",0,885588,bee8209623b1fe1e596c271078e2025392d0d0ec,9,2,1,22816,,,0,"Update .gitreview for bugfix/22.0

Change-Id: I5c455ce3e28a5c69a167a2cc9ea87a9d1752a3be
",git fetch https://review.opendev.org/openstack/ironic refs/changes/88/885588/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,bee8209623b1fe1e596c271078e2025392d0d0ec,create-22.0,defaultbranch=bugfix/22.0,,1,0
openstack%2Fneutron-tempest-plugin~master~I6426a60e01f757f1e97ac698c5cc7abf2b7924d4,openstack/neutron-tempest-plugin,master,I6426a60e01f757f1e97ac698c5cc7abf2b7924d4,Make neutron-tempest-plugin-bgpvpn-bagpipe non-voting,MERGED,2023-05-24 18:23:08.000000000,2023-06-08 16:53:01.000000000,2023-05-25 09:47:22.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2023-05-24 18:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/76c88a4fdb7f5617ce892142166d04e834fe541c', 'message': 'Make neutron-tempest-plugin-bgpvpn-bagpipe non-voting\n\nThis job has been unstable for a while on the master\nbranch, until changes merge lets make it non-voting\nin the check queue.\n\nChange-Id: I6426a60e01f757f1e97ac698c5cc7abf2b7924d4\nRelated-bug: #2020698\n'}, {'number': 2, 'created': '2023-05-24 18:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8ef3e3332a91d916b41b615d58fbc8b8f689ae39', 'message': 'Make neutron-tempest-plugin-bgpvpn-bagpipe non-voting\n\nThis job has been unstable for a while on the master\nbranch, until changes merge lets make it non-voting\nin the check queue.\n\nRelated-bug: #2020698\nChange-Id: I6426a60e01f757f1e97ac698c5cc7abf2b7924d4\n'}, {'number': 3, 'created': '2023-05-24 18:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4f8dd3ae1651fe91e96bed06618b3cbe36ed0f53', 'message': 'Make neutron-tempest-plugin-bgpvpn-bagpipe non-voting\n\nThis job has been unstable for a while on the master\nbranch, until changes merge lets make it non-voting\nin the check queue.\n\nRelated-bug: #2020698\nChange-Id: I6426a60e01f757f1e97ac698c5cc7abf2b7924d4\n'}, {'number': 4, 'created': '2023-05-24 18:37:44.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/318d629308287c199ff937c1b4923a09a56f2984', 'message': 'Make neutron-tempest-plugin-bgpvpn-bagpipe non-voting\n\nThis job has been unstable for a while on the master\nbranch, until changes merge lets make it non-voting\nin the check queue.\n\nRelated-bug: #2020698\nChange-Id: I6426a60e01f757f1e97ac698c5cc7abf2b7924d4\n'}]",3,884270,318d629308287c199ff937c1b4923a09a56f2984,13,6,4,1131,,,0,"Make neutron-tempest-plugin-bgpvpn-bagpipe non-voting

This job has been unstable for a while on the master
branch, until changes merge lets make it non-voting
in the check queue.

Related-bug: #2020698
Change-Id: I6426a60e01f757f1e97ac698c5cc7abf2b7924d4
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/70/884270/3 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/master_jobs.yaml', 'zuul.d/project.yaml']",2,76c88a4fdb7f5617ce892142166d04e834fe541c,bug/2020698," # Unstable and non-voting in check queue, # https://bugs.launchpad.net/neutron/+bug/2020698 # - neutron-tempest-plugin-bgpvpn-bagpipe", - neutron-tempest-plugin-bgpvpn-bagpipe,4,1
openstack%2Fopenstack-helm-images~master~I2c9c41509dc7a80c872532973f42201e14ce7727,openstack/openstack-helm-images,master,I2c9c41509dc7a80c872532973f42201e14ce7727,Enable Zed compute-kit and cinder test jobs,MERGED,2023-06-06 21:42:45.000000000,2023-06-08 16:20:14.000000000,2023-06-08 16:15:44.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2023-06-06 21:42:45.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a8efaac719464606332e52ca4814b69ccc39d33c', 'message': 'Enable Zed compute-kit and cinder test jobs\n\nChange-Id: I2c9c41509dc7a80c872532973f42201e14ce7727\n'}]",4,885414,a8efaac719464606332e52ca4814b69ccc39d33c,19,3,1,3009,,,0,"Enable Zed compute-kit and cinder test jobs

Change-Id: I2c9c41509dc7a80c872532973f42201e14ce7727
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/14/885414/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/openstack-loci.yaml']",2,a8efaac719464606332e52ca4814b69ccc39d33c,, dependencies: - name: openstack-helm-images-compute-kit-zed-ubuntu_focal - name: openstack-helm-images-cinder-zed-ubuntu_focal, dependencies: [] # - name: openstack-helm-images-compute-kit-zed-ubuntu_focal # - name: openstack-helm-images-cinder-zed-ubuntu_focal,57,57
openstack%2Fdesignate~master~I8e51ccdc0a4bc0d670ba6c7522a83980de7dac9d,openstack/designate,master,I8e51ccdc0a4bc0d670ba6c7522a83980de7dac9d,Add docs describing classless PTR delegation,MERGED,2022-09-09 22:34:58.000000000,2023-06-08 16:15:29.000000000,2023-06-08 16:14:22.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-09-09 22:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/03dd8b0412d035cc66b5bcbf4a68a1c4a5a15fdc', 'message': 'Add docs describing classless PTR delegation\n\nWe have had a few questions about classless IN-ADDR.ARPA delegation (RFC 2317) recently. This patch adds a section to the PTR user guide that describes how to setup classless PTR delegation using Designate.\n\nChange-Id: I8e51ccdc0a4bc0d670ba6c7522a83980de7dac9d\n'}, {'number': 2, 'created': '2023-06-05 19:15:17.000000000', 'files': ['doc/source/user/manage-ptr-records.rst'], 'web_link': 'https://opendev.org/openstack/designate/commit/cf380f35d1a6acef59e91ab9f2717754d7872cfc', 'message': 'Add docs describing classless PTR delegation\n\nWe have had a few questions about classless IN-ADDR.ARPA delegation (RFC 2317) recently. This patch adds a section to the PTR user guide that describes how to setup classless PTR delegation using Designate.\n\nChange-Id: I8e51ccdc0a4bc0d670ba6c7522a83980de7dac9d\n'}]",4,856866,cf380f35d1a6acef59e91ab9f2717754d7872cfc,14,4,2,11628,,,0,"Add docs describing classless PTR delegation

We have had a few questions about classless IN-ADDR.ARPA delegation (RFC 2317) recently. This patch adds a section to the PTR user guide that describes how to setup classless PTR delegation using Designate.

Change-Id: I8e51ccdc0a4bc0d670ba6c7522a83980de7dac9d
",git fetch https://review.opendev.org/openstack/designate refs/changes/66/856866/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/manage-ptr-records.rst'],1,03dd8b0412d035cc66b5bcbf4a68a1c4a5a15fdc,classless-ptr,"Classless IN-Addr.ARPA Delegation ================================= You may want to delegate blocks of IP addresses to projects that do not align to subnet boundries. For example, if you wanted to give project ""A"" three IP addresses. To allow project ""A"" to manage DNS records for those three addresses, without delegating a whole subnet zone to project ""A"", you can use classless IN-ADDR.ARPA delegation as described in `RFC 2317`_. .. note:: As discussed in section 4 of `RFC 2317`_, the examples in the RFC use '/' in the delegated zones but '-' is recommended. Designate will not allow you to use '/' in zone names. You will need to use the recommended '-' instead. In this example, we will delegate a PTR zone for three IP addresses, from the 192.0.2.0/24 subnet, to the `Demo` project '9284a20339184a9bb299386c380211c7'. First, the full subnet in-addr.arpa zone will need to be created: .. code-block:: console $ openstack zone create --email me@example.com 2.0.192.in-addr.arpa. +----------------+--------------------------------------+ | Field | Value | +----------------+--------------------------------------+ | action | CREATE | | attributes | | | created_at | 2022-09-09T20:05:41.000000 | | description | None | | email | me@example.com | | id | bbdf0e8f-8d73-4659-ae62-f59e95a31cd7 | | masters | | | name | 2.0.192.in-addr.arpa. | | pool_id | 794ccc2c-d751-44fe-b57f-8894c9f5c842 | | project_id | cc5ab848dbe7462e9c7603d54a9af90f | | serial | 1662753940 | | status | PENDING | | transferred_at | None | | ttl | 3600 | | type | PRIMARY | | updated_at | None | | version | 1 | +----------------+--------------------------------------+ Next we will create the delegated zone for the `Demo` project: .. code-block:: console $ openstack zone create --sudo-project-id 9284a20339184a9bb299386c380211c7 --email me@example.com 1-4.2.0.192.in-addr.arpa. +----------------+--------------------------------------+ | Field | Value | +----------------+--------------------------------------+ | action | CREATE | | attributes | | | created_at | 2022-09-09T20:06:59.000000 | | description | None | | email | me@example.com | | id | 2d353ed7-cb7f-4ff7-9c1e-54481304f4cb | | masters | | | name | 1-4.2.0.192.in-addr.arpa. | | pool_id | 794ccc2c-d751-44fe-b57f-8894c9f5c842 | | project_id | 9284a20339184a9bb299386c380211c7 | | serial | 1662754018 | | status | PENDING | | transferred_at | None | | ttl | 3600 | | type | PRIMARY | | updated_at | None | | version | 1 | +----------------+--------------------------------------+ Once we have the zones created, we can now add the CNAME records to the full subnet zone that point to the delegated zone records. This will need to be repeated for each IP address being delegated. This example creates the first CNAME record for the 192.0.2.1 IP address. .. code-block:: console $ openstack recordset create --record 1.1-4.2.0.192.in-addr.arpa. --type CNAME 2.0.192.in-addr.arpa. 1.2.0.192.in-addr.arpa. +-------------+--------------------------------------+ | Field | Value | +-------------+--------------------------------------+ | action | CREATE | | created_at | 2022-09-09T20:09:16.000000 | | description | None | | id | 482bd367-9815-4d86-a93d-734bbc92499a | | name | 1.2.0.192.in-addr.arpa. | | project_id | cc5ab848dbe7462e9c7603d54a9af90f | | records | 1.1-4.2.0.192.in-addr.arpa. | | status | PENDING | | ttl | None | | type | CNAME | | updated_at | None | | version | 1 | | zone_id | bbdf0e8f-8d73-4659-ae62-f59e95a31cd7 | | zone_name | 2.0.192.in-addr.arpa. | +-------------+--------------------------------------+ Finally, members of the `Demo` project can now create the PTR records for the delegates IP addresses. In this example the administrator will create the first record on behalf of the `Demo` project. .. code-block:: console $ openstack recordset create --sudo-project-id 9284a20339184a9bb299386c380211c7 --record www.example.com. --type PTR 1-4.2.0.192.in-addr.arpa. 1.1-4.2.0.192.in-addr.arpa. +-------------+--------------------------------------+ | Field | Value | +-------------+--------------------------------------+ | action | CREATE | | created_at | 2022-09-09T20:08:17.000000 | | description | None | | id | cea3f3ce-687b-422c-a378-bdcfe382a159 | | name | 1.1-4.2.0.192.in-addr.arpa. | | project_id | 9284a20339184a9bb299386c380211c7 | | records | www.example.com. | | status | PENDING | | ttl | None | | type | PTR | | updated_at | None | | version | 1 | | zone_id | 2d353ed7-cb7f-4ff7-9c1e-54481304f4cb | | zone_name | 1-4.2.0.192.in-addr.arpa. | +-------------+--------------------------------------+ We can now use dig to query a recursive resolver to verify the delegation: .. code-block:: console $ dig -x 192.0.2.1 @198.51.100.5 ; <<>> DiG 9.16.32-RH <<>> -x 192.0.2.1 @198.51.100.5 ;; global options: +cmd ;; Got answer: ;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 16209 ;; flags: qr aa rd ra; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 1 ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 4096 ; COOKIE: a415d9b43dcef11c01000000631ba068973cbfbf5b765032 (good) ;; QUESTION SECTION: ;1.2.0.192.in-addr.arpa. IN PTR ;; ANSWER SECTION: 1.2.0.192.in-addr.arpa. 3600 IN CNAME 1.1-4.2.0.192.in-addr.arpa. 1.1-4.2.0.192.in-addr.arpa. 3600 IN PTR www.example.com. ;; Query time: 0 msec ;; SERVER: 198.51.100.5#53(198.51.100.5) ;; WHEN: Fri Sep 09 13:22:00 PDT 2022 ;; MSG SIZE rcvd: 149",You can further specify `in-addr.arpa.` zones to chunks of IP addresses by using Classless in-addr.arpa. Delegation. See `RFC 2317`_ for more information. .. note:: The naming scheme of `RFC 2317`_ is currently not supported and names such as `24/0.2.0.192.in-addr.arpa.` which include a `/` lead to an error. The suggested workaround is to use `-` instead of `/`. For more details please see https://bugs.launchpad.net/designate/+bug/1880583. ,153,12
openstack%2Fpuppet-swift~master~Ic7626d9352054662b137c25d1572336b37dfd41c,openstack/puppet-swift,master,Ic7626d9352054662b137c25d1572336b37dfd41c,Drop unused parameter definition,MERGED,2023-06-06 01:50:54.000000000,2023-06-08 15:46:29.000000000,2023-06-08 15:46:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 01:50:54.000000000', 'files': ['spec/defines/swift_storage_server_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/bc8353608bd74eb7c7b542f0a4ec2e62dc62c488', 'message': 'Drop unused parameter definition\n\ndefault_params is not used in the spec file and is useless.\n\nChange-Id: Ic7626d9352054662b137c25d1572336b37dfd41c\n'}]",0,885327,bc8353608bd74eb7c7b542f0a4ec2e62dc62c488,7,3,1,9816,,,0,"Drop unused parameter definition

default_params is not used in the spec file and is useless.

Change-Id: Ic7626d9352054662b137c25d1572336b37dfd41c
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/27/885327/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/defines/swift_storage_server_spec.rb'],1,bc8353608bd74eb7c7b542f0a4ec2e62dc62c488,,," let :default_params do { :devices => '/srv/node', :owner => 'swift', :group => 'swift', :incoming_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :outgoing_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :max_connections => '25', :log_requests => true } end ",0,12
openstack%2Fptgbot~master~I30f04f8c4e3e6c138b6316c31776e09859396df6,openstack/ptgbot,master,I30f04f8c4e3e6c138b6316c31776e09859396df6,"Add 3.11 ""support""",NEW,2023-06-07 14:47:57.000000000,2023-06-08 14:47:09.000000000,,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 14:47:57.000000000', 'files': ['ptgbot/tests/test_message_process.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/f09b854968a927e043c3b5c016671a529f265b19', 'message': 'Add 3.11 ""support""\n\nUpdate testing a trove data and make a small, somewhat gross, testing\nchange to accommodate differences that come with python 3.11.\n\nChange-Id: I30f04f8c4e3e6c138b6316c31776e09859396df6\n'}]",2,885500,f09b854968a927e043c3b5c016671a529f265b19,4,2,1,12898,,,0,"Add 3.11 ""support""

Update testing a trove data and make a small, somewhat gross, testing
change to accommodate differences that come with python 3.11.

Change-Id: I30f04f8c4e3e6c138b6316c31776e09859396df6
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/00/885500/1 && git format-patch -1 --stdout FETCH_HEAD,"['ptgbot/tests/test_message_process.py', 'setup.cfg']",2,f09b854968a927e043c3b5c016671a529f265b19,feature/iCal, Programming Language :: Python :: 3.10 Programming Language :: Python :: 3.11,,8,2
openstack%2Fkeystonemiddleware~stable%2Ftrain~Ifb9dc54424256d5cffe557894b2d26b2401ebf92,openstack/keystonemiddleware,stable/train,Ifb9dc54424256d5cffe557894b2d26b2401ebf92,Drop lower-constraints.txt and its testing,NEW,2023-06-02 14:59:48.000000000,2023-06-08 14:35:08.000000000,,"[{'_account_id': 7414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-02 14:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/bf7604102d7edf91123d37d2bdeedfef596ca6a0', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ifb9dc54424256d5cffe557894b2d26b2401ebf92\n(cherry picked from commit 5f77252bec30079643587633a51405abcbc7e912)\n'}, {'number': 2, 'created': '2023-06-07 19:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/4ea0e23bfe31f48f496cd85a8c10743c85817b8a', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ifb9dc54424256d5cffe557894b2d26b2401ebf92\n(cherry picked from commit 5f77252bec30079643587633a51405abcbc7e912)\n'}, {'number': 3, 'created': '2023-06-08 13:08:17.000000000', 'files': ['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/79d57d621f6bbe0d6c282ee4367d7301e8ecfd06', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ifb9dc54424256d5cffe557894b2d26b2401ebf92\n(cherry picked from commit 5f77252bec30079643587633a51405abcbc7e912)\n'}]",0,885148,79d57d621f6bbe0d6c282ee4367d7301e8ecfd06,7,2,3,7973,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ifb9dc54424256d5cffe557894b2d26b2401ebf92
(cherry picked from commit 5f77252bec30079643587633a51405abcbc7e912)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/48/885148/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,bf7604102d7edf91123d37d2bdeedfef596ca6a0,drop-lower-constraints-train,, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,93
openstack%2Freleases~master~I02bd6f9126bccd0809e76b5abfdf445888537c92,openstack/releases,master,I02bd6f9126bccd0809e76b5abfdf445888537c92,[neutron] New Zed releases for Neutron projects,MERGED,2023-06-01 10:56:15.000000000,2023-06-08 14:30:32.000000000,2023-06-08 14:30:32.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-01 10:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/69b8fa2f841de5a10d5f7baac486eab211ab2eea', 'message': '[neutron] New Zed releases for Neutron projects\n\nNeutron 21.1.1: 64b879d0c32b575034e5db3ac0f6ccc20eb6efe8\nneutron-lib 3.1.2: 00d4c31942d393942050f912ced14e3c85e4b7d2\nneutron-dynamic-routing 21.0.1: 962bb66743caf8b9052776a32ab71c83403dcd54\novn-octavia-provider  : 007490065733b3b246be2d4916a8f5c3baeec893\n\nChange-Id: I02bd6f9126bccd0809e76b5abfdf445888537c92\n'}, {'number': 2, 'created': '2023-06-01 12:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d4c3abbfab4293b85e4202053e7a69c603911495', 'message': '[neutron] New Zed releases for Neutron projects\n\nNeutron 21.1.1: 64b879d0c32b575034e5db3ac0f6ccc20eb6efe8\nneutron-lib 3.1.2: 00d4c31942d393942050f912ced14e3c85e4b7d2\nneutron-dynamic-routing 21.0.1: 962bb66743caf8b9052776a32ab71c83403dcd54\novn-octavia-provider 3.1.1: 007490065733b3b246be2d4916a8f5c3baeec893\n\nChange-Id: I02bd6f9126bccd0809e76b5abfdf445888537c92\n'}, {'number': 3, 'created': '2023-06-06 10:02:38.000000000', 'files': ['deliverables/zed/ovn-octavia-provider.yaml', 'deliverables/zed/neutron-lib.yaml', 'deliverables/zed/neutron.yaml', 'deliverables/zed/neutron-dynamic-routing.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/435b86aa478d8ad26dfe4e8e852ed46e51b3f491', 'message': '[neutron] New Zed releases for Neutron projects\n\nNeutron 21.1.1: 23d82375b152a7aa1afe5b066cccb3ffb714e645\nneutron-lib 3.1.2: fdbece1bac3d4d42d7ced45077c1301f03fba5e6\nneutron-dynamic-routing 21.0.1: 962bb66743caf8b9052776a32ab71c83403dcd54\novn-octavia-provider 3.1.1: d27ddcd3cabc2aaf5ac1a2abe9c060a25e8fd185\n\nChange-Id: I02bd6f9126bccd0809e76b5abfdf445888537c92\n'}]",9,885031,435b86aa478d8ad26dfe4e8e852ed46e51b3f491,29,11,3,16688,,,0,"[neutron] New Zed releases for Neutron projects

Neutron 21.1.1: 23d82375b152a7aa1afe5b066cccb3ffb714e645
neutron-lib 3.1.2: fdbece1bac3d4d42d7ced45077c1301f03fba5e6
neutron-dynamic-routing 21.0.1: 962bb66743caf8b9052776a32ab71c83403dcd54
ovn-octavia-provider 3.1.1: d27ddcd3cabc2aaf5ac1a2abe9c060a25e8fd185

Change-Id: I02bd6f9126bccd0809e76b5abfdf445888537c92
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/885031/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/zed/ovn-octavia-provider.yaml', 'deliverables/zed/neutron-lib.yaml', 'deliverables/zed/neutron-dynamic-routing.yaml', 'deliverables/zed/neutron.yaml']",4,69b8fa2f841de5a10d5f7baac486eab211ab2eea,neutron_new_zed_releases, - version: 21.1.1 projects: - repo: openstack/neutron hash: 64b879d0c32b575034e5db3ac0f6ccc20eb6efe8,,16,0
openstack%2Freleases~master~I5be858a8ec2aadc28d050a2bb297776d6457590c,openstack/releases,master,I5be858a8ec2aadc28d050a2bb297776d6457590c,[neutron] New 2023.1 (Antelope) releases for Neutron projects,MERGED,2023-06-01 11:18:20.000000000,2023-06-08 14:29:31.000000000,2023-06-08 14:29:31.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-01 11:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6965d0727a29441e5d8ddc827c6056383ab5ab87', 'message': '[neutron] New 2023.1 (Antelope) releases for Neutron projects\n\nNeutron 22.0.1: 6d9f481d875310a5184660a86388213f0f86dbb6\nneutron-lib 3.4.1: 23fa6b3c2f46be6de8523355c786a682fd4419ef\novn-octavia-provider 4.0.1: f6537b1d90a10d4e9bd03e93a2018d312df656bc\n\nChange-Id: I5be858a8ec2aadc28d050a2bb297776d6457590c\n'}, {'number': 2, 'created': '2023-06-06 09:59:21.000000000', 'files': ['deliverables/antelope/ovn-octavia-provider.yaml', 'deliverables/antelope/neutron-lib.yaml', 'deliverables/antelope/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/edb4ef3848c67315a3d8d59b780d293517b23b7f', 'message': '[neutron] New 2023.1 (Antelope) releases for Neutron projects\n\nNeutron 22.0.1: e461aab2850ae4316772bd00e88574c392a1942e\nneutron-lib 3.4.1: 86ea887de64bba3d48a245884aea961b04afad0a\novn-octavia-provider 4.0.1: 217d1ab4317b886ef3544c029819121c91f0709f\n\nChange-Id: I5be858a8ec2aadc28d050a2bb297776d6457590c\n'}]",9,885033,edb4ef3848c67315a3d8d59b780d293517b23b7f,21,10,2,16688,,,0,"[neutron] New 2023.1 (Antelope) releases for Neutron projects

Neutron 22.0.1: e461aab2850ae4316772bd00e88574c392a1942e
neutron-lib 3.4.1: 86ea887de64bba3d48a245884aea961b04afad0a
ovn-octavia-provider 4.0.1: 217d1ab4317b886ef3544c029819121c91f0709f

Change-Id: I5be858a8ec2aadc28d050a2bb297776d6457590c
",git fetch https://review.opendev.org/openstack/releases refs/changes/33/885033/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/antelope/ovn-octavia-provider.yaml', 'deliverables/antelope/neutron-lib.yaml', 'deliverables/antelope/neutron.yaml']",3,6965d0727a29441e5d8ddc827c6056383ab5ab87,neutron_new_antelope_releases, - version: 22.0.1 projects: - repo: openstack/neutron hash: 6d9f481d875310a5184660a86388213f0f86dbb6,,12,0
openstack%2Freleases~master~I190f364cd1f765c8c0d21eb325dd6bf6c08aa8d4,openstack/releases,master,I190f364cd1f765c8c0d21eb325dd6bf6c08aa8d4,Release ironic 22.0.0 with bugfix branch,MERGED,2023-05-31 15:16:21.000000000,2023-06-08 14:23:09.000000000,2023-06-08 14:23:09.000000000,"[{'_account_id': 308}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-05-31 15:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9691548916d8acddea5649bdb11e660a57918cc5', 'message': 'Release ironic 21.5.0 with bugfix branch\n\nChange-Id: I190f364cd1f765c8c0d21eb325dd6bf6c08aa8d4\n'}, {'number': 2, 'created': '2023-06-02 07:33:30.000000000', 'files': ['deliverables/bobcat/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f8055c3da2c68163977bf2134061bdd3f067250d', 'message': 'Release ironic 22.0.0 with bugfix branch\n\nChange-Id: I190f364cd1f765c8c0d21eb325dd6bf6c08aa8d4\n'}]",3,884899,f8055c3da2c68163977bf2134061bdd3f067250d,17,6,2,23851,,,0,"Release ironic 22.0.0 with bugfix branch

Change-Id: I190f364cd1f765c8c0d21eb325dd6bf6c08aa8d4
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/884899/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/ironic.yaml'],1,9691548916d8acddea5649bdb11e660a57918cc5,ironic-bugfix-2200,releases: - version: 21.5.0 projects: - repo: openstack/ironic hash: 2bd69444d927fb9cbf79bfc1494be9bf6e9c2e29 branches: - name: bugfix/21.5 location: 21.5.0,,8,0
openstack%2Fpython-glanceclient~master~Ibcf0b9698227a2c22fe991b7516ba5dceabfc607,openstack/python-glanceclient,master,Ibcf0b9698227a2c22fe991b7516ba5dceabfc607,Docs generation: mock the six module for autodoc,MERGED,2023-06-07 15:27:07.000000000,2023-06-08 14:19:40.000000000,2023-06-08 14:18:44.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 15:27:07.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/7c2ab837aa0c5749ac84eb610ed13ac4fb6dfc12', 'message': ""Docs generation: mock the six module for autodoc\n\nCurrently, tox-edocs fails with the following error message:\n\nWarning, treated as error:\nautodoc: failed to import module 'shell' from module 'glanceclient'; the\nfollowing exception was raised:\nNo module named 'six'\n\nWe used to install six in the virtual environment through keystoneauth,\nbut keystoneauth no longer depends on six. Let's mock six completely in\nthe context of autodoc.\n\nChange-Id: Ibcf0b9698227a2c22fe991b7516ba5dceabfc607\n""}]",0,885505,7c2ab837aa0c5749ac84eb610ed13ac4fb6dfc12,8,3,1,8122,,,0,"Docs generation: mock the six module for autodoc

Currently, tox-edocs fails with the following error message:

Warning, treated as error:
autodoc: failed to import module 'shell' from module 'glanceclient'; the
following exception was raised:
No module named 'six'

We used to install six in the virtual environment through keystoneauth,
but keystoneauth no longer depends on six. Let's mock six completely in
the context of autodoc.

Change-Id: Ibcf0b9698227a2c22fe991b7516ba5dceabfc607
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/05/885505/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,7c2ab837aa0c5749ac84eb610ed13ac4fb6dfc12,fix-tox-edocs,# TODO: remove this once no dependency uses six anymore autodoc_mock_imports = ['six'] ,,3,0
openstack%2Fpuppet-swift~master~I7c291035e4eef39333150629b65abd915976ca79,openstack/puppet-swift,master,I7c291035e4eef39333150629b65abd915976ca79,Remove deprecated swift::max_header_size,MERGED,2023-06-06 03:26:04.000000000,2023-06-08 14:12:21.000000000,2023-06-08 14:11:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 03:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/54109801d5e9b90577b3c47ddd3b6ddb0d4af92a', 'message': 'Remove deprecated swift::max_header_size\n\nThe parameter was deprecated during the past cycle in favor of the new\nconstraints class[1].\n\n[1] 7d220dd93468815f88c95c67b2d45d95152f8cae\n\nChange-Id: I7c291035e4eef39333150629b65abd915976ca79\n'}, {'number': 2, 'created': '2023-06-06 03:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/6782bcc7e7b3984c3edde68f9dfcdfc97a077fa7', 'message': 'Remove deprecated swift::max_header_size\n\nThe parameter was deprecated during the past cycle in favor of the new\nconstraints class[1].\n\n[1] 7d220dd93468815f88c95c67b2d45d95152f8cae\n\nChange-Id: I7c291035e4eef39333150629b65abd915976ca79\n'}, {'number': 3, 'created': '2023-06-06 05:14:51.000000000', 'files': ['spec/classes/swift_spec.rb', 'releasenotes/notes/constraints-cleanup-3c8aee96638459b5.yaml', 'manifests/init.pp', 'manifests/constraints.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/f2bb7abca8020970288d13377c2bfd354baa6ea5', 'message': 'Remove deprecated swift::max_header_size\n\nThe parameter was deprecated during the past cycle in favor of the new\nconstraints class[1].\n\n[1] 7d220dd93468815f88c95c67b2d45d95152f8cae\n\nChange-Id: I7c291035e4eef39333150629b65abd915976ca79\n'}]",0,885334,f2bb7abca8020970288d13377c2bfd354baa6ea5,12,3,3,9816,,,0,"Remove deprecated swift::max_header_size

The parameter was deprecated during the past cycle in favor of the new
constraints class[1].

[1] 7d220dd93468815f88c95c67b2d45d95152f8cae

Change-Id: I7c291035e4eef39333150629b65abd915976ca79
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/34/885334/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/swift_spec.rb', 'releasenotes/notes/constraints-cleanup-3c8aee96638459b5.yaml', 'manifests/init.pp', 'manifests/constraints.pp']",4,54109801d5e9b90577b3c47ddd3b6ddb0d4af92a,, 'swift-constraints/max_header_size': value => $max_header_size;," 'swift-constraints/max_header_size': value => pick($::swift::max_header_size, $max_header_size);",5,26
openstack%2Fpuppet-swift~master~Id2694286c08e40d2bb6e8e07cf5c47b01712a84b,openstack/puppet-swift,master,Id2694286c08e40d2bb6e8e07cf5c47b01712a84b,Fix undefined reseller_prefix_upcase,MERGED,2023-06-06 03:23:08.000000000,2023-06-08 14:11:24.000000000,2023-06-08 14:11:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 03:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/a90f486b34fe59bb5db404fd4c6b19811ce4d529', 'message': 'Fix undefined reseller_prefix_upcase\n\n... because that is now causing an error in testing with Puppet 8.\n\nChange-Id: Id2694286c08e40d2bb6e8e07cf5c47b01712a84b\n'}, {'number': 2, 'created': '2023-06-06 03:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/c971de515d17ee0a633e680047ceebb401dcc423', 'message': 'Fix undefined reseller_prefix_upcase\n\n... because that is now causing an error in testing with Puppet 8.\n\nChange-Id: Id2694286c08e40d2bb6e8e07cf5c47b01712a84b\n'}, {'number': 3, 'created': '2023-06-06 05:14:51.000000000', 'files': ['manifests/proxy/tempauth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/908bd01717e1c8e33274a436cfc763ae55b27447', 'message': 'Fix undefined reseller_prefix_upcase\n\n... because that is now causing an error in testing with Puppet 8.\n\nChange-Id: Id2694286c08e40d2bb6e8e07cf5c47b01712a84b\n'}]",0,885333,908bd01717e1c8e33274a436cfc763ae55b27447,10,3,3,9816,,,0,"Fix undefined reseller_prefix_upcase

... because that is now causing an error in testing with Puppet 8.

Change-Id: Id2694286c08e40d2bb6e8e07cf5c47b01712a84b
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/33/885333/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/proxy/tempauth.pp'],1,a90f486b34fe59bb5db404fd4c6b19811ce4d529,, } else { $reseller_prefix_upcase = $reseller_prefix,,2,0
openstack%2Fpuppet-swift~master~I60fcea3c1a04456898816b844bf9e555a790d1d4,openstack/puppet-swift,master,I60fcea3c1a04456898816b844bf9e555a790d1d4,Fix wrong usage of validate_legacy,MERGED,2023-06-06 03:16:48.000000000,2023-06-08 13:55:16.000000000,2023-06-08 13:55:16.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 03:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/a07737e1b2b6c507c382085a3d869fc269a6a7bb', 'message': 'Fix wrong usage of validate_legacy\n\nThe current usage is causing the following error in puppet 8.\n\nvalidate_legacy(validate_re) expects an Integer value, got String\nat [""/.../modules/swift/manifests/ringbuilder/rebalance.pp"", 23]:\n\nChange-Id: I60fcea3c1a04456898816b844bf9e555a790d1d4\n'}, {'number': 2, 'created': '2023-06-06 05:14:51.000000000', 'files': ['manifests/ringbuilder/rebalance.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/e0d56b30f62006ab2d814ade820bdae31b12add3', 'message': 'Fix wrong usage of validate_legacy\n\nThe current usage is causing the following error in puppet 8.\n\nvalidate_legacy(validate_re) expects an Integer value, got String\nat [""/.../modules/swift/manifests/ringbuilder/rebalance.pp"", 23]:\n\nChange-Id: I60fcea3c1a04456898816b844bf9e555a790d1d4\n'}]",0,885332,e0d56b30f62006ab2d814ade820bdae31b12add3,9,3,2,9816,,,0,"Fix wrong usage of validate_legacy

The current usage is causing the following error in puppet 8.

validate_legacy(validate_re) expects an Integer value, got String
at [""/.../modules/swift/manifests/ringbuilder/rebalance.pp"", 23]:

Change-Id: I60fcea3c1a04456898816b844bf9e555a790d1d4
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/32/885332/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ringbuilder/rebalance.pp'],1,a07737e1b2b6c507c382085a3d869fc269a6a7bb,," if $seed and $seed !=~ Integer { validate_legacy(Pattern[/^\d+$/], 'validate_re', $seed, ['^\d+$'])"," if $seed { validate_legacy(Integer, 'validate_re', $seed, ['^\d+$'])",2,2
openstack%2Fpuppet-pacemaker~stable%2F1.5.x~I4e916b20dedf8e40d2ffd032d8950fe16d1a7079,openstack/puppet-pacemaker,stable/1.5.x,I4e916b20dedf8e40d2ffd032d8950fe16d1a7079,Adapt providers to new pcs-0.11.5 output,MERGED,2023-06-08 10:55:59.000000000,2023-06-08 13:48:03.000000000,2023-06-08 13:48:03.000000000,"[{'_account_id': 9976}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 30126}, {'_account_id': 32458}]","[{'number': 1, 'created': '2023-06-08 10:55:59.000000000', 'files': ['lib/puppet/provider/pcmk_constraint/default.rb'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/f10ce89117192b3faa1e3b9f5200f9c13cacf39a', 'message': ""Adapt providers to new pcs-0.11.5 output\n\nPcs `constraint colocation show` output changed since https://github.com/ClusterLabs/pcs/commit/ff1d564830b3ab922249a796ecfc4a63925ec4c8 .\n\npcs-0.11.4:\n\nColocation Constraints:\n  ip-172.31.0.1 with haproxy-bundle (score:INFINITY)\n  ip-172.31.0.1 with galera-bundle (score:INFINITY) (rsc-role:Started) (with-rsc-role:Promoted)\n\npcs-0.11.5:\n\nColocation Constraints:\n  resource 'ip-172.31.0.1' with resource 'haproxy-bundle'\n  Started resource 'ip-172.31.0.1' with Promoted resource 'galera-bundle'\n\nOur helper functions need to be adapted to the new output.\n\nChange-Id: I4e916b20dedf8e40d2ffd032d8950fe16d1a7079\nCo-authored-by: Luca Miccini <lmiccini@redhat.com>\nRelated-Bug: #2023019\n""}]",0,885579,f10ce89117192b3faa1e3b9f5200f9c13cacf39a,10,6,1,20778,,,0,"Adapt providers to new pcs-0.11.5 output

Pcs `constraint colocation show` output changed since https://github.com/ClusterLabs/pcs/commit/ff1d564830b3ab922249a796ecfc4a63925ec4c8 .

pcs-0.11.4:

Colocation Constraints:
  ip-172.31.0.1 with haproxy-bundle (score:INFINITY)
  ip-172.31.0.1 with galera-bundle (score:INFINITY) (rsc-role:Started) (with-rsc-role:Promoted)

pcs-0.11.5:

Colocation Constraints:
  resource 'ip-172.31.0.1' with resource 'haproxy-bundle'
  Started resource 'ip-172.31.0.1' with Promoted resource 'galera-bundle'

Our helper functions need to be adapted to the new output.

Change-Id: I4e916b20dedf8e40d2ffd032d8950fe16d1a7079
Co-authored-by: Luca Miccini <lmiccini@redhat.com>
Related-Bug: #2023019
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/79/885579/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/pcmk_constraint/default.rb'],1,f10ce89117192b3faa1e3b9f5200f9c13cacf39a,, return true if line =~ /(resource )?'?#{resource_resource}'? with ((Promoted )?resource )?'?#{resource_location}'?/ and line =~ /(with-rsc-role:(Master|Promoted)|Promoted resource)/ return true if line =~ /(resource )?'?#{resource_resource}'? with (resource )?'?#{resource_location}'?/," return true if line.include? resource_resource + ' with ' + resource_location and (line.include? ""with-rsc-role:Master"" or line.include? ""with-rsc-role:Promoted"") return true if line.include? resource_resource + ' with ' + resource_location",2,2
openstack%2Fsahara-tests~master~I239799d7dd8e9162d254a5cfc75cad03e8650e91,openstack/sahara-tests,master,I239799d7dd8e9162d254a5cfc75cad03e8650e91,setup.cfg: Replace dashes with underscores,MERGED,2023-06-08 12:16:50.000000000,2023-06-08 13:40:45.000000000,2023-06-08 13:40:45.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-08 12:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/7ecf0402bef70bf17680e06eb2d6b76782527dcd', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I239799d7dd8e9162d254a5cfc75cad03e8650e91\n""}, {'number': 2, 'created': '2023-06-08 12:33:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/9a88a310f37e43dbb9ebbb5117a0cd975c0c1d6d', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I239799d7dd8e9162d254a5cfc75cad03e8650e91\n""}]",1,885444,9a88a310f37e43dbb9ebbb5117a0cd975c0c1d6d,8,2,2,29423,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I239799d7dd8e9162d254a5cfc75cad03e8650e91
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/44/885444/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7ecf0402bef70bf17680e06eb2d6b76782527dcd,,python_requires = >=3.6author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/sahara-tests/latest/,python-requires = >=3.6author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/sahara-tests/latest/,3,3
openstack%2Fswift~stable%2Fyoga~I8b0bd7ee1c649294ac3795cba801c9e07bc3d51b,openstack/swift,stable/yoga,I8b0bd7ee1c649294ac3795cba801c9e07bc3d51b,Migrate CentOS Stream 8 FIPS job to CentOS Stream 9,NEW,2022-09-19 09:44:28.000000000,2023-06-08 13:34:32.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-19 09:44:28.000000000', 'files': ['.zuul.yaml', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/swift/commit/23a74ba0b071b2027604ded9dad8ee4b75142d43', 'message': 'Migrate CentOS Stream 8 FIPS job to CentOS Stream 9\n\nChange-Id: I8b0bd7ee1c649294ac3795cba801c9e07bc3d51b\n'}]",7,858278,23a74ba0b071b2027604ded9dad8ee4b75142d43,22,2,1,34120,,,0,"Migrate CentOS Stream 8 FIPS job to CentOS Stream 9

Change-Id: I8b0bd7ee1c649294ac3795cba801c9e07bc3d51b
",git fetch https://review.opendev.org/openstack/swift refs/changes/78/858278/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tools/test-setup.sh']",2,23a74ba0b071b2027604ded9dad8ee4b75142d43,,"function is_rhel9 { [ -f /usr/bin/dnf ] && \ cat /etc/*release | grep -q -e ""Red Hat"" -e ""CentOS"" -e ""CloudLinux"" && \ cat /etc/*release | grep -q 'release 9' } if is_rhel9; then # Install CentOS OpenStack repos so that we have access to some extra # packages. sudo dnf install -y centos-release-openstack-yoga sudo dnf install -y liberasurecode-devel fi",,35,23
openstack%2Fcharm-ceilometer~master~I56028d674eae58d224ee843152623bdb0d2b5d45,openstack/charm-ceilometer,master,I56028d674eae58d224ee843152623bdb0d2b5d45,Replace remote-sink description with valid example,MERGED,2022-09-21 01:27:22.000000000,2023-06-08 13:24:34.000000000,2023-06-08 13:24:34.000000000,"[{'_account_id': 935}, {'_account_id': 2424}, {'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-21 01:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/4562f17613af376ed2272223a8e474656e3fd1f1', 'message': 'Replace remote-sink description with valid example\n\nRemote sync configures ceilometer.event.publisher for only a subset of publishers\nare valid.\n\nThey are test, messaging, http, gnocchi and zaqar.\n\nChange-Id: I56028d674eae58d224ee843152623bdb0d2b5d45\n'}, {'number': 2, 'created': '2022-09-21 06:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/70b8c7a8e8ceee462f4d0215fd57970d5ff99383', 'message': 'Replace remote-sink description with valid example\n\nRemote sync configures ceilometer.event.publisher. Only a subset of\npublishers are valid.  They are test, messaging, http, gnocchi and\nzaqar.\n\nChange-Id: I56028d674eae58d224ee843152623bdb0d2b5d45\n'}, {'number': 3, 'created': '2023-04-04 04:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/1c9c9a3409152b5b960aaeb0d54305367fbb2bf9', 'message': 'Replace remote-sink description with valid example\n\n    Remote sync configures ceilometer.event.publisher. Only a subset of\n    publishers are valid.  They are test, messaging, http, gnocchi and\n    zaqar\n\nChange-Id: I56028d674eae58d224ee843152623bdb0d2b5d45\n'}, {'number': 4, 'created': '2023-04-04 04:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/32b94f1c6bf0fde65bf126eb66149635867c2ce2', 'message': 'Replace remote-sink description with valid example\n\n    Remote sync configures ceilometer.event.publisher. Only a subset of\n    publishers are valid.  They are test, messaging, http, gnocchi and\n    zaqar\n\nChange-Id: I56028d674eae58d224ee843152623bdb0d2b5d45\n'}, {'number': 5, 'created': '2023-06-08 04:36:13.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/b27083e9b5adf26531c9b79bf1eb0e5dad8cdd16', 'message': 'Replace remote-sink description with valid example\n\n    Remote sync configures ceilometer.event.publisher. Only a subset of\n    publishers are valid.  They are test, messaging, http, gnocchi and\n    zaqar\n\nChange-Id: I56028d674eae58d224ee843152623bdb0d2b5d45\n'}]",3,858597,b27083e9b5adf26531c9b79bf1eb0e5dad8cdd16,19,6,5,26032,,,0,"Replace remote-sink description with valid example

    Remote sync configures ceilometer.event.publisher. Only a subset of
    publishers are valid.  They are test, messaging, http, gnocchi and
    zaqar

Change-Id: I56028d674eae58d224ee843152623bdb0d2b5d45
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/97/858597/2 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,4562f17613af376ed2272223a8e474656e3fd1f1,, 'http://host:80/path?timeout=1&max_retries=2&batch=False' 'zaqar://?queue=meter_queue&ttl=1200', 'udp://<host>:<port>/' 'prometheus://pushgateway-host:9091/metrics/job/openstack-telemetry',2,2
openstack%2Fnetworking-bgpvpn~master~I5c3070cd385307a46a9cea39e37276d4d888bd1b,openstack/networking-bgpvpn,master,I5c3070cd385307a46a9cea39e37276d4d888bd1b,Fix issues due to rcent RBAC changes,MERGED,2023-05-12 11:17:03.000000000,2023-06-08 13:23:18.000000000,2023-06-08 13:21:34.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-12 11:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/c2d1db1fb0c0cd4f58e9b6663fca00591df247fa', 'message': 'Fix issues due to rcent RBAC changes\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-bgpvpn.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b1.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nRelated-Bug: 2019097\nChange-Id: I5c3070cd385307a46a9cea39e37276d4d888bd1b\n'}, {'number': 2, 'created': '2023-05-16 11:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/7fecb33d624d231d5ab00d8311a3aa7bc0a940c6', 'message': 'Fix issues due to rcent RBAC changes\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-bgpvpn.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b1.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nRelated-Bug: 2019097\nChange-Id: I5c3070cd385307a46a9cea39e37276d4d888bd1b\n'}, {'number': 3, 'created': '2023-05-16 11:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/15909921bbe75248ea9b5469c468216297b6cb96', 'message': 'Fix issues due to rcent RBAC changes\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-bgpvpn.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b2.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nRelated-Bug: 2019097\nChange-Id: I5c3070cd385307a46a9cea39e37276d4d888bd1b\n'}, {'number': 4, 'created': '2023-05-17 13:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/58d53676255594d0ab334876b525832e7c3116c8', 'message': 'Fix issues due to rcent RBAC changes\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-bgpvpn.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b2.\n[2] remove neutron.debug, remove the dependency to it in\nservice_drivers.bagpipe.bagpipe and in test_bagpipe.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n[2]: https://review.opendev.org/c/openstack/neutron/+/883081\n\nRelated-Bug: 2019097\nChange-Id: I5c3070cd385307a46a9cea39e37276d4d888bd1b\n'}, {'number': 5, 'created': '2023-05-22 13:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/a5193cee89fbbb1580f7156919551cdb9bdc0cba', 'message': 'Fix issues due to rcent RBAC changes\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-bgpvpn.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b2.\n[2] remove neutron.debug, remove the dependency to it in\nservice_drivers.bagpipe.bagpipe and in test_bagpipe.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n[2]: https://review.opendev.org/c/openstack/neutron/+/883081\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/883838\nRelated-Bug: 2019097\nChange-Id: I5c3070cd385307a46a9cea39e37276d4d888bd1b\n'}, {'number': 6, 'created': '2023-05-31 11:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/3d9d7aa758a07e11bb825f5e70539d29256a953a', 'message': 'Fix issues due to rcent RBAC changes\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-bgpvpn.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b2.\n[2] removed neutron.debug, remove the dependency to it in\nservice_drivers.bagpipe.bagpipe and in test_bagpipe.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n[2]: https://review.opendev.org/c/openstack/neutron/+/883081\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/883838\nRelated-Bug: 2019097\nChange-Id: I5c3070cd385307a46a9cea39e37276d4d888bd1b\n'}, {'number': 7, 'created': '2023-06-05 08:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/dda564bba0f1758345f8d057556336a09bd008ef', 'message': 'Fix issues due to rcent RBAC changes\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-bgpvpn.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b2.\n[2] removed neutron.debug, remove the dependency to it in\nservice_drivers.bagpipe.bagpipe and in test_bagpipe.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n[2]: https://review.opendev.org/c/openstack/neutron/+/883081\n\nDepends-On: https://review.opendev.org/c/openstack/networking-bagpipe/+/883064\nRelated-Bug: 2019097\nChange-Id: I5c3070cd385307a46a9cea39e37276d4d888bd1b\n'}, {'number': 8, 'created': '2023-06-06 12:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/491c1c76739875c0a7bc5afd5af1052fb64c5b94', 'message': 'Fix issues due to rcent RBAC changes\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-bgpvpn.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b2.\n[2] removed neutron.debug, remove the dependency to it in\nservice_drivers.bagpipe.bagpipe and in test_bagpipe.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n[2]: https://review.opendev.org/c/openstack/neutron/+/883081\n\nRelated-Bug: 2019097\nChange-Id: I5c3070cd385307a46a9cea39e37276d4d888bd1b\n'}, {'number': 9, 'created': '2023-06-08 08:03:48.000000000', 'files': ['requirements.txt', 'networking_bgpvpn/tests/unit/services/test_plugin.py', 'networking_bgpvpn/tests/unit/services/bagpipe/test_bagpipe.py', '.zuul.yaml', 'networking_bgpvpn/neutron/services/service_drivers/bagpipe/bagpipe.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/2f409077ff288b7384077b2a6f3d7f9d3e048811', 'message': 'Fix issues due to rcent RBAC changes\n\nneutron recently merged a commit enabling secure rbacs by default [1]\nbreaking several unit tests of networking-bgpvpn.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b2.\n[2] removed neutron.debug, remove the dependency to it in\nservice_drivers.bagpipe.bagpipe and in test_bagpipe.\n\nMake neutron-tempest-plugin-bgpvpn-bagpipe job temporaryly\nnon-voting, when this patch and the bagpipe one depending on\nthis one (see [3]) are merged we have to set the job back to\nvoting.\n\n[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n[2]: https://review.opendev.org/c/openstack/neutron/+/883081\n[3]: https://review.opendev.org/c/openstack/networking-bagpipe/+/883064\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/883838\nRelated-Bug: 2019097\nChange-Id: I5c3070cd385307a46a9cea39e37276d4d888bd1b\n'}]",17,883057,2f409077ff288b7384077b2a6f3d7f9d3e048811,50,4,9,8313,,,0,"Fix issues due to rcent RBAC changes

neutron recently merged a commit enabling secure rbacs by default [1]
breaking several unit tests of networking-bgpvpn.
This patch changes the necessary test calls to be admin and
requires neutron >= 23.0.0.0b2.
[2] removed neutron.debug, remove the dependency to it in
service_drivers.bagpipe.bagpipe and in test_bagpipe.

Make neutron-tempest-plugin-bgpvpn-bagpipe job temporaryly
non-voting, when this patch and the bagpipe one depending on
this one (see [3]) are merged we have to set the job back to
voting.

[1]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00
[2]: https://review.opendev.org/c/openstack/neutron/+/883081
[3]: https://review.opendev.org/c/openstack/networking-bagpipe/+/883064

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/883838
Related-Bug: 2019097
Change-Id: I5c3070cd385307a46a9cea39e37276d4d888bd1b
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/57/883057/7 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'networking_bgpvpn/tests/unit/services/test_plugin.py', 'networking_bgpvpn/tests/unit/services/bagpipe/test_bagpipe.py']",3,c2d1db1fb0c0cd4f58e9b6663fca00591df247fa,bug/2019097," {'bgpvpn': {'route_targets': ['64512:43']}}, as_admin=True) {'bgpvpn': {'route_targets': ['64512:43']}}, as_admin=True) bgpvpn['bgpvpn']['id'], as_admin=True) {'port_association': {'advertise_fixed_ips': False}}, as_admin=True) 'bgpvpn/bgpvpns', bgpvpn_data, as_admin=True) expected_code=webob.exc.HTTPBadRequest.code, as_admin=True) bgpvpn['bgpvpn']['id'], as_admin=True) subresource='network_associations', as_admin=True) update_data, as_admin=True) self._update('bgpvpn/bgpvpns', bgpvpn['bgpvpn']['id'], update_data, as_admin=True) self._delete('bgpvpn/bgpvpns', id, as_admin=True) self._delete('bgpvpn/bgpvpns', bgpvpn['bgpvpn']['id'], as_admin=True) **{portbindings.HOST_ID: helpers.HOST}, is_admin=True) as port: **{portbindings.HOST_ID: helpers.HOST}, is_admin=True) as port: **{portbindings.HOST_ID: helpers.HOST}, is_admin=True) as port: **{portbindings.HOST_ID: helpers.HOST}, is_admin=True) as port: **{portbindings.HOST_ID: helpers.HOST}, is_admin=True) as port: **{portbindings.HOST_ID: helpers.HOST}, is_admin=True) as port: **{portbindings.HOST_ID: helpers.HOST}, is_admin=True) as port: **{portbindings.HOST_ID: helpers.HOST}, is_admin=True) as port: **{portbindings.HOST_ID: helpers.HOST}, is_admin=True) as port: **{portbindings.HOST_ID: helpers.HOST}, is_admin=True) as port: **{portbindings.HOST_ID: helpers.HOST}, is_admin=True) as port: **{portbindings.HOST_ID: helpers.HOST}, is_admin=True) as port: **{portbindings.HOST_ID: helpers.HOST}, is_admin=True) as port: **{portbindings.HOST_ID: helpers.HOST}, is_admin=True) as port, \ self.port(subnet=subnet, is_admin=True) as port, \ **{portbindings.HOST_ID: helpers.HOST}, is_admin=True), \ **{portbindings.HOST_ID: helpers.HOST}, is_admin=True) as port, \"," {'bgpvpn': {'route_targets': ['64512:43']}}) {'bgpvpn': {'route_targets': ['64512:43']}}) bgpvpn['bgpvpn']['id']) {'port_association': {'advertise_fixed_ips': False}}) 'bgpvpn/bgpvpns', bgpvpn_data) expected_code=webob.exc.HTTPBadRequest.code) bgpvpn['bgpvpn']['id']) subresource='network_associations') update_data) self._update('bgpvpn/bgpvpns', bgpvpn['bgpvpn']['id'], update_data) self._delete('bgpvpn/bgpvpns', id) self._delete('bgpvpn/bgpvpns', bgpvpn['bgpvpn']['id']) **{portbindings.HOST_ID: helpers.HOST}) as port: **{portbindings.HOST_ID: helpers.HOST}) as port: **{portbindings.HOST_ID: helpers.HOST}) as port: **{portbindings.HOST_ID: helpers.HOST}) as port: **{portbindings.HOST_ID: helpers.HOST}) as port: **{portbindings.HOST_ID: helpers.HOST}) as port: **{portbindings.HOST_ID: helpers.HOST}) as port: **{portbindings.HOST_ID: helpers.HOST}) as port: **{portbindings.HOST_ID: helpers.HOST}) as port: **{portbindings.HOST_ID: helpers.HOST}) as port: **{portbindings.HOST_ID: helpers.HOST}) as port: **{portbindings.HOST_ID: helpers.HOST}) as port: **{portbindings.HOST_ID: helpers.HOST}) as port: **{portbindings.HOST_ID: helpers.HOST}) as port, \ self.port(subnet=subnet) as port, \ **{portbindings.HOST_ID: helpers.HOST}), \ **{portbindings.HOST_ID: helpers.HOST}) as port, \",153,73
openstack%2Fneutron~master~Idee31f2c4fed992ed63a51bfbb8d6e2ebb54cf5d,openstack/neutron,master,Idee31f2c4fed992ed63a51bfbb8d6e2ebb54cf5d,"Add new DEFAULT option named ""my_ip""",MERGED,2023-03-21 11:56:27.000000000,2023-06-08 12:54:40.000000000,2023-06-08 12:53:23.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5756}, {'_account_id': 5948}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 10237}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 27654}]","[{'number': 1, 'created': '2023-03-21 11:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a5ab9c738e4bb8edd5a248cdc75c52b69918783', 'message': 'Add new DEFAULT option named ""my_ip""\n\nAdd a new parameter in config named ""my_ip"".\nThe default value for my_ip will be the IPv4 of the interface used for default\ngateway.\n\nThis new option is not used for now in any neutron code, but may be used by\noperators to configure other options (like local_ip, ovsdb_connection, etc.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@gmail.com>\nChange-Id: Idee31f2c4fed992ed63a51bfbb8d6e2ebb54cf5d\n'}, {'number': 2, 'created': '2023-03-21 15:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/978e294069e50a70c3d73133cfa7ae57305e3068', 'message': 'Add new DEFAULT option named ""my_ip""\n\nAdd a new parameter in config named ""my_ip"".\nThe default value for my_ip will be the IPv4 of the interface used for default\ngateway.\n\nThis new option is not used for now in any neutron code, but may be used by\noperators to configure other options (like local_ip, ovsdb_connection, etc.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@gmail.com>\nChange-Id: Idee31f2c4fed992ed63a51bfbb8d6e2ebb54cf5d\n'}, {'number': 3, 'created': '2023-03-23 14:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8946136af0856e914ecdef1583c1cb25430a1b69', 'message': 'Add new DEFAULT option named ""my_ip""\n\nAdd a new parameter in config named ""my_ip"".\nThe default value for my_ip will be the IPv4 of the interface used for default\ngateway.\n\nThis new option is not used for now in any neutron code, but may be used by\noperators to configure other options (like local_ip, ovsdb_connection, etc.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@gmail.com>\nChange-Id: Idee31f2c4fed992ed63a51bfbb8d6e2ebb54cf5d\n'}, {'number': 4, 'created': '2023-03-23 14:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7cb238ee36a9ee86c869495239f075236977aab7', 'message': 'Add new DEFAULT option named ""my_ip""\n\nAdd a new parameter in config named ""my_ip"".\nThe default value for my_ip will be the IPv4 of the interface used for default\ngateway.\n\nThis new option is not used for now in any neutron code, but may be used by\noperators to configure other options (like local_ip, ovsdb_connection, etc.\n\nSigned-off-by: Arnaud Morin <arnaud.morin@gmail.com>\nChange-Id: Idee31f2c4fed992ed63a51bfbb8d6e2ebb54cf5d\n'}, {'number': 5, 'created': '2023-05-04 09:06:57.000000000', 'files': ['neutron/conf/common.py', 'releasenotes/notes/new-my-ip-config-b8efeb05dd50cfd6.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/adaba13bdb9da1f49dcdb1bb7dcfa7c04c556922', 'message': 'Add new DEFAULT option named ""my_ip""\n\nAdd a new parameter in config named ""my_ip"".\nThe default value for my_ip will be the IPv4 of the interface used for\ndefault gateway.\n\nThis new option is not used for now in any neutron code, but may be\nused by operators to configure other options (like local_ip,\novsdb_connection, etc.).\n\nSigned-off-by: Arnaud Morin <arnaud.morin@gmail.com>\nChange-Id: Idee31f2c4fed992ed63a51bfbb8d6e2ebb54cf5d\n'}]",33,878070,adaba13bdb9da1f49dcdb1bb7dcfa7c04c556922,39,19,5,11583,,,0,"Add new DEFAULT option named ""my_ip""

Add a new parameter in config named ""my_ip"".
The default value for my_ip will be the IPv4 of the interface used for
default gateway.

This new option is not used for now in any neutron code, but may be
used by operators to configure other options (like local_ip,
ovsdb_connection, etc.).

Signed-off-by: Arnaud Morin <arnaud.morin@gmail.com>
Change-Id: Idee31f2c4fed992ed63a51bfbb8d6e2ebb54cf5d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/878070/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/common.py', 'releasenotes/notes/new-my-ip-config-b8efeb05dd50cfd6.yaml']",2,8a5ab9c738e4bb8edd5a248cdc75c52b69918783,,--- other: - | Add a new config option in DEFAULT section named my_ip. This new config option will be set by default to the local IPv4 used by system to access external network (the one used for contacting default gateway). This new setting might be useful for operators that need to configure this IP in other part of config (like OVS/local_ip) without relying on any external templating system. This mechanism is already available in nova and has been transposed in neutron. ,,19,0
openstack%2Fvenus~master~I4c3b3b6925efa86d8d425dae5074cd12c531d394,openstack/venus,master,I4c3b3b6925efa86d8d425dae5074cd12c531d394,update migrate to alembic,MERGED,2023-06-08 07:52:35.000000000,2023-06-08 12:03:50.000000000,2023-06-08 10:57:02.000000000,"[{'_account_id': 22348}, {'_account_id': 27565}, {'_account_id': 30455}]","[{'number': 1, 'created': '2023-06-08 07:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/756d1c4deddd89a223cf0111f8766a2b250b60e0', 'message': 'update migrate to alembic\n\nChange-Id: I4c3b3b6925efa86d8d425dae5074cd12c531d394\n'}, {'number': 2, 'created': '2023-06-08 08:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/802ec80954336e5c9fc4f2c57bc957d51d0f1710', 'message': 'update migrate to alembic\n\nChange-Id: I4c3b3b6925efa86d8d425dae5074cd12c531d394\n'}, {'number': 3, 'created': '2023-06-08 08:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/13112066b955ad4aa122fa8e6505875bd6416913', 'message': 'update migrate to alembic\n\nChange-Id: I4c3b3b6925efa86d8d425dae5074cd12c531d394\n'}, {'number': 4, 'created': '2023-06-08 09:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/05a878dc1b9fca4ae318d3d4142a2cc5cde1ac20', 'message': 'update migrate to alembic\n\nChange-Id: I4c3b3b6925efa86d8d425dae5074cd12c531d394\n'}, {'number': 5, 'created': '2023-06-08 10:37:25.000000000', 'files': ['venus/cmd/manage.py', 'venus/db/alembic/versions/a6cf98f55b4d_.py', 'venus/db/alembic/script.py.mako', 'venus/db/alembic/env.py', 'venus/db/sqlalchemy/api.py', 'venus/db/base.py', 'venus/db/alembic/README', 'venus/db/api.py', 'requirements.txt', 'venus/db/alembic.ini', 'venus/db/migration.py', 'venus/modules/custom_config/backends/sql.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/10721f164a3ee7ddb5bf2ad9d5f1e41d7d7f0ab9', 'message': 'update migrate to alembic\n\nChange-Id: I4c3b3b6925efa86d8d425dae5074cd12c531d394\n'}]",25,885571,10721f164a3ee7ddb5bf2ad9d5f1e41d7d7f0ab9,16,3,5,30455,,,0,"update migrate to alembic

Change-Id: I4c3b3b6925efa86d8d425dae5074cd12c531d394
",git fetch https://review.opendev.org/openstack/venus refs/changes/71/885571/4 && git format-patch -1 --stdout FETCH_HEAD,"['venus/cmd/manage.py', 'venus/db/alembic/versions/a6cf98f55b4d_.py', 'venus/db/alembic/script.py.mako', 'venus/db/alembic/env.py', 'venus/db/sqlalchemy/api.py', 'venus/db/base.py', 'venus/db/alembic/README', 'venus/db/api.py', 'requirements.txt', 'venus/db/alembic.ini', 'venus/db/migration.py', 'venus/modules/custom_config/backends/sql.py']",12,756d1c4deddd89a223cf0111f8766a2b250b60e0,, from venus.db.api import get_session,from venus.db.sqlalchemy.api import get_session,430,224
openstack%2Fdesignate-specs~master~If9b6f2438a751db04440785988aad58459e467de,openstack/designate-specs,master,If9b6f2438a751db04440785988aad58459e467de,setup.cfg: Replace dashes with underscores,NEW,2023-06-06 02:23:31.000000000,2023-06-08 10:35:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 36073}]","[{'number': 1, 'created': '2023-06-06 02:23:31.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/designate-specs/commit/c8cd51e49765c2125e2b8795b948d5a71b98c2d0', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: If9b6f2438a751db04440785988aad58459e467de\n""}]",0,885216,c8cd51e49765c2125e2b8795b948d5a71b98c2d0,3,2,1,35058,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: If9b6f2438a751db04440785988aad58459e467de
",git fetch https://review.opendev.org/openstack/designate-specs refs/changes/16/885216/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c8cd51e49765c2125e2b8795b948d5a71b98c2d0,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://specs.openstack.org/openstack/designate-specs/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://specs.openstack.org/openstack/designate-specs/,3,3
openstack%2Freleases~master~I5b509cc05759699522cd613dc18e4514786af593,openstack/releases,master,I5b509cc05759699522cd613dc18e4514786af593,Release OpenStack-Ansible Zed,MERGED,2023-06-07 10:48:17.000000000,2023-06-08 09:57:52.000000000,2023-06-08 09:57:52.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-07 10:48:17.000000000', 'files': ['deliverables/zed/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0f6c570e2157e65367883f993fdfde78fcec977b', 'message': 'Release OpenStack-Ansible Zed\n\nChange-Id: I5b509cc05759699522cd613dc18e4514786af593\n'}]",1,885454,0f6c570e2157e65367883f993fdfde78fcec977b,8,3,1,28619,,,0,"Release OpenStack-Ansible Zed

Change-Id: I5b509cc05759699522cd613dc18e4514786af593
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/885454/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/openstack-ansible.yaml'],1,0f6c570e2157e65367883f993fdfde78fcec977b,release_osa, - projects: - hash: 5c4a616a365d9c9fcb3bc8dcc214f55a31210f91 repo: openstack/openstack-ansible version: 26.1.2,,4,0
openstack%2Fopenstack-ansible~master~I8ae0a256d9f6138f5764b2f69d1e767af538a429,openstack/openstack-ansible,master,I8ae0a256d9f6138f5764b2f69d1e767af538a429,Allow to run only specific tags from bootstrap-host role,MERGED,2023-06-04 14:42:55.000000000,2023-06-08 09:50:41.000000000,2023-06-08 09:49:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-06-04 14:42:55.000000000', 'files': ['tests/roles/bootstrap-host/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eb56baefed4b4474655e74d94fcbd1681901eb72', 'message': 'Allow to run only specific tags from bootstrap-host role\n\nBootstrap-host role has some tags defined but running only specific\nset of tags is not possible.\n\nIn this case, gather_nodepool_vars.yml should be always executed because\nit defines `nodepool_dir` variable that is later used by the\n`user_variables.aio.yml.j2` template.\n\nChange-Id: I8ae0a256d9f6138f5764b2f69d1e767af538a429\n'}]",2,885188,eb56baefed4b4474655e74d94fcbd1681901eb72,14,3,1,32666,,,0,"Allow to run only specific tags from bootstrap-host role

Bootstrap-host role has some tags defined but running only specific
set of tags is not possible.

In this case, gather_nodepool_vars.yml should be always executed because
it defines `nodepool_dir` variable that is later used by the
`user_variables.aio.yml.j2` template.

Change-Id: I8ae0a256d9f6138f5764b2f69d1e767af538a429
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/88/885188/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/main.yml'],1,eb56baefed4b4474655e74d94fcbd1681901eb72,tls-backend, tags: - always,,2,0
openstack%2Fptgbot~master~I2accbc0db25d2e2d0700aad27b4e31de7ba63628,openstack/ptgbot,master,I2accbc0db25d2e2d0700aad27b4e31de7ba63628,[scripts]  Add an example/helper script for adding realtime fields.,NEW,2023-06-07 14:47:57.000000000,2023-06-08 09:19:43.000000000,,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 14:47:57.000000000', 'files': ['scripts/add_realtime.py'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/28759ca12f4bb91e0a08c3994500a74692bafedc', 'message': '[scripts]  Add an example/helper script for adding realtime fields.\n\nChange-Id: I2accbc0db25d2e2d0700aad27b4e31de7ba63628\n'}]",0,885502,28759ca12f4bb91e0a08c3994500a74692bafedc,3,2,1,12898,,,0,"[scripts]  Add an example/helper script for adding realtime fields.

Change-Id: I2accbc0db25d2e2d0700aad27b4e31de7ba63628
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/02/885502/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/add_realtime.py'],1,28759ca12f4bb91e0a08c3994500a74692bafedc,feature/iCal,"#!/usr/bin/env python3 # Copyright 2023 Red Hat, Inc. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # This is a helper script, that adds realtime fields to a local JSON file. # It probably will need some customization for each run import argparse import json import sys from datetime import datetime, date, time, timedelta try: from pytz import ZoneInfo as timezone except Exception: from pytz import timezone UTC = timezone('UTC') parser = argparse.ArgumentParser() parser.add_argument('src_file', metavar='<ptg schedule JSON>') parser.add_argument('--tz', dest='dst_TZ', default='UTC') parser.add_argument('--event-date', dest='event_date', default='2023-06-10') args = parser.parse_args() with open(args.src_file) as f: db = json.load(f) dst_TZ = timezone(args.dst_TZ) (year, month, day) = args.event_date.split('-') event_date = date(int(year), int(month), int(day)) for day in db['slots']: print(day + "":"", file=sys.stderr) for slot in db['slots'][day]: idx = slot['desc'].index('-') (hours, mins) = slot['desc'][:idx].split(':') realtime = datetime.combine(event_date, time(int(hours), int(mins), 0, tzinfo=dst_TZ)) slot['realtime'] = realtime.astimezone(UTC).strftime(""%Y-%m-%dT%H:%MZ"") print(slot, file=sys.stderr) event_date += timedelta(days=1) print("""", file=sys.stderr) print(json.dumps(db), file=sys.stdout) ",,57,0
openstack%2Fptgbot~master~I88821858122c3f2370ad44a3d0b8eca1bdab14fc,openstack/ptgbot,master,I88821858122c3f2370ad44a3d0b8eca1bdab14fc,[docs]  Small fix for running http.server,NEW,2023-06-07 14:47:57.000000000,2023-06-08 09:19:09.000000000,,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 14:47:57.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/ee655d584940dd25bd7b41dc7b9d8b9509667fee', 'message': '[docs]  Small fix for running http.server\n\nChange-Id: I88821858122c3f2370ad44a3d0b8eca1bdab14fc\n'}]",0,885501,ee655d584940dd25bd7b41dc7b9d8b9509667fee,3,2,1,12898,,,0,"[docs]  Small fix for running http.server

Change-Id: I88821858122c3f2370ad44a3d0b8eca1bdab14fc
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/01/885501/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,ee655d584940dd25bd7b41dc7b9d8b9509667fee,feature/iCal, cd ptgbot/html && python -m http.server, cd html && python -m SimpleHTTPServer,1,1
openstack%2Fptgbot~master~Ib6946b974ebdce7ada55ed39d750e54a9e1e83d6,openstack/ptgbot,master,Ib6946b974ebdce7ada55ed39d750e54a9e1e83d6,Add stestr to .gitignore,NEW,2023-06-07 14:47:57.000000000,2023-06-08 09:17:29.000000000,,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 14:47:57.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/9585d97a80d0a9089145cac86af4fc2195f5e2c9', 'message': 'Add stestr to .gitignore\n\nChange-Id: Ib6946b974ebdce7ada55ed39d750e54a9e1e83d6\n'}]",0,885499,9585d97a80d0a9089145cac86af4fc2195f5e2c9,3,2,1,12898,,,0,"Add stestr to .gitignore

Change-Id: Ib6946b974ebdce7ada55ed39d750e54a9e1e83d6
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/99/885499/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,9585d97a80d0a9089145cac86af4fc2195f5e2c9,feature/iCal,.stestr,,1,0
openstack%2Fovn-bgp-agent~master~I6365f8c69a291f88e160e8724bd49b87ff2f4102,openstack/ovn-bgp-agent,master,I6365f8c69a291f88e160e8724bd49b87ff2f4102,[WIP] Catch all exceptions on the priviledged linux_net functions,ABANDONED,2023-06-07 08:22:13.000000000,2023-06-08 08:46:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-07 08:22:13.000000000', 'files': ['ovn_bgp_agent/privileged/linux_net.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/89d5eeadce6362823c9daa866425a2db4ac56ff5', 'message': '[WIP] Catch all exceptions on the priviledged linux_net functions\n\nChange-Id: I6365f8c69a291f88e160e8724bd49b87ff2f4102\n'}]",1,885432,89d5eeadce6362823c9daa866425a2db4ac56ff5,3,1,1,23567,,,0,"[WIP] Catch all exceptions on the priviledged linux_net functions

Change-Id: I6365f8c69a291f88e160e8724bd49b87ff2f4102
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/32/885432/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_bgp_agent/privileged/linux_net.py'],1,89d5eeadce6362823c9daa866425a2db4ac56ff5,,"from functools import wrapsdef catch_all_exceptions(func): @wraps(func) def wrapper(*args, **kwargs): try: return func(*args, **kwargs) except Exception as e: LOG.exception(""Unexpected Exception occurred when running the "", ""priviledged linux_net commands: %s"", str(e)) return wrapper @catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions@catch_all_exceptions",,36,0
openstack%2Ftripleo-upgrade~stable%2Fwallaby~If933d93e7a22619984a5c26796b8837e9581819d,openstack/tripleo-upgrade,stable/wallaby,If933d93e7a22619984a5c26796b8837e9581819d,"Revert ""[workload_launch] Update µversions for Train & Victoria""",ABANDONED,2023-02-22 16:41:11.000000000,2023-06-08 08:31:16.000000000,,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-02-22 16:41:11.000000000', 'files': ['templates/workload_launch.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/092fb6d0b9fa23c96196f9a9483ca207b5b41622', 'message': 'Revert ""[workload_launch] Update µversions for Train & Victoria""\n\nThis reverts commit 0033d47f4ab92e1c4bf5b995bb4255aa48b7fac7.\n\nReason for revert: tripleo-upgrade on wallaby has to work with train overcloud!\n\nChange-Id: If933d93e7a22619984a5c26796b8837e9581819d\n'}]",4,874747,092fb6d0b9fa23c96196f9a9483ca207b5b41622,9,4,1,11166,,,0,"Revert ""[workload_launch] Update µversions for Train & Victoria""

This reverts commit 0033d47f4ab92e1c4bf5b995bb4255aa48b7fac7.

Reason for revert: tripleo-upgrade on wallaby has to work with train overcloud!

Change-Id: If933d93e7a22619984a5c26796b8837e9581819d
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/47/874747/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/workload_launch.sh.j2'],1,092fb6d0b9fa23c96196f9a9483ca207b5b41622,tripleo-upgrade-microversions-stable/wallaby, # Pin the API's to Queens max versions export OS_COMPUTE_API_VERSION=2.60 export OS_SHARE_API_VERSION=2.42 export OS_VOLUME_API_VERSION=3 {% elif overcloud_upgrade | bool -%} export OS_VOLUME_API_VERSION=3, export OS_VOLUME_API_VERSION=3.59 {% elif overcloud_upgrade | bool -%} # Pin the API's to Victoria max versions export OS_COMPUTE_API_VERSION=2.87 export OS_SHARE_API_VERSION=2.57 export OS_VOLUME_API_VERSION=3.62,6,6
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I78f5c5b9b1042e4bb7f36a7216946058f76fc1bd,openstack/tripleo-heat-templates,stable/wallaby,I78f5c5b9b1042e4bb7f36a7216946058f76fc1bd,[ffwd3] Add WA for nic renaming,ABANDONED,2023-06-01 11:49:53.000000000,2023-06-08 08:29:41.000000000,,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-06-01 11:49:53.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47f5262b648a83ce69549e138044a142729321de', 'message': ""[ffwd3] Add WA for nic renaming\n\nWe add ability to specify prefixes of nics that\nchange their name during leapp upgrade. For example\nens1 changing to enf2. To prevent this user has to\nset NICsPrefixesToUdev to ['ens'] and we will create\nudev rule.\n\nChange-Id: I78f5c5b9b1042e4bb7f36a7216946058f76fc1bd\n""}]",0,885037,47f5262b648a83ce69549e138044a142729321de,3,4,1,11166,,,0,"[ffwd3] Add WA for nic renaming

We add ability to specify prefixes of nics that
change their name during leapp upgrade. For example
ens1 changing to enf2. To prevent this user has to
set NICsPrefixesToUdev to ['ens'] and we will create
udev rule.

Change-Id: I78f5c5b9b1042e4bb7f36a7216946058f76fc1bd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/885037/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,47f5262b648a83ce69549e138044a142729321de,," NICsPrefixesToUdev: default: [] description: | List of NIC prefixes to hardcode into udev in order to prevent renaming. Example: ['eno','ens','enp'] type: comma_delimited_list tags: - role_specific nics_prefixes_to_keep: NICsPrefixesToUdev NICsPrefixesToUdev: {get_param: NICsPrefixesToUdev} - name: WA to keep nics from renaming vars: nics_prefixes_to_keep: {get_attr: [RoleParametersValue, value, 'nics_prefixes_to_keep']} shell: | for prefix in {{nics_prefixes_to_keep}} do ip -j addr show | \ jq -r '.[] | select(.ifname | test(""^.*\\..*$"") | not) | ""SUBSYSTEM==\""net\"",ACTION==\""add\"",DRIVERS==\""?*\"","" + ""NAME=\"""" + .ifname +""\"" ,ATTR{address}==\"""" + .address + ""\""""' \ | grep ""NAME=\""$prefix"" > /etc/udev/rules.d/70-rhosp-persistent-net.rules done - name: Remove console on kernel parameters shell: | grubby --update-kernel=ALL --remove-args=console=ttyS0 grubby --update-kernel=ALL --remove-args=console=ttyS0,115200n81",,24,0
openstack%2Fcharm-cinder~stable%2Fussuri~Ia39177d6f47ddda0b1acb27cde02ae5e74a01032,openstack/charm-cinder,stable/ussuri,Ia39177d6f47ddda0b1acb27cde02ae5e74a01032,Add nova section for Ussuri,MERGED,2023-02-02 14:15:39.000000000,2023-06-08 08:15:13.000000000,2023-06-08 08:15:13.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 21107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-02 14:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/07aeafc68a69010c7d5ff8fa5ab6cae69786b229', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}, {'number': 2, 'created': '2023-02-17 21:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/cc6ccbcd09c2c11558487cd9ef979308e2b9bc79', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}, {'number': 3, 'created': '2023-05-15 20:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/3b4ecb299f71ba1b8580153862cff1831cd9efde', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}, {'number': 4, 'created': '2023-05-31 20:07:26.000000000', 'files': ['templates/ussuri/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/755a8c9b7b43e99ae5bda053aff73350d4277a42', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}]",5,872576,755a8c9b7b43e99ae5bda053aff73350d4277a42,25,5,4,17097,,,0,"Add nova section for Ussuri

Commit 024de37 added the nova section on cinder.conf, but placed it
on the Victoria folder. This issue is also observed on Ussuri, so
this patch moves this from Victoria to Ussuri.

Closes-Bug: #1939389
Change-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032
(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/76/872576/4 && git format-patch -1 --stdout FETCH_HEAD,['templates/ussuri/cinder.conf'],1,07aeafc68a69010c7d5ff8fa5ab6cae69786b229,,"############################################################################### # [ WARNING ] # cinder configuration file maintained by Juju # local changes may be overwritten. ############################################################################### [DEFAULT] rootwrap_config = /etc/cinder/rootwrap.conf api_paste_confg = /etc/cinder/api-paste.ini iscsi_helper = tgtadm verbose = {{ verbose }} debug = {{ debug }} use_syslog = {{ use_syslog }} auth_strategy = keystone state_path = /var/lib/cinder osapi_volume_workers = {{ workers }} {% if transport_url %} transport_url = {{ transport_url }} {% endif %} {% if use_internal_endpoints -%} swift_catalog_info = object-store:swift:internalURL keystone_catalog_info = identity:Identity Service:internalURL glance_catalog_info = image:glance:internalURL nova_catalog_info = compute:Compute Service:internalURL {% endif %} osapi_volume_listen = {{ bind_host }} {% if osapi_volume_listen_port -%} osapi_volume_listen_port = {{ osapi_volume_listen_port }} {% endif -%} {% if glance_api_servers -%} glance_api_servers = {{ glance_api_servers }} {% endif -%} {% if glance_api_version -%} glance_api_version = {{ glance_api_version }} {% endif -%} {% if region -%} os_region_name = {{ region }} {% endif -%} {% if user_config_flags -%} {% for key, value in user_config_flags.items() -%} {{ key }} = {{ value }} {% endfor -%} {% endif -%} volume_usage_audit_period = {{ volume_usage_audit_period }} {% if auth_host -%} cinder_internal_tenant_project_id = {{ admin_tenant_name }} cinder_internal_tenant_user_id = {{ admin_user }} {% endif -%} {% include ""parts/backends"" %} {% include ""section-keystone-authtoken-mitaka"" %} {% include ""parts/section-database"" %} {% include ""section-oslo-messaging-rabbit-ocata"" %} {% include ""section-oslo-notifications"" %} [oslo_concurrency] lock_path = /var/lock/cinder [keymgr] # XXX: hack to work around http://pad.lv/1516085 # will be superseded by SRU to cinder package encryption_auth_url = {{ service_protocol }}://{{ service_host }}:{{ service_port }}/v3 {% include ""section-oslo-middleware"" %} [nova] {% include ""parts/service-auth"" %} ",,79,0
openstack%2Fvenus~master~Id49aeaeebcc4a480ca085a59ac5f4f35ed31e64a,openstack/venus,master,Id49aeaeebcc4a480ca085a59ac5f4f35ed31e64a,add missing dependence of oslo_reports,ABANDONED,2023-02-21 16:25:43.000000000,2023-06-08 08:02:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-02-21 16:25:43.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/venus/commit/5035b262f346af82e6192486f26da023ed44bad4', 'message': 'add missing dependence of oslo_reports\n\nChange-Id: Id49aeaeebcc4a480ca085a59ac5f4f35ed31e64a\n'}]",0,874659,5035b262f346af82e6192486f26da023ed44bad4,3,1,1,30455,,,0,"add missing dependence of oslo_reports

Change-Id: Id49aeaeebcc4a480ca085a59ac5f4f35ed31e64a
",git fetch https://review.opendev.org/openstack/venus refs/changes/59/874659/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5035b262f346af82e6192486f26da023ed44bad4,,"oslo.reports==1.9.0 # Apache-2.0psutil>=1.1.1,<2.0.0 # BSD",psutil>=3.2.2 # BSD,2,1
openstack%2Fcharm-ceph-mon~stable%2Fquincy.2~I84824a9c3057b77ba41f1db1bfe0ee345cd08d8d,openstack/charm-ceph-mon,stable/quincy.2,I84824a9c3057b77ba41f1db1bfe0ee345cd08d8d,Fix persistent config file not update bug,ABANDONED,2023-04-27 06:55:57.000000000,2023-06-08 07:48:57.000000000,,"[{'_account_id': 15382}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2023-04-27 06:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/f43e3db5bcc58c96f95d954134c6258b0f6583ee', 'message': 'Fix persistent config file not update bug\n\nWhen ceph doing the version upgrade, it will check the previous ceph\nfrom the `source` config variable which store in persistent file.\nBut the persistent file update is broken. It is because we use hookenv.Config\nfrom ops framework, but the hookenv._run_atexit, which\nsave the change to file, is not been called.\n\nCloses-bug: #2007976\nChange-Id: I84824a9c3057b77ba41f1db1bfe0ee345cd08d8d\n'}, {'number': 2, 'created': '2023-04-27 07:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/b3d6e2c04cafa8e66618e9ae03ca98e1bde4261e', 'message': 'Fix persistent config file not update bug\n\nWhen ceph doing the version upgrade, it will check the previous ceph\nfrom the `source` config variable which store in persistent file.\nBut the persistent file update is broken. It is because we use hookenv.Config\nfrom ops framework, but the hookenv._run_atexit, which\nsave the change to file, is not been called.\n\nPartial-Bug: #2007976\nChange-Id: I84824a9c3057b77ba41f1db1bfe0ee345cd08d8d\n'}, {'number': 3, 'created': '2023-06-02 10:01:19.000000000', 'files': ['tests/tests.yaml', 'src/charm.py', 'unit_tests/test_charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/bdcca755808feb66c311159b22e5b1914175f2d4', 'message': 'Fix persistent config file not update bug\n\nWhen ceph doing the version upgrade, it will check the previous ceph\nfrom the `source` config variable which store in persistent file.\nBut the persistent file update is broken. It is because we use hookenv.Config\nfrom ops framework, but the hookenv._run_atexit, which\nsave the change to file, is not been called.\n\nPartial-Bug: #2007976\nChange-Id: I84824a9c3057b77ba41f1db1bfe0ee345cd08d8d\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1047\n'}]",9,881693,bdcca755808feb66c311159b22e5b1914175f2d4,14,6,3,34720,,,0,"Fix persistent config file not update bug

When ceph doing the version upgrade, it will check the previous ceph
from the `source` config variable which store in persistent file.
But the persistent file update is broken. It is because we use hookenv.Config
from ops framework, but the hookenv._run_atexit, which
save the change to file, is not been called.

Partial-Bug: #2007976
Change-Id: I84824a9c3057b77ba41f1db1bfe0ee345cd08d8d
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1047
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/93/881693/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/charm.py', 'unit_tests/test_charm.py']",2,f43e3db5bcc58c96f95d954134c6258b0f6583ee,bug/2007976," @patch(""charm.hooks"") def test_on_pre_commit(self, hooks): self.harness.charm.on.framework.on.pre_commit.emit() hooks.hookenv._run_atexit.assert_called()",,10,0
openstack%2Fpuppet-tripleo~stable%2Ftrain~I9db4c643afbc50eacc639509ddc10cc8692e7013,openstack/puppet-tripleo,stable/train,I9db4c643afbc50eacc639509ddc10cc8692e7013,Train-only: Use puppet-pacemaker stable/1.1.x in tests,NEW,2023-06-08 06:18:12.000000000,2023-06-08 07:07:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-08 06:18:12.000000000', 'files': ['Puppetfile_extras'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9b9be6da40d97ed68487ac654f819b9b71f85647', 'message': 'Train-only: Use puppet-pacemaker stable/1.1.x in tests\n\n... because master is being retired.\n\nChange-Id: I9db4c643afbc50eacc639509ddc10cc8692e7013\n'}]",0,885568,9b9be6da40d97ed68487ac654f819b9b71f85647,3,1,1,9816,,,0,"Train-only: Use puppet-pacemaker stable/1.1.x in tests

... because master is being retired.

Change-Id: I9db4c643afbc50eacc639509ddc10cc8692e7013
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/68/885568/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile_extras'],1,9b9be6da40d97ed68487ac654f819b9b71f85647,puppet-pacemaker-version, :ref => 'stable/1.1.x', :ref => 'master',1,1
openstack%2Fhorizon~master~I26be12a6dfc55ed3d655994500a7510f04877519,openstack/horizon,master,I26be12a6dfc55ed3d655994500a7510f04877519,venus-dashboard translate to chinese 2,ABANDONED,2023-06-08 06:36:29.000000000,2023-06-08 06:48:14.000000000,,[],"[{'number': 1, 'created': '2023-06-08 06:36:29.000000000', 'files': ['openstack_dashboard/locale/zh_Hans/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/2cc67239604fa53614abaf54364183f7e88adb8a', 'message': 'venus-dashboard translate to chinese 2\n\nChange-Id: I26be12a6dfc55ed3d655994500a7510f04877519\n'}]",0,885569,2cc67239604fa53614abaf54364183f7e88adb8a,2,0,1,29602,,,0,"venus-dashboard translate to chinese 2

Change-Id: I26be12a6dfc55ed3d655994500a7510f04877519
",git fetch https://review.opendev.org/openstack/horizon refs/changes/69/885569/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/locale/zh_Hans/LC_MESSAGES/django.po'],1,2cc67239604fa53614abaf54364183f7e88adb8a,,"msgid ""Configuration"" msgstr ""参数配置"" msgid ""log storage days"" msgstr ""日志数据的保存时长"" ",,6,0
openstack%2Fhorizon~master~I9e7aa32d76e43a89f3b65ad9c31acbccbfc7e529,openstack/horizon,master,I9e7aa32d76e43a89f3b65ad9c31acbccbfc7e529,WIP: Add TOTP support,ABANDONED,2023-05-24 12:22:55.000000000,2023-06-08 06:41:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-24 12:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6424c059cbf042f439451afd0f46b271bac80949', 'message': 'WIP: Add TOTP support\n\nDO NOT MERGE OR COMMENT, THIS IS A TEST.\n\nChange-Id: I9e7aa32d76e43a89f3b65ad9c31acbccbfc7e529\n'}, {'number': 2, 'created': '2023-05-26 12:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/439d961e13982867b5487c8eb1d1584c03f6db98', 'message': 'WIP: Add TOTP support\n\nDO NOT MERGE OR COMMENT, THIS IS A TEST.\n\nChange-Id: I9e7aa32d76e43a89f3b65ad9c31acbccbfc7e529\n'}, {'number': 3, 'created': '2023-05-26 13:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2b607ba43f1498b11ca76d33338e4eee4b72160b', 'message': 'WIP: Add TOTP support\n\nDO NOT MERGE OR COMMENT, THIS IS A TEST.\n\nChange-Id: I9e7aa32d76e43a89f3b65ad9c31acbccbfc7e529\n'}, {'number': 4, 'created': '2023-05-26 13:52:12.000000000', 'files': ['openstack_auth/exceptions.py', 'openstack_auth/plugin/totp.py', 'openstack_auth/forms.py', 'openstack_auth/defaults.py', 'horizon/templates/auth/_totp_page.html', 'openstack_auth/plugin/base.py', 'openstack_auth/views.py', 'horizon/templates/auth/totp.html', 'horizon/templates/auth/_totp_form.html', 'openstack_auth/urls.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5e8605fc220ef9fa42f934c7a3587bdc4af74d43', 'message': 'WIP: Add TOTP support\n\nDO NOT MERGE OR COMMENT, THIS IS A TEST.\n\nChange-Id: I9e7aa32d76e43a89f3b65ad9c31acbccbfc7e529\n'}]",29,884184,5e8605fc220ef9fa42f934c7a3587bdc4af74d43,13,1,4,6476,,,0,"WIP: Add TOTP support

DO NOT MERGE OR COMMENT, THIS IS A TEST.

Change-Id: I9e7aa32d76e43a89f3b65ad9c31acbccbfc7e529
",git fetch https://review.opendev.org/openstack/horizon refs/changes/84/884184/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_auth/exceptions.py', 'openstack_auth/forms.py', 'openstack_auth/plugin/totp.py', 'openstack_auth/defaults.py', 'horizon/templates/auth/_totp_page.html', 'openstack_auth/plugin/base.py', 'openstack_auth/views.py', 'horizon/templates/auth/totp.html', 'horizon/templates/auth/_totp_form.html', 'openstack_auth/urls.py']",10,6424c059cbf042f439451afd0f46b271bac80949,,"if settings.OPENSTACK_KEYSTONE_MFA_TOTP_ENABLED: urlpatterns.append( re_path(r'^totp/(?P<user_name>[^/]+)/$', views.TotpView.as_view(), name='totp') ) ",,258,3
openstack%2Fhorizon~master~I85aba73c67526f04a099c2e5524df00ebfdc48c8,openstack/horizon,master,I85aba73c67526f04a099c2e5524df00ebfdc48c8,Add totp to openstack_auth,ABANDONED,2023-05-15 09:02:41.000000000,2023-06-08 06:40:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-15 09:02:41.000000000', 'files': ['openstack_auth/exceptions.py', 'openstack_auth/forms.py', 'openstack_auth/plugin/mfa_password_totp.py', 'openstack_auth/plugin/base.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/314f69b936bec76554329aa1a595a87e806237e2', 'message': 'Add totp to openstack_auth\n\nChange-Id: I85aba73c67526f04a099c2e5524df00ebfdc48c8\n'}]",24,883146,314f69b936bec76554329aa1a595a87e806237e2,4,1,1,36012,,,0,"Add totp to openstack_auth

Change-Id: I85aba73c67526f04a099c2e5524df00ebfdc48c8
",git fetch https://review.opendev.org/openstack/horizon refs/changes/46/883146/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_auth/exceptions.py', 'openstack_auth/forms.py', 'openstack_auth/plugin/mfa_password_totp.py', 'openstack_auth/plugin/base.py']",4,314f69b936bec76554329aa1a595a87e806237e2,," keystone_exceptions.AuthorizationFailure, keystone_exceptions.MissingAuthMethods) as exc: LOG.info('Missing auth methods:'+str(exc.required_auth_methods)) for required in exc.required_auth_methods: if len(required) == 2 and 'totp' in required and 'password' in required: LOG.info(str(required)) msg = _(""Authentication via TOTP is required. "") LOG.debug(str(exc)) raise exceptions.KeystoneToptRequired(msg) msg = _(""An error occurred authenticating. "" ""Please try again later."") LOG.debug(str(exc)) raise exceptions.KeystoneAuthException(msg) except (keystone_exceptions.ClientException, keystone_exceptions.AuthorizationFailure) as exc: LOG.info(str(exc))", keystone_exceptions.AuthorizationFailure) as exc:,86,6
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I475fb147e939e6dba9959e4962f6db27e9019e23,openstack/puppet-tripleo,stable/wallaby,I475fb147e939e6dba9959e4962f6db27e9019e23,Wallaby-only: Use puppet-pacemaker stable/1.5.x in tests,NEW,2023-06-08 06:16:45.000000000,2023-06-08 06:39:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-08 06:16:45.000000000', 'files': ['Puppetfile_extras'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a5b973398e4bf5e0975cea17b709de1c2abb3f4b', 'message': 'Wallaby-only: Use puppet-pacemaker stable/1.5.x in tests\n\n... because master is being retired.\n\nChange-Id: I475fb147e939e6dba9959e4962f6db27e9019e23\n'}]",0,885567,a5b973398e4bf5e0975cea17b709de1c2abb3f4b,3,1,1,9816,,,0,"Wallaby-only: Use puppet-pacemaker stable/1.5.x in tests

... because master is being retired.

Change-Id: I475fb147e939e6dba9959e4962f6db27e9019e23
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/67/885567/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile_extras'],1,a5b973398e4bf5e0975cea17b709de1c2abb3f4b,puppet-pacemaker-version, :ref => 'stable/1.5.x', :ref => 'master',1,1
openstack%2Fopenstack-ansible~stable%2Fyoga~I157a783e3ef84265333ba9b99cbeb36733682b18,openstack/openstack-ansible,stable/yoga,I157a783e3ef84265333ba9b99cbeb36733682b18,[WIP] Add support for 'tls-transition' scenario,ABANDONED,2023-06-04 15:51:45.000000000,2023-06-08 05:17:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-04 15:51:45.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'tests/roles/bootstrap-host/templates/user_variables_tls-transition.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d2b66ab88d629f212f69765635bedd0b0e99584c', 'message': ""[WIP] Add support for 'tls-transition' scenario\n\nScenario 'tls-transition' should deploy source release with TLS fully\ndisabled. That is the reason why this patch needs to be merged to stable\nreleases.\n\nChange-Id: I157a783e3ef84265333ba9b99cbeb36733682b18\n""}]",1,885195,d2b66ab88d629f212f69765635bedd0b0e99584c,5,1,1,32666,,,0,"[WIP] Add support for 'tls-transition' scenario

Scenario 'tls-transition' should deploy source release with TLS fully
disabled. That is the reason why this patch needs to be merged to stable
releases.

Change-Id: I157a783e3ef84265333ba9b99cbeb36733682b18
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/95/885195/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'tests/roles/bootstrap-host/templates/user_variables_tls-transition.yml.j2']",2,d2b66ab88d629f212f69765635bedd0b0e99584c,tls-backend,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # Make sure that source release has TLS fully disabled. openstack_service_public_proto: http openstack_service_adminuri_proto: http openstack_service_internaluri_proto: http haproxy_ssl: False haproxy_ssl_all_vips: False rabbitmq_management_ssl: False openstack_service_backend_ssl: False openstack_service_accept_both_protocols: False ",,24,0
openstack%2Ftempest~master~Ie95362efa9ea295ab13903945fa5f7e573c69ecd,openstack/tempest,master,Ie95362efa9ea295ab13903945fa5f7e573c69ecd,Improve error msg of wait_for_server_status waiter,MERGED,2023-05-24 15:02:33.000000000,2023-06-08 04:29:55.000000000,2023-06-08 04:28:20.000000000,"[{'_account_id': 8556}, {'_account_id': 16207}, {'_account_id': 22348}, {'_account_id': 30674}]","[{'number': 1, 'created': '2023-05-24 15:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ff28cf445d3d22cf493c691ca71be486953b72a7', 'message': 'Improve error msg of wait_for_server_status waiter\n\nPreviously the error message in case of a timeout was specific\nto server boot operation, however, the waiter is used in other\ntests, such as resize and unshelve.\nThe commit modifies the message to be more general.\n\nChange-Id: Ie95362efa9ea295ab13903945fa5f7e573c69ecd\n'}, {'number': 2, 'created': '2023-05-26 05:44:29.000000000', 'files': ['tempest/common/waiters.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3f844b250d78125bf002a84614859f7991f6e37c', 'message': 'Improve error msg of wait_for_server_status waiter\n\nPreviously the error message in case of a timeout was specific\nto server boot operation, however, the waiter is used in other\ntests, such as resize and unshelve.\nThe commit modifies the message to be more general.\n\nChange-Id: Ie95362efa9ea295ab13903945fa5f7e573c69ecd\n'}]",5,884231,3f844b250d78125bf002a84614859f7991f6e37c,16,4,2,22873,,,0,"Improve error msg of wait_for_server_status waiter

Previously the error message in case of a timeout was specific
to server boot operation, however, the waiter is used in other
tests, such as resize and unshelve.
The commit modifies the message to be more general.

Change-Id: Ie95362efa9ea295ab13903945fa5f7e573c69ecd
",git fetch https://review.opendev.org/openstack/tempest refs/changes/31/884231/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/common/waiters.py'],1,ff28cf445d3d22cf493c691ca71be486953b72a7,bug/2016967, message += ' Request ID of server operation performed before' message += ' checking the server status %s.' % request_id, message += ' Server boot request ID: %s.' % request_id,2,1
openstack%2Fglance-specs~master~I635b19a1356fb685c3c814a12707592034ee0ffc,openstack/glance-specs,master,I635b19a1356fb685c3c814a12707592034ee0ffc,Update new location APIs spec,MERGED,2023-05-18 11:51:34.000000000,2023-06-08 04:14:24.000000000,2023-06-08 04:13:22.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-05-18 11:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/de5d4a80d3432eeea58b524420b4f48d07167431', 'message': 'Update new location APIs spec\n\nThe update is based on the review comments[1] on the implementation\npatch and IRC discussion[2].\n\n[1] https://review.opendev.org/c/openstack/glance/+/881940/14/glance/api/v2/images.py#1196\n[2] https://meetings.opendev.org/irclogs/%23openstack-glance/%23openstack-glance.2023-05-17.log.html#t2023-05-17T17:00:16\n\nChange-Id: I635b19a1356fb685c3c814a12707592034ee0ffc\n'}, {'number': 2, 'created': '2023-05-19 11:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/40dac0d6246719500bb6aeef0b8ab19bf642ab96', 'message': 'Update new location APIs spec\n\nThe update is based on the review comments[1] on the implementation\npatch and IRC discussion[2].\n\n[1] https://review.opendev.org/c/openstack/glance/+/881940/14/glance/api/v2/images.py#1196\n[2] https://meetings.opendev.org/irclogs/%23openstack-glance/%23openstack-glance.2023-05-17.log.html#t2023-05-17T17:00:16\n\nChange-Id: I635b19a1356fb685c3c814a12707592034ee0ffc\n'}, {'number': 3, 'created': '2023-05-22 19:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/335dd0c61600aa83e8b2f5f21c92d569e1f05b33', 'message': 'Update new location APIs spec\n\nThe update is based on the review comments[1] on the implementation\npatch and IRC discussion[2].\n\n[1] https://review.opendev.org/c/openstack/glance/+/881940/14/glance/api/v2/images.py#1196\n[2] https://meetings.opendev.org/irclogs/%23openstack-glance/%23openstack-glance.2023-05-17.log.html#t2023-05-17T17:00:16\n\nChange-Id: I635b19a1356fb685c3c814a12707592034ee0ffc\n'}, {'number': 4, 'created': '2023-05-24 09:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/dd10beb321a0b9638b052dc7154db49b38f6f3d2', 'message': 'Update new location APIs spec\n\nThe update is based on the review comments[1] on the implementation\npatch and IRC discussion[2].\n\n[1] https://review.opendev.org/c/openstack/glance/+/881940/14/glance/api/v2/images.py#1196\n[2] https://meetings.opendev.org/irclogs/%23openstack-glance/%23openstack-glance.2023-05-17.log.html#t2023-05-17T17:00:16\n\nChange-Id: I635b19a1356fb685c3c814a12707592034ee0ffc\n'}, {'number': 5, 'created': '2023-05-31 10:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/bd64e855754925e2770497a390e8adca02dd124c', 'message': 'Update new location APIs spec\n\nThe update is based on the review comments[1] on the implementation\npatch and IRC discussion[2].\n\n[1] https://review.opendev.org/c/openstack/glance/+/881940/14/glance/api/v2/images.py#1196\n[2] https://meetings.opendev.org/irclogs/%23openstack-glance/%23openstack-glance.2023-05-17.log.html#t2023-05-17T17:00:16\n\nChange-Id: I635b19a1356fb685c3c814a12707592034ee0ffc\n'}, {'number': 6, 'created': '2023-06-07 10:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/719974203d0d13c3cf751053c46a8dc80f82f497', 'message': 'Update new location APIs spec\n\nThe update is based on the review comments[1] on the implementation\npatch and IRC discussion[2].\n\n[1] https://review.opendev.org/c/openstack/glance/+/881940/14/glance/api/v2/images.py#1196\n[2] https://meetings.opendev.org/irclogs/%23openstack-glance/%23openstack-glance.2023-05-17.log.html#t2023-05-17T17:00:16\n\nChange-Id: I635b19a1356fb685c3c814a12707592034ee0ffc\n'}, {'number': 7, 'created': '2023-06-07 14:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/5271451927b60b5e293551891bbaf86709b5331d', 'message': 'Update new location APIs spec\n\nThe update is based on the review comments[1] on the implementation\npatch and IRC discussion[2].\n\n[1] https://review.opendev.org/c/openstack/glance/+/881940/14/glance/api/v2/images.py#1196\n[2] https://meetings.opendev.org/irclogs/%23openstack-glance/%23openstack-glance.2023-05-17.log.html#t2023-05-17T17:00:16\n\nChange-Id: I635b19a1356fb685c3c814a12707592034ee0ffc\n'}, {'number': 8, 'created': '2023-06-07 14:54:28.000000000', 'files': ['specs/2023.2/approved/glance/new-location-info-apis.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/a5bcf0c19af59869d6b027edacd94e977ba39a46', 'message': 'Update new location APIs spec\n\nThe update is based on the review comments[1] on the implementation\npatch and IRC discussion[2].\n\n[1] https://review.opendev.org/c/openstack/glance/+/881940/14/glance/api/v2/images.py#1196\n[2] https://meetings.opendev.org/irclogs/%23openstack-glance/%23openstack-glance.2023-05-17.log.html#t2023-05-17T17:00:16\n\nChange-Id: I635b19a1356fb685c3c814a12707592034ee0ffc\n'}]",48,883491,a5bcf0c19af59869d6b027edacd94e977ba39a46,55,6,8,27615,,,0,"Update new location APIs spec

The update is based on the review comments[1] on the implementation
patch and IRC discussion[2].

[1] https://review.opendev.org/c/openstack/glance/+/881940/14/glance/api/v2/images.py#1196
[2] https://meetings.opendev.org/irclogs/%23openstack-glance/%23openstack-glance.2023-05-17.log.html#t2023-05-17T17:00:16

Change-Id: I635b19a1356fb685c3c814a12707592034ee0ffc
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/91/883491/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.2/approved/glance/new-location-info-apis.rst'],1,de5d4a80d3432eeea58b524420b4f48d07167431,883491,"1. The ``add policy`` can default to the ``project member`` or ``service`` role (when it is implemented).We will also introduce a new configuration parameter ``do_secure_hash`` on the glance side which will tell the API if we want to do the hash calculation or not. This will be useful in cases when nova, cinder etc, adds a location in glance since glance does not calculate the hash and checksum automatically in these cases. The value of ``do_secure_hash`` will be ``True`` by default. After nova or cinder send a request for adding a location for the VM snapshot or upload volume case respectively and ``do_secure_hash`` is ``True``, glance will start a background process that will calculate the hash of the image. Unless we have ``validation_data`` (in the request body) to be verified, image will be set to ``active`` state after registering the location even if the hash calculation is ongoing in the background. This is done so that the image can be used to create instances and bootable volumes instantly after we've registered the location and not wait for the hash calculation since it is a long running task. After the hash calculation completes, image properties will be updated with the ``checksum``, ``os_hash_algo`` and ``os_hash_value`` values. If the hash calculation fails, we will add a retry mechanism that will reinitiate the task. If after all the retries, the hash calculation still fails, we will not update the hash and checksum values and image will stay in ``active`` state. its default policy be project member (image owner) or service. The request body will contain the location URL and ``validation_data`` [4]_ (optional). The purpose of including validation_data in the request body is for th HTTP store case when we would like to add the user provided hash and checksum values to the HTTP image. The request parameter ``validation data`` will behave in the following manner with the ``do_secure_hash`` config option:users to add the location ``url`` and ``validation-data`` for HTTP store case. * ``glance add-location-properties --url <location> --validation-data <checksum=value1, os_hash_algo=value2, os_hash_value=value3>`` * ``openstack add-location-properties --url <location> --validation-data <checksum=value1, os_hash_algo=value2, os_hash_value=value3>``and the ``do_secure_hash`` config parameter is ``True`` (default), glance will read the image and calculate the hash in the background. The hash calculation will be a long running task so it will consume resources, however, this won't affect the operation requested by nova or cinder as the image will transition to ``active`` state even when the hash calculation is ongoing. with documentation and releasenotes. Since ``do_secure_hash`` will be a configurable parameter on glance side, we will add suitable help text to convey the performance and security impact of enabling/disabling this option.* Add a new configuration parameter ``do_secure_hash`` in glance and document it's impact. ","1. The ``add policy`` can default to the project member or ``service`` role (when it is implemented). its default policy be image owner or service. The request body will contain the location URL and an optional parameter, ``do_secure_hash``, which will tell the API if we want to do the checksum or not. The consumer APIs like nova, cinder, HTTP store etc, should pass the ``do_secure_hash`` flag since glance does not calculate the checksum automatically in these cases. We will also allow passing ``validation data`` [4]_ which will behave in the following manner with the ``do_secure_hash`` parameter: ""do_secure_hash"": false,users to add the location ``url`` and ``metadata`` for HTTP store case. * ``glance add-location-properties --url <location> --metadata <key1=value1, key2=value2 ...>`` * ``openstack add-location-properties --url <location> --metadata <key1=value1, key2=value2 ...>``providing the ``do_secure_hash`` parameter in the new location ADD API, glance will read the image and calculate the hash which will take significantly more time compared to the same operation being performed in the old location ADD API.with documentation and releasenotes. Also if we plan to make the value of ``do_secure_hash`` configurable on the consumer side, we will add suitable help text to convey the performance and security impact of enabling/disabling this option. ",51,25
openstack%2Fpython-saharaclient~master~I187c74ce0b866bc632db355e1e82e9f917b04845,openstack/python-saharaclient,master,I187c74ce0b866bc632db355e1e82e9f917b04845,Update various links in the documentation,MERGED,2023-06-08 00:46:29.000000000,2023-06-08 00:54:02.000000000,2023-06-08 00:54:02.000000000,"[{'_account_id': 22348}, {'_account_id': 29423}]","[{'number': 1, 'created': '2023-06-08 00:46:29.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/131659acebb76c6c3f44a2cb66154d6ed55b8edc', 'message': 'Update various links in the documentation\n\nChange-Id: I187c74ce0b866bc632db355e1e82e9f917b04845\n'}]",0,885438,131659acebb76c6c3f44a2cb66154d6ed55b8edc,7,2,1,29423,,,0,"Update various links in the documentation

Change-Id: I187c74ce0b866bc632db355e1e82e9f917b04845
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/38/885438/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,131659acebb76c6c3f44a2cb66154d6ed55b8edc,,.. _Blueprints: https://specs.openstack.org/openstack/sahara-specs/,.. _Blueprints: http://specs.openstack.org/openstack/sahara-specs/,1,1
openstack%2Fpython-saharaclient~master~I55848cda54231c2a57725a19616d5e4d88365c98,openstack/python-saharaclient,master,I55848cda54231c2a57725a19616d5e4d88365c98,Update various links in the documentation,ABANDONED,2023-06-08 00:34:36.000000000,2023-06-08 00:40:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 29423}]","[{'number': 1, 'created': '2023-06-08 00:34:36.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/048ffcb7fd5bfb2e00457a5b48642c34d574c58a', 'message': 'Update various links in the documentation\n\nChange-Id: I55848cda54231c2a57725a19616d5e4d88365c98\n'}]",0,885437,048ffcb7fd5bfb2e00457a5b48642c34d574c58a,8,2,1,29423,,,0,"Update various links in the documentation

Change-Id: I55848cda54231c2a57725a19616d5e4d88365c98
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/37/885437/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,048ffcb7fd5bfb2e00457a5b48642c34d574c58a,,.. _Blueprints: https://specs.openstack.org/openstack/sahara-specs/,.. _Blueprints: http://specs.openstack.org/openstack/sahara-specs/,1,1
openstack%2Ftempest~master~If3ffd9a731fa238827dd35becb8c65962bad6474,openstack/tempest,master,If3ffd9a731fa238827dd35becb8c65962bad6474,Test volume creation encryption parameters are invalid,ABANDONED,2022-06-27 04:13:23.000000000,2023-06-07 23:48:36.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-27 04:13:23.000000000', 'files': ['tempest/api/volume/admin/test_volume_types_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/474dbc89023c5a08683b4301d72d0f96a598dccc', 'message': 'Test volume creation encryption parameters are invalid\n\nTest volume creation encryption ke_size parameters is illegal\n\nChange-Id: If3ffd9a731fa238827dd35becb8c65962bad6474\n'}]",2,846988,474dbc89023c5a08683b4301d72d0f96a598dccc,5,3,1,30409,,,0,"Test volume creation encryption parameters are invalid

Test volume creation encryption ke_size parameters is illegal

Change-Id: If3ffd9a731fa238827dd35becb8c65962bad6474
",git fetch https://review.opendev.org/openstack/tempest refs/changes/88/846988/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_types_negative.py'],1,474dbc89023c5a08683b4301d72d0f96a598dccc,master8," @decorators.idempotent_id('f0277f90-7606-4284-9f8a-4750596e6ef5') def test_create_volume_type_encryption_nonexistent_key_size(self): """"""Test volume creation encryption parameters are invalid"""""" volume_type_id = self.create_volume_type()['id'] create_kwargs = { 'type_id': volume_type_id, 'provider': 'LuksEncryptor', 'key_size': 'size', 'cipher': 'aes-xts-plain64', 'control_location': 'front-end' } self.assertRaises( lib_exc.BadRequest, self.create_encryption_type, **create_kwargs) @decorators.attr(type=['negative'])",,16,0
openstack%2Ftempest~master~I43982d5606326ebff16e1f2034a2062cac63c475,openstack/tempest,master,I43982d5606326ebff16e1f2034a2062cac63c475,Test create encryption with wrong cipher will fail,ABANDONED,2022-07-01 00:40:06.000000000,2023-06-07 23:48:32.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-01 00:40:06.000000000', 'files': ['tempest/api/volume/admin/test_volume_types_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/98ccc1ba1f8844a3c3c091c8a19174d1f86a4c52', 'message': 'Test create encryption with wrong cipher will fail\n\nTest create encryption with wrong cipher\n\nChange-Id: I43982d5606326ebff16e1f2034a2062cac63c475\n'}]",2,847748,98ccc1ba1f8844a3c3c091c8a19174d1f86a4c52,5,3,1,30409,,,0,"Test create encryption with wrong cipher will fail

Test create encryption with wrong cipher

Change-Id: I43982d5606326ebff16e1f2034a2062cac63c475
",git fetch https://review.opendev.org/openstack/tempest refs/changes/48/847748/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_types_negative.py'],1,98ccc1ba1f8844a3c3c091c8a19174d1f86a4c52,master10," @decorators.idempotent_id('8e7ebfb1-8429-4417-8312-5af1d07bcb7b') def test_create_volume_type_encryption_error_cipher(self): """"""Test create encryption with wrong cipher will fail"""""" volume_type_id = self.create_volume_type()['id'] create_kwargs = { 'type_id': volume_type_id, 'provider': 'LuksEncryptor', 'key_size': 256, 'cipher': data_utils.rand_uuid_hex(), 'control_location': 'front-end' } self.assertRaises( lib_exc.BadRequest, self.create_encryption_type, **create_kwargs) @decorators.attr(type=['negative'])",,16,0
openstack%2Ftempest~master~Id80bd7cb2836b73348912c9de66916fbf799aca5,openstack/tempest,master,Id80bd7cb2836b73348912c9de66916fbf799aca5,Delete member with invalid image,ABANDONED,2022-07-08 09:40:37.000000000,2023-06-07 23:48:28.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-08 09:40:37.000000000', 'files': ['tempest/api/image/v1/test_image_members_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/27f37a7a677538d542418ea3715cefcebd0a1801', 'message': 'Delete member with invalid image\n\nDelete member with invalid image\n\nChange-Id: Id80bd7cb2836b73348912c9de66916fbf799aca5\n'}]",1,849013,27f37a7a677538d542418ea3715cefcebd0a1801,4,2,1,30409,,,0,"Delete member with invalid image

Delete member with invalid image

Change-Id: Id80bd7cb2836b73348912c9de66916fbf799aca5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/13/849013/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/v1/test_image_members_negative.py'],1,27f37a7a677538d542418ea3715cefcebd0a1801,master13," @decorators.attr(type=['negative']) @decorators.idempotent_id('de7213c4-253e-4554-ac46-35b3f6f1eb8c') def test_delete_member_invalid_image(self): """"""Delete member with invalid image"""""" invalid_image = data_utils.rand_uuid() self.assertRaises(lib_exc.BadRequest, self.image_member_client.delete_image_member, invalid_image, self.alt_tenant_id)",,9,0
openstack%2Ftempest~master~I830f36c3d68ca08dbe13bb8d97d1bc50491ee15f,openstack/tempest,master,I830f36c3d68ca08dbe13bb8d97d1bc50491ee15f,Test creation with invalid control_location will fail,ABANDONED,2022-06-27 07:05:59.000000000,2023-06-07 23:48:24.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-27 07:05:59.000000000', 'files': ['tempest/api/volume/admin/test_volume_types_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/385f9d6a44a7d4fda436e3d1a71c6c086f0aa5dc', 'message': 'Test creation with invalid control_location will fail\n\ntest ceration volume type with no specified  control_location\n\nChange-Id: I830f36c3d68ca08dbe13bb8d97d1bc50491ee15f\n'}]",1,846989,385f9d6a44a7d4fda436e3d1a71c6c086f0aa5dc,5,3,1,30409,,,0,"Test creation with invalid control_location will fail

test ceration volume type with no specified  control_location

Change-Id: I830f36c3d68ca08dbe13bb8d97d1bc50491ee15f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/89/846989/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_types_negative.py'],1,385f9d6a44a7d4fda436e3d1a71c6c086f0aa5dc,master9," @decorators.idempotent_id('c1edf38d-6729-4651-9990-1ca5bad735b1') def test_create_volume_type_encryption_illegal_control_location(self): """"""Test creation with invalid control_location will fail"""""" volume_type_id = self.create_volume_type()['id'] create_kwargs = { 'type_id': volume_type_id, 'provider': 'LuksEncryptor', 'key_size': 256, 'cipher': 'aes-xts-plain64', 'control_location': data_utils.rand_uuid() } self.assertRaises( lib_exc.BadRequest, self.create_encryption_type, **create_kwargs) @decorators.attr(type=['negative'])",,16,0
openstack%2Ftempest~master~I718f77e9868344a5db28df1cdce796ce03201ae0,openstack/tempest,master,I718f77e9868344a5db28df1cdce796ce03201ae0,add image negative testcase,ABANDONED,2022-06-24 09:05:34.000000000,2023-06-07 23:48:18.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-24 09:05:34.000000000', 'files': ['tempest/api/image/v2/test_images_tags_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c35b9edb7534baa18b01acf0d80f2aedf41d2394', 'message': 'add image negative testcase\n\nadd image negative testcase  for image tags is empty and query non existing image\nfile\n\nChange-Id: I718f77e9868344a5db28df1cdce796ce03201ae0\n'}]",2,846985,c35b9edb7534baa18b01acf0d80f2aedf41d2394,5,3,1,30409,,,0,"add image negative testcase

add image negative testcase  for image tags is empty and query non existing image
file

Change-Id: I718f77e9868344a5db28df1cdce796ce03201ae0
",git fetch https://review.opendev.org/openstack/tempest refs/changes/85/846985/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/v2/test_images_tags_negative.py'],1,c35b9edb7534baa18b01acf0d80f2aedf41d2394,master6," @decorators.attr(type=['negative']) @decorators.idempotent_id('c228490e-cedd-4ceb-92f7-4d4960b4c513') def test_add_image_tag_for_empty(self): """"""Test adding image tags is empty"""""" image = self.create_image(container_format='bare', disk_format='raw', visibility='private') self.assertRaises(lib_exc.BadRequest, self.client.add_image_tag, image['id'], tag='') @decorators.attr(type=['negative']) @decorators.idempotent_id('c8787bdc-66ee-443e-bb13-77b233744f87') def test_show_image_file_not_existing(self): """"""Query non existing image file"""""" image = data_utils.rand_uuid() self.assertRaises(lib_exc.NotFound, self.client.show_image_file, image)",,18,0
openstack%2Ftempest~master~I0214df9b32e8773706d436aa252cf490aef5af44,openstack/tempest,master,I0214df9b32e8773706d436aa252cf490aef5af44,Test update volume type details with wrong volume name,ABANDONED,2022-06-17 02:15:58.000000000,2023-06-07 23:48:13.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 11075}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-06-17 02:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/91bf273cc0c123a1c140fc50a381d0438a0fcfcc', 'message': 'Test update volume type details with wrong volume name\n\nChange-Id: I0214df9b32e8773706d436aa252cf490aef5af44\n'}, {'number': 2, 'created': '2022-06-17 08:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5467ca9a4016e67b1b01a94e4c7951f6870ec4ac', 'message': 'Test update volume type details with wrong volume name\n\nUpdate volume type details with test with empty name\n\nChange-Id: I0214df9b32e8773706d436aa252cf490aef5af44\n'}, {'number': 3, 'created': '2022-06-17 10:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cf0482005e2cf426648664383bf1c9d1dd396c8f', 'message': 'Test update volume type details with wrong volume name\n\nUpdate volume type details with test with empty name\n\nChange-Id: I0214df9b32e8773706d436aa252cf490aef5af44\n'}, {'number': 4, 'created': '2022-06-20 06:00:17.000000000', 'files': ['tempest/api/volume/admin/test_volume_types_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b07c328599d398c5fda012cfef357db6c13f8ac7', 'message': 'Test update volume type details with wrong volume name\n\nUpdate volume type details with test with empty name\n\nChange-Id: I0214df9b32e8773706d436aa252cf490aef5af44\n'}]",5,846242,b07c328599d398c5fda012cfef357db6c13f8ac7,13,5,4,30409,,,0,"Test update volume type details with wrong volume name

Update volume type details with test with empty name

Change-Id: I0214df9b32e8773706d436aa252cf490aef5af44
",git fetch https://review.opendev.org/openstack/tempest refs/changes/42/846242/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_types_negative.py'],1,91bf273cc0c123a1c140fc50a381d0438a0fcfcc,master2," @decorators.attr(type=['negative']) @decorators.idempotent_id('64096188-8cc8-47d0-98bf-67d921e92ab3') def test_volume_type_update_error_name(self): """"""Test update volume type details with wrong volume name"""""" # Create volume type volume_type = self.create_volume_type() # New volume type details name = ' ' description = data_utils.rand_name(""volume-type-description"") is_public = not volume_type['is_public'] # Updating volume type details with wrong parameters kwargs = {'name': name, 'description': description, 'is_public': is_public} self.assertRaises( lib_exc.BadRequest, self.admin_volume_types_client.update_volume_type( volume_type['id'], **kwargs)['volume_type'])",,19,0
openstack%2Ftempest~master~I8f65b34f706e8cbf92a2ae3715dfb479dcd91814,openstack/tempest,master,I8f65b34f706e8cbf92a2ae3715dfb479dcd91814,Test update volume type details with wrong is_public,ABANDONED,2022-06-17 10:10:12.000000000,2023-06-07 23:48:07.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30742}]","[{'number': 1, 'created': '2022-06-17 10:10:12.000000000', 'files': ['tempest/api/volume/admin/test_volume_types_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0c55616869e83b4e6543996ffe2ddfec69be5106', 'message': 'Test update volume type details with wrong is_public\n\nTest update details with is_public not true and false values\n\nChange-Id: I8f65b34f706e8cbf92a2ae3715dfb479dcd91814\n'}]",3,846293,0c55616869e83b4e6543996ffe2ddfec69be5106,7,4,1,30409,,,0,"Test update volume type details with wrong is_public

Test update details with is_public not true and false values

Change-Id: I8f65b34f706e8cbf92a2ae3715dfb479dcd91814
",git fetch https://review.opendev.org/openstack/tempest refs/changes/93/846293/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_types_negative.py'],1,0c55616869e83b4e6543996ffe2ddfec69be5106,master3," @decorators.attr(type=['negative']) @decorators.idempotent_id('6c201b14-228b-4dd8-a91c-69dc04610af1') def test_volume_type_update_error_is_public(self): """"""Test update volume type details with wrong is_public"""""" # Create volume type volume_type = self.create_volume_type() # New volume type details name = data_utils.rand_name(""volume-type"") description = data_utils.rand_name(""volume-type-description"") is_public = data_utils.rand_name(""volume-type"") # Updating volume type details with wrong parameters kwargs = {'name': name, 'description': description, 'is_public': is_public} self.assertRaises( lib_exc.BadRequest, self.admin_volume_types_client.update_volume_type, volume_type['id'], **kwargs)",,19,0
openstack%2Ftempest~master~I309c37a512c0e03a11b04b09acc353219db7d2f1,openstack/tempest,master,I309c37a512c0e03a11b04b09acc353219db7d2f1,Test update volume's image metadata non existing image_id,ABANDONED,2022-07-26 08:14:22.000000000,2023-06-07 23:48:03.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-26 08:14:22.000000000', 'files': ['tempest/api/volume/test_image_metadata_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/306e0143d9e3103dd01a7aa3f14cd08bba683eda', 'message': ""Test update volume's image metadata non existing image_id\n\nTest update volume's image metadata non existing image_id\n\nChange-Id: I309c37a512c0e03a11b04b09acc353219db7d2f1\n""}]",1,850978,306e0143d9e3103dd01a7aa3f14cd08bba683eda,4,2,1,30409,,,0,"Test update volume's image metadata non existing image_id

Test update volume's image metadata non existing image_id

Change-Id: I309c37a512c0e03a11b04b09acc353219db7d2f1
",git fetch https://review.opendev.org/openstack/tempest refs/changes/78/850978/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_image_metadata_negative.py'],1,306e0143d9e3103dd01a7aa3f14cd08bba683eda,master15,"# Copyright 2016 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.api.volume import base from tempest.common import utils from tempest import config from tempest.lib import decorators from tempest.lib import exceptions as lib_exc from tempest.lib.common.utils import data_utils CONF = config.CONF class VolumesImageMetadataNegative(base.BaseVolumeTest): """"""Test volume image metadata"""""" @classmethod def skip_checks(cls): super(VolumesImageMetadataNegative, cls).skip_checks() if not CONF.service_available.glance: skip_msg = (""%s skipped as Glance is not available"" % cls.__name__) raise cls.skipException(skip_msg) @classmethod def resource_setup(cls): super(VolumesImageMetadataNegative, cls).resource_setup() # Create a volume from image ID cls.volume = cls.create_volume(imageRef=CONF.compute.image_ref) @decorators.idempotent_id('3739664e-498e-4ebe-ad1c-d2d73eec5bed') @utils.services('image') def test_update_volume_image_metadata_with_non_existing_image_id(self): """"""Test update volume's image metadata non existing image_id """""" # Update image metadata image_metadata = {'image_id': data_utils.rand_uuid(), 'image_name': 'image', 'kernel_id': '6ff710d2-942b-4d6b-9168-8c9cc2404ab1', 'ramdisk_id': 'somedisk'} self.volumes_client.update_volume_image_metadata(self.volume['id'], **image_metadata) self.assertRaises( lib_exc.NotFound, self.volumes_client.update_volume_image_metadata, self.volume['id'], **image_metadata) ",,56,0
openstack%2Ftempest~master~Ic3856e9e4bfd3a7c247bbecc524f41ac1d08c185,openstack/tempest,master,Ic3856e9e4bfd3a7c247bbecc524f41ac1d08c185,Add member with non existing member_id,ABANDONED,2022-07-26 07:33:13.000000000,2023-06-07 23:47:58.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-07-26 07:33:13.000000000', 'files': ['tempest/api/image/v1/test_image_members_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea6f32b27bd2f0a526421de4a888bdaebfd02501', 'message': 'Add member with non existing member_id\n\nAdd member with non existing member_id\n\nChange-Id: Ic3856e9e4bfd3a7c247bbecc524f41ac1d08c185\n'}]",2,850977,ea6f32b27bd2f0a526421de4a888bdaebfd02501,5,3,1,30409,,,0,"Add member with non existing member_id

Add member with non existing member_id

Change-Id: Ic3856e9e4bfd3a7c247bbecc524f41ac1d08c185
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/850977/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/v1/test_image_members_negative.py'],1,ea6f32b27bd2f0a526421de4a888bdaebfd02501,master14," @decorators.idempotent_id('deaaf501-3a56-4fbd-a584-7fdaeb1f6560') def test_add_member_with_non_existing_member_id(self): """"""Add member with non existing member_id"""""" image = self._create_image() non_exist_tenant = data_utils.rand_uuid_hex() self.assertRaises(lib_exc.NotFound, self.image_member_client.create_image_member, image, non_exist_tenant) @decorators.attr(type=['negative'])",,10,0
openstack%2Ftempest~master~I7cc5065cc0deb60d0518cf0bf7aed858136ea205,openstack/tempest,master,I7cc5065cc0deb60d0518cf0bf7aed858136ea205,Create image with non-existing x-image-meta-name,ABANDONED,2022-07-28 09:23:49.000000000,2023-06-07 23:47:48.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30742}]","[{'number': 1, 'created': '2022-07-28 09:23:49.000000000', 'files': ['tempest/api/image/v1/test_images_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9340bf861d1a1e50e2b3edd36bcd74f4f504f7f1', 'message': 'Create image with non-existing x-image-meta-name\n\nCreate image with non-existing x-imgae-meta-name\n\nChange-Id: I7cc5065cc0deb60d0518cf0bf7aed858136ea205\n'}]",2,851321,9340bf861d1a1e50e2b3edd36bcd74f4f504f7f1,5,3,1,30409,,,0,"Create image with non-existing x-image-meta-name

Create image with non-existing x-imgae-meta-name

Change-Id: I7cc5065cc0deb60d0518cf0bf7aed858136ea205
",git fetch https://review.opendev.org/openstack/tempest refs/changes/21/851321/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/v1/test_images_negative.py'],1,9340bf861d1a1e50e2b3edd36bcd74f4f504f7f1,master16," @decorators.idempotent_id('27e622aa-0496-4921-b3b2-3f9afbb4fd18') def test_register_with_non_existing_meta_name(self): """"""Create image with non-existing x-image-meta-name"""""" self.assertRaises(lib_exc.BadRequest, self.client.create_image, headers={'x-image-meta-name': '', 'x-image-meta-container_format': 'bare', 'x-image-meta-disk_format': 'vhd'}) @decorators.attr(type=['negative'])",,9,0
openstack%2Ftempest~master~I34e2f11a13f27237cb71e669b06e9da685a16a23,openstack/tempest,master,I34e2f11a13f27237cb71e669b06e9da685a16a23,Test listing snapshots with incorrect limit should fail,ABANDONED,2022-08-04 02:40:24.000000000,2023-06-07 23:47:42.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-04 02:40:24.000000000', 'files': ['tempest/api/volume/test_volumes_snapshots_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f4fec0b813aec9d6a4a50c840b212d81b23b4bbd', 'message': 'Test listing snapshots with incorrect limit should fail\n\nTest listing snapshots with incorrect limit should fail\n\nChange-Id: I34e2f11a13f27237cb71e669b06e9da685a16a23\n'}]",1,851999,f4fec0b813aec9d6a4a50c840b212d81b23b4bbd,4,2,1,30409,,,0,"Test listing snapshots with incorrect limit should fail

Test listing snapshots with incorrect limit should fail

Change-Id: I34e2f11a13f27237cb71e669b06e9da685a16a23
",git fetch https://review.opendev.org/openstack/tempest refs/changes/99/851999/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_snapshots_negative.py'],1,f4fec0b813aec9d6a4a50c840b212d81b23b4bbd,master19," @decorators.attr(type=['negative']) @decorators.idempotent_id('ef6e28e7-49d5-442b-b55b-2aa75ee32142') def test_list_snapshots_query_incorrect_limit(self): """"""Test listing snapshots with incorrect limit r should fail"""""" self.assertRaises(lib_exc.BadRequest, self.snapshots_client.list_snapshots, limit=-1)",,8,0
openstack%2Fcharm-ironic-conductor~master~Ie94b5ce9ba9d015a31a78bb71ce7ca786377d6d9,openstack/charm-ironic-conductor,master,Ie94b5ce9ba9d015a31a78bb71ce7ca786377d6d9,Add support for using service tokens,MERGED,2023-06-07 19:25:00.000000000,2023-06-07 22:06:43.000000000,2023-06-07 22:06:43.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 19:25:00.000000000', 'files': ['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/c7dda3f3a8c4b3e5445c727590eb44e4a6482cc3', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-conductor to send a service token along\nwith the received user token on requests to other services. This allow\nthose other services to accept the request even if the user token has\nbeen invalidated since received by Ironic. Also with this patch Ironic\nwill accept request from other services with invalid user tokens but\nvalid service tokens.\n\nCloses-Bug: #1992840\nChange-Id: Ie94b5ce9ba9d015a31a78bb71ce7ca786377d6d9\n'}]",0,885542,c7dda3f3a8c4b3e5445c727590eb44e4a6482cc3,7,3,1,2424,,,0,"Add support for using service tokens

This patch configures ironic-conductor to send a service token along
with the received user token on requests to other services. This allow
those other services to accept the request even if the user token has
been invalidated since received by Ironic. Also with this patch Ironic
will accept request from other services with invalid user tokens but
valid service tokens.

Closes-Bug: #1992840
Change-Id: Ie94b5ce9ba9d015a31a78bb71ce7ca786377d6d9
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/42/885542/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken']",2,c7dda3f3a8c4b3e5445c727590eb44e4a6482cc3,bug/1992840,service_token_roles = {{ identity_credentials.admin_role }} service_token_roles_required = True,,4,0
openstack%2Fneutron~stable%2Fyoga~Ibb32ec5492c4fe00b9dac510f7e69160982992dd,openstack/neutron,stable/yoga,Ibb32ec5492c4fe00b9dac510f7e69160982992dd,Handle no more IP addresses available during a network sync,MERGED,2023-06-06 17:53:23.000000000,2023-06-07 21:38:45.000000000,2023-06-07 21:37:18.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 17:53:23.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b6145ee13ee0ed08b13181ec2a64b0d362559a8b', 'message': 'Handle no more IP addresses available during a network sync\n\nIn some corner cases, like when db_sync is performed after OVS to OVN\nmigration, an implicit metadata port creation on a network with\ndepleted IP pool can raise IP allocation error. Just catch and log\nthis error such that the db_sync tool can finish syncing.\n\nChange-Id: Ibb32ec5492c4fe00b9dac510f7e69160982992dd\n(cherry picked from commit a86e300a0b3c9b00974041935861ffb9279a6960)\n'}]",0,885393,b6145ee13ee0ed08b13181ec2a64b0d362559a8b,9,4,1,34271,,,0,"Handle no more IP addresses available during a network sync

In some corner cases, like when db_sync is performed after OVS to OVN
migration, an implicit metadata port creation on a network with
depleted IP pool can raise IP allocation error. Just catch and log
this error such that the db_sync tool can finish syncing.

Change-Id: Ibb32ec5492c4fe00b9dac510f7e69160982992dd
(cherry picked from commit a86e300a0b3c9b00974041935861ffb9279a6960)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/885393/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,b6145ee13ee0ed08b13181ec2a64b0d362559a8b,catch_ipam-stable/2023.1-stable/zed-stable/yoga," except n_exc.IpAddressGenerationFailure: LOG.warning(""No more IP addresses available during "" ""implicit port creation while creating "" ""network %s"", network['id'])",,4,0
openstack%2Fneutron~stable%2Fwallaby~Ibb32ec5492c4fe00b9dac510f7e69160982992dd,openstack/neutron,stable/wallaby,Ibb32ec5492c4fe00b9dac510f7e69160982992dd,Handle no more IP addresses available during a network sync,MERGED,2023-06-06 17:00:56.000000000,2023-06-07 21:38:42.000000000,2023-06-07 21:37:25.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 17:00:56.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5acf519e2edb5fe78de1615ee90ee373305cc10c', 'message': 'Handle no more IP addresses available during a network sync\n\nIn some corner cases, like when db_sync is performed after OVS to OVN\nmigration, an implicit metadata port creation on a network with\ndepleted IP pool can raise IP allocation error. Just catch and log\nthis error such that the db_sync tool can finish syncing.\n\nChange-Id: Ibb32ec5492c4fe00b9dac510f7e69160982992dd\n(cherry picked from commit a86e300a0b3c9b00974041935861ffb9279a6960)\n'}]",3,885390,5acf519e2edb5fe78de1615ee90ee373305cc10c,13,4,1,34271,,,0,"Handle no more IP addresses available during a network sync

In some corner cases, like when db_sync is performed after OVS to OVN
migration, an implicit metadata port creation on a network with
depleted IP pool can raise IP allocation error. Just catch and log
this error such that the db_sync tool can finish syncing.

Change-Id: Ibb32ec5492c4fe00b9dac510f7e69160982992dd
(cherry picked from commit a86e300a0b3c9b00974041935861ffb9279a6960)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/885390/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,5acf519e2edb5fe78de1615ee90ee373305cc10c,catch_ipam-stable/wallaby," except n_exc.IpAddressGenerationFailure: LOG.warning(""No more IP addresses available during "" ""implicit port creation while creating "" ""network %s"", network['id'])",,4,0
openstack%2Fnova~master~I769d35907ab9466fe65b942295fd7567a757087a,openstack/nova,master,I769d35907ab9466fe65b942295fd7567a757087a,cpu: fix the privsep issue when offlining the cpu,MERGED,2023-06-05 16:23:35.000000000,2023-06-07 21:38:41.000000000,2023-06-07 21:37:30.000000000,"[{'_account_id': 4393}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 16207}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 16:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea7ddb8d689bae5511f6e8016cd04cfd0841f56a', 'message': 'cpu: fix the privsep issue when offlining the cpu\n\nIn Icb913ed9be8d508de35e755a9c650ba25e45aca2 we forgot to add a privsep\ndecorator for the set_offline() method.\n\nChange-Id: I769d35907ab9466fe65b942295fd7567a757087a\nCloses-Bug: #2022955\n'}, {'number': 2, 'created': '2023-06-05 17:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e14a293b0a2947a3d491375010360ed6319f1d47', 'message': 'cpu: fix the privsep issue when offlining the cpu\n\nIn Icb913ed9be8d508de35e755a9c650ba25e45aca2 we forgot to add a privsep\ndecorator for the set_offline() method.\n\nChange-Id: I769d35907ab9466fe65b942295fd7567a757087a\nCloses-Bug: #2022955\n'}, {'number': 3, 'created': '2023-06-06 14:37:17.000000000', 'files': ['nova/virt/libvirt/cpu/core.py', 'releasenotes/notes/bug-2022955-eac8b0c8e42e3696.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/3fab43786bbdc01087004b973bb0912505150864', 'message': 'cpu: fix the privsep issue when offlining the cpu\n\nIn Icb913ed9be8d508de35e755a9c650ba25e45aca2 we forgot to add a privsep\ndecorator for the set_offline() method.\n\nChange-Id: I769d35907ab9466fe65b942295fd7567a757087a\nCloses-Bug: #2022955\n'}]",6,885293,3fab43786bbdc01087004b973bb0912505150864,33,5,3,7166,,,0,"cpu: fix the privsep issue when offlining the cpu

In Icb913ed9be8d508de35e755a9c650ba25e45aca2 we forgot to add a privsep
decorator for the set_offline() method.

Change-Id: I769d35907ab9466fe65b942295fd7567a757087a
Closes-Bug: #2022955
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/885293/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/cpu/core.py'],1,ea7ddb8d689bae5511f6e8016cd04cfd0841f56a,bug/2022955,@nova.privsep.sys_admin_pctxt.entrypoint,,1,0
openstack%2Fneutron~stable%2Fxena~Ibb32ec5492c4fe00b9dac510f7e69160982992dd,openstack/neutron,stable/xena,Ibb32ec5492c4fe00b9dac510f7e69160982992dd,Handle no more IP addresses available during a network sync,MERGED,2023-06-06 17:53:36.000000000,2023-06-07 21:38:41.000000000,2023-06-07 21:37:22.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 17:53:36.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4bf0e998d4950ad1185ef8e4d36976934c1acf01', 'message': 'Handle no more IP addresses available during a network sync\n\nIn some corner cases, like when db_sync is performed after OVS to OVN\nmigration, an implicit metadata port creation on a network with\ndepleted IP pool can raise IP allocation error. Just catch and log\nthis error such that the db_sync tool can finish syncing.\n\nChange-Id: Ibb32ec5492c4fe00b9dac510f7e69160982992dd\n(cherry picked from commit a86e300a0b3c9b00974041935861ffb9279a6960)\n'}]",0,885394,4bf0e998d4950ad1185ef8e4d36976934c1acf01,9,4,1,34271,,,0,"Handle no more IP addresses available during a network sync

In some corner cases, like when db_sync is performed after OVS to OVN
migration, an implicit metadata port creation on a network with
depleted IP pool can raise IP allocation error. Just catch and log
this error such that the db_sync tool can finish syncing.

Change-Id: Ibb32ec5492c4fe00b9dac510f7e69160982992dd
(cherry picked from commit a86e300a0b3c9b00974041935861ffb9279a6960)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/885394/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,4bf0e998d4950ad1185ef8e4d36976934c1acf01,catch_ipam-stable/2023.1-stable/zed-stable/yoga-stable/xena," except n_exc.IpAddressGenerationFailure: LOG.warning(""No more IP addresses available during "" ""implicit port creation while creating "" ""network %s"", network['id'])",,4,0
openstack%2Fneutron~stable%2Fzed~Ibb32ec5492c4fe00b9dac510f7e69160982992dd,openstack/neutron,stable/zed,Ibb32ec5492c4fe00b9dac510f7e69160982992dd,Handle no more IP addresses available during a network sync,MERGED,2023-06-06 17:52:33.000000000,2023-06-07 21:38:33.000000000,2023-06-07 21:37:11.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 17:52:33.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8a00b9c52a658a57d4d0ec7e5cdcd39c581afd0', 'message': 'Handle no more IP addresses available during a network sync\n\nIn some corner cases, like when db_sync is performed after OVS to OVN\nmigration, an implicit metadata port creation on a network with\ndepleted IP pool can raise IP allocation error. Just catch and log\nthis error such that the db_sync tool can finish syncing.\n\nChange-Id: Ibb32ec5492c4fe00b9dac510f7e69160982992dd\n(cherry picked from commit a86e300a0b3c9b00974041935861ffb9279a6960)\n'}]",0,885392,e8a00b9c52a658a57d4d0ec7e5cdcd39c581afd0,9,4,1,34271,,,0,"Handle no more IP addresses available during a network sync

In some corner cases, like when db_sync is performed after OVS to OVN
migration, an implicit metadata port creation on a network with
depleted IP pool can raise IP allocation error. Just catch and log
this error such that the db_sync tool can finish syncing.

Change-Id: Ibb32ec5492c4fe00b9dac510f7e69160982992dd
(cherry picked from commit a86e300a0b3c9b00974041935861ffb9279a6960)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/885392/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,e8a00b9c52a658a57d4d0ec7e5cdcd39c581afd0,catch_ipam-stable/2023.1-stable/zed," except n_exc.IpAddressGenerationFailure: LOG.warning(""No more IP addresses available during "" ""implicit port creation while creating "" ""network %s"", network['id'])",,4,0
openstack%2Fneutron~stable%2F2023.1~Ibb32ec5492c4fe00b9dac510f7e69160982992dd,openstack/neutron,stable/2023.1,Ibb32ec5492c4fe00b9dac510f7e69160982992dd,Handle no more IP addresses available during a network sync,MERGED,2023-06-06 17:52:03.000000000,2023-06-07 21:38:17.000000000,2023-06-07 21:37:07.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 17:52:03.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9684f471ba33d09d770b566c8aa02b6719951535', 'message': 'Handle no more IP addresses available during a network sync\n\nIn some corner cases, like when db_sync is performed after OVS to OVN\nmigration, an implicit metadata port creation on a network with\ndepleted IP pool can raise IP allocation error. Just catch and log\nthis error such that the db_sync tool can finish syncing.\n\nChange-Id: Ibb32ec5492c4fe00b9dac510f7e69160982992dd\n(cherry picked from commit a86e300a0b3c9b00974041935861ffb9279a6960)\n'}]",0,885391,9684f471ba33d09d770b566c8aa02b6719951535,9,4,1,34271,,,0,"Handle no more IP addresses available during a network sync

In some corner cases, like when db_sync is performed after OVS to OVN
migration, an implicit metadata port creation on a network with
depleted IP pool can raise IP allocation error. Just catch and log
this error such that the db_sync tool can finish syncing.

Change-Id: Ibb32ec5492c4fe00b9dac510f7e69160982992dd
(cherry picked from commit a86e300a0b3c9b00974041935861ffb9279a6960)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/885391/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,9684f471ba33d09d770b566c8aa02b6719951535,catch_ipam-stable/2023.1," except n_exc.IpAddressGenerationFailure: LOG.warning(""No more IP addresses available during "" ""implicit port creation while creating "" ""network %s"", network['id'])",,4,0
openstack%2Fneutron~master~I1962fbc844bb67180e9071bcee01f8e95853bdda,openstack/neutron,master,I1962fbc844bb67180e9071bcee01f8e95853bdda,Make DB migration creating indexes in RBACs conditional,MERGED,2023-05-29 13:26:00.000000000,2023-06-07 21:38:14.000000000,2023-06-07 21:37:03.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 13:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43539fc6b9623e14abd126e0ad0caa41ebccef2b', 'message': 'Make DB migration creating indexes in RBACs conditional\n\nThis patch makes conditional the existing DB migration that adds\nthe new indexes ""target_tenant"" and ""action"" in the ""*rbacs"" tables.\nThe rationale of this patch is to be able to manually improve older\nsystems by just manually creating the indexes in the database.\nOnce these indexes are added, those operations including RBACs\nchecks (all these called from non-admin user to RBAC administrated\nresourced) will be improved.\n\nThis patch is avoiding the migration issue a system could find if\nthese indexes have been manually added and then the system is\nupgraded. The new check added will first retrieve the table indexes;\nif the index is already present, the index addition is skipped.\n\nCloses-Bug: #2020802\nChange-Id: I1962fbc844bb67180e9071bcee01f8e95853bdda\n'}, {'number': 2, 'created': '2023-05-29 13:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14d1d33955266b25907c08256362428acb550c0f', 'message': 'Make DB migration creating indexes in RBACs conditional\n\nThis patch makes conditional the existing DB migration that adds\nthe new indexes ""target_tenant"" and ""action"" in the ""*rbacs"" tables.\nThe rationale of this patch is to be able to manually improve older\nsystems by just manually creating the indexes in the database.\nOnce these indexes are added, those operations including RBACs\nchecks (all these called from non-admin user to RBAC administrated\nresourced) will be improved.\n\nThis patch is avoiding the migration issue a system could find if\nthese indexes have been manually added and then the system is\nupgraded. The new check added will first retrieve the table indexes;\nif the index is already present, the index addition is skipped.\n\nCloses-Bug: #2020802\nChange-Id: I1962fbc844bb67180e9071bcee01f8e95853bdda\n'}, {'number': 3, 'created': '2023-05-29 15:26:11.000000000', 'files': ['neutron/db/migration/alembic_migrations/versions/yoga/expand/ba859d649675_add_indexes_to_rbacs.py', 'neutron/tests/functional/db/migrations/test_ba859d649675_add_indexes_to_rbacs.py', 'doc/source/admin/config-rbac.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8cd39b3d75cbc10f69bb99aed449b751f067940', 'message': 'Make DB migration creating indexes in RBACs conditional\n\nThis patch makes conditional the existing DB migration that adds\nthe new indexes ""target_tenant"" and ""action"" in the ""*rbacs"" tables.\nThe rationale of this patch is to be able to manually improve older\nsystems by just manually creating the indexes in the database.\nOnce these indexes are added, those operations including RBACs\nchecks (all these called from non-admin user to RBAC administrated\nresourced) will be improved.\n\nThis patch is avoiding the migration issue a system could find if\nthese indexes have been manually added and then the system is\nupgraded. The new check added will first retrieve the table indexes;\nif the index is already present, the index addition is skipped.\n\nCloses-Bug: #2020802\nChange-Id: I1962fbc844bb67180e9071bcee01f8e95853bdda\n'}]",1,884617,e8cd39b3d75cbc10f69bb99aed449b751f067940,16,9,3,16688,,,0,"Make DB migration creating indexes in RBACs conditional

This patch makes conditional the existing DB migration that adds
the new indexes ""target_tenant"" and ""action"" in the ""*rbacs"" tables.
The rationale of this patch is to be able to manually improve older
systems by just manually creating the indexes in the database.
Once these indexes are added, those operations including RBACs
checks (all these called from non-admin user to RBAC administrated
resourced) will be improved.

This patch is avoiding the migration issue a system could find if
these indexes have been manually added and then the system is
upgraded. The new check added will first retrieve the table indexes;
if the index is already present, the index addition is skipped.

Closes-Bug: #2020802
Change-Id: I1962fbc844bb67180e9071bcee01f8e95853bdda
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/884617/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/yoga/expand/ba859d649675_add_indexes_to_rbacs.py', 'neutron/tests/functional/db/migrations/test_ba859d649675_add_indexes_to_rbacs.py', 'doc/source/admin/config-rbac.rst']",3,43539fc6b9623e14abd126e0ad0caa41ebccef2b,bug/2020802," Improve database RBAC query operations ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Since [1]_, present in Yoga version, Neutron has indexes for ""target_tenant"" (now ""target_project"") and ""action"" columns in all RBAC related tables. That improves the SQL queries involving the RBAC tables [2]. Any system before Yoga won't have these indexes but the system administrator can manually add them to the Neutron database following the next steps: * Find the RBAC tables: .. code-block:: console $ tables=`mysql -e ""use ovs_neutron; show tables;"" | grep rbac` * Insert the indexes for the ""target_tenant"" and ""action"" columns: $ for table in $tables do; mysql -e \ ""alter table $table add key (action); alter table $table add key (target_tenant);""; done In order to prevent errors during a system upgrade, [3] .. [1] https://review.opendev.org/c/openstack/neutron/+/810072 .. [2] https://github.com/openstack/neutron-lib/blob/890d62a3df3f35bb18bf1a11e79a9e97e7dd2d2c/neutron_lib/db/model_query.py#L123-L131 .. [3]",,111,1
openstack%2Fcharm-ironic-api~master~Ic84e4706b93c38916e89b91dfc30bf32396e5213,openstack/charm-ironic-api,master,Ic84e4706b93c38916e89b91dfc30bf32396e5213,Add support for using service tokens,MERGED,2023-05-24 16:33:12.000000000,2023-06-07 21:23:55.000000000,2023-06-07 21:23:55.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 16:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/00c88ea734b431e66cff95dbaa6685dcdeb5715c', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n'}, {'number': 2, 'created': '2023-05-24 18:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/f8da3ede566db658cc65076661cfc09668a510cb', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n'}, {'number': 3, 'created': '2023-05-24 19:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/c93c86dba256dd56a6ea83b1f4c7c99c4cc16da9', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n'}, {'number': 4, 'created': '2023-05-24 19:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/8e0f65e475f44d27ce15d500e65ce02598612ae0', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n'}, {'number': 5, 'created': '2023-05-25 14:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/05f6e9762d5da9d0568d516d31756654704a2591', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n'}, {'number': 6, 'created': '2023-05-25 18:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/43bf607330fe91aeaa48065162f2666181070cd7', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n'}, {'number': 7, 'created': '2023-05-30 17:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/6fe123952153f1d45cfdd1873f2f913799b0f447', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n'}, {'number': 8, 'created': '2023-05-30 17:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/2d9dfd073906c45c85f6b30a6815b1a13216ba16', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n'}, {'number': 9, 'created': '2023-06-02 18:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/6f6cf11fe1d119d5d1afcc1abc18a1be86098dbc', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n'}, {'number': 10, 'created': '2023-06-07 15:44:19.000000000', 'files': ['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/02b7180a6b9cd9c22c4b672ae8510ea14af5e0df', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n'}]",4,884252,02b7180a6b9cd9c22c4b672ae8510ea14af5e0df,38,3,10,2424,,,0,"Add support for using service tokens

This patch configures ironic-api to send a service token along with the
received user token on requests to other services. This allow those
other services to accept the request even if the user token has been
invalidated since received by Ironic. Also with this patch Ironic will
accept request from other services with invalid user tokens but valid
service tokens.

Closes-Bug: #1992840
Change-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/52/884252/10 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/train/ironic.conf'],1,00c88ea734b431e66cff95dbaa6685dcdeb5715c,bug/1992840,"{% include ""section-service-user"" %} ",,2,0
openstack%2Fcharm-ironic-api~master~I07b0014b51bf2187d062028cda76c064aa183b74,openstack/charm-ironic-api,master,I07b0014b51bf2187d062028cda76c064aa183b74,Move [healthcheck] section to ironic.conf,NEW,2023-06-02 18:24:58.000000000,2023-06-07 21:17:02.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-02 18:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/ea721b55865c0703161d91fbdd17ca022793e8b2', 'message': ""Move [healthcheck] section to ironic.conf\n\nThe [healthcheck] section enables the /healthcheck endpoint and it has\nno relation to the keystone configuration, so it's better to keep it in\nthe ironic.conf template.\n\nChange-Id: I07b0014b51bf2187d062028cda76c064aa183b74\n""}, {'number': 2, 'created': '2023-06-07 15:44:19.000000000', 'files': ['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/8a0b781f59d32ed01209bd065ebef9d15fe0d334', 'message': ""Move [healthcheck] section to ironic.conf\n\nThe [healthcheck] section enables the /healthcheck endpoint and it has\nno relation to the keystone configuration, so it's better to keep it in\nthe ironic.conf template.\n\nChange-Id: I07b0014b51bf2187d062028cda76c064aa183b74\n""}]",0,885158,8a0b781f59d32ed01209bd065ebef9d15fe0d334,8,3,2,2424,,,0,"Move [healthcheck] section to ironic.conf

The [healthcheck] section enables the /healthcheck endpoint and it has
no relation to the keystone configuration, so it's better to keep it in
the ironic.conf template.

Change-Id: I07b0014b51bf2187d062028cda76c064aa183b74
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/58/885158/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken']",2,ea721b55865c0703161d91fbdd17ca022793e8b2,bug/1992840,, [healthcheck] # Enable the health check endpoint at /healthcheck. Note that # this is unauthenticated. More information is available at # https://docs.openstack.org/oslo.middleware/latest/reference/healthcheck_plugins.html. # (boolean value) enabled = true,7,7
openstack%2Fliberasurecode~master~I72f003c704beafe4c0f1ff72aa6202f4b70be46a,openstack/liberasurecode,master,I72f003c704beafe4c0f1ff72aa6202f4b70be46a,Replace Flat XOR link with an archived version,MERGED,2023-01-04 23:38:30.000000000,2023-06-07 21:06:32.000000000,2023-06-07 21:06:32.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-04 23:38:30.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/liberasurecode/commit/e8cd6112c3568f08e9bf049c0273d0b98754f6db', 'message': 'Replace Flat XOR link with an archived version\n\nChange-Id: I72f003c704beafe4c0f1ff72aa6202f4b70be46a\n'}]",1,869266,e8cd6112c3568f08e9bf049c0273d0b98754f6db,10,2,1,15343,,,0,"Replace Flat XOR link with an archived version

Change-Id: I72f003c704beafe4c0f1ff72aa6202f4b70be46a
",git fetch https://review.opendev.org/openstack/liberasurecode refs/changes/66/869266/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,e8cd6112c3568f08e9bf049c0273d0b98754f6db,," [3] Greenan, Kevin M et al, ""Flat XOR-based erasure codes in storage systems"", https://web.archive.org/web/20161001210233/https://www.kaymgee.com/Kevin_Greenan/Publications_files/greenan-msst10.pdf"," [3] Greenan, Kevin M et al, ""Flat XOR-based erasure codes in storage systems"", http://www.kaymgee.com/Kevin_Greenan/Publications_files/greenan-msst10.pdf",1,1
openstack%2Fopenstack-ansible~master~I124942ace678765b01bcb642798bdca6d14f3141,openstack/openstack-ansible,master,I124942ace678765b01bcb642798bdca6d14f3141,Start 2023.2 (Bobcat) development,MERGED,2023-05-31 18:33:31.000000000,2023-06-07 20:38:19.000000000,2023-06-07 20:36:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-31 18:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/998e89e3f1bb34351b516883a224ae0002b2bf95', 'message': 'Start 2023.2 (Bobcat) development\n\nChange-Id: I124942ace678765b01bcb642798bdca6d14f3141\n'}, {'number': 2, 'created': '2023-06-05 15:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/13c22676296fa27603789edd4ac808f0fb450830', 'message': 'Start 2023.2 (Bobcat) development\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/884584\nChange-Id: I124942ace678765b01bcb642798bdca6d14f3141\n'}, {'number': 3, 'created': '2023-06-05 15:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e3ee19a78d38beb1f39b241e46be67ae8287c10c', 'message': 'Start 2023.2 (Bobcat) development\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/884584\nChange-Id: I124942ace678765b01bcb642798bdca6d14f3141\n'}, {'number': 4, 'created': '2023-06-06 13:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/055fd73e45d0c9ea1b550d687e8c4c979f05599c', 'message': 'Start 2023.2 (Bobcat) development\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/884584\nChange-Id: I124942ace678765b01bcb642798bdca6d14f3141\n'}, {'number': 5, 'created': '2023-06-06 13:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d7eb663c69c94295c005ad09a61862afa0171c6b', 'message': 'Start 2023.2 (Bobcat) development\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/884584\nChange-Id: I124942ace678765b01bcb642798bdca6d14f3141\n'}, {'number': 6, 'created': '2023-06-06 17:08:01.000000000', 'files': ['scripts/gate-check-commit.sh', 'inventory/group_vars/magnum_all/source_git.yml', 'deploy-guide/source/conf.py', 'inventory/group_vars/murano_all/source_git.yml', 'inventory/group_vars/sahara_all/source_git.yml', 'inventory/group_vars/designate_all/source_git.yml', 'scripts/upgrade-utilities/define-neutron-plugin.yml', 'doc/source/admin/upgrades/major-upgrades.rst', 'inventory/group_vars/blazar_all/source_git.yml', 'inventory/group_vars/senlin_all/source_git.yml', 'inventory/group_vars/zun_all/source_git.yml', 'inventory/group_vars/neutron_all/source_git.yml', 'inventory/group_vars/nova_all/source_git.yml', 'scripts/run-upgrade.sh', 'inventory/group_vars/masakari_all/source_git.yml', 'inventory/group_vars/trove_all/source_git.yml', 'inventory/group_vars/cinder_all/source_git.yml', 'inventory/group_vars/manila_all/source_git.yml', 'inventory/group_vars/placement_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'inventory/group_vars/ceilometer_all/source_git.yml', 'inventory/group_vars/keystone_all/source_git.yml', 'inventory/group_vars/cloudkitty_all/source_git.yml', 'inventory/group_vars/all/source_git.yml', 'doc/source/conf.py', 'inventory/group_vars/heat_all/source_git.yml', 'inventory/group_vars/horizon_all/source_git.yml', 'ansible-role-requirements.yml', 'inventory/group_vars/utility_all/source_git.yml', 'inventory/group_vars/tacker_all/source_git.yml', 'doc/source/index.rst', 'inventory/group_vars/mistral_all/source_git.yml', 'zuul.d/project-templates.yaml', 'inventory/group_vars/adjutant_all/source_git.yml', 'inventory/group_vars/swift_all/source_git.yml', 'inventory/group_vars/barbican_all/source_git.yml', 'inventory/group_vars/octavia_all/source_git.yml', 'zuul.d/jobs.yaml', 'inventory/group_vars/aodh_all/source_git.yml', 'inventory/group_vars/glance_all/source_git.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b97c4860eb7a3f3340a411e4d2d1d914cf8171aa', 'message': 'Start 2023.2 (Bobcat) development\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/884584\nChange-Id: I124942ace678765b01bcb642798bdca6d14f3141\n'}]",5,884924,b97c4860eb7a3f3340a411e4d2d1d914cf8171aa,25,3,6,28619,,,0,"Start 2023.2 (Bobcat) development

Depends-On: https://review.opendev.org/c/openstack/tempest/+/884584
Change-Id: I124942ace678765b01bcb642798bdca6d14f3141
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/24/884924/1 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/magnum_all/source_git.yml', 'deploy-guide/source/conf.py', 'inventory/group_vars/murano_all/source_git.yml', 'inventory/group_vars/sahara_all/source_git.yml', 'inventory/group_vars/designate_all/source_git.yml', 'scripts/upgrade-utilities/define-neutron-plugin.yml', 'doc/source/admin/upgrades/major-upgrades.rst', 'inventory/group_vars/blazar_all/source_git.yml', 'inventory/group_vars/senlin_all/source_git.yml', 'inventory/group_vars/zun_all/source_git.yml', 'inventory/group_vars/neutron_all/source_git.yml', 'inventory/group_vars/nova_all/source_git.yml', 'scripts/run-upgrade.sh', 'inventory/group_vars/masakari_all/source_git.yml', 'inventory/group_vars/trove_all/source_git.yml', 'inventory/group_vars/cinder_all/source_git.yml', 'inventory/group_vars/manila_all/source_git.yml', 'inventory/group_vars/placement_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'inventory/group_vars/ceilometer_all/source_git.yml', 'inventory/group_vars/keystone_all/source_git.yml', 'inventory/group_vars/cloudkitty_all/source_git.yml', 'inventory/group_vars/all/source_git.yml', 'doc/source/conf.py', 'inventory/group_vars/heat_all/source_git.yml', 'inventory/group_vars/horizon_all/source_git.yml', 'ansible-role-requirements.yml', 'inventory/group_vars/utility_all/source_git.yml', 'inventory/group_vars/tacker_all/source_git.yml', 'doc/source/index.rst', 'inventory/group_vars/mistral_all/source_git.yml', 'zuul.d/project-templates.yaml', 'inventory/group_vars/adjutant_all/source_git.yml', 'inventory/group_vars/swift_all/source_git.yml', 'inventory/group_vars/barbican_all/source_git.yml', 'inventory/group_vars/octavia_all/source_git.yml', 'zuul.d/jobs.yaml', 'inventory/group_vars/aodh_all/source_git.yml', 'inventory/group_vars/glance_all/source_git.yml']",39,998e89e3f1bb34351b516883a224ae0002b2bf95,,### HEAD as of 31.05.2023 ###glance_git_install_branch: dca70d1ca8f6c5947bea0b5a623843b68cfb5d15 glance_git_track_branch: master,### HEAD as of 22.03.2023 ###glance_git_install_branch: 285021bdb0ea344f995508fabb8b4e2485f2cf3c glance_git_track_branch: stable/2023.1,293,368
openstack%2Foctavia~master~Ib90396520c69487b52f1d69783ed6914c78cd75c,openstack/octavia,master,Ib90396520c69487b52f1d69783ed6914c78cd75c,DNM/WIP Testing FIPS job,NEW,2023-06-07 19:16:01.000000000,2023-06-07 20:15:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-07 19:16:01.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/591c794aae314e572770d59c4c4ff7d8e66ba11c', 'message': 'DNM/WIP Testing FIPS job\n\nDepends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/877667\nChange-Id: Ib90396520c69487b52f1d69783ed6914c78cd75c\n'}]",0,885540,591c794aae314e572770d59c4c4ff7d8e66ba11c,2,1,1,29244,,,0,"DNM/WIP Testing FIPS job

Depends-On: https://review.opendev.org/c/openstack/octavia-tempest-plugin/+/877667
Change-Id: Ib90396520c69487b52f1d69783ed6914c78cd75c
",git fetch https://review.opendev.org/openstack/octavia refs/changes/40/885540/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,591c794aae314e572770d59c4c4ff7d8e66ba11c,, templates: [] - octavia-v2-dsvm-tls-barbican-fips, templates: - check-requirements - periodic-stable-jobs-neutron - openstack-cover-jobs - openstack-python3-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - octavia-tox-tips - openstack-tox-pip-check-reqs: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - openstack-tox-functional-py38: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ - openstack-tox-functional-py39: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ - openstack-tox-functional-py310: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ voting: false - octavia-v2-dsvm-noop-api: irrelevant-files: &irrelevant-files - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - octavia-v2-dsvm-scenario-traffic-ops: irrelevant-files: *irrelevant-files - octavia-v2-dsvm-scenario-non-traffic-ops: irrelevant-files: *irrelevant-files - octavia-v2-dsvm-scenario-traffic-ops-jobboard: irrelevant-files: *irrelevant-files - octavia-v2-dsvm-scenario-non-traffic-ops-jobboard: irrelevant-files: *irrelevant-files - octavia-v2-dsvm-tls-barbican: irrelevant-files: *irrelevant-files - octavia-grenade: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^(test-|)requirements.txt$ - ^tox.ini$ - octavia-v2-dsvm-tls-barbican-fips: irrelevant-files: *irrelevant-files voting: false - octavia-v2-act-stdby-dsvm-scenario: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-cinder-amphora: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-two-node: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-ipv6-only: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-centos-9-stream: irrelevant-files: *irrelevant-files voting: false,2,87
openstack%2Fcharm-ironic-api~master~I3a69ad9f6725fef0a8ace253e793ea1aeea20bfa,openstack/charm-ironic-api,master,I3a69ad9f6725fef0a8ace253e793ea1aeea20bfa,Rebuild charm,MERGED,2023-06-07 15:44:19.000000000,2023-06-07 20:13:55.000000000,2023-06-07 20:13:55.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 15:44:19.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/6d7d772c2a6a0a936c87ad0ce4ca7ab8422d2561', 'message': 'Rebuild charm\n\nCloses-Bug: #2022980\nChange-Id: I3a69ad9f6725fef0a8ace253e793ea1aeea20bfa\n'}]",0,885518,6d7d772c2a6a0a936c87ad0ce4ca7ab8422d2561,7,3,1,2424,,,0,"Rebuild charm

Closes-Bug: #2022980
Change-Id: I3a69ad9f6725fef0a8ace253e793ea1aeea20bfa
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/18/885518/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,6d7d772c2a6a0a936c87ad0ce4ca7ab8422d2561,bug/1992840,059b8736-4fe2-4fee-af25-31d86fdf0dfc,53c3d92e-1178-11ec-83e0-e33587f0c7c9,1,1
openstack%2Fos-brick~stable%2Fxena~Ia74ecfba03ba23de9d30eb33706245a7f85e1d66,openstack/os-brick,stable/xena,Ia74ecfba03ba23de9d30eb33706245a7f85e1d66,Support force disconnect for FC,MERGED,2023-05-10 14:40:33.000000000,2023-06-07 20:04:45.000000000,2023-06-07 20:03:46.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-05-10 14:40:33.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/tests/initiator/connectors/test_fibre_channel_s390x.py', 'os_brick/initiator/connectors/fibre_channel_s390x.py', 'releasenotes/notes/fc-force-disconnect-1a33cf46c233dd04.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/70493735d2f99523c4a23ecbeed15969b2e81f6b', 'message': 'Support force disconnect for FC\n\nThis patch adds support for the force and ignore_errors on the\ndisconnect_volume of the FC connector like we have in the iSCSI\nconnector.\n\nRelated-Bug: #2004555\nChange-Id: Ia74ecfba03ba23de9d30eb33706245a7f85e1d66\n(cherry picked from commit 570df49db9de3030e658619138588b836c007f8c)\nConflicts:\n\tos_brick/initiator/connectors/fibre_channel.py\n(cherry picked from commit 111b3931a2db1d5be4ebe704bf26c34fa9408483)\n'}]",3,882848,70493735d2f99523c4a23ecbeed15969b2e81f6b,11,3,1,9535,,,0,"Support force disconnect for FC

This patch adds support for the force and ignore_errors on the
disconnect_volume of the FC connector like we have in the iSCSI
connector.

Related-Bug: #2004555
Change-Id: Ia74ecfba03ba23de9d30eb33706245a7f85e1d66
(cherry picked from commit 570df49db9de3030e658619138588b836c007f8c)
Conflicts:
	os_brick/initiator/connectors/fibre_channel.py
(cherry picked from commit 111b3931a2db1d5be4ebe704bf26c34fa9408483)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/48/882848/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/initiator/connectors/fibre_channel_s390x.py', 'os_brick/tests/initiator/connectors/test_fibre_channel_s390x.py', 'releasenotes/notes/fc-force-disconnect-1a33cf46c233dd04.yaml']",7,70493735d2f99523c4a23ecbeed15969b2e81f6b,bug/2004555,--- features: - | FC connector: Added support to ``force`` and ``ignore_errors`` parameters on ``disconnect_volume`` method. ,,267,16
openstack%2Ftempest~master~I02559c88825b69477958a6114d93bd428a7759ca,openstack/tempest,master,I02559c88825b69477958a6114d93bd428a7759ca,Switch back the tox constraint to master,MERGED,2023-06-01 18:45:15.000000000,2023-06-07 19:58:37.000000000,2023-06-07 19:57:31.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-06-01 18:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/098b91b4f23d0d313b21022893cebdce487e67e2', 'message': 'Switch back the tox constraint to master\n\nTempest 35.0.0 release hash is prepared[1] so we can\nrevert back to use the master constraints by default.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/885090/1\n\nChange-Id: I02559c88825b69477958a6114d93bd428a7759ca\n'}, {'number': 2, 'created': '2023-06-06 20:37:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e095e74a092c42e25cda6b0434ab0db1859e2aaf', 'message': 'Switch back the tox constraint to master\n\nTempest 35.0.0 release hash is prepared[1] so we can\nrevert back to use the master constraints by default.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/885090/1\n\nChange-Id: I02559c88825b69477958a6114d93bd428a7759ca\n'}]",3,885091,e095e74a092c42e25cda6b0434ab0db1859e2aaf,14,3,2,8556,,,0,"Switch back the tox constraint to master

Tempest 35.0.0 release hash is prepared[1] so we can
revert back to use the master constraints by default.

[1] https://review.opendev.org/c/openstack/tempest/+/885090/1

Change-Id: I02559c88825b69477958a6114d93bd428a7759ca
",git fetch https://review.opendev.org/openstack/tempest refs/changes/91/885091/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,098b91b4f23d0d313b21022893cebdce487e67e2,xena-last, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1},5,5
openstack%2Fneutron-lib~master~I0053337686d49229b44e157977b2607051ad1604,openstack/neutron-lib,master,I0053337686d49229b44e157977b2607051ad1604,[API REF] Add api-ref documentation for default SG rules API,MERGED,2023-05-29 09:13:47.000000000,2023-06-07 19:58:08.000000000,2023-06-07 19:57:06.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 09:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/61d596ad62fd5364678b3c06a917d15658b3b187', 'message': '[API REF] Add api-ref documentation for default SG rules API\n\nRelated-Bug: #1983053\nChange-Id: I0053337686d49229b44e157977b2607051ad1604\n'}, {'number': 2, 'created': '2023-05-29 14:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f8e8f934c4e6b1fb45d7cf8c4973f65b26084f8c', 'message': '[API REF] Add api-ref documentation for default SG rules API\n\nRelated-Bug: #1983053\nChange-Id: I0053337686d49229b44e157977b2607051ad1604\n'}, {'number': 3, 'created': '2023-05-31 09:30:42.000000000', 'files': ['api-ref/source/v2/samples/security-group-default-rules/security-group-default-rules-list-request-json-http.txt', 'api-ref/source/v2/security_groups_default_rules.inc', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/security-group-default-rules/security-group-default-rule-create-response.json', 'api-ref/source/v2/samples/security-group-default-rules/security-group-default-rule-delete-request-json-http.txt', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/samples/security-group-default-rules/security-group-default-rule-create-request.json', 'api-ref/source/v2/samples/security-group-default-rules/security-group-default-rule-show-response.json', 'api-ref/source/v2/samples/security-group-default-rules/security-group-default-rules-list-response.json', 'api-ref/source/v2/samples/security-group-default-rules/security-group-default-rule-delete-response-json-http.txt', 'api-ref/source/v2/samples/security-group-default-rules/security-group-default-rule-show-request-json-http.txt'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4b9753de30fca22c59e4836ae2c01fc7ae5a2e37', 'message': '[API REF] Add api-ref documentation for default SG rules API\n\nRelated-Bug: #1983053\nChange-Id: I0053337686d49229b44e157977b2607051ad1604\n'}]",9,884578,4b9753de30fca22c59e4836ae2c01fc7ae5a2e37,17,3,3,11975,,,0,"[API REF] Add api-ref documentation for default SG rules API

Related-Bug: #1983053
Change-Id: I0053337686d49229b44e157977b2607051ad1604
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/78/884578/3 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/samples/security-group-default-rules/security-group-default-rules-list-request-json-http.txt', 'api-ref/source/v2/security_groups_default_rules.inc', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/security-group-default-rules/security-group-default-rule-create-response.json', 'api-ref/source/v2/samples/security-group-default-rules/security-group-default-rule-delete-request-json-http.txt', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/samples/security-group-default-rules/security-group-default-rule-create-request.json', 'api-ref/source/v2/samples/security-group-default-rules/security-group-default-rule-show-response.json', 'api-ref/source/v2/samples/security-group-default-rules/security-group-default-rules-list-response.json', 'api-ref/source/v2/samples/security-group-default-rules/security-group-default-rule-delete-response-json-http.txt', 'api-ref/source/v2/samples/security-group-default-rules/security-group-default-rule-show-request-json-http.txt']",11,61d596ad62fd5364678b3c06a917d15658b3b187,bug/1983053,GET /v2.0/default-security-group-rules/3c0e45ff-adaf-4124-b083-bf390e5482ff Accept: application/json ,,433,0
openstack%2Ftempest~master~I658c195385418fe84e6b9574a089fd1ede3e8217,openstack/tempest,master,I658c195385418fe84e6b9574a089fd1ede3e8217,Pin stable/2023.1 constraint in tox to release 35.0.0,MERGED,2023-06-01 18:41:57.000000000,2023-06-07 19:50:44.000000000,2023-06-07 19:49:14.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-06-01 18:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6da2e97e0b887211390711409d998bb3825713a3', 'message': 'Pin stable/2023.1 constraint in tox to release 35.0.0\n\nWe are going to release Tempest new tag 35.0.0 to declare\nthe end of support for stable/xena. stable/2023.1 constraint\nis latest stable constraints tested with current tempest hash\nwhich is going to be used for 35.0.0 release.\n\nFurther information:\n https://docs.openstack.org/tempest/latest/requirement_upper_constraint_for_tempest.html\n\nChange-Id: I658c195385418fe84e6b9574a089fd1ede3e8217\n'}, {'number': 2, 'created': '2023-06-06 20:37:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/366e020b20d04c66ae22c971c8639c107365af70', 'message': 'Pin stable/2023.1 constraint in tox to release 35.0.0\n\nWe are going to release Tempest new tag 35.0.0 to declare\nthe end of support for stable/xena. stable/2023.1 constraint\nis latest stable constraints tested with current tempest hash\nwhich is going to be used for 35.0.0 release.\n\nFurther information:\n https://docs.openstack.org/tempest/latest/requirement_upper_constraint_for_tempest.html\n\nChange-Id: I658c195385418fe84e6b9574a089fd1ede3e8217\n'}]",7,885090,366e020b20d04c66ae22c971c8639c107365af70,24,3,2,8556,,,0,"Pin stable/2023.1 constraint in tox to release 35.0.0

We are going to release Tempest new tag 35.0.0 to declare
the end of support for stable/xena. stable/2023.1 constraint
is latest stable constraints tested with current tempest hash
which is going to be used for 35.0.0 release.

Further information:
 https://docs.openstack.org/tempest/latest/requirement_upper_constraint_for_tempest.html

Change-Id: I658c195385418fe84e6b9574a089fd1ede3e8217
",git fetch https://review.opendev.org/openstack/tempest refs/changes/90/885090/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6da2e97e0b887211390711409d998bb3825713a3,xena-last, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},5,5
openstack%2Fnetworking-generic-switch~master~I8da7802019f2c1bd162a98a8a592104a18b55c7d,openstack/networking-generic-switch,master,I8da7802019f2c1bd162a98a8a592104a18b55c7d,Fix fallback to plug_port_to_network on 802_3ad bonds,NEW,2023-05-02 11:17:46.000000000,2023-06-07 19:39:06.000000000,,"[{'_account_id': 782}, {'_account_id': 8493}, {'_account_id': 9542}, {'_account_id': 14525}, {'_account_id': 22348}, {'_account_id': 35976}]","[{'number': 1, 'created': '2023-05-02 11:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/ad583e7170b8ca06c838486d4989095e3e0cf45f', 'message': 'Ensures that if a switch plugin has an empty plug/unplug bond to network\nfunction that the old code path of plug/unplug port to network is\nfollowed, otherwise this can result in a no-op happening\n\nCo-authored-by: Steven Relf s.relf@eschercloud.ai\nCo-authored-by: Graeme Moss g.moss@eschercloud.ai\nChange-Id: I8da7802019f2c1bd162a98a8a592104a18b55c7d\n'}, {'number': 2, 'created': '2023-05-23 07:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/aac3d4313a7f22a4482b7e6c21855cc3c1b361e7', 'message': 'Fix fallback to plug_port_to_network on 802_3ad bonds\n\nEnsures that if a switch plugin has an empty plug/unplug bond to network\nfunction that the old code path of plug/unplug port to network is\nfollowed, otherwise this can result in a no-op happening\n\nCo-authored-by: Steven Relf s.relf@eschercloud.ai\nCo-authored-by: Graeme Moss g.moss@eschercloud.ai\nChange-Id: I8da7802019f2c1bd162a98a8a592104a18b55c7d\n'}, {'number': 3, 'created': '2023-05-23 09:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/bbc95942634836a1076597edaf83d5373d1850cf', 'message': 'Fix fallback to plug_port_to_network on 802_3ad bonds\n\nEnsures that if a switch plugin has an empty plug/unplug bond to network\nfunction that the old code path of plug/unplug port to network is\nfollowed, otherwise this can result in a no-op happening\n\nCo-authored-by: Steven Relf s.relf@eschercloud.ai\nCo-authored-by: Graeme Moss g.moss@eschercloud.ai\nChange-Id: I8da7802019f2c1bd162a98a8a592104a18b55c7d\n'}, {'number': 4, 'created': '2023-05-25 10:01:13.000000000', 'files': ['networking_generic_switch/generic_switch_mech.py'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/7f77d1e4232b617e109d0b4c4fb1c2ab9b337cc3', 'message': 'Fix fallback to plug_port_to_network on 802_3ad bonds\n\nEnsures that if a switch plugin has an empty plug/unplug bond to network\nfunction that the old code path of plug/unplug port to network is\nfollowed, otherwise this can result in a no-op happening\n\nCo-authored-by: Steven Relf s.relf@eschercloud.ai\nCo-authored-by: Graeme Moss g.moss@eschercloud.ai\nCloses-Bug: #2020764\nChange-Id: I8da7802019f2c1bd162a98a8a592104a18b55c7d\n'}]",8,881959,7f77d1e4232b617e109d0b4c4fb1c2ab9b337cc3,12,6,4,26922,,,0,"Fix fallback to plug_port_to_network on 802_3ad bonds

Ensures that if a switch plugin has an empty plug/unplug bond to network
function that the old code path of plug/unplug port to network is
followed, otherwise this can result in a no-op happening

Co-authored-by: Steven Relf s.relf@eschercloud.ai
Co-authored-by: Graeme Moss g.moss@eschercloud.ai
Closes-Bug: #2020764
Change-Id: I8da7802019f2c1bd162a98a8a592104a18b55c7d
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/59/881959/4 && git format-patch -1 --stdout FETCH_HEAD,['networking_generic_switch/generic_switch_mech.py'],1,ad583e7170b8ca06c838486d4989095e3e0cf45f,881959," if is_802_3ad and hasattr(switch, 'plug_bond_to_network') \ and switch.PLUG_BOND_TO_NETWORK: if is_802_3ad and hasattr(switch, 'unplug_bond_from_network') \ and switch.UNPLUG_BOND_TO_NETWORK:"," if is_802_3ad and hasattr(switch, 'plug_bond_to_network'): if is_802_3ad and hasattr(switch, 'unplug_bond_from_network'):",4,2
openstack%2Fbarbican~master~I239c3e9980a1fff1cdc0e72f75e861ded8248857,openstack/barbican,master,I239c3e9980a1fff1cdc0e72f75e861ded8248857,Enable SRBAC test,NEW,2023-05-18 18:28:59.000000000,2023-06-07 18:36:24.000000000,,"[{'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 18:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/d01e9d7ff2505afbb86189f5697375f5b84e1f3c', 'message': 'Enable SRBAC test\n\nThe previous patch in this chain disables rbac to work around a chicken\nand egg problem with updating the tempest tests.\n\nThis patch re-enables the SRBAC test.\n\nDepends-On: I735cefe2b1cb4eb09c9770f0bdc738ffeee34f0e\nChange-Id: I239c3e9980a1fff1cdc0e72f75e861ded8248857\n'}, {'number': 2, 'created': '2023-06-06 11:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/95646d982b5775939b331868d6816bc95fa7675e', 'message': 'Enable SRBAC test\n\nThe previous patch in this chain disables rbac to work around a chicken\nand egg problem with updating the tempest tests.\n\nThis patch re-enables the SRBAC test.\n\nDepends-On: I735cefe2b1cb4eb09c9770f0bdc738ffeee34f0e\nChange-Id: I239c3e9980a1fff1cdc0e72f75e861ded8248857\n'}, {'number': 3, 'created': '2023-06-06 12:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/bdfbef931bf4c5f15d3fb3d027de9c97b20301d1', 'message': 'Enable SRBAC test\n\nThe previous patch in this chain disables rbac to work around a chicken\nand egg problem with updating the tempest tests.\n\nThis patch re-enables the SRBAC test.\n\nDepends-On: I735cefe2b1cb4eb09c9770f0bdc738ffeee34f0e\nChange-Id: I239c3e9980a1fff1cdc0e72f75e861ded8248857\n'}, {'number': 4, 'created': '2023-06-07 17:41:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/2b95fbdd440a7022fe0b7a1ba2b589171b976118', 'message': 'Enable SRBAC test\n\nThe previous patch in this chain disables rbac to work around a chicken\nand egg problem with updating the tempest tests.\n\nThis patch re-enables the SRBAC test.\n\nDepends-On: I735cefe2b1cb4eb09c9770f0bdc738ffeee34f0e\nChange-Id: I239c3e9980a1fff1cdc0e72f75e861ded8248857\n'}]",0,883562,2b95fbdd440a7022fe0b7a1ba2b589171b976118,11,3,4,7973,,,0,"Enable SRBAC test

The previous patch in this chain disables rbac to work around a chicken
and egg problem with updating the tempest tests.

This patch re-enables the SRBAC test.

Depends-On: I735cefe2b1cb4eb09c9770f0bdc738ffeee34f0e
Change-Id: I239c3e9980a1fff1cdc0e72f75e861ded8248857
",git fetch https://review.opendev.org/openstack/barbican refs/changes/62/883562/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d01e9d7ff2505afbb86189f5697375f5b84e1f3c,remove-system-scope, - barbican-tempest-plugin-simple-crypto-secure-rbac, - barbican-tempest-plugin-simple-crypto-secure-rbac: voting: false,1,2
openstack%2Fkolla-ansible~master~I3a14f85fbe5be6ae635774c49872e17f5daea805,openstack/kolla-ansible,master,I3a14f85fbe5be6ae635774c49872e17f5daea805,docs: Correct indentation in quickstart (again),MERGED,2023-06-07 16:35:27.000000000,2023-06-07 18:18:14.000000000,2023-06-07 17:26:25.000000000,"[{'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 16:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b0e73a4edd2530908fba9aa61467a268724cfd67', 'message': 'docs: Correct indentation in quickstart (again)\n\nFollowup om I34fd1dcb52cffd9d545d10526109772aeebc2393\n\nChange-Id: I3a14f85fbe5be6ae635774c49872e17f5daea805\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2023-06-07 16:36:15.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aff8e4a065710aa9a7e4e5db46a7a00f5209c0b5', 'message': 'docs: Correct indentation in quickstart (again)\n\nFollowup on I34fd1dcb52cffd9d545d10526109772aeebc2393\n\nChange-Id: I3a14f85fbe5be6ae635774c49872e17f5daea805\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",2,885523,aff8e4a065710aa9a7e4e5db46a7a00f5209c0b5,12,3,2,14200,,,0,"docs: Correct indentation in quickstart (again)

Followup on I34fd1dcb52cffd9d545d10526109772aeebc2393

Change-Id: I3a14f85fbe5be6ae635774c49872e17f5daea805
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/885523/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,b0e73a4edd2530908fba9aa61467a268724cfd67,docs, .. code-block:: console /path/to/venv/share/kolla-ansible/init-runonce, .. code-block:: console /path/to/venv/share/kolla-ansible/init-runonce,2,2
openstack%2Fbarbican-tempest-plugin~master~I735cefe2b1cb4eb09c9770f0bdc738ffeee34f0e,openstack/barbican-tempest-plugin,master,I735cefe2b1cb4eb09c9770f0bdc738ffeee34f0e,Update rbac tests,MERGED,2023-05-18 15:37:50.000000000,2023-06-07 18:15:34.000000000,2023-06-07 18:15:34.000000000,"[{'_account_id': 7414}, {'_account_id': 8556}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 30674}, {'_account_id': 34120}, {'_account_id': 35125}]","[{'number': 1, 'created': '2023-05-18 15:37:50.000000000', 'files': ['barbican_tempest_plugin/tests/rbac/v1/test_quotas.py', 'barbican_tempest_plugin/tests/rbac/v1/test_transport_keys.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/b51b3f5b61b44924122f6595da3467bbcfd03743', 'message': 'Update rbac tests\n\nThis patch updates the rbac tests for testing the policy updates that\nremoved the ""system"" scope and use ""project"" scope instead.\n\nDepends-On: I3b781112fc6ced7b73196f973cefd6a30ef99dd3\nChange-Id: I735cefe2b1cb4eb09c9770f0bdc738ffeee34f0e\n'}]",4,883527,b51b3f5b61b44924122f6595da3467bbcfd03743,15,8,1,7973,,,0,"Update rbac tests

This patch updates the rbac tests for testing the policy updates that
removed the ""system"" scope and use ""project"" scope instead.

Depends-On: I3b781112fc6ced7b73196f973cefd6a30ef99dd3
Change-Id: I735cefe2b1cb4eb09c9770f0bdc738ffeee34f0e
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/27/883527/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/tests/rbac/v1/test_quotas.py', 'barbican_tempest_plugin/tests/rbac/v1/test_transport_keys.py']",2,b51b3f5b61b44924122f6595da3467bbcfd03743,remove-system-scope," def test_create_transport_key(self): transport_key = self.client.create_transport_key( plugin_name=""simple-crypto"", transport_key=""UUUU-UUUU-IIII-DDDD"" ) self.assertIn(""transport_key_ref"", transport_key) ",,93,0
openstack%2Fironic-tempest-plugin~master~I36bce09c9ffe31364d738809adabe65a3af8443f,openstack/ironic-tempest-plugin,master,I36bce09c9ffe31364d738809adabe65a3af8443f,rbac - Fix vif_attach expected return values,MERGED,2023-05-11 19:43:57.000000000,2023-06-07 18:12:11.000000000,2023-06-07 18:11:03.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-05-11 19:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/63f5f8b217091ae2c676cfdd6e16c86c280b6436', 'message': 'rback - Fix vif_attach expected return values\n\nClient vif_attach only return resp - not body.\n\nOn a system without policies enabled the test fail with\ntoo maby values to unpack - which is confusing ...\n\nChange-Id: I36bce09c9ffe31364d738809adabe65a3af8443f\n'}, {'number': 2, 'created': '2023-05-23 19:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/b2e9843d41d089f243a73b91641501b92be96755', 'message': 'rbac - Fix vif_attach expected return values\n\nClient vif_attach only return resp - not body.\n\nOn a system without policies enabled the test fail with\ntoo maby values to unpack - which is confusing ...\n\nChange-Id: I36bce09c9ffe31364d738809adabe65a3af8443f\n'}, {'number': 3, 'created': '2023-05-24 14:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/aacf51809f143cc114e126647d42ddd744e85bdf', 'message': 'rbac - Fix vif_attach expected return values\n\nClient vif_attach only return resp - not body.\n\nOn a system without policies enabled the test fail with\ntoo maby values to unpack - which is confusing ...\n\nChange-Id: I36bce09c9ffe31364d738809adabe65a3af8443f\n'}, {'number': 4, 'created': '2023-06-01 00:35:34.000000000', 'files': ['ironic_tempest_plugin/tests/api/rbac_defaults/test_nodes.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/3c8235ed02c10940fc3889ae04d9ba7a6a8bbb34', 'message': 'rbac - Fix vif_attach expected return values\n\nClient vif_attach only return resp - not body.\n\nOn a system without policies enabled the test fail with\ntoo maby values to unpack - which is confusing ...\n\nChange-Id: I36bce09c9ffe31364d738809adabe65a3af8443f\n'}]",3,883032,3c8235ed02c10940fc3889ae04d9ba7a6a8bbb34,20,4,4,24245,,,0,"rbac - Fix vif_attach expected return values

Client vif_attach only return resp - not body.

On a system without policies enabled the test fail with
too maby values to unpack - which is confusing ...

Change-Id: I36bce09c9ffe31364d738809adabe65a3af8443f
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/32/883032/4 && git format-patch -1 --stdout FETCH_HEAD,['ironic_tempest_plugin/tests/api/rbac_defaults/test_nodes.py'],1,63f5f8b217091ae2c676cfdd6e16c86c280b6436,rbac-tests, resp = self.reader_client.vif_attach( resp = self.reader_client.vif_attach(," resp, body = self.reader_client.vif_attach( resp, body = self.reader_client.vif_attach(",2,2
openstack%2Foctavia~stable%2Fyoga~Iecedb9e9c8f293cd4c067900e1696f5050769ee8,openstack/octavia,stable/yoga,Iecedb9e9c8f293cd4c067900e1696f5050769ee8,Send IP advertisements when plugging a new member subnet,MERGED,2023-04-18 09:39:00.000000000,2023-06-07 18:00:12.000000000,2023-06-07 17:58:57.000000000,"[{'_account_id': 11628}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-04-18 09:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4b5849c8d8a673c6a4c2cf15b4fb5e69b2b6308f', 'message': 'Send IP advertisements when plugging a new member subnet\n\nWhen plugging a new subnet, the amphora sends a packet advertising the\nIP address of the port. In case previously deallocated IP addresses are\nre-used, it helps the other resources on the same L2 network to flush\nthe old ARP entries.\n\nCloses-Bug: #2015572\n\nConflicts:\n\toctavia/amphorae/backends/agent/api_server/plug.py\n\nChange-Id: Iecedb9e9c8f293cd4c067900e1696f5050769ee8\n(cherry picked from commit 18cd1f34c8a918ab6f969a3271ac74132c4ac736)\n(cherry picked from commit f03a2df9aa10f6901020292b2f2f4eaa912c4cb8)\n(cherry picked from commit 6a380e3775e10485f1ded67d12bab3725225c8bb)\n'}, {'number': 2, 'created': '2023-04-24 08:13:29.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/plug.py', 'releasenotes/notes/members-subnet-ip-advertisements-af2264844079ef6b.yaml', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/util.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e0f7a145023dfd22865e832a571faccd2da391c5', 'message': 'Send IP advertisements when plugging a new member subnet\n\nWhen plugging a new subnet, the amphora sends a packet advertising the\nIP address of the port. In case previously deallocated IP addresses are\nre-used, it helps the other resources on the same L2 network to flush\nthe old ARP entries.\n\nCloses-Bug: #2015572\n\nConflicts:\n\toctavia/amphorae/backends/agent/api_server/plug.py\n\nChange-Id: Iecedb9e9c8f293cd4c067900e1696f5050769ee8\n(cherry picked from commit 18cd1f34c8a918ab6f969a3271ac74132c4ac736)\n(cherry picked from commit f03a2df9aa10f6901020292b2f2f4eaa912c4cb8)\n(cherry picked from commit 6a380e3775e10485f1ded67d12bab3725225c8bb)\n'}]",3,880725,e0f7a145023dfd22865e832a571faccd2da391c5,14,4,2,29244,,,0,"Send IP advertisements when plugging a new member subnet

When plugging a new subnet, the amphora sends a packet advertising the
IP address of the port. In case previously deallocated IP addresses are
re-used, it helps the other resources on the same L2 network to flush
the old ARP entries.

Closes-Bug: #2015572

Conflicts:
	octavia/amphorae/backends/agent/api_server/plug.py

Change-Id: Iecedb9e9c8f293cd4c067900e1696f5050769ee8
(cherry picked from commit 18cd1f34c8a918ab6f969a3271ac74132c4ac736)
(cherry picked from commit f03a2df9aa10f6901020292b2f2f4eaa912c4cb8)
(cherry picked from commit 6a380e3775e10485f1ded67d12bab3725225c8bb)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/25/880725/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/plug.py', 'releasenotes/notes/members-subnet-ip-advertisements-af2264844079ef6b.yaml', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/util.py']",5,4b5849c8d8a673c6a4c2cf15b4fb5e69b2b6308f,,"import typing as tp def send_member_advertisements(fixed_ips: tp.Iterable[tp.Dict[str, str]]): """"""Sends advertisements for each fixed_ip of a list This method will send either GARP (IPv4) or neighbor advertisements (IPv6) for the addresses of the subnets of the members. :param fixed_ips: a list of dicts that contain 'ip_address' elements :returns: None """""" try: for fixed_ip in fixed_ips: ip_address = fixed_ip[consts.IP_ADDRESS] interface = network_utils.get_interface_name( ip_address, net_ns=consts.AMPHORA_NAMESPACE) ip_advertisement.send_ip_advertisement( interface, ip_address, net_ns=consts.AMPHORA_NAMESPACE) except Exception as e: LOG.debug('Send member advertisement failed due to: %s', str(e))",,79,3
openstack%2Foctavia~stable%2Fwallaby~Iecedb9e9c8f293cd4c067900e1696f5050769ee8,openstack/octavia,stable/wallaby,Iecedb9e9c8f293cd4c067900e1696f5050769ee8,Send IP advertisements when plugging a new member subnet,MERGED,2023-04-18 09:39:52.000000000,2023-06-07 18:00:07.000000000,2023-06-07 17:58:55.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-04-18 09:39:52.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/plug.py', 'releasenotes/notes/members-subnet-ip-advertisements-af2264844079ef6b.yaml', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/util.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/38714459f6340a3a111be98a3ab569fca5663537', 'message': 'Send IP advertisements when plugging a new member subnet\n\nWhen plugging a new subnet, the amphora sends a packet advertising the\nIP address of the port. In case previously deallocated IP addresses are\nre-used, it helps the other resources on the same L2 network to flush\nthe old ARP entries.\n\nCloses-Bug: #2015572\n\nConflicts:\n\toctavia/amphorae/backends/agent/api_server/plug.py\n\nChange-Id: Iecedb9e9c8f293cd4c067900e1696f5050769ee8\n(cherry picked from commit 18cd1f34c8a918ab6f969a3271ac74132c4ac736)\n(cherry picked from commit f03a2df9aa10f6901020292b2f2f4eaa912c4cb8)\n(cherry picked from commit 6a380e3775e10485f1ded67d12bab3725225c8bb)\n(cherry picked from commit 4b5849c8d8a673c6a4c2cf15b4fb5e69b2b6308f)\n(cherry picked from commit 44b792bdeaae37b4a14a5c4a256a7a8b98ee1de6)\n'}]",1,880727,38714459f6340a3a111be98a3ab569fca5663537,8,3,1,29244,,,0,"Send IP advertisements when plugging a new member subnet

When plugging a new subnet, the amphora sends a packet advertising the
IP address of the port. In case previously deallocated IP addresses are
re-used, it helps the other resources on the same L2 network to flush
the old ARP entries.

Closes-Bug: #2015572

Conflicts:
	octavia/amphorae/backends/agent/api_server/plug.py

Change-Id: Iecedb9e9c8f293cd4c067900e1696f5050769ee8
(cherry picked from commit 18cd1f34c8a918ab6f969a3271ac74132c4ac736)
(cherry picked from commit f03a2df9aa10f6901020292b2f2f4eaa912c4cb8)
(cherry picked from commit 6a380e3775e10485f1ded67d12bab3725225c8bb)
(cherry picked from commit 4b5849c8d8a673c6a4c2cf15b4fb5e69b2b6308f)
(cherry picked from commit 44b792bdeaae37b4a14a5c4a256a7a8b98ee1de6)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/27/880727/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/plug.py', 'releasenotes/notes/members-subnet-ip-advertisements-af2264844079ef6b.yaml', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/util.py']",5,38714459f6340a3a111be98a3ab569fca5663537,,"import typing as tp def send_member_advertisements(fixed_ips: tp.Iterable[tp.Dict[str, str]]): """"""Sends advertisements for each fixed_ip of a list This method will send either GARP (IPv4) or neighbor advertisements (IPv6) for the addresses of the subnets of the members. :param fixed_ips: a list of dicts that contain 'ip_address' elements :returns: None """""" try: for fixed_ip in fixed_ips: ip_address = fixed_ip[consts.IP_ADDRESS] interface = network_utils.get_interface_name( ip_address, net_ns=consts.AMPHORA_NAMESPACE) ip_advertisement.send_ip_advertisement( interface, ip_address, net_ns=consts.AMPHORA_NAMESPACE) except Exception as e: LOG.debug('Send member advertisement failed due to: %s', str(e))",,79,3
openstack%2Foctavia~stable%2Fzed~Iecedb9e9c8f293cd4c067900e1696f5050769ee8,openstack/octavia,stable/zed,Iecedb9e9c8f293cd4c067900e1696f5050769ee8,Send IP advertisements when plugging a new member subnet,MERGED,2023-04-18 09:38:32.000000000,2023-06-07 18:00:05.000000000,2023-06-07 17:58:53.000000000,"[{'_account_id': 11628}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 31664}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-04-18 09:38:32.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/plug.py', 'releasenotes/notes/members-subnet-ip-advertisements-af2264844079ef6b.yaml', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/util.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6a380e3775e10485f1ded67d12bab3725225c8bb', 'message': 'Send IP advertisements when plugging a new member subnet\n\nWhen plugging a new subnet, the amphora sends a packet advertising the\nIP address of the port. In case previously deallocated IP addresses are\nre-used, it helps the other resources on the same L2 network to flush\nthe old ARP entries.\n\nCloses-Bug: #2015572\n\nConflicts:\n\toctavia/amphorae/backends/agent/api_server/plug.py\n\nChange-Id: Iecedb9e9c8f293cd4c067900e1696f5050769ee8\n(cherry picked from commit 18cd1f34c8a918ab6f969a3271ac74132c4ac736)\n(cherry picked from commit f03a2df9aa10f6901020292b2f2f4eaa912c4cb8)\n'}]",6,880724,6a380e3775e10485f1ded67d12bab3725225c8bb,18,5,1,29244,,,0,"Send IP advertisements when plugging a new member subnet

When plugging a new subnet, the amphora sends a packet advertising the
IP address of the port. In case previously deallocated IP addresses are
re-used, it helps the other resources on the same L2 network to flush
the old ARP entries.

Closes-Bug: #2015572

Conflicts:
	octavia/amphorae/backends/agent/api_server/plug.py

Change-Id: Iecedb9e9c8f293cd4c067900e1696f5050769ee8
(cherry picked from commit 18cd1f34c8a918ab6f969a3271ac74132c4ac736)
(cherry picked from commit f03a2df9aa10f6901020292b2f2f4eaa912c4cb8)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/24/880724/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/plug.py', 'releasenotes/notes/members-subnet-ip-advertisements-af2264844079ef6b.yaml', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/util.py']",5,6a380e3775e10485f1ded67d12bab3725225c8bb,,"import typing as tp def send_member_advertisements(fixed_ips: tp.Iterable[tp.Dict[str, str]]): """"""Sends advertisements for each fixed_ip of a list This method will send either GARP (IPv4) or neighbor advertisements (IPv6) for the addresses of the subnets of the members. :param fixed_ips: a list of dicts that contain 'ip_address' elements :returns: None """""" try: for fixed_ip in fixed_ips: ip_address = fixed_ip[consts.IP_ADDRESS] interface = network_utils.get_interface_name( ip_address, net_ns=consts.AMPHORA_NAMESPACE) ip_advertisement.send_ip_advertisement( interface, ip_address, net_ns=consts.AMPHORA_NAMESPACE) except Exception as e: LOG.debug('Send member advertisement failed due to: %s', str(e))",,79,3
openstack%2Fironic~stable%2Fxena~I840f9af014be1c4dd5dbb91ade070d423f98fc44,openstack/ironic,stable/xena,I840f9af014be1c4dd5dbb91ade070d423f98fc44,DNM: Test commit to get unpatched logs,ABANDONED,2023-05-24 23:53:35.000000000,2023-06-07 17:56:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-24 23:53:35.000000000', 'files': ['ironic/common/cinder.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1f6a356681e9b9a50be27be4ee963ff5a418a5d4', 'message': 'DNM: Test commit to get unpatched logs\n\nChange-Id: I840f9af014be1c4dd5dbb91ade070d423f98fc44\n'}]",1,884302,1f6a356681e9b9a50be27be4ee963ff5a418a5d4,4,1,1,11655,,,0,"DNM: Test commit to get unpatched logs

Change-Id: I840f9af014be1c4dd5dbb91ade070d423f98fc44
",git fetch https://review.opendev.org/openstack/ironic refs/changes/02/884302/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/cinder.py'],1,1f6a356681e9b9a50be27be4ee963ff5a418a5d4,,,,1,0
openstack%2Foctavia~stable%2F2023.1~Iecedb9e9c8f293cd4c067900e1696f5050769ee8,openstack/octavia,stable/2023.1,Iecedb9e9c8f293cd4c067900e1696f5050769ee8,Send IP advertisements when plugging a new member subnet,MERGED,2023-04-18 09:37:21.000000000,2023-06-07 17:17:06.000000000,2023-06-07 17:16:02.000000000,"[{'_account_id': 11628}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-04-18 09:37:21.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/plug.py', 'releasenotes/notes/members-subnet-ip-advertisements-af2264844079ef6b.yaml', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/util.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f03a2df9aa10f6901020292b2f2f4eaa912c4cb8', 'message': 'Send IP advertisements when plugging a new member subnet\n\nWhen plugging a new subnet, the amphora sends a packet advertising the\nIP address of the port. In case previously deallocated IP addresses are\nre-used, it helps the other resources on the same L2 network to flush\nthe old ARP entries.\n\nCloses-Bug: #2015572\n\nChange-Id: Iecedb9e9c8f293cd4c067900e1696f5050769ee8\n(cherry picked from commit 18cd1f34c8a918ab6f969a3271ac74132c4ac736)\n'}]",1,880723,f03a2df9aa10f6901020292b2f2f4eaa912c4cb8,9,4,1,29244,,,0,"Send IP advertisements when plugging a new member subnet

When plugging a new subnet, the amphora sends a packet advertising the
IP address of the port. In case previously deallocated IP addresses are
re-used, it helps the other resources on the same L2 network to flush
the old ARP entries.

Closes-Bug: #2015572

Change-Id: Iecedb9e9c8f293cd4c067900e1696f5050769ee8
(cherry picked from commit 18cd1f34c8a918ab6f969a3271ac74132c4ac736)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/23/880723/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/plug.py', 'releasenotes/notes/members-subnet-ip-advertisements-af2264844079ef6b.yaml', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_util.py', 'octavia/amphorae/backends/agent/api_server/util.py']",5,f03a2df9aa10f6901020292b2f2f4eaa912c4cb8,,"import typing as tp def send_member_advertisements(fixed_ips: tp.Iterable[tp.Dict[str, str]]): """"""Sends advertisements for each fixed_ip of a list This method will send either GARP (IPv4) or neighbor advertisements (IPv6) for the addresses of the subnets of the members. :param fixed_ips: a list of dicts that contain 'ip_address' elements :returns: None """""" try: for fixed_ip in fixed_ips: ip_address = fixed_ip[consts.IP_ADDRESS] interface = network_utils.get_interface_name( ip_address, net_ns=consts.AMPHORA_NAMESPACE) ip_advertisement.send_ip_advertisement( interface, ip_address, net_ns=consts.AMPHORA_NAMESPACE) except Exception as e: LOG.debug('Send member advertisement failed due to: %s', str(e))",,80,3
openstack%2Fpython-openstackclient~master~I3bbd73d5596ca38f72281093f250f8c4deb1b31b,openstack/python-openstackclient,master,I3bbd73d5596ca38f72281093f250f8c4deb1b31b,"volume: Migrate 'availablity zone list' to SDK""",ABANDONED,2023-06-02 13:37:42.000000000,2023-06-07 16:59:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-02 13:37:42.000000000', 'files': ['openstackclient/tests/unit/common/test_availability_zone.py', 'openstackclient/common/availability_zone.py', 'openstackclient/tests/unit/volume/v2/fakes.py', 'openstackclient/tests/unit/volume/v3/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ee7db1a21a0705cecc63720819d24e2a5ec6e4fc', 'message': 'volume: Migrate \'availablity zone list\' to SDK""\n\nChange-Id: I3bbd73d5596ca38f72281093f250f8c4deb1b31b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,885137,ee7db1a21a0705cecc63720819d24e2a5ec6e4fc,3,1,1,15334,,,0,"volume: Migrate 'availablity zone list' to SDK""

Change-Id: I3bbd73d5596ca38f72281093f250f8c4deb1b31b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/37/885137/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/common/test_availability_zone.py', 'openstackclient/common/availability_zone.py', 'openstackclient/tests/unit/volume/v2/fakes.py', 'openstackclient/tests/unit/volume/v3/fakes.py']",4,ee7db1a21a0705cecc63720819d24e2a5ec6e4fc,compute-gaps,"from openstack.block_storage.v3 import availability_zone as _availability_zonedef create_one_availability_zone(attrs=None): """"""Create a fake AZ. :param dict attrs: A dictionary with all attributes :return: A fake openstack.block_storage.v3.availability_zone.AvailabilityZone object """""" attrs = attrs or {} # Set default attributes. availability_zone_info = { 'name': uuid.uuid4().hex, 'state': {'available': True}, } # Overwrite default attributes. availability_zone_info.update(attrs) availability_zone = _availability_zone.AvailabilityZone( **availability_zone_info ) return availability_zone def create_availability_zones(attrs=None, count=2): """"""Create multiple fake AZs. :param dict attrs: A dictionary with all attributes :param int count: The number of availability zones to fake :return: A list of fake openstack.block_storage.v3.availability_zone.AvailabilityZone objects """""" availability_zones = [] for i in range(0, count): availability_zone = create_one_availability_zone(attrs) availability_zones.append(availability_zone) return availability_zones ",,62,76
openstack%2Fpython-openstackclient~master~I5bd4111614e07d2976f9e3805294e8816a518613,openstack/python-openstackclient,master,I5bd4111614e07d2976f9e3805294e8816a518613,compute: Migrate 'availablity zone list' to SDK,ABANDONED,2023-06-02 13:37:42.000000000,2023-06-07 16:59:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-02 13:37:42.000000000', 'files': ['openstackclient/tests/unit/common/test_availability_zone.py', 'openstackclient/common/availability_zone.py', 'openstackclient/tests/unit/compute/v2/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/821f8052b25b86c4178ed5cedc2d47b2e43690d3', 'message': ""compute: Migrate 'availablity zone list' to SDK\n\nWe also remove an unnecessary use of getattr for the network side of\nthings.\n\nChange-Id: I5bd4111614e07d2976f9e3805294e8816a518613\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,885136,821f8052b25b86c4178ed5cedc2d47b2e43690d3,3,1,1,15334,,,0,"compute: Migrate 'availablity zone list' to SDK

We also remove an unnecessary use of getattr for the network side of
things.

Change-Id: I5bd4111614e07d2976f9e3805294e8816a518613
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/36/885136/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/common/test_availability_zone.py', 'openstackclient/common/availability_zone.py', 'openstackclient/tests/unit/compute/v2/fakes.py']",3,821f8052b25b86c4178ed5cedc2d47b2e43690d3,compute-gaps,"from openstack.compute.v2 import availability_zone as _availability_zone :param dict attrs: A dictionary with all attributes :return: A fake openstack.compute.v2.availability_zone.AvailabilityZone object availability_zone_info = { 'name': uuid.uuid4().hex, 'state': {'available': True}, 'updated_at': '2023-01-01T00:00:00.000000', availability_zone_info.update(attrs) availability_zone = _availability_zone.AvailabilityZone( **availability_zone_info :param dict attrs: A dictionary with all attributes :param int count: The number of availability zones to fake :return: A list of fake openstack.compute.v2.availability_zone.AvailabilityZone objects"," self.aggregates = mock.Mock() self.aggregates.resource_class = fakes.FakeResource(None, {}) self.availability_zones = mock.Mock() self.availability_zones.resource_class = fakes.FakeResource(None, {}) :param dict attrs: A dictionary with all attributes :return: A FakeResource object with zoneName, zoneState, etc. service_updated_at = uuid.uuid4().hex availability_zone = { 'zoneName': uuid.uuid4().hex, 'zoneState': {'available': True}, 'updated_at': service_updated_at, availability_zone.update(attrs) availability_zone = fakes.FakeResource( info=copy.deepcopy(availability_zone), loaded=True :param dict attrs: A dictionary with all attributes :param int count: The number of AZs to fake :return: A list of FakeResource objects faking the AZs",38,48
openstack%2Fpython-openstackclient~master~I776cc9d71ff86c355643a2563fdd7b4a9c7a9714,openstack/python-openstackclient,master,I776cc9d71ff86c355643a2563fdd7b4a9c7a9714,tests: Use SDK for extensions tests,ABANDONED,2023-06-02 13:37:42.000000000,2023-06-07 16:59:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-02 13:37:42.000000000', 'files': ['openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/common/extension.py', 'openstackclient/tests/unit/common/test_extension.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/network/v2/test_router.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fb38c651e58bc2298e623ec5d8d5a9bd32b91f60', 'message': 'tests: Use SDK for extensions tests\n\nWe migrated the network and compute extension commands from\nneutronclient and novaclient a while back. Bring the tests up to speed.\n\nChange-Id: I776cc9d71ff86c355643a2563fdd7b4a9c7a9714\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,885138,fb38c651e58bc2298e623ec5d8d5a9bd32b91f60,3,1,1,15334,,,0,"tests: Use SDK for extensions tests

We migrated the network and compute extension commands from
neutronclient and novaclient a while back. Bring the tests up to speed.

Change-Id: I776cc9d71ff86c355643a2563fdd7b4a9c7a9714
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/38/885138/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/common/extension.py', 'openstackclient/tests/unit/common/test_extension.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/network/v2/test_router.py']",5,fb38c651e58bc2298e623ec5d8d5a9bd32b91f60,compute-gaps, extensions = network_fakes.create_one_extension() self.network.find_extension = mock.Mock(return_value=self.extensions), _extensions = network_fakes.FakeExtension.create_one_extension() self.network.find_extension = mock.Mock(return_value=self._extensions),82,93
openstack%2Fnova~master~Id9d9ac4a2302ab769be679a39e5a339a483faa16,openstack/nova,master,Id9d9ac4a2302ab769be679a39e5a339a483faa16,tests: Add missing args to sqlalchemy.Table,MERGED,2023-04-17 16:07:07.000000000,2023-06-07 16:56:28.000000000,2023-06-07 16:54:24.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-04-17 16:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fd1623dce41ac3365c33d9bc272a6e4e1fd34ca', 'message': 'tests: Add missing args to sqlalchemy.Table\n\nThis expects a name and metadata argument in 2.0. Add them.\n\nChange-Id: Id9d9ac4a2302ab769be679a39e5a339a483faa16\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2023-04-17 16:08:29.000000000', 'files': ['nova/tests/unit/test_fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9b47bcca9d0a80e69765e28db153e7c52f683c7e', 'message': 'tests: Add missing args to sqlalchemy.Table\n\nThis expects a name and metadata argument in 2.0. Add them.\n\nChange-Id: Id9d9ac4a2302ab769be679a39e5a339a483faa16\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",3,880667,9b47bcca9d0a80e69765e28db153e7c52f683c7e,32,7,2,15334,,,0,"tests: Add missing args to sqlalchemy.Table

This expects a name and metadata argument in 2.0. Add them.

Change-Id: Id9d9ac4a2302ab769be679a39e5a339a483faa16
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/880667/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/test_fixtures.py'],1,9fd1623dce41ac3365c33d9bc272a6e4e1fd34ca,sqlalchemy-20," table = sa.Table(""foo"", sa.MetaData())", table = sa.Table(),1,1
openstack%2Fnova~master~I79f98930017f26492055c1295fc7900a2257ac68,openstack/nova,master,I79f98930017f26492055c1295fc7900a2257ac68,db: Don't rely on branched connections,MERGED,2023-04-17 16:07:07.000000000,2023-06-07 16:55:35.000000000,2023-06-07 16:54:01.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-04-17 16:07:07.000000000', 'files': ['nova/db/api/migrations/env.py', 'nova/db/main/migrations/env.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1f30b5a4e2e36f1a0e0499ac314ee8c2872075be', 'message': 'db: Don\'t rely on branched connections\n\nWe were previously calling \'connect()\' on the \'connectable\' object in\n\'run_migrations_online\', regardless of whether it was an \'Engine\' or\n\'Connection\' object. This worked because, as noted in an inline comment,\n""when connectable is already a Connection object, calling \'connect()\'\ngives us a *branched connection*."" This is no longer the case. From the\nSQLAlchemy docs [1]:\n\n  The Connection object does not support ""branching"", which was a\n  pattern by which a sub ""connection"" would be used that refers to this\n  connection as a parent.\n\nUpdate our code to reflect this change, using the newly updated example\nfrom the SQLAlchemy cookbook doc [2] as inspiration.\n\n[1] https://docs.sqlalchemy.org/en/14/core/future.html#sqlalchemy.future.Connection\n[2] https://alembic.sqlalchemy.org/en/latest/cookbook.html#connection-sharing\n\nChange-Id: I79f98930017f26492055c1295fc7900a2257ac68\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",11,880663,1f30b5a4e2e36f1a0e0499ac314ee8c2872075be,71,7,1,15334,,,0,"db: Don't rely on branched connections

We were previously calling 'connect()' on the 'connectable' object in
'run_migrations_online', regardless of whether it was an 'Engine' or
'Connection' object. This worked because, as noted in an inline comment,
""when connectable is already a Connection object, calling 'connect()'
gives us a *branched connection*."" This is no longer the case. From the
SQLAlchemy docs [1]:

  The Connection object does not support ""branching"", which was a
  pattern by which a sub ""connection"" would be used that refers to this
  connection as a parent.

Update our code to reflect this change, using the newly updated example
from the SQLAlchemy cookbook doc [2] as inspiration.

[1] https://docs.sqlalchemy.org/en/14/core/future.html#sqlalchemy.future.Connection
[2] https://alembic.sqlalchemy.org/en/latest/cookbook.html#connection-sharing

Change-Id: I79f98930017f26492055c1295fc7900a2257ac68
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/880663/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/api/migrations/env.py', 'nova/db/main/migrations/env.py']",2,1f30b5a4e2e36f1a0e0499ac314ee8c2872075be,sqlalchemy-20," with connectable.connect() as connection: context.configure( connection=connection, target_metadata=target_metadata, render_as_batch=True, include_name=include_name, ) with context.begin_transaction(): context.run_migrations() else: connection=connectable,"," # when connectable is already a Connection object, calling connect() gives # us a *branched connection*. with connectable.connect() as connection: connection=connection,",22,10
openstack%2Fnova~master~Ieec4d62b3ef7614fdd2ebf57aa5bc1763bdf7b5a,openstack/nova,master,Ieec4d62b3ef7614fdd2ebf57aa5bc1763bdf7b5a,tests: Pass parameters to sqlalchemy.text() as bindparams,MERGED,2023-04-17 16:07:07.000000000,2023-06-07 16:54:17.000000000,2023-06-07 16:54:17.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-04-17 16:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe0a336102fba104fdac88990529fb7bbefb4c93', 'message': 'tests: Pass parameters to sqlalchemy.text() as bindparams\n\nThis appears to be the new way to do things.\n\nChange-Id: Ieec4d62b3ef7614fdd2ebf57aa5bc1763bdf7b5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2023-04-17 16:08:29.000000000', 'files': ['nova/tests/unit/test_fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fd742c176ba751b7b621fbe1e0be5064fe1dfdc4', 'message': 'tests: Pass parameters to sqlalchemy.text() as bindparams\n\nThis appears to be the new way to do things.\n\nChange-Id: Ieec4d62b3ef7614fdd2ebf57aa5bc1763bdf7b5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",5,880665,fd742c176ba751b7b621fbe1e0be5064fe1dfdc4,33,7,2,15334,,,0,"tests: Pass parameters to sqlalchemy.text() as bindparams

This appears to be the new way to do things.

Change-Id: Ieec4d62b3ef7614fdd2ebf57aa5bc1763bdf7b5a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/880665/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/test_fixtures.py'],1,fe0a336102fba104fdac88990529fb7bbefb4c93,sqlalchemy-20," ).bindparams(uuid=uuid, name='fake-cell'), ).bindparams(uuid=uuid, name='fake-cell'),"," ), uuid=uuid, name='fake-cell', ), uuid=uuid, name='fake-cell',",2,6
openstack%2Fnova~master~I4e366a0dbad56e739370b8bec0b84f6162f3d7a0,openstack/nova,master,I4e366a0dbad56e739370b8bec0b84f6162f3d7a0,db: Remove unnecessary 'insert()' argument,MERGED,2023-04-17 16:07:07.000000000,2023-06-07 16:54:08.000000000,2023-06-07 16:54:08.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 16137}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32919}]","[{'number': 1, 'created': '2023-04-17 16:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8188c9a7dbd524c3ff44ece14d293d94f8443b88', 'message': ""db: Remove unnecessary 'insert()' argument\n\nThe function signature for this method is change in SQLAlchemy 2.x:\n\n  TypeError: insert() takes 1 positional argument but 2 were given\n\nWe missed this previously as the deprecation checks in SQLAlchemy were\npresumably checking for non-None values.\n\nChange-Id: I4e366a0dbad56e739370b8bec0b84f6162f3d7a0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2023-04-17 16:08:29.000000000', 'files': ['nova/db/main/api.py', 'nova/tests/unit/db/main/test_api.py', 'nova/objects/aggregate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b2520d6728036791aa529f531b210fb92a6940e1', 'message': ""db: Remove unnecessary 'insert()' argument\n\nThe function signature for this method is change in SQLAlchemy 2.x:\n\n  TypeError: insert() takes 1 positional argument but 2 were given\n\nWe missed this previously as the deprecation checks in SQLAlchemy were\npresumably checking for non-None values.\n\nChange-Id: I4e366a0dbad56e739370b8bec0b84f6162f3d7a0\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",5,880664,b2520d6728036791aa529f531b210fb92a6940e1,37,8,2,15334,,,0,"db: Remove unnecessary 'insert()' argument

The function signature for this method is change in SQLAlchemy 2.x:

  TypeError: insert() takes 1 positional argument but 2 were given

We missed this previously as the deprecation checks in SQLAlchemy were
presumably checking for non-None values.

Change-Id: I4e366a0dbad56e739370b8bec0b84f6162f3d7a0
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/880664/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/main/api.py', 'nova/objects/aggregate.py']",2,8188c9a7dbd524c3ff44ece14d293d94f8443b88,sqlalchemy-20," api_models.AggregateMetadata.__table__.insert(),"," api_models.AggregateMetadata.__table__.insert(None),",2,2
openstack%2Fkolla-ansible~master~I34fd1dcb52cffd9d545d10526109772aeebc2393,openstack/kolla-ansible,master,I34fd1dcb52cffd9d545d10526109772aeebc2393,docs: Correct indentation in quickstart,MERGED,2023-06-07 15:42:40.000000000,2023-06-07 16:13:25.000000000,2023-06-07 16:12:25.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 15:42:40.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c38224f3e3925951337e09bd6a899f2f0f73e87', 'message': 'docs: Correct indentation in quickstart\n\nWhere a list item has multiple paragraphs, the additional paragraphs\nmust be indented by three spaces (i.e. the level of the first paragraph)\nto be considered part of the list item.\n\nChange-Id: I34fd1dcb52cffd9d545d10526109772aeebc2393\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",3,885516,3c38224f3e3925951337e09bd6a899f2f0f73e87,9,3,1,15334,,,0,"docs: Correct indentation in quickstart

Where a list item has multiple paragraphs, the additional paragraphs
must be indented by three spaces (i.e. the level of the first paragraph)
to be considered part of the list item.

Change-Id: I34fd1dcb52cffd9d545d10526109772aeebc2393
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/885516/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,3c38224f3e3925951337e09bd6a899f2f0f73e87,docs," .. code-block:: console kolla-ansible -i ./all-in-one bootstrap-servers .. code-block:: console kolla-ansible -i ./all-in-one prechecks .. code-block:: console kolla-ansible -i ./all-in-one deploy .. code-block:: console kolla-ansible post-deploy .. note:: The file will be generated in ``/etc/kolla/clouds.yaml``, you can use it by copying it to ``/etc/openstack`` or ``~/.config/openstack``, or by setting the ``OS_CLIENT_CONFIG_FILE`` environment variable."," .. code-block:: console kolla-ansible -i ./all-in-one bootstrap-servers .. code-block:: console kolla-ansible -i ./all-in-one prechecks .. code-block:: console kolla-ansible -i ./all-in-one deploy .. code-block:: console kolla-ansible post-deploy * The file will be generated in /etc/kolla/clouds.yaml, you can use it by copying it to /etc/openstack or ~/.config/openstack or setting OS_CLIENT_CONFIG_FILE environment variable.",13,11
openstack%2Fkolla-ansible~master~I6dd6b8b4a13a2e822089ab9af7937d583cc5bfba,openstack/kolla-ansible,master,I6dd6b8b4a13a2e822089ab9af7937d583cc5bfba,[docs] Add missing dependency to quickstart instructions,ABANDONED,2021-01-31 05:01:21.000000000,2023-06-07 16:01:19.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-01-31 05:01:21.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/106b775d9639c59b4fe0f590af1908080702123b', 'message': ""[docs] Add missing dependency to quickstart instructions\n\nRan through the quickstart instructions and the pre-checks\nweren't able to run python calling the docker SDK without\npython-docker installed.\n\nSigned-off-by: Danny Abukalam <danny@softiron.com>\n\nChange-Id: I6dd6b8b4a13a2e822089ab9af7937d583cc5bfba\n""}]",0,773253,106b775d9639c59b4fe0f590af1908080702123b,10,3,1,15108,,,0,"[docs] Add missing dependency to quickstart instructions

Ran through the quickstart instructions and the pre-checks
weren't able to run python calling the docker SDK without
python-docker installed.

Signed-off-by: Danny Abukalam <danny@softiron.com>

Change-Id: I6dd6b8b4a13a2e822089ab9af7937d583cc5bfba
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/773253/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,106b775d9639c59b4fe0f590af1908080702123b,quickstart-docker-dep, sudo apt install python3-dev libffi-dev gcc libssl-dev python-docker, sudo apt install python3-dev libffi-dev gcc libssl-dev,1,1
openstack%2Fcharm-ceph-rbd-mirror~master~Ia2ad44152cf620e9812bfbd58276735a7491949c,openstack/charm-ceph-rbd-mirror,master,Ia2ad44152cf620e9812bfbd58276735a7491949c,Add Kinetic and Zed support,MERGED,2023-06-02 20:38:56.000000000,2023-06-07 15:57:41.000000000,2023-06-07 15:57:41.000000000,"[{'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-02 20:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/015a878445e3326c70c6b3d26e7414f1f1d3c84e', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n* fix poetry-core addition in wheelhouse\n\nChange-Id: Ia2ad44152cf620e9812bfbd58276735a7491949c\n'}, {'number': 2, 'created': '2023-06-02 20:59:14.000000000', 'files': ['osci.yaml', 'bindep.txt', 'test-requirements.txt', 'build-requirements.txt', '.zuul.yaml', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/jammy-zed.yaml', 'tox.ini', 'src/tests/bundles/kinetic-zed.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/d448514464323246f31efbe4bb6e445100f6121a', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n* fix poetry-core addition in wheelhouse\n\nChange-Id: Ia2ad44152cf620e9812bfbd58276735a7491949c\n'}]",1,885163,d448514464323246f31efbe4bb6e445100f6121a,10,3,2,33717,,,0,"Add Kinetic and Zed support

* sync charm-helpers to classic charms
* change openstack-origin/source default to zed
* align testing with zed
* add new zed bundles
* add zed bundles to tests.yaml
* add zed tests to osci.yaml and .zuul.yaml
* update build-on and run-on bases
* add bindep.txt for py310
* sync tox.ini and requirements.txt for ruamel
* use charmcraft_channel 2.0/stable
* drop reactive plugin overrides
* move interface/layer env vars to charmcraft.yaml
* fix poetry-core addition in wheelhouse

Change-Id: Ia2ad44152cf620e9812bfbd58276735a7491949c
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/63/885163/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'bindep.txt', 'test-requirements.txt', 'build-requirements.txt', '.zuul.yaml', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/tests.yaml', 'tox.ini', 'src/tests/bundles/kinetic-zed.yaml']",11,015a878445e3326c70c6b3d26e7414f1f1d3c84e,ceph-lunar,"variables: openstack-origin: &openstack-origin distro local_overlay_enabled: False series: &series kinetic machines: '0': constraints: ""mem=3072M"" '1': constraints: ""mem=3072M"" '2': constraints: ""mem=3072M"" applications: keystone-mysql-router: charm: ch:mysql-router channel: latest/edge glance-mysql-router: charm: ch:mysql-router channel: latest/edge cinder-mysql-router: charm: ch:mysql-router channel: latest/edge mysql-innodb-cluster: charm: ch:mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' channel: latest/edge keystone: charm: ch:keystone num_units: 1 options: openstack-origin: *openstack-origin channel: latest/edge rabbitmq-server: charm: ch:rabbitmq-server num_units: 1 options: source: *openstack-origin channel: latest/edge cinder: charm: ch:cinder num_units: 1 options: block-device: None glance-api-version: 2 channel: latest/edge cinder-ceph: charm: ch:cinder-ceph num_units: 0 channel: latest/edge glance: charm: ch:glance num_units: 1 options: openstack-origin: *openstack-origin channel: latest/edge nova-compute: charm: ch:nova-compute num_units: 1 options: openstack-origin: *openstack-origin channel: latest/edge ceph-mon: charm: ch:ceph-mon num_units: 3 options: expected-osd-count: 3 source: *openstack-origin channel: quincy/edge ceph-osd: charm: ch:ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: source: *openstack-origin bluestore: False use-direct-io: False osd-devices: '/dev/test-non-existent' channel: quincy/edge ceph-rbd-mirror: series: *series charm: ../../../ceph-rbd-mirror.charm num_units: 1 options: source: *openstack-origin ceph-mon-b: charm: ch:ceph-mon num_units: 3 options: expected-osd-count: 3 source: *openstack-origin channel: quincy/edge ceph-osd-b: charm: ch:ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: source: *openstack-origin bluestore: False use-direct-io: False osd-devices: '/dev/test-non-existent' channel: quincy/edge ceph-rbd-mirror-b: series: *series charm: ../../../ceph-rbd-mirror.charm num_units: 1 options: source: *openstack-origin relations: - - keystone:shared-db - keystone-mysql-router:shared-db - - keystone-mysql-router:db-router - mysql-innodb-cluster:db-router - - glance:shared-db - glance-mysql-router:shared-db - - glance-mysql-router:db-router - mysql-innodb-cluster:db-router - - cinder:shared-db - cinder-mysql-router:shared-db - - cinder-mysql-router:db-router - mysql-innodb-cluster:db-router - - rabbitmq-server - cinder - - 'keystone:identity-service' - cinder - - 'keystone:identity-service' - glance - - cinder - cinder-ceph - - cinder-ceph:ceph - ceph-mon:client - - nova-compute:ceph-access - cinder-ceph:ceph-access - - nova-compute:amqp - rabbitmq-server:amqp - - glance:image-service - nova-compute:image-service - - glance - ceph-mon - - ceph-mon:osd - ceph-osd:mon - - ceph-mon - ceph-rbd-mirror:ceph-local - - ceph-mon - ceph-rbd-mirror-b:ceph-remote - - ceph-mon-b:osd - ceph-osd-b:mon - - ceph-mon-b - ceph-rbd-mirror-b:ceph-local - - ceph-mon-b - ceph-rbd-mirror:ceph-remote ",,399,45
openstack%2Fcharm-cinder~stable%2Fvictoria~Ia39177d6f47ddda0b1acb27cde02ae5e74a01032,openstack/charm-cinder,stable/victoria,Ia39177d6f47ddda0b1acb27cde02ae5e74a01032,Add nova section for Ussuri,MERGED,2023-02-02 14:15:30.000000000,2023-06-07 15:57:17.000000000,2023-06-07 15:57:17.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 21107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-02 14:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/dc83c2f43ecf0aa2ff08ab2f0af1a41a69d85663', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}, {'number': 2, 'created': '2023-02-17 21:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/e159db5a90c23d708c4480097c7399f4284c05ba', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}, {'number': 3, 'created': '2023-05-15 20:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/2d1f4fa983b0888bcb435ab00c60f6afa31869ad', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}, {'number': 4, 'created': '2023-05-31 20:05:34.000000000', 'files': ['templates/ussuri/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/8f1ce44171eaca3bc085b921c8815c6c6a36af4c', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}]",7,872575,8f1ce44171eaca3bc085b921c8815c6c6a36af4c,27,6,4,17097,,,0,"Add nova section for Ussuri

Commit 024de37 added the nova section on cinder.conf, but placed it
on the Victoria folder. This issue is also observed on Ussuri, so
this patch moves this from Victoria to Ussuri.

Closes-Bug: #1939389
Change-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032
(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/75/872575/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ussuri/cinder.conf'],1,dc83c2f43ecf0aa2ff08ab2f0af1a41a69d85663,,"############################################################################### # [ WARNING ] # cinder configuration file maintained by Juju # local changes may be overwritten. ############################################################################### [DEFAULT] rootwrap_config = /etc/cinder/rootwrap.conf api_paste_confg = /etc/cinder/api-paste.ini iscsi_helper = tgtadm verbose = {{ verbose }} debug = {{ debug }} use_syslog = {{ use_syslog }} auth_strategy = keystone state_path = /var/lib/cinder osapi_volume_workers = {{ workers }} {% if transport_url %} transport_url = {{ transport_url }} {% endif %} {% if use_internal_endpoints -%} swift_catalog_info = object-store:swift:internalURL keystone_catalog_info = identity:Identity Service:internalURL glance_catalog_info = image:glance:internalURL nova_catalog_info = compute:Compute Service:internalURL {% endif %} osapi_volume_listen = {{ bind_host }} {% if osapi_volume_listen_port -%} osapi_volume_listen_port = {{ osapi_volume_listen_port }} {% endif -%} {% if glance_api_servers -%} glance_api_servers = {{ glance_api_servers }} {% endif -%} {% if glance_api_version -%} glance_api_version = {{ glance_api_version }} {% endif -%} {% if region -%} os_region_name = {{ region }} {% endif -%} {% if user_config_flags -%} {% for key, value in user_config_flags.items() -%} {{ key }} = {{ value }} {% endfor -%} {% endif -%} volume_usage_audit_period = {{ volume_usage_audit_period }} {% if auth_host -%} cinder_internal_tenant_project_id = {{ admin_tenant_name }} cinder_internal_tenant_user_id = {{ admin_user }} {% endif -%} {% include ""parts/backends"" %} {% include ""section-keystone-authtoken-mitaka"" %} {% include ""parts/section-database"" %} {% include ""section-oslo-messaging-rabbit-ocata"" %} {% include ""section-oslo-notifications"" %} [oslo_concurrency] lock_path = /var/lock/cinder [keymgr] # XXX: hack to work around http://pad.lv/1516085 # will be superseded by SRU to cinder package encryption_auth_url = {{ service_protocol }}://{{ service_host }}:{{ service_port }}/v3 {% include ""section-oslo-middleware"" %} [nova] {% include ""parts/service-auth"" %} ",,79,0
openstack%2Fcharm-cinder~master~Iff4e3e4859ca9700e3e9b660eaa9b8fc79418416,openstack/charm-cinder,master,Iff4e3e4859ca9700e3e9b660eaa9b8fc79418416,DNM: Test CVE-2023-2088 with security-proposed pocket,ABANDONED,2023-06-06 17:42:02.000000000,2023-06-07 15:50:50.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 17:42:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/e3fee0356f27ea415506cd6f3b371e0b4561b622', 'message': 'DNM: Test CVE-2023-2088 with security-proposed pocket\n\nChange-Id: Iff4e3e4859ca9700e3e9b660eaa9b8fc79418416\n'}]",0,885378,e3fee0356f27ea415506cd6f3b371e0b4561b622,4,2,1,11805,,,0,"DNM: Test CVE-2023-2088 with security-proposed pocket

Change-Id: Iff4e3e4859ca9700e3e9b660eaa9b8fc79418416
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/78/885378/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e3fee0356f27ea415506cd6f3b371e0b4561b622,," TEST_MODEL_SETTINGS=cloudinit-userdata=""#cloud-config\napt:\n sources:\n overlay-ppa: source: ppa:ubuntu-security-proposed/ppa""",,1,0
openstack%2Fcharm-guide~master~Icc17b42b47275c83cc329b8952784c1c81cfe3a9,openstack/charm-guide,master,Icc17b42b47275c83cc329b8952784c1c81cfe3a9,Update guide for 2023.1,MERGED,2023-06-07 01:48:45.000000000,2023-06-07 15:41:07.000000000,2023-06-07 15:40:06.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 01:48:45.000000000', 'files': ['doc/source/getting-started/dashboard.rst', 'doc/source/getting-started/overlay.rst', 'doc/source/getting-started/bundle-jammy-2023.1.yaml', 'doc/source/getting-started/juju-status.rst', 'doc/source/getting-started/deploy.rst', 'doc/source/getting-started/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/80d52cbef7f60a16d684a30172c51be9a076b285', 'message': 'Update guide for 2023.1\n\nThe golden path tutorial (Getting Started) has been\nupdated for 2023.1 .\n\nChange-Id: Icc17b42b47275c83cc329b8952784c1c81cfe3a9\n'}]",1,885424,80d52cbef7f60a16d684a30172c51be9a076b285,7,2,1,30561,,,0,"Update guide for 2023.1

The golden path tutorial (Getting Started) has been
updated for 2023.1 .

Change-Id: Icc17b42b47275c83cc329b8952784c1c81cfe3a9
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/24/885424/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/getting-started/dashboard.rst', 'doc/source/getting-started/overlay.rst', 'doc/source/getting-started/bundle-jammy-2023.1.yaml', 'doc/source/getting-started/deploy.rst', 'doc/source/getting-started/juju-status.rst', 'doc/source/getting-started/index.rst']",6,80d52cbef7f60a16d684a30172c51be9a076b285,update-guide-to-2023.1,* OpenStack 2023.1 (Antelope)* MAAS 3.2.7 * Juju 2.9.42,* OpenStack Zed* MAAS 3.2.6 * Juju 2.9.38,106,105
openstack%2Fironic~master~I10d7845700275d9d03b98ebadd0f12540f1e7656,openstack/ironic,master,I10d7845700275d9d03b98ebadd0f12540f1e7656,Mock sleep in unit tests that rely on it,MERGED,2023-06-07 14:10:35.000000000,2023-06-07 15:38:23.000000000,2023-06-07 15:37:09.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 14:10:35.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_power.py', 'ironic/tests/unit/drivers/modules/ibmc/test_utils.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ca5b2feeee47e06ade1e62b09c28118e761378a8', 'message': 'Mock sleep in unit tests that rely on it\n\nThis change fixes the worst offenders, potentially reducing the test\nruns by more than 10 seconds.\n\nI could not fix iLO tests though because they heavily rely on time.sleep\nbeing precise.\n\nChange-Id: I10d7845700275d9d03b98ebadd0f12540f1e7656\n'}]",0,885497,ca5b2feeee47e06ade1e62b09c28118e761378a8,9,3,1,10239,,,0,"Mock sleep in unit tests that rely on it

This change fixes the worst offenders, potentially reducing the test
runs by more than 10 seconds.

I could not fix iLO tests though because they heavily rely on time.sleep
being precise.

Change-Id: I10d7845700275d9d03b98ebadd0f12540f1e7656
",git fetch https://review.opendev.org/openstack/ironic refs/changes/97/885497/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_power.py', 'ironic/tests/unit/drivers/modules/ibmc/test_utils.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",3,ca5b2feeee47e06ade1e62b09c28118e761378a8,long-tests," @mock.patch('time.sleep', autospec=True) def test__command_poll(self, mock_sleep): mock_sleep.assert_called_with(CONF.agent.command_wait_interval)", def test__command_poll(self):,11,4
openstack%2Fopenstack-helm-infra~master~I5913030634fe3f53b11ddb9bbe40d665f45a1254,openstack/openstack-helm-infra,master,I5913030634fe3f53b11ddb9bbe40d665f45a1254,replace scheduler.alpha.kubernetes.io/critical-pod with priorityClassName,MERGED,2023-06-06 02:57:59.000000000,2023-06-07 15:14:08.000000000,2023-06-07 15:13:08.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2023-06-06 02:57:59.000000000', 'files': ['calico/Chart.yaml', 'releasenotes/notes/calico.yaml', 'calico/templates/daemonset-calico-etcd.yaml', 'calico/templates/job-calico-settings.yaml', 'calico/templates/daemonset-calico-node.yaml', 'calico/templates/deployment-calico-kube-controllers.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0053fc5737304e598dc2372413544a739c65e8b3', 'message': 'replace scheduler.alpha.kubernetes.io/critical-pod with priorityClassName\n\nthis feature was deprecated in 1.13. Now it`s not work.[1]\n\n""scheduler.alpha.kubernetes.io/critical-pod annotation is removed. Pod priority (spec.priorityClassName) should be used instead to mark pods as critical. Action required!""[2]\n\n[1]https://github.com/kubernetes/kubernetes/issues/79548\n[2]https://github.com/kubernetes/kubernetes/pull/79554\n\nChange-Id: I5913030634fe3f53b11ddb9bbe40d665f45a1254\n'}]",1,885217,0053fc5737304e598dc2372413544a739c65e8b3,8,3,1,33173,,,0,"replace scheduler.alpha.kubernetes.io/critical-pod with priorityClassName

this feature was deprecated in 1.13. Now it`s not work.[1]

""scheduler.alpha.kubernetes.io/critical-pod annotation is removed. Pod priority (spec.priorityClassName) should be used instead to mark pods as critical. Action required!""[2]

[1]https://github.com/kubernetes/kubernetes/issues/79548
[2]https://github.com/kubernetes/kubernetes/pull/79554

Change-Id: I5913030634fe3f53b11ddb9bbe40d665f45a1254
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/17/885217/1 && git format-patch -1 --stdout FETCH_HEAD,"['calico/Chart.yaml', 'releasenotes/notes/calico.yaml', 'calico/templates/daemonset-calico-etcd.yaml', 'calico/templates/job-calico-settings.yaml', 'calico/templates/daemonset-calico-node.yaml', 'calico/templates/deployment-calico-kube-controllers.yaml']",6,0053fc5737304e598dc2372413544a739c65e8b3,fix-critical, priorityClassName: system-cluster-critical, scheduler.alpha.kubernetes.io/critical-pod: '',6,15
openstack%2Fpuppet-pacemaker~stable%2F1.5.x~Ib909f45b237a478119d4f90ce9f7b752668bad9d,openstack/puppet-pacemaker,stable/1.5.x,Ib909f45b237a478119d4f90ce9f7b752668bad9d,Avoid pick_default to detect promoted_max,MERGED,2023-06-07 13:53:59.000000000,2023-06-07 15:10:36.000000000,2023-06-07 15:10:36.000000000,"[{'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 13:53:59.000000000', 'files': ['manifests/resource/bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/3a9081f6128d4de0bef5e5563ca2e8d7a4ea6083', 'message': ""Avoid pick_default to detect promoted_max\n\nThis fixes the regression caused by [1], and avoid usage of\npick_default, which converts undef to an empty string ('').\n\nUsage of an empty string causes type validation failure later when\nthe pcmk_bundle resource is defined.\n\n[1] c332d43db6b81d44f56a5a4a67d9988df763b4de\n\nCloses-Bug: #1995565\nChange-Id: Ib909f45b237a478119d4f90ce9f7b752668bad9d\n(cherry picked from commit a0a0fc2fa8872dc60284b31161def2b128ba8966)\n""}]",0,885472,3a9081f6128d4de0bef5e5563ca2e8d7a4ea6083,9,3,1,30126,,,0,"Avoid pick_default to detect promoted_max

This fixes the regression caused by [1], and avoid usage of
pick_default, which converts undef to an empty string ('').

Usage of an empty string causes type validation failure later when
the pcmk_bundle resource is defined.

[1] c332d43db6b81d44f56a5a4a67d9988df763b4de

Closes-Bug: #1995565
Change-Id: Ib909f45b237a478119d4f90ce9f7b752668bad9d
(cherry picked from commit a0a0fc2fa8872dc60284b31161def2b128ba8966)
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/72/885472/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/resource/bundle.pp'],1,3a9081f6128d4de0bef5e5563ca2e8d7a4ea6083,master_to_1.5_sync, if $promoted_max { $used_promoted_max = $promoted_max } else { $used_promoted_max = $masters }," $used_promoted_max = pick_default($promoted_max, $masters)",5,1
openstack%2Fos-net-config~stable%2Fzed~If0cad8c856ee62064205b9a88f0148980653fcb2,openstack/os-net-config,stable/zed,If0cad8c856ee62064205b9a88f0148980653fcb2,Fix breaking vf-lag functionality in os-net-config,NEW,2023-05-31 05:38:45.000000000,2023-06-07 14:59:14.000000000,,"[{'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 24245}, {'_account_id': 33688}]","[{'number': 1, 'created': '2023-05-31 05:38:45.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_utils.py', 'os_net_config/objects.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/0800909f4b2d4369b2e36d950d6c1dae23053e7e', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n(cherry picked from commit b1a7c9c5f0c2832ff504ea4557305ca1b94a196e)\n'}]",0,884746,0800909f4b2d4369b2e36d950d6c1dae23053e7e,6,8,1,25241,,,0,"Fix breaking vf-lag functionality in os-net-config

Because of racing issue to activate vf-lag after moving the second
sriov_pf interface to switchdev mode in Nvidia\Mellanox nics, we may
bind sriov_vfs while the LAG is not active yet.
Another reason for breaking vf-lag functionality is that we are doing
ifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond
is member of ovs_bridge).

As a solution for this issue, we are doing the binding after assuring
the LAG is active, and also moving the ifdown/ifup before start binding

Closes-Bug: #2020085
Change-Id: If0cad8c856ee62064205b9a88f0148980653fcb2
(cherry picked from commit b1a7c9c5f0c2832ff504ea4557305ca1b94a196e)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/46/884746/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/tests/test_utils.py', 'os_net_config/objects.py', 'os_net_config/sriov_config.py']",4,0800909f4b2d4369b2e36d950d6c1dae23053e7e,,"MLNX_LAG_PATH = ""/sys/kernel/debug/mlx5/{pf_pci}/lag/state"" vf_lag_sriov_pfs_list = [] # Add sriovpf to vf_lag_sriov_pfs_list if it's # a linux bond member (lag_candidate) if item.get('lag_candidate', False): vf_lag_sriov_pfs_list.append(item['name']) if restart_openvswitch: restart_ovs_and_pfs_netdevs() if vf_lag_sriov_pfs_list and execution_from_cli: _wait_for_lag_creation(vf_lag_sriov_pfs_list) def _wait_for_lag_creation(lag_sriov_pf_list): for sriov_pf in lag_sriov_pf_list: pf_pci = get_pf_pci(sriov_pf) lag_path = MLNX_LAG_PATH.format(pf_pci=pf_pci) if os.path.exists(lag_path): for i in range(MAX_RETRIES): lag_state = common.get_file_data(lag_path).strip() if lag_state == ""active"": logger.info(f""VF-LAG is enabled for interface {sriov_pf}"" f"" after {i} retries"") break time.sleep(1) else: raise RuntimeError(""VF-LAG is not created for interface"" f"" {sriov_pf} after {i} retries"") else: logger.warning(f""Lag path {lag_path} does not exist for this "" ""kernel, skipping.."") ", if restart_openvswitch: restart_ovs_and_pfs_netdevs(),120,5
openstack%2Fnova~master~I2ba035c09ace20e9835d9d12a5c5bee17d616718,openstack/nova,master,I2ba035c09ace20e9835d9d12a5c5bee17d616718,Fix failed count for anti-affinity check,MERGED,2023-02-09 03:26:08.000000000,2023-06-07 14:36:55.000000000,2023-06-07 14:35:52.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-02-09 03:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da1c5c9fa8bfbf9ec27b6025b5b22f3e06a47b1f', 'message': 'Fix failed count for anti-affinity check\n\nThe late anti-affinity check runs in the compute manager to avoid parallel\nscheduling requests to invalidate the anti-affinity server group policy.\nWhen the check fails the instance is re-scheduled. However this failure\ncounted as a real instance boot failure of the compute host and can lead\nto de-prioritization of the compute host in the scheduler via\nBuildFailureWeigher. As the late anti-affinity check does not indicate\nany fault of the compute host itself it should not be counted towards the\nbuild failure counter.\n\nCloses-Bug: #1996732\nChange-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718\nSigned-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>\n'}, {'number': 2, 'created': '2023-02-09 03:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0d03e4a8dbfe3e608ea4cdf1cfb322c6ed54c84', 'message': 'Fix failed count for anti-affinity check\n\nThe late anti-affinity check runs in the compute manager to avoid\nparallel scheduling requests to invalidate the anti-affinity server\ngroup policy. When the check fails the instance is re-scheduled.\nHowever this failure counted as a real instance boot failure of the\ncompute host and can lead to de-prioritization of the compute host\nin the scheduler via BuildFailureWeigher. As the late anti-affinity\ncheck does not indicate any fault of the compute host itself it\nshould not be counted towards the build failure counter.\n\nCloses-Bug: #1996732\nChange-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718\nSigned-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>\n'}, {'number': 3, 'created': '2023-02-10 03:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3abd1ef09fc1f29fcb21a0026061f16c20a044ab', 'message': 'Fix failed count for anti-affinity check\n\nThe late anti-affinity check runs in the compute manager to avoid\nparallel scheduling requests to invalidate the anti-affinity server\ngroup policy. When the check fails the instance is re-scheduled.\nHowever this failure counted as a real instance boot failure of the\ncompute host and can lead to de-prioritization of the compute host\nin the scheduler via BuildFailureWeigher. As the late anti-affinity\ncheck does not indicate any fault of the compute host itself it\nshould not be counted towards the build failure counter.\n\nCloses-Bug: #1996732\nChange-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718\nSigned-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>\n'}, {'number': 4, 'created': '2023-02-10 04:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/942aafd3c314ae38d4d214cd0121318f75119c97', 'message': 'Fix failed count for anti-affinity check\n\nThe late anti-affinity check runs in the compute manager to avoid\nparallel scheduling requests to invalidate the anti-affinity server\ngroup policy. When the check fails the instance is re-scheduled.\nHowever this failure counted as a real instance boot failure of the\ncompute host and can lead to de-prioritization of the compute host\nin the scheduler via BuildFailureWeigher. As the late anti-affinity\ncheck does not indicate any fault of the compute host itself it\nshould not be counted towards the build failure counter.\n\nCloses-Bug: #1996732\nChange-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718\nSigned-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>\n'}, {'number': 5, 'created': '2023-02-15 05:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6af14c254df195c5104b2e9db508f6816c8f51fe', 'message': 'Fix failed count for anti-affinity check\n\nThe late anti-affinity check runs in the compute manager to avoid\nparallel scheduling requests to invalidate the anti-affinity server\ngroup policy. When the check fails the instance is re-scheduled.\nHowever this failure counted as a real instance boot failure of the\ncompute host and can lead to de-prioritization of the compute host\nin the scheduler via BuildFailureWeigher. As the late anti-affinity\ncheck does not indicate any fault of the compute host itself it\nshould not be counted towards the build failure counter.\n\nCloses-Bug: #1996732\nChange-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718\nSigned-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>\n'}, {'number': 6, 'created': '2023-02-22 20:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3040009f6903e68021168e098c9e5d29c4474a32', 'message': 'Fix failed count for anti-affinity check\n\nThe late anti-affinity check runs in the compute manager to avoid\nparallel scheduling requests to invalidate the anti-affinity server\ngroup policy. When the check fails the instance is re-scheduled.\nHowever this failure counted as a real instance boot failure of the\ncompute host and can lead to de-prioritization of the compute host\nin the scheduler via BuildFailureWeigher. As the late anti-affinity\ncheck does not indicate any fault of the compute host itself it\nshould not be counted towards the build failure counter.\nThis patch adds new build results to handle this case.\n\nCloses-Bug: #1996732\nChange-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718\nSigned-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>\n'}, {'number': 7, 'created': '2023-06-06 08:16:21.000000000', 'files': ['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/56d320a203a13f262a2e94e491af222032e453d3', 'message': 'Fix failed count for anti-affinity check\n\nThe late anti-affinity check runs in the compute manager to avoid\nparallel scheduling requests to invalidate the anti-affinity server\ngroup policy. When the check fails the instance is re-scheduled.\nHowever this failure counted as a real instance boot failure of the\ncompute host and can lead to de-prioritization of the compute host\nin the scheduler via BuildFailureWeigher. As the late anti-affinity\ncheck does not indicate any fault of the compute host itself it\nshould not be counted towards the build failure counter.\nThis patch adds new build results to handle this case.\n\nCloses-Bug: #1996732\nChange-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718\nSigned-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>\n'}]",40,873216,56d320a203a13f262a2e94e491af222032e453d3,55,6,7,34951,,,0,"Fix failed count for anti-affinity check

The late anti-affinity check runs in the compute manager to avoid
parallel scheduling requests to invalidate the anti-affinity server
group policy. When the check fails the instance is re-scheduled.
However this failure counted as a real instance boot failure of the
compute host and can lead to de-prioritization of the compute host
in the scheduler via BuildFailureWeigher. As the late anti-affinity
check does not indicate any fault of the compute host itself it
should not be counted towards the build failure counter.
This patch adds new build results to handle this case.

Closes-Bug: #1996732
Change-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718
Signed-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/873216/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py']",4,da1c5c9fa8bfbf9ec27b6025b5b22f3e06a47b1f,bug/1996732,RESCHEDULED_BY_ANTI_AFFINITY = 'rescheduled_by_anti-affinity' # Instance was rescheduled by anti-affinity violation,,70,9
openstack%2Fnova~master~Icaf3cc93edfea97ee4fa497bdeb5f7d631c8ae55,openstack/nova,master,Icaf3cc93edfea97ee4fa497bdeb5f7d631c8ae55,Process unlimited exceptions raised by unplug_vifs,MERGED,2023-04-03 14:39:44.000000000,2023-06-07 14:17:31.000000000,2023-06-07 14:16:10.000000000,"[{'_account_id': 4393}, {'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-04-03 14:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d3dca7ab7843ff5cf0edf5848a5d4926c48a63c', 'message': ""Process unlimited exceptions raised by unplug_vifs\n\nCurrently compute manager's _cleanup_allocated_networks() method\nexpects NotImplementedError or exception.NovaException when\ncalling self.driver.unplug_vifs.\n\nIn reality, other class of exception could be raised. It could break\nthe Nova Compute flow and leave instance in inconsistent state. This\npatch switches from exception.NovaException to all kinds of exceptions.\n\nCloses-bug: #2015092\nChange-Id: Icaf3cc93edfea97ee4fa497bdeb5f7d631c8ae55\n""}, {'number': 2, 'created': '2023-04-03 15:37:29.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dacae335e4c538f54a32f431469bd7059cba48c3', 'message': ""Process unlimited exceptions raised by unplug_vifs\n\nCurrently compute manager's _cleanup_allocated_networks() method\nexpects NotImplementedError or exception.NovaException when\ncalling self.driver.unplug_vifs.\n\nIn reality, other class of exception could be raised. It could break\nthe Nova Compute flow and leave instance in inconsistent state. This\npatch switches from exception.NovaException to all kinds of exceptions.\n\nCloses-bug: #2015092\nChange-Id: Icaf3cc93edfea97ee4fa497bdeb5f7d631c8ae55\n""}]",13,879350,dacae335e4c538f54a32f431469bd7059cba48c3,52,10,2,19234,,,0,"Process unlimited exceptions raised by unplug_vifs

Currently compute manager's _cleanup_allocated_networks() method
expects NotImplementedError or exception.NovaException when
calling self.driver.unplug_vifs.

In reality, other class of exception could be raised. It could break
the Nova Compute flow and leave instance in inconsistent state. This
patch switches from exception.NovaException to all kinds of exceptions.

Closes-bug: #2015092
Change-Id: Icaf3cc93edfea97ee4fa497bdeb5f7d631c8ae55
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/879350/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,8d3dca7ab7843ff5cf0edf5848a5d4926c48a63c,bug/2015092, except Exception as exc:, except exception.NovaException as exc:,26,2
openstack%2Fpuppet-pacemaker~stable%2F1.5.x~I9a1f5e2c6d5ef655f3dc681bb10c7ff9e4281c49,openstack/puppet-pacemaker,stable/1.5.x,I9a1f5e2c6d5ef655f3dc681bb10c7ff9e4281c49,bundle: Refactor handling of masters/promoted_max,MERGED,2023-06-07 09:58:12.000000000,2023-06-07 13:53:40.000000000,2023-06-07 13:53:40.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 09:58:12.000000000', 'files': ['manifests/resource/bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/186d910ec888aabd691ea4228ef4a2c36092d6b5', 'message': ""bundle: Refactor handling of masters/promoted_max\n\n... to avoid the following warning message.\n\n  Warning: Unknown variable: 'used_promoted_max'.\n\nChange-Id: I9a1f5e2c6d5ef655f3dc681bb10c7ff9e4281c49\n(cherry picked from commit c332d43db6b81d44f56a5a4a67d9988df763b4de)\n""}]",0,885409,186d910ec888aabd691ea4228ef4a2c36092d6b5,8,3,1,30126,,,0,"bundle: Refactor handling of masters/promoted_max

... to avoid the following warning message.

  Warning: Unknown variable: 'used_promoted_max'.

Change-Id: I9a1f5e2c6d5ef655f3dc681bb10c7ff9e4281c49
(cherry picked from commit c332d43db6b81d44f56a5a4a67d9988df763b4de)
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/09/885409/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/resource/bundle.pp'],1,186d910ec888aabd691ea4228ef4a2c36092d6b5,master_to_1.5_sync," if $::pacemaker::pcs_010 { if $promoted_max and $masters { } # promoted_max supersedes masters in pacemaker 2 (pcs >= 0.10) $used_promoted_max = pick_default($promoted_max, $masters) if $promoted_max { fail('Cannot use \'promoted_max\' without pacemaker 2 and pcs >= 0.10') } $used_promoted_max = undef", if $promoted_max { if !$::pacemaker::pcs_010 { fail('Cannot use \'promoted_max\' without pacemaker 2 and pcs >= 0.10') } else { $used_promoted_max = $promoted_max } } # promoted_max supersedes masters in pacemaker 2 (pcs >= 0.10) if $masters and $::pacemaker::pcs_010 { if $promoted_max { } else { $used_promoted_max = $masters },9,13
openstack%2Fnova~stable%2Fvictoria~I2ba035c09ace20e9835d9d12a5c5bee17d616718,openstack/nova,stable/victoria,I2ba035c09ace20e9835d9d12a5c5bee17d616718,Fix failed count for anti-affinity check,NEW,2023-06-06 09:08:05.000000000,2023-06-07 13:53:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 34951}]","[{'number': 1, 'created': '2023-06-06 09:08:05.000000000', 'files': ['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3853ccc5fdf2abaabe9a5810af3343f5c86790e6', 'message': 'Fix failed count for anti-affinity check\n\nThe late anti-affinity check runs in the compute manager to avoid\nparallel scheduling requests to invalidate the anti-affinity server\ngroup policy. When the check fails the instance is re-scheduled.\nHowever this failure counted as a real instance boot failure of the\ncompute host and can lead to de-prioritization of the compute host\nin the scheduler via BuildFailureWeigher. As the late anti-affinity\ncheck does not indicate any fault of the compute host itself it\nshould not be counted towards the build failure counter.\nThis patch adds new build results to handle this case.\n\nCloses-Bug: #1996732\nChange-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718\nSigned-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>\n(cherry picked from commit 56d320a203a13f262a2e94e491af222032e453d3)\n(cherry picked from commit 1b56714e9119ab4152e6f33985a499b2d83a491b)\n(cherry picked from commit 2f1d65774fbcf5c25c4ba53583b6a802a03f4c4d)\n(cherry picked from commit cd0403dd3b1099bd13da503500a50249db8e49ea)\n(cherry picked from commit 87488180e5633db5ef8d684684a4355de48ef428)\n(cherry picked from commit e48fb15aaa462813fe9334a83bc76b43eb465fbd)\n'}]",2,885349,3853ccc5fdf2abaabe9a5810af3343f5c86790e6,6,2,1,9708,,,0,"Fix failed count for anti-affinity check

The late anti-affinity check runs in the compute manager to avoid
parallel scheduling requests to invalidate the anti-affinity server
group policy. When the check fails the instance is re-scheduled.
However this failure counted as a real instance boot failure of the
compute host and can lead to de-prioritization of the compute host
in the scheduler via BuildFailureWeigher. As the late anti-affinity
check does not indicate any fault of the compute host itself it
should not be counted towards the build failure counter.
This patch adds new build results to handle this case.

Closes-Bug: #1996732
Change-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718
Signed-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>
(cherry picked from commit 56d320a203a13f262a2e94e491af222032e453d3)
(cherry picked from commit 1b56714e9119ab4152e6f33985a499b2d83a491b)
(cherry picked from commit 2f1d65774fbcf5c25c4ba53583b6a802a03f4c4d)
(cherry picked from commit cd0403dd3b1099bd13da503500a50249db8e49ea)
(cherry picked from commit 87488180e5633db5ef8d684684a4355de48ef428)
(cherry picked from commit e48fb15aaa462813fe9334a83bc76b43eb465fbd)
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/885349/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py']",5,3853ccc5fdf2abaabe9a5810af3343f5c86790e6,bug/1996732,"# Instance failed by policy violation (such as affinity or anti-affinity) # and was not rescheduled. In this case, the node's failed count won't be # increased. FAILED_BY_POLICY = 'failed_by_policy' # Instance failed by policy violation (such as affinity or anti-affinity) # but was rescheduled. In this case, the node's failed count won't be # increased. RESCHEDULED_BY_POLICY = 'rescheduled_by_policy'",,265,14
openstack%2Fpuppet-pacemaker~stable%2F1.5.x~I912080a8a9b8002e96d5e37f8e3dfda13f4250db,openstack/puppet-pacemaker,stable/1.5.x,I912080a8a9b8002e96d5e37f8e3dfda13f4250db,Expose run_arping to control IP collisions detection,MERGED,2023-06-07 10:00:15.000000000,2023-06-07 13:45:06.000000000,2023-06-07 13:45:06.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 10:00:15.000000000', 'files': ['manifests/resource/ip.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/0caacf3d23b27adccb936681eefb63fddf967679', 'message': 'Expose run_arping to control IP collisions detection\n\nThe IPaddr2 resource-agent offers the option to run arping\nfor IPv4 collision detection.\nThis commit exposes the run_arping parameter, allowing operators\nto eventually enable it via hieradata setting:\n\npacemaker::resource::ip::run_arping: true\n\n\nChange-Id: I912080a8a9b8002e96d5e37f8e3dfda13f4250db\n(cherry picked from commit 099af1d0dabdb2ddab203eb66136619ab3647db0)\n'}]",0,885470,0caacf3d23b27adccb936681eefb63fddf967679,8,3,1,30126,,,0,"Expose run_arping to control IP collisions detection

The IPaddr2 resource-agent offers the option to run arping
for IPv4 collision detection.
This commit exposes the run_arping parameter, allowing operators
to eventually enable it via hieradata setting:

pacemaker::resource::ip::run_arping: true


Change-Id: I912080a8a9b8002e96d5e37f8e3dfda13f4250db
(cherry picked from commit 099af1d0dabdb2ddab203eb66136619ab3647db0)
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/70/885470/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/resource/ip.pp'],1,0caacf3d23b27adccb936681eefb63fddf967679,master_to_1.5_sync,"# [*run_arping*] # (optional) when run_arping is enabled pacemaker runs arping for IPv4 collision detection check. # Defaults to undef # $run_arping = lookup('pacemaker::resource::ip::run_arping', undef, undef, undef), $run_arping_option = $run_arping ? { undef => '', default => "" run_arping=${run_arping}"" } resource_params => join(['ip=', $ip_address, $cidr_option, $nic_option, $ipv6_addrlabel_option, $run_arping_option]),"," resource_params => join(['ip=', $ip_address, $cidr_option, $nic_option, $ipv6_addrlabel_option]),",11,1
openstack%2Fpuppet-pacemaker~stable%2F1.5.x~Iebb2c496e79604a68171c82b07af3f8efd20b50d,openstack/puppet-pacemaker,stable/1.5.x,Iebb2c496e79604a68171c82b07af3f8efd20b50d,remove unicode from code,MERGED,2023-06-07 10:00:36.000000000,2023-06-07 13:21:19.000000000,2023-06-07 13:20:22.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 10:00:36.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/eb3d9d269b2bb3b0c03025f9636bb663daa9728a', 'message': 'remove unicode from code\n\nChange-Id: Iebb2c496e79604a68171c82b07af3f8efd20b50d\n(cherry picked from commit 7add07357c2a96bf4637331bee22154ee5cc1d8a)\n'}]",0,885471,eb3d9d269b2bb3b0c03025f9636bb663daa9728a,9,3,1,30126,,,0,"remove unicode from code

Change-Id: Iebb2c496e79604a68171c82b07af3f8efd20b50d
(cherry picked from commit 7add07357c2a96bf4637331bee22154ee5cc1d8a)
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/71/885471/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,eb3d9d269b2bb3b0c03025f9636bb663daa9728a,master_to_1.5_sync,"project = 'puppet-pacemaker Release Notes' copyright = '2016, Puppet OpenStack Developers' ('index', 'puppet-pacemakerReleaseNotes.tex', 'puppet-pacemaker Release Notes Documentation', '2016, Puppet OpenStack Developers', 'manual'), ('index', 'puppet-pacemakerreleasenotes', 'puppet-pacemaker Release Notes Documentation', ['2016, Puppet OpenStack Developers'], 1) ('index', 'puppet-pacemakerReleaseNotes', 'puppet-pacemaker Release Notes Documentation', '2016, Puppet OpenStack Developers', 'puppet-pacemakerReleaseNotes', 'One line description of project.',","project = u'puppet-pacemaker Release Notes' copyright = u'2016, Puppet OpenStack Developers' ('index', 'puppet-pacemakerReleaseNotes.tex', u'puppet-pacemaker Release Notes Documentation', u'2016, Puppet OpenStack Developers', 'manual'), ('index', 'puppet-pacemakerreleasenotes', u'puppet-pacemaker Release Notes Documentation', [u'2016, Puppet OpenStack Developers'], 1) ('index', 'puppet-pacemakerReleaseNotes', u'puppet-pacemaker Release Notes Documentation', u'2016, Puppet OpenStack Developers', 'puppet-pacemakerReleaseNotes', 'One line description of project.',",8,8
openstack%2Fnova~stable%2Fvictoria~I7412b16be310632da59a6139df9f0913281b5d77,openstack/nova,stable/victoria,I7412b16be310632da59a6139df9f0913281b5d77,Cleanup old resize instances dir before resize,NEW,2022-11-16 13:40:02.000000000,2023-06-07 12:44:04.000000000,,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-16 13:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e991fab70f68341499715bb3b3686c716e0660c', 'message': 'Cleanup old resize instances dir before resize\n\nIf there is a failed resize that also failed the cleanup\nprocess performed by _cleanup_remote_migration() the retry\nof the resize will fail because it cannot rename the current\ninstances directory to _resize.\n\nThis renames the _cleanup_failed_migration() that does the\nsame logic we want to _cleanup_failed_instance_base() and\nuses it for both migration and resize cleanup of directory.\n\nIt then simply calls _cleanup_failed_instances_base() with\nthe resize dir path before trying a resize.\n\nConflicts:\n\n- nova/tests/unit/virt/libvirt/test_driver.py\n  There is no need to mock\n  nova.virt.libvirt.driver.LibvirtDriver.unplug_vifs\n  in stable/victoria.\n\nCloses-Bug: 1960230\nChange-Id: I7412b16be310632da59a6139df9f0913281b5d77\n(cherry picked from commit 9111b99f739d41c092db8d01712a5aa72388b5fb)\n(cherry picked from commit 31179f62f1c832e0e894d04e9c9dd59978577cc0)\n'}, {'number': 2, 'created': '2022-11-16 13:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d2219111126873c5797da60088ee924b69acae1', 'message': 'Cleanup old resize instances dir before resize\n\nIf there is a failed resize that also failed the cleanup\nprocess performed by _cleanup_remote_migration() the retry\nof the resize will fail because it cannot rename the current\ninstances directory to _resize.\n\nThis renames the _cleanup_failed_migration() that does the\nsame logic we want to _cleanup_failed_instance_base() and\nuses it for both migration and resize cleanup of directory.\n\nIt then simply calls _cleanup_failed_instances_base() with\nthe resize dir path before trying a resize.\n\nConflicts:\n\n- nova/tests/unit/virt/libvirt/test_driver.py\n  There is no need to mock\n  nova.virt.libvirt.driver.LibvirtDriver.unplug_vifs\n  in stable/victoria.\n\nCloses-Bug: 1960230\nChange-Id: I7412b16be310632da59a6139df9f0913281b5d77\n(cherry picked from commit 9111b99f739d41c092db8d01712a5aa72388b5fb)\n(cherry picked from commit 31179f62f1c832e0e894d04e9c9dd59978577cc0)\n(cherry picked from commit 88954da0c5670d6c8469b4b91cca1929a5a2a147)\n'}, {'number': 3, 'created': '2023-02-15 13:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4a790042f85a25134b6554ff777c2c64929ddcb', 'message': 'Cleanup old resize instances dir before resize\n\nIf there is a failed resize that also failed the cleanup\nprocess performed by _cleanup_remote_migration() the retry\nof the resize will fail because it cannot rename the current\ninstances directory to _resize.\n\nThis renames the _cleanup_failed_migration() that does the\nsame logic we want to _cleanup_failed_instance_base() and\nuses it for both migration and resize cleanup of directory.\n\nIt then simply calls _cleanup_failed_instances_base() with\nthe resize dir path before trying a resize.\n\nCloses-Bug: 1960230\nChange-Id: I7412b16be310632da59a6139df9f0913281b5d77\n(cherry picked from commit 9111b99f739d41c092db8d01712a5aa72388b5fb)\n(cherry picked from commit 31179f62f1c832e0e894d04e9c9dd59978577cc0)\n(cherry picked from commit 88954da0c5670d6c8469b4b91cca1929a5a2a147)\n'}, {'number': 4, 'created': '2023-03-16 13:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e640fd479cd2e6caf4b4f1bb958a7666b1ebb709', 'message': 'Cleanup old resize instances dir before resize\n\nIf there is a failed resize that also failed the cleanup\nprocess performed by _cleanup_remote_migration() the retry\nof the resize will fail because it cannot rename the current\ninstances directory to _resize.\n\nThis renames the _cleanup_failed_migration() that does the\nsame logic we want to _cleanup_failed_instance_base() and\nuses it for both migration and resize cleanup of directory.\n\nIt then simply calls _cleanup_failed_instances_base() with\nthe resize dir path before trying a resize.\n\nCloses-Bug: 1960230\nChange-Id: I7412b16be310632da59a6139df9f0913281b5d77\n(cherry picked from commit 9111b99f739d41c092db8d01712a5aa72388b5fb)\n(cherry picked from commit 31179f62f1c832e0e894d04e9c9dd59978577cc0)\n(cherry picked from commit 88954da0c5670d6c8469b4b91cca1929a5a2a147)\n'}, {'number': 5, 'created': '2023-04-07 11:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bb09e31e188bd4bd79a1fd4674e4d792a3ad404', 'message': 'Cleanup old resize instances dir before resize\n\nIf there is a failed resize that also failed the cleanup\nprocess performed by _cleanup_remote_migration() the retry\nof the resize will fail because it cannot rename the current\ninstances directory to _resize.\n\nThis renames the _cleanup_failed_migration() that does the\nsame logic we want to _cleanup_failed_instance_base() and\nuses it for both migration and resize cleanup of directory.\n\nIt then simply calls _cleanup_failed_instances_base() with\nthe resize dir path before trying a resize.\n\nCloses-Bug: 1960230\nChange-Id: I7412b16be310632da59a6139df9f0913281b5d77\n(cherry picked from commit 9111b99f739d41c092db8d01712a5aa72388b5fb)\n(cherry picked from commit 31179f62f1c832e0e894d04e9c9dd59978577cc0)\n(cherry picked from commit 88954da0c5670d6c8469b4b91cca1929a5a2a147)\n'}, {'number': 6, 'created': '2023-05-16 11:21:25.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1960230-cleanup-instances-dir-resize-56282e1b436a4908.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/60afd0ae3bc0727322fc940b60da2d0c0c1132c1', 'message': 'Cleanup old resize instances dir before resize\n\nIf there is a failed resize that also failed the cleanup\nprocess performed by _cleanup_remote_migration() the retry\nof the resize will fail because it cannot rename the current\ninstances directory to _resize.\n\nThis renames the _cleanup_failed_migration() that does the\nsame logic we want to _cleanup_failed_instance_base() and\nuses it for both migration and resize cleanup of directory.\n\nIt then simply calls _cleanup_failed_instances_base() with\nthe resize dir path before trying a resize.\n\nCloses-Bug: 1960230\nChange-Id: I7412b16be310632da59a6139df9f0913281b5d77\n(cherry picked from commit 9111b99f739d41c092db8d01712a5aa72388b5fb)\n(cherry picked from commit 31179f62f1c832e0e894d04e9c9dd59978577cc0)\n(cherry picked from commit bdbeb34a17f851fa7e6483e28cde951d26df7951)\n'}]",12,864730,60afd0ae3bc0727322fc940b60da2d0c0c1132c1,37,4,6,19234,,,0,"Cleanup old resize instances dir before resize

If there is a failed resize that also failed the cleanup
process performed by _cleanup_remote_migration() the retry
of the resize will fail because it cannot rename the current
instances directory to _resize.

This renames the _cleanup_failed_migration() that does the
same logic we want to _cleanup_failed_instance_base() and
uses it for both migration and resize cleanup of directory.

It then simply calls _cleanup_failed_instances_base() with
the resize dir path before trying a resize.

Closes-Bug: 1960230
Change-Id: I7412b16be310632da59a6139df9f0913281b5d77
(cherry picked from commit 9111b99f739d41c092db8d01712a5aa72388b5fb)
(cherry picked from commit 31179f62f1c832e0e894d04e9c9dd59978577cc0)
(cherry picked from commit bdbeb34a17f851fa7e6483e28cde951d26df7951)
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/864730/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1960230-cleanup-instances-dir-resize-56282e1b436a4908.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,1e991fab70f68341499715bb3b3686c716e0660c,bug/1960230," @mock.patch('nova.virt.libvirt.driver.LibvirtDriver.' '_cleanup_failed_instance_base') mock_get_disk_info, mock_vtpm, mock_cleanup, block_device_info=None, params_for_instance=None): mock_cleanup.assert_called_once() mock_cleanup.reset_mock() mock_cleanup.assert_called_once() def test_cleanup_failed_instance_base(self, mock_rmtree): self.drvr._cleanup_failed_instance_base('/fake/inst')"," mock_get_disk_info, mock_vtpm, block_device_info=None, params_for_instance=None): def test_cleanup_failed_migration(self, mock_rmtree): self.drvr._cleanup_failed_migration('/fake/inst')",22,8
openstack%2Ftripleo-heat-templates~master~I812b64ca003e82b089f6f554174c46f511000bee,openstack/tripleo-heat-templates,master,I812b64ca003e82b089f6f554174c46f511000bee,Do not disable nova-compute service if it's not enabled,NEW,2023-05-01 13:03:08.000000000,2023-06-07 12:23:07.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-05-01 13:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33064a9e8de2687160ef06589ee0f64ae47597bf', 'message': ""Do not disable nova-compute service if it's not enabled\n\nDo not disable nova-compute service if it's not enabled as this playbook\njust fails if a nova-compute service is already disabled.  This works\nwell when scaling up / down nodes that are enabled but lamentably fails\nif an operator actually disabled the service before ...\n\nChange-Id: I812b64ca003e82b089f6f554174c46f511000bee\n""}, {'number': 2, 'created': '2023-05-04 18:33:57.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad270071fbcfe9e667a8fcb2d6680b7eba6b440a', 'message': ""Do not disable nova-compute service if it's not enabled\n\nDo not disable nova-compute service if it's not enabled as this playbook\njust fails if a nova-compute service is already disabled.  This works\nwell when scaling up / down nodes that are enabled but lamentably fails\nif an operator actually disabled the service before ...\n\nChange-Id: I812b64ca003e82b089f6f554174c46f511000bee\n""}]",6,881913,ad270071fbcfe9e667a8fcb2d6680b7eba6b440a,10,3,2,7130,,,0,"Do not disable nova-compute service if it's not enabled

Do not disable nova-compute service if it's not enabled as this playbook
just fails if a nova-compute service is already disabled.  This works
well when scaling up / down nodes that are enabled but lamentably fails
if an operator actually disabled the service before ...

Change-Id: I812b64ca003e82b089f6f554174c46f511000bee
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/881913/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,33064a9e8de2687160ef06589ee0f64ae47597bf,scale_already_disabled," block - name: Validate nova-compute is enabled command: openstack compute service list --host {{ nova_compute_service[0].Host }} --service nova-compute -f value -c Status | grep -q enabled delegate_to: ""{{ groups['Undercloud'] | first }}"" check_mode: false when: - not is_additional_cell|bool changed_when: nova_compute_service_state.rc != 0 register: nova_compute_service_state - not is_additional_cell|bool and ('rc' in nova_compute_service_state and nova_compute_service_state.rc == 0)", block: - not is_additional_cell|bool,10,2
openstack%2Ftripleo-ansible~master~I716a775216fb3e608755d93fda2ae17c07dfbeb5,openstack/tripleo-ansible,master,I716a775216fb3e608755d93fda2ae17c07dfbeb5,Added the tripleo_libvirt role,NEW,2022-02-22 13:40:28.000000000,2023-06-07 12:21:25.000000000,,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-02-22 13:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c0747d1e1d753647a805d9d1dbe018ba963c8f89', 'message': 'Added the tripleo_libvirt role\n\nAdded the tripleo_libvirt role\n\nChange-Id: I716a775216fb3e608755d93fda2ae17c07dfbeb5\n'}, {'number': 2, 'created': '2022-02-22 13:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a31df5a97a42d6364ae42acd2040ccbe28a32883', 'message': 'Added the tripleo_libvirt role\n\nAdded the tripleo_libvirt role\n\nChange-Id: I716a775216fb3e608755d93fda2ae17c07dfbeb5\n'}, {'number': 3, 'created': '2022-02-22 13:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f5af32459b032823adb28cc857945e65d6b0b1d0', 'message': 'Added the tripleo_libvirt role\n\nAdded the tripleo_libvirt role\n\nChange-Id: I716a775216fb3e608755d93fda2ae17c07dfbeb5\n'}, {'number': 4, 'created': '2022-02-22 14:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1d7fa5559090791d1feec0236bf1ed802f1d8478', 'message': 'Added the tripleo_libvirt role\n\nAdded the tripleo_libvirt role\n\nChange-Id: I716a775216fb3e608755d93fda2ae17c07dfbeb5\n'}, {'number': 5, 'created': '2022-02-22 14:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e564efda6f37959855e4b149c783370ed072a3a', 'message': 'Added the tripleo_libvirt role\n\nAdded the tripleo_libvirt role\n\nChange-Id: I716a775216fb3e608755d93fda2ae17c07dfbeb5\n'}, {'number': 6, 'created': '2022-02-22 14:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/482c88e17f66cdcde1b2d37e7210556833e0bdbc', 'message': 'Added the tripleo_libvirt role\n\nAdded the tripleo_libvirt role\n\nChange-Id: I716a775216fb3e608755d93fda2ae17c07dfbeb5\n'}, {'number': 7, 'created': '2022-02-22 15:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0af100bd09cab2e375bf59dece4e20b06fd517d3', 'message': 'Added the tripleo_libvirt role\n\nAdded the tripleo_libvirt role\n\nChange-Id: I716a775216fb3e608755d93fda2ae17c07dfbeb5\n'}, {'number': 8, 'created': '2022-03-10 19:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8526c98df39f06f3f202f190ecd416bf6b2b5bda', 'message': 'Added the tripleo_libvirt role\n\nAdded the tripleo_libvirt role\n\nChange-Id: I716a775216fb3e608755d93fda2ae17c07dfbeb5\n'}, {'number': 9, 'created': '2022-03-14 13:27:21.000000000', 'files': ['tripleo_ansible/roles/tripleo_libvirt/molecule/preexisting_config/prepare.yml', 'tripleo_ansible/roles/tripleo_libvirt/molecule/custom_config/Dockerfile', 'tripleo_ansible/roles/tripleo_libvirt/tasks/main.yml', 'tripleo_ansible/roles/tripleo_libvirt/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_libvirt/molecule/custom_config/verify.yml', 'tripleo_ansible/roles/tripleo_libvirt/molecule/custom_config/molecule.yml', 'tripleo_ansible/roles/tripleo_libvirt/molecule/preexisting_config/converge.yml', 'tripleo_ansible/roles/tripleo_libvirt/tasks/disable_libvirt.yml', 'tripleo_ansible/roles/tripleo_libvirt/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_libvirt/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_libvirt/molecule/custom_config/converge.yml', 'tripleo_ansible/roles/tripleo_libvirt/molecule/custom_config/prepare.yml', 'tripleo_ansible/roles/tripleo_libvirt/molecule/preexisting_config/verify.yml', 'tripleo_ansible/roles/tripleo_libvirt/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_libvirt/molecule/preexisting_config/molecule.yml', 'tripleo_ansible/roles/tripleo_libvirt/molecule/preexisting_config/Dockerfile', 'tripleo_ansible/roles/tripleo_libvirt/meta/main.yml', 'tripleo_ansible/roles/tripleo_libvirt/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2521826502f16aed5818fc895b1f685452b8f5dc', 'message': 'Added the tripleo_libvirt role\n\nAdded the tripleo_libvirt role\n\nChange-Id: I716a775216fb3e608755d93fda2ae17c07dfbeb5\n'}]",29,830420,2521826502f16aed5818fc895b1f685452b8f5dc,33,5,9,7130,,,0,"Added the tripleo_libvirt role

Added the tripleo_libvirt role

Change-Id: I716a775216fb3e608755d93fda2ae17c07dfbeb5
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/830420/5 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_libvirt/tasks/host_prep.yml'],1,c0747d1e1d753647a805d9d1dbe018ba963c8f89,libvirtd_disable,"--- # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: check if libvirt is installed command: /usr/bin/rpm -q --whatprovides libvirt-daemon failed_when: false register: libvirt_installed check_mode: false - name: make sure libvirt services are disabled and masked service: name: ""{{ item }}"" state: stopped enabled: false masked: true daemon_reload: true loop: - libvirtd.service - virtlogd.socket when: libvirt_installed.rc == 0 ",,33,0
openstack%2Fkayobe~stable%2Fxena~I0d7ab0d8ff5b16ac5de8e50e63400bd455996555,openstack/kayobe,stable/xena,I0d7ab0d8ff5b16ac5de8e50e63400bd455996555,Allow to use own repos.y[a]ml file to build containers,MERGED,2023-04-20 08:54:17.000000000,2023-06-07 12:09:34.000000000,2023-06-07 12:08:35.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-04-20 08:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b4373aa29bdb9829fcf27ecddb00766a0f9aaf58', 'message': 'Allow to use own repos.y[a]ml file to build containers\n\nFollowup the I0b07da22fea27e0ff4e90aaad19e50d84ff9a121 from Kolla.\nThis change allow to use own repos.y[a]ml file to build containers.\nMultiple Environments supported.\n\nChange-Id: I0d7ab0d8ff5b16ac5de8e50e63400bd455996555\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 070621a45df11fd2487ddc38f715c1075524ee93)\n'}, {'number': 2, 'created': '2023-06-01 20:58:27.000000000', 'files': ['roles/kayobe-diagnostics/tasks/pre.yml', 'ansible/roles/kolla-build/templates/kolla/kolla-build.conf', 'releasenotes/notes/user-provided-repos-yaml-07e1f872225059a6.yaml', 'roles/kayobe-diagnostics/files/get_logs.sh', 'ansible/roles/kolla-build/tasks/main.yml', 'ansible/roles/kolla-build/defaults/main.yml', 'doc/source/multiple-environments.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3d92659a5006d5d5bf7e758280120f71f99adaf3', 'message': 'Allow to use own repos.y[a]ml file to build containers\n\nFollowup the I0b07da22fea27e0ff4e90aaad19e50d84ff9a121 from Kolla.\nThis change allow to use own repos.y[a]ml file to build containers.\nMultiple Environments supported.\n\nAlso, this change contains I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\n\nChange-Id: I0d7ab0d8ff5b16ac5de8e50e63400bd455996555\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 070621a45df11fd2487ddc38f715c1075524ee93)\n(cherry picked from commit 7088ff2c2f10ba9897d1cd5424fea6d9268020a9)\n'}]",0,880925,3d92659a5006d5d5bf7e758280120f71f99adaf3,15,5,2,14200,,,0,"Allow to use own repos.y[a]ml file to build containers

Followup the I0b07da22fea27e0ff4e90aaad19e50d84ff9a121 from Kolla.
This change allow to use own repos.y[a]ml file to build containers.
Multiple Environments supported.

Also, this change contains I209459ecf5b1a6e5f541cbc72d74aa7defb459d4

Change-Id: I0d7ab0d8ff5b16ac5de8e50e63400bd455996555
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 070621a45df11fd2487ddc38f715c1075524ee93)
(cherry picked from commit 7088ff2c2f10ba9897d1cd5424fea6d9268020a9)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/25/880925/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-build/templates/kolla/kolla-build.conf', 'releasenotes/notes/user-provided-repos-yaml-07e1f872225059a6.yaml', 'ansible/roles/kolla-build/tasks/main.yml', 'doc/source/multiple-environments.rst']",4,b4373aa29bdb9829fcf27ecddb00766a0f9aaf58,user-provided-repos-yaml,* ``kolla/repos.yml`` or ``kolla/repos.yaml``,,38,0
openstack%2Fproject-config~master~I6d6bcc0e9cfef059de70bbb19e4254e8d29d415b,openstack/project-config,master,I6d6bcc0e9cfef059de70bbb19e4254e8d29d415b,Cache new cirros images,MERGED,2023-06-01 09:39:41.000000000,2023-06-07 12:06:50.000000000,2023-06-07 11:39:51.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 09:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/65499b9f466dfd3ef22ff45f215b789c9e986e6c', 'message': 'Cache new cirros images\n\nThe cirros project has released new images, add them to our cache prior\nto actually using them in the CI. We can remove the old images once the\nmigration is completed and not too many stable branches using the old\nimages are still active, but comparing the size of these in relation to\nthe total size of our images, the impact of this should be too large in\ncomparison to the benefit in CI stability.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I6d6bcc0e9cfef059de70bbb19e4254e8d29d415b\n'}, {'number': 2, 'created': '2023-06-01 16:26:55.000000000', 'files': ['nodepool/elements/cache-devstack/source-repository-images'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6b1cfbe079f1eab17e424ec54f72a58d6584fef7', 'message': ""Cache new cirros images\n\nThe cirros project has released new images, add them to our cache prior\nto actually using them in the CI. We can remove the old images once the\nmigration is completed and not too many stable branches using the old\nimages are still active, but comparing the size of these in relation to\nthe total size of our images, the impact of this shouldn't be too large\nin comparison to the benefit in CI stability.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I6d6bcc0e9cfef059de70bbb19e4254e8d29d415b\n""}]",3,885005,6b1cfbe079f1eab17e424ec54f72a58d6584fef7,14,2,2,13252,,,0,"Cache new cirros images

The cirros project has released new images, add them to our cache prior
to actually using them in the CI. We can remove the old images once the
migration is completed and not too many stable branches using the old
images are still active, but comparing the size of these in relation to
the total size of our images, the impact of this shouldn't be too large
in comparison to the benefit in CI stability.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I6d6bcc0e9cfef059de70bbb19e4254e8d29d415b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/05/885005/2 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/cache-devstack/source-repository-images'],1,65499b9f466dfd3ef22ff45f215b789c9e986e6c,bump-cirros-version,cirros-0.5.3-x86_64-disk.img file /opt/cache/files/cirros-0.5.3-x86_64-disk.img https://download.cirros-cloud.net/0.5.3/cirros-0.5.3-x86_64-disk.img cirros-0.5.3-x86_64-uec.tar.gz file /opt/cache/files/cirros-0.5.3-x86_64-uec.tar.gz https://download.cirros-cloud.net/0.5.3/cirros-0.5.3-x86_64-uec.tar.gz cirros-0.5.3-aarch64-disk.img file /opt/cache/files/cirros-0.5.3-aarch64-disk.img https://download.cirros-cloud.net/0.5.3/cirros-0.5.3-aarch64-disk.imgcirros-0.6.2-x86_64-disk.img file /opt/cache/files/cirros-0.6.2-x86_64-disk.img https://download.cirros-cloud.net/0.6.2/cirros-0.6.2-x86_64-disk.img cirros-0.6.2-x86_64-uec.tar.gz file /opt/cache/files/cirros-0.6.2-x86_64-uec.tar.gz https://download.cirros-cloud.net/0.6.2/cirros-0.6.2-x86_64-uec.tar.gz cirros-0.6.2-aarch64-disk.img file /opt/cache/files/cirros-0.6.2-aarch64-disk.img https://download.cirros-cloud.net/0.6.2/cirros-0.6.2-aarch64-disk.img,,6,0
openstack%2Fkayobe~stable%2Fyoga~I0d7ab0d8ff5b16ac5de8e50e63400bd455996555,openstack/kayobe,stable/yoga,I0d7ab0d8ff5b16ac5de8e50e63400bd455996555,Allow to use own repos.y[a]ml file to build containers,MERGED,2023-04-20 08:53:51.000000000,2023-06-07 12:04:46.000000000,2023-06-07 12:03:47.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-04-20 08:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cd15405b168a005f633f30401fe073c59f5d68f2', 'message': 'Allow to use own repos.y[a]ml file to build containers\n\nFollowup the I0b07da22fea27e0ff4e90aaad19e50d84ff9a121 from Kolla.\nThis change allow to use own repos.y[a]ml file to build containers.\nMultiple Environments supported.\n\nChange-Id: I0d7ab0d8ff5b16ac5de8e50e63400bd455996555\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 070621a45df11fd2487ddc38f715c1075524ee93)\n'}, {'number': 2, 'created': '2023-06-01 20:53:02.000000000', 'files': ['roles/kayobe-diagnostics/tasks/pre.yml', 'ansible/roles/kolla-build/templates/kolla/kolla-build.conf', 'releasenotes/notes/user-provided-repos-yaml-07e1f872225059a6.yaml', 'roles/kayobe-diagnostics/files/get_logs.sh', 'ansible/roles/kolla-build/tasks/main.yml', 'ansible/roles/kolla-build/defaults/main.yml', 'doc/source/multiple-environments.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8e26267e1d46271c5e7d42cb775641d27aa02d59', 'message': 'Allow to use own repos.y[a]ml file to build containers\n\nFollowup the I0b07da22fea27e0ff4e90aaad19e50d84ff9a121 from Kolla.\nThis change allow to use own repos.y[a]ml file to build containers.\nMultiple Environments supported.\n\nAlso, this change contains I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\n\nChange-Id: I0d7ab0d8ff5b16ac5de8e50e63400bd455996555\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 070621a45df11fd2487ddc38f715c1075524ee93)\n(cherry picked from commit 7088ff2c2f10ba9897d1cd5424fea6d9268020a9)\n'}]",0,880924,8e26267e1d46271c5e7d42cb775641d27aa02d59,15,5,2,14200,,,0,"Allow to use own repos.y[a]ml file to build containers

Followup the I0b07da22fea27e0ff4e90aaad19e50d84ff9a121 from Kolla.
This change allow to use own repos.y[a]ml file to build containers.
Multiple Environments supported.

Also, this change contains I209459ecf5b1a6e5f541cbc72d74aa7defb459d4

Change-Id: I0d7ab0d8ff5b16ac5de8e50e63400bd455996555
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 070621a45df11fd2487ddc38f715c1075524ee93)
(cherry picked from commit 7088ff2c2f10ba9897d1cd5424fea6d9268020a9)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/24/880924/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-build/templates/kolla/kolla-build.conf', 'releasenotes/notes/user-provided-repos-yaml-07e1f872225059a6.yaml', 'ansible/roles/kolla-build/tasks/main.yml', 'doc/source/multiple-environments.rst']",4,cd15405b168a005f633f30401fe073c59f5d68f2,user-provided-repos-yaml,* ``kolla/repos.yml`` or ``kolla/repos.yaml``,,38,0
openstack%2Fbarbican-tempest-plugin~master~I572bd13f7b726bee29cef0fc76b7159837b64bc5,openstack/barbican-tempest-plugin,master,I572bd13f7b726bee29cef0fc76b7159837b64bc5,Update rbac tests,ABANDONED,2023-06-07 11:39:57.000000000,2023-06-07 11:40:17.000000000,,[],"[{'number': 1, 'created': '2023-06-07 11:39:57.000000000', 'files': ['barbican_tempest_plugin/tests/rbac/v1/test_quotas.py', 'barbican_tempest_plugin/tests/rbac/v1/test_transport_keys.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/4ca14bb4ec737f9bb9ec838ca17eca7f80e6dbc8', 'message': 'Update rbac tests\n\nThis patch updates the rbac tests for testing the policy updates that\nremoved the ""system"" scope and use ""project"" scope instead.\n\nResolves: rhbz#2209606\nUpstream-master: https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/883527\nChange-Id: I572bd13f7b726bee29cef0fc76b7159837b64bc5\n'}]",0,885459,4ca14bb4ec737f9bb9ec838ca17eca7f80e6dbc8,2,0,1,30674,,,0,"Update rbac tests

This patch updates the rbac tests for testing the policy updates that
removed the ""system"" scope and use ""project"" scope instead.

Resolves: rhbz#2209606
Upstream-master: https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/883527
Change-Id: I572bd13f7b726bee29cef0fc76b7159837b64bc5
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/59/885459/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican_tempest_plugin/tests/rbac/v1/test_quotas.py', 'barbican_tempest_plugin/tests/rbac/v1/test_transport_keys.py']",2,4ca14bb4ec737f9bb9ec838ca17eca7f80e6dbc8,," def test_create_transport_key(self): transport_key = self.client.create_transport_key( plugin_name=""simple-crypto"", transport_key=""UUUU-UUUU-IIII-DDDD"" ) self.assertIn(""transport_key_ref"", transport_key) ",,93,0
openstack%2Fkayobe~stable%2Fzed~I0d7ab0d8ff5b16ac5de8e50e63400bd455996555,openstack/kayobe,stable/zed,I0d7ab0d8ff5b16ac5de8e50e63400bd455996555,Allow to use own repos.y[a]ml file to build containers,MERGED,2023-04-20 08:53:35.000000000,2023-06-07 11:33:12.000000000,2023-06-07 11:32:02.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-04-20 08:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cc0fb0d13b4cd6c04250a9dbe249b09d9ec3d6ae', 'message': 'Allow to use own repos.y[a]ml file to build containers\n\nFollowup the I0b07da22fea27e0ff4e90aaad19e50d84ff9a121 from Kolla.\nThis change allow to use own repos.y[a]ml file to build containers.\nMultiple Environments supported.\n\nChange-Id: I0d7ab0d8ff5b16ac5de8e50e63400bd455996555\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 070621a45df11fd2487ddc38f715c1075524ee93)\n'}, {'number': 2, 'created': '2023-06-01 20:47:26.000000000', 'files': ['roles/kayobe-diagnostics/tasks/pre.yml', 'ansible/roles/kolla-build/templates/kolla/kolla-build.conf', 'releasenotes/notes/user-provided-repos-yaml-07e1f872225059a6.yaml', 'roles/kayobe-diagnostics/files/get_logs.sh', 'ansible/roles/kolla-build/tasks/main.yml', 'ansible/roles/kolla-build/defaults/main.yml', 'doc/source/multiple-environments.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/46b1974271fbcf55698227fb729797f8db12d3c4', 'message': 'Allow to use own repos.y[a]ml file to build containers\n\nFollowup the I0b07da22fea27e0ff4e90aaad19e50d84ff9a121 from Kolla.\nThis change allow to use own repos.y[a]ml file to build containers.\nMultiple Environments supported.\n\nAlso, this change contains I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\n\nChange-Id: I0d7ab0d8ff5b16ac5de8e50e63400bd455996555\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 070621a45df11fd2487ddc38f715c1075524ee93)\n(cherry picked from commit 7088ff2c2f10ba9897d1cd5424fea6d9268020a9)\n'}]",4,880923,46b1974271fbcf55698227fb729797f8db12d3c4,19,5,2,14200,,,0,"Allow to use own repos.y[a]ml file to build containers

Followup the I0b07da22fea27e0ff4e90aaad19e50d84ff9a121 from Kolla.
This change allow to use own repos.y[a]ml file to build containers.
Multiple Environments supported.

Also, this change contains I209459ecf5b1a6e5f541cbc72d74aa7defb459d4

Change-Id: I0d7ab0d8ff5b16ac5de8e50e63400bd455996555
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 070621a45df11fd2487ddc38f715c1075524ee93)
(cherry picked from commit 7088ff2c2f10ba9897d1cd5424fea6d9268020a9)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/23/880923/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-build/templates/kolla/kolla-build.conf', 'releasenotes/notes/user-provided-repos-yaml-07e1f872225059a6.yaml', 'ansible/roles/kolla-build/tasks/main.yml', 'doc/source/multiple-environments.rst']",4,cc0fb0d13b4cd6c04250a9dbe249b09d9ec3d6ae,user-provided-repos-yaml,* ``kolla/repos.yml`` or ``kolla/repos.yaml``,,38,0
openstack%2Fkayobe~stable%2F2023.1~I209459ecf5b1a6e5f541cbc72d74aa7defb459d4,openstack/kayobe,stable/2023.1,I209459ecf5b1a6e5f541cbc72d74aa7defb459d4,CI: Fix kayobe-seed-images-* jobs,MERGED,2023-06-05 13:29:23.000000000,2023-06-07 11:33:12.000000000,2023-06-07 11:32:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-05 13:29:23.000000000', 'files': ['roles/kayobe-diagnostics/tasks/pre.yml', 'roles/kayobe-diagnostics/files/get_logs.sh', 'ansible/roles/kolla-build/tasks/main.yml', 'ansible/roles/kolla-build/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/48cd0eb6ed49f6c7519b11c2f6b0b40081659bc7', 'message': ""CI: Fix kayobe-seed-images-* jobs\n\nFollowup on I0d7ab0d8ff5b16ac5de8e50e63400bd455996555.\nFix issue with 'permission denied' while doing stat files.\nAlso we collect kolla-build configs for CI.\n\nChange-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 7088ff2c2f10ba9897d1cd5424fea6d9268020a9)\n""}]",0,885288,48cd0eb6ed49f6c7519b11c2f6b0b40081659bc7,8,3,1,14200,,,0,"CI: Fix kayobe-seed-images-* jobs

Followup on I0d7ab0d8ff5b16ac5de8e50e63400bd455996555.
Fix issue with 'permission denied' while doing stat files.
Also we collect kolla-build configs for CI.

Change-Id: I209459ecf5b1a6e5f541cbc72d74aa7defb459d4
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 7088ff2c2f10ba9897d1cd5424fea6d9268020a9)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/88/885288/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/kayobe-diagnostics/tasks/pre.yml', 'roles/kayobe-diagnostics/files/get_logs.sh', 'ansible/roles/kolla-build/tasks/main.yml', 'ansible/roles/kolla-build/defaults/main.yml']",4,48cd0eb6ed49f6c7519b11c2f6b0b40081659bc7,kolla-build-repos-yaml," - ""{{ role_path }}/templates"""," - ""{{ role_path }}/templates/""",15,9
openstack%2Fskyline-apiserver~master~Id1d3a83eb433c18e88828115e8bd744151fb14f7,openstack/skyline-apiserver,master,Id1d3a83eb433c18e88828115e8bd744151fb14f7,feat: Add time_expired into cookie,MERGED,2023-06-05 08:43:32.000000000,2023-06-07 11:30:28.000000000,2023-06-07 11:29:23.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2023-06-05 08:43:32.000000000', 'files': ['skyline_apiserver/api/deps.py', 'skyline_apiserver/types/constants.py', 'releasenotes/notes/add-time-expired-into-cookie-ea5d947625480f65.yaml', 'skyline_apiserver/api/v1/login.py'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/9c4f5e5e74753ec830d7b9721e452547edf17365', 'message': 'feat: Add time_expired into cookie\n\nNow the expired time for skyline and keystone is not the same\nvalue. Sometime, when the token of keystone is valid but the\njwt token of skyline-apiserver is invalid.\nThe skyline-console will send the request to backend service\nand then get 401 from skyline.\nSo we add time_expired into cookie, then skyline-console can\ncheck whether time expired or not.\n\nChange-Id: Id1d3a83eb433c18e88828115e8bd744151fb14f7\n'}]",2,885236,9c4f5e5e74753ec830d7b9721e452547edf17365,8,3,1,28706,,,0,"feat: Add time_expired into cookie

Now the expired time for skyline and keystone is not the same
value. Sometime, when the token of keystone is valid but the
jwt token of skyline-apiserver is invalid.
The skyline-console will send the request to backend service
and then get 401 from skyline.
So we add time_expired into cookie, then skyline-console can
check whether time expired or not.

Change-Id: Id1d3a83eb433c18e88828115e8bd744151fb14f7
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/36/885236/1 && git format-patch -1 --stdout FETCH_HEAD,"['skyline_apiserver/api/deps.py', 'skyline_apiserver/types/constants.py', 'releasenotes/notes/add-time-expired-into-cookie-ea5d947625480f65.yaml', 'skyline_apiserver/api/v1/login.py']",4,9c4f5e5e74753ec830d7b9721e452547edf17365,," response.set_cookie(constants.TIME_EXPIRED_KEY, str(profile.exp)) response.set_cookie(constants.TIME_EXPIRED_KEY, str(profile.exp)) response.set_cookie(constants.TIME_EXPIRED_KEY, str(profile.exp))",,12,0
openstack%2Fnova~stable%2Fvictoria~Ia511879d2f5f50a3f63d180258abccf046a7264e,openstack/nova,stable/victoria,Ia511879d2f5f50a3f63d180258abccf046a7264e,reenable greendns in nova.,NEW,2022-03-11 16:22:31.000000000,2023-06-07 11:16:02.000000000,,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 17685}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-11 16:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15ac1554be0026e1d131761492dba3eab73d4c81', 'message': 'reenable greendns in nova.\n\nBack in the days of centos 6 and python 2.6 eventlet\ngreendns monkeypatching broke ipv6. As a result nova\nhas run without greendns monkey patching ever since.\nThis removes that old workaround allowing modern\neventlet to use greendns for non blocking dns lookups.\n\nCloses-Bug: #1964149\nChange-Id: Ia511879d2f5f50a3f63d180258abccf046a7264e\n(cherry picked from commit fe1ebe69f358cbed62434da3f1537a94390324bb)\n(cherry picked from commit a913ab1aabb827771e54ef64b579cebe44ad53d1)\n(cherry picked from commit edb8bcb0294fb1488c49ad76f2422378d0c495eb)\n'}, {'number': 2, 'created': '2023-01-27 15:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2fdd6d86ee315e218a0f4f7b9fd83e8ce2845f8', 'message': 'reenable greendns in nova.\n\nBack in the days of centos 6 and python 2.6 eventlet\ngreendns monkeypatching broke ipv6. As a result nova\nhas run without greendns monkey patching ever since.\nThis removes that old workaround allowing modern\neventlet to use greendns for non blocking dns lookups.\n\nCloses-Bug: #1964149\nChange-Id: Ia511879d2f5f50a3f63d180258abccf046a7264e\n(cherry picked from commit fe1ebe69f358cbed62434da3f1537a94390324bb)\n(cherry picked from commit a913ab1aabb827771e54ef64b579cebe44ad53d1)\n(cherry picked from commit edb8bcb0294fb1488c49ad76f2422378d0c495eb)\n'}, {'number': 3, 'created': '2023-02-21 12:03:36.000000000', 'files': ['nova/monkey_patch.py', 'releasenotes/notes/greendns-34df7f9fba952bcd.yaml', 'nova/tests/functional/test_monkey_patch.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f02099ea537aa3feba15cfea900a58b5c593f343', 'message': 'reenable greendns in nova.\n\nBack in the days of centos 6 and python 2.6 eventlet\ngreendns monkeypatching broke ipv6. As a result nova\nhas run without greendns monkey patching ever since.\nThis removes that old workaround allowing modern\neventlet to use greendns for non blocking dns lookups.\n\nCloses-Bug: #1964149\nChange-Id: Ia511879d2f5f50a3f63d180258abccf046a7264e\n(cherry picked from commit fe1ebe69f358cbed62434da3f1537a94390324bb)\n(cherry picked from commit a913ab1aabb827771e54ef64b579cebe44ad53d1)\n(cherry picked from commit edb8bcb0294fb1488c49ad76f2422378d0c495eb)\n'}]",27,833436,f02099ea537aa3feba15cfea900a58b5c593f343,91,5,3,11604,,,0,"reenable greendns in nova.

Back in the days of centos 6 and python 2.6 eventlet
greendns monkeypatching broke ipv6. As a result nova
has run without greendns monkey patching ever since.
This removes that old workaround allowing modern
eventlet to use greendns for non blocking dns lookups.

Closes-Bug: #1964149
Change-Id: Ia511879d2f5f50a3f63d180258abccf046a7264e
(cherry picked from commit fe1ebe69f358cbed62434da3f1537a94390324bb)
(cherry picked from commit a913ab1aabb827771e54ef64b579cebe44ad53d1)
(cherry picked from commit edb8bcb0294fb1488c49ad76f2422378d0c495eb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/833436/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/monkey_patch.py', 'releasenotes/notes/greendns-34df7f9fba952bcd.yaml', 'nova/tests/functional/test_monkey_patch.py']",3,15ac1554be0026e1d131761492dba3eab73d4c81,bug/1964149,,"# Copyright 2020 Red Hat, Inc. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # NOTE(artom) This file exists to test eventlet monkeypatching. How and what # eventlet monkeypatches can be controlled by environment variables that # are processed by eventlet at import-time (for exmaple, EVENTLET_NO_GREENDNS). # Nova manages all of this in nova.monkey_patch. Therefore, nova.monkey_patch # must be the first thing to import eventlet. As nova.tests.functional.__init__ # imports nova.monkey_patch, we're OK here. import socket import traceback from nova import test class TestMonkeyPatch(test.TestCase): def test_greendns_is_disabled(self): """"""Try to resolve a fake fqdn. If we see greendns mentioned in the traceback of the raised exception, it means we've not actually disabled greendns. See the TODO and NOTE in nova.monkey_patch to understand why greendns needs to be disabled. """""" raised = False try: socket.gethostbyname('goat.fake') except Exception: tb = traceback.format_exc() # NOTE(artom) If we've correctly disabled greendns, we expect the # traceback to not contain any reference to it. self.assertNotIn('greendns.py', tb) raised = True self.assertTrue(raised) ",16,58
openstack%2Fbarbican~master~I3b781112fc6ced7b73196f973cefd6a30ef99dd3,openstack/barbican,master,I3b781112fc6ced7b73196f973cefd6a30ef99dd3,Remove System scope from policy,MERGED,2023-05-18 15:32:36.000000000,2023-06-07 10:55:09.000000000,2023-06-07 10:53:19.000000000,"[{'_account_id': 7414}, {'_account_id': 8556}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 30674}, {'_account_id': 34120}, {'_account_id': 35125}]","[{'number': 1, 'created': '2023-05-18 15:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/61255ebd8b65fc84fb36b39bfc0d25b697ea117e', 'message': 'Remove System scope from policy\n\nAs specified in Phase 1 of the Consistent and Secure Default RBAC\ngoal [1] policies have been updated to remove ""system"" scope and\nonly use ""project"" scope in all policies.\n\nAPIs with policies that previously required ""system"" scope have been\nupdated to accept ""project"" scoped tokens with the ""admin"" role instead.\n\n[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#phase-1\n\nChange-Id: I3b781112fc6ced7b73196f973cefd6a30ef99dd3\n'}, {'number': 2, 'created': '2023-05-18 18:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/bf9c84177326becbce0d4f0e0f617a4b5eec4084', 'message': 'Remove System scope from policy\n\nAs specified in Phase 1 of the Consistent and Secure Default RBAC\ngoal [1] policies have been updated to remove ""system"" scope and\nonly use ""project"" scope in all policies.\n\nAPIs with policies that previously required ""system"" scope have been\nupdated to accept ""project"" scoped tokens with the ""admin"" role instead.\n\n[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#phase-1\n\nChange-Id: I3b781112fc6ced7b73196f973cefd6a30ef99dd3\n'}, {'number': 3, 'created': '2023-05-22 14:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/5c020447534bbc1fdb004c7bc11195548ed8748e', 'message': 'Remove System scope from policy\n\nAs specified in Phase 1 of the Consistent and Secure Default RBAC\ngoal [1] policies have been updated to remove ""system"" scope and\nonly use ""project"" scope in all policies.\n\nAPIs with policies that previously required ""system"" scope have been\nupdated to accept ""project"" scoped tokens with the ""admin"" role instead.\n\n[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#phase-1\n\nChange-Id: I3b781112fc6ced7b73196f973cefd6a30ef99dd3\n'}, {'number': 4, 'created': '2023-06-05 19:03:14.000000000', 'files': ['barbican/common/policies/quotas.py', 'releasenotes/notes/remove-system-scope-from-policy-f2f68c42c0742812.yaml', 'barbican/common/policies/consumers.py', 'barbican/common/policies/transportkeys.py', '.zuul.yaml', 'barbican/common/policies/secretstores.py', 'barbican/common/policies/base.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/116a9045ebb46f45a4df094fa04cdc5aaa61e60f', 'message': 'Remove System scope from policy\n\nAs specified in Phase 1 of the Consistent and Secure Default RBAC\ngoal [1] policies have been updated to remove ""system"" scope and\nonly use ""project"" scope in all policies.\n\nAPIs with policies that previously required ""system"" scope have been\nupdated to accept ""project"" scoped tokens with the ""admin"" role instead.\n\n[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#phase-1\n\nChange-Id: I3b781112fc6ced7b73196f973cefd6a30ef99dd3\n'}]",12,883526,116a9045ebb46f45a4df094fa04cdc5aaa61e60f,29,8,4,7973,,,0,"Remove System scope from policy

As specified in Phase 1 of the Consistent and Secure Default RBAC
goal [1] policies have been updated to remove ""system"" scope and
only use ""project"" scope in all policies.

APIs with policies that previously required ""system"" scope have been
updated to accept ""project"" scoped tokens with the ""admin"" role instead.

[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#phase-1

Change-Id: I3b781112fc6ced7b73196f973cefd6a30ef99dd3
",git fetch https://review.opendev.org/openstack/barbican refs/changes/26/883526/3 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/common/policies/quotas.py', 'releasenotes/notes/remove-system-scope-from-policy-f2f68c42c0742812.yaml', 'barbican/common/policies/consumers.py', 'barbican/common/policies/transportkeys.py', 'barbican/common/policies/secretstores.py', 'barbican/common/policies/base.py']",6,61255ebd8b65fc84fb36b39bfc0d25b697ea117e,remove-system-scope,," name='system_reader', check_str='role:reader and system_scope:all'), policy.RuleDefault( name='system_admin', check_str='role:admin and system_scope:all'), policy.RuleDefault(",38,37
openstack%2Ftrove~master~I398dd7ac8c628d19b75693dcac0521346e8f5d64,openstack/trove,master,I398dd7ac8c628d19b75693dcac0521346e8f5d64,"Revert ""Add debug log for CI tests""",MERGED,2023-06-07 06:25:10.000000000,2023-06-07 10:40:03.000000000,2023-06-07 10:38:06.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 31737}]","[{'number': 1, 'created': '2023-06-07 06:25:10.000000000', 'files': ['integration/scripts/files/elements/guest-agent/install.d/guest-agent-source-install/guest-agent-dev.service', 'devstack/plugin.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/06c8ed94ab708c8f7a962178e8bc746d4b36762f', 'message': 'Revert ""Add debug log for CI tests""\n\nThis reverts commit 49c16b889b68039b068eb420f345efdfaafcc1cc.\n\nReason for revert: this patch doesn\'t work as expected\n\nChange-Id: I398dd7ac8c628d19b75693dcac0521346e8f5d64\n'}]",0,885407,06c8ed94ab708c8f7a962178e8bc746d4b36762f,8,3,1,26285,,,0,"Revert ""Add debug log for CI tests""

This reverts commit 49c16b889b68039b068eb420f345efdfaafcc1cc.

Reason for revert: this patch doesn't work as expected

Change-Id: I398dd7ac8c628d19b75693dcac0521346e8f5d64
",git fetch https://review.opendev.org/openstack/trove refs/changes/07/885407/1 && git format-patch -1 --stdout FETCH_HEAD,"['integration/scripts/files/elements/guest-agent/install.d/guest-agent-source-install/guest-agent-dev.service', 'devstack/plugin.sh', 'zuul.d/jobs.yaml']",3,06c8ed94ab708c8f7a962178e8bc746d4b36762f,add-guest-agent-logs,, zuul_copy_output: '/var/log/guest-agent-logs/': 'logs' zuul_copy_output: '/var/log/guest-agent-logs/': 'logs',0,15
openstack%2Fnova~stable%2Fussuri~I2ba035c09ace20e9835d9d12a5c5bee17d616718,openstack/nova,stable/ussuri,I2ba035c09ace20e9835d9d12a5c5bee17d616718,Fix failed count for anti-affinity check,NEW,2023-06-06 10:04:40.000000000,2023-06-07 10:37:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 34951}]","[{'number': 1, 'created': '2023-06-06 10:04:40.000000000', 'files': ['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/97ec3b54302b8d8d45ee0248187f9e79f7f2f80b', 'message': 'Fix failed count for anti-affinity check\n\nThe late anti-affinity check runs in the compute manager to avoid\nparallel scheduling requests to invalidate the anti-affinity server\ngroup policy. When the check fails the instance is re-scheduled.\nHowever this failure counted as a real instance boot failure of the\ncompute host and can lead to de-prioritization of the compute host\nin the scheduler via BuildFailureWeigher. As the late anti-affinity\ncheck does not indicate any fault of the compute host itself it\nshould not be counted towards the build failure counter.\nThis patch adds new build results to handle this case.\n\nConflicts:\n  nova/tests/unit/compute/test_compute_mgr.py adapted mock parameter\n  list\n  nova/compute/manager.py needed to pass tb to error notification\n  explicitly and needed to use six.text_type on exception\n\nCloses-Bug: #1996732\nChange-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718\nSigned-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>\n(cherry picked from commit 56d320a203a13f262a2e94e491af222032e453d3)\n(cherry picked from commit 1b56714e9119ab4152e6f33985a499b2d83a491b)\n(cherry picked from commit 2f1d65774fbcf5c25c4ba53583b6a802a03f4c4d)\n(cherry picked from commit cd0403dd3b1099bd13da503500a50249db8e49ea)\n(cherry picked from commit 87488180e5633db5ef8d684684a4355de48ef428)\n(cherry picked from commit e48fb15aaa462813fe9334a83bc76b43eb465fbd)\n(cherry picked from commit 3853ccc5fdf2abaabe9a5810af3343f5c86790e6)\n'}]",1,885353,97ec3b54302b8d8d45ee0248187f9e79f7f2f80b,4,2,1,9708,,,0,"Fix failed count for anti-affinity check

The late anti-affinity check runs in the compute manager to avoid
parallel scheduling requests to invalidate the anti-affinity server
group policy. When the check fails the instance is re-scheduled.
However this failure counted as a real instance boot failure of the
compute host and can lead to de-prioritization of the compute host
in the scheduler via BuildFailureWeigher. As the late anti-affinity
check does not indicate any fault of the compute host itself it
should not be counted towards the build failure counter.
This patch adds new build results to handle this case.

Conflicts:
  nova/tests/unit/compute/test_compute_mgr.py adapted mock parameter
  list
  nova/compute/manager.py needed to pass tb to error notification
  explicitly and needed to use six.text_type on exception

Closes-Bug: #1996732
Change-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718
Signed-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>
(cherry picked from commit 56d320a203a13f262a2e94e491af222032e453d3)
(cherry picked from commit 1b56714e9119ab4152e6f33985a499b2d83a491b)
(cherry picked from commit 2f1d65774fbcf5c25c4ba53583b6a802a03f4c4d)
(cherry picked from commit cd0403dd3b1099bd13da503500a50249db8e49ea)
(cherry picked from commit 87488180e5633db5ef8d684684a4355de48ef428)
(cherry picked from commit e48fb15aaa462813fe9334a83bc76b43eb465fbd)
(cherry picked from commit 3853ccc5fdf2abaabe9a5810af3343f5c86790e6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/885353/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py']",5,97ec3b54302b8d8d45ee0248187f9e79f7f2f80b,bug/1996732,"# Instance failed by policy violation (such as affinity or anti-affinity) # and was not rescheduled. In this case, the node's failed count won't be # increased. FAILED_BY_POLICY = 'failed_by_policy' # Instance failed by policy violation (such as affinity or anti-affinity) # but was rescheduled. In this case, the node's failed count won't be # increased. RESCHEDULED_BY_POLICY = 'rescheduled_by_policy'",,254,13
openstack%2Fnova~master~I455a8a48aa03781936b6178015ea01b0416376a9,openstack/nova,master,I455a8a48aa03781936b6178015ea01b0416376a9,Handle InstanceExists exception for duplicate instance,NEW,2022-10-11 10:53:10.000000000,2023-06-07 10:19:05.000000000,,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-11 10:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4c6696094afa6515617ce8af47fc707b9e043ca', 'message': ""Handle InstanceExists exception for duplicate instance\n\nAs of now, when osapi_compute_unique_server_name_scope is set to\n``project`` or ``global``, and if there is server create request\nwith duplicate name (already there is instance exist with same name)\nthen, instance gets stuck in 'scheduling' task state and vm state\nset to ERROR.\n\nThis change handle such create request with duplicate name and\ncatch InstanceExists exception and create instance entry in cell0\nfor failed request.\n\nCloses-Bug: #1857306\nChange-Id: I455a8a48aa03781936b6178015ea01b0416376a9\n""}, {'number': 2, 'created': '2023-02-21 12:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06fbb456e86f3db268038beeebfb549078477321', 'message': ""Handle InstanceExists exception for duplicate instance\n\nAs of now, when osapi_compute_unique_server_name_scope is set to\n``project`` or ``global``, and if there is server create request\nwith duplicate name (already there is instance exist with same name)\nthen, instance gets stuck in 'scheduling' task state and vm state\nset to ERROR.\n\nThis change handle such create request with duplicate name and\ncatch InstanceExists exception and create instance entry in cell0\nfor failed request.\n\nCloses-Bug: #1857306\nChange-Id: I455a8a48aa03781936b6178015ea01b0416376a9\n""}, {'number': 3, 'created': '2023-02-22 03:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/795d1860dd08c522c1fa3e331966991301914f85', 'message': ""Handle InstanceExists exception for duplicate instance\n\nAs of now, when osapi_compute_unique_server_name_scope is set to\n``project`` or ``global``, and if there is server create request\nwith duplicate name (already there is instance exist with same name)\nthen, instance gets stuck in 'scheduling' task state and vm state\nset to ERROR.\n\nThis change handle such create request with duplicate name and\ncatch InstanceExists exception and create instance entry in cell0\nfor failed request.\n\nCloses-Bug: #1857306\nChange-Id: I455a8a48aa03781936b6178015ea01b0416376a9\n""}, {'number': 4, 'created': '2023-03-06 13:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe494550ec089c315707167853899201825c35e6', 'message': ""Handle InstanceExists exception for duplicate instance\n\nAs of now, when osapi_compute_unique_server_name_scope is set to\n``project`` or ``global``, and if there is server create request\nwith duplicate name (already there is instance exist with same name)\nthen, instance gets stuck in 'scheduling' task state and vm state\nset to ERROR.\n\nThis change handle such create request with duplicate name and\ncatch InstanceExists exception and create instance entry in cell0\nfor failed request.\n\nCloses-Bug: #1857306\nChange-Id: I455a8a48aa03781936b6178015ea01b0416376a9\n""}, {'number': 5, 'created': '2023-03-07 03:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa855b76e34b1a6b63c302932304a077981b861d', 'message': ""Handle InstanceExists exception for duplicate instance\n\nAs of now, when osapi_compute_unique_server_name_scope is set to\n``project`` or ``global``, and if there is server create request\nwith duplicate name (already there is instance exist with same name)\nthen, instance gets stuck in 'scheduling' task state and vm state\nset to ERROR.\n\nThis change handle such create request with duplicate name and\ncatch InstanceExists exception and create instance entry in cell0\nfor failed request.\n\nCloses-Bug: #1857306\nChange-Id: I455a8a48aa03781936b6178015ea01b0416376a9\n""}, {'number': 6, 'created': '2023-03-07 03:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/448d269cec570b65e937cf0ae0975412b7d0df30', 'message': ""Handle InstanceExists exception for duplicate instance\n\nAs of now, when osapi_compute_unique_server_name_scope is set to\n``project`` or ``global``, and if there is server create request\nwith duplicate name (already there is instance exist with same name)\nthen, instance gets stuck in 'scheduling' task state and vm state\nset to ERROR.\n\nThis change handle such create request with duplicate name and\ncatch InstanceExists exception and create instance entry in cell0\nfor failed request.\n\nCloses-Bug: #1857306\nChange-Id: I455a8a48aa03781936b6178015ea01b0416376a9\n""}, {'number': 7, 'created': '2023-03-07 04:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71aa226a253372607c08a4e4234efc83f1955797', 'message': ""Handle InstanceExists exception for duplicate instance\n\nAs of now, when osapi_compute_unique_server_name_scope is set to\n``project`` or ``global``, and if there is server create request\nwith duplicate name (already there is instance exist with same name)\nthen, instance gets stuck in 'scheduling' task state and vm state\nset to ERROR.\n\nThis change handle such create request with duplicate name and\ncatch InstanceExists exception and create instance entry in cell0\nfor failed request.\n\nCloses-Bug: #1857306\nChange-Id: I455a8a48aa03781936b6178015ea01b0416376a9\n""}, {'number': 8, 'created': '2023-03-08 11:24:52.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1857306.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c060014db504556e28d9e1079d6c4e4acb29bfe3', 'message': ""Handle InstanceExists exception for duplicate instance\n\nAs of now, when osapi_compute_unique_server_name_scope is set to\n``project`` or ``global``, and if there is server create request\nwith duplicate name (already there is instance exist with same name)\nthen, instance gets stuck in 'scheduling' task state and vm state\nset to ERROR.\n\nThis change handle such create request with duplicate name and\ncatch InstanceExists exception and create instance entry in cell0\nfor failed request.\n\nCloses-Bug: #1857306\nChange-Id: I455a8a48aa03781936b6178015ea01b0416376a9\n""}]",8,860938,c060014db504556e28d9e1079d6c4e4acb29bfe3,44,9,8,20733,,,0,"Handle InstanceExists exception for duplicate instance

As of now, when osapi_compute_unique_server_name_scope is set to
``project`` or ``global``, and if there is server create request
with duplicate name (already there is instance exist with same name)
then, instance gets stuck in 'scheduling' task state and vm state
set to ERROR.

This change handle such create request with duplicate name and
catch InstanceExists exception and create instance entry in cell0
for failed request.

Closes-Bug: #1857306
Change-Id: I455a8a48aa03781936b6178015ea01b0416376a9
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/860938/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/manager.py'],1,c4c6696094afa6515617ce8af47fc707b9e043ca,bug/1857306," try: with obj_target_cell(instance, cell): instance.create() instances.append(instance) cell_mapping_cache[instance.uuid] = cell except exception.InstanceExists as exc: self._bury_in_cell0( context, request_specs[0], exc, build_requests = build_requests, block_device_mapping = block_device_mapping, tags = tags) return"," with obj_target_cell(instance, cell): instance.create() instances.append(instance) cell_mapping_cache[instance.uuid] = cell",12,4
openstack%2Fovn-bgp-agent~master~I627b58b6f245b3ad186832d0f3b1b5de59d61cae,openstack/ovn-bgp-agent,master,I627b58b6f245b3ad186832d0f3b1b5de59d61cae,Minor code improvements on priviledged linux_net functions,MERGED,2023-06-07 08:03:36.000000000,2023-06-07 10:01:52.000000000,2023-06-07 10:00:56.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 08:03:36.000000000', 'files': ['ovn_bgp_agent/tests/unit/privileged/test_linux_net.py', 'ovn_bgp_agent/privileged/linux_net.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/e3828acc480506b932b5af23ad4ae122ed227d12', 'message': 'Minor code improvements on priviledged linux_net functions\n\nSmall code changes to use replace instead of set, and catch the\npossible error/race adding an ip nei on a deleted nic\n\nAlso improve the add_ip_to_dev/del_ip_from_dev by getting the\naddress information outside of the ndb context\n\nChange-Id: I627b58b6f245b3ad186832d0f3b1b5de59d61cae\n'}]",0,885431,e3828acc480506b932b5af23ad4ae122ed227d12,7,2,1,23567,,,0,"Minor code improvements on priviledged linux_net functions

Small code changes to use replace instead of set, and catch the
possible error/race adding an ip nei on a deleted nic

Also improve the add_ip_to_dev/del_ip_from_dev by getting the
address information outside of the ndb context

Change-Id: I627b58b6f245b3ad186832d0f3b1b5de59d61cae
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/31/885431/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/tests/unit/privileged/test_linux_net.py', 'ovn_bgp_agent/privileged/linux_net.py']",2,e3828acc480506b932b5af23ad4ae122ed227d12,," address = '{}/32'.format(ip) if l_net.get_ip_version(ip) == constants.IP_VERSION_6: address = '{}/128'.format(ip) address = '{}/32'.format(ip) if l_net.get_ip_version(ip) == constants.IP_VERSION_6: address = '{}/128'.format(ip) try: network_bridge_if = iproute.link_lookup(ifname=dev)[0] except IndexError: LOG.debug(""No need to add nei for dev %s as it does not exists"", dev) return if ip_version == constants.IP_VERSION_6: iproute.neigh('replace', iproute.neigh('replace', LOG.debug(""No need to remove nei for dev %s as it does not exists"", dev)"," address = '{}/32'.format(ip) if l_net.get_ip_version(ip) == constants.IP_VERSION_6: address = '{}/128'.format(ip) address = '{}/32'.format(ip) if l_net.get_ip_version(ip) == constants.IP_VERSION_6: address = '{}/128'.format(ip) network_bridge_if = iproute.link_lookup(ifname=dev)[0] if ip_version == constants.IP_VERSION_6: iproute.neigh('set', iproute.neigh('set', LOG.debug(""No need to remove nei for dev %s as it does not "" ""exists"", dev)",18,13
openstack%2Fblazar~stable%2Fussuri~I34934eefee6c0cd3b999fa028e6697d1c5e8476a,openstack/blazar,stable/ussuri,I34934eefee6c0cd3b999fa028e6697d1c5e8476a,[CI] Move queue setting to project level,MERGED,2023-06-06 19:01:27.000000000,2023-06-07 09:50:36.000000000,2023-06-07 09:48:43.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 19:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/971c9b5526b3478776af4d7b56c22b3281254f64', 'message': '[CI] Move queue setting to project level\n\nPer [1].\n\n[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I34934eefee6c0cd3b999fa028e6697d1c5e8476a\n(cherry picked from commit b6ec5600fd7f5c6d04d8b60654406def9b3a95b3)\n(cherry picked from commit 95a3d4d821dfb8c4fe48aff7c59cd879df69810c)\n'}, {'number': 2, 'created': '2023-06-07 08:13:54.000000000', 'files': ['.zuul.yaml', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/blazar/commit/a940d8ffc084676ddc322fa147d9c143270d2f5e', 'message': ""[CI] Move queue setting to project level\n\nPer [1].\n\n[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\n(cherry picked from commit b6ec5600fd7f5c6d04d8b60654406def9b3a95b3)\n(cherry picked from commit 95a3d4d821dfb8c4fe48aff7c59cd879df69810c)\n\nAlso required to merge successfully:\nIa13402213bc82027e3d658918a22003be26576d6\n\nMake test-setup.sh compatible with mysql8\n\nStarting from mysql version 8 it's not possible to create a user\nimplictly when using GRANT.\n\nThis patch makes the behavior compatible with that.\n\nCo-Authored-By: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit ae22b23906a93a83a95154de8ee57381b61f3597)\n\nChange-Id: I34934eefee6c0cd3b999fa028e6697d1c5e8476a\n""}]",0,885403,a940d8ffc084676ddc322fa147d9c143270d2f5e,10,2,2,13252,,,0,"[CI] Move queue setting to project level

Per [1].

[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

(cherry picked from commit b6ec5600fd7f5c6d04d8b60654406def9b3a95b3)
(cherry picked from commit 95a3d4d821dfb8c4fe48aff7c59cd879df69810c)

Also required to merge successfully:
Ia13402213bc82027e3d658918a22003be26576d6

Make test-setup.sh compatible with mysql8

Starting from mysql version 8 it's not possible to create a user
implictly when using GRANT.

This patch makes the behavior compatible with that.

Co-Authored-By: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit ae22b23906a93a83a95154de8ee57381b61f3597)

Change-Id: I34934eefee6c0cd3b999fa028e6697d1c5e8476a
",git fetch https://review.opendev.org/openstack/blazar refs/changes/03/885403/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,971c9b5526b3478776af4d7b56c22b3281254f64,fix-zuul-errors, queue: blazar, queue: blazar,1,1
openstack%2Fec2api-tempest-plugin~master~I2559156d492b6cd7466ef23841eea5ddaee8a442,openstack/ec2api-tempest-plugin,master,I2559156d492b6cd7466ef23841eea5ddaee8a442,Use TOX_CONSTRAINTS_FILE,ABANDONED,2023-06-07 06:12:58.000000000,2023-06-07 09:23:58.000000000,,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 06:12:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/eeafb10fc71fc121fc0ffbf3b2e4cfc0b40164cd', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated.\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I2559156d492b6cd7466ef23841eea5ddaee8a442\n'}]",0,885229,eeafb10fc71fc121fc0ffbf3b2e4cfc0b40164cd,3,2,1,35058,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated.
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I2559156d492b6cd7466ef23841eea5ddaee8a442
",git fetch https://review.opendev.org/openstack/ec2api-tempest-plugin refs/changes/29/885229/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eeafb10fc71fc121fc0ffbf3b2e4cfc0b40164cd,,install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fec2api-tempest-plugin~master~Id90a94211b3a80b03f67261f9613b93352dd1099,openstack/ec2api-tempest-plugin,master,Id90a94211b3a80b03f67261f9613b93352dd1099,Use py3 as the default runtime for tox,ABANDONED,2023-06-07 06:09:00.000000000,2023-06-07 09:23:47.000000000,,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 06:09:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/738f05d55eb88ab798d673f4bb77946cc54f1726', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: Id90a94211b3a80b03f67261f9613b93352dd1099\n'}]",0,885228,738f05d55eb88ab798d673f4bb77946cc54f1726,3,2,1,35058,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: Id90a94211b3a80b03f67261f9613b93352dd1099
",git fetch https://review.opendev.org/openstack/ec2api-tempest-plugin refs/changes/28/885228/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,738f05d55eb88ab798d673f4bb77946cc54f1726,,"envlist = py3,pep8","envlist = py37,pep8",1,1
openstack%2Fec2api-tempest-plugin~master~I81134fa5ece73e83831023505be52155ef31b007,openstack/ec2api-tempest-plugin,master,I81134fa5ece73e83831023505be52155ef31b007,Cleanup py27 support,ABANDONED,2023-06-07 06:04:47.000000000,2023-06-07 09:23:32.000000000,,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 06:04:47.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/54ff64bb1a50508fb69b0d28d36d8f386cc97e97', 'message': ""Cleanup py27 support\n\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Remove python 2.7 stanza from setup.py\n\nChange-Id: I81134fa5ece73e83831023505be52155ef31b007\n""}]",0,885227,54ff64bb1a50508fb69b0d28d36d8f386cc97e97,3,2,1,35058,,,0,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py

Change-Id: I81134fa5ece73e83831023505be52155ef31b007
",git fetch https://review.opendev.org/openstack/ec2api-tempest-plugin refs/changes/27/885227/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,54ff64bb1a50508fb69b0d28d36d8f386cc97e97,,,"# THIS FILE IS MANAGED BY THE GLOBAL REQUIREMENTS REPO - DO NOT EDIT# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",0,9
openstack%2Fec2api-tempest-plugin~master~Ic2c48936fe8c3852091cc37039c55a3371e302c2,openstack/ec2api-tempest-plugin,master,Ic2c48936fe8c3852091cc37039c55a3371e302c2,setup.cfg: Replace dashes with underscores,ABANDONED,2023-06-07 06:00:43.000000000,2023-06-07 09:23:14.000000000,,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 06:00:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ec2api-tempest-plugin/commit/e1a01e2847a245022018c885a0a25d69d899e4f9', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic2c48936fe8c3852091cc37039c55a3371e302c2\n""}]",0,885226,e1a01e2847a245022018c885a0a25d69d899e4f9,3,2,1,35058,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ic2c48936fe8c3852091cc37039c55a3371e302c2
",git fetch https://review.opendev.org/openstack/ec2api-tempest-plugin refs/changes/26/885226/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e1a01e2847a245022018c885a0a25d69d899e4f9,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://opendev.org/openstack/ec2api-tempest-plugin,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://opendev.org/openstack/ec2api-tempest-plugin,3,3
openstack%2Fpython-cyborgclient~master~I83129bf7532ea2793eeda17606e021ca60c43efe,openstack/python-cyborgclient,master,I83129bf7532ea2793eeda17606e021ca60c43efe,Add ut for delete attribute client api,MERGED,2023-05-23 07:30:58.000000000,2023-06-07 08:59:30.000000000,2023-06-07 08:58:22.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-05-23 07:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/173b8b37f37d56c17e11fda3ba82c9defe40e903', 'message': 'Add ut for delete attribute client api\n\nChange-Id: I83129bf7532ea2793eeda17606e021ca60c43efe\n'}, {'number': 2, 'created': '2023-05-23 07:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/4d299aee1acc4c9cf4bd80f62a8bd4d856ef1db7', 'message': 'Add ut for delete attribute client api\n\nChange-Id: I83129bf7532ea2793eeda17606e021ca60c43efe\n'}, {'number': 3, 'created': '2023-06-07 08:37:13.000000000', 'files': ['cyborgclient/tests/unit/osc/v2/test_attribute.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/373f3db41c9431f1d51bc773d4213064ad230170', 'message': 'Add ut for delete attribute client api\n\nChange-Id: I83129bf7532ea2793eeda17606e021ca60c43efe\n'}]",0,883891,373f3db41c9431f1d51bc773d4213064ad230170,12,2,3,33436,,,0,"Add ut for delete attribute client api

Change-Id: I83129bf7532ea2793eeda17606e021ca60c43efe
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/91/883891/3 && git format-patch -1 --stdout FETCH_HEAD,['cyborgclient/tests/unit/osc/v2/test_attribute.py'],1,173b8b37f37d56c17e11fda3ba82c9defe40e903,883891," class TestAttributeDelete(TestAttribute): def setUp(self): super(TestAttributeDelete, self).setUp() self.cmd = osc_attribute.DeleteAttribute(self.app, None) def test_attribute_delete(self): arglist = [acc_fakes.attribute_uuid] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.mock_acc_client.delete_attribute.assert_called_with( acc_fakes.attribute_uuid, False)",,16,0
openstack%2Fblazar~stable%2Fvictoria~I34934eefee6c0cd3b999fa028e6697d1c5e8476a,openstack/blazar,stable/victoria,I34934eefee6c0cd3b999fa028e6697d1c5e8476a,[CI] Move queue setting to project level,MERGED,2023-06-06 18:57:32.000000000,2023-06-07 08:47:10.000000000,2023-06-07 08:45:15.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 18:57:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/73f1f6c0b998086f535e376f912738da62cde5a3', 'message': '[CI] Move queue setting to project level\n\nPer [1].\n\n[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n\nChange-Id: I34934eefee6c0cd3b999fa028e6697d1c5e8476a\n(cherry picked from commit b6ec5600fd7f5c6d04d8b60654406def9b3a95b3)\n(cherry picked from commit 95a3d4d821dfb8c4fe48aff7c59cd879df69810c)\n'}]",0,885402,73f1f6c0b998086f535e376f912738da62cde5a3,9,2,1,13252,,,0,"[CI] Move queue setting to project level

Per [1].

[1] http://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html

Change-Id: I34934eefee6c0cd3b999fa028e6697d1c5e8476a
(cherry picked from commit b6ec5600fd7f5c6d04d8b60654406def9b3a95b3)
(cherry picked from commit 95a3d4d821dfb8c4fe48aff7c59cd879df69810c)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/02/885402/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,73f1f6c0b998086f535e376f912738da62cde5a3,fix-zuul-errors, queue: blazar, queue: blazar,1,1
openstack%2Fcharm-ceph-iscsi~stable%2Fpacific~I42410ffebbe20e4f55027bbb6ce4f1db6b529852,openstack/charm-ceph-iscsi,stable/pacific,I42410ffebbe20e4f55027bbb6ce4f1db6b529852,Pin tox < 4 (pacific),MERGED,2023-01-19 20:20:59.000000000,2023-06-07 08:46:00.000000000,2023-06-07 08:46:00.000000000,"[{'_account_id': 2424}, {'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-19 20:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/04f16a53e1b4f42bfb0c33859e616e38c80044eb', 'message': 'Pin tox < 4 (pacific)\n\nThis patchset works around issues with versions of tox > 4\n\nChange-Id: I42410ffebbe20e4f55027bbb6ce4f1db6b529852\n'}, {'number': 2, 'created': '2023-02-22 21:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/3935e5e6aa6e73c07da1254e53ec811413c20c36', 'message': 'Pin tox < 4 (pacific)\n\nThis patchset works around issues with versions of tox > 4\n\nChange-Id: I42410ffebbe20e4f55027bbb6ce4f1db6b529852\n'}, {'number': 3, 'created': '2023-02-23 00:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/20d65bfdcf563101b7bc49a45c1756dd5e5b7ab8', 'message': 'Pin tox < 4 (pacific)\n\nThis patchset works around issues with versions of tox > 4\n\nChange-Id: I42410ffebbe20e4f55027bbb6ce4f1db6b529852\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1012\n'}, {'number': 4, 'created': '2023-02-23 17:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/776c1aeffd5981b529ac0b2c00fc0e6f3975ef62', 'message': 'Pin tox < 4 (pacific)\n\nThis patchset works around issues with versions of tox > 4\n\nChange-Id: I42410ffebbe20e4f55027bbb6ce4f1db6b529852\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1012\n'}, {'number': 5, 'created': '2023-03-06 19:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/fc70dcc2d201187b0163be873bafa1117308c003', 'message': 'Pin tox < 4 (pacific)\n\nThis patchset works around issues with versions of tox > 4\n\nChange-Id: I42410ffebbe20e4f55027bbb6ce4f1db6b529852\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1012\n'}, {'number': 6, 'created': '2023-06-01 15:21:00.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tox.ini', 'unit_tests/test_ceph_iscsi_charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/1393f66339d520d1f598884d42526ab0c7b55c3e', 'message': 'Pin tox < 4 (pacific)\n\nThis patchset works around issues with versions of tox > 4\n\nChange-Id: I42410ffebbe20e4f55027bbb6ce4f1db6b529852\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1012\n'}]",13,871154,1393f66339d520d1f598884d42526ab0c7b55c3e,35,5,6,33717,,,0,"Pin tox < 4 (pacific)

This patchset works around issues with versions of tox > 4

Change-Id: I42410ffebbe20e4f55027bbb6ce4f1db6b529852
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1012
",git fetch https://review.opendev.org/openstack/charm-ceph-iscsi refs/changes/54/871154/5 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'unit_tests/test_ceph_iscsi_charm.py']",2,04f16a53e1b4f42bfb0c33859e616e38c80044eb,ceph-lunar," self.harness._unit_name, self.harness._meta, {'options': {'gateway-metadata-pool': {'type': 'string'}}}) 'gateway_ready': 'False'})"," self.harness._unit_name, self.harness._meta) 'gateway_ready': False})",11,16
openstack%2Fblazar~master~I7ea9442860c5665eaa299f005d31415ade65e148,openstack/blazar,master,I7ea9442860c5665eaa299f005d31415ade65e148,DNM: dummy change to test gate health,ABANDONED,2023-06-07 07:37:12.000000000,2023-06-07 08:22:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-07 07:37:12.000000000', 'files': ['blazar/i18n.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/64bf5caa93059db2209a98fd67ac8fdd07fc53a2', 'message': 'DNM: dummy change to test gate health\n\nChange-Id: I7ea9442860c5665eaa299f005d31415ade65e148\n'}]",0,885427,64bf5caa93059db2209a98fd67ac8fdd07fc53a2,3,1,1,15197,,,0,"DNM: dummy change to test gate health

Change-Id: I7ea9442860c5665eaa299f005d31415ade65e148
",git fetch https://review.opendev.org/openstack/blazar refs/changes/27/885427/1 && git format-patch -1 --stdout FETCH_HEAD,['blazar/i18n.py'],1,64bf5caa93059db2209a98fd67ac8fdd07fc53a2,,# dummy change,,1,0
openstack%2Fpython-cyborgclient~master~I896dbb4d6e6d138d7a8b383e71959df266c8281e,openstack/python-cyborgclient,master,I896dbb4d6e6d138d7a8b383e71959df266c8281e,Add ut for get attribute client api,MERGED,2023-05-23 02:05:52.000000000,2023-06-07 07:53:33.000000000,2023-06-07 07:52:36.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-05-23 02:05:52.000000000', 'files': ['cyborgclient/tests/unit/osc/v2/test_attribute.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/6dff59cfc20f1dfeff8c2562d4e8f37ea465d528', 'message': 'Add ut for get attribute client api\n\nChange-Id: I896dbb4d6e6d138d7a8b383e71959df266c8281e\n'}]",1,883883,6dff59cfc20f1dfeff8c2562d4e8f37ea465d528,9,2,1,33436,,,0,"Add ut for get attribute client api

Change-Id: I896dbb4d6e6d138d7a8b383e71959df266c8281e
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/83/883883/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborgclient/tests/unit/osc/v2/test_attribute.py'],1,6dff59cfc20f1dfeff8c2562d4e8f37ea465d528,," class TestAttributeShow(TestAttribute): def setUp(self): super(TestAttributeShow, self).setUp() fake_arq = acc_fakes.FakeAcceleratorResource( None, copy.deepcopy(acc_fakes.ATTRIBUTE), loaded=True) self.mock_acc_client.get_attribute.return_value = fake_arq self.cmd = osc_attribute.ShowAttribute(self.app, None) def test_attribute_get(self): arglist = [acc_fakes.attribute_uuid] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) columns, data = self.cmd.take_action(parsed_args) self.mock_acc_client.get_attribute.assert_called_with( acc_fakes.attribute_uuid) collist = ( ""created_at"", ""updated_at"", ""uuid"", ""deployable_id"", ""key"", ""value"", ) self.assertEqual(collist, columns) datalist = [ acc_fakes.attribute_created_at, acc_fakes.attribute_updated_at, acc_fakes.attribute_uuid, acc_fakes.attribute_deployable_id, acc_fakes.attribute_key, acc_fakes.attribute_value, ] self.assertEqual(datalist, list(data))",,43,0
openstack%2Fblazar~master~I2bdf3dcc0b4ca985fcf7c4e279b77d4a735f6f51,openstack/blazar,master,I2bdf3dcc0b4ca985fcf7c4e279b77d4a735f6f51,Fix ssl connection issues with keytone,NEW,2023-04-09 09:31:50.000000000,2023-06-07 07:49:43.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-09 09:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/0aef8ae8b10a309c780e60fd2bc569a9c54433c8', 'message': 'Fix ssl connection issues with keytone\n\nChange-Id: I2bdf3dcc0b4ca985fcf7c4e279b77d4a735f6f51\n'}, {'number': 2, 'created': '2023-04-09 10:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/d5610548cd2a780a23a540f0e99060968ac73c42', 'message': 'Fix ssl connection issues with keytone\n\nChange-Id: I2bdf3dcc0b4ca985fcf7c4e279b77d4a735f6f51\n'}, {'number': 3, 'created': '2023-05-11 06:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/4886724757d278bc2a9efaa4ee5f6fb6c201994b', 'message': 'Fix ssl connection issues with keytone\n\nChange-Id: I2bdf3dcc0b4ca985fcf7c4e279b77d4a735f6f51\n'}, {'number': 4, 'created': '2023-05-15 11:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/f28eb224d4322983a9f64fffac4b795f33571512', 'message': 'Fix ssl connection issues with keytone\n\nChange-Id: I2bdf3dcc0b4ca985fcf7c4e279b77d4a735f6f51\n'}, {'number': 5, 'created': '2023-05-15 18:45:08.000000000', 'files': ['blazar/utils/openstack/base.py', 'blazar/utils/openstack/neutron.py', 'blazar/utils/openstack/placement.py', 'blazar/tests/utils/openstack/test_placement.py', 'blazar/utils/openstack/nova.py', 'blazar/config.py', 'blazar/tests/utils/openstack/test_nova.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/f417e7a7899fbc56b12d8a801b042f83f4cefc09', 'message': 'Fix ssl connection issues with keytone\n\nChange-Id: I2bdf3dcc0b4ca985fcf7c4e279b77d4a735f6f51\n'}]",16,879919,f417e7a7899fbc56b12d8a801b042f83f4cefc09,14,2,5,24005,,,0,"Fix ssl connection issues with keytone

Change-Id: I2bdf3dcc0b4ca985fcf7c4e279b77d4a735f6f51
",git fetch https://review.opendev.org/openstack/blazar refs/changes/19/879919/5 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/utils/openstack/base.py', 'blazar/utils/openstack/neutron.py', 'blazar/utils/openstack/placement.py', 'blazar/utils/openstack/nova.py', 'blazar/config.py']",5,0aef8ae8b10a309c780e60fd2bc569a9c54433c8,fix_ssl_issues," help='A domain name the os_admin_project_name belongs to'), # IBM-only start # RTC 93973 cfg.StrOpt('cafile', default='/etc/pki/tls/certs/powervc.crt', help='The certificate authority filename') # IBM-only end", help='A domain name the os_admin_project_name belongs to'),53,18
openstack%2Fadjutant~stable%2Fvictoria~I1420f59cc5a315a47f7a4bfe0ac2a9761d06e11d,openstack/adjutant,stable/victoria,I1420f59cc5a315a47f7a4bfe0ac2a9761d06e11d,Fix deprecated zuul queue syntax,MERGED,2023-06-06 18:52:15.000000000,2023-06-07 06:58:55.000000000,2023-06-07 06:55:58.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 18:52:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/acc4a44e87758a6bedabbc12d35b059d437f58ef', 'message': 'Fix deprecated zuul queue syntax\n\nZuul deprecated (and now removed) declaring shared queues at a pipeline\nlevel [1]. This patch fixes the syntax to make the gate work for\nadjutant.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I1420f59cc5a315a47f7a4bfe0ac2a9761d06e11d\n'}]",1,885401,acc4a44e87758a6bedabbc12d35b059d437f58ef,6,2,1,13252,,,0,"Fix deprecated zuul queue syntax

Zuul deprecated (and now removed) declaring shared queues at a pipeline
level [1]. This patch fixes the syntax to make the gate work for
adjutant.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I1420f59cc5a315a47f7a4bfe0ac2a9761d06e11d
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/01/885401/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,acc4a44e87758a6bedabbc12d35b059d437f58ef,fix-zuul-errors, queue: adjutant jobs: - adjutant-black-style-check , queue: adjutant jobs: - adjutant-black-style-check,2,2
openstack%2Fadjutant~stable%2Fwallaby~I1420f59cc5a315a47f7a4bfe0ac2a9761d06e11d,openstack/adjutant,stable/wallaby,I1420f59cc5a315a47f7a4bfe0ac2a9761d06e11d,Fix deprecated zuul queue syntax,MERGED,2023-06-06 18:51:57.000000000,2023-06-07 06:58:35.000000000,2023-06-07 06:55:32.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 18:51:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/ba9147143a921219dc49026c496735126c097845', 'message': 'Fix deprecated zuul queue syntax\n\nZuul deprecated (and now removed) declaring shared queues at a pipeline\nlevel [1]. This patch fixes the syntax to make the gate work for\nadjutant.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I1420f59cc5a315a47f7a4bfe0ac2a9761d06e11d\n'}]",1,885400,ba9147143a921219dc49026c496735126c097845,6,2,1,13252,,,0,"Fix deprecated zuul queue syntax

Zuul deprecated (and now removed) declaring shared queues at a pipeline
level [1]. This patch fixes the syntax to make the gate work for
adjutant.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I1420f59cc5a315a47f7a4bfe0ac2a9761d06e11d
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/00/885400/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ba9147143a921219dc49026c496735126c097845,fix-zuul-errors, queue: adjutant jobs: - adjutant-black-style-check , queue: adjutant jobs: - adjutant-black-style-check,2,2
openstack%2Ftrove~master~I24695238075f9b1354ee4c54673d021de481a868,openstack/trove,master,I24695238075f9b1354ee4c54673d021de481a868,Add debug log for CI tests,MERGED,2023-06-06 01:50:46.000000000,2023-06-07 06:25:10.000000000,2023-06-06 12:41:29.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 31737}]","[{'number': 1, 'created': '2023-06-06 01:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/5fca2f5bc5fd5edd49bbeec489e51b437be2b74b', 'message': 'Add debug log for CI tests\n\nWhen the CI fails, specifically related to the Trove guest agent,\nwe are unable to find a way to debug it.\nthis patch synchronizes the guest agent logs to controller nodes.\n\nChange-Id: I24695238075f9b1354ee4c54673d021de481a868\n'}, {'number': 2, 'created': '2023-06-06 02:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/1b75b7f151b4dfa7ad38212743c30942f922c2d5', 'message': 'Add debug log for CI tests\n\nWhen the CI fails, specifically related to the Trove guest agent,\nwe are unable to find a way to debug it.\nthis patch synchronizes the guest agent logs to controller nodes.\n\nChange-Id: I24695238075f9b1354ee4c54673d021de481a868\n'}, {'number': 3, 'created': '2023-06-06 05:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/878daaa45037e4900f5ea0019f72280bf7c5fe37', 'message': 'Add debug log for CI tests\n\nWhen the CI fails, specifically related to the Trove guest agent,\nwe are unable to find a way to debug it.\nthis patch synchronizes the guest agent logs to controller nodes.\n\nChange-Id: I24695238075f9b1354ee4c54673d021de481a868\n'}, {'number': 4, 'created': '2023-06-06 07:43:59.000000000', 'files': ['integration/scripts/files/elements/guest-agent/install.d/guest-agent-source-install/guest-agent-dev.service', 'devstack/plugin.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/49c16b889b68039b068eb420f345efdfaafcc1cc', 'message': 'Add debug log for CI tests\n\nWhen the CI fails, specifically related to the Trove guest agent,\nwe are unable to find a way to debug it.\nthis patch synchronizes the guest agent logs to controller nodes.\n\nChange-Id: I24695238075f9b1354ee4c54673d021de481a868\n'}]",1,885326,49c16b889b68039b068eb420f345efdfaafcc1cc,19,3,4,26285,,,0,"Add debug log for CI tests

When the CI fails, specifically related to the Trove guest agent,
we are unable to find a way to debug it.
this patch synchronizes the guest agent logs to controller nodes.

Change-Id: I24695238075f9b1354ee4c54673d021de481a868
",git fetch https://review.opendev.org/openstack/trove refs/changes/26/885326/1 && git format-patch -1 --stdout FETCH_HEAD,"['integration/scripts/files/elements/guest-agent/install.d/guest-agent-source-install/guest-agent-dev.service', 'devstack/plugin.sh', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",4,5fca2f5bc5fd5edd49bbeec489e51b437be2b74b,add-guest-agent-logs, zuul_copy_output: '/var/log/guest-agent-logs/': 'logs',,19,6
openstack%2Fheat~stable%2Fvictoria~I44ef26849ebb450a5643907a0ef47166cfd9b1cb,openstack/heat,stable/victoria,I44ef26849ebb450a5643907a0ef47166cfd9b1cb,Added a unit test for get_environment_hidden_param,MERGED,2023-03-29 11:08:20.000000000,2023-06-07 06:05:21.000000000,2023-06-07 06:04:21.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-29 11:08:20.000000000', 'files': ['heat/tests/test_engine_service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/895d7ca3cca72f21c9408a7f64d0f93cc4ebb500', 'message': 'Added a unit test for get_environment_hidden_param\n\nA unit test for verifying that hidden parameters should\nbe masked in the get stack environment API\n\nStory: 2010555\nTask: 47229\nChange-Id: I44ef26849ebb450a5643907a0ef47166cfd9b1cb\n(cherry picked from commit bdcb2c3bd115f1893baeab1d946eefa4aab49552)\n(cherry picked from commit 89b57e5e2eee091f18afbc03e83536109388dcb6)\n(cherry picked from commit 41a6b91362c3cf90bd3692c88b9840d6b1a8d56b)\n(cherry picked from commit 31778416befbf435b33e4bd2d8639f537de4c727)\n'}]",3,878856,895d7ca3cca72f21c9408a7f64d0f93cc4ebb500,13,2,1,9816,,,0,"Added a unit test for get_environment_hidden_param

A unit test for verifying that hidden parameters should
be masked in the get stack environment API

Story: 2010555
Task: 47229
Change-Id: I44ef26849ebb450a5643907a0ef47166cfd9b1cb
(cherry picked from commit bdcb2c3bd115f1893baeab1d946eefa4aab49552)
(cherry picked from commit 89b57e5e2eee091f18afbc03e83536109388dcb6)
(cherry picked from commit 41a6b91362c3cf90bd3692c88b9840d6b1a8d56b)
(cherry picked from commit 31778416befbf435b33e4bd2d8639f537de4c727)
",git fetch https://review.opendev.org/openstack/heat refs/changes/56/878856/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/test_engine_service.py'],1,895d7ca3cca72f21c9408a7f64d0f93cc4ebb500,bug/2010484," def test_get_environment_hidden_param(self): # Setup env = { 'parameters': { 'admin': 'testuser', 'pass': 'pa55w0rd' }, 'parameter_defaults': { 'secret': 'dummy' }, 'resource_registry': { 'res': 'resource.yaml' } } t = { 'heat_template_version': '2018-08-31', 'parameters': { 'admin': {'type': 'string'}, 'pass': {'type': 'string', 'hidden': True} }, 'resources': { 'res1': {'type': 'res'} } } files = { 'resource.yaml': ''' heat_template_version: 2018-08-31 parameters: secret: type: string hidden: true ''' } tmpl = templatem.Template(t, files=files) stack = parser.Stack(self.ctx, 'get_env_stack', tmpl) stack.store() mock_get_stack = self.patchobject(self.eng, '_get_stack') mock_get_stack.return_value = mock.MagicMock() mock_get_stack.return_value.raw_template.environment = env self.patchobject(templatem.Template, 'load', return_value=tmpl) # Test found = self.eng.get_environment(self.ctx, stack.identifier()) # Verify env['parameters']['pass'] = '******' env['parameter_defaults']['secret'] = '******' self.assertEqual(env, found) ",,50,0
openstack%2Fdib-utils~master~Ia8d93c590e21f9f3e505e46996257fea5b140868,openstack/dib-utils,master,Ia8d93c590e21f9f3e505e46996257fea5b140868,setup.cfg: Replace dashes with underscores,ABANDONED,2023-06-07 05:50:02.000000000,2023-06-07 05:58:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-07 05:50:02.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/dib-utils/commit/d21495faa7f46a3b8b8720ff57286f1b9845e95f', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ia8d93c590e21f9f3e505e46996257fea5b140868\n""}]",0,885225,d21495faa7f46a3b8b8720ff57286f1b9845e95f,3,1,1,35058,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ia8d93c590e21f9f3e505e46996257fea5b140868
",git fetch https://review.opendev.org/openstack/dib-utils refs/changes/25/885225/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d21495faa7f46a3b8b8720ff57286f1b9845e95f,,description_file =home_page = https://git.openstack.org/cgit/openstack/dib-utils,description-file =home-page = https://git.openstack.org/cgit/openstack/dib-utils,2,2
openstack%2Ftempest~master~I1027823aa378e9c669dca5a1bc49a9ada604a3d7,openstack/tempest,master,I1027823aa378e9c669dca5a1bc49a9ada604a3d7,End support for stable/xena,MERGED,2023-06-01 18:29:30.000000000,2023-06-07 05:16:01.000000000,2023-06-07 05:13:58.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-06-01 18:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/42e8017c21c970347e126af3b32d951bdd36fbf1', 'message': 'End support for stable/xena\n\nThis marks the end of support for stable/xena\nwhich is EM now [1]. This remove the stable/xena\njobs and also adds relesenote to mark the end of\nsupport of Xena.\n\n[1] https://review.opendev.org/c/openstack/releases/+/881254\n    https://releases.openstack.org/\n\nChange-Id: I1027823aa378e9c669dca5a1bc49a9ada604a3d7\n'}, {'number': 2, 'created': '2023-06-06 20:37:18.000000000', 'files': ['releasenotes/notes/end-of-support-of-xena-2e747cff7f8bc48a.yaml', 'zuul.d/stable-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c550f779769380ee3da4039ded320024b0080615', 'message': 'End support for stable/xena\n\nThis marks the end of support for stable/xena\nwhich is EM now [1]. This remove the stable/xena\njobs and also adds relesenote to mark the end of\nsupport of Xena.\n\n[1] https://review.opendev.org/c/openstack/releases/+/881254\n    https://releases.openstack.org/\n\nChange-Id: I1027823aa378e9c669dca5a1bc49a9ada604a3d7\n'}]",8,885089,c550f779769380ee3da4039ded320024b0080615,21,3,2,8556,,,0,"End support for stable/xena

This marks the end of support for stable/xena
which is EM now [1]. This remove the stable/xena
jobs and also adds relesenote to mark the end of
support of Xena.

[1] https://review.opendev.org/c/openstack/releases/+/881254
    https://releases.openstack.org/

Change-Id: I1027823aa378e9c669dca5a1bc49a9ada604a3d7
",git fetch https://review.opendev.org/openstack/tempest refs/changes/89/885089/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/end-of-support-of-xena-2e747cff7f8bc48a.yaml', 'zuul.d/stable-jobs.yaml', 'zuul.d/project.yaml']",3,42e8017c21c970347e126af3b32d951bdd36fbf1,xena-last, - tempest-full-yoga:, - tempest-full-xena: - tempest-full-yoga-extra-tests - tempest-full-xena-extra-tests - tempest-full-xena - tempest-slow-xena - tempest-full-xena-extra-tests,13,24
openstack%2Fironic~master~I4673214d2ed066aa8b95a35513b144668ade3e2b,openstack/ironic,master,I4673214d2ed066aa8b95a35513b144668ade3e2b,execute on child node support,MERGED,2023-04-14 20:07:34.000000000,2023-06-07 04:06:45.000000000,2023-06-07 04:04:45.000000000,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-14 20:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5ee09bd396ef620a38d8bd9aaa27e122f116cd6f', 'message': 'WIP: execute on child node support\n\nChange-Id: I4673214d2ed066aa8b95a35513b144668ade3e2b\n'}, {'number': 2, 'created': '2023-04-28 21:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f332e7fa9762705a1af03a07336c7b153f755059', 'message': 'WIP: execute on child node support\n\nChange-Id: I4673214d2ed066aa8b95a35513b144668ade3e2b\n'}, {'number': 3, 'created': '2023-05-05 00:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/34ceeafc8a3f24240d7c956cd60b9e7925f03164', 'message': 'execute on child node support\n\nAllows steps to be executed on child nodes, and adds\nthe reserved power_on, power_off, and reboot step names.\n\nChange-Id: I4673214d2ed066aa8b95a35513b144668ade3e2b\n'}, {'number': 4, 'created': '2023-05-05 00:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/83326235c4e70d4812caa5cdee8c2169818c7b9e', 'message': 'execute on child node support\n\nAllows steps to be executed on child nodes, and adds\nthe reserved power_on, power_off, and reboot step names.\n\nChange-Id: I4673214d2ed066aa8b95a35513b144668ade3e2b\n'}, {'number': 5, 'created': '2023-05-19 18:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d541e42b3f6805845d73eab2dd9eba65a9362144', 'message': 'execute on child node support\n\nAllows steps to be executed on child nodes, and adds\nthe reserved power_on, power_off, and reboot step names.\n\nChange-Id: I4673214d2ed066aa8b95a35513b144668ade3e2b\n'}, {'number': 6, 'created': '2023-05-24 15:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d55154ba205f904391fadffb42610399da234922', 'message': 'execute on child node support\n\nAllows steps to be executed on child nodes, and adds\nthe reserved power_on, power_off, and reboot step names.\n\nChange-Id: I4673214d2ed066aa8b95a35513b144668ade3e2b\n'}, {'number': 7, 'created': '2023-05-24 23:18:57.000000000', 'files': ['doc/source/admin/cleaning.rst', 'ironic/conf/conductor.py', 'ironic/tests/unit/conductor/test_steps.py', 'ironic/conductor/steps.py', 'ironic/tests/unit/conductor/test_cleaning.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/conductor/cleaning.py', 'ironic/conductor/deployments.py', 'ironic/api/controllers/v1/node.py', 'releasenotes/notes/add-execute-on-child-node-20910aecb8f8b714.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/013ac0cb41da9e512b6f071d4125b32025df67f6', 'message': 'execute on child node support\n\nAllows steps to be executed on child nodes, and adds\nthe reserved power_on, power_off, and reboot step names.\n\nChange-Id: I4673214d2ed066aa8b95a35513b144668ade3e2b\n'}]",19,880545,013ac0cb41da9e512b6f071d4125b32025df67f6,33,3,7,11655,,,0,"execute on child node support

Allows steps to be executed on child nodes, and adds
the reserved power_on, power_off, and reboot step names.

Change-Id: I4673214d2ed066aa8b95a35513b144668ade3e2b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/45/880545/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/conductor.py', 'ironic/conductor/steps.py', 'ironic/tests/unit/conductor/test_cleaning.py', 'ironic/conductor/cleaning.py']",4,5ee09bd396ef620a38d8bd9aaa27e122f116cd6f,,"from oslo_utils import uuidutilsfrom ironic import objects child_node_execution = step.get('execute_on_child_nodes', False) try: if not child_node_execution: interface = getattr(task.driver, step.get('interface')) LOG.info('Executing %(step)s on node %(node)s', {'step': step, 'node': node.uuid}) result = interface.execute_clean_step(task, step) else: LOG.info('Executing %(step)s on child nodes for node ' '%(node)s.', {'step': step, 'node': node.uuid}) result = execute_step_on_child_nodes(task, step) def execute_step_on_child_nodes(task, step): """"""Execute a requested step against a child node. :param task: The TaskManager object for the parent node. :param step: The requested step to be executed. :returns: None on Success, the resulting error message if a failure has occured. """""" # NOTE(TheJulia): We could just use nodeinfo list calls against # dbapi. # TODO We likely need to do earlier validation of our input, because # we can't query the project to force data model validation. eocn = step.get('execute_on_child_nodes') if type(eocn) == list: filters = {'parent_node': task.node.uuid, 'uuid_in': eocn} elif uuidutils.is_uuid_like(eocn): filters = {'parent_node': task.node.uuid, 'uuid_in': [eocn]} else: filters = {'parent_node': task.node.uuid} child_nodes = objects.Node.list( task.context, filters=filters, fields=['uuid'] ) for child_node in child_nodes: LOG.info('Executing step %(step)s on child node %(node)s for parent ' 'node %(parent_node)s', {'step': step, 'node': child_node.uuid, 'parent_node': task.node.uuid}) with task_manager.acquire(task.context, child_node.uuid, purpose='execute step') as child_task: interface = getattr(child_task.driver, step.get('interface')) LOG.info('Executing %(step)s on node %(node)s', {'step': step, 'node': child_task.node.uuid}) result = interface.execute_clean_step(child_task, step) if result is not None: if (result == states.CLEANWAIT and CONF.conductor.permit_child_node_step_async_result): # Operator has chosen to permit this due to some reason # NOTE(TheJulia): This is where we would likely wire agent # error handling if we ever implicitly allowed child node # deploys to take place with the agent from a parent node # being deployed. continue msg = (_('While executing step %(step)s on child node ' '%(node)s, step returned invalid value: %(val)s') % {'step': step, 'node': child_task.node.uuid, 'val': result}) LOG.error(msg) # Only None or states.CLEANWAIT are possible paths forward # in the parent step execution code, so returning the message # means it will be logged. return msg "," interface = getattr(task.driver, step.get('interface')) LOG.info('Executing %(step)s on node %(node)s', {'step': step, 'node': node.uuid}) try: result = interface.execute_clean_step(task, step)",249,5
openstack%2Fheat~stable%2Fvictoria~Ifc51ff6a4deab05002ccded59383416f9a586aa0,openstack/heat,stable/victoria,Ifc51ff6a4deab05002ccded59383416f9a586aa0,Honor 'hidden' parameter in 'stack environment show' command,MERGED,2023-02-13 13:03:51.000000000,2023-06-07 03:55:02.000000000,2023-06-07 03:53:44.000000000,"[{'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-13 13:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d1ca24da9ed35f6d73455678ec5511c6ae1d60dd', 'message': ""Honor 'hidden' parameter in 'stack environment show' command\n\nRelated-Bug: #1999665\nStory: 2010484\nTask: 47052\nChange-Id: Ifc51ff6a4deab05002ccded59383416f9a586aa0\n""}, {'number': 2, 'created': '2023-03-29 11:08:20.000000000', 'files': ['heat/tests/test_engine_service.py', 'releasenotes/notes/honor-hidden-parameter-in-stack-env-show-cmd-062065545dfef82a.yaml', 'heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/a9cebe20ce276a47df2283ec085ee5089880945b', 'message': ""Honor 'hidden' parameter in 'stack environment show' command\n\nBackport note:\nThis includes change I0abbd535aacc03446ada0fa806dfdfdaa4522afe which\nfixed the wrong explanation in the release note file.\n\nRelated-Bug: #1999665\nStory: 2010484\nTask: 47052\nChange-Id: Ifc51ff6a4deab05002ccded59383416f9a586aa0\n(cherry picked from commit c1b5fcfbe37d3f94d5b73ae36e071d1aa8c4e0f5)\n(cherry picked from commit 436ecad6511b30683f6b9af4e484ed64c3bcaab9)\n(cherry picked from commit c50d720aa36fd7553b133a5a2f4fefdb3040211f)\n(cherry picked from commit 1a49525c547a607743160a33b6a23041378ff177)\n""}]",6,873461,a9cebe20ce276a47df2283ec085ee5089880945b,20,3,2,35639,,,0,"Honor 'hidden' parameter in 'stack environment show' command

Backport note:
This includes change I0abbd535aacc03446ada0fa806dfdfdaa4522afe which
fixed the wrong explanation in the release note file.

Related-Bug: #1999665
Story: 2010484
Task: 47052
Change-Id: Ifc51ff6a4deab05002ccded59383416f9a586aa0
(cherry picked from commit c1b5fcfbe37d3f94d5b73ae36e071d1aa8c4e0f5)
(cherry picked from commit 436ecad6511b30683f6b9af4e484ed64c3bcaab9)
(cherry picked from commit c50d720aa36fd7553b133a5a2f4fefdb3040211f)
(cherry picked from commit 1a49525c547a607743160a33b6a23041378ff177)
",git fetch https://review.opendev.org/openstack/heat refs/changes/61/873461/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_engine_service.py', 'releasenotes/notes/honor-hidden-parameter-in-stack-env-show-cmd-062065545dfef82a.yaml', 'heat/engine/service.py']",3,d1ca24da9ed35f6d73455678ec5511c6ae1d60dd,bug/2010484,"import copy tmpl = templatem.Template.load(cnxt, s.raw_template_id, s.raw_template) param_schemata = tmpl.all_param_schemata(tmpl.files) env = copy.deepcopy(s.raw_template.environment) for section in [env_fmt.PARAMETERS, env_fmt.PARAMETER_DEFAULTS]: for param_name in env.get(section, {}).keys(): if (param_name not in param_schemata or not param_schemata[param_name].hidden): continue env[section][param_name] = str('******') return env", return s.raw_template.environment,17,2
openstack%2Ftrove~master~I3595d6860da69ddf3c34f715ea9f6c6cae876264,openstack/trove,master,I3595d6860da69ddf3c34f715ea9f6c6cae876264,[CI] Add --backup flag for rsync,ABANDONED,2023-06-06 16:14:42.000000000,2023-06-07 02:30:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-06 16:14:42.000000000', 'files': ['integration/scripts/files/elements/guest-agent/install.d/guest-agent-source-install/guest-agent-dev.service'], 'web_link': 'https://opendev.org/openstack/trove/commit/e78aa78b9130547e003ceb3f3e4ad749f0fb8d7c', 'message': '[CI] Add --backup flag for rsync\n\nChange-Id: I3595d6860da69ddf3c34f715ea9f6c6cae876264\n'}]",0,885373,e78aa78b9130547e003ceb3f3e4ad749f0fb8d7c,4,1,1,26285,,,0,"[CI] Add --backup flag for rsync

Change-Id: I3595d6860da69ddf3c34f715ea9f6c6cae876264
",git fetch https://review.opendev.org/openstack/trove refs/changes/73/885373/1 && git format-patch -1 --stdout FETCH_HEAD,['integration/scripts/files/elements/guest-agent/install.d/guest-agent-source-install/guest-agent-dev.service'],1,e78aa78b9130547e003ceb3f3e4ad749f0fb8d7c,,"ExecStartPre=/bin/bash -c ""sudo rsync -e 'ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i /home/GUEST_USERNAME/.ssh/id_rsa' -az --backup --suffix backup --exclude='.*' /var/log HOST_SCP_USERNAME@$CONTROLLER:/var/log/guest-agent-logs/$guest_id""ExecStartPre=/bin/bash -c ""sudo rsync -e 'ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i /home/GUEST_USERNAME/.ssh/id_rsa' -az --backup --suffix backup --exclude='.*' /var/lib/docker/containers HOST_SCP_USERNAME@$CONTROLLER:/var/log/guest-agent-logs/$guest_id""","ExecStartPre=/bin/bash -c ""sudo rsync -e 'ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i /home/GUEST_USERNAME/.ssh/id_rsa' -az --exclude='.*' /var/log HOST_SCP_USERNAME@$CONTROLLER:/var/log/guest-agent-logs/$guest_id""ExecStartPre=/bin/bash -c ""sudo rsync -e 'ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i /home/GUEST_USERNAME/.ssh/id_rsa' -az --exclude='.*' /var/lib/docker/containers HOST_SCP_USERNAME@$CONTROLLER:/var/log/guest-agent-logs/$guest_id""",2,2
openstack%2Fironic~master~I6b4ca2c0b99d987a162d500a2ede63a7f9ccd92a,openstack/ironic,master,I6b4ca2c0b99d987a162d500a2ede63a7f9ccd92a,[DNM] Test CI,NEW,2023-06-06 14:51:11.000000000,2023-06-07 02:24:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-06 14:51:11.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b4b0acb7f05edfb09d476b93b42d5fa36c989285', 'message': '[DNM] Test CI\n\nChange-Id: I6b4ca2c0b99d987a162d500a2ede63a7f9ccd92a\n'}]",1,885363,b4b0acb7f05edfb09d476b93b42d5fa36c989285,7,1,1,15519,,,0,"[DNM] Test CI

Change-Id: I6b4ca2c0b99d987a162d500a2ede63a7f9ccd92a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/63/885363/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,b4b0acb7f05edfb09d476b93b42d5fa36c989285,dnm,# test,,1,0
openstack%2Ftempest~master~I1d472cbcc3d04d30e9682d5839dd83ebbf55cd0e,openstack/tempest,master,I1d472cbcc3d04d30e9682d5839dd83ebbf55cd0e,Incrase timeout in tempest-slow-2023-1 job,NEW,2023-06-06 16:05:12.000000000,2023-06-07 00:37:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-06 16:05:12.000000000', 'files': ['zuul.d/stable-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/72a5014be11753c1bfe86bd4ff168b1c882ebc9b', 'message': ""Incrase timeout in tempest-slow-2023-1 job\n\nThe patch increases the timoeut about 1600 seconds to avoid\ntimeout issues recently seen - devstack took 10 more minutes\nto deploy and approx. 10 tests didn't get to be executed.\n\nChange-Id: I1d472cbcc3d04d30e9682d5839dd83ebbf55cd0e\n""}]",2,885370,72a5014be11753c1bfe86bd4ff168b1c882ebc9b,3,1,1,22873,,,0,"Incrase timeout in tempest-slow-2023-1 job

The patch increases the timoeut about 1600 seconds to avoid
timeout issues recently seen - devstack took 10 more minutes
to deploy and approx. 10 tests didn't get to be executed.

Change-Id: I1d472cbcc3d04d30e9682d5839dd83ebbf55cd0e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/70/885370/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/stable-jobs.yaml'],1,72a5014be11753c1bfe86bd4ff168b1c882ebc9b,, # increase the timeout about 1000s more to avoid timeout errors timeout: 12400,,2,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I956bbdf9296d324b36737aab1c8b055311e1f928,openstack/python-tripleoclient,stable/wallaby,I956bbdf9296d324b36737aab1c8b055311e1f928,Validate keystone passwords if keystonepasswordregex is present,NEW,2023-06-06 20:15:25.000000000,2023-06-07 00:14:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-06 20:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/342f80be4865559651a1e676e887bae42d4bac72', 'message': ""Validate keystone passwords if keystonepasswordregex is present\n\nValidate keystone passwords if keystonepasswordregex is present as\nmany operator specify a password regex that doesn't match default\npassword generation and deployment breaks later on.\n\nChange-Id: I956bbdf9296d324b36737aab1c8b055311e1f928\nSolves: rhbz#2210350\n""}, {'number': 2, 'created': '2023-06-06 20:18:16.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ecdc78392717b3a2ecd4630d2835c2fc9670086a', 'message': ""Validate keystone passwords if keystonepasswordregex is present\n\nValidate keystone passwords if keystonepasswordregex is present as\nmany operator specify a password regex that doesn't match default\npassword generation and deployment breaks later on.\n\nChange-Id: I956bbdf9296d324b36737aab1c8b055311e1f928\nSolves: rhbz#2210350\n""}]",0,885410,ecdc78392717b3a2ecd4630d2835c2fc9670086a,3,1,2,7130,,,0,"Validate keystone passwords if keystonepasswordregex is present

Validate keystone passwords if keystonepasswordregex is present as
many operator specify a password regex that doesn't match default
password generation and deployment breaks later on.

Change-Id: I956bbdf9296d324b36737aab1c8b055311e1f928
Solves: rhbz#2210350
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/10/885410/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",2,342f80be4865559651a1e676e887bae42d4bac72,wal_validate_passwd, utils.validate_password(env),,19,0
openstack%2Fopenstack-ansible~stable%2Fyoga~If31d599e3eaaee46af0ebdcf7d1cb94c33748a69,openstack/openstack-ansible,stable/yoga,If31d599e3eaaee46af0ebdcf7d1cb94c33748a69,Bump OpenStack-Ansible SHAs for Yoga,MERGED,2023-05-31 17:58:45.000000000,2023-06-06 23:44:56.000000000,2023-06-06 23:43:37.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2023-05-31 17:58:45.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/install_libvirt_daemon_centos-9826ecb428bce8a5.yaml', 'releasenotes/notes/ceilometer_polling_namespaces-a21da7a655f4c922.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/ossa-2023-003-b62fe9e279eb4434.yaml', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f532987d44e080e851dafcec957deadde9f54fae', 'message': 'Bump OpenStack-Ansible SHAs for Yoga\n\nChange-Id: If31d599e3eaaee46af0ebdcf7d1cb94c33748a69\n'}]",2,884918,f532987d44e080e851dafcec957deadde9f54fae,16,3,1,28619,,,0,"Bump OpenStack-Ansible SHAs for Yoga

Change-Id: If31d599e3eaaee46af0ebdcf7d1cb94c33748a69
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/18/884918/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/install_libvirt_daemon_centos-9826ecb428bce8a5.yaml', 'releasenotes/notes/ceilometer_polling_namespaces-a21da7a655f4c922.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/ossa-2023-003-b62fe9e279eb4434.yaml', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml']",7,f532987d44e080e851dafcec957deadde9f54fae,bump_osa,--- deprecations: - | RabbitMQ packages are no longer provided by PackageCloud due to the upstream repository being no longer available after 2023-05-28. Installations will now utilize a community mirror of CloudSmith repositories for rabbitmq and erlang. https://github.com/rabbitmq/rabbitmq-server/discussions/8386 fixes: - | https://bugs.launchpad.net/openstack-ansible/+bug/2021410 ,,90,63
openstack%2Fneutron-tempest-plugin~master~Id328446be8591fac3affe2cf8adeaeee09697085,openstack/neutron-tempest-plugin,master,Id328446be8591fac3affe2cf8adeaeee09697085,[fwaas]Disassociate all ports before deleting firewall group,MERGED,2023-05-25 00:55:47.000000000,2023-06-06 23:34:07.000000000,2023-06-06 23:34:07.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 00:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c60c755417c39347b3eb27d38b4e57e287d496b4', 'message': 'Disassociate all ports before delete firewall group\n\nIf the firewall group has associated ports, the firewall group may be in an\nactive state. Firewall group is active, deletion is not allowed.\n\nCloses-Bug: #2018967\n\nChange-Id: Id328446be8591fac3affe2cf8adeaeee09697085\n'}, {'number': 2, 'created': '2023-05-25 01:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/eb82c95d39ef78296f63051e2dc4f9d194f60424', 'message': '[fwaas]Disassociate all ports before deleting firewall group\n\nIf the firewall group has associated ports, the firewall group may be in\nan active state. Firewall group is active, deletion is not allowed.\n\nCloses-Bug: #2018967\n\nChange-Id: Id328446be8591fac3affe2cf8adeaeee09697085\n'}, {'number': 3, 'created': '2023-05-25 02:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6c26d9ab4ff5c4a1cda5cb7f691c066c3c1bafae', 'message': '[fwaas]Disassociate all ports before deleting firewall group\n\nIf the firewall group has associated ports, the firewall group may be in\nan active state. Firewall group is active, deletion is not allowed.\n\nCloses-Bug: #2018967\n\nChange-Id: Id328446be8591fac3affe2cf8adeaeee09697085\n'}, {'number': 4, 'created': '2023-05-25 05:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/af1bfba2e9e58e8332e6c6ad6e20de52a0227f83', 'message': '[fwaas]Disassociate all ports before deleting firewall group\n\nIf the firewall group has associated ports, the firewall group may be in\nan active state. Firewall group is active, deletion is not allowed.\n\nCloses-Bug: #2018967\n\nChange-Id: Id328446be8591fac3affe2cf8adeaeee09697085\n'}, {'number': 5, 'created': '2023-05-25 07:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/865226c80b4e4e0e93f3ce5a417891a35cbfb43f', 'message': '[fwaas]Disassociate all ports before deleting firewall group\n\nIf the firewall group has associated ports, the firewall group may be in\nan active state. Firewall group is active, deletion is not allowed.\n\nCloses-Bug: #2018967\n\nChange-Id: Id328446be8591fac3affe2cf8adeaeee09697085\n'}, {'number': 6, 'created': '2023-05-25 11:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6bc7b1374ab2d1befce24a62709358506f6cff5c', 'message': '[fwaas]Disassociate all ports before deleting firewall group\n\nIf the firewall group has associated ports, the firewall group may be in\nan active state. Firewall group is active, deletion is not allowed.\n\nCloses-Bug: #2018967\n\nChange-Id: Id328446be8591fac3affe2cf8adeaeee09697085\n'}, {'number': 7, 'created': '2023-05-29 08:03:31.000000000', 'files': ['neutron_tempest_plugin/fwaas/api/test_fwaasv2_extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7b1f9b11e66b81eabdc8361c89f8ccfdb3448f9a', 'message': '[fwaas]Disassociate all ports before deleting firewall group\n\nIf the firewall group has associated ports, the firewall group may be in\nan active state. Firewall group is active, deletion is not allowed.\nThis patch cannot solve the bug[1] at the moment. Because there are\nother bugs[2] present.\nWe plan to avoid bugs[2] through patches[3] now. To solve the bug[1].\nThere are other patches[1] here to try and solve the bug[2].\n\nPartial-Bug: #2018967\n\n[1] https://bugs.launchpad.net/neutron/+bug/2018967\n[2] https://bugs.launchpad.net/neutron/+bug/2021457\n[3] https://review.opendev.org/c/openstack/neutron-fwaas/+/884333\n[4] https://review.opendev.org/c/openstack/neutron-fwaas/+/884335\n\nChange-Id: Id328446be8591fac3affe2cf8adeaeee09697085\n'}]",4,883826,7b1f9b11e66b81eabdc8361c89f8ccfdb3448f9a,24,3,7,30380,,,0,"[fwaas]Disassociate all ports before deleting firewall group

If the firewall group has associated ports, the firewall group may be in
an active state. Firewall group is active, deletion is not allowed.
This patch cannot solve the bug[1] at the moment. Because there are
other bugs[2] present.
We plan to avoid bugs[2] through patches[3] now. To solve the bug[1].
There are other patches[1] here to try and solve the bug[2].

Partial-Bug: #2018967

[1] https://bugs.launchpad.net/neutron/+bug/2018967
[2] https://bugs.launchpad.net/neutron/+bug/2021457
[3] https://review.opendev.org/c/openstack/neutron-fwaas/+/884333
[4] https://review.opendev.org/c/openstack/neutron-fwaas/+/884335

Change-Id: Id328446be8591fac3affe2cf8adeaeee09697085
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/26/883826/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/fwaas/api/test_fwaasv2_extensions.py'],1,c60c755417c39347b3eb27d38b4e57e287d496b4,," # Disassociate all ports with this firewall group self.firewall_groups_client.update_firewall_group(fwg_id, ports=[])",,2,1
openstack%2Fneutron-tempest-plugin~master~I17cebaa34acb0dd6c60bd106eb70656faaebbb04,openstack/neutron-tempest-plugin,master,I17cebaa34acb0dd6c60bd106eb70656faaebbb04,Don't check exit status when nc_client is spawned,MERGED,2023-06-02 08:57:54.000000000,2023-06-06 23:34:05.000000000,2023-06-06 23:34:05.000000000,"[{'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-06-02 08:57:54.000000000', 'files': ['neutron_tempest_plugin/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/03bd62ef366e65a994788d50f461000b893c576f', 'message': ""Don't check exit status when nc_client is spawned\n\nIn all cases where we are using nc_client, we rely on the messages\nreturned there in stdout and we don't really check exit_status codes.\n\nIt seems that e.g. ncat provided by RHEL 9 returns error_code=1 in case\nwhen connection was refused. And that is expected thing e.g. in some\nparts of the port_forwarding related tests.\nTo avoid unexpected failures due to ShellCommandFailed error we\nshouldn't check exit_code there and always return messages from\nnc_client's stdout to assert them in the test.\n\nCloses: rhbz#2210233\nChange-Id: I17cebaa34acb0dd6c60bd106eb70656faaebbb04\n""}]",2,885108,03bd62ef366e65a994788d50f461000b893c576f,10,4,1,11975,,,0,"Don't check exit status when nc_client is spawned

In all cases where we are using nc_client, we rely on the messages
returned there in stdout and we don't really check exit_status codes.

It seems that e.g. ncat provided by RHEL 9 returns error_code=1 in case
when connection was refused. And that is expected thing e.g. in some
parts of the port_forwarding related tests.
To avoid unexpected failures due to ShellCommandFailed error we
shouldn't check exit_code there and always return messages from
nc_client's stdout to assert them in the test.

Closes: rhbz#2210233
Change-Id: I17cebaa34acb0dd6c60bd106eb70656faaebbb04
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/08/885108/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/base.py'],1,03bd62ef366e65a994788d50f461000b893c576f,bz/2210233," result = shell.execute(cmd, ssh_client=ssh_client, check=False)"," result = shell.execute(cmd, ssh_client=ssh_client) self.assertEqual(0, result.exit_status)",1,2
openstack%2Fneutron-lib~master~I0bb6b070ca154a6a2992fabd70460497c292f9ba,openstack/neutron-lib,master,I0bb6b070ca154a6a2992fabd70460497c292f9ba,Add FirewallGroupPortNotSupported exception,MERGED,2023-06-02 02:25:53.000000000,2023-06-06 23:32:48.000000000,2023-06-06 23:31:56.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-02 02:25:53.000000000', 'files': ['neutron_lib/exceptions/firewall_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/fc68d74d4cbc5e4a547f4d119f68f2cb2dbbeaad', 'message': 'Add FirewallGroupPortNotSupported exception\n\nThis exception has been used in neutron-fwaas[1] for a long time.\n\n[1] https://opendev.org/openstack/neutron-fwaas/src/commit/768937b0d7e7301092af189701f6adca49d3168c/neutron_fwaas/common/exceptions.py#L22\n\nChange-Id: I0bb6b070ca154a6a2992fabd70460497c292f9ba\n'}]",1,884599,fc68d74d4cbc5e4a547f4d119f68f2cb2dbbeaad,10,3,1,30380,,,0,"Add FirewallGroupPortNotSupported exception

This exception has been used in neutron-fwaas[1] for a long time.

[1] https://opendev.org/openstack/neutron-fwaas/src/commit/768937b0d7e7301092af189701f6adca49d3168c/neutron_fwaas/common/exceptions.py#L22

Change-Id: I0bb6b070ca154a6a2992fabd70460497c292f9ba
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/99/884599/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/exceptions/firewall_v2.py'],1,fc68d74d4cbc5e4a547f4d119f68f2cb2dbbeaad,," class FirewallGroupPortNotSupported(exceptions.Conflict): message = _(""Port %(port_id)s is not supported by firewall driver "" ""'%(driver_name)s'."")",,5,0
openstack%2Fironic-python-agent-builder~master~I2028ac1cf350d86903a33e4bd91c209887de1e5c,openstack/ironic-python-agent-builder,master,I2028ac1cf350d86903a33e4bd91c209887de1e5c,Add libaio engine for fio on Centos/Rhel9,MERGED,2023-06-01 21:58:54.000000000,2023-06-06 21:59:12.000000000,2023-06-06 21:58:19.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 21:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/706f1a8e7af692e2c330df7e25110ce3c6cc46d2', 'message': ""Add libaio engine for fio on Centos/Rhel9\n\nfio packaging previously contained everything in one RPM,\nbut at some point for EL9 builds, this was split into multiple\nRPMs where each engine used was put into it's own RPM.\n\nIn order for integrated disk benchmarking to work with\nintrospection, we use python-hardware. Python-hardware uses\nfio, with libaio as a default option.\n\nSo now, we will attempt to install the other package which\nshould make users of the feature happier as their ramdisk\nimages will come with the contents required to do a benchmark\nupfront.\n\nChange-Id: I2028ac1cf350d86903a33e4bd91c209887de1e5c\n""}, {'number': 2, 'created': '2023-06-02 13:44:37.000000000', 'files': ['dib/burn-in/package-installs.yaml', 'dib/extra-hardware/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/1c1b8cf663598a74ee9391023e7b376f2dc6ea5a', 'message': ""Add libaio engine for fio on Centos/Rhel9\n\nfio packaging previously contained everything in one RPM,\nbut at some point for EL9 builds, this was split into multiple\nRPMs where each engine used was put into it's own RPM.\n\nIn order for integrated disk benchmarking to work with\nintrospection, we use python-hardware. Python-hardware uses\nfio, with libaio as a default option.\n\nSo now, we will attempt to install the other package which\nshould make users of the feature happier as their ramdisk\nimages will come with the contents required to do a benchmark\nupfront.\n\nChange-Id: I2028ac1cf350d86903a33e4bd91c209887de1e5c\n""}]",3,885100,1c1b8cf663598a74ee9391023e7b376f2dc6ea5a,16,3,2,11655,,,0,"Add libaio engine for fio on Centos/Rhel9

fio packaging previously contained everything in one RPM,
but at some point for EL9 builds, this was split into multiple
RPMs where each engine used was put into it's own RPM.

In order for integrated disk benchmarking to work with
introspection, we use python-hardware. Python-hardware uses
fio, with libaio as a default option.

So now, we will attempt to install the other package which
should make users of the feature happier as their ramdisk
images will come with the contents required to do a benchmark
upfront.

Change-Id: I2028ac1cf350d86903a33e4bd91c209887de1e5c
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/00/885100/2 && git format-patch -1 --stdout FETCH_HEAD,"['dib/burn-in/package-installs.yaml', 'dib/extra-hardware/package-installs.yaml']",2,706f1a8e7af692e2c330df7e25110ce3c6cc46d2,,fio-engine-libaio: when: - IPA_DISTRO_FAMILY = rh - DIB_RELEASE >= 9,,8,0
openstack%2Ftempest~master~Id34c82b001c77ba65ae987dc5eb6b925bc1b279f,openstack/tempest,master,Id34c82b001c77ba65ae987dc5eb6b925bc1b279f,Remove closure _unshelve_server not useful,MERGED,2023-05-10 12:48:28.000000000,2023-06-06 21:19:39.000000000,2023-06-06 21:18:32.000000000,"[{'_account_id': 8556}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30674}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-05-10 12:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0b342b9050b63689290f0068be0c2c08e861d3bc', 'message': 'Remove closure _unshelve_server not useful\n\nThe ""_unshelve_server"" method is not effective since it is executed after\ntearDown, as it is scheduled with addCleanup. During the tearDown process,\nthe ""server_check_teardown"" method waits for a server to be in the ""ACTIVE""\nstate. If a timeout occurs, the server is destroyed to create a new one\nand continue the test safely.\n\nTherefore, either the test exits tearDown with an ""ACTIVE"" server,\nin which case ""_unshelve_server"" will do nothing since it checks for a\n""SHELVED"" server, or the server is destroyed upon exiting tearDown, and\n""_unshelve_server"" raises an exception, as we can see in the stack trace\nfor issue #2016957.\n\nRelated-Bug: #2016967\nChange-Id: Id34c82b001c77ba65ae987dc5eb6b925bc1b279f\n'}, {'number': 2, 'created': '2023-05-10 12:50:40.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/368d19d7e0240d7620950e2185a1cfa6f0437371', 'message': 'Remove closure _unshelve_server not useful\n\nThe ""_unshelve_server"" method is not effective since it is executed\nafter tearDown, as it is scheduled with addCleanup. During the tearDown\nprocess, the ""server_check_teardown"" method waits for a server to be\nin the ""ACTIVE"" state. If a timeout occurs, the server is destroyed\nto create a new one and continue the test safely.\n\nTherefore, either the test exits tearDown with an ""ACTIVE"" server, in\nwhich case ""_unshelve_server"" will do nothing since it checks for a\n""SHELVED"" server, or the server is destroyed upon exiting tearDown,\nand ""_unshelve_server"" raises an exception, as we can see in the\nstack trace for issue #2016957.\n\nRelated-Bug: #2016967\nChange-Id: Id34c82b001c77ba65ae987dc5eb6b925bc1b279f\n'}]",18,882823,368d19d7e0240d7620950e2185a1cfa6f0437371,44,7,2,16207,,,0,"Remove closure _unshelve_server not useful

The ""_unshelve_server"" method is not effective since it is executed
after tearDown, as it is scheduled with addCleanup. During the tearDown
process, the ""server_check_teardown"" method waits for a server to be
in the ""ACTIVE"" state. If a timeout occurs, the server is destroyed
to create a new one and continue the test safely.

Therefore, either the test exits tearDown with an ""ACTIVE"" server, in
which case ""_unshelve_server"" will do nothing since it checks for a
""SHELVED"" server, or the server is destroyed upon exiting tearDown,
and ""_unshelve_server"" raises an exception, as we can see in the
stack trace for issue #2016957.

Related-Bug: #2016967
Change-Id: Id34c82b001c77ba65ae987dc5eb6b925bc1b279f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/23/882823/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_server_actions.py'],1,0b342b9050b63689290f0068be0c2c08e861d3bc,bug/2016967,, def _unshelve_server(): server_info = self.client.show_server(self.server_id)['server'] if 'SHELVED' in server_info['status']: self.client.unshelve_server(self.server_id) self.addCleanup(_unshelve_server) ,0,6
openstack%2Fnova~master~I093de2839c1bb7c949a0812e07b63de4cc5ed167,openstack/nova,master,I093de2839c1bb7c949a0812e07b63de4cc5ed167,Add debug logging when Instance raises OrphanedObjectError,MERGED,2023-05-17 03:21:23.000000000,2023-06-06 20:08:58.000000000,2023-06-06 20:07:47.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 03:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b2ec768fedf953dcb8ebafed418c16e4f3481db', 'message': 'Add debug logging when Instance raises OrphanedObjectError\n\nThis logging would be helpful in debugging issues when\nOrphanedObjectError is raised by an instance. Currently, there is\nnot a way to identify which instance is attempting to lazy-load a\nfield while orphaned. Being able to locate the instance in the\ndatabase could also help with recovery/cleanup when a problematic\nrecord is disrupting operation of a deployment.\n\nChange-Id: I093de2839c1bb7c949a0812e07b63de4cc5ed167\n'}, {'number': 2, 'created': '2023-05-17 15:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/798ad8b5994ce35bd7ed594603a327faa41351dc', 'message': 'Add debug logging when Instance raises OrphanedObjectError\n\nThis logging would be helpful in debugging issues when\nOrphanedObjectError is raised by an instance. Currently, there is\nnot a way to identify which instance is attempting to lazy-load a\nfield while orphaned. Being able to locate the instance in the\ndatabase could also help with recovery/cleanup when a problematic\nrecord is disrupting operation of a deployment.\n\nChange-Id: I093de2839c1bb7c949a0812e07b63de4cc5ed167\n'}, {'number': 3, 'created': '2023-05-18 00:20:05.000000000', 'files': ['nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e0fbb6fc06d3b08b938af2e36b11f04c57fe6954', 'message': 'Add debug logging when Instance raises OrphanedObjectError\n\nThis logging would be helpful in debugging issues when\nOrphanedObjectError is raised by an instance. Currently, there is\nnot a way to identify which instance is attempting to lazy-load a\nfield while orphaned. Being able to locate the instance in the\ndatabase could also help with recovery/cleanup when a problematic\nrecord is disrupting operation of a deployment.\n\nChange-Id: I093de2839c1bb7c949a0812e07b63de4cc5ed167\n'}]",10,883325,e0fbb6fc06d3b08b938af2e36b11f04c57fe6954,37,7,3,4690,,,0,"Add debug logging when Instance raises OrphanedObjectError

This logging would be helpful in debugging issues when
OrphanedObjectError is raised by an instance. Currently, there is
not a way to identify which instance is attempting to lazy-load a
field while orphaned. Being able to locate the instance in the
database could also help with recovery/cleanup when a problematic
record is disrupting operation of a deployment.

Change-Id: I093de2839c1bb7c949a0812e07b63de4cc5ed167
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/883325/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/instance.py'],1,1b2ec768fedf953dcb8ebafed418c16e4f3481db,orphaned-instance-uuid," LOG.debug( f""Lazy-load of '{attrname}' attempted by orphaned instance"", instance=self ) raise exception.selfOrphanedObjectError(method='obj_load_attr', objtype=self.obj_name())"," raise exception.OrphanedObjectError(method='obj_load_attr', objtype=self.obj_name())",6,2
openstack%2Fopenstack-ansible~stable%2F2023.1~Iafe7fefeb181f0556ef3790019ed00a9c53e5fff,openstack/openstack-ansible,stable/2023.1,Iafe7fefeb181f0556ef3790019ed00a9c53e5fff,Add 2023.1 to the compatability matrix,MERGED,2023-06-06 18:38:07.000000000,2023-06-06 20:06:46.000000000,2023-06-06 20:05:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-06-06 18:38:07.000000000', 'files': ['doc/source/admin/upgrades/os-compatibility-matrix.html'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b107778f6d98dd34a1d8317fa38f1c0e0fc50bf2', 'message': 'Add 2023.1 to the compatability matrix\n\nChange-Id: Iafe7fefeb181f0556ef3790019ed00a9c53e5fff\n(cherry picked from commit 6f392beb43dd15aa791259be74e4dedc7ee289b1)\n'}]",0,885399,b107778f6d98dd34a1d8317fa38f1c0e0fc50bf2,8,3,1,28619,,,0,"Add 2023.1 to the compatability matrix

Change-Id: Iafe7fefeb181f0556ef3790019ed00a9c53e5fff
(cherry picked from commit 6f392beb43dd15aa791259be74e4dedc7ee289b1)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/99/885399/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/upgrades/os-compatibility-matrix.html'],1,b107778f6d98dd34a1d8317fa38f1c0e0fc50bf2,," <tr class=""active""> <th rowspan=""2"" style=""vertical-align: middle"">2023.1 (Antelope)</td> <td>source</td> <td>✘</td><!-- Ubuntu 18.04 --> <td>✔</td><!-- Ubuntu 20.04 --> <td>✔*</td><!-- Ubuntu 22.04 --> <td>✘</td><!-- Centos 8 --> <td>✘</td><!-- Centos 8s --> <td>✔</td><!-- Centos 9s --> <td>✘</td><!-- Debian 10 --> <td>✔</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✔</td><!-- RockyLinux 9 --> </tr> <tr> <td>distro</td> <td>✘</td><!-- Ubuntu 18.04 --> <td>✘</td><!-- Ubuntu 20.04 --> <td class=""warning"">E</td><!-- Ubuntu 22.04 --> <td>✘</td><!-- Centos 8 --> <td>✘</td><!-- Centos 8s --> <td class=""warning"">E</td><!-- Centos 9s --> <td>✘</td><!-- Debian 10 --> <td>✘</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td class=""warning"">E</td><!-- RockyLinux 9 --> </tr>",,27,0
openstack%2Fopenstack-ansible~stable%2Fzed~I9ae094f5984beaa564a1d5fc5dd5a2b913df01cd,openstack/openstack-ansible,stable/zed,I9ae094f5984beaa564a1d5fc5dd5a2b913df01cd,Bump OpenStack-Ansible SHAs for Zed,MERGED,2023-05-31 17:38:48.000000000,2023-06-06 19:58:14.000000000,2023-06-06 19:57:06.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2023-05-31 17:38:48.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/ossa-2023-003-99a7ab9c33b6da88.yaml', 'releasenotes/notes/install_libvirt_daemon_centos-9826ecb428bce8a5.yaml', 'releasenotes/notes/ceilometer_polling_namespaces-a21da7a655f4c922.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5c4a616a365d9c9fcb3bc8dcc214f55a31210f91', 'message': 'Bump OpenStack-Ansible SHAs for Zed\n\nChange-Id: I9ae094f5984beaa564a1d5fc5dd5a2b913df01cd\n'}]",2,884913,5c4a616a365d9c9fcb3bc8dcc214f55a31210f91,14,3,1,28619,,,0,"Bump OpenStack-Ansible SHAs for Zed

Change-Id: I9ae094f5984beaa564a1d5fc5dd5a2b913df01cd
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/13/884913/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/ossa-2023-003-99a7ab9c33b6da88.yaml', 'releasenotes/notes/install_libvirt_daemon_centos-9826ecb428bce8a5.yaml', 'releasenotes/notes/ceilometer_polling_namespaces-a21da7a655f4c922.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml']",7,5c4a616a365d9c9fcb3bc8dcc214f55a31210f91,bump_osa,--- deprecations: - | RabbitMQ packages are no longer provided by PackageCloud due to the upstream repository being no longer available after 2023-05-28. Installations will now utilize a community mirror of CloudSmith repositories for rabbitmq and erlang. https://github.com/rabbitmq/rabbitmq-server/discussions/8386 fixes: - | https://bugs.launchpad.net/openstack-ansible/+bug/2021410 ,,97,70
openstack%2Fwhitebox-tempest-plugin~master~Ie7c6b43d4937221a919635f533431999abbef426,openstack/whitebox-tempest-plugin,master,Ie7c6b43d4937221a919635f533431999abbef426,Add socket affinity testing,MERGED,2022-07-28 18:26:48.000000000,2023-06-06 19:31:12.000000000,2023-06-06 19:31:12.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-28 18:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/0256bfd43a5fc8128576c5cdd7721e1d08db6a15', 'message': '[WIP] Add socket affinity testing\n\nAdd core test for socket affinity testing [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/pci-socket-affinity\n\nChange-Id: Ie7c6b43d4937221a919635f533431999abbef426\n'}, {'number': 2, 'created': '2022-07-28 18:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/aabd14dbb58abd5fbe83c1c040064ebe0e58e644', 'message': '[WIP] Add socket affinity testing\n\nAdd core test for socket affinity testing [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/pci-socket-affinity\n\nChange-Id: Ie7c6b43d4937221a919635f533431999abbef426\n'}, {'number': 3, 'created': '2022-10-12 17:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/40c31d90b5f6c2b6f656d47486db5438c29b97f0', 'message': '[WIP] Add socket affinity testing\n\nAdd core test for socket affinity testing [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/pci-socket-affinity\n\nChange-Id: Ie7c6b43d4937221a919635f533431999abbef426\n'}, {'number': 4, 'created': '2022-10-12 17:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/f5504c89359e28fea01879b3181e734e14e8985b', 'message': 'Add socket affinity testing\n\nAdd core test for socket affinity testing [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/pci-socket-affinity\n\nChange-Id: Ie7c6b43d4937221a919635f533431999abbef426\n'}, {'number': 5, 'created': '2022-11-23 18:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5aecf722211f45dfad2903327f808121947d1306', 'message': 'Add socket affinity testing\n\nAdd core test for socket affinity testing [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/pci-socket-affinity\n\nChange-Id: Ie7c6b43d4937221a919635f533431999abbef426\n'}, {'number': 6, 'created': '2023-06-06 13:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/864add9d04d0dc46a322384592e1d8bd7e745c75', 'message': 'Add socket affinity testing\n\nAdd core test for socket affinity testing [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/pci-socket-affinity\n\nChange-Id: Ie7c6b43d4937221a919635f533431999abbef426\n'}, {'number': 7, 'created': '2023-06-06 13:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5d0a94d95b48d17683be60721568522fd5679deb', 'message': 'Add socket affinity testing\n\nAdd core test for socket affinity testing [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/pci-socket-affinity\n\nChange-Id: Ie7c6b43d4937221a919635f533431999abbef426\n'}, {'number': 8, 'created': '2023-06-06 13:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/1c1e0e8fa49468a4134ddd10d1bf4390528730e3', 'message': 'Add socket affinity testing\n\nAdd core test for socket affinity testing [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/pci-socket-affinity\n\nChange-Id: Ie7c6b43d4937221a919635f533431999abbef426\n'}, {'number': 9, 'created': '2023-06-06 13:42:08.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_sriov.py', 'whitebox_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/8a8248857818b8507382b0d012f43387b7c525dc', 'message': 'Add socket affinity testing\n\nAdd core test for socket affinity testing [1]\n\n[1] https://blueprints.launchpad.net/nova/+spec/pci-socket-affinity\n\nChange-Id: Ie7c6b43d4937221a919635f533431999abbef426\n'}]",6,851447,8a8248857818b8507382b0d012f43387b7c525dc,23,2,9,31033,,,0,"Add socket affinity testing

Add core test for socket affinity testing [1]

[1] https://blueprints.launchpad.net/nova/+spec/pci-socket-affinity

Change-Id: Ie7c6b43d4937221a919635f533431999abbef426
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/47/851447/8 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/api/compute/test_sriov.py', 'whitebox_tempest_plugin/config.py']",2,0256bfd43a5fc8128576c5cdd7721e1d08db6a15,socket_affinity," cfg.IntOpt( 'socket_Affinity', default=None, help=""The socket ID that has affinity to the NIC connected to the "" ""physnet defined in 'sriov_physnet'""),",,114,0
openstack%2Fnova~master~Ib11c715d2b26866a675edbdaada0e4bcd5327c46,openstack/nova,master,Ib11c715d2b26866a675edbdaada0e4bcd5327c46,Allow discard with virtio-blk,NEW,2023-03-28 18:53:42.000000000,2023-06-06 19:13:28.000000000,,"[{'_account_id': 9535}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-28 18:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c1e937198c4b01bca32d8d16f0dea5ec098cf13', 'message': 'Allow discard with virtio-blk\n\nqemu has supported discard aka trim since qemu 4.0.0\nnova raised our min verison of qemu to 4.0.0 in ussuri.\nWe never removed the check that prevents discard from being\nused with virto-blk until now.\n\nCloses-Bug: bug/2013123\nChange-Id: Ib11c715d2b26866a675edbdaada0e4bcd5327c46\n'}, {'number': 2, 'created': '2023-06-06 17:01:36.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/virtio-blk-discard-support-33cd368d37bb6e8b.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ecd27b33b2bd50b326537cc2d28153a16d59a44d', 'message': 'Allow discard with virtio-blk\n\nqemu has supported discard aka trim since qemu 4.0.0\nnova raised our min verison of qemu to 4.0.0 in ussuri.\nWe never removed the check that prevents discard from being\nused with virto-blk until now.\n\nCloses-Bug: bug/2013123\nChange-Id: Ib11c715d2b26866a675edbdaada0e4bcd5327c46\n'}]",10,878795,ecd27b33b2bd50b326537cc2d28153a16d59a44d,11,3,2,11604,,,0,"Allow discard with virtio-blk

qemu has supported discard aka trim since qemu 4.0.0
nova raised our min verison of qemu to 4.0.0 in ussuri.
We never removed the check that prevents discard from being
used with virto-blk until now.

Closes-Bug: bug/2013123
Change-Id: Ib11c715d2b26866a675edbdaada0e4bcd5327c46
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/878795/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/virtio-blk-discard-support-33cd368d37bb6e8b.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,0c1e937198c4b01bca32d8d16f0dea5ec098cf13,bug/2013123," mock_build_metadata): ) as (mock_connect_volume, mock_get_volume_config,"," def _test_check_discard(self, mock_log, driver_discard=None, bus=None, should_log=False): mock_config = mock.Mock() mock_config.driver_discard = driver_discard mock_config.target_bus = bus mock_instance = mock.Mock() drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr._check_discard_for_attach_volume(mock_config, mock_instance) self.assertEqual(should_log, mock_log.called) @mock.patch('nova.virt.libvirt.driver.LOG.debug') def test_check_discard_for_attach_volume_no_unmap(self, mock_log): self._test_check_discard(mock_log, driver_discard=None, bus='scsi', should_log=False) @mock.patch('nova.virt.libvirt.driver.LOG.debug') def test_check_discard_for_attach_volume_blk_controller(self, mock_log): self._test_check_discard(mock_log, driver_discard='unmap', bus='virtio', should_log=True) @mock.patch('nova.virt.libvirt.driver.LOG.debug') def test_check_discard_for_attach_volume_valid_controller(self, mock_log): self._test_check_discard(mock_log, driver_discard='unmap', bus='scsi', should_log=False) @mock.patch('nova.virt.libvirt.driver.LOG.debug') def test_check_discard_for_attach_volume_blk_controller_no_unmap(self, mock_log): self._test_check_discard(mock_log, driver_discard=None, bus='virtio', should_log=False) mock.patch.object(drvr, '_check_discard_for_attach_volume'), mock_check_discard, mock_build_metadata): mock.patch.object(drvr, '_check_discard_for_attach_volume'), ) as (mock_connect_volume, mock_get_volume_config, mock_check_discard, mock_check_discard.assert_called_with(mock_conf, instance)",13,55
openstack%2Fbarbican-ui~master~I9bc6259c3be65fc030a5ae7874cf2748fc53c174,openstack/barbican-ui,master,I9bc6259c3be65fc030a5ae7874cf2748fc53c174,zuul: Declare queue at top level,MERGED,2022-06-13 00:59:40.000000000,2023-06-06 18:57:09.000000000,2023-06-06 18:55:35.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-06-13 00:59:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican-ui/commit/7e88ff2ace570b3899ae0c5526a9cfa8aef0b45e', 'message': 'zuul: Declare queue at top level\n\nZuul deprecated declaring shared queues at a pipeline level with\nrelease 4.1.0[1]. This updates the job definition to use the top level\ndeclaration instead.\n\nSee [2] for details.\n\n[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I9bc6259c3be65fc030a5ae7874cf2748fc53c174\n'}]",1,845523,7e88ff2ace570b3899ae0c5526a9cfa8aef0b45e,8,3,1,9816,,,0,"zuul: Declare queue at top level

Zuul deprecated declaring shared queues at a pipeline level with
release 4.1.0[1]. This updates the job definition to use the top level
declaration instead.

See [2] for details.

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I9bc6259c3be65fc030a5ae7874cf2748fc53c174
",git fetch https://review.opendev.org/openstack/barbican-ui refs/changes/23/845523/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7e88ff2ace570b3899ae0c5526a9cfa8aef0b45e,fix-zuul-errors, queue: barbican, gate: queue: barbican,1,2
openstack%2Fopenstack-ansible~master~I727b045369cb5acfaaf785bb792f343d10eb0873,openstack/openstack-ansible,master,I727b045369cb5acfaaf785bb792f343d10eb0873,Mark Xena as EM in docs,MERGED,2023-05-31 18:04:02.000000000,2023-06-06 18:38:36.000000000,2023-06-06 18:36:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-31 18:04:02.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e534b7640082dd641fad469b338674a5976217d2', 'message': 'Mark Xena as EM in docs\n\nChange-Id: I727b045369cb5acfaaf785bb792f343d10eb0873\n'}]",0,884920,e534b7640082dd641fad469b338674a5976217d2,8,3,1,28619,,,0,"Mark Xena as EM in docs

Change-Id: I727b045369cb5acfaaf785bb792f343d10eb0873
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/20/884920/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,e534b7640082dd641fad469b338674a5976217d2,,Xena: Extended Maintenance ~~~~~~~~~~~~~~~~~~~~~~~~~~,Xena: Maintained ~~~~~~~~~~~~~~~~,2,2
openstack%2Fopenstack-ansible~stable%2F2023.1~I41eb336016920624bbf0fa7641301c64cce1070a,openstack/openstack-ansible,stable/2023.1,I41eb336016920624bbf0fa7641301c64cce1070a,[doc] Update upgrade guide to mention SLURP,MERGED,2023-06-05 18:29:34.000000000,2023-06-06 18:37:48.000000000,2023-06-06 18:36:31.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-06-05 18:29:34.000000000', 'files': ['doc/source/admin/upgrades/major-upgrades.rst', 'doc/source/conf.py', 'deploy-guide/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7230336c04083b9a86ecad355a51bcd389ba33e6', 'message': ""[doc] Update upgrade guide to mention SLURP\n\nDespite Yoga is an unofficial SLURP release, we're preparing all tooling\nand test upgrades from Y to 2023.1. With that we're mentioning\nin docs, that upgrade from Y is possible. We also update release names\nthat are used in docs.\n\nChange-Id: I41eb336016920624bbf0fa7641301c64cce1070a\n(cherry picked from commit 5b9ea29ff4c1837d498cc4ae6ea905df5e7c5ef3)\n""}]",0,885257,7230336c04083b9a86ecad355a51bcd389ba33e6,8,3,1,28619,,,0,"[doc] Update upgrade guide to mention SLURP

Despite Yoga is an unofficial SLURP release, we're preparing all tooling
and test upgrades from Y to 2023.1. With that we're mentioning
in docs, that upgrade from Y is possible. We also update release names
that are used in docs.

Change-Id: I41eb336016920624bbf0fa7641301c64cce1070a
(cherry picked from commit 5b9ea29ff4c1837d498cc4ae6ea905df5e7c5ef3)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/57/885257/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/upgrades/major-upgrades.rst', 'doc/source/conf.py', 'deploy-guide/source/conf.py']",3,7230336c04083b9a86ecad355a51bcd389ba33e6,,previous_series_name = 'zed' current_series_name = '2023.1',previous_series_name = 'yoga' current_series_name = 'zed',23,12
openstack%2Fopenstack-ansible~master~I140b1675526e0d3fbf206d09bcda768206918c1e,openstack/openstack-ansible,master,I140b1675526e0d3fbf206d09bcda768206918c1e,Do not override user_secrets.yml if it already exists,MERGED,2023-06-04 14:41:36.000000000,2023-06-06 18:37:40.000000000,2023-06-06 18:36:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-06-04 14:41:36.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e92a4a9dce55a0c2ff56bfac1471c96e069eb0d6', 'message': 'Do not override user_secrets.yml if it already exists\n\nWhen bootstrap-host role is reexecuted, user_secrets.yml is overriden.\nIt may lead to unexpeted behaviors. This task should not override\nuser_secrets.yml if this file already exists.\n\nChange-Id: I140b1675526e0d3fbf206d09bcda768206918c1e\n'}]",0,885187,e92a4a9dce55a0c2ff56bfac1471c96e069eb0d6,8,3,1,32666,,,0,"Do not override user_secrets.yml if it already exists

When bootstrap-host role is reexecuted, user_secrets.yml is overriden.
It may lead to unexpeted behaviors. This task should not override
user_secrets.yml if this file already exists.

Change-Id: I140b1675526e0d3fbf206d09bcda768206918c1e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/87/885187/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml'],1,e92a4a9dce55a0c2ff56bfac1471c96e069eb0d6,tls-backend, force: false,,1,0
openstack%2Fneutron~master~I2a633741d5e95f0e46a6b33198903f0f44d449b6,openstack/neutron,master,I2a633741d5e95f0e46a6b33198903f0f44d449b6,gate: bump ovn to the latest LTS release (22.03),MERGED,2023-04-19 20:45:16.000000000,2023-06-06 18:36:39.000000000,2023-06-06 18:34:27.000000000,"[{'_account_id': 4694}, {'_account_id': 9656}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-04-19 20:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf4c1511ba3d3b34216c9908914b118a80f6df24', 'message': 'gate: bump ovn to the latest LTS release (22.03)\n\n21.03 is no longer supported upstream. We should try to stick to LTS\nreleases of OVN if possible.\n\nThe patch locks the version as the latest git commit in branch-22.03\n(ovs is also locked to the corresponding submodule version). This is\ndone to include a just merged fix for protocols used for ipv6 address\nconfiguration (ra, na, mld*).\n\nOnce 22.03.3 is tagged in OVN repo, we can switch to it.\n\nChange-Id: I2a633741d5e95f0e46a6b33198903f0f44d449b6\n'}, {'number': 2, 'created': '2023-04-19 21:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8779470b5786eede3df2d1f141c214d83247294', 'message': 'gate: bump ovn to the latest LTS release (22.03)\n\n21.03 is no longer supported upstream. We should try to stick to LTS\nreleases of OVN if possible.\n\nThe patch locks the version as the latest git commit in branch-22.03\n(ovs is also locked to the corresponding submodule version). This is\ndone to include a just merged fix for protocols used for ipv6 address\nconfiguration (ra, na, mld*).\n\nOnce 22.03.3 is tagged in OVN repo, we can switch to it.\n\nDepends-On: Id1328d7cba418fa7c227ae9db4fe83c09fd06035\nChange-Id: I2a633741d5e95f0e46a6b33198903f0f44d449b6\n'}, {'number': 3, 'created': '2023-05-19 07:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/27e7024e6e9892830ae8967ae24bcd41644d7253', 'message': 'gate: bump ovn to the latest LTS release (22.03)\n\n21.03 is no longer supported upstream. We should try to stick to LTS\nreleases of OVN if possible.\n\nThe patch locks the version as the latest git commit in branch-22.03\n(ovs is also locked to the corresponding submodule version). This is\ndone to include a just merged fix for protocols used for ipv6 address\nconfiguration (ra, na, mld*).\n\nOnce 22.03.3 is tagged in OVN repo, we can switch to it.\n\nDepends-On: Id1328d7cba418fa7c227ae9db4fe83c09fd06035\nChange-Id: I2a633741d5e95f0e46a6b33198903f0f44d449b6\n'}, {'number': 4, 'created': '2023-05-19 16:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef83208482f232ebb581ad2adeb24d6b123518de', 'message': 'gate: bump ovn to the latest LTS release (22.03)\n\n21.03 is no longer supported upstream. We should try to stick to LTS\nreleases of OVN if possible.\n\nThe patch locks the version as the latest git commit in branch-22.03\n(ovs is also locked to the corresponding submodule version). This is\ndone to include a just merged fix for protocols used for ipv6 address\nconfiguration (ra, na, mld*).\n\nOnce 22.03.3 is tagged in OVN repo, we can switch to it.\n\nDepends-On: Id1328d7cba418fa7c227ae9db4fe83c09fd06035\nChange-Id: I2a633741d5e95f0e46a6b33198903f0f44d449b6\n'}, {'number': 5, 'created': '2023-05-22 15:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/102b3e181517da668257a3eb2622beab7c170e3d', 'message': 'gate: bump ovn to the latest LTS release (22.03)\n\n21.03 is no longer supported upstream. We should try to stick to LTS\nreleases of OVN if possible.\n\nThe patch locks the version as the latest git commit in branch-22.03\n(ovs is also locked to the corresponding submodule version). This is\ndone to include a just merged fix for protocols used for ipv6 address\nconfiguration (ra, na, mld*).\n\nOnce 22.03.3 is tagged in OVN repo, we can switch to it.\n\nDepends-On: Id1328d7cba418fa7c227ae9db4fe83c09fd06035\nChange-Id: I2a633741d5e95f0e46a6b33198903f0f44d449b6\n'}, {'number': 6, 'created': '2023-05-24 14:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/db707f7f5480a0b5f8177e256ccb90dce8248a18', 'message': 'gate: bump ovn to the latest LTS release (22.03)\n\n21.03 is no longer supported upstream. We should try to stick to LTS\nreleases of OVN if possible.\n\nThe patch locks the version as the latest git commit in branch-22.03\n(ovs is also locked to the corresponding submodule version). This is\ndone to include a just merged fix for protocols used for ipv6 address\nconfiguration (ra, na, mld*).\n\nOnce 22.03.3 is tagged in OVN repo, we can switch to it.\n\nDepends-On: Id1328d7cba418fa7c227ae9db4fe83c09fd06035\nChange-Id: I2a633741d5e95f0e46a6b33198903f0f44d449b6\n'}, {'number': 7, 'created': '2023-06-02 13:10:10.000000000', 'files': ['zuul.d/rally.yaml', 'tools/configure_for_func_testing.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1f5f8965c36c377d96c7d1820c7bffe2963ac178', 'message': 'gate: bump ovn to the latest LTS release (22.03)\n\n21.03 is no longer supported upstream. We should try to stick to LTS\nreleases of OVN if possible.\n\nThe patch locks the version as the latest git commit in branch-22.03\n(ovs is also locked to the corresponding submodule version). This is\ndone to include a just merged fix for protocols used for ipv6 address\nconfiguration (ra, na, mld*).\n\nOnce 22.03.3 is tagged in OVN repo, we can switch to it.\n\nDepends-On: Id1328d7cba418fa7c227ae9db4fe83c09fd06035\nChange-Id: I2a633741d5e95f0e46a6b33198903f0f44d449b6\n'}]",8,880890,1f5f8965c36c377d96c7d1820c7bffe2963ac178,35,6,7,9656,,,0,"gate: bump ovn to the latest LTS release (22.03)

21.03 is no longer supported upstream. We should try to stick to LTS
releases of OVN if possible.

The patch locks the version as the latest git commit in branch-22.03
(ovs is also locked to the corresponding submodule version). This is
done to include a just merged fix for protocols used for ipv6 address
configuration (ra, na, mld*).

Once 22.03.3 is tagged in OVN repo, we can switch to it.

Depends-On: Id1328d7cba418fa7c227ae9db4fe83c09fd06035
Change-Id: I2a633741d5e95f0e46a6b33198903f0f44d449b6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/880890/5 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/rally.yaml', 'tools/configure_for_func_testing.sh']",2,cf4c1511ba3d3b34216c9908914b118a80f6df24,,# TODO(ihrachys): switch back to a tagged version when it's released # OVN_BRANCH=${OVN_BRANCH:-v22.03.3} OVN_BRANCH=${OVN_BRANCH:-36e3ab9b47e93af0599a818e9d6b2930e49473f0}OVS_BRANCH=${OVS_BRANCH:-2410b95597fcec5f733caf77febdb46f4ffacd27},OVN_BRANCH=${OVN_BRANCH:-v21.06.0}OVS_BRANCH=${OVS_BRANCH:-a4b04276ab5934d087669ff2d191a23931335c87},8,4
openstack%2Fopenstack-ansible~master~Iafe7fefeb181f0556ef3790019ed00a9c53e5fff,openstack/openstack-ansible,master,Iafe7fefeb181f0556ef3790019ed00a9c53e5fff,Add 2023.1 to the compatability matrix,MERGED,2023-05-31 18:35:15.000000000,2023-06-06 18:36:33.000000000,2023-06-06 18:36:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-31 18:35:15.000000000', 'files': ['doc/source/admin/upgrades/os-compatibility-matrix.html'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6f392beb43dd15aa791259be74e4dedc7ee289b1', 'message': 'Add 2023.1 to the compatability matrix\n\nChange-Id: Iafe7fefeb181f0556ef3790019ed00a9c53e5fff\n'}]",1,884925,6f392beb43dd15aa791259be74e4dedc7ee289b1,8,4,1,28619,,,0,"Add 2023.1 to the compatability matrix

Change-Id: Iafe7fefeb181f0556ef3790019ed00a9c53e5fff
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/25/884925/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/upgrades/os-compatibility-matrix.html'],1,6f392beb43dd15aa791259be74e4dedc7ee289b1,," <tr class=""active""> <th rowspan=""2"" style=""vertical-align: middle"">2023.1 (Antelope)</td> <td>source</td> <td>✘</td><!-- Ubuntu 18.04 --> <td>✔</td><!-- Ubuntu 20.04 --> <td>✔*</td><!-- Ubuntu 22.04 --> <td>✘</td><!-- Centos 8 --> <td>✘</td><!-- Centos 8s --> <td>✔</td><!-- Centos 9s --> <td>✘</td><!-- Debian 10 --> <td>✔</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✔</td><!-- RockyLinux 9 --> </tr> <tr> <td>distro</td> <td>✘</td><!-- Ubuntu 18.04 --> <td>✘</td><!-- Ubuntu 20.04 --> <td class=""warning"">E</td><!-- Ubuntu 22.04 --> <td>✘</td><!-- Centos 8 --> <td>✘</td><!-- Centos 8s --> <td class=""warning"">E</td><!-- Centos 9s --> <td>✘</td><!-- Debian 10 --> <td>✘</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td class=""warning"">E</td><!-- RockyLinux 9 --> </tr>",,27,0
openstack%2Fneutron~master~I53558e6bc52aaea590f6c147aacc062c08099464,openstack/neutron,master,I53558e6bc52aaea590f6c147aacc062c08099464,"Fix some new pylint ""C"" warnings",MERGED,2023-05-19 01:57:48.000000000,2023-06-06 18:35:31.000000000,2023-06-06 18:34:17.000000000,"[{'_account_id': 5948}, {'_account_id': 7730}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 01:57:48.000000000', 'files': ['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', '.pylintrc', 'neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/common/utils.py', 'neutron/agent/linux/tc_lib.py', 'neutron/objects/port_forwarding.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/10ff1caacaad5ff4a0aec7169fc2c0c94dfd11f7', 'message': 'Fix some new pylint ""C"" warnings\n\nAfter updating pylint, it started emitting additional ""C""\nwarnings in some cases, fix some of them.\n\n  use-implicit-booleaness-not-comparison,\n  use-maxsplit-arg,\n  unnecessary-dunder-call\n\nTrivialfix\n\nChange-Id: I53558e6bc52aaea590f6c147aacc062c08099464\n'}]",8,883608,10ff1caacaad5ff4a0aec7169fc2c0c94dfd11f7,38,5,1,1131,,,0,"Fix some new pylint ""C"" warnings

After updating pylint, it started emitting additional ""C""
warnings in some cases, fix some of them.

  use-implicit-booleaness-not-comparison,
  use-maxsplit-arg,
  unnecessary-dunder-call

Trivialfix

Change-Id: I53558e6bc52aaea590f6c147aacc062c08099464
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/883608/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', '.pylintrc', 'neutron/tests/functional/agent/l3/test_keepalived_state_change.py', 'neutron/common/utils.py', 'neutron/agent/linux/tc_lib.py', 'neutron/objects/port_forwarding.py']",6,10ff1caacaad5ff4a0aec7169fc2c0c94dfd11f7,fix-pylint-C," str(primitive.get('internal_port', '')))).split(':', maxsplit=1)[0]) str(primitive.get('external_port', '')))).split(':', maxsplit=1)[0])"," str(primitive.get('internal_port', '')))).split(':')[0]) str(primitive.get('external_port', '')))).split(':')[0])",8,9
openstack%2Fneutron~master~I34caf7d0212ccb4bd7259c4414e7c3994bd8da4d,openstack/neutron,master,I34caf7d0212ccb4bd7259c4414e7c3994bd8da4d,Improve the ``PortBindingUpdateVirtualPortsEvent`` match filter,MERGED,2023-05-19 16:01:50.000000000,2023-06-06 18:34:22.000000000,2023-06-06 18:34:22.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 16:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fba2b4d5065a85b35103fa9573b849eb738b0f30', 'message': ""Improve the ``PortBindingUpdateVirtualPortsEvent`` match filter\n\nThis patch improves the ``PortBindingUpdateVirtualPortsEvent``\nmatch filter. These are the new conditions:\n* Event delete: that happens when the port binding has been deleted\n  because the port is not longer bound or the port has been\n  deleted. That will remove the Neutron port host name.\n  NOTE: in case the Neutron port has been deleted, the method\n  ``Ml2Plugin.update_virtual_port_host`` won't update (create) a new\n  PortBinding object.\n* If the new register has virtual_parents but not the old one, that\n  means the ovn-controller has recived traffic with the VIP from\n  this port. The port host ID must be set.\n* If the virtual parents have changed, the port host ID must be\n  updated.\n* If the virtual parents have been removed, the port host ID must\n  be removed too.\n\nChange-Id: I34caf7d0212ccb4bd7259c4414e7c3994bd8da4d\n""}, {'number': 2, 'created': '2023-05-22 15:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4404071510b3a1aa4a65875cc8326c03bcf681e', 'message': ""Improve the ``PortBindingUpdateVirtualPortsEvent`` match filter\n\nThis patch improves the ``PortBindingUpdateVirtualPortsEvent``\nmatch filter. These are the new conditions:\n* Event delete: that happens when the port binding has been deleted\n  because the port is not longer bound or the port has been\n  deleted. That will remove the Neutron port host name.\n  NOTE: in case the Neutron port has been deleted, the method\n  ``Ml2Plugin.update_virtual_port_host`` won't update (create) a new\n  PortBinding object.\n* If the new register has virtual_parents but not the old one, that\n  means the ovn-controller has recived traffic with the VIP from\n  this port. The port host ID must be set.\n* If the virtual parents have changed, the port host ID must be\n  updated.\n* If the virtual parents have been removed, the port host ID must\n  be removed too.\n\nChange-Id: I34caf7d0212ccb4bd7259c4414e7c3994bd8da4d\n""}, {'number': 3, 'created': '2023-05-24 14:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75d85fdd2db2be690fd90b89645f78499fc78846', 'message': ""Improve the ``PortBindingUpdateVirtualPortsEvent`` match filter\n\nThis patch improves the ``PortBindingUpdateVirtualPortsEvent``\nmatch filter. These are the new conditions:\n* Event delete: that happens when the port binding has been deleted\n  because the port is not longer bound or the port has been\n  deleted. That will remove the Neutron port host name.\n  NOTE: in case the Neutron port has been deleted, the method\n  ``Ml2Plugin.update_virtual_port_host`` won't update (create) a new\n  PortBinding object.\n* If the new register has virtual_parents but not the old one, that\n  means the ovn-controller has recived traffic with the VIP from\n  this port. The port host ID must be set.\n* If the virtual parents have changed, the port host ID must be\n  updated.\n* If the virtual parents have been removed, the port host ID must\n  be removed too.\n\nChange-Id: I34caf7d0212ccb4bd7259c4414e7c3994bd8da4d\n""}, {'number': 4, 'created': '2023-05-25 07:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f2d56b24785db9d45c7571a1001b230b55866d7', 'message': ""Improve the ``PortBindingUpdateVirtualPortsEvent`` match filter\n\nThis patch improves the ``PortBindingUpdateVirtualPortsEvent``\nmatch filter. These are the new conditions:\n* Event delete: that happens when the port binding has been deleted\n  because the port is not longer bound or the port has been\n  deleted. That will remove the Neutron port host name.\n  NOTE: in case the Neutron port has been deleted, the method\n  ``Ml2Plugin.update_virtual_port_host`` won't update (create) a new\n  PortBinding object.\n* If the new register has virtual_parents but not the old one, that\n  means the ovn-controller has recived traffic with the VIP from\n  this port. The port host ID must be set.\n* If the virtual parents have changed, the port host ID must be\n  updated.\n* If the virtual parents have been removed, the port host ID must\n  be removed too.\n\nChange-Id: I34caf7d0212ccb4bd7259c4414e7c3994bd8da4d\n""}, {'number': 5, 'created': '2023-05-25 15:02:00.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2fbfe3855ea59250bba1ff01f0d97ddfb46d2511', 'message': 'Improve the ``PortBindingUpdateVirtualPortsEvent`` match filter\n\nThis patch improves the ``PortBindingUpdateVirtualPortsEvent``\nmatch filter. These are the new conditions:\n* Event delete: that happens when the port binding has been deleted\n  because the port is no longer bound or the port has been\n  deleted. That will remove the Neutron port host name.\n  NOTE: in case the Neutron port has been deleted, the method\n  ``Ml2Plugin.update_virtual_port_host`` won\'t update (create) a new\n  PortBinding object.\n* If the new register has virtual_parents but not the old one, that\n  means the ovn-controller has received traffic with the VIP from\n  this port. The port host ID must be set.\n* If the virtual parents have changed, the port host ID must be\n  updated.\n* If the virtual parents have been removed, the port host ID must\n  be removed too.\n\nNewer versions of OVN [1] are handling the virtual port binding in\na different way. When the virtual parents are added or removed,\nthe related ""Port_Binding"" register is deleted and the created\nagain. This is why this new version includes the event ""DELETE""\non the match method; when the register is deleted, the event\nclass considers that the port is no longer bound to a host and\nremoves the host name for the Neutron port.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/880890/\n\nChange-Id: I34caf7d0212ccb4bd7259c4414e7c3994bd8da4d\n'}]",30,883681,2fbfe3855ea59250bba1ff01f0d97ddfb46d2511,78,6,5,16688,,,0,"Improve the ``PortBindingUpdateVirtualPortsEvent`` match filter

This patch improves the ``PortBindingUpdateVirtualPortsEvent``
match filter. These are the new conditions:
* Event delete: that happens when the port binding has been deleted
  because the port is no longer bound or the port has been
  deleted. That will remove the Neutron port host name.
  NOTE: in case the Neutron port has been deleted, the method
  ``Ml2Plugin.update_virtual_port_host`` won't update (create) a new
  PortBinding object.
* If the new register has virtual_parents but not the old one, that
  means the ovn-controller has received traffic with the VIP from
  this port. The port host ID must be set.
* If the virtual parents have changed, the port host ID must be
  updated.
* If the virtual parents have been removed, the port host ID must
  be removed too.

Newer versions of OVN [1] are handling the virtual port binding in
a different way. When the virtual parents are added or removed,
the related ""Port_Binding"" register is deleted and the created
again. This is why this new version includes the event ""DELETE""
on the match method; when the register is deleted, the event
class considers that the port is no longer bound to a host and
removes the host name for the Neutron port.

[1]https://review.opendev.org/c/openstack/neutron/+/880890/

Change-Id: I34caf7d0212ccb4bd7259c4414e7c3994bd8da4d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/883681/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/plugin.py']",3,fba2b4d5065a85b35103fa9573b849eb738b0f30,port_vitual_host," pbindings = ports_obj.PortBinding.get_objects(context, port_id=port_id) for pb in pbindings: if not pbindings: # The port has been deleted and there is no need to create a # new port binding. return "," for pb in ports_obj.PortBinding.get_objects(context, port_id=port_id):",57,29
openstack%2Fopenstack-chef~stable%2Frocky~I93b97525172f26a25e189661fc31ecd80b88395b,openstack/openstack-chef,stable/rocky,I93b97525172f26a25e189661fc31ecd80b88395b,Update zuul config to not use the deprecated queue syntax,MERGED,2023-06-06 05:29:51.000000000,2023-06-06 18:00:04.000000000,2023-06-06 17:58:14.000000000,"[{'_account_id': 13252}, {'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 05:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/0ee0a00754bdd37fbf774769f62ab07a08d89abb', 'message': 'Update zuul config to not use the deprecated queue syntax\n\nThis is regards to the following email [1] which also references [2] with the\nactual fix.\n\nIn addition, disable auto discovery as a workaround in setup.py [3]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n[2] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n[3] https://review.opendev.org/c/openstack/tripleo-quickstart/+/835192\n\nChange-Id: I93b97525172f26a25e189661fc31ecd80b88395b\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n(cherry picked from commit d3f608128ca43c30d42d030a6a9807530c38661a)\n(cherry picked from commit 0fa037fff1fece48408e54d8085f94772ea8e102)\n'}, {'number': 2, 'created': '2023-06-06 16:19:18.000000000', 'files': ['playbooks/pre-integration.yaml', '.zuul.yaml', 'setup.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/e2b6b7d79aea76419b7c3a0e81392ba2e8ee61a2', 'message': 'Update zuul config to not use the deprecated queue syntax\n\nThis is regards to the following email [1] which also references [2] with the\nactual fix.\n\nIn addition, disable auto discovery as a workaround in setup.py [3]\n\nAlso fix issues with doc builds and Chef gem installations.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n[2] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n[3] https://review.opendev.org/c/openstack/tripleo-quickstart/+/835192\n\nChange-Id: I93b97525172f26a25e189661fc31ecd80b88395b\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n(cherry picked from commit d3f608128ca43c30d42d030a6a9807530c38661a)\n(cherry picked from commit 0fa037fff1fece48408e54d8085f94772ea8e102)\n'}]",1,885336,e2b6b7d79aea76419b7c3a0e81392ba2e8ee61a2,9,3,2,13252,,,0,"Update zuul config to not use the deprecated queue syntax

This is regards to the following email [1] which also references [2] with the
actual fix.

In addition, disable auto discovery as a workaround in setup.py [3]

Also fix issues with doc builds and Chef gem installations.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html
[2] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html
[3] https://review.opendev.org/c/openstack/tripleo-quickstart/+/835192

Change-Id: I93b97525172f26a25e189661fc31ecd80b88395b
Signed-off-by: Lance Albertson <lance@osuosl.org>
(cherry picked from commit d3f608128ca43c30d42d030a6a9807530c38661a)
(cherry picked from commit 0fa037fff1fece48408e54d8085f94772ea8e102)
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/36/885336/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.py']",2,0ee0a00754bdd37fbf774769f62ab07a08d89abb,fix-zuul-errors," py_modules=[],",,2,1
openstack%2Fpuppet-pacemaker~stable%2F1.5.x~Icfc0906daeab25879d211a653680902068704bce,openstack/puppet-pacemaker,stable/1.5.x,Icfc0906daeab25879d211a653680902068704bce,Adapt providers to new pcs-0.11.5 output,MERGED,2023-06-06 12:21:23.000000000,2023-06-06 17:54:39.000000000,2023-06-06 17:54:39.000000000,"[{'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2023-06-06 12:21:23.000000000', 'files': ['lib/puppet/provider/pcmk_bundle/default.rb', 'lib/puppet/provider/pcmk_resource/default.rb'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/ec44c5e2d4210d0897be122c4e8079776c52e891', 'message': ""Adapt providers to new pcs-0.11.5 output\n\nPcs constraint list output changed since https://github.com/ClusterLabs/pcs/commit/ff1d564830b3ab922249a796ecfc4a63925ec4c8 .\n\npcs-0.11.4:\n\nLocation Constraints:\n  Resource: galera-bundle\n\tConstraint: location-galera-bundle (resource-discovery=exclusive)\n  \tRule: score=0\n    \tExpression: galera-role eq true\n\npcs-0.11.5:\n\nresource 'galera-bundle'\n\tresource-discovery=exclusive\n\tRules:\n  \tRule: score=0\n    \tExpression: galera-role eq true\n\nOur helper functions need to be adapted to the new output.\n\nCo-authored-by: Damien Ciabrini <dciabrin@redhat.com>\nCloses-Bug: #2023019\nChange-Id: Icfc0906daeab25879d211a653680902068704bce\n""}]",0,885358,ec44c5e2d4210d0897be122c4e8079776c52e891,9,7,1,30126,,,0,"Adapt providers to new pcs-0.11.5 output

Pcs constraint list output changed since https://github.com/ClusterLabs/pcs/commit/ff1d564830b3ab922249a796ecfc4a63925ec4c8 .

pcs-0.11.4:

Location Constraints:
  Resource: galera-bundle
	Constraint: location-galera-bundle (resource-discovery=exclusive)
  	Rule: score=0
    	Expression: galera-role eq true

pcs-0.11.5:

resource 'galera-bundle'
	resource-discovery=exclusive
	Rules:
  	Rule: score=0
    	Expression: galera-role eq true

Our helper functions need to be adapted to the new output.

Co-authored-by: Damien Ciabrini <dciabrin@redhat.com>
Closes-Bug: #2023019
Change-Id: Icfc0906daeab25879d211a653680902068704bce
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/58/885358/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/pcmk_bundle/default.rb', 'lib/puppet/provider/pcmk_resource/default.rb']",2,ec44c5e2d4210d0897be122c4e8079776c52e891,," cmd = ""constraint show --full | grep #{constraint_name} > /dev/null 2>&1"""," cmd = ""constraint list | grep #{constraint_name} > /dev/null 2>&1""",2,2
openstack%2Fironic~master~I5b47cc4f095b36e2e6455e4750be6ec8bf0bf1cd,openstack/ironic,master,I5b47cc4f095b36e2e6455e4750be6ec8bf0bf1cd,Improve dev quickstart,NEW,2023-06-06 17:35:33.000000000,2023-06-06 17:47:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-06 17:35:33.000000000', 'files': ['doc/source/contributor/dev-quickstart.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f2fc049b76d714d97fcd6f571fbda69810e5de23', 'message': 'Improve dev quickstart\n\nThere are still many improvements to be made, but this is an initial\nswing at improvements.\n\nChange-Id: I5b47cc4f095b36e2e6455e4750be6ec8bf0bf1cd\n'}]",1,885377,f2fc049b76d714d97fcd6f571fbda69810e5de23,2,1,1,10342,,,0,"Improve dev quickstart

There are still many improvements to be made, but this is an initial
swing at improvements.

Change-Id: I5b47cc4f095b36e2e6455e4750be6ec8bf0bf1cd
",git fetch https://review.opendev.org/openstack/ironic refs/changes/77/885377/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/dev-quickstart.rst'],1,f2fc049b76d714d97fcd6f571fbda69810e5de23,,"The gate currently runs the unit tests under currently supported python versions. It is strongly encouraged to run the unit tests locally prior to submitting a patch.We suggest to use tox to run tests. This should be installed from your distribution if possible. Alternateively, you can install it under your user using pip. That, by default will install the binary under $HOME/.local/bin, so youIt's unlikely, but you may need to explicitly upgrade other packages, such as virtualenv, to get tox fully functional. Read and follow the instructions from tox if you encounter any issues. # run the unit tests under py310 and also run the pep8 tests tox -epy310 -epep8 tox -epy310 -- test_conductorSome unit tests will only run with a local database setup, you can use ``tools/test-setup.sh`` to set up the database the same way as it is setup # generate the release notes tox -ereleasenotesThe best way to approach this is to steal a configuration from CI; that way you can be certain you've got a working configuration. For example, to enable Ironic in devstack with a full suite of OpenStack services, I can look at an `ironic-base` job definition and copy the devstack_localrc section from https://opendev.org/openstack/ironic/src/branch/master/zuul.d/ironic-jobs.yaml into the local.conf. For testing other combinations of Ironic under devstack, you can choose different jobs, such as the `ironic-standalone` job definition, to use as an example for your devstack configuration.","The gate currently runs the unit tests under Python 3.6, 3.7, and 3.8. It is strongly encouraged to run the unit tests locally prior to submitting a patch... note:: This document is compatible with Python (3.6, 3.7, 3.8), Debian ""buster"" (10.8), Ubuntu Focal Fossa (20.04 LTS), RHEL8/CentOS Stream, openSUSE/SLE 15, and Fedora (33). When referring to different versions of Python and OS distributions, this is explicitly stated. We suggest to use at least tox 3.9, if your distribution has an older version, you can install it using pip system-wise or better per user using the --user option that by default will install the binary under $HOME/.local/bin, so youYou may need to explicitly upgrade virtualenv if you've installed the one from your OS distribution and it is too old (tox will complain). You can upgrade it individually, if you need to:: pip install -U virtualenv --user # run the unit tests under py36 and also run the pep8 tests tox -epy36 -epep8 tox -epy36 -- test_conductorThe unit tests need a local database setup, you can use ``tools/test-setup.sh`` to set up the database the same way as setup.. note:: If you encounter issues executing unit tests, specifically where errors may indicate that a field is too long, check your database's default character encoding. Debian specifically sets MariaDB to ``utf8mb4`` which utilizes 4 byte encoded unicode characters by default, which is incompatible by default. An example local.conf that enables the ``direct`` :doc:`deploy interface </admin/interfaces/deploy>` and uses the ``ipmi`` hardware type by default:: cd devstack cat >local.conf <<END [[local|localrc]] # Enable only minimal services disable_all_services enable_service g-api enable_service key enable_service memory_tracker enable_service mysql enable_service q-agt enable_service q-dhcp enable_service q-l3 enable_service q-meta enable_service q-metering enable_service q-svc enable_service rabbit # Credentials ADMIN_PASSWORD=password DATABASE_PASSWORD=password RABBIT_PASSWORD=password SERVICE_PASSWORD=password SERVICE_TOKEN=password # Set glance's default limit to be baremetal image friendly GLANCE_LIMIT_IMAGE_SIZE_TOTAL=5000 # Enable Ironic plugin enable_plugin ironic https://opendev.org/openstack/ironic # Create 3 virtual machines to pose as Ironic's baremetal nodes. IRONIC_VM_COUNT=3 IRONIC_BAREMETAL_BASIC_OPS=True DEFAULT_INSTANCE_TYPE=baremetal IRONIC_RPC_TRANSPORT=json-rpc IRONIC_RAMDISK_TYPE=tinyipa # Enable additional hardware types, if needed. #IRONIC_ENABLED_HARDWARE_TYPES=ipmi,fake-hardware # Don't forget that many hardware types require enabling of additional # interfaces, most often power and management: #IRONIC_ENABLED_MANAGEMENT_INTERFACES=ipmitool,fake #IRONIC_ENABLED_POWER_INTERFACES=ipmitool,fake #IRONIC_DEFAULT_DEPLOY_INTERFACE=direct # Change this to alter the default driver for nodes created by devstack. # This driver should be in the enabled list above. IRONIC_DEPLOY_DRIVER=""ipmi"" # The parameters below represent the minimum possible values to create # functional nodes. IRONIC_VM_SPECS_RAM=1024 IRONIC_VM_SPECS_DISK=3 # Size of the ephemeral partition in GB. Use 0 for no ephemeral partition. IRONIC_VM_EPHEMERAL_DISK=0 # To build your own IPA ramdisk from source, set this to True IRONIC_BUILD_DEPLOY_RAMDISK=False INSTALL_TEMPEST=False VIRT_DRIVER=ironic # By default, DevStack creates a 10.0.0.0/24 network for instances. # If this overlaps with the hosts network, you may adjust with the # following. IP_VERSION=4 FIXED_RANGE=10.1.0.0/20 IPV4_ADDRS_SAFE_TO_USE=10.1.0.0/20 NETWORK_GATEWAY=10.1.0.1 Q_AGENT=openvswitch Q_ML2_PLUGIN_MECHANISM_DRIVERS=openvswitch Q_ML2_TENANT_NETWORK_TYPE=vxlan # Log all output to files LOGFILE=/opt/stack/devstack.log LOGDIR=/opt/stack/logs IRONIC_VM_LOG_DIR=/opt/stack/ironic-bm-logs END .. _itp: Ironic with ironic-tempest-plugin --------------------------------- Using the stack user, clone the ironic-tempest-plugin repository in the same directory you cloned DevStack:: git clone https://opendev.org/openstack/ironic-tempest-plugin.git An example local.conf that enables the ironic tempest plugin and Ironic can be found below. The ``TEMPEST_PLUGINS`` variable needs to have the absolute path to the ironic-tempest-plugin folder, otherwise the plugin won't be installed. Ironic will have enabled the ``direct`` :doc:`deploy interface </admin/interfaces/deploy>` and uses the ``ipmi`` hardware type by default:: cd devstack cat >local.conf <<END [[local|localrc]] # Credentials ADMIN_PASSWORD=password DATABASE_PASSWORD=password RABBIT_PASSWORD=password SERVICE_PASSWORD=password SERVICE_TOKEN=password SWIFT_HASH=password SWIFT_TEMPURL_KEY=password # Set glance's default limit to be baremetal image friendly GLANCE_LIMIT_IMAGE_SIZE_TOTAL=5000 # Enable Ironic plugin enable_plugin ironic https://opendev.org/openstack/ironic # Disable nova novnc service, ironic does not support it anyway. disable_service n-novnc # Enable Swift for the direct deploy interface. enable_service s-proxy enable_service s-object enable_service s-container enable_service s-account # Disable Horizon disable_service horizon # Disable Cinder disable_service cinder c-sch c-api c-vol # Swift temp URL's are required for the direct deploy interface SWIFT_ENABLE_TEMPURLS=True # Create 3 virtual machines to pose as Ironic's baremetal nodes. IRONIC_VM_COUNT=3 IRONIC_BAREMETAL_BASIC_OPS=True DEFAULT_INSTANCE_TYPE=baremetal # Enable additional hardware types, if needed. #IRONIC_ENABLED_HARDWARE_TYPES=ipmi,fake-hardware # Don't forget that many hardware types require enabling of additional # interfaces, most often power and management: #IRONIC_ENABLED_MANAGEMENT_INTERFACES=ipmitool,fake #IRONIC_ENABLED_POWER_INTERFACES=ipmitool,fake #IRONIC_DEFAULT_DEPLOY_INTERFACE=direct # Change this to alter the default driver for nodes created by devstack. # This driver should be in the enabled list above. IRONIC_DEPLOY_DRIVER=ipmi # The parameters below represent the minimum possible values to create # functional nodes. IRONIC_VM_SPECS_RAM=2048 IRONIC_VM_SPECS_DISK=10 # Size of the ephemeral partition in GB. Use 0 for no ephemeral partition. IRONIC_VM_EPHEMERAL_DISK=0 # To build your own IPA ramdisk from source, set this to True IRONIC_BUILD_DEPLOY_RAMDISK=False VIRT_DRIVER=ironic # By default, DevStack creates a 10.0.0.0/24 network for instances. # If this overlaps with the hosts network, you may adjust with the # following. NETWORK_GATEWAY=10.1.0.1 FIXED_RANGE=10.1.0.0/24 FIXED_NETWORK_SIZE=256 # Log all output to files LOGFILE=$HOME/devstack.log LOGDIR=$HOME/logs IRONIC_VM_LOG_DIR=$HOME/ironic-bm-logs TEMPEST_PLUGINS=""/opt/stack/ironic-tempest-plugin"" END .. note:: Some tests may be skipped depending on the configuration of your environment, they may be reliant on a driver or a capability that you did not configure.",27,216
openstack%2Fironic~master~I1c9b3b1c8481a315199070468298a73936ae93a7,openstack/ironic,master,I1c9b3b1c8481a315199070468298a73936ae93a7,Be explicit about bugfix branches support lifetime,MERGED,2023-05-31 13:55:15.000000000,2023-06-06 17:29:58.000000000,2023-06-06 17:28:45.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 13:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/611d4d5bc8030a660f733b74a5b8381d0bea9e45', 'message': 'Be explicit about bugfix branches support lifetime\n\nChange-Id: I1c9b3b1c8481a315199070468298a73936ae93a7\n'}, {'number': 2, 'created': '2023-05-31 13:57:52.000000000', 'files': ['doc/source/contributor/releasing.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c0643e9d05af9f0baea882a31a2bb4747e7cac74', 'message': 'Be explicit about bugfix branches support lifetime\n\nAlso fix new release model link\n\nChange-Id: I1c9b3b1c8481a315199070468298a73936ae93a7\n'}]",0,884889,c0643e9d05af9f0baea882a31a2bb4747e7cac74,10,3,2,23851,,,0,"Be explicit about bugfix branches support lifetime

Also fix new release model link

Change-Id: I1c9b3b1c8481a315199070468298a73936ae93a7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/884889/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/releasing.rst'],1,611d4d5bc8030a660f733b74a5b8381d0bea9e45,add-bugfix-life-exptectancy,A bugfix branch is supported for 6 months after its creation date. ,,2,0
openstack%2Fironic~stable%2Fzed~I49e2f7f29eb98e5bb4e18614cea0aca726703f55,openstack/ironic,stable/zed,I49e2f7f29eb98e5bb4e18614cea0aca726703f55,Fix self_owned_node policy check,MERGED,2023-05-25 14:18:47.000000000,2023-06-06 17:29:57.000000000,2023-06-06 17:28:43.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 14:18:47.000000000', 'files': ['releasenotes/notes/fix-self-owned-node-policy-fc2dae357879dc33.yaml', 'ironic/common/policy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4fdf65ca554e93d90401cb11782c763e2c270255', 'message': ""Fix self_owned_node policy check\n\nWhen enabling scope enforcement, the self_owned_node check could\ngenerate a failure because the check internally can be touched\nby both a project scoped and system scoped endpoint.\n\nThis change changes the tag in the policy so it doesn't prematurely\nreturn an error to the API consumer.\n\nChange-Id: I49e2f7f29eb98e5bb4e18614cea0aca726703f55\n(cherry picked from commit 9da6dfd73d3b4abe6acba01d9c8176c1581dc51f)\n(cherry picked from commit c973f20a2f32e4b01da6b9950689f42bfc99d0ff)\n""}]",0,884402,4fdf65ca554e93d90401cb11782c763e2c270255,9,3,1,11655,,,0,"Fix self_owned_node policy check

When enabling scope enforcement, the self_owned_node check could
generate a failure because the check internally can be touched
by both a project scoped and system scoped endpoint.

This change changes the tag in the policy so it doesn't prematurely
return an error to the API consumer.

Change-Id: I49e2f7f29eb98e5bb4e18614cea0aca726703f55
(cherry picked from commit 9da6dfd73d3b4abe6acba01d9c8176c1581dc51f)
(cherry picked from commit c973f20a2f32e4b01da6b9950689f42bfc99d0ff)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/02/884402/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-self-owned-node-policy-fc2dae357879dc33.yaml', 'ironic/common/policy.py']",2,4fdf65ca554e93d90401cb11782c763e2c270255,," scope_types=['system', 'project'], scope_types=['system', 'project'],"," scope_types=['project'], scope_types=['project'],",9,2
openstack%2Fneutron~stable%2Fyoga~Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3,openstack/neutron,stable/yoga,Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3,"Change RBAC relationship loading method to ""joined""",MERGED,2023-06-03 17:05:07.000000000,2023-06-06 17:25:14.000000000,2023-06-06 17:23:55.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-03 17:05:07.000000000', 'files': ['neutron/db/qos/models.py', 'neutron/tests/unit/objects/test_securitygroup.py', 'neutron/db/models/address_group.py', 'neutron/db/models/securitygroup.py', 'neutron/db/models/address_scope.py', 'neutron/tests/unit/objects/test_address_group.py', 'neutron/db/models_v2.py', 'neutron/tests/unit/objects/test_rbac.py', 'neutron/tests/unit/objects/test_address_scope.py', 'neutron/tests/unit/objects/test_subnetpool.py', 'neutron/tests/unit/objects/test_network.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a66962ee338e21f9523025f06346d35ddca334d', 'message': 'Change RBAC relationship loading method to ""joined""\n\nThis patch changes all RBAC relationship method to ""joined"". This change\nenforces that the RBAC associated registers are loaded along with the\nparent resource. The rationale of this change is to be able to control\nthe SQL query executed; the subquery cannot be directly managed by\nNeutron.\n\nIt is very usual to create the RBAC rules from one single project that\nis usually the adminitrator project. That means all RBAC rules will\nbelong to it. Before this change, the SQL subquery performed to\nretrieve the RBAC entries was this (from a network query):\n\n  SELECT networks.id AS networks_id\n  FROM networks LEFT OUTER JOIN networkrbacs ON networks.id =\n  networkrbacs.object_id\n  WHERE networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action = \'access_as_external\'\n    AND networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\'\n    OR networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action IN (\'access_as_shared\', \'access_as_readonly\')\n    AND (networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\');\n\nThis SQL result has a very low cardinality; that means there are many\nduplicated registers. For example, with 10 external network, 1000\nprojects and 2500 RBAC rules, this query returns 1.4 million rows.\nInstead if a ""GROUP BY resource_id"" (in this case network_id) clause is\nadded, the number of rows is reduced to 10 (considering this project\nhas a RBAC per network).\n\nIn order to introduce this ""GROUP BY"" clause, this patch is changing\nthe loading method. The clause is added in a neutron-lib patch [1].\n\nThis change by itself does not improve the query performance. The\nneutron-lib patch is needed too. Although this patch does not modify\nque SQL query results, the tests added will prove that the neutron-lib\npatch does not introduce any regression.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878\n\nCloses-Bug: #1918145\nChange-Id: Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3\n(cherry picked from commit e9da29d16c474822c015996cf34e40005419146a)\n'}]",1,885174,1a66962ee338e21f9523025f06346d35ddca334d,14,3,1,16688,,,0,"Change RBAC relationship loading method to ""joined""

This patch changes all RBAC relationship method to ""joined"". This change
enforces that the RBAC associated registers are loaded along with the
parent resource. The rationale of this change is to be able to control
the SQL query executed; the subquery cannot be directly managed by
Neutron.

It is very usual to create the RBAC rules from one single project that
is usually the adminitrator project. That means all RBAC rules will
belong to it. Before this change, the SQL subquery performed to
retrieve the RBAC entries was this (from a network query):

  SELECT networks.id AS networks_id
  FROM networks LEFT OUTER JOIN networkrbacs ON networks.id =
  networkrbacs.object_id
  WHERE networks.project_id = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.action = 'access_as_external'
    AND networkrbacs.target_project = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.target_project = '*'
    OR networks.project_id = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.action IN ('access_as_shared', 'access_as_readonly')
    AND (networkrbacs.target_project = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.target_project = '*');

This SQL result has a very low cardinality; that means there are many
duplicated registers. For example, with 10 external network, 1000
projects and 2500 RBAC rules, this query returns 1.4 million rows.
Instead if a ""GROUP BY resource_id"" (in this case network_id) clause is
added, the number of rows is reduced to 10 (considering this project
has a RBAC per network).

In order to introduce this ""GROUP BY"" clause, this patch is changing
the loading method. The clause is added in a neutron-lib patch [1].

This change by itself does not improve the query performance. The
neutron-lib patch is needed too. Although this patch does not modify
que SQL query results, the tests added will prove that the neutron-lib
patch does not introduce any regression.

[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878

Closes-Bug: #1918145
Change-Id: Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3
(cherry picked from commit e9da29d16c474822c015996cf34e40005419146a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/885174/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/qos/models.py', 'neutron/tests/unit/objects/test_securitygroup.py', 'neutron/db/models/address_group.py', 'neutron/db/models/securitygroup.py', 'neutron/db/models/address_scope.py', 'neutron/db/models_v2.py', 'neutron/tests/unit/objects/test_address_group.py', 'neutron/tests/unit/objects/test_rbac.py', 'neutron/tests/unit/objects/test_address_scope.py', 'neutron/tests/unit/objects/test_subnetpool.py', 'neutron/tests/unit/objects/test_network.py']",11,1a66962ee338e21f9523025f06346d35ddca334d,bug/1918145,"from neutron_lib.api.definitions import availability_zone as az_def _parent_class = network.Network def _create_random_parent_object(self): objclass_fields = self.get_random_db_fields(self._parent_class) objclass_fields.pop(az_def.AZ_HINTS) _obj = self._parent_class(self.context, **objclass_fields) _obj.create() return _obj ",,57,8
openstack%2Fpython-openstackclient~master~Ifee786c96b6f0bcd96008fed2b3ed3257d02c07c,openstack/python-openstackclient,master,Ifee786c96b6f0bcd96008fed2b3ed3257d02c07c,tox: Disable E501,MERGED,2023-05-31 16:40:10.000000000,2023-06-06 17:25:12.000000000,2023-06-06 17:24:00.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-31 16:40:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3ba55118eb67aa7ea3d525f2055fbf046054e775', 'message': ""tox: Disable E501\n\nThis is more trouble than it's worth now. Black takes care of this for\nus. I wish I'd decided this before the blackify series :(\n\nChange-Id: Ifee786c96b6f0bcd96008fed2b3ed3257d02c07c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,884907,3ba55118eb67aa7ea3d525f2055fbf046054e775,8,2,1,15334,,,0,"tox: Disable E501

This is more trouble than it's worth now. Black takes care of this for
us. I wish I'd decided this before the blackify series :(

Change-Id: Ifee786c96b6f0bcd96008fed2b3ed3257d02c07c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/07/884907/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3ba55118eb67aa7ea3d525f2055fbf046054e775,black,"# E501 Black takes care of line length for usignore = E203,E501,H301,W503,W504","ignore = E203,H301,W503,W504",2,1
openstack%2Fopenstacksdk~master~Id07185012b6f98f4027ee35f97560d469c78ddc4,openstack/openstacksdk,master,Id07185012b6f98f4027ee35f97560d469c78ddc4,Remove unnecessary quotes,MERGED,2023-06-02 16:52:55.000000000,2023-06-06 17:25:09.000000000,2023-06-06 17:23:58.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-06-02 16:52:55.000000000', 'files': ['openstack/cloud/openstackcloud.py', 'openstack/tests/unit/cloud/test_caching.py', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/block_storage/v3/type.py', 'openstack/network/v2/_proxy.py', 'openstack/tests/unit/orchestration/v1/test_stack.py', 'openstack/tests/unit/accelerator/v2/test_accelerator_request.py', 'openstack/tests/unit/test_proxy.py', 'openstack/utils.py', 'openstack/tests/unit/cloud/test_accelerator.py', 'openstack/tests/unit/object_store/v1/test_proxy.py', 'openstack/tests/unit/orchestration/v1/test_proxy.py', 'openstack/tests/unit/test_resource.py', 'openstack/compute/v2/server_remote_console.py', 'openstack/tests/unit/base.py', 'openstack/block_storage/v2/backup.py', 'openstack/block_storage/v3/backup.py', 'openstack/baremetal/v1/node.py', 'openstack/cloud/_security_group.py', 'openstack/cloud/_floating_ip.py', 'openstack/object_store/v1/_proxy.py', 'openstack/tests/functional/cloud/test_qos_policy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e94830ddeaff4acc2223e72de19b4cd778b2259d', 'message': 'Remove unnecessary quotes\n\nThis was a side-effect of the blacken process.\n\nChange-Id: Id07185012b6f98f4027ee35f97560d469c78ddc4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,885153,e94830ddeaff4acc2223e72de19b4cd778b2259d,7,2,1,15334,,,0,"Remove unnecessary quotes

This was a side-effect of the blacken process.

Change-Id: Id07185012b6f98f4027ee35f97560d469c78ddc4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/53/885153/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/openstackcloud.py', 'openstack/tests/unit/cloud/test_caching.py', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/block_storage/v3/type.py', 'openstack/network/v2/_proxy.py', 'openstack/tests/unit/orchestration/v1/test_stack.py', 'openstack/tests/unit/accelerator/v2/test_accelerator_request.py', 'openstack/tests/unit/test_proxy.py', 'openstack/utils.py', 'openstack/tests/unit/cloud/test_accelerator.py', 'openstack/tests/unit/object_store/v1/test_proxy.py', 'openstack/tests/unit/orchestration/v1/test_proxy.py', 'openstack/tests/unit/test_resource.py', 'openstack/compute/v2/server_remote_console.py', 'openstack/tests/unit/base.py', 'openstack/block_storage/v2/backup.py', 'openstack/block_storage/v3/backup.py', 'openstack/baremetal/v1/node.py', 'openstack/cloud/_security_group.py', 'openstack/cloud/_floating_ip.py', 'openstack/object_store/v1/_proxy.py', 'openstack/tests/functional/cloud/test_qos_policy.py']",22,e94830ddeaff4acc2223e72de19b4cd778b2259d,black," ""'qos-default' network extension not supported by cloud"""," ""'qos-default' network extension not supported "" ""by cloud""",35,37
openstack%2Fopenstack-ansible~master~I0223bcb4424aef0f884f901f102953540f2b04c3,openstack/openstack-ansible,master,I0223bcb4424aef0f884f901f102953540f2b04c3,[doc] Update releasing documentation,NEW,2023-06-06 17:06:15.000000000,2023-06-06 17:23:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-06 17:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/65bb9a57a190858d0c4c44bab702fa345293133c', 'message': '[doc] Update releasing documentation\n\nAt the moment our documentation does not contain any steps that\nshould be made to create EOL or EM releases. With that existing\nreleasing documentation is slightly outdated and not fully reflect\nactions that should be made during periodic work.\n\nChange-Id: I0223bcb4424aef0f884f901f102953540f2b04c3\n'}, {'number': 2, 'created': '2023-06-06 17:08:32.000000000', 'files': ['doc/source/contributor/periodic-work.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4706b133023ab48ab21cd5884df949d3f9f8fa63', 'message': '[doc] Update releasing documentation\n\nAt the moment our documentation does not contain any steps that\nshould be made to create EOL or EM releases. With that existing\nreleasing documentation is slightly outdated and not fully reflect\nactions that should be made during periodic work.\n\nChange-Id: I0223bcb4424aef0f884f901f102953540f2b04c3\n'}]",0,885376,4706b133023ab48ab21cd5884df949d3f9f8fa63,3,1,2,28619,,,0,"[doc] Update releasing documentation

At the moment our documentation does not contain any steps that
should be made to create EOL or EM releases. With that existing
releasing documentation is slightly outdated and not fully reflect
actions that should be made during periodic work.

Change-Id: I0223bcb4424aef0f884f901f102953540f2b04c3
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/76/885376/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/periodic-work.rst'],1,65bb9a57a190858d0c4c44bab702fa345293133c,,"``osa releases bump_roles``.Updating required collections ----------------------------- Updating collections to their latest version is done through ``osa releases bump_collections``. Please note, that only collections with type `git` are supported. Ones, that are installed from Ansible Galaxy should be bumped manually. Trasition releases to Extended Maintenance ------------------------------------------ With migrating a release to `Extended Maintenance`_ (EM) status no future releases of the release are possible. With that, a new tag <release>-em is created and it must be based on the latest numeric release. To transition a release to Extended Maintenance we need to: * Wait until all upstream repositories will transition to EM * Update OpenStack-Ansible roles normally * Update ``<service>_git_install_branch`` to be ``<release>-em`` instead of the SHA. * Propose a new numeric release to ``openstack/releases`` repository * Propose to create a ``<release>-em`` tag with the same SHA as previous numeric release has. * Once EM tag is created, switch ``version`` field in ansible-role-requirements.yml to track ``stable/<release>``. * Update ``index.rst`` for master branch to reflect support status of the release .. _Extended Maintenance: https://docs.openstack.org/project-team-guide/stable-branches.html#extended-maintenance Trasition releases to End Of Life --------------------------------- With releases reaching `End Of Life`_ (EOL), a new tag ``<release>-eol`` is created, after which branch will be deleted. Projects are free to EOL their branches anytime, after coordinated migration to EM is completed. Due to this we don't track ``stable/<release>`` branch for upstream services for EM, but only for our roles. At the same time there is a coordinated deadline, when all projects must EOL their old branches. To transition a release to End Of Life we need to: * Create a <release>-eol tag for OpenStack-Ansible Roles * Switch ansible-role-requirements.yml ``version`` field to <release>-eol tag from stable/<release> branch. * Wait for all projects to EOL * Update ``<service>_git_install_branch`` variables to use <release>-eol tag instead of SHAs. * Create a <release>-eol tag for OpenStack-Ansible repository * Update release support status in index.rst on the master branch. .. _End Of Life: https://docs.openstack.org/project-team-guide/stable-branches.html#end-of-life * Define supported platforms release will run on. Remove testing and support for deprecated ones. * Update ``global-requirements-pins``, upstream SHAs and required collections * Update ``global-requirements-pins``, upstream SHAs and required collections * Update ``global-requirements-pins``, upstream SHAs and required collections * Ansible version and collections freeze * After a new stable branch is created for services: * Update ``<service>_git_track_branch`` variables to match the new branch name. * Set all ``tempest_plugin_<service>_git_track_branch`` to None to prevent SHA update for them. * Update upstream SHAs * After coordinated OpenStack release, before OpenStack-Ansible release: * Update release name in ``openstack_hosts`` repository. This will also bump RDO and Ubuntu Cloud Archive repositories. * Switch ``trackbranch`` in ansible-role-requirements.yml to the new branch and update OpenStack-Ansible roles after that. * Add supported platforms for the release to ``os-compatibility-matrix.html`` * Revert changes made to ansible-role-requirements.yml and ``*_git_track_branch`` variables to track stable branch instead of master. Update upstream SHAs. * Reflect changes in documentation * Create a patch to openstack-manuals and uncomment OpenStack-Ansible in `www/project-data/<release>.yaml`. * Update index page on master to mention release date of recently released version as well as set its status to Maintained. With that also add a new release that we are about to start working on. * Update index page on stable branch to mention only the release in topic rather all historical releases as well. Historical data should be present only on master branch. * Update upgrade scripts and documentation to keep track on supported upgrade paths: * For SLURP releases, define ``previous_slurp_name`` in doc/source/conf.py. For non-SLURP - comment it out. * Update ``previous_series_name`` and ``current_series_name`` in doc/source/conf.py and deploy-guide/source/conf.py * Update ``UPGRADE_SOURCE_RELEASE`` in scripts/gate-check-commit.sh * Update ``SUPPORTED_SOURCE_SERIES`` and ``TARGET_SERIES`` in scripts/run-upgrade.sh. Also don't forget to cleanup irrelevant upgrade scripts. * Add/remove required for SLURP upgrade jobs. ACTION for such jobs should be defined as ``upgrade_<release>``.","``osa releases bump_roles $gitbranchname``. * Update ``global-requirements-pins`` * Update ``global-requirements-pins`` * Update ``global-requirements-pins``* After creating a new stable branch: * For all the repos, update the eventual static files refering to master/previous branch name. The main documentation should be updated to add the new branch. The #openstack-docs team should also be updated, for linking the newly created deployment-guide. Use the topic ``create-<branchname>`` (e.g: ``create-stein``) for future reference.* After official project release, before official OpenStack-Ansible release: * Bump RDO and Ubuntu Cloud Archive repositories if they are ready on time.",129,14
openstack%2Fopenstack-ansible~master~Ie53b51f4e4d5ccbd0e7ff638a9d5bce236a561bd,openstack/openstack-ansible,master,Ie53b51f4e4d5ccbd0e7ff638a9d5bce236a561bd,Allow to pass BOOTSTRAP_EXTRA_PARAMS to bootstrap-aio.yml,MERGED,2023-06-04 14:44:24.000000000,2023-06-06 17:19:44.000000000,2023-06-06 17:18:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-06-04 14:44:24.000000000', 'files': ['scripts/bootstrap-aio.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0eb9ccab3a3e515e25797343609b5bf511f1cd75', 'message': 'Allow to pass BOOTSTRAP_EXTRA_PARAMS to bootstrap-aio.yml\n\nThis patch allows to pass custom parameters to the bootstrap-aio.yml\nplaybook by the `BOOTSTRAP_EXTRA_PARAMS` variable.\nWith `BOOTSTRAP_OPTS` it was only possible to set extra variables.\nAs an exmaple, `BOOTSTRAP_EXTRA_PARAMS` can be used to define custom\nset of tags that should be executed.\n\nChange-Id: Ie53b51f4e4d5ccbd0e7ff638a9d5bce236a561bd\n'}]",0,885189,0eb9ccab3a3e515e25797343609b5bf511f1cd75,8,3,1,32666,,,0,"Allow to pass BOOTSTRAP_EXTRA_PARAMS to bootstrap-aio.yml

This patch allows to pass custom parameters to the bootstrap-aio.yml
playbook by the `BOOTSTRAP_EXTRA_PARAMS` variable.
With `BOOTSTRAP_OPTS` it was only possible to set extra variables.
As an exmaple, `BOOTSTRAP_EXTRA_PARAMS` can be used to define custom
set of tags that should be executed.

Change-Id: Ie53b51f4e4d5ccbd0e7ff638a9d5bce236a561bd
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/89/885189/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-aio.sh'],1,0eb9ccab3a3e515e25797343609b5bf511f1cd75,tls-backend,"export BOOTSTRAP_OPTS_ITEMS='' for BOOTSTRAP_OPT in ${BOOTSTRAP_OPTS}; do BOOTSTRAP_OPTS_ITEMS=${BOOTSTRAP_OPTS_ITEMS}""-e ""${BOOTSTRAP_OPT}"" "" done /usr/local/bin/ansible-playbook bootstrap-aio.yml \ ${BOOTSTRAP_OPTS_ITEMS} \ ${BOOTSTRAP_EXTRA_PARAMS:-}"," if [ -z ""${BOOTSTRAP_OPTS}"" ]; then /usr/local/bin/ansible-playbook bootstrap-aio.yml else export BOOTSTRAP_OPTS_ITEMS='' for BOOTSTRAP_OPT in ${BOOTSTRAP_OPTS}; do BOOTSTRAP_OPTS_ITEMS=${BOOTSTRAP_OPTS_ITEMS}""-e ""${BOOTSTRAP_OPT}"" "" done /usr/local/bin/ansible-playbook bootstrap-aio.yml \ ${BOOTSTRAP_OPTS_ITEMS} fi",7,10
openstack%2Fneutron-tempest-plugin~master~Ic1a782dc212b71b909c6defbe94545c8bc15fffe,openstack/neutron-tempest-plugin,master,Ic1a782dc212b71b909c6defbe94545c8bc15fffe,Add sleep to two server port forwarding test,ABANDONED,2023-05-31 19:36:03.000000000,2023-06-06 17:16:05.000000000,,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 19:36:03.000000000', 'files': ['neutron_tempest_plugin/scenario/test_port_forwardings.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a194fd3ff7a10275ef8341d0f33ca7a5cef19e56', 'message': 'Add sleep to two server port forwarding test\n\nWe have observed an issue where netcat returns exit_status 1\nwith an empty std_err and std_out for the last created test server\non the first call. If I temporarly ignore assert[1] the next retry\nof nc command would succeed. Sleeping right before calling the\nfunction with nc command seems like the cleanest solution.\n\n[1] https://opendev.org/openstack/neutron-tempest-plugin/src/commit/318d629308287c199ff937c1b4923a09a56f2984/neutron_tempest_plugin/scenario/base.py#L642\n\nChange-Id: Ic1a782dc212b71b909c6defbe94545c8bc15fffe\n'}]",3,884933,a194fd3ff7a10275ef8341d0f33ca7a5cef19e56,5,3,1,34271,,,0,"Add sleep to two server port forwarding test

We have observed an issue where netcat returns exit_status 1
with an empty std_err and std_out for the last created test server
on the first call. If I temporarly ignore assert[1] the next retry
of nc command would succeed. Sleeping right before calling the
function with nc command seems like the cleanest solution.

[1] https://opendev.org/openstack/neutron-tempest-plugin/src/commit/318d629308287c199ff937c1b4923a09a56f2984/neutron_tempest_plugin/scenario/base.py#L642

Change-Id: Ic1a782dc212b71b909c6defbe94545c8bc15fffe
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/33/884933/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_port_forwardings.py'],1,a194fd3ff7a10275ef8341d0f33ca7a5cef19e56,add_vm_wait,from time import sleep # Observed some netcat port reservation issues when # testing with multiple servers on freshly started # servers. Letting the test sleep for few seconds # prevents netcat port reservation issues. sleep(2) # And now test UDP port forwarding using netcat, # And now test UDP port forwarding using nc,9,1
openstack%2Fironic~stable%2F2023.1~I49e2f7f29eb98e5bb4e18614cea0aca726703f55,openstack/ironic,stable/2023.1,I49e2f7f29eb98e5bb4e18614cea0aca726703f55,Fix self_owned_node policy check,MERGED,2023-05-25 14:16:29.000000000,2023-06-06 17:12:01.000000000,2023-06-06 17:10:46.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 14:16:29.000000000', 'files': ['releasenotes/notes/fix-self-owned-node-policy-fc2dae357879dc33.yaml', 'ironic/common/policy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c973f20a2f32e4b01da6b9950689f42bfc99d0ff', 'message': ""Fix self_owned_node policy check\n\nWhen enabling scope enforcement, the self_owned_node check could\ngenerate a failure because the check internally can be touched\nby both a project scoped and system scoped endpoint.\n\nThis change changes the tag in the policy so it doesn't prematurely\nreturn an error to the API consumer.\n\nChange-Id: I49e2f7f29eb98e5bb4e18614cea0aca726703f55\n(cherry picked from commit 9da6dfd73d3b4abe6acba01d9c8176c1581dc51f)\n""}]",0,884371,c973f20a2f32e4b01da6b9950689f42bfc99d0ff,9,3,1,11655,,,0,"Fix self_owned_node policy check

When enabling scope enforcement, the self_owned_node check could
generate a failure because the check internally can be touched
by both a project scoped and system scoped endpoint.

This change changes the tag in the policy so it doesn't prematurely
return an error to the API consumer.

Change-Id: I49e2f7f29eb98e5bb4e18614cea0aca726703f55
(cherry picked from commit 9da6dfd73d3b4abe6acba01d9c8176c1581dc51f)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/71/884371/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-self-owned-node-policy-fc2dae357879dc33.yaml', 'ironic/common/policy.py']",2,c973f20a2f32e4b01da6b9950689f42bfc99d0ff,," scope_types=['system', 'project'], scope_types=['system', 'project'],"," scope_types=['project'], scope_types=['project'],",9,2
openstack%2Fkeystonemiddleware~stable%2Fwallaby~Ice8e34440a5fe1baa370646ed70b5e085c4af70e,openstack/keystonemiddleware,stable/wallaby,Ice8e34440a5fe1baa370646ed70b5e085c4af70e,Remove cache invalidation when using expired token,MERGED,2023-02-15 16:07:49.000000000,2023-06-06 16:59:35.000000000,2023-06-06 16:57:47.000000000,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-15 16:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/6acbea3e8e112c6d965969a8fbbe70da465a5a29', 'message': ""Remove cache invalidation when using expired token\n\nThis can create a race condition for long running services that reuse\ntheir token (eg. Kubernetes Cinder CSI plugin) in this case for\nexample:\n\n1 [user] Asks nova to attach a volume to a server\n2 ...the user's token expires\n3 [user] Asks cinder if the volume has been attached\n4 [nova] Asks cinder to attach the volume\n\nIn step 3 the token is marked as invalid in the cache and step 4 fails\neven if allow_expired is true\n\nCloses-Bug: #1987355\nChange-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e\n""}, {'number': 2, 'created': '2023-03-28 13:52:03.000000000', 'files': ['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/db5cf4e1fd722c7c5889d79808aaa74bb4ac1aa5', 'message': ""Remove cache invalidation when using expired token\n\nThis can create a race condition for long running services that reuse\ntheir token (eg. Kubernetes Cinder CSI plugin) in this case for\nexample:\n\n1 [user] Asks nova to attach a volume to a server\n2 ...the user's token expires\n3 [user] Asks cinder if the volume has been attached\n4 [nova] Asks cinder to attach the volume\n\nIn step 3 the token is marked as invalid in the cache and step 4 fails\neven if allow_expired is true\n\nCloses-Bug: #1987355\nChange-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e\n""}]",3,873921,db5cf4e1fd722c7c5889d79808aaa74bb4ac1aa5,22,3,2,34275,,,0,"Remove cache invalidation when using expired token

This can create a race condition for long running services that reuse
their token (eg. Kubernetes Cinder CSI plugin) in this case for
example:

1 [user] Asks nova to attach a volume to a server
2 ...the user's token expires
3 [user] Asks cinder if the volume has been attached
4 [nova] Asks cinder to attach the volume

In step 3 the token is marked as invalid in the cache and step 4 fails
even if allow_expired is true

Closes-Bug: #1987355
Change-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/21/873921/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/auth_token/__init__.py']",2,6acbea3e8e112c6d965969a8fbbe70da465a5a29,cherrypick-lp1987355-hqoj9703rj,,"_CACHE_INVALID_INDICATOR = 'invalid' if cached == _CACHE_INVALID_INDICATOR: self.log.debug('Cached token is marked unauthorized') raise ksm_exceptions.InvalidToken() self._token_cache.set(token, _CACHE_INVALID_INDICATOR)",0,25
openstack%2Fkeystonemiddleware~stable%2Fwallaby~I0c022c3cc57f30530ebdef6e434753ece2bdf912,openstack/keystonemiddleware,stable/wallaby,I0c022c3cc57f30530ebdef6e434753ece2bdf912,Add timeout for requests,MERGED,2023-03-21 16:53:08.000000000,2023-06-06 16:58:47.000000000,2023-06-06 16:57:45.000000000,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-21 16:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/56455b149f140ebcc909f0f36125f6e9a3d251c9', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}, {'number': 2, 'created': '2023-03-28 13:23:51.000000000', 'files': ['keystonemiddleware/ec2_token.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', 'keystonemiddleware/s3_token.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/f53502258bd8c464b27d1e34545d0778e5fa846c', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}]",0,878026,f53502258bd8c464b27d1e34545d0778e5fa846c,10,3,2,34275,,,0,"Add timeout for requests

Bandit emits errors for request methods without the timeout parameter.
It's better to follow the instruction to avoid hanging.

Added timeout parameters and config options to set timeout.

[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html

Change-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912
(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/26/878026/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/ec2_token.py', 'keystonemiddleware/s3_token.py']",2,56455b149f140ebcc909f0f36125f6e9a3d251c9,877808-stable/wallaby,"from oslo_config import cfgs3_opts = [ cfg.IntOpt('timeout', default=60, help='Timeout to obtain token.'), ] CONF = cfg.CONF CONF.register_opts(s3_opts, group='s3_token') verify=self._verify, timeout=CONF.s3_token.timeout)", verify=self._verify),17,4
openstack%2Fnova~master~I1239b86fee13c628a5aeaf9ca2467709c5b488aa,openstack/nova,master,I1239b86fee13c628a5aeaf9ca2467709c5b488aa,Libvirt: remove old discard with virtio log,ABANDONED,2023-06-06 11:07:52.000000000,2023-06-06 16:52:50.000000000,,"[{'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 11:07:52.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4ca8f88dd532f920f64d0e1ab6c0dc2881b77755', 'message': ""Libvirt: remove old discard with virtio log\n\nDiscard didn't use to work for volumes using the virtio bus\n(virtio-blk), but that was fixed in QEMU 4 [1][2], so we can remove the\ndebug message now that our minimum version is greater.\n\n[1] https://www.mail-archive.com/qemu-devel@nongnu.org/msg598631.html\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1672682\n\nChange-Id: I1239b86fee13c628a5aeaf9ca2467709c5b488aa\n""}]",2,885356,4ca8f88dd532f920f64d0e1ab6c0dc2881b77755,7,2,1,9535,,,0,"Libvirt: remove old discard with virtio log

Discard didn't use to work for volumes using the virtio bus
(virtio-blk), but that was fixed in QEMU 4 [1][2], so we can remove the
debug message now that our minimum version is greater.

[1] https://www.mail-archive.com/qemu-devel@nongnu.org/msg598631.html
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1672682

Change-Id: I1239b86fee13c628a5aeaf9ca2467709c5b488aa
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/885356/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,4ca8f88dd532f920f64d0e1ab6c0dc2881b77755,discard-virtio," mock_build_metadata): ) as (mock_connect_volume, mock_get_volume_config, mock_build_metadata, mock_save):"," def _test_check_discard(self, mock_log, driver_discard=None, bus=None, should_log=False): mock_config = mock.Mock() mock_config.driver_discard = driver_discard mock_config.target_bus = bus mock_instance = mock.Mock() drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr._check_discard_for_attach_volume(mock_config, mock_instance) self.assertEqual(should_log, mock_log.called) @mock.patch('nova.virt.libvirt.driver.LOG.debug') def test_check_discard_for_attach_volume_no_unmap(self, mock_log): self._test_check_discard(mock_log, driver_discard=None, bus='scsi', should_log=False) @mock.patch('nova.virt.libvirt.driver.LOG.debug') def test_check_discard_for_attach_volume_blk_controller(self, mock_log): self._test_check_discard(mock_log, driver_discard='unmap', bus='virtio', should_log=True) @mock.patch('nova.virt.libvirt.driver.LOG.debug') def test_check_discard_for_attach_volume_valid_controller(self, mock_log): self._test_check_discard(mock_log, driver_discard='unmap', bus='scsi', should_log=False) @mock.patch('nova.virt.libvirt.driver.LOG.debug') def test_check_discard_for_attach_volume_blk_controller_no_unmap(self, mock_log): self._test_check_discard(mock_log, driver_discard=None, bus='virtio', should_log=False) mock.patch.object(drvr, '_check_discard_for_attach_volume'), mock_check_discard, mock_build_metadata): mock.patch.object(drvr, '_check_discard_for_attach_volume'), ) as (mock_connect_volume, mock_get_volume_config, mock_check_discard, mock_build_metadata, mock_save): mock_check_discard.assert_called_with(mock_conf, instance)",3,56
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ia885935ef6d97fae8b61a1c4979b03a51727eb31,openstack/openstack-ansible-rabbitmq_server,master,Ia885935ef6d97fae8b61a1c4979b03a51727eb31,bump rabbitmq and erlang to latest available,MERGED,2023-05-30 21:11:51.000000000,2023-06-06 16:39:34.000000000,2023-06-06 16:38:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-30 21:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/216561c4e28abb2b7ec5ff8b50c9e11f9c4febdd', 'message': 'bump rabbitmq from 3.11.10-1 to 3.11.13-1\n\nWhen switching to the proper repository for el9, 3.11.10-1 is\nunavailable. The earliest available release in the el9 repository for\nCloudSmith(Novemberain) is 3.11.13-1.\n\nChange-Id: Ia885935ef6d97fae8b61a1c4979b03a51727eb31\n'}, {'number': 2, 'created': '2023-05-31 00:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/c1fc8e010f4c43192f48ce252eac35fbb47b59c2', 'message': 'bump rabbitmq from 3.11.10-1 to 3.11.13-1\n\nWhen switching to the proper repository for el9, 3.11.10-1 is\nunavailable. The earliest available release in the el9 repository for\nCloudSmith(Novemberain) is 3.11.13-1.\n\nChange-Id: Ia885935ef6d97fae8b61a1c4979b03a51727eb31\n'}, {'number': 3, 'created': '2023-06-01 22:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/b990446b81d1c4dd8f6d37e5a09b414eee9be7d5', 'message': 'bump rabbitmq from 3.11.10-1 to 3.11.13-1\n\nWhen switching to the proper repository for el9, 3.11.10-1 is\nunavailable. The earliest available release in the el9 repository for\nCloudSmith(Novemberain) is 3.11.13-1.\n\nChange-Id: Ia885935ef6d97fae8b61a1c4979b03a51727eb31\n'}, {'number': 4, 'created': '2023-06-02 00:57:59.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/3ee66ae7aff9021e2338c7ff1ca03b1f91d22d6c', 'message': 'bump rabbitmq and erlang to latest available\n\nWhen switching to the Novemberain repos and using the proper EL major\nversion, some packages are not available in el/9 that are in el/8 repos.\nThis change bumps rabbitmq to 3.11.17-1 and erlang to 25.3.2-1.\n\nChange-Id: Ia885935ef6d97fae8b61a1c4979b03a51727eb31\n'}]",3,884782,3ee66ae7aff9021e2338c7ff1ca03b1f91d22d6c,19,3,4,34411,,,0,"bump rabbitmq and erlang to latest available

When switching to the Novemberain repos and using the proper EL major
version, some packages are not available in el/9 that are in el/8 repos.
This change bumps rabbitmq to 3.11.17-1 and erlang to 25.3.2-1.

Change-Id: Ia885935ef6d97fae8b61a1c4979b03a51727eb31
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/82/884782/4 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,216561c4e28abb2b7ec5ff8b50c9e11f9c4febdd,rabbit/el/9,_rabbitmq_package_version: 3.11.13-1,_rabbitmq_package_version: 3.11.10-1,1,1
openstack%2Fmonasca-api~stable%2Fstein~I6cfa0f392b10edf5e086b130606ba079a651c2a1,openstack/monasca-api,stable/stein,I6cfa0f392b10edf5e086b130606ba079a651c2a1,Update invalid zuul syntax,MERGED,2023-06-06 16:31:44.000000000,2023-06-06 16:35:11.000000000,2023-06-06 16:32:11.000000000,[{'_account_id': 13252}],"[{'number': 1, 'created': '2023-06-06 16:31:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/a065165ed44222251da5c24a6808cb7b3be5b9fa', 'message': 'Update invalid zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\nChange-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1\n(cherry picked from commit 1421da749be2ab926d60c14024c12f664a7a85f4)\n(cherry picked from commit 9b270faeb26890f49dd1700d6001f6c3e9e9be11)\n(cherry picked from commit 85967690d897f66ccfa27e265cef71bf68d00c4c)\n(cherry picked from commit d2b32c9c3d03deb7d1a4e98f755668fd8f3ff939)\n(cherry picked from commit 95c5b62addc2687395cd2cac22779a90fa7ea456)\n(cherry picked from commit bb09b2b0a03c00c6e711c68360ce6b659d274694)\n(cherry picked from commit fabfa069722992045c35cb53bafd0bafbb5ece9e)\n(cherry picked from commit 9d524547e2c2862d59e8ace92b886c8b9395c00c)\n(cherry picked from commit 558aaed72e7a38fd7ab0ba05c0cb668a459e7655)\n'}]",1,885269,a065165ed44222251da5c24a6808cb7b3be5b9fa,4,1,1,13252,,,0,"Update invalid zuul syntax

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
Change-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1
(cherry picked from commit 1421da749be2ab926d60c14024c12f664a7a85f4)
(cherry picked from commit 9b270faeb26890f49dd1700d6001f6c3e9e9be11)
(cherry picked from commit 85967690d897f66ccfa27e265cef71bf68d00c4c)
(cherry picked from commit d2b32c9c3d03deb7d1a4e98f755668fd8f3ff939)
(cherry picked from commit 95c5b62addc2687395cd2cac22779a90fa7ea456)
(cherry picked from commit bb09b2b0a03c00c6e711c68360ce6b659d274694)
(cherry picked from commit fabfa069722992045c35cb53bafd0bafbb5ece9e)
(cherry picked from commit 9d524547e2c2862d59e8ace92b886c8b9395c00c)
(cherry picked from commit 558aaed72e7a38fd7ab0ba05c0cb668a459e7655)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/69/885269/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a065165ed44222251da5c24a6808cb7b3be5b9fa,fix-zuul-errors-stable/2023.1-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri-stable/train-stable/stein, queue: monasca, queue: monasca,1,1
openstack%2Fmonasca-api~stable%2Ftrain~I6cfa0f392b10edf5e086b130606ba079a651c2a1,openstack/monasca-api,stable/train,I6cfa0f392b10edf5e086b130606ba079a651c2a1,Update invalid zuul syntax,MERGED,2023-06-06 16:31:13.000000000,2023-06-06 16:35:08.000000000,2023-06-06 16:31:31.000000000,[{'_account_id': 13252}],"[{'number': 1, 'created': '2023-06-06 16:31:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/558aaed72e7a38fd7ab0ba05c0cb668a459e7655', 'message': 'Update invalid zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\nChange-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1\n(cherry picked from commit 1421da749be2ab926d60c14024c12f664a7a85f4)\n(cherry picked from commit 9b270faeb26890f49dd1700d6001f6c3e9e9be11)\n(cherry picked from commit 85967690d897f66ccfa27e265cef71bf68d00c4c)\n(cherry picked from commit d2b32c9c3d03deb7d1a4e98f755668fd8f3ff939)\n(cherry picked from commit 95c5b62addc2687395cd2cac22779a90fa7ea456)\n(cherry picked from commit bb09b2b0a03c00c6e711c68360ce6b659d274694)\n(cherry picked from commit fabfa069722992045c35cb53bafd0bafbb5ece9e)\n(cherry picked from commit 9d524547e2c2862d59e8ace92b886c8b9395c00c)\n'}]",1,885268,558aaed72e7a38fd7ab0ba05c0cb668a459e7655,4,1,1,13252,,,0,"Update invalid zuul syntax

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
Change-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1
(cherry picked from commit 1421da749be2ab926d60c14024c12f664a7a85f4)
(cherry picked from commit 9b270faeb26890f49dd1700d6001f6c3e9e9be11)
(cherry picked from commit 85967690d897f66ccfa27e265cef71bf68d00c4c)
(cherry picked from commit d2b32c9c3d03deb7d1a4e98f755668fd8f3ff939)
(cherry picked from commit 95c5b62addc2687395cd2cac22779a90fa7ea456)
(cherry picked from commit bb09b2b0a03c00c6e711c68360ce6b659d274694)
(cherry picked from commit fabfa069722992045c35cb53bafd0bafbb5ece9e)
(cherry picked from commit 9d524547e2c2862d59e8ace92b886c8b9395c00c)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/68/885268/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,558aaed72e7a38fd7ab0ba05c0cb668a459e7655,fix-zuul-errors-stable/2023.1-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri-stable/train, queue: monasca, queue: monasca,1,1
openstack%2Fmonasca-api~stable%2Fussuri~I6cfa0f392b10edf5e086b130606ba079a651c2a1,openstack/monasca-api,stable/ussuri,I6cfa0f392b10edf5e086b130606ba079a651c2a1,Update invalid zuul syntax,MERGED,2023-06-06 16:30:34.000000000,2023-06-06 16:34:46.000000000,2023-06-06 16:30:56.000000000,[{'_account_id': 13252}],"[{'number': 1, 'created': '2023-06-06 16:30:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/9d524547e2c2862d59e8ace92b886c8b9395c00c', 'message': 'Update invalid zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\nChange-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1\n(cherry picked from commit 1421da749be2ab926d60c14024c12f664a7a85f4)\n(cherry picked from commit 9b270faeb26890f49dd1700d6001f6c3e9e9be11)\n(cherry picked from commit 85967690d897f66ccfa27e265cef71bf68d00c4c)\n(cherry picked from commit d2b32c9c3d03deb7d1a4e98f755668fd8f3ff939)\n(cherry picked from commit 95c5b62addc2687395cd2cac22779a90fa7ea456)\n(cherry picked from commit bb09b2b0a03c00c6e711c68360ce6b659d274694)\n(cherry picked from commit fabfa069722992045c35cb53bafd0bafbb5ece9e)\n'}]",1,885267,9d524547e2c2862d59e8ace92b886c8b9395c00c,4,1,1,13252,,,0,"Update invalid zuul syntax

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
Change-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1
(cherry picked from commit 1421da749be2ab926d60c14024c12f664a7a85f4)
(cherry picked from commit 9b270faeb26890f49dd1700d6001f6c3e9e9be11)
(cherry picked from commit 85967690d897f66ccfa27e265cef71bf68d00c4c)
(cherry picked from commit d2b32c9c3d03deb7d1a4e98f755668fd8f3ff939)
(cherry picked from commit 95c5b62addc2687395cd2cac22779a90fa7ea456)
(cherry picked from commit bb09b2b0a03c00c6e711c68360ce6b659d274694)
(cherry picked from commit fabfa069722992045c35cb53bafd0bafbb5ece9e)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/67/885267/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9d524547e2c2862d59e8ace92b886c8b9395c00c,fix-zuul-errors-stable/2023.1-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri, queue: monasca, queue: monasca,1,1
openstack%2Fmonasca-api~stable%2Fvictoria~I6cfa0f392b10edf5e086b130606ba079a651c2a1,openstack/monasca-api,stable/victoria,I6cfa0f392b10edf5e086b130606ba079a651c2a1,Update invalid zuul syntax,MERGED,2023-06-06 16:29:45.000000000,2023-06-06 16:34:19.000000000,2023-06-06 16:30:05.000000000,[{'_account_id': 13252}],"[{'number': 1, 'created': '2023-06-06 16:29:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/fabfa069722992045c35cb53bafd0bafbb5ece9e', 'message': 'Update invalid zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\nChange-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1\n(cherry picked from commit 1421da749be2ab926d60c14024c12f664a7a85f4)\n(cherry picked from commit 9b270faeb26890f49dd1700d6001f6c3e9e9be11)\n(cherry picked from commit 85967690d897f66ccfa27e265cef71bf68d00c4c)\n(cherry picked from commit d2b32c9c3d03deb7d1a4e98f755668fd8f3ff939)\n(cherry picked from commit 95c5b62addc2687395cd2cac22779a90fa7ea456)\n(cherry picked from commit bb09b2b0a03c00c6e711c68360ce6b659d274694)\n'}]",1,885266,fabfa069722992045c35cb53bafd0bafbb5ece9e,4,1,1,13252,,,0,"Update invalid zuul syntax

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
Change-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1
(cherry picked from commit 1421da749be2ab926d60c14024c12f664a7a85f4)
(cherry picked from commit 9b270faeb26890f49dd1700d6001f6c3e9e9be11)
(cherry picked from commit 85967690d897f66ccfa27e265cef71bf68d00c4c)
(cherry picked from commit d2b32c9c3d03deb7d1a4e98f755668fd8f3ff939)
(cherry picked from commit 95c5b62addc2687395cd2cac22779a90fa7ea456)
(cherry picked from commit bb09b2b0a03c00c6e711c68360ce6b659d274694)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/66/885266/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fabfa069722992045c35cb53bafd0bafbb5ece9e,fix-zuul-errors-stable/2023.1-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria, queue: monasca, queue: monasca,1,1
openstack%2Fmonasca-api~stable%2Fxena~I6cfa0f392b10edf5e086b130606ba079a651c2a1,openstack/monasca-api,stable/xena,I6cfa0f392b10edf5e086b130606ba079a651c2a1,Update invalid zuul syntax,MERGED,2023-06-06 16:27:52.000000000,2023-06-06 16:33:50.000000000,2023-06-06 16:28:32.000000000,[{'_account_id': 13252}],"[{'number': 1, 'created': '2023-06-06 16:27:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/95c5b62addc2687395cd2cac22779a90fa7ea456', 'message': 'Update invalid zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\nChange-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1\n(cherry picked from commit 1421da749be2ab926d60c14024c12f664a7a85f4)\n(cherry picked from commit 9b270faeb26890f49dd1700d6001f6c3e9e9be11)\n(cherry picked from commit 85967690d897f66ccfa27e265cef71bf68d00c4c)\n(cherry picked from commit d2b32c9c3d03deb7d1a4e98f755668fd8f3ff939)\n'}]",1,885264,95c5b62addc2687395cd2cac22779a90fa7ea456,4,1,1,13252,,,0,"Update invalid zuul syntax

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
Change-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1
(cherry picked from commit 1421da749be2ab926d60c14024c12f664a7a85f4)
(cherry picked from commit 9b270faeb26890f49dd1700d6001f6c3e9e9be11)
(cherry picked from commit 85967690d897f66ccfa27e265cef71bf68d00c4c)
(cherry picked from commit d2b32c9c3d03deb7d1a4e98f755668fd8f3ff939)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/64/885264/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,95c5b62addc2687395cd2cac22779a90fa7ea456,fix-zuul-errors-stable/2023.1-stable/zed-stable/yoga-stable/xena, queue: monasca, queue: monasca,1,1
openstack%2Fmonasca-api~stable%2Fyoga~I6cfa0f392b10edf5e086b130606ba079a651c2a1,openstack/monasca-api,stable/yoga,I6cfa0f392b10edf5e086b130606ba079a651c2a1,Update invalid zuul syntax,MERGED,2023-06-06 16:27:05.000000000,2023-06-06 16:32:39.000000000,2023-06-06 16:27:24.000000000,[{'_account_id': 13252}],"[{'number': 1, 'created': '2023-06-06 16:27:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/d2b32c9c3d03deb7d1a4e98f755668fd8f3ff939', 'message': 'Update invalid zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\nChange-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1\n(cherry picked from commit 1421da749be2ab926d60c14024c12f664a7a85f4)\n(cherry picked from commit 9b270faeb26890f49dd1700d6001f6c3e9e9be11)\n(cherry picked from commit 85967690d897f66ccfa27e265cef71bf68d00c4c)\n'}]",1,885263,d2b32c9c3d03deb7d1a4e98f755668fd8f3ff939,4,1,1,13252,,,0,"Update invalid zuul syntax

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
Change-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1
(cherry picked from commit 1421da749be2ab926d60c14024c12f664a7a85f4)
(cherry picked from commit 9b270faeb26890f49dd1700d6001f6c3e9e9be11)
(cherry picked from commit 85967690d897f66ccfa27e265cef71bf68d00c4c)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/63/885263/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d2b32c9c3d03deb7d1a4e98f755668fd8f3ff939,fix-zuul-errors-stable/2023.1-stable/zed-stable/yoga, queue: monasca, queue: monasca,1,1
openstack%2Fmonasca-api~stable%2Fzed~I6cfa0f392b10edf5e086b130606ba079a651c2a1,openstack/monasca-api,stable/zed,I6cfa0f392b10edf5e086b130606ba079a651c2a1,Update invalid zuul syntax,MERGED,2023-06-06 16:26:21.000000000,2023-06-06 16:31:35.000000000,2023-06-06 16:26:45.000000000,[{'_account_id': 13252}],"[{'number': 1, 'created': '2023-06-06 16:26:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/85967690d897f66ccfa27e265cef71bf68d00c4c', 'message': 'Update invalid zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\nChange-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1\n(cherry picked from commit 1421da749be2ab926d60c14024c12f664a7a85f4)\n(cherry picked from commit 9b270faeb26890f49dd1700d6001f6c3e9e9be11)\n'}]",1,885262,85967690d897f66ccfa27e265cef71bf68d00c4c,4,1,1,13252,,,0,"Update invalid zuul syntax

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
Change-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1
(cherry picked from commit 1421da749be2ab926d60c14024c12f664a7a85f4)
(cherry picked from commit 9b270faeb26890f49dd1700d6001f6c3e9e9be11)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/62/885262/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,85967690d897f66ccfa27e265cef71bf68d00c4c,fix-zuul-errors-stable/2023.1-stable/zed, queue: monasca, queue: monasca,1,1
openstack%2Fmonasca-api~stable%2F2023.1~I6cfa0f392b10edf5e086b130606ba079a651c2a1,openstack/monasca-api,stable/2023.1,I6cfa0f392b10edf5e086b130606ba079a651c2a1,Update invalid zuul syntax,MERGED,2023-06-06 16:25:24.000000000,2023-06-06 16:30:38.000000000,2023-06-06 16:25:57.000000000,[{'_account_id': 13252}],"[{'number': 1, 'created': '2023-06-06 16:25:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/9b270faeb26890f49dd1700d6001f6c3e9e9be11', 'message': 'Update invalid zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\nChange-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1\n(cherry picked from commit 1421da749be2ab926d60c14024c12f664a7a85f4)\n'}]",1,885261,9b270faeb26890f49dd1700d6001f6c3e9e9be11,4,1,1,13252,,,0,"Update invalid zuul syntax

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
Change-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1
(cherry picked from commit 1421da749be2ab926d60c14024c12f664a7a85f4)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/61/885261/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9b270faeb26890f49dd1700d6001f6c3e9e9be11,fix-zuul-errors-stable/2023.1, queue: monasca, queue: monasca,1,1
openstack%2Fmonasca-api~stable%2Fwallaby~I6cfa0f392b10edf5e086b130606ba079a651c2a1,openstack/monasca-api,stable/wallaby,I6cfa0f392b10edf5e086b130606ba079a651c2a1,Update invalid zuul syntax,MERGED,2023-06-06 16:29:10.000000000,2023-06-06 16:29:30.000000000,2023-06-06 16:29:30.000000000,[{'_account_id': 13252}],"[{'number': 1, 'created': '2023-06-06 16:29:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/bb09b2b0a03c00c6e711c68360ce6b659d274694', 'message': 'Update invalid zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\nChange-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1\n(cherry picked from commit 1421da749be2ab926d60c14024c12f664a7a85f4)\n(cherry picked from commit 9b270faeb26890f49dd1700d6001f6c3e9e9be11)\n(cherry picked from commit 85967690d897f66ccfa27e265cef71bf68d00c4c)\n(cherry picked from commit d2b32c9c3d03deb7d1a4e98f755668fd8f3ff939)\n(cherry picked from commit 95c5b62addc2687395cd2cac22779a90fa7ea456)\n'}]",1,885265,bb09b2b0a03c00c6e711c68360ce6b659d274694,3,1,1,13252,,,0,"Update invalid zuul syntax

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
Change-Id: I6cfa0f392b10edf5e086b130606ba079a651c2a1
(cherry picked from commit 1421da749be2ab926d60c14024c12f664a7a85f4)
(cherry picked from commit 9b270faeb26890f49dd1700d6001f6c3e9e9be11)
(cherry picked from commit 85967690d897f66ccfa27e265cef71bf68d00c4c)
(cherry picked from commit d2b32c9c3d03deb7d1a4e98f755668fd8f3ff939)
(cherry picked from commit 95c5b62addc2687395cd2cac22779a90fa7ea456)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/65/885265/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bb09b2b0a03c00c6e711c68360ce6b659d274694,fix-zuul-errors-stable/2023.1-stable/zed-stable/yoga-stable/xena-stable/wallaby, queue: monasca, queue: monasca,1,1
openstack%2Fironic~stable%2Fzed~Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1,openstack/ironic,stable/zed,Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1,Add support auth protocols for iRMC,NEW,2023-06-05 07:44:46.000000000,2023-06-06 16:27:49.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 07:44:46.000000000', 'files': ['ironic/conf/irmc.py', 'releasenotes/notes/irmc-add-snmp-auth-protocols-3ff7597cea7ef9dd.yaml', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cfddd47b1a41fe810fc49a5e747fd4f98151f3b5', 'message': 'Add support auth protocols for iRMC\n\nThis patch adds new SNMPv3 auth protocols to iRMC which are supported\nfrom iRMC S6.\n\nChange-Id: Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1\nStory: 2010309\nTask: 46353\n(cherry picked from commit 233c6408389be5f3e271b46154943bc744e0290e)\n'}]",1,885231,cfddd47b1a41fe810fc49a5e747fd4f98151f3b5,6,2,1,30566,,,0,"Add support auth protocols for iRMC

This patch adds new SNMPv3 auth protocols to iRMC which are supported
from iRMC S6.

Change-Id: Id2fca59bebb0745e6b16caaaa7838d1f1a2717e1
Story: 2010309
Task: 46353
(cherry picked from commit 233c6408389be5f3e271b46154943bc744e0290e)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/31/885231/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/irmc.py', 'releasenotes/notes/irmc-add-snmp-auth-protocols-3ff7597cea7ef9dd.yaml', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/drivers/modules/irmc/inspect.py']",6,cfddd47b1a41fe810fc49a5e747fd4f98151f3b5,zed_missed_irmc_snmp_auth_backport," advice = """" if (""SNMP operation"" in str(e)): advice = (""The SNMP related parameters' value may be different "" ""with the server, please check if you have set them "" ""correctly."") ""with the following error: %(error)s. (advice)s"") % {'node_id': node.uuid, 'error': e, 'advice': advice})"," ""with the following error: %(error)s"") % {'node_id': node.uuid, 'error': e})",39,11
openstack%2Fopenstack-chef~stable%2Fstein~I93b97525172f26a25e189661fc31ecd80b88395b,openstack/openstack-chef,stable/stein,I93b97525172f26a25e189661fc31ecd80b88395b,Update zuul config to not use the deprecated queue syntax,MERGED,2023-06-06 05:26:16.000000000,2023-06-06 16:20:45.000000000,2023-06-06 16:18:55.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 05:26:16.000000000', 'files': ['.zuul.yaml', 'setup.py'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/0fa037fff1fece48408e54d8085f94772ea8e102', 'message': 'Update zuul config to not use the deprecated queue syntax\n\nThis is regards to the following email [1] which also references [2] with the\nactual fix.\n\nIn addition, disable auto discovery as a workaround in setup.py [3]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n[2] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html\n[3] https://review.opendev.org/c/openstack/tripleo-quickstart/+/835192\n\nChange-Id: I93b97525172f26a25e189661fc31ecd80b88395b\nSigned-off-by: Lance Albertson <lance@osuosl.org>\n(cherry picked from commit d3f608128ca43c30d42d030a6a9807530c38661a)\n'}]",1,885258,0fa037fff1fece48408e54d8085f94772ea8e102,6,2,1,13252,,,0,"Update zuul config to not use the deprecated queue syntax

This is regards to the following email [1] which also references [2] with the
actual fix.

In addition, disable auto discovery as a workaround in setup.py [3]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html
[2] https://lists.zuul-ci.org/pipermail/zuul-discuss/2022-May/001801.html
[3] https://review.opendev.org/c/openstack/tripleo-quickstart/+/835192

Change-Id: I93b97525172f26a25e189661fc31ecd80b88395b
Signed-off-by: Lance Albertson <lance@osuosl.org>
(cherry picked from commit d3f608128ca43c30d42d030a6a9807530c38661a)
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/58/885258/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.py']",2,0fa037fff1fece48408e54d8085f94772ea8e102,fix-zuul-errors," py_modules=[],",,3,2
openstack%2Fopenstack-ansible-os_keystone~master~I81b66a7388c335958badf7135f4289c3423cb229,openstack/openstack-ansible-os_keystone,master,I81b66a7388c335958badf7135f4289c3423cb229,Fix SSL logic in keystone-httpd.conf.j2,MERGED,2023-06-04 15:24:37.000000000,2023-06-06 15:58:40.000000000,2023-06-06 15:57:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-06-04 15:24:37.000000000', 'files': ['templates/keystone-httpd.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/b73bcd9981255dfa6eb39fb8ef25a5f852b00b17', 'message': 'Fix SSL logic in keystone-httpd.conf.j2\n\nDefining SSL parameters has nothing to do with\nkeystone_service_internaluri_proto. It should not be taken into\nconsideration there.\nTheoretically speaking, environment can have TLS disabled on frontend\nbut enabled on backend.\n\nChange-Id: I81b66a7388c335958badf7135f4289c3423cb229\n'}]",1,885193,b73bcd9981255dfa6eb39fb8ef25a5f852b00b17,10,3,1,32666,,,0,"Fix SSL logic in keystone-httpd.conf.j2

Defining SSL parameters has nothing to do with
keystone_service_internaluri_proto. It should not be taken into
consideration there.
Theoretically speaking, environment can have TLS disabled on frontend
but enabled on backend.

Change-Id: I81b66a7388c335958badf7135f4289c3423cb229
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/93/885193/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone-httpd.conf.j2'],1,b73bcd9981255dfa6eb39fb8ef25a5f852b00b17,tls-backend, {% if keystone_backend_ssl | bool -%}," {% if keystone_backend_ssl | bool and keystone_service_internaluri_proto == ""https"" -%}",1,1
openstack%2Fsenlin~stable%2Fwallaby~Ie3440cb649484f999fc37f4779d36033c96a45d7,openstack/senlin,stable/wallaby,Ie3440cb649484f999fc37f4779d36033c96a45d7,Fix zuul CI,MERGED,2023-06-01 10:44:01.000000000,2023-06-06 15:58:10.000000000,2023-06-06 15:56:17.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-06-01 10:44:01.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin/commit/2f4166b23ab1fe0f66c15d65d738deda4b7b0836', 'message': 'Fix zuul CI\n\nThis is squashed from two commits in order to get a passing CI.\nManually fixed tox.ini inconsistency.\n\nFirst commit:\n\nUpdate deprecated zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\n(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)\n\nSecond commit:\n\nFix doc failing to build properly\n\n(cherry picked from commit 83de2e97c05f9d34c059ff0d7c8680643009ebdf)\n\nChange-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7\n(cherry picked from commit b6ef17b0f787fb7a0609ba36dc13097882a6a3ff)\n'}]",3,885011,2f4166b23ab1fe0f66c15d65d738deda4b7b0836,12,3,1,13252,,,0,"Fix zuul CI

This is squashed from two commits in order to get a passing CI.
Manually fixed tox.ini inconsistency.

First commit:

Update deprecated zuul syntax

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)

Second commit:

Fix doc failing to build properly

(cherry picked from commit 83de2e97c05f9d34c059ff0d7c8680643009ebdf)

Change-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7
(cherry picked from commit b6ef17b0f787fb7a0609ba36dc13097882a6a3ff)
",git fetch https://review.opendev.org/openstack/senlin refs/changes/11/885011/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,2f4166b23ab1fe0f66c15d65d738deda4b7b0836,fix-zuul-errors,allowlist_externals =deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt rm -rf doc/buildallowlist_externals = rm,whitelist_externals =deps = -r{toxinidir}/doc/requirements.txt whitelist_externals = rm,8,5
openstack%2Ftempest~master~I2db486a1ceeebe824e09ed290b80008e71158ff2,openstack/tempest,master,I2db486a1ceeebe824e09ed290b80008e71158ff2,Remove ubuntu focal job,MERGED,2023-05-31 21:58:13.000000000,2023-06-06 15:57:20.000000000,2023-06-06 15:54:52.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-05-31 21:58:13.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b764ca1b55ac559fade645cae2d56794461d80ca', 'message': 'Remove ubuntu focal job\n\nUbuntu focal was in testing runtime as best effort\ntesting in 2023.1 cycle. In 2023.2, we do not need to\ntest the focal as such. Removing its testing to more\nfocus on making Jammy testing more stable.\n\nChange-Id: I2db486a1ceeebe824e09ed290b80008e71158ff2\n'}]",11,884952,b764ca1b55ac559fade645cae2d56794461d80ca,27,3,1,8556,,,0,"Remove ubuntu focal job

Ubuntu focal was in testing runtime as best effort
testing in 2023.1 cycle. In 2023.2, we do not need to
test the focal as such. Removing its testing to more
focus on making Jammy testing more stable.

Change-Id: I2db486a1ceeebe824e09ed290b80008e71158ff2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/52/884952/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/integrated-gate.yaml']",2,b764ca1b55ac559fade645cae2d56794461d80ca,,,"# TODO(gmann): As per the 2023.1 testing runtime, we need to run at least # one job on Focal. This job can be removed as per the future testing # runtime (whenever we drop the Ubuntu Focal testing). - job: name: tempest-full-ubuntu-focal description: This is tempest-full python3 job on Ubuntu Focal(20.04) parent: tempest-full-py3 nodeset: openstack-single-node-focal ",0,13
openstack%2Fironic~bugfix%2F21.3~I6f16da05e19c7efc966128fdf79f13546f51b5a6,openstack/ironic,bugfix/21.3,I6f16da05e19c7efc966128fdf79f13546f51b5a6,Handle MissingAttributeError when using OOB inspections to fetch MACs,NEW,2023-05-09 10:54:38.000000000,2023-06-06 15:35:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-05-09 10:54:38.000000000', 'files': ['ironic/drivers/modules/redfish/management.py', 'releasenotes/notes/handle-missing-ethernetinterfaces-attr-7e52f7259fe66762.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/affe93b45eba477916032bd7b9343cb2dbe3d50e', 'message': 'Handle MissingAttributeError when using OOB inspections to fetch MACs\n\nCurrently, if an attempt is made to fetch MAC address information using\nOOB inspection on a Redfish-managed node and EthernetInterfaces\nattribute is missing on the node, inspection fails due to a\nMissingAttributeError exception being raised by sushy. This change adds\ncatching and handling this exception.\n\nChange-Id: I6f16da05e19c7efc966128fdf79f13546f51b5a6\n(cherry picked from commit f10958a542dd58ff301c386ce0981ec218e9eef6)\n'}]",4,882524,affe93b45eba477916032bd7b9343cb2dbe3d50e,13,2,1,10239,,,0,"Handle MissingAttributeError when using OOB inspections to fetch MACs

Currently, if an attempt is made to fetch MAC address information using
OOB inspection on a Redfish-managed node and EthernetInterfaces
attribute is missing on the node, inspection fails due to a
MissingAttributeError exception being raised by sushy. This change adds
catching and handling this exception.

Change-Id: I6f16da05e19c7efc966128fdf79f13546f51b5a6
(cherry picked from commit f10958a542dd58ff301c386ce0981ec218e9eef6)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/24/882524/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/management.py', 'releasenotes/notes/handle-missing-ethernetinterfaces-attr-7e52f7259fe66762.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_management.py']",3,affe93b45eba477916032bd7b9343cb2dbe3d50e,," @mock.patch.object(redfish_utils, 'get_enabled_macs', autospec=True) @mock.patch.object(redfish_utils, 'get_system', autospec=True) def test_get_mac_addresses_missing_attr(self, mock_get_system, mock_get_enabled_macs): redfish_utils.get_enabled_macs.side_effect = (sushy.exceptions. MissingAttributeError) with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: self.assertIsNone(task.driver.management.get_mac_addresses(task))",,29,1
openstack%2Fcharm-ceph-dashboard~stable%2Fquincy.2~I7b623d210ddc2fac1ea889c778fc5cc744c0e354,openstack/charm-ceph-dashboard,stable/quincy.2,I7b623d210ddc2fac1ea889c778fc5cc744c0e354,Add support for interim Ubuntu releases,MERGED,2023-06-05 08:10:35.000000000,2023-06-06 15:22:59.000000000,2023-06-06 15:22:59.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2023-06-05 08:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/e57cef2dd889b3fc5fb9c19b8fb5f21a752f142f', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\ncherry-pick from I72ab8b2ec96cf78df8a84e0686a33229a6270fb3\n\nChange-Id: I7b623d210ddc2fac1ea889c778fc5cc744c0e354\n'}, {'number': 2, 'created': '2023-06-06 06:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/0d05ff50bf3d0dd7276804b46686ef2fc7970f9d', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\ncherry-pick from I72ab8b2ec96cf78df8a84e0686a33229a6270fb3\n\nChange-Id: I7b623d210ddc2fac1ea889c778fc5cc744c0e354\n'}, {'number': 3, 'created': '2023-06-06 06:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/4cf004c1262ea9f76858958189dac56d314a5cfe', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\ncherry-pick from I72ab8b2ec96cf78df8a84e0686a33229a6270fb3\n\nChange-Id: I7b623d210ddc2fac1ea889c778fc5cc744c0e354\n'}, {'number': 4, 'created': '2023-06-06 06:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/9a1faa7bb4b97ecdf2eb0931eeab3358d7c55181', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\ncherry-pick from I72ab8b2ec96cf78df8a84e0686a33229a6270fb3\n\nChange-Id: I7b623d210ddc2fac1ea889c778fc5cc744c0e354\n'}, {'number': 5, 'created': '2023-06-06 06:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/f4076733516cdaf4b116afa7d5cf0555795eda33', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\ncherry-pick from I72ab8b2ec96cf78df8a84e0686a33229a6270fb3\n\nChange-Id: I7b623d210ddc2fac1ea889c778fc5cc744c0e354\n'}, {'number': 6, 'created': '2023-06-06 12:01:38.000000000', 'files': ['tests/bundles/kinetic-zed.yaml', 'osci.yaml', 'tests/bundles/lunar-antelope.yaml', 'requirements.txt', 'tests/bundles/overlays/focal.yaml.j2', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'metadata.yaml', 'tests/bundles/jammy-zed.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/b855bee71d2df185f5ae20b1c31a42de18a7359a', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\ncherry-pick from I72ab8b2ec96cf78df8a84e0686a33229a6270fb3\n\nChange-Id: I7b623d210ddc2fac1ea889c778fc5cc744c0e354\n'}]",3,885232,b855bee71d2df185f5ae20b1c31a42de18a7359a,20,3,6,15382,,,0,"Add support for interim Ubuntu releases

- update bundles to include UCA pocket tests
- update test configuration
- update metadata to include kinetic and lunar
- update snapcraft to allow run-on for kinetic and lunar

cherry-pick from I72ab8b2ec96cf78df8a84e0686a33229a6270fb3

Change-Id: I7b623d210ddc2fac1ea889c778fc5cc744c0e354
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/32/885232/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/kinetic-zed.yaml', 'osci.yaml', 'requirements.txt', 'tests/bundles/lunar-antelope.yaml', 'tests/bundles/overlays/focal.yaml.j2', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'metadata.yaml', 'tests/bundles/jammy-zed.yaml']",9,e57cef2dd889b3fc5fb9c19b8fb5f21a752f142f,,"local_overlay_enabled: False series: jammy variables: openstack-origin: &openstack-origin cloud:jammy-zed applications: ceph-osd: charm: ch:ceph-osd num_units: 6 storage: osd-devices: 'cinder,10G' options: osd-devices: '/dev/test-non-existent' source: *openstack-origin channel: quincy/edge ceph-mon: charm: ch:ceph-mon num_units: 3 options: monitor-count: '3' source: *openstack-origin channel: quincy/edge vault: num_units: 1 charm: ch:vault channel: latest/edge mysql-innodb-cluster: charm: ch:mysql-innodb-cluster constraints: mem=3072M num_units: 3 channel: latest/edge vault-mysql-router: charm: ch:mysql-router channel: latest/edge ceph-dashboard: charm: ../../ceph-dashboard.charm options: public-hostname: 'ceph-dashboard.zaza.local' prometheus: charm: ch:prometheus2 num_units: 1 grafana: # SSL and allow_embedding are not released into cs:grafana yet, due # October 2021 charm: ch:grafana num_units: 1 options: anonymous: True install_method: snap allow_embedding: True telegraf: charm: telegraf channel: stable options: hostname: ""{host}"" prometheus-alertmanager: charm: ch:prometheus-alertmanager num_units: 1 ceph-radosgw: charm: ch:ceph-radosgw num_units: 3 channel: quincy/edge ceph-fs: charm: ch:ceph-fs num_units: 1 channel: quincy/edge ceph-iscsi: charm: ch:ceph-iscsi num_units: 2 options: gateway-metadata-pool: iscsi-foo-metadata channel: quincy/edge relations: - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'vault:shared-db' - 'vault-mysql-router:shared-db' - - 'vault-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'ceph-dashboard:dashboard' - 'ceph-mon:dashboard' - - 'ceph-dashboard:certificates' - 'vault:certificates' - - 'ceph-mon:prometheus' - 'prometheus:target' - - 'grafana:grafana-source' - 'prometheus:grafana-source' - - 'grafana:certificates' - 'vault:certificates' - - 'ceph-osd:juju-info' - 'telegraf:juju-info' - - 'ceph-mon:juju-info' - 'telegraf:juju-info' - - 'telegraf:prometheus-client' - 'prometheus:target' - - 'telegraf:dashboards' - 'grafana:dashboards' - - 'ceph-dashboard:grafana-dashboard' - 'grafana:dashboards' - - 'ceph-dashboard:alertmanager-service' - 'prometheus-alertmanager:alertmanager-service' - - 'ceph-dashboard:prometheus' - 'prometheus:website' - - 'prometheus:alertmanager-service' - 'prometheus-alertmanager:alertmanager-service' - - 'ceph-radosgw:mon' - 'ceph-mon:radosgw' - - 'ceph-radosgw:certificates' - 'vault:certificates' - - 'ceph-dashboard:radosgw-dashboard' - 'ceph-radosgw:radosgw-user' - - 'ceph-mon:mds' - 'ceph-fs:ceph-mds' - - 'ceph-mon:client' - 'ceph-iscsi:ceph-client' - - 'vault:certificates' - 'ceph-iscsi:certificates' - - 'ceph-dashboard:iscsi-dashboard' - 'ceph-iscsi:admin-access' ",,457,7
openstack%2Fgovernance~master~I31bf409253de99d3e76b8cd576b45ed007398498,openstack/governance,master,I31bf409253de99d3e76b8cd576b45ed007398498,Add openstack-helm PTLs missing irc nick name,MERGED,2023-05-30 17:34:44.000000000,2023-06-06 15:19:25.000000000,2023-06-06 15:18:20.000000000,"[{'_account_id': 8556}, {'_account_id': 10342}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-30 17:34:44.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/53bd261d16e5f91e27e568b69e31593034339bf0', 'message': 'Add openstack-helm PTLs missing irc nick name\n\nChange-Id: I31bf409253de99d3e76b8cd576b45ed007398498\n'}]",0,884757,53bd261d16e5f91e27e568b69e31593034339bf0,11,5,1,3009,,,0,"Add openstack-helm PTLs missing irc nick name

Change-Id: I31bf409253de99d3e76b8cd576b45ed007398498
",git fetch https://review.opendev.org/openstack/governance refs/changes/57/884757/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,53bd261d16e5f91e27e568b69e31593034339bf0,documentation-change, irc: kozhukalov, irc: No nick supplied,1,1
openstack%2Fgovernance~master~Ie2bb6c96e39eb21ab42132774699f254c7f476a9,openstack/governance,master,Ie2bb6c96e39eb21ab42132774699f254c7f476a9,Clarify expectations on keeping Python versions,MERGED,2023-05-03 14:09:30.000000000,2023-06-06 15:14:23.000000000,2023-06-06 15:13:22.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 15993}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-03 14:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/595750f362eba432c2543affbb45312e9e7bc877', 'message': 'Clarify expectations on keeping Python versions\n\nAccording to the PTI it was not clear whether Python versions should\nbe kept whenever new platform is being adopted.\n\nThis change adds recommendation for libraries and other projects\nto keep older platforms, including Python.\n\nChange-Id: Ie2bb6c96e39eb21ab42132774699f254c7f476a9\n'}, {'number': 2, 'created': '2023-05-03 16:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/99b846dad10fadc7fcb6ba7c6d92bb5970a2ec9c', 'message': 'Clarify expectations on keeping Python versions\n\nAccording to the PTI it was not clear whether Python versions should\nbe kept whenever new platform is being adopted.\n\nThis change adds recommendation for libraries and other projects\nto keep older platforms, including Python.\n\nChange-Id: Ie2bb6c96e39eb21ab42132774699f254c7f476a9\n'}, {'number': 3, 'created': '2023-05-07 12:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/0f2e8439f260f4ae7f2009ae39da195649fa3984', 'message': 'Clarify expectations on keeping Python versions\n\nAccording to the PTI it was not clear whether Python versions should\nbe kept whenever new platform is being adopted.\n\nThis change adds recommendation for libraries and other projects\nto keep older platforms, including Python.\n\nChange-Id: Ie2bb6c96e39eb21ab42132774699f254c7f476a9\n'}, {'number': 4, 'created': '2023-05-29 10:31:11.000000000', 'files': ['reference/pti/python.rst', 'reference/project-testing-interface.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/4d0c9e48992f30f5f630ab2fccd742abb9024550', 'message': 'Clarify expectations on keeping Python versions\n\nAccording to the PTI it was not clear whether Python versions should\nbe kept whenever new platform is being adopted.\n\nThis change adds recommendation for libraries and other projects\nto keep older platforms, including Python.\n\nChange-Id: Ie2bb6c96e39eb21ab42132774699f254c7f476a9\n'}]",19,882154,4d0c9e48992f30f5f630ab2fccd742abb9024550,28,8,4,28619,,,0,"Clarify expectations on keeping Python versions

According to the PTI it was not clear whether Python versions should
be kept whenever new platform is being adopted.

This change adds recommendation for libraries and other projects
to keep older platforms, including Python.

Change-Id: Ie2bb6c96e39eb21ab42132774699f254c7f476a9
",git fetch https://review.opendev.org/openstack/governance refs/changes/54/882154/4 && git format-patch -1 --stdout FETCH_HEAD,"['reference/pti/python.rst', 'reference/project-testing-interface.rst']",2,595750f362eba432c2543affbb45312e9e7bc877,formal-vote,".. note:: Please mention, that Project Testing Interface defines a minimal list of platforms that projects should test against. With that having more extensive list of tested platforms (like keeping older platforms) is appreciated. ",,18,2
openstack%2Fgovernance~master~Ib05a81ccf9f3fe80937d4f2c5f2ce339f8df1ade,openstack/governance,master,Ib05a81ccf9f3fe80937d4f2c5f2ce339f8df1ade,Add cinder-nfs charm to OpenStack charms,MERGED,2023-04-04 18:04:36.000000000,2023-06-06 15:11:14.000000000,2023-06-06 15:10:13.000000000,"[{'_account_id': 935}, {'_account_id': 2424}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-04 18:04:36.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/807670bfc646758c57e006e0c9a3230c6f3ebda9', 'message': 'Add cinder-nfs charm to OpenStack charms\n\nAdd new charm that provides the NFS backend support to the OpenStack\nCinder service.\n\nDepends-On: I71010276b9b35cb67e3717002377707e1435f9f9\nChange-Id: Ib05a81ccf9f3fe80937d4f2c5f2ce339f8df1ade\n'}]",3,879502,807670bfc646758c57e006e0c9a3230c6f3ebda9,18,6,1,34059,,,0,"Add cinder-nfs charm to OpenStack charms

Add new charm that provides the NFS backend support to the OpenStack
Cinder service.

Depends-On: I71010276b9b35cb67e3717002377707e1435f9f9
Change-Id: Ib05a81ccf9f3fe80937d4f2c5f2ce339f8df1ade
",git fetch https://review.opendev.org/openstack/governance refs/changes/02/879502/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,807670bfc646758c57e006e0c9a3230c6f3ebda9,project-update, charm-cinder-nfs: release-management: external repos: - openstack/charm-cinder-nfs,,4,0
openstack%2Fnetworking-sfc~master~Icfd49f5126a398e95bd47bb4d2453d9117cd5102,openstack/networking-sfc,master,Icfd49f5126a398e95bd47bb4d2453d9117cd5102,Remove the old CLI code from sfc and fix issuse due to RBAC changes,MERGED,2023-05-12 15:54:22.000000000,2023-06-06 15:06:16.000000000,2023-06-06 15:05:16.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-12 15:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/ca623e42e91b7d7688bf113efbf62b367125210c', 'message': 'Remove the old CLI code from sfc\n\nWith [1] all the CLI code was removed from python-neutronclient,\nThis causes test discovery failure for networking-sfc, and\nthe old neutron flow-classifier-create type commads can be\nremoved from the networking-sfc repository.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/871711\n\nChange-Id: Icfd49f5126a398e95bd47bb4d2453d9117cd5102\n'}, {'number': 2, 'created': '2023-05-12 15:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/2ef3df6605dc5c12a56adc68b2b3e0ff85ce44b9', 'message': 'Remove the old CLI code from sfc\n\nWith [1] all the CLI code was removed from python-neutronclient,\nThis causes test discovery failure for networking-sfc, and\nthe old neutron flow-classifier-create type commads can be\nremoved from the networking-sfc repository.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/871711\n\nChange-Id: Icfd49f5126a398e95bd47bb4d2453d9117cd5102\n'}, {'number': 3, 'created': '2023-05-16 09:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/3a508ea45b64200e23d273c7c349298ef9384640', 'message': 'Remove the old CLI code from sfc\n\nWith [1] all the CLI code was removed from python-neutronclient,\nThis causes test discovery failure for networking-sfc, and\nthe old neutron flow-classifier-create type commads can be\nremoved from the networking-sfc repository.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/871711\n\nRelated-Bug: #2003861\nChange-Id: Icfd49f5126a398e95bd47bb4d2453d9117cd5102\n'}, {'number': 4, 'created': '2023-05-16 11:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/671d2bbab92e67e2320a2671e0a3b30f8f55ff2a', 'message': 'Remove the old CLI code from sfc and fix issuse due to RBAC changes\n\nWith [1] all the CLI code was removed from python-neutronclient,\nThis causes test discovery failure for networking-sfc, and\nthe old neutron flow-classifier-create type commads can be\nremoved from the networking-sfc repository.\n\nNeutron recently merged a commit enabling secure rbacs by default [2]\nbreaking several unit tests of networking-sfc.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b1.\n(Original change-id before squash: Change-Id: Ia0625695f2f1f3c99ee6642b6153c9e1a55c621a)\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/871711\n[2]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nRelated-Bug: #2003861\nRelated-Bug: #2019097\n\nChange-Id: Icfd49f5126a398e95bd47bb4d2453d9117cd5102\n'}, {'number': 5, 'created': '2023-05-16 11:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/06b946d76539029946f5b70499ad39d6d1809767', 'message': 'Remove the old CLI code from sfc and fix issuse due to RBAC changes\n\nWith [1] all the CLI code was removed from python-neutronclient,\nThis causes test discovery failure for networking-sfc, and\nthe old neutron flow-classifier-create type commads can be\nremoved from the networking-sfc repository.\n\nNeutron recently merged a commit enabling secure rbacs by default [2]\nbreaking several unit tests of networking-sfc.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b1.\n(Original change-id before squash: Change-Id: Ia0625695f2f1f3c99ee6642b6153c9e1a55c621a)\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/871711\n[2]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nRelated-Bug: #2003861\nRelated-Bug: #2019097\n\nChange-Id: Icfd49f5126a398e95bd47bb4d2453d9117cd5102\n'}, {'number': 6, 'created': '2023-05-16 11:54:33.000000000', 'files': ['networking_sfc/tests/unit/cli/test_flow_classifier.py', 'networking_sfc/cli/port_pair.py', 'networking_sfc/cli/__init__.py', 'networking_sfc/cli/port_chain.py', 'networking_sfc/tests/unit/cli/__init__.py', 'requirements.txt', 'networking_sfc/cli/flow_classifier.py', 'networking_sfc/cli/port_pair_group.py', 'networking_sfc/tests/unit/cli/test_port_chain.py', 'networking_sfc/tests/unit/cli/test_port_pair_group.py', 'networking_sfc/tests/base.py', 'setup.cfg', 'networking_sfc/tests/unit/cli/test_port_pair.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/309606a7f62989e3634eba5a0a65c2fd3ac85acd', 'message': 'Remove the old CLI code from sfc and fix issuse due to RBAC changes\n\nWith [1] all the CLI code was removed from python-neutronclient,\nThis causes test discovery failure for networking-sfc, and\nthe old neutron flow-classifier-create type commads can be\nremoved from the networking-sfc repository.\n\nNeutron recently merged a commit enabling secure rbacs by default [2]\nbreaking several unit tests of networking-sfc.\nThis patch changes the necessary test calls to be admin and\nrequires neutron >= 23.0.0.0b2.\n(Original change-id before squash: Change-Id: Ia0625695f2f1f3c99ee6642b6153c9e1a55c621a)\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/871711\n[2]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00\n\nRelated-Bug: #2003861\nRelated-Bug: #2019097\n\nChange-Id: Icfd49f5126a398e95bd47bb4d2453d9117cd5102\n'}]",5,883078,309606a7f62989e3634eba5a0a65c2fd3ac85acd,22,4,6,8313,,,0,"Remove the old CLI code from sfc and fix issuse due to RBAC changes

With [1] all the CLI code was removed from python-neutronclient,
This causes test discovery failure for networking-sfc, and
the old neutron flow-classifier-create type commads can be
removed from the networking-sfc repository.

Neutron recently merged a commit enabling secure rbacs by default [2]
breaking several unit tests of networking-sfc.
This patch changes the necessary test calls to be admin and
requires neutron >= 23.0.0.0b2.
(Original change-id before squash: Change-Id: Ia0625695f2f1f3c99ee6642b6153c9e1a55c621a)

[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/871711
[2]: https://opendev.org/openstack/neutron/commit/670cc383e0345063c0bf9022f8829d5817457e00

Related-Bug: #2003861
Related-Bug: #2019097

Change-Id: Icfd49f5126a398e95bd47bb4d2453d9117cd5102
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/78/883078/6 && git format-patch -1 --stdout FETCH_HEAD,"['networking_sfc/tests/unit/cli/test_flow_classifier.py', 'networking_sfc/cli/port_pair.py', 'networking_sfc/cli/__init__.py', 'networking_sfc/cli/flow_classifier.py', 'networking_sfc/cli/port_chain.py', 'networking_sfc/cli/port_pair_group.py', 'networking_sfc/tests/unit/cli/__init__.py', 'networking_sfc/tests/unit/cli/test_port_chain.py', 'networking_sfc/tests/unit/cli/test_port_pair_group.py', 'networking_sfc/tests/unit/cli/test_port_pair.py']",10,ca623e42e91b7d7688bf113efbf62b367125210c,bug/2019097,,"# Copyright 2015 Huawei Technologies India Pvt. Ltd. # All Rights Reserved # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # import sys from unittest import mock from neutronclient import shell from neutronclient.tests.unit import test_cli20 from networking_sfc.cli import port_pair as pp from oslo_utils import uuidutils ingress_port_UUID = uuidutils.generate_uuid() egress_port_UUID = uuidutils.generate_uuid() class CLITestV20PortPairExtensionJSON(test_cli20.CLITestV20Base): def setUp(self): super(CLITestV20PortPairExtensionJSON, self).setUp() self._mock_extension_loading() self.register_non_admin_status_resource('port_pair') def _create_patch(self, name, func=None): patcher = mock.patch(name) thing = patcher.start() self.addCleanup(patcher.stop) return thing def _mock_extension_loading(self): ext_pkg = 'neutronclient.common.extension' port_pair = self._create_patch(ext_pkg + '._discover_via_entry_points') port_pair.return_value = [(""port_pair"", pp)] return port_pair def test_ext_cmd_loaded(self): neutron_shell = shell.NeutronShell('2.0') ext_cmd = {'port-pair-list': pp.PortPairList, 'port-pair-create': pp.PortPairCreate, 'port-pair-update': pp.PortPairUpdate, 'port-pair-delete': pp.PortPairDelete, 'port-pair-show': pp.PortPairShow} for cmd_name, cmd_class in ext_cmd.items(): found = neutron_shell.command_manager.find_command([cmd_name]) self.assertEqual(cmd_class, found[0]) def test_create_port_pair_with_mandatory_param(self): """"""Create port_pair: myname."""""" resource = 'port_pair' cmd = pp.PortPairCreate(test_cli20.MyApp(sys.stdout), None) name = 'myname' myid = 'myid' args = [name, '--ingress', ingress_port_UUID, '--egress', egress_port_UUID] position_names = ['name', 'ingress', 'egress'] position_values = [name, ingress_port_UUID, egress_port_UUID] self._test_create_resource(resource, cmd, name, myid, args, position_names, position_values) def test_create_port_pair_with_bidirectional_port(self): """"""Create port_pair: myname with bidirectional port."""""" resource = 'port_pair' cmd = pp.PortPairCreate(test_cli20.MyApp(sys.stdout), None) name = 'myname' myid = 'myid' args = [name, '--ingress', ingress_port_UUID, '--egress', ingress_port_UUID] position_names = ['name', 'ingress', 'egress'] position_values = [name, ingress_port_UUID, ingress_port_UUID] self._test_create_resource(resource, cmd, name, myid, args, position_names, position_values) def test_create_port_pair_with_all_param(self): """"""Create port_pair: myname with all parameter"""""" resource = 'port_pair' cmd = pp.PortPairCreate(test_cli20.MyApp(sys.stdout), None) name = 'myname' myid = 'myid' desc = ""my_port_pair"" service_fn_param = 'correlation=None,weight=2' service_fn_param_exp = {""correlation"": ""None"", ""weight"": ""2""} args = [name, '--ingress', ingress_port_UUID, '--egress', egress_port_UUID, '--description', desc, '--service-function-parameters', service_fn_param] position_names = ['name', 'ingress', 'egress', 'description', 'service_function_parameters'] position_values = [name, ingress_port_UUID, egress_port_UUID, desc, service_fn_param_exp] self._test_create_resource(resource, cmd, name, myid, args, position_names, position_values) def test_update_port_pair_description(self): """"""Update port_pair: myid --description mydesc."""""" resource = 'port_pair' desc1 = ""My_New_Port_Pair"" cmd = pp.PortPairUpdate(test_cli20.MyApp(sys.stdout), None) self._test_update_resource(resource, cmd, 'myid', ['myid', '--description', desc1], {'description': desc1}) def test_update_port_pair_name(self): """"""Update port_pair: myid --name myname."""""" resource = 'port_pair' my_name = ""My_New_Port_Pair"" cmd = pp.PortPairUpdate(test_cli20.MyApp(sys.stdout), None) self._test_update_resource(resource, cmd, 'myid', ['myid', '--name', my_name], {'name': my_name}) def test_delete_port_pair(self): """"""Delete port-pair: myid."""""" resource = 'port_pair' cmd = pp.PortPairDelete(test_cli20.MyApp(sys.stdout), None) myid = 'myid' args = [myid] self._test_delete_resource(resource, cmd, myid, args) def test_list_port_pair(self): """"""List port_pairs."""""" resources = 'port_pairs' cmd = pp.PortPairList(test_cli20.MyApp(sys.stdout), None) self._test_list_resources(resources, cmd, True) def test_list_port_pair_limit(self): """"""size (1000) limited list: port-pair -P."""""" resources = ""port_pairs"" cmd = pp.PortPairList(test_cli20.MyApp(sys.stdout), None) self._test_list_resources(resources, cmd, page_size=1000) def test_list_port_pairs_sort(self): """"""List port_pairs: --sort-key name --sort-key id --sort-key asc --sort-key desc """""" resources = ""port_pairs"" cmd = pp.PortPairList(test_cli20.MyApp(sys.stdout), None) self._test_list_resources(resources, cmd, sort_key=[""name"", ""id""], sort_dir=[""asc"", ""desc""]) def test_show_port_pair(self): """"""Show port-pairs: --fields id --fields name myid."""""" resource = 'port_pair' cmd = pp.PortPairShow(test_cli20.MyApp(sys.stdout), None) args = ['--fields', 'id', '--fields', 'name', self.test_id] self._test_show_resource(resource, cmd, self.test_id, args, ['id', 'name']) ",0,1482
openstack%2Ftrove~master~I2c188d27f0595ac3b2d71f4612d93829915e389c,openstack/trove,master,I2c188d27f0595ac3b2d71f4612d93829915e389c,Don't ignore H306 pep8 check,MERGED,2023-05-30 09:57:29.000000000,2023-06-06 14:44:41.000000000,2023-06-06 14:43:33.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-05-30 09:57:29.000000000', 'files': ['trove/tests/api/instances_resize.py', 'trove/tests/unittests/db/test_migration_utils.py', 'trove/common/utils.py', 'trove/guestagent/datastore/postgres/manager.py', 'trove/tests/unittests/taskmanager/test_vertica_clusters.py', 'trove/backup/models.py', 'trove/tests/unittests/backup/test_backup_controller.py', 'trove/tests/unittests/cluster/test_redis_cluster.py', 'trove/tests/api/instances_delete.py', 'trove/tests/unittests/cluster/test_vertica_cluster.py', 'trove/tests/unittests/instance/test_instance_models.py', 'trove/db/sqlalchemy/migrate_repo/versions/048_add_version_to_datastore_version.py', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/tests/unittests/extensions/mgmt/instances/test_models.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/backup/service.py', 'trove/taskmanager/models.py', 'tox.ini', 'trove/db/sqlalchemy/migrate_repo/versions/047_image_tag_in_datastore_version.py', 'trove/guestagent/strategies/replication/postgresql.py', 'trove/tests/unittests/backup/test_backup_models.py', 'trove/tests/unittests/conductor/test_conf.py', 'trove/instance/models.py', 'trove/tests/fakes/swift.py', 'trove/tests/unittests/extensions/common/test_service.py', 'trove/tests/unittests/api/common/test_limits.py', 'trove/guestagent/datastore/service.py', 'backup/storage/swift.py', 'trove/common/neutron.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/tests/unittests/common/test_notification.py', 'trove/guestagent/datastore/manager.py', 'trove/common/cfg.py', 'trove/guestagent/datastore/mariadb/service.py', 'trove/guestagent/strategies/replication/mysql_base.py', 'trove/tests/api/mgmt/instances_actions.py', 'trove/tests/unittests/taskmanager/test_api.py', 'trove/guestagent/common/operating_system.py', 'backup/drivers/postgres.py', 'trove/tests/unittests/cluster/test_cluster.py', 'trove/tests/unittests/upgrade/test_models.py', 'trove/tests/unittests/cmd/test_status.py', 'trove/tests/unittests/taskmanager/test_clusters.py', 'trove/guestagent/datastore/postgres/service.py', 'trove/extensions/mgmt/datastores/service.py', 'trove/common/strategies/cluster/experimental/mongodb/taskmanager.py', 'trove/common/stream_codecs.py', 'trove/tests/unittests/conductor/test_methods.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/c1761147ba7f22cbb25a634b151bca7cdc4f43cf', 'message': ""Don't ignore H306 pep8 check\n\nH306: import in alphabeical order\n\nImports should be grouped in the following order:\nstandard library imports\nrelated third party imports\nlocal application/library specific imports\nput a blank line between each group of imports.\nhttps://docs.openstack.org/hacking/latest/user/hacking.html#imports\n\nChange-Id: I2c188d27f0595ac3b2d71f4612d93829915e389c\n""}]",0,884672,c1761147ba7f22cbb25a634b151bca7cdc4f43cf,8,2,1,26285,,,0,"Don't ignore H306 pep8 check

H306: import in alphabeical order

Imports should be grouped in the following order:
standard library imports
related third party imports
local application/library specific imports
put a blank line between each group of imports.
https://docs.openstack.org/hacking/latest/user/hacking.html#imports

Change-Id: I2c188d27f0595ac3b2d71f4612d93829915e389c
",git fetch https://review.opendev.org/openstack/trove refs/changes/72/884672/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/api/instances_resize.py', 'trove/tests/unittests/db/test_migration_utils.py', 'trove/common/utils.py', 'trove/guestagent/datastore/postgres/manager.py', 'trove/tests/unittests/taskmanager/test_vertica_clusters.py', 'trove/backup/models.py', 'trove/tests/unittests/backup/test_backup_controller.py', 'trove/tests/unittests/cluster/test_redis_cluster.py', 'trove/tests/api/instances_delete.py', 'trove/tests/unittests/cluster/test_vertica_cluster.py', 'trove/tests/unittests/instance/test_instance_models.py', 'trove/db/sqlalchemy/migrate_repo/versions/048_add_version_to_datastore_version.py', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/tests/unittests/extensions/mgmt/instances/test_models.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/backup/service.py', 'trove/taskmanager/models.py', 'tox.ini', 'trove/db/sqlalchemy/migrate_repo/versions/047_image_tag_in_datastore_version.py', 'trove/guestagent/strategies/replication/postgresql.py', 'trove/tests/unittests/backup/test_backup_models.py', 'trove/tests/unittests/conductor/test_conf.py', 'trove/instance/models.py', 'trove/tests/fakes/swift.py', 'trove/tests/unittests/extensions/common/test_service.py', 'trove/tests/unittests/api/common/test_limits.py', 'trove/guestagent/datastore/service.py', 'backup/storage/swift.py', 'trove/common/neutron.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/tests/unittests/common/test_notification.py', 'trove/guestagent/datastore/manager.py', 'trove/common/cfg.py', 'trove/guestagent/datastore/mariadb/service.py', 'trove/guestagent/strategies/replication/mysql_base.py', 'trove/tests/api/mgmt/instances_actions.py', 'trove/tests/unittests/taskmanager/test_api.py', 'trove/guestagent/common/operating_system.py', 'backup/drivers/postgres.py', 'trove/tests/unittests/cluster/test_cluster.py', 'trove/tests/unittests/upgrade/test_models.py', 'trove/tests/unittests/cmd/test_status.py', 'trove/tests/unittests/taskmanager/test_clusters.py', 'trove/guestagent/datastore/postgres/service.py', 'trove/extensions/mgmt/datastores/service.py', 'trove/common/strategies/cluster/experimental/mongodb/taskmanager.py', 'trove/common/stream_codecs.py', 'trove/tests/unittests/conductor/test_methods.py']",48,c1761147ba7f22cbb25a634b151bca7cdc4f43cf,ci,,,95,85
openstack%2Fpuppet-pacemaker~stable%2F1.1.x~Ic8a8e127004220bb8b6735b6cf8b4b52c03fa825,openstack/puppet-pacemaker,stable/1.1.x,Ic8a8e127004220bb8b6735b6cf8b4b52c03fa825,Fix spec tests using the deprecated pacemaker_restart_resource? function,NEW,2023-04-13 13:15:16.000000000,2023-06-06 13:48:28.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-13 13:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/630305dddf9198ef1fddfc66d2ee9f4d456dfde6', 'message': 'Fix spec tests using the deprecated pacemaker_restart_resource? function\n\nCurrently we get the following error:\n\n  1) pcmk_common functions pcmk_restart_resource? stonith resource\n     Failure/Error: expect(pcmk_restart_resource?(\'stonith-fence_ipmilan-stonith-fence-1\', ""cib-resource.xml"")).to eq true\n\n       expected: true\n            got: false\n\n       (compared using ==)\n\n       Diff:\n       @@ -1 +1 @@\n       -true\n       +false\n\n     # ./spec/unit/puppet/provider/pcmk_common_spec.rb:41:in `block (2 levels) in <top (required)>\'\n\nReason for this is that there are two functions to detect a change in a\npcmk resource:\n- pacemaker_restart_resource? -> which parses crm_simulate and was\n  necessary due to https://bugzilla.redhat.com/show_bug.cgi?id=1561617\n  (Fixed in pacemaker-1.1.18-12)\n- pacemaker_restart_resource_ng? -> which is the preferred one and uses\n  crm_diff xml output.\n\nThe problem in CI is that crm_simulate output slightly changed and so\none test is failing. Since it makes no sense to call\npacemaker_restart_resource? with a working crm_diff (i.e. any pacemaker\n> 1.1.18-12), we just make sure we do not run these tests on a working\ncrm_diff.\n\nWe plan to remove pacemaker_restart_resource? fully now that newton (and\nel7) is unsupported, so this change is a minimal non-invasive fix for\nthe time being.\n\nCloses-Bug: #1921118\n\nChange-Id: Ic8a8e127004220bb8b6735b6cf8b4b52c03fa825\n(cherry picked from commit 531283ecea579bf0576bd515770d9cf6513e48c7)\n'}, {'number': 2, 'created': '2023-05-31 05:35:32.000000000', 'files': ['spec/unit/puppet/provider/cib-orig.xml', '.zuul.yaml', 'Gemfile', 'spec/unit/puppet/provider/pcmk_common_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/bde7605382d1503647b537cd9c80bdb28729201b', 'message': 'Fix spec tests using the deprecated pacemaker_restart_resource? function\n\nCurrently we get the following error:\n\n  1) pcmk_common functions pcmk_restart_resource? stonith resource\n     Failure/Error: expect(pcmk_restart_resource?(\'stonith-fence_ipmilan-stonith-fence-1\', ""cib-resource.xml"")).to eq true\n\n       expected: true\n            got: false\n\n       (compared using ==)\n\n       Diff:\n       @@ -1 +1 @@\n       -true\n       +false\n\n     # ./spec/unit/puppet/provider/pcmk_common_spec.rb:41:in `block (2 levels) in <top (required)>\'\n\nReason for this is that there are two functions to detect a change in a\npcmk resource:\n- pacemaker_restart_resource? -> which parses crm_simulate and was\n  necessary due to https://bugzilla.redhat.com/show_bug.cgi?id=1561617\n  (Fixed in pacemaker-1.1.18-12)\n- pacemaker_restart_resource_ng? -> which is the preferred one and uses\n  crm_diff xml output.\n\nThe problem in CI is that crm_simulate output slightly changed and so\none test is failing. Since it makes no sense to call\npacemaker_restart_resource? with a working crm_diff (i.e. any pacemaker\n> 1.1.18-12), we just make sure we do not run these tests on a working\ncrm_diff.\n\nWe plan to remove pacemaker_restart_resource? fully now that newton (and\nel7) is unsupported, so this change is a minimal non-invasive fix for\nthe time being.\n\nBackport note:\nThis also includes Change I2a2250894c8c9a881120983897c22c491b2e012d\nto unblock CI. Note that this contains a few adjustments because\nof old codebase.\n\n- mocha is pinned to an older version because 2.0.x requires Ruby\n  2.7.1 and later. This was done in stable/1.5.0 and later by [1]\n- This also fixes the broken unit tests which was later fixed by [2].\n\n[1] I5144d738f53d127a4d306a47777e381873672d56\n[2] I8f5c04cea4afb8f46a8da5ab639ac984bac36cca\n\nCloses-Bug: #1921118\n\nChange-Id: Ic8a8e127004220bb8b6735b6cf8b4b52c03fa825\n(cherry picked from commit 531283ecea579bf0576bd515770d9cf6513e48c7)\n'}]",2,880304,bde7605382d1503647b537cd9c80bdb28729201b,10,2,2,9816,,,0,"Fix spec tests using the deprecated pacemaker_restart_resource? function

Currently we get the following error:

  1) pcmk_common functions pcmk_restart_resource? stonith resource
     Failure/Error: expect(pcmk_restart_resource?('stonith-fence_ipmilan-stonith-fence-1', ""cib-resource.xml"")).to eq true

       expected: true
            got: false

       (compared using ==)

       Diff:
       @@ -1 +1 @@
       -true
       +false

     # ./spec/unit/puppet/provider/pcmk_common_spec.rb:41:in `block (2 levels) in <top (required)>'

Reason for this is that there are two functions to detect a change in a
pcmk resource:
- pacemaker_restart_resource? -> which parses crm_simulate and was
  necessary due to https://bugzilla.redhat.com/show_bug.cgi?id=1561617
  (Fixed in pacemaker-1.1.18-12)
- pacemaker_restart_resource_ng? -> which is the preferred one and uses
  crm_diff xml output.

The problem in CI is that crm_simulate output slightly changed and so
one test is failing. Since it makes no sense to call
pacemaker_restart_resource? with a working crm_diff (i.e. any pacemaker
> 1.1.18-12), we just make sure we do not run these tests on a working
crm_diff.

We plan to remove pacemaker_restart_resource? fully now that newton (and
el7) is unsupported, so this change is a minimal non-invasive fix for
the time being.

Backport note:
This also includes Change I2a2250894c8c9a881120983897c22c491b2e012d
to unblock CI. Note that this contains a few adjustments because
of old codebase.

- mocha is pinned to an older version because 2.0.x requires Ruby
  2.7.1 and later. This was done in stable/1.5.0 and later by [1]
- This also fixes the broken unit tests which was later fixed by [2].

[1] I5144d738f53d127a4d306a47777e381873672d56
[2] I8f5c04cea4afb8f46a8da5ab639ac984bac36cca

Closes-Bug: #1921118

Change-Id: Ic8a8e127004220bb8b6735b6cf8b4b52c03fa825
(cherry picked from commit 531283ecea579bf0576bd515770d9cf6513e48c7)
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/04/880304/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/unit/puppet/provider/pcmk_common_spec.rb'],1,630305dddf9198ef1fddfc66d2ee9f4d456dfde6,," context 'when crm_diff is not buggy', if: is_crm_diff_buggy?() == true do it ""pcmk_restart_resource? noop"" do expect(pcmk_restart_resource?('foo', ""cib-noop.xml"")).to eq false expect(pcmk_restart_resource?('ip-172.16.11.97', ""cib-noop.xml"")).to eq false expect(pcmk_restart_resource?('stonith-fence_ipmilan-stonith-fence-1', ""cib-noop.xml"")).to eq false end context 'when crm_diff is not buggy', if: is_crm_diff_buggy?() == true do it ""pcmk_restart_resource? vip resource"" do expect(pcmk_restart_resource?('foo', ""cib-resource.xml"")).to eq false expect(pcmk_restart_resource?('ip-172.16.11.97', ""cib-resource.xml"")).to eq true end it ""pcmk_restart_resource? stonith resource"" do expect(pcmk_restart_resource?('foo', ""cib-resource.xml"")).to eq false expect(pcmk_restart_resource?('stonith-fence_ipmilan-stonith-fence-1', ""cib-resource.xml"")).to eq true end"," it ""pcmk_restart_resource? noop"" do expect(pcmk_restart_resource?('foo', ""cib-noop.xml"")).to eq false expect(pcmk_restart_resource?('ip-172.16.11.97', ""cib-noop.xml"")).to eq false expect(pcmk_restart_resource?('stonith-fence_ipmilan-stonith-fence-1', ""cib-noop.xml"")).to eq false it ""pcmk_restart_resource? vip resource"" do expect(pcmk_restart_resource?('foo', ""cib-resource.xml"")).to eq false expect(pcmk_restart_resource?('ip-172.16.11.97', ""cib-resource.xml"")).to eq true end it ""pcmk_restart_resource? stonith resource"" do expect(pcmk_restart_resource?('foo', ""cib-resource.xml"")).to eq false expect(pcmk_restart_resource?('stonith-fence_ipmilan-stonith-fence-1', ""cib-resource.xml"")).to eq true",15,11
openstack%2Fironic~stable%2Fwallaby~Ibaea6d5d4e8d750638da5518b5c461106dad0b31,openstack/ironic,stable/wallaby,Ibaea6d5d4e8d750638da5518b5c461106dad0b31,[Stable-only] Remove Docker from devstack dependencies,MERGED,2023-06-06 06:43:34.000000000,2023-06-06 13:20:01.000000000,2023-06-06 13:18:41.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-06-06 06:43:34.000000000', 'files': ['devstack/files/rpms/ironic', 'devstack/files/debs/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/17095f38353fdd63397b3d459711e4a216061492', 'message': ""[Stable-only] Remove Docker from devstack dependencies\n\nIt was required for the CoreOS IPA built, which we don't support for\nyears. Installing docker seems to be broken at least sometimes:\nhttps://github.com/gophercloud/gophercloud/actions/runs/5080505511/jobs/9127563323?pr=2634\n\nFor Yoga+ this has been done in ebd32ce3c1ef23d3be078ba3992a868c052ce591.\n\nChange-Id: Ibaea6d5d4e8d750638da5518b5c461106dad0b31\n(cherry picked from commit 6a3ee852f168418c1efcf85d2fb17fb08d020d19)\n""}]",0,885259,17095f38353fdd63397b3d459711e4a216061492,10,3,1,10239,,,0,"[Stable-only] Remove Docker from devstack dependencies

It was required for the CoreOS IPA built, which we don't support for
years. Installing docker seems to be broken at least sometimes:
https://github.com/gophercloud/gophercloud/actions/runs/5080505511/jobs/9127563323?pr=2634

For Yoga+ this has been done in ebd32ce3c1ef23d3be078ba3992a868c052ce591.

Change-Id: Ibaea6d5d4e8d750638da5518b5c461106dad0b31
(cherry picked from commit 6a3ee852f168418c1efcf85d2fb17fb08d020d19)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/59/885259/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/files/rpms/ironic', 'devstack/files/debs/ironic']",2,17095f38353fdd63397b3d459711e4a216061492,no-docker-xena-stable/wallaby,,docker.io,0,2
openstack%2Fironic~stable%2Fvictoria~Ibaea6d5d4e8d750638da5518b5c461106dad0b31,openstack/ironic,stable/victoria,Ibaea6d5d4e8d750638da5518b5c461106dad0b31,[Stable-only] Remove Docker from devstack dependencies,MERGED,2023-06-06 06:43:52.000000000,2023-06-06 13:19:58.000000000,2023-06-06 13:18:44.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-06-06 06:43:52.000000000', 'files': ['devstack/files/rpms/ironic', 'devstack/files/debs/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3131009e25f6ad73b58b6f19d8c72408cb7287f', 'message': ""[Stable-only] Remove Docker from devstack dependencies\n\nIt was required for the CoreOS IPA built, which we don't support for\nyears. Installing docker seems to be broken at least sometimes:\nhttps://github.com/gophercloud/gophercloud/actions/runs/5080505511/jobs/9127563323?pr=2634\n\nFor Yoga+ this has been done in ebd32ce3c1ef23d3be078ba3992a868c052ce591.\n\nChange-Id: Ibaea6d5d4e8d750638da5518b5c461106dad0b31\n(cherry picked from commit 6a3ee852f168418c1efcf85d2fb17fb08d020d19)\n""}]",0,885260,b3131009e25f6ad73b58b6f19d8c72408cb7287f,9,3,1,10239,,,0,"[Stable-only] Remove Docker from devstack dependencies

It was required for the CoreOS IPA built, which we don't support for
years. Installing docker seems to be broken at least sometimes:
https://github.com/gophercloud/gophercloud/actions/runs/5080505511/jobs/9127563323?pr=2634

For Yoga+ this has been done in ebd32ce3c1ef23d3be078ba3992a868c052ce591.

Change-Id: Ibaea6d5d4e8d750638da5518b5c461106dad0b31
(cherry picked from commit 6a3ee852f168418c1efcf85d2fb17fb08d020d19)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/60/885260/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/files/rpms/ironic', 'devstack/files/debs/ironic']",2,b3131009e25f6ad73b58b6f19d8c72408cb7287f,no-docker-xena-stable/victoria,,docker.io,0,2
openstack%2Fneutron~stable%2Fwallaby~Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3,openstack/neutron,stable/wallaby,Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3,"Change RBAC relationship loading method to ""joined""",MERGED,2023-06-03 17:08:03.000000000,2023-06-06 12:24:49.000000000,2023-06-06 12:23:39.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-03 17:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf4e4460eba46808262d294f74e15e8f380f4b0e', 'message': 'Change RBAC relationship loading method to ""joined""\n\nThis patch changes all RBAC relationship method to ""joined"". This change\nenforces that the RBAC associated registers are loaded along with the\nparent resource. The rationale of this change is to be able to control\nthe SQL query executed; the subquery cannot be directly managed by\nNeutron.\n\nIt is very usual to create the RBAC rules from one single project that\nis usually the adminitrator project. That means all RBAC rules will\nbelong to it. Before this change, the SQL subquery performed to\nretrieve the RBAC entries was this (from a network query):\n\n  SELECT networks.id AS networks_id\n  FROM networks LEFT OUTER JOIN networkrbacs ON networks.id =\n  networkrbacs.object_id\n  WHERE networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action = \'access_as_external\'\n    AND networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\'\n    OR networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action IN (\'access_as_shared\', \'access_as_readonly\')\n    AND (networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\');\n\nThis SQL result has a very low cardinality; that means there are many\nduplicated registers. For example, with 10 external network, 1000\nprojects and 2500 RBAC rules, this query returns 1.4 million rows.\nInstead if a ""GROUP BY resource_id"" (in this case network_id) clause is\nadded, the number of rows is reduced to 10 (considering this project\nhas a RBAC per network).\n\nIn order to introduce this ""GROUP BY"" clause, this patch is changing\nthe loading method. The clause is added in a neutron-lib patch [1].\n\nThis change by itself does not improve the query performance. The\nneutron-lib patch is needed too. Although this patch does not modify\nque SQL query results, the tests added will prove that the neutron-lib\npatch does not introduce any regression.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878\n\nCloses-Bug: #1918145\nChange-Id: Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3\n(cherry picked from commit e9da29d16c474822c015996cf34e40005419146a)\n'}, {'number': 2, 'created': '2023-06-05 11:17:06.000000000', 'files': ['neutron/db/qos/models.py', 'neutron/tests/unit/objects/test_securitygroup.py', 'neutron/db/models/address_group.py', 'neutron/db/models/securitygroup.py', 'neutron/db/models/address_scope.py', 'neutron/tests/unit/objects/test_address_group.py', 'neutron/db/models_v2.py', 'neutron/tests/unit/objects/test_rbac.py', 'neutron/tests/unit/objects/test_address_scope.py', 'neutron/tests/unit/objects/test_subnetpool.py', 'neutron/tests/unit/objects/test_network.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/de2ad80a3925ba08f7ea765db3e9e045f973d266', 'message': 'Change RBAC relationship loading method to ""joined""\n\nThis patch changes all RBAC relationship method to ""joined"". This change\nenforces that the RBAC associated registers are loaded along with the\nparent resource. The rationale of this change is to be able to control\nthe SQL query executed; the subquery cannot be directly managed by\nNeutron.\n\nIt is very usual to create the RBAC rules from one single project that\nis usually the adminitrator project. That means all RBAC rules will\nbelong to it. Before this change, the SQL subquery performed to\nretrieve the RBAC entries was this (from a network query):\n\n  SELECT networks.id AS networks_id\n  FROM networks LEFT OUTER JOIN networkrbacs ON networks.id =\n  networkrbacs.object_id\n  WHERE networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action = \'access_as_external\'\n    AND networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\'\n    OR networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action IN (\'access_as_shared\', \'access_as_readonly\')\n    AND (networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\');\n\nThis SQL result has a very low cardinality; that means there are many\nduplicated registers. For example, with 10 external network, 1000\nprojects and 2500 RBAC rules, this query returns 1.4 million rows.\nInstead if a ""GROUP BY resource_id"" (in this case network_id) clause is\nadded, the number of rows is reduced to 10 (considering this project\nhas a RBAC per network).\n\nIn order to introduce this ""GROUP BY"" clause, this patch is changing\nthe loading method. The clause is added in a neutron-lib patch [1].\n\nThis change by itself does not improve the query performance. The\nneutron-lib patch is needed too. Although this patch does not modify\nque SQL query results, the tests added will prove that the neutron-lib\npatch does not introduce any regression.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878\n\nConflicts:\n    neutron/tests/unit/objects/test_rbac.py\n\nCloses-Bug: #1918145\nChange-Id: Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3\n(cherry picked from commit e9da29d16c474822c015996cf34e40005419146a)\n(cherry picked from commit 4846e1939b7b22ced690b7422be2fcd06d794d10)\n'}]",0,885176,de2ad80a3925ba08f7ea765db3e9e045f973d266,12,3,2,16688,,,0,"Change RBAC relationship loading method to ""joined""

This patch changes all RBAC relationship method to ""joined"". This change
enforces that the RBAC associated registers are loaded along with the
parent resource. The rationale of this change is to be able to control
the SQL query executed; the subquery cannot be directly managed by
Neutron.

It is very usual to create the RBAC rules from one single project that
is usually the adminitrator project. That means all RBAC rules will
belong to it. Before this change, the SQL subquery performed to
retrieve the RBAC entries was this (from a network query):

  SELECT networks.id AS networks_id
  FROM networks LEFT OUTER JOIN networkrbacs ON networks.id =
  networkrbacs.object_id
  WHERE networks.project_id = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.action = 'access_as_external'
    AND networkrbacs.target_project = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.target_project = '*'
    OR networks.project_id = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.action IN ('access_as_shared', 'access_as_readonly')
    AND (networkrbacs.target_project = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.target_project = '*');

This SQL result has a very low cardinality; that means there are many
duplicated registers. For example, with 10 external network, 1000
projects and 2500 RBAC rules, this query returns 1.4 million rows.
Instead if a ""GROUP BY resource_id"" (in this case network_id) clause is
added, the number of rows is reduced to 10 (considering this project
has a RBAC per network).

In order to introduce this ""GROUP BY"" clause, this patch is changing
the loading method. The clause is added in a neutron-lib patch [1].

This change by itself does not improve the query performance. The
neutron-lib patch is needed too. Although this patch does not modify
que SQL query results, the tests added will prove that the neutron-lib
patch does not introduce any regression.

[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878

Conflicts:
    neutron/tests/unit/objects/test_rbac.py

Closes-Bug: #1918145
Change-Id: Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3
(cherry picked from commit e9da29d16c474822c015996cf34e40005419146a)
(cherry picked from commit 4846e1939b7b22ced690b7422be2fcd06d794d10)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/885176/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/qos/models.py', 'neutron/tests/unit/objects/test_securitygroup.py', 'neutron/db/models/address_group.py', 'neutron/db/models/securitygroup.py', 'neutron/db/models/address_scope.py', 'neutron/db/models_v2.py', 'neutron/tests/unit/objects/test_address_group.py', 'neutron/tests/unit/objects/test_rbac.py', 'neutron/tests/unit/objects/test_address_scope.py', 'neutron/tests/unit/objects/test_subnetpool.py', 'neutron/tests/unit/objects/test_network.py']",11,cf4e4460eba46808262d294f74e15e8f380f4b0e,bug/1918145,"from neutron_lib.api.definitions import availability_zone as az_def _parent_class = network.Network def _create_random_parent_object(self): objclass_fields = self.get_random_db_fields(self._parent_class) objclass_fields.pop(az_def.AZ_HINTS) _obj = self._parent_class(self.context, **objclass_fields) _obj.create() return _obj ",,57,8
openstack%2Fneutron~stable%2Fxena~Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3,openstack/neutron,stable/xena,Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3,"Change RBAC relationship loading method to ""joined""",MERGED,2023-06-03 17:05:54.000000000,2023-06-06 12:17:02.000000000,2023-06-06 12:15:46.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-03 17:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1a7c61bcd6b881d4b63fcea849b0db4f5d7086c', 'message': 'Change RBAC relationship loading method to ""joined""\n\nThis patch changes all RBAC relationship method to ""joined"". This change\nenforces that the RBAC associated registers are loaded along with the\nparent resource. The rationale of this change is to be able to control\nthe SQL query executed; the subquery cannot be directly managed by\nNeutron.\n\nIt is very usual to create the RBAC rules from one single project that\nis usually the adminitrator project. That means all RBAC rules will\nbelong to it. Before this change, the SQL subquery performed to\nretrieve the RBAC entries was this (from a network query):\n\n  SELECT networks.id AS networks_id\n  FROM networks LEFT OUTER JOIN networkrbacs ON networks.id =\n  networkrbacs.object_id\n  WHERE networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action = \'access_as_external\'\n    AND networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\'\n    OR networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action IN (\'access_as_shared\', \'access_as_readonly\')\n    AND (networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\');\n\nThis SQL result has a very low cardinality; that means there are many\nduplicated registers. For example, with 10 external network, 1000\nprojects and 2500 RBAC rules, this query returns 1.4 million rows.\nInstead if a ""GROUP BY resource_id"" (in this case network_id) clause is\nadded, the number of rows is reduced to 10 (considering this project\nhas a RBAC per network).\n\nIn order to introduce this ""GROUP BY"" clause, this patch is changing\nthe loading method. The clause is added in a neutron-lib patch [1].\n\nThis change by itself does not improve the query performance. The\nneutron-lib patch is needed too. Although this patch does not modify\nque SQL query results, the tests added will prove that the neutron-lib\npatch does not introduce any regression.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878\n\nCloses-Bug: #1918145\nChange-Id: Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3\n(cherry picked from commit e9da29d16c474822c015996cf34e40005419146a)\n'}, {'number': 2, 'created': '2023-06-05 11:07:02.000000000', 'files': ['neutron/db/qos/models.py', 'neutron/tests/unit/objects/test_securitygroup.py', 'neutron/db/models/address_group.py', 'neutron/db/models/securitygroup.py', 'neutron/db/models/address_scope.py', 'neutron/tests/unit/objects/test_address_group.py', 'neutron/db/models_v2.py', 'neutron/tests/unit/objects/test_rbac.py', 'neutron/tests/unit/objects/test_address_scope.py', 'neutron/tests/unit/objects/test_subnetpool.py', 'neutron/tests/unit/objects/test_network.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4846e1939b7b22ced690b7422be2fcd06d794d10', 'message': 'Change RBAC relationship loading method to ""joined""\n\nThis patch changes all RBAC relationship method to ""joined"". This change\nenforces that the RBAC associated registers are loaded along with the\nparent resource. The rationale of this change is to be able to control\nthe SQL query executed; the subquery cannot be directly managed by\nNeutron.\n\nIt is very usual to create the RBAC rules from one single project that\nis usually the adminitrator project. That means all RBAC rules will\nbelong to it. Before this change, the SQL subquery performed to\nretrieve the RBAC entries was this (from a network query):\n\n  SELECT networks.id AS networks_id\n  FROM networks LEFT OUTER JOIN networkrbacs ON networks.id =\n  networkrbacs.object_id\n  WHERE networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action = \'access_as_external\'\n    AND networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\'\n    OR networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action IN (\'access_as_shared\', \'access_as_readonly\')\n    AND (networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\');\n\nThis SQL result has a very low cardinality; that means there are many\nduplicated registers. For example, with 10 external network, 1000\nprojects and 2500 RBAC rules, this query returns 1.4 million rows.\nInstead if a ""GROUP BY resource_id"" (in this case network_id) clause is\nadded, the number of rows is reduced to 10 (considering this project\nhas a RBAC per network).\n\nIn order to introduce this ""GROUP BY"" clause, this patch is changing\nthe loading method. The clause is added in a neutron-lib patch [1].\n\nThis change by itself does not improve the query performance. The\nneutron-lib patch is needed too. Although this patch does not modify\nque SQL query results, the tests added will prove that the neutron-lib\npatch does not introduce any regression.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878\n\nConflicts:\n    neutron/tests/unit/objects/test_rbac.py\n\nCloses-Bug: #1918145\nChange-Id: Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3\n(cherry picked from commit e9da29d16c474822c015996cf34e40005419146a)\n'}]",3,885175,4846e1939b7b22ced690b7422be2fcd06d794d10,17,3,2,16688,,,0,"Change RBAC relationship loading method to ""joined""

This patch changes all RBAC relationship method to ""joined"". This change
enforces that the RBAC associated registers are loaded along with the
parent resource. The rationale of this change is to be able to control
the SQL query executed; the subquery cannot be directly managed by
Neutron.

It is very usual to create the RBAC rules from one single project that
is usually the adminitrator project. That means all RBAC rules will
belong to it. Before this change, the SQL subquery performed to
retrieve the RBAC entries was this (from a network query):

  SELECT networks.id AS networks_id
  FROM networks LEFT OUTER JOIN networkrbacs ON networks.id =
  networkrbacs.object_id
  WHERE networks.project_id = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.action = 'access_as_external'
    AND networkrbacs.target_project = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.target_project = '*'
    OR networks.project_id = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.action IN ('access_as_shared', 'access_as_readonly')
    AND (networkrbacs.target_project = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.target_project = '*');

This SQL result has a very low cardinality; that means there are many
duplicated registers. For example, with 10 external network, 1000
projects and 2500 RBAC rules, this query returns 1.4 million rows.
Instead if a ""GROUP BY resource_id"" (in this case network_id) clause is
added, the number of rows is reduced to 10 (considering this project
has a RBAC per network).

In order to introduce this ""GROUP BY"" clause, this patch is changing
the loading method. The clause is added in a neutron-lib patch [1].

This change by itself does not improve the query performance. The
neutron-lib patch is needed too. Although this patch does not modify
que SQL query results, the tests added will prove that the neutron-lib
patch does not introduce any regression.

[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878

Conflicts:
    neutron/tests/unit/objects/test_rbac.py

Closes-Bug: #1918145
Change-Id: Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3
(cherry picked from commit e9da29d16c474822c015996cf34e40005419146a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/885175/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/qos/models.py', 'neutron/tests/unit/objects/test_securitygroup.py', 'neutron/db/models/address_group.py', 'neutron/db/models/securitygroup.py', 'neutron/db/models/address_scope.py', 'neutron/db/models_v2.py', 'neutron/tests/unit/objects/test_address_group.py', 'neutron/tests/unit/objects/test_rbac.py', 'neutron/tests/unit/objects/test_address_scope.py', 'neutron/tests/unit/objects/test_subnetpool.py', 'neutron/tests/unit/objects/test_network.py']",11,f1a7c61bcd6b881d4b63fcea849b0db4f5d7086c,bug/1918145,"from neutron_lib.api.definitions import availability_zone as az_def _parent_class = network.Network def _create_random_parent_object(self): objclass_fields = self.get_random_db_fields(self._parent_class) objclass_fields.pop(az_def.AZ_HINTS) _obj = self._parent_class(self.context, **objclass_fields) _obj.create() return _obj ",,57,8
openstack%2Fneutron-dynamic-routing~master~Id3fe6b7fb6ed2e2abe30af5a196bb25a34425a9d,openstack/neutron-dynamic-routing,master,Id3fe6b7fb6ed2e2abe30af5a196bb25a34425a9d,"Replace ""tenant_id"" with ""project_id""",NEW,2023-05-11 11:51:02.000000000,2023-06-06 12:16:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-11 11:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/92924679050c97bcefa49802ed95f695424eb658', 'message': 'Replace ""tenant_id"" with ""project_id""\n\nThis is part of the remaining technical debt of the specs\nhttps://specs.openstack.org/openstack/neutron-specs/specs/newton/moving-to-keystone-v3.html\n\nBlueprint: https://blueprints.launchpad.net/neutron/+spec/keystone-v3\nChange-Id: Id3fe6b7fb6ed2e2abe30af5a196bb25a34425a9d\n'}, {'number': 2, 'created': '2023-05-11 13:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/63a2caebcc5c272c3888522cb495db1aa16161a7', 'message': 'Replace ""tenant_id"" with ""project_id""\n\nThis is part of the remaining technical debt of the specs\nhttps://specs.openstack.org/openstack/neutron-specs/specs/newton/moving-to-keystone-v3.html\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/882949\n\nBlueprint: https://blueprints.launchpad.net/neutron/+spec/keystone-v3\nChange-Id: Id3fe6b7fb6ed2e2abe30af5a196bb25a34425a9d\n'}, {'number': 3, 'created': '2023-05-11 14:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/e9b6a0aaf47242301077fc8d6062b2436d68e879', 'message': 'Replace ""tenant_id"" with ""project_id""\n\nThis is part of the remaining technical debt of the specs\nhttps://specs.openstack.org/openstack/neutron-specs/specs/newton/moving-to-keystone-v3.html\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/882949\n\nBlueprint: https://blueprints.launchpad.net/neutron/+spec/keystone-v3\nChange-Id: Id3fe6b7fb6ed2e2abe30af5a196bb25a34425a9d\n'}, {'number': 4, 'created': '2023-06-06 11:09:06.000000000', 'files': ['neutron_dynamic_routing/db/bgp_db.py', 'neutron_dynamic_routing/tests/unit/db/test_bgp_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/4636e3ae6d067e53f89bb4fc28e27c42666e7103', 'message': 'Replace ""tenant_id"" with ""project_id""\n\nThis is part of the remaining technical debt of the specs\nhttps://specs.openstack.org/openstack/neutron-specs/specs/newton/moving-to-keystone-v3.html\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/882949\n\nBlueprint: https://blueprints.launchpad.net/neutron/+spec/keystone-v3\nChange-Id: Id3fe6b7fb6ed2e2abe30af5a196bb25a34425a9d\n'}]",0,882940,4636e3ae6d067e53f89bb4fc28e27c42666e7103,8,1,4,16688,,,0,"Replace ""tenant_id"" with ""project_id""

This is part of the remaining technical debt of the specs
https://specs.openstack.org/openstack/neutron-specs/specs/newton/moving-to-keystone-v3.html

Depends-On: https://review.opendev.org/c/openstack/neutron/+/882949

Blueprint: https://blueprints.launchpad.net/neutron/+spec/keystone-v3
Change-Id: Id3fe6b7fb6ed2e2abe30af5a196bb25a34425a9d
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/40/882940/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/db/bgp_db.py', 'neutron_dynamic_routing/tests/unit/db/test_bgp_db.py']",2,92924679050c97bcefa49802ed95f695424eb658,bp/keystone-v3," def bgp_peer(self, project_id=_uuid(), remote_as='4321', data = {'peer_ip': peer_ip, 'project_id': project_id, def router(self, name='bgp-test-router', project_id=_uuid(), admin_state_up=True, **kwargs): request = {'router': {'project_id': project_id, project_id=_uuid(), ext_pool_args = {'project_id': project_id, project_id=None, **kwargs): if not project_id: project_id = _uuid() scope_data = {'project_id': project_id, 'ip_version': ip_version, pool_data = {'project_id': project_id, 'shared': shared, 'name': name, args = {'project_id': _uuid(), with self.bgp_peer(project_id=args['project_id'], args = {'project_id': _uuid(), with self.bgp_peer(project_id=args['project_id'], args = {'project_id': _uuid(), with self.bgp_peer(project_id=args['project_id'], self.gw_network(name='test-net', project_id=_uuid(), project_id = _uuid() project_id=project_id) as sp1,\ project_id=project_id) as sp2,\ project_id=project_id) as sp3,\ 'project_id': project_id} 'project_id': project_id} 'project_id': project_id} project_id = _uuid() scope_data = {'project_id': project_id, 'ip_version': 4, project_id=project_id, project_id = _uuid() scope_data = {'project_id': project_id, 'ip_version': 4, project_id=project_id, project_id = _uuid() scope_data = {'project_id': project_id, project_id=project_id, self.subnetpool_with_address_scope(6, project_id=_uuid(), with self.subnetpool_with_address_scope(6, project_id=_uuid(), self.subnetpool_with_address_scope(6, project_id=_uuid(), project_id = _uuid() scope_data = {'project_id': project_id, 'ip_version': 4, project_id=project_id, 'project_id': project_id, 'project_id': project_id, project_id = _uuid() scope_data = {'project_id': project_id, 'ip_version': 4, project_id=project_id, 'project_id': project_id, 'project_id': project_id, project_id = _uuid() scope_data = {'project_id': project_id, 'ip_version': 4, project_id=project_id, 'project_id': project_id, 'project_id': project_id, project_id = _uuid() scope_data = {'project_id': project_id, 'ip_version': 4, project_id=project_id, 'project_id': project_id, 'project_id': project_id, project_id = _uuid() scope_data = {'project_id': project_id, 'ip_version': 4, project_id=project_id, 'project_id': project_id, 'project_id': project_id, project_id = _uuid() scope_data = {'project_id': project_id, 'ip_version': 4, project_id=project_id, 'project_id': project_id, 'project_id': project_id, def _create_scenario_test_ports(self, project_id, port_configs): 'project_id': project_id, project_id, port_ids): 'project_id': project_id, project_id = _uuid() project_id=project_id, ports = self._create_scenario_test_ports(project_id, port_configs) gw_net_id, project_id, port_ids) project_id = _uuid() project_id=project_id, ports = self._create_scenario_test_ports(project_id, port_configs) self._create_scenario_test_fips(gw_net_id, project_id, port_ids) project_id = _uuid() project_id=project_id, ports = self._create_scenario_test_ports(project_id, port_configs) 'project_id': project_id, project_id = _uuid() scope_data = {'project_id': project_id, 'ip_version': 4, project_id=project_id, 'project_id': project_id, project_id = _uuid() scope_data = {'project_id': project_id, 'ip_version': 4, scope_data, project_id, scope_data, project_id, project_id = _uuid() scope_data = {'project_id': project_id, 'ip_version': 4, scope_data, project_id, scope_data, project_id, scope_data, project_id, scope_data, project_id, project_id = _uuid() scope_data = {'project_id': project_id, 'ip_version': 6, scope_data, project_id, scope_data, project_id, project_id = _uuid() scope_data = {'project_id': project_id, 'ip_version': 6, scope_data, project_id, scope_data, project_id, scope_data, project_id, scope_data, project_id, scope_data, project_id, project_id=project_id, 'project_id': project_id,"," def bgp_peer(self, tenant_id=_uuid(), remote_as='4321', data = {'peer_ip': peer_ip, 'tenant_id': tenant_id, def router(self, name='bgp-test-router', tenant_id=_uuid(), admin_state_up=True, **kwargs): request = {'router': {'tenant_id': tenant_id, tenant_id=_uuid(), ext_pool_args = {'tenant_id': tenant_id, tenant_id=None, **kwargs): if not tenant_id: tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': ip_version, pool_data = {'tenant_id': tenant_id, 'shared': shared, 'name': name, args = {'tenant_id': _uuid(), with self.bgp_peer(tenant_id=args['tenant_id'], args = {'tenant_id': _uuid(), with self.bgp_peer(tenant_id=args['tenant_id'], args = {'tenant_id': _uuid(), with self.bgp_peer(tenant_id=args['tenant_id'], self.gw_network(name='test-net', tenant_id=_uuid(), tenant_id = _uuid() tenant_id=tenant_id) as sp1,\ tenant_id=tenant_id) as sp2,\ tenant_id=tenant_id) as sp3,\ 'tenant_id': tenant_id} 'tenant_id': tenant_id} 'tenant_id': tenant_id} tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 4, tenant_id=tenant_id, tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 4, tenant_id=tenant_id, tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, tenant_id=tenant_id, self.subnetpool_with_address_scope(6, tenant_id=_uuid(), with self.subnetpool_with_address_scope(6, tenant_id=_uuid(), self.subnetpool_with_address_scope(6, tenant_id=_uuid(), tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 4, tenant_id=tenant_id, 'tenant_id': tenant_id, 'tenant_id': tenant_id, tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 4, tenant_id=tenant_id, 'tenant_id': tenant_id, 'tenant_id': tenant_id, tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 4, tenant_id=tenant_id, 'tenant_id': tenant_id, 'tenant_id': tenant_id, tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 4, tenant_id=tenant_id, 'tenant_id': tenant_id, 'tenant_id': tenant_id, tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 4, tenant_id=tenant_id, 'tenant_id': tenant_id, 'tenant_id': tenant_id, tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 4, tenant_id=tenant_id, 'tenant_id': tenant_id, 'tenant_id': tenant_id, def _create_scenario_test_ports(self, tenant_id, port_configs): 'tenant_id': tenant_id, tenant_id, port_ids): 'tenant_id': tenant_id, tenant_id = _uuid() tenant_id=tenant_id, ports = self._create_scenario_test_ports(tenant_id, port_configs) gw_net_id, tenant_id, port_ids) tenant_id = _uuid() tenant_id=tenant_id, ports = self._create_scenario_test_ports(tenant_id, port_configs) self._create_scenario_test_fips(gw_net_id, tenant_id, port_ids) tenant_id = _uuid() tenant_id=tenant_id, ports = self._create_scenario_test_ports(tenant_id, port_configs) 'tenant_id': tenant_id, tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 4, tenant_id=tenant_id, 'tenant_id': tenant_id, tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 4, scope_data, tenant_id, scope_data, tenant_id, tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 4, scope_data, tenant_id, scope_data, tenant_id, scope_data, tenant_id, scope_data, tenant_id, tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 6, scope_data, tenant_id, scope_data, tenant_id, tenant_id = _uuid() scope_data = {'tenant_id': tenant_id, 'ip_version': 6, scope_data, tenant_id, scope_data, tenant_id, scope_data, tenant_id, scope_data, tenant_id, scope_data, tenant_id, tenant_id=tenant_id, 'tenant_id': tenant_id,",116,116
openstack%2Fcinder-tempest-plugin~master~If2553946ba20f46a9e5d6fc73595dd7617098e78,openstack/cinder-tempest-plugin,master,If2553946ba20f46a9e5d6fc73595dd7617098e78,test srbac on volume-types,MERGED,2023-04-16 08:41:56.000000000,2023-06-06 12:15:43.000000000,2023-06-06 12:15:43.000000000,"[{'_account_id': 4523}, {'_account_id': 9600}, {'_account_id': 10459}, {'_account_id': 19262}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32761}, {'_account_id': 34510}, {'_account_id': 35621}]","[{'number': 1, 'created': '2023-04-16 08:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/763a0127a42a9c63aab79d7805cc01629f21359b', 'message': 'test srbac on volume-types\n\nChange-Id: If2553946ba20f46a9e5d6fc73595dd7617098e78\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 2, 'created': '2023-04-16 13:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/69050b3b299abef4bb823472d6f3f301fe209f9d', 'message': 'test srbac on volume-types\n\nChange-Id: If2553946ba20f46a9e5d6fc73595dd7617098e78\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 3, 'created': '2023-04-20 10:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/f69758e7554a810bf31c1d2ed9e6e7dc7455cb18', 'message': 'test srbac on volume-types\n\nChange-Id: If2553946ba20f46a9e5d6fc73595dd7617098e78\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 4, 'created': '2023-05-03 06:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/c4b28a2a0ca2a4a5b81cbc2a746192fd1e8c2653', 'message': 'test srbac on volume-types\n\nChange-Id: If2553946ba20f46a9e5d6fc73595dd7617098e78\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 5, 'created': '2023-05-04 09:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/cba310dd674e866acf4218c6858ce6d77eff42d2', 'message': 'test srbac on volume-types\n\nChange-Id: If2553946ba20f46a9e5d6fc73595dd7617098e78\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 6, 'created': '2023-05-04 16:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/de571ddc665dc9f5573c5ce1f388ee5c0e06673c', 'message': 'test srbac on volume-types\n\nChange-Id: If2553946ba20f46a9e5d6fc73595dd7617098e78\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 7, 'created': '2023-05-07 05:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/66c1bb8b748780bdffaa7211e926f6b52a0eefc7', 'message': 'test srbac on volume-types\n\nChange-Id: If2553946ba20f46a9e5d6fc73595dd7617098e78\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 8, 'created': '2023-05-07 10:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/cf37b0303a9879aea3d79ea74bf195603c88d40b', 'message': 'test srbac on volume-types\n\nChange-Id: If2553946ba20f46a9e5d6fc73595dd7617098e78\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 9, 'created': '2023-05-08 17:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/1f71bf5104a8789024147fbb27d542821711a5c6', 'message': 'test srbac on volume-types\n\nChange-Id: If2553946ba20f46a9e5d6fc73595dd7617098e78\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 10, 'created': '2023-05-08 19:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/c9b87616e6b5b820c86aebdf5dc95b7813af85ec', 'message': 'test srbac on volume-types\n\nChange-Id: If2553946ba20f46a9e5d6fc73595dd7617098e78\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 11, 'created': '2023-05-10 15:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/4d4663686c58b773cf77baf411d31677de3ae1a2', 'message': 'test srbac on volume-types\n\nChange-Id: If2553946ba20f46a9e5d6fc73595dd7617098e78\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 12, 'created': '2023-05-18 09:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/ea58b381fbe6def7a3615805c09567e92e178683', 'message': 'test srbac on volume-types\n\nChange-Id: If2553946ba20f46a9e5d6fc73595dd7617098e78\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 13, 'created': '2023-05-22 07:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b8c2959beed623a90a6203c9ebfd8c2ceaad980e', 'message': 'test srbac on volume-types\n\nChange-Id: If2553946ba20f46a9e5d6fc73595dd7617098e78\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 14, 'created': '2023-05-23 10:36:13.000000000', 'files': ['cinder_tempest_plugin/rbac/v3/test_volume_types.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/5bd72415ff7caf1a1cfd80a2a684df99eb596a7d', 'message': 'test srbac on volume-types\n\nChange-Id: If2553946ba20f46a9e5d6fc73595dd7617098e78\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}]",73,880566,5bd72415ff7caf1a1cfd80a2a684df99eb596a7d,77,9,14,35834,,,0,"test srbac on volume-types

Change-Id: If2553946ba20f46a9e5d6fc73595dd7617098e78
Signed-off-by: Yosi Ben Shimon <ybenshim@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/66/880566/9 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/rbac/v3/test_volume_types.py'],1,763a0127a42a9c63aab79d7805cc01629f21359b,secure-rbac,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from cinder_tempest_plugin.api.volume import base from cinder_tempest_plugin.rbac.v3 import base as rbac_base from tempest.lib.common.utils import data_utils from tempest.lib import decorators from tempest.lib import exceptions class RbacV3VolumeTypesTests(rbac_base.VolumeV3RbacBaseTests): extra_spec_key = 'key1' encryption_type_key_cipher = 'cipher' create_kwargs = { 'provider': 'LuksEncryptor', 'key_size': 256, encryption_type_key_cipher: 'aes-xts-plain64', 'control_location': 'front-end' } @classmethod def setup_clients(cls): super().setup_clients() admin_client = cls.os_project_admin cls.admin_volumes_client = admin_client.volumes_client_latest cls.admin_types_client = admin_client.volume_types_client_latest cls.admin_encryption_types_client = \ admin_client.encryption_types_client_latest @classmethod def setup_credentials(cls): super().setup_credentials() cls.os_primary = getattr(cls, 'os_%s' % cls.credentials[0]) @classmethod def resource_setup(self): """""" Create a new volume-type for the test """""" super(RbacV3VolumeTypesTests, self).resource_setup() # create a volume type name = data_utils.rand_name(""volume-type"") extra_specs = {self.extra_spec_key: 'value1'} params = {'name': name, 'description': ""description"", 'extra_specs': extra_specs, 'os-volume-type-access:is_public': True} self.volume_type = self.admin_types_client.create_volume_type( **params )['volume_type'] # Create encryption_type self.encryption_type = \ self.admin_encryption_types_client.create_encryption_type( self.volume_type['id'], **self.create_kwargs)['encryption'] # cleanup self.addClassResourceCleanup( self.admin_types_client.delete_volume_type, self.volume_type['id'] ) self.addClassResourceCleanup( self.admin_encryption_types_client.delete_encryption_type, self.volume_type['id'] ) def _update_volume_type(self, expected_status): """""" Update volume type """""" self.do_request( method='update_volume_type', expected_status=expected_status, volume_type_id=self.volume_type['id'], name='updated-volume-type-name', description='Updated volume type description' ) def _create_or_update_extra_specs_for_volume_type(self, expected_status): """""" Create or update extra specs """""" # Create extra spec 'key2' with value 'value2' extra_spec = {'key2': 'value2'} self.do_request( method='create_volume_type_extra_specs', expected_status=expected_status, volume_type_id=self.volume_type['id'], extra_specs=extra_spec ) # Update extra spec 'key1' with value 'updated value' spec_name = self.extra_spec_key extra_spec = {spec_name: 'updated value'} self.do_request( method='update_volume_type_extra_specs', expected_status=expected_status, volume_type_id=self.volume_type['id'], extra_spec_name=spec_name, extra_specs=extra_spec ) def _list_all_extra_specs_for_volume_type(self, expected_status): """""" List all extra_specs for a volume type """""" self.do_request( method='list_volume_types_extra_specs', expected_status=expected_status, volume_type_id=self.volume_type['id'] ) def _show_extra_spec_for_volume_type(self, expected_status): """""" Show extra_spec for a volume type """""" self.do_request( method='show_volume_type_extra_specs', expected_status=expected_status, volume_type_id=self.volume_type['id'], extra_specs_name=self.extra_spec_key ) def _update_extra_spec_for_volume_type(self, expected_status): """""" Update extra_spec for a volume type """""" spec_name = self.extra_spec_key extra_spec = {spec_name: 'updated value'} self.do_request( method='update_volume_type_extra_specs', expected_status=expected_status, volume_type_id=self.volume_type['id'], extra_spec_name=spec_name, extra_specs=extra_spec ) def _delete_extra_spec_for_volume_type(self, expected_status): """""" Delete a volume type extra_spec """""" self.do_request( method='delete_volume_type_extra_specs', expected_status=expected_status, volume_type_id=self.volume_type['id'], extra_spec_name=self.extra_spec_key ) def _show_volume_type_detail(self, expected_status): """""" Show volume type """""" self.do_request( method='show_volume_type', expected_status=expected_status, volume_type_id=self.volume_type['id'] ) def _show_default_volume_type(self, expected_status): """""" Show default volume type"""""" self.do_request( method='show_default_volume_type', expected_status=expected_status ) def _delete_volume_type(self, expected_status): """""" Delete a volume type """""" self.do_request( method='delete_volume_type', expected_status=expected_status, volume_type_id=self.volume_type['id'] ) def _list_volume_types(self, expected_status): """""" List all volume types """""" self.do_request( method='list_volume_types', expected_status=expected_status ) def _create_volume_type(self, expected_status): """""" Create a volume type """""" self.do_request( method='create_volume_type', expected_status=expected_status, name=""test-new-volume-type"" ) def _show_encryption_type(self, expected_status): """""" Show volume type's encryption type """""" self.do_request( method='show_encryption_type', expected_status=expected_status, client=self.encryption_types_client, volume_type_id=self.volume_type['id'] ) def _show_encryption_spec_item(self, expected_status): """""" Show encryption spec item """""" self.do_request( method='show_encryption_specs_item', expected_status=expected_status, client=self.encryption_types_client, volume_type_id=self.volume_type['id'], key=self.encryption_type_key_cipher ) def _delete_encryption_type(self, expected_status): """""" Delete encryption type """""" self.do_request( method='delete_encryption_type', expected_status=expected_status, client=self.encryption_types_client, volume_type_id=self.volume_type['id'] ) def _create_encryption_type(self, expected_status): """""" Create encryption type """""" self.do_request( method='create_encryption_type', expected_status=expected_status, client=self.encryption_types_client, volume_type_id=self.volume_type['id'], **self.create_kwargs ) def _update_encryption_type(self, expected_status): """""" Update encryption type """""" update_kwargs = {'key_size': 128} self.do_request( method='update_encryption_type', expected_status=expected_status, client=self.encryption_types_client, volume_type_id=self.volume_type['id'], **update_kwargs ) class VolumeTypesReaderTests(RbacV3VolumeTypesTests, base.BaseVolumeTest): """"""Test API with microversion greater than 3.3"""""" min_microversion = '3.3' credentials = ['project_reader', 'project_admin'] @classmethod def setup_clients(cls): super().setup_clients() cls.persona = getattr(cls, 'os_%s' % cls.credentials[0]) cls.client = cls.persona.volume_types_client_latest cls.encryption_types_client = \ cls.persona.encryption_types_client_latest @decorators.idempotent_id('8b49e148-cd67-11ed-a7ea-84c5a6290b8f') def test_update_volume_type(self): self._update_volume_type(expected_status=exceptions.Forbidden) @decorators.idempotent_id('ecf42262-cd69-11ed-a7ea-84c5a6290b8f') def test_create_or_update_extra_specs_for_volume_type(self): self._create_or_update_extra_specs_for_volume_type( expected_status=exceptions.Forbidden ) @decorators.idempotent_id('65c4b84a-cd6b-11ed-a7ea-84c5a6290b8f') def test_list_all_extra_specs_for_volume_type(self): self._list_all_extra_specs_for_volume_type(expected_status=200) @decorators.idempotent_id('74cf2c92-cd6d-11ed-a7ea-84c5a6290b8f') def test_show_extra_spec_for_volume_type(self): self._show_extra_spec_for_volume_type(expected_status=200) @decorators.idempotent_id('e54aacc0-cd6e-11ed-a7ea-84c5a6290b8f') def test_update_extra_spec_for_volume_type(self): self._update_extra_spec_for_volume_type( expected_status=exceptions.Forbidden ) @decorators.idempotent_id('ea58c256-cd6e-11ed-a7ea-84c5a6290b8f') def test_delete_extra_spec_for_volume_type(self): self._delete_extra_spec_for_volume_type( expected_status=exceptions.Forbidden ) @decorators.skip_because(bug='2016402') @decorators.idempotent_id('bc8768d6-cd6f-11ed-a7ea-84c5a6290b8f') def test_show_volume_type_detail(self): self._show_volume_type_detail(expected_status=200) @decorators.skip_because(bug='2016402') @decorators.idempotent_id('2e6d87d0-cd72-11ed-a7ea-84c5a6290b8f') def test_show_default_volume_type(self): self._show_default_volume_type(expected_status=200) @decorators.idempotent_id('c71c4b42-cd72-11ed-a7ea-84c5a6290b8f') def test_delete_volume_type(self): self._delete_volume_type(expected_status=exceptions.Forbidden) @decorators.skip_because(bug='2016402') @decorators.idempotent_id('915c2e20-cd75-11ed-a7ea-84c5a6290b8f') def test_list_volume_types(self): self._list_volume_types(expected_status=200) @decorators.idempotent_id('923f0b14-cd75-11ed-a7ea-84c5a6290b8f') def test_create_volume_type(self): self._create_volume_type(expected_status=exceptions.Forbidden) @decorators.idempotent_id('946555e2-cd75-11ed-a7ea-84c5a6290b8f') def test_show_encryption_type(self): self._show_encryption_type(expected_status=exceptions.Forbidden) @decorators.idempotent_id('95327cc0-cd75-11ed-a7ea-84c5a6290b8f') def test_show_encryption_spec_item(self): self._show_encryption_spec_item(expected_status=exceptions.Forbidden) @decorators.idempotent_id('ff3817e0-cd77-11ed-a7ea-84c5a6290b8f') def test_delete_encryption_type(self): self._delete_encryption_type(expected_status=exceptions.Forbidden) @decorators.idempotent_id('ff86676a-cd77-11ed-a7ea-84c5a6290b8f') def test_create_encryption_type(self): self._create_encryption_type(expected_status=exceptions.Forbidden) @decorators.idempotent_id('ffc738b2-cd77-11ed-a7ea-84c5a6290b8f') def test_update_encryption_type(self): self._update_encryption_type(expected_status=exceptions.Forbidden) ",,321,0
openstack%2Fhorizon~master~Ieeddc2451adb79405fe3ac72fdf5900ca7c5f628,openstack/horizon,master,Ieeddc2451adb79405fe3ac72fdf5900ca7c5f628,Allow port_get to fail when listing all floating ips,NEW,2022-01-24 17:20:46.000000000,2023-06-06 11:54:51.000000000,,"[{'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-24 17:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6a81cc19f75f61bce6101e7d0d17984a94fdcd8f', 'message': 'Allow port_get to fail when listing all floating ips\n\nAllow port_get to fail when listing all floating ips as not all users\nare allowed to get ports from all other users such as admin.\n\nChange-Id: Ieeddc2451adb79405fe3ac72fdf5900ca7c5f628\n'}, {'number': 2, 'created': '2022-02-03 16:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1a24d89c3d7bdb1988e26a17f0fcac4d0a2e4a10', 'message': 'Allow port_get to fail when listing all floating ips\n\nAllow port_get to fail when listing all floating ips as not all users\nare allowed to get ports from all other users such as admin.\n\nChange-Id: Ieeddc2451adb79405fe3ac72fdf5900ca7c5f628\n'}, {'number': 3, 'created': '2022-02-03 16:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/88b35e9328fc680fd68e481c661e4936ee071c56', 'message': 'Allow port_get to fail when listing all floating ips\n\nAllow port_get to fail when listing all floating ips as not all users\nare allowed to get ports from all other users such as admin.\n\nChange-Id: Ieeddc2451adb79405fe3ac72fdf5900ca7c5f628\n'}, {'number': 4, 'created': '2022-02-03 16:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/56c031689311941b4d7f71815bdec70f05e32826', 'message': 'Allow port_get to fail when listing all floating ips\n\nAllow port_get to fail when listing all floating ips as not all users\nare allowed to get ports from all other users such as admin.\n\nChange-Id: Ieeddc2451adb79405fe3ac72fdf5900ca7c5f628\n'}, {'number': 5, 'created': '2023-02-08 15:54:28.000000000', 'files': ['openstack_dashboard/api/neutron.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/03170ad398af076eaf6c08a114600af6e5333327', 'message': 'Allow port_get to fail when listing all floating ips\n\nAllow port_get to fail when listing all floating ips as not all users\nare allowed to get ports from all other users such as admin.\n\nChange-Id: Ieeddc2451adb79405fe3ac72fdf5900ca7c5f628\n'}]",19,826131,03170ad398af076eaf6c08a114600af6e5333327,23,2,5,7130,,,0,"Allow port_get to fail when listing all floating ips

Allow port_get to fail when listing all floating ips as not all users
are allowed to get ports from all other users such as admin.

Change-Id: Ieeddc2451adb79405fe3ac72fdf5900ca7c5f628
",git fetch https://review.opendev.org/openstack/horizon refs/changes/31/826131/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/neutron.py'],1,6a81cc19f75f61bce6101e7d0d17984a94fdcd8f,tenant404," try: if not port: port = port_get(self.request, fip['port_id']) fip['instance_id'] = port.device_id fip['instance_type'] = self._get_instance_type_from_device_owner( port.device_owner) except PortNotFoundClient: LOG.debug(""failed to get port details, perhaps permission issue"") fip['instance_id'] = None fip['instance_type'] = None"," if not port: port = port_get(self.request, fip['port_id']) fip['instance_id'] = port.device_id fip['instance_type'] = self._get_instance_type_from_device_owner( port.device_owner)",10,5
openstack%2Fnova~stable%2Fxena~I2ba035c09ace20e9835d9d12a5c5bee17d616718,openstack/nova,stable/xena,I2ba035c09ace20e9835d9d12a5c5bee17d616718,Fix failed count for anti-affinity check,NEW,2023-06-06 08:45:16.000000000,2023-06-06 10:31:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 34951}]","[{'number': 1, 'created': '2023-06-06 08:45:16.000000000', 'files': ['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/87488180e5633db5ef8d684684a4355de48ef428', 'message': 'Fix failed count for anti-affinity check\n\nThe late anti-affinity check runs in the compute manager to avoid\nparallel scheduling requests to invalidate the anti-affinity server\ngroup policy. When the check fails the instance is re-scheduled.\nHowever this failure counted as a real instance boot failure of the\ncompute host and can lead to de-prioritization of the compute host\nin the scheduler via BuildFailureWeigher. As the late anti-affinity\ncheck does not indicate any fault of the compute host itself it\nshould not be counted towards the build failure counter.\nThis patch adds new build results to handle this case.\n\nCloses-Bug: #1996732\nChange-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718\nSigned-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>\n(cherry picked from commit 56d320a203a13f262a2e94e491af222032e453d3)\n(cherry picked from commit 1b56714e9119ab4152e6f33985a499b2d83a491b)\n(cherry picked from commit 2f1d65774fbcf5c25c4ba53583b6a802a03f4c4d)\n(cherry picked from commit cd0403dd3b1099bd13da503500a50249db8e49ea)\n'}]",0,885347,87488180e5633db5ef8d684684a4355de48ef428,3,2,1,9708,,,0,"Fix failed count for anti-affinity check

The late anti-affinity check runs in the compute manager to avoid
parallel scheduling requests to invalidate the anti-affinity server
group policy. When the check fails the instance is re-scheduled.
However this failure counted as a real instance boot failure of the
compute host and can lead to de-prioritization of the compute host
in the scheduler via BuildFailureWeigher. As the late anti-affinity
check does not indicate any fault of the compute host itself it
should not be counted towards the build failure counter.
This patch adds new build results to handle this case.

Closes-Bug: #1996732
Change-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718
Signed-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>
(cherry picked from commit 56d320a203a13f262a2e94e491af222032e453d3)
(cherry picked from commit 1b56714e9119ab4152e6f33985a499b2d83a491b)
(cherry picked from commit 2f1d65774fbcf5c25c4ba53583b6a802a03f4c4d)
(cherry picked from commit cd0403dd3b1099bd13da503500a50249db8e49ea)
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/885347/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py']",5,87488180e5633db5ef8d684684a4355de48ef428,bug/1996732,"# Instance failed by policy violation (such as affinity or anti-affinity) # and was not rescheduled. In this case, the node's failed count won't be # increased. FAILED_BY_POLICY = 'failed_by_policy' # Instance failed by policy violation (such as affinity or anti-affinity) # but was rescheduled. In this case, the node's failed count won't be # increased. RESCHEDULED_BY_POLICY = 'rescheduled_by_policy'",,265,14
openstack%2Fpython-openstackclient~master~Ib5c3b7f86acf1dfe7cc76dfa99fa4c118388bd71,openstack/python-openstackclient,master,Ib5c3b7f86acf1dfe7cc76dfa99fa4c118388bd71,"Fix ""access rule"" commands to only use ID",MERGED,2023-05-31 21:21:26.000000000,2023-06-06 10:00:17.000000000,2023-06-06 09:59:10.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-31 21:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/db97cc0af2b285d0d23e6a4dda3ca6079a07d483', 'message': 'Fix Story # 2010775\n\nThe access rule resource does not have a ""name"" property which causes\nthe cli to behave in unexpected ways.\n\nThis patch modifies the access rule commands to use only the resource\nID.\n\nStory: 2010775\nTask: 48163\nChange-Id: Ib5c3b7f86acf1dfe7cc76dfa99fa4c118388bd71\n'}, {'number': 2, 'created': '2023-06-01 20:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ba3e1cf2f8ab2f90d58c499955358657e4bbd2d6', 'message': 'Fix Story # 2010775\n\nThe access rule resource does not have a ""name"" property which causes\nthe cli to behave in unexpected ways.\n\nThis patch modifies the access rule commands to use only the resource\nID.\n\nStory: 2010775\nTask: 48163\nChange-Id: Ib5c3b7f86acf1dfe7cc76dfa99fa4c118388bd71\n'}, {'number': 3, 'created': '2023-06-01 20:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9ad67db36ea4a18141c57644010fe0edac69a37d', 'message': 'Fix Story # 2010775\n\nThe access rule resource does not have a ""name"" property which causes\nthe cli to behave in unexpected ways.\n\nThis patch modifies the access rule commands to use only the resource\nID.\n\nStory: 2010775\nTask: 48163\nChange-Id: Ib5c3b7f86acf1dfe7cc76dfa99fa4c118388bd71\n'}, {'number': 4, 'created': '2023-06-05 16:03:16.000000000', 'files': ['openstackclient/tests/unit/identity/v3/test_access_rule.py', 'openstackclient/identity/v3/access_rule.py', 'openstackclient/identity/common.py', 'releasenotes/notes/fix-story-2010775-953dbdf03b2b6746.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bc60e3bb908a7f10c87993d791184bfe46784d6c', 'message': 'Fix ""access rule"" commands to only use ID\n\nThis patch modifies the access rule commands to use only the resource\nID.  The previous logic incorrectly assumed that access rules have a\n""name"" property, which resulted in unexpected behaviors.\n\nFor example, ""access rule delete {non-existent-id}"" now results in a\n""not found"" error instead of sometimes deleting an unrelated rule.\n\nStory: 2010775\nTask: 48163\nChange-Id: Ib5c3b7f86acf1dfe7cc76dfa99fa4c118388bd71\n'}]",3,884948,bc60e3bb908a7f10c87993d791184bfe46784d6c,17,3,4,7973,,,0,"Fix ""access rule"" commands to only use ID

This patch modifies the access rule commands to use only the resource
ID.  The previous logic incorrectly assumed that access rules have a
""name"" property, which resulted in unexpected behaviors.

For example, ""access rule delete {non-existent-id}"" now results in a
""not found"" error instead of sometimes deleting an unrelated rule.

Story: 2010775
Task: 48163
Change-Id: Ib5c3b7f86acf1dfe7cc76dfa99fa4c118388bd71
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/48/884948/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/identity/v3/access_rule.py', 'openstackclient/identity/common.py', 'releasenotes/notes/fix-story-2010775-953dbdf03b2b6746.yaml']",3,db97cc0af2b285d0d23e6a4dda3ca6079a07d483,story/2010775,--- fixes: - | Fixed story # 2010775 - Fixed a bug in access rule delete that could delete an existing rule given a bad ID. ,,21,4
openstack%2Fosprofiler~master~I00e9f5661a3bd54acc846e8c326896d21e70be36,openstack/osprofiler,master,I00e9f5661a3bd54acc846e8c326896d21e70be36,profiler: add python requests profile,MERGED,2023-04-03 09:28:07.000000000,2023-06-06 10:00:09.000000000,2023-06-06 09:59:07.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-04-03 09:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/f9930897903a151e4d79f16e305dcb053eb9d3bf', 'message': 'profiler: add python requests profile\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I00e9f5661a3bd54acc846e8c326896d21e70be36\n'}, {'number': 2, 'created': '2023-04-04 08:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/cfe1a5e1884bc5facfd4a7bdc463c33636517813', 'message': 'profiler: add python requests profile\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I00e9f5661a3bd54acc846e8c326896d21e70be36\n'}, {'number': 3, 'created': '2023-04-04 09:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/70f50721c6476af60c4a1aae45d15bba70f2e133', 'message': 'profiler: add python requests profile\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I00e9f5661a3bd54acc846e8c326896d21e70be36\n'}, {'number': 4, 'created': '2023-04-24 09:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/5f59735730ee745cd9462fe3002ef0d250941f56', 'message': 'profiler: add python requests profile\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I00e9f5661a3bd54acc846e8c326896d21e70be36\n'}, {'number': 5, 'created': '2023-04-24 13:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/a486f4fb72a3d124a744e6499b11fa7cfb476e14', 'message': 'profiler: add python requests profile\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I00e9f5661a3bd54acc846e8c326896d21e70be36\n'}, {'number': 6, 'created': '2023-04-24 15:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/a4816b573c728c5ca58851469f524de28f05623b', 'message': 'profiler: add python requests profile\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I00e9f5661a3bd54acc846e8c326896d21e70be36\n'}, {'number': 7, 'created': '2023-04-25 09:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/5f82bd54309155d8b7cfde31517af1b72838471a', 'message': 'profiler: add python requests profile\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I00e9f5661a3bd54acc846e8c326896d21e70be36\n'}, {'number': 8, 'created': '2023-04-25 12:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/4804ab0a6f13e616f872bdd3db4b208617caf465', 'message': 'profiler: add python requests profile\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I00e9f5661a3bd54acc846e8c326896d21e70be36\n'}, {'number': 9, 'created': '2023-05-03 09:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/67ab3a6bee9fabaab982eb39a2c640415c993058', 'message': 'profiler: add python requests profile\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I00e9f5661a3bd54acc846e8c326896d21e70be36\n'}, {'number': 10, 'created': '2023-05-10 08:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/4ee44ddabc32eca71df61ccf8e3c5620d9742697', 'message': 'profiler: add python requests profile\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I00e9f5661a3bd54acc846e8c326896d21e70be36\n'}, {'number': 11, 'created': '2023-05-10 09:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/196c9b53145e38a82ed2eead53b4d4aef3a8de66', 'message': 'profiler: add python requests profile\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I00e9f5661a3bd54acc846e8c326896d21e70be36\n'}, {'number': 12, 'created': '2023-06-01 06:44:16.000000000', 'files': ['osprofiler/opts.py', 'osprofiler/initializer.py', 'osprofiler/requests.py', 'releasenotes/notes/add-requests-profiling-761e09f243d36966.yaml', 'doc/source/user/integration.rst', 'osprofiler/drivers/otlp.py'], 'web_link': 'https://opendev.org/openstack/osprofiler/commit/3c5feadda223ed8dd7d1dcce6c998ed48e0c6b7f', 'message': 'profiler: add python requests profile\n\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: I00e9f5661a3bd54acc846e8c326896d21e70be36\n'}]",29,879318,3c5feadda223ed8dd7d1dcce6c998ed48e0c6b7f,36,3,12,7730,,,0,"profiler: add python requests profile

Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: I00e9f5661a3bd54acc846e8c326896d21e70be36
",git fetch https://review.opendev.org/openstack/osprofiler refs/changes/18/879318/10 && git format-patch -1 --stdout FETCH_HEAD,"['osprofiler/drivers/jaeger.py', 'osprofiler/opts.py', 'osprofiler/initializer.py', 'osprofiler/requests.py', 'releasenotes/notes/add-requests-profiling-761e09f243d36966.yaml', 'osprofiler/drivers/jaeger_otlp.py']",6,f9930897903a151e4d79f16e305dcb053eb9d3bf,opentelemetry," elif (""db"" in name or ""http"" in name or ""api"" in name): return ""WSGI_{}_{}"".format( elif info.get(""requests""): return ""HTTP_{}_{}"".format( info[""requests""][""method""], info[""requests""][""hostname""]) # Store result of requests if payload.get(""info"", {}).get(""requests""): span.set_attribute( ""status_code"", payload[""info""][""requests""][""status_code""])"," elif (""db"" in name or ""http_client"" in name or ""api"" in name): return ""{}_{}"".format(",106,2
openstack%2Fneutron~stable%2Fvictoria~I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f,openstack/neutron,stable/victoria,I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f,Start metadata proxy even if IPv6 DAD fails,MERGED,2023-06-05 10:18:44.000000000,2023-06-06 09:40:48.000000000,2023-06-06 09:39:34.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 10:18:44.000000000', 'files': ['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/31abe8bd1282467bbbfe5b6fea37b1f2ae559919', 'message': 'Start metadata proxy even if IPv6 DAD fails\n\nA recent change suppressed the IPv6 DAD failure and\nremoved the address when multiple DHCP agents were\nconfigured on the same network,\nhttps://review.opendev.org/c/openstack/neutron/+/880957\n\nBut it also changed the behavior to not enable IPv4\nmetadata in this case. Restore the old behavior by\nnot returning early in the DAD failure case. The callback\nthat builds the config file was moved until after\nthe address was bound to make the two steps more obvious.\n\nConflicts:\n    neutron/tests/unit/agent/metadata/test_driver.py\n\nRelated-bug: #1953165\nChange-Id: I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f\n(cherry picked from commit 846003c4379124de6ffb3628ef1feb12a62a9cfa)\n(cherry picked from commit e7f85abae6a46a115582b80d1909e3565d859e9b)\n(cherry picked from commit 1a711f399abebff6572551ef4e3f7b92397caab5)\n'}]",3,885274,31abe8bd1282467bbbfe5b6fea37b1f2ae559919,13,3,1,16688,,,0,"Start metadata proxy even if IPv6 DAD fails

A recent change suppressed the IPv6 DAD failure and
removed the address when multiple DHCP agents were
configured on the same network,
https://review.opendev.org/c/openstack/neutron/+/880957

But it also changed the behavior to not enable IPv4
metadata in this case. Restore the old behavior by
not returning early in the DAD failure case. The callback
that builds the config file was moved until after
the address was bound to make the two steps more obvious.

Conflicts:
    neutron/tests/unit/agent/metadata/test_driver.py

Related-bug: #1953165
Change-Id: I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f
(cherry picked from commit 846003c4379124de6ffb3628ef1feb12a62a9cfa)
(cherry picked from commit e7f85abae6a46a115582b80d1909e3565d859e9b)
(cherry picked from commit 1a711f399abebff6572551ef4e3f7b92397caab5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/885274/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py']",2,31abe8bd1282467bbbfe5b6fea37b1f2ae559919,bug/1953165," # Do not use the address or interface when DAD fails bind_address_v6 = bind_interface = None uuid = network_id or router_id callback = cls._get_metadata_proxy_callback( bind_address, port, conf, network_id=network_id, router_id=router_id, bind_address_v6=bind_address_v6, bind_interface=bind_interface) pm = cls._get_metadata_proxy_process_manager(uuid, conf, ns_name=ns_name, callback=callback)"," uuid = network_id or router_id callback = cls._get_metadata_proxy_callback( bind_address, port, conf, network_id=network_id, router_id=router_id, bind_address_v6=bind_address_v6, bind_interface=bind_interface) pm = cls._get_metadata_proxy_process_manager(uuid, conf, ns_name=ns_name, callback=callback) return",30,26
openstack%2Fneutron~stable%2Fzed~Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3,openstack/neutron,stable/zed,Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3,"Change RBAC relationship loading method to ""joined""",MERGED,2023-06-03 17:04:45.000000000,2023-06-06 09:40:47.000000000,2023-06-06 09:39:23.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-03 17:04:45.000000000', 'files': ['neutron/db/qos/models.py', 'neutron/tests/unit/objects/test_securitygroup.py', 'neutron/db/models/address_group.py', 'neutron/db/models/securitygroup.py', 'neutron/db/models/address_scope.py', 'neutron/tests/unit/objects/test_address_group.py', 'neutron/db/models_v2.py', 'neutron/tests/unit/objects/test_rbac.py', 'neutron/tests/unit/objects/test_address_scope.py', 'neutron/tests/unit/objects/test_subnetpool.py', 'neutron/tests/unit/objects/test_network.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3b403bfee17267dfa36184d6be27ba973f068ee', 'message': 'Change RBAC relationship loading method to ""joined""\n\nThis patch changes all RBAC relationship method to ""joined"". This change\nenforces that the RBAC associated registers are loaded along with the\nparent resource. The rationale of this change is to be able to control\nthe SQL query executed; the subquery cannot be directly managed by\nNeutron.\n\nIt is very usual to create the RBAC rules from one single project that\nis usually the adminitrator project. That means all RBAC rules will\nbelong to it. Before this change, the SQL subquery performed to\nretrieve the RBAC entries was this (from a network query):\n\n  SELECT networks.id AS networks_id\n  FROM networks LEFT OUTER JOIN networkrbacs ON networks.id =\n  networkrbacs.object_id\n  WHERE networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action = \'access_as_external\'\n    AND networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\'\n    OR networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action IN (\'access_as_shared\', \'access_as_readonly\')\n    AND (networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\');\n\nThis SQL result has a very low cardinality; that means there are many\nduplicated registers. For example, with 10 external network, 1000\nprojects and 2500 RBAC rules, this query returns 1.4 million rows.\nInstead if a ""GROUP BY resource_id"" (in this case network_id) clause is\nadded, the number of rows is reduced to 10 (considering this project\nhas a RBAC per network).\n\nIn order to introduce this ""GROUP BY"" clause, this patch is changing\nthe loading method. The clause is added in a neutron-lib patch [1].\n\nThis change by itself does not improve the query performance. The\nneutron-lib patch is needed too. Although this patch does not modify\nque SQL query results, the tests added will prove that the neutron-lib\npatch does not introduce any regression.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878\n\nCloses-Bug: #1918145\nChange-Id: Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3\n(cherry picked from commit e9da29d16c474822c015996cf34e40005419146a)\n'}]",0,885173,d3b403bfee17267dfa36184d6be27ba973f068ee,9,3,1,16688,,,0,"Change RBAC relationship loading method to ""joined""

This patch changes all RBAC relationship method to ""joined"". This change
enforces that the RBAC associated registers are loaded along with the
parent resource. The rationale of this change is to be able to control
the SQL query executed; the subquery cannot be directly managed by
Neutron.

It is very usual to create the RBAC rules from one single project that
is usually the adminitrator project. That means all RBAC rules will
belong to it. Before this change, the SQL subquery performed to
retrieve the RBAC entries was this (from a network query):

  SELECT networks.id AS networks_id
  FROM networks LEFT OUTER JOIN networkrbacs ON networks.id =
  networkrbacs.object_id
  WHERE networks.project_id = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.action = 'access_as_external'
    AND networkrbacs.target_project = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.target_project = '*'
    OR networks.project_id = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.action IN ('access_as_shared', 'access_as_readonly')
    AND (networkrbacs.target_project = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.target_project = '*');

This SQL result has a very low cardinality; that means there are many
duplicated registers. For example, with 10 external network, 1000
projects and 2500 RBAC rules, this query returns 1.4 million rows.
Instead if a ""GROUP BY resource_id"" (in this case network_id) clause is
added, the number of rows is reduced to 10 (considering this project
has a RBAC per network).

In order to introduce this ""GROUP BY"" clause, this patch is changing
the loading method. The clause is added in a neutron-lib patch [1].

This change by itself does not improve the query performance. The
neutron-lib patch is needed too. Although this patch does not modify
que SQL query results, the tests added will prove that the neutron-lib
patch does not introduce any regression.

[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878

Closes-Bug: #1918145
Change-Id: Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3
(cherry picked from commit e9da29d16c474822c015996cf34e40005419146a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/885173/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/qos/models.py', 'neutron/tests/unit/objects/test_securitygroup.py', 'neutron/db/models/address_group.py', 'neutron/db/models/securitygroup.py', 'neutron/db/models/address_scope.py', 'neutron/db/models_v2.py', 'neutron/tests/unit/objects/test_address_group.py', 'neutron/tests/unit/objects/test_rbac.py', 'neutron/tests/unit/objects/test_address_scope.py', 'neutron/tests/unit/objects/test_subnetpool.py', 'neutron/tests/unit/objects/test_network.py']",11,d3b403bfee17267dfa36184d6be27ba973f068ee,bug/1918145,"from neutron_lib.api.definitions import availability_zone as az_def _parent_class = network.Network def _create_random_parent_object(self): objclass_fields = self.get_random_db_fields(self._parent_class) objclass_fields.pop(az_def.AZ_HINTS) _obj = self._parent_class(self.context, **objclass_fields) _obj.create() return _obj ",,57,8
openstack%2Fneutron~stable%2Fwallaby~I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f,openstack/neutron,stable/wallaby,I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f,Start metadata proxy even if IPv6 DAD fails,MERGED,2023-06-05 10:18:21.000000000,2023-06-06 09:40:45.000000000,2023-06-06 09:39:30.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 10:18:21.000000000', 'files': ['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/495ef9f37c0d87c7ca11308c347e46f481f19eab', 'message': 'Start metadata proxy even if IPv6 DAD fails\n\nA recent change suppressed the IPv6 DAD failure and\nremoved the address when multiple DHCP agents were\nconfigured on the same network,\nhttps://review.opendev.org/c/openstack/neutron/+/880957\n\nBut it also changed the behavior to not enable IPv4\nmetadata in this case. Restore the old behavior by\nnot returning early in the DAD failure case. The callback\nthat builds the config file was moved until after\nthe address was bound to make the two steps more obvious.\n\nConflicts:\n    neutron/tests/unit/agent/metadata/test_driver.py\n\nRelated-bug: #1953165\nChange-Id: I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f\n(cherry picked from commit 846003c4379124de6ffb3628ef1feb12a62a9cfa)\n(cherry picked from commit e7f85abae6a46a115582b80d1909e3565d859e9b)\n(cherry picked from commit 1a711f399abebff6572551ef4e3f7b92397caab5)\n'}]",0,885273,495ef9f37c0d87c7ca11308c347e46f481f19eab,9,3,1,16688,,,0,"Start metadata proxy even if IPv6 DAD fails

A recent change suppressed the IPv6 DAD failure and
removed the address when multiple DHCP agents were
configured on the same network,
https://review.opendev.org/c/openstack/neutron/+/880957

But it also changed the behavior to not enable IPv4
metadata in this case. Restore the old behavior by
not returning early in the DAD failure case. The callback
that builds the config file was moved until after
the address was bound to make the two steps more obvious.

Conflicts:
    neutron/tests/unit/agent/metadata/test_driver.py

Related-bug: #1953165
Change-Id: I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f
(cherry picked from commit 846003c4379124de6ffb3628ef1feb12a62a9cfa)
(cherry picked from commit e7f85abae6a46a115582b80d1909e3565d859e9b)
(cherry picked from commit 1a711f399abebff6572551ef4e3f7b92397caab5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/885273/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py']",2,495ef9f37c0d87c7ca11308c347e46f481f19eab,bug/1953165," # Do not use the address or interface when DAD fails bind_address_v6 = bind_interface = None uuid = network_id or router_id callback = cls._get_metadata_proxy_callback( bind_address, port, conf, network_id=network_id, router_id=router_id, bind_address_v6=bind_address_v6, bind_interface=bind_interface) pm = cls._get_metadata_proxy_process_manager(uuid, conf, ns_name=ns_name, callback=callback)"," uuid = network_id or router_id callback = cls._get_metadata_proxy_callback( bind_address, port, conf, network_id=network_id, router_id=router_id, bind_address_v6=bind_address_v6, bind_interface=bind_interface) pm = cls._get_metadata_proxy_process_manager(uuid, conf, ns_name=ns_name, callback=callback) return",30,26
openstack%2Fneutron~stable%2Fxena~I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f,openstack/neutron,stable/xena,I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f,Start metadata proxy even if IPv6 DAD fails,MERGED,2023-06-05 10:16:58.000000000,2023-06-06 09:40:43.000000000,2023-06-06 09:39:27.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 10:16:58.000000000', 'files': ['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/14b239b28048ffbb11322c9ed03ee5c22d84edbd', 'message': 'Start metadata proxy even if IPv6 DAD fails\n\nA recent change suppressed the IPv6 DAD failure and\nremoved the address when multiple DHCP agents were\nconfigured on the same network,\nhttps://review.opendev.org/c/openstack/neutron/+/880957\n\nBut it also changed the behavior to not enable IPv4\nmetadata in this case. Restore the old behavior by\nnot returning early in the DAD failure case. The callback\nthat builds the config file was moved until after\nthe address was bound to make the two steps more obvious.\n\nConflicts:\n    neutron/tests/unit/agent/metadata/test_driver.py\n\nRelated-bug: #1953165\nChange-Id: I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f\n(cherry picked from commit 846003c4379124de6ffb3628ef1feb12a62a9cfa)\n(cherry picked from commit e7f85abae6a46a115582b80d1909e3565d859e9b)\n(cherry picked from commit 1a711f399abebff6572551ef4e3f7b92397caab5)\n'}]",1,885271,14b239b28048ffbb11322c9ed03ee5c22d84edbd,9,3,1,16688,,,0,"Start metadata proxy even if IPv6 DAD fails

A recent change suppressed the IPv6 DAD failure and
removed the address when multiple DHCP agents were
configured on the same network,
https://review.opendev.org/c/openstack/neutron/+/880957

But it also changed the behavior to not enable IPv4
metadata in this case. Restore the old behavior by
not returning early in the DAD failure case. The callback
that builds the config file was moved until after
the address was bound to make the two steps more obvious.

Conflicts:
    neutron/tests/unit/agent/metadata/test_driver.py

Related-bug: #1953165
Change-Id: I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f
(cherry picked from commit 846003c4379124de6ffb3628ef1feb12a62a9cfa)
(cherry picked from commit e7f85abae6a46a115582b80d1909e3565d859e9b)
(cherry picked from commit 1a711f399abebff6572551ef4e3f7b92397caab5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/885271/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py']",2,14b239b28048ffbb11322c9ed03ee5c22d84edbd,bug/1953165," # Do not use the address or interface when DAD fails bind_address_v6 = bind_interface = None uuid = network_id or router_id callback = cls._get_metadata_proxy_callback( bind_address, port, conf, network_id=network_id, router_id=router_id, bind_address_v6=bind_address_v6, bind_interface=bind_interface) pm = cls._get_metadata_proxy_process_manager(uuid, conf, ns_name=ns_name, callback=callback)"," uuid = network_id or router_id callback = cls._get_metadata_proxy_callback( bind_address, port, conf, network_id=network_id, router_id=router_id, bind_address_v6=bind_address_v6, bind_interface=bind_interface) pm = cls._get_metadata_proxy_process_manager(uuid, conf, ns_name=ns_name, callback=callback) return",30,26
openstack%2Fcinder~stable%2Ftrain~Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79,openstack/cinder,stable/train,Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79,3PAR: Allow iSCSI driver to be enabled for Primera 4.2 onwards.,NEW,2021-12-07 14:30:13.000000000,2023-06-06 09:37:38.000000000,,"[{'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 29122}]","[{'number': 1, 'created': '2021-12-07 14:30:13.000000000', 'files': ['doc/source/configuration/block-storage/drivers/hpe-3par-driver.rst', 'cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'releasenotes/notes/hpe-3par-primera-add-iscsi-5af339643dfa0928.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4381b0c8c04bdabf702c846e0489e9326eb447d', 'message': '3PAR: Allow iSCSI driver to be enabled for Primera 4.2 onwards.\n\nFor HPE Primera 4.2 or higher versions, now iSCSI driver is\nsupported along with existing FC driver.\nAccordingly updated code and documentation.\n\nChange-Id: Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79\n(cherry picked from commit 6cabe11c9207376f905db3a0bcadf6d43e2c2af1)\n'}]",4,820629,a4381b0c8c04bdabf702c846e0489e9326eb447d,16,3,1,7130,,,0,"3PAR: Allow iSCSI driver to be enabled for Primera 4.2 onwards.

For HPE Primera 4.2 or higher versions, now iSCSI driver is
supported along with existing FC driver.
Accordingly updated code and documentation.

Change-Id: Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79
(cherry picked from commit 6cabe11c9207376f905db3a0bcadf6d43e2c2af1)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/820629/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/block-storage/drivers/hpe-3par-driver.rst', 'cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'releasenotes/notes/hpe-3par-primera-add-iscsi-5af339643dfa0928.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py']",4,a4381b0c8c04bdabf702c846e0489e9326eb447d,Ie2542fc4b21050c4f14aea67ea488d9f9eeaae79-stable/victoria-stable/ussuri-stable/train," is_primera=False, wsapi_version=wsapi_version_latest): _m_client.getWsApiVersion.return_value = wsapi_version def test_iscsi_primera_old(self): # primera 4.0.xx.yyy wsapi_version_primera_old = {'major': 1, 'build': 40000128, 'minor': 8, 'revision': 1} is_primera=True, wsapi_version=wsapi_version_primera_old) def test_iscsi_primera_new(self, config=None, mock_conf=None): # primera 4.2.xx.yyy wsapi_version_primera_new = {'major': 1, 'build': 40202010, 'minor': 8, 'revision': 1} self.ctxt = context.get_admin_context() mock_client = self.setup_mock_client( conf=config, m_conf=mock_conf, driver=hpedriver.HPE3PARISCSIDriver, is_primera=True, wsapi_version=wsapi_version_primera_new) expected_get_cpgs = [ mock.call.getCPG(HPE3PAR_CPG), mock.call.getCPG(HPE3PAR_CPG2)] expected_get_ports = [mock.call.getPorts()] expected_primera = [ mock.call.is_primera_array(), mock.call.getWsApiVersion()] mock_client.assert_has_calls( self.standard_login + expected_get_cpgs + self.standard_logout + expected_primera + self.standard_login + expected_get_ports + self.standard_logout)", is_primera=False): _m_client.getWsApiVersion.return_value = self.wsapi_version_latest def test_iscsi_primera(self): is_primera=True),65,11
openstack%2Freleases~master~I7e27e64316007ffc16eb4087205e2000ef28f040,openstack/releases,master,I7e27e64316007ffc16eb4087205e2000ef28f040,Retire puppet-rally,MERGED,2023-05-26 06:58:37.000000000,2023-06-06 09:24:22.000000000,2023-06-06 09:24:22.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 06:58:37.000000000', 'files': ['deliverables/zed/puppet-rally.yaml', 'deliverables/train/puppet-rally.yaml', 'deliverables/xena/puppet-rally.yaml', 'deliverables/antelope/puppet-rally.yaml', 'deliverables/yoga/puppet-rally.yaml', 'deliverables/ussuri/puppet-rally.yaml', 'deliverables/victoria/puppet-rally.yaml', 'deliverables/bobcat/puppet-rally.yaml', 'deliverables/wallaby/puppet-rally.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d92384fe2c567a4b4e245d271d6c852c271112a7', 'message': 'Retire puppet-rally\n\npuppet-rally has been retired[1]. This marks the project as retired and\nremove the file for 2023.2 because we no longer create a new release.\n\n[1] https://review.opendev.org/c/openstack/governance/+/880018/\n\nChange-Id: I7e27e64316007ffc16eb4087205e2000ef28f040\n'}]",1,884458,d92384fe2c567a4b4e245d271d6c852c271112a7,7,3,1,9816,,,0,"Retire puppet-rally

puppet-rally has been retired[1]. This marks the project as retired and
remove the file for 2023.2 because we no longer create a new release.

[1] https://review.opendev.org/c/openstack/governance/+/880018/

Change-Id: I7e27e64316007ffc16eb4087205e2000ef28f040
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/884458/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/zed/puppet-rally.yaml', 'deliverables/train/puppet-rally.yaml', 'deliverables/antelope/puppet-rally.yaml', 'deliverables/xena/puppet-rally.yaml', 'deliverables/ussuri/puppet-rally.yaml', 'deliverables/yoga/puppet-rally.yaml', 'deliverables/victoria/puppet-rally.yaml', 'deliverables/bobcat/puppet-rally.yaml', 'deliverables/wallaby/puppet-rally.yaml']",9,d92384fe2c567a4b4e245d271d6c852c271112a7,retire-puppet-rally, openstack/puppet-rally: flags: - retired, openstack/puppet-rally: {},24,15
openstack%2Fbarbican-tempest-plugin~master~Ib106f5e760d3a5253968e2fe13ec576107a98c74,openstack/barbican-tempest-plugin,master,Ib106f5e760d3a5253968e2fe13ec576107a98c74,Modify test_get_effective_quota test,MERGED,2023-06-01 09:13:43.000000000,2023-06-06 09:01:46.000000000,2023-06-06 09:01:46.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-06-01 09:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/747c5fe78e3bf17f7db2aa7c368815b6783430e6', 'message': '[DNM] Fixing srbac job\n\nChange-Id: Ib106f5e760d3a5253968e2fe13ec576107a98c74\n'}, {'number': 2, 'created': '2023-06-01 10:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/7729ef64620da3a1bfe0908d59d729080385d757', 'message': 'Modify test_get_effective_quota test\n\nThe test_get_effective_quotas test uses key-manager:service-admin\nlegacy role to get the effective quotas. Using a user with only this\nrole should lead to an ERROR in an SRBAC environment.\n\nThis patch changes the test so that it checks whether the ERROR\noccurred when the test tried to get quotas in SRBAC environment.\n\nAlso, auth.tempest_roles = member was removed from tempest.conf\nas it is not necessary and causes a failure of the modified\ntest and it might cause unwanted problems in the future.\n\nChange-Id: Ib106f5e760d3a5253968e2fe13ec576107a98c74\n'}, {'number': 3, 'created': '2023-06-01 10:33:00.000000000', 'files': ['barbican_tempest_plugin/tests/api/test_quotas.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/832692c4fb76dc6d0da903d1d7dd515bb7f669e0', 'message': 'Modify test_get_effective_quota test\n\nThe test_get_effective_quotas test uses key-manager:service-admin\nlegacy role to get the effective quotas. Using a user with only this\nrole should lead to an ERROR in an SRBAC environment.\n\nThis patch changes the test so that it checks whether the ERROR\noccurred when the test tried to get quotas in SRBAC environment.\n\nAlso, auth.tempest_roles = member was removed from tempest.conf\nas it is not necessary and causes a failure of the modified\ntest and it might cause unwanted problems in the future.\n\nChange-Id: Ib106f5e760d3a5253968e2fe13ec576107a98c74\n'}]",0,884991,832692c4fb76dc6d0da903d1d7dd515bb7f669e0,12,6,3,30674,,,0,"Modify test_get_effective_quota test

The test_get_effective_quotas test uses key-manager:service-admin
legacy role to get the effective quotas. Using a user with only this
role should lead to an ERROR in an SRBAC environment.

This patch changes the test so that it checks whether the ERROR
occurred when the test tried to get quotas in SRBAC environment.

Also, auth.tempest_roles = member was removed from tempest.conf
as it is not necessary and causes a failure of the modified
test and it might cause unwanted problems in the future.

Change-Id: Ib106f5e760d3a5253968e2fe13ec576107a98c74
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/91/884991/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,747c5fe78e3bf17f7db2aa7c368815b6783430e6,fix/test_quotas_test,, auth: tempest_roles: member,0,2
openstack%2Freleases~master~If386fe54e4c2a493eb4fe49bff3b7683c9c7fb00,openstack/releases,master,If386fe54e4c2a493eb4fe49bff3b7683c9c7fb00,Release puppet-ec2api for stable/xena,ABANDONED,2023-01-16 16:36:16.000000000,2023-06-06 08:56:41.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-16 16:36:16.000000000', 'files': ['deliverables/xena/puppet-ec2api.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b241fdde00bcd48db115f274ade9c5842ea0f260', 'message': 'Release puppet-ec2api for stable/xena\n\nThis release picks up new commits to puppet-ec2api since\nthe last release from stable/xena.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 19.4.0..f9d8d56\nf9d8d56 setuptools: Disable auto discovery\n3f353f2 Update TOX_CONSTRAINTS_FILE for stable/xena\n8445ea1 Update .gitreview for stable/xena\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: If386fe54e4c2a493eb4fe49bff3b7683c9c7fb00\n'}]",0,870648,b241fdde00bcd48db115f274ade9c5842ea0f260,3,2,1,28522,,,0,"Release puppet-ec2api for stable/xena

This release picks up new commits to puppet-ec2api since
the last release from stable/xena.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 19.4.0..f9d8d56
f9d8d56 setuptools: Disable auto discovery
3f353f2 Update TOX_CONSTRAINTS_FILE for stable/xena
8445ea1 Update .gitreview for stable/xena

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: If386fe54e4c2a493eb4fe49bff3b7683c9c7fb00
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/870648/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/puppet-ec2api.yaml'],1,b241fdde00bcd48db115f274ade9c5842ea0f260,xena-stable, - version: 19.4.1 projects: - repo: openstack/puppet-ec2api hash: f9d8d562638fa217944c1c7deb7d4711d0de9613,,4,0
openstack%2Freleases~master~Id2f3e0c3d701e9f905925d7498eee0424b46a608,openstack/releases,master,Id2f3e0c3d701e9f905925d7498eee0424b46a608,Release puppet-freezer for stable/xena,ABANDONED,2023-01-16 16:36:35.000000000,2023-06-06 08:55:48.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-16 16:36:35.000000000', 'files': ['deliverables/xena/puppet-freezer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9ef00ef25ccc5ba6bee84932fab55353a3a17be3', 'message': 'Release puppet-freezer for stable/xena\n\nThis release picks up new commits to puppet-freezer since\nthe last release from stable/xena.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 19.1.0..bd33b10\nbd33b10 Retire puppet-freezer - Step 2: Remove Project Content\n5657a55 Prepare Xena M3\n9474288 Support Puppet 7\n2d74e1d Prepare Xena M2\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Id2f3e0c3d701e9f905925d7498eee0424b46a608\n'}]",0,870649,9ef00ef25ccc5ba6bee84932fab55353a3a17be3,3,2,1,28522,,,0,"Release puppet-freezer for stable/xena

This release picks up new commits to puppet-freezer since
the last release from stable/xena.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 19.1.0..bd33b10
bd33b10 Retire puppet-freezer - Step 2: Remove Project Content
5657a55 Prepare Xena M3
9474288 Support Puppet 7
2d74e1d Prepare Xena M2

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Id2f3e0c3d701e9f905925d7498eee0424b46a608
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/870649/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/puppet-freezer.yaml'],1,9ef00ef25ccc5ba6bee84932fab55353a3a17be3,xena-stable, - version: 19.1.1 projects: - repo: openstack/puppet-freezer hash: bd33b1037ed62286d3548f8e628a961c22c7e4e2,,4,0
openstack%2Freleases~master~I0d1cf8bedcb4944c9c14e2a51a8a674456a788ad,openstack/releases,master,I0d1cf8bedcb4944c9c14e2a51a8a674456a788ad,Release puppet-cloudkitty for stable/xena,ABANDONED,2023-01-16 16:35:40.000000000,2023-06-06 08:55:11.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-16 16:35:40.000000000', 'files': ['deliverables/xena/puppet-cloudkitty.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a72f2f86078629595e3f623471bac4eeb4a6a000', 'message': 'Release puppet-cloudkitty for stable/xena\n\nThis release picks up new commits to puppet-cloudkitty since\nthe last release from stable/xena.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 8.4.0..ee88388\nee88388 setuptools: Disable auto discovery\n9bd8cdf Update TOX_CONSTRAINTS_FILE for stable/xena\nfe5e0e2 Update .gitreview for stable/xena\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I0d1cf8bedcb4944c9c14e2a51a8a674456a788ad\n'}]",0,870646,a72f2f86078629595e3f623471bac4eeb4a6a000,3,2,1,28522,,,0,"Release puppet-cloudkitty for stable/xena

This release picks up new commits to puppet-cloudkitty since
the last release from stable/xena.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 8.4.0..ee88388
ee88388 setuptools: Disable auto discovery
9bd8cdf Update TOX_CONSTRAINTS_FILE for stable/xena
fe5e0e2 Update .gitreview for stable/xena

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I0d1cf8bedcb4944c9c14e2a51a8a674456a788ad
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/870646/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/puppet-cloudkitty.yaml'],1,a72f2f86078629595e3f623471bac4eeb4a6a000,xena-stable, - version: 8.4.1 projects: - repo: openstack/puppet-cloudkitty hash: ee88388a2d3f8076b6d75a0903b8889ca779980b,,4,0
openstack%2Freleases~master~I29d8568d5bc58fe9e0f9cfe35666375ba2a16e2c,openstack/releases,master,I29d8568d5bc58fe9e0f9cfe35666375ba2a16e2c,Release puppet-aodh for stable/xena,ABANDONED,2023-01-16 16:34:23.000000000,2023-06-06 08:54:51.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-16 16:34:23.000000000', 'files': ['deliverables/xena/puppet-aodh.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8ed5bd9f402e20bf92382b0f41821699bc1beda4', 'message': 'Release puppet-aodh for stable/xena\n\nThis release picks up new commits to puppet-aodh since\nthe last release from stable/xena.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 19.4.0..2521ec8\n2521ec8 setuptools: Disable auto discovery\n6e86b30 Use openstack_spec_helper from zuul checkout\ne3755b1 Update TOX_CONSTRAINTS_FILE for stable/xena\nc386783 Update .gitreview for stable/xena\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I29d8568d5bc58fe9e0f9cfe35666375ba2a16e2c\n'}]",0,870642,8ed5bd9f402e20bf92382b0f41821699bc1beda4,3,2,1,28522,,,0,"Release puppet-aodh for stable/xena

This release picks up new commits to puppet-aodh since
the last release from stable/xena.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 19.4.0..2521ec8
2521ec8 setuptools: Disable auto discovery
6e86b30 Use openstack_spec_helper from zuul checkout
e3755b1 Update TOX_CONSTRAINTS_FILE for stable/xena
c386783 Update .gitreview for stable/xena

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I29d8568d5bc58fe9e0f9cfe35666375ba2a16e2c
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/870642/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/puppet-aodh.yaml'],1,8ed5bd9f402e20bf92382b0f41821699bc1beda4,xena-stable, - version: 19.4.1 projects: - repo: openstack/puppet-aodh hash: 2521ec80a44b0750c7a261e59909f5d6ba82d936,,4,0
openstack%2Freleases~master~Iee32af0f4a6713d1a87333cdd156db6ace4ce1ae,openstack/releases,master,Iee32af0f4a6713d1a87333cdd156db6ace4ce1ae,Release puppet-magnum for stable/xena,ABANDONED,2023-01-16 16:39:21.000000000,2023-06-06 08:54:19.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-16 16:39:21.000000000', 'files': ['deliverables/xena/puppet-magnum.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0548841c4de8e047d705cc0822c5a34cf53c0984', 'message': 'Release puppet-magnum for stable/xena\n\nThis release picks up new commits to puppet-magnum since\nthe last release from stable/xena.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 19.4.0..867d769\n867d769 setuptools: Disable auto discovery\n411691c Update TOX_CONSTRAINTS_FILE for stable/xena\nbdd2dde Update .gitreview for stable/xena\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Iee32af0f4a6713d1a87333cdd156db6ace4ce1ae\n'}]",0,870656,0548841c4de8e047d705cc0822c5a34cf53c0984,3,2,1,28522,,,0,"Release puppet-magnum for stable/xena

This release picks up new commits to puppet-magnum since
the last release from stable/xena.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

$ git log --oneline --no-merges 19.4.0..867d769
867d769 setuptools: Disable auto discovery
411691c Update TOX_CONSTRAINTS_FILE for stable/xena
bdd2dde Update .gitreview for stable/xena

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Iee32af0f4a6713d1a87333cdd156db6ace4ce1ae
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/870656/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/puppet-magnum.yaml'],1,0548841c4de8e047d705cc0822c5a34cf53c0984,xena-stable, - version: 19.4.1 projects: - repo: openstack/puppet-magnum hash: 867d769d6bff3d38f2461f5c17a2ebec00086c50,,4,0
openstack%2Fovn-bgp-agent~master~I5bc54092cbe3b6b2046987a74eb9e90306d3519b,openstack/ovn-bgp-agent,master,I5bc54092cbe3b6b2046987a74eb9e90306d3519b,[NB Driver] Ensure proper processing of LSP ports creation updates,MERGED,2023-06-05 08:51:15.000000000,2023-06-06 08:43:34.000000000,2023-06-06 08:42:32.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}]","[{'number': 1, 'created': '2023-06-05 08:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/bac019dde9d12146aabfca490b185f32c94985d4', 'message': '[NB Driver] Ensure proper processing of LSP ports creation updates\n\nIn case the chassis and up event come in different updates we\nneed to ensure the fields are set in the old row, as it was\nalready done on the Deletion event\n\nIn addition we increase a bit more the timeout for patch ports to\nappear\n\nChange-Id: I5bc54092cbe3b6b2046987a74eb9e90306d3519b\n'}, {'number': 2, 'created': '2023-06-05 09:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/9469ce4372a9b06673328accca90c20ef9451521', 'message': '[NB Driver] Ensure proper processing of LSP ports creation updates\n\nIn case the chassis and up event come in different updates we\nneed to ensure the fields are set in the old row, as it was\nalready done on the Deletion event\n\nIn addition it is decreasing the timeout for patch ports to\nappear as it not needed -- it was a wrong workaround\n\nChange-Id: I5bc54092cbe3b6b2046987a74eb9e90306d3519b\n'}, {'number': 3, 'created': '2023-06-05 09:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/aa67946769b8588a9ae0510e006c7de89f0103e0', 'message': '[NB Driver] Ensure proper processing of LSP ports creation updates\n\nIn case the chassis and up event come in different updates we\nneed to ensure the fields are set in the old row, as it was\nalready done on the Deletion event. We also need to make sure the\nup field is processed as a boolean to avoid false positives\n\nIn addition it is decreasing the timeout for patch ports to\nappear as it not needed -- it was a wrong workaround\n\nChange-Id: I5bc54092cbe3b6b2046987a74eb9e90306d3519b\n'}, {'number': 4, 'created': '2023-06-05 10:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/4661fa7d0bb46ac3d06712e119304d652a923ffb', 'message': '[NB Driver] Ensure proper processing of LSP ports creation updates\n\nIn case the chassis and up event come in different updates we\nneed to ensure the fields are set in the old row, as it was\nalready done on the Deletion event. We also need to make sure the\nup field is processed as a boolean to avoid false positives\n\nIn addition it is decreasing the timeout for patch ports to\nappear as it not needed -- it was a wrong workaround\n\nChange-Id: I5bc54092cbe3b6b2046987a74eb9e90306d3519b\n'}, {'number': 5, 'created': '2023-06-05 12:33:55.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/utils/wire.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/watchers/test_nb_bgp_watcher.py', 'ovn_bgp_agent/drivers/openstack/watchers/nb_bgp_watcher.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/8028e8f945ddfeabf61e07daf8536ea2f05ec47b', 'message': '[NB Driver] Ensure proper processing of LSP ports creation updates\n\nIn case the chassis and up event come in different updates we\nneed to ensure the fields are set in the old row, as it was\nalready done on the Deletion event. We also need to make sure the\nup field is processed as a boolean to avoid false positives\n\nIn addition it is decreasing the timeout for patch ports to\nappear as it not needed -- it was a wrong workaround\n\nCloses-Bug: #2022925\n\nChange-Id: I5bc54092cbe3b6b2046987a74eb9e90306d3519b\n'}]",2,885211,8028e8f945ddfeabf61e07daf8536ea2f05ec47b,19,4,5,23567,,,0,"[NB Driver] Ensure proper processing of LSP ports creation updates

In case the chassis and up event come in different updates we
need to ensure the fields are set in the old row, as it was
already done on the Deletion event. We also need to make sure the
up field is processed as a boolean to avoid false positives

In addition it is decreasing the timeout for patch ports to
appear as it not needed -- it was a wrong workaround

Closes-Bug: #2022925

Change-Id: I5bc54092cbe3b6b2046987a74eb9e90306d3519b
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/11/885211/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/utils/wire.py', 'ovn_bgp_agent/drivers/openstack/watchers/nb_bgp_watcher.py']",2,bac019dde9d12146aabfca490b185f32c94985d4,," if hasattr(old, 'options'): old_chassis = old.options.get(constants.OVN_REQUESTED_CHASSIS) if not old_chassis or current_chassis != old_chassis: return True if hasattr(old, 'up'): if not old.up: return True", old_chassis = old.options.get(constants.OVN_REQUESTED_CHASSIS) if (not old_chassis or current_chassis != old_chassis or not old.up): return True,9,5
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I3cfdb85879ee4bc214109b28a43f6bb7b2f8f760,openstack/tripleo-heat-templates,stable/wallaby,I3cfdb85879ee4bc214109b28a43f6bb7b2f8f760,Add CinderLVMConfigureVG,MERGED,2023-05-11 19:06:26.000000000,2023-06-06 08:04:26.000000000,2023-06-06 08:04:26.000000000,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 19:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d46064c0579d2b48843203bc01c3dd806398b0db', 'message': 'Add CinderCreateLVMLoopDevice\n\nAllow operator to skip lvm loopback creation as an operator might\nwant to use real lvm devices instead of the default loopback device.\n\nChange-Id: I3cfdb85879ee4bc214109b28a43f6bb7b2f8f760\n'}, {'number': 2, 'created': '2023-05-11 19:09:03.000000000', 'files': ['deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a05f26b5a210cd4a4961f29a9da293a7b4549f80', 'message': 'Add CinderLVMConfigureVG\n\nAllow operator to skip lvm loopback creation as an operator might\nwant to use real lvm devices instead of the default loopback device or\ndisable loopback creation altogether.\n\nChange-Id: I3cfdb85879ee4bc214109b28a43f6bb7b2f8f760\n'}]",2,882989,a05f26b5a210cd4a4961f29a9da293a7b4549f80,11,3,2,7130,,,0,"Add CinderLVMConfigureVG

Allow operator to skip lvm loopback creation as an operator might
want to use real lvm devices instead of the default loopback device or
disable loopback creation altogether.

Change-Id: I3cfdb85879ee4bc214109b28a43f6bb7b2f8f760
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/882989/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-common-container-puppet.yaml'],1,d46064c0579d2b48843203bc01c3dd806398b0db,," CinderLVMConfigureVG: default: true description: > Whether to configure the 'cinder-volumes' VG used by the LVM driver. When disabled (set to False), the LVM driver will work as long as the 'cinder-volumes' VG has been created through some other means. type: boolean cinder_configure_lvm: and: - {get_param: CinderLVMConfigureVG} - or: - {get_param: CinderEnableIscsiBackend} - {get_param: CinderEnableNVMeOFBackend} cinder_configure_lvm: {if: [cinder_configure_lvm, true, false]}"," cinder_lvm_driver_enabled: or: - {get_param: CinderEnableIscsiBackend} - {get_param: CinderEnableNVMeOFBackend} cinder_configure_lvm: {if: [cinder_lvm_driver_enabled, true, false]}",14,5
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I8e185cd6702c73b4adccf28e091427d8ed0a5cde,openstack/tripleo-heat-templates,stable/wallaby,I8e185cd6702c73b4adccf28e091427d8ed0a5cde,Adds env file to specify larger size for CinderLVMLoopDeviceSize,NEW,2023-06-05 09:57:36.000000000,2023-06-06 08:03:26.000000000,,"[{'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 09:57:36.000000000', 'files': ['ci/environments/cinder-lvm-loop-device-size.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3cdd2e686c3f17d3968bda12c91437243f5d7666', 'message': ""Adds env file to specify larger size for CinderLVMLoopDeviceSize\n\nWe are doing this because periodic standalone full tempest api compute fails test tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON as cinder's LVM backend is running out of space.\n\nRelated-Bug: #1864652\nChange-Id: I8e185cd6702c73b4adccf28e091427d8ed0a5cde\n""}]",1,885248,3cdd2e686c3f17d3968bda12c91437243f5d7666,3,2,1,32458,,,0,"Adds env file to specify larger size for CinderLVMLoopDeviceSize

We are doing this because periodic standalone full tempest api compute fails test tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON as cinder's LVM backend is running out of space.

Related-Bug: #1864652
Change-Id: I8e185cd6702c73b4adccf28e091427d8ed0a5cde
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/885248/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/cinder-lvm-loop-device-size.yaml'],1,3cdd2e686c3f17d3968bda12c91437243f5d7666,,parameter_defaults: CinderLVMLoopDeviceSize: 20560,,2,0
openstack%2Fpython-cyborgclient~master~I42a29c1bc37274fe0f08d1e5e90ff6091f92ca95,openstack/python-cyborgclient,master,I42a29c1bc37274fe0f08d1e5e90ff6091f92ca95,add unittest for delete device profile client api,MERGED,2023-05-29 07:50:35.000000000,2023-06-06 07:46:07.000000000,2023-06-06 07:44:23.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-05-29 07:50:35.000000000', 'files': ['cyborgclient/tests/unit/osc/v2/test_device_profile.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/ec3c9c4a63f75e08ce7030d1a3ad5d5e03696413', 'message': 'add unittest for delete device profile client api\n\nadd unittest for delete device profile client api\n\nChange-Id: I42a29c1bc37274fe0f08d1e5e90ff6091f92ca95\n'}]",0,884590,ec3c9c4a63f75e08ce7030d1a3ad5d5e03696413,7,2,1,30409,,,0,"add unittest for delete device profile client api

add unittest for delete device profile client api

Change-Id: I42a29c1bc37274fe0f08d1e5e90ff6091f92ca95
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/90/884590/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborgclient/tests/unit/osc/v2/test_device_profile.py'],1,ec3c9c4a63f75e08ce7030d1a3ad5d5e03696413,master1," class TestDeviceProfileDelete(TestDeviceProfile): def setUp(self): super(TestDeviceProfileDelete, self).setUp() self.cmd = osc_device_profile.DeleteDeviceProfile(self.app, None) def test_device_profile_delete(self): arglist = [acc_fakes.device_profile_uuid] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.mock_acc_client.delete_device_profile.assert_called_with( acc_fakes.device_profile_uuid, False)",,17,0
openstack%2Fpython-cyborgclient~master~I36d4e57cbd61e685cb687171f2fab99ef764fb72,openstack/python-cyborgclient,master,I36d4e57cbd61e685cb687171f2fab99ef764fb72,add unittest for delete accelerator request client api,MERGED,2023-05-29 07:54:58.000000000,2023-06-06 07:45:29.000000000,2023-06-06 07:44:22.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-05-29 07:54:58.000000000', 'files': ['cyborgclient/tests/unit/osc/v2/test_accelerator_request.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/354a1dc0baf2cfd2039f578a0c1d958169d8995a', 'message': 'add unittest for delete accelerator request client api\n\nadd unittest for delete accelerator request client api\n\nChange-Id: I36d4e57cbd61e685cb687171f2fab99ef764fb72\n'}]",0,884591,354a1dc0baf2cfd2039f578a0c1d958169d8995a,7,2,1,30409,,,0,"add unittest for delete accelerator request client api

add unittest for delete accelerator request client api

Change-Id: I36d4e57cbd61e685cb687171f2fab99ef764fb72
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/91/884591/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborgclient/tests/unit/osc/v2/test_accelerator_request.py'],1,354a1dc0baf2cfd2039f578a0c1d958169d8995a,master2," def test_accelerator_request_delete(self): arglist = [acc_fakes.accelerator_request_uuid] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.mock_acc_client.delete_accelerator_request.assert_called_with( acc_fakes.accelerator_request_uuid, False) ",,9,0
openstack%2Fci-log-processing~master~I010b380b143dfecfb51ae486105ed6cd4c13a513,openstack/ci-log-processing,master,I010b380b143dfecfb51ae486105ed6cd4c13a513,Change provided directory path in remove_old_dir function,MERGED,2023-06-06 07:11:17.000000000,2023-06-06 07:42:54.000000000,2023-06-06 07:42:03.000000000,"[{'_account_id': 6889}, {'_account_id': 9311}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-06 07:11:17.000000000', 'files': ['logscraper/logsender.py'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/79e3afb0c77c14a6560f3eb97d69161322a4fbbc', 'message': 'Change provided directory path in remove_old_dir function\n\nThe logsender tool wants to remove a directory like:\n\n    /mnt/logscraper/openstack/uuid/uuid\n\nthat does not exists.\n\nChange-Id: I010b380b143dfecfb51ae486105ed6cd4c13a513\n'}]",0,885340,79e3afb0c77c14a6560f3eb97d69161322a4fbbc,8,4,1,20676,,,0,"Change provided directory path in remove_old_dir function

The logsender tool wants to remove a directory like:

    /mnt/logscraper/openstack/uuid/uuid

that does not exists.

Change-Id: I010b380b143dfecfb51ae486105ed6cd4c13a513
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/40/885340/1 && git format-patch -1 --stdout FETCH_HEAD,['logscraper/logsender.py'],1,79e3afb0c77c14a6560f3eb97d69161322a4fbbc,,"def remove_old_dir(build_dir_path, build_uuid, files): build_age = (Path(build_dir_path)).stat().st_mtime ""changed for 12 hours."", build_uuid) # NOTE: skip checking main download dir if root == directory: continue build_uuid = os.path.basename(root)","def remove_old_dir(root, build_uuid, files): build_dir_path = ""%s/%s"" % (root, build_uuid) build_age = (Path(root) / build_uuid).stat().st_mtime ""changed for 12 hours."" % build_uuid) build_uuid = root.split('/')[-1]",8,5
openstack%2Fpython-saharaclient~master~I53f31d42d3c85f6195ddd4b3197766547958cda8,openstack/python-saharaclient,master,I53f31d42d3c85f6195ddd4b3197766547958cda8,setup.cfg: Replace dashes with underscores,MERGED,2021-10-25 08:22:09.000000000,2023-06-06 07:39:08.000000000,2023-06-06 07:39:08.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 29423}, {'_account_id': 30077}, {'_account_id': 33353}]","[{'number': 1, 'created': '2021-10-25 08:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/1e1a7c008e12893b167b140015cb286692751f0f', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I53f31d42d3c85f6195ddd4b3197766547958cda8\n""}, {'number': 2, 'created': '2022-03-19 00:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/a934684057a1d1349193bcdf66a16fb6cc0028ea', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I53f31d42d3c85f6195ddd4b3197766547958cda8\n""}, {'number': 3, 'created': '2022-07-07 01:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/f43dfeb08bcc1bf323bb4919ba19ce216974138e', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I53f31d42d3c85f6195ddd4b3197766547958cda8\n""}, {'number': 4, 'created': '2022-07-15 02:33:18.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/e455855bfd6a467d1a18e8eebc9bf165fcd82251', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I53f31d42d3c85f6195ddd4b3197766547958cda8\n""}]",3,815250,e455855bfd6a467d1a18e8eebc9bf165fcd82251,18,5,4,31412,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I53f31d42d3c85f6195ddd4b3197766547958cda8
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/50/815250/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1e1a7c008e12893b167b140015cb286692751f0f,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/python-saharaclient/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/python-saharaclient/latest/ python-requires = >=3.6,4,4
openstack%2Fvenus~master~Iee8f28a72ba756fc3f8ac7a10605ac5a133a76e6,openstack/venus,master,Iee8f28a72ba756fc3f8ac7a10605ac5a133a76e6,Supplement a unit test case for 'get_controller_extensions',MERGED,2023-05-25 06:41:43.000000000,2023-06-06 07:02:56.000000000,2023-06-06 07:02:02.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-05-25 06:41:43.000000000', 'files': ['venus/tests/unit/api/test_extensions.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/5e94c56872d58ff352b2999f029a23c908406f06', 'message': ""Supplement a unit test case for 'get_controller_extensions'\n\nthe test case for api.extensions.ExtensionDescriptor\n\nChange-Id: Iee8f28a72ba756fc3f8ac7a10605ac5a133a76e6\n""}]",0,884318,5e94c56872d58ff352b2999f029a23c908406f06,7,2,1,34340,,,0,"Supplement a unit test case for 'get_controller_extensions'

the test case for api.extensions.ExtensionDescriptor

Change-Id: Iee8f28a72ba756fc3f8ac7a10605ac5a133a76e6
",git fetch https://review.opendev.org/openstack/venus refs/changes/18/884318/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/tests/unit/api/test_extensions.py'],1,5e94c56872d58ff352b2999f029a23c908406f06,," def test_get_controller_extensions(self): result = self.extension_descriptor.get_controller_extensions() self.assertEqual(result, [])",,4,0
openstack%2Fneutron-fwaas-dashboard~master~Ie6d0aef6e2ea2dd7b328c362144bd0981f641ca9,openstack/neutron-fwaas-dashboard,master,Ie6d0aef6e2ea2dd7b328c362144bd0981f641ca9,remove unicode prefix from code,MERGED,2022-08-25 02:22:54.000000000,2023-06-06 06:12:44.000000000,2023-06-06 06:11:13.000000000,"[{'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-08-25 02:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/c706ff760f044874ec3a38aa8694959033318d9a', 'message': 'remove unicode prefix from code\n\nChange-Id: Ie6d0aef6e2ea2dd7b328c362144bd0981f641ca9\n'}, {'number': 2, 'created': '2022-08-25 02:23:51.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/ae031a2811f160efcd7bdd0ced7309913f6595c3', 'message': 'remove unicode prefix from code\n\nChange-Id: Ie6d0aef6e2ea2dd7b328c362144bd0981f641ca9\n'}]",0,854476,ae031a2811f160efcd7bdd0ced7309913f6595c3,10,2,2,35058,,,0,"remove unicode prefix from code

Change-Id: Ie6d0aef6e2ea2dd7b328c362144bd0981f641ca9
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/76/854476/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,c706ff760f044874ec3a38aa8694959033318d9a,,"project = 'Neutron FWaaS Dashboard' copyright = '2017, OpenStack Foundation' 'Neutron FWaaS Dashboard Documentation', 'Neutron Contributors', 'howto'),","project = u'Neutron FWaaS Dashboard' copyright = u'2017, OpenStack Foundation' u'Neutron FWaaS Dashboard Documentation', u'Neutron Contributors', 'howto'),",4,4
openstack%2Ftripleo-heat-templates~master~Ib06035bbf49f643770f864ce0e848d78457087e8,openstack/tripleo-heat-templates,master,Ib06035bbf49f643770f864ce0e848d78457087e8,Allow operators to disable containerized iscsid,NEW,2023-02-22 16:52:30.000000000,2023-06-06 04:30:44.000000000,,"[{'_account_id': 9535}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-22 16:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8957aed724323358622cbb066b94be85aaf2f82d', 'message': ""Allow operators to disable containerized iscsid\n\nIn some cases, like a server booting from multipath using iscsi,\nhaving the containerized iscsid service is not wanted and when\nnova-compute starts, it relabels /var/lib/iscsid to the container\ncontext which breaks iscsid service running directly on the compute.\nThis might not be a proper solution if the operator is also using\niscsid / multipath to provide volume service to guests and might\nrequire some aditionnal work in the sense that nova-compute\ncontainers might need to be allowed access to /var/lib/iscsid host\ncontext if that'd to happen.\n\nChange-Id: Ib06035bbf49f643770f864ce0e848d78457087e8\n""}, {'number': 2, 'created': '2023-02-22 17:49:15.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0121f6f862749b0197d56b2cffa8c52cff9024d4', 'message': ""Allow operators to disable containerized iscsid\n\nIn some cases, like a server booting from multipath using iscsi,\nhaving the containerized iscsid service is not wanted and when\nnova-compute starts, it relabels /var/lib/iscsid to the container\ncontext which breaks iscsid service running directly on the compute.\nThis might not be a proper solution if the operator is also using\niscsid / multipath to provide volume service to guests and might\nrequire some aditionnal work in the sense that nova-compute\ncontainers might need to be allowed access to /var/lib/iscsid host\ncontext if that'd to happen.\n\nChange-Id: Ib06035bbf49f643770f864ce0e848d78457087e8\nCloses-bug: #2008117\n""}]",5,874790,0121f6f862749b0197d56b2cffa8c52cff9024d4,8,3,2,7130,,,0,"Allow operators to disable containerized iscsid

In some cases, like a server booting from multipath using iscsi,
having the containerized iscsid service is not wanted and when
nova-compute starts, it relabels /var/lib/iscsid to the container
context which breaks iscsid service running directly on the compute.
This might not be a proper solution if the operator is also using
iscsid / multipath to provide volume service to guests and might
require some aditionnal work in the sense that nova-compute
containers might need to be allowed access to /var/lib/iscsid host
context if that'd to happen.

Change-Id: Ib06035bbf49f643770f864ce0e848d78457087e8
Closes-bug: #2008117
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/874790/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,8957aed724323358622cbb066b94be85aaf2f82d,container_iscsid, UseContainerizedIscsid: default: true description: Whether we are using containerized iscsid or not type: boolean - if: - {get_param: UseContainerizedIscsid} - - /var/lib/iscsi:/var/lib/iscsi:z - /var/lib/iscsi:/var/lib/iscsi, - /var/lib/iscsi:/var/lib/iscsi:z,8,1
openstack%2Fcinder~master~I4796dfeba974319c85a1fd6c902e412ef9e4ef18,openstack/cinder,master,I4796dfeba974319c85a1fd6c902e412ef9e4ef18,Remove six from nimble volume driver,MERGED,2023-05-04 15:17:15.000000000,2023-06-06 03:00:07.000000000,2023-06-05 19:56:16.000000000,"[{'_account_id': 9236}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 32238}, {'_account_id': 32761}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-05-04 15:17:15.000000000', 'files': ['cinder/volume/drivers/hpe/nimble.py', 'cinder/tests/unit/volume/drivers/hpe/test_nimble.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d5010b08ca5a5d9511e7e6b2e30f3085186cc02e', 'message': 'Remove six from nimble volume driver\n\nChange-Id: I4796dfeba974319c85a1fd6c902e412ef9e4ef18\n'}]",9,882327,d5010b08ca5a5d9511e7e6b2e30f3085186cc02e,67,7,1,4523,,,0,"Remove six from nimble volume driver

Change-Id: I4796dfeba974319c85a1fd6c902e412ef9e4ef18
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/882327/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hpe/nimble.py', 'cinder/tests/unit/volume/drivers/hpe/test_nimble.py']",2,d5010b08ca5a5d9511e7e6b2e30f3085186cc02e,,import http.client as http_client,from six.moves import http_client,23,24
openstack%2Fcyborg-tempest-plugin~master~I884c793ed1bff0ff0feff2ac0cb24fca514cccec,openstack/cyborg-tempest-plugin,master,I884c793ed1bff0ff0feff2ac0cb24fca514cccec,Use py3 as the default runtime for tox,NEW,2023-06-06 02:11:06.000000000,2023-06-06 02:21:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-06 02:11:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/c92d143dd1ce4b19a85720f60ca0aa0353462574', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I884c793ed1bff0ff0feff2ac0cb24fca514cccec\n'}]",0,885215,c92d143dd1ce4b19a85720f60ca0aa0353462574,2,1,1,35058,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I884c793ed1bff0ff0feff2ac0cb24fca514cccec
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/15/885215/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c92d143dd1ce4b19a85720f60ca0aa0353462574,,"envlist = py3,pep8","envlist = py39,pep8",1,1
openstack%2Fconstellations~master~Ibef2188b02ef5bbb594b4de11ebb7f11a0707f0c,openstack/constellations,master,Ibef2188b02ef5bbb594b4de11ebb7f11a0707f0c,setup.cfg: Replace dashes with underscores,NEW,2023-06-06 01:55:51.000000000,2023-06-06 02:04:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-06 01:55:51.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/constellations/commit/4b3c21fa1634a6c4ad8f18ba875d9d1ede165384', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ibef2188b02ef5bbb594b4de11ebb7f11a0707f0c\n""}]",0,885214,4b3c21fa1634a6c4ad8f18ba875d9d1ede165384,2,1,1,35058,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ibef2188b02ef5bbb594b4de11ebb7f11a0707f0c
",git fetch https://review.opendev.org/openstack/constellations refs/changes/14/885214/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,4b3c21fa1634a6c4ad8f18ba875d9d1ede165384,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/constellations/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/constellations/latest/,3,3
openstack%2Ftrove~master~I6a6c931f03a8fa205f6970f6076cdde2d362af0c,openstack/trove,master,I6a6c931f03a8fa205f6970f6076cdde2d362af0c,Add debug log for CI tests,ABANDONED,2023-05-22 12:00:51.000000000,2023-06-06 01:54:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-22 12:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/1d4280e4a76632a1526d2a7dd949c901a4364344', 'message': 'Add debug log for CI tests\n\nWhen the CI fails, specifically related to the Trove guest agent,\nwe are unable to find a way to debug it.\nthis patch collects system logs before it is deleted.\n\nChange-Id: I6a6c931f03a8fa205f6970f6076cdde2d362af0c\n'}, {'number': 2, 'created': '2023-05-22 14:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/142ab22b0be85b2b615129cc5cb39be16c6baf54', 'message': 'Add debug log for CI tests\n\nWhen the CI fails, specifically related to the Trove guest agent,\nwe are unable to find a way to debug it.\nthis patch collects system logs before it is deleted.\n\nChange-Id: I6a6c931f03a8fa205f6970f6076cdde2d362af0c\n'}, {'number': 3, 'created': '2023-05-22 15:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/21368c9c1c52173f41d48491b47e880658ee256b', 'message': 'Add debug log for CI tests\n\nWhen the CI fails, specifically related to the Trove guest agent,\nwe are unable to find a way to debug it.\nthis patch collects system logs before it is deleted.\n\nChange-Id: I6a6c931f03a8fa205f6970f6076cdde2d362af0c\n'}, {'number': 4, 'created': '2023-05-23 02:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f39c59f94f174eed76d60f35a14c9cbd0d62a65e', 'message': 'Add debug log for CI tests\n\nWhen the CI fails, specifically related to the Trove guest agent,\nwe are unable to find a way to debug it.\nthis patch collects system logs before it is deleted.\n\nChange-Id: I6a6c931f03a8fa205f6970f6076cdde2d362af0c\n'}, {'number': 5, 'created': '2023-05-23 04:01:33.000000000', 'files': ['playbooks/trove-get-log.yaml', 'zuul.d/projects.yaml', 'playbooks/get_log.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/ff29692a07b2612b8c91d82352febac8a0a4cac2', 'message': 'Add debug log for CI tests\n\nWhen the CI fails, specifically related to the Trove guest agent,\nwe are unable to find a way to debug it.\nthis patch collects system logs before it is deleted.\n\nChange-Id: I6a6c931f03a8fa205f6970f6076cdde2d362af0c\n'}]",0,883808,ff29692a07b2612b8c91d82352febac8a0a4cac2,16,1,5,26285,,,0,"Add debug log for CI tests

When the CI fails, specifically related to the Trove guest agent,
we are unable to find a way to debug it.
this patch collects system logs before it is deleted.

Change-Id: I6a6c931f03a8fa205f6970f6076cdde2d362af0c
",git fetch https://review.opendev.org/openstack/trove refs/changes/08/883808/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/trove-get-log.yaml', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml', 'tools/get_log.sh']",4,1d4280e4a76632a1526d2a7dd949c901a4364344,,#!/bin/bash set +o errexit copy_logs() { LOG_DIR=${LOG_DIR:-/tmp/logs} mkdir ${LOG_DIR}/system_configs/ df -h > ${LOG_DIR}/system_logs/df.txt free > ${LOG_DIR}/system_logs/free.txt lsblk > ${LOG_DIR}/system_logs/lsblk.txt mount > ${LOG_DIR}/system_logs/mount.txt env > ${LOG_DIR}/system_logs/env.txt systemctl status > ${LOG_DIR}/system_logs/systemctl_status.txt systemctl list-units --all > ${LOG_DIR}/system_logs/systemctl_units.txt systemctl list-unit-files > ${LOG_DIR}/system_logs/systemctl_unit_files.txt (set -x ip a ip m ip l ip r ip -6 r ip neigh ping -c 4 $(hostname) ping6 -c 4 $(hostname)) &> ${LOG_DIR}/system_logs/ip.txt } copy_logs,,44,6
openstack%2Fmanila~master~I18c4ac2d4134314da9df0d3e0b7d45acafce2b22,openstack/manila,master,I18c4ac2d4134314da9df0d3e0b7d45acafce2b22,Enhance quota documentation,MERGED,2023-05-26 00:01:01.000000000,2023-06-06 01:48:38.000000000,2023-06-06 01:47:34.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}, {'_account_id': 30407}]","[{'number': 1, 'created': '2023-05-26 00:01:01.000000000', 'files': ['doc/source/admin/shared-file-systems-quotas.rst', 'doc/source/admin/index.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/70ecf89cd94e2e9b0bdf81e2c479ed6907fb3714', 'message': 'Enhance quota documentation\n\nThese doc enhancements still use the ""manila""\nCLI/shell utility. It makes it easier to\nbackport to older branches. A future commit\nwill update all documentation to use OSC.\n\nChange-Id: I18c4ac2d4134314da9df0d3e0b7d45acafce2b22\nCloses-Bug: #1941057\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",2,884447,70ecf89cd94e2e9b0bdf81e2c479ed6907fb3714,14,4,1,16643,,,0,"Enhance quota documentation

These doc enhancements still use the ""manila""
CLI/shell utility. It makes it easier to
backport to older branches. A future commit
will update all documentation to use OSC.

Change-Id: I18c4ac2d4134314da9df0d3e0b7d45acafce2b22
Closes-Bug: #1941057
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/47/884447/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/shared-file-systems-quotas.rst', 'doc/source/admin/index.rst']",2,70ecf89cd94e2e9b0bdf81e2c479ed6907fb3714,bug/1941057, shared-file-systems-quotas.rst,,103,59
openstack%2Fmanila~master~If45d1eabb33b57440c8946a56b5af39447514792,openstack/manila,master,If45d1eabb33b57440c8946a56b5af39447514792,Update the generic driver 'Known restrictions' section,MERGED,2023-05-25 14:22:11.000000000,2023-06-05 23:03:31.000000000,2023-06-05 23:02:26.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 33301}, {'_account_id': 33648}]","[{'number': 1, 'created': '2023-05-25 14:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4548d16775fef41bb763a519b7a81ae0067b6965', 'message': ""Update the generic driver 'Known restirctions'\n\nThis change addresses some limitations for considering this\ndriver in a production deployment of OpenStack Manila.\n\nCloses-Bug: #1867950\nChange-Id: If45d1eabb33b57440c8946a56b5af39447514792\n""}, {'number': 2, 'created': '2023-05-25 14:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/03528d50f0214bffefc516828aea1697132e27af', 'message': ""Update the generic driver 'Known restrictions' section\n\nThis change addresses some limitations for considering this\ndriver in a production deployment of OpenStack Manila.\n\nCloses-Bug: #1867950\nChange-Id: If45d1eabb33b57440c8946a56b5af39447514792\n""}, {'number': 3, 'created': '2023-05-26 01:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9a2fa6ea392ad18e4873776dadf4cef481f2558e', 'message': ""Update the generic driver 'Known restrictions' section\n\nThis change addresses some limitations for considering this\ndriver in a production deployment of OpenStack Manila.\n\nCloses-Bug: #1867950\nChange-Id: If45d1eabb33b57440c8946a56b5af39447514792\n""}, {'number': 4, 'created': '2023-05-26 22:01:37.000000000', 'files': ['doc/source/admin/generic_driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/52445fde2eb4fe21a797a9be1a01c6605cb61c84', 'message': ""Update the generic driver 'Known restrictions' section\n\nThis change addresses some limitations for considering this\ndriver in a production deployment of OpenStack Manila.\n\nCloses-Bug: #1867950\nChange-Id: If45d1eabb33b57440c8946a56b5af39447514792\n""}]",12,884403,52445fde2eb4fe21a797a9be1a01c6605cb61c84,35,5,4,30025,,,0,"Update the generic driver 'Known restrictions' section

This change addresses some limitations for considering this
driver in a production deployment of OpenStack Manila.

Closes-Bug: #1867950
Change-Id: If45d1eabb33b57440c8946a56b5af39447514792
",git fetch https://review.opendev.org/openstack/manila refs/changes/03/884403/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/generic_driver.rst'],1,4548d16775fef41bb763a519b7a81ae0067b6965,,"- One of the limitations that severely affects availability in the cloud is the Single Point of Failure (SPOF) issue. The driver uses a Nova VM as its NAS (NFS/CIFS) server. If/When the server goes down, there is no way to continue serving data. Due to this SPOF, today's open source SVM solutions for multi-tenant manila service do not really constitute a viable alternative to using proprietary, vendor-supplied storage arrays or appliances that combine per-tenant virtualization and solid HA recovery mechanisms. They are useful as objects of reference and study but are not acceptable to operators of real life clouds whose customers will not tolerate having to wait for manual intervention to recover from unpredictable storage data path outages. - The generic driver assumes the manila-share service is running on a node where there is an integration bridge where it can plug in the service VM (nova instance in this case). This condition does not hold in a common deployment topology where manila-share is run on a controller node and networking services are run on a separate dedicated node. ",,17,0
openstack%2Fcharm-mysql-innodb-cluster~stable%2Fjammy~Ie63438cc8801224b0608203f7c935c430ef46045,openstack/charm-mysql-innodb-cluster,stable/jammy,Ie63438cc8801224b0608203f7c935c430ef46045,Fix status during db-router-relation-departed,NEW,2023-06-02 13:43:29.000000000,2023-06-05 22:59:55.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-02 13:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/7e3df1ac15b1fad8fa147339a1109a84ece5efd7', 'message': ""Fix status during db-router-relation-departed\n\nThe functions get_cluster_instance_mode() and\nget_cluster_status_text() should be able to return None if they can't\naccess the relevant status, but it's possible that keys may exist in the\nstatus and this causes KeyErrors.  This patch makes the functions more\nrobust such that they return None if the items don't exist.  This only\naffects reporting on the status line, rather than functionality in the\ncharm.\n\nChange-Id: Ie63438cc8801224b0608203f7c935c430ef46045\nCloses-Bug: #2020216\n(cherry picked from commit 2af9b1b4e933751b2ff794a035a6b603067ca0a9)\n""}, {'number': 2, 'created': '2023-06-05 19:15:40.000000000', 'files': ['unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/5a51a86ed5b6caaba71d62e105bc3f269022b14d', 'message': ""Fix status during db-router-relation-departed\n\nThe functions get_cluster_instance_mode() and\nget_cluster_status_text() should be able to return None if they can't\naccess the relevant status, but it's possible that keys may exist in the\nstatus and this causes KeyErrors.  This patch makes the functions more\nrobust such that they return None if the items don't exist.  This only\naffects reporting on the status line, rather than functionality in the\ncharm.\n\nChange-Id: Ie63438cc8801224b0608203f7c935c430ef46045\nCloses-Bug: #2020216\n(cherry picked from commit 2af9b1b4e933751b2ff794a035a6b603067ca0a9)\n""}]",3,885020,5a51a86ed5b6caaba71d62e105bc3f269022b14d,10,3,2,20870,,,0,"Fix status during db-router-relation-departed

The functions get_cluster_instance_mode() and
get_cluster_status_text() should be able to return None if they can't
access the relevant status, but it's possible that keys may exist in the
status and this causes KeyErrors.  This patch makes the functions more
robust such that they return None if the items don't exist.  This only
affects reporting on the status line, rather than functionality in the
charm.

Change-Id: Ie63438cc8801224b0608203f7c935c430ef46045
Closes-Bug: #2020216
(cherry picked from commit 2af9b1b4e933751b2ff794a035a6b603067ca0a9)
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/20/885020/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py']",2,7e3df1ac15b1fad8fa147339a1109a84ece5efd7,bug/2020216-stable/jammy," return None try: return _status[""defaultReplicaSet""][""statusText""] except KeyError: # BUG LP:#2020216 - as a failsafe, if either key is missing just # return None. pass return None try: return (_status[""defaultReplicaSet""][""topology""] [""{}:{}"".format(self.cluster_address, self.cluster_port)] [""mode""]) except KeyError: # BUG LP:#2020216 - during db-router-relation-departed the # address:port combination can be missing depending on the order of # the relations that fire during removal of this unit. Thus return # None in the case of a KeyError pass return None .format(self.get_cluster_status_text() or ""(empty)"")) .format(self.get_cluster_instance_mode() or ""(Unknown)"", self.get_cluster_status_text() or ""(empty)""))"," return return _status[""defaultReplicaSet""][""statusText""] return (_status[""defaultReplicaSet""][""topology""] [""{}:{}"".format(self.cluster_address, self.cluster_port)] [""mode""]) .format(self.get_cluster_status_text())) .format(self.get_cluster_instance_mode(), self.get_cluster_status_text()))",37,8
openstack%2Fpython-tripleoclient~master~I956bbdf9296d324b36737aab1c8b055311e1f928,openstack/python-tripleoclient,master,I956bbdf9296d324b36737aab1c8b055311e1f928,Validate keystone passwords if keystonepasswordregex is present,NEW,2023-05-30 18:26:29.000000000,2023-06-05 22:54:22.000000000,,"[{'_account_id': 4571}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 18:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0b5d68503345c8cb8f91f8f5bd28b90c0bb2f71a', 'message': ""Validate keystone passwords if keystonepasswordregex is present\n\nValidate keystone passwords if keystonepasswordregex is present as\nmany operator specify a password regex that doesn't match default\npassword generation and deployment breaks later on.\n\nChange-Id: I956bbdf9296d324b36737aab1c8b055311e1f928\n""}, {'number': 2, 'created': '2023-05-30 18:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/430945c77acde825b3409758e765b9230f6cd42a', 'message': ""Validate keystone passwords if keystonepasswordregex is present\n\nValidate keystone passwords if keystonepasswordregex is present as\nmany operator specify a password regex that doesn't match default\npassword generation and deployment breaks later on.\n\nChange-Id: I956bbdf9296d324b36737aab1c8b055311e1f928\n""}, {'number': 3, 'created': '2023-05-30 18:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/053830bdf1b23aa68c9d031ef4d41469cd889ef7', 'message': ""Validate keystone passwords if keystonepasswordregex is present\n\nValidate keystone passwords if keystonepasswordregex is present as\nmany operator specify a password regex that doesn't match default\npassword generation and deployment breaks later on.\n\nChange-Id: I956bbdf9296d324b36737aab1c8b055311e1f928\n""}, {'number': 4, 'created': '2023-05-30 18:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3b5175548da9d2578166a174b87bb310b130e86f', 'message': ""Validate keystone passwords if keystonepasswordregex is present\n\nValidate keystone passwords if keystonepasswordregex is present as\nmany operator specify a password regex that doesn't match default\npassword generation and deployment breaks later on.\n\nChange-Id: I956bbdf9296d324b36737aab1c8b055311e1f928\n""}, {'number': 5, 'created': '2023-06-05 14:48:58.000000000', 'files': ['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b7b0b45da39ee890443eb9ff55c3400830114702', 'message': ""Validate keystone passwords if keystonepasswordregex is present\n\nValidate keystone passwords if keystonepasswordregex is present as\nmany operator specify a password regex that doesn't match default\npassword generation and deployment breaks later on.\n\nChange-Id: I956bbdf9296d324b36737aab1c8b055311e1f928\nSolves: rhbz#2210350\n""}]",7,884765,b7b0b45da39ee890443eb9ff55c3400830114702,13,2,5,7130,,,0,"Validate keystone passwords if keystonepasswordregex is present

Validate keystone passwords if keystonepasswordregex is present as
many operator specify a password regex that doesn't match default
password generation and deployment breaks later on.

Change-Id: I956bbdf9296d324b36737aab1c8b055311e1f928
Solves: rhbz#2210350
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/65/884765/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",2,0b5d68503345c8cb8f91f8f5bd28b90c0bb2f71a,validate_password, utils.validate_password(env),,15,0
openstack%2Fdesignate~master~If67bd7121b98fddce77b3ae116dee48bd6464c63,openstack/designate,master,If67bd7121b98fddce77b3ae116dee48bd6464c63,Add basic managed records coverage,MERGED,2023-06-05 06:04:48.000000000,2023-06-05 22:45:34.000000000,2023-06-05 22:44:30.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-06-05 06:04:48.000000000', 'files': ['designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/a2bbd67e547f0d02c47386a09daaff7756be8e5c', 'message': 'Add basic managed records coverage\n\nChange-Id: If67bd7121b98fddce77b3ae116dee48bd6464c63\n'}]",2,884609,a2bbd67e547f0d02c47386a09daaff7756be8e5c,13,3,1,22623,,,0,"Add basic managed records coverage

Change-Id: If67bd7121b98fddce77b3ae116dee48bd6464c63
",git fetch https://review.opendev.org/openstack/designate refs/changes/09/884609/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/tests/test_central/test_service.py'],1,a2bbd67e547f0d02c47386a09daaff7756be8e5c,," def test_create_managed_records(self): zone = self.create_zone() recordsets = self.central_service.find_recordsets( self.admin_context, criterion={'zone_id': zone.id, 'type': 'A'} ) self.assertEqual(0, len(recordsets)) recordset_values = { 'zone_id': zone['id'], 'name': 'test.example.com.', 'type': 'A' } record_values = { 'data': '192.0.2.1', 'managed': True, 'managed_plugin_name': 'plugin', 'managed_plugin_type': 'plugin', 'managed_resource_type': 'instance', 'managed_resource_id': '521935cf-d5be-44a2-9f64-fb5a316a61d3' } self.central_service.create_managed_records( self.admin_context, zone['id'], records_values=[record_values], recordset_values=recordset_values, ) recordsets = self.central_service.find_recordsets( self.admin_context, criterion={'zone_id': zone.id, 'type': 'A'} ) self.assertEqual(1, len(recordsets)) self.assertEqual('test.example.com.', recordsets[0].name) self.assertEqual('A', recordsets[0].type) def test_create_managed_records_without_managed_data(self): zone = self.create_zone() recordsets = self.central_service.find_recordsets( self.admin_context, criterion={'zone_id': zone.id, 'type': 'A'} ) self.assertEqual(0, len(recordsets)) recordset_values = { 'zone_id': zone['id'], 'name': 'test.example.com.', 'type': 'A' } record_values = { 'data': '192.0.2.1', } self.central_service.create_managed_records( self.admin_context, zone['id'], records_values=[record_values], recordset_values=recordset_values, ) recordsets = self.central_service.find_recordsets( self.admin_context, criterion={'zone_id': zone.id, 'type': 'A'} ) self.assertEqual(1, len(recordsets)) self.assertEqual('test.example.com.', recordsets[0].name) self.assertEqual('A', recordsets[0].type) def test_delete_managed_records(self): context = self.get_admin_context() zone = self.create_zone(context=context) self.create_recordset(context=context, zone=zone) recordset_values = { 'zone_id': zone['id'], 'name': 'test.example.com.', 'type': 'A' } record_values = { 'data': '192.0.2.1', 'managed': True, 'managed_plugin_name': 'plugin', 'managed_plugin_type': 'plugin', 'managed_resource_type': 'instance', 'managed_resource_id': '7c0b3445-f69d-417b-9938-82a87220332e' } self.central_service.create_managed_records( context, zone['id'], records_values=[record_values], recordset_values=recordset_values, ) recordsets = self.central_service.find_recordsets( context, criterion={'zone_id': zone.id, 'type': 'A'} ) self.assertEqual(2, len(recordsets)) criterion = { 'managed': True, 'managed_plugin_name': 'plugin', 'managed_plugin_type': 'plugin', 'managed_resource_id': '7c0b3445-f69d-417b-9938-82a87220332e', 'managed_resource_type': 'instance' } context.edit_managed_records = True self.central_service.delete_managed_records( context, zone['id'], criterion ) recordsets = self.central_service.find_recordsets( context, criterion={'zone_id': zone.id, 'type': 'A'} ) self.assertEqual(1, len(recordsets)) def test_delete_managed_records_without_zone(self): context = self.get_admin_context() zone = self.create_zone(context=context) self.create_recordset(context=context, zone=zone) recordset_values = { 'zone_id': zone['id'], 'name': 'test.example.com.', 'type': 'A' } record_values = { 'data': '192.0.2.1', 'managed': True, 'managed_plugin_name': 'plugin', 'managed_plugin_type': 'plugin', 'managed_resource_type': 'instance', 'managed_resource_id': '7c0b3445-f69d-417b-9938-82a87220332e' } self.central_service.create_managed_records( context, zone['id'], records_values=[record_values], recordset_values=recordset_values, ) recordsets = self.central_service.find_recordsets( context, criterion={'zone_id': zone.id, 'type': 'A'} ) self.assertEqual(2, len(recordsets)) criterion = { 'managed': True, 'managed_plugin_name': 'plugin', 'managed_plugin_type': 'plugin', 'managed_resource_id': '7c0b3445-f69d-417b-9938-82a87220332e', 'managed_resource_type': 'instance' } context.edit_managed_records = True self.central_service.delete_managed_records( context, None, criterion ) recordsets = self.central_service.find_recordsets( context, criterion={'zone_id': zone.id, 'type': 'A'} ) self.assertEqual(1, len(recordsets)) ",,168,0
openstack%2Fneutron-tempest-plugin~master~I7d313a7afc60825885854eaa6de858b1f53e5e46,openstack/neutron-tempest-plugin,master,I7d313a7afc60825885854eaa6de858b1f53e5e46,"Don't use ""Zero-I/O mode"" in nc client in the TCP mode",MERGED,2023-05-30 13:49:09.000000000,2023-06-05 22:29:05.000000000,2023-06-05 22:29:05.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 13:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/81e9ab37f50aab080bf4f68ad9df4ed7144312d7', 'message': 'Don\'t use ""Zero-I/O mode"" in nc client\n\nIt seems that using ""Zero-I/O mode"" (""-z"" option) in nc client in tests\nis causing failures as in this mode ncat is not sending nor receiving\nany real data.\n\nCloses: rhbz#2211094\nChange-Id: I7d313a7afc60825885854eaa6de858b1f53e5e46\n'}, {'number': 2, 'created': '2023-05-31 12:00:04.000000000', 'files': ['neutron_tempest_plugin/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/dd5b0e6c48e4a027d1f3f1aa5fc34dc716d1d804', 'message': 'Don\'t use ""Zero-I/O mode"" in nc client in the TCP mode\n\nIt seems that using ""Zero-I/O mode"" (""-z"" option) in nc client is\nnecessary for the UDP tests but it is causing failures when it runs it TCP\nmode.\n\nCloses: rhbz#2211094\nChange-Id: I7d313a7afc60825885854eaa6de858b1f53e5e46\n'}]",7,884706,dd5b0e6c48e4a027d1f3f1aa5fc34dc716d1d804,18,5,2,11975,,,0,"Don't use ""Zero-I/O mode"" in nc client in the TCP mode

It seems that using ""Zero-I/O mode"" (""-z"" option) in nc client is
necessary for the UDP tests but it is causing failures when it runs it TCP
mode.

Closes: rhbz#2211094
Change-Id: I7d313a7afc60825885854eaa6de858b1f53e5e46
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/06/884706/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/base.py'],1,81e9ab37f50aab080bf4f68ad9df4ed7144312d7,bz/2211094," cmd = 'echo ""knock knock"" | nc -w 1 %(udp)s %(host)s %(port)s' % {","import refrom packaging import version as packaging_versiondef get_ncat_version(ssh_client=None): cmd = ""ncat --version 2>&1"" try: version_result = shell.execute(cmd, ssh_client=ssh_client).stdout except exceptions.ShellCommandFailed: m = None else: m = re.match(r""Ncat: Version ([\d.]+) *."", version_result) # NOTE(slaweq): by default lets assume we have ncat 7.60 which is in Ubuntu # 18.04 which is used on u/s gates return packaging_version.Version(m.group(1) if m else '7.60') cmd = 'echo ""knock knock"" | nc ' ncat_version = get_ncat_version(ssh_client=ssh_client) if ncat_version > packaging_version.Version('7.60'): cmd += '-z ' cmd += '-w 1 %(udp)s %(host)s %(port)s' % {",1,20
openstack%2Fswift~master~I63eab6d1546e59da460b72719445f21441110578,openstack/swift,master,I63eab6d1546e59da460b72719445f21441110578,doc: update the admin /info section,NEW,2023-06-01 00:01:52.000000000,2023-06-05 21:56:30.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 00:01:52.000000000', 'files': ['doc/source/middleware.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/6e26faac73144ae5c6e5e21634a470333e3d2f39', 'message': ""doc: update the admin /info section\n\nThe doc used to sed temp_url for swiftinfo in the parameter outputs.\nLater versions of swiftclient don't need this. It prints as excepted by\nswift. So let's update the docs.\n\nChange-Id: I63eab6d1546e59da460b72719445f21441110578\n""}]",1,884956,6e26faac73144ae5c6e5e21634a470333e3d2f39,3,2,1,7233,,,0,"doc: update the admin /info section

The doc used to sed temp_url for swiftinfo in the parameter outputs.
Later versions of swiftclient don't need this. It prints as excepted by
swift. So let's update the docs.

Change-Id: I63eab6d1546e59da460b72719445f21441110578
",git fetch https://review.opendev.org/openstack/swift refs/changes/56/884956/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/middleware.rst'],1,6e26faac73144ae5c6e5e21634a470333e3d2f39,document_info_admin, swift tempurl GET 3600 /info secret 2>/dev/null In older versions of python-swiftclient you may need to rename the output parameters:: ,,6,0
openstack%2Fkayobe~stable%2Fyoga~I643f54a67edfe22a3fd5c86f157bd1246d617399,openstack/kayobe,stable/yoga,I643f54a67edfe22a3fd5c86f157bd1246d617399,Install ncclient even in check mode,MERGED,2023-06-05 10:01:44.000000000,2023-06-05 21:02:38.000000000,2023-06-05 21:01:42.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-05 10:01:44.000000000', 'files': ['ansible/roles/junos-switch/tasks/main.yml', 'releasenotes/notes/ncclient-install-check-mode-0cfc7e846f3a978a.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8f3496cbea122db4e9e28c8ce201c735c59c6983', 'message': 'Install ncclient even in check mode\n\nWhen running `kayobe physical network configure --check` against Juniper\nswitches, Kayobe may fail with the following error:\n\n    Failed to import the required Python library (ncclient)\n\nThis is because the ncclient installation task is skipped by check mode.\n\nChange-Id: I643f54a67edfe22a3fd5c86f157bd1246d617399\n(cherry picked from commit 7b8abfb6693f1b1683a72e3e128049df30a2c49a)\n'}]",0,885254,8f3496cbea122db4e9e28c8ce201c735c59c6983,9,4,1,14826,,,0,"Install ncclient even in check mode

When running `kayobe physical network configure --check` against Juniper
switches, Kayobe may fail with the following error:

    Failed to import the required Python library (ncclient)

This is because the ncclient installation task is skipped by check mode.

Change-Id: I643f54a67edfe22a3fd5c86f157bd1246d617399
(cherry picked from commit 7b8abfb6693f1b1683a72e3e128049df30a2c49a)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/54/885254/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/junos-switch/tasks/main.yml', 'releasenotes/notes/ncclient-install-check-mode-0cfc7e846f3a978a.yaml']",2,8f3496cbea122db4e9e28c8ce201c735c59c6983,junos-check-mode-stable/yoga,--- fixes: - | Installs ``ncclient`` dependency for Juniper switch configuration when using Ansible check mode. ,,6,0
openstack%2Fproject-config~master~I230195392220fb103968c5d714ae572b4fafa582,openstack/project-config,master,I230195392220fb103968c5d714ae572b4fafa582,DNM Testing merge mode errors in Zuul configuration,NEW,2023-06-05 20:34:18.000000000,2023-06-05 20:34:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-05 20:34:18.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/41d80443bf19eba11864c92c02e6c67894f3b8ac', 'message': ""DNM Testing merge mode errors in Zuul configuration\n\nI'm not sure this will even work because Zuul won't check this\nspeculatively? And I don't want to merge this and start running noop\njobs against these repos. But lets see what happens.\n\nChange-Id: I230195392220fb103968c5d714ae572b4fafa582\n""}]",0,885316,41d80443bf19eba11864c92c02e6c67894f3b8ac,2,1,1,4146,,,0,"DNM Testing merge mode errors in Zuul configuration

I'm not sure this will even work because Zuul won't check this
speculatively? And I don't want to merge this and start running noop
jobs against these repos. But lets see what happens.

Change-Id: I230195392220fb103968c5d714ae572b4fafa582
",git fetch https://review.opendev.org/openstack/project-config refs/changes/16/885316/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,41d80443bf19eba11864c92c02e6c67894f3b8ac,check-merge-mode-errors, - project: name: ansible/ansible default-branch: devel merge-mode: merge third-party-check: jobs: - noop - project: name: pytest-dev/pytest-testinfra default-branch: devel merge-mode: merge third-party-check: jobs: - noop,,16,0
openstack%2Fkayobe~stable%2F2023.1~I643f54a67edfe22a3fd5c86f157bd1246d617399,openstack/kayobe,stable/2023.1,I643f54a67edfe22a3fd5c86f157bd1246d617399,Install ncclient even in check mode,MERGED,2023-06-05 10:01:26.000000000,2023-06-05 20:32:09.000000000,2023-06-05 20:31:07.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-05 10:01:26.000000000', 'files': ['ansible/roles/junos-switch/tasks/main.yml', 'releasenotes/notes/ncclient-install-check-mode-0cfc7e846f3a978a.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b460a50b865fb50a60a2210e5fe2d5ceda15c750', 'message': 'Install ncclient even in check mode\n\nWhen running `kayobe physical network configure --check` against Juniper\nswitches, Kayobe may fail with the following error:\n\n    Failed to import the required Python library (ncclient)\n\nThis is because the ncclient installation task is skipped by check mode.\n\nChange-Id: I643f54a67edfe22a3fd5c86f157bd1246d617399\n(cherry picked from commit 7b8abfb6693f1b1683a72e3e128049df30a2c49a)\n'}]",0,885252,b460a50b865fb50a60a2210e5fe2d5ceda15c750,9,4,1,14826,,,0,"Install ncclient even in check mode

When running `kayobe physical network configure --check` against Juniper
switches, Kayobe may fail with the following error:

    Failed to import the required Python library (ncclient)

This is because the ncclient installation task is skipped by check mode.

Change-Id: I643f54a67edfe22a3fd5c86f157bd1246d617399
(cherry picked from commit 7b8abfb6693f1b1683a72e3e128049df30a2c49a)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/52/885252/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/junos-switch/tasks/main.yml', 'releasenotes/notes/ncclient-install-check-mode-0cfc7e846f3a978a.yaml']",2,b460a50b865fb50a60a2210e5fe2d5ceda15c750,junos-check-mode-stable/2023.1,--- fixes: - | Installs ``ncclient`` dependency for Juniper switch configuration when using Ansible check mode. ,,6,0
openstack%2Fkayobe~stable%2Fzed~I643f54a67edfe22a3fd5c86f157bd1246d617399,openstack/kayobe,stable/zed,I643f54a67edfe22a3fd5c86f157bd1246d617399,Install ncclient even in check mode,MERGED,2023-06-05 10:01:36.000000000,2023-06-05 20:14:16.000000000,2023-06-05 20:13:17.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-05 10:01:36.000000000', 'files': ['ansible/roles/junos-switch/tasks/main.yml', 'releasenotes/notes/ncclient-install-check-mode-0cfc7e846f3a978a.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a9de74812c996f977f519f3cb0c5979cec0d0524', 'message': 'Install ncclient even in check mode\n\nWhen running `kayobe physical network configure --check` against Juniper\nswitches, Kayobe may fail with the following error:\n\n    Failed to import the required Python library (ncclient)\n\nThis is because the ncclient installation task is skipped by check mode.\n\nChange-Id: I643f54a67edfe22a3fd5c86f157bd1246d617399\n(cherry picked from commit 7b8abfb6693f1b1683a72e3e128049df30a2c49a)\n'}]",0,885253,a9de74812c996f977f519f3cb0c5979cec0d0524,9,4,1,14826,,,0,"Install ncclient even in check mode

When running `kayobe physical network configure --check` against Juniper
switches, Kayobe may fail with the following error:

    Failed to import the required Python library (ncclient)

This is because the ncclient installation task is skipped by check mode.

Change-Id: I643f54a67edfe22a3fd5c86f157bd1246d617399
(cherry picked from commit 7b8abfb6693f1b1683a72e3e128049df30a2c49a)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/53/885253/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/junos-switch/tasks/main.yml', 'releasenotes/notes/ncclient-install-check-mode-0cfc7e846f3a978a.yaml']",2,a9de74812c996f977f519f3cb0c5979cec0d0524,junos-check-mode-stable/zed,--- fixes: - | Installs ``ncclient`` dependency for Juniper switch configuration when using Ansible check mode. ,,6,0
openstack%2Fneutron~stable%2Fyoga~I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f,openstack/neutron,stable/yoga,I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f,Start metadata proxy even if IPv6 DAD fails,MERGED,2023-06-05 10:17:25.000000000,2023-06-05 19:57:27.000000000,2023-06-05 19:56:12.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 10:17:25.000000000', 'files': ['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b37a2f80ee11715643929e1af809aa9edd814ed0', 'message': 'Start metadata proxy even if IPv6 DAD fails\n\nA recent change suppressed the IPv6 DAD failure and\nremoved the address when multiple DHCP agents were\nconfigured on the same network,\nhttps://review.opendev.org/c/openstack/neutron/+/880957\n\nBut it also changed the behavior to not enable IPv4\nmetadata in this case. Restore the old behavior by\nnot returning early in the DAD failure case. The callback\nthat builds the config file was moved until after\nthe address was bound to make the two steps more obvious.\n\nConflicts:\n    neutron/tests/unit/agent/metadata/test_driver.py\n\nRelated-bug: #1953165\nChange-Id: I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f\n(cherry picked from commit 846003c4379124de6ffb3628ef1feb12a62a9cfa)\n(cherry picked from commit e7f85abae6a46a115582b80d1909e3565d859e9b)\n(cherry picked from commit 1a711f399abebff6572551ef4e3f7b92397caab5)\n'}]",0,885272,b37a2f80ee11715643929e1af809aa9edd814ed0,9,3,1,16688,,,0,"Start metadata proxy even if IPv6 DAD fails

A recent change suppressed the IPv6 DAD failure and
removed the address when multiple DHCP agents were
configured on the same network,
https://review.opendev.org/c/openstack/neutron/+/880957

But it also changed the behavior to not enable IPv4
metadata in this case. Restore the old behavior by
not returning early in the DAD failure case. The callback
that builds the config file was moved until after
the address was bound to make the two steps more obvious.

Conflicts:
    neutron/tests/unit/agent/metadata/test_driver.py

Related-bug: #1953165
Change-Id: I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f
(cherry picked from commit 846003c4379124de6ffb3628ef1feb12a62a9cfa)
(cherry picked from commit e7f85abae6a46a115582b80d1909e3565d859e9b)
(cherry picked from commit 1a711f399abebff6572551ef4e3f7b92397caab5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/885272/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py']",2,b37a2f80ee11715643929e1af809aa9edd814ed0,bug/1953165," # Do not use the address or interface when DAD fails bind_address_v6 = bind_interface = None uuid = network_id or router_id callback = cls._get_metadata_proxy_callback( bind_address, port, conf, network_id=network_id, router_id=router_id, bind_address_v6=bind_address_v6, bind_interface=bind_interface) pm = cls._get_metadata_proxy_process_manager(uuid, conf, ns_name=ns_name, callback=callback)"," uuid = network_id or router_id callback = cls._get_metadata_proxy_callback( bind_address, port, conf, network_id=network_id, router_id=router_id, bind_address_v6=bind_address_v6, bind_interface=bind_interface) pm = cls._get_metadata_proxy_process_manager(uuid, conf, ns_name=ns_name, callback=callback) return",30,26
openstack%2Fneutron~stable%2F2023.1~Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3,openstack/neutron,stable/2023.1,Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3,"Change RBAC relationship loading method to ""joined""",MERGED,2023-06-03 17:03:22.000000000,2023-06-05 19:57:19.000000000,2023-06-05 19:56:08.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-03 17:03:22.000000000', 'files': ['neutron/db/qos/models.py', 'neutron/tests/unit/objects/test_securitygroup.py', 'neutron/db/models/address_group.py', 'neutron/db/models/securitygroup.py', 'neutron/db/models/address_scope.py', 'neutron/tests/unit/objects/test_address_group.py', 'neutron/db/models_v2.py', 'neutron/tests/unit/objects/test_rbac.py', 'neutron/tests/unit/objects/test_address_scope.py', 'neutron/tests/unit/objects/test_subnetpool.py', 'neutron/tests/unit/objects/test_network.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/593939911c8c360b209e0c12c302ec68eee5bbca', 'message': 'Change RBAC relationship loading method to ""joined""\n\nThis patch changes all RBAC relationship method to ""joined"". This change\nenforces that the RBAC associated registers are loaded along with the\nparent resource. The rationale of this change is to be able to control\nthe SQL query executed; the subquery cannot be directly managed by\nNeutron.\n\nIt is very usual to create the RBAC rules from one single project that\nis usually the adminitrator project. That means all RBAC rules will\nbelong to it. Before this change, the SQL subquery performed to\nretrieve the RBAC entries was this (from a network query):\n\n  SELECT networks.id AS networks_id\n  FROM networks LEFT OUTER JOIN networkrbacs ON networks.id =\n  networkrbacs.object_id\n  WHERE networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action = \'access_as_external\'\n    AND networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\'\n    OR networks.project_id = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.action IN (\'access_as_shared\', \'access_as_readonly\')\n    AND (networkrbacs.target_project = \'bd133e2c499c4bf8aeb16206e31c3c20\'\n    OR networkrbacs.target_project = \'*\');\n\nThis SQL result has a very low cardinality; that means there are many\nduplicated registers. For example, with 10 external network, 1000\nprojects and 2500 RBAC rules, this query returns 1.4 million rows.\nInstead if a ""GROUP BY resource_id"" (in this case network_id) clause is\nadded, the number of rows is reduced to 10 (considering this project\nhas a RBAC per network).\n\nIn order to introduce this ""GROUP BY"" clause, this patch is changing\nthe loading method. The clause is added in a neutron-lib patch [1].\n\nThis change by itself does not improve the query performance. The\nneutron-lib patch is needed too. Although this patch does not modify\nque SQL query results, the tests added will prove that the neutron-lib\npatch does not introduce any regression.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878\n\nCloses-Bug: #1918145\nChange-Id: Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3\n(cherry picked from commit e9da29d16c474822c015996cf34e40005419146a)\n'}]",1,885172,593939911c8c360b209e0c12c302ec68eee5bbca,9,3,1,16688,,,0,"Change RBAC relationship loading method to ""joined""

This patch changes all RBAC relationship method to ""joined"". This change
enforces that the RBAC associated registers are loaded along with the
parent resource. The rationale of this change is to be able to control
the SQL query executed; the subquery cannot be directly managed by
Neutron.

It is very usual to create the RBAC rules from one single project that
is usually the adminitrator project. That means all RBAC rules will
belong to it. Before this change, the SQL subquery performed to
retrieve the RBAC entries was this (from a network query):

  SELECT networks.id AS networks_id
  FROM networks LEFT OUTER JOIN networkrbacs ON networks.id =
  networkrbacs.object_id
  WHERE networks.project_id = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.action = 'access_as_external'
    AND networkrbacs.target_project = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.target_project = '*'
    OR networks.project_id = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.action IN ('access_as_shared', 'access_as_readonly')
    AND (networkrbacs.target_project = 'bd133e2c499c4bf8aeb16206e31c3c20'
    OR networkrbacs.target_project = '*');

This SQL result has a very low cardinality; that means there are many
duplicated registers. For example, with 10 external network, 1000
projects and 2500 RBAC rules, this query returns 1.4 million rows.
Instead if a ""GROUP BY resource_id"" (in this case network_id) clause is
added, the number of rows is reduced to 10 (considering this project
has a RBAC per network).

In order to introduce this ""GROUP BY"" clause, this patch is changing
the loading method. The clause is added in a neutron-lib patch [1].

This change by itself does not improve the query performance. The
neutron-lib patch is needed too. Although this patch does not modify
que SQL query results, the tests added will prove that the neutron-lib
patch does not introduce any regression.

[1]https://review.opendev.org/c/openstack/neutron-lib/+/884878

Closes-Bug: #1918145
Change-Id: Ic6001bd5a57493b8befdf81a41eb0bd1c8022df3
(cherry picked from commit e9da29d16c474822c015996cf34e40005419146a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/885172/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/qos/models.py', 'neutron/tests/unit/objects/test_securitygroup.py', 'neutron/db/models/address_group.py', 'neutron/db/models/securitygroup.py', 'neutron/db/models/address_scope.py', 'neutron/db/models_v2.py', 'neutron/tests/unit/objects/test_address_group.py', 'neutron/tests/unit/objects/test_rbac.py', 'neutron/tests/unit/objects/test_address_scope.py', 'neutron/tests/unit/objects/test_subnetpool.py', 'neutron/tests/unit/objects/test_network.py']",11,593939911c8c360b209e0c12c302ec68eee5bbca,bug/1918145,"from neutron_lib.api.definitions import availability_zone as az_def _parent_class = network.Network def _create_random_parent_object(self): objclass_fields = self.get_random_db_fields(self._parent_class) objclass_fields.pop(az_def.AZ_HINTS) _obj = self._parent_class(self.context, **objclass_fields) _obj.create() return _obj ",,57,8
openstack%2Fneutron~stable%2Fzed~I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f,openstack/neutron,stable/zed,I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f,Start metadata proxy even if IPv6 DAD fails,MERGED,2023-06-05 10:12:27.000000000,2023-06-05 19:24:33.000000000,2023-06-05 19:23:24.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 10:12:27.000000000', 'files': ['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a711f399abebff6572551ef4e3f7b92397caab5', 'message': 'Start metadata proxy even if IPv6 DAD fails\n\nA recent change suppressed the IPv6 DAD failure and\nremoved the address when multiple DHCP agents were\nconfigured on the same network,\nhttps://review.opendev.org/c/openstack/neutron/+/880957\n\nBut it also changed the behavior to not enable IPv4\nmetadata in this case. Restore the old behavior by\nnot returning early in the DAD failure case. The callback\nthat builds the config file was moved until after\nthe address was bound to make the two steps more obvious.\n\nConflicts:\n    neutron/tests/unit/agent/metadata/test_driver.py\n\nRelated-bug: #1953165\nChange-Id: I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f\n(cherry picked from commit 846003c4379124de6ffb3628ef1feb12a62a9cfa)\n(cherry picked from commit e7f85abae6a46a115582b80d1909e3565d859e9b)\n'}]",2,885270,1a711f399abebff6572551ef4e3f7b92397caab5,9,3,1,16688,,,0,"Start metadata proxy even if IPv6 DAD fails

A recent change suppressed the IPv6 DAD failure and
removed the address when multiple DHCP agents were
configured on the same network,
https://review.opendev.org/c/openstack/neutron/+/880957

But it also changed the behavior to not enable IPv4
metadata in this case. Restore the old behavior by
not returning early in the DAD failure case. The callback
that builds the config file was moved until after
the address was bound to make the two steps more obvious.

Conflicts:
    neutron/tests/unit/agent/metadata/test_driver.py

Related-bug: #1953165
Change-Id: I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f
(cherry picked from commit 846003c4379124de6ffb3628ef1feb12a62a9cfa)
(cherry picked from commit e7f85abae6a46a115582b80d1909e3565d859e9b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/885270/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py']",2,1a711f399abebff6572551ef4e3f7b92397caab5,bug/1953165," # Do not use the address or interface when DAD fails bind_address_v6 = bind_interface = None uuid = network_id or router_id callback = cls._get_metadata_proxy_callback( bind_address, port, conf, network_id=network_id, router_id=router_id, bind_address_v6=bind_address_v6, bind_interface=bind_interface) pm = cls._get_metadata_proxy_process_manager(uuid, conf, ns_name=ns_name, callback=callback)"," uuid = network_id or router_id callback = cls._get_metadata_proxy_callback( bind_address, port, conf, network_id=network_id, router_id=router_id, bind_address_v6=bind_address_v6, bind_interface=bind_interface) pm = cls._get_metadata_proxy_process_manager(uuid, conf, ns_name=ns_name, callback=callback) return",30,26
openstack%2Fopenstack-helm-infra~master~Iacdfbd6418cbc7a7363125fac299bbe2232663d7,openstack/openstack-helm-infra,master,Iacdfbd6418cbc7a7363125fac299bbe2232663d7,Removing mlock file,ABANDONED,2023-06-05 18:48:16.000000000,2023-06-05 18:49:02.000000000,,[],"[{'number': 1, 'created': '2023-06-05 18:48:16.000000000', 'files': ['elasticsearch/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ecba12ec24c53d561c9d71c3e1a4ac924b6980e3', 'message': 'Removing mlock file\n\nChange-Id: Iacdfbd6418cbc7a7363125fac299bbe2232663d7\n'}]",0,885307,ecba12ec24c53d561c9d71c3e1a4ac924b6980e3,2,0,1,36078,,,0,"Removing mlock file

Change-Id: Iacdfbd6418cbc7a7363125fac299bbe2232663d7
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/07/885307/1 && git format-patch -1 --stdout FETCH_HEAD,['elasticsearch/values.yaml'],1,ecba12ec24c53d561c9d71c3e1a4ac924b6980e3,,, mlock: | elasticsearch soft memlock unlimited elasticsearch hard memlock unlimited,0,3
openstack%2Fdesignate~master~I82ee4da4ec2f2f1227c25d828fd61c435270e036,openstack/designate,master,I82ee4da4ec2f2f1227c25d828fd61c435270e036,Update notification handler sample,MERGED,2023-06-05 04:58:32.000000000,2023-06-05 18:45:57.000000000,2023-06-05 18:44:19.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-06-05 04:58:32.000000000', 'files': ['contrib/designate-ext-samplehandler/designate_ext_samplehandler/notification_handler/sample.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/0f054b35949364edbbfd58a0417a41346a0ab9cc', 'message': 'Update notification handler sample\n\nChange-Id: I82ee4da4ec2f2f1227c25d828fd61c435270e036\n'}]",1,884607,0f054b35949364edbbfd58a0417a41346a0ab9cc,8,3,1,22623,,,0,"Update notification handler sample

Change-Id: I82ee4da4ec2f2f1227c25d828fd61c435270e036
",git fetch https://review.opendev.org/openstack/designate refs/changes/07/884607/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/designate-ext-samplehandler/designate_ext_samplehandler/notification_handler/sample.py'],1,0f054b35949364edbbfd58a0417a41346a0ab9cc,," self.central_api.create_managed_records( context, zone_id, records_values=[record_values], recordset_values=recordset_values,","from designate.objects import Record self._create_or_update_recordset( context, [Record(**record_values)], **recordset_values",4,3
openstack%2Fdesignate~master~I267ecfe3288ae5ad7a7b5a5fdca0ab5f5e56b082,openstack/designate,master,I267ecfe3288ae5ad7a7b5a5fdca0ab5f5e56b082,Removing old archive code,MERGED,2023-06-05 04:55:59.000000000,2023-06-05 18:45:11.000000000,2023-06-05 18:44:15.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-06-05 04:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9308d728dac620f602fbab16cd9fd957ff148a78', 'message': 'Removing old archive code\n\nChange-Id: I267ecfe3288ae5ad7a7b5a5fdca0ab5f5e56b082\n'}, {'number': 2, 'created': '2023-06-05 05:03:43.000000000', 'files': ['contrib/consume.py', 'contrib/archive/backends/impl_ipa/auth.py', 'ipa-requirements.txt', 'contrib/archive/backends/impl_multi.py', 'contrib/archive/backends/impl_ipa/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/bf45ec737bbd48f62aef672f3580712faeff9be6', 'message': 'Removing old archive code\n\nChange-Id: I267ecfe3288ae5ad7a7b5a5fdca0ab5f5e56b082\n'}]",1,884606,bf45ec737bbd48f62aef672f3580712faeff9be6,9,3,2,22623,,,0,"Removing old archive code

Change-Id: I267ecfe3288ae5ad7a7b5a5fdca0ab5f5e56b082
",git fetch https://review.opendev.org/openstack/designate refs/changes/06/884606/2 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/consume.py', 'contrib/archive/backends/impl_ipa/auth.py', 'contrib/archive/backends/impl_multi.py', 'contrib/archive/backends/impl_ipa/__init__.py']",4,9308d728dac620f602fbab16cd9fd957ff148a78,,,"# Copyright 2014 Red Hat, Inc. # # Author: Rich Megginson <rmeggins@redhat.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import pprint import time from oslo_config import cfg from oslo_log import log as logging from oslo_serialization import jsonutils as json from oslo_utils import importutils import requests from designate.backend import base from designate import exceptions from designate.i18n import _LE LOG = logging.getLogger(__name__) IPA_DEFAULT_PORT = 443 class IPABaseError(exceptions.Backend): error_code = 500 error_type = 'unknown_ipa_error' class IPAAuthError(IPABaseError): error_type = 'authentication_error' # map of designate domain parameters to the corresponding # ipa parameter # NOTE: ipa manages serial, and does not honor # increment_serial=False - this means the designate serial # and the ipa serial will diverge if updates are made # using increment_serial=False domain2ipa = {'ttl': 'dnsttl', 'email': 'idnssoarname', 'serial': 'idnssoaserial', 'expire': 'idnssoaexpire', 'minimum': 'idnssoaminimum', 'refresh': 'idnssoarefresh', 'retry': 'idnssoaretry'} # map of designate record types to ipa rectype2iparectype = {'A': ('arecord', '%(data)s'), 'AAAA': ('aaaarecord', '%(data)s'), 'MX': ('mxrecord', '%(data)s'), 'CNAME': ('cnamerecord', '%(data)s'), 'TXT': ('txtrecord', '%(data)s'), 'SRV': ('srvrecord', '%(data)s'), 'NS': ('nsrecord', '%(data)s'), 'PTR': ('ptrrecord', '%(data)s'), 'SPF': ('spfrecord', '%(data)s'), 'SSHFP': ('sshfprecord', '%(data)s'), 'NAPTR': ('naptrrecord', '%(data)s'), 'CAA': ('caarecord', '%(data)s'), 'CERT': ('certrecord', '%(data)s'), } IPA_INVALID_DATA = 3009 IPA_NOT_FOUND = 4001 IPA_DUPLICATE = 4002 IPA_NO_CHANGES = 4202 class IPAUnknownError(IPABaseError): pass class IPACommunicationFailure(IPABaseError): error_type = 'communication_failure' pass class IPAInvalidData(IPABaseError): error_type = 'invalid_data' pass class IPADomainNotFound(IPABaseError): error_type = 'domain_not_found' pass class IPARecordNotFound(IPABaseError): error_type = 'record_not_found' pass class IPADuplicateDomain(IPABaseError): error_type = 'duplicate_domain' pass class IPADuplicateRecord(IPABaseError): error_type = 'duplicate_record' pass ipaerror2exception = { IPA_INVALID_DATA: { 'dnszone': IPAInvalidData, 'dnsrecord': IPAInvalidData }, IPA_NOT_FOUND: { 'dnszone': IPADomainNotFound, 'dnsrecord': IPARecordNotFound }, IPA_DUPLICATE: { 'dnszone': IPADuplicateDomain, 'dnsrecord': IPADuplicateRecord }, # NOTE: Designate will send updates with all fields # even if they have not changed value. If none of # the given values has changed, IPA will return # this error code - this can be ignored IPA_NO_CHANGES: { 'dnszone': None, 'dnsrecord': None } } def abs2rel_name(domain, rsetname): """"""convert rsetname from absolute form foo.bar.tld. to the name relative to the domain. For IPA, if domain is rsetname, then use ""@"" as the relative name. If rsetname does not end with a subset of the domain, the just return the raw rsetname """""" if rsetname.endswith(domain): idx = rsetname.rfind(domain) if idx == 0: rsetname = ""@"" elif idx > 0: rsetname = rsetname[:idx].rstrip(""."") return rsetname class IPABackend(base.Backend): __plugin_name__ = 'ipa' @classmethod def get_cfg_opts(cls): group = cfg.OptGroup( name='backend:ipa', title=""Configuration for IPA Backend"" ) opts = [ cfg.StrOpt('ipa-host', default='localhost.localdomain', help='IPA RPC listener host - must be FQDN'), cfg.IntOpt('ipa-port', default=IPA_DEFAULT_PORT, help='IPA RPC listener port'), cfg.StrOpt('ipa-client-keytab', help='Kerberos client keytab file'), cfg.StrOpt('ipa-auth-driver-class', default='designate.backend.impl_ipa.auth.IPAAuth', help='Class that implements the authentication ' 'driver for IPA'), cfg.StrOpt('ipa-ca-cert', help='CA certificate for use with https to IPA'), cfg.StrOpt('ipa-base-url', default='/ipa', help='Base URL for IPA RPC, relative to host[:port]'), cfg.StrOpt('ipa-json-url', default='/json', help='URL for IPA JSON RPC, relative to IPA base URL'), cfg.IntOpt('ipa-connect-retries', default=1, help='How many times Designate will attempt to retry ' 'the connection to IPA before giving up'), cfg.BoolOpt('ipa-force-ns-use', default=False, help='IPA requires that a specified ' 'name server or SOA MNAME is resolvable - if this ' 'option is set, Designate will force IPA to use a ' 'given name server even if it is not resolvable'), cfg.StrOpt('ipa-version', default='2.65', help='IPA RPC JSON version') ] return [(group, opts)] def start(self): LOG.debug('IPABackend start') self.request = requests.Session() authclassname = cfg.CONF[self.name].ipa_auth_driver_class authclass = importutils.import_class(authclassname) self.request.auth = ( authclass(cfg.CONF[self.name].ipa_client_keytab, cfg.CONF[self.name].ipa_host)) ipa_base_url = cfg.CONF[self.name].ipa_base_url if ipa_base_url.startswith(""http""): # full URL self.baseurl = ipa_base_url else: # assume relative to https://host[:port] self.baseurl = ""https://"" + cfg.CONF[self.name].ipa_host ipa_port = cfg.CONF[self.name].ipa_port if ipa_port != IPA_DEFAULT_PORT: self.baseurl += "":"" + str(ipa_port) self.baseurl += ipa_base_url ipa_json_url = cfg.CONF[self.name].ipa_json_url if ipa_json_url.startswith(""http""): # full URL self.jsonurl = ipa_json_url else: # assume relative to https://host[:port] self.jsonurl = self.baseurl + ipa_json_url xtra_hdrs = {'Content-Type': 'application/json', 'Referer': self.baseurl} self.request.headers.update(xtra_hdrs) self.request.verify = cfg.CONF[self.name].ipa_ca_cert self.ntries = cfg.CONF[self.name].ipa_connect_retries self.force = cfg.CONF[self.name].ipa_force_ns_use def create_zone(self, context, zone): LOG.debug('Create Zone %r' % zone) ipareq = {'method': 'dnszone_add', 'id': 0} params = [zone['name']] servers = self.central_service.get_zone_ns_records(self.admin_context) # just use the first one for zone creation - add the others # later, below - use force because designate assumes the NS # already exists somewhere, is resolvable, and already has # an A/AAAA record args = {'idnssoamname': servers[0]['name']} if self.force: args['force'] = True for dkey, ipakey in list(domain2ipa.items()): if dkey in zone: args[ipakey] = zone[dkey] ipareq['params'] = [params, args] self._call_and_handle_error(ipareq) # add NS records for all of the other servers if len(servers) > 1: ipareq = {'method': 'dnsrecord_add', 'id': 0} params = [zone['name'], ""@""] args = {'nsrecord': servers[1:]} if self.force: args['force'] = True ipareq['params'] = [params, args] self._call_and_handle_error(ipareq) def update_zone(self, context, zone): LOG.debug('Update Zone %r' % zone) ipareq = {'method': 'dnszone_mod', 'id': 0} params = [zone['name']] args = {} for dkey, ipakey in list(domain2ipa.items()): if dkey in zone: args[ipakey] = zone[dkey] ipareq['params'] = [params, args] self._call_and_handle_error(ipareq) def delete_zone(self, context, zone): LOG.debug('Delete Zone %r' % zone) ipareq = {'method': 'dnszone_del', 'id': 0} params = [zone['name']] args = {} ipareq['params'] = [params, args] self._call_and_handle_error(ipareq) def create_recordset(self, context, domain, recordset): LOG.debug('Discarding create_recordset call, not-applicable') def update_recordset(self, context, domain, recordset): LOG.debug('Update RecordSet %r / %r' % (domain, recordset)) # designate allows to update a recordset if there are no # records in it - we should ignore this case if not self._recset_has_records(context, recordset): LOG.debug('No records in %r / %r - skipping' % (domain, recordset)) return # The only thing IPA allows is to change the ttl, since that is # stored ""per recordset"" if 'ttl' not in recordset: return ipareq = {'method': 'dnsrecord_mod', 'id': 0} dname = domain['name'] rsetname = abs2rel_name(dname, recordset['name']) params = [domain['name'], rsetname] args = {'dnsttl': recordset['ttl']} ipareq['params'] = [params, args] self._call_and_handle_error(ipareq) def delete_recordset(self, context, domain, recordset): LOG.debug('Delete RecordSet %r / %r' % (domain, recordset)) # designate allows to delete a recordset if there are no # records in it - we should ignore this case if not self._recset_has_records(context, recordset): LOG.debug('No records in %r / %r - skipping' % (domain, recordset)) return ipareq = {'method': 'dnsrecord_mod', 'id': 0} dname = domain['name'] rsetname = abs2rel_name(dname, recordset['name']) params = [domain['name'], rsetname] rsettype = rectype2iparectype[recordset['type']][0] args = {rsettype: None} ipareq['params'] = [params, args] self._call_and_handle_error(ipareq) def create_record(self, context, domain, recordset, record): LOG.debug('Create Record %r / %r / %r' % (domain, recordset, record)) ipareq = {'method': 'dnsrecord_add', 'id': 0} params, args = self._rec_to_ipa_rec(domain, recordset, [record]) ipareq['params'] = [params, args] self._call_and_handle_error(ipareq) def update_record(self, context, domain, recordset, record): LOG.debug('Update Record %r / %r / %r' % (domain, recordset, record)) # for modify operations - IPA does not support a way to change # a particular field in a given record - e.g. for an MX record # with several values, IPA stores them like this: # name: ""server1.local."" # data: [""10 mx1.server1.local."", ""20 mx2.server1.local.""] # we could do a search of IPA, compare the values in the # returned array - but that adds an additional round trip # and is error prone # instead, we just get all of the current values and send # them in one big modify criteria = {'recordset_id': record['recordset_id']} reclist = self.central_service.find_records(self.admin_context, criteria) ipareq = {'method': 'dnsrecord_mod', 'id': 0} params, args = self._rec_to_ipa_rec(domain, recordset, reclist) ipareq['params'] = [params, args] self._call_and_handle_error(ipareq) def delete_record(self, context, domain, recordset, record): LOG.debug('Delete Record %r / %r / %r' % (domain, recordset, record)) ipareq = {'method': 'dnsrecord_del', 'id': 0} params, args = self._rec_to_ipa_rec(domain, recordset, [record]) args['del_all'] = 0 ipareq['params'] = [params, args] self._call_and_handle_error(ipareq) def ping(self, context): LOG.debug('Ping') # NOTE: This call will cause ipa to issue an error, but # 1) it should not throw an exception # 2) the response will indicate ipa is running # 3) the bandwidth usage is minimal ipareq = {'method': 'dnszone_show', 'id': 0} params = ['@'] args = {} ipareq['params'] = [params, args] retval = {'result': True} try: self._call_and_handle_error(ipareq) except Exception as e: retval = {'result': False, 'reason': str(e)} return retval def _rec_to_ipa_rec(self, domain, recordset, reclist): dname = domain['name'] rsetname = abs2rel_name(dname, recordset['name']) params = [dname, rsetname] rectype = recordset['type'] vals = [] for record in reclist: vals.append(rectype2iparectype[rectype][1] % record) args = {rectype2iparectype[rectype][0]: vals} ttl = recordset.get('ttl') or domain.get('ttl') if ttl is not None: args['dnsttl'] = ttl return params, args def _ipa_error_to_exception(self, resp, ipareq): exc = None if resp['error'] is None: return exc errcode = resp['error']['code'] method = ipareq['method'] methtype = method.split('_')[0] exclass = ipaerror2exception.get(errcode, {}).get(methtype, IPAUnknownError) if exclass: LOG.debug(""Error: ipa command [%s] returned error [%s]"" % (pprint.pformat(ipareq), pprint.pformat(resp))) elif errcode: # not mapped LOG.debug(""Ignoring IPA error code %d: %s"" % (errcode, pprint.pformat(resp))) return exclass def _call_and_handle_error(self, ipareq): if 'version' not in ipareq['params'][1]: ipareq['params'][1]['version'] = cfg.CONF[self.name].ipa_version need_reauth = False while True: status_code = 200 try: if need_reauth: self.request.auth.refresh_auth() rawresp = self.request.post(self.jsonurl, data=json.dumps(ipareq)) status_code = rawresp.status_code except IPAAuthError: status_code = 401 if status_code == 401: if self.ntries == 0: # persistent inability to auth LOG.error(_LE(""Error: could not authenticate to IPA - "" ""please check for correct keytab file"")) # reset for next time self.ntries = cfg.CONF[self.name].ipa_connect_retries raise IPACommunicationFailure() else: LOG.debug(""Refresh authentication"") need_reauth = True self.ntries -= 1 time.sleep(1) else: # successful - reset self.ntries = cfg.CONF[self.name].ipa_connect_retries break try: resp = json.loads(rawresp.text) except ValueError: # response was not json - some sort of error response LOG.debug(""Error: unknown error from IPA [%s]"" % rawresp.text) raise IPAUnknownError(""unable to process response from IPA"") # raise the appropriate exception, if error exclass = self._ipa_error_to_exception(resp, ipareq) if exclass: # could add additional info/message to exception here raise exclass() return resp def _recset_has_records(self, context, recordset): """"""Return True if the recordset has records, False otherwise"""""" criteria = {'recordset_id': recordset['id']} num = self.central_service.count_records(self.admin_context, criteria) return num > 0 ",0,691
openstack%2Fopenstack-helm-infra~master~Id522c77a4ffee102978230f90c1828f618a3cb6e,openstack/openstack-helm-infra,master,Id522c77a4ffee102978230f90c1828f618a3cb6e,Updating Elasticsearch and Kibana Helm Chart to v8.7.1,ABANDONED,2023-06-05 18:40:09.000000000,2023-06-05 18:41:38.000000000,,[],"[{'number': 1, 'created': '2023-06-05 18:40:09.000000000', 'files': ['elasticsearch/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/85c837a59d05bf5682be063160c5573a1a8c5c24', 'message': 'Updating Elasticsearch and Kibana Helm Chart to v8.7.1\n\nChange-Id: Id522c77a4ffee102978230f90c1828f618a3cb6e\n'}]",0,885306,85c837a59d05bf5682be063160c5573a1a8c5c24,2,0,1,36078,,,0,"Updating Elasticsearch and Kibana Helm Chart to v8.7.1

Change-Id: Id522c77a4ffee102978230f90c1828f618a3cb6e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/06/885306/1 && git format-patch -1 --stdout FETCH_HEAD,['elasticsearch/values.yaml'],1,85c837a59d05bf5682be063160c5573a1a8c5c24,,, mlock: | elasticsearch soft memlock unlimited elasticsearch hard memlock unlimited,0,3
openstack%2Fnova~master~I60971b58cf1f24bdb5d40f668e380ebfee2ac495,openstack/nova,master,I60971b58cf1f24bdb5d40f668e380ebfee2ac495,ironic: Let Ironic handle deployment cleanup actions during destroy,NEW,2023-05-17 15:40:32.000000000,2023-06-05 18:32:49.000000000,,"[{'_account_id': 782}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 15:40:32.000000000', 'files': ['nova/virt/ironic/driver.py', 'releasenotes/notes/bug-2019977-4afe7658394130b8.yaml', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2bf0f888180e3e7c617f9d4054f2306f0833cffc', 'message': ""ironic: Let Ironic handle deployment cleanup actions during destroy\n\nFor bare metal (Ironic) instances, we previously performed some cleanup\noperations on the Ironic node after deprovisioning the node, including\nunplugging VIFs and removing volume targets. Prior to\nIea337f73c231db2cb9d9f639b92475daaede6793, we also reset the\ninstance_info and instance_uuid fields.\n\nWhen Ironic automated cleaning is enabled, these cleanup actions race\nwith Ironic, and may result in an HTTP 409 Conflict and a number of\nretries, due to Ironic holding the node's lock or the node being in a\nstate transition. In the extreme case, if retries are exhausted, the\ncleanup operation may fail, leading to the instance moving to an ERROR\nstate.\n\nThe VIF unplug and volume target delete cleanup operations are actually\nunnecessary once a node has been deprovisioned, since they are performed\nas part of the node's tear_down routine [1][2]. This change removes\nthese cleanup operations in that case, retaining them only when the\nprovision state of the node was never changed (i.e. spawn failed early).\n\n[1] https://opendev.org/openstack/ironic/src/commit/912dcbbdc9c0859168ac4ea6fa6b6f7ad4358e84/ironic/conductor/manager.py#L1117\n[2] https://opendev.org/openstack/ironic/src/commit/912dcbbdc9c0859168ac4ea6fa6b6f7ad4358e84/ironic/drivers/modules/agent_base.py#L685\n\nCloses-Bug: #2019977\nRelated-Bug: #1815799\nChange-Id: I60971b58cf1f24bdb5d40f668e380ebfee2ac495\n(cherry picked from commit 010f5aafbf9375c7740fe239a9a76df4a3264ca2)\n""}]",1,883411,2bf0f888180e3e7c617f9d4054f2306f0833cffc,10,5,1,14826,,,0,"ironic: Let Ironic handle deployment cleanup actions during destroy

For bare metal (Ironic) instances, we previously performed some cleanup
operations on the Ironic node after deprovisioning the node, including
unplugging VIFs and removing volume targets. Prior to
Iea337f73c231db2cb9d9f639b92475daaede6793, we also reset the
instance_info and instance_uuid fields.

When Ironic automated cleaning is enabled, these cleanup actions race
with Ironic, and may result in an HTTP 409 Conflict and a number of
retries, due to Ironic holding the node's lock or the node being in a
state transition. In the extreme case, if retries are exhausted, the
cleanup operation may fail, leading to the instance moving to an ERROR
state.

The VIF unplug and volume target delete cleanup operations are actually
unnecessary once a node has been deprovisioned, since they are performed
as part of the node's tear_down routine [1][2]. This change removes
these cleanup operations in that case, retaining them only when the
provision state of the node was never changed (i.e. spawn failed early).

[1] https://opendev.org/openstack/ironic/src/commit/912dcbbdc9c0859168ac4ea6fa6b6f7ad4358e84/ironic/conductor/manager.py#L1117
[2] https://opendev.org/openstack/ironic/src/commit/912dcbbdc9c0859168ac4ea6fa6b6f7ad4358e84/ironic/drivers/modules/agent_base.py#L685

Closes-Bug: #2019977
Related-Bug: #1815799
Change-Id: I60971b58cf1f24bdb5d40f668e380ebfee2ac495
(cherry picked from commit 010f5aafbf9375c7740fe239a9a76df4a3264ca2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/883411/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'releasenotes/notes/bug-2019977-4afe7658394130b8.yaml', 'nova/tests/unit/virt/ironic/test_driver.py']",3,2bf0f888180e3e7c617f9d4054f2306f0833cffc,bug/2019977," mock_cleanup_deploy.assert_called_with( node, instance, network_info)"," mock_cleanup_deploy.assert_called_with(node, instance, network_info, remove_instance_info=False) mock_remove_instance_info.assert_called_once_with(node, instance) mock_clean.assert_called_once_with(node, instance, None, remove_instance_info=False) @mock.patch.object(FAKE_CLIENT.node, 'update') @mock.patch.object(ironic_driver.IronicDriver, '_validate_instance_and_node') @mock.patch.object(ironic_driver.IronicDriver, '_cleanup_deploy') def test_destroy_trigger_remove_info_fail(self, mock_clean, fake_validate, mock_update): node_uuid = 'aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee' node = ironic_utils.get_test_node( driver='fake', uuid=node_uuid, provision_state=ironic_states.AVAILABLE) fake_validate.return_value = node instance = fake_instance.fake_instance_obj(self.ctx, node=node_uuid) mock_update.side_effect = SystemError('unexpected error') self.assertRaises(SystemError, self.driver.destroy, self.ctx, instance, None, None) mock_clean.assert_called_once_with(node, instance, None, remove_instance_info=False) @mock.patch.object(ironic_driver.IronicDriver, '_unplug_vifs') @mock.patch.object(ironic_driver.IronicDriver, '_cleanup_volume_target_info') @mock.patch.object(cw.IronicClientWrapper, 'call') def test__cleanup_deploy_no_remove_ii(self, mock_call, mock_vol, mock_unvif): # TODO(TheJulia): This REALLY should be updated to cover all of the # calls that take place. node = ironic_utils.get_test_node(driver='fake') instance = fake_instance.fake_instance_obj(self.ctx, node=node.uuid) self.driver._cleanup_deploy(node, instance, remove_instance_info=False) mock_vol.assert_called_once_with(instance) mock_unvif.assert_called_once_with(node, instance, None) self.assertFalse(mock_call.called) ",21,60
openstack%2Fopenstack-ansible~master~I41eb336016920624bbf0fa7641301c64cce1070a,openstack/openstack-ansible,master,I41eb336016920624bbf0fa7641301c64cce1070a,[doc] Update upgrade guide to mention SLURP,MERGED,2023-05-18 11:28:17.000000000,2023-06-05 18:13:55.000000000,2023-06-05 18:12:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-18 11:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/aa05c3be9a38e539bfb9547ce8533df09026e650', 'message': ""[doc] Update upgrade guide to mention SLURP\n\nDespite Yoga is an unofficial SLURP release, we're preparing all tooling\nand test upgrades from Y to 2023.1. With that we're mentioning\nin docs, that upgrade from Y is possible. We also update release names\nthat are used in docs.\n\nChange-Id: I41eb336016920624bbf0fa7641301c64cce1070a\n""}, {'number': 2, 'created': '2023-05-29 14:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b4adbc3903cca93e225bff0decfd59d3f3306a00', 'message': ""[doc] Update upgrade guide to mention SLURP\n\nDespite Yoga is an unofficial SLURP release, we're preparing all tooling\nand test upgrades from Y to 2023.1. With that we're mentioning\nin docs, that upgrade from Y is possible. We also update release names\nthat are used in docs.\n\nChange-Id: I41eb336016920624bbf0fa7641301c64cce1070a\n""}, {'number': 3, 'created': '2023-05-31 14:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ab9c979f805eb8b8babb3c4cffa42be2db2ca8ed', 'message': ""[doc] Update upgrade guide to mention SLURP\n\nDespite Yoga is an unofficial SLURP release, we're preparing all tooling\nand test upgrades from Y to 2023.1. With that we're mentioning\nin docs, that upgrade from Y is possible. We also update release names\nthat are used in docs.\n\nChange-Id: I41eb336016920624bbf0fa7641301c64cce1070a\n""}, {'number': 4, 'created': '2023-05-31 15:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/103f62b75aca984ee5f38905a8a4bb173c705dd5', 'message': ""[doc] Update upgrade guide to mention SLURP\n\nDespite Yoga is an unofficial SLURP release, we're preparing all tooling\nand test upgrades from Y to 2023.1. With that we're mentioning\nin docs, that upgrade from Y is possible. We also update release names\nthat are used in docs.\n\nChange-Id: I41eb336016920624bbf0fa7641301c64cce1070a\n""}, {'number': 5, 'created': '2023-05-31 18:01:12.000000000', 'files': ['doc/source/admin/upgrades/major-upgrades.rst', 'doc/source/conf.py', 'deploy-guide/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5b9ea29ff4c1837d498cc4ae6ea905df5e7c5ef3', 'message': ""[doc] Update upgrade guide to mention SLURP\n\nDespite Yoga is an unofficial SLURP release, we're preparing all tooling\nand test upgrades from Y to 2023.1. With that we're mentioning\nin docs, that upgrade from Y is possible. We also update release names\nthat are used in docs.\n\nChange-Id: I41eb336016920624bbf0fa7641301c64cce1070a\n""}]",9,883488,5b9ea29ff4c1837d498cc4ae6ea905df5e7c5ef3,17,3,5,28619,,,0,"[doc] Update upgrade guide to mention SLURP

Despite Yoga is an unofficial SLURP release, we're preparing all tooling
and test upgrades from Y to 2023.1. With that we're mentioning
in docs, that upgrade from Y is possible. We also update release names
that are used in docs.

Change-Id: I41eb336016920624bbf0fa7641301c64cce1070a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/88/883488/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/upgrades/major-upgrades.rst', 'doc/source/conf.py', 'deploy-guide/source/conf.py']",3,aa05c3be9a38e539bfb9547ce8533df09026e650,,previous_series_name = 'zed' current_series_name = '2023.1',previous_series_name = 'yoga' current_series_name = 'zed',21,12
openstack%2Fcharm-ceph-rbd-mirror~stable%2Fquincy.2~I6bd784b41995e78175869bf2d8cf6789e8f9dd58,openstack/charm-ceph-rbd-mirror,stable/quincy.2,I6bd784b41995e78175869bf2d8cf6789e8f9dd58,Bypass charm going into blocked due to a bug,MERGED,2023-06-05 09:52:23.000000000,2023-06-05 17:51:26.000000000,2023-06-05 17:51:26.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2023-06-05 09:52:23.000000000', 'files': ['osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/lib/charm/openstack/ceph_rbd_mirror.py', 'src/tests/bundles/focal-yoga.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'bindep.txt', 'unit_tests/test_lib_charm_openstack_ceph_rbd_mirror.py', 'charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/26b055f79162bc5947b7aa68d85a03286cb1417e', 'message': 'Bypass charm going into blocked due to a bug\n\nAfter Octopus, the reporting about image states fails because of a\npermission issue in Ceph. This change disables that status reporting\nto allow a deployment to be healthy even when some tools cannot query\nstatus.\n\nAlso modernize build and func testing: remove python 3.9 and xena from\ntests\n\nRelated-Bug: #1879749\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1063\ncherry picked from Id86fc043495b89609cf6873ec58aee1e2e388578\n\nChange-Id: I6bd784b41995e78175869bf2d8cf6789e8f9dd58\n'}]",1,885247,26b055f79162bc5947b7aa68d85a03286cb1417e,7,3,1,15382,,,0,"Bypass charm going into blocked due to a bug

After Octopus, the reporting about image states fails because of a
permission issue in Ceph. This change disables that status reporting
to allow a deployment to be healthy even when some tools cannot query
status.

Also modernize build and func testing: remove python 3.9 and xena from
tests

Related-Bug: #1879749
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1063
cherry picked from Id86fc043495b89609cf6873ec58aee1e2e388578

Change-Id: I6bd784b41995e78175869bf2d8cf6789e8f9dd58
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/47/885247/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tox.ini', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/lib/charm/openstack/ceph_rbd_mirror.py', 'src/tests/bundles/focal-yoga.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'bindep.txt', 'unit_tests/test_lib_charm_openstack_ceph_rbd_mirror.py', 'charmcraft.yaml', 'tox.ini']",13,26b055f79162bc5947b7aa68d85a03286cb1417e,,"# We use tox mainly for virtual environment management for test requirements # and do not install the charm code as a Python package into that environment. # Ref: https://tox.wiki/en/latest/config.html#skip_install skip_install = True CHARM_LAYERS_DIR={toxinidir}/layers CHARM_INTERFACES_DIR={toxinidir}/interfaces passenv = no_proxy http_proxy https_proxy CHARM_INTERFACES_DIR CHARM_LAYERS_DIR JUJU_REPOSITORY {toxinidir}/rename.sh# charmcraft clean is done to ensure that # `tox -e build` always performs a clean, repeatable build. # For faster rebuilds during development, # directly run `charmcraft -v pack && ./rename.sh`. charmcraft -v pack charmcraft clean charm-tools==2.8.4","skipsdist = True# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 setuptools<50.0.0 # NOTE: https://wiki.canonical.com/engineering/OpenStack/InstallLatestToxOnOsci minversion = 3.18.0passenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORY install_command = {toxinidir}/pip.sh install {opts} {packages} rename.shdeps = -r{toxinidir}/build-requirements.txt charmcraft -v build[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py39] basepython = python3.9 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} charm-tools==2.8.3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",76,474
openstack%2Fnova~master~I0967c71787bcc156069a268148b7421637aa1f1d,openstack/nova,master,I0967c71787bcc156069a268148b7421637aa1f1d,Allow an operator to override the default proto type of a VF,NEW,2023-05-20 21:11:46.000000000,2023-06-05 17:49:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-20 21:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d40a308cb74f65170605afc8c6f0392f703cf24', 'message': 'Allow an operator to override the default proto type of a VF\n\nAllow an operator to override the default proto type of a VF as in some\ncases, the NIC requires this setting to enable QinQ for the guests.\n\nChange-Id: I0967c71787bcc156069a268148b7421637aa1f1d\n'}, {'number': 2, 'created': '2023-05-20 21:16:12.000000000', 'files': ['nova/virt/libvirt/vif.py', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/privsep/linux_net.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a39572c89a018810aff272372b755e8dd9cd36db', 'message': 'Allow an operator to override the default proto type of a VF\n\nAllow an operator to override the default proto type of a VF as in some\ncases, the NIC requires this setting to enable QinQ for the guests.\n\nChange-Id: I0967c71787bcc156069a268148b7421637aa1f1d\n'}]",2,883745,a39572c89a018810aff272372b755e8dd9cd36db,12,1,2,7130,,,0,"Allow an operator to override the default proto type of a VF

Allow an operator to override the default proto type of a VF as in some
cases, the NIC requires this setting to enable QinQ for the guests.

Change-Id: I0967c71787bcc156069a268148b7421637aa1f1d
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/883745/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'nova/conf/libvirt.py', 'nova/privsep/linux_net.py']",3,8d40a308cb74f65170605afc8c6f0392f703cf24,vf_qinq2,"def set_device_macaddr_and_vlan(dev, vf_num, mac_addr, vlan, vf_proto): 'proto', vf_proto,","def set_device_macaddr_and_vlan(dev, vf_num, mac_addr, vlan):",14,2
openstack%2Fnova~master~I357e65f4cd7c38784e94a910072ee72f94afa9c2,openstack/nova,master,I357e65f4cd7c38784e94a910072ee72f94afa9c2,Increase user_data from 64k to 128k,NEW,2023-02-07 14:00:34.000000000,2023-06-05 17:45:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-02-07 14:00:34.000000000', 'files': ['nova/api/openstack/compute/schemas/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8a7c9e9607658911aff879d05baf50e6b769ec83', 'message': 'Increase user_data from 64k to 128k\n\nIncrease user_data from 64k to 128k given that this is stricly an\nAPI limitation and that the database itself uses MEDIUMTEXT which\nallows 16M characters and operators request, this can safely be\nincreased to 128k without having a major impact on the database\nschema.\n\nChange-Id: I357e65f4cd7c38784e94a910072ee72f94afa9c2\n'}]",1,872931,8a7c9e9607658911aff879d05baf50e6b769ec83,10,1,1,7130,,,0,"Increase user_data from 64k to 128k

Increase user_data from 64k to 128k given that this is stricly an
API limitation and that the database itself uses MEDIUMTEXT which
allows 16M characters and operators request, this can safely be
increased to 128k without having a major impact on the database
schema.

Change-Id: I357e65f4cd7c38784e94a910072ee72f94afa9c2
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/872931/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/schemas/servers.py'],1,8a7c9e9607658911aff879d05baf50e6b769ec83,user_data," 'maxLength': 131070 'oneOf': [{'type': 'string', 'format': 'base64', 'maxLength': 131070}, {'type': 'string', 'format': 'base64', 'maxLength': 131070},"," 'maxLength': 65535 'oneOf': [{'type': 'string', 'format': 'base64', 'maxLength': 65535}, {'type': 'string', 'format': 'base64', 'maxLength': 65535},",3,3
openstack%2Fpython-tripleoclient~master~I3a496d8517f10df660d9b4125f7c40964e90eac7,openstack/python-tripleoclient,master,I3a496d8517f10df660d9b4125f7c40964e90eac7,Add proxy validation to deploy and upgrade preflight,NEW,2022-07-06 14:23:40.000000000,2023-06-05 17:34:55.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-06 14:23:40.000000000', 'files': ['tripleoclient/constants.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b35fd792aa0e98c80ad45f383f0d4edfa42ff60d', 'message': ""Add proxy validation to deploy and upgrade preflight\n\nAdd proxy validation to deploy and upgrade preflight .   Especially the\nno_proxy variable as it's causing lots of issues with users doing a FFU\nfrom queens to train.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-validations/+/848871\nChange-Id: I3a496d8517f10df660d9b4125f7c40964e90eac7\n""}]",1,848872,b35fd792aa0e98c80ad45f383f0d4edfa42ff60d,5,2,1,7130,,,0,"Add proxy validation to deploy and upgrade preflight

Add proxy validation to deploy and upgrade preflight .   Especially the
no_proxy variable as it's causing lots of issues with users doing a FFU
from queens to train.

Depends-on: https://review.opendev.org/c/openstack/tripleo-validations/+/848871
Change-Id: I3a496d8517f10df660d9b4125f7c40964e90eac7
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/72/848872/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/constants.py'],1,b35fd792aa0e98c80ad45f383f0d4edfa42ff60d,proxy," 'undercloud-disabled-services.yaml', 'undercloud-proxy-validation.yaml'] 'undercloud-disabled-services.yaml', 'undercloud-proxy-validation']", 'undercloud-disabled-services.yaml'] 'undercloud-disabled-services.yaml'],4,2
openstack%2Fpuppet-tripleo~master~Ie33f297e08d4f39fe6b349cc97440c7bc6afc741,openstack/puppet-tripleo,master,Ie33f297e08d4f39fe6b349cc97440c7bc6afc741,Allow a user to override HostKey,NEW,2022-09-02 12:45:31.000000000,2023-06-05 17:33:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-02 12:45:31.000000000', 'files': ['manifests/profile/base/sshd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6f1005f9e1e6a5eebb9b5cfc30890a237094afb0', 'message': 'Allow a user to override HostKey\n\nIn some case, some users will want to override the current HostKey\nvalue which is hardcoded in the puppet manifest.   This allows\na user to set a custom HostKey and if none are provided, default\napplies.\n\nChange-Id: Ie33f297e08d4f39fe6b349cc97440c7bc6afc741\n'}]",3,855657,6f1005f9e1e6a5eebb9b5cfc30890a237094afb0,9,2,1,7130,,,0,"Allow a user to override HostKey

In some case, some users will want to override the current HostKey
value which is hardcoded in the puppet manifest.   This allows
a user to set a custom HostKey and if none are provided, default
applies.

Change-Id: Ie33f297e08d4f39fe6b349cc97440c7bc6afc741
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/57/855657/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/sshd.pp'],1,6f1005f9e1e6a5eebb9b5cfc30890a237094afb0,allow_hostkey_override," if !$options['HostKey'] { $basic_options = { 'HostKey' => [ '/etc/ssh/ssh_host_rsa_key', '/etc/ssh/ssh_host_ecdsa_key', '/etc/ssh/ssh_host_ed25519_key', ] } } else { $basic_options = { }"," $basic_options = { 'HostKey' => [ '/etc/ssh/ssh_host_rsa_key', '/etc/ssh/ssh_host_ecdsa_key', '/etc/ssh/ssh_host_ed25519_key', ]",10,6
openstack%2Fnova~stable%2Ftrain~Ia593b500425c81e54eb401e38264db5cc5fc1f93,openstack/nova,stable/train,Ia593b500425c81e54eb401e38264db5cc5fc1f93,libvirt: Abort live-migration job when monitoring fails,NEW,2022-04-11 19:24:39.000000000,2023-06-05 17:29:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-11 19:24:39.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/00c103adaf4ef3887af3d38c2e6f0fe0614dd905', 'message': 'libvirt: Abort live-migration job when monitoring fails\n\nDuring live migration process, a _live_migration_monitor thread\nchecks progress of migration on source host, if for any reason\nwe hit infrastructure issue involving a DB/RPC/libvirt-timeout\nfailure, an Exception is raised to the nova-compute service and\ninstance/migration is set to ERROR state.\n\nThe issue is that we may let live-migration job running out of nova\ncontrol. At the end of job, guest is resumed on target host while\nnova still reports it on source host, this may lead to a split-brain\nsituation if instance is restarted.\n\nThis change proposes to abort live-migration job if issue occurs\nduring _live_migration_monitor.\n\nChange-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93\nCloses-Bug: #1905944\n(cherry picked from commit 39f0af5d18d6bea34fa15b8f7778115b25432749)\n'}]",4,837323,00c103adaf4ef3887af3d38c2e6f0fe0614dd905,14,1,1,7130,,,0,"libvirt: Abort live-migration job when monitoring fails

During live migration process, a _live_migration_monitor thread
checks progress of migration on source host, if for any reason
we hit infrastructure issue involving a DB/RPC/libvirt-timeout
failure, an Exception is raised to the nova-compute service and
instance/migration is set to ERROR state.

The issue is that we may let live-migration job running out of nova
control. At the end of job, guest is resumed on target host while
nova still reports it on source host, this may lead to a split-brain
situation if instance is restarted.

This change proposes to abort live-migration job if issue occurs
during _live_migration_monitor.

Change-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93
Closes-Bug: #1905944
(cherry picked from commit 39f0af5d18d6bea34fa15b8f7778115b25432749)
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/837323/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,00c103adaf4ef3887af3d38c2e6f0fe0614dd905,bug/1905944," @mock.patch.object(libvirt_driver.LibvirtDriver, ""live_migration_abort"") def _test_live_migration_main(self, mock_abort, mock_copy_disk_path, mock_running, mock_guest, mock_monitor, mock_thread, mock_conn, mon_side_effect=None): mock_monitor.side_effect = mon_side_effect if mon_side_effect: self.assertRaises(mon_side_effect, drvr._live_migration, self.context, instance, ""fakehost"", fake_post, fake_recover, True, migrate_data) mock_abort.assert_called_once_with(instance) else: drvr._live_migration(self.context, instance, ""fakehost"", fake_post, fake_recover, True, migrate_data) def test_live_migration_main(self): self._test_live_migration_main() def test_live_migration_main_monitoring_failed(self): self._test_live_migration_main(mon_side_effect=Exception) "," def test_live_migration_main(self, mock_copy_disk_path, mock_running, mock_guest, mock_monitor, mock_thread, mock_conn): drvr._live_migration(self.context, instance, ""fakehost"", fake_post, fake_recover, True, migrate_data)",33,6
openstack%2Fdesignate~master~If6ac155efed0d26054c09a71f293c4dfaf5e187a,openstack/designate,master,If6ac155efed0d26054c09a71f293c4dfaf5e187a,Update Unit Test README,MERGED,2023-06-05 03:48:36.000000000,2023-06-05 17:27:50.000000000,2023-06-05 17:26:56.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 03:48:36.000000000', 'files': ['README.rst', 'designate/tests/unit/README'], 'web_link': 'https://opendev.org/openstack/designate/commit/92f9639e8d63b9c6d51f73efac347f58dff4982c', 'message': 'Update Unit Test README\n\nChange-Id: If6ac155efed0d26054c09a71f293c4dfaf5e187a\n'}]",2,884605,92f9639e8d63b9c6d51f73efac347f58dff4982c,8,3,1,22623,,,0,"Update Unit Test README

Change-Id: If6ac155efed0d26054c09a71f293c4dfaf5e187a
",git fetch https://review.opendev.org/openstack/designate refs/changes/05/884605/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'designate/tests/unit/README']",2,92f9639e8d63b9c6d51f73efac347f58dff4982c,readme,tox -e py3 -- tests.unit tox -e py3 -- tests.unit.backend,tox -e py27 -- tests.unit tox -e py37 -- tests.unit.backend,5,5
openstack%2Fnova~master~Ic9a186de40ee97b00e867ab1fc1635d1c26269c9,openstack/nova,master,Ic9a186de40ee97b00e867ab1fc1635d1c26269c9,Users can cheat --limit by setting -1,NEW,2022-04-02 00:18:37.000000000,2023-06-05 17:27:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-02 00:18:37.000000000', 'files': ['nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bb57b18db9b5870dbc46905c66bf0ae0ea521e8a', 'message': 'Users can cheat --limit by setting -1\n\nUsers can cheat --limit by setting -1 in server list.   This should\ndisable that possibility and enforce api.max_limit.\n\nChange-Id: Ic9a186de40ee97b00e867ab1fc1635d1c26269c9\n'}]",3,836219,bb57b18db9b5870dbc46905c66bf0ae0ea521e8a,14,1,1,7130,,,0,"Users can cheat --limit by setting -1

Users can cheat --limit by setting -1 in server list.   This should
disable that possibility and enforce api.max_limit.

Change-Id: Ic9a186de40ee97b00e867ab1fc1635d1c26269c9
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/836219/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/servers.py'],1,bb57b18db9b5870dbc46905c66bf0ae0ea521e8a,int_fix, params = common.get_pagination_params(req) ,,2,0
openstack%2Fironic~stable%2Fxena~Ibaea6d5d4e8d750638da5518b5c461106dad0b31,openstack/ironic,stable/xena,Ibaea6d5d4e8d750638da5518b5c461106dad0b31,[Stable-only] Remove Docker from devstack dependencies,MERGED,2023-06-05 09:29:19.000000000,2023-06-05 17:27:32.000000000,2023-06-05 17:26:24.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-06-05 09:29:19.000000000', 'files': ['devstack/files/rpms/ironic', 'devstack/files/debs/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6a3ee852f168418c1efcf85d2fb17fb08d020d19', 'message': ""[Stable-only] Remove Docker from devstack dependencies\n\nIt was required for the CoreOS IPA built, which we don't support for\nyears. Installing docker seems to be broken at least sometimes:\nhttps://github.com/gophercloud/gophercloud/actions/runs/5080505511/jobs/9127563323?pr=2634\n\nFor Yoga+ this has been done in ebd32ce3c1ef23d3be078ba3992a868c052ce591.\n\nChange-Id: Ibaea6d5d4e8d750638da5518b5c461106dad0b31\n""}]",0,885243,6a3ee852f168418c1efcf85d2fb17fb08d020d19,10,3,1,10239,,,0,"[Stable-only] Remove Docker from devstack dependencies

It was required for the CoreOS IPA built, which we don't support for
years. Installing docker seems to be broken at least sometimes:
https://github.com/gophercloud/gophercloud/actions/runs/5080505511/jobs/9127563323?pr=2634

For Yoga+ this has been done in ebd32ce3c1ef23d3be078ba3992a868c052ce591.

Change-Id: Ibaea6d5d4e8d750638da5518b5c461106dad0b31
",git fetch https://review.opendev.org/openstack/ironic refs/changes/43/885243/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/files/rpms/ironic', 'devstack/files/debs/ironic']",2,6a3ee852f168418c1efcf85d2fb17fb08d020d19,no-docker-xena,,docker.io,0,2
openstack%2Fdesignate~master~I3707f263dca8ddfef7db9b765e6071220259b4bc,openstack/designate,master,I3707f263dca8ddfef7db9b765e6071220259b4bc,Use TEST-NET-1 for most unit testing,MERGED,2023-06-05 03:12:29.000000000,2023-06-05 17:24:10.000000000,2023-06-05 17:21:27.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 03:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bd294e2c9e76bb5d43e2ab6b4b0e078c265823c2', 'message': 'Use TEST-NET-1 for most unit testing\n\nChange-Id: I3707f263dca8ddfef7db9b765e6071220259b4bc\n'}, {'number': 2, 'created': '2023-06-05 03:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2719e7c2bd472bcd4f90ced3e3552e113fb79014', 'message': 'Use TEST-NET-1 for most unit testing\n\nChange-Id: I3707f263dca8ddfef7db9b765e6071220259b4bc\n'}, {'number': 3, 'created': '2023-06-05 03:28:06.000000000', 'files': ['designate/tests/unit/objects/test_rrdata_aaaa.py', 'designate/tests/test_schema/test_format.py', 'designate/tests/unit/backend/test_bind9.py', 'designate/tests/unit/test_dnsutils.py', 'designate/tests/unit/backend/test_fake.py', 'designate/tests/unit/objects/test_rrdata_a.py', 'designate/tests/unit/backend/test_akamai_v2.py', 'designate/tests/unit/objects/test_adapters.py', 'designate/tests/unit/workers/test_service.py', 'designate/tests/test_central/test_service.py', 'designate/tests/resources/sample_notifications/neutron/floatingip.update.end_associate.json', 'designate/tests/unit/agent/test_handler.py', 'designate/tests/unit/test_central/test_basic.py', 'designate/tests/unit/objects/test_zone.py', 'designate/tests/test_api/test_v2/test_zones.py', 'designate/tests/unit/mdns/test_handler.py', 'designate/tests/unit/network_api/test_neutron.py', 'designate/tests/resources/sample_notifications/neutron/floatingip.update.end_disassociate.json', 'designate/tests/test_mdns/test_handler.py', 'designate/tests/unit/test_central/test_notifications.py', 'designate/tests/unit/backend/test_dynect.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/69515a8df76e42d7371c479679e766316951bdd3', 'message': 'Use TEST-NET-1 for most unit testing\n\nChange-Id: I3707f263dca8ddfef7db9b765e6071220259b4bc\n'}]",1,884604,69515a8df76e42d7371c479679e766316951bdd3,9,2,3,22623,,,0,"Use TEST-NET-1 for most unit testing

Change-Id: I3707f263dca8ddfef7db9b765e6071220259b4bc
",git fetch https://review.opendev.org/openstack/designate refs/changes/04/884604/2 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/objects/test_rrdata_aaaa.py', 'designate/tests/test_schema/test_format.py', 'designate/tests/unit/backend/test_bind9.py', 'designate/tests/unit/test_dnsutils.py', 'designate/tests/unit/backend/test_fake.py', 'designate/tests/unit/objects/test_rrdata_a.py', 'designate/tests/unit/backend/test_akamai_v2.py', 'designate/tests/unit/objects/test_adapters.py', 'designate/tests/unit/workers/test_service.py', 'designate/tests/test_central/test_service.py', 'designate/tests/unit/agent/test_handler.py', 'designate/tests/unit/test_central/test_basic.py', 'designate/tests/unit/objects/test_zone.py', 'designate/tests/test_api/test_v2/test_zones.py', 'designate/tests/unit/network_api/test_neutron.py', 'designate/tests/test_mdns/test_handler.py', 'designate/tests/unit/test_central/test_notifications.py', 'designate/tests/unit/backend/test_dynect.py']",18,bd294e2c9e76bb5d43e2ab6b4b0e078c265823c2,,"MASTERS = [""192.0.2.1""]","MASTERS = [""10.0.0.1""]",58,58
openstack%2Fdesignate~master~I1be68b27dc052cc273fcfdf53940b38a7661e73b,openstack/designate,master,I1be68b27dc052cc273fcfdf53940b38a7661e73b,Fix zone list with system scoped tokens,MERGED,2023-06-02 21:40:21.000000000,2023-06-05 17:23:16.000000000,2023-06-05 17:21:25.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-06-02 21:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/43fc0802928a6dcac7181b0d5a33387291c8a740', 'message': 'Fix zone list with system scoped tokens\n\nIf you used a system scoped token to list zones and the zone is not shared,\nyou could see more zones than expected.\nThis patch corrects that edge case.\n\nChange-Id: I1be68b27dc052cc273fcfdf53940b38a7661e73b\n'}, {'number': 2, 'created': '2023-06-03 04:12:11.000000000', 'files': ['.zuul.yaml', 'designate/storage/sqlalchemy/base.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/9c46364483b43b326c64896e1ed46067334feff1', 'message': 'Fix zone list with system scoped tokens\n\nIf you used a system scoped token to list zones and the zone is not shared,\nyou could see more zones than expected.\nThis patch corrects that edge case.\n\nChange-Id: I1be68b27dc052cc273fcfdf53940b38a7661e73b\n'}]",4,885164,9c46364483b43b326c64896e1ed46067334feff1,15,4,2,11628,,,0,"Fix zone list with system scoped tokens

If you used a system scoped token to list zones and the zone is not shared,
you could see more zones than expected.
This patch corrects that edge case.

Change-Id: I1be68b27dc052cc273fcfdf53940b38a7661e73b
",git fetch https://review.opendev.org/openstack/designate refs/changes/64/885164/2 && git format-patch -1 --stdout FETCH_HEAD,['designate/storage/sqlalchemy/base.py'],1,43fc0802928a6dcac7181b0d5a33387291c8a740,, # Account for scoped tokens with no project_id if include_shared and context.project_id is not None:, if include_shared:,2,1
openstack%2Fcharm-cinder-ceph-k8s~main~I41eb77ce71b9fd8b0a55a978df0cc3766238ebdb,openstack/charm-cinder-ceph-k8s,main,I41eb77ce71b9fd8b0a55a978df0cc3766238ebdb,Provide ceph-access relation,NEW,2023-06-05 16:25:06.000000000,2023-06-05 17:09:12.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 16:25:06.000000000', 'files': ['lib/charms/cinder_ceph_k8s/v0/ceph_access.py', 'src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/3a2109d59b420e6b5e0301c6cb68ffe187798c77', 'message': 'Provide ceph-access relation\n\nChange-Id: I41eb77ce71b9fd8b0a55a978df0cc3766238ebdb\n'}]",0,885294,3a2109d59b420e6b5e0301c6cb68ffe187798c77,4,2,1,12549,,,0,"Provide ceph-access relation

Change-Id: I41eb77ce71b9fd8b0a55a978df0cc3766238ebdb
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph-k8s refs/changes/94/885294/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/cinder_ceph_k8s/v0/ceph_access.py', 'src/charm.py']",2,3a2109d59b420e6b5e0301c6cb68ffe187798c77,add-ceph-access,"import uuid Callable,import charms.cinder_ceph_k8s.v0.ceph_access as sunbeam_ceph_access # noqaimport ops.charmfrom ops.model import ( Relation, SecretRotate, )class CephAccessProvidesHandler(sunbeam_rhandlers.RelationHandler): """"""Handler for identity service relation."""""" def __init__( self, charm: ops.charm.CharmBase, relation_name: str, callback_f: Callable, ): super().__init__(charm, relation_name, callback_f) def setup_event_handler(self): """"""Configure event handlers for an Identity service relation."""""" logger.debug(""Setting up Identity Service event handler"") ceph_access_svc = sunbeam_ceph_access.CephAccessProvides( self.charm, self.relation_name, ) self.framework.observe( ceph_access_svc.on.ready_ceph_access_clients, self._on_ceph_access_ready, ) return ceph_access_svc def _on_ceph_access_ready(self, event) -> None: """"""Handles AMQP change events."""""" # Ready is only emitted when the interface considers # that the relation is complete (indicated by a password) self.callback_f(event) @property def ready(self) -> bool: """"""Report if relation is ready."""""" return True client_secret_key = ""secret-uuid"" ceph_access_relation_name = ""ceph-access"" self.ceph_access = CephAccessProvidesHandler( self, ""ceph-access"", self.process_ceph_access_client_event, ) handlers.append(self.ceph_access) def _set_or_update_rbd_secret( self, ceph_key: str, scope: dict = {}, rotate: SecretRotate = SecretRotate.NEVER, ) -> str: """"""Create ceph access secret or update it. Create ceph access secret or if it already exists check the contents and update them if needed. """""" rbd_secret_uuid_id = self.peers.get_app_data(self.client_secret_key) if rbd_secret_uuid_id: secret = self.model.get_secret(id=rbd_secret_uuid_id) secret_data = secret.get_content() if secret_data.get(""key"") != ceph_key: secret_data[""key""] = ceph_key secret.set_content(secret_data) if ""relation"" in scope: secret = self.model.get_secret(id=rbd_secret_uuid_id) secret.grant(scope[""relation""]) return rbd_secret_uuid_id rbd_secret_uuid = self.model.app.add_secret( { ""uuid"": str(uuid.uuid4()), ""key"": ceph_key, }, label=self.client_secret_key, rotate=rotate, ) self.peers.set_app_data( { self.client_secret_key: rbd_secret_uuid.id, } ) if ""relation"" in scope: rbd_secret_uuid.grant(scope[""relation""]) return rbd_secret_uuid.id def configure_app_leader(self, event: ops.framework.EventBase): """"""Run global app setup. These are tasks that should only be run once per application and only the leader runs them. """""" if self.ceph.ready: self._set_or_update_rbd_secret(self.ceph.key) self.set_leader_ready() self.broadcast_ceph_access_credentials() else: raise sunbeam_guard.WaitingExceptionError( ""Ceph relation not ready"" ) def can_service_requests(self) -> bool: """"""Check if unit can process client requests."""""" if self.bootstrapped() and self.unit.is_leader(): logger.debug(""Can service client requests"") return True else: logger.debug( ""Cannot service client requests. "" ""Bootstrapped: {} Leader {}"".format( self.bootstrapped(), self.unit.is_leader() ) ) return False def send_ceph_access_credentials(self, relation: Relation): """"""Send clients a link to the secret and grant them access."""""" rbd_secret_uuid_id = self.peers.get_app_data(self.client_secret_key) secret = self.model.get_secret(id=rbd_secret_uuid_id) secret.grant(relation) self.ceph_access.interface.set_ceph_access_credentials( self.ceph_access_relation_name, relation.id, rbd_secret_uuid_id ) def process_ceph_access_client_event(self, event: ops.framework.EventBase): """"""Inform a single client of the access data."""""" self.broadcast_ceph_access_credentials(relation_id=event.relation_id) def broadcast_ceph_access_credentials( self, relation_id: str = None ) -> bool: """"""Send ceph access data to clients."""""" logger.debug(""Checking for outstanding client requests"") if not self.can_service_requests(): return for relation in self.framework.model.relations[ self.ceph_access_relation_name ]: if relation_id and relation.id == relation_id: self.send_ceph_access_credentials(relation) elif not relation_id: self.send_ceph_access_credentials(relation)","from ops.framework import ( EventBase, ) def _on_config_changed(self, event: EventBase) -> None: self.configure_charm(event) if self.ceph.ready: logger.info(""CONFIG changed and ceph ready: calling request pools"") self.ceph.request_pools(event)",381,8
openstack%2Fironic~stable%2F2023.1~I6f16da05e19c7efc966128fdf79f13546f51b5a6,openstack/ironic,stable/2023.1,I6f16da05e19c7efc966128fdf79f13546f51b5a6,Handle MissingAttributeError when using OOB inspections to fetch MACs,MERGED,2023-05-09 10:54:09.000000000,2023-06-05 17:02:58.000000000,2023-06-05 17:01:40.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-05-09 10:54:09.000000000', 'files': ['ironic/drivers/modules/redfish/management.py', 'releasenotes/notes/handle-missing-ethernetinterfaces-attr-7e52f7259fe66762.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/00ffa4b96fc112cca9f650c7f5bf4a25a9082883', 'message': 'Handle MissingAttributeError when using OOB inspections to fetch MACs\n\nCurrently, if an attempt is made to fetch MAC address information using\nOOB inspection on a Redfish-managed node and EthernetInterfaces\nattribute is missing on the node, inspection fails due to a\nMissingAttributeError exception being raised by sushy. This change adds\ncatching and handling this exception.\n\nChange-Id: I6f16da05e19c7efc966128fdf79f13546f51b5a6\n(cherry picked from commit f10958a542dd58ff301c386ce0981ec218e9eef6)\n'}]",4,882522,00ffa4b96fc112cca9f650c7f5bf4a25a9082883,18,2,1,10239,,,0,"Handle MissingAttributeError when using OOB inspections to fetch MACs

Currently, if an attempt is made to fetch MAC address information using
OOB inspection on a Redfish-managed node and EthernetInterfaces
attribute is missing on the node, inspection fails due to a
MissingAttributeError exception being raised by sushy. This change adds
catching and handling this exception.

Change-Id: I6f16da05e19c7efc966128fdf79f13546f51b5a6
(cherry picked from commit f10958a542dd58ff301c386ce0981ec218e9eef6)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/22/882522/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/management.py', 'releasenotes/notes/handle-missing-ethernetinterfaces-attr-7e52f7259fe66762.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_management.py']",3,00ffa4b96fc112cca9f650c7f5bf4a25a9082883,," @mock.patch.object(redfish_utils, 'get_enabled_macs', autospec=True) @mock.patch.object(redfish_utils, 'get_system', autospec=True) def test_get_mac_addresses_missing_attr(self, mock_get_system, mock_get_enabled_macs): redfish_utils.get_enabled_macs.side_effect = (sushy.exceptions. MissingAttributeError) with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: self.assertIsNone(task.driver.management.get_mac_addresses(task))",,29,1
openstack%2Ftripleo-heat-templates~master~I52103c1f10485ce9ce67d8ca7462de916637616d,openstack/tripleo-heat-templates,master,I52103c1f10485ce9ce67d8ca7462de916637616d,Use ceph_mon in ceph-mon.yaml instead of ceph_osd,NEW,2022-10-19 14:10:34.000000000,2023-06-05 16:46:51.000000000,,"[{'_account_id': 4264}, {'_account_id': 7144}, {'_account_id': 7294}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-10-19 14:10:34.000000000', 'files': ['deployment/cephadm/ceph-mon.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7464780c346a517a7b797bb155b495c277da1ca', 'message': 'Use ceph_mon in ceph-mon.yaml instead of ceph_osd\n\nIt looks like we are using tripleo.collectd.plugins.ceph_osd instead\nof tripleo.collectd.plugins.ceph_mon for the mon collectd plugins.\n\nChange-Id: I52103c1f10485ce9ce67d8ca7462de916637616d\n'}]",6,861891,c7464780c346a517a7b797bb155b495c277da1ca,16,6,1,7130,,,0,"Use ceph_mon in ceph-mon.yaml instead of ceph_osd

It looks like we are using tripleo.collectd.plugins.ceph_osd instead
of tripleo.collectd.plugins.ceph_mon for the mon collectd plugins.

Change-Id: I52103c1f10485ce9ce67d8ca7462de916637616d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/861891/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cephadm/ceph-mon.yaml'],1,c7464780c346a517a7b797bb155b495c277da1ca,ceph_mon, tripleo.collectd.plugins.ceph_mon:, tripleo.collectd.plugins.ceph_osd:,1,1
openstack%2Fcharm-cinder-k8s~main~I72093f45ad046453940e75e3490038729595779b,openstack/charm-cinder-k8s,main,I72093f45ad046453940e75e3490038729595779b,Trigger CI,MERGED,2023-06-05 15:44:07.000000000,2023-06-05 16:43:01.000000000,2023-06-05 16:19:26.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 15:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/87a3989b023b8141aa017e7cfb4835aacfadd9aa', 'message': 'Trigger CI\n\nChange-Id: I72093f45ad046453940e75e3490038729595779b\n'}]",0,885292,87a3989b023b8141aa017e7cfb4835aacfadd9aa,7,2,1,35761,,,0,"Trigger CI

Change-Id: I72093f45ad046453940e75e3490038729595779b
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/92/885292/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,87a3989b023b8141aa017e7cfb4835aacfadd9aa,chore/trigger-ci,,,0,0
openstack%2Fneutron~stable%2F2023.1~I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f,openstack/neutron,stable/2023.1,I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f,Start metadata proxy even if IPv6 DAD fails,MERGED,2023-06-05 10:09:14.000000000,2023-06-05 16:33:17.000000000,2023-06-05 16:31:56.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 10:09:14.000000000', 'files': ['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7f85abae6a46a115582b80d1909e3565d859e9b', 'message': 'Start metadata proxy even if IPv6 DAD fails\n\nA recent change suppressed the IPv6 DAD failure and\nremoved the address when multiple DHCP agents were\nconfigured on the same network,\nhttps://review.opendev.org/c/openstack/neutron/+/880957\n\nBut it also changed the behavior to not enable IPv4\nmetadata in this case. Restore the old behavior by\nnot returning early in the DAD failure case. The callback\nthat builds the config file was moved until after\nthe address was bound to make the two steps more obvious.\n\nConflicts:\n    neutron/tests/unit/agent/metadata/test_driver.py\n\nRelated-bug: #1953165\nChange-Id: I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f\n(cherry picked from commit 846003c4379124de6ffb3628ef1feb12a62a9cfa)\n'}]",3,885249,e7f85abae6a46a115582b80d1909e3565d859e9b,10,3,1,16688,,,0,"Start metadata proxy even if IPv6 DAD fails

A recent change suppressed the IPv6 DAD failure and
removed the address when multiple DHCP agents were
configured on the same network,
https://review.opendev.org/c/openstack/neutron/+/880957

But it also changed the behavior to not enable IPv4
metadata in this case. Restore the old behavior by
not returning early in the DAD failure case. The callback
that builds the config file was moved until after
the address was bound to make the two steps more obvious.

Conflicts:
    neutron/tests/unit/agent/metadata/test_driver.py

Related-bug: #1953165
Change-Id: I8436c6c9da9a2533ca27ff7312f5b2c7ea41e94f
(cherry picked from commit 846003c4379124de6ffb3628ef1feb12a62a9cfa)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/885249/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py']",2,e7f85abae6a46a115582b80d1909e3565d859e9b,bug/1953165," # Do not use the address or interface when DAD fails bind_address_v6 = bind_interface = None uuid = network_id or router_id callback = cls._get_metadata_proxy_callback( bind_address, port, conf, network_id=network_id, router_id=router_id, bind_address_v6=bind_address_v6, bind_interface=bind_interface) pm = cls._get_metadata_proxy_process_manager(uuid, conf, ns_name=ns_name, callback=callback)"," uuid = network_id or router_id callback = cls._get_metadata_proxy_callback( bind_address, port, conf, network_id=network_id, router_id=router_id, bind_address_v6=bind_address_v6, bind_interface=bind_interface) pm = cls._get_metadata_proxy_process_manager(uuid, conf, ns_name=ns_name, callback=callback) return",31,27
openstack%2Fnova~stable%2Fussuri~Ia593b500425c81e54eb401e38264db5cc5fc1f93,openstack/nova,stable/ussuri,Ia593b500425c81e54eb401e38264db5cc5fc1f93,libvirt: Abort live-migration job when monitoring fails,NEW,2022-04-11 19:24:26.000000000,2023-06-05 16:28:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-11 19:24:26.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/73fcface7bb1b8f9ed53b5302c01408ac2c4b1b4', 'message': 'libvirt: Abort live-migration job when monitoring fails\n\nDuring live migration process, a _live_migration_monitor thread\nchecks progress of migration on source host, if for any reason\nwe hit infrastructure issue involving a DB/RPC/libvirt-timeout\nfailure, an Exception is raised to the nova-compute service and\ninstance/migration is set to ERROR state.\n\nThe issue is that we may let live-migration job running out of nova\ncontrol. At the end of job, guest is resumed on target host while\nnova still reports it on source host, this may lead to a split-brain\nsituation if instance is restarted.\n\nThis change proposes to abort live-migration job if issue occurs\nduring _live_migration_monitor.\n\nChange-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93\nCloses-Bug: #1905944\n(cherry picked from commit 39f0af5d18d6bea34fa15b8f7778115b25432749)\n'}]",2,837322,73fcface7bb1b8f9ed53b5302c01408ac2c4b1b4,10,1,1,7130,,,0,"libvirt: Abort live-migration job when monitoring fails

During live migration process, a _live_migration_monitor thread
checks progress of migration on source host, if for any reason
we hit infrastructure issue involving a DB/RPC/libvirt-timeout
failure, an Exception is raised to the nova-compute service and
instance/migration is set to ERROR state.

The issue is that we may let live-migration job running out of nova
control. At the end of job, guest is resumed on target host while
nova still reports it on source host, this may lead to a split-brain
situation if instance is restarted.

This change proposes to abort live-migration job if issue occurs
during _live_migration_monitor.

Change-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93
Closes-Bug: #1905944
(cherry picked from commit 39f0af5d18d6bea34fa15b8f7778115b25432749)
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/837322/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,73fcface7bb1b8f9ed53b5302c01408ac2c4b1b4,bug/1905944," @mock.patch.object(libvirt_driver.LibvirtDriver, ""live_migration_abort"") def _test_live_migration_main(self, mock_abort, mock_copy_disk_path, mock_running, mock_guest, mock_monitor, mock_thread, mock_conn, mon_side_effect=None): mock_monitor.side_effect = mon_side_effect if mon_side_effect: self.assertRaises(mon_side_effect, drvr._live_migration, self.context, instance, ""fakehost"", fake_post, fake_recover, True, migrate_data) mock_abort.assert_called_once_with(instance) else: drvr._live_migration(self.context, instance, ""fakehost"", fake_post, fake_recover, True, migrate_data) def test_live_migration_main(self): self._test_live_migration_main() def test_live_migration_main_monitoring_failed(self): self._test_live_migration_main(mon_side_effect=Exception) "," def test_live_migration_main(self, mock_copy_disk_path, mock_running, mock_guest, mock_monitor, mock_thread, mock_conn): drvr._live_migration(self.context, instance, ""fakehost"", fake_post, fake_recover, True, migrate_data)",33,6
openstack%2Ftripleo-heat-templates~master~I3c58a23d26708a1bbe00022cb2d29e577e929f27,openstack/tripleo-heat-templates,master,I3c58a23d26708a1bbe00022cb2d29e577e929f27,Validate no services are disabled in pacemaker,NEW,2022-06-10 13:42:57.000000000,2023-06-05 16:05:38.000000000,,"[{'_account_id': 5241}, {'_account_id': 7144}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-10 13:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6592d6b33998e91701225a8d258cc9588b117600', 'message': 'Validate no services are disabled in pacemaker\n\nValidate no services are disabled in pacemaker especially pacemaker\nremote service as the configuration steps will timeout after a few\nhours if for some reasons the services are disabled and a stack\ndeploy is ran.\n\nChange-Id: I3c58a23d26708a1bbe00022cb2d29e577e929f27\n'}, {'number': 2, 'created': '2022-06-10 13:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/335ca4d896560dd35e19f48b627ff15641c4c0ce', 'message': 'Validate no services are disabled in pacemaker\n\nValidate no services are disabled in pacemaker especially pacemaker\nremote service as the configuration steps will timeout after a few\nhours if for some reasons the services are disabled and a stack\ndeploy is ran.\n\nChange-Id: I3c58a23d26708a1bbe00022cb2d29e577e929f27\n'}, {'number': 3, 'created': '2022-06-10 13:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c798e0c56f3b5e17419625c03b3ef651590b2dfa', 'message': 'Validate no services are disabled in pacemaker\n\nValidate no services are disabled in pacemaker especially pacemaker\nremote service as the configuration steps will timeout after a few\nhours if for some reasons the services are disabled and a stack\ndeploy is ran.\n\nChange-Id: I3c58a23d26708a1bbe00022cb2d29e577e929f27\n'}, {'number': 4, 'created': '2022-06-10 14:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06961f62c223863403ba7f0b7a5ab246cc471612', 'message': 'Validate no services are disabled in pacemaker\n\nValidate no services are disabled in pacemaker especially pacemaker\nremote service as the configuration steps will timeout after a few\nhours if for some reasons the services are disabled and a stack\ndeploy is ran.\n\nChange-Id: I3c58a23d26708a1bbe00022cb2d29e577e929f27\n'}, {'number': 5, 'created': '2022-06-10 14:06:42.000000000', 'files': ['deployment/pacemaker/compute-instanceha-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/69f76420047a56c476a46ff3c310aadb7196f87e', 'message': 'Validate no services are disabled in pacemaker\n\nValidate no services are disabled in pacemaker especially pacemaker\nremote service as the configuration steps will timeout after a few\nhours if for some reasons the services are disabled and a stack\ndeploy is ran.\n\nChange-Id: I3c58a23d26708a1bbe00022cb2d29e577e929f27\n'}]",1,845354,69f76420047a56c476a46ff3c310aadb7196f87e,11,5,5,7130,,,0,"Validate no services are disabled in pacemaker

Validate no services are disabled in pacemaker especially pacemaker
remote service as the configuration steps will timeout after a few
hours if for some reasons the services are disabled and a stack
deploy is ran.

Change-Id: I3c58a23d26708a1bbe00022cb2d29e577e929f27
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/845354/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/compute-instanceha-baremetal-puppet.yaml'],1,6592d6b33998e91701225a8d258cc9588b117600,instance_ha_val," host_prep_tasks: - name: Validate pacemaker cluster is healthy command: pcs status | grep -q ""Stopped (disabled)"" register: pcs_status when: {get_param: EnableInstanceHA} - name: Fail when services are disabled fail: msg: Some services are disabled when they're expected to be enabled, next step will timeout when: - {get_param: EnableInstanceHA} - pcs_status.rc == 0",,11,0
openstack%2Fbarbican-tempest-plugin~master~I60305a35528fd16ac4e995d11d6d0999a6440e44,openstack/barbican-tempest-plugin,master,I60305a35528fd16ac4e995d11d6d0999a6440e44,Enable test_secret_stores tests,MERGED,2023-05-22 13:59:02.000000000,2023-06-05 15:56:35.000000000,2023-06-05 15:56:35.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-05-22 13:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/0997c08cd03819bee7c39f0bbef37d2fc9b1a814', 'message': '[WIP] Enable test_secret_stores tests\n\nChange-Id: I60305a35528fd16ac4e995d11d6d0999a6440e44\n'}, {'number': 2, 'created': '2023-05-22 14:46:41.000000000', 'files': ['.zuul.yaml', 'barbican_tempest_plugin/tests/rbac/v1/test_secret_stores.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/d8047c20252f469977b20a7e03b982ce5cfa5fe2', 'message': 'Enable test_secret_stores tests\n\nThis patch enables test_secret_stores tests in the SRBAC job. The tests\nwere previously fixed in this patch [1].\n\nThis change builds on the fix. It modifies the configuration of\nthe SRBAC job so that it is deployed with enabled multiple secret\nstores.\n\n[1] https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/883482\n\nChange-Id: I60305a35528fd16ac4e995d11d6d0999a6440e44\n'}]",3,883846,d8047c20252f469977b20a7e03b982ce5cfa5fe2,10,5,2,30674,,,0,"Enable test_secret_stores tests

This patch enables test_secret_stores tests in the SRBAC job. The tests
were previously fixed in this patch [1].

This change builds on the fix. It modifies the configuration of
the SRBAC job so that it is deployed with enabled multiple secret
stores.

[1] https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/883482

Change-Id: I60305a35528fd16ac4e995d11d6d0999a6440e44
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/46/883846/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0997c08cd03819bee7c39f0bbef37d2fc9b1a814,feature/enable-test-secret-stores, secretstore: enable_multiple_secret_stores: True stores_lookup_suffix: simple_crypto secretstore:simple_crypto: secret_store_plugin: store_crypto crypto_plugin: simple_crypto global_default: true barbican_tempest: enable_multiple_secret_stores: True,,9,0
openstack%2Fpuppet-nova~stable%2F2023.1~I41783e8697e3d9d43f2ca5c5d91cb91a74917aea,openstack/puppet-nova,stable/2023.1,I41783e8697e3d9d43f2ca5c5d91cb91a74917aea,Fix restart of modular libvirt daemons after config change,MERGED,2023-06-05 10:00:46.000000000,2023-06-05 15:54:26.000000000,2023-06-05 15:54:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 10:00:46.000000000', 'files': ['manifests/compute/libvirt/services.pp', 'manifests/params.pp', 'manifests/deps.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/56aeeb0365c9a6e74a51353eefd7dd4ecfc83f19', 'message': ""Fix restart of modular libvirt daemons after config change\n\nThis fixes the regression caused by [1]. A socket can't be restarted\nif the associated service is already started, so we should restart\nthe service instead of the socket.\n\n[1] ef8a070e853f88b8a7fde4eba0f9cd8db109d893\n\nChange-Id: I41783e8697e3d9d43f2ca5c5d91cb91a74917aea\n(cherry picked from commit 4161c48f2ce9e4c6c4b8556710cb26855dce1b48)\n""}]",3,885251,56aeeb0365c9a6e74a51353eefd7dd4ecfc83f19,9,3,1,9816,,,0,"Fix restart of modular libvirt daemons after config change

This fixes the regression caused by [1]. A socket can't be restarted
if the associated service is already started, so we should restart
the service instead of the socket.

[1] ef8a070e853f88b8a7fde4eba0f9cd8db109d893

Change-Id: I41783e8697e3d9d43f2ca5c5d91cb91a74917aea
(cherry picked from commit 4161c48f2ce9e4c6c4b8556710cb26855dce1b48)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/51/885251/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt/services.pp', 'manifests/params.pp', 'manifests/deps.pp']",3,56aeeb0365c9a6e74a51353eefd7dd4ecfc83f19,, -> Exec<| tag == 'libvirt-service'|>,,83,20
openstack%2Fpuppet-nova~stable%2F2023.1~I7627a5a6233b3d157d930e5b62e612ce9defe1f2,openstack/puppet-nova,stable/2023.1,I7627a5a6233b3d157d930e5b62e612ce9defe1f2,Drop modular libvirt daemon names for Debian/Ubuntu,MERGED,2023-06-05 10:00:32.000000000,2023-06-05 15:54:25.000000000,2023-06-05 15:54:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 10:00:32.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/510698dc0af64a962e63387729c2fa0a8be8c41e', 'message': 'Drop modular libvirt daemon names for Debian/Ubuntu\n\nThese distributions do not support modular libvirt daemons and now\nthe module prohibit usage of that architecture. So these definitions\nare no longer used.\n\nChange-Id: I7627a5a6233b3d157d930e5b62e612ce9defe1f2\n(cherry picked from commit fe2b1c8255f4dc8777c3578f5361a0880f0986e1)\n'}]",0,885250,510698dc0af64a962e63387729c2fa0a8be8c41e,7,3,1,9816,,,0,"Drop modular libvirt daemon names for Debian/Ubuntu

These distributions do not support modular libvirt daemons and now
the module prohibit usage of that architecture. So these definitions
are no longer used.

Change-Id: I7627a5a6233b3d157d930e5b62e612ce9defe1f2
(cherry picked from commit fe2b1c8255f4dc8777c3578f5361a0880f0986e1)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/50/885250/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,510698dc0af64a962e63387729c2fa0a8be8c41e,, $virtsecret_service_name = undef $virtnodedev_service_name = undef $virtqemu_service_name = undef $virtproxy_service_name = undef $virtstorage_service_name = undef $virtsecret_service_name = undef $virtnodedev_service_name = undef $virtqemu_service_name = undef $virtproxy_service_name = undef $virtstorage_service_name = undef, $virtsecret_service_name = 'virtsecretd.socket' $virtnodedev_service_name = 'virtnodedevd.socket' $virtqemu_service_name = 'virtqemud.socket' $virtproxy_service_name = 'virtproxyd.socket' $virtstorage_service_name = 'virtstoraged.socket' $virtsecret_service_name = 'virtsecretd' $virtnodedev_service_name = 'virtnodedevd' $virtqemu_service_name = 'virtqemud' $virtproxy_service_name = 'virtproxyd' $virtstorage_service_name = 'virtstoraged',10,10
openstack%2Ftempest~master~I00a87fe488ebc383c913fa9757f98e19aa2605e9,openstack/tempest,master,I00a87fe488ebc383c913fa9757f98e19aa2605e9,[FIX] Floating IP already exists error,MERGED,2023-05-29 10:14:49.000000000,2023-06-05 15:48:59.000000000,2023-06-05 15:47:50.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28619}, {'_account_id': 30674}]","[{'number': 1, 'created': '2023-05-29 10:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/92529b57900e4d7404292fa2e033b1cb05e1102a', 'message': ""[FIX] Floating IP already exists error\n\nif floating_network_name parameter is set in tempest.conf,\nscenario.test_server_basic_ops.verify_ssh test fails\nif server already has floating ip set, since it doesn't\ncheck for it's existence. This patch fixes this issue.\nMore info here [1]\n\n[1] https://bugs.launchpad.net/tempest/+bug/2020659\n\nCloses-Bug: 2020659\nChange-Id: I00a87fe488ebc383c913fa9757f98e19aa2605e9\n""}, {'number': 2, 'created': '2023-06-01 08:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8e809f750a74dc86273a5c605bc2e6bace1d5a3b', 'message': ""[FIX] Floating IP already exists error\n\nif floating_network_name parameter is set in tempest.conf,\nscenario.test_server_basic_ops.verify_ssh test fails\nif server already has floating ip set, since it doesn't\ncheck for it's existence. This patch fixes this issue.\nMore info here [1]\n\nSince get_server_ip() is able to return both fixed and floating ip,\nthere is no reason to keep the if-else statement anymore.\n\n[1] https://bugs.launchpad.net/tempest/+bug/2020659\n\nCloses-Bug: 2020659\nChange-Id: I00a87fe488ebc383c913fa9757f98e19aa2605e9\n""}, {'number': 3, 'created': '2023-06-01 14:02:19.000000000', 'files': ['tempest/scenario/test_server_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/86b8b6204c08aa304b57c0758b2ae3321513614b', 'message': ""[FIX] Floating IP already exists error\n\nif floating_network_name parameter is set in tempest.conf,\nscenario.test_server_basic_ops.verify_ssh test fails\nif server already has floating ip set, since it doesn't\ncheck for it's existence. This patch fixes this issue.\nMore info here [1]\n\nSince get_server_ip() is able to return both fixed and floating ip,\nthere is no reason to keep the if-else statement anymore.\n\n[1] https://bugs.launchpad.net/tempest/+bug/2020659\n\nCloses-Bug: 2020659\nChange-Id: I00a87fe488ebc383c913fa9757f98e19aa2605e9\n""}]",17,884584,86b8b6204c08aa304b57c0758b2ae3321513614b,30,5,3,33732,,,0,"[FIX] Floating IP already exists error

if floating_network_name parameter is set in tempest.conf,
scenario.test_server_basic_ops.verify_ssh test fails
if server already has floating ip set, since it doesn't
check for it's existence. This patch fixes this issue.
More info here [1]

Since get_server_ip() is able to return both fixed and floating ip,
there is no reason to keep the if-else statement anymore.

[1] https://bugs.launchpad.net/tempest/+bug/2020659

Closes-Bug: 2020659
Change-Id: I00a87fe488ebc383c913fa9757f98e19aa2605e9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/84/884584/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_server_basic_ops.py'],1,92529b57900e4d7404292fa2e033b1cb05e1102a,fix/2020659, self.ip = self.get_server_ip(self.instance)," fip = self.create_floating_ip(self.instance) self.ip = self.associate_floating_ip( fip, self.instance)['floating_ip_address']",1,3
openstack%2Fpuppet-tripleo~master~I011578c397780ed621bd3c4e92ad0a2a0cb3b78c,openstack/puppet-tripleo,master,I011578c397780ed621bd3c4e92ad0a2a0cb3b78c,Allow an operator to change the crypto policies,NEW,2022-10-03 19:29:28.000000000,2023-06-05 15:46:54.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-10-03 19:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4280959477a56a15a329cdc2ad500094d33d3310', 'message': 'Allow an operator to change the crypto policies\n\nAllow an operator to change the crypto policies through tripleo.\n\nChange-Id: I011578c397780ed621bd3c4e92ad0a2a0cb3b78c\n'}, {'number': 2, 'created': '2022-10-03 19:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2a3c2bf05a2fa78e918f1429f7a5a4bcca96e8c1', 'message': 'Allow an operator to change the crypto policies\n\nAllow an operator to change the crypto policies through tripleo.\n\nChange-Id: I011578c397780ed621bd3c4e92ad0a2a0cb3b78c\n'}, {'number': 3, 'created': '2022-10-03 19:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ca6d67a0056abe6eda6e8c524d330415108bd12c', 'message': 'Allow an operator to change the crypto policies\n\nAllow an operator to change the crypto policies through tripleo.\n\nChange-Id: I011578c397780ed621bd3c4e92ad0a2a0cb3b78c\n'}, {'number': 4, 'created': '2022-10-03 19:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bce6ec3f9961b376e798855b892bc54f94ef11d1', 'message': 'Allow an operator to change the crypto policies\n\nAllow an operator to change the crypto policies through tripleo.\n\nChange-Id: I011578c397780ed621bd3c4e92ad0a2a0cb3b78c\n'}, {'number': 5, 'created': '2022-10-03 20:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/02204a6bcd638c59545b35354ab0f13fce6b6476', 'message': 'Allow an operator to change the crypto policies\n\nAllow an operator to change the crypto policies through tripleo.\n\nChange-Id: I011578c397780ed621bd3c4e92ad0a2a0cb3b78c\n'}, {'number': 6, 'created': '2022-10-03 20:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5fd8461f90fdf055d1b1b80244808d642cfd6627', 'message': 'Allow an operator to change the crypto policies\n\nAllow an operator to change the crypto policies through tripleo.\n\nChange-Id: I011578c397780ed621bd3c4e92ad0a2a0cb3b78c\n'}, {'number': 7, 'created': '2022-10-05 15:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d4cc5cf253e3328d155414fa2c420044ea2c0d20', 'message': 'Allow an operator to change the crypto policies\n\nAllow an operator to change the crypto policies through tripleo.\n\nChange-Id: I011578c397780ed621bd3c4e92ad0a2a0cb3b78c\n'}, {'number': 8, 'created': '2022-10-05 15:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/aed4cbbd7d619adece97107e0fd4767766a2f05c', 'message': 'Allow an operator to change the crypto policies\n\nAllow an operator to change the crypto policies through tripleo.\n\nChange-Id: I011578c397780ed621bd3c4e92ad0a2a0cb3b78c\n'}, {'number': 9, 'created': '2022-10-05 15:19:50.000000000', 'files': ['manifests/profile/base/crypto_policies.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f60bf4b653d8db09cff0b1449c40079b5dae1db8', 'message': 'Allow an operator to change the crypto policies\n\nAllow an operator to change the crypto policies through tripleo.\n\nChange-Id: I011578c397780ed621bd3c4e92ad0a2a0cb3b78c\n'}]",3,860124,f60bf4b653d8db09cff0b1449c40079b5dae1db8,16,4,9,7130,,,0,"Allow an operator to change the crypto policies

Allow an operator to change the crypto policies through tripleo.

Change-Id: I011578c397780ed621bd3c4e92ad0a2a0cb3b78c
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/24/860124/8 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/crypto_policies.pp'],1,4280959477a56a15a329cdc2ad500094d33d3310,crypto_policy,"# Copyright 2016 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::crypto_policies # # Iscsid profile for tripleo # # === Parameters # # [*crypto_policies*] # (Optional) Crypto policy to use # Defaults to 'DEFAULT' # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to Integer(lookup('step')) # class tripleo::profile::base::crypto_policies ( $crypto_policies = undef, $step = Integer(lookup('step')), ) { if $step >= 2 { if $crypto_polices != undef { $crypto_policy = 'DEFAULT' } else { $crypto_policy = $crypto_policies } file { '/etc/crypto-policies/config': ensure => file, backup => false, content => $crypto_policy, owner => 'root', group => 'root', mode => '0644' } } } ",,50,0
openstack%2Fos-net-config~master~Ib67b807ae4429471d787af4885e3ae68d903506e,openstack/os-net-config,master,Ib67b807ae4429471d787af4885e3ae68d903506e,Added num_queue support configuration for VFs,ABANDONED,2022-07-05 17:04:59.000000000,2023-06-05 15:46:19.000000000,,"[{'_account_id': 11604}, {'_account_id': 18904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-05 17:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/b76c0e7cda3fcf9b36440c33e96131f1a2f6dbd8', 'message': 'Added num_queue support configuration for VFs\n\nAdded num_queue support configuration for VFs which allows operators\nto set num_queues on their VFs if they use a driver that supports this.\n\nChange-Id: Ib67b807ae4429471d787af4885e3ae68d903506e\n'}, {'number': 2, 'created': '2022-07-05 17:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ae273d0360f1a49ac6ea992ee59802ea62d27fc3', 'message': 'Added num_queue support configuration for VFs\n\nAdded num_queue support configuration for VFs which allows operators\nto set num_queues on their VFs if they use a driver that supports this.\n\nChange-Id: Ib67b807ae4429471d787af4885e3ae68d903506e\n'}, {'number': 3, 'created': '2022-07-05 17:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/6966253e304d69dc17638a6ebb7ed6b98365e745', 'message': 'Added num_queue support configuration for VFs\n\nAdded num_queue support configuration for VFs which allows operators\nto set num_queues on their VFs if they use a driver that supports this.\n\nChange-Id: Ib67b807ae4429471d787af4885e3ae68d903506e\n'}, {'number': 4, 'created': '2022-07-05 17:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/51cb80f262c7c2ad40d3ec698120122cc5974d1f', 'message': 'Added num_queue support configuration for VFs\n\nAdded num_queue support configuration for VFs which allows operators\nto set num_queues on their VFs if they use a driver that supports this.\n\nChange-Id: Ib67b807ae4429471d787af4885e3ae68d903506e\n'}, {'number': 5, 'created': '2022-07-05 17:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/1fbde274c3d03b130ebeeced23f3ced25b89771a', 'message': 'Added num_queue support configuration for VFs\n\nAdded num_queue support configuration for VFs which allows operators\nto set num_queues on their VFs if they use a driver that supports this.\n\nChange-Id: Ib67b807ae4429471d787af4885e3ae68d903506e\n'}, {'number': 6, 'created': '2022-07-05 17:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/42945d385712cfc901fa9528b1eb5bb0bb435da3', 'message': 'Added num_queue support configuration for VFs\n\nAdded num_queue support configuration for VFs which allows operators\nto set num_queues on their VFs if they use a driver that supports this.\n\nChange-Id: Ib67b807ae4429471d787af4885e3ae68d903506e\n'}, {'number': 7, 'created': '2022-07-05 17:54:21.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/objects.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/865caf561a05f3eb8f9982bda4ebe6d980482c8e', 'message': 'Added num_queue support configuration for VFs\n\nAdded num_queue support configuration for VFs which allows operators\nto set num_queues on their VFs if they use a driver that supports this.\n\nChange-Id: Ib67b807ae4429471d787af4885e3ae68d903506e\n'}]",20,848769,865caf561a05f3eb8f9982bda4ebe6d980482c8e,19,3,7,7130,,,0,"Added num_queue support configuration for VFs

Added num_queue support configuration for VFs which allows operators
to set num_queues on their VFs if they use a driver that supports this.

Change-Id: Ib67b807ae4429471d787af4885e3ae68d903506e
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/69/848769/2 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/sriov_config.py'],1,b76c0e7cda3fcf9b36440c33e96131f1a2f6dbd8,numquues," vf_name = item['name'] if 'num_queues' in item: try: with open(""/sys/class/net/{pf_name}/device/sriov/{vfname}/num_queues"", ""w"") as nq: nq.write(nq, ""%i\n"" % item['num_queues])' nq.close() except IOError as exc: logger.warning(f""{pf_name}: This PF does not support overriding num_queues"") ",,9,0
openstack%2Ftripleo-heat-templates~master~Iba147a871c2b73810138604191116b3950fc5cbe,openstack/tripleo-heat-templates,master,Iba147a871c2b73810138604191116b3950fc5cbe,Allow an operator to change crypto policies,NEW,2022-10-03 19:49:52.000000000,2023-06-05 15:34:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-10-03 19:49:52.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd28e98cfc78a37f8bf0f22a9063484f840a4436', 'message': 'Allow an operator to change crypto policies\n\nAllow an operator to change crypto policies in the keystone container.\n\ndepends-on: https://review.opendev.org/c/openstack/puppet-tripleo/+/860124\nChange-Id: Iba147a871c2b73810138604191116b3950fc5cbe\n'}]",2,860128,dd28e98cfc78a37f8bf0f22a9063484f840a4436,6,2,1,7130,,,0,"Allow an operator to change crypto policies

Allow an operator to change crypto policies in the keystone container.

depends-on: https://review.opendev.org/c/openstack/puppet-tripleo/+/860124
Change-Id: Iba147a871c2b73810138604191116b3950fc5cbe
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/860128/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,dd28e98cfc78a37f8bf0f22a9063484f840a4436,," CryptoPolicies: description: > The Crypto policies to use with keystone. type: string default: '' crypto_policies_set: {not: {equals: [{get_param: CryptoPolicies}, '']}} - crypto_policies_set - tripleo::profile::base::crypto_policies::crypto_policies: {get_param: CryptoPolicies} - if:",,9,0
openstack%2Fnova~master~I71682d1d8d2f1574e7f9fe04cac1e03d7c77f0f2,openstack/nova,master,I71682d1d8d2f1574e7f9fe04cac1e03d7c77f0f2,Change maximum value of pcie-ports to 32,NEW,2023-01-20 16:44:20.000000000,2023-06-05 15:24:27.000000000,,"[{'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-20 16:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e14cb3292f2ffa8ab5e9a0c1c1461de6a0a5304a', 'message': 'Change maximum value of pcie-ports to 64\n\nThe current value of 28 is due to the fact that pcie-ports in AARCH64\nis limited to 28.   This commit increase the maximum limit to 64 and\nset a maximum value of 28 only for AARCH64.\n\nChange-Id: I71682d1d8d2f1574e7f9fe04cac1e03d7c77f0f2\n'}, {'number': 2, 'created': '2023-01-20 17:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef7ffe066a10f57603478e886c5fec354cb471a3', 'message': 'Change maximum value of pcie-ports to 64\n\nThe current value of 28 is due to the fact that pcie-ports in AARCH64\nhas a hardware limitation of that said vaue but some NFV operators\nas well as other users might need more than 28 when the hardware\n(such as x86_64 and AMD) allows more than that limit.   Here, we set\nthe maximum value to 64 for all of the architectures and still use\na hard maximum limit of 28 for AARCH64.\n\nChange-Id: I71682d1d8d2f1574e7f9fe04cac1e03d7c77f0f2\n'}, {'number': 3, 'created': '2023-01-20 17:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95769bf883fecaa52e43e9c94c451fd7af78806f', 'message': 'Change maximum value of pcie-ports to 32\n\nThe current value of 28 is due to the fact that pcie-ports in AARCH64\nhas a hardware limitation of that said vaue but some NFV operators\nas well as other users might need more than 28 when the hardware\n(such as x86_64 and AMD) allows more than that limit.   Here, we set\nthe maximum value to 32 for all of the architectures and still use\na hard maximum limit of 28 for AARCH64.\n\nChange-Id: I71682d1d8d2f1574e7f9fe04cac1e03d7c77f0f2\n'}, {'number': 4, 'created': '2023-02-18 00:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb44051170819522cb79c1216bc17f2b36e2ef50', 'message': 'Change maximum value of pcie-ports to 32\n\nThe current value of 28 is due to the fact that pcie-ports in AARCH64\nhas a hardware limitation of that said vaue but some NFV operators\nas well as other users might need more than 28 when the hardware\n(such as x86_64 and AMD) allows more than that limit.   Here, we set\nthe maximum value to 32 for all of the architectures and still use\na hard maximum limit of 28 for AARCH64.\n\nChange-Id: I71682d1d8d2f1574e7f9fe04cac1e03d7c77f0f2\n'}, {'number': 5, 'created': '2023-02-18 00:43:19.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3415868bef57bfe3be07334b154add115fa8c343', 'message': 'Change maximum value of pcie-ports to 32\n\nThe current value of 28 is due to the fact that pcie-ports in AARCH64\nhas a hardware limitation of that said vaue but some NFV operators\nas well as other users might need more than 28 when the hardware\n(such as x86_64 and AMD) allows more than that limit.   Here, we set\nthe maximum value to 32 for all of the architectures and still use\na hard maximum limit of 28 for AARCH64.\n\nChange-Id: I71682d1d8d2f1574e7f9fe04cac1e03d7c77f0f2\n'}]",12,871305,3415868bef57bfe3be07334b154add115fa8c343,33,3,5,7130,,,0,"Change maximum value of pcie-ports to 32

The current value of 28 is due to the fact that pcie-ports in AARCH64
has a hardware limitation of that said vaue but some NFV operators
as well as other users might need more than 28 when the hardware
(such as x86_64 and AMD) allows more than that limit.   Here, we set
the maximum value to 32 for all of the architectures and still use
a hard maximum limit of 28 for AARCH64.

Change-Id: I71682d1d8d2f1574e7f9fe04cac1e03d7c77f0f2
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/871305/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py']",2,e14cb3292f2ffa8ab5e9a0c1c1461de6a0a5304a,pcie_host," max=64,Due to QEMU limitations for aarch64/virt maximum value is set to '28' for this architecture."," max=28,Due to QEMU limitations for aarch64/virt maximum value is set to '28'.",12,3
openstack%2Ftripleo-ansible~master~I324e6dd6ae4bccb3b7ab21eefd303ee53aac6756,openstack/tripleo-ansible,master,I324e6dd6ae4bccb3b7ab21eefd303ee53aac6756,Backup pacemaker before mysqld,NEW,2022-12-07 18:01:27.000000000,2023-06-05 15:20:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-07 18:01:27.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/56080251729dea93df4edecf653f2993062cc6a2', 'message': 'Backup pacemaker before mysqld\n\nWe need to perform the pacemaker backup before the mysql backup\nbecause the mysql backup stops pacemaker (for some reasons) on all\nnodes thus breaking the cib.xml generation.\n\nChange-Id: I324e6dd6ae4bccb3b7ab21eefd303ee53aac6756\n'}]",2,866886,56080251729dea93df4edecf653f2993062cc6a2,5,2,1,7130,,,0,"Backup pacemaker before mysqld

We need to perform the pacemaker backup before the mysql backup
because the mysql backup stops pacemaker (for some reasons) on all
nodes thus breaking the cib.xml generation.

Change-Id: I324e6dd6ae4bccb3b7ab21eefd303ee53aac6756
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/86/866886/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/main.yml'],1,56080251729dea93df4edecf653f2993062cc6a2,fix_backup_pcs,- name: Backup the database import_tasks: db_backup.yml when: tripleo_backup_and_restore_enabled_services.stdout is search('mysql^') ,- name: Backup the database import_tasks: db_backup.yml when: tripleo_backup_and_restore_enabled_services.stdout is search('mysql^') ,4,4
openstack%2Ftripleo-ansible~master~Ib30c6fa4cd13e143460c204141202fb2b618482a,openstack/tripleo-ansible,master,Ib30c6fa4cd13e143460c204141202fb2b618482a,Fix MTU ping validations,NEW,2022-12-05 15:20:48.000000000,2023-06-05 15:18:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-12-05 15:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20af9f08ae7d8f5831445d5264a881cd9b35e720', 'message': 'Fix MTU ping validations\n\nFix MTU ping validations as the current calculated value is always\n-28 .\n\nChange-Id: Ib30c6fa4cd13e143460c204141202fb2b618482a\n'}, {'number': 2, 'created': '2022-12-05 15:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/784a574f705b2e0be6da5cf347d530d661d493e1', 'message': 'Fix MTU ping validations\n\nFix MTU ping validations as the current calculated value is always\n-28 .\n\nChange-Id: Ib30c6fa4cd13e143460c204141202fb2b618482a\n'}, {'number': 3, 'created': '2022-12-05 15:34:38.000000000', 'files': ['tripleo_ansible/roles/tripleo_nodes_validation/tasks/ping.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3d69dd92e54e56c4a432a7fc00180d81bdb9c083', 'message': 'Fix MTU ping validations\n\nFix MTU ping validations as the current calculated value is always\n-28 .\n\nChange-Id: Ib30c6fa4cd13e143460c204141202fb2b618482a\n'}]",2,866590,3d69dd92e54e56c4a432a7fc00180d81bdb9c083,8,2,3,7130,,,0,"Fix MTU ping validations

Fix MTU ping validations as the current calculated value is always
-28 .

Change-Id: Ib30c6fa4cd13e143460c204141202fb2b618482a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/90/866590/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_nodes_validation/tasks/ping.yml'],1,20af9f08ae7d8f5831445d5264a881cd9b35e720,fix_mtu_validation," _sed_opts: ""'s/.*dev \\([^ ]*\\).*/\\1/' "" INT=$(ip ro get {{ controller }} | head -1 | sed -E {{ _sed_opts }})"," _sed_opts: ""'s/.*dev \\([^ ]*\\).*/\\1/') "" INT=$(ip ro get {{ controller }} | head -1 | sed '{{ _sed_opts }}')",2,2
openstack%2Fansible-role-redhat-subscription~master~I4a60d910b16b0d9e9edf3d1e27ea3cfe53eae2aa,openstack/ansible-role-redhat-subscription,master,I4a60d910b16b0d9e9edf3d1e27ea3cfe53eae2aa,Fix satellite discovery due to tripleo_free bug,NEW,2022-08-31 16:03:28.000000000,2023-06-05 15:13:55.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-31 16:03:28.000000000', 'files': ['tasks/satellite.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/9b2b79ee96a34929d50aa7307b2e2a3c6e3098a0', 'message': 'Fix satellite discovery due to tripleo_free bug\n\nFix satellite discovery due to tripleo_free bug by moving the when\nto each of the tasks within the block.\n\nChange-Id: I4a60d910b16b0d9e9edf3d1e27ea3cfe53eae2aa\n'}]",2,855385,9b2b79ee96a34929d50aa7307b2e2a3c6e3098a0,4,2,1,7130,,,0,"Fix satellite discovery due to tripleo_free bug

Fix satellite discovery due to tripleo_free bug by moving the when
to each of the tasks within the block.

Change-Id: I4a60d910b16b0d9e9edf3d1e27ea3cfe53eae2aa
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/85/855385/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/satellite.yml'],1,9b2b79ee96a34929d50aa7307b2e2a3c6e3098a0,fix_tripleofree, when: - _sat6_check_v6 is failed when: - _sat6_check_v6 is failed, when: - _sat6_check_v6 is failed,4,2
openstack%2Foctavia~master~I5338b8e95d6fdf4cc9c1c1267024031031370918,openstack/octavia,master,I5338b8e95d6fdf4cc9c1c1267024031031370918,amphora_agent.conf is missing log targets,NEW,2022-08-30 17:45:28.000000000,2023-06-05 15:13:06.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-30 17:45:28.000000000', 'files': ['octavia/amphorae/backends/agent/templates/amphora_agent_conf.template'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d9d3e7ccc418553117e6ce3dfde4f4e4d3cd7aed', 'message': ""amphora_agent.conf is missing log targets\n\namphora_agent.conf is missing log targets and if user_data_config_drive\nis set to false, then log offloading isn't configured as expected.  One\nother way around this issue would be to set user_data_config_drive=True\nin the octavia.conf file.\n\nChange-Id: I5338b8e95d6fdf4cc9c1c1267024031031370918\n""}]",3,855269,d9d3e7ccc418553117e6ce3dfde4f4e4d3cd7aed,4,2,1,7130,,,0,"amphora_agent.conf is missing log targets

amphora_agent.conf is missing log targets and if user_data_config_drive
is set to false, then log offloading isn't configured as expected.  One
other way around this issue would be to set user_data_config_drive=True
in the octavia.conf file.

Change-Id: I5338b8e95d6fdf4cc9c1c1267024031031370918
",git fetch https://review.opendev.org/openstack/octavia refs/changes/69/855269/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/backends/agent/templates/amphora_agent_conf.template'],1,d9d3e7ccc418553117e6ce3dfde4f4e4d3cd7aed,amphora_offload_log,admin_log_targets = {{ admin_log_targets }}tenant_log_targets = {{ tenant_log_targets }},,2,0
openstack%2Fpython-tripleoclient~master~I9ccf3154e9052df97383d460f0c0f87a5370e7ef,openstack/python-tripleoclient,master,I9ccf3154e9052df97383d460f0c0f87a5370e7ef,Implement --db-only backups for overcloud,NEW,2022-08-25 13:18:41.000000000,2023-06-05 15:12:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 32968}, {'_account_id': 34423}]","[{'number': 1, 'created': '2022-08-25 13:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/00105e07ca778e523c8a920aa6acf85de7124c5c', 'message': 'Implement --db-only backups for overcloud\n\nThis new change allows an operator to take a database backup from\nthe first host in the Controller group by using `openstack overcloud\nbackup --db-only`\n\nChange-Id: I9ccf3154e9052df97383d460f0c0f87a5370e7ef\n'}, {'number': 2, 'created': '2022-08-25 13:20:29.000000000', 'files': ['tripleoclient/v1/overcloud_backup.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fe36c2bde4d0285edd5842da2d91fef4cb42c3db', 'message': 'Implement --db-only backups for overcloud\n\nThis new change allows an operator to take a database backup from\nthe first host in the Controller group by using `openstack overcloud\nbackup --db-only`\n\nChange-Id: I9ccf3154e9052df97383d460f0c0f87a5370e7ef\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/854620\n'}]",3,854621,fe36c2bde4d0285edd5842da2d91fef4cb42c3db,9,3,2,7130,,,0,"Implement --db-only backups for overcloud

This new change allows an operator to take a database backup from
the first host in the Controller group by using `openstack overcloud
backup --db-only`

Change-Id: I9ccf3154e9052df97383d460f0c0f87a5370e7ef
Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/854620
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/21/854621/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_backup.py'],1,00105e07ca778e523c8a920aa6acf85de7124c5c,overcloud_db_backup," '--db-only', default=False, action='store_true', help=_(""Perform a DB backup of the first host in 'Controller' "" ""group. The DB backup file will be stored in /home/stack "" ""with the name "" ""openstack-backup-mysql-overcloud-<timestamp>.sql."") ) parser.add_argument( if parsed_args.db_only is True: self._run_ansible_playbook( playbook='cli-overcloud-db-backup.yaml', inventory=parsed_args.inventory, tags=None, skip_tags=None, extra_vars=extra_vars ) ",,20,0
openstack%2Fhorizon~master~I59ee868e7f792fdc961d56b564d7776c1d717194,openstack/horizon,master,I59ee868e7f792fdc961d56b564d7776c1d717194,Rename based 2 units to binary reprentation,NEW,2022-08-15 15:22:08.000000000,2023-06-05 15:11:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-08-15 15:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d296f0fdcf6cc73a5cab205c5ff46d4c63c2d8bf', 'message': 'Fix RAM unit conversion from GiB to GB\n\nFix RAM unit conversion from GiB to GB\n\nChange-Id: I59ee868e7f792fdc961d56b564d7776c1d717194\n'}, {'number': 2, 'created': '2022-08-15 15:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/94c5262d0b0cd07c26721a8afde3ac0b439a32a7', 'message': 'Fix RAM unit conversion from GiB to GB\n\nFix RAM unit conversion from GiB to GB\n\nChange-Id: I59ee868e7f792fdc961d56b564d7776c1d717194\n'}, {'number': 3, 'created': '2022-08-15 16:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/63d405701f58298cdc5ba86a0933462de8fd928d', 'message': 'Fix RAM unit conversion from GiB to GB\n\nFix RAM unit conversion from GiB to GB\n\nChange-Id: I59ee868e7f792fdc961d56b564d7776c1d717194\n'}, {'number': 4, 'created': '2022-08-15 16:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7054a1aac496e600897b4f1d5e1172cea76aeec8', 'message': 'Fix RAM unit conversion from GiB to GB\n\nFix RAM unit conversion from GiB to GB\n\nChange-Id: I59ee868e7f792fdc961d56b564d7776c1d717194\n'}, {'number': 5, 'created': '2022-08-15 16:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bea39e49bdc57f2d7deb1b0b12bac56fe51e3305', 'message': ""Rename based 2 units to binary reprentation\n\nRename based 2 units to binary reprentation to decrease confusion\nwith users.  KB can stand for KiB (1024) and KB (1000) and in horizon\nespecially, this is confusing because units are written in the\nconfusing 1000/1024 format when we're definitely always using the\n1024 one.\n\nChange-Id: I59ee868e7f792fdc961d56b564d7776c1d717194\n""}, {'number': 6, 'created': '2022-08-15 16:43:49.000000000', 'files': ['horizon/templatetags/sizeformat.py', 'openstack_dashboard/usage/quotas.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/460ae59f647cb0475e0c3c9633df6c2c0b57ced4', 'message': ""Rename based 2 units to binary reprentation\n\nRename based 2 units to binary reprentation to decrease confusion\nwith users.  KB can stand for KiB (1024) and KB (1000) and in horizon\nespecially, this is confusing because units are written in the\nconfusing 1000/1024 format when we're definitely always using the\n1024 one.\n\nChange-Id: I59ee868e7f792fdc961d56b564d7776c1d717194\n""}]",6,853179,460ae59f647cb0475e0c3c9633df6c2c0b57ced4,9,2,6,7130,,,0,"Rename based 2 units to binary reprentation

Rename based 2 units to binary reprentation to decrease confusion
with users.  KB can stand for KiB (1024) and KB (1000) and in horizon
especially, this is confusing because units are written in the
confusing 1000/1024 format when we're definitely always using the
1024 one.

Change-Id: I59ee868e7f792fdc961d56b564d7776c1d717194
",git fetch https://review.opendev.org/openstack/horizon refs/changes/79/853179/4 && git format-patch -1 --stdout FETCH_HEAD,['horizon/templatetags/sizeformat.py'],1,d296f0fdcf6cc73a5cab205c5ff46d4c63c2d8bf,fix_ram,"def ramsizeformat(bytes, filesize_number_format): try: bytes = float(bytes) except (TypeError, ValueError, UnicodeDecodeError): return ngettext_lazy(""%(size)d B"", ""%(size)d B"", 0) % {'size': 0} if bytes == float('inf'): return _('Infinity') if bytes < units.Ki: bytes = int(bytes) return ngettext_lazy(""%(size)d B"", ""%(size)d B"", bytes) % {'size': bytes} if bytes < units.M: return _(""%s KB"") % filesize_number_format(bytes / units.K) if bytes < units.G: return _(""%s MB"") % filesize_number_format(bytes / units.M) if bytes < units.T: return _(""%s GB"") % filesize_number_format(bytes / units.G) if bytes < units.P: return _(""%s TB"") % filesize_number_format(bytes / units.T) if bytes < units.E: return _(""%s PB"") % filesize_number_format(bytes / units.P) if bytes < units.Z: return _(""%s EB"") % filesize_number_format(bytes / units.E) if bytes < units.Y: return _(""%s ZB"") % filesize_number_format(bytes / units.Z) return _(""%s YB"") % filesize_number_format(bytes / units.Y) return _(""%s KiB"") % filesize_number_format(bytes / units.Ki) if bytes < units.Gi: return _(""%s MiB"") % filesize_number_format(bytes / units.Mi) if bytes < units.Ti: return _(""%s GiB"") % filesize_number_format(bytes / units.Gi) if bytes < units.Pi: return _(""%s TiB"") % filesize_number_format(bytes / units.Ti) if bytes < units.Ei: return _(""%s PiB"") % filesize_number_format(bytes / units.Pi) if bytes < units.Zi: return _(""%s EiB"") % filesize_number_format(bytes / units.Ei) if bytes < units.Yi: return _(""%s ZiB"") % filesize_number_format(bytes / units.Zi) return _(""%s YiB"") % filesize_number_format(bytes / units.Yi) def float_cast_ramsizeformat(value, multiplier=1, format=int_format): try: value = float(value) value = ramsizeformat(value * multiplier, format).replace(' ', '') except (TypeError, ValueError): value = value or _('0 B') return value value = value or _('0 Bi') return float_cast_ramsizeformat(mb, units.M, float_format)"," return _(""%s KB"") % filesize_number_format(bytes / units.Ki) if bytes < units.Gi: return _(""%s MB"") % filesize_number_format(bytes / units.Mi) if bytes < units.Ti: return _(""%s GB"") % filesize_number_format(bytes / units.Gi) if bytes < units.Pi: return _(""%s TB"") % filesize_number_format(bytes / units.Ti) if bytes < units.Ei: return _(""%s PB"") % filesize_number_format(bytes / units.Pi) if bytes < units.Zi: return _(""%s EB"") % filesize_number_format(bytes / units.Ei) if bytes < units.Yi: return _(""%s ZB"") % filesize_number_format(bytes / units.Zi) return _(""%s YB"") % filesize_number_format(bytes / units.Yi) value = value or _('0 B') return float_cast_filesizeformat(mb, units.Mi, float_format)",49,10
openstack%2Fnova~master~I8404c0a9c3e547ca0596fbd9f9a7e8c5ce8b2ad7,openstack/nova,master,I8404c0a9c3e547ca0596fbd9f9a7e8c5ce8b2ad7,Add disable_cpu_type_validation to skip cpu type validation.,NEW,2022-04-19 16:26:54.000000000,2023-06-05 15:08:25.000000000,,"[{'_account_id': 6962}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 16:26:54.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/conf/workarounds.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/89c87923debfe6eb7b0fdd85787dd3f5841cd93f', 'message': 'Add disable_cpu_type_validation to skip cpu type validation.\n\nAdd disable_cpu_type_validation to skip cpu type validation as some\nearlier releases of libvirtd improperly report a cascadelake-server\nas a skylake-server architecutre.  This setting should only be used\nwhen hitting such known and reported scenarios.\n\nChange-Id: I8404c0a9c3e547ca0596fbd9f9a7e8c5ce8b2ad7\n'}]",4,838552,89c87923debfe6eb7b0fdd85787dd3f5841cd93f,14,3,1,7130,,,0,"Add disable_cpu_type_validation to skip cpu type validation.

Add disable_cpu_type_validation to skip cpu type validation as some
earlier releases of libvirtd improperly report a cascadelake-server
as a skylake-server architecutre.  This setting should only be used
when hitting such known and reported scenarios.

Change-Id: I8404c0a9c3e547ca0596fbd9f9a7e8c5ce8b2ad7
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/838552/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/conf/workarounds.py']",2,89c87923debfe6eb7b0fdd85787dd3f5841cd93f,workaround_cpu_type," cfg.BoolOpt('disable_cpu_type_validation', default=False, help="""""" If this is set, the cpu type validation will be skipped. This is a workaround that will allow nova-compute to skip CPU type validation for *all* live-migrations and should only be enabled when a known libvirt bug is hit. For example, when a host is reported as a skylake instead of cascasde lake in earlier releases of libvirt, it will prevent migrating such guests to the upgraded release of libvirt which reports the right CPU type. """"""),",,12,2
openstack%2Fpython-openstackclient~master~Ia376fec01b748b23fd6f572af56709bfc83f72ad,openstack/python-openstackclient,master,Ia376fec01b748b23fd6f572af56709bfc83f72ad,Allow to set uplink status on existing ports,NEW,2022-03-28 20:38:59.000000000,2023-06-05 15:04:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-03-28 20:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1c9ed0be4e2d5f8b7782339dfba04d2aea28babe', 'message': 'Allow to set uplink status on existing ports\n\nAllow to set uplink status on existing ports\n\nChange-Id: Ia376fec01b748b23fd6f572af56709bfc83f72ad\n'}, {'number': 2, 'created': '2022-03-29 14:30:19.000000000', 'files': ['openstackclient/network/v2/port.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/dea7ca1f2903dd689b7faeb97286e33d7dc92063', 'message': 'Allow to set uplink status on existing ports\n\nAllow to set uplink status on existing ports\n\nChange-Id: Ia376fec01b748b23fd6f572af56709bfc83f72ad\nDepends-on: https://review.opendev.org/c/openstack/neutron-lib/+/835637\n'}]",1,835515,dea7ca1f2903dd689b7faeb97286e33d7dc92063,5,1,2,7130,,,0,"Allow to set uplink status on existing ports

Allow to set uplink status on existing ports

Change-Id: Ia376fec01b748b23fd6f572af56709bfc83f72ad
Depends-on: https://review.opendev.org/c/openstack/neutron-lib/+/835637
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/15/835515/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/network/v2/port.py'],1,1c9ed0be4e2d5f8b7782339dfba04d2aea28babe,update_uplink_status," uplink_status_group = parser.add_mutually_exclusive_group() uplink_status_group.add_argument( '--enable-uplink-status-propagation', action='store_true', help=_(""Enable uplink status propagate"") ) uplink_status_group.add_argument( '--disable-uplink-status-propagation', action='store_true', help=_(""Disable uplink status propagate (default)"") )",,11,0
openstack%2Fheat~master~I095fdbd736d6e2f15e377c42478661c55c8c545c,openstack/heat,master,I095fdbd736d6e2f15e377c42478661c55c8c545c,Added tags property to neutron security_group resource,NEW,2022-04-12 14:13:35.000000000,2023-06-05 15:04:17.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-12 14:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/96a329156bd7f3730450b1752b814ec8c4e51e6e', 'message': 'Added tags property to neutron security_group resource\n\nAdded tags property to neutron security_group resource\n\nChange-Id: I095fdbd736d6e2f15e377c42478661c55c8c545c\n'}, {'number': 2, 'created': '2022-04-12 15:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ed303d98b19ab92cc87dba950786d0fda56628f3', 'message': 'Added tags property to neutron security_group resource\n\nAdded tags property to neutron security_group resource\n\nChange-Id: I095fdbd736d6e2f15e377c42478661c55c8c545c\n'}, {'number': 3, 'created': '2022-04-12 15:15:55.000000000', 'files': ['heat/engine/resources/openstack/neutron/security_group.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/acf2a6d4eb9a9e03b4ac211dbf7660593066de39', 'message': 'Added tags property to neutron security_group resource\n\nAdded tags property to neutron security_group resource\n\nChange-Id: I095fdbd736d6e2f15e377c42478661c55c8c545c\n'}]",4,837573,acf2a6d4eb9a9e03b4ac211dbf7660593066de39,8,2,3,7130,,,0,"Added tags property to neutron security_group resource

Added tags property to neutron security_group resource

Change-Id: I095fdbd736d6e2f15e377c42478661c55c8c545c
",git fetch https://review.opendev.org/openstack/heat refs/changes/73/837573/3 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/neutron/security_group.py'],1,96a329156bd7f3730450b1752b814ec8c4e51e6e,security_group_tags," NAME, DESCRIPTION, RULES, TAGS 'name', 'description', 'rules', 'tags' TAGS: properties.Schema( properties.Schema.LIST, _('List of tags.'), default=[], update_allowed=True ),"," NAME, DESCRIPTION, RULES, 'name', 'description', 'rules',",8,2
openstack%2Fneutron-lib~master~I47ed360b8baa5fa2c04979641790af91d01f7cf5,openstack/neutron-lib,master,I47ed360b8baa5fa2c04979641790af91d01f7cf5,Allow uplink_status_propagation update on existing ports,ABANDONED,2022-03-29 14:29:19.000000000,2023-06-05 15:03:24.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-29 14:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8d952405fe2fe00cde9432e68233ea6303703874', 'message': 'Allow uplink_status_propagation update on existing ports\n\nAllow uplink_status_propagation update on existing ports\n\nChange-Id: I47ed360b8baa5fa2c04979641790af91d01f7cf5\n'}, {'number': 2, 'created': '2022-03-29 14:58:54.000000000', 'files': ['neutron_lib/api/definitions/uplink_status_propagation.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7efa9de34ed5f1e16b456ef8b722200b862ff042', 'message': 'Allow uplink_status_propagation update on existing ports\n\nAllow uplink_status_propagation update on existing ports\n\nChange-Id: I47ed360b8baa5fa2c04979641790af91d01f7cf5\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/835643\n'}]",4,835637,7efa9de34ed5f1e16b456ef8b722200b862ff042,6,2,2,7130,,,0,"Allow uplink_status_propagation update on existing ports

Allow uplink_status_propagation update on existing ports

Change-Id: I47ed360b8baa5fa2c04979641790af91d01f7cf5
Depends-on: https://review.opendev.org/c/openstack/neutron/+/835643
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/37/835637/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/uplink_status_propagation.py'],1,8d952405fe2fe00cde9432e68233ea6303703874,uplink_prop_status," 'allow_put': True,"," 'allow_put': False,",1,1
openstack%2Fheat~master~I7d03c25c32e59254db412f27a78dcff5aae72ae4,openstack/heat,master,I7d03c25c32e59254db412f27a78dcff5aae72ae4,Add RULE_EXTRA_PROPERTY to security group rule resource,NEW,2022-04-12 14:27:20.000000000,2023-06-05 15:01:33.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-12 14:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cb0c7d992410f3568ba99a9a0b0b057e01ed16e1', 'message': 'Add RULE_EXTRA_PROPERTY to security group rule resource\n\nAdd RULE_EXTRA_PROPERTY to security group rule resource\n\nChange-Id: I7d03c25c32e59254db412f27a78dcff5aae72ae4\n'}, {'number': 2, 'created': '2022-04-12 14:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/687f9c08cb50db46e434b3a77bfaeace4ce8bbc0', 'message': 'Add RULE_EXTRA_PROPERTY to security group rule resource\n\nAdd RULE_EXTRA_PROPERTY to security group rule resource\n\nChange-Id: I7d03c25c32e59254db412f27a78dcff5aae72ae4\n'}, {'number': 3, 'created': '2022-04-12 15:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fc2cd734160393fb39b39ab411ea0443c1480764', 'message': 'Add RULE_EXTRA_PROPERTY to security group rule resource\n\nAdd RULE_EXTRA_PROPERTY to security group rule resource\n\nChange-Id: I7d03c25c32e59254db412f27a78dcff5aae72ae4\n'}, {'number': 4, 'created': '2022-04-12 15:16:17.000000000', 'files': ['heat/engine/resources/openstack/neutron/security_group_rule.py', 'heat/engine/resources/openstack/neutron/security_group.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/cd20c30392a9b44f0acfb67babcc4182c8304383', 'message': 'Add RULE_EXTRA_PROPERTY to security group rule resource\n\nAdd RULE_EXTRA_PROPERTY to security group rule resource\n\nChange-Id: I7d03c25c32e59254db412f27a78dcff5aae72ae4\n'}]",2,837578,cd20c30392a9b44f0acfb67babcc4182c8304383,9,2,4,7130,,,0,"Add RULE_EXTRA_PROPERTY to security group rule resource

Add RULE_EXTRA_PROPERTY to security group rule resource

Change-Id: I7d03c25c32e59254db412f27a78dcff5aae72ae4
",git fetch https://review.opendev.org/openstack/heat refs/changes/78/837578/4 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/neutron/security_group.py'],1,cb0c7d992410f3568ba99a9a0b0b057e01ed16e1,security_group_rule_extra_properties," RULE_REMOTE_GROUP_ID, RULE_REMOTE_IP_PREFIX, RULE_EXTRA_PROPERTY 'remote_group_id', 'remote_ip_prefix', 'extra_property' RULE_EXTRA_PROPERTY: properties.Schema( properties.Schema.STRING, _('Additional parameters can be passed using this property. ') ),"," RULE_REMOTE_GROUP_ID, RULE_REMOTE_IP_PREFIX, 'remote_group_id', 'remote_ip_prefix',",6,2
openstack%2Fheat~master~I518cb5eb6cc2469c8104f3e60f64237d43940d69,openstack/heat,master,I518cb5eb6cc2469c8104f3e60f64237d43940d69,Added security group rule description in security group,NEW,2022-04-12 14:45:15.000000000,2023-06-05 15:00:59.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-12 14:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4271ad14a17336e8ca76fff461c542430dd8ee61', 'message': 'Added security group rule description in security group\n\nAdded security group rule description in security group resource.\n\nChange-Id: I518cb5eb6cc2469c8104f3e60f64237d43940d69\n'}, {'number': 2, 'created': '2022-04-12 15:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/14ca688666b051bcf04bf9f98f62f051eeab3c5c', 'message': 'Added security group rule description in security group\n\nAdded security group rule description in security group resource.\n\nChange-Id: I518cb5eb6cc2469c8104f3e60f64237d43940d69\n'}, {'number': 3, 'created': '2022-04-12 15:16:39.000000000', 'files': ['heat/engine/resources/openstack/neutron/security_group.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ad5c4ff7443bbd1cb9fa731d094657d5313ab8a9', 'message': 'Added security group rule description in security group\n\nAdded security group rule description in security group resource.\n\nChange-Id: I518cb5eb6cc2469c8104f3e60f64237d43940d69\n'}]",4,837581,ad5c4ff7443bbd1cb9fa731d094657d5313ab8a9,8,2,3,7130,,,0,"Added security group rule description in security group

Added security group rule description in security group resource.

Change-Id: I518cb5eb6cc2469c8104f3e60f64237d43940d69
",git fetch https://review.opendev.org/openstack/heat refs/changes/81/837581/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/neutron/security_group.py'],1,4271ad14a17336e8ca76fff461c542430dd8ee61,security_group_description," RULE_DESCRIPTION, RULE_DIRECTION, RULE_ETHERTYPE, RULE_PORT_RANGE_MIN, 'description', 'direction', 'ethertype', 'port_range_min', RULE_DESCRIPTION: properties.Schema( properties.Schema.STRING, _('Description of the security group rule.'), update_allowed=True ),"," RULE_DIRECTION, RULE_ETHERTYPE, RULE_PORT_RANGE_MIN, 'direction', 'ethertype', 'port_range_min',",7,2
openstack%2Fnova~stable%2Fvictoria~Ia593b500425c81e54eb401e38264db5cc5fc1f93,openstack/nova,stable/victoria,Ia593b500425c81e54eb401e38264db5cc5fc1f93,libvirt: Abort live-migration job when monitoring fails,NEW,2022-04-11 19:24:11.000000000,2023-06-05 15:00:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-11 19:24:11.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/59d000202af5eb23270454547b7fb18c318b1172', 'message': 'libvirt: Abort live-migration job when monitoring fails\n\nDuring live migration process, a _live_migration_monitor thread\nchecks progress of migration on source host, if for any reason\nwe hit infrastructure issue involving a DB/RPC/libvirt-timeout\nfailure, an Exception is raised to the nova-compute service and\ninstance/migration is set to ERROR state.\n\nThe issue is that we may let live-migration job running out of nova\ncontrol. At the end of job, guest is resumed on target host while\nnova still reports it on source host, this may lead to a split-brain\nsituation if instance is restarted.\n\nThis change proposes to abort live-migration job if issue occurs\nduring _live_migration_monitor.\n\nChange-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93\nCloses-Bug: #1905944\n(cherry picked from commit 39f0af5d18d6bea34fa15b8f7778115b25432749)\n'}]",1,837321,59d000202af5eb23270454547b7fb18c318b1172,8,1,1,7130,,,0,"libvirt: Abort live-migration job when monitoring fails

During live migration process, a _live_migration_monitor thread
checks progress of migration on source host, if for any reason
we hit infrastructure issue involving a DB/RPC/libvirt-timeout
failure, an Exception is raised to the nova-compute service and
instance/migration is set to ERROR state.

The issue is that we may let live-migration job running out of nova
control. At the end of job, guest is resumed on target host while
nova still reports it on source host, this may lead to a split-brain
situation if instance is restarted.

This change proposes to abort live-migration job if issue occurs
during _live_migration_monitor.

Change-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93
Closes-Bug: #1905944
(cherry picked from commit 39f0af5d18d6bea34fa15b8f7778115b25432749)
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/837321/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,59d000202af5eb23270454547b7fb18c318b1172,bug/1905944," @mock.patch.object(libvirt_driver.LibvirtDriver, ""live_migration_abort"") def _test_live_migration_main(self, mock_abort, mock_copy_disk_path, mock_running, mock_guest, mock_monitor, mock_thread, mock_conn, mon_side_effect=None): mock_monitor.side_effect = mon_side_effect if mon_side_effect: self.assertRaises(mon_side_effect, drvr._live_migration, self.context, instance, ""fakehost"", fake_post, fake_recover, True, migrate_data) mock_abort.assert_called_once_with(instance) else: drvr._live_migration(self.context, instance, ""fakehost"", fake_post, fake_recover, True, migrate_data) def test_live_migration_main(self): self._test_live_migration_main() def test_live_migration_main_monitoring_failed(self): self._test_live_migration_main(mon_side_effect=Exception) "," def test_live_migration_main(self, mock_copy_disk_path, mock_running, mock_guest, mock_monitor, mock_thread, mock_conn): drvr._live_migration(self.context, instance, ""fakehost"", fake_post, fake_recover, True, migrate_data)",33,6
openstack%2Fcinder~stable%2Ftrain~Ib6a2e4d68e532b91161df5245c17ce815f12f935,openstack/cinder,stable/train,Ib6a2e4d68e532b91161df5245c17ce815f12f935,Prevent temporal volume for backup from being deleted,NEW,2022-02-28 17:55:38.000000000,2023-06-05 14:59:44.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-28 17:55:38.000000000', 'files': ['cinder/volume/driver.py', 'cinder/tests/unit/volume/test_driver.py', 'cinder/tests/unit/backup/test_backup.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c23ed12fa4e3a729f3aef564102bb38a69780e3a', 'message': ""Prevent temporal volume for backup from being deleted\n\nThis change sets 'backing-up' to a volume state of a temporal volume for\nbackup instead of 'available'. This prevents the temporal volume from\nbeing deleted during backup by DELETE API.\n\nChange-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935\n""}]",2,831250,c23ed12fa4e3a729f3aef564102bb38a69780e3a,15,2,1,7130,,,0,"Prevent temporal volume for backup from being deleted

This change sets 'backing-up' to a volume state of a temporal volume for
backup instead of 'available'. This prevents the temporal volume from
being deleted during backup by DELETE API.

Change-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/831250/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/driver.py', 'cinder/tests/unit/volume/test_driver.py', 'cinder/tests/unit/backup/test_backup.py']",3,c23ed12fa4e3a729f3aef564102bb38a69780e3a,backup-temp-volume-stable/xena-stable/wallaby-stable/victoria-stable/ussuri-stable/train," self.assertEqual('backing-up', temp_vol['status']) self.assertEqual('backing-up', temp_vol['status'])"," self.assertEqual('available', temp_vol['status']) self.assertEqual('available', temp_vol['status'])",6,6
openstack%2Ftripleo-heat-templates~master~I8a52bf43c01d0471cedc796437dde1deb4c25bdf,openstack/tripleo-heat-templates,master,I8a52bf43c01d0471cedc796437dde1deb4c25bdf,Add Mysql WSREP SST method override,NEW,2021-11-22 14:38:27.000000000,2023-06-05 14:57:39.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 18575}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-22 14:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/789f17538d8c4c5806cb899a82d6b246140f3858', 'message': 'Add Mysql WSREP SST method override\n\nAdd Mysql WSREP SST method override .  Some customers have been using\nmariabackup since 2019 without any issues and we have no ways of\noverriding this.\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-tripleo/+/818776\nChange-Id: I8a52bf43c01d0471cedc796437dde1deb4c25bdf\n'}, {'number': 2, 'created': '2021-11-23 12:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dbe09da115f53b44dc2240a9dd5fb2afd7d091ab', 'message': 'Add Mysql WSREP SST method override\n\nAdd Mysql WSREP SST method override .  Some customers have been using\nmariabackup since 2019 without any issues and we have no ways of\noverriding this.\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-tripleo/+/818776\nChange-Id: I8a52bf43c01d0471cedc796437dde1deb4c25bdf\n'}, {'number': 3, 'created': '2021-11-23 13:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ccee08655fa302a70764cc1d82b65426a814ae79', 'message': 'Add Mysql WSREP SST method override\n\nAdd Mysql WSREP SST method override .  Some customers have been using\nmariabackup since 2019 without any issues and we have no ways of\noverriding this.\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-tripleo/+/818776\nChange-Id: I8a52bf43c01d0471cedc796437dde1deb4c25bdf\n'}, {'number': 4, 'created': '2021-11-23 13:26:48.000000000', 'files': ['deployment/database/mysql-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7363026d1b77cbe38cab4b5cd56c4d7444853d99', 'message': 'Add Mysql WSREP SST method override\n\nAdd Mysql WSREP SST method override .  Some customers have been using\nmariabackup since 2019 without any issues and we have no ways of\noverriding this.\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-tripleo/+/818776\nChange-Id: I8a52bf43c01d0471cedc796437dde1deb4c25bdf\n'}]",15,818779,7363026d1b77cbe38cab4b5cd56c4d7444853d99,24,8,4,7130,,,0,"Add Mysql WSREP SST method override

Add Mysql WSREP SST method override .  Some customers have been using
mariabackup since 2019 without any issues and we have no ways of
overriding this.

Depends-on: https://review.opendev.org/c/openstack/puppet-tripleo/+/818776
Change-Id: I8a52bf43c01d0471cedc796437dde1deb4c25bdf
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/818779/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/mysql-pacemaker-puppet.yaml'],1,789f17538d8c4c5806cb899a82d6b246140f3858,change-818779," MysqlWsrepSstMethod: default: '' type: string description: > Specify the MySQL WSREP SST method used for syncing cluster constraints: - allowed_values: ['rsync', 'rsync_tunnel', 'mariabackup', ''] - if: - {get_param: MysqlWsrepSstMethod} - tripleo::profile::pacemaker::database::mysql_bundle::wsrep_sst_method: {get_param: MysqlWsrepSstMethod} - null - tripleo::profile::pacemaker::database::mysql_bundle::bind_address:", tripleo::profile::pacemaker::database::mysql_bundle::bind_address:,12,1
openstack%2Fpython-tripleoclient~stable%2Ftrain~I89d85b9ef846aa7bb71c9f0b1a07bea87b97a82b,openstack/python-tripleoclient,stable/train,I89d85b9ef846aa7bb71c9f0b1a07bea87b97a82b,Improve tripleo-validations hook in undercloud preflight,NEW,2022-03-03 14:25:25.000000000,2023-06-05 14:55:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-03-03 14:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c505ab19ca0a799f7422cf7dff227ba12e5d4bed', 'message': ""Improve tripleo-validations hook in undercloud preflight\n\nImprove tripleo-validations hook in undercloud preflight checks.\nPreviously, this would only run undercloud disk usage checks but\nnow it's used to validate libvirtd service state too.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-validations/+/831759\nChange-Id: I89d85b9ef846aa7bb71c9f0b1a07bea87b97a82b\n(cherry picked from commit 0c48816539c185b2dbfd8297b34d2b3ac455d8db)\n""}, {'number': 2, 'created': '2022-03-03 14:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d466e12f770d810cad1604b6534218ce73fe04d6', 'message': ""Improve tripleo-validations hook in undercloud preflight\n\nImprove tripleo-validations hook in undercloud preflight checks.\nPreviously, this would only run undercloud disk usage checks but\nnow it's used to validate libvirtd service state too.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-validations/+/831761\nChange-Id: I89d85b9ef846aa7bb71c9f0b1a07bea87b97a82b\n(cherry picked from commit 0c48816539c185b2dbfd8297b34d2b3ac455d8db)\n""}, {'number': 3, 'created': '2022-06-20 15:36:30.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3dba642a7867df98396e86b986f0a63b1fd6e56c', 'message': ""Improve tripleo-validations hook in undercloud preflight\n\nImprove tripleo-validations hook in undercloud preflight checks.\nPreviously, this would only run undercloud disk usage checks but\nnow it's used to validate libvirtd service state too.\n\nConflicts:\n\ttripleoclient/constants.py\n\ttripleoclient/v1/undercloud_preflight.py\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-validations/+/831761\nChange-Id: I89d85b9ef846aa7bb71c9f0b1a07bea87b97a82b\n(cherry picked from commit 0c48816539c185b2dbfd8297b34d2b3ac455d8db)\n""}]",132,831762,3dba642a7867df98396e86b986f0a63b1fd6e56c,6,2,3,7130,,,0,"Improve tripleo-validations hook in undercloud preflight

Improve tripleo-validations hook in undercloud preflight checks.
Previously, this would only run undercloud disk usage checks but
now it's used to validate libvirtd service state too.

Conflicts:
	tripleoclient/constants.py
	tripleoclient/v1/undercloud_preflight.py

Depends-on: https://review.opendev.org/c/openstack/tripleo-validations/+/831761
Change-Id: I89d85b9ef846aa7bb71c9f0b1a07bea87b97a82b
(cherry picked from commit 0c48816539c185b2dbfd8297b34d2b3ac455d8db)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/62/831762/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/v1/undercloud_preflight.py']",2,c505ab19ca0a799f7422cf7dff227ba12e5d4bed,libvirt_val-stable/wallaby-stable/victoria-stable/ussuri-stable/train,"def _run_validations(upgrade=False): """"""Run tripleo-validations playbook This runs simple ansible playbooks located in tripleo-validations There are currently three playbooks: - undercloud-disabled-services.yaml Third one checks for services that should be disabled on the undercloud.<<<<<<< HEAD (a19104 Merge ""Revert ""[TRAIN-ONLY] Fix inventory path when upgradin)======= validation_name=playbook_args['playbooks']) >>>>>>> CHANGE (87663c Improve tripleo-validations hook in undercloud preflight) _run_validations(upgrade)","def _check_diskspace(upgrade=False): """"""Check undercloud disk space This runs a simple ansible playbook located in tripleo-validations There are currently two playbooks: _check_diskspace(upgrade)",37,5
openstack%2Ftripleo-heat-templates~master~Ic21c19bd9a032cdefb6230b4a38be4cb87132479,openstack/tripleo-heat-templates,master,Ic21c19bd9a032cdefb6230b4a38be4cb87132479,Add BootFromMultipathDevice parameter,NEW,2022-02-21 21:01:40.000000000,2023-06-05 14:55:06.000000000,,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-21 21:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a50ad36c251cca134f8cc271e68eff99b979e1a5', 'message': 'Add BootFromMultipathDevice parameter\n\nAdd BootFromMultipathDevice to add the multipath dracut module and\nrefresh dracut in order to allow diskless servers to be able to use\nmultipath on the booted disk.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/830284\nChange-Id: Ic21c19bd9a032cdefb6230b4a38be4cb87132479\n'}, {'number': 2, 'created': '2022-02-21 21:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a4c578859bfb4ba6e98994f7c9d651f17711721', 'message': 'Add BootFromMultipathDevice parameter\n\nAdd BootFromMultipathDevice to add the multipath dracut module and\nrefresh dracut in order to allow diskless servers to be able to use\nmultipath on the booted disk.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/830284\nChange-Id: Ic21c19bd9a032cdefb6230b4a38be4cb87132479\n'}, {'number': 3, 'created': '2022-02-21 21:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4de68d672c4be9ba91b69bde6e43db9625910fa', 'message': 'Add BootFromMultipathDevice parameter\n\nAdd BootFromMultipathDevice to add the multipath dracut module and\nrefresh dracut in order to allow diskless servers to be able to use\nmultipath on the booted disk.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/830284\nChange-Id: Ic21c19bd9a032cdefb6230b4a38be4cb87132479\n'}, {'number': 4, 'created': '2022-02-22 00:43:51.000000000', 'files': ['deployment/multipathd/multipathd-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f32a8ead02df250f2ee96c1bc4352401f1d55d6a', 'message': 'Add BootFromMultipathDevice parameter\n\nAdd BootFromMultipathDevice to add the multipath dracut module and\nrefresh dracut in order to allow diskless servers to be able to use\nmultipath on the booted disk.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/830284\nChange-Id: Ic21c19bd9a032cdefb6230b4a38be4cb87132479\n'}]",5,830286,f32a8ead02df250f2ee96c1bc4352401f1d55d6a,16,5,4,7130,,,0,"Add BootFromMultipathDevice parameter

Add BootFromMultipathDevice to add the multipath dracut module and
refresh dracut in order to allow diskless servers to be able to use
multipath on the booted disk.

Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/830284
Change-Id: Ic21c19bd9a032cdefb6230b4a38be4cb87132479
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/830286/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/multipathd/multipathd-container-ansible.yaml'],1,a50ad36c251cca134f8cc271e68eff99b979e1a5,multipathd, BootFromMultipathDevice: default: false description: Whether to boot from multipathed device (dracut) type: boolean tripleo_boot_from_multipath_device: {get_param: BootFromMultipathDevice},,5,0
openstack%2Fnova~master~Ic00c195487b72c4bb6e71b46557e8b65c44f5706,openstack/nova,master,Ic00c195487b72c4bb6e71b46557e8b65c44f5706,Inject passwords in an instance rescue call,NEW,2023-05-30 00:41:05.000000000,2023-06-05 14:52:08.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 00:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22bd8682b3a69d1f7265f9e11f75703dd3d5e82b', 'message': 'Inject passwords in a rescue call\n\nInject passwords in a rescue call as this is only allowed by the\nadmin or a user and requires console access.\n\nChange-Id: Ic00c195487b72c4bb6e71b46557e8b65c44f5706\n'}, {'number': 2, 'created': '2023-05-30 00:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6a29bd2e7831244bc0ec2f2fc9f4bde86d084c4', 'message': 'Inject passwords in a rescue call\n\nInject passwords in a rescue call as this is only allowed by the\nadmin or a user and requires console access.\n\nChange-Id: Ic00c195487b72c4bb6e71b46557e8b65c44f5706\n'}, {'number': 3, 'created': '2023-05-30 00:55:52.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c067aee0de933a8af5fce6384fb21498b8408b02', 'message': 'Inject passwords in an instance rescue call\n\nInject passwords in an instance rescue call as this is only allowed by the\nadmin or a user and requires console access.   At this time, in order to\nrescue a guest, either the owner needs to do it or the admin rescuing\nthe guest needs to have the private key used by the owner of the guest.\nIn many cases, admins are in charge of guest recovery and this would\nallow them to use the automatically generated password in order to\nrecover the guest through console.\n\nChange-Id: Ic00c195487b72c4bb6e71b46557e8b65c44f5706\n'}]",2,884647,c067aee0de933a8af5fce6384fb21498b8408b02,11,2,3,7130,,,0,"Inject passwords in an instance rescue call

Inject passwords in an instance rescue call as this is only allowed by the
admin or a user and requires console access.   At this time, in order to
rescue a guest, either the owner needs to do it or the admin rescuing
the guest needs to have the private key used by the owner of the guest.
In many cases, admins are in charge of guest recovery and this would
allow them to use the automatically generated password in order to
recover the guest through console.

Change-Id: Ic00c195487b72c4bb6e71b46557e8b65c44f5706
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/884647/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,22bd8682b3a69d1f7265f9e11f75703dd3d5e82b,rescue," def _inject_data(self, disk, instance, injection_info, inject_partition): target_partition = inject_partition (CONF.libvirt.inject_partition != -2 or suffix == '.rescue') if need_inject and suffix == '.rescue' and CONF.libvirt.inject_partition == -2: inject_partition = -1 else: inject_partition = CONF.libvirt.inject_partition self._inject_data(backend, instance, injection_info, inject_partition)"," def _inject_data(self, disk, instance, injection_info): target_partition = CONF.libvirt.inject_partition CONF.libvirt.inject_partition != -2) self._inject_data(backend, instance, injection_info)",8,4
openstack%2Fci-log-processing~master~Ie2fbde3bf7946a3aa84bfd60f87616afa0510033,openstack/ci-log-processing,master,Ie2fbde3bf7946a3aa84bfd60f87616afa0510033,Remove build dirs with missing files; add more debug logs,MERGED,2023-05-04 10:27:00.000000000,2023-06-05 14:50:02.000000000,2023-06-05 14:49:06.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 9311}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-04 10:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/92c94de260f253ed040b7e5d0d0c7b0a1bdef18e', 'message': 'Remove build dirs with missing files\n\nIt is very rary, but still from time to time there are some build\ndirectories, that does not contain necessary files and can not be\nproceded by the logsender.\nThis commit will provide a file with a timestamp, when the build\ndirectory can not be processed by logsender and if after 12 hours nothing\nchanged, dir would be removed.\n\nChange-Id: Ie2fbde3bf7946a3aa84bfd60f87616afa0510033\n'}, {'number': 2, 'created': '2023-05-04 12:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/1d0e9190e2632feea9f45803ef05ea91e0c6c19f', 'message': 'Remove build dirs with missing files\n\nIt is very rary, but still from time to time there are some build\ndirectories, that does not contain necessary files and can not be\nproceded by the logsender.\nThis commit will provide a file with a timestamp, when the build\ndirectory can not be processed by logsender and if after 12 hours nothing\nchanged, dir would be removed.\n\nChange-Id: Ie2fbde3bf7946a3aa84bfd60f87616afa0510033\n'}, {'number': 3, 'created': '2023-05-04 12:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/c7979475fdec722dd8272c53373efb85a56b9ced', 'message': 'Remove build dirs with missing files; add more debug logs\n\nIt is very rary, but still from time to time there are some build\ndirectories, that does not contain necessary files and can not be\nproceded by the logsender.\nThis commit will provide a file with a timestamp, when the build\ndirectory can not be processed by logsender and if after 12 hours nothing\nchanged, dir would be removed.\nAlso added more debug logs to see, what files are empty and skipped or\nif buildinfo file is created properly.\n\nChange-Id: Ie2fbde3bf7946a3aa84bfd60f87616afa0510033\n'}, {'number': 4, 'created': '2023-05-04 13:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/257d4f9424e5fb69978988ec8d895cc4cb923fd5', 'message': 'Remove build dirs with missing files; add more debug logs\n\nIt is very rary, but still from time to time there are some build\ndirectories, that does not contain necessary files and can not be\nproceded by the logsender.\nThis commit will provide a file with a timestamp, when the build\ndirectory can not be processed by logsender and if after 12 hours nothing\nchanged, dir would be removed.\nAlso added more debug logs to see, what files are empty and skipped or\nif buildinfo file is created properly.\n\nChange-Id: Ie2fbde3bf7946a3aa84bfd60f87616afa0510033\n'}, {'number': 5, 'created': '2023-05-30 11:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/82f3b1cf1534b87b83850dd73ee3af1a3811f7e3', 'message': 'Remove build dirs with missing files; add more debug logs\n\nIt is very rary, but still from time to time there are some build\ndirectories, that does not contain necessary files and can not be\nproceded by the logsender.\nThis commit will provide a file with a timestamp, when the build\ndirectory can not be processed by logsender and if after 12 hours nothing\nchanged, dir would be removed.\nAlso added more debug logs to see, what files are empty and skipped or\nif buildinfo file is created properly.\n\nChange-Id: Ie2fbde3bf7946a3aa84bfd60f87616afa0510033\n'}, {'number': 6, 'created': '2023-06-01 13:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/0aaddbe7711ef4ce3bac36098fa7072f45611463', 'message': 'Remove build dirs with missing files; add more debug logs\n\nIt is very rary, but still from time to time there are some build\ndirectories, that does not contain necessary files and can not be\nproceded by the logsender.\nThis commit will provide a file with a timestamp, when the build\ndirectory can not be processed by logsender and if after 12 hours nothing\nchanged, dir would be removed.\nAlso added more debug logs to see, what files are empty and skipped or\nif buildinfo file is created properly.\n\nChange-Id: Ie2fbde3bf7946a3aa84bfd60f87616afa0510033\n'}, {'number': 7, 'created': '2023-06-02 12:43:38.000000000', 'files': ['logscraper/tests/test_logsender.py', 'logscraper/logsender.py', 'logscraper/logscraper.py'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/09bb33c0df2351965b65d286685655a26fa1475e', 'message': 'Remove build dirs with missing files; add more debug logs\n\nIt is very rary, but still from time to time there are some build\ndirectories, that does not contain necessary files and can not be\nproceded by the logsender.\nThis commit will provide a file with a timestamp, when the build\ndirectory can not be processed by logsender and if after 12 hours nothing\nchanged, dir would be removed.\nAlso added more debug logs to see, what files are empty and skipped or\nif buildinfo file is created properly.\n\nChange-Id: Ie2fbde3bf7946a3aa84bfd60f87616afa0510033\n'}]",17,882270,09bb33c0df2351965b65d286685655a26fa1475e,32,5,7,20676,,,0,"Remove build dirs with missing files; add more debug logs

It is very rary, but still from time to time there are some build
directories, that does not contain necessary files and can not be
proceded by the logsender.
This commit will provide a file with a timestamp, when the build
directory can not be processed by logsender and if after 12 hours nothing
changed, dir would be removed.
Also added more debug logs to see, what files are empty and skipped or
if buildinfo file is created properly.

Change-Id: Ie2fbde3bf7946a3aa84bfd60f87616afa0510033
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/70/882270/6 && git format-patch -1 --stdout FETCH_HEAD,['logscraper/logsender.py'],1,92c94de260f253ed040b7e5d0d0c7b0a1bdef18e,,"def remove_old_dir(root, build_uuid): build_dir_path = ""%s/%s"" % (root, build_uuid) ts_now = datetime.datetime.utcnow() file_datetime = None if os.path.exists(build_dir_path): with open(""%s/skip_date"" % build_dir_path, ""r"") as f: timestamp = f.read().strip() file_datetime = datetime.datetime.utcfromtimestamp(float(timestamp)) if file_datetime and (ts_now - datetime.timedelta( hours=12) > file_datetime): logging.warning(""Some files are still missing for %s and nothing "" ""changed for 12 hours."" % build_uuid) remove_directory(build_dir_path) with open(""%s/skip_counter"" % build_dir_path, ""w"") as f: f.write(str(ts_now.timestamp())) remove_old_dir(root, build_uuid)", continue,20,1
openstack%2Ftripleo-common~master~I46474baef50907c9a0c52e9814fa541a08872c63,openstack/tripleo-common,master,I46474baef50907c9a0c52e9814fa541a08872c63,Allow an operator to use complex passwords in keystone,NEW,2023-05-26 15:00:49.000000000,2023-06-05 14:45:09.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 15:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c5e693439e483cbd03205e857b69019dbc26b644', 'message': 'Allow an operator to use complex passwords in keystone\n\nAs it is, tripleo generated keystone passwords are only using ascii_60\nbut PCI-DSS and some other standards requires the use of special symbols\nwhich is provided by ascii_72.\n\nChange-Id: I46474baef50907c9a0c52e9814fa541a08872c63\n'}, {'number': 2, 'created': '2023-05-26 18:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/de608b57c84b45c8774cf402cd0c306b1e61dce5', 'message': 'Allow an operator to use complex passwords in keystone\n\nAs it is, tripleo generated keystone passwords are only using ascii_60\nbut PCI-DSS and some other standards requires the use of special symbols\nwhich is provided by ascii_72.\n\nChange-Id: I46474baef50907c9a0c52e9814fa541a08872c63\n'}, {'number': 3, 'created': '2023-05-26 18:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/89ba779435c1f0e026f47f9c9ce85279f4ccadb8', 'message': 'Allow an operator to use complex passwords in keystone\n\nAs it is, tripleo generated keystone passwords are only using ascii_60\nbut PCI-DSS and some other standards requires the use of special symbols\nwhich is provided by ascii_72.\n\nChange-Id: I46474baef50907c9a0c52e9814fa541a08872c63\n'}, {'number': 4, 'created': '2023-05-26 18:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d139cd2a911cebe4cd679071a00d52cc9abd6076', 'message': 'Allow an operator to use complex passwords in keystone\n\nAs it is, tripleo generated keystone passwords are only using ascii_60\nbut PCI-DSS and some other standards requires the use of special symbols\nwhich is provided by ascii_72.\n\nChange-Id: I46474baef50907c9a0c52e9814fa541a08872c63\n'}, {'number': 5, 'created': '2023-05-26 23:51:30.000000000', 'files': ['releasenotes/notes/use_complex_passwords_in_keystone-39cd70c625c7ffd7.yaml', 'tripleo_common/utils/passwords.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ecb5fc730d86dd1b6f89a68e2179dfad062881bf', 'message': 'Allow an operator to use complex passwords in keystone\n\nAs it is, tripleo generated keystone passwords are only using ascii_60\nbut PCI-DSS and some other standards requires the use of special symbols\nwhich is provided by ascii_72.\n\nChange-Id: I46474baef50907c9a0c52e9814fa541a08872c63\n'}]",18,884512,ecb5fc730d86dd1b6f89a68e2179dfad062881bf,15,2,5,7130,,,0,"Allow an operator to use complex passwords in keystone

As it is, tripleo generated keystone passwords are only using ascii_60
but PCI-DSS and some other standards requires the use of special symbols
which is provided by ascii_72.

Change-Id: I46474baef50907c9a0c52e9814fa541a08872c63
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/12/884512/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/passwords.py'],1,c5e693439e483cbd03205e857b69019dbc26b644,complexpassword," use_complex_passwords = stack_env.get('parameter_defaults', {}) \ .get('UseComplexPasswords', False) if use_complex_passwords: password_charset = 'ascii_72' else: password_charset = 'ascii_62' passwords[name] = passlib.pwd.genword(length=_MIN_PASSWORD_SIZE, charset=password_charset)", passwords[name] = passlib.pwd.genword(length=_MIN_PASSWORD_SIZE),7,1
